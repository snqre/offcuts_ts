var RE=Object.create;var{getPrototypeOf:kE,defineProperty:IJ,getOwnPropertyNames:xE}=Object;var bE=Object.prototype.hasOwnProperty;var i=(Y,Q,N)=>{N=Y!=null?RE(kE(Y)):{};let $=Q||!Y||!Y.__esModule?IJ(N,"default",{value:Y,enumerable:!0}):N;for(let K of xE(Y))if(!bE.call($,K))IJ($,K,{get:()=>Y[K],enumerable:!0});return $};var B5=(Y,Q)=>()=>(Q||Y((Q={exports:{}}).exports,Q),Q.exports);var vE=(Y,Q)=>{for(var N in Q)IJ(Y,N,{get:Q[N],enumerable:!0,configurable:!0,set:($)=>Q[N]=()=>$})};var f0=B5((hE,K2)=>{(function(){function Y(w,C){Object.defineProperty($.prototype,w,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",C[0],C[1])}})}function Q(w){if(w===null||typeof w!=="object")return null;return w=i0&&w[i0]||w["@@iterator"],typeof w==="function"?w:null}function N(w,C){w=(w=w.constructor)&&(w.displayName||w.name)||"ReactClass";var u=w+"."+C;kG[u]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",C,w),kG[u]=!0)}function $(w,C,u){this.props=w,this.context=C,this.refs=Z0,this.updater=u||n5}function K(){}function U(w,C,u){this.props=w,this.context=C,this.refs=Z0,this.updater=u||n5}function _(w){return""+w}function L(w){try{_(w);var C=!1}catch(B0){C=!0}if(C){C=console;var u=C.error,o=typeof Symbol==="function"&&Symbol.toStringTag&&w[Symbol.toStringTag]||w.constructor.name||"Object";return u.call(C,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",o),_(w)}}function O(w){if(w==null)return null;if(typeof w==="function")return w.$$typeof===s0?null:w.displayName||w.name||null;if(typeof w==="string")return w;switch(w){case KW:return"Fragment";case uW:return"Portal";case U9:return"Profiler";case h9:return"StrictMode";case y0:return"Suspense";case _9:return"SuspenseList"}if(typeof w==="object")switch(typeof w.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),w.$$typeof){case H9:return(w.displayName||"Context")+".Provider";case pW:return(w._context.displayName||"Context")+".Consumer";case UW:var C=w.render;return w=w.displayName,w||(w=C.displayName||C.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case HW:return C=w.displayName||null,C!==null?C:O(w.type)||"Memo";case H5:C=w._payload,w=w._init;try{return O(w(C))}catch(u){}}return null}function V(w){return typeof w==="string"||typeof w==="function"||w===KW||w===U9||w===h9||w===y0||w===_9||w===xZ||typeof w==="object"&&w!==null&&(w.$$typeof===H5||w.$$typeof===HW||w.$$typeof===H9||w.$$typeof===pW||w.$$typeof===UW||w.$$typeof===qW||w.getModuleId!==void 0)?!0:!1}function E(){}function A(){if(G1===0){cW=console.log,w9=console.info,_W=console.warn,O9=console.error,y1=console.group,E8=console.groupCollapsed,QY=console.groupEnd;var w={configurable:!0,enumerable:!0,value:E,writable:!0};Object.defineProperties(console,{info:w,log:w,warn:w,error:w,group:w,groupCollapsed:w,groupEnd:w})}G1++}function q(){if(G1--,G1===0){var w={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:j({},w,{value:cW}),info:j({},w,{value:w9}),warn:j({},w,{value:_W}),error:j({},w,{value:O9}),group:j({},w,{value:y1}),groupCollapsed:j({},w,{value:E8}),groupEnd:j({},w,{value:QY})})}0>G1&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function R(w){if(bZ===void 0)try{throw Error()}catch(u){var C=u.stack.trim().match(/\n( *(at )?)/);bZ=C&&C[1]||"",JY=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bZ+w+JY}function M(w,C){if(!w||vZ)return"";var u=fZ.get(w);if(u!==void 0)return u;vZ=!0,u=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var o=null;o=a.H,a.H=null,A();try{var B0={DetermineComponentFrameRoot:function(){try{if(C){var wW=function(){throw Error()};if(Object.defineProperty(wW.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(wW,[])}catch(lW){var bG=lW}Reflect.construct(w,[],wW)}else{try{wW.call()}catch(lW){bG=lW}w.call(wW.prototype)}}else{try{throw Error()}catch(lW){bG=lW}(wW=w())&&typeof wW.catch==="function"&&wW.catch(function(){})}}catch(lW){if(lW&&bG&&typeof lW.stack==="string")return[lW.stack,bG.stack]}return[null,null]}};B0.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z0=Object.getOwnPropertyDescriptor(B0.DetermineComponentFrameRoot,"name");z0&&z0.configurable&&Object.defineProperty(B0.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q0=B0.DetermineComponentFrameRoot(),g0=Q0[0],A0=Q0[1];if(g0&&A0){var J1=g0.split(`
`),g1=A0.split(`
`);for(Q0=z0=0;z0<J1.length&&!J1[z0].includes("DetermineComponentFrameRoot");)z0++;for(;Q0<g1.length&&!g1[Q0].includes("DetermineComponentFrameRoot");)Q0++;if(z0===J1.length||Q0===g1.length)for(z0=J1.length-1,Q0=g1.length-1;1<=z0&&0<=Q0&&J1[z0]!==g1[Q0];)Q0--;for(;1<=z0&&0<=Q0;z0--,Q0--)if(J1[z0]!==g1[Q0]){if(z0!==1||Q0!==1)do if(z0--,Q0--,0>Q0||J1[z0]!==g1[Q0]){var p9=`
`+J1[z0].replace(" at new "," at ");return w.displayName&&p9.includes("<anonymous>")&&(p9=p9.replace("<anonymous>",w.displayName)),typeof w==="function"&&fZ.set(w,p9),p9}while(1<=z0&&0<=Q0);break}}}finally{vZ=!1,a.H=o,q(),Error.prepareStackTrace=u}return J1=(J1=w?w.displayName||w.name:"")?R(J1):"",typeof w==="function"&&fZ.set(w,J1),J1}function h(w){if(w==null)return"";if(typeof w==="function"){var C=w.prototype;return M(w,!(!C||!C.isReactComponent))}if(typeof w==="string")return R(w);switch(w){case y0:return R("Suspense");case _9:return R("SuspenseList")}if(typeof w==="object")switch(w.$$typeof){case UW:return w=M(w.render,!1),w;case HW:return h(w.type);case H5:C=w._payload,w=w._init;try{return h(w(C))}catch(u){}}return""}function S(){var w=a.A;return w===null?null:w.getOwner()}function k(w){if(T1.call(w,"key")){var C=Object.getOwnPropertyDescriptor(w,"key").get;if(C&&C.isReactWarning)return!1}return w.key!==void 0}function f(w,C){function u(){D8||(D8=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",C))}u.isReactWarning=!0,Object.defineProperty(w,"key",{get:u,configurable:!0})}function l(){var w=O(this.type);return m9[w]||(m9[w]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),w=this.props.ref,w!==void 0?w:null}function p(w,C,u,o,B0,z0){return u=z0.ref,w={$$typeof:u1,type:w,key:C,props:z0,_owner:B0},(u!==void 0?u:null)!==null?Object.defineProperty(w,"ref",{enumerable:!1,get:l}):Object.defineProperty(w,"ref",{enumerable:!1,value:null}),w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(w,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w}function X0(w,C){return C=p(w.type,C,void 0,void 0,w._owner,w.props),C._store.validated=w._store.validated,C}function x0(w,C){if(typeof w==="object"&&w&&w.$$typeof!==I8){if(Q1(w))for(var u=0;u<w.length;u++){var o=w[u];_0(o)&&S0(o,C)}else if(_0(w))w._store&&(w._store.validated=1);else if(u=Q(w),typeof u==="function"&&u!==w.entries&&(u=u.call(w),u!==w))for(;!(w=u.next()).done;)_0(w.value)&&S0(w.value,C)}}function _0(w){return typeof w==="object"&&w!==null&&w.$$typeof===u1}function S0(w,C){if(w._store&&!w._store.validated&&w.key==null&&(w._store.validated=1,C=L0(C),!d9[C])){d9[C]=!0;var u="";w&&w._owner!=null&&w._owner!==S()&&(u=null,typeof w._owner.tag==="number"?u=O(w._owner.type):typeof w._owner.name==="string"&&(u=w._owner.name),u=" It was passed a child from "+u+".");var o=a.getCurrentStack;a.getCurrentStack=function(){var B0=h(w.type);return o&&(B0+=o()||""),B0},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',C,u),a.getCurrentStack=o}}function L0(w){var C="",u=S();return u&&(u=O(u.type))&&(C=`

Check the render method of \``+u+"`."),C||(w=O(w))&&(C=`

Check the top-level render call using <`+w+">."),C}function e0(w){var C={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(u){return C[u]})}function W1(w,C){return typeof w==="object"&&w!==null&&w.key!=null?(L(w.key),e0(""+w.key)):C.toString(36)}function w1(){}function YW(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status==="string"?w.then(w1,w1):(w.status="pending",w.then(function(C){w.status==="pending"&&(w.status="fulfilled",w.value=C)},function(C){w.status==="pending"&&(w.status="rejected",w.reason=C)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function W0(w,C,u,o,B0){var z0=typeof w;if(z0==="undefined"||z0==="boolean")w=null;var Q0=!1;if(w===null)Q0=!0;else switch(z0){case"bigint":case"string":case"number":Q0=!0;break;case"object":switch(w.$$typeof){case u1:case uW:Q0=!0;break;case H5:return Q0=w._init,W0(Q0(w._payload),C,u,o,B0)}}if(Q0){Q0=w,B0=B0(Q0);var g0=o===""?"."+W1(Q0,0):o;return Q1(B0)?(u="",g0!=null&&(u=g0.replace(_5,"$&/")+"/"),W0(B0,C,u,"",function(J1){return J1})):B0!=null&&(_0(B0)&&(B0.key!=null&&(Q0&&Q0.key===B0.key||L(B0.key)),u=X0(B0,u+(B0.key==null||Q0&&Q0.key===B0.key?"":(""+B0.key).replace(_5,"$&/")+"/")+g0),o!==""&&Q0!=null&&_0(Q0)&&Q0.key==null&&Q0._store&&!Q0._store.validated&&(u._store.validated=2),B0=u),C.push(B0)),1}if(Q0=0,g0=o===""?".":o+":",Q1(w))for(var A0=0;A0<w.length;A0++)o=w[A0],z0=g0+W1(o,A0),Q0+=W0(o,C,u,z0,B0);else if(A0=Q(w),typeof A0==="function")for(A0===w.entries&&(s5||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),s5=!0),w=A0.call(w),A0=0;!(o=w.next()).done;)o=o.value,z0=g0+W1(o,A0++),Q0+=W0(o,C,u,z0,B0);else if(z0==="object"){if(typeof w.then==="function")return W0(YW(w),C,u,o,B0);throw C=String(w),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.")}return Q0}function t(w,C,u){if(w==null)return w;var o=[],B0=0;return W0(w,o,"","",function(z0){return C.call(u,z0,B0++)}),o}function T0(w){if(w._status===-1){var C=w._result;C=C(),C.then(function(u){if(w._status===0||w._status===-1)w._status=1,w._result=u},function(u){if(w._status===0||w._status===-1)w._status=2,w._result=u}),w._status===-1&&(w._status=0,w._result=C)}if(w._status===1)return C=w._result,C===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,C),"default"in C||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,C),C.default;throw w._result}function N0(){var w=a.H;return w===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),w}function m0(){}function n0(w){if(V9===null)try{var C=("require"+Math.random()).slice(0,7);V9=(K2&&K2[C]).call(K2,"timers").setImmediate}catch(u){V9=function(o){u9===!1&&(u9=!0,typeof MessageChannel==="undefined"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var B0=new MessageChannel;B0.port1.onmessage=o,B0.port2.postMessage(void 0)}}return V9(w)}function l0(w){return 1<w.length&&typeof AggregateError==="function"?new AggregateError(w):w[0]}function d0(w,C){C!==L9-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),L9=C}function R0(w,C,u){var o=a.actQueue;if(o!==null)if(o.length!==0)try{B1(o),n0(function(){return R0(w,C,u)});return}catch(B0){a.thrownErrors.push(B0)}else a.actQueue=null;0<a.thrownErrors.length?(o=l0(a.thrownErrors),a.thrownErrors.length=0,u(o)):C(w)}function B1(w){if(!gZ){gZ=!0;var C=0;try{for(;C<w.length;C++){var u=w[C];do{a.didUsePromise=!1;var o=u(!1);if(o!==null){if(a.didUsePromise){w[C]=u,w.splice(0,C);return}u=o}else break}while(1)}w.length=0}catch(B0){w.splice(0,C+1),a.thrownErrors.push(B0)}finally{gZ=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var u1=Symbol.for("react.transitional.element"),uW=Symbol.for("react.portal"),KW=Symbol.for("react.fragment"),h9=Symbol.for("react.strict_mode"),U9=Symbol.for("react.profiler");Symbol.for("react.provider");var pW=Symbol.for("react.consumer"),H9=Symbol.for("react.context"),UW=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),_9=Symbol.for("react.suspense_list"),HW=Symbol.for("react.memo"),H5=Symbol.for("react.lazy"),xZ=Symbol.for("react.offscreen"),i0=Symbol.iterator,kG={},n5={isMounted:function(){return!1},enqueueForceUpdate:function(w){N(w,"forceUpdate")},enqueueReplaceState:function(w){N(w,"replaceState")},enqueueSetState:function(w){N(w,"setState")}},j=Object.assign,Z0={};Object.freeze(Z0),$.prototype.isReactComponent={},$.prototype.setState=function(w,C){if(typeof w!=="object"&&typeof w!=="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,C,"setState")},$.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};var Y0={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},k0;for(k0 in Y0)Y0.hasOwnProperty(k0)&&Y(k0,Y0[k0]);K.prototype=$.prototype,Y0=U.prototype=new K,Y0.constructor=U,j(Y0,$.prototype),Y0.isPureReactComponent=!0;var Q1=Array.isArray,s0=Symbol.for("react.client.reference"),a={H:null,A:null,T:null,S:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null},T1=Object.prototype.hasOwnProperty,qW=Symbol.for("react.client.reference"),G1=0,cW,w9,_W,O9,y1,E8,QY;E.__reactDisabledLog=!0;var bZ,JY,vZ=!1,fZ=new(typeof WeakMap==="function"?WeakMap:Map),I8=Symbol.for("react.client.reference"),D8,yZ,m9={},d9={},s5=!1,_5=/\/+/g,D1=typeof reportError==="function"?reportError:function(w){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var C=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w==="object"&&w!==null&&typeof w.message==="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(C))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",w);return}console.error(w)},u9=!1,V9=null,L9=0,o5=!1,gZ=!1,xG=typeof queueMicrotask==="function"?function(w){queueMicrotask(function(){return queueMicrotask(w)})}:n0;hE.Children={map:t,forEach:function(w,C,u){t(w,function(){C.apply(this,arguments)},u)},count:function(w){var C=0;return t(w,function(){C++}),C},toArray:function(w){return t(w,function(C){return C})||[]},only:function(w){if(!_0(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},hE.Component=$,hE.Fragment=KW,hE.Profiler=U9,hE.PureComponent=U,hE.StrictMode=h9,hE.Suspense=y0,hE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hE.act=function(w){var C=a.actQueue,u=L9;L9++;var o=a.actQueue=C!==null?C:[],B0=!1;try{var z0=w()}catch(A0){a.thrownErrors.push(A0)}if(0<a.thrownErrors.length)throw d0(C,u),w=l0(a.thrownErrors),a.thrownErrors.length=0,w;if(z0!==null&&typeof z0==="object"&&typeof z0.then==="function"){var Q0=z0;return xG(function(){B0||o5||(o5=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(A0,J1){B0=!0,Q0.then(function(g1){if(d0(C,u),u===0){try{B1(o),n0(function(){return R0(g1,A0,J1)})}catch(wW){a.thrownErrors.push(wW)}if(0<a.thrownErrors.length){var p9=l0(a.thrownErrors);a.thrownErrors.length=0,J1(p9)}}else A0(g1)},function(g1){d0(C,u),0<a.thrownErrors.length?(g1=l0(a.thrownErrors),a.thrownErrors.length=0,J1(g1)):J1(g1)})}}}var g0=z0;if(d0(C,u),u===0&&(B1(o),o.length!==0&&xG(function(){B0||o5||(o5=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),a.actQueue=null),0<a.thrownErrors.length)throw w=l0(a.thrownErrors),a.thrownErrors.length=0,w;return{then:function(A0,J1){B0=!0,u===0?(a.actQueue=o,n0(function(){return R0(g0,A0,J1)})):A0(g0)}}},hE.cache=function(w){return function(){return w.apply(null,arguments)}},hE.cloneElement=function(w,C,u){if(w===null||w===void 0)throw Error("The argument must be a React element, but you passed "+w+".");var o=j({},w.props),B0=w.key,z0=w._owner;if(C!=null){var Q0;W:{if(T1.call(C,"ref")&&(Q0=Object.getOwnPropertyDescriptor(C,"ref").get)&&Q0.isReactWarning){Q0=!1;break W}Q0=C.ref!==void 0}Q0&&(z0=S()),k(C)&&(L(C.key),B0=""+C.key);for(g0 in C)!T1.call(C,g0)||g0==="key"||g0==="__self"||g0==="__source"||g0==="ref"&&C.ref===void 0||(o[g0]=C[g0])}var g0=arguments.length-2;if(g0===1)o.children=u;else if(1<g0){Q0=Array(g0);for(var A0=0;A0<g0;A0++)Q0[A0]=arguments[A0+2];o.children=Q0}o=p(w.type,B0,void 0,void 0,z0,o);for(B0=2;B0<arguments.length;B0++)x0(arguments[B0],o.type);return o},hE.createContext=function(w){return w={$$typeof:H9,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:pW,_context:w},w._currentRenderer=null,w._currentRenderer2=null,w},hE.createElement=function(w,C,u){if(V(w))for(var o=2;o<arguments.length;o++)x0(arguments[o],w);else{if(o="",w===void 0||typeof w==="object"&&w!==null&&Object.keys(w).length===0)o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";if(w===null)var B0="null";else Q1(w)?B0="array":w!==void 0&&w.$$typeof===u1?(B0="<"+(O(w.type)||"Unknown")+" />",o=" Did you accidentally export a JSX literal instead of a component?"):B0=typeof w;console.error("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",B0,o)}var z0;if(o={},B0=null,C!=null)for(z0 in yZ||!("__self"in C)||"key"in C||(yZ=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),k(C)&&(L(C.key),B0=""+C.key),C)T1.call(C,z0)&&z0!=="key"&&z0!=="__self"&&z0!=="__source"&&(o[z0]=C[z0]);var Q0=arguments.length-2;if(Q0===1)o.children=u;else if(1<Q0){for(var g0=Array(Q0),A0=0;A0<Q0;A0++)g0[A0]=arguments[A0+2];Object.freeze&&Object.freeze(g0),o.children=g0}if(w&&w.defaultProps)for(z0 in Q0=w.defaultProps,Q0)o[z0]===void 0&&(o[z0]=Q0[z0]);return B0&&f(o,typeof w==="function"?w.displayName||w.name||"Unknown":w),p(w,B0,void 0,void 0,S(),o)},hE.createRef=function(){var w={current:null};return Object.seal(w),w},hE.forwardRef=function(w){w!=null&&w.$$typeof===HW?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof w!=="function"?console.error("forwardRef requires a render function but was given %s.",w===null?"null":typeof w):w.length!==0&&w.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",w.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),w!=null&&w.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var C={$$typeof:UW,render:w},u;return Object.defineProperty(C,"displayName",{enumerable:!1,configurable:!0,get:function(){return u},set:function(o){u=o,w.name||w.displayName||(Object.defineProperty(w,"name",{value:o}),w.displayName=o)}}),C},hE.isValidElement=_0,hE.lazy=function(w){return{$$typeof:H5,_payload:{_status:-1,_result:w},_init:T0}},hE.memo=function(w,C){V(w)||console.error("memo: The first argument must be a component. Instead received: %s",w===null?"null":typeof w),C={$$typeof:HW,type:w,compare:C===void 0?null:C};var u;return Object.defineProperty(C,"displayName",{enumerable:!1,configurable:!0,get:function(){return u},set:function(o){u=o,w.name||w.displayName||(Object.defineProperty(w,"name",{value:o}),w.displayName=o)}}),C},hE.startTransition=function(w){var C=a.T,u={};a.T=u,u._updatedFibers=new Set;try{var o=w(),B0=a.S;B0!==null&&B0(u,o),typeof o==="object"&&o!==null&&typeof o.then==="function"&&o.then(m0,D1)}catch(z0){D1(z0)}finally{C===null&&u._updatedFibers&&(w=u._updatedFibers.size,u._updatedFibers.clear(),10<w&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),a.T=C}},hE.unstable_useCacheRefresh=function(){return N0().useCacheRefresh()},hE.use=function(w){return N0().use(w)},hE.useActionState=function(w,C,u){return N0().useActionState(w,C,u)},hE.useCallback=function(w,C){return N0().useCallback(w,C)},hE.useContext=function(w){var C=N0();return w.$$typeof===pW&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),C.useContext(w)},hE.useDebugValue=function(w,C){return N0().useDebugValue(w,C)},hE.useDeferredValue=function(w,C){return N0().useDeferredValue(w,C)},hE.useEffect=function(w,C){return N0().useEffect(w,C)},hE.useId=function(){return N0().useId()},hE.useImperativeHandle=function(w,C,u){return N0().useImperativeHandle(w,C,u)},hE.useInsertionEffect=function(w,C){return N0().useInsertionEffect(w,C)},hE.useLayoutEffect=function(w,C){return N0().useLayoutEffect(w,C)},hE.useMemo=function(w,C){return N0().useMemo(w,C)},hE.useOptimistic=function(w,C){return N0().useOptimistic(w,C)},hE.useReducer=function(w,C,u){return N0().useReducer(w,C,u)},hE.useRef=function(w){return N0().useRef(w)},hE.useState=function(w){return N0().useState(w)},hE.useSyncExternalStore=function(w,C,u){return N0().useSyncExternalStore(w,C,u)},hE.useTransition=function(){return N0().useTransition()},hE.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var s_=B5((mE)=>{(function(){function Y(){if(S0){var t=mE.unstable_now();W1=t;var T0=!0;try{W:{l=!1,p&&(p=!1,x0(L0),L0=-1),f=!0;var N0=k;try{G:{U(t);for(S=N(R);S!==null&&!(S.expirationTime>t&&L());){var m0=S.callback;if(typeof m0==="function"){S.callback=null,k=S.priorityLevel;var n0=m0(S.expirationTime<=t);if(t=mE.unstable_now(),typeof n0==="function"){S.callback=n0,U(t),T0=!0;break G}S===N(R)&&$(R),U(t)}else $(R);S=N(R)}if(S!==null)T0=!0;else{var l0=N(M);l0!==null&&V(_,l0.startTime-t),T0=!1}}break W}finally{S=null,k=N0,f=!1}T0=void 0}}finally{T0?w1():S0=!1}}}function Q(t,T0){var N0=t.length;t.push(T0);W:for(;0<N0;){var m0=N0-1>>>1,n0=t[m0];if(0<K(n0,T0))t[m0]=T0,t[N0]=n0,N0=m0;else break W}}function N(t){return t.length===0?null:t[0]}function $(t){if(t.length===0)return null;var T0=t[0],N0=t.pop();if(N0!==T0){t[0]=N0;W:for(var m0=0,n0=t.length,l0=n0>>>1;m0<l0;){var d0=2*(m0+1)-1,R0=t[d0],B1=d0+1,u1=t[B1];if(0>K(R0,N0))B1<n0&&0>K(u1,R0)?(t[m0]=u1,t[B1]=N0,m0=B1):(t[m0]=R0,t[d0]=N0,m0=d0);else if(B1<n0&&0>K(u1,N0))t[m0]=u1,t[B1]=N0,m0=B1;else break W}}return T0}function K(t,T0){var N0=t.sortIndex-T0.sortIndex;return N0!==0?N0:t.id-T0.id}function U(t){for(var T0=N(M);T0!==null;){if(T0.callback===null)$(M);else if(T0.startTime<=t)$(M),T0.sortIndex=T0.expirationTime,Q(R,T0);else break;T0=N(M)}}function _(t){if(p=!1,U(t),!l)if(N(R)!==null)l=!0,O();else{var T0=N(M);T0!==null&&V(_,T0.startTime-t)}}function L(){return mE.unstable_now()-W1<e0?!1:!0}function O(){S0||(S0=!0,w1())}function V(t,T0){L0=X0(function(){t(mE.unstable_now())},T0)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),mE.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var E=performance;mE.unstable_now=function(){return E.now()}}else{var A=Date,q=A.now();mE.unstable_now=function(){return A.now()-q}}var R=[],M=[],h=1,S=null,k=3,f=!1,l=!1,p=!1,X0=typeof setTimeout==="function"?setTimeout:null,x0=typeof clearTimeout==="function"?clearTimeout:null,_0=typeof setImmediate!=="undefined"?setImmediate:null,S0=!1,L0=-1,e0=5,W1=-1;if(typeof _0==="function")var w1=function(){_0(Y)};else if(typeof MessageChannel!=="undefined"){var YW=new MessageChannel,W0=YW.port2;YW.port1.onmessage=Y,w1=function(){W0.postMessage(null)}}else w1=function(){X0(Y,0)};mE.unstable_IdlePriority=5,mE.unstable_ImmediatePriority=1,mE.unstable_LowPriority=4,mE.unstable_NormalPriority=3,mE.unstable_Profiling=null,mE.unstable_UserBlockingPriority=2,mE.unstable_cancelCallback=function(t){t.callback=null},mE.unstable_continueExecution=function(){l||f||(l=!0,O())},mE.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):e0=0<t?Math.floor(1000/t):5},mE.unstable_getCurrentPriorityLevel=function(){return k},mE.unstable_getFirstCallbackNode=function(){return N(R)},mE.unstable_next=function(t){switch(k){case 1:case 2:case 3:var T0=3;break;default:T0=k}var N0=k;k=T0;try{return t()}finally{k=N0}},mE.unstable_pauseExecution=function(){},mE.unstable_requestPaint=function(){},mE.unstable_runWithPriority=function(t,T0){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var N0=k;k=t;try{return T0()}finally{k=N0}},mE.unstable_scheduleCallback=function(t,T0,N0){var m0=mE.unstable_now();switch(typeof N0==="object"&&N0!==null?(N0=N0.delay,N0=typeof N0==="number"&&0<N0?m0+N0:m0):N0=m0,t){case 1:var n0=-1;break;case 2:n0=250;break;case 5:n0=1073741823;break;case 4:n0=1e4;break;default:n0=5000}return n0=N0+n0,t={id:h++,callback:T0,priorityLevel:t,startTime:N0,expirationTime:n0,sortIndex:-1},N0>m0?(t.sortIndex=N0,Q(M,t),N(R)===null&&t===N(M)&&(p?(x0(L0),L0=-1):p=!0,V(_,N0-m0))):(t.sortIndex=n0,Q(R,t),l||f||(l=!0,O())),t},mE.unstable_shouldYield=L,mE.unstable_wrapCallback=function(t){var T0=k;return function(){var N0=k;k=T0;try{return t.apply(this,arguments)}finally{k=N0}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var o_=B5((dE)=>{var FJ=i(f0(),1);(function(){function Y(){}function Q(E){return""+E}function N(E,A,q){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{Q(R);var M=!1}catch(h){M=!0}return M&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&R[Symbol.toStringTag]||R.constructor.name||"Object"),Q(R)),{$$typeof:O,key:R==null?null:""+R,children:E,containerInfo:A,implementation:q}}function $(E,A){if(E==="font")return"";if(typeof A==="string")return A==="use-credentials"?A:""}function K(E){return E===null?"`null`":E===void 0?"`undefined`":E===""?"an empty string":'something with type "'+typeof E+'"'}function U(E){return E===null?"`null`":E===void 0?"`undefined`":E===""?"an empty string":typeof E==="string"?JSON.stringify(E):typeof E==="number"?"`"+E+"`":'something with type "'+typeof E+'"'}function _(){var E=V.H;return E===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),E}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var L={d:{f:Y,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:Y,C:Y,L:Y,m:Y,X:Y,S:Y,M:Y},p:0,findDOMNode:null},O=Symbol.for("react.portal"),V=FJ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),dE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,dE.createPortal=function(E,A){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error("Target container is not a DOM element.");return N(E,A,null,q)},dE.flushSync=function(E){var A=V.T,q=L.p;try{if(V.T=null,L.p=2,E)return E()}finally{V.T=A,L.p=q,L.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},dE.preconnect=function(E,A){typeof E==="string"&&E?A!=null&&typeof A!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",U(A)):A!=null&&typeof A.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",K(A.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",K(E)),typeof E==="string"&&(A?(A=A.crossOrigin,A=typeof A==="string"?A==="use-credentials"?A:"":void 0):A=null,L.d.C(E,A))},dE.prefetchDNS=function(E){if(typeof E!=="string"||!E)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",K(E));else if(1<arguments.length){var A=arguments[1];typeof A==="object"&&A.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",U(A)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",U(A))}typeof E==="string"&&L.d.D(E)},dE.preinit=function(E,A){if(typeof E==="string"&&E?A==null||typeof A!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",U(A)):A.as!=="style"&&A.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',U(A.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",K(E)),typeof E==="string"&&A&&typeof A.as==="string"){var q=A.as,R=$(q,A.crossOrigin),M=typeof A.integrity==="string"?A.integrity:void 0,h=typeof A.fetchPriority==="string"?A.fetchPriority:void 0;q==="style"?L.d.S(E,typeof A.precedence==="string"?A.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:h}):q==="script"&&L.d.X(E,{crossOrigin:R,integrity:M,fetchPriority:h,nonce:typeof A.nonce==="string"?A.nonce:void 0})}},dE.preinitModule=function(E,A){var q="";if(typeof E==="string"&&E||(q+=" The `href` argument encountered was "+K(E)+"."),A!==void 0&&typeof A!=="object"?q+=" The `options` argument encountered was "+K(A)+".":A&&("as"in A)&&A.as!=="script"&&(q+=" The `as` option encountered was "+U(A.as)+"."),q)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",q);else switch(q=A&&typeof A.as==="string"?A.as:"script",q){case"script":break;default:q=U(q),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',q,E)}if(typeof E==="string")if(typeof A==="object"&&A!==null){if(A.as==null||A.as==="script")q=$(A.as,A.crossOrigin),L.d.M(E,{crossOrigin:q,integrity:typeof A.integrity==="string"?A.integrity:void 0,nonce:typeof A.nonce==="string"?A.nonce:void 0})}else A==null&&L.d.M(E)},dE.preload=function(E,A){var q="";if(typeof E==="string"&&E||(q+=" The `href` argument encountered was "+K(E)+"."),A==null||typeof A!=="object"?q+=" The `options` argument encountered was "+K(A)+".":typeof A.as==="string"&&A.as||(q+=" The `as` option encountered was "+K(A.as)+"."),q&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',q),typeof E==="string"&&typeof A==="object"&&A!==null&&typeof A.as==="string"){q=A.as;var R=$(q,A.crossOrigin);L.d.L(E,q,{crossOrigin:R,integrity:typeof A.integrity==="string"?A.integrity:void 0,nonce:typeof A.nonce==="string"?A.nonce:void 0,type:typeof A.type==="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority==="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy==="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet==="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes==="string"?A.imageSizes:void 0,media:typeof A.media==="string"?A.media:void 0})}},dE.preloadModule=function(E,A){var q="";typeof E==="string"&&E||(q+=" The `href` argument encountered was "+K(E)+"."),A!==void 0&&typeof A!=="object"?q+=" The `options` argument encountered was "+K(A)+".":A&&("as"in A)&&typeof A.as!=="string"&&(q+=" The `as` option encountered was "+K(A.as)+"."),q&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',q),typeof E==="string"&&(A?(q=$(A.as,A.crossOrigin),L.d.m(E,{as:typeof A.as==="string"&&A.as!=="script"?A.as:void 0,crossOrigin:q,integrity:typeof A.integrity==="string"?A.integrity:void 0})):L.d.m(E))},dE.requestFormReset=function(E){L.d.r(E)},dE.unstable_batchedUpdates=function(E,A){return E(A)},dE.useFormState=function(E,A,q){return _().useFormState(E,A,q)},dE.useFormStatus=function(){return _().useHostTransitionStatus()},dE.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var qJ=B5((Iq,a_)=>{var uE=i(o_(),1);a_.exports=uE});var r_=B5((pE)=>{var h0=i(s_(),1),g7=i(f0(),1),CJ=i(qJ(),1);(function(){function Y(W,G){for(W=W.memoizedState;W!==null&&0<G;)W=W.next,G--;return W}function Q(W,G,Z,X){if(Z>=G.length)return X;var B=G[Z],J=i1(W)?W.slice():F0({},W);return J[B]=Q(W[B],G,Z+1,X),J}function N(W,G,Z){if(G.length!==Z.length)console.warn("copyWithRename() expects paths of the same length");else{for(var X=0;X<Z.length-1;X++)if(G[X]!==Z[X]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return $(W,G,Z,0)}}function $(W,G,Z,X){var B=G[X],J=i1(W)?W.slice():F0({},W);return X+1===G.length?(J[Z[X]]=J[B],i1(J)?J.splice(B,1):delete J[B]):J[B]=$(W[B],G,Z,X+1),J}function K(W,G,Z){var X=G[Z],B=i1(W)?W.slice():F0({},W);if(Z+1===G.length)return i1(B)?B.splice(X,1):delete B[X],B;return B[X]=K(W[X],G,Z+1),B}function U(){return!1}function _(){return null}function L(W,G,Z,X){return new WT(W,G,Z,X)}function O(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function V(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function E(){}function A(){}function q(W){var G=[];return W.forEach(function(Z){G.push(Z)}),G.sort().join(", ")}function R(W,G){W.context===zG&&(KU(G,W,null,null),aZ())}function M(W,G){if(tW!==null){var Z=G.staleFamilies;G=G.updatedFamilies,rG(),EB(W.current,G,Z),aZ()}}function h(W){tW=W}function S(W){return!(!W||W.nodeType!==1&&W.nodeType!==9&&W.nodeType!==11)}function k(W){if(W===null||typeof W!=="object")return null;return W=IU&&W[IU]||W["@@iterator"],typeof W==="function"?W:null}function f(W){if(W==null)return null;if(typeof W==="function")return W.$$typeof===tT?null:W.displayName||W.name||null;if(typeof W==="string")return W;switch(W){case Y7:return"Fragment";case Z7:return"Portal";case BQ:return"Profiler";case LX:return"StrictMode";case JQ:return"Suspense";case NQ:return"SuspenseList"}if(typeof W==="object")switch(typeof W.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),W.$$typeof){case a9:return(W.displayName||"Context")+".Provider";case QQ:return(W._context.displayName||"Context")+".Consumer";case mY:var G=W.render;return W=W.displayName,W||(W=G.displayName||G.name||"",W=W!==""?"ForwardRef("+W+")":"ForwardRef"),W;case TX:return G=W.displayName||null,G!==null?G:f(W.type)||"Memo";case kW:G=W._payload,W=W._init;try{return f(W(G))}catch(Z){}}return null}function l(W){return typeof W.tag==="number"?p(W):typeof W.name==="string"?W.name:null}function p(W){var G=W.type;switch(W.tag){case 24:return"Cache";case 9:return(G._context.displayName||"Context")+".Consumer";case 10:return(G.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return W=G.render,W=W.displayName||W.name||"",G.displayName||(W!==""?"ForwardRef("+W+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return G;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f(G);case 8:return G===LX?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof G==="function")return G.displayName||G.name||null;if(typeof G==="string")return G;break;case 29:if(G=W._debugInfo,G!=null){for(var Z=G.length-1;0<=Z;Z--)if(typeof G[Z].name==="string")return G[Z].name}if(W.return!==null)return p(W.return)}return null}function X0(){}function x0(){if(dY===0){DU=console.log,PU=console.info,jU=console.warn,FU=console.error,qU=console.group,CU=console.groupCollapsed,MU=console.groupEnd;var W={configurable:!0,enumerable:!0,value:X0,writable:!0};Object.defineProperties(console,{info:W,log:W,warn:W,error:W,group:W,groupCollapsed:W,groupEnd:W})}dY++}function _0(){if(dY--,dY===0){var W={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:F0({},W,{value:DU}),info:F0({},W,{value:PU}),warn:F0({},W,{value:jU}),error:F0({},W,{value:FU}),group:F0({},W,{value:qU}),groupCollapsed:F0({},W,{value:CU}),groupEnd:F0({},W,{value:MU})})}0>dY&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function S0(W){if($Q===void 0)try{throw Error()}catch(Z){var G=Z.stack.trim().match(/\n( *(at )?)/);$Q=G&&G[1]||"",SU=-1<Z.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Z.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$Q+W+SU}function L0(W,G){if(!W||zQ)return"";var Z=KQ.get(W);if(Z!==void 0)return Z;zQ=!0,Z=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var X=null;X=g.H,g.H=null,x0();try{var B={DetermineComponentFrameRoot:function(){try{if(G){var v=function(){throw Error()};if(Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch($0){var c=$0}Reflect.construct(W,[],v)}else{try{v.call()}catch($0){c=$0}W.call(v.prototype)}}else{try{throw Error()}catch($0){c=$0}(v=W())&&typeof v.catch==="function"&&v.catch(function(){})}}catch($0){if($0&&c&&typeof $0.stack==="string")return[$0.stack,c.stack]}return[null,null]}};B.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var J=Object.getOwnPropertyDescriptor(B.DetermineComponentFrameRoot,"name");J&&J.configurable&&Object.defineProperty(B.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=B.DetermineComponentFrameRoot(),H=z[0],T=z[1];if(H&&T){var I=H.split(`
`),b=T.split(`
`);for(z=J=0;J<I.length&&!I[J].includes("DetermineComponentFrameRoot");)J++;for(;z<b.length&&!b[z].includes("DetermineComponentFrameRoot");)z++;if(J===I.length||z===b.length)for(J=I.length-1,z=b.length-1;1<=J&&0<=z&&I[J]!==b[z];)z--;for(;1<=J&&0<=z;J--,z--)if(I[J]!==b[z]){if(J!==1||z!==1)do if(J--,z--,0>z||I[J]!==b[z]){var d=`
`+I[J].replace(" at new "," at ");return W.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",W.displayName)),typeof W==="function"&&KQ.set(W,d),d}while(1<=J&&0<=z);break}}}finally{zQ=!1,g.H=X,_0(),Error.prepareStackTrace=Z}return I=(I=W?W.displayName||W.name:"")?S0(I):"",typeof W==="function"&&KQ.set(W,I),I}function e0(W){switch(W.tag){case 26:case 27:case 5:return S0(W.type);case 16:return S0("Lazy");case 13:return S0("Suspense");case 19:return S0("SuspenseList");case 0:case 15:return W=L0(W.type,!1),W;case 11:return W=L0(W.type.render,!1),W;case 1:return W=L0(W.type,!0),W;default:return""}}function W1(W){try{var G="";do{G+=e0(W);var Z=W._debugInfo;if(Z)for(var X=Z.length-1;0<=X;X--){var B=Z[X];if(typeof B.name==="string"){var J=G,z=B.env,H=S0(B.name+(z?" ["+z+"]":""));G=J+H}}W=W.return}while(W);return G}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function w1(){if(t1===null)return null;var W=t1._debugOwner;return W!=null?l(W):null}function YW(){return t1===null?"":W1(t1)}function W0(W,G,Z,X,B,J,z){var H=t1;g.getCurrentStack=W===null?null:YW,aW=!1,t1=W;try{return G(Z,X,B,J,z)}finally{t1=H}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function t(W){var G=W,Z=W;if(W.alternate)for(;G.return;)G=G.return;else{W=G;do G=W,(G.flags&4098)!==0&&(Z=G.return),W=G.return;while(W)}return G.tag===3?Z:null}function T0(W){if(W.tag===13){var G=W.memoizedState;if(G===null&&(W=W.alternate,W!==null&&(G=W.memoizedState)),G!==null)return G.dehydrated}return null}function N0(W){if(t(W)!==W)throw Error("Unable to find node on an unmounted component.")}function m0(W){var G=W.alternate;if(!G){if(G=t(W),G===null)throw Error("Unable to find node on an unmounted component.");return G!==W?null:W}for(var Z=W,X=G;;){var B=Z.return;if(B===null)break;var J=B.alternate;if(J===null){if(X=B.return,X!==null){Z=X;continue}break}if(B.child===J.child){for(J=B.child;J;){if(J===Z)return N0(B),W;if(J===X)return N0(B),G;J=J.sibling}throw Error("Unable to find node on an unmounted component.")}if(Z.return!==X.return)Z=B,X=J;else{for(var z=!1,H=B.child;H;){if(H===Z){z=!0,Z=B,X=J;break}if(H===X){z=!0,X=B,Z=J;break}H=H.sibling}if(!z){for(H=J.child;H;){if(H===Z){z=!0,Z=J,X=B;break}if(H===X){z=!0,X=J,Z=B;break}H=H.sibling}if(!z)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(Z.alternate!==X)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(Z.tag!==3)throw Error("Unable to find node on an unmounted component.");return Z.stateNode.current===Z?W:G}function n0(W){var G=W.tag;if(G===5||G===26||G===27||G===6)return W;for(W=W.child;W!==null;){if(G=n0(W),G!==null)return G;W=W.sibling}return null}function l0(W){return{current:W}}function d0(W,G){0>D5?console.error("Unexpected pop."):(G!==HQ[D5]&&console.error("Unexpected Fiber popped."),W.current=UQ[D5],UQ[D5]=null,HQ[D5]=null,D5--)}function R0(W,G,Z){D5++,UQ[D5]=W.current,HQ[D5]=Z,W.current=G}function B1(W){return W===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),W}function u1(W,G){R0(JG,G,W),R0(uY,W,W),R0(QG,null,W);var Z=G.nodeType;switch(Z){case 9:case 11:Z=Z===9?"#document":"#fragment",G=(G=G.documentElement)?(G=G.namespaceURI)?sK(G):v5:v5;break;default:if(G=Z===8?G.parentNode:G,Z=G.tagName,G=G.namespaceURI)G=sK(G),G=oK(G,Z);else switch(Z){case"svg":G=f7;break;case"math":G=X2;break;default:G=v5}}Z=Z.toLowerCase(),Z=J$(null,Z),Z={context:G,ancestorInfo:Z},d0(QG,W),R0(QG,Z,W)}function uW(W){d0(QG,W),d0(uY,W),d0(JG,W)}function KW(){return B1(QG.current)}function h9(W){W.memoizedState!==null&&R0(AX,W,W);var G=B1(QG.current),Z=W.type,X=oK(G.context,Z);Z=J$(G.ancestorInfo,Z),X={context:X,ancestorInfo:Z},G!==X&&(R0(uY,W,W),R0(QG,X,W))}function U9(W){uY.current===W&&(d0(QG,W),d0(uY,W)),AX.current===W&&(d0(AX,W),j4._currentValue=EZ)}function pW(W){return typeof Symbol==="function"&&Symbol.toStringTag&&W[Symbol.toStringTag]||W.constructor.name||"Object"}function H9(W){try{return UW(W),!1}catch(G){return!0}}function UW(W){return""+W}function y0(W,G){if(H9(W))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",G,pW(W)),UW(W)}function _9(W,G){if(H9(W))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",G,pW(W)),UW(W)}function HW(W){if(H9(W))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",pW(W)),UW(W)}function H5(W){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined")return!1;var G=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(G.isDisabled)return!0;if(!G.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{B7=G.inject(W),e1=G}catch(Z){console.error("React instrumentation encountered an error: %s.",Z)}return G.checkDCE?!0:!1}function xZ(W,G){if(e1&&typeof e1.onCommitFiberRoot==="function")try{var Z=(W.current.flags&128)===128;switch(G){case I9:var X=wQ;break;case D9:X=OQ;break;case e9:X=X7;break;case DX:X=VQ;break;default:X=X7}e1.onCommitFiberRoot(B7,W,X,Z)}catch(B){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",B))}}function i0(W){if(typeof BA==="function"&&QA(W),e1&&typeof e1.setStrictMode==="function")try{e1.setStrictMode(B7,W)}catch(G){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",G))}}function kG(W){e=W}function n5(){e!==null&&typeof e.markCommitStopped==="function"&&e.markCommitStopped()}function j(W){e!==null&&typeof e.markComponentRenderStarted==="function"&&e.markComponentRenderStarted(W)}function Z0(){e!==null&&typeof e.markComponentRenderStopped==="function"&&e.markComponentRenderStopped()}function Y0(W){e!==null&&typeof e.markRenderStarted==="function"&&e.markRenderStarted(W)}function k0(){e!==null&&typeof e.markRenderStopped==="function"&&e.markRenderStopped()}function Q1(W,G){e!==null&&typeof e.markStateUpdateScheduled==="function"&&e.markStateUpdateScheduled(W,G)}function s0(W){return W>>>=0,W===0?32:31-(JA(W)/NA|0)|0}function a(W){if(W&1)return"SyncHydrationLane";if(W&2)return"Sync";if(W&4)return"InputContinuousHydration";if(W&8)return"InputContinuous";if(W&16)return"DefaultHydration";if(W&32)return"Default";if(W&64)return"TransitionHydration";if(W&4194176)return"Transition";if(W&62914560)return"Retry";if(W&67108864)return"SelectiveHydration";if(W&134217728)return"IdleHydration";if(W&268435456)return"Idle";if(W&536870912)return"Offscreen";if(W&1073741824)return"Deferred"}function T1(W){var G=W&42;if(G!==0)return G;switch(W&-W){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return W&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return W&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),W}}function qW(W,G){var Z=W.pendingLanes;if(Z===0)return 0;var X=0,B=W.suspendedLanes,J=W.pingedLanes,z=W.warmLanes;W=W.finishedLanes!==0;var H=Z&134217727;return H!==0?(Z=H&~B,Z!==0?X=T1(Z):(J&=H,J!==0?X=T1(J):W||(z=H&~z,z!==0&&(X=T1(z))))):(H=Z&~B,H!==0?X=T1(H):J!==0?X=T1(J):W||(z=Z&~z,z!==0&&(X=T1(z)))),X===0?0:G!==0&&G!==X&&(G&B)===0&&(B=X&-X,z=G&-G,B>=z||B===32&&(z&4194176)!==0)?G:X}function G1(W,G){return(W.pendingLanes&~(W.suspendedLanes&~W.pingedLanes)&G)===0}function cW(W,G){switch(W){case 1:case 2:case 4:case 8:return G+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return G+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function w9(){var W=EX;return EX<<=1,(EX&4194176)===0&&(EX=128),W}function _W(){var W=IX;return IX<<=1,(IX&62914560)===0&&(IX=4194304),W}function O9(W){for(var G=[],Z=0;31>Z;Z++)G.push(W);return G}function y1(W,G){W.pendingLanes|=G,G!==268435456&&(W.suspendedLanes=0,W.pingedLanes=0,W.warmLanes=0)}function E8(W,G,Z,X,B,J){var z=W.pendingLanes;W.pendingLanes=Z,W.suspendedLanes=0,W.pingedLanes=0,W.warmLanes=0,W.expiredLanes&=Z,W.entangledLanes&=Z,W.errorRecoveryDisabledLanes&=Z,W.shellSuspendCounter=0;var{entanglements:H,expirationTimes:T,hiddenUpdates:I}=W;for(Z=z&~Z;0<Z;){var b=31-XW(Z),d=1<<b;H[b]=0,T[b]=-1;var v=I[b];if(v!==null)for(I[b]=null,b=0;b<v.length;b++){var c=v[b];c!==null&&(c.lane&=-536870913)}Z&=~d}X!==0&&QY(W,X,0),J!==0&&B===0&&W.tag!==0&&(W.suspendedLanes|=J&~(z&~G))}function QY(W,G,Z){W.pendingLanes|=G,W.suspendedLanes&=~G;var X=31-XW(G);W.entangledLanes|=G,W.entanglements[X]=W.entanglements[X]|1073741824|Z&4194218}function bZ(W,G){var Z=W.entangledLanes|=G;for(W=W.entanglements;Z;){var X=31-XW(Z),B=1<<X;B&G|W[X]&G&&(W[X]|=G),Z&=~B}}function JY(W,G,Z){if(E9)for(W=W.pendingUpdatersLaneMap;0<Z;){var X=31-XW(Z),B=1<<X;W[X].add(G),Z&=~B}}function vZ(W,G){if(E9)for(var{pendingUpdatersLaneMap:Z,memoizedUpdaters:X}=W;0<G;){var B=31-XW(G);W=1<<B,B=Z[B],0<B.size&&(B.forEach(function(J){var z=J.alternate;z!==null&&X.has(z)||X.add(J)}),B.clear()),G&=~W}}function fZ(W){return W&=-W,I9!==0&&I9<W?D9!==0&&D9<W?(W&134217727)!==0?e9:DX:D9:I9}function I8(){var W=N1.p;if(W!==0)return W;return W=window.event,W===void 0?e9:wU(W.type)}function D8(W,G){var Z=N1.p;try{return N1.p=W,G()}finally{N1.p=Z}}function yZ(W){delete W[WW],delete W[TW],delete W[LQ],delete W[$A],delete W[zA]}function m9(W){var G=W[WW];if(G)return G;for(var Z=W.parentNode;Z;){if(G=Z[tG]||Z[WW]){if(Z=G.alternate,G.child!==null||Z!==null&&Z.child!==null)for(W=WU(W);W!==null;){if(Z=W[WW])return Z;W=WU(W)}return G}W=Z,Z=W.parentNode}return null}function d9(W){if(W=W[WW]||W[tG]){var G=W.tag;if(G===5||G===6||G===13||G===26||G===27||G===3)return W}return null}function s5(W){var G=W.tag;if(G===5||G===26||G===27||G===6)return W.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function _5(W){var G=W[RU];return G||(G=W[RU]={hoistableStyles:new Map,hoistableScripts:new Map}),G}function D1(W){W[pY]=!0}function u9(W,G){V9(W,G),V9(W+"Capture",G)}function V9(W,G){eG[W]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",W),eG[W]=G;var Z=W.toLowerCase();TQ[Z]=W,W==="onDoubleClick"&&(TQ.ondblclick=W);for(W=0;W<G.length;W++)kU.add(G[W])}function L9(W,G){KA[G.type]||G.onChange||G.onInput||G.readOnly||G.disabled||G.value==null||(W==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),G.onChange||G.readOnly||G.disabled||G.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function o5(W){if(P5.call(bU,W))return!0;if(P5.call(xU,W))return!1;if(UA.test(W))return bU[W]=!0;return xU[W]=!0,console.error("Invalid attribute name: `%s`",W),!1}function gZ(W,G,Z){if(o5(G)){if(!W.hasAttribute(G)){switch(typeof Z){case"symbol":case"object":return Z;case"function":return Z;case"boolean":if(Z===!1)return Z}return Z===void 0?void 0:null}if(W=W.getAttribute(G),W===""&&Z===!0)return!0;return y0(Z,G),W===""+Z?Z:W}}function xG(W,G,Z){if(o5(G))if(Z===null)W.removeAttribute(G);else{switch(typeof Z){case"undefined":case"function":case"symbol":W.removeAttribute(G);return;case"boolean":var X=G.toLowerCase().slice(0,5);if(X!=="data-"&&X!=="aria-"){W.removeAttribute(G);return}}y0(Z,G),W.setAttribute(G,""+Z)}}function w(W,G,Z){if(Z===null)W.removeAttribute(G);else{switch(typeof Z){case"undefined":case"function":case"symbol":case"boolean":W.removeAttribute(G);return}y0(Z,G),W.setAttribute(G,""+Z)}}function C(W,G,Z,X){if(X===null)W.removeAttribute(Z);else{switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":W.removeAttribute(Z);return}y0(X,Z),W.setAttributeNS(G,Z,""+X)}}function u(W){switch(typeof W){case"bigint":case"boolean":case"number":case"string":case"undefined":return W;case"object":return HW(W),W;default:return""}}function o(W){var G=W.type;return(W=W.nodeName)&&W.toLowerCase()==="input"&&(G==="checkbox"||G==="radio")}function B0(W){var G=o(W)?"checked":"value",Z=Object.getOwnPropertyDescriptor(W.constructor.prototype,G);HW(W[G]);var X=""+W[G];if(!W.hasOwnProperty(G)&&typeof Z!=="undefined"&&typeof Z.get==="function"&&typeof Z.set==="function"){var{get:B,set:J}=Z;return Object.defineProperty(W,G,{configurable:!0,get:function(){return B.call(this)},set:function(z){HW(z),X=""+z,J.call(this,z)}}),Object.defineProperty(W,G,{enumerable:Z.enumerable}),{getValue:function(){return X},setValue:function(z){HW(z),X=""+z},stopTracking:function(){W._valueTracker=null,delete W[G]}}}}function z0(W){W._valueTracker||(W._valueTracker=B0(W))}function Q0(W){if(!W)return!1;var G=W._valueTracker;if(!G)return!0;var Z=G.getValue(),X="";return W&&(X=o(W)?W.checked?"true":"false":W.value),W=X,W!==Z?(G.setValue(W),!0):!1}function g0(W){if(W=W||(typeof document!=="undefined"?document:void 0),typeof W==="undefined")return null;try{return W.activeElement||W.body}catch(G){return W.body}}function A0(W){return W.replace(HA,function(G){return"\\"+G.charCodeAt(0).toString(16)+" "})}function J1(W,G){G.checked===void 0||G.defaultChecked===void 0||fU||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",w1()||"A component",G.type),fU=!0),G.value===void 0||G.defaultValue===void 0||vU||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",w1()||"A component",G.type),vU=!0)}function g1(W,G,Z,X,B,J,z,H){if(W.name="",z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"?(y0(z,"type"),W.type=z):W.removeAttribute("type"),G!=null)if(z==="number"){if(G===0&&W.value===""||W.value!=G)W.value=""+u(G)}else W.value!==""+u(G)&&(W.value=""+u(G));else z!=="submit"&&z!=="reset"||W.removeAttribute("value");G!=null?wW(W,z,u(G)):Z!=null?wW(W,z,u(Z)):X!=null&&W.removeAttribute("value"),B==null&&J!=null&&(W.defaultChecked=!!J),B!=null&&(W.checked=B&&typeof B!=="function"&&typeof B!=="symbol"),H!=null&&typeof H!=="function"&&typeof H!=="symbol"&&typeof H!=="boolean"?(y0(H,"name"),W.name=""+u(H)):W.removeAttribute("name")}function p9(W,G,Z,X,B,J,z,H){if(J!=null&&typeof J!=="function"&&typeof J!=="symbol"&&typeof J!=="boolean"&&(y0(J,"type"),W.type=J),G!=null||Z!=null){if(!(J!=="submit"&&J!=="reset"||G!==void 0&&G!==null))return;Z=Z!=null?""+u(Z):"",G=G!=null?""+u(G):Z,H||G===W.value||(W.value=G),W.defaultValue=G}X=X!=null?X:B,X=typeof X!=="function"&&typeof X!=="symbol"&&!!X,W.checked=H?W.checked:!!X,W.defaultChecked=!!X,z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"&&(y0(z,"name"),W.name=z)}function wW(W,G,Z){G==="number"&&g0(W.ownerDocument)===W||W.defaultValue===""+Z||(W.defaultValue=""+Z)}function bG(W,G){G.value==null&&(typeof G.children==="object"&&G.children!==null?g7.Children.forEach(G.children,function(Z){Z==null||typeof Z==="string"||typeof Z==="number"||typeof Z==="bigint"||gU||(gU=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):G.dangerouslySetInnerHTML==null||hU||(hU=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),G.selected==null||yU||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),yU=!0)}function lW(){var W=w1();return W?`

Check the render method of \``+W+"`.":""}function hZ(W,G,Z,X){if(W=W.options,G){G={};for(var B=0;B<Z.length;B++)G["$"+Z[B]]=!0;for(Z=0;Z<W.length;Z++)B=G.hasOwnProperty("$"+W[Z].value),W[Z].selected!==B&&(W[Z].selected=B),B&&X&&(W[Z].defaultSelected=!0)}else{Z=""+u(Z),G=null;for(B=0;B<W.length;B++){if(W[B].value===Z){W[B].selected=!0,X&&(W[B].defaultSelected=!0);return}G!==null||W[B].disabled||(G=W[B])}G!==null&&(G.selected=!0)}}function eN(W,G){for(W=0;W<dU.length;W++){var Z=dU[W];if(G[Z]!=null){var X=i1(G[Z]);G.multiple&&!X?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",Z,lW()):!G.multiple&&X&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",Z,lW())}}G.value===void 0||G.defaultValue===void 0||mU||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),mU=!0)}function W$(W,G){G.value===void 0||G.defaultValue===void 0||uU||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",w1()||"A component"),uU=!0),G.children!=null&&G.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function G$(W,G,Z){if(G!=null&&(G=""+u(G),G!==W.value&&(W.value=G),Z==null)){W.defaultValue!==G&&(W.defaultValue=G);return}W.defaultValue=Z!=null?""+u(Z):""}function Z$(W,G,Z,X){if(G==null){if(X!=null){if(Z!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(i1(X)){if(1<X.length)throw Error("<textarea> can only have at most one child.");X=X[0]}Z=X}Z==null&&(Z=""),G=Z}Z=u(G),W.defaultValue=Z,X=W.textContent,X===Z&&X!==""&&X!==null&&(W.value=X)}function Y$(W,G){return W.serverProps===void 0&&W.serverTail.length===0&&W.children.length===1&&3<W.distanceFromLeaf&&W.distanceFromLeaf>15-G?Y$(W.children[0],G):W}function CW(W){return"  "+"  ".repeat(W)}function mZ(W){return"+ "+"  ".repeat(W)}function vG(W){return"- "+"  ".repeat(W)}function X$(W){switch(W.tag){case 26:case 27:case 5:return W.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return W=W.type,W.displayName||W.name||null;case 11:return W=W.type.render,W.displayName||W.name||null;case 1:return W=W.type,W.displayName||W.name||null;default:return null}}function NY(W,G){return pU.test(W)?(W=JSON.stringify(W),W.length>G-2?8>G?'{"..."}':"{"+W.slice(0,G-7)+'..."}':"{"+W+"}"):W.length>G?5>G?'{"..."}':W.slice(0,G-3)+"...":W}function P8(W,G,Z){var X=120-2*Z;if(G===null)return mZ(Z)+NY(W,X)+`
`;if(typeof G==="string"){for(var B=0;B<G.length&&B<W.length&&G.charCodeAt(B)===W.charCodeAt(B);B++);return B>X-8&&10<B&&(W="..."+W.slice(B-8),G="..."+G.slice(B-8)),mZ(Z)+NY(W,X)+`
`+vG(Z)+NY(G,X)+`
`}return CW(Z)+NY(W,X)+`
`}function KB(W){return Object.prototype.toString.call(W).replace(/^\[object (.*)\]$/,function(G,Z){return Z})}function $Y(W,G){switch(typeof W){case"string":return W=JSON.stringify(W),W.length>G?5>G?'"..."':W.slice(0,G-4)+'..."':W;case"object":if(W===null)return"null";if(i1(W))return"[...]";if(W.$$typeof===BG)return(G=f(W.type))?"<"+G+">":"<...>";var Z=KB(W);if(Z==="Object"){Z="",G-=2;for(var X in W)if(W.hasOwnProperty(X)){var B=JSON.stringify(X);if(B!=='"'+X+'"'&&(X=B),G-=X.length-2,B=$Y(W[X],15>G?G:15),G-=B.length,0>G){Z+=Z===""?"...":", ...";break}Z+=(Z===""?"":",")+X+":"+B}return"{"+Z+"}"}return Z;case"function":return(G=W.displayName||W.name)?"function "+G:"function";default:return String(W)}}function dZ(W,G){return typeof W!=="string"||pU.test(W)?"{"+$Y(W,G-2)+"}":W.length>G-2?5>G?'"..."':'"'+W.slice(0,G-5)+'..."':'"'+W+'"'}function UB(W,G,Z){var X=120-Z.length-W.length,B=[],J;for(J in G)if(G.hasOwnProperty(J)&&J!=="children"){var z=dZ(G[J],120-Z.length-J.length-1);X-=J.length+z.length+2,B.push(J+"="+z)}return B.length===0?Z+"<"+W+`>
`:0<X?Z+"<"+W+" "+B.join(" ")+`>
`:Z+"<"+W+`
`+Z+"  "+B.join(`
`+Z+"  ")+`
`+Z+`>
`}function OL(W,G,Z){var X="",B=F0({},G),J;for(J in W)if(W.hasOwnProperty(J)){delete B[J];var z=120-2*Z-J.length-2,H=$Y(W[J],z);G.hasOwnProperty(J)?(z=$Y(G[J],z),X+=mZ(Z)+J+": "+H+`
`,X+=vG(Z)+J+": "+z+`
`):X+=mZ(Z)+J+": "+H+`
`}for(var T in B)B.hasOwnProperty(T)&&(W=$Y(B[T],120-2*Z-T.length-2),X+=vG(Z)+T+": "+W+`
`);return X}function VL(W,G,Z,X){var B="",J=new Map;for(I in Z)Z.hasOwnProperty(I)&&J.set(I.toLowerCase(),I);if(J.size===1&&J.has("children"))B+=UB(W,G,CW(X));else{for(var z in G)if(G.hasOwnProperty(z)&&z!=="children"){var H=120-2*(X+1)-z.length-1,T=J.get(z.toLowerCase());if(T!==void 0){J.delete(z.toLowerCase());var I=G[z];T=Z[T];var b=dZ(I,H);H=dZ(T,H),typeof I==="object"&&I!==null&&typeof T==="object"&&T!==null&&KB(I)==="Object"&&KB(T)==="Object"&&(2<Object.keys(I).length||2<Object.keys(T).length||-1<b.indexOf("...")||-1<H.indexOf("..."))?B+=CW(X+1)+z+`={{
`+OL(I,T,X+2)+CW(X+1)+`}}
`:(B+=mZ(X+1)+z+"="+b+`
`,B+=vG(X+1)+z+"="+H+`
`)}else B+=CW(X+1)+z+"="+dZ(G[z],H)+`
`}J.forEach(function(d){if(d!=="children"){var v=120-2*(X+1)-d.length-1;B+=vG(X+1)+d+"="+dZ(Z[d],v)+`
`}}),B=B===""?CW(X)+"<"+W+`>
`:CW(X)+"<"+W+`
`+B+CW(X)+`>
`}if(W=Z.children,G=G.children,typeof W==="string"||typeof W==="number"||typeof W==="bigint"){if(J="",typeof G==="string"||typeof G==="number"||typeof G==="bigint")J=""+G;B+=P8(J,""+W,X+1)}else if(typeof G==="string"||typeof G==="number"||typeof G==="bigint")B=W==null?B+P8(""+G,null,X+1):B+P8(""+G,void 0,X+1);return B}function B$(W,G){var Z=X$(W);if(Z===null){Z="";for(W=W.child;W;)Z+=B$(W,G),W=W.sibling;return Z}return CW(G)+"<"+Z+`>
`}function HB(W,G){var Z=Y$(W,G);if(Z!==W&&(W.children.length!==1||W.children[0]!==Z))return CW(G)+`...
`+HB(Z,G+1);Z="";var X=W.fiber._debugInfo;if(X)for(var B=0;B<X.length;B++){var J=X[B].name;typeof J==="string"&&(Z+=CW(G)+"<"+J+`>
`,G++)}if(X="",B=W.fiber.pendingProps,W.fiber.tag===6)X=P8(B,W.serverProps,G),G++;else if(J=X$(W.fiber),J!==null)if(W.serverProps===void 0){X=G;var z=120-2*X-J.length-2,H="";for(I in B)if(B.hasOwnProperty(I)&&I!=="children"){var T=dZ(B[I],15);if(z-=I.length+T.length+2,0>z){H+=" ...";break}H+=" "+I+"="+T}X=CW(X)+"<"+J+H+`>
`,G++}else W.serverProps===null?(X=UB(J,B,mZ(G)),G++):typeof W.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(X=VL(J,B,W.serverProps,G),G++);var I="";B=W.fiber.child;for(J=0;B&&J<W.children.length;)z=W.children[J],z.fiber===B?(I+=HB(z,G),J++):I+=B$(B,G),B=B.sibling;B&&0<W.children.length&&(I+=CW(G)+`...
`),B=W.serverTail,W.serverProps===null&&G--;for(W=0;W<B.length;W++)J=B[W],I=typeof J==="string"?I+(vG(G)+NY(J,120-2*G)+`
`):I+UB(J.type,J.props,vG(G));return Z+X+I}function _B(W){try{return`

`+HB(W,0)}catch(G){return""}}function Q$(W,G,Z){for(var X=G,B=null,J=0;X;)X===W&&(J=0),B={fiber:X,children:B!==null?[B]:[],serverProps:X===G?Z:X===W?null:void 0,serverTail:[],distanceFromLeaf:J},J++,X=X.return;return B!==null?_B(B).replaceAll(/^[+-]/gm,">"):""}function J$(W,G){W=F0({},W||lU);var Z={tag:G};if(cU.indexOf(G)!==-1&&(W.aTagInScope=null,W.buttonTagInScope=null,W.nobrTagInScope=null),wA.indexOf(G)!==-1&&(W.pTagInButtonScope=null),_A.indexOf(G)!==-1&&G!=="address"&&G!=="div"&&G!=="p"&&(W.listItemTagAutoclosing=null,W.dlItemTagAutoclosing=null),W.current=Z,G==="form"&&(W.formTag=Z),G==="a"&&(W.aTagInScope=Z),G==="button"&&(W.buttonTagInScope=Z),G==="nobr"&&(W.nobrTagInScope=Z),G==="p"&&(W.pTagInButtonScope=Z),G==="li"&&(W.listItemTagAutoclosing=Z),G==="dd"||G==="dt")W.dlItemTagAutoclosing=Z;return G==="#document"||G==="html"?W.containerTagInScope=null:W.containerTagInScope||(W.containerTagInScope=Z),W}function N$(W,G){switch(G){case"select":return W==="hr"||W==="option"||W==="optgroup"||W==="#text";case"optgroup":return W==="option"||W==="#text";case"option":return W==="#text";case"tr":return W==="th"||W==="td"||W==="style"||W==="script"||W==="template";case"tbody":case"thead":case"tfoot":return W==="tr"||W==="style"||W==="script"||W==="template";case"colgroup":return W==="col"||W==="template";case"table":return W==="caption"||W==="colgroup"||W==="tbody"||W==="tfoot"||W==="thead"||W==="style"||W==="script"||W==="template";case"head":return W==="base"||W==="basefont"||W==="bgsound"||W==="link"||W==="meta"||W==="title"||W==="noscript"||W==="noframes"||W==="style"||W==="script"||W==="template";case"html":return W==="head"||W==="body"||W==="frameset";case"frameset":return W==="frame";case"#document":return W==="html"}switch(W){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return G!=="h1"&&G!=="h2"&&G!=="h3"&&G!=="h4"&&G!=="h5"&&G!=="h6";case"rp":case"rt":return OA.indexOf(G)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return G==null}return!0}function LL(W,G){switch(W){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return G.pTagInButtonScope;case"form":return G.formTag||G.pTagInButtonScope;case"li":return G.listItemTagAutoclosing;case"dd":case"dt":return G.dlItemTagAutoclosing;case"button":return G.buttonTagInScope;case"a":return G.aTagInScope;case"nobr":return G.nobrTagInScope}return null}function $$(W,G){for(;W;){switch(W.tag){case 5:case 26:case 27:if(W.type===G)return W}W=W.return}return null}function wB(W,G){G=G||lU;var Z=G.current;if(G=(Z=N$(W,Z&&Z.tag)?null:Z)?null:LL(W,G),G=Z||G,!G)return!0;G=G.tag;var X=String(!!Z)+"|"+W+"|"+G;if(PX[X])return!1;PX[X]=!0;var B=(X=t1)?$$(X.return,G):null;return X=X!==null&&B!==null?Q$(B,X,null):"",B="<"+W+">",Z?(Z="",G==="table"&&W==="tr"&&(Z+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,B,G,Z,X)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,B,G,X),!1}function j8(W,G){if(N$("#text",G))return!0;var Z="#text|"+G;if(PX[Z])return!1;PX[Z]=!0;var X=(Z=t1)?$$(Z,G):null;return Z=Z!==null&&X!==null?Q$(X,Z,Z.tag!==6?{children:null}:null):"",/\S/.test(W)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,G,Z):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,G,Z),!1}function zY(W,G){if(G){var Z=W.firstChild;if(Z&&Z===W.lastChild&&Z.nodeType===3){Z.nodeValue=G;return}}W.textContent=G}function TL(W){return W.replace(TA,function(G,Z){return Z.toUpperCase()})}function z$(W,G,Z){var X=G.indexOf("--")===0;X||(-1<G.indexOf("-")?J7.hasOwnProperty(G)&&J7[G]||(J7[G]=!0,console.error("Unsupported style property %s. Did you mean %s?",G,TL(G.replace(LA,"ms-")))):VA.test(G)?J7.hasOwnProperty(G)&&J7[G]||(J7[G]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",G,G.charAt(0).toUpperCase()+G.slice(1))):!sU.test(Z)||EQ.hasOwnProperty(Z)&&EQ[Z]||(EQ[Z]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,G,Z.replace(sU,""))),typeof Z==="number"&&(isNaN(Z)?oU||(oU=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",G)):isFinite(Z)||aU||(aU=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",G)))),Z==null||typeof Z==="boolean"||Z===""?X?W.setProperty(G,""):G==="float"?W.cssFloat="":W[G]="":X?W.setProperty(G,Z):typeof Z!=="number"||Z===0||rU.has(G)?G==="float"?W.cssFloat=Z:(_9(Z,G),W[G]=(""+Z).trim()):W[G]=Z+"px"}function K$(W,G,Z){if(G!=null&&typeof G!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(G&&Object.freeze(G),W=W.style,Z!=null){if(G){var X={};if(Z){for(var B in Z)if(Z.hasOwnProperty(B)&&!G.hasOwnProperty(B))for(var J=AQ[B]||[B],z=0;z<J.length;z++)X[J[z]]=B}for(var H in G)if(G.hasOwnProperty(H)&&(!Z||Z[H]!==G[H]))for(B=AQ[H]||[H],J=0;J<B.length;J++)X[B[J]]=H;H={};for(var T in G)for(B=AQ[T]||[T],J=0;J<B.length;J++)H[B[J]]=T;T={};for(var I in X)if(B=X[I],(J=H[I])&&B!==J&&(z=B+","+J,!T[z])){T[z]=!0,z=console;var b=G[B];z.error.call(z,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",b==null||typeof b==="boolean"||b===""?"Removing":"Updating",B,J)}}for(var d in Z)!Z.hasOwnProperty(d)||G!=null&&G.hasOwnProperty(d)||(d.indexOf("--")===0?W.setProperty(d,""):d==="float"?W.cssFloat="":W[d]="");for(var v in G)I=G[v],G.hasOwnProperty(v)&&Z[v]!==I&&z$(W,v,I)}else for(X in G)G.hasOwnProperty(X)&&z$(W,X,G[X])}function KY(W){if(W.indexOf("-")===-1)return!1;switch(W){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function U$(W){return AA.get(W)||W}function AL(W,G){if(P5.call(N7,G)&&N7[G])return!0;if(IA.test(G)){if(W="aria-"+G.slice(4).toLowerCase(),W=tU.hasOwnProperty(W)?W:null,W==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",G),N7[G]=!0;if(G!==W)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",G,W),N7[G]=!0}if(EA.test(G)){if(W=G.toLowerCase(),W=tU.hasOwnProperty(W)?W:null,W==null)return N7[G]=!0,!1;G!==W&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",G,W),N7[G]=!0)}return!0}function EL(W,G){var Z=[],X;for(X in G)AL(W,X)||Z.push(X);G=Z.map(function(B){return"`"+B+"`"}).join(", "),Z.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",G,W):1<Z.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",G,W)}function IL(W,G,Z,X){if(P5.call(BW,G)&&BW[G])return!0;var B=G.toLowerCase();if(B==="onfocusin"||B==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),BW[G]=!0;if(typeof Z==="function"&&(W==="form"&&G==="action"||W==="input"&&G==="formAction"||W==="button"&&G==="formAction"))return!0;if(X!=null){if(W=X.possibleRegistrationNames,X.registrationNameDependencies.hasOwnProperty(G))return!0;if(X=W.hasOwnProperty(B)?W[B]:null,X!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",G,X),BW[G]=!0;if(WH.test(G))return console.error("Unknown event handler property `%s`. It will be ignored.",G),BW[G]=!0}else if(WH.test(G))return DA.test(G)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",G),BW[G]=!0;if(PA.test(G)||jA.test(G))return!0;if(B==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),BW[G]=!0;if(B==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),BW[G]=!0;if(B==="is"&&Z!==null&&Z!==void 0&&typeof Z!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof Z),BW[G]=!0;if(typeof Z==="number"&&isNaN(Z))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",G),BW[G]=!0;if(FX.hasOwnProperty(B)){if(B=FX[B],B!==G)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",G,B),BW[G]=!0}else if(G!==B)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",G,B),BW[G]=!0;switch(G){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof Z){case"boolean":switch(G){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(B=G.toLowerCase().slice(0,5),B==="data-"||B==="aria-")return!0;return Z?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',Z,G,G,Z,G):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',Z,G,G,Z,G,G,G),BW[G]=!0}case"function":case"symbol":return BW[G]=!0,!1;case"string":if(Z==="false"||Z==="true"){switch(G){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",Z,G,Z==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',G,Z),BW[G]=!0}}return!0}function DL(W,G,Z){var X=[],B;for(B in G)IL(W,B,G[B],Z)||X.push(B);G=X.map(function(J){return"`"+J+"`"}).join(", "),X.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",G,W):1<X.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",G,W)}function UY(W){return FA.test(""+W)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":W}function OB(W){return W=W.target||W.srcElement||window,W.correspondingUseElement&&(W=W.correspondingUseElement),W.nodeType===3?W.parentNode:W}function H$(W){var G=d9(W);if(G&&(W=G.stateNode)){var Z=W[TW]||null;W:switch(W=G.stateNode,G.type){case"input":if(g1(W,Z.value,Z.defaultValue,Z.defaultValue,Z.checked,Z.defaultChecked,Z.type,Z.name),G=Z.name,Z.type==="radio"&&G!=null){for(Z=W;Z.parentNode;)Z=Z.parentNode;y0(G,"name"),Z=Z.querySelectorAll('input[name="'+A0(""+G)+'"][type="radio"]');for(G=0;G<Z.length;G++){var X=Z[G];if(X!==W&&X.form===W.form){var B=X[TW]||null;if(!B)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");g1(X,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(G=0;G<Z.length;G++)X=Z[G],X.form===W.form&&Q0(X)}break W;case"textarea":G$(W,Z.value,Z.defaultValue);break W;case"select":G=Z.value,G!=null&&hZ(W,!!Z.multiple,G,!1)}}}function _$(W,G,Z){if(IQ)return W(G,Z);IQ=!0;try{var X=W(G);return X}finally{if(IQ=!1,$7!==null||z7!==null){if(aZ(),$7&&(G=$7,W=z7,z7=$7=null,H$(G),W))for(G=0;G<W.length;G++)H$(W[G])}}}function HY(W,G){var Z=W.stateNode;if(Z===null)return null;var X=Z[TW]||null;if(X===null)return null;Z=X[G];W:switch(G){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(X=!X.disabled)||(W=W.type,X=!(W==="button"||W==="input"||W==="select"||W==="textarea")),W=!X;break W;default:W=!1}if(W)return null;if(Z&&typeof Z!=="function")throw Error("Expected `"+G+"` listener to be a function, instead got a value of `"+typeof Z+"` type.");return Z}function w$(){if(qX)return qX;var W,G=PQ,Z=G.length,X,B="value"in $G?$G.value:$G.textContent,J=B.length;for(W=0;W<Z&&G[W]===B[W];W++);var z=Z-W;for(X=1;X<=z&&G[Z-X]===B[J-X];X++);return qX=B.slice(W,1<X?1-X:void 0)}function F8(W){var G=W.keyCode;return"charCode"in W?(W=W.charCode,W===0&&G===13&&(W=13)):W=G,W===10&&(W=13),32<=W||W===13?W:0}function q8(){return!0}function O$(){return!1}function OW(W){function G(Z,X,B,J,z){this._reactName=Z,this._targetInst=B,this.type=X,this.nativeEvent=J,this.target=z,this.currentTarget=null;for(var H in W)W.hasOwnProperty(H)&&(Z=W[H],this[H]=Z?Z(J):J[H]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?q8:O$,this.isPropagationStopped=O$,this}return F0(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Z=this.nativeEvent;Z&&(Z.preventDefault?Z.preventDefault():typeof Z.returnValue!=="unknown"&&(Z.returnValue=!1),this.isDefaultPrevented=q8)},stopPropagation:function(){var Z=this.nativeEvent;Z&&(Z.stopPropagation?Z.stopPropagation():typeof Z.cancelBubble!=="unknown"&&(Z.cancelBubble=!0),this.isPropagationStopped=q8)},persist:function(){},isPersistent:q8}),G}function PL(W){var G=this.nativeEvent;return G.getModifierState?G.getModifierState(W):(W=hA[W])?!!G[W]:!1}function VB(){return PL}function V$(W,G){switch(W){case"keyup":return rA.indexOf(G.keyCode)!==-1;case"keydown":return G.keyCode!==XH;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L$(W){return W=W.detail,typeof W==="object"&&"data"in W?W.data:null}function jL(W,G){switch(W){case"compositionend":return L$(G);case"keypress":if(G.which!==QH)return null;return NH=!0,JH;case"textInput":return W=G.data,W===JH&&NH?null:W;default:return null}}function FL(W,G){if(K7)return W==="compositionend"||!CQ&&V$(W,G)?(W=w$(),qX=PQ=$G=null,K7=!1,W):null;switch(W){case"paste":return null;case"keypress":if(!(G.ctrlKey||G.altKey||G.metaKey)||G.ctrlKey&&G.altKey){if(G.char&&1<G.char.length)return G.char;if(G.which)return String.fromCharCode(G.which)}return null;case"compositionend":return BH&&G.locale!=="ko"?null:G.data;default:return null}}function T$(W){var G=W&&W.nodeName&&W.nodeName.toLowerCase();return G==="input"?!!eA[W.type]:G==="textarea"?!0:!1}function qL(W){if(!W5)return!1;W="on"+W;var G=W in document;return G||(G=document.createElement("div"),G.setAttribute(W,"return;"),G=typeof G[W]==="function"),G}function A$(W,G,Z,X){$7?z7?z7.push(X):z7=[X]:$7=X,G=JX(G,"onChange"),0<G.length&&(Z=new CX("onChange","change",null,Z,X),W.push({event:Z,listeners:G}))}function CL(W){gK(W,0)}function C8(W){var G=s5(W);if(Q0(G))return W}function E$(W,G){if(W==="change")return G}function I$(){oY&&(oY.detachEvent("onpropertychange",D$),aY=oY=null)}function D$(W){if(W.propertyName==="value"&&C8(aY)){var G=[];A$(G,aY,W,OB(W)),_$(CL,G)}}function ML(W,G,Z){W==="focusin"?(I$(),oY=G,aY=Z,oY.attachEvent("onpropertychange",D$)):W==="focusout"&&I$()}function SL(W){if(W==="selectionchange"||W==="keyup"||W==="keydown")return C8(aY)}function RL(W,G){if(W==="click")return C8(G)}function kL(W,G){if(W==="input"||W==="change")return C8(G)}function xL(W,G){return W===G&&(W!==0||1/W===1/G)||W!==W&&G!==G}function _Y(W,G){if(QW(W,G))return!0;if(typeof W!=="object"||W===null||typeof G!=="object"||G===null)return!1;var Z=Object.keys(W),X=Object.keys(G);if(Z.length!==X.length)return!1;for(X=0;X<Z.length;X++){var B=Z[X];if(!P5.call(G,B)||!QW(W[B],G[B]))return!1}return!0}function P$(W){for(;W&&W.firstChild;)W=W.firstChild;return W}function j$(W,G){var Z=P$(W);W=0;for(var X;Z;){if(Z.nodeType===3){if(X=W+Z.textContent.length,W<=G&&X>=G)return{node:Z,offset:G-W};W=X}W:{for(;Z;){if(Z.nextSibling){Z=Z.nextSibling;break W}Z=Z.parentNode}Z=void 0}Z=P$(Z)}}function F$(W,G){return W&&G?W===G?!0:W&&W.nodeType===3?!1:G&&G.nodeType===3?F$(W,G.parentNode):("contains"in W)?W.contains(G):W.compareDocumentPosition?!!(W.compareDocumentPosition(G)&16):!1:!1}function q$(W){W=W!=null&&W.ownerDocument!=null&&W.ownerDocument.defaultView!=null?W.ownerDocument.defaultView:window;for(var G=g0(W.document);G instanceof W.HTMLIFrameElement;){try{var Z=typeof G.contentWindow.location.href==="string"}catch(X){Z=!1}if(Z)W=G.contentWindow;else break;G=g0(W.document)}return G}function LB(W){var G=W&&W.nodeName&&W.nodeName.toLowerCase();return G&&(G==="input"&&(W.type==="text"||W.type==="search"||W.type==="tel"||W.type==="url"||W.type==="password")||G==="textarea"||W.contentEditable==="true")}function bL(W,G){var Z=q$(G);G=W.focusedElem;var X=W.selectionRange;if(Z!==G&&G&&G.ownerDocument&&F$(G.ownerDocument.documentElement,G)){if(X!==null&&LB(G)){if(W=X.start,Z=X.end,Z===void 0&&(Z=W),"selectionStart"in G)G.selectionStart=W,G.selectionEnd=Math.min(Z,G.value.length);else if(Z=(W=G.ownerDocument||document)&&W.defaultView||window,Z.getSelection){Z=Z.getSelection();var B=G.textContent.length,J=Math.min(X.start,B);X=X.end===void 0?J:Math.min(X.end,B),!Z.extend&&J>X&&(B=X,X=J,J=B),B=j$(G,J);var z=j$(G,X);B&&z&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)&&(W=W.createRange(),W.setStart(B.node,B.offset),Z.removeAllRanges(),J>X?(Z.addRange(W),Z.extend(z.node,z.offset)):(W.setEnd(z.node,z.offset),Z.addRange(W)))}}W=[];for(Z=G;Z=Z.parentNode;)Z.nodeType===1&&W.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});typeof G.focus==="function"&&G.focus();for(G=0;G<W.length;G++)Z=W[G],Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}function C$(W,G,Z){var X=Z.window===Z?Z.document:Z.nodeType===9?Z:Z.ownerDocument;SQ||U7==null||U7!==g0(X)||(X=U7,("selectionStart"in X)&&LB(X)?X={start:X.selectionStart,end:X.selectionEnd}:(X=(X.ownerDocument&&X.ownerDocument.defaultView||window).getSelection(),X={anchorNode:X.anchorNode,anchorOffset:X.anchorOffset,focusNode:X.focusNode,focusOffset:X.focusOffset}),rY&&_Y(rY,X)||(rY=X,X=JX(MQ,"onSelect"),0<X.length&&(G=new CX("onSelect","select",null,G,Z),W.push({event:G,listeners:X}),G.target=U7)))}function fG(W,G){var Z={};return Z[W.toLowerCase()]=G.toLowerCase(),Z["Webkit"+W]="webkit"+G,Z["Moz"+W]="moz"+G,Z}function yG(W){if(RQ[W])return RQ[W];if(!H7[W])return W;var G=H7[W],Z;for(Z in G)if(G.hasOwnProperty(Z)&&Z in zH)return RQ[W]=G[Z];return W}function T9(W,G){wH.set(W,G),u9(G,[W])}function M8(){for(var W=_7,G=kQ=_7=0;G<W;){var Z=rW[G];rW[G++]=null;var X=rW[G];rW[G++]=null;var B=rW[G];rW[G++]=null;var J=rW[G];if(rW[G++]=null,X!==null&&B!==null){var z=X.pending;z===null?B.next=B:(B.next=z.next,z.next=B),X.pending=B}J!==0&&M$(Z,B,J)}}function S8(W,G,Z,X){rW[_7++]=W,rW[_7++]=G,rW[_7++]=Z,rW[_7++]=X,kQ|=X,W.lanes|=X,W=W.alternate,W!==null&&(W.lanes|=X)}function TB(W,G,Z,X){return S8(W,G,Z,X),R8(W)}function r1(W,G){return S8(W,null,null,G),R8(W)}function M$(W,G,Z){W.lanes|=Z;var X=W.alternate;X!==null&&(X.lanes|=Z);for(var B=!1,J=W.return;J!==null;)J.childLanes|=Z,X=J.alternate,X!==null&&(X.childLanes|=Z),J.tag===22&&(W=J.stateNode,W===null||W._visibility&tY||(B=!0)),W=J,J=J.return;B&&G!==null&&W.tag===3&&(J=W.stateNode,B=31-XW(Z),J=J.hiddenUpdates,W=J[B],W===null?J[B]=[G]:W.push(G),G.lane=Z|536870912)}function R8(W){if(A4>OE)throw wZ=A4=0,E4=JJ=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");wZ>VE&&(wZ=0,E4=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),W.alternate===null&&(W.flags&4098)!==0&&SK(W);for(var G=W,Z=G.return;Z!==null;)G.alternate===null&&(G.flags&4098)!==0&&SK(W),G=Z,Z=G.return;return G.tag===3?G.stateNode:null}function gG(W){if(tW===null)return W;var G=tW(W);return G===void 0?W:G.current}function AB(W){if(tW===null)return W;var G=tW(W);return G===void 0?W!==null&&W!==void 0&&typeof W.render==="function"&&(G=gG(W.render),W.render!==G)?(G={$$typeof:mY,render:G},W.displayName!==void 0&&(G.displayName=W.displayName),G):W:G.current}function S$(W,G){if(tW===null)return!1;var Z=W.elementType;G=G.type;var X=!1,B=typeof G==="object"&&G!==null?G.$$typeof:null;switch(W.tag){case 1:typeof G==="function"&&(X=!0);break;case 0:typeof G==="function"?X=!0:B===kW&&(X=!0);break;case 11:B===mY?X=!0:B===kW&&(X=!0);break;case 14:case 15:B===TX?X=!0:B===kW&&(X=!0);break;default:return!1}return X&&(W=tW(Z),W!==void 0&&W===tW(G))?!0:!1}function R$(W){tW!==null&&typeof WeakSet==="function"&&(w7===null&&(w7=new WeakSet),w7.add(W))}function EB(W,G,Z){var{alternate:X,child:B,sibling:J,tag:z,type:H}=W,T=null;switch(z){case 0:case 15:case 1:T=H;break;case 11:T=H.render}if(tW===null)throw Error("Expected resolveFamily to be set during hot reload.");var I=!1;if(H=!1,T!==null&&(T=tW(T),T!==void 0&&(Z.has(T)?H=!0:G.has(T)&&(z===1?H=!0:I=!0))),w7!==null&&(w7.has(W)||X!==null&&w7.has(X))&&(H=!0),H&&(W._debugNeedsRemount=!0),H||I)X=r1(W,2),X!==null&&O1(X,W,2);B===null||H||EB(B,G,Z),J!==null&&EB(J,G,Z)}function w5(){var W=ZZ;return ZZ=0,W}function k8(W){var G=ZZ;return ZZ=W,G}function wY(W){var G=ZZ;return ZZ+=W,G}function IB(W){AW=O7(),0>W.actualStartTime&&(W.actualStartTime=AW)}function DB(W){if(0<=AW){var G=O7()-AW;W.actualDuration+=G,W.selfBaseDuration=G,AW=-1}}function k$(W){if(0<=AW){var G=O7()-AW;W.actualDuration+=G,AW=-1}}function c9(){if(0<=AW){var W=O7()-AW;AW=-1,ZZ+=W}}function l9(){AW=O7()}function x8(W){for(var G=W.child;G;)W.actualDuration+=G.actualDuration,G=G.sibling}function MW(W,G){if(typeof W==="object"&&W!==null){var Z=bQ.get(W);if(Z!==void 0)return Z;return G={value:W,source:G,stack:W1(G)},bQ.set(W,G),G}return{value:W,source:G,stack:W1(G)}}function hG(W,G){mG(),V7[L7++]=vX,V7[L7++]=bX,bX=W,vX=G}function x$(W,G,Z){mG(),eW[W9++]=F5,eW[W9++]=q5,eW[W9++]=XZ,XZ=W;var X=F5;W=q5;var B=32-XW(X)-1;X&=~(1<<B),Z+=1;var J=32-XW(G)+B;if(30<J){var z=B-B%5;J=(X&(1<<z)-1).toString(32),X>>=z,B-=z,F5=1<<32-XW(G)+B|Z<<B|X,q5=J+W}else F5=1<<J|Z<<B|X,q5=W}function PB(W){mG(),W.return!==null&&(hG(W,1),x$(W,1,0))}function jB(W){for(;W===bX;)bX=V7[--L7],V7[L7]=null,vX=V7[--L7],V7[L7]=null;for(;W===XZ;)XZ=eW[--W9],eW[W9]=null,q5=eW[--W9],eW[W9]=null,F5=eW[--W9],eW[W9]=null}function mG(){v0||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function dG(W,G){if(W.return===null){if(G9===null)G9={fiber:W,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:G};else{if(G9.fiber!==W)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");G9.distanceFromLeaf>G&&(G9.distanceFromLeaf=G)}return G9}var Z=dG(W.return,G+1).children;if(0<Z.length&&Z[Z.length-1].fiber===W)return Z=Z[Z.length-1],Z.distanceFromLeaf>G&&(Z.distanceFromLeaf=G),Z;return G={fiber:W,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:G},Z.push(G),G}function FB(W,G){C5||(W=dG(W,0),W.serverProps=null,G!==null&&(G=rK(G),W.serverTail.push(G)))}function uG(W){var G="",Z=G9;throw Z!==null&&(G9=null,G=_B(Z)),LY(MW(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+G),W)),vQ}function b$(W){var{stateNode:G,type:Z,memoizedProps:X}=W;switch(G[WW]=W,G[TW]=X,c6(Z,X),Z){case"dialog":b0("cancel",G),b0("close",G);break;case"iframe":case"object":case"embed":b0("load",G);break;case"video":case"audio":for(Z=0;Z<I4.length;Z++)b0(I4[Z],G);break;case"source":b0("error",G);break;case"img":case"image":case"link":b0("error",G),b0("load",G);break;case"details":b0("toggle",G);break;case"input":L9("input",X),b0("invalid",G),J1(G,X),p9(G,X.value,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name,!0),z0(G);break;case"option":bG(G,X);break;case"select":L9("select",X),b0("invalid",G),eN(G,X);break;case"textarea":L9("textarea",X),b0("invalid",G),W$(G,X),Z$(G,X.value,X.defaultValue,X.children),z0(G)}Z=X.children,typeof Z!=="string"&&typeof Z!=="number"&&typeof Z!=="bigint"||G.textContent===""+Z||X.suppressHydrationWarning===!0||uK(G.textContent,Z)?(X.popover!=null&&(b0("beforetoggle",G),b0("toggle",G)),X.onScroll!=null&&b0("scroll",G),X.onScrollEnd!=null&&b0("scrollend",G),X.onClick!=null&&(G.onclick=NX),G=!0):G=!1,G||uG(W)}function v$(W){for(JW=W.return;JW;)switch(JW.tag){case 3:case 27:G5=!0;return;case 5:case 13:G5=!1;return;default:JW=JW.return}}function OY(W){if(W!==JW)return!1;if(!v0)return v$(W),v0=!0,!1;var G=!1,Z;if(Z=W.tag!==3&&W.tag!==27){if(Z=W.tag===5)Z=W.type,Z=!(Z!=="form"&&Z!=="button")||s6(W.type,W.memoizedProps);Z=!Z}if(Z&&(G=!0),G&&s1){for(G=s1;G;){Z=dG(W,0);var X=rK(G);Z.serverTail.push(X),G=X.type==="Suspense"?eK(G):oW(G.nextSibling)}uG(W)}if(v$(W),W.tag===13){if(W=W.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");s1=eK(W)}else s1=JW?oW(W.stateNode.nextSibling):null;return!0}function VY(){s1=JW=null,C5=v0=!1}function LY(W){F9===null?F9=[W]:F9.push(W)}function f$(){var W=G9;W!==null&&(G9=null,W=_B(W),console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",W))}function y$(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function g$(W){return W=W.status,W==="fulfilled"||W==="rejected"}function b8(){}function h$(W,G,Z){g.actQueue!==null&&(g.didUsePromise=!0);var X=W.thenables;switch(Z=X[Z],Z===void 0?X.push(G):Z!==G&&(W.didWarnAboutUncachedPromise||(W.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),G.then(b8,b8),G=Z),G.status){case"fulfilled":return G.value;case"rejected":throw W=G.reason,d$(W),W;default:if(typeof G.status==="string")G.then(b8,b8);else{if(W=Z1,W!==null&&100<W.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");W=G,W.status="pending",W.then(function(B){if(G.status==="pending"){var J=G;J.status="fulfilled",J.value=B}},function(B){if(G.status==="pending"){var J=G;J.status="rejected",J.reason=B}})}switch(G.status){case"fulfilled":return G.value;case"rejected":throw W=G.reason,d$(W),W}throw B4=G,yX=!0,fX}}function m$(){if(B4===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var W=B4;return B4=null,yX=!1,W}function d$(W){if(W===fX)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function p1(W){var G=j0;return W!=null&&(j0=G===null?W:G.concat(W)),G}function v8(W,G,Z){for(var X=Object.keys(W.props),B=0;B<X.length;B++){var J=X[B];if(J!=="children"&&J!=="key"){G===null&&(G=XX(W,Z.mode,0),G._debugInfo=j0,G.return=Z),W0(G,function(z){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",z)},J);break}}}function f8(W){var G=Q4;return Q4+=1,T7===null&&(T7=y$()),h$(T7,W,G)}function TY(W,G){G=G.props.ref,W.ref=G!==void 0?G:null}function y8(W,G){if(G.$$typeof===oT)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw W=Object.prototype.toString.call(G),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}function g8(W,G){var Z=p(W)||"Component";bH[Z]||(bH[Z]=!0,G=G.displayName||G.name||"Component",W.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,G,G,G):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,G,G,Z,G,Z))}function h8(W,G){var Z=p(W)||"Component";vH[Z]||(vH[Z]=!0,G=String(G),W.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,G):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,Z,G,Z))}function u$(W){function G(P,D){if(W){var F=P.deletions;F===null?(P.deletions=[D],P.flags|=16):F.push(D)}}function Z(P,D){if(!W)return null;for(;D!==null;)G(P,D),D=D.sibling;return null}function X(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function B(P,D){return P=YG(P,D),P.index=0,P.sibling=null,P}function J(P,D,F){if(P.index=F,!W)return P.flags|=1048576,D;if(F=P.alternate,F!==null)return F=F.index,F<D?(P.flags|=33554434,D):F;return P.flags|=33554434,D}function z(P){return W&&P.alternate===null&&(P.flags|=33554434),P}function H(P,D,F,m){if(D===null||D.tag!==6)return D=S6(F,P.mode,m),D.return=P,D._debugOwner=P,D._debugInfo=j0,D;return D=B(D,F),D.return=P,D._debugInfo=j0,D}function T(P,D,F,m){var r=F.type;if(r===Y7)return D=b(P,D,F.props.children,m,F.key),v8(F,D,P),D;if(D!==null&&(D.elementType===r||S$(D,F)||typeof r==="object"&&r!==null&&r.$$typeof===kW&&KG(r)===D.type))return D=B(D,F.props),TY(D,F),D.return=P,D._debugOwner=F._owner,D._debugInfo=j0,D;return D=XX(F,P.mode,m),TY(D,F),D.return=P,D._debugInfo=j0,D}function I(P,D,F,m){if(D===null||D.tag!==4||D.stateNode.containerInfo!==F.containerInfo||D.stateNode.implementation!==F.implementation)return D=R6(F,P.mode,m),D.return=P,D._debugInfo=j0,D;return D=B(D,F.children||[]),D.return=P,D._debugInfo=j0,D}function b(P,D,F,m,r){if(D===null||D.tag!==7)return D=aG(F,P.mode,m,r),D.return=P,D._debugOwner=P,D._debugInfo=j0,D;return D=B(D,F),D.return=P,D._debugInfo=j0,D}function d(P,D,F){if(typeof D==="string"&&D!==""||typeof D==="number"||typeof D==="bigint")return D=S6(""+D,P.mode,F),D.return=P,D._debugOwner=P,D._debugInfo=j0,D;if(typeof D==="object"&&D!==null){switch(D.$$typeof){case BG:return F=XX(D,P.mode,F),TY(F,D),F.return=P,P=p1(D._debugInfo),F._debugInfo=j0,j0=P,F;case Z7:return D=R6(D,P.mode,F),D.return=P,D._debugInfo=j0,D;case kW:var m=p1(D._debugInfo);return D=KG(D),P=d(P,D,F),j0=m,P}if(i1(D)||k(D))return F=aG(D,P.mode,F,null),F.return=P,F._debugOwner=P,P=p1(D._debugInfo),F._debugInfo=j0,j0=P,F;if(typeof D.then==="function")return m=p1(D._debugInfo),P=d(P,f8(D),F),j0=m,P;if(D.$$typeof===a9)return d(P,WX(P,D),F);y8(P,D)}return typeof D==="function"&&g8(P,D),typeof D==="symbol"&&h8(P,D),null}function v(P,D,F,m){var r=D!==null?D.key:null;if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return r!==null?null:H(P,D,""+F,m);if(typeof F==="object"&&F!==null){switch(F.$$typeof){case BG:return F.key===r?(r=p1(F._debugInfo),P=T(P,D,F,m),j0=r,P):null;case Z7:return F.key===r?I(P,D,F,m):null;case kW:return r=p1(F._debugInfo),F=KG(F),P=v(P,D,F,m),j0=r,P}if(i1(F)||k(F)){if(r!==null)return null;return r=p1(F._debugInfo),P=b(P,D,F,m,null),j0=r,P}if(typeof F.then==="function")return r=p1(F._debugInfo),P=v(P,D,f8(F),m),j0=r,P;if(F.$$typeof===a9)return v(P,D,WX(P,F),m);y8(P,F)}return typeof F==="function"&&g8(P,F),typeof F==="symbol"&&h8(P,F),null}function c(P,D,F,m,r){if(typeof m==="string"&&m!==""||typeof m==="number"||typeof m==="bigint")return P=P.get(F)||null,H(D,P,""+m,r);if(typeof m==="object"&&m!==null){switch(m.$$typeof){case BG:return F=P.get(m.key===null?F:m.key)||null,P=p1(m._debugInfo),D=T(D,F,m,r),j0=P,D;case Z7:return P=P.get(m.key===null?F:m.key)||null,I(D,P,m,r);case kW:var E0=p1(m._debugInfo);return m=KG(m),D=c(P,D,F,m,r),j0=E0,D}if(i1(m)||k(m))return F=P.get(F)||null,P=p1(m._debugInfo),D=b(D,F,m,r,null),j0=P,D;if(typeof m.then==="function")return E0=p1(m._debugInfo),D=c(P,D,F,f8(m),r),j0=E0,D;if(m.$$typeof===a9)return c(P,D,F,WX(D,m),r);y8(D,m)}return typeof m==="function"&&g8(D,m),typeof m==="symbol"&&h8(D,m),null}function $0(P,D,F,m){if(typeof F!=="object"||F===null)return m;switch(F.$$typeof){case BG:case Z7:A(P,D,F);var r=F.key;if(typeof r!=="string")break;if(m===null){m=new Set,m.add(r);break}if(!m.has(r)){m.add(r);break}W0(D,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",r)});break;case kW:F=KG(F),$0(P,D,F,m)}return m}function D0(P,D,F,m){for(var r=null,E0=null,J0=null,I0=D,P0=D=0,z1=null;I0!==null&&P0<F.length;P0++){I0.index>P0?(z1=I0,I0=null):z1=I0.sibling;var F1=v(P,I0,F[P0],m);if(F1===null){I0===null&&(I0=z1);break}r=$0(P,F1,F[P0],r),W&&I0&&F1.alternate===null&&G(P,I0),D=J(F1,D,P0),J0===null?E0=F1:J0.sibling=F1,J0=F1,I0=z1}if(P0===F.length)return Z(P,I0),v0&&hG(P,P0),E0;if(I0===null){for(;P0<F.length;P0++)I0=d(P,F[P0],m),I0!==null&&(r=$0(P,I0,F[P0],r),D=J(I0,D,P0),J0===null?E0=I0:J0.sibling=I0,J0=I0);return v0&&hG(P,P0),E0}for(I0=X(I0);P0<F.length;P0++)z1=c(I0,P,P0,F[P0],m),z1!==null&&(r=$0(P,z1,F[P0],r),W&&z1.alternate!==null&&I0.delete(z1.key===null?P0:z1.key),D=J(z1,D,P0),J0===null?E0=z1:J0.sibling=z1,J0=z1);return W&&I0.forEach(function(y5){return G(P,y5)}),v0&&hG(P,P0),E0}function j1(P,D,F,m){if(F==null)throw Error("An iterable object provided no iterator.");for(var r=null,E0=null,J0=D,I0=D=0,P0=null,z1=null,F1=F.next();J0!==null&&!F1.done;I0++,F1=F.next()){J0.index>I0?(P0=J0,J0=null):P0=J0.sibling;var y5=v(P,J0,F1.value,m);if(y5===null){J0===null&&(J0=P0);break}z1=$0(P,y5,F1.value,z1),W&&J0&&y5.alternate===null&&G(P,J0),D=J(y5,D,I0),E0===null?r=y5:E0.sibling=y5,E0=y5,J0=P0}if(F1.done)return Z(P,J0),v0&&hG(P,I0),r;if(J0===null){for(;!F1.done;I0++,F1=F.next())J0=d(P,F1.value,m),J0!==null&&(z1=$0(P,J0,F1.value,z1),D=J(J0,D,I0),E0===null?r=J0:E0.sibling=J0,E0=J0);return v0&&hG(P,I0),r}for(J0=X(J0);!F1.done;I0++,F1=F.next())P0=c(J0,P,I0,F1.value,m),P0!==null&&(z1=$0(P,P0,F1.value,z1),W&&P0.alternate!==null&&J0.delete(P0.key===null?I0:P0.key),D=J(P0,D,I0),E0===null?r=P0:E0.sibling=P0,E0=P0);return W&&J0.forEach(function(SE){return G(P,SE)}),v0&&hG(P,I0),r}function u0(P,D,F,m){if(typeof F==="object"&&F!==null&&F.type===Y7&&F.key===null&&(v8(F,null,P),F=F.props.children),typeof F==="object"&&F!==null){switch(F.$$typeof){case BG:var r=p1(F._debugInfo);W:{for(var E0=F.key;D!==null;){if(D.key===E0){if(E0=F.type,E0===Y7){if(D.tag===7){Z(P,D.sibling),m=B(D,F.props.children),m.return=P,m._debugOwner=F._owner,m._debugInfo=j0,v8(F,m,P),P=m;break W}}else if(D.elementType===E0||S$(D,F)||typeof E0==="object"&&E0!==null&&E0.$$typeof===kW&&KG(E0)===D.type){Z(P,D.sibling),m=B(D,F.props),TY(m,F),m.return=P,m._debugOwner=F._owner,m._debugInfo=j0,P=m;break W}Z(P,D);break}else G(P,D);D=D.sibling}F.type===Y7?(m=aG(F.props.children,P.mode,m,F.key),m.return=P,m._debugOwner=P,m._debugInfo=j0,v8(F,m,P),P=m):(m=XX(F,P.mode,m),TY(m,F),m.return=P,m._debugInfo=j0,P=m)}return P=z(P),j0=r,P;case Z7:W:{r=F;for(F=r.key;D!==null;){if(D.key===F)if(D.tag===4&&D.stateNode.containerInfo===r.containerInfo&&D.stateNode.implementation===r.implementation){Z(P,D.sibling),m=B(D,r.children||[]),m.return=P,P=m;break W}else{Z(P,D);break}else G(P,D);D=D.sibling}m=R6(r,P.mode,m),m.return=P,P=m}return z(P);case kW:return r=p1(F._debugInfo),F=KG(F),P=u0(P,D,F,m),j0=r,P}if(i1(F))return r=p1(F._debugInfo),P=D0(P,D,F,m),j0=r,P;if(k(F)){if(r=p1(F._debugInfo),E0=k(F),typeof E0!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var J0=E0.call(F);if(J0===F){if(P.tag!==0||Object.prototype.toString.call(P.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(J0)!=="[object Generator]")kH||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),kH=!0}else F.entries!==E0||hQ||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),hQ=!0);return P=j1(P,D,J0,m),j0=r,P}if(typeof F.then==="function")return r=p1(F._debugInfo),P=u0(P,D,f8(F),m),j0=r,P;if(F.$$typeof===a9)return u0(P,D,WX(P,F),m);y8(P,F)}if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return r=""+F,D!==null&&D.tag===6?(Z(P,D.sibling),m=B(D,r),m.return=P,P=m):(Z(P,D),m=S6(r,P.mode,m),m.return=P,m._debugOwner=P,m._debugInfo=j0,P=m),z(P);return typeof F==="function"&&g8(P,F),typeof F==="symbol"&&h8(P,F),Z(P,D)}return function(P,D,F,m){var r=j0;j0=null;try{Q4=0;var E0=u0(P,D,F,m);return T7=null,E0}catch(z1){if(z1===fX)throw z1;var J0=L(29,z1,null,P.mode);J0.lanes=m,J0.return=P;var I0=J0._debugInfo=j0;if(J0._debugOwner=P._debugOwner,I0!=null){for(var P0=I0.length-1;0<=P0;P0--)if(typeof I0[P0].stack==="string"){J0._debugOwner=I0[P0];break}}return J0}finally{j0=r}}}function p$(W,G){var Z=X5;R0(gX,Z,W),R0(A7,G,W),X5=Z|G.baseLanes}function qB(W){R0(gX,X5,W),R0(A7,A7.current,W)}function CB(W){X5=gX.current,d0(A7,W),d0(gX,W)}function a5(W){var G=W.alternate;R0(S1,S1.current&E7,W),R0(Z9,W,W),Z5===null&&(G===null||A7.current!==null?Z5=W:G.memoizedState!==null&&(Z5=W))}function c$(W){if(W.tag===22){if(R0(S1,S1.current,W),R0(Z9,W,W),Z5===null){var G=W.alternate;G!==null&&G.memoizedState!==null&&(Z5=W)}}else r5(W)}function r5(W){R0(S1,S1.current,W),R0(Z9,Z9.current,W)}function O5(W){d0(Z9,W),Z5===W&&(Z5=null),d0(S1,W)}function m8(W){for(var G=W;G!==null;){if(G.tag===13){var Z=G.memoizedState;if(Z!==null&&(Z=Z.dehydrated,Z===null||Z.data===LZ||Z.data===TZ))return G}else if(G.tag===19&&G.memoizedProps.revealOrder!==void 0){if((G.flags&128)!==0)return G}else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===W)break;for(;G.sibling===null;){if(G.return===null||G.return===W)return null;G=G.return}G.sibling.return=G.return,G=G.sibling}return null}function MB(){return{controller:new NE,data:new Map,refCount:0}}function pG(W){W.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),W.refCount++}function AY(W){W.refCount--,0>W.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),W.refCount===0&&$E(zE,function(){W.controller.abort()})}function vL(W,G){if(N4===null){var Z=N4=[];mQ=0,QZ=m6(),I7={status:"pending",value:void 0,then:function(X){Z.push(X)}}}return mQ++,G.then(l$,l$),G}function l$(){if(--mQ===0&&N4!==null){I7!==null&&(I7.status="fulfilled");var W=N4;N4=null,QZ=0,I7=null;for(var G=0;G<W.length;G++)W[G]()}}function fL(W,G){var Z=[],X={status:"pending",value:null,reason:null,then:function(B){Z.push(B)}};return W.then(function(){X.status="fulfilled",X.value=G;for(var B=0;B<Z.length;B++)Z[B](G)},function(B){X.status="rejected",X.reason=B;for(B=0;B<Z.length;B++)Z[B](void 0)}),X}function SB(){var W=JZ.current;return W!==null?W:Z1.pooledCache}function d8(W,G){G===null?R0(JZ,JZ.current,W):R0(JZ,G.pool,W)}function i$(){var W=SB();return W===null?null:{parent:k1._currentValue,pool:W}}function C0(){var W=y;B9===null?B9=[W]:B9.push(W)}function s(){var W=y;if(B9!==null&&(S5++,B9[S5]!==W)){var G=p(V0);if(!gH.has(G)&&(gH.add(G),B9!==null)){for(var Z="",X=0;X<=S5;X++){var B=B9[X],J=X===S5?W:B;for(B=X+1+". "+B;30>B.length;)B+=" ";B+=J+`
`,Z+=B}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,G,Z)}}}function uZ(W){W===void 0||W===null||i1(W)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",y,typeof W)}function u8(){var W=p(V0);mH.has(W)||(mH.add(W),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",W))}function P1(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function RB(W,G){if(z4)return!1;if(G===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",y),!1;W.length!==G.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,y,"["+G.join(", ")+"]","["+W.join(", ")+"]");for(var Z=0;Z<G.length&&Z<W.length;Z++)if(!QW(W[Z],G[Z]))return!1;return!0}function kB(W,G,Z,X,B,J){if(UG=J,V0=G,B9=W!==null?W._debugHookTypes:null,S5=-1,z4=W!==null&&W.type!==G.type,Object.prototype.toString.call(Z)==="[object AsyncFunction]"||Object.prototype.toString.call(Z)==="[object AsyncGeneratorFunction]")J=p(V0),dQ.has(J)||(dQ.add(J),console.error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."));G.memoizedState=null,G.updateQueue=null,G.lanes=0,g.H=W!==null&&W.memoizedState!==null?_G:B9!==null?$Z:HG,NZ=J=(G.mode&GW)!==X1;var z=yQ(Z,X,B);if(NZ=!1,P7&&(z=xB(G,Z,X,B)),J){i0(!0);try{z=xB(G,Z,X,B)}finally{i0(!1)}}return n$(W,G),z}function n$(W,G){G._debugHookTypes=B9,G.dependencies===null?M5!==null&&(G.dependencies={lanes:0,firstContext:null,_debugThenableState:M5}):G.dependencies._debugThenableState=M5,g.H=Y5;var Z=t0!==null&&t0.next!==null;if(UG=0,B9=y=q1=t0=V0=null,S5=-1,W!==null&&(W.flags&31457280)!==(G.flags&31457280)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),hX=!1,$4=0,M5=null,Z)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");W===null||m1||(W=W.dependencies,W!==null&&e8(W)&&(m1=!0)),yX?(yX=!1,W=!0):W=!1,W&&(G=p(G)||"Unknown",hH.has(G)||dQ.has(G)||(hH.add(G),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function xB(W,G,Z,X){V0=W;var B=0;do{if(P7&&(M5=null),$4=0,P7=!1,B>=UE)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(B+=1,z4=!1,q1=t0=null,W.updateQueue!=null){var J=W.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}S5=-1,g.H=zZ,J=yQ(G,Z,X)}while(P7);return J}function yL(){var W=g.H,G=W.useState()[0];return G=typeof G.then==="function"?EY(G):G,W=W.useState()[0],(t0!==null?t0.memoizedState:null)!==W&&(V0.flags|=1024),G}function bB(){var W=mX!==0;return mX=0,W}function vB(W,G,Z){G.updateQueue=W.updateQueue,G.flags=(G.mode&P9)!==X1?G.flags&-201328645:G.flags&-2053,W.lanes&=~Z}function fB(W){if(hX){for(W=W.memoizedState;W!==null;){var G=W.queue;G!==null&&(G.pending=null),W=W.next}hX=!1}UG=0,B9=q1=t0=V0=null,S5=-1,y=null,P7=!1,$4=mX=0,M5=null}function VW(){var W={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return q1===null?V0.memoizedState=q1=W:q1=q1.next=W,q1}function o0(){if(t0===null){var W=V0.alternate;W=W!==null?W.memoizedState:null}else W=t0.next;var G=q1===null?V0.memoizedState:q1.next;if(G!==null)q1=G,t0=W;else{if(W===null){if(V0.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}t0=W,W={memoizedState:t0.memoizedState,baseState:t0.baseState,baseQueue:t0.baseQueue,queue:t0.queue,next:null},q1===null?V0.memoizedState=q1=W:q1=q1.next=W}return q1}function EY(W){var G=$4;return $4+=1,M5===null&&(M5=y$()),W=h$(M5,W,G),G=V0,(q1===null?G.memoizedState:q1.next)===null&&(G=G.alternate,g.H=G!==null&&G.memoizedState!==null?_G:HG),W}function t5(W){if(W!==null&&typeof W==="object"){if(typeof W.then==="function")return EY(W);if(W.$$typeof===a9)return H1(W)}throw Error("An unsupported type was passed to use(): "+String(W))}function cG(W){var G=null,Z=V0.updateQueue;if(Z!==null&&(G=Z.memoCache),G==null){var X=V0.alternate;X!==null&&(X=X.updateQueue,X!==null&&(X=X.memoCache,X!=null&&(G={data:X.data.map(function(B){return B.slice()}),index:0})))}if(G==null&&(G={data:[],index:0}),Z===null&&(Z=uQ(),V0.updateQueue=Z),Z.memoCache=G,Z=G.data[G.index],Z===void 0||z4)for(Z=G.data[G.index]=Array(W),X=0;X<W;X++)Z[X]=rT;else Z.length!==W&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",Z.length,W);return G.index++,Z}function A9(W,G){return typeof G==="function"?G(W):G}function yB(W,G,Z){var X=VW();if(Z!==void 0){var B=Z(G);if(NZ){i0(!0);try{Z(G)}finally{i0(!1)}}}else B=G;return X.memoizedState=X.baseState=B,W={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W,lastRenderedState:B},X.queue=W,W=W.dispatch=dL.bind(null,V0,W),[X.memoizedState,W]}function pZ(W){var G=o0();return gB(G,t0,W)}function gB(W,G,Z){var X=W.queue;if(X===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");X.lastRenderedReducer=Z;var B=W.baseQueue,J=X.pending;if(J!==null){if(B!==null){var z=B.next;B.next=J.next,J.next=z}G.baseQueue!==B&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),G.baseQueue=B=J,X.pending=null}if(J=W.baseState,B===null)W.memoizedState=J;else{G=B.next;var H=z=null,T=null,I=G,b=!1;do{var d=I.lane&-536870913;if(d!==I.lane?(M0&d)===d:(UG&d)===d){var v=I.revertLane;if(v===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),d===QZ&&(b=!0);else if((UG&v)===v){I=I.next,v===QZ&&(b=!0);continue}else d={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(H=T=d,z=J):T=T.next=d,V0.lanes|=v,VG|=v;d=I.action,NZ&&Z(J,d),J=I.hasEagerState?I.eagerState:Z(J,d)}else v={lane:d,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(H=T=v,z=J):T=T.next=v,V0.lanes|=d,VG|=d;I=I.next}while(I!==null&&I!==G);if(T===null?z=J:T.next=H,!QW(J,W.memoizedState)&&(m1=!0,b&&(Z=I7,Z!==null)))throw Z;W.memoizedState=J,W.baseState=z,W.baseQueue=T,X.lastRenderedState=J}return B===null&&(X.lanes=0),[W.memoizedState,X.dispatch]}function IY(W){var G=o0(),Z=G.queue;if(Z===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");Z.lastRenderedReducer=W;var{dispatch:X,pending:B}=Z,J=G.memoizedState;if(B!==null){Z.pending=null;var z=B=B.next;do J=W(J,z.action),z=z.next;while(z!==B);QW(J,G.memoizedState)||(m1=!0),G.memoizedState=J,G.baseQueue===null&&(G.baseState=J),Z.lastRenderedState=J}return[J,X]}function hB(W,G,Z){var X=V0,B=VW();if(v0){if(Z===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var J=Z();D7||J===Z()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),D7=!0)}else{if(J=G(),D7||(Z=G(),QW(J,Z)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),D7=!0)),Z1===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(M0&60)!==0||s$(X,G,J)}return B.memoizedState=J,Z={value:J,getSnapshot:G},B.queue=Z,i8(a$.bind(null,X,Z,W),[W]),X.flags|=2048,lZ(X9|R1,o$.bind(null,X,Z,J,G),{destroy:void 0},null),J}function p8(W,G,Z){var X=V0,B=o0(),J=v0;if(J){if(Z===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");Z=Z()}else if(Z=G(),!D7){var z=G();QW(Z,z)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),D7=!0)}if(z=!QW((t0||B).memoizedState,Z))B.memoizedState=Z,m1=!0;B=B.queue;var H=a$.bind(null,X,B,W);if(LW(2048,R1,H,[W]),B.getSnapshot!==G||z||q1!==null&&q1.memoizedState.tag&X9){if(X.flags|=2048,lZ(X9|R1,o$.bind(null,X,B,Z,G),{destroy:void 0},null),Z1===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");J||(UG&60)!==0||s$(X,G,Z)}return Z}function s$(W,G,Z){W.flags|=16384,W={getSnapshot:G,value:Z},G=V0.updateQueue,G===null?(G=uQ(),V0.updateQueue=G,G.stores=[W]):(Z=G.stores,Z===null?G.stores=[W]:Z.push(W))}function o$(W,G,Z,X){G.value=Z,G.getSnapshot=X,r$(G)&&t$(W)}function a$(W,G,Z){return Z(function(){r$(G)&&t$(W)})}function r$(W){var G=W.getSnapshot;W=W.value;try{var Z=G();return!QW(W,Z)}catch(X){return!0}}function t$(W){var G=r1(W,2);G!==null&&O1(G,W,2)}function mB(W){var G=VW();if(typeof W==="function"){var Z=W;if(W=Z(),NZ){i0(!0);try{Z()}finally{i0(!1)}}}return G.memoizedState=G.baseState=W,G.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:W},G}function dB(W){W=mB(W);var G=W.queue,Z=Vz.bind(null,V0,G);return G.dispatch=Z,[W.memoizedState,Z]}function uB(W){var G=VW();G.memoizedState=G.baseState=W;var Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return G.queue=Z,G=G6.bind(null,V0,!0,Z),Z.dispatch=G,[W,G]}function e$(W,G){var Z=o0();return Wz(Z,t0,W,G)}function Wz(W,G,Z,X){return W.baseState=Z,gB(W,t0,typeof X==="function"?X:A9)}function Gz(W,G){var Z=o0();if(t0!==null)return Wz(Z,t0,W,G);return Z.baseState=W,[W,Z.queue.dispatch]}function gL(W,G,Z,X,B){if(a8(W))throw Error("Cannot update form state while rendering.");if(W=G.action,W!==null){var J={payload:B,action:W,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){J.listeners.push(z)}};g.T!==null?Z(!0):J.isTransition=!1,X(J),Z=G.pending,Z===null?(J.next=G.pending=J,Zz(G,J)):(J.next=Z.next,G.pending=Z.next=J)}}function Zz(W,G){var{action:Z,payload:X}=G,B=W.state;if(G.isTransition){var J=g.T,z={};g.T=z,g.T._updatedFibers=new Set;try{var H=Z(B,X),T=g.S;T!==null&&T(z,H),Yz(W,G,H)}catch(I){pB(W,G,I)}finally{g.T=J,J===null&&z._updatedFibers&&(W=z._updatedFibers.size,z._updatedFibers.clear(),10<W&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{z=Z(B,X),Yz(W,G,z)}catch(I){pB(W,G,I)}}function Yz(W,G,Z){Z!==null&&typeof Z==="object"&&typeof Z.then==="function"?(Z.then(function(X){Xz(W,G,X)},function(X){return pB(W,G,X)}),G.isTransition||console.error("An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`")):Xz(W,G,Z)}function Xz(W,G,Z){G.status="fulfilled",G.value=Z,Bz(G),W.state=Z,G=W.pending,G!==null&&(Z=G.next,Z===G?W.pending=null:(Z=Z.next,G.next=Z,Zz(W,Z)))}function pB(W,G,Z){var X=W.pending;if(W.pending=null,X!==null){X=X.next;do G.status="rejected",G.reason=Z,Bz(G),G=G.next;while(G!==X)}W.action=null}function Bz(W){W=W.listeners;for(var G=0;G<W.length;G++)W[G]()}function Qz(W,G){return G}function cZ(W,G){if(v0){var Z=Z1.formState;if(Z!==null){W:{var X=V0;if(v0){if(s1){G:{var B=s1;for(var J=G5;B.nodeType!==8;){if(!J){B=null;break G}if(B=oW(B.nextSibling),B===null){B=null;break G}}J=B.data,B=J===wJ||J===F_?B:null}if(B){s1=oW(B.nextSibling),X=B.data===wJ;break W}}uG(X)}X=!1}X&&(G=Z[0])}}return Z=VW(),Z.memoizedState=Z.baseState=G,X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qz,lastRenderedState:G},Z.queue=X,Z=Vz.bind(null,V0,X),X.dispatch=Z,X=mB(!1),J=G6.bind(null,V0,!1,X.queue),X=VW(),B={state:G,dispatch:null,action:W,pending:null},X.queue=B,Z=gL.bind(null,V0,B,J,Z),B.dispatch=Z,X.memoizedState=W,[G,Z,!1]}function c8(W){var G=o0();return Jz(G,t0,W)}function Jz(W,G,Z){G=gB(W,G,Qz)[0],W=pZ(A9)[0],G=typeof G==="object"&&G!==null&&typeof G.then==="function"?EY(G):G;var X=o0(),B=X.queue,J=B.dispatch;return Z!==X.memoizedState&&(V0.flags|=2048,lZ(X9|R1,hL.bind(null,B,Z),{destroy:void 0},null)),[G,J,W]}function hL(W,G){W.action=G}function l8(W){var G=o0(),Z=t0;if(Z!==null)return Jz(G,Z,W);o0(),G=G.memoizedState,Z=o0();var X=Z.queue.dispatch;return Z.memoizedState=W,[G,X,!1]}function lZ(W,G,Z,X){return W={tag:W,create:G,inst:Z,deps:X,next:null},G=V0.updateQueue,G===null&&(G=uQ(),V0.updateQueue=G),Z=G.lastEffect,Z===null?G.lastEffect=W.next=W:(X=Z.next,Z.next=W,W.next=X,G.lastEffect=W),W}function cB(W){var G=VW();return W={current:W},G.memoizedState=W}function lG(W,G,Z,X){var B=VW();V0.flags|=W,B.memoizedState=lZ(X9|G,Z,{destroy:void 0},X===void 0?null:X)}function LW(W,G,Z,X){var B=o0();X=X===void 0?null:X;var J=B.memoizedState.inst;t0!==null&&X!==null&&RB(X,t0.memoizedState.deps)?B.memoizedState=lZ(G,Z,J,X):(V0.flags|=W,B.memoizedState=lZ(X9|G,Z,J,X))}function i8(W,G){(V0.mode&P9)!==X1&&(V0.mode&VH)===X1?lG(142608384,R1,W,G):lG(8390656,R1,W,G)}function lB(W,G){var Z=4194308;return(V0.mode&P9)!==X1&&(Z|=67108864),lG(Z,o1,W,G)}function Nz(W,G){if(typeof G==="function"){W=W();var Z=G(W);return function(){typeof Z==="function"?Z():G(null)}}if(G!==null&&G!==void 0)return G.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(G).join(", ")+"}"),W=W(),G.current=W,function(){G.current=null}}function iB(W,G,Z){typeof G!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",G!==null?typeof G:"null"),Z=Z!==null&&Z!==void 0?Z.concat([W]):null;var X=4194308;(V0.mode&P9)!==X1&&(X|=67108864),lG(X,o1,Nz.bind(null,G,W),Z)}function n8(W,G,Z){typeof G!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",G!==null?typeof G:"null"),Z=Z!==null&&Z!==void 0?Z.concat([W]):null,LW(4,o1,Nz.bind(null,G,W),Z)}function nB(W,G){return VW().memoizedState=[W,G===void 0?null:G],W}function s8(W,G){var Z=o0();G=G===void 0?null:G;var X=Z.memoizedState;if(G!==null&&RB(G,X[1]))return X[0];return Z.memoizedState=[W,G],W}function sB(W,G){var Z=VW();G=G===void 0?null:G;var X=W();if(NZ){i0(!0);try{W()}finally{i0(!1)}}return Z.memoizedState=[X,G],X}function o8(W,G){var Z=o0();G=G===void 0?null:G;var X=Z.memoizedState;if(G!==null&&RB(G,X[1]))return X[0];if(X=W(),NZ){i0(!0);try{W()}finally{i0(!1)}}return Z.memoizedState=[X,G],X}function oB(W,G){var Z=VW();return aB(Z,W,G)}function $z(W,G){var Z=o0();return Kz(Z,t0.memoizedState,W,G)}function zz(W,G){var Z=o0();return t0===null?aB(Z,W,G):Kz(Z,t0.memoizedState,W,G)}function aB(W,G,Z){if(Z===void 0||(UG&1073741824)!==0)return W.memoizedState=G;return W.memoizedState=Z,W=wK(),V0.lanes|=W,VG|=W,Z}function Kz(W,G,Z,X){if(QW(Z,G))return Z;if(A7.current!==null)return W=aB(W,Z,X),QW(W,G)||(m1=!0),W;if((UG&42)===0)return m1=!0,W.memoizedState=Z;return W=wK(),V0.lanes|=W,VG|=W,G}function Uz(W,G,Z,X,B){var J=N1.p;N1.p=J!==0&&J<D9?J:D9;var z=g.T,H={};g.T=H,G6(W,!1,G,Z),H._updatedFibers=new Set;try{var T=B(),I=g.S;if(I!==null&&I(H,T),T!==null&&typeof T==="object"&&typeof T.then==="function"){var b=fL(T,X);DY(W,G,b,RW(W))}else DY(W,G,X,RW(W))}catch(d){DY(W,G,{then:function(){},status:"rejected",reason:d},RW(W))}finally{N1.p=J,g.T=z,z===null&&H._updatedFibers&&(W=H._updatedFibers.size,H._updatedFibers.clear(),10<W&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function rB(W,G,Z,X){if(W.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var B=Hz(W).queue;Uz(W,B,G,EZ,Z===null?E:function(){return _z(W),Z(X)})}function Hz(W){var G=W.memoizedState;if(G!==null)return G;G={memoizedState:EZ,baseState:EZ,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:EZ},next:null};var Z={};return G.next={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:Z},next:null},W.memoizedState=G,W=W.alternate,W!==null&&(W.memoizedState=G),G}function _z(W){g.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var G=Hz(W).next.queue;DY(W,G,{},RW(W))}function tB(){var W=mB(!1);return W=Uz.bind(null,V0,W.queue,!0,!1),VW().memoizedState=W,[!1,W]}function wz(){var W=pZ(A9)[0],G=o0().memoizedState;return[typeof W==="boolean"?W:EY(W),G]}function Oz(){var W=IY(A9)[0],G=o0().memoizedState;return[typeof W==="boolean"?W:EY(W),G]}function iG(){return H1(j4)}function eB(){var W=VW(),G=Z1.identifierPrefix;if(v0){var Z=q5,X=F5;Z=(X&~(1<<32-XW(X)-1)).toString(32)+Z,G=":"+G+"R"+Z,Z=mX++,0<Z&&(G+="H"+Z.toString(32)),G+=":"}else Z=KE++,G=":"+G+"r"+Z.toString(32)+":";return W.memoizedState=G}function W6(){return VW().memoizedState=mL.bind(null,V0)}function mL(W,G){for(var Z=W.return;Z!==null;){switch(Z.tag){case 24:case 3:var X=RW(Z);W=WG(X);var B=GG(Z,W,X);B!==null&&(O1(B,Z,X),FY(B,Z,X)),Z=MB(),G!==null&&G!==void 0&&B!==null&&console.error("The seed argument is not enabled outside experimental channels."),W.payload={cache:Z};return}Z=Z.return}}function dL(W,G,Z,X){typeof X==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),X=RW(W),Z={lane:X,revertLane:0,action:Z,hasEagerState:!1,eagerState:null,next:null},a8(W)?Lz(G,Z):(Z=TB(W,G,Z,X),Z!==null&&(O1(Z,W,X),Tz(Z,G,X))),Q1(W,X)}function Vz(W,G,Z,X){typeof X==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),X=RW(W),DY(W,G,Z,X),Q1(W,X)}function DY(W,G,Z,X){var B={lane:X,revertLane:0,action:Z,hasEagerState:!1,eagerState:null,next:null};if(a8(W))Lz(G,B);else{var J=W.alternate;if(W.lanes===0&&(J===null||J.lanes===0)&&(J=G.lastRenderedReducer,J!==null)){var z=g.H;g.H=$W;try{var H=G.lastRenderedState,T=J(H,Z);if(B.hasEagerState=!0,B.eagerState=T,QW(T,H))return S8(W,G,B,0),Z1===null&&M8(),!1}catch(I){}finally{g.H=z}}if(Z=TB(W,G,B,X),Z!==null)return O1(Z,W,X),Tz(Z,G,X),!0}return!1}function G6(W,G,Z,X){if(g.T===null&&QZ===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),X={lane:2,revertLane:m6(),action:X,hasEagerState:!1,eagerState:null,next:null},a8(W)){if(G)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else G=TB(W,Z,X,2),G!==null&&O1(G,W,2);Q1(W,2)}function a8(W){var G=W.alternate;return W===V0||G!==null&&G===V0}function Lz(W,G){P7=hX=!0;var Z=W.pending;Z===null?G.next=G:(G.next=Z.next,Z.next=G),W.pending=G}function Tz(W,G,Z){if((Z&4194176)!==0){var X=G.lanes;X&=W.pendingLanes,Z|=X,G.lanes=Z,bZ(W,Z)}}function Z6(W){if(W!==null&&typeof W!=="function"){var G=String(W);rH.has(G)||(rH.add(G),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",W))}}function Y6(W,G,Z,X){var B=W.memoizedState,J=Z(X,B);if(W.mode&GW){i0(!0);try{J=Z(X,B)}finally{i0(!1)}}J===void 0&&(G=f(G)||"Component",nH.has(G)||(nH.add(G),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",G))),B=J===null||J===void 0?B:F0({},B,J),W.memoizedState=B,W.lanes===0&&(W.updateQueue.baseState=B)}function Az(W,G,Z,X,B,J,z){var H=W.stateNode;if(typeof H.shouldComponentUpdate==="function"){if(Z=H.shouldComponentUpdate(X,J,z),W.mode&GW){i0(!0);try{Z=H.shouldComponentUpdate(X,J,z)}finally{i0(!1)}}return Z===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",f(G)||"Component"),Z}return G.prototype&&G.prototype.isPureReactComponent?!_Y(Z,X)||!_Y(B,J):!0}function Ez(W,G,Z,X){var B=G.state;typeof G.componentWillReceiveProps==="function"&&G.componentWillReceiveProps(Z,X),typeof G.UNSAFE_componentWillReceiveProps==="function"&&G.UNSAFE_componentWillReceiveProps(Z,X),G.state!==B&&(W=p(W)||"Component",uH.has(W)||(uH.add(W),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W)),pQ.enqueueReplaceState(G,G.state,null))}function nG(W,G){var Z=G;if("ref"in G){Z={};for(var X in G)X!=="ref"&&(Z[X]=G[X])}if(W=W.defaultProps){Z===G&&(Z=F0({},Z));for(var B in W)Z[B]===void 0&&(Z[B]=W[B])}return Z}function Iz(W,G){dX(W),W=j7?"An error occurred in the <"+j7+"> component.":"An error occurred in one of your React components.";var Z=g.getCurrentStack,X=G.componentStack!=null?G.componentStack:"";g.getCurrentStack=function(){return X};try{console.warn(`%s

%s
`,W,`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}finally{g.getCurrentStack=Z}}function Dz(W,G){var Z=j7?"The above error occurred in the <"+j7+"> component.":"The above error occurred in one of your React components.",X="React will try to recreate this component tree from scratch using the error boundary you provided, "+((cQ||"Anonymous")+"."),B=g.getCurrentStack,J=G.componentStack!=null?G.componentStack:"";g.getCurrentStack=function(){return J};try{typeof W==="object"&&W!==null&&typeof W.environmentName==="string"?dT("error",[`%o

%s

%s
`,W,Z,X],W.environmentName)():console.error(`%o

%s

%s
`,W,Z,X)}finally{g.getCurrentStack=B}}function Pz(W){dX(W)}function r8(W,G){try{j7=G.source?p(G.source):null,cQ=null;var Z=G.value;if(g.actQueue!==null)g.thrownErrors.push(Z);else{var X=W.onUncaughtError;X(Z,{componentStack:G.stack})}}catch(B){setTimeout(function(){throw B})}}function jz(W,G,Z){try{j7=Z.source?p(Z.source):null,cQ=p(G);var X=W.onCaughtError;X(Z.value,{componentStack:Z.stack,errorBoundary:G.tag===1?G.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function X6(W,G,Z){return Z=WG(Z),Z.tag=oQ,Z.payload={element:null},Z.callback=function(){W0(G.source,r8,W,G)},Z}function B6(W){return W=WG(W),W.tag=oQ,W}function Q6(W,G,Z,X){var B=Z.type.getDerivedStateFromError;if(typeof B==="function"){var J=X.value;W.payload=function(){return B(J)},W.callback=function(){R$(Z),W0(X.source,jz,G,Z,X)}}var z=Z.stateNode;z!==null&&typeof z.componentDidCatch==="function"&&(W.callback=function(){R$(Z),W0(X.source,jz,G,Z,X),typeof B!=="function"&&(TG===null?TG=new Set([this]):TG.add(this)),BE(this,X),typeof B==="function"||(Z.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",p(Z)||"Unknown")})}function uL(W,G,Z,X,B){if(Z.flags|=32768,E9&&xY(W,B),X!==null&&typeof X==="object"&&typeof X.then==="function"){if(G=Z.alternate,G!==null&&jY(G,Z,B,!0),v0&&(C5=!0),Z=Z9.current,Z!==null){switch(Z.tag){case 13:return Z5===null?b6():Z.alternate===null&&E1===x5&&(E1=eQ),Z.flags&=-257,Z.flags|=65536,Z.lanes=B,X===fQ?Z.flags|=16384:(G=Z.updateQueue,G===null?Z.updateQueue=new Set([X]):G.add(X),y6(W,X,B)),!1;case 22:return Z.flags|=65536,X===fQ?Z.flags|=16384:(G=Z.updateQueue,G===null?(G={transitions:null,markerInstances:null,retryQueue:new Set([X])},Z.updateQueue=G):(Z=G.retryQueue,Z===null?G.retryQueue=new Set([X]):Z.add(X)),y6(W,X,B)),!1}throw Error("Unexpected Suspense handler tag ("+Z.tag+"). This is a bug in React.")}return y6(W,X,B),b6(),!1}if(v0)return C5=!0,G=Z9.current,G!==null?((G.flags&65536)===0&&(G.flags|=256),G.flags|=65536,G.lanes=B,X!==vQ&&LY(MW(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:X}),Z))):(X!==vQ&&LY(MW(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:X}),Z)),W=W.current.alternate,W.flags|=65536,B&=-B,W.lanes|=B,X=MW(X,Z),B=X6(W.stateNode,X,B),GX(W,B),E1!==KZ&&(E1=R7)),!1;var J=MW(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:X}),Z);if(V4===null?V4=[J]:V4.push(J),E1!==KZ&&(E1=R7),G===null)return!0;X=MW(X,Z),Z=G;do{switch(Z.tag){case 3:return Z.flags|=65536,W=B&-B,Z.lanes|=W,W=X6(Z.stateNode,X,W),GX(Z,W),!1;case 1:if(G=Z.type,J=Z.stateNode,(Z.flags&128)===0&&(typeof G.getDerivedStateFromError==="function"||J!==null&&typeof J.componentDidCatch==="function"&&(TG===null||!TG.has(J))))return Z.flags|=65536,B&=-B,Z.lanes|=B,B=B6(B),Q6(B,W,Z,X),GX(Z,B),!1}Z=Z.return}while(Z!==null);return!1}function c1(W,G,Z,X){G.child=W===null?fH(G,null,Z,X):BZ(G,W.child,Z,X)}function Fz(W,G,Z,X,B){Z=Z.render;var J=G.ref;if("ref"in X){var z={};for(var H in X)H!=="ref"&&(z[H]=X[H])}else z=X;if(sG(G),j(G),X=kB(W,G,Z,z,J,B),H=bB(),Z0(),W!==null&&!m1)return vB(W,G,B),V5(W,G,B);return v0&&H&&PB(G),G.flags|=1,c1(W,G,X,B),G.child}function qz(W,G,Z,X,B){if(W===null){var J=Z.type;if(typeof J==="function"&&!C6(J)&&J.defaultProps===void 0&&Z.compare===null)return Z=gG(J),G.tag=15,G.type=Z,N6(G,J),Cz(W,G,Z,X,B);return W=M6(Z.type,null,X,G,G.mode,B),W.ref=G.ref,W.return=G,G.child=W}if(J=W.child,!w6(W,B)){var z=J.memoizedProps;if(Z=Z.compare,Z=Z!==null?Z:_Y,Z(z,X)&&W.ref===G.ref)return V5(W,G,B)}return G.flags|=1,W=YG(J,X),W.ref=G.ref,W.return=G,G.child=W}function Cz(W,G,Z,X,B){if(W!==null){var J=W.memoizedProps;if(_Y(J,X)&&W.ref===G.ref&&G.type===W.type)if(m1=!1,G.pendingProps=X=J,w6(W,B))(W.flags&131072)!==0&&(m1=!0);else return G.lanes=W.lanes,V5(W,G,B)}return J6(W,G,Z,X,B)}function Mz(W,G,Z){var X=G.pendingProps,B=X.children,J=(G.stateNode._pendingVisibility&GZ)!==0,z=W!==null?W.memoizedState:null;if(PY(W,G),X.mode==="hidden"||J){if((G.flags&128)!==0){if(X=z!==null?z.baseLanes|Z:Z,W!==null){B=G.child=W.child;for(J=0;B!==null;)J=J|B.lanes|B.childLanes,B=B.sibling;G.childLanes=J&~X}else G.childLanes=0,G.child=null;return Sz(W,G,X,Z)}if((Z&536870912)!==0)G.memoizedState={baseLanes:0,cachePool:null},W!==null&&d8(G,z!==null?z.cachePool:null),z!==null?p$(G,z):qB(G),c$(G);else return G.lanes=G.childLanes=536870912,Sz(W,G,z!==null?z.baseLanes|Z:Z,Z)}else z!==null?(d8(G,z.cachePool),p$(G,z),r5(G),G.memoizedState=null):(W!==null&&d8(G,null),qB(G),r5(G));return c1(W,G,B,Z),G.child}function Sz(W,G,Z,X){var B=SB();return B=B===null?null:{parent:k1._currentValue,pool:B},G.memoizedState={baseLanes:Z,cachePool:B},W!==null&&d8(G,null),qB(G),c$(G),W!==null&&jY(W,G,X,!0),null}function PY(W,G){var Z=G.ref;if(Z===null)W!==null&&W.ref!==null&&(G.flags|=2097664);else{if(typeof Z!=="function"&&typeof Z!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(W===null||W.ref!==Z)G.flags|=2097664}}function J6(W,G,Z,X,B){if(Z.prototype&&typeof Z.prototype.render==="function"){var J=f(Z)||"Unknown";eH[J]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",J,J),eH[J]=!0)}if(G.mode&GW&&j9.recordLegacyContextWarning(G,null),W===null&&(N6(G,G.type),Z.contextTypes&&(J=f(Z)||"Unknown",G_[J]||(G_[J]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",J)))),sG(G),j(G),Z=kB(W,G,Z,X,void 0,B),X=bB(),Z0(),W!==null&&!m1)return vB(W,G,B),V5(W,G,B);return v0&&X&&PB(G),G.flags|=1,c1(W,G,Z,B),G.child}function Rz(W,G,Z,X,B,J){if(sG(G),j(G),S5=-1,z4=W!==null&&W.type!==G.type,G.updateQueue=null,Z=xB(G,X,Z,B),n$(W,G),X=bB(),Z0(),W!==null&&!m1)return vB(W,G,J),V5(W,G,J);return v0&&X&&PB(G),G.flags|=1,c1(W,G,Z,J),G.child}function kz(W,G,Z,X,B){switch(_(G)){case!1:var J=G.stateNode,z=new G.type(G.memoizedProps,J.context).state;J.updater.enqueueSetState(J,z,null);break;case!0:G.flags|=128,G.flags|=65536,J=Error("Simulated error coming from DevTools");var H=B&-B;if(G.lanes|=H,z=Z1,z===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");H=B6(H),Q6(H,z,G,MW(J,G)),GX(G,H)}if(sG(G),G.stateNode===null){if(z=zG,J=Z.contextType,"contextType"in Z&&J!==null&&(J===void 0||J.$$typeof!==a9)&&!aH.has(Z)&&(aH.add(Z),H=J===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof J!=="object"?" However, it is set to a "+typeof J+".":J.$$typeof===QQ?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(J).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",f(Z)||"Component",H)),typeof J==="object"&&J!==null&&(z=H1(J)),J=new Z(X,z),G.mode&GW){i0(!0);try{J=new Z(X,z)}finally{i0(!1)}}if(z=G.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=pQ,G.stateNode=J,J._reactInternals=G,J._reactInternalInstance=dH,typeof Z.getDerivedStateFromProps==="function"&&z===null&&(z=f(Z)||"Component",pH.has(z)||(pH.add(z),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",z,J.state===null?"null":"undefined",z))),typeof Z.getDerivedStateFromProps==="function"||typeof J.getSnapshotBeforeUpdate==="function"){var T=H=z=null;if(typeof J.componentWillMount==="function"&&J.componentWillMount.__suppressDeprecationWarning!==!0?z="componentWillMount":typeof J.UNSAFE_componentWillMount==="function"&&(z="UNSAFE_componentWillMount"),typeof J.componentWillReceiveProps==="function"&&J.componentWillReceiveProps.__suppressDeprecationWarning!==!0?H="componentWillReceiveProps":typeof J.UNSAFE_componentWillReceiveProps==="function"&&(H="UNSAFE_componentWillReceiveProps"),typeof J.componentWillUpdate==="function"&&J.componentWillUpdate.__suppressDeprecationWarning!==!0?T="componentWillUpdate":typeof J.UNSAFE_componentWillUpdate==="function"&&(T="UNSAFE_componentWillUpdate"),z!==null||H!==null||T!==null){J=f(Z)||"Component";var I=typeof Z.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";lH.has(J)||(lH.add(J),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,J,I,z!==null?`
  `+z:"",H!==null?`
  `+H:"",T!==null?`
  `+T:""))}}J=G.stateNode,z=f(Z)||"Component",J.render||(Z.prototype&&typeof Z.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",z):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",z)),!J.getInitialState||J.getInitialState.isReactClassApproved||J.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",z),J.getDefaultProps&&!J.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",z),J.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",z),Z.childContextTypes&&!oH.has(Z)&&(oH.add(Z),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",z)),Z.contextTypes&&!sH.has(Z)&&(sH.add(Z),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",z)),typeof J.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",z),Z.prototype&&Z.prototype.isPureReactComponent&&typeof J.shouldComponentUpdate!=="undefined"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",f(Z)||"A pure component"),typeof J.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",z),typeof J.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",z),typeof J.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",z),typeof J.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",z),H=J.props!==X,J.props!==void 0&&H&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",z),J.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",z,z),typeof J.getSnapshotBeforeUpdate!=="function"||typeof J.componentDidUpdate==="function"||cH.has(Z)||(cH.add(Z),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",f(Z))),typeof J.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",z),typeof J.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",z),typeof Z.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",z),(H=J.state)&&(typeof H!=="object"||i1(H))&&console.error("%s.state: must be set to an object or null",z),typeof J.getChildContext==="function"&&typeof Z.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",z),J=G.stateNode,J.props=X,J.state=G.memoizedState,J.refs={},T6(G),z=Z.contextType,J.context=typeof z==="object"&&z!==null?H1(z):zG,J.state===X&&(z=f(Z)||"Component",iH.has(z)||(iH.add(z),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",z))),G.mode&GW&&j9.recordLegacyContextWarning(G,J),j9.recordUnsafeLifecycleWarnings(G,J),J.state=G.memoizedState,z=Z.getDerivedStateFromProps,typeof z==="function"&&(Y6(G,Z,z,X),J.state=G.memoizedState),typeof Z.getDerivedStateFromProps==="function"||typeof J.getSnapshotBeforeUpdate==="function"||typeof J.UNSAFE_componentWillMount!=="function"&&typeof J.componentWillMount!=="function"||(z=J.state,typeof J.componentWillMount==="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount==="function"&&J.UNSAFE_componentWillMount(),z!==J.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",p(G)||"Component"),pQ.enqueueReplaceState(J,J.state,null)),CY(G,X,J,B),qY(),J.state=G.memoizedState),typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864),J=!0}else if(W===null){J=G.stateNode;var b=G.memoizedProps;H=nG(Z,b),J.props=H;var d=J.context;T=Z.contextType,z=zG,typeof T==="object"&&T!==null&&(z=H1(T)),I=Z.getDerivedStateFromProps,T=typeof I==="function"||typeof J.getSnapshotBeforeUpdate==="function",b=G.pendingProps!==b,T||typeof J.UNSAFE_componentWillReceiveProps!=="function"&&typeof J.componentWillReceiveProps!=="function"||(b||d!==z)&&Ez(G,J,X,z),OG=!1;var v=G.memoizedState;J.state=v,CY(G,X,J,B),qY(),d=G.memoizedState,b||v!==d||OG?(typeof I==="function"&&(Y6(G,Z,I,X),d=G.memoizedState),(H=OG||Az(G,Z,H,X,v,d,z))?(T||typeof J.UNSAFE_componentWillMount!=="function"&&typeof J.componentWillMount!=="function"||(typeof J.componentWillMount==="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount==="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864)):(typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864),G.memoizedProps=X,G.memoizedState=d),J.props=X,J.state=d,J.context=z,J=H):(typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864),J=!1)}else{J=G.stateNode,A6(W,G),z=G.memoizedProps,T=nG(Z,z),J.props=T,I=G.pendingProps,v=J.context,d=Z.contextType,H=zG,typeof d==="object"&&d!==null&&(H=H1(d)),b=Z.getDerivedStateFromProps,(d=typeof b==="function"||typeof J.getSnapshotBeforeUpdate==="function")||typeof J.UNSAFE_componentWillReceiveProps!=="function"&&typeof J.componentWillReceiveProps!=="function"||(z!==I||v!==H)&&Ez(G,J,X,H),OG=!1,v=G.memoizedState,J.state=v,CY(G,X,J,B),qY();var c=G.memoizedState;z!==I||v!==c||OG||W!==null&&W.dependencies!==null&&e8(W.dependencies)?(typeof b==="function"&&(Y6(G,Z,b,X),c=G.memoizedState),(T=OG||Az(G,Z,T,X,v,c,H)||W!==null&&W.dependencies!==null&&e8(W.dependencies))?(d||typeof J.UNSAFE_componentWillUpdate!=="function"&&typeof J.componentWillUpdate!=="function"||(typeof J.componentWillUpdate==="function"&&J.componentWillUpdate(X,c,H),typeof J.UNSAFE_componentWillUpdate==="function"&&J.UNSAFE_componentWillUpdate(X,c,H)),typeof J.componentDidUpdate==="function"&&(G.flags|=4),typeof J.getSnapshotBeforeUpdate==="function"&&(G.flags|=1024)):(typeof J.componentDidUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=4),typeof J.getSnapshotBeforeUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=1024),G.memoizedProps=X,G.memoizedState=c),J.props=X,J.state=c,J.context=H,J=T):(typeof J.componentDidUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=4),typeof J.getSnapshotBeforeUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=1024),J=!1)}if(H=J,PY(W,G),z=(G.flags&128)!==0,H||z){if(H=G.stateNode,g.getCurrentStack=G===null?null:YW,aW=!1,t1=G,z&&typeof Z.getDerivedStateFromError!=="function")Z=null,AW=-1;else{if(j(G),Z=IH(H),G.mode&GW){i0(!0);try{IH(H)}finally{i0(!1)}}Z0()}G.flags|=1,W!==null&&z?(G.child=BZ(G,W.child,null,B),G.child=BZ(G,null,Z,B)):c1(W,G,Z,B),G.memoizedState=H.state,W=G.child}else W=V5(W,G,B);return B=G.stateNode,J&&B.props!==X&&(F7||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",p(G)||"a component"),F7=!0),W}function xz(W,G,Z,X){return VY(),G.flags|=256,c1(W,G,Z,X),G.child}function N6(W,G){G&&G.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,G.displayName||G.name||"Component"),typeof G.getDerivedStateFromProps==="function"&&(W=f(G)||"Unknown",Z_[W]||(console.error("%s: Function components do not support getDerivedStateFromProps.",W),Z_[W]=!0)),typeof G.contextType==="object"&&G.contextType!==null&&(G=f(G)||"Unknown",W_[G]||(console.error("%s: Function components do not support contextType.",G),W_[G]=!0))}function $6(W){return{baseLanes:W,cachePool:i$()}}function z6(W,G,Z){return W=W!==null?W.childLanes&~Z:0,G&&(W|=fW),W}function bz(W,G,Z){var X,B=G.pendingProps;U(G)&&(G.flags|=128);var J=!1,z=(G.flags&128)!==0;if((X=z)||(X=W!==null&&W.memoizedState===null?!1:(S1.current&J4)!==0),X&&(J=!0,G.flags&=-129),X=(G.flags&32)!==0,G.flags&=-33,W===null){if(v0){if(J?a5(G):r5(G),v0){var H=s1,T;if(!(T=!H)){W:{var I=H;for(T=G5;I.nodeType!==8;){if(!T){T=null;break W}if(I=oW(I.nextSibling),I===null){T=null;break W}}T=I}T!==null?(mG(),G.memoizedState={dehydrated:T,treeContext:XZ!==null?{id:F5,overflow:q5}:null,retryLane:536870912},I=L(18,null,null,X1),I.stateNode=T,I.return=G,G.child=I,JW=G,s1=null,T=!0):T=!1,T=!T}T&&(FB(G,H),uG(G))}if(H=G.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return H.data===TZ?G.lanes=16:G.lanes=536870912,null;O5(G)}if(H=B.children,B=B.fallback,J)return r5(G),J=G.mode,H=U6({mode:"hidden",children:H},J),B=aG(B,J,Z,null),H.return=G,B.return=G,H.sibling=B,G.child=H,J=G.child,J.memoizedState=$6(Z),J.childLanes=z6(W,X,Z),G.memoizedState=iQ,B;return a5(G),K6(G,H)}var b=W.memoizedState;if(b!==null&&(H=b.dehydrated,H!==null)){if(z)G.flags&256?(a5(G),G.flags&=-257,G=H6(W,G,Z)):G.memoizedState!==null?(r5(G),G.child=W.child,G.flags|=128,G=null):(r5(G),J=B.fallback,H=G.mode,B=U6({mode:"visible",children:B.children},H),J=aG(J,H,Z,null),J.flags|=2,B.return=G,J.return=G,B.sibling=J,G.child=B,BZ(G,W.child,null,Z),B=G.child,B.memoizedState=$6(Z),B.childLanes=z6(W,X,Z),G.memoizedState=iQ,G=J);else if(a5(G),v0&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),H.data===TZ){if(X=H.nextSibling&&H.nextSibling.dataset,X){T=X.dgst;var d=X.msg;I=X.stck;var v=X.cstck}H=d,X=T,B=I,T=J=v,J=H?Error(H):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),J.stack=B||"",J.digest=X,X=T===void 0?null:T,B={value:J,source:null,stack:X},typeof X==="string"&&bQ.set(J,B),LY(B),G=H6(W,G,Z)}else if(m1||jY(W,G,Z,!1),X=(Z&W.childLanes)!==0,m1||X){if(X=Z1,X!==null){if(B=Z&-Z,(B&42)!==0)B=1;else switch(B){case 2:B=1;break;case 8:B=4;break;case 32:B=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:B=64;break;case 268435456:B=134217728;break;default:B=0}if(B=(B&(X.suspendedLanes|Z))!==0?0:B,B!==0&&B!==b.retryLane)throw b.retryLane=B,r1(W,B),O1(X,W,B),tH}H.data===LZ||b6(),G=H6(W,G,Z)}else H.data===LZ?(G.flags|=128,G.child=W.child,G=KT.bind(null,W),H._reactRetry=G,G=null):(W=b.treeContext,s1=oW(H.nextSibling),JW=G,v0=!0,F9=null,C5=!1,G9=null,G5=!1,W!==null&&(mG(),eW[W9++]=F5,eW[W9++]=q5,eW[W9++]=XZ,F5=W.id,q5=W.overflow,XZ=G),G=K6(G,B.children),G.flags|=4096);return G}if(J)return r5(G),J=B.fallback,H=G.mode,T=W.child,I=T.sibling,B=YG(T,{mode:"hidden",children:B.children}),B.subtreeFlags=T.subtreeFlags&31457280,I!==null?J=YG(I,J):(J=aG(J,H,Z,null),J.flags|=2),J.return=G,B.return=G,B.sibling=J,G.child=B,B=J,J=G.child,H=W.child.memoizedState,H===null?H=$6(Z):(T=H.cachePool,T!==null?(I=k1._currentValue,T=T.parent!==I?{parent:I,pool:I}:T):T=i$(),H={baseLanes:H.baseLanes|Z,cachePool:T}),J.memoizedState=H,J.childLanes=z6(W,X,Z),G.memoizedState=iQ,B;return a5(G),Z=W.child,W=Z.sibling,Z=YG(Z,{mode:"visible",children:B.children}),Z.return=G,Z.sibling=null,W!==null&&(X=G.deletions,X===null?(G.deletions=[W],G.flags|=16):X.push(W)),G.child=Z,G.memoizedState=null,Z}function K6(W,G){return G=U6({mode:"visible",children:G},W.mode),G.return=W,W.child=G}function U6(W,G){return KK(W,G,0,null)}function H6(W,G,Z){return BZ(G,W.child,null,Z),W=K6(G,G.pendingProps.children),W.flags|=2,G.memoizedState=null,W}function vz(W,G,Z){W.lanes|=G;var X=W.alternate;X!==null&&(X.lanes|=G),V6(W.return,G,Z)}function fz(W,G){var Z=i1(W);return W=!Z&&typeof k(W)==="function",Z||W?(Z=Z?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",Z,G,Z),!1):!0}function _6(W,G,Z,X,B){var J=W.memoizedState;J===null?W.memoizedState={isBackwards:G,rendering:null,renderingStartTime:0,last:X,tail:Z,tailMode:B}:(J.isBackwards=G,J.rendering=null,J.renderingStartTime=0,J.last=X,J.tail=Z,J.tailMode=B)}function yz(W,G,Z){var X=G.pendingProps,B=X.revealOrder,J=X.tail;if(X=X.children,B!==void 0&&B!=="forwards"&&B!=="backwards"&&B!=="together"&&!Y_[B])if(Y_[B]=!0,typeof B==="string")switch(B.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',B,B.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',B,B.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',B)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',B);J===void 0||lQ[J]||(J!=="collapsed"&&J!=="hidden"?(lQ[J]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',J)):B!=="forwards"&&B!=="backwards"&&(lQ[J]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',J)));W:if((B==="forwards"||B==="backwards")&&X!==void 0&&X!==null&&X!==!1)if(i1(X)){for(var z=0;z<X.length;z++)if(!fz(X[z],z))break W}else if(z=k(X),typeof z==="function"){if(z=z.call(X))for(var H=z.next(),T=0;!H.done;H=z.next()){if(!fz(H.value,T))break W;T++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',B);if(c1(W,G,X,Z),X=S1.current,(X&J4)!==0)X=X&E7|J4,G.flags|=128;else{if(W!==null&&(W.flags&128)!==0)W:for(W=G.child;W!==null;){if(W.tag===13)W.memoizedState!==null&&vz(W,Z,G);else if(W.tag===19)vz(W,Z,G);else if(W.child!==null){W.child.return=W,W=W.child;continue}if(W===G)break W;for(;W.sibling===null;){if(W.return===null||W.return===G)break W;W=W.return}W.sibling.return=W.return,W=W.sibling}X&=E7}switch(R0(S1,X,G),B){case"forwards":Z=G.child;for(B=null;Z!==null;)W=Z.alternate,W!==null&&m8(W)===null&&(B=Z),Z=Z.sibling;Z=B,Z===null?(B=G.child,G.child=null):(B=Z.sibling,Z.sibling=null),_6(G,!1,B,Z,J);break;case"backwards":Z=null,B=G.child;for(G.child=null;B!==null;){if(W=B.alternate,W!==null&&m8(W)===null){G.child=B;break}W=B.sibling,B.sibling=Z,Z=B,B=W}_6(G,!0,Z,null,J);break;case"together":_6(G,!1,null,null,void 0);break;default:G.memoizedState=null}return G.child}function V5(W,G,Z){if(W!==null&&(G.dependencies=W.dependencies),AW=-1,VG|=G.lanes,(Z&G.childLanes)===0)if(W!==null){if(jY(W,G,Z,!1),(Z&G.childLanes)===0)return null}else return null;if(W!==null&&G.child!==W.child)throw Error("Resuming work not yet implemented.");if(G.child!==null){W=G.child,Z=YG(W,W.pendingProps),G.child=Z;for(Z.return=G;W.sibling!==null;)W=W.sibling,Z=Z.sibling=YG(W,W.pendingProps),Z.return=G;Z.sibling=null}return G.child}function w6(W,G){if((W.lanes&G)!==0)return!0;return W=W.dependencies,W!==null&&e8(W)?!0:!1}function pL(W,G,Z){switch(G.tag){case 3:u1(G,G.stateNode.containerInfo),e5(G,k1,W.memoizedState.cache),VY();break;case 27:case 5:h9(G);break;case 4:u1(G,G.stateNode.containerInfo);break;case 10:e5(G,G.type,G.memoizedProps.value);break;case 12:(Z&G.childLanes)!==0&&(G.flags|=4),G.flags|=2048;var X=G.stateNode;X.effectDuration=-0,X.passiveEffectDuration=-0;break;case 13:if(X=G.memoizedState,X!==null){if(X.dehydrated!==null)return a5(G),G.flags|=128,null;if((Z&G.child.childLanes)!==0)return bz(W,G,Z);return a5(G),W=V5(W,G,Z),W!==null?W.sibling:null}a5(G);break;case 19:var B=(W.flags&128)!==0;if(X=(Z&G.childLanes)!==0,X||(jY(W,G,Z,!1),X=(Z&G.childLanes)!==0),B){if(X)return yz(W,G,Z);G.flags|=128}if(B=G.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),R0(S1,S1.current,G),X)break;else return null;case 22:case 23:return G.lanes=0,Mz(W,G,Z);case 24:e5(G,k1,W.memoizedState.cache)}return V5(W,G,Z)}function O6(W,G,Z){if(G._debugNeedsRemount&&W!==null){Z=M6(G.type,G.key,G.pendingProps,G._debugOwner||null,G.mode,G.lanes);var X=G.return;if(X===null)throw Error("Cannot swap the root fiber.");if(W.alternate=null,G.alternate=null,Z.index=G.index,Z.sibling=G.sibling,Z.return=G.return,Z.ref=G.ref,Z._debugInfo=G._debugInfo,G===X.child)X.child=Z;else{var B=X.child;if(B===null)throw Error("Expected parent to have a child.");for(;B.sibling!==G;)if(B=B.sibling,B===null)throw Error("Expected to find the previous sibling.");B.sibling=Z}return G=X.deletions,G===null?(X.deletions=[W],X.flags|=16):G.push(W),Z.flags|=2,Z}if(W!==null)if(W.memoizedProps!==G.pendingProps||G.type!==W.type)m1=!0;else{if(!w6(W,Z)&&(G.flags&128)===0)return m1=!1,pL(W,G,Z);m1=(W.flags&131072)!==0?!0:!1}else{if(m1=!1,X=v0)mG(),X=(G.flags&1048576)!==0;X&&(X=G.index,mG(),x$(G,vX,X))}switch(G.lanes=0,G.tag){case 16:W:if(X=G.pendingProps,W=KG(G.elementType),G.type=W,typeof W==="function")C6(W)?(X=nG(W,X),G.tag=1,G.type=W=gG(W),G=kz(null,G,W,X,Z)):(G.tag=0,N6(G,W),G.type=W=gG(W),G=J6(null,G,W,X,Z));else{if(W!==void 0&&W!==null){if(B=W.$$typeof,B===mY){G.tag=11,G.type=W=AB(W),G=Fz(null,G,W,X,Z);break W}else if(B===TX){G.tag=14,G=qz(null,G,W,X,Z);break W}}throw G="",W!==null&&typeof W==="object"&&W.$$typeof===kW&&(G=" Did you wrap a component in React.lazy() more than once?"),W=f(W)||W,Error("Element type is invalid. Received a promise that resolves to: "+W+". Lazy element type must resolve to a class or function."+G)}return G;case 0:return J6(W,G,G.type,G.pendingProps,Z);case 1:return X=G.type,B=nG(X,G.pendingProps),kz(W,G,X,B,Z);case 3:W:{if(u1(G,G.stateNode.containerInfo),W===null)throw Error("Should have a current fiber. This is a bug in React.");var J=G.pendingProps;B=G.memoizedState,X=B.element,A6(W,G),CY(G,J,null,Z);var z=G.memoizedState;if(J=z.cache,e5(G,k1,J),J!==B.cache&&L6(G,[k1],Z,!0),qY(),J=z.element,B.isDehydrated)if(B={element:J,isDehydrated:!1,cache:z.cache},G.updateQueue.baseState=B,G.memoizedState=B,G.flags&256){G=xz(W,G,J,Z);break W}else if(J!==X){X=MW(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),G),LY(X),G=xz(W,G,J,Z);break W}else for(s1=oW(G.stateNode.containerInfo.firstChild),JW=G,v0=!0,F9=null,C5=!1,G9=null,G5=!0,W=fH(G,null,J,Z),G.child=W;W;)W.flags=W.flags&-3|4096,W=W.sibling;else{if(VY(),J===X){G=V5(W,G,Z);break W}c1(W,G,J,Z)}G=G.child}return G;case 26:return PY(W,G),W===null?(W=YU(G.type,null,G.pendingProps,null))?G.memoizedState=W:v0||(W=G.type,Z=G.pendingProps,X=B1(JG.current),X=zX(X).createElement(W),X[WW]=G,X[TW]=Z,l1(X,W,Z),D1(X),G.stateNode=X):G.memoizedState=YU(G.type,W.memoizedProps,G.pendingProps,W.memoizedState),null;case 27:return h9(G),W===null&&v0&&(B=B1(JG.current),X=KW(),B=G.stateNode=GU(G.type,G.pendingProps,B,X,!1),C5||(X=nK(B,G.type,G.pendingProps,X),X!==null&&(dG(G,0).serverProps=X)),JW=G,G5=!0,s1=oW(B.firstChild)),X=G.pendingProps.children,W!==null||v0?c1(W,G,X,Z):G.child=BZ(G,null,X,Z),PY(W,G),G.child;case 5:return W===null&&v0&&(J=KW(),X=wB(G.type,J.ancestorInfo),B=s1,(z=!B)||(z=ST(B,G.type,G.pendingProps,G5),z!==null?(G.stateNode=z,C5||(J=nK(z,G.type,G.pendingProps,J),J!==null&&(dG(G,0).serverProps=J)),JW=G,s1=oW(z.firstChild),G5=!1,J=!0):J=!1,z=!J),z&&(X&&FB(G,B),uG(G))),h9(G),B=G.type,J=G.pendingProps,z=W!==null?W.memoizedProps:null,X=J.children,s6(B,J)?X=null:z!==null&&s6(B,z)&&(G.flags|=32),G.memoizedState!==null&&(B=kB(W,G,yL,null,null,Z),j4._currentValue=B),PY(W,G),c1(W,G,X,Z),G.child;case 6:return W===null&&v0&&(W=G.pendingProps,Z=KW().ancestorInfo.current,W=Z!=null?j8(W,Z.tag):!0,Z=s1,(X=!Z)||(X=RT(Z,G.pendingProps,G5),X!==null?(G.stateNode=X,JW=G,s1=null,X=!0):X=!1,X=!X),X&&(W&&FB(G,Z),uG(G))),null;case 13:return bz(W,G,Z);case 4:return u1(G,G.stateNode.containerInfo),X=G.pendingProps,W===null?G.child=BZ(G,null,X,Z):c1(W,G,X,Z),G.child;case 11:return Fz(W,G,G.type,G.pendingProps,Z);case 7:return c1(W,G,G.pendingProps,Z),G.child;case 8:return c1(W,G,G.pendingProps.children,Z),G.child;case 12:return G.flags|=4,G.flags|=2048,X=G.stateNode,X.effectDuration=-0,X.passiveEffectDuration=-0,c1(W,G,G.pendingProps.children,Z),G.child;case 10:return X=G.type,B=G.pendingProps,J=B.value,"value"in B||X_||(X_=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),e5(G,X,J),c1(W,G,B.children,Z),G.child;case 9:return B=G.type._context,X=G.pendingProps.children,typeof X!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),sG(G),B=H1(B),j(G),X=yQ(X,B,void 0),Z0(),G.flags|=1,c1(W,G,X,Z),G.child;case 14:return qz(W,G,G.type,G.pendingProps,Z);case 15:return Cz(W,G,G.type,G.pendingProps,Z);case 19:return yz(W,G,Z);case 22:return Mz(W,G,Z);case 24:return sG(G),X=H1(k1),W===null?(B=SB(),B===null&&(B=Z1,J=MB(),B.pooledCache=J,pG(J),J!==null&&(B.pooledCacheLanes|=Z),B=J),G.memoizedState={parent:X,cache:B},T6(G),e5(G,k1,B)):((W.lanes&Z)!==0&&(A6(W,G),CY(G,null,null,Z),qY()),B=W.memoizedState,J=G.memoizedState,B.parent!==X?(B={parent:X,cache:X},G.memoizedState=B,G.lanes===0&&(G.memoizedState=G.updateQueue.baseState=B),e5(G,k1,X)):(X=J.cache,e5(G,k1,X),X!==B.cache&&L6(G,[k1],Z,!0))),c1(W,G,G.pendingProps.children,Z),G.child;case 29:throw G.pendingProps}throw Error("Unknown unit of work tag ("+G.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function t8(){q7=uX=null,C7=!1}function e5(W,G,Z){R0(nQ,G._currentValue,W),G._currentValue=Z,R0(sQ,G._currentRenderer,W),G._currentRenderer!==void 0&&G._currentRenderer!==null&&G._currentRenderer!==B_&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),G._currentRenderer=B_}function L5(W,G){W._currentValue=nQ.current;var Z=sQ.current;d0(sQ,G),W._currentRenderer=Z,d0(nQ,G)}function V6(W,G,Z){for(;W!==null;){var X=W.alternate;if((W.childLanes&G)!==G?(W.childLanes|=G,X!==null&&(X.childLanes|=G)):X!==null&&(X.childLanes&G)!==G&&(X.childLanes|=G),W===Z)break;W=W.return}W!==Z&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function L6(W,G,Z,X){var B=W.child;B!==null&&(B.return=W);for(;B!==null;){var J=B.dependencies;if(J!==null){var z=B.child;J=J.firstContext;W:for(;J!==null;){var H=J;J=B;for(var T=0;T<G.length;T++)if(H.context===G[T]){J.lanes|=Z,H=J.alternate,H!==null&&(H.lanes|=Z),V6(J.return,Z,W),X||(z=null);break W}J=H.next}}else if(B.tag===18){if(z=B.return,z===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");z.lanes|=Z,J=z.alternate,J!==null&&(J.lanes|=Z),V6(z,Z,W),z=null}else z=B.child;if(z!==null)z.return=B;else for(z=B;z!==null;){if(z===W){z=null;break}if(B=z.sibling,B!==null){B.return=z.return,z=B;break}z=z.return}B=z}}function jY(W,G,Z,X){W=null;for(var B=G,J=!1;B!==null;){if(!J){if((B.flags&524288)!==0)J=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var z=B.alternate;if(z===null)throw Error("Should have a current fiber. This is a bug in React.");if(z=z.memoizedProps,z!==null){var H=B.type;QW(B.pendingProps.value,z.value)||(W!==null?W.push(H):W=[H])}}else if(B===AX.current){if(z=B.alternate,z===null)throw Error("Should have a current fiber. This is a bug in React.");z.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(W!==null?W.push(j4):W=[j4])}B=B.return}W!==null&&L6(G,W,Z,X),G.flags|=262144}function e8(W){for(W=W.firstContext;W!==null;){if(!QW(W.context._currentValue,W.memoizedValue))return!0;W=W.next}return!1}function sG(W){uX=W,q7=null,W=W.dependencies,W!==null&&(W.firstContext=null)}function H1(W){return C7&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),gz(uX,W)}function WX(W,G){return uX===null&&sG(W),gz(W,G)}function gz(W,G){var Z=G._currentValue;if(G={context:G,memoizedValue:Z,next:null},q7===null){if(W===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");q7=G,W.dependencies={lanes:0,firstContext:G,_debugThenableState:null},W.flags|=524288}else q7=q7.next=G;return Z}function T6(W){W.updateQueue={baseState:W.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A6(W,G){W=W.updateQueue,G.updateQueue===W&&(G.updateQueue={baseState:W.baseState,firstBaseUpdate:W.firstBaseUpdate,lastBaseUpdate:W.lastBaseUpdate,shared:W.shared,callbacks:null})}function WG(W){return{lane:W,tag:Q_,payload:null,callback:null,next:null}}function GG(W,G,Z){var X=W.updateQueue;if(X===null)return null;if(X=X.shared,aQ===X&&!$_){var B=p(W);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,B),$_=!0}if(($1&zW)!==bW)return B=X.pending,B===null?G.next=G:(G.next=B.next,B.next=G),X.pending=G,G=R8(W),M$(W,null,Z),G;return S8(W,X,G,Z),R8(W)}function FY(W,G,Z){if(G=G.updateQueue,G!==null&&(G=G.shared,(Z&4194176)!==0)){var X=G.lanes;X&=W.pendingLanes,Z|=X,G.lanes=Z,bZ(W,Z)}}function GX(W,G){var{updateQueue:Z,alternate:X}=W;if(X!==null&&(X=X.updateQueue,Z===X)){var B=null,J=null;if(Z=Z.firstBaseUpdate,Z!==null){do{var z={lane:Z.lane,tag:Z.tag,payload:Z.payload,callback:null,next:null};J===null?B=J=z:J=J.next=z,Z=Z.next}while(Z!==null);J===null?B=J=G:J=J.next=G}else B=J=G;Z={baseState:X.baseState,firstBaseUpdate:B,lastBaseUpdate:J,shared:X.shared,callbacks:X.callbacks},W.updateQueue=Z;return}W=Z.lastBaseUpdate,W===null?Z.firstBaseUpdate=G:W.next=G,Z.lastBaseUpdate=G}function qY(){if(rQ){var W=I7;if(W!==null)throw W}}function CY(W,G,Z,X){rQ=!1;var B=W.updateQueue;OG=!1,aQ=B.shared;var{firstBaseUpdate:J,lastBaseUpdate:z}=B,H=B.shared.pending;if(H!==null){B.shared.pending=null;var T=H,I=T.next;T.next=null,z===null?J=I:z.next=I,z=T;var b=W.alternate;b!==null&&(b=b.updateQueue,H=b.lastBaseUpdate,H!==z&&(H===null?b.firstBaseUpdate=I:H.next=I,b.lastBaseUpdate=T))}if(J!==null){var d=B.baseState;z=0,b=I=T=null,H=J;do{var v=H.lane&-536870913,c=v!==H.lane;if(c?(M0&v)===v:(X&v)===v){v!==0&&v===QZ&&(rQ=!0),b!==null&&(b=b.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});W:{v=W;var $0=H,D0=G,j1=Z;switch($0.tag){case J_:if($0=$0.payload,typeof $0==="function"){C7=!0;var u0=$0.call(j1,d,D0);if(v.mode&GW){i0(!0);try{$0.call(j1,d,D0)}finally{i0(!1)}}C7=!1,d=u0;break W}d=$0;break W;case oQ:v.flags=v.flags&-65537|128;case Q_:if(u0=$0.payload,typeof u0==="function"){if(C7=!0,$0=u0.call(j1,d,D0),v.mode&GW){i0(!0);try{u0.call(j1,d,D0)}finally{i0(!1)}}C7=!1}else $0=u0;if($0===null||$0===void 0)break W;d=F0({},d,$0);break W;case N_:OG=!0}}v=H.callback,v!==null&&(W.flags|=64,c&&(W.flags|=8192),c=B.callbacks,c===null?B.callbacks=[v]:c.push(v))}else c={lane:v,tag:H.tag,payload:H.payload,callback:H.callback,next:null},b===null?(I=b=c,T=d):b=b.next=c,z|=v;if(H=H.next,H===null)if(H=B.shared.pending,H===null)break;else c=H,H=c.next,c.next=null,B.lastBaseUpdate=c,B.shared.pending=null}while(1);b===null&&(T=d),B.baseState=T,B.firstBaseUpdate=I,B.lastBaseUpdate=b,J===null&&(B.shared.lanes=0),VG|=z,W.lanes=z,W.memoizedState=d}aQ=null}function hz(W,G){if(typeof W!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+W);W.call(G)}function cL(W,G){var Z=W.shared.hiddenCallbacks;if(Z!==null)for(W.shared.hiddenCallbacks=null,W=0;W<Z.length;W++)hz(Z[W],G)}function mz(W,G){var Z=W.callbacks;if(Z!==null)for(W.callbacks=null,W=0;W<Z.length;W++)hz(Z[W],G)}function i9(W){return(W.mode&n1)!==X1}function dz(W,G){i9(W)?(l9(),MY(G,W),c9()):MY(G,W)}function E6(W,G,Z){i9(W)?(l9(),iZ(Z,W,G),c9()):iZ(Z,W,G)}function MY(W,G){try{var Z=G.updateQueue,X=Z!==null?Z.lastEffect:null;if(X!==null){var B=X.next;Z=B;do{if((Z.tag&W)===W&&((W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectMountStarted==="function"&&e.markComponentPassiveEffectMountStarted(G):(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectMountStarted==="function"&&e.markComponentLayoutEffectMountStarted(G),X=void 0,(W&NW)!==Y9&&(b7=!0),X=W0(G,QE,Z),(W&NW)!==Y9&&(b7=!1),(W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectMountStopped==="function"&&e.markComponentPassiveEffectMountStopped():(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectMountStopped==="function"&&e.markComponentLayoutEffectMountStopped(),X!==void 0&&typeof X!=="function")){var J=void 0;J=(Z.tag&o1)!==0?"useLayoutEffect":(Z.tag&NW)!==0?"useInsertionEffect":"useEffect";var z=void 0;z=X===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof X.then==="function"?`

It looks like you wrote `+J+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+J+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+X,W0(G,function(H,T){console.error("%s must not return anything besides a function, which is used for clean-up.%s",H,T)},J,z)}Z=Z.next}while(Z!==B)}}catch(H){a0(G,G.return,H)}}function iZ(W,G,Z){try{var X=G.updateQueue,B=X!==null?X.lastEffect:null;if(B!==null){var J=B.next;X=J;do{if((X.tag&W)===W){var z=X.inst,H=z.destroy;H!==void 0&&(z.destroy=void 0,(W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectUnmountStarted==="function"&&e.markComponentPassiveEffectUnmountStarted(G):(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectUnmountStarted==="function"&&e.markComponentLayoutEffectUnmountStarted(G),(W&NW)!==Y9&&(b7=!0),W0(G,JE,G,Z,H),(W&NW)!==Y9&&(b7=!1),(W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectUnmountStopped==="function"&&e.markComponentPassiveEffectUnmountStopped():(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectUnmountStopped==="function"&&e.markComponentLayoutEffectUnmountStopped())}X=X.next}while(X!==J)}}catch(T){a0(G,G.return,T)}}function uz(W,G){i9(W)?(l9(),MY(G,W),c9()):MY(G,W)}function I6(W,G,Z){i9(W)?(l9(),iZ(Z,W,G),c9()):iZ(Z,W,G)}function pz(W){var G=W.updateQueue;if(G!==null){var Z=W.stateNode;W.type.defaultProps||"ref"in W.memoizedProps||F7||(Z.props!==W.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(W)||"instance"),Z.state!==W.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(W)||"instance"));try{W0(W,mz,G,Z)}catch(X){a0(W,W.return,X)}}}function lL(W,G,Z){return W.getSnapshotBeforeUpdate(G,Z)}function iL(W,G){var{memoizedProps:Z,memoizedState:X}=G;G=W.stateNode,W.type.defaultProps||"ref"in W.memoizedProps||F7||(G.props!==W.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(W)||"instance"),G.state!==W.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(W)||"instance"));try{var B=nG(W.type,Z,W.elementType===W.type),J=W0(W,lL,G,B,X);Z=z_,J!==void 0||Z.has(W.type)||(Z.add(W.type),W0(W,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",p(W))})),G.__reactInternalSnapshotBeforeUpdate=J}catch(z){a0(W,W.return,z)}}function cz(W,G,Z){Z.props=nG(W.type,W.memoizedProps),Z.state=W.memoizedState,i9(W)?(l9(),W0(W,CH,W,G,Z),c9()):W0(W,CH,W,G,Z)}function nL(W){var G=W.ref;if(G!==null){var Z=W.stateNode;if(typeof G==="function")if(i9(W))try{l9(),W.refCleanup=G(Z)}finally{c9()}else W.refCleanup=G(Z);else typeof G==="string"?console.error("String refs are no longer supported."):G.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",p(W)),G.current=Z}}function oG(W,G){try{W0(W,nL,W)}catch(Z){a0(W,G,Z)}}function SW(W,G){var{ref:Z,refCleanup:X}=W;if(Z!==null)if(typeof X==="function")try{if(i9(W))try{l9(),W0(W,X)}finally{c9(W)}else W0(W,X)}catch(B){a0(W,G,B)}finally{W.refCleanup=null,W=W.alternate,W!=null&&(W.refCleanup=null)}else if(typeof Z==="function")try{if(i9(W))try{l9(),W0(W,Z,null)}finally{c9(W)}else W0(W,Z,null)}catch(B){a0(W,G,B)}else Z.current=null}function lz(W,G,Z,X){var B=W.memoizedProps,J=B.id,z=B.onCommit;B=B.onRender,G=G===null?"mount":"update",RX&&(G="nested-update"),typeof B==="function"&&B(J,G,W.actualDuration,W.treeBaseDuration,W.actualStartTime,Z),typeof z==="function"&&z(W.memoizedProps.id,G,X,Z)}function sL(W,G,Z,X){var B=W.memoizedProps;W=B.id,B=B.onPostCommit,G=G===null?"mount":"update",RX&&(G="nested-update"),typeof B==="function"&&B(W,G,X,Z)}function iz(W){var{type:G,memoizedProps:Z,stateNode:X}=W;try{W0(W,ET,X,G,Z,W)}catch(B){a0(W,W.return,B)}}function nz(W,G,Z){try{W0(W,IT,W.stateNode,W.type,Z,G,W)}catch(X){a0(W,W.return,X)}}function sz(W){return W.tag===5||W.tag===3||W.tag===26||W.tag===27||W.tag===4}function D6(W){W:for(;;){for(;W.sibling===null;){if(W.return===null||sz(W.return))return null;W=W.return}W.sibling.return=W.return;for(W=W.sibling;W.tag!==5&&W.tag!==6&&W.tag!==27&&W.tag!==18;){if(W.flags&2)continue W;if(W.child===null||W.tag===4)continue W;else W.child.return=W,W=W.child}if(!(W.flags&2))return W.stateNode}}function P6(W,G,Z){var X=W.tag;if(X===5||X===6)W=W.stateNode,G?Z.nodeType===8?Z.parentNode.insertBefore(W,G):Z.insertBefore(W,G):(Z.nodeType===8?(G=Z.parentNode,G.insertBefore(W,Z)):(G=Z,G.appendChild(W)),Z=Z._reactRootContainer,Z!==null&&Z!==void 0||G.onclick!==null||(G.onclick=NX));else if(X!==4&&X!==27&&(W=W.child,W!==null))for(P6(W,G,Z),W=W.sibling;W!==null;)P6(W,G,Z),W=W.sibling}function ZX(W,G,Z){var X=W.tag;if(X===5||X===6)W=W.stateNode,G?Z.insertBefore(W,G):Z.appendChild(W);else if(X!==4&&X!==27&&(W=W.child,W!==null))for(ZX(W,G,Z),W=W.sibling;W!==null;)ZX(W,G,Z),W=W.sibling}function oL(W){if(W.tag!==27){W:{for(var G=W.return;G!==null;){if(sz(G)){var Z=G;break W}G=G.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(Z.tag){case 27:G=Z.stateNode,Z=D6(W),ZX(W,Z,G);break;case 5:G=Z.stateNode,Z.flags&32&&(aK(G),Z.flags&=-33),Z=D6(W),ZX(W,Z,G);break;case 3:case 4:G=Z.stateNode.containerInfo,Z=D6(W),P6(W,Z,G);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function aL(W,G){if(W=W.containerInfo,OJ=N2,W=q$(W),LB(W)){if("selectionStart"in W)var Z={start:W.selectionStart,end:W.selectionEnd};else W:{Z=(Z=W.ownerDocument)&&Z.defaultView||window;var X=Z.getSelection&&Z.getSelection();if(X&&X.rangeCount!==0){Z=X.anchorNode;var{anchorOffset:B,focusNode:J}=X;X=X.focusOffset;try{Z.nodeType,J.nodeType}catch($0){Z=null;break W}var z=0,H=-1,T=-1,I=0,b=0,d=W,v=null;G:for(;;){for(var c;;){if(d!==Z||B!==0&&d.nodeType!==3||(H=z+B),d!==J||X!==0&&d.nodeType!==3||(T=z+X),d.nodeType===3&&(z+=d.nodeValue.length),(c=d.firstChild)===null)break;v=d,d=c}for(;;){if(d===W)break G;if(v===Z&&++I===B&&(H=z),v===J&&++b===X&&(T=z),(c=d.nextSibling)!==null)break;d=v,v=d.parentNode}d=c}Z=H===-1||T===-1?null:{start:H,end:T}}else Z=null}Z=Z||{start:0,end:0}}else Z=null;VJ={focusedElem:W,selectionRange:Z},N2=!1;for(d1=G;d1!==null;)if(G=d1,W=G.child,(G.subtreeFlags&1028)!==0&&W!==null)W.return=G,d1=W;else for(;d1!==null;){switch(W=G=d1,Z=W.alternate,B=W.flags,W.tag){case 0:break;case 11:case 15:break;case 1:(B&1024)!==0&&Z!==null&&iL(W,Z);break;case 3:if((B&1024)!==0){if(W=W.stateNode.containerInfo,Z=W.nodeType,Z===9)a6(W);else if(Z===1)switch(W.nodeName){case"HEAD":case"HTML":case"BODY":a6(W);break;default:W.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((B&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(W=G.sibling,W!==null){W.return=G.return,d1=W;break}d1=G.return}return G=U_,U_=!1,G}function oz(W,G,Z){var X=Z.flags;switch(Z.tag){case 0:case 11:case 15:n9(W,Z),X&4&&dz(Z,o1|X9);break;case 1:if(n9(W,Z),X&4)if(W=Z.stateNode,G===null)Z.type.defaultProps||"ref"in Z.memoizedProps||F7||(W.props!==Z.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(Z)||"instance"),W.state!==Z.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(Z)||"instance")),i9(Z)?(l9(),W0(Z,gQ,Z,W),c9()):W0(Z,gQ,Z,W);else{var B=nG(Z.type,G.memoizedProps);G=G.memoizedState,Z.type.defaultProps||"ref"in Z.memoizedProps||F7||(W.props!==Z.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(Z)||"instance"),W.state!==Z.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(Z)||"instance")),i9(Z)?(l9(),W0(Z,jH,Z,W,B,G,W.__reactInternalSnapshotBeforeUpdate),c9()):W0(Z,jH,Z,W,B,G,W.__reactInternalSnapshotBeforeUpdate)}X&64&&pz(Z),X&512&&oG(Z,Z.return);break;case 3:if(G=w5(),n9(W,Z),X&64&&(X=Z.updateQueue,X!==null)){if(B=null,Z.child!==null)switch(Z.child.tag){case 27:case 5:B=Z.child.stateNode;break;case 1:B=Z.child.stateNode}try{W0(Z,mz,X,B)}catch(H){a0(Z,Z.return,H)}}W.effectDuration+=k8(G);break;case 26:n9(W,Z),X&512&&oG(Z,Z.return);break;case 27:case 5:n9(W,Z),G===null&&X&4&&iz(Z),X&512&&oG(Z,Z.return);break;case 12:if(X&4){X=w5(),n9(W,Z),W=Z.stateNode,W.effectDuration+=wY(X);try{W0(Z,lz,Z,G,SX,W.effectDuration)}catch(H){a0(Z,Z.return,H)}}else n9(W,Z);break;case 13:n9(W,Z),X&4&&tz(W,Z);break;case 22:if(B=Z.memoizedState!==null||R5,!B){G=G!==null&&G.memoizedState!==null||A1;var J=R5,z=A1;R5=B,(A1=G)&&!z?A5(W,Z,(Z.subtreeFlags&8772)!==0):n9(W,Z),R5=J,A1=z}X&512&&(Z.memoizedProps.mode==="manual"?oG(Z,Z.return):SW(Z,Z.return));break;default:n9(W,Z)}}function az(W){var G=W.alternate;G!==null&&(W.alternate=null,az(G)),W.child=null,W.deletions=null,W.sibling=null,W.tag===5&&(G=W.stateNode,G!==null&&yZ(G)),W.stateNode=null,W._debugOwner=null,W.return=null,W.dependencies=null,W.memoizedProps=null,W.memoizedState=null,W.pendingProps=null,W.stateNode=null,W.updateQueue=null}function T5(W,G,Z){for(Z=Z.child;Z!==null;)rz(W,G,Z),Z=Z.sibling}function rz(W,G,Z){if(e1&&typeof e1.onCommitFiberUnmount==="function")try{e1.onCommitFiberUnmount(B7,Z)}catch(J){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",J))}switch(Z.tag){case 26:A1||SW(Z,G),T5(W,G,Z),Z.memoizedState?Z.memoizedState.count--:Z.stateNode&&(Z=Z.stateNode,Z.parentNode.removeChild(Z));break;case 27:A1||SW(Z,G);var X=C1,B=xW;C1=Z.stateNode,T5(W,G,Z),Z=Z.stateNode;for(W=Z.attributes;W.length;)Z.removeAttributeNode(W[0]);yZ(Z),C1=X,xW=B;break;case 5:A1||SW(Z,G);case 6:if(X=C1,B=xW,C1=null,T5(W,G,Z),C1=X,xW=B,C1!==null)if(xW)try{W0(Z,jT,C1,Z.stateNode)}catch(J){a0(Z,G,J)}else try{W0(Z,PT,C1,Z.stateNode)}catch(J){a0(Z,G,J)}break;case 18:C1!==null&&(xW?(W=C1,Z=Z.stateNode,W.nodeType===8?o6(W.parentNode,Z):W.nodeType===1&&o6(W,Z),hY(W)):o6(C1,Z.stateNode));break;case 4:X=C1,B=xW,C1=Z.stateNode.containerInfo,xW=!0,T5(W,G,Z),C1=X,xW=B;break;case 0:case 11:case 14:case 15:A1||iZ(NW,Z,G),A1||E6(Z,G,o1),T5(W,G,Z);break;case 1:A1||(SW(Z,G),X=Z.stateNode,typeof X.componentWillUnmount==="function"&&cz(Z,G,X)),T5(W,G,Z);break;case 21:T5(W,G,Z);break;case 22:A1||SW(Z,G),A1=(X=A1)||Z.memoizedState!==null,T5(W,G,Z),A1=X;break;default:T5(W,G,Z)}}function tz(W,G){if(G.memoizedState===null&&(W=G.alternate,W!==null&&(W=W.memoizedState,W!==null&&(W=W.dehydrated,W!==null))))try{W0(G,xT,W)}catch(Z){a0(G,G.return,Z)}}function rL(W){switch(W.tag){case 13:case 19:var G=W.stateNode;return G===null&&(G=W.stateNode=new K_),G;case 22:return W=W.stateNode,G=W._retryCache,G===null&&(G=W._retryCache=new K_),G;default:throw Error("Unexpected Suspense handler tag ("+W.tag+"). This is a bug in React.")}}function j6(W,G){var Z=rL(W);G.forEach(function(X){var B=UT.bind(null,W,X);if(!Z.has(X)){if(Z.add(X),E9)if(M7!==null&&S7!==null)xY(S7,M7);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");X.then(B,B)}})}function tL(W,G,Z){M7=Z,S7=W,ez(G,W),S7=M7=null}function iW(W,G){var Z=G.deletions;if(Z!==null)for(var X=0;X<Z.length;X++){var B=W,J=G,z=Z[X],H=J;W:for(;H!==null;){switch(H.tag){case 27:case 5:C1=H.stateNode,xW=!1;break W;case 3:C1=H.stateNode.containerInfo,xW=!0;break W;case 4:C1=H.stateNode.containerInfo,xW=!0;break W}H=H.return}if(C1===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");rz(B,J,z),C1=null,xW=!1,B=z,J=B.alternate,J!==null&&(J.return=null),B.return=null}if(G.subtreeFlags&13878)for(G=G.child;G!==null;)ez(G,W),G=G.sibling}function ez(W,G){var{alternate:Z,flags:X}=W;switch(W.tag){case 0:case 11:case 14:case 15:iW(G,W),nW(W),X&4&&(iZ(NW|X9,W,W.return),MY(NW|X9,W),E6(W,W.return,o1|X9));break;case 1:iW(G,W),nW(W),X&512&&(A1||Z===null||SW(Z,Z.return)),X&64&&R5&&(W=W.updateQueue,W!==null&&(X=W.callbacks,X!==null&&(Z=W.shared.hiddenCallbacks,W.shared.hiddenCallbacks=Z===null?X:Z.concat(X))));break;case 26:var B=q9;if(iW(G,W),nW(W),X&512&&(A1||Z===null||SW(Z,Z.return)),X&4)if(G=Z!==null?Z.memoizedState:null,X=W.memoizedState,Z===null)if(X===null)if(W.stateNode===null){W:{X=W.type,Z=W.memoizedProps,G=B.ownerDocument||B;G:switch(X){case"title":if(B=G.getElementsByTagName("title")[0],!B||B[pY]||B[WW]||B.namespaceURI===Q7||B.hasAttribute("itemprop"))B=G.createElement(X),G.head.insertBefore(B,G.querySelector("head > title"));l1(B,X,Z),B[WW]=W,D1(B),X=B;break W;case"link":var J=QU("link","href",G).get(X+(Z.href||""));if(J){for(var z=0;z<J.length;z++)if(B=J[z],B.getAttribute("href")===(Z.href==null?null:Z.href)&&B.getAttribute("rel")===(Z.rel==null?null:Z.rel)&&B.getAttribute("title")===(Z.title==null?null:Z.title)&&B.getAttribute("crossorigin")===(Z.crossOrigin==null?null:Z.crossOrigin)){J.splice(z,1);break G}}B=G.createElement(X),l1(B,X,Z),G.head.appendChild(B);break;case"meta":if(J=QU("meta","content",G).get(X+(Z.content||""))){for(z=0;z<J.length;z++)if(B=J[z],y0(Z.content,"content"),B.getAttribute("content")===(Z.content==null?null:""+Z.content)&&B.getAttribute("name")===(Z.name==null?null:Z.name)&&B.getAttribute("property")===(Z.property==null?null:Z.property)&&B.getAttribute("http-equiv")===(Z.httpEquiv==null?null:Z.httpEquiv)&&B.getAttribute("charset")===(Z.charSet==null?null:Z.charSet)){J.splice(z,1);break G}}B=G.createElement(X),l1(B,X,Z),G.head.appendChild(B);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+X+'". This is a bug in React.')}B[WW]=W,D1(B),X=B}W.stateNode=X}else JU(B,W.type,W.stateNode);else W.stateNode=BU(B,X,W.memoizedProps);else G!==X?(G===null?Z.stateNode!==null&&(Z=Z.stateNode,Z.parentNode.removeChild(Z)):G.count--,X===null?JU(B,W.type,W.stateNode):BU(B,X,W.memoizedProps)):X===null&&W.stateNode!==null&&nz(W,W.memoizedProps,Z.memoizedProps);break;case 27:if(X&4&&W.alternate===null){B=W.stateNode,J=W.memoizedProps;try{for(z=B.firstChild;z;){var{nextSibling:H,nodeName:T}=z;z[pY]||T==="HEAD"||T==="BODY"||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&z.rel.toLowerCase()==="stylesheet"||B.removeChild(z),z=H}W0(W,bT,W.type,J,B,W)}catch(b){a0(W,W.return,b)}}case 5:if(iW(G,W),nW(W),X&512&&(A1||Z===null||SW(Z,Z.return)),W.flags&32){G=W.stateNode;try{W0(W,aK,G)}catch(b){a0(W,W.return,b)}}X&4&&W.stateNode!=null&&(G=W.memoizedProps,nz(W,G,Z!==null?Z.memoizedProps:G)),X&1024&&(tQ=!0,W.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(iW(G,W),nW(W),X&4){if(W.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");X=W.memoizedProps,Z=Z!==null?Z.memoizedProps:X,G=W.stateNode;try{W0(W,DT,G,Z,X)}catch(b){a0(W,W.return,b)}}break;case 3:if(B=w5(),B2=null,J=q9,q9=KX(G.containerInfo),iW(G,W),q9=J,nW(W),X&4&&Z!==null&&Z.memoizedState.isDehydrated)try{W0(W,kT,G.containerInfo)}catch(b){a0(W,W.return,b)}tQ&&(tQ=!1,WK(W)),G.effectDuration+=k8(B);break;case 4:X=q9,q9=KX(W.stateNode.containerInfo),iW(G,W),nW(W),q9=X;break;case 12:X=w5(),iW(G,W),nW(W),W.stateNode.effectDuration+=wY(X);break;case 13:iW(G,W),nW(W),W.child.flags&8192&&W.memoizedState!==null!==(Z!==null&&Z.memoizedState!==null)&&(XJ=r9()),X&4&&(X=W.updateQueue,X!==null&&(W.updateQueue=null,j6(W,X)));break;case 22:X&512&&(A1||Z===null||SW(Z,Z.return)),z=W.memoizedState!==null,H=Z!==null&&Z.memoizedState!==null,T=R5;var I=A1;if(R5=T||z,A1=I||H,iW(G,W),A1=I,R5=T,nW(W),G=W.stateNode,G._current=W,G._visibility&=~GZ,G._visibility|=G._pendingVisibility&GZ,X&8192&&(G._visibility=z?G._visibility&~tY:G._visibility|tY,z&&(G=R5||A1,Z===null||H||G||nZ(W)),W.memoizedProps===null||W.memoizedProps.mode!=="manual"))W:for(Z=null,G=W;;){if(G.tag===5||G.tag===26||G.tag===27){if(Z===null){H=Z=G;try{B=H.stateNode,z?W0(H,FT,B):W0(H,CT,H.stateNode,H.memoizedProps)}catch(b){a0(H,H.return,b)}}}else if(G.tag===6){if(Z===null){H=G;try{J=H.stateNode,z?W0(H,qT,J):W0(H,MT,J,H.memoizedProps)}catch(b){a0(H,H.return,b)}}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===W)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===W)break W;for(;G.sibling===null;){if(G.return===null||G.return===W)break W;Z===G&&(Z=null),G=G.return}Z===G&&(Z=null),G.sibling.return=G.return,G=G.sibling}X&4&&(X=W.updateQueue,X!==null&&(Z=X.retryQueue,Z!==null&&(X.retryQueue=null,j6(W,Z))));break;case 19:iW(G,W),nW(W),X&4&&(X=W.updateQueue,X!==null&&(W.updateQueue=null,j6(W,X)));break;case 21:break;default:iW(G,W),nW(W)}}function nW(W){var G=W.flags;if(G&2){try{W0(W,oL,W)}catch(Z){a0(W,W.return,Z)}W.flags&=-3}G&4096&&(W.flags&=-4097)}function WK(W){if(W.subtreeFlags&1024)for(W=W.child;W!==null;){var G=W;WK(G),G.tag===5&&G.flags&1024&&G.stateNode.reset(),W=W.sibling}}function eL(W,G,Z){M7=Z,S7=G,oz(G,W.alternate,W),S7=M7=null}function n9(W,G){if(G.subtreeFlags&8772)for(G=G.child;G!==null;)oz(W,G.alternate,G),G=G.sibling}function GK(W){switch(W.tag){case 0:case 11:case 14:case 15:E6(W,W.return,o1),nZ(W);break;case 1:SW(W,W.return);var G=W.stateNode;typeof G.componentWillUnmount==="function"&&cz(W,W.return,G),nZ(W);break;case 26:case 27:case 5:SW(W,W.return),nZ(W);break;case 22:SW(W,W.return),W.memoizedState===null&&nZ(W);break;default:nZ(W)}}function nZ(W){for(W=W.child;W!==null;)GK(W),W=W.sibling}function ZK(W,G,Z,X){var B=Z.flags;switch(Z.tag){case 0:case 11:case 15:A5(W,Z,X),dz(Z,o1);break;case 1:if(A5(W,Z,X),G=Z.stateNode,typeof G.componentDidMount==="function"&&W0(Z,gQ,Z,G),G=Z.updateQueue,G!==null){W=Z.stateNode;try{W0(Z,cL,G,W)}catch(J){a0(Z,Z.return,J)}}X&&B&64&&pz(Z),oG(Z,Z.return);break;case 26:case 27:case 5:A5(W,Z,X),X&&G===null&&B&4&&iz(Z),oG(Z,Z.return);break;case 12:if(X&&B&4){B=w5(),A5(W,Z,X),X=Z.stateNode,X.effectDuration+=wY(B);try{W0(Z,lz,Z,G,SX,X.effectDuration)}catch(J){a0(Z,Z.return,J)}}else A5(W,Z,X);break;case 13:A5(W,Z,X),X&&B&4&&tz(W,Z);break;case 22:Z.memoizedState===null&&A5(W,Z,X),oG(Z,Z.return);break;default:A5(W,Z,X)}}function A5(W,G,Z){Z=Z&&(G.subtreeFlags&8772)!==0;for(G=G.child;G!==null;)ZK(W,G.alternate,G,Z),G=G.sibling}function F6(W,G){var Z=null;W!==null&&W.memoizedState!==null&&W.memoizedState.cachePool!==null&&(Z=W.memoizedState.cachePool.pool),W=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(W=G.memoizedState.cachePool.pool),W!==Z&&(W!=null&&pG(W),Z!=null&&AY(Z))}function q6(W,G){W=null,G.alternate!==null&&(W=G.alternate.memoizedState.cache),G=G.memoizedState.cache,G!==W&&(pG(G),W!=null&&AY(W))}function ZG(W,G,Z,X){if(G.subtreeFlags&10256)for(G=G.child;G!==null;)YK(W,G,Z,X),G=G.sibling}function YK(W,G,Z,X){var B=G.flags;switch(G.tag){case 0:case 11:case 15:ZG(W,G,Z,X),B&2048&&uz(G,R1|X9);break;case 3:var J=w5();ZG(W,G,Z,X),B&2048&&(Z=null,G.alternate!==null&&(Z=G.alternate.memoizedState.cache),G=G.memoizedState.cache,G!==Z&&(pG(G),Z!=null&&AY(Z))),W.passiveEffectDuration+=k8(J);break;case 12:if(B&2048){J=w5(),ZG(W,G,Z,X),W=G.stateNode,W.passiveEffectDuration+=wY(J);try{W0(G,sL,G,G.alternate,SX,W.passiveEffectDuration)}catch(z){a0(G,G.return,z)}}else ZG(W,G,Z,X);break;case 23:break;case 22:J=G.stateNode,G.memoizedState!==null?J._visibility&j5?ZG(W,G,Z,X):SY(W,G):J._visibility&j5?ZG(W,G,Z,X):(J._visibility|=j5,sZ(W,G,Z,X,(G.subtreeFlags&10256)!==0)),B&2048&&F6(G.alternate,G);break;case 24:ZG(W,G,Z,X),B&2048&&q6(G.alternate,G);break;default:ZG(W,G,Z,X)}}function sZ(W,G,Z,X,B){B=B&&(G.subtreeFlags&10256)!==0;for(G=G.child;G!==null;)XK(W,G,Z,X,B),G=G.sibling}function XK(W,G,Z,X,B){var J=G.flags;switch(G.tag){case 0:case 11:case 15:sZ(W,G,Z,X,B),uz(G,R1);break;case 23:break;case 22:var z=G.stateNode;G.memoizedState!==null?z._visibility&j5?sZ(W,G,Z,X,B):SY(W,G):(z._visibility|=j5,sZ(W,G,Z,X,B)),B&&J&2048&&F6(G.alternate,G);break;case 24:sZ(W,G,Z,X,B),B&&J&2048&&q6(G.alternate,G);break;default:sZ(W,G,Z,X,B)}}function SY(W,G){if(G.subtreeFlags&10256)for(G=G.child;G!==null;){var Z=W,X=G,B=X.flags;switch(X.tag){case 22:SY(Z,X),B&2048&&F6(X.alternate,X);break;case 24:SY(Z,X),B&2048&&q6(X.alternate,X);break;default:SY(Z,X)}G=G.sibling}}function oZ(W){if(W.subtreeFlags&K4)for(W=W.child;W!==null;)BK(W),W=W.sibling}function BK(W){switch(W.tag){case 26:oZ(W),W.flags&K4&&W.memoizedState!==null&&gT(q9,W.memoizedState,W.memoizedProps);break;case 5:oZ(W);break;case 3:case 4:var G=q9;q9=KX(W.stateNode.containerInfo),oZ(W),q9=G;break;case 22:W.memoizedState===null&&(G=W.alternate,G!==null&&G.memoizedState!==null?(G=K4,K4=16777216,oZ(W),K4=G):oZ(W));break;default:oZ(W)}}function QK(W){var G=W.alternate;if(G!==null&&(W=G.child,W!==null)){G.child=null;do G=W.sibling,W.sibling=null,W=G;while(W!==null)}}function RY(W){var G=W.deletions;if((W.flags&16)!==0){if(G!==null)for(var Z=0;Z<G.length;Z++){var X=G[Z];d1=X,$K(X,W)}QK(W)}if(W.subtreeFlags&10256)for(W=W.child;W!==null;)JK(W),W=W.sibling}function JK(W){switch(W.tag){case 0:case 11:case 15:RY(W),W.flags&2048&&I6(W,W.return,R1|X9);break;case 3:var G=w5();RY(W),W.stateNode.passiveEffectDuration+=k8(G);break;case 12:G=w5(),RY(W),W.stateNode.passiveEffectDuration+=wY(G);break;case 22:G=W.stateNode,W.memoizedState!==null&&G._visibility&j5&&(W.return===null||W.return.tag!==13)?(G._visibility&=~j5,YX(W)):RY(W);break;default:RY(W)}}function YX(W){var G=W.deletions;if((W.flags&16)!==0){if(G!==null)for(var Z=0;Z<G.length;Z++){var X=G[Z];d1=X,$K(X,W)}QK(W)}for(W=W.child;W!==null;)NK(W),W=W.sibling}function NK(W){switch(W.tag){case 0:case 11:case 15:I6(W,W.return,R1),YX(W);break;case 22:var G=W.stateNode;G._visibility&j5&&(G._visibility&=~j5,YX(W));break;default:YX(W)}}function $K(W,G){for(;d1!==null;){var Z=d1,X=Z;switch(X.tag){case 0:case 11:case 15:I6(X,G,R1);break;case 23:case 22:X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(X=X.memoizedState.cachePool.pool,X!=null&&pG(X));break;case 24:AY(X.memoizedState.cache)}if(X=Z.child,X!==null)X.return=Z,d1=X;else W:for(Z=W;d1!==null;){X=d1;var{sibling:B,return:J}=X;if(az(X),X===Z){d1=null;break W}if(B!==null){B.return=J,d1=B;break W}d1=J}}}function WT(W,G,Z,X){this.tag=W,this.key=Z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=G,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,H_||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function C6(W){return W=W.prototype,!(!W||!W.isReactComponent)}function YG(W,G){var Z=W.alternate;switch(Z===null?(Z=L(W.tag,G,W.key,W.mode),Z.elementType=W.elementType,Z.type=W.type,Z.stateNode=W.stateNode,Z._debugOwner=W._debugOwner,Z._debugHookTypes=W._debugHookTypes,Z.alternate=W,W.alternate=Z):(Z.pendingProps=G,Z.type=W.type,Z.flags=0,Z.subtreeFlags=0,Z.deletions=null,Z.actualDuration=-0,Z.actualStartTime=-1.1),Z.flags=W.flags&31457280,Z.childLanes=W.childLanes,Z.lanes=W.lanes,Z.child=W.child,Z.memoizedProps=W.memoizedProps,Z.memoizedState=W.memoizedState,Z.updateQueue=W.updateQueue,G=W.dependencies,Z.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext,_debugThenableState:G._debugThenableState},Z.sibling=W.sibling,Z.index=W.index,Z.ref=W.ref,Z.refCleanup=W.refCleanup,Z.selfBaseDuration=W.selfBaseDuration,Z.treeBaseDuration=W.treeBaseDuration,Z._debugInfo=W._debugInfo,Z._debugNeedsRemount=W._debugNeedsRemount,Z.tag){case 0:case 15:Z.type=gG(W.type);break;case 1:Z.type=gG(W.type);break;case 11:Z.type=AB(W.type)}return Z}function zK(W,G){W.flags&=31457282;var Z=W.alternate;return Z===null?(W.childLanes=0,W.lanes=G,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null,W.selfBaseDuration=0,W.treeBaseDuration=0):(W.childLanes=Z.childLanes,W.lanes=Z.lanes,W.child=Z.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=Z.memoizedProps,W.memoizedState=Z.memoizedState,W.updateQueue=Z.updateQueue,W.type=Z.type,G=Z.dependencies,W.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext,_debugThenableState:G._debugThenableState},W.selfBaseDuration=Z.selfBaseDuration,W.treeBaseDuration=Z.treeBaseDuration),W}function M6(W,G,Z,X,B,J){var z=0,H=W;if(typeof W==="function")C6(W)&&(z=1),H=gG(H);else if(typeof W==="string")z=KW(),z=fT(W,Z,z)?26:W==="html"||W==="head"||W==="body"?27:5;else W:switch(W){case Y7:return aG(Z.children,B,J,G);case LX:z=8,B|=GW,B|=P9;break;case BQ:return W=Z,X=B,typeof W.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof W.id),G=L(12,W,G,X|n1),G.elementType=BQ,G.lanes=J,G.stateNode={effectDuration:0,passiveEffectDuration:0},G;case JQ:return G=L(13,Z,G,B),G.elementType=JQ,G.lanes=J,G;case NQ:return G=L(19,Z,G,B),G.elementType=NQ,G.lanes=J,G;case EU:return KK(Z,B,J,G);default:if(typeof W==="object"&&W!==null)switch(W.$$typeof){case aT:case a9:z=10;break W;case QQ:z=9;break W;case mY:z=11,H=AB(H);break W;case TX:z=14;break W;case kW:z=16,H=null;break W}if(H="",W===void 0||typeof W==="object"&&W!==null&&Object.keys(W).length===0)H+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";W===null?Z="null":i1(W)?Z="array":W!==void 0&&W.$$typeof===BG?(Z="<"+(f(W.type)||"Unknown")+" />",H=" Did you accidentally export a JSX literal instead of a component?"):Z=typeof W,(z=X?l(X):null)&&(H+=`

Check the render method of \``+z+"`."),z=29,Z=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(Z+"."+H)),H=null}return G=L(z,Z,G,B),G.elementType=W,G.type=H,G.lanes=J,G._debugOwner=X,G}function XX(W,G,Z){return G=M6(W.type,W.key,W.props,W._owner,G,Z),G._debugOwner=W._owner,G}function aG(W,G,Z,X){return W=L(7,W,X,G),W.lanes=Z,W}function KK(W,G,Z,X){W=L(22,W,X,G),W.elementType=EU,W.lanes=Z;var B={_visibility:tY,_pendingVisibility:tY,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var J=B,z=J._current;if(z===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((J._pendingVisibility&GZ)===0){var H=r1(z,2);H!==null&&(J._pendingVisibility|=GZ,O1(H,z,2))}},attach:function(){var J=B,z=J._current;if(z===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((J._pendingVisibility&GZ)!==0){var H=r1(z,2);H!==null&&(J._pendingVisibility&=~GZ,O1(H,z,2))}}};return W.stateNode=B,W}function S6(W,G,Z){return W=L(6,W,null,G),W.lanes=Z,W}function R6(W,G,Z){return G=L(4,W.children!==null?W.children:[],W.key,G),G.lanes=Z,G.stateNode={containerInfo:W.containerInfo,pendingChildren:null,implementation:W.implementation},G}function E5(W){W.flags|=4}function UK(W,G){if(G.type!=="stylesheet"||(G.state.loading&Q9)!==AZ)W.flags&=-16777217;else if(W.flags|=16777216,!NU(G)){if(G=Z9.current,G!==null&&((M0&4194176)===M0?Z5!==null:(M0&62914560)!==M0&&(M0&536870912)===0||G!==Z5))throw B4=fQ,TH;W.flags|=8192}}function BX(W,G){G!==null&&(W.flags|=4),W.flags&16384&&(G=W.tag!==22?_W():536870912,W.lanes|=G,HZ|=G)}function kY(W,G){if(!v0)switch(W.tailMode){case"hidden":G=W.tail;for(var Z=null;G!==null;)G.alternate!==null&&(Z=G),G=G.sibling;Z===null?W.tail=null:Z.sibling=null;break;case"collapsed":Z=W.tail;for(var X=null;Z!==null;)Z.alternate!==null&&(X=Z),Z=Z.sibling;X===null?G||W.tail===null?W.tail=null:W.tail.sibling=null:X.sibling=null}}function _1(W){var G=W.alternate!==null&&W.alternate.child===W.child,Z=0,X=0;if(G)if((W.mode&n1)!==X1){for(var{selfBaseDuration:B,child:J}=W;J!==null;)Z|=J.lanes|J.childLanes,X|=J.subtreeFlags&31457280,X|=J.flags&31457280,B+=J.treeBaseDuration,J=J.sibling;W.treeBaseDuration=B}else for(B=W.child;B!==null;)Z|=B.lanes|B.childLanes,X|=B.subtreeFlags&31457280,X|=B.flags&31457280,B.return=W,B=B.sibling;else if((W.mode&n1)!==X1){B=W.actualDuration,J=W.selfBaseDuration;for(var z=W.child;z!==null;)Z|=z.lanes|z.childLanes,X|=z.subtreeFlags,X|=z.flags,B+=z.actualDuration,J+=z.treeBaseDuration,z=z.sibling;W.actualDuration=B,W.treeBaseDuration=J}else for(B=W.child;B!==null;)Z|=B.lanes|B.childLanes,X|=B.subtreeFlags,X|=B.flags,B.return=W,B=B.sibling;return W.subtreeFlags|=X,W.childLanes=Z,G}function GT(W,G,Z){var X=G.pendingProps;switch(jB(G),G.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _1(G),null;case 1:return _1(G),null;case 3:if(X=G.stateNode,Z=null,W!==null&&(Z=W.memoizedState.cache),G.memoizedState.cache!==Z&&(G.flags|=2048),L5(k1,G),uW(G),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),W===null||W.child===null)OY(G)?(f$(),E5(G)):W===null||W.memoizedState.isDehydrated&&(G.flags&256)===0||(G.flags|=1024,F9!==null&&(k6(F9),F9=null));return _1(G),null;case 26:return Z=G.memoizedState,W===null?(E5(G),Z!==null?(_1(G),UK(G,Z)):(_1(G),G.flags&=-16777217)):Z?Z!==W.memoizedState?(E5(G),_1(G),UK(G,Z)):(_1(G),G.flags&=-16777217):(W.memoizedProps!==X&&E5(G),_1(G),G.flags&=-16777217),null;case 27:U9(G),Z=B1(JG.current);var B=G.type;if(W!==null&&G.stateNode!=null)W.memoizedProps!==X&&E5(G);else{if(!X){if(G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return _1(G),null}W=KW(),OY(G)?b$(G,W):(W=GU(B,X,Z,W,!0),G.stateNode=W,E5(G))}return _1(G),null;case 5:if(U9(G),Z=G.type,W!==null&&G.stateNode!=null)W.memoizedProps!==X&&E5(G);else{if(!X){if(G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return _1(G),null}if(B=KW(),OY(G))b$(G,B);else{switch(W=B1(JG.current),wB(Z,B.ancestorInfo),B=B.context,W=zX(W),B){case f7:W=W.createElementNS(Q7,Z);break;case X2:W=W.createElementNS(jX,Z);break;default:switch(Z){case"svg":W=W.createElementNS(Q7,Z);break;case"math":W=W.createElementNS(jX,Z);break;case"script":W=W.createElement("div"),W.innerHTML="<script></script>",W=W.removeChild(W.firstChild);break;case"select":W=typeof X.is==="string"?W.createElement("select",{is:X.is}):W.createElement("select"),X.multiple?W.multiple=!0:X.size&&(W.size=X.size);break;default:W=typeof X.is==="string"?W.createElement(Z,{is:X.is}):W.createElement(Z),Z.indexOf("-")===-1&&(Z!==Z.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",Z),Object.prototype.toString.call(W)!=="[object HTMLUnknownElement]"||P5.call(q_,Z)||(q_[Z]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",Z)))}}W[WW]=G,W[TW]=X;W:for(B=G.child;B!==null;){if(B.tag===5||B.tag===6)W.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===G)break W;for(;B.sibling===null;){if(B.return===null||B.return===G)break W;B=B.return}B.sibling.return=B.return,B=B.sibling}G.stateNode=W;W:switch(l1(W,Z,X),Z){case"button":case"input":case"select":case"textarea":W=!!X.autoFocus;break W;case"img":W=!0;break W;default:W=!1}W&&E5(G)}}return _1(G),G.flags&=-16777217,null;case 6:if(W&&G.stateNode!=null)W.memoizedProps!==X&&E5(G);else{if(typeof X!=="string"&&G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(W=B1(JG.current),Z=KW(),OY(G)){W=G.stateNode,X=G.memoizedProps,B=!C5,Z=null;var J=JW;if(J!==null)switch(J.tag){case 3:B&&(B=tK(W,X,Z),B!==null&&(dG(G,0).serverProps=B));break;case 27:case 5:Z=J.memoizedProps,B&&(B=tK(W,X,Z),B!==null&&(dG(G,0).serverProps=B))}W[WW]=G,W=W.nodeValue===X||Z!==null&&Z.suppressHydrationWarning===!0||uK(W.nodeValue,X)?!0:!1,W||uG(G)}else Z=Z.ancestorInfo.current,Z!=null&&j8(X,Z.tag),W=zX(W).createTextNode(X),W[WW]=G,G.stateNode=W}return _1(G),null;case 13:if(X=G.memoizedState,W===null||W.memoizedState!==null&&W.memoizedState.dehydrated!==null){if(B=OY(G),X!==null&&X.dehydrated!==null){if(W===null){if(!B)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(B=G.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");B[WW]=G,_1(G),(G.mode&n1)!==X1&&X!==null&&(B=G.child,B!==null&&(G.treeBaseDuration-=B.treeBaseDuration))}else f$(),VY(),(G.flags&128)===0&&(G.memoizedState=null),G.flags|=4,_1(G),(G.mode&n1)!==X1&&X!==null&&(B=G.child,B!==null&&(G.treeBaseDuration-=B.treeBaseDuration));B=!1}else F9!==null&&(k6(F9),F9=null),B=!0;if(!B){if(G.flags&256)return O5(G),G;return O5(G),null}}if(O5(G),(G.flags&128)!==0)return G.lanes=Z,(G.mode&n1)!==X1&&x8(G),G;return X=X!==null,W=W!==null&&W.memoizedState!==null,X&&(Z=G.child,B=null,Z.alternate!==null&&Z.alternate.memoizedState!==null&&Z.alternate.memoizedState.cachePool!==null&&(B=Z.alternate.memoizedState.cachePool.pool),J=null,Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(J=Z.memoizedState.cachePool.pool),J!==B&&(Z.flags|=2048)),X!==W&&X&&(G.child.flags|=8192),BX(G,G.updateQueue),_1(G),(G.mode&n1)!==X1&&X&&(W=G.child,W!==null&&(G.treeBaseDuration-=W.treeBaseDuration)),null;case 4:return uW(G),W===null&&u6(G.stateNode.containerInfo),_1(G),null;case 10:return L5(G.type,G),_1(G),null;case 19:if(d0(S1,G),B=G.memoizedState,B===null)return _1(G),null;if(X=(G.flags&128)!==0,J=B.rendering,J===null)if(X)kY(B,!1);else{if(E1!==x5||W!==null&&(W.flags&128)!==0)for(W=G.child;W!==null;){if(J=m8(W),J!==null){G.flags|=128,kY(B,!1),W=J.updateQueue,G.updateQueue=W,BX(G,W),G.subtreeFlags=0,W=Z;for(X=G.child;X!==null;)zK(X,W),X=X.sibling;return R0(S1,S1.current&E7|J4,G),G.child}W=W.sibling}B.tail!==null&&r9()>lX&&(G.flags|=128,X=!0,kY(B,!1),G.lanes=4194304)}else{if(!X)if(W=m8(J),W!==null){if(G.flags|=128,X=!0,W=W.updateQueue,G.updateQueue=W,BX(G,W),kY(B,!0),B.tail===null&&B.tailMode==="hidden"&&!J.alternate&&!v0)return _1(G),null}else 2*r9()-B.renderingStartTime>lX&&Z!==536870912&&(G.flags|=128,X=!0,kY(B,!1),G.lanes=4194304);B.isBackwards?(J.sibling=G.child,G.child=J):(W=B.last,W!==null?W.sibling=J:G.child=J,B.last=J)}if(B.tail!==null)return W=B.tail,B.rendering=W,B.tail=W.sibling,B.renderingStartTime=r9(),W.sibling=null,Z=S1.current,Z=X?Z&E7|J4:Z&E7,R0(S1,Z,G),W;return _1(G),null;case 22:case 23:return O5(G),CB(G),X=G.memoizedState!==null,W!==null?W.memoizedState!==null!==X&&(G.flags|=8192):X&&(G.flags|=8192),X?(Z&536870912)!==0&&(G.flags&128)===0&&(_1(G),G.subtreeFlags&6&&(G.flags|=8192)):_1(G),X=G.updateQueue,X!==null&&BX(G,X.retryQueue),X=null,W!==null&&W.memoizedState!==null&&W.memoizedState.cachePool!==null&&(X=W.memoizedState.cachePool.pool),Z=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(Z=G.memoizedState.cachePool.pool),Z!==X&&(G.flags|=2048),W!==null&&d0(JZ,G),null;case 24:return X=null,W!==null&&(X=W.memoizedState.cache),G.memoizedState.cache!==X&&(G.flags|=2048),L5(k1,G),_1(G),null;case 25:return null}throw Error("Unknown unit of work tag ("+G.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ZT(W,G){switch(jB(G),G.tag){case 1:return W=G.flags,W&65536?(G.flags=W&-65537|128,(G.mode&n1)!==X1&&x8(G),G):null;case 3:return L5(k1,G),uW(G),W=G.flags,(W&65536)!==0&&(W&128)===0?(G.flags=W&-65537|128,G):null;case 26:case 27:case 5:return U9(G),null;case 13:if(O5(G),W=G.memoizedState,W!==null&&W.dehydrated!==null){if(G.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");VY()}return W=G.flags,W&65536?(G.flags=W&-65537|128,(G.mode&n1)!==X1&&x8(G),G):null;case 19:return d0(S1,G),null;case 4:return uW(G),null;case 10:return L5(G.type,G),null;case 22:case 23:return O5(G),CB(G),W!==null&&d0(JZ,G),W=G.flags,W&65536?(G.flags=W&-65537|128,(G.mode&n1)!==X1&&x8(G),G):null;case 24:return L5(k1,G),null;case 25:return null;default:return null}}function HK(W,G){switch(jB(G),G.tag){case 3:L5(k1,G),uW(G);break;case 26:case 27:case 5:U9(G);break;case 4:uW(G);break;case 13:O5(G);break;case 19:d0(S1,G);break;case 10:L5(G.type,G);break;case 22:case 23:O5(G),CB(G),W!==null&&d0(JZ,G);break;case 24:L5(k1,G)}}function YT(){_E.forEach(function(W){return W()})}function _K(){var W=typeof IS_REACT_ACT_ENVIRONMENT!=="undefined"?IS_REACT_ACT_ENVIRONMENT:void 0;return W||g.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),W}function RW(W){if(($1&zW)!==bW&&M0!==0)return M0&-M0;var G=g.T;return G!==null?(G._updatedFibers||(G._updatedFibers=new Set),G._updatedFibers.add(W),W=QZ,W!==0?W:m6()):I8()}function wK(){fW===0&&(fW=(M0&536870912)===0||v0?w9():536870912);var W=Z9.current;return W!==null&&(W.flags|=32),fW}function O1(W,G,Z){if(b7&&console.error("useInsertionEffect must not schedule updates."),NJ&&(nX=!0),W===Z1&&Y1===UZ||W.cancelPendingCommit!==null)rZ(W,0),I5(W,M0,fW,!1);if(y1(W,Z),($1&zW)!==0&&W===Z1){if(aW)switch(G.tag){case 0:case 11:case 15:W=q0&&p(q0)||"Unknown",E_.has(W)||(E_.add(W),G=p(G)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",G,W,W));break;case 1:A_||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),A_=!0)}}else E9&&JY(W,G,Z),_T(G),W===Z1&&(($1&zW)===bW&&(LG|=Z),E1===KZ&&I5(W,M0,fW,!1)),s9(W)}function OK(W,G,Z){if(($1&(zW|k5))!==bW)throw Error("Should not already be working.");var X=!Z&&(G&60)===0&&(G&W.expiredLanes)===0||G1(W,G),B=X?BT(W,G):v6(W,G,!0),J=X;do{if(B===x5){x7&&!X&&I5(W,G,0,!1);break}else if(B===pX)I5(W,G,0,!b5);else{if(Z=W.current.alternate,J&&!XT(Z)){B=v6(W,G,!1),J=!1;continue}if(B===R7){if(J=G,W.errorRecoveryDisabledLanes&J)var z=0;else z=W.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){G=z;W:{B=W;var H=z;z=V4;var T=B.current.memoizedState.isDehydrated;if(T&&(rZ(B,H).flags|=256),H=v6(B,H,!1),H!==R7){if(ZJ&&!T){B.errorRecoveryDisabledLanes|=J,LG|=J,B=KZ;break W}B=C9,C9=z,B!==null&&k6(B)}B=H}if(J=!1,B!==R7)continue}}if(B===H4){rZ(W,0),I5(W,G,0,!0);break}W:{switch(X=W,B){case x5:case H4:throw Error("Root did not complete. This is a bug in React.");case KZ:if((G&4194176)===G){I5(X,G,fW,!b5);break W}break;case R7:C9=null;break;case eQ:case w_:break;default:throw Error("Unknown root exit status.")}if(X.finishedWork=Z,X.finishedLanes=G,g.actQueue!==null)f6(X,C9,L4,cX,fW,LG,HZ,T_,xQ,0);else{if((G&62914560)===G&&(B=XJ+V_-r9(),10<B)){if(I5(X,G,fW,!b5),qW(X,0)!==0)break W;X.timeoutHandle=C_(VK.bind(null,X,Z,C9,L4,cX,G,fW,LG,HZ,b5,TE,xQ,0),B);break W}VK(X,Z,C9,L4,cX,G,fW,LG,HZ,b5,T_,xQ,0)}}}break}while(1);s9(W)}function k6(W){C9===null?C9=W:C9.push.apply(C9,W)}function VK(W,G,Z,X,B,J,z,H,T,I,b,d,v){var c=G.subtreeFlags;if(c&8192||(c&16785408)===16785408){if(P4={stylesheets:null,count:0,unsuspend:yT},BK(G),G=hT(),G!==null){W.cancelPendingCommit=G(f6.bind(null,W,Z,X,B,z,H,T,LE,d,v)),I5(W,J,z,!I);return}}f6(W,Z,X,B,z,H,T,b,d,v)}function XT(W){for(var G=W;;){var Z=G.tag;if((Z===0||Z===11||Z===15)&&G.flags&16384&&(Z=G.updateQueue,Z!==null&&(Z=Z.stores,Z!==null)))for(var X=0;X<Z.length;X++){var B=Z[X],J=B.getSnapshot;B=B.value;try{if(!QW(J(),B))return!1}catch(z){return!1}}if(Z=G.child,G.subtreeFlags&16384&&Z!==null)Z.return=G,G=Z;else{if(G===W)break;for(;G.sibling===null;){if(G.return===null||G.return===W)return!0;G=G.return}G.sibling.return=G.return,G=G.sibling}}return!0}function I5(W,G,Z,X){G&=~YJ,G&=~LG,W.suspendedLanes|=G,W.pingedLanes&=~G,X&&(W.warmLanes|=G),X=W.expirationTimes;for(var B=G;0<B;){var J=31-XW(B),z=1<<J;X[J]=-1,B&=~z}Z!==0&&QY(W,Z,G)}function aZ(){return($1&(zW|k5))===bW?(bY(0,!1),!1):!0}function x6(){if(q0!==null){if(Y1===IW)var W=q0.return;else W=q0,t8(),fB(W),T7=null,Q4=0,W=q0;for(;W!==null;)HK(W.alternate,W),W=W.return;q0=null}}function rZ(W,G){W.finishedWork=null,W.finishedLanes=0;var Z=W.timeoutHandle;Z!==TJ&&(W.timeoutHandle=TJ,qE(Z)),Z=W.cancelPendingCommit,Z!==null&&(W.cancelPendingCommit=null,Z()),x6(),Z1=W,q0=Z=YG(W.current,null),M0=G,Y1=IW,vW=null,b5=!1,x7=G1(W,G),ZJ=!1,E1=x5,HZ=fW=YJ=LG=VG=0,C9=V4=null,cX=!1,(G&8)!==0&&(G|=G&32);var X=W.entangledLanes;if(X!==0)for(W=W.entanglements,X&=G;0<X;){var B=31-XW(X),J=1<<B;G|=W[B],X&=~J}return X5=G,M8(),j9.discardPendingWarnings(),Z}function LK(W,G){V0=null,g.H=Y5,g.getCurrentStack=null,aW=!1,t1=null,G===fX?(G=m$(),Y1=w4):G===TH?(G=m$(),Y1=O_):Y1=G===tH?GJ:G!==null&&typeof G==="object"&&typeof G.then==="function"?k7:_4,vW=G;var Z=q0;if(Z===null)E1=H4,r8(W,MW(G,W.current));else switch(Z.mode&n1&&DB(Z),Z0(),Y1){case _4:e!==null&&typeof e.markComponentErrored==="function"&&e.markComponentErrored(Z,G,M0);break;case UZ:case w4:case k7:case O4:e!==null&&typeof e.markComponentSuspended==="function"&&e.markComponentSuspended(Z,G,M0)}}function TK(){var W=g.H;return g.H=Y5,W===null?Y5:W}function AK(){var W=g.A;return g.A=HE,W}function b6(){E1=KZ,b5||(M0&4194176)!==M0&&Z9.current!==null||(x7=!0),(VG&134217727)===0&&(LG&134217727)===0||Z1===null||I5(Z1,M0,fW,!1)}function v6(W,G,Z){var X=$1;$1|=zW;var B=TK(),J=AK();if(Z1!==W||M0!==G){if(E9){var z=W.memoizedUpdaters;0<z.size&&(xY(W,M0),z.clear()),vZ(W,G)}L4=null,rZ(W,G)}Y0(G),G=!1,z=E1;W:do try{if(Y1!==IW&&q0!==null){var H=q0,T=vW;switch(Y1){case GJ:x6(),z=pX;break W;case w4:case UZ:case k7:Z9.current===null&&(G=!0);var I=Y1;if(Y1=IW,vW=null,tZ(W,H,T,I),Z&&x7){z=x5;break W}break;default:I=Y1,Y1=IW,vW=null,tZ(W,H,T,I)}}EK(),z=E1;break}catch(b){LK(W,b)}while(1);return G&&W.shellSuspendCounter++,t8(),$1=X,g.H=B,g.A=J,k0(),q0===null&&(Z1=null,M0=0,M8()),z}function EK(){for(;q0!==null;)IK(q0)}function BT(W,G){var Z=$1;$1|=zW;var X=TK(),B=AK();if(Z1!==W||M0!==G){if(E9){var J=W.memoizedUpdaters;0<J.size&&(xY(W,M0),J.clear()),vZ(W,G)}L4=null,lX=r9()+L_,rZ(W,G)}else x7=G1(W,G);Y0(G);W:do try{if(Y1!==IW&&q0!==null)G:switch(G=q0,J=vW,Y1){case _4:Y1=IW,vW=null,tZ(W,G,J,_4);break;case UZ:if(g$(J)){Y1=IW,vW=null,DK(G);break}G=function(){Y1===UZ&&Z1===W&&(Y1=O4),s9(W)},J.then(G,G);break W;case w4:Y1=O4;break W;case O_:Y1=WJ;break W;case O4:g$(J)?(Y1=IW,vW=null,DK(G)):(Y1=IW,vW=null,tZ(W,G,J,O4));break;case WJ:var z=null;switch(q0.tag){case 26:z=q0.memoizedState;case 5:case 27:var H=q0;if(z?NU(z):1){Y1=IW,vW=null;var T=H.sibling;if(T!==null)q0=T;else{var I=H.return;I!==null?(q0=I,QX(I)):q0=null}break G}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}Y1=IW,vW=null,tZ(W,G,J,WJ);break;case k7:Y1=IW,vW=null,tZ(W,G,J,k7);break;case GJ:x6(),E1=pX;break W;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}g.actQueue!==null?EK():QT();break}catch(b){LK(W,b)}while(1);if(t8(),g.H=X,g.A=B,$1=Z,q0!==null)return e!==null&&typeof e.markRenderYielded==="function"&&e.markRenderYielded(),x5;return k0(),Z1=null,M0=0,M8(),E1}function QT(){for(;q0!==null&&!GA();)IK(q0)}function IK(W){var G=W.alternate;(W.mode&n1)!==X1?(IB(W),G=W0(W,O6,G,W,X5),DB(W)):G=W0(W,O6,G,W,X5),W.memoizedProps=W.pendingProps,G===null?QX(W):q0=G}function DK(W){var G=W0(W,JT,W);W.memoizedProps=W.pendingProps,G===null?QX(W):q0=G}function JT(W){var G=W.alternate,Z=(W.mode&n1)!==X1;switch(Z&&IB(W),W.tag){case 15:case 0:G=Rz(G,W,W.pendingProps,W.type,void 0,M0);break;case 11:G=Rz(G,W,W.pendingProps,W.type.render,W.ref,M0);break;case 5:fB(W);default:HK(G,W),W=q0=zK(W,X5),G=O6(G,W,X5)}return Z&&DB(W),G}function tZ(W,G,Z,X){t8(),fB(G),T7=null,Q4=0;var B=G.return;try{if(uL(W,B,G,Z,M0)){E1=H4,r8(W,MW(Z,W.current)),q0=null;return}}catch(J){if(B!==null)throw q0=B,J;E1=H4,r8(W,MW(Z,W.current)),q0=null;return}if(G.flags&32768){if(v0||X===_4)W=!0;else if(x7||(M0&536870912)!==0)W=!1;else if(b5=W=!0,X===UZ||X===w4||X===k7)X=Z9.current,X!==null&&X.tag===13&&(X.flags|=16384);PK(G,W)}else QX(G)}function QX(W){var G=W;do{if((G.flags&32768)!==0){PK(G,b5);return}var Z=G.alternate;if(W=G.return,IB(G),Z=W0(G,GT,Z,G,X5),(G.mode&n1)!==X1&&k$(G),Z!==null){q0=Z;return}if(G=G.sibling,G!==null){q0=G;return}q0=G=W}while(G!==null);E1===x5&&(E1=w_)}function PK(W,G){do{var Z=ZT(W.alternate,W);if(Z!==null){Z.flags&=32767,q0=Z;return}if((W.mode&n1)!==X1){k$(W),Z=W.actualDuration;for(var X=W.child;X!==null;)Z+=X.actualDuration,X=X.sibling;W.actualDuration=Z}if(Z=W.return,Z!==null&&(Z.flags|=32768,Z.subtreeFlags=0,Z.deletions=null),!G&&(W=W.sibling,W!==null)){q0=W;return}q0=W=Z}while(W!==null);E1=pX,q0=null}function f6(W,G,Z,X,B,J,z,H,T,I){var b=g.T,d=N1.p;try{N1.p=I9,g.T=null,NT(W,G,Z,X,d,B,J,z,H,T,I)}finally{g.T=b,N1.p=d}}function NT(W,G,Z,X,B,J,z,H){do rG();while(_Z!==null);if(j9.flushLegacyContextWarning(),j9.flushPendingUnsafeLifecycleWarnings(),($1&(zW|k5))!==bW)throw Error("Should not already be working.");var T=W.finishedWork;if(X=W.finishedLanes,e!==null&&typeof e.markCommitStarted==="function"&&e.markCommitStarted(X),T===null)return n5(),null;if(X===0&&console.error("root.finishedLanes should not be empty during a commit. This is a bug in React."),W.finishedWork=null,W.finishedLanes=0,T===W.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");W.callbackNode=null,W.callbackPriority=0,W.cancelPendingCommit=null;var I=T.lanes|T.childLanes;if(I|=kQ,E8(W,X,I,J,z,H),W===Z1&&(q0=Z1=null,M0=0),(T.subtreeFlags&10256)===0&&(T.flags&10256)===0||iX||(iX=!0,BJ=I,QJ=Z,HT(X7,function(){return rG(!0),null})),SX=O7(),Z=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||Z?(Z=g.T,g.T=null,J=N1.p,N1.p=I9,z=$1,$1|=k5,aL(W,T),tL(W,T,X),bL(VJ,W.containerInfo),N2=!!OJ,VJ=OJ=null,W.current=T,e!==null&&typeof e.markLayoutEffectsStarted==="function"&&e.markLayoutEffectsStarted(X),eL(T,W,X),e!==null&&typeof e.markLayoutEffectsStopped==="function"&&e.markLayoutEffectsStopped(),ZA(),$1=z,N1.p=J,g.T=Z):W.current=T,(Z=iX)?(iX=!1,_Z=W,T4=X):(jK(W,I),wZ=0,E4=null),I=W.pendingLanes,I===0&&(TG=null),Z||MK(W),xZ(T.stateNode,B),E9&&W.memoizedUpdaters.clear(),YT(),s9(W),G!==null)for(B=W.onRecoverableError,T=0;T<G.length;T++)I=G[T],Z=$T(I.stack),W0(I.source,B,I.value,Z);return(T4&3)!==0&&rG(),I=W.pendingLanes,(X&4194218)!==0&&(I&42)!==0?(kX=!0,W===JJ?A4++:(A4=0,JJ=W)):A4=0,bY(0,!1),n5(),null}function $T(W){return W={componentStack:W},Object.defineProperty(W,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),W}function jK(W,G){(W.pooledCacheLanes&=G)===0&&(G=W.pooledCache,G!=null&&(W.pooledCache=null,AY(G)))}function rG(){if(_Z!==null){var W=_Z,G=BJ;BJ=0;var Z=fZ(T4),X=e9===0||e9>Z?e9:Z;Z=g.T;var B=N1.p;try{if(N1.p=X,g.T=null,_Z===null)var J=!1;else{X=QJ,QJ=null;var z=_Z,H=T4;if(_Z=null,T4=0,($1&(zW|k5))!==bW)throw Error("Cannot flush passive effects while already rendering.");NJ=!0,nX=!1,e!==null&&typeof e.markPassiveEffectsStarted==="function"&&e.markPassiveEffectsStarted(H);var T=$1;if($1|=k5,JK(z.current),YK(z,z.current,H,X),e!==null&&typeof e.markPassiveEffectsStopped==="function"&&e.markPassiveEffectsStopped(),MK(z),$1=T,bY(0,!1),nX?z===E4?wZ++:(wZ=0,E4=z):wZ=0,nX=NJ=!1,e1&&typeof e1.onPostCommitFiberRoot==="function")try{e1.onPostCommitFiberRoot(B7,z)}catch(b){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",b))}var I=z.current.stateNode;I.effectDuration=0,I.passiveEffectDuration=0,J=!0}return J}finally{N1.p=B,g.T=Z,jK(W,G)}}return!1}function FK(W,G,Z){G=MW(Z,G),G=X6(W.stateNode,G,2),W=GG(W,G,2),W!==null&&(y1(W,2),s9(W))}function a0(W,G,Z){if(b7=!1,W.tag===3)FK(W,W,Z);else{for(;G!==null;){if(G.tag===3){FK(G,W,Z);return}if(G.tag===1){var X=G.stateNode;if(typeof G.type.getDerivedStateFromError==="function"||typeof X.componentDidCatch==="function"&&(TG===null||!TG.has(X))){W=MW(Z,W),Z=B6(2),X=GG(G,Z,2),X!==null&&(Q6(Z,X,G,W),y1(X,2),s9(X));return}}G=G.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,Z)}}function y6(W,G,Z){var X=W.pingCache;if(X===null){X=W.pingCache=new wE;var B=new Set;X.set(G,B)}else B=X.get(G),B===void 0&&(B=new Set,X.set(G,B));B.has(Z)||(ZJ=!0,B.add(Z),X=zT.bind(null,W,G,Z),E9&&xY(W,Z),G.then(X,X))}function zT(W,G,Z){var X=W.pingCache;X!==null&&X.delete(G),W.pingedLanes|=W.suspendedLanes&Z,W.warmLanes&=~Z,_K()&&g.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),Z1===W&&(M0&Z)===Z&&(E1===KZ||E1===eQ&&(M0&62914560)===M0&&r9()-XJ<V_?($1&zW)===bW&&rZ(W,0):YJ|=Z,HZ===M0&&(HZ=0)),s9(W)}function qK(W,G){G===0&&(G=_W()),W=r1(W,G),W!==null&&(y1(W,G),s9(W))}function KT(W){var G=W.memoizedState,Z=0;G!==null&&(Z=G.retryLane),qK(W,Z)}function UT(W,G){var Z=0;switch(W.tag){case 13:var{stateNode:X,memoizedState:B}=W;B!==null&&(Z=B.retryLane);break;case 19:X=W.stateNode;break;case 22:X=W.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}X!==null&&X.delete(G),qK(W,Z)}function g6(W,G,Z){if((G.subtreeFlags&33562624)!==0)for(G=G.child;G!==null;){var X=W,B=G,J=B.type===LX;J=Z||J,B.tag!==22?B.flags&33554432?J&&W0(B,CK,X,B,(B.mode&VH)===X1):g6(X,B,J):B.memoizedState===null&&(J&&B.flags&8192?W0(B,CK,X,B):B.subtreeFlags&33554432&&W0(B,g6,X,B,J)),G=G.sibling}}function CK(W,G){var Z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;i0(!0);try{GK(G),Z&&NK(G),ZK(W,G.alternate,G,!1),Z&&XK(W,G,0,null,!1)}finally{i0(!1)}}function MK(W){var G=!0;W.current.mode&(GW|P9)||(G=!1),g6(W,W.current,G)}function SK(W){if(($1&zW)===bW){var G=W.tag;if(G===3||G===1||G===0||G===11||G===14||G===15){if(G=p(W)||"ReactComponent",sX!==null){if(sX.has(G))return;sX.add(G)}else sX=new Set([G]);W0(W,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function xY(W,G){E9&&W.memoizedUpdaters.forEach(function(Z){JY(W,Z,G)})}function HT(W,G){var Z=g.actQueue;return Z!==null?(Z.push(G),AE):_Q(W,G)}function _T(W){_K()&&g.actQueue===null&&W0(W,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,p(W))})}function s9(W){W!==v7&&W.next===null&&(v7===null?oX=v7=W:v7=v7.next=W),aX=!0,g.actQueue!==null?zJ||(zJ=!0,vK(RK)):$J||($J=!0,vK(RK))}function bY(W,G){if(!KJ&&aX){KJ=!0;do{var Z=!1;for(var X=oX;X!==null;){if(!G)if(W!==0){var B=X.pendingLanes;if(B===0)var J=0;else{var{suspendedLanes:z,pingedLanes:H}=X;J=(1<<31-XW(42|W)+1)-1,J&=B&~(z&~H),J=J&201326677?J&201326677|1:J?J|2:0}J!==0&&(Z=!0,bK(X,J))}else J=M0,J=qW(X,X===Z1?J:0),(J&3)===0||G1(X,J)||(Z=!0,bK(X,J));X=X.next}}while(Z);KJ=!1}}function RK(){aX=zJ=$J=!1;var W=0;OZ!==0&&(TT()&&(W=OZ),OZ=0);for(var G=r9(),Z=null,X=oX;X!==null;){var B=X.next,J=kK(X,G);if(J===0)X.next=null,Z===null?oX=B:Z.next=B,B===null&&(v7=Z);else if(Z=X,W!==0||(J&3)!==0)aX=!0;X=B}bY(W,!1)}function kK(W,G){for(var{suspendedLanes:Z,pingedLanes:X,expirationTimes:B}=W,J=W.pendingLanes&-62914561;0<J;){var z=31-XW(J),H=1<<z,T=B[z];if(T===-1){if((H&Z)===0||(H&X)!==0)B[z]=cW(H,G)}else T<=G&&(W.expiredLanes|=H);J&=~H}if(G=Z1,Z=M0,Z=qW(W,W===G?Z:0),X=W.callbackNode,Z===0||W===G&&Y1===UZ||W.cancelPendingCommit!==null)return X!==null&&h6(X),W.callbackNode=null,W.callbackPriority=0;if((Z&3)===0||G1(W,Z)){if(G=Z&-Z,G!==W.callbackPriority||g.actQueue!==null&&X!==UJ)h6(X);else return G;switch(fZ(Z)){case I9:case D9:Z=OQ;break;case e9:Z=X7;break;case DX:Z=VQ;break;default:Z=X7}return X=xK.bind(null,W),g.actQueue!==null?(g.actQueue.push(X),Z=UJ):Z=_Q(Z,X),W.callbackPriority=G,W.callbackNode=Z,G}return X!==null&&h6(X),W.callbackPriority=2,W.callbackNode=null,2}function xK(W,G){kX=RX=!1;var Z=W.callbackNode;if(rG()&&W.callbackNode!==Z)return null;var X=M0;if(X=qW(W,W===Z1?X:0),X===0)return null;return OK(W,X,G),kK(W,r9()),W.callbackNode!=null&&W.callbackNode===Z?xK.bind(null,W):null}function bK(W,G){if(rG())return null;RX=kX,kX=!1,OK(W,G,!0)}function h6(W){W!==UJ&&W!==null&&WA(W)}function vK(W){g.actQueue!==null&&g.actQueue.push(function(){return W(),null}),CE(function(){($1&(zW|k5))!==bW?_Q(wQ,W):W()})}function m6(){return OZ===0&&(OZ=w9()),OZ}function fK(W){if(W==null||typeof W==="symbol"||typeof W==="boolean")return null;if(typeof W==="function")return W;return y0(W,"action"),UY(""+W)}function yK(W,G){var Z=G.ownerDocument.createElement("input");return Z.name=G.name,Z.value=G.value,W.id&&Z.setAttribute("form",W.id),G.parentNode.insertBefore(Z,G),W=new FormData(W),Z.parentNode.removeChild(Z),W}function wT(W,G,Z,X,B){if(G==="submit"&&Z&&Z.stateNode===B){var J=fK((B[TW]||null).action),z=X.submitter;z&&(G=(G=z[TW]||null)?fK(G.formAction):z.getAttribute("formAction"),G!==null&&(J=G,z=null));var H=new CX("action","action",null,X,B);W.push({event:H,listeners:[{instance:null,listener:function(){if(X.defaultPrevented){if(OZ!==0){var T=z?yK(B,z):new FormData(B),I={pending:!0,data:T,method:B.method,action:J};Object.freeze(I),rB(Z,I,null,T)}}else typeof J==="function"&&(H.preventDefault(),T=z?yK(B,z):new FormData(B),I={pending:!0,data:T,method:B.method,action:J},Object.freeze(I),rB(Z,I,J,T))},currentTarget:B}]})}}function gK(W,G){G=(G&4)!==0;for(var Z=0;Z<W.length;Z++){var X=W[Z];W:{var B=void 0,J=X.event;if(X=X.listeners,G)for(var z=X.length-1;0<=z;z--){var H=X[z],T=H.instance,I=H.currentTarget;if(H=H.listener,T!==B&&J.isPropagationStopped())break W;B=J,B.currentTarget=I;try{H(B)}catch(b){dX(b)}B.currentTarget=null,B=T}else for(z=0;z<X.length;z++){if(H=X[z],T=H.instance,I=H.currentTarget,H=H.listener,T!==B&&J.isPropagationStopped())break W;B=J,B.currentTarget=I;try{H(B)}catch(b){dX(b)}B.currentTarget=null,B=T}}}}function b0(W,G){HJ.has(W)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',W);var Z=G[LQ];Z===void 0&&(Z=G[LQ]=new Set);var X=W+"__bubble";Z.has(X)||(hK(G,W,2,!1),Z.add(X))}function d6(W,G,Z){HJ.has(W)&&!G&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',W);var X=0;G&&(X|=4),hK(Z,W,X,G)}function u6(W){if(!W[rX]){W[rX]=!0,kU.forEach(function(Z){Z!=="selectionchange"&&(HJ.has(Z)||d6(Z,!1,W),d6(Z,!0,W))});var G=W.nodeType===9?W:W.ownerDocument;G===null||G[rX]||(G[rX]=!0,d6("selectionchange",!1,G))}}function hK(W,G,Z,X){switch(wU(G)){case I9:var B=lT;break;case D9:B=iT;break;default:B=GQ}Z=B.bind(null,G,Z,W),B=void 0,!DQ||G!=="touchstart"&&G!=="touchmove"&&G!=="wheel"||(B=!0),X?B!==void 0?W.addEventListener(G,Z,{capture:!0,passive:B}):W.addEventListener(G,Z,!0):B!==void 0?W.addEventListener(G,Z,{passive:B}):W.addEventListener(G,Z,!1)}function p6(W,G,Z,X,B){var J=X;if((G&1)===0&&(G&2)===0&&X!==null)W:for(;;){if(X===null)return;var z=X.tag;if(z===3||z===4){var H=X.stateNode.containerInfo;if(H===B||H.nodeType===8&&H.parentNode===B)break;if(z===4)for(z=X.return;z!==null;){var T=z.tag;if(T===3||T===4){if(T=z.stateNode.containerInfo,T===B||T.nodeType===8&&T.parentNode===B)return}z=z.return}for(;H!==null;){if(z=m9(H),z===null)return;if(T=z.tag,T===5||T===6||T===26||T===27){X=J=z;continue W}H=H.parentNode}}X=X.return}_$(function(){var I=J,b=OB(Z),d=[];W:{var v=wH.get(W);if(v!==void 0){var c=CX,$0=W;switch(W){case"keypress":if(F8(Z)===0)break W;case"keydown":case"keyup":c=dA;break;case"focusin":$0="focus",c=qQ;break;case"focusout":$0="blur",c=qQ;break;case"beforeblur":case"afterblur":c=qQ;break;case"click":if(Z.button===2)break W;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=GH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=MA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=cA;break;case KH:case UH:case HH:c=kA;break;case _H:c=iA;break;case"scroll":case"scrollend":c=qA;break;case"wheel":c=sA;break;case"copy":case"cut":case"paste":c=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=YH;break;case"toggle":case"beforetoggle":c=aA}var D0=(G&4)!==0,j1=!D0&&(W==="scroll"||W==="scrollend"),u0=D0?v!==null?v+"Capture":null:v;D0=[];for(var P=I,D;P!==null;){var F=P;if(D=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||D===null||u0===null||(F=HY(P,u0),F!=null&&D0.push(vY(P,F,D))),j1)break;P=P.return}0<D0.length&&(v=new c(v,$0,null,Z,b),d.push({event:v,listeners:D0}))}}if((G&7)===0){W:{if(v=W==="mouseover"||W==="pointerover",c=W==="mouseout"||W==="pointerout",v&&Z!==cY&&($0=Z.relatedTarget||Z.fromElement)&&(m9($0)||$0[tG]))break W;if(c||v){if(v=b.window===b?b:(v=b.ownerDocument)?v.defaultView||v.parentWindow:window,c){if($0=Z.relatedTarget||Z.toElement,c=I,$0=$0?m9($0):null,$0!==null&&(j1=t($0),D0=$0.tag,$0!==j1||D0!==5&&D0!==27&&D0!==6))$0=null}else c=null,$0=I;if(c!==$0){if(D0=GH,F="onMouseLeave",u0="onMouseEnter",P="mouse",W==="pointerout"||W==="pointerover")D0=YH,F="onPointerLeave",u0="onPointerEnter",P="pointer";if(j1=c==null?v:s5(c),D=$0==null?v:s5($0),v=new D0(F,P+"leave",c,Z,b),v.target=j1,v.relatedTarget=D,F=null,m9(b)===I&&(D0=new D0(u0,P+"enter",$0,Z,b),D0.target=D,D0.relatedTarget=j1,F=D0),j1=F,c&&$0)G:{D0=c,u0=$0,P=0;for(D=D0;D;D=eZ(D))P++;D=0;for(F=u0;F;F=eZ(F))D++;for(;0<P-D;)D0=eZ(D0),P--;for(;0<D-P;)u0=eZ(u0),D--;for(;P--;){if(D0===u0||u0!==null&&D0===u0.alternate)break G;D0=eZ(D0),u0=eZ(u0)}D0=null}else D0=null;c!==null&&mK(d,v,c,D0,!1),$0!==null&&j1!==null&&mK(d,j1,$0,D0,!0)}}}W:{if(v=I?s5(I):window,c=v.nodeName&&v.nodeName.toLowerCase(),c==="select"||c==="input"&&v.type==="file")var m=E$;else if(T$(v))if($H)m=kL;else{m=SL;var r=ML}else c=v.nodeName,!c||c.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?I&&KY(I.elementType)&&(m=E$):m=RL;if(m&&(m=m(W,I))){A$(d,m,Z,b);break W}r&&r(W,v,I),W==="focusout"&&I&&v.type==="number"&&I.memoizedProps.value!=null&&wW(v,"number",v.value)}switch(r=I?s5(I):window,W){case"focusin":if(T$(r)||r.contentEditable==="true")U7=r,MQ=I,rY=null;break;case"focusout":rY=MQ=U7=null;break;case"mousedown":SQ=!0;break;case"contextmenu":case"mouseup":case"dragend":SQ=!1,C$(d,Z,b);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":C$(d,Z,b)}var E0;if(CQ)W:{switch(W){case"compositionstart":var J0="onCompositionStart";break W;case"compositionend":J0="onCompositionEnd";break W;case"compositionupdate":J0="onCompositionUpdate";break W}J0=void 0}else K7?V$(W,Z)&&(J0="onCompositionEnd"):W==="keydown"&&Z.keyCode===XH&&(J0="onCompositionStart");if(J0&&(BH&&Z.locale!=="ko"&&(K7||J0!=="onCompositionStart"?J0==="onCompositionEnd"&&K7&&(E0=w$()):($G=b,PQ=("value"in $G)?$G.value:$G.textContent,K7=!0)),r=JX(I,J0),0<r.length&&(J0=new ZH(J0,W,null,Z,b),d.push({event:J0,listeners:r}),E0?J0.data=E0:(E0=L$(Z),E0!==null&&(J0.data=E0)))),E0=tA?jL(W,Z):FL(W,Z))J0=JX(I,"onBeforeInput"),0<J0.length&&(r=new fA("onBeforeInput","beforeinput",null,Z,b),d.push({event:r,listeners:J0}),r.data=E0);wT(d,W,I,Z,b)}gK(d,G)})}function vY(W,G,Z){return{instance:W,listener:G,currentTarget:Z}}function JX(W,G){for(var Z=G+"Capture",X=[];W!==null;){var B=W,J=B.stateNode;B=B.tag,B!==5&&B!==26&&B!==27||J===null||(B=HY(W,Z),B!=null&&X.unshift(vY(W,B,J)),B=HY(W,G),B!=null&&X.push(vY(W,B,J))),W=W.return}return X}function eZ(W){if(W===null)return null;do W=W.return;while(W&&W.tag!==5&&W.tag!==27);return W?W:null}function mK(W,G,Z,X,B){for(var J=G._reactName,z=[];Z!==null&&Z!==X;){var H=Z,T=H.alternate,I=H.stateNode;if(H=H.tag,T!==null&&T===X)break;H!==5&&H!==26&&H!==27||I===null||(T=I,B?(I=HY(Z,J),I!=null&&z.unshift(vY(Z,I,T))):B||(I=HY(Z,J),I!=null&&z.push(vY(Z,I,T)))),Z=Z.return}z.length!==0&&W.push({event:G,listeners:z})}function c6(W,G){EL(W,G),W!=="input"&&W!=="textarea"&&W!=="select"||G==null||G.value!==null||eU||(eU=!0,W==="select"&&G.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",W):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",W));var Z={registrationNameDependencies:eG,possibleRegistrationNames:TQ};KY(W)||typeof G.is==="string"||DL(W,G,Z),G.contentEditable&&!G.suppressContentEditableWarning&&G.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function h1(W,G,Z,X){G!==Z&&(Z=XG(Z),XG(G)!==Z&&(X[W]=G))}function OT(W,G,Z){G.forEach(function(X){Z[pK(X)]=X==="style"?i6(W):W.getAttribute(X)})}function o9(W,G){G===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",W,W,W):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",W,typeof G)}function dK(W,G){return W=W.namespaceURI===jX||W.namespaceURI===Q7?W.ownerDocument.createElementNS(W.namespaceURI,W.tagName):W.ownerDocument.createElement(W.tagName),W.innerHTML=G,W.innerHTML}function XG(W){return H9(W)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",pW(W)),UW(W)),(typeof W==="string"?W:""+W).replace(IE,`
`).replace(DE,"")}function uK(W,G){return G=XG(G),XG(W)===G?!0:!1}function NX(){}function r0(W,G,Z,X,B,J){switch(Z){case"children":if(typeof X==="string")j8(X,G),G==="body"||G==="textarea"&&X===""||zY(W,X);else if(typeof X==="number"||typeof X==="bigint")j8(""+X,G),G!=="body"&&zY(W,""+X);break;case"className":w(W,"class",X);break;case"tabIndex":w(W,"tabindex",X);break;case"dir":case"role":case"viewBox":case"width":case"height":w(W,Z,X);break;case"style":K$(W,X,J);break;case"data":if(G!=="object"){w(W,"data",X);break}case"src":case"href":if(X===""&&(G!=="a"||Z!=="href")){Z==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',Z,Z):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',Z,Z),W.removeAttribute(Z);break}if(X==null||typeof X==="function"||typeof X==="symbol"||typeof X==="boolean"){W.removeAttribute(Z);break}y0(X,Z),X=UY(""+X),W.setAttribute(Z,X);break;case"action":case"formAction":if(X!=null&&(G==="form"?Z==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof X==="function"&&(B.encType==null&&B.method==null||W2||(W2=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),B.target==null||eX||(eX=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):G==="input"||G==="button"?Z==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):G!=="input"||B.type==="submit"||B.type==="image"||tX?G!=="button"||B.type==null||B.type==="submit"||tX?typeof X==="function"&&(B.name==null||P_||(P_=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),B.formEncType==null&&B.formMethod==null||W2||(W2=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),B.formTarget==null||eX||(eX=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(tX=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(tX=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):Z==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof X==="function"){W.setAttribute(Z,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J==="function"&&(Z==="formAction"?(G!=="input"&&r0(W,G,"name",B.name,B,null),r0(W,G,"formEncType",B.formEncType,B,null),r0(W,G,"formMethod",B.formMethod,B,null),r0(W,G,"formTarget",B.formTarget,B,null)):(r0(W,G,"encType",B.encType,B,null),r0(W,G,"method",B.method,B,null),r0(W,G,"target",B.target,B,null)));if(X==null||typeof X==="symbol"||typeof X==="boolean"){W.removeAttribute(Z);break}y0(X,Z),X=UY(""+X),W.setAttribute(Z,X);break;case"onClick":X!=null&&(typeof X!=="function"&&o9(Z,X),W.onclick=NX);break;case"onScroll":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scroll",W));break;case"onScrollEnd":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scrollend",W));break;case"dangerouslySetInnerHTML":if(X!=null){if(typeof X!=="object"||!("__html"in X))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(Z=X.__html,Z!=null){if(B.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");W.innerHTML=Z}}break;case"multiple":W.multiple=X&&typeof X!=="function"&&typeof X!=="symbol";break;case"muted":W.muted=X&&typeof X!=="function"&&typeof X!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(X==null||typeof X==="function"||typeof X==="boolean"||typeof X==="symbol"){W.removeAttribute("xlink:href");break}y0(X,Z),Z=UY(""+X),W.setAttributeNS(VZ,"xlink:href",Z);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":X!=null&&typeof X!=="function"&&typeof X!=="symbol"?(y0(X,Z),W.setAttribute(Z,""+X)):W.removeAttribute(Z);break;case"inert":X!==""||G2[Z]||(G2[Z]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",Z));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":X&&typeof X!=="function"&&typeof X!=="symbol"?W.setAttribute(Z,""):W.removeAttribute(Z);break;case"capture":case"download":X===!0?W.setAttribute(Z,""):X!==!1&&X!=null&&typeof X!=="function"&&typeof X!=="symbol"?(y0(X,Z),W.setAttribute(Z,X)):W.removeAttribute(Z);break;case"cols":case"rows":case"size":case"span":X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&!isNaN(X)&&1<=X?(y0(X,Z),W.setAttribute(Z,X)):W.removeAttribute(Z);break;case"rowSpan":case"start":X==null||typeof X==="function"||typeof X==="symbol"||isNaN(X)?W.removeAttribute(Z):(y0(X,Z),W.setAttribute(Z,X));break;case"popover":b0("beforetoggle",W),b0("toggle",W),xG(W,"popover",X);break;case"xlinkActuate":C(W,VZ,"xlink:actuate",X);break;case"xlinkArcrole":C(W,VZ,"xlink:arcrole",X);break;case"xlinkRole":C(W,VZ,"xlink:role",X);break;case"xlinkShow":C(W,VZ,"xlink:show",X);break;case"xlinkTitle":C(W,VZ,"xlink:title",X);break;case"xlinkType":C(W,VZ,"xlink:type",X);break;case"xmlBase":C(W,_J,"xml:base",X);break;case"xmlLang":C(W,_J,"xml:lang",X);break;case"xmlSpace":C(W,_J,"xml:space",X);break;case"is":J!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),xG(W,"is",X);break;case"innerText":case"textContent":break;case"popoverTarget":j_||X==null||typeof X!=="object"||(j_=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",X));default:!(2<Z.length)||Z[0]!=="o"&&Z[0]!=="O"||Z[1]!=="n"&&Z[1]!=="N"?(Z=U$(Z),xG(W,Z,X)):eG.hasOwnProperty(Z)&&X!=null&&typeof X!=="function"&&o9(Z,X)}}function l6(W,G,Z,X,B,J){switch(Z){case"style":K$(W,X,J);break;case"dangerouslySetInnerHTML":if(X!=null){if(typeof X!=="object"||!("__html"in X))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(Z=X.__html,Z!=null){if(B.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");W.innerHTML=Z}}break;case"children":typeof X==="string"?zY(W,X):(typeof X==="number"||typeof X==="bigint")&&zY(W,""+X);break;case"onScroll":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scroll",W));break;case"onScrollEnd":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scrollend",W));break;case"onClick":X!=null&&(typeof X!=="function"&&o9(Z,X),W.onclick=NX);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(eG.hasOwnProperty(Z))X!=null&&typeof X!=="function"&&o9(Z,X);else W:{if(Z[0]==="o"&&Z[1]==="n"&&(B=Z.endsWith("Capture"),G=Z.slice(2,B?Z.length-7:void 0),J=W[TW]||null,J=J!=null?J[Z]:null,typeof J==="function"&&W.removeEventListener(G,J,B),typeof X==="function")){typeof J!=="function"&&J!==null&&(Z in W?W[Z]=null:W.hasAttribute(Z)&&W.removeAttribute(Z)),W.addEventListener(G,X,B);break W}Z in W?W[Z]=X:X===!0?W.setAttribute(Z,""):xG(W,Z,X)}}}function l1(W,G,Z){switch(c6(G,Z),G){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":b0("error",W),b0("load",W);var X=!1,B=!1,J;for(J in Z)if(Z.hasOwnProperty(J)){var z=Z[J];if(z!=null)switch(J){case"src":X=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:r0(W,G,J,z,Z,null)}}B&&r0(W,G,"srcSet",Z.srcSet,Z,null),X&&r0(W,G,"src",Z.src,Z,null);return;case"input":L9("input",Z),b0("invalid",W);var H=J=z=B=null,T=null,I=null;for(X in Z)if(Z.hasOwnProperty(X)){var b=Z[X];if(b!=null)switch(X){case"name":B=b;break;case"type":z=b;break;case"checked":T=b;break;case"defaultChecked":I=b;break;case"value":J=b;break;case"defaultValue":H=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:r0(W,G,X,b,Z,null)}}J1(W,Z),p9(W,J,H,T,I,z,B,!1),z0(W);return;case"select":L9("select",Z),b0("invalid",W),X=z=J=null;for(B in Z)if(Z.hasOwnProperty(B)&&(H=Z[B],H!=null))switch(B){case"value":J=H;break;case"defaultValue":z=H;break;case"multiple":X=H;default:r0(W,G,B,H,Z,null)}eN(W,Z),G=J,Z=z,W.multiple=!!X,G!=null?hZ(W,!!X,G,!1):Z!=null&&hZ(W,!!X,Z,!0);return;case"textarea":L9("textarea",Z),b0("invalid",W),J=B=X=null;for(z in Z)if(Z.hasOwnProperty(z)&&(H=Z[z],H!=null))switch(z){case"value":X=H;break;case"defaultValue":B=H;break;case"children":J=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:r0(W,G,z,H,Z,null)}W$(W,Z),Z$(W,X,B,J),z0(W);return;case"option":bG(W,Z);for(T in Z)if(Z.hasOwnProperty(T)&&(X=Z[T],X!=null))switch(T){case"selected":W.selected=X&&typeof X!=="function"&&typeof X!=="symbol";break;default:r0(W,G,T,X,Z,null)}return;case"dialog":b0("cancel",W),b0("close",W);break;case"iframe":case"object":b0("load",W);break;case"video":case"audio":for(X=0;X<I4.length;X++)b0(I4[X],W);break;case"image":b0("error",W),b0("load",W);break;case"details":b0("toggle",W);break;case"embed":case"source":case"link":b0("error",W),b0("load",W);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in Z)if(Z.hasOwnProperty(I)&&(X=Z[I],X!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:r0(W,G,I,X,Z,null)}return;default:if(KY(G)){for(b in Z)Z.hasOwnProperty(b)&&(X=Z[b],X!==void 0&&l6(W,G,b,X,Z,void 0));return}}for(H in Z)Z.hasOwnProperty(H)&&(X=Z[H],X!=null&&r0(W,G,H,X,Z,null))}function VT(W,G,Z,X){switch(c6(G,X),G){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,J=null,z=null,H=null,T=null,I=null,b=null;for(c in Z){var d=Z[c];if(Z.hasOwnProperty(c)&&d!=null)switch(c){case"checked":break;case"value":break;case"defaultValue":T=d;default:X.hasOwnProperty(c)||r0(W,G,c,null,X,d)}}for(var v in X){var c=X[v];if(d=Z[v],X.hasOwnProperty(v)&&(c!=null||d!=null))switch(v){case"type":J=c;break;case"name":B=c;break;case"checked":I=c;break;case"defaultChecked":b=c;break;case"value":z=c;break;case"defaultValue":H=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:c!==d&&r0(W,G,v,c,X,d)}}G=Z.type==="checkbox"||Z.type==="radio"?Z.checked!=null:Z.value!=null,X=X.type==="checkbox"||X.type==="radio"?X.checked!=null:X.value!=null,G||!X||D_||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),D_=!0),!G||X||I_||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),I_=!0),g1(W,z,H,T,I,b,J,B);return;case"select":c=z=H=v=null;for(J in Z)if(T=Z[J],Z.hasOwnProperty(J)&&T!=null)switch(J){case"value":break;case"multiple":c=T;default:X.hasOwnProperty(J)||r0(W,G,J,null,X,T)}for(B in X)if(J=X[B],T=Z[B],X.hasOwnProperty(B)&&(J!=null||T!=null))switch(B){case"value":v=J;break;case"defaultValue":H=J;break;case"multiple":z=J;default:J!==T&&r0(W,G,B,J,X,T)}X=H,G=z,Z=c,v!=null?hZ(W,!!G,v,!1):!!Z!==!!G&&(X!=null?hZ(W,!!G,X,!0):hZ(W,!!G,G?[]:"",!1));return;case"textarea":c=v=null;for(H in Z)if(B=Z[H],Z.hasOwnProperty(H)&&B!=null&&!X.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:r0(W,G,H,null,X,B)}for(z in X)if(B=X[z],J=Z[z],X.hasOwnProperty(z)&&(B!=null||J!=null))switch(z){case"value":v=B;break;case"defaultValue":c=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:B!==J&&r0(W,G,z,B,X,J)}G$(W,v,c);return;case"option":for(var $0 in Z)if(v=Z[$0],Z.hasOwnProperty($0)&&v!=null&&!X.hasOwnProperty($0))switch($0){case"selected":W.selected=!1;break;default:r0(W,G,$0,null,X,v)}for(T in X)if(v=X[T],c=Z[T],X.hasOwnProperty(T)&&v!==c&&(v!=null||c!=null))switch(T){case"selected":W.selected=v&&typeof v!=="function"&&typeof v!=="symbol";break;default:r0(W,G,T,v,X,c)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D0 in Z)v=Z[D0],Z.hasOwnProperty(D0)&&v!=null&&!X.hasOwnProperty(D0)&&r0(W,G,D0,null,X,v);for(I in X)if(v=X[I],c=Z[I],X.hasOwnProperty(I)&&v!==c&&(v!=null||c!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:r0(W,G,I,v,X,c)}return;default:if(KY(G)){for(var j1 in Z)v=Z[j1],Z.hasOwnProperty(j1)&&v!==void 0&&!X.hasOwnProperty(j1)&&l6(W,G,j1,void 0,X,v);for(b in X)v=X[b],c=Z[b],!X.hasOwnProperty(b)||v===c||v===void 0&&c===void 0||l6(W,G,b,v,X,c);return}}for(var u0 in Z)v=Z[u0],Z.hasOwnProperty(u0)&&v!=null&&!X.hasOwnProperty(u0)&&r0(W,G,u0,null,X,v);for(d in X)v=X[d],c=Z[d],!X.hasOwnProperty(d)||v===c||v==null&&c==null||r0(W,G,d,v,X,c)}function pK(W){switch(W){case"class":return"className";case"for":return"htmlFor";default:return W}}function i6(W){var G={};W=W.style;for(var Z=0;Z<W.length;Z++){var X=W[Z];G[X]=W.getPropertyValue(X)}return G}function cK(W,G,Z){if(G!=null&&typeof G!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else if(EE){var X,B=X="",J;for(J in G)if(G.hasOwnProperty(J)){var z=G[J];z!=null&&typeof z!=="boolean"&&z!==""&&(J.indexOf("--")===0?(_9(z,J),X+=B+J+":"+(""+z).trim()):typeof z!=="number"||z===0||rU.has(J)?(_9(z,J),X+=B+J.replace(iU,"-$1").toLowerCase().replace(nU,"-ms-")+":"+(""+z).trim()):X+=B+J.replace(iU,"-$1").toLowerCase().replace(nU,"-ms-")+":"+z+"px",B=";")}X=X||null,G=W.getAttribute("style"),G!==X&&(X=XG(X),XG(G)!==X&&(Z.style=i6(W)))}}function sW(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":return}else if(X!=null)switch(typeof X){case"function":case"symbol":case"boolean":break;default:if(y0(X,G),W===""+X)return}h1(G,W,X,J)}function lK(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null){switch(typeof X){case"function":case"symbol":return}if(!X)return}else switch(typeof X){case"function":case"symbol":break;default:if(X)return}h1(G,W,X,J)}function n6(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":return}else if(X!=null)switch(typeof X){case"function":case"symbol":break;default:if(y0(X,Z),W===""+X)return}h1(G,W,X,J)}function iK(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(X))return}else if(X!=null)switch(typeof X){case"function":case"symbol":case"boolean":break;default:if(!isNaN(X)&&(y0(X,G),W===""+X))return}h1(G,W,X,J)}function $X(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":return}else if(X!=null)switch(typeof X){case"function":case"symbol":case"boolean":break;default:if(y0(X,G),Z=UY(""+X),W===Z)return}h1(G,W,X,J)}function nK(W,G,Z,X){for(var B={},J=new Set,z=W.attributes,H=0;H<z.length;H++)switch(z[H].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:J.add(z[H].name)}if(KY(G)){for(var T in Z)if(Z.hasOwnProperty(T)){var I=Z[T];if(I!=null){if(eG.hasOwnProperty(T))typeof I!=="function"&&o9(T,I);else if(Z.suppressHydrationWarning!==!0)switch(T){case"children":typeof I!=="string"&&typeof I!=="number"||h1("children",W.textContent,I,B);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":z=W.innerHTML,I=I?I.__html:void 0,I!=null&&(I=dK(W,I),h1(T,z,I,B));continue;case"style":J.delete(T),cK(W,I,B);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":J.delete(T.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",T);continue;case"className":J.delete("class"),z=gZ(W,"class",I),h1("className",z,I,B);continue;default:X.context===v5&&G!=="svg"&&G!=="math"?J.delete(T.toLowerCase()):J.delete(T),z=gZ(W,T,I),h1(T,z,I,B)}}}}else for(I in Z)if(Z.hasOwnProperty(I)&&(T=Z[I],T!=null)){if(eG.hasOwnProperty(I))typeof T!=="function"&&o9(I,T);else if(Z.suppressHydrationWarning!==!0)switch(I){case"children":typeof T!=="string"&&typeof T!=="number"||h1("children",W.textContent,T,B);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":z=W.innerHTML,T=T?T.__html:void 0,T!=null&&(T=dK(W,T),z!==T&&(B[I]={__html:z}));continue;case"className":sW(W,I,"class",T,J,B);continue;case"tabIndex":sW(W,I,"tabindex",T,J,B);continue;case"style":J.delete(I),cK(W,T,B);continue;case"multiple":J.delete(I),h1(I,W.multiple,T,B);continue;case"muted":J.delete(I),h1(I,W.muted,T,B);continue;case"autoFocus":J.delete("autofocus"),h1(I,W.autofocus,T,B);continue;case"data":if(G!=="object"){J.delete(I),z=W.getAttribute("data"),h1(I,z,T,B);continue}case"src":case"href":if(!(T!==""||G==="a"&&I==="href"||G==="object"&&I==="data")){I==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',I,I):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',I,I),$X(W,I,I,null,J,B);continue}$X(W,I,I,T,J,B);continue;case"action":case"formAction":if(z=W.getAttribute(I),typeof T==="function"){J.delete(I.toLowerCase()),I==="formAction"?(J.delete("name"),J.delete("formenctype"),J.delete("formmethod"),J.delete("formtarget")):(J.delete("enctype"),J.delete("method"),J.delete("target"));continue}else if(z===PE){J.delete(I.toLowerCase()),h1(I,"function",T,B);continue}$X(W,I,I.toLowerCase(),T,J,B);continue;case"xlinkHref":$X(W,I,"xlink:href",T,J,B);continue;case"contentEditable":n6(W,I,"contenteditable",T,J,B);continue;case"spellCheck":n6(W,I,"spellcheck",T,J,B);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n6(W,I,I,T,J,B);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":lK(W,I,I.toLowerCase(),T,J,B);continue;case"capture":case"download":W:{H=W;var b=z=I,d=B;if(J.delete(b),H=H.getAttribute(b),H===null)switch(typeof T){case"undefined":case"function":case"symbol":break W;default:if(T===!1)break W}else if(T!=null)switch(typeof T){case"function":case"symbol":break;case"boolean":if(T===!0&&H==="")break W;break;default:if(y0(T,z),H===""+T)break W}h1(z,H,T,d)}continue;case"cols":case"rows":case"size":case"span":W:{if(H=W,b=z=I,d=B,J.delete(b),H=H.getAttribute(b),H===null)switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":break W;default:if(isNaN(T)||1>T)break W}else if(T!=null)switch(typeof T){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(T)||1>T)&&(y0(T,z),H===""+T))break W}h1(z,H,T,d)}continue;case"rowSpan":iK(W,I,"rowspan",T,J,B);continue;case"start":iK(W,I,I,T,J,B);continue;case"xHeight":sW(W,I,"x-height",T,J,B);continue;case"xlinkActuate":sW(W,I,"xlink:actuate",T,J,B);continue;case"xlinkArcrole":sW(W,I,"xlink:arcrole",T,J,B);continue;case"xlinkRole":sW(W,I,"xlink:role",T,J,B);continue;case"xlinkShow":sW(W,I,"xlink:show",T,J,B);continue;case"xlinkTitle":sW(W,I,"xlink:title",T,J,B);continue;case"xlinkType":sW(W,I,"xlink:type",T,J,B);continue;case"xmlBase":sW(W,I,"xml:base",T,J,B);continue;case"xmlLang":sW(W,I,"xml:lang",T,J,B);continue;case"xmlSpace":sW(W,I,"xml:space",T,J,B);continue;case"inert":T!==""||G2[I]||(G2[I]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",I)),lK(W,I,I,T,J,B);continue;default:if(!(2<I.length)||I[0]!=="o"&&I[0]!=="O"||I[1]!=="n"&&I[1]!=="N"){H=U$(I),z=!1,X.context===v5&&G!=="svg"&&G!=="math"?J.delete(H.toLowerCase()):(b=I.toLowerCase(),b=FX.hasOwnProperty(b)?FX[b]||null:null,b!==null&&b!==I&&(z=!0,J.delete(b)),J.delete(H));W:if(b=W,d=H,H=T,o5(d))if(b.hasAttribute(d))b=b.getAttribute(d),y0(H,d),H=b===""+H?H:b;else{switch(typeof H){case"function":case"symbol":break W;case"boolean":if(b=d.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-")break W}H=H===void 0?void 0:null}else H=void 0;z||h1(I,H,T,B)}}}return 0<J.size&&Z.suppressHydrationWarning!==!0&&OT(W,J,B),Object.keys(B).length===0?null:B}function LT(W,G){switch(W.length){case 0:return"";case 1:return W[0];case 2:return W[0]+" "+G+" "+W[1];default:return W.slice(0,-1).join(", ")+", "+G+" "+W[W.length-1]}}function zX(W){return W.nodeType===9?W:W.ownerDocument}function sK(W){switch(W){case Q7:return f7;case jX:return X2;default:return v5}}function oK(W,G){if(W===v5)switch(G){case"svg":return f7;case"math":return X2;default:return v5}return W===f7&&G==="foreignObject"?v5:W}function s6(W,G){return W==="textarea"||W==="noscript"||typeof G.children==="string"||typeof G.children==="number"||typeof G.children==="bigint"||typeof G.dangerouslySetInnerHTML==="object"&&G.dangerouslySetInnerHTML!==null&&G.dangerouslySetInnerHTML.__html!=null}function TT(){var W=window.event;if(W&&W.type==="popstate"){if(W===LJ)return!1;return LJ=W,!0}return LJ=null,!1}function AT(W){setTimeout(function(){throw W})}function ET(W,G,Z){switch(G){case"button":case"input":case"select":case"textarea":Z.autoFocus&&W.focus();break;case"img":Z.src?W.src=Z.src:Z.srcSet&&(W.srcset=Z.srcSet)}}function IT(W,G,Z,X){VT(W,G,Z,X),W[TW]=X}function aK(W){zY(W,"")}function DT(W,G,Z){W.nodeValue=Z}function PT(W,G){W.removeChild(G)}function jT(W,G){W.nodeType===8?W.parentNode.removeChild(G):W.removeChild(G)}function o6(W,G){var Z=G,X=0;do{var B=Z.nextSibling;if(W.removeChild(Z),B&&B.nodeType===8)if(Z=B.data,Z===Y2){if(X===0){W.removeChild(B),hY(G);return}X--}else Z!==Z2&&Z!==LZ&&Z!==TZ||X++;Z=B}while(Z);hY(G)}function FT(W){W=W.style,typeof W.setProperty==="function"?W.setProperty("display","none","important"):W.display="none"}function qT(W){W.nodeValue=""}function CT(W,G){G=G[FE],G=G!==void 0&&G!==null&&G.hasOwnProperty("display")?G.display:null,W.style.display=G==null||typeof G==="boolean"?"":(""+G).trim()}function MT(W,G){W.nodeValue=G}function a6(W){var G=W.firstChild;G&&G.nodeType===10&&(G=G.nextSibling);for(;G;){var Z=G;switch(G=G.nextSibling,Z.nodeName){case"HTML":case"HEAD":case"BODY":a6(Z),yZ(Z);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Z.rel.toLowerCase()==="stylesheet")continue}W.removeChild(Z)}}function ST(W,G,Z,X){for(;W.nodeType===1;){var B=Z;if(W.nodeName.toLowerCase()!==G.toLowerCase()){if(!X&&(W.nodeName!=="INPUT"||W.type!=="hidden"))break}else if(!X)if(G==="input"&&W.type==="hidden"){y0(B.name,"name");var J=B.name==null?null:""+B.name;if(B.type==="hidden"&&W.getAttribute("name")===J)return W}else return W;else if(!W[pY])switch(G){case"meta":if(!W.hasAttribute("itemprop"))break;return W;case"link":if(J=W.getAttribute("rel"),J==="stylesheet"&&W.hasAttribute("data-precedence"))break;else if(J!==B.rel||W.getAttribute("href")!==(B.href==null?null:B.href)||W.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||W.getAttribute("title")!==(B.title==null?null:B.title))break;return W;case"style":if(W.hasAttribute("data-precedence"))break;return W;case"script":if(J=W.getAttribute("src"),(J!==(B.src==null?null:B.src)||W.getAttribute("type")!==(B.type==null?null:B.type)||W.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&J&&W.hasAttribute("async")&&!W.hasAttribute("itemprop"))break;return W;default:return W}if(W=oW(W.nextSibling),W===null)break}return null}function RT(W,G,Z){if(G==="")return null;for(;W.nodeType!==3;){if((W.nodeType!==1||W.nodeName!=="INPUT"||W.type!=="hidden")&&!Z)return null;if(W=oW(W.nextSibling),W===null)return null}return W}function oW(W){for(;W!=null;W=W.nextSibling){var G=W.nodeType;if(G===1||G===3)break;if(G===8){if(G=W.data,G===Z2||G===TZ||G===LZ||G===wJ||G===F_)break;if(G===Y2)return null}}return W}function rK(W){if(W.nodeType===1){for(var G=W.nodeName.toLowerCase(),Z={},X=W.attributes,B=0;B<X.length;B++){var J=X[B];Z[pK(J.name)]=J.name.toLowerCase()==="style"?i6(W):J.value}return{type:G,props:Z}}return W.nodeType===8?{type:"Suspense",props:{}}:W.nodeValue}function tK(W,G,Z){return Z===null||Z[jE]!==!0?(W.nodeValue===G?W=null:(G=XG(G),W=XG(W.nodeValue)===G?null:W.nodeValue),W):null}function eK(W){W=W.nextSibling;for(var G=0;W;){if(W.nodeType===8){var Z=W.data;if(Z===Y2){if(G===0)return oW(W.nextSibling);G--}else Z!==Z2&&Z!==TZ&&Z!==LZ||G++}W=W.nextSibling}return null}function WU(W){W=W.previousSibling;for(var G=0;W;){if(W.nodeType===8){var Z=W.data;if(Z===Z2||Z===TZ||Z===LZ){if(G===0)return W;G--}else Z===Y2&&G++}W=W.previousSibling}return null}function kT(W){hY(W)}function xT(W){hY(W)}function GU(W,G,Z,X,B){switch(B&&wB(W,X.ancestorInfo),G=zX(Z),W){case"html":if(W=G.documentElement,!W)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return W;case"head":if(W=G.head,!W)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return W;case"body":if(W=G.body,!W)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return W;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function bT(W,G,Z,X){if(d9(Z)){var B=Z.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",B,B,B)}switch(W){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(B=Z.attributes;B.length;)Z.removeAttributeNode(B[0]);l1(Z,W,G),Z[WW]=X,Z[TW]=G}function KX(W){return typeof W.getRootNode==="function"?W.getRootNode():W.ownerDocument}function ZU(W,G,Z){var X=y7;if(X&&typeof G==="string"&&G){var B=A0(G);B='link[rel="'+W+'"][href="'+B+'"]',typeof Z==="string"&&(B+='[crossorigin="'+Z+'"]'),k_.has(B)||(k_.add(B),W={rel:W,crossOrigin:Z,href:G},X.querySelector(B)===null&&(G=X.createElement("link"),l1(G,"link",W),D1(G),X.head.appendChild(G)))}}function YU(W,G,Z,X){var B=(B=JG.current)?KX(B):null;if(!B)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(W){case"meta":case"title":return null;case"style":return typeof Z.precedence==="string"&&typeof Z.href==="string"?(Z=W7(Z.href),G=_5(B).hoistableStyles,X=G.get(Z),X||(X={type:"style",instance:null,count:0,state:null},G.set(Z,X)),X):{type:"void",instance:null,count:0,state:null};case"link":if(Z.rel==="stylesheet"&&typeof Z.href==="string"&&typeof Z.precedence==="string"){W=W7(Z.href);var J=_5(B).hoistableStyles,z=J.get(W);if(!z&&(B=B.ownerDocument||B,z={type:"stylesheet",instance:null,count:0,state:{loading:AZ,preload:null}},J.set(W,z),(J=B.querySelector(fY(W)))&&!J._p&&(z.instance=J,z.state.loading=D4|Q9),!J9.has(W))){var H={rel:"preload",as:"style",href:Z.href,crossOrigin:Z.crossOrigin,integrity:Z.integrity,media:Z.media,hrefLang:Z.hrefLang,referrerPolicy:Z.referrerPolicy};J9.set(W,H),J||vT(B,W,H,z.state)}if(G&&X===null)throw Z=`

  - `+UX(G)+`
  + `+UX(Z),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+Z);return z}if(G&&X!==null)throw Z=`

  - `+UX(G)+`
  + `+UX(Z),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+Z);return null;case"script":return G=Z.async,Z=Z.src,typeof Z==="string"&&G&&typeof G!=="function"&&typeof G!=="symbol"?(Z=G7(Z),G=_5(B).hoistableScripts,X=G.get(Z),X||(X={type:"script",instance:null,count:0,state:null},G.set(Z,X)),X):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+W+'". this is a bug in React.')}}function UX(W){var G=0,Z="<link";return typeof W.rel==="string"?(G++,Z+=' rel="'+W.rel+'"'):P5.call(W,"rel")&&(G++,Z+=' rel="'+(W.rel===null?"null":"invalid type "+typeof W.rel)+'"'),typeof W.href==="string"?(G++,Z+=' href="'+W.href+'"'):P5.call(W,"href")&&(G++,Z+=' href="'+(W.href===null?"null":"invalid type "+typeof W.href)+'"'),typeof W.precedence==="string"?(G++,Z+=' precedence="'+W.precedence+'"'):P5.call(W,"precedence")&&(G++,Z+=" precedence={"+(W.precedence===null?"null":"invalid type "+typeof W.precedence)+"}"),Object.getOwnPropertyNames(W).length>G&&(Z+=" ..."),Z+" />"}function W7(W){return'href="'+A0(W)+'"'}function fY(W){return'link[rel="stylesheet"]['+W+"]"}function XU(W){return F0({},W,{"data-precedence":W.precedence,precedence:null})}function vT(W,G,Z,X){W.querySelector('link[rel="preload"][as="style"]['+G+"]")?X.loading=D4:(G=W.createElement("link"),X.preload=G,G.addEventListener("load",function(){return X.loading|=D4}),G.addEventListener("error",function(){return X.loading|=S_}),l1(G,"link",Z),D1(G),W.head.appendChild(G))}function G7(W){return'[src="'+A0(W)+'"]'}function yY(W){return"script[async]"+W}function BU(W,G,Z){if(G.count++,G.instance===null)switch(G.type){case"style":var X=W.querySelector('style[data-href~="'+A0(Z.href)+'"]');if(X)return G.instance=X,D1(X),X;var B=F0({},Z,{"data-href":Z.href,"data-precedence":Z.precedence,href:null,precedence:null});return X=(W.ownerDocument||W).createElement("style"),D1(X),l1(X,"style",B),HX(X,Z.precedence,W),G.instance=X;case"stylesheet":B=W7(Z.href);var J=W.querySelector(fY(B));if(J)return G.state.loading|=Q9,G.instance=J,D1(J),J;X=XU(Z),(B=J9.get(B))&&r6(X,B),J=(W.ownerDocument||W).createElement("link"),D1(J);var z=J;return z._p=new Promise(function(H,T){z.onload=H,z.onerror=T}),l1(J,"link",X),G.state.loading|=Q9,HX(J,Z.precedence,W),G.instance=J;case"script":if(J=G7(Z.src),B=W.querySelector(yY(J)))return G.instance=B,D1(B),B;if(X=Z,B=J9.get(J))X=F0({},Z),t6(X,B);return W=W.ownerDocument||W,B=W.createElement("script"),D1(B),l1(B,"link",X),W.head.appendChild(B),G.instance=B;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+G.type+'". this is a bug in React.')}else G.type==="stylesheet"&&(G.state.loading&Q9)===AZ&&(X=G.instance,G.state.loading|=Q9,HX(X,Z.precedence,W));return G.instance}function HX(W,G,Z){for(var X=Z.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=X.length?X[X.length-1]:null,J=B,z=0;z<X.length;z++){var H=X[z];if(H.dataset.precedence===G)J=H;else if(J!==B)break}J?J.parentNode.insertBefore(W,J.nextSibling):(G=Z.nodeType===9?Z.head:Z,G.insertBefore(W,G.firstChild))}function r6(W,G){W.crossOrigin==null&&(W.crossOrigin=G.crossOrigin),W.referrerPolicy==null&&(W.referrerPolicy=G.referrerPolicy),W.title==null&&(W.title=G.title)}function t6(W,G){W.crossOrigin==null&&(W.crossOrigin=G.crossOrigin),W.referrerPolicy==null&&(W.referrerPolicy=G.referrerPolicy),W.integrity==null&&(W.integrity=G.integrity)}function QU(W,G,Z){if(B2===null){var X=new Map,B=B2=new Map;B.set(Z,X)}else B=B2,X=B.get(Z),X||(X=new Map,B.set(Z,X));if(X.has(W))return X;X.set(W,null),Z=Z.getElementsByTagName(W);for(B=0;B<Z.length;B++){var J=Z[B];if(!(J[pY]||J[WW]||W==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!==Q7){var z=J.getAttribute(G)||"";z=W+z;var H=X.get(z);H?H.push(J):X.set(z,[J])}}return X}function JU(W,G,Z){W=W.ownerDocument||W,W.head.insertBefore(Z,G==="title"?W.querySelector("head > title"):null)}function fT(W,G,Z){var X=!Z.ancestorInfo.containerTagInScope;if(Z.context===f7||G.itemProp!=null)return!X||G.itemProp==null||W!=="meta"&&W!=="title"&&W!=="style"&&W!=="link"&&W!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",W,W),!1;switch(W){case"meta":case"title":return!0;case"style":if(typeof G.precedence!=="string"||typeof G.href!=="string"||G.href===""){X&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflic with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`, or move the <style> to the <style> tag.');break}return!0;case"link":if(typeof G.rel!=="string"||typeof G.href!=="string"||G.href===""||G.onLoad||G.onError){if(G.rel==="stylesheet"&&typeof G.precedence==="string"){W=G.href;var{onError:B,disabled:J}=G;Z=[],G.onLoad&&Z.push("`onLoad`"),B&&Z.push("`onError`"),J!=null&&Z.push("`disabled`"),B=LT(Z,"and"),B+=Z.length===1?" prop":" props",J=Z.length===1?"an "+B:"the "+B,Z.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',W,J,B)}X&&(typeof G.rel!=="string"||typeof G.href!=="string"||G.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(G.onError||G.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(G.rel){case"stylesheet":return W=G.precedence,G=G.disabled,typeof W!=="string"&&X&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof W==="string"&&G==null;default:return!0}case"script":if(W=G.async&&typeof G.async!=="function"&&typeof G.async!=="symbol",!W||G.onLoad||G.onError||!G.src||typeof G.src!=="string"){X&&(W?G.onLoad||G.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":X&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",W)}return!1}function NU(W){return W.type==="stylesheet"&&(W.state.loading&R_)===AZ?!1:!0}function yT(){}function gT(W,G,Z){if(P4===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var X=P4;if(G.type==="stylesheet"&&(typeof Z.media!=="string"||matchMedia(Z.media).matches!==!1)&&(G.state.loading&Q9)===AZ){if(G.instance===null){var B=W7(Z.href),J=W.querySelector(fY(B));if(J){W=J._p,W!==null&&typeof W==="object"&&typeof W.then==="function"&&(X.count++,X=_X.bind(X),W.then(X,X)),G.state.loading|=Q9,G.instance=J,D1(J);return}J=W.ownerDocument||W,Z=XU(Z),(B=J9.get(B))&&r6(Z,B),J=J.createElement("link"),D1(J);var z=J;z._p=new Promise(function(H,T){z.onload=H,z.onerror=T}),l1(J,"link",Z),G.instance=J}X.stylesheets===null&&(X.stylesheets=new Map),X.stylesheets.set(G,W),(W=G.state.preload)&&(G.state.loading&R_)===AZ&&(X.count++,G=_X.bind(X),W.addEventListener("load",G),W.addEventListener("error",G))}}function hT(){if(P4===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var W=P4;return W.stylesheets&&W.count===0&&e6(W,W.stylesheets),0<W.count?function(G){var Z=setTimeout(function(){if(W.stylesheets&&e6(W,W.stylesheets),W.unsuspend){var X=W.unsuspend;W.unsuspend=null,X()}},60000);return W.unsuspend=G,function(){W.unsuspend=null,clearTimeout(Z)}}:null}function _X(){if(this.count--,this.count===0){if(this.stylesheets)e6(this,this.stylesheets);else if(this.unsuspend){var W=this.unsuspend;this.unsuspend=null,W()}}}function e6(W,G){W.stylesheets=null,W.unsuspend!==null&&(W.count++,Q2=new Map,G.forEach(mT,W),Q2=null,_X.call(W))}function mT(W,G){if(!(G.state.loading&Q9)){var Z=Q2.get(W);if(Z)var X=Z.get(AJ);else{Z=new Map,Q2.set(W,Z);for(var B=W.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<B.length;J++){var z=B[J];if(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")Z.set(z.dataset.precedence,z),X=z}X&&Z.set(AJ,X)}B=G.instance,z=B.getAttribute("data-precedence"),J=Z.get(z)||X,J===X&&Z.set(AJ,B),Z.set(z,B),this.count++,X=_X.bind(this),B.addEventListener("load",X),B.addEventListener("error",X),J?J.parentNode.insertBefore(B,J.nextSibling):(W=W.nodeType===9?W.head:W,W.insertBefore(B,W.firstChild)),G.state.loading|=Q9}}function dT(W,G,Z){var X=0;switch(W){case"dir":case"dirxml":case"groupEnd":case"table":return f_.apply(console[W],[console].concat(G));case"assert":X=1}return G=G.slice(0),typeof G[X]==="string"?G.splice(X,1,x_+G[X],b_,J2+Z+J2,v_):G.splice(X,0,x_,b_,J2+Z+J2,v_),G.unshift(console),f_.apply(console[W],G)}function uT(W,G,Z,X,B,J,z,H){this.tag=1,this.containerInfo=W,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=TJ,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O9(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O9(0),this.hiddenUpdates=O9(null),this.identifierPrefix=X,this.onUncaughtError=B,this.onCaughtError=J,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,W=this.pendingUpdatersLaneMap=[];for(G=0;31>G;G++)W.push(new Set);this._debugRootType=Z?"hydrateRoot()":"createRoot()"}function $U(W,G,Z,X,B,J,z,H,T,I,b,d){return W=new uT(W,G,Z,z,H,T,I,d),G=XE,J===!0&&(G|=GW|P9),E9&&(G|=n1),J=L(3,null,null,G),W.current=J,J.stateNode=W,G=MB(),pG(G),W.pooledCache=G,pG(G),J.memoizedState={element:X,isDehydrated:Z,cache:G},T6(J),W}function zU(W){if(!W)return zG;return W=zG,W}function KU(W,G,Z,X){return G.tag===0&&rG(),UU(G.current,2,W,G,Z,X),2}function UU(W,G,Z,X,B,J){if(e1&&typeof e1.onScheduleFiberRoot==="function")try{e1.onScheduleFiberRoot(B7,X,Z)}catch(z){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",z))}e!==null&&typeof e.markRenderScheduled==="function"&&e.markRenderScheduled(G),B=zU(B),X.context===null?X.context=B:X.pendingContext=B,aW&&t1!==null&&!y_&&(y_=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,p(t1)||"Unknown")),X=WG(G),X.payload={element:Z},J=J===void 0?null:J,J!==null&&(typeof J!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",J),X.callback=J),Z=GG(W,X,G),Z!==null&&(O1(Z,W,G),FY(Z,W,G))}function HU(W,G){if(W=W.memoizedState,W!==null&&W.dehydrated!==null){var Z=W.retryLane;W.retryLane=Z!==0&&Z<G?Z:G}}function WQ(W,G){HU(W,G),(W=W.alternate)&&HU(W,G)}function _U(W){if(W.tag===13){var G=r1(W,67108864);G!==null&&O1(G,W,67108864),WQ(W,67108864)}}function pT(){return t1}function cT(){for(var W=new Map,G=1,Z=0;31>Z;Z++){var X=a(G);W.set(G,X),G*=2}return W}function lT(W,G,Z,X){var B=g.T;g.T=null;var J=N1.p;try{N1.p=I9,GQ(W,G,Z,X)}finally{N1.p=J,g.T=B}}function iT(W,G,Z,X){var B=g.T;g.T=null;var J=N1.p;try{N1.p=D9,GQ(W,G,Z,X)}finally{N1.p=J,g.T=B}}function GQ(W,G,Z,X){if(N2){var B=ZQ(X);if(B===null)p6(W,G,X,$2,Z),OU(W,X);else if(nT(B,W,G,Z,X))X.stopPropagation();else if(OU(W,X),G&4&&-1<ME.indexOf(W)){for(;B!==null;){var J=d9(B);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var z=T1(J.pendingLanes);if(z!==0){var H=J;H.pendingLanes|=2;for(H.entangledLanes|=2;z;){var T=1<<31-XW(z);H.entanglements[1]|=T,z&=~T}s9(J),($1&(zW|k5))===bW&&(lX=r9()+L_,bY(0,!1))}}break;case 13:H=r1(J,2),H!==null&&O1(H,J,2),aZ(),WQ(J,2)}if(J=ZQ(X),J===null&&p6(W,G,X,$2,Z),J===B)break;B=J}B!==null&&X.stopPropagation()}else p6(W,G,X,null,Z)}}function ZQ(W){return W=OB(W),YQ(W)}function YQ(W){if($2=null,W=m9(W),W!==null){var G=t(W);if(G===null)W=null;else{var Z=G.tag;if(Z===13){if(W=T0(G),W!==null)return W;W=null}else if(Z===3){if(G.stateNode.current.memoizedState.isDehydrated)return G.tag===3?G.stateNode.containerInfo:null;W=null}else G!==W&&(W=null)}}return $2=W,null}function wU(W){switch(W){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return I9;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return D9;case"message":switch(YA()){case wQ:return I9;case OQ:return D9;case X7:case XA:return e9;case VQ:return DX;default:return e9}default:return e9}}function OU(W,G){switch(W){case"focusin":case"focusout":AG=null;break;case"dragenter":case"dragleave":EG=null;break;case"mouseover":case"mouseout":IG=null;break;case"pointerover":case"pointerout":F4.delete(G.pointerId);break;case"gotpointercapture":case"lostpointercapture":q4.delete(G.pointerId)}}function gY(W,G,Z,X,B,J){if(W===null||W.nativeEvent!==J)return W={blockedOn:G,domEventName:Z,eventSystemFlags:X,nativeEvent:J,targetContainers:[B]},G!==null&&(G=d9(G),G!==null&&_U(G)),W;return W.eventSystemFlags|=X,G=W.targetContainers,B!==null&&G.indexOf(B)===-1&&G.push(B),W}function nT(W,G,Z,X,B){switch(G){case"focusin":return AG=gY(AG,W,G,Z,X,B),!0;case"dragenter":return EG=gY(EG,W,G,Z,X,B),!0;case"mouseover":return IG=gY(IG,W,G,Z,X,B),!0;case"pointerover":var J=B.pointerId;return F4.set(J,gY(F4.get(J)||null,W,G,Z,X,B)),!0;case"gotpointercapture":return J=B.pointerId,q4.set(J,gY(q4.get(J)||null,W,G,Z,X,B)),!0}return!1}function VU(W){var G=m9(W.target);if(G!==null){var Z=t(G);if(Z!==null){if(G=Z.tag,G===13){if(G=T0(Z),G!==null){W.blockedOn=G,D8(W.priority,function(){if(Z.tag===13){var X=RW(Z),B=r1(Z,X);B!==null&&O1(B,Z,X),WQ(Z,X)}});return}}else if(G===3&&Z.stateNode.current.memoizedState.isDehydrated){W.blockedOn=Z.tag===3?Z.stateNode.containerInfo:null;return}}}W.blockedOn=null}function wX(W){if(W.blockedOn!==null)return!1;for(var G=W.targetContainers;0<G.length;){var Z=ZQ(W.nativeEvent);if(Z===null){Z=W.nativeEvent;var X=new Z.constructor(Z.type,Z),B=X;cY!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),cY=B,Z.target.dispatchEvent(X),cY===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),cY=null}else return G=d9(Z),G!==null&&_U(G),W.blockedOn=Z,!1;G.shift()}return!0}function LU(W,G,Z){wX(W)&&Z.delete(G)}function sT(){EJ=!1,AG!==null&&wX(AG)&&(AG=null),EG!==null&&wX(EG)&&(EG=null),IG!==null&&wX(IG)&&(IG=null),F4.forEach(LU),q4.forEach(LU)}function OX(W,G){W.blockedOn===G&&(W.blockedOn=null,EJ||(EJ=!0,h0.unstable_scheduleCallback(h0.unstable_NormalPriority,sT)))}function TU(W){z2!==W&&(z2=W,h0.unstable_scheduleCallback(h0.unstable_NormalPriority,function(){z2===W&&(z2=null);for(var G=0;G<W.length;G+=3){var Z=W[G],X=W[G+1],B=W[G+2];if(typeof X!=="function")if(YQ(X||Z)===null)continue;else break;var J=d9(Z);J!==null&&(W.splice(G,3),G-=3,Z={pending:!0,data:B,method:Z.method,action:X},Object.freeze(Z),rB(J,Z,X,B))}}))}function hY(W){function G(T){return OX(T,W)}AG!==null&&OX(AG,W),EG!==null&&OX(EG,W),IG!==null&&OX(IG,W),F4.forEach(G),q4.forEach(G);for(var Z=0;Z<DG.length;Z++){var X=DG[Z];X.blockedOn===W&&(X.blockedOn=null)}for(;0<DG.length&&(Z=DG[0],Z.blockedOn===null);)VU(Z),Z.blockedOn===null&&DG.shift();if(Z=(W.ownerDocument||W).$$reactFormReplay,Z!=null)for(X=0;X<Z.length;X+=3){var B=Z[X],J=Z[X+1],z=B[TW]||null;if(typeof J==="function")z||TU(Z);else if(z){var H=null;if(J&&J.hasAttribute("formAction")){if(B=J,z=J[TW]||null)H=z.formAction;else if(YQ(B)!==null)continue}else H=z.action;typeof H==="function"?Z[X+1]=H:(Z.splice(X,3),X-=3),TU(Z)}}}function XQ(W){this._internalRoot=W}function VX(W){this._internalRoot=W}function AU(W){W[tG]&&(W._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var oT=Symbol.for("react.element"),BG=Symbol.for("react.transitional.element"),Z7=Symbol.for("react.portal"),Y7=Symbol.for("react.fragment"),LX=Symbol.for("react.strict_mode"),BQ=Symbol.for("react.profiler"),aT=Symbol.for("react.provider"),QQ=Symbol.for("react.consumer"),a9=Symbol.for("react.context"),mY=Symbol.for("react.forward_ref"),JQ=Symbol.for("react.suspense"),NQ=Symbol.for("react.suspense_list"),TX=Symbol.for("react.memo"),kW=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var EU=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var rT=Symbol.for("react.memo_cache_sentinel"),IU=Symbol.iterator,tT=Symbol.for("react.client.reference"),g=g7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F0=Object.assign,dY=0,DU,PU,jU,FU,qU,CU,MU;X0.__reactDisabledLog=!0;var $Q,SU,zQ=!1,KQ=new(typeof WeakMap==="function"?WeakMap:Map),t1=null,aW=!1,i1=Array.isArray,N1=CJ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eT=Object.freeze({pending:!1,data:null,method:null,action:null}),UQ=[],HQ=[],D5=-1,QG=l0(null),uY=l0(null),JG=l0(null),AX=l0(null),P5=Object.prototype.hasOwnProperty,_Q=h0.unstable_scheduleCallback,WA=h0.unstable_cancelCallback,GA=h0.unstable_shouldYield,ZA=h0.unstable_requestPaint,r9=h0.unstable_now,YA=h0.unstable_getCurrentPriorityLevel,wQ=h0.unstable_ImmediatePriority,OQ=h0.unstable_UserBlockingPriority,X7=h0.unstable_NormalPriority,XA=h0.unstable_LowPriority,VQ=h0.unstable_IdlePriority,BA=h0.log,QA=h0.unstable_setDisableYieldValue,B7=null,e1=null,e=null,t9=!1,E9=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined",XW=Math.clz32?Math.clz32:s0,JA=Math.log,NA=Math.LN2,EX=128,IX=4194304,I9=2,D9=8,e9=32,DX=268435456,NG=Math.random().toString(36).slice(2),WW="__reactFiber$"+NG,TW="__reactProps$"+NG,tG="__reactContainer$"+NG,LQ="__reactEvents$"+NG,$A="__reactListeners$"+NG,zA="__reactHandles$"+NG,RU="__reactResources$"+NG,pY="__reactMarker$"+NG,kU=new Set,eG={},TQ={},W5=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),KA={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},UA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xU={},bU={},HA=/[\n"\\]/g,vU=!1,fU=!1,yU=!1,gU=!1,hU=!1,mU=!1,dU=["value","defaultValue"],uU=!1,pU=/["'&<>\n\t]|^\s|\s$/,_A="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),cU="applet caption html table td th marquee object template foreignObject desc title".split(" "),wA=cU.concat(["button"]),OA="dd dt li option optgroup p rp rt".split(" "),lU={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null},PX={},jX="http://www.w3.org/1998/Math/MathML",Q7="http://www.w3.org/2000/svg",AQ={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},iU=/([A-Z])/g,nU=/^ms-/,VA=/^(?:webkit|moz|o)[A-Z]/,LA=/^-ms-/,TA=/-(.)/g,sU=/;\s*$/,J7={},EQ={},oU=!1,aU=!1,rU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),AA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FX={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},tU={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},N7={},EA=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),IA=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eU=!1,BW={},WH=/^on./,DA=/^on[^A-Z]/,PA=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jA=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),FA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,cY=null,$7=null,z7=null,IQ=!1,DQ=!1;if(W5)try{var lY={};Object.defineProperty(lY,"passive",{get:function(){DQ=!0}}),window.addEventListener("test",lY,lY),window.removeEventListener("test",lY,lY)}catch(W){DQ=!1}var $G=null,PQ=null,qX=null,WZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(W){return W.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CX=OW(WZ),iY=F0({},WZ,{view:0,detail:0}),qA=OW(iY),jQ,FQ,nY,MX=F0({},iY,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VB,button:0,buttons:0,relatedTarget:function(W){return W.relatedTarget===void 0?W.fromElement===W.srcElement?W.toElement:W.fromElement:W.relatedTarget},movementX:function(W){if("movementX"in W)return W.movementX;return W!==nY&&(nY&&W.type==="mousemove"?(jQ=W.screenX-nY.screenX,FQ=W.screenY-nY.screenY):FQ=jQ=0,nY=W),jQ},movementY:function(W){return"movementY"in W?W.movementY:FQ}}),GH=OW(MX),CA=F0({},MX,{dataTransfer:0}),MA=OW(CA),SA=F0({},iY,{relatedTarget:0}),qQ=OW(SA),RA=F0({},WZ,{animationName:0,elapsedTime:0,pseudoElement:0}),kA=OW(RA),xA=F0({},WZ,{clipboardData:function(W){return"clipboardData"in W?W.clipboardData:window.clipboardData}}),bA=OW(xA),vA=F0({},WZ,{data:0}),ZH=OW(vA),fA=ZH,yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},mA=F0({},iY,{key:function(W){if(W.key){var G=yA[W.key]||W.key;if(G!=="Unidentified")return G}return W.type==="keypress"?(W=F8(W),W===13?"Enter":String.fromCharCode(W)):W.type==="keydown"||W.type==="keyup"?gA[W.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VB,charCode:function(W){return W.type==="keypress"?F8(W):0},keyCode:function(W){return W.type==="keydown"||W.type==="keyup"?W.keyCode:0},which:function(W){return W.type==="keypress"?F8(W):W.type==="keydown"||W.type==="keyup"?W.keyCode:0}}),dA=OW(mA),uA=F0({},MX,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YH=OW(uA),pA=F0({},iY,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VB}),cA=OW(pA),lA=F0({},WZ,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=OW(lA),nA=F0({},MX,{deltaX:function(W){return"deltaX"in W?W.deltaX:("wheelDeltaX"in W)?-W.wheelDeltaX:0},deltaY:function(W){return"deltaY"in W?W.deltaY:("wheelDeltaY"in W)?-W.wheelDeltaY:("wheelDelta"in W)?-W.wheelDelta:0},deltaZ:0,deltaMode:0}),sA=OW(nA),oA=F0({},WZ,{newState:0,oldState:0}),aA=OW(oA),rA=[9,13,27,32],XH=229,CQ=W5&&"CompositionEvent"in window,sY=null;W5&&"documentMode"in document&&(sY=document.documentMode);var tA=W5&&"TextEvent"in window&&!sY,BH=W5&&(!CQ||sY&&8<sY&&11>=sY),QH=32,JH=String.fromCharCode(QH),NH=!1,K7=!1,eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},oY=null,aY=null,$H=!1;W5&&($H=qL("input")&&(!document.documentMode||9<document.documentMode));var QW=typeof Object.is==="function"?Object.is:xL,WE=W5&&"documentMode"in document&&11>=document.documentMode,U7=null,MQ=null,rY=null,SQ=!1,H7={animationend:fG("Animation","AnimationEnd"),animationiteration:fG("Animation","AnimationIteration"),animationstart:fG("Animation","AnimationStart"),transitionrun:fG("Transition","TransitionRun"),transitionstart:fG("Transition","TransitionStart"),transitioncancel:fG("Transition","TransitionCancel"),transitionend:fG("Transition","TransitionEnd")},RQ={},zH={};W5&&(zH=document.createElement("div").style,("AnimationEvent"in window)||(delete H7.animationend.animation,delete H7.animationiteration.animation,delete H7.animationstart.animation),("TransitionEvent"in window)||delete H7.transitionend.transition);var KH=yG("animationend"),UH=yG("animationiteration"),HH=yG("animationstart"),GE=yG("transitionrun"),ZE=yG("transitionstart"),YE=yG("transitioncancel"),_H=yG("transitionend"),wH=new Map,OH="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" "),tY=1,GZ=2,j5=4,rW=[],_7=0,kQ=0,zG={};Object.freeze(zG);var tW=null,w7=null,X1=0,XE=1,n1=2,GW=8,P9=16,VH=64,O7=h0.unstable_now,xQ=-0,SX=-0,AW=-1.1,ZZ=-0,RX=!1,kX=!1,j9={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},eY=[],W4=[],G4=[],Z4=[],Y4=[],X4=[],YZ=new Set;j9.recordUnsafeLifecycleWarnings=function(W,G){YZ.has(W.type)||(typeof G.componentWillMount==="function"&&G.componentWillMount.__suppressDeprecationWarning!==!0&&eY.push(W),W.mode&GW&&typeof G.UNSAFE_componentWillMount==="function"&&W4.push(W),typeof G.componentWillReceiveProps==="function"&&G.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&G4.push(W),W.mode&GW&&typeof G.UNSAFE_componentWillReceiveProps==="function"&&Z4.push(W),typeof G.componentWillUpdate==="function"&&G.componentWillUpdate.__suppressDeprecationWarning!==!0&&Y4.push(W),W.mode&GW&&typeof G.UNSAFE_componentWillUpdate==="function"&&X4.push(W))},j9.flushPendingUnsafeLifecycleWarnings=function(){var W=new Set;0<eY.length&&(eY.forEach(function(H){W.add(p(H)||"Component"),YZ.add(H.type)}),eY=[]);var G=new Set;0<W4.length&&(W4.forEach(function(H){G.add(p(H)||"Component"),YZ.add(H.type)}),W4=[]);var Z=new Set;0<G4.length&&(G4.forEach(function(H){Z.add(p(H)||"Component"),YZ.add(H.type)}),G4=[]);var X=new Set;0<Z4.length&&(Z4.forEach(function(H){X.add(p(H)||"Component"),YZ.add(H.type)}),Z4=[]);var B=new Set;0<Y4.length&&(Y4.forEach(function(H){B.add(p(H)||"Component"),YZ.add(H.type)}),Y4=[]);var J=new Set;if(0<X4.length&&(X4.forEach(function(H){J.add(p(H)||"Component"),YZ.add(H.type)}),X4=[]),0<G.size){var z=q(G);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,z)}0<X.size&&(z=q(X),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,z)),0<J.size&&(z=q(J),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,z)),0<W.size&&(z=q(W),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,z)),0<Z.size&&(z=q(Z),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,z)),0<B.size&&(z=q(B),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,z))};var xX=new Map,LH=new Set;j9.recordLegacyContextWarning=function(W,G){var Z=null;for(var X=W;X!==null;)X.mode&GW&&(Z=X),X=X.return;Z===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!LH.has(W.type)&&(X=xX.get(Z),W.type.contextTypes!=null||W.type.childContextTypes!=null||G!==null&&typeof G.getChildContext==="function")&&(X===void 0&&(X=[],xX.set(Z,X)),X.push(W))},j9.flushLegacyContextWarning=function(){xX.forEach(function(W){if(W.length!==0){var G=W[0],Z=new Set;W.forEach(function(B){Z.add(p(B)||"Component"),LH.add(B.type)});var X=q(Z);W0(G,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,X)})}})},j9.discardPendingWarnings=function(){eY=[],W4=[],G4=[],Z4=[],Y4=[],X4=[],xX=new Map};var bQ=new WeakMap,V7=[],L7=0,bX=null,vX=0,eW=[],W9=0,XZ=null,F5=1,q5="",JW=null,s1=null,v0=!1,C5=!1,G9=null,F9=null,G5=!1,vQ=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),fX=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),TH=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),fQ={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},B4=null,yX=!1,AH={"react-stack-bottom-frame":function(W,G,Z){var X=aW;aW=!0;try{return W(G,Z)}finally{aW=X}}},yQ=AH["react-stack-bottom-frame"].bind(AH),EH={"react-stack-bottom-frame":function(W){var G=aW;aW=!0;try{return W.render()}finally{aW=G}}},IH=EH["react-stack-bottom-frame"].bind(EH),DH={"react-stack-bottom-frame":function(W,G){try{G.componentDidMount()}catch(Z){a0(W,W.return,Z)}}},gQ=DH["react-stack-bottom-frame"].bind(DH),PH={"react-stack-bottom-frame":function(W,G,Z,X,B){try{G.componentDidUpdate(Z,X,B)}catch(J){a0(W,W.return,J)}}},jH=PH["react-stack-bottom-frame"].bind(PH),FH={"react-stack-bottom-frame":function(W,G){var Z=G.stack;W.componentDidCatch(G.value,{componentStack:Z!==null?Z:""})}},BE=FH["react-stack-bottom-frame"].bind(FH),qH={"react-stack-bottom-frame":function(W,G,Z){try{Z.componentWillUnmount()}catch(X){a0(W,G,X)}}},CH=qH["react-stack-bottom-frame"].bind(qH),MH={"react-stack-bottom-frame":function(W){var G=W.create;return W=W.inst,G=G(),W.destroy=G}},QE=MH["react-stack-bottom-frame"].bind(MH),SH={"react-stack-bottom-frame":function(W,G,Z){try{Z()}catch(X){a0(W,G,X)}}},JE=SH["react-stack-bottom-frame"].bind(SH),RH={"react-stack-bottom-frame":function(W){var G=W._init;return G(W._payload)}},KG=RH["react-stack-bottom-frame"].bind(RH),T7=null,Q4=0,j0=null,hQ,kH=hQ=!1,xH={},bH={},vH={};A=function(W,G,Z){if(Z!==null&&typeof Z==="object"&&Z._store&&(!Z._store.validated&&Z.key==null||Z._store.validated===2)){if(typeof Z._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");Z._store.validated=1;var X=p(W),B=X||"null";if(!xH[B]){xH[B]=!0,Z=Z._owner,W=W._debugOwner;var J="";W&&typeof W.tag==="number"&&(B=p(W))&&(J=`

Check the render method of \``+B+"`."),J||X&&(J=`

Check the top-level render call using <`+X+">.");var z="";Z!=null&&W!==Z&&(X=null,typeof Z.tag==="number"?X=p(Z):typeof Z.name==="string"&&(X=Z.name),X&&(z=" It was passed a child from "+X+".")),W0(G,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',J,z)})}}};var BZ=u$(!0),fH=u$(!1),A7=l0(null),gX=l0(0),Z9=l0(null),Z5=null,E7=1,J4=2,S1=l0(0),Y9=0,X9=1,NW=2,o1=4,R1=8,NE=typeof AbortController!=="undefined"?AbortController:function(){var W=[],G=this.signal={aborted:!1,addEventListener:function(Z,X){W.push(X)}};this.abort=function(){G.aborted=!0,W.forEach(function(Z){return Z()})}},$E=h0.unstable_scheduleCallback,zE=h0.unstable_NormalPriority,k1={$$typeof:a9,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},N4=null,mQ=0,QZ=0,I7=null,yH=g.S;g.S=function(W,G){typeof G==="object"&&G!==null&&typeof G.then==="function"&&vL(W,G),yH!==null&&yH(W,G)};var JZ=l0(null),D7,gH=new Set,hH=new Set,dQ=new Set,mH=new Set,UG=0,V0=null,t0=null,q1=null,hX=!1,P7=!1,NZ=!1,mX=0,$4=0,M5=null,KE=0,UE=25,y=null,B9=null,S5=-1,z4=!1,uQ=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Y5={readContext:H1,use:t5,useCallback:P1,useContext:P1,useEffect:P1,useImperativeHandle:P1,useLayoutEffect:P1,useInsertionEffect:P1,useMemo:P1,useReducer:P1,useRef:P1,useState:P1,useDebugValue:P1,useDeferredValue:P1,useTransition:P1,useSyncExternalStore:P1,useId:P1};Y5.useCacheRefresh=P1,Y5.useMemoCache=P1,Y5.useHostTransitionStatus=P1,Y5.useFormState=P1,Y5.useActionState=P1,Y5.useOptimistic=P1;var HG=null,$Z=null,_G=null,zZ=null,EW=null,$W=null,wG=null;HG={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",C0(),uZ(G),nB(W,G)},useContext:function(W){return y="useContext",C0(),H1(W)},useEffect:function(W,G){return y="useEffect",C0(),uZ(G),i8(W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",C0(),uZ(Z),iB(W,G,Z)},useInsertionEffect:function(W,G){y="useInsertionEffect",C0(),uZ(G),lG(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",C0(),uZ(G),lB(W,G)},useMemo:function(W,G){y="useMemo",C0(),uZ(G);var Z=g.H;g.H=EW;try{return sB(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",C0();var X=g.H;g.H=EW;try{return yB(W,G,Z)}finally{g.H=X}},useRef:function(W){return y="useRef",C0(),cB(W)},useState:function(W){y="useState",C0();var G=g.H;g.H=EW;try{return dB(W)}finally{g.H=G}},useDebugValue:function(){y="useDebugValue",C0()},useDeferredValue:function(W,G){return y="useDeferredValue",C0(),oB(W,G)},useTransition:function(){return y="useTransition",C0(),tB()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",C0(),hB(W,G,Z)},useId:function(){return y="useId",C0(),eB()},useCacheRefresh:function(){return y="useCacheRefresh",C0(),W6()}},HG.useMemoCache=cG,HG.useHostTransitionStatus=iG,HG.useFormState=function(W,G){return y="useFormState",C0(),u8(),cZ(W,G)},HG.useActionState=function(W,G){return y="useActionState",C0(),cZ(W,G)},HG.useOptimistic=function(W){return y="useOptimistic",C0(),uB(W)},$Z={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",s(),nB(W,G)},useContext:function(W){return y="useContext",s(),H1(W)},useEffect:function(W,G){return y="useEffect",s(),i8(W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",s(),iB(W,G,Z)},useInsertionEffect:function(W,G){y="useInsertionEffect",s(),lG(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",s(),lB(W,G)},useMemo:function(W,G){y="useMemo",s();var Z=g.H;g.H=EW;try{return sB(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",s();var X=g.H;g.H=EW;try{return yB(W,G,Z)}finally{g.H=X}},useRef:function(W){return y="useRef",s(),cB(W)},useState:function(W){y="useState",s();var G=g.H;g.H=EW;try{return dB(W)}finally{g.H=G}},useDebugValue:function(){y="useDebugValue",s()},useDeferredValue:function(W,G){return y="useDeferredValue",s(),oB(W,G)},useTransition:function(){return y="useTransition",s(),tB()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",s(),hB(W,G,Z)},useId:function(){return y="useId",s(),eB()},useCacheRefresh:function(){return y="useCacheRefresh",s(),W6()}},$Z.useMemoCache=cG,$Z.useHostTransitionStatus=iG,$Z.useFormState=function(W,G){return y="useFormState",s(),u8(),cZ(W,G)},$Z.useActionState=function(W,G){return y="useActionState",s(),cZ(W,G)},$Z.useOptimistic=function(W){return y="useOptimistic",s(),uB(W)},_G={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",s(),s8(W,G)},useContext:function(W){return y="useContext",s(),H1(W)},useEffect:function(W,G){y="useEffect",s(),LW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",s(),LW(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",s(),LW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",s();var Z=g.H;g.H=$W;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",s();var X=g.H;g.H=$W;try{return pZ(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",s(),o0().memoizedState},useState:function(){y="useState",s();var W=g.H;g.H=$W;try{return pZ(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",s()},useDeferredValue:function(W,G){return y="useDeferredValue",s(),$z(W,G)},useTransition:function(){return y="useTransition",s(),wz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",s(),p8(W,G,Z)},useId:function(){return y="useId",s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState}},_G.useMemoCache=cG,_G.useHostTransitionStatus=iG,_G.useFormState=function(W){return y="useFormState",s(),u8(),c8(W)},_G.useActionState=function(W){return y="useActionState",s(),c8(W)},_G.useOptimistic=function(W,G){return y="useOptimistic",s(),e$(W,G)},zZ={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",s(),s8(W,G)},useContext:function(W){return y="useContext",s(),H1(W)},useEffect:function(W,G){y="useEffect",s(),LW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",s(),LW(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",s(),LW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",s();var Z=g.H;g.H=wG;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",s();var X=g.H;g.H=wG;try{return IY(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",s(),o0().memoizedState},useState:function(){y="useState",s();var W=g.H;g.H=wG;try{return IY(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",s()},useDeferredValue:function(W,G){return y="useDeferredValue",s(),zz(W,G)},useTransition:function(){return y="useTransition",s(),Oz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",s(),p8(W,G,Z)},useId:function(){return y="useId",s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState}},zZ.useMemoCache=cG,zZ.useHostTransitionStatus=iG,zZ.useFormState=function(W){return y="useFormState",s(),u8(),l8(W)},zZ.useActionState=function(W){return y="useActionState",s(),l8(W)},zZ.useOptimistic=function(W,G){return y="useOptimistic",s(),Gz(W,G)},EW={readContext:function(W){return V(),H1(W)},use:function(W){return O(),t5(W)},useCallback:function(W,G){return y="useCallback",O(),C0(),nB(W,G)},useContext:function(W){return y="useContext",O(),C0(),H1(W)},useEffect:function(W,G){return y="useEffect",O(),C0(),i8(W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",O(),C0(),iB(W,G,Z)},useInsertionEffect:function(W,G){y="useInsertionEffect",O(),C0(),lG(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",O(),C0(),lB(W,G)},useMemo:function(W,G){y="useMemo",O(),C0();var Z=g.H;g.H=EW;try{return sB(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",O(),C0();var X=g.H;g.H=EW;try{return yB(W,G,Z)}finally{g.H=X}},useRef:function(W){return y="useRef",O(),C0(),cB(W)},useState:function(W){y="useState",O(),C0();var G=g.H;g.H=EW;try{return dB(W)}finally{g.H=G}},useDebugValue:function(){y="useDebugValue",O(),C0()},useDeferredValue:function(W,G){return y="useDeferredValue",O(),C0(),oB(W,G)},useTransition:function(){return y="useTransition",O(),C0(),tB()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",O(),C0(),hB(W,G,Z)},useId:function(){return y="useId",O(),C0(),eB()},useCacheRefresh:function(){return y="useCacheRefresh",C0(),W6()},useMemoCache:function(W){return O(),cG(W)}},EW.useHostTransitionStatus=iG,EW.useFormState=function(W,G){return y="useFormState",O(),C0(),cZ(W,G)},EW.useActionState=function(W,G){return y="useActionState",O(),C0(),cZ(W,G)},EW.useOptimistic=function(W){return y="useOptimistic",O(),C0(),uB(W)},$W={readContext:function(W){return V(),H1(W)},use:function(W){return O(),t5(W)},useCallback:function(W,G){return y="useCallback",O(),s(),s8(W,G)},useContext:function(W){return y="useContext",O(),s(),H1(W)},useEffect:function(W,G){y="useEffect",O(),s(),LW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",O(),s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",O(),s(),LW(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",O(),s(),LW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",O(),s();var Z=g.H;g.H=$W;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",O(),s();var X=g.H;g.H=$W;try{return pZ(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",O(),s(),o0().memoizedState},useState:function(){y="useState",O(),s();var W=g.H;g.H=$W;try{return pZ(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",O(),s()},useDeferredValue:function(W,G){return y="useDeferredValue",O(),s(),$z(W,G)},useTransition:function(){return y="useTransition",O(),s(),wz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",O(),s(),p8(W,G,Z)},useId:function(){return y="useId",O(),s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState},useMemoCache:function(W){return O(),cG(W)}},$W.useHostTransitionStatus=iG,$W.useFormState=function(W){return y="useFormState",O(),s(),c8(W)},$W.useActionState=function(W){return y="useActionState",O(),s(),c8(W)},$W.useOptimistic=function(W,G){return y="useOptimistic",O(),s(),e$(W,G)},wG={readContext:function(W){return V(),H1(W)},use:function(W){return O(),t5(W)},useCallback:function(W,G){return y="useCallback",O(),s(),s8(W,G)},useContext:function(W){return y="useContext",O(),s(),H1(W)},useEffect:function(W,G){y="useEffect",O(),s(),LW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",O(),s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",O(),s(),LW(4,NW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",O(),s(),LW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",O(),s();var Z=g.H;g.H=$W;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",O(),s();var X=g.H;g.H=$W;try{return IY(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",O(),s(),o0().memoizedState},useState:function(){y="useState",O(),s();var W=g.H;g.H=$W;try{return IY(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",O(),s()},useDeferredValue:function(W,G){return y="useDeferredValue",O(),s(),zz(W,G)},useTransition:function(){return y="useTransition",O(),s(),Oz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",O(),s(),p8(W,G,Z)},useId:function(){return y="useId",O(),s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState},useMemoCache:function(W){return O(),cG(W)}},wG.useHostTransitionStatus=iG,wG.useFormState=function(W){return y="useFormState",O(),s(),l8(W)},wG.useActionState=function(W){return y="useActionState",O(),s(),l8(W)},wG.useOptimistic=function(W,G){return y="useOptimistic",O(),s(),Gz(W,G)};var dH={},uH=new Set,pH=new Set,cH=new Set,lH=new Set,iH=new Set,nH=new Set,sH=new Set,oH=new Set,aH=new Set,rH=new Set;Object.freeze(dH);var pQ={isMounted:function(W){var G=t1;if(G!==null&&aW&&G.tag===1){var Z=G.stateNode;Z._warnedAboutRefsInRender||console.error("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",p(G)||"A component"),Z._warnedAboutRefsInRender=!0}return(W=W._reactInternals)?t(W)===W:!1},enqueueSetState:function(W,G,Z){W=W._reactInternals;var X=RW(W),B=WG(X);B.payload=G,Z!==void 0&&Z!==null&&(Z6(Z),B.callback=Z),G=GG(W,B,X),G!==null&&(O1(G,W,X),FY(G,W,X)),Q1(W,X)},enqueueReplaceState:function(W,G,Z){W=W._reactInternals;var X=RW(W),B=WG(X);B.tag=J_,B.payload=G,Z!==void 0&&Z!==null&&(Z6(Z),B.callback=Z),G=GG(W,B,X),G!==null&&(O1(G,W,X),FY(G,W,X)),Q1(W,X)},enqueueForceUpdate:function(W,G){W=W._reactInternals;var Z=RW(W),X=WG(Z);X.tag=N_,G!==void 0&&G!==null&&(Z6(G),X.callback=G),G=GG(W,X,Z),G!==null&&(O1(G,W,Z),FY(G,W,Z)),e!==null&&typeof e.markForceUpdateScheduled==="function"&&e.markForceUpdateScheduled(W,Z)}},dX=typeof reportError==="function"?reportError:function(W){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W==="object"&&W!==null&&typeof W.message==="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(G))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",W);return}console.error(W)},j7=null,cQ=null,tH=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),m1=!1,eH={},W_={},G_={},Z_={},F7=!1,Y_={},lQ={},iQ={dehydrated:null,treeContext:null,retryLane:0},X_=!1,nQ=l0(null),sQ=l0(null),B_={},uX=null,q7=null,C7=!1,Q_=0,J_=1,N_=2,oQ=3,OG=!1,$_=!1,aQ=null,rQ=!1,z_=null;z_=new Set;var R5=!1,A1=!1,tQ=!1,K_=typeof WeakSet==="function"?WeakSet:Set,d1=null,M7=null,S7=null,U_=!1,C1=null,xW=!1,q9=null,K4=8192,H_=!1;try{var __=Object.preventExtensions({});}catch(W){H_=!0}var HE={getCacheForType:function(W){var G=H1(k1),Z=G.data.get(W);return Z===void 0&&(Z=W(),G.data.set(W,Z)),Z},getOwner:function(){return t1}};if(typeof Symbol==="function"&&Symbol.for){var U4=Symbol.for;U4("selector.component"),U4("selector.has_pseudo_class"),U4("selector.role"),U4("selector.test_id"),U4("selector.text")}var _E=[],wE=typeof WeakMap==="function"?WeakMap:Map,bW=0,zW=2,k5=4,x5=0,H4=1,R7=2,eQ=3,KZ=4,w_=5,pX=6,$1=bW,Z1=null,q0=null,M0=0,IW=0,_4=1,UZ=2,w4=3,O_=4,WJ=5,k7=6,O4=7,GJ=8,Y1=IW,vW=null,b5=!1,x7=!1,ZJ=!1,X5=0,E1=x5,VG=0,LG=0,YJ=0,fW=0,HZ=0,V4=null,C9=null,cX=!1,XJ=0,V_=300,lX=1/0,L_=500,L4=null,TG=null,iX=!1,_Z=null,T4=0,BJ=0,QJ=null,OE=50,A4=0,JJ=null,NJ=!1,nX=!1,VE=50,wZ=0,E4=null,b7=!1,T_=0,LE=1,TE=2,sX=null,A_=!1,E_=new Set,AE={},oX=null,v7=null,$J=!1,zJ=!1,aX=!1,KJ=!1,OZ=0,UJ={};(function(){for(var W=0;W<OH.length;W++){var G=OH[W],Z=G.toLowerCase();G=G[0].toUpperCase()+G.slice(1),T9(Z,"on"+G)}T9(KH,"onAnimationEnd"),T9(UH,"onAnimationIteration"),T9(HH,"onAnimationStart"),T9("dblclick","onDoubleClick"),T9("focusin","onFocus"),T9("focusout","onBlur"),T9(GE,"onTransitionRun"),T9(ZE,"onTransitionStart"),T9(YE,"onTransitionCancel"),T9(_H,"onTransitionEnd")})(),V9("onMouseEnter",["mouseout","mouseover"]),V9("onMouseLeave",["mouseout","mouseover"]),V9("onPointerEnter",["pointerout","pointerover"]),V9("onPointerLeave",["pointerout","pointerover"]),u9("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u9("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u9("onBeforeInput",["compositionend","keypress","textInput","paste"]),u9("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u9("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u9("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var I4="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(I4)),rX="_reactListening"+Math.random().toString(36).slice(2),I_=!1,D_=!1,tX=!1,P_=!1,eX=!1,W2=!1,j_=!1,G2={},EE=!0,IE=/\r\n?/g,DE=/\u0000|\uFFFD/g,VZ="http://www.w3.org/1999/xlink",_J="http://www.w3.org/XML/1998/namespace",PE="javascript:throw new Error('React form unexpectedly submitted.')",jE="suppressHydrationWarning",Z2="$",Y2="/$",LZ="$?",TZ="$!",wJ="F!",F_="F",FE="style",v5=0,f7=1,X2=2,OJ=null,VJ=null,q_={dialog:!0,webview:!0},LJ=null,C_=typeof setTimeout==="function"?setTimeout:void 0,qE=typeof clearTimeout==="function"?clearTimeout:void 0,TJ=-1,M_=typeof Promise==="function"?Promise:void 0,CE=typeof queueMicrotask==="function"?queueMicrotask:typeof M_!=="undefined"?function(W){return M_.resolve(null).then(W).catch(AT)}:C_,AZ=0,D4=1,S_=2,R_=3,Q9=4,J9=new Map,k_=new Set,f5=N1.d;N1.d={f:function(){var W=f5.f(),G=aZ();return W||G},r:function(W){var G=d9(W);G!==null&&G.tag===5&&G.type==="form"?_z(G):f5.r(W)},D:function(W){f5.D(W),ZU("dns-prefetch",W,null)},C:function(W,G){f5.C(W,G),ZU("preconnect",W,G)},L:function(W,G,Z){f5.L(W,G,Z);var X=y7;if(X&&W&&G){var B='link[rel="preload"][as="'+A0(G)+'"]';G==="image"?Z&&Z.imageSrcSet?(B+='[imagesrcset="'+A0(Z.imageSrcSet)+'"]',typeof Z.imageSizes==="string"&&(B+='[imagesizes="'+A0(Z.imageSizes)+'"]')):B+='[href="'+A0(W)+'"]':B+='[href="'+A0(W)+'"]';var J=B;switch(G){case"style":J=W7(W);break;case"script":J=G7(W)}J9.has(J)||(W=F0({rel:"preload",href:G==="image"&&Z&&Z.imageSrcSet?void 0:W,as:G},Z),J9.set(J,W),X.querySelector(B)!==null||G==="style"&&X.querySelector(fY(J))||G==="script"&&X.querySelector(yY(J))||(G=X.createElement("link"),l1(G,"link",W),D1(G),X.head.appendChild(G)))}},m:function(W,G){f5.m(W,G);var Z=y7;if(Z&&W){var X=G&&typeof G.as==="string"?G.as:"script",B='link[rel="modulepreload"][as="'+A0(X)+'"][href="'+A0(W)+'"]',J=B;switch(X){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=G7(W)}if(!J9.has(J)&&(W=F0({rel:"modulepreload",href:W},G),J9.set(J,W),Z.querySelector(B)===null)){switch(X){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Z.querySelector(yY(J)))return}X=Z.createElement("link"),l1(X,"link",W),D1(X),Z.head.appendChild(X)}}},X:function(W,G){f5.X(W,G);var Z=y7;if(Z&&W){var X=_5(Z).hoistableScripts,B=G7(W),J=X.get(B);J||(J=Z.querySelector(yY(B)),J||(W=F0({src:W,async:!0},G),(G=J9.get(B))&&t6(W,G),J=Z.createElement("script"),D1(J),l1(J,"link",W),Z.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},X.set(B,J))}},S:function(W,G,Z){f5.S(W,G,Z);var X=y7;if(X&&W){var B=_5(X).hoistableStyles,J=W7(W);G=G||"default";var z=B.get(J);if(!z){var H={loading:AZ,preload:null};if(z=X.querySelector(fY(J)))H.loading=D4|Q9;else{W=F0({rel:"stylesheet",href:W,"data-precedence":G},Z),(Z=J9.get(J))&&r6(W,Z);var T=z=X.createElement("link");D1(T),l1(T,"link",W),T._p=new Promise(function(I,b){T.onload=I,T.onerror=b}),T.addEventListener("load",function(){H.loading|=D4}),T.addEventListener("error",function(){H.loading|=S_}),H.loading|=Q9,HX(z,G,X)}z={type:"stylesheet",instance:z,count:1,state:H},B.set(J,z)}}},M:function(W,G){f5.M(W,G);var Z=y7;if(Z&&W){var X=_5(Z).hoistableScripts,B=G7(W),J=X.get(B);J||(J=Z.querySelector(yY(B)),J||(W=F0({src:W,async:!0,type:"module"},G),(G=J9.get(B))&&t6(W,G),J=Z.createElement("script"),D1(J),l1(J,"link",W),Z.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},X.set(B,J))}}};var y7=typeof document==="undefined"?null:document,B2=null,P4=null,AJ=null,Q2=null,EZ=eT,j4={$$typeof:a9,Provider:null,Consumer:null,_currentValue:EZ,_currentValue2:EZ,_threadCount:0},x_="%c%s%c ",b_="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",v_="",J2=" ",f_=Function.prototype.bind,y_=!1,g_=null,h_=null,m_=null,d_=null,u_=null,p_=null,c_=null,l_=null,i_=null;g_=function(W,G,Z,X){G=Y(W,G),G!==null&&(Z=Q(G.memoizedState,Z,0,X),G.memoizedState=Z,G.baseState=Z,W.memoizedProps=F0({},W.memoizedProps),Z=r1(W,2),Z!==null&&O1(Z,W,2))},h_=function(W,G,Z){G=Y(W,G),G!==null&&(Z=K(G.memoizedState,Z,0),G.memoizedState=Z,G.baseState=Z,W.memoizedProps=F0({},W.memoizedProps),Z=r1(W,2),Z!==null&&O1(Z,W,2))},m_=function(W,G,Z,X){G=Y(W,G),G!==null&&(Z=N(G.memoizedState,Z,X),G.memoizedState=Z,G.baseState=Z,W.memoizedProps=F0({},W.memoizedProps),Z=r1(W,2),Z!==null&&O1(Z,W,2))},d_=function(W,G,Z){W.pendingProps=Q(W.memoizedProps,G,0,Z),W.alternate&&(W.alternate.pendingProps=W.pendingProps),G=r1(W,2),G!==null&&O1(G,W,2)},u_=function(W,G){W.pendingProps=K(W.memoizedProps,G,0),W.alternate&&(W.alternate.pendingProps=W.pendingProps),G=r1(W,2),G!==null&&O1(G,W,2)},p_=function(W,G,Z){W.pendingProps=N(W.memoizedProps,G,Z),W.alternate&&(W.alternate.pendingProps=W.pendingProps),G=r1(W,2),G!==null&&O1(G,W,2)},c_=function(W){var G=r1(W,2);G!==null&&O1(G,W,2)},l_=function(W){_=W},i_=function(W){U=W};var N2=!0,$2=null,EJ=!1,AG=null,EG=null,IG=null,F4=new Map,q4=new Map,DG=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),z2=null;if(VX.prototype.render=XQ.prototype.render=function(W,G){var Z=this._internalRoot;if(Z===null)throw Error("Cannot update an unmounted root.");typeof G==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):S(G)?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof G!=="undefined"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),G=Z.current;var X=RW(G);UU(G,X,W,Z,null,null)},VX.prototype.unmount=XQ.prototype.unmount=function(W){if(typeof W==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),W=this._internalRoot,W!==null){this._internalRoot=null;var G=W.containerInfo;($1&(zW|k5))!==bW&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),KU(null,W,null,null),aZ(),G[tG]=null}},VX.prototype.unstable_scheduleHydration=function(W){if(W){var G=I8();W={blockedOn:null,target:W,priority:G};for(var Z=0;Z<DG.length&&G!==0&&G<DG[Z].priority;Z++);DG.splice(Z,0,W),Z===0&&VU(W)}},function(){var W=g7.version;if(W!=="19.0.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(W+`
  - react-dom:  19.0.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),N1.findDOMNode=function(W){var G=W._reactInternals;if(G===void 0){if(typeof W.render==="function")throw Error("Unable to find node on an unmounted component.");throw W=Object.keys(W).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+W)}return W=m0(G),W=W!==null?n0(W):null,W=W===null?null:W.stateNode,W},!function(){var W={bundleType:1,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:g,findFiberByHostInstance:m9,reconcilerVersion:"19.0.0"};return W.overrideHookState=g_,W.overrideHookStateDeletePath=h_,W.overrideHookStateRenamePath=m_,W.overrideProps=d_,W.overridePropsDeletePath=u_,W.overridePropsRenamePath=p_,W.scheduleUpdate=c_,W.setErrorHandler=l_,W.setSuspenseHandler=i_,W.scheduleRefresh=M,W.scheduleRoot=R,W.setRefreshHandler=h,W.getCurrentFiber=pT,W.getLaneLabelMap=cT,W.injectProfilingHooks=kG,H5(W)}()&&W5&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var n_=window.location.protocol;/^(https?|file):$/.test(n_)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(n_==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}pE.createRoot=function(W,G){if(!S(W))throw Error("Target container is not a DOM element.");AU(W);var Z=!1,X="",B=Iz,J=Dz,z=Pz,H=null;return G!==null&&G!==void 0&&(G.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof G==="object"&&G!==null&&G.$$typeof===BG&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),G.unstable_strictMode===!0&&(Z=!0),G.identifierPrefix!==void 0&&(X=G.identifierPrefix),G.onUncaughtError!==void 0&&(B=G.onUncaughtError),G.onCaughtError!==void 0&&(J=G.onCaughtError),G.onRecoverableError!==void 0&&(z=G.onRecoverableError),G.unstable_transitionCallbacks!==void 0&&(H=G.unstable_transitionCallbacks)),G=$U(W,1,!1,null,null,Z,X,B,J,z,H,null),W[tG]=G.current,u6(W.nodeType===8?W.parentNode:W),new XQ(G)},pE.hydrateRoot=function(W,G,Z){if(!S(W))throw Error("Target container is not a DOM element.");AU(W),G===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var X=!1,B="",J=Iz,z=Dz,H=Pz,T=null,I=null;return Z!==null&&Z!==void 0&&(Z.unstable_strictMode===!0&&(X=!0),Z.identifierPrefix!==void 0&&(B=Z.identifierPrefix),Z.onUncaughtError!==void 0&&(J=Z.onUncaughtError),Z.onCaughtError!==void 0&&(z=Z.onCaughtError),Z.onRecoverableError!==void 0&&(H=Z.onRecoverableError),Z.unstable_transitionCallbacks!==void 0&&(T=Z.unstable_transitionCallbacks),Z.formState!==void 0&&(I=Z.formState)),G=$U(W,1,!0,G,Z!=null?Z:null,X,B,J,z,H,T,I),G.context=zU(null),Z=G.current,X=RW(Z),B=WG(X),B.callback=null,GG(Z,B,X),G.current.lanes=X,y1(G,X),s9(G),W[tG]=G.current,u6(W),new VX(G)},pE.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var e_=B5((Sq,t_)=>{var cE=i(r_(),1);t_.exports=cE});var Yw=B5((Zw)=>{Object.defineProperty(Zw,"__esModule",{value:!0});Zw.parse=rE;Zw.serialize=tE;var lE=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,iE=/^[\u0021-\u003A\u003C-\u007E]*$/,nE=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,sE=/^[\u0020-\u003A\u003D-\u007E]*$/,oE=Object.prototype.toString,aE=(()=>{let Y=function(){};return Y.prototype=Object.create(null),Y})();function rE(Y,Q){let N=new aE,$=Y.length;if($<2)return N;let K=Q?.decode||eE,U=0;do{let _=Y.indexOf("=",U);if(_===-1)break;let L=Y.indexOf(";",U),O=L===-1?$:L;if(_>O){U=Y.lastIndexOf(";",_-1)+1;continue}let V=Ww(Y,U,_),E=Gw(Y,_,V),A=Y.slice(V,E);if(N[A]===void 0){let q=Ww(Y,_+1,O),R=Gw(Y,O,q),M=K(Y.slice(q,R));N[A]=M}U=O+1}while(U<$);return N}function Ww(Y,Q,N){do{let $=Y.charCodeAt(Q);if($!==32&&$!==9)return Q}while(++Q<N);return N}function Gw(Y,Q,N){while(Q>N){let $=Y.charCodeAt(--Q);if($!==32&&$!==9)return Q+1}return N}function tE(Y,Q,N){let $=N?.encode||encodeURIComponent;if(!lE.test(Y))throw new TypeError(`argument name is invalid: ${Y}`);let K=$(Q);if(!iE.test(K))throw new TypeError(`argument val is invalid: ${Q}`);let U=Y+"="+K;if(!N)return U;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);U+="; Max-Age="+N.maxAge}if(N.domain){if(!nE.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);U+="; Domain="+N.domain}if(N.path){if(!sE.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);U+="; Path="+N.path}if(N.expires){if(!WI(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);U+="; Expires="+N.expires.toUTCString()}if(N.httpOnly)U+="; HttpOnly";if(N.secure)U+="; Secure";if(N.partitioned)U+="; Partitioned";if(N.priority)switch(typeof N.priority==="string"?N.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite==="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return U}function eE(Y){if(Y.indexOf("%")===-1)return Y;try{return decodeURIComponent(Y)}catch(Q){return Y}}function WI(Y){return oE.call(Y)==="[object Date]"}});var YV=B5((bP)=>{bP.__esModule=!0;bP.distance=bP.closest=void 0;var p5=new Uint32Array(65536),RP=function(Y,Q){var N=Y.length,$=Q.length,K=1<<N-1,U=-1,_=0,L=N,O=N;while(O--)p5[Y.charCodeAt(O)]|=1<<O;for(O=0;O<$;O++){var V=p5[Q.charCodeAt(O)],E=V|_;if(V|=(V&U)+U^U,_|=~(V|U),U&=V,_&K)L++;if(U&K)L--;_=_<<1|1,U=U<<1|~(E|_),_&=E}O=N;while(O--)p5[Y.charCodeAt(O)]=0;return L},kP=function(Y,Q){var N=Q.length,$=Y.length,K=[],U=[],_=Math.ceil(N/32),L=Math.ceil($/32);for(var O=0;O<_;O++)U[O]=-1,K[O]=0;var V=0;for(;V<L-1;V++){var E=0,A=-1,q=V*32,R=Math.min(32,$)+q;for(var M=q;M<R;M++)p5[Y.charCodeAt(M)]|=1<<M;for(var O=0;O<N;O++){var h=p5[Q.charCodeAt(O)],S=U[O/32|0]>>>O&1,k=K[O/32|0]>>>O&1,f=h|E,l=((h|k)&A)+A^A|h|k,p=E|~(l|A),X0=A&l;if(p>>>31^S)U[O/32|0]^=1<<O;if(X0>>>31^k)K[O/32|0]^=1<<O;p=p<<1|S,X0=X0<<1|k,A=X0|~(f|p),E=p&f}for(var M=q;M<R;M++)p5[Y.charCodeAt(M)]=0}var x0=0,_0=-1,S0=V*32,L0=Math.min(32,$-S0)+S0;for(var M=S0;M<L0;M++)p5[Y.charCodeAt(M)]|=1<<M;var e0=$;for(var O=0;O<N;O++){var h=p5[Q.charCodeAt(O)],S=U[O/32|0]>>>O&1,k=K[O/32|0]>>>O&1,f=h|x0,l=((h|k)&_0)+_0^_0|h|k,p=x0|~(l|_0),X0=_0&l;if(e0+=p>>>$-1&1,e0-=X0>>>$-1&1,p>>>31^S)U[O/32|0]^=1<<O;if(X0>>>31^k)K[O/32|0]^=1<<O;p=p<<1|S,X0=X0<<1|k,_0=X0|~(f|p),x0=p&f}for(var M=S0;M<L0;M++)p5[Y.charCodeAt(M)]=0;return e0},GV=function(Y,Q){if(Y.length<Q.length){var N=Q;Q=Y,Y=N}if(Q.length===0)return Y.length;if(Y.length<=32)return RP(Y,Q);return kP(Y,Q)};bP.distance=GV;var xP=function(Y,Q){var N=1/0,$=0;for(var K=0;K<Q.length;K++){var U=GV(Y,Q[K]);if(U<N)N=U,$=K}return Q[$]};bP.closest=xP});var XV=B5((PN,a4)=>{(function(){var Y;try{Y=typeof Intl!=="undefined"&&typeof Intl.Collator!=="undefined"?Intl.Collator("generic",{sensitivity:"base"}):null}catch(U){console.log("Collator could not be initialized and wouldn't be used")}var Q=YV(),N=[],$=[],K={get:function(U,_,L){var O=L&&Y&&L.useCollator;if(O){var V=U.length,E=_.length;if(V===0)return E;if(E===0)return V;var A,q,R,M,h;for(R=0;R<E;++R)N[R]=R,$[R]=_.charCodeAt(R);N[E]=E;var S;for(R=0;R<V;++R){q=R+1;for(M=0;M<E;++M){if(A=q,S=Y.compare(U.charAt(R),String.fromCharCode($[M]))===0,q=N[M]+(S?0:1),h=A+1,q>h)q=h;if(h=N[M+1]+1,q>h)q=h;N[M]=A}N[M]=q}return q}return Q.distance(U,_)}};if(typeof define!=="undefined"&&define!==null&&define.amd)define(function(){return K});else if(typeof a4!=="undefined"&&a4!==null&&typeof PN!=="undefined"&&a4.exports===PN)a4.exports=K;else if(typeof self!=="undefined"&&typeof self.postMessage==="function"&&typeof self.importScripts==="function")self.Levenshtein=K;else if(typeof window!=="undefined"&&window!==null)window.Levenshtein=K})()});var G0=B5((aj)=>{var sN=i(f0(),1);(function(){function Y(j){if(j==null)return null;if(typeof j==="function")return j.$$typeof===N0?null:j.displayName||j.name||null;if(typeof j==="string")return j;switch(j){case X0:return"Fragment";case p:return"Portal";case _0:return"Profiler";case x0:return"StrictMode";case W1:return"Suspense";case w1:return"SuspenseList"}if(typeof j==="object")switch(typeof j.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),j.$$typeof){case L0:return(j.displayName||"Context")+".Provider";case S0:return(j._context.displayName||"Context")+".Consumer";case e0:var Z0=j.render;return j=j.displayName,j||(j=Z0.displayName||Z0.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case YW:return Z0=j.displayName||null,Z0!==null?Z0:Y(j.type)||"Memo";case W0:Z0=j._payload,j=j._init;try{return Y(j(Z0))}catch(Y0){}}return null}function Q(j){return""+j}function N(j){try{Q(j);var Z0=!1}catch(Q1){Z0=!0}if(Z0){Z0=console;var Y0=Z0.error,k0=typeof Symbol==="function"&&Symbol.toStringTag&&j[Symbol.toStringTag]||j.constructor.name||"Object";return Y0.call(Z0,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",k0),Q(j)}}function $(){}function K(){if(B1===0){u1=console.log,uW=console.info,KW=console.warn,h9=console.error,U9=console.group,pW=console.groupCollapsed,H9=console.groupEnd;var j={configurable:!0,enumerable:!0,value:$,writable:!0};Object.defineProperties(console,{info:j,log:j,warn:j,error:j,group:j,groupCollapsed:j,groupEnd:j})}B1++}function U(){if(B1--,B1===0){var j={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:l0({},j,{value:u1}),info:l0({},j,{value:uW}),warn:l0({},j,{value:KW}),error:l0({},j,{value:h9}),group:l0({},j,{value:U9}),groupCollapsed:l0({},j,{value:pW}),groupEnd:l0({},j,{value:H9})})}0>B1&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function _(j){if(UW===void 0)try{throw Error()}catch(Y0){var Z0=Y0.stack.trim().match(/\n( *(at )?)/);UW=Z0&&Z0[1]||"",y0=-1<Y0.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Y0.stack.indexOf("@")?"@unknown:0:0":""}return`
`+UW+j+y0}function L(j,Z0){if(!j||_9)return"";var Y0=HW.get(j);if(Y0!==void 0)return Y0;_9=!0,Y0=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var k0=null;k0=m0.H,m0.H=null,K();try{var Q1={DetermineComponentFrameRoot:function(){try{if(Z0){var _W=function(){throw Error()};if(Object.defineProperty(_W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(_W,[])}catch(y1){var O9=y1}Reflect.construct(j,[],_W)}else{try{_W.call()}catch(y1){O9=y1}j.call(_W.prototype)}}else{try{throw Error()}catch(y1){O9=y1}(_W=j())&&typeof _W.catch==="function"&&_W.catch(function(){})}}catch(y1){if(y1&&O9&&typeof y1.stack==="string")return[y1.stack,O9.stack]}return[null,null]}};Q1.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s0=Object.getOwnPropertyDescriptor(Q1.DetermineComponentFrameRoot,"name");s0&&s0.configurable&&Object.defineProperty(Q1.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=Q1.DetermineComponentFrameRoot(),T1=a[0],qW=a[1];if(T1&&qW){var G1=T1.split(`
`),cW=qW.split(`
`);for(a=s0=0;s0<G1.length&&!G1[s0].includes("DetermineComponentFrameRoot");)s0++;for(;a<cW.length&&!cW[a].includes("DetermineComponentFrameRoot");)a++;if(s0===G1.length||a===cW.length)for(s0=G1.length-1,a=cW.length-1;1<=s0&&0<=a&&G1[s0]!==cW[a];)a--;for(;1<=s0&&0<=a;s0--,a--)if(G1[s0]!==cW[a]){if(s0!==1||a!==1)do if(s0--,a--,0>a||G1[s0]!==cW[a]){var w9=`
`+G1[s0].replace(" at new "," at ");return j.displayName&&w9.includes("<anonymous>")&&(w9=w9.replace("<anonymous>",j.displayName)),typeof j==="function"&&HW.set(j,w9),w9}while(1<=s0&&0<=a);break}}}finally{_9=!1,m0.H=k0,U(),Error.prepareStackTrace=Y0}return G1=(G1=j?j.displayName||j.name:"")?_(G1):"",typeof j==="function"&&HW.set(j,G1),G1}function O(j){if(j==null)return"";if(typeof j==="function"){var Z0=j.prototype;return L(j,!(!Z0||!Z0.isReactComponent))}if(typeof j==="string")return _(j);switch(j){case W1:return _("Suspense");case w1:return _("SuspenseList")}if(typeof j==="object")switch(j.$$typeof){case e0:return j=L(j.render,!1),j;case YW:return O(j.type);case W0:Z0=j._payload,j=j._init;try{return O(j(Z0))}catch(Y0){}}return""}function V(){var j=m0.A;return j===null?null:j.getOwner()}function E(j){if(n0.call(j,"key")){var Z0=Object.getOwnPropertyDescriptor(j,"key").get;if(Z0&&Z0.isReactWarning)return!1}return j.key!==void 0}function A(j,Z0){function Y0(){xZ||(xZ=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Z0))}Y0.isReactWarning=!0,Object.defineProperty(j,"key",{get:Y0,configurable:!0})}function q(){var j=Y(this.type);return i0[j]||(i0[j]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),j=this.props.ref,j!==void 0?j:null}function R(j,Z0,Y0,k0,Q1,s0){return Y0=s0.ref,j={$$typeof:l,type:j,key:Z0,props:s0,_owner:Q1},(Y0!==void 0?Y0:null)!==null?Object.defineProperty(j,"ref",{enumerable:!1,get:q}):Object.defineProperty(j,"ref",{enumerable:!1,value:null}),j._store={},Object.defineProperty(j._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(j,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(j.props),Object.freeze(j)),j}function M(j,Z0,Y0,k0,Q1,s0){if(typeof j==="string"||typeof j==="function"||j===X0||j===_0||j===x0||j===W1||j===w1||j===t||typeof j==="object"&&j!==null&&(j.$$typeof===W0||j.$$typeof===YW||j.$$typeof===L0||j.$$typeof===S0||j.$$typeof===e0||j.$$typeof===d0||j.getModuleId!==void 0)){var a=Z0.children;if(a!==void 0)if(k0)if(R0(a)){for(k0=0;k0<a.length;k0++)h(a[k0],j);Object.freeze&&Object.freeze(a)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else h(a,j)}else{if(a="",j===void 0||typeof j==="object"&&j!==null&&Object.keys(j).length===0)a+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";j===null?k0="null":R0(j)?k0="array":j!==void 0&&j.$$typeof===l?(k0="<"+(Y(j.type)||"Unknown")+" />",a=" Did you accidentally export a JSX literal instead of a component?"):k0=typeof j,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",k0,a)}if(n0.call(Z0,"key")){a=Y(j);var T1=Object.keys(Z0).filter(function(G1){return G1!=="key"});k0=0<T1.length?"{key: someKey, "+T1.join(": ..., ")+": ...}":"{key: someKey}",kG[a+k0]||(T1=0<T1.length?"{"+T1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,k0,a,T1,a),kG[a+k0]=!0)}if(a=null,Y0!==void 0&&(N(Y0),a=""+Y0),E(Z0)&&(N(Z0.key),a=""+Z0.key),"key"in Z0){Y0={};for(var qW in Z0)qW!=="key"&&(Y0[qW]=Z0[qW])}else Y0=Z0;return a&&A(Y0,typeof j==="function"?j.displayName||j.name||"Unknown":j),R(j,a,s0,Q1,V(),Y0)}function h(j,Z0){if(typeof j==="object"&&j&&j.$$typeof!==H5){if(R0(j))for(var Y0=0;Y0<j.length;Y0++){var k0=j[Y0];S(k0)&&k(k0,Z0)}else if(S(j))j._store&&(j._store.validated=1);else if(j===null||typeof j!=="object"?Y0=null:(Y0=T0&&j[T0]||j["@@iterator"],Y0=typeof Y0==="function"?Y0:null),typeof Y0==="function"&&Y0!==j.entries&&(Y0=Y0.call(j),Y0!==j))for(;!(j=Y0.next()).done;)S(j.value)&&k(j.value,Z0)}}function S(j){return typeof j==="object"&&j!==null&&j.$$typeof===l}function k(j,Z0){if(j._store&&!j._store.validated&&j.key==null&&(j._store.validated=1,Z0=f(Z0),!n5[Z0])){n5[Z0]=!0;var Y0="";j&&j._owner!=null&&j._owner!==V()&&(Y0=null,typeof j._owner.tag==="number"?Y0=Y(j._owner.type):typeof j._owner.name==="string"&&(Y0=j._owner.name),Y0=" It was passed a child from "+Y0+".");var k0=m0.getCurrentStack;m0.getCurrentStack=function(){var Q1=O(j.type);return k0&&(Q1+=k0()||""),Q1},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',Z0,Y0),m0.getCurrentStack=k0}}function f(j){var Z0="",Y0=V();return Y0&&(Y0=Y(Y0.type))&&(Z0=`

Check the render method of \``+Y0+"`."),Z0||(j=Y(j))&&(Z0=`

Check the top-level render call using <`+j+">."),Z0}var l=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),X0=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler");Symbol.for("react.provider");var S0=Symbol.for("react.consumer"),L0=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),w1=Symbol.for("react.suspense_list"),YW=Symbol.for("react.memo"),W0=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),T0=Symbol.iterator,N0=Symbol.for("react.client.reference"),m0=sN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,n0=Object.prototype.hasOwnProperty,l0=Object.assign,d0=Symbol.for("react.client.reference"),R0=Array.isArray,B1=0,u1,uW,KW,h9,U9,pW,H9;$.__reactDisabledLog=!0;var UW,y0,_9=!1,HW=new(typeof WeakMap==="function"?WeakMap:Map),H5=Symbol.for("react.client.reference"),xZ,i0={},kG={},n5={};aj.Fragment=X0,aj.jsxDEV=function(j,Z0,Y0,k0,Q1,s0){return M(j,Z0,Y0,k0,Q1,s0)}})()});var DJ="./logo-tsnr81fk.png";var PJ="./big_star_and_smaller_star_icon-3e20r8j1.png";var jJ="./search_icon-d2d7x7b5.png";var c0=i(f0(),1),tN=i(e_(),1);var I1=i(f0(),1),J5=i(f0(),1),K0=i(f0(),1),U0=i(f0(),1),p0=i(f0(),1),cJ=i(f0(),1);var ZD=i(f0(),1),YD=i(f0(),1),qw=i(f0(),1),XD=i(f0(),1),pw=i(f0(),1),iJ=i(f0(),1),cw=i(f0(),1),lw=i(Yw(),1);var Xw="popstate";function $w(Y={}){function Q($,K){let{pathname:U,search:_,hash:L}=$.location;return RJ("",{pathname:U,search:_,hash:L},K.state&&K.state.usr||null,K.state&&K.state.key||"default")}function N($,K){return typeof K==="string"?K:h7(K)}return XI(Q,N,null,Y)}function K1(Y,Q){if(Y===!1||Y===null||typeof Y==="undefined")throw new Error(Q)}function M9(Y,Q){if(!Y){if(typeof console!=="undefined")console.warn(Q);try{throw new Error(Q)}catch(N){}}}function YI(){return Math.random().toString(36).substring(2,10)}function Bw(Y,Q){return{usr:Y.state,key:Y.key,idx:Q}}function RJ(Y,Q,N=null,$){return{pathname:typeof Y==="string"?Y:Y.pathname,search:"",hash:"",...typeof Q==="string"?DZ(Q):Q,state:N,key:Q&&Q.key||$||YI()}}function h7({pathname:Y="/",search:Q="",hash:N=""}){if(Q&&Q!=="?")Y+=Q.charAt(0)==="?"?Q:"?"+Q;if(N&&N!=="#")Y+=N.charAt(0)==="#"?N:"#"+N;return Y}function DZ(Y){let Q={};if(Y){let N=Y.indexOf("#");if(N>=0)Q.hash=Y.substring(N),Y=Y.substring(0,N);let $=Y.indexOf("?");if($>=0)Q.search=Y.substring($),Y=Y.substring(0,$);if(Y)Q.pathname=Y}return Q}function XI(Y,Q,N,$={}){let{window:K=document.defaultView,v5Compat:U=!1}=$,_=K.history,L="POP",O=null,V=E();if(V==null)V=0,_.replaceState({..._.state,idx:V},"");function E(){return(_.state||{idx:null}).idx}function A(){L="POP";let S=E(),k=S==null?null:S-V;if(V=S,O)O({action:L,location:h.location,delta:k})}function q(S,k){L="PUSH";let f=RJ(h.location,S,k);if(N)N(f,S);V=E()+1;let l=Bw(f,V),p=h.createHref(f);try{_.pushState(l,"",p)}catch(X0){if(X0 instanceof DOMException&&X0.name==="DataCloneError")throw X0;K.location.assign(p)}if(U&&O)O({action:L,location:h.location,delta:1})}function R(S,k){L="REPLACE";let f=RJ(h.location,S,k);if(N)N(f,S);V=E();let l=Bw(f,V),p=h.createHref(f);if(_.replaceState(l,"",p),U&&O)O({action:L,location:h.location,delta:0})}function M(S){let k=K.location.origin!=="null"?K.location.origin:K.location.href,f=typeof S==="string"?S:h7(S);return f=f.replace(/ $/,"%20"),K1(k,`No window.location.(origin|href) available to create URL for href: ${f}`),new URL(f,k)}let h={get action(){return L},get location(){return Y(K,_)},listen(S){if(O)throw new Error("A history only accepts one active listener");return K.addEventListener(Xw,A),O=S,()=>{K.removeEventListener(Xw,A),O=null}},createHref(S){return Q(K,S)},createURL:M,encodeLocation(S){let k=M(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:q,replace:R,go(S){return _.go(S)}};return h}var BI;BI=new WeakMap;function vJ(Y,Q,N="/"){return QI(Y,Q,N,!1)}function QI(Y,Q,N,$){let K=typeof Q==="string"?DZ(Q):Q,U=Q5(K.pathname||"/",N);if(U==null)return null;let _=zw(Y);NI(_);let L=null;for(let O=0;L==null&&O<_.length;++O){let V=TI(U);L=VI(_[O],V,$)}return L}function JI(Y,Q){let{route:N,pathname:$,params:K}=Y;return{id:N.id,pathname:$,params:K,data:Q[N.id],handle:N.handle}}function zw(Y,Q=[],N=[],$=""){let K=(U,_,L)=>{let O={relativePath:L===void 0?U.path||"":L,caseSensitive:U.caseSensitive===!0,childrenIndex:_,route:U};if(O.relativePath.startsWith("/"))K1(O.relativePath.startsWith($),`Absolute route path "${O.relativePath}" nested under path "${$}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice($.length);let V=g5([$,O.relativePath]),E=N.concat(O);if(U.children&&U.children.length>0)K1(U.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${V}".`),zw(U.children,Q,E,V);if(U.path==null&&!U.index)return;Q.push({path:V,score:wI(V,U.index),routesMeta:E})};return Y.forEach((U,_)=>{if(U.path===""||!U.path?.includes("?"))K(U,_);else for(let L of Kw(U.path))K(U,_,L)}),Q}function Kw(Y){let Q=Y.split("/");if(Q.length===0)return[];let[N,...$]=Q,K=N.endsWith("?"),U=N.replace(/\?$/,"");if($.length===0)return K?[U,""]:[U];let _=Kw($.join("/")),L=[];if(L.push(..._.map((O)=>O===""?U:[U,O].join("/"))),K)L.push(..._);return L.map((O)=>Y.startsWith("/")&&O===""?"/":O)}function NI(Y){Y.sort((Q,N)=>Q.score!==N.score?N.score-Q.score:OI(Q.routesMeta.map(($)=>$.childrenIndex),N.routesMeta.map(($)=>$.childrenIndex)))}var $I=/^:[\w-]+$/,zI=3,KI=2,UI=1,HI=10,_I=-2,Qw=(Y)=>Y==="*";function wI(Y,Q){let N=Y.split("/"),$=N.length;if(N.some(Qw))$+=_I;if(Q)$+=KI;return N.filter((K)=>!Qw(K)).reduce((K,U)=>K+($I.test(U)?zI:U===""?UI:HI),$)}function OI(Y,Q){return Y.length===Q.length&&Y.slice(0,-1).every(($,K)=>$===Q[K])?Y[Y.length-1]-Q[Q.length-1]:0}function VI(Y,Q,N=!1){let{routesMeta:$}=Y,K={},U="/",_=[];for(let L=0;L<$.length;++L){let O=$[L],V=L===$.length-1,E=U==="/"?Q:Q.slice(U.length)||"/",A=M4({path:O.relativePath,caseSensitive:O.caseSensitive,end:V},E),q=O.route;if(!A&&V&&N&&!$[$.length-1].route.index)A=M4({path:O.relativePath,caseSensitive:O.caseSensitive,end:!1},E);if(!A)return null;if(Object.assign(K,A.params),_.push({params:K,pathname:g5([U,A.pathname]),pathnameBase:II(g5([U,A.pathnameBase])),route:q}),A.pathnameBase!=="/")U=g5([U,A.pathnameBase])}return _}function M4(Y,Q){if(typeof Y==="string")Y={path:Y,caseSensitive:!1,end:!0};let[N,$]=LI(Y.path,Y.caseSensitive,Y.end),K=Q.match(N);if(!K)return null;let U=K[0],_=U.replace(/(.)\/+$/,"$1"),L=K.slice(1);return{params:$.reduce((V,{paramName:E,isOptional:A},q)=>{if(E==="*"){let M=L[q]||"";_=U.slice(0,U.length-M.length).replace(/(.)\/+$/,"$1")}let R=L[q];if(A&&!R)V[E]=void 0;else V[E]=(R||"").replace(/%2F/g,"/");return V},{}),pathname:U,pathnameBase:_,pattern:Y}}function LI(Y,Q=!1,N=!0){M9(Y==="*"||!Y.endsWith("*")||Y.endsWith("/*"),`Route path "${Y}" will be treated as if it were "${Y.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Y.replace(/\*$/,"/*")}".`);let $=[],K="^"+Y.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,L,O)=>{return $.push({paramName:L,isOptional:O!=null}),O?"/?([^\\/]+)?":"/([^\\/]+)"});if(Y.endsWith("*"))$.push({paramName:"*"}),K+=Y==="*"||Y==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$";else if(N)K+="\\/*$";else if(Y!==""&&Y!=="/")K+="(?:(?=\\/|$))";return[new RegExp(K,Q?void 0:"i"),$]}function TI(Y){try{return Y.split("/").map((Q)=>decodeURIComponent(Q).replace(/\//g,"%2F")).join("/")}catch(Q){return M9(!1,`The URL path "${Y}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Q}).`),Y}}function Q5(Y,Q){if(Q==="/")return Y;if(!Y.toLowerCase().startsWith(Q.toLowerCase()))return null;let N=Q.endsWith("/")?Q.length-1:Q.length,$=Y.charAt(N);if($&&$!=="/")return null;return Y.slice(N)||"/"}function Uw(Y,Q="/"){let{pathname:N,search:$="",hash:K=""}=typeof Y==="string"?DZ(Y):Y;return{pathname:N?N.startsWith("/")?N:AI(N,Q):Q,search:DI($),hash:PI(K)}}function AI(Y,Q){let N=Q.replace(/\/+$/,"").split("/");return Y.split("/").forEach((K)=>{if(K===".."){if(N.length>1)N.pop()}else if(K!==".")N.push(K)}),N.length>1?N.join("/"):"/"}function MJ(Y,Q,N,$){return`Cannot include a '${Y}' character in a manually specified \`to.${Q}\` field [${JSON.stringify($)}].  Please separate it out to the \`to.${N}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EI(Y){return Y.filter((Q,N)=>N===0||Q.route.path&&Q.route.path.length>0)}function Hw(Y){let Q=EI(Y);return Q.map((N,$)=>$===Q.length-1?N.pathname:N.pathnameBase)}function _w(Y,Q,N,$=!1){let K;if(typeof Y==="string")K=DZ(Y);else K={...Y},K1(!K.pathname||!K.pathname.includes("?"),MJ("?","pathname","search",K)),K1(!K.pathname||!K.pathname.includes("#"),MJ("#","pathname","hash",K)),K1(!K.search||!K.search.includes("#"),MJ("#","search","hash",K));let U=Y===""||K.pathname==="",_=U?"/":K.pathname,L;if(_==null)L=N;else{let A=Q.length-1;if(!$&&_.startsWith("..")){let q=_.split("/");while(q[0]==="..")q.shift(),A-=1;K.pathname=q.join("/")}L=A>=0?Q[A]:"/"}let O=Uw(K,L),V=_&&_!=="/"&&_.endsWith("/"),E=(U||_===".")&&N.endsWith("/");if(!O.pathname.endsWith("/")&&(V||E))O.pathname+="/";return O}var g5=(Y)=>Y.join("/").replace(/\/\/+/g,"/"),II=(Y)=>Y.replace(/\/+$/,"").replace(/^\/*/,"/"),DI=(Y)=>!Y||Y==="?"?"":Y.startsWith("?")?Y:"?"+Y,PI=(Y)=>!Y||Y==="#"?"":Y.startsWith("#")?Y:"#"+Y;function ww(Y){return Y!=null&&typeof Y.status==="number"&&typeof Y.statusText==="string"&&typeof Y.internal==="boolean"&&"data"in Y}var Ow=["POST","PUT","PATCH","DELETE"],kq=new Set(Ow),jI=["GET",...Ow],xq=new Set(jI);var bq=Symbol("ResetLoaderData");var PZ=J5.createContext(null);PZ.displayName="DataRouter";var m7=J5.createContext(null);m7.displayName="DataRouterState";var fJ=J5.createContext({isTransitioning:!1});fJ.displayName="ViewTransition";var Vw=J5.createContext(new Map);Vw.displayName="Fetchers";var FI=J5.createContext(null);FI.displayName="Await";var yW=J5.createContext(null);yW.displayName="Navigation";var d7=J5.createContext(null);d7.displayName="Location";var N5=J5.createContext({outlet:null,matches:[],isDataRoute:!1});N5.displayName="Route";var yJ=J5.createContext(null);yJ.displayName="RouteError";var kJ=!0;function Lw(Y,{relative:Q}={}){K1(u7(),"useHref() may be used only in the context of a <Router> component.");let{basename:N,navigator:$}=K0.useContext(yW),{hash:K,pathname:U,search:_}=p7(Y,{relative:Q}),L=U;if(N!=="/")L=U==="/"?N:g5([N,U]);return $.createHref({pathname:L,search:_,hash:K})}function u7(){return K0.useContext(d7)!=null}function $5(){return K1(u7(),"useLocation() may be used only in the context of a <Router> component."),K0.useContext(d7).location}var Tw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Aw(Y){if(!K0.useContext(yW).static)K0.useLayoutEffect(Y)}function Ew(){let{isDataRoute:Y}=K0.useContext(N5);return Y?fI():qI()}function qI(){K1(u7(),"useNavigate() may be used only in the context of a <Router> component.");let Y=K0.useContext(PZ),{basename:Q,navigator:N}=K0.useContext(yW),{matches:$}=K0.useContext(N5),{pathname:K}=$5(),U=JSON.stringify(Hw($)),_=K0.useRef(!1);return Aw(()=>{_.current=!0}),K0.useCallback((O,V={})=>{if(M9(_.current,Tw),!_.current)return;if(typeof O==="number"){N.go(O);return}let E=_w(O,JSON.parse(U),K,V.relative==="path");if(Y==null&&Q!=="/")E.pathname=E.pathname==="/"?Q:g5([Q,E.pathname]);(V.replace?N.replace:N.push)(E,V.state,V)},[Q,N,U,K,Y])}var vq=K0.createContext(null);function p7(Y,{relative:Q}={}){let{matches:N}=K0.useContext(N5),{pathname:$}=$5(),K=JSON.stringify(Hw(N));return K0.useMemo(()=>_w(Y,JSON.parse(K),$,Q==="path"),[Y,K,$,Q])}function Iw(Y,Q){return Dw(Y,Q)}function Dw(Y,Q,N,$){K1(u7(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:K,static:U}=K0.useContext(yW),{matches:_}=K0.useContext(N5),L=_[_.length-1],O=L?L.params:{},V=L?L.pathname:"/",E=L?L.pathnameBase:"/",A=L&&L.route;if(kJ){let f=A&&A.path||"";Fw(V,!A||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let q=$5(),R;if(Q){let f=typeof Q==="string"?DZ(Q):Q;K1(E==="/"||f.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${f.pathname}" was given in the \`location\` prop.`),R=f}else R=q;let M=R.pathname||"/",h=M;if(E!=="/"){let f=E.replace(/^\//,"").split("/");h="/"+M.replace(/^\//,"").split("/").slice(f.length).join("/")}let S=!U&&N&&N.matches&&N.matches.length>0?N.matches:vJ(Y,{pathname:h});if(kJ)M9(A||S!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),M9(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=kI(S&&S.map((f)=>Object.assign({},f,{params:Object.assign({},O,f.params),pathname:g5([E,K.encodeLocation?K.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?E:g5([E,K.encodeLocation?K.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),_,N,$);if(Q&&k)return K0.createElement(d7.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},k);return k}function CI(){let Y=jw(),Q=ww(Y)?`${Y.status} ${Y.statusText}`:Y instanceof Error?Y.message:JSON.stringify(Y),N=Y instanceof Error?Y.stack:null,$="rgba(200,200,200, 0.5)",K={padding:"0.5rem",backgroundColor:$},U={padding:"2px 4px",backgroundColor:$},_=null;if(kJ)console.error("Error handled by React Router default ErrorBoundary:",Y),_=K0.createElement(K0.Fragment,null,K0.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),K0.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K0.createElement("code",{style:U},"ErrorBoundary")," or"," ",K0.createElement("code",{style:U},"errorElement")," prop on your route."));return K0.createElement(K0.Fragment,null,K0.createElement("h2",null,"Unexpected Application Error!"),K0.createElement("h3",{style:{fontStyle:"italic"}},Q),N?K0.createElement("pre",{style:K},N):null,_)}var MI=K0.createElement(CI,null),SI=class extends K0.Component{constructor(Y){super(Y);this.state={location:Y.location,revalidation:Y.revalidation,error:Y.error}}static getDerivedStateFromError(Y){return{error:Y}}static getDerivedStateFromProps(Y,Q){if(Q.location!==Y.location||Q.revalidation!=="idle"&&Y.revalidation==="idle")return{error:Y.error,location:Y.location,revalidation:Y.revalidation};return{error:Y.error!==void 0?Y.error:Q.error,location:Q.location,revalidation:Y.revalidation||Q.revalidation}}componentDidCatch(Y,Q){console.error("React Router caught the following error during render",Y,Q)}render(){return this.state.error!==void 0?K0.createElement(N5.Provider,{value:this.props.routeContext},K0.createElement(yJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RI({routeContext:Y,match:Q,children:N}){let $=K0.useContext(PZ);if($&&$.static&&$.staticContext&&(Q.route.errorElement||Q.route.ErrorBoundary))$.staticContext._deepestRenderedBoundaryId=Q.route.id;return K0.createElement(N5.Provider,{value:Y},N)}function kI(Y,Q=[],N=null,$=null){if(Y==null){if(!N)return null;if(N.errors)Y=N.matches;else if(Q.length===0&&!N.initialized&&N.matches.length>0)Y=N.matches;else return null}let K=Y,U=N?.errors;if(U!=null){let O=K.findIndex((V)=>V.route.id&&U?.[V.route.id]!==void 0);K1(O>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(U).join(",")}`),K=K.slice(0,Math.min(K.length,O+1))}let _=!1,L=-1;if(N)for(let O=0;O<K.length;O++){let V=K[O];if(V.route.HydrateFallback||V.route.hydrateFallbackElement)L=O;if(V.route.id){let{loaderData:E,errors:A}=N,q=V.route.loader&&!E.hasOwnProperty(V.route.id)&&(!A||A[V.route.id]===void 0);if(V.route.lazy||q){if(_=!0,L>=0)K=K.slice(0,L+1);else K=[K[0]];break}}}return K.reduceRight((O,V,E)=>{let A,q=!1,R=null,M=null;if(N){if(A=U&&V.route.id?U[V.route.id]:void 0,R=V.route.errorElement||MI,_){if(L<0&&E===0)Fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,M=null;else if(L===E)q=!0,M=V.route.hydrateFallbackElement||null}}let h=Q.concat(K.slice(0,E+1)),S=()=>{let k;if(A)k=R;else if(q)k=M;else if(V.route.Component)k=K0.createElement(V.route.Component,null);else if(V.route.element)k=V.route.element;else k=O;return K0.createElement(RI,{match:V,routeContext:{outlet:O,matches:h,isDataRoute:N!=null},children:k})};return N&&(V.route.ErrorBoundary||V.route.errorElement||E===0)?K0.createElement(SI,{location:N.location,revalidation:N.revalidation,component:R,error:A,children:S(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):S()},null)}function gJ(Y){return`${Y} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xI(Y){let Q=K0.useContext(PZ);return K1(Q,gJ(Y)),Q}function hJ(Y){let Q=K0.useContext(m7);return K1(Q,gJ(Y)),Q}function bI(Y){let Q=K0.useContext(N5);return K1(Q,gJ(Y)),Q}function mJ(Y){let Q=bI(Y),N=Q.matches[Q.matches.length-1];return K1(N.route.id,`${Y} can only be used on routes that contain a unique "id"`),N.route.id}function vI(){return mJ("useRouteId")}function Pw(){return hJ("useNavigation").navigation}function dJ(){let{matches:Y,loaderData:Q}=hJ("useMatches");return K0.useMemo(()=>Y.map((N)=>JI(N,Q)),[Y,Q])}function jw(){let Y=K0.useContext(yJ),Q=hJ("useRouteError"),N=mJ("useRouteError");if(Y!==void 0)return Y;return Q.errors?.[N]}function fI(){let{router:Y}=xI("useNavigate"),Q=mJ("useNavigate"),N=K0.useRef(!1);return Aw(()=>{N.current=!0}),K0.useCallback(async(K,U={})=>{if(M9(N.current,Tw),!N.current)return;if(typeof K==="number")Y.navigate(K);else await Y.navigate(K,{fromRouteId:Q,...U})},[Y,Q])}var Jw={};function Fw(Y,Q,N){if(!Q&&!Jw[Y])Jw[Y]=!0,M9(!1,N)}var fq=I1.memo(yI);function yI({routes:Y,future:Q,state:N}){return Dw(Y,void 0,N,Q)}function S4(Y){K1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uJ({basename:Y="/",children:Q=null,location:N,navigationType:$="POP",navigator:K,static:U=!1}){K1(!u7(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=Y.replace(/^\/*/,"/"),L=I1.useMemo(()=>({basename:_,navigator:K,static:U,future:{}}),[_,K,U]);if(typeof N==="string")N=DZ(N);let{pathname:O="/",search:V="",hash:E="",state:A=null,key:q="default"}=N,R=I1.useMemo(()=>{let M=Q5(O,_);if(M==null)return null;return{location:{pathname:M,search:V,hash:E,state:A,key:q},navigationType:$}},[_,O,V,E,A,q,$]);if(M9(R!=null,`<Router basename="${_}"> is not able to match the URL "${O}${V}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null)return null;return I1.createElement(yW.Provider,{value:L},I1.createElement(d7.Provider,{children:Q,value:R}))}function V2({children:Y,location:Q}){return Iw(O2(Y),Q)}function O2(Y,Q=[]){let N=[];return I1.Children.forEach(Y,($,K)=>{if(!I1.isValidElement($))return;let U=[...Q,K];if($.type===I1.Fragment){N.push.apply(N,O2($.props.children,U));return}K1($.type===S4,`[${typeof $.type==="string"?$.type:$.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),K1(!$.props.index||!$.props.children,"An index route cannot have child routes.");let _={id:$.props.id||U.join("-"),caseSensitive:$.props.caseSensitive,element:$.props.element,Component:$.props.Component,index:$.props.index,path:$.props.path,loader:$.props.loader,action:$.props.action,hydrateFallbackElement:$.props.hydrateFallbackElement,HydrateFallback:$.props.HydrateFallback,errorElement:$.props.errorElement,ErrorBoundary:$.props.ErrorBoundary,hasErrorBoundary:$.props.hasErrorBoundary===!0||$.props.ErrorBoundary!=null||$.props.errorElement!=null,shouldRevalidate:$.props.shouldRevalidate,handle:$.props.handle,lazy:$.props.lazy};if($.props.children)_.children=O2($.props.children,U);N.push(_)}),N}var _2="get",w2="application/x-www-form-urlencoded";function L2(Y){return Y!=null&&typeof Y.tagName==="string"}function gI(Y){return L2(Y)&&Y.tagName.toLowerCase()==="button"}function hI(Y){return L2(Y)&&Y.tagName.toLowerCase()==="form"}function mI(Y){return L2(Y)&&Y.tagName.toLowerCase()==="input"}function dI(Y){return!!(Y.metaKey||Y.altKey||Y.ctrlKey||Y.shiftKey)}function uI(Y,Q){return Y.button===0&&(!Q||Q==="_self")&&!dI(Y)}var U2=null;function pI(){if(U2===null)try{new FormData(document.createElement("form"),0),U2=!1}catch(Y){U2=!0}return U2}var cI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function SJ(Y){if(Y!=null&&!cI.has(Y))return M9(!1,`"${Y}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w2}"`),null;return Y}function lI(Y,Q){let N,$,K,U,_;if(hI(Y)){let L=Y.getAttribute("action");$=L?Q5(L,Q):null,N=Y.getAttribute("method")||_2,K=SJ(Y.getAttribute("enctype"))||w2,U=new FormData(Y)}else if(gI(Y)||mI(Y)&&(Y.type==="submit"||Y.type==="image")){let L=Y.form;if(L==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let O=Y.getAttribute("formaction")||L.getAttribute("action");if($=O?Q5(O,Q):null,N=Y.getAttribute("formmethod")||L.getAttribute("method")||_2,K=SJ(Y.getAttribute("formenctype"))||SJ(L.getAttribute("enctype"))||w2,U=new FormData(L,Y),!pI()){let{name:V,type:E,value:A}=Y;if(E==="image"){let q=V?`${V}.`:"";U.append(`${q}x`,"0"),U.append(`${q}y`,"0")}else if(V)U.append(V,A)}}else if(L2(Y))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else N=_2,$=null,K=w2,_=Y;if(U&&K==="text/plain")_=U,U=void 0;return{action:$,method:N.toLowerCase(),encType:K,formData:U,body:_}}function pJ(Y,Q){if(Y===!1||Y===null||typeof Y==="undefined")throw new Error(Q)}async function iI(Y,Q){if(Y.id in Q)return Q[Y.id];try{let N=await import(Y.module);return Q[Y.id]=N,N}catch(N){if(console.error(`Error loading route module \`${Y.module}\`, reloading page...`),console.error(N),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw N;return window.location.reload(),new Promise(()=>{})}}function nI(Y){return Y!=null&&typeof Y.page==="string"}function sI(Y){if(Y==null)return!1;if(Y.href==null)return Y.rel==="preload"&&typeof Y.imageSrcSet==="string"&&typeof Y.imageSizes==="string";return typeof Y.rel==="string"&&typeof Y.href==="string"}async function oI(Y,Q,N){let $=await Promise.all(Y.map(async(K)=>{let U=Q.routes[K.route.id];if(U){let _=await iI(U,N);return _.links?_.links():[]}return[]}));return eI($.flat(1).filter(sI).filter((K)=>K.rel==="stylesheet"||K.rel==="preload").map((K)=>K.rel==="stylesheet"?{...K,rel:"prefetch",as:"style"}:{...K,rel:"prefetch"}))}function Nw(Y,Q,N,$,K,U){let _=(O,V)=>{if(!N[V])return!0;return O.route.id!==N[V].route.id},L=(O,V)=>{return N[V].pathname!==O.pathname||N[V].route.path?.endsWith("*")&&N[V].params["*"]!==O.params["*"]};if(U==="assets")return Q.filter((O,V)=>_(O,V)||L(O,V));if(U==="data")return Q.filter((O,V)=>{let E=$.routes[O.route.id];if(!E||!E.hasLoader)return!1;if(_(O,V)||L(O,V))return!0;if(O.route.shouldRevalidate){let A=O.route.shouldRevalidate({currentUrl:new URL(K.pathname+K.search+K.hash,window.origin),currentParams:N[0]?.params||{},nextUrl:new URL(Y,window.origin),nextParams:O.params,defaultShouldRevalidate:!0});if(typeof A==="boolean")return A}return!0});return[]}function aI(Y,Q,{includeHydrateFallback:N}={}){return rI(Y.map(($)=>{let K=Q.routes[$.route.id];if(!K)return[];let U=[K.module];if(K.clientActionModule)U=U.concat(K.clientActionModule);if(K.clientLoaderModule)U=U.concat(K.clientLoaderModule);if(N&&K.hydrateFallbackModule)U=U.concat(K.hydrateFallbackModule);if(K.imports)U=U.concat(K.imports);return U}).flat(1))}function rI(Y){return[...new Set(Y)]}function tI(Y){let Q={},N=Object.keys(Y).sort();for(let $ of N)Q[$]=Y[$];return Q}function eI(Y,Q){let N=new Set,$=new Set(Q);return Y.reduce((K,U)=>{if(Q&&!nI(U)&&U.as==="script"&&U.href&&$.has(U.href))return K;let L=JSON.stringify(tI(U));if(!N.has(L))N.add(L),K.push({key:L,link:U});return K},[])}var WD=Symbol("SingleFetchRedirect");function GD(Y,Q){let N=typeof Y==="string"?new URL(Y,typeof window==="undefined"?"server://singlefetch/":window.location.origin):Y;if(N.pathname==="/")N.pathname="_root.data";else if(Q&&Q5(N.pathname,Q)==="/")N.pathname=`${Q.replace(/\/$/,"")}/_root.data`;else N.pathname=`${N.pathname.replace(/\/$/,"")}.data`;return N}function Cw(){let Y=p0.useContext(PZ);return pJ(Y,"You must render this element inside a <DataRouterContext.Provider> element"),Y}function BD(){let Y=p0.useContext(m7);return pJ(Y,"You must render this element inside a <DataRouterStateContext.Provider> element"),Y}var R4=p0.createContext(void 0);R4.displayName="FrameworkContext";function Mw(){let Y=p0.useContext(R4);return pJ(Y,"You must render this element inside a <HydratedRouter> element"),Y}function QD(Y,Q){let N=p0.useContext(R4),[$,K]=p0.useState(!1),[U,_]=p0.useState(!1),{onFocus:L,onBlur:O,onMouseEnter:V,onMouseLeave:E,onTouchStart:A}=Q,q=p0.useRef(null);p0.useEffect(()=>{if(Y==="render")_(!0);if(Y==="viewport"){let S=new IntersectionObserver((k)=>{k.forEach((f)=>{_(f.isIntersecting)})},{threshold:0.5});if(q.current)S.observe(q.current);return()=>{S.disconnect()}}},[Y]),p0.useEffect(()=>{if($){let h=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(h)}}},[$]);let R=()=>{K(!0)},M=()=>{K(!1),_(!1)};if(!N)return[!1,q,{}];if(Y!=="intent")return[U,q,{}];return[U,q,{onFocus:C4(L,R),onBlur:C4(O,M),onMouseEnter:C4(V,R),onMouseLeave:C4(E,M),onTouchStart:C4(A,R)}]}function C4(Y,Q){return(N)=>{if(Y&&Y(N),!N.defaultPrevented)Q(N)}}function Sw({page:Y,...Q}){let{router:N}=Cw(),$=p0.useMemo(()=>vJ(N.routes,Y,N.basename),[N.routes,Y,N.basename]);if(!$)return null;return p0.createElement(ND,{page:Y,matches:$,...Q})}function JD(Y){let{manifest:Q,routeModules:N}=Mw(),[$,K]=p0.useState([]);return p0.useEffect(()=>{let U=!1;return oI(Y,Q,N).then((_)=>{if(!U)K(_)}),()=>{U=!0}},[Y,Q,N]),$}function ND({page:Y,matches:Q,...N}){let $=$5(),{manifest:K,routeModules:U}=Mw(),{basename:_}=Cw(),{loaderData:L,matches:O}=BD(),V=p0.useMemo(()=>Nw(Y,Q,O,K,$,"data"),[Y,Q,O,K,$]),E=p0.useMemo(()=>Nw(Y,Q,O,K,$,"assets"),[Y,Q,O,K,$]),A=p0.useMemo(()=>{if(Y===$.pathname+$.search+$.hash)return[];let M=new Set,h=!1;if(Q.forEach((k)=>{let f=K.routes[k.route.id];if(!f||!f.hasLoader)return;if(!V.some((l)=>l.route.id===k.route.id)&&k.route.id in L&&U[k.route.id]?.shouldRevalidate)h=!0;else if(f.hasClientLoader)h=!0;else M.add(k.route.id)}),M.size===0)return[];let S=GD(Y,_);if(h&&M.size>0)S.searchParams.set("_routes",Q.filter((k)=>M.has(k.route.id)).map((k)=>k.route.id).join(","));return[S.pathname+S.search]},[_,L,$,K,V,Q,Y,U]),q=p0.useMemo(()=>aI(E,K),[E,K]),R=JD(E);return p0.createElement(p0.Fragment,null,A.map((M)=>p0.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...N})),q.map((M)=>p0.createElement("link",{key:M,rel:"modulepreload",href:M,...N})),R.map(({key:M,link:h})=>p0.createElement("link",{key:M,...h})))}function $D(...Y){return(Q)=>{Y.forEach((N)=>{if(typeof N==="function")N(Q);else if(N!=null)N.current=Q})}}var Rw=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined";try{if(Rw)window.__reactRouterVersion="7.3.0"}catch(Y){}function T2({basename:Y,children:Q,window:N}){let $=U0.useRef();if($.current==null)$.current=$w({window:N,v5Compat:!0});let K=$.current,[U,_]=U0.useState({action:K.action,location:K.location}),L=U0.useCallback((O)=>{U0.startTransition(()=>_(O))},[_]);return U0.useLayoutEffect(()=>K.listen(L),[K,L]),U0.createElement(uJ,{basename:Y,children:Q,location:U.location,navigationType:U.action,navigator:K})}function kw({basename:Y,children:Q,history:N}){let[$,K]=U0.useState({action:N.action,location:N.location}),U=U0.useCallback((_)=>{U0.startTransition(()=>K(_))},[K]);return U0.useLayoutEffect(()=>N.listen(U),[N,U]),U0.createElement(uJ,{basename:Y,children:Q,location:$.location,navigationType:$.action,navigator:N})}kw.displayName="unstable_HistoryRouter";var xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DW=U0.forwardRef(function Y({onClick:Q,discover:N="render",prefetch:$="none",relative:K,reloadDocument:U,replace:_,state:L,target:O,to:V,preventScrollReset:E,viewTransition:A,...q},R){let{basename:M}=U0.useContext(yW),h=typeof V==="string"&&xw.test(V),S,k=!1;if(typeof V==="string"&&h){if(S=V,Rw)try{let L0=new URL(window.location.href),e0=V.startsWith("//")?new URL(L0.protocol+V):new URL(V),W1=Q5(e0.pathname,M);if(e0.origin===L0.origin&&W1!=null)V=W1+e0.search+e0.hash;else k=!0}catch(L0){M9(!1,`<Link to="${V}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}}let f=Lw(V,{relative:K}),[l,p,X0]=QD($,q),x0=gw(V,{replace:_,state:L,target:O,preventScrollReset:E,relative:K,viewTransition:A});function _0(L0){if(Q)Q(L0);if(!L0.defaultPrevented)x0(L0)}let S0=U0.createElement("a",{...q,...X0,href:S||f,onClick:k||U?Q:_0,ref:$D(R,p),target:O,"data-discover":!h&&N==="render"?"true":void 0});return l&&!h?U0.createElement(U0.Fragment,null,S0,U0.createElement(Sw,{page:f})):S0});DW.displayName="Link";var bw=U0.forwardRef(function Y({"aria-current":Q="page",caseSensitive:N=!1,className:$="",end:K=!1,style:U,to:_,viewTransition:L,children:O,...V},E){let A=p7(_,{relative:V.relative}),q=$5(),R=U0.useContext(m7),{navigator:M,basename:h}=U0.useContext(yW),S=R!=null&&uw(A)&&L===!0,k=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,f=q.pathname,l=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;if(!N)f=f.toLowerCase(),l=l?l.toLowerCase():null,k=k.toLowerCase();if(l&&h)l=Q5(l,h)||l;let p=k!=="/"&&k.endsWith("/")?k.length-1:k.length,X0=f===k||!K&&f.startsWith(k)&&f.charAt(p)==="/",x0=l!=null&&(l===k||!K&&l.startsWith(k)&&l.charAt(k.length)==="/"),_0={isActive:X0,isPending:x0,isTransitioning:S},S0=X0?Q:void 0,L0;if(typeof $==="function")L0=$(_0);else L0=[$,X0?"active":null,x0?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let e0=typeof U==="function"?U(_0):U;return U0.createElement(DW,{...V,"aria-current":S0,className:L0,ref:E,style:e0,to:_,viewTransition:L},typeof O==="function"?O(_0):O)});bw.displayName="NavLink";var vw=U0.forwardRef(({discover:Y="render",fetcherKey:Q,navigate:N,reloadDocument:$,replace:K,state:U,method:_=_2,action:L,onSubmit:O,relative:V,preventScrollReset:E,viewTransition:A,...q},R)=>{let M=hw(),h=mw(L,{relative:V}),S=_.toLowerCase()==="get"?"get":"post",k=typeof L==="string"&&xw.test(L);return U0.createElement("form",{ref:R,method:S,action:h,onSubmit:$?O:(l)=>{if(O&&O(l),l.defaultPrevented)return;l.preventDefault();let p=l.nativeEvent.submitter,X0=p?.getAttribute("formmethod")||_;M(p||l.currentTarget,{fetcherKey:Q,method:X0,navigate:N,replace:K,state:U,relative:V,preventScrollReset:E,viewTransition:A})},...q,"data-discover":!k&&Y==="render"?"true":void 0})});vw.displayName="Form";function fw({getKey:Y,storageKey:Q,...N}){let $=U0.useContext(R4),{basename:K}=U0.useContext(yW),U=$5(),_=dJ();dw({getKey:Y,storageKey:Q});let L=U0.useMemo(()=>{if(!$||!Y)return null;let V=bJ(U,_,K,Y);return V!==U.key?V:null},[]);if(!$||$.isSpaMode)return null;let O=((V,E)=>{if(!window.history.state||!window.history.state.key){let A=Math.random().toString(32).slice(2);window.history.replaceState({key:A},"")}try{let q=JSON.parse(sessionStorage.getItem(V)||"{}")[E||window.history.state.key];if(typeof q==="number")window.scrollTo(0,q)}catch(A){console.error(A),sessionStorage.removeItem(V)}}).toString();return U0.createElement("script",{...N,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${O})(${JSON.stringify(Q||xJ)}, ${JSON.stringify(L)})`}})}fw.displayName="ScrollRestoration";function yw(Y){return`${Y} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lJ(Y){let Q=U0.useContext(PZ);return K1(Q,yw(Y)),Q}function zD(Y){let Q=U0.useContext(m7);return K1(Q,yw(Y)),Q}function gw(Y,{target:Q,replace:N,state:$,preventScrollReset:K,relative:U,viewTransition:_}={}){let L=Ew(),O=$5(),V=p7(Y,{relative:U});return U0.useCallback((E)=>{if(uI(E,Q)){E.preventDefault();let A=N!==void 0?N:h7(O)===h7(V);L(Y,{replace:A,state:$,preventScrollReset:K,relative:U,viewTransition:_})}},[O,L,V,N,$,Q,Y,K,U,_])}var KD=0,UD=()=>`__${String(++KD)}__`;function hw(){let{router:Y}=lJ("useSubmit"),{basename:Q}=U0.useContext(yW),N=vI();return U0.useCallback(async($,K={})=>{let{action:U,method:_,encType:L,formData:O,body:V}=lI($,Q);if(K.navigate===!1){let E=K.fetcherKey||UD();await Y.fetch(E,N,K.action||U,{preventScrollReset:K.preventScrollReset,formData:O,body:V,formMethod:K.method||_,formEncType:K.encType||L,flushSync:K.flushSync})}else await Y.navigate(K.action||U,{preventScrollReset:K.preventScrollReset,formData:O,body:V,formMethod:K.method||_,formEncType:K.encType||L,replace:K.replace,state:K.state,fromRouteId:N,flushSync:K.flushSync,viewTransition:K.viewTransition})},[Y,Q,N])}function mw(Y,{relative:Q}={}){let{basename:N}=U0.useContext(yW),$=U0.useContext(N5);K1($,"useFormAction must be used inside a RouteContext");let[K]=$.matches.slice(-1),U={...p7(Y?Y:".",{relative:Q})},_=$5();if(Y==null){U.search=_.search;let L=new URLSearchParams(U.search),O=L.getAll("index");if(O.some((E)=>E==="")){L.delete("index"),O.filter((A)=>A).forEach((A)=>L.append("index",A));let E=L.toString();U.search=E?`?${E}`:""}}if((!Y||Y===".")&&K.route.index)U.search=U.search?U.search.replace(/^\?/,"?index&"):"?index";if(N!=="/")U.pathname=U.pathname==="/"?N:g5([N,U.pathname]);return h7(U)}var xJ="react-router-scroll-positions",H2={};function bJ(Y,Q,N,$){let K=null;if($)if(N!=="/")K=$({...Y,pathname:Q5(Y.pathname,N)||Y.pathname},Q);else K=$(Y,Q);if(K==null)K=Y.key;return K}function dw({getKey:Y,storageKey:Q}={}){let{router:N}=lJ("useScrollRestoration"),{restoreScrollPosition:$,preventScrollReset:K}=zD("useScrollRestoration"),{basename:U}=U0.useContext(yW),_=$5(),L=dJ(),O=Pw();if(U0.useEffect(()=>{return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}},[]),HD(U0.useCallback(()=>{if(O.state==="idle"){let V=bJ(_,L,U,Y);H2[V]=window.scrollY}try{sessionStorage.setItem(Q||xJ,JSON.stringify(H2))}catch(V){M9(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${V}).`)}window.history.scrollRestoration="auto"},[O.state,Y,U,_,L,Q])),typeof document!=="undefined")U0.useLayoutEffect(()=>{try{let V=sessionStorage.getItem(Q||xJ);if(V)H2=JSON.parse(V)}catch(V){}},[Q]),U0.useLayoutEffect(()=>{let V=N?.enableScrollRestoration(H2,()=>window.scrollY,Y?(E,A)=>bJ(E,A,U,Y):void 0);return()=>V&&V()},[N,U,Y]),U0.useLayoutEffect(()=>{if($===!1)return;if(typeof $==="number"){window.scrollTo(0,$);return}if(_.hash){let V=document.getElementById(decodeURIComponent(_.hash.slice(1)));if(V){V.scrollIntoView();return}}if(K===!0)return;window.scrollTo(0,0)},[_,$,K])}function HD(Y,Q){let{capture:N}=Q||{};U0.useEffect(()=>{let $=N!=null?{capture:N}:void 0;return window.addEventListener("pagehide",Y,$),()=>{window.removeEventListener("pagehide",Y,$)}},[Y,N])}function uw(Y,Q={}){let N=U0.useContext(fJ);K1(N!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:$}=lJ("useViewTransitionState"),K=p7(Y,{relative:Q.relative});if(!N.isTransitioning)return!1;let U=Q5(N.currentLocation.pathname,$)||N.currentLocation.pathname,_=Q5(N.nextLocation.pathname,$)||N.nextLocation.pathname;return M4(K.pathname,_)!=null||M4(K.pathname,U)!=null}var sJ=x4(),H0=(Y)=>k4(Y,sJ),oJ=x4();H0.write=(Y)=>k4(Y,oJ);var A2=x4();H0.onStart=(Y)=>k4(Y,A2);var aJ=x4();H0.onFrame=(Y)=>k4(Y,aJ);var rJ=x4();H0.onFinish=(Y)=>k4(Y,rJ);var c7=[];H0.setTimeout=(Y,Q)=>{let N=H0.now()+Q,$=()=>{let U=c7.findIndex((_)=>_.cancel==$);if(~U)c7.splice(U,1);jG-=~U?1:0},K={time:N,handler:Y,cancel:$};return c7.splice(iw(N),0,K),jG+=1,nw(),K};var iw=(Y)=>~(~c7.findIndex((Q)=>Q.time>Y)||~c7.length);H0.cancel=(Y)=>{A2.delete(Y),aJ.delete(Y),rJ.delete(Y),sJ.delete(Y),oJ.delete(Y)};H0.sync=(Y)=>{nJ=!0,H0.batchedUpdates(Y),nJ=!1};H0.throttle=(Y)=>{let Q;function N(){try{Y(...Q)}finally{Q=null}}function $(...K){Q=K,H0.onStart(N)}return $.handler=Y,$.cancel=()=>{A2.delete(N),Q=null},$};var tJ=typeof window!="undefined"?window.requestAnimationFrame:()=>{};H0.use=(Y)=>tJ=Y;H0.now=typeof performance!="undefined"?()=>performance.now():Date.now;H0.batchedUpdates=(Y)=>Y();H0.catch=console.error;H0.frameLoop="always";H0.advance=()=>{if(H0.frameLoop!=="demand")console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand");else ow()};var PG=-1,jG=0,nJ=!1;function k4(Y,Q){if(nJ)Q.delete(Y),Y(0);else Q.add(Y),nw()}function nw(){if(PG<0){if(PG=0,H0.frameLoop!=="demand")tJ(sw)}}function _D(){PG=-1}function sw(){if(~PG)tJ(sw),H0.batchedUpdates(ow)}function ow(){let Y=PG;PG=H0.now();let Q=iw(PG);if(Q)aw(c7.splice(0,Q),(N)=>N.handler()),jG-=Q;if(!jG){_D();return}A2.flush(),sJ.flush(Y?Math.min(64,PG-Y):16.667),aJ.flush(),oJ.flush(),rJ.flush()}function x4(){let Y=new Set,Q=Y;return{add(N){jG+=Q==Y&&!Y.has(N)?1:0,Y.add(N)},delete(N){return jG-=Q==Y&&Y.has(N)?1:0,Y.delete(N)},flush(N){if(Q.size)Y=new Set,jG-=Q.size,aw(Q,($)=>$(N)&&Y.add($)),jG+=Y.size,Q=Y}}}function aw(Y,Q){Y.forEach((N)=>{try{Q(N)}catch($){H0.catch($)}})}var dD=i(f0(),1),wO=i(f0(),1),OO=i(f0(),1),x2=i(f0(),1),n7=i(f0(),1),LO=i(f0(),1),b2=i(f0(),1),lD=i(f0(),1);var wD=Object.defineProperty,OD=(Y,Q)=>{for(var N in Q)wD(Y,N,{get:Q[N],enumerable:!0})},x1={};OD(x1,{assign:()=>VD,colors:()=>FG,createStringInterpolator:()=>XN,skipAnimation:()=>JO,to:()=>QO,willAdvance:()=>BN});function C2(){}var BO=(Y,Q,N)=>Object.defineProperty(Y,Q,{value:N,writable:!0,configurable:!0}),n={arr:Array.isArray,obj:(Y)=>!!Y&&Y.constructor.name==="Object",fun:(Y)=>typeof Y==="function",str:(Y)=>typeof Y==="string",num:(Y)=>typeof Y==="number",und:(Y)=>Y===void 0};function R9(Y,Q){if(n.arr(Y)){if(!n.arr(Q)||Y.length!==Q.length)return!1;for(let N=0;N<Y.length;N++)if(Y[N]!==Q[N])return!1;return!0}return Y===Q}var w0=(Y,Q)=>Y.forEach(Q);function a1(Y,Q,N){if(n.arr(Y)){for(let $=0;$<Y.length;$++)Q.call(N,Y[$],`${$}`);return}for(let $ in Y)if(Y.hasOwnProperty($))Q.call(N,Y[$],$)}var b1=(Y)=>n.und(Y)?[]:n.arr(Y)?Y:[Y];function jZ(Y,Q){if(Y.size){let N=Array.from(Y);Y.clear(),w0(N,Q)}}var FZ=(Y,...Q)=>jZ(Y,(N)=>N(...Q)),YN=()=>typeof window==="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),XN,QO,FG=null,JO=!1,BN=C2,VD=(Y)=>{if(Y.to)QO=Y.to;if(Y.now)H0.now=Y.now;if(Y.colors!==void 0)FG=Y.colors;if(Y.skipAnimation!=null)JO=Y.skipAnimation;if(Y.createStringInterpolator)XN=Y.createStringInterpolator;if(Y.requestAnimationFrame)H0.use(Y.requestAnimationFrame);if(Y.batchedUpdates)H0.batchedUpdates=Y.batchedUpdates;if(Y.willAdvance)BN=Y.willAdvance;if(Y.frameLoop)H0.frameLoop=Y.frameLoop},b4=new Set,N9=[],eJ=[],j2=0,h5={get idle(){return!b4.size&&!N9.length},start(Y){if(j2>Y.priority)b4.add(Y),H0.onStart(LD);else NO(Y),H0(ZN)},advance:ZN,sort(Y){if(j2)H0.onFrame(()=>h5.sort(Y));else{let Q=N9.indexOf(Y);if(~Q)N9.splice(Q,1),$O(Y)}},clear(){N9=[],b4.clear()}};function LD(){b4.forEach(NO),b4.clear(),H0(ZN)}function NO(Y){if(!N9.includes(Y))$O(Y)}function $O(Y){N9.splice(TD(N9,(Q)=>Q.priority>Y.priority),0,Y)}function ZN(Y){let Q=eJ;for(let N=0;N<N9.length;N++){let $=N9[N];if(j2=$.priority,!$.idle){if(BN($),$.advance(Y),!$.idle)Q.push($)}}return j2=0,eJ=N9,eJ.length=0,N9=Q,N9.length>0}function TD(Y,Q){let N=Y.findIndex(Q);return N<0?Y.length:N}var AD=(Y,Q,N)=>Math.min(Math.max(N,Y),Q),zO={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},S9="[-+]?\\d*\\.?\\d+",F2=S9+"%";function M2(...Y){return"\\(\\s*("+Y.join(")\\s*,\\s*(")+")\\s*\\)"}var ED=new RegExp("rgb"+M2(S9,S9,S9)),ID=new RegExp("rgba"+M2(S9,S9,S9,S9)),DD=new RegExp("hsl"+M2(S9,F2,F2)),PD=new RegExp("hsla"+M2(S9,F2,F2,S9)),jD=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,FD=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,qD=/^#([0-9a-fA-F]{6})$/,CD=/^#([0-9a-fA-F]{8})$/;function MD(Y){let Q;if(typeof Y==="number")return Y>>>0===Y&&Y>=0&&Y<=4294967295?Y:null;if(Q=qD.exec(Y))return parseInt(Q[1]+"ff",16)>>>0;if(FG&&FG[Y]!==void 0)return FG[Y];if(Q=ED.exec(Y))return(l7(Q[1])<<24|l7(Q[2])<<16|l7(Q[3])<<8|255)>>>0;if(Q=ID.exec(Y))return(l7(Q[1])<<24|l7(Q[2])<<16|l7(Q[3])<<8|ew(Q[4]))>>>0;if(Q=jD.exec(Y))return parseInt(Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]+"ff",16)>>>0;if(Q=CD.exec(Y))return parseInt(Q[1],16)>>>0;if(Q=FD.exec(Y))return parseInt(Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]+Q[4]+Q[4],16)>>>0;if(Q=DD.exec(Y))return(rw(tw(Q[1]),E2(Q[2]),E2(Q[3]))|255)>>>0;if(Q=PD.exec(Y))return(rw(tw(Q[1]),E2(Q[2]),E2(Q[3]))|ew(Q[4]))>>>0;return null}function WN(Y,Q,N){if(N<0)N+=1;if(N>1)N-=1;if(N<0.16666666666666666)return Y+(Q-Y)*6*N;if(N<0.5)return Q;if(N<0.6666666666666666)return Y+(Q-Y)*(0.6666666666666666-N)*6;return Y}function rw(Y,Q,N){let $=N<0.5?N*(1+Q):N+Q-N*Q,K=2*N-$,U=WN(K,$,Y+0.3333333333333333),_=WN(K,$,Y),L=WN(K,$,Y-0.3333333333333333);return Math.round(U*255)<<24|Math.round(_*255)<<16|Math.round(L*255)<<8}function l7(Y){let Q=parseInt(Y,10);if(Q<0)return 0;if(Q>255)return 255;return Q}function tw(Y){return(parseFloat(Y)%360+360)%360/360}function ew(Y){let Q=parseFloat(Y);if(Q<0)return 0;if(Q>1)return 255;return Math.round(Q*255)}function E2(Y){let Q=parseFloat(Y);if(Q<0)return 0;if(Q>100)return 1;return Q/100}function WO(Y){let Q=MD(Y);if(Q===null)return Y;Q=Q||0;let N=(Q&4278190080)>>>24,$=(Q&16711680)>>>16,K=(Q&65280)>>>8,U=(Q&255)/255;return`rgba(${N}, ${$}, ${K}, ${U})`}var qG=(Y,Q,N)=>{if(n.fun(Y))return Y;if(n.arr(Y))return qG({range:Y,output:Q,extrapolate:N});if(n.str(Y.output[0]))return XN(Y);let $=Y,K=$.output,U=$.range||[0,1],_=$.extrapolateLeft||$.extrapolate||"extend",L=$.extrapolateRight||$.extrapolate||"extend",O=$.easing||((V)=>V);return(V)=>{let E=RD(V,U);return SD(V,U[E],U[E+1],K[E],K[E+1],O,_,L,$.map)}};function SD(Y,Q,N,$,K,U,_,L,O){let V=O?O(Y):Y;if(V<Q){if(_==="identity")return V;else if(_==="clamp")V=Q}if(V>N){if(L==="identity")return V;else if(L==="clamp")V=N}if($===K)return $;if(Q===N)return Y<=Q?$:K;if(Q===-1/0)V=-V;else if(N===1/0)V=V-Q;else V=(V-Q)/(N-Q);if(V=U(V),$===-1/0)V=-V;else if(K===1/0)V=V+$;else V=V*(K-$)+$;return V}function RD(Y,Q){for(var N=1;N<Q.length-1;++N)if(Q[N]>=Y)break;return N-1}var kD=(Y,Q="end")=>(N)=>{N=Q==="end"?Math.min(N,0.999):Math.max(N,0.001);let $=N*Y,K=Q==="end"?Math.floor($):Math.ceil($);return AD(0,1,K/Y)},q2=1.70158,I2=q2*1.525,GO=q2+1,ZO=2*Math.PI/3,YO=2*Math.PI/4.5,D2=(Y)=>{if(Y<0.36363636363636365)return 7.5625*Y*Y;else if(Y<0.7272727272727273)return 7.5625*(Y-=0.5454545454545454)*Y+0.75;else if(Y<0.9090909090909091)return 7.5625*(Y-=0.8181818181818182)*Y+0.9375;else return 7.5625*(Y-=0.9545454545454546)*Y+0.984375},QN={linear:(Y)=>Y,easeInQuad:(Y)=>Y*Y,easeOutQuad:(Y)=>1-(1-Y)*(1-Y),easeInOutQuad:(Y)=>Y<0.5?2*Y*Y:1-Math.pow(-2*Y+2,2)/2,easeInCubic:(Y)=>Y*Y*Y,easeOutCubic:(Y)=>1-Math.pow(1-Y,3),easeInOutCubic:(Y)=>Y<0.5?4*Y*Y*Y:1-Math.pow(-2*Y+2,3)/2,easeInQuart:(Y)=>Y*Y*Y*Y,easeOutQuart:(Y)=>1-Math.pow(1-Y,4),easeInOutQuart:(Y)=>Y<0.5?8*Y*Y*Y*Y:1-Math.pow(-2*Y+2,4)/2,easeInQuint:(Y)=>Y*Y*Y*Y*Y,easeOutQuint:(Y)=>1-Math.pow(1-Y,5),easeInOutQuint:(Y)=>Y<0.5?16*Y*Y*Y*Y*Y:1-Math.pow(-2*Y+2,5)/2,easeInSine:(Y)=>1-Math.cos(Y*Math.PI/2),easeOutSine:(Y)=>Math.sin(Y*Math.PI/2),easeInOutSine:(Y)=>-(Math.cos(Math.PI*Y)-1)/2,easeInExpo:(Y)=>Y===0?0:Math.pow(2,10*Y-10),easeOutExpo:(Y)=>Y===1?1:1-Math.pow(2,-10*Y),easeInOutExpo:(Y)=>Y===0?0:Y===1?1:Y<0.5?Math.pow(2,20*Y-10)/2:(2-Math.pow(2,-20*Y+10))/2,easeInCirc:(Y)=>1-Math.sqrt(1-Math.pow(Y,2)),easeOutCirc:(Y)=>Math.sqrt(1-Math.pow(Y-1,2)),easeInOutCirc:(Y)=>Y<0.5?(1-Math.sqrt(1-Math.pow(2*Y,2)))/2:(Math.sqrt(1-Math.pow(-2*Y+2,2))+1)/2,easeInBack:(Y)=>GO*Y*Y*Y-q2*Y*Y,easeOutBack:(Y)=>1+GO*Math.pow(Y-1,3)+q2*Math.pow(Y-1,2),easeInOutBack:(Y)=>Y<0.5?Math.pow(2*Y,2)*((I2+1)*2*Y-I2)/2:(Math.pow(2*Y-2,2)*((I2+1)*(Y*2-2)+I2)+2)/2,easeInElastic:(Y)=>Y===0?0:Y===1?1:-Math.pow(2,10*Y-10)*Math.sin((Y*10-10.75)*ZO),easeOutElastic:(Y)=>Y===0?0:Y===1?1:Math.pow(2,-10*Y)*Math.sin((Y*10-0.75)*ZO)+1,easeInOutElastic:(Y)=>Y===0?0:Y===1?1:Y<0.5?-(Math.pow(2,20*Y-10)*Math.sin((20*Y-11.125)*YO))/2:Math.pow(2,-20*Y+10)*Math.sin((20*Y-11.125)*YO)/2+1,easeInBounce:(Y)=>1-D2(1-Y),easeOutBounce:D2,easeInOutBounce:(Y)=>Y<0.5?(1-D2(1-2*Y))/2:(1+D2(2*Y-1))/2,steps:kD},v4=Symbol.for("FluidValue.get"),i7=Symbol.for("FluidValue.observers"),ZW=(Y)=>Boolean(Y&&Y[v4]),v1=(Y)=>Y&&Y[v4]?Y[v4]():Y,JN=(Y)=>Y[i7]||null;function xD(Y,Q){if(Y.eventObserved)Y.eventObserved(Q);else Y(Q)}function m5(Y,Q){let N=Y[i7];if(N)N.forEach(($)=>{xD($,Q)})}var S2=class{constructor(Y){if(!Y&&!(Y=this.get))throw Error("Unknown getter");bD(this,Y)}},bD=(Y,Q)=>KO(Y,v4,Q);function k9(Y,Q){if(Y[v4]){let N=Y[i7];if(!N)KO(Y,i7,N=new Set);if(!N.has(Q)){if(N.add(Q),Y.observerAdded)Y.observerAdded(N.size,Q)}}return Q}function d5(Y,Q){let N=Y[i7];if(N&&N.has(Q)){let $=N.size-1;if($)N.delete(Q);else Y[i7]=null;if(Y.observerRemoved)Y.observerRemoved($,Q)}}var KO=(Y,Q,N)=>Object.defineProperty(Y,Q,{value:N,writable:!0,configurable:!0}),P2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,vD=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,XO=new RegExp(`(${P2.source})(%|[a-z]+)`,"i"),fD=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,R2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,UO=(Y)=>{let[Q,N]=yD(Y);if(!Q||YN())return Y;let $=window.getComputedStyle(document.documentElement).getPropertyValue(Q);if($)return $.trim();else if(N&&N.startsWith("--")){let K=window.getComputedStyle(document.documentElement).getPropertyValue(N);if(K)return K;else return Y}else if(N&&R2.test(N))return UO(N);else if(N)return N;return Y},yD=(Y)=>{let Q=R2.exec(Y);if(!Q)return[,];let[,N,$]=Q;return[N,$]},GN,gD=(Y,Q,N,$,K)=>`rgba(${Math.round(Q)}, ${Math.round(N)}, ${Math.round($)}, ${K})`,k2=(Y)=>{if(!GN)GN=FG?new RegExp(`(${Object.keys(FG).join("|")})(?!\\w)`,"g"):/^\b$/;let Q=Y.output.map((U)=>{return v1(U).replace(R2,UO).replace(vD,WO).replace(GN,WO)}),N=Q.map((U)=>U.match(P2).map(Number)),K=N[0].map((U,_)=>N.map((L)=>{if(!(_ in L))throw Error('The arity of each "output" value must be equal');return L[_]})).map((U)=>qG({...Y,output:U}));return(U)=>{let _=!XO.test(Q[0])&&Q.find((O)=>XO.test(O))?.replace(P2,""),L=0;return Q[0].replace(P2,()=>`${K[L++](U)}${_||""}`).replace(fD,gD)}},NN="react-spring: ",HO=(Y)=>{let Q=Y,N=!1;if(typeof Q!="function")throw new TypeError(`${NN}once requires a function parameter`);return(...$)=>{if(!N)Q(...$),N=!0}},hD=HO(console.warn);function $N(){hD(`${NN}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var mD=HO(console.warn);function _O(){mD(`${NN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function CG(Y){return n.str(Y)&&(Y[0]=="#"||/\d/.test(Y)||!YN()&&R2.test(Y)||(Y in(FG||{})))}var $9=YN()?x2.useEffect:x2.useLayoutEffect,uD=()=>{let Y=OO.useRef(!1);return $9(()=>{return Y.current=!0,()=>{Y.current=!1}},[]),Y};function f4(){let Y=wO.useState()[1],Q=uD();return()=>{if(Q.current)Y(Math.random())}}function VO(Y,Q){let[N]=n7.useState(()=>({inputs:Q,result:Y()})),$=n7.useRef(),K=$.current,U=K;if(U){if(!Boolean(Q&&U.inputs&&pD(Q,U.inputs)))U={inputs:Q,result:Y()}}else U=N;return n7.useEffect(()=>{if($.current=U,K==N)N.inputs=N.result=void 0},[U]),U.result}function pD(Y,Q){if(Y.length!==Q.length)return!1;for(let N=0;N<Y.length;N++)if(Y[N]!==Q[N])return!1;return!0}var s7=(Y)=>LO.useEffect(Y,cD),cD=[];function v2(Y){let Q=b2.useRef();return b2.useEffect(()=>{Q.current=Y}),Q.current}var z5=i(f0(),1);var PO=i(f0(),1),u5=i(f0(),1);var y4=Symbol.for("Animated:node"),iD=(Y)=>!!Y&&Y[y4]===Y,gW=(Y)=>Y&&Y[y4],g4=(Y,Q)=>BO(Y,y4,Q),o7=(Y)=>Y&&Y[y4]&&Y[y4].getPayload(),IO=class{constructor(){g4(this,this)}getPayload(){return this.payload||[]}},a7=class extends IO{constructor(Y){super();if(this._value=Y,this.done=!0,this.durationProgress=0,n.num(this._value))this.lastPosition=this._value}static create(Y){return new a7(Y)}getPayload(){return[this]}getValue(){return this._value}setValue(Y,Q){if(n.num(Y)){if(this.lastPosition=Y,Q){if(Y=Math.round(Y/Q)*Q,this.done)this.lastPosition=Y}}if(this._value===Y)return!1;return this._value=Y,!0}reset(){let{done:Y}=this;if(this.done=!1,n.num(this._value)){if(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,Y)this.lastVelocity=null;this.v0=null}}},r7=class extends a7{constructor(Y){super(0);this._string=null,this._toString=qG({output:[Y,Y]})}static create(Y){return new r7(Y)}getValue(){let Y=this._string;return Y==null?this._string=this._toString(this._value):Y}setValue(Y){if(n.str(Y)){if(Y==this._string)return!1;this._string=Y,this._value=1}else if(super.setValue(Y))this._string=null;else return!1;return!0}reset(Y){if(Y)this._toString=qG({output:[this.getValue(),Y]});this._value=0,super.reset()}},f2={dependencies:null},h4=class extends IO{constructor(Y){super();this.source=Y,this.setValue(Y)}getValue(Y){let Q={};return a1(this.source,(N,$)=>{if(iD(N))Q[$]=N.getValue(Y);else if(ZW(N))Q[$]=v1(N);else if(!Y)Q[$]=N}),Q}setValue(Y){this.source=Y,this.payload=this._makePayload(Y)}reset(){if(this.payload)w0(this.payload,(Y)=>Y.reset())}_makePayload(Y){if(Y){let Q=new Set;return a1(Y,this._addToPayload,Q),Array.from(Q)}}_addToPayload(Y){if(f2.dependencies&&ZW(Y))f2.dependencies.add(Y);let Q=o7(Y);if(Q)w0(Q,(N)=>this.add(N))}},DO=class extends h4{constructor(Y){super(Y)}static create(Y){return new DO(Y)}getValue(){return this.source.map((Y)=>Y.getValue())}setValue(Y){let Q=this.getPayload();if(Y.length==Q.length)return Q.map((N,$)=>N.setValue(Y[$])).some(Boolean);return super.setValue(Y.map(nD)),!0}};function nD(Y){return(CG(Y)?r7:a7).create(Y)}function m4(Y){let Q=gW(Y);return Q?Q.constructor:n.arr(Y)?DO:CG(Y)?r7:a7}var TO=(Y,Q)=>{let N=!n.fun(Y)||Y.prototype&&Y.prototype.isReactComponent;return u5.forwardRef(($,K)=>{let U=u5.useRef(null),_=N&&u5.useCallback((M)=>{U.current=aD(K,M)},[K]),[L,O]=oD($,Q),V=f4(),E=()=>{let M=U.current;if(N&&!M)return;if((M?Q.applyAnimatedValues(M,L.getValue(!0)):!1)===!1)V()},A=new sD(E,O),q=u5.useRef();$9(()=>{return q.current=A,w0(O,(M)=>k9(M,A)),()=>{if(q.current)w0(q.current.deps,(M)=>d5(M,q.current)),H0.cancel(q.current.update)}}),u5.useEffect(E,[]),s7(()=>()=>{let M=q.current;w0(M.deps,(h)=>d5(h,M))});let R=Q.getComponentProps(L.getValue());return PO.createElement(Y,{...R,ref:_})})},sD=class{constructor(Y,Q){this.update=Y,this.deps=Q}eventObserved(Y){if(Y.type=="change")H0.write(this.update)}};function oD(Y,Q){let N=new Set;if(f2.dependencies=N,Y.style)Y={...Y,style:Q.createAnimatedStyle(Y.style)};return Y=new h4(Y),f2.dependencies=null,[Y,N]}function aD(Y,Q){if(Y)if(n.fun(Y))Y(Q);else Y.current=Q;return Q}var AO=Symbol.for("AnimatedComponent"),jO=(Y,{applyAnimatedValues:Q=()=>!1,createAnimatedStyle:N=(K)=>new h4(K),getComponentProps:$=(K)=>K}={})=>{let K={applyAnimatedValues:Q,createAnimatedStyle:N,getComponentProps:$},U=(_)=>{let L=EO(_)||"Anonymous";if(n.str(_))_=U[_]||(U[_]=TO(_,K));else _=_[AO]||(_[AO]=TO(_,K));return _.displayName=`Animated(${L})`,_};return a1(Y,(_,L)=>{if(n.arr(Y))L=EO(_);U[L]=U(_)}),{animated:U}},EO=(Y)=>n.str(Y)?Y:Y&&n.str(Y.displayName)?Y.displayName:n.fun(Y)&&Y.name||null;var g2=i(f0(),1),oO=i(f0(),1);var VP=i(f0(),1);var aO=i(f0(),1),IN=i(f0(),1);var rO=i(f0(),1);function qZ(Y,...Q){return n.fun(Y)?Y(...Q):Y}var c4=(Y,Q)=>Y===!0||!!(Q&&Y&&(n.fun(Y)?Y(Q):b1(Y).includes(Q))),fO=(Y,Q)=>n.obj(Y)?Q&&Y[Q]:Y,yO=(Y,Q)=>Y.default===!0?Y[Q]:Y.default?Y.default[Q]:void 0,rD=(Y)=>Y,LN=(Y,Q=rD)=>{let N=tD;if(Y.default&&Y.default!==!0)Y=Y.default,N=Object.keys(Y);let $={};for(let K of N){let U=Q(Y[K],K);if(!n.und(U))$[K]=U}return $},tD=["config","onProps","onStart","onChange","onPause","onResume","onRest"],eD={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function WP(Y){let Q={},N=0;if(a1(Y,($,K)=>{if(!eD[K])Q[K]=$,N++}),N)return Q}function gO(Y){let Q=WP(Y);if(Q){let N={to:Q};return a1(Y,($,K)=>(K in Q)||(N[K]=$)),N}return{...Y}}function l4(Y){return Y=v1(Y),n.arr(Y)?Y.map(l4):CG(Y)?x1.createStringInterpolator({range:[0,1],output:[Y,Y]})(1):Y}function GP(Y){for(let Q in Y)return!0;return!1}function UN(Y){return n.fun(Y)||n.arr(Y)&&n.obj(Y[0])}function ZP(Y,Q){Y.ref?.delete(Y),Q?.delete(Y)}function YP(Y,Q){if(Q&&Y.ref!==Q)Y.ref?.delete(Y),Q.add(Y),Y.ref=Q}var XP={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},HN={...XP.default,mass:1,damping:1,easing:QN.linear,clamp:!1},BP=class{constructor(){this.velocity=0,Object.assign(this,HN)}};function QP(Y,Q,N){if(N)N={...N},FO(N,Q),Q={...N,...Q};FO(Y,Q),Object.assign(Y,Q);for(let _ in HN)if(Y[_]==null)Y[_]=HN[_];let{frequency:$,damping:K}=Y,{mass:U}=Y;if(!n.und($)){if($<0.01)$=0.01;if(K<0)K=0;Y.tension=Math.pow(2*Math.PI/$,2)*U,Y.friction=4*Math.PI*K*U/$}return Y}function FO(Y,Q){if(!n.und(Q.decay))Y.duration=void 0;else{let N=!n.und(Q.tension)||!n.und(Q.friction);if(N||!n.und(Q.frequency)||!n.und(Q.damping)||!n.und(Q.mass))Y.duration=void 0,Y.decay=void 0;if(N)Y.frequency=void 0}}var qO=[],JP=class{constructor(){this.changed=!1,this.values=qO,this.toValues=null,this.fromValues=qO,this.config=new BP,this.immediate=!1}};function hO(Y,{key:Q,props:N,defaultProps:$,state:K,actions:U}){return new Promise((_,L)=>{let O,V,E=c4(N.cancel??$?.cancel,Q);if(E)R();else{if(!n.und(N.pause))K.paused=c4(N.pause,Q);let M=$?.pause;if(M!==!0)M=K.paused||c4(M,Q);if(O=qZ(N.delay||0,Q),M)K.resumeQueue.add(q),U.pause();else U.resume(),q()}function A(){K.resumeQueue.add(q),K.timeouts.delete(V),V.cancel(),O=V.time-H0.now()}function q(){if(O>0&&!x1.skipAnimation)K.delayed=!0,V=H0.setTimeout(R,O),K.pauseQueue.add(A),K.timeouts.add(V);else R()}function R(){if(K.delayed)K.delayed=!1;if(K.pauseQueue.delete(A),K.timeouts.delete(V),Y<=(K.cancelId||0))E=!0;try{U.start({...N,callId:Y,cancel:E},_)}catch(M){L(M)}}})}var TN=(Y,Q)=>Q.length==1?Q[0]:Q.some((N)=>N.cancelled)?t7(Y.get()):Q.every((N)=>N.noop)?mO(Y.get()):x9(Y.get(),Q.every((N)=>N.finished)),mO=(Y)=>({value:Y,noop:!0,finished:!0,cancelled:!1}),x9=(Y,Q,N=!1)=>({value:Y,finished:Q,cancelled:N}),t7=(Y)=>({value:Y,cancelled:!0,finished:!1});function dO(Y,Q,N,$){let{callId:K,parentId:U,onRest:_}=Q,{asyncTo:L,promise:O}=N;if(!U&&Y===L&&!Q.reset)return O;return N.promise=(async()=>{N.asyncId=K,N.asyncTo=Y;let V=LN(Q,(S,k)=>k==="onRest"?void 0:S),E,A,q=new Promise((S,k)=>(E=S,A=k)),R=(S)=>{let k=K<=(N.cancelId||0)&&t7($)||K!==N.asyncId&&x9($,!1);if(k)throw S.result=k,A(S),S},M=(S,k)=>{let f=new CO,l=new MO;return(async()=>{if(x1.skipAnimation)throw i4(N),l.result=x9($,!1),A(l),l;R(f);let p=n.obj(S)?{...S}:{...k,to:S};p.parentId=K,a1(V,(x0,_0)=>{if(n.und(p[_0]))p[_0]=x0});let X0=await $.start(p);if(R(f),N.paused)await new Promise((x0)=>{N.resumeQueue.add(x0)});return X0})()},h;if(x1.skipAnimation)return i4(N),x9($,!1);try{let S;if(n.arr(Y))S=(async(k)=>{for(let f of k)await M(f)})(Y);else S=Promise.resolve(Y(M,$.stop.bind($)));await Promise.all([S.then(E),q]),h=x9($.get(),!0,!1)}catch(S){if(S instanceof CO)h=S.result;else if(S instanceof MO)h=S.result;else throw S}finally{if(K==N.asyncId)N.asyncId=U,N.asyncTo=U?L:void 0,N.promise=U?O:void 0}if(n.fun(_))H0.batchedUpdates(()=>{_(h,$,$.item)});return h})()}function i4(Y,Q){if(jZ(Y.timeouts,(N)=>N.cancel()),Y.pauseQueue.clear(),Y.resumeQueue.clear(),Y.asyncId=Y.asyncTo=Y.promise=void 0,Q)Y.cancelId=Q}var CO=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},MO=class extends Error{constructor(){super("SkipAnimationSignal")}},_N=(Y)=>Y instanceof AN,NP=1,AN=class extends S2{constructor(){super(...arguments);this.id=NP++,this._priority=0}get priority(){return this._priority}set priority(Y){if(this._priority!=Y)this._priority=Y,this._onPriorityChange(Y)}get(){let Y=gW(this);return Y&&Y.getValue()}to(...Y){return x1.to(this,Y)}interpolate(...Y){return $N(),x1.to(this,Y)}toJSON(){return this.get()}observerAdded(Y){if(Y==1)this._attach()}observerRemoved(Y){if(Y==0)this._detach()}_attach(){}_detach(){}_onChange(Y,Q=!1){m5(this,{type:"change",parent:this,value:Y,idle:Q})}_onPriorityChange(Y){if(!this.idle)h5.sort(this);m5(this,{type:"priority",parent:this,priority:Y})}},CZ=Symbol.for("SpringPhase"),uO=1,wN=2,ON=4,zN=(Y)=>(Y[CZ]&uO)>0,MG=(Y)=>(Y[CZ]&wN)>0,d4=(Y)=>(Y[CZ]&ON)>0,SO=(Y,Q)=>Q?Y[CZ]|=wN|uO:Y[CZ]&=~wN,RO=(Y,Q)=>Q?Y[CZ]|=ON:Y[CZ]&=~ON,$P=class extends AN{constructor(Y,Q){super();if(this.animation=new JP,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!n.und(Y)||!n.und(Q)){let N=n.obj(Y)?{...Y}:{...Q,from:Y};if(n.und(N.default))N.default=!0;this.start(N)}}get idle(){return!(MG(this)||this._state.asyncTo)||d4(this)}get goal(){return v1(this.animation.to)}get velocity(){let Y=gW(this);return Y instanceof a7?Y.lastVelocity||0:Y.getPayload().map((Q)=>Q.lastVelocity||0)}get hasAnimated(){return zN(this)}get isAnimating(){return MG(this)}get isPaused(){return d4(this)}get isDelayed(){return this._state.delayed}advance(Y){let Q=!0,N=!1,$=this.animation,{toValues:K}=$,{config:U}=$,_=o7($.to);if(!_&&ZW($.to))K=b1(v1($.to));$.values.forEach((V,E)=>{if(V.done)return;let A=V.constructor==r7?1:_?_[E].lastPosition:K[E],q=$.immediate,R=A;if(!q){if(R=V.lastPosition,U.tension<=0){V.done=!0;return}let M=V.elapsedTime+=Y,h=$.fromValues[E],S=V.v0!=null?V.v0:V.v0=n.arr(U.velocity)?U.velocity[E]:U.velocity,k,f=U.precision||(h==A?0.005:Math.min(1,Math.abs(A-h)*0.001));if(!n.und(U.duration)){let l=1;if(U.duration>0){if(this._memoizedDuration!==U.duration){if(this._memoizedDuration=U.duration,V.durationProgress>0)V.elapsedTime=U.duration*V.durationProgress,M=V.elapsedTime+=Y}l=(U.progress||0)+M/this._memoizedDuration,l=l>1?1:l<0?0:l,V.durationProgress=l}R=h+U.easing(l)*(A-h),k=(R-V.lastPosition)/Y,q=l==1}else if(U.decay){let l=U.decay===!0?0.998:U.decay,p=Math.exp(-(1-l)*M);R=h+S/(1-l)*(1-p),q=Math.abs(V.lastPosition-R)<=f,k=S*p}else{k=V.lastVelocity==null?S:V.lastVelocity;let l=U.restVelocity||f/10,p=U.clamp?0:U.bounce,X0=!n.und(p),x0=h==A?V.v0>0:h<A,_0,S0=!1,L0=1,e0=Math.ceil(Y/L0);for(let W1=0;W1<e0;++W1){if(_0=Math.abs(k)>l,!_0){if(q=Math.abs(A-R)<=f,q)break}if(X0){if(S0=R==A||R>A==x0,S0)k=-k*p,R=A}let w1=-U.tension*0.000001*(R-A),YW=-U.friction*0.001*k,W0=(w1+YW)/U.mass;k=k+W0*L0,R=R+k*L0}}if(V.lastVelocity=k,Number.isNaN(R))console.warn("Got NaN while animating:",this),q=!0}if(_&&!_[E].done)q=!1;if(q)V.done=!0;else Q=!1;if(V.setValue(R,U.round))N=!0});let L=gW(this),O=L.getValue();if(Q){let V=v1($.to);if((O!==V||N)&&!U.decay)L.setValue(V),this._onChange(V);else if(N&&U.decay)this._onChange(O);this._stop()}else if(N)this._onChange(O)}set(Y){return H0.batchedUpdates(()=>{this._stop(),this._focus(Y),this._set(Y)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(MG(this)){let{to:Y,config:Q}=this.animation;H0.batchedUpdates(()=>{if(this._onStart(),!Q.decay)this._set(Y,!1);this._stop()})}return this}update(Y){return(this.queue||(this.queue=[])).push(Y),this}start(Y,Q){let N;if(!n.und(Y))N=[n.obj(Y)?Y:{...Q,to:Y}];else N=this.queue||[],this.queue=[];return Promise.all(N.map(($)=>{return this._update($)})).then(($)=>TN(this,$))}stop(Y){let{to:Q}=this.animation;return this._focus(this.get()),i4(this._state,Y&&this._lastCallId),H0.batchedUpdates(()=>this._stop(Q,Y)),this}reset(){this._update({reset:!0})}eventObserved(Y){if(Y.type=="change")this._start();else if(Y.type=="priority")this.priority=Y.priority+1}_prepareNode(Y){let Q=this.key||"",{to:N,from:$}=Y;if(N=n.obj(N)?N[Q]:N,N==null||UN(N))N=void 0;if($=n.obj($)?$[Q]:$,$==null)$=void 0;let K={to:N,from:$};if(!zN(this)){if(Y.reverse)[N,$]=[$,N];if($=v1($),!n.und($))this._set($);else if(!gW(this))this._set(N)}return K}_update({...Y},Q){let{key:N,defaultProps:$}=this;if(Y.default)Object.assign($,LN(Y,(_,L)=>/^on/.test(L)?fO(_,N):_));xO(this,Y,"onProps"),p4(this,"onProps",Y,this);let K=this._prepareNode(Y);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let U=this._state;return hO(++this._lastCallId,{key:N,props:Y,defaultProps:$,state:U,actions:{pause:()=>{if(!d4(this))RO(this,!0),FZ(U.pauseQueue),p4(this,"onPause",x9(this,u4(this,this.animation.to)),this)},resume:()=>{if(d4(this)){if(RO(this,!1),MG(this))this._resume();FZ(U.resumeQueue),p4(this,"onResume",x9(this,u4(this,this.animation.to)),this)}},start:this._merge.bind(this,K)}}).then((_)=>{if(Y.loop&&_.finished&&!(Q&&_.noop)){let L=pO(Y);if(L)return this._update(L,!0)}return _})}_merge(Y,Q,N){if(Q.cancel)return this.stop(!0),N(t7(this));let $=!n.und(Y.to),K=!n.und(Y.from);if($||K)if(Q.callId>this._lastToId)this._lastToId=Q.callId;else return N(t7(this));let{key:U,defaultProps:_,animation:L}=this,{to:O,from:V}=L,{to:E=O,from:A=V}=Y;if(K&&!$&&(!Q.default||n.und(E)))E=A;if(Q.reverse)[E,A]=[A,E];let q=!R9(A,V);if(q)L.from=A;A=v1(A);let R=!R9(E,O);if(R)this._focus(E);let M=UN(Q.to),{config:h}=L,{decay:S,velocity:k}=h;if($||K)h.velocity=0;if(Q.config&&!M)QP(h,qZ(Q.config,U),Q.config!==_.config?qZ(_.config,U):void 0);let f=gW(this);if(!f||n.und(E))return N(x9(this,!0));let l=n.und(Q.reset)?K&&!Q.default:!n.und(A)&&c4(Q.reset,U),p=l?A:this.get(),X0=l4(E),x0=n.num(X0)||n.arr(X0)||CG(X0),_0=!M&&(!x0||c4(_.immediate||Q.immediate,U));if(R){let W1=m4(E);if(W1!==f.constructor)if(_0)f=this._set(X0);else throw Error(`Cannot animate between ${f.constructor.name} and ${W1.name}, as the "to" prop suggests`)}let S0=f.constructor,L0=ZW(E),e0=!1;if(!L0){let W1=l||!zN(this)&&q;if(R||W1)e0=R9(l4(p),X0),L0=!e0;if(!R9(L.immediate,_0)&&!_0||!R9(h.decay,S)||!R9(h.velocity,k))L0=!0}if(e0&&MG(this)){if(L.changed&&!l)L0=!0;else if(!L0)this._stop(O)}if(!M){if(L0||ZW(O))L.values=f.getPayload(),L.toValues=ZW(E)?null:S0==r7?[1]:b1(X0);if(L.immediate!=_0){if(L.immediate=_0,!_0&&!l)this._set(O)}if(L0){let{onRest:W1}=L;w0(KP,(YW)=>xO(this,Q,YW));let w1=x9(this,u4(this,O));if(FZ(this._pendingCalls,w1),this._pendingCalls.add(N),L.changed)H0.batchedUpdates(()=>{if(L.changed=!l,W1?.(w1,this),l)qZ(_.onRest,w1);else L.onStart?.(w1,this)})}}if(l)this._set(p);if(M)N(dO(Q.to,Q,this._state,this));else if(L0)this._start();else if(MG(this)&&!R)this._pendingCalls.add(N);else N(mO(p))}_focus(Y){let Q=this.animation;if(Y!==Q.to){if(JN(this))this._detach();if(Q.to=Y,JN(this))this._attach()}}_attach(){let Y=0,{to:Q}=this.animation;if(ZW(Q)){if(k9(Q,this),_N(Q))Y=Q.priority+1}this.priority=Y}_detach(){let{to:Y}=this.animation;if(ZW(Y))d5(Y,this)}_set(Y,Q=!0){let N=v1(Y);if(!n.und(N)){let $=gW(this);if(!$||!R9(N,$.getValue())){let K=m4(N);if(!$||$.constructor!=K)g4(this,K.create(N));else $.setValue(N);if($)H0.batchedUpdates(()=>{this._onChange(N,Q)})}}return gW(this)}_onStart(){let Y=this.animation;if(!Y.changed)Y.changed=!0,p4(this,"onStart",x9(this,u4(this,Y.to)),this)}_onChange(Y,Q){if(!Q)this._onStart(),qZ(this.animation.onChange,Y,this);qZ(this.defaultProps.onChange,Y,this),super._onChange(Y,Q)}_start(){let Y=this.animation;if(gW(this).reset(v1(Y.to)),!Y.immediate)Y.fromValues=Y.values.map((Q)=>Q.lastPosition);if(!MG(this)){if(SO(this,!0),!d4(this))this._resume()}}_resume(){if(x1.skipAnimation)this.finish();else h5.start(this)}_stop(Y,Q){if(MG(this)){SO(this,!1);let N=this.animation;if(w0(N.values,(K)=>{K.done=!0}),N.toValues)N.onChange=N.onPause=N.onResume=void 0;m5(this,{type:"idle",parent:this});let $=Q?t7(this.get()):x9(this.get(),u4(this,Y??N.to));if(FZ(this._pendingCalls,$),N.changed)N.changed=!1,p4(this,"onRest",$,this)}}};function u4(Y,Q){let N=l4(Q),$=l4(Y.get());return R9($,N)}function pO(Y,Q=Y.loop,N=Y.to){let $=qZ(Q);if($){let K=$!==!0&&gO($),U=(K||Y).reverse,_=!K||K.reset;return n4({...Y,loop:Q,default:!1,pause:void 0,to:!U||UN(N)?N:void 0,from:_?Y.from:void 0,reset:_,...K})}}function n4(Y){let{to:Q,from:N}=Y=gO(Y),$=new Set;if(n.obj(Q))kO(Q,$);if(n.obj(N))kO(N,$);return Y.keys=$.size?Array.from($):null,Y}function zP(Y){let Q=n4(Y);if(n.und(Q.default))Q.default=LN(Q);return Q}function kO(Y,Q){a1(Y,(N,$)=>N!=null&&Q.add($))}var KP=["onStart","onRest","onChange","onPause","onResume"];function xO(Y,Q,N){Y.animation[N]=Q[N]!==yO(Q,N)?fO(Q[N],Y.key):void 0}function p4(Y,Q,...N){Y.animation[Q]?.(...N),Y.defaultProps[Q]?.(...N)}var UP=["onStart","onChange","onRest"],HP=1,_P=class{constructor(Y,Q){if(this.id=HP++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),Q)this._flush=Q;if(Y)this.start({default:!0,...Y})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((Y)=>{return Y.idle&&!Y.isDelayed&&!Y.isPaused})}get item(){return this._item}set item(Y){this._item=Y}get(){let Y={};return this.each((Q,N)=>Y[N]=Q.get()),Y}set(Y){for(let Q in Y){let N=Y[Q];if(!n.und(N))this.springs[Q].set(N)}}update(Y){if(Y)this.queue.push(n4(Y));return this}start(Y){let{queue:Q}=this;if(Y)Q=b1(Y).map(n4);else this.queue=[];if(this._flush)return this._flush(this,Q);return sO(this,Q),VN(this,Q)}stop(Y,Q){if(Y!==!!Y)Q=Y;if(Q){let N=this.springs;w0(b1(Q),($)=>N[$].stop(!!Y))}else i4(this._state,this._lastAsyncId),this.each((N)=>N.stop(!!Y));return this}pause(Y){if(n.und(Y))this.start({pause:!0});else{let Q=this.springs;w0(b1(Y),(N)=>Q[N].pause())}return this}resume(Y){if(n.und(Y))this.start({pause:!1});else{let Q=this.springs;w0(b1(Y),(N)=>Q[N].resume())}return this}each(Y){a1(this.springs,Y)}_onFrame(){let{onStart:Y,onChange:Q,onRest:N}=this._events,$=this._active.size>0,K=this._changed.size>0;if($&&!this._started||K&&!this._started)this._started=!0,jZ(Y,([L,O])=>{O.value=this.get(),L(O,this,this._item)});let U=!$&&this._started,_=K||U&&N.size?this.get():null;if(K&&Q.size)jZ(Q,([L,O])=>{O.value=_,L(O,this,this._item)});if(U)this._started=!1,jZ(N,([L,O])=>{O.value=_,L(O,this,this._item)})}eventObserved(Y){if(Y.type=="change"){if(this._changed.add(Y.parent),!Y.idle)this._active.add(Y.parent)}else if(Y.type=="idle")this._active.delete(Y.parent);else return;H0.onFrame(this._onFrame)}};function VN(Y,Q){return Promise.all(Q.map((N)=>cO(Y,N))).then((N)=>TN(Y,N))}async function cO(Y,Q,N){let{keys:$,to:K,from:U,loop:_,onRest:L,onResolve:O}=Q,V=n.obj(Q.default)&&Q.default;if(_)Q.loop=!1;if(K===!1)Q.to=null;if(U===!1)Q.from=null;let E=n.arr(K)||n.fun(K)?K:void 0;if(E){if(Q.to=void 0,Q.onRest=void 0,V)V.onRest=void 0}else w0(UP,(h)=>{let S=Q[h];if(n.fun(S)){let k=Y._events[h];if(Q[h]=({finished:f,cancelled:l})=>{let p=k.get(S);if(p){if(!f)p.finished=!1;if(l)p.cancelled=!0}else k.set(S,{value:null,finished:f||!1,cancelled:l||!1})},V)V[h]=Q[h]}});let A=Y._state;if(Q.pause===!A.paused)A.paused=Q.pause,FZ(Q.pause?A.pauseQueue:A.resumeQueue);else if(A.paused)Q.pause=!0;let q=($||Object.keys(Y.springs)).map((h)=>Y.springs[h].start(Q)),R=Q.cancel===!0||yO(Q,"cancel")===!0;if(E||R&&A.asyncId)q.push(hO(++Y._lastAsyncId,{props:Q,state:A,actions:{pause:C2,resume:C2,start(h,S){if(R)i4(A,Y._lastAsyncId),S(t7(Y));else h.onRest=L,S(dO(E,h,A,Y))}}}));if(A.paused)await new Promise((h)=>{A.resumeQueue.add(h)});let M=TN(Y,await Promise.all(q));if(_&&M.finished&&!(N&&M.noop)){let h=pO(Q,_,K);if(h)return sO(Y,[h]),cO(Y,h,!0)}if(O)H0.batchedUpdates(()=>O(M,Y,Y.item));return M}function bO(Y,Q){let N={...Y.springs};if(Q)w0(b1(Q),($)=>{if(n.und($.keys))$=n4($);if(!n.obj($.to))$={...$,to:void 0};nO(N,$,(K)=>{return iO(K)})});return lO(Y,N),N}function lO(Y,Q){a1(Q,(N,$)=>{if(!Y.springs[$])Y.springs[$]=N,k9(N,Y)})}function iO(Y,Q){let N=new $P;if(N.key=Y,Q)k9(N,Q);return N}function nO(Y,Q,N){if(Q.keys)w0(Q.keys,($)=>{(Y[$]||(Y[$]=N($)))._prepareNode(Q)})}function sO(Y,Q){w0(Q,(N)=>{nO(Y.springs,N,($)=>{return iO($,Y)})})}var h2=({children:Y,...Q})=>{let N=oO.useContext(y2),$=Q.pause||!!N.pause,K=Q.immediate||!!N.immediate;Q=VO(()=>({pause:$,immediate:K}),[$,K]);let{Provider:U}=y2;return g2.createElement(U,{value:Q},Y)},y2=wP(h2,{});h2.Provider=y2.Provider;h2.Consumer=y2.Consumer;function wP(Y,Q){return Object.assign(Y,g2.createContext(Q)),Y.Provider._context=Y,Y.Consumer._context=Y,Y}var OP=()=>{let Y=[],Q=function($){_O();let K=[];return w0(Y,(U,_)=>{if(n.und($))K.push(U.start());else{let L=N($,U,_);if(L)K.push(U.start(L))}}),K};Q.current=Y,Q.add=function($){if(!Y.includes($))Y.push($)},Q.delete=function($){let K=Y.indexOf($);if(~K)Y.splice(K,1)},Q.pause=function(){return w0(Y,($)=>$.pause(...arguments)),this},Q.resume=function(){return w0(Y,($)=>$.resume(...arguments)),this},Q.set=function($){w0(Y,(K,U)=>{let _=n.fun($)?$(U,K):$;if(_)K.set(_)})},Q.start=function($){let K=[];return w0(Y,(U,_)=>{if(n.und($))K.push(U.start());else{let L=this._getProps($,U,_);if(L)K.push(U.start(L))}}),K},Q.stop=function(){return w0(Y,($)=>$.stop(...arguments)),this},Q.update=function($){return w0(Y,(K,U)=>K.update(this._getProps($,K,U))),this};let N=function($,K,U){return n.fun($)?$(U,K):$};return Q._getProps=N,Q};function m2(Y,Q,N){let $=n.fun(Q)&&Q;if($&&!N)N=[];let K=z5.useMemo(()=>$||arguments.length==3?OP():void 0,[]),U=z5.useRef(0),_=f4(),L=z5.useMemo(()=>({ctrls:[],queue:[],flush(k,f){let l=bO(k,f);return U.current>0&&!L.queue.length&&!Object.keys(l).some((X0)=>!k.springs[X0])?VN(k,f):new Promise((X0)=>{lO(k,l),L.queue.push(()=>{X0(VN(k,f))}),_()})}}),[]),O=z5.useRef([...L.ctrls]),V=[],E=v2(Y)||0;z5.useMemo(()=>{w0(O.current.slice(Y,E),(k)=>{ZP(k,K),k.stop(!0)}),O.current.length=Y,A(E,Y)},[Y]),z5.useMemo(()=>{A(0,Math.min(E,Y))},N);function A(k,f){for(let l=k;l<f;l++){let p=O.current[l]||(O.current[l]=new _P(null,L.flush)),X0=$?$(l,p):Q[l];if(X0)V[l]=zP(X0)}}let q=O.current.map((k,f)=>bO(k,V[f])),R=z5.useContext(h2),M=v2(R),h=R!==M&&GP(R);$9(()=>{U.current++,L.ctrls=O.current;let{queue:k}=L;if(k.length)L.queue=[],w0(k,(f)=>f());w0(O.current,(f,l)=>{if(K?.add(f),h)f.start({default:R});let p=V[l];if(p)if(YP(f,p.ref),f.ref)f.queue.push(p);else f.start(p)})}),s7(()=>()=>{w0(L.ctrls,(k)=>k.stop(!0))});let S=q.map((k)=>({...k}));return K?[S,K]:S}function EN(Y,Q){let N=n.fun(Y),[[$],K]=m2(1,N?Y:[Y],N?Q||[]:Q);return N||arguments.length==2?[$,K]:$}var LP=class extends AN{constructor(Y,Q){super();this.source=Y,this.idle=!0,this._active=new Set,this.calc=qG(...Q);let N=this._get(),$=m4(N);g4(this,$.create(N))}advance(Y){let Q=this._get(),N=this.get();if(!R9(Q,N))gW(this).setValue(Q),this._onChange(Q,this.idle);if(!this.idle&&vO(this._active))KN(this)}_get(){let Y=n.arr(this.source)?this.source.map(v1):b1(v1(this.source));return this.calc(...Y)}_start(){if(this.idle&&!vO(this._active))if(this.idle=!1,w0(o7(this),(Y)=>{Y.done=!1}),x1.skipAnimation)H0.batchedUpdates(()=>this.advance()),KN(this);else h5.start(this)}_attach(){let Y=1;w0(b1(this.source),(Q)=>{if(ZW(Q))k9(Q,this);if(_N(Q)){if(!Q.idle)this._active.add(Q);Y=Math.max(Y,Q.priority+1)}}),this.priority=Y,this._start()}_detach(){w0(b1(this.source),(Y)=>{if(ZW(Y))d5(Y,this)}),this._active.clear(),KN(this)}eventObserved(Y){if(Y.type=="change")if(Y.idle)this.advance();else this._active.add(Y.parent),this._start();else if(Y.type=="idle")this._active.delete(Y.parent);else if(Y.type=="priority")this.priority=b1(this.source).reduce((Q,N)=>Math.max(Q,(_N(N)?N.priority:0)+1),0)}};function TP(Y){return Y.idle!==!1}function vO(Y){return!Y.size||Array.from(Y).every(TP)}function KN(Y){if(!Y.idle)Y.idle=!0,w0(o7(Y),(Q)=>{Q.done=!0}),m5(Y,{type:"idle",parent:Y})}x1.assign({createStringInterpolator:k2,to:(Y,Q)=>new LP(Y,Q)});var YS=h5.advance;var eO=i(qJ(),1);var WV=/^--/;function AP(Y,Q){if(Q==null||typeof Q==="boolean"||Q==="")return"";if(typeof Q==="number"&&Q!==0&&!WV.test(Y)&&!(s4.hasOwnProperty(Y)&&s4[Y]))return Q+"px";return(""+Q).trim()}var tO={};function EP(Y,Q){if(!Y.nodeType||!Y.setAttribute)return!1;let N=Y.nodeName==="filter"||Y.parentNode&&Y.parentNode.nodeName==="filter",{className:$,style:K,children:U,scrollTop:_,scrollLeft:L,viewBox:O,...V}=Q,E=Object.values(V),A=Object.keys(V).map((q)=>N||Y.hasAttribute(q)?q:tO[q]||(tO[q]=q.replace(/([A-Z])/g,(R)=>"-"+R.toLowerCase())));if(U!==void 0)Y.textContent=U;for(let q in K)if(K.hasOwnProperty(q)){let R=AP(q,K[q]);if(WV.test(q))Y.style.setProperty(q,R);else Y.style[q]=R}if(A.forEach((q,R)=>{Y.setAttribute(q,E[R])}),$!==void 0)Y.className=$;if(_!==void 0)Y.scrollTop=_;if(L!==void 0)Y.scrollLeft=L;if(O!==void 0)Y.setAttribute("viewBox",O)}var s4={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IP=(Y,Q)=>Y+Q.charAt(0).toUpperCase()+Q.substring(1),DP=["Webkit","Ms","Moz","O"];s4=Object.keys(s4).reduce((Y,Q)=>{return DP.forEach((N)=>Y[IP(N,Q)]=Y[Q]),Y},s4);var PP=/^(matrix|translate|scale|rotate|skew)/,jP=/^(translate)/,FP=/^(rotate|skew)/,DN=(Y,Q)=>n.num(Y)&&Y!==0?Y+Q:Y,d2=(Y,Q)=>n.arr(Y)?Y.every((N)=>d2(N,Q)):n.num(Y)?Y===Q:parseFloat(Y)===Q,qP=class extends h4{constructor({x:Y,y:Q,z:N,...$}){let K=[],U=[];if(Y||Q||N)K.push([Y||0,Q||0,N||0]),U.push((_)=>[`translate3d(${_.map((L)=>DN(L,"px")).join(",")})`,d2(_,0)]);if(a1($,(_,L)=>{if(L==="transform")K.push([_||""]),U.push((O)=>[O,O===""]);else if(PP.test(L)){if(delete $[L],n.und(_))return;let O=jP.test(L)?"px":FP.test(L)?"deg":"";K.push(b1(_)),U.push(L==="rotate3d"?([V,E,A,q])=>[`rotate3d(${V},${E},${A},${DN(q,O)})`,d2(q,0)]:(V)=>[`${L}(${V.map((E)=>DN(E,O)).join(",")})`,d2(V,L.startsWith("scale")?1:0)])}}),K.length)$.transform=new CP(K,U);super($)}},CP=class extends S2{constructor(Y,Q){super();this.inputs=Y,this.transforms=Q,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let Y="",Q=!0;return w0(this.inputs,(N,$)=>{let K=v1(N[0]),[U,_]=this.transforms[$](n.arr(K)?K:N.map(v1));Y+=" "+U,Q=Q&&_}),Q?"none":Y}observerAdded(Y){if(Y==1)w0(this.inputs,(Q)=>w0(Q,(N)=>ZW(N)&&k9(N,this)))}observerRemoved(Y){if(Y==0)w0(this.inputs,(Q)=>w0(Q,(N)=>ZW(N)&&d5(N,this)))}eventObserved(Y){if(Y.type=="change")this._value=null;m5(this,Y)}},MP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];x1.assign({batchedUpdates:eO.unstable_batchedUpdates,createStringInterpolator:k2,colors:zO});var SP=jO(MP,{applyAnimatedValues:EP,createAnimatedStyle:(Y)=>new qP(Y),getComponentProps:({scrollTop:Y,scrollLeft:Q,...N})=>N}),o4=SP.animated;var rN=i(XV(),1);function r4(Y,Q){return function N(){return Y.apply(Q,arguments)}}var{toString:yP}=Object.prototype,{getPrototypeOf:FN}=Object,p2=((Y)=>(Q)=>{let N=yP.call(Q);return Y[N]||(Y[N]=N.slice(8,-1).toLowerCase())})(Object.create(null)),b9=(Y)=>{return Y=Y.toLowerCase(),(Q)=>p2(Q)===Y},c2=(Y)=>(Q)=>typeof Q===Y,{isArray:e7}=Array,t4=c2("undefined");function gP(Y){return Y!==null&&!t4(Y)&&Y.constructor!==null&&!t4(Y.constructor)&&hW(Y.constructor.isBuffer)&&Y.constructor.isBuffer(Y)}var QV=b9("ArrayBuffer");function hP(Y){let Q;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)Q=ArrayBuffer.isView(Y);else Q=Y&&Y.buffer&&QV(Y.buffer);return Q}var mP=c2("string"),hW=c2("function"),JV=c2("number"),l2=(Y)=>Y!==null&&typeof Y==="object",dP=(Y)=>Y===!0||Y===!1,u2=(Y)=>{if(p2(Y)!=="object")return!1;let Q=FN(Y);return(Q===null||Q===Object.prototype||Object.getPrototypeOf(Q)===null)&&!(Symbol.toStringTag in Y)&&!(Symbol.iterator in Y)},uP=b9("Date"),pP=b9("File"),cP=b9("Blob"),lP=b9("FileList"),iP=(Y)=>l2(Y)&&hW(Y.pipe),nP=(Y)=>{let Q;return Y&&(typeof FormData==="function"&&Y instanceof FormData||hW(Y.append)&&((Q=p2(Y))==="formdata"||Q==="object"&&hW(Y.toString)&&Y.toString()==="[object FormData]"))},sP=b9("URLSearchParams"),[oP,aP,rP,tP]=["ReadableStream","Request","Response","Headers"].map(b9),eP=(Y)=>Y.trim?Y.trim():Y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function e4(Y,Q,{allOwnKeys:N=!1}={}){if(Y===null||typeof Y==="undefined")return;let $,K;if(typeof Y!=="object")Y=[Y];if(e7(Y))for($=0,K=Y.length;$<K;$++)Q.call(null,Y[$],$,Y);else{let U=N?Object.getOwnPropertyNames(Y):Object.keys(Y),_=U.length,L;for($=0;$<_;$++)L=U[$],Q.call(null,Y[L],L,Y)}}function NV(Y,Q){Q=Q.toLowerCase();let N=Object.keys(Y),$=N.length,K;while($-- >0)if(K=N[$],Q===K.toLowerCase())return K;return null}var MZ=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:global})(),$V=(Y)=>!t4(Y)&&Y!==MZ;function jN(){let{caseless:Y}=$V(this)&&this||{},Q={},N=($,K)=>{let U=Y&&NV(Q,K)||K;if(u2(Q[U])&&u2($))Q[U]=jN(Q[U],$);else if(u2($))Q[U]=jN({},$);else if(e7($))Q[U]=$.slice();else Q[U]=$};for(let $=0,K=arguments.length;$<K;$++)arguments[$]&&e4(arguments[$],N);return Q}var Wj=(Y,Q,N,{allOwnKeys:$}={})=>{return e4(Q,(K,U)=>{if(N&&hW(K))Y[U]=r4(K,N);else Y[U]=K},{allOwnKeys:$}),Y},Gj=(Y)=>{if(Y.charCodeAt(0)===65279)Y=Y.slice(1);return Y},Zj=(Y,Q,N,$)=>{Y.prototype=Object.create(Q.prototype,$),Y.prototype.constructor=Y,Object.defineProperty(Y,"super",{value:Q.prototype}),N&&Object.assign(Y.prototype,N)},Yj=(Y,Q,N,$)=>{let K,U,_,L={};if(Q=Q||{},Y==null)return Q;do{K=Object.getOwnPropertyNames(Y),U=K.length;while(U-- >0)if(_=K[U],(!$||$(_,Y,Q))&&!L[_])Q[_]=Y[_],L[_]=!0;Y=N!==!1&&FN(Y)}while(Y&&(!N||N(Y,Q))&&Y!==Object.prototype);return Q},Xj=(Y,Q,N)=>{if(Y=String(Y),N===void 0||N>Y.length)N=Y.length;N-=Q.length;let $=Y.indexOf(Q,N);return $!==-1&&$===N},Bj=(Y)=>{if(!Y)return null;if(e7(Y))return Y;let Q=Y.length;if(!JV(Q))return null;let N=new Array(Q);while(Q-- >0)N[Q]=Y[Q];return N},Qj=((Y)=>{return(Q)=>{return Y&&Q instanceof Y}})(typeof Uint8Array!=="undefined"&&FN(Uint8Array)),Jj=(Y,Q)=>{let $=(Y&&Y[Symbol.iterator]).call(Y),K;while((K=$.next())&&!K.done){let U=K.value;Q.call(Y,U[0],U[1])}},Nj=(Y,Q)=>{let N,$=[];while((N=Y.exec(Q))!==null)$.push(N);return $},$j=b9("HTMLFormElement"),zj=(Y)=>{return Y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function Q(N,$,K){return $.toUpperCase()+K})},BV=(({hasOwnProperty:Y})=>(Q,N)=>Y.call(Q,N))(Object.prototype),Kj=b9("RegExp"),zV=(Y,Q)=>{let N=Object.getOwnPropertyDescriptors(Y),$={};e4(N,(K,U)=>{let _;if((_=Q(K,U,Y))!==!1)$[U]=_||K}),Object.defineProperties(Y,$)},Uj=(Y)=>{zV(Y,(Q,N)=>{if(hW(Y)&&["arguments","caller","callee"].indexOf(N)!==-1)return!1;let $=Y[N];if(!hW($))return;if(Q.enumerable=!1,"writable"in Q){Q.writable=!1;return}if(!Q.set)Q.set=()=>{throw Error("Can not rewrite read-only method '"+N+"'")}})},Hj=(Y,Q)=>{let N={},$=(K)=>{K.forEach((U)=>{N[U]=!0})};return e7(Y)?$(Y):$(String(Y).split(Q)),N},_j=()=>{},wj=(Y,Q)=>{return Y!=null&&Number.isFinite(Y=+Y)?Y:Q};function Oj(Y){return!!(Y&&hW(Y.append)&&Y[Symbol.toStringTag]==="FormData"&&Y[Symbol.iterator])}var Vj=(Y)=>{let Q=new Array(10),N=($,K)=>{if(l2($)){if(Q.indexOf($)>=0)return;if(!("toJSON"in $)){Q[K]=$;let U=e7($)?[]:{};return e4($,(_,L)=>{let O=N(_,K+1);!t4(O)&&(U[L]=O)}),Q[K]=void 0,U}}return $};return N(Y,0)},Lj=b9("AsyncFunction"),Tj=(Y)=>Y&&(l2(Y)||hW(Y))&&hW(Y.then)&&hW(Y.catch),KV=((Y,Q)=>{if(Y)return setImmediate;return Q?((N,$)=>{return MZ.addEventListener("message",({source:K,data:U})=>{if(K===MZ&&U===N)$.length&&$.shift()()},!1),(K)=>{$.push(K),MZ.postMessage(N,"*")}})(`axios@${Math.random()}`,[]):(N)=>setTimeout(N)})(typeof setImmediate==="function",hW(MZ.postMessage)),Aj=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(MZ):typeof process!=="undefined"&&process.nextTick||KV,x={isArray:e7,isArrayBuffer:QV,isBuffer:gP,isFormData:nP,isArrayBufferView:hP,isString:mP,isNumber:JV,isBoolean:dP,isObject:l2,isPlainObject:u2,isReadableStream:oP,isRequest:aP,isResponse:rP,isHeaders:tP,isUndefined:t4,isDate:uP,isFile:pP,isBlob:cP,isRegExp:Kj,isFunction:hW,isStream:iP,isURLSearchParams:sP,isTypedArray:Qj,isFileList:lP,forEach:e4,merge:jN,extend:Wj,trim:eP,stripBOM:Gj,inherits:Zj,toFlatObject:Yj,kindOf:p2,kindOfTest:b9,endsWith:Xj,toArray:Bj,forEachEntry:Jj,matchAll:Nj,isHTMLForm:$j,hasOwnProperty:BV,hasOwnProp:BV,reduceDescriptors:zV,freezeMethods:Uj,toObjectSet:Hj,toCamelCase:zj,noop:_j,toFiniteNumber:wj,findKey:NV,global:MZ,isContextDefined:$V,isSpecCompliantForm:Oj,toJSONObject:Vj,isAsyncFn:Lj,isThenable:Tj,setImmediate:KV,asap:Aj};function WY(Y,Q,N,$,K){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack;if(this.message=Y,this.name="AxiosError",Q&&(this.code=Q),N&&(this.config=N),$&&(this.request=$),K)this.response=K,this.status=K.status?K.status:null}x.inherits(WY,Error,{toJSON:function Y(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});var UV=WY.prototype,HV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((Y)=>{HV[Y]={value:Y}});Object.defineProperties(WY,HV);Object.defineProperty(UV,"isAxiosError",{value:!0});WY.from=(Y,Q,N,$,K,U)=>{let _=Object.create(UV);return x.toFlatObject(Y,_,function L(O){return O!==Error.prototype},(L)=>{return L!=="isAxiosError"}),WY.call(_,Y.message,Q,N,$,K),_.cause=Y,_.name=Y.name,U&&Object.assign(_,U),_};var O0=WY;var i2=null;function qN(Y){return x.isPlainObject(Y)||x.isArray(Y)}function wV(Y){return x.endsWith(Y,"[]")?Y.slice(0,-2):Y}function _V(Y,Q,N){if(!Y)return Q;return Y.concat(Q).map(function $(K,U){return K=wV(K),!N&&U?"["+K+"]":K}).join(N?".":"")}function Ej(Y){return x.isArray(Y)&&!Y.some(qN)}var Ij=x.toFlatObject(x,{},null,function Y(Q){return/^is[A-Z]/.test(Q)});function Dj(Y,Q,N){if(!x.isObject(Y))throw new TypeError("target must be an object");Q=Q||new(i2||FormData),N=x.toFlatObject(N,{metaTokens:!0,dots:!1,indexes:!1},!1,function M(h,S){return!x.isUndefined(S[h])});let $=N.metaTokens,K=N.visitor||E,U=N.dots,_=N.indexes,O=(N.Blob||typeof Blob!=="undefined"&&Blob)&&x.isSpecCompliantForm(Q);if(!x.isFunction(K))throw new TypeError("visitor must be a function");function V(M){if(M===null)return"";if(x.isDate(M))return M.toISOString();if(!O&&x.isBlob(M))throw new O0("Blob is not supported. Use a Buffer instead.");if(x.isArrayBuffer(M)||x.isTypedArray(M))return O&&typeof Blob==="function"?new Blob([M]):Buffer.from(M);return M}function E(M,h,S){let k=M;if(M&&!S&&typeof M==="object"){if(x.endsWith(h,"{}"))h=$?h:h.slice(0,-2),M=JSON.stringify(M);else if(x.isArray(M)&&Ej(M)||(x.isFileList(M)||x.endsWith(h,"[]"))&&(k=x.toArray(M)))return h=wV(h),k.forEach(function f(l,p){!(x.isUndefined(l)||l===null)&&Q.append(_===!0?_V([h],p,U):_===null?h:h+"[]",V(l))}),!1}if(qN(M))return!0;return Q.append(_V(S,h,U),V(M)),!1}let A=[],q=Object.assign(Ij,{defaultVisitor:E,convertValue:V,isVisitable:qN});function R(M,h){if(x.isUndefined(M))return;if(A.indexOf(M)!==-1)throw Error("Circular reference detected in "+h.join("."));A.push(M),x.forEach(M,function S(k,f){if((!(x.isUndefined(k)||k===null)&&K.call(Q,k,x.isString(f)?f.trim():f,h,q))===!0)R(k,h?h.concat(f):[f])}),A.pop()}if(!x.isObject(Y))throw new TypeError("data must be an object");return R(Y),Q}var SG=Dj;function OV(Y){let Q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(Y).replace(/[!'()~]|%20|%00/g,function N($){return Q[$]})}function VV(Y,Q){this._pairs=[],Y&&SG(Y,this,Q)}var LV=VV.prototype;LV.append=function Y(Q,N){this._pairs.push([Q,N])};LV.toString=function Y(Q){let N=Q?function($){return Q.call(this,$,OV)}:OV;return this._pairs.map(function $(K){return N(K[0])+"="+N(K[1])},"").join("&")};var n2=VV;function Pj(Y){return encodeURIComponent(Y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W8(Y,Q,N){if(!Q)return Y;let $=N&&N.encode||Pj;if(x.isFunction(N))N={serialize:N};let K=N&&N.serialize,U;if(K)U=K(Q,N);else U=x.isURLSearchParams(Q)?Q.toString():new n2(Q,N).toString($);if(U){let _=Y.indexOf("#");if(_!==-1)Y=Y.slice(0,_);Y+=(Y.indexOf("?")===-1?"?":"&")+U}return Y}class TV{constructor(){this.handlers=[]}use(Y,Q,N){return this.handlers.push({fulfilled:Y,rejected:Q,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(Y){if(this.handlers[Y])this.handlers[Y]=null}clear(){if(this.handlers)this.handlers=[]}forEach(Y){x.forEach(this.handlers,function Q(N){if(N!==null)Y(N)})}}var CN=TV;var s2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var AV=typeof URLSearchParams!=="undefined"?URLSearchParams:n2;var EV=typeof FormData!=="undefined"?FormData:null;var IV=typeof Blob!=="undefined"?Blob:null;var DV={isBrowser:!0,classes:{URLSearchParams:AV,FormData:EV,Blob:IV},protocols:["http","https","file","blob","url","data"]};var RN={};vE(RN,{origin:()=>qj,navigator:()=>MN,hasStandardBrowserWebWorkerEnv:()=>Fj,hasStandardBrowserEnv:()=>jj,hasBrowserEnv:()=>SN});var SN=typeof window!=="undefined"&&typeof document!=="undefined",MN=typeof navigator==="object"&&navigator||void 0,jj=SN&&(!MN||["ReactNative","NativeScript","NS"].indexOf(MN.product)<0),Fj=(()=>{return typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function"})(),qj=SN&&window.location.href||"http://localhost";var V1={...RN,...DV};function kN(Y,Q){return SG(Y,new V1.classes.URLSearchParams,Object.assign({visitor:function(N,$,K,U){if(V1.isNode&&x.isBuffer(N))return this.append($,N.toString("base64")),!1;return U.defaultVisitor.apply(this,arguments)}},Q))}function Cj(Y){return x.matchAll(/\w+|\[(\w*)]/g,Y).map((Q)=>{return Q[0]==="[]"?"":Q[1]||Q[0]})}function Mj(Y){let Q={},N=Object.keys(Y),$,K=N.length,U;for($=0;$<K;$++)U=N[$],Q[U]=Y[U];return Q}function Sj(Y){function Q(N,$,K,U){let _=N[U++];if(_==="__proto__")return!0;let L=Number.isFinite(+_),O=U>=N.length;if(_=!_&&x.isArray(K)?K.length:_,O){if(x.hasOwnProp(K,_))K[_]=[K[_],$];else K[_]=$;return!L}if(!K[_]||!x.isObject(K[_]))K[_]=[];if(Q(N,$,K[_],U)&&x.isArray(K[_]))K[_]=Mj(K[_]);return!L}if(x.isFormData(Y)&&x.isFunction(Y.entries)){let N={};return x.forEachEntry(Y,($,K)=>{Q(Cj($),K,N,0)}),N}return null}var o2=Sj;function Rj(Y,Q,N){if(x.isString(Y))try{return(Q||JSON.parse)(Y),x.trim(Y)}catch($){if($.name!=="SyntaxError")throw $}return(N||JSON.stringify)(Y)}var xN={transitional:s2,adapter:["xhr","http","fetch"],transformRequest:[function Y(Q,N){let $=N.getContentType()||"",K=$.indexOf("application/json")>-1,U=x.isObject(Q);if(U&&x.isHTMLForm(Q))Q=new FormData(Q);if(x.isFormData(Q))return K?JSON.stringify(o2(Q)):Q;if(x.isArrayBuffer(Q)||x.isBuffer(Q)||x.isStream(Q)||x.isFile(Q)||x.isBlob(Q)||x.isReadableStream(Q))return Q;if(x.isArrayBufferView(Q))return Q.buffer;if(x.isURLSearchParams(Q))return N.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Q.toString();let L;if(U){if($.indexOf("application/x-www-form-urlencoded")>-1)return kN(Q,this.formSerializer).toString();if((L=x.isFileList(Q))||$.indexOf("multipart/form-data")>-1){let O=this.env&&this.env.FormData;return SG(L?{"files[]":Q}:Q,O&&new O,this.formSerializer)}}if(U||K)return N.setContentType("application/json",!1),Rj(Q);return Q}],transformResponse:[function Y(Q){let N=this.transitional||xN.transitional,$=N&&N.forcedJSONParsing,K=this.responseType==="json";if(x.isResponse(Q)||x.isReadableStream(Q))return Q;if(Q&&x.isString(Q)&&($&&!this.responseType||K)){let _=!(N&&N.silentJSONParsing)&&K;try{return JSON.parse(Q)}catch(L){if(_){if(L.name==="SyntaxError")throw O0.from(L,O0.ERR_BAD_RESPONSE,this,null,this.response);throw L}}}return Q}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V1.classes.FormData,Blob:V1.classes.Blob},validateStatus:function Y(Q){return Q>=200&&Q<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],(Y)=>{xN.headers[Y]={}});var GY=xN;var kj=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PV=(Y)=>{let Q={},N,$,K;return Y&&Y.split(`
`).forEach(function U(_){if(K=_.indexOf(":"),N=_.substring(0,K).trim().toLowerCase(),$=_.substring(K+1).trim(),!N||Q[N]&&kj[N])return;if(N==="set-cookie")if(Q[N])Q[N].push($);else Q[N]=[$];else Q[N]=Q[N]?Q[N]+", "+$:$}),Q};var jV=Symbol("internals");function G8(Y){return Y&&String(Y).trim().toLowerCase()}function a2(Y){if(Y===!1||Y==null)return Y;return x.isArray(Y)?Y.map(a2):String(Y)}function xj(Y){let Q=Object.create(null),N=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,$;while($=N.exec(Y))Q[$[1]]=$[2];return Q}var bj=(Y)=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Y.trim());function bN(Y,Q,N,$,K){if(x.isFunction($))return $.call(this,Q,N);if(K)Q=N;if(!x.isString(Q))return;if(x.isString($))return Q.indexOf($)!==-1;if(x.isRegExp($))return $.test(Q)}function vj(Y){return Y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(Q,N,$)=>{return N.toUpperCase()+$})}function fj(Y,Q){let N=x.toCamelCase(" "+Q);["get","set","has"].forEach(($)=>{Object.defineProperty(Y,$+N,{value:function(K,U,_){return this[$].call(this,Q,K,U,_)},configurable:!0})})}class Z8{constructor(Y){Y&&this.set(Y)}set(Y,Q,N){let $=this;function K(_,L,O){let V=G8(L);if(!V)throw new Error("header name must be a non-empty string");let E=x.findKey($,V);if(!E||$[E]===void 0||O===!0||O===void 0&&$[E]!==!1)$[E||L]=a2(_)}let U=(_,L)=>x.forEach(_,(O,V)=>K(O,V,L));if(x.isPlainObject(Y)||Y instanceof this.constructor)U(Y,Q);else if(x.isString(Y)&&(Y=Y.trim())&&!bj(Y))U(PV(Y),Q);else if(x.isHeaders(Y))for(let[_,L]of Y.entries())K(L,_,N);else Y!=null&&K(Q,Y,N);return this}get(Y,Q){if(Y=G8(Y),Y){let N=x.findKey(this,Y);if(N){let $=this[N];if(!Q)return $;if(Q===!0)return xj($);if(x.isFunction(Q))return Q.call(this,$,N);if(x.isRegExp(Q))return Q.exec($);throw new TypeError("parser must be boolean|regexp|function")}}}has(Y,Q){if(Y=G8(Y),Y){let N=x.findKey(this,Y);return!!(N&&this[N]!==void 0&&(!Q||bN(this,this[N],N,Q)))}return!1}delete(Y,Q){let N=this,$=!1;function K(U){if(U=G8(U),U){let _=x.findKey(N,U);if(_&&(!Q||bN(N,N[_],_,Q)))delete N[_],$=!0}}if(x.isArray(Y))Y.forEach(K);else K(Y);return $}clear(Y){let Q=Object.keys(this),N=Q.length,$=!1;while(N--){let K=Q[N];if(!Y||bN(this,this[K],K,Y,!0))delete this[K],$=!0}return $}normalize(Y){let Q=this,N={};return x.forEach(this,($,K)=>{let U=x.findKey(N,K);if(U){Q[U]=a2($),delete Q[K];return}let _=Y?vj(K):String(K).trim();if(_!==K)delete Q[K];Q[_]=a2($),N[_]=!0}),this}concat(...Y){return this.constructor.concat(this,...Y)}toJSON(Y){let Q=Object.create(null);return x.forEach(this,(N,$)=>{N!=null&&N!==!1&&(Q[$]=Y&&x.isArray(N)?N.join(", "):N)}),Q}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([Y,Q])=>Y+": "+Q).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(Y){return Y instanceof this?Y:new this(Y)}static concat(Y,...Q){let N=new this(Y);return Q.forEach(($)=>N.set($)),N}static accessor(Y){let N=(this[jV]=this[jV]={accessors:{}}).accessors,$=this.prototype;function K(U){let _=G8(U);if(!N[_])fj($,U),N[_]=!0}return x.isArray(Y)?Y.forEach(K):K(Y),this}}Z8.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Z8.prototype,({value:Y},Q)=>{let N=Q[0].toUpperCase()+Q.slice(1);return{get:()=>Y,set($){this[N]=$}}});x.freezeMethods(Z8);var f1=Z8;function Y8(Y,Q){let N=this||GY,$=Q||N,K=f1.from($.headers),U=$.data;return x.forEach(Y,function _(L){U=L.call(N,U,K.normalize(),Q?Q.status:void 0)}),K.normalize(),U}function X8(Y){return!!(Y&&Y.__CANCEL__)}function FV(Y,Q,N){O0.call(this,Y==null?"canceled":Y,O0.ERR_CANCELED,Q,N),this.name="CanceledError"}x.inherits(FV,O0,{__CANCEL__:!0});var K5=FV;function B8(Y,Q,N){let $=N.config.validateStatus;if(!N.status||!$||$(N.status))Y(N);else Q(new O0("Request failed with status code "+N.status,[O0.ERR_BAD_REQUEST,O0.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N))}function vN(Y){let Q=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Y);return Q&&Q[1]||""}function yj(Y,Q){Y=Y||10;let N=new Array(Y),$=new Array(Y),K=0,U=0,_;return Q=Q!==void 0?Q:1000,function L(O){let V=Date.now(),E=$[U];if(!_)_=V;N[K]=O,$[K]=V;let A=U,q=0;while(A!==K)q+=N[A++],A=A%Y;if(K=(K+1)%Y,K===U)U=(U+1)%Y;if(V-_<Q)return;let R=E&&V-E;return R?Math.round(q*1000/R):void 0}}var qV=yj;function gj(Y,Q){let N=0,$=1000/Q,K,U,_=(V,E=Date.now())=>{if(N=E,K=null,U)clearTimeout(U),U=null;Y.apply(null,V)};return[(...V)=>{let E=Date.now(),A=E-N;if(A>=$)_(V,E);else if(K=V,!U)U=setTimeout(()=>{U=null,_(K)},$-A)},()=>K&&_(K)]}var CV=gj;var ZY=(Y,Q,N=3)=>{let $=0,K=qV(50,250);return CV((U)=>{let _=U.loaded,L=U.lengthComputable?U.total:void 0,O=_-$,V=K(O),E=_<=L;$=_;let A={loaded:_,total:L,progress:L?_/L:void 0,bytes:O,rate:V?V:void 0,estimated:V&&L&&E?(L-_)/V:void 0,event:U,lengthComputable:L!=null,[Q?"download":"upload"]:!0};Y(A)},N)},fN=(Y,Q)=>{let N=Y!=null;return[($)=>Q[0]({lengthComputable:N,total:Y,loaded:$}),Q[1]]},yN=(Y)=>(...Q)=>x.asap(()=>Y(...Q));var MV=V1.hasStandardBrowserEnv?((Y,Q)=>(N)=>{return N=new URL(N,V1.origin),Y.protocol===N.protocol&&Y.host===N.host&&(Q||Y.port===N.port)})(new URL(V1.origin),V1.navigator&&/(msie|trident)/i.test(V1.navigator.userAgent)):()=>!0;var SV=V1.hasStandardBrowserEnv?{write(Y,Q,N,$,K,U){let _=[Y+"="+encodeURIComponent(Q)];x.isNumber(N)&&_.push("expires="+new Date(N).toGMTString()),x.isString($)&&_.push("path="+$),x.isString(K)&&_.push("domain="+K),U===!0&&_.push("secure"),document.cookie=_.join("; ")},read(Y){let Q=document.cookie.match(new RegExp("(^|;\\s*)("+Y+")=([^;]*)"));return Q?decodeURIComponent(Q[3]):null},remove(Y){this.write(Y,"",Date.now()-86400000)}}:{write(){},read(){return null},remove(){}};function gN(Y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Y)}function hN(Y,Q){return Q?Y.replace(/\/?\/$/,"")+"/"+Q.replace(/^\/+/,""):Y}function Q8(Y,Q,N){let $=!gN(Q);if(Y&&$||N==!1)return hN(Y,Q);return Q}var RV=(Y)=>Y instanceof f1?{...Y}:Y;function v9(Y,Q){Q=Q||{};let N={};function $(V,E,A,q){if(x.isPlainObject(V)&&x.isPlainObject(E))return x.merge.call({caseless:q},V,E);else if(x.isPlainObject(E))return x.merge({},E);else if(x.isArray(E))return E.slice();return E}function K(V,E,A,q){if(!x.isUndefined(E))return $(V,E,A,q);else if(!x.isUndefined(V))return $(void 0,V,A,q)}function U(V,E){if(!x.isUndefined(E))return $(void 0,E)}function _(V,E){if(!x.isUndefined(E))return $(void 0,E);else if(!x.isUndefined(V))return $(void 0,V)}function L(V,E,A){if(A in Q)return $(V,E);else if(A in Y)return $(void 0,V)}let O={url:U,method:U,data:U,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,withXSRFToken:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:L,headers:(V,E,A)=>K(RV(V),RV(E),A,!0)};return x.forEach(Object.keys(Object.assign({},Y,Q)),function V(E){let A=O[E]||K,q=A(Y[E],Q[E],E);x.isUndefined(q)&&A!==L||(N[E]=q)}),N}var r2=(Y)=>{let Q=v9({},Y),{data:N,withXSRFToken:$,xsrfHeaderName:K,xsrfCookieName:U,headers:_,auth:L}=Q;if(Q.headers=_=f1.from(_),Q.url=W8(Q8(Q.baseURL,Q.url,Q.allowAbsoluteUrls),Y.params,Y.paramsSerializer),L)_.set("Authorization","Basic "+btoa((L.username||"")+":"+(L.password?unescape(encodeURIComponent(L.password)):"")));let O;if(x.isFormData(N)){if(V1.hasStandardBrowserEnv||V1.hasStandardBrowserWebWorkerEnv)_.setContentType(void 0);else if((O=_.getContentType())!==!1){let[V,...E]=O?O.split(";").map((A)=>A.trim()).filter(Boolean):[];_.setContentType([V||"multipart/form-data",...E].join("; "))}}if(V1.hasStandardBrowserEnv){if($&&x.isFunction($)&&($=$(Q)),$||$!==!1&&MV(Q.url)){let V=K&&U&&SV.read(U);if(V)_.set(K,V)}}return Q};var hj=typeof XMLHttpRequest!=="undefined",kV=hj&&function(Y){return new Promise(function Q(N,$){let K=r2(Y),U=K.data,_=f1.from(K.headers).normalize(),{responseType:L,onUploadProgress:O,onDownloadProgress:V}=K,E,A,q,R,M;function h(){R&&R(),M&&M(),K.cancelToken&&K.cancelToken.unsubscribe(E),K.signal&&K.signal.removeEventListener("abort",E)}let S=new XMLHttpRequest;S.open(K.method.toUpperCase(),K.url,!0),S.timeout=K.timeout;function k(){if(!S)return;let l=f1.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),X0={data:!L||L==="text"||L==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:l,config:Y,request:S};B8(function x0(_0){N(_0),h()},function x0(_0){$(_0),h()},X0),S=null}if("onloadend"in S)S.onloadend=k;else S.onreadystatechange=function l(){if(!S||S.readyState!==4)return;if(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))return;setTimeout(k)};if(S.onabort=function l(){if(!S)return;$(new O0("Request aborted",O0.ECONNABORTED,Y,S)),S=null},S.onerror=function l(){$(new O0("Network Error",O0.ERR_NETWORK,Y,S)),S=null},S.ontimeout=function l(){let p=K.timeout?"timeout of "+K.timeout+"ms exceeded":"timeout exceeded",X0=K.transitional||s2;if(K.timeoutErrorMessage)p=K.timeoutErrorMessage;$(new O0(p,X0.clarifyTimeoutError?O0.ETIMEDOUT:O0.ECONNABORTED,Y,S)),S=null},U===void 0&&_.setContentType(null),"setRequestHeader"in S)x.forEach(_.toJSON(),function l(p,X0){S.setRequestHeader(X0,p)});if(!x.isUndefined(K.withCredentials))S.withCredentials=!!K.withCredentials;if(L&&L!=="json")S.responseType=K.responseType;if(V)[q,M]=ZY(V,!0),S.addEventListener("progress",q);if(O&&S.upload)[A,R]=ZY(O),S.upload.addEventListener("progress",A),S.upload.addEventListener("loadend",R);if(K.cancelToken||K.signal){if(E=(l)=>{if(!S)return;$(!l||l.type?new K5(null,Y,S):l),S.abort(),S=null},K.cancelToken&&K.cancelToken.subscribe(E),K.signal)K.signal.aborted?E():K.signal.addEventListener("abort",E)}let f=vN(K.url);if(f&&V1.protocols.indexOf(f)===-1){$(new O0("Unsupported protocol "+f+":",O0.ERR_BAD_REQUEST,Y));return}S.send(U||null)})};var mj=(Y,Q)=>{let{length:N}=Y=Y?Y.filter(Boolean):[];if(Q||N){let $=new AbortController,K,U=function(V){if(!K){K=!0,L();let E=V instanceof Error?V:this.reason;$.abort(E instanceof O0?E:new K5(E instanceof Error?E.message:E))}},_=Q&&setTimeout(()=>{_=null,U(new O0(`timeout ${Q} of ms exceeded`,O0.ETIMEDOUT))},Q),L=()=>{if(Y)_&&clearTimeout(_),_=null,Y.forEach((V)=>{V.unsubscribe?V.unsubscribe(U):V.removeEventListener("abort",U)}),Y=null};Y.forEach((V)=>V.addEventListener("abort",U));let{signal:O}=$;return O.unsubscribe=()=>x.asap(L),O}},xV=mj;var dj=function*(Y,Q){let N=Y.byteLength;if(!Q||N<Q){yield Y;return}let $=0,K;while($<N)K=$+Q,yield Y.slice($,K),$=K},uj=async function*(Y,Q){for await(let N of pj(Y))yield*dj(N,Q)},pj=async function*(Y){if(Y[Symbol.asyncIterator]){yield*Y;return}let Q=Y.getReader();try{for(;;){let{done:N,value:$}=await Q.read();if(N)break;yield $}}finally{await Q.cancel()}},mN=(Y,Q,N,$)=>{let K=uj(Y,Q),U=0,_,L=(O)=>{if(!_)_=!0,$&&$(O)};return new ReadableStream({async pull(O){try{let{done:V,value:E}=await K.next();if(V){L(),O.close();return}let A=E.byteLength;if(N){let q=U+=A;N(q)}O.enqueue(new Uint8Array(E))}catch(V){throw L(V),V}},cancel(O){return L(O),K.return()}},{highWaterMark:2})};var e2=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function",vV=e2&&typeof ReadableStream==="function",cj=e2&&(typeof TextEncoder==="function"?((Y)=>(Q)=>Y.encode(Q))(new TextEncoder):async(Y)=>new Uint8Array(await new Response(Y).arrayBuffer())),fV=(Y,...Q)=>{try{return!!Y(...Q)}catch(N){return!1}},lj=vV&&fV(()=>{let Y=!1,Q=new Request(V1.origin,{body:new ReadableStream,method:"POST",get duplex(){return Y=!0,"half"}}).headers.has("Content-Type");return Y&&!Q}),bV=65536,dN=vV&&fV(()=>x.isReadableStream(new Response("").body)),t2={stream:dN&&((Y)=>Y.body)};e2&&((Y)=>{["text","arrayBuffer","blob","formData","stream"].forEach((Q)=>{!t2[Q]&&(t2[Q]=x.isFunction(Y[Q])?(N)=>N[Q]():(N,$)=>{throw new O0(`Response type '${Q}' is not supported`,O0.ERR_NOT_SUPPORT,$)})})})(new Response);var ij=async(Y)=>{if(Y==null)return 0;if(x.isBlob(Y))return Y.size;if(x.isSpecCompliantForm(Y))return(await new Request(V1.origin,{method:"POST",body:Y}).arrayBuffer()).byteLength;if(x.isArrayBufferView(Y)||x.isArrayBuffer(Y))return Y.byteLength;if(x.isURLSearchParams(Y))Y=Y+"";if(x.isString(Y))return(await cj(Y)).byteLength},nj=async(Y,Q)=>{let N=x.toFiniteNumber(Y.getContentLength());return N==null?ij(Q):N},yV=e2&&(async(Y)=>{let{url:Q,method:N,data:$,signal:K,cancelToken:U,timeout:_,onDownloadProgress:L,onUploadProgress:O,responseType:V,headers:E,withCredentials:A="same-origin",fetchOptions:q}=r2(Y);V=V?(V+"").toLowerCase():"text";let R=xV([K,U&&U.toAbortSignal()],_),M,h=R&&R.unsubscribe&&(()=>{R.unsubscribe()}),S;try{if(O&&lj&&N!=="get"&&N!=="head"&&(S=await nj(E,$))!==0){let X0=new Request(Q,{method:"POST",body:$,duplex:"half"}),x0;if(x.isFormData($)&&(x0=X0.headers.get("content-type")))E.setContentType(x0);if(X0.body){let[_0,S0]=fN(S,ZY(yN(O)));$=mN(X0.body,bV,_0,S0)}}if(!x.isString(A))A=A?"include":"omit";let k="credentials"in Request.prototype;M=new Request(Q,{...q,signal:R,method:N.toUpperCase(),headers:E.normalize().toJSON(),body:$,duplex:"half",credentials:k?A:void 0});let f=await fetch(M),l=dN&&(V==="stream"||V==="response");if(dN&&(L||l&&h)){let X0={};["status","statusText","headers"].forEach((L0)=>{X0[L0]=f[L0]});let x0=x.toFiniteNumber(f.headers.get("content-length")),[_0,S0]=L&&fN(x0,ZY(yN(L),!0))||[];f=new Response(mN(f.body,bV,_0,()=>{S0&&S0(),h&&h()}),X0)}V=V||"text";let p=await t2[x.findKey(t2,V)||"text"](f,Y);return!l&&h&&h(),await new Promise((X0,x0)=>{B8(X0,x0,{data:p,headers:f1.from(f.headers),status:f.status,statusText:f.statusText,config:Y,request:M})})}catch(k){if(h&&h(),k&&k.name==="TypeError"&&/fetch/i.test(k.message))throw Object.assign(new O0("Network Error",O0.ERR_NETWORK,Y,M),{cause:k.cause||k});throw O0.from(k,k&&k.code,Y,M)}});var uN={http:i2,xhr:kV,fetch:yV};x.forEach(uN,(Y,Q)=>{if(Y){try{Object.defineProperty(Y,"name",{value:Q})}catch(N){}Object.defineProperty(Y,"adapterName",{value:Q})}});var gV=(Y)=>`- ${Y}`,sj=(Y)=>x.isFunction(Y)||Y===null||Y===!1,WB={getAdapter:(Y)=>{Y=x.isArray(Y)?Y:[Y];let{length:Q}=Y,N,$,K={};for(let U=0;U<Q;U++){N=Y[U];let _;if($=N,!sj(N)){if($=uN[(_=String(N)).toLowerCase()],$===void 0)throw new O0(`Unknown adapter '${_}'`)}if($)break;K[_||"#"+U]=$}if(!$){let U=Object.entries(K).map(([L,O])=>`adapter ${L} `+(O===!1?"is not supported by the environment":"is not available in the build")),_=Q?U.length>1?`since :
`+U.map(gV).join(`
`):" "+gV(U[0]):"as no adapter specified";throw new O0("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return $},adapters:uN};function pN(Y){if(Y.cancelToken)Y.cancelToken.throwIfRequested();if(Y.signal&&Y.signal.aborted)throw new K5(null,Y)}function GB(Y){if(pN(Y),Y.headers=f1.from(Y.headers),Y.data=Y8.call(Y,Y.transformRequest),["post","put","patch"].indexOf(Y.method)!==-1)Y.headers.setContentType("application/x-www-form-urlencoded",!1);return WB.getAdapter(Y.adapter||GY.adapter)(Y).then(function N($){return pN(Y),$.data=Y8.call(Y,Y.transformResponse,$),$.headers=f1.from($.headers),$},function N($){if(!X8($)){if(pN(Y),$&&$.response)$.response.data=Y8.call(Y,Y.transformResponse,$.response),$.response.headers=f1.from($.response.headers)}return Promise.reject($)})}var ZB="1.8.3";var YB={};["object","boolean","number","function","string","symbol"].forEach((Y,Q)=>{YB[Y]=function N($){return typeof $===Y||"a"+(Q<1?"n ":" ")+Y}});var hV={};YB.transitional=function Y(Q,N,$){function K(U,_){return"[Axios v"+ZB+"] Transitional option '"+U+"'"+_+($?". "+$:"")}return(U,_,L)=>{if(Q===!1)throw new O0(K(_," has been removed"+(N?" in "+N:"")),O0.ERR_DEPRECATED);if(N&&!hV[_])hV[_]=!0,console.warn(K(_," has been deprecated since v"+N+" and will be removed in the near future"));return Q?Q(U,_,L):!0}};YB.spelling=function Y(Q){return(N,$)=>{return console.warn(`${$} is likely a misspelling of ${Q}`),!0}};function oj(Y,Q,N){if(typeof Y!=="object")throw new O0("options must be an object",O0.ERR_BAD_OPTION_VALUE);let $=Object.keys(Y),K=$.length;while(K-- >0){let U=$[K],_=Q[U];if(_){let L=Y[U],O=L===void 0||_(L,U,Y);if(O!==!0)throw new O0("option "+U+" must be "+O,O0.ERR_BAD_OPTION_VALUE);continue}if(N!==!0)throw new O0("Unknown option "+U,O0.ERR_BAD_OPTION)}}var J8={assertOptions:oj,validators:YB};var U5=J8.validators;class N8{constructor(Y){this.defaults=Y,this.interceptors={request:new CN,response:new CN}}async request(Y,Q){try{return await this._request(Y,Q)}catch(N){if(N instanceof Error){let $={};Error.captureStackTrace?Error.captureStackTrace($):$=new Error;let K=$.stack?$.stack.replace(/^.+\n/,""):"";try{if(!N.stack)N.stack=K;else if(K&&!String(N.stack).endsWith(K.replace(/^.+\n.+\n/,"")))N.stack+=`
`+K}catch(U){}}throw N}}_request(Y,Q){if(typeof Y==="string")Q=Q||{},Q.url=Y;else Q=Y||{};Q=v9(this.defaults,Q);let{transitional:N,paramsSerializer:$,headers:K}=Q;if(N!==void 0)J8.assertOptions(N,{silentJSONParsing:U5.transitional(U5.boolean),forcedJSONParsing:U5.transitional(U5.boolean),clarifyTimeoutError:U5.transitional(U5.boolean)},!1);if($!=null)if(x.isFunction($))Q.paramsSerializer={serialize:$};else J8.assertOptions($,{encode:U5.function,serialize:U5.function},!0);if(Q.allowAbsoluteUrls!==void 0);else if(this.defaults.allowAbsoluteUrls!==void 0)Q.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls;else Q.allowAbsoluteUrls=!0;J8.assertOptions(Q,{baseUrl:U5.spelling("baseURL"),withXsrfToken:U5.spelling("withXSRFToken")},!0),Q.method=(Q.method||this.defaults.method||"get").toLowerCase();let U=K&&x.merge(K.common,K[Q.method]);K&&x.forEach(["delete","get","head","post","put","patch","common"],(R)=>{delete K[R]}),Q.headers=f1.concat(U,K);let _=[],L=!0;this.interceptors.request.forEach(function R(M){if(typeof M.runWhen==="function"&&M.runWhen(Q)===!1)return;L=L&&M.synchronous,_.unshift(M.fulfilled,M.rejected)});let O=[];this.interceptors.response.forEach(function R(M){O.push(M.fulfilled,M.rejected)});let V,E=0,A;if(!L){let R=[GB.bind(this),void 0];R.unshift.apply(R,_),R.push.apply(R,O),A=R.length,V=Promise.resolve(Q);while(E<A)V=V.then(R[E++],R[E++]);return V}A=_.length;let q=Q;E=0;while(E<A){let R=_[E++],M=_[E++];try{q=R(q)}catch(h){M.call(this,h);break}}try{V=GB.call(this,q)}catch(R){return Promise.reject(R)}E=0,A=O.length;while(E<A)V=V.then(O[E++],O[E++]);return V}getUri(Y){Y=v9(this.defaults,Y);let Q=Q8(Y.baseURL,Y.url,Y.allowAbsoluteUrls);return W8(Q,Y.params,Y.paramsSerializer)}}x.forEach(["delete","get","head","options"],function Y(Q){N8.prototype[Q]=function(N,$){return this.request(v9($||{},{method:Q,url:N,data:($||{}).data}))}});x.forEach(["post","put","patch"],function Y(Q){function N($){return function K(U,_,L){return this.request(v9(L||{},{method:Q,headers:$?{"Content-Type":"multipart/form-data"}:{},url:U,data:_}))}}N8.prototype[Q]=N(),N8.prototype[Q+"Form"]=N(!0)});var $8=N8;class cN{constructor(Y){if(typeof Y!=="function")throw new TypeError("executor must be a function.");let Q;this.promise=new Promise(function $(K){Q=K});let N=this;this.promise.then(($)=>{if(!N._listeners)return;let K=N._listeners.length;while(K-- >0)N._listeners[K]($);N._listeners=null}),this.promise.then=($)=>{let K,U=new Promise((_)=>{N.subscribe(_),K=_}).then($);return U.cancel=function _(){N.unsubscribe(K)},U},Y(function $(K,U,_){if(N.reason)return;N.reason=new K5(K,U,_),Q(N.reason)})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(Y){if(this.reason){Y(this.reason);return}if(this._listeners)this._listeners.push(Y);else this._listeners=[Y]}unsubscribe(Y){if(!this._listeners)return;let Q=this._listeners.indexOf(Y);if(Q!==-1)this._listeners.splice(Q,1)}toAbortSignal(){let Y=new AbortController,Q=(N)=>{Y.abort(N)};return this.subscribe(Q),Y.signal.unsubscribe=()=>this.unsubscribe(Q),Y.signal}static source(){let Y;return{token:new cN(function N($){Y=$}),cancel:Y}}}var mV=cN;function lN(Y){return function Q(N){return Y.apply(null,N)}}function iN(Y){return x.isObject(Y)&&Y.isAxiosError===!0}var nN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nN).forEach(([Y,Q])=>{nN[Q]=Y});var dV=nN;function uV(Y){let Q=new $8(Y),N=r4($8.prototype.request,Q);return x.extend(N,$8.prototype,Q,{allOwnKeys:!0}),x.extend(N,Q,null,{allOwnKeys:!0}),N.create=function $(K){return uV(v9(Y,K))},N}var M1=uV(GY);M1.Axios=$8;M1.CanceledError=K5;M1.CancelToken=mV;M1.isCancel=X8;M1.VERSION=ZB;M1.toFormData=SG;M1.AxiosError=O0;M1.Cancel=M1.CanceledError;M1.all=function Y(Q){return Promise.all(Q)};M1.spread=lN;M1.isAxiosError=iN;M1.mergeConfig=v9;M1.AxiosHeaders=f1;M1.formToJSON=(Y)=>o2(x.isHTMLForm(Y)?new FormData(Y):Y);M1.getAdapter=WB.getAdapter;M1.HttpStatusCode=dV;M1.default=M1;var XB=M1;function pV(){return{query:Y,touch:Q};async function Y(N){return(await XB.get(N)).data}async function Q(N,$){return(await XB.post(N,$)).data}}var BB=pV();function YY(Y,Q){if(Y)return;throw Q}var c5=i(G0(),1);function cV({urls:Y,msIntervalSleep:Q,animation:N,style:$,children:K,...U}){let _=c0.useState(0),L=m2(Y.length,Y.map((O,V)=>({transform:`translateX(${100*(V-_[0])}%)`,config:N})));return c0.useEffect(()=>{let O=setInterval(()=>_[1]((V)=>(V+1)%Y.length),Q);return()=>clearInterval(O)},[]),c5.jsxDEV(c5.Fragment,{children:c5.jsxDEV("div",{style:{borderRadius:10,boxShadow:z9,position:"relative",overflowX:"hidden",overflowY:"hidden",...$},...U,children:[L.map((O,V)=>c5.jsxDEV(c5.Fragment,{children:c5.jsxDEV(o4.div,{style:{...O,position:"absolute",width:"100%",height:"100%",flex:1,backgroundImage:`url(${Y[V]})`,backgroundSize:"cover",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat"}},V,!1,void 0,this)},void 0,!1,void 0,this)),c5.jsxDEV("div",{style:{position:"relative",zIndex:"2",width:"100%",height:"100%",flex:1},children:K},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var U1=["#0C0527","#FAF6F6","#F1D550"];var L1=["Konkhmer Sleokchher","Core Sans A","Maria"];var z9="rgba(0, 0, 0, 0.05) 0px 0px 0px 1px";var z8=i(G0(),1);function QB({style:Y,children:Q,...N}){return z8.jsxDEV(z8.Fragment,{children:z8.jsxDEV("button",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],color:U1[1],boxShadow:z9,background:U1[0],padding:5,borderRadius:5,width:"100%",height:"auto",flexGrow:1,...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var K8=i(G0(),1);function SZ({style:Y,...Q}){return K8.jsxDEV(K8.Fragment,{children:K8.jsxDEV("input",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...Y},...Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var U8=i(G0(),1);function JB({style:Y,children:Q,...N}){return U8.jsxDEV(U8.Fragment,{children:U8.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var H8=i(G0(),1);function NB({style:Y,children:Q,...N}){return H8.jsxDEV(H8.Fragment,{children:H8.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],boxShadow:z9,padding:20,borderRadius:5,gap:20,background:"white",...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var f9=i(G0(),1);function lV({sections:Y,...Q}){return f9.jsxDEV(f9.Fragment,{children:f9.jsxDEV(iV,{...Q,children:[f9.jsxDEV(oN,{children:Y[0]},void 0,!1,void 0,this),f9.jsxDEV(oN,{children:Y[1]},void 0,!1,void 0,this),f9.jsxDEV(oN,{children:Y[2]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function oN({style:Y,children:Q,...N}){return f9.jsxDEV(f9.Fragment,{children:f9.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var RZ=i(G0(),1);function iV({navbar:Y,footer:Q,style:N,children:$,...K}){return RZ.jsxDEV(RZ.Fragment,{children:RZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100vw",height:"100vh",background:"white",...N},...K,children:RZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",minWidth:1024,maxWidth:1440,width:"100%",height:"100%",flex:1,paddingLeft:64,paddingRight:64},children:[Y,RZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexGrow:1,width:"100%",height:"100%"},children:$},void 0,!1,void 0,this),Q]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var _8=i(G0(),1);function aN({style:Y,children:Q,...N}){return _8.jsxDEV(_8.Fragment,{children:_8.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,gap:10,...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var y9=i(G0(),1);function XY({icon:Y,iconStyle:Q,childStyle:N,animation:$,fontSizeOnMouseEnter:K="0.6em",fontSizeOnMouseLeave:U="0.7em",style:_,children:L,...O}){let V=EN(()=>({fontSize:U}));return y9.jsxDEV(y9.Fragment,{children:y9.jsxDEV("div",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"8px",gap:"5px",textDecorationLine:"none",..._},...O,children:[Y?y9.jsxDEV(y9.Fragment,{children:y9.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundImage:`url(${Y})`,backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"15px",aspectRatio:"1 / 1",...Q}},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,L?y9.jsxDEV(y9.Fragment,{children:y9.jsxDEV(o4.div,{onMouseEnter:()=>{V[1].start({fontSize:K,config:$});return},onMouseLeave:()=>{V[1].start({fontSize:U,config:$});return},style:{fontWeight:"normal",fontFamily:L1[1],color:U1[0],...V[0],...N},children:L},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var w8=i(G0(),1);function nV({style:Y,...Q}){return w8.jsxDEV(w8.Fragment,{children:w8.jsxDEV($B,{url:PJ,style:{width:"25px",...Y},...Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var RG=i(G0(),1);function sV({to:Y,style:Q,children:N,...$}){return RG.jsxDEV(RG.Fragment,{children:RG.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,position:"relative",background:U1[0],borderRadius:"10px",...Q},children:[RG.jsxDEV(nV,{style:{position:"absolute",right:"100%",bottom:"100%"}},void 0,!1,void 0,this),RG.jsxDEV(DW,{to:Y,children:RG.jsxDEV(XY,{childStyle:{color:U1[1]},children:N},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var BY=i(G0(),1);function oV({style:Y,...Q}){return BY.jsxDEV(BY.Fragment,{children:BY.jsxDEV(DW,{to:"/",style:{display:"contents"},children:BY.jsxDEV(zB,{url:DJ,style:{cursor:"pointer",width:"150px",aspectRatio:"2 / 1",...Y},...Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var mW=i(G0(),1);function aV({materials:Y,materialFocus:Q,toggled:N,style:$,children:K,...U}){return mW.jsxDEV(mW.Fragment,{children:mW.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...$},...U,children:[mW.jsxDEV("div",{onClick:()=>N[1](!0),style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],cursor:"pointer"},children:K},void 0,!1,void 0,this),N[0]?mW.jsxDEV(mW.Fragment,{children:mW.jsxDEV("div",{onMouseLeave:()=>N[1](!1),style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"120%",gap:20,padding:10,boxShadow:z9},children:Y[0].map((_)=>mW.jsxDEV(mW.Fragment,{children:mW.jsxDEV(DW,{to:"/show_room",onClick:()=>Q[1](_),children:mW.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"0.75em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],cursor:"pointer"},children:_},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var O8=i(G0(),1);function rV({materials:Y,materialFocus:Q,products:N,productFocus:$,user:K,userIsSignedIn:U}){let _=c0.useState(!1),L=c0.useState(!1),O=c0.useState("");return O8.jsxDEV(O8.Fragment,{children:O8.jsxDEV(tV,{materials:Y,materialFocus:Q,materialsDropDownButtonToggled:_,products:N,productFocus:$,searchBarToggled:L,searchBarInput:O,user:K,userIsSignedIn:U},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var V8=i(G0(),1);function eV({products:Y,productFocus:Q,...N}){let $=c0.useState(!1),K=c0.useState(""),U=c0.useState([]);return V8.jsxDEV(V8.Fragment,{children:V8.jsxDEV(WL,{products:Y,productFocus:Q,toggled:$,input:K,suggestions:U,...N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var PW=i(G0(),1);function WL({products:Y,productFocus:Q,toggled:N,input:$,suggestions:K,style:U,..._}){return c0.useEffect(()=>{let L=$[0];if(L.trim().length===0){N[1](!0);return}let O=Y[0];O.map((V)=>({...V,score:rN.get(L,V.name?.toLocaleLowerCase()||"")})).sort((V,E)=>V.score-E.score).slice(0,10),K[1](O),N[1](!0);return},[$[0]]),PW.jsxDEV(PW.Fragment,{children:PW.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",width:"100%",height:"auto",flex:"1",...U},..._,children:[PW.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",boxShadow:z9,padding:10,flex:1,gap:10},children:[PW.jsxDEV($B,{url:jJ,style:{width:"15px"}},void 0,!1,void 0,this),PW.jsxDEV("input",{value:$[0],onChange:(L)=>$[1](L.target.value),style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:L1[1]}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),N[0]?PW.jsxDEV(PW.Fragment,{children:PW.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"100%",width:"100%",height:"auto",flex:1,boxShadow:z9,background:"white"},children:K[0].map((L)=>PW.jsxDEV(PW.Fragment,{children:PW.jsxDEV(GL,{to:"/product",products:Y,productFocus:Q,suggested:L},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var l5=i(G0(),1);function ZL({username:Y,password:Q,response:N,user:$,userIsSignedIn:K,onValidation:U,onSignIn:_,...L}){return l5.jsxDEV(l5.Fragment,{children:l5.jsxDEV(NB,{...L,children:[l5.jsxDEV(JB,{children:N[0]},void 0,!1,void 0,this),l5.jsxDEV(SZ,{value:Y[0],placeholder:"Username",onChange:(O)=>Y[1](O.target.value)},void 0,!1,void 0,this),l5.jsxDEV(SZ,{value:Q[0],placeholder:"Password",onChange:(O)=>Q[1](O.target.value)},void 0,!1,void 0,this),l5.jsxDEV(QB,{onClick:async()=>{let O,V;if([O,V]=await U(Y[0],Q[0]),O===!1){N[1](V);return}if([O,V]=await _(Y[0],Q[0]),O===!1){N[1](V);return}N[1](null);return},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var K9=i(G0(),1);function YL({username:Y,password:Q,email:N,response:$,onValidation:K,onSignUp:U,..._}){return K9.jsxDEV(K9.Fragment,{children:K9.jsxDEV(NB,{..._,children:[$[0]?K9.jsxDEV(K9.Fragment,{children:K9.jsxDEV(JB,{children:$[0]},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,K9.jsxDEV(SZ,{value:N[0],placeholder:"Email",onChange:(L)=>N[1](L.target.value)},void 0,!1,void 0,this),K9.jsxDEV(SZ,{value:Y[0],placeholder:"Username",onChange:(L)=>Y[1](L.target.value)},void 0,!1,void 0,this),K9.jsxDEV(SZ,{value:Q[0],placeholder:"Password",onChange:(L)=>Q[1](L.target.value)},void 0,!1,void 0,this),K9.jsxDEV(QB,{onClick:async()=>{let L,O;if([L,O]=await K(Y[0],Q[0],N[0]),L===!1){$[1](O);return}if([L,O]=await U(Y[0],Q[0],N[0]),L===!1){$[1](O);return}$[1](null);return},children:"Sign Up"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var g9=i(G0(),1);function XL({user:Y,userIsSignedIn:Q,...N}){let $=c0.useState(!1),K=c0.useState(!1),U=c0.useState(!1),_=c0.useState(""),L=c0.useState(""),O=c0.useState(""),V=c0.useState(null);return g9.jsxDEV(g9.Fragment,{children:g9.jsxDEV(BL,{toggled:$,signUpToggled:K,signInToggled:U,signUpForm:g9.jsxDEV(g9.Fragment,{children:g9.jsxDEV(YL,{username:_,password:L,email:O,response:V,onValidation:async(E,A,q)=>{try{return YY(E.trim().length!==0,""),YY(A.trim().length!==0,""),YY(q.trim().length!==0,""),[!0,null]}catch(R){return[!1,String(R)]}},onSignUp:async(E,A,q)=>{if((await BB.touch("/username_is_available",{username:E})).success){let R=await BB.touch("/sign_up",{username:E,password:A,email:q});if(R)return[!1,R];return[!0,null]}return[!1,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),signInForm:g9.jsxDEV(g9.Fragment,{children:g9.jsxDEV(ZL,{username:_,password:L,response:V,user:Y,userIsSignedIn:Q,onValidation:async(E,A)=>{try{return YY(E.trim().length!==0,""),YY(A.trim().length!==0,""),[!0,null]}catch(q){return[!1,String(q)]}},onSignIn:async(E,A)=>{let q=await BB.touch("/sign_in",{username:E,password:A});if(q)return[!1,q];return[!0,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),...N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var kZ=i(G0(),1);function BL({toggled:Y,signUpToggled:Q,signInToggled:N,signUpForm:$,signInForm:K,style:U,..._}){return kZ.jsxDEV(kZ.Fragment,{children:kZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...U},..._,children:[kZ.jsxDEV(XY,{onClick:()=>{Y[1](!0),N[1](!1),Q[1](!0);return},children:"Sign Up"},void 0,!1,void 0,this),kZ.jsxDEV("div",{onClick:()=>{Y[1](!0),N[1](!0),N[1](!1)},style:{},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var i5=i(G0(),1);function GL({products:Y,productFocus:Q,suggested:N,to:$,style:K,...U}){return i5.jsxDEV(i5.Fragment,{children:i5.jsxDEV(DW,{style:{display:"contents"},to:$,children:i5.jsxDEV("div",{onClick:()=>{let L=Y[0].filter((O)=>O.name===N?.name).at(0)||null;if(L)Q[1](L);return},style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,padding:8,cursor:"pointer",...K},...U,children:[i5.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:U1[0],fontSize:"1em",fontWeight:"normal",fontFamily:L1[1]},children:N.name},void 0,!1,void 0,this),i5.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:U1[0],fontSize:"1em",fontWeight:"normal",fontFamily:L1[1]},children:["£",N.price.toFixed(2).toString()]},void 0,!0,void 0,this),i5.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:U1[0],fontSize:"1em",fontWeight:"normal",fontFamily:L1[1]},children:[N.stock.toFixed(0)," left"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var jW=i(G0(),1);function tV({materials:Y,materialFocus:Q,materialsDropDownButtonToggled:N,products:$,productFocus:K,searchBarToggled:U,searchBarInput:_,user:L,userIsSignedIn:O,style:V,...E}){return jW.jsxDEV(jW.Fragment,{children:jW.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:"auto",flex:1,paddingTop:30,paddingBottom:30,gap:40,zIndex:2000,...V},...E,children:[jW.jsxDEV(oV,{},void 0,!1,void 0,this),jW.jsxDEV(aN,{children:[jW.jsxDEV(sV,{to:"/for_you",children:"For You"},void 0,!1,void 0,this),jW.jsxDEV(aV,{materials:Y,materialFocus:Q,toggled:N},void 0,!1,void 0,this)]},void 0,!0,void 0,this),jW.jsxDEV(eV,{products:$,productFocus:K},void 0,!1,void 0,this),jW.jsxDEV(aN,{children:[jW.jsxDEV(DW,{to:"/basket",children:jW.jsxDEV(XY,{children:"Basket"},void 0,!1,void 0,this)},void 0,!1,void 0,this),jW.jsxDEV(XL,{user:L,userIsSignedIn:O},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var dW=i(G0(),1);function QL({...Y}){return dW.jsxDEV(dW.Fragment,{children:dW.jsxDEV(lV,{sections:[dW.jsxDEV(dW.Fragment,{children:dW.jsxDEV(cV,{style:{width:"100%",height:"auto",flex:"1",margin:"10px"},urls:[],msIntervalSleep:30000,animation:{duration:30000},children:dW.jsxDEV(JL,{style:{fontSize:"9em",color:U1[0]},children:"OFFCUTS"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),dW.jsxDEV(dW.Fragment,{},void 0,!1,void 0,this),dW.jsxDEV(dW.Fragment,{},void 0,!1,void 0,this)],...Y},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var L8=i(G0(),1);function $B({style:Y,children:Q,...N}){return L8.jsxDEV(L8.Fragment,{children:L8.jsxDEV(zB,{style:{aspectRatio:"1 / 1",...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var T8=i(G0(),1);function zB({url:Y,style:Q,children:N,...$}){return T8.jsxDEV(T8.Fragment,{children:T8.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundImage:`url(${Y})`,backgroundSize:"contain",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",...Q},...$,children:N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var NL=i(G0(),1);var $L=i(G0(),1);var zL=i(G0(),1);var KL=i(G0(),1);var UL=i(G0(),1);var HL=i(G0(),1);var _L=i(G0(),1);var A8=i(G0(),1);function JL({style:Y,children:Q,...N}){return A8.jsxDEV(A8.Fragment,{children:A8.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function wL(Y){let Q=document.getElementById("root");if(Q===null)throw"ERR_MISSING_ROOT_ELEMENT";tN.createRoot(Q).render(Y)}var FW=i(G0(),1);function rj(){let Y=c0.useState([]),Q=c0.useState(""),N=c0.useState([]),$=c0.useState(null),K=c0.useState(null),U=c0.useState(!1);return FW.jsxDEV(FW.Fragment,{children:FW.jsxDEV(T2,{children:FW.jsxDEV(V2,{children:FW.jsxDEV(S4,{path:"/",element:FW.jsxDEV(FW.Fragment,{children:FW.jsxDEV(QL,{navbar:FW.jsxDEV(FW.Fragment,{children:FW.jsxDEV(rV,{materials:Y,materialFocus:Q,products:N,productFocus:$,user:K,userIsSignedIn:U},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}wL(FW.jsxDEV(rj,{},void 0,!1,void 0,this));

//# debugId=7A3C781CA1E8367064756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc2NoZWR1bGVyL2Nqcy9zY2hlZHVsZXIuZGV2ZWxvcG1lbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9janMvcmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2NsaWVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL25vZGVfbW9kdWxlcy9jb29raWUvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZmFzdGVzdC1sZXZlbnNodGVpbi9tb2QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3QtbGV2ZW5zaHRlaW4vbGV2ZW5zaHRlaW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCAibW9kLnRzeCIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2Rpc3QvZGV2ZWxvcG1lbnQvY2h1bmstSzZDU0VYUE0ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3JhZnovZGlzdC9yZWFjdC1zcHJpbmdfcmFmei5tb2Rlcm4ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3NoYXJlZC9kaXN0L3JlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHJlYWN0LXNwcmluZy9jb3JlL2Rpc3QvcmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHJlYWN0LXNwcmluZy9hbmltYXRlZC9kaXN0L3JlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3dlYi9kaXN0L3JlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYmluZC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0Vycm9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9udWxsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b0Zvcm1EYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0ludGVyY2VwdG9yTWFuYWdlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2RlZmF1bHRzL3RyYW5zaXRpb25hbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvRm9ybURhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvQmxvYi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9jb21tb24vdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdG9VUkxFbmNvZGVkRm9ybS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0hlYWRlcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3RyYW5zZm9ybURhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvc2V0dGxlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcGVlZG9tZXRlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdGhyb3R0bGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Nvb2tpZXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9idWlsZEZ1bGxQYXRoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9tZXJnZUNvbmZpZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tcG9zZVNpZ25hbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RyYWNrU3RyZWFtLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMvZmV0Y2guanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy9hZGFwdGVycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3ZhbGlkYXRvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3MuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2F4aW9zLmpzIiwgImNvbW1vbi9zZXJ2ZXIudHMiLCAiY29tbW9uL2NvbnN0YW50L2JyaWRnZS50cyIsICJjb21tb24vdXRpbC9yZXF1aXJlLnRzIiwgImNvbXBvbmVudC9hbmltYXRpb24vaW1hZ2VfY2Fyb3VzZWwudHN4IiwgImNvbXBvbmVudC9jb25zdGFudC9jb2xvci50c3giLCAiY29tcG9uZW50L2NvbnN0YW50L2ZvbnQudHN4IiwgImNvbXBvbmVudC9jb25zdGFudC9zaGFkb3cudHN4IiwgImNvbXBvbmVudC9mb3JtL2Zvcm1fYnV0dG9uLnRzeCIsICJjb21wb25lbnQvZm9ybS9mb3JtX2lucHV0LnRzeCIsICJjb21wb25lbnQvZm9ybS9mb3JtX21lc3NhZ2UudHN4IiwgImNvbXBvbmVudC9mb3JtL2Zvcm0udHN4IiwgImNvbXBvbmVudC9sYXlvdXQvcGFnZV93aXRoXzNfdmVydGljYWxfc2VjdGlvbnMudHN4IiwgImNvbXBvbmVudC9sYXlvdXQvcGFnZS50c3giLCAiY29tcG9uZW50L25hdi9uYXZfYnV0dG9uX2dyb3VwLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9idXR0b24udHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbl9pY29uLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9jYWxsX3RvX2FjdGlvbl9idXR0b24udHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X2xvZ28udHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X21hdGVyaWFsc19kcm9wX2Rvd25fYnV0dG9uLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9zZWFyY2hfYmFyX3BhcnRpYWxfYnVpbGQudHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X3NlYXJjaF9iYXIudHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X3NpZ25faW5fZm9ybS50c3giLCAiY29tcG9uZW50L25hdi9uYXZfc2lnbl91cF9mb3JtLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbi50c3giLCAiY29tcG9uZW50L25hdi9uYXZfc3VnZ2VzdGlvbi50c3giLCAiY29tcG9uZW50L25hdi9uYXYudHN4IiwgImNvbXBvbmVudC9wYWdlL2hvbWVfcGFnZS50c3giLCAiY29tcG9uZW50L3Nwcml0ZS9zcHJpdGVfaWNvbi50c3giLCAiY29tcG9uZW50L3Nwcml0ZS9zcHJpdGUudHN4IiwgImNvbXBvbmVudC90eXBvZ3JhcGh5L3R5cG9ncmFwaHkudHN4IiwgImNvbXBvbmVudC91dGlsL3JlbmRlci50c3giLCAiYXBwLnRzeCJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcobWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCIlcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlc1wiLFxuICAgICAgICAgICAgaW5mb1swXSxcbiAgICAgICAgICAgIGluZm9bMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgKChwdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yKSAmJlxuICAgICAgICAgIChwdWJsaWNJbnN0YW5jZS5kaXNwbGF5TmFtZSB8fCBwdWJsaWNJbnN0YW5jZS5uYW1lKSkgfHxcbiAgICAgICAgXCJSZWFjdENsYXNzXCI7XG4gICAgICB2YXIgd2FybmluZ0tleSA9IHB1YmxpY0luc3RhbmNlICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgIGNsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC5cIixcbiAgICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICAgIHB1YmxpY0luc3RhbmNlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbiAgICBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fFxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmdldE1vZHVsZUlkKSlcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG4gICAgZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNhYmxlZERlcHRoKys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAgICAgIGRpc2FibGVkRGVwdGgtLTtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHsgY29uZmlndXJhYmxlOiAhMCwgZW51bWVyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2TG9nIH0pLFxuICAgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZJbmZvIH0pLFxuICAgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZXYXJuIH0pLFxuICAgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2RXJyb3IgfSksXG4gICAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cCB9KSxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkIH0pLFxuICAgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBFbmQgfSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAwID4gZGlzYWJsZWREZXB0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHByZWZpeClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICBwcmVmaXggPSAobWF0Y2ggJiYgbWF0Y2hbMV0pIHx8IFwiXCI7XG4gICAgICAgICAgc3VmZml4ID1cbiAgICAgICAgICAgIC0xIDwgeC5zdGFjay5pbmRleE9mKFwiXFxuICAgIGF0XCIpXG4gICAgICAgICAgICAgID8gXCIgKDxhbm9ueW1vdXM+KVwiXG4gICAgICAgICAgICAgIDogLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJAXCIpXG4gICAgICAgICAgICAgICAgPyBcIkB1bmtub3duOjA6MFwiXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcXG5cIiArIHByZWZpeCArIG5hbWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAgICAgaWYgKCFmbiB8fCByZWVudHJ5KSByZXR1cm4gXCJcIjtcbiAgICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGZyYW1lKSByZXR1cm4gZnJhbWU7XG4gICAgICByZWVudHJ5ID0gITA7XG4gICAgICBmcmFtZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gbnVsbDtcbiAgICAgIGRpc2FibGVMb2dzKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgICAgICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCBcInByb3BzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sID0geCQwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKEZha2UgPSBmbigpKSAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgRmFrZS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgRmFrZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNhbXBsZS5zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NhbXBsZS5zdGFjaywgY29udHJvbC5zdGFja107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LmRpc3BsYXlOYW1lID1cbiAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiO1xuICAgICAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgXCJuYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICAgIFwibmFtZVwiLFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIiB9XG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIF9SdW5JblJvb3RGcmFtZSREZXRlciA9XG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgICBzYW1wbGVTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclswXSxcbiAgICAgICAgICBjb250cm9sU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMV07XG4gICAgICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGVTdGFjay5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2xTdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gbmFtZVByb3BEZXNjcmlwdG9yID0gMDtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIXNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IrKztcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyIDwgY29udHJvbExpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIWNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyKys7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID09PSBzYW1wbGVMaW5lcy5sZW5ndGggfHxcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9PT0gY29udHJvbExpbmVzLmxlbmd0aFxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyICYmXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl07XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS07XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLS0sIF9SdW5JblJvb3RGcmFtZSREZXRlci0tXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgxICE9PSBuYW1lUHJvcERlc2NyaXB0b3IgfHwgMSAhPT0gX1J1bkluUm9vdEZyYW1lJERldGVyKSB7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKG5hbWVQcm9wRGVzY3JpcHRvci0tLFxuICAgICAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLSxcbiAgICAgICAgICAgICAgICAgICAgMCA+IF9SdW5JblJvb3RGcmFtZSREZXRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBuZXcgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZuLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLCBmbi5kaXNwbGF5TmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlICgxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChyZWVudHJ5ID0gITEpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldmlvdXNEaXNwYXRjaGVyKSxcbiAgICAgICAgICByZWVuYWJsZUxvZ3MoKSxcbiAgICAgICAgICAoRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmcmFtZSk7XG4gICAgICB9XG4gICAgICBzYW1wbGVMaW5lcyA9IChzYW1wbGVMaW5lcyA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6IFwiXCIpXG4gICAgICAgID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoc2FtcGxlTGluZXMpXG4gICAgICAgIDogXCJcIjtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzYW1wbGVMaW5lcyk7XG4gICAgICByZXR1cm4gc2FtcGxlTGluZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKSB7XG4gICAgICAgIHZhciBwcm90b3R5cGUgPSB0eXBlLnByb3RvdHlwZTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICAhKCFwcm90b3R5cGUgfHwgIXByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlXCIpO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZSA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIsICExKSksIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUudHlwZSk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBwcm90b3R5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUocHJvdG90eXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgICAgIHNlbGYgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gc2VsZiA/IHNlbGYgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb25lQW5kUmVwbGFjZUtleShvbGRFbGVtZW50LCBuZXdLZXkpIHtcbiAgICAgIG5ld0tleSA9IFJlYWN0RWxlbWVudChcbiAgICAgICAgb2xkRWxlbWVudC50eXBlLFxuICAgICAgICBuZXdLZXksXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBvbGRFbGVtZW50Ll9vd25lcixcbiAgICAgICAgb2xkRWxlbWVudC5wcm9wc1xuICAgICAgKTtcbiAgICAgIG5ld0tleS5fc3RvcmUudmFsaWRhdGVkID0gb2xkRWxlbWVudC5fc3RvcmUudmFsaWRhdGVkO1xuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICBub2RlICYmXG4gICAgICAgIG5vZGUuJCR0eXBlb2YgIT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgIClcbiAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5vZGUpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKVxuICAgICAgICAgIG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKChpID0gZ2V0SXRlcmF0b3JGbihub2RlKSksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSAmJlxuICAgICAgICAgICAgaSAhPT0gbm9kZS5lbnRyaWVzICYmXG4gICAgICAgICAgICAoKGkgPSBpLmNhbGwobm9kZSkpLCBpICE9PSBub2RlKSlcbiAgICAgICAgKVxuICAgICAgICAgIGZvciAoOyAhKG5vZGUgPSBpLm5leHQoKSkuZG9uZTsgKVxuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShub2RlLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgICFlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgbnVsbCA9PSBlbGVtZW50LmtleSAmJlxuICAgICAgICAoKGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IDEpLFxuICAgICAgICAocGFyZW50VHlwZSA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkpLFxuICAgICAgICAhb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdKVxuICAgICAgKSB7XG4gICAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSA9ICEwO1xuICAgICAgICB2YXIgY2hpbGRPd25lciA9IFwiXCI7XG4gICAgICAgIGVsZW1lbnQgJiZcbiAgICAgICAgICBudWxsICE9IGVsZW1lbnQuX293bmVyICYmXG4gICAgICAgICAgZWxlbWVudC5fb3duZXIgIT09IGdldE93bmVyKCkgJiZcbiAgICAgICAgICAoKGNoaWxkT3duZXIgPSBudWxsKSxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIudGFnXG4gICAgICAgICAgICA/IChjaGlsZE93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpKVxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIubmFtZSAmJlxuICAgICAgICAgICAgICAoY2hpbGRPd25lciA9IGVsZW1lbnQuX293bmVyLm5hbWUpLFxuICAgICAgICAgIChjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBjaGlsZE93bmVyICsgXCIuXCIpKTtcbiAgICAgICAgdmFyIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2s7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlKTtcbiAgICAgICAgICBwcmV2R2V0Q3VycmVudFN0YWNrICYmIChzdGFjayArPSBwcmV2R2V0Q3VycmVudFN0YWNrKCkgfHwgXCJcIik7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyxcbiAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgIGNoaWxkT3duZXJcbiAgICAgICAgKTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9IFwiXCIsXG4gICAgICAgIG93bmVyID0gZ2V0T3duZXIoKTtcbiAgICAgIG93bmVyICYmXG4gICAgICAgIChvd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShvd25lci50eXBlKSkgJiZcbiAgICAgICAgKGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyICsgXCJgLlwiKTtcbiAgICAgIGluZm8gfHxcbiAgICAgICAgKChwYXJlbnRUeXBlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpKSAmJlxuICAgICAgICAgIChpbmZvID1cbiAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnRUeXBlICsgXCI+LlwiKSk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICAgICAgdmFyIGVzY2FwZXJMb29rdXAgPSB7IFwiPVwiOiBcIj0wXCIsIFwiOlwiOiBcIj0yXCIgfTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiJFwiICtcbiAgICAgICAga2V5LnJlcGxhY2UoL1s9Ol0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudEtleShlbGVtZW50LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT09IGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPSBlbGVtZW50LmtleVxuICAgICAgICA/IChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGVsZW1lbnQua2V5KSwgZXNjYXBlKFwiXCIgKyBlbGVtZW50LmtleSkpXG4gICAgICAgIDogaW5kZXgudG9TdHJpbmcoMzYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDEoKSB7fVxuICAgIGZ1bmN0aW9uIHJlc29sdmVUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgc3dpdGNoICh0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoZW5hYmxlLnN0YXR1c1xuICAgICAgICAgICAgICA/IHRoZW5hYmxlLnRoZW4obm9vcCQxLCBub29wJDEpXG4gICAgICAgICAgICAgIDogKCh0aGVuYWJsZS5zdGF0dXMgPSBcInBlbmRpbmdcIiksXG4gICAgICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUudmFsdWUgPSBmdWxmaWxsZWRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS5yZWFzb24gPSBlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuYW1lU29GYXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlKSBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSAhMTtcbiAgICAgIGlmIChudWxsID09PSBjaGlsZHJlbikgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW4uX2luaXQpLFxuICAgICAgICAgICAgICAgICAgbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayhjaGlsZHJlbi5fcGF5bG9hZCksXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgICAgIGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW47XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soaW52b2tlQ2FsbGJhY2spO1xuICAgICAgICB2YXIgY2hpbGRLZXkgPVxuICAgICAgICAgIFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiICsgZ2V0RWxlbWVudEtleShpbnZva2VDYWxsYmFjaywgMCkgOiBuYW1lU29GYXI7XG4gICAgICAgIGlzQXJyYXlJbXBsKGNhbGxiYWNrKVxuICAgICAgICAgID8gKChlc2NhcGVkUHJlZml4ID0gXCJcIiksXG4gICAgICAgICAgICBudWxsICE9IGNoaWxkS2V5ICYmXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID1cbiAgICAgICAgICAgICAgICBjaGlsZEtleS5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCBcIiQmL1wiKSArIFwiL1wiKSxcbiAgICAgICAgICAgIG1hcEludG9BcnJheShjYWxsYmFjaywgYXJyYXksIGVzY2FwZWRQcmVmaXgsIFwiXCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBudWxsICE9IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoaXNWYWxpZEVsZW1lbnQoY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgIChudWxsICE9IGNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgICgoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpIHx8XG4gICAgICAgICAgICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNhbGxiYWNrLmtleSkpLFxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9IGNsb25lQW5kUmVwbGFjZUtleShcbiAgICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4ICtcbiAgICAgICAgICAgICAgICAgIChudWxsID09IGNhbGxiYWNrLmtleSB8fFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KVxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgOiAoXCJcIiArIGNhbGxiYWNrLmtleSkucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIkJi9cIlxuICAgICAgICAgICAgICAgICAgICAgICkgKyBcIi9cIikgK1xuICAgICAgICAgICAgICAgICAgY2hpbGRLZXlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIFwiXCIgIT09IG5hbWVTb0ZhciAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gaW52b2tlQ2FsbGJhY2sgJiZcbiAgICAgICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChpbnZva2VDYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgICBudWxsID09IGludm9rZUNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAgICFpbnZva2VDYWxsYmFjay5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXguX3N0b3JlLnZhbGlkYXRlZCA9IDIpLFxuICAgICAgICAgICAgICAoY2FsbGJhY2sgPSBlc2NhcGVkUHJlZml4KSksXG4gICAgICAgICAgICBhcnJheS5wdXNoKGNhbGxiYWNrKSk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaW52b2tlQ2FsbGJhY2sgPSAwO1xuICAgICAgY2hpbGRLZXkgPSBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiA6IG5hbWVTb0ZhciArIFwiOlwiO1xuICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAobmFtZVNvRmFyID0gY2hpbGRyZW5baV0pLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGkgPT09IGNoaWxkcmVuLmVudHJpZXMgJiZcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZC4gVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgPSAhMCkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBpLmNhbGwoY2hpbGRyZW4pLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgIShuYW1lU29GYXIgPSBjaGlsZHJlbi5uZXh0KCkpLmRvbmU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBuYW1lU29GYXIudmFsdWUpLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKyspKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT09IHR5cGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNoaWxkcmVuLnRoZW4pXG4gICAgICAgICAgcmV0dXJuIG1hcEludG9BcnJheShcbiAgICAgICAgICAgIHJlc29sdmVUaGVuYWJsZShjaGlsZHJlbiksXG4gICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICk7XG4gICAgICAgIGFycmF5ID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSBhcnJheVxuICAgICAgICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICAgOiBhcnJheSkgK1xuICAgICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgICAgIGlmIChudWxsID09IGNoaWxkcmVuKSByZXR1cm4gY2hpbGRyZW47XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgIG1hcEludG9BcnJheShjaGlsZHJlbiwgcmVzdWx0LCBcIlwiLCBcIlwiLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgY291bnQrKyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhenlJbml0aWFsaXplcihwYXlsb2FkKSB7XG4gICAgICBpZiAoLTEgPT09IHBheWxvYWQuX3N0YXR1cykge1xuICAgICAgICB2YXIgY3RvciA9IHBheWxvYWQuX3Jlc3VsdDtcbiAgICAgICAgY3RvciA9IGN0b3IoKTtcbiAgICAgICAgY3Rvci50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChtb2R1bGVPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBwYXlsb2FkLl9zdGF0dXMgfHwgLTEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgICAgICAgKHBheWxvYWQuX3N0YXR1cyA9IDEpLCAocGF5bG9hZC5fcmVzdWx0ID0gbW9kdWxlT2JqZWN0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMiksIChwYXlsb2FkLl9yZXN1bHQgPSBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzICYmXG4gICAgICAgICAgKChwYXlsb2FkLl9zdGF0dXMgPSAwKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGN0b3IpKTtcbiAgICAgIH1cbiAgICAgIGlmICgxID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGN0b3IgPSBwYXlsb2FkLl9yZXN1bHQpLFxuICAgICAgICAgIHZvaWQgMCA9PT0gY3RvciAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcXG5cXG5EaWQgeW91IGFjY2lkZW50YWxseSBwdXQgY3VybHkgYnJhY2VzIGFyb3VuZCB0aGUgaW1wb3J0P1wiLFxuICAgICAgICAgICAgICBjdG9yXG4gICAgICAgICAgICApLFxuICAgICAgICAgIFwiZGVmYXVsdFwiIGluIGN0b3IgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwibGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gSW5zdGVhZCByZWNlaXZlZDogJXNcXG5cXG5Zb3VyIGNvZGUgc2hvdWxkIGxvb2sgbGlrZTogXFxuICBjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL015Q29tcG9uZW50JykpXCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgY3Rvci5kZWZhdWx0XG4gICAgICAgICk7XG4gICAgICB0aHJvdyBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVRhc2sodGFzaykge1xuICAgICAgaWYgKG51bGwgPT09IGVucXVldWVUYXNrSW1wbClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVxdWlyZVN0cmluZyA9IChcInJlcXVpcmVcIiArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDAsIDcpO1xuICAgICAgICAgIGVucXVldWVUYXNrSW1wbCA9IChtb2R1bGUgJiYgbW9kdWxlW3JlcXVpcmVTdHJpbmddKS5jYWxsKFxuICAgICAgICAgICAgbW9kdWxlLFxuICAgICAgICAgICAgXCJ0aW1lcnNcIlxuICAgICAgICAgICkuc2V0SW1tZWRpYXRlO1xuICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAhMSA9PT0gZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICEwKSxcbiAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgYSBNZXNzYWdlQ2hhbm5lbCBpbXBsZW1lbnRhdGlvbiwgc28gZW5xdWV1aW5nIHRhc2tzIHZpYSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aWxsIGZhaWwuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMgaWYgeW91IGVuY291bnRlciB0aGlzIHdhcm5pbmcuXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSh2b2lkIDApO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBlbnF1ZXVlVGFza0ltcGwodGFzayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFnZ3JlZ2F0ZUVycm9ycyhlcnJvcnMpIHtcbiAgICAgIHJldHVybiAxIDwgZXJyb3JzLmxlbmd0aCAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBBZ2dyZWdhdGVFcnJvclxuICAgICAgICA/IG5ldyBBZ2dyZWdhdGVFcnJvcihlcnJvcnMpXG4gICAgICAgIDogZXJyb3JzWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKSB7XG4gICAgICBwcmV2QWN0U2NvcGVEZXB0aCAhPT0gYWN0U2NvcGVEZXB0aCAtIDEgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBzZWVtIHRvIGhhdmUgb3ZlcmxhcHBpbmcgYWN0KCkgY2FsbHMsIHRoaXMgaXMgbm90IHN1cHBvcnRlZC4gQmUgc3VyZSB0byBhd2FpdCBwcmV2aW91cyBhY3QoKSBjYWxscyBiZWZvcmUgbWFraW5nIGEgbmV3IG9uZS4gXCJcbiAgICAgICAgKTtcbiAgICAgIGFjdFNjb3BlRGVwdGggPSBwcmV2QWN0U2NvcGVEZXB0aDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhyZXR1cm5WYWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSBxdWV1ZSlcbiAgICAgICAgaWYgKDAgIT09IHF1ZXVlLmxlbmd0aClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSk7XG4gICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBudWxsO1xuICAgICAgMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGhcbiAgICAgICAgPyAoKHF1ZXVlID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgcmVqZWN0KHF1ZXVlKSlcbiAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hBY3RRdWV1ZShxdWV1ZSkge1xuICAgICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICAgIGlzRmx1c2hpbmcgPSAhMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlID0gITE7XG4gICAgICAgICAgICAgIHZhciBjb250aW51YXRpb24gPSBjYWxsYmFjayghMSk7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSBjb250aW51YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgcXVldWVbaV0gPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjb250aW51YXRpb247XG4gICAgICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpICsgMSksIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpc0ZsdXNoaW5nID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTtcbiAgICB2YXIgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fSxcbiAgICAgIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInJlcGxhY2VTdGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJzZXRTdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBlbXB0eU9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBudWxsICE9IHBhcnRpYWxTdGF0ZVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIFwic2V0U3RhdGVcIik7XG4gICAgfTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgIH07XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgICBpc01vdW50ZWQ6IFtcbiAgICAgICAgICBcImlzTW91bnRlZFwiLFxuICAgICAgICAgIFwiSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXCJcbiAgICAgICAgXSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBbXG4gICAgICAgICAgXCJyZXBsYWNlU3RhdGVcIixcbiAgICAgICAgICBcIlJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuXCJcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGZuTmFtZTtcbiAgICBmb3IgKGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcylcbiAgICAgIGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkgJiZcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG4gICAgZGVwcmVjYXRlZEFQSXMuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuICAgIGFzc2lnbihkZXByZWNhdGVkQVBJcywgQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gICAgZGVwcmVjYXRlZEFQSXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDtcbiAgICB2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9IHtcbiAgICAgICAgSDogbnVsbCxcbiAgICAgICAgQTogbnVsbCxcbiAgICAgICAgVDogbnVsbCxcbiAgICAgICAgUzogbnVsbCxcbiAgICAgICAgYWN0UXVldWU6IG51bGwsXG4gICAgICAgIGlzQmF0Y2hpbmdMZWdhY3k6ICExLFxuICAgICAgICBkaWRTY2hlZHVsZUxlZ2FjeVVwZGF0ZTogITEsXG4gICAgICAgIGRpZFVzZVByb21pc2U6ICExLFxuICAgICAgICB0aHJvd25FcnJvcnM6IFtdLFxuICAgICAgICBnZXRDdXJyZW50U3RhY2s6IG51bGxcbiAgICAgIH0sXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDEgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIGRpc2FibGVkRGVwdGggPSAwLFxuICAgICAgcHJldkxvZyxcbiAgICAgIHByZXZJbmZvLFxuICAgICAgcHJldldhcm4sXG4gICAgICBwcmV2RXJyb3IsXG4gICAgICBwcmV2R3JvdXAsXG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQsXG4gICAgICBwcmV2R3JvdXBFbmQ7XG4gICAgZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gITA7XG4gICAgdmFyIHByZWZpeCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHJlZW50cnkgPSAhMTtcbiAgICB2YXIgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyAoXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcFxuICAgICkoKTtcbiAgICB2YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24sXG4gICAgICBkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9LFxuICAgICAgZGlkV2FybkFib3V0TWFwcyA9ICExLFxuICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nLFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICExLFxuICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gbnVsbCxcbiAgICAgIGFjdFNjb3BlRGVwdGggPSAwLFxuICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmcgPSAhMSxcbiAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWVNaWNyb3Rhc2soY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGVucXVldWVUYXNrO1xuICAgIGV4cG9ydHMuQ2hpbGRyZW4gPSB7XG4gICAgICBtYXA6IG1hcENoaWxkcmVuLFxuICAgICAgZm9yRWFjaDogZnVuY3Rpb24gKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgICAgICAgbWFwQ2hpbGRyZW4oXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yRWFjaEZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvckVhY2hDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY291bnQ6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9LFxuICAgICAgdG9BcnJheTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH0pIHx8IFtdXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgb25seTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIGV4cG9ydHMuUHVyZUNvbXBvbmVudCA9IFB1cmVDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5TdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICBleHBvcnRzLlN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICBleHBvcnRzLl9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSA9XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscztcbiAgICBleHBvcnRzLmFjdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIHByZXZBY3RRdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlLFxuICAgICAgICBwcmV2QWN0U2NvcGVEZXB0aCA9IGFjdFNjb3BlRGVwdGg7XG4gICAgICBhY3RTY29wZURlcHRoKys7XG4gICAgICB2YXIgcXVldWUgPSAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPVxuICAgICAgICAgIG51bGwgIT09IHByZXZBY3RRdWV1ZSA/IHByZXZBY3RRdWV1ZSA6IFtdKSxcbiAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITE7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgIChwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKSxcbiAgICAgICAgICAoY2FsbGJhY2sgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICBjYWxsYmFjaylcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gcmVzdWx0ICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXN1bHQgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVzdWx0LnRoZW5cbiAgICAgICkge1xuICAgICAgICB2YXIgdGhlbmFibGUgPSByZXN1bHQ7XG4gICAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgfHxcbiAgICAgICAgICAgICgoZGlkV2Fybk5vQXdhaXRBY3QgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBjYWxsZWQgYWN0KGFzeW5jICgpID0+IC4uLikgd2l0aG91dCBhd2FpdC4gVGhpcyBjb3VsZCBsZWFkIHRvIHVuZXhwZWN0ZWQgdGVzdGluZyBiZWhhdmlvdXIsIGludGVybGVhdmluZyBtdWx0aXBsZSBhY3QgY2FsbHMgYW5kIG1peGluZyB0aGVpciBzY29wZXMuIFlvdSBzaG91bGQgLSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKTtcIlxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKHJldHVyblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHByZXZBY3RTY29wZURlcHRoKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yJDIpIHtcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IkMik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aHJvd25FcnJvciA9IGFnZ3JlZ2F0ZUVycm9ycyhcbiAgICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChfdGhyb3duRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAgICAgICAgICAgMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgID8gKChlcnJvciA9IGFnZ3JlZ2F0ZUVycm9ycyhcbiAgICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcikpXG4gICAgICAgICAgICAgICAgICA6IHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIHJldHVyblZhbHVlJGpzY29tcCQwID0gcmVzdWx0O1xuICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAwID09PSBwcmV2QWN0U2NvcGVEZXB0aCAmJlxuICAgICAgICAoZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgIDAgIT09IHF1ZXVlLmxlbmd0aCAmJlxuICAgICAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGlkQXdhaXRBY3RDYWxsIHx8XG4gICAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAgICgoZGlkV2Fybk5vQXdhaXRBY3QgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBIGNvbXBvbmVudCBzdXNwZW5kZWQgaW5zaWRlIGFuIGBhY3RgIHNjb3BlLCBidXQgdGhlIGBhY3RgIGNhbGwgd2FzIG5vdCBhd2FpdGVkLiBXaGVuIHRlc3RpbmcgUmVhY3QgY29tcG9uZW50cyB0aGF0IGRlcGVuZCBvbiBhc3luY2hyb25vdXMgZGF0YSwgeW91IG11c3QgYXdhaXQgdGhlIHJlc3VsdDpcXG5cXG5hd2FpdCBhY3QoKCkgPT4gLi4uKVwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBudWxsKSk7XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAoKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITA7XG4gICAgICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGhcbiAgICAgICAgICAgID8gKChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IHF1ZXVlKSxcbiAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKFxuICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUkanNjb21wJDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5jYWNoZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgaWYgKG51bGwgPT09IGVsZW1lbnQgfHwgdm9pZCAwID09PSBlbGVtZW50KVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlRoZSBhcmd1bWVudCBtdXN0IGJlIGEgUmVhY3QgZWxlbWVudCwgYnV0IHlvdSBwYXNzZWQgXCIgK1xuICAgICAgICAgICAgZWxlbWVudCArXG4gICAgICAgICAgICBcIi5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHByb3BzID0gYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKSxcbiAgICAgICAga2V5ID0gZWxlbWVudC5rZXksXG4gICAgICAgIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpIHtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgICAgYToge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcInJlZlwiKSAmJlxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgXCJyZWZcIlxuICAgICAgICAgICAgKS5nZXQpICYmXG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuaXNSZWFjdFdhcm5pbmdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gdm9pZCAwICE9PSBjb25maWcucmVmO1xuICAgICAgICB9XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCAmJiAob3duZXIgPSBnZXRPd25lcigpKTtcbiAgICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoa2V5ID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgIWhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgfHxcbiAgICAgICAgICAgIFwia2V5XCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICBcIl9fc2VsZlwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NvdXJjZVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgKFwicmVmXCIgPT09IHByb3BOYW1lICYmIHZvaWQgMCA9PT0gY29uZmlnLnJlZikgfHxcbiAgICAgICAgICAgIChwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKDEgPT09IHByb3BOYW1lKSBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgZWxzZSBpZiAoMSA8IHByb3BOYW1lKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IEFycmF5KHByb3BOYW1lKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wTmFtZTsgaSsrKVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgfVxuICAgICAgcHJvcHMgPSBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHZvaWQgMCwgdm9pZCAwLCBvd25lciwgcHJvcHMpO1xuICAgICAgZm9yIChrZXkgPSAyOyBrZXkgPCBhcmd1bWVudHMubGVuZ3RoOyBrZXkrKylcbiAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2tleV0sIHByb3BzLnR5cGUpO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24gKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgZGVmYXVsdFZhbHVlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgICBfY3VycmVudFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIENvbnN1bWVyOiBudWxsXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLlByb3ZpZGVyID0gZGVmYXVsdFZhbHVlO1xuICAgICAgZGVmYXVsdFZhbHVlLkNvbnN1bWVyID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OU1VNRVJfVFlQRSxcbiAgICAgICAgX2NvbnRleHQ6IGRlZmF1bHRWYWx1ZVxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5fY3VycmVudFJlbmRlcmVyID0gbnVsbDtcbiAgICAgIGRlZmF1bHRWYWx1ZS5fY3VycmVudFJlbmRlcmVyMiA9IG51bGw7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkpXG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaSA9IFwiXCI7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB2b2lkIDAgPT09IHR5cGUgfHxcbiAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAgIDAgPT09IE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aClcbiAgICAgICAgKVxuICAgICAgICAgIGkgKz1cbiAgICAgICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgICAgaWYgKG51bGwgPT09IHR5cGUpIHZhciB0eXBlU3RyaW5nID0gXCJudWxsXCI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBpc0FycmF5SW1wbCh0eXBlKVxuICAgICAgICAgICAgPyAodHlwZVN0cmluZyA9IFwiYXJyYXlcIilcbiAgICAgICAgICAgIDogdm9pZCAwICE9PSB0eXBlICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgICAgICAgICA/ICgodHlwZVN0cmluZyA9XG4gICAgICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgICAgICAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJVbmtub3duXCIpICtcbiAgICAgICAgICAgICAgICAgIFwiIC8+XCIpLFxuICAgICAgICAgICAgICAgIChpID1cbiAgICAgICAgICAgICAgICAgIFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpKVxuICAgICAgICAgICAgICA6ICh0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGUpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lc1wiLFxuICAgICAgICAgIHR5cGVTdHJpbmcsXG4gICAgICAgICAgaVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BOYW1lO1xuICAgICAgaSA9IHt9O1xuICAgICAgdHlwZVN0cmluZyA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgfHxcbiAgICAgICAgICAhKFwiX19zZWxmXCIgaW4gY29uZmlnKSB8fFxuICAgICAgICAgIFwia2V5XCIgaW4gY29uZmlnIHx8XG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lID0gITApLFxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiWW91ciBhcHAgKG9yIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzKSBpcyB1c2luZyBhbiBvdXRkYXRlZCBKU1ggdHJhbnNmb3JtLiBVcGRhdGUgdG8gdGhlIG1vZGVybiBKU1ggdHJhbnNmb3JtIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbmV3LWpzeC10cmFuc2Zvcm1cIlxuICAgICAgICAgICkpLFxuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksICh0eXBlU3RyaW5nID0gXCJcIiArIGNvbmZpZy5rZXkpKSxcbiAgICAgICAgY29uZmlnKSlcbiAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmXG4gICAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NlbGZcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIChpW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gY2hpbGRyZW5MZW5ndGgpIGkuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBjaGlsZHJlbkxlbmd0aCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpLCBfaSA9IDA7XG4gICAgICAgICAgX2kgPCBjaGlsZHJlbkxlbmd0aDtcbiAgICAgICAgICBfaSsrXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZEFycmF5W19pXSA9IGFyZ3VtZW50c1tfaSArIDJdO1xuICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRBcnJheSk7XG4gICAgICAgIGkuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKChjaGlsZHJlbkxlbmd0aCA9IHR5cGUuZGVmYXVsdFByb3BzKSwgY2hpbGRyZW5MZW5ndGgpKVxuICAgICAgICAgIHZvaWQgMCA9PT0gaVtwcm9wTmFtZV0gJiYgKGlbcHJvcE5hbWVdID0gY2hpbGRyZW5MZW5ndGhbcHJvcE5hbWVdKTtcbiAgICAgIHR5cGVTdHJpbmcgJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgaSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwgdHlwZVN0cmluZywgdm9pZCAwLCB2b2lkIDAsIGdldE93bmVyKCksIGkpO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVmT2JqZWN0ID0geyBjdXJyZW50OiBudWxsIH07XG4gICAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICAgICAgcmV0dXJuIHJlZk9iamVjdDtcbiAgICB9O1xuICAgIGV4cG9ydHMuZm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChyZW5kZXIpIHtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmIHJlbmRlci4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgcmVjZWl2ZWQgYSBgbWVtb2AgY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlIG1lbW8oZm9yd2FyZFJlZiguLi4pKS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLlwiLFxuICAgICAgICAgICAgICBudWxsID09PSByZW5kZXIgPyBcIm51bGxcIiA6IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IDAgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIDIgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGFjY2VwdCBleGFjdGx5IHR3byBwYXJhbWV0ZXJzOiBwcm9wcyBhbmQgcmVmLiAlc1wiLFxuICAgICAgICAgICAgICAxID09PSByZW5kZXIubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBcIkRpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj9cIlxuICAgICAgICAgICAgICAgIDogXCJBbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXIgd2lsbCBiZSB1bmRlZmluZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICBudWxsICE9IHJlbmRlciAmJlxuICAgICAgICBudWxsICE9IHJlbmRlci5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBkbyBub3Qgc3VwcG9ydCBkZWZhdWx0UHJvcHMuIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgYSBSZWFjdCBjb21wb25lbnQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBlbGVtZW50VHlwZSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogcmVuZGVyIH0sXG4gICAgICAgIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudFR5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICByZW5kZXIubmFtZSB8fFxuICAgICAgICAgICAgcmVuZGVyLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlbmRlciwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAocmVuZGVyLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnQgPSBpc1ZhbGlkRWxlbWVudDtcbiAgICBleHBvcnRzLmxhenkgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0xBWllfVFlQRSxcbiAgICAgICAgX3BheWxvYWQ6IHsgX3N0YXR1czogLTEsIF9yZXN1bHQ6IGN0b3IgfSxcbiAgICAgICAgX2luaXQ6IGxhenlJbml0aWFsaXplclxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMubWVtbyA9IGZ1bmN0aW9uICh0eXBlLCBjb21wYXJlKSB7XG4gICAgICBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIm1lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1wiLFxuICAgICAgICAgIG51bGwgPT09IHR5cGUgPyBcIm51bGxcIiA6IHR5cGVvZiB0eXBlXG4gICAgICAgICk7XG4gICAgICBjb21wYXJlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTUVNT19UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBjb21wYXJlOiB2b2lkIDAgPT09IGNvbXBhcmUgPyBudWxsIDogY29tcGFyZVxuICAgICAgfTtcbiAgICAgIHZhciBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBhcmUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICB0eXBlLm5hbWUgfHxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAodHlwZS5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29tcGFyZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuc3RhcnRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBzY29wZSgpLFxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaChjdXJyZW50VHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gJiZcbiAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKG5vb3AsIHJlcG9ydEdsb2JhbEVycm9yKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAoKHNjb3BlID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAxMCA8IHNjb3BlICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV91c2VDYWNoZVJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWNoZVJlZnJlc2goKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlID0gZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlKHVzYWJsZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUFjdGlvblN0YXRlKFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGluaXRpYWxTdGF0ZSxcbiAgICAgICAgcGVybWFsaW5rXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDb250ZXh0ID0gZnVuY3Rpb24gKENvbnRleHQpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIENvbnRleHQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGNhdXNlIGJ1Z3MuIERpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVidWdWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0dGVyRm4pIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVmZXJyZWRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VFZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJZCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJbXBlcmF0aXZlSGFuZGxlID0gZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW5zZXJ0aW9uRWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW5zZXJ0aW9uRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUxheW91dEVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VNZW1vID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVkdWNlciA9IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWYgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3RhdGUgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uIChcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVRyYW5zaXRpb24oKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMC4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHNjaGVkdWxlci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUoKSB7XG4gICAgICBpZiAoaXNNZXNzYWdlTG9vcFJ1bm5pbmcpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcbiAgICAgICAgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIHZhciBoYXNNb3JlV29yayA9ICEwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITE7XG4gICAgICAgICAgICBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkICYmXG4gICAgICAgICAgICAgICgoaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICExKSxcbiAgICAgICAgICAgICAgbG9jYWxDbGVhclRpbWVvdXQodGFza1RpbWVvdXRJRCksXG4gICAgICAgICAgICAgICh0YXNrVGltZW91dElEID0gLTEpKTtcbiAgICAgICAgICAgIGlzUGVyZm9ybWluZ1dvcmsgPSAhMDtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2sgPSBwZWVrKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50VGFzayAmJlxuICAgICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2suZXhwaXJhdGlvblRpbWUgPiBjdXJyZW50VGltZSAmJlxuICAgICAgICAgICAgICAgICAgICBzaG91bGRZaWVsZFRvSG9zdCgpXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBjdXJyZW50VGFzay5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5jYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gY3VycmVudFRhc2sucHJpb3JpdHlMZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbkNhbGxiYWNrID0gY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2suZXhwaXJhdGlvblRpbWUgPD0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29udGludWF0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5jYWxsYmFjayA9IGNvbnRpbnVhdGlvbkNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgIGhhc01vcmVXb3JrID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzayA9PT0gcGVlayh0YXNrUXVldWUpICYmIHBvcCh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBwb3AodGFza1F1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrID0gcGVlayh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudFRhc2spIGhhc01vcmVXb3JrID0gITA7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZmlyc3RUaW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBmaXJzdFRpbWVyICYmXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIb3N0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUaW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VGltZXIuc3RhcnRUaW1lIC0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGhhc01vcmVXb3JrID0gITE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAoY3VycmVudFRhc2sgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWwpLFxuICAgICAgICAgICAgICAgIChpc1BlcmZvcm1pbmdXb3JrID0gITEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFzTW9yZVdvcmsgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGhhc01vcmVXb3JrXG4gICAgICAgICAgICA/IHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKClcbiAgICAgICAgICAgIDogKGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2goaGVhcCwgbm9kZSkge1xuICAgICAgdmFyIGluZGV4ID0gaGVhcC5sZW5ndGg7XG4gICAgICBoZWFwLnB1c2gobm9kZSk7XG4gICAgICBhOiBmb3IgKDsgMCA8IGluZGV4OyApIHtcbiAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gKGluZGV4IC0gMSkgPj4+IDEsXG4gICAgICAgICAgcGFyZW50ID0gaGVhcFtwYXJlbnRJbmRleF07XG4gICAgICAgIGlmICgwIDwgY29tcGFyZShwYXJlbnQsIG5vZGUpKVxuICAgICAgICAgIChoZWFwW3BhcmVudEluZGV4XSA9IG5vZGUpLFxuICAgICAgICAgICAgKGhlYXBbaW5kZXhdID0gcGFyZW50KSxcbiAgICAgICAgICAgIChpbmRleCA9IHBhcmVudEluZGV4KTtcbiAgICAgICAgZWxzZSBicmVhayBhO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwZWVrKGhlYXApIHtcbiAgICAgIHJldHVybiAwID09PSBoZWFwLmxlbmd0aCA/IG51bGwgOiBoZWFwWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3AoaGVhcCkge1xuICAgICAgaWYgKDAgPT09IGhlYXAubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBmaXJzdCA9IGhlYXBbMF0sXG4gICAgICAgIGxhc3QgPSBoZWFwLnBvcCgpO1xuICAgICAgaWYgKGxhc3QgIT09IGZpcnN0KSB7XG4gICAgICAgIGhlYXBbMF0gPSBsYXN0O1xuICAgICAgICBhOiBmb3IgKFxuICAgICAgICAgIHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGhlYXAubGVuZ3RoLCBoYWxmTGVuZ3RoID0gbGVuZ3RoID4+PiAxO1xuICAgICAgICAgIGluZGV4IDwgaGFsZkxlbmd0aDtcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgbGVmdEluZGV4ID0gMiAqIChpbmRleCArIDEpIC0gMSxcbiAgICAgICAgICAgIGxlZnQgPSBoZWFwW2xlZnRJbmRleF0sXG4gICAgICAgICAgICByaWdodEluZGV4ID0gbGVmdEluZGV4ICsgMSxcbiAgICAgICAgICAgIHJpZ2h0ID0gaGVhcFtyaWdodEluZGV4XTtcbiAgICAgICAgICBpZiAoMCA+IGNvbXBhcmUobGVmdCwgbGFzdCkpXG4gICAgICAgICAgICByaWdodEluZGV4IDwgbGVuZ3RoICYmIDAgPiBjb21wYXJlKHJpZ2h0LCBsZWZ0KVxuICAgICAgICAgICAgICA/ICgoaGVhcFtpbmRleF0gPSByaWdodCksXG4gICAgICAgICAgICAgICAgKGhlYXBbcmlnaHRJbmRleF0gPSBsYXN0KSxcbiAgICAgICAgICAgICAgICAoaW5kZXggPSByaWdodEluZGV4KSlcbiAgICAgICAgICAgICAgOiAoKGhlYXBbaW5kZXhdID0gbGVmdCksXG4gICAgICAgICAgICAgICAgKGhlYXBbbGVmdEluZGV4XSA9IGxhc3QpLFxuICAgICAgICAgICAgICAgIChpbmRleCA9IGxlZnRJbmRleCkpO1xuICAgICAgICAgIGVsc2UgaWYgKHJpZ2h0SW5kZXggPCBsZW5ndGggJiYgMCA+IGNvbXBhcmUocmlnaHQsIGxhc3QpKVxuICAgICAgICAgICAgKGhlYXBbaW5kZXhdID0gcmlnaHQpLFxuICAgICAgICAgICAgICAoaGVhcFtyaWdodEluZGV4XSA9IGxhc3QpLFxuICAgICAgICAgICAgICAoaW5kZXggPSByaWdodEluZGV4KTtcbiAgICAgICAgICBlbHNlIGJyZWFrIGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgICB2YXIgZGlmZiA9IGEuc29ydEluZGV4IC0gYi5zb3J0SW5kZXg7XG4gICAgICByZXR1cm4gMCAhPT0gZGlmZiA/IGRpZmYgOiBhLmlkIC0gYi5pZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSkge1xuICAgICAgZm9yICh2YXIgdGltZXIgPSBwZWVrKHRpbWVyUXVldWUpOyBudWxsICE9PSB0aW1lcjsgKSB7XG4gICAgICAgIGlmIChudWxsID09PSB0aW1lci5jYWxsYmFjaykgcG9wKHRpbWVyUXVldWUpO1xuICAgICAgICBlbHNlIGlmICh0aW1lci5zdGFydFRpbWUgPD0gY3VycmVudFRpbWUpXG4gICAgICAgICAgcG9wKHRpbWVyUXVldWUpLFxuICAgICAgICAgICAgKHRpbWVyLnNvcnRJbmRleCA9IHRpbWVyLmV4cGlyYXRpb25UaW1lKSxcbiAgICAgICAgICAgIHB1c2godGFza1F1ZXVlLCB0aW1lcik7XG4gICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICAgIHRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVGltZW91dChjdXJyZW50VGltZSkge1xuICAgICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICExO1xuICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgICBpZiAoIWlzSG9zdENhbGxiYWNrU2NoZWR1bGVkKVxuICAgICAgICBpZiAobnVsbCAhPT0gcGVlayh0YXNrUXVldWUpKVxuICAgICAgICAgIChpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICEwKSwgcmVxdWVzdEhvc3RDYWxsYmFjaygpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgZmlyc3RUaW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG4gICAgICAgICAgbnVsbCAhPT0gZmlyc3RUaW1lciAmJlxuICAgICAgICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KFxuICAgICAgICAgICAgICBoYW5kbGVUaW1lb3V0LFxuICAgICAgICAgICAgICBmaXJzdFRpbWVyLnN0YXJ0VGltZSAtIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFlpZWxkVG9Ib3N0KCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMudW5zdGFibGVfbm93KCkgLSBzdGFydFRpbWUgPCBmcmFtZUludGVydmFsID8gITEgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdEhvc3RDYWxsYmFjaygpIHtcbiAgICAgIGlzTWVzc2FnZUxvb3BSdW5uaW5nIHx8XG4gICAgICAgICgoaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSAhMCksIHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0SG9zdFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gICAgICB0YXNrVGltZW91dElEID0gbG9jYWxTZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soZXhwb3J0cy51bnN0YWJsZV9ub3coKSk7XG4gICAgICB9LCBtcyk7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9ub3cgPSB2b2lkIDA7XG4gICAgaWYgKFxuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHBlcmZvcm1hbmNlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwZXJmb3JtYW5jZS5ub3dcbiAgICApIHtcbiAgICAgIHZhciBsb2NhbFBlcmZvcm1hbmNlID0gcGVyZm9ybWFuY2U7XG4gICAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsUGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbG9jYWxEYXRlID0gRGF0ZSxcbiAgICAgICAgaW5pdGlhbFRpbWUgPSBsb2NhbERhdGUubm93KCk7XG4gICAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsRGF0ZS5ub3coKSAtIGluaXRpYWxUaW1lO1xuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHRhc2tRdWV1ZSA9IFtdLFxuICAgICAgdGltZXJRdWV1ZSA9IFtdLFxuICAgICAgdGFza0lkQ291bnRlciA9IDEsXG4gICAgICBjdXJyZW50VGFzayA9IG51bGwsXG4gICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IDMsXG4gICAgICBpc1BlcmZvcm1pbmdXb3JrID0gITEsXG4gICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICExLFxuICAgICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICExLFxuICAgICAgbG9jYWxTZXRUaW1lb3V0ID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc2V0VGltZW91dCA/IHNldFRpbWVvdXQgOiBudWxsLFxuICAgICAgbG9jYWxDbGVhclRpbWVvdXQgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjbGVhclRpbWVvdXQgPyBjbGVhclRpbWVvdXQgOiBudWxsLFxuICAgICAgbG9jYWxTZXRJbW1lZGlhdGUgPVxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygc2V0SW1tZWRpYXRlID8gc2V0SW1tZWRpYXRlIDogbnVsbCxcbiAgICAgIGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gITEsXG4gICAgICB0YXNrVGltZW91dElEID0gLTEsXG4gICAgICBmcmFtZUludGVydmFsID0gNSxcbiAgICAgIHN0YXJ0VGltZSA9IC0xO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBsb2NhbFNldEltbWVkaWF0ZSlcbiAgICAgIHZhciBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWxTZXRJbW1lZGlhdGUocGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKTtcbiAgICAgIH07XG4gICAgZWxzZSBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpLFxuICAgICAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gcGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lO1xuICAgICAgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBvcnQucG9zdE1lc3NhZ2UobnVsbCk7XG4gICAgICB9O1xuICAgIH0gZWxzZVxuICAgICAgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2FsU2V0VGltZW91dChwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUsIDApO1xuICAgICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX0lkbGVQcmlvcml0eSA9IDU7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSA9IDE7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Mb3dQcmlvcml0eSA9IDQ7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSA9IDM7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Qcm9maWxpbmcgPSBudWxsO1xuICAgIGV4cG9ydHMudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHkgPSAyO1xuICAgIGV4cG9ydHMudW5zdGFibGVfY2FuY2VsQ2FsbGJhY2sgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgdGFzay5jYWxsYmFjayA9IG51bGw7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgfHxcbiAgICAgICAgaXNQZXJmb3JtaW5nV29yayB8fFxuICAgICAgICAoKGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITApLCByZXF1ZXN0SG9zdENhbGxiYWNrKCkpO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZSA9IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgIDAgPiBmcHMgfHwgMTI1IDwgZnBzXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWUgcmF0ZXMgaGlnaGVyIHRoYW4gMTI1IGZwcyBpcyBub3Qgc3VwcG9ydGVkXCJcbiAgICAgICAgICApXG4gICAgICAgIDogKGZyYW1lSW50ZXJ2YWwgPSAwIDwgZnBzID8gTWF0aC5mbG9vcigxZTMgLyBmcHMpIDogNSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9nZXRGaXJzdENhbGxiYWNrTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwZWVrKHRhc2tRdWV1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX25leHQgPSBmdW5jdGlvbiAoZXZlbnRIYW5kbGVyKSB7XG4gICAgICBzd2l0Y2ggKGN1cnJlbnRQcmlvcml0eUxldmVsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdmFyIHByaW9yaXR5TGV2ZWwgPSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJpb3JpdHlMZXZlbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBldmVudEhhbmRsZXIoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9wYXVzZUV4ZWN1dGlvbiA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfcmVxdWVzdFBhaW50ID0gZnVuY3Rpb24gKCkge307XG4gICAgZXhwb3J0cy51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkgPSBmdW5jdGlvbiAocHJpb3JpdHlMZXZlbCwgZXZlbnRIYW5kbGVyKSB7XG4gICAgICBzd2l0Y2ggKHByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHJpb3JpdHlMZXZlbCA9IDM7XG4gICAgICB9XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByaW9yaXR5TGV2ZWw7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZXZlbnRIYW5kbGVyKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayA9IGZ1bmN0aW9uIChcbiAgICAgIHByaW9yaXR5TGV2ZWwsXG4gICAgICBjYWxsYmFjayxcbiAgICAgIG9wdGlvbnNcbiAgICApIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiBudWxsICE9PSBvcHRpb25zXG4gICAgICAgID8gKChvcHRpb25zID0gb3B0aW9ucy5kZWxheSksXG4gICAgICAgICAgKG9wdGlvbnMgPVxuICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgMCA8IG9wdGlvbnNcbiAgICAgICAgICAgICAgPyBjdXJyZW50VGltZSArIG9wdGlvbnNcbiAgICAgICAgICAgICAgOiBjdXJyZW50VGltZSkpXG4gICAgICAgIDogKG9wdGlvbnMgPSBjdXJyZW50VGltZSk7XG4gICAgICBzd2l0Y2ggKHByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHZhciB0aW1lb3V0ID0gLTE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB0aW1lb3V0ID0gMjUwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgdGltZW91dCA9IDEwNzM3NDE4MjM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB0aW1lb3V0ID0gMWU0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRpbWVvdXQgPSA1ZTM7XG4gICAgICB9XG4gICAgICB0aW1lb3V0ID0gb3B0aW9ucyArIHRpbWVvdXQ7XG4gICAgICBwcmlvcml0eUxldmVsID0ge1xuICAgICAgICBpZDogdGFza0lkQ291bnRlcisrLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIHByaW9yaXR5TGV2ZWw6IHByaW9yaXR5TGV2ZWwsXG4gICAgICAgIHN0YXJ0VGltZTogb3B0aW9ucyxcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IHRpbWVvdXQsXG4gICAgICAgIHNvcnRJbmRleDogLTFcbiAgICAgIH07XG4gICAgICBvcHRpb25zID4gY3VycmVudFRpbWVcbiAgICAgICAgPyAoKHByaW9yaXR5TGV2ZWwuc29ydEluZGV4ID0gb3B0aW9ucyksXG4gICAgICAgICAgcHVzaCh0aW1lclF1ZXVlLCBwcmlvcml0eUxldmVsKSxcbiAgICAgICAgICBudWxsID09PSBwZWVrKHRhc2tRdWV1ZSkgJiZcbiAgICAgICAgICAgIHByaW9yaXR5TGV2ZWwgPT09IHBlZWsodGltZXJRdWV1ZSkgJiZcbiAgICAgICAgICAgIChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkXG4gICAgICAgICAgICAgID8gKGxvY2FsQ2xlYXJUaW1lb3V0KHRhc2tUaW1lb3V0SUQpLCAodGFza1RpbWVvdXRJRCA9IC0xKSlcbiAgICAgICAgICAgICAgOiAoaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICEwKSxcbiAgICAgICAgICAgIHJlcXVlc3RIb3N0VGltZW91dChoYW5kbGVUaW1lb3V0LCBvcHRpb25zIC0gY3VycmVudFRpbWUpKSlcbiAgICAgICAgOiAoKHByaW9yaXR5TGV2ZWwuc29ydEluZGV4ID0gdGltZW91dCksXG4gICAgICAgICAgcHVzaCh0YXNrUXVldWUsIHByaW9yaXR5TGV2ZWwpLFxuICAgICAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkIHx8XG4gICAgICAgICAgICBpc1BlcmZvcm1pbmdXb3JrIHx8XG4gICAgICAgICAgICAoKGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITApLCByZXF1ZXN0SG9zdENhbGxiYWNrKCkpKTtcbiAgICAgIHJldHVybiBwcmlvcml0eUxldmVsO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9zaG91bGRZaWVsZCA9IHNob3VsZFlpZWxkVG9Ib3N0O1xuICAgIGV4cG9ydHMudW5zdGFibGVfd3JhcENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcGFyZW50UHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHBhcmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlUG9ydGFsJDEoY2hpbGRyZW4sIGNvbnRhaW5lckluZm8sIGltcGxlbWVudGF0aW9uKSB7XG4gICAgICB2YXIga2V5ID1cbiAgICAgICAgMyA8IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbM10gPyBhcmd1bWVudHNbM10gOiBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKGtleSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiZcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAga2V5W1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgICBrZXkuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgICAgXCJPYmplY3RcIlxuICAgICAgICApLFxuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24oa2V5KSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfUE9SVEFMX1RZUEUsXG4gICAgICAgIGtleTogbnVsbCA9PSBrZXkgPyBudWxsIDogXCJcIiArIGtleSxcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgICBjb250YWluZXJJbmZvOiBjb250YWluZXJJbmZvLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENyb3NzT3JpZ2luU3RyaW5nQXMoYXMsIGlucHV0KSB7XG4gICAgICBpZiAoXCJmb250XCIgPT09IGFzKSByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgaW5wdXQpXG4gICAgICAgIHJldHVybiBcInVzZS1jcmVkZW50aWFsc1wiID09PSBpbnB1dCA/IGlucHV0IDogXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyh0aGluZykge1xuICAgICAgcmV0dXJuIG51bGwgPT09IHRoaW5nXG4gICAgICAgID8gXCJgbnVsbGBcIlxuICAgICAgICA6IHZvaWQgMCA9PT0gdGhpbmdcbiAgICAgICAgICA/IFwiYHVuZGVmaW5lZGBcIlxuICAgICAgICAgIDogXCJcIiA9PT0gdGhpbmdcbiAgICAgICAgICAgID8gXCJhbiBlbXB0eSBzdHJpbmdcIlxuICAgICAgICAgICAgOiAnc29tZXRoaW5nIHdpdGggdHlwZSBcIicgKyB0eXBlb2YgdGhpbmcgKyAnXCInO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyh0aGluZykge1xuICAgICAgcmV0dXJuIG51bGwgPT09IHRoaW5nXG4gICAgICAgID8gXCJgbnVsbGBcIlxuICAgICAgICA6IHZvaWQgMCA9PT0gdGhpbmdcbiAgICAgICAgICA/IFwiYHVuZGVmaW5lZGBcIlxuICAgICAgICAgIDogXCJcIiA9PT0gdGhpbmdcbiAgICAgICAgICAgID8gXCJhbiBlbXB0eSBzdHJpbmdcIlxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpbmdcbiAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh0aGluZylcbiAgICAgICAgICAgICAgOiBcIm51bWJlclwiID09PSB0eXBlb2YgdGhpbmdcbiAgICAgICAgICAgICAgICA/IFwiYFwiICsgdGhpbmcgKyBcImBcIlxuICAgICAgICAgICAgICAgIDogJ3NvbWV0aGluZyB3aXRoIHR5cGUgXCInICsgdHlwZW9mIHRoaW5nICsgJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKSxcbiAgICAgIEludGVybmFscyA9IHtcbiAgICAgICAgZDoge1xuICAgICAgICAgIGY6IG5vb3AsXG4gICAgICAgICAgcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBmb3JtIGVsZW1lbnQuIHJlcXVlc3RGb3JtUmVzZXQgbXVzdCBiZSBwYXNzZWQgYSBmb3JtIHRoYXQgd2FzIHJlbmRlcmVkIGJ5IFJlYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRDogbm9vcCxcbiAgICAgICAgICBDOiBub29wLFxuICAgICAgICAgIEw6IG5vb3AsXG4gICAgICAgICAgbTogbm9vcCxcbiAgICAgICAgICBYOiBub29wLFxuICAgICAgICAgIFM6IG5vb3AsXG4gICAgICAgICAgTTogbm9vcFxuICAgICAgICB9LFxuICAgICAgICBwOiAwLFxuICAgICAgICBmaW5kRE9NTm9kZTogbnVsbFxuICAgICAgfSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFO1xuICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAgJiZcbiAgICAgIG51bGwgIT0gTWFwLnByb3RvdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwLnByb3RvdHlwZS5mb3JFYWNoICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQgJiZcbiAgICAgIG51bGwgIT0gU2V0LnByb3RvdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0LnByb3RvdHlwZS5jbGVhciAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0LnByb3RvdHlwZS5mb3JFYWNoKSB8fFxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL3JlYWN0anMub3JnL2xpbmsvcmVhY3QtcG9seWZpbGxzXCJcbiAgICAgICk7XG4gICAgZXhwb3J0cy5fX0RPTV9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUgPVxuICAgICAgSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuY3JlYXRlUG9ydGFsID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBjb250YWluZXIpIHtcbiAgICAgIHZhciBrZXkgPVxuICAgICAgICAyIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1syXSA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgICBpZiAoXG4gICAgICAgICFjb250YWluZXIgfHxcbiAgICAgICAgKDEgIT09IGNvbnRhaW5lci5ub2RlVHlwZSAmJlxuICAgICAgICAgIDkgIT09IGNvbnRhaW5lci5ub2RlVHlwZSAmJlxuICAgICAgICAgIDExICE9PSBjb250YWluZXIubm9kZVR5cGUpXG4gICAgICApXG4gICAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgICByZXR1cm4gY3JlYXRlUG9ydGFsJDEoY2hpbGRyZW4sIGNvbnRhaW5lciwgbnVsbCwga2V5KTtcbiAgICB9O1xuICAgIGV4cG9ydHMuZmx1c2hTeW5jID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICB2YXIgcHJldmlvdXNUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgcHJldmlvdXNVcGRhdGVQcmlvcml0eSA9IEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGwpLCAoSW50ZXJuYWxzLnAgPSAyKSwgZm4pKVxuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2aW91c1RyYW5zaXRpb24pLFxuICAgICAgICAgIChJbnRlcm5hbHMucCA9IHByZXZpb3VzVXBkYXRlUHJpb3JpdHkpLFxuICAgICAgICAgIEludGVybmFscy5kLmYoKSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmbHVzaFN5bmMgd2FzIGNhbGxlZCBmcm9tIGluc2lkZSBhIGxpZmVjeWNsZSBtZXRob2QuIFJlYWN0IGNhbm5vdCBmbHVzaCB3aGVuIFJlYWN0IGlzIGFscmVhZHkgcmVuZGVyaW5nLiBDb25zaWRlciBtb3ZpbmcgdGhpcyBjYWxsIHRvIGEgc2NoZWR1bGVyIHRhc2sgb3IgbWljcm8gdGFzay5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMucHJlY29ubmVjdCA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmXG4gICAgICAgID8gbnVsbCAhPSBvcHRpb25zICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWNvbm5lY3QoKTogRXhwZWN0ZWQgdGhlIGBvcHRpb25zYCBhcmd1bWVudCAoc2Vjb25kKSB0byBiZSBhbiBvYmplY3QgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuIFRoZSBvbmx5IHN1cHBvcnRlZCBvcHRpb24gYXQgdGhpcyB0aW1lIGlzIGBjcm9zc09yaWdpbmAgd2hpY2ggYWNjZXB0cyBhIHN0cmluZy5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGwgIT0gb3B0aW9ucyAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG9wdGlvbnMuY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlY29ubmVjdCgpOiBFeHBlY3RlZCB0aGUgYGNyb3NzT3JpZ2luYCBvcHRpb24gKHNlY29uZCBhcmd1bWVudCkgdG8gYmUgYSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuIFRyeSByZW1vdmluZyB0aGlzIG9wdGlvbiBvciBwYXNzaW5nIGEgc3RyaW5nIHZhbHVlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucy5jcm9zc09yaWdpbilcbiAgICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVjb25uZWN0KCk6IEV4cGVjdGVkIHRoZSBgaHJlZmAgYXJndW1lbnQgKGZpcnN0KSB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpXG4gICAgICAgICAgKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIChvcHRpb25zXG4gICAgICAgICAgPyAoKG9wdGlvbnMgPSBvcHRpb25zLmNyb3NzT3JpZ2luKSxcbiAgICAgICAgICAgIChvcHRpb25zID1cbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgICAgICAgICA/IFwidXNlLWNyZWRlbnRpYWxzXCIgPT09IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgID8gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgOiB2b2lkIDApKVxuICAgICAgICAgIDogKG9wdGlvbnMgPSBudWxsKSxcbiAgICAgICAgSW50ZXJuYWxzLmQuQyhocmVmLCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWZldGNoRE5TID0gZnVuY3Rpb24gKGhyZWYpIHtcbiAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgaHJlZiB8fCAhaHJlZilcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0RE9NLnByZWZldGNoRE5TKCk6IEV4cGVjdGVkIHRoZSBgaHJlZmAgYXJndW1lbnQgKGZpcnN0KSB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKVxuICAgICAgICApO1xuICAgICAgZWxzZSBpZiAoMSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJjcm9zc09yaWdpblwiKVxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVmZXRjaEROUygpOiBFeHBlY3RlZCBvbmx5IG9uZSBhcmd1bWVudCwgYGhyZWZgLCBidXQgZW5jb3VudGVyZWQgJXMgYXMgYSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZC4gVGhpcyBhcmd1bWVudCBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIG9wdGlvbnMgYW5kIGlzIGN1cnJlbnRseSBkaXNhbGxvd2VkLiBJdCBsb29rcyBsaWtlIHRoZSB5b3UgYXJlIGF0dGVtcHRpbmcgdG8gc2V0IGEgY3Jvc3NPcmlnaW4gcHJvcGVydHkgZm9yIHRoaXMgRE5TIGxvb2t1cCBoaW50LiBCcm93c2VycyBkbyBub3QgcGVyZm9ybSBETlMgcXVlcmllcyB1c2luZyBDT1JTIGFuZCBzZXR0aW5nIHRoaXMgYXR0cmlidXRlIG9uIHRoZSByZXNvdXJjZSBoaW50IGhhcyBubyBlZmZlY3QuIFRyeSBjYWxsaW5nIFJlYWN0RE9NLnByZWZldGNoRE5TKCkgd2l0aCBqdXN0IGEgc2luZ2xlIHN0cmluZyBhcmd1bWVudCwgYGhyZWZgLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVmZXRjaEROUygpOiBFeHBlY3RlZCBvbmx5IG9uZSBhcmd1bWVudCwgYGhyZWZgLCBidXQgZW5jb3VudGVyZWQgJXMgYXMgYSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZC4gVGhpcyBhcmd1bWVudCBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIG9wdGlvbnMgYW5kIGlzIGN1cnJlbnRseSBkaXNhbGxvd2VkLiBUcnkgY2FsbGluZyBSZWFjdERPTS5wcmVmZXRjaEROUygpIHdpdGgganVzdCBhIHNpbmdsZSBzdHJpbmcgYXJndW1lbnQsIGBocmVmYC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBJbnRlcm5hbHMuZC5EKGhyZWYpO1xuICAgIH07XG4gICAgZXhwb3J0cy5wcmVpbml0ID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWZcbiAgICAgICAgPyBudWxsID09IG9wdGlvbnMgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlaW5pdCgpOiBFeHBlY3RlZCB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IChzZWNvbmQpIHRvIGJlIGFuIG9iamVjdCB3aXRoIGFuIGBhc2AgcHJvcGVydHkgZGVzY3JpYmluZyB0aGUgdHlwZSBvZiByZXNvdXJjZSB0byBiZSBwcmVpbml0aWFsaXplZCBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwic3R5bGVcIiAhPT0gb3B0aW9ucy5hcyAmJlxuICAgICAgICAgICAgXCJzY3JpcHRcIiAhPT0gb3B0aW9ucy5hcyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJ1JlYWN0RE9NLnByZWluaXQoKTogRXhwZWN0ZWQgdGhlIGBhc2AgcHJvcGVydHkgaW4gdGhlIGBvcHRpb25zYCBhcmd1bWVudCAoc2Vjb25kKSB0byBjb250YWluIGEgdmFsaWQgdmFsdWUgZGVzY3JpYmluZyB0aGUgdHlwZSBvZiByZXNvdXJjZSB0byBiZSBwcmVpbml0aWFsaXplZCBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC4gVmFsaWQgdmFsdWVzIGZvciBgYXNgIGFyZSBcInN0eWxlXCIgYW5kIFwic2NyaXB0XCIuJyxcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucy5hcylcbiAgICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVpbml0KCk6IEV4cGVjdGVkIHRoZSBgaHJlZmAgYXJndW1lbnQgKGZpcnN0KSB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpXG4gICAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgb3B0aW9ucyAmJlxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hc1xuICAgICAgKSB7XG4gICAgICAgIHZhciBhcyA9IG9wdGlvbnMuYXMsXG4gICAgICAgICAgY3Jvc3NPcmlnaW4gPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKGFzLCBvcHRpb25zLmNyb3NzT3JpZ2luKSxcbiAgICAgICAgICBpbnRlZ3JpdHkgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5ID8gb3B0aW9ucy5pbnRlZ3JpdHkgOiB2b2lkIDAsXG4gICAgICAgICAgZmV0Y2hQcmlvcml0eSA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgICBcInN0eWxlXCIgPT09IGFzXG4gICAgICAgICAgPyBJbnRlcm5hbHMuZC5TKFxuICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5wcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6IGludGVncml0eSxcbiAgICAgICAgICAgICAgICBmZXRjaFByaW9yaXR5OiBmZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwic2NyaXB0XCIgPT09IGFzICYmXG4gICAgICAgICAgICBJbnRlcm5hbHMuZC5YKGhyZWYsIHtcbiAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICBpbnRlZ3JpdHk6IGludGVncml0eSxcbiAgICAgICAgICAgICAgZmV0Y2hQcmlvcml0eTogZmV0Y2hQcmlvcml0eSxcbiAgICAgICAgICAgICAgbm9uY2U6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm5vbmNlID8gb3B0aW9ucy5ub25jZSA6IHZvaWQgMFxuICAgICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWluaXRNb2R1bGUgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGVuY291bnRlcmVkID0gXCJcIjtcbiAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB8fFxuICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICBcIiBUaGUgYGhyZWZgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKSArXG4gICAgICAgICAgXCIuXCIpO1xuICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgID8gKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMpICtcbiAgICAgICAgICAgIFwiLlwiKVxuICAgICAgICA6IG9wdGlvbnMgJiZcbiAgICAgICAgICBcImFzXCIgaW4gb3B0aW9ucyAmJlxuICAgICAgICAgIFwic2NyaXB0XCIgIT09IG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgYXNgIG9wdGlvbiBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucy5hcykgK1xuICAgICAgICAgICAgXCIuXCIpO1xuICAgICAgaWYgKGVuY291bnRlcmVkKVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3RET00ucHJlaW5pdE1vZHVsZSgpOiBFeHBlY3RlZCB1cCB0byB0d28gYXJndW1lbnRzLCBhIG5vbi1lbXB0eSBgaHJlZmAgc3RyaW5nIGFuZCwgb3B0aW9uYWxseSwgYW4gYG9wdGlvbnNgIG9iamVjdCB3aXRoIGEgdmFsaWQgYGFzYCBwcm9wZXJ0eS4lc1wiLFxuICAgICAgICAgIGVuY291bnRlcmVkXG4gICAgICAgICk7XG4gICAgICBlbHNlXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKChlbmNvdW50ZXJlZCA9XG4gICAgICAgICAgICBvcHRpb25zICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzID8gb3B0aW9ucy5hcyA6IFwic2NyaXB0XCIpLFxuICAgICAgICAgIGVuY291bnRlcmVkKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgKGVuY291bnRlcmVkID1cbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcoZW5jb3VudGVyZWQpKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnUmVhY3RET00ucHJlaW5pdE1vZHVsZSgpOiBDdXJyZW50bHkgdGhlIG9ubHkgc3VwcG9ydGVkIFwiYXNcIiB0eXBlIGZvciB0aGlzIGZ1bmN0aW9uIGlzIFwic2NyaXB0XCIgYnV0IHJlY2VpdmVkIFwiJXNcIiBpbnN0ZWFkLiBUaGlzIHdhcm5pbmcgd2FzIGdlbmVyYXRlZCBmb3IgYGhyZWZgIFwiJXNcIi4gSW4gdGhlIGZ1dHVyZSBvdGhlciBtb2R1bGUgdHlwZXMgd2lsbCBiZSBzdXBwb3J0ZWQsIGFsaWduaW5nIHdpdGggdGhlIGltcG9ydC1hdHRyaWJ1dGVzIHByb3Bvc2FsLiBMZWFybiBtb3JlIGhlcmU6IChodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1pbXBvcnQtYXR0cmlidXRlcyknLFxuICAgICAgICAgICAgICAgIGVuY291bnRlcmVkLFxuICAgICAgICAgICAgICAgIGhyZWZcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmKVxuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgbnVsbCAhPT0gb3B0aW9ucykge1xuICAgICAgICAgIGlmIChudWxsID09IG9wdGlvbnMuYXMgfHwgXCJzY3JpcHRcIiA9PT0gb3B0aW9ucy5hcylcbiAgICAgICAgICAgIChlbmNvdW50ZXJlZCA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoXG4gICAgICAgICAgICAgIG9wdGlvbnMuYXMsXG4gICAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBJbnRlcm5hbHMuZC5NKGhyZWYsIHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogZW5jb3VudGVyZWQsXG4gICAgICAgICAgICAgICAgaW50ZWdyaXR5OlxuICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgbm9uY2U6XG4gICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB2b2lkIDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBudWxsID09IG9wdGlvbnMgJiYgSW50ZXJuYWxzLmQuTShocmVmKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucHJlbG9hZCA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZW5jb3VudGVyZWQgPSBcIlwiO1xuICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHx8XG4gICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgIFwiIFRoZSBgaHJlZmAgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpICtcbiAgICAgICAgICBcIi5cIik7XG4gICAgICBudWxsID09IG9wdGlvbnMgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgPyAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgb3B0aW9uc2AgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucykgK1xuICAgICAgICAgICAgXCIuXCIpXG4gICAgICAgIDogKFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzICYmIG9wdGlvbnMuYXMpIHx8XG4gICAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYGFzYCBvcHRpb24gZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucy5hcykgK1xuICAgICAgICAgICAgXCIuXCIpO1xuICAgICAgZW5jb3VudGVyZWQgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnUmVhY3RET00ucHJlbG9hZCgpOiBFeHBlY3RlZCB0d28gYXJndW1lbnRzLCBhIG5vbi1lbXB0eSBgaHJlZmAgc3RyaW5nIGFuZCBhbiBgb3B0aW9uc2Agb2JqZWN0IHdpdGggYW4gYGFzYCBwcm9wZXJ0eSB2YWxpZCBmb3IgYSBgPGxpbmsgcmVsPVwicHJlbG9hZFwiIGFzPVwiLi4uXCIgLz5gIHRhZy4lcycsXG4gICAgICAgICAgZW5jb3VudGVyZWRcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiZcbiAgICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hc1xuICAgICAgKSB7XG4gICAgICAgIGVuY291bnRlcmVkID0gb3B0aW9ucy5hcztcbiAgICAgICAgdmFyIGNyb3NzT3JpZ2luID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhcbiAgICAgICAgICBlbmNvdW50ZXJlZCxcbiAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luXG4gICAgICAgICk7XG4gICAgICAgIEludGVybmFscy5kLkwoaHJlZiwgZW5jb3VudGVyZWQsIHtcbiAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgaW50ZWdyaXR5OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5ID8gb3B0aW9ucy5pbnRlZ3JpdHkgOiB2b2lkIDAsXG4gICAgICAgICAgbm9uY2U6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm5vbmNlID8gb3B0aW9ucy5ub25jZSA6IHZvaWQgMCxcbiAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy50eXBlID8gb3B0aW9ucy50eXBlIDogdm9pZCAwLFxuICAgICAgICAgIGZldGNoUHJpb3JpdHk6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIHJlZmVycmVyUG9saWN5OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMucmVmZXJyZXJQb2xpY3lcbiAgICAgICAgICAgICAgPyBvcHRpb25zLnJlZmVycmVyUG9saWN5XG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIGltYWdlU3JjU2V0OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIGltYWdlU2l6ZXM6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbWFnZVNpemVzXG4gICAgICAgICAgICAgID8gb3B0aW9ucy5pbWFnZVNpemVzXG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIG1lZGlhOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5tZWRpYSA/IG9wdGlvbnMubWVkaWEgOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWxvYWRNb2R1bGUgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGVuY291bnRlcmVkID0gXCJcIjtcbiAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB8fFxuICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICBcIiBUaGUgYGhyZWZgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKSArXG4gICAgICAgICAgXCIuXCIpO1xuICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgID8gKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMpICtcbiAgICAgICAgICAgIFwiLlwiKVxuICAgICAgICA6IG9wdGlvbnMgJiZcbiAgICAgICAgICBcImFzXCIgaW4gb3B0aW9ucyAmJlxuICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBvcHRpb25zLmFzICYmXG4gICAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYGFzYCBvcHRpb24gZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucy5hcykgK1xuICAgICAgICAgICAgXCIuXCIpO1xuICAgICAgZW5jb3VudGVyZWQgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnUmVhY3RET00ucHJlbG9hZE1vZHVsZSgpOiBFeHBlY3RlZCB0d28gYXJndW1lbnRzLCBhIG5vbi1lbXB0eSBgaHJlZmAgc3RyaW5nIGFuZCwgb3B0aW9uYWxseSwgYW4gYG9wdGlvbnNgIG9iamVjdCB3aXRoIGFuIGBhc2AgcHJvcGVydHkgdmFsaWQgZm9yIGEgYDxsaW5rIHJlbD1cIm1vZHVsZXByZWxvYWRcIiBhcz1cIi4uLlwiIC8+YCB0YWcuJXMnLFxuICAgICAgICAgIGVuY291bnRlcmVkXG4gICAgICAgICk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICAob3B0aW9uc1xuICAgICAgICAgID8gKChlbmNvdW50ZXJlZCA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoXG4gICAgICAgICAgICAgIG9wdGlvbnMuYXMsXG4gICAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgSW50ZXJuYWxzLmQubShocmVmLCB7XG4gICAgICAgICAgICAgIGFzOlxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzICYmIFwic2NyaXB0XCIgIT09IG9wdGlvbnMuYXNcbiAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5hc1xuICAgICAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBlbmNvdW50ZXJlZCxcbiAgICAgICAgICAgICAgaW50ZWdyaXR5OlxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgOiB2b2lkIDBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIDogSW50ZXJuYWxzLmQubShocmVmKSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnJlcXVlc3RGb3JtUmVzZXQgPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgSW50ZXJuYWxzLmQucihmb3JtKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMgPSBmdW5jdGlvbiAoZm4sIGEpIHtcbiAgICAgIHJldHVybiBmbihhKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUZvcm1TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSwgcGVybWFsaW5rKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRm9ybVN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjAuMFwiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLypcbiBNb2Rlcm5penIgMy4wLjBwcmUgKEN1c3RvbSBCdWlsZCkgfCBNSVRcbiovXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGZpbmRIb29rKGZpYmVyLCBpZCkge1xuICAgICAgZm9yIChmaWJlciA9IGZpYmVyLm1lbW9pemVkU3RhdGU7IG51bGwgIT09IGZpYmVyICYmIDAgPCBpZDsgKVxuICAgICAgICAoZmliZXIgPSBmaWJlci5uZXh0KSwgaWQtLTtcbiAgICAgIHJldHVybiBmaWJlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhTZXRJbXBsKG9iaiwgcGF0aCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgICBpZiAoaW5kZXggPj0gcGF0aC5sZW5ndGgpIHJldHVybiB2YWx1ZTtcbiAgICAgIHZhciBrZXkgPSBwYXRoW2luZGV4XSxcbiAgICAgICAgdXBkYXRlZCA9IGlzQXJyYXlJbXBsKG9iaikgPyBvYmouc2xpY2UoKSA6IGFzc2lnbih7fSwgb2JqKTtcbiAgICAgIHVwZGF0ZWRba2V5XSA9IGNvcHlXaXRoU2V0SW1wbChvYmpba2V5XSwgcGF0aCwgaW5kZXggKyAxLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhSZW5hbWUob2JqLCBvbGRQYXRoLCBuZXdQYXRoKSB7XG4gICAgICBpZiAob2xkUGF0aC5sZW5ndGggIT09IG5ld1BhdGgubGVuZ3RoKVxuICAgICAgICBjb25zb2xlLndhcm4oXCJjb3B5V2l0aFJlbmFtZSgpIGV4cGVjdHMgcGF0aHMgb2YgdGhlIHNhbWUgbGVuZ3RoXCIpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3UGF0aC5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgaWYgKG9sZFBhdGhbaV0gIT09IG5ld1BhdGhbaV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJjb3B5V2l0aFJlbmFtZSgpIGV4cGVjdHMgcGF0aHMgdG8gYmUgdGhlIHNhbWUgZXhjZXB0IGZvciB0aGUgZGVlcGVzdCBrZXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5V2l0aFJlbmFtZUltcGwob2JqLCBvbGRQYXRoLCBuZXdQYXRoLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhSZW5hbWVJbXBsKG9iaiwgb2xkUGF0aCwgbmV3UGF0aCwgaW5kZXgpIHtcbiAgICAgIHZhciBvbGRLZXkgPSBvbGRQYXRoW2luZGV4XSxcbiAgICAgICAgdXBkYXRlZCA9IGlzQXJyYXlJbXBsKG9iaikgPyBvYmouc2xpY2UoKSA6IGFzc2lnbih7fSwgb2JqKTtcbiAgICAgIGluZGV4ICsgMSA9PT0gb2xkUGF0aC5sZW5ndGhcbiAgICAgICAgPyAoKHVwZGF0ZWRbbmV3UGF0aFtpbmRleF1dID0gdXBkYXRlZFtvbGRLZXldKSxcbiAgICAgICAgICBpc0FycmF5SW1wbCh1cGRhdGVkKVxuICAgICAgICAgICAgPyB1cGRhdGVkLnNwbGljZShvbGRLZXksIDEpXG4gICAgICAgICAgICA6IGRlbGV0ZSB1cGRhdGVkW29sZEtleV0pXG4gICAgICAgIDogKHVwZGF0ZWRbb2xkS2V5XSA9IGNvcHlXaXRoUmVuYW1lSW1wbChcbiAgICAgICAgICAgIG9ialtvbGRLZXldLFxuICAgICAgICAgICAgb2xkUGF0aCxcbiAgICAgICAgICAgIG5ld1BhdGgsXG4gICAgICAgICAgICBpbmRleCArIDFcbiAgICAgICAgICApKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aERlbGV0ZUltcGwob2JqLCBwYXRoLCBpbmRleCkge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaW5kZXhdLFxuICAgICAgICB1cGRhdGVkID0gaXNBcnJheUltcGwob2JqKSA/IG9iai5zbGljZSgpIDogYXNzaWduKHt9LCBvYmopO1xuICAgICAgaWYgKGluZGV4ICsgMSA9PT0gcGF0aC5sZW5ndGgpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaXNBcnJheUltcGwodXBkYXRlZCkgPyB1cGRhdGVkLnNwbGljZShrZXksIDEpIDogZGVsZXRlIHVwZGF0ZWRba2V5XSxcbiAgICAgICAgICB1cGRhdGVkXG4gICAgICAgICk7XG4gICAgICB1cGRhdGVkW2tleV0gPSBjb3B5V2l0aERlbGV0ZUltcGwob2JqW2tleV0sIHBhdGgsIGluZGV4ICsgMSk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkU3VzcGVuZEltcGwoKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZEVycm9ySW1wbCgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlcih0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gICAgICByZXR1cm4gbmV3IEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkludmFsaWRIb29rQWNjZXNzKCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJEbyBub3QgY2FsbCBIb29rcyBpbnNpZGUgdXNlRWZmZWN0KC4uLiksIHVzZU1lbW8oLi4uKSwgb3Igb3RoZXIgYnVpbHQtaW4gSG9va3MuIFlvdSBjYW4gb25seSBjYWxsIEhvb2tzIGF0IHRoZSB0b3AgbGV2ZWwgb2YgeW91ciBSZWFjdCBmdW5jdGlvbi4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3J1bGVzLW9mLWhvb2tzXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gSW4gY2xhc3NlcywgeW91IGNhbiByZWFkIGl0IGluIHRoZSByZW5kZXIgbWV0aG9kIG9yIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gSW4gZnVuY3Rpb24gY29tcG9uZW50cywgeW91IGNhbiByZWFkIGl0IGRpcmVjdGx5IGluIHRoZSBmdW5jdGlvbiBib2R5LCBidXQgbm90IGluc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMigpIHt9XG4gICAgZnVuY3Rpb24gd2FybkZvck1pc3NpbmdLZXkoKSB7fVxuICAgIGZ1bmN0aW9uIHNldFRvU29ydGVkU3RyaW5nKHNldCkge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICBzZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhcnJheS5zb3J0KCkuam9pbihcIiwgXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJvb3Qocm9vdCwgZWxlbWVudCkge1xuICAgICAgcm9vdC5jb250ZXh0ID09PSBlbXB0eUNvbnRleHRPYmplY3QgJiZcbiAgICAgICAgKHVwZGF0ZUNvbnRhaW5lclN5bmMoZWxlbWVudCwgcm9vdCwgbnVsbCwgbnVsbCksIGZsdXNoU3luY1dvcmskMSgpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVSZWZyZXNoKHJvb3QsIHVwZGF0ZSkge1xuICAgICAgaWYgKG51bGwgIT09IHJlc29sdmVGYW1pbHkpIHtcbiAgICAgICAgdmFyIHN0YWxlRmFtaWxpZXMgPSB1cGRhdGUuc3RhbGVGYW1pbGllcztcbiAgICAgICAgdXBkYXRlID0gdXBkYXRlLnVwZGF0ZWRGYW1pbGllcztcbiAgICAgICAgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgICBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgICAgIHJvb3QuY3VycmVudCxcbiAgICAgICAgICB1cGRhdGUsXG4gICAgICAgICAgc3RhbGVGYW1pbGllc1xuICAgICAgICApO1xuICAgICAgICBmbHVzaFN5bmNXb3JrJDEoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UmVmcmVzaEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgcmVzb2x2ZUZhbWlseSA9IGhhbmRsZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRDb250YWluZXIobm9kZSkge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICFub2RlIHx8XG4gICAgICAgICgxICE9PSBub2RlLm5vZGVUeXBlICYmIDkgIT09IG5vZGUubm9kZVR5cGUgJiYgMTEgIT09IG5vZGUubm9kZVR5cGUpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBtYXliZUl0ZXJhYmxlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIG1heWJlSXRlcmFibGUgPVxuICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgbWF5YmVJdGVyYWJsZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSA/IG1heWJlSXRlcmFibGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21Pd25lcihvd25lcikge1xuICAgICAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvd25lci50YWdcbiAgICAgICAgPyBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKG93bmVyKVxuICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvd25lci5uYW1lXG4gICAgICAgICAgPyBvd25lci5uYW1lXG4gICAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB7XG4gICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiBcIkNhY2hlXCI7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICByZXR1cm4gXCJEZWh5ZHJhdGVkRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpYmVyID0gdHlwZS5yZW5kZXIpLFxuICAgICAgICAgICAgKGZpYmVyID0gZmliZXIuZGlzcGxheU5hbWUgfHwgZmliZXIubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgICAgKFwiXCIgIT09IGZpYmVyID8gXCJGb3J3YXJkUmVmKFwiICsgZmliZXIgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiBcIlJvb3RcIjtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHJldHVybiBcIlRleHRcIjtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPyBcIlN0cmljdE1vZGVcIiA6IFwiTW9kZVwiO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHVybiBcIk9mZnNjcmVlblwiO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgcmV0dXJuIFwiU2NvcGVcIjtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIHJldHVybiBcIlRyYWNpbmdNYXJrZXJcIjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgIHR5cGUgPSBmaWJlci5fZGVidWdJbmZvO1xuICAgICAgICAgIGlmIChudWxsICE9IHR5cGUpXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdHlwZS5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlW2ldLm5hbWUpIHJldHVybiB0eXBlW2ldLm5hbWU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGZpYmVyLnJldHVybilcbiAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyLnJldHVybik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuICAgIGZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGluZm86IHByb3BzLFxuICAgICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgICAgZXJyb3I6IHByb3BzLFxuICAgICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGlzYWJsZWREZXB0aCsrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWVuYWJsZUxvZ3MoKSB7XG4gICAgICBkaXNhYmxlZERlcHRoLS07XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB7IGNvbmZpZ3VyYWJsZTogITAsIGVudW1lcmFibGU6ICEwLCB3cml0YWJsZTogITAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkxvZyB9KSxcbiAgICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2SW5mbyB9KSxcbiAgICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2V2FybiB9KSxcbiAgICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkVycm9yIH0pLFxuICAgICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXAgfSksXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZCB9KSxcbiAgICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwRW5kIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgMCA+IGRpc2FibGVkRGVwdGggJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImRpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBwcmVmaXgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgICAgcHJlZml4ID0gKG1hdGNoICYmIG1hdGNoWzFdKSB8fCBcIlwiO1xuICAgICAgICAgIHN1ZmZpeCA9XG4gICAgICAgICAgICAtMSA8IHguc3RhY2suaW5kZXhPZihcIlxcbiAgICBhdFwiKVxuICAgICAgICAgICAgICA/IFwiICg8YW5vbnltb3VzPilcIlxuICAgICAgICAgICAgICA6IC0xIDwgeC5zdGFjay5pbmRleE9mKFwiQFwiKVxuICAgICAgICAgICAgICAgID8gXCJAdW5rbm93bjowOjBcIlxuICAgICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXFxuXCIgKyBwcmVmaXggKyBuYW1lICsgc3VmZml4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcbiAgICAgIGlmICghZm4gfHwgcmVlbnRyeSkgcmV0dXJuIFwiXCI7XG4gICAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG4gICAgICBpZiAodm9pZCAwICE9PSBmcmFtZSkgcmV0dXJuIGZyYW1lO1xuICAgICAgcmVlbnRyeSA9ICEwO1xuICAgICAgZnJhbWUgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IG51bGw7XG4gICAgICBkaXNhYmxlTG9ncygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIFJ1bkluUm9vdEZyYW1lID0ge1xuICAgICAgICAgIERldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSB4O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChGYWtlID0gZm4oKSkgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEZha2UuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgIEZha2UuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzYW1wbGUuc3RhY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdC5kaXNwbGF5TmFtZSA9XG4gICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIjtcbiAgICAgICAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgIFwibmFtZVwiXG4gICAgICAgICk7XG4gICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci5jb25maWd1cmFibGUgJiZcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCIgfVxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPVxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290KCksXG4gICAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgICAgY29udHJvbFN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzFdO1xuICAgICAgICBpZiAoc2FtcGxlU3RhY2sgJiYgY29udHJvbFN0YWNrKSB7XG4gICAgICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlU3RhY2suc3BsaXQoXCJcXG5cIiksXG4gICAgICAgICAgICBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IG5hbWVQcm9wRGVzY3JpcHRvciA9IDA7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPCBzYW1wbGVMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yKys7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA8IGNvbnRyb2xMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlcisrO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9PT0gc2FtcGxlTGluZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPT09IGNvbnRyb2xMaW5lcy5sZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlciAmJlxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcjtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci0tLCBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoMSAhPT0gbmFtZVByb3BEZXNjcmlwdG9yIHx8IDEgIT09IF9SdW5JblJvb3RGcmFtZSREZXRlcikge1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIChuYW1lUHJvcERlc2NyaXB0b3ItLSxcbiAgICAgICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS0sXG4gICAgICAgICAgICAgICAgICAgIDAgPiBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mcmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgbmV3IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBmbi5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgKF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKFwiPGFub255bW91cz5cIiwgZm4uZGlzcGxheU5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAocmVlbnRyeSA9ICExKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZpb3VzRGlzcGF0Y2hlciksXG4gICAgICAgICAgcmVlbmFibGVMb2dzKCksXG4gICAgICAgICAgKEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnJhbWUpO1xuICAgICAgfVxuICAgICAgc2FtcGxlTGluZXMgPSAoc2FtcGxlTGluZXMgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiBcIlwiKVxuICAgICAgICA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHNhbXBsZUxpbmVzKVxuICAgICAgICA6IFwiXCI7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJiBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc2FtcGxlTGluZXMpO1xuICAgICAgcmV0dXJuIHNhbXBsZUxpbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZpYmVyKGZpYmVyKSB7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKGZpYmVyLnR5cGUpO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIkxhenlcIik7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VMaXN0XCIpO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZSwgITEpKSwgZmliZXI7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChmaWJlciA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZS5yZW5kZXIsICExKSksIGZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoZmliZXIgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZpYmVyLnR5cGUsICEwKSksIGZpYmVyO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBpbmZvID0gXCJcIjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGluZm8gKz0gZGVzY3JpYmVGaWJlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgdmFyIGRlYnVnSW5mbyA9IHdvcmtJblByb2dyZXNzLl9kZWJ1Z0luZm87XG4gICAgICAgICAgaWYgKGRlYnVnSW5mbylcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWJ1Z0luZm8ubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gZGVidWdJbmZvW2ldO1xuICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVudHJ5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gaW5mbyxcbiAgICAgICAgICAgICAgICAgIGVudiA9IGVudHJ5LmVudjtcbiAgICAgICAgICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXG4gICAgICAgICAgICAgICAgICBlbnRyeS5uYW1lICsgKGVudiA/IFwiIFtcIiArIGVudiArIFwiXVwiIDogXCJcIilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGluZm8gPSBKU0NvbXBpbGVyX3RlbXBfY29uc3QgKyBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgfSB3aGlsZSAod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiXFxuRXJyb3IgZ2VuZXJhdGluZyBzdGFjazogXCIgKyB4Lm1lc3NhZ2UgKyBcIlxcblwiICsgeC5zdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgb3duZXIgPSBjdXJyZW50Ll9kZWJ1Z093bmVyO1xuICAgICAgcmV0dXJuIG51bGwgIT0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lRnJvbU93bmVyKG93bmVyKSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYoKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gY3VycmVudCA/IFwiXCIgOiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bldpdGhGaWJlckluREVWKGZpYmVyLCBjYWxsYmFjaywgYXJnMCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xuICAgICAgdmFyIHByZXZpb3VzRmliZXIgPSBjdXJyZW50O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID1cbiAgICAgICAgbnVsbCA9PT0gZmliZXIgPyBudWxsIDogZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldjtcbiAgICAgIGlzUmVuZGVyaW5nID0gITE7XG4gICAgICBjdXJyZW50ID0gZmliZXI7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soYXJnMCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50ID0gcHJldmlvdXNGaWJlcjtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcInJ1bldpdGhGaWJlckluREVWIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gcHJvZHVjdGlvbi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihmaWJlcikge1xuICAgICAgdmFyIG5vZGUgPSBmaWJlcixcbiAgICAgICAgbmVhcmVzdE1vdW50ZWQgPSBmaWJlcjtcbiAgICAgIGlmIChmaWJlci5hbHRlcm5hdGUpIGZvciAoOyBub2RlLnJldHVybjsgKSBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmliZXIgPSBub2RlO1xuICAgICAgICBkb1xuICAgICAgICAgIChub2RlID0gZmliZXIpLFxuICAgICAgICAgICAgMCAhPT0gKG5vZGUuZmxhZ3MgJiA0MDk4KSAmJiAobmVhcmVzdE1vdW50ZWQgPSBub2RlLnJldHVybiksXG4gICAgICAgICAgICAoZmliZXIgPSBub2RlLnJldHVybik7XG4gICAgICAgIHdoaWxlIChmaWJlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gMyA9PT0gbm9kZS50YWcgPyBuZWFyZXN0TW91bnRlZCA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIoZmliZXIpIHtcbiAgICAgIGlmICgxMyA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIHZhciBzdXNwZW5zZVN0YXRlID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgbnVsbCA9PT0gc3VzcGVuc2VTdGF0ZSAmJlxuICAgICAgICAgICgoZmliZXIgPSBmaWJlci5hbHRlcm5hdGUpLFxuICAgICAgICAgIG51bGwgIT09IGZpYmVyICYmIChzdXNwZW5zZVN0YXRlID0gZmliZXIubWVtb2l6ZWRTdGF0ZSkpO1xuICAgICAgICBpZiAobnVsbCAhPT0gc3VzcGVuc2VTdGF0ZSkgcmV0dXJuIHN1c3BlbnNlU3RhdGUuZGVoeWRyYXRlZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnRJc01vdW50ZWQoZmliZXIpIHtcbiAgICAgIGlmIChnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKSAhPT0gZmliZXIpXG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgoZmliZXIpIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBpZiAoIWFsdGVybmF0ZSkge1xuICAgICAgICBhbHRlcm5hdGUgPSBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGFsdGVybmF0ZSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIHJldHVybiBhbHRlcm5hdGUgIT09IGZpYmVyID8gbnVsbCA6IGZpYmVyO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgYSA9IGZpYmVyLCBiID0gYWx0ZXJuYXRlOyA7ICkge1xuICAgICAgICB2YXIgcGFyZW50QSA9IGEucmV0dXJuO1xuICAgICAgICBpZiAobnVsbCA9PT0gcGFyZW50QSkgYnJlYWs7XG4gICAgICAgIHZhciBwYXJlbnRCID0gcGFyZW50QS5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChudWxsID09PSBwYXJlbnRCKSB7XG4gICAgICAgICAgYiA9IHBhcmVudEEucmV0dXJuO1xuICAgICAgICAgIGlmIChudWxsICE9PSBiKSB7XG4gICAgICAgICAgICBhID0gYjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50QS5jaGlsZCA9PT0gcGFyZW50Qi5jaGlsZCkge1xuICAgICAgICAgIGZvciAocGFyZW50QiA9IHBhcmVudEEuY2hpbGQ7IHBhcmVudEI7ICkge1xuICAgICAgICAgICAgaWYgKHBhcmVudEIgPT09IGEpIHJldHVybiBhc3NlcnRJc01vdW50ZWQocGFyZW50QSksIGZpYmVyO1xuICAgICAgICAgICAgaWYgKHBhcmVudEIgPT09IGIpIHJldHVybiBhc3NlcnRJc01vdW50ZWQocGFyZW50QSksIGFsdGVybmF0ZTtcbiAgICAgICAgICAgIHBhcmVudEIgPSBwYXJlbnRCLnNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5yZXR1cm4gIT09IGIucmV0dXJuKSAoYSA9IHBhcmVudEEpLCAoYiA9IHBhcmVudEIpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBkaWRGaW5kQ2hpbGQgPSAhMSwgX2NoaWxkID0gcGFyZW50QS5jaGlsZDsgX2NoaWxkOyApIHtcbiAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9ICEwO1xuICAgICAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlkRmluZENoaWxkKSB7XG4gICAgICAgICAgICBmb3IgKF9jaGlsZCA9IHBhcmVudEIuY2hpbGQ7IF9jaGlsZDsgKSB7XG4gICAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRpZEZpbmRDaGlsZClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJDaGlsZCB3YXMgbm90IGZvdW5kIGluIGVpdGhlciBwYXJlbnQgc2V0LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdCByZWxhdGVkIHRvIHRoZSByZXR1cm4gcG9pbnRlci4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEuYWx0ZXJuYXRlICE9PSBiKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZXR1cm4gZmliZXJzIHNob3VsZCBhbHdheXMgYmUgZWFjaCBvdGhlcnMnIGFsdGVybmF0ZXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKDMgIT09IGEudGFnKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICByZXR1cm4gYS5zdGF0ZU5vZGUuY3VycmVudCA9PT0gYSA/IGZpYmVyIDogYWx0ZXJuYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlckltcGwobm9kZSkge1xuICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCAyNiA9PT0gdGFnIHx8IDI3ID09PSB0YWcgfHwgNiA9PT0gdGFnKSByZXR1cm4gbm9kZTtcbiAgICAgIGZvciAobm9kZSA9IG5vZGUuY2hpbGQ7IG51bGwgIT09IG5vZGU7ICkge1xuICAgICAgICB0YWcgPSBmaW5kQ3VycmVudEhvc3RGaWJlckltcGwobm9kZSk7XG4gICAgICAgIGlmIChudWxsICE9PSB0YWcpIHJldHVybiB0YWc7XG4gICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ3Vyc29yKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY3VycmVudDogZGVmYXVsdFZhbHVlIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcChjdXJzb3IsIGZpYmVyKSB7XG4gICAgICAwID4gaW5kZXgkanNjb21wJDBcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBwb3AuXCIpXG4gICAgICAgIDogKGZpYmVyICE9PSBmaWJlclN0YWNrW2luZGV4JGpzY29tcCQwXSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgRmliZXIgcG9wcGVkLlwiKSxcbiAgICAgICAgICAoY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZVN0YWNrW2luZGV4JGpzY29tcCQwXSksXG4gICAgICAgICAgKHZhbHVlU3RhY2tbaW5kZXgkanNjb21wJDBdID0gbnVsbCksXG4gICAgICAgICAgKGZpYmVyU3RhY2tbaW5kZXgkanNjb21wJDBdID0gbnVsbCksXG4gICAgICAgICAgaW5kZXgkanNjb21wJDAtLSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2goY3Vyc29yLCB2YWx1ZSwgZmliZXIpIHtcbiAgICAgIGluZGV4JGpzY29tcCQwKys7XG4gICAgICB2YWx1ZVN0YWNrW2luZGV4JGpzY29tcCQwXSA9IGN1cnNvci5jdXJyZW50O1xuICAgICAgZmliZXJTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBmaWJlcjtcbiAgICAgIGN1cnNvci5jdXJyZW50ID0gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVpcmVkQ29udGV4dChjKSB7XG4gICAgICBudWxsID09PSBjICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCBob3N0IGNvbnRleHQgdG8gZXhpc3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAgICAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuICAgICAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcbiAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBudWxsLCBmaWJlcik7XG4gICAgICB2YXIgbmV4dFJvb3RDb250ZXh0ID0gbmV4dFJvb3RJbnN0YW5jZS5ub2RlVHlwZTtcbiAgICAgIHN3aXRjaCAobmV4dFJvb3RDb250ZXh0KSB7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBuZXh0Um9vdENvbnRleHQgPSA5ID09PSBuZXh0Um9vdENvbnRleHQgPyBcIiNkb2N1bWVudFwiIDogXCIjZnJhZ21lbnRcIjtcbiAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlID0gKG5leHRSb290SW5zdGFuY2UgPVxuICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZS5kb2N1bWVudEVsZW1lbnQpXG4gICAgICAgICAgICA/IChuZXh0Um9vdEluc3RhbmNlID0gbmV4dFJvb3RJbnN0YW5jZS5uYW1lc3BhY2VVUkkpXG4gICAgICAgICAgICAgID8gZ2V0T3duSG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSlcbiAgICAgICAgICAgICAgOiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmVcbiAgICAgICAgICAgIDogSG9zdENvbnRleHROYW1lc3BhY2VOb25lO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICgobmV4dFJvb3RJbnN0YW5jZSA9XG4gICAgICAgICAgICAgIDggPT09IG5leHRSb290Q29udGV4dFxuICAgICAgICAgICAgICAgID8gbmV4dFJvb3RJbnN0YW5jZS5wYXJlbnROb2RlXG4gICAgICAgICAgICAgICAgOiBuZXh0Um9vdEluc3RhbmNlKSxcbiAgICAgICAgICAgIChuZXh0Um9vdENvbnRleHQgPSBuZXh0Um9vdEluc3RhbmNlLnRhZ05hbWUpLFxuICAgICAgICAgICAgKG5leHRSb290SW5zdGFuY2UgPSBuZXh0Um9vdEluc3RhbmNlLm5hbWVzcGFjZVVSSSkpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKG5leHRSb290SW5zdGFuY2UgPSBnZXRPd25Ib3N0Q29udGV4dChuZXh0Um9vdEluc3RhbmNlKSksXG4gICAgICAgICAgICAgIChuZXh0Um9vdEluc3RhbmNlID0gZ2V0Q2hpbGRIb3N0Q29udGV4dFByb2QoXG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBuZXh0Um9vdENvbnRleHRcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3dpdGNoIChuZXh0Um9vdENvbnRleHQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIm1hdGhcIjpcbiAgICAgICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlID0gSG9zdENvbnRleHROYW1lc3BhY2VNYXRoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0Um9vdENvbnRleHQgPSBuZXh0Um9vdENvbnRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5leHRSb290Q29udGV4dCA9IHVwZGF0ZWRBbmNlc3RvckluZm9EZXYobnVsbCwgbmV4dFJvb3RDb250ZXh0KTtcbiAgICAgIG5leHRSb290Q29udGV4dCA9IHtcbiAgICAgICAgY29udGV4dDogbmV4dFJvb3RJbnN0YW5jZSxcbiAgICAgICAgYW5jZXN0b3JJbmZvOiBuZXh0Um9vdENvbnRleHRcbiAgICAgIH07XG4gICAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbmV4dFJvb3RDb250ZXh0LCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEhvc3RDb250YWluZXIoZmliZXIpIHtcbiAgICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgcG9wKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvc3RDb250ZXh0KCkge1xuICAgICAgcmV0dXJuIHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hIb3N0Q29udGV4dChmaWJlcikge1xuICAgICAgbnVsbCAhPT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICBwdXNoKGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG4gICAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICB2YXIgbmV4dENvbnRleHQgPSBnZXRDaGlsZEhvc3RDb250ZXh0UHJvZChjb250ZXh0LmNvbnRleHQsIHR5cGUpO1xuICAgICAgdHlwZSA9IHVwZGF0ZWRBbmNlc3RvckluZm9EZXYoY29udGV4dC5hbmNlc3RvckluZm8sIHR5cGUpO1xuICAgICAgbmV4dENvbnRleHQgPSB7IGNvbnRleHQ6IG5leHRDb250ZXh0LCBhbmNlc3RvckluZm86IHR5cGUgfTtcbiAgICAgIGNvbnRleHQgIT09IG5leHRDb250ZXh0ICYmXG4gICAgICAgIChwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpLFxuICAgICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbmV4dENvbnRleHQsIGZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gICAgICBjb250ZXh0RmliZXJTdGFja0N1cnNvci5jdXJyZW50ID09PSBmaWJlciAmJlxuICAgICAgICAocG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpLCBwb3AoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyKSk7XG4gICAgICBob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yLmN1cnJlbnQgPT09IGZpYmVyICYmXG4gICAgICAgIChwb3AoaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvciwgZmliZXIpLFxuICAgICAgICAoSG9zdFRyYW5zaXRpb25Db250ZXh0Ll9jdXJyZW50VmFsdWUgPSBOb3RQZW5kaW5nVHJhbnNpdGlvbikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgXCJPYmplY3RcIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2lsbENvZXJjaW9uVGhyb3codmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpLCAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGAlc2AgYXR0cmlidXRlIGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHR5cGVOYW1lKHZhbHVlKVxuICAgICAgICAgICksXG4gICAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BOYW1lKSB7XG4gICAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBwcm92aWRlZCBgJXNgIENTUyBwcm9wZXJ0eSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAgIHByb3BOYW1lLFxuICAgICAgICAgICAgdHlwZU5hbWUodmFsdWUpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJGb3JtIGZpZWxkIHZhbHVlcyAodmFsdWUsIGNoZWNrZWQsIGRlZmF1bHRWYWx1ZSwgb3IgZGVmYXVsdENoZWNrZWQgcHJvcHMpIG11c3QgYmUgc3RyaW5ncywgbm90ICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAgIHR5cGVOYW1lKHZhbHVlKVxuICAgICAgICAgICksXG4gICAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXykgcmV0dXJuICExO1xuICAgICAgdmFyIGhvb2sgPSBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG4gICAgICBpZiAoaG9vay5pc0Rpc2FibGVkKSByZXR1cm4gITA7XG4gICAgICBpZiAoIWhvb2suc3VwcG9ydHNGaWJlcilcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgaW5zdGFsbGVkIHZlcnNpb24gb2YgUmVhY3QgRGV2VG9vbHMgaXMgdG9vIG9sZCBhbmQgd2lsbCBub3Qgd29yayB3aXRoIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUmVhY3QuIFBsZWFzZSB1cGRhdGUgUmVhY3QgRGV2VG9vbHMuIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcmVhY3QtZGV2dG9vbHNcIlxuICAgICAgICAgICksXG4gICAgICAgICAgITBcbiAgICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIChyZW5kZXJlcklEID0gaG9vay5pbmplY3QoaW50ZXJuYWxzKSksIChpbmplY3RlZEhvb2sgPSBob29rKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcy5cIiwgZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBob29rLmNoZWNrRENFID8gITAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Db21taXRSb290JDEocm9vdCwgZXZlbnRQcmlvcml0eSkge1xuICAgICAgaWYgKGluamVjdGVkSG9vayAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclJvb3QpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGRpZEVycm9yID0gMTI4ID09PSAocm9vdC5jdXJyZW50LmZsYWdzICYgMTI4KTtcbiAgICAgICAgICBzd2l0Y2ggKGV2ZW50UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgRGlzY3JldGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICB2YXIgc2NoZWR1bGVyUHJpb3JpdHkgPSBJbW1lZGlhdGVQcmlvcml0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnRpbnVvdXNFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IFVzZXJCbG9ja2luZ1ByaW9yaXR5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRGVmYXVsdEV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIElkbGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IElkbGVQcmlvcml0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IE5vcm1hbFByaW9yaXR5JDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyUm9vdChcbiAgICAgICAgICAgIHJlbmRlcmVySUQsXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHksXG4gICAgICAgICAgICBkaWRFcnJvclxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMobmV3SXNTdHJpY3RNb2RlKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBsb2ckMSAmJlxuICAgICAgICB1bnN0YWJsZV9zZXREaXNhYmxlWWllbGRWYWx1ZShuZXdJc1N0cmljdE1vZGUpO1xuICAgICAgaWYgKGluamVjdGVkSG9vayAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2suc2V0U3RyaWN0TW9kZSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmplY3RlZEhvb2suc2V0U3RyaWN0TW9kZShyZW5kZXJlcklELCBuZXdJc1N0cmljdE1vZGUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluamVjdFByb2ZpbGluZ0hvb2tzKHByb2ZpbGluZ0hvb2tzKSB7XG4gICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzID0gcHJvZmlsaW5nSG9va3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtDb21taXRTdG9wcGVkKCkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21taXRTdG9wcGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0b3BwZWQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQoZmliZXIpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RhcnRlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdGFydGVkKGxhbmVzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JlbmRlclN0b3BwZWQoKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclN0b3BwZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RvcHBlZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIGxhbmUpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIGxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbHozMkZhbGxiYWNrKHgpIHtcbiAgICAgIHggPj4+PSAwO1xuICAgICAgcmV0dXJuIDAgPT09IHggPyAzMiA6ICgzMSAtICgobG9nKHgpIC8gTE4yKSB8IDApKSB8IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExhYmVsRm9yTGFuZShsYW5lKSB7XG4gICAgICBpZiAobGFuZSAmIDEpIHJldHVybiBcIlN5bmNIeWRyYXRpb25MYW5lXCI7XG4gICAgICBpZiAobGFuZSAmIDIpIHJldHVybiBcIlN5bmNcIjtcbiAgICAgIGlmIChsYW5lICYgNCkgcmV0dXJuIFwiSW5wdXRDb250aW51b3VzSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDgpIHJldHVybiBcIklucHV0Q29udGludW91c1wiO1xuICAgICAgaWYgKGxhbmUgJiAxNikgcmV0dXJuIFwiRGVmYXVsdEh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiAzMikgcmV0dXJuIFwiRGVmYXVsdFwiO1xuICAgICAgaWYgKGxhbmUgJiA2NCkgcmV0dXJuIFwiVHJhbnNpdGlvbkh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiA0MTk0MTc2KSByZXR1cm4gXCJUcmFuc2l0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDYyOTE0NTYwKSByZXR1cm4gXCJSZXRyeVwiO1xuICAgICAgaWYgKGxhbmUgJiA2NzEwODg2NCkgcmV0dXJuIFwiU2VsZWN0aXZlSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDEzNDIxNzcyOCkgcmV0dXJuIFwiSWRsZUh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiAyNjg0MzU0NTYpIHJldHVybiBcIklkbGVcIjtcbiAgICAgIGlmIChsYW5lICYgNTM2ODcwOTEyKSByZXR1cm4gXCJPZmZzY3JlZW5cIjtcbiAgICAgIGlmIChsYW5lICYgMTA3Mzc0MTgyNCkgcmV0dXJuIFwiRGVmZXJyZWRcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMobGFuZXMpIHtcbiAgICAgIHZhciBwZW5kaW5nU3luY0xhbmVzID0gbGFuZXMgJiA0MjtcbiAgICAgIGlmICgwICE9PSBwZW5kaW5nU3luY0xhbmVzKSByZXR1cm4gcGVuZGluZ1N5bmNMYW5lcztcbiAgICAgIHN3aXRjaCAobGFuZXMgJiAtbGFuZXMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiA4O1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiAxNjtcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICByZXR1cm4gMzI7XG4gICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgcmV0dXJuIDY0O1xuICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgY2FzZSAyNTY6XG4gICAgICAgIGNhc2UgNTEyOlxuICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgIGNhc2UgMjA0ODpcbiAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgIGNhc2UgMTYzODQ6XG4gICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgIGNhc2UgNjU1MzY6XG4gICAgICAgIGNhc2UgMTMxMDcyOlxuICAgICAgICBjYXNlIDI2MjE0NDpcbiAgICAgICAgY2FzZSA1MjQyODg6XG4gICAgICAgIGNhc2UgMTA0ODU3NjpcbiAgICAgICAgY2FzZSAyMDk3MTUyOlxuICAgICAgICAgIHJldHVybiBsYW5lcyAmIDQxOTQxNzY7XG4gICAgICAgIGNhc2UgNDE5NDMwNDpcbiAgICAgICAgY2FzZSA4Mzg4NjA4OlxuICAgICAgICBjYXNlIDE2Nzc3MjE2OlxuICAgICAgICBjYXNlIDMzNTU0NDMyOlxuICAgICAgICAgIHJldHVybiBsYW5lcyAmIDYyOTE0NTYwO1xuICAgICAgICBjYXNlIDY3MTA4ODY0OlxuICAgICAgICAgIHJldHVybiA2NzEwODg2NDtcbiAgICAgICAgY2FzZSAxMzQyMTc3Mjg6XG4gICAgICAgICAgcmV0dXJuIDEzNDIxNzcyODtcbiAgICAgICAgY2FzZSAyNjg0MzU0NTY6XG4gICAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NjtcbiAgICAgICAgY2FzZSA1MzY4NzA5MTI6XG4gICAgICAgICAgcmV0dXJuIDUzNjg3MDkxMjtcbiAgICAgICAgY2FzZSAxMDczNzQxODI0OlxuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlNob3VsZCBoYXZlIGZvdW5kIG1hdGNoaW5nIGxhbmVzLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0TGFuZXMocm9vdCwgd2lwTGFuZXMpIHtcbiAgICAgIHZhciBwZW5kaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIGlmICgwID09PSBwZW5kaW5nTGFuZXMpIHJldHVybiAwO1xuICAgICAgdmFyIG5leHRMYW5lcyA9IDAsXG4gICAgICAgIHN1c3BlbmRlZExhbmVzID0gcm9vdC5zdXNwZW5kZWRMYW5lcyxcbiAgICAgICAgcGluZ2VkTGFuZXMgPSByb290LnBpbmdlZExhbmVzLFxuICAgICAgICB3YXJtTGFuZXMgPSByb290Lndhcm1MYW5lcztcbiAgICAgIHJvb3QgPSAwICE9PSByb290LmZpbmlzaGVkTGFuZXM7XG4gICAgICB2YXIgbm9uSWRsZVBlbmRpbmdMYW5lcyA9IHBlbmRpbmdMYW5lcyAmIDEzNDIxNzcyNztcbiAgICAgIDAgIT09IG5vbklkbGVQZW5kaW5nTGFuZXNcbiAgICAgICAgPyAoKHBlbmRpbmdMYW5lcyA9IG5vbklkbGVQZW5kaW5nTGFuZXMgJiB+c3VzcGVuZGVkTGFuZXMpLFxuICAgICAgICAgIDAgIT09IHBlbmRpbmdMYW5lc1xuICAgICAgICAgICAgPyAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMocGVuZGluZ0xhbmVzKSlcbiAgICAgICAgICAgIDogKChwaW5nZWRMYW5lcyAmPSBub25JZGxlUGVuZGluZ0xhbmVzKSxcbiAgICAgICAgICAgICAgMCAhPT0gcGluZ2VkTGFuZXNcbiAgICAgICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhwaW5nZWRMYW5lcykpXG4gICAgICAgICAgICAgICAgOiByb290IHx8XG4gICAgICAgICAgICAgICAgICAoKHdhcm1MYW5lcyA9IG5vbklkbGVQZW5kaW5nTGFuZXMgJiB+d2FybUxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIDAgIT09IHdhcm1MYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMod2FybUxhbmVzKSkpKSlcbiAgICAgICAgOiAoKG5vbklkbGVQZW5kaW5nTGFuZXMgPSBwZW5kaW5nTGFuZXMgJiB+c3VzcGVuZGVkTGFuZXMpLFxuICAgICAgICAgIDAgIT09IG5vbklkbGVQZW5kaW5nTGFuZXNcbiAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKG5vbklkbGVQZW5kaW5nTGFuZXMpKVxuICAgICAgICAgICAgOiAwICE9PSBwaW5nZWRMYW5lc1xuICAgICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhwaW5nZWRMYW5lcykpXG4gICAgICAgICAgICAgIDogcm9vdCB8fFxuICAgICAgICAgICAgICAgICgod2FybUxhbmVzID0gcGVuZGluZ0xhbmVzICYgfndhcm1MYW5lcyksXG4gICAgICAgICAgICAgICAgMCAhPT0gd2FybUxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMod2FybUxhbmVzKSkpKTtcbiAgICAgIHJldHVybiAwID09PSBuZXh0TGFuZXNcbiAgICAgICAgPyAwXG4gICAgICAgIDogMCAhPT0gd2lwTGFuZXMgJiZcbiAgICAgICAgICAgIHdpcExhbmVzICE9PSBuZXh0TGFuZXMgJiZcbiAgICAgICAgICAgIDAgPT09ICh3aXBMYW5lcyAmIHN1c3BlbmRlZExhbmVzKSAmJlxuICAgICAgICAgICAgKChzdXNwZW5kZWRMYW5lcyA9IG5leHRMYW5lcyAmIC1uZXh0TGFuZXMpLFxuICAgICAgICAgICAgKHdhcm1MYW5lcyA9IHdpcExhbmVzICYgLXdpcExhbmVzKSxcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID49IHdhcm1MYW5lcyB8fFxuICAgICAgICAgICAgICAoMzIgPT09IHN1c3BlbmRlZExhbmVzICYmIDAgIT09ICh3YXJtTGFuZXMgJiA0MTk0MTc2KSkpXG4gICAgICAgICAgPyB3aXBMYW5lc1xuICAgICAgICAgIDogbmV4dExhbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIHJlbmRlckxhbmVzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAwID09PVxuICAgICAgICAocm9vdC5wZW5kaW5nTGFuZXMgJlxuICAgICAgICAgIH4ocm9vdC5zdXNwZW5kZWRMYW5lcyAmIH5yb290LnBpbmdlZExhbmVzKSAmXG4gICAgICAgICAgcmVuZGVyTGFuZXMpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvblRpbWUobGFuZSwgY3VycmVudFRpbWUpIHtcbiAgICAgIHN3aXRjaCAobGFuZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lICsgMjUwO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICBjYXNlIDMyOlxuICAgICAgICBjYXNlIDY0OlxuICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgY2FzZSAyNTY6XG4gICAgICAgIGNhc2UgNTEyOlxuICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgIGNhc2UgMjA0ODpcbiAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgIGNhc2UgMTYzODQ6XG4gICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgIGNhc2UgNjU1MzY6XG4gICAgICAgIGNhc2UgMTMxMDcyOlxuICAgICAgICBjYXNlIDI2MjE0NDpcbiAgICAgICAgY2FzZSA1MjQyODg6XG4gICAgICAgIGNhc2UgMTA0ODU3NjpcbiAgICAgICAgY2FzZSAyMDk3MTUyOlxuICAgICAgICAgIHJldHVybiBjdXJyZW50VGltZSArIDVlMztcbiAgICAgICAgY2FzZSA0MTk0MzA0OlxuICAgICAgICBjYXNlIDgzODg2MDg6XG4gICAgICAgIGNhc2UgMTY3NzcyMTY6XG4gICAgICAgIGNhc2UgMzM1NTQ0MzI6XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBjYXNlIDY3MTA4ODY0OlxuICAgICAgICBjYXNlIDEzNDIxNzcyODpcbiAgICAgICAgY2FzZSAyNjg0MzU0NTY6XG4gICAgICAgIGNhc2UgNTM2ODcwOTEyOlxuICAgICAgICBjYXNlIDEwNzM3NDE4MjQ6XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlNob3VsZCBoYXZlIGZvdW5kIG1hdGNoaW5nIGxhbmVzLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLTFcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGFpbU5leHRUcmFuc2l0aW9uTGFuZSgpIHtcbiAgICAgIHZhciBsYW5lID0gbmV4dFRyYW5zaXRpb25MYW5lO1xuICAgICAgbmV4dFRyYW5zaXRpb25MYW5lIDw8PSAxO1xuICAgICAgMCA9PT0gKG5leHRUcmFuc2l0aW9uTGFuZSAmIDQxOTQxNzYpICYmIChuZXh0VHJhbnNpdGlvbkxhbmUgPSAxMjgpO1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsYWltTmV4dFJldHJ5TGFuZSgpIHtcbiAgICAgIHZhciBsYW5lID0gbmV4dFJldHJ5TGFuZTtcbiAgICAgIG5leHRSZXRyeUxhbmUgPDw9IDE7XG4gICAgICAwID09PSAobmV4dFJldHJ5TGFuZSAmIDYyOTE0NTYwKSAmJiAobmV4dFJldHJ5TGFuZSA9IDQxOTQzMDQpO1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxhbmVNYXAoaW5pdGlhbCkge1xuICAgICAgZm9yICh2YXIgbGFuZU1hcCA9IFtdLCBpID0gMDsgMzEgPiBpOyBpKyspIGxhbmVNYXAucHVzaChpbml0aWFsKTtcbiAgICAgIHJldHVybiBsYW5lTWFwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUm9vdFVwZGF0ZWQkMShyb290LCB1cGRhdGVMYW5lKSB7XG4gICAgICByb290LnBlbmRpbmdMYW5lcyB8PSB1cGRhdGVMYW5lO1xuICAgICAgMjY4NDM1NDU2ICE9PSB1cGRhdGVMYW5lICYmXG4gICAgICAgICgocm9vdC5zdXNwZW5kZWRMYW5lcyA9IDApLFxuICAgICAgICAocm9vdC5waW5nZWRMYW5lcyA9IDApLFxuICAgICAgICAocm9vdC53YXJtTGFuZXMgPSAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290RmluaXNoZWQoXG4gICAgICByb290LFxuICAgICAgZmluaXNoZWRMYW5lcyxcbiAgICAgIHJlbWFpbmluZ0xhbmVzLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzXG4gICAgKSB7XG4gICAgICB2YXIgcHJldmlvdXNseVBlbmRpbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3Quc3VzcGVuZGVkTGFuZXMgPSAwO1xuICAgICAgcm9vdC5waW5nZWRMYW5lcyA9IDA7XG4gICAgICByb290Lndhcm1MYW5lcyA9IDA7XG4gICAgICByb290LmV4cGlyZWRMYW5lcyAmPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3QuZW50YW5nbGVkTGFuZXMgJj0gcmVtYWluaW5nTGFuZXM7XG4gICAgICByb290LmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzICY9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5zaGVsbFN1c3BlbmRDb3VudGVyID0gMDtcbiAgICAgIHZhciBlbnRhbmdsZW1lbnRzID0gcm9vdC5lbnRhbmdsZW1lbnRzLFxuICAgICAgICBleHBpcmF0aW9uVGltZXMgPSByb290LmV4cGlyYXRpb25UaW1lcyxcbiAgICAgICAgaGlkZGVuVXBkYXRlcyA9IHJvb3QuaGlkZGVuVXBkYXRlcztcbiAgICAgIGZvciAoXG4gICAgICAgIHJlbWFpbmluZ0xhbmVzID0gcHJldmlvdXNseVBlbmRpbmdMYW5lcyAmIH5yZW1haW5pbmdMYW5lcztcbiAgICAgICAgMCA8IHJlbWFpbmluZ0xhbmVzO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihyZW1haW5pbmdMYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgIGVudGFuZ2xlbWVudHNbaW5kZXhdID0gMDtcbiAgICAgICAgZXhwaXJhdGlvblRpbWVzW2luZGV4XSA9IC0xO1xuICAgICAgICB2YXIgaGlkZGVuVXBkYXRlc0ZvckxhbmUgPSBoaWRkZW5VcGRhdGVzW2luZGV4XTtcbiAgICAgICAgaWYgKG51bGwgIT09IGhpZGRlblVwZGF0ZXNGb3JMYW5lKVxuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBoaWRkZW5VcGRhdGVzW2luZGV4XSA9IG51bGwsIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGluZGV4IDwgaGlkZGVuVXBkYXRlc0ZvckxhbmUubGVuZ3RoO1xuICAgICAgICAgICAgaW5kZXgrK1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGhpZGRlblVwZGF0ZXNGb3JMYW5lW2luZGV4XTtcbiAgICAgICAgICAgIG51bGwgIT09IHVwZGF0ZSAmJiAodXBkYXRlLmxhbmUgJj0gLTUzNjg3MDkxMyk7XG4gICAgICAgICAgfVxuICAgICAgICByZW1haW5pbmdMYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICAgIDAgIT09IHNwYXduZWRMYW5lICYmIG1hcmtTcGF3bmVkRGVmZXJyZWRMYW5lKHJvb3QsIHNwYXduZWRMYW5lLCAwKTtcbiAgICAgIDAgIT09IHN1c3BlbmRlZFJldHJ5TGFuZXMgJiZcbiAgICAgICAgMCA9PT0gdXBkYXRlZExhbmVzICYmXG4gICAgICAgIDAgIT09IHJvb3QudGFnICYmXG4gICAgICAgIChyb290LnN1c3BlbmRlZExhbmVzIHw9XG4gICAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyAmIH4ocHJldmlvdXNseVBlbmRpbmdMYW5lcyAmIH5maW5pc2hlZExhbmVzKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtTcGF3bmVkRGVmZXJyZWRMYW5lKHJvb3QsIHNwYXduZWRMYW5lLCBlbnRhbmdsZWRMYW5lcykge1xuICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgfD0gc3Bhd25lZExhbmU7XG4gICAgICByb290LnN1c3BlbmRlZExhbmVzICY9IH5zcGF3bmVkTGFuZTtcbiAgICAgIHZhciBzcGF3bmVkTGFuZUluZGV4ID0gMzEgLSBjbHozMihzcGF3bmVkTGFuZSk7XG4gICAgICByb290LmVudGFuZ2xlZExhbmVzIHw9IHNwYXduZWRMYW5lO1xuICAgICAgcm9vdC5lbnRhbmdsZW1lbnRzW3NwYXduZWRMYW5lSW5kZXhdID1cbiAgICAgICAgcm9vdC5lbnRhbmdsZW1lbnRzW3NwYXduZWRMYW5lSW5kZXhdIHxcbiAgICAgICAgMTA3Mzc0MTgyNCB8XG4gICAgICAgIChlbnRhbmdsZWRMYW5lcyAmIDQxOTQyMTgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUm9vdEVudGFuZ2xlZChyb290LCBlbnRhbmdsZWRMYW5lcykge1xuICAgICAgdmFyIHJvb3RFbnRhbmdsZWRMYW5lcyA9IChyb290LmVudGFuZ2xlZExhbmVzIHw9IGVudGFuZ2xlZExhbmVzKTtcbiAgICAgIGZvciAocm9vdCA9IHJvb3QuZW50YW5nbGVtZW50czsgcm9vdEVudGFuZ2xlZExhbmVzOyApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihyb290RW50YW5nbGVkTGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICAobGFuZSAmIGVudGFuZ2xlZExhbmVzKSB8IChyb290W2luZGV4XSAmIGVudGFuZ2xlZExhbmVzKSAmJlxuICAgICAgICAgIChyb290W2luZGV4XSB8PSBlbnRhbmdsZWRMYW5lcyk7XG4gICAgICAgIHJvb3RFbnRhbmdsZWRMYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRmliZXJUb0xhbmVzTWFwKHJvb3QsIGZpYmVyLCBsYW5lcykge1xuICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KVxuICAgICAgICBmb3IgKHJvb3QgPSByb290LnBlbmRpbmdVcGRhdGVyc0xhbmVNYXA7IDAgPCBsYW5lczsgKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyksXG4gICAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgICByb290W2luZGV4XS5hZGQoZmliZXIpO1xuICAgICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdmVQZW5kaW5nRmliZXJzVG9NZW1vaXplZChyb290LCBsYW5lcykge1xuICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBwZW5kaW5nVXBkYXRlcnNMYW5lTWFwID0gcm9vdC5wZW5kaW5nVXBkYXRlcnNMYW5lTWFwLFxuICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IHJvb3QubWVtb2l6ZWRVcGRhdGVycztcbiAgICAgICAgICAwIDwgbGFuZXM7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyk7XG4gICAgICAgICAgcm9vdCA9IDEgPDwgaW5kZXg7XG4gICAgICAgICAgaW5kZXggPSBwZW5kaW5nVXBkYXRlcnNMYW5lTWFwW2luZGV4XTtcbiAgICAgICAgICAwIDwgaW5kZXguc2l6ZSAmJlxuICAgICAgICAgICAgKGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgIChudWxsICE9PSBhbHRlcm5hdGUgJiYgbWVtb2l6ZWRVcGRhdGVycy5oYXMoYWx0ZXJuYXRlKSkgfHxcbiAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLmFkZChmaWJlcik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGluZGV4LmNsZWFyKCkpO1xuICAgICAgICAgIGxhbmVzICY9IH5yb290O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhbmVzVG9FdmVudFByaW9yaXR5KGxhbmVzKSB7XG4gICAgICBsYW5lcyAmPSAtbGFuZXM7XG4gICAgICByZXR1cm4gMCAhPT0gRGlzY3JldGVFdmVudFByaW9yaXR5ICYmIERpc2NyZXRlRXZlbnRQcmlvcml0eSA8IGxhbmVzXG4gICAgICAgID8gMCAhPT0gQ29udGludW91c0V2ZW50UHJpb3JpdHkgJiYgQ29udGludW91c0V2ZW50UHJpb3JpdHkgPCBsYW5lc1xuICAgICAgICAgID8gMCAhPT0gKGxhbmVzICYgMTM0MjE3NzI3KVxuICAgICAgICAgICAgPyBEZWZhdWx0RXZlbnRQcmlvcml0eVxuICAgICAgICAgICAgOiBJZGxlRXZlbnRQcmlvcml0eVxuICAgICAgICAgIDogQ29udGludW91c0V2ZW50UHJpb3JpdHlcbiAgICAgICAgOiBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVVcGRhdGVQcmlvcml0eSgpIHtcbiAgICAgIHZhciB1cGRhdGVQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICBpZiAoMCAhPT0gdXBkYXRlUHJpb3JpdHkpIHJldHVybiB1cGRhdGVQcmlvcml0eTtcbiAgICAgIHVwZGF0ZVByaW9yaXR5ID0gd2luZG93LmV2ZW50O1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdXBkYXRlUHJpb3JpdHlcbiAgICAgICAgPyBEZWZhdWx0RXZlbnRQcmlvcml0eVxuICAgICAgICA6IGdldEV2ZW50UHJpb3JpdHkodXBkYXRlUHJpb3JpdHkudHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bldpdGhQcmlvcml0eShwcmlvcml0eSwgZm4pIHtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByaW9yaXR5KSwgZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhY2hEZWxldGVkSW5zdGFuY2Uobm9kZSkge1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbFByb3BzS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlckxpc3RlbmVyc0tleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlc1NldEtleV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHRhcmdldE5vZGUpIHtcbiAgICAgIHZhciB0YXJnZXRJbnN0ID0gdGFyZ2V0Tm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgICAgIGlmICh0YXJnZXRJbnN0KSByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICAgIGZvciAodmFyIHBhcmVudE5vZGUgPSB0YXJnZXROb2RlLnBhcmVudE5vZGU7IHBhcmVudE5vZGU7ICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKHRhcmdldEluc3QgPVxuICAgICAgICAgICAgcGFyZW50Tm9kZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSB8fFxuICAgICAgICAgICAgcGFyZW50Tm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGFyZW50Tm9kZSA9IHRhcmdldEluc3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgIT09IHRhcmdldEluc3QuY2hpbGQgfHxcbiAgICAgICAgICAgIChudWxsICE9PSBwYXJlbnROb2RlICYmIG51bGwgIT09IHBhcmVudE5vZGUuY2hpbGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UodGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICAgIG51bGwgIT09IHRhcmdldE5vZGU7XG5cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoKHBhcmVudE5vZGUgPSB0YXJnZXROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UodGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0Tm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICAgIHBhcmVudE5vZGUgPSB0YXJnZXROb2RlLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChub2RlID0gbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSB8fCBub2RlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldKVxuICAgICAgKSB7XG4gICAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIDUgPT09IHRhZyB8fFxuICAgICAgICAgIDYgPT09IHRhZyB8fFxuICAgICAgICAgIDEzID09PSB0YWcgfHxcbiAgICAgICAgICAyNiA9PT0gdGFnIHx8XG4gICAgICAgICAgMjcgPT09IHRhZyB8fFxuICAgICAgICAgIDMgPT09IHRhZ1xuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSB7XG4gICAgICB2YXIgdGFnID0gaW5zdC50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDI2ID09PSB0YWcgfHwgMjcgPT09IHRhZyB8fCA2ID09PSB0YWcpXG4gICAgICAgIHJldHVybiBpbnN0LnN0YXRlTm9kZTtcbiAgICAgIHRocm93IEVycm9yKFwiZ2V0Tm9kZUZyb21JbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC5cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJlc291cmNlc0Zyb21Sb290KHJvb3QpIHtcbiAgICAgIHZhciByZXNvdXJjZXMgPSByb290W2ludGVybmFsUm9vdE5vZGVSZXNvdXJjZXNLZXldO1xuICAgICAgcmVzb3VyY2VzIHx8XG4gICAgICAgIChyZXNvdXJjZXMgPSByb290W2ludGVybmFsUm9vdE5vZGVSZXNvdXJjZXNLZXldID1cbiAgICAgICAgICB7IGhvaXN0YWJsZVN0eWxlczogbmV3IE1hcCgpLCBob2lzdGFibGVTY3JpcHRzOiBuZXcgTWFwKCkgfSk7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrTm9kZUFzSG9pc3RhYmxlKG5vZGUpIHtcbiAgICAgIG5vZGVbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdID0gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChyZWdpc3RyYXRpb25OYW1lLCBkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgZGVwZW5kZW5jaWVzKTtcbiAgICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQocmVnaXN0cmF0aW9uTmFtZSArIFwiQ2FwdHVyZVwiLCBkZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckRpcmVjdEV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGRlcGVuZGVuY2llcykge1xuICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXZlbnRSZWdpc3RyeTogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgcmVnaXN0cmF0aW9uIG5hbWUsIGAlc2AuXCIsXG4gICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZVxuICAgICAgICApO1xuICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9IGRlcGVuZGVuY2llcztcbiAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHJlZ2lzdHJhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdID0gcmVnaXN0cmF0aW9uTmFtZTtcbiAgICAgIFwib25Eb3VibGVDbGlja1wiID09PSByZWdpc3RyYXRpb25OYW1lICYmXG4gICAgICAgIChwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLm9uZGJsY2xpY2sgPSByZWdpc3RyYXRpb25OYW1lKTtcbiAgICAgIGZvciAoXG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUgPSAwO1xuICAgICAgICByZWdpc3RyYXRpb25OYW1lIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDtcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSsrXG4gICAgICApXG4gICAgICAgIGFsbE5hdGl2ZUV2ZW50cy5hZGQoZGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyh0YWdOYW1lLCBwcm9wcykge1xuICAgICAgaGFzUmVhZE9ubHlWYWx1ZVtwcm9wcy50eXBlXSB8fFxuICAgICAgICBwcm9wcy5vbkNoYW5nZSB8fFxuICAgICAgICBwcm9wcy5vbklucHV0IHx8XG4gICAgICAgIHByb3BzLnJlYWRPbmx5IHx8XG4gICAgICAgIHByb3BzLmRpc2FibGVkIHx8XG4gICAgICAgIG51bGwgPT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgKFwic2VsZWN0XCIgPT09IHRhZ05hbWVcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgdGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCBzZXQgYG9uQ2hhbmdlYC5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiB0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsIHNldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLlwiXG4gICAgICAgICAgICApKTtcbiAgICAgIHByb3BzLm9uQ2hhbmdlIHx8XG4gICAgICAgIHByb3BzLnJlYWRPbmx5IHx8XG4gICAgICAgIHByb3BzLmRpc2FibGVkIHx8XG4gICAgICAgIG51bGwgPT0gcHJvcHMuY2hlY2tlZCB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHByb3ZpZGVkIGEgYGNoZWNrZWRgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiB0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNBdHRyaWJ1dGVOYW1lU2FmZShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUsIGF0dHJpYnV0ZU5hbWUpKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlLCBhdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpXG4gICAgICAgIHJldHVybiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gITApO1xuICAgICAgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9ICEwO1xuICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgYXR0cmlidXRlIG5hbWU6IGAlc2BcIiwgYXR0cmlidXRlTmFtZSk7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZhbHVlRm9yQXR0cmlidXRlT25DdXN0b21Db21wb25lbnQobm9kZSwgbmFtZSwgZXhwZWN0ZWQpIHtcbiAgICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICAgIGlmICghbm9kZS5oYXNBdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBleHBlY3RlZCkge1xuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgaWYgKCExID09PSBleHBlY3RlZCkgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBleHBlY3RlZCA/IHZvaWQgMCA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBpZiAoXCJcIiA9PT0gbm9kZSAmJiAhMCA9PT0gZXhwZWN0ZWQpIHJldHVybiAhMDtcbiAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihleHBlY3RlZCwgbmFtZSk7XG4gICAgICAgIHJldHVybiBub2RlID09PSBcIlwiICsgZXhwZWN0ZWQgPyBleHBlY3RlZCA6IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yQXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSlcbiAgICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IG5hbWUudG9Mb3dlckNhc2UoKS5zbGljZSgwLCA1KTtcbiAgICAgICAgICAgICAgaWYgKFwiZGF0YS1cIiAhPT0gcHJlZml4ICYmIFwiYXJpYS1cIiAhPT0gcHJlZml4KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIG5hbWUpO1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIG5hbWUpO1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBcIlwiICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUobm9kZSwgbmFtZXNwYWNlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIG5hbWUpO1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgbmFtZSwgXCJcIiArIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIHJldHVybiBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpLCB2YWx1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDaGVja2FibGUoZWxlbSkge1xuICAgICAgdmFyIHR5cGUgPSBlbGVtLnR5cGU7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoZWxlbSA9IGVsZW0ubm9kZU5hbWUpICYmXG4gICAgICAgIFwiaW5wdXRcIiA9PT0gZWxlbS50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgIChcImNoZWNrYm94XCIgPT09IHR5cGUgfHwgXCJyYWRpb1wiID09PSB0eXBlKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2tWYWx1ZU9uTm9kZShub2RlKSB7XG4gICAgICB2YXIgdmFsdWVGaWVsZCA9IGlzQ2hlY2thYmxlKG5vZGUpID8gXCJjaGVja2VkXCIgOiBcInZhbHVlXCIsXG4gICAgICAgIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIG5vZGUuY29uc3RydWN0b3IucHJvdG90eXBlLFxuICAgICAgICAgIHZhbHVlRmllbGRcbiAgICAgICAgKTtcbiAgICAgIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbihub2RlW3ZhbHVlRmllbGRdKTtcbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBcIlwiICsgbm9kZVt2YWx1ZUZpZWxkXTtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vZGUuaGFzT3duUHJvcGVydHkodmFsdWVGaWVsZCkgJiZcbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGRlc2NyaXB0b3IgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGVzY3JpcHRvci5nZXQgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGVzY3JpcHRvci5zZXRcbiAgICAgICkge1xuICAgICAgICB2YXIgZ2V0ID0gZGVzY3JpcHRvci5nZXQsXG4gICAgICAgICAgc2V0ID0gZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJcIiArIHZhbHVlO1xuICAgICAgICAgICAgc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0b3BUcmFja2luZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbm9kZS5fdmFsdWVUcmFja2VyID0gbnVsbDtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlW3ZhbHVlRmllbGRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2sobm9kZSkge1xuICAgICAgbm9kZS5fdmFsdWVUcmFja2VyIHx8IChub2RlLl92YWx1ZVRyYWNrZXIgPSB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVmFsdWVJZkNoYW5nZWQobm9kZSkge1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gITE7XG4gICAgICB2YXIgdHJhY2tlciA9IG5vZGUuX3ZhbHVlVHJhY2tlcjtcbiAgICAgIGlmICghdHJhY2tlcikgcmV0dXJuICEwO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRyYWNrZXIuZ2V0VmFsdWUoKTtcbiAgICAgIHZhciB2YWx1ZSA9IFwiXCI7XG4gICAgICBub2RlICYmXG4gICAgICAgICh2YWx1ZSA9IGlzQ2hlY2thYmxlKG5vZGUpXG4gICAgICAgICAgPyBub2RlLmNoZWNrZWRcbiAgICAgICAgICAgID8gXCJ0cnVlXCJcbiAgICAgICAgICAgIDogXCJmYWxzZVwiXG4gICAgICAgICAgOiBub2RlLnZhbHVlKTtcbiAgICAgIG5vZGUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBub2RlICE9PSBsYXN0VmFsdWUgPyAodHJhY2tlci5zZXRWYWx1ZShub2RlKSwgITApIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jKSB7XG4gICAgICBkb2MgPSBkb2MgfHwgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBkb2N1bWVudCA/IGRvY3VtZW50IDogdm9pZCAwKTtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgZG9jKSByZXR1cm4gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudCB8fCBkb2MuYm9keTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGRvYy5ib2R5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUucmVwbGFjZShcbiAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlc1JlZ2V4LFxuICAgICAgICBmdW5jdGlvbiAoY2gpIHtcbiAgICAgICAgICByZXR1cm4gXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSArIFwiIFwiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMuY2hlY2tlZCB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRDaGVja2VkIHx8XG4gICAgICAgIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCBjaGVja2VkIGFuZCBkZWZhdWx0Q2hlY2tlZCBwcm9wcy4gSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSBjaGVja2VkIHByb3AsIG9yIHRoZSBkZWZhdWx0Q2hlY2tlZCBwcm9wLCBidXQgbm90IGJvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIixcbiAgICAgICAgICBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHx8IFwiQSBjb21wb25lbnRcIixcbiAgICAgICAgICBwcm9wcy50eXBlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gITApKTtcbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgdm9pZCAwID09PSBwcm9wcy5kZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiBJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCIsXG4gICAgICAgICAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB8fCBcIkEgY29tcG9uZW50XCIsXG4gICAgICAgICAgcHJvcHMudHlwZVxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVJbnB1dChcbiAgICAgIGVsZW1lbnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIGxhc3REZWZhdWx0VmFsdWUsXG4gICAgICBjaGVja2VkLFxuICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICB0eXBlLFxuICAgICAgbmFtZVxuICAgICkge1xuICAgICAgZWxlbWVudC5uYW1lID0gXCJcIjtcbiAgICAgIG51bGwgIT0gdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgdHlwZVxuICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHR5cGUsIFwidHlwZVwiKSwgKGVsZW1lbnQudHlwZSA9IHR5cGUpKVxuICAgICAgICA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKTtcbiAgICAgIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZSkge1xuICAgICAgICAgIGlmICgoMCA9PT0gdmFsdWUgJiYgXCJcIiA9PT0gZWxlbWVudC52YWx1ZSkgfHwgZWxlbWVudC52YWx1ZSAhPSB2YWx1ZSlcbiAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGVsZW1lbnQudmFsdWUgIT09IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSAmJlxuICAgICAgICAgICAgKGVsZW1lbnQudmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkpO1xuICAgICAgZWxzZVxuICAgICAgICAoXCJzdWJtaXRcIiAhPT0gdHlwZSAmJiBcInJlc2V0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbiAgICAgIG51bGwgIT0gdmFsdWVcbiAgICAgICAgPyBzZXREZWZhdWx0VmFsdWUoZWxlbWVudCwgdHlwZSwgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkpXG4gICAgICAgIDogbnVsbCAhPSBkZWZhdWx0VmFsdWVcbiAgICAgICAgICA/IHNldERlZmF1bHRWYWx1ZShlbGVtZW50LCB0eXBlLCBnZXRUb1N0cmluZ1ZhbHVlKGRlZmF1bHRWYWx1ZSkpXG4gICAgICAgICAgOiBudWxsICE9IGxhc3REZWZhdWx0VmFsdWUgJiYgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbiAgICAgIG51bGwgPT0gY2hlY2tlZCAmJlxuICAgICAgICBudWxsICE9IGRlZmF1bHRDaGVja2VkICYmXG4gICAgICAgIChlbGVtZW50LmRlZmF1bHRDaGVja2VkID0gISFkZWZhdWx0Q2hlY2tlZCk7XG4gICAgICBudWxsICE9IGNoZWNrZWQgJiZcbiAgICAgICAgKGVsZW1lbnQuY2hlY2tlZCA9XG4gICAgICAgICAgY2hlY2tlZCAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNoZWNrZWQgJiZcbiAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgY2hlY2tlZCk7XG4gICAgICBudWxsICE9IG5hbWUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIG5hbWVcbiAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihuYW1lLCBcIm5hbWVcIiksXG4gICAgICAgICAgKGVsZW1lbnQubmFtZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKG5hbWUpKSlcbiAgICAgICAgOiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRJbnB1dChcbiAgICAgIGVsZW1lbnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lLFxuICAgICAgaXNIeWRyYXRpbmdcbiAgICApIHtcbiAgICAgIG51bGwgIT0gdHlwZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih0eXBlLCBcInR5cGVcIiksIChlbGVtZW50LnR5cGUgPSB0eXBlKSk7XG4gICAgICBpZiAobnVsbCAhPSB2YWx1ZSB8fCBudWxsICE9IGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIShcbiAgICAgICAgICAgIChcInN1Ym1pdFwiICE9PSB0eXBlICYmIFwicmVzZXRcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgICAgICh2b2lkIDAgIT09IHZhbHVlICYmIG51bGwgIT09IHZhbHVlKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdFZhbHVlID1cbiAgICAgICAgICBudWxsICE9IGRlZmF1bHRWYWx1ZSA/IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKGRlZmF1bHRWYWx1ZSkgOiBcIlwiO1xuICAgICAgICB2YWx1ZSA9IG51bGwgIT0gdmFsdWUgPyBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIGlzSHlkcmF0aW5nIHx8IHZhbHVlID09PSBlbGVtZW50LnZhbHVlIHx8IChlbGVtZW50LnZhbHVlID0gdmFsdWUpO1xuICAgICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgY2hlY2tlZCA9IG51bGwgIT0gY2hlY2tlZCA/IGNoZWNrZWQgOiBkZWZhdWx0Q2hlY2tlZDtcbiAgICAgIGNoZWNrZWQgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjaGVja2VkICYmXG4gICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBjaGVja2VkICYmXG4gICAgICAgICEhY2hlY2tlZDtcbiAgICAgIGVsZW1lbnQuY2hlY2tlZCA9IGlzSHlkcmF0aW5nID8gZWxlbWVudC5jaGVja2VkIDogISFjaGVja2VkO1xuICAgICAgZWxlbWVudC5kZWZhdWx0Q2hlY2tlZCA9ICEhY2hlY2tlZDtcbiAgICAgIG51bGwgIT0gbmFtZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihuYW1lLCBcIm5hbWVcIiksIChlbGVtZW50Lm5hbWUgPSBuYW1lKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldERlZmF1bHRWYWx1ZShub2RlLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGUgJiYgZ2V0QWN0aXZlRWxlbWVudChub2RlLm93bmVyRG9jdW1lbnQpID09PSBub2RlKSB8fFxuICAgICAgICBub2RlLmRlZmF1bHRWYWx1ZSA9PT0gXCJcIiArIHZhbHVlIHx8XG4gICAgICAgIChub2RlLmRlZmF1bHRWYWx1ZSA9IFwiXCIgKyB2YWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9uUHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIG51bGwgPT0gcHJvcHMudmFsdWUgJiZcbiAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiAmJiBudWxsICE9PSBwcm9wcy5jaGlsZHJlblxuICAgICAgICAgID8gUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgIG51bGwgPT0gY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBkaWRXYXJuSW52YWxpZENoaWxkIHx8XG4gICAgICAgICAgICAgICAgKChkaWRXYXJuSW52YWxpZENoaWxkID0gITApLFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbm5vdCBpbmZlciB0aGUgb3B0aW9uIHZhbHVlIG9mIGNvbXBsZXggY2hpbGRyZW4uIFBhc3MgYSBgdmFsdWVgIHByb3Agb3IgdXNlIGEgcGxhaW4gc3RyaW5nIGFzIGNoaWxkcmVuIHRvIDxvcHRpb24+LlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbCA9PSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCB8fFxuICAgICAgICAgICAgZGlkV2FybkludmFsaWRJbm5lckhUTUwgfHxcbiAgICAgICAgICAgICgoZGlkV2FybkludmFsaWRJbm5lckhUTUwgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlBhc3MgYSBgdmFsdWVgIHByb3AgaWYgeW91IHNldCBkYW5nZXJvdXNseUlubmVySFRNTCBzbyBSZWFjdCBrbm93cyB3aGljaCB2YWx1ZSBzaG91bGQgYmUgc2VsZWN0ZWQuXCJcbiAgICAgICAgICAgICkpKTtcbiAgICAgIG51bGwgPT0gcHJvcHMuc2VsZWN0ZWQgfHxcbiAgICAgICAgZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgb24gPHNlbGVjdD4gaW5zdGVhZCBvZiBzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uXCJcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICAgICAgdmFyIG93bmVyTmFtZSA9IGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCk7XG4gICAgICByZXR1cm4gb3duZXJOYW1lXG4gICAgICAgID8gXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBvd25lck5hbWUgKyBcImAuXCJcbiAgICAgICAgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG5vZGUsIG11bHRpcGxlLCBwcm9wVmFsdWUsIHNldERlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgbm9kZSA9IG5vZGUub3B0aW9ucztcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICBtdWx0aXBsZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICBtdWx0aXBsZVtcIiRcIiArIHByb3BWYWx1ZVtpXV0gPSAhMDtcbiAgICAgICAgZm9yIChwcm9wVmFsdWUgPSAwOyBwcm9wVmFsdWUgPCBub2RlLmxlbmd0aDsgcHJvcFZhbHVlKyspXG4gICAgICAgICAgKGkgPSBtdWx0aXBsZS5oYXNPd25Qcm9wZXJ0eShcIiRcIiArIG5vZGVbcHJvcFZhbHVlXS52YWx1ZSkpLFxuICAgICAgICAgICAgbm9kZVtwcm9wVmFsdWVdLnNlbGVjdGVkICE9PSBpICYmIChub2RlW3Byb3BWYWx1ZV0uc2VsZWN0ZWQgPSBpKSxcbiAgICAgICAgICAgIGkgJiYgc2V0RGVmYXVsdFNlbGVjdGVkICYmIChub2RlW3Byb3BWYWx1ZV0uZGVmYXVsdFNlbGVjdGVkID0gITApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcFZhbHVlID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUocHJvcFZhbHVlKTtcbiAgICAgICAgbXVsdGlwbGUgPSBudWxsO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChub2RlW2ldLnZhbHVlID09PSBwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgIG5vZGVbaV0uc2VsZWN0ZWQgPSAhMDtcbiAgICAgICAgICAgIHNldERlZmF1bHRTZWxlY3RlZCAmJiAobm9kZVtpXS5kZWZhdWx0U2VsZWN0ZWQgPSAhMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bGwgIT09IG11bHRpcGxlIHx8IG5vZGVbaV0uZGlzYWJsZWQgfHwgKG11bHRpcGxlID0gbm9kZVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgbnVsbCAhPT0gbXVsdGlwbGUgJiYgKG11bHRpcGxlLnNlbGVjdGVkID0gITApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVNlbGVjdFByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgICBmb3IgKGVsZW1lbnQgPSAwOyBlbGVtZW50IDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBlbGVtZW50KyspIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gdmFsdWVQcm9wTmFtZXNbZWxlbWVudF07XG4gICAgICAgIGlmIChudWxsICE9IHByb3BzW3Byb3BOYW1lXSkge1xuICAgICAgICAgIHZhciBwcm9wTmFtZUlzQXJyYXkgPSBpc0FycmF5SW1wbChwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgICAgIHByb3BzLm11bHRpcGxlICYmICFwcm9wTmFtZUlzQXJyYXlcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhbiBhcnJheSBpZiBgbXVsdGlwbGVgIGlzIHRydWUuJXNcIixcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6ICFwcm9wcy5tdWx0aXBsZSAmJlxuICAgICAgICAgICAgICBwcm9wTmFtZUlzQXJyYXkgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhIHNjYWxhciB2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzXCIsXG4gICAgICAgICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm9pZCAwID09PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRWYWx1ZSB8fFxuICAgICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJTZWxlY3QgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgc2VsZWN0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIlxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVUZXh0YXJlYVByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgICB2b2lkIDAgPT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdFZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiJXMgY29udGFpbnMgYSB0ZXh0YXJlYSB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgdGV4dGFyZWEgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIixcbiAgICAgICAgICBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHx8IFwiQSBjb21wb25lbnRcIlxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblZhbERlZmF1bHRWYWwgPSAhMCkpO1xuICAgICAgbnVsbCAhPSBwcm9wcy5jaGlsZHJlbiAmJlxuICAgICAgICBudWxsID09IHByb3BzLnZhbHVlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgaW5zdGVhZCBvZiBzZXR0aW5nIGNoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVGV4dGFyZWEoZWxlbWVudCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICgodmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkpLFxuICAgICAgICB2YWx1ZSAhPT0gZWxlbWVudC52YWx1ZSAmJiAoZWxlbWVudC52YWx1ZSA9IHZhbHVlKSxcbiAgICAgICAgbnVsbCA9PSBkZWZhdWx0VmFsdWUpXG4gICAgICApIHtcbiAgICAgICAgZWxlbWVudC5kZWZhdWx0VmFsdWUgIT09IHZhbHVlICYmIChlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5kZWZhdWx0VmFsdWUgPVxuICAgICAgICBudWxsICE9IGRlZmF1bHRWYWx1ZSA/IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKGRlZmF1bHRWYWx1ZSkgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0VGV4dGFyZWEoZWxlbWVudCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09IHZhbHVlKSB7XG4gICAgICAgIGlmIChudWxsICE9IGNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSWYgeW91IHN1cHBseSBgZGVmYXVsdFZhbHVlYCBvbiBhIDx0ZXh0YXJlYT4sIGRvIG5vdCBwYXNzIGNoaWxkcmVuLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGlmICgxIDwgY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIjx0ZXh0YXJlYT4gY2FuIG9ubHkgaGF2ZSBhdCBtb3N0IG9uZSBjaGlsZC5cIik7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICBudWxsID09IGRlZmF1bHRWYWx1ZSAmJiAoZGVmYXVsdFZhbHVlID0gXCJcIik7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgZGVmYXVsdFZhbHVlID0gZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSk7XG4gICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIGNoaWxkcmVuID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgIGNoaWxkcmVuID09PSBkZWZhdWx0VmFsdWUgJiZcbiAgICAgICAgXCJcIiAhPT0gY2hpbGRyZW4gJiZcbiAgICAgICAgbnVsbCAhPT0gY2hpbGRyZW4gJiZcbiAgICAgICAgKGVsZW1lbnQudmFsdWUgPSBjaGlsZHJlbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmROb3RhYmxlTm9kZShub2RlLCBpbmRlbnQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IG5vZGUuc2VydmVyUHJvcHMgJiZcbiAgICAgICAgMCA9PT0gbm9kZS5zZXJ2ZXJUYWlsLmxlbmd0aCAmJlxuICAgICAgICAxID09PSBub2RlLmNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgICAzIDwgbm9kZS5kaXN0YW5jZUZyb21MZWFmICYmXG4gICAgICAgIG5vZGUuZGlzdGFuY2VGcm9tTGVhZiA+IDE1IC0gaW5kZW50XG4gICAgICAgID8gZmluZE5vdGFibGVOb2RlKG5vZGUuY2hpbGRyZW5bMF0sIGluZGVudClcbiAgICAgICAgOiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmRlbnRhdGlvbihpbmRlbnQpIHtcbiAgICAgIHJldHVybiBcIiAgXCIgKyBcIiAgXCIucmVwZWF0KGluZGVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZGVkKGluZGVudCkge1xuICAgICAgcmV0dXJuIFwiKyBcIiArIFwiICBcIi5yZXBlYXQoaW5kZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlZChpbmRlbnQpIHtcbiAgICAgIHJldHVybiBcIi0gXCIgKyBcIiAgXCIucmVwZWF0KGluZGVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRmliZXJUeXBlKGZpYmVyKSB7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIGZpYmVyLnR5cGU7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIFwiTGF6eVwiO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZmliZXIudHlwZSksIGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpYmVyID0gZmliZXIudHlwZS5yZW5kZXIpLCBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGZpYmVyLnR5cGUpLCBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVGV4dE5vZGUoY29udGVudCwgbWF4TGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbmVlZHNFc2NhcGluZy50ZXN0KGNvbnRlbnQpXG4gICAgICAgID8gKChjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoY29udGVudCkpLFxuICAgICAgICAgIGNvbnRlbnQubGVuZ3RoID4gbWF4TGVuZ3RoIC0gMlxuICAgICAgICAgICAgPyA4ID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICAgID8gJ3tcIi4uLlwifSdcbiAgICAgICAgICAgICAgOiBcIntcIiArIGNvbnRlbnQuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gNykgKyAnLi4uXCJ9J1xuICAgICAgICAgICAgOiBcIntcIiArIGNvbnRlbnQgKyBcIn1cIilcbiAgICAgICAgOiBjb250ZW50Lmxlbmd0aCA+IG1heExlbmd0aFxuICAgICAgICAgID8gNSA+IG1heExlbmd0aFxuICAgICAgICAgICAgPyAne1wiLi4uXCJ9J1xuICAgICAgICAgICAgOiBjb250ZW50LnNsaWNlKDAsIG1heExlbmd0aCAtIDMpICsgXCIuLi5cIlxuICAgICAgICAgIDogY29udGVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVUZXh0RGlmZihjbGllbnRUZXh0LCBzZXJ2ZXJQcm9wcywgaW5kZW50KSB7XG4gICAgICB2YXIgbWF4TGVuZ3RoID0gMTIwIC0gMiAqIGluZGVudDtcbiAgICAgIGlmIChudWxsID09PSBzZXJ2ZXJQcm9wcylcbiAgICAgICAgcmV0dXJuIGFkZGVkKGluZGVudCkgKyBkZXNjcmliZVRleHROb2RlKGNsaWVudFRleHQsIG1heExlbmd0aCkgKyBcIlxcblwiO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZXJ2ZXJQcm9wcykge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBmaXJzdERpZmYgPSAwO1xuICAgICAgICAgIGZpcnN0RGlmZiA8IHNlcnZlclByb3BzLmxlbmd0aCAmJlxuICAgICAgICAgIGZpcnN0RGlmZiA8IGNsaWVudFRleHQubGVuZ3RoICYmXG4gICAgICAgICAgc2VydmVyUHJvcHMuY2hhckNvZGVBdChmaXJzdERpZmYpID09PVxuICAgICAgICAgICAgY2xpZW50VGV4dC5jaGFyQ29kZUF0KGZpcnN0RGlmZik7XG4gICAgICAgICAgZmlyc3REaWZmKytcbiAgICAgICAgKTtcbiAgICAgICAgZmlyc3REaWZmID4gbWF4TGVuZ3RoIC0gOCAmJlxuICAgICAgICAgIDEwIDwgZmlyc3REaWZmICYmXG4gICAgICAgICAgKChjbGllbnRUZXh0ID0gXCIuLi5cIiArIGNsaWVudFRleHQuc2xpY2UoZmlyc3REaWZmIC0gOCkpLFxuICAgICAgICAgIChzZXJ2ZXJQcm9wcyA9IFwiLi4uXCIgKyBzZXJ2ZXJQcm9wcy5zbGljZShmaXJzdERpZmYgLSA4KSkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGFkZGVkKGluZGVudCkgK1xuICAgICAgICAgIGRlc2NyaWJlVGV4dE5vZGUoY2xpZW50VGV4dCwgbWF4TGVuZ3RoKSArXG4gICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgcmVtb3ZlZChpbmRlbnQpICtcbiAgICAgICAgICBkZXNjcmliZVRleHROb2RlKHNlcnZlclByb3BzLCBtYXhMZW5ndGgpICtcbiAgICAgICAgICBcIlxcblwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpICsgZGVzY3JpYmVUZXh0Tm9kZShjbGllbnRUZXh0LCBtYXhMZW5ndGgpICsgXCJcXG5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb2JqZWN0TmFtZShvYmplY3QpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG4gICAgICAgIC5jYWxsKG9iamVjdClcbiAgICAgICAgLnJlcGxhY2UoL15cXFtvYmplY3QgKC4qKVxcXSQvLCBmdW5jdGlvbiAobSwgcDApIHtcbiAgICAgICAgICByZXR1cm4gcDA7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVZhbHVlKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSxcbiAgICAgICAgICAgIHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aFxuICAgICAgICAgICAgICA/IDUgPiBtYXhMZW5ndGhcbiAgICAgICAgICAgICAgICA/ICdcIi4uLlwiJ1xuICAgICAgICAgICAgICAgIDogdmFsdWUuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gNCkgKyAnLi4uXCInXG4gICAgICAgICAgICAgIDogdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKHZhbHVlKSkgcmV0dXJuIFwiWy4uLl1cIjtcbiAgICAgICAgICBpZiAodmFsdWUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiAobWF4TGVuZ3RoID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHZhbHVlLnR5cGUpKVxuICAgICAgICAgICAgICA/IFwiPFwiICsgbWF4TGVuZ3RoICsgXCI+XCJcbiAgICAgICAgICAgICAgOiBcIjwuLi4+XCI7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvYmplY3ROYW1lKHZhbHVlKTtcbiAgICAgICAgICBpZiAoXCJPYmplY3RcIiA9PT0gbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICBtYXhMZW5ndGggLT0gMjtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHZhbHVlKVxuICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGpzb25Qcm9wTmFtZSA9IEpTT04uc3RyaW5naWZ5KHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICBqc29uUHJvcE5hbWUgIT09ICdcIicgKyBwcm9wTmFtZSArICdcIicgJiZcbiAgICAgICAgICAgICAgICAgIChwcm9wTmFtZSA9IGpzb25Qcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoIC09IHByb3BOYW1lLmxlbmd0aCAtIDI7XG4gICAgICAgICAgICAgICAganNvblByb3BOYW1lID0gZGVzY3JpYmVWYWx1ZShcbiAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BOYW1lXSxcbiAgICAgICAgICAgICAgICAgIDE1ID4gbWF4TGVuZ3RoID8gbWF4TGVuZ3RoIDogMTVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG1heExlbmd0aCAtPSBqc29uUHJvcE5hbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmICgwID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBuYW1lICs9IFwiXCIgPT09IG5hbWUgPyBcIi4uLlwiIDogXCIsIC4uLlwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5hbWUgKz1cbiAgICAgICAgICAgICAgICAgIChcIlwiID09PSBuYW1lID8gXCJcIiA6IFwiLFwiKSArIHByb3BOYW1lICsgXCI6XCIgKyBqc29uUHJvcE5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIntcIiArIG5hbWUgKyBcIn1cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIHJldHVybiAobWF4TGVuZ3RoID0gdmFsdWUuZGlzcGxheU5hbWUgfHwgdmFsdWUubmFtZSlcbiAgICAgICAgICAgID8gXCJmdW5jdGlvbiBcIiArIG1heExlbmd0aFxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlUHJvcFZhbHVlKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWUgfHwgbmVlZHNFc2NhcGluZy50ZXN0KHZhbHVlKVxuICAgICAgICA/IFwie1wiICsgZGVzY3JpYmVWYWx1ZSh2YWx1ZSwgbWF4TGVuZ3RoIC0gMikgKyBcIn1cIlxuICAgICAgICA6IHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCAtIDJcbiAgICAgICAgICA/IDUgPiBtYXhMZW5ndGhcbiAgICAgICAgICAgID8gJ1wiLi4uXCInXG4gICAgICAgICAgICA6ICdcIicgKyB2YWx1ZS5zbGljZSgwLCBtYXhMZW5ndGggLSA1KSArICcuLi5cIidcbiAgICAgICAgICA6ICdcIicgKyB2YWx1ZSArICdcIic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwYW5kZWRFbGVtZW50KHR5cGUsIHByb3BzLCByb3dQcmVmaXgpIHtcbiAgICAgIHZhciByZW1haW5pbmdSb3dMZW5ndGggPSAxMjAgLSByb3dQcmVmaXgubGVuZ3RoIC0gdHlwZS5sZW5ndGgsXG4gICAgICAgIHByb3BlcnRpZXMgPSBbXSxcbiAgICAgICAgcHJvcE5hbWU7XG4gICAgICBmb3IgKHByb3BOYW1lIGluIHByb3BzKVxuICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmIFwiY2hpbGRyZW5cIiAhPT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICB2YXIgcHJvcFZhbHVlID0gZGVzY3JpYmVQcm9wVmFsdWUoXG4gICAgICAgICAgICBwcm9wc1twcm9wTmFtZV0sXG4gICAgICAgICAgICAxMjAgLSByb3dQcmVmaXgubGVuZ3RoIC0gcHJvcE5hbWUubGVuZ3RoIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVtYWluaW5nUm93TGVuZ3RoIC09IHByb3BOYW1lLmxlbmd0aCArIHByb3BWYWx1ZS5sZW5ndGggKyAyO1xuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wTmFtZSArIFwiPVwiICsgcHJvcFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIDAgPT09IHByb3BlcnRpZXMubGVuZ3RoXG4gICAgICAgID8gcm93UHJlZml4ICsgXCI8XCIgKyB0eXBlICsgXCI+XFxuXCJcbiAgICAgICAgOiAwIDwgcmVtYWluaW5nUm93TGVuZ3RoXG4gICAgICAgICAgPyByb3dQcmVmaXggKyBcIjxcIiArIHR5cGUgKyBcIiBcIiArIHByb3BlcnRpZXMuam9pbihcIiBcIikgKyBcIj5cXG5cIlxuICAgICAgICAgIDogcm93UHJlZml4ICtcbiAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICByb3dQcmVmaXggK1xuICAgICAgICAgICAgXCIgIFwiICtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuam9pbihcIlxcblwiICsgcm93UHJlZml4ICsgXCIgIFwiKSArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIHJvd1ByZWZpeCArXG4gICAgICAgICAgICBcIj5cXG5cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVQcm9wZXJ0aWVzRGlmZihjbGllbnRPYmplY3QsIHNlcnZlck9iamVjdCwgaW5kZW50KSB7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IFwiXCIsXG4gICAgICAgIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXMgPSBhc3NpZ24oe30sIHNlcnZlck9iamVjdCksXG4gICAgICAgIHByb3BOYW1lO1xuICAgICAgZm9yIChwcm9wTmFtZSBpbiBjbGllbnRPYmplY3QpXG4gICAgICAgIGlmIChjbGllbnRPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXNbcHJvcE5hbWVdO1xuICAgICAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogaW5kZW50IC0gcHJvcE5hbWUubGVuZ3RoIC0gMixcbiAgICAgICAgICAgIGNsaWVudFByb3BWYWx1ZSA9IGRlc2NyaWJlVmFsdWUoY2xpZW50T2JqZWN0W3Byb3BOYW1lXSwgbWF4TGVuZ3RoKTtcbiAgICAgICAgICBzZXJ2ZXJPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpXG4gICAgICAgICAgICA/ICgobWF4TGVuZ3RoID0gZGVzY3JpYmVWYWx1ZShzZXJ2ZXJPYmplY3RbcHJvcE5hbWVdLCBtYXhMZW5ndGgpKSxcbiAgICAgICAgICAgICAgKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgICAgICBhZGRlZChpbmRlbnQpICsgcHJvcE5hbWUgKyBcIjogXCIgKyBjbGllbnRQcm9wVmFsdWUgKyBcIlxcblwiKSxcbiAgICAgICAgICAgICAgKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgICAgICByZW1vdmVkKGluZGVudCkgKyBwcm9wTmFtZSArIFwiOiBcIiArIG1heExlbmd0aCArIFwiXFxuXCIpKVxuICAgICAgICAgICAgOiAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudCkgKyBwcm9wTmFtZSArIFwiOiBcIiArIGNsaWVudFByb3BWYWx1ZSArIFwiXFxuXCIpO1xuICAgICAgICB9XG4gICAgICBmb3IgKHZhciBfcHJvcE5hbWUgaW4gcmVtYWluaW5nU2VydmVyUHJvcGVydGllcylcbiAgICAgICAgcmVtYWluaW5nU2VydmVyUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShfcHJvcE5hbWUpICYmXG4gICAgICAgICAgKChjbGllbnRPYmplY3QgPSBkZXNjcmliZVZhbHVlKFxuICAgICAgICAgICAgcmVtYWluaW5nU2VydmVyUHJvcGVydGllc1tfcHJvcE5hbWVdLFxuICAgICAgICAgICAgMTIwIC0gMiAqIGluZGVudCAtIF9wcm9wTmFtZS5sZW5ndGggLSAyXG4gICAgICAgICAgKSksXG4gICAgICAgICAgKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50KSArIF9wcm9wTmFtZSArIFwiOiBcIiArIGNsaWVudE9iamVjdCArIFwiXFxuXCIpKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUVsZW1lbnREaWZmKHR5cGUsIGNsaWVudFByb3BzLCBzZXJ2ZXJQcm9wcywgaW5kZW50KSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCIsXG4gICAgICAgIHNlcnZlclByb3BOYW1lcyA9IG5ldyBNYXAoKTtcbiAgICAgIGZvciAocHJvcE5hbWUkanNjb21wJDAgaW4gc2VydmVyUHJvcHMpXG4gICAgICAgIHNlcnZlclByb3BzLmhhc093blByb3BlcnR5KHByb3BOYW1lJGpzY29tcCQwKSAmJlxuICAgICAgICAgIHNlcnZlclByb3BOYW1lcy5zZXQoXG4gICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgcHJvcE5hbWUkanNjb21wJDBcbiAgICAgICAgICApO1xuICAgICAgaWYgKDEgPT09IHNlcnZlclByb3BOYW1lcy5zaXplICYmIHNlcnZlclByb3BOYW1lcy5oYXMoXCJjaGlsZHJlblwiKSlcbiAgICAgICAgY29udGVudCArPSBkZXNjcmliZUV4cGFuZGVkRWxlbWVudChcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGNsaWVudFByb3BzLFxuICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudClcbiAgICAgICAgKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBfcHJvcE5hbWUyIGluIGNsaWVudFByb3BzKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNsaWVudFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wTmFtZTIpICYmXG4gICAgICAgICAgICBcImNoaWxkcmVuXCIgIT09IF9wcm9wTmFtZTJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBtYXhMZW5ndGgkanNjb21wJDAgPVxuICAgICAgICAgICAgICAgIDEyMCAtIDIgKiAoaW5kZW50ICsgMSkgLSBfcHJvcE5hbWUyLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lID0gc2VydmVyUHJvcE5hbWVzLmdldChfcHJvcE5hbWUyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gc2VydmVyUHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWVzLmRlbGV0ZShfcHJvcE5hbWUyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICB2YXIgcHJvcE5hbWUkanNjb21wJDAgPSBjbGllbnRQcm9wc1tfcHJvcE5hbWUyXTtcbiAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUgPSBzZXJ2ZXJQcm9wc1tzZXJ2ZXJQcm9wTmFtZV07XG4gICAgICAgICAgICAgIHZhciBjbGllbnRQcm9wVmFsdWUgPSBkZXNjcmliZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwID0gZGVzY3JpYmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9wTmFtZSRqc2NvbXAkMCAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBwcm9wTmFtZSRqc2NvbXAkMCAmJlxuICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygc2VydmVyUHJvcE5hbWUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gc2VydmVyUHJvcE5hbWUgJiZcbiAgICAgICAgICAgICAgXCJPYmplY3RcIiA9PT0gb2JqZWN0TmFtZShwcm9wTmFtZSRqc2NvbXAkMCkgJiZcbiAgICAgICAgICAgICAgXCJPYmplY3RcIiA9PT0gb2JqZWN0TmFtZShzZXJ2ZXJQcm9wTmFtZSkgJiZcbiAgICAgICAgICAgICAgKDIgPCBPYmplY3Qua2V5cyhwcm9wTmFtZSRqc2NvbXAkMCkubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgMiA8IE9iamVjdC5rZXlzKHNlcnZlclByb3BOYW1lKS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAtMSA8IGNsaWVudFByb3BWYWx1ZS5pbmRleE9mKFwiLi4uXCIpIHx8XG4gICAgICAgICAgICAgICAgLTEgPCBtYXhMZW5ndGgkanNjb21wJDAuaW5kZXhPZihcIi4uLlwiKSlcbiAgICAgICAgICAgICAgICA/IChjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgICAgIFwiPXt7XFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmliZVByb3BlcnRpZXNEaWZmKFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGluZGVudCArIDJcbiAgICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgXCJ9fVxcblwiKVxuICAgICAgICAgICAgICAgIDogKChjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50UHJvcFZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiksXG4gICAgICAgICAgICAgICAgICAoY29udGVudCArPVxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5cIikpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlUHJvcFZhbHVlKGNsaWVudFByb3BzW19wcm9wTmFtZTJdLCBtYXhMZW5ndGgkanNjb21wJDApICtcbiAgICAgICAgICAgICAgICBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgc2VydmVyUHJvcE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgaWYgKFwiY2hpbGRyZW5cIiAhPT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogKGluZGVudCArIDEpIC0gcHJvcE5hbWUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgIHByb3BOYW1lICtcbiAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICBkZXNjcmliZVByb3BWYWx1ZShzZXJ2ZXJQcm9wc1twcm9wTmFtZV0sIG1heExlbmd0aCkgK1xuICAgICAgICAgICAgICBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgIFwiXCIgPT09IGNvbnRlbnRcbiAgICAgICAgICAgID8gaW5kZW50YXRpb24oaW5kZW50KSArIFwiPFwiICsgdHlwZSArIFwiPlxcblwiXG4gICAgICAgICAgICA6IGluZGVudGF0aW9uKGluZGVudCkgK1xuICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgY29udGVudCArXG4gICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgK1xuICAgICAgICAgICAgICBcIj5cXG5cIjtcbiAgICAgIH1cbiAgICAgIHR5cGUgPSBzZXJ2ZXJQcm9wcy5jaGlsZHJlbjtcbiAgICAgIGNsaWVudFByb3BzID0gY2xpZW50UHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICApIHtcbiAgICAgICAgc2VydmVyUHJvcE5hbWVzID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBjbGllbnRQcm9wc1xuICAgICAgICApXG4gICAgICAgICAgc2VydmVyUHJvcE5hbWVzID0gXCJcIiArIGNsaWVudFByb3BzO1xuICAgICAgICBjb250ZW50ICs9IGRlc2NyaWJlVGV4dERpZmYoc2VydmVyUHJvcE5hbWVzLCBcIlwiICsgdHlwZSwgaW5kZW50ICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY2xpZW50UHJvcHMgfHxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBjbGllbnRQcm9wc1xuICAgICAgKVxuICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICBudWxsID09IHR5cGVcbiAgICAgICAgICAgID8gY29udGVudCArIGRlc2NyaWJlVGV4dERpZmYoXCJcIiArIGNsaWVudFByb3BzLCBudWxsLCBpbmRlbnQgKyAxKVxuICAgICAgICAgICAgOiBjb250ZW50ICsgZGVzY3JpYmVUZXh0RGlmZihcIlwiICsgY2xpZW50UHJvcHMsIHZvaWQgMCwgaW5kZW50ICsgMSk7XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVTaWJsaW5nRmliZXIoZmliZXIsIGluZGVudCkge1xuICAgICAgdmFyIHR5cGUgPSBkZXNjcmliZUZpYmVyVHlwZShmaWJlcik7XG4gICAgICBpZiAobnVsbCA9PT0gdHlwZSkge1xuICAgICAgICB0eXBlID0gXCJcIjtcbiAgICAgICAgZm9yIChmaWJlciA9IGZpYmVyLmNoaWxkOyBmaWJlcjsgKVxuICAgICAgICAgICh0eXBlICs9IGRlc2NyaWJlU2libGluZ0ZpYmVyKGZpYmVyLCBpbmRlbnQpKSxcbiAgICAgICAgICAgIChmaWJlciA9IGZpYmVyLnNpYmxpbmcpO1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCI8XCIgKyB0eXBlICsgXCI+XFxuXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTm9kZShub2RlLCBpbmRlbnQpIHtcbiAgICAgIHZhciBza2lwVG9Ob2RlID0gZmluZE5vdGFibGVOb2RlKG5vZGUsIGluZGVudCk7XG4gICAgICBpZiAoXG4gICAgICAgIHNraXBUb05vZGUgIT09IG5vZGUgJiZcbiAgICAgICAgKDEgIT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIHx8IG5vZGUuY2hpbGRyZW5bMF0gIT09IHNraXBUb05vZGUpXG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArIFwiLi4uXFxuXCIgKyBkZXNjcmliZU5vZGUoc2tpcFRvTm9kZSwgaW5kZW50ICsgMSlcbiAgICAgICAgKTtcbiAgICAgIHNraXBUb05vZGUgPSBcIlwiO1xuICAgICAgdmFyIGRlYnVnSW5mbyA9IG5vZGUuZmliZXIuX2RlYnVnSW5mbztcbiAgICAgIGlmIChkZWJ1Z0luZm8pXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVidWdJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNlcnZlckNvbXBvbmVudE5hbWUgPSBkZWJ1Z0luZm9baV0ubmFtZTtcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2VydmVyQ29tcG9uZW50TmFtZSAmJlxuICAgICAgICAgICAgKChza2lwVG9Ob2RlICs9XG4gICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgKyBcIjxcIiArIHNlcnZlckNvbXBvbmVudE5hbWUgKyBcIj5cXG5cIiksXG4gICAgICAgICAgICBpbmRlbnQrKyk7XG4gICAgICAgIH1cbiAgICAgIGRlYnVnSW5mbyA9IFwiXCI7XG4gICAgICBpID0gbm9kZS5maWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICBpZiAoNiA9PT0gbm9kZS5maWJlci50YWcpXG4gICAgICAgIChkZWJ1Z0luZm8gPSBkZXNjcmliZVRleHREaWZmKGksIG5vZGUuc2VydmVyUHJvcHMsIGluZGVudCkpLCBpbmRlbnQrKztcbiAgICAgIGVsc2UgaWYgKFxuICAgICAgICAoKHNlcnZlckNvbXBvbmVudE5hbWUgPSBkZXNjcmliZUZpYmVyVHlwZShub2RlLmZpYmVyKSksXG4gICAgICAgIG51bGwgIT09IHNlcnZlckNvbXBvbmVudE5hbWUpXG4gICAgICApXG4gICAgICAgIGlmICh2b2lkIDAgPT09IG5vZGUuc2VydmVyUHJvcHMpIHtcbiAgICAgICAgICBkZWJ1Z0luZm8gPSBpbmRlbnQ7XG4gICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiBkZWJ1Z0luZm8gLSBzZXJ2ZXJDb21wb25lbnROYW1lLmxlbmd0aCAtIDIsXG4gICAgICAgICAgICBjb250ZW50ID0gXCJcIjtcbiAgICAgICAgICBmb3IgKHByb3BOYW1lIGluIGkpXG4gICAgICAgICAgICBpZiAoaS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgXCJjaGlsZHJlblwiICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICB2YXIgcHJvcFZhbHVlID0gZGVzY3JpYmVQcm9wVmFsdWUoaVtwcm9wTmFtZV0sIDE1KTtcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoIC09IHByb3BOYW1lLmxlbmd0aCArIHByb3BWYWx1ZS5sZW5ndGggKyAyO1xuICAgICAgICAgICAgICBpZiAoMCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gXCIgLi4uXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGVudCArPSBcIiBcIiArIHByb3BOYW1lICsgXCI9XCIgKyBwcm9wVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZGVidWdJbmZvID1cbiAgICAgICAgICAgIGluZGVudGF0aW9uKGRlYnVnSW5mbykgK1xuICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSArXG4gICAgICAgICAgICBjb250ZW50ICtcbiAgICAgICAgICAgIFwiPlxcblwiO1xuICAgICAgICAgIGluZGVudCsrO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBudWxsID09PSBub2RlLnNlcnZlclByb3BzXG4gICAgICAgICAgICA/ICgoZGVidWdJbmZvID0gZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQoXG4gICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudClcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGluZGVudCsrKVxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygbm9kZS5zZXJ2ZXJQcm9wc1xuICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlNob3VsZCBub3QgaGF2ZSBtYXRjaGVkIGEgbm9uIEhvc3RUZXh0IGZpYmVyIHRvIGEgVGV4dCBub2RlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6ICgoZGVidWdJbmZvID0gZGVzY3JpYmVFbGVtZW50RGlmZihcbiAgICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgbm9kZS5zZXJ2ZXJQcm9wcyxcbiAgICAgICAgICAgICAgICAgIGluZGVudFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIGluZGVudCsrKTtcbiAgICAgIHZhciBwcm9wTmFtZSA9IFwiXCI7XG4gICAgICBpID0gbm9kZS5maWJlci5jaGlsZDtcbiAgICAgIGZvciAoXG4gICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUgPSAwO1xuICAgICAgICBpICYmIHNlcnZlckNvbXBvbmVudE5hbWUgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgKVxuICAgICAgICAobWF4TGVuZ3RoID0gbm9kZS5jaGlsZHJlbltzZXJ2ZXJDb21wb25lbnROYW1lXSksXG4gICAgICAgICAgbWF4TGVuZ3RoLmZpYmVyID09PSBpXG4gICAgICAgICAgICA/ICgocHJvcE5hbWUgKz0gZGVzY3JpYmVOb2RlKG1heExlbmd0aCwgaW5kZW50KSksXG4gICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUrKylcbiAgICAgICAgICAgIDogKHByb3BOYW1lICs9IGRlc2NyaWJlU2libGluZ0ZpYmVyKGksIGluZGVudCkpLFxuICAgICAgICAgIChpID0gaS5zaWJsaW5nKTtcbiAgICAgIGkgJiZcbiAgICAgICAgMCA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIChwcm9wTmFtZSArPSBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCIuLi5cXG5cIik7XG4gICAgICBpID0gbm9kZS5zZXJ2ZXJUYWlsO1xuICAgICAgbnVsbCA9PT0gbm9kZS5zZXJ2ZXJQcm9wcyAmJiBpbmRlbnQtLTtcbiAgICAgIGZvciAobm9kZSA9IDA7IG5vZGUgPCBpLmxlbmd0aDsgbm9kZSsrKVxuICAgICAgICAoc2VydmVyQ29tcG9uZW50TmFtZSA9IGlbbm9kZV0pLFxuICAgICAgICAgIChwcm9wTmFtZSA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2VydmVyQ29tcG9uZW50TmFtZVxuICAgICAgICAgICAgICA/IHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICAocmVtb3ZlZChpbmRlbnQpICtcbiAgICAgICAgICAgICAgICAgIGRlc2NyaWJlVGV4dE5vZGUoc2VydmVyQ29tcG9uZW50TmFtZSwgMTIwIC0gMiAqIGluZGVudCkgK1xuICAgICAgICAgICAgICAgICAgXCJcXG5cIilcbiAgICAgICAgICAgICAgOiBwcm9wTmFtZSArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLnR5cGUsXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLnByb3BzLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQpXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICByZXR1cm4gc2tpcFRvTm9kZSArIGRlYnVnSW5mbyArIHByb3BOYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZURpZmYocm9vdE5vZGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBcIlxcblxcblwiICsgZGVzY3JpYmVOb2RlKHJvb3ROb2RlLCAwKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQW5jZXN0b3JzKGFuY2VzdG9yLCBjaGlsZCwgcHJvcHMpIHtcbiAgICAgIGZvciAodmFyIGZpYmVyID0gY2hpbGQsIG5vZGUgPSBudWxsLCBkaXN0YW5jZUZyb21MZWFmID0gMDsgZmliZXI7IClcbiAgICAgICAgZmliZXIgPT09IGFuY2VzdG9yICYmIChkaXN0YW5jZUZyb21MZWFmID0gMCksXG4gICAgICAgICAgKG5vZGUgPSB7XG4gICAgICAgICAgICBmaWJlcjogZmliZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogbnVsbCAhPT0gbm9kZSA/IFtub2RlXSA6IFtdLFxuICAgICAgICAgICAgc2VydmVyUHJvcHM6XG4gICAgICAgICAgICAgIGZpYmVyID09PSBjaGlsZCA/IHByb3BzIDogZmliZXIgPT09IGFuY2VzdG9yID8gbnVsbCA6IHZvaWQgMCxcbiAgICAgICAgICAgIHNlcnZlclRhaWw6IFtdLFxuICAgICAgICAgICAgZGlzdGFuY2VGcm9tTGVhZjogZGlzdGFuY2VGcm9tTGVhZlxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRpc3RhbmNlRnJvbUxlYWYrKyxcbiAgICAgICAgICAoZmliZXIgPSBmaWJlci5yZXR1cm4pO1xuICAgICAgcmV0dXJuIG51bGwgIT09IG5vZGUgPyBkZXNjcmliZURpZmYobm9kZSkucmVwbGFjZUFsbCgvXlsrLV0vZ20sIFwiPlwiKSA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZWRBbmNlc3RvckluZm9EZXYob2xkSW5mbywgdGFnKSB7XG4gICAgICBvbGRJbmZvID0gYXNzaWduKHt9LCBvbGRJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvRGV2KTtcbiAgICAgIHZhciBpbmZvID0geyB0YWc6IHRhZyB9O1xuICAgICAgLTEgIT09IGluU2NvcGVUYWdzLmluZGV4T2YodGFnKSAmJlxuICAgICAgICAoKG9sZEluZm8uYVRhZ0luU2NvcGUgPSBudWxsKSxcbiAgICAgICAgKG9sZEluZm8uYnV0dG9uVGFnSW5TY29wZSA9IG51bGwpLFxuICAgICAgICAob2xkSW5mby5ub2JyVGFnSW5TY29wZSA9IG51bGwpKTtcbiAgICAgIC0xICE9PSBidXR0b25TY29wZVRhZ3MuaW5kZXhPZih0YWcpICYmIChvbGRJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gbnVsbCk7XG4gICAgICAtMSAhPT0gc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICYmXG4gICAgICAgIFwiYWRkcmVzc1wiICE9PSB0YWcgJiZcbiAgICAgICAgXCJkaXZcIiAhPT0gdGFnICYmXG4gICAgICAgIFwicFwiICE9PSB0YWcgJiZcbiAgICAgICAgKChvbGRJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsKSxcbiAgICAgICAgKG9sZEluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsKSk7XG4gICAgICBvbGRJbmZvLmN1cnJlbnQgPSBpbmZvO1xuICAgICAgXCJmb3JtXCIgPT09IHRhZyAmJiAob2xkSW5mby5mb3JtVGFnID0gaW5mbyk7XG4gICAgICBcImFcIiA9PT0gdGFnICYmIChvbGRJbmZvLmFUYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICBcImJ1dHRvblwiID09PSB0YWcgJiYgKG9sZEluZm8uYnV0dG9uVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgXCJub2JyXCIgPT09IHRhZyAmJiAob2xkSW5mby5ub2JyVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgXCJwXCIgPT09IHRhZyAmJiAob2xkSW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm8pO1xuICAgICAgXCJsaVwiID09PSB0YWcgJiYgKG9sZEluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm8pO1xuICAgICAgaWYgKFwiZGRcIiA9PT0gdGFnIHx8IFwiZHRcIiA9PT0gdGFnKSBvbGRJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICAgIFwiI2RvY3VtZW50XCIgPT09IHRhZyB8fCBcImh0bWxcIiA9PT0gdGFnXG4gICAgICAgID8gKG9sZEluZm8uY29udGFpbmVyVGFnSW5TY29wZSA9IG51bGwpXG4gICAgICAgIDogb2xkSW5mby5jb250YWluZXJUYWdJblNjb3BlIHx8IChvbGRJbmZvLmNvbnRhaW5lclRhZ0luU2NvcGUgPSBpbmZvKTtcbiAgICAgIHJldHVybiBvbGRJbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RhZ1ZhbGlkV2l0aFBhcmVudCh0YWcsIHBhcmVudFRhZykge1xuICAgICAgc3dpdGNoIChwYXJlbnRUYWcpIHtcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImhyXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJvcHRpb25cIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm9wdGdyb3VwXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCIjdGV4dFwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwib3B0Z3JvdXBcIjpcbiAgICAgICAgICByZXR1cm4gXCJvcHRpb25cIiA9PT0gdGFnIHx8IFwiI3RleHRcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIFwiI3RleHRcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwidHJcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJ0aFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJ0Ym9keVwiOlxuICAgICAgICBjYXNlIFwidGhlYWRcIjpcbiAgICAgICAgY2FzZSBcInRmb290XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwidHJcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJjb2xncm91cFwiOlxuICAgICAgICAgIHJldHVybiBcImNvbFwiID09PSB0YWcgfHwgXCJ0ZW1wbGF0ZVwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImNhcHRpb25cIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImNvbGdyb3VwXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0Ym9keVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGZvb3RcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRoZWFkXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImJhc2VcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImJhc2Vmb250XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJiZ3NvdW5kXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJsaW5rXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJtZXRhXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0aXRsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwibm9zY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm5vZnJhbWVzXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIHJldHVybiBcImhlYWRcIiA9PT0gdGFnIHx8IFwiYm9keVwiID09PSB0YWcgfHwgXCJmcmFtZXNldFwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJmcmFtZXNldFwiOlxuICAgICAgICAgIHJldHVybiBcImZyYW1lXCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcIiNkb2N1bWVudFwiOlxuICAgICAgICAgIHJldHVybiBcImh0bWxcIiA9PT0gdGFnO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImgxXCI6XG4gICAgICAgIGNhc2UgXCJoMlwiOlxuICAgICAgICBjYXNlIFwiaDNcIjpcbiAgICAgICAgY2FzZSBcImg0XCI6XG4gICAgICAgIGNhc2UgXCJoNVwiOlxuICAgICAgICBjYXNlIFwiaDZcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJoMVwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDJcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImgzXCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoNFwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDVcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImg2XCIgIT09IHBhcmVudFRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJycFwiOlxuICAgICAgICBjYXNlIFwicnRcIjpcbiAgICAgICAgICByZXR1cm4gLTEgPT09IGltcGxpZWRFbmRUYWdzLmluZGV4T2YocGFyZW50VGFnKTtcbiAgICAgICAgY2FzZSBcImJvZHlcIjpcbiAgICAgICAgY2FzZSBcImNhcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbFwiOlxuICAgICAgICBjYXNlIFwiY29sZ3JvdXBcIjpcbiAgICAgICAgY2FzZSBcImZyYW1lc2V0XCI6XG4gICAgICAgIGNhc2UgXCJmcmFtZVwiOlxuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICBjYXNlIFwidGJvZHlcIjpcbiAgICAgICAgY2FzZSBcInRkXCI6XG4gICAgICAgIGNhc2UgXCJ0Zm9vdFwiOlxuICAgICAgICBjYXNlIFwidGhcIjpcbiAgICAgICAgY2FzZSBcInRoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJ0clwiOlxuICAgICAgICAgIHJldHVybiBudWxsID09IHBhcmVudFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEludmFsaWRBbmNlc3RvckZvclRhZyh0YWcsIGFuY2VzdG9ySW5mbykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImFkZHJlc3NcIjpcbiAgICAgICAgY2FzZSBcImFydGljbGVcIjpcbiAgICAgICAgY2FzZSBcImFzaWRlXCI6XG4gICAgICAgIGNhc2UgXCJibG9ja3F1b3RlXCI6XG4gICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcImRldGFpbHNcIjpcbiAgICAgICAgY2FzZSBcImRpYWxvZ1wiOlxuICAgICAgICBjYXNlIFwiZGlyXCI6XG4gICAgICAgIGNhc2UgXCJkaXZcIjpcbiAgICAgICAgY2FzZSBcImRsXCI6XG4gICAgICAgIGNhc2UgXCJmaWVsZHNldFwiOlxuICAgICAgICBjYXNlIFwiZmlnY2FwdGlvblwiOlxuICAgICAgICBjYXNlIFwiZmlndXJlXCI6XG4gICAgICAgIGNhc2UgXCJmb290ZXJcIjpcbiAgICAgICAgY2FzZSBcImhlYWRlclwiOlxuICAgICAgICBjYXNlIFwiaGdyb3VwXCI6XG4gICAgICAgIGNhc2UgXCJtYWluXCI6XG4gICAgICAgIGNhc2UgXCJtZW51XCI6XG4gICAgICAgIGNhc2UgXCJuYXZcIjpcbiAgICAgICAgY2FzZSBcIm9sXCI6XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgIGNhc2UgXCJzZWN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJzdW1tYXJ5XCI6XG4gICAgICAgIGNhc2UgXCJ1bFwiOlxuICAgICAgICBjYXNlIFwicHJlXCI6XG4gICAgICAgIGNhc2UgXCJsaXN0aW5nXCI6XG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICBjYXNlIFwiaHJcIjpcbiAgICAgICAgY2FzZSBcInhtcFwiOlxuICAgICAgICBjYXNlIFwiaDFcIjpcbiAgICAgICAgY2FzZSBcImgyXCI6XG4gICAgICAgIGNhc2UgXCJoM1wiOlxuICAgICAgICBjYXNlIFwiaDRcIjpcbiAgICAgICAgY2FzZSBcImg1XCI6XG4gICAgICAgIGNhc2UgXCJoNlwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG4gICAgICAgIGNhc2UgXCJmb3JtXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5mb3JtVGFnIHx8IGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcbiAgICAgICAgY2FzZSBcImxpXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlIFwiZGRcIjpcbiAgICAgICAgY2FzZSBcImR0XCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZztcbiAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlO1xuICAgICAgICBjYXNlIFwibm9iclwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEFuY2VzdG9yKHBhcmVudCwgdGFnTmFtZSkge1xuICAgICAgZm9yICg7IHBhcmVudDsgKSB7XG4gICAgICAgIHN3aXRjaCAocGFyZW50LnRhZykge1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICBpZiAocGFyZW50LnR5cGUgPT09IHRhZ05hbWUpIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZURPTU5lc3RpbmcoY2hpbGRUYWcsIGFuY2VzdG9ySW5mbykge1xuICAgICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvRGV2O1xuICAgICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IChwYXJlbnRJbmZvID0gaXNUYWdWYWxpZFdpdGhQYXJlbnQoXG4gICAgICAgIGNoaWxkVGFnLFxuICAgICAgICBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnXG4gICAgICApXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHBhcmVudEluZm8pXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcoY2hpbGRUYWcsIGFuY2VzdG9ySW5mbyk7XG4gICAgICBhbmNlc3RvckluZm8gPSBwYXJlbnRJbmZvIHx8IGFuY2VzdG9ySW5mbztcbiAgICAgIGlmICghYW5jZXN0b3JJbmZvKSByZXR1cm4gITA7XG4gICAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8udGFnO1xuICAgICAgdmFyIHdhcm5LZXkgPSBTdHJpbmcoISFwYXJlbnRJbmZvKSArIFwifFwiICsgY2hpbGRUYWcgKyBcInxcIiArIGFuY2VzdG9ySW5mbztcbiAgICAgIGlmIChkaWRXYXJuW3dhcm5LZXldKSByZXR1cm4gITE7XG4gICAgICBkaWRXYXJuW3dhcm5LZXldID0gITA7XG4gICAgICB2YXIgYW5jZXN0b3IgPSAod2FybktleSA9IGN1cnJlbnQpXG4gICAgICAgID8gZmluZEFuY2VzdG9yKHdhcm5LZXkucmV0dXJuLCBhbmNlc3RvckluZm8pXG4gICAgICAgIDogbnVsbDtcbiAgICAgIHdhcm5LZXkgPVxuICAgICAgICBudWxsICE9PSB3YXJuS2V5ICYmIG51bGwgIT09IGFuY2VzdG9yXG4gICAgICAgICAgPyBkZXNjcmliZUFuY2VzdG9ycyhhbmNlc3Rvciwgd2FybktleSwgbnVsbClcbiAgICAgICAgICA6IFwiXCI7XG4gICAgICBhbmNlc3RvciA9IFwiPFwiICsgY2hpbGRUYWcgKyBcIj5cIjtcbiAgICAgIHBhcmVudEluZm9cbiAgICAgICAgPyAoKHBhcmVudEluZm8gPSBcIlwiKSxcbiAgICAgICAgICBcInRhYmxlXCIgPT09IGFuY2VzdG9ySW5mbyAmJlxuICAgICAgICAgICAgXCJ0clwiID09PSBjaGlsZFRhZyAmJlxuICAgICAgICAgICAgKHBhcmVudEluZm8gKz1cbiAgICAgICAgICAgICAgXCIgQWRkIGEgPHRib2R5PiwgPHRoZWFkPiBvciA8dGZvb3Q+IHRvIHlvdXIgY29kZSB0byBtYXRjaCB0aGUgRE9NIHRyZWUgZ2VuZXJhdGVkIGJ5IHRoZSBicm93c2VyLlwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCAlcyBjYW5ub3QgYmUgYSBjaGlsZCBvZiA8JXM+LiVzXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBhbmNlc3RvcixcbiAgICAgICAgICAgIGFuY2VzdG9ySW5mbyxcbiAgICAgICAgICAgIHBhcmVudEluZm8sXG4gICAgICAgICAgICB3YXJuS2V5XG4gICAgICAgICAgKSlcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCAlcyBjYW5ub3QgYmUgYSBkZXNjZW5kYW50IG9mIDwlcz4uXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBhbmNlc3RvcixcbiAgICAgICAgICAgIGFuY2VzdG9ySW5mbyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRleHROZXN0aW5nKGNoaWxkVGV4dCwgcGFyZW50VGFnKSB7XG4gICAgICBpZiAoaXNUYWdWYWxpZFdpdGhQYXJlbnQoXCIjdGV4dFwiLCBwYXJlbnRUYWcpKSByZXR1cm4gITA7XG4gICAgICB2YXIgd2FybktleSA9IFwiI3RleHR8XCIgKyBwYXJlbnRUYWc7XG4gICAgICBpZiAoZGlkV2Fyblt3YXJuS2V5XSkgcmV0dXJuICExO1xuICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9ICEwO1xuICAgICAgdmFyIGFuY2VzdG9yID0gKHdhcm5LZXkgPSBjdXJyZW50KVxuICAgICAgICA/IGZpbmRBbmNlc3Rvcih3YXJuS2V5LCBwYXJlbnRUYWcpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIHdhcm5LZXkgPVxuICAgICAgICBudWxsICE9PSB3YXJuS2V5ICYmIG51bGwgIT09IGFuY2VzdG9yXG4gICAgICAgICAgPyBkZXNjcmliZUFuY2VzdG9ycyhcbiAgICAgICAgICAgICAgYW5jZXN0b3IsXG4gICAgICAgICAgICAgIHdhcm5LZXksXG4gICAgICAgICAgICAgIDYgIT09IHdhcm5LZXkudGFnID8geyBjaGlsZHJlbjogbnVsbCB9IDogbnVsbFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIC9cXFMvLnRlc3QoY2hpbGRUZXh0KVxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsIHRleHQgbm9kZXMgY2Fubm90IGJlIGEgY2hpbGQgb2YgPCVzPi5cXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIHBhcmVudFRhZyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW4gSFRNTCwgd2hpdGVzcGFjZSB0ZXh0IG5vZGVzIGNhbm5vdCBiZSBhIGNoaWxkIG9mIDwlcz4uIE1ha2Ugc3VyZSB5b3UgZG9uJ3QgaGF2ZSBhbnkgZXh0cmEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRhZ3Mgb24gZWFjaCBsaW5lIG9mIHlvdXIgc291cmNlIGNvZGUuXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBwYXJlbnRUYWcsXG4gICAgICAgICAgICB3YXJuS2V5XG4gICAgICAgICAgKTtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQobm9kZSwgdGV4dCkge1xuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmaXJzdENoaWxkICYmXG4gICAgICAgICAgZmlyc3RDaGlsZCA9PT0gbm9kZS5sYXN0Q2hpbGQgJiZcbiAgICAgICAgICAzID09PSBmaXJzdENoaWxkLm5vZGVUeXBlXG4gICAgICAgICkge1xuICAgICAgICAgIGZpcnN0Q2hpbGQubm9kZVZhbHVlID0gdGV4dDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShoeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoXywgY2hhcmFjdGVyKSB7XG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvclN0eWxlKHN0eWxlLCBzdHlsZU5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IDAgPT09IHN0eWxlTmFtZS5pbmRleE9mKFwiLS1cIik7XG4gICAgICBpc0N1c3RvbVByb3BlcnR5IHx8XG4gICAgICAgICgtMSA8IHN0eWxlTmFtZS5pbmRleE9mKFwiLVwiKVxuICAgICAgICAgID8gKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICB3YXJuZWRTdHlsZU5hbWVzW3N0eWxlTmFtZV0pIHx8XG4gICAgICAgICAgICAoKHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiVW5zdXBwb3J0ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz9cIixcbiAgICAgICAgICAgICAgc3R5bGVOYW1lLFxuICAgICAgICAgICAgICBjYW1lbGl6ZShzdHlsZU5hbWUucmVwbGFjZShtc1BhdHRlcm4sIFwibXMtXCIpKVxuICAgICAgICAgICAgKSlcbiAgICAgICAgICA6IGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybi50ZXN0KHN0eWxlTmFtZSlcbiAgICAgICAgICAgID8gKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICAgIHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSkgfHxcbiAgICAgICAgICAgICAgKCh3YXJuZWRTdHlsZU5hbWVzW3N0eWxlTmFtZV0gPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbnN1cHBvcnRlZCB2ZW5kb3ItcHJlZml4ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz9cIixcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGVOYW1lLnNsaWNlKDEpXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6ICFiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4udGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSkgfHxcbiAgICAgICAgICAgICAgKCh3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0gPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1N0eWxlIHByb3BlcnR5IHZhbHVlcyBzaG91bGRuXFwndCBjb250YWluIGEgc2VtaWNvbG9uLiBUcnkgXCIlczogJXNcIiBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlLnJlcGxhY2UoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLCBcIlwiKVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgKGlzTmFOKHZhbHVlKVxuICAgICAgICAgICAgPyB3YXJuZWRGb3JOYU5WYWx1ZSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZEZvck5hTlZhbHVlID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiYE5hTmAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LlwiLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiBpc0Zpbml0ZSh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZEZvckluZmluaXR5VmFsdWUgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgSW5maW5pdHlgIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS5cIixcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgKSkpKTtcbiAgICAgIG51bGwgPT0gdmFsdWUgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcIlwiID09PSB2YWx1ZVxuICAgICAgICA/IGlzQ3VzdG9tUHJvcGVydHlcbiAgICAgICAgICA/IHN0eWxlLnNldFByb3BlcnR5KHN0eWxlTmFtZSwgXCJcIilcbiAgICAgICAgICA6IFwiZmxvYXRcIiA9PT0gc3R5bGVOYW1lXG4gICAgICAgICAgICA/IChzdHlsZS5jc3NGbG9hdCA9IFwiXCIpXG4gICAgICAgICAgICA6IChzdHlsZVtzdHlsZU5hbWVdID0gXCJcIilcbiAgICAgICAgOiBpc0N1c3RvbVByb3BlcnR5XG4gICAgICAgICAgPyBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIHZhbHVlKVxuICAgICAgICAgIDogXCJudW1iZXJcIiAhPT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICAgIDAgPT09IHZhbHVlIHx8XG4gICAgICAgICAgICAgIHVuaXRsZXNzTnVtYmVycy5oYXMoc3R5bGVOYW1lKVxuICAgICAgICAgICAgPyBcImZsb2F0XCIgPT09IHN0eWxlTmFtZVxuICAgICAgICAgICAgICA/IChzdHlsZS5jc3NGbG9hdCA9IHZhbHVlKVxuICAgICAgICAgICAgICA6IChjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHN0eWxlTmFtZSksXG4gICAgICAgICAgICAgICAgKHN0eWxlW3N0eWxlTmFtZV0gPSAoXCJcIiArIHZhbHVlKS50cmltKCkpKVxuICAgICAgICAgICAgOiAoc3R5bGVbc3R5bGVOYW1lXSA9IHZhbHVlICsgXCJweFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JTdHlsZXMobm9kZSwgc3R5bGVzLCBwcmV2U3R5bGVzKSB7XG4gICAgICBpZiAobnVsbCAhPSBzdHlsZXMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHN0eWxlcylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsIG5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyAnZW0nfX0gd2hlbiB1c2luZyBKU1guXCJcbiAgICAgICAgKTtcbiAgICAgIHN0eWxlcyAmJiBPYmplY3QuZnJlZXplKHN0eWxlcyk7XG4gICAgICBub2RlID0gbm9kZS5zdHlsZTtcbiAgICAgIGlmIChudWxsICE9IHByZXZTdHlsZXMpIHtcbiAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgIHZhciBleHBhbmRlZFVwZGF0ZXMgPSB7fTtcbiAgICAgICAgICBpZiAocHJldlN0eWxlcylcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcmV2U3R5bGVzKVxuICAgICAgICAgICAgICBpZiAocHJldlN0eWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFzdHlsZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgdmFyIGxvbmdoYW5kcyA9IHNob3J0aGFuZFRvTG9uZ2hhbmRba2V5XSB8fCBba2V5XSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgICBpIDwgbG9uZ2hhbmRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGV4cGFuZGVkVXBkYXRlc1tsb25naGFuZHNbaV1dID0ga2V5O1xuICAgICAgICAgIGZvciAodmFyIF9rZXkgaW4gc3R5bGVzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzdHlsZXMuaGFzT3duUHJvcGVydHkoX2tleSkgJiZcbiAgICAgICAgICAgICAgKCFwcmV2U3R5bGVzIHx8IHByZXZTdHlsZXNbX2tleV0gIT09IHN0eWxlc1tfa2V5XSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBrZXkgPSBzaG9ydGhhbmRUb0xvbmdoYW5kW19rZXldIHx8IFtfa2V5XSwgbG9uZ2hhbmRzID0gMDtcbiAgICAgICAgICAgICAgICBsb25naGFuZHMgPCBrZXkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxvbmdoYW5kcysrXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBleHBhbmRlZFVwZGF0ZXNba2V5W2xvbmdoYW5kc11dID0gX2tleTtcbiAgICAgICAgICBfa2V5ID0ge307XG4gICAgICAgICAgZm9yICh2YXIga2V5JGpzY29tcCQwIGluIHN0eWxlcylcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIGtleSA9IHNob3J0aGFuZFRvTG9uZ2hhbmRba2V5JGpzY29tcCQwXSB8fCBba2V5JGpzY29tcCQwXSxcbiAgICAgICAgICAgICAgICBsb25naGFuZHMgPSAwO1xuICAgICAgICAgICAgICBsb25naGFuZHMgPCBrZXkubGVuZ3RoO1xuICAgICAgICAgICAgICBsb25naGFuZHMrK1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfa2V5W2tleVtsb25naGFuZHNdXSA9IGtleSRqc2NvbXAkMDtcbiAgICAgICAgICBrZXkkanNjb21wJDAgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBfa2V5MiBpbiBleHBhbmRlZFVwZGF0ZXMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoa2V5ID0gZXhwYW5kZWRVcGRhdGVzW19rZXkyXSksXG4gICAgICAgICAgICAgIChsb25naGFuZHMgPSBfa2V5W19rZXkyXSkgJiZcbiAgICAgICAgICAgICAgICBrZXkgIT09IGxvbmdoYW5kcyAmJlxuICAgICAgICAgICAgICAgICgoaSA9IGtleSArIFwiLFwiICsgbG9uZ2hhbmRzKSwgIWtleSRqc2NvbXAkMFtpXSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAga2V5JGpzY29tcCQwW2ldID0gITA7XG4gICAgICAgICAgICAgIGkgPSBjb25zb2xlO1xuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICAgICAgICAgICAgaS5lcnJvci5jYWxsKFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgXCIlcyBhIHN0eWxlIHByb3BlcnR5IGR1cmluZyByZXJlbmRlciAoJXMpIHdoZW4gYSBjb25mbGljdGluZyBwcm9wZXJ0eSBpcyBzZXQgKCVzKSBjYW4gbGVhZCB0byBzdHlsaW5nIGJ1Z3MuIFRvIGF2b2lkIHRoaXMsIGRvbid0IG1peCBzaG9ydGhhbmQgYW5kIG5vbi1zaG9ydGhhbmQgcHJvcGVydGllcyBmb3IgdGhlIHNhbWUgdmFsdWU7IGluc3RlYWQsIHJlcGxhY2UgdGhlIHNob3J0aGFuZCB3aXRoIHNlcGFyYXRlIHZhbHVlcy5cIixcbiAgICAgICAgICAgICAgICBudWxsID09IHZhbHVlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJcIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgID8gXCJSZW1vdmluZ1wiXG4gICAgICAgICAgICAgICAgICA6IFwiVXBkYXRpbmdcIixcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgbG9uZ2hhbmRzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHByZXZTdHlsZXMpXG4gICAgICAgICAgIXByZXZTdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSB8fFxuICAgICAgICAgICAgKG51bGwgIT0gc3R5bGVzICYmIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB8fFxuICAgICAgICAgICAgKDAgPT09IHN0eWxlTmFtZS5pbmRleE9mKFwiLS1cIilcbiAgICAgICAgICAgICAgPyBub2RlLnNldFByb3BlcnR5KHN0eWxlTmFtZSwgXCJcIilcbiAgICAgICAgICAgICAgOiBcImZsb2F0XCIgPT09IHN0eWxlTmFtZVxuICAgICAgICAgICAgICAgID8gKG5vZGUuY3NzRmxvYXQgPSBcIlwiKVxuICAgICAgICAgICAgICAgIDogKG5vZGVbc3R5bGVOYW1lXSA9IFwiXCIpKTtcbiAgICAgICAgZm9yICh2YXIgX3N0eWxlTmFtZSBpbiBzdHlsZXMpXG4gICAgICAgICAgKF9rZXkyID0gc3R5bGVzW19zdHlsZU5hbWVdKSxcbiAgICAgICAgICAgIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShfc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICBwcmV2U3R5bGVzW19zdHlsZU5hbWVdICE9PSBfa2V5MiAmJlxuICAgICAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlKG5vZGUsIF9zdHlsZU5hbWUsIF9rZXkyKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBmb3IgKGV4cGFuZGVkVXBkYXRlcyBpbiBzdHlsZXMpXG4gICAgICAgICAgc3R5bGVzLmhhc093blByb3BlcnR5KGV4cGFuZGVkVXBkYXRlcykgJiZcbiAgICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGUobm9kZSwgZXhwYW5kZWRVcGRhdGVzLCBzdHlsZXNbZXhwYW5kZWRVcGRhdGVzXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudCh0YWdOYW1lKSB7XG4gICAgICBpZiAoLTEgPT09IHRhZ05hbWUuaW5kZXhPZihcIi1cIikpIHJldHVybiAhMTtcbiAgICAgIHN3aXRjaCAodGFnTmFtZSkge1xuICAgICAgICBjYXNlIFwiYW5ub3RhdGlvbi14bWxcIjpcbiAgICAgICAgY2FzZSBcImNvbG9yLXByb2ZpbGVcIjpcbiAgICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLXNyY1wiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLXVyaVwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLWZvcm1hdFwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLW5hbWVcIjpcbiAgICAgICAgY2FzZSBcIm1pc3NpbmctZ2x5cGhcIjpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVBbGlhcyhuYW1lKSB7XG4gICAgICByZXR1cm4gYWxpYXNlcy5nZXQobmFtZSkgfHwgbmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSQxKHRhZ05hbWUsIG5hbWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzJDEsIG5hbWUpICYmXG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXVxuICAgICAgKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBpZiAockFSSUFDYW1lbCQxLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGFnTmFtZSA9IFwiYXJpYS1cIiArIG5hbWUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGFnTmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHRhZ05hbWUpID8gdGFnTmFtZSA6IG51bGw7XG4gICAgICAgIGlmIChudWxsID09IHRhZ05hbWUpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBBUklBIGF0dHJpYnV0ZSBgJXNgLiBBUklBIGF0dHJpYnV0ZXMgZm9sbG93IHRoZSBwYXR0ZXJuIGFyaWEtKiBhbmQgbXVzdCBiZSBsb3dlcmNhc2UuXCIsXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKG5hbWUgIT09IHRhZ05hbWUpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBBUklBIGF0dHJpYnV0ZSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgdGFnTmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHJBUklBJDEudGVzdChuYW1lKSkge1xuICAgICAgICB0YWdOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0YWdOYW1lID0gYXJpYVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkgPyB0YWdOYW1lIDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgPT0gdGFnTmFtZSkgcmV0dXJuICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMCksICExO1xuICAgICAgICBuYW1lICE9PSB0YWdOYW1lICYmXG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlVua25vd24gQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/XCIsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdGFnTmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzKSB7XG4gICAgICB2YXIgaW52YWxpZFByb3BzID0gW10sXG4gICAgICAgIGtleTtcbiAgICAgIGZvciAoa2V5IGluIHByb3BzKVxuICAgICAgICB2YWxpZGF0ZVByb3BlcnR5JDEodHlwZSwga2V5KSB8fCBpbnZhbGlkUHJvcHMucHVzaChrZXkpO1xuICAgICAgcHJvcHMgPSBpbnZhbGlkUHJvcHNcbiAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIHJldHVybiBcImBcIiArIHByb3AgKyBcImBcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCIsIFwiKTtcbiAgICAgIDEgPT09IGludmFsaWRQcm9wcy5sZW5ndGhcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIGFyaWEgcHJvcCAlcyBvbiA8JXM+IHRhZy4gRm9yIGRldGFpbHMsIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtYXJpYS1wcm9wc1wiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKVxuICAgICAgICA6IDEgPCBpbnZhbGlkUHJvcHMubGVuZ3RoICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW52YWxpZCBhcmlhIHByb3BzICVzIG9uIDwlcz4gdGFnLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1hcmlhLXByb3BzXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5KHRhZ05hbWUsIG5hbWUsIHZhbHVlLCBldmVudFJlZ2lzdHJ5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoXCJvbmZvY3VzaW5cIiA9PT0gbG93ZXJDYXNlZE5hbWUgfHwgXCJvbmZvY3Vzb3V0XCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IHVzZXMgb25Gb2N1cyBhbmQgb25CbHVyIGluc3RlYWQgb2Ygb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0LiBBbGwgUmVhY3QgZXZlbnRzIGFyZSBub3JtYWxpemVkIHRvIGJ1YmJsZSwgc28gb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0IGFyZSBub3QgbmVlZGVkL3N1cHBvcnRlZCBieSBSZWFjdC5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgKChcImZvcm1cIiA9PT0gdGFnTmFtZSAmJiBcImFjdGlvblwiID09PSBuYW1lKSB8fFxuICAgICAgICAgIChcImlucHV0XCIgPT09IHRhZ05hbWUgJiYgXCJmb3JtQWN0aW9uXCIgPT09IG5hbWUpIHx8XG4gICAgICAgICAgKFwiYnV0dG9uXCIgPT09IHRhZ05hbWUgJiYgXCJmb3JtQWN0aW9uXCIgPT09IG5hbWUpKVxuICAgICAgKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBpZiAobnVsbCAhPSBldmVudFJlZ2lzdHJ5KSB7XG4gICAgICAgIHRhZ05hbWUgPSBldmVudFJlZ2lzdHJ5LnBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM7XG4gICAgICAgIGlmIChldmVudFJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkobmFtZSkpXG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBldmVudFJlZ2lzdHJ5ID0gdGFnTmFtZS5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgICA/IHRhZ05hbWVbbG93ZXJDYXNlZE5hbWVdXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPSBldmVudFJlZ2lzdHJ5KVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRSZWdpc3RyeVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gSXQgd2lsbCBiZSBpZ25vcmVkLlwiLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChFVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIFJlYWN0IGV2ZW50cyB1c2UgdGhlIGNhbWVsQ2FzZSBuYW1pbmcgY29udmVudGlvbiwgZm9yIGV4YW1wbGUgYG9uQ2xpY2tgLlwiLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAockFSSUEudGVzdChuYW1lKSB8fCByQVJJQUNhbWVsLnRlc3QobmFtZSkpIHJldHVybiAhMDtcbiAgICAgIGlmIChcImlubmVyaHRtbFwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJEaXJlY3RseSBzZXR0aW5nIHByb3BlcnR5IGBpbm5lckhUTUxgIGlzIG5vdCBwZXJtaXR0ZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFwiYXJpYVwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgYGFyaWFgIGF0dHJpYnV0ZSBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIHVzZSBpbiBSZWFjdC4gUGFzcyBpbmRpdmlkdWFsIGBhcmlhLWAgYXR0cmlidXRlcyBpbnN0ZWFkLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcImlzXCIgPT09IGxvd2VyQ2FzZWROYW1lICYmXG4gICAgICAgIG51bGwgIT09IHZhbHVlICYmXG4gICAgICAgIHZvaWQgMCAhPT0gdmFsdWUgJiZcbiAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVjZWl2ZWQgYSBgJXNgIGZvciBhIHN0cmluZyBhdHRyaWJ1dGUgYGlzYC4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCB0aGUgdmFsdWUgdG8gYSBzdHJpbmcuXCIsXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlICYmIGlzTmFOKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWNlaXZlZCBOYU4gZm9yIHRoZSBgJXNgIGF0dHJpYnV0ZS4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCB0aGUgdmFsdWUgdG8gYSBzdHJpbmcuXCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKHBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgobG93ZXJDYXNlZE5hbWUgPSBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbbG93ZXJDYXNlZE5hbWVdKSxcbiAgICAgICAgICBsb3dlckNhc2VkTmFtZSAhPT0gbmFtZSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgRE9NIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBsb3dlckNhc2VkTmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSAhPT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgZG9lcyBub3QgcmVjb2duaXplIHRoZSBgJXNgIHByb3Agb24gYSBET00gZWxlbWVudC4gSWYgeW91IGludGVudGlvbmFsbHkgd2FudCBpdCB0byBhcHBlYXIgaW4gdGhlIERPTSBhcyBhIGN1c3RvbSBhdHRyaWJ1dGUsIHNwZWxsIGl0IGFzIGxvd2VyY2FzZSBgJXNgIGluc3RlYWQuIElmIHlvdSBhY2NpZGVudGFsbHkgcGFzc2VkIGl0IGZyb20gYSBwYXJlbnQgY29tcG9uZW50LCByZW1vdmUgaXQgZnJvbSB0aGUgRE9NIGVsZW1lbnQuXCIsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbG93ZXJDYXNlZE5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcImlubmVyVGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dENvbnRlbnRcIjpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImF1dG9Gb2N1c1wiOlxuICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzcGVsbENoZWNrXCI6XG4gICAgICAgICAgICBjYXNlIFwiZHJhZ2dhYmxlXCI6XG4gICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvUmV2ZXJzZVwiOlxuICAgICAgICAgICAgY2FzZSBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c2FibGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJwcmVzZXJ2ZUFscGhhXCI6XG4gICAgICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICAgICAgY2FzZSBcImRvd25sb2FkXCI6XG4gICAgICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNSk7XG4gICAgICAgICAgICAgIGlmIChcImRhdGEtXCIgPT09IGxvd2VyQ2FzZWROYW1lIHx8IFwiYXJpYS1cIiA9PT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1JlY2VpdmVkIGAlc2AgZm9yIGEgbm9uLWJvb2xlYW4gYXR0cmlidXRlIGAlc2AuXFxuXFxuSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAlcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1JlY2VpdmVkIGAlc2AgZm9yIGEgbm9uLWJvb2xlYW4gYXR0cmlidXRlIGAlc2AuXFxuXFxuSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAlcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LlxcblxcbklmIHlvdSB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgb21pdCBpdCB3aXRoICVzPXtjb25kaXRpb24gJiYgdmFsdWV9LCBwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgcmV0dXJuICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApLCAhMTtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGlmIChcImZhbHNlXCIgPT09IHZhbHVlIHx8IFwidHJ1ZVwiID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImluZXJ0XCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCB0aGUgc3RyaW5nIGAlc2AgZm9yIHRoZSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiAlcyBEaWQgeW91IG1lYW4gJXM9eyVzfT9cIixcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIFwiZmFsc2VcIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICA/IFwiVGhlIGJyb3dzZXIgd2lsbCBpbnRlcnByZXQgaXQgYXMgYSB0cnV0aHkgdmFsdWUuXCJcbiAgICAgICAgICAgICAgICA6ICdBbHRob3VnaCB0aGlzIHdvcmtzLCBpdCB3aWxsIG5vdCB3b3JrIGFzIGV4cGVjdGVkIGlmIHlvdSBwYXNzIHRoZSBzdHJpbmcgXCJmYWxzZVwiLicsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgd2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBldmVudFJlZ2lzdHJ5KSB7XG4gICAgICB2YXIgdW5rbm93blByb3BzID0gW10sXG4gICAgICAgIGtleTtcbiAgICAgIGZvciAoa2V5IGluIHByb3BzKVxuICAgICAgICB2YWxpZGF0ZVByb3BlcnR5KHR5cGUsIGtleSwgcHJvcHNba2V5XSwgZXZlbnRSZWdpc3RyeSkgfHxcbiAgICAgICAgICB1bmtub3duUHJvcHMucHVzaChrZXkpO1xuICAgICAgcHJvcHMgPSB1bmtub3duUHJvcHNcbiAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIHJldHVybiBcImBcIiArIHByb3AgKyBcImBcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCIsIFwiKTtcbiAgICAgIDEgPT09IHVua25vd25Qcm9wcy5sZW5ndGhcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIGl0IGZyb20gdGhlIGVsZW1lbnQsIG9yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgaXQgaW4gdGhlIERPTS4gRm9yIGRldGFpbHMsIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2F0dHJpYnV0ZS1iZWhhdmlvciBcIixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgIClcbiAgICAgICAgOiAxIDwgdW5rbm93blByb3BzLmxlbmd0aCAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgdmFsdWVzIGZvciBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSB0aGVtIGZyb20gdGhlIGVsZW1lbnQsIG9yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgdGhlbSBpbiB0aGUgRE9NLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvYXR0cmlidXRlLWJlaGF2aW9yIFwiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2FuaXRpemVVUkwodXJsKSB7XG4gICAgICByZXR1cm4gaXNKYXZhU2NyaXB0UHJvdG9jb2wudGVzdChcIlwiICsgdXJsKVxuICAgICAgICA/IFwiamF2YXNjcmlwdDp0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0IGhhcyBibG9ja2VkIGEgamF2YXNjcmlwdDogVVJMIGFzIGEgc2VjdXJpdHkgcHJlY2F1dGlvbi4nKVwiXG4gICAgICAgIDogdXJsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCkge1xuICAgICAgbmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCB3aW5kb3c7XG4gICAgICBuYXRpdmVFdmVudC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCAmJlxuICAgICAgICAobmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCk7XG4gICAgICByZXR1cm4gMyA9PT0gbmF0aXZlRXZlbnQubm9kZVR5cGUgPyBuYXRpdmVFdmVudC5wYXJlbnROb2RlIDogbmF0aXZlRXZlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCkge1xuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKHRhcmdldCk7XG4gICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSAmJiAodGFyZ2V0ID0gaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRhcmdldFtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgICBhOiBzd2l0Y2ggKFxuICAgICAgICAgICgodGFyZ2V0ID0gaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpLCBpbnRlcm5hbEluc3RhbmNlLnR5cGUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgICAgdXBkYXRlSW5wdXQoXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgcHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgICAgcHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgcHJvcHMubmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPSBwcm9wcy5uYW1lO1xuICAgICAgICAgICAgaWYgKFwicmFkaW9cIiA9PT0gcHJvcHMudHlwZSAmJiBudWxsICE9IGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgZm9yIChwcm9wcyA9IHRhcmdldDsgcHJvcHMucGFyZW50Tm9kZTsgKSBwcm9wcyA9IHByb3BzLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oaW50ZXJuYWxJbnN0YW5jZSwgXCJuYW1lXCIpO1xuICAgICAgICAgICAgICBwcm9wcyA9IHByb3BzLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgJ2lucHV0W25hbWU9XCInICtcbiAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoXG4gICAgICAgICAgICAgICAgICAgIFwiXCIgKyBpbnRlcm5hbEluc3RhbmNlXG4gICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICdcIl1bdHlwZT1cInJhZGlvXCJdJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPCBwcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSsrXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlck5vZGUgPSBwcm9wc1tpbnRlcm5hbEluc3RhbmNlXTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJOb2RlICE9PSB0YXJnZXQgJiYgb3RoZXJOb2RlLmZvcm0gPT09IHRhcmdldC5mb3JtKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQcm9wcyA9IG90aGVyTm9kZVtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgaWYgKCFvdGhlclByb3BzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlJlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSBzYW1lIGBuYW1lYCBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dChcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJOb2RlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLm5hbWVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA8IHByb3BzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlKytcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIChvdGhlck5vZGUgPSBwcm9wc1tpbnRlcm5hbEluc3RhbmNlXSksXG4gICAgICAgICAgICAgICAgICBvdGhlck5vZGUuZm9ybSA9PT0gdGFyZ2V0LmZvcm0gJiZcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmFsdWVJZkNoYW5nZWQob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgICB1cGRhdGVUZXh0YXJlYSh0YXJnZXQsIHByb3BzLnZhbHVlLCBwcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAoaW50ZXJuYWxJbnN0YW5jZSA9IHByb3BzLnZhbHVlKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBpbnRlcm5hbEluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgdXBkYXRlT3B0aW9ucyh0YXJnZXQsICEhcHJvcHMubXVsdGlwbGUsIGludGVybmFsSW5zdGFuY2UsICExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyQxKGZuLCBhLCBiKSB7XG4gICAgICBpZiAoaXNJbnNpZGVFdmVudEhhbmRsZXIpIHJldHVybiBmbihhLCBiKTtcbiAgICAgIGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gITA7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gZm4oYSk7XG4gICAgICAgIHJldHVybiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKChpc0luc2lkZUV2ZW50SGFuZGxlciA9ICExKSxcbiAgICAgICAgICBudWxsICE9PSByZXN0b3JlVGFyZ2V0IHx8IG51bGwgIT09IHJlc3RvcmVRdWV1ZSlcbiAgICAgICAgKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChmbHVzaFN5bmNXb3JrJDEoKSxcbiAgICAgICAgICAgIHJlc3RvcmVUYXJnZXQgJiZcbiAgICAgICAgICAgICAgKChhID0gcmVzdG9yZVRhcmdldCksXG4gICAgICAgICAgICAgIChmbiA9IHJlc3RvcmVRdWV1ZSksXG4gICAgICAgICAgICAgIChyZXN0b3JlUXVldWUgPSByZXN0b3JlVGFyZ2V0ID0gbnVsbCksXG4gICAgICAgICAgICAgIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KGEpLFxuICAgICAgICAgICAgICBmbikpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IGZuLmxlbmd0aDsgYSsrKSByZXN0b3JlU3RhdGVPZlRhcmdldChmblthXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgIHZhciBzdGF0ZU5vZGUgPSBpbnN0LnN0YXRlTm9kZTtcbiAgICAgIGlmIChudWxsID09PSBzdGF0ZU5vZGUpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHByb3BzID0gc3RhdGVOb2RlW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICBpZiAobnVsbCA9PT0gcHJvcHMpIHJldHVybiBudWxsO1xuICAgICAgc3RhdGVOb2RlID0gcHJvcHNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICBhOiBzd2l0Y2ggKHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tcIjpcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbkRvdWJsZUNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZURvd25cIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VEb3duQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZU1vdmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VNb3ZlQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZVVwXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlVXBDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlRW50ZXJcIjpcbiAgICAgICAgICAocHJvcHMgPSAhcHJvcHMuZGlzYWJsZWQpIHx8XG4gICAgICAgICAgICAoKGluc3QgPSBpbnN0LnR5cGUpLFxuICAgICAgICAgICAgKHByb3BzID0gIShcbiAgICAgICAgICAgICAgXCJidXR0b25cIiA9PT0gaW5zdCB8fFxuICAgICAgICAgICAgICBcImlucHV0XCIgPT09IGluc3QgfHxcbiAgICAgICAgICAgICAgXCJzZWxlY3RcIiA9PT0gaW5zdCB8fFxuICAgICAgICAgICAgICBcInRleHRhcmVhXCIgPT09IGluc3RcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgICBpbnN0ID0gIXByb3BzO1xuICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaW5zdCA9ICExO1xuICAgICAgfVxuICAgICAgaWYgKGluc3QpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHN0YXRlTm9kZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBzdGF0ZU5vZGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgYFwiICtcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUgK1xuICAgICAgICAgICAgXCJgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYFwiICtcbiAgICAgICAgICAgIHR5cGVvZiBzdGF0ZU5vZGUgK1xuICAgICAgICAgICAgXCJgIHR5cGUuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBzdGF0ZU5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgICBpZiAoZmFsbGJhY2tUZXh0KSByZXR1cm4gZmFsbGJhY2tUZXh0O1xuICAgICAgdmFyIHN0YXJ0LFxuICAgICAgICBzdGFydFZhbHVlID0gc3RhcnRUZXh0LFxuICAgICAgICBzdGFydExlbmd0aCA9IHN0YXJ0VmFsdWUubGVuZ3RoLFxuICAgICAgICBlbmQsXG4gICAgICAgIGVuZFZhbHVlID0gXCJ2YWx1ZVwiIGluIHJvb3QgPyByb290LnZhbHVlIDogcm9vdC50ZXh0Q29udGVudCxcbiAgICAgICAgZW5kTGVuZ3RoID0gZW5kVmFsdWUubGVuZ3RoO1xuICAgICAgZm9yIChcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBzdGFydCA8IHN0YXJ0TGVuZ3RoICYmIHN0YXJ0VmFsdWVbc3RhcnRdID09PSBlbmRWYWx1ZVtzdGFydF07XG4gICAgICAgIHN0YXJ0KytcbiAgICAgICk7XG4gICAgICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgICAgIGZvciAoXG4gICAgICAgIGVuZCA9IDE7XG4gICAgICAgIGVuZCA8PSBtaW5FbmQgJiZcbiAgICAgICAgc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gPT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF07XG4gICAgICAgIGVuZCsrXG4gICAgICApO1xuICAgICAgcmV0dXJuIChmYWxsYmFja1RleHQgPSBlbmRWYWx1ZS5zbGljZShzdGFydCwgMSA8IGVuZCA/IDEgLSBlbmQgOiB2b2lkIDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICAgICAgdmFyIGtleUNvZGUgPSBuYXRpdmVFdmVudC5rZXlDb2RlO1xuICAgICAgXCJjaGFyQ29kZVwiIGluIG5hdGl2ZUV2ZW50XG4gICAgICAgID8gKChuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LmNoYXJDb2RlKSxcbiAgICAgICAgICAwID09PSBuYXRpdmVFdmVudCAmJiAxMyA9PT0ga2V5Q29kZSAmJiAobmF0aXZlRXZlbnQgPSAxMykpXG4gICAgICAgIDogKG5hdGl2ZUV2ZW50ID0ga2V5Q29kZSk7XG4gICAgICAxMCA9PT0gbmF0aXZlRXZlbnQgJiYgKG5hdGl2ZUV2ZW50ID0gMTMpO1xuICAgICAgcmV0dXJuIDMyIDw9IG5hdGl2ZUV2ZW50IHx8IDEzID09PSBuYXRpdmVFdmVudCA/IG5hdGl2ZUV2ZW50IDogMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWUoKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZSgpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlU3ludGhldGljRXZlbnQoSW50ZXJmYWNlKSB7XG4gICAgICBmdW5jdGlvbiBTeW50aGV0aWNCYXNlRXZlbnQoXG4gICAgICAgIHJlYWN0TmFtZSxcbiAgICAgICAgcmVhY3RFdmVudFR5cGUsXG4gICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3JlYWN0TmFtZSA9IHJlYWN0TmFtZTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgICAgIHRoaXMudHlwZSA9IHJlYWN0RXZlbnRUeXBlO1xuICAgICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSlcbiAgICAgICAgICBJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmXG4gICAgICAgICAgICAoKHJlYWN0TmFtZSA9IEludGVyZmFjZVtwcm9wTmFtZV0pLFxuICAgICAgICAgICAgKHRoaXNbcHJvcE5hbWVdID0gcmVhY3ROYW1lXG4gICAgICAgICAgICAgID8gcmVhY3ROYW1lKG5hdGl2ZUV2ZW50KVxuICAgICAgICAgICAgICA6IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXSkpO1xuICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IChcbiAgICAgICAgICBudWxsICE9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgICAgICAgICAgID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgICAgICAgOiAhMSA9PT0gbmF0aXZlRXZlbnQucmV0dXJuVmFsdWVcbiAgICAgICAgKVxuICAgICAgICAgID8gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWVcbiAgICAgICAgICA6IGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZTtcbiAgICAgICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBhc3NpZ24oU3ludGhldGljQmFzZUV2ZW50LnByb3RvdHlwZSwge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICEwO1xuICAgICAgICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgICAgICAgZXZlbnQgJiZcbiAgICAgICAgICAgIChldmVudC5wcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgICA/IGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgOiBcInVua25vd25cIiAhPT0gdHlwZW9mIGV2ZW50LnJldHVyblZhbHVlICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50LnJldHVyblZhbHVlID0gITEpLFxuICAgICAgICAgICAgKHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgICAgICBldmVudCAmJlxuICAgICAgICAgICAgKGV2ZW50LnN0b3BQcm9wYWdhdGlvblxuICAgICAgICAgICAgICA/IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgIDogXCJ1bmtub3duXCIgIT09IHR5cGVvZiBldmVudC5jYW5jZWxCdWJibGUgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnQuY2FuY2VsQnViYmxlID0gITApLFxuICAgICAgICAgICAgKHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBwZXJzaXN0OiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgaXNQZXJzaXN0ZW50OiBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gU3ludGhldGljQmFzZUV2ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb2RpZmllclN0YXRlR2V0dGVyKGtleUFyZykge1xuICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlXG4gICAgICAgID8gbmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXlBcmcpXG4gICAgICAgIDogKGtleUFyZyA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ10pXG4gICAgICAgICAgPyAhIW5hdGl2ZUV2ZW50W2tleUFyZ11cbiAgICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUoKSB7XG4gICAgICByZXR1cm4gbW9kaWZpZXJTdGF0ZUdldHRlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICAgIHJldHVybiAtMSAhPT0gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSk7XG4gICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmtleUNvZGUgIT09IFNUQVJUX0tFWUNPREU7XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICAgIG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQuZGV0YWlsO1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBuYXRpdmVFdmVudCAmJiBcImRhdGFcIiBpbiBuYXRpdmVFdmVudFxuICAgICAgICA/IG5hdGl2ZUV2ZW50LmRhdGFcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxuICAgICAgICAgIHJldHVybiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoICE9PSBTUEFDRUJBUl9DT0RFKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBoYXNTcGFjZUtleXByZXNzID0gITA7XG4gICAgICAgICAgcmV0dXJuIFNQQUNFQkFSX0NIQVI7XG4gICAgICAgIGNhc2UgXCJ0ZXh0SW5wdXRcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGRvbUV2ZW50TmFtZSA9IG5hdGl2ZUV2ZW50LmRhdGEpLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lID09PSBTUEFDRUJBUl9DSEFSICYmIGhhc1NwYWNlS2V5cHJlc3NcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDogZG9tRXZlbnROYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIGlmIChpc0NvbXBvc2luZylcbiAgICAgICAgcmV0dXJuIFwiY29tcG9zaXRpb25lbmRcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgICAgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ICYmXG4gICAgICAgICAgICBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkpXG4gICAgICAgICAgPyAoKGRvbUV2ZW50TmFtZSA9IGdldERhdGEoKSksXG4gICAgICAgICAgICAoZmFsbGJhY2tUZXh0ID0gc3RhcnRUZXh0ID0gcm9vdCA9IG51bGwpLFxuICAgICAgICAgICAgKGlzQ29tcG9zaW5nID0gITEpLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwYXN0ZVwiOlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhKFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudC5jdHJsS2V5IHx8XG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LmFsdEtleSB8fFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudC5tZXRhS2V5XG4gICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAobmF0aXZlRXZlbnQuY3RybEtleSAmJiBuYXRpdmVFdmVudC5hbHRLZXkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAobmF0aXZlRXZlbnQuY2hhciAmJiAxIDwgbmF0aXZlRXZlbnQuY2hhci5sZW5ndGgpXG4gICAgICAgICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5jaGFyO1xuICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoKVxuICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShuYXRpdmVFdmVudC53aGljaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgJiYgXCJrb1wiICE9PSBuYXRpdmVFdmVudC5sb2NhbGVcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBuYXRpdmVFdmVudC5kYXRhO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBcImlucHV0XCIgPT09IG5vZGVOYW1lXG4gICAgICAgID8gISFzdXBwb3J0ZWRJbnB1dFR5cGVzW2VsZW0udHlwZV1cbiAgICAgICAgOiBcInRleHRhcmVhXCIgPT09IG5vZGVOYW1lXG4gICAgICAgICAgPyAhMFxuICAgICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lU3VmZml4KSB7XG4gICAgICBpZiAoIWNhblVzZURPTSkgcmV0dXJuICExO1xuICAgICAgZXZlbnROYW1lU3VmZml4ID0gXCJvblwiICsgZXZlbnROYW1lU3VmZml4O1xuICAgICAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lU3VmZml4IGluIGRvY3VtZW50O1xuICAgICAgaXNTdXBwb3J0ZWQgfHxcbiAgICAgICAgKChpc1N1cHBvcnRlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLFxuICAgICAgICBpc1N1cHBvcnRlZC5zZXRBdHRyaWJ1dGUoZXZlbnROYW1lU3VmZml4LCBcInJldHVybjtcIiksXG4gICAgICAgIChpc1N1cHBvcnRlZCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGlzU3VwcG9ydGVkW2V2ZW50TmFtZVN1ZmZpeF0pKTtcbiAgICAgIHJldHVybiBpc1N1cHBvcnRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KFxuICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgIGluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIHRhcmdldFxuICAgICkge1xuICAgICAgcmVzdG9yZVRhcmdldFxuICAgICAgICA/IHJlc3RvcmVRdWV1ZVxuICAgICAgICAgID8gcmVzdG9yZVF1ZXVlLnB1c2godGFyZ2V0KVxuICAgICAgICAgIDogKHJlc3RvcmVRdWV1ZSA9IFt0YXJnZXRdKVxuICAgICAgICA6IChyZXN0b3JlVGFyZ2V0ID0gdGFyZ2V0KTtcbiAgICAgIGluc3QgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoaW5zdCwgXCJvbkNoYW5nZVwiKTtcbiAgICAgIDAgPCBpbnN0Lmxlbmd0aCAmJlxuICAgICAgICAoKG5hdGl2ZUV2ZW50ID0gbmV3IFN5bnRoZXRpY0V2ZW50KFxuICAgICAgICAgIFwib25DaGFuZ2VcIixcbiAgICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgdGFyZ2V0XG4gICAgICAgICkpLFxuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyBldmVudDogbmF0aXZlRXZlbnQsIGxpc3RlbmVyczogaW5zdCB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bkV2ZW50SW5CYXRjaChkaXNwYXRjaFF1ZXVlKSB7XG4gICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZShkaXNwYXRjaFF1ZXVlLCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpIHtcbiAgICAgIHZhciB0YXJnZXROb2RlID0gZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KTtcbiAgICAgIGlmICh1cGRhdGVWYWx1ZUlmQ2hhbmdlZCh0YXJnZXROb2RlKSkgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudChkb21FdmVudE5hbWUsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmIChcImNoYW5nZVwiID09PSBkb21FdmVudE5hbWUpIHJldHVybiB0YXJnZXRJbnN0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQkMSAmJlxuICAgICAgICAoYWN0aXZlRWxlbWVudCQxLmRldGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSksXG4gICAgICAgIChhY3RpdmVFbGVtZW50SW5zdCQxID0gYWN0aXZlRWxlbWVudCQxID0gbnVsbCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKFxuICAgICAgICBcInZhbHVlXCIgPT09IG5hdGl2ZUV2ZW50LnByb3BlcnR5TmFtZSAmJlxuICAgICAgICBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QkMSlcbiAgICAgICkge1xuICAgICAgICB2YXIgZGlzcGF0Y2hRdWV1ZSA9IFtdO1xuICAgICAgICBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoXG4gICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50SW5zdCQxLFxuICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KVxuICAgICAgICApO1xuICAgICAgICBiYXRjaGVkVXBkYXRlcyQxKHJ1bkV2ZW50SW5CYXRjaCwgZGlzcGF0Y2hRdWV1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHRhcmdldEluc3RcbiAgICApIHtcbiAgICAgIFwiZm9jdXNpblwiID09PSBkb21FdmVudE5hbWVcbiAgICAgICAgPyAoc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSxcbiAgICAgICAgICAoYWN0aXZlRWxlbWVudCQxID0gdGFyZ2V0KSxcbiAgICAgICAgICAoYWN0aXZlRWxlbWVudEluc3QkMSA9IHRhcmdldEluc3QpLFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQkMS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIiwgaGFuZGxlUHJvcGVydHlDaGFuZ2UpKVxuICAgICAgICA6IFwiZm9jdXNvdXRcIiA9PT0gZG9tRXZlbnROYW1lICYmIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGwoZG9tRXZlbnROYW1lKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic2VsZWN0aW9uY2hhbmdlXCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICBcImtleXVwXCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICBcImtleWRvd25cIiA9PT0gZG9tRXZlbnROYW1lXG4gICAgICApXG4gICAgICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QkMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKFwiY2xpY2tcIiA9PT0gZG9tRXZlbnROYW1lKSByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKFwiaW5wdXRcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwiY2hhbmdlXCIgPT09IGRvbUV2ZW50TmFtZSlcbiAgICAgICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgICAgcmV0dXJuICh4ID09PSB5ICYmICgwICE9PSB4IHx8IDEgLyB4ID09PSAxIC8geSkpIHx8ICh4ICE9PSB4ICYmIHkgIT09IHkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICAgICAgaWYgKG9iamVjdElzKG9iakEsIG9iakIpKSByZXR1cm4gITA7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvYmpBIHx8XG4gICAgICAgIG51bGwgPT09IG9iakEgfHxcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9iakIgfHxcbiAgICAgICAgbnVsbCA9PT0gb2JqQlxuICAgICAgKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKSxcbiAgICAgICAga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcbiAgICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkgcmV0dXJuICExO1xuICAgICAgZm9yIChrZXlzQiA9IDA7IGtleXNCIDwga2V5c0EubGVuZ3RoOyBrZXlzQisrKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5c0Fba2V5c0JdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwgY3VycmVudEtleSkgfHxcbiAgICAgICAgICAhb2JqZWN0SXMob2JqQVtjdXJyZW50S2V5XSwgb2JqQltjdXJyZW50S2V5XSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICAgICAgZm9yICg7IG5vZGUgJiYgbm9kZS5maXJzdENoaWxkOyApIG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgICAgIHZhciBub2RlID0gZ2V0TGVhZk5vZGUocm9vdCk7XG4gICAgICByb290ID0gMDtcbiAgICAgIGZvciAodmFyIG5vZGVFbmQ7IG5vZGU7ICkge1xuICAgICAgICBpZiAoMyA9PT0gbm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgIG5vZGVFbmQgPSByb290ICsgbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgaWYgKHJvb3QgPD0gb2Zmc2V0ICYmIG5vZGVFbmQgPj0gb2Zmc2V0KVxuICAgICAgICAgICAgcmV0dXJuIHsgbm9kZTogbm9kZSwgb2Zmc2V0OiBvZmZzZXQgLSByb290IH07XG4gICAgICAgICAgcm9vdCA9IG5vZGVFbmQ7XG4gICAgICAgIH1cbiAgICAgICAgYToge1xuICAgICAgICAgIGZvciAoOyBub2RlOyApIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZSA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gZ2V0TGVhZk5vZGUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICAgICAgcmV0dXJuIG91dGVyTm9kZSAmJiBpbm5lck5vZGVcbiAgICAgICAgPyBvdXRlck5vZGUgPT09IGlubmVyTm9kZVxuICAgICAgICAgID8gITBcbiAgICAgICAgICA6IG91dGVyTm9kZSAmJiAzID09PSBvdXRlck5vZGUubm9kZVR5cGVcbiAgICAgICAgICAgID8gITFcbiAgICAgICAgICAgIDogaW5uZXJOb2RlICYmIDMgPT09IGlubmVyTm9kZS5ub2RlVHlwZVxuICAgICAgICAgICAgICA/IGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZS5wYXJlbnROb2RlKVxuICAgICAgICAgICAgICA6IFwiY29udGFpbnNcIiBpbiBvdXRlck5vZGVcbiAgICAgICAgICAgICAgICA/IG91dGVyTm9kZS5jb250YWlucyhpbm5lck5vZGUpXG4gICAgICAgICAgICAgICAgOiBvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb25cbiAgICAgICAgICAgICAgICAgID8gISEob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGlubmVyTm9kZSkgJiAxNilcbiAgICAgICAgICAgICAgICAgIDogITFcbiAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudERlZXAoY29udGFpbmVySW5mbykge1xuICAgICAgY29udGFpbmVySW5mbyA9XG4gICAgICAgIG51bGwgIT0gY29udGFpbmVySW5mbyAmJlxuICAgICAgICBudWxsICE9IGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudCAmJlxuICAgICAgICBudWxsICE9IGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld1xuICAgICAgICAgID8gY29udGFpbmVySW5mby5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3XG4gICAgICAgICAgOiB3aW5kb3c7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgZWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQoY29udGFpbmVySW5mby5kb2N1bWVudCk7XG4gICAgICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBjb250YWluZXJJbmZvLkhUTUxJRnJhbWVFbGVtZW50O1xuXG4gICAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbGVtZW50LmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkgY29udGFpbmVySW5mbyA9IGVsZW1lbnQuY29udGVudFdpbmRvdztcbiAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgZWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQoY29udGFpbmVySW5mby5kb2N1bWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGVsZW0pIHtcbiAgICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBub2RlTmFtZSAmJlxuICAgICAgICAoKFwiaW5wdXRcIiA9PT0gbm9kZU5hbWUgJiZcbiAgICAgICAgICAoXCJ0ZXh0XCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJzZWFyY2hcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInRlbFwiID09PSBlbGVtLnR5cGUgfHxcbiAgICAgICAgICAgIFwidXJsXCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJwYXNzd29yZFwiID09PSBlbGVtLnR5cGUpKSB8fFxuICAgICAgICAgIFwidGV4dGFyZWFcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICBcInRydWVcIiA9PT0gZWxlbS5jb250ZW50RWRpdGFibGUpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXN0b3JlU2VsZWN0aW9uKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24sIGNvbnRhaW5lckluZm8pIHtcbiAgICAgIHZhciBjdXJGb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnREZWVwKGNvbnRhaW5lckluZm8pO1xuICAgICAgY29udGFpbmVySW5mbyA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZm9jdXNlZEVsZW07XG4gICAgICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gICAgICBpZiAoXG4gICAgICAgIGN1ckZvY3VzZWRFbGVtICE9PSBjb250YWluZXJJbmZvICYmXG4gICAgICAgIGNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgY29udGFpbmVySW5mby5vd25lckRvY3VtZW50ICYmXG4gICAgICAgIGNvbnRhaW5zTm9kZShjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBjb250YWluZXJJbmZvKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSBwcmlvclNlbGVjdGlvblJhbmdlICYmXG4gICAgICAgICAgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGNvbnRhaW5lckluZm8pXG4gICAgICAgIClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPSBwcmlvclNlbGVjdGlvblJhbmdlLnN0YXJ0KSxcbiAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uUmFuZ2UuZW5kKSxcbiAgICAgICAgICAgIHZvaWQgMCA9PT0gY3VyRm9jdXNlZEVsZW0gJiZcbiAgICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiksXG4gICAgICAgICAgICBcInNlbGVjdGlvblN0YXJ0XCIgaW4gY29udGFpbmVySW5mbylcbiAgICAgICAgICApXG4gICAgICAgICAgICAoY29udGFpbmVySW5mby5zZWxlY3Rpb25TdGFydCA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pLFxuICAgICAgICAgICAgICAoY29udGFpbmVySW5mby5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJJbmZvLnZhbHVlLmxlbmd0aFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICgoY3VyRm9jdXNlZEVsZW0gPVxuICAgICAgICAgICAgICAoKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkgJiZcbiAgICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmRlZmF1bHRWaWV3KSB8fFxuICAgICAgICAgICAgICB3aW5kb3cpLFxuICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZ2V0U2VsZWN0aW9uKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0gPSBjdXJGb2N1c2VkRWxlbS5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBjb250YWluZXJJbmZvLnRleHRDb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgc3RhcnQgPSBNYXRoLm1pbihwcmlvclNlbGVjdGlvblJhbmdlLnN0YXJ0LCBsZW5ndGgpO1xuICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25SYW5nZSA9XG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gcHJpb3JTZWxlY3Rpb25SYW5nZS5lbmRcbiAgICAgICAgICAgICAgICA/IHN0YXJ0XG4gICAgICAgICAgICAgICAgOiBNYXRoLm1pbihwcmlvclNlbGVjdGlvblJhbmdlLmVuZCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICFjdXJGb2N1c2VkRWxlbS5leHRlbmQgJiZcbiAgICAgICAgICAgICAgc3RhcnQgPiBwcmlvclNlbGVjdGlvblJhbmdlICYmXG4gICAgICAgICAgICAgICgobGVuZ3RoID0gcHJpb3JTZWxlY3Rpb25SYW5nZSksXG4gICAgICAgICAgICAgIChwcmlvclNlbGVjdGlvblJhbmdlID0gc3RhcnQpLFxuICAgICAgICAgICAgICAoc3RhcnQgPSBsZW5ndGgpKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQoY29udGFpbmVySW5mbywgc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQoXG4gICAgICAgICAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uUmFuZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZW5ndGggJiZcbiAgICAgICAgICAgICAgZW5kTWFya2VyICYmXG4gICAgICAgICAgICAgICgxICE9PSBjdXJGb2N1c2VkRWxlbS5yYW5nZUNvdW50IHx8XG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uYW5jaG9yTm9kZSAhPT0gbGVuZ3RoLm5vZGUgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5hbmNob3JPZmZzZXQgIT09IGxlbmd0aC5vZmZzZXQgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5mb2N1c05vZGUgIT09IGVuZE1hcmtlci5ub2RlIHx8XG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZm9jdXNPZmZzZXQgIT09IGVuZE1hcmtlci5vZmZzZXQpICYmXG4gICAgICAgICAgICAgICgocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9XG4gICAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5jcmVhdGVSYW5nZSgpKSxcbiAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZXRTdGFydChsZW5ndGgubm9kZSwgbGVuZ3RoLm9mZnNldCksXG4gICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLnJlbW92ZUFsbFJhbmdlcygpLFxuICAgICAgICAgICAgICBzdGFydCA+IHByaW9yU2VsZWN0aW9uUmFuZ2VcbiAgICAgICAgICAgICAgICA/IChjdXJGb2N1c2VkRWxlbS5hZGRSYW5nZShwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSxcbiAgICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmV4dGVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCkpXG4gICAgICAgICAgICAgICAgOiAocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZXRFbmQoXG4gICAgICAgICAgICAgICAgICAgIGVuZE1hcmtlci5ub2RlLFxuICAgICAgICAgICAgICAgICAgICBlbmRNYXJrZXIub2Zmc2V0XG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uYWRkUmFuZ2UocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbikpKTtcbiAgICAgICAgICB9XG4gICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPSBbXTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBjdXJGb2N1c2VkRWxlbSA9IGNvbnRhaW5lckluZm87XG4gICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gY3VyRm9jdXNlZEVsZW0ucGFyZW50Tm9kZSk7XG5cbiAgICAgICAgKVxuICAgICAgICAgIDEgPT09IGN1ckZvY3VzZWRFbGVtLm5vZGVUeXBlICYmXG4gICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnB1c2goe1xuICAgICAgICAgICAgICBlbGVtZW50OiBjdXJGb2N1c2VkRWxlbSxcbiAgICAgICAgICAgICAgbGVmdDogY3VyRm9jdXNlZEVsZW0uc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgdG9wOiBjdXJGb2N1c2VkRWxlbS5zY3JvbGxUb3BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb250YWluZXJJbmZvLmZvY3VzICYmIGNvbnRhaW5lckluZm8uZm9jdXMoKTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBjb250YWluZXJJbmZvID0gMDtcbiAgICAgICAgICBjb250YWluZXJJbmZvIDwgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5sZW5ndGg7XG4gICAgICAgICAgY29udGFpbmVySW5mbysrXG4gICAgICAgIClcbiAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uW2NvbnRhaW5lckluZm9dKSxcbiAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbS5lbGVtZW50LnNjcm9sbExlZnQgPSBjdXJGb2N1c2VkRWxlbS5sZWZ0KSxcbiAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbS5lbGVtZW50LnNjcm9sbFRvcCA9IGN1ckZvY3VzZWRFbGVtLnRvcCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbnN0cnVjdFNlbGVjdEV2ZW50KFxuICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICApIHtcbiAgICAgIHZhciBkb2MgPVxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgPyBuYXRpdmVFdmVudFRhcmdldC5kb2N1bWVudFxuICAgICAgICAgIDogOSA9PT0gbmF0aXZlRXZlbnRUYXJnZXQubm9kZVR5cGVcbiAgICAgICAgICAgID8gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgIDogbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAgIG1vdXNlRG93biB8fFxuICAgICAgICBudWxsID09IGFjdGl2ZUVsZW1lbnQgfHxcbiAgICAgICAgYWN0aXZlRWxlbWVudCAhPT0gZ2V0QWN0aXZlRWxlbWVudChkb2MpIHx8XG4gICAgICAgICgoZG9jID0gYWN0aXZlRWxlbWVudCksXG4gICAgICAgIFwic2VsZWN0aW9uU3RhcnRcIiBpbiBkb2MgJiYgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGRvYylcbiAgICAgICAgICA/IChkb2MgPSB7IHN0YXJ0OiBkb2Muc2VsZWN0aW9uU3RhcnQsIGVuZDogZG9jLnNlbGVjdGlvbkVuZCB9KVxuICAgICAgICAgIDogKChkb2MgPSAoXG4gICAgICAgICAgICAgIChkb2Mub3duZXJEb2N1bWVudCAmJiBkb2Mub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgfHxcbiAgICAgICAgICAgICAgd2luZG93XG4gICAgICAgICAgICApLmdldFNlbGVjdGlvbigpKSxcbiAgICAgICAgICAgIChkb2MgPSB7XG4gICAgICAgICAgICAgIGFuY2hvck5vZGU6IGRvYy5hbmNob3JOb2RlLFxuICAgICAgICAgICAgICBhbmNob3JPZmZzZXQ6IGRvYy5hbmNob3JPZmZzZXQsXG4gICAgICAgICAgICAgIGZvY3VzTm9kZTogZG9jLmZvY3VzTm9kZSxcbiAgICAgICAgICAgICAgZm9jdXNPZmZzZXQ6IGRvYy5mb2N1c09mZnNldFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAobGFzdFNlbGVjdGlvbiAmJiBzaGFsbG93RXF1YWwobGFzdFNlbGVjdGlvbiwgZG9jKSkgfHxcbiAgICAgICAgICAoKGxhc3RTZWxlY3Rpb24gPSBkb2MpLFxuICAgICAgICAgIChkb2MgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoYWN0aXZlRWxlbWVudEluc3QsIFwib25TZWxlY3RcIikpLFxuICAgICAgICAgIDAgPCBkb2MubGVuZ3RoICYmXG4gICAgICAgICAgICAoKG5hdGl2ZUV2ZW50ID0gbmV3IFN5bnRoZXRpY0V2ZW50KFxuICAgICAgICAgICAgICBcIm9uU2VsZWN0XCIsXG4gICAgICAgICAgICAgIFwic2VsZWN0XCIsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyBldmVudDogbmF0aXZlRXZlbnQsIGxpc3RlbmVyczogZG9jIH0pLFxuICAgICAgICAgICAgKG5hdGl2ZUV2ZW50LnRhcmdldCA9IGFjdGl2ZUVsZW1lbnQpKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlUHJlZml4TWFwKHN0eWxlUHJvcCwgZXZlbnROYW1lKSB7XG4gICAgICB2YXIgcHJlZml4ZXMgPSB7fTtcbiAgICAgIHByZWZpeGVzW3N0eWxlUHJvcC50b0xvd2VyQ2FzZSgpXSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcHJlZml4ZXNbXCJXZWJraXRcIiArIHN0eWxlUHJvcF0gPSBcIndlYmtpdFwiICsgZXZlbnROYW1lO1xuICAgICAgcHJlZml4ZXNbXCJNb3pcIiArIHN0eWxlUHJvcF0gPSBcIm1velwiICsgZXZlbnROYW1lO1xuICAgICAgcmV0dXJuIHByZWZpeGVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShldmVudE5hbWUpIHtcbiAgICAgIGlmIChwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSkgcmV0dXJuIHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICAgICAgaWYgKCF2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdKSByZXR1cm4gZXZlbnROYW1lO1xuICAgICAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0sXG4gICAgICAgIHN0eWxlUHJvcDtcbiAgICAgIGZvciAoc3R5bGVQcm9wIGluIHByZWZpeE1hcClcbiAgICAgICAgaWYgKHByZWZpeE1hcC5oYXNPd25Qcm9wZXJ0eShzdHlsZVByb3ApICYmIHN0eWxlUHJvcCBpbiBzdHlsZSlcbiAgICAgICAgICByZXR1cm4gKHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdID0gcHJlZml4TWFwW3N0eWxlUHJvcF0pO1xuICAgICAgcmV0dXJuIGV2ZW50TmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJTaW1wbGVFdmVudChkb21FdmVudE5hbWUsIHJlYWN0TmFtZSkge1xuICAgICAgdG9wTGV2ZWxFdmVudHNUb1JlYWN0TmFtZXMuc2V0KGRvbUV2ZW50TmFtZSwgcmVhY3ROYW1lKTtcbiAgICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChyZWFjdE5hbWUsIFtkb21FdmVudE5hbWVdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBlbmRJbmRleCA9IGNvbmN1cnJlbnRRdWV1ZXNJbmRleCxcbiAgICAgICAgICBpID0gKGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcyA9IGNvbmN1cnJlbnRRdWV1ZXNJbmRleCA9IDApO1xuICAgICAgICBpIDwgZW5kSW5kZXg7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgZmliZXIgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICB2YXIgcXVldWUgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICB2YXIgdXBkYXRlID0gY29uY3VycmVudFF1ZXVlc1tpXTtcbiAgICAgICAgY29uY3VycmVudFF1ZXVlc1tpKytdID0gbnVsbDtcbiAgICAgICAgdmFyIGxhbmUgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPT0gcXVldWUgJiYgbnVsbCAhPT0gdXBkYXRlKSB7XG4gICAgICAgICAgdmFyIHBlbmRpbmcgPSBxdWV1ZS5wZW5kaW5nO1xuICAgICAgICAgIG51bGwgPT09IHBlbmRpbmdcbiAgICAgICAgICAgID8gKHVwZGF0ZS5uZXh0ID0gdXBkYXRlKVxuICAgICAgICAgICAgOiAoKHVwZGF0ZS5uZXh0ID0gcGVuZGluZy5uZXh0KSwgKHBlbmRpbmcubmV4dCA9IHVwZGF0ZSkpO1xuICAgICAgICAgIHF1ZXVlLnBlbmRpbmcgPSB1cGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgMCAhPT0gbGFuZSAmJiBtYXJrVXBkYXRlTGFuZUZyb21GaWJlclRvUm9vdChmaWJlciwgdXBkYXRlLCBsYW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IGZpYmVyO1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSBxdWV1ZTtcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbY29uY3VycmVudFF1ZXVlc0luZGV4KytdID0gdXBkYXRlO1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSBsYW5lO1xuICAgICAgY29uY3VycmVudGx5VXBkYXRlZExhbmVzIHw9IGxhbmU7XG4gICAgICBmaWJlci5sYW5lcyB8PSBsYW5lO1xuICAgICAgZmliZXIgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBmaWJlciAmJiAoZmliZXIubGFuZXMgfD0gbGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShmaWJlciwgcXVldWUsIHVwZGF0ZSwgbGFuZSkge1xuICAgICAgZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKTtcbiAgICAgIHJldHVybiBnZXRSb290Rm9yVXBkYXRlZEZpYmVyKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCBsYW5lKSB7XG4gICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIG51bGwsIG51bGwsIGxhbmUpO1xuICAgICAgcmV0dXJuIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrVXBkYXRlTGFuZUZyb21GaWJlclRvUm9vdChzb3VyY2VGaWJlciwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICBzb3VyY2VGaWJlci5sYW5lcyB8PSBsYW5lO1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IHNvdXJjZUZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmxhbmVzIHw9IGxhbmUpO1xuICAgICAgZm9yICh2YXIgaXNIaWRkZW4gPSAhMSwgcGFyZW50ID0gc291cmNlRmliZXIucmV0dXJuOyBudWxsICE9PSBwYXJlbnQ7IClcbiAgICAgICAgKHBhcmVudC5jaGlsZExhbmVzIHw9IGxhbmUpLFxuICAgICAgICAgIChhbHRlcm5hdGUgPSBwYXJlbnQuYWx0ZXJuYXRlKSxcbiAgICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5jaGlsZExhbmVzIHw9IGxhbmUpLFxuICAgICAgICAgIDIyID09PSBwYXJlbnQudGFnICYmXG4gICAgICAgICAgICAoKHNvdXJjZUZpYmVyID0gcGFyZW50LnN0YXRlTm9kZSksXG4gICAgICAgICAgICBudWxsID09PSBzb3VyY2VGaWJlciB8fFxuICAgICAgICAgICAgICBzb3VyY2VGaWJlci5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblZpc2libGUgfHxcbiAgICAgICAgICAgICAgKGlzSGlkZGVuID0gITApKSxcbiAgICAgICAgICAoc291cmNlRmliZXIgPSBwYXJlbnQpLFxuICAgICAgICAgIChwYXJlbnQgPSBwYXJlbnQucmV0dXJuKTtcbiAgICAgIGlzSGlkZGVuICYmXG4gICAgICAgIG51bGwgIT09IHVwZGF0ZSAmJlxuICAgICAgICAzID09PSBzb3VyY2VGaWJlci50YWcgJiZcbiAgICAgICAgKChwYXJlbnQgPSBzb3VyY2VGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAoaXNIaWRkZW4gPSAzMSAtIGNsejMyKGxhbmUpKSxcbiAgICAgICAgKHBhcmVudCA9IHBhcmVudC5oaWRkZW5VcGRhdGVzKSxcbiAgICAgICAgKHNvdXJjZUZpYmVyID0gcGFyZW50W2lzSGlkZGVuXSksXG4gICAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyXG4gICAgICAgICAgPyAocGFyZW50W2lzSGlkZGVuXSA9IFt1cGRhdGVdKVxuICAgICAgICAgIDogc291cmNlRmliZXIucHVzaCh1cGRhdGUpLFxuICAgICAgICAodXBkYXRlLmxhbmUgPSBsYW5lIHwgNTM2ODcwOTEyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoc291cmNlRmliZXIpIHtcbiAgICAgIGlmIChuZXN0ZWRVcGRhdGVDb3VudCA+IE5FU1RFRF9VUERBVEVfTElNSVQpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAoKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IG5lc3RlZFVwZGF0ZUNvdW50ID0gMCksXG4gICAgICAgICAgKHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSByb290V2l0aE5lc3RlZFVwZGF0ZXMgPSBudWxsKSxcbiAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgIFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IHJlcGVhdGVkbHkgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIGNvbXBvbmVudFdpbGxVcGRhdGUgb3IgY29tcG9uZW50RGlkVXBkYXRlLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiBuZXN0ZWQgdXBkYXRlcyB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzLlwiXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA+IE5FU1RFRF9QQVNTSVZFX1VQREFURV9MSU1JVCAmJlxuICAgICAgICAoKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IG51bGwpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IGNhbGxzIHNldFN0YXRlIGluc2lkZSB1c2VFZmZlY3QsIGJ1dCB1c2VFZmZlY3QgZWl0aGVyIGRvZXNuJ3QgaGF2ZSBhIGRlcGVuZGVuY3kgYXJyYXksIG9yIG9uZSBvZiB0aGUgZGVwZW5kZW5jaWVzIGNoYW5nZXMgb24gZXZlcnkgcmVuZGVyLlwiXG4gICAgICAgICkpO1xuICAgICAgbnVsbCA9PT0gc291cmNlRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgIDAgIT09IChzb3VyY2VGaWJlci5mbGFncyAmIDQwOTgpICYmXG4gICAgICAgIHdhcm5BYm91dFVwZGF0ZU9uTm90WWV0TW91bnRlZEZpYmVySW5ERVYoc291cmNlRmliZXIpO1xuICAgICAgZm9yICh2YXIgbm9kZSA9IHNvdXJjZUZpYmVyLCBwYXJlbnQgPSBub2RlLnJldHVybjsgbnVsbCAhPT0gcGFyZW50OyApXG4gICAgICAgIG51bGwgPT09IG5vZGUuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgMCAhPT0gKG5vZGUuZmxhZ3MgJiA0MDk4KSAmJlxuICAgICAgICAgIHdhcm5BYm91dFVwZGF0ZU9uTm90WWV0TW91bnRlZEZpYmVySW5ERVYoc291cmNlRmliZXIpLFxuICAgICAgICAgIChub2RlID0gcGFyZW50KSxcbiAgICAgICAgICAocGFyZW50ID0gbm9kZS5yZXR1cm4pO1xuICAgICAgcmV0dXJuIDMgPT09IG5vZGUudGFnID8gbm9kZS5zdGF0ZU5vZGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpIHJldHVybiB0eXBlO1xuICAgICAgdmFyIGZhbWlseSA9IHJlc29sdmVGYW1pbHkodHlwZSk7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBmYW1pbHkgPyB0eXBlIDogZmFtaWx5LmN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09PSByZXNvbHZlRmFtaWx5KSByZXR1cm4gdHlwZTtcbiAgICAgIHZhciBmYW1pbHkgPSByZXNvbHZlRmFtaWx5KHR5cGUpO1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZmFtaWx5XG4gICAgICAgID8gbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUucmVuZGVyICYmXG4gICAgICAgICAgKChmYW1pbHkgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcodHlwZS5yZW5kZXIpKSxcbiAgICAgICAgICB0eXBlLnJlbmRlciAhPT0gZmFtaWx5KVxuICAgICAgICAgID8gKChmYW1pbHkgPSB7ICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLCByZW5kZXI6IGZhbWlseSB9KSxcbiAgICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZS5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAoZmFtaWx5LmRpc3BsYXlOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSksXG4gICAgICAgICAgICBmYW1pbHkpXG4gICAgICAgICAgOiB0eXBlXG4gICAgICAgIDogZmFtaWx5LmN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhmaWJlciwgZWxlbWVudCkge1xuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpIHJldHVybiAhMTtcbiAgICAgIHZhciBwcmV2VHlwZSA9IGZpYmVyLmVsZW1lbnRUeXBlO1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICExLFxuICAgICAgICAkJHR5cGVvZk5leHRUeXBlID1cbiAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZWxlbWVudCAmJiBudWxsICE9PSBlbGVtZW50XG4gICAgICAgICAgICA/IGVsZW1lbnQuJCR0eXBlb2ZcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlbGVtZW50ICYmIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGVsZW1lbnRcbiAgICAgICAgICAgID8gKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApXG4gICAgICAgICAgICA6ICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRVxuICAgICAgICAgICAgPyAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMClcbiAgICAgICAgICAgIDogJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgICAgID8gKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApXG4gICAgICAgICAgICA6ICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5lZWRzQ29tcGFyZUZhbWlsaWVzICYmXG4gICAgICAgICgoZmliZXIgPSByZXNvbHZlRmFtaWx5KHByZXZUeXBlKSksXG4gICAgICAgIHZvaWQgMCAhPT0gZmliZXIgJiYgZmliZXIgPT09IHJlc29sdmVGYW1pbHkoZWxlbWVudCkpXG4gICAgICAgID8gITBcbiAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpIHtcbiAgICAgIG51bGwgIT09IHJlc29sdmVGYW1pbHkgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha1NldCAmJlxuICAgICAgICAobnVsbCA9PT0gZmFpbGVkQm91bmRhcmllcyAmJiAoZmFpbGVkQm91bmRhcmllcyA9IG5ldyBXZWFrU2V0KCkpLFxuICAgICAgICBmYWlsZWRCb3VuZGFyaWVzLmFkZChmaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgZmliZXIsXG4gICAgICB1cGRhdGVkRmFtaWxpZXMsXG4gICAgICBzdGFsZUZhbWlsaWVzXG4gICAgKSB7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlLFxuICAgICAgICBjaGlsZCA9IGZpYmVyLmNoaWxkLFxuICAgICAgICBzaWJsaW5nID0gZmliZXIuc2libGluZyxcbiAgICAgICAgdGFnID0gZmliZXIudGFnLFxuICAgICAgICB0eXBlID0gZmliZXIudHlwZSxcbiAgICAgICAgY2FuZGlkYXRlVHlwZSA9IG51bGw7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjYW5kaWRhdGVUeXBlID0gdHlwZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYW5kaWRhdGVUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICB9XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCByZXNvbHZlRmFtaWx5IHRvIGJlIHNldCBkdXJpbmcgaG90IHJlbG9hZC5cIik7XG4gICAgICB2YXIgbmVlZHNSZW5kZXIgPSAhMTtcbiAgICAgIHR5cGUgPSAhMTtcbiAgICAgIG51bGwgIT09IGNhbmRpZGF0ZVR5cGUgJiZcbiAgICAgICAgKChjYW5kaWRhdGVUeXBlID0gcmVzb2x2ZUZhbWlseShjYW5kaWRhdGVUeXBlKSksXG4gICAgICAgIHZvaWQgMCAhPT0gY2FuZGlkYXRlVHlwZSAmJlxuICAgICAgICAgIChzdGFsZUZhbWlsaWVzLmhhcyhjYW5kaWRhdGVUeXBlKVxuICAgICAgICAgICAgPyAodHlwZSA9ICEwKVxuICAgICAgICAgICAgOiB1cGRhdGVkRmFtaWxpZXMuaGFzKGNhbmRpZGF0ZVR5cGUpICYmXG4gICAgICAgICAgICAgICgxID09PSB0YWcgPyAodHlwZSA9ICEwKSA6IChuZWVkc1JlbmRlciA9ICEwKSkpKTtcbiAgICAgIG51bGwgIT09IGZhaWxlZEJvdW5kYXJpZXMgJiZcbiAgICAgICAgKGZhaWxlZEJvdW5kYXJpZXMuaGFzKGZpYmVyKSB8fFxuICAgICAgICAgIChudWxsICE9PSBhbHRlcm5hdGUgJiYgZmFpbGVkQm91bmRhcmllcy5oYXMoYWx0ZXJuYXRlKSkpICYmXG4gICAgICAgICh0eXBlID0gITApO1xuICAgICAgdHlwZSAmJiAoZmliZXIuX2RlYnVnTmVlZHNSZW1vdW50ID0gITApO1xuICAgICAgaWYgKHR5cGUgfHwgbmVlZHNSZW5kZXIpXG4gICAgICAgIChhbHRlcm5hdGUgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGFsdGVybmF0ZSwgZmliZXIsIDIpO1xuICAgICAgbnVsbCA9PT0gY2hpbGQgfHxcbiAgICAgICAgdHlwZSB8fFxuICAgICAgICBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgIHVwZGF0ZWRGYW1pbGllcyxcbiAgICAgICAgICBzdGFsZUZhbWlsaWVzXG4gICAgICAgICk7XG4gICAgICBudWxsICE9PSBzaWJsaW5nICYmXG4gICAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgc2libGluZyxcbiAgICAgICAgICB1cGRhdGVkRmFtaWxpZXMsXG4gICAgICAgICAgc3RhbGVGYW1pbGllc1xuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCkge1xuICAgICAgdmFyIHByZXZFZmZlY3REdXJhdGlvbiA9IHByb2ZpbGVyRWZmZWN0RHVyYXRpb247XG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uID0gMDtcbiAgICAgIHJldHVybiBwcmV2RWZmZWN0RHVyYXRpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pIHtcbiAgICAgIHZhciBlbGFwc2VkVGltZSA9IHByb2ZpbGVyRWZmZWN0RHVyYXRpb247XG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uID0gcHJldkVmZmVjdER1cmF0aW9uO1xuICAgICAgcmV0dXJuIGVsYXBzZWRUaW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKSB7XG4gICAgICB2YXIgZWxhcHNlZFRpbWUgPSBwcm9maWxlckVmZmVjdER1cmF0aW9uO1xuICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiArPSBwcmV2RWZmZWN0RHVyYXRpb247XG4gICAgICByZXR1cm4gZWxhcHNlZFRpbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0UHJvZmlsZXJUaW1lcihmaWJlcikge1xuICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSBub3coKTtcbiAgICAgIDAgPiBmaWJlci5hY3R1YWxTdGFydFRpbWUgJiYgKGZpYmVyLmFjdHVhbFN0YXJ0VGltZSA9IHByb2ZpbGVyU3RhcnRUaW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbihmaWJlcikge1xuICAgICAgaWYgKDAgPD0gcHJvZmlsZXJTdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93KCkgLSBwcm9maWxlclN0YXJ0VGltZTtcbiAgICAgICAgZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG4gICAgICAgIGZpYmVyLnNlbGZCYXNlRHVyYXRpb24gPSBlbGFwc2VkVGltZTtcbiAgICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmRJbmNvbXBsZXRlRHVyYXRpb24oZmliZXIpIHtcbiAgICAgIGlmICgwIDw9IHByb2ZpbGVyU3RhcnRUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG5vdygpIC0gcHJvZmlsZXJTdGFydFRpbWU7XG4gICAgICAgIGZpYmVyLmFjdHVhbER1cmF0aW9uICs9IGVsYXBzZWRUaW1lO1xuICAgICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvcmRFZmZlY3REdXJhdGlvbigpIHtcbiAgICAgIGlmICgwIDw9IHByb2ZpbGVyU3RhcnRUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG5vdygpIC0gcHJvZmlsZXJTdGFydFRpbWU7XG4gICAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0RWZmZWN0VGltZXIoKSB7XG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IG5vdygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKGZpYmVyKSB7XG4gICAgICBmb3IgKHZhciBjaGlsZCA9IGZpYmVyLmNoaWxkOyBjaGlsZDsgKVxuICAgICAgICAoZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gY2hpbGQuYWN0dWFsRHVyYXRpb24pLCAoY2hpbGQgPSBjaGlsZC5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodmFsdWUsIHNvdXJjZSkge1xuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZSAmJiBudWxsICE9PSB2YWx1ZSkge1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSBDYXB0dXJlZFN0YWNrcy5nZXQodmFsdWUpO1xuICAgICAgICBpZiAodm9pZCAwICE9PSBleGlzdGluZykgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICBzb3VyY2UgPSB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHN0YWNrOiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qoc291cmNlKVxuICAgICAgICB9O1xuICAgICAgICBDYXB0dXJlZFN0YWNrcy5zZXQodmFsdWUsIHNvdXJjZSk7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBzdGFjazogZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKHNvdXJjZSlcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hUcmVlRm9yayh3b3JrSW5Qcm9ncmVzcywgdG90YWxDaGlsZHJlbikge1xuICAgICAgd2FybklmTm90SHlkcmF0aW5nKCk7XG4gICAgICBmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXgrK10gPSB0cmVlRm9ya0NvdW50O1xuICAgICAgZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4KytdID0gdHJlZUZvcmtQcm92aWRlcjtcbiAgICAgIHRyZWVGb3JrUHJvdmlkZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHRyZWVGb3JrQ291bnQgPSB0b3RhbENoaWxkcmVuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoVHJlZUlkKHdvcmtJblByb2dyZXNzLCB0b3RhbENoaWxkcmVuLCBpbmRleCkge1xuICAgICAgd2FybklmTm90SHlkcmF0aW5nKCk7XG4gICAgICBpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0SWQ7XG4gICAgICBpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0T3ZlcmZsb3c7XG4gICAgICBpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0UHJvdmlkZXI7XG4gICAgICB0cmVlQ29udGV4dFByb3ZpZGVyID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICB2YXIgYmFzZUlkV2l0aExlYWRpbmdCaXQgPSB0cmVlQ29udGV4dElkO1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSB0cmVlQ29udGV4dE92ZXJmbG93O1xuICAgICAgdmFyIGJhc2VMZW5ndGggPSAzMiAtIGNsejMyKGJhc2VJZFdpdGhMZWFkaW5nQml0KSAtIDE7XG4gICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdCAmPSB+KDEgPDwgYmFzZUxlbmd0aCk7XG4gICAgICBpbmRleCArPSAxO1xuICAgICAgdmFyIGxlbmd0aCA9IDMyIC0gY2x6MzIodG90YWxDaGlsZHJlbikgKyBiYXNlTGVuZ3RoO1xuICAgICAgaWYgKDMwIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBudW1iZXJPZk92ZXJmbG93Qml0cyA9IGJhc2VMZW5ndGggLSAoYmFzZUxlbmd0aCAlIDUpO1xuICAgICAgICBsZW5ndGggPSAoXG4gICAgICAgICAgYmFzZUlkV2l0aExlYWRpbmdCaXQgJlxuICAgICAgICAgICgoMSA8PCBudW1iZXJPZk92ZXJmbG93Qml0cykgLSAxKVxuICAgICAgICApLnRvU3RyaW5nKDMyKTtcbiAgICAgICAgYmFzZUlkV2l0aExlYWRpbmdCaXQgPj49IG51bWJlck9mT3ZlcmZsb3dCaXRzO1xuICAgICAgICBiYXNlTGVuZ3RoIC09IG51bWJlck9mT3ZlcmZsb3dCaXRzO1xuICAgICAgICB0cmVlQ29udGV4dElkID1cbiAgICAgICAgICAoMSA8PCAoMzIgLSBjbHozMih0b3RhbENoaWxkcmVuKSArIGJhc2VMZW5ndGgpKSB8XG4gICAgICAgICAgKGluZGV4IDw8IGJhc2VMZW5ndGgpIHxcbiAgICAgICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdDtcbiAgICAgICAgdHJlZUNvbnRleHRPdmVyZmxvdyA9IGxlbmd0aCArIHdvcmtJblByb2dyZXNzO1xuICAgICAgfSBlbHNlXG4gICAgICAgICh0cmVlQ29udGV4dElkID1cbiAgICAgICAgICAoMSA8PCBsZW5ndGgpIHwgKGluZGV4IDw8IGJhc2VMZW5ndGgpIHwgYmFzZUlkV2l0aExlYWRpbmdCaXQpLFxuICAgICAgICAgICh0cmVlQ29udGV4dE92ZXJmbG93ID0gd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKTtcbiAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLnJldHVybiAmJlxuICAgICAgICAocHVzaFRyZWVGb3JrKHdvcmtJblByb2dyZXNzLCAxKSwgcHVzaFRyZWVJZCh3b3JrSW5Qcm9ncmVzcywgMSwgMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BUcmVlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgZm9yICg7IHdvcmtJblByb2dyZXNzID09PSB0cmVlRm9ya1Byb3ZpZGVyOyApXG4gICAgICAgICh0cmVlRm9ya1Byb3ZpZGVyID0gZm9ya1N0YWNrWy0tZm9ya1N0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4XSA9IG51bGwpLFxuICAgICAgICAgICh0cmVlRm9ya0NvdW50ID0gZm9ya1N0YWNrWy0tZm9ya1N0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4XSA9IG51bGwpO1xuICAgICAgZm9yICg7IHdvcmtJblByb2dyZXNzID09PSB0cmVlQ29udGV4dFByb3ZpZGVyOyApXG4gICAgICAgICh0cmVlQ29udGV4dFByb3ZpZGVyID0gaWRTdGFja1stLWlkU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleF0gPSBudWxsKSxcbiAgICAgICAgICAodHJlZUNvbnRleHRPdmVyZmxvdyA9IGlkU3RhY2tbLS1pZFN0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXhdID0gbnVsbCksXG4gICAgICAgICAgKHRyZWVDb250ZXh0SWQgPSBpZFN0YWNrWy0taWRTdGFja0luZGV4XSksXG4gICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4XSA9IG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZOb3RIeWRyYXRpbmcoKSB7XG4gICAgICBpc0h5ZHJhdGluZyB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gYmUgaHlkcmF0aW5nLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKGZpYmVyLCBkaXN0YW5jZUZyb21MZWFmKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZmliZXIucmV0dXJuKSB7XG4gICAgICAgIGlmIChudWxsID09PSBoeWRyYXRpb25EaWZmUm9vdERFVilcbiAgICAgICAgICBoeWRyYXRpb25EaWZmUm9vdERFViA9IHtcbiAgICAgICAgICAgIGZpYmVyOiBmaWJlcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgIHNlcnZlclByb3BzOiB2b2lkIDAsXG4gICAgICAgICAgICBzZXJ2ZXJUYWlsOiBbXSxcbiAgICAgICAgICAgIGRpc3RhbmNlRnJvbUxlYWY6IGRpc3RhbmNlRnJvbUxlYWZcbiAgICAgICAgICB9O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoaHlkcmF0aW9uRGlmZlJvb3RERVYuZmliZXIgIT09IGZpYmVyKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiU2F3IG11bHRpcGxlIGh5ZHJhdGlvbiBkaWZmIHJvb3RzIGluIGEgcGFzcy4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBoeWRyYXRpb25EaWZmUm9vdERFVi5kaXN0YW5jZUZyb21MZWFmID4gZGlzdGFuY2VGcm9tTGVhZiAmJlxuICAgICAgICAgICAgKGh5ZHJhdGlvbkRpZmZSb290REVWLmRpc3RhbmNlRnJvbUxlYWYgPSBkaXN0YW5jZUZyb21MZWFmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHlkcmF0aW9uRGlmZlJvb3RERVY7XG4gICAgICB9XG4gICAgICB2YXIgc2libGluZ3MgPSBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKFxuICAgICAgICBmaWJlci5yZXR1cm4sXG4gICAgICAgIGRpc3RhbmNlRnJvbUxlYWYgKyAxXG4gICAgICApLmNoaWxkcmVuO1xuICAgICAgaWYgKDAgPCBzaWJsaW5ncy5sZW5ndGggJiYgc2libGluZ3Nbc2libGluZ3MubGVuZ3RoIC0gMV0uZmliZXIgPT09IGZpYmVyKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChzaWJsaW5ncyA9IHNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgICBzaWJsaW5ncy5kaXN0YW5jZUZyb21MZWFmID4gZGlzdGFuY2VGcm9tTGVhZiAmJlxuICAgICAgICAgICAgKHNpYmxpbmdzLmRpc3RhbmNlRnJvbUxlYWYgPSBkaXN0YW5jZUZyb21MZWFmKSxcbiAgICAgICAgICBzaWJsaW5nc1xuICAgICAgICApO1xuICAgICAgZGlzdGFuY2VGcm9tTGVhZiA9IHtcbiAgICAgICAgZmliZXI6IGZpYmVyLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIHNlcnZlclByb3BzOiB2b2lkIDAsXG4gICAgICAgIHNlcnZlclRhaWw6IFtdLFxuICAgICAgICBkaXN0YW5jZUZyb21MZWFmOiBkaXN0YW5jZUZyb21MZWFmXG4gICAgICB9O1xuICAgICAgc2libGluZ3MucHVzaChkaXN0YW5jZUZyb21MZWFmKTtcbiAgICAgIHJldHVybiBkaXN0YW5jZUZyb21MZWFmO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZShmaWJlciwgcmVqZWN0ZWRDYW5kaWRhdGUpIHtcbiAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWIHx8XG4gICAgICAgICgoZmliZXIgPSBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKGZpYmVyLCAwKSksXG4gICAgICAgIChmaWJlci5zZXJ2ZXJQcm9wcyA9IG51bGwpLFxuICAgICAgICBudWxsICE9PSByZWplY3RlZENhbmRpZGF0ZSAmJlxuICAgICAgICAgICgocmVqZWN0ZWRDYW5kaWRhdGUgPVxuICAgICAgICAgICAgZGVzY3JpYmVIeWRyYXRhYmxlSW5zdGFuY2VGb3JEZXZXYXJuaW5ncyhyZWplY3RlZENhbmRpZGF0ZSkpLFxuICAgICAgICAgIGZpYmVyLnNlcnZlclRhaWwucHVzaChyZWplY3RlZENhbmRpZGF0ZSkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKGZpYmVyKSB7XG4gICAgICB2YXIgZGlmZiA9IFwiXCIsXG4gICAgICAgIGRpZmZSb290ID0gaHlkcmF0aW9uRGlmZlJvb3RERVY7XG4gICAgICBudWxsICE9PSBkaWZmUm9vdCAmJlxuICAgICAgICAoKGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCksIChkaWZmID0gZGVzY3JpYmVEaWZmKGRpZmZSb290KSkpO1xuICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihcbiAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICBcIkh5ZHJhdGlvbiBmYWlsZWQgYmVjYXVzZSB0aGUgc2VydmVyIHJlbmRlcmVkIEhUTUwgZGlkbid0IG1hdGNoIHRoZSBjbGllbnQuIEFzIGEgcmVzdWx0IHRoaXMgdHJlZSB3aWxsIGJlIHJlZ2VuZXJhdGVkIG9uIHRoZSBjbGllbnQuIFRoaXMgY2FuIGhhcHBlbiBpZiBhIFNTUi1lZCBDbGllbnQgQ29tcG9uZW50IHVzZWQ6XFxuXFxuLSBBIHNlcnZlci9jbGllbnQgYnJhbmNoIGBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpYC5cXG4tIFZhcmlhYmxlIGlucHV0IHN1Y2ggYXMgYERhdGUubm93KClgIG9yIGBNYXRoLnJhbmRvbSgpYCB3aGljaCBjaGFuZ2VzIGVhY2ggdGltZSBpdCdzIGNhbGxlZC5cXG4tIERhdGUgZm9ybWF0dGluZyBpbiBhIHVzZXIncyBsb2NhbGUgd2hpY2ggZG9lc24ndCBtYXRjaCB0aGUgc2VydmVyLlxcbi0gRXh0ZXJuYWwgY2hhbmdpbmcgZGF0YSB3aXRob3V0IHNlbmRpbmcgYSBzbmFwc2hvdCBvZiBpdCBhbG9uZyB3aXRoIHRoZSBIVE1MLlxcbi0gSW52YWxpZCBIVE1MIHRhZyBuZXN0aW5nLlxcblxcbkl0IGNhbiBhbHNvIGhhcHBlbiBpZiB0aGUgY2xpZW50IGhhcyBhIGJyb3dzZXIgZXh0ZW5zaW9uIGluc3RhbGxlZCB3aGljaCBtZXNzZXMgd2l0aCB0aGUgSFRNTCBiZWZvcmUgUmVhY3QgbG9hZGVkLlxcblxcbmh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaHlkcmF0aW9uLW1pc21hdGNoXCIgK1xuICAgICAgICAgICAgICBkaWZmXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWJlclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhyb3cgSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoZmliZXIpIHtcbiAgICAgIHZhciBkaWRIeWRyYXRlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlLFxuICAgICAgICBwcm9wcyA9IGZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgICBkaWRIeWRyYXRlW2ludGVybmFsSW5zdGFuY2VLZXldID0gZmliZXI7XG4gICAgICBkaWRIeWRyYXRlW2ludGVybmFsUHJvcHNLZXldID0gcHJvcHM7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHR5cGUsIHByb3BzKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiZGlhbG9nXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNhbmNlbFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2xvc2VcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpZnJhbWVcIjpcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICBjYXNlIFwiZW1iZWRcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIGZvciAodHlwZSA9IDA7IHR5cGUgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyB0eXBlKyspXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KG1lZGlhRXZlbnRUeXBlc1t0eXBlXSwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGV0YWlsc1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJpbnB1dFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgdmFsaWRhdGVJbnB1dFByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKTtcbiAgICAgICAgICBpbml0SW5wdXQoXG4gICAgICAgICAgICBkaWRIeWRyYXRlLFxuICAgICAgICAgICAgcHJvcHMudmFsdWUsXG4gICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBwcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICBwcm9wcy50eXBlLFxuICAgICAgICAgICAgcHJvcHMubmFtZSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFjayhkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIHZhbGlkYXRlT3B0aW9uUHJvcHMoZGlkSHlkcmF0ZSwgcHJvcHMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcInNlbGVjdFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgdmFsaWRhdGVTZWxlY3RQcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJ0ZXh0YXJlYVwiLCBwcm9wcyksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICAgIHZhbGlkYXRlVGV4dGFyZWFQcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyksXG4gICAgICAgICAgICBpbml0VGV4dGFyZWEoXG4gICAgICAgICAgICAgIGRpZEh5ZHJhdGUsXG4gICAgICAgICAgICAgIHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHJhY2soZGlkSHlkcmF0ZSk7XG4gICAgICB9XG4gICAgICB0eXBlID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJudW1iZXJcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJiaWdpbnRcIiAhPT0gdHlwZW9mIHR5cGUpIHx8XG4gICAgICBkaWRIeWRyYXRlLnRleHRDb250ZW50ID09PSBcIlwiICsgdHlwZSB8fFxuICAgICAgITAgPT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyB8fFxuICAgICAgY2hlY2tGb3JVbm1hdGNoZWRUZXh0KGRpZEh5ZHJhdGUudGV4dENvbnRlbnQsIHR5cGUpXG4gICAgICAgID8gKG51bGwgIT0gcHJvcHMucG9wb3ZlciAmJlxuICAgICAgICAgICAgKGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJiZWZvcmV0b2dnbGVcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwidG9nZ2xlXCIsIGRpZEh5ZHJhdGUpKSxcbiAgICAgICAgICBudWxsICE9IHByb3BzLm9uU2Nyb2xsICYmXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsXCIsIGRpZEh5ZHJhdGUpLFxuICAgICAgICAgIG51bGwgIT0gcHJvcHMub25TY3JvbGxFbmQgJiZcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxlbmRcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgbnVsbCAhPSBwcm9wcy5vbkNsaWNrICYmIChkaWRIeWRyYXRlLm9uY2xpY2sgPSBub29wJDEpLFxuICAgICAgICAgIChkaWRIeWRyYXRlID0gITApKVxuICAgICAgICA6IChkaWRIeWRyYXRlID0gITEpO1xuICAgICAgZGlkSHlkcmF0ZSB8fCB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKSB7XG4gICAgICBmb3IgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXIucmV0dXJuOyBoeWRyYXRpb25QYXJlbnRGaWJlcjsgKVxuICAgICAgICBzd2l0Y2ggKGh5ZHJhdGlvblBhcmVudEZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICEwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyLnJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BIeWRyYXRpb25TdGF0ZShmaWJlcikge1xuICAgICAgaWYgKGZpYmVyICE9PSBoeWRyYXRpb25QYXJlbnRGaWJlcikgcmV0dXJuICExO1xuICAgICAgaWYgKCFpc0h5ZHJhdGluZylcbiAgICAgICAgcmV0dXJuIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpLCAoaXNIeWRyYXRpbmcgPSAhMCksICExO1xuICAgICAgdmFyIHNob3VsZENsZWFyID0gITEsXG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgIGlmICgoSlNDb21waWxlcl90ZW1wID0gMyAhPT0gZmliZXIudGFnICYmIDI3ICE9PSBmaWJlci50YWcpKSB7XG4gICAgICAgIGlmICgoSlNDb21waWxlcl90ZW1wID0gNSA9PT0gZmliZXIudGFnKSlcbiAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gZmliZXIudHlwZSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgIShcImZvcm1cIiAhPT0gSlNDb21waWxlcl90ZW1wICYmIFwiYnV0dG9uXCIgIT09IEpTQ29tcGlsZXJfdGVtcCkgfHxcbiAgICAgICAgICAgICAgc2hvdWxkU2V0VGV4dENvbnRlbnQoZmliZXIudHlwZSwgZmliZXIubWVtb2l6ZWRQcm9wcykpO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSAhSlNDb21waWxlcl90ZW1wO1xuICAgICAgfVxuICAgICAgSlNDb21waWxlcl90ZW1wICYmIChzaG91bGRDbGVhciA9ICEwKTtcbiAgICAgIGlmIChzaG91bGRDbGVhciAmJiBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSB7XG4gICAgICAgIGZvciAoc2hvdWxkQ2xlYXIgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlOyBzaG91bGRDbGVhcjsgKSB7XG4gICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gYnVpbGRIeWRyYXRpb25EaWZmTm9kZShmaWJlciwgMCk7XG4gICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID1cbiAgICAgICAgICAgIGRlc2NyaWJlSHlkcmF0YWJsZUluc3RhbmNlRm9yRGV2V2FybmluZ3Moc2hvdWxkQ2xlYXIpO1xuICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5zZXJ2ZXJUYWlsLnB1c2goZGVzY3JpcHRpb24pO1xuICAgICAgICAgIHNob3VsZENsZWFyID1cbiAgICAgICAgICAgIFwiU3VzcGVuc2VcIiA9PT0gZGVzY3JpcHRpb24udHlwZVxuICAgICAgICAgICAgICA/IGdldE5leHRIeWRyYXRhYmxlSW5zdGFuY2VBZnRlclN1c3BlbnNlSW5zdGFuY2Uoc2hvdWxkQ2xlYXIpXG4gICAgICAgICAgICAgIDogZ2V0TmV4dEh5ZHJhdGFibGUoc2hvdWxkQ2xlYXIubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaChmaWJlcik7XG4gICAgICB9XG4gICAgICBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKTtcbiAgICAgIGlmICgxMyA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIGZpYmVyID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgZmliZXIgPSBudWxsICE9PSBmaWJlciA/IGZpYmVyLmRlaHlkcmF0ZWQgOiBudWxsO1xuICAgICAgICBpZiAoIWZpYmVyKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBoYXZlIGEgaHlkcmF0ZWQgc3VzcGVuc2UgaW5zdGFuY2UuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID1cbiAgICAgICAgICBnZXROZXh0SHlkcmF0YWJsZUluc3RhbmNlQWZ0ZXJTdXNwZW5zZUluc3RhbmNlKGZpYmVyKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uUGFyZW50RmliZXJcbiAgICAgICAgICA/IGdldE5leHRIeWRyYXRhYmxlKGZpYmVyLnN0YXRlTm9kZS5uZXh0U2libGluZylcbiAgICAgICAgICA6IG51bGw7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSB7XG4gICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgPSBpc0h5ZHJhdGluZyA9ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBxdWV1ZUh5ZHJhdGlvbkVycm9yKGVycm9yKSB7XG4gICAgICBudWxsID09PSBoeWRyYXRpb25FcnJvcnNcbiAgICAgICAgPyAoaHlkcmF0aW9uRXJyb3JzID0gW2Vycm9yXSlcbiAgICAgICAgOiBoeWRyYXRpb25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtaXRQZW5kaW5nSHlkcmF0aW9uV2FybmluZ3MoKSB7XG4gICAgICB2YXIgZGlmZlJvb3QgPSBoeWRyYXRpb25EaWZmUm9vdERFVjtcbiAgICAgIG51bGwgIT09IGRpZmZSb290ICYmXG4gICAgICAgICgoaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsKSxcbiAgICAgICAgKGRpZmZSb290ID0gZGVzY3JpYmVEaWZmKGRpZmZSb290KSksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBIHRyZWUgaHlkcmF0ZWQgYnV0IHNvbWUgYXR0cmlidXRlcyBvZiB0aGUgc2VydmVyIHJlbmRlcmVkIEhUTUwgZGlkbid0IG1hdGNoIHRoZSBjbGllbnQgcHJvcGVydGllcy4gVGhpcyB3b24ndCBiZSBwYXRjaGVkIHVwLiBUaGlzIGNhbiBoYXBwZW4gaWYgYSBTU1ItZWQgQ2xpZW50IENvbXBvbmVudCB1c2VkOlxcblxcbi0gQSBzZXJ2ZXIvY2xpZW50IGJyYW5jaCBgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKWAuXFxuLSBWYXJpYWJsZSBpbnB1dCBzdWNoIGFzIGBEYXRlLm5vdygpYCBvciBgTWF0aC5yYW5kb20oKWAgd2hpY2ggY2hhbmdlcyBlYWNoIHRpbWUgaXQncyBjYWxsZWQuXFxuLSBEYXRlIGZvcm1hdHRpbmcgaW4gYSB1c2VyJ3MgbG9jYWxlIHdoaWNoIGRvZXNuJ3QgbWF0Y2ggdGhlIHNlcnZlci5cXG4tIEV4dGVybmFsIGNoYW5naW5nIGRhdGEgd2l0aG91dCBzZW5kaW5nIGEgc25hcHNob3Qgb2YgaXQgYWxvbmcgd2l0aCB0aGUgSFRNTC5cXG4tIEludmFsaWQgSFRNTCB0YWcgbmVzdGluZy5cXG5cXG5JdCBjYW4gYWxzbyBoYXBwZW4gaWYgdGhlIGNsaWVudCBoYXMgYSBicm93c2VyIGV4dGVuc2lvbiBpbnN0YWxsZWQgd2hpY2ggbWVzc2VzIHdpdGggdGhlIEhUTUwgYmVmb3JlIFJlYWN0IGxvYWRlZC5cXG5cXG4lcyVzXCIsXG4gICAgICAgICAgXCJodHRwczovL3JlYWN0LmRldi9saW5rL2h5ZHJhdGlvbi1taXNtYXRjaFwiLFxuICAgICAgICAgIGRpZmZSb290XG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVUaGVuYWJsZVN0YXRlKCkge1xuICAgICAgcmV0dXJuIHsgZGlkV2FybkFib3V0VW5jYWNoZWRQcm9taXNlOiAhMSwgdGhlbmFibGVzOiBbXSB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RoZW5hYmxlUmVzb2x2ZWQodGhlbmFibGUpIHtcbiAgICAgIHRoZW5hYmxlID0gdGhlbmFibGUuc3RhdHVzO1xuICAgICAgcmV0dXJuIFwiZnVsZmlsbGVkXCIgPT09IHRoZW5hYmxlIHx8IFwicmVqZWN0ZWRcIiA9PT0gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMygpIHt9XG4gICAgZnVuY3Rpb24gdHJhY2tVc2VkVGhlbmFibGUodGhlbmFibGVTdGF0ZSwgdGhlbmFibGUsIGluZGV4KSB7XG4gICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSA9ICEwKTtcbiAgICAgIHZhciB0cmFja2VkVGhlbmFibGVzID0gdGhlbmFibGVTdGF0ZS50aGVuYWJsZXM7XG4gICAgICBpbmRleCA9IHRyYWNrZWRUaGVuYWJsZXNbaW5kZXhdO1xuICAgICAgdm9pZCAwID09PSBpbmRleFxuICAgICAgICA/IHRyYWNrZWRUaGVuYWJsZXMucHVzaCh0aGVuYWJsZSlcbiAgICAgICAgOiBpbmRleCAhPT0gdGhlbmFibGUgJiZcbiAgICAgICAgICAodGhlbmFibGVTdGF0ZS5kaWRXYXJuQWJvdXRVbmNhY2hlZFByb21pc2UgfHxcbiAgICAgICAgICAgICgodGhlbmFibGVTdGF0ZS5kaWRXYXJuQWJvdXRVbmNhY2hlZFByb21pc2UgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IHdhcyBzdXNwZW5kZWQgYnkgYW4gdW5jYWNoZWQgcHJvbWlzZS4gQ3JlYXRpbmcgcHJvbWlzZXMgaW5zaWRlIGEgQ2xpZW50IENvbXBvbmVudCBvciBob29rIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLCBleGNlcHQgdmlhIGEgU3VzcGVuc2UtY29tcGF0aWJsZSBsaWJyYXJ5IG9yIGZyYW1ld29yay5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgdGhlbmFibGUudGhlbihub29wJDMsIG5vb3AkMyksXG4gICAgICAgICAgKHRoZW5hYmxlID0gaW5kZXgpKTtcbiAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICgodGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlLnJlYXNvbiksXG4gICAgICAgICAgICBjaGVja0lmVXNlV3JhcHBlZEluQXN5bmNDYXRjaCh0aGVuYWJsZVN0YXRlKSxcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoZW5hYmxlLnN0YXR1cylcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4obm9vcCQzLCBub29wJDMpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbnVsbCAhPT0gdGhlbmFibGVTdGF0ZSAmJlxuICAgICAgICAgICAgICAxMDAgPCB0aGVuYWJsZVN0YXRlLnNoZWxsU3VzcGVuZENvdW50ZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJhc3luYy9hd2FpdCBpcyBub3QgeWV0IHN1cHBvcnRlZCBpbiBDbGllbnQgQ29tcG9uZW50cywgb25seSBTZXJ2ZXIgQ29tcG9uZW50cy4gVGhpcyBlcnJvciBpcyBvZnRlbiBjYXVzZWQgYnkgYWNjaWRlbnRhbGx5IGFkZGluZyBgJ3VzZSBjbGllbnQnYCB0byBhIG1vZHVsZSB0aGF0IHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gZm9yIHRoZSBzZXJ2ZXIuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUuc3RhdHVzID0gXCJwZW5kaW5nXCI7XG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZnVsZmlsbGVkVGhlbmFibGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICAgICAgICAgIGZ1bGZpbGxlZFRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICAgICAgICAgICAgICBmdWxmaWxsZWRUaGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgIHZhciByZWplY3RlZFRoZW5hYmxlID0gdGhlbmFibGU7XG4gICAgICAgICAgICAgICAgICByZWplY3RlZFRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgIHJlamVjdGVkVGhlbmFibGUucmVhc29uID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgICgodGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlLnJlYXNvbiksXG4gICAgICAgICAgICAgICAgY2hlY2tJZlVzZVdyYXBwZWRJbkFzeW5jQ2F0Y2godGhlbmFibGVTdGF0ZSksXG4gICAgICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3VzcGVuZGVkVGhlbmFibGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFViA9ICEwO1xuICAgICAgICAgIHRocm93IFN1c3BlbnNlRXhjZXB0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdXNwZW5kZWRUaGVuYWJsZSgpIHtcbiAgICAgIGlmIChudWxsID09PSBzdXNwZW5kZWRUaGVuYWJsZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCBhIHN1c3BlbmRlZCB0aGVuYWJsZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciB0aGVuYWJsZSA9IHN1c3BlbmRlZFRoZW5hYmxlO1xuICAgICAgc3VzcGVuZGVkVGhlbmFibGUgPSBudWxsO1xuICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMTtcbiAgICAgIHJldHVybiB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJZlVzZVdyYXBwZWRJbkFzeW5jQ2F0Y2gocmVqZWN0ZWRSZWFzb24pIHtcbiAgICAgIGlmIChyZWplY3RlZFJlYXNvbiA9PT0gU3VzcGVuc2VFeGNlcHRpb24pXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSG9va3MgYXJlIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIGFuIGFzeW5jIGNvbXBvbmVudC4gVGhpcyBlcnJvciBpcyBvZnRlbiBjYXVzZWQgYnkgYWNjaWRlbnRhbGx5IGFkZGluZyBgJ3VzZSBjbGllbnQnYCB0byBhIG1vZHVsZSB0aGF0IHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gZm9yIHRoZSBzZXJ2ZXIuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaERlYnVnSW5mbyhkZWJ1Z0luZm8pIHtcbiAgICAgIHZhciBwcmV2aW91c0RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICBudWxsICE9IGRlYnVnSW5mbyAmJlxuICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9XG4gICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNEZWJ1Z0luZm9cbiAgICAgICAgICAgID8gZGVidWdJbmZvXG4gICAgICAgICAgICA6IHByZXZpb3VzRGVidWdJbmZvLmNvbmNhdChkZWJ1Z0luZm8pKTtcbiAgICAgIHJldHVybiBwcmV2aW91c0RlYnVnSW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGcmFnbWVudFByb3BzKGVsZW1lbnQsIGZpYmVyLCByZXR1cm5GaWJlcikge1xuICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnQucHJvcHMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChcImNoaWxkcmVuXCIgIT09IGtleSAmJiBcImtleVwiICE9PSBrZXkpIHtcbiAgICAgICAgICBudWxsID09PSBmaWJlciAmJlxuICAgICAgICAgICAgKChmaWJlciA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgcmV0dXJuRmliZXIubW9kZSwgMCkpLFxuICAgICAgICAgICAgKGZpYmVyLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIChmaWJlci5yZXR1cm4gPSByZXR1cm5GaWJlcikpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3JlZEtleSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gUmVhY3QuRnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBga2V5YCBhbmQgYGNoaWxkcmVuYCBwcm9wcy5cIixcbiAgICAgICAgICAgICAgICBlcnJvcmVkS2V5XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1bndyYXBUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgdmFyIGluZGV4ID0gdGhlbmFibGVJbmRleENvdW50ZXIkMTtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgKz0gMTtcbiAgICAgIG51bGwgPT09IHRoZW5hYmxlU3RhdGUkMSAmJiAodGhlbmFibGVTdGF0ZSQxID0gY3JlYXRlVGhlbmFibGVTdGF0ZSgpKTtcbiAgICAgIHJldHVybiB0cmFja1VzZWRUaGVuYWJsZSh0aGVuYWJsZVN0YXRlJDEsIHRoZW5hYmxlLCBpbmRleCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvZXJjZVJlZih3b3JrSW5Qcm9ncmVzcywgZWxlbWVudCkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucHJvcHMucmVmO1xuICAgICAgd29ya0luUHJvZ3Jlc3MucmVmID0gdm9pZCAwICE9PSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpIHtcbiAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfTEVHQUNZX0VMRU1FTlRfVFlQRSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ0EgUmVhY3QgRWxlbWVudCBmcm9tIGFuIG9sZGVyIHZlcnNpb24gb2YgUmVhY3Qgd2FzIHJlbmRlcmVkLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEl0IGNhbiBoYXBwZW4gaWY6XFxuLSBNdWx0aXBsZSBjb3BpZXMgb2YgdGhlIFwicmVhY3RcIiBwYWNrYWdlIGlzIHVzZWQuXFxuLSBBIGxpYnJhcnkgcHJlLWJ1bmRsZWQgYW4gb2xkIGNvcHkgb2YgXCJyZWFjdFwiIG9yIFwicmVhY3QvanN4LXJ1bnRpbWVcIi5cXG4tIEEgY29tcGlsZXIgdHJpZXMgdG8gXCJpbmxpbmVcIiBKU1ggaW5zdGVhZCBvZiB1c2luZyB0aGUgcnVudGltZS4nXG4gICAgICAgICk7XG4gICAgICByZXR1cm5GaWJlciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZCk7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAoXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKG5ld0NoaWxkKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgOiByZXR1cm5GaWJlcikgK1xuICAgICAgICAgIFwiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIGludmFsaWRDaGlsZCkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW3BhcmVudE5hbWVdIHx8XG4gICAgICAgICgob3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW3BhcmVudE5hbWVdID0gITApLFxuICAgICAgICAoaW52YWxpZENoaWxkID1cbiAgICAgICAgICBpbnZhbGlkQ2hpbGQuZGlzcGxheU5hbWUgfHwgaW52YWxpZENoaWxkLm5hbWUgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgIDMgPT09IHJldHVybkZpYmVyLnRhZ1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgeW91IHJldHVybiAlcyBpbnN0ZWFkIG9mIDwlcyAvPiBmcm9tIHJlbmRlci4gT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuXFxuICByb290LnJlbmRlciglcylcIixcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgeW91IHJldHVybiAlcyBpbnN0ZWFkIG9mIDwlcyAvPiBmcm9tIHJlbmRlci4gT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuXFxuICA8JXM+eyVzfTwvJXM+XCIsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWVcbiAgICAgICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBpbnZhbGlkQ2hpbGQpIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihyZXR1cm5GaWJlcikgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgIG93bmVySGFzU3ltYm9sVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gfHxcbiAgICAgICAgKChvd25lckhhc1N5bWJvbFR5cGVXYXJuaW5nW3BhcmVudE5hbWVdID0gITApLFxuICAgICAgICAoaW52YWxpZENoaWxkID0gU3RyaW5nKGludmFsaWRDaGlsZCkpLFxuICAgICAgICAzID09PSByZXR1cm5GaWJlci50YWdcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU3ltYm9scyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuXFxuICByb290LnJlbmRlciglcylcIixcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlN5bWJvbHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLlxcbiAgPCVzPiVzPC8lcz5cIixcbiAgICAgICAgICAgICAgcGFyZW50TmFtZSxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lXG4gICAgICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRSZWNvbmNpbGVyKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZFRvRGVsZXRlKSB7XG4gICAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgICAgdmFyIGRlbGV0aW9ucyA9IHJldHVybkZpYmVyLmRlbGV0aW9ucztcbiAgICAgICAgICBudWxsID09PSBkZWxldGlvbnNcbiAgICAgICAgICAgID8gKChyZXR1cm5GaWJlci5kZWxldGlvbnMgPSBbY2hpbGRUb0RlbGV0ZV0pLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIuZmxhZ3MgfD0gMTYpKVxuICAgICAgICAgICAgOiBkZWxldGlvbnMucHVzaChjaGlsZFRvRGVsZXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykgcmV0dXJuIG51bGw7XG4gICAgICAgIGZvciAoOyBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDsgKVxuICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCksXG4gICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBtYXBSZW1haW5pbmdDaGlsZHJlbihjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgICAgICBmb3IgKHZhciBleGlzdGluZ0NoaWxkcmVuID0gbmV3IE1hcCgpOyBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDsgKVxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkLmtleVxuICAgICAgICAgICAgPyBleGlzdGluZ0NoaWxkcmVuLnNldChjdXJyZW50Rmlyc3RDaGlsZC5rZXksIGN1cnJlbnRGaXJzdENoaWxkKVxuICAgICAgICAgICAgOiBleGlzdGluZ0NoaWxkcmVuLnNldChjdXJyZW50Rmlyc3RDaGlsZC5pbmRleCwgY3VycmVudEZpcnN0Q2hpbGQpLFxuICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZyk7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0NoaWxkcmVuO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXNlRmliZXIoZmliZXIsIHBlbmRpbmdQcm9wcykge1xuICAgICAgICBmaWJlciA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGZpYmVyLCBwZW5kaW5nUHJvcHMpO1xuICAgICAgICBmaWJlci5pbmRleCA9IDA7XG4gICAgICAgIGZpYmVyLnNpYmxpbmcgPSBudWxsO1xuICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgICAgIG5ld0ZpYmVyLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cylcbiAgICAgICAgICByZXR1cm4gKG5ld0ZpYmVyLmZsYWdzIHw9IDEwNDg1NzYpLCBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICAgIG5ld0luZGV4ID0gbmV3RmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmV3SW5kZXgpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChuZXdJbmRleCA9IG5ld0luZGV4LmluZGV4KSxcbiAgICAgICAgICAgIG5ld0luZGV4IDwgbGFzdFBsYWNlZEluZGV4XG4gICAgICAgICAgICAgID8gKChuZXdGaWJlci5mbGFncyB8PSAzMzU1NDQzNCksIGxhc3RQbGFjZWRJbmRleClcbiAgICAgICAgICAgICAgOiBuZXdJbmRleFxuICAgICAgICAgICk7XG4gICAgICAgIG5ld0ZpYmVyLmZsYWdzIHw9IDMzNTU0NDM0O1xuICAgICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcGxhY2VTaW5nbGVDaGlsZChuZXdGaWJlcikge1xuICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgbnVsbCA9PT0gbmV3RmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgKG5ld0ZpYmVyLmZsYWdzIHw9IDMzNTU0NDM0KTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpYmVyO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnQsIHRleHRDb250ZW50LCBsYW5lcykge1xuICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCA2ICE9PSBjdXJyZW50LnRhZylcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICAgICAgICB0ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIHRleHRDb250ZW50KTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50LCBsYW5lcykge1xuICAgICAgICB2YXIgZWxlbWVudFR5cGUgPSBlbGVtZW50LnR5cGU7XG4gICAgICAgIGlmIChlbGVtZW50VHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBlbGVtZW50LmtleVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCwgY3VycmVudCwgcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgKGN1cnJlbnQuZWxlbWVudFR5cGUgPT09IGVsZW1lbnRUeXBlIHx8XG4gICAgICAgICAgICBpc0NvbXBhdGlibGVGYW1pbHlGb3JIb3RSZWxvYWRpbmcoY3VycmVudCwgZWxlbWVudCkgfHxcbiAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgZWxlbWVudFR5cGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gZWxlbWVudFR5cGUgJiZcbiAgICAgICAgICAgICAgZWxlbWVudFR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICBjYWxsTGF6eUluaXRJbkRFVihlbGVtZW50VHlwZSkgPT09IGN1cnJlbnQudHlwZSkpXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCBlbGVtZW50LnByb3BzKSksXG4gICAgICAgICAgICBjb2VyY2VSZWYoY3VycmVudCwgZWxlbWVudCksXG4gICAgICAgICAgICAoY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBsYW5lcyk7XG4gICAgICAgIGNvZXJjZVJlZihjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnQsIHBvcnRhbCwgbGFuZXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICA0ICE9PSBjdXJyZW50LnRhZyB8fFxuICAgICAgICAgIGN1cnJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gIT09IHBvcnRhbC5jb250YWluZXJJbmZvIHx8XG4gICAgICAgICAgY3VycmVudC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gIT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKHBvcnRhbCwgcmV0dXJuRmliZXIubW9kZSwgbGFuZXMpKSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gdXNlRmliZXIoY3VycmVudCwgcG9ydGFsLmNoaWxkcmVuIHx8IFtdKTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgY3VycmVudCwgZnJhZ21lbnQsIGxhbmVzLCBrZXkpIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQgfHwgNyAhPT0gY3VycmVudC50YWcpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCBmcmFnbWVudCk7XG4gICAgICAgIGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBsYW5lcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobmV3Q2hpbGQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICAgICAgICBcIlwiICsgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChuZXdDaGlsZC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAobmV3Q2hpbGQuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAobmV3Q2hpbGQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgbmV3Q2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgY29lcmNlUmVmKGxhbmVzLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgdmFyIF9wcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgICAgbmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCk7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBsYW5lcyk7XG4gICAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbztcbiAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoX3ByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gY3JlYXRlQ2hpbGQoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2hpbGQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKHJldHVybkZpYmVyLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBsYW5lcykge1xuICAgICAgICB2YXIga2V5ID0gbnVsbCAhPT0gb2xkRmliZXIgPyBvbGRGaWJlci5rZXkgOiBudWxsO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBudWxsICE9PSBrZXlcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgb2xkRmliZXIsIFwiXCIgKyBuZXdDaGlsZCwgbGFuZXMpO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiBuZXdDaGlsZC5rZXkgPT09IGtleVxuICAgICAgICAgICAgICAgID8gKChrZXkgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0ga2V5KSxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiBuZXdDaGlsZC5rZXkgPT09IGtleVxuICAgICAgICAgICAgICAgID8gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGxhbmVzKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChrZXkgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCkpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0ga2V5KSxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0ga2V5KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBrZXk7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVTbG90KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBrZXkpLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVTbG90KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVGcm9tTWFwKFxuICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgbmV3SWR4LFxuICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbCksXG4gICAgICAgICAgICB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgZXhpc3RpbmdDaGlsZHJlbiwgXCJcIiArIG5ld0NoaWxkLCBsYW5lcylcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKG5ld0lkeCA9XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLmdldChcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3Q2hpbGQua2V5ID8gbmV3SWR4IDogbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICAgICAgICApIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIChleGlzdGluZ0NoaWxkcmVuID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gZXhpc3RpbmdDaGlsZHJlbiksXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPVxuICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5nZXQoXG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT09IG5ld0NoaWxkLmtleSA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleVxuICAgICAgICAgICAgICAgICAgKSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGV4aXN0aW5nQ2hpbGRyZW4sIG5ld0NoaWxkLCBsYW5lcylcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICB2YXIgX3ByZXZEZWJ1Z0luZm83ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgICAgbmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCk7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gX3ByZXZEZWJ1Z0luZm83O1xuICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAobmV3SWR4ID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gZXhpc3RpbmdDaGlsZHJlbiksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKF9wcmV2RGVidWdJbmZvNyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbzcpLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKHJldHVybkZpYmVyLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZEtleShyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkLCBrbm93bktleXMpIHtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiBjaGlsZCB8fCBudWxsID09PSBjaGlsZCkgcmV0dXJuIGtub3duS2V5cztcbiAgICAgICAgc3dpdGNoIChjaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICB3YXJuRm9yTWlzc2luZ0tleShyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIGtleSkgYnJlYWs7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0ga25vd25LZXlzKSB7XG4gICAgICAgICAgICAgIGtub3duS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgha25vd25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVih3b3JrSW5Qcm9ncmVzcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCBgJXNgLiBLZXlzIHNob3VsZCBiZSB1bmlxdWUgc28gdGhhdCBjb21wb25lbnRzIG1haW50YWluIHRoZWlyIGlkZW50aXR5IGFjcm9zcyB1cGRhdGVzLiBOb24tdW5pcXVlIGtleXMgbWF5IGNhdXNlIGNoaWxkcmVuIHRvIGJlIGR1cGxpY2F0ZWQgYW5kL29yIG9taXR0ZWQgXFx1MjAxNCB0aGUgYmVoYXZpb3IgaXMgdW5zdXBwb3J0ZWQgYW5kIGNvdWxkIGNoYW5nZSBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlwiLFxuICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIChjaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKGNoaWxkKSksXG4gICAgICAgICAgICAgIHdhcm5PbkludmFsaWRLZXkocmV0dXJuRmliZXIsIHdvcmtJblByb2dyZXNzLCBjaGlsZCwga25vd25LZXlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga25vd25LZXlzO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICBuZXdDaGlsZHJlbixcbiAgICAgICAgbGFuZXNcbiAgICAgICkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBrbm93bktleXMgPSBudWxsLFxuICAgICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGwsXG4gICAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbnVsbCxcbiAgICAgICAgICAgIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBuZXdJZHggPSAoY3VycmVudEZpcnN0Q2hpbGQgPSAwKSxcbiAgICAgICAgICAgIG5leHRPbGRGaWJlciA9IG51bGw7XG4gICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiYgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIG5ld0lkeCsrXG4gICAgICAgICkge1xuICAgICAgICAgIG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4XG4gICAgICAgICAgICA/ICgobmV4dE9sZEZpYmVyID0gb2xkRmliZXIpLCAob2xkRmliZXIgPSBudWxsKSlcbiAgICAgICAgICAgIDogKG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gbmV3RmliZXIpIHtcbiAgICAgICAgICAgIG51bGwgPT09IG9sZEZpYmVyICYmIChvbGRGaWJlciA9IG5leHRPbGRGaWJlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3RmliZXIsXG4gICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICBvbGRGaWJlciAmJlxuICAgICAgICAgICAgbnVsbCA9PT0gbmV3RmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChuZXdGaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0lkeCk7XG4gICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyKVxuICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXIpO1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBuZXdGaWJlcjtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SWR4ID09PSBuZXdDaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlciksXG4gICAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCksXG4gICAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKG51bGwgPT09IG9sZEZpYmVyKSB7XG4gICAgICAgICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspXG4gICAgICAgICAgICAob2xkRmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGRyZW5bbmV3SWR4XSwgbGFuZXMpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG9sZEZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gb2xkRmliZXIpLFxuICAgICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gb2xkRmliZXIpKTtcbiAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChcbiAgICAgICAgICBvbGRGaWJlciA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKG9sZEZpYmVyKTtcbiAgICAgICAgICBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgbmV3SWR4KytcbiAgICAgICAgKVxuICAgICAgICAgIChuZXh0T2xkRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICkpLFxuICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyICYmXG4gICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgb2xkRmliZXIuZGVsZXRlKFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV4dE9sZEZpYmVyLmtleSA/IG5ld0lkeCA6IG5leHRPbGRGaWJlci5rZXlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV4dE9sZEZpYmVyKVxuICAgICAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5leHRPbGRGaWJlciksXG4gICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gbmV4dE9sZEZpYmVyKSk7XG4gICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICBvbGRGaWJlci5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkcmVuLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChudWxsID09IG5ld0NoaWxkcmVuKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiQW4gaXRlcmFibGUgb2JqZWN0IHByb3ZpZGVkIG5vIGl0ZXJhdG9yLlwiKTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGwsXG4gICAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbnVsbCxcbiAgICAgICAgICAgIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBuZXdJZHggPSAoY3VycmVudEZpcnN0Q2hpbGQgPSAwKSxcbiAgICAgICAgICAgIG5leHRPbGRGaWJlciA9IG51bGwsXG4gICAgICAgICAgICBrbm93bktleXMgPSBudWxsLFxuICAgICAgICAgICAgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKTtcbiAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJiAhc3RlcC5kb25lO1xuICAgICAgICAgIG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpXG4gICAgICAgICkge1xuICAgICAgICAgIG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4XG4gICAgICAgICAgICA/ICgobmV4dE9sZEZpYmVyID0gb2xkRmliZXIpLCAob2xkRmliZXIgPSBudWxsKSlcbiAgICAgICAgICAgIDogKG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBzdGVwLnZhbHVlLCBsYW5lcyk7XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5ld0ZpYmVyKSB7XG4gICAgICAgICAgICBudWxsID09PSBvbGRGaWJlciAmJiAob2xkRmliZXIgPSBuZXh0T2xkRmliZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0ZpYmVyLFxuICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgICAgb2xkRmliZXIgJiZcbiAgICAgICAgICAgIG51bGwgPT09IG5ld0ZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQobmV3RmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdJZHgpO1xuICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcilcbiAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyKTtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXAuZG9uZSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKSxcbiAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KSxcbiAgICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gb2xkRmliZXIpIHtcbiAgICAgICAgICBmb3IgKDsgIXN0ZXAuZG9uZTsgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCkpXG4gICAgICAgICAgICAob2xkRmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgc3RlcC52YWx1ZSwgbGFuZXMpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG9sZEZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gb2xkRmliZXIpLFxuICAgICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gb2xkRmliZXIpKTtcbiAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChcbiAgICAgICAgICBvbGRGaWJlciA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKG9sZEZpYmVyKTtcbiAgICAgICAgICAhc3RlcC5kb25lO1xuICAgICAgICAgIG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpXG4gICAgICAgIClcbiAgICAgICAgICAobmV4dE9sZEZpYmVyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApKSxcbiAgICAgICAgICAgIG51bGwgIT09IG5leHRPbGRGaWJlciAmJlxuICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV4dE9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgIG9sZEZpYmVyLmRlbGV0ZShcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IG5leHRPbGRGaWJlci5rZXkgPyBuZXdJZHggOiBuZXh0T2xkRmliZXIua2V5XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5leHRPbGRGaWJlcilcbiAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXh0T2xkRmliZXIpLFxuICAgICAgICAgICAgICAocHJldmlvdXNOZXdGaWJlciA9IG5leHRPbGRGaWJlcikpO1xuICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgb2xkRmliZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIG51bGwgIT09IG5ld0NoaWxkICYmXG4gICAgICAgICAgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSAmJlxuICAgICAgICAgIG51bGwgPT09IG5ld0NoaWxkLmtleSAmJlxuICAgICAgICAgICh2YWxpZGF0ZUZyYWdtZW50UHJvcHMobmV3Q2hpbGQsIG51bGwsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAobmV3Q2hpbGQgPSBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbikpO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHZhciBwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSA9IG5ld0NoaWxkLmtleTsgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQ7ICkge1xuICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGaXJzdENoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG5ld0NoaWxkLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoNyA9PT0gY3VycmVudEZpcnN0Q2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcyA9IHVzZUZpYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLl9kZWJ1Z093bmVyID0gbmV3Q2hpbGQuX293bmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMobmV3Q2hpbGQsIGxhbmVzLCByZXR1cm5GaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuZWxlbWVudFR5cGUgPT09IGtleSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBrZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5LiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxMYXp5SW5pdEluREVWKGtleSkgPT09IGN1cnJlbnRGaXJzdENoaWxkLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyA9IHVzZUZpYmVyKGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZC5wcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgY29lcmNlUmVmKGxhbmVzLCBuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnT3duZXIgPSBuZXdDaGlsZC5fb3duZXI7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBsYW5lcztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEVcbiAgICAgICAgICAgICAgICAgID8gKChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhuZXdDaGlsZCwgbGFuZXMsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKVxuICAgICAgICAgICAgICAgICAgOiAoKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICBjb2VyY2VSZWYobGFuZXMsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IHBsYWNlU2luZ2xlQ2hpbGQocmV0dXJuRmliZXIpO1xuICAgICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbztcbiAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8gPSBuZXdDaGlsZDtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQgPSBwcmV2RGVidWdJbmZvLmtleTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkO1xuXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZpcnN0Q2hpbGQua2V5ID09PSBuZXdDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIDQgPT09IGN1cnJlbnRGaXJzdENoaWxkLnRhZyAmJlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnN0YXRlTm9kZS5jb250YWluZXJJbmZvID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mby5jb250YWluZXJJbmZvICYmXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mby5pbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZ1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMgPSB1c2VGaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mby5jaGlsZHJlbiB8fCBbXVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBsYW5lcztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2UgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFuZXMgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwoXG4gICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkID0gY2FsbExhenlJbml0SW5ERVYobmV3Q2hpbGQpKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5ld0NoaWxkKSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbyksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICAgICAgcHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICBrZXkgPSBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBrZXkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiQW4gb2JqZWN0IGlzIG5vdCBhbiBpdGVyYWJsZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0ga2V5LmNhbGwobmV3Q2hpbGQpO1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkcmVuID09PSBuZXdDaGlsZCkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgMCAhPT0gcmV0dXJuRmliZXIudGFnIHx8XG4gICAgICAgICAgICAgICAgXCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiICE9PVxuICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJldHVybkZpYmVyLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgXCJbb2JqZWN0IEdlbmVyYXRvcl1cIiAhPT1cbiAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZHJlbilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dEdlbmVyYXRvcnMgfHxcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiVXNpbmcgSXRlcmF0b3JzIGFzIGNoaWxkcmVuIGlzIHVuc3VwcG9ydGVkIGFuZCB3aWxsIGxpa2VseSB5aWVsZCB1bmV4cGVjdGVkIHJlc3VsdHMgYmVjYXVzZSBlbnVtZXJhdGluZyBhIGdlbmVyYXRvciBtdXRhdGVzIGl0LiBZb3UgbWF5IGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgd2l0aCBgQXJyYXkuZnJvbSgpYCBvciB0aGUgYFsuLi5zcHJlYWRdYCBvcGVyYXRvciBiZWZvcmUgcmVuZGVyaW5nLiBZb3UgY2FuIGFsc28gdXNlIGFuIEl0ZXJhYmxlIHRoYXQgY2FuIGl0ZXJhdGUgbXVsdGlwbGUgdGltZXMgb3ZlciB0aGUgc2FtZSBpdGVtcy5cIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRHZW5lcmF0b3JzID0gITApO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIG5ld0NoaWxkLmVudHJpZXMgIT09IGtleSB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSk7XG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgbmV3Q2hpbGRyZW4sXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm87XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgXCJcIiAhPT0gbmV3Q2hpbGQpIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG5ld0NoaWxkIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIG5ld0NoaWxkXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBcIlwiICsgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQgJiYgNiA9PT0gY3VycmVudEZpcnN0Q2hpbGQudGFnXG4gICAgICAgICAgICAgID8gKGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAobGFuZXMgPSB1c2VGaWJlcihjdXJyZW50Rmlyc3RDaGlsZCwgcHJldkRlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKVxuICAgICAgICAgICAgICA6IChkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpLFxuICAgICAgICAgICAgICAgIChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpLFxuICAgICAgICAgICAgcGxhY2VTaW5nbGVDaGlsZChyZXR1cm5GaWJlcilcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiAocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgbGFuZXMpIHtcbiAgICAgICAgdmFyIHByZXZEZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMDtcbiAgICAgICAgICB2YXIgZmlyc3RDaGlsZEZpYmVyID0gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoZW5hYmxlU3RhdGUkMSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIGZpcnN0Q2hpbGRGaWJlcjtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIGlmICh4ID09PSBTdXNwZW5zZUV4Y2VwdGlvbikgdGhyb3cgeDtcbiAgICAgICAgICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcigyOSwgeCwgbnVsbCwgcmV0dXJuRmliZXIubW9kZSk7XG4gICAgICAgICAgZmliZXIubGFuZXMgPSBsYW5lcztcbiAgICAgICAgICBmaWJlci5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICB2YXIgZGVidWdJbmZvID0gKGZpYmVyLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKTtcbiAgICAgICAgICBmaWJlci5fZGVidWdPd25lciA9IHJldHVybkZpYmVyLl9kZWJ1Z093bmVyO1xuICAgICAgICAgIGlmIChudWxsICE9IGRlYnVnSW5mbylcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWJ1Z0luZm8ubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgZGVidWdJbmZvW2ldLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgZmliZXIuX2RlYnVnT3duZXIgPSBkZWJ1Z0luZm9baV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm87XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hIaWRkZW5Db250ZXh0KGZpYmVyLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzID0gZW50YW5nbGVkUmVuZGVyTGFuZXM7XG4gICAgICBwdXNoKHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvciwgcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzLCBmaWJlcik7XG4gICAgICBwdXNoKGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IsIGNvbnRleHQsIGZpYmVyKTtcbiAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzID0gcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzIHwgY29udGV4dC5iYXNlTGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2soZmliZXIpIHtcbiAgICAgIHB1c2gocHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLCBlbnRhbmdsZWRSZW5kZXJMYW5lcywgZmliZXIpO1xuICAgICAgcHVzaChcbiAgICAgICAgY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvcixcbiAgICAgICAgY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvci5jdXJyZW50LFxuICAgICAgICBmaWJlclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSGlkZGVuQ29udGV4dChmaWJlcikge1xuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IuY3VycmVudDtcbiAgICAgIHBvcChjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwb3AocHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGhhbmRsZXIuYWx0ZXJuYXRlO1xuICAgICAgcHVzaChcbiAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvcixcbiAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50ICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2ssXG4gICAgICAgIGhhbmRsZXJcbiAgICAgICk7XG4gICAgICBwdXNoKHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLCBoYW5kbGVyLCBoYW5kbGVyKTtcbiAgICAgIG51bGwgPT09IHNoZWxsQm91bmRhcnkgJiZcbiAgICAgICAgKG51bGwgPT09IGN1cnJlbnQgfHwgbnVsbCAhPT0gY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvci5jdXJyZW50XG4gICAgICAgICAgPyAoc2hlbGxCb3VuZGFyeSA9IGhhbmRsZXIpXG4gICAgICAgICAgOiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiYgKHNoZWxsQm91bmRhcnkgPSBoYW5kbGVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hPZmZzY3JlZW5TdXNwZW5zZUhhbmRsZXIoZmliZXIpIHtcbiAgICAgIGlmICgyMiA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAocHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQsIGZpYmVyKSxcbiAgICAgICAgICBwdXNoKHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpLFxuICAgICAgICAgIG51bGwgPT09IHNoZWxsQm91bmRhcnkpXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgKHNoZWxsQm91bmRhcnkgPSBmaWJlcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2soZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2soZmliZXIpIHtcbiAgICAgIHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50LCBmaWJlcik7XG4gICAgICBwdXNoKFxuICAgICAgICBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvcixcbiAgICAgICAgc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCxcbiAgICAgICAgZmliZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFN1c3BlbnNlSGFuZGxlcihmaWJlcikge1xuICAgICAgcG9wKHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBzaGVsbEJvdW5kYXJ5ID09PSBmaWJlciAmJiAoc2hlbGxCb3VuZGFyeSA9IG51bGwpO1xuICAgICAgcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEZpcnN0U3VzcGVuZGVkKHJvdykge1xuICAgICAgZm9yICh2YXIgbm9kZSA9IHJvdzsgbnVsbCAhPT0gbm9kZTsgKSB7XG4gICAgICAgIGlmICgxMyA9PT0gbm9kZS50YWcpIHtcbiAgICAgICAgICB2YXIgc3RhdGUgPSBub2RlLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCAhPT0gc3RhdGUgJiZcbiAgICAgICAgICAgICgoc3RhdGUgPSBzdGF0ZS5kZWh5ZHJhdGVkKSxcbiAgICAgICAgICAgIG51bGwgPT09IHN0YXRlIHx8XG4gICAgICAgICAgICAgIHN0YXRlLmRhdGEgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgICBzdGF0ZS5kYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIDE5ID09PSBub2RlLnRhZyAmJlxuICAgICAgICAgIHZvaWQgMCAhPT0gbm9kZS5tZW1vaXplZFByb3BzLnJldmVhbE9yZGVyXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICgwICE9PSAobm9kZS5mbGFncyAmIDEyOCkpIHJldHVybiBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKG51bGwgIT09IG5vZGUuY2hpbGQpIHtcbiAgICAgICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgPT09IHJvdykgYnJlYWs7XG4gICAgICAgIGZvciAoOyBudWxsID09PSBub2RlLnNpYmxpbmc7ICkge1xuICAgICAgICAgIGlmIChudWxsID09PSBub2RlLnJldHVybiB8fCBub2RlLnJldHVybiA9PT0gcm93KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlckxvY2FsKCksXG4gICAgICAgIGRhdGE6IG5ldyBNYXAoKSxcbiAgICAgICAgcmVmQ291bnQ6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldGFpbkNhY2hlKGNhY2hlKSB7XG4gICAgICBjYWNoZS5jb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkEgY2FjaGUgaW5zdGFuY2Ugd2FzIHJldGFpbmVkIGFmdGVyIGl0IHdhcyBhbHJlYWR5IGZyZWVkLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIGNhY2hlLnJlZkNvdW50Kys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbGVhc2VDYWNoZShjYWNoZSkge1xuICAgICAgY2FjaGUucmVmQ291bnQtLTtcbiAgICAgIDAgPiBjYWNoZS5yZWZDb3VudCAmJlxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJBIGNhY2hlIGluc3RhbmNlIHdhcyByZWxlYXNlZCBhZnRlciBpdCB3YXMgYWxyZWFkeSBmcmVlZC4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICk7XG4gICAgICAwID09PSBjYWNoZS5yZWZDb3VudCAmJlxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrJDIoTm9ybWFsUHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYWNoZS5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRhbmdsZUFzeW5jQWN0aW9uKHRyYW5zaXRpb24sIHRoZW5hYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudEVudGFuZ2xlZExpc3RlbmVycykge1xuICAgICAgICB2YXIgZW50YW5nbGVkTGlzdGVuZXJzID0gKGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnMgPSBbXSk7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkTGFuZSA9IHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSB7XG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICB2YWx1ZTogdm9pZCAwLFxuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBlbnRhbmdsZWRMaXN0ZW5lcnMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjdXJyZW50RW50YW5nbGVkUGVuZGluZ0NvdW50Kys7XG4gICAgICB0aGVuYWJsZS50aGVuKHBpbmdFbmd0YW5nbGVkQWN0aW9uU2NvcGUsIHBpbmdFbmd0YW5nbGVkQWN0aW9uU2NvcGUpO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwaW5nRW5ndGFuZ2xlZEFjdGlvblNjb3BlKCkge1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSAtLWN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudEVudGFuZ2xlZExpc3RlbmVyc1xuICAgICAgKSB7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSAmJlxuICAgICAgICAgIChjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIik7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzID0gbnVsbDtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZExhbmUgPSAwO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgKDAsIGxpc3RlbmVyc1tpXSkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhaW5UaGVuYWJsZVZhbHVlKHRoZW5hYmxlLCByZXN1bHQpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXSxcbiAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUgPSB7XG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICByZWFzb246IG51bGwsXG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHJlc29sdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnZhbHVlID0gcmVzdWx0O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSAoMCwgbGlzdGVuZXJzW2ldKShyZXN1bHQpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUucmVhc29uID0gZXJyb3I7XG4gICAgICAgICAgZm9yIChlcnJvciA9IDA7IGVycm9yIDwgbGlzdGVuZXJzLmxlbmd0aDsgZXJyb3IrKylcbiAgICAgICAgICAgICgwLCBsaXN0ZW5lcnNbZXJyb3JdKSh2b2lkIDApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlV2l0aE92ZXJyaWRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWVrQ2FjaGVGcm9tUG9vbCgpIHtcbiAgICAgIHZhciBjYWNoZVJlc3VtZWRGcm9tUHJldmlvdXNSZW5kZXIgPSByZXN1bWVkQ2FjaGUuY3VycmVudDtcbiAgICAgIHJldHVybiBudWxsICE9PSBjYWNoZVJlc3VtZWRGcm9tUHJldmlvdXNSZW5kZXJcbiAgICAgICAgPyBjYWNoZVJlc3VtZWRGcm9tUHJldmlvdXNSZW5kZXJcbiAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc1Jvb3QucG9vbGVkQ2FjaGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hUcmFuc2l0aW9uKG9mZnNjcmVlbldvcmtJblByb2dyZXNzLCBwcmV2Q2FjaGVQb29sKSB7XG4gICAgICBudWxsID09PSBwcmV2Q2FjaGVQb29sXG4gICAgICAgID8gcHVzaChyZXN1bWVkQ2FjaGUsIHJlc3VtZWRDYWNoZS5jdXJyZW50LCBvZmZzY3JlZW5Xb3JrSW5Qcm9ncmVzcylcbiAgICAgICAgOiBwdXNoKHJlc3VtZWRDYWNoZSwgcHJldkNhY2hlUG9vbC5wb29sLCBvZmZzY3JlZW5Xb3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1c3BlbmRlZENhY2hlKCkge1xuICAgICAgdmFyIGNhY2hlRnJvbVBvb2wgPSBwZWVrQ2FjaGVGcm9tUG9vbCgpO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGNhY2hlRnJvbVBvb2xcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogeyBwYXJlbnQ6IENhY2hlQ29udGV4dC5fY3VycmVudFZhbHVlLCBwb29sOiBjYWNoZUZyb21Qb29sIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SG9va1R5cGVzRGV2KCkge1xuICAgICAgdmFyIGhvb2tOYW1lID0gY3VycmVudEhvb2tOYW1lSW5EZXY7XG4gICAgICBudWxsID09PSBob29rVHlwZXNEZXZcbiAgICAgICAgPyAoaG9va1R5cGVzRGV2ID0gW2hvb2tOYW1lXSlcbiAgICAgICAgOiBob29rVHlwZXNEZXYucHVzaChob29rTmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUhvb2tUeXBlc0RldigpIHtcbiAgICAgIHZhciBob29rTmFtZSA9IGN1cnJlbnRIb29rTmFtZUluRGV2O1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBob29rVHlwZXNEZXYgJiZcbiAgICAgICAgKGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2KyssXG4gICAgICAgIGhvb2tUeXBlc0Rldltob29rVHlwZXNVcGRhdGVJbmRleERldl0gIT09IGhvb2tOYW1lKVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihcbiAgICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhZGlkV2FybkFib3V0TWlzbWF0Y2hlZEhvb2tzRm9yQ29tcG9uZW50Lmhhcyhjb21wb25lbnROYW1lKSAmJlxuICAgICAgICAgIChkaWRXYXJuQWJvdXRNaXNtYXRjaGVkSG9va3NGb3JDb21wb25lbnQuYWRkKGNvbXBvbmVudE5hbWUpLFxuICAgICAgICAgIG51bGwgIT09IGhvb2tUeXBlc0RldilcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yICh2YXIgdGFibGUgPSBcIlwiLCBpID0gMDsgaSA8PSBob29rVHlwZXNVcGRhdGVJbmRleERldjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2xkSG9va05hbWUgPSBob29rVHlwZXNEZXZbaV0sXG4gICAgICAgICAgICAgIG5ld0hvb2tOYW1lID1cbiAgICAgICAgICAgICAgICBpID09PSBob29rVHlwZXNVcGRhdGVJbmRleERldiA/IGhvb2tOYW1lIDogb2xkSG9va05hbWU7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBvbGRIb29rTmFtZSA9IGkgKyAxICsgXCIuIFwiICsgb2xkSG9va05hbWU7XG4gICAgICAgICAgICAgIDMwID4gb2xkSG9va05hbWUubGVuZ3RoO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIG9sZEhvb2tOYW1lICs9IFwiIFwiO1xuICAgICAgICAgICAgb2xkSG9va05hbWUgKz0gbmV3SG9va05hbWUgKyBcIlxcblwiO1xuICAgICAgICAgICAgdGFibGUgKz0gb2xkSG9va05hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IGhhcyBkZXRlY3RlZCBhIGNoYW5nZSBpbiB0aGUgb3JkZXIgb2YgSG9va3MgY2FsbGVkIGJ5ICVzLiBUaGlzIHdpbGwgbGVhZCB0byBidWdzIGFuZCBlcnJvcnMgaWYgbm90IGZpeGVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcmVhZCB0aGUgUnVsZXMgb2YgSG9va3M6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcnVsZXMtb2YtaG9va3NcXG5cXG4gICBQcmV2aW91cyByZW5kZXIgICAgICAgICAgICBOZXh0IHJlbmRlclxcbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiVzICAgXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXFxuXCIsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgdGFibGVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gZGVwcyB8fFxuICAgICAgICBudWxsID09PSBkZXBzIHx8XG4gICAgICAgIGlzQXJyYXlJbXBsKGRlcHMpIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyByZWNlaXZlZCBhIGZpbmFsIGFyZ3VtZW50IHRoYXQgaXMgbm90IGFuIGFycmF5IChpbnN0ZWFkLCByZWNlaXZlZCBgJXNgKS4gV2hlbiBzcGVjaWZpZWQsIHRoZSBmaW5hbCBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5LlwiLFxuICAgICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2LFxuICAgICAgICAgIHR5cGVvZiBkZXBzXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEpO1xuICAgICAgZGlkV2FybkFib3V0VXNlRm9ybVN0YXRlLmhhcyhjb21wb25lbnROYW1lKSB8fFxuICAgICAgICAoZGlkV2FybkFib3V0VXNlRm9ybVN0YXRlLmFkZChjb21wb25lbnROYW1lKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0RE9NLnVzZUZvcm1TdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFJlYWN0LnVzZUFjdGlvblN0YXRlLiBQbGVhc2UgdXBkYXRlICVzIHRvIHVzZSBSZWFjdC51c2VBY3Rpb25TdGF0ZS5cIixcbiAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0ludmFsaWRIb29rRXJyb3IoKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFyZUhvb2tJbnB1dHNFcXVhbChuZXh0RGVwcywgcHJldkRlcHMpIHtcbiAgICAgIGlmIChpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcykgcmV0dXJuICExO1xuICAgICAgaWYgKG51bGwgPT09IHByZXZEZXBzKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIHJlY2VpdmVkIGEgZmluYWwgYXJndW1lbnQgZHVyaW5nIHRoaXMgcmVuZGVyLCBidXQgbm90IGR1cmluZyB0aGUgcHJldmlvdXMgcmVuZGVyLiBFdmVuIHRob3VnaCB0aGUgZmluYWwgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGl0cyB0eXBlIGNhbm5vdCBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzLlwiLFxuICAgICAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXZcbiAgICAgICAgICApLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgICBuZXh0RGVwcy5sZW5ndGggIT09IHByZXZEZXBzLmxlbmd0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIGZpbmFsIGFyZ3VtZW50IHBhc3NlZCB0byAlcyBjaGFuZ2VkIHNpemUgYmV0d2VlbiByZW5kZXJzLiBUaGUgb3JkZXIgYW5kIHNpemUgb2YgdGhpcyBhcnJheSBtdXN0IHJlbWFpbiBjb25zdGFudC5cXG5cXG5QcmV2aW91czogJXNcXG5JbmNvbWluZzogJXNcIixcbiAgICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldixcbiAgICAgICAgICBcIltcIiArIHByZXZEZXBzLmpvaW4oXCIsIFwiKSArIFwiXVwiLFxuICAgICAgICAgIFwiW1wiICsgbmV4dERlcHMuam9pbihcIiwgXCIpICsgXCJdXCJcbiAgICAgICAgKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldkRlcHMubGVuZ3RoICYmIGkgPCBuZXh0RGVwcy5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCFvYmplY3RJcyhuZXh0RGVwc1tpXSwgcHJldkRlcHNbaV0pKSByZXR1cm4gITE7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlcldpdGhIb29rcyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIHByb3BzLFxuICAgICAgc2Vjb25kQXJnLFxuICAgICAgbmV4dFJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICByZW5kZXJMYW5lcyA9IG5leHRSZW5kZXJMYW5lcztcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIGhvb2tUeXBlc0RldiA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Ll9kZWJ1Z0hvb2tUeXBlcyA6IG51bGw7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIGN1cnJlbnQudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXCIgPT09XG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKENvbXBvbmVudCkgfHxcbiAgICAgICAgXCJbb2JqZWN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb25dXCIgPT09XG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKENvbXBvbmVudClcbiAgICAgIClcbiAgICAgICAgKG5leHRSZW5kZXJMYW5lcyA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoXG4gICAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMVxuICAgICAgICApKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRBc3luY0NsaWVudENvbXBvbmVudC5oYXMobmV4dFJlbmRlckxhbmVzKSB8fFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50LmFkZChuZXh0UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJhc3luYy9hd2FpdCBpcyBub3QgeWV0IHN1cHBvcnRlZCBpbiBDbGllbnQgQ29tcG9uZW50cywgb25seSBTZXJ2ZXIgQ29tcG9uZW50cy4gVGhpcyBlcnJvciBpcyBvZnRlbiBjYXVzZWQgYnkgYWNjaWRlbnRhbGx5IGFkZGluZyBgJ3VzZSBjbGllbnQnYCB0byBhIG1vZHVsZSB0aGF0IHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gZm9yIHRoZSBzZXJ2ZXIuXCJcbiAgICAgICAgICAgICkpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDA7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICA/IEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVZcbiAgICAgICAgICA6IG51bGwgIT09IGhvb2tUeXBlc0RldlxuICAgICAgICAgICAgPyBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWXG4gICAgICAgICAgICA6IEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgIHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWID0gbmV4dFJlbmRlckxhbmVzID1cbiAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSAhPT0gTm9Nb2RlO1xuICAgICAgdmFyIGNoaWxkcmVuID0gY2FsbENvbXBvbmVudEluREVWKENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZyk7XG4gICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViA9ICExO1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzICYmXG4gICAgICAgIChjaGlsZHJlbiA9IHJlbmRlcldpdGhIb29rc0FnYWluKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBzZWNvbmRBcmdcbiAgICAgICAgKSk7XG4gICAgICBpZiAobmV4dFJlbmRlckxhbmVzKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjaGlsZHJlbiA9IHJlbmRlcldpdGhIb29rc0FnYWluKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHNlY29uZEFyZ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaW5pc2hSZW5kZXJpbmdIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmlzaFJlbmRlcmluZ0hvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdIb29rVHlwZXMgPSBob29rVHlwZXNEZXY7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXNcbiAgICAgICAgPyBudWxsICE9PSB0aGVuYWJsZVN0YXRlICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IHtcbiAgICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgICAgZmlyc3RDb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgX2RlYnVnVGhlbmFibGVTdGF0ZTogdGhlbmFibGVTdGF0ZVxuICAgICAgICAgIH0pXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcy5fZGVidWdUaGVuYWJsZVN0YXRlID0gdGhlbmFibGVTdGF0ZSk7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICAgICAgdmFyIGRpZFJlbmRlclRvb0Zld0hvb2tzID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudEhvb2sgJiYgbnVsbCAhPT0gY3VycmVudEhvb2submV4dDtcbiAgICAgIHJlbmRlckxhbmVzID0gMDtcbiAgICAgIGhvb2tUeXBlc0RldiA9XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID1cbiAgICAgICAgY3VycmVudEhvb2sgPVxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID1cbiAgICAgICAgICBudWxsO1xuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKGN1cnJlbnQuZmxhZ3MgJiAzMTQ1NzI4MCkgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDMxNDU3MjgwKSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgZXJyb3I6IEV4cGVjdGVkIHN0YXRpYyBmbGFnIHdhcyBtaXNzaW5nLiBQbGVhc2Ugbm90aWZ5IHRoZSBSZWFjdCB0ZWFtLlwiXG4gICAgICAgICk7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITE7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IDA7XG4gICAgICB0aGVuYWJsZVN0YXRlID0gbnVsbDtcbiAgICAgIGlmIChkaWRSZW5kZXJUb29GZXdIb29rcylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJSZW5kZXJlZCBmZXdlciBob29rcyB0aGFuIGV4cGVjdGVkLiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgYW4gYWNjaWRlbnRhbCBlYXJseSByZXR1cm4gc3RhdGVtZW50LlwiXG4gICAgICAgICk7XG4gICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgfHxcbiAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5kZXBlbmRlbmNpZXMpLFxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnQpICYmXG4gICAgICAgICAgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCkpO1xuICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVZcbiAgICAgICAgPyAoKG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITEpLCAoY3VycmVudCA9ICEwKSlcbiAgICAgICAgOiAoY3VycmVudCA9ICExKTtcbiAgICAgIGN1cnJlbnQgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRVc2VXcmFwcGVkSW5UcnlDYXRjaC5oYXMod29ya0luUHJvZ3Jlc3MpIHx8XG4gICAgICAgICAgZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQuaGFzKHdvcmtJblByb2dyZXNzKSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRVc2VXcmFwcGVkSW5UcnlDYXRjaC5hZGQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImB1c2VgIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSB0cnkvY2F0Y2ggYmxvY2suIFRoaXMgaXMgbm90IGFsbG93ZWQgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIFRvIGhhbmRsZSBlcnJvcnMgdHJpZ2dlcmVkIGJ5IGB1c2VgLCB3cmFwIHlvdXIgY29tcG9uZW50IGluIGEgZXJyb3IgYm91bmRhcnkuXCJcbiAgICAgICAgICApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlcldpdGhIb29rc0FnYWluKHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHByb3BzLCBzZWNvbmRBcmcpIHtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHZhciBudW1iZXJPZlJlUmVuZGVycyA9IDA7XG4gICAgICBkbyB7XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyAmJiAodGhlbmFibGVTdGF0ZSA9IG51bGwpO1xuICAgICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IDA7XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9ICExO1xuICAgICAgICBpZiAobnVtYmVyT2ZSZVJlbmRlcnMgPj0gUkVfUkVOREVSX0xJTUlUKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJUb28gbWFueSByZS1yZW5kZXJzLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiByZW5kZXJzIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIG51bWJlck9mUmVSZW5kZXJzICs9IDE7XG4gICAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID0gITE7XG4gICAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9IGN1cnJlbnRIb29rID0gbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUpIHtcbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBjaGlsZHJlbi5sYXN0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICBjaGlsZHJlbi5ldmVudHMgPSBudWxsO1xuICAgICAgICAgIGNoaWxkcmVuLnN0b3JlcyA9IG51bGw7XG4gICAgICAgICAgbnVsbCAhPSBjaGlsZHJlbi5tZW1vQ2FjaGUgJiYgKGNoaWxkcmVuLm1lbW9DYWNoZS5pbmRleCA9IDApO1xuICAgICAgICB9XG4gICAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIGNoaWxkcmVuID0gY2FsbENvbXBvbmVudEluREVWKENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZyk7XG4gICAgICB9IHdoaWxlIChkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MpO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uQXdhcmVIb3N0Q29tcG9uZW50KCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5ILFxuICAgICAgICBtYXliZVRoZW5hYmxlID0gZGlzcGF0Y2hlci51c2VTdGF0ZSgpWzBdO1xuICAgICAgbWF5YmVUaGVuYWJsZSA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlVGhlbmFibGUudGhlblxuICAgICAgICAgID8gdXNlVGhlbmFibGUobWF5YmVUaGVuYWJsZSlcbiAgICAgICAgICA6IG1heWJlVGhlbmFibGU7XG4gICAgICBkaXNwYXRjaGVyID0gZGlzcGF0Y2hlci51c2VTdGF0ZSgpWzBdO1xuICAgICAgKG51bGwgIT09IGN1cnJlbnRIb29rID8gY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSA6IG51bGwpICE9PVxuICAgICAgICBkaXNwYXRjaGVyICYmIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IDEwMjQpO1xuICAgICAgcmV0dXJuIG1heWJlVGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRGlkUmVuZGVySWRIb29rKCkge1xuICAgICAgdmFyIGRpZFJlbmRlcklkSG9vayA9IDAgIT09IGxvY2FsSWRDb3VudGVyO1xuICAgICAgbG9jYWxJZENvdW50ZXIgPSAwO1xuICAgICAgcmV0dXJuIGRpZFJlbmRlcklkSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gYmFpbG91dEhvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBsYW5lcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgPVxuICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlXG4gICAgICAgICAgPyB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIC0yMDEzMjg2NDVcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzLmZsYWdzICYgLTIwNTM7XG4gICAgICBjdXJyZW50LmxhbmVzICY9IH5sYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRIb29rc09uVW53aW5kKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBpZiAoZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcztcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy5xdWV1ZTtcbiAgICAgICAgICBudWxsICE9PSBxdWV1ZSAmJiAocXVldWUucGVuZGluZyA9IG51bGwpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITE7XG4gICAgICB9XG4gICAgICByZW5kZXJMYW5lcyA9IDA7XG4gICAgICBob29rVHlwZXNEZXYgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICBjdXJyZW50SG9vayA9XG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPVxuICAgICAgICAgIG51bGw7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBudWxsO1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID0gITE7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IGxvY2FsSWRDb3VudGVyID0gMDtcbiAgICAgIHRoZW5hYmxlU3RhdGUgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpIHtcbiAgICAgIHZhciBob29rID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBudWxsLFxuICAgICAgICBiYXNlU3RhdGU6IG51bGwsXG4gICAgICAgIGJhc2VRdWV1ZTogbnVsbCxcbiAgICAgICAgcXVldWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc0hvb2tcbiAgICAgICAgPyAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tZW1vaXplZFN0YXRlID0gd29ya0luUHJvZ3Jlc3NIb29rID0gaG9vaylcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NIb29rID0gd29ya0luUHJvZ3Jlc3NIb29rLm5leHQgPSBob29rKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc0hvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50SG9vaykge1xuICAgICAgICB2YXIgbmV4dEN1cnJlbnRIb29rID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5hbHRlcm5hdGU7XG4gICAgICAgIG5leHRDdXJyZW50SG9vayA9XG4gICAgICAgICAgbnVsbCAhPT0gbmV4dEN1cnJlbnRIb29rID8gbmV4dEN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUgOiBudWxsO1xuICAgICAgfSBlbHNlIG5leHRDdXJyZW50SG9vayA9IGN1cnJlbnRIb29rLm5leHQ7XG4gICAgICB2YXIgbmV4dFdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICAgID8gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc0hvb2submV4dDtcbiAgICAgIGlmIChudWxsICE9PSBuZXh0V29ya0luUHJvZ3Jlc3NIb29rKVxuICAgICAgICAod29ya0luUHJvZ3Jlc3NIb29rID0gbmV4dFdvcmtJblByb2dyZXNzSG9vayksXG4gICAgICAgICAgKGN1cnJlbnRIb29rID0gbmV4dEN1cnJlbnRIb29rKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAobnVsbCA9PT0gbmV4dEN1cnJlbnRIb29rKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuYWx0ZXJuYXRlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiVXBkYXRlIGhvb2sgY2FsbGVkIG9uIGluaXRpYWwgcmVuZGVyLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJSZW5kZXJlZCBtb3JlIGhvb2tzIHRoYW4gZHVyaW5nIHRoZSBwcmV2aW91cyByZW5kZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRIb29rID0gbmV4dEN1cnJlbnRIb29rO1xuICAgICAgICBuZXh0Q3VycmVudEhvb2sgPSB7XG4gICAgICAgICAgbWVtb2l6ZWRTdGF0ZTogY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICBiYXNlU3RhdGU6IGN1cnJlbnRIb29rLmJhc2VTdGF0ZSxcbiAgICAgICAgICBiYXNlUXVldWU6IGN1cnJlbnRIb29rLmJhc2VRdWV1ZSxcbiAgICAgICAgICBxdWV1ZTogY3VycmVudEhvb2sucXVldWUsXG4gICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc0hvb2tcbiAgICAgICAgICA/IChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1lbW9pemVkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICAgICAgICBuZXh0Q3VycmVudEhvb2spXG4gICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NIb29rID0gd29ya0luUHJvZ3Jlc3NIb29rLm5leHQgPSBuZXh0Q3VycmVudEhvb2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlVGhlbmFibGUodGhlbmFibGUpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoZW5hYmxlSW5kZXhDb3VudGVyO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgKz0gMTtcbiAgICAgIG51bGwgPT09IHRoZW5hYmxlU3RhdGUgJiYgKHRoZW5hYmxlU3RhdGUgPSBjcmVhdGVUaGVuYWJsZVN0YXRlKCkpO1xuICAgICAgdGhlbmFibGUgPSB0cmFja1VzZWRUaGVuYWJsZSh0aGVuYWJsZVN0YXRlLCB0aGVuYWJsZSwgaW5kZXgpO1xuICAgICAgaW5kZXggPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxO1xuICAgICAgbnVsbCA9PT1cbiAgICAgICAgKG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICAgID8gaW5kZXgubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3NIb29rLm5leHQpICYmXG4gICAgICAgICgoaW5kZXggPSBpbmRleC5hbHRlcm5hdGUpLFxuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9XG4gICAgICAgICAgbnVsbCAhPT0gaW5kZXggJiYgbnVsbCAhPT0gaW5kZXgubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWXG4gICAgICAgICAgICA6IEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVikpO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2UodXNhYmxlKSB7XG4gICAgICBpZiAobnVsbCAhPT0gdXNhYmxlICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiB1c2FibGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHVzYWJsZS50aGVuKSByZXR1cm4gdXNlVGhlbmFibGUodXNhYmxlKTtcbiAgICAgICAgaWYgKHVzYWJsZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKSByZXR1cm4gcmVhZENvbnRleHQodXNhYmxlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFwiQW4gdW5zdXBwb3J0ZWQgdHlwZSB3YXMgcGFzc2VkIHRvIHVzZSgpOiBcIiArIFN0cmluZyh1c2FibGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlTWVtb0NhY2hlKHNpemUpIHtcbiAgICAgIHZhciBtZW1vQ2FjaGUgPSBudWxsLFxuICAgICAgICB1cGRhdGVRdWV1ZSA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWU7XG4gICAgICBudWxsICE9PSB1cGRhdGVRdWV1ZSAmJiAobWVtb0NhY2hlID0gdXBkYXRlUXVldWUubWVtb0NhY2hlKTtcbiAgICAgIGlmIChudWxsID09IG1lbW9DYWNoZSkge1xuICAgICAgICB2YXIgY3VycmVudCA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuYWx0ZXJuYXRlO1xuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5tZW1vQ2FjaGUpLFxuICAgICAgICAgICAgbnVsbCAhPSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIChtZW1vQ2FjaGUgPSB7XG4gICAgICAgICAgICAgICAgZGF0YTogY3VycmVudC5kYXRhLm1hcChmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheS5zbGljZSgpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGluZGV4OiAwXG4gICAgICAgICAgICAgIH0pKSk7XG4gICAgICB9XG4gICAgICBudWxsID09IG1lbW9DYWNoZSAmJiAobWVtb0NhY2hlID0geyBkYXRhOiBbXSwgaW5kZXg6IDAgfSk7XG4gICAgICBudWxsID09PSB1cGRhdGVRdWV1ZSAmJlxuICAgICAgICAoKHVwZGF0ZVF1ZXVlID0gY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSgpKSxcbiAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWUgPSB1cGRhdGVRdWV1ZSkpO1xuICAgICAgdXBkYXRlUXVldWUubWVtb0NhY2hlID0gbWVtb0NhY2hlO1xuICAgICAgdXBkYXRlUXVldWUgPSBtZW1vQ2FjaGUuZGF0YVttZW1vQ2FjaGUuaW5kZXhdO1xuICAgICAgaWYgKHZvaWQgMCA9PT0gdXBkYXRlUXVldWUgfHwgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdXBkYXRlUXVldWUgPSBtZW1vQ2FjaGUuZGF0YVttZW1vQ2FjaGUuaW5kZXhdID0gQXJyYXkoc2l6ZSksXG4gICAgICAgICAgICBjdXJyZW50ID0gMDtcbiAgICAgICAgICBjdXJyZW50IDwgc2l6ZTtcbiAgICAgICAgICBjdXJyZW50KytcbiAgICAgICAgKVxuICAgICAgICAgIHVwZGF0ZVF1ZXVlW2N1cnJlbnRdID0gUkVBQ1RfTUVNT19DQUNIRV9TRU5USU5FTDtcbiAgICAgIGVsc2VcbiAgICAgICAgdXBkYXRlUXVldWUubGVuZ3RoICE9PSBzaXplICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSBjb25zdGFudCBzaXplIGFyZ3VtZW50IGZvciBlYWNoIGludm9jYXRpb24gb2YgdXNlTWVtb0NhY2hlLiBUaGUgcHJldmlvdXMgY2FjaGUgd2FzIGFsbG9jYXRlZCB3aXRoIHNpemUgJXMgYnV0IHNpemUgJXMgd2FzIHJlcXVlc3RlZC5cIixcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmxlbmd0aCxcbiAgICAgICAgICAgIHNpemVcbiAgICAgICAgICApO1xuICAgICAgbWVtb0NhY2hlLmluZGV4Kys7XG4gICAgICByZXR1cm4gdXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhc2ljU3RhdGVSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb24gPyBhY3Rpb24oc3RhdGUpIDogYWN0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gaW5pdCkge1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlID0gaW5pdChpbml0aWFsQXJnKTtcbiAgICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbml0KGluaXRpYWxBcmcpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaW5pdGlhbFN0YXRlID0gaW5pdGlhbEFyZztcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGhvb2suYmFzZVN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgICAgcmVkdWNlciA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiByZWR1Y2VyLFxuICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFN0YXRlXG4gICAgICB9O1xuICAgICAgaG9vay5xdWV1ZSA9IHJlZHVjZXI7XG4gICAgICByZWR1Y2VyID0gcmVkdWNlci5kaXNwYXRjaCA9IGRpc3BhdGNoUmVkdWNlckFjdGlvbi5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICByZWR1Y2VyXG4gICAgICApO1xuICAgICAgcmV0dXJuIFtob29rLm1lbW9pemVkU3RhdGUsIHJlZHVjZXJdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlUmVkdWNlckltcGwoaG9vaywgY3VycmVudEhvb2ssIHJlZHVjZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVSZWR1Y2VySW1wbChob29rLCBjdXJyZW50LCByZWR1Y2VyKSB7XG4gICAgICB2YXIgcXVldWUgPSBob29rLnF1ZXVlO1xuICAgICAgaWYgKG51bGwgPT09IHF1ZXVlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlNob3VsZCBoYXZlIGEgcXVldWUuIFlvdSBhcmUgbGlrZWx5IGNhbGxpbmcgSG9va3MgY29uZGl0aW9uYWxseSwgd2hpY2ggaXMgbm90IGFsbG93ZWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsKVwiXG4gICAgICAgICk7XG4gICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgICAgIHZhciBiYXNlUXVldWUgPSBob29rLmJhc2VRdWV1ZSxcbiAgICAgICAgcGVuZGluZ1F1ZXVlID0gcXVldWUucGVuZGluZztcbiAgICAgIGlmIChudWxsICE9PSBwZW5kaW5nUXVldWUpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGJhc2VRdWV1ZSkge1xuICAgICAgICAgIHZhciBiYXNlRmlyc3QgPSBiYXNlUXVldWUubmV4dDtcbiAgICAgICAgICBiYXNlUXVldWUubmV4dCA9IHBlbmRpbmdRdWV1ZS5uZXh0O1xuICAgICAgICAgIHBlbmRpbmdRdWV1ZS5uZXh0ID0gYmFzZUZpcnN0O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQuYmFzZVF1ZXVlICE9PSBiYXNlUXVldWUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnRlcm5hbCBlcnJvcjogRXhwZWN0ZWQgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSB0byBiZSBhIGNsb25lLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudC5iYXNlUXVldWUgPSBiYXNlUXVldWUgPSBwZW5kaW5nUXVldWU7XG4gICAgICAgIHF1ZXVlLnBlbmRpbmcgPSBudWxsO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1F1ZXVlID0gaG9vay5iYXNlU3RhdGU7XG4gICAgICBpZiAobnVsbCA9PT0gYmFzZVF1ZXVlKSBob29rLm1lbW9pemVkU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3VycmVudCA9IGJhc2VRdWV1ZS5uZXh0O1xuICAgICAgICB2YXIgbmV3QmFzZVF1ZXVlRmlyc3QgPSAoYmFzZUZpcnN0ID0gbnVsbCksXG4gICAgICAgICAgbmV3QmFzZVF1ZXVlTGFzdCA9IG51bGwsXG4gICAgICAgICAgdXBkYXRlID0gY3VycmVudCxcbiAgICAgICAgICBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITE7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB2YXIgdXBkYXRlTGFuZSA9IHVwZGF0ZS5sYW5lICYgLTUzNjg3MDkxMztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB1cGRhdGVMYW5lICE9PSB1cGRhdGUubGFuZVxuICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIHVwZGF0ZUxhbmUpID09PSB1cGRhdGVMYW5lXG4gICAgICAgICAgICAgIDogKHJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciByZXZlcnRMYW5lID0gdXBkYXRlLnJldmVydExhbmU7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcmV2ZXJ0TGFuZSlcbiAgICAgICAgICAgICAgbnVsbCAhPT0gbmV3QmFzZVF1ZXVlTGFzdCAmJlxuICAgICAgICAgICAgICAgIChuZXdCYXNlUXVldWVMYXN0ID0gbmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID1cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZTogMCxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJ0TGFuZTogMCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB1cGRhdGUuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBoYXNFYWdlclN0YXRlOiB1cGRhdGUuaGFzRWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZWFnZXJTdGF0ZTogdXBkYXRlLmVhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHVwZGF0ZUxhbmUgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgICAgICAgICAgICAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICEwKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKChyZW5kZXJMYW5lcyAmIHJldmVydExhbmUpID09PSByZXZlcnRMYW5lKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICAgICAgICAgICAgICByZXZlcnRMYW5lID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICAgICAgICAgIChkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITApO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAodXBkYXRlTGFuZSA9IHtcbiAgICAgICAgICAgICAgICBsYW5lOiAwLFxuICAgICAgICAgICAgICAgIHJldmVydExhbmU6IHVwZGF0ZS5yZXZlcnRMYW5lLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogdXBkYXRlLmFjdGlvbixcbiAgICAgICAgICAgICAgICBoYXNFYWdlclN0YXRlOiB1cGRhdGUuaGFzRWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICBlYWdlclN0YXRlOiB1cGRhdGUuZWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG51bGwgPT09IG5ld0Jhc2VRdWV1ZUxhc3RcbiAgICAgICAgICAgICAgICAgID8gKChuZXdCYXNlUXVldWVGaXJzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QgPSB1cGRhdGVMYW5lKSxcbiAgICAgICAgICAgICAgICAgICAgKGJhc2VGaXJzdCA9IHBlbmRpbmdRdWV1ZSkpXG4gICAgICAgICAgICAgICAgICA6IChuZXdCYXNlUXVldWVMYXN0ID0gbmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID0gdXBkYXRlTGFuZSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubGFuZXMgfD0gcmV2ZXJ0TGFuZSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSByZXZlcnRMYW5lKTtcbiAgICAgICAgICAgIHVwZGF0ZUxhbmUgPSB1cGRhdGUuYWN0aW9uO1xuICAgICAgICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgJiZcbiAgICAgICAgICAgICAgcmVkdWNlcihwZW5kaW5nUXVldWUsIHVwZGF0ZUxhbmUpO1xuICAgICAgICAgICAgcGVuZGluZ1F1ZXVlID0gdXBkYXRlLmhhc0VhZ2VyU3RhdGVcbiAgICAgICAgICAgICAgPyB1cGRhdGUuZWFnZXJTdGF0ZVxuICAgICAgICAgICAgICA6IHJlZHVjZXIocGVuZGluZ1F1ZXVlLCB1cGRhdGVMYW5lKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChyZXZlcnRMYW5lID0ge1xuICAgICAgICAgICAgICBsYW5lOiB1cGRhdGVMYW5lLFxuICAgICAgICAgICAgICByZXZlcnRMYW5lOiB1cGRhdGUucmV2ZXJ0TGFuZSxcbiAgICAgICAgICAgICAgYWN0aW9uOiB1cGRhdGUuYWN0aW9uLFxuICAgICAgICAgICAgICBoYXNFYWdlclN0YXRlOiB1cGRhdGUuaGFzRWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgZWFnZXJTdGF0ZTogdXBkYXRlLmVhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBudWxsID09PSBuZXdCYXNlUXVldWVMYXN0XG4gICAgICAgICAgICAgICAgPyAoKG5ld0Jhc2VRdWV1ZUZpcnN0ID0gbmV3QmFzZVF1ZXVlTGFzdCA9IHJldmVydExhbmUpLFxuICAgICAgICAgICAgICAgICAgKGJhc2VGaXJzdCA9IHBlbmRpbmdRdWV1ZSkpXG4gICAgICAgICAgICAgICAgOiAobmV3QmFzZVF1ZXVlTGFzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QubmV4dCA9IHJldmVydExhbmUpLFxuICAgICAgICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSB1cGRhdGVMYW5lKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSB1cGRhdGVMYW5lKTtcbiAgICAgICAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgICAgICAgfSB3aGlsZSAobnVsbCAhPT0gdXBkYXRlICYmIHVwZGF0ZSAhPT0gY3VycmVudCk7XG4gICAgICAgIG51bGwgPT09IG5ld0Jhc2VRdWV1ZUxhc3RcbiAgICAgICAgICA/IChiYXNlRmlyc3QgPSBwZW5kaW5nUXVldWUpXG4gICAgICAgICAgOiAobmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID0gbmV3QmFzZVF1ZXVlRmlyc3QpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIW9iamVjdElzKHBlbmRpbmdRdWV1ZSwgaG9vay5tZW1vaXplZFN0YXRlKSAmJlxuICAgICAgICAgICgoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSxcbiAgICAgICAgICBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uICYmXG4gICAgICAgICAgICAoKHJlZHVjZXIgPSBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUpLCBudWxsICE9PSByZWR1Y2VyKSlcbiAgICAgICAgKVxuICAgICAgICAgIHRocm93IHJlZHVjZXI7XG4gICAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgaG9vay5iYXNlU3RhdGUgPSBiYXNlRmlyc3Q7XG4gICAgICAgIGhvb2suYmFzZVF1ZXVlID0gbmV3QmFzZVF1ZXVlTGFzdDtcbiAgICAgICAgcXVldWUubGFzdFJlbmRlcmVkU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICB9XG4gICAgICBudWxsID09PSBiYXNlUXVldWUgJiYgKHF1ZXVlLmxhbmVzID0gMCk7XG4gICAgICByZXR1cm4gW2hvb2subWVtb2l6ZWRTdGF0ZSwgcXVldWUuZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlclJlZHVjZXIocmVkdWNlcikge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgcXVldWUgPSBob29rLnF1ZXVlO1xuICAgICAgaWYgKG51bGwgPT09IHF1ZXVlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlNob3VsZCBoYXZlIGEgcXVldWUuIFlvdSBhcmUgbGlrZWx5IGNhbGxpbmcgSG9va3MgY29uZGl0aW9uYWxseSwgd2hpY2ggaXMgbm90IGFsbG93ZWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsKVwiXG4gICAgICAgICk7XG4gICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgICAgIHZhciBkaXNwYXRjaCA9IHF1ZXVlLmRpc3BhdGNoLFxuICAgICAgICBsYXN0UmVuZGVyUGhhc2VVcGRhdGUgPSBxdWV1ZS5wZW5kaW5nLFxuICAgICAgICBuZXdTdGF0ZSA9IGhvb2subWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBsYXN0UmVuZGVyUGhhc2VVcGRhdGUpIHtcbiAgICAgICAgcXVldWUucGVuZGluZyA9IG51bGw7XG4gICAgICAgIHZhciB1cGRhdGUgPSAobGFzdFJlbmRlclBoYXNlVXBkYXRlID0gbGFzdFJlbmRlclBoYXNlVXBkYXRlLm5leHQpO1xuICAgICAgICBkb1xuICAgICAgICAgIChuZXdTdGF0ZSA9IHJlZHVjZXIobmV3U3RhdGUsIHVwZGF0ZS5hY3Rpb24pKSwgKHVwZGF0ZSA9IHVwZGF0ZS5uZXh0KTtcbiAgICAgICAgd2hpbGUgKHVwZGF0ZSAhPT0gbGFzdFJlbmRlclBoYXNlVXBkYXRlKTtcbiAgICAgICAgb2JqZWN0SXMobmV3U3RhdGUsIGhvb2subWVtb2l6ZWRTdGF0ZSkgfHwgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCk7XG4gICAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBudWxsID09PSBob29rLmJhc2VRdWV1ZSAmJiAoaG9vay5iYXNlU3RhdGUgPSBuZXdTdGF0ZSk7XG4gICAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gW25ld1N0YXRlLCBkaXNwYXRjaF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpIHtcbiAgICAgIHZhciBmaWJlciA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IGdldFNlcnZlclNuYXBzaG90KVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJNaXNzaW5nIGdldFNlcnZlclNuYXBzaG90LCB3aGljaCBpcyByZXF1aXJlZCBmb3Igc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFdpbGwgcmV2ZXJ0IHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICApO1xuICAgICAgICB2YXIgbmV4dFNuYXBzaG90ID0gZ2V0U2VydmVyU25hcHNob3QoKTtcbiAgICAgICAgZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgfHxcbiAgICAgICAgICBuZXh0U25hcHNob3QgPT09IGdldFNlcnZlclNuYXBzaG90KCkgfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHJlc3VsdCBvZiBnZXRTZXJ2ZXJTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcIlxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gITApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRTbmFwc2hvdCA9IGdldFNuYXBzaG90KCk7XG4gICAgICAgIGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90IHx8XG4gICAgICAgICAgKChnZXRTZXJ2ZXJTbmFwc2hvdCA9IGdldFNuYXBzaG90KCkpLFxuICAgICAgICAgIG9iamVjdElzKG5leHRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpIHx8XG4gICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gITApKSk7XG4gICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGEgd29yay1pbi1wcm9ncmVzcyByb290LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIDAgIT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDYwKSB8fFxuICAgICAgICAgIHB1c2hTdG9yZUNvbnNpc3RlbmN5Q2hlY2soZmliZXIsIGdldFNuYXBzaG90LCBuZXh0U25hcHNob3QpO1xuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gbmV4dFNuYXBzaG90O1xuICAgICAgZ2V0U2VydmVyU25hcHNob3QgPSB7IHZhbHVlOiBuZXh0U25hcHNob3QsIGdldFNuYXBzaG90OiBnZXRTbmFwc2hvdCB9O1xuICAgICAgaG9vay5xdWV1ZSA9IGdldFNlcnZlclNuYXBzaG90O1xuICAgICAgbW91bnRFZmZlY3QoXG4gICAgICAgIHN1YnNjcmliZVRvU3RvcmUuYmluZChudWxsLCBmaWJlciwgZ2V0U2VydmVyU25hcHNob3QsIHN1YnNjcmliZSksXG4gICAgICAgIFtzdWJzY3JpYmVdXG4gICAgICApO1xuICAgICAgZmliZXIuZmxhZ3MgfD0gMjA0ODtcbiAgICAgIHB1c2hFZmZlY3QoXG4gICAgICAgIEhhc0VmZmVjdCB8IFBhc3NpdmUsXG4gICAgICAgIHVwZGF0ZVN0b3JlSW5zdGFuY2UuYmluZChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90LFxuICAgICAgICAgIG5leHRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTbmFwc2hvdFxuICAgICAgICApLFxuICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5leHRTbmFwc2hvdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBnZXRTbmFwc2hvdCxcbiAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgKSB7XG4gICAgICB2YXIgZmliZXIgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGlzSHlkcmF0aW5nJGpzY29tcCQwID0gaXNIeWRyYXRpbmc7XG4gICAgICBpZiAoaXNIeWRyYXRpbmckanNjb21wJDApIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIk1pc3NpbmcgZ2V0U2VydmVyU25hcHNob3QsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gV2lsbCByZXZlcnQgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90ID0gZ2V0U2VydmVyU25hcHNob3QoKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICgoZ2V0U2VydmVyU25hcHNob3QgPSBnZXRTbmFwc2hvdCgpKSwgIWRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90KVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjYWNoZWRTbmFwc2hvdCA9IGdldFNuYXBzaG90KCk7XG4gICAgICAgIG9iamVjdElzKGdldFNlcnZlclNuYXBzaG90LCBjYWNoZWRTbmFwc2hvdCkgfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHJlc3VsdCBvZiBnZXRTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcIlxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gITApKTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgKGNhY2hlZFNuYXBzaG90ID0gIW9iamVjdElzKFxuICAgICAgICAgIChjdXJyZW50SG9vayB8fCBob29rKS5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICkpXG4gICAgICApXG4gICAgICAgIChob29rLm1lbW9pemVkU3RhdGUgPSBnZXRTZXJ2ZXJTbmFwc2hvdCksIChkaWRSZWNlaXZlVXBkYXRlID0gITApO1xuICAgICAgaG9vayA9IGhvb2sucXVldWU7XG4gICAgICB2YXIgY3JlYXRlID0gc3Vic2NyaWJlVG9TdG9yZS5iaW5kKG51bGwsIGZpYmVyLCBob29rLCBzdWJzY3JpYmUpO1xuICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIFtzdWJzY3JpYmVdKTtcbiAgICAgIGlmIChcbiAgICAgICAgaG9vay5nZXRTbmFwc2hvdCAhPT0gZ2V0U25hcHNob3QgfHxcbiAgICAgICAgY2FjaGVkU25hcHNob3QgfHxcbiAgICAgICAgKG51bGwgIT09IHdvcmtJblByb2dyZXNzSG9vayAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzSG9vay5tZW1vaXplZFN0YXRlLnRhZyAmIEhhc0VmZmVjdClcbiAgICAgICkge1xuICAgICAgICBmaWJlci5mbGFncyB8PSAyMDQ4O1xuICAgICAgICBwdXNoRWZmZWN0KFxuICAgICAgICAgIEhhc0VmZmVjdCB8IFBhc3NpdmUsXG4gICAgICAgICAgdXBkYXRlU3RvcmVJbnN0YW5jZS5iaW5kKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgaG9vayxcbiAgICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90LFxuICAgICAgICAgICAgZ2V0U25hcHNob3RcbiAgICAgICAgICApLFxuICAgICAgICAgIHsgZGVzdHJveTogdm9pZCAwIH0sXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290KVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhIHdvcmstaW4tcHJvZ3Jlc3Mgcm9vdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICBpc0h5ZHJhdGluZyRqc2NvbXAkMCB8fFxuICAgICAgICAgIDAgIT09IChyZW5kZXJMYW5lcyAmIDYwKSB8fFxuICAgICAgICAgIHB1c2hTdG9yZUNvbnNpc3RlbmN5Q2hlY2soZmliZXIsIGdldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hTdG9yZUNvbnNpc3RlbmN5Q2hlY2soZmliZXIsIGdldFNuYXBzaG90LCByZW5kZXJlZFNuYXBzaG90KSB7XG4gICAgICBmaWJlci5mbGFncyB8PSAxNjM4NDtcbiAgICAgIGZpYmVyID0geyBnZXRTbmFwc2hvdDogZ2V0U25hcHNob3QsIHZhbHVlOiByZW5kZXJlZFNuYXBzaG90IH07XG4gICAgICBnZXRTbmFwc2hvdCA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWU7XG4gICAgICBudWxsID09PSBnZXRTbmFwc2hvdFxuICAgICAgICA/ICgoZ2V0U25hcHNob3QgPSBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlKCkpLFxuICAgICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlID0gZ2V0U25hcHNob3QpLFxuICAgICAgICAgIChnZXRTbmFwc2hvdC5zdG9yZXMgPSBbZmliZXJdKSlcbiAgICAgICAgOiAoKHJlbmRlcmVkU25hcHNob3QgPSBnZXRTbmFwc2hvdC5zdG9yZXMpLFxuICAgICAgICAgIG51bGwgPT09IHJlbmRlcmVkU25hcHNob3RcbiAgICAgICAgICAgID8gKGdldFNuYXBzaG90LnN0b3JlcyA9IFtmaWJlcl0pXG4gICAgICAgICAgICA6IHJlbmRlcmVkU25hcHNob3QucHVzaChmaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTdG9yZUluc3RhbmNlKGZpYmVyLCBpbnN0LCBuZXh0U25hcHNob3QsIGdldFNuYXBzaG90KSB7XG4gICAgICBpbnN0LnZhbHVlID0gbmV4dFNuYXBzaG90O1xuICAgICAgaW5zdC5nZXRTbmFwc2hvdCA9IGdldFNuYXBzaG90O1xuICAgICAgY2hlY2tJZlNuYXBzaG90Q2hhbmdlZChpbnN0KSAmJiBmb3JjZVN0b3JlUmVyZW5kZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmVUb1N0b3JlKGZpYmVyLCBpbnN0LCBzdWJzY3JpYmUpIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpICYmIGZvcmNlU3RvcmVSZXJlbmRlcihmaWJlcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJZlNuYXBzaG90Q2hhbmdlZChpbnN0KSB7XG4gICAgICB2YXIgbGF0ZXN0R2V0U25hcHNob3QgPSBpbnN0LmdldFNuYXBzaG90O1xuICAgICAgaW5zdCA9IGluc3QudmFsdWU7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmV4dFZhbHVlID0gbGF0ZXN0R2V0U25hcHNob3QoKTtcbiAgICAgICAgcmV0dXJuICFvYmplY3RJcyhpbnN0LCBuZXh0VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JjZVN0b3JlUmVyZW5kZXIoZmliZXIpIHtcbiAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdGF0ZUltcGwoaW5pdGlhbFN0YXRlKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGVJbml0aWFsaXplciA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gaW5pdGlhbFN0YXRlSW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbml0aWFsU3RhdGVJbml0aWFsaXplcigpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBob29rLmJhc2VTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgIGhvb2sucXVldWUgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYmFzaWNTdGF0ZVJlZHVjZXIsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpIHtcbiAgICAgIGluaXRpYWxTdGF0ZSA9IG1vdW50U3RhdGVJbXBsKGluaXRpYWxTdGF0ZSk7XG4gICAgICB2YXIgcXVldWUgPSBpbml0aWFsU3RhdGUucXVldWUsXG4gICAgICAgIGRpc3BhdGNoID0gZGlzcGF0Y2hTZXRTdGF0ZS5iaW5kKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgICBxdWV1ZVxuICAgICAgICApO1xuICAgICAgcXVldWUuZGlzcGF0Y2ggPSBkaXNwYXRjaDtcbiAgICAgIHJldHVybiBbaW5pdGlhbFN0YXRlLm1lbW9pemVkU3RhdGUsIGRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRPcHRpbWlzdGljKHBhc3N0aHJvdWdoKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBob29rLmJhc2VTdGF0ZSA9IHBhc3N0aHJvdWdoO1xuICAgICAgdmFyIHF1ZXVlID0ge1xuICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICBsYW5lczogMCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBudWxsXG4gICAgICB9O1xuICAgICAgaG9vay5xdWV1ZSA9IHF1ZXVlO1xuICAgICAgaG9vayA9IGRpc3BhdGNoT3B0aW1pc3RpY1NldFN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgICEwLFxuICAgICAgICBxdWV1ZVxuICAgICAgKTtcbiAgICAgIHF1ZXVlLmRpc3BhdGNoID0gaG9vaztcbiAgICAgIHJldHVybiBbcGFzc3Rocm91Z2gsIGhvb2tdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWNJbXBsKGhvb2ssIGN1cnJlbnRIb29rLCBwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGltaXN0aWNJbXBsKGhvb2ssIGN1cnJlbnQsIHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICBob29rLmJhc2VTdGF0ZSA9IHBhc3N0aHJvdWdoO1xuICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXJJbXBsKFxuICAgICAgICBob29rLFxuICAgICAgICBjdXJyZW50SG9vayxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVkdWNlciA/IHJlZHVjZXIgOiBiYXNpY1N0YXRlUmVkdWNlclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRIb29rKVxuICAgICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpY0ltcGwoaG9vaywgY3VycmVudEhvb2ssIHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICAgIGhvb2suYmFzZVN0YXRlID0gcGFzc3Rocm91Z2g7XG4gICAgICByZXR1cm4gW3Bhc3N0aHJvdWdoLCBob29rLnF1ZXVlLmRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hBY3Rpb25TdGF0ZShcbiAgICAgIGZpYmVyLFxuICAgICAgYWN0aW9uUXVldWUsXG4gICAgICBzZXRQZW5kaW5nU3RhdGUsXG4gICAgICBzZXRTdGF0ZSxcbiAgICAgIHBheWxvYWRcbiAgICApIHtcbiAgICAgIGlmIChpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGZvcm0gc3RhdGUgd2hpbGUgcmVuZGVyaW5nLlwiKTtcbiAgICAgIGZpYmVyID0gYWN0aW9uUXVldWUuYWN0aW9uO1xuICAgICAgaWYgKG51bGwgIT09IGZpYmVyKSB7XG4gICAgICAgIHZhciBhY3Rpb25Ob2RlID0ge1xuICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQsXG4gICAgICAgICAgYWN0aW9uOiBmaWJlcixcbiAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICAgIGlzVHJhbnNpdGlvbjogITAsXG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICByZWFzb246IG51bGwsXG4gICAgICAgICAgbGlzdGVuZXJzOiBbXSxcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGFjdGlvbk5vZGUubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVFxuICAgICAgICAgID8gc2V0UGVuZGluZ1N0YXRlKCEwKVxuICAgICAgICAgIDogKGFjdGlvbk5vZGUuaXNUcmFuc2l0aW9uID0gITEpO1xuICAgICAgICBzZXRTdGF0ZShhY3Rpb25Ob2RlKTtcbiAgICAgICAgc2V0UGVuZGluZ1N0YXRlID0gYWN0aW9uUXVldWUucGVuZGluZztcbiAgICAgICAgbnVsbCA9PT0gc2V0UGVuZGluZ1N0YXRlXG4gICAgICAgICAgPyAoKGFjdGlvbk5vZGUubmV4dCA9IGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBhY3Rpb25Ob2RlKSxcbiAgICAgICAgICAgIHJ1bkFjdGlvblN0YXRlQWN0aW9uKGFjdGlvblF1ZXVlLCBhY3Rpb25Ob2RlKSlcbiAgICAgICAgICA6ICgoYWN0aW9uTm9kZS5uZXh0ID0gc2V0UGVuZGluZ1N0YXRlLm5leHQpLFxuICAgICAgICAgICAgKGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBzZXRQZW5kaW5nU3RhdGUubmV4dCA9IGFjdGlvbk5vZGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuQWN0aW9uU3RhdGVBY3Rpb24oYWN0aW9uUXVldWUsIG5vZGUpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBub2RlLmFjdGlvbixcbiAgICAgICAgcGF5bG9hZCA9IG5vZGUucGF5bG9hZCxcbiAgICAgICAgcHJldlN0YXRlID0gYWN0aW9uUXVldWUuc3RhdGU7XG4gICAgICBpZiAobm9kZS5pc1RyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQuX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gYWN0aW9uKHByZXZTdGF0ZSwgcGF5bG9hZCksXG4gICAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgaGFuZGxlQWN0aW9uUmV0dXJuVmFsdWUoYWN0aW9uUXVldWUsIG5vZGUsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBub2RlLCBlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbiksXG4gICAgICAgICAgICBudWxsID09PSBwcmV2VHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICAgICAoKGFjdGlvblF1ZXVlID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmNsZWFyKCksXG4gICAgICAgICAgICAgIDEwIDwgYWN0aW9uUXVldWUgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICBcIkRldGVjdGVkIGEgbGFyZ2UgbnVtYmVyIG9mIHVwZGF0ZXMgaW5zaWRlIHN0YXJ0VHJhbnNpdGlvbi4gSWYgdGhpcyBpcyBkdWUgdG8gYSBzdWJzY3JpcHRpb24gcGxlYXNlIHJlLXdyaXRlIGl0IHRvIHVzZSBSZWFjdCBwcm92aWRlZCBob29rcy4gT3RoZXJ3aXNlIGNvbmN1cnJlbnQgbW9kZSBndWFyYW50ZWVzIGFyZSBvZmYgdGhlIHRhYmxlLlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIChjdXJyZW50VHJhbnNpdGlvbiA9IGFjdGlvbihwcmV2U3RhdGUsIHBheWxvYWQpKSxcbiAgICAgICAgICAgIGhhbmRsZUFjdGlvblJldHVyblZhbHVlKGFjdGlvblF1ZXVlLCBub2RlLCBjdXJyZW50VHJhbnNpdGlvbik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yJDMpIHtcbiAgICAgICAgICBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBub2RlLCBlcnJvciQzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVBY3Rpb25SZXR1cm5WYWx1ZShhY3Rpb25RdWV1ZSwgbm9kZSwgcmV0dXJuVmFsdWUpIHtcbiAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW5cbiAgICAgICAgPyAocmV0dXJuVmFsdWUudGhlbihcbiAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgb25BY3Rpb25TdWNjZXNzKGFjdGlvblF1ZXVlLCBub2RlLCBuZXh0U3RhdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gb25BY3Rpb25FcnJvcihhY3Rpb25RdWV1ZSwgbm9kZSwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICksXG4gICAgICAgICAgbm9kZS5pc1RyYW5zaXRpb24gfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQW4gYXN5bmMgZnVuY3Rpb24gd2FzIHBhc3NlZCB0byB1c2VBY3Rpb25TdGF0ZSwgYnV0IGl0IHdhcyBkaXNwYXRjaGVkIG91dHNpZGUgb2YgYW4gYWN0aW9uIGNvbnRleHQuIFRoaXMgaXMgbGlrZWx5IG5vdCB3aGF0IHlvdSBpbnRlbmRlZC4gRWl0aGVyIHBhc3MgdGhlIGRpc3BhdGNoIGZ1bmN0aW9uIHRvIGFuIGBhY3Rpb25gIHByb3AsIG9yIGRpc3BhdGNoIG1hbnVhbGx5IGluc2lkZSBgc3RhcnRUcmFuc2l0aW9uYFwiXG4gICAgICAgICAgICApKVxuICAgICAgICA6IG9uQWN0aW9uU3VjY2VzcyhhY3Rpb25RdWV1ZSwgbm9kZSwgcmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkFjdGlvblN1Y2Nlc3MoYWN0aW9uUXVldWUsIGFjdGlvbk5vZGUsIG5leHRTdGF0ZSkge1xuICAgICAgYWN0aW9uTm9kZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgYWN0aW9uTm9kZS52YWx1ZSA9IG5leHRTdGF0ZTtcbiAgICAgIG5vdGlmeUFjdGlvbkxpc3RlbmVycyhhY3Rpb25Ob2RlKTtcbiAgICAgIGFjdGlvblF1ZXVlLnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgYWN0aW9uTm9kZSA9IGFjdGlvblF1ZXVlLnBlbmRpbmc7XG4gICAgICBudWxsICE9PSBhY3Rpb25Ob2RlICYmXG4gICAgICAgICgobmV4dFN0YXRlID0gYWN0aW9uTm9kZS5uZXh0KSxcbiAgICAgICAgbmV4dFN0YXRlID09PSBhY3Rpb25Ob2RlXG4gICAgICAgICAgPyAoYWN0aW9uUXVldWUucGVuZGluZyA9IG51bGwpXG4gICAgICAgICAgOiAoKG5leHRTdGF0ZSA9IG5leHRTdGF0ZS5uZXh0KSxcbiAgICAgICAgICAgIChhY3Rpb25Ob2RlLm5leHQgPSBuZXh0U3RhdGUpLFxuICAgICAgICAgICAgcnVuQWN0aW9uU3RhdGVBY3Rpb24oYWN0aW9uUXVldWUsIG5leHRTdGF0ZSkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25BY3Rpb25FcnJvcihhY3Rpb25RdWV1ZSwgYWN0aW9uTm9kZSwgZXJyb3IpIHtcbiAgICAgIHZhciBsYXN0ID0gYWN0aW9uUXVldWUucGVuZGluZztcbiAgICAgIGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBudWxsO1xuICAgICAgaWYgKG51bGwgIT09IGxhc3QpIHtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICAgICAgZG9cbiAgICAgICAgICAoYWN0aW9uTm9kZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgKGFjdGlvbk5vZGUucmVhc29uID0gZXJyb3IpLFxuICAgICAgICAgICAgbm90aWZ5QWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5vZGUpLFxuICAgICAgICAgICAgKGFjdGlvbk5vZGUgPSBhY3Rpb25Ob2RlLm5leHQpO1xuICAgICAgICB3aGlsZSAoYWN0aW9uTm9kZSAhPT0gbGFzdCk7XG4gICAgICB9XG4gICAgICBhY3Rpb25RdWV1ZS5hY3Rpb24gPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub3RpZnlBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTm9kZSkge1xuICAgICAgYWN0aW9uTm9kZSA9IGFjdGlvbk5vZGUubGlzdGVuZXJzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3Rpb25Ob2RlLmxlbmd0aDsgaSsrKSAoMCwgYWN0aW9uTm9kZVtpXSkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWN0aW9uU3RhdGVSZWR1Y2VyKG9sZFN0YXRlLCBuZXdTdGF0ZSkge1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlUHJvcCkge1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHZhciBzc3JGb3JtU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc1Jvb3QuZm9ybVN0YXRlO1xuICAgICAgICBpZiAobnVsbCAhPT0gc3NyRm9ybVN0YXRlKSB7XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgdmFyIGlzTWF0Y2hpbmcgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxO1xuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICAgIGlmIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlckluc3RhbmNlID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIHZhciBpblJvb3RPclNpbmdsZXRvbiA9IHJvb3RPclNpbmdsZXRvbkNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIDggIT09IG1hcmtlckluc3RhbmNlLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpblJvb3RPclNpbmdsZXRvbikge1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UubmV4dFNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IG1hcmtlckluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGluUm9vdE9yU2luZ2xldG9uID0gbWFya2VySW5zdGFuY2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID1cbiAgICAgICAgICAgICAgICAgICAgaW5Sb290T3JTaW5nbGV0b24gPT09IEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkcgfHxcbiAgICAgICAgICAgICAgICAgICAgaW5Sb290T3JTaW5nbGV0b24gPT09IEZPUk1fU1RBVEVfSVNfTk9UX01BVENISU5HXG4gICAgICAgICAgICAgICAgICAgICAgPyBtYXJrZXJJbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlckluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlLm5leHRTaWJsaW5nXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaXNNYXRjaGluZyA9IG1hcmtlckluc3RhbmNlLmRhdGEgPT09IEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkc7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goaXNNYXRjaGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc01hdGNoaW5nID0gITE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTWF0Y2hpbmcgJiYgKGluaXRpYWxTdGF0ZVByb3AgPSBzc3JGb3JtU3RhdGVbMF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzc3JGb3JtU3RhdGUgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgc3NyRm9ybVN0YXRlLm1lbW9pemVkU3RhdGUgPSBzc3JGb3JtU3RhdGUuYmFzZVN0YXRlID0gaW5pdGlhbFN0YXRlUHJvcDtcbiAgICAgIGlzTWF0Y2hpbmcgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYWN0aW9uU3RhdGVSZWR1Y2VyLFxuICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFN0YXRlUHJvcFxuICAgICAgfTtcbiAgICAgIHNzckZvcm1TdGF0ZS5xdWV1ZSA9IGlzTWF0Y2hpbmc7XG4gICAgICBzc3JGb3JtU3RhdGUgPSBkaXNwYXRjaFNldFN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIGlzTWF0Y2hpbmdcbiAgICAgICk7XG4gICAgICBpc01hdGNoaW5nLmRpc3BhdGNoID0gc3NyRm9ybVN0YXRlO1xuICAgICAgaXNNYXRjaGluZyA9IG1vdW50U3RhdGVJbXBsKCExKTtcbiAgICAgIGluUm9vdE9yU2luZ2xldG9uID0gZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgITEsXG4gICAgICAgIGlzTWF0Y2hpbmcucXVldWVcbiAgICAgICk7XG4gICAgICBpc01hdGNoaW5nID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIG1hcmtlckluc3RhbmNlID0ge1xuICAgICAgICBzdGF0ZTogaW5pdGlhbFN0YXRlUHJvcCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBwZW5kaW5nOiBudWxsXG4gICAgICB9O1xuICAgICAgaXNNYXRjaGluZy5xdWV1ZSA9IG1hcmtlckluc3RhbmNlO1xuICAgICAgc3NyRm9ybVN0YXRlID0gZGlzcGF0Y2hBY3Rpb25TdGF0ZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBtYXJrZXJJbnN0YW5jZSxcbiAgICAgICAgaW5Sb290T3JTaW5nbGV0b24sXG4gICAgICAgIHNzckZvcm1TdGF0ZVxuICAgICAgKTtcbiAgICAgIG1hcmtlckluc3RhbmNlLmRpc3BhdGNoID0gc3NyRm9ybVN0YXRlO1xuICAgICAgaXNNYXRjaGluZy5tZW1vaXplZFN0YXRlID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIFtpbml0aWFsU3RhdGVQcm9wLCBzc3JGb3JtU3RhdGUsICExXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKSB7XG4gICAgICB2YXIgc3RhdGVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGVJbXBsKHN0YXRlSG9vaywgY3VycmVudEhvb2ssIGFjdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFjdGlvblN0YXRlSW1wbChzdGF0ZUhvb2ssIGN1cnJlbnRTdGF0ZUhvb2ssIGFjdGlvbikge1xuICAgICAgY3VycmVudFN0YXRlSG9vayA9IHVwZGF0ZVJlZHVjZXJJbXBsKFxuICAgICAgICBzdGF0ZUhvb2ssXG4gICAgICAgIGN1cnJlbnRTdGF0ZUhvb2ssXG4gICAgICAgIGFjdGlvblN0YXRlUmVkdWNlclxuICAgICAgKVswXTtcbiAgICAgIHN0YXRlSG9vayA9IHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpWzBdO1xuICAgICAgY3VycmVudFN0YXRlSG9vayA9XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBjdXJyZW50U3RhdGVIb29rICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnRTdGF0ZUhvb2sgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY3VycmVudFN0YXRlSG9vay50aGVuXG4gICAgICAgICAgPyB1c2VUaGVuYWJsZShjdXJyZW50U3RhdGVIb29rKVxuICAgICAgICAgIDogY3VycmVudFN0YXRlSG9vaztcbiAgICAgIHZhciBhY3Rpb25RdWV1ZUhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgYWN0aW9uUXVldWUgPSBhY3Rpb25RdWV1ZUhvb2sucXVldWUsXG4gICAgICAgIGRpc3BhdGNoID0gYWN0aW9uUXVldWUuZGlzcGF0Y2g7XG4gICAgICBhY3Rpb24gIT09IGFjdGlvblF1ZXVlSG9vay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICgoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5mbGFncyB8PSAyMDQ4KSxcbiAgICAgICAgcHVzaEVmZmVjdChcbiAgICAgICAgICBIYXNFZmZlY3QgfCBQYXNzaXZlLFxuICAgICAgICAgIGFjdGlvblN0YXRlQWN0aW9uRWZmZWN0LmJpbmQobnVsbCwgYWN0aW9uUXVldWUsIGFjdGlvbiksXG4gICAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICkpO1xuICAgICAgcmV0dXJuIFtjdXJyZW50U3RhdGVIb29rLCBkaXNwYXRjaCwgc3RhdGVIb29rXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWN0aW9uU3RhdGVBY3Rpb25FZmZlY3QoYWN0aW9uUXVldWUsIGFjdGlvbikge1xuICAgICAgYWN0aW9uUXVldWUuYWN0aW9uID0gYWN0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbikge1xuICAgICAgdmFyIHN0YXRlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBjdXJyZW50U3RhdGVIb29rID0gY3VycmVudEhvb2s7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudFN0YXRlSG9vaylcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlSW1wbChzdGF0ZUhvb2ssIGN1cnJlbnRTdGF0ZUhvb2ssIGFjdGlvbik7XG4gICAgICB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHN0YXRlSG9vayA9IHN0YXRlSG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgY3VycmVudFN0YXRlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgdmFyIGRpc3BhdGNoID0gY3VycmVudFN0YXRlSG9vay5xdWV1ZS5kaXNwYXRjaDtcbiAgICAgIGN1cnJlbnRTdGF0ZUhvb2subWVtb2l6ZWRTdGF0ZSA9IGFjdGlvbjtcbiAgICAgIHJldHVybiBbc3RhdGVIb29rLCBkaXNwYXRjaCwgITFdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoRWZmZWN0KHRhZywgY3JlYXRlLCBpbnN0LCBkZXBzKSB7XG4gICAgICB0YWcgPSB7IHRhZzogdGFnLCBjcmVhdGU6IGNyZWF0ZSwgaW5zdDogaW5zdCwgZGVwczogZGVwcywgbmV4dDogbnVsbCB9O1xuICAgICAgY3JlYXRlID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZTtcbiAgICAgIG51bGwgPT09IGNyZWF0ZSAmJlxuICAgICAgICAoKGNyZWF0ZSA9IGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUoKSksXG4gICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlID0gY3JlYXRlKSk7XG4gICAgICBpbnN0ID0gY3JlYXRlLmxhc3RFZmZlY3Q7XG4gICAgICBudWxsID09PSBpbnN0XG4gICAgICAgID8gKGNyZWF0ZS5sYXN0RWZmZWN0ID0gdGFnLm5leHQgPSB0YWcpXG4gICAgICAgIDogKChkZXBzID0gaW5zdC5uZXh0KSxcbiAgICAgICAgICAoaW5zdC5uZXh0ID0gdGFnKSxcbiAgICAgICAgICAodGFnLm5leHQgPSBkZXBzKSxcbiAgICAgICAgICAoY3JlYXRlLmxhc3RFZmZlY3QgPSB0YWcpKTtcbiAgICAgIHJldHVybiB0YWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50UmVmKGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaW5pdGlhbFZhbHVlID0geyBjdXJyZW50OiBpbml0aWFsVmFsdWUgfTtcbiAgICAgIHJldHVybiAoaG9vay5tZW1vaXplZFN0YXRlID0gaW5pdGlhbFZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRFZmZlY3RJbXBsKGZpYmVyRmxhZ3MsIGhvb2tGbGFncywgY3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IGZpYmVyRmxhZ3M7XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBwdXNoRWZmZWN0KFxuICAgICAgICBIYXNFZmZlY3QgfCBob29rRmxhZ3MsXG4gICAgICAgIGNyZWF0ZSxcbiAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUVmZmVjdEltcGwoZmliZXJGbGFncywgaG9va0ZsYWdzLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgaW5zdCA9IGhvb2subWVtb2l6ZWRTdGF0ZS5pbnN0O1xuICAgICAgbnVsbCAhPT0gY3VycmVudEhvb2sgJiZcbiAgICAgIG51bGwgIT09IGRlcHMgJiZcbiAgICAgIGFyZUhvb2tJbnB1dHNFcXVhbChkZXBzLCBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLmRlcHMpXG4gICAgICAgID8gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoaG9va0ZsYWdzLCBjcmVhdGUsIGluc3QsIGRlcHMpKVxuICAgICAgICA6ICgoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5mbGFncyB8PSBmaWJlckZsYWdzKSxcbiAgICAgICAgICAoaG9vay5tZW1vaXplZFN0YXRlID0gcHVzaEVmZmVjdChcbiAgICAgICAgICAgIEhhc0VmZmVjdCB8IGhvb2tGbGFncyxcbiAgICAgICAgICAgIGNyZWF0ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBkZXBzXG4gICAgICAgICAgKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIE5vU3RyaWN0UGFzc2l2ZUVmZmVjdHNNb2RlKSA9PT0gTm9Nb2RlXG4gICAgICAgID8gbW91bnRFZmZlY3RJbXBsKDE0MjYwODM4NCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKVxuICAgICAgICA6IG1vdW50RWZmZWN0SW1wbCg4MzkwNjU2LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBmaWJlckZsYWdzID0gNDE5NDMwODtcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAoZmliZXJGbGFncyB8PSA2NzEwODg2NCk7XG4gICAgICByZXR1cm4gbW91bnRFZmZlY3RJbXBsKGZpYmVyRmxhZ3MsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW1wZXJhdGl2ZUhhbmRsZUVmZmVjdChjcmVhdGUsIHJlZikge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZikge1xuICAgICAgICBjcmVhdGUgPSBjcmVhdGUoKTtcbiAgICAgICAgdmFyIHJlZkNsZWFudXAgPSByZWYoY3JlYXRlKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWZDbGVhbnVwID8gcmVmQ2xlYW51cCgpIDogcmVmKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgIT09IHJlZiAmJiB2b2lkIDAgIT09IHJlZilcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICByZWYuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50XCIpIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIHVzZUltcGVyYXRpdmVIYW5kbGUoKSBmaXJzdCBhcmd1bWVudCB0byBlaXRoZXIgYmUgYSByZWYgY2FsbGJhY2sgb3IgUmVhY3QuY3JlYXRlUmVmKCkgb2JqZWN0LiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICAgICAgXCJhbiBvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKHJlZikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKGNyZWF0ZSA9IGNyZWF0ZSgpKSxcbiAgICAgICAgICAocmVmLmN1cnJlbnQgPSBjcmVhdGUpLFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB1c2VJbXBlcmF0aXZlSGFuZGxlKCkgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgaGFuZGxlLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICBudWxsICE9PSBjcmVhdGUgPyB0eXBlb2YgY3JlYXRlIDogXCJudWxsXCJcbiAgICAgICAgKTtcbiAgICAgIGRlcHMgPSBudWxsICE9PSBkZXBzICYmIHZvaWQgMCAhPT0gZGVwcyA/IGRlcHMuY29uY2F0KFtyZWZdKSA6IG51bGw7XG4gICAgICB2YXIgZmliZXJGbGFncyA9IDQxOTQzMDg7XG4gICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgKGZpYmVyRmxhZ3MgfD0gNjcxMDg4NjQpO1xuICAgICAgbW91bnRFZmZlY3RJbXBsKFxuICAgICAgICBmaWJlckZsYWdzLFxuICAgICAgICBMYXlvdXQsXG4gICAgICAgIGltcGVyYXRpdmVIYW5kbGVFZmZlY3QuYmluZChudWxsLCBjcmVhdGUsIHJlZiksXG4gICAgICAgIGRlcHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNyZWF0ZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdXNlSW1wZXJhdGl2ZUhhbmRsZSgpIHNlY29uZCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGhhbmRsZS4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgbnVsbCAhPT0gY3JlYXRlID8gdHlwZW9mIGNyZWF0ZSA6IFwibnVsbFwiXG4gICAgICAgICk7XG4gICAgICBkZXBzID0gbnVsbCAhPT0gZGVwcyAmJiB2b2lkIDAgIT09IGRlcHMgPyBkZXBzLmNvbmNhdChbcmVmXSkgOiBudWxsO1xuICAgICAgdXBkYXRlRWZmZWN0SW1wbChcbiAgICAgICAgNCxcbiAgICAgICAgTGF5b3V0LFxuICAgICAgICBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0LmJpbmQobnVsbCwgY3JlYXRlLCByZWYpLFxuICAgICAgICBkZXBzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGUgPSBbXG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwc1xuICAgICAgXTtcbiAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgcHJldlN0YXRlID0gaG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGRlcHMgJiYgYXJlSG9va0lucHV0c0VxdWFsKGRlcHMsIHByZXZTdGF0ZVsxXSkpXG4gICAgICAgIHJldHVybiBwcmV2U3RhdGVbMF07XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBbY2FsbGJhY2ssIGRlcHNdO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudE1lbW8obmV4dENyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgZGVwcyA9IHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzO1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IG5leHRDcmVhdGUoKTtcbiAgICAgIGlmIChzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFVikge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV4dENyZWF0ZSgpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gW25leHRWYWx1ZSwgZGVwc107XG4gICAgICByZXR1cm4gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVNZW1vKG5leHRDcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgcHJldlN0YXRlID0gaG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGRlcHMgJiYgYXJlSG9va0lucHV0c0VxdWFsKGRlcHMsIHByZXZTdGF0ZVsxXSkpXG4gICAgICAgIHJldHVybiBwcmV2U3RhdGVbMF07XG4gICAgICBwcmV2U3RhdGUgPSBuZXh0Q3JlYXRlKCk7XG4gICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5leHRDcmVhdGUoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IFtwcmV2U3RhdGUsIGRlcHNdO1xuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlRGVmZXJyZWRWYWx1ZUltcGwoXG4gICAgICAgIGhvb2ssXG4gICAgICAgIGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbml0aWFsVmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGN1cnJlbnRIb29rXG4gICAgICAgID8gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKVxuICAgICAgICA6IHVwZGF0ZURlZmVycmVkVmFsdWVJbXBsKFxuICAgICAgICAgICAgaG9vayxcbiAgICAgICAgICAgIGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50RGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgdmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gaW5pdGlhbFZhbHVlIHx8IDAgIT09IChyZW5kZXJMYW5lcyAmIDEwNzM3NDE4MjQpKVxuICAgICAgICByZXR1cm4gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHZhbHVlKTtcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICAgIGhvb2sgPSByZXF1ZXN0RGVmZXJyZWRMYW5lKCk7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IGhvb2s7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gaG9vaztcbiAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHByZXZWYWx1ZSwgdmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgaWYgKG9iamVjdElzKHZhbHVlLCBwcmV2VmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvci5jdXJyZW50KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChob29rID0gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKSksXG4gICAgICAgICAgb2JqZWN0SXMoaG9vaywgcHJldlZhbHVlKSB8fCAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSxcbiAgICAgICAgICBob29rXG4gICAgICAgICk7XG4gICAgICBpZiAoMCA9PT0gKHJlbmRlckxhbmVzICYgNDIpKVxuICAgICAgICByZXR1cm4gKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCksIChob29rLm1lbW9pemVkU3RhdGUgPSB2YWx1ZSk7XG4gICAgICBob29rID0gcmVxdWVzdERlZmVycmVkTGFuZSgpO1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSBob29rO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IGhvb2s7XG4gICAgICByZXR1cm4gcHJldlZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydFRyYW5zaXRpb24oXG4gICAgICBmaWJlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgZmluaXNoZWRTdGF0ZSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5wID1cbiAgICAgICAgMCAhPT0gcHJldmlvdXNQcmlvcml0eSAmJiBwcmV2aW91c1ByaW9yaXR5IDwgQ29udGludW91c0V2ZW50UHJpb3JpdHlcbiAgICAgICAgICA/IHByZXZpb3VzUHJpb3JpdHlcbiAgICAgICAgICA6IENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSB7fTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBjdXJyZW50VHJhbnNpdGlvbjtcbiAgICAgIGRpc3BhdGNoT3B0aW1pc3RpY1NldFN0YXRlKGZpYmVyLCAhMSwgcXVldWUsIHBlbmRpbmdTdGF0ZSk7XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGNhbGxiYWNrKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIHRoZW5hYmxlRm9yRmluaXNoZWRTdGF0ZSA9IGNoYWluVGhlbmFibGVWYWx1ZShcbiAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgZmluaXNoZWRTdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgIHRoZW5hYmxlRm9yRmluaXNoZWRTdGF0ZSxcbiAgICAgICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICBmaW5pc2hlZFN0YXRlLFxuICAgICAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgICBmaWJlcixcbiAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICB7IHRoZW46IGZ1bmN0aW9uICgpIHt9LCBzdGF0dXM6IFwicmVqZWN0ZWRcIiwgcmVhc29uOiBlcnJvciB9LFxuICAgICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKVxuICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKSxcbiAgICAgICAgICBudWxsID09PSBwcmV2VHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAgICgoZmliZXIgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmNsZWFyKCksXG4gICAgICAgICAgICAxMCA8IGZpYmVyICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIkRldGVjdGVkIGEgbGFyZ2UgbnVtYmVyIG9mIHVwZGF0ZXMgaW5zaWRlIHN0YXJ0VHJhbnNpdGlvbi4gSWYgdGhpcyBpcyBkdWUgdG8gYSBzdWJzY3JpcHRpb24gcGxlYXNlIHJlLXdyaXRlIGl0IHRvIHVzZSBSZWFjdCBwcm92aWRlZCBob29rcy4gT3RoZXJ3aXNlIGNvbmN1cnJlbnQgbW9kZSBndWFyYW50ZWVzIGFyZSBvZmYgdGhlIHRhYmxlLlwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydEhvc3RUcmFuc2l0aW9uKGZvcm1GaWJlciwgcGVuZGluZ1N0YXRlLCBhY3Rpb24sIGZvcm1EYXRhKSB7XG4gICAgICBpZiAoNSAhPT0gZm9ybUZpYmVyLnRhZylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB0aGUgZm9ybSBpbnN0YW5jZSB0byBiZSBhIEhvc3RDb21wb25lbnQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBxdWV1ZSA9IGVuc3VyZUZvcm1Db21wb25lbnRJc1N0YXRlZnVsKGZvcm1GaWJlcikucXVldWU7XG4gICAgICBzdGFydFRyYW5zaXRpb24oXG4gICAgICAgIGZvcm1GaWJlcixcbiAgICAgICAgcXVldWUsXG4gICAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgICAgTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIG51bGwgPT09IGFjdGlvblxuICAgICAgICAgID8gbm9vcCQyXG4gICAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlcXVlc3RGb3JtUmVzZXQkMShmb3JtRmliZXIpO1xuICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uKGZvcm1EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuc3VyZUZvcm1Db21wb25lbnRJc1N0YXRlZnVsKGZvcm1GaWJlcikge1xuICAgICAgdmFyIGV4aXN0aW5nU3RhdGVIb29rID0gZm9ybUZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZXhpc3RpbmdTdGF0ZUhvb2spIHJldHVybiBleGlzdGluZ1N0YXRlSG9vaztcbiAgICAgIGV4aXN0aW5nU3RhdGVIb29rID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgYmFzZVN0YXRlOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgYmFzZVF1ZXVlOiBudWxsLFxuICAgICAgICBxdWV1ZToge1xuICAgICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYmFzaWNTdGF0ZVJlZHVjZXIsXG4gICAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICB2YXIgaW5pdGlhbFJlc2V0U3RhdGUgPSB7fTtcbiAgICAgIGV4aXN0aW5nU3RhdGVIb29rLm5leHQgPSB7XG4gICAgICAgIG1lbW9pemVkU3RhdGU6IGluaXRpYWxSZXNldFN0YXRlLFxuICAgICAgICBiYXNlU3RhdGU6IGluaXRpYWxSZXNldFN0YXRlLFxuICAgICAgICBiYXNlUXVldWU6IG51bGwsXG4gICAgICAgIHF1ZXVlOiB7XG4gICAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgICBsYW5lczogMCxcbiAgICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFJlc2V0U3RhdGVcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGZvcm1GaWJlci5tZW1vaXplZFN0YXRlID0gZXhpc3RpbmdTdGF0ZUhvb2s7XG4gICAgICBmb3JtRmliZXIgPSBmb3JtRmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gZm9ybUZpYmVyICYmIChmb3JtRmliZXIubWVtb2l6ZWRTdGF0ZSA9IGV4aXN0aW5nU3RhdGVIb29rKTtcbiAgICAgIHJldHVybiBleGlzdGluZ1N0YXRlSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdEZvcm1SZXNldCQxKGZvcm1GaWJlcikge1xuICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwicmVxdWVzdEZvcm1SZXNldCB3YXMgY2FsbGVkIG91dHNpZGUgYSB0cmFuc2l0aW9uIG9yIGFjdGlvbi4gVG8gZml4LCBtb3ZlIHRvIGFuIGFjdGlvbiwgb3Igd3JhcCB3aXRoIHN0YXJ0VHJhbnNpdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHJlc2V0U3RhdGVRdWV1ZSA9IGVuc3VyZUZvcm1Db21wb25lbnRJc1N0YXRlZnVsKGZvcm1GaWJlcikubmV4dC5xdWV1ZTtcbiAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgZm9ybUZpYmVyLFxuICAgICAgICByZXNldFN0YXRlUXVldWUsXG4gICAgICAgIHt9LFxuICAgICAgICByZXF1ZXN0VXBkYXRlTGFuZShmb3JtRmliZXIpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgc3RhdGVIb29rID0gbW91bnRTdGF0ZUltcGwoITEpO1xuICAgICAgc3RhdGVIb29rID0gc3RhcnRUcmFuc2l0aW9uLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIHN0YXRlSG9vay5xdWV1ZSxcbiAgICAgICAgITAsXG4gICAgICAgICExXG4gICAgICApO1xuICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlID0gc3RhdGVIb29rO1xuICAgICAgcmV0dXJuIFshMSwgc3RhdGVIb29rXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBib29sZWFuT3JUaGVuYWJsZSA9IHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpWzBdLFxuICAgICAgICBzdGFydCA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgPyBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgIDogdXNlVGhlbmFibGUoYm9vbGVhbk9yVGhlbmFibGUpLFxuICAgICAgICBzdGFydFxuICAgICAgXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIGJvb2xlYW5PclRoZW5hYmxlID0gcmVyZW5kZXJSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKVswXSxcbiAgICAgICAgc3RhcnQgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgID8gYm9vbGVhbk9yVGhlbmFibGVcbiAgICAgICAgICA6IHVzZVRoZW5hYmxlKGJvb2xlYW5PclRoZW5hYmxlKSxcbiAgICAgICAgc3RhcnRcbiAgICAgIF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzKCkge1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KEhvc3RUcmFuc2l0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SWQoKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggPSB3b3JrSW5Qcm9ncmVzc1Jvb3QuaWRlbnRpZmllclByZWZpeDtcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICB2YXIgdHJlZUlkID0gdHJlZUNvbnRleHRPdmVyZmxvdztcbiAgICAgICAgdmFyIGlkV2l0aExlYWRpbmdCaXQgPSB0cmVlQ29udGV4dElkO1xuICAgICAgICB0cmVlSWQgPVxuICAgICAgICAgIChcbiAgICAgICAgICAgIGlkV2l0aExlYWRpbmdCaXQgJiB+KDEgPDwgKDMyIC0gY2x6MzIoaWRXaXRoTGVhZGluZ0JpdCkgLSAxKSlcbiAgICAgICAgICApLnRvU3RyaW5nKDMyKSArIHRyZWVJZDtcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IFwiOlwiICsgaWRlbnRpZmllclByZWZpeCArIFwiUlwiICsgdHJlZUlkO1xuICAgICAgICB0cmVlSWQgPSBsb2NhbElkQ291bnRlcisrO1xuICAgICAgICAwIDwgdHJlZUlkICYmIChpZGVudGlmaWVyUHJlZml4ICs9IFwiSFwiICsgdHJlZUlkLnRvU3RyaW5nKDMyKSk7XG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggKz0gXCI6XCI7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRyZWVJZCA9IGdsb2JhbENsaWVudElkQ291bnRlcisrKSxcbiAgICAgICAgICAoaWRlbnRpZmllclByZWZpeCA9XG4gICAgICAgICAgICBcIjpcIiArIGlkZW50aWZpZXJQcmVmaXggKyBcInJcIiArIHRyZWVJZC50b1N0cmluZygzMikgKyBcIjpcIik7XG4gICAgICByZXR1cm4gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IGlkZW50aWZpZXJQcmVmaXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFJlZnJlc2goKSB7XG4gICAgICByZXR1cm4gKG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZSA9IHJlZnJlc2hDYWNoZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxXG4gICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVmcmVzaENhY2hlKGZpYmVyLCBzZWVkS2V5KSB7XG4gICAgICBmb3IgKHZhciBwcm92aWRlciA9IGZpYmVyLnJldHVybjsgbnVsbCAhPT0gcHJvdmlkZXI7ICkge1xuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShwcm92aWRlcik7XG4gICAgICAgICAgICBmaWJlciA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICAgIHZhciByb290ID0gZW5xdWV1ZVVwZGF0ZShwcm92aWRlciwgZmliZXIsIGxhbmUpO1xuICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIHByb3ZpZGVyLCBsYW5lKSxcbiAgICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhyb290LCBwcm92aWRlciwgbGFuZSkpO1xuICAgICAgICAgICAgcHJvdmlkZXIgPSBjcmVhdGVDYWNoZSgpO1xuICAgICAgICAgICAgbnVsbCAhPT0gc2VlZEtleSAmJlxuICAgICAgICAgICAgICB2b2lkIDAgIT09IHNlZWRLZXkgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIHNlZWQgYXJndW1lbnQgaXMgbm90IGVuYWJsZWQgb3V0c2lkZSBleHBlcmltZW50YWwgY2hhbm5lbHMuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZpYmVyLnBheWxvYWQgPSB7IGNhY2hlOiBwcm92aWRlciB9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXIucmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaFJlZHVjZXJBY3Rpb24oXG4gICAgICBmaWJlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgYWN0aW9uLFxuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDAgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlN0YXRlIHVwZGF0ZXMgZnJvbSB0aGUgdXNlU3RhdGUoKSBhbmQgdXNlUmVkdWNlcigpIEhvb2tzIGRvbid0IHN1cHBvcnQgdGhlIHNlY29uZCBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiB0aGUgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICApO1xuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwID0gcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpO1xuICAgICAgYWN0aW9uID0ge1xuICAgICAgICBsYW5lOiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDAsXG4gICAgICAgIHJldmVydExhbmU6IDAsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBoYXNFYWdlclN0YXRlOiAhMSxcbiAgICAgICAgZWFnZXJTdGF0ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpXG4gICAgICAgID8gZW5xdWV1ZVJlbmRlclBoYXNlVXBkYXRlKHF1ZXVlLCBhY3Rpb24pXG4gICAgICAgIDogKChhY3Rpb24gPSBlbnF1ZXVlQ29uY3VycmVudEhvb2tVcGRhdGUoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgICAgICAgKSksXG4gICAgICAgICAgbnVsbCAhPT0gYWN0aW9uICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKFxuICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25VcGRhdGUoXG4gICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMFxuICAgICAgICAgICAgKSkpO1xuICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaFNldFN0YXRlKFxuICAgICAgZmliZXIsXG4gICAgICBxdWV1ZSxcbiAgICAgIGFjdGlvbixcbiAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMVxuICAgICkge1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJTdGF0ZSB1cGRhdGVzIGZyb20gdGhlIHVzZVN0YXRlKCkgYW5kIHVzZVJlZHVjZXIoKSBIb29rcyBkb24ndCBzdXBwb3J0IHRoZSBzZWNvbmQgY2FsbGJhY2sgYXJndW1lbnQuIFRvIGV4ZWN1dGUgYSBzaWRlIGVmZmVjdCBhZnRlciByZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gdGhlIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgKTtcbiAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMSA9IHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKTtcbiAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgZmliZXIsXG4gICAgICAgIHF1ZXVlLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMVxuICAgICAgKTtcbiAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKGZpYmVyLCBxdWV1ZSwgYWN0aW9uLCBsYW5lKSB7XG4gICAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgICBsYW5lOiBsYW5lLFxuICAgICAgICByZXZlcnRMYW5lOiAwLFxuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgaGFzRWFnZXJTdGF0ZTogITEsXG4gICAgICAgIGVhZ2VyU3RhdGU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcikpIGVucXVldWVSZW5kZXJQaGFzZVVwZGF0ZShxdWV1ZSwgdXBkYXRlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgMCA9PT0gZmliZXIubGFuZXMgJiZcbiAgICAgICAgICAobnVsbCA9PT0gYWx0ZXJuYXRlIHx8IDAgPT09IGFsdGVybmF0ZS5sYW5lcykgJiZcbiAgICAgICAgICAoKGFsdGVybmF0ZSA9IHF1ZXVlLmxhc3RSZW5kZXJlZFJlZHVjZXIpLCBudWxsICE9PSBhbHRlcm5hdGUpXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gcXVldWUubGFzdFJlbmRlcmVkU3RhdGUsXG4gICAgICAgICAgICAgIGVhZ2VyU3RhdGUgPSBhbHRlcm5hdGUoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgICAgICAgICAgdXBkYXRlLmhhc0VhZ2VyU3RhdGUgPSAhMDtcbiAgICAgICAgICAgIHVwZGF0ZS5lYWdlclN0YXRlID0gZWFnZXJTdGF0ZTtcbiAgICAgICAgICAgIGlmIChvYmplY3RJcyhlYWdlclN0YXRlLCBjdXJyZW50U3RhdGUpKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgcXVldWUsIHVwZGF0ZSwgMCksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICAgICAgICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFjdGlvbiA9IGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShmaWJlciwgcXVldWUsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICAgIGlmIChudWxsICE9PSBhY3Rpb24pXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihhY3Rpb24sIGZpYmVyLCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvblVwZGF0ZShhY3Rpb24sIHF1ZXVlLCBsYW5lKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUoXG4gICAgICBmaWJlcixcbiAgICAgIHRocm93SWZEdXJpbmdSZW5kZXIsXG4gICAgICBxdWV1ZSxcbiAgICAgIGFjdGlvblxuICAgICkge1xuICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCAmJlxuICAgICAgICAwID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQW4gb3B0aW1pc3RpYyBzdGF0ZSB1cGRhdGUgb2NjdXJyZWQgb3V0c2lkZSBhIHRyYW5zaXRpb24gb3IgYWN0aW9uLiBUbyBmaXgsIG1vdmUgdGhlIHVwZGF0ZSB0byBhbiBhY3Rpb24sIG9yIHdyYXAgd2l0aCBzdGFydFRyYW5zaXRpb24uXCJcbiAgICAgICAgKTtcbiAgICAgIGFjdGlvbiA9IHtcbiAgICAgICAgbGFuZTogMixcbiAgICAgICAgcmV2ZXJ0TGFuZTogcmVxdWVzdFRyYW5zaXRpb25MYW5lKCksXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBoYXNFYWdlclN0YXRlOiAhMSxcbiAgICAgICAgZWFnZXJTdGF0ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmIChpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSkge1xuICAgICAgICBpZiAodGhyb3dJZkR1cmluZ1JlbmRlcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgb3B0aW1pc3RpYyBzdGF0ZSB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGNhbGwgc3RhcnRUcmFuc2l0aW9uIHdoaWxlIHJlbmRlcmluZy5cIik7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRocm93SWZEdXJpbmdSZW5kZXIgPSBlbnF1ZXVlQ29uY3VycmVudEhvb2tVcGRhdGUoXG4gICAgICAgICAgZmliZXIsXG4gICAgICAgICAgcXVldWUsXG4gICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgIDJcbiAgICAgICAgKSksXG4gICAgICAgICAgbnVsbCAhPT0gdGhyb3dJZkR1cmluZ1JlbmRlciAmJlxuICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHRocm93SWZEdXJpbmdSZW5kZXIsIGZpYmVyLCAyKTtcbiAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgMik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBmaWJlciA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSB8fFxuICAgICAgICAobnVsbCAhPT0gYWx0ZXJuYXRlICYmIGFsdGVybmF0ZSA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVSZW5kZXJQaGFzZVVwZGF0ZShxdWV1ZSwgdXBkYXRlKSB7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgPVxuICAgICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITA7XG4gICAgICB2YXIgcGVuZGluZyA9IHF1ZXVlLnBlbmRpbmc7XG4gICAgICBudWxsID09PSBwZW5kaW5nXG4gICAgICAgID8gKHVwZGF0ZS5uZXh0ID0gdXBkYXRlKVxuICAgICAgICA6ICgodXBkYXRlLm5leHQgPSBwZW5kaW5nLm5leHQpLCAocGVuZGluZy5uZXh0ID0gdXBkYXRlKSk7XG4gICAgICBxdWV1ZS5wZW5kaW5nID0gdXBkYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRhbmdsZVRyYW5zaXRpb25VcGRhdGUocm9vdCwgcXVldWUsIGxhbmUpIHtcbiAgICAgIGlmICgwICE9PSAobGFuZSAmIDQxOTQxNzYpKSB7XG4gICAgICAgIHZhciBxdWV1ZUxhbmVzID0gcXVldWUubGFuZXM7XG4gICAgICAgIHF1ZXVlTGFuZXMgJj0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAgIGxhbmUgfD0gcXVldWVMYW5lcztcbiAgICAgICAgcXVldWUubGFuZXMgPSBsYW5lO1xuICAgICAgICBtYXJrUm9vdEVudGFuZ2xlZChyb290LCBsYW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICBpZiAobnVsbCAhPT0gY2FsbGJhY2sgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGtleSA9IFN0cmluZyhjYWxsYmFjayk7XG4gICAgICAgIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5oYXMoa2V5KSB8fFxuICAgICAgICAgIChkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suYWRkKGtleSksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBjdG9yLFxuICAgICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgICAgbmV4dFByb3BzXG4gICAgKSB7XG4gICAgICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgcGFydGlhbFN0YXRlID0gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFydGlhbFN0YXRlID0gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZvaWQgMCA9PT0gcGFydGlhbFN0YXRlICYmXG4gICAgICAgICgoY3RvciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShjdG9yKSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmhhcyhjdG9yKSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuYWRkKGN0b3IpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLlwiLFxuICAgICAgICAgICAgY3RvclxuICAgICAgICAgICkpKTtcbiAgICAgIHByZXZTdGF0ZSA9XG4gICAgICAgIG51bGwgPT09IHBhcnRpYWxTdGF0ZSB8fCB2b2lkIDAgPT09IHBhcnRpYWxTdGF0ZVxuICAgICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgICAgOiBhc3NpZ24oe30sIHByZXZTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBwcmV2U3RhdGU7XG4gICAgICAwID09PSB3b3JrSW5Qcm9ncmVzcy5sYW5lcyAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuYmFzZVN0YXRlID0gcHJldlN0YXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGN0b3IsXG4gICAgICBvbGRQcm9wcyxcbiAgICAgIG5ld1Byb3BzLFxuICAgICAgb2xkU3RhdGUsXG4gICAgICBuZXdTdGF0ZSxcbiAgICAgIG5leHRDb250ZXh0XG4gICAgKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB7XG4gICAgICAgIG9sZFByb3BzID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgIG5leHRDb250ZXh0XG4gICAgICAgICk7XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2xkUHJvcHMgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgbmV4dENvbnRleHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdm9pZCAwID09PSBvbGRQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLnNob3VsZENvbXBvbmVudFVwZGF0ZSgpOiBSZXR1cm5lZCB1bmRlZmluZWQgaW5zdGVhZCBvZiBhIGJvb2xlYW4gdmFsdWUuIE1ha2Ugc3VyZSB0byByZXR1cm4gdHJ1ZSBvciBmYWxzZS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShjdG9yKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG9sZFByb3BzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN0b3IucHJvdG90eXBlICYmIGN0b3IucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50XG4gICAgICAgID8gIXNoYWxsb3dFcXVhbChvbGRQcm9wcywgbmV3UHJvcHMpIHx8ICFzaGFsbG93RXF1YWwob2xkU3RhdGUsIG5ld1N0YXRlKVxuICAgICAgICA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBuZXdQcm9wcyxcbiAgICAgIG5leHRDb250ZXh0XG4gICAgKSB7XG4gICAgICB2YXIgb2xkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV4dENvbnRleHQpO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICAgIGluc3RhbmNlLnN0YXRlICE9PSBvbGRTdGF0ZSAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50Lmhhcyh3b3JrSW5Qcm9ncmVzcykgfHxcbiAgICAgICAgICAoZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50LmFkZCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gdGhpcy5zdGF0ZSBpcyBkZXByZWNhdGVkIChleGNlcHQgaW5zaWRlIGEgY29tcG9uZW50J3MgY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKSksXG4gICAgICAgIGNsYXNzQ29tcG9uZW50VXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGluc3RhbmNlLnN0YXRlLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKENvbXBvbmVudCwgYmFzZVByb3BzKSB7XG4gICAgICB2YXIgbmV3UHJvcHMgPSBiYXNlUHJvcHM7XG4gICAgICBpZiAoXCJyZWZcIiBpbiBiYXNlUHJvcHMpIHtcbiAgICAgICAgbmV3UHJvcHMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gYmFzZVByb3BzKVxuICAgICAgICAgIFwicmVmXCIgIT09IHByb3BOYW1lICYmIChuZXdQcm9wc1twcm9wTmFtZV0gPSBiYXNlUHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIGlmICgoQ29tcG9uZW50ID0gQ29tcG9uZW50LmRlZmF1bHRQcm9wcykpIHtcbiAgICAgICAgbmV3UHJvcHMgPT09IGJhc2VQcm9wcyAmJiAobmV3UHJvcHMgPSBhc3NpZ24oe30sIG5ld1Byb3BzKSk7XG4gICAgICAgIGZvciAodmFyIF9wcm9wTmFtZSBpbiBDb21wb25lbnQpXG4gICAgICAgICAgdm9pZCAwID09PSBuZXdQcm9wc1tfcHJvcE5hbWVdICYmXG4gICAgICAgICAgICAobmV3UHJvcHNbX3Byb3BOYW1lXSA9IENvbXBvbmVudFtfcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdQcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmYXVsdE9uVW5jYXVnaHRFcnJvcihlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgICBlcnJvciA9IGNvbXBvbmVudE5hbWVcbiAgICAgICAgPyBcIkFuIGVycm9yIG9jY3VycmVkIGluIHRoZSA8XCIgKyBjb21wb25lbnROYW1lICsgXCI+IGNvbXBvbmVudC5cIlxuICAgICAgICA6IFwiQW4gZXJyb3Igb2NjdXJyZWQgaW4gb25lIG9mIHlvdXIgUmVhY3QgY29tcG9uZW50cy5cIjtcbiAgICAgIHZhciBwcmV2R2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrLFxuICAgICAgICBjb21wb25lbnRTdGFjayA9XG4gICAgICAgICAgbnVsbCAhPSBlcnJvckluZm8uY29tcG9uZW50U3RhY2sgPyBlcnJvckluZm8uY29tcG9uZW50U3RhY2sgOiBcIlwiO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50U3RhY2s7XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiJXNcXG5cXG4lc1xcblwiLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIFwiQ29uc2lkZXIgYWRkaW5nIGFuIGVycm9yIGJvdW5kYXJ5IHRvIHlvdXIgdHJlZSB0byBjdXN0b21pemUgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IuXFxuVmlzaXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy5cIlxuICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmYXVsdE9uQ2F1Z2h0RXJyb3IoZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWVNZXNzYWdlID0gY29tcG9uZW50TmFtZVxuICAgICAgICAgID8gXCJUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDxcIiArIGNvbXBvbmVudE5hbWUgKyBcIj4gY29tcG9uZW50LlwiXG4gICAgICAgICAgOiBcIlRoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzLlwiLFxuICAgICAgICByZWNyZWF0ZU1lc3NhZ2UgPVxuICAgICAgICAgIFwiUmVhY3Qgd2lsbCB0cnkgdG8gcmVjcmVhdGUgdGhpcyBjb21wb25lbnQgdHJlZSBmcm9tIHNjcmF0Y2ggdXNpbmcgdGhlIGVycm9yIGJvdW5kYXJ5IHlvdSBwcm92aWRlZCwgXCIgK1xuICAgICAgICAgICgoZXJyb3JCb3VuZGFyeU5hbWUgfHwgXCJBbm9ueW1vdXNcIikgKyBcIi5cIiksXG4gICAgICAgIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2ssXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID1cbiAgICAgICAgICBudWxsICE9IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA/IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA6IFwiXCI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRTdGFjaztcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLmVudmlyb25tZW50TmFtZVxuICAgICAgICAgID8gYmluZFRvQ29uc29sZShcbiAgICAgICAgICAgICAgXCJlcnJvclwiLFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgXCIlb1xcblxcbiVzXFxuXFxuJXNcXG5cIixcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lTWVzc2FnZSxcbiAgICAgICAgICAgICAgICByZWNyZWF0ZU1lc3NhZ2VcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgZXJyb3IuZW52aXJvbm1lbnROYW1lXG4gICAgICAgICAgICApKClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJW9cXG5cXG4lc1xcblxcbiVzXFxuXCIsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lTWVzc2FnZSxcbiAgICAgICAgICAgICAgcmVjcmVhdGVNZXNzYWdlXG4gICAgICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmYXVsdE9uUmVjb3ZlcmFibGVFcnJvcihlcnJvcikge1xuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb2dVbmNhdWdodEVycm9yKHJvb3QsIGVycm9ySW5mbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29tcG9uZW50TmFtZSA9IGVycm9ySW5mby5zb3VyY2VcbiAgICAgICAgICA/IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZXJyb3JJbmZvLnNvdXJjZSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgICAgICBpZiAobnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUpXG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgb25VbmNhdWdodEVycm9yID0gcm9vdC5vblVuY2F1Z2h0RXJyb3I7XG4gICAgICAgICAgb25VbmNhdWdodEVycm9yKGVycm9yLCB7IGNvbXBvbmVudFN0YWNrOiBlcnJvckluZm8uc3RhY2sgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUkNCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aHJvdyBlJDQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsb2dDYXVnaHRFcnJvcihyb290LCBib3VuZGFyeSwgZXJyb3JJbmZvKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb21wb25lbnROYW1lID0gZXJyb3JJbmZvLnNvdXJjZVxuICAgICAgICAgID8gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihlcnJvckluZm8uc291cmNlKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGJvdW5kYXJ5KTtcbiAgICAgICAgdmFyIG9uQ2F1Z2h0RXJyb3IgPSByb290Lm9uQ2F1Z2h0RXJyb3I7XG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IoZXJyb3JJbmZvLnZhbHVlLCB7XG4gICAgICAgICAgY29tcG9uZW50U3RhY2s6IGVycm9ySW5mby5zdGFjayxcbiAgICAgICAgICBlcnJvckJvdW5kYXJ5OiAxID09PSBib3VuZGFyeS50YWcgPyBib3VuZGFyeS5zdGF0ZU5vZGUgOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSQ1KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IGUkNTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShyb290LCBlcnJvckluZm8sIGxhbmUpIHtcbiAgICAgIGxhbmUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICBsYW5lLnRhZyA9IENhcHR1cmVVcGRhdGU7XG4gICAgICBsYW5lLnBheWxvYWQgPSB7IGVsZW1lbnQ6IG51bGwgfTtcbiAgICAgIGxhbmUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKGVycm9ySW5mby5zb3VyY2UsIGxvZ1VuY2F1Z2h0RXJyb3IsIHJvb3QsIGVycm9ySW5mbyk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUobGFuZSkge1xuICAgICAgbGFuZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgIGxhbmUudGFnID0gQ2FwdHVyZVVwZGF0ZTtcbiAgICAgIHJldHVybiBsYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplQ2xhc3NFcnJvclVwZGF0ZSh1cGRhdGUsIHJvb3QsIGZpYmVyLCBlcnJvckluZm8pIHtcbiAgICAgIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgPSBmaWJlci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IpIHtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgICAgICB1cGRhdGUucGF5bG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG1hcmtGYWlsZWRFcnJvckJvdW5kYXJ5Rm9ySG90UmVsb2FkaW5nKGZpYmVyKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGVycm9ySW5mby5zb3VyY2UsXG4gICAgICAgICAgICBsb2dDYXVnaHRFcnJvcixcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGVycm9ySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgaW5zdCA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIG51bGwgIT09IGluc3QgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdC5jb21wb25lbnREaWRDYXRjaCAmJlxuICAgICAgICAodXBkYXRlLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG1hcmtGYWlsZWRFcnJvckJvdW5kYXJ5Rm9ySG90UmVsb2FkaW5nKGZpYmVyKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGVycm9ySW5mby5zb3VyY2UsXG4gICAgICAgICAgICBsb2dDYXVnaHRFcnJvcixcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGVycm9ySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICYmXG4gICAgICAgICAgICAobnVsbCA9PT0gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWRcbiAgICAgICAgICAgICAgPyAobGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBuZXcgU2V0KFt0aGlzXSkpXG4gICAgICAgICAgICAgIDogbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuYWRkKHRoaXMpKTtcbiAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkQ2F0Y2hJbkRFVih0aGlzLCBlcnJvckluZm8pO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciB8fFxuICAgICAgICAgICAgKDAgPT09IChmaWJlci5sYW5lcyAmIDIpICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCIlczogRXJyb3IgYm91bmRhcmllcyBzaG91bGQgaW1wbGVtZW50IGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcigpLiBJbiB0aGF0IG1ldGhvZCwgcmV0dXJuIGEgc3RhdGUgdXBkYXRlIHRvIGRpc3BsYXkgYW4gZXJyb3IgbWVzc2FnZSBvciBmYWxsYmFjayBVSS5cIixcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKFxuICAgICAgcm9vdCxcbiAgICAgIHJldHVybkZpYmVyLFxuICAgICAgc291cmNlRmliZXIsXG4gICAgICB2YWx1ZSxcbiAgICAgIHJvb3RSZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgc291cmNlRmliZXIuZmxhZ3MgfD0gMzI3Njg7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIHJvb3RSZW5kZXJMYW5lcyk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHZhbHVlICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZS50aGVuXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci5hbHRlcm5hdGU7XG4gICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyICYmXG4gICAgICAgICAgcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgICAgICAgcm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBpc0h5ZHJhdGluZyAmJiAoZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMCk7XG4gICAgICAgIHNvdXJjZUZpYmVyID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgICAgaWYgKG51bGwgIT09IHNvdXJjZUZpYmVyKSB7XG4gICAgICAgICAgc3dpdGNoIChzb3VyY2VGaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gc2hlbGxCb3VuZGFyeVxuICAgICAgICAgICAgICAgICAgPyByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKClcbiAgICAgICAgICAgICAgICAgIDogbnVsbCA9PT0gc291cmNlRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RJblByb2dyZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzICY9IC0yNTcpLFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmxhbmVzID0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlXG4gICAgICAgICAgICAgICAgICA/IChzb3VyY2VGaWJlci5mbGFncyB8PSAxNjM4NClcbiAgICAgICAgICAgICAgICAgIDogKChyZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICA/IChzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSA9IG5ldyBTZXQoW3ZhbHVlXSkpXG4gICAgICAgICAgICAgICAgICAgICAgOiByZXR1cm5GaWJlci5hZGQodmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgdmFsdWUsIHJvb3RSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgICAgdmFsdWUgPT09IG5vb3BTdXNwZW5zZXlDb21taXRUaGVuYWJsZVxuICAgICAgICAgICAgICAgICAgPyAoc291cmNlRmliZXIuZmxhZ3MgfD0gMTYzODQpXG4gICAgICAgICAgICAgICAgICA6ICgocmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeVF1ZXVlOiBuZXcgU2V0KFt2YWx1ZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSA9IHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICgoc291cmNlRmliZXIgPSByZXR1cm5GaWJlci5yZXRyeVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gKHJldHVybkZpYmVyLnJldHJ5UXVldWUgPSBuZXcgU2V0KFt2YWx1ZV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNvdXJjZUZpYmVyLmFkZCh2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgdmFsdWUsIHJvb3RSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJVbmV4cGVjdGVkIFN1c3BlbnNlIGhhbmRsZXIgdGFnIChcIiArXG4gICAgICAgICAgICAgIHNvdXJjZUZpYmVyLnRhZyArXG4gICAgICAgICAgICAgIFwiKS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNoUGluZ0xpc3RlbmVyKHJvb3QsIHZhbHVlLCByb290UmVuZGVyTGFuZXMpO1xuICAgICAgICByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKCk7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0h5ZHJhdGluZylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMCksXG4gICAgICAgICAgKHJldHVybkZpYmVyID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCksXG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgID8gKDAgPT09IChyZXR1cm5GaWJlci5mbGFncyAmIDY1NTM2KSAmJiAocmV0dXJuRmliZXIuZmxhZ3MgfD0gMjU2KSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyLmxhbmVzID0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgdmFsdWUgIT09IEh5ZHJhdGlvbk1pc21hdGNoRXhjZXB0aW9uICYmXG4gICAgICAgICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBoeWRyYXRpbmcgYnV0IFJlYWN0IHdhcyBhYmxlIHRvIHJlY292ZXIgYnkgaW5zdGVhZCBjbGllbnQgcmVuZGVyaW5nIGZyb20gdGhlIG5lYXJlc3QgU3VzcGVuc2UgYm91bmRhcnkuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjYXVzZTogdmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6ICh2YWx1ZSAhPT0gSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIGh5ZHJhdGluZyBidXQgUmVhY3Qgd2FzIGFibGUgdG8gcmVjb3ZlciBieSBpbnN0ZWFkIGNsaWVudCByZW5kZXJpbmcgdGhlIGVudGlyZSByb290LlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2F1c2U6IHZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRmliZXJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAocm9vdCA9IHJvb3QuY3VycmVudC5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgICAocm9vdC5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgJj0gLXJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIChyb290LmxhbmVzIHw9IHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICh2YWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHZhbHVlLCBzb3VyY2VGaWJlcikpLFxuICAgICAgICAgICAgICAocm9vdFJlbmRlckxhbmVzID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgIHJvb3Quc3RhdGVOb2RlLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIHJvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHJvb3QsIHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgJiZcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RFcnJvcmVkKSksXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICBFcnJvcihcbiAgICAgICAgICBcIlRoZXJlIHdhcyBhbiBlcnJvciBkdXJpbmcgY29uY3VycmVudCByZW5kZXJpbmcgYnV0IFJlYWN0IHdhcyBhYmxlIHRvIHJlY292ZXIgYnkgaW5zdGVhZCBzeW5jaHJvbm91c2x5IHJlbmRlcmluZyB0aGUgZW50aXJlIHJvb3QuXCIsXG4gICAgICAgICAgeyBjYXVzZTogdmFsdWUgfVxuICAgICAgICApLFxuICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgKTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnNcbiAgICAgICAgPyAod29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycyA9IFtlcnJvcl0pXG4gICAgICAgIDogd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RXJyb3JlZCk7XG4gICAgICBpZiAobnVsbCA9PT0gcmV0dXJuRmliZXIpIHJldHVybiAhMDtcbiAgICAgIHZhbHVlID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodmFsdWUsIHNvdXJjZUZpYmVyKTtcbiAgICAgIHNvdXJjZUZpYmVyID0gcmV0dXJuRmliZXI7XG4gICAgICBkbyB7XG4gICAgICAgIHN3aXRjaCAoc291cmNlRmliZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgKHJvb3QgPSByb290UmVuZGVyTGFuZXMgJiAtcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmxhbmVzIHw9IHJvb3QpLFxuICAgICAgICAgICAgICAocm9vdCA9IGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShcbiAgICAgICAgICAgICAgICBzb3VyY2VGaWJlci5zdGF0ZU5vZGUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHNvdXJjZUZpYmVyLCByb290KSxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKHJldHVybkZpYmVyID0gc291cmNlRmliZXIudHlwZSksXG4gICAgICAgICAgICAgIChlcnJvciA9IHNvdXJjZUZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgIDAgPT09IChzb3VyY2VGaWJlci5mbGFncyAmIDEyOCkgJiZcbiAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuRmliZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIHx8XG4gICAgICAgICAgICAgICAgICAobnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZXJyb3IuY29tcG9uZW50RGlkQ2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT09IGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIWxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhlcnJvcikpKSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgICAocm9vdFJlbmRlckxhbmVzICY9IC1yb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5sYW5lcyB8PSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgPSBjcmVhdGVDbGFzc0Vycm9yVXBkYXRlKHJvb3RSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgcm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZShzb3VyY2VGaWJlciwgcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZUZpYmVyID0gc291cmNlRmliZXIucmV0dXJuO1xuICAgICAgfSB3aGlsZSAobnVsbCAhPT0gc291cmNlRmliZXIpO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9XG4gICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICA/IG1vdW50Q2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIG51bGwsIG5leHRDaGlsZHJlbiwgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgOiByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIGN1cnJlbnQuY2hpbGQsXG4gICAgICAgICAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZvcndhcmRSZWYoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50LnJlbmRlcjtcbiAgICAgIHZhciByZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICBpZiAoXCJyZWZcIiBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgdmFyIHByb3BzV2l0aG91dFJlZiA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV4dFByb3BzKVxuICAgICAgICAgIFwicmVmXCIgIT09IGtleSAmJiAocHJvcHNXaXRob3V0UmVmW2tleV0gPSBuZXh0UHJvcHNba2V5XSk7XG4gICAgICB9IGVsc2UgcHJvcHNXaXRob3V0UmVmID0gbmV4dFByb3BzO1xuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbmV4dFByb3BzID0gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBwcm9wc1dpdGhvdXRSZWYsXG4gICAgICAgIHJlZixcbiAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICk7XG4gICAgICBrZXkgPSBjaGVja0RpZFJlbmRlcklkSG9vaygpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmICFkaWRSZWNlaXZlVXBkYXRlKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICApO1xuICAgICAgaXNIeWRyYXRpbmcgJiYga2V5ICYmIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlTWVtb0NvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICB2YXIgdHlwZSA9IENvbXBvbmVudC50eXBlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICFzaG91bGRDb25zdHJ1Y3QodHlwZSkgJiZcbiAgICAgICAgICB2b2lkIDAgPT09IHR5cGUuZGVmYXVsdFByb3BzICYmXG4gICAgICAgICAgbnVsbCA9PT0gQ29tcG9uZW50LmNvbXBhcmVcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoQ29tcG9uZW50ID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHR5cGUpKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50YWcgPSAxNSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IENvbXBvbmVudCksXG4gICAgICAgICAgICB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIHR5cGUpLFxuICAgICAgICAgICAgdXBkYXRlU2ltcGxlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoXG4gICAgICAgICAgQ29tcG9uZW50LnR5cGUsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSxcbiAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICApO1xuICAgICAgICBjdXJyZW50LnJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgcmV0dXJuICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgdHlwZSA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICBpZiAoIWNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSkge1xuICAgICAgICB2YXIgcHJldlByb3BzID0gdHlwZS5tZW1vaXplZFByb3BzO1xuICAgICAgICBDb21wb25lbnQgPSBDb21wb25lbnQuY29tcGFyZTtcbiAgICAgICAgQ29tcG9uZW50ID0gbnVsbCAhPT0gQ29tcG9uZW50ID8gQ29tcG9uZW50IDogc2hhbGxvd0VxdWFsO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgQ29tcG9uZW50KHByZXZQcm9wcywgbmV4dFByb3BzKSAmJlxuICAgICAgICAgIGN1cnJlbnQucmVmID09PSB3b3JrSW5Qcm9ncmVzcy5yZWZcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIGN1cnJlbnQgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyh0eXBlLCBuZXh0UHJvcHMpO1xuICAgICAgY3VycmVudC5yZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICBjdXJyZW50LnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgcmV0dXJuICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzaGFsbG93RXF1YWwocHJldlByb3BzLCBuZXh0UHJvcHMpICYmXG4gICAgICAgICAgY3VycmVudC5yZWYgPT09IHdvcmtJblByb2dyZXNzLnJlZiAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPT09IGN1cnJlbnQudHlwZVxuICAgICAgICApXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKChkaWRSZWNlaXZlVXBkYXRlID0gITEpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IG5leHRQcm9wcyA9IHByZXZQcm9wcyksXG4gICAgICAgICAgICBjaGVja1NjaGVkdWxlZFVwZGF0ZU9yQ29udGV4dChjdXJyZW50LCByZW5kZXJMYW5lcykpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMzEwNzIpICYmIChkaWRSZWNlaXZlVXBkYXRlID0gITApO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGN1cnJlbnQubGFuZXMpLFxuICAgICAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9mZnNjcmVlbkNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgbmV4dElzRGV0YWNoZWQgPVxuICAgICAgICAgIDAgIT09XG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZCksXG4gICAgICAgIHByZXZTdGF0ZSA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkU3RhdGUgOiBudWxsO1xuICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBpZiAoXCJoaWRkZW5cIiA9PT0gbmV4dFByb3BzLm1vZGUgfHwgbmV4dElzRGV0YWNoZWQpIHtcbiAgICAgICAgaWYgKDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkpIHtcbiAgICAgICAgICBuZXh0UHJvcHMgPVxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgICAgID8gcHJldlN0YXRlLmJhc2VMYW5lcyB8IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgIDogcmVuZGVyTGFuZXM7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZDtcbiAgICAgICAgICAgIGZvciAobmV4dElzRGV0YWNoZWQgPSAwOyBudWxsICE9PSBuZXh0Q2hpbGRyZW47IClcbiAgICAgICAgICAgICAgKG5leHRJc0RldGFjaGVkID1cbiAgICAgICAgICAgICAgICBuZXh0SXNEZXRhY2hlZCB8IG5leHRDaGlsZHJlbi5sYW5lcyB8IG5leHRDaGlsZHJlbi5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgICAgICAobmV4dENoaWxkcmVuID0gbmV4dENoaWxkcmVuLnNpYmxpbmcpO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IG5leHRJc0RldGFjaGVkICYgfm5leHRQcm9wcztcbiAgICAgICAgICB9IGVsc2UgKHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSAwKSwgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbCk7XG4gICAgICAgICAgcmV0dXJuIGRlZmVySGlkZGVuT2Zmc2NyZWVuQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICgwICE9PSAocmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpKVxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0geyBiYXNlTGFuZXM6IDAsIGNhY2hlUG9vbDogbnVsbCB9KSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgcHVzaFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlID8gcHJldlN0YXRlLmNhY2hlUG9vbCA6IG51bGxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG51bGwgIT09IHByZXZTdGF0ZVxuICAgICAgICAgICAgICA/IHB1c2hIaWRkZW5Db250ZXh0KHdvcmtJblByb2dyZXNzLCBwcmV2U3RhdGUpXG4gICAgICAgICAgICAgIDogcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwdXNoT2Zmc2NyZWVuU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gNTM2ODcwOTEyKSxcbiAgICAgICAgICAgIGRlZmVySGlkZGVuT2Zmc2NyZWVuQ29tcG9uZW50KFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgICAgICAgPyBwcmV2U3RhdGUuYmFzZUxhbmVzIHwgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgPyAocHVzaFRyYW5zaXRpb24od29ya0luUHJvZ3Jlc3MsIHByZXZTdGF0ZS5jYWNoZVBvb2wpLFxuICAgICAgICAgICAgcHVzaEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHByZXZTdGF0ZSksXG4gICAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsKSlcbiAgICAgICAgICA6IChudWxsICE9PSBjdXJyZW50ICYmIHB1c2hUcmFuc2l0aW9uKHdvcmtJblByb2dyZXNzLCBudWxsKSxcbiAgICAgICAgICAgIHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmVySGlkZGVuT2Zmc2NyZWVuQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dEJhc2VMYW5lcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gcGVla0NhY2hlRnJvbVBvb2woKTtcbiAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9XG4gICAgICAgIG51bGwgPT09IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICBwYXJlbnQ6IENhY2hlQ29udGV4dC5fY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgICBwb29sOiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRcbiAgICAgICAgICAgIH07XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0ge1xuICAgICAgICBiYXNlTGFuZXM6IG5leHRCYXNlTGFuZXMsXG4gICAgICAgIGNhY2hlUG9vbDogSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0XG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwdXNoVHJhbnNpdGlvbih3b3JrSW5Qcm9ncmVzcywgbnVsbCk7XG4gICAgICByZXVzZUhpZGRlbkNvbnRleHRPblN0YWNrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHB1c2hPZmZzY3JlZW5TdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMsICEwKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgaWYgKG51bGwgPT09IHJlZilcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQucmVmICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwOTc2NjQpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZWYgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHJlZilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgcmVmIHRvIGJlIGEgZnVuY3Rpb24sIGFuIG9iamVjdCByZXR1cm5lZCBieSBSZWFjdC5jcmVhdGVSZWYoKSwgb3IgdW5kZWZpbmVkL251bGwuXCJcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCBjdXJyZW50LnJlZiAhPT0gcmVmKVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwOTc2NjQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgQ29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlclxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSA8JXMgLz4gY29tcG9uZW50IGFwcGVhcnMgdG8gaGF2ZSBhIHJlbmRlciBtZXRob2QsIGJ1dCBkb2Vzbid0IGV4dGVuZCBSZWFjdC5Db21wb25lbnQuIFRoaXMgaXMgbGlrZWx5IHRvIGNhdXNlIGVycm9ycy4gQ2hhbmdlICVzIHRvIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0QmFkQ2xhc3NbY29tcG9uZW50TmFtZV0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmcoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAodmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgQ29tcG9uZW50LmNvbnRleHRUeXBlcyAmJlxuICAgICAgICAgICgoY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXNbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgICAgICgoZGlkV2FybkFib3V0Q29udGV4dFR5cGVzW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlcyB1c2VzIHRoZSBsZWdhY3kgY29udGV4dFR5cGVzIEFQSSB3aGljaCB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gVXNlIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSB3aXRoIFJlYWN0LnVzZUNvbnRleHQoKSBpbnN0ZWFkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9sZWdhY3ktY29udGV4dClcIixcbiAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgKSkpKTtcbiAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIENvbXBvbmVudCA9IHJlbmRlcldpdGhIb29rcyhcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHJlbmRlckxhbmVzXG4gICAgICApO1xuICAgICAgbmV4dFByb3BzID0gY2hlY2tEaWRSZW5kZXJJZEhvb2soKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAhZGlkUmVjZWl2ZVVwZGF0ZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgKTtcbiAgICAgIGlzSHlkcmF0aW5nICYmIG5leHRQcm9wcyAmJiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgc2Vjb25kQXJnLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgY3VycmVudC50eXBlICE9PSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsO1xuICAgICAgbmV4dFByb3BzID0gcmVuZGVyV2l0aEhvb2tzQWdhaW4oXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgc2Vjb25kQXJnXG4gICAgICApO1xuICAgICAgZmluaXNoUmVuZGVyaW5nSG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgQ29tcG9uZW50ID0gY2hlY2tEaWRSZW5kZXJJZEhvb2soKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAhZGlkUmVjZWl2ZVVwZGF0ZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgKTtcbiAgICAgIGlzSHlkcmF0aW5nICYmIENvbXBvbmVudCAmJiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgY3VycmVudCRqc2NvbXAkMCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoc2hvdWxkRXJyb3JJbXBsKHdvcmtJblByb2dyZXNzKSkge1xuICAgICAgICBjYXNlICExOlxuICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUsXG4gICAgICAgICAgICBzdGF0ZSA9IG5ldyB3b3JrSW5Qcm9ncmVzcy50eXBlKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UuY29udGV4dFxuICAgICAgICAgICAgKS5zdGF0ZTtcbiAgICAgICAgICBfaW5zdGFuY2UudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUoX2luc3RhbmNlLCBzdGF0ZSwgbnVsbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgITA6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4O1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY1NTM2O1xuICAgICAgICAgIF9pbnN0YW5jZSA9IEVycm9yKFwiU2ltdWxhdGVkIGVycm9yIGNvbWluZyBmcm9tIERldlRvb2xzXCIpO1xuICAgICAgICAgIHZhciBsYW5lID0gcmVuZGVyTGFuZXMgJiAtcmVuZGVyTGFuZXM7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgfD0gbGFuZTtcbiAgICAgICAgICBzdGF0ZSA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gc3RhdGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBhIHdvcmstaW4tcHJvZ3Jlc3Mgcm9vdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGFuZSA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUobGFuZSk7XG4gICAgICAgICAgaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUoXG4gICAgICAgICAgICBsYW5lLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKF9pbnN0YW5jZSwgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIGxhbmUpO1xuICAgICAgfVxuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSkge1xuICAgICAgICBzdGF0ZSA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgX2luc3RhbmNlID0gQ29tcG9uZW50LmNvbnRleHRUeXBlO1xuICAgICAgICBcImNvbnRleHRUeXBlXCIgaW4gQ29tcG9uZW50ICYmXG4gICAgICAgICAgbnVsbCAhPT0gX2luc3RhbmNlICYmXG4gICAgICAgICAgKHZvaWQgMCA9PT0gX2luc3RhbmNlIHx8IF9pbnN0YW5jZS4kJHR5cGVvZiAhPT0gUkVBQ1RfQ09OVEVYVF9UWVBFKSAmJlxuICAgICAgICAgICFkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUuaGFzKENvbXBvbmVudCkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0SW52YWxpZGF0ZUNvbnRleHRUeXBlLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIChsYW5lID1cbiAgICAgICAgICAgIHZvaWQgMCA9PT0gX2luc3RhbmNlXG4gICAgICAgICAgICAgID8gXCIgSG93ZXZlciwgaXQgaXMgc2V0IHRvIHVuZGVmaW5lZC4gVGhpcyBjYW4gYmUgY2F1c2VkIGJ5IGEgdHlwbyBvciBieSBtaXhpbmcgdXAgbmFtZWQgYW5kIGRlZmF1bHQgaW1wb3J0cy4gVGhpcyBjYW4gYWxzbyBoYXBwZW4gZHVlIHRvIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSwgc28gdHJ5IG1vdmluZyB0aGUgY3JlYXRlQ29udGV4dCgpIGNhbGwgdG8gYSBzZXBhcmF0ZSBmaWxlLlwiXG4gICAgICAgICAgICAgIDogXCJvYmplY3RcIiAhPT0gdHlwZW9mIF9pbnN0YW5jZVxuICAgICAgICAgICAgICAgID8gXCIgSG93ZXZlciwgaXQgaXMgc2V0IHRvIGEgXCIgKyB0eXBlb2YgX2luc3RhbmNlICsgXCIuXCJcbiAgICAgICAgICAgICAgICA6IF9pbnN0YW5jZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRVxuICAgICAgICAgICAgICAgICAgPyBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIHRoZSBDb250ZXh0LkNvbnN1bWVyIGluc3RlYWQ/XCJcbiAgICAgICAgICAgICAgICAgIDogXCIgSG93ZXZlciwgaXQgaXMgc2V0IHRvIGFuIG9iamVjdCB3aXRoIGtleXMge1wiICtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoX2luc3RhbmNlKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIn0uXCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGRlZmluZXMgYW4gaW52YWxpZCBjb250ZXh0VHlwZS4gY29udGV4dFR5cGUgc2hvdWxkIHBvaW50IHRvIHRoZSBDb250ZXh0IG9iamVjdCByZXR1cm5lZCBieSBSZWFjdC5jcmVhdGVDb250ZXh0KCkuJXNcIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCIsXG4gICAgICAgICAgICBsYW5lXG4gICAgICAgICAgKSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBfaW5zdGFuY2UgJiZcbiAgICAgICAgICBudWxsICE9PSBfaW5zdGFuY2UgJiZcbiAgICAgICAgICAoc3RhdGUgPSByZWFkQ29udGV4dChfaW5zdGFuY2UpKTtcbiAgICAgICAgX2luc3RhbmNlID0gbmV3IENvbXBvbmVudChuZXh0UHJvcHMsIHN0YXRlKTtcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KG5leHRQcm9wcywgc3RhdGUpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgbnVsbCAhPT0gX2luc3RhbmNlLnN0YXRlICYmIHZvaWQgMCAhPT0gX2luc3RhbmNlLnN0YXRlXG4gICAgICAgICAgICA/IF9pbnN0YW5jZS5zdGF0ZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBfaW5zdGFuY2UudXBkYXRlciA9IGNsYXNzQ29tcG9uZW50VXBkYXRlcjtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gX2luc3RhbmNlO1xuICAgICAgICBfaW5zdGFuY2UuX3JlYWN0SW50ZXJuYWxzID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIF9pbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gZmFrZUludGVybmFsSW5zdGFuY2U7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiZcbiAgICAgICAgICBudWxsID09PSBzdGF0ZSAmJlxuICAgICAgICAgICgoc3RhdGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuaGFzKHN0YXRlKSB8fFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5hZGQoc3RhdGUpLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJgJXNgIHVzZXMgYGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc2AgYnV0IGl0cyBpbml0aWFsIHN0YXRlIGlzICVzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZC4gSW5zdGVhZCwgZGVmaW5lIHRoZSBpbml0aWFsIHN0YXRlIGJ5IGFzc2lnbmluZyBhbiBvYmplY3QgdG8gYHRoaXMuc3RhdGVgIGluIHRoZSBjb25zdHJ1Y3RvciBvZiBgJXNgLiBUaGlzIGVuc3VyZXMgdGhhdCBgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzYCBhcmd1bWVudHMgaGF2ZSBhIGNvbnNpc3RlbnQgc2hhcGUuXCIsXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBudWxsID09PSBfaW5zdGFuY2Uuc3RhdGUgPyBcIm51bGxcIiA6IFwidW5kZWZpbmVkXCIsXG4gICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICApKSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gKGxhbmUgPSBzdGF0ZSA9IG51bGwpO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAhMCAhPT0gX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgICA/IChzdGF0ZSA9IFwiY29tcG9uZW50V2lsbE1vdW50XCIpXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgIChzdGF0ZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFwiKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICEwICE9PVxuICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgICAgPyAobGFuZSA9IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiKVxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICAgICAobGFuZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIik7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAhMCAhPT0gX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgICAgPyAoZm91bmRXaWxsVXBkYXRlTmFtZSA9IFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiKVxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBcIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlXCIpO1xuICAgICAgICAgIGlmIChudWxsICE9PSBzdGF0ZSB8fCBudWxsICE9PSBsYW5lIHx8IG51bGwgIT09IGZvdW5kV2lsbFVwZGF0ZU5hbWUpIHtcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICAgICAgICB2YXIgbmV3QXBpTmFtZSA9XG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcbiAgICAgICAgICAgICAgICA/IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKClcIlxuICAgICAgICAgICAgICAgIDogXCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpXCI7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlLmhhcyhfaW5zdGFuY2UpIHx8XG4gICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlLmFkZChfaW5zdGFuY2UpLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5zYWZlIGxlZ2FjeSBsaWZlY3ljbGVzIHdpbGwgbm90IGJlIGNhbGxlZCBmb3IgY29tcG9uZW50cyB1c2luZyBuZXcgY29tcG9uZW50IEFQSXMuXFxuXFxuJXMgdXNlcyAlcyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOiVzJXMlc1xcblxcblRoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbmh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzXCIsXG4gICAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICAgIG5ld0FwaU5hbWUsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gc3RhdGUgPyBcIlxcbiAgXCIgKyBzdGF0ZSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbGFuZSA/IFwiXFxuICBcIiArIGxhbmUgOiBcIlwiLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGZvdW5kV2lsbFVwZGF0ZU5hbWUgPyBcIlxcbiAgXCIgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogXCJcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBzdGF0ZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICAgIF9pbnN0YW5jZS5yZW5kZXIgfHxcbiAgICAgICAgICAoQ29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyXG4gICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlICVzIGluc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yP1wiLFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIk5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgJXMgaW5zdGFuY2U6IHlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gZGVmaW5lIGByZW5kZXJgLlwiLFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAhX2luc3RhbmNlLmdldEluaXRpYWxTdGF0ZSB8fFxuICAgICAgICAgIF9pbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQgfHxcbiAgICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgfHxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJnZXRJbml0aWFsU3RhdGUgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiBEaWQgeW91IG1lYW4gdG8gZGVmaW5lIGEgc3RhdGUgcHJvcGVydHkgaW5zdGVhZD9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLmdldERlZmF1bHRQcm9wcyAmJlxuICAgICAgICAgICFfaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuIFRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBkZWZhdWx0UHJvcHMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLmNvbnRleHRUeXBlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiY29udGV4dFR5cGUgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgY29udGV4dFR5cGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzICYmXG4gICAgICAgICAgIWRpZFdhcm5BYm91dENoaWxkQ29udGV4dFR5cGVzLmhhcyhDb21wb25lbnQpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dENoaWxkQ29udGV4dFR5cGVzLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIHVzZXMgdGhlIGxlZ2FjeSBjaGlsZENvbnRleHRUeXBlcyBBUEkgd2hpY2ggd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIFVzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgaW5zdGVhZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHQpXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICkpO1xuICAgICAgICBDb21wb25lbnQuY29udGV4dFR5cGVzICYmXG4gICAgICAgICAgIWRpZFdhcm5BYm91dENvbnRleHRUeXBlcyQxLmhhcyhDb21wb25lbnQpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dENvbnRleHRUeXBlcyQxLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIHVzZXMgdGhlIGxlZ2FjeSBjb250ZXh0VHlwZXMgQVBJIHdoaWNoIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiBVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHdpdGggc3RhdGljIGNvbnRleHRUeXBlIGluc3RlYWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0KVwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFNob3VsZFVwZGF0ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCAmJlxuICAgICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBzaG91bGRDb21wb25lbnRVcGRhdGUoKS4gc2hvdWxkQ29tcG9uZW50VXBkYXRlIHNob3VsZCBub3QgYmUgdXNlZCB3aGVuIGV4dGVuZGluZyBSZWFjdC5QdXJlQ29tcG9uZW50LiBQbGVhc2UgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgaXMgdXNlZC5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQSBwdXJlIGNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVubW91bnQgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudERpZFVubW91bnQoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudERpZFJlY2VpdmVQcm9wcygpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiBJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgdXNlIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKS4gSWYgeW91IG1lYW50IHRvIGZldGNoIGRhdGEgb3IgcnVuIHNpZGUtZWZmZWN0cyBvciBtdXRhdGlvbnMgYWZ0ZXIgUmVhY3QgaGFzIHVwZGF0ZWQgdGhlIFVJLCB1c2UgY29tcG9uZW50RGlkVXBkYXRlKCkuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIGxhbmUgPSBfaW5zdGFuY2UucHJvcHMgIT09IG5leHRQcm9wcztcbiAgICAgICAgdm9pZCAwICE9PSBfaW5zdGFuY2UucHJvcHMgJiZcbiAgICAgICAgICBsYW5lICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiV2hlbiBjYWxsaW5nIHN1cGVyKCkgaW4gYCVzYCwgbWFrZSBzdXJlIHRvIHBhc3MgdXAgdGhlIHNhbWUgcHJvcHMgdGhhdCB5b3VyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yIHdhcyBwYXNzZWQuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZS5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJTZXR0aW5nIGRlZmF1bHRQcm9wcyBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlZmluZSBkZWZhdWx0UHJvcHMgYXMgYSBzdGF0aWMgcHJvcGVydHkgb24gJXMuXCIsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSB8fFxuICAgICAgICAgIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5oYXMoQ29tcG9uZW50KSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgc2hvdWxkIGJlIHVzZWQgd2l0aCBjb21wb25lbnREaWRVcGRhdGUoKS4gVGhpcyBjb21wb25lbnQgZGVmaW5lcyBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIG9ubHkuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KVxuICAgICAgICAgICkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcigpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBpcyBkZWZpbmVkIGFzIGEgc3RhdGljIG1ldGhvZCBhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGFuIGluc3RhbmNlIG1ldGhvZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgKGxhbmUgPSBfaW5zdGFuY2Uuc3RhdGUpICYmXG4gICAgICAgICAgKFwib2JqZWN0XCIgIT09IHR5cGVvZiBsYW5lIHx8IGlzQXJyYXlJbXBsKGxhbmUpKSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCIlcy5zdGF0ZTogbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0IG9yIG51bGxcIiwgc3RhdGUpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ICYmXG4gICAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gdXNlIGdldENoaWxkQ29udGV4dCgpLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IG5leHRQcm9wcztcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgX2luc3RhbmNlLnJlZnMgPSB7fTtcbiAgICAgICAgaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgc3RhdGUgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIF9pbnN0YW5jZS5jb250ZXh0ID1cbiAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygc3RhdGUgJiYgbnVsbCAhPT0gc3RhdGVcbiAgICAgICAgICAgID8gcmVhZENvbnRleHQoc3RhdGUpXG4gICAgICAgICAgICA6IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID09PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgICAoKHN0YXRlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgICAgZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUuaGFzKHN0YXRlKSB8fFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dERpcmVjdGx5QXNzaWduaW5nUHJvcHNUb1N0YXRlLmFkZChzdGF0ZSksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzOiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gYXNzaWduIHByb3BzIGRpcmVjdGx5IHRvIHN0YXRlIGJlY2F1c2UgdXBkYXRlcyB0byBwcm9wcyB3b24ndCBiZSByZWZsZWN0ZWQgaW4gc3RhdGUuIEluIG1vc3QgY2FzZXMsIGl0IGlzIGJldHRlciB0byB1c2UgcHJvcHMgZGlyZWN0bHkuXCIsXG4gICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICApKSk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmcoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIF9pbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIF9pbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBzdGF0ZSA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHN0YXRlICYmXG4gICAgICAgICAgKGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICksXG4gICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCkgfHxcbiAgICAgICAgICAoKHN0YXRlID0gX2luc3RhbmNlLnN0YXRlKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCksXG4gICAgICAgICAgc3RhdGUgIT09IF9pbnN0YW5jZS5zdGF0ZSAmJlxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJXMuY29tcG9uZW50V2lsbE1vdW50KCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2xhc3NDb21wb25lbnRVcGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoXG4gICAgICAgICAgICAgIF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgX2luc3RhbmNlLnN0YXRlLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgX2luc3RhbmNlLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpLFxuICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KTtcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NzEwODg2NCk7XG4gICAgICAgIF9pbnN0YW5jZSA9ICEwO1xuICAgICAgfSBlbHNlIGlmIChudWxsID09PSBjdXJyZW50JGpzY29tcCQwKSB7XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIHVucmVzb2x2ZWRPbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAgIGxhbmUgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhDb21wb25lbnQsIHVucmVzb2x2ZWRPbGRQcm9wcyk7XG4gICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IGxhbmU7XG4gICAgICAgIHZhciBvbGRDb250ZXh0ID0gX2luc3RhbmNlLmNvbnRleHQ7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIHN0YXRlID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZm91bmRXaWxsVXBkYXRlTmFtZSAmJlxuICAgICAgICAgIG51bGwgIT09IGZvdW5kV2lsbFVwZGF0ZU5hbWUgJiZcbiAgICAgICAgICAoc3RhdGUgPSByZWFkQ29udGV4dChmb3VuZFdpbGxVcGRhdGVOYW1lKSk7XG4gICAgICAgIG5ld0FwaU5hbWUgPSBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID1cbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdBcGlOYW1lIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlO1xuICAgICAgICB1bnJlc29sdmVkT2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgIT09IHVucmVzb2x2ZWRPbGRQcm9wcztcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSB8fFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB8fFxuICAgICAgICAgICgodW5yZXNvbHZlZE9sZFByb3BzIHx8IG9sZENvbnRleHQgIT09IHN0YXRlKSAmJlxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICkpO1xuICAgICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgICAgICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSBvbGRTdGF0ZTtcbiAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIF9pbnN0YW5jZSwgcmVuZGVyTGFuZXMpO1xuICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCk7XG4gICAgICAgIG9sZENvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICB1bnJlc29sdmVkT2xkUHJvcHMgfHwgb2xkU3RhdGUgIT09IG9sZENvbnRleHQgfHwgaGFzRm9yY2VVcGRhdGVcbiAgICAgICAgICA/IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdBcGlOYW1lICYmXG4gICAgICAgICAgICAgIChhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbmV3QXBpTmFtZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKG9sZENvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSksXG4gICAgICAgICAgICAobGFuZSA9XG4gICAgICAgICAgICAgIGhhc0ZvcmNlVXBkYXRlIHx8XG4gICAgICAgICAgICAgIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBsYW5lLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgICBvbGRDb250ZXh0LFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgID8gKGZvdW5kV2lsbFVwZGF0ZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpLFxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KSlcbiAgICAgICAgICAgICAgOiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBvbGRDb250ZXh0KSksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSBvbGRDb250ZXh0KSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UuY29udGV4dCA9IHN0YXRlKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSBsYW5lKSlcbiAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQxOTQzMDgpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9ICExKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIGNsb25lVXBkYXRlUXVldWUoY3VycmVudCRqc2NvbXAkMCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBzdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhDb21wb25lbnQsIHN0YXRlKTtcbiAgICAgICAgX2luc3RhbmNlLnByb3BzID0gZm91bmRXaWxsVXBkYXRlTmFtZTtcbiAgICAgICAgbmV3QXBpTmFtZSA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgICAgb2xkU3RhdGUgPSBfaW5zdGFuY2UuY29udGV4dDtcbiAgICAgICAgb2xkQ29udGV4dCA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgbGFuZSA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9sZENvbnRleHQgJiZcbiAgICAgICAgICBudWxsICE9PSBvbGRDb250ZXh0ICYmXG4gICAgICAgICAgKGxhbmUgPSByZWFkQ29udGV4dChvbGRDb250ZXh0KSk7XG4gICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gICAgICAgIChvbGRDb250ZXh0ID1cbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1bnJlc29sdmVkT2xkUHJvcHMgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUpIHx8XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHx8XG4gICAgICAgICAgKChzdGF0ZSAhPT0gbmV3QXBpTmFtZSB8fCBvbGRTdGF0ZSAhPT0gbGFuZSkgJiZcbiAgICAgICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICAgICkpO1xuICAgICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgICAgICBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgX2luc3RhbmNlLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKTtcbiAgICAgICAgdmFyIG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgc3RhdGUgIT09IG5ld0FwaU5hbWUgfHxcbiAgICAgICAgb2xkU3RhdGUgIT09IG5ld1N0YXRlIHx8XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlIHx8XG4gICAgICAgIChudWxsICE9PSBjdXJyZW50JGpzY29tcCQwICYmXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMgJiZcbiAgICAgICAgICBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMpKVxuICAgICAgICAgID8gKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHVucmVzb2x2ZWRPbGRQcm9wcyAmJlxuICAgICAgICAgICAgICAoYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSkpLFxuICAgICAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgPVxuICAgICAgICAgICAgICBoYXNGb3JjZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUsXG4gICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50JGpzY29tcCQwICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMgJiZcbiAgICAgICAgICAgICAgICBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMpKSlcbiAgICAgICAgICAgICAgPyAob2xkQ29udGV4dCB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5ld1N0YXRlLCBsYW5lKSxcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpKVxuICAgICAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICAgICAgKHN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBuZXdTdGF0ZSkpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5wcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnN0YXRlID0gbmV3U3RhdGUpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5jb250ZXh0ID0gbGFuZSksXG4gICAgICAgICAgICAoX2luc3RhbmNlID0gZm91bmRXaWxsVXBkYXRlTmFtZSkpXG4gICAgICAgICAgOiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSB8fFxuICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSAhMSkpO1xuICAgICAgfVxuICAgICAgbGFuZSA9IF9pbnN0YW5jZTtcbiAgICAgIG1hcmtSZWYoY3VycmVudCRqc2NvbXAkMCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3RhdGUgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpO1xuICAgICAgaWYgKGxhbmUgfHwgc3RhdGUpIHtcbiAgICAgICAgbGFuZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID1cbiAgICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcyA/IG51bGwgOiBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2O1xuICAgICAgICBpc1JlbmRlcmluZyA9ICExO1xuICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIGlmIChzdGF0ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKVxuICAgICAgICAgIChDb21wb25lbnQgPSBudWxsKSwgKHByb2ZpbGVyU3RhcnRUaW1lID0gLTEpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgQ29tcG9uZW50ID0gY2FsbFJlbmRlckluREVWKGxhbmUpO1xuICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2FsbFJlbmRlckluREVWKGxhbmUpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAgJiYgc3RhdGVcbiAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIGN1cnJlbnQkanNjb21wJDAuY2hpbGQsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSkpXG4gICAgICAgICAgOiByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBsYW5lLnN0YXRlO1xuICAgICAgICBjdXJyZW50JGpzY29tcCQwID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICB9IGVsc2VcbiAgICAgICAgY3VycmVudCRqc2NvbXAkMCA9IGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgY3VycmVudCRqc2NvbXAkMCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICApO1xuICAgICAgcmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICBfaW5zdGFuY2UgJiZcbiAgICAgICAgcmVuZGVyTGFuZXMucHJvcHMgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAoZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkl0IGxvb2tzIGxpa2UgJXMgaXMgcmVhc3NpZ25pbmcgaXRzIG93biBgdGhpcy5wcm9wc2Agd2hpbGUgcmVuZGVyaW5nLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGNhbiBsZWFkIHRvIGNvbmZ1c2luZyBidWdzLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykgfHwgXCJhIGNvbXBvbmVudFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgPSAhMCkpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQkanNjb21wJDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SG9zdFJvb3RXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDI1NjtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQpIHtcbiAgICAgIENvbXBvbmVudCAmJlxuICAgICAgICBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImNoaWxkQ29udGV4dFR5cGVzIGNhbm5vdCBiZSBkZWZpbmVkIG9uIGEgZnVuY3Rpb24gY29tcG9uZW50LlxcbiAgJXMuY2hpbGRDb250ZXh0VHlwZXMgPSAuLi5cIixcbiAgICAgICAgICBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICApO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uQ29tcG9uZW50W3dvcmtJblByb2dyZXNzXSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogRnVuY3Rpb24gY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXCIsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25Db21wb25lbnRbd29ya0luUHJvZ3Jlc3NdID1cbiAgICAgICAgICAgICEwKSkpO1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIENvbXBvbmVudC5jb250ZXh0VHlwZSAmJlxuICAgICAgICBudWxsICE9PSBDb21wb25lbnQuY29udGV4dFR5cGUgJiZcbiAgICAgICAgKChDb21wb25lbnQgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIiksXG4gICAgICAgIGRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudFtDb21wb25lbnRdIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBGdW5jdGlvbiBjb21wb25lbnRzIGRvIG5vdCBzdXBwb3J0IGNvbnRleHRUeXBlLlwiLFxuICAgICAgICAgICAgQ29tcG9uZW50XG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50W0NvbXBvbmVudF0gPSAhMCkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSB7XG4gICAgICByZXR1cm4geyBiYXNlTGFuZXM6IHJlbmRlckxhbmVzLCBjYWNoZVBvb2w6IGdldFN1c3BlbmRlZENhY2hlKCkgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICBjdXJyZW50LFxuICAgICAgcHJpbWFyeVRyZWVEaWREZWZlcixcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBjdXJyZW50ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQuY2hpbGRMYW5lcyAmIH5yZW5kZXJMYW5lcyA6IDA7XG4gICAgICBwcmltYXJ5VHJlZURpZERlZmVyICYmIChjdXJyZW50IHw9IHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lKTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTdXNwZW5zZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTc7XG4gICAgICB2YXIgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICBzaG91bGRTdXNwZW5kSW1wbCh3b3JrSW5Qcm9ncmVzcykgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCk7XG4gICAgICB2YXIgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPSAhMTtcbiAgICAgIHZhciBkaWRTdXNwZW5kID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KTtcbiAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSBkaWRTdXNwZW5kKSB8fFxuICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID1cbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgPT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyAhMVxuICAgICAgICAgICAgOiAwICE9PSAoc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50ICYgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSk7XG4gICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgJiZcbiAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9ICEwKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xMjkpKTtcbiAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDMyKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0zMztcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5XG4gICAgICAgICAgICA/IHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgIDogcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXA7XG4gICAgICAgICAgICBpZiAoIShKU0NvbXBpbGVyX3RlbXAgPSAhSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNikpIHtcbiAgICAgICAgICAgICAgYzoge1xuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTY7XG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IHJvb3RPclNpbmdsZXRvbkNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICA4ICE9PSBpbnN0YW5jZS5ub2RlVHlwZTtcblxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFKU0NvbXBpbGVyX3RlbXApIHtcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoaW5zdGFuY2UubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgICAgICAgICAgID8gKHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlaHlkcmF0ZWQ6IEpTQ29tcGlsZXJfdGVtcCxcbiAgICAgICAgICAgICAgICAgICAgdHJlZUNvbnRleHQ6XG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gdHJlZUNvbnRleHRQcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGlkOiB0cmVlQ29udGV4dElkLCBvdmVyZmxvdzogdHJlZUNvbnRleHRPdmVyZmxvdyB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJldHJ5TGFuZTogNTM2ODcwOTEyXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIChpbnN0YW5jZSA9IGNyZWF0ZUZpYmVyKDE4LCBudWxsLCBudWxsLCBOb01vZGUpKSxcbiAgICAgICAgICAgICAgICAgIChpbnN0YW5jZS5zdGF0ZU5vZGUgPSBKU0NvbXBpbGVyX3RlbXApLFxuICAgICAgICAgICAgICAgICAgKGluc3RhbmNlLnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGluc3RhbmNlKSxcbiAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gITApKVxuICAgICAgICAgICAgICAgIDogKEpTQ29tcGlsZXJfdGVtcCA9ICExKTtcbiAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gIUpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCAmJlxuICAgICAgICAgICAgICAod2Fybk5vbkh5ZHJhdGVkSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiAmJlxuICAgICAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kZWh5ZHJhdGVkKSxcbiAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kYXRhID09PVxuICAgICAgICAgICAgICBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBXG4gICAgICAgICAgICAgICAgPyAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSAxNilcbiAgICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDUzNjg3MDkxMiksXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlbjtcbiAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmZhbGxiYWNrO1xuICAgICAgICBpZiAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG1vZGU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuc2libGluZyA9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5Lm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgICBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5jaGlsZExhbmVzID1cbiAgICAgICAgICAgICAgZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVIpLFxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICApO1xuICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbihcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBwcmV2U3RhdGUgJiZcbiAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gcHJldlN0YXRlLmRlaHlkcmF0ZWQpLFxuICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KVxuICAgICAgKSB7XG4gICAgICAgIGlmIChkaWRTdXNwZW5kKVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2XG4gICAgICAgICAgICA/IChwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTI1NyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICA6IG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgPyAocmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSBudWxsKSlcbiAgICAgICAgICAgICAgOiAocmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguZmFsbGJhY2spLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gd29ya0luUHJvZ3Jlc3MubW9kZSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID1cbiAgICAgICAgICAgICAgICAgIG1vdW50V29ya0luUHJvZ3Jlc3NPZmZzY3JlZW5GaWJlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwidmlzaWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgICAgY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmZsYWdzIHw9IDIpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LnJldHVybiA9XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAgICAgICByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudC5jaGlsZCxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICAgICAgICAgIG1vdW50U3VzcGVuc2VPZmZzY3JlZW5TdGF0ZShyZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZExhbmVzID1cbiAgICAgICAgICAgICAgICAgIGdldFJlbWFpbmluZ1dvcmtJblByaW1hcnlUcmVlKFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVIpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSkpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAocHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJXZSBzaG91bGQgbm90IGJlIGh5ZHJhdGluZyBoZXJlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhIGJ1Zy5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgICBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBKVxuICAgICAgICApIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5uZXh0U2libGluZyAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5uZXh0U2libGluZy5kYXRhc2V0O1xuICAgICAgICAgIGlmIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcpIHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5kZ3N0O1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcubXNnO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcuc3RjaztcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRTdGFjayA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5jc3RjaztcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IG1lc3NhZ2U7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gaW5zdGFuY2U7XG4gICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgY29tcG9uZW50U3RhY2s7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICA/IEVycm9yKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpXG4gICAgICAgICAgICAgIDogRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlRoZSBzZXJ2ZXIgY291bGQgbm90IGZpbmlzaCB0aGlzIFN1c3BlbnNlIGJvdW5kYXJ5LCBsaWtlbHkgZHVlIHRvIGFuIGVycm9yIGR1cmluZyBzZXJ2ZXIgcmVuZGVyaW5nLiBTd2l0Y2hlZCB0byBjbGllbnQgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5zdGFjayA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCB8fCBcIlwiO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmRpZ2VzdCA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTc7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID1cbiAgICAgICAgICAgIHZvaWQgMCA9PT0gSlNDb21waWxlcl90ZW1wID8gbnVsbCA6IEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgICAgICAgIHN0YWNrOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTdcbiAgICAgICAgICB9O1xuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgJiZcbiAgICAgICAgICAgIENhcHR1cmVkU3RhY2tzLnNldChcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICAgICApO1xuICAgICAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKGRpZFJlY2VpdmVVcGRhdGUgfHxcbiAgICAgICAgICAgIHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgICAgMCAhPT0gKHJlbmRlckxhbmVzICYgY3VycmVudC5jaGlsZExhbmVzKSksXG4gICAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSB8fCBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcpXG4gICAgICAgICkge1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3KSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHJlbmRlckxhbmVzICYgLXJlbmRlckxhbmVzO1xuICAgICAgICAgICAgaWYgKDAgIT09IChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCAmIDQyKSlcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBzd2l0Y2ggKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMTY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgICAgICAgICBjYXNlIDUxMjpcbiAgICAgICAgICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgICAgICAgICAgY2FzZSAyMDQ4OlxuICAgICAgICAgICAgICAgIGNhc2UgNDA5NjpcbiAgICAgICAgICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgICAgICAgICAgY2FzZSAxNjM4NDpcbiAgICAgICAgICAgICAgICBjYXNlIDMyNzY4OlxuICAgICAgICAgICAgICAgIGNhc2UgNjU1MzY6XG4gICAgICAgICAgICAgICAgY2FzZSAxMzEwNzI6XG4gICAgICAgICAgICAgICAgY2FzZSAyNjIxNDQ6XG4gICAgICAgICAgICAgICAgY2FzZSA1MjQyODg6XG4gICAgICAgICAgICAgICAgY2FzZSAxMDQ4NTc2OlxuICAgICAgICAgICAgICAgIGNhc2UgMjA5NzE1MjpcbiAgICAgICAgICAgICAgICBjYXNlIDQxOTQzMDQ6XG4gICAgICAgICAgICAgICAgY2FzZSA4Mzg4NjA4OlxuICAgICAgICAgICAgICAgIGNhc2UgMTY3NzcyMTY6XG4gICAgICAgICAgICAgICAgY2FzZSAzMzU1NDQzMjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gNjQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI2ODQzNTQ1NjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMTM0MjE3NzI4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgICAgICAwICE9PVxuICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggJlxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcuc3VzcGVuZGVkTGFuZXMgfFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMpKVxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTg7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIDAgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICYmXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICE9PSBwcmV2U3RhdGUucmV0cnlMYW5lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICAoKHByZXZTdGF0ZS5yZXRyeUxhbmUgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCksXG4gICAgICAgICAgICAgICAgZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIoXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFNlbGVjdGl2ZUh5ZHJhdGlvbkV4Y2VwdGlvbilcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kYXRhID09PVxuICAgICAgICAgICAgU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIHx8IHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBXG4gICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5RGVoeWRyYXRlZFN1c3BlbnNlQm91bmRhcnkuYmluZChcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Ll9yZWFjdFJldHJ5ID1cbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IG51bGwpKVxuICAgICAgICAgICAgOiAoKGN1cnJlbnQgPSBwcmV2U3RhdGUudHJlZUNvbnRleHQpLFxuICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYubmV4dFNpYmxpbmdcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKGlzSHlkcmF0aW5nID0gITApLFxuICAgICAgICAgICAgICAoaHlkcmF0aW9uRXJyb3JzID0gbnVsbCksXG4gICAgICAgICAgICAgIChkaWRTdXNwZW5kT3JFcnJvckRFViA9ICExKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCksXG4gICAgICAgICAgICAgIChyb290T3JTaW5nbGV0b25Db250ZXh0ID0gITEpLFxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgKHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0SWQpLFxuICAgICAgICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0T3ZlcmZsb3cpLFxuICAgICAgICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0UHJvdmlkZXIpLFxuICAgICAgICAgICAgICAgICh0cmVlQ29udGV4dElkID0gY3VycmVudC5pZCksXG4gICAgICAgICAgICAgICAgKHRyZWVDb250ZXh0T3ZlcmZsb3cgPSBjdXJyZW50Lm92ZXJmbG93KSxcbiAgICAgICAgICAgICAgICAodHJlZUNvbnRleHRQcm92aWRlciA9IHdvcmtJblByb2dyZXNzKSksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MDk2KSk7XG4gICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5mYWxsYmFjayksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB3b3JrSW5Qcm9ncmVzcy5tb2RlKSxcbiAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgKGluc3RhbmNlID0gSlNDb21waWxlcl90ZW1wLnNpYmxpbmcpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKFxuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtb2RlOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguc3VidHJlZUZsYWdzID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5zdWJ0cmVlRmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgbnVsbCAhPT0gaW5zdGFuY2VcbiAgICAgICAgICAgID8gKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgICBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTlcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgICBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuZmxhZ3MgfD0gMikpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5yZXR1cm4gPVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnNpYmxpbmcgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IGN1cnJlbnQuY2hpbGQubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgbnVsbCA9PT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgPyAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9XG4gICAgICAgICAgICAgICAgbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSlcbiAgICAgICAgICAgIDogKChKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuY2FjaGVQb29sKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl90ZW1wXG4gICAgICAgICAgICAgICAgPyAoKGluc3RhbmNlID0gQ2FjaGVDb250ZXh0Ll9jdXJyZW50VmFsdWUpLFxuICAgICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5wYXJlbnQgIT09IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IHBhcmVudDogaW5zdGFuY2UsIHBvb2w6IGluc3RhbmNlIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IEpTQ29tcGlsZXJfdGVtcCkpXG4gICAgICAgICAgICAgICAgOiAoSlNDb21waWxlcl90ZW1wID0gZ2V0U3VzcGVuZGVkQ2FjaGUoKSksXG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0ge1xuICAgICAgICAgICAgICAgIGJhc2VMYW5lczpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuYmFzZUxhbmVzIHwgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgY2FjaGVQb29sOiBKU0NvbXBpbGVyX3RlbXBcbiAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5jaGlsZExhbmVzID1cbiAgICAgICAgICAgIGdldFJlbWFpbmluZ1dvcmtJblByaW1hcnlUcmVlKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVIpLFxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICk7XG4gICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmVuZGVyTGFuZXMgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgY3VycmVudCA9IHJlbmRlckxhbmVzLnNpYmxpbmc7XG4gICAgICByZW5kZXJMYW5lcyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKHJlbmRlckxhbmVzLCB7XG4gICAgICAgIG1vZGU6IFwidmlzaWJsZVwiLFxuICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgIH0pO1xuICAgICAgcmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICByZW5kZXJMYW5lcy5zaWJsaW5nID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSB3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMpLFxuICAgICAgICBudWxsID09PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTdcbiAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zID0gW2N1cnJlbnRdKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxNikpXG4gICAgICAgICAgOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcucHVzaChjdXJyZW50KSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlbmRlckxhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gcmVuZGVyTGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4od29ya0luUHJvZ3Jlc3MsIHByaW1hcnlDaGlsZHJlbikge1xuICAgICAgcHJpbWFyeUNoaWxkcmVuID0gbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKFxuICAgICAgICB7IG1vZGU6IFwidmlzaWJsZVwiLCBjaGlsZHJlbjogcHJpbWFyeUNoaWxkcmVuIH0sXG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGVcbiAgICAgICk7XG4gICAgICBwcmltYXJ5Q2hpbGRyZW4ucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICByZXR1cm4gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcHJpbWFyeUNoaWxkcmVuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKG9mZnNjcmVlblByb3BzLCBtb2RlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tT2Zmc2NyZWVuKG9mZnNjcmVlblByb3BzLCBtb2RlLCAwLCBudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQuY2hpbGQsIG51bGwsIHJlbmRlckxhbmVzKTtcbiAgICAgIGN1cnJlbnQgPSBtb3VudFN1c3BlbnNlUHJpbWFyeUNoaWxkcmVuKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuXG4gICAgICApO1xuICAgICAgY3VycmVudC5mbGFncyB8PSAyO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVTdXNwZW5zZVdvcmtPbkZpYmVyKGZpYmVyLCByZW5kZXJMYW5lcywgcHJvcGFnYXRpb25Sb290KSB7XG4gICAgICBmaWJlci5sYW5lcyB8PSByZW5kZXJMYW5lcztcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5sYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgICBmaWJlci5yZXR1cm4sXG4gICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICBwcm9wYWdhdGlvblJvb3RcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlU3VzcGVuc2VMaXN0TmVzdGVkQ2hpbGQoY2hpbGRTbG90LCBpbmRleCkge1xuICAgICAgdmFyIGlzQW5BcnJheSA9IGlzQXJyYXlJbXBsKGNoaWxkU2xvdCk7XG4gICAgICBjaGlsZFNsb3QgPSAhaXNBbkFycmF5ICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdldEl0ZXJhdG9yRm4oY2hpbGRTbG90KTtcbiAgICAgIHJldHVybiBpc0FuQXJyYXkgfHwgY2hpbGRTbG90XG4gICAgICAgID8gKChpc0FuQXJyYXkgPSBpc0FuQXJyYXkgPyBcImFycmF5XCIgOiBcIml0ZXJhYmxlXCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkEgbmVzdGVkICVzIHdhcyBwYXNzZWQgdG8gcm93ICMlcyBpbiA8U3VzcGVuc2VMaXN0IC8+LiBXcmFwIGl0IGluIGFuIGFkZGl0aW9uYWwgU3VzcGVuc2VMaXN0IHRvIGNvbmZpZ3VyZSBpdHMgcmV2ZWFsT3JkZXI6IDxTdXNwZW5zZUxpc3QgcmV2ZWFsT3JkZXI9Li4uPiAuLi4gPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj0uLi4+eyVzfTwvU3VzcGVuc2VMaXN0PiAuLi4gPC9TdXNwZW5zZUxpc3Q+XCIsXG4gICAgICAgICAgICBpc0FuQXJyYXksXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGlzQW5BcnJheVxuICAgICAgICAgICksXG4gICAgICAgICAgITEpXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZShcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgaXNCYWNrd2FyZHMsXG4gICAgICB0YWlsLFxuICAgICAgbGFzdENvbnRlbnRSb3csXG4gICAgICB0YWlsTW9kZVxuICAgICkge1xuICAgICAgdmFyIHJlbmRlclN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIG51bGwgPT09IHJlbmRlclN0YXRlXG4gICAgICAgID8gKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgICAgICBpc0JhY2t3YXJkczogaXNCYWNrd2FyZHMsXG4gICAgICAgICAgICByZW5kZXJpbmc6IG51bGwsXG4gICAgICAgICAgICByZW5kZXJpbmdTdGFydFRpbWU6IDAsXG4gICAgICAgICAgICBsYXN0OiBsYXN0Q29udGVudFJvdyxcbiAgICAgICAgICAgIHRhaWw6IHRhaWwsXG4gICAgICAgICAgICB0YWlsTW9kZTogdGFpbE1vZGVcbiAgICAgICAgICB9KVxuICAgICAgICA6ICgocmVuZGVyU3RhdGUuaXNCYWNrd2FyZHMgPSBpc0JhY2t3YXJkcyksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnJlbmRlcmluZyA9IG51bGwpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS5yZW5kZXJpbmdTdGFydFRpbWUgPSAwKSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUubGFzdCA9IGxhc3RDb250ZW50Um93KSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUudGFpbCA9IHRhaWwpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS50YWlsTW9kZSA9IHRhaWxNb2RlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgIHJldmVhbE9yZGVyID0gbmV4dFByb3BzLnJldmVhbE9yZGVyLFxuICAgICAgICB0YWlsTW9kZSA9IG5leHRQcm9wcy50YWlsO1xuICAgICAgbmV4dFByb3BzID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKFxuICAgICAgICB2b2lkIDAgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgIFwiZm9yd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgXCJiYWNrd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgXCJ0b2dldGhlclwiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICAhZGlkV2FybkFib3V0UmV2ZWFsT3JkZXJbcmV2ZWFsT3JkZXJdXG4gICAgICApXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGRpZFdhcm5BYm91dFJldmVhbE9yZGVyW3JldmVhbE9yZGVyXSA9ICEwKSxcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcmV2ZWFsT3JkZXIpXG4gICAgICAgIClcbiAgICAgICAgICBzd2l0Y2ggKHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0b2dldGhlclwiOlxuICAgICAgICAgICAgY2FzZSBcImZvcndhcmRzXCI6XG4gICAgICAgICAgICBjYXNlIFwiYmFja3dhcmRzXCI6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gVXNlIGxvd2VyY2FzZSBcIiVzXCIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9yd2FyZFwiOlxuICAgICAgICAgICAgY2FzZSBcImJhY2t3YXJkXCI6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gUmVhY3QgdXNlcyB0aGUgLXMgc3VmZml4IGluIHRoZSBzcGVsbGluZy4gVXNlIFwiJXNzXCIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdcIiVzXCIgaXMgbm90IGEgc3VwcG9ydGVkIHJldmVhbE9yZGVyIG9uIDxTdXNwZW5zZUxpc3QgLz4uIERpZCB5b3UgbWVhbiBcInRvZ2V0aGVyXCIsIFwiZm9yd2FyZHNcIiBvciBcImJhY2t3YXJkc1wiPycsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJyVzIGlzIG5vdCBhIHN1cHBvcnRlZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gRGlkIHlvdSBtZWFuIFwidG9nZXRoZXJcIiwgXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCI/JyxcbiAgICAgICAgICAgIHJldmVhbE9yZGVyXG4gICAgICAgICAgKTtcbiAgICAgIHZvaWQgMCA9PT0gdGFpbE1vZGUgfHxcbiAgICAgICAgZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdIHx8XG4gICAgICAgIChcImNvbGxhcHNlZFwiICE9PSB0YWlsTW9kZSAmJiBcImhpZGRlblwiICE9PSB0YWlsTW9kZVxuICAgICAgICAgID8gKChkaWRXYXJuQWJvdXRUYWlsT3B0aW9uc1t0YWlsTW9kZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHN1cHBvcnRlZCB2YWx1ZSBmb3IgdGFpbCBvbiA8U3VzcGVuc2VMaXN0IC8+LiBEaWQgeW91IG1lYW4gXCJjb2xsYXBzZWRcIiBvciBcImhpZGRlblwiPycsXG4gICAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgICApKVxuICAgICAgICAgIDogXCJmb3J3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICAgICAgXCJiYWNrd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgICAgICgoZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJzxTdXNwZW5zZUxpc3QgdGFpbD1cIiVzXCIgLz4gaXMgb25seSB2YWxpZCBpZiByZXZlYWxPcmRlciBpcyBcImZvcndhcmRzXCIgb3IgXCJiYWNrd2FyZHNcIi4gRGlkIHlvdSBtZWFuIHRvIHNwZWNpZnkgcmV2ZWFsT3JkZXI9XCJmb3J3YXJkc1wiPycsXG4gICAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgICApKSk7XG4gICAgICBhOiBpZiAoXG4gICAgICAgIChcImZvcndhcmRzXCIgPT09IHJldmVhbE9yZGVyIHx8IFwiYmFja3dhcmRzXCIgPT09IHJldmVhbE9yZGVyKSAmJlxuICAgICAgICB2b2lkIDAgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICBudWxsICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgITEgIT09IG5leHRQcm9wc1xuICAgICAgKVxuICAgICAgICBpZiAoaXNBcnJheUltcGwobmV4dFByb3BzKSlcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5leHRQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKG5leHRQcm9wc1tpXSwgaSkpIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKG5leHRQcm9wcykpLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpKSkge1xuICAgICAgICAgIGlmICgoaSA9IGkuY2FsbChuZXh0UHJvcHMpKSlcbiAgICAgICAgICAgIGZvciAodmFyIHN0ZXAgPSBpLm5leHQoKSwgX2kgPSAwOyAhc3RlcC5kb25lOyBzdGVwID0gaS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKHN0ZXAudmFsdWUsIF9pKSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgX2krKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHNpbmdsZSByb3cgd2FzIHBhc3NlZCB0byBhIDxTdXNwZW5zZUxpc3QgcmV2ZWFsT3JkZXI9XCIlc1wiIC8+LiBUaGlzIGlzIG5vdCB1c2VmdWwgc2luY2UgaXQgbmVlZHMgbXVsdGlwbGUgcm93cy4gRGlkIHlvdSBtZWFuIHRvIHBhc3MgbXVsdGlwbGUgY2hpbGRyZW4gb3IgYW4gYXJyYXk/JyxcbiAgICAgICAgICAgIHJldmVhbE9yZGVyXG4gICAgICAgICAgKTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIHJlbmRlckxhbmVzKTtcbiAgICAgIG5leHRQcm9wcyA9IHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgIGlmICgwICE9PSAobmV4dFByb3BzICYgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSlcbiAgICAgICAgKG5leHRQcm9wcyA9XG4gICAgICAgICAgKG5leHRQcm9wcyAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSB8IEZvcmNlU3VzcGVuc2VGYWxsYmFjayksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMjgpKVxuICAgICAgICAgIGE6IGZvciAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBjdXJyZW50OyApIHtcbiAgICAgICAgICAgIGlmICgxMyA9PT0gY3VycmVudC50YWcpXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHNjaGVkdWxlU3VzcGVuc2VXb3JrT25GaWJlcihcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKDE5ID09PSBjdXJyZW50LnRhZylcbiAgICAgICAgICAgICAgc2NoZWR1bGVTdXNwZW5zZVdvcmtPbkZpYmVyKGN1cnJlbnQsIHJlbmRlckxhbmVzLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBlbHNlIGlmIChudWxsICE9PSBjdXJyZW50LmNoaWxkKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQuY2hpbGQucmV0dXJuID0gY3VycmVudDtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHdvcmtJblByb2dyZXNzKSBicmVhayBhO1xuICAgICAgICAgICAgZm9yICg7IG51bGwgPT09IGN1cnJlbnQuc2libGluZzsgKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50LnJldHVybiB8fCBjdXJyZW50LnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudC5zaWJsaW5nLnJldHVybiA9IGN1cnJlbnQucmV0dXJuO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgIG5leHRQcm9wcyAmPSBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaztcbiAgICAgIH1cbiAgICAgIHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgbmV4dFByb3BzLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzd2l0Y2ggKHJldmVhbE9yZGVyKSB7XG4gICAgICAgIGNhc2UgXCJmb3J3YXJkc1wiOlxuICAgICAgICAgIHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgICAgZm9yIChyZXZlYWxPcmRlciA9IG51bGw7IG51bGwgIT09IHJlbmRlckxhbmVzOyApXG4gICAgICAgICAgICAoY3VycmVudCA9IHJlbmRlckxhbmVzLmFsdGVybmF0ZSksXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICBudWxsID09PSBmaW5kRmlyc3RTdXNwZW5kZWQoY3VycmVudCkgJiZcbiAgICAgICAgICAgICAgICAocmV2ZWFsT3JkZXIgPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJlbmRlckxhbmVzLnNpYmxpbmcpO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gcmV2ZWFsT3JkZXI7XG4gICAgICAgICAgbnVsbCA9PT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgID8gKChyZXZlYWxPcmRlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbCkpXG4gICAgICAgICAgICA6ICgocmV2ZWFsT3JkZXIgPSByZW5kZXJMYW5lcy5zaWJsaW5nKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzLnNpYmxpbmcgPSBudWxsKSk7XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAhMSxcbiAgICAgICAgICAgIHJldmVhbE9yZGVyLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICB0YWlsTW9kZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJiYWNrd2FyZHNcIjpcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IG51bGw7XG4gICAgICAgICAgcmV2ZWFsT3JkZXIgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICBmb3IgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDsgbnVsbCAhPT0gcmV2ZWFsT3JkZXI7ICkge1xuICAgICAgICAgICAgY3VycmVudCA9IHJldmVhbE9yZGVyLmFsdGVybmF0ZTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgPT09IGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50KSkge1xuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJldmVhbE9yZGVyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSByZXZlYWxPcmRlci5zaWJsaW5nO1xuICAgICAgICAgICAgcmV2ZWFsT3JkZXIuc2libGluZyA9IHJlbmRlckxhbmVzO1xuICAgICAgICAgICAgcmVuZGVyTGFuZXMgPSByZXZlYWxPcmRlcjtcbiAgICAgICAgICAgIHJldmVhbE9yZGVyID0gY3VycmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAhMCxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvZ2V0aGVyXCI6XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKHdvcmtJblByb2dyZXNzLCAhMSwgbnVsbCwgbnVsbCwgdm9pZCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPSBjdXJyZW50LmRlcGVuZGVuY2llcyk7XG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IHdvcmtJblByb2dyZXNzLmxhbmVzO1xuICAgICAgaWYgKDAgPT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpKVxuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIDAgPT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZCAhPT0gY3VycmVudC5jaGlsZClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJSZXN1bWluZyB3b3JrIG5vdCB5ZXQgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgaWYgKG51bGwgIT09IHdvcmtJblByb2dyZXNzLmNoaWxkKSB7XG4gICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgcmVuZGVyTGFuZXMgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBjdXJyZW50LnBlbmRpbmdQcm9wcyk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVuZGVyTGFuZXM7XG4gICAgICAgIGZvciAocmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7IG51bGwgIT09IGN1cnJlbnQuc2libGluZzsgKVxuICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5zaWJsaW5nKSxcbiAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJlbmRlckxhbmVzLnNpYmxpbmcgPVxuICAgICAgICAgICAgICBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBjdXJyZW50LnBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzLnJldHVybiA9IHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmVuZGVyTGFuZXMuc2libGluZyA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSB7XG4gICAgICBpZiAoMCAhPT0gKGN1cnJlbnQubGFuZXMgJiByZW5kZXJMYW5lcykpIHJldHVybiAhMDtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmRlcGVuZGVuY2llcztcbiAgICAgIHJldHVybiBudWxsICE9PSBjdXJyZW50ICYmIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50KSA/ICEwIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRFYXJseUJhaWxvdXRJZk5vU2NoZWR1bGVkVXBkYXRlKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIHB1c2hQcm92aWRlcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgQ2FjaGVDb250ZXh0LFxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBwdXNoUHJvdmlkZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzLnZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKSAmJlxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDg7XG4gICAgICAgICAgdmFyIHN0YXRlTm9kZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICBzdGF0ZU5vZGUuZWZmZWN0RHVyYXRpb24gPSAtMDtcbiAgICAgICAgICBzdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uID0gLTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgc3RhdGVOb2RlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gc3RhdGVOb2RlKSB7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gc3RhdGVOb2RlLmRlaHlkcmF0ZWQpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoMCAhPT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGQuY2hpbGRMYW5lcykpXG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgY3VycmVudCA9IGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5zaWJsaW5nIDogbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICB2YXIgZGlkU3VzcGVuZEJlZm9yZSA9IDAgIT09IChjdXJyZW50LmZsYWdzICYgMTI4KTtcbiAgICAgICAgICBzdGF0ZU5vZGUgPSAwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKTtcbiAgICAgICAgICBzdGF0ZU5vZGUgfHxcbiAgICAgICAgICAgIChwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChzdGF0ZU5vZGUgPSAwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKSkpO1xuICAgICAgICAgIGlmIChkaWRTdXNwZW5kQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGVOb2RlKVxuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VMaXN0Q29tcG9uZW50KFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyODtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlkU3VzcGVuZEJlZm9yZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbnVsbCAhPT0gZGlkU3VzcGVuZEJlZm9yZSAmJlxuICAgICAgICAgICAgKChkaWRTdXNwZW5kQmVmb3JlLnJlbmRlcmluZyA9IG51bGwpLFxuICAgICAgICAgICAgKGRpZFN1c3BlbmRCZWZvcmUudGFpbCA9IG51bGwpLFxuICAgICAgICAgICAgKGRpZFN1c3BlbmRCZWZvcmUubGFzdEVmZmVjdCA9IG51bGwpKTtcbiAgICAgICAgICBwdXNoKFxuICAgICAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvcixcbiAgICAgICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoc3RhdGVOb2RlKSBicmVhaztcbiAgICAgICAgICBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSAwKSxcbiAgICAgICAgICAgIHVwZGF0ZU9mZnNjcmVlbkNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBwdXNoUHJvdmlkZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENhY2hlQ29udGV4dCxcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3MuX2RlYnVnTmVlZHNSZW1vdW50ICYmIG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgcmVuZGVyTGFuZXMgPSBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5rZXksXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyIHx8IG51bGwsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lc1xuICAgICAgICApO1xuICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm47XG4gICAgICAgIGlmIChudWxsID09PSByZXR1cm5GaWJlcikgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3dhcCB0aGUgcm9vdCBmaWJlci5cIik7XG4gICAgICAgIGN1cnJlbnQuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyTGFuZXMuaW5kZXggPSB3b3JrSW5Qcm9ncmVzcy5pbmRleDtcbiAgICAgICAgcmVuZGVyTGFuZXMuc2libGluZyA9IHdvcmtJblByb2dyZXNzLnNpYmxpbmc7XG4gICAgICAgIHJlbmRlckxhbmVzLnJldHVybiA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgcmVuZGVyTGFuZXMucmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgICByZW5kZXJMYW5lcy5fZGVidWdJbmZvID0gd29ya0luUHJvZ3Jlc3MuX2RlYnVnSW5mbztcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzID09PSByZXR1cm5GaWJlci5jaGlsZClcbiAgICAgICAgICByZXR1cm5GaWJlci5jaGlsZCA9IHJlbmRlckxhbmVzO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldlNpYmxpbmcgPSByZXR1cm5GaWJlci5jaGlsZDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gcHJldlNpYmxpbmcpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHBhcmVudCB0byBoYXZlIGEgY2hpbGQuXCIpO1xuICAgICAgICAgIGZvciAoOyBwcmV2U2libGluZy5zaWJsaW5nICE9PSB3b3JrSW5Qcm9ncmVzczsgKVxuICAgICAgICAgICAgaWYgKCgocHJldlNpYmxpbmcgPSBwcmV2U2libGluZy5zaWJsaW5nKSwgbnVsbCA9PT0gcHJldlNpYmxpbmcpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRvIGZpbmQgdGhlIHByZXZpb3VzIHNpYmxpbmcuXCIpO1xuICAgICAgICAgIHByZXZTaWJsaW5nLnNpYmxpbmcgPSByZW5kZXJMYW5lcztcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyLmRlbGV0aW9ucztcbiAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICA/ICgocmV0dXJuRmliZXIuZGVsZXRpb25zID0gW2N1cnJlbnRdKSwgKHJldHVybkZpYmVyLmZsYWdzIHw9IDE2KSlcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzLnB1c2goY3VycmVudCk7XG4gICAgICAgIHJlbmRlckxhbmVzLmZsYWdzIHw9IDI7XG4gICAgICAgIHJldHVybiByZW5kZXJMYW5lcztcbiAgICAgIH1cbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgfHxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlICE9PSBjdXJyZW50LnR5cGVcbiAgICAgICAgKVxuICAgICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSAhMDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSAmJlxuICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChkaWRSZWNlaXZlVXBkYXRlID0gITEpLFxuICAgICAgICAgICAgICBhdHRlbXB0RWFybHlCYWlsb3V0SWZOb1NjaGVkdWxlZFVwZGF0ZShcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9IDAgIT09IChjdXJyZW50LmZsYWdzICYgMTMxMDcyKSA/ICEwIDogITE7XG4gICAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkaWRSZWNlaXZlVXBkYXRlID0gITE7XG4gICAgICAgIGlmICgocmV0dXJuRmliZXIgPSBpc0h5ZHJhdGluZykpXG4gICAgICAgICAgd2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMDQ4NTc2KSk7XG4gICAgICAgIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgKChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLmluZGV4KSxcbiAgICAgICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKSxcbiAgICAgICAgICBwdXNoVHJlZUlkKHdvcmtJblByb2dyZXNzLCB0cmVlRm9ya0NvdW50LCByZXR1cm5GaWJlcikpO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgPSAwO1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBhOiBpZiAoXG4gICAgICAgICAgICAoKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gY2FsbExhenlJbml0SW5ERVYod29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUpKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCksXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjdXJyZW50KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHNob3VsZENvbnN0cnVjdChjdXJyZW50KVxuICAgICAgICAgICAgICA/ICgocmV0dXJuRmliZXIgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50YWcgPSAxKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSB1cGRhdGVDbGFzc0NvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzcy50YWcgPSAwKSxcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcoY3VycmVudCkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQpXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0gY3VycmVudC4kJHR5cGVvZiksXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IDExO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gdXBkYXRlRm9yd2FyZFJlZihcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByZXZTaWJsaW5nID09PSBSRUFDVF9NRU1PX1RZUEUpIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSAxNDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZU1lbW9Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBcIlwiO1xuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgY3VycmVudCAmJlxuICAgICAgICAgICAgICBjdXJyZW50LiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICAgICAgICBcIiBEaWQgeW91IHdyYXAgYSBjb21wb25lbnQgaW4gUmVhY3QubGF6eSgpIG1vcmUgdGhhbiBvbmNlP1wiKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoY3VycmVudCkgfHwgY3VycmVudDtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkVsZW1lbnQgdHlwZSBpcyBpbnZhbGlkLiBSZWNlaXZlZCBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0bzogXCIgK1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgK1xuICAgICAgICAgICAgICAgIFwiLiBMYXp5IGVsZW1lbnQgdHlwZSBtdXN0IHJlc29sdmUgdG8gYSBjbGFzcyBvciBmdW5jdGlvbi5cIiArXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB1cGRhdGVDbGFzc0NvbXBvbmVudChcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50KVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlNob3VsZCBoYXZlIGEgY3VycmVudCBmaWJlci4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgIHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gcHJldlNpYmxpbmcuZWxlbWVudDtcbiAgICAgICAgICAgIGNsb25lVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIG51bGwsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gbmV4dFN0YXRlLmNhY2hlO1xuICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDYWNoZUNvbnRleHQsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgIT09IHByZXZTaWJsaW5nLmNhY2hlICYmXG4gICAgICAgICAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIFtDYWNoZUNvbnRleHRdLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICEwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBuZXh0U3RhdGUuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChwcmV2U2libGluZy5pc0RlaHlkcmF0ZWQpXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0ge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudDogbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgaXNEZWh5ZHJhdGVkOiAhMSxcbiAgICAgICAgICAgICAgICAgIGNhY2hlOiBuZXh0U3RhdGUuY2FjaGVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuYmFzZVN0YXRlID0gcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG1vdW50SG9zdFJvb3RXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFByb3BzICE9PSByZXR1cm5GaWJlcikge1xuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJUaGlzIHJvb3QgcmVjZWl2ZWQgYW4gZWFybHkgdXBkYXRlLCBiZWZvcmUgYW55dGhpbmcgd2FzIGFibGUgaHlkcmF0ZS4gU3dpdGNoZWQgdGhlIGVudGlyZSByb290IHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihyZXR1cm5GaWJlcik7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBtb3VudEhvc3RSb290V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mby5maXJzdENoaWxkXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICBpc0h5ZHJhdGluZyA9ICEwLFxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25FcnJvcnMgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViA9ICExLFxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG1vdW50Q2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgY3VycmVudDtcblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIChjdXJyZW50LmZsYWdzID0gKGN1cnJlbnQuZmxhZ3MgJiAtMykgfCA0MDk2KSxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmcpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgaWYgKG5leHRQcm9wcyA9PT0gcmV0dXJuRmliZXIpIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9IGdldFJlc291cmNlKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudClcbiAgICAgICAgICAgICAgICA6IGlzSHlkcmF0aW5nIHx8XG4gICAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZXF1aXJlZENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgIHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID1cbiAgICAgICAgICAgICAgICAgICAgZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICkuY3JlYXRlRWxlbWVudChjdXJyZW50KSksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXJbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXJbaW50ZXJuYWxQcm9wc0tleV0gPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhyZXR1cm5GaWJlciwgY3VycmVudCwgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShyZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gZ2V0UmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiZcbiAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGdldEhvc3RDb250ZXh0KCkpLFxuICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPVxuICAgICAgICAgICAgICAgIHJlc29sdmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgfHxcbiAgICAgICAgICAgICAgICAoKHJldHVybkZpYmVyID0gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKHdvcmtJblByb2dyZXNzLCAwKS5zZXJ2ZXJQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyKSksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMCksXG4gICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICApKSksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4pLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCB8fCBpc0h5ZHJhdGluZ1xuICAgICAgICAgICAgICA/IHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiZcbiAgICAgICAgICAgICAgKChuZXh0UHJvcHMgPSBnZXRIb3N0Q29udGV4dCgpKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdmFsaWRhdGVET01OZXN0aW5nKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLmFuY2VzdG9ySW5mb1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSksXG4gICAgICAgICAgICAgIChuZXh0U3RhdGUgPSAhcHJldlNpYmxpbmcpIHx8XG4gICAgICAgICAgICAgICAgKChuZXh0U3RhdGUgPSBjYW5IeWRyYXRlSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dFN0YXRlXG4gICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gbmV4dFN0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoKG5leHRQcm9wcyA9IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVpbGRIeWRyYXRpb25EaWZmTm9kZSh3b3JrSW5Qcm9ncmVzcywgMCkuc2VydmVyUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMpKSxcbiAgICAgICAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZS5maXJzdENoaWxkXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAocm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExKSxcbiAgICAgICAgICAgICAgICAgICAgKG5leHRQcm9wcyA9ICEwKSlcbiAgICAgICAgICAgICAgICAgIDogKG5leHRQcm9wcyA9ICExKSxcbiAgICAgICAgICAgICAgICAobmV4dFN0YXRlID0gIW5leHRQcm9wcykpLFxuICAgICAgICAgICAgICBuZXh0U3RhdGUgJiZcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgICAgICAgIHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKHdvcmtJblByb2dyZXNzKSkpLFxuICAgICAgICAgICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgKG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAobmV4dFN0YXRlID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IG51bGwpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbmV4dFByb3BzLmNoaWxkcmVuKSxcbiAgICAgICAgICAgIHNob3VsZFNldFRleHRDb250ZW50KHByZXZTaWJsaW5nLCBuZXh0UHJvcHMpXG4gICAgICAgICAgICAgID8gKHJldHVybkZpYmVyID0gbnVsbClcbiAgICAgICAgICAgICAgOiBudWxsICE9PSBuZXh0U3RhdGUgJiZcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRUZXh0Q29udGVudChwcmV2U2libGluZywgbmV4dFN0YXRlKSAmJlxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAzMiksXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSByZW5kZXJXaXRoSG9va3MoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBUcmFuc2l0aW9uQXdhcmVIb3N0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKEhvc3RUcmFuc2l0aW9uQ29udGV4dC5fY3VycmVudFZhbHVlID0gcHJldlNpYmxpbmcpKSxcbiAgICAgICAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgICAoKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBnZXRIb3N0Q29udGV4dCgpLmFuY2VzdG9ySW5mby5jdXJyZW50KSxcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgIG51bGwgIT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgID8gdmFsaWRhdGVUZXh0TmVzdGluZyhjdXJyZW50LCByZW5kZXJMYW5lcy50YWcpXG4gICAgICAgICAgICAgICAgICA6ICEwKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9ICFyZW5kZXJMYW5lcykgfHxcbiAgICAgICAgICAgICAgICAoKHJldHVybkZpYmVyID0gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9ICEwKSlcbiAgICAgICAgICAgICAgICAgIDogKHJldHVybkZpYmVyID0gITEpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9ICFyZXR1cm5GaWJlcikpLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICAgIChjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICB3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcykpKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgIDogcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlRm9yd2FyZFJlZihcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlci5lZmZlY3REdXJhdGlvbiA9IC0wKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlci5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSAtMCksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIChuZXh0UHJvcHMgPSBwcmV2U2libGluZy52YWx1ZSksXG4gICAgICAgICAgICBcInZhbHVlXCIgaW4gcHJldlNpYmxpbmcgfHxcbiAgICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05vVmFsdWVQcm9wT25Db250ZXh0UHJvdmlkZXIgfHxcbiAgICAgICAgICAgICAgKChoYXNXYXJuZWRBYm91dFVzaW5nTm9WYWx1ZVByb3BPbkNvbnRleHRQcm92aWRlciA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBgdmFsdWVgIHByb3AgaXMgcmVxdWlyZWQgZm9yIHRoZSBgPENvbnRleHQuUHJvdmlkZXI+YC4gRGlkIHlvdSBtaXNzcGVsbCBpdCBvciBmb3JnZXQgdG8gcGFzcyBpdD9cIlxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgcmV0dXJuRmliZXIsIG5leHRQcm9wcyksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHByZXZTaWJsaW5nLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLl9jb250ZXh0KSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbiksXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb250ZXh0IGNvbnN1bWVyIHdhcyByZW5kZXJlZCB3aXRoIG11bHRpcGxlIGNoaWxkcmVuLCBvciBhIGNoaWxkIHRoYXQgaXNuJ3QgYSBmdW5jdGlvbi4gQSBjb250ZXh0IGNvbnN1bWVyIGV4cGVjdHMgYSBzaW5nbGUgY2hpbGQgdGhhdCBpcyBhIGZ1bmN0aW9uLiBJZiB5b3UgZGlkIHBhc3MgYSBmdW5jdGlvbiwgbWFrZSBzdXJlIHRoZXJlIGlzIG5vIHRyYWlsaW5nIG9yIGxlYWRpbmcgd2hpdGVzcGFjZSBhcm91bmQgaXQuXCJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHJlYWRDb250ZXh0KHByZXZTaWJsaW5nKSksXG4gICAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSBjYWxsQ29tcG9uZW50SW5ERVYoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgdm9pZCAwXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMSksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVNpbXBsZU1lbW9Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUxpc3RDb21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU9mZnNjcmVlbkNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWFkQ29udGV4dChDYWNoZUNvbnRleHQpKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAoKHByZXZTaWJsaW5nID0gcGVla0NhY2hlRnJvbVBvb2woKSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldlNpYmxpbmcgJiZcbiAgICAgICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzc1Jvb3QpLFxuICAgICAgICAgICAgICAgICAgKG5leHRQcm9wcyA9IGNyZWF0ZUNhY2hlKCkpLFxuICAgICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nLnBvb2xlZENhY2hlID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAgIHJldGFpbkNhY2hlKG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nLnBvb2xlZENhY2hlTGFuZXMgfD0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gbmV4dFByb3BzKSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICBwYXJlbnQ6IHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgY2FjaGU6IHByZXZTaWJsaW5nXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgcHJldlNpYmxpbmcpKVxuICAgICAgICAgICAgICA6ICgwICE9PSAoY3VycmVudC5sYW5lcyAmIHJlbmRlckxhbmVzKSAmJlxuICAgICAgICAgICAgICAgICAgKGNsb25lVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBudWxsLCBudWxsLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCkpLFxuICAgICAgICAgICAgICAgIChwcmV2U2libGluZyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICAgICAgKG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLnBhcmVudCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgID8gKChwcmV2U2libGluZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgICAgIDAgPT09IHdvcmtJblByb2dyZXNzLmxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuYmFzZVN0YXRlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICAgICAgOiAoKHJldHVybkZpYmVyID0gbmV4dFByb3BzLmNhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDYWNoZUNvbnRleHQsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgIT09IHByZXZTaWJsaW5nLmNhY2hlICYmXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtDYWNoZUNvbnRleHRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICAgICAgICAgICkpKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICB0aHJvdyB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcgKFwiICtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgK1xuICAgICAgICAgIFwiKS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCkge1xuICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIgPSBudWxsO1xuICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoUHJvdmlkZXIocHJvdmlkZXJGaWJlciwgY29udGV4dCwgbmV4dFZhbHVlKSB7XG4gICAgICBwdXNoKHZhbHVlQ3Vyc29yLCBjb250ZXh0Ll9jdXJyZW50VmFsdWUsIHByb3ZpZGVyRmliZXIpO1xuICAgICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gbmV4dFZhbHVlO1xuICAgICAgcHVzaChyZW5kZXJlckN1cnNvckRFViwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyLCBwcm92aWRlckZpYmVyKTtcbiAgICAgIHZvaWQgMCAhPT0gY29udGV4dC5fY3VycmVudFJlbmRlcmVyICYmXG4gICAgICAgIG51bGwgIT09IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciAmJlxuICAgICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgIT09IHJlbmRlcmVyU2lnaWwgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkRldGVjdGVkIG11bHRpcGxlIHJlbmRlcmVycyBjb25jdXJyZW50bHkgcmVuZGVyaW5nIHRoZSBzYW1lIGNvbnRleHQgcHJvdmlkZXIuIFRoaXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLlwiXG4gICAgICAgICk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSByZW5kZXJlclNpZ2lsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BQcm92aWRlcihjb250ZXh0LCBwcm92aWRlckZpYmVyKSB7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSB2YWx1ZUN1cnNvci5jdXJyZW50O1xuICAgICAgdmFyIGN1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyQ3Vyc29yREVWLmN1cnJlbnQ7XG4gICAgICBwb3AocmVuZGVyZXJDdXJzb3JERVYsIHByb3ZpZGVyRmliZXIpO1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gY3VycmVudFJlbmRlcmVyO1xuICAgICAgcG9wKHZhbHVlQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVDb250ZXh0V29ya09uUGFyZW50UGF0aChcbiAgICAgIHBhcmVudCxcbiAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgcHJvcGFnYXRpb25Sb290XG4gICAgKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gcGFyZW50OyApIHtcbiAgICAgICAgdmFyIGFsdGVybmF0ZSA9IHBhcmVudC5hbHRlcm5hdGU7XG4gICAgICAgIChwYXJlbnQuY2hpbGRMYW5lcyAmIHJlbmRlckxhbmVzKSAhPT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICA/ICgocGFyZW50LmNoaWxkTGFuZXMgfD0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIChhbHRlcm5hdGUuY2hpbGRMYW5lcyB8PSByZW5kZXJMYW5lcykpXG4gICAgICAgICAgOiBudWxsICE9PSBhbHRlcm5hdGUgJiZcbiAgICAgICAgICAgIChhbHRlcm5hdGUuY2hpbGRMYW5lcyAmIHJlbmRlckxhbmVzKSAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgIChhbHRlcm5hdGUuY2hpbGRMYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHByb3BhZ2F0aW9uUm9vdCkgYnJlYWs7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJlbnQgIT09IHByb3BhZ2F0aW9uUm9vdCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCB0aGUgcHJvcGFnYXRpb24gcm9vdCB3aGVuIHNjaGVkdWxpbmcgY29udGV4dCB3b3JrLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBjb250ZXh0cyxcbiAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlXG4gICAgKSB7XG4gICAgICB2YXIgZmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgIG51bGwgIT09IGZpYmVyICYmIChmaWJlci5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gZmliZXI7ICkge1xuICAgICAgICB2YXIgbGlzdCA9IGZpYmVyLmRlcGVuZGVuY2llcztcbiAgICAgICAgaWYgKG51bGwgIT09IGxpc3QpIHtcbiAgICAgICAgICB2YXIgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICAgICAgbGlzdCA9IGxpc3QuZmlyc3RDb250ZXh0O1xuICAgICAgICAgIGE6IGZvciAoOyBudWxsICE9PSBsaXN0OyApIHtcbiAgICAgICAgICAgIHZhciBkZXBlbmRlbmN5ID0gbGlzdDtcbiAgICAgICAgICAgIGxpc3QgPSBmaWJlcjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGV4dHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgIGlmIChkZXBlbmRlbmN5LmNvbnRleHQgPT09IGNvbnRleHRzW2ldKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5sYW5lcyB8PSByZW5kZXJMYW5lcztcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gbGlzdC5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gZGVwZW5kZW5jeSAmJiAoZGVwZW5kZW5jeS5sYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVDb250ZXh0V29ya09uUGFyZW50UGF0aChcbiAgICAgICAgICAgICAgICAgIGxpc3QucmV0dXJuLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlIHx8IChuZXh0RmliZXIgPSBudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ID0gZGVwZW5kZW5jeS5uZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgxOCA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIucmV0dXJuO1xuICAgICAgICAgIGlmIChudWxsID09PSBuZXh0RmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJXZSBqdXN0IGNhbWUgZnJvbSBhIHBhcmVudCBzbyB3ZSBtdXN0IGhhdmUgaGFkIGEgcGFyZW50LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIG5leHRGaWJlci5sYW5lcyB8PSByZW5kZXJMYW5lcztcbiAgICAgICAgICBsaXN0ID0gbmV4dEZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgICBudWxsICE9PSBsaXN0ICYmIChsaXN0LmxhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgICAgICBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgICAgICAgbmV4dEZpYmVyLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICk7XG4gICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmV4dEZpYmVyKSBuZXh0RmliZXIucmV0dXJuID0gZmliZXI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBmb3IgKG5leHRGaWJlciA9IGZpYmVyOyBudWxsICE9PSBuZXh0RmliZXI7ICkge1xuICAgICAgICAgICAgaWYgKG5leHRGaWJlciA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWJlciA9IG5leHRGaWJlci5zaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpYmVyKSB7XG4gICAgICAgICAgICAgIGZpYmVyLnJldHVybiA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRGaWJlciA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICBmaWJlciA9IG5leHRGaWJlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lcyxcbiAgICAgIGZvcmNlUHJvcGFnYXRlRW50aXJlVHJlZVxuICAgICkge1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgcGFyZW50ID0gd29ya0luUHJvZ3Jlc3MsIGlzSW5zaWRlUHJvcGFnYXRpb25CYWlsb3V0ID0gITE7XG4gICAgICAgIG51bGwgIT09IHBhcmVudDtcblxuICAgICAgKSB7XG4gICAgICAgIGlmICghaXNJbnNpZGVQcm9wYWdhdGlvbkJhaWxvdXQpXG4gICAgICAgICAgaWYgKDAgIT09IChwYXJlbnQuZmxhZ3MgJiA1MjQyODgpKSBpc0luc2lkZVByb3BhZ2F0aW9uQmFpbG91dCA9ICEwO1xuICAgICAgICAgIGVsc2UgaWYgKDAgIT09IChwYXJlbnQuZmxhZ3MgJiAyNjIxNDQpKSBicmVhaztcbiAgICAgICAgaWYgKDEwID09PSBwYXJlbnQudGFnKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50UGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgaGF2ZSBhIGN1cnJlbnQgZmliZXIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCIpO1xuICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gcGFyZW50LnR5cGU7XG4gICAgICAgICAgICBvYmplY3RJcyhwYXJlbnQucGVuZGluZ1Byb3BzLnZhbHVlLCBjdXJyZW50UGFyZW50LnZhbHVlKSB8fFxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICAgID8gY3VycmVudC5wdXNoKGNvbnRleHQpXG4gICAgICAgICAgICAgICAgOiAoY3VycmVudCA9IFtjb250ZXh0XSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQgPT09IGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IuY3VycmVudCkge1xuICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50UGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgaGF2ZSBhIGN1cnJlbnQgZmliZXIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCIpO1xuICAgICAgICAgIGN1cnJlbnRQYXJlbnQubWVtb2l6ZWRTdGF0ZS5tZW1vaXplZFN0YXRlICE9PVxuICAgICAgICAgICAgcGFyZW50Lm1lbW9pemVkU3RhdGUubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyBjdXJyZW50LnB1c2goSG9zdFRyYW5zaXRpb25Db250ZXh0KVxuICAgICAgICAgICAgICA6IChjdXJyZW50ID0gW0hvc3RUcmFuc2l0aW9uQ29udGV4dF0pKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgIGZvcmNlUHJvcGFnYXRlRW50aXJlVHJlZVxuICAgICAgICApO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjYyMTQ0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudERlcGVuZGVuY2llcykge1xuICAgICAgZm9yIChcbiAgICAgICAgY3VycmVudERlcGVuZGVuY2llcyA9IGN1cnJlbnREZXBlbmRlbmNpZXMuZmlyc3RDb250ZXh0O1xuICAgICAgICBudWxsICE9PSBjdXJyZW50RGVwZW5kZW5jaWVzO1xuXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFvYmplY3RJcyhcbiAgICAgICAgICAgIGN1cnJlbnREZXBlbmRlbmNpZXMuY29udGV4dC5fY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgY3VycmVudERlcGVuZGVuY2llcy5tZW1vaXplZFZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzID0gY3VycmVudERlcGVuZGVuY2llcy5uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcztcbiAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzICYmICh3b3JrSW5Qcm9ncmVzcy5maXJzdENvbnRleHQgPSBudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZENvbnRleHQoY29udGV4dCkge1xuICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gSW4gY2xhc3NlcywgeW91IGNhbiByZWFkIGl0IGluIHRoZSByZW5kZXIgbWV0aG9kIG9yIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gSW4gZnVuY3Rpb24gY29tcG9uZW50cywgeW91IGNhbiByZWFkIGl0IGRpcmVjdGx5IGluIHRoZSBmdW5jdGlvbiBib2R5LCBidXQgbm90IGluc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dEZvckNvbnN1bWVyKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihjb25zdW1lciwgY29udGV4dCkge1xuICAgICAgbnVsbCA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIgJiYgcHJlcGFyZVRvUmVhZENvbnRleHQoY29uc3VtZXIpO1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0Rm9yQ29uc3VtZXIoY29uc3VtZXIsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQ29udGV4dEZvckNvbnN1bWVyKGNvbnN1bWVyLCBjb250ZXh0KSB7XG4gICAgICB2YXIgdmFsdWUgPSBjb250ZXh0Ll9jdXJyZW50VmFsdWU7XG4gICAgICBjb250ZXh0ID0geyBjb250ZXh0OiBjb250ZXh0LCBtZW1vaXplZFZhbHVlOiB2YWx1ZSwgbmV4dDogbnVsbCB9O1xuICAgICAgaWYgKG51bGwgPT09IGxhc3RDb250ZXh0RGVwZW5kZW5jeSkge1xuICAgICAgICBpZiAobnVsbCA9PT0gY29uc3VtZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkNvbnRleHQgY2FuIG9ubHkgYmUgcmVhZCB3aGlsZSBSZWFjdCBpcyByZW5kZXJpbmcuIEluIGNsYXNzZXMsIHlvdSBjYW4gcmVhZCBpdCBpbiB0aGUgcmVuZGVyIG1ldGhvZCBvciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIEluIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCBpbnNpZGUgSG9va3MgbGlrZSB1c2VSZWR1Y2VyKCkgb3IgdXNlTWVtbygpLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gY29udGV4dDtcbiAgICAgICAgY29uc3VtZXIuZGVwZW5kZW5jaWVzID0ge1xuICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgIGZpcnN0Q29udGV4dDogY29udGV4dCxcbiAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN1bWVyLmZsYWdzIHw9IDUyNDI4ODtcbiAgICAgIH0gZWxzZSBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBsYXN0Q29udGV4dERlcGVuZGVuY3kubmV4dCA9IGNvbnRleHQ7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVVcGRhdGVRdWV1ZShmaWJlcikge1xuICAgICAgZmliZXIudXBkYXRlUXVldWUgPSB7XG4gICAgICAgIGJhc2VTdGF0ZTogZmliZXIubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgZmlyc3RCYXNlVXBkYXRlOiBudWxsLFxuICAgICAgICBsYXN0QmFzZVVwZGF0ZTogbnVsbCxcbiAgICAgICAgc2hhcmVkOiB7IHBlbmRpbmc6IG51bGwsIGxhbmVzOiAwLCBoaWRkZW5DYWxsYmFja3M6IG51bGwgfSxcbiAgICAgICAgY2FsbGJhY2tzOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9uZVVwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID09PSBjdXJyZW50ICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgICBiYXNlU3RhdGU6IGN1cnJlbnQuYmFzZVN0YXRlLFxuICAgICAgICAgIGZpcnN0QmFzZVVwZGF0ZTogY3VycmVudC5maXJzdEJhc2VVcGRhdGUsXG4gICAgICAgICAgbGFzdEJhc2VVcGRhdGU6IGN1cnJlbnQubGFzdEJhc2VVcGRhdGUsXG4gICAgICAgICAgc2hhcmVkOiBjdXJyZW50LnNoYXJlZCxcbiAgICAgICAgICBjYWxsYmFja3M6IG51bGxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZShsYW5lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYW5lOiBsYW5lLFxuICAgICAgICB0YWc6IFVwZGF0ZVN0YXRlLFxuICAgICAgICBwYXlsb2FkOiBudWxsLFxuICAgICAgICBjYWxsYmFjazogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZShmaWJlciwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaWJlci51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChudWxsID09PSB1cGRhdGVRdWV1ZSkgcmV0dXJuIG51bGw7XG4gICAgICB1cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlLnNoYXJlZDtcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID09PSB1cGRhdGVRdWV1ZSAmJlxuICAgICAgICAhZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBbiB1cGRhdGUgKHNldFN0YXRlLCByZXBsYWNlU3RhdGUsIG9yIGZvcmNlVXBkYXRlKSB3YXMgc2NoZWR1bGVkIGZyb20gaW5zaWRlIGFuIHVwZGF0ZSBmdW5jdGlvbi4gVXBkYXRlIGZ1bmN0aW9ucyBzaG91bGQgYmUgcHVyZSwgd2l0aCB6ZXJvIHNpZGUtZWZmZWN0cy4gQ29uc2lkZXIgdXNpbmcgY29tcG9uZW50RGlkVXBkYXRlIG9yIGEgY2FsbGJhY2suXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudDogJXNcIixcbiAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICk7XG4gICAgICAgIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpICE9PSBOb0NvbnRleHQpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGNvbXBvbmVudE5hbWUgPSB1cGRhdGVRdWV1ZS5wZW5kaW5nKSxcbiAgICAgICAgICBudWxsID09PSBjb21wb25lbnROYW1lXG4gICAgICAgICAgICA/ICh1cGRhdGUubmV4dCA9IHVwZGF0ZSlcbiAgICAgICAgICAgIDogKCh1cGRhdGUubmV4dCA9IGNvbXBvbmVudE5hbWUubmV4dCksXG4gICAgICAgICAgICAgIChjb21wb25lbnROYW1lLm5leHQgPSB1cGRhdGUpKSxcbiAgICAgICAgICAodXBkYXRlUXVldWUucGVuZGluZyA9IHVwZGF0ZSksXG4gICAgICAgICAgKHVwZGF0ZSA9IGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpKSxcbiAgICAgICAgICBtYXJrVXBkYXRlTGFuZUZyb21GaWJlclRvUm9vdChmaWJlciwgbnVsbCwgbGFuZSksXG4gICAgICAgICAgdXBkYXRlXG4gICAgICAgICk7XG4gICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHVwZGF0ZVF1ZXVlLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgcmV0dXJuIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRhbmdsZVRyYW5zaXRpb25zKHJvb3QsIGZpYmVyLCBsYW5lKSB7XG4gICAgICBmaWJlciA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IGZpYmVyICYmICgoZmliZXIgPSBmaWJlci5zaGFyZWQpLCAwICE9PSAobGFuZSAmIDQxOTQxNzYpKSkge1xuICAgICAgICB2YXIgcXVldWVMYW5lcyA9IGZpYmVyLmxhbmVzO1xuICAgICAgICBxdWV1ZUxhbmVzICY9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgICBsYW5lIHw9IHF1ZXVlTGFuZXM7XG4gICAgICAgIGZpYmVyLmxhbmVzID0gbGFuZTtcbiAgICAgICAgbWFya1Jvb3RFbnRhbmdsZWQocm9vdCwgbGFuZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVDYXB0dXJlZFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgY2FwdHVyZWRVcGRhdGUpIHtcbiAgICAgIHZhciBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLFxuICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLCBxdWV1ZSA9PT0gY3VycmVudClcbiAgICAgICkge1xuICAgICAgICB2YXIgbmV3Rmlyc3QgPSBudWxsLFxuICAgICAgICAgIG5ld0xhc3QgPSBudWxsO1xuICAgICAgICBxdWV1ZSA9IHF1ZXVlLmZpcnN0QmFzZVVwZGF0ZTtcbiAgICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKSB7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGNsb25lID0ge1xuICAgICAgICAgICAgICBsYW5lOiBxdWV1ZS5sYW5lLFxuICAgICAgICAgICAgICB0YWc6IHF1ZXVlLnRhZyxcbiAgICAgICAgICAgICAgcGF5bG9hZDogcXVldWUucGF5bG9hZCxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBudWxsID09PSBuZXdMYXN0XG4gICAgICAgICAgICAgID8gKG5ld0ZpcnN0ID0gbmV3TGFzdCA9IGNsb25lKVxuICAgICAgICAgICAgICA6IChuZXdMYXN0ID0gbmV3TGFzdC5uZXh0ID0gY2xvbmUpO1xuICAgICAgICAgICAgcXVldWUgPSBxdWV1ZS5uZXh0O1xuICAgICAgICAgIH0gd2hpbGUgKG51bGwgIT09IHF1ZXVlKTtcbiAgICAgICAgICBudWxsID09PSBuZXdMYXN0XG4gICAgICAgICAgICA/IChuZXdGaXJzdCA9IG5ld0xhc3QgPSBjYXB0dXJlZFVwZGF0ZSlcbiAgICAgICAgICAgIDogKG5ld0xhc3QgPSBuZXdMYXN0Lm5leHQgPSBjYXB0dXJlZFVwZGF0ZSk7XG4gICAgICAgIH0gZWxzZSBuZXdGaXJzdCA9IG5ld0xhc3QgPSBjYXB0dXJlZFVwZGF0ZTtcbiAgICAgICAgcXVldWUgPSB7XG4gICAgICAgICAgYmFzZVN0YXRlOiBjdXJyZW50LmJhc2VTdGF0ZSxcbiAgICAgICAgICBmaXJzdEJhc2VVcGRhdGU6IG5ld0ZpcnN0LFxuICAgICAgICAgIGxhc3RCYXNlVXBkYXRlOiBuZXdMYXN0LFxuICAgICAgICAgIHNoYXJlZDogY3VycmVudC5zaGFyZWQsXG4gICAgICAgICAgY2FsbGJhY2tzOiBjdXJyZW50LmNhbGxiYWNrc1xuICAgICAgICB9O1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHF1ZXVlLmxhc3RCYXNlVXBkYXRlO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgPyAocXVldWUuZmlyc3RCYXNlVXBkYXRlID0gY2FwdHVyZWRVcGRhdGUpXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzLm5leHQgPSBjYXB0dXJlZFVwZGF0ZSk7XG4gICAgICBxdWV1ZS5sYXN0QmFzZVVwZGF0ZSA9IGNhcHR1cmVkVXBkYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCkge1xuICAgICAgaWYgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24pIHtcbiAgICAgICAgdmFyIGVudGFuZ2xlZEFjdGlvblRoZW5hYmxlID0gY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlO1xuICAgICAgICBpZiAobnVsbCAhPT0gZW50YW5nbGVkQWN0aW9uVGhlbmFibGUpIHRocm93IGVudGFuZ2xlZEFjdGlvblRoZW5hYmxlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzVXBkYXRlUXVldWUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHByb3BzLFxuICAgICAgaW5zdGFuY2UkanNjb21wJDAsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICExO1xuICAgICAgdmFyIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gcXVldWUuc2hhcmVkO1xuICAgICAgdmFyIGZpcnN0QmFzZVVwZGF0ZSA9IHF1ZXVlLmZpcnN0QmFzZVVwZGF0ZSxcbiAgICAgICAgbGFzdEJhc2VVcGRhdGUgPSBxdWV1ZS5sYXN0QmFzZVVwZGF0ZSxcbiAgICAgICAgcGVuZGluZ1F1ZXVlID0gcXVldWUuc2hhcmVkLnBlbmRpbmc7XG4gICAgICBpZiAobnVsbCAhPT0gcGVuZGluZ1F1ZXVlKSB7XG4gICAgICAgIHF1ZXVlLnNoYXJlZC5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RQZW5kaW5nVXBkYXRlID0gcGVuZGluZ1F1ZXVlLFxuICAgICAgICAgIGZpcnN0UGVuZGluZ1VwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlLm5leHQ7XG4gICAgICAgIGxhc3RQZW5kaW5nVXBkYXRlLm5leHQgPSBudWxsO1xuICAgICAgICBudWxsID09PSBsYXN0QmFzZVVwZGF0ZVxuICAgICAgICAgID8gKGZpcnN0QmFzZVVwZGF0ZSA9IGZpcnN0UGVuZGluZ1VwZGF0ZSlcbiAgICAgICAgICA6IChsYXN0QmFzZVVwZGF0ZS5uZXh0ID0gZmlyc3RQZW5kaW5nVXBkYXRlKTtcbiAgICAgICAgbGFzdEJhc2VVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAocGVuZGluZ1F1ZXVlID0gY3VycmVudC5sYXN0QmFzZVVwZGF0ZSksXG4gICAgICAgICAgcGVuZGluZ1F1ZXVlICE9PSBsYXN0QmFzZVVwZGF0ZSAmJlxuICAgICAgICAgICAgKG51bGwgPT09IHBlbmRpbmdRdWV1ZVxuICAgICAgICAgICAgICA/IChjdXJyZW50LmZpcnN0QmFzZVVwZGF0ZSA9IGZpcnN0UGVuZGluZ1VwZGF0ZSlcbiAgICAgICAgICAgICAgOiAocGVuZGluZ1F1ZXVlLm5leHQgPSBmaXJzdFBlbmRpbmdVcGRhdGUpLFxuICAgICAgICAgICAgKGN1cnJlbnQubGFzdEJhc2VVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZSkpKTtcbiAgICAgIH1cbiAgICAgIGlmIChudWxsICE9PSBmaXJzdEJhc2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIG5ld1N0YXRlID0gcXVldWUuYmFzZVN0YXRlO1xuICAgICAgICBsYXN0QmFzZVVwZGF0ZSA9IDA7XG4gICAgICAgIGN1cnJlbnQgPSBmaXJzdFBlbmRpbmdVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZSA9IG51bGw7XG4gICAgICAgIHBlbmRpbmdRdWV1ZSA9IGZpcnN0QmFzZVVwZGF0ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHZhciB1cGRhdGVMYW5lID0gcGVuZGluZ1F1ZXVlLmxhbmUgJiAtNTM2ODcwOTEzLFxuICAgICAgICAgICAgaXNIaWRkZW5VcGRhdGUgPSB1cGRhdGVMYW5lICE9PSBwZW5kaW5nUXVldWUubGFuZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc0hpZGRlblVwZGF0ZVxuICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIHVwZGF0ZUxhbmUpID09PSB1cGRhdGVMYW5lXG4gICAgICAgICAgICAgIDogKHJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIDAgIT09IHVwZGF0ZUxhbmUgJiZcbiAgICAgICAgICAgICAgdXBkYXRlTGFuZSA9PT0gY3VycmVudEVudGFuZ2xlZExhbmUgJiZcbiAgICAgICAgICAgICAgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMCk7XG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5uZXh0ID1cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBsYW5lOiAwLFxuICAgICAgICAgICAgICAgICAgdGFnOiBwZW5kaW5nUXVldWUudGFnLFxuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGVuZGluZ1F1ZXVlLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgdXBkYXRlTGFuZSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICB2YXIgcGFydGlhbFN0YXRlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgICAgICAgICB2YXIgbmV4dFByb3BzID0gcHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZSRqc2NvbXAkMDtcbiAgICAgICAgICAgICAgc3dpdGNoIChwYXJ0aWFsU3RhdGUudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSZXBsYWNlU3RhdGU6XG4gICAgICAgICAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBwYXJ0aWFsU3RhdGUucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICEwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gcGFydGlhbFN0YXRlLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVMYW5lLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsU3RhdGUuY2FsbChpbnN0YW5jZSwgbmV3U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExO1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gcGFydGlhbFN0YXRlO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIENhcHR1cmVVcGRhdGU6XG4gICAgICAgICAgICAgICAgICB1cGRhdGVMYW5lLmZsYWdzID0gKHVwZGF0ZUxhbmUuZmxhZ3MgJiAtNjU1MzcpIHwgMTI4O1xuICAgICAgICAgICAgICAgIGNhc2UgVXBkYXRlU3RhdGU6XG4gICAgICAgICAgICAgICAgICBuZXh0U3RhdGUgPSBwYXJ0aWFsU3RhdGUucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBuZXh0U3RhdGUuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUxhbmUubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZS5jYWxsKGluc3RhbmNlLCBuZXdTdGF0ZSwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgcGFydGlhbFN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHBhcnRpYWxTdGF0ZSB8fCB2b2lkIDAgPT09IHBhcnRpYWxTdGF0ZSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gYXNzaWduKHt9LCBuZXdTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBGb3JjZVVwZGF0ZTpcbiAgICAgICAgICAgICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZUxhbmUgPSBwZW5kaW5nUXVldWUuY2FsbGJhY2s7XG4gICAgICAgICAgICBudWxsICE9PSB1cGRhdGVMYW5lICYmXG4gICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjQpLFxuICAgICAgICAgICAgICBpc0hpZGRlblVwZGF0ZSAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MiksXG4gICAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZSA9IHF1ZXVlLmNhbGxiYWNrcyksXG4gICAgICAgICAgICAgIG51bGwgPT09IGlzSGlkZGVuVXBkYXRlXG4gICAgICAgICAgICAgICAgPyAocXVldWUuY2FsbGJhY2tzID0gW3VwZGF0ZUxhbmVdKVxuICAgICAgICAgICAgICAgIDogaXNIaWRkZW5VcGRhdGUucHVzaCh1cGRhdGVMYW5lKSk7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUgPSB7XG4gICAgICAgICAgICAgIGxhbmU6IHVwZGF0ZUxhbmUsXG4gICAgICAgICAgICAgIHRhZzogcGVuZGluZ1F1ZXVlLnRhZyxcbiAgICAgICAgICAgICAgcGF5bG9hZDogcGVuZGluZ1F1ZXVlLnBheWxvYWQsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBwZW5kaW5nUXVldWUuY2FsbGJhY2ssXG4gICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgICAgPyAoKGZpcnN0UGVuZGluZ1VwZGF0ZSA9IGN1cnJlbnQgPSBpc0hpZGRlblVwZGF0ZSksXG4gICAgICAgICAgICAgICAgICAobGFzdFBlbmRpbmdVcGRhdGUgPSBuZXdTdGF0ZSkpXG4gICAgICAgICAgICAgICAgOiAoY3VycmVudCA9IGN1cnJlbnQubmV4dCA9IGlzSGlkZGVuVXBkYXRlKSxcbiAgICAgICAgICAgICAgKGxhc3RCYXNlVXBkYXRlIHw9IHVwZGF0ZUxhbmUpO1xuICAgICAgICAgIHBlbmRpbmdRdWV1ZSA9IHBlbmRpbmdRdWV1ZS5uZXh0O1xuICAgICAgICAgIGlmIChudWxsID09PSBwZW5kaW5nUXVldWUpXG4gICAgICAgICAgICBpZiAoKChwZW5kaW5nUXVldWUgPSBxdWV1ZS5zaGFyZWQucGVuZGluZyksIG51bGwgPT09IHBlbmRpbmdRdWV1ZSkpXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUgPSBwZW5kaW5nUXVldWUpLFxuICAgICAgICAgICAgICAgIChwZW5kaW5nUXVldWUgPSBpc0hpZGRlblVwZGF0ZS5uZXh0KSxcbiAgICAgICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUubmV4dCA9IG51bGwpLFxuICAgICAgICAgICAgICAgIChxdWV1ZS5sYXN0QmFzZVVwZGF0ZSA9IGlzSGlkZGVuVXBkYXRlKSxcbiAgICAgICAgICAgICAgICAocXVldWUuc2hhcmVkLnBlbmRpbmcgPSBudWxsKTtcbiAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiYgKGxhc3RQZW5kaW5nVXBkYXRlID0gbmV3U3RhdGUpO1xuICAgICAgICBxdWV1ZS5iYXNlU3RhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZTtcbiAgICAgICAgcXVldWUuZmlyc3RCYXNlVXBkYXRlID0gZmlyc3RQZW5kaW5nVXBkYXRlO1xuICAgICAgICBxdWV1ZS5sYXN0QmFzZVVwZGF0ZSA9IGN1cnJlbnQ7XG4gICAgICAgIG51bGwgPT09IGZpcnN0QmFzZVVwZGF0ZSAmJiAocXVldWUuc2hhcmVkLmxhbmVzID0gMCk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSBsYXN0QmFzZVVwZGF0ZTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgPSBsYXN0QmFzZVVwZGF0ZTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgfVxuICAgICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbENhbGxiYWNrKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2FsbGJhY2spXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6IFwiICtcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICk7XG4gICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIaWRkZW5DYWxsYmFja3ModXBkYXRlUXVldWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBoaWRkZW5DYWxsYmFja3MgPSB1cGRhdGVRdWV1ZS5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzO1xuICAgICAgaWYgKG51bGwgIT09IGhpZGRlbkNhbGxiYWNrcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzID0gbnVsbCwgdXBkYXRlUXVldWUgPSAwO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlIDwgaGlkZGVuQ2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSsrXG4gICAgICAgIClcbiAgICAgICAgICBjYWxsQ2FsbGJhY2soaGlkZGVuQ2FsbGJhY2tzW3VwZGF0ZVF1ZXVlXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENhbGxiYWNrcyh1cGRhdGVRdWV1ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGNhbGxiYWNrcyA9IHVwZGF0ZVF1ZXVlLmNhbGxiYWNrcztcbiAgICAgIGlmIChudWxsICE9PSBjYWxsYmFja3MpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdXBkYXRlUXVldWUuY2FsbGJhY2tzID0gbnVsbCwgdXBkYXRlUXVldWUgPSAwO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlIDwgY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSsrXG4gICAgICAgIClcbiAgICAgICAgICBjYWxsQ2FsbGJhY2soY2FsbGJhY2tzW3VwZGF0ZVF1ZXVlXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFByb2ZpbGUoY3VycmVudCkge1xuICAgICAgcmV0dXJuIChjdXJyZW50Lm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0xheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCBob29rRmxhZ3MpIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChob29rRmxhZ3MsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGhvb2tGbGFnc1xuICAgICkge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGZsYWdzLCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSxcbiAgICAgICAgICBsYXN0RWZmZWN0ID0gbnVsbCAhPT0gdXBkYXRlUXVldWUgPyB1cGRhdGVRdWV1ZS5sYXN0RWZmZWN0IDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT09IGxhc3RFZmZlY3QpIHtcbiAgICAgICAgICB2YXIgZmlyc3RFZmZlY3QgPSBsYXN0RWZmZWN0Lm5leHQ7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPSBmaXJzdEVmZmVjdDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICh1cGRhdGVRdWV1ZS50YWcgJiBmbGFncykgPT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RhcnRlZChcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RNb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RhcnRlZChcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAobGFzdEVmZmVjdCA9IHZvaWQgMCksXG4gICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAoaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITApLFxuICAgICAgICAgICAgICAobGFzdEVmZmVjdCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjYWxsQ3JlYXRlSW5ERVYsXG4gICAgICAgICAgICAgICAgdXBkYXRlUXVldWVcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAoaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITEpLFxuICAgICAgICAgICAgICAoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RvcHBlZCgpXG4gICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RNb3VudFN0b3BwZWQgJiZcbiAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RvcHBlZCgpLFxuICAgICAgICAgICAgICB2b2lkIDAgIT09IGxhc3RFZmZlY3QgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgbGFzdEVmZmVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgaG9va05hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgIGhvb2tOYW1lID1cbiAgICAgICAgICAgICAgICAwICE9PSAodXBkYXRlUXVldWUudGFnICYgTGF5b3V0KVxuICAgICAgICAgICAgICAgICAgPyBcInVzZUxheW91dEVmZmVjdFwiXG4gICAgICAgICAgICAgICAgICA6IDAgIT09ICh1cGRhdGVRdWV1ZS50YWcgJiBJbnNlcnRpb24pXG4gICAgICAgICAgICAgICAgICAgID8gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIlxuICAgICAgICAgICAgICAgICAgICA6IFwidXNlRWZmZWN0XCI7XG4gICAgICAgICAgICAgIHZhciBhZGRlbmR1bSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgYWRkZW5kdW0gPVxuICAgICAgICAgICAgICAgIG51bGwgPT09IGxhc3RFZmZlY3RcbiAgICAgICAgICAgICAgICAgID8gXCIgWW91IHJldHVybmVkIG51bGwuIElmIHlvdXIgZWZmZWN0IGRvZXMgbm90IHJlcXVpcmUgY2xlYW4gdXAsIHJldHVybiB1bmRlZmluZWQgKG9yIG5vdGhpbmcpLlwiXG4gICAgICAgICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxhc3RFZmZlY3QudGhlblxuICAgICAgICAgICAgICAgICAgICA/IFwiXFxuXFxuSXQgbG9va3MgbGlrZSB5b3Ugd3JvdGUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIGhvb2tOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICBcIihhc3luYyAoKSA9PiAuLi4pIG9yIHJldHVybmVkIGEgUHJvbWlzZS4gSW5zdGVhZCwgd3JpdGUgdGhlIGFzeW5jIGZ1bmN0aW9uIGluc2lkZSB5b3VyIGVmZmVjdCBhbmQgY2FsbCBpdCBpbW1lZGlhdGVseTpcXG5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgaG9va05hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiKCgpID0+IHtcXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoRGF0YSgpIHtcXG4gICAgLy8gWW91IGNhbiBhd2FpdCBoZXJlXFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTXlBUEkuZ2V0RGF0YShzb21lSWQpO1xcbiAgICAvLyAuLi5cXG4gIH1cXG4gIGZldGNoRGF0YSgpO1xcbn0sIFtzb21lSWRdKTsgLy8gT3IgW10gaWYgZWZmZWN0IGRvZXNuJ3QgbmVlZCBwcm9wcyBvciBzdGF0ZVxcblxcbkxlYXJuIG1vcmUgYWJvdXQgZGF0YSBmZXRjaGluZyB3aXRoIEhvb2tzOiBodHRwczovL3JlYWN0LmRldi9saW5rL2hvb2tzLWRhdGEtZmV0Y2hpbmdcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiIFlvdSByZXR1cm5lZDogXCIgKyBsYXN0RWZmZWN0O1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG4sIGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiJXMgbXVzdCBub3QgcmV0dXJuIGFueXRoaW5nIGJlc2lkZXMgYSBmdW5jdGlvbiwgd2hpY2ggaXMgdXNlZCBmb3IgY2xlYW4tdXAuJXNcIixcbiAgICAgICAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgICAgICAgYVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhvb2tOYW1lLFxuICAgICAgICAgICAgICAgIGFkZGVuZHVtXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlLm5leHQ7XG4gICAgICAgICAgfSB3aGlsZSAodXBkYXRlUXVldWUgIT09IGZpcnN0RWZmZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgIGZsYWdzLFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlLFxuICAgICAgICAgIGxhc3RFZmZlY3QgPSBudWxsICE9PSB1cGRhdGVRdWV1ZSA/IHVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3QgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPT0gbGFzdEVmZmVjdCkge1xuICAgICAgICAgIHZhciBmaXJzdEVmZmVjdCA9IGxhc3RFZmZlY3QubmV4dDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA9IGZpcnN0RWZmZWN0O1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgodXBkYXRlUXVldWUudGFnICYgZmxhZ3MpID09PSBmbGFncykge1xuICAgICAgICAgICAgICB2YXIgaW5zdCA9IHVwZGF0ZVF1ZXVlLmluc3QsXG4gICAgICAgICAgICAgICAgZGVzdHJveSA9IGluc3QuZGVzdHJveTtcbiAgICAgICAgICAgICAgdm9pZCAwICE9PSBkZXN0cm95ICYmXG4gICAgICAgICAgICAgICAgKChpbnN0LmRlc3Ryb3kgPSB2b2lkIDApLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgICA/IG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdFVubW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdGFydGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMCksXG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjYWxsRGVzdHJveUluREVWLFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIGRlc3Ryb3lcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMSksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgUGFzc2l2ZSkgIT09IE5vRmxhZ3NcbiAgICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0b3BwZWQoKVxuICAgICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RVbm1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RVbm1vdW50U3RvcHBlZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUubmV4dDtcbiAgICAgICAgICB9IHdoaWxlICh1cGRhdGVRdWV1ZSAhPT0gZmlyc3RFZmZlY3QpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va1Bhc3NpdmVNb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrLCBob29rRmxhZ3MpIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChob29rRmxhZ3MsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va1Bhc3NpdmVVbm1vdW50RWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBob29rRmxhZ3NcbiAgICApIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgaG9va0ZsYWdzLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Q2xhc3NDYWxsYmFja3MoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICBpZiAobnVsbCAhPT0gdXBkYXRlUXVldWUpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUuZGVmYXVsdFByb3BzIHx8XG4gICAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgICAoaW5zdGFuY2UucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBwcm9jZXNzaW5nIHRoZSB1cGRhdGUgcXVldWUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBpbnN0YW5jZS5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIHVwZGF0ZSBxdWV1ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5zdGF0ZWAuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICApKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyxcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXMoaW5zdGFuY2UsIHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDbGFzc1NuYXBzaG90KGZpbmlzaGVkV29yaywgY3VycmVudCkge1xuICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgIChjdXJyZW50LnByb3BzICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICksXG4gICAgICAgIGN1cnJlbnQuc3RhdGUgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgKSk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzb2x2ZWRQcmV2UHJvcHMgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLmVsZW1lbnRUeXBlID09PSBmaW5pc2hlZFdvcmsudHlwZVxuICAgICAgICApO1xuICAgICAgICB2YXIgc25hcHNob3QgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY2FsbEdldFNuYXBzaG90QmVmb3JlVXBkYXRlcyxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHJlc29sdmVkUHJldlByb3BzLFxuICAgICAgICAgIHByZXZTdGF0ZVxuICAgICAgICApO1xuICAgICAgICBwcmV2UHJvcHMgPSBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcbiAgICAgICAgdm9pZCAwICE9PSBzbmFwc2hvdCB8fFxuICAgICAgICAgIHByZXZQcm9wcy5oYXMoZmluaXNoZWRXb3JrLnR5cGUpIHx8XG4gICAgICAgICAgKHByZXZQcm9wcy5hZGQoZmluaXNoZWRXb3JrLnR5cGUpLFxuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpbmlzaGVkV29yaywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlcy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpOiBBIHNuYXBzaG90IHZhbHVlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIGN1cnJlbnQuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUgPSBzbmFwc2hvdDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGluc3RhbmNlXG4gICAgKSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICBjdXJyZW50LnR5cGUsXG4gICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wc1xuICAgICAgKTtcbiAgICAgIGluc3RhbmNlLnN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgc2hvdWxkUHJvZmlsZShjdXJyZW50KVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50SW5ERVYsXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudEluREVWLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEF0dGFjaFJlZihmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICAgICAgaWYgKG51bGwgIT09IHJlZikge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmKVxuICAgICAgICAgIGlmIChzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaykpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdGFydEVmZmVjdFRpbWVyKCksIChmaW5pc2hlZFdvcmsucmVmQ2xlYW51cCA9IHJlZihpbnN0YW5jZSkpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGZpbmlzaGVkV29yay5yZWZDbGVhbnVwID0gcmVmKGluc3RhbmNlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiByZWZcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcIlN0cmluZyByZWZzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLlwiKVxuICAgICAgICAgICAgOiByZWYuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50XCIpIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbmV4cGVjdGVkIHJlZiBvYmplY3QgcHJvdmlkZWQgZm9yICVzLiBVc2UgZWl0aGVyIGEgcmVmLXNldHRlciBmdW5jdGlvbiBvciBSZWFjdC5jcmVhdGVSZWYoKS5cIixcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChyZWYuY3VycmVudCA9IGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2FmZWx5QXR0YWNoUmVmKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIGNvbW1pdEF0dGFjaFJlZiwgY3VycmVudCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKSB7XG4gICAgICB2YXIgcmVmID0gY3VycmVudC5yZWYsXG4gICAgICAgIHJlZkNsZWFudXAgPSBjdXJyZW50LnJlZkNsZWFudXA7XG4gICAgICBpZiAobnVsbCAhPT0gcmVmKVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmQ2xlYW51cClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFByb2ZpbGUoY3VycmVudCkpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RhcnRFZmZlY3RUaW1lcigpLCBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWZDbGVhbnVwKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbihjdXJyZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWZDbGVhbnVwKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAoY3VycmVudC5yZWZDbGVhbnVwID0gbnVsbCksXG4gICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgICBudWxsICE9IGN1cnJlbnQgJiYgKGN1cnJlbnQucmVmQ2xlYW51cCA9IG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHJvZmlsZShjdXJyZW50KSlcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGFydEVmZmVjdFRpbWVyKCksIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZiwgbnVsbCk7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oY3VycmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgcmVmLCBudWxsKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvciQ2KSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvciQ2KTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQcm9maWxlcihcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICBlZmZlY3REdXJhdGlvblxuICAgICkge1xuICAgICAgdmFyIF9maW5pc2hlZFdvcmskbWVtb2l6ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLFxuICAgICAgICBpZCA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZS5pZCxcbiAgICAgICAgb25Db21taXQgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUub25Db21taXQ7XG4gICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUub25SZW5kZXI7XG4gICAgICBjdXJyZW50ID0gbnVsbCA9PT0gY3VycmVudCA/IFwibW91bnRcIiA6IFwidXBkYXRlXCI7XG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgJiYgKGN1cnJlbnQgPSBcIm5lc3RlZC11cGRhdGVcIik7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfZmluaXNoZWRXb3JrJG1lbW9pemUgJiZcbiAgICAgICAgX2ZpbmlzaGVkV29yayRtZW1vaXplKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLmFjdHVhbER1cmF0aW9uLFxuICAgICAgICAgIGZpbmlzaGVkV29yay50cmVlQmFzZUR1cmF0aW9uLFxuICAgICAgICAgIGZpbmlzaGVkV29yay5hY3R1YWxTdGFydFRpbWUsXG4gICAgICAgICAgY29tbWl0U3RhcnRUaW1lXG4gICAgICAgICk7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvbkNvbW1pdCAmJlxuICAgICAgICBvbkNvbW1pdChcbiAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5pZCxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIGVmZmVjdER1cmF0aW9uLFxuICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQcm9maWxlclBvc3RDb21taXRJbXBsKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY3VycmVudCxcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgIHBhc3NpdmVFZmZlY3REdXJhdGlvblxuICAgICkge1xuICAgICAgdmFyIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgIGZpbmlzaGVkV29yayA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZTIuaWQ7XG4gICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUyID0gX2ZpbmlzaGVkV29yayRtZW1vaXplMi5vblBvc3RDb21taXQ7XG4gICAgICBjdXJyZW50ID0gbnVsbCA9PT0gY3VycmVudCA/IFwibW91bnRcIiA6IFwidXBkYXRlXCI7XG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgJiYgKGN1cnJlbnQgPSBcIm5lc3RlZC11cGRhdGVcIik7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfZmluaXNoZWRXb3JrJG1lbW9pemUyICYmXG4gICAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgcGFzc2l2ZUVmZmVjdER1cmF0aW9uLFxuICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb3N0TW91bnQoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICBwcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLFxuICAgICAgICBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICB0cnkge1xuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY29tbWl0TW91bnQsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb3N0VXBkYXRlKGZpbmlzaGVkV29yaywgbmV3UHJvcHMsIG9sZFByb3BzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY29tbWl0VXBkYXRlLFxuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgb2xkUHJvcHMsXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNIb3N0UGFyZW50KGZpYmVyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA1ID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgMyA9PT0gZmliZXIudGFnIHx8XG4gICAgICAgIDI2ID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgMjcgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICA0ID09PSBmaWJlci50YWdcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvc3RTaWJsaW5nKGZpYmVyKSB7XG4gICAgICBhOiBmb3IgKDs7KSB7XG4gICAgICAgIGZvciAoOyBudWxsID09PSBmaWJlci5zaWJsaW5nOyApIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIucmV0dXJuIHx8IGlzSG9zdFBhcmVudChmaWJlci5yZXR1cm4pKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBmaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmaWJlci5zaWJsaW5nLnJldHVybiA9IGZpYmVyLnJldHVybjtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBmaWJlciA9IGZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgNSAhPT0gZmliZXIudGFnICYmXG4gICAgICAgICAgNiAhPT0gZmliZXIudGFnICYmXG4gICAgICAgICAgMjcgIT09IGZpYmVyLnRhZyAmJlxuICAgICAgICAgIDE4ICE9PSBmaWJlci50YWc7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGZpYmVyLmZsYWdzICYgMikgY29udGludWUgYTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIuY2hpbGQgfHwgNCA9PT0gZmliZXIudGFnKSBjb250aW51ZSBhO1xuICAgICAgICAgIGVsc2UgKGZpYmVyLmNoaWxkLnJldHVybiA9IGZpYmVyKSwgKGZpYmVyID0gZmliZXIuY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGZpYmVyLmZsYWdzICYgMikpIHJldHVybiBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZUludG9Db250YWluZXIobm9kZSwgYmVmb3JlLCBwYXJlbnQpIHtcbiAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgIGlmICg1ID09PSB0YWcgfHwgNiA9PT0gdGFnKVxuICAgICAgICAobm9kZSA9IG5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICBiZWZvcmVcbiAgICAgICAgICAgID8gOCA9PT0gcGFyZW50Lm5vZGVUeXBlXG4gICAgICAgICAgICAgID8gcGFyZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGJlZm9yZSlcbiAgICAgICAgICAgICAgOiBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGJlZm9yZSlcbiAgICAgICAgICAgIDogKDggPT09IHBhcmVudC5ub2RlVHlwZVxuICAgICAgICAgICAgICAgID8gKChiZWZvcmUgPSBwYXJlbnQucGFyZW50Tm9kZSksXG4gICAgICAgICAgICAgICAgICBiZWZvcmUuaW5zZXJ0QmVmb3JlKG5vZGUsIHBhcmVudCkpXG4gICAgICAgICAgICAgICAgOiAoKGJlZm9yZSA9IHBhcmVudCksIGJlZm9yZS5hcHBlbmRDaGlsZChub2RlKSksXG4gICAgICAgICAgICAgIChwYXJlbnQgPSBwYXJlbnQuX3JlYWN0Um9vdENvbnRhaW5lciksXG4gICAgICAgICAgICAgIChudWxsICE9PSBwYXJlbnQgJiYgdm9pZCAwICE9PSBwYXJlbnQpIHx8XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gYmVmb3JlLm9uY2xpY2sgfHxcbiAgICAgICAgICAgICAgICAoYmVmb3JlLm9uY2xpY2sgPSBub29wJDEpKTtcbiAgICAgIGVsc2UgaWYgKDQgIT09IHRhZyAmJiAyNyAhPT0gdGFnICYmICgobm9kZSA9IG5vZGUuY2hpbGQpLCBudWxsICE9PSBub2RlKSlcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKG5vZGUsIGJlZm9yZSwgcGFyZW50KSxcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgICAgbnVsbCAhPT0gbm9kZTtcblxuICAgICAgICApXG4gICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICAobm9kZSA9IG5vZGUuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShub2RlLCBiZWZvcmUsIHBhcmVudCkge1xuICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCA2ID09PSB0YWcpXG4gICAgICAgIChub2RlID0gbm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgIGJlZm9yZSA/IHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlKSA6IHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIGVsc2UgaWYgKDQgIT09IHRhZyAmJiAyNyAhPT0gdGFnICYmICgobm9kZSA9IG5vZGUuY2hpbGQpLCBudWxsICE9PSBub2RlKSlcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgICBudWxsICE9PSBub2RlO1xuXG4gICAgICAgIClcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgKG5vZGUgPSBub2RlLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQbGFjZW1lbnQoZmluaXNoZWRXb3JrKSB7XG4gICAgICBpZiAoMjcgIT09IGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgYToge1xuICAgICAgICAgIGZvciAodmFyIHBhcmVudCA9IGZpbmlzaGVkV29yay5yZXR1cm47IG51bGwgIT09IHBhcmVudDsgKSB7XG4gICAgICAgICAgICBpZiAoaXNIb3N0UGFyZW50KHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudEZpYmVyID0gcGFyZW50O1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChwYXJlbnRGaWJlci50YWcpIHtcbiAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgcGFyZW50RmliZXIgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKGZpbmlzaGVkV29yaywgcGFyZW50RmliZXIsIHBhcmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBwYXJlbnRGaWJlci5mbGFncyAmIDMyICYmXG4gICAgICAgICAgICAgIChyZXNldFRleHRDb250ZW50KHBhcmVudCksIChwYXJlbnRGaWJlci5mbGFncyAmPSAtMzMpKTtcbiAgICAgICAgICAgIHBhcmVudEZpYmVyID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShmaW5pc2hlZFdvcmssIHBhcmVudEZpYmVyLCBwYXJlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgcGFyZW50RmliZXIgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgICAgcGFyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgaG9zdCBwYXJlbnQgZmliZXIuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpcnN0Q2hpbGQpIHtcbiAgICAgIHJvb3QgPSByb290LmNvbnRhaW5lckluZm87XG4gICAgICBldmVudHNFbmFibGVkID0gX2VuYWJsZWQ7XG4gICAgICByb290ID0gZ2V0QWN0aXZlRWxlbWVudERlZXAocm9vdCk7XG4gICAgICBpZiAoaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHJvb3QpKSB7XG4gICAgICAgIGlmIChcInNlbGVjdGlvblN0YXJ0XCIgaW4gcm9vdClcbiAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wID0ge1xuICAgICAgICAgICAgc3RhcnQ6IHJvb3Quc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHJvb3Quc2VsZWN0aW9uRW5kXG4gICAgICAgICAgfTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICgoSlNDb21waWxlcl90ZW1wID0gcm9vdC5vd25lckRvY3VtZW50KSAmJlxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5kZWZhdWx0VmlldykgfHxcbiAgICAgICAgICAgICAgd2luZG93O1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5nZXRTZWxlY3Rpb24gJiYgSlNDb21waWxlcl90ZW1wLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiAwICE9PSBzZWxlY3Rpb24ucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZTtcbiAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldCA9IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICAgICAgICAgICAgZm9jdXNOb2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZTtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5ub2RlVHlwZSwgZm9jdXNOb2RlLm5vZGVUeXBlO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlJDIpIHtcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSAtMSxcbiAgICAgICAgICAgICAgICBlbmQgPSAtMSxcbiAgICAgICAgICAgICAgICBpbmRleFdpdGhpbkFuY2hvciA9IDAsXG4gICAgICAgICAgICAgICAgaW5kZXhXaXRoaW5Gb2N1cyA9IDAsXG4gICAgICAgICAgICAgICAgbm9kZSA9IHJvb3QsXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgIGI6IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0OyA7ICkge1xuICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gSlNDb21waWxlcl90ZW1wIHx8XG4gICAgICAgICAgICAgICAgICAgICgwICE9PSBhbmNob3JPZmZzZXQgJiYgMyAhPT0gbm9kZS5ub2RlVHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXJ0ID0gbGVuZ3RoICsgYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIG5vZGUgIT09IGZvY3VzTm9kZSB8fFxuICAgICAgICAgICAgICAgICAgICAoMCAhPT0gc2VsZWN0aW9uICYmIDMgIT09IG5vZGUubm9kZVR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIChlbmQgPSBsZW5ndGggKyBzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgMyA9PT0gbm9kZS5ub2RlVHlwZSAmJiAobGVuZ3RoICs9IG5vZGUubm9kZVZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gKG5leHQgPSBub2RlLmZpcnN0Q2hpbGQpKSBicmVhaztcbiAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgIGlmIChub2RlID09PSByb290KSBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9PT0gSlNDb21waWxlcl90ZW1wICYmXG4gICAgICAgICAgICAgICAgICAgICsraW5kZXhXaXRoaW5BbmNob3IgPT09IGFuY2hvck9mZnNldCAmJlxuICAgICAgICAgICAgICAgICAgICAoc3RhcnQgPSBsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9PT0gZm9jdXNOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICsraW5kZXhXaXRoaW5Gb2N1cyA9PT0gc2VsZWN0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIChlbmQgPSBsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IChuZXh0ID0gbm9kZS5uZXh0U2libGluZykpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAgIC0xID09PSBzdGFydCB8fCAtMSA9PT0gZW5kID8gbnVsbCA6IHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9O1xuICAgICAgICAgICAgfSBlbHNlIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBKU0NvbXBpbGVyX3RlbXAgfHwgeyBzdGFydDogMCwgZW5kOiAwIH07XG4gICAgICB9IGVsc2UgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgIHNlbGVjdGlvbkluZm9ybWF0aW9uID0ge1xuICAgICAgICBmb2N1c2VkRWxlbTogcm9vdCxcbiAgICAgICAgc2VsZWN0aW9uUmFuZ2U6IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgfTtcbiAgICAgIF9lbmFibGVkID0gITE7XG4gICAgICBmb3IgKG5leHRFZmZlY3QgPSBmaXJzdENoaWxkOyBudWxsICE9PSBuZXh0RWZmZWN0OyApXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGZpcnN0Q2hpbGQgPSBuZXh0RWZmZWN0KSxcbiAgICAgICAgICAocm9vdCA9IGZpcnN0Q2hpbGQuY2hpbGQpLFxuICAgICAgICAgIDAgIT09IChmaXJzdENoaWxkLnN1YnRyZWVGbGFncyAmIDEwMjgpICYmIG51bGwgIT09IHJvb3QpXG4gICAgICAgIClcbiAgICAgICAgICAocm9vdC5yZXR1cm4gPSBmaXJzdENoaWxkKSwgKG5leHRFZmZlY3QgPSByb290KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGZvciAoOyBudWxsICE9PSBuZXh0RWZmZWN0OyApIHtcbiAgICAgICAgICAgIHJvb3QgPSBmaXJzdENoaWxkID0gbmV4dEVmZmVjdDtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IHJvb3QuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgYW5jaG9yT2Zmc2V0ID0gcm9vdC5mbGFncztcbiAgICAgICAgICAgIHN3aXRjaCAocm9vdC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgMCAhPT0gKGFuY2hvck9mZnNldCAmIDEwMjQpICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX3RlbXAgJiZcbiAgICAgICAgICAgICAgICAgIGNvbW1pdENsYXNzU25hcHNob3Qocm9vdCwgSlNDb21waWxlcl90ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICgwICE9PSAoYW5jaG9yT2Zmc2V0ICYgMTAyNCkpXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICgocm9vdCA9IHJvb3Quc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLFxuICAgICAgICAgICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gcm9vdC5ub2RlVHlwZSksXG4gICAgICAgICAgICAgICAgICAgIDkgPT09IEpTQ29tcGlsZXJfdGVtcClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250YWluZXJTcGFyaW5nbHkocm9vdCk7XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmICgxID09PSBKU0NvbXBpbGVyX3RlbXApXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocm9vdC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIRUFEXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQk9EWVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250YWluZXJTcGFyaW5nbHkocm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gKGFuY2hvck9mZnNldCAmIDEwMjQpKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290ID0gZmlyc3RDaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IHJvb3QpIHtcbiAgICAgICAgICAgICAgcm9vdC5yZXR1cm4gPSBmaXJzdENoaWxkLnJldHVybjtcbiAgICAgICAgICAgICAgbmV4dEVmZmVjdCA9IHJvb3Q7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEVmZmVjdCA9IGZpcnN0Q2hpbGQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIGZpcnN0Q2hpbGQgPSBzaG91bGRGaXJlQWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXI7XG4gICAgICBzaG91bGRGaXJlQWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXIgPSAhMTtcbiAgICAgIHJldHVybiBmaXJzdENoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRMYXlvdXRFZmZlY3RPbkZpYmVyKGZpbmlzaGVkUm9vdCwgY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgTGF5b3V0IHwgSGFzRWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0KVxuICAgICAgICAgICAgaWYgKCgoZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSksIG51bGwgPT09IGN1cnJlbnQpKVxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIChmaW5pc2hlZFJvb3QucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBjb21wb25lbnREaWRNb3VudC4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIGNvbXBvbmVudERpZE1vdW50LiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYsXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICAgICAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYsXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUuZGVmYXVsdFByb3BzIHx8XG4gICAgICAgICAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgICAgICAgICAoZmluaXNoZWRSb290LnByb3BzICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgY29tcG9uZW50RGlkVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgY29tcG9uZW50RGlkVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlSW5ERVYsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgICAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlSW5ERVYsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBmbGFncyAmIDY0ICYmIGNvbW1pdENsYXNzQ2FsbGJhY2tzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiYgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjdXJyZW50ID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmbGFncyAmIDY0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSwgbnVsbCAhPT0gZmxhZ3MpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmV2UHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpbmlzaGVkV29yay5jaGlsZClcbiAgICAgICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsuY2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICBwcmV2UHJvcHMgPSBmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgcHJldlByb3BzID0gZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaW5pc2hlZFJvb3QuZWZmZWN0RHVyYXRpb24gKz0gcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKGN1cnJlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJiBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmIGZsYWdzICYgNCAmJiBjb21taXRIb3N0TW91bnQoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJiBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgICBmbGFncyA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QuZWZmZWN0RHVyYXRpb24gKz0gYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKGZsYWdzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRQcm9maWxlcixcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LmVmZmVjdER1cmF0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBwcmV2UHJvcHMgPVxuICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgfHwgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuO1xuICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgICAgICBjdXJyZW50ID1cbiAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgICAgdmFyIHByZXZPZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4sXG4gICAgICAgICAgICAgIHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IHByZXZQcm9wcztcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gY3VycmVudCkgJiZcbiAgICAgICAgICAgICFwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlblxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAwICE9PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDg3NzIpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW47XG4gICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAoXCJtYW51YWxcIiA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMubW9kZVxuICAgICAgICAgICAgICA/IHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pXG4gICAgICAgICAgICAgIDogc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWNoRmliZXJBZnRlckVmZmVjdHMoZmliZXIpIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiZcbiAgICAgICAgKChmaWJlci5hbHRlcm5hdGUgPSBudWxsKSwgZGV0YWNoRmliZXJBZnRlckVmZmVjdHMoYWx0ZXJuYXRlKSk7XG4gICAgICBmaWJlci5jaGlsZCA9IG51bGw7XG4gICAgICBmaWJlci5kZWxldGlvbnMgPSBudWxsO1xuICAgICAgZmliZXIuc2libGluZyA9IG51bGw7XG4gICAgICA1ID09PSBmaWJlci50YWcgJiZcbiAgICAgICAgKChhbHRlcm5hdGUgPSBmaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgZGV0YWNoRGVsZXRlZEluc3RhbmNlKGFsdGVybmF0ZSkpO1xuICAgICAgZmliZXIuc3RhdGVOb2RlID0gbnVsbDtcbiAgICAgIGZpYmVyLl9kZWJ1Z093bmVyID0gbnVsbDtcbiAgICAgIGZpYmVyLnJldHVybiA9IG51bGw7XG4gICAgICBmaWJlci5kZXBlbmRlbmNpZXMgPSBudWxsO1xuICAgICAgZmliZXIubWVtb2l6ZWRQcm9wcyA9IG51bGw7XG4gICAgICBmaWJlci5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IG51bGw7XG4gICAgICBmaWJlci5zdGF0ZU5vZGUgPSBudWxsO1xuICAgICAgZmliZXIudXBkYXRlUXVldWUgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIHBhcmVudFxuICAgICkge1xuICAgICAgZm9yIChwYXJlbnQgPSBwYXJlbnQuY2hpbGQ7IG51bGwgIT09IHBhcmVudDsgKVxuICAgICAgICBjb21taXREZWxldGlvbkVmZmVjdHNPbkZpYmVyKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgIHBhcmVudFxuICAgICAgICApLFxuICAgICAgICAgIChwYXJlbnQgPSBwYXJlbnQuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdERlbGV0aW9uRWZmZWN0c09uRmliZXIoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgZGVsZXRlZEZpYmVyXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGluamVjdGVkSG9vayAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclVubW91bnRcbiAgICAgIClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclVubW91bnQocmVuZGVyZXJJRCwgZGVsZXRlZEZpYmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgc3dpdGNoIChkZWxldGVkRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRlbGV0ZWRGaWJlci5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IGRlbGV0ZWRGaWJlci5tZW1vaXplZFN0YXRlLmNvdW50LS1cbiAgICAgICAgICAgIDogZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAoKGRlbGV0ZWRGaWJlciA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICBkZWxldGVkRmliZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZWxldGVkRmliZXIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgICB2YXIgcHJldkhvc3RQYXJlbnQgPSBob3N0UGFyZW50LFxuICAgICAgICAgICAgcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IGhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBob3N0UGFyZW50ID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlZEZpYmVyID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICBmb3IgKGZpbmlzaGVkUm9vdCA9IGRlbGV0ZWRGaWJlci5hdHRyaWJ1dGVzOyBmaW5pc2hlZFJvb3QubGVuZ3RoOyApXG4gICAgICAgICAgICBkZWxldGVkRmliZXIucmVtb3ZlQXR0cmlidXRlTm9kZShmaW5pc2hlZFJvb3RbMF0pO1xuICAgICAgICAgIGRldGFjaERlbGV0ZWRJbnN0YW5jZShkZWxldGVkRmliZXIpO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudCA9IGhvc3RQYXJlbnQ7XG4gICAgICAgICAgcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IGhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBob3N0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IHByZXZIb3N0UGFyZW50O1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IHByZXZIb3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGhvc3RQYXJlbnQpXG4gICAgICAgICAgICBpZiAoaG9zdFBhcmVudElzQ29udGFpbmVyKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgaG9zdFBhcmVudCxcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGQsXG4gICAgICAgICAgICAgICAgICBob3N0UGFyZW50LFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgbnVsbCAhPT0gaG9zdFBhcmVudCAmJlxuICAgICAgICAgICAgKGhvc3RQYXJlbnRJc0NvbnRhaW5lclxuICAgICAgICAgICAgICA/ICgoZmluaXNoZWRSb290ID0gaG9zdFBhcmVudCksXG4gICAgICAgICAgICAgICAgKGRlbGV0ZWRGaWJlciA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgIDggPT09IGZpbmlzaGVkUm9vdC5ub2RlVHlwZVxuICAgICAgICAgICAgICAgICAgPyBjbGVhclN1c3BlbnNlQm91bmRhcnkoZmluaXNoZWRSb290LnBhcmVudE5vZGUsIGRlbGV0ZWRGaWJlcilcbiAgICAgICAgICAgICAgICAgIDogMSA9PT0gZmluaXNoZWRSb290Lm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU3VzcGVuc2VCb3VuZGFyeShmaW5pc2hlZFJvb3QsIGRlbGV0ZWRGaWJlciksXG4gICAgICAgICAgICAgICAgcmV0cnlJZkJsb2NrZWRPbihmaW5pc2hlZFJvb3QpKVxuICAgICAgICAgICAgICA6IGNsZWFyU3VzcGVuc2VCb3VuZGFyeShob3N0UGFyZW50LCBkZWxldGVkRmliZXIuc3RhdGVOb2RlKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudCA9IGhvc3RQYXJlbnQ7XG4gICAgICAgICAgcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IGhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBob3N0UGFyZW50ID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICEwO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgICAgSW5zZXJ0aW9uLFxuICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgIExheW91dFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAoc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciksXG4gICAgICAgICAgICAocHJldkhvc3RQYXJlbnQgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByZXZIb3N0UGFyZW50LmNvbXBvbmVudFdpbGxVbm1vdW50ICYmXG4gICAgICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChcbiAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICBwcmV2SG9zdFBhcmVudFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPVxuICAgICAgICAgICAgKHByZXZIb3N0UGFyZW50ID0gb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbikgfHxcbiAgICAgICAgICAgIG51bGwgIT09IGRlbGV0ZWRGaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRTdXNwZW5zZUh5ZHJhdGlvbkNhbGxiYWNrcyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yaykge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAoKGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUpLFxuICAgICAgICBudWxsICE9PSBmaW5pc2hlZFJvb3QgJiZcbiAgICAgICAgICAoKGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkUm9vdC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFJvb3QgJiZcbiAgICAgICAgICAgICgoZmluaXNoZWRSb290ID0gZmluaXNoZWRSb290LmRlaHlkcmF0ZWQpLCBudWxsICE9PSBmaW5pc2hlZFJvb3QpKSlcbiAgICAgIClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdEh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZSxcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmV0cnlDYWNoZShmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHZhciByZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsID09PSByZXRyeUNhY2hlICYmXG4gICAgICAgICAgICAocmV0cnlDYWNoZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgPSBuZXcgUG9zc2libHlXZWFrU2V0KCkpO1xuICAgICAgICAgIHJldHVybiByZXRyeUNhY2hlO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAocmV0cnlDYWNoZSA9IGZpbmlzaGVkV29yay5fcmV0cnlDYWNoZSksXG4gICAgICAgICAgICBudWxsID09PSByZXRyeUNhY2hlICYmXG4gICAgICAgICAgICAgIChyZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLl9yZXRyeUNhY2hlID0gbmV3IFBvc3NpYmx5V2Vha1NldCgpKSxcbiAgICAgICAgICAgIHJldHJ5Q2FjaGVcbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJVbmV4cGVjdGVkIFN1c3BlbnNlIGhhbmRsZXIgdGFnIChcIiArXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay50YWcgK1xuICAgICAgICAgICAgICBcIikuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgd2FrZWFibGVzKSB7XG4gICAgICB2YXIgcmV0cnlDYWNoZSA9IGdldFJldHJ5Q2FjaGUoZmluaXNoZWRXb3JrKTtcbiAgICAgIHdha2VhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uICh3YWtlYWJsZSkge1xuICAgICAgICB2YXIgcmV0cnkgPSByZXNvbHZlUmV0cnlXYWtlYWJsZS5iaW5kKG51bGwsIGZpbmlzaGVkV29yaywgd2FrZWFibGUpO1xuICAgICAgICBpZiAoIXJldHJ5Q2FjaGUuaGFzKHdha2VhYmxlKSkge1xuICAgICAgICAgIHJldHJ5Q2FjaGUuYWRkKHdha2VhYmxlKTtcbiAgICAgICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpXG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gaW5Qcm9ncmVzc0xhbmVzICYmIG51bGwgIT09IGluUHJvZ3Jlc3NSb290KVxuICAgICAgICAgICAgICByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKGluUHJvZ3Jlc3NSb290LCBpblByb2dyZXNzTGFuZXMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGZpbmlzaGVkIHJvb3QgYW5kIGxhbmVzIHRvIGJlIHNldC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIHdha2VhYmxlLnRoZW4ocmV0cnksIHJldHJ5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdE11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmssIGNvbW1pdHRlZExhbmVzKSB7XG4gICAgICBpblByb2dyZXNzTGFuZXMgPSBjb21taXR0ZWRMYW5lcztcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gcm9vdDtcbiAgICAgIGNvbW1pdE11dGF0aW9uRWZmZWN0c09uRmliZXIoZmluaXNoZWRXb3JrLCByb290KTtcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gaW5Qcm9ncmVzc0xhbmVzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290JGpzY29tcCQwLCBwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIGRlbGV0aW9ucyA9IHBhcmVudEZpYmVyLmRlbGV0aW9ucztcbiAgICAgIGlmIChudWxsICE9PSBkZWxldGlvbnMpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSByb290JGpzY29tcCQwLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlciA9IGRlbGV0aW9uc1tpXSxcbiAgICAgICAgICAgIHBhcmVudCA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGE6IGZvciAoOyBudWxsICE9PSBwYXJlbnQ7ICkge1xuICAgICAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG51bGwgPT09IGhvc3RQYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY29tbWl0RGVsZXRpb25FZmZlY3RzT25GaWJlcihyb290LCByZXR1cm5GaWJlciwgZGVsZXRlZEZpYmVyKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMTtcbiAgICAgICAgICByb290ID0gZGVsZXRlZEZpYmVyO1xuICAgICAgICAgIHJldHVybkZpYmVyID0gcm9vdC5hbHRlcm5hdGU7XG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXIgJiYgKHJldHVybkZpYmVyLnJldHVybiA9IG51bGwpO1xuICAgICAgICAgIHJvb3QucmV0dXJuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEzODc4KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0TXV0YXRpb25FZmZlY3RzT25GaWJlcihwYXJlbnRGaWJlciwgcm9vdCRqc2NvbXAkMCksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TXV0YXRpb25FZmZlY3RzT25GaWJlcihmaW5pc2hlZFdvcmssIHJvb3QpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIChjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICAgIEluc2VydGlvbiB8IEhhc0VmZmVjdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChJbnNlcnRpb24gfCBIYXNFZmZlY3QsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgICBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgICAgTGF5b3V0IHwgSGFzRWZmZWN0XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgY3VycmVudC5yZXR1cm4pKTtcbiAgICAgICAgICBmbGFncyAmIDY0ICYmXG4gICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gJiZcbiAgICAgICAgICAgICgoZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yayAmJlxuICAgICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLmNhbGxiYWNrcyksXG4gICAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICAgKChjdXJyZW50ID0gZmluaXNoZWRXb3JrLnNoYXJlZC5oaWRkZW5DYWxsYmFja3MpLFxuICAgICAgICAgICAgICAgIChmaW5pc2hlZFdvcmsuc2hhcmVkLmhpZGRlbkNhbGxiYWNrcyA9XG4gICAgICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50ID8gZmxhZ3MgOiBjdXJyZW50LmNvbmNhdChmbGFncykpKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHZhciBob2lzdGFibGVSb290ID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGlmIChmbGFncyAmIDQpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgocm9vdCA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkU3RhdGUgOiBudWxsKSxcbiAgICAgICAgICAgICAgKGZsYWdzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gZmxhZ3MpXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICAgICAgICByb290ID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICAgICAgICAgIGI6IHN3aXRjaCAoZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGl0bGVcIilbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFob2lzdGFibGVSb290IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxJbnN0YW5jZUtleV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5oYXNBdHRyaWJ1dGUoXCJpdGVtcHJvcFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAoaG9pc3RhYmxlUm9vdCA9IHJvb3QuY3JlYXRlRWxlbWVudChmbGFncykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuaGVhZC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5xdWVyeVNlbGVjdG9yKFwiaGVhZCA+IHRpdGxlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhvaXN0YWJsZVJvb3QsIGZsYWdzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBmaW5pc2hlZFdvcms7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBob2lzdGFibGVSb290O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heWJlTm9kZXMgPSBnZXRIeWRyYXRhYmxlSG9pc3RhYmxlQ2FjaGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlua1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImhyZWZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgKS5nZXQoZmxhZ3MgKyAoY3VycmVudC5ocmVmIHx8IFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXliZU5vZGVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heWJlTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChob2lzdGFibGVSb290ID0gbWF5YmVOb2Rlc1tpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuaHJlZiA/IG51bGwgOiBjdXJyZW50LmhyZWYpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwicmVsXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQucmVsID8gbnVsbCA6IGN1cnJlbnQucmVsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcInRpdGxlXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQudGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LnRpdGxlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNyb3NzT3JpZ2luKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290ID0gcm9vdC5jcmVhdGVFbGVtZW50KGZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhvaXN0YWJsZVJvb3QsIGZsYWdzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuaGVhZC5hcHBlbmRDaGlsZChob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChtYXliZU5vZGVzID0gZ2V0SHlkcmF0YWJsZUhvaXN0YWJsZUNhY2hlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0YVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udGVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKS5nZXQoZmxhZ3MgKyAoY3VycmVudC5jb250ZW50IHx8IFwiXCIpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1heWJlTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChob2lzdGFibGVSb290ID0gbWF5YmVOb2Rlc1tpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCIgKyBjdXJyZW50LmNvbnRlbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50Lm5hbWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwicHJvcGVydHlcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQucHJvcGVydHkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiaHR0cC1lcXVpdlwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50Lmh0dHBFcXVpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuaHR0cEVxdWl2KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImNoYXJzZXRcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5jaGFyU2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5jaGFyU2V0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290ID0gcm9vdC5jcmVhdGVFbGVtZW50KGZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhvaXN0YWJsZVJvb3QsIGZsYWdzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuaGVhZC5hcHBlbmRDaGlsZChob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dldE5vZGVzRm9yVHlwZSBlbmNvdW50ZXJlZCBhIHR5cGUgaXQgZGlkIG5vdCBleHBlY3Q6IFwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4nXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBmaW5pc2hlZFdvcms7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzID0gaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgPSBmbGFncztcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgIG1vdW50SG9pc3RhYmxlKFxuICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgPSBhY3F1aXJlUmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHJvb3QgIT09IGZsYWdzXG4gICAgICAgICAgICAgICAgPyAobnVsbCA9PT0gcm9vdFxuICAgICAgICAgICAgICAgICAgICA/IG51bGwgIT09IGN1cnJlbnQuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdXJyZW50KSlcbiAgICAgICAgICAgICAgICAgICAgOiByb290LmNvdW50LS0sXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBmbGFnc1xuICAgICAgICAgICAgICAgICAgICA/IG1vdW50SG9pc3RhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiBhY3F1aXJlUmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgOiBudWxsID09PSBmbGFncyAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAgICAgY29tbWl0SG9zdFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGlmIChmbGFncyAmIDQgJiYgbnVsbCA9PT0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSkge1xuICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBtYXliZU5vZGVzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKGkgPSBob2lzdGFibGVSb290LmZpcnN0Q2hpbGQ7IGk7ICkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IGkubmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgICAgICBub2RlTmFtZSA9IGkubm9kZU5hbWU7XG4gICAgICAgICAgICAgICAgaVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gfHxcbiAgICAgICAgICAgICAgICAgIFwiSEVBRFwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJCT0RZXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcIlNDUklQVFwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJTVFlMRVwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgKFwiTElOS1wiID09PSBub2RlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gaS5yZWwudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QucmVtb3ZlQ2hpbGQoaSk7XG4gICAgICAgICAgICAgICAgaSA9IG5leHROb2RlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBhY3F1aXJlU2luZ2xldG9uSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgICAgICAgbWF5YmVOb2RlcyxcbiAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZmxhZ3MgJiAzMikge1xuICAgICAgICAgICAgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaW5pc2hlZFdvcmssIHJlc2V0VGV4dENvbnRlbnQsIHJvb3QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgbnVsbCAhPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAoKHJvb3QgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyksXG4gICAgICAgICAgICBjb21taXRIb3N0VXBkYXRlKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiByb290XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICBmbGFncyAmIDEwMjQgJiZcbiAgICAgICAgICAgICgobmVlZHNGb3JtUmVzZXQgPSAhMCksXG4gICAgICAgICAgICBcImZvcm1cIiAhPT0gZmluaXNoZWRXb3JrLnR5cGUgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgaG9zdCBjb21wb25lbnQgdHlwZS4gRXhwZWN0ZWQgYSBmb3JtLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChmbGFncyAmIDQpIHtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoaXMgc2hvdWxkIGhhdmUgYSB0ZXh0IG5vZGUgaW5pdGlhbGl6ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZsYWdzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICBjdXJyZW50ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IGZsYWdzO1xuICAgICAgICAgICAgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0VGV4dFVwZGF0ZSxcbiAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZmxhZ3NcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgdGFnQ2FjaGVzID0gbnVsbDtcbiAgICAgICAgICBtYXliZU5vZGVzID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBnZXRIb2lzdGFibGVSb290KHJvb3QuY29udGFpbmVySW5mbyk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gbWF5YmVOb2RlcztcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWRcbiAgICAgICAgICApXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0SHlkcmF0ZWRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgcm9vdC5jb250YWluZXJJbmZvXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBuZWVkc0Zvcm1SZXNldCAmJlxuICAgICAgICAgICAgKChuZWVkc0Zvcm1SZXNldCA9ICExKSwgcmVjdXJzaXZlbHlSZXNldEZvcm1zKGZpbmlzaGVkV29yaykpO1xuICAgICAgICAgIHJvb3QuZWZmZWN0RHVyYXRpb24gKz0gcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgZmxhZ3MgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGdldEhvaXN0YWJsZVJvb3QoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGZsYWdzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGZsYWdzID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLmVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMoZmxhZ3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuY2hpbGQuZmxhZ3MgJiA4MTkyICYmXG4gICAgICAgICAgICAobnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUpICE9PVxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpICYmXG4gICAgICAgICAgICAoZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA9IG5vdyQxKCkpO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBmbGFncyAmJlxuICAgICAgICAgICAgICAoKGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgZmxhZ3MpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgaSA9IG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG5leHROb2RlID0gbnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbm9kZU5hbWUgPSBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW47XG4gICAgICAgICAgdmFyIHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBub2RlTmFtZSB8fCBpO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fCBuZXh0Tm9kZTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IG5vZGVOYW1lO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIHJvb3QuX2N1cnJlbnQgPSBmaW5pc2hlZFdvcms7XG4gICAgICAgICAgcm9vdC5fdmlzaWJpbGl0eSAmPSB+T2Zmc2NyZWVuRGV0YWNoZWQ7XG4gICAgICAgICAgcm9vdC5fdmlzaWJpbGl0eSB8PSByb290Ll9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZsYWdzICYgODE5MiAmJlxuICAgICAgICAgICAgKChyb290Ll92aXNpYmlsaXR5ID0gaVxuICAgICAgICAgICAgICA/IHJvb3QuX3Zpc2liaWxpdHkgJiB+T2Zmc2NyZWVuVmlzaWJsZVxuICAgICAgICAgICAgICA6IHJvb3QuX3Zpc2liaWxpdHkgfCBPZmZzY3JlZW5WaXNpYmxlKSxcbiAgICAgICAgICAgIGkgJiZcbiAgICAgICAgICAgICAgKChyb290ID0gb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuIHx8IG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4pLFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgfHxcbiAgICAgICAgICAgICAgICByb290IHx8XG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKSksXG4gICAgICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgICAgICBcIm1hbnVhbFwiICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5tb2RlKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGE6IGZvciAoY3VycmVudCA9IG51bGwsIHJvb3QgPSBmaW5pc2hlZFdvcms7IDsgKSB7XG4gICAgICAgICAgICAgIGlmICg1ID09PSByb290LnRhZyB8fCAyNiA9PT0gcm9vdC50YWcgfHwgMjcgPT09IHJvb3QudGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gY3VycmVudCA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAoaG9pc3RhYmxlUm9vdCA9IG5leHROb2RlLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlkZUluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLnN0YXRlTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihuZXh0Tm9kZSwgbmV4dE5vZGUucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKDYgPT09IHJvb3QudGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gcm9vdDtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChtYXliZU5vZGVzID0gbmV4dE5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICBpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUZXh0SW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlkZVRleHRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZU5vZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKG5leHROb2RlLCBuZXh0Tm9kZS5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgKCgyMiAhPT0gcm9vdC50YWcgJiYgMjMgIT09IHJvb3QudGFnKSB8fFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gcm9vdC5tZW1vaXplZFN0YXRlIHx8XG4gICAgICAgICAgICAgICAgICByb290ID09PSBmaW5pc2hlZFdvcmspICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdC5jaGlsZFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByb290LmNoaWxkLnJldHVybiA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgcm9vdCA9IHJvb3QuY2hpbGQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJvb3QgPT09IGZpbmlzaGVkV29yaykgYnJlYWsgYTtcbiAgICAgICAgICAgICAgZm9yICg7IG51bGwgPT09IHJvb3Quc2libGluZzsgKSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHJvb3QucmV0dXJuIHx8IHJvb3QucmV0dXJuID09PSBmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPT09IHJvb3QgJiYgKGN1cnJlbnQgPSBudWxsKTtcbiAgICAgICAgICAgICAgICByb290ID0gcm9vdC5yZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3VycmVudCA9PT0gcm9vdCAmJiAoY3VycmVudCA9IG51bGwpO1xuICAgICAgICAgICAgICByb290LnNpYmxpbmcucmV0dXJuID0gcm9vdC5yZXR1cm47XG4gICAgICAgICAgICAgIHJvb3QgPSByb290LnNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoY3VycmVudCA9IGZsYWdzLnJldHJ5UXVldWUpLFxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgKChmbGFncy5yZXRyeVF1ZXVlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmssIGN1cnJlbnQpKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmssIGZsYWdzKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBpZiAoZmxhZ3MgJiAyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmluaXNoZWRXb3JrLCBjb21taXRQbGFjZW1lbnQsIGZpbmlzaGVkV29yayk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoZWRXb3JrLmZsYWdzICY9IC0zO1xuICAgICAgfVxuICAgICAgZmxhZ3MgJiA0MDk2ICYmIChmaW5pc2hlZFdvcmsuZmxhZ3MgJj0gLTQwOTcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVJlc2V0Rm9ybXMocGFyZW50RmliZXIpIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI0KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApIHtcbiAgICAgICAgICB2YXIgZmliZXIgPSBwYXJlbnRGaWJlcjtcbiAgICAgICAgICByZWN1cnNpdmVseVJlc2V0Rm9ybXMoZmliZXIpO1xuICAgICAgICAgIDUgPT09IGZpYmVyLnRhZyAmJiBmaWJlci5mbGFncyAmIDEwMjQgJiYgZmliZXIuc3RhdGVOb2RlLnJlc2V0KCk7XG4gICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdExheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCByb290LCBjb21taXR0ZWRMYW5lcykge1xuICAgICAgaW5Qcm9ncmVzc0xhbmVzID0gY29tbWl0dGVkTGFuZXM7XG4gICAgICBpblByb2dyZXNzUm9vdCA9IHJvb3Q7XG4gICAgICBjb21taXRMYXlvdXRFZmZlY3RPbkZpYmVyKHJvb3QsIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsIGZpbmlzaGVkV29yayk7XG4gICAgICBpblByb2dyZXNzUm9vdCA9IGluUHJvZ3Jlc3NMYW5lcyA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKHJvb3QsIHBhcmVudEZpYmVyKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgODc3MilcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGNvbW1pdExheW91dEVmZmVjdE9uRmliZXIocm9vdCwgcGFyZW50RmliZXIuYWx0ZXJuYXRlLCBwYXJlbnRGaWJlciksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgIExheW91dFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHNhZmVseURldGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVubW91bnQgJiZcbiAgICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhwYXJlbnRGaWJlcikge1xuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICBkaXNhcHBlYXJMYXlvdXRFZmZlY3RzKHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgY3VycmVudCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgTGF5b3V0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjdXJyZW50LmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFVixcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0SGlkZGVuQ2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiA2NCAmJlxuICAgICAgICAgICAgY29tbWl0Q2xhc3NDYWxsYmFja3MoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdEhvc3RNb3VudChmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmIChpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmIGZsYWdzICYgNCkge1xuICAgICAgICAgICAgZmxhZ3MgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cy5lZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMoZmxhZ3MpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdFByb2ZpbGVyLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzLmVmZmVjdER1cmF0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgcGFyZW50RmliZXIsXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzID1cbiAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJiAwICE9PSAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgODc3Mik7XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIHJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgcGFyZW50RmliZXIuYWx0ZXJuYXRlLFxuICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciBwcmV2aW91c0NhY2hlID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgKHByZXZpb3VzQ2FjaGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpO1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgKGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCk7XG4gICAgICBjdXJyZW50ICE9PSBwcmV2aW91c0NhY2hlICYmXG4gICAgICAgIChudWxsICE9IGN1cnJlbnQgJiYgcmV0YWluQ2FjaGUoY3VycmVudCksXG4gICAgICAgIG51bGwgIT0gcHJldmlvdXNDYWNoZSAmJiByZWxlYXNlQ2FjaGUocHJldmlvdXNDYWNoZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSAmJlxuICAgICAgICAoY3VycmVudCA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZSk7XG4gICAgICBmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZTtcbiAgICAgIGZpbmlzaGVkV29yayAhPT0gY3VycmVudCAmJlxuICAgICAgICAocmV0YWluQ2FjaGUoZmluaXNoZWRXb3JrKSwgbnVsbCAhPSBjdXJyZW50ICYmIHJlbGVhc2VDYWNoZShjdXJyZW50KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgcm9vdCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICkge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0UGFzc2l2ZU1vdW50T25GaWJlcihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBhc3NpdmVNb3VudE9uRmliZXIoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZU1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmssIFBhc3NpdmUgfCBIYXNFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdmFyIHByZXZFZmZlY3REdXJhdGlvbiA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgKChjb21taXR0ZWRMYW5lcyA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAoY29tbWl0dGVkTGFuZXMgPSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGUpLFxuICAgICAgICAgICAgKGZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlKSxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayAhPT0gY29tbWl0dGVkTGFuZXMgJiZcbiAgICAgICAgICAgICAgKHJldGFpbkNhY2hlKGZpbmlzaGVkV29yayksXG4gICAgICAgICAgICAgIG51bGwgIT0gY29tbWl0dGVkTGFuZXMgJiYgcmVsZWFzZUNhY2hlKGNvbW1pdHRlZExhbmVzKSkpO1xuICAgICAgICAgIGZpbmlzaGVkUm9vdC5wYXNzaXZlRWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgIHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmIChmbGFncyAmIDIwNDgpIHtcbiAgICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbiA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5wYXNzaXZlRWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgICAgYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0UHJvZmlsZXJQb3N0Q29tbWl0SW1wbCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LnBhc3NpdmVFZmZlY3REdXJhdGlvblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkXG4gICAgICAgICAgICAgID8gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogcHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWRcbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogKChwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgfD1cbiAgICAgICAgICAgICAgICAgIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgMCAhPT0gKGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3MgJiAxMDI1NilcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdE9mZnNjcmVlblBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoZmluaXNoZWRXb3JrLmFsdGVybmF0ZSwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzID1cbiAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAwICE9PSAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpO1xuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICByZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgcGFyZW50RmliZXIsXG4gICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICApLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZU1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmssIFBhc3NpdmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHZhciBfaW5zdGFuY2UyID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyBfaW5zdGFuY2UyLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWRcbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6ICgoX2luc3RhbmNlMi5fdmlzaWJpbGl0eSB8PSBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCksXG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoZmluaXNoZWRXb3JrLmFsdGVybmF0ZSwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCRqc2NvbXAkMCxcbiAgICAgIHBhcmVudEZpYmVyXG4gICAgKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7ICkge1xuICAgICAgICAgIHZhciBmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsgPSBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICAgICAgY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgICAgIGNvbW1pdENhY2hlUGFzc2l2ZU1vdW50RWZmZWN0KFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChwYXJlbnRGaWJlcikge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIHN1c3BlbnNleUNvbW1pdEZsYWcpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBhY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0T25GaWJlcihwYXJlbnRGaWJlciksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdE9uRmliZXIoZmliZXIpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgICAgICBmaWJlci5mbGFncyAmIHN1c3BlbnNleUNvbW1pdEZsYWcgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGZpYmVyLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIHN1c3BlbmRSZXNvdXJjZShcbiAgICAgICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgIGZpYmVyLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgICAgIGZpYmVyLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB2YXIgcHJldmlvdXNIb2lzdGFibGVSb290ID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBnZXRIb2lzdGFibGVSb290KFxuICAgICAgICAgICAgZmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcik7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBwcmV2aW91c0hvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbnVsbCA9PT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgKChwcmV2aW91c0hvaXN0YWJsZVJvb3QgPSBmaWJlci5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldmlvdXNIb2lzdGFibGVSb290ICYmXG4gICAgICAgICAgICBudWxsICE9PSBwcmV2aW91c0hvaXN0YWJsZVJvb3QubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgICA/ICgocHJldmlvdXNIb2lzdGFibGVSb290ID0gc3VzcGVuc2V5Q29tbWl0RmxhZyksXG4gICAgICAgICAgICAgICAgKHN1c3BlbnNleUNvbW1pdEZsYWcgPSAxNjc3NzIxNiksXG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKSxcbiAgICAgICAgICAgICAgICAoc3VzcGVuc2V5Q29tbWl0RmxhZyA9IHByZXZpb3VzSG9pc3RhYmxlUm9vdCkpXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWNoQWx0ZXJuYXRlU2libGluZ3MocGFyZW50RmliZXIpIHtcbiAgICAgIHZhciBwcmV2aW91c0ZpYmVyID0gcGFyZW50RmliZXIuYWx0ZXJuYXRlO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBwcmV2aW91c0ZpYmVyICYmXG4gICAgICAgICgocGFyZW50RmliZXIgPSBwcmV2aW91c0ZpYmVyLmNoaWxkKSwgbnVsbCAhPT0gcGFyZW50RmliZXIpXG4gICAgICApIHtcbiAgICAgICAgcHJldmlvdXNGaWJlci5jaGlsZCA9IG51bGw7XG4gICAgICAgIGRvXG4gICAgICAgICAgKHByZXZpb3VzRmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlci5zaWJsaW5nID0gbnVsbCksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwcmV2aW91c0ZpYmVyKTtcbiAgICAgICAgd2hpbGUgKG51bGwgIT09IHBhcmVudEZpYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIGRlbGV0aW9ucyA9IHBhcmVudEZpYmVyLmRlbGV0aW9ucztcbiAgICAgIGlmICgwICE9PSAocGFyZW50RmliZXIuZmxhZ3MgJiAxNikpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGRlbGV0aW9ucylcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkVG9EZWxldGUgPSBkZWxldGlvbnNbaV07XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50RWZmZWN0c0luc2lkZU9mRGVsZXRlZFRyZWVfYmVnaW4oXG4gICAgICAgICAgICAgIGNoaWxkVG9EZWxldGUsXG4gICAgICAgICAgICAgIHBhcmVudEZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZGV0YWNoQWx0ZXJuYXRlU2libGluZ3MocGFyZW50RmliZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRPbkZpYmVyKHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQYXNzaXZlVW5tb3VudE9uRmliZXIoZmluaXNoZWRXb3JrKSB7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICAgIFBhc3NpdmUgfCBIYXNFZmZlY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB2YXIgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkICYmXG4gICAgICAgICAgKG51bGwgPT09IGZpbmlzaGVkV29yay5yZXR1cm4gfHwgMTMgIT09IGZpbmlzaGVkV29yay5yZXR1cm4udGFnKVxuICAgICAgICAgICAgPyAoKHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmPVxuICAgICAgICAgICAgICAgIH5PZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCksXG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKSlcbiAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIGRlbGV0aW9ucyA9IHBhcmVudEZpYmVyLmRlbGV0aW9ucztcbiAgICAgIGlmICgwICE9PSAocGFyZW50RmliZXIuZmxhZ3MgJiAxNikpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGRlbGV0aW9ucylcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkVG9EZWxldGUgPSBkZWxldGlvbnNbaV07XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50RWZmZWN0c0luc2lkZU9mRGVsZXRlZFRyZWVfYmVnaW4oXG4gICAgICAgICAgICAgIGNoaWxkVG9EZWxldGUsXG4gICAgICAgICAgICAgIHBhcmVudEZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZGV0YWNoQWx0ZXJuYXRlU2libGluZ3MocGFyZW50RmliZXIpO1xuICAgICAgfVxuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICBkaXNjb25uZWN0UGFzc2l2ZUVmZmVjdChwYXJlbnRGaWJlciksXG4gICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0KGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgIFBhc3NpdmVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIGluc3RhbmNlLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQgJiZcbiAgICAgICAgICAgICgoaW5zdGFuY2UuX3Zpc2liaWxpdHkgJj0gfk9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQYXNzaXZlVW5tb3VudEVmZmVjdHNJbnNpZGVPZkRlbGV0ZWRUcmVlX2JlZ2luKFxuICAgICAgZGVsZXRlZFN1YnRyZWVSb290LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICkge1xuICAgICAgZm9yICg7IG51bGwgIT09IG5leHRFZmZlY3Q7ICkge1xuICAgICAgICB2YXIgZmliZXIgPSBuZXh0RWZmZWN0LFxuICAgICAgICAgIGN1cnJlbnQgPSBmaWJlcjtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50LnRhZykge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICBQYXNzaXZlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBjdXJyZW50ICYmIHJldGFpbkNhY2hlKGN1cnJlbnQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICByZWxlYXNlQ2FjaGUoY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gZmliZXIuY2hpbGQ7XG4gICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSAoY3VycmVudC5yZXR1cm4gPSBmaWJlciksIChuZXh0RWZmZWN0ID0gY3VycmVudCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBhOiBmb3IgKGZpYmVyID0gZGVsZXRlZFN1YnRyZWVSb290OyBudWxsICE9PSBuZXh0RWZmZWN0OyApIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0RWZmZWN0O1xuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBjdXJyZW50LnNpYmxpbmcsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gY3VycmVudC5yZXR1cm47XG4gICAgICAgICAgICBkZXRhY2hGaWJlckFmdGVyRWZmZWN0cyhjdXJyZW50KTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBmaWJlcikge1xuICAgICAgICAgICAgICBuZXh0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChudWxsICE9PSBzaWJsaW5nKSB7XG4gICAgICAgICAgICAgIHNpYmxpbmcucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgIG5leHRFZmZlY3QgPSBzaWJsaW5nO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEVmZmVjdCA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICB0aGlzLnNpYmxpbmcgPVxuICAgICAgICB0aGlzLmNoaWxkID1cbiAgICAgICAgdGhpcy5yZXR1cm4gPVxuICAgICAgICB0aGlzLnN0YXRlTm9kZSA9XG4gICAgICAgIHRoaXMudHlwZSA9XG4gICAgICAgIHRoaXMuZWxlbWVudFR5cGUgPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgIHRoaXMucmVmQ2xlYW51cCA9IHRoaXMucmVmID0gbnVsbDtcbiAgICAgIHRoaXMucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPVxuICAgICAgICB0aGlzLm1lbW9pemVkU3RhdGUgPVxuICAgICAgICB0aGlzLnVwZGF0ZVF1ZXVlID1cbiAgICAgICAgdGhpcy5tZW1vaXplZFByb3BzID1cbiAgICAgICAgICBudWxsO1xuICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgIHRoaXMuc3VidHJlZUZsYWdzID0gdGhpcy5mbGFncyA9IDA7XG4gICAgICB0aGlzLmRlbGV0aW9ucyA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkTGFuZXMgPSB0aGlzLmxhbmVzID0gMDtcbiAgICAgIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgIHRoaXMuYWN0dWFsRHVyYXRpb24gPSAtMDtcbiAgICAgIHRoaXMuYWN0dWFsU3RhcnRUaW1lID0gLTEuMTtcbiAgICAgIHRoaXMudHJlZUJhc2VEdXJhdGlvbiA9IHRoaXMuc2VsZkJhc2VEdXJhdGlvbiA9IC0wO1xuICAgICAgdGhpcy5fZGVidWdPd25lciA9IHRoaXMuX2RlYnVnSW5mbyA9IG51bGw7XG4gICAgICB0aGlzLl9kZWJ1Z05lZWRzUmVtb3VudCA9ICExO1xuICAgICAgdGhpcy5fZGVidWdIb29rVHlwZXMgPSBudWxsO1xuICAgICAgaGFzQmFkTWFwUG9seWZpbGwgfHxcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zIHx8XG4gICAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh0aGlzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICAgIHJldHVybiAhKCFDb21wb25lbnQgfHwgIUNvbXBvbmVudC5pc1JlYWN0Q29tcG9uZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgcGVuZGluZ1Byb3BzKSB7XG4gICAgICB2YXIgd29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50LmFsdGVybmF0ZTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcyA9IGNyZWF0ZUZpYmVyKFxuICAgICAgICAgICAgY3VycmVudC50YWcsXG4gICAgICAgICAgICBwZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICBjdXJyZW50LmtleSxcbiAgICAgICAgICAgIGN1cnJlbnQubW9kZVxuICAgICAgICAgICkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSA9IGN1cnJlbnQuZWxlbWVudFR5cGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudC5zdGF0ZU5vZGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5fZGVidWdPd25lciA9IGN1cnJlbnQuX2RlYnVnT3duZXIpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5fZGVidWdIb29rVHlwZXMgPSBjdXJyZW50Ll9kZWJ1Z0hvb2tUeXBlcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSA9IGN1cnJlbnQpLFxuICAgICAgICAgIChjdXJyZW50LmFsdGVybmF0ZSA9IHdvcmtJblByb2dyZXNzKSlcbiAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmFjdHVhbER1cmF0aW9uID0gLTApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5hY3R1YWxTdGFydFRpbWUgPSAtMS4xKSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IGN1cnJlbnQuZmxhZ3MgJiAzMTQ1NzI4MDtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSBjdXJyZW50LmNoaWxkTGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGN1cnJlbnQubGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcbiAgICAgIHBlbmRpbmdQcm9wcyA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID1cbiAgICAgICAgbnVsbCA9PT0gcGVuZGluZ1Byb3BzXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGxhbmVzOiBwZW5kaW5nUHJvcHMubGFuZXMsXG4gICAgICAgICAgICAgIGZpcnN0Q29udGV4dDogcGVuZGluZ1Byb3BzLmZpcnN0Q29udGV4dCxcbiAgICAgICAgICAgICAgX2RlYnVnVGhlbmFibGVTdGF0ZTogcGVuZGluZ1Byb3BzLl9kZWJ1Z1RoZW5hYmxlU3RhdGVcbiAgICAgICAgICAgIH07XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nID0gY3VycmVudC5zaWJsaW5nO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuaW5kZXggPSBjdXJyZW50LmluZGV4O1xuICAgICAgd29ya0luUHJvZ3Jlc3MucmVmID0gY3VycmVudC5yZWY7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5yZWZDbGVhbnVwID0gY3VycmVudC5yZWZDbGVhbnVwO1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IGN1cnJlbnQuc2VsZkJhc2VEdXJhdGlvbjtcbiAgICAgIHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb247XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJbmZvID0gY3VycmVudC5fZGVidWdJbmZvO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnTmVlZHNSZW1vdW50ID0gY3VycmVudC5fZGVidWdOZWVkc1JlbW91bnQ7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldFdvcmtJblByb2dyZXNzKHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gMzE0NTcyODI7XG4gICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zZWxmQmFzZUR1cmF0aW9uID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSAwKSlcbiAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSBjdXJyZW50LmNoaWxkTGFuZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGN1cnJlbnQubGFuZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZSksXG4gICAgICAgICAgKHJlbmRlckxhbmVzID0gY3VycmVudC5kZXBlbmRlbmNpZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPVxuICAgICAgICAgICAgbnVsbCA9PT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgbGFuZXM6IHJlbmRlckxhbmVzLmxhbmVzLFxuICAgICAgICAgICAgICAgICAgZmlyc3RDb250ZXh0OiByZW5kZXJMYW5lcy5maXJzdENvbnRleHQsXG4gICAgICAgICAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiByZW5kZXJMYW5lcy5fZGVidWdUaGVuYWJsZVN0YXRlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnNlbGZCYXNlRHVyYXRpb24gPSBjdXJyZW50LnNlbGZCYXNlRHVyYXRpb24pLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uID0gY3VycmVudC50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgIHR5cGUsXG4gICAgICBrZXksXG4gICAgICBwZW5kaW5nUHJvcHMsXG4gICAgICBvd25lcixcbiAgICAgIG1vZGUsXG4gICAgICBsYW5lc1xuICAgICkge1xuICAgICAgdmFyIGZpYmVyVGFnID0gMCxcbiAgICAgICAgcmVzb2x2ZWRUeXBlID0gdHlwZTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzaG91bGRDb25zdHJ1Y3QodHlwZSkgJiYgKGZpYmVyVGFnID0gMSksXG4gICAgICAgICAgKHJlc29sdmVkVHlwZSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhyZXNvbHZlZFR5cGUpKTtcbiAgICAgIGVsc2UgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICAoZmliZXJUYWcgPSBnZXRIb3N0Q29udGV4dCgpKSxcbiAgICAgICAgICAoZmliZXJUYWcgPSBpc0hvc3RIb2lzdGFibGVUeXBlKHR5cGUsIHBlbmRpbmdQcm9wcywgZmliZXJUYWcpXG4gICAgICAgICAgICA/IDI2XG4gICAgICAgICAgICA6IFwiaHRtbFwiID09PSB0eXBlIHx8IFwiaGVhZFwiID09PSB0eXBlIHx8IFwiYm9keVwiID09PSB0eXBlXG4gICAgICAgICAgICAgID8gMjdcbiAgICAgICAgICAgICAgOiA1KTtcbiAgICAgIGVsc2VcbiAgICAgICAgYTogc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICBwZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgICAgZmliZXJUYWcgPSA4O1xuICAgICAgICAgICAgbW9kZSB8PSBTdHJpY3RMZWdhY3lNb2RlO1xuICAgICAgICAgICAgbW9kZSB8PSBTdHJpY3RFZmZlY3RzTW9kZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICh0eXBlID0gcGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgICAgKG93bmVyID0gbW9kZSksXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiB0eXBlLmlkICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdQcm9maWxlciBtdXN0IHNwZWNpZnkgYW4gXCJpZFwiIG9mIHR5cGUgYHN0cmluZ2AgYXMgYSBwcm9wLiBSZWNlaXZlZCB0aGUgdHlwZSBgJXNgIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiB0eXBlLmlkXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKGtleSA9IGNyZWF0ZUZpYmVyKDEyLCB0eXBlLCBrZXksIG93bmVyIHwgUHJvZmlsZU1vZGUpKSxcbiAgICAgICAgICAgICAgKGtleS5lbGVtZW50VHlwZSA9IFJFQUNUX1BST0ZJTEVSX1RZUEUpLFxuICAgICAgICAgICAgICAoa2V5LmxhbmVzID0gbGFuZXMpLFxuICAgICAgICAgICAgICAoa2V5LnN0YXRlTm9kZSA9IHsgZWZmZWN0RHVyYXRpb246IDAsIHBhc3NpdmVFZmZlY3REdXJhdGlvbjogMCB9KSxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChrZXkgPSBjcmVhdGVGaWJlcigxMywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpKSxcbiAgICAgICAgICAgICAgKGtleS5lbGVtZW50VHlwZSA9IFJFQUNUX1NVU1BFTlNFX1RZUEUpLFxuICAgICAgICAgICAgICAoa2V5LmxhbmVzID0gbGFuZXMpLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoa2V5ID0gY3JlYXRlRmliZXIoMTksIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSksXG4gICAgICAgICAgICAgIChrZXkuZWxlbWVudFR5cGUgPSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUpLFxuICAgICAgICAgICAgICAoa2V5LmxhbmVzID0gbGFuZXMpLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9PRkZTQ1JFRU5fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21PZmZzY3JlZW4ocGVuZGluZ1Byb3BzLCBtb2RlLCBsYW5lcywga2V5KTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmIG51bGwgIT09IHR5cGUpXG4gICAgICAgICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gOTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxMTtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKHJlc29sdmVkVHlwZSk7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDE2O1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZSB8fFxuICAgICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgICAgMCA9PT0gT2JqZWN0LmtleXModHlwZSkubGVuZ3RoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXNvbHZlZFR5cGUgKz1cbiAgICAgICAgICAgICAgICBcIiBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSBpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG4gICAgICAgICAgICBudWxsID09PSB0eXBlXG4gICAgICAgICAgICAgID8gKHBlbmRpbmdQcm9wcyA9IFwibnVsbFwiKVxuICAgICAgICAgICAgICA6IGlzQXJyYXlJbXBsKHR5cGUpXG4gICAgICAgICAgICAgICAgPyAocGVuZGluZ1Byb3BzID0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIDogdm9pZCAwICE9PSB0eXBlICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgICAgICAgICAgICAgPyAoKHBlbmRpbmdQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgICAgICAgICAgIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIlVua25vd25cIikgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiIC8+XCIpLFxuICAgICAgICAgICAgICAgICAgICAocmVzb2x2ZWRUeXBlID1cbiAgICAgICAgICAgICAgICAgICAgICBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSlcbiAgICAgICAgICAgICAgICAgIDogKHBlbmRpbmdQcm9wcyA9IHR5cGVvZiB0eXBlKTtcbiAgICAgICAgICAgIChmaWJlclRhZyA9IG93bmVyID8gZ2V0Q29tcG9uZW50TmFtZUZyb21Pd25lcihvd25lcikgOiBudWxsKSAmJlxuICAgICAgICAgICAgICAocmVzb2x2ZWRUeXBlICs9XG4gICAgICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBmaWJlclRhZyArIFwiYC5cIik7XG4gICAgICAgICAgICBmaWJlclRhZyA9IDI5O1xuICAgICAgICAgICAgcGVuZGluZ1Byb3BzID0gRXJyb3IoXG4gICAgICAgICAgICAgIFwiRWxlbWVudCB0eXBlIGlzIGludmFsaWQ6IGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiBcIiArXG4gICAgICAgICAgICAgICAgKHBlbmRpbmdQcm9wcyArIFwiLlwiICsgcmVzb2x2ZWRUeXBlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIGtleSA9IGNyZWF0ZUZpYmVyKGZpYmVyVGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG4gICAgICBrZXkuZWxlbWVudFR5cGUgPSB0eXBlO1xuICAgICAga2V5LnR5cGUgPSByZXNvbHZlZFR5cGU7XG4gICAgICBrZXkubGFuZXMgPSBsYW5lcztcbiAgICAgIGtleS5fZGVidWdPd25lciA9IG93bmVyO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCBtb2RlLCBsYW5lcykge1xuICAgICAgbW9kZSA9IGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgICAgZWxlbWVudC50eXBlLFxuICAgICAgICBlbGVtZW50LmtleSxcbiAgICAgICAgZWxlbWVudC5wcm9wcyxcbiAgICAgICAgZWxlbWVudC5fb3duZXIsXG4gICAgICAgIG1vZGUsXG4gICAgICAgIGxhbmVzXG4gICAgICApO1xuICAgICAgbW9kZS5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgcmV0dXJuIG1vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnRzLCBtb2RlLCBsYW5lcywga2V5KSB7XG4gICAgICBlbGVtZW50cyA9IGNyZWF0ZUZpYmVyKDcsIGVsZW1lbnRzLCBrZXksIG1vZGUpO1xuICAgICAgZWxlbWVudHMubGFuZXMgPSBsYW5lcztcbiAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tT2Zmc2NyZWVuKHBlbmRpbmdQcm9wcywgbW9kZSwgbGFuZXMsIGtleSkge1xuICAgICAgcGVuZGluZ1Byb3BzID0gY3JlYXRlRmliZXIoMjIsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgICAgIHBlbmRpbmdQcm9wcy5lbGVtZW50VHlwZSA9IFJFQUNUX09GRlNDUkVFTl9UWVBFO1xuICAgICAgcGVuZGluZ1Byb3BzLmxhbmVzID0gbGFuZXM7XG4gICAgICB2YXIgcHJpbWFyeUNoaWxkSW5zdGFuY2UgPSB7XG4gICAgICAgIF92aXNpYmlsaXR5OiBPZmZzY3JlZW5WaXNpYmxlLFxuICAgICAgICBfcGVuZGluZ1Zpc2liaWxpdHk6IE9mZnNjcmVlblZpc2libGUsXG4gICAgICAgIF9wZW5kaW5nTWFya2VyczogbnVsbCxcbiAgICAgICAgX3JldHJ5Q2FjaGU6IG51bGwsXG4gICAgICAgIF90cmFuc2l0aW9uczogbnVsbCxcbiAgICAgICAgX2N1cnJlbnQ6IG51bGwsXG4gICAgICAgIGRldGFjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHByaW1hcnlDaGlsZEluc3RhbmNlLFxuICAgICAgICAgICAgZmliZXIgPSBpbnN0YW5jZS5fY3VycmVudDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJDYWxsaW5nIE9mZnNjcmVlbi5kZXRhY2ggYmVmb3JlIGluc3RhbmNlIGhhbmRsZSBoYXMgYmVlbiBzZXQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKDAgPT09IChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZCkpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgKChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgfD0gT2Zmc2NyZWVuRGV0YWNoZWQpLFxuICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF0dGFjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHByaW1hcnlDaGlsZEluc3RhbmNlLFxuICAgICAgICAgICAgZmliZXIgPSBpbnN0YW5jZS5fY3VycmVudDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJDYWxsaW5nIE9mZnNjcmVlbi5kZXRhY2ggYmVmb3JlIGluc3RhbmNlIGhhbmRsZSBoYXMgYmVlbiBzZXQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKDAgIT09IChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZCkpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgKChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgJj0gfk9mZnNjcmVlbkRldGFjaGVkKSxcbiAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGVuZGluZ1Byb3BzLnN0YXRlTm9kZSA9IHByaW1hcnlDaGlsZEluc3RhbmNlO1xuICAgICAgcmV0dXJuIHBlbmRpbmdQcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tVGV4dChjb250ZW50LCBtb2RlLCBsYW5lcykge1xuICAgICAgY29udGVudCA9IGNyZWF0ZUZpYmVyKDYsIGNvbnRlbnQsIG51bGwsIG1vZGUpO1xuICAgICAgY29udGVudC5sYW5lcyA9IGxhbmVzO1xuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGxhbmVzKSB7XG4gICAgICBtb2RlID0gY3JlYXRlRmliZXIoXG4gICAgICAgIDQsXG4gICAgICAgIG51bGwgIT09IHBvcnRhbC5jaGlsZHJlbiA/IHBvcnRhbC5jaGlsZHJlbiA6IFtdLFxuICAgICAgICBwb3J0YWwua2V5LFxuICAgICAgICBtb2RlXG4gICAgICApO1xuICAgICAgbW9kZS5sYW5lcyA9IGxhbmVzO1xuICAgICAgbW9kZS5zdGF0ZU5vZGUgPSB7XG4gICAgICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgICAgICBwZW5kaW5nQ2hpbGRyZW46IG51bGwsXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiBwb3J0YWwuaW1wbGVtZW50YXRpb25cbiAgICAgIH07XG4gICAgICByZXR1cm4gbW9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZFJlc291cmNlQW5kU3VzcGVuZElmTmVlZGVkKHdvcmtJblByb2dyZXNzLCByZXNvdXJjZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcInN0eWxlc2hlZXRcIiAhPT0gcmVzb3VyY2UudHlwZSB8fFxuICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSAhPT0gTm90TG9hZGVkXG4gICAgICApXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNztcbiAgICAgIGVsc2UgaWYgKFxuICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE2Nzc3MjE2KSwgIXByZWxvYWRSZXNvdXJjZShyZXNvdXJjZSkpXG4gICAgICApIHtcbiAgICAgICAgcmVzb3VyY2UgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCAhPT0gcmVzb3VyY2UgJiZcbiAgICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNDE5NDE3NikgPT09XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICAgID8gbnVsbCAhPT0gc2hlbGxCb3VuZGFyeVxuICAgICAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNjI5MTQ1NjApICE9PVxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSkgfHxcbiAgICAgICAgICAgICAgcmVzb3VyY2UgIT09IHNoZWxsQm91bmRhcnkpXG4gICAgICAgIClcbiAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAoKHN1c3BlbmRlZFRoZW5hYmxlID0gbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlKSxcbiAgICAgICAgICAgIFN1c3BlbnNleUNvbW1pdEV4Y2VwdGlvbilcbiAgICAgICAgICApO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCByZXRyeVF1ZXVlKSB7XG4gICAgICBudWxsICE9PSByZXRyeVF1ZXVlICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTYzODQgJiZcbiAgICAgICAgKChyZXRyeVF1ZXVlID1cbiAgICAgICAgICAyMiAhPT0gd29ya0luUHJvZ3Jlc3MudGFnID8gY2xhaW1OZXh0UmV0cnlMYW5lKCkgOiA1MzY4NzA5MTIpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgfD0gcmV0cnlRdWV1ZSksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgfD0gcmV0cnlRdWV1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjdXRPZmZUYWlsSWZOZWVkZWQocmVuZGVyU3RhdGUsIGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjaykge1xuICAgICAgaWYgKCFpc0h5ZHJhdGluZylcbiAgICAgICAgc3dpdGNoIChyZW5kZXJTdGF0ZS50YWlsTW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgICAgIGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayA9IHJlbmRlclN0YXRlLnRhaWw7XG4gICAgICAgICAgICBmb3IgKHZhciBsYXN0VGFpbE5vZGUgPSBudWxsOyBudWxsICE9PSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2s7IClcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgIChsYXN0VGFpbE5vZGUgPSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2spLFxuICAgICAgICAgICAgICAgIChoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2sgPSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2suc2libGluZyk7XG4gICAgICAgICAgICBudWxsID09PSBsYXN0VGFpbE5vZGVcbiAgICAgICAgICAgICAgPyAocmVuZGVyU3RhdGUudGFpbCA9IG51bGwpXG4gICAgICAgICAgICAgIDogKGxhc3RUYWlsTm9kZS5zaWJsaW5nID0gbnVsbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY29sbGFwc2VkXCI6XG4gICAgICAgICAgICBsYXN0VGFpbE5vZGUgPSByZW5kZXJTdGF0ZS50YWlsO1xuICAgICAgICAgICAgZm9yICh2YXIgX2xhc3RUYWlsTm9kZSA9IG51bGw7IG51bGwgIT09IGxhc3RUYWlsTm9kZTsgKVxuICAgICAgICAgICAgICBudWxsICE9PSBsYXN0VGFpbE5vZGUuYWx0ZXJuYXRlICYmIChfbGFzdFRhaWxOb2RlID0gbGFzdFRhaWxOb2RlKSxcbiAgICAgICAgICAgICAgICAobGFzdFRhaWxOb2RlID0gbGFzdFRhaWxOb2RlLnNpYmxpbmcpO1xuICAgICAgICAgICAgbnVsbCA9PT0gX2xhc3RUYWlsTm9kZVxuICAgICAgICAgICAgICA/IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayB8fCBudWxsID09PSByZW5kZXJTdGF0ZS50YWlsXG4gICAgICAgICAgICAgICAgPyAocmVuZGVyU3RhdGUudGFpbCA9IG51bGwpXG4gICAgICAgICAgICAgICAgOiAocmVuZGVyU3RhdGUudGFpbC5zaWJsaW5nID0gbnVsbClcbiAgICAgICAgICAgICAgOiAoX2xhc3RUYWlsTm9kZS5zaWJsaW5nID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYnViYmxlUHJvcGVydGllcyhjb21wbGV0ZWRXb3JrKSB7XG4gICAgICB2YXIgZGlkQmFpbG91dCA9XG4gICAgICAgICAgbnVsbCAhPT0gY29tcGxldGVkV29yay5hbHRlcm5hdGUgJiZcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZS5jaGlsZCA9PT0gY29tcGxldGVkV29yay5jaGlsZCxcbiAgICAgICAgbmV3Q2hpbGRMYW5lcyA9IDAsXG4gICAgICAgIHN1YnRyZWVGbGFncyA9IDA7XG4gICAgICBpZiAoZGlkQmFpbG91dClcbiAgICAgICAgaWYgKChjb21wbGV0ZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSkge1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICB2YXIgX3RyZWVCYXNlRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLnNlbGZCYXNlRHVyYXRpb24sXG4gICAgICAgICAgICAgIF9jaGlsZDIgPSBjb21wbGV0ZWRXb3JrLmNoaWxkO1xuICAgICAgICAgICAgbnVsbCAhPT0gX2NoaWxkMjtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9IF9jaGlsZDIubGFuZXMgfCBfY2hpbGQyLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF9jaGlsZDIuc3VidHJlZUZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF9jaGlsZDIuZmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiArPSBfY2hpbGQyLnRyZWVCYXNlRHVyYXRpb24pLFxuICAgICAgICAgICAgICAoX2NoaWxkMiA9IF9jaGlsZDIuc2libGluZyk7XG4gICAgICAgICAgY29tcGxldGVkV29yay50cmVlQmFzZUR1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb247XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7XG4gICAgICAgICAgICBudWxsICE9PSBfdHJlZUJhc2VEdXJhdGlvbjtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9XG4gICAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uLmxhbmVzIHwgX3RyZWVCYXNlRHVyYXRpb24uY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX3RyZWVCYXNlRHVyYXRpb24uc3VidHJlZUZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLmZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24ucmV0dXJuID0gY29tcGxldGVkV29yayksXG4gICAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uLnNpYmxpbmcpO1xuICAgICAgZWxzZSBpZiAoKGNvbXBsZXRlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5hY3R1YWxEdXJhdGlvbjtcbiAgICAgICAgX2NoaWxkMiA9IGNvbXBsZXRlZFdvcmsuc2VsZkJhc2VEdXJhdGlvbjtcbiAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBjb21wbGV0ZWRXb3JrLmNoaWxkOyBudWxsICE9PSBjaGlsZDsgKVxuICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9IGNoaWxkLmxhbmVzIHwgY2hpbGQuY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IGNoaWxkLnN1YnRyZWVGbGFncyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IGNoaWxkLmZsYWdzKSxcbiAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiksXG4gICAgICAgICAgICAoX2NoaWxkMiArPSBjaGlsZC50cmVlQmFzZUR1cmF0aW9uKSxcbiAgICAgICAgICAgIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICBjb21wbGV0ZWRXb3JrLmFjdHVhbER1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb247XG4gICAgICAgIGNvbXBsZXRlZFdvcmsudHJlZUJhc2VEdXJhdGlvbiA9IF9jaGlsZDI7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7XG4gICAgICAgICAgbnVsbCAhPT0gX3RyZWVCYXNlRHVyYXRpb247XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9XG4gICAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbi5sYW5lcyB8IF90cmVlQmFzZUR1cmF0aW9uLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5zdWJ0cmVlRmxhZ3MpLFxuICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5mbGFncyksXG4gICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24ucmV0dXJuID0gY29tcGxldGVkV29yayksXG4gICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbi5zaWJsaW5nKTtcbiAgICAgIGNvbXBsZXRlZFdvcmsuc3VidHJlZUZsYWdzIHw9IHN1YnRyZWVGbGFncztcbiAgICAgIGNvbXBsZXRlZFdvcmsuY2hpbGRMYW5lcyA9IG5ld0NoaWxkTGFuZXM7XG4gICAgICByZXR1cm4gZGlkQmFpbG91dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgcG9wVHJlZUNvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDc6XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gbnVsbDtcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIChyZW5kZXJMYW5lcyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZSk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZSAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4KTtcbiAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBuZXdQcm9wcy5wZW5kaW5nQ29udGV4dCAmJlxuICAgICAgICAgICAgKChuZXdQcm9wcy5jb250ZXh0ID0gbmV3UHJvcHMucGVuZGluZ0NvbnRleHQpLFxuICAgICAgICAgICAgKG5ld1Byb3BzLnBlbmRpbmdDb250ZXh0ID0gbnVsbCkpO1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IG51bGwgPT09IGN1cnJlbnQuY2hpbGQpXG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgPyAoZW1pdFBlbmRpbmdIeWRyYXRpb25XYXJuaW5ncygpLCBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSlcbiAgICAgICAgICAgICAgOiBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgICAgKGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDI1NikpIHx8XG4gICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBoeWRyYXRpb25FcnJvcnMgJiZcbiAgICAgICAgICAgICAgICAgIChxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGh5ZHJhdGlvbkVycm9ycyksXG4gICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uRXJyb3JzID0gbnVsbCkpKTtcbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICA/IChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlc291cmNlQW5kU3VzcGVuZElmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICA6IChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNykpKVxuICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgPyByZW5kZXJMYW5lcyAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgICAgICA/IChtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRSZXNvdXJjZUFuZFN1c3BlbmRJZk5lZWRlZChcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgOiAoYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTcpKVxuICAgICAgICAgICAgICAgIDogKGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTcpKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgICAgICB2YXIgX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbmV3UHJvcHMpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgID8gcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgY3VycmVudClcbiAgICAgICAgICAgICAgOiAoKGN1cnJlbnQgPSByZXNvbHZlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgICBfdHlwZSxcbiAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudCksXG4gICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IG5ld1Byb3BzICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3R5cGUgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKSlcbiAgICAgICAgICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgX3R5cGUpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyhyZW5kZXJMYW5lcywgX3R5cGUuYW5jZXN0b3JJbmZvKTtcbiAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5jb250ZXh0O1xuICAgICAgICAgICAgICBjdXJyZW50ID0gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKGN1cnJlbnQpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKF90eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZzpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCByZW5kZXJMYW5lcyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aDpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgICAgICAgTUFUSF9OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVuZGVyTGFuZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFNWR19OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtYXRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAgICAgICAgICAgTUFUSF9OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuaW5uZXJIVE1MID0gXCI8c2NyaXB0PlxceDNjL3NjcmlwdD5cIjtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5yZW1vdmVDaGlsZChjdXJyZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3UHJvcHMuaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwgeyBpczogbmV3UHJvcHMuaXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMubXVsdGlwbGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGN1cnJlbnQubXVsdGlwbGUgPSAhMClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3UHJvcHMuc2l6ZSAmJiAoY3VycmVudC5zaXplID0gbmV3UHJvcHMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld1Byb3BzLmlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gY3VycmVudC5jcmVhdGVFbGVtZW50KHJlbmRlckxhbmVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpczogbmV3UHJvcHMuaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY3JlYXRlRWxlbWVudChyZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgPT09IHJlbmRlckxhbmVzLmluZGV4T2YoXCItXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChyZW5kZXJMYW5lcyAhPT0gcmVuZGVyTGFuZXMudG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwlcyAvPiBpcyB1c2luZyBpbmNvcnJlY3QgY2FzaW5nLiBVc2UgUGFzY2FsQ2FzZSBmb3IgUmVhY3QgY29tcG9uZW50cywgb3IgbG93ZXJjYXNlIGZvciBIVE1MIGVsZW1lbnRzLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIltvYmplY3QgSFRNTFVua25vd25FbGVtZW50XVwiICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjdXJyZW50KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuZWRVbmtub3duVGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgod2FybmVkVW5rbm93blRhZ3NbcmVuZGVyTGFuZXNdID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSB0YWcgPCVzPiBpcyB1bnJlY29nbml6ZWQgaW4gdGhpcyBicm93c2VyLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgUmVhY3QgY29tcG9uZW50LCBzdGFydCBpdHMgbmFtZSB3aXRoIGFuIHVwcGVyY2FzZSBsZXR0ZXIuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50W2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIGN1cnJlbnRbaW50ZXJuYWxQcm9wc0tleV0gPSBuZXdQcm9wcztcbiAgICAgICAgICAgICAgYTogZm9yIChfdHlwZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBfdHlwZTsgKSB7XG4gICAgICAgICAgICAgICAgaWYgKDUgPT09IF90eXBlLnRhZyB8fCA2ID09PSBfdHlwZS50YWcpXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LmFwcGVuZENoaWxkKF90eXBlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICA0ICE9PSBfdHlwZS50YWcgJiZcbiAgICAgICAgICAgICAgICAgIDI3ICE9PSBfdHlwZS50YWcgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlLmNoaWxkXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBfdHlwZS5jaGlsZC5yZXR1cm4gPSBfdHlwZTtcbiAgICAgICAgICAgICAgICAgIF90eXBlID0gX3R5cGUuY2hpbGQ7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90eXBlID09PSB3b3JrSW5Qcm9ncmVzcykgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gX3R5cGUuc2libGluZzsgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gX3R5cGUucmV0dXJuIHx8IF90eXBlLnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLnJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3R5cGUuc2libGluZy5yZXR1cm4gPSBfdHlwZS5yZXR1cm47XG4gICAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5zaWJsaW5nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgIGE6IHN3aXRjaCAoXG4gICAgICAgICAgICAgICAgKHNldEluaXRpYWxQcm9wZXJ0aWVzKGN1cnJlbnQsIHJlbmRlckxhbmVzLCBuZXdQcm9wcyksXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJidXR0b25cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gISFuZXdQcm9wcy5hdXRvRm9jdXM7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAhMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAhMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50ICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTc7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAoY3VycmVudCAmJiBudWxsICE9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50ID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmVuZGVyTGFuZXMgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKSkge1xuICAgICAgICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF90eXBlID0gIWRpZFN1c3BlbmRPckVycm9yREVWO1xuICAgICAgICAgICAgICByZW5kZXJMYW5lcyA9IG51bGw7XG4gICAgICAgICAgICAgIHZhciByZXR1cm5GaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyO1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gcmV0dXJuRmliZXIpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKF90eXBlID0gZGlmZkh5ZHJhdGVkVGV4dEZvckRldldhcm5pbmdzKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUod29ya0luUHJvZ3Jlc3MsIDApLnNlcnZlclByb3BzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3R5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IGRpZmZIeWRyYXRlZFRleHRGb3JEZXZXYXJuaW5ncyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKS5zZXJ2ZXJQcm9wcyA9IF90eXBlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50W2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgIGN1cnJlbnQubm9kZVZhbHVlID09PSBuZXdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIChudWxsICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgITAgPT09IHJlbmRlckxhbmVzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZykgfHxcbiAgICAgICAgICAgICAgICBjaGVja0ZvclVubWF0Y2hlZFRleHQoY3VycmVudC5ub2RlVmFsdWUsIG5ld1Byb3BzKVxuICAgICAgICAgICAgICAgICAgPyAhMFxuICAgICAgICAgICAgICAgICAgOiAhMTtcbiAgICAgICAgICAgICAgY3VycmVudCB8fCB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJlbmRlckxhbmVzLmFuY2VzdG9ySW5mby5jdXJyZW50KSxcbiAgICAgICAgICAgICAgICBudWxsICE9IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZVRleHROZXN0aW5nKG5ld1Byb3BzLCByZW5kZXJMYW5lcy50YWcpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihjdXJyZW50KS5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50W2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBfdHlwZSA9IHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBuZXdQcm9wcyAmJiBudWxsICE9PSBuZXdQcm9wcy5kZWh5ZHJhdGVkKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdHlwZSlcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkEgZGVoeWRyYXRlZCBzdXNwZW5zZSBjb21wb25lbnQgd2FzIGNvbXBsZXRlZCB3aXRob3V0IGEgaHlkcmF0ZWQgbm9kZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBfdHlwZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgICAgX3R5cGUgPSBudWxsICE9PSBfdHlwZSA/IF90eXBlLmRlaHlkcmF0ZWQgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghX3R5cGUpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBoYXZlIGEgaHlkcmF0ZWQgc3VzcGVuc2UgaW5zdGFuY2UuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgX3R5cGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uIC09XG4gICAgICAgICAgICAgICAgICAgICAgX3R5cGUudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBlbWl0UGVuZGluZ0h5ZHJhdGlvbldhcm5pbmdzKCksXG4gICAgICAgICAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCksXG4gICAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiAtPVxuICAgICAgICAgICAgICAgICAgICAgICAgX3R5cGUudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgICAgICAgICBfdHlwZSA9ICExO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIG51bGwgIT09IGh5ZHJhdGlvbkVycm9ycyAmJlxuICAgICAgICAgICAgICAgIChxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGh5ZHJhdGlvbkVycm9ycyksXG4gICAgICAgICAgICAgICAgKGh5ZHJhdGlvbkVycm9ycyA9IG51bGwpKSxcbiAgICAgICAgICAgICAgICAoX3R5cGUgPSAhMCk7XG4gICAgICAgICAgICBpZiAoIV90eXBlKSB7XG4gICAgICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDI1NilcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSwgd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICgwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIG5ld1Byb3BzID0gbnVsbCAhPT0gbmV3UHJvcHM7XG4gICAgICAgICAgY3VycmVudCA9IG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAoKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgKF90eXBlID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChfdHlwZSA9IHJlbmRlckxhbmVzLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZW5kZXJMYW5lcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIHJldHVybkZpYmVyICE9PSBfdHlwZSAmJiAocmVuZGVyTGFuZXMuZmxhZ3MgfD0gMjA0OCkpO1xuICAgICAgICAgIG5ld1Byb3BzICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkLmZsYWdzIHw9IDgxOTIpO1xuICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlKTtcbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgKChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiAtPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb24pKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLnR5cGUsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBfdHlwZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKG51bGwgPT09IF90eXBlKSByZXR1cm4gYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgICAgbmV3UHJvcHMgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpO1xuICAgICAgICAgIHJldHVybkZpYmVyID0gX3R5cGUucmVuZGVyaW5nO1xuICAgICAgICAgIGlmIChudWxsID09PSByZXR1cm5GaWJlcilcbiAgICAgICAgICAgIGlmIChuZXdQcm9wcykgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RJblByb2dyZXNzIHx8XG4gICAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQgJiYgMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMjgpKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZm9yIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IGN1cnJlbnQ7ICkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBmaW5kRmlyc3RTdXNwZW5kZWQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gcmV0dXJuRmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4O1xuICAgICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHJldHVybkZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDsgbnVsbCAhPT0gbmV3UHJvcHM7IClcbiAgICAgICAgICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzKG5ld1Byb3BzLCBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZXdQcm9wcyA9IG5ld1Byb3BzLnNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICBwdXNoKFxuICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IsXG4gICAgICAgICAgICAgICAgICAgICAgKHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCAmXG4gICAgICAgICAgICAgICAgICAgICAgICBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaykgfFxuICAgICAgICAgICAgICAgICAgICAgICAgRm9yY2VTdXNwZW5zZUZhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZS50YWlsICYmXG4gICAgICAgICAgICAgICAgbm93JDEoKSA+IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgJiZcbiAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gITApLFxuICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDQxOTQzMDQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbmV3UHJvcHMpXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBmaW5kRmlyc3RTdXNwZW5kZWQocmV0dXJuRmliZXIpKSwgbnVsbCAhPT0gY3VycmVudClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gITApLFxuICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgY3VycmVudCksXG4gICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICEwKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IF90eXBlLnRhaWwgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJoaWRkZW5cIiA9PT0gX3R5cGUudGFpbE1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgIXJldHVybkZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNIeWRyYXRpbmcpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAyICogbm93JDEoKSAtIF90eXBlLnJlbmRlcmluZ1N0YXJ0VGltZSA+XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lICYmXG4gICAgICAgICAgICAgICAgICA1MzY4NzA5MTIgIT09IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSAhMCksXG4gICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDQxOTQzMDQpKTtcbiAgICAgICAgICAgIF90eXBlLmlzQmFja3dhcmRzXG4gICAgICAgICAgICAgID8gKChyZXR1cm5GaWJlci5zaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgOiAoKGN1cnJlbnQgPSBfdHlwZS5sYXN0KSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICA/IChjdXJyZW50LnNpYmxpbmcgPSByZXR1cm5GaWJlcilcbiAgICAgICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChfdHlwZS5sYXN0ID0gcmV0dXJuRmliZXIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG51bGwgIT09IF90eXBlLnRhaWwpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoY3VycmVudCA9IF90eXBlLnRhaWwpLFxuICAgICAgICAgICAgICAoX3R5cGUucmVuZGVyaW5nID0gY3VycmVudCksXG4gICAgICAgICAgICAgIChfdHlwZS50YWlsID0gY3VycmVudC5zaWJsaW5nKSxcbiAgICAgICAgICAgICAgKF90eXBlLnJlbmRlcmluZ1N0YXJ0VGltZSA9IG5vdyQxKCkpLFxuICAgICAgICAgICAgICAoY3VycmVudC5zaWJsaW5nID0gbnVsbCksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IG5ld1Byb3BzXG4gICAgICAgICAgICAgICAgPyAocmVuZGVyTGFuZXMgJiBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaykgfFxuICAgICAgICAgICAgICAgICAgRm9yY2VTdXNwZW5zZUZhbGxiYWNrXG4gICAgICAgICAgICAgICAgOiByZW5kZXJMYW5lcyAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSxcbiAgICAgICAgICAgICAgcHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCByZW5kZXJMYW5lcywgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcG9wSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAobmV3UHJvcHMgPSBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAobnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MilcbiAgICAgICAgICAgICAgOiBuZXdQcm9wcyAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MiksXG4gICAgICAgICAgICBuZXdQcm9wc1xuICAgICAgICAgICAgICA/IDAgIT09IChyZW5kZXJMYW5lcyAmIDUzNjg3MDkxMikgJiZcbiAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpICYmXG4gICAgICAgICAgICAgICAgKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyAmIDYgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKSlcbiAgICAgICAgICAgICAgOiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIG5ld1Byb3BzLnJldHJ5UXVldWUpLFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChuZXdQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICByZW5kZXJMYW5lcyAhPT0gbmV3UHJvcHMgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwb3AocmVzdW1lZENhY2hlLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIChuZXdQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZSksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcgKFwiICtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgK1xuICAgICAgICAgIFwiKS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW53aW5kV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgcG9wVHJlZUNvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzKSxcbiAgICAgICAgICAgIGN1cnJlbnQgJiA2NTUzNlxuICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzKSxcbiAgICAgICAgICAgIDAgIT09IChjdXJyZW50ICYgNjU1MzYpICYmIDAgPT09IChjdXJyZW50ICYgMTI4KVxuICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQuZGVoeWRyYXRlZCkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaHJldyBpbiBuZXdseSBtb3VudGVkIGRlaHlkcmF0ZWQgY29tcG9uZW50LiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzO1xuICAgICAgICAgIHJldHVybiBjdXJyZW50ICYgNjU1MzZcbiAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIHBvcChzdXNwZW5zZVN0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLnR5cGUsIHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHBvcEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwb3AocmVzdW1lZENhY2hlLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzKSxcbiAgICAgICAgICAgIGN1cnJlbnQgJiA2NTUzNlxuICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdW53aW5kSW50ZXJydXB0ZWRXb3JrKGN1cnJlbnQsIGludGVycnVwdGVkV29yaykge1xuICAgICAgcG9wVHJlZUNvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgIHN3aXRjaCAoaW50ZXJydXB0ZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoaW50ZXJydXB0ZWRXb3JrLnR5cGUsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgcG9wSGlkZGVuQ29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgcG9wKHJlc3VtZWRDYWNoZSwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIGludGVycnVwdGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ29tbWl0Um9vdCgpIHtcbiAgICAgIGNvbW1pdEhvb2tzLmZvckVhY2goZnVuY3Rpb24gKGNvbW1pdEhvb2spIHtcbiAgICAgICAgcmV0dXJuIGNvbW1pdEhvb2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0NvbmN1cnJlbnRBY3RFbnZpcm9ubWVudCgpIHtcbiAgICAgIHZhciBpc1JlYWN0QWN0RW52aXJvbm1lbnRHbG9iYWwgPVxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UXG4gICAgICAgICAgPyBJU19SRUFDVF9BQ1RfRU5WSVJPTk1FTlRcbiAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgIGlzUmVhY3RBY3RFbnZpcm9ubWVudEdsb2JhbCB8fFxuICAgICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIGN1cnJlbnQgdGVzdGluZyBlbnZpcm9ubWVudCBpcyBub3QgY29uZmlndXJlZCB0byBzdXBwb3J0IGFjdCguLi4pXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBpc1JlYWN0QWN0RW52aXJvbm1lbnRHbG9iYWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgIT09IE5vQ29udGV4dCAmJlxuICAgICAgICAwICE9PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgKVxuICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiAtd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXM7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gdHJhbnNpdGlvblxuICAgICAgICA/ICh0cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzIHx8ICh0cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpKSxcbiAgICAgICAgICB0cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmFkZChmaWJlciksXG4gICAgICAgICAgKGZpYmVyID0gY3VycmVudEVudGFuZ2xlZExhbmUpLFxuICAgICAgICAgIDAgIT09IGZpYmVyID8gZmliZXIgOiByZXF1ZXN0VHJhbnNpdGlvbkxhbmUoKSlcbiAgICAgICAgOiByZXNvbHZlVXBkYXRlUHJpb3JpdHkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdERlZmVycmVkTGFuZSgpIHtcbiAgICAgIDAgPT09IHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSA9XG4gICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSB8fCBpc0h5ZHJhdGluZ1xuICAgICAgICAgICAgPyBjbGFpbU5leHRUcmFuc2l0aW9uTGFuZSgpXG4gICAgICAgICAgICA6IDUzNjg3MDkxMik7XG4gICAgICB2YXIgc3VzcGVuc2VIYW5kbGVyID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgIG51bGwgIT09IHN1c3BlbnNlSGFuZGxlciAmJiAoc3VzcGVuc2VIYW5kbGVyLmZsYWdzIHw9IDMyKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCBsYW5lKSB7XG4gICAgICBpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcInVzZUluc2VydGlvbkVmZmVjdCBtdXN0IG5vdCBzY2hlZHVsZSB1cGRhdGVzLlwiKTtcbiAgICAgIGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyAmJiAoZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9ICEwKTtcbiAgICAgIGlmIChcbiAgICAgICAgKHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEpIHx8XG4gICAgICAgIG51bGwgIT09IHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdFxuICAgICAgKVxuICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCAwKSxcbiAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgITFcbiAgICAgICAgICApO1xuICAgICAgbWFya1Jvb3RVcGRhdGVkJDEocm9vdCwgbGFuZSk7XG4gICAgICBpZiAoXG4gICAgICAgIDAgIT09IChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgJiZcbiAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290XG4gICAgICApIHtcbiAgICAgICAgaWYgKGlzUmVuZGVyaW5nKVxuICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgcm9vdCA9XG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzICYmIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpKSB8fFxuICAgICAgICAgICAgICAgIFwiVW5rbm93blwiO1xuICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlckZvckFub3RoZXJDb21wb25lbnQuaGFzKHJvb3QpIHx8XG4gICAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyRm9yQW5vdGhlckNvbXBvbmVudC5hZGQocm9vdCksXG4gICAgICAgICAgICAgICAgKGZpYmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbm5vdCB1cGRhdGUgYSBjb21wb25lbnQgKGAlc2ApIHdoaWxlIHJlbmRlcmluZyBhIGRpZmZlcmVudCBjb21wb25lbnQgKGAlc2ApLiBUbyBsb2NhdGUgdGhlIGJhZCBzZXRTdGF0ZSgpIGNhbGwgaW5zaWRlIGAlc2AsIGZvbGxvdyB0aGUgc3RhY2sgdHJhY2UgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc2V0c3RhdGUtaW4tcmVuZGVyXCIsXG4gICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciB8fFxuICAgICAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzIHdpdGhpbiBgcmVuZGVyYCkuIFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIgPSAhMCkpO1xuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiBhZGRGaWJlclRvTGFuZXNNYXAocm9vdCwgZmliZXIsIGxhbmUpLFxuICAgICAgICAgIHdhcm5JZlVwZGF0ZXNOb3RXcmFwcGVkV2l0aEFjdERFVihmaWJlciksXG4gICAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICAgICAoKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSA9PT0gTm9Db250ZXh0ICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyB8PSBsYW5lKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgJiZcbiAgICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGxhbmVzLCBmb3JjZVN5bmMpIHtcbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQpXG4gICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIG5vdCBhbHJlYWR5IGJlIHdvcmtpbmcuXCIpO1xuICAgICAgdmFyIHNob3VsZFRpbWVTbGljZSA9XG4gICAgICAgICAgKCFmb3JjZVN5bmMgJiZcbiAgICAgICAgICAgIDAgPT09IChsYW5lcyAmIDYwKSAmJlxuICAgICAgICAgICAgMCA9PT0gKGxhbmVzICYgcm9vdC5leHBpcmVkTGFuZXMpKSB8fFxuICAgICAgICAgIGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgbGFuZXMpLFxuICAgICAgICBleGl0U3RhdHVzID0gc2hvdWxkVGltZVNsaWNlXG4gICAgICAgICAgPyByZW5kZXJSb290Q29uY3VycmVudChyb290LCBsYW5lcylcbiAgICAgICAgICA6IHJlbmRlclJvb3RTeW5jKHJvb3QsIGxhbmVzLCAhMCksXG4gICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgPSBzaG91bGRUaW1lU2xpY2U7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChleGl0U3RhdHVzID09PSBSb290SW5Qcm9ncmVzcykge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nICYmXG4gICAgICAgICAgICAhc2hvdWxkVGltZVNsaWNlICYmXG4gICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChyb290LCBsYW5lcywgMCwgITEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3REaWROb3RDb21wbGV0ZSlcbiAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAhd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZm9yY2VTeW5jID0gcm9vdC5jdXJyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ICYmXG4gICAgICAgICAgICAhaXNSZW5kZXJDb25zaXN0ZW50V2l0aEV4dGVybmFsU3RvcmVzKGZvcmNlU3luYylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGV4aXRTdGF0dXMgPSByZW5kZXJSb290U3luYyhyb290LCBsYW5lcywgITEpO1xuICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9ICExO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleGl0U3RhdHVzID09PSBSb290RXJyb3JlZCkge1xuICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9IGxhbmVzO1xuICAgICAgICAgICAgaWYgKHJvb3QuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgJiByZW5kZXJXYXNDb25jdXJyZW50KVxuICAgICAgICAgICAgICB2YXIgZXJyb3JSZXRyeUxhbmVzID0gMDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgKGVycm9yUmV0cnlMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzICYgLTUzNjg3MDkxMyksXG4gICAgICAgICAgICAgICAgKGVycm9yUmV0cnlMYW5lcyA9XG4gICAgICAgICAgICAgICAgICAwICE9PSBlcnJvclJldHJ5TGFuZXNcbiAgICAgICAgICAgICAgICAgICAgPyBlcnJvclJldHJ5TGFuZXNcbiAgICAgICAgICAgICAgICAgICAgOiBlcnJvclJldHJ5TGFuZXMgJiA1MzY4NzA5MTJcbiAgICAgICAgICAgICAgICAgICAgICA/IDUzNjg3MDkxMlxuICAgICAgICAgICAgICAgICAgICAgIDogMCk7XG4gICAgICAgICAgICBpZiAoMCAhPT0gZXJyb3JSZXRyeUxhbmVzKSB7XG4gICAgICAgICAgICAgIGxhbmVzID0gZXJyb3JSZXRyeUxhbmVzO1xuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgZXhpdFN0YXR1cyA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMCA9IGVycm9yUmV0cnlMYW5lcztcbiAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzO1xuICAgICAgICAgICAgICAgIHZhciB3YXNSb290RGVoeWRyYXRlZCA9XG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQ7XG4gICAgICAgICAgICAgICAgd2FzUm9vdERlaHlkcmF0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIChwcmVwYXJlRnJlc2hTdGFjayhcbiAgICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICApLmZsYWdzIHw9IDI1Nik7XG4gICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwID0gcmVuZGVyUm9vdFN5bmMoXG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvclJldHJ5TGFuZXMkanNjb21wJDAgIT09IFJvb3RFcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEF0dGFjaFBpbmdMaXN0ZW5lciAmJlxuICAgICAgICAgICAgICAgICAgICAhd2FzUm9vdERlaHlkcmF0ZWRcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzIHw9XG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgfD1cbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycztcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gZXJyb3JSZXRyeUxhbmVzO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXhpdFN0YXR1cyAmJiBxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGV4aXRTdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgPSAhMTtcbiAgICAgICAgICAgICAgaWYgKGV4aXRTdGF0dXMgIT09IFJvb3RFcnJvcmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3RGYXRhbEVycm9yZWQpIHtcbiAgICAgICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIDApO1xuICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQocm9vdCwgbGFuZXMsIDAsICEwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UgPSByb290O1xuICAgICAgICAgICAgc3dpdGNoIChleGl0U3RhdHVzKSB7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdEluUHJvZ3Jlc3M6XG4gICAgICAgICAgICAgIGNhc2UgUm9vdEZhdGFsRXJyb3JlZDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlJvb3QgZGlkIG5vdCBjb21wbGV0ZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIik7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdFN1c3BlbmRlZFdpdGhEZWxheTpcbiAgICAgICAgICAgICAgICBpZiAoKGxhbmVzICYgNDE5NDE3NikgPT09IGxhbmVzKSB7XG4gICAgICAgICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgICAgICF3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSb290RXJyb3JlZDpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdFN1c3BlbmRlZDpcbiAgICAgICAgICAgICAgY2FzZSBSb290Q29tcGxldGVkOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biByb290IGV4aXQgc3RhdHVzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZS5maW5pc2hlZFdvcmsgPSBmb3JjZVN5bmM7XG4gICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UuZmluaXNoZWRMYW5lcyA9IGxhbmVzO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlKVxuICAgICAgICAgICAgICBjb21taXRSb290KFxuICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICAgIElNTUVESUFURV9DT01NSVQsXG4gICAgICAgICAgICAgICAgcmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGxhbmVzICYgNjI5MTQ1NjApID09PSBsYW5lcyAmJlxuICAgICAgICAgICAgICAgICgoZXhpdFN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICBnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lICtcbiAgICAgICAgICAgICAgICAgIEZBTExCQUNLX1RIUk9UVExFX01TIC1cbiAgICAgICAgICAgICAgICAgIG5vdyQxKCkpLFxuICAgICAgICAgICAgICAgIDEwIDwgZXhpdFN0YXR1cylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICAgIXdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IGdldE5leHRMYW5lcyhzaG91bGRUaW1lU2xpY2UsIDApKSBicmVhayBhO1xuICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZS50aW1lb3V0SGFuZGxlID0gc2NoZWR1bGVUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgY29tbWl0Um9vdFdoZW5SZWFkeS5iaW5kKFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlU3luYyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzLFxuICAgICAgICAgICAgICAgICAgICBUSFJPVFRMRURfQ09NTUlULFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbW1pdFJvb3RXaGVuUmVhZHkoXG4gICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgIGZvcmNlU3luYyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyxcbiAgICAgICAgICAgICAgICBJTU1FRElBVEVfQ09NTUlULFxuICAgICAgICAgICAgICAgIHJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoZXJyb3JzKSB7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9yc1xuICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IGVycm9ycylcbiAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycy5wdXNoLmFwcGx5KFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICBlcnJvcnNcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRSb290V2hlblJlYWR5KFxuICAgICAgcm9vdCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICBsYW5lcyxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgIGRpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyxcbiAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICApIHtcbiAgICAgIHZhciBzdWJ0cmVlRmxhZ3MgPSBmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzO1xuICAgICAgaWYgKHN1YnRyZWVGbGFncyAmIDgxOTIgfHwgMTY3ODU0MDggPT09IChzdWJ0cmVlRmxhZ3MgJiAxNjc4NTQwOCkpXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKHN1c3BlbmRlZFN0YXRlID0geyBzdHlsZXNoZWV0czogbnVsbCwgY291bnQ6IDAsIHVuc3VzcGVuZDogbm9vcCB9KSxcbiAgICAgICAgICBhY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0T25GaWJlcihmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIChmaW5pc2hlZFdvcmsgPSB3YWl0Rm9yQ29tbWl0VG9CZVJlYWR5KCkpLFxuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yaylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0ID0gZmluaXNoZWRXb3JrKFxuICAgICAgICAgICAgY29tbWl0Um9vdC5iaW5kKFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgICAgU1VTUEVOREVEX0NPTU1JVCxcbiAgICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICBjb21wbGV0ZWRSZW5kZXJFbmRUaW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICAgICAgIWRpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjb21taXRSb290KFxuICAgICAgICByb290LFxuICAgICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVuZGVyQ29uc2lzdGVudFdpdGhFeHRlcm5hbFN0b3JlcyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIGZvciAodmFyIG5vZGUgPSBmaW5pc2hlZFdvcms7IDsgKSB7XG4gICAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgwID09PSB0YWcgfHwgMTEgPT09IHRhZyB8fCAxNSA9PT0gdGFnKSAmJlxuICAgICAgICAgIG5vZGUuZmxhZ3MgJiAxNjM4NCAmJlxuICAgICAgICAgICgodGFnID0gbm9kZS51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgbnVsbCAhPT0gdGFnICYmICgodGFnID0gdGFnLnN0b3JlcyksIG51bGwgIT09IHRhZykpXG4gICAgICAgIClcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoZWNrID0gdGFnW2ldLFxuICAgICAgICAgICAgICBnZXRTbmFwc2hvdCA9IGNoZWNrLmdldFNuYXBzaG90O1xuICAgICAgICAgICAgY2hlY2sgPSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICghb2JqZWN0SXMoZ2V0U25hcHNob3QoKSwgY2hlY2spKSByZXR1cm4gITE7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB0YWcgPSBub2RlLmNoaWxkO1xuICAgICAgICBpZiAobm9kZS5zdWJ0cmVlRmxhZ3MgJiAxNjM4NCAmJiBudWxsICE9PSB0YWcpXG4gICAgICAgICAgKHRhZy5yZXR1cm4gPSBub2RlKSwgKG5vZGUgPSB0YWcpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZSA9PT0gZmluaXNoZWRXb3JrKSBicmVhaztcbiAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gbm9kZS5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBub2RlLnJldHVybiB8fCBub2RlLnJldHVybiA9PT0gZmluaXNoZWRXb3JrKSByZXR1cm4gITA7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgcm9vdCxcbiAgICAgIHN1c3BlbmRlZExhbmVzLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZVxuICAgICkge1xuICAgICAgc3VzcGVuZGVkTGFuZXMgJj0gfndvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzO1xuICAgICAgc3VzcGVuZGVkTGFuZXMgJj0gfndvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzO1xuICAgICAgcm9vdC5zdXNwZW5kZWRMYW5lcyB8PSBzdXNwZW5kZWRMYW5lcztcbiAgICAgIHJvb3QucGluZ2VkTGFuZXMgJj0gfnN1c3BlbmRlZExhbmVzO1xuICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWUgJiYgKHJvb3Qud2FybUxhbmVzIHw9IHN1c3BlbmRlZExhbmVzKTtcbiAgICAgIGRpZEF0dGVtcHRFbnRpcmVUcmVlID0gcm9vdC5leHBpcmF0aW9uVGltZXM7XG4gICAgICBmb3IgKHZhciBsYW5lcyA9IHN1c3BlbmRlZExhbmVzOyAwIDwgbGFuZXM7ICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKSxcbiAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWVbaW5kZXhdID0gLTE7XG4gICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgICAgMCAhPT0gc3Bhd25lZExhbmUgJiZcbiAgICAgICAgbWFya1NwYXduZWREZWZlcnJlZExhbmUocm9vdCwgc3Bhd25lZExhbmUsIHN1c3BlbmRlZExhbmVzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hTeW5jV29yayQxKCkge1xuICAgICAgcmV0dXJuIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgPT09IE5vQ29udGV4dFxuICAgICAgICA/IChmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbCgwLCAhMSksICExKVxuICAgICAgICA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKSB7XG4gICAgICBpZiAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBOb3RTdXNwZW5kZWQpXG4gICAgICAgICAgdmFyIGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIChpbnRlcnJ1cHRlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKSxcbiAgICAgICAgICAgIHJlc2V0SG9va3NPblVud2luZChpbnRlcnJ1cHRlZFdvcmspLFxuICAgICAgICAgICAgKHRoZW5hYmxlU3RhdGUkMSA9IG51bGwpLFxuICAgICAgICAgICAgKHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwKSxcbiAgICAgICAgICAgIChpbnRlcnJ1cHRlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGZvciAoOyBudWxsICE9PSBpbnRlcnJ1cHRlZFdvcms7IClcbiAgICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrLmFsdGVybmF0ZSwgaW50ZXJydXB0ZWRXb3JrKSxcbiAgICAgICAgICAgIChpbnRlcnJ1cHRlZFdvcmsgPSBpbnRlcnJ1cHRlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBsYW5lcykge1xuICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgcm9vdC5maW5pc2hlZExhbmVzID0gMDtcbiAgICAgIHZhciB0aW1lb3V0SGFuZGxlID0gcm9vdC50aW1lb3V0SGFuZGxlO1xuICAgICAgdGltZW91dEhhbmRsZSAhPT0gbm9UaW1lb3V0ICYmXG4gICAgICAgICgocm9vdC50aW1lb3V0SGFuZGxlID0gbm9UaW1lb3V0KSwgY2FuY2VsVGltZW91dCh0aW1lb3V0SGFuZGxlKSk7XG4gICAgICB0aW1lb3V0SGFuZGxlID0gcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0O1xuICAgICAgbnVsbCAhPT0gdGltZW91dEhhbmRsZSAmJlxuICAgICAgICAoKHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdCA9IG51bGwpLCB0aW1lb3V0SGFuZGxlKCkpO1xuICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzc1N0YWNrKCk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSByb290O1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSB0aW1lb3V0SGFuZGxlID0gY3JlYXRlV29ya0luUHJvZ3Jlc3Mocm9vdC5jdXJyZW50LCBudWxsKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gbGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzID0gITE7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9IGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgbGFuZXMpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyID0gITE7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEluUHJvZ3Jlc3M7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgPVxuICAgICAgICAgIDA7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnMgPVxuICAgICAgICBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSA9ICExO1xuICAgICAgMCAhPT0gKGxhbmVzICYgOCkgJiYgKGxhbmVzIHw9IGxhbmVzICYgMzIpO1xuICAgICAgdmFyIGFsbEVudGFuZ2xlZExhbmVzID0gcm9vdC5lbnRhbmdsZWRMYW5lcztcbiAgICAgIGlmICgwICE9PSBhbGxFbnRhbmdsZWRMYW5lcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICByb290ID0gcm9vdC5lbnRhbmdsZW1lbnRzLCBhbGxFbnRhbmdsZWRMYW5lcyAmPSBsYW5lcztcbiAgICAgICAgICAwIDwgYWxsRW50YW5nbGVkTGFuZXM7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihhbGxFbnRhbmdsZWRMYW5lcyksXG4gICAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgICBsYW5lcyB8PSByb290W2luZGV4XTtcbiAgICAgICAgICBhbGxFbnRhbmdsZWRMYW5lcyAmPSB+bGFuZTtcbiAgICAgICAgfVxuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSBsYW5lcztcbiAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKTtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MoKTtcbiAgICAgIHJldHVybiB0aW1lb3V0SGFuZGxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVUaHJvdyhyb290LCB0aHJvd25WYWx1ZSkge1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IG51bGw7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gbnVsbDtcbiAgICAgIGlzUmVuZGVyaW5nID0gITE7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIHRocm93blZhbHVlID09PSBTdXNwZW5zZUV4Y2VwdGlvblxuICAgICAgICA/ICgodGhyb3duVmFsdWUgPSBnZXRTdXNwZW5kZWRUaGVuYWJsZSgpKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBTdXNwZW5kZWRPbkltbWVkaWF0ZSkpXG4gICAgICAgIDogdGhyb3duVmFsdWUgPT09IFN1c3BlbnNleUNvbW1pdEV4Y2VwdGlvblxuICAgICAgICAgID8gKCh0aHJvd25WYWx1ZSA9IGdldFN1c3BlbmRlZFRoZW5hYmxlKCkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gU3VzcGVuZGVkT25JbnN0YW5jZSkpXG4gICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPVxuICAgICAgICAgICAgICB0aHJvd25WYWx1ZSA9PT0gU2VsZWN0aXZlSHlkcmF0aW9uRXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgPyBTdXNwZW5kZWRPbkh5ZHJhdGlvblxuICAgICAgICAgICAgICAgIDogbnVsbCAhPT0gdGhyb3duVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHRocm93blZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRocm93blZhbHVlLnRoZW5cbiAgICAgICAgICAgICAgICAgID8gU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlXG4gICAgICAgICAgICAgICAgICA6IFN1c3BlbmRlZE9uRXJyb3IpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IHRocm93blZhbHVlO1xuICAgICAgdmFyIGVycm9yZWRXb3JrID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBpZiAobnVsbCA9PT0gZXJyb3JlZFdvcmspXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEZhdGFsRXJyb3JlZCksXG4gICAgICAgICAgbG9nVW5jYXVnaHRFcnJvcihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih0aHJvd25WYWx1ZSwgcm9vdC5jdXJyZW50KVxuICAgICAgICAgICk7XG4gICAgICBlbHNlXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKGVycm9yZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSAmJlxuICAgICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbihlcnJvcmVkV29yayksXG4gICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkVycm9yOlxuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudEVycm9yZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50RXJyb3JlZChcbiAgICAgICAgICAgICAgICBlcnJvcmVkV29yayxcbiAgICAgICAgICAgICAgICB0aHJvd25WYWx1ZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRhdGE6XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkltbWVkaWF0ZTpcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZTpcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZTpcbiAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRTdXNwZW5kZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50U3VzcGVuZGVkKFxuICAgICAgICAgICAgICAgIGVycm9yZWRXb3JrLFxuICAgICAgICAgICAgICAgIHRocm93blZhbHVlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaERpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IENvbnRleHRPbmx5RGlzcGF0Y2hlcjtcbiAgICAgIHJldHVybiBudWxsID09PSBwcmV2RGlzcGF0Y2hlciA/IENvbnRleHRPbmx5RGlzcGF0Y2hlciA6IHByZXZEaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoQXN5bmNEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIHByZXZBc3luY0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuQSA9IERlZmF1bHRBc3luY0Rpc3BhdGNoZXI7XG4gICAgICByZXR1cm4gcHJldkFzeW5jRGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290U3VzcGVuZGVkV2l0aERlbGF5O1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzIHx8XG4gICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA0MTk0MTc2KSAhPT1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmJlxuICAgICAgICAgIG51bGwgIT09IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQpIHx8XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9ICEwKTtcbiAgICAgICgwID09PSAod29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzICYgMTM0MjE3NzI3KSAmJlxuICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgJiAxMzQyMTc3MjcpKSB8fFxuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgfHxcbiAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlclJvb3RTeW5jKHJvb3QsIGxhbmVzLCBzaG91bGRZaWVsZEZvclByZXJlbmRlcmluZykge1xuICAgICAgdmFyIHByZXZFeGVjdXRpb25Db250ZXh0ID0gZXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgfD0gUmVuZGVyQ29udGV4dDtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IHB1c2hEaXNwYXRjaGVyKCksXG4gICAgICAgIHByZXZBc3luY0Rpc3BhdGNoZXIgPSBwdXNoQXN5bmNEaXNwYXRjaGVyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCAhPT0gcm9vdCB8fFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAhPT0gbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpIHtcbiAgICAgICAgICB2YXIgbWVtb2l6ZWRVcGRhdGVycyA9IHJvb3QubWVtb2l6ZWRVcGRhdGVycztcbiAgICAgICAgICAwIDwgbWVtb2l6ZWRVcGRhdGVycy5zaXplICYmXG4gICAgICAgICAgICAocmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLmNsZWFyKCkpO1xuICAgICAgICAgIG1vdmVQZW5kaW5nRmliZXJzVG9NZW1vaXplZChyb290LCBsYW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyA9IG51bGw7XG4gICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGxhbmVzKTtcbiAgICAgIH1cbiAgICAgIG1hcmtSZW5kZXJTdGFydGVkKGxhbmVzKTtcbiAgICAgIGxhbmVzID0gITE7XG4gICAgICBtZW1vaXplZFVwZGF0ZXJzID0gd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cztcbiAgICAgIGE6IGRvXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gIT09IE5vdFN1c3BlbmRlZCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB1bml0T2ZXb3JrID0gd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHRocm93blZhbHVlID0gd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24pIHtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkh5ZHJhdGlvbjpcbiAgICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKTtcbiAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzID0gUm9vdERpZE5vdENvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbW1lZGlhdGU6XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EYXRhOlxuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZTpcbiAgICAgICAgICAgICAgICBudWxsID09PSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50ICYmIChsYW5lcyA9ICEwKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb247XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChyb290LCB1bml0T2ZXb3JrLCB0aHJvd25WYWx1ZSwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzaG91bGRZaWVsZEZvclByZXJlbmRlcmluZyAmJlxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSBSb290SW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIChyZWFzb24gPSB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3Aocm9vdCwgdW5pdE9mV29yaywgdGhyb3duVmFsdWUsIHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmtMb29wU3luYygpO1xuICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSQ4KSB7XG4gICAgICAgICAgaGFuZGxlVGhyb3cocm9vdCwgdGhyb3duVmFsdWUkOCk7XG4gICAgICAgIH1cbiAgICAgIHdoaWxlICgxKTtcbiAgICAgIGxhbmVzICYmIHJvb3Quc2hlbGxTdXNwZW5kQ291bnRlcisrO1xuICAgICAgcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCk7XG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5BID0gcHJldkFzeW5jRGlzcGF0Y2hlcjtcbiAgICAgIG1hcmtSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcyAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGwpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSAwKSxcbiAgICAgICAgZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpKTtcbiAgICAgIHJldHVybiBtZW1vaXplZFVwZGF0ZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3b3JrTG9vcFN5bmMoKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3M7ICkgcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJSb290Q29uY3VycmVudChyb290LCBsYW5lcykge1xuICAgICAgdmFyIHByZXZFeGVjdXRpb25Db250ZXh0ID0gZXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgfD0gUmVuZGVyQ29udGV4dDtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IHB1c2hEaXNwYXRjaGVyKCksXG4gICAgICAgIHByZXZBc3luY0Rpc3BhdGNoZXIgPSBwdXNoQXN5bmNEaXNwYXRjaGVyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCAhPT0gcm9vdCB8fFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAhPT0gbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpIHtcbiAgICAgICAgICB2YXIgbWVtb2l6ZWRVcGRhdGVycyA9IHJvb3QubWVtb2l6ZWRVcGRhdGVycztcbiAgICAgICAgICAwIDwgbWVtb2l6ZWRVcGRhdGVycy5zaXplICYmXG4gICAgICAgICAgICAocmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLmNsZWFyKCkpO1xuICAgICAgICAgIG1vdmVQZW5kaW5nRmliZXJzVG9NZW1vaXplZChyb290LCBsYW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyA9IG51bGw7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgPSBub3ckMSgpICsgUkVOREVSX1RJTUVPVVRfTVM7XG4gICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGxhbmVzKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9IGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcoXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICBsYW5lc1xuICAgICAgICApO1xuICAgICAgbWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpO1xuICAgICAgYTogZG9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiAhPT0gTm90U3VzcGVuZGVkICYmXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgIClcbiAgICAgICAgICAgIGI6IHN3aXRjaCAoXG4gICAgICAgICAgICAgICgobGFuZXMgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIChtZW1vaXplZFVwZGF0ZXJzID0gd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25FcnJvcjpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyxcbiAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZE9uRXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGF0YTpcbiAgICAgICAgICAgICAgICBpZiAoaXNUaGVuYWJsZVJlc29sdmVkKG1lbW9pemVkVXBkYXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgcmVwbGF5U3VzcGVuZGVkVW5pdE9mV29yayhsYW5lcyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFuZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EYXRhICYmXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9PT0gcm9vdCAmJlxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPVxuICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZSk7XG4gICAgICAgICAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLnRoZW4obGFuZXMsIGxhbmVzKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW1tZWRpYXRlOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbnN0YW5jZTpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9XG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlOlxuICAgICAgICAgICAgICAgIGlzVGhlbmFibGVSZXNvbHZlZChtZW1vaXplZFVwZGF0ZXJzKVxuICAgICAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgcmVwbGF5U3VzcGVuZGVkVW5pdE9mV29yayhsYW5lcykpXG4gICAgICAgICAgICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWVcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbnN0YW5jZUFuZFJlYWR5VG9Db250aW51ZTpcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICB2YXIgaG9zdEZpYmVyID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSA/IHByZWxvYWRSZXNvdXJjZShyZXNvdXJjZSkgOiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBob3N0RmliZXIuc2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gc2libGluZykgd29ya0luUHJvZ3Jlc3MgPSBzaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVybkZpYmVyID0gaG9zdEZpYmVyLnJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZVVuaXRPZldvcmsocmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcyA9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgdHlwZSBvZiBmaWJlciB0cmlnZ2VyZWQgYSBzdXNwZW5zZXkgY29tbWl0LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25JbnN0YW5jZUFuZFJlYWR5VG9Db250aW51ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkh5ZHJhdGlvbjpcbiAgICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKTtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdERpZE5vdENvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgU3VzcGVuZGVkUmVhc29uLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZVxuICAgICAgICAgICAgPyB3b3JrTG9vcFN5bmMoKVxuICAgICAgICAgICAgOiB3b3JrTG9vcENvbmN1cnJlbnQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBjYXRjaCAodGhyb3duVmFsdWUkOSkge1xuICAgICAgICAgIGhhbmRsZVRocm93KHJvb3QsIHRocm93blZhbHVlJDkpO1xuICAgICAgICB9XG4gICAgICB3aGlsZSAoMSk7XG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkEgPSBwcmV2QXN5bmNEaXNwYXRjaGVyO1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuICAgICAgaWYgKG51bGwgIT09IHdvcmtJblByb2dyZXNzKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlcllpZWxkZWQgJiZcbiAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlcllpZWxkZWQoKSxcbiAgICAgICAgICBSb290SW5Qcm9ncmVzc1xuICAgICAgICApO1xuICAgICAgbWFya1JlbmRlclN0b3BwZWQoKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDA7XG4gICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cztcbiAgICB9XG4gICAgZnVuY3Rpb24gd29ya0xvb3BDb25jdXJyZW50KCkge1xuICAgICAgZm9yICg7IG51bGwgIT09IHdvcmtJblByb2dyZXNzICYmICFzaG91bGRZaWVsZCgpOyApXG4gICAgICAgIHBlcmZvcm1Vbml0T2ZXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIGN1cnJlbnQgPSB1bml0T2ZXb3JrLmFsdGVybmF0ZTtcbiAgICAgICh1bml0T2ZXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZVxuICAgICAgICA/IChzdGFydFByb2ZpbGVyVGltZXIodW5pdE9mV29yayksXG4gICAgICAgICAgKGN1cnJlbnQgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICBiZWdpbldvcmssXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzXG4gICAgICAgICAgKSksXG4gICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbih1bml0T2ZXb3JrKSlcbiAgICAgICAgOiAoY3VycmVudCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGJlZ2luV29yayxcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXNcbiAgICAgICAgICApKTtcbiAgICAgIHVuaXRPZldvcmsubWVtb2l6ZWRQcm9wcyA9IHVuaXRPZldvcmsucGVuZGluZ1Byb3BzO1xuICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICA/IGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKVxuICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlTdXNwZW5kZWRVbml0T2ZXb3JrKHVuaXRPZldvcmspIHtcbiAgICAgIHZhciBuZXh0ID0gcnVuV2l0aEZpYmVySW5ERVYodW5pdE9mV29yaywgcmVwbGF5QmVnaW5Xb3JrLCB1bml0T2ZXb3JrKTtcbiAgICAgIHVuaXRPZldvcmsubWVtb2l6ZWRQcm9wcyA9IHVuaXRPZldvcmsucGVuZGluZ1Byb3BzO1xuICAgICAgbnVsbCA9PT0gbmV4dCA/IGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKSA6ICh3b3JrSW5Qcm9ncmVzcyA9IG5leHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlCZWdpbldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIGN1cnJlbnQgPSB1bml0T2ZXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgaXNQcm9maWxpbmdNb2RlID0gKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlO1xuICAgICAgaXNQcm9maWxpbmdNb2RlICYmIHN0YXJ0UHJvZmlsZXJUaW1lcih1bml0T2ZXb3JrKTtcbiAgICAgIHN3aXRjaCAodW5pdE9mV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGN1cnJlbnQgPSByZXBsYXlGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgdW5pdE9mV29yay5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnR5cGUsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY3VycmVudCA9IHJlcGxheUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHVuaXRPZldvcmsudHlwZS5yZW5kZXIsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnJlZixcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlc2V0SG9va3NPblVud2luZCh1bml0T2ZXb3JrKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoY3VycmVudCwgdW5pdE9mV29yayksXG4gICAgICAgICAgICAodW5pdE9mV29yayA9IHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzcyh1bml0T2ZXb3JrLCBlbnRhbmdsZWRSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBiZWdpbldvcmsoY3VycmVudCwgdW5pdE9mV29yaywgZW50YW5nbGVkUmVuZGVyTGFuZXMpKTtcbiAgICAgIH1cbiAgICAgIGlzUHJvZmlsaW5nTW9kZSAmJlxuICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKHVuaXRPZldvcmspO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICByb290LFxuICAgICAgdW5pdE9mV29yayxcbiAgICAgIHRocm93blZhbHVlLFxuICAgICAgc3VzcGVuZGVkUmVhc29uXG4gICAgKSB7XG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIHJlc2V0SG9va3NPblVud2luZCh1bml0T2ZXb3JrKTtcbiAgICAgIHRoZW5hYmxlU3RhdGUkMSA9IG51bGw7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMDtcbiAgICAgIHZhciByZXR1cm5GaWJlciA9IHVuaXRPZldvcmsucmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIHRocm93blZhbHVlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RmF0YWxFcnJvcmVkO1xuICAgICAgICAgIGxvZ1VuY2F1Z2h0RXJyb3IoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodGhyb3duVmFsdWUsIHJvb3QuY3VycmVudClcbiAgICAgICAgICApO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChudWxsICE9PSByZXR1cm5GaWJlcikgdGhyb3cgKCh3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyKSwgZXJyb3IpO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEZhdGFsRXJyb3JlZDtcbiAgICAgICAgbG9nVW5jYXVnaHRFcnJvcihcbiAgICAgICAgICByb290LFxuICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHRocm93blZhbHVlLCByb290LmN1cnJlbnQpXG4gICAgICAgICk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVuaXRPZldvcmsuZmxhZ3MgJiAzMjc2OCkge1xuICAgICAgICBpZiAoaXNIeWRyYXRpbmcgfHwgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkVycm9yKSByb290ID0gITA7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nIHx8XG4gICAgICAgICAgMCAhPT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNTM2ODcwOTEyKVxuICAgICAgICApXG4gICAgICAgICAgcm9vdCA9ICExO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyA9IHJvb3QgPSAhMCksXG4gICAgICAgICAgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEgfHxcbiAgICAgICAgICAgIHN1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25JbW1lZGlhdGUgfHxcbiAgICAgICAgICAgIHN1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlKVxuICAgICAgICApXG4gICAgICAgICAgKHN1c3BlbmRlZFJlYXNvbiA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gc3VzcGVuZGVkUmVhc29uICYmXG4gICAgICAgICAgICAgIDEzID09PSBzdXNwZW5kZWRSZWFzb24udGFnICYmXG4gICAgICAgICAgICAgIChzdXNwZW5kZWRSZWFzb24uZmxhZ3MgfD0gMTYzODQpO1xuICAgICAgICB1bndpbmRVbml0T2ZXb3JrKHVuaXRPZldvcmssIHJvb3QpO1xuICAgICAgfSBlbHNlIGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspIHtcbiAgICAgIHZhciBjb21wbGV0ZWRXb3JrID0gdW5pdE9mV29yaztcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKDAgIT09IChjb21wbGV0ZWRXb3JrLmZsYWdzICYgMzI3NjgpKSB7XG4gICAgICAgICAgdW53aW5kVW5pdE9mV29yayhcbiAgICAgICAgICAgIGNvbXBsZXRlZFdvcmssXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudCA9IGNvbXBsZXRlZFdvcmsuYWx0ZXJuYXRlO1xuICAgICAgICB1bml0T2ZXb3JrID0gY29tcGxldGVkV29yay5yZXR1cm47XG4gICAgICAgIHN0YXJ0UHJvZmlsZXJUaW1lcihjb21wbGV0ZWRXb3JrKTtcbiAgICAgICAgY3VycmVudCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGNvbXBsZXRlZFdvcmssXG4gICAgICAgICAgY29tcGxldGVXb3JrLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgY29tcGxldGVkV29yayxcbiAgICAgICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lc1xuICAgICAgICApO1xuICAgICAgICAoY29tcGxldGVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZEluY29tcGxldGVEdXJhdGlvbihjb21wbGV0ZWRXb3JrKTtcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBsZXRlZFdvcmsgPSBjb21wbGV0ZWRXb3JrLnNpYmxpbmc7XG4gICAgICAgIGlmIChudWxsICE9PSBjb21wbGV0ZWRXb3JrKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBjb21wbGV0ZWRXb3JrO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGNvbXBsZXRlZFdvcmsgPSB1bml0T2ZXb3JrO1xuICAgICAgfSB3aGlsZSAobnVsbCAhPT0gY29tcGxldGVkV29yayk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290SW5Qcm9ncmVzcyAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RDb21wbGV0ZWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bndpbmRVbml0T2ZXb3JrKHVuaXRPZldvcmssIHNraXBTaWJsaW5ncykge1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgbmV4dCA9IHVud2luZFdvcmsodW5pdE9mV29yay5hbHRlcm5hdGUsIHVuaXRPZldvcmspO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmV4dCkge1xuICAgICAgICAgIG5leHQuZmxhZ3MgJj0gMzI3Njc7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBuZXh0O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmRJbmNvbXBsZXRlRHVyYXRpb24odW5pdE9mV29yayk7XG4gICAgICAgICAgbmV4dCA9IHVuaXRPZldvcmsuYWN0dWFsRHVyYXRpb247XG4gICAgICAgICAgZm9yICh2YXIgY2hpbGQgPSB1bml0T2ZXb3JrLmNoaWxkOyBudWxsICE9PSBjaGlsZDsgKVxuICAgICAgICAgICAgKG5leHQgKz0gY2hpbGQuYWN0dWFsRHVyYXRpb24pLCAoY2hpbGQgPSBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgICB1bml0T2ZXb3JrLmFjdHVhbER1cmF0aW9uID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBuZXh0ID0gdW5pdE9mV29yay5yZXR1cm47XG4gICAgICAgIG51bGwgIT09IG5leHQgJiZcbiAgICAgICAgICAoKG5leHQuZmxhZ3MgfD0gMzI3NjgpLFxuICAgICAgICAgIChuZXh0LnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgIChuZXh0LmRlbGV0aW9ucyA9IG51bGwpKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFza2lwU2libGluZ3MgJiZcbiAgICAgICAgICAoKHVuaXRPZldvcmsgPSB1bml0T2ZXb3JrLnNpYmxpbmcpLCBudWxsICE9PSB1bml0T2ZXb3JrKVxuICAgICAgICApIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHVuaXRPZldvcms7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gdW5pdE9mV29yayA9IG5leHQ7XG4gICAgICB9IHdoaWxlIChudWxsICE9PSB1bml0T2ZXb3JrKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RGlkTm90Q29tcGxldGU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvb3QoXG4gICAgICByb290LFxuICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICB0cmFuc2l0aW9ucyxcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICApIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIHByZXZpb3VzVXBkYXRlTGFuZVByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gRGlzY3JldGVFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGwpLFxuICAgICAgICAgIGNvbW1pdFJvb3RJbXBsKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICAgICAgICBwcmV2aW91c1VwZGF0ZUxhbmVQcmlvcml0eSxcbiAgICAgICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbiksXG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1VwZGF0ZUxhbmVQcmlvcml0eSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvb3RJbXBsKFxuICAgICAgcm9vdCxcbiAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICByZW5kZXJQcmlvcml0eUxldmVsLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzXG4gICAgKSB7XG4gICAgICBkbyBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICB3aGlsZSAobnVsbCAhPT0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMpO1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZygpO1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MoKTtcbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQpXG4gICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIG5vdCBhbHJlYWR5IGJlIHdvcmtpbmcuXCIpO1xuICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuZmluaXNoZWRXb3JrO1xuICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlID0gcm9vdC5maW5pc2hlZExhbmVzO1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21taXRTdGFydGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0YXJ0ZWQoZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlKTtcbiAgICAgIGlmIChudWxsID09PSBmaW5pc2hlZFdvcmspIHJldHVybiBtYXJrQ29tbWl0U3RvcHBlZCgpLCBudWxsO1xuICAgICAgMCA9PT0gZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJyb290LmZpbmlzaGVkTGFuZXMgc2hvdWxkIG5vdCBiZSBlbXB0eSBkdXJpbmcgYSBjb21taXQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICAgIHJvb3QuZmluaXNoZWRMYW5lcyA9IDA7XG4gICAgICBpZiAoZmluaXNoZWRXb3JrID09PSByb290LmN1cnJlbnQpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgcm9vdC5jYWxsYmFja05vZGUgPSBudWxsO1xuICAgICAgcm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gMDtcbiAgICAgIHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdCA9IG51bGw7XG4gICAgICB2YXIgcmVtYWluaW5nTGFuZXMgPSBmaW5pc2hlZFdvcmsubGFuZXMgfCBmaW5pc2hlZFdvcmsuY2hpbGRMYW5lcztcbiAgICAgIHJlbWFpbmluZ0xhbmVzIHw9IGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcztcbiAgICAgIG1hcmtSb290RmluaXNoZWQoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgcmVtYWluaW5nTGFuZXMsXG4gICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXNcbiAgICAgICk7XG4gICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGwpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSAwKSk7XG4gICAgICAoMCA9PT0gKGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3MgJiAxMDI1NikgJiZcbiAgICAgICAgMCA9PT0gKGZpbmlzaGVkV29yay5mbGFncyAmIDEwMjU2KSkgfHxcbiAgICAgICAgcm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgfHxcbiAgICAgICAgKChyb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyA9ICEwKSxcbiAgICAgICAgKHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzID0gcmVtYWluaW5nTGFuZXMpLFxuICAgICAgICAocGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucyA9IHRyYW5zaXRpb25zKSxcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFjayQxKE5vcm1hbFByaW9yaXR5JDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmbHVzaFBhc3NpdmVFZmZlY3RzKCEwKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgICAgY29tbWl0U3RhcnRUaW1lID0gbm93KCk7XG4gICAgICB0cmFuc2l0aW9ucyA9IDAgIT09IChmaW5pc2hlZFdvcmsuZmxhZ3MgJiAxNTk5MCk7XG4gICAgICAwICE9PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDE1OTkwKSB8fCB0cmFuc2l0aW9uc1xuICAgICAgICA/ICgodHJhbnNpdGlvbnMgPSBSZWFjdFNoYXJlZEludGVybmFscy5UKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGwpLFxuICAgICAgICAgIChzcGF3bmVkTGFuZSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnApLFxuICAgICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gRGlzY3JldGVFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICAodXBkYXRlZExhbmVzID0gZXhlY3V0aW9uQ29udGV4dCksXG4gICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgfD0gQ29tbWl0Q29udGV4dCksXG4gICAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgY29tbWl0TXV0YXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZVxuICAgICAgICAgICksXG4gICAgICAgICAgcmVzdG9yZVNlbGVjdGlvbihzZWxlY3Rpb25JbmZvcm1hdGlvbiwgcm9vdC5jb250YWluZXJJbmZvKSxcbiAgICAgICAgICAoX2VuYWJsZWQgPSAhIWV2ZW50c0VuYWJsZWQpLFxuICAgICAgICAgIChzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IGV2ZW50c0VuYWJsZWQgPSBudWxsKSxcbiAgICAgICAgICAocm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RhcnRlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrTGF5b3V0RWZmZWN0c1N0YXJ0ZWQoXG4gICAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjb21taXRMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgcm9vdCwgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlKSxcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RvcHBlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrTGF5b3V0RWZmZWN0c1N0b3BwZWQoKSxcbiAgICAgICAgICByZXF1ZXN0UGFpbnQoKSxcbiAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCA9IHVwZGF0ZWRMYW5lcyksXG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBzcGF3bmVkTGFuZSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSB0cmFuc2l0aW9ucykpXG4gICAgICAgIDogKHJvb3QuY3VycmVudCA9IGZpbmlzaGVkV29yayk7XG4gICAgICAodHJhbnNpdGlvbnMgPSByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cylcbiAgICAgICAgPyAoKHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gITEpLFxuICAgICAgICAgIChyb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyA9IHJvb3QpLFxuICAgICAgICAgIChwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyA9IGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSkpXG4gICAgICAgIDogKHJlbGVhc2VSb290UG9vbGVkQ2FjaGUocm9vdCwgcmVtYWluaW5nTGFuZXMpLFxuICAgICAgICAgIChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IG51bGwpKTtcbiAgICAgIHJlbWFpbmluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAwID09PSByZW1haW5pbmdMYW5lcyAmJiAobGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsKTtcbiAgICAgIHRyYW5zaXRpb25zIHx8IGNvbW1pdERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihyb290KTtcbiAgICAgIG9uQ29tbWl0Um9vdCQxKGZpbmlzaGVkV29yay5zdGF0ZU5vZGUsIHJlbmRlclByaW9yaXR5TGV2ZWwpO1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgcm9vdC5tZW1vaXplZFVwZGF0ZXJzLmNsZWFyKCk7XG4gICAgICBvbkNvbW1pdFJvb3QoKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICAgIGlmIChudWxsICE9PSByZWNvdmVyYWJsZUVycm9ycylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICByZW5kZXJQcmlvcml0eUxldmVsID0gcm9vdC5vblJlY292ZXJhYmxlRXJyb3IsIGZpbmlzaGVkV29yayA9IDA7XG4gICAgICAgICAgZmluaXNoZWRXb3JrIDwgcmVjb3ZlcmFibGVFcnJvcnMubGVuZ3RoO1xuICAgICAgICAgIGZpbmlzaGVkV29yaysrXG4gICAgICAgIClcbiAgICAgICAgICAocmVtYWluaW5nTGFuZXMgPSByZWNvdmVyYWJsZUVycm9yc1tmaW5pc2hlZFdvcmtdKSxcbiAgICAgICAgICAgICh0cmFuc2l0aW9ucyA9IG1ha2VFcnJvckluZm8ocmVtYWluaW5nTGFuZXMuc3RhY2spKSxcbiAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICByZW1haW5pbmdMYW5lcy5zb3VyY2UsXG4gICAgICAgICAgICAgIHJlbmRlclByaW9yaXR5TGV2ZWwsXG4gICAgICAgICAgICAgIHJlbWFpbmluZ0xhbmVzLnZhbHVlLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgIDAgIT09IChwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyAmIDMpICYmIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgIHJlbWFpbmluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAwICE9PSAoZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlICYgNDE5NDIxOCkgJiZcbiAgICAgIDAgIT09IChyZW1haW5pbmdMYW5lcyAmIDQyKVxuICAgICAgICA/ICgobmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gITApLFxuICAgICAgICAgIHJvb3QgPT09IHJvb3RXaXRoTmVzdGVkVXBkYXRlc1xuICAgICAgICAgICAgPyBuZXN0ZWRVcGRhdGVDb3VudCsrXG4gICAgICAgICAgICA6ICgobmVzdGVkVXBkYXRlQ291bnQgPSAwKSwgKHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IHJvb3QpKSlcbiAgICAgICAgOiAobmVzdGVkVXBkYXRlQ291bnQgPSAwKTtcbiAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKTtcbiAgICAgIG1hcmtDb21taXRTdG9wcGVkKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZUVycm9ySW5mbyhjb21wb25lbnRTdGFjaykge1xuICAgICAgY29tcG9uZW50U3RhY2sgPSB7IGNvbXBvbmVudFN0YWNrOiBjb21wb25lbnRTdGFjayB9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBvbmVudFN0YWNrLCBcImRpZ2VzdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnWW91IGFyZSBhY2Nlc3NpbmcgXCJkaWdlc3RcIiBmcm9tIHRoZSBlcnJvckluZm8gb2JqZWN0IHBhc3NlZCB0byBvblJlY292ZXJhYmxlRXJyb3IuIFRoaXMgcHJvcGVydHkgaXMgbm8gbG9uZ2VyIHByb3ZpZGVkIGFzIHBhcnQgb2YgZXJyb3JJbmZvIGJ1dCBjYW4gYmUgYWNjZXNzZWQgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgRXJyb3IgaW5zdGFuY2UgaXRzZWxmLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wb25lbnRTdGFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZVJvb3RQb29sZWRDYWNoZShyb290LCByZW1haW5pbmdMYW5lcykge1xuICAgICAgMCA9PT0gKHJvb3QucG9vbGVkQ2FjaGVMYW5lcyAmPSByZW1haW5pbmdMYW5lcykgJiZcbiAgICAgICAgKChyZW1haW5pbmdMYW5lcyA9IHJvb3QucG9vbGVkQ2FjaGUpLFxuICAgICAgICBudWxsICE9IHJlbWFpbmluZ0xhbmVzICYmXG4gICAgICAgICAgKChyb290LnBvb2xlZENhY2hlID0gbnVsbCksIHJlbGVhc2VDYWNoZShyZW1haW5pbmdMYW5lcykpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hQYXNzaXZlRWZmZWN0cygpIHtcbiAgICAgIGlmIChudWxsICE9PSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cykge1xuICAgICAgICB2YXIgcm9vdCA9IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzLFxuICAgICAgICAgIHJlbWFpbmluZ0xhbmVzID0gcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXM7XG4gICAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzID0gMDtcbiAgICAgICAgdmFyIHJlbmRlclByaW9yaXR5ID0gbGFuZXNUb0V2ZW50UHJpb3JpdHkocGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMpLFxuICAgICAgICAgIHByaW9yaXR5ID1cbiAgICAgICAgICAgIDAgPT09IERlZmF1bHRFdmVudFByaW9yaXR5IHx8IERlZmF1bHRFdmVudFByaW9yaXR5ID4gcmVuZGVyUHJpb3JpdHlcbiAgICAgICAgICAgICAgPyBEZWZhdWx0RXZlbnRQcmlvcml0eVxuICAgICAgICAgICAgICA6IHJlbmRlclByaW9yaXR5O1xuICAgICAgICByZW5kZXJQcmlvcml0eSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJpb3JpdHk7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGw7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzKVxuICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJpb3JpdHkgPSBwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zO1xuICAgICAgICAgICAgcGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB2YXIgcm9vdCRqc2NvbXAkMCA9IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzLFxuICAgICAgICAgICAgICBsYW5lcyA9IHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzO1xuICAgICAgICAgICAgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSBudWxsO1xuICAgICAgICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMgPSAwO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PVxuICAgICAgICAgICAgICBOb0NvbnRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJDYW5ub3QgZmx1c2ggcGFzc2l2ZSBlZmZlY3RzIHdoaWxlIGFscmVhZHkgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpc0ZsdXNoaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMDtcbiAgICAgICAgICAgIGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMTtcbiAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUGFzc2l2ZUVmZmVjdHNTdGFydGVkKGxhbmVzKTtcbiAgICAgICAgICAgIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICAgICAgICBleGVjdXRpb25Db250ZXh0IHw9IENvbW1pdENvbnRleHQ7XG4gICAgICAgICAgICBjb21taXRQYXNzaXZlVW5tb3VudE9uRmliZXIocm9vdCRqc2NvbXAkMC5jdXJyZW50KTtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVNb3VudE9uRmliZXIoXG4gICAgICAgICAgICAgIHJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICAgIHJvb3QkanNjb21wJDAuY3VycmVudCxcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RvcHBlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0b3BwZWQoKTtcbiAgICAgICAgICAgIGNvbW1pdERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihyb290JGpzY29tcCQwKTtcbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgICAgICAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKTtcbiAgICAgICAgICAgIGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHNcbiAgICAgICAgICAgICAgPyByb290JGpzY29tcCQwID09PSByb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzXG4gICAgICAgICAgICAgICAgPyBuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQrK1xuICAgICAgICAgICAgICAgIDogKChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgICAgICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gcm9vdCRqc2NvbXAkMCkpXG4gICAgICAgICAgICAgIDogKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApO1xuICAgICAgICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9IGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyA9XG4gICAgICAgICAgICAgICExO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbmplY3RlZEhvb2sgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLm9uUG9zdENvbW1pdEZpYmVyUm9vdFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGluamVjdGVkSG9vay5vblBvc3RDb21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCRqc2NvbXAkMCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0ZU5vZGUgPSByb290JGpzY29tcCQwLmN1cnJlbnQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgc3RhdGVOb2RlLmVmZmVjdER1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIHN0YXRlTm9kZS5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcmVuZGVyUHJpb3JpdHkpLFxuICAgICAgICAgICAgcmVsZWFzZVJvb3RQb29sZWRDYWNoZShyb290LCByZW1haW5pbmdMYW5lcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3JPblJvb3Qocm9vdEZpYmVyLCBzb3VyY2VGaWJlciwgZXJyb3IpIHtcbiAgICAgIHNvdXJjZUZpYmVyID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoZXJyb3IsIHNvdXJjZUZpYmVyKTtcbiAgICAgIHNvdXJjZUZpYmVyID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKHJvb3RGaWJlci5zdGF0ZU5vZGUsIHNvdXJjZUZpYmVyLCAyKTtcbiAgICAgIHJvb3RGaWJlciA9IGVucXVldWVVcGRhdGUocm9vdEZpYmVyLCBzb3VyY2VGaWJlciwgMik7XG4gICAgICBudWxsICE9PSByb290RmliZXIgJiZcbiAgICAgICAgKG1hcmtSb290VXBkYXRlZCQxKHJvb3RGaWJlciwgMiksIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290RmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoXG4gICAgICBzb3VyY2VGaWJlcixcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBlcnJvclxuICAgICkge1xuICAgICAgaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITE7XG4gICAgICBpZiAoMyA9PT0gc291cmNlRmliZXIudGFnKVxuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChzb3VyY2VGaWJlciwgc291cmNlRmliZXIsIGVycm9yKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKDsgbnVsbCAhPT0gbmVhcmVzdE1vdW50ZWRBbmNlc3RvcjsgKSB7XG4gICAgICAgICAgaWYgKDMgPT09IG5lYXJlc3RNb3VudGVkQW5jZXN0b3IudGFnKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgc291cmNlRmliZXIsXG4gICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoMSA9PT0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci50YWcpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG5lYXJlc3RNb3VudGVkQW5jZXN0b3Iuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHxcbiAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoICYmXG4gICAgICAgICAgICAgICAgKG51bGwgPT09IGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkIHx8XG4gICAgICAgICAgICAgICAgICAhbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuaGFzKGluc3RhbmNlKSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgc291cmNlRmliZXIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihlcnJvciwgc291cmNlRmliZXIpO1xuICAgICAgICAgICAgICBlcnJvciA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUoMik7XG4gICAgICAgICAgICAgIGluc3RhbmNlID0gZW5xdWV1ZVVwZGF0ZShuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvciwgMik7XG4gICAgICAgICAgICAgIG51bGwgIT09IGluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgKGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbWFya1Jvb3RVcGRhdGVkJDEoaW5zdGFuY2UsIDIpLFxuICAgICAgICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChpbnN0YW5jZSkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IgPSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgZXJyb3I6IEF0dGVtcHRlZCB0byBjYXB0dXJlIGEgY29tbWl0IHBoYXNlIGVycm9yIGluc2lkZSBhIGRldGFjaGVkIHRyZWUuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0LiBQb3RlbnRpYWwgY2F1c2VzIGluY2x1ZGUgZGVsZXRpbmcgdGhlIHNhbWUgZmliZXIgbW9yZSB0aGFuIG9uY2UsIGNvbW1pdHRpbmcgYW4gYWxyZWFkeS1maW5pc2hlZCB0cmVlLCBvciBhbiBpbmNvbnNpc3RlbnQgcmV0dXJuIHBvaW50ZXIuXFxuXFxuRXJyb3IgbWVzc2FnZTpcXG5cXG4lc1wiLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB3YWtlYWJsZSwgbGFuZXMpIHtcbiAgICAgIHZhciBwaW5nQ2FjaGUgPSByb290LnBpbmdDYWNoZTtcbiAgICAgIGlmIChudWxsID09PSBwaW5nQ2FjaGUpIHtcbiAgICAgICAgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGUgPSBuZXcgUG9zc2libHlXZWFrTWFwKCk7XG4gICAgICAgIHZhciB0aHJlYWRJRHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHBpbmdDYWNoZS5zZXQod2FrZWFibGUsIHRocmVhZElEcyk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRocmVhZElEcyA9IHBpbmdDYWNoZS5nZXQod2FrZWFibGUpKSxcbiAgICAgICAgICB2b2lkIDAgPT09IHRocmVhZElEcyAmJlxuICAgICAgICAgICAgKCh0aHJlYWRJRHMgPSBuZXcgU2V0KCkpLCBwaW5nQ2FjaGUuc2V0KHdha2VhYmxlLCB0aHJlYWRJRHMpKTtcbiAgICAgIHRocmVhZElEcy5oYXMobGFuZXMpIHx8XG4gICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyID0gITApLFxuICAgICAgICB0aHJlYWRJRHMuYWRkKGxhbmVzKSxcbiAgICAgICAgKHBpbmdDYWNoZSA9IHBpbmdTdXNwZW5kZWRSb290LmJpbmQobnVsbCwgcm9vdCwgd2FrZWFibGUsIGxhbmVzKSksXG4gICAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgbGFuZXMpLFxuICAgICAgICB3YWtlYWJsZS50aGVuKHBpbmdDYWNoZSwgcGluZ0NhY2hlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpbmdTdXNwZW5kZWRSb290KHJvb3QsIHdha2VhYmxlLCBwaW5nZWRMYW5lcykge1xuICAgICAgdmFyIHBpbmdDYWNoZSA9IHJvb3QucGluZ0NhY2hlO1xuICAgICAgbnVsbCAhPT0gcGluZ0NhY2hlICYmIHBpbmdDYWNoZS5kZWxldGUod2FrZWFibGUpO1xuICAgICAgcm9vdC5waW5nZWRMYW5lcyB8PSByb290LnN1c3BlbmRlZExhbmVzICYgcGluZ2VkTGFuZXM7XG4gICAgICByb290Lndhcm1MYW5lcyAmPSB+cGluZ2VkTGFuZXM7XG4gICAgICBpc0NvbmN1cnJlbnRBY3RFbnZpcm9ubWVudCgpICYmXG4gICAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBIHN1c3BlbmRlZCByZXNvdXJjZSBmaW5pc2hlZCBsb2FkaW5nIGluc2lkZSBhIHRlc3QsIGJ1dCB0aGUgZXZlbnQgd2FzIG5vdCB3cmFwcGVkIGluIGFjdCguLi4pLlxcblxcbldoZW4gdGVzdGluZywgY29kZSB0aGF0IHJlc29sdmVzIHN1c3BlbmRlZCBkYXRhIHNob3VsZCBiZSB3cmFwcGVkIGludG8gYWN0KC4uLik6XFxuXFxuYWN0KCgpID0+IHtcXG4gIC8qIGZpbmlzaCBsb2FkaW5nIHN1c3BlbmRlZCBkYXRhICovXFxufSk7XFxuLyogYXNzZXJ0IG9uIHRoZSBvdXRwdXQgKi9cXG5cXG5UaGlzIGVuc3VyZXMgdGhhdCB5b3UncmUgdGVzdGluZyB0aGUgYmVoYXZpb3IgdGhlIHVzZXIgd291bGQgc2VlIGluIHRoZSBicm93c2VyLiBMZWFybiBtb3JlIGF0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd3JhcC10ZXN0cy13aXRoLWFjdFwiXG4gICAgICAgICk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPT09IHJvb3QgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgcGluZ2VkTGFuZXMpID09PSBwaW5nZWRMYW5lcyAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSB8fFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZCAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDYyOTE0NTYwKSA9PT1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgbm93JDEoKSAtIGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgPCBGQUxMQkFDS19USFJPVFRMRV9NUylcbiAgICAgICAgICA/IChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgPT09IE5vQ29udGV4dCAmJlxuICAgICAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgMClcbiAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc1Jvb3RQaW5nZWRMYW5lcyB8PSBwaW5nZWRMYW5lcyksXG4gICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9PT0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID0gMCkpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKSB7XG4gICAgICAwID09PSByZXRyeUxhbmUgJiYgKHJldHJ5TGFuZSA9IGNsYWltTmV4dFJldHJ5TGFuZSgpKTtcbiAgICAgIGJvdW5kYXJ5RmliZXIgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKTtcbiAgICAgIG51bGwgIT09IGJvdW5kYXJ5RmliZXIgJiZcbiAgICAgICAgKG1hcmtSb290VXBkYXRlZCQxKGJvdW5kYXJ5RmliZXIsIHJldHJ5TGFuZSksXG4gICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChib3VuZGFyeUZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5RGVoeWRyYXRlZFN1c3BlbnNlQm91bmRhcnkoYm91bmRhcnlGaWJlcikge1xuICAgICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBib3VuZGFyeUZpYmVyLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIHJldHJ5TGFuZSA9IDA7XG4gICAgICBudWxsICE9PSBzdXNwZW5zZVN0YXRlICYmIChyZXRyeUxhbmUgPSBzdXNwZW5zZVN0YXRlLnJldHJ5TGFuZSk7XG4gICAgICByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVJldHJ5V2FrZWFibGUoYm91bmRhcnlGaWJlciwgd2FrZWFibGUpIHtcbiAgICAgIHZhciByZXRyeUxhbmUgPSAwO1xuICAgICAgc3dpdGNoIChib3VuZGFyeUZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHZhciByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBib3VuZGFyeUZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbnVsbCAhPT0gc3VzcGVuc2VTdGF0ZSAmJiAocmV0cnlMYW5lID0gc3VzcGVuc2VTdGF0ZS5yZXRyeUxhbmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHJ5Q2FjaGUgPSBib3VuZGFyeUZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGUuX3JldHJ5Q2FjaGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlBpbmdlZCB1bmtub3duIHN1c3BlbnNlIGJvdW5kYXJ5IHR5cGUuIFRoaXMgaXMgcHJvYmFibHkgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gcmV0cnlDYWNoZSAmJiByZXRyeUNhY2hlLmRlbGV0ZSh3YWtlYWJsZSk7XG4gICAgICByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihcbiAgICAgIHJvb3QkanNjb21wJDAsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGlzSW5TdHJpY3RNb2RlXG4gICAgKSB7XG4gICAgICBpZiAoMCAhPT0gKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDMzNTYyNjI0KSlcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSByb290JGpzY29tcCQwLFxuICAgICAgICAgICAgZmliZXIgPSBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyID0gZmliZXIudHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlciA9IGlzSW5TdHJpY3RNb2RlIHx8IGlzU3RyaWN0TW9kZUZpYmVyO1xuICAgICAgICAgIDIyICE9PSBmaWJlci50YWdcbiAgICAgICAgICAgID8gZmliZXIuZmxhZ3MgJiAzMzU1NDQzMlxuICAgICAgICAgICAgICA/IGlzU3RyaWN0TW9kZUZpYmVyICYmXG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgIGRvdWJsZUludm9rZUVmZmVjdHNPbkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgKGZpYmVyLm1vZGUgJiBOb1N0cmljdFBhc3NpdmVFZmZlY3RzTW9kZSkgPT09IE5vTW9kZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlQW5kRG91YmxlSW52b2tlRWZmZWN0c0luREVWKFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgaXNTdHJpY3RNb2RlRmliZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IG51bGwgPT09IGZpYmVyLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgKGlzU3RyaWN0TW9kZUZpYmVyICYmIGZpYmVyLmZsYWdzICYgODE5MlxuICAgICAgICAgICAgICAgID8gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBkb3VibGVJbnZva2VFZmZlY3RzT25GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgZmliZXJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGZpYmVyLnN1YnRyZWVGbGFncyAmIDMzNTU0NDMyICYmXG4gICAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYsXG4gICAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlclxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvdWJsZUludm9rZUVmZmVjdHNPbkZpYmVyKHJvb3QsIGZpYmVyKSB7XG4gICAgICB2YXIgc2hvdWxkRG91YmxlSW52b2tlUGFzc2l2ZUVmZmVjdHMgPVxuICAgICAgICAyIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1syXSA/IGFyZ3VtZW50c1syXSA6ICEwO1xuICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaWJlciksXG4gICAgICAgICAgc2hvdWxkRG91YmxlSW52b2tlUGFzc2l2ZUVmZmVjdHMgJiYgZGlzY29ubmVjdFBhc3NpdmVFZmZlY3QoZmliZXIpLFxuICAgICAgICAgIHJlYXBwZWFyTGF5b3V0RWZmZWN0cyhyb290LCBmaWJlci5hbHRlcm5hdGUsIGZpYmVyLCAhMSksXG4gICAgICAgICAgc2hvdWxkRG91YmxlSW52b2tlUGFzc2l2ZUVmZmVjdHMgJiZcbiAgICAgICAgICAgIHJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKHJvb3QsIGZpYmVyLCAwLCBudWxsLCAhMSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihyb290KSB7XG4gICAgICB2YXIgZG91YmxlSW52b2tlRWZmZWN0cyA9ICEwO1xuICAgICAgcm9vdC5jdXJyZW50Lm1vZGUgJiAoU3RyaWN0TGVnYWN5TW9kZSB8IFN0cmljdEVmZmVjdHNNb2RlKSB8fFxuICAgICAgICAoZG91YmxlSW52b2tlRWZmZWN0cyA9ICExKTtcbiAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJvb3QuY3VycmVudCxcbiAgICAgICAgZG91YmxlSW52b2tlRWZmZWN0c1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkFib3V0VXBkYXRlT25Ob3RZZXRNb3VudGVkRmliZXJJbkRFVihmaWJlcikge1xuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgPT09IE5vQ29udGV4dCkge1xuICAgICAgICB2YXIgdGFnID0gZmliZXIudGFnO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgMyA9PT0gdGFnIHx8XG4gICAgICAgICAgMSA9PT0gdGFnIHx8XG4gICAgICAgICAgMCA9PT0gdGFnIHx8XG4gICAgICAgICAgMTEgPT09IHRhZyB8fFxuICAgICAgICAgIDE0ID09PSB0YWcgfHxcbiAgICAgICAgICAxNSA9PT0gdGFnXG4gICAgICAgICkge1xuICAgICAgICAgIHRhZyA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiUmVhY3RDb21wb25lbnRcIjtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudCkge1xuICAgICAgICAgICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQuaGFzKHRhZykpIHJldHVybjtcbiAgICAgICAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQuYWRkKHRhZyk7XG4gICAgICAgICAgfSBlbHNlIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQgPSBuZXcgU2V0KFt0YWddKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJDYW4ndCBwZXJmb3JtIGEgUmVhY3Qgc3RhdGUgdXBkYXRlIG9uIGEgY29tcG9uZW50IHRoYXQgaGFzbid0IG1vdW50ZWQgeWV0LiBUaGlzIGluZGljYXRlcyB0aGF0IHlvdSBoYXZlIGEgc2lkZS1lZmZlY3QgaW4geW91ciByZW5kZXIgZnVuY3Rpb24gdGhhdCBhc3luY2hyb25vdXNseSBsYXRlciBjYWxscyB0cmllcyB0byB1cGRhdGUgdGhlIGNvbXBvbmVudC4gTW92ZSB0aGlzIHdvcmsgdG8gdXNlRWZmZWN0IGluc3RlYWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCBsYW5lcykge1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiZcbiAgICAgICAgcm9vdC5tZW1vaXplZFVwZGF0ZXJzLmZvckVhY2goZnVuY3Rpb24gKHNjaGVkdWxpbmdGaWJlcikge1xuICAgICAgICAgIGFkZEZpYmVyVG9MYW5lc01hcChyb290LCBzY2hlZHVsaW5nRmliZXIsIGxhbmVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2skMShwcmlvcml0eUxldmVsLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGFjdFF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWU7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gYWN0UXVldWVcbiAgICAgICAgPyAoYWN0UXVldWUucHVzaChjYWxsYmFjayksIGZha2VBY3RDYWxsYmFja05vZGUkMSlcbiAgICAgICAgOiBzY2hlZHVsZUNhbGxiYWNrJDMocHJpb3JpdHlMZXZlbCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZVcGRhdGVzTm90V3JhcHBlZFdpdGhBY3RERVYoZmliZXIpIHtcbiAgICAgIGlzQ29uY3VycmVudEFjdEVudmlyb25tZW50KCkgJiZcbiAgICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJBbiB1cGRhdGUgdG8gJXMgaW5zaWRlIGEgdGVzdCB3YXMgbm90IHdyYXBwZWQgaW4gYWN0KC4uLikuXFxuXFxuV2hlbiB0ZXN0aW5nLCBjb2RlIHRoYXQgY2F1c2VzIFJlYWN0IHN0YXRlIHVwZGF0ZXMgc2hvdWxkIGJlIHdyYXBwZWQgaW50byBhY3QoLi4uKTpcXG5cXG5hY3QoKCkgPT4ge1xcbiAgLyogZmlyZSBldmVudHMgdGhhdCB1cGRhdGUgc3RhdGUgKi9cXG59KTtcXG4vKiBhc3NlcnQgb24gdGhlIG91dHB1dCAqL1xcblxcblRoaXMgZW5zdXJlcyB0aGF0IHlvdSdyZSB0ZXN0aW5nIHRoZSBiZWhhdmlvciB0aGUgdXNlciB3b3VsZCBzZWUgaW4gdGhlIGJyb3dzZXIuIExlYXJuIG1vcmUgYXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93cmFwLXRlc3RzLXdpdGgtYWN0XCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCkge1xuICAgICAgcm9vdCAhPT0gbGFzdFNjaGVkdWxlZFJvb3QgJiZcbiAgICAgICAgbnVsbCA9PT0gcm9vdC5uZXh0ICYmXG4gICAgICAgIChudWxsID09PSBsYXN0U2NoZWR1bGVkUm9vdFxuICAgICAgICAgID8gKGZpcnN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdClcbiAgICAgICAgICA6IChsYXN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290Lm5leHQgPSByb290KSk7XG4gICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPSAhMDtcbiAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlXG4gICAgICAgID8gZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0IHx8XG4gICAgICAgICAgKChkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgPSAhMCksXG4gICAgICAgICAgc2NoZWR1bGVJbW1lZGlhdGVUYXNrKHByb2Nlc3NSb290U2NoZWR1bGVJbk1pY3JvdGFzaykpXG4gICAgICAgIDogZGlkU2NoZWR1bGVNaWNyb3Rhc2sgfHxcbiAgICAgICAgICAoKGRpZFNjaGVkdWxlTWljcm90YXNrID0gITApLFxuICAgICAgICAgIHNjaGVkdWxlSW1tZWRpYXRlVGFzayhwcm9jZXNzUm9vdFNjaGVkdWxlSW5NaWNyb3Rhc2spKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoc3luY1RyYW5zaXRpb25MYW5lcywgb25seUxlZ2FjeSkge1xuICAgICAgaWYgKCFpc0ZsdXNoaW5nV29yayAmJiBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmspIHtcbiAgICAgICAgaXNGbHVzaGluZ1dvcmsgPSAhMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHZhciBkaWRQZXJmb3JtU29tZVdvcmsgPSAhMTtcbiAgICAgICAgICBmb3IgKHZhciByb290ID0gZmlyc3RTY2hlZHVsZWRSb290OyBudWxsICE9PSByb290OyApIHtcbiAgICAgICAgICAgIGlmICghb25seUxlZ2FjeSlcbiAgICAgICAgICAgICAgaWYgKDAgIT09IHN5bmNUcmFuc2l0aW9uTGFuZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVuZGluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHBlbmRpbmdMYW5lcykgdmFyIG5leHRMYW5lcyA9IDA7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuZGVkTGFuZXMgPSByb290LnN1c3BlbmRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgICBwaW5nZWRMYW5lcyA9IHJvb3QucGluZ2VkTGFuZXM7XG4gICAgICAgICAgICAgICAgICBuZXh0TGFuZXMgPVxuICAgICAgICAgICAgICAgICAgICAoMSA8PCAoMzEgLSBjbHozMig0MiB8IHN5bmNUcmFuc2l0aW9uTGFuZXMpICsgMSkpIC0gMTtcbiAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyAmPSBwZW5kaW5nTGFuZXMgJiB+KHN1c3BlbmRlZExhbmVzICYgfnBpbmdlZExhbmVzKTtcbiAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyA9XG4gICAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyAmIDIwMTMyNjY3N1xuICAgICAgICAgICAgICAgICAgICAgID8gKG5leHRMYW5lcyAmIDIwMTMyNjY3NykgfCAxXG4gICAgICAgICAgICAgICAgICAgICAgOiBuZXh0TGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV4dExhbmVzIHwgMlxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAwICE9PSBuZXh0TGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICgoZGlkUGVyZm9ybVNvbWVXb3JrID0gITApLFxuICAgICAgICAgICAgICAgICAgcGVyZm9ybVN5bmNXb3JrT25Sb290KHJvb3QsIG5leHRMYW5lcykpO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgKG5leHRMYW5lcyA9IGdldE5leHRMYW5lcyhcbiAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ID8gbmV4dExhbmVzIDogMFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAwID09PSAobmV4dExhbmVzICYgMykgfHxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBuZXh0TGFuZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkUGVyZm9ybVNvbWVXb3JrID0gITApLFxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtU3luY1dvcmtPblJvb3Qocm9vdCwgbmV4dExhbmVzKSk7XG4gICAgICAgICAgICByb290ID0gcm9vdC5uZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZGlkUGVyZm9ybVNvbWVXb3JrKTtcbiAgICAgICAgaXNGbHVzaGluZ1dvcmsgPSAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2Vzc1Jvb3RTY2hlZHVsZUluTWljcm90YXNrKCkge1xuICAgICAgbWlnaHRIYXZlUGVuZGluZ1N5bmNXb3JrID1cbiAgICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0ID1cbiAgICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2sgPVxuICAgICAgICAgICExO1xuICAgICAgdmFyIHN5bmNUcmFuc2l0aW9uTGFuZXMgPSAwO1xuICAgICAgMCAhPT0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgJiZcbiAgICAgICAgKHNob3VsZEF0dGVtcHRFYWdlclRyYW5zaXRpb24oKSAmJlxuICAgICAgICAgIChzeW5jVHJhbnNpdGlvbkxhbmVzID0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUpLFxuICAgICAgICAoY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgPSAwKSk7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBub3ckMSgpLCBwcmV2ID0gbnVsbCwgcm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgbnVsbCAhPT0gcm9vdDtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBuZXh0ID0gcm9vdC5uZXh0LFxuICAgICAgICAgIG5leHRMYW5lcyA9IHNjaGVkdWxlVGFza0ZvclJvb3REdXJpbmdNaWNyb3Rhc2socm9vdCwgY3VycmVudFRpbWUpO1xuICAgICAgICBpZiAoMCA9PT0gbmV4dExhbmVzKVxuICAgICAgICAgIChyb290Lm5leHQgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgPT09IHByZXYgPyAoZmlyc3RTY2hlZHVsZWRSb290ID0gbmV4dCkgOiAocHJldi5uZXh0ID0gbmV4dCksXG4gICAgICAgICAgICBudWxsID09PSBuZXh0ICYmIChsYXN0U2NoZWR1bGVkUm9vdCA9IHByZXYpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoKHByZXYgPSByb290KSwgMCAhPT0gc3luY1RyYW5zaXRpb25MYW5lcyB8fCAwICE9PSAobmV4dExhbmVzICYgMykpXG4gICAgICAgIClcbiAgICAgICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPSAhMDtcbiAgICAgICAgcm9vdCA9IG5leHQ7XG4gICAgICB9XG4gICAgICBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbChzeW5jVHJhbnNpdGlvbkxhbmVzLCAhMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlVGFza0ZvclJvb3REdXJpbmdNaWNyb3Rhc2socm9vdCwgY3VycmVudFRpbWUpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBzdXNwZW5kZWRMYW5lcyA9IHJvb3Quc3VzcGVuZGVkTGFuZXMsXG4gICAgICAgICAgcGluZ2VkTGFuZXMgPSByb290LnBpbmdlZExhbmVzLFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lcyA9IHJvb3QuZXhwaXJhdGlvblRpbWVzLFxuICAgICAgICAgIGxhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXMgJiAtNjI5MTQ1NjE7XG4gICAgICAgIDAgPCBsYW5lcztcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIobGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4LFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWVzW2luZGV4XTtcbiAgICAgICAgaWYgKC0xID09PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgIGlmICgwID09PSAobGFuZSAmIHN1c3BlbmRlZExhbmVzKSB8fCAwICE9PSAobGFuZSAmIHBpbmdlZExhbmVzKSlcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lc1tpbmRleF0gPSBjb21wdXRlRXhwaXJhdGlvblRpbWUobGFuZSwgY3VycmVudFRpbWUpO1xuICAgICAgICB9IGVsc2UgZXhwaXJhdGlvblRpbWUgPD0gY3VycmVudFRpbWUgJiYgKHJvb3QuZXhwaXJlZExhbmVzIHw9IGxhbmUpO1xuICAgICAgICBsYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRUaW1lID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgc3VzcGVuZGVkTGFuZXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcztcbiAgICAgIHN1c3BlbmRlZExhbmVzID0gZ2V0TmV4dExhbmVzKFxuICAgICAgICByb290LFxuICAgICAgICByb290ID09PSBjdXJyZW50VGltZSA/IHN1c3BlbmRlZExhbmVzIDogMFxuICAgICAgKTtcbiAgICAgIHBpbmdlZExhbmVzID0gcm9vdC5jYWxsYmFja05vZGU7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IHN1c3BlbmRlZExhbmVzIHx8XG4gICAgICAgIChyb290ID09PSBjdXJyZW50VGltZSAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEpIHx8XG4gICAgICAgIG51bGwgIT09IHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdFxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIG51bGwgIT09IHBpbmdlZExhbmVzICYmIGNhbmNlbENhbGxiYWNrKHBpbmdlZExhbmVzKSxcbiAgICAgICAgICAocm9vdC5jYWxsYmFja05vZGUgPSBudWxsKSxcbiAgICAgICAgICAocm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgMCA9PT0gKHN1c3BlbmRlZExhbmVzICYgMykgfHxcbiAgICAgICAgY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBzdXNwZW5kZWRMYW5lcylcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50VGltZSA9IHN1c3BlbmRlZExhbmVzICYgLXN1c3BlbmRlZExhbmVzO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY3VycmVudFRpbWUgIT09IHJvb3QuY2FsbGJhY2tQcmlvcml0eSB8fFxuICAgICAgICAgIChudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICAgICAgcGluZ2VkTGFuZXMgIT09IGZha2VBY3RDYWxsYmFja05vZGUpXG4gICAgICAgIClcbiAgICAgICAgICBjYW5jZWxDYWxsYmFjayhwaW5nZWRMYW5lcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIGN1cnJlbnRUaW1lO1xuICAgICAgICBzd2l0Y2ggKGxhbmVzVG9FdmVudFByaW9yaXR5KHN1c3BlbmRlZExhbmVzKSkge1xuICAgICAgICAgIGNhc2UgRGlzY3JldGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgIGNhc2UgQ29udGludW91c0V2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IFVzZXJCbG9ja2luZ1ByaW9yaXR5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBEZWZhdWx0RXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgSWRsZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IElkbGVQcmlvcml0eTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IE5vcm1hbFByaW9yaXR5JDE7XG4gICAgICAgIH1cbiAgICAgICAgcGluZ2VkTGFuZXMgPSBwZXJmb3JtV29ya09uUm9vdFZpYVNjaGVkdWxlclRhc2suYmluZChudWxsLCByb290KTtcbiAgICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWVcbiAgICAgICAgICA/IChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZS5wdXNoKHBpbmdlZExhbmVzKSxcbiAgICAgICAgICAgIChzdXNwZW5kZWRMYW5lcyA9IGZha2VBY3RDYWxsYmFja05vZGUpKVxuICAgICAgICAgIDogKHN1c3BlbmRlZExhbmVzID0gc2NoZWR1bGVDYWxsYmFjayQzKHN1c3BlbmRlZExhbmVzLCBwaW5nZWRMYW5lcykpO1xuICAgICAgICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSBjdXJyZW50VGltZTtcbiAgICAgICAgcm9vdC5jYWxsYmFja05vZGUgPSBzdXNwZW5kZWRMYW5lcztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gcGluZ2VkTGFuZXMgJiYgY2FuY2VsQ2FsbGJhY2socGluZ2VkTGFuZXMpO1xuICAgICAgcm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gMjtcbiAgICAgIHJvb3QuY2FsbGJhY2tOb2RlID0gbnVsbDtcbiAgICAgIHJldHVybiAyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtV29ya09uUm9vdFZpYVNjaGVkdWxlclRhc2socm9vdCwgZGlkVGltZW91dCkge1xuICAgICAgbmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gY3VycmVudFVwZGF0ZUlzTmVzdGVkID0gITE7XG4gICAgICB2YXIgb3JpZ2luYWxDYWxsYmFja05vZGUgPSByb290LmNhbGxiYWNrTm9kZTtcbiAgICAgIGlmIChmbHVzaFBhc3NpdmVFZmZlY3RzKCkgJiYgcm9vdC5jYWxsYmFja05vZGUgIT09IG9yaWdpbmFsQ2FsbGJhY2tOb2RlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHZhciB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAgPSBnZXROZXh0TGFuZXMoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCA/IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwIDogMFxuICAgICAgKTtcbiAgICAgIGlmICgwID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCkgcmV0dXJuIG51bGw7XG4gICAgICBwZXJmb3JtV29ya09uUm9vdChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAsXG4gICAgICAgIGRpZFRpbWVvdXRcbiAgICAgICk7XG4gICAgICBzY2hlZHVsZVRhc2tGb3JSb290RHVyaW5nTWljcm90YXNrKHJvb3QsIG5vdyQxKCkpO1xuICAgICAgcmV0dXJuIG51bGwgIT0gcm9vdC5jYWxsYmFja05vZGUgJiZcbiAgICAgICAgcm9vdC5jYWxsYmFja05vZGUgPT09IG9yaWdpbmFsQ2FsbGJhY2tOb2RlXG4gICAgICAgID8gcGVyZm9ybVdvcmtPblJvb3RWaWFTY2hlZHVsZXJUYXNrLmJpbmQobnVsbCwgcm9vdClcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtU3luY1dvcmtPblJvb3Qocm9vdCwgbGFuZXMpIHtcbiAgICAgIGlmIChmbHVzaFBhc3NpdmVFZmZlY3RzKCkpIHJldHVybiBudWxsO1xuICAgICAgY3VycmVudFVwZGF0ZUlzTmVzdGVkID0gbmVzdGVkVXBkYXRlU2NoZWR1bGVkO1xuICAgICAgbmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gITE7XG4gICAgICBwZXJmb3JtV29ya09uUm9vdChyb290LCBsYW5lcywgITApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5jZWxDYWxsYmFjayhjYWxsYmFja05vZGUpIHtcbiAgICAgIGNhbGxiYWNrTm9kZSAhPT0gZmFrZUFjdENhbGxiYWNrTm9kZSAmJlxuICAgICAgICBudWxsICE9PSBjYWxsYmFja05vZGUgJiZcbiAgICAgICAgY2FuY2VsQ2FsbGJhY2skMShjYWxsYmFja05vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUltbWVkaWF0ZVRhc2soY2IpIHtcbiAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgc2NoZWR1bGVNaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHRcbiAgICAgICAgICA/IHNjaGVkdWxlQ2FsbGJhY2skMyhJbW1lZGlhdGVQcmlvcml0eSwgY2IpXG4gICAgICAgICAgOiBjYigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpIHtcbiAgICAgIDAgPT09IGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lICYmXG4gICAgICAgIChjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSA9IGNsYWltTmV4dFRyYW5zaXRpb25MYW5lKCkpO1xuICAgICAgcmV0dXJuIGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2VyY2VGb3JtQWN0aW9uUHJvcChhY3Rpb25Qcm9wKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgPT0gYWN0aW9uUHJvcCB8fFxuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgYWN0aW9uUHJvcCB8fFxuICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIGFjdGlvblByb3BcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWN0aW9uUHJvcCkgcmV0dXJuIGFjdGlvblByb3A7XG4gICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKGFjdGlvblByb3AsIFwiYWN0aW9uXCIpO1xuICAgICAgcmV0dXJuIHNhbml0aXplVVJMKFwiXCIgKyBhY3Rpb25Qcm9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRm9ybURhdGFXaXRoU3VibWl0dGVyKGZvcm0sIHN1Ym1pdHRlcikge1xuICAgICAgdmFyIHRlbXAgPSBzdWJtaXR0ZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICB0ZW1wLm5hbWUgPSBzdWJtaXR0ZXIubmFtZTtcbiAgICAgIHRlbXAudmFsdWUgPSBzdWJtaXR0ZXIudmFsdWU7XG4gICAgICBmb3JtLmlkICYmIHRlbXAuc2V0QXR0cmlidXRlKFwiZm9ybVwiLCBmb3JtLmlkKTtcbiAgICAgIHN1Ym1pdHRlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0ZW1wLCBzdWJtaXR0ZXIpO1xuICAgICAgZm9ybSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgIHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZW1wKTtcbiAgICAgIHJldHVybiBmb3JtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleHRyYWN0RXZlbnRzJDEoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgbWF5YmVUYXJnZXRJbnN0LFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBcInN1Ym1pdFwiID09PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgbWF5YmVUYXJnZXRJbnN0ICYmXG4gICAgICAgIG1heWJlVGFyZ2V0SW5zdC5zdGF0ZU5vZGUgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IGNvZXJjZUZvcm1BY3Rpb25Qcm9wKFxuICAgICAgICAgICAgKG5hdGl2ZUV2ZW50VGFyZ2V0W2ludGVybmFsUHJvcHNLZXldIHx8IG51bGwpLmFjdGlvblxuICAgICAgICAgICksXG4gICAgICAgICAgc3VibWl0dGVyID0gbmF0aXZlRXZlbnQuc3VibWl0dGVyO1xuICAgICAgICBzdWJtaXR0ZXIgJiZcbiAgICAgICAgICAoKGRvbUV2ZW50TmFtZSA9IChkb21FdmVudE5hbWUgPSBzdWJtaXR0ZXJbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbClcbiAgICAgICAgICAgID8gY29lcmNlRm9ybUFjdGlvblByb3AoZG9tRXZlbnROYW1lLmZvcm1BY3Rpb24pXG4gICAgICAgICAgICA6IHN1Ym1pdHRlci5nZXRBdHRyaWJ1dGUoXCJmb3JtQWN0aW9uXCIpKSxcbiAgICAgICAgICBudWxsICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgICgoYWN0aW9uID0gZG9tRXZlbnROYW1lKSwgKHN1Ym1pdHRlciA9IG51bGwpKSk7XG4gICAgICAgIHZhciBldmVudCA9IG5ldyBTeW50aGV0aWNFdmVudChcbiAgICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBsaXN0ZW5lcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgIGxpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgwICE9PSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBzdWJtaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlRm9ybURhdGFXaXRoU3VibWl0dGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBGb3JtRGF0YShuYXRpdmVFdmVudFRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZzogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbmF0aXZlRXZlbnRUYXJnZXQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHBlbmRpbmdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SG9zdFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgbWF5YmVUYXJnZXRJbnN0LFxuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgKGV2ZW50LnByZXZlbnREZWZhdWx0KCksXG4gICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSA9IHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlRm9ybURhdGFXaXRoU3VibWl0dGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRm9ybURhdGEobmF0aXZlRXZlbnRUYXJnZXQpKSxcbiAgICAgICAgICAgICAgICAgICAgKHBlbmRpbmdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvblxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShwZW5kaW5nU3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydEhvc3RUcmFuc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgIG1heWJlVGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NEaXNwYXRjaFF1ZXVlKGRpc3BhdGNoUXVldWUsIGV2ZW50U3lzdGVtRmxhZ3MpIHtcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MgPSAwICE9PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNwYXRjaFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBfZGlzcGF0Y2hRdWV1ZSRpID0gZGlzcGF0Y2hRdWV1ZVtpXTtcbiAgICAgICAgYToge1xuICAgICAgICAgIHZhciBwcmV2aW91c0luc3RhbmNlID0gdm9pZCAwLFxuICAgICAgICAgICAgZXZlbnQgPSBfZGlzcGF0Y2hRdWV1ZSRpLmV2ZW50O1xuICAgICAgICAgIF9kaXNwYXRjaFF1ZXVlJGkgPSBfZGlzcGF0Y2hRdWV1ZSRpLmxpc3RlbmVycztcbiAgICAgICAgICBpZiAoZXZlbnRTeXN0ZW1GbGFncylcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIHZhciBpJGpzY29tcCQwID0gX2Rpc3BhdGNoUXVldWUkaS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAwIDw9IGkkanNjb21wJDA7XG4gICAgICAgICAgICAgIGkkanNjb21wJDAtLVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaFF1ZXVlJGlbaSRqc2NvbXAkMF0sXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5pbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5saXN0ZW5lcjtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBwcmV2aW91c0luc3RhbmNlICYmIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpXG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZSA9IGV2ZW50O1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpKHByZXZpb3VzSW5zdGFuY2UpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMCA9IDA7XG4gICAgICAgICAgICAgIGkkanNjb21wJDAgPCBfZGlzcGF0Y2hRdWV1ZSRpLmxlbmd0aDtcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMCsrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hRdWV1ZSRpW2kkanNjb21wJDBdO1xuICAgICAgICAgICAgICBpbnN0YW5jZSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmluc3RhbmNlO1xuICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5saXN0ZW5lcjtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBwcmV2aW91c0luc3RhbmNlICYmIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpXG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZSA9IGV2ZW50O1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpKHByZXZpb3VzSW5zdGFuY2UpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChkb21FdmVudE5hbWUsIHRhcmdldEVsZW1lbnQpIHtcbiAgICAgIG5vbkRlbGVnYXRlZEV2ZW50cy5oYXMoZG9tRXZlbnROYW1lKSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBhIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoKSBjYWxsIGZvciBcIiVzXCIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicsXG4gICAgICAgICAgZG9tRXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICB2YXIgbGlzdGVuZXJTZXQgPSB0YXJnZXRFbGVtZW50W2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV07XG4gICAgICB2b2lkIDAgPT09IGxpc3RlbmVyU2V0ICYmXG4gICAgICAgIChsaXN0ZW5lclNldCA9IHRhcmdldEVsZW1lbnRbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XSA9IG5ldyBTZXQoKSk7XG4gICAgICB2YXIgbGlzdGVuZXJTZXRLZXkgPSBkb21FdmVudE5hbWUgKyBcIl9fYnViYmxlXCI7XG4gICAgICBsaXN0ZW5lclNldC5oYXMobGlzdGVuZXJTZXRLZXkpIHx8XG4gICAgICAgIChhZGRUcmFwcGVkRXZlbnRMaXN0ZW5lcih0YXJnZXRFbGVtZW50LCBkb21FdmVudE5hbWUsIDIsICExKSxcbiAgICAgICAgbGlzdGVuZXJTZXQuYWRkKGxpc3RlbmVyU2V0S2V5KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RlblRvTmF0aXZlRXZlbnQoZG9tRXZlbnROYW1lLCBpc0NhcHR1cmVQaGFzZUxpc3RlbmVyLCB0YXJnZXQpIHtcbiAgICAgIG5vbkRlbGVnYXRlZEV2ZW50cy5oYXMoZG9tRXZlbnROYW1lKSAmJlxuICAgICAgICAhaXNDYXB0dXJlUGhhc2VMaXN0ZW5lciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBhIGxpc3RlblRvTmF0aXZlRXZlbnQoKSBjYWxsIGZvciBcIiVzXCIgaW4gdGhlIGJ1YmJsZSBwaGFzZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyxcbiAgICAgICAgICBkb21FdmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIHZhciBldmVudFN5c3RlbUZsYWdzID0gMDtcbiAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXIgJiYgKGV2ZW50U3lzdGVtRmxhZ3MgfD0gNCk7XG4gICAgICBhZGRUcmFwcGVkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RlblRvQWxsU3VwcG9ydGVkRXZlbnRzKHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gICAgICBpZiAoIXJvb3RDb250YWluZXJFbGVtZW50W2xpc3RlbmluZ01hcmtlcl0pIHtcbiAgICAgICAgcm9vdENvbnRhaW5lckVsZW1lbnRbbGlzdGVuaW5nTWFya2VyXSA9ICEwO1xuICAgICAgICBhbGxOYXRpdmVFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgXCJzZWxlY3Rpb25jaGFuZ2VcIiAhPT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgICAobm9uRGVsZWdhdGVkRXZlbnRzLmhhcyhkb21FdmVudE5hbWUpIHx8XG4gICAgICAgICAgICAgIGxpc3RlblRvTmF0aXZlRXZlbnQoZG9tRXZlbnROYW1lLCAhMSwgcm9vdENvbnRhaW5lckVsZW1lbnQpLFxuICAgICAgICAgICAgbGlzdGVuVG9OYXRpdmVFdmVudChkb21FdmVudE5hbWUsICEwLCByb290Q29udGFpbmVyRWxlbWVudCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPVxuICAgICAgICAgIDkgPT09IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlXG4gICAgICAgICAgICA/IHJvb3RDb250YWluZXJFbGVtZW50XG4gICAgICAgICAgICA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIG51bGwgPT09IG93bmVyRG9jdW1lbnQgfHxcbiAgICAgICAgICBvd25lckRvY3VtZW50W2xpc3RlbmluZ01hcmtlcl0gfHxcbiAgICAgICAgICAoKG93bmVyRG9jdW1lbnRbbGlzdGVuaW5nTWFya2VyXSA9ICEwKSxcbiAgICAgICAgICBsaXN0ZW5Ub05hdGl2ZUV2ZW50KFwic2VsZWN0aW9uY2hhbmdlXCIsICExLCBvd25lckRvY3VtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFRyYXBwZWRFdmVudExpc3RlbmVyKFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXJcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoZ2V0RXZlbnRQcmlvcml0eShkb21FdmVudE5hbWUpKSB7XG4gICAgICAgIGNhc2UgRGlzY3JldGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgIHZhciBsaXN0ZW5lcldyYXBwZXIgPSBkaXNwYXRjaERpc2NyZXRlRXZlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29udGludW91c0V2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgbGlzdGVuZXJXcmFwcGVyID0gZGlzcGF0Y2hDb250aW51b3VzRXZlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGlzdGVuZXJXcmFwcGVyID0gZGlzcGF0Y2hFdmVudDtcbiAgICAgIH1cbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MgPSBsaXN0ZW5lcldyYXBwZXIuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICB0YXJnZXRDb250YWluZXJcbiAgICAgICk7XG4gICAgICBsaXN0ZW5lcldyYXBwZXIgPSB2b2lkIDA7XG4gICAgICAhcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgfHxcbiAgICAgICAgKFwidG91Y2hzdGFydFwiICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICBcInRvdWNobW92ZVwiICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICBcIndoZWVsXCIgIT09IGRvbUV2ZW50TmFtZSkgfHxcbiAgICAgICAgKGxpc3RlbmVyV3JhcHBlciA9ICEwKTtcbiAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXJcbiAgICAgICAgPyB2b2lkIDAgIT09IGxpc3RlbmVyV3JhcHBlclxuICAgICAgICAgID8gdGFyZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCB7XG4gICAgICAgICAgICAgIGNhcHR1cmU6ICEwLFxuICAgICAgICAgICAgICBwYXNzaXZlOiBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsICEwKVxuICAgICAgICA6IHZvaWQgMCAhPT0gbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgPyB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIHtcbiAgICAgICAgICAgICAgcGFzc2l2ZTogbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdGFyZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIHRhcmdldEluc3QkanNjb21wJDAsXG4gICAgICB0YXJnZXRDb250YWluZXJcbiAgICApIHtcbiAgICAgIHZhciBhbmNlc3Rvckluc3QgPSB0YXJnZXRJbnN0JGpzY29tcCQwO1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDEpICYmXG4gICAgICAgIDAgPT09IChldmVudFN5c3RlbUZsYWdzICYgMikgJiZcbiAgICAgICAgbnVsbCAhPT0gdGFyZ2V0SW5zdCRqc2NvbXAkMFxuICAgICAgKVxuICAgICAgICBhOiBmb3IgKDs7KSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHRhcmdldEluc3QkanNjb21wJDApIHJldHVybjtcbiAgICAgICAgICB2YXIgbm9kZVRhZyA9IHRhcmdldEluc3QkanNjb21wJDAudGFnO1xuICAgICAgICAgIGlmICgzID09PSBub2RlVGFnIHx8IDQgPT09IG5vZGVUYWcpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb250YWluZXIgPT09IHRhcmdldENvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAoOCA9PT0gY29udGFpbmVyLm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUgPT09IHRhcmdldENvbnRhaW5lcilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoNCA9PT0gbm9kZVRhZylcbiAgICAgICAgICAgICAgZm9yIChub2RlVGFnID0gdGFyZ2V0SW5zdCRqc2NvbXAkMC5yZXR1cm47IG51bGwgIT09IG5vZGVUYWc7ICkge1xuICAgICAgICAgICAgICAgIHZhciBncmFuZFRhZyA9IG5vZGVUYWcudGFnO1xuICAgICAgICAgICAgICAgIGlmICgzID09PSBncmFuZFRhZyB8fCA0ID09PSBncmFuZFRhZylcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKChncmFuZFRhZyA9IG5vZGVUYWcuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLFxuICAgICAgICAgICAgICAgICAgICBncmFuZFRhZyA9PT0gdGFyZ2V0Q29udGFpbmVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKDggPT09IGdyYW5kVGFnLm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFuZFRhZy5wYXJlbnROb2RlID09PSB0YXJnZXRDb250YWluZXIpKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgbm9kZVRhZyA9IG5vZGVUYWcucmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDsgbnVsbCAhPT0gY29udGFpbmVyOyApIHtcbiAgICAgICAgICAgICAgbm9kZVRhZyA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBub2RlVGFnKSByZXR1cm47XG4gICAgICAgICAgICAgIGdyYW5kVGFnID0gbm9kZVRhZy50YWc7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICA1ID09PSBncmFuZFRhZyB8fFxuICAgICAgICAgICAgICAgIDYgPT09IGdyYW5kVGFnIHx8XG4gICAgICAgICAgICAgICAgMjYgPT09IGdyYW5kVGFnIHx8XG4gICAgICAgICAgICAgICAgMjcgPT09IGdyYW5kVGFnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRhcmdldEluc3QkanNjb21wJDAgPSBhbmNlc3Rvckluc3QgPSBub2RlVGFnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGFpbmVyID0gY29udGFpbmVyLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhcmdldEluc3QkanNjb21wJDAgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgYmF0Y2hlZFVwZGF0ZXMkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXJnZXRJbnN0ID0gYW5jZXN0b3JJbnN0LFxuICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpLFxuICAgICAgICAgIGRpc3BhdGNoUXVldWUgPSBbXTtcbiAgICAgICAgYToge1xuICAgICAgICAgIHZhciByZWFjdE5hbWUgPSB0b3BMZXZlbEV2ZW50c1RvUmVhY3ROYW1lcy5nZXQoZG9tRXZlbnROYW1lKTtcbiAgICAgICAgICBpZiAodm9pZCAwICE9PSByZWFjdE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNFdmVudCxcbiAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBcImZvY3VzXCI7XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBcImJsdXJcIjtcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYmVmb3JlYmx1clwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYWZ0ZXJibHVyXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNsaWNrXCI6XG4gICAgICAgICAgICAgICAgaWYgKDIgPT09IG5hdGl2ZUV2ZW50LmJ1dHRvbikgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBcImF1eGNsaWNrXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkYmxjbGlja1wiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZW1vdmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNldXBcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlb3V0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImNvbnRleHRtZW51XCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2V4aXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdsZWF2ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ292ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNoY2FuY2VsXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaGVuZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwidG91Y2htb3ZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaHN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVG91Y2hFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBBTklNQVRJT05fRU5EOlxuICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9JVEVSQVRJT046XG4gICAgICAgICAgICAgIGNhc2UgQU5JTUFUSU9OX1NUQVJUOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFRSQU5TSVRJT05fRU5EOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsZW5kXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVUlFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIndoZWVsXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNvcHlcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImN1dFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicGFzdGVcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJsb3N0cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJjYW5jZWxcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJkb3duXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVybW92ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1BvaW50ZXJFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvZ2dsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYmVmb3JldG9nZ2xlXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVG9nZ2xlRXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5DYXB0dXJlUGhhc2UgPSAwICE9PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDQpLFxuICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSA9XG4gICAgICAgICAgICAgICAgIWluQ2FwdHVyZVBoYXNlICYmXG4gICAgICAgICAgICAgICAgKFwic2Nyb2xsXCIgPT09IGRvbUV2ZW50TmFtZSB8fCBcInNjcm9sbGVuZFwiID09PSBkb21FdmVudE5hbWUpLFxuICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSA9IGluQ2FwdHVyZVBoYXNlXG4gICAgICAgICAgICAgICAgPyBudWxsICE9PSByZWFjdE5hbWVcbiAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lICsgXCJDYXB0dXJlXCJcbiAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICAgIDogcmVhY3ROYW1lO1xuICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBbXTtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRhcmdldEluc3QsIGxhc3RIb3N0Q29tcG9uZW50O1xuICAgICAgICAgICAgICBudWxsICE9PSBpbnN0YW5jZTtcblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBfaW5zdGFuY2UyID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gX2luc3RhbmNlMi5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBfaW5zdGFuY2UyLnRhZztcbiAgICAgICAgICAgICAgKDUgIT09IF9pbnN0YW5jZTIgJiYgMjYgIT09IF9pbnN0YW5jZTIgJiYgMjcgIT09IF9pbnN0YW5jZTIpIHx8XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gbGFzdEhvc3RDb21wb25lbnQgfHxcbiAgICAgICAgICAgICAgICBudWxsID09PSByZWFjdEV2ZW50TmFtZSB8fFxuICAgICAgICAgICAgICAgICgoX2luc3RhbmNlMiA9IGdldExpc3RlbmVyKGluc3RhbmNlLCByZWFjdEV2ZW50TmFtZSkpLFxuICAgICAgICAgICAgICAgIG51bGwgIT0gX2luc3RhbmNlMiAmJlxuICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UucHVzaChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICBpZiAoYWNjdW11bGF0ZVRhcmdldE9ubHkpIGJyZWFrO1xuICAgICAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDAgPCBpbkNhcHR1cmVQaGFzZS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgKChyZWFjdE5hbWUgPSBuZXcgU3ludGhldGljRXZlbnRDdG9yKFxuICAgICAgICAgICAgICAgIHJlYWN0TmFtZSxcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2ZW50OiByZWFjdE5hbWUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBpbkNhcHR1cmVQaGFzZVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgwID09PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDcpKSB7XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgcmVhY3ROYW1lID1cbiAgICAgICAgICAgICAgXCJtb3VzZW92ZXJcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwicG9pbnRlcm92ZXJcIiA9PT0gZG9tRXZlbnROYW1lO1xuICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID1cbiAgICAgICAgICAgICAgXCJtb3VzZW91dFwiID09PSBkb21FdmVudE5hbWUgfHwgXCJwb2ludGVyb3V0XCIgPT09IGRvbUV2ZW50TmFtZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcmVhY3ROYW1lICYmXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50ICE9PSBjdXJyZW50UmVwbGF5aW5nRXZlbnQgJiZcbiAgICAgICAgICAgICAgKHJlYWN0RXZlbnRUeXBlID1cbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSAmJlxuICAgICAgICAgICAgICAoZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocmVhY3RFdmVudFR5cGUpIHx8XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGVbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yIHx8IHJlYWN0TmFtZSkge1xuICAgICAgICAgICAgICByZWFjdE5hbWUgPVxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICAgID8gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICAgIDogKHJlYWN0TmFtZSA9IG5hdGl2ZUV2ZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQpXG4gICAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lLmRlZmF1bHRWaWV3IHx8IHJlYWN0TmFtZS5wYXJlbnRXaW5kb3dcbiAgICAgICAgICAgICAgICAgICAgOiB3aW5kb3c7XG4gICAgICAgICAgICAgIGlmIChTeW50aGV0aWNFdmVudEN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAoKHJlYWN0RXZlbnRUeXBlID1cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldCB8fCBuYXRpdmVFdmVudC50b0VsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgKFN5bnRoZXRpY0V2ZW50Q3RvciA9IHRhcmdldEluc3QpLFxuICAgICAgICAgICAgICAgICAgKHJlYWN0RXZlbnRUeXBlID0gcmVhY3RFdmVudFR5cGVcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWFjdEV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJlYWN0RXZlbnRUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgICgoYWNjdW11bGF0ZVRhcmdldE9ubHkgPVxuICAgICAgICAgICAgICAgICAgICAgIGdldE5lYXJlc3RNb3VudGVkRmliZXIocmVhY3RFdmVudFR5cGUpKSxcbiAgICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlID0gcmVhY3RFdmVudFR5cGUudGFnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgIT09IGFjY3VtdWxhdGVUYXJnZXRPbmx5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgKDUgIT09IGluQ2FwdHVyZVBoYXNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAyNyAhPT0gaW5DYXB0dXJlUGhhc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDYgIT09IGluQ2FwdHVyZVBoYXNlKSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2UgKFN5bnRoZXRpY0V2ZW50Q3RvciA9IG51bGwpLCAocmVhY3RFdmVudFR5cGUgPSB0YXJnZXRJbnN0KTtcbiAgICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3RvciAhPT0gcmVhY3RFdmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IFN5bnRoZXRpY01vdXNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IFwib25Nb3VzZUxlYXZlXCI7XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSBcIm9uTW91c2VFbnRlclwiO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gXCJtb3VzZVwiO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIFwicG9pbnRlcm91dFwiID09PSBkb21FdmVudE5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIFwicG9pbnRlcm92ZXJcIiA9PT0gZG9tRXZlbnROYW1lXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlID0gU3ludGhldGljUG9pbnRlckV2ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgKF9pbnN0YW5jZTIgPSBcIm9uUG9pbnRlckxlYXZlXCIpLFxuICAgICAgICAgICAgICAgICAgICAocmVhY3RFdmVudE5hbWUgPSBcIm9uUG9pbnRlckVudGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICAoaW5zdGFuY2UgPSBcInBvaW50ZXJcIik7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZVRhcmdldE9ubHkgPVxuICAgICAgICAgICAgICAgICAgbnVsbCA9PSBTeW50aGV0aWNFdmVudEN0b3JcbiAgICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiBnZXROb2RlRnJvbUluc3RhbmNlKFN5bnRoZXRpY0V2ZW50Q3Rvcik7XG4gICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPVxuICAgICAgICAgICAgICAgICAgbnVsbCA9PSByZWFjdEV2ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICA/IHJlYWN0TmFtZVxuICAgICAgICAgICAgICAgICAgICA6IGdldE5vZGVGcm9tSW5zdGFuY2UocmVhY3RFdmVudFR5cGUpO1xuICAgICAgICAgICAgICAgIHJlYWN0TmFtZSA9IG5ldyBpbkNhcHR1cmVQaGFzZShcbiAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIsXG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSArIFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvcixcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJlYWN0TmFtZS50YXJnZXQgPSBhY2N1bXVsYXRlVGFyZ2V0T25seTtcbiAgICAgICAgICAgICAgICByZWFjdE5hbWUucmVsYXRlZFRhcmdldCA9IGxhc3RIb3N0Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5hdGl2ZUV2ZW50VGFyZ2V0KSA9PT0gdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgICAgICAgKChpbkNhcHR1cmVQaGFzZSA9IG5ldyBpbkNhcHR1cmVQaGFzZShcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlICsgXCJlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZS50YXJnZXQgPSBsYXN0SG9zdENvbXBvbmVudCksXG4gICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UucmVsYXRlZFRhcmdldCA9IGFjY3VtdWxhdGVUYXJnZXRPbmx5KSxcbiAgICAgICAgICAgICAgICAgIChfaW5zdGFuY2UyID0gaW5DYXB0dXJlUGhhc2UpKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSA9IF9pbnN0YW5jZTI7XG4gICAgICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3RvciAmJiByZWFjdEV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBTeW50aGV0aWNFdmVudEN0b3I7XG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gcmVhY3RFdmVudFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9IGluQ2FwdHVyZVBoYXNlO1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gZ2V0UGFyZW50KGxhc3RIb3N0Q29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UrKztcbiAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSByZWFjdEV2ZW50TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyO1xuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBnZXRQYXJlbnQoX2luc3RhbmNlMilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyAwIDwgaW5zdGFuY2UgLSBsYXN0SG9zdENvbXBvbmVudDsgKVxuICAgICAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZSA9IGdldFBhcmVudChpbkNhcHR1cmVQaGFzZSkpLCBpbnN0YW5jZS0tO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgMCA8IGxhc3RIb3N0Q29tcG9uZW50IC0gaW5zdGFuY2U7IClcbiAgICAgICAgICAgICAgICAgICAgICAocmVhY3RFdmVudE5hbWUgPSBnZXRQYXJlbnQocmVhY3RFdmVudE5hbWUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50LS07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpbnN0YW5jZS0tOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9PT0gcmVhY3RFdmVudE5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChudWxsICE9PSByZWFjdEV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9PT0gcmVhY3RFdmVudE5hbWUuYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBnZXRQYXJlbnQoaW5DYXB0dXJlUGhhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gZ2V0UGFyZW50KHJlYWN0RXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpbkNhcHR1cmVQaGFzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gU3ludGhldGljRXZlbnRDdG9yICYmXG4gICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlRW50ZXJMZWF2ZUxpc3RlbmVyc0ZvckV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICByZWFjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvcixcbiAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UsXG4gICAgICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG51bGwgIT09IHJlYWN0RXZlbnRUeXBlICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBhY2N1bXVsYXRlVGFyZ2V0T25seSAmJlxuICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZUVudGVyTGVhdmVMaXN0ZW5lcnNGb3JFdmVudChcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZVRhcmdldE9ubHksXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgcmVhY3ROYW1lID0gdGFyZ2V0SW5zdCA/IGdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG4gICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPVxuICAgICAgICAgICAgICByZWFjdE5hbWUubm9kZU5hbWUgJiYgcmVhY3ROYW1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwic2VsZWN0XCIgPT09IFN5bnRoZXRpY0V2ZW50Q3RvciB8fFxuICAgICAgICAgICAgICAoXCJpbnB1dFwiID09PSBTeW50aGV0aWNFdmVudEN0b3IgJiYgXCJmaWxlXCIgPT09IHJlYWN0TmFtZS50eXBlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQ7XG4gICAgICAgICAgICBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQocmVhY3ROYW1lKSlcbiAgICAgICAgICAgICAgaWYgKGlzSW5wdXRFdmVudFN1cHBvcnRlZClcbiAgICAgICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dE9yQ2hhbmdlRXZlbnQ7XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbDtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlRXZlbnRGdW5jID0gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIChTeW50aGV0aWNFdmVudEN0b3IgPSByZWFjdE5hbWUubm9kZU5hbWUpLFxuICAgICAgICAgICAgICAgICFTeW50aGV0aWNFdmVudEN0b3IgfHxcbiAgICAgICAgICAgICAgICBcImlucHV0XCIgIT09IFN5bnRoZXRpY0V2ZW50Q3Rvci50b0xvd2VyQ2FzZSgpIHx8XG4gICAgICAgICAgICAgICAgKFwiY2hlY2tib3hcIiAhPT0gcmVhY3ROYW1lLnR5cGUgJiYgXCJyYWRpb1wiICE9PSByZWFjdE5hbWUudHlwZSlcbiAgICAgICAgICAgICAgICAgID8gdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQodGFyZ2V0SW5zdC5lbGVtZW50VHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50KVxuICAgICAgICAgICAgICAgICAgOiAoZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jICYmXG4gICAgICAgICAgICAgIChnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGdW5jKGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyAmJlxuICAgICAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMoZG9tRXZlbnROYW1lLCByZWFjdE5hbWUsIHRhcmdldEluc3QpO1xuICAgICAgICAgICAgXCJmb2N1c291dFwiID09PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgICBcIm51bWJlclwiID09PSByZWFjdE5hbWUudHlwZSAmJlxuICAgICAgICAgICAgICBudWxsICE9IHRhcmdldEluc3QubWVtb2l6ZWRQcm9wcy52YWx1ZSAmJlxuICAgICAgICAgICAgICBzZXREZWZhdWx0VmFsdWUocmVhY3ROYW1lLCBcIm51bWJlclwiLCByZWFjdE5hbWUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSB0YXJnZXRJbnN0XG4gICAgICAgICAgICA/IGdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdClcbiAgICAgICAgICAgIDogd2luZG93O1xuICAgICAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXNUZXh0SW5wdXRFbGVtZW50KGhhbmRsZUV2ZW50RnVuYykgfHxcbiAgICAgICAgICAgICAgICBcInRydWVcIiA9PT0gaGFuZGxlRXZlbnRGdW5jLmNvbnRlbnRFZGl0YWJsZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKGFjdGl2ZUVsZW1lbnQgPSBoYW5kbGVFdmVudEZ1bmMpLFxuICAgICAgICAgICAgICAgICAgKGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdCksXG4gICAgICAgICAgICAgICAgICAobGFzdFNlbGVjdGlvbiA9IG51bGwpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gYWN0aXZlRWxlbWVudEluc3QgPSBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgICAgICAgIG1vdXNlRG93biA9ICEwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb250ZXh0bWVudVwiOlxuICAgICAgICAgICAgY2FzZSBcIm1vdXNldXBcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgICAgICAgIG1vdXNlRG93biA9ICExO1xuICAgICAgICAgICAgICBjb25zdHJ1Y3RTZWxlY3RFdmVudChcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdGlvbmNoYW5nZVwiOlxuICAgICAgICAgICAgICBpZiAoc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50KSBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgICAgICBjYXNlIFwia2V5dXBcIjpcbiAgICAgICAgICAgICAgY29uc3RydWN0U2VsZWN0RXZlbnQoXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZmFsbGJhY2tEYXRhO1xuICAgICAgICAgIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KVxuICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICB2YXIgZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uU3RhcnRcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25FbmRcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XG4gICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25VcGRhdGVcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZXZlbnRUeXBlID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlzQ29tcG9zaW5nXG4gICAgICAgICAgICAgID8gaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvbkVuZFwiKVxuICAgICAgICAgICAgICA6IFwia2V5ZG93blwiID09PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudC5rZXlDb2RlID09PSBTVEFSVF9LRVlDT0RFICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvblN0YXJ0XCIpO1xuICAgICAgICAgIGV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhICYmXG4gICAgICAgICAgICAgIFwia29cIiAhPT0gbmF0aXZlRXZlbnQubG9jYWxlICYmXG4gICAgICAgICAgICAgIChpc0NvbXBvc2luZyB8fCBcIm9uQ29tcG9zaXRpb25TdGFydFwiICE9PSBldmVudFR5cGVcbiAgICAgICAgICAgICAgICA/IFwib25Db21wb3NpdGlvbkVuZFwiID09PSBldmVudFR5cGUgJiZcbiAgICAgICAgICAgICAgICAgIGlzQ29tcG9zaW5nICYmXG4gICAgICAgICAgICAgICAgICAoZmFsbGJhY2tEYXRhID0gZ2V0RGF0YSgpKVxuICAgICAgICAgICAgICAgIDogKChyb290ID0gbmF0aXZlRXZlbnRUYXJnZXQpLFxuICAgICAgICAgICAgICAgICAgKHN0YXJ0VGV4dCA9IFwidmFsdWVcIiBpbiByb290ID8gcm9vdC52YWx1ZSA6IHJvb3QudGV4dENvbnRlbnQpLFxuICAgICAgICAgICAgICAgICAgKGlzQ29tcG9zaW5nID0gITApKSksXG4gICAgICAgICAgICAoaGFuZGxlRXZlbnRGdW5jID0gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKFxuICAgICAgICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICAgICAgICBldmVudFR5cGVcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgMCA8IGhhbmRsZUV2ZW50RnVuYy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgKChldmVudFR5cGUgPSBuZXcgU3ludGhldGljQ29tcG9zaXRpb25FdmVudChcbiAgICAgICAgICAgICAgICBldmVudFR5cGUsXG4gICAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGhhbmRsZUV2ZW50RnVuY1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgZmFsbGJhY2tEYXRhXG4gICAgICAgICAgICAgICAgPyAoZXZlbnRUeXBlLmRhdGEgPSBmYWxsYmFja0RhdGEpXG4gICAgICAgICAgICAgICAgOiAoKGZhbGxiYWNrRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGZhbGxiYWNrRGF0YSAmJiAoZXZlbnRUeXBlLmRhdGEgPSBmYWxsYmFja0RhdGEpKSkpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChmYWxsYmFja0RhdGEgPSBjYW5Vc2VUZXh0SW5wdXRFdmVudFxuICAgICAgICAgICAgICA/IGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudClcbiAgICAgICAgICAgICAgOiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKGV2ZW50VHlwZSA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhcbiAgICAgICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgXCJvbkJlZm9yZUlucHV0XCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAwIDwgZXZlbnRUeXBlLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICgoaGFuZGxlRXZlbnRGdW5jID0gbmV3IFN5bnRoZXRpY0lucHV0RXZlbnQoXG4gICAgICAgICAgICAgICAgICBcIm9uQmVmb3JlSW5wdXRcIixcbiAgICAgICAgICAgICAgICAgIFwiYmVmb3JlaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiBoYW5kbGVFdmVudEZ1bmMsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGV2ZW50VHlwZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIChoYW5kbGVFdmVudEZ1bmMuZGF0YSA9IGZhbGxiYWNrRGF0YSkpO1xuICAgICAgICAgIGV4dHJhY3RFdmVudHMkMShcbiAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0Rpc3BhdGNoUXVldWUoZGlzcGF0Y2hRdWV1ZSwgZXZlbnRTeXN0ZW1GbGFncyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcihpbnN0YW5jZSwgbGlzdGVuZXIsIGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBjdXJyZW50VGFyZ2V0XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnModGFyZ2V0RmliZXIsIHJlYWN0TmFtZSkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIGNhcHR1cmVOYW1lID0gcmVhY3ROYW1lICsgXCJDYXB0dXJlXCIsIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBudWxsICE9PSB0YXJnZXRGaWJlcjtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBfaW5zdGFuY2UzID0gdGFyZ2V0RmliZXIsXG4gICAgICAgICAgc3RhdGVOb2RlID0gX2luc3RhbmNlMy5zdGF0ZU5vZGU7XG4gICAgICAgIF9pbnN0YW5jZTMgPSBfaW5zdGFuY2UzLnRhZztcbiAgICAgICAgKDUgIT09IF9pbnN0YW5jZTMgJiYgMjYgIT09IF9pbnN0YW5jZTMgJiYgMjcgIT09IF9pbnN0YW5jZTMpIHx8XG4gICAgICAgICAgbnVsbCA9PT0gc3RhdGVOb2RlIHx8XG4gICAgICAgICAgKChfaW5zdGFuY2UzID0gZ2V0TGlzdGVuZXIodGFyZ2V0RmliZXIsIGNhcHR1cmVOYW1lKSksXG4gICAgICAgICAgbnVsbCAhPSBfaW5zdGFuY2UzICYmXG4gICAgICAgICAgICBsaXN0ZW5lcnMudW5zaGlmdChcbiAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcih0YXJnZXRGaWJlciwgX2luc3RhbmNlMywgc3RhdGVOb2RlKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAoX2luc3RhbmNlMyA9IGdldExpc3RlbmVyKHRhcmdldEZpYmVyLCByZWFjdE5hbWUpKSxcbiAgICAgICAgICBudWxsICE9IF9pbnN0YW5jZTMgJiZcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKFxuICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldEZpYmVyLCBfaW5zdGFuY2UzLCBzdGF0ZU5vZGUpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgdGFyZ2V0RmliZXIgPSB0YXJnZXRGaWJlci5yZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQYXJlbnQoaW5zdCkge1xuICAgICAgaWYgKG51bGwgPT09IGluc3QpIHJldHVybiBudWxsO1xuICAgICAgZG8gaW5zdCA9IGluc3QucmV0dXJuO1xuICAgICAgd2hpbGUgKGluc3QgJiYgNSAhPT0gaW5zdC50YWcgJiYgMjcgIT09IGluc3QudGFnKTtcbiAgICAgIHJldHVybiBpbnN0ID8gaW5zdCA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVFbnRlckxlYXZlTGlzdGVuZXJzRm9yRXZlbnQoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgZXZlbnQsXG4gICAgICB0YXJnZXQsXG4gICAgICBjb21tb24sXG4gICAgICBpbkNhcHR1cmVQaGFzZVxuICAgICkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBldmVudC5fcmVhY3ROYW1lLCBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgbnVsbCAhPT0gdGFyZ2V0ICYmIHRhcmdldCAhPT0gY29tbW9uO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTQgPSB0YXJnZXQsXG4gICAgICAgICAgYWx0ZXJuYXRlID0gX2luc3RhbmNlNC5hbHRlcm5hdGUsXG4gICAgICAgICAgc3RhdGVOb2RlID0gX2luc3RhbmNlNC5zdGF0ZU5vZGU7XG4gICAgICAgIF9pbnN0YW5jZTQgPSBfaW5zdGFuY2U0LnRhZztcbiAgICAgICAgaWYgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBhbHRlcm5hdGUgPT09IGNvbW1vbikgYnJlYWs7XG4gICAgICAgICg1ICE9PSBfaW5zdGFuY2U0ICYmIDI2ICE9PSBfaW5zdGFuY2U0ICYmIDI3ICE9PSBfaW5zdGFuY2U0KSB8fFxuICAgICAgICAgIG51bGwgPT09IHN0YXRlTm9kZSB8fFxuICAgICAgICAgICgoYWx0ZXJuYXRlID0gc3RhdGVOb2RlKSxcbiAgICAgICAgICBpbkNhcHR1cmVQaGFzZVxuICAgICAgICAgICAgPyAoKHN0YXRlTm9kZSA9IGdldExpc3RlbmVyKHRhcmdldCwgcmVnaXN0cmF0aW9uTmFtZSkpLFxuICAgICAgICAgICAgICBudWxsICE9IHN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy51bnNoaWZ0KFxuICAgICAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcih0YXJnZXQsIHN0YXRlTm9kZSwgYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6IGluQ2FwdHVyZVBoYXNlIHx8XG4gICAgICAgICAgICAgICgoc3RhdGVOb2RlID0gZ2V0TGlzdGVuZXIodGFyZ2V0LCByZWdpc3RyYXRpb25OYW1lKSksXG4gICAgICAgICAgICAgIG51bGwgIT0gc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldCwgc3RhdGVOb2RlLCBhbHRlcm5hdGUpXG4gICAgICAgICAgICAgICAgKSkpO1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucmV0dXJuO1xuICAgICAgfVxuICAgICAgMCAhPT0gbGlzdGVuZXJzLmxlbmd0aCAmJlxuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyBldmVudDogZXZlbnQsIGxpc3RlbmVyczogbGlzdGVuZXJzIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHR5cGUsIHByb3BzKSB7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXMkMih0eXBlLCBwcm9wcyk7XG4gICAgICAoXCJpbnB1dFwiICE9PSB0eXBlICYmIFwidGV4dGFyZWFcIiAhPT0gdHlwZSAmJiBcInNlbGVjdFwiICE9PSB0eXBlKSB8fFxuICAgICAgICBudWxsID09IHByb3BzIHx8XG4gICAgICAgIG51bGwgIT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWx1ZU51bGwgfHxcbiAgICAgICAgKChkaWRXYXJuVmFsdWVOdWxsID0gITApLFxuICAgICAgICBcInNlbGVjdFwiID09PSB0eXBlICYmIHByb3BzLm11bHRpcGxlXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImB2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gQ29uc2lkZXIgdXNpbmcgYW4gZW1wdHkgYXJyYXkgd2hlbiBgbXVsdGlwbGVgIGlzIHNldCB0byBgdHJ1ZWAgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCBmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuXCIsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiBDb25zaWRlciB1c2luZyBhbiBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCBmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuXCIsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICkpO1xuICAgICAgdmFyIGV2ZW50UmVnaXN0cnkgPSB7XG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMsXG4gICAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6IHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNcbiAgICAgIH07XG4gICAgICBpc0N1c3RvbUVsZW1lbnQodHlwZSkgfHxcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLmlzIHx8XG4gICAgICAgIHdhcm5Vbmtub3duUHJvcGVydGllcyh0eXBlLCBwcm9wcywgZXZlbnRSZWdpc3RyeSk7XG4gICAgICBwcm9wcy5jb250ZW50RWRpdGFibGUgJiZcbiAgICAgICAgIXByb3BzLnN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyAmJlxuICAgICAgICBudWxsICE9IHByb3BzLmNoaWxkcmVuICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBIGNvbXBvbmVudCBpcyBgY29udGVudEVkaXRhYmxlYCBhbmQgY29udGFpbnMgYGNoaWxkcmVuYCBtYW5hZ2VkIGJ5IFJlYWN0LiBJdCBpcyBub3cgeW91ciByZXNwb25zaWJpbGl0eSB0byBndWFyYW50ZWUgdGhhdCBub25lIG9mIHRob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyBwcm9iYWJseSBub3QgaW50ZW50aW9uYWwuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgcHJvcE5hbWUsXG4gICAgICBzZXJ2ZXJWYWx1ZSxcbiAgICAgIGNsaWVudFZhbHVlLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIHNlcnZlclZhbHVlICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAoKGNsaWVudFZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFZhbHVlKSksXG4gICAgICAgIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJWYWx1ZSkgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzW3Byb3BOYW1lXSA9IHNlcnZlclZhbHVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgYXR0cmlidXRlTmFtZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgYXR0cmlidXRlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1tnZXRQcm9wTmFtZUZyb21BdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpXSA9XG4gICAgICAgICAgXCJzdHlsZVwiID09PSBhdHRyaWJ1dGVOYW1lXG4gICAgICAgICAgICA/IGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGRvbUVsZW1lbnQpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihyZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgITEgPT09IGxpc3RlbmVyXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBgZmFsc2VgLlxcblxcbklmIHlvdSB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgb21pdCBpdCB3aXRoICVzPXtjb25kaXRpb24gJiYgdmFsdWV9LCBwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYCVzYCB0eXBlLlwiLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICAgIHR5cGVvZiBsaXN0ZW5lclxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUhUTUwocGFyZW50LCBodG1sKSB7XG4gICAgICBwYXJlbnQgPVxuICAgICAgICBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBNQVRIX05BTUVTUEFDRSB8fFxuICAgICAgICBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBTVkdfTkFNRVNQQUNFXG4gICAgICAgICAgPyBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgICAgIHBhcmVudC5uYW1lc3BhY2VVUkksXG4gICAgICAgICAgICAgIHBhcmVudC50YWdOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHBhcmVudC50YWdOYW1lKTtcbiAgICAgIHBhcmVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIHBhcmVudC5pbm5lckhUTUw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShtYXJrdXApIHtcbiAgICAgIHdpbGxDb2VyY2lvblRocm93KG1hcmt1cCkgJiZcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQgSFRNTCBtYXJrdXAgdXNlcyBhIHZhbHVlIG9mIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIHR5cGVOYW1lKG1hcmt1cClcbiAgICAgICAgKSxcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKG1hcmt1cCkpO1xuICAgICAgcmV0dXJuIChcInN0cmluZ1wiID09PSB0eXBlb2YgbWFya3VwID8gbWFya3VwIDogXCJcIiArIG1hcmt1cClcbiAgICAgICAgLnJlcGxhY2UoTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYLCBcIlxcblwiKVxuICAgICAgICAucmVwbGFjZShOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVgsIFwiXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0ZvclVubWF0Y2hlZFRleHQoc2VydmVyVGV4dCwgY2xpZW50VGV4dCkge1xuICAgICAgY2xpZW50VGV4dCA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShjbGllbnRUZXh0KTtcbiAgICAgIHJldHVybiBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoc2VydmVyVGV4dCkgPT09IGNsaWVudFRleHRcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDEoKSB7fVxuICAgIGZ1bmN0aW9uIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBrZXksIHZhbHVlLCBwcm9wcywgcHJldlZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlKVxuICAgICAgICAgICAgdmFsaWRhdGVUZXh0TmVzdGluZyh2YWx1ZSwgdGFnKSxcbiAgICAgICAgICAgICAgXCJib2R5XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgICAgIChcInRleHRhcmVhXCIgPT09IHRhZyAmJiBcIlwiID09PSB2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgICAgZWxzZSBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiYmlnaW50XCIgPT09IHR5cGVvZiB2YWx1ZSlcbiAgICAgICAgICAgIHZhbGlkYXRlVGV4dE5lc3RpbmcoXCJcIiArIHZhbHVlLCB0YWcpLFxuICAgICAgICAgICAgICBcImJvZHlcIiAhPT0gdGFnICYmIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjbGFzc05hbWVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwiY2xhc3NcIiwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFiSW5kZXhcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwidGFiaW5kZXhcIiwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGlyXCI6XG4gICAgICAgIGNhc2UgXCJyb2xlXCI6XG4gICAgICAgIGNhc2UgXCJ2aWV3Qm94XCI6XG4gICAgICAgIGNhc2UgXCJ3aWR0aFwiOlxuICAgICAgICBjYXNlIFwiaGVpZ2h0XCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShkb21FbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHRhZykge1xuICAgICAgICAgICAgc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShkb21FbGVtZW50LCBcImRhdGFcIiwgdmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgaWYgKFwiXCIgPT09IHZhbHVlICYmIChcImFcIiAhPT0gdGFnIHx8IFwiaHJlZlwiICE9PSBrZXkpKSB7XG4gICAgICAgICAgICBcInNyY1wiID09PSBrZXlcbiAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgJ0FuIGVtcHR5IHN0cmluZyAoXCJcIikgd2FzIHBhc3NlZCB0byB0aGUgJXMgYXR0cmlidXRlLiBUaGlzIG1heSBjYXVzZSB0aGUgYnJvd3NlciB0byBkb3dubG9hZCB0aGUgd2hvbGUgcGFnZSBhZ2FpbiBvdmVyIHRoZSBuZXR3b3JrLiBUbyBmaXggdGhpcywgZWl0aGVyIGRvIG5vdCByZW5kZXIgdGhlIGVsZW1lbnQgYXQgYWxsIG9yIHBhc3MgbnVsbCB0byAlcyBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy4nLFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJmb3JtQWN0aW9uXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZm9ybVwiID09PSB0YWdcbiAgICAgICAgICAgICAgPyBcImZvcm1BY3Rpb25cIiA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIllvdSBjYW4gb25seSBwYXNzIHRoZSBmb3JtQWN0aW9uIHByb3AgdG8gPGlucHV0PiBvciA8YnV0dG9uPi4gVXNlIHRoZSBhY3Rpb24gcHJvcCBvbiA8Zm9ybT4uXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAoKG51bGwgPT0gcHJvcHMuZW5jVHlwZSAmJiBudWxsID09IHByb3BzLm1ldGhvZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgZW5jVHlwZSBvciBtZXRob2QgZm9yIGEgZm9ybSB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIHRoZSBhY3Rpb24uIFJlYWN0IHByb3ZpZGVzIHRob3NlIGF1dG9tYXRpY2FsbHkuIFRoZXkgd2lsbCBnZXQgb3ZlcnJpZGRlbi5cIlxuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT0gcHJvcHMudGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIHRhcmdldCBmb3IgYSBmb3JtIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgdGhlIGFjdGlvbi4gVGhlIGZ1bmN0aW9uIHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkIGluIHRoZSBzYW1lIHdpbmRvdy5cIlxuICAgICAgICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgICAgOiBcImlucHV0XCIgPT09IHRhZyB8fCBcImJ1dHRvblwiID09PSB0YWdcbiAgICAgICAgICAgICAgICA/IFwiYWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGFjdGlvbiBwcm9wIHRvIDxmb3JtPi4gVXNlIHRoZSBmb3JtQWN0aW9uIHByb3Agb24gPGlucHV0PiBvciA8YnV0dG9uPi5cIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IFwiaW5wdXRcIiAhPT0gdGFnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRcIiA9PT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VcIiA9PT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVHlwZVxuICAgICAgICAgICAgICAgICAgICA/IFwiYnV0dG9uXCIgIT09IHRhZyB8fFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0XCIgPT09IHByb3BzLnR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvblR5cGVcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBwcm9wcy5uYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uTmFtZSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHNwZWNpZnkgYSBcIm5hbWVcIiBwcm9wIGZvciBhIGJ1dHRvbiB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIGEgZm9ybUFjdGlvbi4gUmVhY3QgbmVlZHMgaXQgdG8gZW5jb2RlIHdoaWNoIGFjdGlvbiBzaG91bGQgYmUgaW52b2tlZC4gSXQgd2lsbCBnZXQgb3ZlcnJpZGRlbi4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gcHJvcHMuZm9ybUVuY1R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy5mb3JtTWV0aG9kKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNwZWNpZnkgYSBmb3JtRW5jVHlwZSBvciBmb3JtTWV0aG9kIGZvciBhIGJ1dHRvbiB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIGEgZm9ybUFjdGlvbi4gUmVhY3QgcHJvdmlkZXMgdGhvc2UgYXV0b21hdGljYWxseS4gVGhleSB3aWxsIGdldCBvdmVycmlkZGVuLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy5mb3JtVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIGZvcm1UYXJnZXQgZm9yIGEgYnV0dG9uIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgYSBmb3JtQWN0aW9uLiBUaGUgZnVuY3Rpb24gd2lsbCBhbHdheXMgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgd2luZG93LlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChkaWRXYXJuRm9ybUFjdGlvblR5cGUgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnQSBidXR0b24gY2FuIG9ubHkgc3BlY2lmeSBhIGZvcm1BY3Rpb24gYWxvbmcgd2l0aCB0eXBlPVwic3VibWl0XCIgb3Igbm8gdHlwZS4nXG4gICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICA6ICgoZGlkV2FybkZvcm1BY3Rpb25UeXBlID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAnQW4gaW5wdXQgY2FuIG9ubHkgc3BlY2lmeSBhIGZvcm1BY3Rpb24gYWxvbmcgd2l0aCB0eXBlPVwic3VibWl0XCIgb3IgdHlwZT1cImltYWdlXCIuJ1xuICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgOiBcImFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIllvdSBjYW4gb25seSBwYXNzIHRoZSBhY3Rpb24gcHJvcCB0byA8Zm9ybT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGZvcm1BY3Rpb24gcHJvcCB0byA8aW5wdXQ+IG9yIDxidXR0b24+LlwiXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgXCJqYXZhc2NyaXB0OnRocm93IG5ldyBFcnJvcignQSBSZWFjdCBmb3JtIHdhcyB1bmV4cGVjdGVkbHkgc3VibWl0dGVkLiBJZiB5b3UgY2FsbGVkIGZvcm0uc3VibWl0KCkgbWFudWFsbHksIGNvbnNpZGVyIHVzaW5nIGZvcm0ucmVxdWVzdFN1Ym1pdCgpIGluc3RlYWQuIElmIHlvdVxcXFwncmUgdHJ5aW5nIHRvIHVzZSBldmVudC5zdG9wUHJvcGFnYXRpb24oKSBpbiBhIHN1Ym1pdCBldmVudCBoYW5kbGVyLCBjb25zaWRlciBhbHNvIGNhbGxpbmcgZXZlbnQucHJldmVudERlZmF1bHQoKS4nKVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgICAgKFwiZm9ybUFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICA/IChcImlucHV0XCIgIT09IHRhZyAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJuYW1lXCIsIHByb3BzLm5hbWUsIHByb3BzLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtRW5jVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybU1ldGhvZFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5mb3JtTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtVGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZvcm1UYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgIDogKHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJlbmNUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmVuY1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIFwibWV0aG9kXCIsIHByb3BzLm1ldGhvZCwgcHJvcHMsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcInRhcmdldFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25DbGlja1wiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICAoZG9tRWxlbWVudC5vbmNsaWNrID0gbm9vcCQxKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvblNjcm9sbFwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsXCIsIGRvbUVsZW1lbnQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsRW5kXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxlbmRcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSB8fCAhKFwiX19odG1sXCIgaW4gdmFsdWUpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL3JlYWN0LmRldi9saW5rL2Rhbmdlcm91c2x5LXNldC1pbm5lci1odG1sIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBrZXkgPSB2YWx1ZS5fX2h0bWw7XG4gICAgICAgICAgICBpZiAobnVsbCAhPSBrZXkpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICBkb21FbGVtZW50Lm11bHRpcGxlID1cbiAgICAgICAgICAgIHZhbHVlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgZG9tRWxlbWVudC5tdXRlZCA9XG4gICAgICAgICAgICB2YWx1ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgIGNhc2UgXCJyZWZcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImF1dG9Gb2N1c1wiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtIcmVmXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSk7XG4gICAgICAgICAga2V5ID0gc2FuaXRpemVVUkwoXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZU5TKHhsaW5rTmFtZXNwYWNlLCBcInhsaW5rOmhyZWZcIiwga2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICBjYXNlIFwic3BlbGxDaGVja1wiOlxuICAgICAgICBjYXNlIFwiZHJhZ2dhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICBjYXNlIFwiYXV0b1JldmVyc2VcIjpcbiAgICAgICAgY2FzZSBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIjpcbiAgICAgICAgY2FzZSBcImZvY3VzYWJsZVwiOlxuICAgICAgICBjYXNlIFwicHJlc2VydmVBbHBoYVwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiICsgdmFsdWUpKVxuICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICBcIlwiICE9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW2tleV0gfHxcbiAgICAgICAgICAgICgoZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW2tleV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIGVtcHR5IHN0cmluZyBmb3IgYSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiBUaGlzIHdpbGwgdHJlYXQgdGhlIGF0dHJpYnV0ZSBhcyBpZiBpdCB3ZXJlIGZhbHNlLiBFaXRoZXIgcGFzcyBgZmFsc2VgIHRvIHNpbGVuY2UgdGhpcyB3YXJuaW5nLCBvciBwYXNzIGB0cnVlYCBpZiB5b3UgdXNlZCBhbiBlbXB0eSBzdHJpbmcgaW4gZWFybGllciB2ZXJzaW9ucyBvZiBSZWFjdCB0byBpbmRpY2F0ZSB0aGlzIGF0dHJpYnV0ZSBpcyB0cnVlLlwiLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICkpO1xuICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgIGNhc2UgXCJhc3luY1wiOlxuICAgICAgICBjYXNlIFwiYXV0b1BsYXlcIjpcbiAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgIGNhc2UgXCJkZWZlclwiOlxuICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgY2FzZSBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpcbiAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgIGNhc2UgXCJub1ZhbGlkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICBjYXNlIFwicmVhZE9ubHlcIjpcbiAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICBjYXNlIFwic2NvcGVkXCI6XG4gICAgICAgIGNhc2UgXCJzZWFtbGVzc1wiOlxuICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgdmFsdWUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiYgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICA/IGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgXCJcIilcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcImRvd25sb2FkXCI6XG4gICAgICAgICAgITAgPT09IHZhbHVlXG4gICAgICAgICAgICA/IGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgXCJcIilcbiAgICAgICAgICAgIDogITEgIT09IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSksXG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbHNcIjpcbiAgICAgICAgY2FzZSBcInJvd3NcIjpcbiAgICAgICAgY2FzZSBcInNpemVcIjpcbiAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAhaXNOYU4odmFsdWUpICYmXG4gICAgICAgICAgMSA8PSB2YWx1ZVxuICAgICAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyb3dTcGFuXCI6XG4gICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgIGlzTmFOKHZhbHVlKVxuICAgICAgICAgICAgPyBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpXG4gICAgICAgICAgICA6IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3BvdmVyXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImJlZm9yZXRvZ2dsZVwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwidG9nZ2xlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHNldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwicG9wb3ZlclwiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua0FjdHVhdGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOmFjdHVhdGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rQXJjcm9sZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6YXJjcm9sZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtSb2xlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazpyb2xlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1Nob3dcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnNob3dcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rVGl0bGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnRpdGxlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1R5cGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnR5cGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhtbEJhc2VcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeG1sTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bWw6YmFzZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG1sTGFuZ1wiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhtbDpsYW5nXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bWxTcGFjZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhtbDpzcGFjZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaXNcIjpcbiAgICAgICAgICBudWxsICE9IHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJ0Nhbm5vdCB1cGRhdGUgdGhlIFwiaXNcIiBwcm9wIGFmdGVyIGl0IGhhcyBiZWVuIGluaXRpYWxpemVkLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJpc1wiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbm5lclRleHRcIjpcbiAgICAgICAgY2FzZSBcInRleHRDb250ZW50XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3BvdmVyVGFyZ2V0XCI6XG4gICAgICAgICAgZGlkV2FyblBvcG92ZXJUYXJnZXRPYmplY3QgfHxcbiAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgKChkaWRXYXJuUG9wb3ZlclRhcmdldE9iamVjdCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiVGhlIGBwb3BvdmVyVGFyZ2V0YCBwcm9wIGV4cGVjdHMgdGhlIElEIG9mIGFuIEVsZW1lbnQgYXMgYSBzdHJpbmcuIFJlY2VpdmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAhKDIgPCBrZXkubGVuZ3RoKSB8fFxuICAgICAgICAgIChcIm9cIiAhPT0ga2V5WzBdICYmIFwiT1wiICE9PSBrZXlbMF0pIHx8XG4gICAgICAgICAgKFwiblwiICE9PSBrZXlbMV0gJiYgXCJOXCIgIT09IGtleVsxXSlcbiAgICAgICAgICAgID8gKChrZXkgPSBnZXRBdHRyaWJ1dGVBbGlhcyhrZXkpKSxcbiAgICAgICAgICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwga2V5LCB2YWx1ZSkpXG4gICAgICAgICAgICA6IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJlxuICAgICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICB0YWcsXG4gICAgICBrZXksXG4gICAgICB2YWx1ZSxcbiAgICAgIHByb3BzLFxuICAgICAgcHJldlZhbHVlXG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSwgcHJldlZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgaWYgKG51bGwgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0eXBlb2YgdmFsdWUgfHwgIShcIl9faHRtbFwiIGluIHZhbHVlKSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAga2V5ID0gdmFsdWUuX19odG1sO1xuICAgICAgICAgICAgaWYgKG51bGwgIT0ga2V5KSB7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9IHByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICA/IHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHZhbHVlKVxuICAgICAgICAgICAgOiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiYmlnaW50XCIgPT09IHR5cGVvZiB2YWx1ZSkgJiZcbiAgICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxFbmRcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbGVuZFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbkNsaWNrXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIChkb21FbGVtZW50Lm9uY2xpY2sgPSBub29wJDEpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5uZXJUZXh0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0Q29udGVudFwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9cIiA9PT0ga2V5WzBdICYmXG4gICAgICAgICAgICAgICAgXCJuXCIgPT09IGtleVsxXSAmJlxuICAgICAgICAgICAgICAgICgocHJvcHMgPSBrZXkuZW5kc1dpdGgoXCJDYXB0dXJlXCIpKSxcbiAgICAgICAgICAgICAgICAodGFnID0ga2V5LnNsaWNlKDIsIHByb3BzID8ga2V5Lmxlbmd0aCAtIDcgOiB2b2lkIDApKSxcbiAgICAgICAgICAgICAgICAocHJldlZhbHVlID0gZG9tRWxlbWVudFtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICAocHJldlZhbHVlID0gbnVsbCAhPSBwcmV2VmFsdWUgPyBwcmV2VmFsdWVba2V5XSA6IG51bGwpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRhZywgcHJldlZhbHVlLCBwcm9wcyksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAoa2V5IGluIGRvbUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgPyAoZG9tRWxlbWVudFtrZXldID0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgOiBkb21FbGVtZW50Lmhhc0F0dHJpYnV0ZShrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRhZywgdmFsdWUsIHByb3BzKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGtleSBpbiBkb21FbGVtZW50XG4gICAgICAgICAgICAgICAgPyAoZG9tRWxlbWVudFtrZXldID0gdmFsdWUpXG4gICAgICAgICAgICAgICAgOiAhMCA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgID8gZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKVxuICAgICAgICAgICAgICAgICAgOiBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0SW5pdGlhbFByb3BlcnRpZXMoZG9tRWxlbWVudCwgdGFnLCBwcm9wcykge1xuICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIHByb3BzKTtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgXCJkaXZcIjpcbiAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICBjYXNlIFwiZ1wiOlxuICAgICAgICBjYXNlIFwicFwiOlxuICAgICAgICBjYXNlIFwibGlcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICB2YXIgaGFzU3JjID0gITEsXG4gICAgICAgICAgICBoYXNTcmNTZXQgPSAhMSxcbiAgICAgICAgICAgIHByb3BLZXk7XG4gICAgICAgICAgZm9yIChwcm9wS2V5IGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wS2V5XTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcFZhbHVlKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgICAgICAgICAgICBoYXNTcmMgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3JjU2V0XCI6XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgcHJvcEtleSwgcHJvcFZhbHVlLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGhhc1NyY1NldCAmJlxuICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIFwic3JjU2V0XCIsIHByb3BzLnNyY1NldCwgcHJvcHMsIG51bGwpO1xuICAgICAgICAgIGhhc1NyYyAmJiBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJzcmNcIiwgcHJvcHMuc3JjLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwiaW5wdXRcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSAocHJvcEtleSA9IHByb3BWYWx1ZSA9IGhhc1NyY1NldCA9IG51bGwpLFxuICAgICAgICAgICAgY2hlY2tlZCA9IG51bGwsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IG51bGw7XG4gICAgICAgICAgZm9yIChoYXNTcmMgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoaGFzU3JjKSkge1xuICAgICAgICAgICAgICB2YXIgX3Byb3BWYWx1ZSA9IHByb3BzW2hhc1NyY107XG4gICAgICAgICAgICAgIGlmIChudWxsICE9IF9wcm9wVmFsdWUpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChoYXNTcmMpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gX3Byb3BWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBoYXNTcmMsIF9wcm9wVmFsdWUsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgdmFsaWRhdGVJbnB1dFByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICBpbml0SW5wdXQoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgIHByb3BWYWx1ZSxcbiAgICAgICAgICAgIGhhc1NyY1NldCxcbiAgICAgICAgICAgICExXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwic2VsZWN0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBoYXNTcmMgPSBwcm9wVmFsdWUgPSBwcm9wS2V5ID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGhhc1NyY1NldCBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoaGFzU3JjU2V0KSAmJlxuICAgICAgICAgICAgICAoKGRlZmF1bHRWYWx1ZSA9IHByb3BzW2hhc1NyY1NldF0pLCBudWxsICE9IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChoYXNTcmNTZXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgIGhhc1NyYyA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBoYXNTcmNTZXQsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB2YWxpZGF0ZVNlbGVjdFByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICB0YWcgPSBwcm9wS2V5O1xuICAgICAgICAgIHByb3BzID0gcHJvcFZhbHVlO1xuICAgICAgICAgIGRvbUVsZW1lbnQubXVsdGlwbGUgPSAhIWhhc1NyYztcbiAgICAgICAgICBudWxsICE9IHRhZ1xuICAgICAgICAgICAgPyB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhaGFzU3JjLCB0YWcsICExKVxuICAgICAgICAgICAgOiBudWxsICE9IHByb3BzICYmIHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISFoYXNTcmMsIHByb3BzLCAhMCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwidGV4dGFyZWFcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHByb3BLZXkgPSBoYXNTcmNTZXQgPSBoYXNTcmMgPSBudWxsO1xuICAgICAgICAgIGZvciAocHJvcFZhbHVlIGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wVmFsdWUpICYmXG4gICAgICAgICAgICAgICgoZGVmYXVsdFZhbHVlID0gcHJvcHNbcHJvcFZhbHVlXSksIG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgaGFzU3JjID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlVGV4dGFyZWFQcm9wcyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICAgICAgaW5pdFRleHRhcmVhKGRvbUVsZW1lbnQsIGhhc1NyYywgaGFzU3JjU2V0LCBwcm9wS2V5KTtcbiAgICAgICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICB2YWxpZGF0ZU9wdGlvblByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICBmb3IgKGNoZWNrZWQgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGNoZWNrZWQpICYmXG4gICAgICAgICAgICAgICgoaGFzU3JjID0gcHJvcHNbY2hlY2tlZF0pLCBudWxsICE9IGhhc1NyYylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNlbGVjdGVkID1cbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGhhc1NyYyAmJlxuICAgICAgICAgICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgaGFzU3JjO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBjaGVja2VkLCBoYXNTcmMsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcImRpYWxvZ1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJjYW5jZWxcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNsb3NlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaWZyYW1lXCI6XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIGZvciAoaGFzU3JjID0gMDsgaGFzU3JjIDwgbWVkaWFFdmVudFR5cGVzLmxlbmd0aDsgaGFzU3JjKyspXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KG1lZGlhRXZlbnRUeXBlc1toYXNTcmNdLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGV0YWlsc1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbWJlZFwiOlxuICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRvbUVsZW1lbnQpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgIGNhc2UgXCJhcmVhXCI6XG4gICAgICAgIGNhc2UgXCJiYXNlXCI6XG4gICAgICAgIGNhc2UgXCJiclwiOlxuICAgICAgICBjYXNlIFwiY29sXCI6XG4gICAgICAgIGNhc2UgXCJoclwiOlxuICAgICAgICBjYXNlIFwia2V5Z2VuXCI6XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICBjYXNlIFwidHJhY2tcIjpcbiAgICAgICAgY2FzZSBcIndiclwiOlxuICAgICAgICBjYXNlIFwibWVudWl0ZW1cIjpcbiAgICAgICAgICBmb3IgKGRlZmF1bHRDaGVja2VkIGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0Q2hlY2tlZCkgJiZcbiAgICAgICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tkZWZhdWx0Q2hlY2tlZF0pLCBudWxsICE9IGhhc1NyYylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChkZWZhdWx0Q2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGRlZmF1bHRDaGVja2VkLCBoYXNTcmMsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoaXNDdXN0b21FbGVtZW50KHRhZykpIHtcbiAgICAgICAgICAgIGZvciAoX3Byb3BWYWx1ZSBpbiBwcm9wcylcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW19wcm9wVmFsdWVdKSxcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGhhc1NyYyAmJlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBoYXNTcmMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoZGVmYXVsdFZhbHVlIGluIHByb3BzKVxuICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0VmFsdWUpICYmXG4gICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tkZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICBudWxsICE9IGhhc1NyYyAmJlxuICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGRlZmF1bHRWYWx1ZSwgaGFzU3JjLCBwcm9wcywgbnVsbCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHRhZywgbGFzdFByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCBuZXh0UHJvcHMpO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImRpdlwiOlxuICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgIGNhc2UgXCJwYXRoXCI6XG4gICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgIGNhc2UgXCJsaVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICB2YXIgbmFtZSA9IG51bGwsXG4gICAgICAgICAgICB0eXBlID0gbnVsbCxcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IG51bGwsXG4gICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlID0gbnVsbCxcbiAgICAgICAgICAgIGNoZWNrZWQgPSBudWxsLFxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBudWxsO1xuICAgICAgICAgIGZvciAocHJvcEtleSBpbiBsYXN0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBsYXN0UHJvcCA9IGxhc3RQcm9wc1twcm9wS2V5XTtcbiAgICAgICAgICAgIGlmIChsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgJiYgbnVsbCAhPSBsYXN0UHJvcClcbiAgICAgICAgICAgICAgc3dpdGNoIChwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSA9IGxhc3RQcm9wO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHxcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9wXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXk4IGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIHByb3BLZXkgPSBuZXh0UHJvcHNbX3Byb3BLZXk4XTtcbiAgICAgICAgICAgIGxhc3RQcm9wID0gbGFzdFByb3BzW19wcm9wS2V5OF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTgpICYmXG4gICAgICAgICAgICAgIChudWxsICE9IHByb3BLZXkgfHwgbnVsbCAhPSBsYXN0UHJvcClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChfcHJvcEtleTgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidHlwZVwiOlxuICAgICAgICAgICAgICAgICAgdHlwZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgICAgICAgICAgbmFtZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ICE9PSBsYXN0UHJvcCAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0UHJvcFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZyA9XG4gICAgICAgICAgICBcImNoZWNrYm94XCIgPT09IGxhc3RQcm9wcy50eXBlIHx8IFwicmFkaW9cIiA9PT0gbGFzdFByb3BzLnR5cGVcbiAgICAgICAgICAgICAgPyBudWxsICE9IGxhc3RQcm9wcy5jaGVja2VkXG4gICAgICAgICAgICAgIDogbnVsbCAhPSBsYXN0UHJvcHMudmFsdWU7XG4gICAgICAgICAgbmV4dFByb3BzID1cbiAgICAgICAgICAgIFwiY2hlY2tib3hcIiA9PT0gbmV4dFByb3BzLnR5cGUgfHwgXCJyYWRpb1wiID09PSBuZXh0UHJvcHMudHlwZVxuICAgICAgICAgICAgICA/IG51bGwgIT0gbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgICAgICAgICAgOiBudWxsICE9IG5leHRQcm9wcy52YWx1ZTtcbiAgICAgICAgICB0YWcgfHxcbiAgICAgICAgICAgICFuZXh0UHJvcHMgfHxcbiAgICAgICAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgfHxcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCB0byBiZSBjb250cm9sbGVkLiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgdGhlIHZhbHVlIGNoYW5naW5nIGZyb20gdW5kZWZpbmVkIHRvIGEgZGVmaW5lZCB2YWx1ZSwgd2hpY2ggc2hvdWxkIG5vdCBoYXBwZW4uIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gITApKTtcbiAgICAgICAgICAhdGFnIHx8XG4gICAgICAgICAgICBuZXh0UHJvcHMgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgfHxcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IGlzIGNoYW5naW5nIGEgY29udHJvbGxlZCBpbnB1dCB0byBiZSB1bmNvbnRyb2xsZWQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSB0aGUgdmFsdWUgY2hhbmdpbmcgZnJvbSBhIGRlZmluZWQgdG8gdW5kZWZpbmVkLCB3aGljaCBzaG91bGQgbm90IGhhcHBlbi4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSAhMCkpO1xuICAgICAgICAgIHVwZGF0ZUlucHV0KFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICBwcm9wS2V5ID0gdmFsdWUgPSBkZWZhdWx0VmFsdWUgPSBfcHJvcEtleTggPSBudWxsO1xuICAgICAgICAgIGZvciAodHlwZSBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgobGFzdERlZmF1bHRWYWx1ZSA9IGxhc3RQcm9wc1t0eXBlXSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSAmJiBudWxsICE9IGxhc3REZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gbGFzdERlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KHR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKG5hbWUgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKHR5cGUgPSBuZXh0UHJvcHNbbmFtZV0pLFxuICAgICAgICAgICAgICAobGFzdERlZmF1bHRWYWx1ZSA9IGxhc3RQcm9wc1tuYW1lXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICAgICAgICAgIChudWxsICE9IHR5cGUgfHwgbnVsbCAhPSBsYXN0RGVmYXVsdFZhbHVlKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBfcHJvcEtleTggPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0eXBlICE9PSBsYXN0RGVmYXVsdFZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0UHJvcHMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgdGFnID0gdmFsdWU7XG4gICAgICAgICAgbGFzdFByb3BzID0gcHJvcEtleTtcbiAgICAgICAgICBudWxsICE9IF9wcm9wS2V5OFxuICAgICAgICAgICAgPyB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhdGFnLCBfcHJvcEtleTgsICExKVxuICAgICAgICAgICAgOiAhIWxhc3RQcm9wcyAhPT0gISF0YWcgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgPyB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhdGFnLCBuZXh0UHJvcHMsICEwKVxuICAgICAgICAgICAgICAgIDogdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIXRhZywgdGFnID8gW10gOiBcIlwiLCAhMSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgcHJvcEtleSA9IF9wcm9wS2V5OCA9IG51bGw7XG4gICAgICAgICAgZm9yIChkZWZhdWx0VmFsdWUgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKG5hbWUgPSBsYXN0UHJvcHNbZGVmYXVsdFZhbHVlXSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0VmFsdWUpICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBuYW1lICYmXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0VmFsdWUpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGRlZmF1bHRWYWx1ZSwgbnVsbCwgbmV4dFByb3BzLCBuYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFsdWUgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKG5hbWUgPSBuZXh0UHJvcHNbdmFsdWVdKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBsYXN0UHJvcHNbdmFsdWVdKSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiAobnVsbCAhPSBuYW1lIHx8IG51bGwgIT0gdHlwZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBuYW1lKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcImBkYW5nZXJvdXNseVNldElubmVySFRNTGAgZG9lcyBub3QgbWFrZSBzZW5zZSBvbiA8dGV4dGFyZWE+LlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgbmFtZSAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgdmFsdWUsIG5hbWUsIG5leHRQcm9wcywgdHlwZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVUZXh0YXJlYShkb21FbGVtZW50LCBfcHJvcEtleTgsIHByb3BLZXkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5MTMgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKF9wcm9wS2V5OCA9IGxhc3RQcm9wc1tfcHJvcEtleTEzXSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTEzKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTEzKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChfcHJvcEtleTEzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNlbGVjdGVkID0gITE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTEzLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAobGFzdERlZmF1bHRWYWx1ZSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2xhc3REZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbbGFzdERlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkobGFzdERlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBfcHJvcEtleTggIT09IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAobnVsbCAhPSBfcHJvcEtleTggfHwgbnVsbCAhPSBwcm9wS2V5KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChsYXN0RGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNlbGVjdGVkID1cbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgX3Byb3BLZXk4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgY2FzZSBcImFyZWFcIjpcbiAgICAgICAgY2FzZSBcImJhc2VcIjpcbiAgICAgICAgY2FzZSBcImJyXCI6XG4gICAgICAgIGNhc2UgXCJjb2xcIjpcbiAgICAgICAgY2FzZSBcImVtYmVkXCI6XG4gICAgICAgIGNhc2UgXCJoclwiOlxuICAgICAgICBjYXNlIFwia2V5Z2VuXCI6XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgIGNhc2UgXCJ0cmFja1wiOlxuICAgICAgICBjYXNlIFwid2JyXCI6XG4gICAgICAgIGNhc2UgXCJtZW51aXRlbVwiOlxuICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5MTUgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgKF9wcm9wS2V5OCA9IGxhc3RQcm9wc1tfcHJvcEtleTE1XSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE1KSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE1KSAmJlxuICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXkxNSxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICBfcHJvcEtleThcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIGZvciAoY2hlY2tlZCBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2NoZWNrZWRdKSxcbiAgICAgICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbY2hlY2tlZF0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoY2hlY2tlZCkgJiZcbiAgICAgICAgICAgICAgICBfcHJvcEtleTggIT09IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAobnVsbCAhPSBfcHJvcEtleTggfHwgbnVsbCAhPSBwcm9wS2V5KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBfcHJvcEtleTgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTgsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoaXNDdXN0b21FbGVtZW50KHRhZykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5MTcgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgICAoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTddKSxcbiAgICAgICAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxNykgJiZcbiAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTcpICYmXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5MTcsXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleThcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmb3IgKGRlZmF1bHRDaGVja2VkIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgICAgKF9wcm9wS2V5OCA9IG5leHRQcm9wc1tkZWZhdWx0Q2hlY2tlZF0pLFxuICAgICAgICAgICAgICAgIChwcm9wS2V5ID0gbGFzdFByb3BzW2RlZmF1bHRDaGVja2VkXSksXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0Q2hlY2tlZCkgfHxcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCA9PT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgICAgICAgKHZvaWQgMCA9PT0gX3Byb3BLZXk4ICYmIHZvaWQgMCA9PT0gcHJvcEtleSkgfHxcbiAgICAgICAgICAgICAgICAgIHNldFByb3BPbkN1c3RvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9wcm9wS2V5MTkgaW4gbGFzdFByb3BzKVxuICAgICAgICAoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTldKSxcbiAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxOSkgJiZcbiAgICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTkpICYmXG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgX3Byb3BLZXkxOSwgbnVsbCwgbmV4dFByb3BzLCBfcHJvcEtleTgpO1xuICAgICAgZm9yIChsYXN0UHJvcCBpbiBuZXh0UHJvcHMpXG4gICAgICAgIChfcHJvcEtleTggPSBuZXh0UHJvcHNbbGFzdFByb3BdKSxcbiAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tsYXN0UHJvcF0pLFxuICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkobGFzdFByb3ApIHx8XG4gICAgICAgICAgICBfcHJvcEtleTggPT09IHByb3BLZXkgfHxcbiAgICAgICAgICAgIChudWxsID09IF9wcm9wS2V5OCAmJiBudWxsID09IHByb3BLZXkpIHx8XG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgbGFzdFByb3AsIF9wcm9wS2V5OCwgbmV4dFByb3BzLCBwcm9wS2V5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJvcE5hbWVGcm9tQXR0cmlidXRlTmFtZShhdHRyTmFtZSkge1xuICAgICAgc3dpdGNoIChhdHRyTmFtZSkge1xuICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICByZXR1cm4gXCJjbGFzc05hbWVcIjtcbiAgICAgICAgY2FzZSBcImZvclwiOlxuICAgICAgICAgIHJldHVybiBcImh0bWxGb3JcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gYXR0ck5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGRvbUVsZW1lbnQpIHtcbiAgICAgIHZhciBzZXJ2ZXJWYWx1ZUluT2JqZWN0Rm9ybSA9IHt9O1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuc3R5bGU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbUVsZW1lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN0eWxlTmFtZSA9IGRvbUVsZW1lbnRbaV07XG4gICAgICAgIHNlcnZlclZhbHVlSW5PYmplY3RGb3JtW3N0eWxlTmFtZV0gPVxuICAgICAgICAgIGRvbUVsZW1lbnQuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZU5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlcnZlclZhbHVlSW5PYmplY3RGb3JtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmSHlkcmF0ZWRTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUkanNjb21wJDAsIHNlcnZlckRpZmZlcmVuY2VzKSB7XG4gICAgICBpZiAobnVsbCAhPSB2YWx1ZSRqc2NvbXAkMCAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2YgdmFsdWUkanNjb21wJDApXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsIG5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyAnZW0nfX0gd2hlbiB1c2luZyBKU1guXCJcbiAgICAgICAgKTtcbiAgICAgIGVsc2UgaWYgKGNhbkRpZmZTdHlsZUZvckh5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgdmFyIGNsaWVudFZhbHVlO1xuICAgICAgICB2YXIgZGVsaW1pdGVyID0gKGNsaWVudFZhbHVlID0gXCJcIiksXG4gICAgICAgICAgc3R5bGVOYW1lO1xuICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiB2YWx1ZSRqc2NvbXAkMClcbiAgICAgICAgICBpZiAodmFsdWUkanNjb21wJDAuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWUkanNjb21wJDBbc3R5bGVOYW1lXTtcbiAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICBcIlwiICE9PSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAoMCA9PT0gc3R5bGVOYW1lLmluZGV4T2YoXCItLVwiKVxuICAgICAgICAgICAgICAgID8gKGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgc3R5bGVOYW1lKSxcbiAgICAgICAgICAgICAgICAgIChjbGllbnRWYWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgKyBzdHlsZU5hbWUgKyBcIjpcIiArIChcIlwiICsgdmFsdWUpLnRyaW0oKSkpXG4gICAgICAgICAgICAgICAgOiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgMCA9PT0gdmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgdW5pdGxlc3NOdW1iZXJzLmhhcyhzdHlsZU5hbWUpXG4gICAgICAgICAgICAgICAgICA/IChjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHN0eWxlTmFtZSksXG4gICAgICAgICAgICAgICAgICAgIChjbGllbnRWYWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgIGRlbGltaXRlciArXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSh1cHBlcmNhc2VQYXR0ZXJuLCBcIi0kMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKG1zUGF0dGVybiQxLCBcIi1tcy1cIikgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAoXCJcIiArIHZhbHVlKS50cmltKCkpKVxuICAgICAgICAgICAgICAgICAgOiAoY2xpZW50VmFsdWUgKz1cbiAgICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgK1xuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgXCItJDFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShtc1BhdHRlcm4kMSwgXCItbXMtXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIjpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgIFwicHhcIiksXG4gICAgICAgICAgICAgIChkZWxpbWl0ZXIgPSBcIjtcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgY2xpZW50VmFsdWUgPSBjbGllbnRWYWx1ZSB8fCBudWxsO1xuICAgICAgICB2YWx1ZSRqc2NvbXAkMCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgICAgIHZhbHVlJGpzY29tcCQwICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAgICgoY2xpZW50VmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VmFsdWUpKSxcbiAgICAgICAgICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUodmFsdWUkanNjb21wJDApICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzLnN0eWxlID0gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoZG9tRWxlbWVudCkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgcHJvcEtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQgPT09IFwiXCIgKyB2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZUJvb2xlYW5BdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgYXR0cmlidXRlTmFtZSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQgPT09IFwiXCIgKyB2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZU51bWVyaWNBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhaXNOYU4odmFsdWUpICYmXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gXCJcIiArIHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgKGF0dHJpYnV0ZU5hbWUgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpKSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gYXR0cmlidXRlTmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIHByb3BzLCBob3N0Q29udGV4dCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHNlcnZlckRpZmZlcmVuY2VzID0ge30sXG4gICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzID0gbmV3IFNldCgpLFxuICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmF0dHJpYnV0ZXMsXG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgIGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgaSsrXG4gICAgICApXG4gICAgICAgIHN3aXRjaCAoYXR0cmlidXRlc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuYWRkKGF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnQodGFnKSlcbiAgICAgICAgZm9yICh2YXIgcHJvcEtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gcHJvcHNbcHJvcEtleV07XG4gICAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihwcm9wS2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKCEwICE9PSBwcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZS5fX2h0bWwgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHZhbHVlID0gbm9ybWFsaXplSFRNTChkb21FbGVtZW50LCB2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkpO1xuICAgICAgICAgICAgICAgICAgICBkaWZmSHlkcmF0ZWRTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0UGFyZW50XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0VG9wXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0TGVmdFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZnNldFdpZHRoXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0SGVpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaXNDb250ZW50RWRpdGFibGVcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvdXRlclRleHRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvdXRlckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQXNzaWdubWVudCB0byByZWFkLW9ubHkgcHJvcGVydHkgd2lsbCByZXN1bHQgaW4gYSBuby1vcDogYCVzYFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NOYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdldFZhbHVlRm9yQXR0cmlidXRlT25DdXN0b21Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NOYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGhvc3RDb250ZXh0LmNvbnRleHQgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZSAmJlxuICAgICAgICAgICAgICAgICAgICBcInN2Z1wiICE9PSB0YWcgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJtYXRoXCIgIT09IHRhZ1xuICAgICAgICAgICAgICAgICAgICAgID8gZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgOiBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkpLFxuICAgICAgICAgICAgICAgICAgICAgIChhdHRyaWJ1dGVzID0gZ2V0VmFsdWVGb3JBdHRyaWJ1dGVPbkN1c3RvbUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgZm9yICh2YWx1ZSBpbiBwcm9wcylcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgJiZcbiAgICAgICAgICAgICgocHJvcEtleSA9IHByb3BzW3ZhbHVlXSksIG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIodmFsdWUsIHByb3BLZXkpO1xuICAgICAgICAgICAgZWxzZSBpZiAoITAgIT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZylcbiAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgIT09IHR5cGVvZiBwcm9wS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiLFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gcHJvcEtleSA/IHByb3BLZXkuX19odG1sIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPSBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICgocHJvcEtleSA9IG5vcm1hbGl6ZUhUTUwoZG9tRWxlbWVudCwgcHJvcEtleSkpLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzICE9PSBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzW3ZhbHVlXSA9IHsgX19odG1sOiBhdHRyaWJ1dGVzIH0pKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc05hbWVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGFiSW5kZXhcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInRhYmluZGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgZGlmZkh5ZHJhdGVkU3R5bGVzKGRvbUVsZW1lbnQsIHByb3BLZXksIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50Lm11bHRpcGxlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdXRlZFwiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50Lm11dGVkLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvRm9jdXNcIjpcbiAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJhdXRvZm9jdXNcIik7XG4gICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LmF1dG9mb2N1cyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHRhZykge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YVwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImhyZWZcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgKFwiYVwiID09PSB0YWcgJiYgXCJocmVmXCIgPT09IHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0YWcgJiYgXCJkYXRhXCIgPT09IHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgXCJzcmNcIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVGhpcyBtYXkgY2F1c2UgdGhlIGJyb3dzZXIgdG8gZG93bmxvYWQgdGhlIHdob2xlIHBhZ2UgYWdhaW4gb3ZlciB0aGUgbmV0d29yay4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFjdGlvblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmb3JtQWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtQWN0aW9uXCIgPT09IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgPyAoZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcIm5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiZm9ybWVuY3R5cGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiZm9ybW1ldGhvZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJmb3JtdGFyZ2V0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJlbmN0eXBlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcIm1ldGhvZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJ0YXJnZXRcIikpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcyA9PT0gRVhQRUNURURfRk9STV9BQ1RJT05fVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rSHJlZlwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6aHJlZlwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRlZGl0YWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNwZWxsQ2hlY2tcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuaXNoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJzcGVsbGNoZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2dhYmxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9SZXZlcnNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9jdXNhYmxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInByZXNlcnZlQWxwaGFcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuaXNoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbkF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkb3dubG9hZFwiOlxuICAgICAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgICAgICBpID0gZG9tRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSAoYXR0cmlidXRlcyA9IHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCA9IHNlcnZlckRpZmZlcmVuY2VzO1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpID0gaS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBpKVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCExID09PSBwcm9wS2V5KSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCA9PT0gcHJvcEtleSAmJiBcIlwiID09PSBpKSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihwcm9wS2V5LCBhdHRyaWJ1dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBcIlwiICsgcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvd3NcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzcGFuXCI6XG4gICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBkb21FbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCA9IHNlcnZlckRpZmZlcmVuY2VzO1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpID0gaS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBpKVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihwcm9wS2V5KSB8fCAxID4gcHJvcEtleSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoaXNOYU4ocHJvcEtleSkgfHwgMSA+IHByb3BLZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24ocHJvcEtleSwgYXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gXCJcIiArIHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwicm93U3BhblwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZU51bWVyaWNBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInJvd3NwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZU51bWVyaWNBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4SGVpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4LWhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rQWN0dWF0ZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6YWN0dWF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rQXJjcm9sZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6YXJjcm9sZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6cm9sZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rU2hvd1wiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6c2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rVGl0bGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtUeXBlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazp0eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sQmFzZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieG1sOmJhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxMYW5nXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWw6bGFuZ1wiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhtbFNwYWNlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWw6c3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVbdmFsdWVdIHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW3ZhbHVlXSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIGVtcHR5IHN0cmluZyBmb3IgYSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiBUaGlzIHdpbGwgdHJlYXQgdGhlIGF0dHJpYnV0ZSBhcyBpZiBpdCB3ZXJlIGZhbHNlLiBFaXRoZXIgcGFzcyBgZmFsc2VgIHRvIHNpbGVuY2UgdGhpcyB3YXJuaW5nLCBvciBwYXNzIGB0cnVlYCBpZiB5b3UgdXNlZCBhbiBlbXB0eSBzdHJpbmcgaW4gZWFybGllciB2ZXJzaW9ucyBvZiBSZWFjdCB0byBpbmRpY2F0ZSB0aGlzIGF0dHJpYnV0ZSBpcyB0cnVlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5BdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICEoMiA8IHZhbHVlLmxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKFwib1wiICE9PSB2YWx1ZVswXSAmJiBcIk9cIiAhPT0gdmFsdWVbMF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIChcIm5cIiAhPT0gdmFsdWVbMV0gJiYgXCJOXCIgIT09IHZhbHVlWzFdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBnZXRBdHRyaWJ1dGVBbGlhcyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgaG9zdENvbnRleHQuY29udGV4dCA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ZnXCIgIT09IHRhZyAmJlxuICAgICAgICAgICAgICAgICAgICBcIm1hdGhcIiAhPT0gdGFnXG4gICAgICAgICAgICAgICAgICAgICAgPyBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICgoYXR0cmlidXRlTmFtZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZU5hbWUgPSBwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbYXR0cmlidXRlTmFtZV0gfHwgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gYXR0cmlidXRlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lICE9PSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGF0dHJpYnV0ZXMgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShpKSk7XG4gICAgICAgICAgICAgICAgICAgIGE6IGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAoKGF0dHJpYnV0ZU5hbWUgPSBkb21FbGVtZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDAgPSBpKSxcbiAgICAgICAgICAgICAgICAgICAgICAoaSA9IHByb3BLZXkpLFxuICAgICAgICAgICAgICAgICAgICAgIGlzQXR0cmlidXRlTmFtZVNhZmUoc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDApKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZS5oYXNBdHRyaWJ1dGUoc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDApXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lLmdldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGkgPSBhdHRyaWJ1dGVOYW1lID09PSBcIlwiICsgaSA/IGkgOiBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoYXR0cmlidXRlTmFtZSA9IHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCA1KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtXCIgIT09IGF0dHJpYnV0ZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLVwiICE9PSBhdHRyaWJ1dGVOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gdm9pZCAwID09PSBpID8gdm9pZCAwIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyB8fFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgIDAgPCBleHRyYUF0dHJpYnV0ZXMuc2l6ZSAmJlxuICAgICAgICAhMCAhPT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nICYmXG4gICAgICAgIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMoZG9tRWxlbWVudCwgZXh0cmFBdHRyaWJ1dGVzLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgICByZXR1cm4gMCA9PT0gT2JqZWN0LmtleXMoc2VydmVyRGlmZmVyZW5jZXMpLmxlbmd0aFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBzZXJ2ZXJEaWZmZXJlbmNlcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcE5hbWVzTGlzdEpvaW4obGlzdCwgY29tYmluYXRvcikge1xuICAgICAgc3dpdGNoIChsaXN0Lmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gbGlzdFswXTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiBsaXN0WzBdICsgXCIgXCIgKyBjb21iaW5hdG9yICsgXCIgXCIgKyBsaXN0WzFdO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBsaXN0LnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICAgIGNvbWJpbmF0b3IgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gICAgICByZXR1cm4gOSA9PT0gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGVcbiAgICAgICAgPyByb290Q29udGFpbmVyRWxlbWVudFxuICAgICAgICA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bkhvc3RDb250ZXh0KG5hbWVzcGFjZVVSSSkge1xuICAgICAgc3dpdGNoIChuYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgY2FzZSBTVkdfTkFNRVNQQUNFOlxuICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZztcbiAgICAgICAgY2FzZSBNQVRIX05BTUVTUEFDRTpcbiAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VNYXRoO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENoaWxkSG9zdENvbnRleHRQcm9kKHBhcmVudE5hbWVzcGFjZSwgdHlwZSkge1xuICAgICAgaWYgKHBhcmVudE5hbWVzcGFjZSA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lKVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VTdmc7XG4gICAgICAgICAgY2FzZSBcIm1hdGhcIjpcbiAgICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBwYXJlbnROYW1lc3BhY2UgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnICYmXG4gICAgICAgIFwiZm9yZWlnbk9iamVjdFwiID09PSB0eXBlXG4gICAgICAgID8gSG9zdENvbnRleHROYW1lc3BhY2VOb25lXG4gICAgICAgIDogcGFyZW50TmFtZXNwYWNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBwcm9wcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJ0ZXh0YXJlYVwiID09PSB0eXBlIHx8XG4gICAgICAgIFwibm9zY3JpcHRcIiA9PT0gdHlwZSB8fFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gfHxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuIHx8XG4gICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiB8fFxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmXG4gICAgICAgICAgbnVsbCAhPT0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiZcbiAgICAgICAgICBudWxsICE9IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbClcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZEF0dGVtcHRFYWdlclRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG4gICAgICBpZiAoZXZlbnQgJiYgXCJwb3BzdGF0ZVwiID09PSBldmVudC50eXBlKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50KSByZXR1cm4gITE7XG4gICAgICAgIGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICBjdXJyZW50UG9wc3RhdGVUcmFuc2l0aW9uRXZlbnQgPSBudWxsO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVFcnJvckluTmV4dFRpY2soZXJyb3IpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRNb3VudChkb21FbGVtZW50LCB0eXBlLCBuZXdQcm9wcykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJidXR0b25cIjpcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgbmV3UHJvcHMuYXV0b0ZvY3VzICYmIGRvbUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICAgIG5ld1Byb3BzLnNyY1xuICAgICAgICAgICAgPyAoZG9tRWxlbWVudC5zcmMgPSBuZXdQcm9wcy5zcmMpXG4gICAgICAgICAgICA6IG5ld1Byb3BzLnNyY1NldCAmJiAoZG9tRWxlbWVudC5zcmNzZXQgPSBuZXdQcm9wcy5zcmNTZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRVcGRhdGUoZG9tRWxlbWVudCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKSB7XG4gICAgICB1cGRhdGVQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcyk7XG4gICAgICBkb21FbGVtZW50W2ludGVybmFsUHJvcHNLZXldID0gbmV3UHJvcHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCkge1xuICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgXCJcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFRleHRVcGRhdGUodGV4dEluc3RhbmNlLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gbmV3VGV4dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGQocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcihjb250YWluZXIsIGNoaWxkKSB7XG4gICAgICA4ID09PSBjb250YWluZXIubm9kZVR5cGVcbiAgICAgICAgPyBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZClcbiAgICAgICAgOiBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhclN1c3BlbnNlQm91bmRhcnkocGFyZW50SW5zdGFuY2UsIHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICAgIHZhciBub2RlID0gc3VzcGVuc2VJbnN0YW5jZSxcbiAgICAgICAgZGVwdGggPSAwO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgaWYgKG5leHROb2RlICYmIDggPT09IG5leHROb2RlLm5vZGVUeXBlKVxuICAgICAgICAgIGlmICgoKG5vZGUgPSBuZXh0Tm9kZS5kYXRhKSwgbm9kZSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEpKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZGVwdGgpIHtcbiAgICAgICAgICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlQ2hpbGQobmV4dE5vZGUpO1xuICAgICAgICAgICAgICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgKG5vZGUgIT09IFNVU1BFTlNFX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgbm9kZSAhPT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIG5vZGUgIT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEpIHx8XG4gICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICAgIH0gd2hpbGUgKG5vZGUpO1xuICAgICAgcmV0cnlJZkJsb2NrZWRPbihzdXNwZW5zZUluc3RhbmNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGlkZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnN0eWxlO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2Uuc2V0UHJvcGVydHlcbiAgICAgICAgPyBpbnN0YW5jZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIiwgXCJub25lXCIsIFwiaW1wb3J0YW50XCIpXG4gICAgICAgIDogKGluc3RhbmNlLmRpc3BsYXkgPSBcIm5vbmVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZGVUZXh0SW5zdGFuY2UodGV4dEluc3RhbmNlKSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UsIHByb3BzKSB7XG4gICAgICBwcm9wcyA9IHByb3BzW1NUWUxFXTtcbiAgICAgIHByb3BzID1cbiAgICAgICAgdm9pZCAwICE9PSBwcm9wcyAmJiBudWxsICE9PSBwcm9wcyAmJiBwcm9wcy5oYXNPd25Qcm9wZXJ0eShcImRpc3BsYXlcIilcbiAgICAgICAgICA/IHByb3BzLmRpc3BsYXlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICBpbnN0YW5jZS5zdHlsZS5kaXNwbGF5ID1cbiAgICAgICAgbnVsbCA9PSBwcm9wcyB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHByb3BzID8gXCJcIiA6IChcIlwiICsgcHJvcHMpLnRyaW0oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5oaWRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSwgdGV4dCkge1xuICAgICAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyQ29udGFpbmVyU3BhcmluZ2x5KGNvbnRhaW5lcikge1xuICAgICAgdmFyIG5leHROb2RlID0gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgICBuZXh0Tm9kZSAmJiAxMCA9PT0gbmV4dE5vZGUubm9kZVR5cGUgJiYgKG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgZm9yICg7IG5leHROb2RlOyApIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICAgICAgbmV4dE5vZGUgPSBuZXh0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgICAgY2FzZSBcIkhUTUxcIjpcbiAgICAgICAgICBjYXNlIFwiSEVBRFwiOlxuICAgICAgICAgIGNhc2UgXCJCT0RZXCI6XG4gICAgICAgICAgICBjbGVhckNvbnRhaW5lclNwYXJpbmdseShub2RlKTtcbiAgICAgICAgICAgIGRldGFjaERlbGV0ZWRJbnN0YW5jZShub2RlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJTQ1JJUFRcIjpcbiAgICAgICAgICBjYXNlIFwiU1RZTEVcIjpcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJMSU5LXCI6XG4gICAgICAgICAgICBpZiAoXCJzdHlsZXNoZWV0XCIgPT09IG5vZGUucmVsLnRvTG93ZXJDYXNlKCkpIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSHlkcmF0ZUluc3RhbmNlKGluc3RhbmNlLCB0eXBlLCBwcm9wcywgaW5Sb290T3JTaW5nbGV0b24pIHtcbiAgICAgIGZvciAoOyAxID09PSBpbnN0YW5jZS5ub2RlVHlwZTsgKSB7XG4gICAgICAgIHZhciBhbnlQcm9wcyA9IHByb3BzO1xuICAgICAgICBpZiAoaW5zdGFuY2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gdHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWluUm9vdE9yU2luZ2xldG9uICYmXG4gICAgICAgICAgICAoXCJJTlBVVFwiICE9PSBpbnN0YW5jZS5ub2RlTmFtZSB8fCBcImhpZGRlblwiICE9PSBpbnN0YW5jZS50eXBlKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKCFpblJvb3RPclNpbmdsZXRvbilcbiAgICAgICAgICBpZiAoXCJpbnB1dFwiID09PSB0eXBlICYmIFwiaGlkZGVuXCIgPT09IGluc3RhbmNlLnR5cGUpIHtcbiAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oYW55UHJvcHMubmFtZSwgXCJuYW1lXCIpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBudWxsID09IGFueVByb3BzLm5hbWUgPyBudWxsIDogXCJcIiArIGFueVByb3BzLm5hbWU7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwiaGlkZGVuXCIgPT09IGFueVByb3BzLnR5cGUgJiZcbiAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PT0gbmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgZWxzZSBpZiAoIWluc3RhbmNlW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSlcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiaXRlbXByb3BcIikpIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgICBuYW1lID0gaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IG5hbWUgJiZcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXByZWNlZGVuY2VcIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBuYW1lICE9PSBhbnlQcm9wcy5yZWwgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpICE9PVxuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMuaHJlZiA/IG51bGwgOiBhbnlQcm9wcy5ocmVmKSB8fFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIpICE9PVxuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogYW55UHJvcHMuY3Jvc3NPcmlnaW4pIHx8XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgIT09XG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy50aXRsZSA/IG51bGwgOiBhbnlQcm9wcy50aXRsZSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmhhc0F0dHJpYnV0ZShcImRhdGEtcHJlY2VkZW5jZVwiKSkgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAgbmFtZSA9IGluc3RhbmNlLmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChuYW1lICE9PSAobnVsbCA9PSBhbnlQcm9wcy5zcmMgPyBudWxsIDogYW55UHJvcHMuc3JjKSB8fFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMudHlwZSA/IG51bGwgOiBhbnlQcm9wcy50eXBlKSB8fFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikgIT09XG4gICAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgOiBhbnlQcm9wcy5jcm9zc09yaWdpbikpICYmXG4gICAgICAgICAgICAgICAgbmFtZSAmJlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmhhc0F0dHJpYnV0ZShcImFzeW5jXCIpICYmXG4gICAgICAgICAgICAgICAgIWluc3RhbmNlLmhhc0F0dHJpYnV0ZShcIml0ZW1wcm9wXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgIGlmIChudWxsID09PSBpbnN0YW5jZSkgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShpbnN0YW5jZSwgdGV4dCwgaW5Sb290T3JTaW5nbGV0b24pIHtcbiAgICAgIGlmIChcIlwiID09PSB0ZXh0KSByZXR1cm4gbnVsbDtcbiAgICAgIGZvciAoOyAzICE9PSBpbnN0YW5jZS5ub2RlVHlwZTsgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoMSAhPT0gaW5zdGFuY2Uubm9kZVR5cGUgfHxcbiAgICAgICAgICAgIFwiSU5QVVRcIiAhPT0gaW5zdGFuY2Uubm9kZU5hbWUgfHxcbiAgICAgICAgICAgIFwiaGlkZGVuXCIgIT09IGluc3RhbmNlLnR5cGUpICYmXG4gICAgICAgICAgIWluUm9vdE9yU2luZ2xldG9uXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgIGlmIChudWxsID09PSBpbnN0YW5jZSkgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5leHRIeWRyYXRhYmxlKG5vZGUpIHtcbiAgICAgIGZvciAoOyBudWxsICE9IG5vZGU7IG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIGlmICgxID09PSBub2RlVHlwZSB8fCAzID09PSBub2RlVHlwZSkgYnJlYWs7XG4gICAgICAgIGlmICg4ID09PSBub2RlVHlwZSkge1xuICAgICAgICAgIG5vZGVUeXBlID0gbm9kZS5kYXRhO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBTVVNQRU5TRV9TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkcgfHxcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBGT1JNX1NUQVRFX0lTX05PVF9NQVRDSElOR1xuICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEpIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVIeWRyYXRhYmxlSW5zdGFuY2VGb3JEZXZXYXJuaW5ncyhpbnN0YW5jZSkge1xuICAgICAgaWYgKDEgPT09IGluc3RhbmNlLm5vZGVUeXBlKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyA9IHt9LFxuICAgICAgICAgICAgYXR0cmlidXRlcyA9IGluc3RhbmNlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICBpIDwgYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgaSsrXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1tnZXRQcm9wTmFtZUZyb21BdHRyaWJ1dGVOYW1lKGF0dHIubmFtZSldID1cbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgPyBnZXRTdHlsZXNPYmplY3RGcm9tRWxlbWVudChpbnN0YW5jZSlcbiAgICAgICAgICAgICAgOiBhdHRyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEpTQ29tcGlsZXJfdGVtcF9jb25zdCwgcHJvcHM6IHNlcnZlckRpZmZlcmVuY2VzIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gOCA9PT0gaW5zdGFuY2Uubm9kZVR5cGVcbiAgICAgICAgPyB7IHR5cGU6IFwiU3VzcGVuc2VcIiwgcHJvcHM6IHt9IH1cbiAgICAgICAgOiBpbnN0YW5jZS5ub2RlVmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZIeWRyYXRlZFRleHRGb3JEZXZXYXJuaW5ncyh0ZXh0SW5zdGFuY2UsIHRleHQsIHBhcmVudFByb3BzKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gcGFyZW50UHJvcHMgfHxcbiAgICAgICAgITAgIT09IHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXVxuICAgICAgICA/ICh0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID09PSB0ZXh0XG4gICAgICAgICAgICA/ICh0ZXh0SW5zdGFuY2UgPSBudWxsKVxuICAgICAgICAgICAgOiAoKHRleHQgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUodGV4dCkpLFxuICAgICAgICAgICAgICAodGV4dEluc3RhbmNlID1cbiAgICAgICAgICAgICAgICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUodGV4dEluc3RhbmNlLm5vZGVWYWx1ZSkgPT09XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICA6IHRleHRJbnN0YW5jZS5ub2RlVmFsdWUpKSxcbiAgICAgICAgICB0ZXh0SW5zdGFuY2UpXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGVJbnN0YW5jZUFmdGVyU3VzcGVuc2VJbnN0YW5jZShzdXNwZW5zZUluc3RhbmNlKSB7XG4gICAgICBzdXNwZW5zZUluc3RhbmNlID0gc3VzcGVuc2VJbnN0YW5jZS5uZXh0U2libGluZztcbiAgICAgIGZvciAodmFyIGRlcHRoID0gMDsgc3VzcGVuc2VJbnN0YW5jZTsgKSB7XG4gICAgICAgIGlmICg4ID09PSBzdXNwZW5zZUluc3RhbmNlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBzdXNwZW5zZUluc3RhbmNlLmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IFNVU1BFTlNFX0VORF9EQVRBKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZGVwdGgpXG4gICAgICAgICAgICAgIHJldHVybiBnZXROZXh0SHlkcmF0YWJsZShzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoZGF0YSAhPT0gU1VTUEVOU0VfU1RBUlRfREFUQSAmJlxuICAgICAgICAgICAgICBkYXRhICE9PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIGRhdGEgIT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSkgfHxcbiAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgICBzdXNwZW5zZUluc3RhbmNlID0gc3VzcGVuc2VJbnN0YW5jZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQYXJlbnRTdXNwZW5zZUluc3RhbmNlKHRhcmdldEluc3RhbmNlKSB7XG4gICAgICB0YXJnZXRJbnN0YW5jZSA9IHRhcmdldEluc3RhbmNlLnByZXZpb3VzU2libGluZztcbiAgICAgIGZvciAodmFyIGRlcHRoID0gMDsgdGFyZ2V0SW5zdGFuY2U7ICkge1xuICAgICAgICBpZiAoOCA9PT0gdGFyZ2V0SW5zdGFuY2Uubm9kZVR5cGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHRhcmdldEluc3RhbmNlLmRhdGE7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZGF0YSA9PT0gU1VTUEVOU0VfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgZGF0YSA9PT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgZGF0YSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZGVwdGgpIHJldHVybiB0YXJnZXRJbnN0YW5jZTtcbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgfSBlbHNlIGRhdGEgPT09IFNVU1BFTlNFX0VORF9EQVRBICYmIGRlcHRoKys7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0SW5zdGFuY2UgPSB0YXJnZXRJbnN0YW5jZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SHlkcmF0ZWRDb250YWluZXIoY29udGFpbmVyKSB7XG4gICAgICByZXRyeUlmQmxvY2tlZE9uKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZShzdXNwZW5zZUluc3RhbmNlKSB7XG4gICAgICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICBob3N0Q29udGV4dCxcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZ0RldlxuICAgICkge1xuICAgICAgdmFsaWRhdGVET01OZXN0aW5nRGV2ICYmXG4gICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyh0eXBlLCBob3N0Q29udGV4dC5hbmNlc3RvckluZm8pO1xuICAgICAgcHJvcHMgPSBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIHR5cGUgPSBwcm9wcy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKCF0eXBlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgZXhwZWN0ZWQgYW4gPGh0bWw+IGVsZW1lbnQgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgdG8gZXhpc3QgaW4gdGhlIERvY3VtZW50IGJ1dCBvbmUgd2FzIG5vdCBmb3VuZC4gUmVhY3QgbmV2ZXIgcmVtb3ZlcyB0aGUgZG9jdW1lbnRFbGVtZW50IGZvciBhbnkgRG9jdW1lbnQgaXQgcmVuZGVycyBpbnRvIHNvIHRoZSBjYXVzZSBpcyBsaWtlbHkgaW4gc29tZSBvdGhlciBzY3JpcHQgcnVubmluZyBvbiB0aGlzIHBhZ2UuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgICAgdHlwZSA9IHByb3BzLmhlYWQ7XG4gICAgICAgICAgaWYgKCF0eXBlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgZXhwZWN0ZWQgYSA8aGVhZD4gZWxlbWVudCAoZG9jdW1lbnQuaGVhZCkgdG8gZXhpc3QgaW4gdGhlIERvY3VtZW50IGJ1dCBvbmUgd2FzIG5vdCBmb3VuZC4gUmVhY3QgbmV2ZXIgcmVtb3ZlcyB0aGUgaGVhZCBmb3IgYW55IERvY3VtZW50IGl0IHJlbmRlcnMgaW50byBzbyB0aGUgY2F1c2UgaXMgbGlrZWx5IGluIHNvbWUgb3RoZXIgc2NyaXB0IHJ1bm5pbmcgb24gdGhpcyBwYWdlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgIHR5cGUgPSBwcm9wcy5ib2R5O1xuICAgICAgICAgIGlmICghdHlwZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGV4cGVjdGVkIGEgPGJvZHk+IGVsZW1lbnQgKGRvY3VtZW50LmJvZHkpIHRvIGV4aXN0IGluIHRoZSBEb2N1bWVudCBidXQgb25lIHdhcyBub3QgZm91bmQuIFJlYWN0IG5ldmVyIHJlbW92ZXMgdGhlIGJvZHkgZm9yIGFueSBEb2N1bWVudCBpdCByZW5kZXJzIGludG8gc28gdGhlIGNhdXNlIGlzIGxpa2VseSBpbiBzb21lIG90aGVyIHNjcmlwdCBydW5uaW5nIG9uIHRoaXMgcGFnZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwicmVzb2x2ZVNpbmdsZXRvbkluc3RhbmNlIHdhcyBjYWxsZWQgd2l0aCBhbiBlbGVtZW50IHR5cGUgdGhhdCBpcyBub3Qgc3VwcG9ydGVkLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWNxdWlyZVNpbmdsZXRvbkluc3RhbmNlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBpbnRlcm5hbEluc3RhbmNlSGFuZGxlXG4gICAgKSB7XG4gICAgICBpZiAoZ2V0SW5zdGFuY2VGcm9tTm9kZShpbnN0YW5jZSkpIHtcbiAgICAgICAgdmFyIHRhZ05hbWUgPSBpbnN0YW5jZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJZb3UgYXJlIG1vdW50aW5nIGEgbmV3ICVzIGNvbXBvbmVudCB3aGVuIGEgcHJldmlvdXMgb25lIGhhcyBub3QgZmlyc3QgdW5tb3VudGVkLiBJdCBpcyBhbiBlcnJvciB0byByZW5kZXIgbW9yZSB0aGFuIG9uZSAlcyBjb21wb25lbnQgYXQgYSB0aW1lIGFuZCBhdHRyaWJ1dGVzIGFuZCBjaGlsZHJlbiBvZiB0aGVzZSBjb21wb25lbnRzIHdpbGwgbGlrZWx5IGZhaWwgaW4gdW5wcmVkaWN0YWJsZSB3YXlzLiBQbGVhc2Ugb25seSByZW5kZXIgYSBzaW5nbGUgaW5zdGFuY2Ugb2YgPCVzPiBhbmQgaWYgeW91IG5lZWQgdG8gbW91bnQgYSBuZXcgb25lLCBlbnN1cmUgYW55IHByZXZpb3VzIG9uZXMgaGF2ZSB1bm1vdW50ZWQgZmlyc3QuXCIsXG4gICAgICAgICAgdGFnTmFtZSxcbiAgICAgICAgICB0YWdOYW1lLFxuICAgICAgICAgIHRhZ05hbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImFjcXVpcmVTaW5nbGV0b25JbnN0YW5jZSB3YXMgY2FsbGVkIHdpdGggYW4gZWxlbWVudCB0eXBlIHRoYXQgaXMgbm90IHN1cHBvcnRlZC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBmb3IgKHRhZ05hbWUgPSBpbnN0YW5jZS5hdHRyaWJ1dGVzOyB0YWdOYW1lLmxlbmd0aDsgKVxuICAgICAgICBpbnN0YW5jZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKHRhZ05hbWVbMF0pO1xuICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaW5zdGFuY2UsIHR5cGUsIHByb3BzKTtcbiAgICAgIGluc3RhbmNlW2ludGVybmFsSW5zdGFuY2VLZXldID0gaW50ZXJuYWxJbnN0YW5jZUhhbmRsZTtcbiAgICAgIGluc3RhbmNlW2ludGVybmFsUHJvcHNLZXldID0gcHJvcHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvaXN0YWJsZVJvb3QoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29udGFpbmVyLmdldFJvb3ROb2RlXG4gICAgICAgID8gY29udGFpbmVyLmdldFJvb3ROb2RlKClcbiAgICAgICAgOiBjb250YWluZXIub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlY29ubmVjdEFzKHJlbCwgaHJlZiwgY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB7XG4gICAgICAgIHZhciBsaW1pdGVkRXNjYXBlZEhyZWYgPVxuICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZik7XG4gICAgICAgIGxpbWl0ZWRFc2NhcGVkSHJlZiA9XG4gICAgICAgICAgJ2xpbmtbcmVsPVwiJyArIHJlbCArICdcIl1baHJlZj1cIicgKyBsaW1pdGVkRXNjYXBlZEhyZWYgKyAnXCJdJztcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNyb3NzT3JpZ2luICYmXG4gICAgICAgICAgKGxpbWl0ZWRFc2NhcGVkSHJlZiArPSAnW2Nyb3Nzb3JpZ2luPVwiJyArIGNyb3NzT3JpZ2luICsgJ1wiXScpO1xuICAgICAgICBwcmVjb25uZWN0c1NldC5oYXMobGltaXRlZEVzY2FwZWRIcmVmKSB8fFxuICAgICAgICAgIChwcmVjb25uZWN0c1NldC5hZGQobGltaXRlZEVzY2FwZWRIcmVmKSxcbiAgICAgICAgICAocmVsID0geyByZWw6IHJlbCwgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLCBocmVmOiBocmVmIH0pLFxuICAgICAgICAgIG51bGwgPT09IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW1pdGVkRXNjYXBlZEhyZWYpICYmXG4gICAgICAgICAgICAoKGhyZWYgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKSxcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhyZWYsIFwibGlua1wiLCByZWwpLFxuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShocmVmKSxcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChocmVmKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZXNvdXJjZSh0eXBlLCBjdXJyZW50UHJvcHMsIHBlbmRpbmdQcm9wcywgY3VycmVudFJlc291cmNlKSB7XG4gICAgICB2YXIgcmVzb3VyY2VSb290ID0gKHJlc291cmNlUm9vdCA9IHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpXG4gICAgICAgID8gZ2V0SG9pc3RhYmxlUm9vdChyZXNvdXJjZVJvb3QpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIGlmICghcmVzb3VyY2VSb290KVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnXCJyZXNvdXJjZVJvb3RcIiB3YXMgZXhwZWN0ZWQgdG8gZXhpc3QuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICApO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5wcmVjZWRlbmNlICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLmhyZWZcbiAgICAgICAgICAgID8gKChwZW5kaW5nUHJvcHMgPSBnZXRTdHlsZUtleShwZW5kaW5nUHJvcHMuaHJlZikpLFxuICAgICAgICAgICAgICAoY3VycmVudFByb3BzID1cbiAgICAgICAgICAgICAgICBnZXRSZXNvdXJjZXNGcm9tUm9vdChyZXNvdXJjZVJvb3QpLmhvaXN0YWJsZVN0eWxlcyksXG4gICAgICAgICAgICAgIChjdXJyZW50UmVzb3VyY2UgPSBjdXJyZW50UHJvcHMuZ2V0KHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgICAoKGN1cnJlbnRSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3R5bGVcIixcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcy5zZXQocGVuZGluZ1Byb3BzLCBjdXJyZW50UmVzb3VyY2UpKSxcbiAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgOiB7IHR5cGU6IFwidm9pZFwiLCBpbnN0YW5jZTogbnVsbCwgY291bnQ6IDAsIHN0YXRlOiBudWxsIH07XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHBlbmRpbmdQcm9wcy5yZWwgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMuaHJlZiAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0eXBlID0gZ2V0U3R5bGVLZXkocGVuZGluZ1Byb3BzLmhyZWYpO1xuICAgICAgICAgICAgdmFyIF9zdHlsZXMgPSBnZXRSZXNvdXJjZXNGcm9tUm9vdChyZXNvdXJjZVJvb3QpLmhvaXN0YWJsZVN0eWxlcyxcbiAgICAgICAgICAgICAgX3Jlc291cmNlID0gX3N0eWxlcy5nZXQodHlwZSk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFfcmVzb3VyY2UgJiZcbiAgICAgICAgICAgICAgKChyZXNvdXJjZVJvb3QgPSByZXNvdXJjZVJvb3Qub3duZXJEb2N1bWVudCB8fCByZXNvdXJjZVJvb3QpLFxuICAgICAgICAgICAgICAoX3Jlc291cmNlID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB7IGxvYWRpbmc6IE5vdExvYWRlZCwgcHJlbG9hZDogbnVsbCB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfc3R5bGVzLnNldCh0eXBlLCBfcmVzb3VyY2UpLFxuICAgICAgICAgICAgICAoX3N0eWxlcyA9IHJlc291cmNlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkodHlwZSlcbiAgICAgICAgICAgICAgKSkgJiZcbiAgICAgICAgICAgICAgICAhX3N0eWxlcy5fcCAmJlxuICAgICAgICAgICAgICAgICgoX3Jlc291cmNlLmluc3RhbmNlID0gX3N0eWxlcyksXG4gICAgICAgICAgICAgICAgKF9yZXNvdXJjZS5zdGF0ZS5sb2FkaW5nID0gTG9hZGVkIHwgSW5zZXJ0ZWQpKSxcbiAgICAgICAgICAgICAgIXByZWxvYWRQcm9wc01hcC5oYXModHlwZSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIHByZWxvYWRQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgICAgICAgICAgICAgIGFzOiBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgaHJlZjogcGVuZGluZ1Byb3BzLmhyZWYsXG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHBlbmRpbmdQcm9wcy5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6IHBlbmRpbmdQcm9wcy5pbnRlZ3JpdHksXG4gICAgICAgICAgICAgICAgbWVkaWE6IHBlbmRpbmdQcm9wcy5tZWRpYSxcbiAgICAgICAgICAgICAgICBocmVmTGFuZzogcGVuZGluZ1Byb3BzLmhyZWZMYW5nLFxuICAgICAgICAgICAgICAgIHJlZmVycmVyUG9saWN5OiBwZW5kaW5nUHJvcHMucmVmZXJyZXJQb2xpY3lcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcHJlbG9hZFByb3BzTWFwLnNldCh0eXBlLCBwcmVsb2FkUHJvcHMpO1xuICAgICAgICAgICAgICBfc3R5bGVzIHx8XG4gICAgICAgICAgICAgICAgcHJlbG9hZFN0eWxlc2hlZXQoXG4gICAgICAgICAgICAgICAgICByZXNvdXJjZVJvb3QsXG4gICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgcHJlbG9hZFByb3BzLFxuICAgICAgICAgICAgICAgICAgX3Jlc291cmNlLnN0YXRlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJvcHMgJiYgbnVsbCA9PT0gY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgKChwZW5kaW5nUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgXCJcXG5cXG4gIC0gXCIgK1xuICAgICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihjdXJyZW50UHJvcHMpICtcbiAgICAgICAgICAgICAgICAgIFwiXFxuICArIFwiICtcbiAgICAgICAgICAgICAgICAgIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIDxsaW5rPiBub3QgdG8gdXBkYXRlIHRvIGJlIHVwZGF0ZWQgdG8gYSBzdHlsZXNoZWV0IHdpdGggcHJlY2VkZW5jZS4gQ2hlY2sgdGhlIGByZWxgLCBgaHJlZmAsIGFuZCBgcHJlY2VkZW5jZWAgcHJvcHMgb2YgdGhpcyBjb21wb25lbnQuIEFsdGVybmF0aXZlbHksIGNoZWNrIHdoZXRoZXIgdHdvIGRpZmZlcmVudCA8bGluaz4gY29tcG9uZW50cyByZW5kZXIgaW4gdGhlIHNhbWUgc2xvdCBvciBzaGFyZSB0aGUgc2FtZSBrZXkuXCIgK1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUHJvcHNcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIF9yZXNvdXJjZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRQcm9wcyAmJiBudWxsICE9PSBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICgocGVuZGluZ1Byb3BzID1cbiAgICAgICAgICAgICAgICBcIlxcblxcbiAgLSBcIiArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihjdXJyZW50UHJvcHMpICtcbiAgICAgICAgICAgICAgICBcIlxcbiAgKyBcIiArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBzdHlsZXNoZWV0IHdpdGggcHJlY2VkZW5jZSB0byBub3QgYmUgdXBkYXRlZCB0byBhIGRpZmZlcmVudCBraW5kIG9mIDxsaW5rPi4gQ2hlY2sgdGhlIGByZWxgLCBgaHJlZmAsIGFuZCBgcHJlY2VkZW5jZWAgcHJvcHMgb2YgdGhpcyBjb21wb25lbnQuIEFsdGVybmF0aXZlbHksIGNoZWNrIHdoZXRoZXIgdHdvIGRpZmZlcmVudCA8bGluaz4gY29tcG9uZW50cyByZW5kZXIgaW4gdGhlIHNhbWUgc2xvdCBvciBzaGFyZSB0aGUgc2FtZSBrZXkuXCIgK1xuICAgICAgICAgICAgICAgICAgcGVuZGluZ1Byb3BzXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50UHJvcHMgPSBwZW5kaW5nUHJvcHMuYXN5bmMpLFxuICAgICAgICAgICAgKHBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcy5zcmMpLFxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcyAmJlxuICAgICAgICAgICAgY3VycmVudFByb3BzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjdXJyZW50UHJvcHMgJiZcbiAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBjdXJyZW50UHJvcHNcbiAgICAgICAgICAgICAgPyAoKHBlbmRpbmdQcm9wcyA9IGdldFNjcmlwdEtleShwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFByb3BzID1cbiAgICAgICAgICAgICAgICAgIGdldFJlc291cmNlc0Zyb21Sb290KHJlc291cmNlUm9vdCkuaG9pc3RhYmxlU2NyaXB0cyksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRSZXNvdXJjZSA9IGN1cnJlbnRQcm9wcy5nZXQocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlIHx8XG4gICAgICAgICAgICAgICAgICAoKGN1cnJlbnRSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMuc2V0KHBlbmRpbmdQcm9wcywgY3VycmVudFJlc291cmNlKSksXG4gICAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgICA6IHsgdHlwZTogXCJ2b2lkXCIsIGluc3RhbmNlOiBudWxsLCBjb3VudDogMCwgc3RhdGU6IG51bGwgfVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAnZ2V0UmVzb3VyY2UgZW5jb3VudGVyZWQgYSB0eXBlIGl0IGRpZCBub3QgZXhwZWN0OiBcIicgK1xuICAgICAgICAgICAgICB0eXBlICtcbiAgICAgICAgICAgICAgJ1wiLiB0aGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKHByb3BzKSB7XG4gICAgICB2YXIgZGVzY3JpYmVkUHJvcHMgPSAwLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IFwiPGxpbmtcIjtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5yZWxcbiAgICAgICAgPyAoZGVzY3JpYmVkUHJvcHMrKywgKGRlc2NyaXB0aW9uICs9ICcgcmVsPVwiJyArIHByb3BzLnJlbCArICdcIicpKVxuICAgICAgICA6IGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwicmVsXCIpICYmXG4gICAgICAgICAgKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAnIHJlbD1cIicgK1xuICAgICAgICAgICAgKG51bGwgPT09IHByb3BzLnJlbCA/IFwibnVsbFwiIDogXCJpbnZhbGlkIHR5cGUgXCIgKyB0eXBlb2YgcHJvcHMucmVsKSArXG4gICAgICAgICAgICAnXCInKSk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMuaHJlZlxuICAgICAgICA/IChkZXNjcmliZWRQcm9wcysrLCAoZGVzY3JpcHRpb24gKz0gJyBocmVmPVwiJyArIHByb3BzLmhyZWYgKyAnXCInKSlcbiAgICAgICAgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcImhyZWZcIikgJiZcbiAgICAgICAgICAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICcgaHJlZj1cIicgK1xuICAgICAgICAgICAgKG51bGwgPT09IHByb3BzLmhyZWZcbiAgICAgICAgICAgICAgPyBcIm51bGxcIlxuICAgICAgICAgICAgICA6IFwiaW52YWxpZCB0eXBlIFwiICsgdHlwZW9mIHByb3BzLmhyZWYpICtcbiAgICAgICAgICAgICdcIicpKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgID8gKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9ICcgcHJlY2VkZW5jZT1cIicgKyBwcm9wcy5wcmVjZWRlbmNlICsgJ1wiJykpXG4gICAgICAgIDogaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJwcmVjZWRlbmNlXCIpICYmXG4gICAgICAgICAgKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICBcIiBwcmVjZWRlbmNlPXtcIiArXG4gICAgICAgICAgICAobnVsbCA9PT0gcHJvcHMucHJlY2VkZW5jZVxuICAgICAgICAgICAgICA/IFwibnVsbFwiXG4gICAgICAgICAgICAgIDogXCJpbnZhbGlkIHR5cGUgXCIgKyB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZSkgK1xuICAgICAgICAgICAgXCJ9XCIpKTtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKS5sZW5ndGggPiBkZXNjcmliZWRQcm9wcyAmJlxuICAgICAgICAoZGVzY3JpcHRpb24gKz0gXCIgLi4uXCIpO1xuICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uICsgXCIgLz5cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVLZXkoaHJlZikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJ2hyZWY9XCInICsgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKSArICdcIidcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KSB7XG4gICAgICByZXR1cm4gJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXVsnICsga2V5ICsgXCJdXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0eWxlc2hlZXRQcm9wc0Zyb21SYXdQcm9wcyhyYXdQcm9wcykge1xuICAgICAgcmV0dXJuIGFzc2lnbih7fSwgcmF3UHJvcHMsIHtcbiAgICAgICAgXCJkYXRhLXByZWNlZGVuY2VcIjogcmF3UHJvcHMucHJlY2VkZW5jZSxcbiAgICAgICAgcHJlY2VkZW5jZTogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWxvYWRTdHlsZXNoZWV0KG93bmVyRG9jdW1lbnQsIGtleSwgcHJlbG9hZFByb3BzLCBzdGF0ZSkge1xuICAgICAgb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnbGlua1tyZWw9XCJwcmVsb2FkXCJdW2FzPVwic3R5bGVcIl1bJyArIGtleSArIFwiXVwiXG4gICAgICApXG4gICAgICAgID8gKHN0YXRlLmxvYWRpbmcgPSBMb2FkZWQpXG4gICAgICAgIDogKChrZXkgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKSxcbiAgICAgICAgICAoc3RhdGUucHJlbG9hZCA9IGtleSksXG4gICAgICAgICAga2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoc3RhdGUubG9hZGluZyB8PSBMb2FkZWQpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGtleS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5sb2FkaW5nIHw9IEVycm9yZWQpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGtleSwgXCJsaW5rXCIsIHByZWxvYWRQcm9wcyksXG4gICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShrZXkpLFxuICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChrZXkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2NyaXB0S2V5KHNyYykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJ1tzcmM9XCInICsgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhzcmMpICsgJ1wiXSdcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpIHtcbiAgICAgIHJldHVybiBcInNjcmlwdFthc3luY11cIiArIGtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNxdWlyZVJlc291cmNlKGhvaXN0YWJsZVJvb3QsIHJlc291cmNlLCBwcm9wcykge1xuICAgICAgcmVzb3VyY2UuY291bnQrKztcbiAgICAgIGlmIChudWxsID09PSByZXNvdXJjZS5pbnN0YW5jZSlcbiAgICAgICAgc3dpdGNoIChyZXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICdzdHlsZVtkYXRhLWhyZWZ+PVwiJyArXG4gICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlcyhwcm9wcy5ocmVmKSArXG4gICAgICAgICAgICAgICAgJ1wiXSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLmluc3RhbmNlID0gaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgc3R5bGVQcm9wcyA9IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgXCJkYXRhLWhyZWZcIjogcHJvcHMuaHJlZixcbiAgICAgICAgICAgICAgXCJkYXRhLXByZWNlZGVuY2VcIjogcHJvcHMucHJlY2VkZW5jZSxcbiAgICAgICAgICAgICAgaHJlZjogbnVsbCxcbiAgICAgICAgICAgICAgcHJlY2VkZW5jZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IChcbiAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3RcbiAgICAgICAgICAgICkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSk7XG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhpbnN0YW5jZSwgXCJzdHlsZVwiLCBzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIGluc2VydFN0eWxlc2hlZXQoaW5zdGFuY2UsIHByb3BzLnByZWNlZGVuY2UsIGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlKTtcbiAgICAgICAgICBjYXNlIFwic3R5bGVzaGVldFwiOlxuICAgICAgICAgICAgc3R5bGVQcm9wcyA9IGdldFN0eWxlS2V5KHByb3BzLmhyZWYpO1xuICAgICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShzdHlsZVByb3BzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChfaW5zdGFuY2UpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQpLFxuICAgICAgICAgICAgICAgIChyZXNvdXJjZS5pbnN0YW5jZSA9IF9pbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShfaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBzdHlsZXNoZWV0UHJvcHNGcm9tUmF3UHJvcHMocHJvcHMpO1xuICAgICAgICAgICAgKHN0eWxlUHJvcHMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KHN0eWxlUHJvcHMpKSAmJlxuICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQoaW5zdGFuY2UsIHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgX2luc3RhbmNlID0gKFxuICAgICAgICAgICAgICBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdFxuICAgICAgICAgICAgKS5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoX2luc3RhbmNlKTtcbiAgICAgICAgICAgIHZhciBsaW5rSW5zdGFuY2UgPSBfaW5zdGFuY2U7XG4gICAgICAgICAgICBsaW5rSW5zdGFuY2UuX3AgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICAgICAgICBsaW5rSW5zdGFuY2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoX2luc3RhbmNlLCBcImxpbmtcIiwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgcmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgICAgICAgIGluc2VydFN0eWxlc2hlZXQoX2luc3RhbmNlLCBwcm9wcy5wcmVjZWRlbmNlLCBob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgIHJldHVybiAocmVzb3VyY2UuaW5zdGFuY2UgPSBfaW5zdGFuY2UpO1xuICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IGdldFNjcmlwdEtleShwcm9wcy5zcmMpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoc3R5bGVQcm9wcyA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoX2luc3RhbmNlKVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChyZXNvdXJjZS5pbnN0YW5jZSA9IHN0eWxlUHJvcHMpLFxuICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoc3R5bGVQcm9wcyksXG4gICAgICAgICAgICAgICAgc3R5bGVQcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBwcm9wcztcbiAgICAgICAgICAgIGlmICgoc3R5bGVQcm9wcyA9IHByZWxvYWRQcm9wc01hcC5nZXQoX2luc3RhbmNlKSkpXG4gICAgICAgICAgICAgIChpbnN0YW5jZSA9IGFzc2lnbih7fSwgcHJvcHMpKSxcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChpbnN0YW5jZSwgc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICBob2lzdGFibGVSb290ID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICBzdHlsZVByb3BzID0gaG9pc3RhYmxlUm9vdC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHN0eWxlUHJvcHMsIFwibGlua1wiLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICBob2lzdGFibGVSb290LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc291cmNlLmluc3RhbmNlID0gc3R5bGVQcm9wcyk7XG4gICAgICAgICAgY2FzZSBcInZvaWRcIjpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgJ2FjcXVpcmVSZXNvdXJjZSBlbmNvdW50ZXJlZCBhIHJlc291cmNlIHR5cGUgaXQgZGlkIG5vdCBleHBlY3Q6IFwiJyArXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSArXG4gICAgICAgICAgICAgICAgJ1wiLiB0aGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHJlc291cmNlLnR5cGUgJiZcbiAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSA9PT0gTm90TG9hZGVkICYmXG4gICAgICAgICAgKChpbnN0YW5jZSA9IHJlc291cmNlLmluc3RhbmNlKSxcbiAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZCksXG4gICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChpbnN0YW5jZSwgcHJvcHMucHJlY2VkZW5jZSwgaG9pc3RhYmxlUm9vdCkpO1xuICAgICAgcmV0dXJuIHJlc291cmNlLmluc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRTdHlsZXNoZWV0KGluc3RhbmNlLCBwcmVjZWRlbmNlLCByb290KSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgbm9kZXMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAnbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdW2RhdGEtcHJlY2VkZW5jZV0sc3R5bGVbZGF0YS1wcmVjZWRlbmNlXSdcbiAgICAgICAgICApLFxuICAgICAgICAgIGxhc3QgPSBub2Rlcy5sZW5ndGggPyBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXSA6IG51bGwsXG4gICAgICAgICAgcHJpb3IgPSBsYXN0LFxuICAgICAgICAgIGkgPSAwO1xuICAgICAgICBpIDwgbm9kZXMubGVuZ3RoO1xuICAgICAgICBpKytcbiAgICAgICkge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZWNlZGVuY2UgPT09IHByZWNlZGVuY2UpIHByaW9yID0gbm9kZTtcbiAgICAgICAgZWxzZSBpZiAocHJpb3IgIT09IGxhc3QpIGJyZWFrO1xuICAgICAgfVxuICAgICAgcHJpb3JcbiAgICAgICAgPyBwcmlvci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpbnN0YW5jZSwgcHJpb3IubmV4dFNpYmxpbmcpXG4gICAgICAgIDogKChwcmVjZWRlbmNlID0gOSA9PT0gcm9vdC5ub2RlVHlwZSA/IHJvb3QuaGVhZCA6IHJvb3QpLFxuICAgICAgICAgIHByZWNlZGVuY2UuaW5zZXJ0QmVmb3JlKGluc3RhbmNlLCBwcmVjZWRlbmNlLmZpcnN0Q2hpbGQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRvcHRQcmVsb2FkUHJvcHNGb3JTdHlsZXNoZWV0KHN0eWxlc2hlZXRQcm9wcywgcHJlbG9hZFByb3BzKSB7XG4gICAgICBudWxsID09IHN0eWxlc2hlZXRQcm9wcy5jcm9zc09yaWdpbiAmJlxuICAgICAgICAoc3R5bGVzaGVldFByb3BzLmNyb3NzT3JpZ2luID0gcHJlbG9hZFByb3BzLmNyb3NzT3JpZ2luKTtcbiAgICAgIG51bGwgPT0gc3R5bGVzaGVldFByb3BzLnJlZmVycmVyUG9saWN5ICYmXG4gICAgICAgIChzdHlsZXNoZWV0UHJvcHMucmVmZXJyZXJQb2xpY3kgPSBwcmVsb2FkUHJvcHMucmVmZXJyZXJQb2xpY3kpO1xuICAgICAgbnVsbCA9PSBzdHlsZXNoZWV0UHJvcHMudGl0bGUgJiZcbiAgICAgICAgKHN0eWxlc2hlZXRQcm9wcy50aXRsZSA9IHByZWxvYWRQcm9wcy50aXRsZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkb3B0UHJlbG9hZFByb3BzRm9yU2NyaXB0KHNjcmlwdFByb3BzLCBwcmVsb2FkUHJvcHMpIHtcbiAgICAgIG51bGwgPT0gc2NyaXB0UHJvcHMuY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgKHNjcmlwdFByb3BzLmNyb3NzT3JpZ2luID0gcHJlbG9hZFByb3BzLmNyb3NzT3JpZ2luKTtcbiAgICAgIG51bGwgPT0gc2NyaXB0UHJvcHMucmVmZXJyZXJQb2xpY3kgJiZcbiAgICAgICAgKHNjcmlwdFByb3BzLnJlZmVycmVyUG9saWN5ID0gcHJlbG9hZFByb3BzLnJlZmVycmVyUG9saWN5KTtcbiAgICAgIG51bGwgPT0gc2NyaXB0UHJvcHMuaW50ZWdyaXR5ICYmXG4gICAgICAgIChzY3JpcHRQcm9wcy5pbnRlZ3JpdHkgPSBwcmVsb2FkUHJvcHMuaW50ZWdyaXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SHlkcmF0YWJsZUhvaXN0YWJsZUNhY2hlKHR5cGUsIGtleUF0dHJpYnV0ZSwgb3duZXJEb2N1bWVudCkge1xuICAgICAgaWYgKG51bGwgPT09IHRhZ0NhY2hlcykge1xuICAgICAgICB2YXIgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBjYWNoZXMgPSAodGFnQ2FjaGVzID0gbmV3IE1hcCgpKTtcbiAgICAgICAgY2FjaGVzLnNldChvd25lckRvY3VtZW50LCBjYWNoZSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKGNhY2hlcyA9IHRhZ0NhY2hlcyksXG4gICAgICAgICAgKGNhY2hlID0gY2FjaGVzLmdldChvd25lckRvY3VtZW50KSksXG4gICAgICAgICAgY2FjaGUgfHwgKChjYWNoZSA9IG5ldyBNYXAoKSksIGNhY2hlcy5zZXQob3duZXJEb2N1bWVudCwgY2FjaGUpKTtcbiAgICAgIGlmIChjYWNoZS5oYXModHlwZSkpIHJldHVybiBjYWNoZTtcbiAgICAgIGNhY2hlLnNldCh0eXBlLCBudWxsKTtcbiAgICAgIG93bmVyRG9jdW1lbnQgPSBvd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHR5cGUpO1xuICAgICAgZm9yIChjYWNoZXMgPSAwOyBjYWNoZXMgPCBvd25lckRvY3VtZW50Lmxlbmd0aDsgY2FjaGVzKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBvd25lckRvY3VtZW50W2NhY2hlc107XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhKFxuICAgICAgICAgICAgbm9kZVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gfHxcbiAgICAgICAgICAgIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gfHxcbiAgICAgICAgICAgIChcImxpbmtcIiA9PT0gdHlwZSAmJiBcInN0eWxlc2hlZXRcIiA9PT0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJyZWxcIikpXG4gICAgICAgICAgKSAmJlxuICAgICAgICAgIG5vZGUubmFtZXNwYWNlVVJJICE9PSBTVkdfTkFNRVNQQUNFXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBub2RlS2V5ID0gbm9kZS5nZXRBdHRyaWJ1dGUoa2V5QXR0cmlidXRlKSB8fCBcIlwiO1xuICAgICAgICAgIG5vZGVLZXkgPSB0eXBlICsgbm9kZUtleTtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBjYWNoZS5nZXQobm9kZUtleSk7XG4gICAgICAgICAgZXhpc3RpbmcgPyBleGlzdGluZy5wdXNoKG5vZGUpIDogY2FjaGUuc2V0KG5vZGVLZXksIFtub2RlXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRIb2lzdGFibGUoaG9pc3RhYmxlUm9vdCwgdHlwZSwgaW5zdGFuY2UpIHtcbiAgICAgIGhvaXN0YWJsZVJvb3QgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgIGhvaXN0YWJsZVJvb3QuaGVhZC5pbnNlcnRCZWZvcmUoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBcInRpdGxlXCIgPT09IHR5cGUgPyBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkID4gdGl0bGVcIikgOiBudWxsXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0hvc3RIb2lzdGFibGVUeXBlKHR5cGUsIHByb3BzLCBob3N0Q29udGV4dCkge1xuICAgICAgdmFyIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCA9XG4gICAgICAgICFob3N0Q29udGV4dC5hbmNlc3RvckluZm8uY29udGFpbmVyVGFnSW5TY29wZTtcbiAgICAgIGlmIChcbiAgICAgICAgaG9zdENvbnRleHQuY29udGV4dCA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VTdmcgfHxcbiAgICAgICAgbnVsbCAhPSBwcm9wcy5pdGVtUHJvcFxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICFvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgfHxcbiAgICAgICAgICAgIG51bGwgPT0gcHJvcHMuaXRlbVByb3AgfHxcbiAgICAgICAgICAgIChcIm1ldGFcIiAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICBcInRpdGxlXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJzdHlsZVwiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwibGlua1wiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwic2NyaXB0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8JXM+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgaWYgaXQgaGFzIGFuIGBpdGVtUHJvcGAgcHJvcC4gYGl0ZW1Qcm9wYCBzdWdnZXN0cyB0aGUgdGFnIGJlbG9uZ3MgdG8gYW4gYGl0ZW1TY29wZWAgd2hpY2ggY2FuIGFwcGVhciBhbnl3aGVyZSBpbiB0aGUgRE9NLiBJZiB5b3Ugd2VyZSBpbnRlbmRpbmcgZm9yIFJlYWN0IHRvIGhvaXN0IHRoaXMgPCVzPiByZW1vdmUgdGhlIGBpdGVtUHJvcGAgcHJvcC4gT3RoZXJ3aXNlLCB0cnkgbW92aW5nIHRoaXMgdGFnIGludG8gdGhlIDxoZWFkPiBvciA8Ym9keT4gb2YgdGhlIERvY3VtZW50LlwiLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInRpdGxlXCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZSB8fFxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLmhyZWYgfHxcbiAgICAgICAgICAgIFwiXCIgPT09IHByb3BzLmhyZWZcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdDYW5ub3QgcmVuZGVyIGEgPHN0eWxlPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQga25vd2luZyBpdHMgcHJlY2VkZW5jZSBhbmQgYSB1bmlxdWUgaHJlZiBrZXkuIFJlYWN0IGNhbiBob2lzdCBhbmQgZGVkdXBsaWNhdGUgPHN0eWxlPiB0YWdzIGlmIHlvdSBwcm92aWRlIGEgYHByZWNlZGVuY2VgIHByb3AgYWxvbmcgd2l0aCBhbiBgaHJlZmAgcHJvcCB0aGF0IGRvZXMgbm90IGNvbmZsaWMgd2l0aCB0aGUgYGhyZWZgIHZhbHVlcyB1c2VkIGluIGFueSBvdGhlciBob2lzdGVkIDxzdHlsZT4gb3IgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIC4uLj4gdGFncy4gIE5vdGUgdGhhdCBob2lzdGluZyA8c3R5bGU+IHRhZ3MgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZCBmZWF0dXJlIHRoYXQgbW9zdCB3aWxsIG5vdCB1c2UgZGlyZWN0bHkuIENvbnNpZGVyIG1vdmluZyB0aGUgPHN0eWxlPiB0YWcgdG8gdGhlIDxoZWFkPiBvciBjb25zaWRlciBhZGRpbmcgYSBgcHJlY2VkZW5jZT1cImRlZmF1bHRcImAgYW5kIGBocmVmPVwic29tZSB1bmlxdWUgcmVzb3VyY2UgaWRlbnRpZmllclwiYCwgb3IgbW92ZSB0aGUgPHN0eWxlPiB0byB0aGUgPHN0eWxlPiB0YWcuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMucmVsIHx8XG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgXCJcIiA9PT0gcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgcHJvcHMub25Mb2FkIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkVycm9yXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwic3R5bGVzaGVldFwiID09PSBwcm9wcy5yZWwgJiZcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLnByZWNlZGVuY2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0eXBlID0gcHJvcHMuaHJlZjtcbiAgICAgICAgICAgICAgdmFyIG9uRXJyb3IgPSBwcm9wcy5vbkVycm9yLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgIGhvc3RDb250ZXh0ID0gW107XG4gICAgICAgICAgICAgIHByb3BzLm9uTG9hZCAmJiBob3N0Q29udGV4dC5wdXNoKFwiYG9uTG9hZGBcIik7XG4gICAgICAgICAgICAgIG9uRXJyb3IgJiYgaG9zdENvbnRleHQucHVzaChcImBvbkVycm9yYFwiKTtcbiAgICAgICAgICAgICAgbnVsbCAhPSBkaXNhYmxlZCAmJiBob3N0Q29udGV4dC5wdXNoKFwiYGRpc2FibGVkYFwiKTtcbiAgICAgICAgICAgICAgb25FcnJvciA9IHByb3BOYW1lc0xpc3RKb2luKGhvc3RDb250ZXh0LCBcImFuZFwiKTtcbiAgICAgICAgICAgICAgb25FcnJvciArPSAxID09PSBob3N0Q29udGV4dC5sZW5ndGggPyBcIiBwcm9wXCIgOiBcIiBwcm9wc1wiO1xuICAgICAgICAgICAgICBkaXNhYmxlZCA9XG4gICAgICAgICAgICAgICAgMSA9PT0gaG9zdENvbnRleHQubGVuZ3RoID8gXCJhbiBcIiArIG9uRXJyb3IgOiBcInRoZSBcIiArIG9uRXJyb3I7XG4gICAgICAgICAgICAgIGhvc3RDb250ZXh0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnUmVhY3QgZW5jb3VudGVyZWQgYSA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIiVzXCIgLi4uIC8+IHdpdGggYSBgcHJlY2VkZW5jZWAgcHJvcCB0aGF0IGFsc28gaW5jbHVkZWQgJXMuIFRoZSBwcmVzZW5jZSBvZiBsb2FkaW5nIGFuZCBlcnJvciBoYW5kbGVycyBpbmRpY2F0ZXMgYW4gaW50ZW50IHRvIG1hbmFnZSB0aGUgc3R5bGVzaGVldCBsb2FkaW5nIHN0YXRlIGZyb20geW91ciBmcm9tIHlvdXIgQ29tcG9uZW50IGNvZGUgYW5kIFJlYWN0IHdpbGwgbm90IGhvaXN0IG9yIGRlZHVwbGljYXRlIHRoaXMgc3R5bGVzaGVldC4gSWYgeW91ciBpbnRlbnQgd2FzIHRvIGhhdmUgUmVhY3QgaG9pc3QgYW5kIGRlZHVwbGNpYXRlIHRoaXMgc3R5bGVzaGVldCB1c2luZyB0aGUgYHByZWNlZGVuY2VgIHByb3AgcmVtb3ZlIHRoZSAlcywgb3RoZXJ3aXNlIHJlbW92ZSB0aGUgYHByZWNlZGVuY2VgIHByb3AuJyxcbiAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIG9uRXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMucmVsIHx8XG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICAgIFwiXCIgPT09IHByb3BzLmhyZWZcbiAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDxsaW5rPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQgYSBgcmVsYCBhbmQgYGhyZWZgIHByb3AuIFRyeSBhZGRpbmcgYSBgcmVsYCBhbmQvb3IgYGhyZWZgIHByb3AgdG8gdGhpcyA8bGluaz4gb3IgbW92aW5nIHRoZSBsaW5rIGludG8gdGhlIDxoZWFkPiB0YWdcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogKHByb3BzLm9uRXJyb3IgfHwgcHJvcHMub25Mb2FkKSAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPGxpbms+IHdpdGggb25Mb2FkIG9yIG9uRXJyb3IgbGlzdGVuZXJzIG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQuIFRyeSByZW1vdmluZyBvbkxvYWQ9ey4uLn0gYW5kIG9uRXJyb3I9ey4uLn0gb3IgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZyBvciBzb21ld2hlcmUgaW4gdGhlIDxib2R5Pi5cIlxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoIChwcm9wcy5yZWwpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHlsZXNoZWV0XCI6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHR5cGUgPSBwcm9wcy5wcmVjZWRlbmNlKSxcbiAgICAgICAgICAgICAgICAocHJvcHMgPSBwcm9wcy5kaXNhYmxlZCksXG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW5kZXIgYSA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgLz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGtub3dpbmcgaXRzIHByZWNlZGVuY2UuIENvbnNpZGVyIGFkZGluZyBwcmVjZWRlbmNlPVwiZGVmYXVsdFwiIG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcuJ1xuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSAmJiBudWxsID09IHByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgdHlwZSA9XG4gICAgICAgICAgICBwcm9wcy5hc3luYyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcHJvcHMuYXN5bmMgJiZcbiAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBwcm9wcy5hc3luYztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhdHlwZSB8fFxuICAgICAgICAgICAgcHJvcHMub25Mb2FkIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkVycm9yIHx8XG4gICAgICAgICAgICAhcHJvcHMuc3JjIHx8XG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuc3JjXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgKHR5cGVcbiAgICAgICAgICAgICAgICA/IHByb3BzLm9uTG9hZCB8fCBwcm9wcy5vbkVycm9yXG4gICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPHNjcmlwdD4gd2l0aCBvbkxvYWQgb3Igb25FcnJvciBsaXN0ZW5lcnMgb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudC4gVHJ5IHJlbW92aW5nIG9uTG9hZD17Li4ufSBhbmQgb25FcnJvcj17Li4ufSBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnIG9yIHNvbWV3aGVyZSBpbiB0aGUgPGJvZHk+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8c2NyaXB0PiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQgYGFzeW5jPXt0cnVlfWAgYW5kIGEgbm9uLWVtcHR5IGBzcmNgIHByb3AuIEVuc3VyZSB0aGVyZSBpcyBhIHZhbGlkIGBzcmNgIGFuZCBlaXRoZXIgbWFrZSB0aGUgc2NyaXB0IGFzeW5jIG9yIG1vdmUgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnIG9yIHNvbWV3aGVyZSBpbiB0aGUgPGJvZHk+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdDYW5ub3QgcmVuZGVyIGEgc3luYyBvciBkZWZlciA8c2NyaXB0PiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQga25vd2luZyBpdHMgb3JkZXIuIFRyeSBhZGRpbmcgYXN5bmM9XCJcIiBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnLidcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcIm5vc2NyaXB0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZVwiOlxuICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIDwlcz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudC4gVHJ5IG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcuXCIsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWxvYWRSZXNvdXJjZShyZXNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwic3R5bGVzaGVldFwiID09PSByZXNvdXJjZS50eXBlICYmXG4gICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgU2V0dGxlZCkgPT09IE5vdExvYWRlZFxuICAgICAgICA/ICExXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICAgIGZ1bmN0aW9uIHN1c3BlbmRSZXNvdXJjZShob2lzdGFibGVSb290LCByZXNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIGlmIChudWxsID09PSBzdXNwZW5kZWRTdGF0ZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBFcnJvcjogc3VzcGVuZGVkU3RhdGUgbnVsbCB3aGVuIGl0IHdhcyBleHBlY3RlZCB0byBleGlzdHMuIFBsZWFzZSByZXBvcnQgdGhpcyBhcyBhIFJlYWN0IGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHN0YXRlID0gc3VzcGVuZGVkU3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3R5bGVzaGVldFwiID09PSByZXNvdXJjZS50eXBlICYmXG4gICAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMubWVkaWEgfHxcbiAgICAgICAgICAhMSAhPT0gbWF0Y2hNZWRpYShwcm9wcy5tZWRpYSkubWF0Y2hlcykgJiZcbiAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBJbnNlcnRlZCkgPT09IE5vdExvYWRlZFxuICAgICAgKSB7XG4gICAgICAgIGlmIChudWxsID09PSByZXNvdXJjZS5pbnN0YW5jZSkge1xuICAgICAgICAgIHZhciBrZXkgPSBnZXRTdHlsZUtleShwcm9wcy5ocmVmKSxcbiAgICAgICAgICAgIGluc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICBob2lzdGFibGVSb290ID0gaW5zdGFuY2UuX3A7XG4gICAgICAgICAgICBudWxsICE9PSBob2lzdGFibGVSb290ICYmXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBob2lzdGFibGVSb290ICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGhvaXN0YWJsZVJvb3QudGhlbiAmJlxuICAgICAgICAgICAgICAoc3RhdGUuY291bnQrKyxcbiAgICAgICAgICAgICAgKHN0YXRlID0gb25VbnN1c3BlbmQuYmluZChzdGF0ZSkpLFxuICAgICAgICAgICAgICBob2lzdGFibGVSb290LnRoZW4oc3RhdGUsIHN0YXRlKSk7XG4gICAgICAgICAgICByZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaW5zdGFuY2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290O1xuICAgICAgICAgIHByb3BzID0gc3R5bGVzaGVldFByb3BzRnJvbVJhd1Byb3BzKHByb3BzKTtcbiAgICAgICAgICAoa2V5ID0gcHJlbG9hZFByb3BzTWFwLmdldChrZXkpKSAmJlxuICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTdHlsZXNoZWV0KHByb3BzLCBrZXkpO1xuICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSk7XG4gICAgICAgICAgdmFyIGxpbmtJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgIGxpbmtJbnN0YW5jZS5fcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICAgICAgbGlua0luc3RhbmNlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaW5zdGFuY2UsIFwibGlua1wiLCBwcm9wcyk7XG4gICAgICAgICAgcmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBudWxsID09PSBzdGF0ZS5zdHlsZXNoZWV0cyAmJiAoc3RhdGUuc3R5bGVzaGVldHMgPSBuZXcgTWFwKCkpO1xuICAgICAgICBzdGF0ZS5zdHlsZXNoZWV0cy5zZXQocmVzb3VyY2UsIGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAoaG9pc3RhYmxlUm9vdCA9IHJlc291cmNlLnN0YXRlLnByZWxvYWQpICYmXG4gICAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBTZXR0bGVkKSA9PT0gTm90TG9hZGVkICYmXG4gICAgICAgICAgKHN0YXRlLmNvdW50KyssXG4gICAgICAgICAgKHJlc291cmNlID0gb25VbnN1c3BlbmQuYmluZChzdGF0ZSkpLFxuICAgICAgICAgIGhvaXN0YWJsZVJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgcmVzb3VyY2UpLFxuICAgICAgICAgIGhvaXN0YWJsZVJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHJlc291cmNlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhaXRGb3JDb21taXRUb0JlUmVhZHkoKSB7XG4gICAgICBpZiAobnVsbCA9PT0gc3VzcGVuZGVkU3RhdGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgRXJyb3I6IHN1c3BlbmRlZFN0YXRlIG51bGwgd2hlbiBpdCB3YXMgZXhwZWN0ZWQgdG8gZXhpc3RzLiBQbGVhc2UgcmVwb3J0IHRoaXMgYXMgYSBSZWFjdCBidWcuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBzdGF0ZSA9IHN1c3BlbmRlZFN0YXRlO1xuICAgICAgc3RhdGUuc3R5bGVzaGVldHMgJiZcbiAgICAgICAgMCA9PT0gc3RhdGUuY291bnQgJiZcbiAgICAgICAgaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHMoc3RhdGUsIHN0YXRlLnN0eWxlc2hlZXRzKTtcbiAgICAgIHJldHVybiAwIDwgc3RhdGUuY291bnRcbiAgICAgICAgPyBmdW5jdGlvbiAoY29tbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3R5bGVzaGVldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnN0eWxlc2hlZXRzICYmXG4gICAgICAgICAgICAgICAgaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHMoc3RhdGUsIHN0YXRlLnN0eWxlc2hlZXRzKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLnVuc3VzcGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciB1bnN1c3BlbmQgPSBzdGF0ZS51bnN1c3BlbmQ7XG4gICAgICAgICAgICAgICAgc3RhdGUudW5zdXNwZW5kID0gbnVsbDtcbiAgICAgICAgICAgICAgICB1bnN1c3BlbmQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNmU0KTtcbiAgICAgICAgICAgIHN0YXRlLnVuc3VzcGVuZCA9IGNvbW1pdDtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnVuc3VzcGVuZCA9IG51bGw7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdHlsZXNoZWV0VGltZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25VbnN1c3BlbmQoKSB7XG4gICAgICB0aGlzLmNvdW50LS07XG4gICAgICBpZiAoMCA9PT0gdGhpcy5jb3VudClcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzaGVldHMpXG4gICAgICAgICAgaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHModGhpcywgdGhpcy5zdHlsZXNoZWV0cyk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudW5zdXNwZW5kKSB7XG4gICAgICAgICAgdmFyIHVuc3VzcGVuZCA9IHRoaXMudW5zdXNwZW5kO1xuICAgICAgICAgIHRoaXMudW5zdXNwZW5kID0gbnVsbDtcbiAgICAgICAgICB1bnN1c3BlbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyhzdGF0ZSwgcmVzb3VyY2VzKSB7XG4gICAgICBzdGF0ZS5zdHlsZXNoZWV0cyA9IG51bGw7XG4gICAgICBudWxsICE9PSBzdGF0ZS51bnN1c3BlbmQgJiZcbiAgICAgICAgKHN0YXRlLmNvdW50KyssXG4gICAgICAgIChwcmVjZWRlbmNlc0J5Um9vdCA9IG5ldyBNYXAoKSksXG4gICAgICAgIHJlc291cmNlcy5mb3JFYWNoKGluc2VydFN0eWxlc2hlZXRJbnRvUm9vdCwgc3RhdGUpLFxuICAgICAgICAocHJlY2VkZW5jZXNCeVJvb3QgPSBudWxsKSxcbiAgICAgICAgb25VbnN1c3BlbmQuY2FsbChzdGF0ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRTdHlsZXNoZWV0SW50b1Jvb3Qocm9vdCwgcmVzb3VyY2UpIHtcbiAgICAgIGlmICghKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBJbnNlcnRlZCkpIHtcbiAgICAgICAgdmFyIHByZWNlZGVuY2VzID0gcHJlY2VkZW5jZXNCeVJvb3QuZ2V0KHJvb3QpO1xuICAgICAgICBpZiAocHJlY2VkZW5jZXMpIHZhciBsYXN0ID0gcHJlY2VkZW5jZXMuZ2V0KExBU1RfUFJFQ0VERU5DRSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHByZWNlZGVuY2VzID0gbmV3IE1hcCgpO1xuICAgICAgICAgIHByZWNlZGVuY2VzQnlSb290LnNldChyb290LCBwcmVjZWRlbmNlcyk7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciBub2RlcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICBcImxpbmtbZGF0YS1wcmVjZWRlbmNlXSxzdHlsZVtkYXRhLXByZWNlZGVuY2VdXCJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICBpIDwgbm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcIkxJTktcIiA9PT0gbm9kZS5ub2RlTmFtZSB8fFxuICAgICAgICAgICAgICBcIm5vdCBhbGxcIiAhPT0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBwcmVjZWRlbmNlcy5zZXQobm9kZS5kYXRhc2V0LnByZWNlZGVuY2UsIG5vZGUpLCAobGFzdCA9IG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0ICYmIHByZWNlZGVuY2VzLnNldChMQVNUX1BSRUNFREVOQ0UsIGxhc3QpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVzID0gcmVzb3VyY2UuaW5zdGFuY2U7XG4gICAgICAgIG5vZGUgPSBub2Rlcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByZWNlZGVuY2VcIik7XG4gICAgICAgIGkgPSBwcmVjZWRlbmNlcy5nZXQobm9kZSkgfHwgbGFzdDtcbiAgICAgICAgaSA9PT0gbGFzdCAmJiBwcmVjZWRlbmNlcy5zZXQoTEFTVF9QUkVDRURFTkNFLCBub2Rlcyk7XG4gICAgICAgIHByZWNlZGVuY2VzLnNldChub2RlLCBub2Rlcyk7XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgbGFzdCA9IG9uVW5zdXNwZW5kLmJpbmQodGhpcyk7XG4gICAgICAgIG5vZGVzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGxhc3QpO1xuICAgICAgICBub2Rlcy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgbGFzdCk7XG4gICAgICAgIGlcbiAgICAgICAgICA/IGkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZXMsIGkubmV4dFNpYmxpbmcpXG4gICAgICAgICAgOiAoKHJvb3QgPSA5ID09PSByb290Lm5vZGVUeXBlID8gcm9vdC5oZWFkIDogcm9vdCksXG4gICAgICAgICAgICByb290Lmluc2VydEJlZm9yZShub2Rlcywgcm9vdC5maXJzdENoaWxkKSk7XG4gICAgICAgIHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRUb0NvbnNvbGUobWV0aG9kTmFtZSwgYXJncywgYmFkZ2VOYW1lKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICBjYXNlIFwiZGlyXCI6XG4gICAgICAgIGNhc2UgXCJkaXJ4bWxcIjpcbiAgICAgICAgY2FzZSBcImdyb3VwRW5kXCI6XG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICAgIHJldHVybiBiaW5kLmFwcGx5KGNvbnNvbGVbbWV0aG9kTmFtZV0sIFtjb25zb2xlXS5jb25jYXQoYXJncykpO1xuICAgICAgICBjYXNlIFwiYXNzZXJ0XCI6XG4gICAgICAgICAgb2Zmc2V0ID0gMTtcbiAgICAgIH1cbiAgICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDApO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyZ3Nbb2Zmc2V0XVxuICAgICAgICA/IGFyZ3Muc3BsaWNlKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGJhZGdlRm9ybWF0ICsgYXJnc1tvZmZzZXRdLFxuICAgICAgICAgICAgYmFkZ2VTdHlsZSxcbiAgICAgICAgICAgIHBhZCArIGJhZGdlTmFtZSArIHBhZCxcbiAgICAgICAgICAgIHJlc2V0U3R5bGVcbiAgICAgICAgICApXG4gICAgICAgIDogYXJncy5zcGxpY2UoXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgYmFkZ2VGb3JtYXQsXG4gICAgICAgICAgICBiYWRnZVN0eWxlLFxuICAgICAgICAgICAgcGFkICsgYmFkZ2VOYW1lICsgcGFkLFxuICAgICAgICAgICAgcmVzZXRTdHlsZVxuICAgICAgICAgICk7XG4gICAgICBhcmdzLnVuc2hpZnQoY29uc29sZSk7XG4gICAgICByZXR1cm4gYmluZC5hcHBseShjb25zb2xlW21ldGhvZE5hbWVdLCBhcmdzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRmliZXJSb290Tm9kZShcbiAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICB0YWcsXG4gICAgICBoeWRyYXRlLFxuICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICBmb3JtU3RhdGVcbiAgICApIHtcbiAgICAgIHRoaXMudGFnID0gMTtcbiAgICAgIHRoaXMuY29udGFpbmVySW5mbyA9IGNvbnRhaW5lckluZm87XG4gICAgICB0aGlzLmZpbmlzaGVkV29yayA9XG4gICAgICAgIHRoaXMucGluZ0NhY2hlID1cbiAgICAgICAgdGhpcy5jdXJyZW50ID1cbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGRyZW4gPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLnRpbWVvdXRIYW5kbGUgPSBub1RpbWVvdXQ7XG4gICAgICB0aGlzLmNhbGxiYWNrTm9kZSA9XG4gICAgICAgIHRoaXMubmV4dCA9XG4gICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHQgPVxuICAgICAgICB0aGlzLmNvbnRleHQgPVxuICAgICAgICB0aGlzLmNhbmNlbFBlbmRpbmdDb21taXQgPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLmNhbGxiYWNrUHJpb3JpdHkgPSAwO1xuICAgICAgdGhpcy5leHBpcmF0aW9uVGltZXMgPSBjcmVhdGVMYW5lTWFwKC0xKTtcbiAgICAgIHRoaXMuZW50YW5nbGVkTGFuZXMgPVxuICAgICAgICB0aGlzLnNoZWxsU3VzcGVuZENvdW50ZXIgPVxuICAgICAgICB0aGlzLmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzID1cbiAgICAgICAgdGhpcy5maW5pc2hlZExhbmVzID1cbiAgICAgICAgdGhpcy5leHBpcmVkTGFuZXMgPVxuICAgICAgICB0aGlzLndhcm1MYW5lcyA9XG4gICAgICAgIHRoaXMucGluZ2VkTGFuZXMgPVxuICAgICAgICB0aGlzLnN1c3BlbmRlZExhbmVzID1cbiAgICAgICAgdGhpcy5wZW5kaW5nTGFuZXMgPVxuICAgICAgICAgIDA7XG4gICAgICB0aGlzLmVudGFuZ2xlbWVudHMgPSBjcmVhdGVMYW5lTWFwKDApO1xuICAgICAgdGhpcy5oaWRkZW5VcGRhdGVzID0gY3JlYXRlTGFuZU1hcChudWxsKTtcbiAgICAgIHRoaXMuaWRlbnRpZmllclByZWZpeCA9IGlkZW50aWZpZXJQcmVmaXg7XG4gICAgICB0aGlzLm9uVW5jYXVnaHRFcnJvciA9IG9uVW5jYXVnaHRFcnJvcjtcbiAgICAgIHRoaXMub25DYXVnaHRFcnJvciA9IG9uQ2F1Z2h0RXJyb3I7XG4gICAgICB0aGlzLm9uUmVjb3ZlcmFibGVFcnJvciA9IG9uUmVjb3ZlcmFibGVFcnJvcjtcbiAgICAgIHRoaXMucG9vbGVkQ2FjaGUgPSBudWxsO1xuICAgICAgdGhpcy5wb29sZWRDYWNoZUxhbmVzID0gMDtcbiAgICAgIHRoaXMuZm9ybVN0YXRlID0gZm9ybVN0YXRlO1xuICAgICAgdGhpcy5pbmNvbXBsZXRlVHJhbnNpdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICB0aGlzLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IHRoaXMuZWZmZWN0RHVyYXRpb24gPSAtMDtcbiAgICAgIHRoaXMubWVtb2l6ZWRVcGRhdGVycyA9IG5ldyBTZXQoKTtcbiAgICAgIGNvbnRhaW5lckluZm8gPSB0aGlzLnBlbmRpbmdVcGRhdGVyc0xhbmVNYXAgPSBbXTtcbiAgICAgIGZvciAodGFnID0gMDsgMzEgPiB0YWc7IHRhZysrKSBjb250YWluZXJJbmZvLnB1c2gobmV3IFNldCgpKTtcbiAgICAgIHRoaXMuX2RlYnVnUm9vdFR5cGUgPSBoeWRyYXRlID8gXCJoeWRyYXRlUm9vdCgpXCIgOiBcImNyZWF0ZVJvb3QoKVwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlclJvb3QoXG4gICAgICBjb250YWluZXJJbmZvLFxuICAgICAgdGFnLFxuICAgICAgaHlkcmF0ZSxcbiAgICAgIGluaXRpYWxDaGlsZHJlbixcbiAgICAgIGh5ZHJhdGlvbkNhbGxiYWNrcyxcbiAgICAgIGlzU3RyaWN0TW9kZSxcbiAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyxcbiAgICAgIGZvcm1TdGF0ZVxuICAgICkge1xuICAgICAgY29udGFpbmVySW5mbyA9IG5ldyBGaWJlclJvb3ROb2RlKFxuICAgICAgICBjb250YWluZXJJbmZvLFxuICAgICAgICB0YWcsXG4gICAgICAgIGh5ZHJhdGUsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICBmb3JtU3RhdGVcbiAgICAgICk7XG4gICAgICB0YWcgPSBDb25jdXJyZW50TW9kZTtcbiAgICAgICEwID09PSBpc1N0cmljdE1vZGUgJiYgKHRhZyB8PSBTdHJpY3RMZWdhY3lNb2RlIHwgU3RyaWN0RWZmZWN0c01vZGUpO1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgKHRhZyB8PSBQcm9maWxlTW9kZSk7XG4gICAgICBpc1N0cmljdE1vZGUgPSBjcmVhdGVGaWJlcigzLCBudWxsLCBudWxsLCB0YWcpO1xuICAgICAgY29udGFpbmVySW5mby5jdXJyZW50ID0gaXNTdHJpY3RNb2RlO1xuICAgICAgaXNTdHJpY3RNb2RlLnN0YXRlTm9kZSA9IGNvbnRhaW5lckluZm87XG4gICAgICB0YWcgPSBjcmVhdGVDYWNoZSgpO1xuICAgICAgcmV0YWluQ2FjaGUodGFnKTtcbiAgICAgIGNvbnRhaW5lckluZm8ucG9vbGVkQ2FjaGUgPSB0YWc7XG4gICAgICByZXRhaW5DYWNoZSh0YWcpO1xuICAgICAgaXNTdHJpY3RNb2RlLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgIGVsZW1lbnQ6IGluaXRpYWxDaGlsZHJlbixcbiAgICAgICAgaXNEZWh5ZHJhdGVkOiBoeWRyYXRlLFxuICAgICAgICBjYWNoZTogdGFnXG4gICAgICB9O1xuICAgICAgaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKGlzU3RyaWN0TW9kZSk7XG4gICAgICByZXR1cm4gY29udGFpbmVySW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBpZiAoIXBhcmVudENvbXBvbmVudCkgcmV0dXJuIGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgIHBhcmVudENvbXBvbmVudCA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgIHJldHVybiBwYXJlbnRDb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lclN5bmMoXG4gICAgICBlbGVtZW50LFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgY2FsbGJhY2tcbiAgICApIHtcbiAgICAgIDAgPT09IGNvbnRhaW5lci50YWcgJiYgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgdXBkYXRlQ29udGFpbmVySW1wbChcbiAgICAgICAgY29udGFpbmVyLmN1cnJlbnQsXG4gICAgICAgIDIsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICAgIHJldHVybiAyO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJJbXBsKFxuICAgICAgcm9vdEZpYmVyLFxuICAgICAgbGFuZSxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBjYWxsYmFja1xuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBpbmplY3RlZEhvb2sgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLm9uU2NoZWR1bGVGaWJlclJvb3RcbiAgICAgIClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmplY3RlZEhvb2sub25TY2hlZHVsZUZpYmVyUm9vdChyZW5kZXJlcklELCBjb250YWluZXIsIGVsZW1lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclNjaGVkdWxlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTY2hlZHVsZWQobGFuZSk7XG4gICAgICBwYXJlbnRDb21wb25lbnQgPSBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpO1xuICAgICAgbnVsbCA9PT0gY29udGFpbmVyLmNvbnRleHRcbiAgICAgICAgPyAoY29udGFpbmVyLmNvbnRleHQgPSBwYXJlbnRDb21wb25lbnQpXG4gICAgICAgIDogKGNvbnRhaW5lci5wZW5kaW5nQ29udGV4dCA9IHBhcmVudENvbXBvbmVudCk7XG4gICAgICBpc1JlbmRlcmluZyAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICFkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzICYmXG4gICAgICAgICgoZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlOyB0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciBpcyBub3QgYWxsb3dlZC4gSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiAlcy5cIixcbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGN1cnJlbnQpIHx8IFwiVW5rbm93blwiXG4gICAgICAgICkpO1xuICAgICAgY29udGFpbmVyID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgY29udGFpbmVyLnBheWxvYWQgPSB7IGVsZW1lbnQ6IGVsZW1lbnQgfTtcbiAgICAgIGNhbGxiYWNrID0gdm9pZCAwID09PSBjYWxsYmFjayA/IG51bGwgOiBjYWxsYmFjaztcbiAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjayAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICksXG4gICAgICAgIChjb250YWluZXIuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgZWxlbWVudCA9IGVucXVldWVVcGRhdGUocm9vdEZpYmVyLCBjb250YWluZXIsIGxhbmUpO1xuICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGVsZW1lbnQsIHJvb3RGaWJlciwgbGFuZSksXG4gICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMoZWxlbWVudCwgcm9vdEZpYmVyLCBsYW5lKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZXRyeUxhbmVJbXBsKGZpYmVyLCByZXRyeUxhbmUpIHtcbiAgICAgIGZpYmVyID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBmaWJlciAmJiBudWxsICE9PSBmaWJlci5kZWh5ZHJhdGVkKSB7XG4gICAgICAgIHZhciBhID0gZmliZXIucmV0cnlMYW5lO1xuICAgICAgICBmaWJlci5yZXRyeUxhbmUgPSAwICE9PSBhICYmIGEgPCByZXRyeUxhbmUgPyBhIDogcmV0cnlMYW5lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChmaWJlciwgcmV0cnlMYW5lKSB7XG4gICAgICBtYXJrUmV0cnlMYW5lSW1wbChmaWJlciwgcmV0cnlMYW5lKTtcbiAgICAgIChmaWJlciA9IGZpYmVyLmFsdGVybmF0ZSkgJiYgbWFya1JldHJ5TGFuZUltcGwoZmliZXIsIHJldHJ5TGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRDb250aW51b3VzSHlkcmF0aW9uKGZpYmVyKSB7XG4gICAgICBpZiAoMTMgPT09IGZpYmVyLnRhZykge1xuICAgICAgICB2YXIgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgNjcxMDg4NjQpO1xuICAgICAgICBudWxsICE9PSByb290ICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgNjcxMDg4NjQpO1xuICAgICAgICBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChmaWJlciwgNjcxMDg4NjQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50RmliZXJGb3JEZXZUb29scygpIHtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMYW5lTGFiZWxNYXAoKSB7XG4gICAgICBmb3IgKHZhciBtYXAgPSBuZXcgTWFwKCksIGxhbmUgPSAxLCBpbmRleCA9IDA7IDMxID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIGxhYmVsID0gZ2V0TGFiZWxGb3JMYW5lKGxhbmUpO1xuICAgICAgICBtYXAuc2V0KGxhbmUsIGxhYmVsKTtcbiAgICAgICAgbGFuZSAqPSAyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hEaXNjcmV0ZUV2ZW50KFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5UO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGw7XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IERpc2NyZXRlRXZlbnRQcmlvcml0eSksXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudChkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIGNvbnRhaW5lciwgbmF0aXZlRXZlbnQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hDb250aW51b3VzRXZlbnQoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbDtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gQ29udGludW91c0V2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCBjb250YWluZXIsIG5hdGl2ZUV2ZW50KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNQcmlvcml0eSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIGlmIChfZW5hYmxlZCkge1xuICAgICAgICB2YXIgYmxvY2tlZE9uID0gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChuYXRpdmVFdmVudCk7XG4gICAgICAgIGlmIChudWxsID09PSBibG9ja2VkT24pXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgcmV0dXJuX3RhcmdldEluc3QsXG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXJcbiAgICAgICAgICApLFxuICAgICAgICAgICAgY2xlYXJJZkNvbnRpbnVvdXNFdmVudChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgcXVldWVJZkNvbnRpbnVvdXNFdmVudChcbiAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAgIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoY2xlYXJJZkNvbnRpbnVvdXNFdmVudChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSxcbiAgICAgICAgICBldmVudFN5c3RlbUZsYWdzICYgNCAmJlxuICAgICAgICAgICAgLTEgPCBkaXNjcmV0ZVJlcGxheWFibGVFdmVudHMuaW5kZXhPZihkb21FdmVudE5hbWUpKVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKDsgbnVsbCAhPT0gYmxvY2tlZE9uOyApIHtcbiAgICAgICAgICAgIHZhciBmaWJlciA9IGdldEluc3RhbmNlRnJvbU5vZGUoYmxvY2tlZE9uKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBmaWJlcilcbiAgICAgICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBmaWJlciA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICAgIGlmIChmaWJlci5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKGZpYmVyLnBlbmRpbmdMYW5lcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgwICE9PSBsYW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciByb290ID0gZmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgfD0gMjtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHJvb3QuZW50YW5nbGVkTGFuZXMgfD0gMjsgbGFuZXM7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmUgPSAxIDw8ICgzMSAtIGNsejMyKGxhbmVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmVudGFuZ2xlbWVudHNbMV0gfD0gbGFuZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQoZmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyQxKCkgKyBSRU5ERVJfVElNRU9VVF9NUyksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbCgwLCAhMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgKHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpLFxuICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmNXb3JrJDEoKSxcbiAgICAgICAgICAgICAgICAgICAgbWFya1JldHJ5TGFuZUlmTm90SHlkcmF0ZWQoZmliZXIsIDIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWJlciA9IGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgICAgICAgbnVsbCA9PT0gZmliZXIgJiZcbiAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIHJldHVybl90YXJnZXRJbnN0LFxuICAgICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGZpYmVyID09PSBibG9ja2VkT24pIGJyZWFrO1xuICAgICAgICAgICAgYmxvY2tlZE9uID0gZmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bGwgIT09IGJsb2NrZWRPbiAmJiBuYXRpdmVFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICAgIG5hdGl2ZUV2ZW50ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpO1xuICAgICAgcmV0dXJuIGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KG5hdGl2ZUV2ZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQodGFyZ2V0Tm9kZSkge1xuICAgICAgcmV0dXJuX3RhcmdldEluc3QgPSBudWxsO1xuICAgICAgdGFyZ2V0Tm9kZSA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHRhcmdldE5vZGUpO1xuICAgICAgaWYgKG51bGwgIT09IHRhcmdldE5vZGUpIHtcbiAgICAgICAgdmFyIG5lYXJlc3RNb3VudGVkID0gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcih0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKG51bGwgPT09IG5lYXJlc3RNb3VudGVkKSB0YXJnZXROb2RlID0gbnVsbDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHRhZyA9IG5lYXJlc3RNb3VudGVkLnRhZztcbiAgICAgICAgICBpZiAoMTMgPT09IHRhZykge1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIobmVhcmVzdE1vdW50ZWQpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IHRhcmdldE5vZGUpIHJldHVybiB0YXJnZXROb2RlO1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmICgzID09PSB0YWcpIHtcbiAgICAgICAgICAgIGlmIChuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZClcbiAgICAgICAgICAgICAgcmV0dXJuIDMgPT09IG5lYXJlc3RNb3VudGVkLnRhZ1xuICAgICAgICAgICAgICAgID8gbmVhcmVzdE1vdW50ZWQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2UgbmVhcmVzdE1vdW50ZWQgIT09IHRhcmdldE5vZGUgJiYgKHRhcmdldE5vZGUgPSBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuX3RhcmdldEluc3QgPSB0YXJnZXROb2RlO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50UHJpb3JpdHkoZG9tRXZlbnROYW1lKSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JldG9nZ2xlXCI6XG4gICAgICAgIGNhc2UgXCJjYW5jZWxcIjpcbiAgICAgICAgY2FzZSBcImNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJjbG9zZVwiOlxuICAgICAgICBjYXNlIFwiY29udGV4dG1lbnVcIjpcbiAgICAgICAgY2FzZSBcImNvcHlcIjpcbiAgICAgICAgY2FzZSBcImN1dFwiOlxuICAgICAgICBjYXNlIFwiYXV4Y2xpY2tcIjpcbiAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcImRyb3BcIjpcbiAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICBjYXNlIFwiaW52YWxpZFwiOlxuICAgICAgICBjYXNlIFwia2V5ZG93blwiOlxuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgY2FzZSBcIm1vdXNldXBcIjpcbiAgICAgICAgY2FzZSBcInBhc3RlXCI6XG4gICAgICAgIGNhc2UgXCJwYXVzZVwiOlxuICAgICAgICBjYXNlIFwicGxheVwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmNhbmNlbFwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmRvd25cIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOlxuICAgICAgICBjYXNlIFwicmF0ZWNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgY2FzZSBcInJlc2l6ZVwiOlxuICAgICAgICBjYXNlIFwic2Vla2VkXCI6XG4gICAgICAgIGNhc2UgXCJzdWJtaXRcIjpcbiAgICAgICAgY2FzZSBcInRvZ2dsZVwiOlxuICAgICAgICBjYXNlIFwidG91Y2hjYW5jZWxcIjpcbiAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6XG4gICAgICAgIGNhc2UgXCJ0b3VjaHN0YXJ0XCI6XG4gICAgICAgIGNhc2UgXCJ2b2x1bWVjaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcImNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwic2VsZWN0aW9uY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0SW5wdXRcIjpcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOlxuICAgICAgICBjYXNlIFwiYmVmb3JlYmx1clwiOlxuICAgICAgICBjYXNlIFwiYWZ0ZXJibHVyXCI6XG4gICAgICAgIGNhc2UgXCJiZWZvcmVpbnB1dFwiOlxuICAgICAgICBjYXNlIFwiYmx1clwiOlxuICAgICAgICBjYXNlIFwiZnVsbHNjcmVlbmNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNcIjpcbiAgICAgICAgY2FzZSBcImhhc2hjaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcInBvcHN0YXRlXCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdHN0YXJ0XCI6XG4gICAgICAgICAgcmV0dXJuIERpc2NyZXRlRXZlbnRQcmlvcml0eTtcbiAgICAgICAgY2FzZSBcImRyYWdcIjpcbiAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICBjYXNlIFwiZHJhZ2V4aXRcIjpcbiAgICAgICAgY2FzZSBcImRyYWdsZWF2ZVwiOlxuICAgICAgICBjYXNlIFwiZHJhZ292ZXJcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlbW92ZVwiOlxuICAgICAgICBjYXNlIFwibW91c2VvdXRcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlb3ZlclwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm1vdmVcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJzY3JvbGxcIjpcbiAgICAgICAgY2FzZSBcInRvdWNobW92ZVwiOlxuICAgICAgICBjYXNlIFwid2hlZWxcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlbGVhdmVcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJlbnRlclwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmxlYXZlXCI6XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgIHN3aXRjaCAoZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKSkge1xuICAgICAgICAgICAgY2FzZSBJbW1lZGlhdGVQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIERpc2NyZXRlRXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGNhc2UgVXNlckJsb2NraW5nUHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBDb250aW51b3VzRXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGNhc2UgTm9ybWFsUHJpb3JpdHkkMTpcbiAgICAgICAgICAgIGNhc2UgTG93UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGNhc2UgSWRsZVByaW9yaXR5OlxuICAgICAgICAgICAgICByZXR1cm4gSWRsZUV2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdEV2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBEZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJJZkNvbnRpbnVvdXNFdmVudChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgICBxdWV1ZWRGb2N1cyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcImRyYWdsZWF2ZVwiOlxuICAgICAgICAgIHF1ZXVlZERyYWcgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICAgIHF1ZXVlZE1vdXNlID0gbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3V0XCI6XG4gICAgICAgICAgcXVldWVkUG9pbnRlcnMuZGVsZXRlKG5hdGl2ZUV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwibG9zdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmRlbGV0ZShuYXRpdmVFdmVudC5wb2ludGVySWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudCxcbiAgICAgIGJsb2NrZWRPbixcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsID09PSBleGlzdGluZ1F1ZXVlZEV2ZW50IHx8XG4gICAgICAgIGV4aXN0aW5nUXVldWVkRXZlbnQubmF0aXZlRXZlbnQgIT09IG5hdGl2ZUV2ZW50XG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGV4aXN0aW5nUXVldWVkRXZlbnQgPSB7XG4gICAgICAgICAgICBibG9ja2VkT246IGJsb2NrZWRPbixcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZTogZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFnczogZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcnM6IFt0YXJnZXRDb250YWluZXJdXG4gICAgICAgICAgfSksXG4gICAgICAgICAgbnVsbCAhPT0gYmxvY2tlZE9uICYmXG4gICAgICAgICAgICAoKGJsb2NrZWRPbiA9IGdldEluc3RhbmNlRnJvbU5vZGUoYmxvY2tlZE9uKSksXG4gICAgICAgICAgICBudWxsICE9PSBibG9ja2VkT24gJiYgYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24oYmxvY2tlZE9uKSksXG4gICAgICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudFxuICAgICAgICApO1xuICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudC5ldmVudFN5c3RlbUZsYWdzIHw9IGV2ZW50U3lzdGVtRmxhZ3M7XG4gICAgICBibG9ja2VkT24gPSBleGlzdGluZ1F1ZXVlZEV2ZW50LnRhcmdldENvbnRhaW5lcnM7XG4gICAgICBudWxsICE9PSB0YXJnZXRDb250YWluZXIgJiZcbiAgICAgICAgLTEgPT09IGJsb2NrZWRPbi5pbmRleE9mKHRhcmdldENvbnRhaW5lcikgJiZcbiAgICAgICAgYmxvY2tlZE9uLnB1c2godGFyZ2V0Q29udGFpbmVyKTtcbiAgICAgIHJldHVybiBleGlzdGluZ1F1ZXVlZEV2ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBxdWV1ZUlmQ29udGludW91c0V2ZW50KFxuICAgICAgYmxvY2tlZE9uLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocXVldWVkRm9jdXMgPSBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWRGb2N1cyxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChxdWV1ZWREcmFnID0gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkRHJhZyxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChxdWV1ZWRNb3VzZSA9IGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgIHF1ZXVlZE1vdXNlLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxuICAgICAgICAgIHZhciBwb2ludGVySWQgPSBuYXRpdmVFdmVudC5wb2ludGVySWQ7XG4gICAgICAgICAgcXVldWVkUG9pbnRlcnMuc2V0KFxuICAgICAgICAgICAgcG9pbnRlcklkLFxuICAgICAgICAgICAgYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkUG9pbnRlcnMuZ2V0KHBvaW50ZXJJZCkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChwb2ludGVySWQgPSBuYXRpdmVFdmVudC5wb2ludGVySWQpLFxuICAgICAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLnNldChcbiAgICAgICAgICAgICAgcG9pbnRlcklkLFxuICAgICAgICAgICAgICBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5nZXQocG9pbnRlcklkKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0KHF1ZXVlZFRhcmdldCkge1xuICAgICAgdmFyIHRhcmdldEluc3QgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShxdWV1ZWRUYXJnZXQudGFyZ2V0KTtcbiAgICAgIGlmIChudWxsICE9PSB0YXJnZXRJbnN0KSB7XG4gICAgICAgIHZhciBuZWFyZXN0TW91bnRlZCA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIodGFyZ2V0SW5zdCk7XG4gICAgICAgIGlmIChudWxsICE9PSBuZWFyZXN0TW91bnRlZClcbiAgICAgICAgICBpZiAoKCh0YXJnZXRJbnN0ID0gbmVhcmVzdE1vdW50ZWQudGFnKSwgMTMgPT09IHRhcmdldEluc3QpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgodGFyZ2V0SW5zdCA9IGdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIobmVhcmVzdE1vdW50ZWQpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0SW5zdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICAgICAgcnVuV2l0aFByaW9yaXR5KHF1ZXVlZFRhcmdldC5wcmlvcml0eSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgxMyA9PT0gbmVhcmVzdE1vdW50ZWQudGFnKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKG5lYXJlc3RNb3VudGVkKSxcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShuZWFyZXN0TW91bnRlZCwgbGFuZSk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBuZWFyZXN0TW91bnRlZCwgbGFuZSk7XG4gICAgICAgICAgICAgICAgICBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChuZWFyZXN0TW91bnRlZCwgbGFuZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAzID09PSB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9XG4gICAgICAgICAgICAgIDMgPT09IG5lYXJlc3RNb3VudGVkLnRhZ1xuICAgICAgICAgICAgICAgID8gbmVhcmVzdE1vdW50ZWQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRXZlbnQpIHtcbiAgICAgIGlmIChudWxsICE9PSBxdWV1ZWRFdmVudC5ibG9ja2VkT24pIHJldHVybiAhMTtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciB0YXJnZXRDb250YWluZXJzID0gcXVldWVkRXZlbnQudGFyZ2V0Q29udGFpbmVycztcbiAgICAgICAgMCA8IHRhcmdldENvbnRhaW5lcnMubGVuZ3RoO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIG5leHRCbG9ja2VkT24gPSBmaW5kSW5zdGFuY2VCbG9ja2luZ0V2ZW50KHF1ZXVlZEV2ZW50Lm5hdGl2ZUV2ZW50KTtcbiAgICAgICAgaWYgKG51bGwgPT09IG5leHRCbG9ja2VkT24pIHtcbiAgICAgICAgICBuZXh0QmxvY2tlZE9uID0gcXVldWVkRXZlbnQubmF0aXZlRXZlbnQ7XG4gICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50Q2xvbmUgPSBuZXcgbmV4dEJsb2NrZWRPbi5jb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICAgbmV4dEJsb2NrZWRPbi50eXBlLFxuICAgICAgICAgICAgICBuZXh0QmxvY2tlZE9uXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZXZlbnQgPSBuYXRpdmVFdmVudENsb25lO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRSZXBsYXlpbmdFdmVudCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBjdXJyZW50bHkgcmVwbGF5aW5nIGV2ZW50IHRvIGJlIG51bGwuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY3VycmVudFJlcGxheWluZ0V2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgbmV4dEJsb2NrZWRPbi50YXJnZXQuZGlzcGF0Y2hFdmVudChuYXRpdmVFdmVudENsb25lKTtcbiAgICAgICAgICBudWxsID09PSBjdXJyZW50UmVwbGF5aW5nRXZlbnQgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgY3VycmVudGx5IHJlcGxheWluZyBldmVudCB0byBub3QgYmUgbnVsbC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50UmVwbGF5aW5nRXZlbnQgPSBudWxsO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHRhcmdldENvbnRhaW5lcnMgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKG5leHRCbG9ja2VkT24pKSxcbiAgICAgICAgICAgIG51bGwgIT09IHRhcmdldENvbnRhaW5lcnMgJiZcbiAgICAgICAgICAgICAgYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24odGFyZ2V0Q29udGFpbmVycyksXG4gICAgICAgICAgICAocXVldWVkRXZlbnQuYmxvY2tlZE9uID0gbmV4dEJsb2NrZWRPbiksXG4gICAgICAgICAgICAhMVxuICAgICAgICAgICk7XG4gICAgICAgIHRhcmdldENvbnRhaW5lcnMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKHF1ZXVlZEV2ZW50LCBrZXksIG1hcCkge1xuICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRFdmVudCkgJiYgbWFwLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlVbmJsb2NrZWRFdmVudHMoKSB7XG4gICAgICBoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0ID0gITE7XG4gICAgICBudWxsICE9PSBxdWV1ZWRGb2N1cyAmJlxuICAgICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZEZvY3VzKSAmJlxuICAgICAgICAocXVldWVkRm9jdXMgPSBudWxsKTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZERyYWcgJiZcbiAgICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWREcmFnKSAmJlxuICAgICAgICAocXVldWVkRHJhZyA9IG51bGwpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkTW91c2UgJiZcbiAgICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRNb3VzZSkgJiZcbiAgICAgICAgKHF1ZXVlZE1vdXNlID0gbnVsbCk7XG4gICAgICBxdWV1ZWRQb2ludGVycy5mb3JFYWNoKGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnRJbk1hcCk7XG4gICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZm9yRWFjaChhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50SW5NYXApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRXZlbnQsIHVuYmxvY2tlZCkge1xuICAgICAgcXVldWVkRXZlbnQuYmxvY2tlZE9uID09PSB1bmJsb2NrZWQgJiZcbiAgICAgICAgKChxdWV1ZWRFdmVudC5ibG9ja2VkT24gPSBudWxsKSxcbiAgICAgICAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCB8fFxuICAgICAgICAgICgoaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9ICEwKSxcbiAgICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhcbiAgICAgICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgICAgICAgIHJlcGxheVVuYmxvY2tlZEV2ZW50c1xuICAgICAgICAgICkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVSZXBsYXlRdWV1ZUlmTmVlZGVkKGZvcm1SZXBsYXlpbmdRdWV1ZSkge1xuICAgICAgbGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlICE9PSBmb3JtUmVwbGF5aW5nUXVldWUgJiZcbiAgICAgICAgKChsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPSBmb3JtUmVwbGF5aW5nUXVldWUpLFxuICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhcbiAgICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID09PSBmb3JtUmVwbGF5aW5nUXVldWUgJiZcbiAgICAgICAgICAgICAgKGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSA9IG51bGwpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtUmVwbGF5aW5nUXVldWUubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgdmFyIGZvcm0gPSBmb3JtUmVwbGF5aW5nUXVldWVbaV0sXG4gICAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24gPSBmb3JtUmVwbGF5aW5nUXVldWVbaSArIDFdLFxuICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gZm9ybVJlcGxheWluZ1F1ZXVlW2kgKyAyXTtcbiAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHN1Ym1pdHRlck9yQWN0aW9uKVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KHN1Ym1pdHRlck9yQWN0aW9uIHx8IGZvcm0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgICAgICAgdmFyIGZvcm1JbnN0ID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShmb3JtKTtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gZm9ybUluc3QgJiZcbiAgICAgICAgICAgICAgICAoZm9ybVJlcGxheWluZ1F1ZXVlLnNwbGljZShpLCAzKSxcbiAgICAgICAgICAgICAgICAoaSAtPSAzKSxcbiAgICAgICAgICAgICAgICAoZm9ybSA9IHtcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmc6ICEwLFxuICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IGZvcm0ubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uOiBzdWJtaXR0ZXJPckFjdGlvblxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoZm9ybSksXG4gICAgICAgICAgICAgICAgc3RhcnRIb3N0VHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICAgIGZvcm1JbnN0LFxuICAgICAgICAgICAgICAgICAgZm9ybSxcbiAgICAgICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgZm9ybURhdGFcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeUlmQmxvY2tlZE9uKHVuYmxvY2tlZCkge1xuICAgICAgZnVuY3Rpb24gdW5ibG9jayhxdWV1ZWRFdmVudCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZEV2ZW50LCB1bmJsb2NrZWQpO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gcXVldWVkRm9jdXMgJiZcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZEZvY3VzLCB1bmJsb2NrZWQpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkRHJhZyAmJiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRHJhZywgdW5ibG9ja2VkKTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZE1vdXNlICYmXG4gICAgICAgIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRNb3VzZSwgdW5ibG9ja2VkKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJzLmZvckVhY2godW5ibG9jayk7XG4gICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZm9yRWFjaCh1bmJsb2NrKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBxdWV1ZWRUYXJnZXQgPSBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbaV07XG4gICAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPT09IHVuYmxvY2tlZCAmJiAocXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9IG51bGwpO1xuICAgICAgfVxuICAgICAgZm9yIChcbiAgICAgICAgO1xuICAgICAgICAwIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aCAmJlxuICAgICAgICAoKGkgPSBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbMF0pLCBudWxsID09PSBpLmJsb2NrZWRPbik7XG5cbiAgICAgIClcbiAgICAgICAgYXR0ZW1wdEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0KGkpLFxuICAgICAgICAgIG51bGwgPT09IGkuYmxvY2tlZE9uICYmIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5zaGlmdCgpO1xuICAgICAgaSA9ICh1bmJsb2NrZWQub3duZXJEb2N1bWVudCB8fCB1bmJsb2NrZWQpLiQkcmVhY3RGb3JtUmVwbGF5O1xuICAgICAgaWYgKG51bGwgIT0gaSlcbiAgICAgICAgZm9yIChxdWV1ZWRUYXJnZXQgPSAwOyBxdWV1ZWRUYXJnZXQgPCBpLmxlbmd0aDsgcXVldWVkVGFyZ2V0ICs9IDMpIHtcbiAgICAgICAgICB2YXIgZm9ybSA9IGlbcXVldWVkVGFyZ2V0XSxcbiAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uID0gaVtxdWV1ZWRUYXJnZXQgKyAxXSxcbiAgICAgICAgICAgIGZvcm1Qcm9wcyA9IGZvcm1baW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbDtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc3VibWl0dGVyT3JBY3Rpb24pXG4gICAgICAgICAgICBmb3JtUHJvcHMgfHwgc2NoZWR1bGVSZXBsYXlRdWV1ZUlmTmVlZGVkKGkpO1xuICAgICAgICAgIGVsc2UgaWYgKGZvcm1Qcm9wcykge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uICYmXG4gICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uLmhhc0F0dHJpYnV0ZShcImZvcm1BY3Rpb25cIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgoZm9ybSA9IHN1Ym1pdHRlck9yQWN0aW9uKSxcbiAgICAgICAgICAgICAgICAoZm9ybVByb3BzID0gc3VibWl0dGVyT3JBY3Rpb25baW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbCkpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBmb3JtUHJvcHMuZm9ybUFjdGlvbjtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KGZvcm0pKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBhY3Rpb24gPSBmb3JtUHJvcHMuYWN0aW9uO1xuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWN0aW9uXG4gICAgICAgICAgICAgID8gKGlbcXVldWVkVGFyZ2V0ICsgMV0gPSBhY3Rpb24pXG4gICAgICAgICAgICAgIDogKGkuc3BsaWNlKHF1ZXVlZFRhcmdldCwgMyksIChxdWV1ZWRUYXJnZXQgLT0gMykpO1xuICAgICAgICAgICAgc2NoZWR1bGVSZXBsYXlRdWV1ZUlmTmVlZGVkKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdERPTVJvb3QoaW50ZXJuYWxSb290KSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbFJvb3QgPSBpbnRlcm5hbFJvb3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RE9NSHlkcmF0aW9uUm9vdChpbnRlcm5hbFJvb3QpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsUm9vdCA9IGludGVybmFsUm9vdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSAmJlxuICAgICAgICAoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGFyZSBjYWxsaW5nIFJlYWN0RE9NQ2xpZW50LmNyZWF0ZVJvb3QoKSBvbiBhIGNvbnRhaW5lciB0aGF0IHdhcyBwcmV2aW91c2x5IHBhc3NlZCB0byBSZWFjdERPTS5yZW5kZXIoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBhcmUgY2FsbGluZyBSZWFjdERPTUNsaWVudC5jcmVhdGVSb290KCkgb24gYSBjb250YWluZXIgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byBjcmVhdGVSb290KCkgYmVmb3JlLiBJbnN0ZWFkLCBjYWxsIHJvb3QucmVuZGVyKCkgb24gdGhlIGV4aXN0aW5nIHJvb3QgaW5zdGVhZCBpZiB5b3Ugd2FudCB0byB1cGRhdGUgaXQuXCJcbiAgICAgICAgICAgICkpO1xuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBTY2hlZHVsZXIgPSByZXF1aXJlKFwic2NoZWR1bGVyXCIpLFxuICAgICAgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIiksXG4gICAgICBSZWFjdERPTSA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIiksXG4gICAgICBSRUFDVF9MRUdBQ1lfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksXG4gICAgICBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5kZWJ1Z190cmFjZV9tb2RlXCIpO1xuICAgIHZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LmxlZ2FjeV9oaWRkZW5cIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnRyYWNpbmdfbWFya2VyXCIpO1xuICAgIHZhciBSRUFDVF9NRU1PX0NBQ0hFX1NFTlRJTkVMID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0Ll9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBkaXNhYmxlZERlcHRoID0gMCxcbiAgICAgIHByZXZMb2csXG4gICAgICBwcmV2SW5mbyxcbiAgICAgIHByZXZXYXJuLFxuICAgICAgcHJldkVycm9yLFxuICAgICAgcHJldkdyb3VwLFxuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkLFxuICAgICAgcHJldkdyb3VwRW5kO1xuICAgIGRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIHZhciBwcmVmaXgsXG4gICAgICBzdWZmaXgsXG4gICAgICByZWVudHJ5ID0gITE7XG4gICAgdmFyIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgKFxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXBcbiAgICApKCk7XG4gICAgdmFyIGN1cnJlbnQgPSBudWxsLFxuICAgICAgaXNSZW5kZXJpbmcgPSAhMSxcbiAgICAgIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3RET00uX19ET01fSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgTm90UGVuZGluZyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBwZW5kaW5nOiAhMSxcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgbWV0aG9kOiBudWxsLFxuICAgICAgICBhY3Rpb246IG51bGxcbiAgICAgIH0pLFxuICAgICAgdmFsdWVTdGFjayA9IFtdO1xuICAgIHZhciBmaWJlclN0YWNrID0gW107XG4gICAgdmFyIGluZGV4JGpzY29tcCQwID0gLTEsXG4gICAgICBjb250ZXh0U3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBjb250ZXh0RmliZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMyA9IFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrLFxuICAgICAgY2FuY2VsQ2FsbGJhY2skMSA9IFNjaGVkdWxlci51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayxcbiAgICAgIHNob3VsZFlpZWxkID0gU2NoZWR1bGVyLnVuc3RhYmxlX3Nob3VsZFlpZWxkLFxuICAgICAgcmVxdWVzdFBhaW50ID0gU2NoZWR1bGVyLnVuc3RhYmxlX3JlcXVlc3RQYWludCxcbiAgICAgIG5vdyQxID0gU2NoZWR1bGVyLnVuc3RhYmxlX25vdyxcbiAgICAgIGdldEN1cnJlbnRQcmlvcml0eUxldmVsID0gU2NoZWR1bGVyLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsLFxuICAgICAgSW1tZWRpYXRlUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHksXG4gICAgICBVc2VyQmxvY2tpbmdQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eSxcbiAgICAgIE5vcm1hbFByaW9yaXR5JDEgPSBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICBMb3dQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9Mb3dQcmlvcml0eSxcbiAgICAgIElkbGVQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9JZGxlUHJpb3JpdHksXG4gICAgICBsb2ckMSA9IFNjaGVkdWxlci5sb2csXG4gICAgICB1bnN0YWJsZV9zZXREaXNhYmxlWWllbGRWYWx1ZSA9IFNjaGVkdWxlci51bnN0YWJsZV9zZXREaXNhYmxlWWllbGRWYWx1ZSxcbiAgICAgIHJlbmRlcmVySUQgPSBudWxsLFxuICAgICAgaW5qZWN0ZWRIb29rID0gbnVsbCxcbiAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MgPSBudWxsLFxuICAgICAgaGFzTG9nZ2VkRXJyb3IgPSAhMSxcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ID0gXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyxcbiAgICAgIGNsejMyID0gTWF0aC5jbHozMiA/IE1hdGguY2x6MzIgOiBjbHozMkZhbGxiYWNrLFxuICAgICAgbG9nID0gTWF0aC5sb2csXG4gICAgICBMTjIgPSBNYXRoLkxOMixcbiAgICAgIG5leHRUcmFuc2l0aW9uTGFuZSA9IDEyOCxcbiAgICAgIG5leHRSZXRyeUxhbmUgPSA0MTk0MzA0LFxuICAgICAgRGlzY3JldGVFdmVudFByaW9yaXR5ID0gMixcbiAgICAgIENvbnRpbnVvdXNFdmVudFByaW9yaXR5ID0gOCxcbiAgICAgIERlZmF1bHRFdmVudFByaW9yaXR5ID0gMzIsXG4gICAgICBJZGxlRXZlbnRQcmlvcml0eSA9IDI2ODQzNTQ1NixcbiAgICAgIHJhbmRvbUtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFxuICAgICAgaW50ZXJuYWxJbnN0YW5jZUtleSA9IFwiX19yZWFjdEZpYmVyJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxQcm9wc0tleSA9IFwiX19yZWFjdFByb3BzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleSA9IFwiX19yZWFjdENvbnRhaW5lciRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsRXZlbnRIYW5kbGVyc0tleSA9IFwiX19yZWFjdEV2ZW50cyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsRXZlbnRIYW5kbGVyTGlzdGVuZXJzS2V5ID0gXCJfX3JlYWN0TGlzdGVuZXJzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxFdmVudEhhbmRsZXNTZXRLZXkgPSBcIl9fcmVhY3RIYW5kbGVzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxSb290Tm9kZVJlc291cmNlc0tleSA9IFwiX19yZWFjdFJlc291cmNlcyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsSG9pc3RhYmxlTWFya2VyID0gXCJfX3JlYWN0TWFya2VyJFwiICsgcmFuZG9tS2V5LFxuICAgICAgYWxsTmF0aXZlRXZlbnRzID0gbmV3IFNldCgpLFxuICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyA9IHt9LFxuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyA9IHt9LFxuICAgICAgY2FuVXNlRE9NID0gIShcbiAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHdpbmRvdyB8fFxuICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2Ygd2luZG93LmRvY3VtZW50IHx8XG4gICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxuICAgICAgKSxcbiAgICAgIGhhc1JlYWRPbmx5VmFsdWUgPSB7XG4gICAgICAgIGJ1dHRvbjogITAsXG4gICAgICAgIGNoZWNrYm94OiAhMCxcbiAgICAgICAgaW1hZ2U6ICEwLFxuICAgICAgICBoaWRkZW46ICEwLFxuICAgICAgICByYWRpbzogITAsXG4gICAgICAgIHJlc2V0OiAhMCxcbiAgICAgICAgc3VibWl0OiAhMFxuICAgICAgfSxcbiAgICAgIFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYID0gUmVnRXhwKFxuICAgICAgICBcIl5bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRF1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlID0ge30sXG4gICAgICB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fSxcbiAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXNSZWdleCA9IC9bXFxuXCJcXFxcXS9nLFxuICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSAhMSxcbiAgICAgIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSAhMSxcbiAgICAgIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gITEsXG4gICAgICBkaWRXYXJuSW52YWxpZENoaWxkID0gITEsXG4gICAgICBkaWRXYXJuSW52YWxpZElubmVySFRNTCA9ICExO1xuICAgIHZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSAhMTtcbiAgICB2YXIgdmFsdWVQcm9wTmFtZXMgPSBbXCJ2YWx1ZVwiLCBcImRlZmF1bHRWYWx1ZVwiXSxcbiAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gITEsXG4gICAgICBuZWVkc0VzY2FwaW5nID0gL1tcIicmPD5cXG5cXHRdfF5cXHN8XFxzJC8sXG4gICAgICBzcGVjaWFsVGFncyA9XG4gICAgICAgIFwiYWRkcmVzcyBhcHBsZXQgYXJlYSBhcnRpY2xlIGFzaWRlIGJhc2UgYmFzZWZvbnQgYmdzb3VuZCBibG9ja3F1b3RlIGJvZHkgYnIgYnV0dG9uIGNhcHRpb24gY2VudGVyIGNvbCBjb2xncm91cCBkZCBkZXRhaWxzIGRpciBkaXYgZGwgZHQgZW1iZWQgZmllbGRzZXQgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGZvcm0gZnJhbWUgZnJhbWVzZXQgaDEgaDIgaDMgaDQgaDUgaDYgaGVhZCBoZWFkZXIgaGdyb3VwIGhyIGh0bWwgaWZyYW1lIGltZyBpbnB1dCBpc2luZGV4IGxpIGxpbmsgbGlzdGluZyBtYWluIG1hcnF1ZWUgbWVudSBtZW51aXRlbSBtZXRhIG5hdiBub2VtYmVkIG5vZnJhbWVzIG5vc2NyaXB0IG9iamVjdCBvbCBwIHBhcmFtIHBsYWludGV4dCBwcmUgc2NyaXB0IHNlY3Rpb24gc2VsZWN0IHNvdXJjZSBzdHlsZSBzdW1tYXJ5IHRhYmxlIHRib2R5IHRkIHRlbXBsYXRlIHRleHRhcmVhIHRmb290IHRoIHRoZWFkIHRpdGxlIHRyIHRyYWNrIHVsIHdiciB4bXBcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgaW5TY29wZVRhZ3MgPVxuICAgICAgICBcImFwcGxldCBjYXB0aW9uIGh0bWwgdGFibGUgdGQgdGggbWFycXVlZSBvYmplY3QgdGVtcGxhdGUgZm9yZWlnbk9iamVjdCBkZXNjIHRpdGxlXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIGJ1dHRvblNjb3BlVGFncyA9IGluU2NvcGVUYWdzLmNvbmNhdChbXCJidXR0b25cIl0pLFxuICAgICAgaW1wbGllZEVuZFRhZ3MgPSBcImRkIGR0IGxpIG9wdGlvbiBvcHRncm91cCBwIHJwIHJ0XCIuc3BsaXQoXCIgXCIpLFxuICAgICAgZW1wdHlBbmNlc3RvckluZm9EZXYgPSB7XG4gICAgICAgIGN1cnJlbnQ6IG51bGwsXG4gICAgICAgIGZvcm1UYWc6IG51bGwsXG4gICAgICAgIGFUYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBidXR0b25UYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgcFRhZ0luQnV0dG9uU2NvcGU6IG51bGwsXG4gICAgICAgIGxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsLFxuICAgICAgICBjb250YWluZXJUYWdJblNjb3BlOiBudWxsXG4gICAgICB9LFxuICAgICAgZGlkV2FybiA9IHt9LFxuICAgICAgTUFUSF9OQU1FU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIixcbiAgICAgIFNWR19OQU1FU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBzaG9ydGhhbmRUb0xvbmdoYW5kID0ge1xuICAgICAgICBhbmltYXRpb246XG4gICAgICAgICAgXCJhbmltYXRpb25EZWxheSBhbmltYXRpb25EaXJlY3Rpb24gYW5pbWF0aW9uRHVyYXRpb24gYW5pbWF0aW9uRmlsbE1vZGUgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgYW5pbWF0aW9uTmFtZSBhbmltYXRpb25QbGF5U3RhdGUgYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25cIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICBcImJhY2tncm91bmRBdHRhY2htZW50IGJhY2tncm91bmRDbGlwIGJhY2tncm91bmRDb2xvciBiYWNrZ3JvdW5kSW1hZ2UgYmFja2dyb3VuZE9yaWdpbiBiYWNrZ3JvdW5kUG9zaXRpb25YIGJhY2tncm91bmRQb3NpdGlvblkgYmFja2dyb3VuZFJlcGVhdCBiYWNrZ3JvdW5kU2l6ZVwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFtcImJhY2tncm91bmRQb3NpdGlvblhcIiwgXCJiYWNrZ3JvdW5kUG9zaXRpb25ZXCJdLFxuICAgICAgICBib3JkZXI6XG4gICAgICAgICAgXCJib3JkZXJCb3R0b21Db2xvciBib3JkZXJCb3R0b21TdHlsZSBib3JkZXJCb3R0b21XaWR0aCBib3JkZXJJbWFnZU91dHNldCBib3JkZXJJbWFnZVJlcGVhdCBib3JkZXJJbWFnZVNsaWNlIGJvcmRlckltYWdlU291cmNlIGJvcmRlckltYWdlV2lkdGggYm9yZGVyTGVmdENvbG9yIGJvcmRlckxlZnRTdHlsZSBib3JkZXJMZWZ0V2lkdGggYm9yZGVyUmlnaHRDb2xvciBib3JkZXJSaWdodFN0eWxlIGJvcmRlclJpZ2h0V2lkdGggYm9yZGVyVG9wQ29sb3IgYm9yZGVyVG9wU3R5bGUgYm9yZGVyVG9wV2lkdGhcIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgYm9yZGVyQmxvY2tFbmQ6IFtcbiAgICAgICAgICBcImJvcmRlckJsb2NrRW5kQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrRW5kU3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrRW5kV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJCbG9ja1N0YXJ0OiBbXG4gICAgICAgICAgXCJib3JkZXJCbG9ja1N0YXJ0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrU3RhcnRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tTdGFydFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyQm90dG9tOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21Db2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyQm90dG9tU3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUNvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJMZWZ0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlclRvcENvbG9yXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVySW1hZ2U6IFtcbiAgICAgICAgICBcImJvcmRlckltYWdlT3V0c2V0XCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVJlcGVhdFwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VTbGljZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VTb3VyY2VcIixcbiAgICAgICAgICBcImJvcmRlckltYWdlV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJJbmxpbmVFbmQ6IFtcbiAgICAgICAgICBcImJvcmRlcklubGluZUVuZENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVFbmRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lRW5kV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJJbmxpbmVTdGFydDogW1xuICAgICAgICAgIFwiYm9yZGVySW5saW5lU3RhcnRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lU3RhcnRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lU3RhcnRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckxlZnQ6IFtcImJvcmRlckxlZnRDb2xvclwiLCBcImJvcmRlckxlZnRTdHlsZVwiLCBcImJvcmRlckxlZnRXaWR0aFwiXSxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzXCIsXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21SaWdodFJhZGl1c1wiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wTGVmdFJhZGl1c1wiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wUmlnaHRSYWRpdXNcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJSaWdodDogW1xuICAgICAgICAgIFwiYm9yZGVyUmlnaHRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlclN0eWxlOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21TdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyTGVmdFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BTdHlsZVwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlclRvcDogW1wiYm9yZGVyVG9wQ29sb3JcIiwgXCJib3JkZXJUb3BTdHlsZVwiLCBcImJvcmRlclRvcFdpZHRoXCJdLFxuICAgICAgICBib3JkZXJXaWR0aDogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tV2lkdGhcIixcbiAgICAgICAgICBcImJvcmRlckxlZnRXaWR0aFwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRXaWR0aFwiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBjb2x1bW5SdWxlOiBbXCJjb2x1bW5SdWxlQ29sb3JcIiwgXCJjb2x1bW5SdWxlU3R5bGVcIiwgXCJjb2x1bW5SdWxlV2lkdGhcIl0sXG4gICAgICAgIGNvbHVtbnM6IFtcImNvbHVtbkNvdW50XCIsIFwiY29sdW1uV2lkdGhcIl0sXG4gICAgICAgIGZsZXg6IFtcImZsZXhCYXNpc1wiLCBcImZsZXhHcm93XCIsIFwiZmxleFNocmlua1wiXSxcbiAgICAgICAgZmxleEZsb3c6IFtcImZsZXhEaXJlY3Rpb25cIiwgXCJmbGV4V3JhcFwiXSxcbiAgICAgICAgZm9udDogXCJmb250RmFtaWx5IGZvbnRGZWF0dXJlU2V0dGluZ3MgZm9udEtlcm5pbmcgZm9udExhbmd1YWdlT3ZlcnJpZGUgZm9udFNpemUgZm9udFNpemVBZGp1c3QgZm9udFN0cmV0Y2ggZm9udFN0eWxlIGZvbnRWYXJpYW50IGZvbnRWYXJpYW50QWx0ZXJuYXRlcyBmb250VmFyaWFudENhcHMgZm9udFZhcmlhbnRFYXN0QXNpYW4gZm9udFZhcmlhbnRMaWdhdHVyZXMgZm9udFZhcmlhbnROdW1lcmljIGZvbnRWYXJpYW50UG9zaXRpb24gZm9udFdlaWdodCBsaW5lSGVpZ2h0XCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgICAgZm9udFZhcmlhbnQ6XG4gICAgICAgICAgXCJmb250VmFyaWFudEFsdGVybmF0ZXMgZm9udFZhcmlhbnRDYXBzIGZvbnRWYXJpYW50RWFzdEFzaWFuIGZvbnRWYXJpYW50TGlnYXR1cmVzIGZvbnRWYXJpYW50TnVtZXJpYyBmb250VmFyaWFudFBvc2l0aW9uXCIuc3BsaXQoXG4gICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICksXG4gICAgICAgIGdhcDogW1wiY29sdW1uR2FwXCIsIFwicm93R2FwXCJdLFxuICAgICAgICBncmlkOiBcImdyaWRBdXRvQ29sdW1ucyBncmlkQXV0b0Zsb3cgZ3JpZEF1dG9Sb3dzIGdyaWRUZW1wbGF0ZUFyZWFzIGdyaWRUZW1wbGF0ZUNvbHVtbnMgZ3JpZFRlbXBsYXRlUm93c1wiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICAgIGdyaWRBcmVhOiBbXG4gICAgICAgICAgXCJncmlkQ29sdW1uRW5kXCIsXG4gICAgICAgICAgXCJncmlkQ29sdW1uU3RhcnRcIixcbiAgICAgICAgICBcImdyaWRSb3dFbmRcIixcbiAgICAgICAgICBcImdyaWRSb3dTdGFydFwiXG4gICAgICAgIF0sXG4gICAgICAgIGdyaWRDb2x1bW46IFtcImdyaWRDb2x1bW5FbmRcIiwgXCJncmlkQ29sdW1uU3RhcnRcIl0sXG4gICAgICAgIGdyaWRDb2x1bW5HYXA6IFtcImNvbHVtbkdhcFwiXSxcbiAgICAgICAgZ3JpZEdhcDogW1wiY29sdW1uR2FwXCIsIFwicm93R2FwXCJdLFxuICAgICAgICBncmlkUm93OiBbXCJncmlkUm93RW5kXCIsIFwiZ3JpZFJvd1N0YXJ0XCJdLFxuICAgICAgICBncmlkUm93R2FwOiBbXCJyb3dHYXBcIl0sXG4gICAgICAgIGdyaWRUZW1wbGF0ZTogW1xuICAgICAgICAgIFwiZ3JpZFRlbXBsYXRlQXJlYXNcIixcbiAgICAgICAgICBcImdyaWRUZW1wbGF0ZUNvbHVtbnNcIixcbiAgICAgICAgICBcImdyaWRUZW1wbGF0ZVJvd3NcIlxuICAgICAgICBdLFxuICAgICAgICBsaXN0U3R5bGU6IFtcImxpc3RTdHlsZUltYWdlXCIsIFwibGlzdFN0eWxlUG9zaXRpb25cIiwgXCJsaXN0U3R5bGVUeXBlXCJdLFxuICAgICAgICBtYXJnaW46IFtcIm1hcmdpbkJvdHRvbVwiLCBcIm1hcmdpbkxlZnRcIiwgXCJtYXJnaW5SaWdodFwiLCBcIm1hcmdpblRvcFwiXSxcbiAgICAgICAgbWFya2VyOiBbXCJtYXJrZXJFbmRcIiwgXCJtYXJrZXJNaWRcIiwgXCJtYXJrZXJTdGFydFwiXSxcbiAgICAgICAgbWFzazogXCJtYXNrQ2xpcCBtYXNrQ29tcG9zaXRlIG1hc2tJbWFnZSBtYXNrTW9kZSBtYXNrT3JpZ2luIG1hc2tQb3NpdGlvblggbWFza1Bvc2l0aW9uWSBtYXNrUmVwZWF0IG1hc2tTaXplXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgICAgbWFza1Bvc2l0aW9uOiBbXCJtYXNrUG9zaXRpb25YXCIsIFwibWFza1Bvc2l0aW9uWVwiXSxcbiAgICAgICAgb3V0bGluZTogW1wib3V0bGluZUNvbG9yXCIsIFwib3V0bGluZVN0eWxlXCIsIFwib3V0bGluZVdpZHRoXCJdLFxuICAgICAgICBvdmVyZmxvdzogW1wib3ZlcmZsb3dYXCIsIFwib3ZlcmZsb3dZXCJdLFxuICAgICAgICBwYWRkaW5nOiBbXCJwYWRkaW5nQm90dG9tXCIsIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nUmlnaHRcIiwgXCJwYWRkaW5nVG9wXCJdLFxuICAgICAgICBwbGFjZUNvbnRlbnQ6IFtcImFsaWduQ29udGVudFwiLCBcImp1c3RpZnlDb250ZW50XCJdLFxuICAgICAgICBwbGFjZUl0ZW1zOiBbXCJhbGlnbkl0ZW1zXCIsIFwianVzdGlmeUl0ZW1zXCJdLFxuICAgICAgICBwbGFjZVNlbGY6IFtcImFsaWduU2VsZlwiLCBcImp1c3RpZnlTZWxmXCJdLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogW1xuICAgICAgICAgIFwidGV4dERlY29yYXRpb25Db2xvclwiLFxuICAgICAgICAgIFwidGV4dERlY29yYXRpb25MaW5lXCIsXG4gICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvblN0eWxlXCJcbiAgICAgICAgXSxcbiAgICAgICAgdGV4dEVtcGhhc2lzOiBbXCJ0ZXh0RW1waGFzaXNDb2xvclwiLCBcInRleHRFbXBoYXNpc1N0eWxlXCJdLFxuICAgICAgICB0cmFuc2l0aW9uOiBbXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uRGVsYXlcIixcbiAgICAgICAgICBcInRyYW5zaXRpb25EdXJhdGlvblwiLFxuICAgICAgICAgIFwidHJhbnNpdGlvblByb3BlcnR5XCIsXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cIlxuICAgICAgICBdLFxuICAgICAgICB3b3JkV3JhcDogW1wib3ZlcmZsb3dXcmFwXCJdXG4gICAgICB9LFxuICAgICAgdXBwZXJjYXNlUGF0dGVybiA9IC8oW0EtWl0pL2csXG4gICAgICBtc1BhdHRlcm4kMSA9IC9ebXMtLyxcbiAgICAgIGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiA9IC9eKD86d2Via2l0fG1venxvKVtBLVpdLyxcbiAgICAgIG1zUGF0dGVybiA9IC9eLW1zLS8sXG4gICAgICBoeXBoZW5QYXR0ZXJuID0gLy0oLikvZyxcbiAgICAgIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvLFxuICAgICAgd2FybmVkU3R5bGVOYW1lcyA9IHt9LFxuICAgICAgd2FybmVkU3R5bGVWYWx1ZXMgPSB7fSxcbiAgICAgIHdhcm5lZEZvck5hTlZhbHVlID0gITEsXG4gICAgICB3YXJuZWRGb3JJbmZpbml0eVZhbHVlID0gITEsXG4gICAgICB1bml0bGVzc051bWJlcnMgPSBuZXcgU2V0KFxuICAgICAgICBcImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IGFzcGVjdFJhdGlvIGJvcmRlckltYWdlT3V0c2V0IGJvcmRlckltYWdlU2xpY2UgYm9yZGVySW1hZ2VXaWR0aCBib3hGbGV4IGJveEZsZXhHcm91cCBib3hPcmRpbmFsR3JvdXAgY29sdW1uQ291bnQgY29sdW1ucyBmbGV4IGZsZXhHcm93IGZsZXhQb3NpdGl2ZSBmbGV4U2hyaW5rIGZsZXhOZWdhdGl2ZSBmbGV4T3JkZXIgZ3JpZEFyZWEgZ3JpZFJvdyBncmlkUm93RW5kIGdyaWRSb3dTcGFuIGdyaWRSb3dTdGFydCBncmlkQ29sdW1uIGdyaWRDb2x1bW5FbmQgZ3JpZENvbHVtblNwYW4gZ3JpZENvbHVtblN0YXJ0IGZvbnRXZWlnaHQgbGluZUNsYW1wIGxpbmVIZWlnaHQgb3BhY2l0eSBvcmRlciBvcnBoYW5zIHNjYWxlIHRhYlNpemUgd2lkb3dzIHpJbmRleCB6b29tIGZpbGxPcGFjaXR5IGZsb29kT3BhY2l0eSBzdG9wT3BhY2l0eSBzdHJva2VEYXNoYXJyYXkgc3Ryb2tlRGFzaG9mZnNldCBzdHJva2VNaXRlcmxpbWl0IHN0cm9rZU9wYWNpdHkgc3Ryb2tlV2lkdGggTW96QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgTW96Qm94RmxleCBNb3pCb3hGbGV4R3JvdXAgTW96TGluZUNsYW1wIG1zQW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgbXNGbGV4IG1zWm9vbSBtc0ZsZXhHcm93IG1zRmxleE5lZ2F0aXZlIG1zRmxleE9yZGVyIG1zRmxleFBvc2l0aXZlIG1zRmxleFNocmluayBtc0dyaWRDb2x1bW4gbXNHcmlkQ29sdW1uU3BhbiBtc0dyaWRSb3cgbXNHcmlkUm93U3BhbiBXZWJraXRBbmltYXRpb25JdGVyYXRpb25Db3VudCBXZWJraXRCb3hGbGV4IFdlYktpdEJveEZsZXhHcm91cCBXZWJraXRCb3hPcmRpbmFsR3JvdXAgV2Via2l0Q29sdW1uQ291bnQgV2Via2l0Q29sdW1ucyBXZWJraXRGbGV4IFdlYmtpdEZsZXhHcm93IFdlYmtpdEZsZXhQb3NpdGl2ZSBXZWJraXRGbGV4U2hyaW5rIFdlYmtpdExpbmVDbGFtcFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgIClcbiAgICAgICksXG4gICAgICBhbGlhc2VzID0gbmV3IE1hcChbXG4gICAgICAgIFtcImFjY2VwdENoYXJzZXRcIiwgXCJhY2NlcHQtY2hhcnNldFwiXSxcbiAgICAgICAgW1wiaHRtbEZvclwiLCBcImZvclwiXSxcbiAgICAgICAgW1wiaHR0cEVxdWl2XCIsIFwiaHR0cC1lcXVpdlwiXSxcbiAgICAgICAgW1wiY3Jvc3NPcmlnaW5cIiwgXCJjcm9zc29yaWdpblwiXSxcbiAgICAgICAgW1wiYWNjZW50SGVpZ2h0XCIsIFwiYWNjZW50LWhlaWdodFwiXSxcbiAgICAgICAgW1wiYWxpZ25tZW50QmFzZWxpbmVcIiwgXCJhbGlnbm1lbnQtYmFzZWxpbmVcIl0sXG4gICAgICAgIFtcImFyYWJpY0Zvcm1cIiwgXCJhcmFiaWMtZm9ybVwiXSxcbiAgICAgICAgW1wiYmFzZWxpbmVTaGlmdFwiLCBcImJhc2VsaW5lLXNoaWZ0XCJdLFxuICAgICAgICBbXCJjYXBIZWlnaHRcIiwgXCJjYXAtaGVpZ2h0XCJdLFxuICAgICAgICBbXCJjbGlwUGF0aFwiLCBcImNsaXAtcGF0aFwiXSxcbiAgICAgICAgW1wiY2xpcFJ1bGVcIiwgXCJjbGlwLXJ1bGVcIl0sXG4gICAgICAgIFtcImNvbG9ySW50ZXJwb2xhdGlvblwiLCBcImNvbG9yLWludGVycG9sYXRpb25cIl0sXG4gICAgICAgIFtcImNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnNcIiwgXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIl0sXG4gICAgICAgIFtcImNvbG9yUHJvZmlsZVwiLCBcImNvbG9yLXByb2ZpbGVcIl0sXG4gICAgICAgIFtcImNvbG9yUmVuZGVyaW5nXCIsIFwiY29sb3ItcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJkb21pbmFudEJhc2VsaW5lXCIsIFwiZG9taW5hbnQtYmFzZWxpbmVcIl0sXG4gICAgICAgIFtcImVuYWJsZUJhY2tncm91bmRcIiwgXCJlbmFibGUtYmFja2dyb3VuZFwiXSxcbiAgICAgICAgW1wiZmlsbE9wYWNpdHlcIiwgXCJmaWxsLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcImZpbGxSdWxlXCIsIFwiZmlsbC1ydWxlXCJdLFxuICAgICAgICBbXCJmbG9vZENvbG9yXCIsIFwiZmxvb2QtY29sb3JcIl0sXG4gICAgICAgIFtcImZsb29kT3BhY2l0eVwiLCBcImZsb29kLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcImZvbnRGYW1pbHlcIiwgXCJmb250LWZhbWlseVwiXSxcbiAgICAgICAgW1wiZm9udFNpemVcIiwgXCJmb250LXNpemVcIl0sXG4gICAgICAgIFtcImZvbnRTaXplQWRqdXN0XCIsIFwiZm9udC1zaXplLWFkanVzdFwiXSxcbiAgICAgICAgW1wiZm9udFN0cmV0Y2hcIiwgXCJmb250LXN0cmV0Y2hcIl0sXG4gICAgICAgIFtcImZvbnRTdHlsZVwiLCBcImZvbnQtc3R5bGVcIl0sXG4gICAgICAgIFtcImZvbnRWYXJpYW50XCIsIFwiZm9udC12YXJpYW50XCJdLFxuICAgICAgICBbXCJmb250V2VpZ2h0XCIsIFwiZm9udC13ZWlnaHRcIl0sXG4gICAgICAgIFtcImdseXBoTmFtZVwiLCBcImdseXBoLW5hbWVcIl0sXG4gICAgICAgIFtcImdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsXCIsIFwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbFwiXSxcbiAgICAgICAgW1wiZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsXCIsIFwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWxcIl0sXG4gICAgICAgIFtcImhvcml6QWR2WFwiLCBcImhvcml6LWFkdi14XCJdLFxuICAgICAgICBbXCJob3Jpek9yaWdpblhcIiwgXCJob3Jpei1vcmlnaW4teFwiXSxcbiAgICAgICAgW1wiaW1hZ2VSZW5kZXJpbmdcIiwgXCJpbWFnZS1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcImxldHRlclNwYWNpbmdcIiwgXCJsZXR0ZXItc3BhY2luZ1wiXSxcbiAgICAgICAgW1wibGlnaHRpbmdDb2xvclwiLCBcImxpZ2h0aW5nLWNvbG9yXCJdLFxuICAgICAgICBbXCJtYXJrZXJFbmRcIiwgXCJtYXJrZXItZW5kXCJdLFxuICAgICAgICBbXCJtYXJrZXJNaWRcIiwgXCJtYXJrZXItbWlkXCJdLFxuICAgICAgICBbXCJtYXJrZXJTdGFydFwiLCBcIm1hcmtlci1zdGFydFwiXSxcbiAgICAgICAgW1wib3ZlcmxpbmVQb3NpdGlvblwiLCBcIm92ZXJsaW5lLXBvc2l0aW9uXCJdLFxuICAgICAgICBbXCJvdmVybGluZVRoaWNrbmVzc1wiLCBcIm92ZXJsaW5lLXRoaWNrbmVzc1wiXSxcbiAgICAgICAgW1wicGFpbnRPcmRlclwiLCBcInBhaW50LW9yZGVyXCJdLFxuICAgICAgICBbXCJwYW5vc2UtMVwiLCBcInBhbm9zZS0xXCJdLFxuICAgICAgICBbXCJwb2ludGVyRXZlbnRzXCIsIFwicG9pbnRlci1ldmVudHNcIl0sXG4gICAgICAgIFtcInJlbmRlcmluZ0ludGVudFwiLCBcInJlbmRlcmluZy1pbnRlbnRcIl0sXG4gICAgICAgIFtcInNoYXBlUmVuZGVyaW5nXCIsIFwic2hhcGUtcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJzdG9wQ29sb3JcIiwgXCJzdG9wLWNvbG9yXCJdLFxuICAgICAgICBbXCJzdG9wT3BhY2l0eVwiLCBcInN0b3Atb3BhY2l0eVwiXSxcbiAgICAgICAgW1wic3RyaWtldGhyb3VnaFBvc2l0aW9uXCIsIFwic3RyaWtldGhyb3VnaC1wb3NpdGlvblwiXSxcbiAgICAgICAgW1wic3RyaWtldGhyb3VnaFRoaWNrbmVzc1wiLCBcInN0cmlrZXRocm91Z2gtdGhpY2tuZXNzXCJdLFxuICAgICAgICBbXCJzdHJva2VEYXNoYXJyYXlcIiwgXCJzdHJva2UtZGFzaGFycmF5XCJdLFxuICAgICAgICBbXCJzdHJva2VEYXNob2Zmc2V0XCIsIFwic3Ryb2tlLWRhc2hvZmZzZXRcIl0sXG4gICAgICAgIFtcInN0cm9rZUxpbmVjYXBcIiwgXCJzdHJva2UtbGluZWNhcFwiXSxcbiAgICAgICAgW1wic3Ryb2tlTGluZWpvaW5cIiwgXCJzdHJva2UtbGluZWpvaW5cIl0sXG4gICAgICAgIFtcInN0cm9rZU1pdGVybGltaXRcIiwgXCJzdHJva2UtbWl0ZXJsaW1pdFwiXSxcbiAgICAgICAgW1wic3Ryb2tlT3BhY2l0eVwiLCBcInN0cm9rZS1vcGFjaXR5XCJdLFxuICAgICAgICBbXCJzdHJva2VXaWR0aFwiLCBcInN0cm9rZS13aWR0aFwiXSxcbiAgICAgICAgW1widGV4dEFuY2hvclwiLCBcInRleHQtYW5jaG9yXCJdLFxuICAgICAgICBbXCJ0ZXh0RGVjb3JhdGlvblwiLCBcInRleHQtZGVjb3JhdGlvblwiXSxcbiAgICAgICAgW1widGV4dFJlbmRlcmluZ1wiLCBcInRleHQtcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJ0cmFuc2Zvcm1PcmlnaW5cIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCJdLFxuICAgICAgICBbXCJ1bmRlcmxpbmVQb3NpdGlvblwiLCBcInVuZGVybGluZS1wb3NpdGlvblwiXSxcbiAgICAgICAgW1widW5kZXJsaW5lVGhpY2tuZXNzXCIsIFwidW5kZXJsaW5lLXRoaWNrbmVzc1wiXSxcbiAgICAgICAgW1widW5pY29kZUJpZGlcIiwgXCJ1bmljb2RlLWJpZGlcIl0sXG4gICAgICAgIFtcInVuaWNvZGVSYW5nZVwiLCBcInVuaWNvZGUtcmFuZ2VcIl0sXG4gICAgICAgIFtcInVuaXRzUGVyRW1cIiwgXCJ1bml0cy1wZXItZW1cIl0sXG4gICAgICAgIFtcInZBbHBoYWJldGljXCIsIFwidi1hbHBoYWJldGljXCJdLFxuICAgICAgICBbXCJ2SGFuZ2luZ1wiLCBcInYtaGFuZ2luZ1wiXSxcbiAgICAgICAgW1widklkZW9ncmFwaGljXCIsIFwidi1pZGVvZ3JhcGhpY1wiXSxcbiAgICAgICAgW1widk1hdGhlbWF0aWNhbFwiLCBcInYtbWF0aGVtYXRpY2FsXCJdLFxuICAgICAgICBbXCJ2ZWN0b3JFZmZlY3RcIiwgXCJ2ZWN0b3ItZWZmZWN0XCJdLFxuICAgICAgICBbXCJ2ZXJ0QWR2WVwiLCBcInZlcnQtYWR2LXlcIl0sXG4gICAgICAgIFtcInZlcnRPcmlnaW5YXCIsIFwidmVydC1vcmlnaW4teFwiXSxcbiAgICAgICAgW1widmVydE9yaWdpbllcIiwgXCJ2ZXJ0LW9yaWdpbi15XCJdLFxuICAgICAgICBbXCJ3b3JkU3BhY2luZ1wiLCBcIndvcmQtc3BhY2luZ1wiXSxcbiAgICAgICAgW1wid3JpdGluZ01vZGVcIiwgXCJ3cml0aW5nLW1vZGVcIl0sXG4gICAgICAgIFtcInhtbG5zWGxpbmtcIiwgXCJ4bWxuczp4bGlua1wiXSxcbiAgICAgICAgW1wieEhlaWdodFwiLCBcIngtaGVpZ2h0XCJdXG4gICAgICBdKSxcbiAgICAgIHBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IHtcbiAgICAgICAgYWNjZXB0OiBcImFjY2VwdFwiLFxuICAgICAgICBhY2NlcHRjaGFyc2V0OiBcImFjY2VwdENoYXJzZXRcIixcbiAgICAgICAgXCJhY2NlcHQtY2hhcnNldFwiOiBcImFjY2VwdENoYXJzZXRcIixcbiAgICAgICAgYWNjZXNza2V5OiBcImFjY2Vzc0tleVwiLFxuICAgICAgICBhY3Rpb246IFwiYWN0aW9uXCIsXG4gICAgICAgIGFsbG93ZnVsbHNjcmVlbjogXCJhbGxvd0Z1bGxTY3JlZW5cIixcbiAgICAgICAgYWx0OiBcImFsdFwiLFxuICAgICAgICBhczogXCJhc1wiLFxuICAgICAgICBhc3luYzogXCJhc3luY1wiLFxuICAgICAgICBhdXRvY2FwaXRhbGl6ZTogXCJhdXRvQ2FwaXRhbGl6ZVwiLFxuICAgICAgICBhdXRvY29tcGxldGU6IFwiYXV0b0NvbXBsZXRlXCIsXG4gICAgICAgIGF1dG9jb3JyZWN0OiBcImF1dG9Db3JyZWN0XCIsXG4gICAgICAgIGF1dG9mb2N1czogXCJhdXRvRm9jdXNcIixcbiAgICAgICAgYXV0b3BsYXk6IFwiYXV0b1BsYXlcIixcbiAgICAgICAgYXV0b3NhdmU6IFwiYXV0b1NhdmVcIixcbiAgICAgICAgY2FwdHVyZTogXCJjYXB0dXJlXCIsXG4gICAgICAgIGNlbGxwYWRkaW5nOiBcImNlbGxQYWRkaW5nXCIsXG4gICAgICAgIGNlbGxzcGFjaW5nOiBcImNlbGxTcGFjaW5nXCIsXG4gICAgICAgIGNoYWxsZW5nZTogXCJjaGFsbGVuZ2VcIixcbiAgICAgICAgY2hhcnNldDogXCJjaGFyU2V0XCIsXG4gICAgICAgIGNoZWNrZWQ6IFwiY2hlY2tlZFwiLFxuICAgICAgICBjaGlsZHJlbjogXCJjaGlsZHJlblwiLFxuICAgICAgICBjaXRlOiBcImNpdGVcIixcbiAgICAgICAgY2xhc3M6IFwiY2xhc3NOYW1lXCIsXG4gICAgICAgIGNsYXNzaWQ6IFwiY2xhc3NJRFwiLFxuICAgICAgICBjbGFzc25hbWU6IFwiY2xhc3NOYW1lXCIsXG4gICAgICAgIGNvbHM6IFwiY29sc1wiLFxuICAgICAgICBjb2xzcGFuOiBcImNvbFNwYW5cIixcbiAgICAgICAgY29udGVudDogXCJjb250ZW50XCIsXG4gICAgICAgIGNvbnRlbnRlZGl0YWJsZTogXCJjb250ZW50RWRpdGFibGVcIixcbiAgICAgICAgY29udGV4dG1lbnU6IFwiY29udGV4dE1lbnVcIixcbiAgICAgICAgY29udHJvbHM6IFwiY29udHJvbHNcIixcbiAgICAgICAgY29udHJvbHNsaXN0OiBcImNvbnRyb2xzTGlzdFwiLFxuICAgICAgICBjb29yZHM6IFwiY29vcmRzXCIsXG4gICAgICAgIGNyb3Nzb3JpZ2luOiBcImNyb3NzT3JpZ2luXCIsXG4gICAgICAgIGRhbmdlcm91c2x5c2V0aW5uZXJodG1sOiBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIsXG4gICAgICAgIGRhdGE6IFwiZGF0YVwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRlVGltZVwiLFxuICAgICAgICBkZWZhdWx0OiBcImRlZmF1bHRcIixcbiAgICAgICAgZGVmYXVsdGNoZWNrZWQ6IFwiZGVmYXVsdENoZWNrZWRcIixcbiAgICAgICAgZGVmYXVsdHZhbHVlOiBcImRlZmF1bHRWYWx1ZVwiLFxuICAgICAgICBkZWZlcjogXCJkZWZlclwiLFxuICAgICAgICBkaXI6IFwiZGlyXCIsXG4gICAgICAgIGRpc2FibGVkOiBcImRpc2FibGVkXCIsXG4gICAgICAgIGRpc2FibGVwaWN0dXJlaW5waWN0dXJlOiBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCIsXG4gICAgICAgIGRpc2FibGVyZW1vdGVwbGF5YmFjazogXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIixcbiAgICAgICAgZG93bmxvYWQ6IFwiZG93bmxvYWRcIixcbiAgICAgICAgZHJhZ2dhYmxlOiBcImRyYWdnYWJsZVwiLFxuICAgICAgICBlbmN0eXBlOiBcImVuY1R5cGVcIixcbiAgICAgICAgZW50ZXJrZXloaW50OiBcImVudGVyS2V5SGludFwiLFxuICAgICAgICBmZXRjaHByaW9yaXR5OiBcImZldGNoUHJpb3JpdHlcIixcbiAgICAgICAgZm9yOiBcImh0bWxGb3JcIixcbiAgICAgICAgZm9ybTogXCJmb3JtXCIsXG4gICAgICAgIGZvcm1tZXRob2Q6IFwiZm9ybU1ldGhvZFwiLFxuICAgICAgICBmb3JtYWN0aW9uOiBcImZvcm1BY3Rpb25cIixcbiAgICAgICAgZm9ybWVuY3R5cGU6IFwiZm9ybUVuY1R5cGVcIixcbiAgICAgICAgZm9ybW5vdmFsaWRhdGU6IFwiZm9ybU5vVmFsaWRhdGVcIixcbiAgICAgICAgZm9ybXRhcmdldDogXCJmb3JtVGFyZ2V0XCIsXG4gICAgICAgIGZyYW1lYm9yZGVyOiBcImZyYW1lQm9yZGVyXCIsXG4gICAgICAgIGhlYWRlcnM6IFwiaGVhZGVyc1wiLFxuICAgICAgICBoZWlnaHQ6IFwiaGVpZ2h0XCIsXG4gICAgICAgIGhpZGRlbjogXCJoaWRkZW5cIixcbiAgICAgICAgaGlnaDogXCJoaWdoXCIsXG4gICAgICAgIGhyZWY6IFwiaHJlZlwiLFxuICAgICAgICBocmVmbGFuZzogXCJocmVmTGFuZ1wiLFxuICAgICAgICBodG1sZm9yOiBcImh0bWxGb3JcIixcbiAgICAgICAgaHR0cGVxdWl2OiBcImh0dHBFcXVpdlwiLFxuICAgICAgICBcImh0dHAtZXF1aXZcIjogXCJodHRwRXF1aXZcIixcbiAgICAgICAgaWNvbjogXCJpY29uXCIsXG4gICAgICAgIGlkOiBcImlkXCIsXG4gICAgICAgIGltYWdlc2l6ZXM6IFwiaW1hZ2VTaXplc1wiLFxuICAgICAgICBpbWFnZXNyY3NldDogXCJpbWFnZVNyY1NldFwiLFxuICAgICAgICBpbmVydDogXCJpbmVydFwiLFxuICAgICAgICBpbm5lcmh0bWw6IFwiaW5uZXJIVE1MXCIsXG4gICAgICAgIGlucHV0bW9kZTogXCJpbnB1dE1vZGVcIixcbiAgICAgICAgaW50ZWdyaXR5OiBcImludGVncml0eVwiLFxuICAgICAgICBpczogXCJpc1wiLFxuICAgICAgICBpdGVtaWQ6IFwiaXRlbUlEXCIsXG4gICAgICAgIGl0ZW1wcm9wOiBcIml0ZW1Qcm9wXCIsXG4gICAgICAgIGl0ZW1yZWY6IFwiaXRlbVJlZlwiLFxuICAgICAgICBpdGVtc2NvcGU6IFwiaXRlbVNjb3BlXCIsXG4gICAgICAgIGl0ZW10eXBlOiBcIml0ZW1UeXBlXCIsXG4gICAgICAgIGtleXBhcmFtczogXCJrZXlQYXJhbXNcIixcbiAgICAgICAga2V5dHlwZTogXCJrZXlUeXBlXCIsXG4gICAgICAgIGtpbmQ6IFwia2luZFwiLFxuICAgICAgICBsYWJlbDogXCJsYWJlbFwiLFxuICAgICAgICBsYW5nOiBcImxhbmdcIixcbiAgICAgICAgbGlzdDogXCJsaXN0XCIsXG4gICAgICAgIGxvb3A6IFwibG9vcFwiLFxuICAgICAgICBsb3c6IFwibG93XCIsXG4gICAgICAgIG1hbmlmZXN0OiBcIm1hbmlmZXN0XCIsXG4gICAgICAgIG1hcmdpbndpZHRoOiBcIm1hcmdpbldpZHRoXCIsXG4gICAgICAgIG1hcmdpbmhlaWdodDogXCJtYXJnaW5IZWlnaHRcIixcbiAgICAgICAgbWF4OiBcIm1heFwiLFxuICAgICAgICBtYXhsZW5ndGg6IFwibWF4TGVuZ3RoXCIsXG4gICAgICAgIG1lZGlhOiBcIm1lZGlhXCIsXG4gICAgICAgIG1lZGlhZ3JvdXA6IFwibWVkaWFHcm91cFwiLFxuICAgICAgICBtZXRob2Q6IFwibWV0aG9kXCIsXG4gICAgICAgIG1pbjogXCJtaW5cIixcbiAgICAgICAgbWlubGVuZ3RoOiBcIm1pbkxlbmd0aFwiLFxuICAgICAgICBtdWx0aXBsZTogXCJtdWx0aXBsZVwiLFxuICAgICAgICBtdXRlZDogXCJtdXRlZFwiLFxuICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgbm9tb2R1bGU6IFwibm9Nb2R1bGVcIixcbiAgICAgICAgbm9uY2U6IFwibm9uY2VcIixcbiAgICAgICAgbm92YWxpZGF0ZTogXCJub1ZhbGlkYXRlXCIsXG4gICAgICAgIG9wZW46IFwib3BlblwiLFxuICAgICAgICBvcHRpbXVtOiBcIm9wdGltdW1cIixcbiAgICAgICAgcGF0dGVybjogXCJwYXR0ZXJuXCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcInBsYWNlaG9sZGVyXCIsXG4gICAgICAgIHBsYXlzaW5saW5lOiBcInBsYXlzSW5saW5lXCIsXG4gICAgICAgIHBvc3RlcjogXCJwb3N0ZXJcIixcbiAgICAgICAgcHJlbG9hZDogXCJwcmVsb2FkXCIsXG4gICAgICAgIHByb2ZpbGU6IFwicHJvZmlsZVwiLFxuICAgICAgICByYWRpb2dyb3VwOiBcInJhZGlvR3JvdXBcIixcbiAgICAgICAgcmVhZG9ubHk6IFwicmVhZE9ubHlcIixcbiAgICAgICAgcmVmZXJyZXJwb2xpY3k6IFwicmVmZXJyZXJQb2xpY3lcIixcbiAgICAgICAgcmVsOiBcInJlbFwiLFxuICAgICAgICByZXF1aXJlZDogXCJyZXF1aXJlZFwiLFxuICAgICAgICByZXZlcnNlZDogXCJyZXZlcnNlZFwiLFxuICAgICAgICByb2xlOiBcInJvbGVcIixcbiAgICAgICAgcm93czogXCJyb3dzXCIsXG4gICAgICAgIHJvd3NwYW46IFwicm93U3BhblwiLFxuICAgICAgICBzYW5kYm94OiBcInNhbmRib3hcIixcbiAgICAgICAgc2NvcGU6IFwic2NvcGVcIixcbiAgICAgICAgc2NvcGVkOiBcInNjb3BlZFwiLFxuICAgICAgICBzY3JvbGxpbmc6IFwic2Nyb2xsaW5nXCIsXG4gICAgICAgIHNlYW1sZXNzOiBcInNlYW1sZXNzXCIsXG4gICAgICAgIHNlbGVjdGVkOiBcInNlbGVjdGVkXCIsXG4gICAgICAgIHNoYXBlOiBcInNoYXBlXCIsXG4gICAgICAgIHNpemU6IFwic2l6ZVwiLFxuICAgICAgICBzaXplczogXCJzaXplc1wiLFxuICAgICAgICBzcGFuOiBcInNwYW5cIixcbiAgICAgICAgc3BlbGxjaGVjazogXCJzcGVsbENoZWNrXCIsXG4gICAgICAgIHNyYzogXCJzcmNcIixcbiAgICAgICAgc3JjZG9jOiBcInNyY0RvY1wiLFxuICAgICAgICBzcmNsYW5nOiBcInNyY0xhbmdcIixcbiAgICAgICAgc3Jjc2V0OiBcInNyY1NldFwiLFxuICAgICAgICBzdGFydDogXCJzdGFydFwiLFxuICAgICAgICBzdGVwOiBcInN0ZXBcIixcbiAgICAgICAgc3R5bGU6IFwic3R5bGVcIixcbiAgICAgICAgc3VtbWFyeTogXCJzdW1tYXJ5XCIsXG4gICAgICAgIHRhYmluZGV4OiBcInRhYkluZGV4XCIsXG4gICAgICAgIHRhcmdldDogXCJ0YXJnZXRcIixcbiAgICAgICAgdGl0bGU6IFwidGl0bGVcIixcbiAgICAgICAgdHlwZTogXCJ0eXBlXCIsXG4gICAgICAgIHVzZW1hcDogXCJ1c2VNYXBcIixcbiAgICAgICAgdmFsdWU6IFwidmFsdWVcIixcbiAgICAgICAgd2lkdGg6IFwid2lkdGhcIixcbiAgICAgICAgd21vZGU6IFwid21vZGVcIixcbiAgICAgICAgd3JhcDogXCJ3cmFwXCIsXG4gICAgICAgIGFib3V0OiBcImFib3V0XCIsXG4gICAgICAgIGFjY2VudGhlaWdodDogXCJhY2NlbnRIZWlnaHRcIixcbiAgICAgICAgXCJhY2NlbnQtaGVpZ2h0XCI6IFwiYWNjZW50SGVpZ2h0XCIsXG4gICAgICAgIGFjY3VtdWxhdGU6IFwiYWNjdW11bGF0ZVwiLFxuICAgICAgICBhZGRpdGl2ZTogXCJhZGRpdGl2ZVwiLFxuICAgICAgICBhbGlnbm1lbnRiYXNlbGluZTogXCJhbGlnbm1lbnRCYXNlbGluZVwiLFxuICAgICAgICBcImFsaWdubWVudC1iYXNlbGluZVwiOiBcImFsaWdubWVudEJhc2VsaW5lXCIsXG4gICAgICAgIGFsbG93cmVvcmRlcjogXCJhbGxvd1Jlb3JkZXJcIixcbiAgICAgICAgYWxwaGFiZXRpYzogXCJhbHBoYWJldGljXCIsXG4gICAgICAgIGFtcGxpdHVkZTogXCJhbXBsaXR1ZGVcIixcbiAgICAgICAgYXJhYmljZm9ybTogXCJhcmFiaWNGb3JtXCIsXG4gICAgICAgIFwiYXJhYmljLWZvcm1cIjogXCJhcmFiaWNGb3JtXCIsXG4gICAgICAgIGFzY2VudDogXCJhc2NlbnRcIixcbiAgICAgICAgYXR0cmlidXRlbmFtZTogXCJhdHRyaWJ1dGVOYW1lXCIsXG4gICAgICAgIGF0dHJpYnV0ZXR5cGU6IFwiYXR0cmlidXRlVHlwZVwiLFxuICAgICAgICBhdXRvcmV2ZXJzZTogXCJhdXRvUmV2ZXJzZVwiLFxuICAgICAgICBhemltdXRoOiBcImF6aW11dGhcIixcbiAgICAgICAgYmFzZWZyZXF1ZW5jeTogXCJiYXNlRnJlcXVlbmN5XCIsXG4gICAgICAgIGJhc2VsaW5lc2hpZnQ6IFwiYmFzZWxpbmVTaGlmdFwiLFxuICAgICAgICBcImJhc2VsaW5lLXNoaWZ0XCI6IFwiYmFzZWxpbmVTaGlmdFwiLFxuICAgICAgICBiYXNlcHJvZmlsZTogXCJiYXNlUHJvZmlsZVwiLFxuICAgICAgICBiYm94OiBcImJib3hcIixcbiAgICAgICAgYmVnaW46IFwiYmVnaW5cIixcbiAgICAgICAgYmlhczogXCJiaWFzXCIsXG4gICAgICAgIGJ5OiBcImJ5XCIsXG4gICAgICAgIGNhbGNtb2RlOiBcImNhbGNNb2RlXCIsXG4gICAgICAgIGNhcGhlaWdodDogXCJjYXBIZWlnaHRcIixcbiAgICAgICAgXCJjYXAtaGVpZ2h0XCI6IFwiY2FwSGVpZ2h0XCIsXG4gICAgICAgIGNsaXA6IFwiY2xpcFwiLFxuICAgICAgICBjbGlwcGF0aDogXCJjbGlwUGF0aFwiLFxuICAgICAgICBcImNsaXAtcGF0aFwiOiBcImNsaXBQYXRoXCIsXG4gICAgICAgIGNsaXBwYXRodW5pdHM6IFwiY2xpcFBhdGhVbml0c1wiLFxuICAgICAgICBjbGlwcnVsZTogXCJjbGlwUnVsZVwiLFxuICAgICAgICBcImNsaXAtcnVsZVwiOiBcImNsaXBSdWxlXCIsXG4gICAgICAgIGNvbG9yOiBcImNvbG9yXCIsXG4gICAgICAgIGNvbG9yaW50ZXJwb2xhdGlvbjogXCJjb2xvckludGVycG9sYXRpb25cIixcbiAgICAgICAgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCI6IFwiY29sb3JJbnRlcnBvbGF0aW9uXCIsXG4gICAgICAgIGNvbG9yaW50ZXJwb2xhdGlvbmZpbHRlcnM6IFwiY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc1wiLFxuICAgICAgICBcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiOiBcImNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnNcIixcbiAgICAgICAgY29sb3Jwcm9maWxlOiBcImNvbG9yUHJvZmlsZVwiLFxuICAgICAgICBcImNvbG9yLXByb2ZpbGVcIjogXCJjb2xvclByb2ZpbGVcIixcbiAgICAgICAgY29sb3JyZW5kZXJpbmc6IFwiY29sb3JSZW5kZXJpbmdcIixcbiAgICAgICAgXCJjb2xvci1yZW5kZXJpbmdcIjogXCJjb2xvclJlbmRlcmluZ1wiLFxuICAgICAgICBjb250ZW50c2NyaXB0dHlwZTogXCJjb250ZW50U2NyaXB0VHlwZVwiLFxuICAgICAgICBjb250ZW50c3R5bGV0eXBlOiBcImNvbnRlbnRTdHlsZVR5cGVcIixcbiAgICAgICAgY3Vyc29yOiBcImN1cnNvclwiLFxuICAgICAgICBjeDogXCJjeFwiLFxuICAgICAgICBjeTogXCJjeVwiLFxuICAgICAgICBkOiBcImRcIixcbiAgICAgICAgZGF0YXR5cGU6IFwiZGF0YXR5cGVcIixcbiAgICAgICAgZGVjZWxlcmF0ZTogXCJkZWNlbGVyYXRlXCIsXG4gICAgICAgIGRlc2NlbnQ6IFwiZGVzY2VudFwiLFxuICAgICAgICBkaWZmdXNlY29uc3RhbnQ6IFwiZGlmZnVzZUNvbnN0YW50XCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJkaXJlY3Rpb25cIixcbiAgICAgICAgZGlzcGxheTogXCJkaXNwbGF5XCIsXG4gICAgICAgIGRpdmlzb3I6IFwiZGl2aXNvclwiLFxuICAgICAgICBkb21pbmFudGJhc2VsaW5lOiBcImRvbWluYW50QmFzZWxpbmVcIixcbiAgICAgICAgXCJkb21pbmFudC1iYXNlbGluZVwiOiBcImRvbWluYW50QmFzZWxpbmVcIixcbiAgICAgICAgZHVyOiBcImR1clwiLFxuICAgICAgICBkeDogXCJkeFwiLFxuICAgICAgICBkeTogXCJkeVwiLFxuICAgICAgICBlZGdlbW9kZTogXCJlZGdlTW9kZVwiLFxuICAgICAgICBlbGV2YXRpb246IFwiZWxldmF0aW9uXCIsXG4gICAgICAgIGVuYWJsZWJhY2tncm91bmQ6IFwiZW5hYmxlQmFja2dyb3VuZFwiLFxuICAgICAgICBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwiZW5hYmxlQmFja2dyb3VuZFwiLFxuICAgICAgICBlbmQ6IFwiZW5kXCIsXG4gICAgICAgIGV4cG9uZW50OiBcImV4cG9uZW50XCIsXG4gICAgICAgIGV4dGVybmFscmVzb3VyY2VzcmVxdWlyZWQ6IFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiLFxuICAgICAgICBmaWxsOiBcImZpbGxcIixcbiAgICAgICAgZmlsbG9wYWNpdHk6IFwiZmlsbE9wYWNpdHlcIixcbiAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogXCJmaWxsT3BhY2l0eVwiLFxuICAgICAgICBmaWxscnVsZTogXCJmaWxsUnVsZVwiLFxuICAgICAgICBcImZpbGwtcnVsZVwiOiBcImZpbGxSdWxlXCIsXG4gICAgICAgIGZpbHRlcjogXCJmaWx0ZXJcIixcbiAgICAgICAgZmlsdGVycmVzOiBcImZpbHRlclJlc1wiLFxuICAgICAgICBmaWx0ZXJ1bml0czogXCJmaWx0ZXJVbml0c1wiLFxuICAgICAgICBmbG9vZG9wYWNpdHk6IFwiZmxvb2RPcGFjaXR5XCIsXG4gICAgICAgIFwiZmxvb2Qtb3BhY2l0eVwiOiBcImZsb29kT3BhY2l0eVwiLFxuICAgICAgICBmbG9vZGNvbG9yOiBcImZsb29kQ29sb3JcIixcbiAgICAgICAgXCJmbG9vZC1jb2xvclwiOiBcImZsb29kQ29sb3JcIixcbiAgICAgICAgZm9jdXNhYmxlOiBcImZvY3VzYWJsZVwiLFxuICAgICAgICBmb250ZmFtaWx5OiBcImZvbnRGYW1pbHlcIixcbiAgICAgICAgXCJmb250LWZhbWlseVwiOiBcImZvbnRGYW1pbHlcIixcbiAgICAgICAgZm9udHNpemU6IFwiZm9udFNpemVcIixcbiAgICAgICAgXCJmb250LXNpemVcIjogXCJmb250U2l6ZVwiLFxuICAgICAgICBmb250c2l6ZWFkanVzdDogXCJmb250U2l6ZUFkanVzdFwiLFxuICAgICAgICBcImZvbnQtc2l6ZS1hZGp1c3RcIjogXCJmb250U2l6ZUFkanVzdFwiLFxuICAgICAgICBmb250c3RyZXRjaDogXCJmb250U3RyZXRjaFwiLFxuICAgICAgICBcImZvbnQtc3RyZXRjaFwiOiBcImZvbnRTdHJldGNoXCIsXG4gICAgICAgIGZvbnRzdHlsZTogXCJmb250U3R5bGVcIixcbiAgICAgICAgXCJmb250LXN0eWxlXCI6IFwiZm9udFN0eWxlXCIsXG4gICAgICAgIGZvbnR2YXJpYW50OiBcImZvbnRWYXJpYW50XCIsXG4gICAgICAgIFwiZm9udC12YXJpYW50XCI6IFwiZm9udFZhcmlhbnRcIixcbiAgICAgICAgZm9udHdlaWdodDogXCJmb250V2VpZ2h0XCIsXG4gICAgICAgIFwiZm9udC13ZWlnaHRcIjogXCJmb250V2VpZ2h0XCIsXG4gICAgICAgIGZvcm1hdDogXCJmb3JtYXRcIixcbiAgICAgICAgZnJvbTogXCJmcm9tXCIsXG4gICAgICAgIGZ4OiBcImZ4XCIsXG4gICAgICAgIGZ5OiBcImZ5XCIsXG4gICAgICAgIGcxOiBcImcxXCIsXG4gICAgICAgIGcyOiBcImcyXCIsXG4gICAgICAgIGdseXBobmFtZTogXCJnbHlwaE5hbWVcIixcbiAgICAgICAgXCJnbHlwaC1uYW1lXCI6IFwiZ2x5cGhOYW1lXCIsXG4gICAgICAgIGdseXBob3JpZW50YXRpb25ob3Jpem9udGFsOiBcImdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsXCIsXG4gICAgICAgIFwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbFwiOiBcImdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsXCIsXG4gICAgICAgIGdseXBob3JpZW50YXRpb252ZXJ0aWNhbDogXCJnbHlwaE9yaWVudGF0aW9uVmVydGljYWxcIixcbiAgICAgICAgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiOiBcImdseXBoT3JpZW50YXRpb25WZXJ0aWNhbFwiLFxuICAgICAgICBnbHlwaHJlZjogXCJnbHlwaFJlZlwiLFxuICAgICAgICBncmFkaWVudHRyYW5zZm9ybTogXCJncmFkaWVudFRyYW5zZm9ybVwiLFxuICAgICAgICBncmFkaWVudHVuaXRzOiBcImdyYWRpZW50VW5pdHNcIixcbiAgICAgICAgaGFuZ2luZzogXCJoYW5naW5nXCIsXG4gICAgICAgIGhvcml6YWR2eDogXCJob3JpekFkdlhcIixcbiAgICAgICAgXCJob3Jpei1hZHYteFwiOiBcImhvcml6QWR2WFwiLFxuICAgICAgICBob3Jpem9yaWdpbng6IFwiaG9yaXpPcmlnaW5YXCIsXG4gICAgICAgIFwiaG9yaXotb3JpZ2luLXhcIjogXCJob3Jpek9yaWdpblhcIixcbiAgICAgICAgaWRlb2dyYXBoaWM6IFwiaWRlb2dyYXBoaWNcIixcbiAgICAgICAgaW1hZ2VyZW5kZXJpbmc6IFwiaW1hZ2VSZW5kZXJpbmdcIixcbiAgICAgICAgXCJpbWFnZS1yZW5kZXJpbmdcIjogXCJpbWFnZVJlbmRlcmluZ1wiLFxuICAgICAgICBpbjI6IFwiaW4yXCIsXG4gICAgICAgIGluOiBcImluXCIsXG4gICAgICAgIGlubGlzdDogXCJpbmxpc3RcIixcbiAgICAgICAgaW50ZXJjZXB0OiBcImludGVyY2VwdFwiLFxuICAgICAgICBrMTogXCJrMVwiLFxuICAgICAgICBrMjogXCJrMlwiLFxuICAgICAgICBrMzogXCJrM1wiLFxuICAgICAgICBrNDogXCJrNFwiLFxuICAgICAgICBrOiBcImtcIixcbiAgICAgICAga2VybmVsbWF0cml4OiBcImtlcm5lbE1hdHJpeFwiLFxuICAgICAgICBrZXJuZWx1bml0bGVuZ3RoOiBcImtlcm5lbFVuaXRMZW5ndGhcIixcbiAgICAgICAga2VybmluZzogXCJrZXJuaW5nXCIsXG4gICAgICAgIGtleXBvaW50czogXCJrZXlQb2ludHNcIixcbiAgICAgICAga2V5c3BsaW5lczogXCJrZXlTcGxpbmVzXCIsXG4gICAgICAgIGtleXRpbWVzOiBcImtleVRpbWVzXCIsXG4gICAgICAgIGxlbmd0aGFkanVzdDogXCJsZW5ndGhBZGp1c3RcIixcbiAgICAgICAgbGV0dGVyc3BhY2luZzogXCJsZXR0ZXJTcGFjaW5nXCIsXG4gICAgICAgIFwibGV0dGVyLXNwYWNpbmdcIjogXCJsZXR0ZXJTcGFjaW5nXCIsXG4gICAgICAgIGxpZ2h0aW5nY29sb3I6IFwibGlnaHRpbmdDb2xvclwiLFxuICAgICAgICBcImxpZ2h0aW5nLWNvbG9yXCI6IFwibGlnaHRpbmdDb2xvclwiLFxuICAgICAgICBsaW1pdGluZ2NvbmVhbmdsZTogXCJsaW1pdGluZ0NvbmVBbmdsZVwiLFxuICAgICAgICBsb2NhbDogXCJsb2NhbFwiLFxuICAgICAgICBtYXJrZXJlbmQ6IFwibWFya2VyRW5kXCIsXG4gICAgICAgIFwibWFya2VyLWVuZFwiOiBcIm1hcmtlckVuZFwiLFxuICAgICAgICBtYXJrZXJoZWlnaHQ6IFwibWFya2VySGVpZ2h0XCIsXG4gICAgICAgIG1hcmtlcm1pZDogXCJtYXJrZXJNaWRcIixcbiAgICAgICAgXCJtYXJrZXItbWlkXCI6IFwibWFya2VyTWlkXCIsXG4gICAgICAgIG1hcmtlcnN0YXJ0OiBcIm1hcmtlclN0YXJ0XCIsXG4gICAgICAgIFwibWFya2VyLXN0YXJ0XCI6IFwibWFya2VyU3RhcnRcIixcbiAgICAgICAgbWFya2VydW5pdHM6IFwibWFya2VyVW5pdHNcIixcbiAgICAgICAgbWFya2Vyd2lkdGg6IFwibWFya2VyV2lkdGhcIixcbiAgICAgICAgbWFzazogXCJtYXNrXCIsXG4gICAgICAgIG1hc2tjb250ZW50dW5pdHM6IFwibWFza0NvbnRlbnRVbml0c1wiLFxuICAgICAgICBtYXNrdW5pdHM6IFwibWFza1VuaXRzXCIsXG4gICAgICAgIG1hdGhlbWF0aWNhbDogXCJtYXRoZW1hdGljYWxcIixcbiAgICAgICAgbW9kZTogXCJtb2RlXCIsXG4gICAgICAgIG51bW9jdGF2ZXM6IFwibnVtT2N0YXZlc1wiLFxuICAgICAgICBvZmZzZXQ6IFwib2Zmc2V0XCIsXG4gICAgICAgIG9wYWNpdHk6IFwib3BhY2l0eVwiLFxuICAgICAgICBvcGVyYXRvcjogXCJvcGVyYXRvclwiLFxuICAgICAgICBvcmRlcjogXCJvcmRlclwiLFxuICAgICAgICBvcmllbnQ6IFwib3JpZW50XCIsXG4gICAgICAgIG9yaWVudGF0aW9uOiBcIm9yaWVudGF0aW9uXCIsXG4gICAgICAgIG9yaWdpbjogXCJvcmlnaW5cIixcbiAgICAgICAgb3ZlcmZsb3c6IFwib3ZlcmZsb3dcIixcbiAgICAgICAgb3ZlcmxpbmVwb3NpdGlvbjogXCJvdmVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIFwib3ZlcmxpbmUtcG9zaXRpb25cIjogXCJvdmVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIG92ZXJsaW5ldGhpY2tuZXNzOiBcIm92ZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIFwib3ZlcmxpbmUtdGhpY2tuZXNzXCI6IFwib3ZlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgcGFpbnRvcmRlcjogXCJwYWludE9yZGVyXCIsXG4gICAgICAgIFwicGFpbnQtb3JkZXJcIjogXCJwYWludE9yZGVyXCIsXG4gICAgICAgIHBhbm9zZTE6IFwicGFub3NlMVwiLFxuICAgICAgICBcInBhbm9zZS0xXCI6IFwicGFub3NlMVwiLFxuICAgICAgICBwYXRobGVuZ3RoOiBcInBhdGhMZW5ndGhcIixcbiAgICAgICAgcGF0dGVybmNvbnRlbnR1bml0czogXCJwYXR0ZXJuQ29udGVudFVuaXRzXCIsXG4gICAgICAgIHBhdHRlcm50cmFuc2Zvcm06IFwicGF0dGVyblRyYW5zZm9ybVwiLFxuICAgICAgICBwYXR0ZXJudW5pdHM6IFwicGF0dGVyblVuaXRzXCIsXG4gICAgICAgIHBvaW50ZXJldmVudHM6IFwicG9pbnRlckV2ZW50c1wiLFxuICAgICAgICBcInBvaW50ZXItZXZlbnRzXCI6IFwicG9pbnRlckV2ZW50c1wiLFxuICAgICAgICBwb2ludHM6IFwicG9pbnRzXCIsXG4gICAgICAgIHBvaW50c2F0eDogXCJwb2ludHNBdFhcIixcbiAgICAgICAgcG9pbnRzYXR5OiBcInBvaW50c0F0WVwiLFxuICAgICAgICBwb2ludHNhdHo6IFwicG9pbnRzQXRaXCIsXG4gICAgICAgIHBvcG92ZXI6IFwicG9wb3ZlclwiLFxuICAgICAgICBwb3BvdmVydGFyZ2V0OiBcInBvcG92ZXJUYXJnZXRcIixcbiAgICAgICAgcG9wb3ZlcnRhcmdldGFjdGlvbjogXCJwb3BvdmVyVGFyZ2V0QWN0aW9uXCIsXG4gICAgICAgIHByZWZpeDogXCJwcmVmaXhcIixcbiAgICAgICAgcHJlc2VydmVhbHBoYTogXCJwcmVzZXJ2ZUFscGhhXCIsXG4gICAgICAgIHByZXNlcnZlYXNwZWN0cmF0aW86IFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLFxuICAgICAgICBwcmltaXRpdmV1bml0czogXCJwcmltaXRpdmVVbml0c1wiLFxuICAgICAgICBwcm9wZXJ0eTogXCJwcm9wZXJ0eVwiLFxuICAgICAgICByOiBcInJcIixcbiAgICAgICAgcmFkaXVzOiBcInJhZGl1c1wiLFxuICAgICAgICByZWZ4OiBcInJlZlhcIixcbiAgICAgICAgcmVmeTogXCJyZWZZXCIsXG4gICAgICAgIHJlbmRlcmluZ2ludGVudDogXCJyZW5kZXJpbmdJbnRlbnRcIixcbiAgICAgICAgXCJyZW5kZXJpbmctaW50ZW50XCI6IFwicmVuZGVyaW5nSW50ZW50XCIsXG4gICAgICAgIHJlcGVhdGNvdW50OiBcInJlcGVhdENvdW50XCIsXG4gICAgICAgIHJlcGVhdGR1cjogXCJyZXBlYXREdXJcIixcbiAgICAgICAgcmVxdWlyZWRleHRlbnNpb25zOiBcInJlcXVpcmVkRXh0ZW5zaW9uc1wiLFxuICAgICAgICByZXF1aXJlZGZlYXR1cmVzOiBcInJlcXVpcmVkRmVhdHVyZXNcIixcbiAgICAgICAgcmVzb3VyY2U6IFwicmVzb3VyY2VcIixcbiAgICAgICAgcmVzdGFydDogXCJyZXN0YXJ0XCIsXG4gICAgICAgIHJlc3VsdDogXCJyZXN1bHRcIixcbiAgICAgICAgcmVzdWx0czogXCJyZXN1bHRzXCIsXG4gICAgICAgIHJvdGF0ZTogXCJyb3RhdGVcIixcbiAgICAgICAgcng6IFwicnhcIixcbiAgICAgICAgcnk6IFwicnlcIixcbiAgICAgICAgc2NhbGU6IFwic2NhbGVcIixcbiAgICAgICAgc2VjdXJpdHk6IFwic2VjdXJpdHlcIixcbiAgICAgICAgc2VlZDogXCJzZWVkXCIsXG4gICAgICAgIHNoYXBlcmVuZGVyaW5nOiBcInNoYXBlUmVuZGVyaW5nXCIsXG4gICAgICAgIFwic2hhcGUtcmVuZGVyaW5nXCI6IFwic2hhcGVSZW5kZXJpbmdcIixcbiAgICAgICAgc2xvcGU6IFwic2xvcGVcIixcbiAgICAgICAgc3BhY2luZzogXCJzcGFjaW5nXCIsXG4gICAgICAgIHNwZWN1bGFyY29uc3RhbnQ6IFwic3BlY3VsYXJDb25zdGFudFwiLFxuICAgICAgICBzcGVjdWxhcmV4cG9uZW50OiBcInNwZWN1bGFyRXhwb25lbnRcIixcbiAgICAgICAgc3BlZWQ6IFwic3BlZWRcIixcbiAgICAgICAgc3ByZWFkbWV0aG9kOiBcInNwcmVhZE1ldGhvZFwiLFxuICAgICAgICBzdGFydG9mZnNldDogXCJzdGFydE9mZnNldFwiLFxuICAgICAgICBzdGRkZXZpYXRpb246IFwic3RkRGV2aWF0aW9uXCIsXG4gICAgICAgIHN0ZW1oOiBcInN0ZW1oXCIsXG4gICAgICAgIHN0ZW12OiBcInN0ZW12XCIsXG4gICAgICAgIHN0aXRjaHRpbGVzOiBcInN0aXRjaFRpbGVzXCIsXG4gICAgICAgIHN0b3Bjb2xvcjogXCJzdG9wQ29sb3JcIixcbiAgICAgICAgXCJzdG9wLWNvbG9yXCI6IFwic3RvcENvbG9yXCIsXG4gICAgICAgIHN0b3BvcGFjaXR5OiBcInN0b3BPcGFjaXR5XCIsXG4gICAgICAgIFwic3RvcC1vcGFjaXR5XCI6IFwic3RvcE9wYWNpdHlcIixcbiAgICAgICAgc3RyaWtldGhyb3VnaHBvc2l0aW9uOiBcInN0cmlrZXRocm91Z2hQb3NpdGlvblwiLFxuICAgICAgICBcInN0cmlrZXRocm91Z2gtcG9zaXRpb25cIjogXCJzdHJpa2V0aHJvdWdoUG9zaXRpb25cIixcbiAgICAgICAgc3RyaWtldGhyb3VnaHRoaWNrbmVzczogXCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaC10aGlja25lc3NcIjogXCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzXCIsXG4gICAgICAgIHN0cmluZzogXCJzdHJpbmdcIixcbiAgICAgICAgc3Ryb2tlOiBcInN0cm9rZVwiLFxuICAgICAgICBzdHJva2VkYXNoYXJyYXk6IFwic3Ryb2tlRGFzaGFycmF5XCIsXG4gICAgICAgIFwic3Ryb2tlLWRhc2hhcnJheVwiOiBcInN0cm9rZURhc2hhcnJheVwiLFxuICAgICAgICBzdHJva2VkYXNob2Zmc2V0OiBcInN0cm9rZURhc2hvZmZzZXRcIixcbiAgICAgICAgXCJzdHJva2UtZGFzaG9mZnNldFwiOiBcInN0cm9rZURhc2hvZmZzZXRcIixcbiAgICAgICAgc3Ryb2tlbGluZWNhcDogXCJzdHJva2VMaW5lY2FwXCIsXG4gICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJzdHJva2VMaW5lY2FwXCIsXG4gICAgICAgIHN0cm9rZWxpbmVqb2luOiBcInN0cm9rZUxpbmVqb2luXCIsXG4gICAgICAgIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwic3Ryb2tlTGluZWpvaW5cIixcbiAgICAgICAgc3Ryb2tlbWl0ZXJsaW1pdDogXCJzdHJva2VNaXRlcmxpbWl0XCIsXG4gICAgICAgIFwic3Ryb2tlLW1pdGVybGltaXRcIjogXCJzdHJva2VNaXRlcmxpbWl0XCIsXG4gICAgICAgIHN0cm9rZXdpZHRoOiBcInN0cm9rZVdpZHRoXCIsXG4gICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IFwic3Ryb2tlV2lkdGhcIixcbiAgICAgICAgc3Ryb2tlb3BhY2l0eTogXCJzdHJva2VPcGFjaXR5XCIsXG4gICAgICAgIFwic3Ryb2tlLW9wYWNpdHlcIjogXCJzdHJva2VPcGFjaXR5XCIsXG4gICAgICAgIHN1cHByZXNzY29udGVudGVkaXRhYmxld2FybmluZzogXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIixcbiAgICAgICAgc3VwcHJlc3NoeWRyYXRpb253YXJuaW5nOiBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiLFxuICAgICAgICBzdXJmYWNlc2NhbGU6IFwic3VyZmFjZVNjYWxlXCIsXG4gICAgICAgIHN5c3RlbWxhbmd1YWdlOiBcInN5c3RlbUxhbmd1YWdlXCIsXG4gICAgICAgIHRhYmxldmFsdWVzOiBcInRhYmxlVmFsdWVzXCIsXG4gICAgICAgIHRhcmdldHg6IFwidGFyZ2V0WFwiLFxuICAgICAgICB0YXJnZXR5OiBcInRhcmdldFlcIixcbiAgICAgICAgdGV4dGFuY2hvcjogXCJ0ZXh0QW5jaG9yXCIsXG4gICAgICAgIFwidGV4dC1hbmNob3JcIjogXCJ0ZXh0QW5jaG9yXCIsXG4gICAgICAgIHRleHRkZWNvcmF0aW9uOiBcInRleHREZWNvcmF0aW9uXCIsXG4gICAgICAgIFwidGV4dC1kZWNvcmF0aW9uXCI6IFwidGV4dERlY29yYXRpb25cIixcbiAgICAgICAgdGV4dGxlbmd0aDogXCJ0ZXh0TGVuZ3RoXCIsXG4gICAgICAgIHRleHRyZW5kZXJpbmc6IFwidGV4dFJlbmRlcmluZ1wiLFxuICAgICAgICBcInRleHQtcmVuZGVyaW5nXCI6IFwidGV4dFJlbmRlcmluZ1wiLFxuICAgICAgICB0bzogXCJ0b1wiLFxuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNmb3JtXCIsXG4gICAgICAgIHRyYW5zZm9ybW9yaWdpbjogXCJ0cmFuc2Zvcm1PcmlnaW5cIixcbiAgICAgICAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IFwidHJhbnNmb3JtT3JpZ2luXCIsXG4gICAgICAgIHR5cGVvZjogXCJ0eXBlb2ZcIixcbiAgICAgICAgdTE6IFwidTFcIixcbiAgICAgICAgdTI6IFwidTJcIixcbiAgICAgICAgdW5kZXJsaW5lcG9zaXRpb246IFwidW5kZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgXCJ1bmRlcmxpbmUtcG9zaXRpb25cIjogXCJ1bmRlcmxpbmVQb3NpdGlvblwiLFxuICAgICAgICB1bmRlcmxpbmV0aGlja25lc3M6IFwidW5kZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIFwidW5kZXJsaW5lLXRoaWNrbmVzc1wiOiBcInVuZGVybGluZVRoaWNrbmVzc1wiLFxuICAgICAgICB1bmljb2RlOiBcInVuaWNvZGVcIixcbiAgICAgICAgdW5pY29kZWJpZGk6IFwidW5pY29kZUJpZGlcIixcbiAgICAgICAgXCJ1bmljb2RlLWJpZGlcIjogXCJ1bmljb2RlQmlkaVwiLFxuICAgICAgICB1bmljb2RlcmFuZ2U6IFwidW5pY29kZVJhbmdlXCIsXG4gICAgICAgIFwidW5pY29kZS1yYW5nZVwiOiBcInVuaWNvZGVSYW5nZVwiLFxuICAgICAgICB1bml0c3BlcmVtOiBcInVuaXRzUGVyRW1cIixcbiAgICAgICAgXCJ1bml0cy1wZXItZW1cIjogXCJ1bml0c1BlckVtXCIsXG4gICAgICAgIHVuc2VsZWN0YWJsZTogXCJ1bnNlbGVjdGFibGVcIixcbiAgICAgICAgdmFscGhhYmV0aWM6IFwidkFscGhhYmV0aWNcIixcbiAgICAgICAgXCJ2LWFscGhhYmV0aWNcIjogXCJ2QWxwaGFiZXRpY1wiLFxuICAgICAgICB2YWx1ZXM6IFwidmFsdWVzXCIsXG4gICAgICAgIHZlY3RvcmVmZmVjdDogXCJ2ZWN0b3JFZmZlY3RcIixcbiAgICAgICAgXCJ2ZWN0b3ItZWZmZWN0XCI6IFwidmVjdG9yRWZmZWN0XCIsXG4gICAgICAgIHZlcnNpb246IFwidmVyc2lvblwiLFxuICAgICAgICB2ZXJ0YWR2eTogXCJ2ZXJ0QWR2WVwiLFxuICAgICAgICBcInZlcnQtYWR2LXlcIjogXCJ2ZXJ0QWR2WVwiLFxuICAgICAgICB2ZXJ0b3JpZ2lueDogXCJ2ZXJ0T3JpZ2luWFwiLFxuICAgICAgICBcInZlcnQtb3JpZ2luLXhcIjogXCJ2ZXJ0T3JpZ2luWFwiLFxuICAgICAgICB2ZXJ0b3JpZ2lueTogXCJ2ZXJ0T3JpZ2luWVwiLFxuICAgICAgICBcInZlcnQtb3JpZ2luLXlcIjogXCJ2ZXJ0T3JpZ2luWVwiLFxuICAgICAgICB2aGFuZ2luZzogXCJ2SGFuZ2luZ1wiLFxuICAgICAgICBcInYtaGFuZ2luZ1wiOiBcInZIYW5naW5nXCIsXG4gICAgICAgIHZpZGVvZ3JhcGhpYzogXCJ2SWRlb2dyYXBoaWNcIixcbiAgICAgICAgXCJ2LWlkZW9ncmFwaGljXCI6IFwidklkZW9ncmFwaGljXCIsXG4gICAgICAgIHZpZXdib3g6IFwidmlld0JveFwiLFxuICAgICAgICB2aWV3dGFyZ2V0OiBcInZpZXdUYXJnZXRcIixcbiAgICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmlsaXR5XCIsXG4gICAgICAgIHZtYXRoZW1hdGljYWw6IFwidk1hdGhlbWF0aWNhbFwiLFxuICAgICAgICBcInYtbWF0aGVtYXRpY2FsXCI6IFwidk1hdGhlbWF0aWNhbFwiLFxuICAgICAgICB2b2NhYjogXCJ2b2NhYlwiLFxuICAgICAgICB3aWR0aHM6IFwid2lkdGhzXCIsXG4gICAgICAgIHdvcmRzcGFjaW5nOiBcIndvcmRTcGFjaW5nXCIsXG4gICAgICAgIFwid29yZC1zcGFjaW5nXCI6IFwid29yZFNwYWNpbmdcIixcbiAgICAgICAgd3JpdGluZ21vZGU6IFwid3JpdGluZ01vZGVcIixcbiAgICAgICAgXCJ3cml0aW5nLW1vZGVcIjogXCJ3cml0aW5nTW9kZVwiLFxuICAgICAgICB4MTogXCJ4MVwiLFxuICAgICAgICB4MjogXCJ4MlwiLFxuICAgICAgICB4OiBcInhcIixcbiAgICAgICAgeGNoYW5uZWxzZWxlY3RvcjogXCJ4Q2hhbm5lbFNlbGVjdG9yXCIsXG4gICAgICAgIHhoZWlnaHQ6IFwieEhlaWdodFwiLFxuICAgICAgICBcIngtaGVpZ2h0XCI6IFwieEhlaWdodFwiLFxuICAgICAgICB4bGlua2FjdHVhdGU6IFwieGxpbmtBY3R1YXRlXCIsXG4gICAgICAgIFwieGxpbms6YWN0dWF0ZVwiOiBcInhsaW5rQWN0dWF0ZVwiLFxuICAgICAgICB4bGlua2FyY3JvbGU6IFwieGxpbmtBcmNyb2xlXCIsXG4gICAgICAgIFwieGxpbms6YXJjcm9sZVwiOiBcInhsaW5rQXJjcm9sZVwiLFxuICAgICAgICB4bGlua2hyZWY6IFwieGxpbmtIcmVmXCIsXG4gICAgICAgIFwieGxpbms6aHJlZlwiOiBcInhsaW5rSHJlZlwiLFxuICAgICAgICB4bGlua3JvbGU6IFwieGxpbmtSb2xlXCIsXG4gICAgICAgIFwieGxpbms6cm9sZVwiOiBcInhsaW5rUm9sZVwiLFxuICAgICAgICB4bGlua3Nob3c6IFwieGxpbmtTaG93XCIsXG4gICAgICAgIFwieGxpbms6c2hvd1wiOiBcInhsaW5rU2hvd1wiLFxuICAgICAgICB4bGlua3RpdGxlOiBcInhsaW5rVGl0bGVcIixcbiAgICAgICAgXCJ4bGluazp0aXRsZVwiOiBcInhsaW5rVGl0bGVcIixcbiAgICAgICAgeGxpbmt0eXBlOiBcInhsaW5rVHlwZVwiLFxuICAgICAgICBcInhsaW5rOnR5cGVcIjogXCJ4bGlua1R5cGVcIixcbiAgICAgICAgeG1sYmFzZTogXCJ4bWxCYXNlXCIsXG4gICAgICAgIFwieG1sOmJhc2VcIjogXCJ4bWxCYXNlXCIsXG4gICAgICAgIHhtbGxhbmc6IFwieG1sTGFuZ1wiLFxuICAgICAgICBcInhtbDpsYW5nXCI6IFwieG1sTGFuZ1wiLFxuICAgICAgICB4bWxuczogXCJ4bWxuc1wiLFxuICAgICAgICBcInhtbDpzcGFjZVwiOiBcInhtbFNwYWNlXCIsXG4gICAgICAgIHhtbG5zeGxpbms6IFwieG1sbnNYbGlua1wiLFxuICAgICAgICBcInhtbG5zOnhsaW5rXCI6IFwieG1sbnNYbGlua1wiLFxuICAgICAgICB4bWxzcGFjZTogXCJ4bWxTcGFjZVwiLFxuICAgICAgICB5MTogXCJ5MVwiLFxuICAgICAgICB5MjogXCJ5MlwiLFxuICAgICAgICB5OiBcInlcIixcbiAgICAgICAgeWNoYW5uZWxzZWxlY3RvcjogXCJ5Q2hhbm5lbFNlbGVjdG9yXCIsXG4gICAgICAgIHo6IFwielwiLFxuICAgICAgICB6b29tYW5kcGFuOiBcInpvb21BbmRQYW5cIlxuICAgICAgfSxcbiAgICAgIGFyaWFQcm9wZXJ0aWVzID0ge1xuICAgICAgICBcImFyaWEtY3VycmVudFwiOiAwLFxuICAgICAgICBcImFyaWEtZGVzY3JpcHRpb25cIjogMCxcbiAgICAgICAgXCJhcmlhLWRldGFpbHNcIjogMCxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogMCxcbiAgICAgICAgXCJhcmlhLWludmFsaWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWtleXNob3J0Y3V0c1wiOiAwLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiOiAwLFxuICAgICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IDAsXG4gICAgICAgIFwiYXJpYS1jaGVja2VkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiAwLFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogMCxcbiAgICAgICAgXCJhcmlhLWxldmVsXCI6IDAsXG4gICAgICAgIFwiYXJpYS1tb2RhbFwiOiAwLFxuICAgICAgICBcImFyaWEtbXVsdGlsaW5lXCI6IDAsXG4gICAgICAgIFwiYXJpYS1tdWx0aXNlbGVjdGFibGVcIjogMCxcbiAgICAgICAgXCJhcmlhLW9yaWVudGF0aW9uXCI6IDAsXG4gICAgICAgIFwiYXJpYS1wbGFjZWhvbGRlclwiOiAwLFxuICAgICAgICBcImFyaWEtcHJlc3NlZFwiOiAwLFxuICAgICAgICBcImFyaWEtcmVhZG9ubHlcIjogMCxcbiAgICAgICAgXCJhcmlhLXJlcXVpcmVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiAwLFxuICAgICAgICBcImFyaWEtc29ydFwiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWVtYXhcIjogMCxcbiAgICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IDAsXG4gICAgICAgIFwiYXJpYS1hdG9taWNcIjogMCxcbiAgICAgICAgXCJhcmlhLWJ1c3lcIjogMCxcbiAgICAgICAgXCJhcmlhLWxpdmVcIjogMCxcbiAgICAgICAgXCJhcmlhLXJlbGV2YW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1kcm9wZWZmZWN0XCI6IDAsXG4gICAgICAgIFwiYXJpYS1ncmFiYmVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1jb2xjb3VudFwiOiAwLFxuICAgICAgICBcImFyaWEtY29saW5kZXhcIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbHNwYW5cIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IDAsXG4gICAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiAwLFxuICAgICAgICBcImFyaWEtZXJyb3JtZXNzYWdlXCI6IDAsXG4gICAgICAgIFwiYXJpYS1mbG93dG9cIjogMCxcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogMCxcbiAgICAgICAgXCJhcmlhLW93bnNcIjogMCxcbiAgICAgICAgXCJhcmlhLXBvc2luc2V0XCI6IDAsXG4gICAgICAgIFwiYXJpYS1yb3djb3VudFwiOiAwLFxuICAgICAgICBcImFyaWEtcm93aW5kZXhcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvd3NwYW5cIjogMCxcbiAgICAgICAgXCJhcmlhLXNldHNpemVcIjogMFxuICAgICAgfSxcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMSA9IHt9LFxuICAgICAgckFSSUEkMSA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpLVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIHJBUklBQ2FtZWwkMSA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpW0EtWl1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICBkaWRXYXJuVmFsdWVOdWxsID0gITEsXG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzID0ge30sXG4gICAgICBFVkVOVF9OQU1FX1JFR0VYID0gL15vbi4vLFxuICAgICAgSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYID0gL15vblteQS1aXS8sXG4gICAgICByQVJJQSA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpLVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIHJBUklBQ2FtZWwgPSBSZWdFeHAoXG4gICAgICAgIFwiXihhcmlhKVtBLVpdWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgaXNKYXZhU2NyaXB0UHJvdG9jb2wgPVxuICAgICAgICAvXltcXHUwMDAwLVxcdTAwMUYgXSpqW1xcclxcblxcdF0qYVtcXHJcXG5cXHRdKnZbXFxyXFxuXFx0XSphW1xcclxcblxcdF0qc1tcXHJcXG5cXHRdKmNbXFxyXFxuXFx0XSpyW1xcclxcblxcdF0qaVtcXHJcXG5cXHRdKnBbXFxyXFxuXFx0XSp0W1xcclxcblxcdF0qOi9pLFxuICAgICAgY3VycmVudFJlcGxheWluZ0V2ZW50ID0gbnVsbCxcbiAgICAgIHJlc3RvcmVUYXJnZXQgPSBudWxsLFxuICAgICAgcmVzdG9yZVF1ZXVlID0gbnVsbCxcbiAgICAgIGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gITEsXG4gICAgICBwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCA9ICExO1xuICAgIGlmIChjYW5Vc2VET00pXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyRqc2NvbXAkMCA9IHt9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3B0aW9ucyRqc2NvbXAkMCwgXCJwYXNzaXZlXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG9wdGlvbnMkanNjb21wJDAsIG9wdGlvbnMkanNjb21wJDApO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgb3B0aW9ucyRqc2NvbXAkMCwgb3B0aW9ucyRqc2NvbXAkMCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gITE7XG4gICAgICB9XG4gICAgdmFyIHJvb3QgPSBudWxsLFxuICAgICAgc3RhcnRUZXh0ID0gbnVsbCxcbiAgICAgIGZhbGxiYWNrVGV4dCA9IG51bGwsXG4gICAgICBFdmVudEludGVyZmFjZSA9IHtcbiAgICAgICAgZXZlbnRQaGFzZTogMCxcbiAgICAgICAgYnViYmxlczogMCxcbiAgICAgICAgY2FuY2VsYWJsZTogMCxcbiAgICAgICAgdGltZVN0YW1wOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IDAsXG4gICAgICAgIGlzVHJ1c3RlZDogMFxuICAgICAgfSxcbiAgICAgIFN5bnRoZXRpY0V2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgVUlFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHsgdmlldzogMCwgZGV0YWlsOiAwIH0pLFxuICAgICAgU3ludGhldGljVUlFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFVJRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgbGFzdE1vdmVtZW50WCxcbiAgICAgIGxhc3RNb3ZlbWVudFksXG4gICAgICBsYXN0TW91c2VFdmVudCxcbiAgICAgIE1vdXNlRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgc2NyZWVuWDogMCxcbiAgICAgICAgc2NyZWVuWTogMCxcbiAgICAgICAgY2xpZW50WDogMCxcbiAgICAgICAgY2xpZW50WTogMCxcbiAgICAgICAgcGFnZVg6IDAsXG4gICAgICAgIHBhZ2VZOiAwLFxuICAgICAgICBjdHJsS2V5OiAwLFxuICAgICAgICBzaGlmdEtleTogMCxcbiAgICAgICAgYWx0S2V5OiAwLFxuICAgICAgICBtZXRhS2V5OiAwLFxuICAgICAgICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gICAgICAgIGJ1dHRvbjogMCxcbiAgICAgICAgYnV0dG9uczogMCxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZXZlbnQucmVsYXRlZFRhcmdldFxuICAgICAgICAgICAgPyBldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQuc3JjRWxlbWVudFxuICAgICAgICAgICAgICA/IGV2ZW50LnRvRWxlbWVudFxuICAgICAgICAgICAgICA6IGV2ZW50LmZyb21FbGVtZW50XG4gICAgICAgICAgICA6IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmVtZW50WDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKFwibW92ZW1lbnRYXCIgaW4gZXZlbnQpIHJldHVybiBldmVudC5tb3ZlbWVudFg7XG4gICAgICAgICAgZXZlbnQgIT09IGxhc3RNb3VzZUV2ZW50ICYmXG4gICAgICAgICAgICAobGFzdE1vdXNlRXZlbnQgJiYgXCJtb3VzZW1vdmVcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgICA/ICgobGFzdE1vdmVtZW50WCA9IGV2ZW50LnNjcmVlblggLSBsYXN0TW91c2VFdmVudC5zY3JlZW5YKSxcbiAgICAgICAgICAgICAgICAobGFzdE1vdmVtZW50WSA9IGV2ZW50LnNjcmVlblkgLSBsYXN0TW91c2VFdmVudC5zY3JlZW5ZKSlcbiAgICAgICAgICAgICAgOiAobGFzdE1vdmVtZW50WSA9IGxhc3RNb3ZlbWVudFggPSAwKSxcbiAgICAgICAgICAgIChsYXN0TW91c2VFdmVudCA9IGV2ZW50KSk7XG4gICAgICAgICAgcmV0dXJuIGxhc3RNb3ZlbWVudFg7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmVtZW50WTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwibW92ZW1lbnRZXCIgaW4gZXZlbnQgPyBldmVudC5tb3ZlbWVudFkgOiBsYXN0TW92ZW1lbnRZO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY01vdXNlRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChNb3VzZUV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIERyYWdFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgTW91c2VFdmVudEludGVyZmFjZSwgeyBkYXRhVHJhbnNmZXI6IDAgfSksXG4gICAgICBTeW50aGV0aWNEcmFnRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChEcmFnRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgRm9jdXNFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwgeyByZWxhdGVkVGFyZ2V0OiAwIH0pLFxuICAgICAgU3ludGhldGljRm9jdXNFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEZvY3VzRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIGFuaW1hdGlvbk5hbWU6IDAsXG4gICAgICAgIGVsYXBzZWRUaW1lOiAwLFxuICAgICAgICBwc2V1ZG9FbGVtZW50OiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIGNsaXBib2FyZERhdGE6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImNsaXBib2FyZERhdGFcIiBpbiBldmVudFxuICAgICAgICAgICAgPyBldmVudC5jbGlwYm9hcmREYXRhXG4gICAgICAgICAgICA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHsgZGF0YTogMCB9KSxcbiAgICAgIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChcbiAgICAgICAgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZVxuICAgICAgKSxcbiAgICAgIFN5bnRoZXRpY0lucHV0RXZlbnQgPSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LFxuICAgICAgbm9ybWFsaXplS2V5ID0ge1xuICAgICAgICBFc2M6IFwiRXNjYXBlXCIsXG4gICAgICAgIFNwYWNlYmFyOiBcIiBcIixcbiAgICAgICAgTGVmdDogXCJBcnJvd0xlZnRcIixcbiAgICAgICAgVXA6IFwiQXJyb3dVcFwiLFxuICAgICAgICBSaWdodDogXCJBcnJvd1JpZ2h0XCIsXG4gICAgICAgIERvd246IFwiQXJyb3dEb3duXCIsXG4gICAgICAgIERlbDogXCJEZWxldGVcIixcbiAgICAgICAgV2luOiBcIk9TXCIsXG4gICAgICAgIE1lbnU6IFwiQ29udGV4dE1lbnVcIixcbiAgICAgICAgQXBwczogXCJDb250ZXh0TWVudVwiLFxuICAgICAgICBTY3JvbGw6IFwiU2Nyb2xsTG9ja1wiLFxuICAgICAgICBNb3pQcmludGFibGVLZXk6IFwiVW5pZGVudGlmaWVkXCJcbiAgICAgIH0sXG4gICAgICB0cmFuc2xhdGVUb0tleSA9IHtcbiAgICAgICAgODogXCJCYWNrc3BhY2VcIixcbiAgICAgICAgOTogXCJUYWJcIixcbiAgICAgICAgMTI6IFwiQ2xlYXJcIixcbiAgICAgICAgMTM6IFwiRW50ZXJcIixcbiAgICAgICAgMTY6IFwiU2hpZnRcIixcbiAgICAgICAgMTc6IFwiQ29udHJvbFwiLFxuICAgICAgICAxODogXCJBbHRcIixcbiAgICAgICAgMTk6IFwiUGF1c2VcIixcbiAgICAgICAgMjA6IFwiQ2Fwc0xvY2tcIixcbiAgICAgICAgMjc6IFwiRXNjYXBlXCIsXG4gICAgICAgIDMyOiBcIiBcIixcbiAgICAgICAgMzM6IFwiUGFnZVVwXCIsXG4gICAgICAgIDM0OiBcIlBhZ2VEb3duXCIsXG4gICAgICAgIDM1OiBcIkVuZFwiLFxuICAgICAgICAzNjogXCJIb21lXCIsXG4gICAgICAgIDM3OiBcIkFycm93TGVmdFwiLFxuICAgICAgICAzODogXCJBcnJvd1VwXCIsXG4gICAgICAgIDM5OiBcIkFycm93UmlnaHRcIixcbiAgICAgICAgNDA6IFwiQXJyb3dEb3duXCIsXG4gICAgICAgIDQ1OiBcIkluc2VydFwiLFxuICAgICAgICA0NjogXCJEZWxldGVcIixcbiAgICAgICAgMTEyOiBcIkYxXCIsXG4gICAgICAgIDExMzogXCJGMlwiLFxuICAgICAgICAxMTQ6IFwiRjNcIixcbiAgICAgICAgMTE1OiBcIkY0XCIsXG4gICAgICAgIDExNjogXCJGNVwiLFxuICAgICAgICAxMTc6IFwiRjZcIixcbiAgICAgICAgMTE4OiBcIkY3XCIsXG4gICAgICAgIDExOTogXCJGOFwiLFxuICAgICAgICAxMjA6IFwiRjlcIixcbiAgICAgICAgMTIxOiBcIkYxMFwiLFxuICAgICAgICAxMjI6IFwiRjExXCIsXG4gICAgICAgIDEyMzogXCJGMTJcIixcbiAgICAgICAgMTQ0OiBcIk51bUxvY2tcIixcbiAgICAgICAgMTQ1OiBcIlNjcm9sbExvY2tcIixcbiAgICAgICAgMjI0OiBcIk1ldGFcIlxuICAgICAgfSxcbiAgICAgIG1vZGlmaWVyS2V5VG9Qcm9wID0ge1xuICAgICAgICBBbHQ6IFwiYWx0S2V5XCIsXG4gICAgICAgIENvbnRyb2w6IFwiY3RybEtleVwiLFxuICAgICAgICBNZXRhOiBcIm1ldGFLZXlcIixcbiAgICAgICAgU2hpZnQ6IFwic2hpZnRLZXlcIlxuICAgICAgfSxcbiAgICAgIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAga2V5OiBmdW5jdGlvbiAobmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICBpZiAobmF0aXZlRXZlbnQua2V5KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gbm9ybWFsaXplS2V5W25hdGl2ZUV2ZW50LmtleV0gfHwgbmF0aXZlRXZlbnQua2V5O1xuICAgICAgICAgICAgaWYgKFwiVW5pZGVudGlmaWVkXCIgIT09IGtleSkgcmV0dXJuIGtleTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwia2V5cHJlc3NcIiA9PT0gbmF0aXZlRXZlbnQudHlwZVxuICAgICAgICAgICAgPyAoKG5hdGl2ZUV2ZW50ID0gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkpLFxuICAgICAgICAgICAgICAxMyA9PT0gbmF0aXZlRXZlbnQgPyBcIkVudGVyXCIgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50KSlcbiAgICAgICAgICAgIDogXCJrZXlkb3duXCIgPT09IG5hdGl2ZUV2ZW50LnR5cGUgfHwgXCJrZXl1cFwiID09PSBuYXRpdmVFdmVudC50eXBlXG4gICAgICAgICAgICAgID8gdHJhbnNsYXRlVG9LZXlbbmF0aXZlRXZlbnQua2V5Q29kZV0gfHwgXCJVbmlkZW50aWZpZWRcIlxuICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICBjdHJsS2V5OiAwLFxuICAgICAgICBzaGlmdEtleTogMCxcbiAgICAgICAgYWx0S2V5OiAwLFxuICAgICAgICBtZXRhS2V5OiAwLFxuICAgICAgICByZXBlYXQ6IDAsXG4gICAgICAgIGxvY2FsZTogMCxcbiAgICAgICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAgICAgICBjaGFyQ29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5cHJlc3NcIiA9PT0gZXZlbnQudHlwZSA/IGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAga2V5Q29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5ZG93blwiID09PSBldmVudC50eXBlIHx8IFwia2V5dXBcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgPyBldmVudC5rZXlDb2RlXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHdoaWNoOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlwcmVzc1wiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICA/IGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpXG4gICAgICAgICAgICA6IFwia2V5ZG93blwiID09PSBldmVudC50eXBlIHx8IFwia2V5dXBcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgICA/IGV2ZW50LmtleUNvZGVcbiAgICAgICAgICAgICAgOiAwO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY0tleWJvYXJkRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChLZXlib2FyZEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFBvaW50ZXJFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgTW91c2VFdmVudEludGVyZmFjZSwge1xuICAgICAgICBwb2ludGVySWQ6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHByZXNzdXJlOiAwLFxuICAgICAgICB0YW5nZW50aWFsUHJlc3N1cmU6IDAsXG4gICAgICAgIHRpbHRYOiAwLFxuICAgICAgICB0aWx0WTogMCxcbiAgICAgICAgdHdpc3Q6IDAsXG4gICAgICAgIHBvaW50ZXJUeXBlOiAwLFxuICAgICAgICBpc1ByaW1hcnk6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljUG9pbnRlckV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoUG9pbnRlckV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFRvdWNoRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgdG91Y2hlczogMCxcbiAgICAgICAgdGFyZ2V0VG91Y2hlczogMCxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXM6IDAsXG4gICAgICAgIGFsdEtleTogMCxcbiAgICAgICAgbWV0YUtleTogMCxcbiAgICAgICAgY3RybEtleTogMCxcbiAgICAgICAgc2hpZnRLZXk6IDAsXG4gICAgICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNUb3VjaEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVG91Y2hFdmVudEludGVyZmFjZSksXG4gICAgICBUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIHByb3BlcnR5TmFtZTogMCxcbiAgICAgICAgZWxhcHNlZFRpbWU6IDAsXG4gICAgICAgIHBzZXVkb0VsZW1lbnQ6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljVHJhbnNpdGlvbkV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFdoZWVsRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIE1vdXNlRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgZGVsdGFYOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJkZWx0YVhcIiBpbiBldmVudFxuICAgICAgICAgICAgPyBldmVudC5kZWx0YVhcbiAgICAgICAgICAgIDogXCJ3aGVlbERlbHRhWFwiIGluIGV2ZW50XG4gICAgICAgICAgICAgID8gLWV2ZW50LndoZWVsRGVsdGFYXG4gICAgICAgICAgICAgIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsdGFZOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJkZWx0YVlcIiBpbiBldmVudFxuICAgICAgICAgICAgPyBldmVudC5kZWx0YVlcbiAgICAgICAgICAgIDogXCJ3aGVlbERlbHRhWVwiIGluIGV2ZW50XG4gICAgICAgICAgICAgID8gLWV2ZW50LndoZWVsRGVsdGFZXG4gICAgICAgICAgICAgIDogXCJ3aGVlbERlbHRhXCIgaW4gZXZlbnRcbiAgICAgICAgICAgICAgICA/IC1ldmVudC53aGVlbERlbHRhXG4gICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICB9LFxuICAgICAgICBkZWx0YVo6IDAsXG4gICAgICAgIGRlbHRhTW9kZTogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNXaGVlbEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoV2hlZWxFdmVudEludGVyZmFjZSksXG4gICAgICBUb2dnbGVFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgbmV3U3RhdGU6IDAsXG4gICAgICAgIG9sZFN0YXRlOiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1RvZ2dsZUV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVG9nZ2xlRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdLFxuICAgICAgU1RBUlRfS0VZQ09ERSA9IDIyOSxcbiAgICAgIGNhblVzZUNvbXBvc2l0aW9uRXZlbnQgPSBjYW5Vc2VET00gJiYgXCJDb21wb3NpdGlvbkV2ZW50XCIgaW4gd2luZG93LFxuICAgICAgZG9jdW1lbnRNb2RlID0gbnVsbDtcbiAgICBjYW5Vc2VET00gJiZcbiAgICAgIFwiZG9jdW1lbnRNb2RlXCIgaW4gZG9jdW1lbnQgJiZcbiAgICAgIChkb2N1bWVudE1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUpO1xuICAgIHZhciBjYW5Vc2VUZXh0SW5wdXRFdmVudCA9XG4gICAgICAgIGNhblVzZURPTSAmJiBcIlRleHRFdmVudFwiIGluIHdpbmRvdyAmJiAhZG9jdW1lbnRNb2RlLFxuICAgICAgdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPVxuICAgICAgICBjYW5Vc2VET00gJiZcbiAgICAgICAgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IHx8XG4gICAgICAgICAgKGRvY3VtZW50TW9kZSAmJiA4IDwgZG9jdW1lbnRNb2RlICYmIDExID49IGRvY3VtZW50TW9kZSkpLFxuICAgICAgU1BBQ0VCQVJfQ09ERSA9IDMyLFxuICAgICAgU1BBQ0VCQVJfQ0hBUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoU1BBQ0VCQVJfQ09ERSksXG4gICAgICBoYXNTcGFjZUtleXByZXNzID0gITEsXG4gICAgICBpc0NvbXBvc2luZyA9ICExLFxuICAgICAgc3VwcG9ydGVkSW5wdXRUeXBlcyA9IHtcbiAgICAgICAgY29sb3I6ICEwLFxuICAgICAgICBkYXRlOiAhMCxcbiAgICAgICAgZGF0ZXRpbWU6ICEwLFxuICAgICAgICBcImRhdGV0aW1lLWxvY2FsXCI6ICEwLFxuICAgICAgICBlbWFpbDogITAsXG4gICAgICAgIG1vbnRoOiAhMCxcbiAgICAgICAgbnVtYmVyOiAhMCxcbiAgICAgICAgcGFzc3dvcmQ6ICEwLFxuICAgICAgICByYW5nZTogITAsXG4gICAgICAgIHNlYXJjaDogITAsXG4gICAgICAgIHRlbDogITAsXG4gICAgICAgIHRleHQ6ICEwLFxuICAgICAgICB0aW1lOiAhMCxcbiAgICAgICAgdXJsOiAhMCxcbiAgICAgICAgd2VlazogITBcbiAgICAgIH0sXG4gICAgICBhY3RpdmVFbGVtZW50JDEgPSBudWxsLFxuICAgICAgYWN0aXZlRWxlbWVudEluc3QkMSA9IG51bGwsXG4gICAgICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSAhMTtcbiAgICBjYW5Vc2VET00gJiZcbiAgICAgIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPVxuICAgICAgICBpc0V2ZW50U3VwcG9ydGVkKFwiaW5wdXRcIikgJiZcbiAgICAgICAgKCFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgOSA8IGRvY3VtZW50LmRvY3VtZW50TW9kZSkpO1xuICAgIHZhciBvYmplY3RJcyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGlzLFxuICAgICAgc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50ID1cbiAgICAgICAgY2FuVXNlRE9NICYmIFwiZG9jdW1lbnRNb2RlXCIgaW4gZG9jdW1lbnQgJiYgMTEgPj0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFxuICAgICAgYWN0aXZlRWxlbWVudCA9IG51bGwsXG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGwsXG4gICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbCxcbiAgICAgIG1vdXNlRG93biA9ICExLFxuICAgICAgdmVuZG9yUHJlZml4ZXMgPSB7XG4gICAgICAgIGFuaW1hdGlvbmVuZDogbWFrZVByZWZpeE1hcChcIkFuaW1hdGlvblwiLCBcIkFuaW1hdGlvbkVuZFwiKSxcbiAgICAgICAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKFwiQW5pbWF0aW9uXCIsIFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLFxuICAgICAgICBhbmltYXRpb25zdGFydDogbWFrZVByZWZpeE1hcChcIkFuaW1hdGlvblwiLCBcIkFuaW1hdGlvblN0YXJ0XCIpLFxuICAgICAgICB0cmFuc2l0aW9ucnVuOiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25SdW5cIiksXG4gICAgICAgIHRyYW5zaXRpb25zdGFydDogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uU3RhcnRcIiksXG4gICAgICAgIHRyYW5zaXRpb25jYW5jZWw6IG1ha2VQcmVmaXhNYXAoXCJUcmFuc2l0aW9uXCIsIFwiVHJhbnNpdGlvbkNhbmNlbFwiKSxcbiAgICAgICAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uRW5kXCIpXG4gICAgICB9LFxuICAgICAgcHJlZml4ZWRFdmVudE5hbWVzID0ge30sXG4gICAgICBzdHlsZSA9IHt9O1xuICAgIGNhblVzZURPTSAmJlxuICAgICAgKChzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUpLFxuICAgICAgXCJBbmltYXRpb25FdmVudFwiIGluIHdpbmRvdyB8fFxuICAgICAgICAoZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbmVuZC5hbmltYXRpb24sXG4gICAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uLFxuICAgICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcbiAgICAgIFwiVHJhbnNpdGlvbkV2ZW50XCIgaW4gd2luZG93IHx8XG4gICAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb24pO1xuICAgIHZhciBBTklNQVRJT05fRU5EID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJhbmltYXRpb25lbmRcIiksXG4gICAgICBBTklNQVRJT05fSVRFUkFUSU9OID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJhbmltYXRpb25pdGVyYXRpb25cIiksXG4gICAgICBBTklNQVRJT05fU1RBUlQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcImFuaW1hdGlvbnN0YXJ0XCIpLFxuICAgICAgVFJBTlNJVElPTl9SVU4gPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25ydW5cIiksXG4gICAgICBUUkFOU0lUSU9OX1NUQVJUID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9uc3RhcnRcIiksXG4gICAgICBUUkFOU0lUSU9OX0NBTkNFTCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwidHJhbnNpdGlvbmNhbmNlbFwiKSxcbiAgICAgIFRSQU5TSVRJT05fRU5EID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9uZW5kXCIpLFxuICAgICAgdG9wTGV2ZWxFdmVudHNUb1JlYWN0TmFtZXMgPSBuZXcgTWFwKCksXG4gICAgICBzaW1wbGVFdmVudFBsdWdpbkV2ZW50cyA9XG4gICAgICAgIFwiYWJvcnQgYXV4Q2xpY2sgYmVmb3JlVG9nZ2xlIGNhbmNlbCBjYW5QbGF5IGNhblBsYXlUaHJvdWdoIGNsaWNrIGNsb3NlIGNvbnRleHRNZW51IGNvcHkgY3V0IGRyYWcgZHJhZ0VuZCBkcmFnRW50ZXIgZHJhZ0V4aXQgZHJhZ0xlYXZlIGRyYWdPdmVyIGRyYWdTdGFydCBkcm9wIGR1cmF0aW9uQ2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGdvdFBvaW50ZXJDYXB0dXJlIGlucHV0IGludmFsaWQga2V5RG93biBrZXlQcmVzcyBrZXlVcCBsb2FkIGxvYWRlZERhdGEgbG9hZGVkTWV0YWRhdGEgbG9hZFN0YXJ0IGxvc3RQb2ludGVyQ2FwdHVyZSBtb3VzZURvd24gbW91c2VNb3ZlIG1vdXNlT3V0IG1vdXNlT3ZlciBtb3VzZVVwIHBhc3RlIHBhdXNlIHBsYXkgcGxheWluZyBwb2ludGVyQ2FuY2VsIHBvaW50ZXJEb3duIHBvaW50ZXJNb3ZlIHBvaW50ZXJPdXQgcG9pbnRlck92ZXIgcG9pbnRlclVwIHByb2dyZXNzIHJhdGVDaGFuZ2UgcmVzZXQgcmVzaXplIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VibWl0IHN1c3BlbmQgdGltZVVwZGF0ZSB0b3VjaENhbmNlbCB0b3VjaEVuZCB0b3VjaFN0YXJ0IHZvbHVtZUNoYW5nZSBzY3JvbGwgc2Nyb2xsRW5kIHRvZ2dsZSB0b3VjaE1vdmUgd2FpdGluZyB3aGVlbFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBPZmZzY3JlZW5WaXNpYmxlID0gMSxcbiAgICAgIE9mZnNjcmVlbkRldGFjaGVkID0gMixcbiAgICAgIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkID0gNCxcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXMgPSBbXSxcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNJbmRleCA9IDAsXG4gICAgICBjb25jdXJyZW50bHlVcGRhdGVkTGFuZXMgPSAwLFxuICAgICAgZW1wdHlDb250ZXh0T2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmZyZWV6ZShlbXB0eUNvbnRleHRPYmplY3QpO1xuICAgIHZhciByZXNvbHZlRmFtaWx5ID0gbnVsbCxcbiAgICAgIGZhaWxlZEJvdW5kYXJpZXMgPSBudWxsLFxuICAgICAgTm9Nb2RlID0gMCxcbiAgICAgIENvbmN1cnJlbnRNb2RlID0gMSxcbiAgICAgIFByb2ZpbGVNb2RlID0gMixcbiAgICAgIFN0cmljdExlZ2FjeU1vZGUgPSA4LFxuICAgICAgU3RyaWN0RWZmZWN0c01vZGUgPSAxNixcbiAgICAgIE5vU3RyaWN0UGFzc2l2ZUVmZmVjdHNNb2RlID0gNjQsXG4gICAgICBub3cgPSBTY2hlZHVsZXIudW5zdGFibGVfbm93LFxuICAgICAgcmVuZGVyU3RhcnRUaW1lID0gLTAsXG4gICAgICBjb21taXRTdGFydFRpbWUgPSAtMCxcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTEuMSxcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gPSAtMCxcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCA9ICExLFxuICAgICAgbmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gITEsXG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncyA9IHtcbiAgICAgICAgcmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBmbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5nczogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIHJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIGRpc2NhcmRQZW5kaW5nV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9XG4gICAgICB9LFxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSxcbiAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoXG4gICAgICBmaWJlcixcbiAgICAgIGluc3RhbmNlXG4gICAgKSB7XG4gICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmhhcyhmaWJlci50eXBlKSB8fFxuICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgITAgIT09IGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICYmXG4gICAgICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBmaWJlci5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgITAgIT09XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBmaWJlci5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAhMCAhPT0gaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICYmXG4gICAgICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgZmliZXIubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpKTtcbiAgICB9O1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MuZm9yRWFjaChcbiAgICAgICAgICBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10pKTtcbiAgICAgIGlmICgwIDwgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLnNpemUpIHtcbiAgICAgICAgdmFyIHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2luZyBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGNvZGUgd2l0aCBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkTW91bnQsIGFuZCBzZXQgaW5pdGlhbCBzdGF0ZSBpbiB0aGUgY29uc3RydWN0b3IuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIDAgPCBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFxuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXNcbiAgICAgICAgKSksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2luZyBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBpbiBzdHJpY3QgbW9kZSBpcyBub3QgcmVjb21tZW5kZWQgYW5kIG1heSBpbmRpY2F0ZSBidWdzIGluIHlvdXIgY29kZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG4qIElmIHlvdSdyZSB1cGRhdGluZyBzdGF0ZSB3aGVuZXZlciBwcm9wcyBjaGFuZ2UsIHJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2UgbWVtb2l6YXRpb24gdGVjaG5pcXVlcyBvciBtb3ZlIGl0IHRvIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIExlYXJuIG1vcmUgYXQ6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZGVyaXZlZC1zdGF0ZVxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lc1xuICAgICAgICApKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzKSksXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcImNvbXBvbmVudFdpbGxNb3VudCBoYXMgYmVlbiByZW5hbWVkLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgY29kZSB3aXRoIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRNb3VudCwgYW5kIHNldCBpbml0aWFsIHN0YXRlIGluIHRoZSBjb25zdHJ1Y3Rvci5cXG4qIFJlbmFtZSBjb21wb25lbnRXaWxsTW91bnQgdG8gVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxOC54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiBUbyByZW5hbWUgYWxsIGRlcHJlY2F0ZWQgbGlmZWN5Y2xlcyB0byB0aGVpciBuZXcgbmFtZXMsIHlvdSBjYW4gcnVuIGBucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXNcbiAgICAgICAgKSksXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgaGFzIGJlZW4gcmVuYW1lZCwgYW5kIGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgdXNlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbiogSWYgeW91J3JlIHVwZGF0aW5nIHN0YXRlIHdoZW5ldmVyIHByb3BzIGNoYW5nZSwgcmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBtZW1vaXphdGlvbiB0ZWNobmlxdWVzIG9yIG1vdmUgaXQgdG8gc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gTGVhcm4gbW9yZSBhdDogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kZXJpdmVkLXN0YXRlXFxuKiBSZW5hbWUgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyB0byBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxOC54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiBUbyByZW5hbWUgYWxsIGRlcHJlY2F0ZWQgbGlmZWN5Y2xlcyB0byB0aGVpciBuZXcgbmFtZXMsIHlvdSBjYW4gcnVuIGBucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMpKSxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiY29tcG9uZW50V2lsbFVwZGF0ZSBoYXMgYmVlbiByZW5hbWVkLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuKiBSZW5hbWUgY29tcG9uZW50V2lsbFVwZGF0ZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxOC54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiBUbyByZW5hbWUgYWxsIGRlcHJlY2F0ZWQgbGlmZWN5Y2xlcyB0byB0aGVpciBuZXcgbmFtZXMsIHlvdSBjYW4gcnVuIGBucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgIH07XG4gICAgdmFyIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZyA9IG5ldyBNYXAoKSxcbiAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQgPSBuZXcgU2V0KCk7XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgICBmaWJlcixcbiAgICAgIGluc3RhbmNlXG4gICAgKSB7XG4gICAgICB2YXIgc3RyaWN0Um9vdCA9IG51bGw7XG4gICAgICBmb3IgKHZhciBub2RlID0gZmliZXI7IG51bGwgIT09IG5vZGU7IClcbiAgICAgICAgbm9kZS5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJiAoc3RyaWN0Um9vdCA9IG5vZGUpLFxuICAgICAgICAgIChub2RlID0gbm9kZS5yZXR1cm4pO1xuICAgICAgbnVsbCA9PT0gc3RyaWN0Um9vdFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBTdHJpY3RNb2RlIGNvbXBvbmVudCBpbiBhIHN0cmljdCBtb2RlIHRyZWUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApXG4gICAgICAgIDogIWRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuaGFzKGZpYmVyLnR5cGUpICYmXG4gICAgICAgICAgKChub2RlID0gcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLmdldChzdHJpY3RSb290KSksXG4gICAgICAgICAgbnVsbCAhPSBmaWJlci50eXBlLmNvbnRleHRUeXBlcyB8fFxuICAgICAgICAgICAgbnVsbCAhPSBmaWJlci50eXBlLmNoaWxkQ29udGV4dFR5cGVzIHx8XG4gICAgICAgICAgICAobnVsbCAhPT0gaW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkgJiZcbiAgICAgICAgICAodm9pZCAwID09PSBub2RlICYmXG4gICAgICAgICAgICAoKG5vZGUgPSBbXSksIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5zZXQoc3RyaWN0Um9vdCwgbm9kZSkpLFxuICAgICAgICAgIG5vZGUucHVzaChmaWJlcikpO1xuICAgIH07XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlckFycmF5KSB7XG4gICAgICAgIGlmICgwICE9PSBmaWJlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIHZhciBmaXJzdEZpYmVyID0gZmliZXJBcnJheVswXSxcbiAgICAgICAgICAgIHVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgICAgIGZpYmVyQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIHVuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiKTtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKHVuaXF1ZU5hbWVzKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaXJzdEZpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkxlZ2FjeSBjb250ZXh0IEFQSSBoYXMgYmVlbiBkZXRlY3RlZCB3aXRoaW4gYSBzdHJpY3QtbW9kZSB0cmVlLlxcblxcblRoZSBvbGQgQVBJIHdpbGwgYmUgc3VwcG9ydGVkIGluIGFsbCAxNi54IHJlbGVhc2VzLCBidXQgYXBwbGljYXRpb25zIHVzaW5nIGl0IHNob3VsZCBtaWdyYXRlIHRvIHRoZSBuZXcgdmVyc2lvbi5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOiBodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0XCIsXG4gICAgICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nID0gbmV3IE1hcCgpO1xuICAgIH07XG4gICAgdmFyIENhcHR1cmVkU3RhY2tzID0gbmV3IFdlYWtNYXAoKSxcbiAgICAgIGZvcmtTdGFjayA9IFtdLFxuICAgICAgZm9ya1N0YWNrSW5kZXggPSAwLFxuICAgICAgdHJlZUZvcmtQcm92aWRlciA9IG51bGwsXG4gICAgICB0cmVlRm9ya0NvdW50ID0gMCxcbiAgICAgIGlkU3RhY2sgPSBbXSxcbiAgICAgIGlkU3RhY2tJbmRleCA9IDAsXG4gICAgICB0cmVlQ29udGV4dFByb3ZpZGVyID0gbnVsbCxcbiAgICAgIHRyZWVDb250ZXh0SWQgPSAxLFxuICAgICAgdHJlZUNvbnRleHRPdmVyZmxvdyA9IFwiXCIsXG4gICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGwsXG4gICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbCxcbiAgICAgIGlzSHlkcmF0aW5nID0gITEsXG4gICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViA9ICExLFxuICAgICAgaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsLFxuICAgICAgaHlkcmF0aW9uRXJyb3JzID0gbnVsbCxcbiAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMSxcbiAgICAgIEh5ZHJhdGlvbk1pc21hdGNoRXhjZXB0aW9uID0gRXJyb3IoXG4gICAgICAgIFwiSHlkcmF0aW9uIE1pc21hdGNoIEV4Y2VwdGlvbjogVGhpcyBpcyBub3QgYSByZWFsIGVycm9yLCBhbmQgc2hvdWxkIG5vdCBsZWFrIGludG8gdXNlcnNwYWNlLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIGl0J3MgbGlrZWx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICApLFxuICAgICAgU3VzcGVuc2VFeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJTdXNwZW5zZSBFeGNlcHRpb246IFRoaXMgaXMgbm90IGEgcmVhbCBlcnJvciEgSXQncyBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgb2YgYHVzZWAgdG8gaW50ZXJydXB0IHRoZSBjdXJyZW50IHJlbmRlci4gWW91IG11c3QgZWl0aGVyIHJldGhyb3cgaXQgaW1tZWRpYXRlbHksIG9yIG1vdmUgdGhlIGB1c2VgIGNhbGwgb3V0c2lkZSBvZiB0aGUgYHRyeS9jYXRjaGAgYmxvY2suIENhcHR1cmluZyB3aXRob3V0IHJldGhyb3dpbmcgd2lsbCBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXFxuXFxuVG8gaGFuZGxlIGFzeW5jIGVycm9ycywgd3JhcCB5b3VyIGNvbXBvbmVudCBpbiBhbiBlcnJvciBib3VuZGFyeSwgb3IgY2FsbCB0aGUgcHJvbWlzZSdzIGAuY2F0Y2hgIG1ldGhvZCBhbmQgcGFzcyB0aGUgcmVzdWx0IHRvIGB1c2VgXCJcbiAgICAgICksXG4gICAgICBTdXNwZW5zZXlDb21taXRFeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJTdXNwZW5zZSBFeGNlcHRpb246IFRoaXMgaXMgbm90IGEgcmVhbCBlcnJvciwgYW5kIHNob3VsZCBub3QgbGVhayBpbnRvIHVzZXJzcGFjZS4gSWYgeW91J3JlIHNlZWluZyB0aGlzLCBpdCdzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgKSxcbiAgICAgIG5vb3BTdXNwZW5zZXlDb21taXRUaGVuYWJsZSA9IHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnSW50ZXJuYWwgUmVhY3QgZXJyb3I6IEEgbGlzdGVuZXIgd2FzIHVuZXhwZWN0ZWRseSBhdHRhY2hlZCB0byBhIFwibm9vcFwiIHRoZW5hYmxlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN1c3BlbmRlZFRoZW5hYmxlID0gbnVsbCxcbiAgICAgIG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITEsXG4gICAgICBjYWxsQ29tcG9uZW50ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKSB7XG4gICAgICAgICAgdmFyIHdhc1JlbmRlcmluZyA9IGlzUmVuZGVyaW5nO1xuICAgICAgICAgIGlzUmVuZGVyaW5nID0gITA7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQocHJvcHMsIHNlY29uZEFyZyk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzUmVuZGVyaW5nID0gd2FzUmVuZGVyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDb21wb25lbnRJbkRFViA9XG4gICAgICAgIGNhbGxDb21wb25lbnRbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsQ29tcG9uZW50KSxcbiAgICAgIGNhbGxSZW5kZXIgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgIHZhciB3YXNSZW5kZXJpbmcgPSBpc1JlbmRlcmluZztcbiAgICAgICAgICBpc1JlbmRlcmluZyA9ICEwO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzUmVuZGVyaW5nID0gd2FzUmVuZGVyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxSZW5kZXJJbkRFViA9IGNhbGxSZW5kZXJbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsUmVuZGVyKSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudCA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGZpbmlzaGVkV29yaywgaW5zdGFuY2UpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYgPSBjYWxsQ29tcG9uZW50RGlkTW91bnRbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50RGlkTW91bnQpLFxuICAgICAgY2FsbENvbXBvbmVudERpZFVwZGF0ZSA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICAgIHNuYXBzaG90XG4gICAgICAgICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudERpZFVwZGF0ZUluREVWID0gY2FsbENvbXBvbmVudERpZFVwZGF0ZVtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnREaWRVcGRhdGUpLFxuICAgICAgY2FsbENvbXBvbmVudERpZENhdGNoID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoaW5zdGFuY2UsIGVycm9ySW5mbykge1xuICAgICAgICAgIHZhciBzdGFjayA9IGVycm9ySW5mby5zdGFjaztcbiAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaChlcnJvckluZm8udmFsdWUsIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBudWxsICE9PSBzdGFjayA/IHN0YWNrIDogXCJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudERpZENhdGNoSW5ERVYgPSBjYWxsQ29tcG9uZW50RGlkQ2F0Y2hbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50RGlkQ2F0Y2gpLFxuICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50SW5ERVYgPSBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50V2lsbFVubW91bnQpLFxuICAgICAgY2FsbENyZWF0ZSA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGVmZmVjdCkge1xuICAgICAgICAgIHZhciBjcmVhdGUgPSBlZmZlY3QuY3JlYXRlO1xuICAgICAgICAgIGVmZmVjdCA9IGVmZmVjdC5pbnN0O1xuICAgICAgICAgIGNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgICAgICAgIHJldHVybiAoZWZmZWN0LmRlc3Ryb3kgPSBjcmVhdGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENyZWF0ZUluREVWID0gY2FsbENyZWF0ZVtcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxDcmVhdGUpLFxuICAgICAgY2FsbERlc3Ryb3kgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgZGVzdHJveVxuICAgICAgICApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVzdHJveSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbERlc3Ryb3lJbkRFViA9XG4gICAgICAgIGNhbGxEZXN0cm95W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbERlc3Ryb3kpLFxuICAgICAgY2FsbExhenlJbml0ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAobGF6eSkge1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eS5faW5pdDtcbiAgICAgICAgICByZXR1cm4gaW5pdChsYXp5Ll9wYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxMYXp5SW5pdEluREVWID1cbiAgICAgICAgY2FsbExhenlJbml0W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbExhenlJbml0KSxcbiAgICAgIHRoZW5hYmxlU3RhdGUkMSA9IG51bGwsXG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMCxcbiAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBudWxsLFxuICAgICAgZGlkV2FybkFib3V0TWFwcztcbiAgICB2YXIgZGlkV2FybkFib3V0R2VuZXJhdG9ycyA9IChkaWRXYXJuQWJvdXRNYXBzID0gITEpO1xuICAgIHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgICB2YXIgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0ge307XG4gICAgdmFyIG93bmVySGFzU3ltYm9sVHlwZVdhcm5pbmcgPSB7fTtcbiAgICB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uIChyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IGNoaWxkICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBjaGlsZCAmJlxuICAgICAgICBjaGlsZC5fc3RvcmUgJiZcbiAgICAgICAgKCghY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCAmJiBudWxsID09IGNoaWxkLmtleSkgfHxcbiAgICAgICAgICAyID09PSBjaGlsZC5fc3RvcmUudmFsaWRhdGVkKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0eXBlb2YgY2hpbGQuX3N0b3JlKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdCBDb21wb25lbnQgaW4gd2FybkZvck1pc3NpbmdLZXkgc2hvdWxkIGhhdmUgYSBfc3RvcmUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICBjaGlsZC5fc3RvcmUudmFsaWRhdGVkID0gMTtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSxcbiAgICAgICAgICBjb21wb25lbnRLZXkgPSBjb21wb25lbnROYW1lIHx8IFwibnVsbFwiO1xuICAgICAgICBpZiAoIW93bmVySGFzS2V5VXNlV2FybmluZ1tjb21wb25lbnRLZXldKSB7XG4gICAgICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2NvbXBvbmVudEtleV0gPSAhMDtcbiAgICAgICAgICBjaGlsZCA9IGNoaWxkLl9vd25lcjtcbiAgICAgICAgICByZXR1cm5GaWJlciA9IHJldHVybkZpYmVyLl9kZWJ1Z093bmVyO1xuICAgICAgICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gXCJcIjtcbiAgICAgICAgICByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHJldHVybkZpYmVyLnRhZyAmJlxuICAgICAgICAgICAgKGNvbXBvbmVudEtleSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpKSAmJlxuICAgICAgICAgICAgKGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPVxuICAgICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIGNvbXBvbmVudEtleSArIFwiYC5cIik7XG4gICAgICAgICAgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyB8fFxuICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgKGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPVxuICAgICAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgK1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPi5cIikpO1xuICAgICAgICAgIHZhciBjaGlsZE93bmVyQXBwZW5kaXggPSBcIlwiO1xuICAgICAgICAgIG51bGwgIT0gY2hpbGQgJiZcbiAgICAgICAgICAgIHJldHVybkZpYmVyICE9PSBjaGlsZCAmJlxuICAgICAgICAgICAgKChjb21wb25lbnROYW1lID0gbnVsbCksXG4gICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2hpbGQudGFnXG4gICAgICAgICAgICAgID8gKGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGNoaWxkKSlcbiAgICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgY2hpbGQubmFtZSAmJiAoY29tcG9uZW50TmFtZSA9IGNoaWxkLm5hbWUpLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSAmJlxuICAgICAgICAgICAgICAoY2hpbGRPd25lckFwcGVuZGl4ID1cbiAgICAgICAgICAgICAgICBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGNvbXBvbmVudE5hbWUgKyBcIi5cIikpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKHdvcmtJblByb2dyZXNzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLiVzJXMgU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgICAgIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sXG4gICAgICAgICAgICAgIGNoaWxkT3duZXJBcHBlbmRpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlY29uY2lsZUNoaWxkRmliZXJzID0gY3JlYXRlQ2hpbGRSZWNvbmNpbGVyKCEwKSxcbiAgICAgIG1vdW50Q2hpbGRGaWJlcnMgPSBjcmVhdGVDaGlsZFJlY29uY2lsZXIoITEpLFxuICAgICAgY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvciA9IGNyZWF0ZUN1cnNvcigwKSxcbiAgICAgIHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgc2hlbGxCb3VuZGFyeSA9IG51bGwsXG4gICAgICBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzayA9IDEsXG4gICAgICBGb3JjZVN1c3BlbnNlRmFsbGJhY2sgPSAyLFxuICAgICAgc3VzcGVuc2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcigwKSxcbiAgICAgIE5vRmxhZ3MgPSAwLFxuICAgICAgSGFzRWZmZWN0ID0gMSxcbiAgICAgIEluc2VydGlvbiA9IDIsXG4gICAgICBMYXlvdXQgPSA0LFxuICAgICAgUGFzc2l2ZSA9IDgsXG4gICAgICBBYm9ydENvbnRyb2xsZXJMb2NhbCA9XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBBYm9ydENvbnRyb2xsZXJcbiAgICAgICAgICA/IEFib3J0Q29udHJvbGxlclxuICAgICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW10sXG4gICAgICAgICAgICAgICAgc2lnbmFsID0gKHRoaXMuc2lnbmFsID0ge1xuICAgICAgICAgICAgICAgICAgYWJvcnRlZDogITEsXG4gICAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aGlzLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNpZ25hbC5hYm9ydGVkID0gITA7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICBzY2hlZHVsZUNhbGxiYWNrJDIgPSBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxcbiAgICAgIE5vcm1hbFByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFxuICAgICAgQ2FjaGVDb250ZXh0ID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgICBDb25zdW1lcjogbnVsbCxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IG51bGwsXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBudWxsLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgICAgIF9jdXJyZW50UmVuZGVyZXI6IG51bGwsXG4gICAgICAgIF9jdXJyZW50UmVuZGVyZXIyOiBudWxsXG4gICAgICB9LFxuICAgICAgY3VycmVudEVudGFuZ2xlZExpc3RlbmVycyA9IG51bGwsXG4gICAgICBjdXJyZW50RW50YW5nbGVkUGVuZGluZ0NvdW50ID0gMCxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRMYW5lID0gMCxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IG51bGwsXG4gICAgICBwcmV2T25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlMgPSBmdW5jdGlvbiAodHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpIHtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuICYmXG4gICAgICAgIGVudGFuZ2xlQXN5bmNBY3Rpb24odHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgbnVsbCAhPT0gcHJldk9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgIHByZXZPblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCh0cmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgfTtcbiAgICB2YXIgcmVzdW1lZENhY2hlID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3Q7XG4gICAgdmFyIGRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0VXNlV3JhcHBlZEluVHJ5Q2F0Y2ggPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVc2VGb3JtU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIHJlbmRlckxhbmVzID0gMCxcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSBudWxsLFxuICAgICAgY3VycmVudEhvb2sgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID0gbnVsbCxcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMSxcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9ICExLFxuICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgPSAhMSxcbiAgICAgIGxvY2FsSWRDb3VudGVyID0gMCxcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gMCxcbiAgICAgIHRoZW5hYmxlU3RhdGUgPSBudWxsLFxuICAgICAgZ2xvYmFsQ2xpZW50SWRDb3VudGVyID0gMCxcbiAgICAgIFJFX1JFTkRFUl9MSU1JVCA9IDI1LFxuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBudWxsLFxuICAgICAgaG9va1R5cGVzRGV2ID0gbnVsbCxcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTEsXG4gICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9ICExO1xuICAgIHZhciBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgbGFzdEVmZmVjdDogbnVsbCwgZXZlbnRzOiBudWxsLCBzdG9yZXM6IG51bGwsIG1lbW9DYWNoZTogbnVsbCB9O1xuICAgIH07XG4gICAgdmFyIENvbnRleHRPbmx5RGlzcGF0Y2hlciA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiByZWFkQ29udGV4dCxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUNvbnRleHQ6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZU1lbW86IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVJlZHVjZXI6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVJlZjogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlU3RhdGU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZURlYnVnVmFsdWU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVRyYW5zaXRpb246IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VJZDogdGhyb3dJbnZhbGlkSG9va0Vycm9yXG4gICAgfTtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlQ2FjaGVSZWZyZXNoID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VNZW1vQ2FjaGUgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VGb3JtU3RhdGUgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUFjdGlvblN0YXRlID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VPcHRpbWlzdGljID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIHZhciBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSBudWxsLFxuICAgICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFViA9IG51bGwsXG4gICAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0gbnVsbCxcbiAgICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IG51bGwsXG4gICAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0gbnVsbCxcbiAgICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0gbnVsbCxcbiAgICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYgPSBudWxsO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgbW91bnRFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50TWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50U3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudElkKCk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZU1lbW9DYWNoZSA9IHVzZU1lbW9DYWNoZTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGluaXRpYWxTdGF0ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIG1vdW50RWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50VHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudElkKCk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaFxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiByZXJlbmRlclJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlcmVuZGVyRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlKHVzYWJsZSk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBtb3VudEVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZihpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50U3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJZCgpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZnJlc2goKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vQ2FjaGU6IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaFxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2UodXNhYmxlKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlTWVtb0NhY2hlOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW9DYWNoZShzaXplKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZSh1c2FibGUpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiByZXJlbmRlclJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW9DYWNoZTogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICB2YXIgZmFrZUludGVybmFsSW5zdGFuY2UgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q29udGV4dFR5cGVzJDEgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dENoaWxkQ29udGV4dFR5cGVzID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjayA9IG5ldyBTZXQoKTtcbiAgICBPYmplY3QuZnJlZXplKGZha2VJbnRlcm5hbEluc3RhbmNlKTtcbiAgICB2YXIgY2xhc3NDb21wb25lbnRVcGRhdGVyID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgICB2YXIgb3duZXIgPSBjdXJyZW50O1xuICAgICAgICAgIGlmIChudWxsICE9PSBvd25lciAmJiBpc1JlbmRlcmluZyAmJiAxID09PSBvd25lci50YWcpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG93bmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciB8fFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiJXMgaXMgYWNjZXNzaW5nIGlzTW91bnRlZCBpbnNpZGUgaXRzIHJlbmRlcigpIGZ1bmN0aW9uLiByZW5kZXIoKSBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS4gSXQgc2hvdWxkIG5ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzIHJlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kIGNvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIob3duZXIpIHx8IFwiQSBjb21wb25lbnRcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoY29tcG9uZW50ID0gY29tcG9uZW50Ll9yZWFjdEludGVybmFscylcbiAgICAgICAgICAgID8gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihjb21wb25lbnQpID09PSBjb21wb25lbnRcbiAgICAgICAgICAgIDogITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKGluc3QsIHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgaW5zdCA9IGluc3QuX3JlYWN0SW50ZXJuYWxzO1xuICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUoaW5zdCksXG4gICAgICAgICAgICB1cGRhdGUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICAgICAgdXBkYXRlLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICAgIHZvaWQgMCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAod2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSwgKHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICAgICAgcGF5bG9hZCA9IGVucXVldWVVcGRhdGUoaW5zdCwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgICBudWxsICE9PSBwYXlsb2FkICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBheWxvYWQsIGluc3QsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhwYXlsb2FkLCBpbnN0LCBsYW5lKSk7XG4gICAgICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGluc3QsIGxhbmUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAoaW5zdCwgcGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpbnN0ID0gaW5zdC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShpbnN0KSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICB1cGRhdGUudGFnID0gUmVwbGFjZVN0YXRlO1xuICAgICAgICAgIHVwZGF0ZS5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgICB2b2lkIDAgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjayksICh1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgICAgIHBheWxvYWQgPSBlbnF1ZXVlVXBkYXRlKGluc3QsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICAgICAgbnVsbCAhPT0gcGF5bG9hZCAmJlxuICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXlsb2FkLCBpbnN0LCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMocGF5bG9hZCwgaW5zdCwgbGFuZSkpO1xuICAgICAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChpbnN0LCBsYW5lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbiAoaW5zdCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpbnN0ID0gaW5zdC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShpbnN0KSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICB1cGRhdGUudGFnID0gRm9yY2VVcGRhdGU7XG4gICAgICAgICAgdm9pZCAwICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgICh3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spLCAodXBkYXRlLmNhbGxiYWNrID0gY2FsbGJhY2spKTtcbiAgICAgICAgICBjYWxsYmFjayA9IGVucXVldWVVcGRhdGUoaW5zdCwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihjYWxsYmFjaywgaW5zdCwgbGFuZSksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKGNhbGxiYWNrLCBpbnN0LCBsYW5lKSk7XG4gICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrRm9yY2VVcGRhdGVTY2hlZHVsZWQgJiZcbiAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0ZvcmNlVXBkYXRlU2NoZWR1bGVkKGluc3QsIGxhbmUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBjb21wb25lbnROYW1lID0gbnVsbCxcbiAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gbnVsbCxcbiAgICAgIFNlbGVjdGl2ZUh5ZHJhdGlvbkV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIlRoaXMgaXMgbm90IGEgcmVhbCBlcnJvci4gSXQncyBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgb2YgUmVhY3QncyBzZWxlY3RpdmUgaHlkcmF0aW9uIGZlYXR1cmUuIElmIHRoaXMgbGVha3MgaW50byB1c2Vyc3BhY2UsIGl0J3MgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApLFxuICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9ICExO1xuICAgIHZhciBkaWRXYXJuQWJvdXRCYWRDbGFzcyA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZU9uRnVuY3Rpb25Db21wb25lbnQgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q29udGV4dFR5cGVzID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25Db21wb25lbnQgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyA9ICExO1xuICAgIHZhciBkaWRXYXJuQWJvdXRSZXZlYWxPcmRlciA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRUYWlsT3B0aW9ucyA9IHt9O1xuICAgIHZhciBTVVNQRU5ERURfTUFSS0VSID0ge1xuICAgICAgICBkZWh5ZHJhdGVkOiBudWxsLFxuICAgICAgICB0cmVlQ29udGV4dDogbnVsbCxcbiAgICAgICAgcmV0cnlMYW5lOiAwXG4gICAgICB9LFxuICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05vVmFsdWVQcm9wT25Db250ZXh0UHJvdmlkZXIgPSAhMSxcbiAgICAgIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICAgIHZhciByZW5kZXJlckN1cnNvckRFViA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgICB2YXIgcmVuZGVyZXJTaWdpbCA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IG51bGwsXG4gICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBudWxsLFxuICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExLFxuICAgICAgVXBkYXRlU3RhdGUgPSAwLFxuICAgICAgUmVwbGFjZVN0YXRlID0gMSxcbiAgICAgIEZvcmNlVXBkYXRlID0gMixcbiAgICAgIENhcHR1cmVVcGRhdGUgPSAzLFxuICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMTtcbiAgICB2YXIgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9ICExO1xuICAgIHZhciBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBudWxsO1xuICAgIHZhciBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITEsXG4gICAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG51bGw7XG4gICAgZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9ICExLFxuICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9ICExLFxuICAgICAgbmVlZHNGb3JtUmVzZXQgPSAhMSxcbiAgICAgIFBvc3NpYmx5V2Vha1NldCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtTZXQgPyBXZWFrU2V0IDogU2V0LFxuICAgICAgbmV4dEVmZmVjdCA9IG51bGwsXG4gICAgICBpblByb2dyZXNzTGFuZXMgPSBudWxsLFxuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSBudWxsLFxuICAgICAgc2hvdWxkRmlyZUFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyID0gITEsXG4gICAgICBob3N0UGFyZW50ID0gbnVsbCxcbiAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICExLFxuICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBudWxsLFxuICAgICAgc3VzcGVuc2V5Q29tbWl0RmxhZyA9IDgxOTI7XG4gICAgdmFyIGhhc0JhZE1hcFBvbHlmaWxsID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBub25FeHRlbnNpYmxlT2JqZWN0ID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KTtcbiAgICAgIG5ldyBNYXAoW1tub25FeHRlbnNpYmxlT2JqZWN0LCBudWxsXV0pO1xuICAgICAgbmV3IFNldChbbm9uRXh0ZW5zaWJsZU9iamVjdF0pO1xuICAgIH0gY2F0Y2ggKGUkNykge1xuICAgICAgaGFzQmFkTWFwUG9seWZpbGwgPSAhMDtcbiAgICB9XG4gICAgdmFyIERlZmF1bHRBc3luY0Rpc3BhdGNoZXIgPSB7XG4gICAgICBnZXRDYWNoZUZvclR5cGU6IGZ1bmN0aW9uIChyZXNvdXJjZVR5cGUpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gcmVhZENvbnRleHQoQ2FjaGVDb250ZXh0KSxcbiAgICAgICAgICBjYWNoZUZvclR5cGUgPSBjYWNoZS5kYXRhLmdldChyZXNvdXJjZVR5cGUpO1xuICAgICAgICB2b2lkIDAgPT09IGNhY2hlRm9yVHlwZSAmJlxuICAgICAgICAgICgoY2FjaGVGb3JUeXBlID0gcmVzb3VyY2VUeXBlKCkpLFxuICAgICAgICAgIGNhY2hlLmRhdGEuc2V0KHJlc291cmNlVHlwZSwgY2FjaGVGb3JUeXBlKSk7XG4gICAgICAgIHJldHVybiBjYWNoZUZvclR5cGU7XG4gICAgICB9LFxuICAgICAgZ2V0T3duZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5mb3IpIHtcbiAgICAgIHZhciBzeW1ib2xGb3IgPSBTeW1ib2wuZm9yO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IuY29tcG9uZW50XCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IuaGFzX3BzZXVkb19jbGFzc1wiKTtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLnJvbGVcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci50ZXN0X2lkXCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IudGV4dFwiKTtcbiAgICB9XG4gICAgdmFyIGNvbW1pdEhvb2tzID0gW10sXG4gICAgICBQb3NzaWJseVdlYWtNYXAgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcCxcbiAgICAgIE5vQ29udGV4dCA9IDAsXG4gICAgICBSZW5kZXJDb250ZXh0ID0gMixcbiAgICAgIENvbW1pdENvbnRleHQgPSA0LFxuICAgICAgUm9vdEluUHJvZ3Jlc3MgPSAwLFxuICAgICAgUm9vdEZhdGFsRXJyb3JlZCA9IDEsXG4gICAgICBSb290RXJyb3JlZCA9IDIsXG4gICAgICBSb290U3VzcGVuZGVkID0gMyxcbiAgICAgIFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgPSA0LFxuICAgICAgUm9vdENvbXBsZXRlZCA9IDUsXG4gICAgICBSb290RGlkTm90Q29tcGxldGUgPSA2LFxuICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IE5vQ29udGV4dCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDAsXG4gICAgICBOb3RTdXNwZW5kZWQgPSAwLFxuICAgICAgU3VzcGVuZGVkT25FcnJvciA9IDEsXG4gICAgICBTdXNwZW5kZWRPbkRhdGEgPSAyLFxuICAgICAgU3VzcGVuZGVkT25JbW1lZGlhdGUgPSAzLFxuICAgICAgU3VzcGVuZGVkT25JbnN0YW5jZSA9IDQsXG4gICAgICBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlID0gNSxcbiAgICAgIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZSA9IDYsXG4gICAgICBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWUgPSA3LFxuICAgICAgU3VzcGVuZGVkT25IeWRyYXRpb24gPSA4LFxuICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyA9ICExLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgPSAhMSxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEF0dGFjaFBpbmdMaXN0ZW5lciA9ICExLFxuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RJblByb2dyZXNzLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUgPSAhMSxcbiAgICAgIGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgPSAwLFxuICAgICAgRkFMTEJBQ0tfVEhST1RUTEVfTVMgPSAzMDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lID0gSW5maW5pdHksXG4gICAgICBSRU5ERVJfVElNRU9VVF9NUyA9IDUwMCxcbiAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMgPSBudWxsLFxuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsLFxuICAgICAgcm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgPSAhMSxcbiAgICAgIHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzID0gbnVsbCxcbiAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzID0gMCxcbiAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzID0gMCxcbiAgICAgIHBlbmRpbmdQYXNzaXZlVHJhbnNpdGlvbnMgPSBudWxsLFxuICAgICAgTkVTVEVEX1VQREFURV9MSU1JVCA9IDUwLFxuICAgICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwLFxuICAgICAgcm9vdFdpdGhOZXN0ZWRVcGRhdGVzID0gbnVsbCxcbiAgICAgIGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyA9ICExLFxuICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9ICExLFxuICAgICAgTkVTVEVEX1BBU1NJVkVfVVBEQVRFX0xJTUlUID0gNTAsXG4gICAgICBuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwLFxuICAgICAgcm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IG51bGwsXG4gICAgICBpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMSxcbiAgICAgIElNTUVESUFURV9DT01NSVQgPSAwLFxuICAgICAgU1VTUEVOREVEX0NPTU1JVCA9IDEsXG4gICAgICBUSFJPVFRMRURfQ09NTUlUID0gMixcbiAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQgPSBudWxsLFxuICAgICAgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIgPSAhMTtcbiAgICB2YXIgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXJGb3JBbm90aGVyQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBmYWtlQWN0Q2FsbGJhY2tOb2RlJDEgPSB7fSxcbiAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IG51bGwsXG4gICAgICBsYXN0U2NoZWR1bGVkUm9vdCA9IG51bGwsXG4gICAgICBkaWRTY2hlZHVsZU1pY3JvdGFzayA9ICExLFxuICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0ID0gITEsXG4gICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmdXb3JrID0gITEsXG4gICAgICBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSA9IDAsXG4gICAgICBmYWtlQWN0Q2FsbGJhY2tOb2RlID0ge307XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2ltcGxlRXZlbnRQbHVnaW5FdmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IHNpbXBsZUV2ZW50UGx1Z2luRXZlbnRzW2ldLFxuICAgICAgICAgIGRvbUV2ZW50TmFtZSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBldmVudE5hbWUgPSBldmVudE5hbWVbMF0udG9VcHBlckNhc2UoKSArIGV2ZW50TmFtZS5zbGljZSgxKTtcbiAgICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChkb21FdmVudE5hbWUsIFwib25cIiArIGV2ZW50TmFtZSk7XG4gICAgICB9XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KEFOSU1BVElPTl9FTkQsIFwib25BbmltYXRpb25FbmRcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KEFOSU1BVElPTl9JVEVSQVRJT04sIFwib25BbmltYXRpb25JdGVyYXRpb25cIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KEFOSU1BVElPTl9TVEFSVCwgXCJvbkFuaW1hdGlvblN0YXJ0XCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChcImRibGNsaWNrXCIsIFwib25Eb3VibGVDbGlja1wiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoXCJmb2N1c2luXCIsIFwib25Gb2N1c1wiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoXCJmb2N1c291dFwiLCBcIm9uQmx1clwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoVFJBTlNJVElPTl9SVU4sIFwib25UcmFuc2l0aW9uUnVuXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX1NUQVJULCBcIm9uVHJhbnNpdGlvblN0YXJ0XCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX0NBTkNFTCwgXCJvblRyYW5zaXRpb25DYW5jZWxcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fRU5ELCBcIm9uVHJhbnNpdGlvbkVuZFwiKTtcbiAgICB9KSgpO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvbk1vdXNlRW50ZXJcIiwgW1wibW91c2VvdXRcIiwgXCJtb3VzZW92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvbk1vdXNlTGVhdmVcIiwgW1wibW91c2VvdXRcIiwgXCJtb3VzZW92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvblBvaW50ZXJFbnRlclwiLCBbXCJwb2ludGVyb3V0XCIsIFwicG9pbnRlcm92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvblBvaW50ZXJMZWF2ZVwiLCBbXCJwb2ludGVyb3V0XCIsIFwicG9pbnRlcm92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25DaGFuZ2VcIixcbiAgICAgIFwiY2hhbmdlIGNsaWNrIGZvY3VzaW4gZm9jdXNvdXQgaW5wdXQga2V5ZG93biBrZXl1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcbiAgICAgICAgXCIgXCJcbiAgICAgIClcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25TZWxlY3RcIixcbiAgICAgIFwiZm9jdXNvdXQgY29udGV4dG1lbnUgZHJhZ2VuZCBmb2N1c2luIGtleWRvd24ga2V5dXAgbW91c2Vkb3duIG1vdXNldXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXG4gICAgICAgIFwiIFwiXG4gICAgICApXG4gICAgKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXCJvbkJlZm9yZUlucHV0XCIsIFtcbiAgICAgIFwiY29tcG9zaXRpb25lbmRcIixcbiAgICAgIFwia2V5cHJlc3NcIixcbiAgICAgIFwidGV4dElucHV0XCIsXG4gICAgICBcInBhc3RlXCJcbiAgICBdKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXG4gICAgICBcIm9uQ29tcG9zaXRpb25FbmRcIixcbiAgICAgIFwiY29tcG9zaXRpb25lbmQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIilcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25Db21wb3NpdGlvblN0YXJ0XCIsXG4gICAgICBcImNvbXBvc2l0aW9uc3RhcnQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIilcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25Db21wb3NpdGlvblVwZGF0ZVwiLFxuICAgICAgXCJjb21wb3NpdGlvbnVwZGF0ZSBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKVxuICAgICk7XG4gICAgdmFyIG1lZGlhRXZlbnRUeXBlcyA9XG4gICAgICAgIFwiYWJvcnQgY2FucGxheSBjYW5wbGF5dGhyb3VnaCBkdXJhdGlvbmNoYW5nZSBlbXB0aWVkIGVuY3J5cHRlZCBlbmRlZCBlcnJvciBsb2FkZWRkYXRhIGxvYWRlZG1ldGFkYXRhIGxvYWRzdGFydCBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZWNoYW5nZSByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdXNwZW5kIHRpbWV1cGRhdGUgdm9sdW1lY2hhbmdlIHdhaXRpbmdcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgbm9uRGVsZWdhdGVkRXZlbnRzID0gbmV3IFNldChcbiAgICAgICAgXCJiZWZvcmV0b2dnbGUgY2FuY2VsIGNsb3NlIGludmFsaWQgbG9hZCBzY3JvbGwgc2Nyb2xsZW5kIHRvZ2dsZVwiXG4gICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgIC5jb25jYXQobWVkaWFFdmVudFR5cGVzKVxuICAgICAgKSxcbiAgICAgIGxpc3RlbmluZ01hcmtlciA9IFwiX3JlYWN0TGlzdGVuaW5nXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxcbiAgICAgIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSAhMSxcbiAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSAhMSxcbiAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVHlwZSA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25OYW1lID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvblRhcmdldCA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgPSAhMSxcbiAgICAgIGRpZFdhcm5Qb3BvdmVyVGFyZ2V0T2JqZWN0ID0gITE7XG4gICAgdmFyIGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZSA9IHt9O1xuICAgIHZhciBjYW5EaWZmU3R5bGVGb3JIeWRyYXRpb25XYXJuaW5nID0gITA7XG4gICAgdmFyIE5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCA9IC9cXHJcXG4/L2csXG4gICAgICBOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVggPSAvXFx1MDAwMHxcXHVGRkZEL2csXG4gICAgICB4bGlua05hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgeG1sTmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIixcbiAgICAgIEVYUEVDVEVEX0ZPUk1fQUNUSU9OX1VSTCA9XG4gICAgICAgIFwiamF2YXNjcmlwdDp0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0IGZvcm0gdW5leHBlY3RlZGx5IHN1Ym1pdHRlZC4nKVwiLFxuICAgICAgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkcgPSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiLFxuICAgICAgU1VTUEVOU0VfU1RBUlRfREFUQSA9IFwiJFwiLFxuICAgICAgU1VTUEVOU0VfRU5EX0RBVEEgPSBcIi8kXCIsXG4gICAgICBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgPSBcIiQ/XCIsXG4gICAgICBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBID0gXCIkIVwiLFxuICAgICAgRk9STV9TVEFURV9JU19NQVRDSElORyA9IFwiRiFcIixcbiAgICAgIEZPUk1fU1RBVEVfSVNfTk9UX01BVENISU5HID0gXCJGXCIsXG4gICAgICBTVFlMRSA9IFwic3R5bGVcIixcbiAgICAgIEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZSA9IDAsXG4gICAgICBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZyA9IDEsXG4gICAgICBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGggPSAyLFxuICAgICAgZXZlbnRzRW5hYmxlZCA9IG51bGwsXG4gICAgICBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IG51bGwsXG4gICAgICB3YXJuZWRVbmtub3duVGFncyA9IHsgZGlhbG9nOiAhMCwgd2VidmlldzogITAgfSxcbiAgICAgIGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCA9IG51bGwsXG4gICAgICBzY2hlZHVsZVRpbWVvdXQgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzZXRUaW1lb3V0ID8gc2V0VGltZW91dCA6IHZvaWQgMCxcbiAgICAgIGNhbmNlbFRpbWVvdXQgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjbGVhclRpbWVvdXQgPyBjbGVhclRpbWVvdXQgOiB2b2lkIDAsXG4gICAgICBub1RpbWVvdXQgPSAtMSxcbiAgICAgIGxvY2FsUHJvbWlzZSA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFByb21pc2UgPyBQcm9taXNlIDogdm9pZCAwLFxuICAgICAgc2NoZWR1bGVNaWNyb3Rhc2sgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gcXVldWVNaWNyb3Rhc2tcbiAgICAgICAgICA6IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2NhbFByb21pc2VcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgLnJlc29sdmUobnVsbClcbiAgICAgICAgICAgICAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9ySW5OZXh0VGljayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogc2NoZWR1bGVUaW1lb3V0LFxuICAgICAgTm90TG9hZGVkID0gMCxcbiAgICAgIExvYWRlZCA9IDEsXG4gICAgICBFcnJvcmVkID0gMixcbiAgICAgIFNldHRsZWQgPSAzLFxuICAgICAgSW5zZXJ0ZWQgPSA0LFxuICAgICAgcHJlbG9hZFByb3BzTWFwID0gbmV3IE1hcCgpLFxuICAgICAgcHJlY29ubmVjdHNTZXQgPSBuZXcgU2V0KCksXG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5kO1xuICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLmQgPSB7XG4gICAgICBmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1dhc1JlbmRlcmluZyA9IHByZXZpb3VzRGlzcGF0Y2hlci5mKCksXG4gICAgICAgICAgd2FzUmVuZGVyaW5nID0gZmx1c2hTeW5jV29yayQxKCk7XG4gICAgICAgIHJldHVybiBwcmV2aW91c1dhc1JlbmRlcmluZyB8fCB3YXNSZW5kZXJpbmc7XG4gICAgICB9LFxuICAgICAgcjogZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgdmFyIGZvcm1JbnN0ID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShmb3JtKTtcbiAgICAgICAgbnVsbCAhPT0gZm9ybUluc3QgJiYgNSA9PT0gZm9ybUluc3QudGFnICYmIFwiZm9ybVwiID09PSBmb3JtSW5zdC50eXBlXG4gICAgICAgICAgPyByZXF1ZXN0Rm9ybVJlc2V0JDEoZm9ybUluc3QpXG4gICAgICAgICAgOiBwcmV2aW91c0Rpc3BhdGNoZXIucihmb3JtKTtcbiAgICAgIH0sXG4gICAgICBEOiBmdW5jdGlvbiAoaHJlZikge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuRChocmVmKTtcbiAgICAgICAgcHJlY29ubmVjdEFzKFwiZG5zLXByZWZldGNoXCIsIGhyZWYsIG51bGwpO1xuICAgICAgfSxcbiAgICAgIEM6IGZ1bmN0aW9uIChocmVmLCBjcm9zc09yaWdpbikge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuQyhocmVmLCBjcm9zc09yaWdpbik7XG4gICAgICAgIHByZWNvbm5lY3RBcyhcInByZWNvbm5lY3RcIiwgaHJlZiwgY3Jvc3NPcmlnaW4pO1xuICAgICAgfSxcbiAgICAgIEw6IGZ1bmN0aW9uIChocmVmLCBhcywgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuTChocmVmLCBhcywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIGhyZWYgJiYgYXMpIHtcbiAgICAgICAgICB2YXIgcHJlbG9hZFNlbGVjdG9yID1cbiAgICAgICAgICAgICdsaW5rW3JlbD1cInByZWxvYWRcIl1bYXM9XCInICtcbiAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoYXMpICtcbiAgICAgICAgICAgICdcIl0nO1xuICAgICAgICAgIFwiaW1hZ2VcIiA9PT0gYXNcbiAgICAgICAgICAgID8gb3B0aW9ucyAmJiBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgID8gKChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAgICdbaW1hZ2VzcmNzZXQ9XCInICtcbiAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgJ1wiXScpLFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmltYWdlU2l6ZXMgJiZcbiAgICAgICAgICAgICAgICAgIChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAgICAgJ1tpbWFnZXNpemVzPVwiJyArXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5pbWFnZVNpemVzXG4gICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAnXCJdJykpXG4gICAgICAgICAgICAgIDogKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICAgJ1tocmVmPVwiJyArXG4gICAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICtcbiAgICAgICAgICAgICAgICAgICdcIl0nKVxuICAgICAgICAgICAgOiAocHJlbG9hZFNlbGVjdG9yICs9XG4gICAgICAgICAgICAgICAgJ1tocmVmPVwiJyArXG4gICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKSArXG4gICAgICAgICAgICAgICAgJ1wiXScpO1xuICAgICAgICAgIHZhciBrZXkgPSBwcmVsb2FkU2VsZWN0b3I7XG4gICAgICAgICAgc3dpdGNoIChhcykge1xuICAgICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICAgIGtleSA9IGdldFN0eWxlS2V5KGhyZWYpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAga2V5ID0gZ2V0U2NyaXB0S2V5KGhyZWYpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuaGFzKGtleSkgfHxcbiAgICAgICAgICAgICgoaHJlZiA9IGFzc2lnbihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbDogXCJwcmVsb2FkXCIsXG4gICAgICAgICAgICAgICAgaHJlZjpcbiAgICAgICAgICAgICAgICAgIFwiaW1hZ2VcIiA9PT0gYXMgJiYgb3B0aW9ucyAmJiBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgICAgICAgID8gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgIDogaHJlZixcbiAgICAgICAgICAgICAgICBhczogYXNcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuc2V0KGtleSwgaHJlZiksXG4gICAgICAgICAgICBudWxsICE9PSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJlbG9hZFNlbGVjdG9yKSB8fFxuICAgICAgICAgICAgICAoXCJzdHlsZVwiID09PSBhcyAmJlxuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgIChcInNjcmlwdFwiID09PSBhcyAmJlxuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KSkpIHx8XG4gICAgICAgICAgICAgICgoYXMgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKSxcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoYXMsIFwibGlua1wiLCBocmVmKSxcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShhcyksXG4gICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhcykpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG06IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5tKGhyZWYsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBocmVmKSB7XG4gICAgICAgICAgdmFyIGFzID1cbiAgICAgICAgICAgICAgb3B0aW9ucyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyA/IG9wdGlvbnMuYXMgOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgcHJlbG9hZFNlbGVjdG9yID1cbiAgICAgICAgICAgICAgJ2xpbmtbcmVsPVwibW9kdWxlcHJlbG9hZFwiXVthcz1cIicgK1xuICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGFzKSArXG4gICAgICAgICAgICAgICdcIl1baHJlZj1cIicgK1xuICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICtcbiAgICAgICAgICAgICAgJ1wiXScsXG4gICAgICAgICAgICBrZXkgPSBwcmVsb2FkU2VsZWN0b3I7XG4gICAgICAgICAgc3dpdGNoIChhcykge1xuICAgICAgICAgICAgY2FzZSBcImF1ZGlvd29ya2xldFwiOlxuICAgICAgICAgICAgY2FzZSBcInBhaW50d29ya2xldFwiOlxuICAgICAgICAgICAgY2FzZSBcInNlcnZpY2V3b3JrZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzaGFyZWR3b3JrZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ3b3JrZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAga2V5ID0gZ2V0U2NyaXB0S2V5KGhyZWYpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhcHJlbG9hZFByb3BzTWFwLmhhcyhrZXkpICYmXG4gICAgICAgICAgICAoKGhyZWYgPSBhc3NpZ24oeyByZWw6IFwibW9kdWxlcHJlbG9hZFwiLCBocmVmOiBocmVmIH0sIG9wdGlvbnMpKSxcbiAgICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5zZXQoa2V5LCBocmVmKSxcbiAgICAgICAgICAgIG51bGwgPT09IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihwcmVsb2FkU2VsZWN0b3IpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc3dpdGNoIChhcykge1xuICAgICAgICAgICAgICBjYXNlIFwiYXVkaW93b3JrbGV0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwYWludHdvcmtsZXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNlcnZpY2V3b3JrZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNoYXJlZHdvcmtlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwid29ya2VyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAgICBpZiAob3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpKSlcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGFzLCBcImxpbmtcIiwgaHJlZik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGFzKTtcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgWDogZnVuY3Rpb24gKHNyYywgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuWChzcmMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBzcmMpIHtcbiAgICAgICAgICB2YXIgc2NyaXB0cyA9IGdldFJlc291cmNlc0Zyb21Sb290KG93bmVyRG9jdW1lbnQpLmhvaXN0YWJsZVNjcmlwdHMsXG4gICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoc3JjKSxcbiAgICAgICAgICAgIHJlc291cmNlID0gc2NyaXB0cy5nZXQoa2V5KTtcbiAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgKChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgKChzcmMgPSBhc3NpZ24oeyBzcmM6IHNyYywgYXN5bmM6ICEwIH0sIG9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgKG9wdGlvbnMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoc3JjLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSxcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShyZXNvdXJjZSksXG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHJlc291cmNlLCBcImxpbmtcIiwgc3JjKSxcbiAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHJlc291cmNlKSksXG4gICAgICAgICAgICAocmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNjcmlwdHMuc2V0KGtleSwgcmVzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFM6IGZ1bmN0aW9uIChocmVmLCBwcmVjZWRlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5TKGhyZWYsIHByZWNlZGVuY2UsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBocmVmKSB7XG4gICAgICAgICAgdmFyIHN0eWxlcyA9IGdldFJlc291cmNlc0Zyb21Sb290KG93bmVyRG9jdW1lbnQpLmhvaXN0YWJsZVN0eWxlcyxcbiAgICAgICAgICAgIGtleSA9IGdldFN0eWxlS2V5KGhyZWYpO1xuICAgICAgICAgIHByZWNlZGVuY2UgPSBwcmVjZWRlbmNlIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgICAgIHZhciByZXNvdXJjZSA9IHN0eWxlcy5nZXQoa2V5KTtcbiAgICAgICAgICBpZiAoIXJlc291cmNlKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7IGxvYWRpbmc6IE5vdExvYWRlZCwgcHJlbG9hZDogbnVsbCB9O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBMb2FkZWQgfCBJbnNlcnRlZDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBocmVmID0gYXNzaWduKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlbDogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgICAgICAgICAgXCJkYXRhLXByZWNlZGVuY2VcIjogcHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAob3B0aW9ucyA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQoaHJlZiwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIHZhciBsaW5rID0gKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSk7XG4gICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUobGluayk7XG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGxpbmssIFwibGlua1wiLCBocmVmKTtcbiAgICAgICAgICAgICAgbGluay5fcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBsaW5rLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgbGluay5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8PSBMb2FkZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8PSBFcnJvcmVkO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChyZXNvdXJjZSwgcHJlY2VkZW5jZSwgb3duZXJEb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0eWxlcy5zZXQoa2V5LCByZXNvdXJjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgTTogZnVuY3Rpb24gKHNyYywgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuTShzcmMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBzcmMpIHtcbiAgICAgICAgICB2YXIgc2NyaXB0cyA9IGdldFJlc291cmNlc0Zyb21Sb290KG93bmVyRG9jdW1lbnQpLmhvaXN0YWJsZVNjcmlwdHMsXG4gICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoc3JjKSxcbiAgICAgICAgICAgIHJlc291cmNlID0gc2NyaXB0cy5nZXQoa2V5KTtcbiAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgKChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgKChzcmMgPSBhc3NpZ24oeyBzcmM6IHNyYywgYXN5bmM6ICEwLCB0eXBlOiBcIm1vZHVsZVwiIH0sIG9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgKG9wdGlvbnMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoc3JjLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSxcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShyZXNvdXJjZSksXG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHJlc291cmNlLCBcImxpbmtcIiwgc3JjKSxcbiAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHJlc291cmNlKSksXG4gICAgICAgICAgICAocmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNjcmlwdHMuc2V0KGtleSwgcmVzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGdsb2JhbERvY3VtZW50ID0gXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGRvY3VtZW50ID8gbnVsbCA6IGRvY3VtZW50LFxuICAgICAgdGFnQ2FjaGVzID0gbnVsbCxcbiAgICAgIHN1c3BlbmRlZFN0YXRlID0gbnVsbCxcbiAgICAgIExBU1RfUFJFQ0VERU5DRSA9IG51bGwsXG4gICAgICBwcmVjZWRlbmNlc0J5Um9vdCA9IG51bGwsXG4gICAgICBOb3RQZW5kaW5nVHJhbnNpdGlvbiA9IE5vdFBlbmRpbmcsXG4gICAgICBIb3N0VHJhbnNpdGlvbkNvbnRleHQgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBDb25zdW1lcjogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgX3RocmVhZENvdW50OiAwXG4gICAgICB9LFxuICAgICAgYmFkZ2VGb3JtYXQgPSBcIiVjJXMlYyBcIixcbiAgICAgIGJhZGdlU3R5bGUgPVxuICAgICAgICBcImJhY2tncm91bmQ6ICNlNmU2ZTY7YmFja2dyb3VuZDogbGlnaHQtZGFyayhyZ2JhKDAsMCwwLDAuMSksIHJnYmEoMjU1LDI1NSwyNTUsMC4yNSkpO2NvbG9yOiAjMDAwMDAwO2NvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpO2JvcmRlci1yYWRpdXM6IDJweFwiLFxuICAgICAgcmVzZXRTdHlsZSA9IFwiXCIsXG4gICAgICBwYWQgPSBcIiBcIixcbiAgICAgIGJpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcbiAgICB2YXIgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9ICExO1xuICAgIHZhciBvdmVycmlkZUhvb2tTdGF0ZSA9IG51bGwsXG4gICAgICBvdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGggPSBudWxsLFxuICAgICAgb3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlUHJvcHMgPSBudWxsLFxuICAgICAgb3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGggPSBudWxsLFxuICAgICAgb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGggPSBudWxsLFxuICAgICAgc2NoZWR1bGVVcGRhdGUgPSBudWxsLFxuICAgICAgc2V0RXJyb3JIYW5kbGVyID0gbnVsbCxcbiAgICAgIHNldFN1c3BlbnNlSGFuZGxlciA9IG51bGw7XG4gICAgb3ZlcnJpZGVIb29rU3RhdGUgPSBmdW5jdGlvbiAoZmliZXIsIGlkLCBwYXRoLCB2YWx1ZSkge1xuICAgICAgaWQgPSBmaW5kSG9vayhmaWJlciwgaWQpO1xuICAgICAgbnVsbCAhPT0gaWQgJiZcbiAgICAgICAgKChwYXRoID0gY29weVdpdGhTZXRJbXBsKGlkLm1lbW9pemVkU3RhdGUsIHBhdGgsIDAsIHZhbHVlKSksXG4gICAgICAgIChpZC5tZW1vaXplZFN0YXRlID0gcGF0aCksXG4gICAgICAgIChpZC5iYXNlU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGZpYmVyLm1lbW9pemVkUHJvcHMgPSBhc3NpZ24oe30sIGZpYmVyLm1lbW9pemVkUHJvcHMpKSxcbiAgICAgICAgKHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIHBhdGgpIHtcbiAgICAgIGlkID0gZmluZEhvb2soZmliZXIsIGlkKTtcbiAgICAgIG51bGwgIT09IGlkICYmXG4gICAgICAgICgocGF0aCA9IGNvcHlXaXRoRGVsZXRlSW1wbChpZC5tZW1vaXplZFN0YXRlLCBwYXRoLCAwKSksXG4gICAgICAgIChpZC5tZW1vaXplZFN0YXRlID0gcGF0aCksXG4gICAgICAgIChpZC5iYXNlU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGZpYmVyLm1lbW9pemVkUHJvcHMgPSBhc3NpZ24oe30sIGZpYmVyLm1lbW9pemVkUHJvcHMpKSxcbiAgICAgICAgKHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgIGlkID0gZmluZEhvb2soZmliZXIsIGlkKTtcbiAgICAgIG51bGwgIT09IGlkICYmXG4gICAgICAgICgob2xkUGF0aCA9IGNvcHlXaXRoUmVuYW1lKGlkLm1lbW9pemVkU3RhdGUsIG9sZFBhdGgsIG5ld1BhdGgpKSxcbiAgICAgICAgKGlkLm1lbW9pemVkU3RhdGUgPSBvbGRQYXRoKSxcbiAgICAgICAgKGlkLmJhc2VTdGF0ZSA9IG9sZFBhdGgpLFxuICAgICAgICAoZmliZXIubWVtb2l6ZWRQcm9wcyA9IGFzc2lnbih7fSwgZmliZXIubWVtb2l6ZWRQcm9wcykpLFxuICAgICAgICAob2xkUGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICBudWxsICE9PSBvbGRQYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihvbGRQYXRoLCBmaWJlciwgMikpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVQcm9wcyA9IGZ1bmN0aW9uIChmaWJlciwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IGNvcHlXaXRoU2V0SW1wbChmaWJlci5tZW1vaXplZFByb3BzLCBwYXRoLCAwLCB2YWx1ZSk7XG4gICAgICBmaWJlci5hbHRlcm5hdGUgJiYgKGZpYmVyLmFsdGVybmF0ZS5wZW5kaW5nUHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHMpO1xuICAgICAgcGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBvdmVycmlkZVByb3BzRGVsZXRlUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgcGF0aCkge1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gY29weVdpdGhEZWxldGVJbXBsKGZpYmVyLm1lbW9pemVkUHJvcHMsIHBhdGgsIDApO1xuICAgICAgZmliZXIuYWx0ZXJuYXRlICYmIChmaWJlci5hbHRlcm5hdGUucGVuZGluZ1Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzKTtcbiAgICAgIHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGggPSBmdW5jdGlvbiAoZmliZXIsIG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IGNvcHlXaXRoUmVuYW1lKFxuICAgICAgICBmaWJlci5tZW1vaXplZFByb3BzLFxuICAgICAgICBvbGRQYXRoLFxuICAgICAgICBuZXdQYXRoXG4gICAgICApO1xuICAgICAgZmliZXIuYWx0ZXJuYXRlICYmIChmaWJlci5hbHRlcm5hdGUucGVuZGluZ1Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzKTtcbiAgICAgIG9sZFBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gb2xkUGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIob2xkUGF0aCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKTtcbiAgICB9O1xuICAgIHNldEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChuZXdTaG91bGRFcnJvckltcGwpIHtcbiAgICAgIHNob3VsZEVycm9ySW1wbCA9IG5ld1Nob3VsZEVycm9ySW1wbDtcbiAgICB9O1xuICAgIHNldFN1c3BlbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChuZXdTaG91bGRTdXNwZW5kSW1wbCkge1xuICAgICAgc2hvdWxkU3VzcGVuZEltcGwgPSBuZXdTaG91bGRTdXNwZW5kSW1wbDtcbiAgICB9O1xuICAgIHZhciBfZW5hYmxlZCA9ICEwLFxuICAgICAgcmV0dXJuX3RhcmdldEluc3QgPSBudWxsLFxuICAgICAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9ICExLFxuICAgICAgcXVldWVkRm9jdXMgPSBudWxsLFxuICAgICAgcXVldWVkRHJhZyA9IG51bGwsXG4gICAgICBxdWV1ZWRNb3VzZSA9IG51bGwsXG4gICAgICBxdWV1ZWRQb2ludGVycyA9IG5ldyBNYXAoKSxcbiAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcyA9IG5ldyBNYXAoKSxcbiAgICAgIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cyA9IFtdLFxuICAgICAgZGlzY3JldGVSZXBsYXlhYmxlRXZlbnRzID1cbiAgICAgICAgXCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjb3B5IGN1dCBwYXN0ZSBjbGljayBjaGFuZ2UgY29udGV4dG1lbnUgcmVzZXRcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgbGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID0gbnVsbDtcbiAgICBSZWFjdERPTUh5ZHJhdGlvblJvb3QucHJvdG90eXBlLnJlbmRlciA9IFJlYWN0RE9NUm9vdC5wcm90b3R5cGUucmVuZGVyID1cbiAgICAgIGZ1bmN0aW9uIChjaGlsZHJlbiwgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyKSB7XG4gICAgICAgIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICAgICAgICBpZiAobnVsbCA9PT0gcm9vdCkgdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGFuIHVubW91bnRlZCByb290LlwiKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImRvZXMgbm90IHN1cHBvcnQgdGhlIHNlY29uZCBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiBhIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGlzVmFsaWRDb250YWluZXIoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyKVxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiWW91IHBhc3NlZCBhIGNvbnRhaW5lciB0byB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIHJvb3QucmVuZGVyKC4uLikuIFlvdSBkb24ndCBuZWVkIHRvIHBhc3MgaXQgYWdhaW4gc2luY2UgeW91IGFscmVhZHkgcGFzc2VkIGl0IHRvIGNyZWF0ZSB0aGUgcm9vdC5cIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIllvdSBwYXNzZWQgYSBzZWNvbmQgYXJndW1lbnQgdG8gcm9vdC5yZW5kZXIoLi4uKSBidXQgaXQgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIgPSByb290LmN1cnJlbnQ7XG4gICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyKTtcbiAgICAgICAgdXBkYXRlQ29udGFpbmVySW1wbChcbiAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIsXG4gICAgICAgICAgbGFuZSxcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICByb290LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICBSZWFjdERPTUh5ZHJhdGlvblJvb3QucHJvdG90eXBlLnVubW91bnQgPSBSZWFjdERPTVJvb3QucHJvdG90eXBlLnVubW91bnQgPVxuICAgICAgZnVuY3Rpb24gKEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMykge1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJkb2VzIG5vdCBzdXBwb3J0IGEgY2FsbGJhY2sgYXJndW1lbnQuIFRvIGV4ZWN1dGUgYSBzaWRlIGVmZmVjdCBhZnRlciByZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gYSBjb21wb25lbnQgYm9keSB3aXRoIHVzZUVmZmVjdCgpLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzID0gdGhpcy5faW50ZXJuYWxSb290O1xuICAgICAgICBpZiAobnVsbCAhPT0gSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzKSB7XG4gICAgICAgICAgdGhpcy5faW50ZXJuYWxSb290ID0gbnVsbDtcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSAhPT0gTm9Db250ZXh0ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkF0dGVtcHRlZCB0byBzeW5jaHJvbm91c2x5IHVubW91bnQgYSByb290IHdoaWxlIFJlYWN0IHdhcyBhbHJlYWR5IHJlbmRlcmluZy4gUmVhY3QgY2Fubm90IGZpbmlzaCB1bm1vdW50aW5nIHRoZSByb290IHVudGlsIHRoZSBjdXJyZW50IHJlbmRlciBoYXMgY29tcGxldGVkLCB3aGljaCBtYXkgbGVhZCB0byBhIHJhY2UgY29uZGl0aW9uLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHVwZGF0ZUNvbnRhaW5lclN5bmMoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsdXNoU3luY1dvcmskMSgpO1xuICAgICAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgUmVhY3RET01IeWRyYXRpb25Sb290LnByb3RvdHlwZS51bnN0YWJsZV9zY2hlZHVsZUh5ZHJhdGlvbiA9IGZ1bmN0aW9uIChcbiAgICAgIHRhcmdldFxuICAgICkge1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB2YXIgdXBkYXRlUHJpb3JpdHkgPSByZXNvbHZlVXBkYXRlUHJpb3JpdHkoKTtcbiAgICAgICAgdGFyZ2V0ID0geyBibG9ja2VkT246IG51bGwsIHRhcmdldDogdGFyZ2V0LCBwcmlvcml0eTogdXBkYXRlUHJpb3JpdHkgfTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgaSA8IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5sZW5ndGggJiZcbiAgICAgICAgICAwICE9PSB1cGRhdGVQcmlvcml0eSAmJlxuICAgICAgICAgIHVwZGF0ZVByaW9yaXR5IDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzW2ldLnByaW9yaXR5O1xuICAgICAgICAgIGkrK1xuICAgICAgICApO1xuICAgICAgICBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMuc3BsaWNlKGksIDAsIHRhcmdldCk7XG4gICAgICAgIDAgPT09IGkgJiYgYXR0ZW1wdEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0KHRhcmdldCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlzb21vcnBoaWNSZWFjdFBhY2thZ2VWZXJzaW9uID0gUmVhY3QudmVyc2lvbjtcbiAgICAgIGlmIChcIjE5LjAuMFwiICE9PSBpc29tb3JwaGljUmVhY3RQYWNrYWdlVmVyc2lvbilcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ0luY29tcGF0aWJsZSBSZWFjdCB2ZXJzaW9uczogVGhlIFwicmVhY3RcIiBhbmQgXCJyZWFjdC1kb21cIiBwYWNrYWdlcyBtdXN0IGhhdmUgdGhlIGV4YWN0IHNhbWUgdmVyc2lvbi4gSW5zdGVhZCBnb3Q6XFxuICAtIHJlYWN0OiAgICAgICcgK1xuICAgICAgICAgICAgKGlzb21vcnBoaWNSZWFjdFBhY2thZ2VWZXJzaW9uICtcbiAgICAgICAgICAgICAgXCJcXG4gIC0gcmVhY3QtZG9tOiAgMTkuMC4wXFxuTGVhcm4gbW9yZTogaHR0cHM6Ly9yZWFjdC5kZXYvd2FybmluZ3MvdmVyc2lvbi1taXNtYXRjaFwiKVxuICAgICAgICApO1xuICAgIH0pKCk7XG4gICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcCAmJlxuICAgICAgbnVsbCAhPSBNYXAucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAucHJvdG90eXBlLmZvckVhY2ggJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldCAmJlxuICAgICAgbnVsbCAhPSBTZXQucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmNsZWFyICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmZvckVhY2gpIHx8XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlJlYWN0IGRlcGVuZHMgb24gTWFwIGFuZCBTZXQgYnVpbHQtaW4gdHlwZXMuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcmVhY3QtcG9seWZpbGxzXCJcbiAgICAgICk7XG4gICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMuZmluZERPTU5vZGUgPSBmdW5jdGlvbiAoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gICAgICB2YXIgZmliZXIgPSBjb21wb25lbnRPckVsZW1lbnQuX3JlYWN0SW50ZXJuYWxzO1xuICAgICAgaWYgKHZvaWQgMCA9PT0gZmliZXIpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgICAgICBjb21wb25lbnRPckVsZW1lbnQgPSBPYmplY3Qua2V5cyhjb21wb25lbnRPckVsZW1lbnQpLmpvaW4oXCIsXCIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkFyZ3VtZW50IGFwcGVhcnMgdG8gbm90IGJlIGEgUmVhY3RDb21wb25lbnQuIEtleXM6IFwiICtcbiAgICAgICAgICAgIGNvbXBvbmVudE9yRWxlbWVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29tcG9uZW50T3JFbGVtZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgoZmliZXIpO1xuICAgICAgY29tcG9uZW50T3JFbGVtZW50ID1cbiAgICAgICAgbnVsbCAhPT0gY29tcG9uZW50T3JFbGVtZW50XG4gICAgICAgICAgPyBmaW5kQ3VycmVudEhvc3RGaWJlckltcGwoY29tcG9uZW50T3JFbGVtZW50KVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIGNvbXBvbmVudE9yRWxlbWVudCA9XG4gICAgICAgIG51bGwgPT09IGNvbXBvbmVudE9yRWxlbWVudCA/IG51bGwgOiBjb21wb25lbnRPckVsZW1lbnQuc3RhdGVOb2RlO1xuICAgICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgICB9O1xuICAgIGlmIChcbiAgICAgICEoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW50ZXJuYWxzID0ge1xuICAgICAgICAgIGJ1bmRsZVR5cGU6IDEsXG4gICAgICAgICAgdmVyc2lvbjogXCIxOS4wLjBcIixcbiAgICAgICAgICByZW5kZXJlclBhY2thZ2VOYW1lOiBcInJlYWN0LWRvbVwiLFxuICAgICAgICAgIGN1cnJlbnREaXNwYXRjaGVyUmVmOiBSZWFjdFNoYXJlZEludGVybmFscyxcbiAgICAgICAgICBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG4gICAgICAgICAgcmVjb25jaWxlclZlcnNpb246IFwiMTkuMC4wXCJcbiAgICAgICAgfTtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlSG9va1N0YXRlID0gb3ZlcnJpZGVIb29rU3RhdGU7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGggPSBvdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGg7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGggPSBvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGg7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZVByb3BzID0gb3ZlcnJpZGVQcm9wcztcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlUHJvcHNEZWxldGVQYXRoID0gb3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGg7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZVByb3BzUmVuYW1lUGF0aCA9IG92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoO1xuICAgICAgICBpbnRlcm5hbHMuc2NoZWR1bGVVcGRhdGUgPSBzY2hlZHVsZVVwZGF0ZTtcbiAgICAgICAgaW50ZXJuYWxzLnNldEVycm9ySGFuZGxlciA9IHNldEVycm9ySGFuZGxlcjtcbiAgICAgICAgaW50ZXJuYWxzLnNldFN1c3BlbnNlSGFuZGxlciA9IHNldFN1c3BlbnNlSGFuZGxlcjtcbiAgICAgICAgaW50ZXJuYWxzLnNjaGVkdWxlUmVmcmVzaCA9IHNjaGVkdWxlUmVmcmVzaDtcbiAgICAgICAgaW50ZXJuYWxzLnNjaGVkdWxlUm9vdCA9IHNjaGVkdWxlUm9vdDtcbiAgICAgICAgaW50ZXJuYWxzLnNldFJlZnJlc2hIYW5kbGVyID0gc2V0UmVmcmVzaEhhbmRsZXI7XG4gICAgICAgIGludGVybmFscy5nZXRDdXJyZW50RmliZXIgPSBnZXRDdXJyZW50RmliZXJGb3JEZXZUb29scztcbiAgICAgICAgaW50ZXJuYWxzLmdldExhbmVMYWJlbE1hcCA9IGdldExhbmVMYWJlbE1hcDtcbiAgICAgICAgaW50ZXJuYWxzLmluamVjdFByb2ZpbGluZ0hvb2tzID0gaW5qZWN0UHJvZmlsaW5nSG9va3M7XG4gICAgICAgIHJldHVybiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKTtcbiAgICAgIH0pKCkgJiZcbiAgICAgIGNhblVzZURPTSAmJlxuICAgICAgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYgJiZcbiAgICAgICgoLTEgPCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikgJiZcbiAgICAgICAgLTEgPT09IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkVkZ2VcIikpIHx8XG4gICAgICAgIC0xIDwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKSlcbiAgICApIHtcbiAgICAgIHZhciBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIC9eKGh0dHBzP3xmaWxlKTokLy50ZXN0KHByb3RvY29sKSAmJlxuICAgICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgICAgXCIlY0Rvd25sb2FkIHRoZSBSZWFjdCBEZXZUb29scyBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1kZXZ0b29sc1wiICtcbiAgICAgICAgICAgIChcImZpbGU6XCIgPT09IHByb3RvY29sXG4gICAgICAgICAgICAgID8gXCJcXG5Zb3UgbWlnaHQgbmVlZCB0byB1c2UgYSBsb2NhbCBIVFRQIHNlcnZlciAoaW5zdGVhZCBvZiBmaWxlOi8vKTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1kZXZ0b29scy1mYXFcIlxuICAgICAgICAgICAgICA6IFwiXCIpLFxuICAgICAgICAgIFwiZm9udC13ZWlnaHQ6Ym9sZFwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGV4cG9ydHMuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuXCIpO1xuICAgICAgd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpO1xuICAgICAgdmFyIGlzU3RyaWN0TW9kZSA9ICExLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gXCJcIixcbiAgICAgICAgb25VbmNhdWdodEVycm9yID0gZGVmYXVsdE9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvciA9IGRlZmF1bHRPbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IgPSBkZWZhdWx0T25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmXG4gICAgICAgIChvcHRpb25zLmh5ZHJhdGVcbiAgICAgICAgICA/IGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJoeWRyYXRlIHRocm91Z2ggY3JlYXRlUm9vdCBpcyBkZXByZWNhdGVkLiBVc2UgUmVhY3RET01DbGllbnQuaHlkcmF0ZVJvb3QoY29udGFpbmVyLCA8QXBwIC8+KSBpbnN0ZWFkLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICAgICAgb3B0aW9ucy4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBwYXNzZWQgYSBKU1ggZWxlbWVudCB0byBjcmVhdGVSb290LiBZb3UgcHJvYmFibHkgbWVhbnQgdG8gY2FsbCByb290LnJlbmRlciBpbnN0ZWFkLiBFeGFtcGxlIHVzYWdlOlxcblxcbiAgbGV0IHJvb3QgPSBjcmVhdGVSb290KGRvbUNvbnRhaW5lcik7XFxuICByb290LnJlbmRlcig8QXBwIC8+KTtcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgITAgPT09IG9wdGlvbnMudW5zdGFibGVfc3RyaWN0TW9kZSAmJiAoaXNTdHJpY3RNb2RlID0gITApLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMuaWRlbnRpZmllclByZWZpeCAmJlxuICAgICAgICAgIChpZGVudGlmaWVyUHJlZml4ID0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4KSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciAmJlxuICAgICAgICAgIChvblVuY2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vbkNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uQ2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yICYmXG4gICAgICAgICAgKG9uUmVjb3ZlcmFibGVFcnJvciA9IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLnVuc3RhYmxlX3RyYW5zaXRpb25DYWxsYmFja3MgJiZcbiAgICAgICAgICAodHJhbnNpdGlvbkNhbGxiYWNrcyA9IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcykpO1xuICAgICAgb3B0aW9ucyA9IGNyZWF0ZUZpYmVyUm9vdChcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAxLFxuICAgICAgICAhMSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgaXNTdHJpY3RNb2RlLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyxcbiAgICAgICAgbnVsbFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSA9IG9wdGlvbnMuY3VycmVudDtcbiAgICAgIGxpc3RlblRvQWxsU3VwcG9ydGVkRXZlbnRzKFxuICAgICAgICA4ID09PSBjb250YWluZXIubm9kZVR5cGUgPyBjb250YWluZXIucGFyZW50Tm9kZSA6IGNvbnRhaW5lclxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgUmVhY3RET01Sb290KG9wdGlvbnMpO1xuICAgIH07XG4gICAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGZ1bmN0aW9uIChjb250YWluZXIsIGluaXRpYWxDaGlsZHJlbiwgb3B0aW9ucykge1xuICAgICAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpXG4gICAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgICB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcik7XG4gICAgICB2b2lkIDAgPT09IGluaXRpYWxDaGlsZHJlbiAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiTXVzdCBwcm92aWRlIGluaXRpYWwgY2hpbGRyZW4gYXMgc2Vjb25kIGFyZ3VtZW50IHRvIGh5ZHJhdGVSb290LiBFeGFtcGxlIHVzYWdlOiBoeWRyYXRlUm9vdChkb21Db250YWluZXIsIDxBcHAgLz4pXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBpc1N0cmljdE1vZGUgPSAhMSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IFwiXCIsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvciA9IGRlZmF1bHRPblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IgPSBkZWZhdWx0T25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yID0gZGVmYXVsdE9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyA9IG51bGwsXG4gICAgICAgIGZvcm1TdGF0ZSA9IG51bGw7XG4gICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICAoITAgPT09IG9wdGlvbnMudW5zdGFibGVfc3RyaWN0TW9kZSAmJiAoaXNTdHJpY3RNb2RlID0gITApLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMuaWRlbnRpZmllclByZWZpeCAmJlxuICAgICAgICAgIChpZGVudGlmaWVyUHJlZml4ID0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4KSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciAmJlxuICAgICAgICAgIChvblVuY2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vbkNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uQ2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yICYmXG4gICAgICAgICAgKG9uUmVjb3ZlcmFibGVFcnJvciA9IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLnVuc3RhYmxlX3RyYW5zaXRpb25DYWxsYmFja3MgJiZcbiAgICAgICAgICAodHJhbnNpdGlvbkNhbGxiYWNrcyA9IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcyksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5mb3JtU3RhdGUgJiYgKGZvcm1TdGF0ZSA9IG9wdGlvbnMuZm9ybVN0YXRlKSk7XG4gICAgICBpbml0aWFsQ2hpbGRyZW4gPSBjcmVhdGVGaWJlclJvb3QoXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgMSxcbiAgICAgICAgITAsXG4gICAgICAgIGluaXRpYWxDaGlsZHJlbixcbiAgICAgICAgbnVsbCAhPSBvcHRpb25zID8gb3B0aW9ucyA6IG51bGwsXG4gICAgICAgIGlzU3RyaWN0TW9kZSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MsXG4gICAgICAgIGZvcm1TdGF0ZVxuICAgICAgKTtcbiAgICAgIGluaXRpYWxDaGlsZHJlbi5jb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUobnVsbCk7XG4gICAgICBvcHRpb25zID0gaW5pdGlhbENoaWxkcmVuLmN1cnJlbnQ7XG4gICAgICBpc1N0cmljdE1vZGUgPSByZXF1ZXN0VXBkYXRlTGFuZShvcHRpb25zKTtcbiAgICAgIGlkZW50aWZpZXJQcmVmaXggPSBjcmVhdGVVcGRhdGUoaXNTdHJpY3RNb2RlKTtcbiAgICAgIGlkZW50aWZpZXJQcmVmaXguY2FsbGJhY2sgPSBudWxsO1xuICAgICAgZW5xdWV1ZVVwZGF0ZShvcHRpb25zLCBpZGVudGlmaWVyUHJlZml4LCBpc1N0cmljdE1vZGUpO1xuICAgICAgaW5pdGlhbENoaWxkcmVuLmN1cnJlbnQubGFuZXMgPSBpc1N0cmljdE1vZGU7XG4gICAgICBtYXJrUm9vdFVwZGF0ZWQkMShpbml0aWFsQ2hpbGRyZW4sIGlzU3RyaWN0TW9kZSk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQoaW5pdGlhbENoaWxkcmVuKTtcbiAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSA9IGluaXRpYWxDaGlsZHJlbi5jdXJyZW50O1xuICAgICAgbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMoY29udGFpbmVyKTtcbiAgICAgIHJldHVybiBuZXcgUmVhY3RET01IeWRyYXRpb25Sb290KGluaXRpYWxDaGlsZHJlbik7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjAuMFwiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20tY2xpZW50LnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwKICAgICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggY29va2llLW5hbWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKiBUaGlzIHJlZmVycyBvdXQgdG8gdGhlIG9ic29sZXRlZCBkZWZpbml0aW9uIG9mIHRva2VuIGluIFJGQyAyNjE2IHNlYyAyLjJcbiAqIHdoaWNoIGhhcyBiZWVuIHJlcGxhY2VkIGJ5IHRoZSB0b2tlbiBkZWZpbml0aW9uIGluIFJGQyA3MjMwIGFwcGVuZGl4IEIuXG4gKlxuICogY29va2llLW5hbWUgICAgICAgPSB0b2tlblxuICogdG9rZW4gICAgICAgICAgICAgPSAxKnRjaGFyXG4gKiB0Y2hhciAgICAgICAgICAgICA9IFwiIVwiIC8gXCIjXCIgLyBcIiRcIiAvIFwiJVwiIC8gXCImXCIgLyBcIidcIiAvXG4gKiAgICAgICAgICAgICAgICAgICAgIFwiKlwiIC8gXCIrXCIgLyBcIi1cIiAvIFwiLlwiIC8gXCJeXCIgLyBcIl9cIiAvXG4gKiAgICAgICAgICAgICAgICAgICAgIFwiYFwiIC8gXCJ8XCIgLyBcIn5cIiAvIERJR0lUIC8gQUxQSEFcbiAqXG4gKiBOb3RlOiBBbGxvd2luZyBtb3JlIGNoYXJhY3RlcnMgLSBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL2Nvb2tpZS9pc3N1ZXMvMTkxXG4gKiBBbGxvdyBzYW1lIHJhbmdlIGFzIGNvb2tpZSB2YWx1ZSwgZXhjZXB0IGA9YCwgd2hpY2ggZGVsaW1pdHMgZW5kIG9mIG5hbWUuXG4gKi9cbmNvbnN0IGNvb2tpZU5hbWVSZWdFeHAgPSAvXltcXHUwMDIxLVxcdTAwM0FcXHUwMDNDXFx1MDAzRS1cXHUwMDdFXSskLztcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGNvb2tpZS12YWx1ZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqXG4gKiBjb29raWUtdmFsdWUgICAgICA9ICpjb29raWUtb2N0ZXQgLyAoIERRVU9URSAqY29va2llLW9jdGV0IERRVU9URSApXG4gKiBjb29raWUtb2N0ZXQgICAgICA9ICV4MjEgLyAleDIzLTJCIC8gJXgyRC0zQSAvICV4M0MtNUIgLyAleDVELTdFXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgVVMtQVNDSUkgY2hhcmFjdGVycyBleGNsdWRpbmcgQ1RMcyxcbiAqICAgICAgICAgICAgICAgICAgICAgOyB3aGl0ZXNwYWNlIERRVU9URSwgY29tbWEsIHNlbWljb2xvbixcbiAqICAgICAgICAgICAgICAgICAgICAgOyBhbmQgYmFja3NsYXNoXG4gKlxuICogQWxsb3dpbmcgbW9yZSBjaGFyYWN0ZXJzOiBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL2Nvb2tpZS9pc3N1ZXMvMTkxXG4gKiBDb21tYSwgYmFja3NsYXNoLCBhbmQgRFFVT1RFIGFyZSBub3QgcGFydCBvZiB0aGUgcGFyc2luZyBhbGdvcml0aG0uXG4gKi9cbmNvbnN0IGNvb2tpZVZhbHVlUmVnRXhwID0gL15bXFx1MDAyMS1cXHUwMDNBXFx1MDAzQy1cXHUwMDdFXSokLztcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGRvbWFpbi12YWx1ZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqXG4gKiBkb21haW4tdmFsdWUgICAgICA9IDxzdWJkb21haW4+XG4gKiAgICAgICAgICAgICAgICAgICAgIDsgZGVmaW5lZCBpbiBbUkZDMTAzNF0sIFNlY3Rpb24gMy41LCBhc1xuICogICAgICAgICAgICAgICAgICAgICA7IGVuaGFuY2VkIGJ5IFtSRkMxMTIzXSwgU2VjdGlvbiAyLjFcbiAqIDxzdWJkb21haW4+ICAgICAgID0gPGxhYmVsPiB8IDxzdWJkb21haW4+IFwiLlwiIDxsYWJlbD5cbiAqIDxsYWJlbD4gICAgICAgICAgID0gPGxldC1kaWc+IFsgWyA8bGRoLXN0cj4gXSA8bGV0LWRpZz4gXVxuICogICAgICAgICAgICAgICAgICAgICBMYWJlbHMgbXVzdCBiZSA2MyBjaGFyYWN0ZXJzIG9yIGxlc3MuXG4gKiAgICAgICAgICAgICAgICAgICAgICdsZXQtZGlnJyBub3QgJ2xldHRlcicgaW4gdGhlIGZpcnN0IGNoYXIsIHBlciBSRkMxMTIzXG4gKiA8bGRoLXN0cj4gICAgICAgICA9IDxsZXQtZGlnLWh5cD4gfCA8bGV0LWRpZy1oeXA+IDxsZGgtc3RyPlxuICogPGxldC1kaWctaHlwPiAgICAgPSA8bGV0LWRpZz4gfCBcIi1cIlxuICogPGxldC1kaWc+ICAgICAgICAgPSA8bGV0dGVyPiB8IDxkaWdpdD5cbiAqIDxsZXR0ZXI+ICAgICAgICAgID0gYW55IG9uZSBvZiB0aGUgNTIgYWxwaGFiZXRpYyBjaGFyYWN0ZXJzIEEgdGhyb3VnaCBaIGluXG4gKiAgICAgICAgICAgICAgICAgICAgIHVwcGVyIGNhc2UgYW5kIGEgdGhyb3VnaCB6IGluIGxvd2VyIGNhc2VcbiAqIDxkaWdpdD4gICAgICAgICAgID0gYW55IG9uZSBvZiB0aGUgdGVuIGRpZ2l0cyAwIHRocm91Z2ggOVxuICpcbiAqIEtlZXAgc3VwcG9ydCBmb3IgbGVhZGluZyBkb3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9qc2h0dHAvY29va2llL2lzc3Vlcy8xNzNcbiAqXG4gKiA+IChOb3RlIHRoYXQgYSBsZWFkaW5nICV4MkUgKFwiLlwiKSwgaWYgcHJlc2VudCwgaXMgaWdub3JlZCBldmVuIHRob3VnaCB0aGF0XG4gKiBjaGFyYWN0ZXIgaXMgbm90IHBlcm1pdHRlZCwgYnV0IGEgdHJhaWxpbmcgJXgyRSAoXCIuXCIpLCBpZiBwcmVzZW50LCB3aWxsXG4gKiBjYXVzZSB0aGUgdXNlciBhZ2VudCB0byBpZ25vcmUgdGhlIGF0dHJpYnV0ZS4pXG4gKi9cbmNvbnN0IGRvbWFpblZhbHVlUmVnRXhwID0gL14oWy5dP1thLXowLTldKFthLXowLTktXXswLDYxfVthLXowLTldKT8pKFsuXVthLXowLTldKFthLXowLTktXXswLDYxfVthLXowLTldKT8pKiQvaTtcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIHBhdGgtdmFsdWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKlxuICogcGF0aC12YWx1ZSAgICAgICAgPSA8YW55IENIQVIgZXhjZXB0IENUTHMgb3IgXCI7XCI+XG4gKiBDSEFSICAgICAgICAgICAgICA9ICV4MDEtN0ZcbiAqICAgICAgICAgICAgICAgICAgICAgOyBkZWZpbmVkIGluIFJGQyA1MjM0IGFwcGVuZGl4IEIuMVxuICovXG5jb25zdCBwYXRoVmFsdWVSZWdFeHAgPSAvXltcXHUwMDIwLVxcdTAwM0FcXHUwMDNELVxcdTAwN0VdKiQvO1xuY29uc3QgX190b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBOdWxsT2JqZWN0ID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gICAgY29uc3QgQyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBDLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcmV0dXJuIEM7XG59KSgpO1xuLyoqXG4gKiBQYXJzZSBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogUGFyc2UgdGhlIGdpdmVuIGNvb2tpZSBoZWFkZXIgc3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKiBUaGUgb2JqZWN0IGhhcyB0aGUgdmFyaW91cyBjb29raWVzIGFzIGtleXMobmFtZXMpID0+IHZhbHVlc1xuICovXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvYmogPSBuZXcgTnVsbE9iamVjdCgpO1xuICAgIGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG4gICAgLy8gUkZDIDYyNjUgc2VjIDQuMS4xLCBSRkMgMjYxNiAyLjIgZGVmaW5lcyBhIGNvb2tpZSBuYW1lIGNvbnNpc3RzIG9mIG9uZSBjaGFyIG1pbmltdW0sIHBsdXMgJz0nLlxuICAgIGlmIChsZW4gPCAyKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIGNvbnN0IGRlYyA9IG9wdGlvbnM/LmRlY29kZSB8fCBkZWNvZGU7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IGVxSWR4ID0gc3RyLmluZGV4T2YoXCI9XCIsIGluZGV4KTtcbiAgICAgICAgaWYgKGVxSWR4ID09PSAtMSlcbiAgICAgICAgICAgIGJyZWFrOyAvLyBObyBtb3JlIGNvb2tpZSBwYWlycy5cbiAgICAgICAgY29uc3QgY29sb25JZHggPSBzdHIuaW5kZXhPZihcIjtcIiwgaW5kZXgpO1xuICAgICAgICBjb25zdCBlbmRJZHggPSBjb2xvbklkeCA9PT0gLTEgPyBsZW4gOiBjb2xvbklkeDtcbiAgICAgICAgaWYgKGVxSWR4ID4gZW5kSWR4KSB7XG4gICAgICAgICAgICAvLyBiYWNrdHJhY2sgb24gcHJpb3Igc2VtaWNvbG9uXG4gICAgICAgICAgICBpbmRleCA9IHN0ci5sYXN0SW5kZXhPZihcIjtcIiwgZXFJZHggLSAxKSArIDE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlTdGFydElkeCA9IHN0YXJ0SW5kZXgoc3RyLCBpbmRleCwgZXFJZHgpO1xuICAgICAgICBjb25zdCBrZXlFbmRJZHggPSBlbmRJbmRleChzdHIsIGVxSWR4LCBrZXlTdGFydElkeCk7XG4gICAgICAgIGNvbnN0IGtleSA9IHN0ci5zbGljZShrZXlTdGFydElkeCwga2V5RW5kSWR4KTtcbiAgICAgICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgICAgICBpZiAob2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHZhbFN0YXJ0SWR4ID0gc3RhcnRJbmRleChzdHIsIGVxSWR4ICsgMSwgZW5kSWR4KTtcbiAgICAgICAgICAgIGxldCB2YWxFbmRJZHggPSBlbmRJbmRleChzdHIsIGVuZElkeCwgdmFsU3RhcnRJZHgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkZWMoc3RyLnNsaWNlKHZhbFN0YXJ0SWR4LCB2YWxFbmRJZHgpKTtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBlbmRJZHggKyAxO1xuICAgIH0gd2hpbGUgKGluZGV4IDwgbGVuKTtcbiAgICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gc3RhcnRJbmRleChzdHIsIGluZGV4LCBtYXgpIHtcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBzdHIuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgIGlmIChjb2RlICE9PSAweDIwIC8qICAgKi8gJiYgY29kZSAhPT0gMHgwOSAvKiBcXHQgKi8pXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSB3aGlsZSAoKytpbmRleCA8IG1heCk7XG4gICAgcmV0dXJuIG1heDtcbn1cbmZ1bmN0aW9uIGVuZEluZGV4KHN0ciwgaW5kZXgsIG1pbikge1xuICAgIHdoaWxlIChpbmRleCA+IG1pbikge1xuICAgICAgICBjb25zdCBjb2RlID0gc3RyLmNoYXJDb2RlQXQoLS1pbmRleCk7XG4gICAgICAgIGlmIChjb2RlICE9PSAweDIwIC8qICAgKi8gJiYgY29kZSAhPT0gMHgwOSAvKiBcXHQgKi8pXG4gICAgICAgICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cbiAgICByZXR1cm4gbWluO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgZGF0YSBpbnRvIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBTZXJpYWxpemUgYSBuYW1lIHZhbHVlIHBhaXIgaW50byBhIGNvb2tpZSBzdHJpbmcgc3VpdGFibGUgZm9yXG4gKiBodHRwIGhlYWRlcnMuIEFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHNwZWNpZmllcyBjb29raWUgcGFyYW1ldGVycy5cbiAqXG4gKiBzZXJpYWxpemUoJ2ZvbycsICdiYXInLCB7IGh0dHBPbmx5OiB0cnVlIH0pXG4gKiAgID0+IFwiZm9vPWJhcjsgaHR0cE9ubHlcIlxuICovXG5mdW5jdGlvbiBzZXJpYWxpemUobmFtZSwgdmFsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZW5jID0gb3B0aW9ucz8uZW5jb2RlIHx8IGVuY29kZVVSSUNvbXBvbmVudDtcbiAgICBpZiAoIWNvb2tpZU5hbWVSZWdFeHAudGVzdChuYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBhcmd1bWVudCBuYW1lIGlzIGludmFsaWQ6ICR7bmFtZX1gKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBlbmModmFsKTtcbiAgICBpZiAoIWNvb2tpZVZhbHVlUmVnRXhwLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGFyZ3VtZW50IHZhbCBpcyBpbnZhbGlkOiAke3ZhbH1gKTtcbiAgICB9XG4gICAgbGV0IHN0ciA9IG5hbWUgKyBcIj1cIiArIHZhbHVlO1xuICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICBpZiAob3B0aW9ucy5tYXhBZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob3B0aW9ucy5tYXhBZ2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gbWF4QWdlIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5tYXhBZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBNYXgtQWdlPVwiICsgb3B0aW9ucy5tYXhBZ2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmRvbWFpbikge1xuICAgICAgICBpZiAoIWRvbWFpblZhbHVlUmVnRXhwLnRlc3Qob3B0aW9ucy5kb21haW4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gZG9tYWluIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5kb21haW59YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBEb21haW49XCIgKyBvcHRpb25zLmRvbWFpbjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGF0aCkge1xuICAgICAgICBpZiAoIXBhdGhWYWx1ZVJlZ0V4cC50ZXN0KG9wdGlvbnMucGF0aCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBwYXRoIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5wYXRofWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgUGF0aD1cIiArIG9wdGlvbnMucGF0aDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZXhwaXJlcykge1xuICAgICAgICBpZiAoIWlzRGF0ZShvcHRpb25zLmV4cGlyZXMpIHx8XG4gICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKG9wdGlvbnMuZXhwaXJlcy52YWx1ZU9mKCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gZXhwaXJlcyBpcyBpbnZhbGlkOiAke29wdGlvbnMuZXhwaXJlc31gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IEV4cGlyZXM9XCIgKyBvcHRpb25zLmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaHR0cE9ubHkpIHtcbiAgICAgICAgc3RyICs9IFwiOyBIdHRwT25seVwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zZWN1cmUpIHtcbiAgICAgICAgc3RyICs9IFwiOyBTZWN1cmVcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGFydGl0aW9uZWQpIHtcbiAgICAgICAgc3RyICs9IFwiOyBQYXJ0aXRpb25lZFwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wcmlvcml0eSkge1xuICAgICAgICBjb25zdCBwcmlvcml0eSA9IHR5cGVvZiBvcHRpb25zLnByaW9yaXR5ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IG9wdGlvbnMucHJpb3JpdHkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN3aXRjaCAocHJpb3JpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsb3dcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PUxvd1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGl1bVwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9TWVkaXVtXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaGlnaFwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9SGlnaFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gcHJpb3JpdHkgaXMgaW52YWxpZDogJHtvcHRpb25zLnByaW9yaXR5fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNhbWVTaXRlKSB7XG4gICAgICAgIGNvbnN0IHNhbWVTaXRlID0gdHlwZW9mIG9wdGlvbnMuc2FtZVNpdGUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgID8gb3B0aW9ucy5zYW1lU2l0ZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICA6IG9wdGlvbnMuc2FtZVNpdGU7XG4gICAgICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpY3RcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPVN0cmljdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxheFwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9TGF4XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9Tm9uZVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZDogJHtvcHRpb25zLnNhbWVTaXRlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFVSTC1kZWNvZGUgc3RyaW5nIHZhbHVlLiBPcHRpbWl6ZWQgdG8gc2tpcCBuYXRpdmUgY2FsbCB3aGVuIG5vICUuXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShzdHIpIHtcbiAgICBpZiAoc3RyLmluZGV4T2YoXCIlXCIpID09PSAtMSlcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdmFsdWUgaXMgYSBEYXRlLlxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gICAgcmV0dXJuIF9fdG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsCiAgICAiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kaXN0YW5jZSA9IGV4cG9ydHMuY2xvc2VzdCA9IHZvaWQgMDtcbnZhciBwZXEgPSBuZXcgVWludDMyQXJyYXkoMHgxMDAwMCk7XG52YXIgbXllcnNfMzIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBuID0gYS5sZW5ndGg7XG4gICAgdmFyIG0gPSBiLmxlbmd0aDtcbiAgICB2YXIgbHN0ID0gMSA8PCAobiAtIDEpO1xuICAgIHZhciBwdiA9IC0xO1xuICAgIHZhciBtdiA9IDA7XG4gICAgdmFyIHNjID0gbjtcbiAgICB2YXIgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBwZXFbYS5jaGFyQ29kZUF0KGkpXSB8PSAxIDw8IGk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgdmFyIGVxID0gcGVxW2IuY2hhckNvZGVBdChpKV07XG4gICAgICAgIHZhciB4diA9IGVxIHwgbXY7XG4gICAgICAgIGVxIHw9ICgoZXEgJiBwdikgKyBwdikgXiBwdjtcbiAgICAgICAgbXYgfD0gfihlcSB8IHB2KTtcbiAgICAgICAgcHYgJj0gZXE7XG4gICAgICAgIGlmIChtdiAmIGxzdCkge1xuICAgICAgICAgICAgc2MrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHYgJiBsc3QpIHtcbiAgICAgICAgICAgIHNjLS07XG4gICAgICAgIH1cbiAgICAgICAgbXYgPSAobXYgPDwgMSkgfCAxO1xuICAgICAgICBwdiA9IChwdiA8PCAxKSB8IH4oeHYgfCBtdik7XG4gICAgICAgIG12ICY9IHh2O1xuICAgIH1cbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHBlcVthLmNoYXJDb2RlQXQoaSldID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHNjO1xufTtcbnZhciBteWVyc194ID0gZnVuY3Rpb24gKGIsIGEpIHtcbiAgICB2YXIgbiA9IGEubGVuZ3RoO1xuICAgIHZhciBtID0gYi5sZW5ndGg7XG4gICAgdmFyIG1oYyA9IFtdO1xuICAgIHZhciBwaGMgPSBbXTtcbiAgICB2YXIgaHNpemUgPSBNYXRoLmNlaWwobiAvIDMyKTtcbiAgICB2YXIgdnNpemUgPSBNYXRoLmNlaWwobSAvIDMyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhzaXplOyBpKyspIHtcbiAgICAgICAgcGhjW2ldID0gLTE7XG4gICAgICAgIG1oY1tpXSA9IDA7XG4gICAgfVxuICAgIHZhciBqID0gMDtcbiAgICBmb3IgKDsgaiA8IHZzaXplIC0gMTsgaisrKSB7XG4gICAgICAgIHZhciBtdl8xID0gMDtcbiAgICAgICAgdmFyIHB2XzEgPSAtMTtcbiAgICAgICAgdmFyIHN0YXJ0XzEgPSBqICogMzI7XG4gICAgICAgIHZhciB2bGVuXzEgPSBNYXRoLm1pbigzMiwgbSkgKyBzdGFydF8xO1xuICAgICAgICBmb3IgKHZhciBrID0gc3RhcnRfMTsgayA8IHZsZW5fMTsgaysrKSB7XG4gICAgICAgICAgICBwZXFbYi5jaGFyQ29kZUF0KGspXSB8PSAxIDw8IGs7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlcSA9IHBlcVthLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICAgICAgdmFyIHBiID0gKHBoY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgICAgICB2YXIgbWIgPSAobWhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgICAgIHZhciB4diA9IGVxIHwgbXZfMTtcbiAgICAgICAgICAgIHZhciB4aCA9ICgoKChlcSB8IG1iKSAmIHB2XzEpICsgcHZfMSkgXiBwdl8xKSB8IGVxIHwgbWI7XG4gICAgICAgICAgICB2YXIgcGggPSBtdl8xIHwgfih4aCB8IHB2XzEpO1xuICAgICAgICAgICAgdmFyIG1oID0gcHZfMSAmIHhoO1xuICAgICAgICAgICAgaWYgKChwaCA+Pj4gMzEpIF4gcGIpIHtcbiAgICAgICAgICAgICAgICBwaGNbKGkgLyAzMikgfCAwXSBePSAxIDw8IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG1oID4+PiAzMSkgXiBtYikge1xuICAgICAgICAgICAgICAgIG1oY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBoID0gKHBoIDw8IDEpIHwgcGI7XG4gICAgICAgICAgICBtaCA9IChtaCA8PCAxKSB8IG1iO1xuICAgICAgICAgICAgcHZfMSA9IG1oIHwgfih4diB8IHBoKTtcbiAgICAgICAgICAgIG12XzEgPSBwaCAmIHh2O1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGsgPSBzdGFydF8xOyBrIDwgdmxlbl8xOyBrKyspIHtcbiAgICAgICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgbXYgPSAwO1xuICAgIHZhciBwdiA9IC0xO1xuICAgIHZhciBzdGFydCA9IGogKiAzMjtcbiAgICB2YXIgdmxlbiA9IE1hdGgubWluKDMyLCBtIC0gc3RhcnQpICsgc3RhcnQ7XG4gICAgZm9yICh2YXIgayA9IHN0YXJ0OyBrIDwgdmxlbjsgaysrKSB7XG4gICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldIHw9IDEgPDwgaztcbiAgICB9XG4gICAgdmFyIHNjb3JlID0gbTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgZXEgPSBwZXFbYS5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgdmFyIHBiID0gKHBoY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgIHZhciBtYiA9IChtaGNbKGkgLyAzMikgfCAwXSA+Pj4gaSkgJiAxO1xuICAgICAgICB2YXIgeHYgPSBlcSB8IG12O1xuICAgICAgICB2YXIgeGggPSAoKCgoZXEgfCBtYikgJiBwdikgKyBwdikgXiBwdikgfCBlcSB8IG1iO1xuICAgICAgICB2YXIgcGggPSBtdiB8IH4oeGggfCBwdik7XG4gICAgICAgIHZhciBtaCA9IHB2ICYgeGg7XG4gICAgICAgIHNjb3JlICs9IChwaCA+Pj4gKG0gLSAxKSkgJiAxO1xuICAgICAgICBzY29yZSAtPSAobWggPj4+IChtIC0gMSkpICYgMTtcbiAgICAgICAgaWYgKChwaCA+Pj4gMzEpIF4gcGIpIHtcbiAgICAgICAgICAgIHBoY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG1oID4+PiAzMSkgXiBtYikge1xuICAgICAgICAgICAgbWhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICB9XG4gICAgICAgIHBoID0gKHBoIDw8IDEpIHwgcGI7XG4gICAgICAgIG1oID0gKG1oIDw8IDEpIHwgbWI7XG4gICAgICAgIHB2ID0gbWggfCB+KHh2IHwgcGgpO1xuICAgICAgICBtdiA9IHBoICYgeHY7XG4gICAgfVxuICAgIGZvciAodmFyIGsgPSBzdGFydDsgayA8IHZsZW47IGsrKykge1xuICAgICAgICBwZXFbYi5jaGFyQ29kZUF0KGspXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzY29yZTtcbn07XG52YXIgZGlzdGFuY2UgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0bXAgPSBiO1xuICAgICAgICBiID0gYTtcbiAgICAgICAgYSA9IHRtcDtcbiAgICB9XG4gICAgaWYgKGIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoIDw9IDMyKSB7XG4gICAgICAgIHJldHVybiBteWVyc18zMihhLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIG15ZXJzX3goYSwgYik7XG59O1xuZXhwb3J0cy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xudmFyIGNsb3Nlc3QgPSBmdW5jdGlvbiAoc3RyLCBhcnIpIHtcbiAgICB2YXIgbWluX2Rpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgdmFyIG1pbl9pbmRleCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRpc3QgPSBkaXN0YW5jZShzdHIsIGFycltpXSk7XG4gICAgICAgIGlmIChkaXN0IDwgbWluX2Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBtaW5fZGlzdGFuY2UgPSBkaXN0O1xuICAgICAgICAgICAgbWluX2luZGV4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyW21pbl9pbmRleF07XG59O1xuZXhwb3J0cy5jbG9zZXN0ID0gY2xvc2VzdDtcbiIsCiAgICAiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG4gIFxuICB2YXIgY29sbGF0b3I7XG4gIHRyeSB7XG4gICAgY29sbGF0b3IgPSAodHlwZW9mIEludGwgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIEludGwuQ29sbGF0b3IgIT09IFwidW5kZWZpbmVkXCIpID8gSW50bC5Db2xsYXRvcihcImdlbmVyaWNcIiwgeyBzZW5zaXRpdml0eTogXCJiYXNlXCIgfSkgOiBudWxsO1xuICB9IGNhdGNoIChlcnIpe1xuICAgIGNvbnNvbGUubG9nKFwiQ29sbGF0b3IgY291bGQgbm90IGJlIGluaXRpYWxpemVkIGFuZCB3b3VsZG4ndCBiZSB1c2VkXCIpO1xuICB9XG5cbiAgdmFyIGxldmVuc2h0ZWluID0gcmVxdWlyZSgnZmFzdGVzdC1sZXZlbnNodGVpbicpO1xuXG4gIC8vIGFycmF5cyB0byByZS11c2VcbiAgdmFyIHByZXZSb3cgPSBbXSxcbiAgICBzdHIyQ2hhciA9IFtdO1xuICBcbiAgLyoqXG4gICAqIEJhc2VkIG9uIHRoZSBhbGdvcml0aG0gYXQgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXZlbnNodGVpbl9kaXN0YW5jZS5cbiAgICovXG4gIHZhciBMZXZlbnNodGVpbiA9IHtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGV2ZW5zaHRlaW4gZGlzdGFuY2Ugb2YgdGhlIHR3byBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0cjEgU3RyaW5nIHRoZSBmaXJzdCBzdHJpbmcuXG4gICAgICogQHBhcmFtIHN0cjIgU3RyaW5nIHRoZSBzZWNvbmQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gQWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBbb3B0aW9ucy51c2VDb2xsYXRvcl0gVXNlIGBJbnRsLkNvbGxhdG9yYCBmb3IgbG9jYWxlLXNlbnNpdGl2ZSBzdHJpbmcgY29tcGFyaXNvbi5cbiAgICAgKiBAcmV0dXJuIEludGVnZXIgdGhlIGxldmVuc2h0ZWluIGRpc3RhbmNlICgwIGFuZCBhYm92ZSkuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihzdHIxLCBzdHIyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgdXNlQ29sbGF0b3IgPSAob3B0aW9ucyAmJiBjb2xsYXRvciAmJiBvcHRpb25zLnVzZUNvbGxhdG9yKTtcbiAgICAgIFxuICAgICAgaWYgKHVzZUNvbGxhdG9yKSB7XG4gICAgICAgIHZhciBzdHIxTGVuID0gc3RyMS5sZW5ndGgsXG4gICAgICAgICAgc3RyMkxlbiA9IHN0cjIubGVuZ3RoO1xuICAgICAgICBcbiAgICAgICAgLy8gYmFzZSBjYXNlc1xuICAgICAgICBpZiAoc3RyMUxlbiA9PT0gMCkgcmV0dXJuIHN0cjJMZW47XG4gICAgICAgIGlmIChzdHIyTGVuID09PSAwKSByZXR1cm4gc3RyMUxlbjtcblxuICAgICAgICAvLyB0d28gcm93c1xuICAgICAgICB2YXIgY3VyQ29sLCBuZXh0Q29sLCBpLCBqLCB0bXA7XG5cbiAgICAgICAgLy8gaW5pdGlhbGlzZSBwcmV2aW91cyByb3dcbiAgICAgICAgZm9yIChpPTA7IGk8c3RyMkxlbjsgKytpKSB7XG4gICAgICAgICAgcHJldlJvd1tpXSA9IGk7XG4gICAgICAgICAgc3RyMkNoYXJbaV0gPSBzdHIyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldlJvd1tzdHIyTGVuXSA9IHN0cjJMZW47XG5cbiAgICAgICAgdmFyIHN0ckNtcDtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGN1cnJlbnQgcm93IGRpc3RhbmNlIGZyb20gcHJldmlvdXMgcm93IHVzaW5nIGNvbGxhdG9yXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIxTGVuOyArK2kpIHtcbiAgICAgICAgICBuZXh0Q29sID0gaSArIDE7XG5cbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RyMkxlbjsgKytqKSB7XG4gICAgICAgICAgICBjdXJDb2wgPSBuZXh0Q29sO1xuXG4gICAgICAgICAgICAvLyBzdWJzdHV0aW9uXG4gICAgICAgICAgICBzdHJDbXAgPSAwID09PSBjb2xsYXRvci5jb21wYXJlKHN0cjEuY2hhckF0KGkpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKHN0cjJDaGFyW2pdKSk7XG5cbiAgICAgICAgICAgIG5leHRDb2wgPSBwcmV2Um93W2pdICsgKHN0ckNtcCA/IDAgOiAxKTtcblxuICAgICAgICAgICAgLy8gaW5zZXJ0aW9uXG4gICAgICAgICAgICB0bXAgPSBjdXJDb2wgKyAxO1xuICAgICAgICAgICAgaWYgKG5leHRDb2wgPiB0bXApIHtcbiAgICAgICAgICAgICAgbmV4dENvbCA9IHRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlbGV0aW9uXG4gICAgICAgICAgICB0bXAgPSBwcmV2Um93W2ogKyAxXSArIDE7XG4gICAgICAgICAgICBpZiAobmV4dENvbCA+IHRtcCkge1xuICAgICAgICAgICAgICBuZXh0Q29sID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb3B5IGN1cnJlbnQgY29sIHZhbHVlIGludG8gcHJldmlvdXMgKGluIHByZXBhcmF0aW9uIGZvciBuZXh0IGl0ZXJhdGlvbilcbiAgICAgICAgICAgIHByZXZSb3dbal0gPSBjdXJDb2w7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY29weSBsYXN0IGNvbCB2YWx1ZSBpbnRvIHByZXZpb3VzIChpbiBwcmVwYXJhdGlvbiBmb3IgbmV4dCBpdGVyYXRpb24pXG4gICAgICAgICAgcHJldlJvd1tqXSA9IG5leHRDb2w7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRDb2w7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGV2ZW5zaHRlaW4uZGlzdGFuY2Uoc3RyMSwgc3RyMik7XG4gICAgfVxuXG4gIH07XG5cbiAgLy8gYW1kXG4gIGlmICh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIExldmVuc2h0ZWluO1xuICAgIH0pO1xuICB9XG4gIC8vIGNvbW1vbmpzXG4gIGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsICYmIHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzID09PSBleHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBMZXZlbnNodGVpbjtcbiAgfVxuICAvLyB3ZWIgd29ya2VyXG4gIGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBzZWxmLnBvc3RNZXNzYWdlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBzZWxmLkxldmVuc2h0ZWluID0gTGV2ZW5zaHRlaW47XG4gIH1cbiAgLy8gYnJvd3NlciBtYWluIHRocmVhZFxuICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdyAhPT0gbnVsbCkge1xuICAgIHdpbmRvdy5MZXZlbnNodGVpbiA9IExldmVuc2h0ZWluO1xuICB9XG59KCkpO1xuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDJcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBjb25zb2xlO1xuICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmVycm9yO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwID1cbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgIFwiT2JqZWN0XCI7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdC5jYWxsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCxcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG4gICAgZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNhYmxlZERlcHRoKys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAgICAgIGRpc2FibGVkRGVwdGgtLTtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHsgY29uZmlndXJhYmxlOiAhMCwgZW51bWVyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2TG9nIH0pLFxuICAgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZJbmZvIH0pLFxuICAgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZXYXJuIH0pLFxuICAgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2RXJyb3IgfSksXG4gICAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cCB9KSxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkIH0pLFxuICAgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBFbmQgfSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAwID4gZGlzYWJsZWREZXB0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHByZWZpeClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICBwcmVmaXggPSAobWF0Y2ggJiYgbWF0Y2hbMV0pIHx8IFwiXCI7XG4gICAgICAgICAgc3VmZml4ID1cbiAgICAgICAgICAgIC0xIDwgeC5zdGFjay5pbmRleE9mKFwiXFxuICAgIGF0XCIpXG4gICAgICAgICAgICAgID8gXCIgKDxhbm9ueW1vdXM+KVwiXG4gICAgICAgICAgICAgIDogLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJAXCIpXG4gICAgICAgICAgICAgICAgPyBcIkB1bmtub3duOjA6MFwiXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcXG5cIiArIHByZWZpeCArIG5hbWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAgICAgaWYgKCFmbiB8fCByZWVudHJ5KSByZXR1cm4gXCJcIjtcbiAgICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGZyYW1lKSByZXR1cm4gZnJhbWU7XG4gICAgICByZWVudHJ5ID0gITA7XG4gICAgICBmcmFtZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gbnVsbDtcbiAgICAgIGRpc2FibGVMb2dzKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgICAgICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCBcInByb3BzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sID0geCQwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKEZha2UgPSBmbigpKSAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgRmFrZS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgRmFrZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNhbXBsZS5zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NhbXBsZS5zdGFjaywgY29udHJvbC5zdGFja107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LmRpc3BsYXlOYW1lID1cbiAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiO1xuICAgICAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgXCJuYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICAgIFwibmFtZVwiLFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIiB9XG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIF9SdW5JblJvb3RGcmFtZSREZXRlciA9XG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgICBzYW1wbGVTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclswXSxcbiAgICAgICAgICBjb250cm9sU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMV07XG4gICAgICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGVTdGFjay5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2xTdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gbmFtZVByb3BEZXNjcmlwdG9yID0gMDtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIXNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IrKztcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyIDwgY29udHJvbExpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIWNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyKys7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID09PSBzYW1wbGVMaW5lcy5sZW5ndGggfHxcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9PT0gY29udHJvbExpbmVzLmxlbmd0aFxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyICYmXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl07XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS07XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLS0sIF9SdW5JblJvb3RGcmFtZSREZXRlci0tXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgxICE9PSBuYW1lUHJvcERlc2NyaXB0b3IgfHwgMSAhPT0gX1J1bkluUm9vdEZyYW1lJERldGVyKSB7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKG5hbWVQcm9wRGVzY3JpcHRvci0tLFxuICAgICAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLSxcbiAgICAgICAgICAgICAgICAgICAgMCA+IF9SdW5JblJvb3RGcmFtZSREZXRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBuZXcgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZuLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLCBmbi5kaXNwbGF5TmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlICgxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChyZWVudHJ5ID0gITEpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldmlvdXNEaXNwYXRjaGVyKSxcbiAgICAgICAgICByZWVuYWJsZUxvZ3MoKSxcbiAgICAgICAgICAoRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmcmFtZSk7XG4gICAgICB9XG4gICAgICBzYW1wbGVMaW5lcyA9IChzYW1wbGVMaW5lcyA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6IFwiXCIpXG4gICAgICAgID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoc2FtcGxlTGluZXMpXG4gICAgICAgIDogXCJcIjtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzYW1wbGVMaW5lcyk7XG4gICAgICByZXR1cm4gc2FtcGxlTGluZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKSB7XG4gICAgICAgIHZhciBwcm90b3R5cGUgPSB0eXBlLnByb3RvdHlwZTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICAhKCFwcm90b3R5cGUgfHwgIXByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlXCIpO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZSA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIsICExKSksIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUudHlwZSk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBwcm90b3R5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUocHJvdG90eXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgICAgIHNlbGYgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gc2VsZiA/IHNlbGYgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxIHx8XG4gICAgICAgICAgICB2b2lkIDAgIT09IHR5cGUuZ2V0TW9kdWxlSWQpKVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gY2hpbGRyZW4pXG4gICAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pXG4gICAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9IDA7XG4gICAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuKytcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dLCB0eXBlKTtcbiAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiBVc2UgdGhlIEJhYmVsIHRyYW5zZm9ybSBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbiwgdHlwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IFwiXCI7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB2b2lkIDAgPT09IHR5cGUgfHxcbiAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAgIDAgPT09IE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aClcbiAgICAgICAgKVxuICAgICAgICAgIGNoaWxkcmVuICs9XG4gICAgICAgICAgICBcIiBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSBpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG4gICAgICAgIG51bGwgPT09IHR5cGVcbiAgICAgICAgICA/IChpc1N0YXRpY0NoaWxkcmVuID0gXCJudWxsXCIpXG4gICAgICAgICAgOiBpc0FycmF5SW1wbCh0eXBlKVxuICAgICAgICAgICAgPyAoaXNTdGF0aWNDaGlsZHJlbiA9IFwiYXJyYXlcIilcbiAgICAgICAgICAgIDogdm9pZCAwICE9PSB0eXBlICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgICAgICAgICA/ICgoaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgICAgICAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJVbmtub3duXCIpICtcbiAgICAgICAgICAgICAgICAgIFwiIC8+XCIpLFxuICAgICAgICAgICAgICAgIChjaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgICBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSlcbiAgICAgICAgICAgICAgOiAoaXNTdGF0aWNDaGlsZHJlbiA9IHR5cGVvZiB0eXBlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lc1wiLFxuICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlcIiAhPT0gaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPVxuICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aFxuICAgICAgICAgICAgPyBcIntrZXk6IHNvbWVLZXksIFwiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCJcbiAgICAgICAgICAgIDogXCJ7a2V5OiBzb21lS2V5fVwiO1xuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSB8fFxuICAgICAgICAgICgoa2V5cyA9XG4gICAgICAgICAgICAwIDwga2V5cy5sZW5ndGggPyBcIntcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiIDogXCJ7fVwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0EgcHJvcHMgb2JqZWN0IGNvbnRhaW5pbmcgYSBcImtleVwiIHByb3AgaXMgYmVpbmcgc3ByZWFkIGludG8gSlNYOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMgey4uLnByb3BzfSAvPlxcblJlYWN0IGtleXMgbXVzdCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gSlNYIHdpdGhvdXQgdXNpbmcgc3ByZWFkOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JyxcbiAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dID0gITApKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZvaWQgMCAhPT0gbWF5YmVLZXkgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgbWF5YmVLZXkpKTtcbiAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICBpZiAoXCJrZXlcIiBpbiBjb25maWcpIHtcbiAgICAgICAgbWF5YmVLZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmIChtYXliZUtleVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIH0gZWxzZSBtYXliZUtleSA9IGNvbmZpZztcbiAgICAgIGNoaWxkcmVuICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIG1heWJlS2V5LFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBjaGlsZHJlbiwgc2VsZiwgc291cmNlLCBnZXRPd25lcigpLCBtYXliZUtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5vZGUgJiZcbiAgICAgICAgbm9kZSAmJlxuICAgICAgICBub2RlLiQkdHlwZW9mICE9PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICApXG4gICAgICAgIGlmIChpc0FycmF5SW1wbChub2RlKSlcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSlcbiAgICAgICAgICBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIChudWxsID09PSBub2RlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBub2RlXG4gICAgICAgICAgICA/IChpID0gbnVsbClcbiAgICAgICAgICAgIDogKChpID1cbiAgICAgICAgICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG5vZGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgICAgICAgICBub2RlW1wiQEBpdGVyYXRvclwiXSksXG4gICAgICAgICAgICAgIChpID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSA/IGkgOiBudWxsKSksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSAmJlxuICAgICAgICAgICAgaSAhPT0gbm9kZS5lbnRyaWVzICYmXG4gICAgICAgICAgICAoKGkgPSBpLmNhbGwobm9kZSkpLCBpICE9PSBub2RlKSlcbiAgICAgICAgKVxuICAgICAgICAgIGZvciAoOyAhKG5vZGUgPSBpLm5leHQoKSkuZG9uZTsgKVxuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShub2RlLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgICFlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgbnVsbCA9PSBlbGVtZW50LmtleSAmJlxuICAgICAgICAoKGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IDEpLFxuICAgICAgICAocGFyZW50VHlwZSA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkpLFxuICAgICAgICAhb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdKVxuICAgICAgKSB7XG4gICAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSA9ICEwO1xuICAgICAgICB2YXIgY2hpbGRPd25lciA9IFwiXCI7XG4gICAgICAgIGVsZW1lbnQgJiZcbiAgICAgICAgICBudWxsICE9IGVsZW1lbnQuX293bmVyICYmXG4gICAgICAgICAgZWxlbWVudC5fb3duZXIgIT09IGdldE93bmVyKCkgJiZcbiAgICAgICAgICAoKGNoaWxkT3duZXIgPSBudWxsKSxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIudGFnXG4gICAgICAgICAgICA/IChjaGlsZE93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpKVxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIubmFtZSAmJlxuICAgICAgICAgICAgICAoY2hpbGRPd25lciA9IGVsZW1lbnQuX293bmVyLm5hbWUpLFxuICAgICAgICAgIChjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBjaGlsZE93bmVyICsgXCIuXCIpKTtcbiAgICAgICAgdmFyIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2s7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlKTtcbiAgICAgICAgICBwcmV2R2V0Q3VycmVudFN0YWNrICYmIChzdGFjayArPSBwcmV2R2V0Q3VycmVudFN0YWNrKCkgfHwgXCJcIik7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyxcbiAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgIGNoaWxkT3duZXJcbiAgICAgICAgKTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9IFwiXCIsXG4gICAgICAgIG93bmVyID0gZ2V0T3duZXIoKTtcbiAgICAgIG93bmVyICYmXG4gICAgICAgIChvd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShvd25lci50eXBlKSkgJiZcbiAgICAgICAgKGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyICsgXCJgLlwiKTtcbiAgICAgIGluZm8gfHxcbiAgICAgICAgKChwYXJlbnRUeXBlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpKSAmJlxuICAgICAgICAgIChpbmZvID1cbiAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnRUeXBlICsgXCI+LlwiKSk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTtcbiAgICB2YXIgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgZGlzYWJsZWREZXB0aCA9IDAsXG4gICAgICBwcmV2TG9nLFxuICAgICAgcHJldkluZm8sXG4gICAgICBwcmV2V2FybixcbiAgICAgIHByZXZFcnJvcixcbiAgICAgIHByZXZHcm91cCxcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCxcbiAgICAgIHByZXZHcm91cEVuZDtcbiAgICBkaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSAhMDtcbiAgICB2YXIgcHJlZml4LFxuICAgICAgc3VmZml4LFxuICAgICAgcmVlbnRyeSA9ICExO1xuICAgIHZhciBjb21wb25lbnRGcmFtZUNhY2hlID0gbmV3IChcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwXG4gICAgKSgpO1xuICAgIHZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fSxcbiAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuanN4REVWID0gZnVuY3Rpb24gKFxuICAgICAgdHlwZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1heWJlS2V5LFxuICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGZcbiAgICApIHtcbiAgICAgIHJldHVybiBqc3hERVZJbXBsKHR5cGUsIGNvbmZpZywgbWF5YmVLZXksIGlzU3RhdGljQ2hpbGRyZW4sIHNvdXJjZSwgc2VsZik7XG4gICAgfTtcbiAgfSkoKTtcbiIsCiAgICAiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IExPR08gZnJvbSBcIi4vaW1nL2xvZ28ucG5nXCI7IGV4cG9ydCB7IExPR08gfTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTiBmcm9tIFwiLi9pbWcvYmlnX3N0YXJfYW5kX3NtYWxsZXJfc3Rhcl9pY29uLnBuZ1wiOyBleHBvcnQgeyBCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT04gfTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IFNFQVJDSF9CQVJfSUNPTiBmcm9tIFwiLi9pbWcvc2VhcmNoX2ljb24ucG5nXCI7IGV4cG9ydCB7IFNFQVJDSF9CQVJfSUNPTiB9O1xuXG5leHBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgRGlzcGF0Y2gsXG4gICAgdHlwZSBTZXRTdGF0ZUFjdGlvbixcbiAgICB0eXBlIENTU1Byb3BlcnRpZXMsXG4gICAgdXNlRWZmZWN0LFxuICAgIHVzZVN0YXRlXG59IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQge1xuICAgIGNyZWF0ZVJvb3QgYXMgUm9vdFxufSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuXG5leHBvcnQge1xuICAgIEJyb3dzZXJSb3V0ZXIsXG4gICAgUm91dGVzLFxuICAgIFJvdXRlLFxuICAgIExpbmssXG4gICAgdHlwZSBMaW5rUHJvcHNcbn0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuZXhwb3J0IHtcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcbiAgICB1c2VTcHJpbmcsXG4gICAgdXNlU3ByaW5ncyxcbiAgICBhbmltYXRlZFxufSBmcm9tIFwicmVhY3Qtc3ByaW5nXCI7XG5cbmV4cG9ydCB7XG4gICAgZ2V0IGFzIHNvcnQgXG59IGZyb20gXCJmYXN0LWxldmVuc2h0ZWluXCI7XG5cbmV4cG9ydCAqIGZyb20gXCJAY29tbW9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvYW5pbWF0aW9uL2ltYWdlX2Nhcm91c2VsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvY29uc3RhbnQvY29sb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9mb250XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvY29uc3RhbnQvc2hhZG93XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2Zvcm0vZm9ybV9pbnB1dFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2Zvcm0vZm9ybV9tZXNzYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbGF5b3V0L3BhZ2Vfd2l0aF8zX3ZlcnRpY2FsX3NlY3Rpb25zXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbGF5b3V0L3BhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2J1dHRvbl9ncm91cFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9jYWxsX3RvX2FjdGlvbl9idXR0b25faWNvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfY2FsbF90b19hY3Rpb25fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9sb2dvXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9tYXRlcmlhbHNfZHJvcF9kb3duX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfcGFydGlhbF9idWlsZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2VhcmNoX2Jhcl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zZWFyY2hfYmFyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduX2luX2Zvcm1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NpZ25fdXBfZm9ybVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2lnbmVyX2Ryb3BfZG93bl9idXR0b25fcGFydGlhbF9idWlsZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2lnbmVyX2Ryb3BfZG93bl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3N1Z2dlc3Rpb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvcGFnZS9ob21lX3BhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9zcHJpdGUvc3ByaXRlX2ljb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9zcHJpdGUvc3ByaXRlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfYm9keVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2NhcHRpb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9oZWFkaW5nXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfaXRlbVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX3Jvd1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX3N5bWJvbF9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV93cmFwcGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdHlwb2dyYXBoeS90eXBvZ3JhcGh5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdXRpbC9yZW5kZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC91dGlsX3R5cGUvc3RhdGVcIjsiLAogICAgIi8qKlxuICogcmVhY3Qtcm91dGVyIHY3LjMuMFxuICpcbiAqIENvcHlyaWdodCAoYykgUmVtaXggU29mdHdhcmUgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRS5tZCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBsaWNlbnNlIE1JVFxuICovXG52YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcblxuLy8gbGliL3JvdXRlci9oaXN0b3J5LnRzXG52YXIgQWN0aW9uID0gLyogQF9fUFVSRV9fICovICgoQWN0aW9uMikgPT4ge1xuICBBY3Rpb24yW1wiUG9wXCJdID0gXCJQT1BcIjtcbiAgQWN0aW9uMltcIlB1c2hcIl0gPSBcIlBVU0hcIjtcbiAgQWN0aW9uMltcIlJlcGxhY2VcIl0gPSBcIlJFUExBQ0VcIjtcbiAgcmV0dXJuIEFjdGlvbjI7XG59KShBY3Rpb24gfHwge30pO1xudmFyIFBvcFN0YXRlRXZlbnRUeXBlID0gXCJwb3BzdGF0ZVwiO1xuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShvcHRpb25zID0ge30pIHtcbiAgbGV0IHsgaW5pdGlhbEVudHJpZXMgPSBbXCIvXCJdLCBpbml0aWFsSW5kZXgsIHY1Q29tcGF0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGxldCBlbnRyaWVzO1xuICBlbnRyaWVzID0gaW5pdGlhbEVudHJpZXMubWFwKFxuICAgIChlbnRyeSwgaW5kZXgyKSA9PiBjcmVhdGVNZW1vcnlMb2NhdGlvbihcbiAgICAgIGVudHJ5LFxuICAgICAgdHlwZW9mIGVudHJ5ID09PSBcInN0cmluZ1wiID8gbnVsbCA6IGVudHJ5LnN0YXRlLFxuICAgICAgaW5kZXgyID09PSAwID8gXCJkZWZhdWx0XCIgOiB2b2lkIDBcbiAgICApXG4gICk7XG4gIGxldCBpbmRleCA9IGNsYW1wSW5kZXgoXG4gICAgaW5pdGlhbEluZGV4ID09IG51bGwgPyBlbnRyaWVzLmxlbmd0aCAtIDEgOiBpbml0aWFsSW5kZXhcbiAgKTtcbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbGlzdGVuZXIgPSBudWxsO1xuICBmdW5jdGlvbiBjbGFtcEluZGV4KG4pIHtcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgMCksIGVudHJpZXMubGVuZ3RoIC0gMSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKCkge1xuICAgIHJldHVybiBlbnRyaWVzW2luZGV4XTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUgPSBudWxsLCBrZXkpIHtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcbiAgICAgIGVudHJpZXMgPyBnZXRDdXJyZW50TG9jYXRpb24oKS5wYXRobmFtZSA6IFwiL1wiLFxuICAgICAgdG8sXG4gICAgICBzdGF0ZSxcbiAgICAgIGtleVxuICAgICk7XG4gICAgd2FybmluZyhcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gXCIvXCIsXG4gICAgICBgcmVsYXRpdmUgcGF0aG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIG1lbW9yeSBoaXN0b3J5OiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICB0b1xuICAgICAgKX1gXG4gICAgKTtcbiAgICByZXR1cm4gbG9jYXRpb247XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZjIodG8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IHtcbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSxcbiAgICBnZXQgYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9LFxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRDdXJyZW50TG9jYXRpb24oKTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYyLFxuICAgIGNyZWF0ZVVSTCh0bykge1xuICAgICAgcmV0dXJuIG5ldyBVUkwoY3JlYXRlSHJlZjIodG8pLCBcImh0dHA6Ly9sb2NhbGhvc3RcIik7XG4gICAgfSxcbiAgICBlbmNvZGVMb2NhdGlvbih0bykge1xuICAgICAgbGV0IHBhdGggPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG87XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRobmFtZTogcGF0aC5wYXRobmFtZSB8fCBcIlwiLFxuICAgICAgICBzZWFyY2g6IHBhdGguc2VhcmNoIHx8IFwiXCIsXG4gICAgICAgIGhhc2g6IHBhdGguaGFzaCB8fCBcIlwiXG4gICAgICB9O1xuICAgIH0sXG4gICAgcHVzaCh0bywgc3RhdGUpIHtcbiAgICAgIGFjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgIGluZGV4ICs9IDE7XG4gICAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgZW50cmllcy5sZW5ndGgsIG5leHRMb2NhdGlvbik7XG4gICAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhOiAxIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVwbGFjZSh0bywgc3RhdGUpIHtcbiAgICAgIGFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgIGVudHJpZXNbaW5kZXhdID0gbmV4dExvY2F0aW9uO1xuICAgICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YTogMCB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdvKGRlbHRhKSB7XG4gICAgICBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICAgIGxldCBuZXh0SW5kZXggPSBjbGFtcEluZGV4KGluZGV4ICsgZGVsdGEpO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGVudHJpZXNbbmV4dEluZGV4XTtcbiAgICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Rlbihmbikge1xuICAgICAgbGlzdGVuZXIgPSBmbjtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VyTG9jYXRpb24od2luZG93MiwgZ2xvYmFsSGlzdG9yeSkge1xuICAgIGxldCB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSA9IHdpbmRvdzIubG9jYXRpb247XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgXCJcIixcbiAgICAgIHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9LFxuICAgICAgLy8gc3RhdGUgZGVmYXVsdHMgdG8gYG51bGxgIGJlY2F1c2UgYHdpbmRvdy5oaXN0b3J5LnN0YXRlYCBkb2VzXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUudXNyIHx8IG51bGwsXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUua2V5IHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VySHJlZih3aW5kb3cyLCB0bykge1xuICAgIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICB9XG4gIHJldHVybiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gICAgY3JlYXRlQnJvd3NlckxvY2F0aW9uLFxuICAgIGNyZWF0ZUJyb3dzZXJIcmVmLFxuICAgIG51bGwsXG4gICAgb3B0aW9uc1xuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3Rvcnkob3B0aW9ucyA9IHt9KSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUhhc2hMb2NhdGlvbih3aW5kb3cyLCBnbG9iYWxIaXN0b3J5KSB7XG4gICAgbGV0IHtcbiAgICAgIHBhdGhuYW1lID0gXCIvXCIsXG4gICAgICBzZWFyY2ggPSBcIlwiLFxuICAgICAgaGFzaCA9IFwiXCJcbiAgICB9ID0gcGFyc2VQYXRoKHdpbmRvdzIubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpO1xuICAgIGlmICghcGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICBwYXRobmFtZSA9IFwiL1wiICsgcGF0aG5hbWU7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihcbiAgICAgIFwiXCIsXG4gICAgICB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICAgIC8vIHN0YXRlIGRlZmF1bHRzIHRvIGBudWxsYCBiZWNhdXNlIGB3aW5kb3cuaGlzdG9yeS5zdGF0ZWAgZG9lc1xuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLnVzciB8fCBudWxsLFxuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLmtleSB8fCBcImRlZmF1bHRcIlxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSGFzaEhyZWYod2luZG93MiwgdG8pIHtcbiAgICBsZXQgYmFzZSA9IHdpbmRvdzIuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJhc2VcIik7XG4gICAgbGV0IGhyZWYyID0gXCJcIjtcbiAgICBpZiAoYmFzZSAmJiBiYXNlLmdldEF0dHJpYnV0ZShcImhyZWZcIikpIHtcbiAgICAgIGxldCB1cmwgPSB3aW5kb3cyLmxvY2F0aW9uLmhyZWY7XG4gICAgICBsZXQgaGFzaEluZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuICAgICAgaHJlZjIgPSBoYXNoSW5kZXggPT09IC0xID8gdXJsIDogdXJsLnNsaWNlKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBocmVmMiArIFwiI1wiICsgKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0bykpO1xuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlSGFzaExvY2F0aW9uKGxvY2F0aW9uLCB0bykge1xuICAgIHdhcm5pbmcoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgPT09IFwiL1wiLFxuICAgICAgYHJlbGF0aXZlIHBhdGhuYW1lcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBoYXNoIGhpc3RvcnkucHVzaCgke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICB0b1xuICAgICAgKX0pYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGdldFVybEJhc2VkSGlzdG9yeShcbiAgICBjcmVhdGVIYXNoTG9jYXRpb24sXG4gICAgY3JlYXRlSGFzaEhyZWYsXG4gICAgdmFsaWRhdGVIYXNoTG9jYXRpb24sXG4gICAgb3B0aW9uc1xuICApO1xufVxuZnVuY3Rpb24gaW52YXJpYW50KHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5mdW5jdGlvbiB3YXJuaW5nKGNvbmQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApO1xufVxuZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCkge1xuICByZXR1cm4ge1xuICAgIHVzcjogbG9jYXRpb24uc3RhdGUsXG4gICAga2V5OiBsb2NhdGlvbi5rZXksXG4gICAgaWR4OiBpbmRleFxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oY3VycmVudCwgdG8sIHN0YXRlID0gbnVsbCwga2V5KSB7XG4gIGxldCBsb2NhdGlvbiA9IHtcbiAgICBwYXRobmFtZTogdHlwZW9mIGN1cnJlbnQgPT09IFwic3RyaW5nXCIgPyBjdXJyZW50IDogY3VycmVudC5wYXRobmFtZSxcbiAgICBzZWFyY2g6IFwiXCIsXG4gICAgaGFzaDogXCJcIixcbiAgICAuLi50eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG8sXG4gICAgc3RhdGUsXG4gICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZSBjbGVhbmVkIHVwLiAgcHVzaC9yZXBsYWNlIHNob3VsZCBwcm9iYWJseSBqdXN0IHRha2VcbiAgICAvLyBmdWxsIExvY2F0aW9ucyBub3cgYW5kIGF2b2lkIHRoZSBuZWVkIHRvIHJ1biB0aHJvdWdoIHRoaXMgZmxvdyBhdCBhbGxcbiAgICAvLyBCdXQgdGhhdCdzIGEgcHJldHR5IGJpZyByZWZhY3RvciB0byB0aGUgY3VycmVudCB0ZXN0IHN1aXRlIHNvIGdvaW5nIHRvXG4gICAgLy8ga2VlcCBhcyBpcyBmb3IgdGhlIHRpbWUgYmVpbmcgYW5kIGp1c3QgbGV0IGFueSBpbmNvbWluZyBrZXlzIHRha2UgcHJlY2VkZW5jZVxuICAgIGtleTogdG8gJiYgdG8ua2V5IHx8IGtleSB8fCBjcmVhdGVLZXkoKVxuICB9O1xuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoKHtcbiAgcGF0aG5hbWUgPSBcIi9cIixcbiAgc2VhcmNoID0gXCJcIixcbiAgaGFzaCA9IFwiXCJcbn0pIHtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2ggIT09IFwiP1wiKVxuICAgIHBhdGhuYW1lICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09IFwiP1wiID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG4gIGlmIChoYXNoICYmIGhhc2ggIT09IFwiI1wiKVxuICAgIHBhdGhuYW1lICs9IGhhc2guY2hhckF0KDApID09PSBcIiNcIiA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG4gIHJldHVybiBwYXRobmFtZTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIGxldCBwYXJzZWRQYXRoID0ge307XG4gIGlmIChwYXRoKSB7XG4gICAgbGV0IGhhc2hJbmRleCA9IHBhdGguaW5kZXhPZihcIiNcIik7XG4gICAgaWYgKGhhc2hJbmRleCA+PSAwKSB7XG4gICAgICBwYXJzZWRQYXRoLmhhc2ggPSBwYXRoLnN1YnN0cmluZyhoYXNoSW5kZXgpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuICAgIGxldCBzZWFyY2hJbmRleCA9IHBhdGguaW5kZXhPZihcIj9cIik7XG4gICAgaWYgKHNlYXJjaEluZGV4ID49IDApIHtcbiAgICAgIHBhcnNlZFBhdGguc2VhcmNoID0gcGF0aC5zdWJzdHJpbmcoc2VhcmNoSW5kZXgpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHNlYXJjaEluZGV4KTtcbiAgICB9XG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIHBhcnNlZFBhdGgucGF0aG5hbWUgPSBwYXRoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyc2VkUGF0aDtcbn1cbmZ1bmN0aW9uIGdldFVybEJhc2VkSGlzdG9yeShnZXRMb2NhdGlvbiwgY3JlYXRlSHJlZjIsIHZhbGlkYXRlTG9jYXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgeyB3aW5kb3c6IHdpbmRvdzIgPSBkb2N1bWVudC5kZWZhdWx0VmlldywgdjVDb21wYXQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgbGV0IGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cyLmhpc3Rvcnk7XG4gIGxldCBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IGxpc3RlbmVyID0gbnVsbDtcbiAgbGV0IGluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICBpbmRleCA9IDA7XG4gICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyAuLi5nbG9iYWxIaXN0b3J5LnN0YXRlLCBpZHg6IGluZGV4IH0sIFwiXCIpO1xuICB9XG4gIGZ1bmN0aW9uIGdldEluZGV4KCkge1xuICAgIGxldCBzdGF0ZSA9IGdsb2JhbEhpc3Rvcnkuc3RhdGUgfHwgeyBpZHg6IG51bGwgfTtcbiAgICByZXR1cm4gc3RhdGUuaWR4O1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZVBvcCgpIHtcbiAgICBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICBsZXQgbmV4dEluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgICBsZXQgZGVsdGEgPSBuZXh0SW5kZXggPT0gbnVsbCA/IG51bGwgOiBuZXh0SW5kZXggLSBpbmRleDtcbiAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGEgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2godG8sIHN0YXRlKSB7XG4gICAgYWN0aW9uID0gXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihoaXN0b3J5LmxvY2F0aW9uLCB0bywgc3RhdGUpO1xuICAgIGlmICh2YWxpZGF0ZUxvY2F0aW9uKSB2YWxpZGF0ZUxvY2F0aW9uKGxvY2F0aW9uLCB0byk7XG4gICAgaW5kZXggPSBnZXRJbmRleCgpICsgMTtcbiAgICBsZXQgaGlzdG9yeVN0YXRlID0gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCk7XG4gICAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgdHJ5IHtcbiAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKGhpc3RvcnlTdGF0ZSwgXCJcIiwgdXJsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVycm9yLm5hbWUgPT09IFwiRGF0YUNsb25lRXJyb3JcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHdpbmRvdzIubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgfVxuICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YTogMSB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVwbGFjZTIodG8sIHN0YXRlKSB7XG4gICAgYWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihoaXN0b3J5LmxvY2F0aW9uLCB0bywgc3RhdGUpO1xuICAgIGlmICh2YWxpZGF0ZUxvY2F0aW9uKSB2YWxpZGF0ZUxvY2F0aW9uKGxvY2F0aW9uLCB0byk7XG4gICAgaW5kZXggPSBnZXRJbmRleCgpO1xuICAgIGxldCBoaXN0b3J5U3RhdGUgPSBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KTtcbiAgICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZShoaXN0b3J5U3RhdGUsIFwiXCIsIHVybCk7XG4gICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhOiAwIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVVUkwodG8pIHtcbiAgICBsZXQgYmFzZSA9IHdpbmRvdzIubG9jYXRpb24ub3JpZ2luICE9PSBcIm51bGxcIiA/IHdpbmRvdzIubG9jYXRpb24ub3JpZ2luIDogd2luZG93Mi5sb2NhdGlvbi5ocmVmO1xuICAgIGxldCBocmVmMiA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gICAgaHJlZjIgPSBocmVmMi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICAgIGludmFyaWFudChcbiAgICAgIGJhc2UsXG4gICAgICBgTm8gd2luZG93LmxvY2F0aW9uLihvcmlnaW58aHJlZikgYXZhaWxhYmxlIHRvIGNyZWF0ZSBVUkwgZm9yIGhyZWY6ICR7aHJlZjJ9YFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBVUkwoaHJlZjIsIGJhc2UpO1xuICB9XG4gIGxldCBoaXN0b3J5ID0ge1xuICAgIGdldCBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0sXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldExvY2F0aW9uKHdpbmRvdzIsIGdsb2JhbEhpc3RvcnkpO1xuICAgIH0sXG4gICAgbGlzdGVuKGZuKSB7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBoaXN0b3J5IG9ubHkgYWNjZXB0cyBvbmUgYWN0aXZlIGxpc3RlbmVyXCIpO1xuICAgICAgfVxuICAgICAgd2luZG93Mi5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBoYW5kbGVQb3ApO1xuICAgICAgbGlzdGVuZXIgPSBmbjtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdzIucmVtb3ZlRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgaGFuZGxlUG9wKTtcbiAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWYodG8pIHtcbiAgICAgIHJldHVybiBjcmVhdGVIcmVmMih3aW5kb3cyLCB0byk7XG4gICAgfSxcbiAgICBjcmVhdGVVUkwsXG4gICAgZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgICAgIGxldCB1cmwgPSBjcmVhdGVVUkwodG8pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aG5hbWU6IHVybC5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICBoYXNoOiB1cmwuaGFzaFxuICAgICAgfTtcbiAgICB9LFxuICAgIHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgZ28obikge1xuICAgICAgcmV0dXJuIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuLy8gbGliL3JvdXRlci91dGlscy50c1xuZnVuY3Rpb24gdW5zdGFibGVfY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIHsgZGVmYXVsdFZhbHVlIH07XG59XG52YXIgX21hcDtcbnZhciB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGluaXQpIHtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX21hcCwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgaWYgKGluaXQpIHtcbiAgICAgIGZvciAobGV0IFtjb250ZXh0LCB2YWx1ZV0gb2YgaW5pdCkge1xuICAgICAgICB0aGlzLnNldChjb250ZXh0LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldChjb250ZXh0KSB7XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfbWFwKS5oYXMoY29udGV4dCkpIHtcbiAgICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuZ2V0KGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5kZWZhdWx0VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWx1ZSBmb3VuZCBmb3IgY29udGV4dFwiKTtcbiAgfVxuICBzZXQoY29udGV4dCwgdmFsdWUpIHtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuc2V0KGNvbnRleHQsIHZhbHVlKTtcbiAgfVxufTtcbl9tYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIGltbXV0YWJsZVJvdXRlS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJsYXp5XCIsXG4gIFwiY2FzZVNlbnNpdGl2ZVwiLFxuICBcInBhdGhcIixcbiAgXCJpZFwiLFxuICBcImluZGV4XCIsXG4gIFwiY2hpbGRyZW5cIlxuXSk7XG5mdW5jdGlvbiBpc0luZGV4Um91dGUocm91dGUpIHtcbiAgcmV0dXJuIHJvdXRlLmluZGV4ID09PSB0cnVlO1xufVxuZnVuY3Rpb24gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhyb3V0ZXMsIG1hcFJvdXRlUHJvcGVydGllczIsIHBhcmVudFBhdGggPSBbXSwgbWFuaWZlc3QgPSB7fSkge1xuICByZXR1cm4gcm91dGVzLm1hcCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIFN0cmluZyhpbmRleCldO1xuICAgIGxldCBpZCA9IHR5cGVvZiByb3V0ZS5pZCA9PT0gXCJzdHJpbmdcIiA/IHJvdXRlLmlkIDogdHJlZVBhdGguam9pbihcIi1cIik7XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUuaW5kZXggIT09IHRydWUgfHwgIXJvdXRlLmNoaWxkcmVuLFxuICAgICAgYENhbm5vdCBzcGVjaWZ5IGNoaWxkcmVuIG9uIGFuIGluZGV4IHJvdXRlYFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIW1hbmlmZXN0W2lkXSxcbiAgICAgIGBGb3VuZCBhIHJvdXRlIGlkIGNvbGxpc2lvbiBvbiBpZCBcIiR7aWR9XCIuICBSb3V0ZSBpZCdzIG11c3QgYmUgZ2xvYmFsbHkgdW5pcXVlIHdpdGhpbiBEYXRhIFJvdXRlciB1c2FnZXNgXG4gICAgKTtcbiAgICBpZiAoaXNJbmRleFJvdXRlKHJvdXRlKSkge1xuICAgICAgbGV0IGluZGV4Um91dGUgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlKSxcbiAgICAgICAgaWRcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBpbmRleFJvdXRlO1xuICAgICAgcmV0dXJuIGluZGV4Um91dGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwYXRoT3JMYXlvdXRSb3V0ZSA9IHtcbiAgICAgICAgLi4ucm91dGUsXG4gICAgICAgIC4uLm1hcFJvdXRlUHJvcGVydGllczIocm91dGUpLFxuICAgICAgICBpZCxcbiAgICAgICAgY2hpbGRyZW46IHZvaWQgMFxuICAgICAgfTtcbiAgICAgIG1hbmlmZXN0W2lkXSA9IHBhdGhPckxheW91dFJvdXRlO1xuICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgIHBhdGhPckxheW91dFJvdXRlLmNoaWxkcmVuID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgICAgICByb3V0ZS5jaGlsZHJlbixcbiAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICAgIHRyZWVQYXRoLFxuICAgICAgICAgIG1hbmlmZXN0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0aE9yTGF5b3V0Um91dGU7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG1hdGNoUm91dGVzKHJvdXRlcywgbG9jYXRpb25BcmcsIGJhc2VuYW1lID0gXCIvXCIpIHtcbiAgcmV0dXJuIG1hdGNoUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gbWF0Y2hSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcsIGJhc2VuYW1lLCBhbGxvd1BhcnRpYWwpIHtcbiAgbGV0IGxvY2F0aW9uID0gdHlwZW9mIGxvY2F0aW9uQXJnID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uQXJnKSA6IGxvY2F0aW9uQXJnO1xuICBsZXQgcGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiLCBiYXNlbmFtZSk7XG4gIGlmIChwYXRobmFtZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGJyYW5jaGVzID0gZmxhdHRlblJvdXRlcyhyb3V0ZXMpO1xuICByYW5rUm91dGVCcmFuY2hlcyhicmFuY2hlcyk7XG4gIGxldCBtYXRjaGVzID0gbnVsbDtcbiAgZm9yIChsZXQgaSA9IDA7IG1hdGNoZXMgPT0gbnVsbCAmJiBpIDwgYnJhbmNoZXMubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgZGVjb2RlZCA9IGRlY29kZVBhdGgocGF0aG5hbWUpO1xuICAgIG1hdGNoZXMgPSBtYXRjaFJvdXRlQnJhbmNoKFxuICAgICAgYnJhbmNoZXNbaV0sXG4gICAgICBkZWNvZGVkLFxuICAgICAgYWxsb3dQYXJ0aWFsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG1hdGNoLCBsb2FkZXJEYXRhKSB7XG4gIGxldCB7IHJvdXRlLCBwYXRobmFtZSwgcGFyYW1zIH0gPSBtYXRjaDtcbiAgcmV0dXJuIHtcbiAgICBpZDogcm91dGUuaWQsXG4gICAgcGF0aG5hbWUsXG4gICAgcGFyYW1zLFxuICAgIGRhdGE6IGxvYWRlckRhdGFbcm91dGUuaWRdLFxuICAgIGhhbmRsZTogcm91dGUuaGFuZGxlXG4gIH07XG59XG5mdW5jdGlvbiBmbGF0dGVuUm91dGVzKHJvdXRlcywgYnJhbmNoZXMgPSBbXSwgcGFyZW50c01ldGEgPSBbXSwgcGFyZW50UGF0aCA9IFwiXCIpIHtcbiAgbGV0IGZsYXR0ZW5Sb3V0ZSA9IChyb3V0ZSwgaW5kZXgsIHJlbGF0aXZlUGF0aCkgPT4ge1xuICAgIGxldCBtZXRhID0ge1xuICAgICAgcmVsYXRpdmVQYXRoOiByZWxhdGl2ZVBhdGggPT09IHZvaWQgMCA/IHJvdXRlLnBhdGggfHwgXCJcIiA6IHJlbGF0aXZlUGF0aCxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUgPT09IHRydWUsXG4gICAgICBjaGlsZHJlbkluZGV4OiBpbmRleCxcbiAgICAgIHJvdXRlXG4gICAgfTtcbiAgICBpZiAobWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgbWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChwYXJlbnRQYXRoKSxcbiAgICAgICAgYEFic29sdXRlIHJvdXRlIHBhdGggXCIke21ldGEucmVsYXRpdmVQYXRofVwiIG5lc3RlZCB1bmRlciBwYXRoIFwiJHtwYXJlbnRQYXRofVwiIGlzIG5vdCB2YWxpZC4gQW4gYWJzb2x1dGUgY2hpbGQgcm91dGUgcGF0aCBtdXN0IHN0YXJ0IHdpdGggdGhlIGNvbWJpbmVkIHBhdGggb2YgYWxsIGl0cyBwYXJlbnQgcm91dGVzLmBcbiAgICAgICk7XG4gICAgICBtZXRhLnJlbGF0aXZlUGF0aCA9IG1ldGEucmVsYXRpdmVQYXRoLnNsaWNlKHBhcmVudFBhdGgubGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IHBhdGggPSBqb2luUGF0aHMoW3BhcmVudFBhdGgsIG1ldGEucmVsYXRpdmVQYXRoXSk7XG4gICAgbGV0IHJvdXRlc01ldGEgPSBwYXJlbnRzTWV0YS5jb25jYXQobWV0YSk7XG4gICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgLy8gT3VyIHR5cGVzIGtub3cgYmV0dGVyLCBidXQgcnVudGltZSBKUyBtYXkgbm90IVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlLFxuICAgICAgICBgSW5kZXggcm91dGVzIG11c3Qgbm90IGhhdmUgY2hpbGQgcm91dGVzLiBQbGVhc2UgcmVtb3ZlIGFsbCBjaGlsZCByb3V0ZXMgZnJvbSByb3V0ZSBwYXRoIFwiJHtwYXRofVwiLmBcbiAgICAgICk7XG4gICAgICBmbGF0dGVuUm91dGVzKHJvdXRlLmNoaWxkcmVuLCBicmFuY2hlcywgcm91dGVzTWV0YSwgcGF0aCk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5wYXRoID09IG51bGwgJiYgIXJvdXRlLmluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGJyYW5jaGVzLnB1c2goe1xuICAgICAgcGF0aCxcbiAgICAgIHNjb3JlOiBjb21wdXRlU2NvcmUocGF0aCwgcm91dGUuaW5kZXgpLFxuICAgICAgcm91dGVzTWV0YVxuICAgIH0pO1xuICB9O1xuICByb3V0ZXMuZm9yRWFjaCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgaWYgKHJvdXRlLnBhdGggPT09IFwiXCIgfHwgIXJvdXRlLnBhdGg/LmluY2x1ZGVzKFwiP1wiKSkge1xuICAgICAgZmxhdHRlblJvdXRlKHJvdXRlLCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGV4cGxvZGVkIG9mIGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJvdXRlLnBhdGgpKSB7XG4gICAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgsIGV4cGxvZGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYnJhbmNoZXM7XG59XG5mdW5jdGlvbiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhwYXRoKSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGxldCBbZmlyc3QsIC4uLnJlc3RdID0gc2VnbWVudHM7XG4gIGxldCBpc09wdGlvbmFsID0gZmlyc3QuZW5kc1dpdGgoXCI/XCIpO1xuICBsZXQgcmVxdWlyZWQgPSBmaXJzdC5yZXBsYWNlKC9cXD8kLywgXCJcIik7XG4gIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpc09wdGlvbmFsID8gW3JlcXVpcmVkLCBcIlwiXSA6IFtyZXF1aXJlZF07XG4gIH1cbiAgbGV0IHJlc3RFeHBsb2RlZCA9IGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJlc3Quam9pbihcIi9cIikpO1xuICBsZXQgcmVzdWx0ID0gW107XG4gIHJlc3VsdC5wdXNoKFxuICAgIC4uLnJlc3RFeHBsb2RlZC5tYXAoXG4gICAgICAoc3VicGF0aCkgPT4gc3VicGF0aCA9PT0gXCJcIiA/IHJlcXVpcmVkIDogW3JlcXVpcmVkLCBzdWJwYXRoXS5qb2luKFwiL1wiKVxuICAgIClcbiAgKTtcbiAgaWYgKGlzT3B0aW9uYWwpIHtcbiAgICByZXN1bHQucHVzaCguLi5yZXN0RXhwbG9kZWQpO1xuICB9XG4gIHJldHVybiByZXN1bHQubWFwKFxuICAgIChleHBsb2RlZCkgPT4gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSAmJiBleHBsb2RlZCA9PT0gXCJcIiA/IFwiL1wiIDogZXhwbG9kZWRcbiAgKTtcbn1cbmZ1bmN0aW9uIHJhbmtSb3V0ZUJyYW5jaGVzKGJyYW5jaGVzKSB7XG4gIGJyYW5jaGVzLnNvcnQoXG4gICAgKGEsIGIpID0+IGEuc2NvcmUgIT09IGIuc2NvcmUgPyBiLnNjb3JlIC0gYS5zY29yZSA6IGNvbXBhcmVJbmRleGVzKFxuICAgICAgYS5yb3V0ZXNNZXRhLm1hcCgobWV0YSkgPT4gbWV0YS5jaGlsZHJlbkluZGV4KSxcbiAgICAgIGIucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleClcbiAgICApXG4gICk7XG59XG52YXIgcGFyYW1SZSA9IC9eOltcXHctXSskLztcbnZhciBkeW5hbWljU2VnbWVudFZhbHVlID0gMztcbnZhciBpbmRleFJvdXRlVmFsdWUgPSAyO1xudmFyIGVtcHR5U2VnbWVudFZhbHVlID0gMTtcbnZhciBzdGF0aWNTZWdtZW50VmFsdWUgPSAxMDtcbnZhciBzcGxhdFBlbmFsdHkgPSAtMjtcbnZhciBpc1NwbGF0ID0gKHMpID0+IHMgPT09IFwiKlwiO1xuZnVuY3Rpb24gY29tcHV0ZVNjb3JlKHBhdGgsIGluZGV4KSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBsZXQgaW5pdGlhbFNjb3JlID0gc2VnbWVudHMubGVuZ3RoO1xuICBpZiAoc2VnbWVudHMuc29tZShpc1NwbGF0KSkge1xuICAgIGluaXRpYWxTY29yZSArPSBzcGxhdFBlbmFsdHk7XG4gIH1cbiAgaWYgKGluZGV4KSB7XG4gICAgaW5pdGlhbFNjb3JlICs9IGluZGV4Um91dGVWYWx1ZTtcbiAgfVxuICByZXR1cm4gc2VnbWVudHMuZmlsdGVyKChzKSA9PiAhaXNTcGxhdChzKSkucmVkdWNlKFxuICAgIChzY29yZSwgc2VnbWVudCkgPT4gc2NvcmUgKyAocGFyYW1SZS50ZXN0KHNlZ21lbnQpID8gZHluYW1pY1NlZ21lbnRWYWx1ZSA6IHNlZ21lbnQgPT09IFwiXCIgPyBlbXB0eVNlZ21lbnRWYWx1ZSA6IHN0YXRpY1NlZ21lbnRWYWx1ZSksXG4gICAgaW5pdGlhbFNjb3JlXG4gICk7XG59XG5mdW5jdGlvbiBjb21wYXJlSW5kZXhlcyhhLCBiKSB7XG4gIGxldCBzaWJsaW5ncyA9IGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLnNsaWNlKDAsIC0xKS5ldmVyeSgobiwgaSkgPT4gbiA9PT0gYltpXSk7XG4gIHJldHVybiBzaWJsaW5ncyA/IChcbiAgICAvLyBJZiB0d28gcm91dGVzIGFyZSBzaWJsaW5ncywgd2Ugc2hvdWxkIHRyeSB0byBtYXRjaCB0aGUgZWFybGllciBzaWJsaW5nXG4gICAgLy8gZmlyc3QuIFRoaXMgYWxsb3dzIHBlb3BsZSB0byBoYXZlIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXIgdGhlIG1hdGNoaW5nXG4gICAgLy8gYmVoYXZpb3IgYnkgc2ltcGx5IHB1dHRpbmcgcm91dGVzIHdpdGggaWRlbnRpY2FsIHBhdGhzIGluIHRoZSBvcmRlciB0aGV5XG4gICAgLy8gd2FudCB0aGVtIHRyaWVkLlxuICAgIGFbYS5sZW5ndGggLSAxXSAtIGJbYi5sZW5ndGggLSAxXVxuICApIDogKFxuICAgIC8vIE90aGVyd2lzZSwgaXQgZG9lc24ndCByZWFsbHkgbWFrZSBzZW5zZSB0byByYW5rIG5vbi1zaWJsaW5ncyBieSBpbmRleCxcbiAgICAvLyBzbyB0aGV5IHNvcnQgZXF1YWxseS5cbiAgICAwXG4gICk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlQnJhbmNoKGJyYW5jaCwgcGF0aG5hbWUsIGFsbG93UGFydGlhbCA9IGZhbHNlKSB7XG4gIGxldCB7IHJvdXRlc01ldGEgfSA9IGJyYW5jaDtcbiAgbGV0IG1hdGNoZWRQYXJhbXMgPSB7fTtcbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IFwiL1wiO1xuICBsZXQgbWF0Y2hlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlc01ldGEubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgbWV0YSA9IHJvdXRlc01ldGFbaV07XG4gICAgbGV0IGVuZCA9IGkgPT09IHJvdXRlc01ldGEubGVuZ3RoIC0gMTtcbiAgICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBtYXRjaGVkUGF0aG5hbWUgPT09IFwiL1wiID8gcGF0aG5hbWUgOiBwYXRobmFtZS5zbGljZShtYXRjaGVkUGF0aG5hbWUubGVuZ3RoKSB8fCBcIi9cIjtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICB7IHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLCBjYXNlU2Vuc2l0aXZlOiBtZXRhLmNhc2VTZW5zaXRpdmUsIGVuZCB9LFxuICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICApO1xuICAgIGxldCByb3V0ZSA9IG1ldGEucm91dGU7XG4gICAgaWYgKCFtYXRjaCAmJiBlbmQgJiYgYWxsb3dQYXJ0aWFsICYmICFyb3V0ZXNNZXRhW3JvdXRlc01ldGEubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXgpIHtcbiAgICAgIG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogbWV0YS5yZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgICAgIGVuZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKG1hdGNoZWRQYXJhbXMsIG1hdGNoLnBhcmFtcyk7XG4gICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgIC8vIFRPRE86IENhbiB0aGlzIGFzIGJlIGF2b2lkZWQ/XG4gICAgICBwYXJhbXM6IG1hdGNoZWRQYXJhbXMsXG4gICAgICBwYXRobmFtZTogam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lXSksXG4gICAgICBwYXRobmFtZUJhc2U6IG5vcm1hbGl6ZVBhdGhuYW1lKFxuICAgICAgICBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSlcbiAgICAgICksXG4gICAgICByb3V0ZVxuICAgIH0pO1xuICAgIGlmIChtYXRjaC5wYXRobmFtZUJhc2UgIT09IFwiL1wiKSB7XG4gICAgICBtYXRjaGVkUGF0aG5hbWUgPSBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVQYXRoKG9yaWdpbmFsUGF0aCwgcGFyYW1zID0ge30pIHtcbiAgbGV0IHBhdGggPSBvcmlnaW5hbFBhdGg7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBwYXRoICE9PSBcIipcIiAmJiAhcGF0aC5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICAgICk7XG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiL1wiIDogXCJcIjtcbiAgY29uc3Qgc3RyaW5naWZ5ID0gKHApID0+IHAgPT0gbnVsbCA/IFwiXCIgOiB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHAgOiBTdHJpbmcocCk7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgvXFwvKy8pLm1hcCgoc2VnbWVudCwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgY29uc3QgaXNMYXN0U2VnbWVudCA9IGluZGV4ID09PSBhcnJheS5sZW5ndGggLSAxO1xuICAgIGlmIChpc0xhc3RTZWdtZW50ICYmIHNlZ21lbnQgPT09IFwiKlwiKSB7XG4gICAgICBjb25zdCBzdGFyID0gXCIqXCI7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5KHBhcmFtc1tzdGFyXSk7XG4gICAgfVxuICAgIGNvbnN0IGtleU1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW1xcdy1dKykoXFw/PykkLyk7XG4gICAgaWYgKGtleU1hdGNoKSB7XG4gICAgICBjb25zdCBbLCBrZXksIG9wdGlvbmFsXSA9IGtleU1hdGNoO1xuICAgICAgbGV0IHBhcmFtID0gcGFyYW1zW2tleV07XG4gICAgICBpbnZhcmlhbnQob3B0aW9uYWwgPT09IFwiP1wiIHx8IHBhcmFtICE9IG51bGwsIGBNaXNzaW5nIFwiOiR7a2V5fVwiIHBhcmFtYCk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5KHBhcmFtKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZ21lbnQucmVwbGFjZSgvXFw/JC9nLCBcIlwiKTtcbiAgfSkuZmlsdGVyKChzZWdtZW50KSA9PiAhIXNlZ21lbnQpO1xuICByZXR1cm4gcHJlZml4ICsgc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiBtYXRjaFBhdGgocGF0dGVybiwgcGF0aG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSBcInN0cmluZ1wiKSB7XG4gICAgcGF0dGVybiA9IHsgcGF0aDogcGF0dGVybiwgY2FzZVNlbnNpdGl2ZTogZmFsc2UsIGVuZDogdHJ1ZSB9O1xuICB9XG4gIGxldCBbbWF0Y2hlciwgY29tcGlsZWRQYXJhbXNdID0gY29tcGlsZVBhdGgoXG4gICAgcGF0dGVybi5wYXRoLFxuICAgIHBhdHRlcm4uY2FzZVNlbnNpdGl2ZSxcbiAgICBwYXR0ZXJuLmVuZFxuICApO1xuICBsZXQgbWF0Y2ggPSBwYXRobmFtZS5tYXRjaChtYXRjaGVyKTtcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG4gIGxldCBtYXRjaGVkUGF0aG5hbWUgPSBtYXRjaFswXTtcbiAgbGV0IHBhdGhuYW1lQmFzZSA9IG1hdGNoZWRQYXRobmFtZS5yZXBsYWNlKC8oLilcXC8rJC8sIFwiJDFcIik7XG4gIGxldCBjYXB0dXJlR3JvdXBzID0gbWF0Y2guc2xpY2UoMSk7XG4gIGxldCBwYXJhbXMgPSBjb21waWxlZFBhcmFtcy5yZWR1Y2UoXG4gICAgKG1lbW8yLCB7IHBhcmFtTmFtZSwgaXNPcHRpb25hbCB9LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtTmFtZSA9PT0gXCIqXCIpIHtcbiAgICAgICAgbGV0IHNwbGF0VmFsdWUgPSBjYXB0dXJlR3JvdXBzW2luZGV4XSB8fCBcIlwiO1xuICAgICAgICBwYXRobmFtZUJhc2UgPSBtYXRjaGVkUGF0aG5hbWUuc2xpY2UoMCwgbWF0Y2hlZFBhdGhuYW1lLmxlbmd0aCAtIHNwbGF0VmFsdWUubGVuZ3RoKS5yZXBsYWNlKC8oLilcXC8rJC8sIFwiJDFcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IGNhcHR1cmVHcm91cHNbaW5kZXhdO1xuICAgICAgaWYgKGlzT3B0aW9uYWwgJiYgIXZhbHVlKSB7XG4gICAgICAgIG1lbW8yW3BhcmFtTmFtZV0gPSB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1vMltwYXJhbU5hbWVdID0gKHZhbHVlIHx8IFwiXCIpLnJlcGxhY2UoLyUyRi9nLCBcIi9cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbzI7XG4gICAgfSxcbiAgICB7fVxuICApO1xuICByZXR1cm4ge1xuICAgIHBhcmFtcyxcbiAgICBwYXRobmFtZTogbWF0Y2hlZFBhdGhuYW1lLFxuICAgIHBhdGhuYW1lQmFzZSxcbiAgICBwYXR0ZXJuXG4gIH07XG59XG5mdW5jdGlvbiBjb21waWxlUGF0aChwYXRoLCBjYXNlU2Vuc2l0aXZlID0gZmFsc2UsIGVuZCA9IHRydWUpIHtcbiAgd2FybmluZyhcbiAgICBwYXRoID09PSBcIipcIiB8fCAhcGF0aC5lbmRzV2l0aChcIipcIikgfHwgcGF0aC5lbmRzV2l0aChcIi8qXCIpLFxuICAgIGBSb3V0ZSBwYXRoIFwiJHtwYXRofVwiIHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiIGJlY2F1c2UgdGhlIFxcYCpcXGAgY2hhcmFjdGVyIG11c3QgYWx3YXlzIGZvbGxvdyBhIFxcYC9cXGAgaW4gdGhlIHBhdHRlcm4uIFRvIGdldCByaWQgb2YgdGhpcyB3YXJuaW5nLCBwbGVhc2UgY2hhbmdlIHRoZSByb3V0ZSBwYXRoIHRvIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiLmBcbiAgKTtcbiAgbGV0IHBhcmFtcyA9IFtdO1xuICBsZXQgcmVnZXhwU291cmNlID0gXCJeXCIgKyBwYXRoLnJlcGxhY2UoL1xcLypcXCo/JC8sIFwiXCIpLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpLnJlcGxhY2UoL1tcXFxcLiorXiR7fXwoKVtcXF1dL2csIFwiXFxcXCQmXCIpLnJlcGxhY2UoXG4gICAgL1xcLzooW1xcdy1dKykoXFw/KT8vZyxcbiAgICAoXywgcGFyYW1OYW1lLCBpc09wdGlvbmFsKSA9PiB7XG4gICAgICBwYXJhbXMucHVzaCh7IHBhcmFtTmFtZSwgaXNPcHRpb25hbDogaXNPcHRpb25hbCAhPSBudWxsIH0pO1xuICAgICAgcmV0dXJuIGlzT3B0aW9uYWwgPyBcIi8/KFteXFxcXC9dKyk/XCIgOiBcIi8oW15cXFxcL10rKVwiO1xuICAgIH1cbiAgKTtcbiAgaWYgKHBhdGguZW5kc1dpdGgoXCIqXCIpKSB7XG4gICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWU6IFwiKlwiIH0pO1xuICAgIHJlZ2V4cFNvdXJjZSArPSBwYXRoID09PSBcIipcIiB8fCBwYXRoID09PSBcIi8qXCIgPyBcIiguKikkXCIgOiBcIig/OlxcXFwvKC4rKXxcXFxcLyopJFwiO1xuICB9IGVsc2UgaWYgKGVuZCkge1xuICAgIHJlZ2V4cFNvdXJjZSArPSBcIlxcXFwvKiRcIjtcbiAgfSBlbHNlIGlmIChwYXRoICE9PSBcIlwiICYmIHBhdGggIT09IFwiL1wiKSB7XG4gICAgcmVnZXhwU291cmNlICs9IFwiKD86KD89XFxcXC98JCkpXCI7XG4gIH0gZWxzZSB7XG4gIH1cbiAgbGV0IG1hdGNoZXIgPSBuZXcgUmVnRXhwKHJlZ2V4cFNvdXJjZSwgY2FzZVNlbnNpdGl2ZSA/IHZvaWQgMCA6IFwiaVwiKTtcbiAgcmV0dXJuIFttYXRjaGVyLCBwYXJhbXNdO1xufVxuZnVuY3Rpb24gZGVjb2RlUGF0aCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdChcIi9cIikubWFwKCh2KSA9PiBkZWNvZGVVUklDb21wb25lbnQodikucmVwbGFjZSgvXFwvL2csIFwiJTJGXCIpKS5qb2luKFwiL1wiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgVGhlIFVSTCBwYXRoIFwiJHt2YWx1ZX1cIiBjb3VsZCBub3QgYmUgZGVjb2RlZCBiZWNhdXNlIGl0IGlzIGEgbWFsZm9ybWVkIFVSTCBzZWdtZW50LiBUaGlzIGlzIHByb2JhYmx5IGR1ZSB0byBhIGJhZCBwZXJjZW50IGVuY29kaW5nICgke2Vycm9yfSkuYFxuICAgICk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBzdHJpcEJhc2VuYW1lKHBhdGhuYW1lLCBiYXNlbmFtZSkge1xuICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSByZXR1cm4gcGF0aG5hbWU7XG4gIGlmICghcGF0aG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGJhc2VuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHN0YXJ0SW5kZXggPSBiYXNlbmFtZS5lbmRzV2l0aChcIi9cIikgPyBiYXNlbmFtZS5sZW5ndGggLSAxIDogYmFzZW5hbWUubGVuZ3RoO1xuICBsZXQgbmV4dENoYXIgPSBwYXRobmFtZS5jaGFyQXQoc3RhcnRJbmRleCk7XG4gIGlmIChuZXh0Q2hhciAmJiBuZXh0Q2hhciAhPT0gXCIvXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcGF0aG5hbWUuc2xpY2Uoc3RhcnRJbmRleCkgfHwgXCIvXCI7XG59XG5mdW5jdGlvbiByZXNvbHZlUGF0aCh0bywgZnJvbVBhdGhuYW1lID0gXCIvXCIpIHtcbiAgbGV0IHtcbiAgICBwYXRobmFtZTogdG9QYXRobmFtZSxcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiXG4gIH0gPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG87XG4gIGxldCBwYXRobmFtZSA9IHRvUGF0aG5hbWUgPyB0b1BhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpID8gdG9QYXRobmFtZSA6IHJlc29sdmVQYXRobmFtZSh0b1BhdGhuYW1lLCBmcm9tUGF0aG5hbWUpIDogZnJvbVBhdGhuYW1lO1xuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lLFxuICAgIHNlYXJjaDogbm9ybWFsaXplU2VhcmNoKHNlYXJjaCksXG4gICAgaGFzaDogbm9ybWFsaXplSGFzaChoYXNoKVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHJlbGF0aXZlUGF0aCwgZnJvbVBhdGhuYW1lKSB7XG4gIGxldCBzZWdtZW50cyA9IGZyb21QYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJlbGF0aXZlU2VnbWVudHMgPSByZWxhdGl2ZVBhdGguc3BsaXQoXCIvXCIpO1xuICByZWxhdGl2ZVNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQpID0+IHtcbiAgICBpZiAoc2VnbWVudCA9PT0gXCIuLlwiKSB7XG4gICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMSkgc2VnbWVudHMucG9wKCk7XG4gICAgfSBlbHNlIGlmIChzZWdtZW50ICE9PSBcIi5cIikge1xuICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc2VnbWVudHMubGVuZ3RoID4gMSA/IHNlZ21lbnRzLmpvaW4oXCIvXCIpIDogXCIvXCI7XG59XG5mdW5jdGlvbiBnZXRJbnZhbGlkUGF0aEVycm9yKGNoYXIsIGZpZWxkLCBkZXN0LCBwYXRoKSB7XG4gIHJldHVybiBgQ2Fubm90IGluY2x1ZGUgYSAnJHtjaGFyfScgY2hhcmFjdGVyIGluIGEgbWFudWFsbHkgc3BlY2lmaWVkIFxcYHRvLiR7ZmllbGR9XFxgIGZpZWxkIFske0pTT04uc3RyaW5naWZ5KFxuICAgIHBhdGhcbiAgKX1dLiAgUGxlYXNlIHNlcGFyYXRlIGl0IG91dCB0byB0aGUgXFxgdG8uJHtkZXN0fVxcYCBmaWVsZC4gQWx0ZXJuYXRpdmVseSB5b3UgbWF5IHByb3ZpZGUgdGhlIGZ1bGwgcGF0aCBhcyBhIHN0cmluZyBpbiA8TGluayB0bz1cIi4uLlwiPiBhbmQgdGhlIHJvdXRlciB3aWxsIHBhcnNlIGl0IGZvciB5b3UuYDtcbn1cbmZ1bmN0aW9uIGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpIHtcbiAgcmV0dXJuIG1hdGNoZXMuZmlsdGVyKFxuICAgIChtYXRjaCwgaW5kZXgpID0+IGluZGV4ID09PSAwIHx8IG1hdGNoLnJvdXRlLnBhdGggJiYgbWF0Y2gucm91dGUucGF0aC5sZW5ndGggPiAwXG4gICk7XG59XG5mdW5jdGlvbiBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpIHtcbiAgbGV0IHBhdGhNYXRjaGVzID0gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcyk7XG4gIHJldHVybiBwYXRoTWF0Y2hlcy5tYXAoXG4gICAgKG1hdGNoLCBpZHgpID0+IGlkeCA9PT0gcGF0aE1hdGNoZXMubGVuZ3RoIC0gMSA/IG1hdGNoLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVCYXNlXG4gICk7XG59XG5mdW5jdGlvbiByZXNvbHZlVG8odG9BcmcsIHJvdXRlUGF0aG5hbWVzLCBsb2NhdGlvblBhdGhuYW1lLCBpc1BhdGhSZWxhdGl2ZSA9IGZhbHNlKSB7XG4gIGxldCB0bztcbiAgaWYgKHR5cGVvZiB0b0FyZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRvID0gcGFyc2VQYXRoKHRvQXJnKTtcbiAgfSBlbHNlIHtcbiAgICB0byA9IHsgLi4udG9BcmcgfTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8ucGF0aG5hbWUgfHwgIXRvLnBhdGhuYW1lLmluY2x1ZGVzKFwiP1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCI/XCIsIFwicGF0aG5hbWVcIiwgXCJzZWFyY2hcIiwgdG8pXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8ucGF0aG5hbWUgfHwgIXRvLnBhdGhuYW1lLmluY2x1ZGVzKFwiI1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCIjXCIsIFwicGF0aG5hbWVcIiwgXCJoYXNoXCIsIHRvKVxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnNlYXJjaCB8fCAhdG8uc2VhcmNoLmluY2x1ZGVzKFwiI1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCIjXCIsIFwic2VhcmNoXCIsIFwiaGFzaFwiLCB0bylcbiAgICApO1xuICB9XG4gIGxldCBpc0VtcHR5UGF0aCA9IHRvQXJnID09PSBcIlwiIHx8IHRvLnBhdGhuYW1lID09PSBcIlwiO1xuICBsZXQgdG9QYXRobmFtZSA9IGlzRW1wdHlQYXRoID8gXCIvXCIgOiB0by5wYXRobmFtZTtcbiAgbGV0IGZyb207XG4gIGlmICh0b1BhdGhuYW1lID09IG51bGwpIHtcbiAgICBmcm9tID0gbG9jYXRpb25QYXRobmFtZTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgcm91dGVQYXRobmFtZUluZGV4ID0gcm91dGVQYXRobmFtZXMubGVuZ3RoIC0gMTtcbiAgICBpZiAoIWlzUGF0aFJlbGF0aXZlICYmIHRvUGF0aG5hbWUuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICBsZXQgdG9TZWdtZW50cyA9IHRvUGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgICAgd2hpbGUgKHRvU2VnbWVudHNbMF0gPT09IFwiLi5cIikge1xuICAgICAgICB0b1NlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgIHJvdXRlUGF0aG5hbWVJbmRleCAtPSAxO1xuICAgICAgfVxuICAgICAgdG8ucGF0aG5hbWUgPSB0b1NlZ21lbnRzLmpvaW4oXCIvXCIpO1xuICAgIH1cbiAgICBmcm9tID0gcm91dGVQYXRobmFtZUluZGV4ID49IDAgPyByb3V0ZVBhdGhuYW1lc1tyb3V0ZVBhdGhuYW1lSW5kZXhdIDogXCIvXCI7XG4gIH1cbiAgbGV0IHBhdGggPSByZXNvbHZlUGF0aCh0bywgZnJvbSk7XG4gIGxldCBoYXNFeHBsaWNpdFRyYWlsaW5nU2xhc2ggPSB0b1BhdGhuYW1lICYmIHRvUGF0aG5hbWUgIT09IFwiL1wiICYmIHRvUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpO1xuICBsZXQgaGFzQ3VycmVudFRyYWlsaW5nU2xhc2ggPSAoaXNFbXB0eVBhdGggfHwgdG9QYXRobmFtZSA9PT0gXCIuXCIpICYmIGxvY2F0aW9uUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpO1xuICBpZiAoIXBhdGgucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpICYmIChoYXNFeHBsaWNpdFRyYWlsaW5nU2xhc2ggfHwgaGFzQ3VycmVudFRyYWlsaW5nU2xhc2gpKSB7XG4gICAgcGF0aC5wYXRobmFtZSArPSBcIi9cIjtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbnZhciBqb2luUGF0aHMgPSAocGF0aHMpID0+IHBhdGhzLmpvaW4oXCIvXCIpLnJlcGxhY2UoL1xcL1xcLysvZywgXCIvXCIpO1xudmFyIG5vcm1hbGl6ZVBhdGhuYW1lID0gKHBhdGhuYW1lKSA9PiBwYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpO1xudmFyIG5vcm1hbGl6ZVNlYXJjaCA9IChzZWFyY2gpID0+ICFzZWFyY2ggfHwgc2VhcmNoID09PSBcIj9cIiA/IFwiXCIgOiBzZWFyY2guc3RhcnRzV2l0aChcIj9cIikgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcbnZhciBub3JtYWxpemVIYXNoID0gKGhhc2gpID0+ICFoYXNoIHx8IGhhc2ggPT09IFwiI1wiID8gXCJcIiA6IGhhc2guc3RhcnRzV2l0aChcIiNcIikgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xudmFyIERhdGFXaXRoUmVzcG9uc2VJbml0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihkYXRhMiwgaW5pdCkge1xuICAgIHRoaXMudHlwZSA9IFwiRGF0YVdpdGhSZXNwb25zZUluaXRcIjtcbiAgICB0aGlzLmRhdGEgPSBkYXRhMjtcbiAgICB0aGlzLmluaXQgPSBpbml0IHx8IG51bGw7XG4gIH1cbn07XG5mdW5jdGlvbiBkYXRhKGRhdGEyLCBpbml0KSB7XG4gIHJldHVybiBuZXcgRGF0YVdpdGhSZXNwb25zZUluaXQoXG4gICAgZGF0YTIsXG4gICAgdHlwZW9mIGluaXQgPT09IFwibnVtYmVyXCIgPyB7IHN0YXR1czogaW5pdCB9IDogaW5pdFxuICApO1xufVxudmFyIHJlZGlyZWN0ID0gKHVybCwgaW5pdCA9IDMwMikgPT4ge1xuICBsZXQgcmVzcG9uc2VJbml0ID0gaW5pdDtcbiAgaWYgKHR5cGVvZiByZXNwb25zZUluaXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXNwb25zZUluaXQgPSB7IHN0YXR1czogcmVzcG9uc2VJbml0IH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3BvbnNlSW5pdC5zdGF0dXMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXNwb25zZUluaXQuc3RhdHVzID0gMzAyO1xuICB9XG4gIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2VJbml0LmhlYWRlcnMpO1xuICBoZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIHVybCk7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyAuLi5yZXNwb25zZUluaXQsIGhlYWRlcnMgfSk7XG59O1xudmFyIHJlZGlyZWN0RG9jdW1lbnQgPSAodXJsLCBpbml0KSA9PiB7XG4gIGxldCByZXNwb25zZSA9IHJlZGlyZWN0KHVybCwgaW5pdCk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIiwgXCJ0cnVlXCIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xudmFyIHJlcGxhY2UgPSAodXJsLCBpbml0KSA9PiB7XG4gIGxldCByZXNwb25zZSA9IHJlZGlyZWN0KHVybCwgaW5pdCk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZXBsYWNlXCIsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbnZhciBFcnJvclJlc3BvbnNlSW1wbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBzdGF0dXNUZXh0LCBkYXRhMiwgaW50ZXJuYWwgPSBmYWxzZSkge1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQgfHwgXCJcIjtcbiAgICB0aGlzLmludGVybmFsID0gaW50ZXJuYWw7XG4gICAgaWYgKGRhdGEyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGEyLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLmVycm9yID0gZGF0YTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGEyO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSB7XG4gIHJldHVybiBlcnJvciAhPSBudWxsICYmIHR5cGVvZiBlcnJvci5zdGF0dXMgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGVycm9yLnN0YXR1c1RleHQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVycm9yLmludGVybmFsID09PSBcImJvb2xlYW5cIiAmJiBcImRhdGFcIiBpbiBlcnJvcjtcbn1cblxuLy8gbGliL3JvdXRlci9yb3V0ZXIudHNcbnZhciB2YWxpZE11dGF0aW9uTWV0aG9kc0FyciA9IFtcbiAgXCJQT1NUXCIsXG4gIFwiUFVUXCIsXG4gIFwiUEFUQ0hcIixcbiAgXCJERUxFVEVcIlxuXTtcbnZhciB2YWxpZE11dGF0aW9uTWV0aG9kcyA9IG5ldyBTZXQoXG4gIHZhbGlkTXV0YXRpb25NZXRob2RzQXJyXG4pO1xudmFyIHZhbGlkUmVxdWVzdE1ldGhvZHNBcnIgPSBbXG4gIFwiR0VUXCIsXG4gIC4uLnZhbGlkTXV0YXRpb25NZXRob2RzQXJyXG5dO1xudmFyIHZhbGlkUmVxdWVzdE1ldGhvZHMgPSBuZXcgU2V0KHZhbGlkUmVxdWVzdE1ldGhvZHNBcnIpO1xudmFyIHJlZGlyZWN0U3RhdHVzQ29kZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdKTtcbnZhciByZWRpcmVjdFByZXNlcnZlTWV0aG9kU3RhdHVzQ29kZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMzA3LCAzMDhdKTtcbnZhciBJRExFX05BVklHQVRJT04gPSB7XG4gIHN0YXRlOiBcImlkbGVcIixcbiAgbG9jYXRpb246IHZvaWQgMCxcbiAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gIGZvcm1EYXRhOiB2b2lkIDAsXG4gIGpzb246IHZvaWQgMCxcbiAgdGV4dDogdm9pZCAwXG59O1xudmFyIElETEVfRkVUQ0hFUiA9IHtcbiAgc3RhdGU6IFwiaWRsZVwiLFxuICBkYXRhOiB2b2lkIDAsXG4gIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICBmb3JtRGF0YTogdm9pZCAwLFxuICBqc29uOiB2b2lkIDAsXG4gIHRleHQ6IHZvaWQgMFxufTtcbnZhciBJRExFX0JMT0NLRVIgPSB7XG4gIHN0YXRlOiBcInVuYmxvY2tlZFwiLFxuICBwcm9jZWVkOiB2b2lkIDAsXG4gIHJlc2V0OiB2b2lkIDAsXG4gIGxvY2F0aW9uOiB2b2lkIDBcbn07XG52YXIgQUJTT0xVVEVfVVJMX1JFR0VYID0gL14oPzpbYS16XVthLXowLTkrLi1dKjp8XFwvXFwvKS9pO1xudmFyIGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXMgPSAocm91dGUpID0+ICh7XG4gIGhhc0Vycm9yQm91bmRhcnk6IEJvb2xlYW4ocm91dGUuaGFzRXJyb3JCb3VuZGFyeSlcbn0pO1xudmFyIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZID0gXCJyZW1peC1yb3V0ZXItdHJhbnNpdGlvbnNcIjtcbnZhciBSZXNldExvYWRlckRhdGFTeW1ib2wgPSBTeW1ib2woXCJSZXNldExvYWRlckRhdGFcIik7XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXIoaW5pdCkge1xuICBjb25zdCByb3V0ZXJXaW5kb3cgPSBpbml0LndpbmRvdyA/IGluaXQud2luZG93IDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHZvaWQgMDtcbiAgY29uc3QgaXNCcm93c2VyMiA9IHR5cGVvZiByb3V0ZXJXaW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHJvdXRlcldpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygcm91dGVyV2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG4gIGludmFyaWFudChcbiAgICBpbml0LnJvdXRlcy5sZW5ndGggPiAwLFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSByb3V0ZXMgYXJyYXkgdG8gY3JlYXRlUm91dGVyXCJcbiAgKTtcbiAgbGV0IG1hcFJvdXRlUHJvcGVydGllczIgPSBpbml0Lm1hcFJvdXRlUHJvcGVydGllcyB8fCBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzO1xuICBsZXQgbWFuaWZlc3QgPSB7fTtcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIGluaXQucm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgdm9pZCAwLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGxldCBpbkZsaWdodERhdGFSb3V0ZXM7XG4gIGxldCBiYXNlbmFtZSA9IGluaXQuYmFzZW5hbWUgfHwgXCIvXCI7XG4gIGxldCBkYXRhU3RyYXRlZ3lJbXBsID0gaW5pdC5kYXRhU3RyYXRlZ3kgfHwgZGVmYXVsdERhdGFTdHJhdGVneVdpdGhNaWRkbGV3YXJlO1xuICBsZXQgZnV0dXJlID0ge1xuICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IGZhbHNlLFxuICAgIC4uLmluaXQuZnV0dXJlXG4gIH07XG4gIGxldCB1bmxpc3Rlbkhpc3RvcnkgPSBudWxsO1xuICBsZXQgc3Vic2NyaWJlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyID0gbnVsbDtcbiAgbGV0IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MiA9IG51bGw7XG4gIGxldCBnZXRTY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gIGxldCBpbml0aWFsU2Nyb2xsUmVzdG9yZWQgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbDtcbiAgbGV0IGluaXRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gIGxldCBpbml0aWFsTWF0Y2hlc0lzRk9XID0gZmFsc2U7XG4gIGxldCBpbml0aWFsRXJyb3JzID0gbnVsbDtcbiAgaWYgKGluaXRpYWxNYXRjaGVzID09IG51bGwgJiYgIWluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgcGF0aG5hbWU6IGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgIH0pO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgIGluaXRpYWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBpbml0aWFsRXJyb3JzID0geyBbcm91dGUuaWRdOiBlcnJvciB9O1xuICB9XG4gIGlmIChpbml0aWFsTWF0Y2hlcyAmJiAhaW5pdC5oeWRyYXRpb25EYXRhKSB7XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgIGluaXRpYWxNYXRjaGVzLFxuICAgICAgZGF0YVJvdXRlcyxcbiAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSkge1xuICAgICAgaW5pdGlhbE1hdGNoZXMgPSBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgaW5pdGlhbGl6ZWQ7XG4gIGlmICghaW5pdGlhbE1hdGNoZXMpIHtcbiAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGluaXRpYWxNYXRjaGVzID0gW107XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgIG51bGwsXG4gICAgICBkYXRhUm91dGVzLFxuICAgICAgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIGluaXRpYWxNYXRjaGVzSXNGT1cgPSB0cnVlO1xuICAgICAgaW5pdGlhbE1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpbml0aWFsTWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmxhenkpKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgfSBlbHNlIGlmICghaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sb2FkZXIpKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGxldCBsb2FkZXJEYXRhID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmxvYWRlckRhdGEgOiBudWxsO1xuICAgIGxldCBlcnJvcnMgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgPyBpbml0Lmh5ZHJhdGlvbkRhdGEuZXJyb3JzIDogbnVsbDtcbiAgICBpZiAoZXJyb3JzKSB7XG4gICAgICBsZXQgaWR4ID0gaW5pdGlhbE1hdGNoZXMuZmluZEluZGV4KFxuICAgICAgICAobSkgPT4gZXJyb3JzW20ucm91dGUuaWRdICE9PSB2b2lkIDBcbiAgICAgICk7XG4gICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzLnNsaWNlKDAsIGlkeCArIDEpLmV2ZXJ5KChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRpYWxpemVkID0gaW5pdGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgIChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbGV0IHJvdXRlcjtcbiAgbGV0IHN0YXRlID0ge1xuICAgIGhpc3RvcnlBY3Rpb246IGluaXQuaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGluaXQuaGlzdG9yeS5sb2NhdGlvbixcbiAgICBtYXRjaGVzOiBpbml0aWFsTWF0Y2hlcyxcbiAgICBpbml0aWFsaXplZCxcbiAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgLy8gRG9uJ3QgcmVzdG9yZSBvbiBpbml0aWFsIHVwZGF0ZVN0YXRlKCkgaWYgd2Ugd2VyZSBTU1InZFxuICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGwgPyBmYWxzZSA6IG51bGwsXG4gICAgcHJldmVudFNjcm9sbFJlc2V0OiBmYWxzZSxcbiAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgIGxvYWRlckRhdGE6IGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEubG9hZGVyRGF0YSB8fCB7fSxcbiAgICBhY3Rpb25EYXRhOiBpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmFjdGlvbkRhdGEgfHwgbnVsbCxcbiAgICBlcnJvcnM6IGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEuZXJyb3JzIHx8IGluaXRpYWxFcnJvcnMsXG4gICAgZmV0Y2hlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgYmxvY2tlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgbGV0IHBlbmRpbmdBY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSBmYWxzZTtcbiAgbGV0IHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcjtcbiAgbGV0IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSBmYWxzZTtcbiAgbGV0IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyID0gbnVsbDtcbiAgbGV0IGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICBsZXQgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICBsZXQgY2FuY2VsbGVkRmV0Y2hlckxvYWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGZldGNoQ29udHJvbGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgaW5jcmVtZW50aW5nTG9hZElkID0gMDtcbiAgbGV0IHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID0gLTE7XG4gIGxldCBmZXRjaFJlbG9hZElkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBmZXRjaFJlZGlyZWN0SWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGZldGNoTG9hZE1hdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgYWN0aXZlRmV0Y2hlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBibG9ja2VyRnVuY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHZvaWQgMDtcbiAgbGV0IHBlbmRpbmdSZXZhbGlkYXRpb25EZmQgPSBudWxsO1xuICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgIHVubGlzdGVuSGlzdG9yeSA9IGluaXQuaGlzdG9yeS5saXN0ZW4oXG4gICAgICAoeyBhY3Rpb246IGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uLCBkZWx0YSB9KSA9PiB7XG4gICAgICAgIGlmICh1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUpIHtcbiAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUoKTtcbiAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgYmxvY2tlckZ1bmN0aW9ucy5zaXplID09PSAwIHx8IGRlbHRhICE9IG51bGwsXG4gICAgICAgICAgXCJZb3UgYXJlIHRyeWluZyB0byB1c2UgYSBibG9ja2VyIG9uIGEgUE9QIG5hdmlnYXRpb24gdG8gYSBsb2NhdGlvbiB0aGF0IHdhcyBub3QgY3JlYXRlZCBieSBAcmVtaXgtcnVuL3JvdXRlci4gVGhpcyB3aWxsIGZhaWwgc2lsZW50bHkgaW4gcHJvZHVjdGlvbi4gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSBhcmUgbmF2aWdhdGluZyBvdXRzaWRlIHRoZSByb3V0ZXIgdmlhIGB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGVgL2B3aW5kb3cubG9jYXRpb24uaGFzaGAgaW5zdGVhZCBvZiB1c2luZyByb3V0ZXIgbmF2aWdhdGlvbiBBUElzLiAgVGhpcyBjYW4gYWxzbyBoYXBwZW4gaWYgeW91IGFyZSB1c2luZyBjcmVhdGVIYXNoUm91dGVyIGFuZCB0aGUgdXNlciBtYW51YWxseSBjaGFuZ2VzIHRoZSBVUkwuXCJcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBoaXN0b3J5QWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYmxvY2tlcktleSAmJiBkZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IG5leHRIaXN0b3J5VXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSByZXNvbHZlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGluaXQuaGlzdG9yeS5nbyhkZWx0YSAqIC0xKTtcbiAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgICAgIHN0YXRlOiBcImJsb2NrZWRcIixcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgcHJvY2VlZCgpIHtcbiAgICAgICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgICAgIHByb2NlZWQ6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICByZXNldDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBuZXh0SGlzdG9yeVVwZGF0ZVByb21pc2UudGhlbigoKSA9PiBpbml0Lmhpc3RvcnkuZ28oZGVsdGEpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICAgICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5LCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgICAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICApO1xuICAgIGlmIChpc0Jyb3dzZXIyKSB7XG4gICAgICByZXN0b3JlQXBwbGllZFRyYW5zaXRpb25zKHJvdXRlcldpbmRvdywgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyk7XG4gICAgICBsZXQgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMgPSAoKSA9PiBwZXJzaXN0QXBwbGllZFRyYW5zaXRpb25zKHJvdXRlcldpbmRvdywgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyk7XG4gICAgICByb3V0ZXJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIF9zYXZlQXBwbGllZFRyYW5zaXRpb25zKTtcbiAgICAgIHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lciA9ICgpID0+IHJvdXRlcldpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmluaXRpYWxpemVkKSB7XG4gICAgICBzdGFydE5hdmlnYXRpb24oXCJQT1BcIiAvKiBQb3AgKi8sIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIGluaXRpYWxIeWRyYXRpb246IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHVubGlzdGVuSGlzdG9yeSkge1xuICAgICAgdW5saXN0ZW5IaXN0b3J5KCk7XG4gICAgfVxuICAgIGlmIChyZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVycy5jbGVhcigpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBzdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChfLCBrZXkpID0+IGRlbGV0ZUZldGNoZXIoa2V5KSk7XG4gICAgc3RhdGUuYmxvY2tlcnMuZm9yRWFjaCgoXywga2V5KSA9PiBkZWxldGVCbG9ja2VyKGtleSkpO1xuICB9XG4gIGZ1bmN0aW9uIHN1YnNjcmliZShmbikge1xuICAgIHN1YnNjcmliZXJzLmFkZChmbik7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmliZXJzLmRlbGV0ZShmbik7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUobmV3U3RhdGUsIG9wdHMgPSB7fSkge1xuICAgIHN0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi5uZXdTdGF0ZVxuICAgIH07XG4gICAgbGV0IHVubW91bnRlZEZldGNoZXJzID0gW107XG4gICAgbGV0IG1vdW50ZWRGZXRjaGVycyA9IFtdO1xuICAgIHN0YXRlLmZldGNoZXJzLmZvckVhY2goKGZldGNoZXIsIGtleSkgPT4ge1xuICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICAgICAgdW5tb3VudGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdW50ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZS5mZXRjaGVycy5oYXMoa2V5KSAmJiAhZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSkge1xuICAgICAgICB1bm1vdW50ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgWy4uLnN1YnNjcmliZXJzXS5mb3JFYWNoKFxuICAgICAgKHN1YnNjcmliZXIpID0+IHN1YnNjcmliZXIoc3RhdGUsIHtcbiAgICAgICAgZGVsZXRlZEZldGNoZXJzOiB1bm1vdW50ZWRGZXRjaGVycyxcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzOiBvcHRzLnZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZVxuICAgICAgfSlcbiAgICApO1xuICAgIHVubW91bnRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gZGVsZXRlRmV0Y2hlcihrZXkpKTtcbiAgICBtb3VudGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KSk7XG4gIH1cbiAgZnVuY3Rpb24gY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCBuZXdTdGF0ZSwgeyBmbHVzaFN5bmMgfSA9IHt9KSB7XG4gICAgbGV0IGlzQWN0aW9uUmVsb2FkID0gc3RhdGUuYWN0aW9uRGF0YSAhPSBudWxsICYmIHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCAhPSBudWxsICYmIGlzTXV0YXRpb25NZXRob2Qoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kKSAmJiBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBsb2NhdGlvbi5zdGF0ZT8uX2lzUmVkaXJlY3QgIT09IHRydWU7XG4gICAgbGV0IGFjdGlvbkRhdGE7XG4gICAgaWYgKG5ld1N0YXRlLmFjdGlvbkRhdGEpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTdGF0ZS5hY3Rpb25EYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFjdGlvbkRhdGEgPSBuZXdTdGF0ZS5hY3Rpb25EYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9uRGF0YSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FjdGlvblJlbG9hZCkge1xuICAgICAgYWN0aW9uRGF0YSA9IHN0YXRlLmFjdGlvbkRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbkRhdGEgPSBudWxsO1xuICAgIH1cbiAgICBsZXQgbG9hZGVyRGF0YSA9IG5ld1N0YXRlLmxvYWRlckRhdGEgPyBtZXJnZUxvYWRlckRhdGEoXG4gICAgICBzdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgbmV3U3RhdGUubG9hZGVyRGF0YSxcbiAgICAgIG5ld1N0YXRlLm1hdGNoZXMgfHwgW10sXG4gICAgICBuZXdTdGF0ZS5lcnJvcnNcbiAgICApIDogc3RhdGUubG9hZGVyRGF0YTtcbiAgICBsZXQgYmxvY2tlcnMgPSBzdGF0ZS5ibG9ja2VycztcbiAgICBpZiAoYmxvY2tlcnMuc2l6ZSA+IDApIHtcbiAgICAgIGJsb2NrZXJzID0gbmV3IE1hcChibG9ja2Vycyk7XG4gICAgICBibG9ja2Vycy5mb3JFYWNoKChfLCBrKSA9PiBibG9ja2Vycy5zZXQoaywgSURMRV9CTE9DS0VSKSk7XG4gICAgfVxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlIHx8IHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCAhPSBudWxsICYmIGlzTXV0YXRpb25NZXRob2Qoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kKSAmJiBsb2NhdGlvbi5zdGF0ZT8uX2lzUmVkaXJlY3QgIT09IHRydWU7XG4gICAgaWYgKGluRmxpZ2h0RGF0YVJvdXRlcykge1xuICAgICAgZGF0YVJvdXRlcyA9IGluRmxpZ2h0RGF0YVJvdXRlcztcbiAgICAgIGluRmxpZ2h0RGF0YVJvdXRlcyA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbikge1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJQT1BcIiAvKiBQb3AgKi8pIHtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUFVTSFwiIC8qIFB1c2ggKi8pIHtcbiAgICAgIGluaXQuaGlzdG9yeS5wdXNoKGxvY2F0aW9uLCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucmVwbGFjZShsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH1cbiAgICBsZXQgdmlld1RyYW5zaXRpb25PcHRzO1xuICAgIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlBPUFwiIC8qIFBvcCAqLykge1xuICAgICAgbGV0IHByaW9yUGF0aHMgPSBhcHBsaWVkVmlld1RyYW5zaXRpb25zLmdldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBpZiAocHJpb3JQYXRocyAmJiBwcmlvclBhdGhzLmhhcyhsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChhcHBsaWVkVmlld1RyYW5zaXRpb25zLmhhcyhsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCkge1xuICAgICAgbGV0IHRvUGF0aHMgPSBhcHBsaWVkVmlld1RyYW5zaXRpb25zLmdldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBpZiAodG9QYXRocykge1xuICAgICAgICB0b1BhdGhzLmFkZChsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b1BhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW2xvY2F0aW9uLnBhdGhuYW1lXSk7XG4gICAgICAgIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuc2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lLCB0b1BhdGhzKTtcbiAgICAgIH1cbiAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7XG4gICAgICAgIC4uLm5ld1N0YXRlLFxuICAgICAgICAvLyBtYXRjaGVzLCBlcnJvcnMsIGZldGNoZXJzIGdvIHRocm91Z2ggYXMtaXNcbiAgICAgICAgYWN0aW9uRGF0YSxcbiAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgaGlzdG9yeUFjdGlvbjogcGVuZGluZ0FjdGlvbixcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihcbiAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICBuZXdTdGF0ZS5tYXRjaGVzIHx8IHN0YXRlLm1hdGNoZXNcbiAgICAgICAgKSxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBibG9ja2Vyc1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzLFxuICAgICAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyA9PT0gdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgcGVuZGluZ0FjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICAgIHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSBmYWxzZTtcbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gZmFsc2U7XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICAgIHBlbmRpbmdSZXZhbGlkYXRpb25EZmQ/LnJlc29sdmUoKTtcbiAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkID0gbnVsbDtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBuYXZpZ2F0ZSh0bywgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGluaXQuaGlzdG9yeS5nbyh0byk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVRvKFxuICAgICAgc3RhdGUubG9jYXRpb24sXG4gICAgICBzdGF0ZS5tYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICB0byxcbiAgICAgIG9wdHM/LmZyb21Sb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCB7IHBhdGgsIHN1Ym1pc3Npb24sIGVycm9yIH0gPSBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gICAgICBmYWxzZSxcbiAgICAgIG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgb3B0c1xuICAgICk7XG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IHN0YXRlLmxvY2F0aW9uO1xuICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGF0ZS5sb2NhdGlvbiwgcGF0aCwgb3B0cyAmJiBvcHRzLnN0YXRlKTtcbiAgICBuZXh0TG9jYXRpb24gPSB7XG4gICAgICAuLi5uZXh0TG9jYXRpb24sXG4gICAgICAuLi5pbml0Lmhpc3RvcnkuZW5jb2RlTG9jYXRpb24obmV4dExvY2F0aW9uKVxuICAgIH07XG4gICAgbGV0IHVzZXJSZXBsYWNlID0gb3B0cyAmJiBvcHRzLnJlcGxhY2UgIT0gbnVsbCA/IG9wdHMucmVwbGFjZSA6IHZvaWQgMDtcbiAgICBsZXQgaGlzdG9yeUFjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgaWYgKHVzZXJSZXBsYWNlID09PSB0cnVlKSB7XG4gICAgICBoaXN0b3J5QWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICB9IGVsc2UgaWYgKHVzZXJSZXBsYWNlID09PSBmYWxzZSkge1xuICAgIH0gZWxzZSBpZiAoc3VibWlzc2lvbiAhPSBudWxsICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSAmJiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24gPT09IHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lICsgc3RhdGUubG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBoaXN0b3J5QWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICB9XG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9IG9wdHMgJiYgXCJwcmV2ZW50U2Nyb2xsUmVzZXRcIiBpbiBvcHRzID8gb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWUgOiB2b2lkIDA7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcbiAgICBsZXQgYmxvY2tlcktleSA9IHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBoaXN0b3J5QWN0aW9uXG4gICAgfSk7XG4gICAgaWYgKGJsb2NrZXJLZXkpIHtcbiAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICBzdGF0ZTogXCJibG9ja2VkXCIsXG4gICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sXG4gICAgICAgIHByb2NlZWQoKSB7XG4gICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICBzdGF0ZTogXCJwcm9jZWVkaW5nXCIsXG4gICAgICAgICAgICBwcm9jZWVkOiB2b2lkIDAsXG4gICAgICAgICAgICByZXNldDogdm9pZCAwLFxuICAgICAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5hdmlnYXRlKHRvLCBvcHRzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgICAgICAgYmxvY2tlcnMuc2V0KGJsb2NrZXJLZXksIElETEVfQkxPQ0tFUik7XG4gICAgICAgICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBuZXh0TG9jYXRpb24sIHtcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAvLyBTZW5kIHRocm91Z2ggdGhlIGZvcm1EYXRhIHNlcmlhbGl6YXRpb24gZXJyb3IgaWYgd2UgaGF2ZSBvbmUgc28gd2UgY2FuXG4gICAgICAvLyByZW5kZXIgYXQgdGhlIHJpZ2h0IGVycm9yIGJvdW5kYXJ5IGFmdGVyIHdlIG1hdGNoIHJvdXRlc1xuICAgICAgcGVuZGluZ0Vycm9yOiBlcnJvcixcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlcGxhY2U6IG9wdHMgJiYgb3B0cy5yZXBsYWNlLFxuICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IG9wdHMgJiYgb3B0cy52aWV3VHJhbnNpdGlvbixcbiAgICAgIGZsdXNoU3luY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHJldmFsaWRhdGUoKSB7XG4gICAgaWYgKCFwZW5kaW5nUmV2YWxpZGF0aW9uRGZkKSB7XG4gICAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkID0gY3JlYXRlRGVmZXJyZWQoKTtcbiAgICB9XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcbiAgICB1cGRhdGVTdGF0ZSh7IHJldmFsaWRhdGlvbjogXCJsb2FkaW5nXCIgfSk7XG4gICAgbGV0IHByb21pc2UgPSBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkLnByb21pc2U7XG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwic3VibWl0dGluZ1wiKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICBzdGFydE5hdmlnYXRpb24oc3RhdGUuaGlzdG9yeUFjdGlvbiwgc3RhdGUubG9jYXRpb24sIHtcbiAgICAgICAgc3RhcnRVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBzdGFydE5hdmlnYXRpb24oXG4gICAgICBwZW5kaW5nQWN0aW9uIHx8IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLFxuICAgICAge1xuICAgICAgICBvdmVycmlkZU5hdmlnYXRpb246IHN0YXRlLm5hdmlnYXRpb24sXG4gICAgICAgIC8vIFByb3h5IHRocm91Z2ggYW55IHJlbmRpbmcgdmlldyB0cmFuc2l0aW9uXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID09PSB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24sIG9wdHMpIHtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICBwZW5kaW5nQWN0aW9uID0gaGlzdG9yeUFjdGlvbjtcbiAgICBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSAob3B0cyAmJiBvcHRzLnN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbikgPT09IHRydWU7XG4gICAgc2F2ZVNjcm9sbFBvc2l0aW9uKHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5tYXRjaGVzKTtcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gKG9wdHMgJiYgb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQpID09PSB0cnVlO1xuICAgIHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSAob3B0cyAmJiBvcHRzLmVuYWJsZVZpZXdUcmFuc2l0aW9uKSA9PT0gdHJ1ZTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbG9hZGluZ05hdmlnYXRpb24gPSBvcHRzICYmIG9wdHMub3ZlcnJpZGVOYXZpZ2F0aW9uO1xuICAgIGxldCBtYXRjaGVzID0gb3B0cz8uaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5tYXRjaGVzICYmIHN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMCAmJiAhaW5pdGlhbE1hdGNoZXNJc0ZPVyA/IChcbiAgICAgIC8vIGBtYXRjaFJvdXRlcygpYCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCBpZiB3ZSdyZSBpbiBoZXJlIHZpYSBgcm91dGVyLmluaXRpYWxpemUoKWBcbiAgICAgIHN0YXRlLm1hdGNoZXNcbiAgICApIDogbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcbiAgICBpZiAobWF0Y2hlcyAmJiBzdGF0ZS5pbml0aWFsaXplZCAmJiAhaXNSZXZhbGlkYXRpb25SZXF1aXJlZCAmJiBpc0hhc2hDaGFuZ2VPbmx5KHN0YXRlLmxvY2F0aW9uLCBsb2NhdGlvbikgJiYgIShvcHRzICYmIG9wdHMuc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKG9wdHMuc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkpIHtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwgeyBtYXRjaGVzIH0sIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCByZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBsb2NhdGlvbixcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwsXG4gICAgICBvcHRzICYmIG9wdHMuc3VibWlzc2lvblxuICAgICk7XG4gICAgbGV0IHNjb3BlZENvbnRleHQgPSBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKFxuICAgICAgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0ID8gYXdhaXQgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0KCkgOiB2b2lkIDBcbiAgICApO1xuICAgIGxldCBwZW5kaW5nQWN0aW9uUmVzdWx0O1xuICAgIGlmIChvcHRzICYmIG9wdHMucGVuZGluZ0Vycm9yKSB7XG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ID0gW1xuICAgICAgICBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMpLnJvdXRlLmlkLFxuICAgICAgICB7IHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLywgZXJyb3I6IG9wdHMucGVuZGluZ0Vycm9yIH1cbiAgICAgIF07XG4gICAgfSBlbHNlIGlmIChvcHRzICYmIG9wdHMuc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKG9wdHMuc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgICAgbGV0IGFjdGlvblJlc3VsdCA9IGF3YWl0IGhhbmRsZUFjdGlvbihcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG9wdHMuc3VibWlzc2lvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgICB7IHJlcGxhY2U6IG9wdHMucmVwbGFjZSwgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgICAgICBsZXQgW3JvdXRlSWQsIHJlc3VsdF0gPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSAmJiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpICYmIHJlc3VsdC5lcnJvci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICAgICAgICBtYXRjaGVzOiBhY3Rpb25SZXN1bHQubWF0Y2hlcyxcbiAgICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICAgIFtyb3V0ZUlkXTogcmVzdWx0LmVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtYXRjaGVzID0gYWN0aW9uUmVzdWx0Lm1hdGNoZXMgfHwgbWF0Y2hlcztcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIG9wdHMuc3VibWlzc2lvbik7XG4gICAgICBmbHVzaFN5bmMgPSBmYWxzZTtcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgICBpbml0Lmhpc3RvcnksXG4gICAgICAgIHJlcXVlc3QudXJsLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHtcbiAgICAgIHNob3J0Q2lyY3VpdGVkLFxuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzXG4gICAgfSA9IGF3YWl0IGhhbmRsZUxvYWRlcnMoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMuZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIG9wdHMgJiYgb3B0cy5pbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG4gICAgaWYgKHNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICBtYXRjaGVzOiB1cGRhdGVkTWF0Y2hlcyB8fCBtYXRjaGVzLFxuICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnNcbiAgICB9KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBY3Rpb24ocmVxdWVzdCwgbG9jYXRpb24sIHN1Ym1pc3Npb24sIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIG9wdHMgPSB7fSkge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgbGV0IG5hdmlnYXRpb24gPSBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbik7XG4gICAgdXBkYXRlU3RhdGUoeyBuYXZpZ2F0aW9uIH0sIHsgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZSB9KTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5SWQgPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzKS5yb3V0ZS5pZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICBib3VuZGFyeUlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgICAgIGVycm9yOiBkaXNjb3ZlclJlc3VsdC5lcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHsgbm90Rm91bmRNYXRjaGVzLCBlcnJvciwgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICByb3V0ZS5pZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBhY3Rpb25NYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKTtcbiAgICBpZiAoIWFjdGlvbk1hdGNoLnJvdXRlLmFjdGlvbiAmJiAhYWN0aW9uTWF0Y2gucm91dGUubGF6eSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIFthY3Rpb25NYXRjaF0sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBpZiAocmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgcmVwbGFjZTI7XG4gICAgICBpZiAob3B0cyAmJiBvcHRzLnJlcGxhY2UgIT0gbnVsbCkge1xuICAgICAgICByZXBsYWNlMiA9IG9wdHMucmVwbGFjZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBsb2NhdGlvbjIgPSBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICAgICAgICAgIHJlc3VsdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpLFxuICAgICAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJlcGxhY2UyID0gbG9jYXRpb24yID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICBzdWJtaXNzaW9uLFxuICAgICAgICByZXBsYWNlOiByZXBsYWNlMlxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuICAgICAgaWYgKChvcHRzICYmIG9wdHMucmVwbGFjZSkgIT09IHRydWUpIHtcbiAgICAgICAgcGVuZGluZ0FjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbYWN0aW9uTWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUxvYWRlcnMocmVxdWVzdCwgbG9jYXRpb24sIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIG92ZXJyaWRlTmF2aWdhdGlvbiwgc3VibWlzc2lvbiwgZmV0Y2hlclN1Ym1pc3Npb24sIHJlcGxhY2UyLCBpbml0aWFsSHlkcmF0aW9uLCBmbHVzaFN5bmMsIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBsZXQgbG9hZGluZ05hdmlnYXRpb24gPSBvdmVycmlkZU5hdmlnYXRpb24gfHwgZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pO1xuICAgIGxldCBhY3RpdmVTdWJtaXNzaW9uID0gc3VibWlzc2lvbiB8fCBmZXRjaGVyU3VibWlzc2lvbiB8fCBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24obG9hZGluZ05hdmlnYXRpb24pO1xuICAgIGxldCBzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUgPSAhaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uICYmICFpbml0aWFsSHlkcmF0aW9uO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlKSB7XG4gICAgICAgIGxldCBhY3Rpb25EYXRhID0gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCk7XG4gICAgICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb246IGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgICAgICAgLi4uYWN0aW9uRGF0YSAhPT0gdm9pZCAwID8geyBhY3Rpb25EYXRhIH0gOiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmx1c2hTeW5jXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5SWQgPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzKS5yb3V0ZS5pZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtib3VuZGFyeUlkXTogZGlzY292ZXJSZXN1bHQuZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIGxldCB7IGVycm9yLCBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgW21hdGNoZXNUb0xvYWQsIHJldmFsaWRhdGluZ0ZldGNoZXJzXSA9IGdldE1hdGNoZXNUb0xvYWQoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBhY3RpdmVTdWJtaXNzaW9uLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBpbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA9ICsraW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGlmIChtYXRjaGVzVG9Mb2FkLmxlbmd0aCA9PT0gMCAmJiByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMyID0gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpO1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAge1xuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgLy8gQ29tbWl0IHBlbmRpbmcgZXJyb3IgaWYgd2UncmUgc2hvcnQgY2lyY3VpdGluZ1xuICAgICAgICAgIGVycm9yczogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8geyBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgfSA6IG51bGwsXG4gICAgICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgICAgICAuLi51cGRhdGVkRmV0Y2hlcnMyID8geyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSA6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBpZiAoc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlKSB7XG4gICAgICBsZXQgdXBkYXRlcyA9IHt9O1xuICAgICAgaWYgKCFpc0ZvZ09mV2FyKSB7XG4gICAgICAgIHVwZGF0ZXMubmF2aWdhdGlvbiA9IGxvYWRpbmdOYXZpZ2F0aW9uO1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICBpZiAoYWN0aW9uRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdXBkYXRlcy5hY3Rpb25EYXRhID0gYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlcy5mZXRjaGVycyA9IGdldFVwZGF0ZWRSZXZhbGlkYXRpbmdGZXRjaGVycyhyZXZhbGlkYXRpbmdGZXRjaGVycyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVTdGF0ZSh1cGRhdGVzLCB7IGZsdXNoU3luYyB9KTtcbiAgICB9XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGFib3J0RmV0Y2hlcihyZi5rZXkpO1xuICAgICAgaWYgKHJmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5zZXQocmYua2V5LCByZi5jb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zID0gKCkgPT4gcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgoZikgPT4gYWJvcnRGZXRjaGVyKGYua2V5KSk7XG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHsgbG9hZGVyUmVzdWx0cywgZmV0Y2hlclJlc3VsdHMgfSA9IGF3YWl0IGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICByZXF1ZXN0LFxuICAgICAgc2NvcGVkQ29udGV4dFxuICAgICk7XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShyZi5rZXkpKTtcbiAgICBsZXQgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGxvYWRlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0Mi5yZXN1bHQsIHRydWUsIHtcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGZldGNoZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChyZWRpcmVjdDIua2V5KTtcbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0Mi5yZXN1bHQsIHRydWUsIHtcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICBmZXRjaGVyUmVzdWx0c1xuICAgICk7XG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgICBlcnJvcnMgPSB7IC4uLnN0YXRlLmVycm9ycywgLi4uZXJyb3JzIH07XG4gICAgfVxuICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCk7XG4gICAgbGV0IGRpZEFib3J0RmV0Y2hMb2FkcyA9IGFib3J0U3RhbGVGZXRjaExvYWRzKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkKTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlRmV0Y2hlcnMgPSB1cGRhdGVkRmV0Y2hlcnMgfHwgZGlkQWJvcnRGZXRjaExvYWRzIHx8IHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzLFxuICAgICAgLi4uc2hvdWxkVXBkYXRlRmV0Y2hlcnMgPyB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9IDoge31cbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBpZiAocGVuZGluZ0FjdGlvblJlc3VsdCAmJiAhaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGFcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5hY3Rpb25EYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGUuYWN0aW9uRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGlvbkRhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFVwZGF0ZWRSZXZhbGlkYXRpbmdGZXRjaGVycyhyZXZhbGlkYXRpbmdGZXRjaGVycykge1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChyZi5rZXkpO1xuICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBmZXRjaGVyID8gZmV0Y2hlci5kYXRhIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHJmLmtleSwgcmV2YWxpZGF0aW5nRmV0Y2hlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoMihrZXksIHJvdXRlSWQsIGhyZWYyLCBvcHRzKSB7XG4gICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgaHJlZjIsXG4gICAgICByb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoLCBiYXNlbmFtZSk7XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbm9ybWFsaXplZFBhdGgpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBub3JtYWxpemVkUGF0aCB9KSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHsgcGF0aCwgc3VibWlzc2lvbiwgZXJyb3IgfSA9IG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgICAgIHRydWUsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBwYXRoKTtcbiAgICBsZXQgc2NvcGVkQ29udGV4dCA9IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoXG4gICAgICBpbml0LnVuc3RhYmxlX2dldENvbnRleHQgPyBhd2FpdCBpbml0LnVuc3RhYmxlX2dldENvbnRleHQoKSA6IHZvaWQgMFxuICAgICk7XG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcbiAgICBpZiAoc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGF3YWl0IGhhbmRsZUZldGNoZXJBY3Rpb24oXG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZCxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgZmx1c2hTeW5jLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuc2V0KGtleSwgeyByb3V0ZUlkLCBwYXRoIH0pO1xuICAgIGF3YWl0IGhhbmRsZUZldGNoZXJMb2FkZXIoXG4gICAgICBrZXksXG4gICAgICByb3V0ZUlkLFxuICAgICAgcGF0aCxcbiAgICAgIG1hdGNoLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICBmbHVzaFN5bmMsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICBzdWJtaXNzaW9uXG4gICAgKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGZXRjaGVyQWN0aW9uKGtleSwgcm91dGVJZCwgcGF0aCwgbWF0Y2gsIHJlcXVlc3RNYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBmbHVzaFN5bmMsIHByZXZlbnRTY3JvbGxSZXNldCwgc3VibWlzc2lvbikge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5kZWxldGUoa2V5KTtcbiAgICBmdW5jdGlvbiBkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtKSB7XG4gICAgICBpZiAoIW0ucm91dGUuYWN0aW9uICYmICFtLnJvdXRlLmxhenkpIHtcbiAgICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICBtZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgICAgICBwYXRobmFtZTogcGF0aCxcbiAgICAgICAgICByb3V0ZUlkXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWlzRm9nT2ZXYXIgJiYgZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobWF0Y2gpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXRTdWJtaXR0aW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBleGlzdGluZ0ZldGNoZXIpLCB7XG4gICAgICBmbHVzaFN5bmNcbiAgICB9KTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICByZXF1ZXN0TWF0Y2hlcyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgZmV0Y2hSZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAga2V5XG4gICAgICApO1xuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGRpc2NvdmVyUmVzdWx0LmVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IHBhdGggfSksXG4gICAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0TWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICAgIG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gocmVxdWVzdE1hdGNoZXMsIHBhdGgpO1xuICAgICAgICBpZiAoZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobWF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IGFjdGlvblJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJhY3Rpb25cIixcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIFttYXRjaF0sXG4gICAgICByZXF1ZXN0TWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGxldCBhY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KSA9PT0gYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChhY3Rpb25SZXN1bHQpIHx8IGlzRXJyb3JSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA+IG9yaWdpbmF0aW5nTG9hZElkKSB7XG4gICAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKGtleSk7XG4gICAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbikpO1xuICAgICAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihmZXRjaFJlcXVlc3QsIGFjdGlvblJlc3VsdCwgZmFsc2UsIHtcbiAgICAgICAgICAgIGZldGNoZXJTdWJtaXNzaW9uOiBzdWJtaXNzaW9uLFxuICAgICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgYWN0aW9uUmVzdWx0LmVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbmV4dExvY2F0aW9uID0gc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiB8fCBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgcmV2YWxpZGF0aW9uUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICk7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG1hdGNoZXMgPSBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlICE9PSBcImlkbGVcIiA/IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLCBiYXNlbmFtZSkgOiBzdGF0ZS5tYXRjaGVzO1xuICAgIGludmFyaWFudChtYXRjaGVzLCBcIkRpZG4ndCBmaW5kIGFueSBtYXRjaGVzIGFmdGVyIGZldGNoZXIgYWN0aW9uXCIpO1xuICAgIGxldCBsb2FkSWQgPSArK2luY3JlbWVudGluZ0xvYWRJZDtcbiAgICBmZXRjaFJlbG9hZElkcy5zZXQoa2V5LCBsb2FkSWQpO1xuICAgIGxldCBsb2FkRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGFjdGlvblJlc3VsdC5kYXRhKTtcbiAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBsb2FkRmV0Y2hlcik7XG4gICAgbGV0IFttYXRjaGVzVG9Mb2FkLCByZXZhbGlkYXRpbmdGZXRjaGVyc10gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgc3VibWlzc2lvbixcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGZhbHNlLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBbbWF0Y2gucm91dGUuaWQsIGFjdGlvblJlc3VsdF1cbiAgICApO1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZpbHRlcigocmYpID0+IHJmLmtleSAhPT0ga2V5KS5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgbGV0IHN0YWxlS2V5ID0gcmYua2V5O1xuICAgICAgbGV0IGV4aXN0aW5nRmV0Y2hlcjIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoc3RhbGVLZXkpO1xuICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBleGlzdGluZ0ZldGNoZXIyID8gZXhpc3RpbmdGZXRjaGVyMi5kYXRhIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHN0YWxlS2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICAgIGFib3J0RmV0Y2hlcihzdGFsZUtleSk7XG4gICAgICBpZiAocmYuY29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLnNldChzdGFsZUtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+IHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBhYm9ydEZldGNoZXIocmYua2V5KSk7XG4gICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJhYm9ydFwiLFxuICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgKTtcbiAgICBsZXQgeyBsb2FkZXJSZXN1bHRzLCBmZXRjaGVyUmVzdWx0cyB9ID0gYXdhaXQgY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICBzY29wZWRDb250ZXh0XG4gICAgKTtcbiAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYWJvcnRcIixcbiAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICk7XG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyKSA9PiBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShyLmtleSkpO1xuICAgIGxldCByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QobG9hZGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICByZWRpcmVjdDIucmVzdWx0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgeyBwcmV2ZW50U2Nyb2xsUmVzZXQgfVxuICAgICAgKTtcbiAgICB9XG4gICAgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGZldGNoZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChyZWRpcmVjdDIua2V5KTtcbiAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVkaXJlY3QyLnJlc3VsdCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgcHJldmVudFNjcm9sbFJlc2V0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc0xvYWRlckRhdGEoXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgdm9pZCAwLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICBmZXRjaGVyUmVzdWx0c1xuICAgICk7XG4gICAgaWYgKHN0YXRlLmZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihhY3Rpb25SZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICAgIGFib3J0U3RhbGVGZXRjaExvYWRzKGxvYWRJZCk7XG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGxvYWRJZCA+IHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkKSB7XG4gICAgICBpbnZhcmlhbnQocGVuZGluZ0FjdGlvbiwgXCJFeHBlY3RlZCBwZW5kaW5nIGFjdGlvblwiKTtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLCB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlU3RhdGUoe1xuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGxvYWRlckRhdGE6IG1lcmdlTG9hZGVyRGF0YShcbiAgICAgICAgICBzdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBlcnJvcnNcbiAgICAgICAgKSxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpXG4gICAgICB9KTtcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckxvYWRlcihrZXksIHJvdXRlSWQsIHBhdGgsIG1hdGNoLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBmbHVzaFN5bmMsIHByZXZlbnRTY3JvbGxSZXNldCwgc3VibWlzc2lvbikge1xuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoXG4gICAgICBrZXksXG4gICAgICBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgICAgICksXG4gICAgICB7IGZsdXNoU3luYyB9XG4gICAgKTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICAgIG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgcGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIFttYXRjaF0sXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGtleVxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpID09PSBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGlmIChmZXRjaFJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPiBvcmlnaW5hdGluZ0xvYWRJZCkge1xuICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQoa2V5KTtcbiAgICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oZmV0Y2hSZXF1ZXN0LCByZXN1bHQsIGZhbHNlLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIHJlc3VsdC5lcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHJlc3VsdC5kYXRhKSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QyLCBpc05hdmlnYXRpb24sIHtcbiAgICBzdWJtaXNzaW9uLFxuICAgIGZldGNoZXJTdWJtaXNzaW9uLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICByZXBsYWNlOiByZXBsYWNlMlxuICB9ID0ge30pIHtcbiAgICBpZiAocmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXZhbGlkYXRlXCIpKSB7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGxvY2F0aW9uID0gcmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gICAgaW52YXJpYW50KGxvY2F0aW9uLCBcIkV4cGVjdGVkIGEgTG9jYXRpb24gaGVhZGVyIG9uIHRoZSByZWRpcmVjdCBSZXNwb25zZVwiKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24oXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgYmFzZW5hbWVcbiAgICApO1xuICAgIGxldCByZWRpcmVjdExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIGxvY2F0aW9uLCB7XG4gICAgICBfaXNSZWRpcmVjdDogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChpc0Jyb3dzZXIyKSB7XG4gICAgICBsZXQgaXNEb2N1bWVudFJlbG9hZCA9IGZhbHNlO1xuICAgICAgaWYgKHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpKSB7XG4gICAgICAgIGlzRG9jdW1lbnRSZWxvYWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICAgICAgY29uc3QgdXJsID0gaW5pdC5oaXN0b3J5LmNyZWF0ZVVSTChsb2NhdGlvbik7XG4gICAgICAgIGlzRG9jdW1lbnRSZWxvYWQgPSAvLyBIYXJkIHJlbG9hZCBpZiBpdCdzIGFuIGFic29sdXRlIFVSTCB0byBhIG5ldyBvcmlnaW5cbiAgICAgICAgdXJsLm9yaWdpbiAhPT0gcm91dGVyV2luZG93LmxvY2F0aW9uLm9yaWdpbiB8fCAvLyBIYXJkIHJlbG9hZCBpZiBpdCdzIGFuIGFic29sdXRlIFVSTCB0aGF0IGRvZXMgbm90IG1hdGNoIG91ciBiYXNlbmFtZVxuICAgICAgICBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpID09IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoaXNEb2N1bWVudFJlbG9hZCkge1xuICAgICAgICBpZiAocmVwbGFjZTIpIHtcbiAgICAgICAgICByb3V0ZXJXaW5kb3cubG9jYXRpb24ucmVwbGFjZShsb2NhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm91dGVyV2luZG93LmxvY2F0aW9uLmFzc2lnbihsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCByZWRpcmVjdE5hdmlnYXRpb25UeXBlID0gcmVwbGFjZTIgPT09IHRydWUgfHwgcmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXBsYWNlXCIpID8gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLyA6IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUFjdGlvbiwgZm9ybUVuY1R5cGUgfSA9IHN0YXRlLm5hdmlnYXRpb247XG4gICAgaWYgKCFzdWJtaXNzaW9uICYmICFmZXRjaGVyU3VibWlzc2lvbiAmJiBmb3JtTWV0aG9kICYmIGZvcm1BY3Rpb24gJiYgZm9ybUVuY1R5cGUpIHtcbiAgICAgIHN1Ym1pc3Npb24gPSBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbik7XG4gICAgfVxuICAgIGxldCBhY3RpdmVTdWJtaXNzaW9uID0gc3VibWlzc2lvbiB8fCBmZXRjaGVyU3VibWlzc2lvbjtcbiAgICBpZiAocmVkaXJlY3RQcmVzZXJ2ZU1ldGhvZFN0YXR1c0NvZGVzLmhhcyhyZWRpcmVjdDIucmVzcG9uc2Uuc3RhdHVzKSAmJiBhY3RpdmVTdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2QoYWN0aXZlU3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKHJlZGlyZWN0TmF2aWdhdGlvblR5cGUsIHJlZGlyZWN0TG9jYXRpb24sIHtcbiAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgIC4uLmFjdGl2ZVN1Ym1pc3Npb24sXG4gICAgICAgICAgZm9ybUFjdGlvbjogbG9jYXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgLy8gUHJlc2VydmUgdGhlc2UgZmxhZ3MgYWNyb3NzIHJlZGlyZWN0c1xuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IHByZXZlbnRTY3JvbGxSZXNldCB8fCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogaXNOYXZpZ2F0aW9uID8gcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBvdmVycmlkZU5hdmlnYXRpb24gPSBnZXRMb2FkaW5nTmF2aWdhdGlvbihcbiAgICAgICAgcmVkaXJlY3RMb2NhdGlvbixcbiAgICAgICAgc3VibWlzc2lvblxuICAgICAgKTtcbiAgICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihyZWRpcmVjdE5hdmlnYXRpb25UeXBlLCByZWRpcmVjdExvY2F0aW9uLCB7XG4gICAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbixcbiAgICAgICAgLy8gU2VuZCBmZXRjaGVyIHN1Ym1pc3Npb25zIHRocm91Z2ggZm9yIHNob3VsZFJldmFsaWRhdGVcbiAgICAgICAgZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZXNlIGZsYWdzIGFjcm9zcyByZWRpcmVjdHNcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBwcmV2ZW50U2Nyb2xsUmVzZXQgfHwgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IGlzTmF2aWdhdGlvbiA/IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5KHR5cGUsIHJlcXVlc3QsIG1hdGNoZXNUb0xvYWQsIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGZldGNoZXJLZXkpIHtcbiAgICBsZXQgcmVzdWx0cztcbiAgICBsZXQgZGF0YVJlc3VsdHMgPSB7fTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgICBkYXRhU3RyYXRlZ3lJbXBsLFxuICAgICAgICB0eXBlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgZnV0dXJlLnVuc3RhYmxlX21pZGRsZXdhcmVcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbWF0Y2hlc1RvTG9hZC5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGRhdGFSZXN1bHRzW20ucm91dGUuaWRdID0ge1xuICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICBlcnJvcjogZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gICAgfVxuICAgIGZvciAobGV0IFtyb3V0ZUlkLCByZXN1bHRdIG9mIE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpKSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgIGRhdGFSZXN1bHRzW3JvdXRlSWRdID0ge1xuICAgICAgICAgIHR5cGU6IFwicmVkaXJlY3RcIiAvKiByZWRpcmVjdCAqLyxcbiAgICAgICAgICByZXNwb25zZTogbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgYmFzZW5hbWVcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhUmVzdWx0c1tyb3V0ZUlkXSA9IGF3YWl0IGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQoXG4gICAgICAgICAgcmVzdWx0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEobWF0Y2hlcywgbWF0Y2hlc1RvTG9hZCwgZmV0Y2hlcnNUb0xvYWQsIHJlcXVlc3QsIHNjb3BlZENvbnRleHQpIHtcbiAgICBsZXQgbG9hZGVyUmVzdWx0c1Byb21pc2UgPSBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBsZXQgZmV0Y2hlclJlc3VsdHNQcm9taXNlID0gUHJvbWlzZS5hbGwoXG4gICAgICBmZXRjaGVyc1RvTG9hZC5tYXAoYXN5bmMgKGYpID0+IHtcbiAgICAgICAgaWYgKGYubWF0Y2hlcyAmJiBmLm1hdGNoICYmIGYuY29udHJvbGxlcikge1xuICAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgICAgIFwibG9hZGVyXCIsXG4gICAgICAgICAgICBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChpbml0Lmhpc3RvcnksIGYucGF0aCwgZi5jb250cm9sbGVyLnNpZ25hbCksXG4gICAgICAgICAgICBbZi5tYXRjaF0sXG4gICAgICAgICAgICBmLm1hdGNoZXMsXG4gICAgICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICAgICAgZi5rZXlcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2YubWF0Y2gucm91dGUuaWRdO1xuICAgICAgICAgIHJldHVybiB7IFtmLmtleV06IHJlc3VsdCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgW2Yua2V5XToge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBmLnBhdGhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICAgIGxldCBsb2FkZXJSZXN1bHRzID0gYXdhaXQgbG9hZGVyUmVzdWx0c1Byb21pc2U7XG4gICAgbGV0IGZldGNoZXJSZXN1bHRzID0gKGF3YWl0IGZldGNoZXJSZXN1bHRzUHJvbWlzZSkucmVkdWNlKFxuICAgICAgKGFjYywgcikgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHIpLFxuICAgICAge31cbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgZmV0Y2hlclJlc3VsdHNcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGludGVycnVwdEFjdGl2ZUxvYWRzKCkge1xuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuICAgIGZldGNoTG9hZE1hdGNoZXMuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSkge1xuICAgICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuYWRkKGtleSk7XG4gICAgICB9XG4gICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBmZXRjaGVyLCBvcHRzID0ge30pIHtcbiAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBmZXRjaGVyKTtcbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0sXG4gICAgICB7IGZsdXNoU3luYzogKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCBvcHRzID0ge30pIHtcbiAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgcm91dGVJZCk7XG4gICAgZGVsZXRlRmV0Y2hlcihrZXkpO1xuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSxcbiAgICAgIHsgZmx1c2hTeW5jOiAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWUgfVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RmV0Y2hlcihrZXkpIHtcbiAgICBhY3RpdmVGZXRjaGVycy5zZXQoa2V5LCAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgKyAxKTtcbiAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmZldGNoZXJzLmdldChrZXkpIHx8IElETEVfRkVUQ0hFUjtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVGZXRjaGVyKGtleSkge1xuICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkgJiYgIShmZXRjaGVyICYmIGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGZldGNoUmVsb2FkSWRzLmhhcyhrZXkpKSkge1xuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmRlbGV0ZShrZXkpO1xuICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBxdWV1ZUZldGNoZXJGb3JEZWxldGlvbihrZXkpIHtcbiAgICBsZXQgY291bnQgPSAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgLSAxO1xuICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uYWRkKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIGNvdW50KTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWJvcnRGZXRjaGVyKGtleSkge1xuICAgIGxldCBjb250cm9sbGVyID0gZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KTtcbiAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFya0ZldGNoZXJzRG9uZShrZXlzKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgIGxldCBmZXRjaGVyID0gZ2V0RmV0Y2hlcihrZXkpO1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIoZmV0Y2hlci5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpIHtcbiAgICBsZXQgZG9uZUtleXMgPSBbXTtcbiAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gZmFsc2U7XG4gICAgZm9yIChsZXQga2V5IG9mIGZldGNoUmVkaXJlY3RJZHMpIHtcbiAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgICBpbnZhcmlhbnQoZmV0Y2hlciwgYEV4cGVjdGVkIGZldGNoZXI6ICR7a2V5fWApO1xuICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIGZldGNoUmVkaXJlY3RJZHMuZGVsZXRlKGtleSk7XG4gICAgICAgIGRvbmVLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgdXBkYXRlZEZldGNoZXJzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFya0ZldGNoZXJzRG9uZShkb25lS2V5cyk7XG4gICAgcmV0dXJuIHVwZGF0ZWRGZXRjaGVycztcbiAgfVxuICBmdW5jdGlvbiBhYm9ydFN0YWxlRmV0Y2hMb2FkcyhsYW5kZWRJZCkge1xuICAgIGxldCB5ZWV0ZWRLZXlzID0gW107XG4gICAgZm9yIChsZXQgW2tleSwgaWRdIG9mIGZldGNoUmVsb2FkSWRzKSB7XG4gICAgICBpZiAoaWQgPCBsYW5kZWRJZCkge1xuICAgICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgICAgICBpbnZhcmlhbnQoZmV0Y2hlciwgYEV4cGVjdGVkIGZldGNoZXI6ICR7a2V5fWApO1xuICAgICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICAgICAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICB5ZWV0ZWRLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtYXJrRmV0Y2hlcnNEb25lKHllZXRlZEtleXMpO1xuICAgIHJldHVybiB5ZWV0ZWRLZXlzLmxlbmd0aCA+IDA7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0QmxvY2tlcihrZXksIGZuKSB7XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoa2V5KSB8fCBJRExFX0JMT0NLRVI7XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuZ2V0KGtleSkgIT09IGZuKSB7XG4gICAgICBibG9ja2VyRnVuY3Rpb25zLnNldChrZXksIGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2NrZXI7XG4gIH1cbiAgZnVuY3Rpb24gZGVsZXRlQmxvY2tlcihrZXkpIHtcbiAgICBzdGF0ZS5ibG9ja2Vycy5kZWxldGUoa2V5KTtcbiAgICBibG9ja2VyRnVuY3Rpb25zLmRlbGV0ZShrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUJsb2NrZXIoa2V5LCBuZXdCbG9ja2VyKSB7XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoa2V5KSB8fCBJRExFX0JMT0NLRVI7XG4gICAgaW52YXJpYW50KFxuICAgICAgYmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIsXG4gICAgICBgSW52YWxpZCBibG9ja2VyIHN0YXRlIHRyYW5zaXRpb246ICR7YmxvY2tlci5zdGF0ZX0gLT4gJHtuZXdCbG9ja2VyLnN0YXRlfWBcbiAgICApO1xuICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgIGJsb2NrZXJzLnNldChrZXksIG5ld0Jsb2NrZXIpO1xuICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgbmV4dExvY2F0aW9uLFxuICAgIGhpc3RvcnlBY3Rpb25cbiAgfSkge1xuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA+IDEpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsIFwiQSByb3V0ZXIgb25seSBzdXBwb3J0cyBvbmUgYmxvY2tlciBhdCBhIHRpbWVcIik7XG4gICAgfVxuICAgIGxldCBlbnRyaWVzID0gQXJyYXkuZnJvbShibG9ja2VyRnVuY3Rpb25zLmVudHJpZXMoKSk7XG4gICAgbGV0IFtibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb25dID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGJsb2NrZXJLZXkpO1xuICAgIGlmIChibG9ja2VyICYmIGJsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChibG9ja2VyRnVuY3Rpb24oeyBjdXJyZW50TG9jYXRpb24sIG5leHRMb2NhdGlvbiwgaGlzdG9yeUFjdGlvbiB9KSkge1xuICAgICAgcmV0dXJuIGJsb2NrZXJLZXk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRpb25hbDQwNChwYXRobmFtZSkge1xuICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lIH0pO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlc1RvVXNlKTtcbiAgICByZXR1cm4geyBub3RGb3VuZE1hdGNoZXM6IG1hdGNoZXMsIHJvdXRlLCBlcnJvciB9O1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKHBvc2l0aW9ucywgZ2V0UG9zaXRpb24sIGdldEtleSkge1xuICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IHBvc2l0aW9ucztcbiAgICBnZXRTY3JvbGxQb3NpdGlvbiA9IGdldFBvc2l0aW9uO1xuICAgIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MiA9IGdldEtleSB8fCBudWxsO1xuICAgIGlmICghaW5pdGlhbFNjcm9sbFJlc3RvcmVkICYmIHN0YXRlLm5hdmlnYXRpb24gPT09IElETEVfTkFWSUdBVElPTikge1xuICAgICAgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gdHJ1ZTtcbiAgICAgIGxldCB5ID0gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgICBpZiAoeSAhPSBudWxsKSB7XG4gICAgICAgIHVwZGF0ZVN0YXRlKHsgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiB5IH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyID0gbnVsbDtcbiAgICAgIGdldFNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgICAgIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MiA9IG51bGw7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpIHtcbiAgICBpZiAoZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcy5tYXAoKG0pID0+IGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG0sIHN0YXRlLmxvYWRlckRhdGEpKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBrZXkgfHwgbG9jYXRpb24ua2V5O1xuICAgIH1cbiAgICByZXR1cm4gbG9jYXRpb24ua2V5O1xuICB9XG4gIGZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihsb2NhdGlvbiwgbWF0Y2hlcykge1xuICAgIGlmIChzYXZlZFNjcm9sbFBvc2l0aW9uczIgJiYgZ2V0U2Nyb2xsUG9zaXRpb24pIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyW2tleV0gPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGxvY2F0aW9uLCBtYXRjaGVzKSB7XG4gICAgaWYgKHNhdmVkU2Nyb2xsUG9zaXRpb25zMikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgICBsZXQgeSA9IHNhdmVkU2Nyb2xsUG9zaXRpb25zMltrZXldO1xuICAgICAgaWYgKHR5cGVvZiB5ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBwYXRobmFtZSkge1xuICAgIGlmIChpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKSB7XG4gICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgbGV0IGZvZ01hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4geyBhY3RpdmU6IHRydWUsIG1hdGNoZXM6IGZvZ01hdGNoZXMgfHwgW10gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtYXRjaGVzWzBdLnBhcmFtcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCBwYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB7IGFjdGl2ZTogdHJ1ZSwgbWF0Y2hlczogcGFydGlhbE1hdGNoZXMgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhY3RpdmU6IGZhbHNlLCBtYXRjaGVzOiBudWxsIH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZGlzY292ZXJSb3V0ZXMobWF0Y2hlcywgcGF0aG5hbWUsIHNpZ25hbCwgZmV0Y2hlcktleSkge1xuICAgIGlmICghaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXMgfTtcbiAgICB9XG4gICAgbGV0IHBhcnRpYWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICAgIGxldCBsb2NhbE1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKHtcbiAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgcGF0aDogcGF0aG5hbWUsXG4gICAgICAgICAgbWF0Y2hlczogcGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgICBwYXRjaDogKHJvdXRlSWQsIGNoaWxkcmVuKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHBhdGNoUm91dGVzSW1wbChcbiAgICAgICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgICAgICBsb2NhbE1hbmlmZXN0LFxuICAgICAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGUsIHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNOb25ITVIgJiYgIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYWJvcnRlZFwiIH07XG4gICAgICB9XG4gICAgICBsZXQgbmV3TWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgaWYgKG5ld01hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG5ld01hdGNoZXMgfTtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdQYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgIHBhdGhuYW1lLFxuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIGlmICghbmV3UGFydGlhbE1hdGNoZXMgfHwgcGFydGlhbE1hdGNoZXMubGVuZ3RoID09PSBuZXdQYXJ0aWFsTWF0Y2hlcy5sZW5ndGggJiYgcGFydGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgIChtLCBpKSA9PiBtLnJvdXRlLmlkID09PSBuZXdQYXJ0aWFsTWF0Y2hlc1tpXS5yb3V0ZS5pZFxuICAgICAgKSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlczogbnVsbCB9O1xuICAgICAgfVxuICAgICAgcGFydGlhbE1hdGNoZXMgPSBuZXdQYXJ0aWFsTWF0Y2hlcztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX2ludGVybmFsU2V0Um91dGVzKG5ld1JvdXRlcykge1xuICAgIG1hbmlmZXN0ID0ge307XG4gICAgaW5GbGlnaHREYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgIG5ld1JvdXRlcyxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICB2b2lkIDAsXG4gICAgICBtYW5pZmVzdFxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gcGF0Y2hSb3V0ZXMocm91dGVJZCwgY2hpbGRyZW4pIHtcbiAgICBsZXQgaXNOb25ITVIgPSBpbkZsaWdodERhdGFSb3V0ZXMgPT0gbnVsbDtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBwYXRjaFJvdXRlc0ltcGwoXG4gICAgICByb3V0ZUlkLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMlxuICAgICk7XG4gICAgaWYgKGlzTm9uSE1SKSB7XG4gICAgICBkYXRhUm91dGVzID0gWy4uLmRhdGFSb3V0ZXNdO1xuICAgICAgdXBkYXRlU3RhdGUoe30pO1xuICAgIH1cbiAgfVxuICByb3V0ZXIgPSB7XG4gICAgZ2V0IGJhc2VuYW1lKCkge1xuICAgICAgcmV0dXJuIGJhc2VuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGZ1dHVyZSgpIHtcbiAgICAgIHJldHVybiBmdXR1cmU7XG4gICAgfSxcbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSxcbiAgICBnZXQgcm91dGVzKCkge1xuICAgICAgcmV0dXJuIGRhdGFSb3V0ZXM7XG4gICAgfSxcbiAgICBnZXQgd2luZG93KCkge1xuICAgICAgcmV0dXJuIHJvdXRlcldpbmRvdztcbiAgICB9LFxuICAgIGluaXRpYWxpemUsXG4gICAgc3Vic2NyaWJlLFxuICAgIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uLFxuICAgIG5hdmlnYXRlLFxuICAgIGZldGNoOiBmZXRjaDIsXG4gICAgcmV2YWxpZGF0ZSxcbiAgICAvLyBQYXNzdGhyb3VnaCB0byBoaXN0b3J5LWF3YXJlIGNyZWF0ZUhyZWYgdXNlZCBieSB1c2VIcmVmIHNvIHdlIGdldCBwcm9wZXJcbiAgICAvLyBoYXNoLWF3YXJlIFVSTHMgaW4gRE9NIHBhdGhzXG4gICAgY3JlYXRlSHJlZjogKHRvKSA9PiBpbml0Lmhpc3RvcnkuY3JlYXRlSHJlZih0byksXG4gICAgZW5jb2RlTG9jYXRpb246ICh0bykgPT4gaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKHRvKSxcbiAgICBnZXRGZXRjaGVyLFxuICAgIGRlbGV0ZUZldGNoZXI6IHF1ZXVlRmV0Y2hlckZvckRlbGV0aW9uLFxuICAgIGRpc3Bvc2UsXG4gICAgZ2V0QmxvY2tlcixcbiAgICBkZWxldGVCbG9ja2VyLFxuICAgIHBhdGNoUm91dGVzLFxuICAgIF9pbnRlcm5hbEZldGNoQ29udHJvbGxlcnM6IGZldGNoQ29udHJvbGxlcnMsXG4gICAgLy8gVE9ETzogUmVtb3ZlIHNldFJvdXRlcywgaXQncyB0ZW1wb3JhcnkgdG8gYXZvaWQgZGVhbGluZyB3aXRoXG4gICAgLy8gdXBkYXRpbmcgdGhlIHRyZWUgd2hpbGUgdmFsaWRhdGluZyB0aGUgdXBkYXRlIGFsZ29yaXRobS5cbiAgICBfaW50ZXJuYWxTZXRSb3V0ZXNcbiAgfTtcbiAgcmV0dXJuIHJvdXRlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXIocm91dGVzLCBvcHRzKSB7XG4gIGludmFyaWFudChcbiAgICByb3V0ZXMubGVuZ3RoID4gMCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgcm91dGVzIGFycmF5IHRvIGNyZWF0ZVN0YXRpY0hhbmRsZXJcIlxuICApO1xuICBsZXQgbWFuaWZlc3QgPSB7fTtcbiAgbGV0IGJhc2VuYW1lID0gKG9wdHMgPyBvcHRzLmJhc2VuYW1lIDogbnVsbCkgfHwgXCIvXCI7XG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXMyID0gb3B0cz8ubWFwUm91dGVQcm9wZXJ0aWVzIHx8IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM7XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICB2b2lkIDAsXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnkocmVxdWVzdCwge1xuICAgIHJlcXVlc3RDb250ZXh0LFxuICAgIGZpbHRlck1hdGNoZXNUb0xvYWQsXG4gICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgc2tpcFJldmFsaWRhdGlvbixcbiAgICBkYXRhU3RyYXRlZ3ksXG4gICAgdW5zdGFibGVfcmVzcG9uZDogcmVzcG9uZFxuICB9ID0ge30pIHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICByZXF1ZXN0Q29udGV4dCA9IHJlcXVlc3RDb250ZXh0ICE9IG51bGwgPyByZXF1ZXN0Q29udGV4dCA6IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoKTtcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICBsZXQgc3RhdGljQ29udGV4dCA9IHtcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3BvbmQgPyByZXNwb25kKHN0YXRpY0NvbnRleHQpIDogc3RhdGljQ29udGV4dDtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgICAgbGV0IHN0YXRpY0NvbnRleHQgPSB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge31cbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzcG9uZCA/IHJlc3BvbmQoc3RhdGljQ29udGV4dCkgOiBzdGF0aWNDb250ZXh0O1xuICAgIH1cbiAgICBpZiAocmVzcG9uZCAmJiBtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSkpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgcmVxdWVzdENvbnRleHQgaW5zdGFuY2VvZiB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gICAgICAgIFwiV2hlbiB1c2luZyBtaWRkbGV3YXJlIGluIGBzdGF0aWNIYW5kbGVyLnF1ZXJ5KClgLCBhbnkgcHJvdmlkZWQgYHJlcXVlc3RDb250ZXh0YCBtdXN0IGJlYW4gaW5zdGFuY2Ugb2YgYHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcmBcIlxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCByZW5kZXJlZFN0YXRpY0NvbnRleHQ7XG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBjYWxsaW5nIG1pZGRsZXdhcmUgdGhlbiBpdCBtdXN0IGJlIGVuYWJsZWQgc28gd2UgY2FuIGNhc3RcbiAgICAgICAgICAgIC8vIHRoaXMgdG8gdGhlIHByb3BlciB0eXBlIGtub3dpbmcgaXQncyBub3QgYW4gYEFwcExvYWRDb250ZXh0YFxuICAgICAgICAgICAgY29udGV4dDogcmVxdWVzdENvbnRleHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkIHx8IG51bGwsXG4gICAgICAgICAgICAgIHNraXBSZXZhbGlkYXRpb24gPT09IHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkU3RhdGljQ29udGV4dCA9IHsgbG9jYXRpb24sIGJhc2VuYW1lLCAuLi5yZXN1bHQyIH07XG4gICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgcmVzcG9uZChyZW5kZXJlZFN0YXRpY0NvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShlLmVycm9yKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZS5lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW5kZXJlZFN0YXRpY0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgaWYgKGUucm91dGVJZCBpbiByZW5kZXJlZFN0YXRpY0NvbnRleHQubG9hZGVyRGF0YSkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkU3RhdGljQ29udGV4dC5sb2FkZXJEYXRhW2Uucm91dGVJZF0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQoXG4gICAgICAgICAgICAgICAgZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihcbiAgICAgICAgICAgICAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQsXG4gICAgICAgICAgICAgICAgICBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBlLnJvdXRlSWQpLnJvdXRlLmlkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IGxvYWRlcklkeCA9IG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmxvYWRlcik7XG4gICAgICAgICAgICAgIGxldCBib3VuZGFyeSA9IGxvYWRlcklkeCA+PSAwID8gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBtYXRjaGVzW2xvYWRlcklkeF0ucm91dGUuaWQpIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQoe1xuICAgICAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgICAgIFtib3VuZGFyeS5yb3V0ZS5pZF06IGUuZXJyb3JcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKGUuZXJyb3IpID8gZS5lcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgICAgICAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBpbnZhcmlhbnQoaXNSZXNwb25zZShyZXNwb25zZSksIFwiRXhwZWN0ZWQgYSByZXNwb25zZSBpbiBxdWVyeSgpXCIpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChpc1Jlc3BvbnNlKGUpKSB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcgPT09IHRydWUsXG4gICAgICBudWxsLFxuICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCB8fCBudWxsLFxuICAgICAgc2tpcFJldmFsaWRhdGlvbiA9PT0gdHJ1ZVxuICAgICk7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbG9jYXRpb24sIGJhc2VuYW1lLCAuLi5yZXN1bHQgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBxdWVyeVJvdXRlKHJlcXVlc3QsIHtcbiAgICByb3V0ZUlkLFxuICAgIHJlcXVlc3RDb250ZXh0LFxuICAgIGRhdGFTdHJhdGVneSxcbiAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kXG4gIH0gPSB7fSkge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXCJcIiwgY3JlYXRlUGF0aCh1cmwpLCBudWxsLCBcImRlZmF1bHRcIik7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIHJlcXVlc3RDb250ZXh0ID0gcmVxdWVzdENvbnRleHQgIT0gbnVsbCA/IHJlcXVlc3RDb250ZXh0IDogbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcigpO1xuICAgIGlmICghaXNWYWxpZE1ldGhvZChtZXRob2QpICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIgJiYgbWV0aG9kICE9PSBcIk9QVElPTlNcIikge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICB9XG4gICAgbGV0IG1hdGNoID0gcm91dGVJZCA/IG1hdGNoZXMuZmluZCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgOiBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbik7XG4gICAgaWYgKHJvdXRlSWQgJiYgIW1hdGNoKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMywge1xuICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25kICYmIG1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlKSkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICByZXF1ZXN0Q29udGV4dCBpbnN0YW5jZW9mIHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcixcbiAgICAgICAgXCJXaGVuIHVzaW5nIG1pZGRsZXdhcmUgaW4gYHN0YXRpY0hhbmRsZXIucXVlcnlSb3V0ZSgpYCwgYW55IHByb3ZpZGVkIGByZXF1ZXN0Q29udGV4dGAgbXVzdCBiZWFuIGluc3RhbmNlIG9mIGB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXJgXCJcbiAgICAgICk7XG4gICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgIHtcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgcGFyYW1zOiBtYXRjaGVzWzBdLnBhcmFtcyxcbiAgICAgICAgICAvLyBJZiB3ZSdyZSBjYWxsaW5nIG1pZGRsZXdhcmUgdGhlbiBpdCBtdXN0IGJlIGVuYWJsZWQgc28gd2UgY2FuIGNhc3RcbiAgICAgICAgICAvLyB0aGlzIHRvIHRoZSBwcm9wZXIgdHlwZSBrbm93aW5nIGl0J3Mgbm90IGFuIGBBcHBMb2FkQ29udGV4dGBcbiAgICAgICAgICBjb250ZXh0OiByZXF1ZXN0Q29udGV4dFxuICAgICAgICB9LFxuICAgICAgICB0cnVlLFxuICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uZChyZXN1bHQyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGVycm9yMiA9IHJlc3VsdDIuZXJyb3JzID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQyLmVycm9ycylbMF0gOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKGVycm9yMiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB2YWx1ZSA9IHJlc3VsdDIuYWN0aW9uRGF0YSA/IE9iamVjdC52YWx1ZXMocmVzdWx0Mi5hY3Rpb25EYXRhKVswXSA6IE9iamVjdC52YWx1ZXMocmVzdWx0Mi5sb2FkZXJEYXRhKVswXTtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gbmV3IFJlc3BvbnNlKHZhbHVlKSA6IFJlc3BvbnNlLmpzb24odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKGUuZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uZChlLmVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShTdHJpbmcoZS5lcnJvciksIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIGZhbHNlLFxuICAgICAgbWF0Y2gsXG4gICAgICBudWxsLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGxldCBlcnJvciA9IHJlc3VsdC5lcnJvcnMgPyBPYmplY3QudmFsdWVzKHJlc3VsdC5lcnJvcnMpWzBdIDogdm9pZCAwO1xuICAgIGlmIChlcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5hY3Rpb25EYXRhKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXN1bHQuYWN0aW9uRGF0YSlbMF07XG4gICAgfVxuICAgIGlmIChyZXN1bHQubG9hZGVyRGF0YSkge1xuICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0LmxvYWRlckRhdGEpWzBdO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5SW1wbChyZXF1ZXN0LCBsb2NhdGlvbiwgbWF0Y2hlcywgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIHJvdXRlTWF0Y2gsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIFwicXVlcnkoKS9xdWVyeVJvdXRlKCkgcmVxdWVzdHMgbXVzdCBjb250YWluIGFuIEFib3J0Q29udHJvbGxlciBzaWduYWxcIlxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc011dGF0aW9uTWV0aG9kKHJlcXVlc3QubWV0aG9kKSkge1xuICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IHN1Ym1pdChcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgcm91dGVNYXRjaCB8fCBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbiksXG4gICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggIT0gbnVsbCxcbiAgICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgICAgICAgIHNraXBSZXZhbGlkYXRpb25cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgIHJvdXRlTWF0Y2gsXG4gICAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWRcbiAgICAgICk7XG4gICAgICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChpc0RhdGFTdHJhdGVneVJlc3VsdChlKSAmJiBpc1Jlc3BvbnNlKGUucmVzdWx0KSkge1xuICAgICAgICBpZiAoZS50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICAgICAgICB0aHJvdyBlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5yZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKGUpKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3VibWl0KHJlcXVlc3QsIG1hdGNoZXMsIGFjdGlvbk1hdGNoLCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5LCBza2lwTG9hZGVyRXJyb3JCdWJibGluZywgaXNSb3V0ZVJlcXVlc3QsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICB9KTtcbiAgICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvclxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBpc1JvdXRlUmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneVxuICAgICAgKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdHNbYWN0aW9uTWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgc3RhdHVzOiByZXN1bHQucmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgTG9jYXRpb246IHJlc3VsdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlczogW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGEgfSxcbiAgICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgICAvLyBOb3RlOiBzdGF0dXNDb2RlICsgaGVhZGVycyBhcmUgdW51c2VkIGhlcmUgc2luY2UgcXVlcnlSb3V0ZSB3aWxsXG4gICAgICAgIC8vIHJldHVybiB0aGUgcmF3IFJlc3BvbnNlIG9yIHZhbHVlXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoc2tpcFJldmFsaWRhdGlvbikge1xuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gYWN0aW9uTWF0Y2ggOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpID8gcmVzdWx0LmVycm9yLnN0YXR1cyA6IHJlc3VsdC5zdGF0dXNDb2RlICE9IG51bGwgPyByZXN1bHQuc3RhdHVzQ29kZSA6IDUwMCxcbiAgICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLnJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5lcnJvclxuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICAgICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge30sXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IG51bGwsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1c0NvZGUgfHwgMjAwLFxuICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBsb2FkZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QocmVxdWVzdC51cmwsIHtcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHJlZGlyZWN0OiByZXF1ZXN0LnJlZGlyZWN0LFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbFxuICAgIH0pO1xuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gc2tpcExvYWRlckVycm9yQnViYmxpbmcgPyBhY3Rpb25NYXRjaCA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuICAgICAgbGV0IGhhbmRsZXJDb250ZXh0MiA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICAgIGxvYWRlclJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICBudWxsLFxuICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmhhbmRsZXJDb250ZXh0MixcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA1MDAsXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5yZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBoYW5kbGVyQ29udGV4dCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICBudWxsLFxuICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZFxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmhhbmRsZXJDb250ZXh0LFxuICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZGF0YVxuICAgICAgfSxcbiAgICAgIC8vIGFjdGlvbiBzdGF0dXMgY29kZXMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgbG9hZGVyIHN0YXR1cyBjb2Rlc1xuICAgICAgLi4ucmVzdWx0LnN0YXR1c0NvZGUgPyB7IHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlIH0gOiB7fSxcbiAgICAgIGFjdGlvbkhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge31cbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZURhdGEocmVxdWVzdCwgbWF0Y2hlcywgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIHJvdXRlTWF0Y2gsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBsZXQgaXNSb3V0ZVJlcXVlc3QgPSByb3V0ZU1hdGNoICE9IG51bGw7XG4gICAgaWYgKGlzUm91dGVSZXF1ZXN0ICYmICFyb3V0ZU1hdGNoPy5yb3V0ZS5sb2FkZXIgJiYgIXJvdXRlTWF0Y2g/LnJvdXRlLmxhenkpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7XG4gICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgIHBhdGhuYW1lOiBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZDogcm91dGVNYXRjaD8ucm91dGUuaWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcmVxdWVzdE1hdGNoZXMgPSByb3V0ZU1hdGNoID8gW3JvdXRlTWF0Y2hdIDogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkobWF0Y2hlcywgcGVuZGluZ0FjdGlvblJlc3VsdFswXSkgOiBtYXRjaGVzO1xuICAgIGxldCBtYXRjaGVzVG9Mb2FkID0gcmVxdWVzdE1hdGNoZXMuZmlsdGVyKFxuICAgICAgKG0pID0+IChtLnJvdXRlLmxvYWRlciB8fCBtLnJvdXRlLmxhenkpICYmICghZmlsdGVyTWF0Y2hlc1RvTG9hZCB8fCBmaWx0ZXJNYXRjaGVzVG9Mb2FkKG0pKVxuICAgICk7XG4gICAgaWYgKG1hdGNoZXNUb0xvYWQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICAvLyBBZGQgYSBudWxsIGZvciBhbGwgbWF0Y2hlZCByb3V0ZXMgZm9yIHByb3BlciByZXZhbGlkYXRpb24gb24gdGhlIGNsaWVudFxuICAgICAgICBsb2FkZXJEYXRhOiBtYXRjaGVzLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCBtKSA9PiBPYmplY3QuYXNzaWduKGFjYywgeyBbbS5yb3V0ZS5pZF06IG51bGwgfSksXG4gICAgICAgICAge31cbiAgICAgICAgKSxcbiAgICAgICAgZXJyb3JzOiBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyB7XG4gICAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneVxuICAgICk7XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCk7XG4gICAgfVxuICAgIGxldCBoYW5kbGVyQ29udGV4dCA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICB0cnVlLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmdcbiAgICApO1xuICAgIGxldCBleGVjdXRlZExvYWRlcnMgPSBuZXcgU2V0KFxuICAgICAgbWF0Y2hlc1RvTG9hZC5tYXAoKG1hdGNoKSA9PiBtYXRjaC5yb3V0ZS5pZClcbiAgICApO1xuICAgIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICAgIGlmICghZXhlY3V0ZWRMb2FkZXJzLmhhcyhtYXRjaC5yb3V0ZS5pZCkpIHtcbiAgICAgICAgaGFuZGxlckNvbnRleHQubG9hZGVyRGF0YVttYXRjaC5yb3V0ZS5pZF0gPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICAgIG1hdGNoZXNcbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3kodHlwZSwgcmVxdWVzdCwgbWF0Y2hlc1RvTG9hZCwgbWF0Y2hlcywgaXNSb3V0ZVJlcXVlc3QsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3kpIHtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3ksXG4gICAgICB0eXBlLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbnVsbCxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZmFsc2VcbiAgICAgIC8vIG1pZGRsZXdhcmUgbm90IGRvbmUgdmlhIGRhdGFTdHJhdGVneSBpbiB0aGUgc3RhdGljIGhhbmRsZXJcbiAgICApO1xuICAgIGxldCBkYXRhUmVzdWx0cyA9IHt9O1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgbWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoKSA9PiB7XG4gICAgICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgdGhyb3cgbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoLnJvdXRlLmlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSAmJiBpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBkYXRhUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF0gPSBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KHJlc3VsdCk7XG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGF0YVJvdXRlcyxcbiAgICBxdWVyeSxcbiAgICBxdWVyeVJvdXRlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKHJvdXRlcywgaGFuZGxlckNvbnRleHQsIGVycm9yLCBib3VuZGFyeUlkKSB7XG4gIGxldCBlcnJvckJvdW5kYXJ5SWQgPSBib3VuZGFyeUlkIHx8IGhhbmRsZXJDb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkIHx8IHJvdXRlc1swXS5pZDtcbiAgcmV0dXJuIHtcbiAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBlcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgZXJyb3JzOiB7XG4gICAgICBbZXJyb3JCb3VuZGFyeUlkXTogZXJyb3JcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QpIHtcbiAgaWYgKHJlcXVlc3Quc2lnbmFsLnJlYXNvbiAhPT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgcmVxdWVzdC5zaWduYWwucmVhc29uO1xuICB9XG4gIGxldCBtZXRob2QgPSBpc1JvdXRlUmVxdWVzdCA/IFwicXVlcnlSb3V0ZVwiIDogXCJxdWVyeVwiO1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYCR7bWV0aG9kfSgpIGNhbGwgYWJvcnRlZCB3aXRob3V0IGFuIFxcYEFib3J0U2lnbmFsLnJlYXNvblxcYDogJHtyZXF1ZXN0Lm1ldGhvZH0gJHtyZXF1ZXN0LnVybH1gXG4gICk7XG59XG5mdW5jdGlvbiBpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMgIT0gbnVsbCAmJiAoXCJmb3JtRGF0YVwiIGluIG9wdHMgJiYgb3B0cy5mb3JtRGF0YSAhPSBudWxsIHx8IFwiYm9keVwiIGluIG9wdHMgJiYgb3B0cy5ib2R5ICE9PSB2b2lkIDApO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVG8obG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCB0bywgZnJvbVJvdXRlSWQsIHJlbGF0aXZlKSB7XG4gIGxldCBjb250ZXh0dWFsTWF0Y2hlcztcbiAgbGV0IGFjdGl2ZVJvdXRlTWF0Y2g7XG4gIGlmIChmcm9tUm91dGVJZCkge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gW107XG4gICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgY29udGV4dHVhbE1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQgPT09IGZyb21Sb3V0ZUlkKSB7XG4gICAgICAgIGFjdGl2ZVJvdXRlTWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvID8gdG8gOiBcIi5cIixcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKGNvbnRleHR1YWxNYXRjaGVzKSxcbiAgICBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG4gIGlmICh0byA9PSBudWxsKSB7XG4gICAgcGF0aC5zZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgcGF0aC5oYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgfVxuICBpZiAoKHRvID09IG51bGwgfHwgdG8gPT09IFwiXCIgfHwgdG8gPT09IFwiLlwiKSAmJiBhY3RpdmVSb3V0ZU1hdGNoKSB7XG4gICAgbGV0IG5ha2VkSW5kZXggPSBoYXNOYWtlZEluZGV4UXVlcnkocGF0aC5zZWFyY2gpO1xuICAgIGlmIChhY3RpdmVSb3V0ZU1hdGNoLnJvdXRlLmluZGV4ICYmICFuYWtlZEluZGV4KSB7XG4gICAgICBwYXRoLnNlYXJjaCA9IHBhdGguc2VhcmNoID8gcGF0aC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sIFwiP2luZGV4JlwiKSA6IFwiP2luZGV4XCI7XG4gICAgfSBlbHNlIGlmICghYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiBuYWtlZEluZGV4KSB7XG4gICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXRoLnNlYXJjaCk7XG4gICAgICBsZXQgaW5kZXhWYWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gICAgICBwYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gICAgICBpbmRleFZhbHVlcy5maWx0ZXIoKHYpID0+IHYpLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB2KSk7XG4gICAgICBsZXQgcXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIHBhdGguc2VhcmNoID0gcXMgPyBgPyR7cXN9YCA6IFwiXCI7XG4gICAgfVxuICB9XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoLnBhdGhuYW1lID0gcGF0aC5wYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUGF0aChwYXRoKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhpc0ZldGNoZXIsIHBhdGgsIG9wdHMpIHtcbiAgaWYgKCFvcHRzIHx8ICFpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKG9wdHMpKSB7XG4gICAgcmV0dXJuIHsgcGF0aCB9O1xuICB9XG4gIGlmIChvcHRzLmZvcm1NZXRob2QgJiYgIWlzVmFsaWRNZXRob2Qob3B0cy5mb3JtTWV0aG9kKSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoLFxuICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZDogb3B0cy5mb3JtTWV0aG9kIH0pXG4gICAgfTtcbiAgfVxuICBsZXQgZ2V0SW52YWxpZEJvZHlFcnJvciA9ICgpID0+ICh7XG4gICAgcGF0aCxcbiAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHsgdHlwZTogXCJpbnZhbGlkLWJvZHlcIiB9KVxuICB9KTtcbiAgbGV0IHJhd0Zvcm1NZXRob2QgPSBvcHRzLmZvcm1NZXRob2QgfHwgXCJnZXRcIjtcbiAgbGV0IGZvcm1NZXRob2QgPSByYXdGb3JtTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gIGxldCBmb3JtQWN0aW9uID0gc3RyaXBIYXNoRnJvbVBhdGgocGF0aCk7XG4gIGlmIChvcHRzLmJvZHkgIT09IHZvaWQgMCkge1xuICAgIGlmIChvcHRzLmZvcm1FbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgICAgaWYgKCFpc011dGF0aW9uTWV0aG9kKGZvcm1NZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgICBsZXQgdGV4dCA9IHR5cGVvZiBvcHRzLmJvZHkgPT09IFwic3RyaW5nXCIgPyBvcHRzLmJvZHkgOiBvcHRzLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSB8fCBvcHRzLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgPyAoXG4gICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI3BsYWluLXRleHQtZm9ybS1kYXRhXG4gICAgICAgIEFycmF5LmZyb20ob3B0cy5ib2R5LmVudHJpZXMoKSkucmVkdWNlKFxuICAgICAgICAgIChhY2MsIFtuYW1lLCB2YWx1ZV0pID0+IGAke2FjY30ke25hbWV9PSR7dmFsdWV9XG5gLFxuICAgICAgICAgIFwiXCJcbiAgICAgICAgKVxuICAgICAgKSA6IFN0cmluZyhvcHRzLmJvZHkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgIGZvcm1NZXRob2QsXG4gICAgICAgICAgZm9ybUFjdGlvbixcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgICAgICB0ZXh0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChvcHRzLmZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgaWYgKCFpc011dGF0aW9uTWV0aG9kKGZvcm1NZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBsZXQganNvbiA9IHR5cGVvZiBvcHRzLmJvZHkgPT09IFwic3RyaW5nXCIgPyBKU09OLnBhcnNlKG9wdHMuYm9keSkgOiBvcHRzLmJvZHk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgICBmb3JtTWV0aG9kLFxuICAgICAgICAgICAgZm9ybUFjdGlvbixcbiAgICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICB0ZXh0OiB2b2lkIDBcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGludmFyaWFudChcbiAgICB0eXBlb2YgRm9ybURhdGEgPT09IFwiZnVuY3Rpb25cIixcbiAgICBcIkZvcm1EYXRhIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudFwiXG4gICk7XG4gIGxldCBzZWFyY2hQYXJhbXM7XG4gIGxldCBmb3JtRGF0YTtcbiAgaWYgKG9wdHMuZm9ybURhdGEpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhvcHRzLmZvcm1EYXRhKTtcbiAgICBmb3JtRGF0YSA9IG9wdHMuZm9ybURhdGE7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhvcHRzLmJvZHkpO1xuICAgIGZvcm1EYXRhID0gb3B0cy5ib2R5O1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgIHNlYXJjaFBhcmFtcyA9IG9wdHMuYm9keTtcbiAgICBmb3JtRGF0YSA9IGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcyk7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5ID09IG51bGwpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRzLmJvZHkpO1xuICAgICAgZm9ybURhdGEgPSBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgfVxuICB9XG4gIGxldCBzdWJtaXNzaW9uID0ge1xuICAgIGZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogb3B0cyAmJiBvcHRzLmZvcm1FbmNUeXBlIHx8IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gICAgZm9ybURhdGEsXG4gICAganNvbjogdm9pZCAwLFxuICAgIHRleHQ6IHZvaWQgMFxuICB9O1xuICBpZiAoaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgcmV0dXJuIHsgcGF0aCwgc3VibWlzc2lvbiB9O1xuICB9XG4gIGxldCBwYXJzZWRQYXRoID0gcGFyc2VQYXRoKHBhdGgpO1xuICBpZiAoaXNGZXRjaGVyICYmIHBhcnNlZFBhdGguc2VhcmNoICYmIGhhc05ha2VkSW5kZXhRdWVyeShwYXJzZWRQYXRoLnNlYXJjaCkpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgXCJcIik7XG4gIH1cbiAgcGFyc2VkUGF0aC5zZWFyY2ggPSBgPyR7c2VhcmNoUGFyYW1zfWA7XG4gIHJldHVybiB7IHBhdGg6IGNyZWF0ZVBhdGgocGFyc2VkUGF0aCksIHN1Ym1pc3Npb24gfTtcbn1cbmZ1bmN0aW9uIGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KG1hdGNoZXMsIGJvdW5kYXJ5SWQsIGluY2x1ZGVCb3VuZGFyeSA9IGZhbHNlKSB7XG4gIGxldCBpbmRleCA9IG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSBib3VuZGFyeUlkKTtcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICByZXR1cm4gbWF0Y2hlcy5zbGljZSgwLCBpbmNsdWRlQm91bmRhcnkgPyBpbmRleCArIDEgOiBpbmRleCk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBnZXRNYXRjaGVzVG9Mb2FkKGhpc3RvcnksIHN0YXRlLCBtYXRjaGVzLCBzdWJtaXNzaW9uLCBsb2NhdGlvbiwgaW5pdGlhbEh5ZHJhdGlvbiwgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCwgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLCBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLCBmZXRjaExvYWRNYXRjaGVzLCBmZXRjaFJlZGlyZWN0SWRzLCByb3V0ZXNUb1VzZSwgYmFzZW5hbWUsIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgbGV0IGFjdGlvblJlc3VsdCA9IHBlbmRpbmdBY3Rpb25SZXN1bHQgPyBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciA6IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YSA6IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRVcmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdGF0ZS5sb2NhdGlvbik7XG4gIGxldCBuZXh0VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuICBsZXQgYm91bmRhcnlNYXRjaGVzID0gbWF0Y2hlcztcbiAgaWYgKGluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgYm91bmRhcnlNYXRjaGVzID0gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkoXG4gICAgICBtYXRjaGVzLFxuICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZXJyb3JzKVswXSxcbiAgICAgIHRydWVcbiAgICApO1xuICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgIGJvdW5kYXJ5TWF0Y2hlcyA9IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRbMF1cbiAgICApO1xuICB9XG4gIGxldCBhY3Rpb25TdGF0dXMgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5zdGF0dXNDb2RlIDogdm9pZCAwO1xuICBsZXQgc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA9IGFjdGlvblN0YXR1cyAmJiBhY3Rpb25TdGF0dXMgPj0gNDAwO1xuICBsZXQgbmF2aWdhdGlvbk1hdGNoZXMgPSBib3VuZGFyeU1hdGNoZXMuZmlsdGVyKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBsZXQgeyByb3V0ZSB9ID0gbWF0Y2g7XG4gICAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocm91dGUubG9hZGVyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybiBzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihyb3V0ZSwgc3RhdGUubG9hZGVyRGF0YSwgc3RhdGUuZXJyb3JzKTtcbiAgICB9XG4gICAgaWYgKGlzTmV3TG9hZGVyKHN0YXRlLmxvYWRlckRhdGEsIHN0YXRlLm1hdGNoZXNbaW5kZXhdLCBtYXRjaCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFJvdXRlTWF0Y2ggPSBzdGF0ZS5tYXRjaGVzW2luZGV4XTtcbiAgICBsZXQgbmV4dFJvdXRlTWF0Y2ggPSBtYXRjaDtcbiAgICByZXR1cm4gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihtYXRjaCwge1xuICAgICAgY3VycmVudFVybCxcbiAgICAgIGN1cnJlbnRQYXJhbXM6IGN1cnJlbnRSb3V0ZU1hdGNoLnBhcmFtcyxcbiAgICAgIG5leHRVcmwsXG4gICAgICBuZXh0UGFyYW1zOiBuZXh0Um91dGVNYXRjaC5wYXJhbXMsXG4gICAgICAuLi5zdWJtaXNzaW9uLFxuICAgICAgYWN0aW9uUmVzdWx0LFxuICAgICAgYWN0aW9uU3RhdHVzLFxuICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPyBmYWxzZSA6IChcbiAgICAgICAgLy8gRm9yY2VkIHJldmFsaWRhdGlvbiBkdWUgdG8gc3VibWlzc2lvbiwgdXNlUmV2YWxpZGF0b3IsIG9yIFgtUmVtaXgtUmV2YWxpZGF0ZVxuICAgICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkIHx8IGN1cnJlbnRVcmwucGF0aG5hbWUgKyBjdXJyZW50VXJsLnNlYXJjaCA9PT0gbmV4dFVybC5wYXRobmFtZSArIG5leHRVcmwuc2VhcmNoIHx8IC8vIFNlYXJjaCBwYXJhbXMgYWZmZWN0IGFsbCBsb2FkZXJzXG4gICAgICAgIGN1cnJlbnRVcmwuc2VhcmNoICE9PSBuZXh0VXJsLnNlYXJjaCB8fCBpc05ld1JvdXRlSW5zdGFuY2UoY3VycmVudFJvdXRlTWF0Y2gsIG5leHRSb3V0ZU1hdGNoKVxuICAgICAgKVxuICAgIH0pO1xuICB9KTtcbiAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXJzID0gW107XG4gIGZldGNoTG9hZE1hdGNoZXMuZm9yRWFjaCgoZiwga2V5KSA9PiB7XG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24gfHwgIW1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gZi5yb3V0ZUlkKSB8fCBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBmZXRjaGVyTWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBmLnBhdGgsIGJhc2VuYW1lKTtcbiAgICBpZiAoIWZldGNoZXJNYXRjaGVzKSB7XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkOiBmLnJvdXRlSWQsXG4gICAgICAgIHBhdGg6IGYucGF0aCxcbiAgICAgICAgbWF0Y2hlczogbnVsbCxcbiAgICAgICAgbWF0Y2g6IG51bGwsXG4gICAgICAgIGNvbnRyb2xsZXI6IG51bGxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIGxldCBmZXRjaGVyTWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChmZXRjaGVyTWF0Y2hlcywgZi5wYXRoKTtcbiAgICBsZXQgc2hvdWxkUmV2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIGlmIChmZXRjaFJlZGlyZWN0SWRzLmhhcyhrZXkpKSB7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjYW5jZWxsZWRGZXRjaGVyTG9hZHMuaGFzKGtleSkpIHtcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZmV0Y2hlciAmJiBmZXRjaGVyLnN0YXRlICE9PSBcImlkbGVcIiAmJiBmZXRjaGVyLmRhdGEgPT09IHZvaWQgMCkge1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKGZldGNoZXJNYXRjaCwge1xuICAgICAgICBjdXJyZW50VXJsLFxuICAgICAgICBjdXJyZW50UGFyYW1zOiBzdGF0ZS5tYXRjaGVzW3N0YXRlLm1hdGNoZXMubGVuZ3RoIC0gMV0ucGFyYW1zLFxuICAgICAgICBuZXh0VXJsLFxuICAgICAgICBuZXh0UGFyYW1zOiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucGFyYW1zLFxuICAgICAgICAuLi5zdWJtaXNzaW9uLFxuICAgICAgICBhY3Rpb25SZXN1bHQsXG4gICAgICAgIGFjdGlvblN0YXR1cyxcbiAgICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPyBmYWxzZSA6IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IGZldGNoZXJNYXRjaGVzLFxuICAgICAgICBtYXRjaDogZmV0Y2hlck1hdGNoLFxuICAgICAgICBjb250cm9sbGVyOiBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBbbmF2aWdhdGlvbk1hdGNoZXMsIHJldmFsaWRhdGluZ0ZldGNoZXJzXTtcbn1cbmZ1bmN0aW9uIHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKHJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpIHtcbiAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIXJvdXRlLmxvYWRlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgaGFzRGF0YSA9IGxvYWRlckRhdGEgIT0gbnVsbCAmJiBsb2FkZXJEYXRhW3JvdXRlLmlkXSAhPT0gdm9pZCAwO1xuICBsZXQgaGFzRXJyb3IgPSBlcnJvcnMgIT0gbnVsbCAmJiBlcnJvcnNbcm91dGUuaWRdICE9PSB2b2lkIDA7XG4gIGlmICghaGFzRGF0YSAmJiBoYXNFcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIHJvdXRlLmxvYWRlciA9PT0gXCJmdW5jdGlvblwiICYmIHJvdXRlLmxvYWRlci5oeWRyYXRlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuICFoYXNEYXRhICYmICFoYXNFcnJvcjtcbn1cbmZ1bmN0aW9uIGlzTmV3TG9hZGVyKGN1cnJlbnRMb2FkZXJEYXRhLCBjdXJyZW50TWF0Y2gsIG1hdGNoKSB7XG4gIGxldCBpc05ldyA9IChcbiAgICAvLyBbYV0gLT4gW2EsIGJdXG4gICAgIWN1cnJlbnRNYXRjaCB8fCAvLyBbYSwgYl0gLT4gW2EsIGNdXG4gICAgbWF0Y2gucm91dGUuaWQgIT09IGN1cnJlbnRNYXRjaC5yb3V0ZS5pZFxuICApO1xuICBsZXQgaXNNaXNzaW5nRGF0YSA9ICFjdXJyZW50TG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShtYXRjaC5yb3V0ZS5pZCk7XG4gIHJldHVybiBpc05ldyB8fCBpc01pc3NpbmdEYXRhO1xufVxuZnVuY3Rpb24gaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRNYXRjaCwgbWF0Y2gpIHtcbiAgbGV0IGN1cnJlbnRQYXRoID0gY3VycmVudE1hdGNoLnJvdXRlLnBhdGg7XG4gIHJldHVybiAoXG4gICAgLy8gcGFyYW0gY2hhbmdlIGZvciB0aGlzIG1hdGNoLCAvdXNlcnMvMTIzIC0+IC91c2Vycy80NTZcbiAgICBjdXJyZW50TWF0Y2gucGF0aG5hbWUgIT09IG1hdGNoLnBhdGhuYW1lIHx8IC8vIHNwbGF0IHBhcmFtIGNoYW5nZWQsIHdoaWNoIGlzIG5vdCBwcmVzZW50IGluIG1hdGNoLnBhdGhcbiAgICAvLyBlLmcuIC9maWxlcy9pbWFnZXMvYXZhdGFyLmpwZyAtPiBmaWxlcy9maW5hbmNlcy54bHNcbiAgICBjdXJyZW50UGF0aCAhPSBudWxsICYmIGN1cnJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBjdXJyZW50TWF0Y2gucGFyYW1zW1wiKlwiXSAhPT0gbWF0Y2gucGFyYW1zW1wiKlwiXVxuICApO1xufVxuZnVuY3Rpb24gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihsb2FkZXJNYXRjaCwgYXJnKSB7XG4gIGlmIChsb2FkZXJNYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgbGV0IHJvdXRlQ2hvaWNlID0gbG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZShhcmcpO1xuICAgIGlmICh0eXBlb2Ygcm91dGVDaG9pY2UgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gcm91dGVDaG9pY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcmcuZGVmYXVsdFNob3VsZFJldmFsaWRhdGU7XG59XG5mdW5jdGlvbiBwYXRjaFJvdXRlc0ltcGwocm91dGVJZCwgY2hpbGRyZW4sIHJvdXRlc1RvVXNlLCBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzMikge1xuICBsZXQgY2hpbGRyZW5Ub1BhdGNoO1xuICBpZiAocm91dGVJZCkge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W3JvdXRlSWRdO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvdXRlLFxuICAgICAgYE5vIHJvdXRlIGZvdW5kIHRvIHBhdGNoIGNoaWxkcmVuIGludG86IHJvdXRlSWQgPSAke3JvdXRlSWR9YFxuICAgICk7XG4gICAgaWYgKCFyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgcm91dGUuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgY2hpbGRyZW5Ub1BhdGNoID0gcm91dGUuY2hpbGRyZW47XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW5Ub1BhdGNoID0gcm91dGVzVG9Vc2U7XG4gIH1cbiAgbGV0IHVuaXF1ZUNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKFxuICAgIChuZXdSb3V0ZSkgPT4gIWNoaWxkcmVuVG9QYXRjaC5zb21lKFxuICAgICAgKGV4aXN0aW5nUm91dGUpID0+IGlzU2FtZVJvdXRlKG5ld1JvdXRlLCBleGlzdGluZ1JvdXRlKVxuICAgIClcbiAgKTtcbiAgbGV0IG5ld1JvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgdW5pcXVlQ2hpbGRyZW4sXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICBbcm91dGVJZCB8fCBcIl9cIiwgXCJwYXRjaFwiLCBTdHJpbmcoY2hpbGRyZW5Ub1BhdGNoPy5sZW5ndGggfHwgXCIwXCIpXSxcbiAgICBtYW5pZmVzdFxuICApO1xuICBjaGlsZHJlblRvUGF0Y2gucHVzaCguLi5uZXdSb3V0ZXMpO1xufVxuZnVuY3Rpb24gaXNTYW1lUm91dGUobmV3Um91dGUsIGV4aXN0aW5nUm91dGUpIHtcbiAgaWYgKFwiaWRcIiBpbiBuZXdSb3V0ZSAmJiBcImlkXCIgaW4gZXhpc3RpbmdSb3V0ZSAmJiBuZXdSb3V0ZS5pZCA9PT0gZXhpc3RpbmdSb3V0ZS5pZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghKG5ld1JvdXRlLmluZGV4ID09PSBleGlzdGluZ1JvdXRlLmluZGV4ICYmIG5ld1JvdXRlLnBhdGggPT09IGV4aXN0aW5nUm91dGUucGF0aCAmJiBuZXdSb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSBleGlzdGluZ1JvdXRlLmNhc2VTZW5zaXRpdmUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICgoIW5ld1JvdXRlLmNoaWxkcmVuIHx8IG5ld1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgJiYgKCFleGlzdGluZ1JvdXRlLmNoaWxkcmVuIHx8IGV4aXN0aW5nUm91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBuZXdSb3V0ZS5jaGlsZHJlbi5ldmVyeShcbiAgICAoYUNoaWxkLCBpKSA9PiBleGlzdGluZ1JvdXRlLmNoaWxkcmVuPy5zb21lKChiQ2hpbGQpID0+IGlzU2FtZVJvdXRlKGFDaGlsZCwgYkNoaWxkKSlcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRMYXp5Um91dGVNb2R1bGUocm91dGUsIG1hcFJvdXRlUHJvcGVydGllczIsIG1hbmlmZXN0KSB7XG4gIGlmICghcm91dGUubGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbGF6eVJvdXRlID0gYXdhaXQgcm91dGUubGF6eSgpO1xuICBpZiAoIXJvdXRlLmxhenkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHJvdXRlVG9VcGRhdGUgPSBtYW5pZmVzdFtyb3V0ZS5pZF07XG4gIGludmFyaWFudChyb3V0ZVRvVXBkYXRlLCBcIk5vIHJvdXRlIGZvdW5kIGluIG1hbmlmZXN0XCIpO1xuICBsZXQgcm91dGVVcGRhdGVzID0ge307XG4gIGZvciAobGV0IGxhenlSb3V0ZVByb3BlcnR5IGluIGxhenlSb3V0ZSkge1xuICAgIGxldCBzdGF0aWNSb3V0ZVZhbHVlID0gcm91dGVUb1VwZGF0ZVtsYXp5Um91dGVQcm9wZXJ0eV07XG4gICAgbGV0IGlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCA9IHN0YXRpY1JvdXRlVmFsdWUgIT09IHZvaWQgMCAmJiAvLyBUaGlzIHByb3BlcnR5IGlzbid0IHN0YXRpYyBzaW5jZSBpdCBzaG91bGQgYWx3YXlzIGJlIHVwZGF0ZWQgYmFzZWRcbiAgICAvLyBvbiB0aGUgcm91dGUgdXBkYXRlc1xuICAgIGxhenlSb3V0ZVByb3BlcnR5ICE9PSBcImhhc0Vycm9yQm91bmRhcnlcIjtcbiAgICB3YXJuaW5nKFxuICAgICAgIWlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCxcbiAgICAgIGBSb3V0ZSBcIiR7cm91dGVUb1VwZGF0ZS5pZH1cIiBoYXMgYSBzdGF0aWMgcHJvcGVydHkgXCIke2xhenlSb3V0ZVByb3BlcnR5fVwiIGRlZmluZWQgYnV0IGl0cyBsYXp5IGZ1bmN0aW9uIGlzIGFsc28gcmV0dXJuaW5nIGEgdmFsdWUgZm9yIHRoaXMgcHJvcGVydHkuIFRoZSBsYXp5IHJvdXRlIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiB3aWxsIGJlIGlnbm9yZWQuYFxuICAgICk7XG4gICAgaWYgKCFpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQgJiYgIWltbXV0YWJsZVJvdXRlS2V5cy5oYXMobGF6eVJvdXRlUHJvcGVydHkpKSB7XG4gICAgICByb3V0ZVVwZGF0ZXNbbGF6eVJvdXRlUHJvcGVydHldID0gbGF6eVJvdXRlW2xhenlSb3V0ZVByb3BlcnR5XTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCByb3V0ZVVwZGF0ZXMpO1xuICBPYmplY3QuYXNzaWduKHJvdXRlVG9VcGRhdGUsIHtcbiAgICAvLyBUbyBrZWVwIHRoaW5ncyBmcmFtZXdvcmsgYWdub3N0aWMsIHdlIHVzZSB0aGUgcHJvdmlkZWQgYG1hcFJvdXRlUHJvcGVydGllc2BcbiAgICAvLyBmdW5jdGlvbiB0byBzZXQgdGhlIGZyYW1ld29yay1hd2FyZSBwcm9wZXJ0aWVzIChgZWxlbWVudGAvYGhhc0Vycm9yQm91bmRhcnlgKVxuICAgIC8vIHNpbmNlIHRoZSBsb2dpYyB3aWxsIGRpZmZlciBiZXR3ZWVuIGZyYW1ld29ya3MuXG4gICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzMihyb3V0ZVRvVXBkYXRlKSxcbiAgICBsYXp5OiB2b2lkIDBcbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBkZWZhdWx0RGF0YVN0cmF0ZWd5KGFyZ3MpIHtcbiAgbGV0IG1hdGNoZXNUb0xvYWQgPSBhcmdzLm1hdGNoZXMuZmlsdGVyKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBsZXQga2V5ZWRSZXN1bHRzID0ge307XG4gIGxldCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwobWF0Y2hlc1RvTG9hZC5tYXAoKG0pID0+IG0ucmVzb2x2ZSgpKSk7XG4gIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpKSA9PiB7XG4gICAga2V5ZWRSZXN1bHRzW21hdGNoZXNUb0xvYWRbaV0ucm91dGUuaWRdID0gcmVzdWx0O1xuICB9KTtcbiAgcmV0dXJuIGtleWVkUmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHREYXRhU3RyYXRlZ3lXaXRoTWlkZGxld2FyZShhcmdzKSB7XG4gIGlmICghYXJncy5tYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSkpIHtcbiAgICByZXR1cm4gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKTtcbiAgfVxuICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgIGFyZ3MsXG4gICAgZmFsc2UsXG4gICAgKCkgPT4gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKSxcbiAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gcnVuTWlkZGxld2FyZVBpcGVsaW5lKGFyZ3MsIHByb3BhZ2F0ZVJlc3VsdCwgaGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gIGxldCB7IG1hdGNoZXMsIHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9ID0gYXJncztcbiAgbGV0IG1pZGRsZXdhcmVTdGF0ZSA9IHtcbiAgICBoYW5kbGVyUmVzdWx0OiB2b2lkIDAsXG4gICAgcHJvcGFnYXRlUmVzdWx0XG4gIH07XG4gIHRyeSB7XG4gICAgbGV0IHR1cGxlcyA9IG1hdGNoZXMuZmxhdE1hcChcbiAgICAgIChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUgPyBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUubWFwKChmbikgPT4gW20ucm91dGUuaWQsIGZuXSkgOiBbXVxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNhbGxSb3V0ZU1pZGRsZXdhcmUoXG4gICAgICB7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9LFxuICAgICAgdHVwbGVzLFxuICAgICAgbWlkZGxld2FyZVN0YXRlLFxuICAgICAgaGFuZGxlclxuICAgICk7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVTdGF0ZS5wcm9wYWdhdGVSZXN1bHQgPyByZXN1bHQgOiBtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBNaWRkbGV3YXJlRXJyb3IpKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXJyb3JIYW5kbGVyKGUpO1xuICAgIGlmIChwcm9wYWdhdGVSZXN1bHQgfHwgIW1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdCwgcmVzdWx0KTtcbiAgfVxufVxudmFyIE1pZGRsZXdhcmVFcnJvciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iocm91dGVJZCwgZXJyb3IpIHtcbiAgICB0aGlzLnJvdXRlSWQgPSByb3V0ZUlkO1xuICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgfVxufTtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxSb3V0ZU1pZGRsZXdhcmUoYXJncywgbWlkZGxld2FyZXMsIG1pZGRsZXdhcmVTdGF0ZSwgaGFuZGxlciwgaWR4ID0gMCkge1xuICBsZXQgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5yZWFzb24pIHtcbiAgICAgIHRocm93IHJlcXVlc3Quc2lnbmFsLnJlYXNvbjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFJlcXVlc3QgYWJvcnRlZCB3aXRob3V0IGFuIFxcYEFib3J0U2lnbmFsLnJlYXNvblxcYDogJHtyZXF1ZXN0Lm1ldGhvZH0gJHtyZXF1ZXN0LnVybH1gXG4gICAgKTtcbiAgfVxuICBsZXQgdHVwbGUgPSBtaWRkbGV3YXJlc1tpZHhdO1xuICBpZiAoIXR1cGxlKSB7XG4gICAgbWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQgPSBhd2FpdCBoYW5kbGVyKCk7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0O1xuICB9XG4gIGxldCBbcm91dGVJZCwgbWlkZGxld2FyZV0gPSB0dXBsZTtcbiAgbGV0IG5leHRDYWxsZWQgPSBmYWxzZTtcbiAgbGV0IG5leHRSZXN1bHQgPSB2b2lkIDA7XG4gIGxldCBuZXh0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChuZXh0Q2FsbGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbWF5IG9ubHkgY2FsbCBgbmV4dCgpYCBvbmNlIHBlciBtaWRkbGV3YXJlXCIpO1xuICAgIH1cbiAgICBuZXh0Q2FsbGVkID0gdHJ1ZTtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2FsbFJvdXRlTWlkZGxld2FyZShcbiAgICAgIGFyZ3MsXG4gICAgICBtaWRkbGV3YXJlcyxcbiAgICAgIG1pZGRsZXdhcmVTdGF0ZSxcbiAgICAgIGhhbmRsZXIsXG4gICAgICBpZHggKyAxXG4gICAgKTtcbiAgICBpZiAobWlkZGxld2FyZVN0YXRlLnByb3BhZ2F0ZVJlc3VsdCkge1xuICAgICAgbmV4dFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH1cbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbWlkZGxld2FyZShcbiAgICAgIHtcbiAgICAgICAgcmVxdWVzdDogYXJncy5yZXF1ZXN0LFxuICAgICAgICBwYXJhbXM6IGFyZ3MucGFyYW1zLFxuICAgICAgICBjb250ZXh0OiBhcmdzLmNvbnRleHRcbiAgICAgIH0sXG4gICAgICBuZXh0XG4gICAgKTtcbiAgICBpZiAobmV4dENhbGxlZCkge1xuICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIE1pZGRsZXdhcmVFcnJvcikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IE1pZGRsZXdhcmVFcnJvcihyb3V0ZUlkLCBlKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneUltcGwoZGF0YVN0cmF0ZWd5SW1wbCwgdHlwZSwgcmVxdWVzdCwgbWF0Y2hlc1RvTG9hZCwgbWF0Y2hlcywgZmV0Y2hlcktleSwgbWFuaWZlc3QsIG1hcFJvdXRlUHJvcGVydGllczIsIHNjb3BlZENvbnRleHQsIGVuYWJsZU1pZGRsZXdhcmUpIHtcbiAgbGV0IGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXMgPSBtYXRjaGVzLm1hcChcbiAgICAobSkgPT4gbS5yb3V0ZS5sYXp5ID8gbG9hZExhenlSb3V0ZU1vZHVsZShtLnJvdXRlLCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBtYW5pZmVzdCkgOiB2b2lkIDBcbiAgKTtcbiAgaWYgKGVuYWJsZU1pZGRsZXdhcmUpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzKTtcbiAgfVxuICBsZXQgZHNNYXRjaGVzID0gbWF0Y2hlcy5tYXAoKG1hdGNoLCBpKSA9PiB7XG4gICAgbGV0IGxvYWRSb3V0ZVByb21pc2UgPSBsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzW2ldO1xuICAgIGxldCBzaG91bGRMb2FkID0gbWF0Y2hlc1RvTG9hZC5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSBtYXRjaC5yb3V0ZS5pZCk7XG4gICAgbGV0IHJlc29sdmUgPSBhc3luYyAoaGFuZGxlck92ZXJyaWRlKSA9PiB7XG4gICAgICBpZiAoaGFuZGxlck92ZXJyaWRlICYmIHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiICYmIChtYXRjaC5yb3V0ZS5sYXp5IHx8IG1hdGNoLnJvdXRlLmxvYWRlcikpIHtcbiAgICAgICAgc2hvdWxkTG9hZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkTG9hZCA/IGNhbGxMb2FkZXJPckFjdGlvbihcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIGxvYWRSb3V0ZVByb21pc2UsXG4gICAgICAgIGhhbmRsZXJPdmVycmlkZSxcbiAgICAgICAgc2NvcGVkQ29udGV4dFxuICAgICAgKSA6IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIHJlc3VsdDogdm9pZCAwIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1hdGNoLFxuICAgICAgc2hvdWxkTG9hZCxcbiAgICAgIHJlc29sdmVcbiAgICB9O1xuICB9KTtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBkYXRhU3RyYXRlZ3lJbXBsKHtcbiAgICBtYXRjaGVzOiBkc01hdGNoZXMsXG4gICAgcmVxdWVzdCxcbiAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgIGZldGNoZXJLZXksXG4gICAgY29udGV4dDogc2NvcGVkQ29udGV4dFxuICB9KTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzKTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlck9yQWN0aW9uKHR5cGUsIHJlcXVlc3QsIG1hdGNoLCBsb2FkUm91dGVQcm9taXNlLCBoYW5kbGVyT3ZlcnJpZGUsIHNjb3BlZENvbnRleHQpIHtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IG9uUmVqZWN0O1xuICBsZXQgcnVuSGFuZGxlciA9IChoYW5kbGVyKSA9PiB7XG4gICAgbGV0IHJlamVjdDtcbiAgICBsZXQgYWJvcnRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHIpID0+IHJlamVjdCA9IHIpO1xuICAgIG9uUmVqZWN0ID0gKCkgPT4gcmVqZWN0KCk7XG4gICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uUmVqZWN0KTtcbiAgICBsZXQgYWN0dWFsSGFuZGxlciA9IChjdHgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgWW91IGNhbm5vdCBjYWxsIHRoZSBoYW5kbGVyIGZvciBhIHJvdXRlIHdoaWNoIGRlZmluZXMgYSBib29sZWFuIFwiJHt0eXBlfVwiIFtyb3V0ZUlkOiAke21hdGNoLnJvdXRlLmlkfV1gXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhbmRsZXIoXG4gICAgICAgIHtcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIHBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgICAgICAgIGNvbnRleHQ6IHNjb3BlZENvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgLi4uY3R4ICE9PSB2b2lkIDAgPyBbY3R4XSA6IFtdXG4gICAgICApO1xuICAgIH07XG4gICAgbGV0IGhhbmRsZXJQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCB2YWwgPSBhd2FpdCAoaGFuZGxlck92ZXJyaWRlID8gaGFuZGxlck92ZXJyaWRlKChjdHgpID0+IGFjdHVhbEhhbmRsZXIoY3R4KSkgOiBhY3R1YWxIYW5kbGVyKCkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0OiB2YWwgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW2hhbmRsZXJQcm9taXNlLCBhYm9ydFByb21pc2VdKTtcbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgaGFuZGxlciA9IG1hdGNoLnJvdXRlW3R5cGVdO1xuICAgIGlmIChsb2FkUm91dGVQcm9taXNlKSB7XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICBsZXQgaGFuZGxlckVycm9yO1xuICAgICAgICBsZXQgW3ZhbHVlXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAvLyBJZiB0aGUgaGFuZGxlciB0aHJvd3MsIGRvbid0IGxldCBpdCBpbW1lZGlhdGVseSBidWJibGUgb3V0LFxuICAgICAgICAgIC8vIHNpbmNlIHdlIG5lZWQgdG8gbGV0IHRoZSBsYXp5KCkgZXhlY3V0aW9uIGZpbmlzaCBzbyB3ZSBrbm93IGlmIHRoaXNcbiAgICAgICAgICAvLyByb3V0ZSBoYXMgYSBib3VuZGFyeSB0aGF0IGNhbiBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgcnVuSGFuZGxlcihoYW5kbGVyKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlckVycm9yID0gZTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBsb2FkUm91dGVQcm9taXNlXG4gICAgICAgIF0pO1xuICAgICAgICBpZiAoaGFuZGxlckVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aHJvdyBoYW5kbGVyRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBsb2FkUm91dGVQcm9taXNlO1xuICAgICAgICBoYW5kbGVyID0gbWF0Y2gucm91dGVbdHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcnVuSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImFjdGlvblwiKSB7XG4gICAgICAgICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgICAgIGxldCBwYXRobmFtZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICAgIHJvdXRlSWQ6IG1hdGNoLnJvdXRlLmlkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLywgcmVzdWx0OiB2b2lkIDAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgIGxldCBwYXRobmFtZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgICBwYXRobmFtZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHJ1bkhhbmRsZXIoaGFuZGxlcik7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLCByZXN1bHQ6IGUgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAob25SZWplY3QpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KGRhdGFTdHJhdGVneVJlc3VsdCkge1xuICBsZXQgeyByZXN1bHQsIHR5cGUgfSA9IGRhdGFTdHJhdGVneVJlc3VsdDtcbiAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgIGxldCBkYXRhMjtcbiAgICB0cnkge1xuICAgICAgbGV0IGNvbnRlbnRUeXBlID0gcmVzdWx0LmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL2pzb25cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgIGlmIChyZXN1bHQuYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgZGF0YTIgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEyID0gYXdhaXQgcmVzdWx0Lmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YTIgPSBhd2FpdCByZXN1bHQudGV4dCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLywgZXJyb3I6IGUgfTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yUmVzcG9uc2VJbXBsKHJlc3VsdC5zdGF0dXMsIHJlc3VsdC5zdGF0dXNUZXh0LCBkYXRhMiksXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLyxcbiAgICAgIGRhdGE6IGRhdGEyLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzXG4gICAgfTtcbiAgfVxuICBpZiAodHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKSB7XG4gICAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSkge1xuICAgICAgaWYgKHJlc3VsdC5kYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgZXJyb3I6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5pbml0Py5zdGF0dXMsXG4gICAgICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSA6IHZvaWQgMFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgIHJlc3VsdC5pbml0Py5zdGF0dXMgfHwgNTAwLFxuICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICByZXN1bHQuZGF0YVxuICAgICAgICApLFxuICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0LnN0YXR1cyA6IHZvaWQgMCxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgIGVycm9yOiByZXN1bHQsXG4gICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0LnN0YXR1cyA6IHZvaWQgMFxuICAgIH07XG4gIH1cbiAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLFxuICAgICAgZGF0YTogcmVzdWx0LmRhdGEsXG4gICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSA6IHZvaWQgMFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLywgZGF0YTogcmVzdWx0IH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKHJlc3BvbnNlLCByZXF1ZXN0LCByb3V0ZUlkLCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICBpbnZhcmlhbnQoXG4gICAgbG9jYXRpb24sXG4gICAgXCJSZWRpcmVjdHMgcmV0dXJuZWQvdGhyb3duIGZyb20gbG9hZGVycy9hY3Rpb25zIG11c3QgaGF2ZSBhIExvY2F0aW9uIGhlYWRlclwiXG4gICk7XG4gIGlmICghQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgbGV0IHRyaW1tZWRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxXG4gICAgKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVRvKFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICB0cmltbWVkTWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbG9jYXRpb25cbiAgICApO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgbG9jYXRpb24pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24obG9jYXRpb24sIGN1cnJlbnRVcmwsIGJhc2VuYW1lKSB7XG4gIGlmIChBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICBsZXQgbm9ybWFsaXplZExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgbGV0IHVybCA9IG5vcm1hbGl6ZWRMb2NhdGlvbi5zdGFydHNXaXRoKFwiLy9cIikgPyBuZXcgVVJMKGN1cnJlbnRVcmwucHJvdG9jb2wgKyBub3JtYWxpemVkTG9jYXRpb24pIDogbmV3IFVSTChub3JtYWxpemVkTG9jYXRpb24pO1xuICAgIGxldCBpc1NhbWVCYXNlbmFtZSA9IHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgIT0gbnVsbDtcbiAgICBpZiAodXJsLm9yaWdpbiA9PT0gY3VycmVudFVybC5vcmlnaW4gJiYgaXNTYW1lQmFzZW5hbWUpIHtcbiAgICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KGhpc3RvcnksIGxvY2F0aW9uLCBzaWduYWwsIHN1Ym1pc3Npb24pIHtcbiAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKHN0cmlwSGFzaEZyb21QYXRoKGxvY2F0aW9uKSkudG9TdHJpbmcoKTtcbiAgbGV0IGluaXQgPSB7IHNpZ25hbCB9O1xuICBpZiAoc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtRW5jVHlwZSB9ID0gc3VibWlzc2lvbjtcbiAgICBpbml0Lm1ldGhvZCA9IGZvcm1NZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSBuZXcgSGVhZGVycyh7IFwiQ29udGVudC1UeXBlXCI6IGZvcm1FbmNUeXBlIH0pO1xuICAgICAgaW5pdC5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoc3VibWlzc2lvbi5qc29uKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1FbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgICAgaW5pdC5ib2R5ID0gc3VibWlzc2lvbi50ZXh0O1xuICAgIH0gZWxzZSBpZiAoZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgJiYgc3VibWlzc2lvbi5mb3JtRGF0YSkge1xuICAgICAgaW5pdC5ib2R5ID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMoc3VibWlzc2lvbi5mb3JtRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQuYm9keSA9IHN1Ym1pc3Npb24uZm9ybURhdGE7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwsIGluaXQpO1xufVxuZnVuY3Rpb24gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMoZm9ybURhdGEpIHtcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IHZhbHVlLm5hbWUpO1xuICB9XG4gIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG5mdW5jdGlvbiBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpIHtcbiAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmb3JtRGF0YTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEobWF0Y2hlcywgcmVzdWx0cywgcGVuZGluZ0FjdGlvblJlc3VsdCwgaXNTdGF0aWNIYW5kbGVyID0gZmFsc2UsIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID0gZmFsc2UpIHtcbiAgbGV0IGxvYWRlckRhdGEgPSB7fTtcbiAgbGV0IGVycm9ycyA9IG51bGw7XG4gIGxldCBzdGF0dXNDb2RlO1xuICBsZXQgZm91bmRFcnJvciA9IGZhbHNlO1xuICBsZXQgbG9hZGVySGVhZGVycyA9IHt9O1xuICBsZXQgcGVuZGluZ0Vycm9yID0gcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciA6IHZvaWQgMDtcbiAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2lkXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpLFxuICAgICAgXCJDYW5ub3QgaGFuZGxlIHJlZGlyZWN0IHJlc3VsdHMgaW4gcHJvY2Vzc0xvYWRlckRhdGFcIlxuICAgICk7XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGVycm9yID0gcmVzdWx0LmVycm9yO1xuICAgICAgaWYgKHBlbmRpbmdFcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGVycm9yID0gcGVuZGluZ0Vycm9yO1xuICAgICAgICBwZW5kaW5nRXJyb3IgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBlcnJvcnMgPSBlcnJvcnMgfHwge307XG4gICAgICBpZiAoc2tpcExvYWRlckVycm9yQnViYmxpbmcpIHtcbiAgICAgICAgZXJyb3JzW2lkXSA9IGVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGlkKTtcbiAgICAgICAgaWYgKGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSA9PSBudWxsKSB7XG4gICAgICAgICAgZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdID0gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTdGF0aWNIYW5kbGVyKSB7XG4gICAgICAgIGxvYWRlckRhdGFbaWRdID0gUmVzZXRMb2FkZXJEYXRhU3ltYm9sO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3VuZEVycm9yKSB7XG4gICAgICAgIGZvdW5kRXJyb3IgPSB0cnVlO1xuICAgICAgICBzdGF0dXNDb2RlID0gaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiA1MDA7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGVyRGF0YVtpZF0gPSByZXN1bHQuZGF0YTtcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSAmJiByZXN1bHQuc3RhdHVzQ29kZSAhPT0gMjAwICYmICFmb3VuZEVycm9yKSB7XG4gICAgICAgIHN0YXR1c0NvZGUgPSByZXN1bHQuc3RhdHVzQ29kZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmIChwZW5kaW5nRXJyb3IgIT09IHZvaWQgMCAmJiBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgZXJyb3JzID0geyBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdFcnJvciB9O1xuICAgIGxvYWRlckRhdGFbcGVuZGluZ0FjdGlvblJlc3VsdFswXV0gPSB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBsb2FkZXJEYXRhLFxuICAgIGVycm9ycyxcbiAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlIHx8IDIwMCxcbiAgICBsb2FkZXJIZWFkZXJzXG4gIH07XG59XG5mdW5jdGlvbiBwcm9jZXNzTG9hZGVyRGF0YShzdGF0ZSwgbWF0Y2hlcywgcmVzdWx0cywgcGVuZGluZ0FjdGlvblJlc3VsdCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsIGZldGNoZXJSZXN1bHRzKSB7XG4gIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShcbiAgICBtYXRjaGVzLFxuICAgIHJlc3VsdHMsXG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICApO1xuICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgIGxldCB7IGtleSwgbWF0Y2gsIGNvbnRyb2xsZXIgfSA9IHJmO1xuICAgIGxldCByZXN1bHQgPSBmZXRjaGVyUmVzdWx0c1trZXldO1xuICAgIGludmFyaWFudChyZXN1bHQsIFwiRGlkIG5vdCBmaW5kIGNvcnJlc3BvbmRpbmcgZmV0Y2hlciByZXN1bHRcIik7XG4gICAgaWYgKGNvbnRyb2xsZXIgJiYgY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgbWF0Y2g/LnJvdXRlLmlkKTtcbiAgICAgIGlmICghKGVycm9ycyAmJiBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0pKSB7XG4gICAgICAgIGVycm9ycyA9IHtcbiAgICAgICAgICAuLi5lcnJvcnMsXG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgIH0gZWxzZSBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiVW5oYW5kbGVkIGZldGNoZXIgcmV2YWxpZGF0aW9uIHJlZGlyZWN0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgbG9hZGVyRGF0YSwgZXJyb3JzIH07XG59XG5mdW5jdGlvbiBtZXJnZUxvYWRlckRhdGEobG9hZGVyRGF0YSwgbmV3TG9hZGVyRGF0YSwgbWF0Y2hlcywgZXJyb3JzKSB7XG4gIGxldCBtZXJnZWRMb2FkZXJEYXRhID0gT2JqZWN0LmVudHJpZXMobmV3TG9hZGVyRGF0YSkuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gUmVzZXRMb2FkZXJEYXRhU3ltYm9sKS5yZWR1Y2UoKG1lcmdlZCwgW2ssIHZdKSA9PiB7XG4gICAgbWVyZ2VkW2tdID0gdjtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9LCB7fSk7XG4gIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBpZiAoIW5ld0xvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpICYmIGxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpICYmIG1hdGNoLnJvdXRlLmxvYWRlcikge1xuICAgICAgbWVyZ2VkTG9hZGVyRGF0YVtpZF0gPSBsb2FkZXJEYXRhW2lkXTtcbiAgICB9XG4gICAgaWYgKGVycm9ycyAmJiBlcnJvcnMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1lcmdlZExvYWRlckRhdGE7XG59XG5mdW5jdGlvbiBnZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgaWYgKCFwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8ge1xuICAgIC8vIENsZWFyIG91dCBwcmlvciBhY3Rpb25EYXRhIG9uIGVycm9yc1xuICAgIGFjdGlvbkRhdGE6IHt9XG4gIH0gOiB7XG4gICAgYWN0aW9uRGF0YToge1xuICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGFcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIHJvdXRlSWQpIHtcbiAgbGV0IGVsaWdpYmxlTWF0Y2hlcyA9IHJvdXRlSWQgPyBtYXRjaGVzLnNsaWNlKDAsIG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSArIDEpIDogWy4uLm1hdGNoZXNdO1xuICByZXR1cm4gZWxpZ2libGVNYXRjaGVzLnJldmVyc2UoKS5maW5kKChtKSA9PiBtLnJvdXRlLmhhc0Vycm9yQm91bmRhcnkgPT09IHRydWUpIHx8IG1hdGNoZXNbMF07XG59XG5mdW5jdGlvbiBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlcykge1xuICBsZXQgcm91dGUgPSByb3V0ZXMubGVuZ3RoID09PSAxID8gcm91dGVzWzBdIDogcm91dGVzLmZpbmQoKHIpID0+IHIuaW5kZXggfHwgIXIucGF0aCB8fCByLnBhdGggPT09IFwiL1wiKSB8fCB7XG4gICAgaWQ6IGBfX3NoaW0tZXJyb3Itcm91dGVfX2BcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBtYXRjaGVzOiBbXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIHBhdGhuYW1lOiBcIlwiLFxuICAgICAgICBwYXRobmFtZUJhc2U6IFwiXCIsXG4gICAgICAgIHJvdXRlXG4gICAgICB9XG4gICAgXSxcbiAgICByb3V0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcihzdGF0dXMsIHtcbiAgcGF0aG5hbWUsXG4gIHJvdXRlSWQsXG4gIG1ldGhvZCxcbiAgdHlwZSxcbiAgbWVzc2FnZVxufSA9IHt9KSB7XG4gIGxldCBzdGF0dXNUZXh0ID0gXCJVbmtub3duIFNlcnZlciBFcnJvclwiO1xuICBsZXQgZXJyb3JNZXNzYWdlID0gXCJVbmtub3duIEByZW1peC1ydW4vcm91dGVyIGVycm9yXCI7XG4gIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgIHN0YXR1c1RleHQgPSBcIkJhZCBSZXF1ZXN0XCI7XG4gICAgaWYgKG1ldGhvZCAmJiBwYXRobmFtZSAmJiByb3V0ZUlkKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgWW91IG1hZGUgYSAke21ldGhvZH0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGRpZCBub3QgcHJvdmlkZSBhIFxcYGxvYWRlclxcYCBmb3Igcm91dGUgXCIke3JvdXRlSWR9XCIsIHNvIHRoZXJlIGlzIG5vIHdheSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuYDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiaW52YWxpZC1ib2R5XCIpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGVuY29kZSBzdWJtaXNzaW9uIGJvZHlcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJGb3JiaWRkZW5cIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgUm91dGUgXCIke3JvdXRlSWR9XCIgZG9lcyBub3QgbWF0Y2ggVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJOb3QgRm91bmRcIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgTm8gcm91dGUgbWF0Y2hlcyBVUkwgXCIke3BhdGhuYW1lfVwiYDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNSkge1xuICAgIHN0YXR1c1RleHQgPSBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYFlvdSBtYWRlIGEgJHttZXRob2QudG9VcHBlckNhc2UoKX0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGRpZCBub3QgcHJvdmlkZSBhbiBcXGBhY3Rpb25cXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmIChtZXRob2QpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBJbnZhbGlkIHJlcXVlc3QgbWV0aG9kIFwiJHttZXRob2QudG9VcHBlckNhc2UoKX1cImA7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgc3RhdHVzIHx8IDUwMCxcbiAgICBzdGF0dXNUZXh0LFxuICAgIG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgIHRydWVcbiAgKTtcbn1cbmZ1bmN0aW9uIGZpbmRSZWRpcmVjdChyZXN1bHRzKSB7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocmVzdWx0cyk7XG4gIGZvciAobGV0IGkgPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IFtrZXksIHJlc3VsdF0gPSBlbnRyaWVzW2ldO1xuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiB7IGtleSwgcmVzdWx0IH07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdHJpcEhhc2hGcm9tUGF0aChwYXRoKSB7XG4gIGxldCBwYXJzZWRQYXRoID0gdHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgocGF0aCkgOiBwYXRoO1xuICByZXR1cm4gY3JlYXRlUGF0aCh7IC4uLnBhcnNlZFBhdGgsIGhhc2g6IFwiXCIgfSk7XG59XG5mdW5jdGlvbiBpc0hhc2hDaGFuZ2VPbmx5KGEsIGIpIHtcbiAgaWYgKGEucGF0aG5hbWUgIT09IGIucGF0aG5hbWUgfHwgYS5zZWFyY2ggIT09IGIuc2VhcmNoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhLmhhc2ggPT09IFwiXCIpIHtcbiAgICByZXR1cm4gYi5oYXNoICE9PSBcIlwiO1xuICB9IGVsc2UgaWYgKGEuaGFzaCA9PT0gYi5oYXNoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoYi5oYXNoICE9PSBcIlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNEYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiByZXN1bHQgIT0gbnVsbCAmJiB0eXBlb2YgcmVzdWx0ID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIHJlc3VsdCAmJiBcInJlc3VsdFwiIGluIHJlc3VsdCAmJiAocmVzdWx0LnR5cGUgPT09IFwiZGF0YVwiIC8qIGRhdGEgKi8gfHwgcmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLyk7XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSAmJiByZWRpcmVjdFN0YXR1c0NvZGVzLmhhcyhyZXN1bHQucmVzdWx0LnN0YXR1cyk7XG59XG5mdW5jdGlvbiBpc0Vycm9yUmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLztcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiAocmVzdWx0ICYmIHJlc3VsdC50eXBlKSA9PT0gXCJyZWRpcmVjdFwiIC8qIHJlZGlyZWN0ICovO1xufVxuZnVuY3Rpb24gaXNEYXRhV2l0aFJlc3BvbnNlSW5pdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9IG51bGwgJiYgXCJ0eXBlXCIgaW4gdmFsdWUgJiYgXCJkYXRhXCIgaW4gdmFsdWUgJiYgXCJpbml0XCIgaW4gdmFsdWUgJiYgdmFsdWUudHlwZSA9PT0gXCJEYXRhV2l0aFJlc3BvbnNlSW5pdFwiO1xufVxuZnVuY3Rpb24gaXNSZXNwb25zZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUuc3RhdHVzID09PSBcIm51bWJlclwiICYmIHR5cGVvZiB2YWx1ZS5zdGF0dXNUZXh0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZS5oZWFkZXJzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS5ib2R5ICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdFN0YXR1c0NvZGUoc3RhdHVzQ29kZSkge1xuICByZXR1cm4gcmVkaXJlY3RTdGF0dXNDb2Rlcy5oYXMoc3RhdHVzQ29kZSk7XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0KSB7XG4gIHJldHVybiBpc1Jlc3BvbnNlKHJlc3VsdCkgJiYgaXNSZWRpcmVjdFN0YXR1c0NvZGUocmVzdWx0LnN0YXR1cykgJiYgcmVzdWx0LmhlYWRlcnMuaGFzKFwiTG9jYXRpb25cIik7XG59XG5mdW5jdGlvbiBpc1ZhbGlkTWV0aG9kKG1ldGhvZCkge1xuICByZXR1cm4gdmFsaWRSZXF1ZXN0TWV0aG9kcy5oYXMobWV0aG9kLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gaXNNdXRhdGlvbk1ldGhvZChtZXRob2QpIHtcbiAgcmV0dXJuIHZhbGlkTXV0YXRpb25NZXRob2RzLmhhcyhtZXRob2QudG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBoYXNOYWtlZEluZGV4UXVlcnkoc2VhcmNoKSB7XG4gIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCkuZ2V0QWxsKFwiaW5kZXhcIikuc29tZSgodikgPT4gdiA9PT0gXCJcIik7XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbikge1xuICBsZXQgc2VhcmNoID0gdHlwZW9mIGxvY2F0aW9uID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uKS5zZWFyY2ggOiBsb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXggJiYgaGFzTmFrZWRJbmRleFF1ZXJ5KHNlYXJjaCB8fCBcIlwiKSkge1xuICAgIHJldHVybiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIH1cbiAgbGV0IHBhdGhNYXRjaGVzID0gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcyk7XG4gIHJldHVybiBwYXRoTWF0Y2hlc1twYXRoTWF0Y2hlcy5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihuYXZpZ2F0aW9uKSB7XG4gIGxldCB7IGZvcm1NZXRob2QsIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlLCB0ZXh0LCBmb3JtRGF0YSwganNvbiB9ID0gbmF2aWdhdGlvbjtcbiAgaWYgKCFmb3JtTWV0aG9kIHx8ICFmb3JtQWN0aW9uIHx8ICFmb3JtRW5jVHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGV4dCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dFxuICAgIH07XG4gIH0gZWxzZSBpZiAoZm9ybURhdGEgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGEsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0OiB2b2lkIDBcbiAgICB9O1xuICB9IGVsc2UgaWYgKGpzb24gIT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb24sXG4gICAgICB0ZXh0OiB2b2lkIDBcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBnZXRMb2FkaW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbikge1xuICBpZiAoc3VibWlzc2lvbikge1xuICAgIGxldCBuYXZpZ2F0aW9uID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0XG4gICAgfTtcbiAgICByZXR1cm4gbmF2aWdhdGlvbjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbmF2aWdhdGlvbiA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICAgICAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICAgICAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0OiB2b2lkIDBcbiAgICB9O1xuICAgIHJldHVybiBuYXZpZ2F0aW9uO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbikge1xuICBsZXQgbmF2aWdhdGlvbiA9IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCIsXG4gICAgbG9jYXRpb24sXG4gICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgdGV4dDogc3VibWlzc2lvbi50ZXh0XG4gIH07XG4gIHJldHVybiBuYXZpZ2F0aW9uO1xufVxuZnVuY3Rpb24gZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZGF0YTIpIHtcbiAgaWYgKHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgZmV0Y2hlciA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgICBkYXRhOiBkYXRhMlxuICAgIH07XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGZldGNoZXIgPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gICAgICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gICAgICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHQ6IHZvaWQgMCxcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U3VibWl0dGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZXhpc3RpbmdGZXRjaGVyKSB7XG4gIGxldCBmZXRjaGVyID0ge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIixcbiAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgZGF0YTogZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgfTtcbiAgcmV0dXJuIGZldGNoZXI7XG59XG5mdW5jdGlvbiBnZXREb25lRmV0Y2hlcihkYXRhMikge1xuICBsZXQgZmV0Y2hlciA9IHtcbiAgICBzdGF0ZTogXCJpZGxlXCIsXG4gICAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICAgIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAganNvbjogdm9pZCAwLFxuICAgIHRleHQ6IHZvaWQgMCxcbiAgICBkYXRhOiBkYXRhMlxuICB9O1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVBcHBsaWVkVHJhbnNpdGlvbnMoX3dpbmRvdywgdHJhbnNpdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICBsZXQgc2Vzc2lvblBvc2l0aW9ucyA9IF93aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcbiAgICAgIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZXG4gICAgKTtcbiAgICBpZiAoc2Vzc2lvblBvc2l0aW9ucykge1xuICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHNlc3Npb25Qb3NpdGlvbnMpO1xuICAgICAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24gfHwge30pKSB7XG4gICAgICAgIGlmICh2ICYmIEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgICB0cmFuc2l0aW9ucy5zZXQoaywgbmV3IFNldCh2IHx8IFtdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxufVxuZnVuY3Rpb24gcGVyc2lzdEFwcGxpZWRUcmFuc2l0aW9ucyhfd2luZG93LCB0cmFuc2l0aW9ucykge1xuICBpZiAodHJhbnNpdGlvbnMuc2l6ZSA+IDApIHtcbiAgICBsZXQganNvbiA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiB0cmFuc2l0aW9ucykge1xuICAgICAganNvbltrXSA9IFsuLi52XTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIF93aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVksXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGpzb24pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgYEZhaWxlZCB0byBzYXZlIGFwcGxpZWQgdmlldyB0cmFuc2l0aW9ucyBpbiBzZXNzaW9uU3RvcmFnZSAoJHtlcnJvcn0pLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZCgpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IGFzeW5jICh2YWwpID0+IHtcbiAgICAgIHJlcyh2YWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlamVjdCA9IGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgcmVqKGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZXNvbHZlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlamVjdFxuICB9O1xufVxuXG4vLyBsaWIvY29tcG9uZW50cy50c3hcbmltcG9ydCAqIGFzIFJlYWN0MyBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2NvbnRleHQudHNcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xudmFyIERhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbkRhdGFSb3V0ZXJDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJEYXRhUm91dGVyXCI7XG52YXIgRGF0YVJvdXRlclN0YXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5EYXRhUm91dGVyU3RhdGVDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJEYXRhUm91dGVyU3RhdGVcIjtcbnZhciBWaWV3VHJhbnNpdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZVxufSk7XG5WaWV3VHJhbnNpdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlZpZXdUcmFuc2l0aW9uXCI7XG52YXIgRmV0Y2hlcnNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuKTtcbkZldGNoZXJzQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRmV0Y2hlcnNcIjtcbnZhciBBd2FpdENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuQXdhaXRDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJBd2FpdFwiO1xudmFyIE5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgbnVsbFxuKTtcbk5hdmlnYXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJOYXZpZ2F0aW9uXCI7XG52YXIgTG9jYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgbnVsbFxuKTtcbkxvY2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTG9jYXRpb25cIjtcbnZhciBSb3V0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgb3V0bGV0OiBudWxsLFxuICBtYXRjaGVzOiBbXSxcbiAgaXNEYXRhUm91dGU6IGZhbHNlXG59KTtcblJvdXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVcIjtcbnZhciBSb3V0ZUVycm9yQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5Sb3V0ZUVycm9yQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVFcnJvclwiO1xuXG4vLyBsaWIvaG9va3MudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIgZnJvbSBcInJlYWN0XCI7XG52YXIgRU5BQkxFX0RFVl9XQVJOSU5HUyA9IHRydWU7XG5mdW5jdGlvbiB1c2VIcmVmKHRvLCB7IHJlbGF0aXZlIH0gPSB7fSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VIcmVmKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IGJhc2VuYW1lLCBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgaGFzaCwgcGF0aG5hbWUsIHNlYXJjaCB9ID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuICBsZXQgam9pbmVkUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIGpvaW5lZFBhdGhuYW1lID0gcGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRobmFtZV0pO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0b3IyLmNyZWF0ZUhyZWYoeyBwYXRobmFtZTogam9pbmVkUGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9KTtcbn1cbmZ1bmN0aW9uIHVzZUluUm91dGVyQ29udGV4dCgpIHtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZUxvY2F0aW9uKCkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VMb2NhdGlvbigpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KS5sb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRpb25UeXBlKCkge1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KS5uYXZpZ2F0aW9uVHlwZTtcbn1cbmZ1bmN0aW9uIHVzZU1hdGNoKHBhdHRlcm4pIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTWF0Y2goKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgcGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaFBhdGgocGF0dGVybiwgZGVjb2RlUGF0aChwYXRobmFtZSkpLFxuICAgIFtwYXRobmFtZSwgcGF0dGVybl1cbiAgKTtcbn1cbnZhciBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcgPSBgWW91IHNob3VsZCBjYWxsIG5hdmlnYXRlKCkgaW4gYSBSZWFjdC51c2VFZmZlY3QoKSwgbm90IHdoZW4geW91ciBjb21wb25lbnQgaXMgZmlyc3QgcmVuZGVyZWQuYDtcbmZ1bmN0aW9uIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoY2IpIHtcbiAgbGV0IGlzU3RhdGljID0gUmVhY3QyLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpLnN0YXRpYztcbiAgaWYgKCFpc1N0YXRpYykge1xuICAgIFJlYWN0Mi51c2VMYXlvdXRFZmZlY3QoY2IpO1xuICB9XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZSgpIHtcbiAgbGV0IHsgaXNEYXRhUm91dGUgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIHJldHVybiBpc0RhdGFSb3V0ZSA/IHVzZU5hdmlnYXRlU3RhYmxlKCkgOiB1c2VOYXZpZ2F0ZVVuc3RhYmxlKCk7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVVuc3RhYmxlKCkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VOYXZpZ2F0ZSgpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGxldCB7IGJhc2VuYW1lLCBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCByb3V0ZVBhdGhuYW1lc0pzb24gPSBKU09OLnN0cmluZ2lmeShnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpKTtcbiAgbGV0IGFjdGl2ZVJlZiA9IFJlYWN0Mi51c2VSZWYoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhY3RpdmVSZWYuY3VycmVudCA9IHRydWU7XG4gIH0pO1xuICBsZXQgbmF2aWdhdGUgPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgKHRvLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIHdhcm5pbmcoYWN0aXZlUmVmLmN1cnJlbnQsIG5hdmlnYXRlRWZmZWN0V2FybmluZyk7XG4gICAgICBpZiAoIWFjdGl2ZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG5hdmlnYXRvcjIuZ28odG8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICAgICAgdG8sXG4gICAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgICAgb3B0aW9ucy5yZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICAgICk7XG4gICAgICBpZiAoZGF0YVJvdXRlckNvbnRleHQgPT0gbnVsbCAmJiBiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICAgICAgcGF0aC5wYXRobmFtZSA9IHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gICAgICB9XG4gICAgICAoISFvcHRpb25zLnJlcGxhY2UgPyBuYXZpZ2F0b3IyLnJlcGxhY2UgOiBuYXZpZ2F0b3IyLnB1c2gpKFxuICAgICAgICBwYXRoLFxuICAgICAgICBvcHRpb25zLnN0YXRlLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIH0sXG4gICAgW1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBuYXZpZ2F0b3IyLFxuICAgICAgcm91dGVQYXRobmFtZXNKc29uLFxuICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgIGRhdGFSb3V0ZXJDb250ZXh0XG4gICAgXVxuICApO1xuICByZXR1cm4gbmF2aWdhdGU7XG59XG52YXIgT3V0bGV0Q29udGV4dCA9IFJlYWN0Mi5jcmVhdGVDb250ZXh0KG51bGwpO1xuZnVuY3Rpb24gdXNlT3V0bGV0Q29udGV4dCgpIHtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KE91dGxldENvbnRleHQpO1xufVxuZnVuY3Rpb24gdXNlT3V0bGV0KGNvbnRleHQpIHtcbiAgbGV0IG91dGxldCA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCkub3V0bGV0O1xuICBpZiAob3V0bGV0KSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChPdXRsZXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIG91dGxldCk7XG4gIH1cbiAgcmV0dXJuIG91dGxldDtcbn1cbmZ1bmN0aW9uIHVzZVBhcmFtcygpIHtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlTWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIHJldHVybiByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXJhbXMgOiB7fTtcbn1cbmZ1bmN0aW9uIHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9ID0ge30pIHtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCByb3V0ZVBhdGhuYW1lc0pzb24gPSBKU09OLnN0cmluZ2lmeShnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IHJlc29sdmVUbyhcbiAgICAgIHRvLFxuICAgICAgSlNPTi5wYXJzZShyb3V0ZVBhdGhuYW1lc0pzb24pLFxuICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICAgICksXG4gICAgW3RvLCByb3V0ZVBhdGhuYW1lc0pzb24sIGxvY2F0aW9uUGF0aG5hbWUsIHJlbGF0aXZlXVxuICApO1xufVxuZnVuY3Rpb24gdXNlUm91dGVzKHJvdXRlcywgbG9jYXRpb25BcmcpIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZyk7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcsIGRhdGFSb3V0ZXJTdGF0ZSwgZnV0dXJlKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZVJvdXRlcygpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsIHN0YXRpYzogaXNTdGF0aWMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlczogcGFyZW50TWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlTWF0Y2ggPSBwYXJlbnRNYXRjaGVzW3BhcmVudE1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGxldCBwYXJlbnRQYXJhbXMgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXJhbXMgOiB7fTtcbiAgbGV0IHBhcmVudFBhdGhuYW1lID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGF0aG5hbWUgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFBhdGhuYW1lQmFzZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lQmFzZSA6IFwiL1wiO1xuICBsZXQgcGFyZW50Um91dGUgPSByb3V0ZU1hdGNoICYmIHJvdXRlTWF0Y2gucm91dGU7XG4gIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTKSB7XG4gICAgbGV0IHBhcmVudFBhdGggPSBwYXJlbnRSb3V0ZSAmJiBwYXJlbnRSb3V0ZS5wYXRoIHx8IFwiXCI7XG4gICAgd2FybmluZ09uY2UoXG4gICAgICBwYXJlbnRQYXRobmFtZSxcbiAgICAgICFwYXJlbnRSb3V0ZSB8fCBwYXJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSB8fCBwYXJlbnRQYXRoLmVuZHNXaXRoKFwiKj9cIiksXG4gICAgICBgWW91IHJlbmRlcmVkIGRlc2NlbmRhbnQgPFJvdXRlcz4gKG9yIGNhbGxlZCBcXGB1c2VSb3V0ZXMoKVxcYCkgYXQgXCIke3BhcmVudFBhdGhuYW1lfVwiICh1bmRlciA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aH1cIj4pIGJ1dCB0aGUgcGFyZW50IHJvdXRlIHBhdGggaGFzIG5vIHRyYWlsaW5nIFwiKlwiLiBUaGlzIG1lYW5zIGlmIHlvdSBuYXZpZ2F0ZSBkZWVwZXIsIHRoZSBwYXJlbnQgd29uJ3QgbWF0Y2ggYW55bW9yZSBhbmQgdGhlcmVmb3JlIHRoZSBjaGlsZCByb3V0ZXMgd2lsbCBuZXZlciByZW5kZXIuXG5cblBsZWFzZSBjaGFuZ2UgdGhlIHBhcmVudCA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aH1cIj4gdG8gPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGggPT09IFwiL1wiID8gXCIqXCIgOiBgJHtwYXJlbnRQYXRofS8qYH1cIj4uYFxuICAgICk7XG4gIH1cbiAgbGV0IGxvY2F0aW9uRnJvbUNvbnRleHQgPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbG9jYXRpb247XG4gIGlmIChsb2NhdGlvbkFyZykge1xuICAgIGxldCBwYXJzZWRMb2NhdGlvbkFyZyA9IHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBwYXJlbnRQYXRobmFtZUJhc2UgPT09IFwiL1wiIHx8IHBhcnNlZExvY2F0aW9uQXJnLnBhdGhuYW1lPy5zdGFydHNXaXRoKHBhcmVudFBhdGhuYW1lQmFzZSksXG4gICAgICBgV2hlbiBvdmVycmlkaW5nIHRoZSBsb2NhdGlvbiB1c2luZyBcXGA8Um91dGVzIGxvY2F0aW9uPlxcYCBvciBcXGB1c2VSb3V0ZXMocm91dGVzLCBsb2NhdGlvbilcXGAsIHRoZSBsb2NhdGlvbiBwYXRobmFtZSBtdXN0IGJlZ2luIHdpdGggdGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBtYXRjaGVkIGJ5IGFsbCBwYXJlbnQgcm91dGVzLiBUaGUgY3VycmVudCBwYXRobmFtZSBiYXNlIGlzIFwiJHtwYXJlbnRQYXRobmFtZUJhc2V9XCIgYnV0IHBhdGhuYW1lIFwiJHtwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZX1cIiB3YXMgZ2l2ZW4gaW4gdGhlIFxcYGxvY2F0aW9uXFxgIHByb3AuYFxuICAgICk7XG4gICAgbG9jYXRpb24gPSBwYXJzZWRMb2NhdGlvbkFyZztcbiAgfSBlbHNlIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uRnJvbUNvbnRleHQ7XG4gIH1cbiAgbGV0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgXCIvXCI7XG4gIGxldCByZW1haW5pbmdQYXRobmFtZSA9IHBhdGhuYW1lO1xuICBpZiAocGFyZW50UGF0aG5hbWVCYXNlICE9PSBcIi9cIikge1xuICAgIGxldCBwYXJlbnRTZWdtZW50cyA9IHBhcmVudFBhdGhuYW1lQmFzZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIGxldCBzZWdtZW50cyA9IHBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gICAgcmVtYWluaW5nUGF0aG5hbWUgPSBcIi9cIiArIHNlZ21lbnRzLnNsaWNlKHBhcmVudFNlZ21lbnRzLmxlbmd0aCkuam9pbihcIi9cIik7XG4gIH1cbiAgbGV0IG1hdGNoZXMgPSAhaXNTdGF0aWMgJiYgZGF0YVJvdXRlclN0YXRlICYmIGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzICYmIGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDAgPyBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcyA6IG1hdGNoUm91dGVzKHJvdXRlcywgeyBwYXRobmFtZTogcmVtYWluaW5nUGF0aG5hbWUgfSk7XG4gIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTKSB7XG4gICAgd2FybmluZyhcbiAgICAgIHBhcmVudFJvdXRlIHx8IG1hdGNoZXMgIT0gbnVsbCxcbiAgICAgIGBObyByb3V0ZXMgbWF0Y2hlZCBsb2NhdGlvbiBcIiR7bG9jYXRpb24ucGF0aG5hbWV9JHtsb2NhdGlvbi5zZWFyY2h9JHtsb2NhdGlvbi5oYXNofVwiIGBcbiAgICApO1xuICAgIHdhcm5pbmcoXG4gICAgICBtYXRjaGVzID09IG51bGwgfHwgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmVsZW1lbnQgIT09IHZvaWQgMCB8fCBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuQ29tcG9uZW50ICE9PSB2b2lkIDAgfHwgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmxhenkgIT09IHZvaWQgMCxcbiAgICAgIGBNYXRjaGVkIGxlYWYgcm91dGUgYXQgbG9jYXRpb24gXCIke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1cIiBkb2VzIG5vdCBoYXZlIGFuIGVsZW1lbnQgb3IgQ29tcG9uZW50LiBUaGlzIG1lYW5zIGl0IHdpbGwgcmVuZGVyIGFuIDxPdXRsZXQgLz4gd2l0aCBhIG51bGwgdmFsdWUgYnkgZGVmYXVsdCByZXN1bHRpbmcgaW4gYW4gXCJlbXB0eVwiIHBhZ2UuYFxuICAgICk7XG4gIH1cbiAgbGV0IHJlbmRlcmVkTWF0Y2hlcyA9IF9yZW5kZXJNYXRjaGVzKFxuICAgIG1hdGNoZXMgJiYgbWF0Y2hlcy5tYXAoXG4gICAgICAobWF0Y2gpID0+IE9iamVjdC5hc3NpZ24oe30sIG1hdGNoLCB7XG4gICAgICAgIHBhcmFtczogT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50UGFyYW1zLCBtYXRjaC5wYXJhbXMpLFxuICAgICAgICBwYXRobmFtZTogam9pblBhdGhzKFtcbiAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uID8gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbihtYXRjaC5wYXRobmFtZSkucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZVxuICAgICAgICBdKSxcbiAgICAgICAgcGF0aG5hbWVCYXNlOiBtYXRjaC5wYXRobmFtZUJhc2UgPT09IFwiL1wiID8gcGFyZW50UGF0aG5hbWVCYXNlIDogam9pblBhdGhzKFtcbiAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uID8gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbihtYXRjaC5wYXRobmFtZUJhc2UpLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVCYXNlXG4gICAgICAgIF0pXG4gICAgICB9KVxuICAgICksXG4gICAgcGFyZW50TWF0Y2hlcyxcbiAgICBkYXRhUm91dGVyU3RhdGUsXG4gICAgZnV0dXJlXG4gICk7XG4gIGlmIChsb2NhdGlvbkFyZyAmJiByZW5kZXJlZE1hdGNoZXMpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgICAgICBzZWFyY2g6IFwiXCIsXG4gICAgICAgICAgICBoYXNoOiBcIlwiLFxuICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICBrZXk6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgLi4ubG9jYXRpb25cbiAgICAgICAgICB9LFxuICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiBcIlBPUFwiIC8qIFBvcCAqL1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVuZGVyZWRNYXRjaGVzXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWRNYXRjaGVzO1xufVxuZnVuY3Rpb24gRGVmYXVsdEVycm9yQ29tcG9uZW50KCkge1xuICBsZXQgZXJyb3IgPSB1c2VSb3V0ZUVycm9yKCk7XG4gIGxldCBtZXNzYWdlID0gaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpID8gYCR7ZXJyb3Iuc3RhdHVzfSAke2Vycm9yLnN0YXR1c1RleHR9YCA6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICBsZXQgc3RhY2sgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiBudWxsO1xuICBsZXQgbGlnaHRncmV5ID0gXCJyZ2JhKDIwMCwyMDAsMjAwLCAwLjUpXCI7XG4gIGxldCBwcmVTdHlsZXMgPSB7IHBhZGRpbmc6IFwiMC41cmVtXCIsIGJhY2tncm91bmRDb2xvcjogbGlnaHRncmV5IH07XG4gIGxldCBjb2RlU3R5bGVzID0geyBwYWRkaW5nOiBcIjJweCA0cHhcIiwgYmFja2dyb3VuZENvbG9yOiBsaWdodGdyZXkgfTtcbiAgbGV0IGRldkluZm8gPSBudWxsO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIkVycm9yIGhhbmRsZWQgYnkgUmVhY3QgUm91dGVyIGRlZmF1bHQgRXJyb3JCb3VuZGFyeTpcIixcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgICBkZXZJbmZvID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIlxcdXsxRjRCRn0gSGV5IGRldmVsb3BlciBcXHV7MUY0NEJ9XCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgd2hlbiB5b3VyIGFwcCB0aHJvd3MgZXJyb3JzIGJ5IHByb3ZpZGluZyB5b3VyIG93biBcIiwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7IHN0eWxlOiBjb2RlU3R5bGVzIH0sIFwiRXJyb3JCb3VuZGFyeVwiKSwgXCIgb3JcIiwgXCIgXCIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImNvZGVcIiwgeyBzdHlsZTogY29kZVN0eWxlcyB9LCBcImVycm9yRWxlbWVudFwiKSwgXCIgcHJvcCBvbiB5b3VyIHJvdXRlLlwiKSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSZWFjdDIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwiVW5leHBlY3RlZCBBcHBsaWNhdGlvbiBFcnJvciFcIiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImgzXCIsIHsgc3R5bGU6IHsgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0gfSwgbWVzc2FnZSksIHN0YWNrID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwicHJlXCIsIHsgc3R5bGU6IHByZVN0eWxlcyB9LCBzdGFjaykgOiBudWxsLCBkZXZJbmZvKTtcbn1cbnZhciBkZWZhdWx0RXJyb3JFbGVtZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KERlZmF1bHRFcnJvckNvbXBvbmVudCwgbnVsbCk7XG52YXIgUmVuZGVyRXJyb3JCb3VuZGFyeSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QyLkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24sXG4gICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbixcbiAgICAgIGVycm9yOiBwcm9wcy5lcnJvclxuICAgIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUubG9jYXRpb24gIT09IHByb3BzLmxvY2F0aW9uIHx8IHN0YXRlLnJldmFsaWRhdGlvbiAhPT0gXCJpZGxlXCIgJiYgcHJvcHMucmV2YWxpZGF0aW9uID09PSBcImlkbGVcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHByb3BzLmVycm9yLFxuICAgICAgICBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24sXG4gICAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IHByb3BzLmVycm9yICE9PSB2b2lkIDAgPyBwcm9wcy5lcnJvciA6IHN0YXRlLmVycm9yLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24gfHwgc3RhdGUucmV2YWxpZGF0aW9uXG4gICAgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiUmVhY3QgUm91dGVyIGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgIGVycm9yLFxuICAgICAgZXJyb3JJbmZvXG4gICAgKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZXJyb3IgIT09IHZvaWQgMCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSb3V0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHRoaXMucHJvcHMucm91dGVDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIFJvdXRlRXJyb3JDb250ZXh0LlByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5lcnJvcixcbiAgICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY29tcG9uZW50XG4gICAgICB9XG4gICAgKSkgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59O1xuZnVuY3Rpb24gUmVuZGVyZWRSb3V0ZSh7IHJvdXRlQ29udGV4dCwgbWF0Y2gsIGNoaWxkcmVuIH0pIHtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpZiAoZGF0YVJvdXRlckNvbnRleHQgJiYgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljICYmIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY0NvbnRleHQgJiYgKG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBtYXRjaC5yb3V0ZS5FcnJvckJvdW5kYXJ5KSkge1xuICAgIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY0NvbnRleHQuX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJvdXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcm91dGVDb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIF9yZW5kZXJNYXRjaGVzKG1hdGNoZXMsIHBhcmVudE1hdGNoZXMgPSBbXSwgZGF0YVJvdXRlclN0YXRlID0gbnVsbCwgZnV0dXJlID0gbnVsbCkge1xuICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7XG4gICAgaWYgKCFkYXRhUm91dGVyU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlLmVycm9ycykge1xuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzO1xuICAgIH0gZWxzZSBpZiAocGFyZW50TWF0Y2hlcy5sZW5ndGggPT09IDAgJiYgIWRhdGFSb3V0ZXJTdGF0ZS5pbml0aWFsaXplZCAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBtYXRjaGVzID0gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gbWF0Y2hlcztcbiAgbGV0IGVycm9ycyA9IGRhdGFSb3V0ZXJTdGF0ZT8uZXJyb3JzO1xuICBpZiAoZXJyb3JzICE9IG51bGwpIHtcbiAgICBsZXQgZXJyb3JJbmRleCA9IHJlbmRlcmVkTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAobSkgPT4gbS5yb3V0ZS5pZCAmJiBlcnJvcnM/LlttLnJvdXRlLmlkXSAhPT0gdm9pZCAwXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBlcnJvckluZGV4ID49IDAsXG4gICAgICBgQ291bGQgbm90IGZpbmQgYSBtYXRjaGluZyByb3V0ZSBmb3IgZXJyb3JzIG9uIHJvdXRlIElEczogJHtPYmplY3Qua2V5cyhcbiAgICAgICAgZXJyb3JzXG4gICAgICApLmpvaW4oXCIsXCIpfWBcbiAgICApO1xuICAgIHJlbmRlcmVkTWF0Y2hlcyA9IHJlbmRlcmVkTWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihyZW5kZXJlZE1hdGNoZXMubGVuZ3RoLCBlcnJvckluZGV4ICsgMSlcbiAgICApO1xuICB9XG4gIGxldCByZW5kZXJGYWxsYmFjayA9IGZhbHNlO1xuICBsZXQgZmFsbGJhY2tJbmRleCA9IC0xO1xuICBpZiAoZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJlZE1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXRjaCA9IHJlbmRlcmVkTWF0Y2hlc1tpXTtcbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5IeWRyYXRlRmFsbGJhY2sgfHwgbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICBmYWxsYmFja0luZGV4ID0gaTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCkge1xuICAgICAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnM6IGVycm9yczIgfSA9IGRhdGFSb3V0ZXJTdGF0ZTtcbiAgICAgICAgbGV0IG5lZWRzVG9SdW5Mb2FkZXIgPSBtYXRjaC5yb3V0ZS5sb2FkZXIgJiYgIWxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkobWF0Y2gucm91dGUuaWQpICYmICghZXJyb3JzMiB8fCBlcnJvcnMyW21hdGNoLnJvdXRlLmlkXSA9PT0gdm9pZCAwKTtcbiAgICAgICAgaWYgKG1hdGNoLnJvdXRlLmxhenkgfHwgbmVlZHNUb1J1bkxvYWRlcikge1xuICAgICAgICAgIHJlbmRlckZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgZmFsbGJhY2tJbmRleCArIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSBbcmVuZGVyZWRNYXRjaGVzWzBdXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcy5yZWR1Y2VSaWdodCgob3V0bGV0LCBtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBsZXQgZXJyb3I7XG4gICAgbGV0IHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IGZhbHNlO1xuICAgIGxldCBlcnJvckVsZW1lbnQgPSBudWxsO1xuICAgIGxldCBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbnVsbDtcbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgICBlcnJvciA9IGVycm9ycyAmJiBtYXRjaC5yb3V0ZS5pZCA/IGVycm9yc1ttYXRjaC5yb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBlcnJvckVsZW1lbnQgPSBtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgZGVmYXVsdEVycm9yRWxlbWVudDtcbiAgICAgIGlmIChyZW5kZXJGYWxsYmFjaykge1xuICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA8IDAgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICB3YXJuaW5nT25jZShcbiAgICAgICAgICAgIFwicm91dGUtZmFsbGJhY2tcIixcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJObyBgSHlkcmF0ZUZhbGxiYWNrYCBlbGVtZW50IHByb3ZpZGVkIHRvIHJlbmRlciBkdXJpbmcgaW5pdGlhbCBoeWRyYXRpb25cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmYWxsYmFja0luZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG1hdGNoLnJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWF0Y2hlczIgPSBwYXJlbnRNYXRjaGVzLmNvbmNhdChyZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgaW5kZXggKyAxKSk7XG4gICAgbGV0IGdldENoaWxkcmVuID0gKCkgPT4ge1xuICAgICAgbGV0IGNoaWxkcmVuO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZXJyb3JFbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2spIHtcbiAgICAgICAgY2hpbGRyZW4gPSBoeWRyYXRlRmFsbGJhY2tFbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChtYXRjaC5yb3V0ZS5Db21wb25lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQobWF0Y2gucm91dGUuQ29tcG9uZW50LCBudWxsKTtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2gucm91dGUuZWxlbWVudCkge1xuICAgICAgICBjaGlsZHJlbiA9IG1hdGNoLnJvdXRlLmVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IG91dGxldDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlbmRlcmVkUm91dGUsXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICByb3V0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIG91dGxldCxcbiAgICAgICAgICAgIG1hdGNoZXM6IG1hdGNoZXMyLFxuICAgICAgICAgICAgaXNEYXRhUm91dGU6IGRhdGFSb3V0ZXJTdGF0ZSAhPSBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gICAgcmV0dXJuIGRhdGFSb3V0ZXJTdGF0ZSAmJiAobWF0Y2gucm91dGUuRXJyb3JCb3VuZGFyeSB8fCBtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgaW5kZXggPT09IDApID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgUmVuZGVyRXJyb3JCb3VuZGFyeSxcbiAgICAgIHtcbiAgICAgICAgbG9jYXRpb246IGRhdGFSb3V0ZXJTdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBkYXRhUm91dGVyU3RhdGUucmV2YWxpZGF0aW9uLFxuICAgICAgICBjb21wb25lbnQ6IGVycm9yRWxlbWVudCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGNoaWxkcmVuOiBnZXRDaGlsZHJlbigpLFxuICAgICAgICByb3V0ZUNvbnRleHQ6IHsgb3V0bGV0OiBudWxsLCBtYXRjaGVzOiBtYXRjaGVzMiwgaXNEYXRhUm91dGU6IHRydWUgfVxuICAgICAgfVxuICAgICkgOiBnZXRDaGlsZHJlbigpO1xuICB9LCBudWxsKTtcbn1cbmZ1bmN0aW9uIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpIHtcbiAgcmV0dXJuIGAke2hvb2tOYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgZGF0YSByb3V0ZXIuICBTZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vZW4vbWFpbi9yb3V0ZXJzL3BpY2tpbmctYS1yb3V0ZXIuYDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0KGhvb2tOYW1lKSB7XG4gIGxldCBjdHggPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudChjdHgsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIGN0eDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJTdGF0ZShob29rTmFtZSkge1xuICBsZXQgc3RhdGUgPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHN0YXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlQ29udGV4dChob29rTmFtZSkge1xuICBsZXQgcm91dGUgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQocm91dGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIHJvdXRlO1xufVxuZnVuY3Rpb24gdXNlQ3VycmVudFJvdXRlSWQoaG9va05hbWUpIHtcbiAgbGV0IHJvdXRlID0gdXNlUm91dGVDb250ZXh0KGhvb2tOYW1lKTtcbiAgbGV0IHRoaXNSb3V0ZSA9IHJvdXRlLm1hdGNoZXNbcm91dGUubWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgaW52YXJpYW50KFxuICAgIHRoaXNSb3V0ZS5yb3V0ZS5pZCxcbiAgICBgJHtob29rTmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiByb3V0ZXMgdGhhdCBjb250YWluIGEgdW5pcXVlIFwiaWRcImBcbiAgKTtcbiAgcmV0dXJuIHRoaXNSb3V0ZS5yb3V0ZS5pZDtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlSWQoKSB7XG4gIHJldHVybiB1c2VDdXJyZW50Um91dGVJZChcInVzZVJvdXRlSWRcIiAvKiBVc2VSb3V0ZUlkICovKTtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRpb24oKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZU5hdmlnYXRpb25cIiAvKiBVc2VOYXZpZ2F0aW9uICovKTtcbiAgcmV0dXJuIHN0YXRlLm5hdmlnYXRpb247XG59XG5mdW5jdGlvbiB1c2VSZXZhbGlkYXRvcigpIHtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VSZXZhbGlkYXRvclwiIC8qIFVzZVJldmFsaWRhdG9yICovKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUmV2YWxpZGF0b3JcIiAvKiBVc2VSZXZhbGlkYXRvciAqLyk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYXN5bmMgcmV2YWxpZGF0ZSgpIHtcbiAgICAgICAgYXdhaXQgZGF0YVJvdXRlckNvbnRleHQucm91dGVyLnJldmFsaWRhdGUoKTtcbiAgICAgIH0sXG4gICAgICBzdGF0ZTogc3RhdGUucmV2YWxpZGF0aW9uXG4gICAgfSksXG4gICAgW2RhdGFSb3V0ZXJDb250ZXh0LnJvdXRlciwgc3RhdGUucmV2YWxpZGF0aW9uXVxuICApO1xufVxuZnVuY3Rpb24gdXNlTWF0Y2hlcygpIHtcbiAgbGV0IHsgbWF0Y2hlcywgbG9hZGVyRGF0YSB9ID0gdXNlRGF0YVJvdXRlclN0YXRlKFxuICAgIFwidXNlTWF0Y2hlc1wiIC8qIFVzZU1hdGNoZXMgKi9cbiAgKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBsb2FkZXJEYXRhKSksXG4gICAgW21hdGNoZXMsIGxvYWRlckRhdGFdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VMb2FkZXJEYXRhKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlUm91dGVMb2FkZXJEYXRhKHJvdXRlSWQpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUm91dGVMb2FkZXJEYXRhXCIgLyogVXNlUm91dGVMb2FkZXJEYXRhICovKTtcbiAgcmV0dXJuIHN0YXRlLmxvYWRlckRhdGFbcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VBY3Rpb25EYXRhKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VBY3Rpb25EYXRhXCIgLyogVXNlQWN0aW9uRGF0YSAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhID8gc3RhdGUuYWN0aW9uRGF0YVtyb3V0ZUlkXSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlRXJyb3IoKSB7XG4gIGxldCBlcnJvciA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlRXJyb3JDb250ZXh0KTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUm91dGVFcnJvclwiIC8qIFVzZVJvdXRlRXJyb3IgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlUm91dGVFcnJvclwiIC8qIFVzZVJvdXRlRXJyb3IgKi8pO1xuICBpZiAoZXJyb3IgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICByZXR1cm4gc3RhdGUuZXJyb3JzPy5bcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VBc3luY1ZhbHVlKCkge1xuICBsZXQgdmFsdWUgPSBSZWFjdDIudXNlQ29udGV4dChBd2FpdENvbnRleHQpO1xuICByZXR1cm4gdmFsdWU/Ll9kYXRhO1xufVxuZnVuY3Rpb24gdXNlQXN5bmNFcnJvcigpIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QyLnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZXJyb3I7XG59XG52YXIgYmxvY2tlcklkID0gMDtcbmZ1bmN0aW9uIHVzZUJsb2NrZXIoc2hvdWxkQmxvY2spIHtcbiAgbGV0IHsgcm91dGVyLCBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VCbG9ja2VyXCIgLyogVXNlQmxvY2tlciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZUJsb2NrZXJcIiAvKiBVc2VCbG9ja2VyICovKTtcbiAgbGV0IFtibG9ja2VyS2V5LCBzZXRCbG9ja2VyS2V5XSA9IFJlYWN0Mi51c2VTdGF0ZShcIlwiKTtcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbiA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICAoYXJnKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHNob3VsZEJsb2NrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuICEhc2hvdWxkQmxvY2s7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBzaG91bGRCbG9jayhhcmcpO1xuICAgICAgfVxuICAgICAgbGV0IHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSA9IGFyZztcbiAgICAgIHJldHVybiBzaG91bGRCbG9jayh7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dExvY2F0aW9uOiB7XG4gICAgICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOiBzdHJpcEJhc2VuYW1lKG5leHRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IG5leHRMb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LFxuICAgICAgICBoaXN0b3J5QWN0aW9uXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtiYXNlbmFtZSwgc2hvdWxkQmxvY2tdXG4gICk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBrZXkgPSBTdHJpbmcoKytibG9ja2VySWQpO1xuICAgIHNldEJsb2NrZXJLZXkoa2V5KTtcbiAgICByZXR1cm4gKCkgPT4gcm91dGVyLmRlbGV0ZUJsb2NrZXIoa2V5KTtcbiAgfSwgW3JvdXRlcl0pO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlcktleSAhPT0gXCJcIikge1xuICAgICAgcm91dGVyLmdldEJsb2NrZXIoYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uKTtcbiAgICB9XG4gIH0sIFtyb3V0ZXIsIGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0pO1xuICByZXR1cm4gYmxvY2tlcktleSAmJiBzdGF0ZS5ibG9ja2Vycy5oYXMoYmxvY2tlcktleSkgPyBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSkgOiBJRExFX0JMT0NLRVI7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVN0YWJsZSgpIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dChcInVzZU5hdmlnYXRlXCIgLyogVXNlTmF2aWdhdGVTdGFibGUgKi8pO1xuICBsZXQgaWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZU5hdmlnYXRlXCIgLyogVXNlTmF2aWdhdGVTdGFibGUgKi8pO1xuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QyLnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG4gIGxldCBuYXZpZ2F0ZSA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodG8sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJvdXRlci5uYXZpZ2F0ZSh0bywgeyBmcm9tUm91dGVJZDogaWQsIC4uLm9wdGlvbnMgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLCBpZF1cbiAgKTtcbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxudmFyIGFscmVhZHlXYXJuZWQgPSB7fTtcbmZ1bmN0aW9uIHdhcm5pbmdPbmNlKGtleSwgY29uZCwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmQgJiYgIWFscmVhZHlXYXJuZWRba2V5XSkge1xuICAgIGFscmVhZHlXYXJuZWRba2V5XSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgbWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3dhcm5pbmdzLnRzXG52YXIgYWxyZWFkeVdhcm5lZDIgPSB7fTtcbmZ1bmN0aW9uIHdhcm5PbmNlKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmRpdGlvbiAmJiAhYWxyZWFkeVdhcm5lZDJbbWVzc2FnZV0pIHtcbiAgICBhbHJlYWR5V2FybmVkMlttZXNzYWdlXSA9IHRydWU7XG4gICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9jb21wb25lbnRzLnRzeFxudmFyIEVOQUJMRV9ERVZfV0FSTklOR1MyID0gdHJ1ZTtcbmZ1bmN0aW9uIG1hcFJvdXRlUHJvcGVydGllcyhyb3V0ZSkge1xuICBsZXQgdXBkYXRlcyA9IHtcbiAgICAvLyBOb3RlOiB0aGlzIGNoZWNrIGFsc28gb2NjdXJzIGluIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiBzbyB1cGRhdGVcbiAgICAvLyB0aGVyZSBpZiB5b3UgY2hhbmdlIHRoaXMgLS0gcGxlYXNlIGFuZCB0aGFuayB5b3UhXG4gICAgaGFzRXJyb3JCb3VuZGFyeTogcm91dGUuaGFzRXJyb3JCb3VuZGFyeSB8fCByb3V0ZS5FcnJvckJvdW5kYXJ5ICE9IG51bGwgfHwgcm91dGUuZXJyb3JFbGVtZW50ICE9IG51bGxcbiAgfTtcbiAgaWYgKHJvdXRlLkNvbXBvbmVudCkge1xuICAgIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTMikge1xuICAgICAgaWYgKHJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgQ29tcG9uZW50YCBhbmQgYGVsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBgQ29tcG9uZW50YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlbGVtZW50OiBSZWFjdDMuY3JlYXRlRWxlbWVudChyb3V0ZS5Db21wb25lbnQpLFxuICAgICAgQ29tcG9uZW50OiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICBpZiAocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MyKSB7XG4gICAgICBpZiAocm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBIeWRyYXRlRmFsbGJhY2tgIGFuZCBgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudGAgb24geW91ciByb3V0ZSAtIGBIeWRyYXRlRmFsbGJhY2tgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IFJlYWN0My5jcmVhdGVFbGVtZW50KHJvdXRlLkh5ZHJhdGVGYWxsYmFjayksXG4gICAgICBIeWRyYXRlRmFsbGJhY2s6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIGlmIChyb3V0ZS5FcnJvckJvdW5kYXJ5KSB7XG4gICAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MyKSB7XG4gICAgICBpZiAocm91dGUuZXJyb3JFbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYEVycm9yQm91bmRhcnlgIGFuZCBgZXJyb3JFbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gYEVycm9yQm91bmRhcnlgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGVycm9yRWxlbWVudDogUmVhY3QzLmNyZWF0ZUVsZW1lbnQocm91dGUuRXJyb3JCb3VuZGFyeSksXG4gICAgICBFcnJvckJvdW5kYXJ5OiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdXBkYXRlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeVJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIHVuc3RhYmxlX2dldENvbnRleHQ6IG9wdHM/LnVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllczogb3B0cz8uaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXg6IG9wdHM/LmluaXRpYWxJbmRleFxuICAgIH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEsXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25cbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxudmFyIERlZmVycmVkID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXR1cyA9IFwicGVuZGluZ1wiO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBcInJlc29sdmVkXCI7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLnJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gUm91dGVyUHJvdmlkZXIoe1xuICByb3V0ZXIsXG4gIGZsdXNoU3luYzogcmVhY3REb21GbHVzaFN5bmNJbXBsXG59KSB7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDMudXNlU3RhdGUocm91dGVyLnN0YXRlKTtcbiAgbGV0IFtwZW5kaW5nU3RhdGUsIHNldFBlbmRpbmdTdGF0ZV0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFt2dENvbnRleHQsIHNldFZ0Q29udGV4dF0gPSBSZWFjdDMudXNlU3RhdGUoe1xuICAgIGlzVHJhbnNpdGlvbmluZzogZmFsc2VcbiAgfSk7XG4gIGxldCBbcmVuZGVyRGZkLCBzZXRSZW5kZXJEZmRdID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbdHJhbnNpdGlvbiwgc2V0VHJhbnNpdGlvbl0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFtpbnRlcnJ1cHRpb24sIHNldEludGVycnVwdGlvbl0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IGZldGNoZXJEYXRhID0gUmVhY3QzLnVzZVJlZigvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QzLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSwgeyBkZWxldGVkRmV0Y2hlcnMsIGZsdXNoU3luYywgdmlld1RyYW5zaXRpb25PcHRzIH0pID0+IHtcbiAgICAgIG5ld1N0YXRlLmZldGNoZXJzLmZvckVhY2goKGZldGNoZXIsIGtleSkgPT4ge1xuICAgICAgICBpZiAoZmV0Y2hlci5kYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBmZXRjaGVyRGF0YS5jdXJyZW50LnNldChrZXksIGZldGNoZXIuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGVsZXRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gZmV0Y2hlckRhdGEuY3VycmVudC5kZWxldGUoa2V5KSk7XG4gICAgICB3YXJuT25jZShcbiAgICAgICAgZmx1c2hTeW5jID09PSBmYWxzZSB8fCByZWFjdERvbUZsdXNoU3luY0ltcGwgIT0gbnVsbCxcbiAgICAgICAgJ1lvdSBwcm92aWRlZCB0aGUgYGZsdXNoU3luY2Agb3B0aW9uIHRvIGEgcm91dGVyIHVwZGF0ZSwgYnV0IHlvdSBhcmUgbm90IHVzaW5nIHRoZSBgPFJvdXRlclByb3ZpZGVyPmAgZnJvbSBgcmVhY3Qtcm91dGVyL2RvbWAgc28gYFJlYWN0RE9NLmZsdXNoU3luYygpYCBpcyB1bmF2YWlsYWJsZS4gIFBsZWFzZSB1cGRhdGUgeW91ciBhcHAgdG8gYGltcG9ydCB7IFJvdXRlclByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci9kb21cImAgYW5kIGVuc3VyZSB5b3UgaGF2ZSBgcmVhY3QtZG9tYCBpbnN0YWxsZWQgYXMgYSBkZXBlbmRlbmN5IHRvIHVzZSB0aGUgYGZsdXNoU3luY2Agb3B0aW9uLidcbiAgICAgICk7XG4gICAgICBsZXQgaXNWaWV3VHJhbnNpdGlvbkF2YWlsYWJsZSA9IHJvdXRlci53aW5kb3cgIT0gbnVsbCAmJiByb3V0ZXIud2luZG93LmRvY3VtZW50ICE9IG51bGwgJiYgdHlwZW9mIHJvdXRlci53aW5kb3cuZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbiA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9PSBudWxsIHx8IGlzVmlld1RyYW5zaXRpb25BdmFpbGFibGUsXG4gICAgICAgIFwiWW91IHByb3ZpZGVkIHRoZSBgdmlld1RyYW5zaXRpb25gIG9wdGlvbiB0byBhIHJvdXRlciB1cGRhdGUsIGJ1dCB5b3UgZG8gbm90IGFwcGVhciB0byBiZSBydW5uaW5nIGluIGEgRE9NIGVudmlyb25tZW50IGFzIGB3aW5kb3cuc3RhcnRWaWV3VHJhbnNpdGlvbmAgaXMgbm90IGF2YWlsYWJsZS5cIlxuICAgICAgKTtcbiAgICAgIGlmICghdmlld1RyYW5zaXRpb25PcHRzIHx8ICFpc1ZpZXdUcmFuc2l0aW9uQXZhaWxhYmxlKSB7XG4gICAgICAgIGlmIChyZWFjdERvbUZsdXNoU3luY0ltcGwgJiYgZmx1c2hTeW5jKSB7XG4gICAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0My5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAmJiBmbHVzaFN5bmMpIHtcbiAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHtcbiAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgcmVuZGVyRGZkICYmIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNraXBUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFZ0Q29udGV4dCh7XG4gICAgICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgICAgICBmbHVzaFN5bmM6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0ID0gcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKCgpID0+IHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0LmZpbmlzaGVkLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRSZW5kZXJEZmQodm9pZCAwKTtcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb24odm9pZCAwKTtcbiAgICAgICAgICAgIHNldFBlbmRpbmdTdGF0ZSh2b2lkIDApO1xuICAgICAgICAgICAgc2V0VnRDb250ZXh0KHsgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiBzZXRUcmFuc2l0aW9uKHQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgcmVuZGVyRGZkICYmIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgICAgIHRyYW5zaXRpb24uc2tpcFRyYW5zaXRpb24oKTtcbiAgICAgICAgc2V0SW50ZXJydXB0aW9uKHtcbiAgICAgICAgICBzdGF0ZTogbmV3U3RhdGUsXG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMuY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLm5leHRMb2NhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFBlbmRpbmdTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIHNldFZ0Q29udGV4dCh7XG4gICAgICAgICAgaXNUcmFuc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICAgIGZsdXNoU3luYzogZmFsc2UsXG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMuY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLm5leHRMb2NhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtyb3V0ZXIud2luZG93LCByZWFjdERvbUZsdXNoU3luY0ltcGwsIHRyYW5zaXRpb24sIHJlbmRlckRmZF1cbiAgKTtcbiAgUmVhY3QzLnVzZUxheW91dEVmZmVjdCgoKSA9PiByb3V0ZXIuc3Vic2NyaWJlKHNldFN0YXRlKSwgW3JvdXRlciwgc2V0U3RhdGVdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcgJiYgIXZ0Q29udGV4dC5mbHVzaFN5bmMpIHtcbiAgICAgIHNldFJlbmRlckRmZChuZXcgRGVmZXJyZWQoKSk7XG4gICAgfVxuICB9LCBbdnRDb250ZXh0XSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJEZmQgJiYgcGVuZGluZ1N0YXRlICYmIHJvdXRlci53aW5kb3cpIHtcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHBlbmRpbmdTdGF0ZTtcbiAgICAgIGxldCByZW5kZXJQcm9taXNlID0gcmVuZGVyRGZkLnByb21pc2U7XG4gICAgICBsZXQgdHJhbnNpdGlvbjIgPSByb3V0ZXIud2luZG93LmRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24oYXN5bmMgKCkgPT4ge1xuICAgICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICBhd2FpdCByZW5kZXJQcm9taXNlO1xuICAgICAgfSk7XG4gICAgICB0cmFuc2l0aW9uMi5maW5pc2hlZC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc2V0UmVuZGVyRGZkKHZvaWQgMCk7XG4gICAgICAgIHNldFRyYW5zaXRpb24odm9pZCAwKTtcbiAgICAgICAgc2V0UGVuZGluZ1N0YXRlKHZvaWQgMCk7XG4gICAgICAgIHNldFZ0Q29udGV4dCh7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSk7XG4gICAgICB9KTtcbiAgICAgIHNldFRyYW5zaXRpb24odHJhbnNpdGlvbjIpO1xuICAgIH1cbiAgfSwgW3BlbmRpbmdTdGF0ZSwgcmVuZGVyRGZkLCByb3V0ZXIud2luZG93XSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJEZmQgJiYgcGVuZGluZ1N0YXRlICYmIHN0YXRlLmxvY2F0aW9uLmtleSA9PT0gcGVuZGluZ1N0YXRlLmxvY2F0aW9uLmtleSkge1xuICAgICAgcmVuZGVyRGZkLnJlc29sdmUoKTtcbiAgICB9XG4gIH0sIFtyZW5kZXJEZmQsIHRyYW5zaXRpb24sIHN0YXRlLmxvY2F0aW9uLCBwZW5kaW5nU3RhdGVdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nICYmIGludGVycnVwdGlvbikge1xuICAgICAgc2V0UGVuZGluZ1N0YXRlKGludGVycnVwdGlvbi5zdGF0ZSk7XG4gICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgIGZsdXNoU3luYzogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogaW50ZXJydXB0aW9uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgbmV4dExvY2F0aW9uOiBpbnRlcnJ1cHRpb24ubmV4dExvY2F0aW9uXG4gICAgICB9KTtcbiAgICAgIHNldEludGVycnVwdGlvbih2b2lkIDApO1xuICAgIH1cbiAgfSwgW3Z0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcsIGludGVycnVwdGlvbl0pO1xuICBsZXQgbmF2aWdhdG9yMiA9IFJlYWN0My51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlSHJlZjogcm91dGVyLmNyZWF0ZUhyZWYsXG4gICAgICBlbmNvZGVMb2NhdGlvbjogcm91dGVyLmVuY29kZUxvY2F0aW9uLFxuICAgICAgZ286IChuKSA9PiByb3V0ZXIubmF2aWdhdGUobiksXG4gICAgICBwdXNoOiAodG8sIHN0YXRlMiwgb3B0cykgPT4gcm91dGVyLm5hdmlnYXRlKHRvLCB7XG4gICAgICAgIHN0YXRlOiBzdGF0ZTIsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0cz8ucHJldmVudFNjcm9sbFJlc2V0XG4gICAgICB9KSxcbiAgICAgIHJlcGxhY2U6ICh0bywgc3RhdGUyLCBvcHRzKSA9PiByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc3RhdGU6IHN0YXRlMixcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgIH0pXG4gICAgfTtcbiAgfSwgW3JvdXRlcl0pO1xuICBsZXQgYmFzZW5hbWUgPSByb3V0ZXIuYmFzZW5hbWUgfHwgXCIvXCI7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0My51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICByb3V0ZXIsXG4gICAgICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsXG4gICAgICBzdGF0aWM6IGZhbHNlLFxuICAgICAgYmFzZW5hbWVcbiAgICB9KSxcbiAgICBbcm91dGVyLCBuYXZpZ2F0b3IyLCBiYXNlbmFtZV1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChSZWFjdDMuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGF0YVJvdXRlckNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHN0YXRlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChGZXRjaGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGZldGNoZXJEYXRhLmN1cnJlbnQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFZpZXdUcmFuc2l0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdnRDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogbmF2aWdhdG9yMlxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFxuICAgICAgTWVtb2l6ZWREYXRhUm91dGVzLFxuICAgICAge1xuICAgICAgICByb3V0ZXM6IHJvdXRlci5yb3V0ZXMsXG4gICAgICAgIGZ1dHVyZTogcm91dGVyLmZ1dHVyZSxcbiAgICAgICAgc3RhdGVcbiAgICAgIH1cbiAgICApXG4gICkpKSkpLCBudWxsKTtcbn1cbnZhciBNZW1vaXplZERhdGFSb3V0ZXMgPSBSZWFjdDMubWVtbyhEYXRhUm91dGVzKTtcbmZ1bmN0aW9uIERhdGFSb3V0ZXMoe1xuICByb3V0ZXMsXG4gIGZ1dHVyZSxcbiAgc3RhdGVcbn0pIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCB2b2lkIDAsIHN0YXRlLCBmdXR1cmUpO1xufVxuZnVuY3Rpb24gTWVtb3J5Um91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBpbml0aWFsRW50cmllcyxcbiAgaW5pdGlhbEluZGV4XG59KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QzLnVzZVJlZigpO1xuICBpZiAoaGlzdG9yeVJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBjcmVhdGVNZW1vcnlIaXN0b3J5KHtcbiAgICAgIGluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEluZGV4LFxuICAgICAgdjVDb21wYXQ6IHRydWVcbiAgICB9KTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0My51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QzLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QzLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0My51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBOYXZpZ2F0ZSh7XG4gIHRvLFxuICByZXBsYWNlOiByZXBsYWNlMixcbiAgc3RhdGUsXG4gIHJlbGF0aXZlXG59KSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZlxuICAgIC8vIHRoZSByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYDxOYXZpZ2F0ZT4gbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IHN0YXRpYzogaXNTdGF0aWMgfSA9IFJlYWN0My51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgd2FybmluZyhcbiAgICAhaXNTdGF0aWMsXG4gICAgYDxOYXZpZ2F0ZT4gbXVzdCBub3QgYmUgdXNlZCBvbiB0aGUgaW5pdGlhbCByZW5kZXIgaW4gYSA8U3RhdGljUm91dGVyPi4gVGhpcyBpcyBhIG5vLW9wLCBidXQgeW91IHNob3VsZCBtb2RpZnkgeW91ciBjb2RlIHNvIHRoZSA8TmF2aWdhdGU+IGlzIG9ubHkgZXZlciByZW5kZXJlZCBpbiByZXNwb25zZSB0byBzb21lIHVzZXIgaW50ZXJhY3Rpb24gb3Igc3RhdGUgY2hhbmdlLmBcbiAgKTtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QzLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvLFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcyksXG4gICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgKTtcbiAgbGV0IGpzb25QYXRoID0gSlNPTi5zdHJpbmdpZnkocGF0aCk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIG5hdmlnYXRlKEpTT04ucGFyc2UoanNvblBhdGgpLCB7IHJlcGxhY2U6IHJlcGxhY2UyLCBzdGF0ZSwgcmVsYXRpdmUgfSk7XG4gIH0sIFtuYXZpZ2F0ZSwganNvblBhdGgsIHJlbGF0aXZlLCByZXBsYWNlMiwgc3RhdGVdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBPdXRsZXQocHJvcHMpIHtcbiAgcmV0dXJuIHVzZU91dGxldChwcm9wcy5jb250ZXh0KTtcbn1cbmZ1bmN0aW9uIFJvdXRlKF9wcm9wcykge1xuICBpbnZhcmlhbnQoXG4gICAgZmFsc2UsXG4gICAgYEEgPFJvdXRlPiBpcyBvbmx5IGV2ZXIgdG8gYmUgdXNlZCBhcyB0aGUgY2hpbGQgb2YgPFJvdXRlcz4gZWxlbWVudCwgbmV2ZXIgcmVuZGVyZWQgZGlyZWN0bHkuIFBsZWFzZSB3cmFwIHlvdXIgPFJvdXRlPiBpbiBhIDxSb3V0ZXM+LmBcbiAgKTtcbn1cbmZ1bmN0aW9uIFJvdXRlcih7XG4gIGJhc2VuYW1lOiBiYXNlbmFtZVByb3AgPSBcIi9cIixcbiAgY2hpbGRyZW4gPSBudWxsLFxuICBsb2NhdGlvbjogbG9jYXRpb25Qcm9wLFxuICBuYXZpZ2F0aW9uVHlwZSA9IFwiUE9QXCIgLyogUG9wICovLFxuICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsXG4gIHN0YXRpYzogc3RhdGljUHJvcCA9IGZhbHNlXG59KSB7XG4gIGludmFyaWFudChcbiAgICAhdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgYFlvdSBjYW5ub3QgcmVuZGVyIGEgPFJvdXRlcj4gaW5zaWRlIGFub3RoZXIgPFJvdXRlcj4uIFlvdSBzaG91bGQgbmV2ZXIgaGF2ZSBtb3JlIHRoYW4gb25lIGluIHlvdXIgYXBwLmBcbiAgKTtcbiAgbGV0IGJhc2VuYW1lID0gYmFzZW5hbWVQcm9wLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpO1xuICBsZXQgbmF2aWdhdGlvbkNvbnRleHQgPSBSZWFjdDMudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsXG4gICAgICBzdGF0aWM6IHN0YXRpY1Byb3AsXG4gICAgICBmdXR1cmU6IHt9XG4gICAgfSksXG4gICAgW2Jhc2VuYW1lLCBuYXZpZ2F0b3IyLCBzdGF0aWNQcm9wXVxuICApO1xuICBpZiAodHlwZW9mIGxvY2F0aW9uUHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvY2F0aW9uUHJvcCA9IHBhcnNlUGF0aChsb2NhdGlvblByb3ApO1xuICB9XG4gIGxldCB7XG4gICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiLFxuICAgIHN0YXRlID0gbnVsbCxcbiAgICBrZXkgPSBcImRlZmF1bHRcIlxuICB9ID0gbG9jYXRpb25Qcm9wO1xuICBsZXQgbG9jYXRpb25Db250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCB0cmFpbGluZ1BhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgIGlmICh0cmFpbGluZ1BhdGhuYW1lID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgcGF0aG5hbWU6IHRyYWlsaW5nUGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgaGFzaCxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGtleVxuICAgICAgfSxcbiAgICAgIG5hdmlnYXRpb25UeXBlXG4gICAgfTtcbiAgfSwgW2Jhc2VuYW1lLCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoLCBzdGF0ZSwga2V5LCBuYXZpZ2F0aW9uVHlwZV0pO1xuICB3YXJuaW5nKFxuICAgIGxvY2F0aW9uQ29udGV4dCAhPSBudWxsLFxuICAgIGA8Um91dGVyIGJhc2VuYW1lPVwiJHtiYXNlbmFtZX1cIj4gaXMgbm90IGFibGUgdG8gbWF0Y2ggdGhlIFVSTCBcIiR7cGF0aG5hbWV9JHtzZWFyY2h9JHtoYXNofVwiIGJlY2F1c2UgaXQgZG9lcyBub3Qgc3RhcnQgd2l0aCB0aGUgYmFzZW5hbWUsIHNvIHRoZSA8Um91dGVyPiB3b24ndCByZW5kZXIgYW55dGhpbmcuYFxuICApO1xuICBpZiAobG9jYXRpb25Db250ZXh0ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBuYXZpZ2F0aW9uQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IGNoaWxkcmVuLCB2YWx1ZTogbG9jYXRpb25Db250ZXh0IH0pKTtcbn1cbmZ1bmN0aW9uIFJvdXRlcyh7XG4gIGNoaWxkcmVuLFxuICBsb2NhdGlvblxufSkge1xuICByZXR1cm4gdXNlUm91dGVzKGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihjaGlsZHJlbiksIGxvY2F0aW9uKTtcbn1cbmZ1bmN0aW9uIEF3YWl0KHtcbiAgY2hpbGRyZW4sXG4gIGVycm9yRWxlbWVudCxcbiAgcmVzb2x2ZVxufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEF3YWl0RXJyb3JCb3VuZGFyeSwgeyByZXNvbHZlLCBlcnJvckVsZW1lbnQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlc29sdmVBd2FpdCwgbnVsbCwgY2hpbGRyZW4pKTtcbn1cbnZhciBBd2FpdEVycm9yQm91bmRhcnkgPSBjbGFzcyBleHRlbmRzIFJlYWN0My5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBlcnJvcjogbnVsbCB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCI8QXdhaXQ+IGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgIGVycm9yLFxuICAgICAgZXJyb3JJbmZvXG4gICAgKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgY2hpbGRyZW4sIGVycm9yRWxlbWVudCwgcmVzb2x2ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgcHJvbWlzZSA9IG51bGw7XG4gICAgbGV0IHN0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICBpZiAoIShyZXNvbHZlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgIHN0YXR1cyA9IDEgLyogc3VjY2VzcyAqLztcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IHJlc29sdmUgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICBzdGF0dXMgPSAyIC8qIGVycm9yICovO1xuICAgICAgbGV0IHJlbmRlckVycm9yID0gdGhpcy5zdGF0ZS5lcnJvcjtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdCgpLmNhdGNoKCgpID0+IHtcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IHJlbmRlckVycm9yIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzb2x2ZS5fdHJhY2tlZCkge1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICBzdGF0dXMgPSBcIl9lcnJvclwiIGluIHByb21pc2UgPyAyIC8qIGVycm9yICovIDogXCJfZGF0YVwiIGluIHByb21pc2UgPyAxIC8qIHN1Y2Nlc3MgKi8gOiAwIC8qIHBlbmRpbmcgKi87XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmUudGhlbihcbiAgICAgICAgKGRhdGEyKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gZGF0YTIgfSksXG4gICAgICAgIChlcnJvcikgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiBlcnJvciB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gMiAvKiBlcnJvciAqLyAmJiAhZXJyb3JFbGVtZW50KSB7XG4gICAgICB0aHJvdyBwcm9taXNlLl9lcnJvcjtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gMiAvKiBlcnJvciAqLykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChBd2FpdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHByb21pc2UsIGNoaWxkcmVuOiBlcnJvckVsZW1lbnQgfSk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDEgLyogc3VjY2VzcyAqLykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChBd2FpdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHByb21pc2UsIGNoaWxkcmVuIH0pO1xuICAgIH1cbiAgICB0aHJvdyBwcm9taXNlO1xuICB9XG59O1xuZnVuY3Rpb24gUmVzb2x2ZUF3YWl0KHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgbGV0IGRhdGEyID0gdXNlQXN5bmNWYWx1ZSgpO1xuICBsZXQgdG9SZW5kZXIgPSB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IGNoaWxkcmVuKGRhdGEyKSA6IGNoaWxkcmVuO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlYWN0My5GcmFnbWVudCwgbnVsbCwgdG9SZW5kZXIpO1xufVxuZnVuY3Rpb24gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRQYXRoID0gW10pIHtcbiAgbGV0IHJvdXRlcyA9IFtdO1xuICBSZWFjdDMuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFSZWFjdDMuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIGluZGV4XTtcbiAgICBpZiAoZWxlbWVudC50eXBlID09PSBSZWFjdDMuRnJhZ21lbnQpIHtcbiAgICAgIHJvdXRlcy5wdXNoLmFwcGx5KFxuICAgICAgICByb3V0ZXMsXG4gICAgICAgIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihlbGVtZW50LnByb3BzLmNoaWxkcmVuLCB0cmVlUGF0aClcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGVsZW1lbnQudHlwZSA9PT0gUm91dGUsXG4gICAgICBgWyR7dHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gXCJzdHJpbmdcIiA/IGVsZW1lbnQudHlwZSA6IGVsZW1lbnQudHlwZS5uYW1lfV0gaXMgbm90IGEgPFJvdXRlPiBjb21wb25lbnQuIEFsbCBjb21wb25lbnQgY2hpbGRyZW4gb2YgPFJvdXRlcz4gbXVzdCBiZSBhIDxSb3V0ZT4gb3IgPFJlYWN0LkZyYWdtZW50PmBcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICFlbGVtZW50LnByb3BzLmluZGV4IHx8ICFlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgXCJBbiBpbmRleCByb3V0ZSBjYW5ub3QgaGF2ZSBjaGlsZCByb3V0ZXMuXCJcbiAgICApO1xuICAgIGxldCByb3V0ZSA9IHtcbiAgICAgIGlkOiBlbGVtZW50LnByb3BzLmlkIHx8IHRyZWVQYXRoLmpvaW4oXCItXCIpLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogZWxlbWVudC5wcm9wcy5jYXNlU2Vuc2l0aXZlLFxuICAgICAgZWxlbWVudDogZWxlbWVudC5wcm9wcy5lbGVtZW50LFxuICAgICAgQ29tcG9uZW50OiBlbGVtZW50LnByb3BzLkNvbXBvbmVudCxcbiAgICAgIGluZGV4OiBlbGVtZW50LnByb3BzLmluZGV4LFxuICAgICAgcGF0aDogZWxlbWVudC5wcm9wcy5wYXRoLFxuICAgICAgbG9hZGVyOiBlbGVtZW50LnByb3BzLmxvYWRlcixcbiAgICAgIGFjdGlvbjogZWxlbWVudC5wcm9wcy5hY3Rpb24sXG4gICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBlbGVtZW50LnByb3BzLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQsXG4gICAgICBIeWRyYXRlRmFsbGJhY2s6IGVsZW1lbnQucHJvcHMuSHlkcmF0ZUZhbGxiYWNrLFxuICAgICAgZXJyb3JFbGVtZW50OiBlbGVtZW50LnByb3BzLmVycm9yRWxlbWVudCxcbiAgICAgIEVycm9yQm91bmRhcnk6IGVsZW1lbnQucHJvcHMuRXJyb3JCb3VuZGFyeSxcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IGVsZW1lbnQucHJvcHMuaGFzRXJyb3JCb3VuZGFyeSA9PT0gdHJ1ZSB8fCBlbGVtZW50LnByb3BzLkVycm9yQm91bmRhcnkgIT0gbnVsbCB8fCBlbGVtZW50LnByb3BzLmVycm9yRWxlbWVudCAhPSBudWxsLFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZWxlbWVudC5wcm9wcy5zaG91bGRSZXZhbGlkYXRlLFxuICAgICAgaGFuZGxlOiBlbGVtZW50LnByb3BzLmhhbmRsZSxcbiAgICAgIGxhenk6IGVsZW1lbnQucHJvcHMubGF6eVxuICAgIH07XG4gICAgaWYgKGVsZW1lbnQucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIHJvdXRlLmNoaWxkcmVuID0gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKFxuICAgICAgICBlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgICB0cmVlUGF0aFxuICAgICAgKTtcbiAgICB9XG4gICAgcm91dGVzLnB1c2gocm91dGUpO1xuICB9KTtcbiAgcmV0dXJuIHJvdXRlcztcbn1cbnZhciBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMgPSBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW47XG5mdW5jdGlvbiByZW5kZXJNYXRjaGVzKG1hdGNoZXMpIHtcbiAgcmV0dXJuIF9yZW5kZXJNYXRjaGVzKG1hdGNoZXMpO1xufVxuXG4vLyBsaWIvZG9tL2xpYi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTAgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vZG9tLnRzXG52YXIgZGVmYXVsdE1ldGhvZCA9IFwiZ2V0XCI7XG52YXIgZGVmYXVsdEVuY1R5cGUgPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiO1xuZnVuY3Rpb24gaXNIdG1sRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QudGFnTmFtZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzQnV0dG9uRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImJ1dHRvblwiO1xufVxuZnVuY3Rpb24gaXNGb3JtRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImZvcm1cIjtcbn1cbmZ1bmN0aW9uIGlzSW5wdXRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChvYmplY3QpICYmIG9iamVjdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIjtcbn1cbmZ1bmN0aW9uIGlzTW9kaWZpZWRFdmVudChldmVudCkge1xuICByZXR1cm4gISEoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSk7XG59XG5mdW5jdGlvbiBzaG91bGRQcm9jZXNzTGlua0NsaWNrKGV2ZW50LCB0YXJnZXQpIHtcbiAgcmV0dXJuIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiAvLyBJZ25vcmUgZXZlcnl0aGluZyBidXQgbGVmdCBjbGlja3NcbiAgKCF0YXJnZXQgfHwgdGFyZ2V0ID09PSBcIl9zZWxmXCIpICYmIC8vIExldCBicm93c2VyIGhhbmRsZSBcInRhcmdldD1fYmxhbmtcIiBldGMuXG4gICFpc01vZGlmaWVkRXZlbnQoZXZlbnQpO1xufVxuZnVuY3Rpb24gY3JlYXRlU2VhcmNoUGFyYW1zKGluaXQgPSBcIlwiKSB7XG4gIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgIHR5cGVvZiBpbml0ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoaW5pdCkgfHwgaW5pdCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcyA/IGluaXQgOiBPYmplY3Qua2V5cyhpbml0KS5yZWR1Y2UoKG1lbW8yLCBrZXkpID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IGluaXRba2V5XTtcbiAgICAgIHJldHVybiBtZW1vMi5jb25jYXQoXG4gICAgICAgIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKCh2KSA9PiBba2V5LCB2XSkgOiBbW2tleSwgdmFsdWVdXVxuICAgICAgKTtcbiAgICB9LCBbXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFNlYXJjaFBhcmFtc0ZvckxvY2F0aW9uKGxvY2F0aW9uU2VhcmNoLCBkZWZhdWx0U2VhcmNoUGFyYW1zKSB7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBjcmVhdGVTZWFyY2hQYXJhbXMobG9jYXRpb25TZWFyY2gpO1xuICBpZiAoZGVmYXVsdFNlYXJjaFBhcmFtcykge1xuICAgIGRlZmF1bHRTZWFyY2hQYXJhbXMuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICBpZiAoIXNlYXJjaFBhcmFtcy5oYXMoa2V5KSkge1xuICAgICAgICBkZWZhdWx0U2VhcmNoUGFyYW1zLmdldEFsbChrZXkpLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHNlYXJjaFBhcmFtcztcbn1cbnZhciBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IG51bGw7XG5mdW5jdGlvbiBpc0Zvcm1EYXRhU3VibWl0dGVyU3VwcG9ydGVkKCkge1xuICBpZiAoX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPT09IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IEZvcm1EYXRhKFxuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKSxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiBGb3JtRGF0YSBzdXBwb3J0cyB0aGUgc3VibWl0dGVyIHBhcmFtZXRlciwgdGhpcyB3aWxsIHRocm93XG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgICBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyO1xufVxudmFyIHN1cHBvcnRlZEZvcm1FbmNUeXBlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsXG4gIFwidGV4dC9wbGFpblwiXG5dKTtcbmZ1bmN0aW9uIGdldEZvcm1FbmNUeXBlKGVuY1R5cGUpIHtcbiAgaWYgKGVuY1R5cGUgIT0gbnVsbCAmJiAhc3VwcG9ydGVkRm9ybUVuY1R5cGVzLmhhcyhlbmNUeXBlKSkge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBcIiR7ZW5jVHlwZX1cIiBpcyBub3QgYSB2YWxpZCBcXGBlbmNUeXBlXFxgIGZvciBcXGA8Rm9ybT5cXGAvXFxgPGZldGNoZXIuRm9ybT5cXGAgYW5kIHdpbGwgZGVmYXVsdCB0byBcIiR7ZGVmYXVsdEVuY1R5cGV9XCJgXG4gICAgKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZW5jVHlwZTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1TdWJtaXNzaW9uSW5mbyh0YXJnZXQsIGJhc2VuYW1lKSB7XG4gIGxldCBtZXRob2Q7XG4gIGxldCBhY3Rpb247XG4gIGxldCBlbmNUeXBlO1xuICBsZXQgZm9ybURhdGE7XG4gIGxldCBib2R5O1xuICBpZiAoaXNGb3JtRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgbGV0IGF0dHIgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuICAgIGFjdGlvbiA9IGF0dHIgPyBzdHJpcEJhc2VuYW1lKGF0dHIsIGJhc2VuYW1lKSA6IG51bGw7XG4gICAgbWV0aG9kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKSB8fCBkZWZhdWx0TWV0aG9kO1xuICAgIGVuY1R5cGUgPSBnZXRGb3JtRW5jVHlwZSh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZW5jdHlwZVwiKSkgfHwgZGVmYXVsdEVuY1R5cGU7XG4gICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGFyZ2V0KTtcbiAgfSBlbHNlIGlmIChpc0J1dHRvbkVsZW1lbnQodGFyZ2V0KSB8fCBpc0lucHV0RWxlbWVudCh0YXJnZXQpICYmICh0YXJnZXQudHlwZSA9PT0gXCJzdWJtaXRcIiB8fCB0YXJnZXQudHlwZSA9PT0gXCJpbWFnZVwiKSkge1xuICAgIGxldCBmb3JtID0gdGFyZ2V0LmZvcm07XG4gICAgaWYgKGZvcm0gPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IHN1Ym1pdCBhIDxidXR0b24+IG9yIDxpbnB1dCB0eXBlPVwic3VibWl0XCI+IHdpdGhvdXQgYSA8Zm9ybT5gXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgYXR0ciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtYWN0aW9uXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuICAgIGFjdGlvbiA9IGF0dHIgPyBzdHJpcEJhc2VuYW1lKGF0dHIsIGJhc2VuYW1lKSA6IG51bGw7XG4gICAgbWV0aG9kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImZvcm1tZXRob2RcIikgfHwgZm9ybS5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIikgfHwgZGVmYXVsdE1ldGhvZDtcbiAgICBlbmNUeXBlID0gZ2V0Rm9ybUVuY1R5cGUodGFyZ2V0LmdldEF0dHJpYnV0ZShcImZvcm1lbmN0eXBlXCIpKSB8fCBnZXRGb3JtRW5jVHlwZShmb3JtLmdldEF0dHJpYnV0ZShcImVuY3R5cGVcIikpIHx8IGRlZmF1bHRFbmNUeXBlO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0sIHRhcmdldCk7XG4gICAgaWYgKCFpc0Zvcm1EYXRhU3VibWl0dGVyU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxldCB7IG5hbWUsIHR5cGUsIHZhbHVlIH0gPSB0YXJnZXQ7XG4gICAgICBpZiAodHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIGxldCBwcmVmaXggPSBuYW1lID8gYCR7bmFtZX0uYCA6IFwiXCI7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChgJHtwcmVmaXh9eGAsIFwiMFwiKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGAke3ByZWZpeH15YCwgXCIwXCIpO1xuICAgICAgfSBlbHNlIGlmIChuYW1lKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzSHRtbEVsZW1lbnQodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDYW5ub3Qgc3VibWl0IGVsZW1lbnQgdGhhdCBpcyBub3QgPGZvcm0+LCA8YnV0dG9uPiwgb3IgPGlucHV0IHR5cGU9XCJzdWJtaXR8aW1hZ2VcIj5gXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBtZXRob2QgPSBkZWZhdWx0TWV0aG9kO1xuICAgIGFjdGlvbiA9IG51bGw7XG4gICAgZW5jVHlwZSA9IGRlZmF1bHRFbmNUeXBlO1xuICAgIGJvZHkgPSB0YXJnZXQ7XG4gIH1cbiAgaWYgKGZvcm1EYXRhICYmIGVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgYm9keSA9IGZvcm1EYXRhO1xuICAgIGZvcm1EYXRhID0gdm9pZCAwO1xuICB9XG4gIHJldHVybiB7IGFjdGlvbiwgbWV0aG9kOiBtZXRob2QudG9Mb3dlckNhc2UoKSwgZW5jVHlwZSwgZm9ybURhdGEsIGJvZHkgfTtcbn1cblxuLy8gbGliL2RvbS9zc3IvY29tcG9uZW50cy50c3hcbmltcG9ydCAqIGFzIFJlYWN0OSBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3IvaW52YXJpYW50LnRzXG5mdW5jdGlvbiBpbnZhcmlhbnQyKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlTW9kdWxlcy50c1xuYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXNDYWNoZSkge1xuICBpZiAocm91dGUuaWQgaW4gcm91dGVNb2R1bGVzQ2FjaGUpIHtcbiAgICByZXR1cm4gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICB9XG4gIHRyeSB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gYXdhaXQgaW1wb3J0KFxuICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICByb3V0ZS5tb2R1bGVcbiAgICApO1xuICAgIHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXSA9IHJvdXRlTW9kdWxlO1xuICAgIHJldHVybiByb3V0ZU1vZHVsZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYEVycm9yIGxvYWRpbmcgcm91dGUgbW9kdWxlIFxcYCR7cm91dGUubW9kdWxlfVxcYCwgcmVsb2FkaW5nIHBhZ2UuLi5gXG4gICAgKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICBpZiAod2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0ICYmIHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5pc1NwYU1vZGUgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGltcG9ydC5tZXRhLmhvdCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge1xuICAgIH0pO1xuICB9XG59XG5cbi8vIGxpYi9kb20vc3NyL2xpbmtzLnRzXG5mdW5jdGlvbiBnZXRLZXllZExpbmtzRm9yTWF0Y2hlcyhtYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0KSB7XG4gIGxldCBkZXNjcmlwdG9ycyA9IG1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgIGxldCBtb2R1bGUgPSByb3V0ZU1vZHVsZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgcmV0dXJuIFtcbiAgICAgIHJvdXRlICYmIHJvdXRlLmNzcyA/IHJvdXRlLmNzcy5tYXAoKGhyZWYyKSA9PiAoeyByZWw6IFwic3R5bGVzaGVldFwiLCBocmVmOiBocmVmMiB9KSkgOiBbXSxcbiAgICAgIG1vZHVsZT8ubGlua3M/LigpIHx8IFtdXG4gICAgXTtcbiAgfSkuZmxhdCgyKTtcbiAgbGV0IHByZWxvYWRzID0gZ2V0TW9kdWxlTGlua0hyZWZzKG1hdGNoZXMsIG1hbmlmZXN0KTtcbiAgcmV0dXJuIGRlZHVwZUxpbmtEZXNjcmlwdG9ycyhkZXNjcmlwdG9ycywgcHJlbG9hZHMpO1xufVxuZnVuY3Rpb24gZ2V0Um91dGVDc3NEZXNjcmlwdG9ycyhyb3V0ZSkge1xuICBpZiAoIXJvdXRlLmNzcykgcmV0dXJuIFtdO1xuICByZXR1cm4gcm91dGUuY3NzLm1hcCgoaHJlZjIpID0+ICh7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWY6IGhyZWYyIH0pKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoUm91dGVDc3Mocm91dGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MpIHJldHVybjtcbiAgbGV0IGRlc2NyaXB0b3JzID0gZ2V0Um91dGVDc3NEZXNjcmlwdG9ycyhyb3V0ZSk7XG4gIGF3YWl0IFByb21pc2UuYWxsKGRlc2NyaXB0b3JzLm1hcChwcmVmZXRjaFN0eWxlTGluaykpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCByb3V0ZU1vZHVsZSkge1xuICBpZiAoIXJvdXRlLmNzcyAmJiAhcm91dGVNb2R1bGUubGlua3MgfHwgIWlzUHJlbG9hZFN1cHBvcnRlZCgpKSByZXR1cm47XG4gIGxldCBkZXNjcmlwdG9ycyA9IFtdO1xuICBpZiAocm91dGUuY3NzKSB7XG4gICAgZGVzY3JpcHRvcnMucHVzaCguLi5nZXRSb3V0ZUNzc0Rlc2NyaXB0b3JzKHJvdXRlKSk7XG4gIH1cbiAgaWYgKHJvdXRlTW9kdWxlLmxpbmtzKSB7XG4gICAgZGVzY3JpcHRvcnMucHVzaCguLi5yb3V0ZU1vZHVsZS5saW5rcygpKTtcbiAgfVxuICBpZiAoZGVzY3JpcHRvcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGxldCBzdHlsZUxpbmtzID0gW107XG4gIGZvciAobGV0IGRlc2NyaXB0b3Igb2YgZGVzY3JpcHRvcnMpIHtcbiAgICBpZiAoIWlzUGFnZUxpbmtEZXNjcmlwdG9yKGRlc2NyaXB0b3IpICYmIGRlc2NyaXB0b3IucmVsID09PSBcInN0eWxlc2hlZXRcIikge1xuICAgICAgc3R5bGVMaW5rcy5wdXNoKHtcbiAgICAgICAgLi4uZGVzY3JpcHRvcixcbiAgICAgICAgcmVsOiBcInByZWxvYWRcIixcbiAgICAgICAgYXM6IFwic3R5bGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGF3YWl0IFByb21pc2UuYWxsKHN0eWxlTGlua3MubWFwKHByZWZldGNoU3R5bGVMaW5rKSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFN0eWxlTGluayhkZXNjcmlwdG9yKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGlmIChkZXNjcmlwdG9yLm1lZGlhICYmICF3aW5kb3cubWF0Y2hNZWRpYShkZXNjcmlwdG9yLm1lZGlhKS5tYXRjaGVzIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdW2hyZWY9XCIke2Rlc2NyaXB0b3IuaHJlZn1cIl1gXG4gICAgKSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICB9XG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICBPYmplY3QuYXNzaWduKGxpbmssIGRlc2NyaXB0b3IpO1xuICAgIGZ1bmN0aW9uIHJlbW92ZUxpbmsoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGVhZC5jb250YWlucyhsaW5rKSkge1xuICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5rLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHJlbW92ZUxpbmsoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGxpbmsub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHJlbW92ZUxpbmsoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNQYWdlTGlua0Rlc2NyaXB0b3Iob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LnBhZ2UgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0h0bWxMaW5rRGVzY3JpcHRvcihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChvYmplY3QuaHJlZiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG9iamVjdC5yZWwgPT09IFwicHJlbG9hZFwiICYmIHR5cGVvZiBvYmplY3QuaW1hZ2VTcmNTZXQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5pbWFnZVNpemVzID09PSBcInN0cmluZ1wiO1xuICB9XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0LnJlbCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqZWN0LmhyZWYgPT09IFwic3RyaW5nXCI7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRLZXllZFByZWZldGNoTGlua3MobWF0Y2hlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcykge1xuICBsZXQgbGlua3MgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBtYXRjaGVzLm1hcChhc3luYyAobWF0Y2gpID0+IHtcbiAgICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgbGV0IG1vZCA9IGF3YWl0IGxvYWRSb3V0ZU1vZHVsZShyb3V0ZSwgcm91dGVNb2R1bGVzKTtcbiAgICAgICAgcmV0dXJuIG1vZC5saW5rcyA/IG1vZC5saW5rcygpIDogW107XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIGRlZHVwZUxpbmtEZXNjcmlwdG9ycyhcbiAgICBsaW5rcy5mbGF0KDEpLmZpbHRlcihpc0h0bWxMaW5rRGVzY3JpcHRvcikuZmlsdGVyKChsaW5rKSA9PiBsaW5rLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgfHwgbGluay5yZWwgPT09IFwicHJlbG9hZFwiKS5tYXAoXG4gICAgICAobGluaykgPT4gbGluay5yZWwgPT09IFwic3R5bGVzaGVldFwiID8geyAuLi5saW5rLCByZWw6IFwicHJlZmV0Y2hcIiwgYXM6IFwic3R5bGVcIiB9IDogeyAuLi5saW5rLCByZWw6IFwicHJlZmV0Y2hcIiB9XG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0TmV3TWF0Y2hlc0ZvckxpbmtzKHBhZ2UsIG5leHRNYXRjaGVzLCBjdXJyZW50TWF0Y2hlcywgbWFuaWZlc3QsIGxvY2F0aW9uLCBtb2RlKSB7XG4gIGxldCBpc05ldyA9IChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRNYXRjaGVzW2luZGV4XSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIG1hdGNoLnJvdXRlLmlkICE9PSBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucm91dGUuaWQ7XG4gIH07XG4gIGxldCBtYXRjaFBhdGhDaGFuZ2VkID0gKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAvLyBwYXJhbSBjaGFuZ2UsIC91c2Vycy8xMjMgLT4gL3VzZXJzLzQ1NlxuICAgICAgY3VycmVudE1hdGNoZXNbaW5kZXhdLnBhdGhuYW1lICE9PSBtYXRjaC5wYXRobmFtZSB8fCAvLyBzcGxhdCBwYXJhbSBjaGFuZ2VkLCB3aGljaCBpcyBub3QgcHJlc2VudCBpbiBtYXRjaC5wYXRoXG4gICAgICAvLyBlLmcuIC9maWxlcy9pbWFnZXMvYXZhdGFyLmpwZyAtPiBmaWxlcy9maW5hbmNlcy54bHNcbiAgICAgIGN1cnJlbnRNYXRjaGVzW2luZGV4XS5yb3V0ZS5wYXRoPy5lbmRzV2l0aChcIipcIikgJiYgY3VycmVudE1hdGNoZXNbaW5kZXhdLnBhcmFtc1tcIipcIl0gIT09IG1hdGNoLnBhcmFtc1tcIipcIl1cbiAgICApO1xuICB9O1xuICBpZiAobW9kZSA9PT0gXCJhc3NldHNcIikge1xuICAgIHJldHVybiBuZXh0TWF0Y2hlcy5maWx0ZXIoXG4gICAgICAobWF0Y2gsIGluZGV4KSA9PiBpc05ldyhtYXRjaCwgaW5kZXgpIHx8IG1hdGNoUGF0aENoYW5nZWQobWF0Y2gsIGluZGV4KVxuICAgICk7XG4gIH1cbiAgaWYgKG1vZGUgPT09IFwiZGF0YVwiKSB7XG4gICAgcmV0dXJuIG5leHRNYXRjaGVzLmZpbHRlcigobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIW1hbmlmZXN0Um91dGUgfHwgIW1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc05ldyhtYXRjaCwgaW5kZXgpIHx8IG1hdGNoUGF0aENoYW5nZWQobWF0Y2gsIGluZGV4KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICAgIGxldCByb3V0ZUNob2ljZSA9IG1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUoe1xuICAgICAgICAgIGN1cnJlbnRVcmw6IG5ldyBVUkwoXG4gICAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gsXG4gICAgICAgICAgICB3aW5kb3cub3JpZ2luXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjdXJyZW50UGFyYW1zOiBjdXJyZW50TWF0Y2hlc1swXT8ucGFyYW1zIHx8IHt9LFxuICAgICAgICAgIG5leHRVcmw6IG5ldyBVUkwocGFnZSwgd2luZG93Lm9yaWdpbiksXG4gICAgICAgICAgbmV4dFBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgICAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIHJvdXRlQ2hvaWNlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgIHJldHVybiByb3V0ZUNob2ljZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuZnVuY3Rpb24gZ2V0TW9kdWxlTGlua0hyZWZzKG1hdGNoZXMsIG1hbmlmZXN0LCB7IGluY2x1ZGVIeWRyYXRlRmFsbGJhY2sgfSA9IHt9KSB7XG4gIHJldHVybiBkZWR1cGVIcmVmcyhcbiAgICBtYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIXJvdXRlKSByZXR1cm4gW107XG4gICAgICBsZXQgaHJlZnMgPSBbcm91dGUubW9kdWxlXTtcbiAgICAgIGlmIChyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmNsdWRlSHlkcmF0ZUZhbGxiYWNrICYmIHJvdXRlLmh5ZHJhdGVGYWxsYmFja01vZHVsZSkge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5oeWRyYXRlRmFsbGJhY2tNb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlLmltcG9ydHMpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuaW1wb3J0cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHJlZnM7XG4gICAgfSkuZmxhdCgxKVxuICApO1xufVxuZnVuY3Rpb24gZGVkdXBlSHJlZnMoaHJlZnMpIHtcbiAgcmV0dXJuIFsuLi5uZXcgU2V0KGhyZWZzKV07XG59XG5mdW5jdGlvbiBzb3J0S2V5cyhvYmopIHtcbiAgbGV0IHNvcnRlZCA9IHt9O1xuICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xuICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgIHNvcnRlZFtrZXldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHNvcnRlZDtcbn1cbmZ1bmN0aW9uIGRlZHVwZUxpbmtEZXNjcmlwdG9ycyhkZXNjcmlwdG9ycywgcHJlbG9hZHMpIHtcbiAgbGV0IHNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBwcmVsb2Fkc1NldCA9IG5ldyBTZXQocHJlbG9hZHMpO1xuICByZXR1cm4gZGVzY3JpcHRvcnMucmVkdWNlKChkZWR1cGVkLCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgbGV0IGFscmVhZHlNb2R1bGVQcmVsb2FkID0gcHJlbG9hZHMgJiYgIWlzUGFnZUxpbmtEZXNjcmlwdG9yKGRlc2NyaXB0b3IpICYmIGRlc2NyaXB0b3IuYXMgPT09IFwic2NyaXB0XCIgJiYgZGVzY3JpcHRvci5ocmVmICYmIHByZWxvYWRzU2V0LmhhcyhkZXNjcmlwdG9yLmhyZWYpO1xuICAgIGlmIChhbHJlYWR5TW9kdWxlUHJlbG9hZCkge1xuICAgICAgcmV0dXJuIGRlZHVwZWQ7XG4gICAgfVxuICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShzb3J0S2V5cyhkZXNjcmlwdG9yKSk7XG4gICAgaWYgKCFzZXQuaGFzKGtleSkpIHtcbiAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgIGRlZHVwZWQucHVzaCh7IGtleSwgbGluazogZGVzY3JpcHRvciB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZHVwZWQ7XG4gIH0sIFtdKTtcbn1cbnZhciBfaXNQcmVsb2FkU3VwcG9ydGVkO1xuZnVuY3Rpb24gaXNQcmVsb2FkU3VwcG9ydGVkKCkge1xuICBpZiAoX2lzUHJlbG9hZFN1cHBvcnRlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIF9pc1ByZWxvYWRTdXBwb3J0ZWQ7XG4gIH1cbiAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIF9pc1ByZWxvYWRTdXBwb3J0ZWQgPSBlbC5yZWxMaXN0LnN1cHBvcnRzKFwicHJlbG9hZFwiKTtcbiAgZWwgPSBudWxsO1xuICByZXR1cm4gX2lzUHJlbG9hZFN1cHBvcnRlZDtcbn1cblxuLy8gbGliL2RvbS9zc3IvbWFya3VwLnRzXG52YXIgRVNDQVBFX0xPT0tVUCA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xudmFyIEVTQ0FQRV9SRUdFWCA9IC9bJj48XFx1MjAyOFxcdTIwMjldL2c7XG5mdW5jdGlvbiBlc2NhcGVIdG1sKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZShFU0NBUEVfUkVHRVgsIChtYXRjaCkgPT4gRVNDQVBFX0xPT0tVUFttYXRjaF0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSHRtbChodG1sKSB7XG4gIHJldHVybiB7IF9faHRtbDogaHRtbCB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9zaW5nbGUtZmV0Y2gudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwidHVyYm8tc3RyZWFtXCI7XG5cbi8vIGxpYi9kb20vc3NyL2RhdGEudHNcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpIHtcbiAgbGV0IGluaXQgPSB7IHNpZ25hbDogcmVxdWVzdC5zaWduYWwgfTtcbiAgaWYgKHJlcXVlc3QubWV0aG9kICE9PSBcIkdFVFwiKSB7XG4gICAgaW5pdC5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICAgIGlmIChjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgaW5pdC5oZWFkZXJzID0geyBcIkNvbnRlbnQtVHlwZVwiOiBjb250ZW50VHlwZSB9O1xuICAgICAgaW5pdC5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYXdhaXQgcmVxdWVzdC5qc29uKCkpO1xuICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgJiYgL1xcYnRleHRcXC9wbGFpblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IHsgXCJDb250ZW50LVR5cGVcIjogY29udGVudFR5cGUgfTtcbiAgICAgIGluaXQuYm9keSA9IGF3YWl0IHJlcXVlc3QudGV4dCgpO1xuICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwveC13d3ctZm9ybS11cmxlbmNvZGVkXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgaW5pdC5ib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhhd2FpdCByZXF1ZXN0LnRleHQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQuYm9keSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluaXQ7XG59XG5cbi8vIGxpYi9kb20vc3NyL3NpbmdsZS1mZXRjaC50c3hcbnZhciBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sID0gU3ltYm9sKFwiU2luZ2xlRmV0Y2hSZWRpcmVjdFwiKTtcbmZ1bmN0aW9uIFN0cmVhbVRyYW5zZmVyKHtcbiAgY29udGV4dCxcbiAgaWRlbnRpZmllcixcbiAgcmVhZGVyLFxuICB0ZXh0RGVjb2RlcixcbiAgbm9uY2Vcbn0pIHtcbiAgaWYgKCFjb250ZXh0LnJlbmRlck1ldGEgfHwgIWNvbnRleHQucmVuZGVyTWV0YS5kaWRSZW5kZXJTY3JpcHRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFjb250ZXh0LnJlbmRlck1ldGEuc3RyZWFtQ2FjaGUpIHtcbiAgICBjb250ZXh0LnJlbmRlck1ldGEuc3RyZWFtQ2FjaGUgPSB7fTtcbiAgfVxuICBsZXQgeyBzdHJlYW1DYWNoZSB9ID0gY29udGV4dC5yZW5kZXJNZXRhO1xuICBsZXQgcHJvbWlzZSA9IHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdO1xuICBpZiAoIXByb21pc2UpIHtcbiAgICBwcm9taXNlID0gc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0gPSByZWFkZXIucmVhZCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0ucmVzdWx0ID0ge1xuICAgICAgICBkb25lOiByZXN1bHQuZG9uZSxcbiAgICAgICAgdmFsdWU6IHRleHREZWNvZGVyLmRlY29kZShyZXN1bHQudmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pXG4gICAgICB9O1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXS5lcnJvciA9IGU7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHByb21pc2UuZXJyb3IpIHtcbiAgICB0aHJvdyBwcm9taXNlLmVycm9yO1xuICB9XG4gIGlmIChwcm9taXNlLnJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxuICBsZXQgeyBkb25lLCB2YWx1ZSB9ID0gcHJvbWlzZS5yZXN1bHQ7XG4gIGxldCBzY3JpcHRUYWcgPSB2YWx1ZSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIG5vbmNlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIuZW5xdWV1ZSgke2VzY2FwZUh0bWwoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpXG4gICAgICAgICl9KTtgXG4gICAgICB9XG4gICAgfVxuICApIDogbnVsbDtcbiAgaWYgKGRvbmUpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFJlYWN0NC5GcmFnbWVudCwgbnVsbCwgc2NyaXB0VGFnLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICBub25jZSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICBfX2h0bWw6IGB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtQ29udHJvbGxlci5jbG9zZSgpO2BcbiAgICAgICAgfVxuICAgICAgfVxuICAgICkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0LkZyYWdtZW50LCBudWxsLCBzY3JpcHRUYWcsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChSZWFjdDQuU3VzcGVuc2UsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChcbiAgICAgIFN0cmVhbVRyYW5zZmVyLFxuICAgICAge1xuICAgICAgICBjb250ZXh0LFxuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyICsgMSxcbiAgICAgICAgcmVhZGVyLFxuICAgICAgICB0ZXh0RGVjb2RlcixcbiAgICAgICAgbm9uY2VcbiAgICAgIH1cbiAgICApKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5KG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgYmFzZW5hbWUsIGdldFJvdXRlcikge1xuICByZXR1cm4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBsZXQgeyByZXF1ZXN0LCBtYXRjaGVzLCBmZXRjaGVyS2V5IH0gPSBhcmdzO1xuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgYXJncyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgICgpID0+IHNpbmdsZUZldGNoQWN0aW9uU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpLFxuICAgICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFzc3IpIHtcbiAgICAgIGxldCBmb3VuZFJldmFsaWRhdGluZ1NlcnZlckxvYWRlciA9IG1hdGNoZXMuc29tZShcbiAgICAgICAgKG0pID0+IG0uc2hvdWxkTG9hZCAmJiBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF0/Lmhhc0xvYWRlciAmJiAhbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdPy5oYXNDbGllbnRMb2FkZXJcbiAgICAgICk7XG4gICAgICBpZiAoIWZvdW5kUmV2YWxpZGF0aW5nU2VydmVyTG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgICAgYXJncyxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAoKSA9PiBub25Tc3JTdHJhdGVneShtYW5pZmVzdCwgcmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpLFxuICAgICAgICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmZXRjaGVyS2V5KSB7XG4gICAgICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICBhcmdzLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgKCkgPT4gc2luZ2xlRmV0Y2hMb2FkZXJGZXRjaGVyU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpLFxuICAgICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgIGFyZ3MsXG4gICAgICBmYWxzZSxcbiAgICAgICgpID0+IHNpbmdsZUZldGNoTG9hZGVyTmF2aWdhdGlvblN0cmF0ZWd5KFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgICBzc3IsXG4gICAgICAgIGdldFJvdXRlcigpLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBiYXNlbmFtZVxuICAgICAgKSxcbiAgICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICAgKTtcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoQWN0aW9uU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IGFjdGlvbk1hdGNoID0gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBpbnZhcmlhbnQyKGFjdGlvbk1hdGNoLCBcIk5vIGFjdGlvbiBtYXRjaCBmb3VuZFwiKTtcbiAgbGV0IGFjdGlvblN0YXR1cyA9IHZvaWQgMDtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGFjdGlvbk1hdGNoLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IGhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHVybCA9IHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSk7XG4gICAgICBsZXQgaW5pdCA9IGF3YWl0IGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpO1xuICAgICAgbGV0IHsgZGF0YTogZGF0YTIsIHN0YXR1cyB9ID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUodXJsLCBpbml0KTtcbiAgICAgIGFjdGlvblN0YXR1cyA9IHN0YXR1cztcbiAgICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChcbiAgICAgICAgZGF0YTIsXG4gICAgICAgIGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQyO1xuICB9KTtcbiAgaWYgKGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgfHwgaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkpIHtcbiAgICByZXR1cm4geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHtcbiAgICAgIHR5cGU6IHJlc3VsdC50eXBlLFxuICAgICAgcmVzdWx0OiBkYXRhKHJlc3VsdC5yZXN1bHQsIGFjdGlvblN0YXR1cylcbiAgICB9XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBub25Tc3JTdHJhdGVneShtYW5pZmVzdCwgcmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IG1hdGNoZXNUb0xvYWQgPSBtYXRjaGVzLmZpbHRlcigobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgbGV0IHVybCA9IHN0cmlwSW5kZXhQYXJhbShzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpKTtcbiAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgbGV0IHJlc3VsdHMgPSB7fTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgbWF0Y2hlc1RvTG9hZC5tYXAoXG4gICAgICAobSkgPT4gbS5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IG1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXT8uaGFzQ2xpZW50TG9hZGVyID8gYXdhaXQgZmV0Y2hTaW5nbGVMb2FkZXIoaGFuZGxlciwgdXJsLCBpbml0LCBtLnJvdXRlLmlkKSA6IGF3YWl0IGhhbmRsZXIoKTtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0IH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZSB9O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgKTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5mdW5jdGlvbiBpc09wdGVkT3V0KG1hbmlmZXN0Um91dGUsIHJvdXRlTW9kdWxlLCBtYXRjaCwgcm91dGVyKSB7XG4gIHJldHVybiBtYXRjaC5yb3V0ZS5pZCBpbiByb3V0ZXIuc3RhdGUubG9hZGVyRGF0YSAmJiBtYW5pZmVzdFJvdXRlICYmIG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyICYmIHJvdXRlTW9kdWxlICYmIHJvdXRlTW9kdWxlLnNob3VsZFJldmFsaWRhdGU7XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaExvYWRlck5hdmlnYXRpb25TdHJhdGVneShtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIHJvdXRlciwgcmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IHJvdXRlc1BhcmFtcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmb3VuZE9wdE91dFJvdXRlID0gZmFsc2U7XG4gIGxldCByb3V0ZURmZHMgPSBtYXRjaGVzLm1hcCgoKSA9PiBjcmVhdGVEZWZlcnJlZDIoKSk7XG4gIGxldCByb3V0ZXNMb2FkZWRQcm9taXNlID0gUHJvbWlzZS5hbGwocm91dGVEZmRzLm1hcCgoZCkgPT4gZC5wcm9taXNlKSk7XG4gIGxldCBzaW5nbGVGZXRjaERmZCA9IGNyZWF0ZURlZmVycmVkMigpO1xuICBsZXQgdXJsID0gc3RyaXBJbmRleFBhcmFtKHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSkpO1xuICBsZXQgaW5pdCA9IGF3YWl0IGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpO1xuICBsZXQgcmVzdWx0cyA9IHt9O1xuICBsZXQgcmVzb2x2ZVByb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICBtYXRjaGVzLm1hcChcbiAgICAgIGFzeW5jIChtLCBpKSA9PiBtLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICAgICAgcm91dGVEZmRzW2ldLnJlc29sdmUoKTtcbiAgICAgICAgbGV0IG1hbmlmZXN0Um91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF07XG4gICAgICAgIGlmICghbS5zaG91bGRMb2FkKSB7XG4gICAgICAgICAgaWYgKCFyb3V0ZXIuc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzT3B0ZWRPdXQobWFuaWZlc3RSb3V0ZSwgcm91dGVNb2R1bGVzW20ucm91dGUuaWRdLCBtLCByb3V0ZXIpKSB7XG4gICAgICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hbmlmZXN0Um91dGUgJiYgbWFuaWZlc3RSb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgICBpZiAobWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoU2luZ2xlTG9hZGVyKFxuICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIGluaXQsXG4gICAgICAgICAgICAgIG0ucm91dGUuaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0IH07XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYW5pZmVzdFJvdXRlICYmIG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgICAgcm91dGVzUGFyYW1zLmFkZChtLnJvdXRlLmlkKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhMiA9IGF3YWl0IHNpbmdsZUZldGNoRGZkLnByb21pc2U7XG4gICAgICAgICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHRzKGRhdGEyLCBtLnJvdXRlLmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogXCJkYXRhXCIsXG4gICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIHJlc3VsdDogZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICApO1xuICBhd2FpdCByb3V0ZXNMb2FkZWRQcm9taXNlO1xuICBpZiAoKCFyb3V0ZXIuc3RhdGUuaW5pdGlhbGl6ZWQgfHwgcm91dGVzUGFyYW1zLnNpemUgPT09IDApICYmICF3aW5kb3cuX19yZWFjdFJvdXRlckhkckFjdGl2ZSkge1xuICAgIHNpbmdsZUZldGNoRGZkLnJlc29sdmUoe30pO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBpZiAoc3NyICYmIGZvdW5kT3B0T3V0Um91dGUgJiYgcm91dGVzUGFyYW1zLnNpemUgPiAwKSB7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFxuICAgICAgICAgIFwiX3JvdXRlc1wiLFxuICAgICAgICAgIG1hdGNoZXMuZmlsdGVyKChtKSA9PiByb3V0ZXNQYXJhbXMuaGFzKG0ucm91dGUuaWQpKS5tYXAoKG0pID0+IG0ucm91dGUuaWQpLmpvaW4oXCIsXCIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YTIgPSBhd2FpdCBmZXRjaEFuZERlY29kZSh1cmwsIGluaXQpO1xuICAgICAgc2luZ2xlRmV0Y2hEZmQucmVzb2x2ZShkYXRhMi5kYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzaW5nbGVGZXRjaERmZC5yZWplY3QoZSk7XG4gICAgfVxuICB9XG4gIGF3YWl0IHJlc29sdmVQcm9taXNlO1xuICByZXR1cm4gcmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoTG9hZGVyRmV0Y2hlclN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBmZXRjaGVyTWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGludmFyaWFudDIoZmV0Y2hlck1hdGNoLCBcIk5vIGZldGNoZXIgbWF0Y2ggZm91bmRcIik7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaGVyTWF0Y2gucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgIGxldCB1cmwgPSBzdHJpcEluZGV4UGFyYW0oc2luZ2xlRmV0Y2hVcmwocmVxdWVzdC51cmwsIGJhc2VuYW1lKSk7XG4gICAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgICByZXR1cm4gZmV0Y2hTaW5nbGVMb2FkZXIoaGFuZGxlciwgdXJsLCBpbml0LCBmZXRjaGVyTWF0Y2gucm91dGUuaWQpO1xuICB9KTtcbiAgcmV0dXJuIHsgW2ZldGNoZXJNYXRjaC5yb3V0ZS5pZF06IHJlc3VsdCB9O1xufVxuZnVuY3Rpb24gZmV0Y2hTaW5nbGVMb2FkZXIoaGFuZGxlciwgdXJsLCBpbml0LCByb3V0ZUlkKSB7XG4gIHJldHVybiBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICBsZXQgc2luZ2xlTG9hZGVyVXJsID0gbmV3IFVSTCh1cmwpO1xuICAgIHNpbmdsZUxvYWRlclVybC5zZWFyY2hQYXJhbXMuc2V0KFwiX3JvdXRlc1wiLCByb3V0ZUlkKTtcbiAgICBsZXQgeyBkYXRhOiBkYXRhMiB9ID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUoc2luZ2xlTG9hZGVyVXJsLCBpbml0KTtcbiAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHRzKGRhdGEyLCByb3V0ZUlkKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBzdHJpcEluZGV4UGFyYW0odXJsKSB7XG4gIGxldCBpbmRleFZhbHVlcyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gIGxldCBpbmRleFZhbHVlc1RvS2VlcCA9IFtdO1xuICBmb3IgKGxldCBpbmRleFZhbHVlIG9mIGluZGV4VmFsdWVzKSB7XG4gICAgaWYgKGluZGV4VmFsdWUpIHtcbiAgICAgIGluZGV4VmFsdWVzVG9LZWVwLnB1c2goaW5kZXhWYWx1ZSk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IHRvS2VlcCBvZiBpbmRleFZhbHVlc1RvS2VlcCkge1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdG9LZWVwKTtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZnVuY3Rpb24gc2luZ2xlRmV0Y2hVcmwocmVxVXJsLCBiYXNlbmFtZSkge1xuICBsZXQgdXJsID0gdHlwZW9mIHJlcVVybCA9PT0gXCJzdHJpbmdcIiA/IG5ldyBVUkwoXG4gICAgcmVxVXJsLFxuICAgIC8vIFRoaXMgY2FuIGJlIGNhbGxlZCBkdXJpbmcgdGhlIFNTUiBmbG93IHZpYSBQcmVmZXRjaFBhZ2VMaW5rc0ltcGwgc29cbiAgICAvLyBkb24ndCBhc3N1bWUgd2luZG93IGlzIGF2YWlsYWJsZVxuICAgIHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBcInNlcnZlcjovL3NpbmdsZWZldGNoL1wiIDogd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICApIDogcmVxVXJsO1xuICBpZiAodXJsLnBhdGhuYW1lID09PSBcIi9cIikge1xuICAgIHVybC5wYXRobmFtZSA9IFwiX3Jvb3QuZGF0YVwiO1xuICB9IGVsc2UgaWYgKGJhc2VuYW1lICYmIHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgPT09IFwiL1wiKSB7XG4gICAgdXJsLnBhdGhuYW1lID0gYCR7YmFzZW5hbWUucmVwbGFjZSgvXFwvJC8sIFwiXCIpfS9fcm9vdC5kYXRhYDtcbiAgfSBlbHNlIHtcbiAgICB1cmwucGF0aG5hbWUgPSBgJHt1cmwucGF0aG5hbWUucmVwbGFjZSgvXFwvJC8sIFwiXCIpfS5kYXRhYDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmREZWNvZGUodXJsLCBpbml0KSB7XG4gIGxldCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIGluaXQpO1xuICBpZiAocmVzLnN0YXR1cyA9PT0gNDA0ICYmICFyZXMuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlc3BvbnNlXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yUmVzcG9uc2VJbXBsKDQwNCwgXCJOb3QgRm91bmRcIiwgdHJ1ZSk7XG4gIH1cbiAgY29uc3QgTk9fQk9EWV9TVEFUVVNfQ09ERVMyID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzEwMCwgMTAxLCAyMDQsIDIwNV0pO1xuICBpZiAoTk9fQk9EWV9TVEFUVVNfQ09ERVMyLmhhcyhyZXMuc3RhdHVzKSkge1xuICAgIGlmICghaW5pdC5tZXRob2QgfHwgaW5pdC5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgIHJldHVybiB7IHN0YXR1czogcmVzLnN0YXR1cywgZGF0YToge30gfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiByZXMuc3RhdHVzLCBkYXRhOiB7IGRhdGE6IHZvaWQgMCB9IH07XG4gICAgfVxuICB9XG4gIGludmFyaWFudDIocmVzLmJvZHksIFwiTm8gcmVzcG9uc2UgYm9keSB0byBkZWNvZGVcIik7XG4gIHRyeSB7XG4gICAgbGV0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVWaWFUdXJib1N0cmVhbShyZXMuYm9keSwgd2luZG93KTtcbiAgICByZXR1cm4geyBzdGF0dXM6IHJlcy5zdGF0dXMsIGRhdGE6IGRlY29kZWQudmFsdWUgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWNvZGUgdHVyYm8tc3RyZWFtIHJlc3BvbnNlXCIpO1xuICB9XG59XG5mdW5jdGlvbiBkZWNvZGVWaWFUdXJib1N0cmVhbShib2R5LCBnbG9iYWwyKSB7XG4gIHJldHVybiBkZWNvZGUoYm9keSwge1xuICAgIHBsdWdpbnM6IFtcbiAgICAgICh0eXBlLCAuLi5yZXN0KSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNhbml0aXplZEVycm9yXCIpIHtcbiAgICAgICAgICBsZXQgW25hbWUsIG1lc3NhZ2UsIHN0YWNrXSA9IHJlc3Q7XG4gICAgICAgICAgbGV0IENvbnN0cnVjdG9yID0gRXJyb3I7XG4gICAgICAgICAgaWYgKG5hbWUgJiYgbmFtZSBpbiBnbG9iYWwyICYmIHR5cGVvZiBnbG9iYWwyW25hbWVdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yID0gZ2xvYmFsMltuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGVycm9yID0gbmV3IENvbnN0cnVjdG9yKG1lc3NhZ2UpO1xuICAgICAgICAgIGVycm9yLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiRXJyb3JSZXNwb25zZVwiKSB7XG4gICAgICAgICAgbGV0IFtkYXRhMiwgc3RhdHVzLCBzdGF0dXNUZXh0XSA9IHJlc3Q7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRXJyb3JSZXNwb25zZUltcGwoc3RhdHVzLCBzdGF0dXNUZXh0LCBkYXRhMilcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoUmVkaXJlY3RcIikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB7IFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogcmVzdFswXSB9IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiU2luZ2xlRmV0Y2hDbGFzc0luc3RhbmNlXCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdFswXSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoRmFsbGJhY2tcIikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2b2lkIDAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSk7XG59XG5mdW5jdGlvbiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdHMocmVzdWx0cywgcm91dGVJZCkge1xuICBsZXQgcmVkaXJlY3QyID0gcmVzdWx0c1tTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTtcbiAgaWYgKHJlZGlyZWN0Mikge1xuICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChyZWRpcmVjdDIsIHJvdXRlSWQpO1xuICB9XG4gIHJldHVybiByZXN1bHRzW3JvdXRlSWRdICE9PSB2b2lkIDAgPyB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChyZXN1bHRzW3JvdXRlSWRdLCByb3V0ZUlkKSA6IG51bGw7XG59XG5mdW5jdGlvbiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChyZXN1bHQsIHJvdXRlSWQpIHtcbiAgaWYgKFwiZXJyb3JcIiBpbiByZXN1bHQpIHtcbiAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gIH0gZWxzZSBpZiAoXCJyZWRpcmVjdFwiIGluIHJlc3VsdCkge1xuICAgIGxldCBoZWFkZXJzID0ge307XG4gICAgaWYgKHJlc3VsdC5yZXZhbGlkYXRlKSB7XG4gICAgICBoZWFkZXJzW1wiWC1SZW1peC1SZXZhbGlkYXRlXCJdID0gXCJ5ZXNcIjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5yZWxvYWQpIHtcbiAgICAgIGhlYWRlcnNbXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiXSA9IFwieWVzXCI7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucmVwbGFjZSkge1xuICAgICAgaGVhZGVyc1tcIlgtUmVtaXgtUmVwbGFjZVwiXSA9IFwieWVzXCI7XG4gICAgfVxuICAgIHRocm93IHJlZGlyZWN0KHJlc3VsdC5yZWRpcmVjdCwgeyBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsIGhlYWRlcnMgfSk7XG4gIH0gZWxzZSBpZiAoXCJkYXRhXCIgaW4gcmVzdWx0KSB7XG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gcmVzcG9uc2UgZm91bmQgZm9yIHJvdXRlSWQgXCIke3JvdXRlSWR9XCJgKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRGVmZXJyZWQyKCkge1xuICBsZXQgcmVzb2x2ZTtcbiAgbGV0IHJlamVjdDtcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICByZXNvbHZlID0gYXN5bmMgKHZhbCkgPT4ge1xuICAgICAgcmVzKHZhbCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gICAgcmVqZWN0ID0gYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICByZWooZXJyb3IpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlc29sdmUsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVqZWN0XG4gIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2ZvZy1vZi13YXIudHNcbmltcG9ydCAqIGFzIFJlYWN0OCBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3Ivcm91dGVzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvZG9tL3Nzci9lcnJvckJvdW5kYXJpZXMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG52YXIgUmVtaXhFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDUuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3I6IHByb3BzLmVycm9yIHx8IG51bGwsIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbiB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmxvY2F0aW9uICE9PSBwcm9wcy5sb2NhdGlvbikge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IHByb3BzLmVycm9yIHx8IG51bGwsIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbiB9O1xuICAgIH1cbiAgICByZXR1cm4geyBlcnJvcjogcHJvcHMuZXJyb3IgfHwgc3RhdGUuZXJyb3IsIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbiB9O1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICAgICAgUmVtaXhSb290RGVmYXVsdEVycm9yQm91bmRhcnksXG4gICAgICAgIHtcbiAgICAgICAgICBlcnJvcjogdGhpcy5zdGF0ZS5lcnJvcixcbiAgICAgICAgICBpc091dHNpZGVSZW1peEFwcDogdHJ1ZVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSh7XG4gIGVycm9yLFxuICBpc091dHNpZGVSZW1peEFwcFxufSkge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgbGV0IGhleURldmVsb3BlciA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYFxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIlxcdXsxRjRCRn0gSGV5IGRldmVsb3BlciBcXHV7MUY0NEJ9LiBZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyB3aGVuIHlvdXIgYXBwIHRocm93cyBlcnJvcnMuIENoZWNrIG91dCBodHRwczovL3JlbWl4LnJ1bi9ndWlkZXMvZXJyb3JzIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICk7XG4gICAgICBgXG4gICAgICB9XG4gICAgfVxuICApO1xuICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChCb3VuZGFyeVNoZWxsLCB7IHRpdGxlOiBcIlVuaGFuZGxlZCBUaHJvd24gUmVzcG9uc2UhXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaDFcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIyNHB4XCIgfSB9LCBlcnJvci5zdGF0dXMsIFwiIFwiLCBlcnJvci5zdGF0dXNUZXh0KSwgaGV5RGV2ZWxvcGVyKTtcbiAgfVxuICBsZXQgZXJyb3JJbnN0YW5jZTtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlcnJvckluc3RhbmNlID0gZXJyb3I7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGVycm9yU3RyaW5nID0gZXJyb3IgPT0gbnVsbCA/IFwiVW5rbm93biBFcnJvclwiIDogdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIFwidG9TdHJpbmdcIiBpbiBlcnJvciA/IGVycm9yLnRvU3RyaW5nKCkgOiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gICAgZXJyb3JJbnN0YW5jZSA9IG5ldyBFcnJvcihlcnJvclN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICBCb3VuZGFyeVNoZWxsLFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkFwcGxpY2F0aW9uIEVycm9yIVwiLFxuICAgICAgaXNPdXRzaWRlUmVtaXhBcHBcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMjRweFwiIH0gfSwgXCJBcHBsaWNhdGlvbiBFcnJvclwiKSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInByZVwiLFxuICAgICAge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgIGJhY2tncm91bmQ6IFwiaHNsYSgxMCwgNTAlLCA1MCUsIDAuMSlcIixcbiAgICAgICAgICBjb2xvcjogXCJyZWRcIixcbiAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9ySW5zdGFuY2Uuc3RhY2tcbiAgICApLFxuICAgIGhleURldmVsb3BlclxuICApO1xufVxuZnVuY3Rpb24gQm91bmRhcnlTaGVsbCh7XG4gIHRpdGxlLFxuICByZW5kZXJTY3JpcHRzLFxuICBpc091dHNpZGVSZW1peEFwcCxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgbGV0IHsgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGlmIChyb3V0ZU1vZHVsZXMucm9vdD8uTGF5b3V0ICYmICFpc091dHNpZGVSZW1peEFwcCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaHRtbFwiLCB7IGxhbmc6IFwiZW5cIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJoZWFkXCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBjaGFyU2V0OiBcInV0Zi04XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICBcIm1ldGFcIixcbiAgICB7XG4gICAgICBuYW1lOiBcInZpZXdwb3J0XCIsXG4gICAgICBjb250ZW50OiBcIndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEsdmlld3BvcnQtZml0PWNvdmVyXCJcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIHRpdGxlKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImJvZHlcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwibWFpblwiLCB7IHN0eWxlOiB7IGZvbnRGYW1pbHk6IFwic3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsIHBhZGRpbmc6IFwiMnJlbVwiIH0gfSwgY2hpbGRyZW4sIHJlbmRlclNjcmlwdHMgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoU2NyaXB0cywgbnVsbCkgOiBudWxsKSkpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mYWxsYmFjay50c3hcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFJlbWl4Um9vdERlZmF1bHRIeWRyYXRlRmFsbGJhY2soKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoQm91bmRhcnlTaGVsbCwgeyB0aXRsZTogXCJMb2FkaW5nLi4uXCIsIHJlbmRlclNjcmlwdHM6IHRydWUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiXFx1ezFGNEJGfSBIZXkgZGV2ZWxvcGVyIFxcdXsxRjQ0Qn0uIFlvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIFwiICtcbiAgICAgICAgICAgICAgICBcIndoZW4geW91ciBhcHAgaXMgbG9hZGluZyBKUyBtb2R1bGVzIGFuZC9vciBydW5uaW5nIFxcYGNsaWVudExvYWRlclxcYCBcIiArXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvbnMuIENoZWNrIG91dCBodHRwczovL3JlbWl4LnJ1bi9yb3V0ZS9oeWRyYXRlLWZhbGxiYWNrIFwiICtcbiAgICAgICAgICAgICAgICBcImZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBgXG4gICAgICB9XG4gICAgfVxuICApKTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivcm91dGVzLnRzeFxuZnVuY3Rpb24gZ3JvdXBSb3V0ZXNCeVBhcmVudElkKG1hbmlmZXN0KSB7XG4gIGxldCByb3V0ZXMgPSB7fTtcbiAgT2JqZWN0LnZhbHVlcyhtYW5pZmVzdCkuZm9yRWFjaCgocm91dGUpID0+IHtcbiAgICBpZiAocm91dGUpIHtcbiAgICAgIGxldCBwYXJlbnRJZCA9IHJvdXRlLnBhcmVudElkIHx8IFwiXCI7XG4gICAgICBpZiAoIXJvdXRlc1twYXJlbnRJZF0pIHtcbiAgICAgICAgcm91dGVzW3BhcmVudElkXSA9IFtdO1xuICAgICAgfVxuICAgICAgcm91dGVzW3BhcmVudElkXS5wdXNoKHJvdXRlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcm91dGVzO1xufVxuZnVuY3Rpb24gZ2V0Um91dGVDb21wb25lbnRzKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSB7XG4gIGxldCBDb21wb25lbnQ0ID0gZ2V0Um91dGVNb2R1bGVDb21wb25lbnQocm91dGVNb2R1bGUpO1xuICBsZXQgSHlkcmF0ZUZhbGxiYWNrID0gcm91dGVNb2R1bGUuSHlkcmF0ZUZhbGxiYWNrICYmICghaXNTcGFNb2RlIHx8IHJvdXRlLmlkID09PSBcInJvb3RcIikgPyByb3V0ZU1vZHVsZS5IeWRyYXRlRmFsbGJhY2sgOiByb3V0ZS5pZCA9PT0gXCJyb290XCIgPyBSZW1peFJvb3REZWZhdWx0SHlkcmF0ZUZhbGxiYWNrIDogdm9pZCAwO1xuICBsZXQgRXJyb3JCb3VuZGFyeSA9IHJvdXRlTW9kdWxlLkVycm9yQm91bmRhcnkgPyByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5IDogcm91dGUuaWQgPT09IFwicm9vdFwiID8gKCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KFJlbWl4Um9vdERlZmF1bHRFcnJvckJvdW5kYXJ5LCB7IGVycm9yOiB1c2VSb3V0ZUVycm9yKCkgfSkgOiB2b2lkIDA7XG4gIGlmIChyb3V0ZS5pZCA9PT0gXCJyb290XCIgJiYgcm91dGVNb2R1bGUuTGF5b3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLkNvbXBvbmVudDQgPyB7XG4gICAgICAgIGVsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChyb3V0ZU1vZHVsZS5MYXlvdXQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChDb21wb25lbnQ0LCBudWxsKSlcbiAgICAgIH0gOiB7IENvbXBvbmVudDogQ29tcG9uZW50NCB9LFxuICAgICAgLi4uRXJyb3JCb3VuZGFyeSA/IHtcbiAgICAgICAgZXJyb3JFbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoRXJyb3JCb3VuZGFyeSwgbnVsbCkpXG4gICAgICB9IDogeyBFcnJvckJvdW5kYXJ5IH0sXG4gICAgICAuLi5IeWRyYXRlRmFsbGJhY2sgPyB7XG4gICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChyb3V0ZU1vZHVsZS5MYXlvdXQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChIeWRyYXRlRmFsbGJhY2ssIG51bGwpKVxuICAgICAgfSA6IHsgSHlkcmF0ZUZhbGxiYWNrIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7IENvbXBvbmVudDogQ29tcG9uZW50NCwgRXJyb3JCb3VuZGFyeSwgSHlkcmF0ZUZhbGxiYWNrIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJSb3V0ZXMobWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgZnV0dXJlLCBpc1NwYU1vZGUsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCksIHNwYU1vZGVMYXp5UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh7IENvbXBvbmVudDogKCkgPT4gbnVsbCB9KSkge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGVNb2R1bGVzW3JvdXRlLmlkXTtcbiAgICBpbnZhcmlhbnQyKFxuICAgICAgcm91dGVNb2R1bGUsXG4gICAgICBcIk5vIGByb3V0ZU1vZHVsZWAgYXZhaWxhYmxlIHRvIGNyZWF0ZSBzZXJ2ZXIgcm91dGVzXCJcbiAgICApO1xuICAgIGxldCBkYXRhUm91dGUgPSB7XG4gICAgICAuLi5nZXRSb3V0ZUNvbXBvbmVudHMocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogcm91dGUuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICAgIC8vIEZvciBTUEEgTW9kZSwgYWxsIHJvdXRlcyBhcmUgbGF6eSBleGNlcHQgcm9vdC4gIEhvd2V2ZXIgd2UgdGVsbCB0aGVcbiAgICAgIC8vIHJvdXRlciByb290IGlzIGFsc28gbGF6eSBoZXJlIHRvbyBzaW5jZSB3ZSBkb24ndCBuZWVkIGEgZnVsbFxuICAgICAgLy8gaW1wbGVtZW50YXRpb24gLSB3ZSBqdXN0IG5lZWQgYSBgbGF6eWAgcHJvcCB0byB0ZWxsIHRoZSBSUiByZW5kZXJpbmdcbiAgICAgIC8vIHdoZXJlIHRvIHN0b3Agd2hpY2ggaXMgYWx3YXlzIGF0IHRoZSByb290IHJvdXRlIGluIFNQQSBtb2RlXG4gICAgICBsYXp5OiBpc1NwYU1vZGUgPyAoKSA9PiBzcGFNb2RlTGF6eVByb21pc2UgOiB2b2lkIDAsXG4gICAgICAvLyBGb3IgcGFydGlhbCBoeWRyYXRpb24gcmVuZGVyaW5nLCB3ZSBuZWVkIHRvIGluZGljYXRlIHdoZW4gdGhlIHJvdXRlXG4gICAgICAvLyBoYXMgYSBsb2FkZXIvY2xpZW50TG9hZGVyLCBidXQgaXQgd29uJ3QgZXZlciBiZSBjYWxsZWQgZHVyaW5nIHRoZSBzdGF0aWNcbiAgICAgIC8vIHJlbmRlciwgc28ganVzdCBnaXZlIGl0IGEgbm8tb3AgZnVuY3Rpb24gc28gd2UgY2FuIHJlbmRlciBkb3duIHRvIHRoZVxuICAgICAgLy8gcHJvcGVyIGZhbGxiYWNrXG4gICAgICBsb2FkZXI6IHJvdXRlLmhhc0xvYWRlciB8fCByb3V0ZS5oYXNDbGllbnRMb2FkZXIgPyAoKSA9PiBudWxsIDogdm9pZCAwXG4gICAgICAvLyBXZSBkb24ndCBuZWVkIG1pZGRsZXdhcmUvYWN0aW9uL3Nob3VsZFJldmFsaWRhdGUgb24gdGhlc2Ugcm91dGVzIHNpbmNlXG4gICAgICAvLyB0aGV5J3JlIGZvciBhIHN0YXRpYyByZW5kZXJcbiAgICB9O1xuICAgIGxldCBjaGlsZHJlbiA9IGNyZWF0ZVNlcnZlclJvdXRlcyhcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgZnV0dXJlLFxuICAgICAgaXNTcGFNb2RlLFxuICAgICAgcm91dGUuaWQsXG4gICAgICByb3V0ZXNCeVBhcmVudElkLFxuICAgICAgc3BhTW9kZUxhenlQcm9taXNlXG4gICAgKTtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkgZGF0YVJvdXRlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgcmV0dXJuIGRhdGFSb3V0ZTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0KG5lZWRzUmV2YWxpZGF0aW9uLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzQ2FjaGUsIGluaXRpYWxTdGF0ZSwgc3NyLCBpc1NwYU1vZGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudFJvdXRlcyhcbiAgICBtYW5pZmVzdCxcbiAgICByb3V0ZU1vZHVsZXNDYWNoZSxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgc3NyLFxuICAgIGlzU3BhTW9kZSxcbiAgICBcIlwiLFxuICAgIGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCksXG4gICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwodHlwZSwgcm91dGUpIHtcbiAgaWYgKHR5cGUgPT09IFwibG9hZGVyXCIgJiYgIXJvdXRlLmhhc0xvYWRlciB8fCB0eXBlID09PSBcImFjdGlvblwiICYmICFyb3V0ZS5oYXNBY3Rpb24pIHtcbiAgICBsZXQgZm4gPSB0eXBlID09PSBcImFjdGlvblwiID8gXCJzZXJ2ZXJBY3Rpb24oKVwiIDogXCJzZXJ2ZXJMb2FkZXIoKVwiO1xuICAgIGxldCBtc2cgPSBgWW91IGFyZSB0cnlpbmcgdG8gY2FsbCAke2ZufSBvbiBhIHJvdXRlIHRoYXQgZG9lcyBub3QgaGF2ZSBhIHNlcnZlciAke3R5cGV9IChyb3V0ZUlkOiBcIiR7cm91dGUuaWR9XCIpYDtcbiAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgdGhyb3cgbmV3IEVycm9yUmVzcG9uc2VJbXBsKDQwMCwgXCJCYWQgUmVxdWVzdFwiLCBuZXcgRXJyb3IobXNnKSwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vQWN0aW9uRGVmaW5lZEVycm9yKHR5cGUsIHJvdXRlSWQpIHtcbiAgbGV0IGFydGljbGUgPSB0eXBlID09PSBcImNsaWVudEFjdGlvblwiID8gXCJhXCIgOiBcImFuXCI7XG4gIGxldCBtc2cgPSBgUm91dGUgXCIke3JvdXRlSWR9XCIgZG9lcyBub3QgaGF2ZSAke2FydGljbGV9ICR7dHlwZX0sIGJ1dCB5b3UgYXJlIHRyeWluZyB0byBzdWJtaXQgdG8gaXQuIFRvIGZpeCB0aGlzLCBwbGVhc2UgYWRkICR7YXJ0aWNsZX0gXFxgJHt0eXBlfVxcYCBmdW5jdGlvbiB0byB0aGUgcm91dGVgO1xuICBjb25zb2xlLmVycm9yKG1zZyk7XG4gIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDUsIFwiTWV0aG9kIE5vdCBBbGxvd2VkXCIsIG5ldyBFcnJvcihtc2cpLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudFJvdXRlcyhtYW5pZmVzdCwgcm91dGVNb2R1bGVzQ2FjaGUsIGluaXRpYWxTdGF0ZSwgc3NyLCBpc1NwYU1vZGUsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCksIG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+IHtcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZU1vZHVsZXNDYWNoZVtyb3V0ZS5pZF07XG4gICAgZnVuY3Rpb24gZmV0Y2hTZXJ2ZXJIYW5kbGVyKHNpbmdsZUZldGNoKSB7XG4gICAgICBpbnZhcmlhbnQyKFxuICAgICAgICB0eXBlb2Ygc2luZ2xlRmV0Y2ggPT09IFwiZnVuY3Rpb25cIixcbiAgICAgICAgXCJObyBzaW5nbGUgZmV0Y2ggZnVuY3Rpb24gYXZhaWxhYmxlIGZvciByb3V0ZSBoYW5kbGVyXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gc2luZ2xlRmV0Y2goKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpIHtcbiAgICAgIGlmICghcm91dGUuaGFzTG9hZGVyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0FjdGlvbikge1xuICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJIYW5kbGVyKHNpbmdsZUZldGNoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlZmV0Y2hNb2R1bGUobW9kdWxlUGF0aCkge1xuICAgICAgaW1wb3J0KFxuICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICBtb2R1bGVQYXRoXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVmZXRjaFJvdXRlTW9kdWxlQ2h1bmtzKHJvdXRlMikge1xuICAgICAgaWYgKHJvdXRlMi5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgcHJlZmV0Y2hNb2R1bGUocm91dGUyLmNsaWVudEFjdGlvbk1vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAocm91dGUyLmNsaWVudExvYWRlck1vZHVsZSkge1xuICAgICAgICBwcmVmZXRjaE1vZHVsZShyb3V0ZTIuY2xpZW50TG9hZGVyTW9kdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICBsZXQgY2FjaGVkTW9kdWxlID0gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICAgICAgbGV0IGxpbmtQcmVmZXRjaFByb21pc2UgPSBjYWNoZWRNb2R1bGUgPyBwcmVmZXRjaFN0eWxlTGlua3Mocm91dGUsIGNhY2hlZE1vZHVsZSkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBhd2FpdCBsaW5rUHJlZmV0Y2hQcm9taXNlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGF0YVJvdXRlID0ge1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXg6IHJvdXRlLmluZGV4LFxuICAgICAgcGF0aDogcm91dGUucGF0aFxuICAgIH07XG4gICAgaWYgKHJvdXRlTW9kdWxlKSB7XG4gICAgICBPYmplY3QuYXNzaWduKGRhdGFSb3V0ZSwge1xuICAgICAgICAuLi5kYXRhUm91dGUsXG4gICAgICAgIC4uLmdldFJvdXRlQ29tcG9uZW50cyhyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSksXG4gICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IHJvdXRlTW9kdWxlLnVuc3RhYmxlX2NsaWVudE1pZGRsZXdhcmUsXG4gICAgICAgIGhhbmRsZTogcm91dGVNb2R1bGUuaGFuZGxlLFxuICAgICAgICBzaG91bGRSZXZhbGlkYXRlOiBnZXRTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24oXG4gICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgcm91dGUsXG4gICAgICAgICAgc3NyLFxuICAgICAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgICAgIClcbiAgICAgIH0pO1xuICAgICAgbGV0IGhhc0luaXRpYWxEYXRhID0gaW5pdGlhbFN0YXRlICYmIGluaXRpYWxTdGF0ZS5sb2FkZXJEYXRhICYmIHJvdXRlLmlkIGluIGluaXRpYWxTdGF0ZS5sb2FkZXJEYXRhO1xuICAgICAgbGV0IGluaXRpYWxEYXRhID0gaGFzSW5pdGlhbERhdGEgPyBpbml0aWFsU3RhdGU/LmxvYWRlckRhdGE/Lltyb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBsZXQgaGFzSW5pdGlhbEVycm9yID0gaW5pdGlhbFN0YXRlICYmIGluaXRpYWxTdGF0ZS5lcnJvcnMgJiYgcm91dGUuaWQgaW4gaW5pdGlhbFN0YXRlLmVycm9ycztcbiAgICAgIGxldCBpbml0aWFsRXJyb3IgPSBoYXNJbml0aWFsRXJyb3IgPyBpbml0aWFsU3RhdGU/LmVycm9ycz8uW3JvdXRlLmlkXSA6IHZvaWQgMDtcbiAgICAgIGxldCBpc0h5ZHJhdGlvblJlcXVlc3QgPSBuZWVkc1JldmFsaWRhdGlvbiA9PSBudWxsICYmIChyb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXI/Lmh5ZHJhdGUgPT09IHRydWUgfHwgIXJvdXRlLmhhc0xvYWRlcik7XG4gICAgICBkYXRhUm91dGUubG9hZGVyID0gYXN5bmMgKHsgcmVxdWVzdCwgcGFyYW1zLCBjb250ZXh0IH0sIHNpbmdsZUZldGNoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaW52YXJpYW50MihcbiAgICAgICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgICAgIFwiTm8gYHJvdXRlTW9kdWxlYCBhdmFpbGFibGUgZm9yIGNyaXRpY2FsLXJvdXRlIGxvYWRlclwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFyb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIoe1xuICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgIGFzeW5jIHNlcnZlckxvYWRlcigpIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwibG9hZGVyXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNIeWRyYXRpb25SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaGFzSW5pdGlhbERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxEYXRhO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGhhc0luaXRpYWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbml0aWFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaXNIeWRyYXRpb25SZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkYXRhUm91dGUubG9hZGVyLmh5ZHJhdGUgPSBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIoXG4gICAgICAgIHJvdXRlLFxuICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgaXNTcGFNb2RlXG4gICAgICApO1xuICAgICAgZGF0YVJvdXRlLmFjdGlvbiA9ICh7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9LCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaW52YXJpYW50MihcbiAgICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgICAgXCJObyBgcm91dGVNb2R1bGVgIGF2YWlsYWJsZSBmb3IgY3JpdGljYWwtcm91dGUgYWN0aW9uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoaXNTcGFNb2RlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5vQWN0aW9uRGVmaW5lZEVycm9yKFwiY2xpZW50QWN0aW9uXCIsIHJvdXRlLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5jbGllbnRBY3Rpb24oe1xuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJBY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJhY3Rpb25cIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcm91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5sb2FkZXIgPSAoXywgc2luZ2xlRmV0Y2gpID0+IHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IGFzeW5jIChhcmdzLCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICAgIGludmFyaWFudDIocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKTtcbiAgICAgICAgICBsZXQgeyBjbGllbnRMb2FkZXIgfSA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICAgICAgcm91dGUuY2xpZW50TG9hZGVyTW9kdWxlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJsb2FkZXJcIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKCFyb3V0ZS5oYXNDbGllbnRBY3Rpb24pIHtcbiAgICAgICAgZGF0YVJvdXRlLmFjdGlvbiA9IChfLCBzaW5nbGVGZXRjaCkgPT4gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcigoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzU3BhTW9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbm9BY3Rpb25EZWZpbmVkRXJyb3IoXCJjbGllbnRBY3Rpb25cIiwgcm91dGUuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSBhc3luYyAoYXJncywgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgICBpbnZhcmlhbnQyKHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSk7XG4gICAgICAgICAgcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZSk7XG4gICAgICAgICAgbGV0IHsgY2xpZW50QWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgICAgIHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudEFjdGlvbih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyQWN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwiYWN0aW9uXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRhdGFSb3V0ZS5sYXp5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlIHx8IHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9kUHJvbWlzZSA9IGxvYWRSb3V0ZU1vZHVsZVdpdGhCbG9ja2luZ0xpbmtzKFxuICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgIHJvdXRlTW9kdWxlc0NhY2hlXG4gICAgICAgICk7XG4gICAgICAgIHByZWZldGNoUm91dGVNb2R1bGVDaHVua3Mocm91dGUpO1xuICAgICAgICBsZXQgbW9kID0gYXdhaXQgbW9kUHJvbWlzZTtcbiAgICAgICAgbGV0IGxhenlSb3V0ZSA9IHsgLi4ubW9kIH07XG4gICAgICAgIGlmIChtb2QuY2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgbGV0IGNsaWVudExvYWRlciA9IG1vZC5jbGllbnRMb2FkZXI7XG4gICAgICAgICAgbGF6eVJvdXRlLmxvYWRlciA9IChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJsb2FkZXJcIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2QuY2xpZW50QWN0aW9uKSB7XG4gICAgICAgICAgbGV0IGNsaWVudEFjdGlvbiA9IG1vZC5jbGllbnRBY3Rpb247XG4gICAgICAgICAgbGF6eVJvdXRlLmFjdGlvbiA9IChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJBY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJhY3Rpb25cIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubGF6eVJvdXRlLmxvYWRlciA/IHsgbG9hZGVyOiBsYXp5Um91dGUubG9hZGVyIH0gOiB7fSxcbiAgICAgICAgICAuLi5sYXp5Um91dGUuYWN0aW9uID8geyBhY3Rpb246IGxhenlSb3V0ZS5hY3Rpb24gfSA6IHt9LFxuICAgICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IG1vZC51bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlLFxuICAgICAgICAgIGhhc0Vycm9yQm91bmRhcnk6IGxhenlSb3V0ZS5oYXNFcnJvckJvdW5kYXJ5LFxuICAgICAgICAgIHNob3VsZFJldmFsaWRhdGU6IGdldFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbihcbiAgICAgICAgICAgIGxhenlSb3V0ZSxcbiAgICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgICAgc3NyLFxuICAgICAgICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICAgICAgICApLFxuICAgICAgICAgIGhhbmRsZTogbGF6eVJvdXRlLmhhbmRsZSxcbiAgICAgICAgICAvLyBObyBuZWVkIHRvIHdyYXAgdGhlc2UgaW4gbGF5b3V0IHNpbmNlIHRoZSByb290IHJvdXRlIGlzIG5ldmVyXG4gICAgICAgICAgLy8gbG9hZGVkIHZpYSByb3V0ZS5sYXp5KClcbiAgICAgICAgICBDb21wb25lbnQ6IGxhenlSb3V0ZS5Db21wb25lbnQsXG4gICAgICAgICAgRXJyb3JCb3VuZGFyeTogbGF6eVJvdXRlLkVycm9yQm91bmRhcnlcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBjaGlsZHJlbiA9IGNyZWF0ZUNsaWVudFJvdXRlcyhcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzQ2FjaGUsXG4gICAgICBpbml0aWFsU3RhdGUsXG4gICAgICBzc3IsXG4gICAgICBpc1NwYU1vZGUsXG4gICAgICByb3V0ZS5pZCxcbiAgICAgIHJvdXRlc0J5UGFyZW50SWQsXG4gICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIGRhdGFSb3V0ZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHJldHVybiBkYXRhUm91dGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0U2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uKHJvdXRlLCBtYW5pZmVzdFJvdXRlLCBzc3IsIG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gIGlmIChuZWVkc1JldmFsaWRhdGlvbikge1xuICAgIHJldHVybiB3cmFwU2hvdWxkUmV2YWxpZGF0ZUZvckhkcihcbiAgICAgIG1hbmlmZXN0Um91dGUuaWQsXG4gICAgICByb3V0ZS5zaG91bGRSZXZhbGlkYXRlLFxuICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICApO1xuICB9XG4gIGlmICghc3NyICYmIG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyICYmICFtYW5pZmVzdFJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgIGlmIChyb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICBsZXQgZm4gPSByb3V0ZS5zaG91bGRSZXZhbGlkYXRlO1xuICAgICAgcmV0dXJuIChvcHRzKSA9PiBmbih7IC4uLm9wdHMsIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICgpID0+IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoc3NyICYmIHJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICBsZXQgZm4gPSByb3V0ZS5zaG91bGRSZXZhbGlkYXRlO1xuICAgIHJldHVybiAob3B0cykgPT4gZm4oeyAuLi5vcHRzLCBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbn1cbmZ1bmN0aW9uIHdyYXBTaG91bGRSZXZhbGlkYXRlRm9ySGRyKHJvdXRlSWQsIHJvdXRlU2hvdWxkUmV2YWxpZGF0ZSwgbmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgbGV0IGhhbmRsZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcbiAgcmV0dXJuIChhcmcpID0+IHtcbiAgICBpZiAoIWhhbmRsZWRSZXZhbGlkYXRpb24pIHtcbiAgICAgIGhhbmRsZWRSZXZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgcmV0dXJuIG5lZWRzUmV2YWxpZGF0aW9uLmhhcyhyb3V0ZUlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlU2hvdWxkUmV2YWxpZGF0ZSA/IHJvdXRlU2hvdWxkUmV2YWxpZGF0ZShhcmcpIDogYXJnLmRlZmF1bHRTaG91bGRSZXZhbGlkYXRlO1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlTW9kdWxlV2l0aEJsb2NraW5nTGlua3Mocm91dGUsIHJvdXRlTW9kdWxlcykge1xuICBsZXQgcm91dGVNb2R1bGVQcm9taXNlID0gbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXMpO1xuICBsZXQgcHJlZmV0Y2hSb3V0ZUNzc1Byb21pc2UgPSBwcmVmZXRjaFJvdXRlQ3NzKHJvdXRlKTtcbiAgbGV0IHJvdXRlTW9kdWxlID0gYXdhaXQgcm91dGVNb2R1bGVQcm9taXNlO1xuICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgcHJlZmV0Y2hSb3V0ZUNzc1Byb21pc2UsXG4gICAgcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCByb3V0ZU1vZHVsZSlcbiAgXSk7XG4gIHJldHVybiB7XG4gICAgQ29tcG9uZW50OiBnZXRSb3V0ZU1vZHVsZUNvbXBvbmVudChyb3V0ZU1vZHVsZSksXG4gICAgRXJyb3JCb3VuZGFyeTogcm91dGVNb2R1bGUuRXJyb3JCb3VuZGFyeSxcbiAgICB1bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlOiByb3V0ZU1vZHVsZS51bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlLFxuICAgIGNsaWVudEFjdGlvbjogcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uLFxuICAgIGNsaWVudExvYWRlcjogcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyLFxuICAgIGhhbmRsZTogcm91dGVNb2R1bGUuaGFuZGxlLFxuICAgIGxpbmtzOiByb3V0ZU1vZHVsZS5saW5rcyxcbiAgICBtZXRhOiByb3V0ZU1vZHVsZS5tZXRhLFxuICAgIHNob3VsZFJldmFsaWRhdGU6IHJvdXRlTW9kdWxlLnNob3VsZFJldmFsaWRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKSB7XG4gIGlmIChyb3V0ZU1vZHVsZS5kZWZhdWx0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gIGxldCBpc0VtcHR5T2JqZWN0ID0gdHlwZW9mIHJvdXRlTW9kdWxlLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMocm91dGVNb2R1bGUuZGVmYXVsdCkubGVuZ3RoID09PSAwO1xuICBpZiAoIWlzRW1wdHlPYmplY3QpIHtcbiAgICByZXR1cm4gcm91dGVNb2R1bGUuZGVmYXVsdDtcbiAgfVxufVxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSB7XG4gIHJldHVybiBpc1NwYU1vZGUgJiYgcm91dGUuaWQgIT09IFwicm9vdFwiIHx8IHJvdXRlTW9kdWxlLmNsaWVudExvYWRlciAhPSBudWxsICYmIChyb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIuaHlkcmF0ZSA9PT0gdHJ1ZSB8fCByb3V0ZS5oYXNMb2FkZXIgIT09IHRydWUpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mb2ctb2Ytd2FyLnRzXG52YXIgbmV4dFBhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBkaXNjb3ZlcmVkUGF0aHNNYXhTaXplID0gMWUzO1xudmFyIGRpc2NvdmVyZWRQYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgVVJMX0xJTUlUID0gNzY4MDtcbmZ1bmN0aW9uIGlzRm9nT2ZXYXJFbmFibGVkKHNzcikge1xuICByZXR1cm4gc3NyID09PSB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0UGFydGlhbE1hbmlmZXN0KG1hbmlmZXN0LCByb3V0ZXIpIHtcbiAgbGV0IHJvdXRlSWRzID0gbmV3IFNldChyb3V0ZXIuc3RhdGUubWF0Y2hlcy5tYXAoKG0pID0+IG0ucm91dGUuaWQpKTtcbiAgbGV0IHNlZ21lbnRzID0gcm91dGVyLnN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIoQm9vbGVhbik7XG4gIGxldCBwYXRocyA9IFtcIi9cIl07XG4gIHNlZ21lbnRzLnBvcCgpO1xuICB3aGlsZSAoc2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgIHBhdGhzLnB1c2goYC8ke3NlZ21lbnRzLmpvaW4oXCIvXCIpfWApO1xuICAgIHNlZ21lbnRzLnBvcCgpO1xuICB9XG4gIHBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlci5yb3V0ZXMsIHBhdGgsIHJvdXRlci5iYXNlbmFtZSk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMuZm9yRWFjaCgobSkgPT4gcm91dGVJZHMuYWRkKG0ucm91dGUuaWQpKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgaW5pdGlhbFJvdXRlcyA9IFsuLi5yb3V0ZUlkc10ucmVkdWNlKFxuICAgIChhY2MsIGlkKSA9PiBPYmplY3QuYXNzaWduKGFjYywgeyBbaWRdOiBtYW5pZmVzdC5yb3V0ZXNbaWRdIH0pLFxuICAgIHt9XG4gICk7XG4gIHJldHVybiB7XG4gICAgLi4ubWFuaWZlc3QsXG4gICAgcm91dGVzOiBpbml0aWFsUm91dGVzXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uKG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgaXNTcGFNb2RlLCBiYXNlbmFtZSkge1xuICBpZiAoIWlzRm9nT2ZXYXJFbmFibGVkKHNzcikpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHJldHVybiBhc3luYyAoeyBwYXRoLCBwYXRjaCwgc2lnbmFsLCBmZXRjaGVyS2V5IH0pID0+IHtcbiAgICBpZiAoZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgW3BhdGhdLFxuICAgICAgZmV0Y2hlcktleSA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogcGF0aCxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgc3NyLFxuICAgICAgaXNTcGFNb2RlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBwYXRjaCxcbiAgICAgIHNpZ25hbFxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VGb2dPRldhckRpc2NvdmVyeShyb3V0ZXIsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgaXNTcGFNb2RlKSB7XG4gIFJlYWN0OC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNGb2dPZldhckVuYWJsZWQoc3NyKSB8fCBuYXZpZ2F0b3IuY29ubmVjdGlvbj8uc2F2ZURhdGEgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KGVsKSB7XG4gICAgICBsZXQgcGF0aCA9IGVsLnRhZ05hbWUgPT09IFwiRk9STVwiID8gZWwuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpIDogZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcGF0aG5hbWUgPSBlbC50YWdOYW1lID09PSBcIkFcIiA/IGVsLnBhdGhuYW1lIDogbmV3IFVSTChwYXRoLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5wYXRobmFtZTtcbiAgICAgIGlmICghZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRobmFtZSkpIHtcbiAgICAgICAgbmV4dFBhdGhzLmFkZChwYXRobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoUGF0Y2hlcygpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhW2RhdGEtZGlzY292ZXJdLCBmb3JtW2RhdGEtZGlzY292ZXJdXCIpLmZvckVhY2gocmVnaXN0ZXJFbGVtZW50KTtcbiAgICAgIGxldCBsYXp5UGF0aHMgPSBBcnJheS5mcm9tKG5leHRQYXRocy5rZXlzKCkpLmZpbHRlcigocGF0aCkgPT4ge1xuICAgICAgICBpZiAoZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRoKSkge1xuICAgICAgICAgIG5leHRQYXRocy5kZWxldGUocGF0aCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgICBpZiAobGF6eVBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgICAgIGxhenlQYXRocyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG1hbmlmZXN0LFxuICAgICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgICBzc3IsXG4gICAgICAgICAgaXNTcGFNb2RlLFxuICAgICAgICAgIHJvdXRlci5iYXNlbmFtZSxcbiAgICAgICAgICByb3V0ZXIucGF0Y2hSb3V0ZXNcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBtYW5pZmVzdCBwYXRjaGVzXCIsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGVib3VuY2VkRmV0Y2hQYXRjaGVzID0gZGVib3VuY2UoZmV0Y2hQYXRjaGVzLCAxMDApO1xuICAgIGZldGNoUGF0Y2hlcygpO1xuICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IGRlYm91bmNlZEZldGNoUGF0Y2hlcygpKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtcImRhdGEtZGlzY292ZXJcIiwgXCJocmVmXCIsIFwiYWN0aW9uXCJdXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgfSwgW3NzciwgaXNTcGFNb2RlLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCByb3V0ZXJdKTtcbn1cbnZhciBNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZID0gXCJyZWFjdC1yb3V0ZXItbWFuaWZlc3QtdmVyc2lvblwiO1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhwYXRocywgZXJyb3JSZWxvYWRQYXRoLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGlzU3BhTW9kZSwgYmFzZW5hbWUsIHBhdGNoUm91dGVzLCBzaWduYWwpIHtcbiAgbGV0IG1hbmlmZXN0UGF0aCA9IGAke2Jhc2VuYW1lICE9IG51bGwgPyBiYXNlbmFtZSA6IFwiL1wifS9fX21hbmlmZXN0YC5yZXBsYWNlKFxuICAgIC9cXC8rL2csXG4gICAgXCIvXCJcbiAgKTtcbiAgbGV0IHVybCA9IG5ldyBVUkwobWFuaWZlc3RQYXRoLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKTtcbiAgcGF0aHMuc29ydCgpLmZvckVhY2goKHBhdGgpID0+IHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwicFwiLCBwYXRoKSk7XG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwidmVyc2lvblwiLCBtYW5pZmVzdC52ZXJzaW9uKTtcbiAgaWYgKHVybC50b1N0cmluZygpLmxlbmd0aCA+IFVSTF9MSU1JVCkge1xuICAgIG5leHRQYXRocy5jbGVhcigpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2VydmVyUGF0Y2hlcztcbiAgdHJ5IHtcbiAgICBsZXQgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IHNpZ25hbCB9KTtcbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSAyMDQgJiYgcmVzLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIikpIHtcbiAgICAgIGlmICghZXJyb3JSZWxvYWRQYXRoKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkRldGVjdGVkIGEgbWFuaWZlc3QgdmVyc2lvbiBtaXNtYXRjaCBkdXJpbmcgZWFnZXIgcm91dGUgZGlzY292ZXJ5LiBUaGUgbmV4dCBuYXZpZ2F0aW9uL2ZldGNoIHRvIGFuIHVuZGlzY292ZXJlZCByb3V0ZSB3aWxsIHJlc3VsdCBpbiBhIG5ldyBkb2N1bWVudCBuYXZpZ2F0aW9uIHRvIHN5bmMgdXAgd2l0aCB0aGUgbGF0ZXN0IG1hbmlmZXN0LlwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVkpID09PSBtYW5pZmVzdC52ZXJzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVbmFibGUgdG8gZGlzY292ZXIgcm91dGVzIGR1ZSB0byBtYW5pZmVzdCB2ZXJzaW9uIG1pc21hdGNoLlwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSwgbWFuaWZlc3QudmVyc2lvbik7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGVycm9yUmVsb2FkUGF0aDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRldGVjdGVkIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2gsIHJlbG9hZGluZy4uLlwiKTtcbiAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSk7XG4gICAgc2VydmVyUGF0Y2hlcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoc2lnbmFsPy5hYm9ydGVkKSByZXR1cm47XG4gICAgdGhyb3cgZTtcbiAgfVxuICBsZXQga25vd25Sb3V0ZXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKG1hbmlmZXN0LnJvdXRlcykpO1xuICBsZXQgcGF0Y2hlcyA9IE9iamVjdC52YWx1ZXMoc2VydmVyUGF0Y2hlcykucmVkdWNlKChhY2MsIHJvdXRlKSA9PiB7XG4gICAgaWYgKHJvdXRlICYmICFrbm93blJvdXRlcy5oYXMocm91dGUuaWQpKSB7XG4gICAgICBhY2Nbcm91dGUuaWRdID0gcm91dGU7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgT2JqZWN0LmFzc2lnbihtYW5pZmVzdC5yb3V0ZXMsIHBhdGNoZXMpO1xuICBwYXRocy5mb3JFYWNoKChwKSA9PiBhZGRUb0ZpZm9RdWV1ZShwLCBkaXNjb3ZlcmVkUGF0aHMpKTtcbiAgbGV0IHBhcmVudElkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIE9iamVjdC52YWx1ZXMocGF0Y2hlcykuZm9yRWFjaCgocGF0Y2gpID0+IHtcbiAgICBpZiAocGF0Y2ggJiYgKCFwYXRjaC5wYXJlbnRJZCB8fCAhcGF0Y2hlc1twYXRjaC5wYXJlbnRJZF0pKSB7XG4gICAgICBwYXJlbnRJZHMuYWRkKHBhdGNoLnBhcmVudElkKTtcbiAgICB9XG4gIH0pO1xuICBwYXJlbnRJZHMuZm9yRWFjaChcbiAgICAocGFyZW50SWQpID0+IHBhdGNoUm91dGVzKFxuICAgICAgcGFyZW50SWQgfHwgbnVsbCxcbiAgICAgIGNyZWF0ZUNsaWVudFJvdXRlcyhwYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG51bGwsIHNzciwgaXNTcGFNb2RlLCBwYXJlbnRJZClcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBhZGRUb0ZpZm9RdWV1ZShwYXRoLCBxdWV1ZSkge1xuICBpZiAocXVldWUuc2l6ZSA+PSBkaXNjb3ZlcmVkUGF0aHNNYXhTaXplKSB7XG4gICAgbGV0IGZpcnN0ID0gcXVldWUudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIHF1ZXVlLmRlbGV0ZShmaXJzdCk7XG4gIH1cbiAgcXVldWUuYWRkKHBhdGgpO1xufVxuZnVuY3Rpb24gZGVib3VuY2UoY2FsbGJhY2ssIHdhaXQpIHtcbiAgbGV0IHRpbWVvdXRJZDtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKC4uLmFyZ3MpLCB3YWl0KTtcbiAgfTtcbn1cblxuLy8gbGliL2RvbS9zc3IvY29tcG9uZW50cy50c3hcbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0MigpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudDIoXG4gICAgY29udGV4dCxcbiAgICBcIllvdSBtdXN0IHJlbmRlciB0aGlzIGVsZW1lbnQgaW5zaWRlIGEgPERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyPiBlbGVtZW50XCJcbiAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCkge1xuICBsZXQgY29udGV4dCA9IFJlYWN0OS51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyPiBlbGVtZW50XCJcbiAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG52YXIgRnJhbWV3b3JrQ29udGV4dCA9IFJlYWN0OS5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5GcmFtZXdvcmtDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJGcmFtZXdvcmtDb250ZXh0XCI7XG5mdW5jdGlvbiB1c2VGcmFtZXdvcmtDb250ZXh0KCkge1xuICBsZXQgY29udGV4dCA9IFJlYWN0OS51c2VDb250ZXh0KEZyYW1ld29ya0NvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxIeWRyYXRlZFJvdXRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdXNlUHJlZmV0Y2hCZWhhdmlvcihwcmVmZXRjaCwgdGhlaXJFbGVtZW50UHJvcHMpIHtcbiAgbGV0IGZyYW1ld29ya0NvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgbGV0IFttYXliZVByZWZldGNoLCBzZXRNYXliZVByZWZldGNoXSA9IFJlYWN0OS51c2VTdGF0ZShmYWxzZSk7XG4gIGxldCBbc2hvdWxkUHJlZmV0Y2gsIHNldFNob3VsZFByZWZldGNoXSA9IFJlYWN0OS51c2VTdGF0ZShmYWxzZSk7XG4gIGxldCB7IG9uRm9jdXMsIG9uQmx1ciwgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUsIG9uVG91Y2hTdGFydCB9ID0gdGhlaXJFbGVtZW50UHJvcHM7XG4gIGxldCByZWYgPSBSZWFjdDkudXNlUmVmKG51bGwpO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJlZmV0Y2ggPT09IFwicmVuZGVyXCIpIHtcbiAgICAgIHNldFNob3VsZFByZWZldGNoKHRydWUpO1xuICAgIH1cbiAgICBpZiAocHJlZmV0Y2ggPT09IFwidmlld3BvcnRcIikge1xuICAgICAgbGV0IGNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgIHNldFNob3VsZFByZWZldGNoKGVudHJ5LmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgbGV0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCB7IHRocmVzaG9sZDogMC41IH0pO1xuICAgICAgaWYgKHJlZi5jdXJyZW50KSBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbcHJlZmV0Y2hdKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1heWJlUHJlZmV0Y2gpIHtcbiAgICAgIGxldCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG91bGRQcmVmZXRjaCh0cnVlKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFttYXliZVByZWZldGNoXSk7XG4gIGxldCBzZXRJbnRlbnQgPSAoKSA9PiB7XG4gICAgc2V0TWF5YmVQcmVmZXRjaCh0cnVlKTtcbiAgfTtcbiAgbGV0IGNhbmNlbEludGVudCA9ICgpID0+IHtcbiAgICBzZXRNYXliZVByZWZldGNoKGZhbHNlKTtcbiAgICBzZXRTaG91bGRQcmVmZXRjaChmYWxzZSk7XG4gIH07XG4gIGlmICghZnJhbWV3b3JrQ29udGV4dCkge1xuICAgIHJldHVybiBbZmFsc2UsIHJlZiwge31dO1xuICB9XG4gIGlmIChwcmVmZXRjaCAhPT0gXCJpbnRlbnRcIikge1xuICAgIHJldHVybiBbc2hvdWxkUHJlZmV0Y2gsIHJlZiwge31dO1xuICB9XG4gIHJldHVybiBbXG4gICAgc2hvdWxkUHJlZmV0Y2gsXG4gICAgcmVmLFxuICAgIHtcbiAgICAgIG9uRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uRm9jdXMsIHNldEludGVudCksXG4gICAgICBvbkJsdXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uQmx1ciwgY2FuY2VsSW50ZW50KSxcbiAgICAgIG9uTW91c2VFbnRlcjogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Nb3VzZUVudGVyLCBzZXRJbnRlbnQpLFxuICAgICAgb25Nb3VzZUxlYXZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbk1vdXNlTGVhdmUsIGNhbmNlbEludGVudCksXG4gICAgICBvblRvdWNoU3RhcnQ6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uVG91Y2hTdGFydCwgc2V0SW50ZW50KVxuICAgIH1cbiAgXTtcbn1cbmZ1bmN0aW9uIGNvbXBvc2VFdmVudEhhbmRsZXJzKHRoZWlySGFuZGxlciwgb3VySGFuZGxlcikge1xuICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgdGhlaXJIYW5kbGVyICYmIHRoZWlySGFuZGxlcihldmVudCk7XG4gICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBvdXJIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRBY3RpdmVNYXRjaGVzKG1hdGNoZXMsIGVycm9ycywgaXNTcGFNb2RlKSB7XG4gIGlmIChpc1NwYU1vZGUgJiYgIWlzSHlkcmF0ZWQpIHtcbiAgICByZXR1cm4gW21hdGNoZXNbMF1dO1xuICB9XG4gIGlmIChlcnJvcnMpIHtcbiAgICBsZXQgZXJyb3JJZHggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gZXJyb3JzW20ucm91dGUuaWRdICE9PSB2b2lkIDApO1xuICAgIHJldHVybiBtYXRjaGVzLnNsaWNlKDAsIGVycm9ySWR4ICsgMSk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBMaW5rcygpIHtcbiAgbGV0IHsgaXNTcGFNb2RlLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBjcml0aWNhbENzcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgeyBlcnJvcnMsIG1hdGNoZXM6IHJvdXRlck1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IG1hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIGVycm9ycywgaXNTcGFNb2RlKTtcbiAgbGV0IGtleWVkTGlua3MgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXRLZXllZExpbmtzRm9yTWF0Y2hlcyhtYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0KSxcbiAgICBbbWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIHR5cGVvZiBjcml0aWNhbENzcyA9PT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBjcml0aWNhbENzcyB9IH0pIDogbnVsbCwgdHlwZW9mIGNyaXRpY2FsQ3NzID09PSBcIm9iamVjdFwiID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWY6IGNyaXRpY2FsQ3NzLmhyZWYgfSkgOiBudWxsLCBrZXllZExpbmtzLm1hcChcbiAgICAoeyBrZXksIGxpbmsgfSkgPT4gaXNQYWdlTGlua0Rlc2NyaXB0b3IobGluaykgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3MsIHsga2V5LCAuLi5saW5rIH0pIDogLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleSwgLi4ubGluayB9KVxuICApKTtcbn1cbmZ1bmN0aW9uIFByZWZldGNoUGFnZUxpbmtzKHtcbiAgcGFnZSxcbiAgLi4uZGF0YUxpbmtQcm9wc1xufSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MigpO1xuICBsZXQgbWF0Y2hlcyA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoUm91dGVzKHJvdXRlci5yb3V0ZXMsIHBhZ2UsIHJvdXRlci5iYXNlbmFtZSksXG4gICAgW3JvdXRlci5yb3V0ZXMsIHBhZ2UsIHJvdXRlci5iYXNlbmFtZV1cbiAgKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChQcmVmZXRjaFBhZ2VMaW5rc0ltcGwsIHsgcGFnZSwgbWF0Y2hlcywgLi4uZGF0YUxpbmtQcm9wcyB9KTtcbn1cbmZ1bmN0aW9uIHVzZUtleWVkUHJlZmV0Y2hMaW5rcyhtYXRjaGVzKSB7XG4gIGxldCB7IG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IFtrZXllZFByZWZldGNoTGlua3MsIHNldEtleWVkUHJlZmV0Y2hMaW5rc10gPSBSZWFjdDkudXNlU3RhdGUoW10pO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICB2b2lkIGdldEtleWVkUHJlZmV0Y2hMaW5rcyhtYXRjaGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzKS50aGVuKFxuICAgICAgKGxpbmtzKSA9PiB7XG4gICAgICAgIGlmICghaW50ZXJydXB0ZWQpIHtcbiAgICAgICAgICBzZXRLZXllZFByZWZldGNoTGlua3MobGlua3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaW50ZXJydXB0ZWQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFttYXRjaGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzXSk7XG4gIHJldHVybiBrZXllZFByZWZldGNoTGlua3M7XG59XG5mdW5jdGlvbiBQcmVmZXRjaFBhZ2VMaW5rc0ltcGwoe1xuICBwYWdlLFxuICBtYXRjaGVzOiBuZXh0TWF0Y2hlcyxcbiAgLi4ubGlua1Byb3BzXG59KSB7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCB7IG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MigpO1xuICBsZXQgeyBsb2FkZXJEYXRhLCBtYXRjaGVzIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBuZXdNYXRjaGVzRm9yRGF0YSA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IGdldE5ld01hdGNoZXNGb3JMaW5rcyhcbiAgICAgIHBhZ2UsXG4gICAgICBuZXh0TWF0Y2hlcyxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgXCJkYXRhXCJcbiAgICApLFxuICAgIFtwYWdlLCBuZXh0TWF0Y2hlcywgbWF0Y2hlcywgbWFuaWZlc3QsIGxvY2F0aW9uXVxuICApO1xuICBsZXQgbmV3TWF0Y2hlc0ZvckFzc2V0cyA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IGdldE5ld01hdGNoZXNGb3JMaW5rcyhcbiAgICAgIHBhZ2UsXG4gICAgICBuZXh0TWF0Y2hlcyxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgXCJhc3NldHNcIlxuICAgICksXG4gICAgW3BhZ2UsIG5leHRNYXRjaGVzLCBtYXRjaGVzLCBtYW5pZmVzdCwgbG9jYXRpb25dXG4gICk7XG4gIGxldCBkYXRhSHJlZnMgPSBSZWFjdDkudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHBhZ2UgPT09IGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgbG9jYXRpb24uaGFzaCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgcm91dGVzUGFyYW1zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgZm91bmRPcHRPdXRSb3V0ZSA9IGZhbHNlO1xuICAgIG5leHRNYXRjaGVzLmZvckVhY2goKG0pID0+IHtcbiAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdO1xuICAgICAgaWYgKCFtYW5pZmVzdFJvdXRlIHx8ICFtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIW5ld01hdGNoZXNGb3JEYXRhLnNvbWUoKG0yKSA9PiBtMi5yb3V0ZS5pZCA9PT0gbS5yb3V0ZS5pZCkgJiYgbS5yb3V0ZS5pZCBpbiBsb2FkZXJEYXRhICYmIHJvdXRlTW9kdWxlc1ttLnJvdXRlLmlkXT8uc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAobWFuaWZlc3RSb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXNQYXJhbXMuYWRkKG0ucm91dGUuaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyb3V0ZXNQYXJhbXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgdXJsID0gc2luZ2xlRmV0Y2hVcmwocGFnZSwgYmFzZW5hbWUpO1xuICAgIGlmIChmb3VuZE9wdE91dFJvdXRlICYmIHJvdXRlc1BhcmFtcy5zaXplID4gMCkge1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXG4gICAgICAgIFwiX3JvdXRlc1wiLFxuICAgICAgICBuZXh0TWF0Y2hlcy5maWx0ZXIoKG0pID0+IHJvdXRlc1BhcmFtcy5oYXMobS5yb3V0ZS5pZCkpLm1hcCgobSkgPT4gbS5yb3V0ZS5pZCkuam9pbihcIixcIilcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBbdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaF07XG4gIH0sIFtcbiAgICBiYXNlbmFtZSxcbiAgICBsb2FkZXJEYXRhLFxuICAgIGxvY2F0aW9uLFxuICAgIG1hbmlmZXN0LFxuICAgIG5ld01hdGNoZXNGb3JEYXRhLFxuICAgIG5leHRNYXRjaGVzLFxuICAgIHBhZ2UsXG4gICAgcm91dGVNb2R1bGVzXG4gIF0pO1xuICBsZXQgbW9kdWxlSHJlZnMgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXRNb2R1bGVMaW5rSHJlZnMobmV3TWF0Y2hlc0ZvckFzc2V0cywgbWFuaWZlc3QpLFxuICAgIFtuZXdNYXRjaGVzRm9yQXNzZXRzLCBtYW5pZmVzdF1cbiAgKTtcbiAgbGV0IGtleWVkUHJlZmV0Y2hMaW5rcyA9IHVzZUtleWVkUHJlZmV0Y2hMaW5rcyhuZXdNYXRjaGVzRm9yQXNzZXRzKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIGRhdGFIcmVmcy5tYXAoKGhyZWYyKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsga2V5OiBocmVmMiwgcmVsOiBcInByZWZldGNoXCIsIGFzOiBcImZldGNoXCIsIGhyZWY6IGhyZWYyLCAuLi5saW5rUHJvcHMgfSkpLCBtb2R1bGVIcmVmcy5tYXAoKGhyZWYyKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsga2V5OiBocmVmMiwgcmVsOiBcIm1vZHVsZXByZWxvYWRcIiwgaHJlZjogaHJlZjIsIC4uLmxpbmtQcm9wcyB9KSksIGtleWVkUHJlZmV0Y2hMaW5rcy5tYXAoKHsga2V5LCBsaW5rIH0pID0+IChcbiAgICAvLyB0aGVzZSBkb24ndCBzcHJlYWQgYGxpbmtQcm9wc2AgYmVjYXVzZSB0aGV5IGFyZSBmdWxsIGxpbmsgZGVzY3JpcHRvcnNcbiAgICAvLyBhbHJlYWR5IHdpdGggdGhlaXIgb3duIHByb3BzXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleSwgLi4ubGluayB9KVxuICApKSk7XG59XG5mdW5jdGlvbiBNZXRhKCkge1xuICBsZXQgeyBpc1NwYU1vZGUsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQge1xuICAgIGVycm9ycyxcbiAgICBtYXRjaGVzOiByb3V0ZXJNYXRjaGVzLFxuICAgIGxvYWRlckRhdGFcbiAgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IF9tYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSk7XG4gIGxldCBlcnJvciA9IG51bGw7XG4gIGlmIChlcnJvcnMpIHtcbiAgICBlcnJvciA9IGVycm9yc1tfbWF0Y2hlc1tfbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5pZF07XG4gIH1cbiAgbGV0IG1ldGEgPSBbXTtcbiAgbGV0IGxlYWZNZXRhID0gbnVsbDtcbiAgbGV0IG1hdGNoZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBfbWF0Y2ggPSBfbWF0Y2hlc1tpXTtcbiAgICBsZXQgcm91dGVJZCA9IF9tYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgZGF0YTIgPSBsb2FkZXJEYXRhW3JvdXRlSWRdO1xuICAgIGxldCBwYXJhbXMgPSBfbWF0Y2gucGFyYW1zO1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZUlkXTtcbiAgICBsZXQgcm91dGVNZXRhID0gW107XG4gICAgbGV0IG1hdGNoID0ge1xuICAgICAgaWQ6IHJvdXRlSWQsXG4gICAgICBkYXRhOiBkYXRhMixcbiAgICAgIG1ldGE6IFtdLFxuICAgICAgcGFyYW1zOiBfbWF0Y2gucGFyYW1zLFxuICAgICAgcGF0aG5hbWU6IF9tYXRjaC5wYXRobmFtZSxcbiAgICAgIGhhbmRsZTogX21hdGNoLnJvdXRlLmhhbmRsZSxcbiAgICAgIGVycm9yXG4gICAgfTtcbiAgICBtYXRjaGVzW2ldID0gbWF0Y2g7XG4gICAgaWYgKHJvdXRlTW9kdWxlPy5tZXRhKSB7XG4gICAgICByb3V0ZU1ldGEgPSB0eXBlb2Ygcm91dGVNb2R1bGUubWV0YSA9PT0gXCJmdW5jdGlvblwiID8gcm91dGVNb2R1bGUubWV0YSh7XG4gICAgICAgIGRhdGE6IGRhdGEyLFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBlcnJvclxuICAgICAgfSkgOiBBcnJheS5pc0FycmF5KHJvdXRlTW9kdWxlLm1ldGEpID8gWy4uLnJvdXRlTW9kdWxlLm1ldGFdIDogcm91dGVNb2R1bGUubWV0YTtcbiAgICB9IGVsc2UgaWYgKGxlYWZNZXRhKSB7XG4gICAgICByb3V0ZU1ldGEgPSBbLi4ubGVhZk1ldGFdO1xuICAgIH1cbiAgICByb3V0ZU1ldGEgPSByb3V0ZU1ldGEgfHwgW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJvdXRlTWV0YSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgcm91dGUgYXQgXCIgKyBfbWF0Y2gucm91dGUucGF0aCArIFwiIHJldHVybnMgYW4gaW52YWxpZCB2YWx1ZS4gQWxsIHJvdXRlIG1ldGEgZnVuY3Rpb25zIG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIG1ldGEgb2JqZWN0cy5cXG5cXG5UbyByZWZlcmVuY2UgdGhlIG1ldGEgZnVuY3Rpb24gQVBJLCBzZWUgaHR0cHM6Ly9yZW1peC5ydW4vcm91dGUvbWV0YVwiXG4gICAgICApO1xuICAgIH1cbiAgICBtYXRjaC5tZXRhID0gcm91dGVNZXRhO1xuICAgIG1hdGNoZXNbaV0gPSBtYXRjaDtcbiAgICBtZXRhID0gWy4uLnJvdXRlTWV0YV07XG4gICAgbGVhZk1ldGEgPSBtZXRhO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCBtZXRhLmZsYXQoKS5tYXAoKG1ldGFQcm9wcykgPT4ge1xuICAgIGlmICghbWV0YVByb3BzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKFwidGFnTmFtZVwiIGluIG1ldGFQcm9wcykge1xuICAgICAgbGV0IHsgdGFnTmFtZSwgLi4ucmVzdCB9ID0gbWV0YVByb3BzO1xuICAgICAgaWYgKCFpc1ZhbGlkTWV0YVRhZyh0YWdOYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYEEgbWV0YSBvYmplY3QgdXNlcyBhbiBpbnZhbGlkIHRhZ05hbWU6ICR7dGFnTmFtZX0uIEV4cGVjdGVkIGVpdGhlciAnbGluaycgb3IgJ21ldGEnYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGxldCBDb21wID0gdGFnTmFtZTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoQ29tcCwgeyBrZXk6IEpTT04uc3RyaW5naWZ5KHJlc3QpLCAuLi5yZXN0IH0pO1xuICAgIH1cbiAgICBpZiAoXCJ0aXRsZVwiIGluIG1ldGFQcm9wcykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIHsga2V5OiBcInRpdGxlXCIgfSwgU3RyaW5nKG1ldGFQcm9wcy50aXRsZSkpO1xuICAgIH1cbiAgICBpZiAoXCJjaGFyc2V0XCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICBtZXRhUHJvcHMuY2hhclNldCA/PyAobWV0YVByb3BzLmNoYXJTZXQgPSBtZXRhUHJvcHMuY2hhcnNldCk7XG4gICAgICBkZWxldGUgbWV0YVByb3BzLmNoYXJzZXQ7XG4gICAgfVxuICAgIGlmIChcImNoYXJTZXRcIiBpbiBtZXRhUHJvcHMgJiYgbWV0YVByb3BzLmNoYXJTZXQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBtZXRhUHJvcHMuY2hhclNldCA9PT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBrZXk6IFwiY2hhclNldFwiLCBjaGFyU2V0OiBtZXRhUHJvcHMuY2hhclNldCB9KSA6IG51bGw7XG4gICAgfVxuICAgIGlmIChcInNjcmlwdDpsZCtqc29uXCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KG1ldGFQcm9wc1tcInNjcmlwdDpsZCtqc29uXCJdKTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcInNjcmlwdFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogYHNjcmlwdDpsZCtqc29uOiR7anNvbn1gLFxuICAgICAgICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIsXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGpzb24gfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBrZXk6IEpTT04uc3RyaW5naWZ5KG1ldGFQcm9wcyksIC4uLm1ldGFQcm9wcyB9KTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gaXNWYWxpZE1ldGFUYWcodGFnTmFtZSkge1xuICByZXR1cm4gdHlwZW9mIHRhZ05hbWUgPT09IFwic3RyaW5nXCIgJiYgL14obWV0YXxsaW5rKSQvLnRlc3QodGFnTmFtZSk7XG59XG52YXIgaXNIeWRyYXRlZCA9IGZhbHNlO1xuZnVuY3Rpb24gU2NyaXB0cyhwcm9wcykge1xuICBsZXQgeyBtYW5pZmVzdCwgc2VydmVySGFuZG9mZlN0cmluZywgaXNTcGFNb2RlLCBzc3IsIHJlbmRlck1ldGEgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgcm91dGVyLCBzdGF0aWM6IGlzU3RhdGljLCBzdGF0aWNDb250ZXh0IH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IHsgbWF0Y2hlczogcm91dGVyTWF0Y2hlcyB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgZW5hYmxlRm9nT2ZXYXIgPSBpc0ZvZ09mV2FyRW5hYmxlZChzc3IpO1xuICBpZiAocmVuZGVyTWV0YSkge1xuICAgIHJlbmRlck1ldGEuZGlkUmVuZGVyU2NyaXB0cyA9IHRydWU7XG4gIH1cbiAgbGV0IG1hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIG51bGwsIGlzU3BhTW9kZSk7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlzSHlkcmF0ZWQgPSB0cnVlO1xuICB9LCBbXSk7XG4gIGxldCBpbml0aWFsU2NyaXB0cyA9IFJlYWN0OS51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgc3RyZWFtU2NyaXB0ID0gXCJ3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydChjb250cm9sbGVyKXt3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7fX0pLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKTtcIjtcbiAgICBsZXQgY29udGV4dFNjcmlwdCA9IHN0YXRpY0NvbnRleHQgPyBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0ID0gJHtzZXJ2ZXJIYW5kb2ZmU3RyaW5nfTske3N0cmVhbVNjcmlwdH1gIDogXCIgXCI7XG4gICAgbGV0IHJvdXRlTW9kdWxlc1NjcmlwdCA9ICFpc1N0YXRpYyA/IFwiIFwiIDogYCR7bWFuaWZlc3QuaG1yPy5ydW50aW1lID8gYGltcG9ydCAke0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0Lmhtci5ydW50aW1lKX07YCA6IFwiXCJ9JHshZW5hYmxlRm9nT2ZXYXIgPyBgaW1wb3J0ICR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QudXJsKX1gIDogXCJcIn07XG4ke21hdGNoZXMubWFwKChtYXRjaCwgcm91dGVJbmRleCkgPT4ge1xuICAgICAgbGV0IHJvdXRlVmFyTmFtZSA9IGByb3V0ZSR7cm91dGVJbmRleH1gO1xuICAgICAgbGV0IG1hbmlmZXN0RW50cnkgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaW52YXJpYW50MihtYW5pZmVzdEVudHJ5LCBgUm91dGUgJHttYXRjaC5yb3V0ZS5pZH0gbm90IGZvdW5kIGluIG1hbmlmZXN0YCk7XG4gICAgICBsZXQge1xuICAgICAgICBjbGllbnRBY3Rpb25Nb2R1bGUsXG4gICAgICAgIGNsaWVudExvYWRlck1vZHVsZSxcbiAgICAgICAgaHlkcmF0ZUZhbGxiYWNrTW9kdWxlLFxuICAgICAgICBtb2R1bGVcbiAgICAgIH0gPSBtYW5pZmVzdEVudHJ5O1xuICAgICAgbGV0IGNodW5rcyA9IFtcbiAgICAgICAgLi4uY2xpZW50QWN0aW9uTW9kdWxlID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZHVsZTogY2xpZW50QWN0aW9uTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9jbGllbnRBY3Rpb25gXG4gICAgICAgICAgfVxuICAgICAgICBdIDogW10sXG4gICAgICAgIC4uLmNsaWVudExvYWRlck1vZHVsZSA/IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtb2R1bGU6IGNsaWVudExvYWRlck1vZHVsZSxcbiAgICAgICAgICAgIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fY2xpZW50TG9hZGVyYFxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdLFxuICAgICAgICAuLi5oeWRyYXRlRmFsbGJhY2tNb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBoeWRyYXRlRmFsbGJhY2tNb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X0h5ZHJhdGVGYWxsYmFja2BcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgeyBtb2R1bGUsIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fbWFpbmAgfVxuICAgICAgXTtcbiAgICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBgaW1wb3J0ICogYXMgJHtyb3V0ZVZhck5hbWV9IGZyb20gJHtKU09OLnN0cmluZ2lmeShtb2R1bGUpfTtgO1xuICAgICAgfVxuICAgICAgbGV0IGNodW5rSW1wb3J0c1NuaXBwZXQgPSBjaHVua3MubWFwKChjaHVuaykgPT4gYGltcG9ydCAqIGFzICR7Y2h1bmsudmFyTmFtZX0gZnJvbSBcIiR7Y2h1bmsubW9kdWxlfVwiO2ApLmpvaW4oXCJcXG5cIik7XG4gICAgICBsZXQgbWVyZ2VkQ2h1bmtzU25pcHBldCA9IGBjb25zdCAke3JvdXRlVmFyTmFtZX0gPSB7JHtjaHVua3MubWFwKChjaHVuaykgPT4gYC4uLiR7Y2h1bmsudmFyTmFtZX1gKS5qb2luKFwiLFwiKX19O2A7XG4gICAgICByZXR1cm4gW2NodW5rSW1wb3J0c1NuaXBwZXQsIG1lcmdlZENodW5rc1NuaXBwZXRdLmpvaW4oXCJcXG5cIik7XG4gICAgfSkuam9pbihcIlxcblwiKX1cbiAgJHtlbmFibGVGb2dPZldhciA/IChcbiAgICAgIC8vIElubGluZSBhIG1pbmltYWwgbWFuaWZlc3Qgd2l0aCB0aGUgU1NSIG1hdGNoZXNcbiAgICAgIGB3aW5kb3cuX19yZWFjdFJvdXRlck1hbmlmZXN0ID0gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgZ2V0UGFydGlhbE1hbmlmZXN0KG1hbmlmZXN0LCByb3V0ZXIpLFxuICAgICAgICBudWxsLFxuICAgICAgICAyXG4gICAgICApfTtgXG4gICAgKSA6IFwiXCJ9XG4gIHdpbmRvdy5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzID0geyR7bWF0Y2hlcy5tYXAoKG1hdGNoLCBpbmRleCkgPT4gYCR7SlNPTi5zdHJpbmdpZnkobWF0Y2gucm91dGUuaWQpfTpyb3V0ZSR7aW5kZXh9YCkuam9pbihcIixcIil9fTtcblxuaW1wb3J0KCR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QuZW50cnkubW9kdWxlKX0pO2A7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICAgIFwic2NyaXB0XCIsXG4gICAgICB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBjcmVhdGVIdG1sKGNvbnRleHRTY3JpcHQpLFxuICAgICAgICB0eXBlOiB2b2lkIDBcbiAgICAgIH1cbiAgICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogY3JlYXRlSHRtbChyb3V0ZU1vZHVsZXNTY3JpcHQpLFxuICAgICAgICB0eXBlOiBcIm1vZHVsZVwiLFxuICAgICAgICBhc3luYzogdHJ1ZVxuICAgICAgfVxuICAgICkpO1xuICB9LCBbXSk7XG4gIGxldCBwcmVsb2FkcyA9IGlzSHlkcmF0ZWQgPyBbXSA6IG1hbmlmZXN0LmVudHJ5LmltcG9ydHMuY29uY2F0KFxuICAgIGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCwge1xuICAgICAgaW5jbHVkZUh5ZHJhdGVGYWxsYmFjazogdHJ1ZVxuICAgIH0pXG4gICk7XG4gIHJldHVybiBpc0h5ZHJhdGVkID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsICFlbmFibGVGb2dPZldhciA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBcImxpbmtcIixcbiAgICB7XG4gICAgICByZWw6IFwibW9kdWxlcHJlbG9hZFwiLFxuICAgICAgaHJlZjogbWFuaWZlc3QudXJsLFxuICAgICAgY3Jvc3NPcmlnaW46IHByb3BzLmNyb3NzT3JpZ2luXG4gICAgfVxuICApIDogbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBtYW5pZmVzdC5lbnRyeS5tb2R1bGUsXG4gICAgICBjcm9zc09yaWdpbjogcHJvcHMuY3Jvc3NPcmlnaW5cbiAgICB9XG4gICksIGRlZHVwZShwcmVsb2FkcykubWFwKChwYXRoKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJsaW5rXCIsXG4gICAge1xuICAgICAga2V5OiBwYXRoLFxuICAgICAgcmVsOiBcIm1vZHVsZXByZWxvYWRcIixcbiAgICAgIGhyZWY6IHBhdGgsXG4gICAgICBjcm9zc09yaWdpbjogcHJvcHMuY3Jvc3NPcmlnaW5cbiAgICB9XG4gICkpLCBpbml0aWFsU2NyaXB0cyk7XG59XG5mdW5jdGlvbiBkZWR1cGUoYXJyYXkpIHtcbiAgcmV0dXJuIFsuLi5uZXcgU2V0KGFycmF5KV07XG59XG5mdW5jdGlvbiBtZXJnZVJlZnMoLi4ucmVmcykge1xuICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgcmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmVmKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gbGliL2RvbS9saWIudHN4XG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbnRyeSB7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICB3aW5kb3cuX19yZWFjdFJvdXRlclZlcnNpb24gPSBcIjcuMy4wXCI7XG4gIH1cbn0gY2F0Y2ggKGUpIHtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJSb3V0ZXIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVSb3V0ZXIoe1xuICAgIGJhc2VuYW1lOiBvcHRzPy5iYXNlbmFtZSxcbiAgICB1bnN0YWJsZV9nZXRDb250ZXh0OiBvcHRzPy51bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgIGZ1dHVyZTogb3B0cz8uZnV0dXJlLFxuICAgIGhpc3Rvcnk6IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KHsgd2luZG93OiBvcHRzPy53aW5kb3cgfSksXG4gICAgaHlkcmF0aW9uRGF0YTogb3B0cz8uaHlkcmF0aW9uRGF0YSB8fCBwYXJzZUh5ZHJhdGlvbkRhdGEoKSxcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIGRhdGFTdHJhdGVneTogb3B0cz8uZGF0YVN0cmF0ZWd5LFxuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uOiBvcHRzPy5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbixcbiAgICB3aW5kb3c6IG9wdHM/LndpbmRvd1xuICB9KS5pbml0aWFsaXplKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVIYXNoUm91dGVyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgdW5zdGFibGVfZ2V0Q29udGV4dDogb3B0cz8udW5zdGFibGVfZ2V0Q29udGV4dCxcbiAgICBmdXR1cmU6IG9wdHM/LmZ1dHVyZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVIYXNoSGlzdG9yeSh7IHdpbmRvdzogb3B0cz8ud2luZG93IH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEgfHwgcGFyc2VIeWRyYXRpb25EYXRhKCksXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24sXG4gICAgd2luZG93OiBvcHRzPy53aW5kb3dcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxuZnVuY3Rpb24gcGFyc2VIeWRyYXRpb25EYXRhKCkge1xuICBsZXQgc3RhdGUgPSB3aW5kb3c/Ll9fc3RhdGljUm91dGVySHlkcmF0aW9uRGF0YTtcbiAgaWYgKHN0YXRlICYmIHN0YXRlLmVycm9ycykge1xuICAgIHN0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBlcnJvcnM6IGRlc2VyaWFsaXplRXJyb3JzKHN0YXRlLmVycm9ycylcbiAgICB9O1xuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplRXJyb3JzKGVycm9ycykge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIlJvdXRlRXJyb3JSZXNwb25zZVwiKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgIHZhbC5zdGF0dXMsXG4gICAgICAgIHZhbC5zdGF0dXNUZXh0LFxuICAgICAgICB2YWwuZGF0YSxcbiAgICAgICAgdmFsLmludGVybmFsID09PSB0cnVlXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiRXJyb3JcIikge1xuICAgICAgaWYgKHZhbC5fX3N1YlR5cGUpIHtcbiAgICAgICAgbGV0IEVycm9yQ29uc3RydWN0b3IgPSB3aW5kb3dbdmFsLl9fc3ViVHlwZV07XG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3JDb25zdHJ1Y3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvckNvbnN0cnVjdG9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVycm9yLnN0YWNrID0gXCJcIjtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzZXJpYWxpemVkW2tleV0gPT0gbnVsbCkge1xuICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IodmFsLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5zdGFjayA9IFwiXCI7XG4gICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuZnVuY3Rpb24gQnJvd3NlclJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgd2luZG93OiB3aW5kb3cyXG59KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QxMC51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlQnJvd3Nlckhpc3RvcnkoeyB3aW5kb3c6IHdpbmRvdzIsIHY1Q29tcGF0OiB0cnVlIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gSGFzaFJvdXRlcih7IGJhc2VuYW1lLCBjaGlsZHJlbiwgd2luZG93OiB3aW5kb3cyIH0pIHtcbiAgbGV0IGhpc3RvcnlSZWYgPSBSZWFjdDEwLnVzZVJlZigpO1xuICBpZiAoaGlzdG9yeVJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBjcmVhdGVIYXNoSGlzdG9yeSh7IHdpbmRvdzogd2luZG93MiwgdjVDb21wYXQ6IHRydWUgfSk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSBoaXN0b3J5UmVmLmN1cnJlbnQ7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDEwLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QxMC5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBIaXN0b3J5Um91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBoaXN0b3J5XG59KSB7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDEwLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QxMC5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5IaXN0b3J5Um91dGVyLmRpc3BsYXlOYW1lID0gXCJ1bnN0YWJsZV9IaXN0b3J5Um91dGVyXCI7XG52YXIgQUJTT0xVVEVfVVJMX1JFR0VYMiA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbnZhciBMaW5rID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbiBMaW5rV2l0aFJlZih7XG4gICAgb25DbGljayxcbiAgICBkaXNjb3ZlciA9IFwicmVuZGVyXCIsXG4gICAgcHJlZmV0Y2ggPSBcIm5vbmVcIixcbiAgICByZWxhdGl2ZSxcbiAgICByZWxvYWREb2N1bWVudCxcbiAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICBzdGF0ZSxcbiAgICB0YXJnZXQsXG4gICAgdG8sXG4gICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIC4uLnJlc3RcbiAgfSwgZm9yd2FyZGVkUmVmKSB7XG4gICAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gICAgbGV0IGlzQWJzb2x1dGUgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgJiYgQUJTT0xVVEVfVVJMX1JFR0VYMi50ZXN0KHRvKTtcbiAgICBsZXQgYWJzb2x1dGVIcmVmO1xuICAgIGxldCBpc0V4dGVybmFsID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiAmJiBpc0Fic29sdXRlKSB7XG4gICAgICBhYnNvbHV0ZUhyZWYgPSB0bztcbiAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgY3VycmVudFVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgIGxldCB0YXJnZXRVcmwgPSB0by5zdGFydHNXaXRoKFwiLy9cIikgPyBuZXcgVVJMKGN1cnJlbnRVcmwucHJvdG9jb2wgKyB0bykgOiBuZXcgVVJMKHRvKTtcbiAgICAgICAgICBsZXQgcGF0aCA9IHN0cmlwQmFzZW5hbWUodGFyZ2V0VXJsLnBhdGhuYW1lLCBiYXNlbmFtZSk7XG4gICAgICAgICAgaWYgKHRhcmdldFVybC5vcmlnaW4gPT09IGN1cnJlbnRVcmwub3JpZ2luICYmIHBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgdG8gPSBwYXRoICsgdGFyZ2V0VXJsLnNlYXJjaCArIHRhcmdldFVybC5oYXNoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0V4dGVybmFsID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBgPExpbmsgdG89XCIke3RvfVwiPiBjb250YWlucyBhbiBpbnZhbGlkIFVSTCB3aGljaCB3aWxsIHByb2JhYmx5IGJyZWFrIHdoZW4gY2xpY2tlZCAtIHBsZWFzZSB1cGRhdGUgdG8gYSB2YWxpZCBVUkwgcGF0aC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaHJlZjIgPSB1c2VIcmVmKHRvLCB7IHJlbGF0aXZlIH0pO1xuICAgIGxldCBbc2hvdWxkUHJlZmV0Y2gsIHByZWZldGNoUmVmLCBwcmVmZXRjaEhhbmRsZXJzXSA9IHVzZVByZWZldGNoQmVoYXZpb3IoXG4gICAgICBwcmVmZXRjaCxcbiAgICAgIHJlc3RcbiAgICApO1xuICAgIGxldCBpbnRlcm5hbE9uQ2xpY2sgPSB1c2VMaW5rQ2xpY2tIYW5kbGVyKHRvLCB7XG4gICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgIHN0YXRlLFxuICAgICAgdGFyZ2V0LFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVsYXRpdmUsXG4gICAgICB2aWV3VHJhbnNpdGlvblxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAob25DbGljaykgb25DbGljayhldmVudCk7XG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgaW50ZXJuYWxPbkNsaWNrKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxpbmsgPSAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50XG4gICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImFcIixcbiAgICAgICAge1xuICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgLi4ucHJlZmV0Y2hIYW5kbGVycyxcbiAgICAgICAgICBocmVmOiBhYnNvbHV0ZUhyZWYgfHwgaHJlZjIsXG4gICAgICAgICAgb25DbGljazogaXNFeHRlcm5hbCB8fCByZWxvYWREb2N1bWVudCA/IG9uQ2xpY2sgOiBoYW5kbGVDbGljayxcbiAgICAgICAgICByZWY6IG1lcmdlUmVmcyhmb3J3YXJkZWRSZWYsIHByZWZldGNoUmVmKSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgXCJkYXRhLWRpc2NvdmVyXCI6ICFpc0Fic29sdXRlICYmIGRpc2NvdmVyID09PSBcInJlbmRlclwiID8gXCJ0cnVlXCIgOiB2b2lkIDBcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuIHNob3VsZFByZWZldGNoICYmICFpc0Fic29sdXRlID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChSZWFjdDEwLkZyYWdtZW50LCBudWxsLCBsaW5rLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFByZWZldGNoUGFnZUxpbmtzLCB7IHBhZ2U6IGhyZWYyIH0pKSA6IGxpbms7XG4gIH1cbik7XG5MaW5rLmRpc3BsYXlOYW1lID0gXCJMaW5rXCI7XG52YXIgTmF2TGluayA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24gTmF2TGlua1dpdGhSZWYoe1xuICAgIFwiYXJpYS1jdXJyZW50XCI6IGFyaWFDdXJyZW50UHJvcCA9IFwicGFnZVwiLFxuICAgIGNhc2VTZW5zaXRpdmUgPSBmYWxzZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVByb3AgPSBcIlwiLFxuICAgIGVuZCA9IGZhbHNlLFxuICAgIHN0eWxlOiBzdHlsZVByb3AsXG4gICAgdG8sXG4gICAgdmlld1RyYW5zaXRpb24sXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ucmVzdFxuICB9LCByZWYpIHtcbiAgICBsZXQgcGF0aCA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZTogcmVzdC5yZWxhdGl2ZSB9KTtcbiAgICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICAgIGxldCByb3V0ZXJTdGF0ZSA9IFJlYWN0MTAudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgICBsZXQgeyBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsIGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICAgIGxldCBpc1RyYW5zaXRpb25pbmcgPSByb3V0ZXJTdGF0ZSAhPSBudWxsICYmIC8vIENvbmRpdGlvbmFsIHVzYWdlIGlzIE9LIGhlcmUgYmVjYXVzZSB0aGUgdXNhZ2Ugb2YgYSBkYXRhIHJvdXRlciBpcyBzdGF0aWNcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICB1c2VWaWV3VHJhbnNpdGlvblN0YXRlKHBhdGgpICYmIHZpZXdUcmFuc2l0aW9uID09PSB0cnVlO1xuICAgIGxldCB0b1BhdGhuYW1lID0gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24ocGF0aCkucGF0aG5hbWUgOiBwYXRoLnBhdGhuYW1lO1xuICAgIGxldCBsb2NhdGlvblBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgbGV0IG5leHRMb2NhdGlvblBhdGhuYW1lID0gcm91dGVyU3RhdGUgJiYgcm91dGVyU3RhdGUubmF2aWdhdGlvbiAmJiByb3V0ZXJTdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uID8gcm91dGVyU3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbi5wYXRobmFtZSA6IG51bGw7XG4gICAgaWYgKCFjYXNlU2Vuc2l0aXZlKSB7XG4gICAgICBsb2NhdGlvblBhdGhuYW1lID0gbG9jYXRpb25QYXRobmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbmV4dExvY2F0aW9uUGF0aG5hbWUgPSBuZXh0TG9jYXRpb25QYXRobmFtZSA/IG5leHRMb2NhdGlvblBhdGhuYW1lLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuICAgICAgdG9QYXRobmFtZSA9IHRvUGF0aG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKG5leHRMb2NhdGlvblBhdGhuYW1lICYmIGJhc2VuYW1lKSB7XG4gICAgICBuZXh0TG9jYXRpb25QYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUobmV4dExvY2F0aW9uUGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBuZXh0TG9jYXRpb25QYXRobmFtZTtcbiAgICB9XG4gICAgY29uc3QgZW5kU2xhc2hQb3NpdGlvbiA9IHRvUGF0aG5hbWUgIT09IFwiL1wiICYmIHRvUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpID8gdG9QYXRobmFtZS5sZW5ndGggLSAxIDogdG9QYXRobmFtZS5sZW5ndGg7XG4gICAgbGV0IGlzQWN0aXZlID0gbG9jYXRpb25QYXRobmFtZSA9PT0gdG9QYXRobmFtZSB8fCAhZW5kICYmIGxvY2F0aW9uUGF0aG5hbWUuc3RhcnRzV2l0aCh0b1BhdGhuYW1lKSAmJiBsb2NhdGlvblBhdGhuYW1lLmNoYXJBdChlbmRTbGFzaFBvc2l0aW9uKSA9PT0gXCIvXCI7XG4gICAgbGV0IGlzUGVuZGluZyA9IG5leHRMb2NhdGlvblBhdGhuYW1lICE9IG51bGwgJiYgKG5leHRMb2NhdGlvblBhdGhuYW1lID09PSB0b1BhdGhuYW1lIHx8ICFlbmQgJiYgbmV4dExvY2F0aW9uUGF0aG5hbWUuc3RhcnRzV2l0aCh0b1BhdGhuYW1lKSAmJiBuZXh0TG9jYXRpb25QYXRobmFtZS5jaGFyQXQodG9QYXRobmFtZS5sZW5ndGgpID09PSBcIi9cIik7XG4gICAgbGV0IHJlbmRlclByb3BzID0ge1xuICAgICAgaXNBY3RpdmUsXG4gICAgICBpc1BlbmRpbmcsXG4gICAgICBpc1RyYW5zaXRpb25pbmdcbiAgICB9O1xuICAgIGxldCBhcmlhQ3VycmVudCA9IGlzQWN0aXZlID8gYXJpYUN1cnJlbnRQcm9wIDogdm9pZCAwO1xuICAgIGxldCBjbGFzc05hbWU7XG4gICAgaWYgKHR5cGVvZiBjbGFzc05hbWVQcm9wID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZVByb3AocmVuZGVyUHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgPSBbXG4gICAgICAgIGNsYXNzTmFtZVByb3AsXG4gICAgICAgIGlzQWN0aXZlID8gXCJhY3RpdmVcIiA6IG51bGwsXG4gICAgICAgIGlzUGVuZGluZyA/IFwicGVuZGluZ1wiIDogbnVsbCxcbiAgICAgICAgaXNUcmFuc2l0aW9uaW5nID8gXCJ0cmFuc2l0aW9uaW5nXCIgOiBudWxsXG4gICAgICBdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgICB9XG4gICAgbGV0IHN0eWxlID0gdHlwZW9mIHN0eWxlUHJvcCA9PT0gXCJmdW5jdGlvblwiID8gc3R5bGVQcm9wKHJlbmRlclByb3BzKSA6IHN0eWxlUHJvcDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICAgIExpbmssXG4gICAgICB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IGFyaWFDdXJyZW50LFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHJlZixcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHRvLFxuICAgICAgICB2aWV3VHJhbnNpdGlvblxuICAgICAgfSxcbiAgICAgIHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4ocmVuZGVyUHJvcHMpIDogY2hpbGRyZW5cbiAgICApO1xuICB9XG4pO1xuTmF2TGluay5kaXNwbGF5TmFtZSA9IFwiTmF2TGlua1wiO1xudmFyIEZvcm0gPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gICh7XG4gICAgZGlzY292ZXIgPSBcInJlbmRlclwiLFxuICAgIGZldGNoZXJLZXksXG4gICAgbmF2aWdhdGUsXG4gICAgcmVsb2FkRG9jdW1lbnQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgc3RhdGUsXG4gICAgbWV0aG9kID0gZGVmYXVsdE1ldGhvZCxcbiAgICBhY3Rpb24sXG4gICAgb25TdWJtaXQsXG4gICAgcmVsYXRpdmUsXG4gICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIC4uLnByb3BzXG4gIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGxldCBzdWJtaXQgPSB1c2VTdWJtaXQoKTtcbiAgICBsZXQgZm9ybUFjdGlvbiA9IHVzZUZvcm1BY3Rpb24oYWN0aW9uLCB7IHJlbGF0aXZlIH0pO1xuICAgIGxldCBmb3JtTWV0aG9kID0gbWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09IFwiZ2V0XCIgPyBcImdldFwiIDogXCJwb3N0XCI7XG4gICAgbGV0IGlzQWJzb2x1dGUgPSB0eXBlb2YgYWN0aW9uID09PSBcInN0cmluZ1wiICYmIEFCU09MVVRFX1VSTF9SRUdFWDIudGVzdChhY3Rpb24pO1xuICAgIGxldCBzdWJtaXRIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBvblN1Ym1pdCAmJiBvblN1Ym1pdChldmVudCk7XG4gICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBzdWJtaXR0ZXIgPSBldmVudC5uYXRpdmVFdmVudC5zdWJtaXR0ZXI7XG4gICAgICBsZXQgc3VibWl0TWV0aG9kID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IG1ldGhvZDtcbiAgICAgIHN1Ym1pdChzdWJtaXR0ZXIgfHwgZXZlbnQuY3VycmVudFRhcmdldCwge1xuICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICBtZXRob2Q6IHN1Ym1pdE1ldGhvZCxcbiAgICAgICAgbmF2aWdhdGUsXG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcmVsYXRpdmUsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgdmlld1RyYW5zaXRpb25cbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImZvcm1cIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIG1ldGhvZDogZm9ybU1ldGhvZCxcbiAgICAgICAgYWN0aW9uOiBmb3JtQWN0aW9uLFxuICAgICAgICBvblN1Ym1pdDogcmVsb2FkRG9jdW1lbnQgPyBvblN1Ym1pdCA6IHN1Ym1pdEhhbmRsZXIsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBcImRhdGEtZGlzY292ZXJcIjogIWlzQWJzb2x1dGUgJiYgZGlzY292ZXIgPT09IFwicmVuZGVyXCIgPyBcInRydWVcIiA6IHZvaWQgMFxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5Gb3JtLmRpc3BsYXlOYW1lID0gXCJGb3JtXCI7XG5mdW5jdGlvbiBTY3JvbGxSZXN0b3JhdGlvbih7XG4gIGdldEtleSxcbiAgc3RvcmFnZUtleSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgbGV0IHJlbWl4Q29udGV4dCA9IFJlYWN0MTAudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBtYXRjaGVzID0gdXNlTWF0Y2hlcygpO1xuICB1c2VTY3JvbGxSZXN0b3JhdGlvbih7IGdldEtleSwgc3RvcmFnZUtleSB9KTtcbiAgbGV0IHNzcktleSA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiB7XG4gICAgICBpZiAoIXJlbWl4Q29udGV4dCB8fCAhZ2V0S2V5KSByZXR1cm4gbnVsbDtcbiAgICAgIGxldCB1c2VyS2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkoXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgZ2V0S2V5XG4gICAgICApO1xuICAgICAgcmV0dXJuIHVzZXJLZXkgIT09IGxvY2F0aW9uLmtleSA/IHVzZXJLZXkgOiBudWxsO1xuICAgIH0sXG4gICAgLy8gTmFoLCB3ZSBvbmx5IG5lZWQgdGhpcyB0aGUgZmlyc3QgdGltZSBmb3IgdGhlIFNTUiByZW5kZXJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW11cbiAgKTtcbiAgaWYgKCFyZW1peENvbnRleHQgfHwgcmVtaXhDb250ZXh0LmlzU3BhTW9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCByZXN0b3JlU2Nyb2xsID0gKChzdG9yYWdlS2V5MiwgcmVzdG9yZUtleSkgPT4ge1xuICAgIGlmICghd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwgIXdpbmRvdy5oaXN0b3J5LnN0YXRlLmtleSkge1xuICAgICAgbGV0IGtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzIpLnNsaWNlKDIpO1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsga2V5IH0sIFwiXCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgbGV0IHBvc2l0aW9ucyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5MikgfHwgXCJ7fVwiKTtcbiAgICAgIGxldCBzdG9yZWRZID0gcG9zaXRpb25zW3Jlc3RvcmVLZXkgfHwgd2luZG93Lmhpc3Rvcnkuc3RhdGUua2V5XTtcbiAgICAgIGlmICh0eXBlb2Ygc3RvcmVkWSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc3RvcmVkWSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlS2V5Mik7XG4gICAgfVxuICB9KS50b1N0cmluZygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgKCR7cmVzdG9yZVNjcm9sbH0pKCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgc3RvcmFnZUtleSB8fCBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVlcbiAgICAgICAgKX0sICR7SlNPTi5zdHJpbmdpZnkoc3NyS2V5KX0pYFxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblNjcm9sbFJlc3RvcmF0aW9uLmRpc3BsYXlOYW1lID0gXCJTY3JvbGxSZXN0b3JhdGlvblwiO1xuZnVuY3Rpb24gZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcjIoaG9va05hbWUpIHtcbiAgcmV0dXJuIGAke2hvb2tOYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgZGF0YSByb3V0ZXIuICBTZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vZW4vbWFpbi9yb3V0ZXJzL3BpY2tpbmctYS1yb3V0ZXIuYDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0Myhob29rTmFtZSkge1xuICBsZXQgY3R4ID0gUmVhY3QxMC51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaW52YXJpYW50KGN0eCwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcjIoaG9va05hbWUpKTtcbiAgcmV0dXJuIGN0eDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJTdGF0ZTIoaG9va05hbWUpIHtcbiAgbGV0IHN0YXRlID0gUmVhY3QxMC51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQoc3RhdGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IyKGhvb2tOYW1lKSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVzZUxpbmtDbGlja0hhbmRsZXIodG8sIHtcbiAgdGFyZ2V0LFxuICByZXBsYWNlOiByZXBsYWNlUHJvcCxcbiAgc3RhdGUsXG4gIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgcmVsYXRpdmUsXG4gIHZpZXdUcmFuc2l0aW9uXG59ID0ge30pIHtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSk7XG4gIHJldHVybiBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKHNob3VsZFByb2Nlc3NMaW5rQ2xpY2soZXZlbnQsIHRhcmdldCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHJlcGxhY2UyID0gcmVwbGFjZVByb3AgIT09IHZvaWQgMCA/IHJlcGxhY2VQcm9wIDogY3JlYXRlUGF0aChsb2NhdGlvbikgPT09IGNyZWF0ZVBhdGgocGF0aCk7XG4gICAgICAgIG5hdmlnYXRlKHRvLCB7XG4gICAgICAgICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIHJlbGF0aXZlLFxuICAgICAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgbG9jYXRpb24sXG4gICAgICBuYXZpZ2F0ZSxcbiAgICAgIHBhdGgsXG4gICAgICByZXBsYWNlUHJvcCxcbiAgICAgIHN0YXRlLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdG8sXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZWxhdGl2ZSxcbiAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgXVxuICApO1xufVxuZnVuY3Rpb24gdXNlU2VhcmNoUGFyYW1zKGRlZmF1bHRJbml0KSB7XG4gIHdhcm5pbmcoXG4gICAgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gXCJ1bmRlZmluZWRcIixcbiAgICBgWW91IGNhbm5vdCB1c2UgdGhlIFxcYHVzZVNlYXJjaFBhcmFtc1xcYCBob29rIGluIGEgYnJvd3NlciB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTFNlYXJjaFBhcmFtcyBBUEkuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgMTEsIHdlIHJlY29tbWVuZCB5b3UgbG9hZCBhIHBvbHlmaWxsIHN1Y2ggYXMgaHR0cHM6Ly9naXRodWIuY29tL3VuZ2FwL3VybC1zZWFyY2gtcGFyYW1zLmBcbiAgKTtcbiAgbGV0IGRlZmF1bHRTZWFyY2hQYXJhbXNSZWYgPSBSZWFjdDEwLnVzZVJlZihjcmVhdGVTZWFyY2hQYXJhbXMoZGVmYXVsdEluaXQpKTtcbiAgbGV0IGhhc1NldFNlYXJjaFBhcmFtc1JlZiA9IFJlYWN0MTAudXNlUmVmKGZhbHNlKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiAoXG4gICAgICAvLyBPbmx5IG1lcmdlIGluIHRoZSBkZWZhdWx0cyBpZiB3ZSBoYXZlbid0IHlldCBjYWxsZWQgc2V0U2VhcmNoUGFyYW1zLlxuICAgICAgLy8gT25jZSB3ZSBjYWxsIHRoYXQgd2Ugd2FudCB0aG9zZSB0byB0YWtlIHByZWNlZGVuY2UsIG90aGVyd2lzZSB5b3UgY2FuJ3RcbiAgICAgIC8vIHJlbW92ZSBhIHBhcmFtIHdpdGggc2V0U2VhcmNoUGFyYW1zKHt9KSBpZiBpdCBoYXMgYW4gaW5pdGlhbCB2YWx1ZVxuICAgICAgZ2V0U2VhcmNoUGFyYW1zRm9yTG9jYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzU2V0U2VhcmNoUGFyYW1zUmVmLmN1cnJlbnQgPyBudWxsIDogZGVmYXVsdFNlYXJjaFBhcmFtc1JlZi5jdXJyZW50XG4gICAgICApXG4gICAgKSxcbiAgICBbbG9jYXRpb24uc2VhcmNoXVxuICApO1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBsZXQgc2V0U2VhcmNoUGFyYW1zID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV4dEluaXQsIG5hdmlnYXRlT3B0aW9ucykgPT4ge1xuICAgICAgY29uc3QgbmV3U2VhcmNoUGFyYW1zID0gY3JlYXRlU2VhcmNoUGFyYW1zKFxuICAgICAgICB0eXBlb2YgbmV4dEluaXQgPT09IFwiZnVuY3Rpb25cIiA/IG5leHRJbml0KHNlYXJjaFBhcmFtcykgOiBuZXh0SW5pdFxuICAgICAgKTtcbiAgICAgIGhhc1NldFNlYXJjaFBhcmFtc1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIG5hdmlnYXRlKFwiP1wiICsgbmV3U2VhcmNoUGFyYW1zLCBuYXZpZ2F0ZU9wdGlvbnMpO1xuICAgIH0sXG4gICAgW25hdmlnYXRlLCBzZWFyY2hQYXJhbXNdXG4gICk7XG4gIHJldHVybiBbc2VhcmNoUGFyYW1zLCBzZXRTZWFyY2hQYXJhbXNdO1xufVxudmFyIGZldGNoZXJJZCA9IDA7XG52YXIgZ2V0VW5pcXVlRmV0Y2hlcklkID0gKCkgPT4gYF9fJHtTdHJpbmcoKytmZXRjaGVySWQpfV9fYDtcbmZ1bmN0aW9uIHVzZVN1Ym1pdCgpIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXCJ1c2VTdWJtaXRcIiAvKiBVc2VTdWJtaXQgKi8pO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IGN1cnJlbnRSb3V0ZUlkID0gdXNlUm91dGVJZCgpO1xuICByZXR1cm4gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodGFyZ2V0LCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGxldCB7IGFjdGlvbiwgbWV0aG9kLCBlbmNUeXBlLCBmb3JtRGF0YSwgYm9keSB9ID0gZ2V0Rm9ybVN1Ym1pc3Npb25JbmZvKFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGJhc2VuYW1lXG4gICAgICApO1xuICAgICAgaWYgKG9wdGlvbnMubmF2aWdhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGxldCBrZXkgPSBvcHRpb25zLmZldGNoZXJLZXkgfHwgZ2V0VW5pcXVlRmV0Y2hlcklkKCk7XG4gICAgICAgIGF3YWl0IHJvdXRlci5mZXRjaChrZXksIGN1cnJlbnRSb3V0ZUlkLCBvcHRpb25zLmFjdGlvbiB8fCBhY3Rpb24sIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdGlvbnMucHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIGZvcm1EYXRhLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgZm9ybU1ldGhvZDogb3B0aW9ucy5tZXRob2QgfHwgbWV0aG9kLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRpb25zLmVuY1R5cGUgfHwgZW5jVHlwZSxcbiAgICAgICAgICBmbHVzaFN5bmM6IG9wdGlvbnMuZmx1c2hTeW5jXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgcm91dGVyLm5hdmlnYXRlKG9wdGlvbnMuYWN0aW9uIHx8IGFjdGlvbiwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0aW9ucy5wcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICBmb3JtTWV0aG9kOiBvcHRpb25zLm1ldGhvZCB8fCBtZXRob2QsXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdGlvbnMuZW5jVHlwZSB8fCBlbmNUeXBlLFxuICAgICAgICAgIHJlcGxhY2U6IG9wdGlvbnMucmVwbGFjZSxcbiAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICBmcm9tUm91dGVJZDogY3VycmVudFJvdXRlSWQsXG4gICAgICAgICAgZmx1c2hTeW5jOiBvcHRpb25zLmZsdXNoU3luYyxcbiAgICAgICAgICB2aWV3VHJhbnNpdGlvbjogb3B0aW9ucy52aWV3VHJhbnNpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtyb3V0ZXIsIGJhc2VuYW1lLCBjdXJyZW50Um91dGVJZF1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZUZvcm1BY3Rpb24oYWN0aW9uLCB7IHJlbGF0aXZlIH0gPSB7fSkge1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHJvdXRlQ29udGV4dCA9IFJlYWN0MTAudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQocm91dGVDb250ZXh0LCBcInVzZUZvcm1BY3Rpb24gbXVzdCBiZSB1c2VkIGluc2lkZSBhIFJvdXRlQ29udGV4dFwiKTtcbiAgbGV0IFttYXRjaF0gPSByb3V0ZUNvbnRleHQubWF0Y2hlcy5zbGljZSgtMSk7XG4gIGxldCBwYXRoID0geyAuLi51c2VSZXNvbHZlZFBhdGgoYWN0aW9uID8gYWN0aW9uIDogXCIuXCIsIHsgcmVsYXRpdmUgfSkgfTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgaWYgKGFjdGlvbiA9PSBudWxsKSB7XG4gICAgcGF0aC5zZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGF0aC5zZWFyY2gpO1xuICAgIGxldCBpbmRleFZhbHVlcyA9IHBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgICBsZXQgaGFzTmFrZWRJbmRleFBhcmFtID0gaW5kZXhWYWx1ZXMuc29tZSgodikgPT4gdiA9PT0gXCJcIik7XG4gICAgaWYgKGhhc05ha2VkSW5kZXhQYXJhbSkge1xuICAgICAgcGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICAgICAgaW5kZXhWYWx1ZXMuZmlsdGVyKCh2KSA9PiB2KS5mb3JFYWNoKCh2KSA9PiBwYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdikpO1xuICAgICAgbGV0IHFzID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICBwYXRoLnNlYXJjaCA9IHFzID8gYD8ke3FzfWAgOiBcIlwiO1xuICAgIH1cbiAgfVxuICBpZiAoKCFhY3Rpb24gfHwgYWN0aW9uID09PSBcIi5cIikgJiYgbWF0Y2gucm91dGUuaW5kZXgpIHtcbiAgICBwYXRoLnNlYXJjaCA9IHBhdGguc2VhcmNoID8gcGF0aC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sIFwiP2luZGV4JlwiKSA6IFwiP2luZGV4XCI7XG4gIH1cbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIHBhdGgucGF0aG5hbWUgPSBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICB9XG4gIHJldHVybiBjcmVhdGVQYXRoKHBhdGgpO1xufVxuZnVuY3Rpb24gdXNlRmV0Y2hlcih7XG4gIGtleVxufSA9IHt9KSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFwidXNlRmV0Y2hlclwiIC8qIFVzZUZldGNoZXIgKi8pO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUyKFwidXNlRmV0Y2hlclwiIC8qIFVzZUZldGNoZXIgKi8pO1xuICBsZXQgZmV0Y2hlckRhdGEgPSBSZWFjdDEwLnVzZUNvbnRleHQoRmV0Y2hlcnNDb250ZXh0KTtcbiAgbGV0IHJvdXRlID0gUmVhY3QxMC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZUlkID0gcm91dGUubWF0Y2hlc1tyb3V0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdPy5yb3V0ZS5pZDtcbiAgaW52YXJpYW50KGZldGNoZXJEYXRhLCBgdXNlRmV0Y2hlciBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgRmV0Y2hlcnNDb250ZXh0YCk7XG4gIGludmFyaWFudChyb3V0ZSwgYHVzZUZldGNoZXIgbXVzdCBiZSB1c2VkIGluc2lkZSBhIFJvdXRlQ29udGV4dGApO1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVJZCAhPSBudWxsLFxuICAgIGB1c2VGZXRjaGVyIGNhbiBvbmx5IGJlIHVzZWQgb24gcm91dGVzIHRoYXQgY29udGFpbiBhIHVuaXF1ZSBcImlkXCJgXG4gICk7XG4gIGxldCBkZWZhdWx0S2V5ID0gUmVhY3QxMC51c2VJZCgpO1xuICBsZXQgW2ZldGNoZXJLZXksIHNldEZldGNoZXJLZXldID0gUmVhY3QxMC51c2VTdGF0ZShrZXkgfHwgZGVmYXVsdEtleSk7XG4gIGlmIChrZXkgJiYga2V5ICE9PSBmZXRjaGVyS2V5KSB7XG4gICAgc2V0RmV0Y2hlcktleShrZXkpO1xuICB9XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICByb3V0ZXIuZ2V0RmV0Y2hlcihmZXRjaGVyS2V5KTtcbiAgICByZXR1cm4gKCkgPT4gcm91dGVyLmRlbGV0ZUZldGNoZXIoZmV0Y2hlcktleSk7XG4gIH0sIFtyb3V0ZXIsIGZldGNoZXJLZXldKTtcbiAgbGV0IGxvYWQgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChocmVmMiwgb3B0cykgPT4ge1xuICAgICAgaW52YXJpYW50KHJvdXRlSWQsIFwiTm8gcm91dGVJZCBhdmFpbGFibGUgZm9yIGZldGNoZXIubG9hZCgpXCIpO1xuICAgICAgYXdhaXQgcm91dGVyLmZldGNoKGZldGNoZXJLZXksIHJvdXRlSWQsIGhyZWYyLCBvcHRzKTtcbiAgICB9LFxuICAgIFtmZXRjaGVyS2V5LCByb3V0ZUlkLCByb3V0ZXJdXG4gICk7XG4gIGxldCBzdWJtaXRJbXBsID0gdXNlU3VibWl0KCk7XG4gIGxldCBzdWJtaXQgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0YXJnZXQsIG9wdHMpID0+IHtcbiAgICAgIGF3YWl0IHN1Ym1pdEltcGwodGFyZ2V0LCB7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIG5hdmlnYXRlOiBmYWxzZSxcbiAgICAgICAgZmV0Y2hlcktleVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZmV0Y2hlcktleSwgc3VibWl0SW1wbF1cbiAgKTtcbiAgbGV0IEZldGNoZXJGb3JtID0gUmVhY3QxMC51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgRmV0Y2hlckZvcm0yID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICAgICAgKHByb3BzLCByZWYpID0+IHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoRm9ybSwgeyAuLi5wcm9wcywgbmF2aWdhdGU6IGZhbHNlLCBmZXRjaGVyS2V5LCByZWYgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBGZXRjaGVyRm9ybTIuZGlzcGxheU5hbWUgPSBcImZldGNoZXIuRm9ybVwiO1xuICAgIHJldHVybiBGZXRjaGVyRm9ybTI7XG4gIH0sIFtmZXRjaGVyS2V5XSk7XG4gIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGZldGNoZXJLZXkpIHx8IElETEVfRkVUQ0hFUjtcbiAgbGV0IGRhdGEyID0gZmV0Y2hlckRhdGEuZ2V0KGZldGNoZXJLZXkpO1xuICBsZXQgZmV0Y2hlcldpdGhDb21wb25lbnRzID0gUmVhY3QxMC51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBGb3JtOiBGZXRjaGVyRm9ybSxcbiAgICAgIHN1Ym1pdCxcbiAgICAgIGxvYWQsXG4gICAgICAuLi5mZXRjaGVyLFxuICAgICAgZGF0YTogZGF0YTJcbiAgICB9KSxcbiAgICBbRmV0Y2hlckZvcm0sIHN1Ym1pdCwgbG9hZCwgZmV0Y2hlciwgZGF0YTJdXG4gICk7XG4gIHJldHVybiBmZXRjaGVyV2l0aENvbXBvbmVudHM7XG59XG5mdW5jdGlvbiB1c2VGZXRjaGVycygpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlMihcInVzZUZldGNoZXJzXCIgLyogVXNlRmV0Y2hlcnMgKi8pO1xuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZS5mZXRjaGVycy5lbnRyaWVzKCkpLm1hcCgoW2tleSwgZmV0Y2hlcl0pID0+ICh7XG4gICAgLi4uZmV0Y2hlcixcbiAgICBrZXlcbiAgfSkpO1xufVxudmFyIFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWSA9IFwicmVhY3Qtcm91dGVyLXNjcm9sbC1wb3NpdGlvbnNcIjtcbnZhciBzYXZlZFNjcm9sbFBvc2l0aW9ucyA9IHt9O1xuZnVuY3Rpb24gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkobG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCBnZXRLZXkpIHtcbiAgbGV0IGtleSA9IG51bGw7XG4gIGlmIChnZXRLZXkpIHtcbiAgICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgICBrZXkgPSBnZXRLZXkoXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5sb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoZXNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IGdldEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgfVxuICB9XG4gIGlmIChrZXkgPT0gbnVsbCkge1xuICAgIGtleSA9IGxvY2F0aW9uLmtleTtcbiAgfVxuICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gdXNlU2Nyb2xsUmVzdG9yYXRpb24oe1xuICBnZXRLZXksXG4gIHN0b3JhZ2VLZXlcbn0gPSB7fSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcInVzZVNjcm9sbFJlc3RvcmF0aW9uXCIgLyogVXNlU2Nyb2xsUmVzdG9yYXRpb24gKi8pO1xuICBsZXQgeyByZXN0b3JlU2Nyb2xsUG9zaXRpb24sIHByZXZlbnRTY3JvbGxSZXNldCB9ID0gdXNlRGF0YVJvdXRlclN0YXRlMihcbiAgICBcInVzZVNjcm9sbFJlc3RvcmF0aW9uXCIgLyogVXNlU2Nyb2xsUmVzdG9yYXRpb24gKi9cbiAgKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBtYXRjaGVzID0gdXNlTWF0Y2hlcygpO1xuICBsZXQgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb24oKTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJtYW51YWxcIjtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcImF1dG9cIjtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZVBhZ2VIaWRlKFxuICAgIFJlYWN0MTAudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb24uc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShsb2NhdGlvbiwgbWF0Y2hlcywgYmFzZW5hbWUsIGdldEtleSk7XG4gICAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zW2tleV0gPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgc3RvcmFnZUtleSB8fCBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVksXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2F2ZWRTY3JvbGxQb3NpdGlvbnMpXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBzY3JvbGwgcG9zaXRpb25zIGluIHNlc3Npb25TdG9yYWdlLCA8U2Nyb2xsUmVzdG9yYXRpb24gLz4gd2lsbCBub3Qgd29yayBwcm9wZXJseSAoJHtlcnJvcn0pLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJhdXRvXCI7XG4gICAgfSwgW25hdmlnYXRpb24uc3RhdGUsIGdldEtleSwgYmFzZW5hbWUsIGxvY2F0aW9uLCBtYXRjaGVzLCBzdG9yYWdlS2V5XSlcbiAgKTtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzZXNzaW9uUG9zaXRpb25zID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcbiAgICAgICAgICBzdG9yYWdlS2V5IHx8IFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWVxuICAgICAgICApO1xuICAgICAgICBpZiAoc2Vzc2lvblBvc2l0aW9ucykge1xuICAgICAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zID0gSlNPTi5wYXJzZShzZXNzaW9uUG9zaXRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0sIFtzdG9yYWdlS2V5XSk7XG4gICAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgbGV0IGRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbiA9IHJvdXRlcj8uZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24oXG4gICAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zLFxuICAgICAgICAoKSA9PiB3aW5kb3cuc2Nyb2xsWSxcbiAgICAgICAgZ2V0S2V5ID8gKGxvY2F0aW9uMiwgbWF0Y2hlczIpID0+IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KGxvY2F0aW9uMiwgbWF0Y2hlczIsIGJhc2VuYW1lLCBnZXRLZXkpIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgcmV0dXJuICgpID0+IGRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbiAmJiBkaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24oKTtcbiAgICB9LCBbcm91dGVyLCBiYXNlbmFtZSwgZ2V0S2V5XSk7XG4gICAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHJlc3RvcmVTY3JvbGxQb3NpdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiByZXN0b3JlU2Nyb2xsUG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHJlc3RvcmVTY3JvbGxQb3NpdGlvbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5oYXNoLnNsaWNlKDEpKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICBlbC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgfSwgW2xvY2F0aW9uLCByZXN0b3JlU2Nyb2xsUG9zaXRpb24sIHByZXZlbnRTY3JvbGxSZXNldF0pO1xuICB9XG59XG5mdW5jdGlvbiB1c2VCZWZvcmVVbmxvYWQoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgbGV0IHsgY2FwdHVyZSB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBvcHRzID0gY2FwdHVyZSAhPSBudWxsID8geyBjYXB0dXJlIH0gOiB2b2lkIDA7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgfTtcbiAgfSwgW2NhbGxiYWNrLCBjYXB0dXJlXSk7XG59XG5mdW5jdGlvbiB1c2VQYWdlSGlkZShjYWxsYmFjaywgb3B0aW9ucykge1xuICBsZXQgeyBjYXB0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG9wdHMgPSBjYXB0dXJlICE9IG51bGwgPyB7IGNhcHR1cmUgfSA6IHZvaWQgMDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgfTtcbiAgfSwgW2NhbGxiYWNrLCBjYXB0dXJlXSk7XG59XG5mdW5jdGlvbiB1c2VQcm9tcHQoe1xuICB3aGVuLFxuICBtZXNzYWdlXG59KSB7XG4gIGxldCBibG9ja2VyID0gdXNlQmxvY2tlcih3aGVuKTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIikge1xuICAgICAgbGV0IHByb2NlZWQgPSB3aW5kb3cuY29uZmlybShtZXNzYWdlKTtcbiAgICAgIGlmIChwcm9jZWVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoYmxvY2tlci5wcm9jZWVkLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJsb2NrZXIucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtibG9ja2VyLCBtZXNzYWdlXSk7XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgIXdoZW4pIHtcbiAgICAgIGJsb2NrZXIucmVzZXQoKTtcbiAgICB9XG4gIH0sIFtibG9ja2VyLCB3aGVuXSk7XG59XG5mdW5jdGlvbiB1c2VWaWV3VHJhbnNpdGlvblN0YXRlKHRvLCBvcHRzID0ge30pIHtcbiAgbGV0IHZ0Q29udGV4dCA9IFJlYWN0MTAudXNlQ29udGV4dChWaWV3VHJhbnNpdGlvbkNvbnRleHQpO1xuICBpbnZhcmlhbnQoXG4gICAgdnRDb250ZXh0ICE9IG51bGwsXG4gICAgXCJgdXNlVmlld1RyYW5zaXRpb25TdGF0ZWAgbXVzdCBiZSB1c2VkIHdpdGhpbiBgcmVhY3Qtcm91dGVyLWRvbWAncyBgUm91dGVyUHJvdmlkZXJgLiAgRGlkIHlvdSBhY2NpZGVudGFsbHkgaW1wb3J0IGBSb3V0ZXJQcm92aWRlcmAgZnJvbSBgcmVhY3Qtcm91dGVyYD9cIlxuICApO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFxuICAgIFwidXNlVmlld1RyYW5zaXRpb25TdGF0ZVwiIC8qIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUgKi9cbiAgKTtcbiAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmU6IG9wdHMucmVsYXRpdmUgfSk7XG4gIGlmICghdnRDb250ZXh0LmlzVHJhbnNpdGlvbmluZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgY3VycmVudFBhdGggPSBzdHJpcEJhc2VuYW1lKHZ0Q29udGV4dC5jdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCB2dENvbnRleHQuY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xuICBsZXQgbmV4dFBhdGggPSBzdHJpcEJhc2VuYW1lKHZ0Q29udGV4dC5uZXh0TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCB2dENvbnRleHQubmV4dExvY2F0aW9uLnBhdGhuYW1lO1xuICByZXR1cm4gbWF0Y2hQYXRoKHBhdGgucGF0aG5hbWUsIG5leHRQYXRoKSAhPSBudWxsIHx8IG1hdGNoUGF0aChwYXRoLnBhdGhuYW1lLCBjdXJyZW50UGF0aCkgIT0gbnVsbDtcbn1cblxuLy8gbGliL2RvbS9zZXJ2ZXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDExIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3RhdGljUm91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBsb2NhdGlvbjogbG9jYXRpb25Qcm9wID0gXCIvXCJcbn0pIHtcbiAgaWYgKHR5cGVvZiBsb2NhdGlvblByb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsb2NhdGlvblByb3AgPSBwYXJzZVBhdGgobG9jYXRpb25Qcm9wKTtcbiAgfVxuICBsZXQgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBsb2NhdGlvbiA9IHtcbiAgICBwYXRobmFtZTogbG9jYXRpb25Qcm9wLnBhdGhuYW1lIHx8IFwiL1wiLFxuICAgIHNlYXJjaDogbG9jYXRpb25Qcm9wLnNlYXJjaCB8fCBcIlwiLFxuICAgIGhhc2g6IGxvY2F0aW9uUHJvcC5oYXNoIHx8IFwiXCIsXG4gICAgc3RhdGU6IGxvY2F0aW9uUHJvcC5zdGF0ZSAhPSBudWxsID8gbG9jYXRpb25Qcm9wLnN0YXRlIDogbnVsbCxcbiAgICBrZXk6IGxvY2F0aW9uUHJvcC5rZXkgfHwgXCJkZWZhdWx0XCJcbiAgfTtcbiAgbGV0IHN0YXRpY05hdmlnYXRvciA9IGdldFN0YXRlbGVzc05hdmlnYXRvcigpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IGFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogc3RhdGljTmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiB0cnVlXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gU3RhdGljUm91dGVyUHJvdmlkZXIoe1xuICBjb250ZXh0LFxuICByb3V0ZXIsXG4gIGh5ZHJhdGUgPSB0cnVlLFxuICBub25jZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVyICYmIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGByb3V0ZXJgIGFuZCBgY29udGV4dGAgdG8gPFN0YXRpY1JvdXRlclByb3ZpZGVyPlwiXG4gICk7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IHtcbiAgICByb3V0ZXIsXG4gICAgbmF2aWdhdG9yOiBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKSxcbiAgICBzdGF0aWM6IHRydWUsXG4gICAgc3RhdGljQ29udGV4dDogY29udGV4dCxcbiAgICBiYXNlbmFtZTogY29udGV4dC5iYXNlbmFtZSB8fCBcIi9cIlxuICB9O1xuICBsZXQgZmV0Y2hlcnNDb250ZXh0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGh5ZHJhdGVTY3JpcHQgPSBcIlwiO1xuICBpZiAoaHlkcmF0ZSAhPT0gZmFsc2UpIHtcbiAgICBsZXQgZGF0YTIgPSB7XG4gICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycylcbiAgICB9O1xuICAgIGxldCBqc29uID0gaHRtbEVzY2FwZShKU09OLnN0cmluZ2lmeShKU09OLnN0cmluZ2lmeShkYXRhMikpKTtcbiAgICBoeWRyYXRlU2NyaXB0ID0gYHdpbmRvdy5fX3N0YXRpY1JvdXRlckh5ZHJhdGlvbkRhdGEgPSBKU09OLnBhcnNlKCR7anNvbn0pO2A7XG4gIH1cbiAgbGV0IHsgc3RhdGUgfSA9IGRhdGFSb3V0ZXJDb250ZXh0LnJvdXRlcjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGF0YVJvdXRlckNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzdGF0ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KEZldGNoZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZmV0Y2hlcnNDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoVmlld1RyYW5zaXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZTogZGF0YVJvdXRlckNvbnRleHQuYmFzZW5hbWUsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogZGF0YVJvdXRlckNvbnRleHQubmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBEYXRhUm91dGVzMixcbiAgICAgIHtcbiAgICAgICAgcm91dGVzOiByb3V0ZXIucm91dGVzLFxuICAgICAgICBmdXR1cmU6IHJvdXRlci5mdXR1cmUsXG4gICAgICAgIHN0YXRlXG4gICAgICB9XG4gICAgKVxuICApKSkpKSwgaHlkcmF0ZVNjcmlwdCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICBub25jZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogaHlkcmF0ZVNjcmlwdCB9XG4gICAgfVxuICApIDogbnVsbCk7XG59XG5mdW5jdGlvbiBEYXRhUm91dGVzMih7XG4gIHJvdXRlcyxcbiAgZnV0dXJlLFxuICBzdGF0ZVxufSkge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIHZvaWQgMCwgc3RhdGUsIGZ1dHVyZSk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFcnJvcnMoZXJyb3JzKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UodmFsKSkge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0geyAuLi52YWwsIF9fdHlwZTogXCJSb3V0ZUVycm9yUmVzcG9uc2VcIiB9O1xuICAgIH0gZWxzZSBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHtcbiAgICAgICAgbWVzc2FnZTogdmFsLm1lc3NhZ2UsXG4gICAgICAgIF9fdHlwZTogXCJFcnJvclwiLFxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc3ViY2xhc3MgKGkuZS4sIFJlZmVyZW5jZUVycm9yKSwgc2VuZCB1cCB0aGUgdHlwZSBzbyB3ZVxuICAgICAgICAvLyBjYW4gcmUtY3JlYXRlIHRoZSBzYW1lIHR5cGUgZHVyaW5nIGh5ZHJhdGlvbi5cbiAgICAgICAgLi4udmFsLm5hbWUgIT09IFwiRXJyb3JcIiA/IHtcbiAgICAgICAgICBfX3N1YlR5cGU6IHZhbC5uYW1lXG4gICAgICAgIH0gOiB7fVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cbmZ1bmN0aW9uIGdldFN0YXRlbGVzc05hdmlnYXRvcigpIHtcbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVIcmVmLFxuICAgIGVuY29kZUxvY2F0aW9uLFxuICAgIHB1c2godG8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5wdXNoKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LiBUaGlzIGVycm9yIHdhcyBwcm9iYWJseSB0cmlnZ2VyZWQgd2hlbiB5b3UgZGlkIGEgXFxgbmF2aWdhdGUoJHtKU09OLnN0cmluZ2lmeSh0byl9KVxcYCBzb21ld2hlcmUgaW4geW91ciBhcHAuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlcGxhY2UodG8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5yZXBsYWNlKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LiBUaGlzIGVycm9yIHdhcyBwcm9iYWJseSB0cmlnZ2VyZWQgd2hlbiB5b3UgZGlkIGEgXFxgbmF2aWdhdGUoJHtKU09OLnN0cmluZ2lmeSh0byl9LCB7IHJlcGxhY2U6IHRydWUgfSlcXGAgc29tZXdoZXJlIGluIHlvdXIgYXBwLmBcbiAgICAgICk7XG4gICAgfSxcbiAgICBnbyhkZWx0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLmdvKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LiBUaGlzIGVycm9yIHdhcyBwcm9iYWJseSB0cmlnZ2VyZWQgd2hlbiB5b3UgZGlkIGEgXFxgbmF2aWdhdGUoJHtkZWx0YX0pXFxgIHNvbWV3aGVyZSBpbiB5b3VyIGFwcC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgYmFjaygpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5iYWNrKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LmBcbiAgICAgICk7XG4gICAgfSxcbiAgICBmb3J3YXJkKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLmZvcndhcmQoKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyMihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0YXRpY0hhbmRsZXIocm91dGVzLCB7XG4gICAgLi4ub3B0cyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXNcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNSb3V0ZXIocm91dGVzLCBjb250ZXh0LCBvcHRzID0ge30pIHtcbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBsZXQgbWF0Y2hlcyA9IGNvbnRleHQubWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiB7XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3RbbWF0Y2gucm91dGUuaWRdIHx8IG1hdGNoLnJvdXRlO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5tYXRjaCxcbiAgICAgIHJvdXRlXG4gICAgfTtcbiAgfSk7XG4gIGxldCBtc2cgPSAobWV0aG9kKSA9PiBgWW91IGNhbm5vdCB1c2Ugcm91dGVyLiR7bWV0aG9kfSgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudGA7XG4gIHJldHVybiB7XG4gICAgZ2V0IGJhc2VuYW1lKCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuYmFzZW5hbWU7XG4gICAgfSxcbiAgICBnZXQgZnV0dXJlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdGFibGVfbWlkZGxld2FyZTogZmFsc2UsXG4gICAgICAgIC4uLm9wdHM/LmZ1dHVyZVxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhpc3RvcnlBY3Rpb246IFwiUE9QXCIgLyogUG9wICovLFxuICAgICAgICBsb2NhdGlvbjogY29udGV4dC5sb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YTogY29udGV4dC5sb2FkZXJEYXRhLFxuICAgICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICAgIGVycm9yczogY29udGV4dC5lcnJvcnMsXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogbnVsbCxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBmYWxzZSxcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICAgICAgZmV0Y2hlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICAgIGJsb2NrZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgIHJldHVybiBkYXRhUm91dGVzO1xuICAgIH0sXG4gICAgZ2V0IHdpbmRvdygpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSxcbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgdGhyb3cgbXNnKFwiaW5pdGlhbGl6ZVwiKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZSgpIHtcbiAgICAgIHRocm93IG1zZyhcInN1YnNjcmliZVwiKTtcbiAgICB9LFxuICAgIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb25cIik7XG4gICAgfSxcbiAgICBuYXZpZ2F0ZSgpIHtcbiAgICAgIHRocm93IG1zZyhcIm5hdmlnYXRlXCIpO1xuICAgIH0sXG4gICAgZmV0Y2goKSB7XG4gICAgICB0aHJvdyBtc2coXCJmZXRjaFwiKTtcbiAgICB9LFxuICAgIHJldmFsaWRhdGUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJyZXZhbGlkYXRlXCIpO1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZixcbiAgICBlbmNvZGVMb2NhdGlvbixcbiAgICBnZXRGZXRjaGVyKCkge1xuICAgICAgcmV0dXJuIElETEVfRkVUQ0hFUjtcbiAgICB9LFxuICAgIGRlbGV0ZUZldGNoZXIoKSB7XG4gICAgICB0aHJvdyBtc2coXCJkZWxldGVGZXRjaGVyXCIpO1xuICAgIH0sXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgIHRocm93IG1zZyhcImRpc3Bvc2VcIik7XG4gICAgfSxcbiAgICBnZXRCbG9ja2VyKCkge1xuICAgICAgcmV0dXJuIElETEVfQkxPQ0tFUjtcbiAgICB9LFxuICAgIGRlbGV0ZUJsb2NrZXIoKSB7XG4gICAgICB0aHJvdyBtc2coXCJkZWxldGVCbG9ja2VyXCIpO1xuICAgIH0sXG4gICAgcGF0Y2hSb3V0ZXMoKSB7XG4gICAgICB0aHJvdyBtc2coXCJwYXRjaFJvdXRlc1wiKTtcbiAgICB9LFxuICAgIF9pbnRlcm5hbEZldGNoQ29udHJvbGxlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgX2ludGVybmFsU2V0Um91dGVzKCkge1xuICAgICAgdGhyb3cgbXNnKFwiX2ludGVybmFsU2V0Um91dGVzXCIpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhyZWYodG8pIHtcbiAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG59XG5mdW5jdGlvbiBlbmNvZGVMb2NhdGlvbih0bykge1xuICBsZXQgaHJlZjIgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICBocmVmMiA9IGhyZWYyLnJlcGxhY2UoLyAkLywgXCIlMjBcIik7XG4gIGxldCBlbmNvZGVkID0gQUJTT0xVVEVfVVJMX1JFR0VYMy50ZXN0KGhyZWYyKSA/IG5ldyBVUkwoaHJlZjIpIDogbmV3IFVSTChocmVmMiwgXCJodHRwOi8vbG9jYWxob3N0XCIpO1xuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBlbmNvZGVkLnBhdGhuYW1lLFxuICAgIHNlYXJjaDogZW5jb2RlZC5zZWFyY2gsXG4gICAgaGFzaDogZW5jb2RlZC5oYXNoXG4gIH07XG59XG52YXIgQUJTT0xVVEVfVVJMX1JFR0VYMyA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbnZhciBFU0NBUEVfTE9PS1VQMiA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xudmFyIEVTQ0FQRV9SRUdFWDIgPSAvWyY+PFxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gaHRtbEVzY2FwZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKEVTQ0FQRV9SRUdFWDIsIChtYXRjaCkgPT4gRVNDQVBFX0xPT0tVUDJbbWF0Y2hdKTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivc2VydmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFNlcnZlclJvdXRlcih7XG4gIGNvbnRleHQsXG4gIHVybCxcbiAgbm9uY2Vcbn0pIHtcbiAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCk7XG4gIH1cbiAgbGV0IHsgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgY3JpdGljYWxDc3MsIHNlcnZlckhhbmRvZmZTdHJpbmcgfSA9IGNvbnRleHQ7XG4gIGxldCByb3V0ZXMgPSBjcmVhdGVTZXJ2ZXJSb3V0ZXMoXG4gICAgbWFuaWZlc3Qucm91dGVzLFxuICAgIHJvdXRlTW9kdWxlcyxcbiAgICBjb250ZXh0LmZ1dHVyZSxcbiAgICBjb250ZXh0LmlzU3BhTW9kZVxuICApO1xuICBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0LmxvYWRlckRhdGEgPSB7XG4gICAgLi4uY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhXG4gIH07XG4gIGZvciAobGV0IG1hdGNoIG9mIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubWF0Y2hlcykge1xuICAgIGxldCByb3V0ZUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IHJvdXRlID0gcm91dGVNb2R1bGVzW3JvdXRlSWRdO1xuICAgIGxldCBtYW5pZmVzdFJvdXRlID0gY29udGV4dC5tYW5pZmVzdC5yb3V0ZXNbcm91dGVJZF07XG4gICAgaWYgKHJvdXRlICYmIG1hbmlmZXN0Um91dGUgJiYgc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKG1hbmlmZXN0Um91dGUsIHJvdXRlLCBjb250ZXh0LmlzU3BhTW9kZSkgJiYgKHJvdXRlLkh5ZHJhdGVGYWxsYmFjayB8fCAhbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpKSB7XG4gICAgICBkZWxldGUgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhW3JvdXRlSWRdO1xuICAgIH1cbiAgfVxuICBsZXQgcm91dGVyID0gY3JlYXRlU3RhdGljUm91dGVyKHJvdXRlcywgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlYWN0MTIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXG4gICAgRnJhbWV3b3JrQ29udGV4dC5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgICBjcml0aWNhbENzcyxcbiAgICAgICAgc2VydmVySGFuZG9mZlN0cmluZyxcbiAgICAgICAgZnV0dXJlOiBjb250ZXh0LmZ1dHVyZSxcbiAgICAgICAgc3NyOiBjb250ZXh0LnNzcixcbiAgICAgICAgaXNTcGFNb2RlOiBjb250ZXh0LmlzU3BhTW9kZSxcbiAgICAgICAgc2VyaWFsaXplRXJyb3I6IGNvbnRleHQuc2VyaWFsaXplRXJyb3IsXG4gICAgICAgIHJlbmRlck1ldGE6IGNvbnRleHQucmVuZGVyTWV0YVxuICAgICAgfVxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChSZW1peEVycm9yQm91bmRhcnksIHsgbG9jYXRpb246IHJvdXRlci5zdGF0ZS5sb2NhdGlvbiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFxuICAgICAgU3RhdGljUm91dGVyUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHJvdXRlcixcbiAgICAgICAgY29udGV4dDogY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dCxcbiAgICAgICAgaHlkcmF0ZTogZmFsc2VcbiAgICAgIH1cbiAgICApKVxuICApLCBjb250ZXh0LnNlcnZlckhhbmRvZmZTdHJlYW0gPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlYWN0MTIuU3VzcGVuc2UsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXG4gICAgU3RyZWFtVHJhbnNmZXIsXG4gICAge1xuICAgICAgY29udGV4dCxcbiAgICAgIGlkZW50aWZpZXI6IDAsXG4gICAgICByZWFkZXI6IGNvbnRleHQuc2VydmVySGFuZG9mZlN0cmVhbS5nZXRSZWFkZXIoKSxcbiAgICAgIHRleHREZWNvZGVyOiBuZXcgVGV4dERlY29kZXIoKSxcbiAgICAgIG5vbmNlXG4gICAgfVxuICApKSA6IG51bGwpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9yb3V0ZXMtdGVzdC1zdHViLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlc1N0dWIocm91dGVzLCB1bnN0YWJsZV9nZXRDb250ZXh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBSb3V0ZXNUZXN0U3R1Yih7XG4gICAgaW5pdGlhbEVudHJpZXMsXG4gICAgaW5pdGlhbEluZGV4LFxuICAgIGh5ZHJhdGlvbkRhdGEsXG4gICAgZnV0dXJlXG4gIH0pIHtcbiAgICBsZXQgcm91dGVyUmVmID0gUmVhY3QxMy51c2VSZWYoKTtcbiAgICBsZXQgcmVtaXhDb250ZXh0UmVmID0gUmVhY3QxMy51c2VSZWYoKTtcbiAgICBpZiAocm91dGVyUmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIGZ1dHVyZToge1xuICAgICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IGZ1dHVyZT8udW5zdGFibGVfbWlkZGxld2FyZSA9PT0gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtYW5pZmVzdDoge1xuICAgICAgICAgIHJvdXRlczoge30sXG4gICAgICAgICAgZW50cnk6IHsgaW1wb3J0czogW10sIG1vZHVsZTogXCJcIiB9LFxuICAgICAgICAgIHVybDogXCJcIixcbiAgICAgICAgICB2ZXJzaW9uOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIHJvdXRlTW9kdWxlczoge30sXG4gICAgICAgIHNzcjogZmFsc2UsXG4gICAgICAgIGlzU3BhTW9kZTogZmFsc2VcbiAgICAgIH07XG4gICAgICBsZXQgcGF0Y2hlZCA9IHByb2Nlc3NSb3V0ZXMoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYFN0dWJSb3V0ZU9iamVjdGAgaXMgc3RyaWN0ZXIgYWJvdXQgYGxvYWRlcmAvYGFjdGlvbmBcbiAgICAgICAgLy8gdHlwZXMgY29tcGFyZWQgdG8gYEFnbm9zdGljUm91dGVPYmplY3RgXG4gICAgICAgIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMocm91dGVzLCAocikgPT4gciksXG4gICAgICAgIHJlbWl4Q29udGV4dFJlZi5jdXJyZW50Lm1hbmlmZXN0LFxuICAgICAgICByZW1peENvbnRleHRSZWYuY3VycmVudC5yb3V0ZU1vZHVsZXNcbiAgICAgICk7XG4gICAgICByb3V0ZXJSZWYuY3VycmVudCA9IGNyZWF0ZU1lbW9yeVJvdXRlcihwYXRjaGVkLCB7XG4gICAgICAgIHVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgICAgIGluaXRpYWxFbnRyaWVzLFxuICAgICAgICBpbml0aWFsSW5kZXgsXG4gICAgICAgIGh5ZHJhdGlvbkRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChGcmFtZXdvcmtDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiByZW1peENvbnRleHRSZWYuY3VycmVudCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFJvdXRlclByb3ZpZGVyLCB7IHJvdXRlcjogcm91dGVyUmVmLmN1cnJlbnQgfSkpO1xuICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc1JvdXRlcyhyb3V0ZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHBhcmVudElkKSB7XG4gIHJldHVybiByb3V0ZXMubWFwKChyb3V0ZSkgPT4ge1xuICAgIGlmICghcm91dGUuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeHBlY3RlZCBhIHJvdXRlLmlkIGluIEByZW1peC1ydW4vdGVzdGluZyBwcm9jZXNzUm91dGVzKCkgZnVuY3Rpb25cIlxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IG5ld1JvdXRlID0ge1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIENvbXBvbmVudDogcm91dGUuQ29tcG9uZW50LFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiByb3V0ZS5IeWRyYXRlRmFsbGJhY2ssXG4gICAgICBFcnJvckJvdW5kYXJ5OiByb3V0ZS5FcnJvckJvdW5kYXJ5LFxuICAgICAgYWN0aW9uOiByb3V0ZS5hY3Rpb24sXG4gICAgICBsb2FkZXI6IHJvdXRlLmxvYWRlcixcbiAgICAgIGhhbmRsZTogcm91dGUuaGFuZGxlLFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogcm91dGUuc2hvdWxkUmV2YWxpZGF0ZVxuICAgIH07XG4gICAgbGV0IGVudHJ5Um91dGUgPSB7XG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaW5kZXg6IHJvdXRlLmluZGV4LFxuICAgICAgcGFyZW50SWQsXG4gICAgICBoYXNBY3Rpb246IHJvdXRlLmFjdGlvbiAhPSBudWxsLFxuICAgICAgaGFzTG9hZGVyOiByb3V0ZS5sb2FkZXIgIT0gbnVsbCxcbiAgICAgIC8vIFdoZW4gdGVzdGluZyByb3V0ZXMsIHlvdSBzaG91bGQganVzdCBiZSBzdHViYmluZyBsb2FkZXIvYWN0aW9uLCBub3RcbiAgICAgIC8vIHRyeWluZyB0byByZS1pbXBsZW1lbnQgdGhlIGZ1bGwgbG9hZGVyL2NsaWVudExvYWRlci9TU1IvaHlkcmF0aW9uIGZsb3cuXG4gICAgICAvLyBUaGF0IGlzIGJldHRlciB0ZXN0ZWQgdmlhIEUyRSB0ZXN0cy5cbiAgICAgIGhhc0NsaWVudEFjdGlvbjogZmFsc2UsXG4gICAgICBoYXNDbGllbnRMb2FkZXI6IGZhbHNlLFxuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsLFxuICAgICAgLy8gYW55IG5lZWQgZm9yIHRoZXNlP1xuICAgICAgbW9kdWxlOiBcImJ1aWxkL3N0dWItcGF0aC10by1tb2R1bGUuanNcIixcbiAgICAgIGNsaWVudEFjdGlvbk1vZHVsZTogdm9pZCAwLFxuICAgICAgY2xpZW50TG9hZGVyTW9kdWxlOiB2b2lkIDAsXG4gICAgICBoeWRyYXRlRmFsbGJhY2tNb2R1bGU6IHZvaWQgMFxuICAgIH07XG4gICAgbWFuaWZlc3Qucm91dGVzW25ld1JvdXRlLmlkXSA9IGVudHJ5Um91dGU7XG4gICAgcm91dGVNb2R1bGVzW3JvdXRlLmlkXSA9IHtcbiAgICAgIGRlZmF1bHQ6IHJvdXRlLkNvbXBvbmVudCB8fCBPdXRsZXQsXG4gICAgICBFcnJvckJvdW5kYXJ5OiByb3V0ZS5FcnJvckJvdW5kYXJ5IHx8IHZvaWQgMCxcbiAgICAgIGhhbmRsZTogcm91dGUuaGFuZGxlLFxuICAgICAgbGlua3M6IHJvdXRlLmxpbmtzLFxuICAgICAgbWV0YTogcm91dGUubWV0YSxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IHJvdXRlLnNob3VsZFJldmFsaWRhdGVcbiAgICB9O1xuICAgIGlmIChyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgbmV3Um91dGUuY2hpbGRyZW4gPSBwcm9jZXNzUm91dGVzKFxuICAgICAgICByb3V0ZS5jaGlsZHJlbixcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgbmV3Um91dGUuaWRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBuZXdSb3V0ZTtcbiAgfSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9jb29raWVzLnRzXG5pbXBvcnQgeyBwYXJzZSwgc2VyaWFsaXplIH0gZnJvbSBcImNvb2tpZVwiO1xuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvY3J5cHRvLnRzXG52YXIgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xudmFyIHNpZ24gPSBhc3luYyAodmFsdWUsIHNlY3JldCkgPT4ge1xuICBsZXQgZGF0YTIgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gIGxldCBrZXkgPSBhd2FpdCBjcmVhdGVLZXkyKHNlY3JldCwgW1wic2lnblwiXSk7XG4gIGxldCBzaWduYXR1cmUgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oXCJITUFDXCIsIGtleSwgZGF0YTIpO1xuICBsZXQgaGFzaCA9IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShzaWduYXR1cmUpKSkucmVwbGFjZShcbiAgICAvPSskLyxcbiAgICBcIlwiXG4gICk7XG4gIHJldHVybiB2YWx1ZSArIFwiLlwiICsgaGFzaDtcbn07XG52YXIgdW5zaWduID0gYXN5bmMgKGNvb2tpZSwgc2VjcmV0KSA9PiB7XG4gIGxldCBpbmRleCA9IGNvb2tpZS5sYXN0SW5kZXhPZihcIi5cIik7XG4gIGxldCB2YWx1ZSA9IGNvb2tpZS5zbGljZSgwLCBpbmRleCk7XG4gIGxldCBoYXNoID0gY29va2llLnNsaWNlKGluZGV4ICsgMSk7XG4gIGxldCBkYXRhMiA9IGVuY29kZXIuZW5jb2RlKHZhbHVlKTtcbiAgbGV0IGtleSA9IGF3YWl0IGNyZWF0ZUtleTIoc2VjcmV0LCBbXCJ2ZXJpZnlcIl0pO1xuICBsZXQgc2lnbmF0dXJlID0gYnl0ZVN0cmluZ1RvVWludDhBcnJheShhdG9iKGhhc2gpKTtcbiAgbGV0IHZhbGlkID0gYXdhaXQgY3J5cHRvLnN1YnRsZS52ZXJpZnkoXCJITUFDXCIsIGtleSwgc2lnbmF0dXJlLCBkYXRhMik7XG4gIHJldHVybiB2YWxpZCA/IHZhbHVlIDogZmFsc2U7XG59O1xudmFyIGNyZWF0ZUtleTIgPSBhc3luYyAoc2VjcmV0LCB1c2FnZXMpID0+IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICBcInJhd1wiLFxuICBlbmNvZGVyLmVuY29kZShzZWNyZXQpLFxuICB7IG5hbWU6IFwiSE1BQ1wiLCBoYXNoOiBcIlNIQS0yNTZcIiB9LFxuICBmYWxzZSxcbiAgdXNhZ2VzXG4pO1xuZnVuY3Rpb24gYnl0ZVN0cmluZ1RvVWludDhBcnJheShieXRlU3RyaW5nKSB7XG4gIGxldCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJyYXlbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvY29va2llcy50c1xudmFyIGNyZWF0ZUNvb2tpZSA9IChuYW1lLCBjb29raWVPcHRpb25zID0ge30pID0+IHtcbiAgbGV0IHsgc2VjcmV0cyA9IFtdLCAuLi5vcHRpb25zIH0gPSB7XG4gICAgcGF0aDogXCIvXCIsXG4gICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgLi4uY29va2llT3B0aW9uc1xuICB9O1xuICB3YXJuT25jZUFib3V0RXhwaXJlc0Nvb2tpZShuYW1lLCBvcHRpb25zLmV4cGlyZXMpO1xuICByZXR1cm4ge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcbiAgICBnZXQgaXNTaWduZWQoKSB7XG4gICAgICByZXR1cm4gc2VjcmV0cy5sZW5ndGggPiAwO1xuICAgIH0sXG4gICAgZ2V0IGV4cGlyZXMoKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnMubWF4QWdlICE9PSBcInVuZGVmaW5lZFwiID8gbmV3IERhdGUoRGF0ZS5ub3coKSArIG9wdGlvbnMubWF4QWdlICogMWUzKSA6IG9wdGlvbnMuZXhwaXJlcztcbiAgICB9LFxuICAgIGFzeW5jIHBhcnNlKGNvb2tpZUhlYWRlciwgcGFyc2VPcHRpb25zKSB7XG4gICAgICBpZiAoIWNvb2tpZUhlYWRlcikgcmV0dXJuIG51bGw7XG4gICAgICBsZXQgY29va2llcyA9IHBhcnNlKGNvb2tpZUhlYWRlciwgeyAuLi5vcHRpb25zLCAuLi5wYXJzZU9wdGlvbnMgfSk7XG4gICAgICBpZiAobmFtZSBpbiBjb29raWVzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNvb2tpZXNbbmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICBsZXQgZGVjb2RlZCA9IGF3YWl0IGRlY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKTtcbiAgICAgICAgICByZXR1cm4gZGVjb2RlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzZXJpYWxpemUodmFsdWUsIHNlcmlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemUoXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlID09PSBcIlwiID8gXCJcIiA6IGF3YWl0IGVuY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKSxcbiAgICAgICAge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgLi4uc2VyaWFsaXplT3B0aW9uc1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgfTtcbn07XG52YXIgaXNDb29raWUgPSAob2JqZWN0KSA9PiB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0Lm5hbWUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5pc1NpZ25lZCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZW9mIG9iamVjdC5wYXJzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3Quc2VyaWFsaXplID09PSBcImZ1bmN0aW9uXCI7XG59O1xuYXN5bmMgZnVuY3Rpb24gZW5jb2RlQ29va2llVmFsdWUodmFsdWUsIHNlY3JldHMpIHtcbiAgbGV0IGVuY29kZWQgPSBlbmNvZGVEYXRhKHZhbHVlKTtcbiAgaWYgKHNlY3JldHMubGVuZ3RoID4gMCkge1xuICAgIGVuY29kZWQgPSBhd2FpdCBzaWduKGVuY29kZWQsIHNlY3JldHNbMF0pO1xuICB9XG4gIHJldHVybiBlbmNvZGVkO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjb2RlQ29va2llVmFsdWUodmFsdWUsIHNlY3JldHMpIHtcbiAgaWYgKHNlY3JldHMubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IHNlY3JldCBvZiBzZWNyZXRzKSB7XG4gICAgICBsZXQgdW5zaWduZWRWYWx1ZSA9IGF3YWl0IHVuc2lnbih2YWx1ZSwgc2VjcmV0KTtcbiAgICAgIGlmICh1bnNpZ25lZFZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlRGF0YSh1bnNpZ25lZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGRlY29kZURhdGEodmFsdWUpO1xufVxuZnVuY3Rpb24gZW5jb2RlRGF0YSh2YWx1ZSkge1xuICByZXR1cm4gYnRvYShteVVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpKSk7XG59XG5mdW5jdGlvbiBkZWNvZGVEYXRhKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KG15RXNjYXBlKGF0b2IodmFsdWUpKSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuZnVuY3Rpb24gbXlFc2NhcGUodmFsdWUpIHtcbiAgbGV0IHN0ciA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBsZXQgaW5kZXggPSAwO1xuICBsZXQgY2hyLCBjb2RlO1xuICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgY2hyID0gc3RyLmNoYXJBdChpbmRleCsrKTtcbiAgICBpZiAoL1tcXHcqK1xcLS4vQF0vLmV4ZWMoY2hyKSkge1xuICAgICAgcmVzdWx0ICs9IGNocjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29kZSA9IGNoci5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJVwiICsgaGV4KGNvZGUsIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJXVcIiArIGhleChjb2RlLCA0KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaGV4KGNvZGUsIGxlbmd0aCkge1xuICBsZXQgcmVzdWx0ID0gY29kZS50b1N0cmluZygxNik7XG4gIHdoaWxlIChyZXN1bHQubGVuZ3RoIDwgbGVuZ3RoKSByZXN1bHQgPSBcIjBcIiArIHJlc3VsdDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG15VW5lc2NhcGUodmFsdWUpIHtcbiAgbGV0IHN0ciA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBsZXQgaW5kZXggPSAwO1xuICBsZXQgY2hyLCBwYXJ0O1xuICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgY2hyID0gc3RyLmNoYXJBdChpbmRleCsrKTtcbiAgICBpZiAoY2hyID09PSBcIiVcIikge1xuICAgICAgaWYgKHN0ci5jaGFyQXQoaW5kZXgpID09PSBcInVcIikge1xuICAgICAgICBwYXJ0ID0gc3RyLnNsaWNlKGluZGV4ICsgMSwgaW5kZXggKyA1KTtcbiAgICAgICAgaWYgKC9eW1xcZGEtZl17NH0kL2kuZXhlYyhwYXJ0KSkge1xuICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHBhcnQsIDE2KSk7XG4gICAgICAgICAgaW5kZXggKz0gNTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydCA9IHN0ci5zbGljZShpbmRleCwgaW5kZXggKyAyKTtcbiAgICAgICAgaWYgKC9eW1xcZGEtZl17Mn0kL2kuZXhlYyhwYXJ0KSkge1xuICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHBhcnQsIDE2KSk7XG4gICAgICAgICAgaW5kZXggKz0gMjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgKz0gY2hyO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB3YXJuT25jZUFib3V0RXhwaXJlc0Nvb2tpZShuYW1lLCBleHBpcmVzKSB7XG4gIHdhcm5PbmNlKFxuICAgICFleHBpcmVzLFxuICAgIGBUaGUgXCIke25hbWV9XCIgY29va2llIGhhcyBhbiBcImV4cGlyZXNcIiBwcm9wZXJ0eSBzZXQuIFRoaXMgd2lsbCBjYXVzZSB0aGUgZXhwaXJlcyB2YWx1ZSB0byBub3QgYmUgdXBkYXRlZCB3aGVuIHRoZSBzZXNzaW9uIGlzIGNvbW1pdHRlZC4gSW5zdGVhZCwgeW91IHNob3VsZCBzZXQgdGhlIGV4cGlyZXMgdmFsdWUgd2hlbiBzZXJpYWxpemluZyB0aGUgY29va2llLiBZb3UgY2FuIHVzZSBcXGBjb21taXRTZXNzaW9uKHNlc3Npb24sIHsgZXhwaXJlcyB9KVxcYCBpZiB1c2luZyBhIHNlc3Npb24gc3RvcmFnZSBvYmplY3QsIG9yIFxcYGNvb2tpZS5zZXJpYWxpemUoXCJ2YWx1ZVwiLCB7IGV4cGlyZXMgfSlcXGAgaWYgeW91J3JlIHVzaW5nIHRoZSBjb29raWUgZGlyZWN0bHkuYFxuICApO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZW50cnkudHNcbmZ1bmN0aW9uIGNyZWF0ZUVudHJ5Um91dGVNb2R1bGVzKG1hbmlmZXN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhtYW5pZmVzdCkucmVkdWNlKChtZW1vMiwgcm91dGVJZCkgPT4ge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W3JvdXRlSWRdO1xuICAgIGlmIChyb3V0ZSkge1xuICAgICAgbWVtbzJbcm91dGVJZF0gPSByb3V0ZS5tb2R1bGU7XG4gICAgfVxuICAgIHJldHVybiBtZW1vMjtcbiAgfSwge30pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvbW9kZS50c1xudmFyIFNlcnZlck1vZGUgPSAvKiBAX19QVVJFX18gKi8gKChTZXJ2ZXJNb2RlMikgPT4ge1xuICBTZXJ2ZXJNb2RlMltcIkRldmVsb3BtZW50XCJdID0gXCJkZXZlbG9wbWVudFwiO1xuICBTZXJ2ZXJNb2RlMltcIlByb2R1Y3Rpb25cIl0gPSBcInByb2R1Y3Rpb25cIjtcbiAgU2VydmVyTW9kZTJbXCJUZXN0XCJdID0gXCJ0ZXN0XCI7XG4gIHJldHVybiBTZXJ2ZXJNb2RlMjtcbn0pKFNlcnZlck1vZGUgfHwge30pO1xuZnVuY3Rpb24gaXNTZXJ2ZXJNb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gXCJkZXZlbG9wbWVudFwiIC8qIERldmVsb3BtZW50ICovIHx8IHZhbHVlID09PSBcInByb2R1Y3Rpb25cIiAvKiBQcm9kdWN0aW9uICovIHx8IHZhbHVlID09PSBcInRlc3RcIiAvKiBUZXN0ICovO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZXJyb3JzLnRzXG5mdW5jdGlvbiBzYW5pdGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKSB7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIHNlcnZlck1vZGUgIT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLykge1xuICAgIGxldCBzYW5pdGl6ZWQgPSBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiKTtcbiAgICBzYW5pdGl6ZWQuc3RhY2sgPSB2b2lkIDA7XG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUVycm9ycyhlcnJvcnMsIHNlcnZlck1vZGUpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGVycm9ycykucmVkdWNlKChhY2MsIFtyb3V0ZUlkLCBlcnJvcl0pID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW3JvdXRlSWRdOiBzYW5pdGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKSB9KTtcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3IoZXJyb3IsIHNlcnZlck1vZGUpIHtcbiAgbGV0IHNhbml0aXplZCA9IHNhbml0aXplRXJyb3IoZXJyb3IsIHNlcnZlck1vZGUpO1xuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6IHNhbml0aXplZC5tZXNzYWdlLFxuICAgIHN0YWNrOiBzYW5pdGl6ZWQuc3RhY2tcbiAgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9yczIoZXJyb3JzLCBzZXJ2ZXJNb2RlKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UodmFsKSkge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0geyAuLi52YWwsIF9fdHlwZTogXCJSb3V0ZUVycm9yUmVzcG9uc2VcIiB9O1xuICAgIH0gZWxzZSBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGxldCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUVycm9yKHZhbCwgc2VydmVyTW9kZSk7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7XG4gICAgICAgIG1lc3NhZ2U6IHNhbml0aXplZC5tZXNzYWdlLFxuICAgICAgICBzdGFjazogc2FuaXRpemVkLnN0YWNrLFxuICAgICAgICBfX3R5cGU6IFwiRXJyb3JcIixcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHN1YmNsYXNzIChpLmUuLCBSZWZlcmVuY2VFcnJvciksIHNlbmQgdXAgdGhlIHR5cGUgc28gd2VcbiAgICAgICAgLy8gY2FuIHJlLWNyZWF0ZSB0aGUgc2FtZSB0eXBlIGR1cmluZyBoeWRyYXRpb24uICBUaGlzIHdpbGwgb25seSBhcHBseVxuICAgICAgICAvLyBpbiBkZXYgbW9kZSBzaW5jZSBhbGwgcHJvZHVjdGlvbiBlcnJvcnMgYXJlIHNhbml0aXplZCB0byBub3JtYWxcbiAgICAgICAgLy8gRXJyb3IgaW5zdGFuY2VzXG4gICAgICAgIC4uLnNhbml0aXplZC5uYW1lICE9PSBcIkVycm9yXCIgPyB7XG4gICAgICAgICAgX19zdWJUeXBlOiBzYW5pdGl6ZWQubmFtZVxuICAgICAgICB9IDoge31cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9yb3V0ZU1hdGNoaW5nLnRzXG5mdW5jdGlvbiBtYXRjaFNlcnZlclJvdXRlcyhyb3V0ZXMsIHBhdGhuYW1lLCBiYXNlbmFtZSkge1xuICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBwYXRobmFtZSxcbiAgICBiYXNlbmFtZVxuICApO1xuICBpZiAoIW1hdGNoZXMpIHJldHVybiBudWxsO1xuICByZXR1cm4gbWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiAoe1xuICAgIHBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgIHBhdGhuYW1lOiBtYXRjaC5wYXRobmFtZSxcbiAgICByb3V0ZTogbWF0Y2gucm91dGVcbiAgfSkpO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZGF0YS50c1xuYXN5bmMgZnVuY3Rpb24gY2FsbFJvdXRlSGFuZGxlcihoYW5kbGVyLCBhcmdzKSB7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKHtcbiAgICByZXF1ZXN0OiBzdHJpcFJvdXRlc1BhcmFtKHN0cmlwSW5kZXhQYXJhbTIoYXJncy5yZXF1ZXN0KSksXG4gICAgcGFyYW1zOiBhcmdzLnBhcmFtcyxcbiAgICBjb250ZXh0OiBhcmdzLmNvbnRleHRcbiAgfSk7XG4gIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkgJiYgcmVzdWx0LmluaXQgJiYgcmVzdWx0LmluaXQuc3RhdHVzICYmIGlzUmVkaXJlY3RTdGF0dXNDb2RlKHJlc3VsdC5pbml0LnN0YXR1cykpIHtcbiAgICB0aHJvdyBuZXcgUmVzcG9uc2UobnVsbCwgcmVzdWx0LmluaXQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzdHJpcEluZGV4UGFyYW0yKHJlcXVlc3QpIHtcbiAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICBsZXQgaW5kZXhWYWx1ZXMgPSB1cmwuc2VhcmNoUGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICBsZXQgaW5kZXhWYWx1ZXNUb0tlZXAgPSBbXTtcbiAgZm9yIChsZXQgaW5kZXhWYWx1ZSBvZiBpbmRleFZhbHVlcykge1xuICAgIGlmIChpbmRleFZhbHVlKSB7XG4gICAgICBpbmRleFZhbHVlc1RvS2VlcC5wdXNoKGluZGV4VmFsdWUpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCB0b0tlZXAgb2YgaW5kZXhWYWx1ZXNUb0tlZXApIHtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHRvS2VlcCk7XG4gIH1cbiAgbGV0IGluaXQgPSB7XG4gICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgfTtcbiAgaWYgKGluaXQuYm9keSkge1xuICAgIGluaXQuZHVwbGV4ID0gXCJoYWxmXCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybC5ocmVmLCBpbml0KTtcbn1cbmZ1bmN0aW9uIHN0cmlwUm91dGVzUGFyYW0ocmVxdWVzdCkge1xuICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiX3JvdXRlc1wiKTtcbiAgbGV0IGluaXQgPSB7XG4gICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgfTtcbiAgaWYgKGluaXQuYm9keSkge1xuICAgIGluaXQuZHVwbGV4ID0gXCJoYWxmXCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybC5ocmVmLCBpbml0KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2ludmFyaWFudC50c1xuZnVuY3Rpb24gaW52YXJpYW50Myh2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlRoZSBmb2xsb3dpbmcgZXJyb3IgaXMgYSBidWcgaW4gUmVhY3QgUm91dGVyOyBwbGVhc2Ugb3BlbiBhbiBpc3N1ZSEgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9yZWFjdC1yb3V0ZXIvaXNzdWVzL25ldy9jaG9vc2VcIlxuICAgICk7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9yb3V0ZXMudHNcbmZ1bmN0aW9uIGdyb3VwUm91dGVzQnlQYXJlbnRJZDIobWFuaWZlc3QpIHtcbiAgbGV0IHJvdXRlcyA9IHt9O1xuICBPYmplY3QudmFsdWVzKG1hbmlmZXN0KS5mb3JFYWNoKChyb3V0ZSkgPT4ge1xuICAgIGlmIChyb3V0ZSkge1xuICAgICAgbGV0IHBhcmVudElkID0gcm91dGUucGFyZW50SWQgfHwgXCJcIjtcbiAgICAgIGlmICghcm91dGVzW3BhcmVudElkXSkge1xuICAgICAgICByb3V0ZXNbcGFyZW50SWRdID0gW107XG4gICAgICB9XG4gICAgICByb3V0ZXNbcGFyZW50SWRdLnB1c2gocm91dGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByb3V0ZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXMobWFuaWZlc3QsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZDIobWFuaWZlc3QpKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+ICh7XG4gICAgLi4ucm91dGUsXG4gICAgY2hpbGRyZW46IGNyZWF0ZVJvdXRlcyhtYW5pZmVzdCwgcm91dGUuaWQsIHJvdXRlc0J5UGFyZW50SWQpXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXJEYXRhUm91dGVzKG1hbmlmZXN0LCBmdXR1cmUsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZDIobWFuaWZlc3QpKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+IHtcbiAgICBsZXQgY29tbW9uUm91dGUgPSB7XG4gICAgICAvLyBBbHdheXMgaW5jbHVkZSByb290IGR1ZSB0byBkZWZhdWx0IGJvdW5kYXJpZXNcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLmlkID09PSBcInJvb3RcIiB8fCByb3V0ZS5tb2R1bGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsLFxuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IHJvdXRlLm1vZHVsZS51bnN0YWJsZV9taWRkbGV3YXJlLFxuICAgICAgLy8gTmVlZCB0byB1c2UgUlIncyB2ZXJzaW9uIGluIHRoZSBwYXJhbSB0eXBlZCBoZXJlIHRvIHBlcm1pdCB0aGUgb3B0aW9uYWxcbiAgICAgIC8vIGNvbnRleHQgZXZlbiB0aG91Z2ggd2Uga25vdyBpdCdsbCBhbHdheXMgYmUgcHJvdmlkZWQgaW4gcmVtaXhcbiAgICAgIGxvYWRlcjogcm91dGUubW9kdWxlLmxvYWRlciA/IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLnJlcXVlc3QuaGVhZGVycy5oYXMoXCJYLVJlYWN0LVJvdXRlci1QcmVyZW5kZXItRGF0YVwiKSkge1xuICAgICAgICAgIGNvbnN0IHByZVJlbmRlcmVkRGF0YSA9IGFyZ3MucmVxdWVzdC5oZWFkZXJzLmdldChcbiAgICAgICAgICAgIFwiWC1SZWFjdC1Sb3V0ZXItUHJlcmVuZGVyLURhdGFcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGVuY29kZWQgPSBwcmVSZW5kZXJlZERhdGEgPyBkZWNvZGVVUkkocHJlUmVuZGVyZWREYXRhKSA6IHByZVJlbmRlcmVkRGF0YTtcbiAgICAgICAgICBpbnZhcmlhbnQzKGVuY29kZWQsIFwiTWlzc2luZyBwcmVyZW5kZXJlZCBkYXRhIGZvciByb3V0ZVwiKTtcbiAgICAgICAgICBsZXQgdWludDhhcnJheSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShlbmNvZGVkKTtcbiAgICAgICAgICBsZXQgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHVpbnQ4YXJyYXkpO1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGV0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVWaWFUdXJib1N0cmVhbShzdHJlYW0sIGdsb2JhbCk7XG4gICAgICAgICAgbGV0IGRhdGEyID0gZGVjb2RlZC52YWx1ZTtcbiAgICAgICAgICBpbnZhcmlhbnQzKFxuICAgICAgICAgICAgZGF0YTIgJiYgcm91dGUuaWQgaW4gZGF0YTIsXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBkZWNvZGUgcHJlcmVuZGVyZWQgZGF0YVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gZGF0YTJbcm91dGUuaWRdO1xuICAgICAgICAgIGludmFyaWFudDMoXCJkYXRhXCIgaW4gcmVzdWx0LCBcIlVuYWJsZSB0byBwcm9jZXNzIHByZXJlbmRlcmVkIGRhdGFcIik7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWwgPSBhd2FpdCBjYWxsUm91dGVIYW5kbGVyKHJvdXRlLm1vZHVsZS5sb2FkZXIsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfSA6IHZvaWQgMCxcbiAgICAgIGFjdGlvbjogcm91dGUubW9kdWxlLmFjdGlvbiA/IChhcmdzKSA9PiBjYWxsUm91dGVIYW5kbGVyKHJvdXRlLm1vZHVsZS5hY3Rpb24sIGFyZ3MpIDogdm9pZCAwLFxuICAgICAgaGFuZGxlOiByb3V0ZS5tb2R1bGUuaGFuZGxlXG4gICAgfTtcbiAgICByZXR1cm4gcm91dGUuaW5kZXggPyB7XG4gICAgICBpbmRleDogdHJ1ZSxcbiAgICAgIC4uLmNvbW1vblJvdXRlXG4gICAgfSA6IHtcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUsXG4gICAgICBjaGlsZHJlbjogY3JlYXRlU3RhdGljSGFuZGxlckRhdGFSb3V0ZXMoXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICBmdXR1cmUsXG4gICAgICAgIHJvdXRlLmlkLFxuICAgICAgICByb3V0ZXNCeVBhcmVudElkXG4gICAgICApLFxuICAgICAgLi4uY29tbW9uUm91dGVcbiAgICB9O1xuICB9KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL21hcmt1cC50c1xudmFyIEVTQ0FQRV9MT09LVVAzID0ge1xuICBcIiZcIjogXCJcXFxcdTAwMjZcIixcbiAgXCI+XCI6IFwiXFxcXHUwMDNlXCIsXG4gIFwiPFwiOiBcIlxcXFx1MDAzY1wiLFxuICBcIlxcdTIwMjhcIjogXCJcXFxcdTIwMjhcIixcbiAgXCJcXHUyMDI5XCI6IFwiXFxcXHUyMDI5XCJcbn07XG52YXIgRVNDQVBFX1JFR0VYMyA9IC9bJj48XFx1MjAyOFxcdTIwMjldL2c7XG5mdW5jdGlvbiBlc2NhcGVIdG1sMihodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoRVNDQVBFX1JFR0VYMywgKG1hdGNoKSA9PiBFU0NBUEVfTE9PS1VQM1ttYXRjaF0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2VydmVySGFuZG9mZi50c1xuZnVuY3Rpb24gY3JlYXRlU2VydmVySGFuZG9mZlN0cmluZyhzZXJ2ZXJIYW5kb2ZmKSB7XG4gIHJldHVybiBlc2NhcGVIdG1sMihKU09OLnN0cmluZ2lmeShzZXJ2ZXJIYW5kb2ZmKSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9kZXYudHNcbnZhciBnbG9iYWxEZXZTZXJ2ZXJIb29rc0tleSA9IFwiX19yZWFjdFJvdXRlckRldlNlcnZlckhvb2tzXCI7XG5mdW5jdGlvbiBzZXREZXZTZXJ2ZXJIb29rcyhkZXZTZXJ2ZXJIb29rcykge1xuICBnbG9iYWxUaGlzW2dsb2JhbERldlNlcnZlckhvb2tzS2V5XSA9IGRldlNlcnZlckhvb2tzO1xufVxuZnVuY3Rpb24gZ2V0RGV2U2VydmVySG9va3MoKSB7XG4gIHJldHVybiBnbG9iYWxUaGlzW2dsb2JhbERldlNlcnZlckhvb2tzS2V5XTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NpbmdsZS1mZXRjaC50c1xuaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSBcInR1cmJvLXN0cmVhbVwiO1xuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvaGVhZGVycy50c1xuaW1wb3J0IHsgc3BsaXRDb29raWVzU3RyaW5nIH0gZnJvbSBcInNldC1jb29raWUtcGFyc2VyXCI7XG5mdW5jdGlvbiBnZXREb2N1bWVudEhlYWRlcnMoYnVpbGQsIGNvbnRleHQpIHtcbiAgbGV0IGJvdW5kYXJ5SWR4ID0gY29udGV4dC5lcnJvcnMgPyBjb250ZXh0Lm1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBjb250ZXh0LmVycm9yc1ttLnJvdXRlLmlkXSkgOiAtMTtcbiAgbGV0IG1hdGNoZXMgPSBib3VuZGFyeUlkeCA+PSAwID8gY29udGV4dC5tYXRjaGVzLnNsaWNlKDAsIGJvdW5kYXJ5SWR4ICsgMSkgOiBjb250ZXh0Lm1hdGNoZXM7XG4gIGxldCBlcnJvckhlYWRlcnM7XG4gIGlmIChib3VuZGFyeUlkeCA+PSAwKSB7XG4gICAgbGV0IHsgYWN0aW9uSGVhZGVycywgYWN0aW9uRGF0YSwgbG9hZGVySGVhZGVycywgbG9hZGVyRGF0YSB9ID0gY29udGV4dDtcbiAgICBjb250ZXh0Lm1hdGNoZXMuc2xpY2UoYm91bmRhcnlJZHgpLnNvbWUoKG1hdGNoKSA9PiB7XG4gICAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICAgIGlmIChhY3Rpb25IZWFkZXJzW2lkXSAmJiAoIWFjdGlvbkRhdGEgfHwgIWFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSkge1xuICAgICAgICBlcnJvckhlYWRlcnMgPSBhY3Rpb25IZWFkZXJzW2lkXTtcbiAgICAgIH0gZWxzZSBpZiAobG9hZGVySGVhZGVyc1tpZF0gJiYgIWxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgIGVycm9ySGVhZGVycyA9IGxvYWRlckhlYWRlcnNbaWRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVycm9ySGVhZGVycyAhPSBudWxsO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBtYXRjaGVzLnJlZHVjZSgocGFyZW50SGVhZGVycywgbWF0Y2gsIGlkeCkgPT4ge1xuICAgIGxldCB7IGlkIH0gPSBtYXRjaC5yb3V0ZTtcbiAgICBsZXQgcm91dGUgPSBidWlsZC5yb3V0ZXNbaWRdO1xuICAgIGludmFyaWFudDMocm91dGUsIGBSb3V0ZSB3aXRoIGlkIFwiJHtpZH1cIiBub3QgZm91bmQgaW4gYnVpbGRgKTtcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZS5tb2R1bGU7XG4gICAgbGV0IGxvYWRlckhlYWRlcnMgPSBjb250ZXh0LmxvYWRlckhlYWRlcnNbaWRdIHx8IG5ldyBIZWFkZXJzKCk7XG4gICAgbGV0IGFjdGlvbkhlYWRlcnMgPSBjb250ZXh0LmFjdGlvbkhlYWRlcnNbaWRdIHx8IG5ldyBIZWFkZXJzKCk7XG4gICAgbGV0IGluY2x1ZGVFcnJvckhlYWRlcnMgPSBlcnJvckhlYWRlcnMgIT0gbnVsbCAmJiBpZHggPT09IG1hdGNoZXMubGVuZ3RoIC0gMTtcbiAgICBsZXQgaW5jbHVkZUVycm9yQ29va2llcyA9IGluY2x1ZGVFcnJvckhlYWRlcnMgJiYgZXJyb3JIZWFkZXJzICE9PSBsb2FkZXJIZWFkZXJzICYmIGVycm9ySGVhZGVycyAhPT0gYWN0aW9uSGVhZGVycztcbiAgICBpZiAocm91dGVNb2R1bGUuaGVhZGVycyA9PSBudWxsKSB7XG4gICAgICBsZXQgaGVhZGVyczIgPSBuZXcgSGVhZGVycyhwYXJlbnRIZWFkZXJzKTtcbiAgICAgIGlmIChpbmNsdWRlRXJyb3JDb29raWVzKSB7XG4gICAgICAgIHByZXBlbmRDb29raWVzKGVycm9ySGVhZGVycywgaGVhZGVyczIpO1xuICAgICAgfVxuICAgICAgcHJlcGVuZENvb2tpZXMoYWN0aW9uSGVhZGVycywgaGVhZGVyczIpO1xuICAgICAgcHJlcGVuZENvb2tpZXMobG9hZGVySGVhZGVycywgaGVhZGVyczIpO1xuICAgICAgcmV0dXJuIGhlYWRlcnMyO1xuICAgIH1cbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgcm91dGVNb2R1bGUuaGVhZGVycyA/IHR5cGVvZiByb3V0ZU1vZHVsZS5oZWFkZXJzID09PSBcImZ1bmN0aW9uXCIgPyByb3V0ZU1vZHVsZS5oZWFkZXJzKHtcbiAgICAgICAgbG9hZGVySGVhZGVycyxcbiAgICAgICAgcGFyZW50SGVhZGVycyxcbiAgICAgICAgYWN0aW9uSGVhZGVycyxcbiAgICAgICAgZXJyb3JIZWFkZXJzOiBpbmNsdWRlRXJyb3JIZWFkZXJzID8gZXJyb3JIZWFkZXJzIDogdm9pZCAwXG4gICAgICB9KSA6IHJvdXRlTW9kdWxlLmhlYWRlcnMgOiB2b2lkIDBcbiAgICApO1xuICAgIGlmIChpbmNsdWRlRXJyb3JDb29raWVzKSB7XG4gICAgICBwcmVwZW5kQ29va2llcyhlcnJvckhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBwcmVwZW5kQ29va2llcyhhY3Rpb25IZWFkZXJzLCBoZWFkZXJzKTtcbiAgICBwcmVwZW5kQ29va2llcyhsb2FkZXJIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICBwcmVwZW5kQ29va2llcyhwYXJlbnRIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICByZXR1cm4gaGVhZGVycztcbiAgfSwgbmV3IEhlYWRlcnMoKSk7XG59XG5mdW5jdGlvbiBwcmVwZW5kQ29va2llcyhwYXJlbnRIZWFkZXJzLCBjaGlsZEhlYWRlcnMpIHtcbiAgbGV0IHBhcmVudFNldENvb2tpZVN0cmluZyA9IHBhcmVudEhlYWRlcnMuZ2V0KFwiU2V0LUNvb2tpZVwiKTtcbiAgaWYgKHBhcmVudFNldENvb2tpZVN0cmluZykge1xuICAgIGxldCBjb29raWVzID0gc3BsaXRDb29raWVzU3RyaW5nKHBhcmVudFNldENvb2tpZVN0cmluZyk7XG4gICAgbGV0IGNoaWxkQ29va2llcyA9IG5ldyBTZXQoY2hpbGRIZWFkZXJzLmdldFNldENvb2tpZSgpKTtcbiAgICBjb29raWVzLmZvckVhY2goKGNvb2tpZSkgPT4ge1xuICAgICAgaWYgKCFjaGlsZENvb2tpZXMuaGFzKGNvb2tpZSkpIHtcbiAgICAgICAgY2hpbGRIZWFkZXJzLmFwcGVuZChcIlNldC1Db29raWVcIiwgY29va2llKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2luZ2xlLWZldGNoLnRzXG52YXIgTk9fQk9EWV9TVEFUVVNfQ09ERVMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMTAwLCAxMDEsIDIwNCwgMjA1LCAzMDRdKTtcbnZhciBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTID0gMjAyO1xuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hBY3Rpb24oYnVpbGQsIHNlcnZlck1vZGUsIHN0YXRpY0hhbmRsZXIsIHJlcXVlc3QsIGhhbmRsZXJVcmwsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvcikge1xuICB0cnkge1xuICAgIGxldCByZXNwb25kMiA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIGxldCBoZWFkZXJzID0gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KTtcbiAgICAgIGlmIChpc1JlZGlyZWN0U3RhdHVzQ29kZShjb250ZXh0LnN0YXR1c0NvZGUpICYmIGhlYWRlcnMuaGFzKFwiTG9jYXRpb25cIikpIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICAgIHJlc3VsdDogZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycykuZm9yRWFjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1JvdXRlRXJyb3JSZXNwb25zZShlcnIpIHx8IGVyci5lcnJvcikge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICAgIGxldCBzaW5nbGVGZXRjaFJlc3VsdDtcbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBzaW5nbGVGZXRjaFJlc3VsdCA9IHsgZXJyb3I6IE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpWzBdIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaW5nbGVGZXRjaFJlc3VsdCA9IHtcbiAgICAgICAgICBkYXRhOiBPYmplY3QudmFsdWVzKGNvbnRleHQuYWN0aW9uRGF0YSB8fCB7fSlbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiBzaW5nbGVGZXRjaFJlc3VsdCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1c0NvZGVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHJlc3BvbmQgPSByZXNwb25kMjtcbiAgICBsZXQgaGFuZGxlclJlcXVlc3QgPSBuZXcgUmVxdWVzdChoYW5kbGVyVXJsLCB7XG4gICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgYm9keTogcmVxdWVzdC5ib2R5LFxuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIC4uLnJlcXVlc3QuYm9keSA/IHsgZHVwbGV4OiBcImhhbGZcIiB9IDogdm9pZCAwXG4gICAgfSk7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHN0YXRpY0hhbmRsZXIucXVlcnkoaGFuZGxlclJlcXVlc3QsIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiB0cnVlLFxuICAgICAgc2tpcFJldmFsaWRhdGlvbjogdHJ1ZSxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmQyXG4gICAgfSk7XG4gICAgaWYgKCFpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3BvbmQyKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICByZXN1bHQuaGVhZGVycyxcbiAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICApLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgcmVzdWx0OiB7IGVycm9yIH0sXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycygpLFxuICAgICAgc3RhdHVzOiA1MDBcbiAgICB9KTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hMb2FkZXJzKGJ1aWxkLCBzZXJ2ZXJNb2RlLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBoYW5kbGVyVXJsLCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uZDIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICBsZXQgaGVhZGVycyA9IGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCk7XG4gICAgICBpZiAoaXNSZWRpcmVjdFN0YXR1c0NvZGUoY29udGV4dC5zdGF0dXNDb2RlKSAmJiBoZWFkZXJzLmhhcyhcIkxvY2F0aW9uXCIpKSB7XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgIFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICAgICAgY29udGV4dC5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycykuZm9yRWFjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1JvdXRlRXJyb3JSZXNwb25zZShlcnIpIHx8IGVyci5lcnJvcikge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHRzID0ge307XG4gICAgICBsZXQgbG9hZGVkTWF0Y2hlcyA9IG5ldyBTZXQoXG4gICAgICAgIGNvbnRleHQubWF0Y2hlcy5maWx0ZXIoXG4gICAgICAgICAgKG0pID0+IGxvYWRSb3V0ZUlkcyA/IGxvYWRSb3V0ZUlkcy5oYXMobS5yb3V0ZS5pZCkgOiBtLnJvdXRlLmxvYWRlciAhPSBudWxsXG4gICAgICAgICkubWFwKChtKSA9PiBtLnJvdXRlLmlkKVxuICAgICAgKTtcbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBmb3IgKGxldCBbaWQsIGVycm9yXSBvZiBPYmplY3QuZW50cmllcyhjb250ZXh0LmVycm9ycykpIHtcbiAgICAgICAgICByZXN1bHRzW2lkXSA9IHsgZXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgW2lkLCBkYXRhMl0gb2YgT2JqZWN0LmVudHJpZXMoY29udGV4dC5sb2FkZXJEYXRhKSkge1xuICAgICAgICBpZiAoIShpZCBpbiByZXN1bHRzKSAmJiBsb2FkZWRNYXRjaGVzLmhhcyhpZCkpIHtcbiAgICAgICAgICByZXN1bHRzW2lkXSA9IHsgZGF0YTogZGF0YTIgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IHJlc3VsdHMsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogY29udGV4dC5zdGF0dXNDb2RlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciByZXNwb25kID0gcmVzcG9uZDI7XG4gICAgbGV0IGhhbmRsZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaGFuZGxlclVybCwge1xuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbFxuICAgIH0pO1xuICAgIGxldCByb3V0ZXNQYXJhbSA9IG5ldyBVUkwocmVxdWVzdC51cmwpLnNlYXJjaFBhcmFtcy5nZXQoXCJfcm91dGVzXCIpO1xuICAgIGxldCBsb2FkUm91dGVJZHMgPSByb3V0ZXNQYXJhbSA/IG5ldyBTZXQocm91dGVzUGFyYW0uc3BsaXQoXCIsXCIpKSA6IG51bGw7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHN0YXRpY0hhbmRsZXIucXVlcnkoaGFuZGxlclJlcXVlc3QsIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQ6IChtKSA9PiAhbG9hZFJvdXRlSWRzIHx8IGxvYWRSb3V0ZUlkcy5oYXMobS5yb3V0ZS5pZCksXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogdHJ1ZSxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmQyXG4gICAgfSk7XG4gICAgaWYgKCFpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3BvbmQyKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgICAgcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVU1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgIHJlc3VsdDogeyByb290OiB7IGVycm9yIH0gfSxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKCksXG4gICAgICBzdGF0dXM6IDUwMFxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgcmVzdWx0LFxuICBoZWFkZXJzLFxuICBzdGF0dXNcbn0pIHtcbiAgbGV0IHJlc3VsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyhoZWFkZXJzKTtcbiAgcmVzdWx0SGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlc3BvbnNlXCIsIFwieWVzXCIpO1xuICBpZiAoTk9fQk9EWV9TVEFUVVNfQ09ERVMuaGFzKHN0YXR1cykpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzLCBoZWFkZXJzOiByZXN1bHRIZWFkZXJzIH0pO1xuICB9XG4gIHJlc3VsdEhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwidGV4dC94LXNjcmlwdFwiKTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICBzZXJ2ZXJNb2RlXG4gICAgKSxcbiAgICB7XG4gICAgICBzdGF0dXM6IHN0YXR1cyB8fCAyMDAsXG4gICAgICBoZWFkZXJzOiByZXN1bHRIZWFkZXJzXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChzdGF0dXMsIGhlYWRlcnMsIGJhc2VuYW1lKSB7XG4gIGxldCByZWRpcmVjdDIgPSBoZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICBpZiAoYmFzZW5hbWUpIHtcbiAgICByZWRpcmVjdDIgPSBzdHJpcEJhc2VuYW1lKHJlZGlyZWN0MiwgYmFzZW5hbWUpIHx8IHJlZGlyZWN0MjtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlZGlyZWN0OiByZWRpcmVjdDIsXG4gICAgc3RhdHVzLFxuICAgIHJldmFsaWRhdGU6IChcbiAgICAgIC8vIFRlY2huaWNhbGx5IFgtUmVtaXgtUmV2YWxpZGF0ZSBpc24ndCBuZWVkZWQgaGVyZSAtIHRoYXQgd2FzIGFuIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyBkZXRhaWwgb2YgP19kYXRhIHJlcXVlc3RzIGFzIG91ciB3YXkgdG8gdGVsbCB0aGUgZnJvbnQgZW5kIHRvIHJldmFsaWRhdGUgd2hlblxuICAgICAgLy8gd2UgZGlkbid0IGhhdmUgYSByZXNwb25zZSBib2R5IHRvIGluY2x1ZGUgdGhhdCBpbmZvcm1hdGlvbiBpbi5cbiAgICAgIC8vIFdpdGggc2luZ2xlIGZldGNoLCB3ZSB0ZWxsIHRoZSBmcm9udCBlbmQgdmlhIHRoaXMgcmV2YWxpZGF0ZSBib29sZWFuIGZpZWxkLlxuICAgICAgLy8gSG93ZXZlciwgd2UncmUgcmVzcGVjdGluZyBpdCBmb3Igbm93IGJlY2F1c2UgaXQgbWF5IGJlIHNvbWV0aGluZyBmb2xrcyBoYXZlXG4gICAgICAvLyB1c2VkIGluIHRoZWlyIG93biByZXNwb25zZXNcbiAgICAgIC8vIFRPRE8odjMpOiBDb25zaWRlciByZW1vdmluZyBvciBtYWtpbmcgdGhpcyBvZmZpY2lhbCBwdWJsaWMgQVBJXG4gICAgICBoZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiKSB8fCBoZWFkZXJzLmhhcyhcIlNldC1Db29raWVcIilcbiAgICApLFxuICAgIHJlbG9hZDogaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiKSxcbiAgICByZXBsYWNlOiBoZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVwbGFjZVwiKVxuICB9O1xufVxuZnVuY3Rpb24gZW5jb2RlVmlhVHVyYm9TdHJlYW0oZGF0YTIsIHJlcXVlc3RTaWduYWwsIHN0cmVhbVRpbWVvdXQsIHNlcnZlck1vZGUpIHtcbiAgbGV0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGxldCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgICgpID0+IGNvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKFwiU2VydmVyIFRpbWVvdXRcIikpLFxuICAgIHR5cGVvZiBzdHJlYW1UaW1lb3V0ID09PSBcIm51bWJlclwiID8gc3RyZWFtVGltZW91dCA6IDQ5NTBcbiAgKTtcbiAgcmVxdWVzdFNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCkpO1xuICByZXR1cm4gZW5jb2RlKGRhdGEyLCB7XG4gICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICBwbHVnaW5zOiBbXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBsZXQgeyBuYW1lLCBtZXNzYWdlLCBzdGFjayB9ID0gc2VydmVyTW9kZSA9PT0gXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLyA/IHNhbml0aXplRXJyb3IodmFsdWUsIHNlcnZlck1vZGUpIDogdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIFtcIlNhbml0aXplZEVycm9yXCIsIG5hbWUsIG1lc3NhZ2UsIHN0YWNrXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvclJlc3BvbnNlSW1wbCkge1xuICAgICAgICAgIGxldCB7IGRhdGE6IGRhdGEzLCBzdGF0dXMsIHN0YXR1c1RleHQgfSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBbXCJFcnJvclJlc3BvbnNlXCIsIGRhdGEzLCBzdGF0dXMsIHN0YXR1c1RleHRdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCBpbiB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBbXCJTaW5nbGVGZXRjaFJlZGlyZWN0XCIsIHZhbHVlW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0sXG4gICAgcG9zdFBsdWdpbnM6IFtcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcIlNpbmdsZUZldGNoQ2xhc3NJbnN0YW5jZVwiLFxuICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh2YWx1ZSkpXG4gICAgICAgIF07XG4gICAgICB9LFxuICAgICAgKCkgPT4gW1wiU2luZ2xlRmV0Y2hGYWxsYmFja1wiXVxuICAgIF1cbiAgfSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXJ2ZXIudHNcbmZ1bmN0aW9uIGRlcml2ZShidWlsZCwgbW9kZSkge1xuICBsZXQgcm91dGVzID0gY3JlYXRlUm91dGVzKGJ1aWxkLnJvdXRlcyk7XG4gIGxldCBkYXRhUm91dGVzID0gY3JlYXRlU3RhdGljSGFuZGxlckRhdGFSb3V0ZXMoYnVpbGQucm91dGVzLCBidWlsZC5mdXR1cmUpO1xuICBsZXQgc2VydmVyTW9kZSA9IGlzU2VydmVyTW9kZShtb2RlKSA/IG1vZGUgOiBcInByb2R1Y3Rpb25cIiAvKiBQcm9kdWN0aW9uICovO1xuICBsZXQgc3RhdGljSGFuZGxlciA9IGNyZWF0ZVN0YXRpY0hhbmRsZXIoZGF0YVJvdXRlcywge1xuICAgIGJhc2VuYW1lOiBidWlsZC5iYXNlbmFtZVxuICB9KTtcbiAgbGV0IGVycm9ySGFuZGxlciA9IGJ1aWxkLmVudHJ5Lm1vZHVsZS5oYW5kbGVFcnJvciB8fCAoKGVycm9yLCB7IHJlcXVlc3QgfSkgPT4ge1xuICAgIGlmIChzZXJ2ZXJNb2RlICE9PSBcInRlc3RcIiAvKiBUZXN0ICovICYmICFyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgaXMgXCJwcml2YXRlXCIgZnJvbSB1c2VycyBidXQgaW50ZW5kZWQgZm9yIGludGVybmFsIHVzZVxuICAgICAgICBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgJiYgZXJyb3IuZXJyb3IgPyBlcnJvci5lcnJvciA6IGVycm9yXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcm91dGVzLFxuICAgIGRhdGFSb3V0ZXMsXG4gICAgc2VydmVyTW9kZSxcbiAgICBzdGF0aWNIYW5kbGVyLFxuICAgIGVycm9ySGFuZGxlclxuICB9O1xufVxudmFyIGNyZWF0ZVJlcXVlc3RIYW5kbGVyID0gKGJ1aWxkLCBtb2RlKSA9PiB7XG4gIGxldCBfYnVpbGQ7XG4gIGxldCByb3V0ZXM7XG4gIGxldCBzZXJ2ZXJNb2RlO1xuICBsZXQgc3RhdGljSGFuZGxlcjtcbiAgbGV0IGVycm9ySGFuZGxlcjtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RIYW5kbGVyKHJlcXVlc3QsIGluaXRpYWxDb250ZXh0KSB7XG4gICAgX2J1aWxkID0gdHlwZW9mIGJ1aWxkID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBidWlsZCgpIDogYnVpbGQ7XG4gICAgbGV0IGxvYWRDb250ZXh0ID0gX2J1aWxkLmZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlID8gbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcihcbiAgICAgIGluaXRpYWxDb250ZXh0XG4gICAgKSA6IGluaXRpYWxDb250ZXh0IHx8IHt9O1xuICAgIGlmICh0eXBlb2YgYnVpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgbGV0IGRlcml2ZWQgPSBkZXJpdmUoX2J1aWxkLCBtb2RlKTtcbiAgICAgIHJvdXRlcyA9IGRlcml2ZWQucm91dGVzO1xuICAgICAgc2VydmVyTW9kZSA9IGRlcml2ZWQuc2VydmVyTW9kZTtcbiAgICAgIHN0YXRpY0hhbmRsZXIgPSBkZXJpdmVkLnN0YXRpY0hhbmRsZXI7XG4gICAgICBlcnJvckhhbmRsZXIgPSBkZXJpdmVkLmVycm9ySGFuZGxlcjtcbiAgICB9IGVsc2UgaWYgKCFyb3V0ZXMgfHwgIXNlcnZlck1vZGUgfHwgIXN0YXRpY0hhbmRsZXIgfHwgIWVycm9ySGFuZGxlcikge1xuICAgICAgbGV0IGRlcml2ZWQgPSBkZXJpdmUoX2J1aWxkLCBtb2RlKTtcbiAgICAgIHJvdXRlcyA9IGRlcml2ZWQucm91dGVzO1xuICAgICAgc2VydmVyTW9kZSA9IGRlcml2ZWQuc2VydmVyTW9kZTtcbiAgICAgIHN0YXRpY0hhbmRsZXIgPSBkZXJpdmVkLnN0YXRpY0hhbmRsZXI7XG4gICAgICBlcnJvckhhbmRsZXIgPSBkZXJpdmVkLmVycm9ySGFuZGxlcjtcbiAgICB9XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBub3JtYWxpemVkQmFzZW5hbWUgPSBfYnVpbGQuYmFzZW5hbWUgfHwgXCIvXCI7XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gdXJsLnBhdGhuYW1lO1xuICAgIGlmIChzdHJpcEJhc2VuYW1lKG5vcm1hbGl6ZWRQYXRoLCBub3JtYWxpemVkQmFzZW5hbWUpID09PSBcIi9fcm9vdC5kYXRhXCIpIHtcbiAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZEJhc2VuYW1lO1xuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFBhdGguZW5kc1dpdGgoXCIuZGF0YVwiKSkge1xuICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5yZXBsYWNlKC9cXC5kYXRhJC8sIFwiXCIpO1xuICAgIH1cbiAgICBpZiAoc3RyaXBCYXNlbmFtZShub3JtYWxpemVkUGF0aCwgbm9ybWFsaXplZEJhc2VuYW1lKSAhPT0gXCIvXCIgJiYgbm9ybWFsaXplZFBhdGguZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRQYXRoLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgIGxldCBoYW5kbGVFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgaWYgKG1vZGUgPT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLykge1xuICAgICAgICBnZXREZXZTZXJ2ZXJIb29rcygpPy5wcm9jZXNzUmVxdWVzdEVycm9yPy4oZXJyb3IpO1xuICAgICAgfVxuICAgICAgZXJyb3JIYW5kbGVyKGVycm9yLCB7XG4gICAgICAgIGNvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKCFfYnVpbGQuc3NyKSB7XG4gICAgICBpZiAoX2J1aWxkLnByZXJlbmRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldChcIlgtUmVhY3QtUm91dGVyLVNQQS1Nb2RlXCIsIFwieWVzXCIpO1xuICAgICAgfSBlbHNlIGlmICghX2J1aWxkLnByZXJlbmRlci5pbmNsdWRlcyhub3JtYWxpemVkUGF0aCkgJiYgIV9idWlsZC5wcmVyZW5kZXIuaW5jbHVkZXMobm9ybWFsaXplZFBhdGggKyBcIi9cIikpIHtcbiAgICAgICAgaWYgKHVybC5wYXRobmFtZS5lbmRzV2l0aChcIi5kYXRhXCIpKSB7XG4gICAgICAgICAgZXJyb3JIYW5kbGVyKFxuICAgICAgICAgICAgbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgICAgICA0MDQsXG4gICAgICAgICAgICAgIFwiTm90IEZvdW5kXCIsXG4gICAgICAgICAgICAgIGBSZWZ1c2luZyB0byBTU1IgdGhlIHBhdGggXFxgJHtub3JtYWxpemVkUGF0aH1cXGAgYmVjYXVzZSBcXGBzc3I6ZmFsc2VcXGAgaXMgc2V0IGFuZCB0aGUgcGF0aCBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIFxcYHByZXJlbmRlclxcYCBjb25maWcsIHNvIGluIHByb2R1Y3Rpb24gdGhlIHBhdGggd2lsbCBiZSBhIDQwNC5gXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiTm90IEZvdW5kXCIsIHtcbiAgICAgICAgICAgIHN0YXR1czogNDA0LFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJOb3QgRm91bmRcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiLCBcInllc1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWFuaWZlc3RVcmwgPSBgJHtub3JtYWxpemVkQmFzZW5hbWV9L19fbWFuaWZlc3RgLnJlcGxhY2UoL1xcLysvZywgXCIvXCIpO1xuICAgIGlmICh1cmwucGF0aG5hbWUgPT09IG1hbmlmZXN0VXJsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgaGFuZGxlTWFuaWZlc3RSZXF1ZXN0KF9idWlsZCwgcm91dGVzLCB1cmwpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBoYW5kbGVFcnJvcihlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIlVua25vd24gU2VydmVyIEVycm9yXCIsIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hTZXJ2ZXJSb3V0ZXMocm91dGVzLCB1cmwucGF0aG5hbWUsIF9idWlsZC5iYXNlbmFtZSk7XG4gICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHBhcmFtcywgbWF0Y2hlc1swXS5wYXJhbXMpO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgaWYgKHVybC5wYXRobmFtZS5lbmRzV2l0aChcIi5kYXRhXCIpKSB7XG4gICAgICBsZXQgaGFuZGxlclVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgaGFuZGxlclVybC5wYXRobmFtZSA9IG5vcm1hbGl6ZWRQYXRoO1xuICAgICAgbGV0IHNpbmdsZUZldGNoTWF0Y2hlcyA9IG1hdGNoU2VydmVyUm91dGVzKFxuICAgICAgICByb3V0ZXMsXG4gICAgICAgIGhhbmRsZXJVcmwucGF0aG5hbWUsXG4gICAgICAgIF9idWlsZC5iYXNlbmFtZVxuICAgICAgKTtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlU2luZ2xlRmV0Y2hSZXF1ZXN0KFxuICAgICAgICBzZXJ2ZXJNb2RlLFxuICAgICAgICBfYnVpbGQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGhhbmRsZXJVcmwsXG4gICAgICAgIGxvYWRDb250ZXh0LFxuICAgICAgICBoYW5kbGVFcnJvclxuICAgICAgKTtcbiAgICAgIGlmIChfYnVpbGQuZW50cnkubW9kdWxlLmhhbmRsZURhdGFSZXF1ZXN0KSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgX2J1aWxkLmVudHJ5Lm1vZHVsZS5oYW5kbGVEYXRhUmVxdWVzdChyZXNwb25zZSwge1xuICAgICAgICAgIGNvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgICAgIHBhcmFtczogc2luZ2xlRmV0Y2hNYXRjaGVzID8gc2luZ2xlRmV0Y2hNYXRjaGVzWzBdLnBhcmFtcyA6IHt9LFxuICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgX2J1aWxkLmJhc2VuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdOiByZXN1bHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3gtc2NyaXB0XCIpO1xuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgICBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgICAgICAgX2J1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgICAgICAgICBzZXJ2ZXJNb2RlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVMsXG4gICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcmVxdWVzdC5oZWFkZXJzLmhhcyhcIlgtUmVhY3QtUm91dGVyLVNQQS1Nb2RlXCIpICYmIG1hdGNoZXMgJiYgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLm1vZHVsZS5kZWZhdWx0ID09IG51bGwgJiYgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLm1vZHVsZS5FcnJvckJvdW5kYXJ5ID09IG51bGwpIHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVzb3VyY2VSZXF1ZXN0KFxuICAgICAgICBzZXJ2ZXJNb2RlLFxuICAgICAgICBfYnVpbGQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgICAgIG1hdGNoZXMuc2xpY2UoLTEpWzBdLnJvdXRlLmlkLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBsb2FkQ29udGV4dCxcbiAgICAgICAgaGFuZGxlRXJyb3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB7IHBhdGhuYW1lIH0gPSB1cmw7XG4gICAgICBsZXQgY3JpdGljYWxDc3MgPSB2b2lkIDA7XG4gICAgICBpZiAoX2J1aWxkLmdldENyaXRpY2FsQ3NzKSB7XG4gICAgICAgIGNyaXRpY2FsQ3NzID0gYXdhaXQgX2J1aWxkLmdldENyaXRpY2FsQ3NzKHsgcGF0aG5hbWUgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLyAmJiBnZXREZXZTZXJ2ZXJIb29rcygpPy5nZXRDcml0aWNhbENzcykge1xuICAgICAgICBjcml0aWNhbENzcyA9IGF3YWl0IGdldERldlNlcnZlckhvb2tzKCk/LmdldENyaXRpY2FsQ3NzPy4ocGF0aG5hbWUpO1xuICAgICAgfVxuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVEb2N1bWVudFJlcXVlc3QoXG4gICAgICAgIHNlcnZlck1vZGUsXG4gICAgICAgIF9idWlsZCxcbiAgICAgICAgc3RhdGljSGFuZGxlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9hZENvbnRleHQsXG4gICAgICAgIGhhbmRsZUVycm9yLFxuICAgICAgICBjcml0aWNhbENzc1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1hbmlmZXN0UmVxdWVzdChidWlsZCwgcm91dGVzLCB1cmwpIHtcbiAgaWYgKGJ1aWxkLmFzc2V0cy52ZXJzaW9uICE9PSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInZlcnNpb25cIikpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgIHN0YXR1czogMjA0LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCI6IFwidHJ1ZVwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbGV0IHBhdGNoZXMgPSB7fTtcbiAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKFwicFwiKSkge1xuICAgIGZvciAobGV0IHBhdGggb2YgdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoXCJwXCIpKSB7XG4gICAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoU2VydmVyUm91dGVzKHJvdXRlcywgcGF0aCwgYnVpbGQuYmFzZW5hbWUpO1xuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgIGxldCByb3V0ZUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgICAgICAgbGV0IHJvdXRlID0gYnVpbGQuYXNzZXRzLnJvdXRlc1tyb3V0ZUlkXTtcbiAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgIHBhdGNoZXNbcm91dGVJZF0gPSByb3V0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocGF0Y2hlcywge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJwdWJsaWMsIG1heC1hZ2U9MzE1MzYwMDAsIGltbXV0YWJsZVwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcIkludmFsaWQgUmVxdWVzdFwiLCB7IHN0YXR1czogNDAwIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2luZ2xlRmV0Y2hSZXF1ZXN0KHNlcnZlck1vZGUsIGJ1aWxkLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBoYW5kbGVyVXJsLCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgbGV0IHJlc3BvbnNlID0gcmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIgPyBhd2FpdCBzaW5nbGVGZXRjaEFjdGlvbihcbiAgICBidWlsZCxcbiAgICBzZXJ2ZXJNb2RlLFxuICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgcmVxdWVzdCxcbiAgICBoYW5kbGVyVXJsLFxuICAgIGxvYWRDb250ZXh0LFxuICAgIGhhbmRsZUVycm9yXG4gICkgOiBhd2FpdCBzaW5nbGVGZXRjaExvYWRlcnMoXG4gICAgYnVpbGQsXG4gICAgc2VydmVyTW9kZSxcbiAgICBzdGF0aWNIYW5kbGVyLFxuICAgIHJlcXVlc3QsXG4gICAgaGFuZGxlclVybCxcbiAgICBsb2FkQ29udGV4dCxcbiAgICBoYW5kbGVFcnJvclxuICApO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEb2N1bWVudFJlcXVlc3Qoc2VydmVyTW9kZSwgYnVpbGQsIHN0YXRpY0hhbmRsZXIsIHJlcXVlc3QsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvciwgY3JpdGljYWxDc3MpIHtcbiAgbGV0IGlzU3BhTW9kZSA9IHJlcXVlc3QuaGVhZGVycy5oYXMoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiKTtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5KHJlcXVlc3QsIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IGJ1aWxkLmZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlID8gKGN0eCkgPT4gcmVuZGVySHRtbChjdHgsIGlzU3BhTW9kZSkgOiB2b2lkIDBcbiAgICB9KTtcbiAgICByZXR1cm4gaXNSZXNwb25zZShyZXNwb25zZSkgPyByZXNwb25zZSA6IHJlbmRlckh0bWwocmVzcG9uc2UsIGlzU3BhTW9kZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZW5kZXJIdG1sKGNvbnRleHQsIGlzU3BhTW9kZTIpIHtcbiAgICBpZiAoaXNSZXNwb25zZShjb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGxldCBoZWFkZXJzID0gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KTtcbiAgICBpZiAoTk9fQk9EWV9TVEFUVVNfQ09ERVMuaGFzKGNvbnRleHQuc3RhdHVzQ29kZSkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IGNvbnRleHQuc3RhdHVzQ29kZSwgaGVhZGVycyB9KTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICBPYmplY3QudmFsdWVzKGNvbnRleHQuZXJyb3JzKS5mb3JFYWNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKCFpc1JvdXRlRXJyb3JSZXNwb25zZShlcnIpIHx8IGVyci5lcnJvcikge1xuICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgfVxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgIGVycm9yczogc2VyaWFsaXplRXJyb3JzMihjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSlcbiAgICB9O1xuICAgIGxldCBlbnRyeUNvbnRleHQgPSB7XG4gICAgICBtYW5pZmVzdDogYnVpbGQuYXNzZXRzLFxuICAgICAgcm91dGVNb2R1bGVzOiBjcmVhdGVFbnRyeVJvdXRlTW9kdWxlcyhidWlsZC5yb3V0ZXMpLFxuICAgICAgc3RhdGljSGFuZGxlckNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBjcml0aWNhbENzcyxcbiAgICAgIHNlcnZlckhhbmRvZmZTdHJpbmc6IGNyZWF0ZVNlcnZlckhhbmRvZmZTdHJpbmcoe1xuICAgICAgICBiYXNlbmFtZTogYnVpbGQuYmFzZW5hbWUsXG4gICAgICAgIGNyaXRpY2FsQ3NzLFxuICAgICAgICBmdXR1cmU6IGJ1aWxkLmZ1dHVyZSxcbiAgICAgICAgc3NyOiBidWlsZC5zc3IsXG4gICAgICAgIGlzU3BhTW9kZTogaXNTcGFNb2RlMlxuICAgICAgfSksXG4gICAgICBzZXJ2ZXJIYW5kb2ZmU3RyZWFtOiBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBidWlsZC5lbnRyeS5tb2R1bGUuc3RyZWFtVGltZW91dCxcbiAgICAgICAgc2VydmVyTW9kZVxuICAgICAgKSxcbiAgICAgIHJlbmRlck1ldGE6IHt9LFxuICAgICAgZnV0dXJlOiBidWlsZC5mdXR1cmUsXG4gICAgICBzc3I6IGJ1aWxkLnNzcixcbiAgICAgIGlzU3BhTW9kZTogaXNTcGFNb2RlMixcbiAgICAgIHNlcmlhbGl6ZUVycm9yOiAoZXJyKSA9PiBzZXJpYWxpemVFcnJvcihlcnIsIHNlcnZlck1vZGUpXG4gICAgfTtcbiAgICBsZXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0RnVuY3Rpb24gPSBidWlsZC5lbnRyeS5tb2R1bGUuZGVmYXVsdDtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZURvY3VtZW50UmVxdWVzdEZ1bmN0aW9uKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGVudHJ5Q29udGV4dCxcbiAgICAgICAgbG9hZENvbnRleHRcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgIGxldCBlcnJvckZvclNlY29uZFJlbmRlciA9IGVycm9yO1xuICAgICAgaWYgKGlzUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGRhdGEyID0gYXdhaXQgdW53cmFwUmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICAgIGVycm9yRm9yU2Vjb25kUmVuZGVyID0gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgICAgZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgZXJyb3Iuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIGRhdGEyXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihcbiAgICAgICAgc3RhdGljSGFuZGxlci5kYXRhUm91dGVzLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBlcnJvckZvclNlY29uZFJlbmRlclxuICAgICAgKTtcbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICAgIGxldCBzdGF0ZTIgPSB7XG4gICAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9yczIoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpXG4gICAgICB9O1xuICAgICAgZW50cnlDb250ZXh0ID0ge1xuICAgICAgICAuLi5lbnRyeUNvbnRleHQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXJDb250ZXh0OiBjb250ZXh0LFxuICAgICAgICBzZXJ2ZXJIYW5kb2ZmU3RyaW5nOiBjcmVhdGVTZXJ2ZXJIYW5kb2ZmU3RyaW5nKHtcbiAgICAgICAgICBiYXNlbmFtZTogYnVpbGQuYmFzZW5hbWUsXG4gICAgICAgICAgZnV0dXJlOiBidWlsZC5mdXR1cmUsXG4gICAgICAgICAgc3NyOiBidWlsZC5zc3IsXG4gICAgICAgICAgaXNTcGFNb2RlOiBpc1NwYU1vZGUyXG4gICAgICAgIH0pLFxuICAgICAgICBzZXJ2ZXJIYW5kb2ZmU3RyZWFtOiBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgICAgICBzdGF0ZTIsXG4gICAgICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICAgICAgYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICAgICAgc2VydmVyTW9kZVxuICAgICAgICApLFxuICAgICAgICByZW5kZXJNZXRhOiB7fVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVEb2N1bWVudFJlcXVlc3RGdW5jdGlvbihcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGVudHJ5Q29udGV4dCxcbiAgICAgICAgICBsb2FkQ29udGV4dFxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yMik7XG4gICAgICAgIHJldHVybiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShlcnJvcjIsIHNlcnZlck1vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVzb3VyY2VSZXF1ZXN0KHNlcnZlck1vZGUsIGJ1aWxkLCBzdGF0aWNIYW5kbGVyLCByb3V0ZUlkLCByZXF1ZXN0LCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5Um91dGUocmVxdWVzdCwge1xuICAgICAgcm91dGVJZCxcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IGJ1aWxkLmZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlID8gKGN0eCkgPT4gY3R4IDogdm9pZCAwXG4gICAgfSk7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbihyZXNwb25zZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICBlcnJvci5oZWFkZXJzLnNldChcIlgtUmVtaXgtQ2F0Y2hcIiwgXCJ5ZXNcIik7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXJyb3JSZXNwb25zZVRvSnNvbihlcnJvciwgc2VydmVyTW9kZSk7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09IFwiRXhwZWN0ZWQgYSByZXNwb25zZSBmcm9tIHF1ZXJ5Um91dGVcIikge1xuICAgICAgbGV0IG5ld0Vycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBcIkV4cGVjdGVkIGEgUmVzcG9uc2UgdG8gYmUgcmV0dXJuZWQgZnJvbSByZXNvdXJjZSByb3V0ZSBoYW5kbGVyXCJcbiAgICAgICk7XG4gICAgICBoYW5kbGVFcnJvcihuZXdFcnJvcik7XG4gICAgICByZXR1cm4gcmV0dXJuTGFzdFJlc29ydEVycm9yUmVzcG9uc2UobmV3RXJyb3IsIHNlcnZlck1vZGUpO1xuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKGVycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgfVxufVxuZnVuY3Rpb24gZXJyb3JSZXNwb25zZVRvSnNvbihlcnJvclJlc3BvbnNlLCBzZXJ2ZXJNb2RlKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKFxuICAgIHNlcmlhbGl6ZUVycm9yKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIGlzIFwicHJpdmF0ZVwiIGZyb20gdXNlcnMgYnV0IGludGVuZGVkIGZvciBpbnRlcm5hbCB1c2VcbiAgICAgIGVycm9yUmVzcG9uc2UuZXJyb3IgfHwgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIiksXG4gICAgICBzZXJ2ZXJNb2RlXG4gICAgKSxcbiAgICB7XG4gICAgICBzdGF0dXM6IGVycm9yUmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIlgtUmVtaXgtRXJyb3JcIjogXCJ5ZXNcIlxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKGVycm9yLCBzZXJ2ZXJNb2RlKSB7XG4gIGxldCBtZXNzYWdlID0gXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiO1xuICBpZiAoc2VydmVyTW9kZSAhPT0gXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLykge1xuICAgIG1lc3NhZ2UgKz0gYFxuXG4ke1N0cmluZyhlcnJvcil9YDtcbiAgfVxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG1lc3NhZ2UsIHtcbiAgICBzdGF0dXM6IDUwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW5cIlxuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB1bndyYXBSZXNwb25zZShyZXNwb25zZSkge1xuICBsZXQgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgcmV0dXJuIGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL2pzb25cXGIvLnRlc3QoY29udGVudFR5cGUpID8gcmVzcG9uc2UuYm9keSA9PSBudWxsID8gbnVsbCA6IHJlc3BvbnNlLmpzb24oKSA6IHJlc3BvbnNlLnRleHQoKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3Nlc3Npb25zLnRzXG5mdW5jdGlvbiBmbGFzaChuYW1lKSB7XG4gIHJldHVybiBgX19mbGFzaF8ke25hbWV9X19gO1xufVxudmFyIGNyZWF0ZVNlc3Npb24gPSAoaW5pdGlhbERhdGEgPSB7fSwgaWQgPSBcIlwiKSA9PiB7XG4gIGxldCBtYXAgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGluaXRpYWxEYXRhKSk7XG4gIHJldHVybiB7XG4gICAgZ2V0IGlkKCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKG1hcCk7XG4gICAgfSxcbiAgICBoYXMobmFtZSkge1xuICAgICAgcmV0dXJuIG1hcC5oYXMobmFtZSkgfHwgbWFwLmhhcyhmbGFzaChuYW1lKSk7XG4gICAgfSxcbiAgICBnZXQobmFtZSkge1xuICAgICAgaWYgKG1hcC5oYXMobmFtZSkpIHJldHVybiBtYXAuZ2V0KG5hbWUpO1xuICAgICAgbGV0IGZsYXNoTmFtZSA9IGZsYXNoKG5hbWUpO1xuICAgICAgaWYgKG1hcC5oYXMoZmxhc2hOYW1lKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBtYXAuZ2V0KGZsYXNoTmFtZSk7XG4gICAgICAgIG1hcC5kZWxldGUoZmxhc2hOYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9LFxuICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgbWFwLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBmbGFzaChuYW1lLCB2YWx1ZSkge1xuICAgICAgbWFwLnNldChmbGFzaChuYW1lKSwgdmFsdWUpO1xuICAgIH0sXG4gICAgdW5zZXQobmFtZSkge1xuICAgICAgbWFwLmRlbGV0ZShuYW1lKTtcbiAgICB9XG4gIH07XG59O1xudmFyIGlzU2Vzc2lvbiA9IChvYmplY3QpID0+IHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QuaWQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5kYXRhICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBvYmplY3QuaGFzID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC5nZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LnNldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3QuZmxhc2ggPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LnVuc2V0ID09PSBcImZ1bmN0aW9uXCI7XG59O1xuZnVuY3Rpb24gY3JlYXRlU2Vzc2lvblN0b3JhZ2Uoe1xuICBjb29raWU6IGNvb2tpZUFyZyxcbiAgY3JlYXRlRGF0YSxcbiAgcmVhZERhdGEsXG4gIHVwZGF0ZURhdGEsXG4gIGRlbGV0ZURhdGFcbn0pIHtcbiAgbGV0IGNvb2tpZSA9IGlzQ29va2llKGNvb2tpZUFyZykgPyBjb29raWVBcmcgOiBjcmVhdGVDb29raWUoY29va2llQXJnPy5uYW1lIHx8IFwiX19zZXNzaW9uXCIsIGNvb2tpZUFyZyk7XG4gIHdhcm5PbmNlQWJvdXRTaWduaW5nU2Vzc2lvbkNvb2tpZShjb29raWUpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIGdldFNlc3Npb24oY29va2llSGVhZGVyLCBvcHRpb25zKSB7XG4gICAgICBsZXQgaWQgPSBjb29raWVIZWFkZXIgJiYgYXdhaXQgY29va2llLnBhcnNlKGNvb2tpZUhlYWRlciwgb3B0aW9ucyk7XG4gICAgICBsZXQgZGF0YTIgPSBpZCAmJiBhd2FpdCByZWFkRGF0YShpZCk7XG4gICAgICByZXR1cm4gY3JlYXRlU2Vzc2lvbihkYXRhMiB8fCB7fSwgaWQgfHwgXCJcIik7XG4gICAgfSxcbiAgICBhc3luYyBjb21taXRTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIGxldCB7IGlkLCBkYXRhOiBkYXRhMiB9ID0gc2Vzc2lvbjtcbiAgICAgIGxldCBleHBpcmVzID0gb3B0aW9ucz8ubWF4QWdlICE9IG51bGwgPyBuZXcgRGF0ZShEYXRlLm5vdygpICsgb3B0aW9ucy5tYXhBZ2UgKiAxZTMpIDogb3B0aW9ucz8uZXhwaXJlcyAhPSBudWxsID8gb3B0aW9ucy5leHBpcmVzIDogY29va2llLmV4cGlyZXM7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgYXdhaXQgdXBkYXRlRGF0YShpZCwgZGF0YTIsIGV4cGlyZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWQgPSBhd2FpdCBjcmVhdGVEYXRhKGRhdGEyLCBleHBpcmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb29raWUuc2VyaWFsaXplKGlkLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGFzeW5jIGRlc3Ryb3lTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IGRlbGV0ZURhdGEoc2Vzc2lvbi5pZCk7XG4gICAgICByZXR1cm4gY29va2llLnNlcmlhbGl6ZShcIlwiLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIG1heEFnZTogdm9pZCAwLFxuICAgICAgICBleHBpcmVzOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoMClcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHdhcm5PbmNlQWJvdXRTaWduaW5nU2Vzc2lvbkNvb2tpZShjb29raWUpIHtcbiAgd2Fybk9uY2UoXG4gICAgY29va2llLmlzU2lnbmVkLFxuICAgIGBUaGUgXCIke2Nvb2tpZS5uYW1lfVwiIGNvb2tpZSBpcyBub3Qgc2lnbmVkLCBidXQgc2Vzc2lvbiBjb29raWVzIHNob3VsZCBiZSBzaWduZWQgdG8gcHJldmVudCB0YW1wZXJpbmcgb24gdGhlIGNsaWVudCBiZWZvcmUgdGhleSBhcmUgc2VudCBiYWNrIHRvIHRoZSBzZXJ2ZXIuIFNlZSBodHRwczovL3JlbWl4LnJ1bi91dGlscy9jb29raWVzI3NpZ25pbmctY29va2llcyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXNzaW9ucy9jb29raWVTdG9yYWdlLnRzXG5mdW5jdGlvbiBjcmVhdGVDb29raWVTZXNzaW9uU3RvcmFnZSh7IGNvb2tpZTogY29va2llQXJnIH0gPSB7fSkge1xuICBsZXQgY29va2llID0gaXNDb29raWUoY29va2llQXJnKSA/IGNvb2tpZUFyZyA6IGNyZWF0ZUNvb2tpZShjb29raWVBcmc/Lm5hbWUgfHwgXCJfX3Nlc3Npb25cIiwgY29va2llQXJnKTtcbiAgd2Fybk9uY2VBYm91dFNpZ25pbmdTZXNzaW9uQ29va2llKGNvb2tpZSk7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgZ2V0U2Vzc2lvbihjb29raWVIZWFkZXIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTZXNzaW9uKFxuICAgICAgICBjb29raWVIZWFkZXIgJiYgYXdhaXQgY29va2llLnBhcnNlKGNvb2tpZUhlYWRlciwgb3B0aW9ucykgfHwge31cbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyBjb21taXRTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIGxldCBzZXJpYWxpemVkQ29va2llID0gYXdhaXQgY29va2llLnNlcmlhbGl6ZShzZXNzaW9uLmRhdGEsIG9wdGlvbnMpO1xuICAgICAgaWYgKHNlcmlhbGl6ZWRDb29raWUubGVuZ3RoID4gNDA5Nikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJDb29raWUgbGVuZ3RoIHdpbGwgZXhjZWVkIGJyb3dzZXIgbWF4aW11bS4gTGVuZ3RoOiBcIiArIHNlcmlhbGl6ZWRDb29raWUubGVuZ3RoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VyaWFsaXplZENvb2tpZTtcbiAgICB9LFxuICAgIGFzeW5jIGRlc3Ryb3lTZXNzaW9uKF9zZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gY29va2llLnNlcmlhbGl6ZShcIlwiLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIG1heEFnZTogdm9pZCAwLFxuICAgICAgICBleHBpcmVzOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoMClcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3Nlc3Npb25zL21lbW9yeVN0b3JhZ2UudHNcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeVNlc3Npb25TdG9yYWdlKHsgY29va2llIH0gPSB7fSkge1xuICBsZXQgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgcmV0dXJuIGNyZWF0ZVNlc3Npb25TdG9yYWdlKHtcbiAgICBjb29raWUsXG4gICAgYXN5bmMgY3JlYXRlRGF0YShkYXRhMiwgZXhwaXJlcykge1xuICAgICAgbGV0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKTtcbiAgICAgIG1hcC5zZXQoaWQsIHsgZGF0YTogZGF0YTIsIGV4cGlyZXMgfSk7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfSxcbiAgICBhc3luYyByZWFkRGF0YShpZCkge1xuICAgICAgaWYgKG1hcC5oYXMoaWQpKSB7XG4gICAgICAgIGxldCB7IGRhdGE6IGRhdGEyLCBleHBpcmVzIH0gPSBtYXAuZ2V0KGlkKTtcbiAgICAgICAgaWYgKCFleHBpcmVzIHx8IGV4cGlyZXMgPiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkge1xuICAgICAgICAgIHJldHVybiBkYXRhMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwaXJlcykgbWFwLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGFzeW5jIHVwZGF0ZURhdGEoaWQsIGRhdGEyLCBleHBpcmVzKSB7XG4gICAgICBtYXAuc2V0KGlkLCB7IGRhdGE6IGRhdGEyLCBleHBpcmVzIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZGVsZXRlRGF0YShpZCkge1xuICAgICAgbWFwLmRlbGV0ZShpZCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gbGliL2hyZWYudHNcbmZ1bmN0aW9uIGhyZWYocGF0aCwgLi4uYXJncykge1xuICBsZXQgcGFyYW1zID0gYXJnc1swXTtcbiAgcmV0dXJuIHBhdGguc3BsaXQoXCIvXCIpLm1hcCgoc2VnbWVudCkgPT4ge1xuICAgIGNvbnN0IG1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW1xcdy1dKykoXFw/KT8vKTtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gc2VnbWVudDtcbiAgICBjb25zdCBwYXJhbSA9IG1hdGNoWzFdO1xuICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zID8gcGFyYW1zW3BhcmFtXSA6IHZvaWQgMDtcbiAgICBjb25zdCBpc1JlcXVpcmVkID0gbWF0Y2hbMl0gPT09IHZvaWQgMDtcbiAgICBpZiAoaXNSZXF1aXJlZCAmJiB2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFBhdGggJyR7cGF0aH0nIHJlcXVpcmVzIHBhcmFtICcke3BhcmFtfScgYnV0IGl0IHdhcyBub3QgcHJvdmlkZWRgXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudCAhPT0gdm9pZCAwKS5qb2luKFwiL1wiKTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZXJyb3JzLnRzXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9yczIoZXJyb3JzKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiUm91dGVFcnJvclJlc3BvbnNlXCIpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgdmFsLnN0YXR1cyxcbiAgICAgICAgdmFsLnN0YXR1c1RleHQsXG4gICAgICAgIHZhbC5kYXRhLFxuICAgICAgICB2YWwuaW50ZXJuYWwgPT09IHRydWVcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJFcnJvclwiKSB7XG4gICAgICBpZiAodmFsLl9fc3ViVHlwZSkge1xuICAgICAgICBsZXQgRXJyb3JDb25zdHJ1Y3RvciA9IHdpbmRvd1t2YWwuX19zdWJUeXBlXTtcbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvckNvbnN0cnVjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yQ29uc3RydWN0b3IodmFsLm1lc3NhZ2UpO1xuICAgICAgICAgICAgZXJyb3Iuc3RhY2sgPSB2YWwuc3RhY2s7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2VyaWFsaXplZFtrZXldID09IG51bGwpIHtcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSB2YWwuc3RhY2s7XG4gICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuXG5leHBvcnQge1xuICBBY3Rpb24sXG4gIGNyZWF0ZUJyb3dzZXJIaXN0b3J5LFxuICBpbnZhcmlhbnQsXG4gIGNyZWF0ZVBhdGgsXG4gIHBhcnNlUGF0aCxcbiAgdW5zdGFibGVfY3JlYXRlQ29udGV4dCxcbiAgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyLFxuICBtYXRjaFJvdXRlcyxcbiAgZ2VuZXJhdGVQYXRoLFxuICBtYXRjaFBhdGgsXG4gIHJlc29sdmVQYXRoLFxuICBkYXRhLFxuICByZWRpcmVjdCxcbiAgcmVkaXJlY3REb2N1bWVudCxcbiAgcmVwbGFjZSxcbiAgRXJyb3JSZXNwb25zZUltcGwsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICBJRExFX05BVklHQVRJT04sXG4gIElETEVfRkVUQ0hFUixcbiAgSURMRV9CTE9DS0VSLFxuICBjcmVhdGVSb3V0ZXIsXG4gIERhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBWaWV3VHJhbnNpdGlvbkNvbnRleHQsXG4gIEZldGNoZXJzQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQsXG4gIExvY2F0aW9uQ29udGV4dCxcbiAgUm91dGVDb250ZXh0LFxuICB1c2VIcmVmLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZUxvY2F0aW9uLFxuICB1c2VOYXZpZ2F0aW9uVHlwZSxcbiAgdXNlTWF0Y2gsXG4gIHVzZU5hdmlnYXRlLFxuICB1c2VPdXRsZXRDb250ZXh0LFxuICB1c2VPdXRsZXQsXG4gIHVzZVBhcmFtcyxcbiAgdXNlUmVzb2x2ZWRQYXRoLFxuICB1c2VSb3V0ZXMsXG4gIHVzZU5hdmlnYXRpb24sXG4gIHVzZVJldmFsaWRhdG9yLFxuICB1c2VNYXRjaGVzLFxuICB1c2VMb2FkZXJEYXRhLFxuICB1c2VSb3V0ZUxvYWRlckRhdGEsXG4gIHVzZUFjdGlvbkRhdGEsXG4gIHVzZVJvdXRlRXJyb3IsXG4gIHVzZUFzeW5jVmFsdWUsXG4gIHVzZUFzeW5jRXJyb3IsXG4gIHVzZUJsb2NrZXIsXG4gIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgY3JlYXRlTWVtb3J5Um91dGVyLFxuICBSb3V0ZXJQcm92aWRlcixcbiAgTWVtb3J5Um91dGVyLFxuICBOYXZpZ2F0ZSxcbiAgT3V0bGV0LFxuICBSb3V0ZSxcbiAgUm91dGVyLFxuICBSb3V0ZXMsXG4gIEF3YWl0LFxuICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4sXG4gIGNyZWF0ZVJvdXRlc0Zyb21FbGVtZW50cyxcbiAgcmVuZGVyTWF0Y2hlcyxcbiAgY3JlYXRlU2VhcmNoUGFyYW1zLFxuICBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sLFxuICBnZXRTaW5nbGVGZXRjaERhdGFTdHJhdGVneSxcbiAgZGVjb2RlVmlhVHVyYm9TdHJlYW0sXG4gIFJlbWl4RXJyb3JCb3VuZGFyeSxcbiAgY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dCxcbiAgY3JlYXRlQ2xpZW50Um91dGVzLFxuICBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIsXG4gIGdldFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24sXG4gIHVzZUZvZ09GV2FyRGlzY292ZXJ5LFxuICBGcmFtZXdvcmtDb250ZXh0LFxuICBMaW5rcyxcbiAgUHJlZmV0Y2hQYWdlTGlua3MsXG4gIE1ldGEsXG4gIFNjcmlwdHMsXG4gIGNyZWF0ZUJyb3dzZXJSb3V0ZXIsXG4gIGNyZWF0ZUhhc2hSb3V0ZXIsXG4gIEJyb3dzZXJSb3V0ZXIsXG4gIEhhc2hSb3V0ZXIsXG4gIEhpc3RvcnlSb3V0ZXIsXG4gIExpbmssXG4gIE5hdkxpbmssXG4gIEZvcm0sXG4gIFNjcm9sbFJlc3RvcmF0aW9uLFxuICB1c2VMaW5rQ2xpY2tIYW5kbGVyLFxuICB1c2VTZWFyY2hQYXJhbXMsXG4gIHVzZVN1Ym1pdCxcbiAgdXNlRm9ybUFjdGlvbixcbiAgdXNlRmV0Y2hlcixcbiAgdXNlRmV0Y2hlcnMsXG4gIHVzZVNjcm9sbFJlc3RvcmF0aW9uLFxuICB1c2VCZWZvcmVVbmxvYWQsXG4gIHVzZVByb21wdCxcbiAgdXNlVmlld1RyYW5zaXRpb25TdGF0ZSxcbiAgU3RhdGljUm91dGVyLFxuICBTdGF0aWNSb3V0ZXJQcm92aWRlcixcbiAgY3JlYXRlU3RhdGljSGFuZGxlcjIgYXMgY3JlYXRlU3RhdGljSGFuZGxlcixcbiAgY3JlYXRlU3RhdGljUm91dGVyLFxuICBTZXJ2ZXJSb3V0ZXIsXG4gIGNyZWF0ZVJvdXRlc1N0dWIsXG4gIGNyZWF0ZUNvb2tpZSxcbiAgaXNDb29raWUsXG4gIFNlcnZlck1vZGUsXG4gIHNldERldlNlcnZlckhvb2tzLFxuICBjcmVhdGVSZXF1ZXN0SGFuZGxlcixcbiAgY3JlYXRlU2Vzc2lvbixcbiAgaXNTZXNzaW9uLFxuICBjcmVhdGVTZXNzaW9uU3RvcmFnZSxcbiAgY3JlYXRlQ29va2llU2Vzc2lvblN0b3JhZ2UsXG4gIGNyZWF0ZU1lbW9yeVNlc3Npb25TdG9yYWdlLFxuICBocmVmLFxuICBkZXNlcmlhbGl6ZUVycm9yczIgYXMgZGVzZXJpYWxpemVFcnJvcnNcbn07XG4iLAogICAgIi8vIHNyYy9pbmRleC50c1xudmFyIHVwZGF0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG52YXIgcmFmID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgdXBkYXRlUXVldWUpO1xudmFyIHdyaXRlUXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi53cml0ZSA9IChmbikgPT4gc2NoZWR1bGUoZm4sIHdyaXRlUXVldWUpO1xudmFyIG9uU3RhcnRRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xucmFmLm9uU3RhcnQgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCBvblN0YXJ0UXVldWUpO1xudmFyIG9uRnJhbWVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xucmFmLm9uRnJhbWUgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCBvbkZyYW1lUXVldWUpO1xudmFyIG9uRmluaXNoUXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi5vbkZpbmlzaCA9IChmbikgPT4gc2NoZWR1bGUoZm4sIG9uRmluaXNoUXVldWUpO1xudmFyIHRpbWVvdXRzID0gW107XG5yYWYuc2V0VGltZW91dCA9IChoYW5kbGVyLCBtcykgPT4ge1xuICBjb25zdCB0aW1lID0gcmFmLm5vdygpICsgbXM7XG4gIGNvbnN0IGNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBpID0gdGltZW91dHMuZmluZEluZGV4KCh0KSA9PiB0LmNhbmNlbCA9PSBjYW5jZWwpO1xuICAgIGlmICh+aSlcbiAgICAgIHRpbWVvdXRzLnNwbGljZShpLCAxKTtcbiAgICBwZW5kaW5nQ291bnQgLT0gfmkgPyAxIDogMDtcbiAgfTtcbiAgY29uc3QgdGltZW91dCA9IHsgdGltZSwgaGFuZGxlciwgY2FuY2VsIH07XG4gIHRpbWVvdXRzLnNwbGljZShmaW5kVGltZW91dCh0aW1lKSwgMCwgdGltZW91dCk7XG4gIHBlbmRpbmdDb3VudCArPSAxO1xuICBzdGFydCgpO1xuICByZXR1cm4gdGltZW91dDtcbn07XG52YXIgZmluZFRpbWVvdXQgPSAodGltZSkgPT4gfih+dGltZW91dHMuZmluZEluZGV4KCh0KSA9PiB0LnRpbWUgPiB0aW1lKSB8fCB+dGltZW91dHMubGVuZ3RoKTtcbnJhZi5jYW5jZWwgPSAoZm4pID0+IHtcbiAgb25TdGFydFF1ZXVlLmRlbGV0ZShmbik7XG4gIG9uRnJhbWVRdWV1ZS5kZWxldGUoZm4pO1xuICBvbkZpbmlzaFF1ZXVlLmRlbGV0ZShmbik7XG4gIHVwZGF0ZVF1ZXVlLmRlbGV0ZShmbik7XG4gIHdyaXRlUXVldWUuZGVsZXRlKGZuKTtcbn07XG5yYWYuc3luYyA9IChmbikgPT4ge1xuICBzeW5jID0gdHJ1ZTtcbiAgcmFmLmJhdGNoZWRVcGRhdGVzKGZuKTtcbiAgc3luYyA9IGZhbHNlO1xufTtcbnJhZi50aHJvdHRsZSA9IChmbikgPT4ge1xuICBsZXQgbGFzdEFyZ3M7XG4gIGZ1bmN0aW9uIHF1ZXVlZEZuKCkge1xuICAgIHRyeSB7XG4gICAgICBmbiguLi5sYXN0QXJncyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdGhyb3R0bGVkKC4uLmFyZ3MpIHtcbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgcmFmLm9uU3RhcnQocXVldWVkRm4pO1xuICB9XG4gIHRocm90dGxlZC5oYW5kbGVyID0gZm47XG4gIHRocm90dGxlZC5jYW5jZWwgPSAoKSA9PiB7XG4gICAgb25TdGFydFF1ZXVlLmRlbGV0ZShxdWV1ZWRGbik7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICB9O1xuICByZXR1cm4gdGhyb3R0bGVkO1xufTtcbnZhciBuYXRpdmVSYWYgPSB0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIDogKFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICgpID0+IHtcbiAgfVxuKTtcbnJhZi51c2UgPSAoaW1wbCkgPT4gbmF0aXZlUmFmID0gaW1wbDtcbnJhZi5ub3cgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT0gXCJ1bmRlZmluZWRcIiA/ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpIDogRGF0ZS5ub3c7XG5yYWYuYmF0Y2hlZFVwZGF0ZXMgPSAoZm4pID0+IGZuKCk7XG5yYWYuY2F0Y2ggPSBjb25zb2xlLmVycm9yO1xucmFmLmZyYW1lTG9vcCA9IFwiYWx3YXlzXCI7XG5yYWYuYWR2YW5jZSA9ICgpID0+IHtcbiAgaWYgKHJhZi5mcmFtZUxvb3AgIT09IFwiZGVtYW5kXCIpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIkNhbm5vdCBjYWxsIHRoZSBtYW51YWwgYWR2YW5jZW1lbnQgb2YgcmFmeiB3aGlsc3QgZnJhbWVMb29wIGlzIG5vdCBzZXQgYXMgZGVtYW5kXCJcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHVwZGF0ZSgpO1xuICB9XG59O1xudmFyIHRzID0gLTE7XG52YXIgcGVuZGluZ0NvdW50ID0gMDtcbnZhciBzeW5jID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZShmbiwgcXVldWUpIHtcbiAgaWYgKHN5bmMpIHtcbiAgICBxdWV1ZS5kZWxldGUoZm4pO1xuICAgIGZuKDApO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlLmFkZChmbik7XG4gICAgc3RhcnQoKTtcbiAgfVxufVxuZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmICh0cyA8IDApIHtcbiAgICB0cyA9IDA7XG4gICAgaWYgKHJhZi5mcmFtZUxvb3AgIT09IFwiZGVtYW5kXCIpIHtcbiAgICAgIG5hdGl2ZVJhZihsb29wKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHN0b3AoKSB7XG4gIHRzID0gLTE7XG59XG5mdW5jdGlvbiBsb29wKCkge1xuICBpZiAofnRzKSB7XG4gICAgbmF0aXZlUmFmKGxvb3ApO1xuICAgIHJhZi5iYXRjaGVkVXBkYXRlcyh1cGRhdGUpO1xuICB9XG59XG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIGNvbnN0IHByZXZUcyA9IHRzO1xuICB0cyA9IHJhZi5ub3coKTtcbiAgY29uc3QgY291bnQgPSBmaW5kVGltZW91dCh0cyk7XG4gIGlmIChjb3VudCkge1xuICAgIGVhY2hTYWZlbHkodGltZW91dHMuc3BsaWNlKDAsIGNvdW50KSwgKHQpID0+IHQuaGFuZGxlcigpKTtcbiAgICBwZW5kaW5nQ291bnQgLT0gY291bnQ7XG4gIH1cbiAgaWYgKCFwZW5kaW5nQ291bnQpIHtcbiAgICBzdG9wKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9uU3RhcnRRdWV1ZS5mbHVzaCgpO1xuICB1cGRhdGVRdWV1ZS5mbHVzaChwcmV2VHMgPyBNYXRoLm1pbig2NCwgdHMgLSBwcmV2VHMpIDogMTYuNjY3KTtcbiAgb25GcmFtZVF1ZXVlLmZsdXNoKCk7XG4gIHdyaXRlUXVldWUuZmx1c2goKTtcbiAgb25GaW5pc2hRdWV1ZS5mbHVzaCgpO1xufVxuZnVuY3Rpb24gbWFrZVF1ZXVlKCkge1xuICBsZXQgbmV4dCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBjdXJyZW50ID0gbmV4dDtcbiAgcmV0dXJuIHtcbiAgICBhZGQoZm4pIHtcbiAgICAgIHBlbmRpbmdDb3VudCArPSBjdXJyZW50ID09IG5leHQgJiYgIW5leHQuaGFzKGZuKSA/IDEgOiAwO1xuICAgICAgbmV4dC5hZGQoZm4pO1xuICAgIH0sXG4gICAgZGVsZXRlKGZuKSB7XG4gICAgICBwZW5kaW5nQ291bnQgLT0gY3VycmVudCA9PSBuZXh0ICYmIG5leHQuaGFzKGZuKSA/IDEgOiAwO1xuICAgICAgcmV0dXJuIG5leHQuZGVsZXRlKGZuKTtcbiAgICB9LFxuICAgIGZsdXNoKGFyZykge1xuICAgICAgaWYgKGN1cnJlbnQuc2l6ZSkge1xuICAgICAgICBuZXh0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgcGVuZGluZ0NvdW50IC09IGN1cnJlbnQuc2l6ZTtcbiAgICAgICAgZWFjaFNhZmVseShjdXJyZW50LCAoZm4pID0+IGZuKGFyZykgJiYgbmV4dC5hZGQoZm4pKTtcbiAgICAgICAgcGVuZGluZ0NvdW50ICs9IG5leHQuc2l6ZTtcbiAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZWFjaFNhZmVseSh2YWx1ZXMsIGVhY2gpIHtcbiAgdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGVhY2godmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJhZi5jYXRjaChlKTtcbiAgICB9XG4gIH0pO1xufVxudmFyIF9fcmFmID0ge1xuICAvKiogVGhlIG51bWJlciBvZiBwZW5kaW5nIHRhc2tzICovXG4gIGNvdW50KCkge1xuICAgIHJldHVybiBwZW5kaW5nQ291bnQ7XG4gIH0sXG4gIC8qKiBXaGV0aGVyIHRoZXJlJ3MgYSByYWYgdXBkYXRlIGxvb3AgcnVubmluZyAqL1xuICBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRzID49IDA7XG4gIH0sXG4gIC8qKiBDbGVhciBpbnRlcm5hbCBzdGF0ZS4gTmV2ZXIgY2FsbCBmcm9tIHVwZGF0ZSBsb29wISAqL1xuICBjbGVhcigpIHtcbiAgICB0cyA9IC0xO1xuICAgIHRpbWVvdXRzID0gW107XG4gICAgb25TdGFydFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgdXBkYXRlUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBvbkZyYW1lUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICB3cml0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgb25GaW5pc2hRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIHBlbmRpbmdDb3VudCA9IDA7XG4gIH1cbn07XG5leHBvcnQge1xuICBfX3JhZixcbiAgcmFmXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX3JhZnoubW9kZXJuLm1qcy5tYXAiLAogICAgInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG5cbi8vIHNyYy9nbG9iYWxzLnRzXG52YXIgZ2xvYmFsc19leHBvcnRzID0ge307XG5fX2V4cG9ydChnbG9iYWxzX2V4cG9ydHMsIHtcbiAgYXNzaWduOiAoKSA9PiBhc3NpZ24sXG4gIGNvbG9yczogKCkgPT4gY29sb3JzLFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3I6ICgpID0+IGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgc2tpcEFuaW1hdGlvbjogKCkgPT4gc2tpcEFuaW1hdGlvbixcbiAgdG86ICgpID0+IHRvLFxuICB3aWxsQWR2YW5jZTogKCkgPT4gd2lsbEFkdmFuY2Vcbn0pO1xuaW1wb3J0IHsgcmFmIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xuXG4vLyBzcmMvaGVscGVycy50c1xuZnVuY3Rpb24gbm9vcCgpIHtcbn1cbnZhciBkZWZpbmVIaWRkZW4gPSAob2JqLCBrZXksIHZhbHVlKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG52YXIgaXMgPSB7XG4gIGFycjogQXJyYXkuaXNBcnJheSxcbiAgb2JqOiAoYSkgPT4gISFhICYmIGEuY29uc3RydWN0b3IubmFtZSA9PT0gXCJPYmplY3RcIixcbiAgZnVuOiAoYSkgPT4gdHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIixcbiAgc3RyOiAoYSkgPT4gdHlwZW9mIGEgPT09IFwic3RyaW5nXCIsXG4gIG51bTogKGEpID0+IHR5cGVvZiBhID09PSBcIm51bWJlclwiLFxuICB1bmQ6IChhKSA9PiBhID09PSB2b2lkIDBcbn07XG5mdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgaWYgKGlzLmFycihhKSkge1xuICAgIGlmICghaXMuYXJyKGIpIHx8IGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBhID09PSBiO1xufVxudmFyIGVhY2ggPSAob2JqLCBmbikgPT4gb2JqLmZvckVhY2goZm4pO1xuZnVuY3Rpb24gZWFjaFByb3Aob2JqLCBmbiwgY3R4KSB7XG4gIGlmIChpcy5hcnIob2JqKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBgJHtpfWApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBmbi5jYWxsKGN0eCwgb2JqW2tleV0sIGtleSk7XG4gICAgfVxuICB9XG59XG52YXIgdG9BcnJheSA9IChhKSA9PiBpcy51bmQoYSkgPyBbXSA6IGlzLmFycihhKSA/IGEgOiBbYV07XG5mdW5jdGlvbiBmbHVzaChxdWV1ZSwgaXRlcmF0b3IpIHtcbiAgaWYgKHF1ZXVlLnNpemUpIHtcbiAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20ocXVldWUpO1xuICAgIHF1ZXVlLmNsZWFyKCk7XG4gICAgZWFjaChpdGVtcywgaXRlcmF0b3IpO1xuICB9XG59XG52YXIgZmx1c2hDYWxscyA9IChxdWV1ZSwgLi4uYXJncykgPT4gZmx1c2gocXVldWUsIChmbikgPT4gZm4oLi4uYXJncykpO1xudmFyIGlzU1NSID0gKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93Lm5hdmlnYXRvciB8fCAvU2VydmVyU2lkZVJlbmRlcmluZ3xeRGVub1xcLy8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8vIHNyYy9nbG9iYWxzLnRzXG52YXIgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yO1xudmFyIHRvO1xudmFyIGNvbG9ycyA9IG51bGw7XG52YXIgc2tpcEFuaW1hdGlvbiA9IGZhbHNlO1xudmFyIHdpbGxBZHZhbmNlID0gbm9vcDtcbnZhciBhc3NpZ24gPSAoZ2xvYmFscykgPT4ge1xuICBpZiAoZ2xvYmFscy50bylcbiAgICB0byA9IGdsb2JhbHMudG87XG4gIGlmIChnbG9iYWxzLm5vdylcbiAgICByYWYubm93ID0gZ2xvYmFscy5ub3c7XG4gIGlmIChnbG9iYWxzLmNvbG9ycyAhPT0gdm9pZCAwKVxuICAgIGNvbG9ycyA9IGdsb2JhbHMuY29sb3JzO1xuICBpZiAoZ2xvYmFscy5za2lwQW5pbWF0aW9uICE9IG51bGwpXG4gICAgc2tpcEFuaW1hdGlvbiA9IGdsb2JhbHMuc2tpcEFuaW1hdGlvbjtcbiAgaWYgKGdsb2JhbHMuY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yKVxuICAgIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvciA9IGdsb2JhbHMuY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yO1xuICBpZiAoZ2xvYmFscy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgcmFmLnVzZShnbG9iYWxzLnJlcXVlc3RBbmltYXRpb25GcmFtZSk7XG4gIGlmIChnbG9iYWxzLmJhdGNoZWRVcGRhdGVzKVxuICAgIHJhZi5iYXRjaGVkVXBkYXRlcyA9IGdsb2JhbHMuYmF0Y2hlZFVwZGF0ZXM7XG4gIGlmIChnbG9iYWxzLndpbGxBZHZhbmNlKVxuICAgIHdpbGxBZHZhbmNlID0gZ2xvYmFscy53aWxsQWR2YW5jZTtcbiAgaWYgKGdsb2JhbHMuZnJhbWVMb29wKVxuICAgIHJhZi5mcmFtZUxvb3AgPSBnbG9iYWxzLmZyYW1lTG9vcDtcbn07XG5cbi8vIHNyYy9GcmFtZUxvb3AudHNcbmltcG9ydCB7IHJhZiBhcyByYWYyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xudmFyIHN0YXJ0UXVldWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIGN1cnJlbnRGcmFtZSA9IFtdO1xudmFyIHByZXZGcmFtZSA9IFtdO1xudmFyIHByaW9yaXR5ID0gMDtcbnZhciBmcmFtZUxvb3AgPSB7XG4gIGdldCBpZGxlKCkge1xuICAgIHJldHVybiAhc3RhcnRRdWV1ZS5zaXplICYmICFjdXJyZW50RnJhbWUubGVuZ3RoO1xuICB9LFxuICAvKiogQWR2YW5jZSB0aGUgZ2l2ZW4gYW5pbWF0aW9uIG9uIGV2ZXJ5IGZyYW1lIHVudGlsIGlkbGUuICovXG4gIHN0YXJ0KGFuaW1hdGlvbikge1xuICAgIGlmIChwcmlvcml0eSA+IGFuaW1hdGlvbi5wcmlvcml0eSkge1xuICAgICAgc3RhcnRRdWV1ZS5hZGQoYW5pbWF0aW9uKTtcbiAgICAgIHJhZjIub25TdGFydChmbHVzaFN0YXJ0UXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFNhZmVseShhbmltYXRpb24pO1xuICAgICAgcmFmMihhZHZhbmNlKTtcbiAgICB9XG4gIH0sXG4gIC8qKiBBZHZhbmNlIGFsbCBhbmltYXRpb25zIGJ5IHRoZSBnaXZlbiB0aW1lLiAqL1xuICBhZHZhbmNlLFxuICAvKiogQ2FsbCB0aGlzIHdoZW4gYW4gYW5pbWF0aW9uJ3MgcHJpb3JpdHkgY2hhbmdlcy4gKi9cbiAgc29ydChhbmltYXRpb24pIHtcbiAgICBpZiAocHJpb3JpdHkpIHtcbiAgICAgIHJhZjIub25GcmFtZSgoKSA9PiBmcmFtZUxvb3Auc29ydChhbmltYXRpb24pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJldkluZGV4ID0gY3VycmVudEZyYW1lLmluZGV4T2YoYW5pbWF0aW9uKTtcbiAgICAgIGlmICh+cHJldkluZGV4KSB7XG4gICAgICAgIGN1cnJlbnRGcmFtZS5zcGxpY2UocHJldkluZGV4LCAxKTtcbiAgICAgICAgc3RhcnRVbnNhZmVseShhbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIENsZWFyIGFsbCBhbmltYXRpb25zLiBGb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICpcbiAgICog4pig77iPIE5ldmVyIGNhbGwgdGhpcyBmcm9tIHdpdGhpbiB0aGUgZnJhbWVsb29wLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgY3VycmVudEZyYW1lID0gW107XG4gICAgc3RhcnRRdWV1ZS5jbGVhcigpO1xuICB9XG59O1xuZnVuY3Rpb24gZmx1c2hTdGFydFF1ZXVlKCkge1xuICBzdGFydFF1ZXVlLmZvckVhY2goc3RhcnRTYWZlbHkpO1xuICBzdGFydFF1ZXVlLmNsZWFyKCk7XG4gIHJhZjIoYWR2YW5jZSk7XG59XG5mdW5jdGlvbiBzdGFydFNhZmVseShhbmltYXRpb24pIHtcbiAgaWYgKCFjdXJyZW50RnJhbWUuaW5jbHVkZXMoYW5pbWF0aW9uKSlcbiAgICBzdGFydFVuc2FmZWx5KGFuaW1hdGlvbik7XG59XG5mdW5jdGlvbiBzdGFydFVuc2FmZWx5KGFuaW1hdGlvbikge1xuICBjdXJyZW50RnJhbWUuc3BsaWNlKFxuICAgIGZpbmRJbmRleChjdXJyZW50RnJhbWUsIChvdGhlcikgPT4gb3RoZXIucHJpb3JpdHkgPiBhbmltYXRpb24ucHJpb3JpdHkpLFxuICAgIDAsXG4gICAgYW5pbWF0aW9uXG4gICk7XG59XG5mdW5jdGlvbiBhZHZhbmNlKGR0KSB7XG4gIGNvbnN0IG5leHRGcmFtZSA9IHByZXZGcmFtZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50RnJhbWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhbmltYXRpb24gPSBjdXJyZW50RnJhbWVbaV07XG4gICAgcHJpb3JpdHkgPSBhbmltYXRpb24ucHJpb3JpdHk7XG4gICAgaWYgKCFhbmltYXRpb24uaWRsZSkge1xuICAgICAgd2lsbEFkdmFuY2UoYW5pbWF0aW9uKTtcbiAgICAgIGFuaW1hdGlvbi5hZHZhbmNlKGR0KTtcbiAgICAgIGlmICghYW5pbWF0aW9uLmlkbGUpIHtcbiAgICAgICAgbmV4dEZyYW1lLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJpb3JpdHkgPSAwO1xuICBwcmV2RnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gIHByZXZGcmFtZS5sZW5ndGggPSAwO1xuICBjdXJyZW50RnJhbWUgPSBuZXh0RnJhbWU7XG4gIHJldHVybiBjdXJyZW50RnJhbWUubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHRlc3QpIHtcbiAgY29uc3QgaW5kZXggPSBhcnIuZmluZEluZGV4KHRlc3QpO1xuICByZXR1cm4gaW5kZXggPCAwID8gYXJyLmxlbmd0aCA6IGluZGV4O1xufVxuXG4vLyBzcmMvY2xhbXAudHNcbnZhciBjbGFtcCA9IChtaW4sIG1heCwgdikgPT4gTWF0aC5taW4oTWF0aC5tYXgodiwgbWluKSwgbWF4KTtcblxuLy8gc3JjL2NvbG9ycy50c1xudmFyIGNvbG9yczIgPSB7XG4gIHRyYW5zcGFyZW50OiAwLFxuICBhbGljZWJsdWU6IDQwNDI4NTAzMDMsXG4gIGFudGlxdWV3aGl0ZTogNDIwOTc2MDI1NSxcbiAgYXF1YTogMTY3NzcyMTUsXG4gIGFxdWFtYXJpbmU6IDIxNDc0NzI2MzksXG4gIGF6dXJlOiA0MDQzMzA5MDU1LFxuICBiZWlnZTogNDEyNjUzMDgxNSxcbiAgYmlzcXVlOiA0MjkzMTgyNzE5LFxuICBibGFjazogMjU1LFxuICBibGFuY2hlZGFsbW9uZDogNDI5MzY0Mzc3NSxcbiAgYmx1ZTogNjU1MzUsXG4gIGJsdWV2aW9sZXQ6IDIzMTgxMzE5NjcsXG4gIGJyb3duOiAyNzcxMDA0MTU5LFxuICBidXJseXdvb2Q6IDM3MzY2MzUzOTEsXG4gIGJ1cm50c2llbm5hOiAzOTM0MTUwMTQzLFxuICBjYWRldGJsdWU6IDE2MDQyMzE0MjMsXG4gIGNoYXJ0cmV1c2U6IDIxNDc0MTgzNjcsXG4gIGNob2NvbGF0ZTogMzUzMDEwNDU3NSxcbiAgY29yYWw6IDQyODY1MzM4ODcsXG4gIGNvcm5mbG93ZXJibHVlOiAxNjg3NTQ3MzkxLFxuICBjb3Juc2lsazogNDI5NDQ5OTU4MyxcbiAgY3JpbXNvbjogMzY5MjMxMzg1NSxcbiAgY3lhbjogMTY3NzcyMTUsXG4gIGRhcmtibHVlOiAzNTgzOSxcbiAgZGFya2N5YW46IDkxNDUzNDMsXG4gIGRhcmtnb2xkZW5yb2Q6IDMwOTU3OTI2MzksXG4gIGRhcmtncmF5OiAyODQ2NDY4NjA3LFxuICBkYXJrZ3JlZW46IDY1NTM4NTUsXG4gIGRhcmtncmV5OiAyODQ2NDY4NjA3LFxuICBkYXJra2hha2k6IDMxODI5MTQ1NTksXG4gIGRhcmttYWdlbnRhOiAyMzMyMDY4ODYzLFxuICBkYXJrb2xpdmVncmVlbjogMTQzMzA4Nzk5OSxcbiAgZGFya29yYW5nZTogNDI4NzM2NTM3NSxcbiAgZGFya29yY2hpZDogMjU3MDI0MzMyNyxcbiAgZGFya3JlZDogMjMzMjAzMzI3OSxcbiAgZGFya3NhbG1vbjogMzkxODk1MzIxNSxcbiAgZGFya3NlYWdyZWVuOiAyNDExNDk5NTE5LFxuICBkYXJrc2xhdGVibHVlOiAxMjExOTkzMDg3LFxuICBkYXJrc2xhdGVncmF5OiA3OTM3MjY5NzUsXG4gIGRhcmtzbGF0ZWdyZXk6IDc5MzcyNjk3NSxcbiAgZGFya3R1cnF1b2lzZTogMTM1NTQxNzUsXG4gIGRhcmt2aW9sZXQ6IDI0ODMwODIyMzksXG4gIGRlZXBwaW5rOiA0Mjc5NTM4Njg3LFxuICBkZWVwc2t5Ymx1ZTogMTI1ODI5MTEsXG4gIGRpbWdyYXk6IDE3Njg1MTYwOTUsXG4gIGRpbWdyZXk6IDE3Njg1MTYwOTUsXG4gIGRvZGdlcmJsdWU6IDUxMjgxOTE5OSxcbiAgZmlyZWJyaWNrOiAyOTg4NTgxNjMxLFxuICBmbG9yYWx3aGl0ZTogNDI5NDYzNTc3NSxcbiAgZm9yZXN0Z3JlZW46IDU3OTU0MzgwNyxcbiAgZnVjaHNpYTogNDI3ODI1NTYxNSxcbiAgZ2FpbnNib3JvOiAzNzA1NDYyMDE1LFxuICBnaG9zdHdoaXRlOiA0MTc3MDY4MDMxLFxuICBnb2xkOiA0MjkyMjgwNTc1LFxuICBnb2xkZW5yb2Q6IDM2NjgyNTQ5NzUsXG4gIGdyYXk6IDIxNTU5MDUyNzksXG4gIGdyZWVuOiA4Mzg4ODYzLFxuICBncmVlbnllbGxvdzogMjkxOTE4MjMzNSxcbiAgZ3JleTogMjE1NTkwNTI3OSxcbiAgaG9uZXlkZXc6IDQwNDMzMDUyMTUsXG4gIGhvdHBpbms6IDQyODUxMTc2OTUsXG4gIGluZGlhbnJlZDogMzQ0NTM4MjM5OSxcbiAgaW5kaWdvOiAxMjU4MzI0NzM1LFxuICBpdm9yeTogNDI5NDk2MzQ1NSxcbiAga2hha2k6IDQwNDE2NDEyMTUsXG4gIGxhdmVuZGVyOiAzODczODk3MjE1LFxuICBsYXZlbmRlcmJsdXNoOiA0MjkzOTgxNjk1LFxuICBsYXduZ3JlZW46IDIwOTY4OTAxMTEsXG4gIGxlbW9uY2hpZmZvbjogNDI5NDYyNjgxNSxcbiAgbGlnaHRibHVlOiAyOTE2NjczMjc5LFxuICBsaWdodGNvcmFsOiA0MDM0OTUzNDcxLFxuICBsaWdodGN5YW46IDM3NzQ4NzM1OTksXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiA0MjEwNzQyMDE1LFxuICBsaWdodGdyYXk6IDM1NTM4NzQ5NDMsXG4gIGxpZ2h0Z3JlZW46IDI0MzE1NTM3OTEsXG4gIGxpZ2h0Z3JleTogMzU1Mzg3NDk0MyxcbiAgbGlnaHRwaW5rOiA0MjkwMTY3Mjk1LFxuICBsaWdodHNhbG1vbjogNDI4ODcwNzMyNyxcbiAgbGlnaHRzZWFncmVlbjogNTQ4NTgwMDk1LFxuICBsaWdodHNreWJsdWU6IDIyNzg0ODg4MzEsXG4gIGxpZ2h0c2xhdGVncmF5OiAyMDA1NDQxMDIzLFxuICBsaWdodHNsYXRlZ3JleTogMjAwNTQ0MTAyMyxcbiAgbGlnaHRzdGVlbGJsdWU6IDI5NjU2OTIxNTksXG4gIGxpZ2h0eWVsbG93OiA0Mjk0OTU5MzU5LFxuICBsaW1lOiAxNjcxMTkzNSxcbiAgbGltZWdyZWVuOiA4NTIzMDg3MzUsXG4gIGxpbmVuOiA0MjEwMDkxNzc1LFxuICBtYWdlbnRhOiA0Mjc4MjU1NjE1LFxuICBtYXJvb246IDIxNDc0ODM5MDMsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDE3MjQ3NTQ2ODcsXG4gIG1lZGl1bWJsdWU6IDUyNzM1LFxuICBtZWRpdW1vcmNoaWQ6IDMxMjYxODcwMDcsXG4gIG1lZGl1bXB1cnBsZTogMjQ3MzY0NzEwMyxcbiAgbWVkaXVtc2VhZ3JlZW46IDEwMTgzOTMwODcsXG4gIG1lZGl1bXNsYXRlYmx1ZTogMjA3MDQ3NDQ5NSxcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDE2NDIzNjc5LFxuICBtZWRpdW10dXJxdW9pc2U6IDEyMjE3MDkwNTUsXG4gIG1lZGl1bXZpb2xldHJlZDogMzM0MDA3NjU0MyxcbiAgbWlkbmlnaHRibHVlOiA0MjEwOTc3MjcsXG4gIG1pbnRjcmVhbTogNDEyNzE5Mzg1NSxcbiAgbWlzdHlyb3NlOiA0MjkzMTkwMTQzLFxuICBtb2NjYXNpbjogNDI5MzE3ODg3OSxcbiAgbmF2YWpvd2hpdGU6IDQyOTI3ODM2MTUsXG4gIG5hdnk6IDMzMDIzLFxuICBvbGRsYWNlOiA0MjYwNzUxMTAzLFxuICBvbGl2ZTogMjE1NTg3MjUxMSxcbiAgb2xpdmVkcmFiOiAxODA0NDc3NDM5LFxuICBvcmFuZ2U6IDQyODkwMDM3NzUsXG4gIG9yYW5nZXJlZDogNDI4MjcxMjMxOSxcbiAgb3JjaGlkOiAzNjY0ODI4MTU5LFxuICBwYWxlZ29sZGVucm9kOiA0MDA4MjI1NTM1LFxuICBwYWxlZ3JlZW46IDI1NjY2MjU1MzUsXG4gIHBhbGV0dXJxdW9pc2U6IDI5NTE2NzE1NTEsXG4gIHBhbGV2aW9sZXRyZWQ6IDM2ODE1ODgyMjMsXG4gIHBhcGF5YXdoaXA6IDQyOTM5MDc5NjcsXG4gIHBlYWNocHVmZjogNDI5MjUyNDU0MyxcbiAgcGVydTogMzQ0ODA2MTk1MSxcbiAgcGluazogNDI5MDgyNTIxNSxcbiAgcGx1bTogMzcxODMwNzMyNyxcbiAgcG93ZGVyYmx1ZTogMjk2NzUyOTIxNSxcbiAgcHVycGxlOiAyMTQ3NTE2NjcxLFxuICByZWJlY2NhcHVycGxlOiAxNzE0NjU3NzkxLFxuICByZWQ6IDQyNzgxOTAzMzUsXG4gIHJvc3licm93bjogMzE2MzUyNTExOSxcbiAgcm95YWxibHVlOiAxMDk3NDU4MTc1LFxuICBzYWRkbGVicm93bjogMjMzNjU2MDEyNyxcbiAgc2FsbW9uOiA0MjAyNzIyMDQ3LFxuICBzYW5keWJyb3duOiA0MTA0NDEzNDM5LFxuICBzZWFncmVlbjogNzgwODgzOTY3LFxuICBzZWFzaGVsbDogNDI5NDMwNzU4MyxcbiAgc2llbm5hOiAyNjg5NzQwMjg3LFxuICBzaWx2ZXI6IDMyMzM4NTc3OTEsXG4gIHNreWJsdWU6IDIyNzg0ODQ5OTEsXG4gIHNsYXRlYmx1ZTogMTc4NDMzNTg3MSxcbiAgc2xhdGVncmF5OiAxODg3NDczOTE5LFxuICBzbGF0ZWdyZXk6IDE4ODc0NzM5MTksXG4gIHNub3c6IDQyOTQ2MzgzMzUsXG4gIHNwcmluZ2dyZWVuOiAxNjc0NDQ0NyxcbiAgc3RlZWxibHVlOiAxMTgyOTcxMTM1LFxuICB0YW46IDM1MzUwNDc5MzUsXG4gIHRlYWw6IDg0MjE2MzEsXG4gIHRoaXN0bGU6IDM2MzY0NTE1ODMsXG4gIHRvbWF0bzogNDI4NDY5NjU3NSxcbiAgdHVycXVvaXNlOiAxMDg4NDc1MzkxLFxuICB2aW9sZXQ6IDQwMDE1NTgyNzEsXG4gIHdoZWF0OiA0MTI1MDEyOTkxLFxuICB3aGl0ZTogNDI5NDk2NzI5NSxcbiAgd2hpdGVzbW9rZTogNDEyNjUzNzIxNSxcbiAgeWVsbG93OiA0Mjk0OTAyMDE1LFxuICB5ZWxsb3dncmVlbjogMjU5NzEzOTE5OVxufTtcblxuLy8gc3JjL2NvbG9yTWF0Y2hlcnMudHNcbnZhciBOVU1CRVIgPSBcIlstK10/XFxcXGQqXFxcXC4/XFxcXGQrXCI7XG52YXIgUEVSQ0VOVEFHRSA9IE5VTUJFUiArIFwiJVwiO1xuZnVuY3Rpb24gY2FsbCguLi5wYXJ0cykge1xuICByZXR1cm4gXCJcXFxcKFxcXFxzKihcIiArIHBhcnRzLmpvaW4oXCIpXFxcXHMqLFxcXFxzKihcIikgKyBcIilcXFxccypcXFxcKVwiO1xufVxudmFyIHJnYiA9IG5ldyBSZWdFeHAoXCJyZ2JcIiArIGNhbGwoTlVNQkVSLCBOVU1CRVIsIE5VTUJFUikpO1xudmFyIHJnYmEgPSBuZXcgUmVnRXhwKFwicmdiYVwiICsgY2FsbChOVU1CRVIsIE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIpKTtcbnZhciBoc2wgPSBuZXcgUmVnRXhwKFwiaHNsXCIgKyBjYWxsKE5VTUJFUiwgUEVSQ0VOVEFHRSwgUEVSQ0VOVEFHRSkpO1xudmFyIGhzbGEgPSBuZXcgUmVnRXhwKFxuICBcImhzbGFcIiArIGNhbGwoTlVNQkVSLCBQRVJDRU5UQUdFLCBQRVJDRU5UQUdFLCBOVU1CRVIpXG4pO1xudmFyIGhleDMgPSAvXiMoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLztcbnZhciBoZXg0ID0gL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvO1xudmFyIGhleDYgPSAvXiMoWzAtOWEtZkEtRl17Nn0pJC87XG52YXIgaGV4OCA9IC9eIyhbMC05YS1mQS1GXXs4fSkkLztcblxuLy8gc3JjL25vcm1hbGl6ZUNvbG9yLnRzXG5mdW5jdGlvbiBub3JtYWxpemVDb2xvcihjb2xvcikge1xuICBsZXQgbWF0Y2g7XG4gIGlmICh0eXBlb2YgY29sb3IgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gY29sb3IgPj4+IDAgPT09IGNvbG9yICYmIGNvbG9yID49IDAgJiYgY29sb3IgPD0gNDI5NDk2NzI5NSA/IGNvbG9yIDogbnVsbDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoZXg2LmV4ZWMoY29sb3IpKVxuICAgIHJldHVybiBwYXJzZUludChtYXRjaFsxXSArIFwiZmZcIiwgMTYpID4+PiAwO1xuICBpZiAoY29sb3JzICYmIGNvbG9yc1tjb2xvcl0gIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBjb2xvcnNbY29sb3JdO1xuICB9XG4gIGlmIChtYXRjaCA9IHJnYi5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAocGFyc2UyNTUobWF0Y2hbMV0pIDw8IDI0IHwgLy8gclxuICAgIHBhcnNlMjU1KG1hdGNoWzJdKSA8PCAxNiB8IC8vIGdcbiAgICBwYXJzZTI1NShtYXRjaFszXSkgPDwgOCB8IC8vIGJcbiAgICAyNTUpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICBpZiAobWF0Y2ggPSByZ2JhLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChwYXJzZTI1NShtYXRjaFsxXSkgPDwgMjQgfCAvLyByXG4gICAgcGFyc2UyNTUobWF0Y2hbMl0pIDw8IDE2IHwgLy8gZ1xuICAgIHBhcnNlMjU1KG1hdGNoWzNdKSA8PCA4IHwgLy8gYlxuICAgIHBhcnNlMShtYXRjaFs0XSkpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoZXgzLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgbWF0Y2hbMV0gKyBtYXRjaFsxXSArIC8vIHJcbiAgICAgIG1hdGNoWzJdICsgbWF0Y2hbMl0gKyAvLyBnXG4gICAgICBtYXRjaFszXSArIG1hdGNoWzNdICsgLy8gYlxuICAgICAgXCJmZlwiLFxuICAgICAgLy8gYVxuICAgICAgMTZcbiAgICApID4+PiAwO1xuICB9XG4gIGlmIChtYXRjaCA9IGhleDguZXhlYyhjb2xvcikpXG4gICAgcmV0dXJuIHBhcnNlSW50KG1hdGNoWzFdLCAxNikgPj4+IDA7XG4gIGlmIChtYXRjaCA9IGhleDQuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoXG4gICAgICBtYXRjaFsxXSArIG1hdGNoWzFdICsgLy8gclxuICAgICAgbWF0Y2hbMl0gKyBtYXRjaFsyXSArIC8vIGdcbiAgICAgIG1hdGNoWzNdICsgbWF0Y2hbM10gKyAvLyBiXG4gICAgICBtYXRjaFs0XSArIG1hdGNoWzRdLFxuICAgICAgLy8gYVxuICAgICAgMTZcbiAgICApID4+PiAwO1xuICB9XG4gIGlmIChtYXRjaCA9IGhzbC5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAoaHNsVG9SZ2IoXG4gICAgICBwYXJzZTM2MChtYXRjaFsxXSksXG4gICAgICAvLyBoXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbMl0pLFxuICAgICAgLy8gc1xuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzNdKVxuICAgICAgLy8gbFxuICAgICkgfCAyNTUpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoc2xhLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChoc2xUb1JnYihcbiAgICAgIHBhcnNlMzYwKG1hdGNoWzFdKSxcbiAgICAgIC8vIGhcbiAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFsyXSksXG4gICAgICAvLyBzXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbM10pXG4gICAgICAvLyBsXG4gICAgKSB8IHBhcnNlMShtYXRjaFs0XSkpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICBpZiAodCA8IDApXG4gICAgdCArPSAxO1xuICBpZiAodCA+IDEpXG4gICAgdCAtPSAxO1xuICBpZiAodCA8IDEgLyA2KVxuICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICBpZiAodCA8IDEgLyAyKVxuICAgIHJldHVybiBxO1xuICBpZiAodCA8IDIgLyAzKVxuICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgcmV0dXJuIHA7XG59XG5mdW5jdGlvbiBoc2xUb1JnYihoLCBzLCBsKSB7XG4gIGNvbnN0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICBjb25zdCBwID0gMiAqIGwgLSBxO1xuICBjb25zdCByID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xuICBjb25zdCBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgY29uc3QgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcbiAgcmV0dXJuIE1hdGgucm91bmQociAqIDI1NSkgPDwgMjQgfCBNYXRoLnJvdW5kKGcgKiAyNTUpIDw8IDE2IHwgTWF0aC5yb3VuZChiICogMjU1KSA8PCA4O1xufVxuZnVuY3Rpb24gcGFyc2UyNTUoc3RyKSB7XG4gIGNvbnN0IGludCA9IHBhcnNlSW50KHN0ciwgMTApO1xuICBpZiAoaW50IDwgMClcbiAgICByZXR1cm4gMDtcbiAgaWYgKGludCA+IDI1NSlcbiAgICByZXR1cm4gMjU1O1xuICByZXR1cm4gaW50O1xufVxuZnVuY3Rpb24gcGFyc2UzNjAoc3RyKSB7XG4gIGNvbnN0IGludCA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgcmV0dXJuIChpbnQgJSAzNjAgKyAzNjApICUgMzYwIC8gMzYwO1xufVxuZnVuY3Rpb24gcGFyc2UxKHN0cikge1xuICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KHN0cik7XG4gIGlmIChudW0gPCAwKVxuICAgIHJldHVybiAwO1xuICBpZiAobnVtID4gMSlcbiAgICByZXR1cm4gMjU1O1xuICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiAyNTUpO1xufVxuZnVuY3Rpb24gcGFyc2VQZXJjZW50YWdlKHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIGlmIChpbnQgPCAwKVxuICAgIHJldHVybiAwO1xuICBpZiAoaW50ID4gMTAwKVxuICAgIHJldHVybiAxO1xuICByZXR1cm4gaW50IC8gMTAwO1xufVxuXG4vLyBzcmMvY29sb3JUb1JnYmEudHNcbmZ1bmN0aW9uIGNvbG9yVG9SZ2JhKGlucHV0KSB7XG4gIGxldCBpbnQzMkNvbG9yID0gbm9ybWFsaXplQ29sb3IoaW5wdXQpO1xuICBpZiAoaW50MzJDb2xvciA9PT0gbnVsbClcbiAgICByZXR1cm4gaW5wdXQ7XG4gIGludDMyQ29sb3IgPSBpbnQzMkNvbG9yIHx8IDA7XG4gIGNvbnN0IHIgPSAoaW50MzJDb2xvciAmIDQyNzgxOTAwODApID4+PiAyNDtcbiAgY29uc3QgZyA9IChpbnQzMkNvbG9yICYgMTY3MTE2ODApID4+PiAxNjtcbiAgY29uc3QgYiA9IChpbnQzMkNvbG9yICYgNjUyODApID4+PiA4O1xuICBjb25zdCBhID0gKGludDMyQ29sb3IgJiAyNTUpIC8gMjU1O1xuICByZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgO1xufVxuXG4vLyBzcmMvY3JlYXRlSW50ZXJwb2xhdG9yLnRzXG52YXIgY3JlYXRlSW50ZXJwb2xhdG9yID0gKHJhbmdlLCBvdXRwdXQsIGV4dHJhcG9sYXRlKSA9PiB7XG4gIGlmIChpcy5mdW4ocmFuZ2UpKSB7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG4gIGlmIChpcy5hcnIocmFuZ2UpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUludGVycG9sYXRvcih7XG4gICAgICByYW5nZSxcbiAgICAgIG91dHB1dCxcbiAgICAgIGV4dHJhcG9sYXRlXG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzLnN0cihyYW5nZS5vdXRwdXRbMF0pKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcihyYW5nZSk7XG4gIH1cbiAgY29uc3QgY29uZmlnID0gcmFuZ2U7XG4gIGNvbnN0IG91dHB1dFJhbmdlID0gY29uZmlnLm91dHB1dDtcbiAgY29uc3QgaW5wdXRSYW5nZSA9IGNvbmZpZy5yYW5nZSB8fCBbMCwgMV07XG4gIGNvbnN0IGV4dHJhcG9sYXRlTGVmdCA9IGNvbmZpZy5leHRyYXBvbGF0ZUxlZnQgfHwgY29uZmlnLmV4dHJhcG9sYXRlIHx8IFwiZXh0ZW5kXCI7XG4gIGNvbnN0IGV4dHJhcG9sYXRlUmlnaHQgPSBjb25maWcuZXh0cmFwb2xhdGVSaWdodCB8fCBjb25maWcuZXh0cmFwb2xhdGUgfHwgXCJleHRlbmRcIjtcbiAgY29uc3QgZWFzaW5nID0gY29uZmlnLmVhc2luZyB8fCAoKHQpID0+IHQpO1xuICByZXR1cm4gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgcmFuZ2UyID0gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKTtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBpbnB1dCxcbiAgICAgIGlucHV0UmFuZ2VbcmFuZ2UyXSxcbiAgICAgIGlucHV0UmFuZ2VbcmFuZ2UyICsgMV0sXG4gICAgICBvdXRwdXRSYW5nZVtyYW5nZTJdLFxuICAgICAgb3V0cHV0UmFuZ2VbcmFuZ2UyICsgMV0sXG4gICAgICBlYXNpbmcsXG4gICAgICBleHRyYXBvbGF0ZUxlZnQsXG4gICAgICBleHRyYXBvbGF0ZVJpZ2h0LFxuICAgICAgY29uZmlnLm1hcFxuICAgICk7XG4gIH07XG59O1xuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIGlucHV0TWluLCBpbnB1dE1heCwgb3V0cHV0TWluLCBvdXRwdXRNYXgsIGVhc2luZywgZXh0cmFwb2xhdGVMZWZ0LCBleHRyYXBvbGF0ZVJpZ2h0LCBtYXApIHtcbiAgbGV0IHJlc3VsdCA9IG1hcCA/IG1hcChpbnB1dCkgOiBpbnB1dDtcbiAgaWYgKHJlc3VsdCA8IGlucHV0TWluKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlTGVmdCA9PT0gXCJpZGVudGl0eVwiKVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBlbHNlIGlmIChleHRyYXBvbGF0ZUxlZnQgPT09IFwiY2xhbXBcIilcbiAgICAgIHJlc3VsdCA9IGlucHV0TWluO1xuICB9XG4gIGlmIChyZXN1bHQgPiBpbnB1dE1heCkge1xuICAgIGlmIChleHRyYXBvbGF0ZVJpZ2h0ID09PSBcImlkZW50aXR5XCIpXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGVsc2UgaWYgKGV4dHJhcG9sYXRlUmlnaHQgPT09IFwiY2xhbXBcIilcbiAgICAgIHJlc3VsdCA9IGlucHV0TWF4O1xuICB9XG4gIGlmIChvdXRwdXRNaW4gPT09IG91dHB1dE1heClcbiAgICByZXR1cm4gb3V0cHV0TWluO1xuICBpZiAoaW5wdXRNaW4gPT09IGlucHV0TWF4KVxuICAgIHJldHVybiBpbnB1dCA8PSBpbnB1dE1pbiA/IG91dHB1dE1pbiA6IG91dHB1dE1heDtcbiAgaWYgKGlucHV0TWluID09PSAtSW5maW5pdHkpXG4gICAgcmVzdWx0ID0gLXJlc3VsdDtcbiAgZWxzZSBpZiAoaW5wdXRNYXggPT09IEluZmluaXR5KVxuICAgIHJlc3VsdCA9IHJlc3VsdCAtIGlucHV0TWluO1xuICBlbHNlXG4gICAgcmVzdWx0ID0gKHJlc3VsdCAtIGlucHV0TWluKSAvIChpbnB1dE1heCAtIGlucHV0TWluKTtcbiAgcmVzdWx0ID0gZWFzaW5nKHJlc3VsdCk7XG4gIGlmIChvdXRwdXRNaW4gPT09IC1JbmZpbml0eSlcbiAgICByZXN1bHQgPSAtcmVzdWx0O1xuICBlbHNlIGlmIChvdXRwdXRNYXggPT09IEluZmluaXR5KVxuICAgIHJlc3VsdCA9IHJlc3VsdCArIG91dHB1dE1pbjtcbiAgZWxzZVxuICAgIHJlc3VsdCA9IHJlc3VsdCAqIChvdXRwdXRNYXggLSBvdXRwdXRNaW4pICsgb3V0cHV0TWluO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgaW5wdXRSYW5nZS5sZW5ndGggLSAxOyArK2kpXG4gICAgaWYgKGlucHV0UmFuZ2VbaV0gPj0gaW5wdXQpXG4gICAgICBicmVhaztcbiAgcmV0dXJuIGkgLSAxO1xufVxuXG4vLyBzcmMvZWFzaW5ncy50c1xudmFyIHN0ZXBzID0gKHN0ZXBzMiwgZGlyZWN0aW9uID0gXCJlbmRcIikgPT4gKHByb2dyZXNzMikgPT4ge1xuICBwcm9ncmVzczIgPSBkaXJlY3Rpb24gPT09IFwiZW5kXCIgPyBNYXRoLm1pbihwcm9ncmVzczIsIDAuOTk5KSA6IE1hdGgubWF4KHByb2dyZXNzMiwgMWUtMyk7XG4gIGNvbnN0IGV4cGFuZGVkID0gcHJvZ3Jlc3MyICogc3RlcHMyO1xuICBjb25zdCByb3VuZGVkID0gZGlyZWN0aW9uID09PSBcImVuZFwiID8gTWF0aC5mbG9vcihleHBhbmRlZCkgOiBNYXRoLmNlaWwoZXhwYW5kZWQpO1xuICByZXR1cm4gY2xhbXAoMCwgMSwgcm91bmRlZCAvIHN0ZXBzMik7XG59O1xudmFyIGMxID0gMS43MDE1ODtcbnZhciBjMiA9IGMxICogMS41MjU7XG52YXIgYzMgPSBjMSArIDE7XG52YXIgYzQgPSAyICogTWF0aC5QSSAvIDM7XG52YXIgYzUgPSAyICogTWF0aC5QSSAvIDQuNTtcbnZhciBib3VuY2VPdXQgPSAoeCkgPT4ge1xuICBjb25zdCBuMSA9IDcuNTYyNTtcbiAgY29uc3QgZDEgPSAyLjc1O1xuICBpZiAoeCA8IDEgLyBkMSkge1xuICAgIHJldHVybiBuMSAqIHggKiB4O1xuICB9IGVsc2UgaWYgKHggPCAyIC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiAoeCAtPSAxLjUgLyBkMSkgKiB4ICsgMC43NTtcbiAgfSBlbHNlIGlmICh4IDwgMi41IC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiAoeCAtPSAyLjI1IC8gZDEpICogeCArIDAuOTM3NTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbjEgKiAoeCAtPSAyLjYyNSAvIGQxKSAqIHggKyAwLjk4NDM3NTtcbiAgfVxufTtcbnZhciBlYXNpbmdzID0ge1xuICBsaW5lYXI6ICh4KSA9PiB4LFxuICBlYXNlSW5RdWFkOiAoeCkgPT4geCAqIHgsXG4gIGVhc2VPdXRRdWFkOiAoeCkgPT4gMSAtICgxIC0geCkgKiAoMSAtIHgpLFxuICBlYXNlSW5PdXRRdWFkOiAoeCkgPT4geCA8IDAuNSA/IDIgKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAyKSAvIDIsXG4gIGVhc2VJbkN1YmljOiAoeCkgPT4geCAqIHggKiB4LFxuICBlYXNlT3V0Q3ViaWM6ICh4KSA9PiAxIC0gTWF0aC5wb3coMSAtIHgsIDMpLFxuICBlYXNlSW5PdXRDdWJpYzogKHgpID0+IHggPCAwLjUgPyA0ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDMpIC8gMixcbiAgZWFzZUluUXVhcnQ6ICh4KSA9PiB4ICogeCAqIHggKiB4LFxuICBlYXNlT3V0UXVhcnQ6ICh4KSA9PiAxIC0gTWF0aC5wb3coMSAtIHgsIDQpLFxuICBlYXNlSW5PdXRRdWFydDogKHgpID0+IHggPCAwLjUgPyA4ICogeCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCA0KSAvIDIsXG4gIGVhc2VJblF1aW50OiAoeCkgPT4geCAqIHggKiB4ICogeCAqIHgsXG4gIGVhc2VPdXRRdWludDogKHgpID0+IDEgLSBNYXRoLnBvdygxIC0geCwgNSksXG4gIGVhc2VJbk91dFF1aW50OiAoeCkgPT4geCA8IDAuNSA/IDE2ICogeCAqIHggKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgNSkgLyAyLFxuICBlYXNlSW5TaW5lOiAoeCkgPT4gMSAtIE1hdGguY29zKHggKiBNYXRoLlBJIC8gMiksXG4gIGVhc2VPdXRTaW5lOiAoeCkgPT4gTWF0aC5zaW4oeCAqIE1hdGguUEkgLyAyKSxcbiAgZWFzZUluT3V0U2luZTogKHgpID0+IC0oTWF0aC5jb3MoTWF0aC5QSSAqIHgpIC0gMSkgLyAyLFxuICBlYXNlSW5FeHBvOiAoeCkgPT4geCA9PT0gMCA/IDAgOiBNYXRoLnBvdygyLCAxMCAqIHggLSAxMCksXG4gIGVhc2VPdXRFeHBvOiAoeCkgPT4geCA9PT0gMSA/IDEgOiAxIC0gTWF0aC5wb3coMiwgLTEwICogeCksXG4gIGVhc2VJbk91dEV4cG86ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogeCA8IDAuNSA/IE1hdGgucG93KDIsIDIwICogeCAtIDEwKSAvIDIgOiAoMiAtIE1hdGgucG93KDIsIC0yMCAqIHggKyAxMCkpIC8gMixcbiAgZWFzZUluQ2lyYzogKHgpID0+IDEgLSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KHgsIDIpKSxcbiAgZWFzZU91dENpcmM6ICh4KSA9PiBNYXRoLnNxcnQoMSAtIE1hdGgucG93KHggLSAxLCAyKSksXG4gIGVhc2VJbk91dENpcmM6ICh4KSA9PiB4IDwgMC41ID8gKDEgLSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KDIgKiB4LCAyKSkpIC8gMiA6IChNYXRoLnNxcnQoMSAtIE1hdGgucG93KC0yICogeCArIDIsIDIpKSArIDEpIC8gMixcbiAgZWFzZUluQmFjazogKHgpID0+IGMzICogeCAqIHggKiB4IC0gYzEgKiB4ICogeCxcbiAgZWFzZU91dEJhY2s6ICh4KSA9PiAxICsgYzMgKiBNYXRoLnBvdyh4IC0gMSwgMykgKyBjMSAqIE1hdGgucG93KHggLSAxLCAyKSxcbiAgZWFzZUluT3V0QmFjazogKHgpID0+IHggPCAwLjUgPyBNYXRoLnBvdygyICogeCwgMikgKiAoKGMyICsgMSkgKiAyICogeCAtIGMyKSAvIDIgOiAoTWF0aC5wb3coMiAqIHggLSAyLCAyKSAqICgoYzIgKyAxKSAqICh4ICogMiAtIDIpICsgYzIpICsgMikgLyAyLFxuICBlYXNlSW5FbGFzdGljOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IC1NYXRoLnBvdygyLCAxMCAqIHggLSAxMCkgKiBNYXRoLnNpbigoeCAqIDEwIC0gMTAuNzUpICogYzQpLFxuICBlYXNlT3V0RWxhc3RpYzogKHgpID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiBNYXRoLnBvdygyLCAtMTAgKiB4KSAqIE1hdGguc2luKCh4ICogMTAgLSAwLjc1KSAqIGM0KSArIDEsXG4gIGVhc2VJbk91dEVsYXN0aWM6ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogeCA8IDAuNSA/IC0oTWF0aC5wb3coMiwgMjAgKiB4IC0gMTApICogTWF0aC5zaW4oKDIwICogeCAtIDExLjEyNSkgKiBjNSkpIC8gMiA6IE1hdGgucG93KDIsIC0yMCAqIHggKyAxMCkgKiBNYXRoLnNpbigoMjAgKiB4IC0gMTEuMTI1KSAqIGM1KSAvIDIgKyAxLFxuICBlYXNlSW5Cb3VuY2U6ICh4KSA9PiAxIC0gYm91bmNlT3V0KDEgLSB4KSxcbiAgZWFzZU91dEJvdW5jZTogYm91bmNlT3V0LFxuICBlYXNlSW5PdXRCb3VuY2U6ICh4KSA9PiB4IDwgMC41ID8gKDEgLSBib3VuY2VPdXQoMSAtIDIgKiB4KSkgLyAyIDogKDEgKyBib3VuY2VPdXQoMiAqIHggLSAxKSkgLyAyLFxuICBzdGVwc1xufTtcblxuLy8gc3JjL2ZsdWlkcy50c1xudmFyICRnZXQgPSBTeW1ib2wuZm9yKFwiRmx1aWRWYWx1ZS5nZXRcIik7XG52YXIgJG9ic2VydmVycyA9IFN5bWJvbC5mb3IoXCJGbHVpZFZhbHVlLm9ic2VydmVyc1wiKTtcbnZhciBoYXNGbHVpZFZhbHVlID0gKGFyZykgPT4gQm9vbGVhbihhcmcgJiYgYXJnWyRnZXRdKTtcbnZhciBnZXRGbHVpZFZhbHVlID0gKGFyZykgPT4gYXJnICYmIGFyZ1skZ2V0XSA/IGFyZ1skZ2V0XSgpIDogYXJnO1xudmFyIGdldEZsdWlkT2JzZXJ2ZXJzID0gKHRhcmdldCkgPT4gdGFyZ2V0WyRvYnNlcnZlcnNdIHx8IG51bGw7XG5mdW5jdGlvbiBjYWxsRmx1aWRPYnNlcnZlcihvYnNlcnZlcjIsIGV2ZW50KSB7XG4gIGlmIChvYnNlcnZlcjIuZXZlbnRPYnNlcnZlZCkge1xuICAgIG9ic2VydmVyMi5ldmVudE9ic2VydmVkKGV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBvYnNlcnZlcjIoZXZlbnQpO1xuICB9XG59XG5mdW5jdGlvbiBjYWxsRmx1aWRPYnNlcnZlcnModGFyZ2V0LCBldmVudCkge1xuICBjb25zdCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG4gIGlmIChvYnNlcnZlcnMpIHtcbiAgICBvYnNlcnZlcnMuZm9yRWFjaCgob2JzZXJ2ZXIyKSA9PiB7XG4gICAgICBjYWxsRmx1aWRPYnNlcnZlcihvYnNlcnZlcjIsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufVxudmFyIEZsdWlkVmFsdWUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGdldCkge1xuICAgIGlmICghZ2V0ICYmICEoZ2V0ID0gdGhpcy5nZXQpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gZ2V0dGVyXCIpO1xuICAgIH1cbiAgICBzZXRGbHVpZEdldHRlcih0aGlzLCBnZXQpO1xuICB9XG59O1xuJGdldCwgJG9ic2VydmVycztcbnZhciBzZXRGbHVpZEdldHRlciA9ICh0YXJnZXQsIGdldCkgPT4gc2V0SGlkZGVuKHRhcmdldCwgJGdldCwgZ2V0KTtcbmZ1bmN0aW9uIGFkZEZsdWlkT2JzZXJ2ZXIodGFyZ2V0LCBvYnNlcnZlcjIpIHtcbiAgaWYgKHRhcmdldFskZ2V0XSkge1xuICAgIGxldCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG4gICAgaWYgKCFvYnNlcnZlcnMpIHtcbiAgICAgIHNldEhpZGRlbih0YXJnZXQsICRvYnNlcnZlcnMsIG9ic2VydmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICBpZiAoIW9ic2VydmVycy5oYXMob2JzZXJ2ZXIyKSkge1xuICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcjIpO1xuICAgICAgaWYgKHRhcmdldC5vYnNlcnZlckFkZGVkKSB7XG4gICAgICAgIHRhcmdldC5vYnNlcnZlckFkZGVkKG9ic2VydmVycy5zaXplLCBvYnNlcnZlcjIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JzZXJ2ZXIyO1xufVxuZnVuY3Rpb24gcmVtb3ZlRmx1aWRPYnNlcnZlcih0YXJnZXQsIG9ic2VydmVyMikge1xuICBjb25zdCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG4gIGlmIChvYnNlcnZlcnMgJiYgb2JzZXJ2ZXJzLmhhcyhvYnNlcnZlcjIpKSB7XG4gICAgY29uc3QgY291bnQgPSBvYnNlcnZlcnMuc2l6ZSAtIDE7XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBvYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFskb2JzZXJ2ZXJzXSA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0YXJnZXQub2JzZXJ2ZXJSZW1vdmVkKSB7XG4gICAgICB0YXJnZXQub2JzZXJ2ZXJSZW1vdmVkKGNvdW50LCBvYnNlcnZlcjIpO1xuICAgIH1cbiAgfVxufVxudmFyIHNldEhpZGRlbiA9ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICB2YWx1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbi8vIHNyYy9yZWdleHMudHNcbnZhciBudW1iZXJSZWdleCA9IC9bK1xcLV0/KD86MHxbMS05XVxcZCopKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZztcbnZhciBjb2xvclJlZ2V4ID0gLygjKD86WzAtOWEtZl17Mn0pezIsNH18KCNbMC05YS1mXXszfSl8KHJnYnxoc2wpYT9cXCgoLT9cXGQrJT9bLFxcc10rKXsyLDN9XFxzKltcXGRcXC5dKyU/XFwpKS9naTtcbnZhciB1bml0UmVnZXggPSBuZXcgUmVnRXhwKGAoJHtudW1iZXJSZWdleC5zb3VyY2V9KSglfFthLXpdKylgLCBcImlcIik7XG52YXIgcmdiYVJlZ2V4ID0gL3JnYmFcXCgoWzAtOVxcLi1dKyksIChbMC05XFwuLV0rKSwgKFswLTlcXC4tXSspLCAoWzAtOVxcLi1dKylcXCkvZ2k7XG52YXIgY3NzVmFyaWFibGVSZWdleCA9IC92YXJcXCgoLS1bYS16QS1aMC05LV9dKyksPyA/KFthLXpBLVowLTkgKCklIy4sLV0rKT9cXCkvO1xuXG4vLyBzcmMvdmFyaWFibGVUb1JnYmEudHNcbnZhciB2YXJpYWJsZVRvUmdiYSA9IChpbnB1dCkgPT4ge1xuICBjb25zdCBbdG9rZW4sIGZhbGxiYWNrXSA9IHBhcnNlQ1NTVmFyaWFibGUoaW5wdXQpO1xuICBpZiAoIXRva2VuIHx8IGlzU1NSKCkpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUodG9rZW4pO1xuICBpZiAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUudHJpbSgpO1xuICB9IGVsc2UgaWYgKGZhbGxiYWNrICYmIGZhbGxiYWNrLnN0YXJ0c1dpdGgoXCItLVwiKSkge1xuICAgIGNvbnN0IHZhbHVlMiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShmYWxsYmFjayk7XG4gICAgaWYgKHZhbHVlMikge1xuICAgICAgcmV0dXJuIHZhbHVlMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChmYWxsYmFjayAmJiBjc3NWYXJpYWJsZVJlZ2V4LnRlc3QoZmFsbGJhY2spKSB7XG4gICAgcmV0dXJuIHZhcmlhYmxlVG9SZ2JhKGZhbGxiYWNrKTtcbiAgfSBlbHNlIGlmIChmYWxsYmFjaykge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuICByZXR1cm4gaW5wdXQ7XG59O1xudmFyIHBhcnNlQ1NTVmFyaWFibGUgPSAoY3VycmVudCkgPT4ge1xuICBjb25zdCBtYXRjaCA9IGNzc1ZhcmlhYmxlUmVnZXguZXhlYyhjdXJyZW50KTtcbiAgaWYgKCFtYXRjaClcbiAgICByZXR1cm4gWyxdO1xuICBjb25zdCBbLCB0b2tlbiwgZmFsbGJhY2tdID0gbWF0Y2g7XG4gIHJldHVybiBbdG9rZW4sIGZhbGxiYWNrXTtcbn07XG5cbi8vIHNyYy9zdHJpbmdJbnRlcnBvbGF0aW9uLnRzXG52YXIgbmFtZWRDb2xvclJlZ2V4O1xudmFyIHJnYmFSb3VuZCA9IChfLCBwMSwgcDIsIHAzLCBwNCkgPT4gYHJnYmEoJHtNYXRoLnJvdW5kKHAxKX0sICR7TWF0aC5yb3VuZChwMil9LCAke01hdGgucm91bmQocDMpfSwgJHtwNH0pYDtcbnZhciBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IyID0gKGNvbmZpZykgPT4ge1xuICBpZiAoIW5hbWVkQ29sb3JSZWdleClcbiAgICBuYW1lZENvbG9yUmVnZXggPSBjb2xvcnMgPyAoXG4gICAgICAvLyBtYXRjaCBjb2xvciBuYW1lcywgaWdub3JlIHBhcnRpYWwgbWF0Y2hlc1xuICAgICAgbmV3IFJlZ0V4cChgKCR7T2JqZWN0LmtleXMoY29sb3JzKS5qb2luKFwifFwiKX0pKD8hXFxcXHcpYCwgXCJnXCIpXG4gICAgKSA6IChcbiAgICAgIC8vIG5ldmVyIG1hdGNoXG4gICAgICAvXlxcYiQvXG4gICAgKTtcbiAgY29uc3Qgb3V0cHV0ID0gY29uZmlnLm91dHB1dC5tYXAoKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIGdldEZsdWlkVmFsdWUodmFsdWUpLnJlcGxhY2UoY3NzVmFyaWFibGVSZWdleCwgdmFyaWFibGVUb1JnYmEpLnJlcGxhY2UoY29sb3JSZWdleCwgY29sb3JUb1JnYmEpLnJlcGxhY2UobmFtZWRDb2xvclJlZ2V4LCBjb2xvclRvUmdiYSk7XG4gIH0pO1xuICBjb25zdCBrZXlmcmFtZXMgPSBvdXRwdXQubWFwKCh2YWx1ZSkgPT4gdmFsdWUubWF0Y2gobnVtYmVyUmVnZXgpLm1hcChOdW1iZXIpKTtcbiAgY29uc3Qgb3V0cHV0UmFuZ2VzID0ga2V5ZnJhbWVzWzBdLm1hcChcbiAgICAoXywgaSkgPT4ga2V5ZnJhbWVzLm1hcCgodmFsdWVzKSA9PiB7XG4gICAgICBpZiAoIShpIGluIHZhbHVlcykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBhcml0eSBvZiBlYWNoIFwib3V0cHV0XCIgdmFsdWUgbXVzdCBiZSBlcXVhbCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlc1tpXTtcbiAgICB9KVxuICApO1xuICBjb25zdCBpbnRlcnBvbGF0b3JzID0gb3V0cHV0UmFuZ2VzLm1hcChcbiAgICAob3V0cHV0MikgPT4gY3JlYXRlSW50ZXJwb2xhdG9yKHsgLi4uY29uZmlnLCBvdXRwdXQ6IG91dHB1dDIgfSlcbiAgKTtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IG1pc3NpbmdVbml0ID0gIXVuaXRSZWdleC50ZXN0KG91dHB1dFswXSkgJiYgb3V0cHV0LmZpbmQoKHZhbHVlKSA9PiB1bml0UmVnZXgudGVzdCh2YWx1ZSkpPy5yZXBsYWNlKG51bWJlclJlZ2V4LCBcIlwiKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgcmV0dXJuIG91dHB1dFswXS5yZXBsYWNlKFxuICAgICAgbnVtYmVyUmVnZXgsXG4gICAgICAoKSA9PiBgJHtpbnRlcnBvbGF0b3JzW2krK10oaW5wdXQpfSR7bWlzc2luZ1VuaXQgfHwgXCJcIn1gXG4gICAgKS5yZXBsYWNlKHJnYmFSZWdleCwgcmdiYVJvdW5kKTtcbiAgfTtcbn07XG5cbi8vIHNyYy9kZXByZWNhdGlvbnMudHNcbnZhciBwcmVmaXggPSBcInJlYWN0LXNwcmluZzogXCI7XG52YXIgb25jZSA9IChmbikgPT4ge1xuICBjb25zdCBmdW5jID0gZm47XG4gIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgaWYgKHR5cGVvZiBmdW5jICE9IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7cHJlZml4fW9uY2UgcmVxdWlyZXMgYSBmdW5jdGlvbiBwYXJhbWV0ZXJgKTtcbiAgfVxuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xufTtcbnZhciB3YXJuSW50ZXJwb2xhdGUgPSBvbmNlKGNvbnNvbGUud2Fybik7XG5mdW5jdGlvbiBkZXByZWNhdGVJbnRlcnBvbGF0ZSgpIHtcbiAgd2FybkludGVycG9sYXRlKFxuICAgIGAke3ByZWZpeH1UaGUgXCJpbnRlcnBvbGF0ZVwiIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaW4gdjkgKHVzZSBcInRvXCIgaW5zdGVhZClgXG4gICk7XG59XG52YXIgd2FybkRpcmVjdENhbGwgPSBvbmNlKGNvbnNvbGUud2Fybik7XG5mdW5jdGlvbiBkZXByZWNhdGVEaXJlY3RDYWxsKCkge1xuICB3YXJuRGlyZWN0Q2FsbChcbiAgICBgJHtwcmVmaXh9RGlyZWN0bHkgY2FsbGluZyBzdGFydCBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBhcGkgb2JqZWN0IGlzIGRlcHJlY2F0ZWQgaW4gdjkgKHVzZSBcIi5zdGFydFwiIGluc3RlYWQpLCB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiBsYXRlciAwLlguMCB2ZXJzaW9uc2BcbiAgKTtcbn1cblxuLy8gc3JjL2lzQW5pbWF0ZWRTdHJpbmcudHNcbmZ1bmN0aW9uIGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIGlzLnN0cih2YWx1ZSkgJiYgKHZhbHVlWzBdID09IFwiI1wiIHx8IC9cXGQvLnRlc3QodmFsdWUpIHx8IC8vIERvIG5vdCBpZGVudGlmeSBhIENTUyB2YXJpYWJsZSBhcyBhbiBBbmltYXRlZFN0cmluZyBpZiBpdHMgU1NSXG4gICFpc1NTUigpICYmIGNzc1ZhcmlhYmxlUmVnZXgudGVzdCh2YWx1ZSkgfHwgdmFsdWUgaW4gKGNvbG9ycyB8fCB7fSkpO1xufVxuXG4vLyBzcmMvZG9tLWV2ZW50cy9zY3JvbGwvaW5kZXgudHNcbmltcG9ydCB7IHJhZiBhcyByYWYzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9yZXNpemUvcmVzaXplRWxlbWVudC50c1xudmFyIG9ic2VydmVyO1xudmFyIHJlc2l6ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgaGFuZGxlT2JzZXJ2YXRpb24gPSAoZW50cmllcykgPT4gZW50cmllcy5mb3JFYWNoKCh7IHRhcmdldCwgY29udGVudFJlY3QgfSkgPT4ge1xuICByZXR1cm4gcmVzaXplSGFuZGxlcnMuZ2V0KHRhcmdldCk/LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIoY29udGVudFJlY3QpKTtcbn0pO1xuZnVuY3Rpb24gcmVzaXplRWxlbWVudChoYW5kbGVyLCB0YXJnZXQpIHtcbiAgaWYgKCFvYnNlcnZlcikge1xuICAgIGlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGhhbmRsZU9ic2VydmF0aW9uKTtcbiAgICB9XG4gIH1cbiAgbGV0IGVsZW1lbnRIYW5kbGVycyA9IHJlc2l6ZUhhbmRsZXJzLmdldCh0YXJnZXQpO1xuICBpZiAoIWVsZW1lbnRIYW5kbGVycykge1xuICAgIGVsZW1lbnRIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgcmVzaXplSGFuZGxlcnMuc2V0KHRhcmdldCwgZWxlbWVudEhhbmRsZXJzKTtcbiAgfVxuICBlbGVtZW50SGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICBpZiAob2JzZXJ2ZXIpIHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50SGFuZGxlcnMyID0gcmVzaXplSGFuZGxlcnMuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFlbGVtZW50SGFuZGxlcnMyKVxuICAgICAgcmV0dXJuO1xuICAgIGVsZW1lbnRIYW5kbGVyczIuZGVsZXRlKGhhbmRsZXIpO1xuICAgIGlmICghZWxlbWVudEhhbmRsZXJzMi5zaXplICYmIG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci51bm9ic2VydmUodGFyZ2V0KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Jlc2l6ZS9yZXNpemVXaW5kb3cudHNcbnZhciBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyO1xudmFyIGNyZWF0ZVJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChcbiAgICAgIChjYWxsYmFjaykgPT4gY2FsbGJhY2soe1xuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICB9KVxuICAgICk7XG4gIH07XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgfTtcbn07XG52YXIgcmVzaXplV2luZG93ID0gKGNhbGxiYWNrKSA9PiB7XG4gIGxpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuICBpZiAoIWNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyKSB7XG4gICAgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIgPSBjcmVhdGVSZXNpemVIYW5kbGVyKCk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICBpZiAoIWxpc3RlbmVycy5zaXplICYmIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyKSB7XG4gICAgICBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcigpO1xuICAgICAgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xufTtcblxuLy8gc3JjL2RvbS1ldmVudHMvcmVzaXplL2luZGV4LnRzXG52YXIgb25SZXNpemUgPSAoY2FsbGJhY2ssIHsgY29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IH0gPSB7fSkgPT4ge1xuICBpZiAoY29udGFpbmVyID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICByZXR1cm4gcmVzaXplV2luZG93KGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVzaXplRWxlbWVudChjYWxsYmFjaywgY29udGFpbmVyKTtcbiAgfVxufTtcblxuLy8gc3JjL3Byb2dyZXNzLnRzXG52YXIgcHJvZ3Jlc3MgPSAobWluLCBtYXgsIHZhbHVlKSA9PiBtYXggLSBtaW4gPT09IDAgPyAxIDogKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9zY3JvbGwvU2Nyb2xsSGFuZGxlci50c1xudmFyIFNDUk9MTF9LRVlTID0ge1xuICB4OiB7XG4gICAgbGVuZ3RoOiBcIldpZHRoXCIsXG4gICAgcG9zaXRpb246IFwiTGVmdFwiXG4gIH0sXG4gIHk6IHtcbiAgICBsZW5ndGg6IFwiSGVpZ2h0XCIsXG4gICAgcG9zaXRpb246IFwiVG9wXCJcbiAgfVxufTtcbnZhciBTY3JvbGxIYW5kbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgY29udGFpbmVyKSB7XG4gICAgdGhpcy5jcmVhdGVBeGlzID0gKCkgPT4gKHtcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHNjcm9sbExlbmd0aDogMFxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlQXhpcyA9IChheGlzTmFtZSkgPT4ge1xuICAgICAgY29uc3QgYXhpcyA9IHRoaXMuaW5mb1theGlzTmFtZV07XG4gICAgICBjb25zdCB7IGxlbmd0aCwgcG9zaXRpb24gfSA9IFNDUk9MTF9LRVlTW2F4aXNOYW1lXTtcbiAgICAgIGF4aXMuY3VycmVudCA9IHRoaXMuY29udGFpbmVyW2BzY3JvbGwke3Bvc2l0aW9ufWBdO1xuICAgICAgYXhpcy5zY3JvbGxMZW5ndGggPSB0aGlzLmNvbnRhaW5lcltgc2Nyb2xsJHtsZW5ndGh9YF0gLSB0aGlzLmNvbnRhaW5lcltgY2xpZW50JHtsZW5ndGh9YF07XG4gICAgICBheGlzLnByb2dyZXNzID0gcHJvZ3Jlc3MoMCwgYXhpcy5zY3JvbGxMZW5ndGgsIGF4aXMuY3VycmVudCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlQXhpcyhcInhcIik7XG4gICAgICB0aGlzLnVwZGF0ZUF4aXMoXCJ5XCIpO1xuICAgIH07XG4gICAgdGhpcy5zZW5kRXZlbnQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMuaW5mbyk7XG4gICAgfTtcbiAgICB0aGlzLmFkdmFuY2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy5zZW5kRXZlbnQoKTtcbiAgICB9O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmluZm8gPSB7XG4gICAgICB0aW1lOiAwLFxuICAgICAgeDogdGhpcy5jcmVhdGVBeGlzKCksXG4gICAgICB5OiB0aGlzLmNyZWF0ZUF4aXMoKVxuICAgIH07XG4gIH1cbn07XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Njcm9sbC9pbmRleC50c1xudmFyIHNjcm9sbExpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHJlc2l6ZUxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIG9uU2Nyb2xsSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRUYXJnZXQgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/IHdpbmRvdyA6IGNvbnRhaW5lcjtcbnZhciBvblNjcm9sbCA9IChjYWxsYmFjaywgeyBjb250YWluZXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfSA9IHt9KSA9PiB7XG4gIGxldCBjb250YWluZXJIYW5kbGVycyA9IG9uU2Nyb2xsSGFuZGxlcnMuZ2V0KGNvbnRhaW5lcik7XG4gIGlmICghY29udGFpbmVySGFuZGxlcnMpIHtcbiAgICBjb250YWluZXJIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgb25TY3JvbGxIYW5kbGVycy5zZXQoY29udGFpbmVyLCBjb250YWluZXJIYW5kbGVycyk7XG4gIH1cbiAgY29uc3QgY29udGFpbmVySGFuZGxlciA9IG5ldyBTY3JvbGxIYW5kbGVyKGNhbGxiYWNrLCBjb250YWluZXIpO1xuICBjb250YWluZXJIYW5kbGVycy5hZGQoY29udGFpbmVySGFuZGxlcik7XG4gIGlmICghc2Nyb2xsTGlzdGVuZXJzLmhhcyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBjb250YWluZXJIYW5kbGVycz8uZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlci5hZHZhbmNlKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBzY3JvbGxMaXN0ZW5lcnMuc2V0KGNvbnRhaW5lciwgbGlzdGVuZXIpO1xuICAgIGNvbnN0IHRhcmdldCA9IGdldFRhcmdldChjb250YWluZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgaWYgKGNvbnRhaW5lciAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICByZXNpemVMaXN0ZW5lcnMuc2V0KGNvbnRhaW5lciwgb25SZXNpemUobGlzdGVuZXIsIHsgY29udGFpbmVyIH0pKTtcbiAgICB9XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuICBjb25zdCBhbmltYXRlU2Nyb2xsID0gc2Nyb2xsTGlzdGVuZXJzLmdldChjb250YWluZXIpO1xuICByYWYzKGFuaW1hdGVTY3JvbGwpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHJhZjMuY2FuY2VsKGFuaW1hdGVTY3JvbGwpO1xuICAgIGNvbnN0IGNvbnRhaW5lckhhbmRsZXJzMiA9IG9uU2Nyb2xsSGFuZGxlcnMuZ2V0KGNvbnRhaW5lcik7XG4gICAgaWYgKCFjb250YWluZXJIYW5kbGVyczIpXG4gICAgICByZXR1cm47XG4gICAgY29udGFpbmVySGFuZGxlcnMyLmRlbGV0ZShjb250YWluZXJIYW5kbGVyKTtcbiAgICBpZiAoY29udGFpbmVySGFuZGxlcnMyLnNpemUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbGlzdGVuZXIgPSBzY3JvbGxMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik7XG4gICAgc2Nyb2xsTGlzdGVuZXJzLmRlbGV0ZShjb250YWluZXIpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZ2V0VGFyZ2V0KGNvbnRhaW5lcikucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBsaXN0ZW5lcik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBsaXN0ZW5lcik7XG4gICAgICByZXNpemVMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik/LigpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIHNyYy9ob29rcy91c2VDb25zdGFudC50c1xuaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb25zdGFudChpbml0KSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgaWYgKHJlZi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgcmVmLmN1cnJlbnQgPSBpbml0KCk7XG4gIH1cbiAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlRm9yY2VVcGRhdGUudHNcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9ob29rcy91c2VJc01vdW50ZWQudHNcbmltcG9ydCB7IHVzZVJlZiBhcyB1c2VSZWYyIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9ob29rcy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc1NTUigpID8gdXNlRWZmZWN0IDogdXNlTGF5b3V0RWZmZWN0O1xuXG4vLyBzcmMvaG9va3MvdXNlSXNNb3VudGVkLnRzXG52YXIgdXNlSXNNb3VudGVkID0gKCkgPT4ge1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYyKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGlzTW91bnRlZDtcbn07XG5cbi8vIHNyYy9ob29rcy91c2VGb3JjZVVwZGF0ZS50c1xuZnVuY3Rpb24gdXNlRm9yY2VVcGRhdGUoKSB7XG4gIGNvbnN0IHVwZGF0ZSA9IHVzZVN0YXRlKClbMV07XG4gIGNvbnN0IGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgdXBkYXRlKE1hdGgucmFuZG9tKCkpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZU1lbW9PbmUudHNcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyLCB1c2VSZWYgYXMgdXNlUmVmMywgdXNlU3RhdGUgYXMgdXNlU3RhdGUyIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VNZW1vT25lKGdldFJlc3VsdCwgaW5wdXRzKSB7XG4gIGNvbnN0IFtpbml0aWFsXSA9IHVzZVN0YXRlMihcbiAgICAoKSA9PiAoe1xuICAgICAgaW5wdXRzLFxuICAgICAgcmVzdWx0OiBnZXRSZXN1bHQoKVxuICAgIH0pXG4gICk7XG4gIGNvbnN0IGNvbW1pdHRlZCA9IHVzZVJlZjMoKTtcbiAgY29uc3QgcHJldkNhY2hlID0gY29tbWl0dGVkLmN1cnJlbnQ7XG4gIGxldCBjYWNoZSA9IHByZXZDYWNoZTtcbiAgaWYgKGNhY2hlKSB7XG4gICAgY29uc3QgdXNlQ2FjaGUgPSBCb29sZWFuKFxuICAgICAgaW5wdXRzICYmIGNhY2hlLmlucHV0cyAmJiBhcmVJbnB1dHNFcXVhbChpbnB1dHMsIGNhY2hlLmlucHV0cylcbiAgICApO1xuICAgIGlmICghdXNlQ2FjaGUpIHtcbiAgICAgIGNhY2hlID0ge1xuICAgICAgICBpbnB1dHMsXG4gICAgICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNhY2hlID0gaW5pdGlhbDtcbiAgfVxuICB1c2VFZmZlY3QyKCgpID0+IHtcbiAgICBjb21taXR0ZWQuY3VycmVudCA9IGNhY2hlO1xuICAgIGlmIChwcmV2Q2FjaGUgPT0gaW5pdGlhbCkge1xuICAgICAgaW5pdGlhbC5pbnB1dHMgPSBpbml0aWFsLnJlc3VsdCA9IHZvaWQgMDtcbiAgICB9XG4gIH0sIFtjYWNoZV0pO1xuICByZXR1cm4gY2FjaGUucmVzdWx0O1xufVxuZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV4dCwgcHJldikge1xuICBpZiAobmV4dC5sZW5ndGggIT09IHByZXYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChuZXh0W2ldICE9PSBwcmV2W2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlT25jZS50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDMgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VPbmNlID0gKGVmZmVjdCkgPT4gdXNlRWZmZWN0MyhlZmZlY3QsIGVtcHR5RGVwcyk7XG52YXIgZW1wdHlEZXBzID0gW107XG5cbi8vIHNyYy9ob29rcy91c2VQcmV2LnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NCwgdXNlUmVmIGFzIHVzZVJlZjQgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVByZXYodmFsdWUpIHtcbiAgY29uc3QgcHJldlJlZiA9IHVzZVJlZjQoKTtcbiAgdXNlRWZmZWN0NCgoKSA9PiB7XG4gICAgcHJldlJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcHJldlJlZi5jdXJyZW50O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUmVkdWNlZE1vdGlvbi50c1xuaW1wb3J0IHsgdXNlU3RhdGUgYXMgdXNlU3RhdGUzIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlUmVkdWNlZE1vdGlvbiA9ICgpID0+IHtcbiAgY29uc3QgW3JlZHVjZWRNb3Rpb24sIHNldFJlZHVjZWRNb3Rpb25dID0gdXNlU3RhdGUzKG51bGwpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBtcWwgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uKVwiKTtcbiAgICBjb25zdCBoYW5kbGVNZWRpYUNoYW5nZSA9IChlKSA9PiB7XG4gICAgICBzZXRSZWR1Y2VkTW90aW9uKGUubWF0Y2hlcyk7XG4gICAgICBhc3NpZ24oe1xuICAgICAgICBza2lwQW5pbWF0aW9uOiBlLm1hdGNoZXNcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaGFuZGxlTWVkaWFDaGFuZ2UobXFsKTtcbiAgICBpZiAobXFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbXFsLmFkZExpc3RlbmVyKGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtcWwucmVtb3ZlTGlzdGVuZXIoaGFuZGxlTWVkaWFDaGFuZ2UpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHJlZHVjZWRNb3Rpb247XG59O1xuXG4vLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IHJhZiBhcyByYWY0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xuZXhwb3J0IHtcbiAgRmx1aWRWYWx1ZSxcbiAgZ2xvYmFsc19leHBvcnRzIGFzIEdsb2JhbHMsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIGNhbGxGbHVpZE9ic2VydmVyLFxuICBjYWxsRmx1aWRPYnNlcnZlcnMsXG4gIGNsYW1wLFxuICBjb2xvclRvUmdiYSxcbiAgY29sb3JzMiBhcyBjb2xvcnMsXG4gIGNyZWF0ZUludGVycG9sYXRvcixcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yMiBhcyBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIGRlZmluZUhpZGRlbixcbiAgZGVwcmVjYXRlRGlyZWN0Q2FsbCxcbiAgZGVwcmVjYXRlSW50ZXJwb2xhdGUsXG4gIGVhY2gsXG4gIGVhY2hQcm9wLFxuICBlYXNpbmdzLFxuICBmbHVzaCxcbiAgZmx1c2hDYWxscyxcbiAgZnJhbWVMb29wLFxuICBnZXRGbHVpZE9ic2VydmVycyxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgaGFzRmx1aWRWYWx1ZSxcbiAgaGV4MyxcbiAgaGV4NCxcbiAgaGV4NixcbiAgaGV4OCxcbiAgaHNsLFxuICBoc2xhLFxuICBpcyxcbiAgaXNBbmltYXRlZFN0cmluZyxcbiAgaXNFcXVhbCxcbiAgaXNTU1IsXG4gIG5vb3AsXG4gIG9uUmVzaXplLFxuICBvblNjcm9sbCxcbiAgb25jZSxcbiAgcHJlZml4LFxuICByYWY0IGFzIHJhZixcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlcixcbiAgcmdiLFxuICByZ2JhLFxuICBzZXRGbHVpZEdldHRlcixcbiAgdG9BcnJheSxcbiAgdXNlQ29uc3RhbnQsXG4gIHVzZUZvcmNlVXBkYXRlLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LFxuICB1c2VNZW1vT25lLFxuICB1c2VPbmNlLFxuICB1c2VQcmV2LFxuICB1c2VSZWR1Y2VkTW90aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX3NoYXJlZC5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiLy8gc3JjL2hvb2tzL3VzZUNoYWluLnRzXG5pbXBvcnQgeyBlYWNoLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9oZWxwZXJzLnRzXG5pbXBvcnQge1xuICBpcyxcbiAgdG9BcnJheSxcbiAgZWFjaFByb3AsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGlzQW5pbWF0ZWRTdHJpbmcsXG4gIEdsb2JhbHMgYXMgR1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIGNhbGxQcm9wKHZhbHVlLCAuLi5hcmdzKSB7XG4gIHJldHVybiBpcy5mdW4odmFsdWUpID8gdmFsdWUoLi4uYXJncykgOiB2YWx1ZTtcbn1cbnZhciBtYXRjaFByb3AgPSAodmFsdWUsIGtleSkgPT4gdmFsdWUgPT09IHRydWUgfHwgISEoa2V5ICYmIHZhbHVlICYmIChpcy5mdW4odmFsdWUpID8gdmFsdWUoa2V5KSA6IHRvQXJyYXkodmFsdWUpLmluY2x1ZGVzKGtleSkpKTtcbnZhciByZXNvbHZlUHJvcCA9IChwcm9wLCBrZXkpID0+IGlzLm9iaihwcm9wKSA/IGtleSAmJiBwcm9wW2tleV0gOiBwcm9wO1xudmFyIGdldERlZmF1bHRQcm9wID0gKHByb3BzLCBrZXkpID0+IHByb3BzLmRlZmF1bHQgPT09IHRydWUgPyBwcm9wc1trZXldIDogcHJvcHMuZGVmYXVsdCA/IHByb3BzLmRlZmF1bHRba2V5XSA6IHZvaWQgMDtcbnZhciBub29wVHJhbnNmb3JtID0gKHZhbHVlKSA9PiB2YWx1ZTtcbnZhciBnZXREZWZhdWx0UHJvcHMgPSAocHJvcHMsIHRyYW5zZm9ybSA9IG5vb3BUcmFuc2Zvcm0pID0+IHtcbiAgbGV0IGtleXMgPSBERUZBVUxUX1BST1BTO1xuICBpZiAocHJvcHMuZGVmYXVsdCAmJiBwcm9wcy5kZWZhdWx0ICE9PSB0cnVlKSB7XG4gICAgcHJvcHMgPSBwcm9wcy5kZWZhdWx0O1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIH1cbiAgY29uc3QgZGVmYXVsdHMyID0ge307XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRyYW5zZm9ybShwcm9wc1trZXldLCBrZXkpO1xuICAgIGlmICghaXMudW5kKHZhbHVlKSkge1xuICAgICAgZGVmYXVsdHMyW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRzMjtcbn07XG52YXIgREVGQVVMVF9QUk9QUyA9IFtcbiAgXCJjb25maWdcIixcbiAgXCJvblByb3BzXCIsXG4gIFwib25TdGFydFwiLFxuICBcIm9uQ2hhbmdlXCIsXG4gIFwib25QYXVzZVwiLFxuICBcIm9uUmVzdW1lXCIsXG4gIFwib25SZXN0XCJcbl07XG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGNvbmZpZzogMSxcbiAgZnJvbTogMSxcbiAgdG86IDEsXG4gIHJlZjogMSxcbiAgbG9vcDogMSxcbiAgcmVzZXQ6IDEsXG4gIHBhdXNlOiAxLFxuICBjYW5jZWw6IDEsXG4gIHJldmVyc2U6IDEsXG4gIGltbWVkaWF0ZTogMSxcbiAgZGVmYXVsdDogMSxcbiAgZGVsYXk6IDEsXG4gIG9uUHJvcHM6IDEsXG4gIG9uU3RhcnQ6IDEsXG4gIG9uQ2hhbmdlOiAxLFxuICBvblBhdXNlOiAxLFxuICBvblJlc3VtZTogMSxcbiAgb25SZXN0OiAxLFxuICBvblJlc29sdmU6IDEsXG4gIC8vIFRyYW5zaXRpb24gcHJvcHNcbiAgaXRlbXM6IDEsXG4gIHRyYWlsOiAxLFxuICBzb3J0OiAxLFxuICBleHBpcmVzOiAxLFxuICBpbml0aWFsOiAxLFxuICBlbnRlcjogMSxcbiAgdXBkYXRlOiAxLFxuICBsZWF2ZTogMSxcbiAgY2hpbGRyZW46IDEsXG4gIG9uRGVzdHJveWVkOiAxLFxuICAvLyBJbnRlcm5hbCBwcm9wc1xuICBrZXlzOiAxLFxuICBjYWxsSWQ6IDEsXG4gIHBhcmVudElkOiAxXG59O1xuZnVuY3Rpb24gZ2V0Rm9yd2FyZFByb3BzKHByb3BzKSB7XG4gIGNvbnN0IGZvcndhcmQgPSB7fTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgZWFjaFByb3AocHJvcHMsICh2YWx1ZSwgcHJvcCkgPT4ge1xuICAgIGlmICghUkVTRVJWRURfUFJPUFNbcHJvcF0pIHtcbiAgICAgIGZvcndhcmRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIGNvdW50Kys7XG4gICAgfVxuICB9KTtcbiAgaWYgKGNvdW50KSB7XG4gICAgcmV0dXJuIGZvcndhcmQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGluZmVyVG8ocHJvcHMpIHtcbiAgY29uc3QgdG8yID0gZ2V0Rm9yd2FyZFByb3BzKHByb3BzKTtcbiAgaWYgKHRvMikge1xuICAgIGNvbnN0IG91dCA9IHsgdG86IHRvMiB9O1xuICAgIGVhY2hQcm9wKHByb3BzLCAodmFsLCBrZXkpID0+IGtleSBpbiB0bzIgfHwgKG91dFtrZXldID0gdmFsKSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICByZXR1cm4geyAuLi5wcm9wcyB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUdvYWwodmFsdWUpIHtcbiAgdmFsdWUgPSBnZXRGbHVpZFZhbHVlKHZhbHVlKTtcbiAgcmV0dXJuIGlzLmFycih2YWx1ZSkgPyB2YWx1ZS5tYXAoY29tcHV0ZUdvYWwpIDogaXNBbmltYXRlZFN0cmluZyh2YWx1ZSkgPyBHLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcih7XG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBvdXRwdXQ6IFt2YWx1ZSwgdmFsdWVdXG4gIH0pKDEpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBoYXNQcm9wcyhwcm9wcykge1xuICBmb3IgKGNvbnN0IF8gaW4gcHJvcHMpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzQXN5bmNUbyh0bzIpIHtcbiAgcmV0dXJuIGlzLmZ1bih0bzIpIHx8IGlzLmFycih0bzIpICYmIGlzLm9iaih0bzJbMF0pO1xufVxuZnVuY3Rpb24gZGV0YWNoUmVmcyhjdHJsLCByZWYpIHtcbiAgY3RybC5yZWY/LmRlbGV0ZShjdHJsKTtcbiAgcmVmPy5kZWxldGUoY3RybCk7XG59XG5mdW5jdGlvbiByZXBsYWNlUmVmKGN0cmwsIHJlZikge1xuICBpZiAocmVmICYmIGN0cmwucmVmICE9PSByZWYpIHtcbiAgICBjdHJsLnJlZj8uZGVsZXRlKGN0cmwpO1xuICAgIHJlZi5hZGQoY3RybCk7XG4gICAgY3RybC5yZWYgPSByZWY7XG4gIH1cbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNoYWluLnRzXG5mdW5jdGlvbiB1c2VDaGFpbihyZWZzLCB0aW1lU3RlcHMsIHRpbWVGcmFtZSA9IDFlMykge1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAodGltZVN0ZXBzKSB7XG4gICAgICBsZXQgcHJldkRlbGF5ID0gMDtcbiAgICAgIGVhY2gocmVmcywgKHJlZiwgaSkgPT4ge1xuICAgICAgICBjb25zdCBjb250cm9sbGVycyA9IHJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY29udHJvbGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IGRlbGF5ID0gdGltZUZyYW1lICogdGltZVN0ZXBzW2ldO1xuICAgICAgICAgIGlmIChpc05hTihkZWxheSkpXG4gICAgICAgICAgICBkZWxheSA9IHByZXZEZWxheTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBwcmV2RGVsYXkgPSBkZWxheTtcbiAgICAgICAgICBlYWNoKGNvbnRyb2xsZXJzLCAoY3RybCkgPT4ge1xuICAgICAgICAgICAgZWFjaChjdHJsLnF1ZXVlLCAocHJvcHMpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbWVtb2l6ZWREZWxheVByb3AgPSBwcm9wcy5kZWxheTtcbiAgICAgICAgICAgICAgcHJvcHMuZGVsYXkgPSAoa2V5KSA9PiBkZWxheSArIGNhbGxQcm9wKG1lbW9pemVkRGVsYXlQcm9wIHx8IDAsIGtleSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWYuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBlYWNoKHJlZnMsIChyZWYpID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlcnMgPSByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHF1ZXVlcyA9IGNvbnRyb2xsZXJzLm1hcCgoY3RybCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcSA9IGN0cmwucXVldWU7XG4gICAgICAgICAgICBjdHJsLnF1ZXVlID0gW107XG4gICAgICAgICAgICByZXR1cm4gcTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwID0gcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGVhY2goXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJzLFxuICAgICAgICAgICAgICAoY3RybCwgaSkgPT4gZWFjaChxdWV1ZXNbaV0gfHwgW10sICh1cGRhdGUyKSA9PiBjdHJsLnF1ZXVlLnB1c2godXBkYXRlMikpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlZi5zdGFydCgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZy50c1xuaW1wb3J0IHsgaXMgYXMgaXM5IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmdzLnRzXG5pbXBvcnQgeyB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQyLCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGlzIGFzIGlzOCxcbiAgZWFjaCBhcyBlYWNoNSxcbiAgdXNlUHJldixcbiAgdXNlT25jZSxcbiAgdXNlRm9yY2VVcGRhdGUsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9TcHJpbmdWYWx1ZS50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM1LFxuICByYWYgYXMgcmFmMyxcbiAgZWFjaCBhcyBlYWNoMixcbiAgaXNFcXVhbCxcbiAgdG9BcnJheSBhcyB0b0FycmF5MixcbiAgZWFjaFByb3AgYXMgZWFjaFByb3AzLFxuICBmcmFtZUxvb3AgYXMgZnJhbWVMb29wMixcbiAgZmx1c2hDYWxscyxcbiAgZ2V0Rmx1aWRWYWx1ZSBhcyBnZXRGbHVpZFZhbHVlMixcbiAgaXNBbmltYXRlZFN0cmluZyBhcyBpc0FuaW1hdGVkU3RyaW5nMixcbiAgR2xvYmFscyBhcyBHNSxcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzIGFzIGNhbGxGbHVpZE9ic2VydmVyczIsXG4gIGhhc0ZsdWlkVmFsdWUsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIsXG4gIGdldEZsdWlkT2JzZXJ2ZXJzXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHtcbiAgQW5pbWF0ZWRWYWx1ZSxcbiAgQW5pbWF0ZWRTdHJpbmcsXG4gIGdldFBheWxvYWQsXG4gIGdldEFuaW1hdGVkIGFzIGdldEFuaW1hdGVkMixcbiAgc2V0QW5pbWF0ZWQsXG4gIGdldEFuaW1hdGVkVHlwZVxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xuXG4vLyBzcmMvQW5pbWF0aW9uQ29uZmlnLnRzXG5pbXBvcnQgeyBpcyBhcyBpczIsIGVhc2luZ3MgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL2NvbnN0YW50cy50c1xudmFyIGNvbmZpZyA9IHtcbiAgZGVmYXVsdDogeyB0ZW5zaW9uOiAxNzAsIGZyaWN0aW9uOiAyNiB9LFxuICBnZW50bGU6IHsgdGVuc2lvbjogMTIwLCBmcmljdGlvbjogMTQgfSxcbiAgd29iYmx5OiB7IHRlbnNpb246IDE4MCwgZnJpY3Rpb246IDEyIH0sXG4gIHN0aWZmOiB7IHRlbnNpb246IDIxMCwgZnJpY3Rpb246IDIwIH0sXG4gIHNsb3c6IHsgdGVuc2lvbjogMjgwLCBmcmljdGlvbjogNjAgfSxcbiAgbW9sYXNzZXM6IHsgdGVuc2lvbjogMjgwLCBmcmljdGlvbjogMTIwIH1cbn07XG5cbi8vIHNyYy9BbmltYXRpb25Db25maWcudHNcbnZhciBkZWZhdWx0cyA9IHtcbiAgLi4uY29uZmlnLmRlZmF1bHQsXG4gIG1hc3M6IDEsXG4gIGRhbXBpbmc6IDEsXG4gIGVhc2luZzogZWFzaW5ncy5saW5lYXIsXG4gIGNsYW1wOiBmYWxzZVxufTtcbnZhciBBbmltYXRpb25Db25maWcgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbml0aWFsIHZlbG9jaXR5IG9mIG9uZSBvciBtb3JlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRlZmF1bHRzKTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzIsIG5ld0NvbmZpZywgZGVmYXVsdENvbmZpZykge1xuICBpZiAoZGVmYXVsdENvbmZpZykge1xuICAgIGRlZmF1bHRDb25maWcgPSB7IC4uLmRlZmF1bHRDb25maWcgfTtcbiAgICBzYW5pdGl6ZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBuZXdDb25maWcpO1xuICAgIG5ld0NvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZywgLi4ubmV3Q29uZmlnIH07XG4gIH1cbiAgc2FuaXRpemVDb25maWcoY29uZmlnMiwgbmV3Q29uZmlnKTtcbiAgT2JqZWN0LmFzc2lnbihjb25maWcyLCBuZXdDb25maWcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChjb25maWcyW2tleV0gPT0gbnVsbCkge1xuICAgICAgY29uZmlnMltrZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICB9XG4gIH1cbiAgbGV0IHsgZnJlcXVlbmN5LCBkYW1waW5nIH0gPSBjb25maWcyO1xuICBjb25zdCB7IG1hc3MgfSA9IGNvbmZpZzI7XG4gIGlmICghaXMyLnVuZChmcmVxdWVuY3kpKSB7XG4gICAgaWYgKGZyZXF1ZW5jeSA8IDAuMDEpXG4gICAgICBmcmVxdWVuY3kgPSAwLjAxO1xuICAgIGlmIChkYW1waW5nIDwgMClcbiAgICAgIGRhbXBpbmcgPSAwO1xuICAgIGNvbmZpZzIudGVuc2lvbiA9IE1hdGgucG93KDIgKiBNYXRoLlBJIC8gZnJlcXVlbmN5LCAyKSAqIG1hc3M7XG4gICAgY29uZmlnMi5mcmljdGlvbiA9IDQgKiBNYXRoLlBJICogZGFtcGluZyAqIG1hc3MgLyBmcmVxdWVuY3k7XG4gIH1cbiAgcmV0dXJuIGNvbmZpZzI7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUNvbmZpZyhjb25maWcyLCBwcm9wcykge1xuICBpZiAoIWlzMi51bmQocHJvcHMuZGVjYXkpKSB7XG4gICAgY29uZmlnMi5kdXJhdGlvbiA9IHZvaWQgMDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpc1RlbnNpb25Db25maWcgPSAhaXMyLnVuZChwcm9wcy50ZW5zaW9uKSB8fCAhaXMyLnVuZChwcm9wcy5mcmljdGlvbik7XG4gICAgaWYgKGlzVGVuc2lvbkNvbmZpZyB8fCAhaXMyLnVuZChwcm9wcy5mcmVxdWVuY3kpIHx8ICFpczIudW5kKHByb3BzLmRhbXBpbmcpIHx8ICFpczIudW5kKHByb3BzLm1hc3MpKSB7XG4gICAgICBjb25maWcyLmR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgY29uZmlnMi5kZWNheSA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzVGVuc2lvbkNvbmZpZykge1xuICAgICAgY29uZmlnMi5mcmVxdWVuY3kgPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9BbmltYXRpb24udHNcbnZhciBlbXB0eUFycmF5ID0gW107XG52YXIgQW5pbWF0aW9uID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNoYW5nZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZhbHVlcyA9IGVtcHR5QXJyYXk7XG4gICAgdGhpcy50b1ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5mcm9tVmFsdWVzID0gZW1wdHlBcnJheTtcbiAgICB0aGlzLmNvbmZpZyA9IG5ldyBBbmltYXRpb25Db25maWcoKTtcbiAgICB0aGlzLmltbWVkaWF0ZSA9IGZhbHNlO1xuICB9XG59O1xuXG4vLyBzcmMvc2NoZWR1bGVQcm9wcy50c1xuaW1wb3J0IHsgaXMgYXMgaXMzLCByYWYsIEdsb2JhbHMgYXMgRzIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIHNjaGVkdWxlUHJvcHMoY2FsbElkLCB7IGtleSwgcHJvcHMsIGRlZmF1bHRQcm9wcywgc3RhdGUsIGFjdGlvbnMgfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBkZWxheTtcbiAgICBsZXQgdGltZW91dDtcbiAgICBsZXQgY2FuY2VsID0gbWF0Y2hQcm9wKHByb3BzLmNhbmNlbCA/PyBkZWZhdWx0UHJvcHM/LmNhbmNlbCwga2V5KTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBvblN0YXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaXMzLnVuZChwcm9wcy5wYXVzZSkpIHtcbiAgICAgICAgc3RhdGUucGF1c2VkID0gbWF0Y2hQcm9wKHByb3BzLnBhdXNlLCBrZXkpO1xuICAgICAgfVxuICAgICAgbGV0IHBhdXNlID0gZGVmYXVsdFByb3BzPy5wYXVzZTtcbiAgICAgIGlmIChwYXVzZSAhPT0gdHJ1ZSkge1xuICAgICAgICBwYXVzZSA9IHN0YXRlLnBhdXNlZCB8fCBtYXRjaFByb3AocGF1c2UsIGtleSk7XG4gICAgICB9XG4gICAgICBkZWxheSA9IGNhbGxQcm9wKHByb3BzLmRlbGF5IHx8IDAsIGtleSk7XG4gICAgICBpZiAocGF1c2UpIHtcbiAgICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKG9uUmVzdW1lKTtcbiAgICAgICAgYWN0aW9ucy5wYXVzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9ucy5yZXN1bWUoKTtcbiAgICAgICAgb25SZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25QYXVzZSgpIHtcbiAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChvblJlc3VtZSk7XG4gICAgICBzdGF0ZS50aW1lb3V0cy5kZWxldGUodGltZW91dCk7XG4gICAgICB0aW1lb3V0LmNhbmNlbCgpO1xuICAgICAgZGVsYXkgPSB0aW1lb3V0LnRpbWUgLSByYWYubm93KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUmVzdW1lKCkge1xuICAgICAgaWYgKGRlbGF5ID4gMCAmJiAhRzIuc2tpcEFuaW1hdGlvbikge1xuICAgICAgICBzdGF0ZS5kZWxheWVkID0gdHJ1ZTtcbiAgICAgICAgdGltZW91dCA9IHJhZi5zZXRUaW1lb3V0KG9uU3RhcnQsIGRlbGF5KTtcbiAgICAgICAgc3RhdGUucGF1c2VRdWV1ZS5hZGQob25QYXVzZSk7XG4gICAgICAgIHN0YXRlLnRpbWVvdXRzLmFkZCh0aW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3RhcnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgICAgIGlmIChzdGF0ZS5kZWxheWVkKSB7XG4gICAgICAgIHN0YXRlLmRlbGF5ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLnBhdXNlUXVldWUuZGVsZXRlKG9uUGF1c2UpO1xuICAgICAgc3RhdGUudGltZW91dHMuZGVsZXRlKHRpbWVvdXQpO1xuICAgICAgaWYgKGNhbGxJZCA8PSAoc3RhdGUuY2FuY2VsSWQgfHwgMCkpIHtcbiAgICAgICAgY2FuY2VsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGFjdGlvbnMuc3RhcnQoeyAuLi5wcm9wcywgY2FsbElkLCBjYW5jZWwgfSwgcmVzb2x2ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL3J1bkFzeW5jLnRzXG5pbXBvcnQge1xuICBpcyBhcyBpczQsXG4gIHJhZiBhcyByYWYyLFxuICBmbHVzaCxcbiAgZWFjaFByb3AgYXMgZWFjaFByb3AyLFxuICBHbG9iYWxzIGFzIEczXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvQW5pbWF0aW9uUmVzdWx0LnRzXG52YXIgZ2V0Q29tYmluZWRSZXN1bHQgPSAodGFyZ2V0LCByZXN1bHRzKSA9PiByZXN1bHRzLmxlbmd0aCA9PSAxID8gcmVzdWx0c1swXSA6IHJlc3VsdHMuc29tZSgocmVzdWx0KSA9PiByZXN1bHQuY2FuY2VsbGVkKSA/IGdldENhbmNlbGxlZFJlc3VsdCh0YXJnZXQuZ2V0KCkpIDogcmVzdWx0cy5ldmVyeSgocmVzdWx0KSA9PiByZXN1bHQubm9vcCkgPyBnZXROb29wUmVzdWx0KHRhcmdldC5nZXQoKSkgOiBnZXRGaW5pc2hlZFJlc3VsdChcbiAgdGFyZ2V0LmdldCgpLFxuICByZXN1bHRzLmV2ZXJ5KChyZXN1bHQpID0+IHJlc3VsdC5maW5pc2hlZClcbik7XG52YXIgZ2V0Tm9vcFJlc3VsdCA9ICh2YWx1ZSkgPT4gKHtcbiAgdmFsdWUsXG4gIG5vb3A6IHRydWUsXG4gIGZpbmlzaGVkOiB0cnVlLFxuICBjYW5jZWxsZWQ6IGZhbHNlXG59KTtcbnZhciBnZXRGaW5pc2hlZFJlc3VsdCA9ICh2YWx1ZSwgZmluaXNoZWQsIGNhbmNlbGxlZCA9IGZhbHNlKSA9PiAoe1xuICB2YWx1ZSxcbiAgZmluaXNoZWQsXG4gIGNhbmNlbGxlZFxufSk7XG52YXIgZ2V0Q2FuY2VsbGVkUmVzdWx0ID0gKHZhbHVlKSA9PiAoe1xuICB2YWx1ZSxcbiAgY2FuY2VsbGVkOiB0cnVlLFxuICBmaW5pc2hlZDogZmFsc2Vcbn0pO1xuXG4vLyBzcmMvcnVuQXN5bmMudHNcbmZ1bmN0aW9uIHJ1bkFzeW5jKHRvMiwgcHJvcHMsIHN0YXRlLCB0YXJnZXQpIHtcbiAgY29uc3QgeyBjYWxsSWQsIHBhcmVudElkLCBvblJlc3QgfSA9IHByb3BzO1xuICBjb25zdCB7IGFzeW5jVG86IHByZXZUbywgcHJvbWlzZTogcHJldlByb21pc2UgfSA9IHN0YXRlO1xuICBpZiAoIXBhcmVudElkICYmIHRvMiA9PT0gcHJldlRvICYmICFwcm9wcy5yZXNldCkge1xuICAgIHJldHVybiBwcmV2UHJvbWlzZTtcbiAgfVxuICByZXR1cm4gc3RhdGUucHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgc3RhdGUuYXN5bmNJZCA9IGNhbGxJZDtcbiAgICBzdGF0ZS5hc3luY1RvID0gdG8yO1xuICAgIGNvbnN0IGRlZmF1bHRQcm9wcyA9IGdldERlZmF1bHRQcm9wcyhcbiAgICAgIHByb3BzLFxuICAgICAgKHZhbHVlLCBrZXkpID0+IChcbiAgICAgICAgLy8gVGhlIGBvblJlc3RgIHByb3AgaXMgb25seSBjYWxsZWQgd2hlbiB0aGUgYHJ1bkFzeW5jYCBwcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAgICBrZXkgPT09IFwib25SZXN0XCIgPyB2b2lkIDAgOiB2YWx1ZVxuICAgICAgKVxuICAgICk7XG4gICAgbGV0IHByZXZlbnRCYWlsO1xuICAgIGxldCBiYWlsO1xuICAgIGNvbnN0IGJhaWxQcm9taXNlID0gbmV3IFByb21pc2UoXG4gICAgICAocmVzb2x2ZSwgcmVqZWN0KSA9PiAocHJldmVudEJhaWwgPSByZXNvbHZlLCBiYWlsID0gcmVqZWN0KVxuICAgICk7XG4gICAgY29uc3QgYmFpbElmRW5kZWQgPSAoYmFpbFNpZ25hbCkgPT4ge1xuICAgICAgY29uc3QgYmFpbFJlc3VsdCA9IChcbiAgICAgICAgLy8gVGhlIGBjYW5jZWxgIHByb3Agb3IgYHN0b3BgIG1ldGhvZCB3YXMgdXNlZC5cbiAgICAgICAgY2FsbElkIDw9IChzdGF0ZS5jYW5jZWxJZCB8fCAwKSAmJiBnZXRDYW5jZWxsZWRSZXN1bHQodGFyZ2V0KSB8fCAvLyBUaGUgYXN5bmMgYHRvYCBwcm9wIHdhcyByZXBsYWNlZC5cbiAgICAgICAgY2FsbElkICE9PSBzdGF0ZS5hc3luY0lkICYmIGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpXG4gICAgICApO1xuICAgICAgaWYgKGJhaWxSZXN1bHQpIHtcbiAgICAgICAgYmFpbFNpZ25hbC5yZXN1bHQgPSBiYWlsUmVzdWx0O1xuICAgICAgICBiYWlsKGJhaWxTaWduYWwpO1xuICAgICAgICB0aHJvdyBiYWlsU2lnbmFsO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgYW5pbWF0ZSA9IChhcmcxLCBhcmcyKSA9PiB7XG4gICAgICBjb25zdCBiYWlsU2lnbmFsID0gbmV3IEJhaWxTaWduYWwoKTtcbiAgICAgIGNvbnN0IHNraXBBbmltYXRpb25TaWduYWwgPSBuZXcgU2tpcEFuaW1hdGlvblNpZ25hbCgpO1xuICAgICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChHMy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICAgICAgc3RvcEFzeW5jKHN0YXRlKTtcbiAgICAgICAgICBza2lwQW5pbWF0aW9uU2lnbmFsLnJlc3VsdCA9IGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpO1xuICAgICAgICAgIGJhaWwoc2tpcEFuaW1hdGlvblNpZ25hbCk7XG4gICAgICAgICAgdGhyb3cgc2tpcEFuaW1hdGlvblNpZ25hbDtcbiAgICAgICAgfVxuICAgICAgICBiYWlsSWZFbmRlZChiYWlsU2lnbmFsKTtcbiAgICAgICAgY29uc3QgcHJvcHMyID0gaXM0Lm9iaihhcmcxKSA/IHsgLi4uYXJnMSB9IDogeyAuLi5hcmcyLCB0bzogYXJnMSB9O1xuICAgICAgICBwcm9wczIucGFyZW50SWQgPSBjYWxsSWQ7XG4gICAgICAgIGVhY2hQcm9wMihkZWZhdWx0UHJvcHMsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgaWYgKGlzNC51bmQocHJvcHMyW2tleV0pKSB7XG4gICAgICAgICAgICBwcm9wczJba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCB0YXJnZXQuc3RhcnQocHJvcHMyKTtcbiAgICAgICAgYmFpbElmRW5kZWQoYmFpbFNpZ25hbCk7XG4gICAgICAgIGlmIChzdGF0ZS5wYXVzZWQpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzdW1lKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQocmVzdW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgIH0pKCk7XG4gICAgfTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChHMy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICBzdG9wQXN5bmMoc3RhdGUpO1xuICAgICAgcmV0dXJuIGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgbGV0IGFuaW1hdGluZztcbiAgICAgIGlmIChpczQuYXJyKHRvMikpIHtcbiAgICAgICAgYW5pbWF0aW5nID0gKGFzeW5jIChxdWV1ZSkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgcHJvcHMyIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBhd2FpdCBhbmltYXRlKHByb3BzMik7XG4gICAgICAgICAgfVxuICAgICAgICB9KSh0bzIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5pbWF0aW5nID0gUHJvbWlzZS5yZXNvbHZlKHRvMihhbmltYXRlLCB0YXJnZXQuc3RvcC5iaW5kKHRhcmdldCkpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFthbmltYXRpbmcudGhlbihwcmV2ZW50QmFpbCksIGJhaWxQcm9taXNlXSk7XG4gICAgICByZXN1bHQgPSBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQuZ2V0KCksIHRydWUsIGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBCYWlsU2lnbmFsKSB7XG4gICAgICAgIHJlc3VsdCA9IGVyci5yZXN1bHQ7XG4gICAgICB9IGVsc2UgaWYgKGVyciBpbnN0YW5jZW9mIFNraXBBbmltYXRpb25TaWduYWwpIHtcbiAgICAgICAgcmVzdWx0ID0gZXJyLnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGNhbGxJZCA9PSBzdGF0ZS5hc3luY0lkKSB7XG4gICAgICAgIHN0YXRlLmFzeW5jSWQgPSBwYXJlbnRJZDtcbiAgICAgICAgc3RhdGUuYXN5bmNUbyA9IHBhcmVudElkID8gcHJldlRvIDogdm9pZCAwO1xuICAgICAgICBzdGF0ZS5wcm9taXNlID0gcGFyZW50SWQgPyBwcmV2UHJvbWlzZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzNC5mdW4ob25SZXN0KSkge1xuICAgICAgcmFmMi5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgIG9uUmVzdChyZXN1bHQsIHRhcmdldCwgdGFyZ2V0Lml0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pKCk7XG59XG5mdW5jdGlvbiBzdG9wQXN5bmMoc3RhdGUsIGNhbmNlbElkKSB7XG4gIGZsdXNoKHN0YXRlLnRpbWVvdXRzLCAodCkgPT4gdC5jYW5jZWwoKSk7XG4gIHN0YXRlLnBhdXNlUXVldWUuY2xlYXIoKTtcbiAgc3RhdGUucmVzdW1lUXVldWUuY2xlYXIoKTtcbiAgc3RhdGUuYXN5bmNJZCA9IHN0YXRlLmFzeW5jVG8gPSBzdGF0ZS5wcm9taXNlID0gdm9pZCAwO1xuICBpZiAoY2FuY2VsSWQpXG4gICAgc3RhdGUuY2FuY2VsSWQgPSBjYW5jZWxJZDtcbn1cbnZhciBCYWlsU2lnbmFsID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFxuICAgICAgXCJBbiBhc3luYyBhbmltYXRpb24gaGFzIGJlZW4gaW50ZXJydXB0ZWQuIFlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSBmb3Jnb3QgdG8gdXNlIGBhd2FpdGAgb3IgYC5jYXRjaCguLi4pYCBvbiBpdHMgcmV0dXJuZWQgcHJvbWlzZS5cIlxuICAgICk7XG4gIH1cbn07XG52YXIgU2tpcEFuaW1hdGlvblNpZ25hbCA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIlNraXBBbmltYXRpb25TaWduYWxcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9GcmFtZVZhbHVlLnRzXG5pbXBvcnQge1xuICBkZXByZWNhdGVJbnRlcnBvbGF0ZSxcbiAgZnJhbWVMb29wLFxuICBGbHVpZFZhbHVlIGFzIEZsdWlkVmFsdWUyLFxuICBHbG9iYWxzIGFzIEc0LFxuICBjYWxsRmx1aWRPYnNlcnZlcnNcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5pbXBvcnQgeyBnZXRBbmltYXRlZCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG52YXIgaXNGcmFtZVZhbHVlID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEZyYW1lVmFsdWU7XG52YXIgbmV4dElkID0gMTtcbnZhciBGcmFtZVZhbHVlID0gY2xhc3MgZXh0ZW5kcyBGbHVpZFZhbHVlMiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuICAgIHRoaXMuX3ByaW9yaXR5ID0gMDtcbiAgfVxuICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByaW9yaXR5O1xuICB9XG4gIHNldCBwcmlvcml0eShwcmlvcml0eSkge1xuICAgIGlmICh0aGlzLl9wcmlvcml0eSAhPSBwcmlvcml0eSkge1xuICAgICAgdGhpcy5fcHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgIHRoaXMuX29uUHJpb3JpdHlDaGFuZ2UocHJpb3JpdHkpO1xuICAgIH1cbiAgfVxuICAvKiogR2V0IHRoZSBjdXJyZW50IHZhbHVlICovXG4gIGdldCgpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQodGhpcyk7XG4gICAgcmV0dXJuIG5vZGUgJiYgbm9kZS5nZXRWYWx1ZSgpO1xuICB9XG4gIC8qKiBDcmVhdGUgYSBzcHJpbmcgdGhhdCBtYXBzIG91ciB2YWx1ZSB0byBhbm90aGVyIHZhbHVlICovXG4gIHRvKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gRzQudG8odGhpcywgYXJncyk7XG4gIH1cbiAgLyoqIEBkZXByZWNhdGVkIFVzZSB0aGUgYHRvYCBtZXRob2QgaW5zdGVhZC4gKi9cbiAgaW50ZXJwb2xhdGUoLi4uYXJncykge1xuICAgIGRlcHJlY2F0ZUludGVycG9sYXRlKCk7XG4gICAgcmV0dXJuIEc0LnRvKHRoaXMsIGFyZ3MpO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgfVxuICBvYnNlcnZlckFkZGVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDEpXG4gICAgICB0aGlzLl9hdHRhY2goKTtcbiAgfVxuICBvYnNlcnZlclJlbW92ZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMClcbiAgICAgIHRoaXMuX2RldGFjaCgpO1xuICB9XG4gIC8qKiBDYWxsZWQgd2hlbiB0aGUgZmlyc3QgY2hpbGQgaXMgYWRkZWQuICovXG4gIF9hdHRhY2goKSB7XG4gIH1cbiAgLyoqIENhbGxlZCB3aGVuIHRoZSBsYXN0IGNoaWxkIGlzIHJlbW92ZWQuICovXG4gIF9kZXRhY2goKSB7XG4gIH1cbiAgLyoqIFRlbGwgb3VyIGNoaWxkcmVuIGFib3V0IG91ciBuZXcgdmFsdWUgKi9cbiAgX29uQ2hhbmdlKHZhbHVlLCBpZGxlID0gZmFsc2UpIHtcbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywge1xuICAgICAgdHlwZTogXCJjaGFuZ2VcIixcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIHZhbHVlLFxuICAgICAgaWRsZVxuICAgIH0pO1xuICB9XG4gIC8qKiBUZWxsIG91ciBjaGlsZHJlbiBhYm91dCBvdXIgbmV3IHByaW9yaXR5ICovXG4gIF9vblByaW9yaXR5Q2hhbmdlKHByaW9yaXR5KSB7XG4gICAgaWYgKCF0aGlzLmlkbGUpIHtcbiAgICAgIGZyYW1lTG9vcC5zb3J0KHRoaXMpO1xuICAgIH1cbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywge1xuICAgICAgdHlwZTogXCJwcmlvcml0eVwiLFxuICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgcHJpb3JpdHlcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gc3JjL1NwcmluZ1BoYXNlLnRzXG52YXIgJFAgPSBTeW1ib2wuZm9yKFwiU3ByaW5nUGhhc2VcIik7XG52YXIgSEFTX0FOSU1BVEVEID0gMTtcbnZhciBJU19BTklNQVRJTkcgPSAyO1xudmFyIElTX1BBVVNFRCA9IDQ7XG52YXIgaGFzQW5pbWF0ZWQgPSAodGFyZ2V0KSA9PiAodGFyZ2V0WyRQXSAmIEhBU19BTklNQVRFRCkgPiAwO1xudmFyIGlzQW5pbWF0aW5nID0gKHRhcmdldCkgPT4gKHRhcmdldFskUF0gJiBJU19BTklNQVRJTkcpID4gMDtcbnZhciBpc1BhdXNlZCA9ICh0YXJnZXQpID0+ICh0YXJnZXRbJFBdICYgSVNfUEFVU0VEKSA+IDA7XG52YXIgc2V0QWN0aXZlQml0ID0gKHRhcmdldCwgYWN0aXZlKSA9PiBhY3RpdmUgPyB0YXJnZXRbJFBdIHw9IElTX0FOSU1BVElORyB8IEhBU19BTklNQVRFRCA6IHRhcmdldFskUF0gJj0gfklTX0FOSU1BVElORztcbnZhciBzZXRQYXVzZWRCaXQgPSAodGFyZ2V0LCBwYXVzZWQpID0+IHBhdXNlZCA/IHRhcmdldFskUF0gfD0gSVNfUEFVU0VEIDogdGFyZ2V0WyRQXSAmPSB+SVNfUEFVU0VEO1xuXG4vLyBzcmMvU3ByaW5nVmFsdWUudHNcbnZhciBTcHJpbmdWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgRnJhbWVWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKGFyZzEsIGFyZzIpIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKiBUaGUgYW5pbWF0aW9uIHN0YXRlICovXG4gICAgdGhpcy5hbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKCk7XG4gICAgLyoqIFNvbWUgcHJvcHMgaGF2ZSBjdXN0b21pemFibGUgZGVmYXVsdCB2YWx1ZXMgKi9cbiAgICB0aGlzLmRlZmF1bHRQcm9wcyA9IHt9O1xuICAgIC8qKiBUaGUgc3RhdGUgZm9yIGBydW5Bc3luY2AgY2FsbHMgKi9cbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICBkZWxheWVkOiBmYWxzZSxcbiAgICAgIHBhdXNlUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICByZXN1bWVRdWV1ZTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgICAgIHRpbWVvdXRzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gICAgfTtcbiAgICAvKiogVGhlIHByb21pc2UgcmVzb2x2ZXJzIG9mIHBlbmRpbmcgYHN0YXJ0YCBjYWxscyAqL1xuICAgIHRoaXMuX3BlbmRpbmdDYWxscyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgLyoqIFRoZSBjb3VudGVyIGZvciB0cmFja2luZyBgc2NoZWR1bGVQcm9wc2AgY2FsbHMgKi9cbiAgICB0aGlzLl9sYXN0Q2FsbElkID0gMDtcbiAgICAvKiogVGhlIGxhc3QgYHNjaGVkdWxlUHJvcHNgIGNhbGwgdGhhdCBjaGFuZ2VkIHRoZSBgdG9gIHByb3AgKi9cbiAgICB0aGlzLl9sYXN0VG9JZCA9IDA7XG4gICAgdGhpcy5fbWVtb2l6ZWREdXJhdGlvbiA9IDA7XG4gICAgaWYgKCFpczUudW5kKGFyZzEpIHx8ICFpczUudW5kKGFyZzIpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IGlzNS5vYmooYXJnMSkgPyB7IC4uLmFyZzEgfSA6IHsgLi4uYXJnMiwgZnJvbTogYXJnMSB9O1xuICAgICAgaWYgKGlzNS51bmQocHJvcHMuZGVmYXVsdCkpIHtcbiAgICAgICAgcHJvcHMuZGVmYXVsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXJ0KHByb3BzKTtcbiAgICB9XG4gIH1cbiAgLyoqIEVxdWFscyB0cnVlIHdoZW4gbm90IGFkdmFuY2luZyBvbiBlYWNoIGZyYW1lLiAqL1xuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIShpc0FuaW1hdGluZyh0aGlzKSB8fCB0aGlzLl9zdGF0ZS5hc3luY1RvKSB8fCBpc1BhdXNlZCh0aGlzKTtcbiAgfVxuICBnZXQgZ29hbCgpIHtcbiAgICByZXR1cm4gZ2V0Rmx1aWRWYWx1ZTIodGhpcy5hbmltYXRpb24udG8pO1xuICB9XG4gIGdldCB2ZWxvY2l0eSgpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZSA/IG5vZGUubGFzdFZlbG9jaXR5IHx8IDAgOiBub2RlLmdldFBheWxvYWQoKS5tYXAoKG5vZGUyKSA9PiBub2RlMi5sYXN0VmVsb2NpdHkgfHwgMCk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhpcyB2YWx1ZSBoYXMgYmVlbiBhbmltYXRlZCBhdCBsZWFzdCBvbmNlLlxuICAgKi9cbiAgZ2V0IGhhc0FuaW1hdGVkKCkge1xuICAgIHJldHVybiBoYXNBbmltYXRlZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGlzIHZhbHVlIGhhcyBhbiB1bmZpbmlzaGVkIGFuaW1hdGlvbixcbiAgICogd2hpY2ggaXMgZWl0aGVyIGFjdGl2ZSBvciBwYXVzZWQuXG4gICAqL1xuICBnZXQgaXNBbmltYXRpbmcoKSB7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIGFsbCBjdXJyZW50IGFuZCBmdXR1cmUgYW5pbWF0aW9ucyBhcmUgcGF1c2VkLlxuICAgKi9cbiAgZ2V0IGlzUGF1c2VkKCkge1xuICAgIHJldHVybiBpc1BhdXNlZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICpcbiAgICpcbiAgICovXG4gIGdldCBpc0RlbGF5ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmRlbGF5ZWQ7XG4gIH1cbiAgLyoqIEFkdmFuY2UgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGJ5IGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyAqL1xuICBhZHZhbmNlKGR0KSB7XG4gICAgbGV0IGlkbGUgPSB0cnVlO1xuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGxldCB7IHRvVmFsdWVzIH0gPSBhbmltO1xuICAgIGNvbnN0IHsgY29uZmlnOiBjb25maWcyIH0gPSBhbmltO1xuICAgIGNvbnN0IHBheWxvYWQgPSBnZXRQYXlsb2FkKGFuaW0udG8pO1xuICAgIGlmICghcGF5bG9hZCAmJiBoYXNGbHVpZFZhbHVlKGFuaW0udG8pKSB7XG4gICAgICB0b1ZhbHVlcyA9IHRvQXJyYXkyKGdldEZsdWlkVmFsdWUyKGFuaW0udG8pKTtcbiAgICB9XG4gICAgYW5pbS52YWx1ZXMuZm9yRWFjaCgobm9kZTIsIGkpID0+IHtcbiAgICAgIGlmIChub2RlMi5kb25lKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB0bzIgPSAoXG4gICAgICAgIC8vIEFuaW1hdGVkIHN0cmluZ3MgYWx3YXlzIGdvIGZyb20gMCB0byAxLlxuICAgICAgICBub2RlMi5jb25zdHJ1Y3RvciA9PSBBbmltYXRlZFN0cmluZyA/IDEgOiBwYXlsb2FkID8gcGF5bG9hZFtpXS5sYXN0UG9zaXRpb24gOiB0b1ZhbHVlc1tpXVxuICAgICAgKTtcbiAgICAgIGxldCBmaW5pc2hlZCA9IGFuaW0uaW1tZWRpYXRlO1xuICAgICAgbGV0IHBvc2l0aW9uID0gdG8yO1xuICAgICAgaWYgKCFmaW5pc2hlZCkge1xuICAgICAgICBwb3NpdGlvbiA9IG5vZGUyLmxhc3RQb3NpdGlvbjtcbiAgICAgICAgaWYgKGNvbmZpZzIudGVuc2lvbiA8PSAwKSB7XG4gICAgICAgICAgbm9kZTIuZG9uZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbGFwc2VkID0gbm9kZTIuZWxhcHNlZFRpbWUgKz0gZHQ7XG4gICAgICAgIGNvbnN0IGZyb20gPSBhbmltLmZyb21WYWx1ZXNbaV07XG4gICAgICAgIGNvbnN0IHYwID0gbm9kZTIudjAgIT0gbnVsbCA/IG5vZGUyLnYwIDogbm9kZTIudjAgPSBpczUuYXJyKGNvbmZpZzIudmVsb2NpdHkpID8gY29uZmlnMi52ZWxvY2l0eVtpXSA6IGNvbmZpZzIudmVsb2NpdHk7XG4gICAgICAgIGxldCB2ZWxvY2l0eTtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gY29uZmlnMi5wcmVjaXNpb24gfHwgKGZyb20gPT0gdG8yID8gNWUtMyA6IE1hdGgubWluKDEsIE1hdGguYWJzKHRvMiAtIGZyb20pICogMWUtMykpO1xuICAgICAgICBpZiAoIWlzNS51bmQoY29uZmlnMi5kdXJhdGlvbikpIHtcbiAgICAgICAgICBsZXQgcCA9IDE7XG4gICAgICAgICAgaWYgKGNvbmZpZzIuZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVtb2l6ZWREdXJhdGlvbiAhPT0gY29uZmlnMi5kdXJhdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLl9tZW1vaXplZER1cmF0aW9uID0gY29uZmlnMi5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgaWYgKG5vZGUyLmR1cmF0aW9uUHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZTIuZWxhcHNlZFRpbWUgPSBjb25maWcyLmR1cmF0aW9uICogbm9kZTIuZHVyYXRpb25Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICBlbGFwc2VkID0gbm9kZTIuZWxhcHNlZFRpbWUgKz0gZHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAgPSAoY29uZmlnMi5wcm9ncmVzcyB8fCAwKSArIGVsYXBzZWQgLyB0aGlzLl9tZW1vaXplZER1cmF0aW9uO1xuICAgICAgICAgICAgcCA9IHAgPiAxID8gMSA6IHAgPCAwID8gMCA6IHA7XG4gICAgICAgICAgICBub2RlMi5kdXJhdGlvblByb2dyZXNzID0gcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9zaXRpb24gPSBmcm9tICsgY29uZmlnMi5lYXNpbmcocCkgKiAodG8yIC0gZnJvbSk7XG4gICAgICAgICAgdmVsb2NpdHkgPSAocG9zaXRpb24gLSBub2RlMi5sYXN0UG9zaXRpb24pIC8gZHQ7XG4gICAgICAgICAgZmluaXNoZWQgPSBwID09IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnMi5kZWNheSkge1xuICAgICAgICAgIGNvbnN0IGRlY2F5ID0gY29uZmlnMi5kZWNheSA9PT0gdHJ1ZSA/IDAuOTk4IDogY29uZmlnMi5kZWNheTtcbiAgICAgICAgICBjb25zdCBlID0gTWF0aC5leHAoLSgxIC0gZGVjYXkpICogZWxhcHNlZCk7XG4gICAgICAgICAgcG9zaXRpb24gPSBmcm9tICsgdjAgLyAoMSAtIGRlY2F5KSAqICgxIC0gZSk7XG4gICAgICAgICAgZmluaXNoZWQgPSBNYXRoLmFicyhub2RlMi5sYXN0UG9zaXRpb24gLSBwb3NpdGlvbikgPD0gcHJlY2lzaW9uO1xuICAgICAgICAgIHZlbG9jaXR5ID0gdjAgKiBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZlbG9jaXR5ID0gbm9kZTIubGFzdFZlbG9jaXR5ID09IG51bGwgPyB2MCA6IG5vZGUyLmxhc3RWZWxvY2l0eTtcbiAgICAgICAgICBjb25zdCByZXN0VmVsb2NpdHkgPSBjb25maWcyLnJlc3RWZWxvY2l0eSB8fCBwcmVjaXNpb24gLyAxMDtcbiAgICAgICAgICBjb25zdCBib3VuY2VGYWN0b3IgPSBjb25maWcyLmNsYW1wID8gMCA6IGNvbmZpZzIuYm91bmNlO1xuICAgICAgICAgIGNvbnN0IGNhbkJvdW5jZSA9ICFpczUudW5kKGJvdW5jZUZhY3Rvcik7XG4gICAgICAgICAgY29uc3QgaXNHcm93aW5nID0gZnJvbSA9PSB0bzIgPyBub2RlMi52MCA+IDAgOiBmcm9tIDwgdG8yO1xuICAgICAgICAgIGxldCBpc01vdmluZztcbiAgICAgICAgICBsZXQgaXNCb3VuY2luZyA9IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IHN0ZXAgPSAxO1xuICAgICAgICAgIGNvbnN0IG51bVN0ZXBzID0gTWF0aC5jZWlsKGR0IC8gc3RlcCk7XG4gICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBudW1TdGVwczsgKytuKSB7XG4gICAgICAgICAgICBpc01vdmluZyA9IE1hdGguYWJzKHZlbG9jaXR5KSA+IHJlc3RWZWxvY2l0eTtcbiAgICAgICAgICAgIGlmICghaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgZmluaXNoZWQgPSBNYXRoLmFicyh0bzIgLSBwb3NpdGlvbikgPD0gcHJlY2lzaW9uO1xuICAgICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbkJvdW5jZSkge1xuICAgICAgICAgICAgICBpc0JvdW5jaW5nID0gcG9zaXRpb24gPT0gdG8yIHx8IHBvc2l0aW9uID4gdG8yID09IGlzR3Jvd2luZztcbiAgICAgICAgICAgICAgaWYgKGlzQm91bmNpbmcpIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IC12ZWxvY2l0eSAqIGJvdW5jZUZhY3RvcjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvMjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3ByaW5nRm9yY2UgPSAtY29uZmlnMi50ZW5zaW9uICogMWUtNiAqIChwb3NpdGlvbiAtIHRvMik7XG4gICAgICAgICAgICBjb25zdCBkYW1waW5nRm9yY2UgPSAtY29uZmlnMi5mcmljdGlvbiAqIDFlLTMgKiB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGFjY2VsZXJhdGlvbiA9IChzcHJpbmdGb3JjZSArIGRhbXBpbmdGb3JjZSkgLyBjb25maWcyLm1hc3M7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IHZlbG9jaXR5ICsgYWNjZWxlcmF0aW9uICogc3RlcDtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gKyB2ZWxvY2l0eSAqIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUyLmxhc3RWZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHBvc2l0aW9uKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgR290IE5hTiB3aGlsZSBhbmltYXRpbmc6YCwgdGhpcyk7XG4gICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZCAmJiAhcGF5bG9hZFtpXS5kb25lKSB7XG4gICAgICAgIGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgbm9kZTIuZG9uZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZGxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZTIuc2V0VmFsdWUocG9zaXRpb24sIGNvbmZpZzIucm91bmQpKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgY29uc3QgY3VyclZhbCA9IG5vZGUuZ2V0VmFsdWUoKTtcbiAgICBpZiAoaWRsZSkge1xuICAgICAgY29uc3QgZmluYWxWYWwgPSBnZXRGbHVpZFZhbHVlMihhbmltLnRvKTtcbiAgICAgIGlmICgoY3VyclZhbCAhPT0gZmluYWxWYWwgfHwgY2hhbmdlZCkgJiYgIWNvbmZpZzIuZGVjYXkpIHtcbiAgICAgICAgbm9kZS5zZXRWYWx1ZShmaW5hbFZhbCk7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKGZpbmFsVmFsKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZCAmJiBjb25maWcyLmRlY2F5KSB7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKGN1cnJWYWwpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RvcCgpO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5fb25DaGFuZ2UoY3VyclZhbCk7XG4gICAgfVxuICB9XG4gIC8qKiBTZXQgdGhlIGN1cnJlbnQgdmFsdWUsIHdoaWxlIHN0b3BwaW5nIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xuICBzZXQodmFsdWUpIHtcbiAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICAgIHRoaXMuX2ZvY3VzKHZhbHVlKTtcbiAgICAgIHRoaXMuX3NldCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEZyZWV6ZSB0aGUgYWN0aXZlIGFuaW1hdGlvbiBpbiB0aW1lLCBhcyB3ZWxsIGFzIGFueSB1cGRhdGVzIG1lcmdlZFxuICAgKiBiZWZvcmUgYHJlc3VtZWAgaXMgY2FsbGVkLlxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHsgcGF1c2U6IHRydWUgfSk7XG4gIH1cbiAgLyoqIFJlc3VtZSB0aGUgYW5pbWF0aW9uIGlmIHBhdXNlZC4gKi9cbiAgcmVzdW1lKCkge1xuICAgIHRoaXMuX3VwZGF0ZSh7IHBhdXNlOiBmYWxzZSB9KTtcbiAgfVxuICAvKiogU2tpcCB0byB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGFuaW1hdGlvbi4gKi9cbiAgZmluaXNoKCkge1xuICAgIGlmIChpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgY29uc3QgeyB0bzogdG8yLCBjb25maWc6IGNvbmZpZzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgIHRoaXMuX29uU3RhcnQoKTtcbiAgICAgICAgaWYgKCFjb25maWcyLmRlY2F5KSB7XG4gICAgICAgICAgdGhpcy5fc2V0KHRvMiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogUHVzaCBwcm9wcyBpbnRvIHRoZSBwZW5kaW5nIHF1ZXVlLiAqL1xuICB1cGRhdGUocHJvcHMpIHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWUgfHwgKHRoaXMucXVldWUgPSBbXSk7XG4gICAgcXVldWUucHVzaChwcm9wcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3RhcnQodG8yLCBhcmcyKSB7XG4gICAgbGV0IHF1ZXVlO1xuICAgIGlmICghaXM1LnVuZCh0bzIpKSB7XG4gICAgICBxdWV1ZSA9IFtpczUub2JqKHRvMikgPyB0bzIgOiB7IC4uLmFyZzIsIHRvOiB0bzIgfV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlID0gdGhpcy5xdWV1ZSB8fCBbXTtcbiAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgcXVldWUubWFwKChwcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB1cCA9IHRoaXMuX3VwZGF0ZShwcm9wcyk7XG4gICAgICAgIHJldHVybiB1cDtcbiAgICAgIH0pXG4gICAgKS50aGVuKChyZXN1bHRzKSA9PiBnZXRDb21iaW5lZFJlc3VsdCh0aGlzLCByZXN1bHRzKSk7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGN1cnJlbnQgYW5pbWF0aW9uLCBhbmQgY2FuY2VsIGFueSBkZWxheWVkIHVwZGF0ZXMuXG4gICAqXG4gICAqIFBhc3MgYHRydWVgIHRvIGNhbGwgYG9uUmVzdGAgd2l0aCBgY2FuY2VsbGVkOiB0cnVlYC5cbiAgICovXG4gIHN0b3AoY2FuY2VsKSB7XG4gICAgY29uc3QgeyB0bzogdG8yIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICB0aGlzLl9mb2N1cyh0aGlzLmdldCgpKTtcbiAgICBzdG9wQXN5bmModGhpcy5fc3RhdGUsIGNhbmNlbCAmJiB0aGlzLl9sYXN0Q2FsbElkKTtcbiAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHRoaXMuX3N0b3AodG8yLCBjYW5jZWwpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogUmVzdGFydCB0aGUgYW5pbWF0aW9uLiAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLl91cGRhdGUoeyByZXNldDogdHJ1ZSB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICB0aGlzLl9zdGFydCgpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcInByaW9yaXR5XCIpIHtcbiAgICAgIHRoaXMucHJpb3JpdHkgPSBldmVudC5wcmlvcml0eSArIDE7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYXJzZSB0aGUgYHRvYCBhbmQgYGZyb21gIHJhbmdlIGZyb20gdGhlIGdpdmVuIGBwcm9wc2Agb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGFsc28gZW5zdXJlcyB0aGUgaW5pdGlhbCB2YWx1ZSBpcyBhdmFpbGFibGUgdG8gYW5pbWF0ZWQgY29tcG9uZW50c1xuICAgKiBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZS5cbiAgICovXG4gIF9wcmVwYXJlTm9kZShwcm9wcykge1xuICAgIGNvbnN0IGtleSA9IHRoaXMua2V5IHx8IFwiXCI7XG4gICAgbGV0IHsgdG86IHRvMiwgZnJvbSB9ID0gcHJvcHM7XG4gICAgdG8yID0gaXM1Lm9iaih0bzIpID8gdG8yW2tleV0gOiB0bzI7XG4gICAgaWYgKHRvMiA9PSBudWxsIHx8IGlzQXN5bmNUbyh0bzIpKSB7XG4gICAgICB0bzIgPSB2b2lkIDA7XG4gICAgfVxuICAgIGZyb20gPSBpczUub2JqKGZyb20pID8gZnJvbVtrZXldIDogZnJvbTtcbiAgICBpZiAoZnJvbSA9PSBudWxsKSB7XG4gICAgICBmcm9tID0gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCByYW5nZSA9IHsgdG86IHRvMiwgZnJvbSB9O1xuICAgIGlmICghaGFzQW5pbWF0ZWQodGhpcykpIHtcbiAgICAgIGlmIChwcm9wcy5yZXZlcnNlKVxuICAgICAgICBbdG8yLCBmcm9tXSA9IFtmcm9tLCB0bzJdO1xuICAgICAgZnJvbSA9IGdldEZsdWlkVmFsdWUyKGZyb20pO1xuICAgICAgaWYgKCFpczUudW5kKGZyb20pKSB7XG4gICAgICAgIHRoaXMuX3NldChmcm9tKTtcbiAgICAgIH0gZWxzZSBpZiAoIWdldEFuaW1hdGVkMih0aGlzKSkge1xuICAgICAgICB0aGlzLl9zZXQodG8yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG4gIC8qKiBFdmVyeSB1cGRhdGUgaXMgcHJvY2Vzc2VkIGJ5IHRoaXMgbWV0aG9kIGJlZm9yZSBtZXJnaW5nLiAqL1xuICBfdXBkYXRlKHsgLi4ucHJvcHMgfSwgaXNMb29wKSB7XG4gICAgY29uc3QgeyBrZXksIGRlZmF1bHRQcm9wcyB9ID0gdGhpcztcbiAgICBpZiAocHJvcHMuZGVmYXVsdClcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIGRlZmF1bHRQcm9wcyxcbiAgICAgICAgZ2V0RGVmYXVsdFByb3BzKFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICh2YWx1ZSwgcHJvcCkgPT4gL15vbi8udGVzdChwcm9wKSA/IHJlc29sdmVQcm9wKHZhbHVlLCBrZXkpIDogdmFsdWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICBtZXJnZUFjdGl2ZUZuKHRoaXMsIHByb3BzLCBcIm9uUHJvcHNcIik7XG4gICAgc2VuZEV2ZW50KHRoaXMsIFwib25Qcm9wc1wiLCBwcm9wcywgdGhpcyk7XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9wcmVwYXJlTm9kZShwcm9wcyk7XG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiQ2Fubm90IGFuaW1hdGUgYSBgU3ByaW5nVmFsdWVgIG9iamVjdCB0aGF0IGlzIGZyb3plbi4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyB5b3VyIGNvbXBvbmVudCB0byBgYW5pbWF0ZWQoLi4uKWAgYmVmb3JlIGFuaW1hdGluZyBpdHMgcHJvcHM/XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgcmV0dXJuIHNjaGVkdWxlUHJvcHMoKyt0aGlzLl9sYXN0Q2FsbElkLCB7XG4gICAgICBrZXksXG4gICAgICBwcm9wcyxcbiAgICAgIGRlZmF1bHRQcm9wcyxcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBwYXVzZTogKCkgPT4ge1xuICAgICAgICAgIGlmICghaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgICAgIHNldFBhdXNlZEJpdCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIGZsdXNoQ2FsbHMoc3RhdGUucGF1c2VRdWV1ZSk7XG4gICAgICAgICAgICBzZW5kRXZlbnQoXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIFwib25QYXVzZVwiLFxuICAgICAgICAgICAgICBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIHRoaXMuYW5pbWF0aW9uLnRvKSksXG4gICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXN1bWU6ICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgICAgIHNldFBhdXNlZEJpdCh0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbHVzaENhbGxzKHN0YXRlLnJlc3VtZVF1ZXVlKTtcbiAgICAgICAgICAgIHNlbmRFdmVudChcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgXCJvblJlc3VtZVwiLFxuICAgICAgICAgICAgICBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIHRoaXMuYW5pbWF0aW9uLnRvKSksXG4gICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdGFydDogdGhpcy5fbWVyZ2UuYmluZCh0aGlzLCByYW5nZSlcbiAgICAgIH1cbiAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChwcm9wcy5sb29wICYmIHJlc3VsdC5maW5pc2hlZCAmJiAhKGlzTG9vcCAmJiByZXN1bHQubm9vcCkpIHtcbiAgICAgICAgY29uc3QgbmV4dFByb3BzID0gY3JlYXRlTG9vcFVwZGF0ZShwcm9wcyk7XG4gICAgICAgIGlmIChuZXh0UHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKG5leHRQcm9wcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cbiAgLyoqIE1lcmdlIHByb3BzIGludG8gdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXG4gIF9tZXJnZShyYW5nZSwgcHJvcHMsIHJlc29sdmUpIHtcbiAgICBpZiAocHJvcHMuY2FuY2VsKSB7XG4gICAgICB0aGlzLnN0b3AodHJ1ZSk7XG4gICAgICByZXR1cm4gcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQodGhpcykpO1xuICAgIH1cbiAgICBjb25zdCBoYXNUb1Byb3AgPSAhaXM1LnVuZChyYW5nZS50byk7XG4gICAgY29uc3QgaGFzRnJvbVByb3AgPSAhaXM1LnVuZChyYW5nZS5mcm9tKTtcbiAgICBpZiAoaGFzVG9Qcm9wIHx8IGhhc0Zyb21Qcm9wKSB7XG4gICAgICBpZiAocHJvcHMuY2FsbElkID4gdGhpcy5fbGFzdFRvSWQpIHtcbiAgICAgICAgdGhpcy5fbGFzdFRvSWQgPSBwcm9wcy5jYWxsSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQodGhpcykpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IGtleSwgZGVmYXVsdFByb3BzLCBhbmltYXRpb246IGFuaW0gfSA9IHRoaXM7XG4gICAgY29uc3QgeyB0bzogcHJldlRvLCBmcm9tOiBwcmV2RnJvbSB9ID0gYW5pbTtcbiAgICBsZXQgeyB0bzogdG8yID0gcHJldlRvLCBmcm9tID0gcHJldkZyb20gfSA9IHJhbmdlO1xuICAgIGlmIChoYXNGcm9tUHJvcCAmJiAhaGFzVG9Qcm9wICYmICghcHJvcHMuZGVmYXVsdCB8fCBpczUudW5kKHRvMikpKSB7XG4gICAgICB0bzIgPSBmcm9tO1xuICAgIH1cbiAgICBpZiAocHJvcHMucmV2ZXJzZSlcbiAgICAgIFt0bzIsIGZyb21dID0gW2Zyb20sIHRvMl07XG4gICAgY29uc3QgaGFzRnJvbUNoYW5nZWQgPSAhaXNFcXVhbChmcm9tLCBwcmV2RnJvbSk7XG4gICAgaWYgKGhhc0Zyb21DaGFuZ2VkKSB7XG4gICAgICBhbmltLmZyb20gPSBmcm9tO1xuICAgIH1cbiAgICBmcm9tID0gZ2V0Rmx1aWRWYWx1ZTIoZnJvbSk7XG4gICAgY29uc3QgaGFzVG9DaGFuZ2VkID0gIWlzRXF1YWwodG8yLCBwcmV2VG8pO1xuICAgIGlmIChoYXNUb0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX2ZvY3VzKHRvMik7XG4gICAgfVxuICAgIGNvbnN0IGhhc0FzeW5jVG8gPSBpc0FzeW5jVG8ocHJvcHMudG8pO1xuICAgIGNvbnN0IHsgY29uZmlnOiBjb25maWcyIH0gPSBhbmltO1xuICAgIGNvbnN0IHsgZGVjYXksIHZlbG9jaXR5IH0gPSBjb25maWcyO1xuICAgIGlmIChoYXNUb1Byb3AgfHwgaGFzRnJvbVByb3ApIHtcbiAgICAgIGNvbmZpZzIudmVsb2NpdHkgPSAwO1xuICAgIH1cbiAgICBpZiAocHJvcHMuY29uZmlnICYmICFoYXNBc3luY1RvKSB7XG4gICAgICBtZXJnZUNvbmZpZyhcbiAgICAgICAgY29uZmlnMixcbiAgICAgICAgY2FsbFByb3AocHJvcHMuY29uZmlnLCBrZXkpLFxuICAgICAgICAvLyBBdm9pZCBjYWxsaW5nIHRoZSBzYW1lIFwiY29uZmlnXCIgcHJvcCB0d2ljZS5cbiAgICAgICAgcHJvcHMuY29uZmlnICE9PSBkZWZhdWx0UHJvcHMuY29uZmlnID8gY2FsbFByb3AoZGVmYXVsdFByb3BzLmNvbmZpZywga2V5KSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IG5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgaWYgKCFub2RlIHx8IGlzNS51bmQodG8yKSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgdHJ1ZSkpO1xuICAgIH1cbiAgICBjb25zdCByZXNldCA9IChcbiAgICAgIC8vIFdoZW4gYHJlc2V0YCBpcyB1bmRlZmluZWQsIHRoZSBgZnJvbWAgcHJvcCBpbXBsaWVzIGByZXNldDogdHJ1ZWAsXG4gICAgICAvLyBleGNlcHQgZm9yIGRlY2xhcmF0aXZlIHVwZGF0ZXMuIFdoZW4gYHJlc2V0YCBpcyBkZWZpbmVkLCB0aGVyZVxuICAgICAgLy8gbXVzdCBleGlzdCBhIHZhbHVlIHRvIGFuaW1hdGUgZnJvbS5cbiAgICAgIGlzNS51bmQocHJvcHMucmVzZXQpID8gaGFzRnJvbVByb3AgJiYgIXByb3BzLmRlZmF1bHQgOiAhaXM1LnVuZChmcm9tKSAmJiBtYXRjaFByb3AocHJvcHMucmVzZXQsIGtleSlcbiAgICApO1xuICAgIGNvbnN0IHZhbHVlID0gcmVzZXQgPyBmcm9tIDogdGhpcy5nZXQoKTtcbiAgICBjb25zdCBnb2FsID0gY29tcHV0ZUdvYWwodG8yKTtcbiAgICBjb25zdCBpc0FuaW1hdGFibGUgPSBpczUubnVtKGdvYWwpIHx8IGlzNS5hcnIoZ29hbCkgfHwgaXNBbmltYXRlZFN0cmluZzIoZ29hbCk7XG4gICAgY29uc3QgaW1tZWRpYXRlID0gIWhhc0FzeW5jVG8gJiYgKCFpc0FuaW1hdGFibGUgfHwgbWF0Y2hQcm9wKGRlZmF1bHRQcm9wcy5pbW1lZGlhdGUgfHwgcHJvcHMuaW1tZWRpYXRlLCBrZXkpKTtcbiAgICBpZiAoaGFzVG9DaGFuZ2VkKSB7XG4gICAgICBjb25zdCBub2RlVHlwZSA9IGdldEFuaW1hdGVkVHlwZSh0bzIpO1xuICAgICAgaWYgKG5vZGVUeXBlICE9PSBub2RlLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICBub2RlID0gdGhpcy5fc2V0KGdvYWwpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIGBDYW5ub3QgYW5pbWF0ZSBiZXR3ZWVuICR7bm9kZS5jb25zdHJ1Y3Rvci5uYW1lfSBhbmQgJHtub2RlVHlwZS5uYW1lfSwgYXMgdGhlIFwidG9cIiBwcm9wIHN1Z2dlc3RzYFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGdvYWxUeXBlID0gbm9kZS5jb25zdHJ1Y3RvcjtcbiAgICBsZXQgc3RhcnRlZCA9IGhhc0ZsdWlkVmFsdWUodG8yKTtcbiAgICBsZXQgZmluaXNoZWQgPSBmYWxzZTtcbiAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgIGNvbnN0IGhhc1ZhbHVlQ2hhbmdlZCA9IHJlc2V0IHx8ICFoYXNBbmltYXRlZCh0aGlzKSAmJiBoYXNGcm9tQ2hhbmdlZDtcbiAgICAgIGlmIChoYXNUb0NoYW5nZWQgfHwgaGFzVmFsdWVDaGFuZ2VkKSB7XG4gICAgICAgIGZpbmlzaGVkID0gaXNFcXVhbChjb21wdXRlR29hbCh2YWx1ZSksIGdvYWwpO1xuICAgICAgICBzdGFydGVkID0gIWZpbmlzaGVkO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0VxdWFsKGFuaW0uaW1tZWRpYXRlLCBpbW1lZGlhdGUpICYmICFpbW1lZGlhdGUgfHwgIWlzRXF1YWwoY29uZmlnMi5kZWNheSwgZGVjYXkpIHx8ICFpc0VxdWFsKGNvbmZpZzIudmVsb2NpdHksIHZlbG9jaXR5KSkge1xuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpbmlzaGVkICYmIGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBpZiAoYW5pbS5jaGFuZ2VkICYmICFyZXNldCkge1xuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcChwcmV2VG8pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWhhc0FzeW5jVG8pIHtcbiAgICAgIGlmIChzdGFydGVkIHx8IGhhc0ZsdWlkVmFsdWUocHJldlRvKSkge1xuICAgICAgICBhbmltLnZhbHVlcyA9IG5vZGUuZ2V0UGF5bG9hZCgpO1xuICAgICAgICBhbmltLnRvVmFsdWVzID0gaGFzRmx1aWRWYWx1ZSh0bzIpID8gbnVsbCA6IGdvYWxUeXBlID09IEFuaW1hdGVkU3RyaW5nID8gWzFdIDogdG9BcnJheTIoZ29hbCk7XG4gICAgICB9XG4gICAgICBpZiAoYW5pbS5pbW1lZGlhdGUgIT0gaW1tZWRpYXRlKSB7XG4gICAgICAgIGFuaW0uaW1tZWRpYXRlID0gaW1tZWRpYXRlO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSAmJiAhcmVzZXQpIHtcbiAgICAgICAgICB0aGlzLl9zZXQocHJldlRvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgY29uc3QgeyBvblJlc3QgfSA9IGFuaW07XG4gICAgICAgIGVhY2gyKEFDVElWRV9FVkVOVFMsICh0eXBlKSA9PiBtZXJnZUFjdGl2ZUZuKHRoaXMsIHByb3BzLCB0eXBlKSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgcHJldlRvKSk7XG4gICAgICAgIGZsdXNoQ2FsbHModGhpcy5fcGVuZGluZ0NhbGxzLCByZXN1bHQpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ2FsbHMuYWRkKHJlc29sdmUpO1xuICAgICAgICBpZiAoYW5pbS5jaGFuZ2VkKVxuICAgICAgICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgICAgYW5pbS5jaGFuZ2VkID0gIXJlc2V0O1xuICAgICAgICAgICAgb25SZXN0Py4ocmVzdWx0LCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgICAgICBjYWxsUHJvcChkZWZhdWx0UHJvcHMub25SZXN0LCByZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbS5vblN0YXJ0Py4ocmVzdWx0LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICB0aGlzLl9zZXQodmFsdWUpO1xuICAgIH1cbiAgICBpZiAoaGFzQXN5bmNUbykge1xuICAgICAgcmVzb2x2ZShydW5Bc3luYyhwcm9wcy50bywgcHJvcHMsIHRoaXMuX3N0YXRlLCB0aGlzKSk7XG4gICAgfSBlbHNlIGlmIChzdGFydGVkKSB7XG4gICAgICB0aGlzLl9zdGFydCgpO1xuICAgIH0gZWxzZSBpZiAoaXNBbmltYXRpbmcodGhpcykgJiYgIWhhc1RvQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fcGVuZGluZ0NhbGxzLmFkZChyZXNvbHZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShnZXROb29wUmVzdWx0KHZhbHVlKSk7XG4gICAgfVxuICB9XG4gIC8qKiBVcGRhdGUgdGhlIGBhbmltYXRpb24udG9gIHZhbHVlLCB3aGljaCBtaWdodCBiZSBhIGBGbHVpZFZhbHVlYCAqL1xuICBfZm9jdXModmFsdWUpIHtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKHZhbHVlICE9PSBhbmltLnRvKSB7XG4gICAgICBpZiAoZ2V0Rmx1aWRPYnNlcnZlcnModGhpcykpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoKCk7XG4gICAgICB9XG4gICAgICBhbmltLnRvID0gdmFsdWU7XG4gICAgICBpZiAoZ2V0Rmx1aWRPYnNlcnZlcnModGhpcykpIHtcbiAgICAgICAgdGhpcy5fYXR0YWNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9hdHRhY2goKSB7XG4gICAgbGV0IHByaW9yaXR5ID0gMDtcbiAgICBjb25zdCB7IHRvOiB0bzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmIChoYXNGbHVpZFZhbHVlKHRvMikpIHtcbiAgICAgIGFkZEZsdWlkT2JzZXJ2ZXIodG8yLCB0aGlzKTtcbiAgICAgIGlmIChpc0ZyYW1lVmFsdWUodG8yKSkge1xuICAgICAgICBwcmlvcml0eSA9IHRvMi5wcmlvcml0eSArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgfVxuICBfZGV0YWNoKCkge1xuICAgIGNvbnN0IHsgdG86IHRvMiB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKGhhc0ZsdWlkVmFsdWUodG8yKSkge1xuICAgICAgcmVtb3ZlRmx1aWRPYnNlcnZlcih0bzIsIHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjdXJyZW50IHZhbHVlIGZyb20gb3V0c2lkZSB0aGUgZnJhbWVsb29wLFxuICAgKiBhbmQgcmV0dXJuIHRoZSBgQW5pbWF0ZWRgIG5vZGUuXG4gICAqL1xuICBfc2V0KGFyZywgaWRsZSA9IHRydWUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldEZsdWlkVmFsdWUyKGFyZyk7XG4gICAgaWYgKCFpczUudW5kKHZhbHVlKSkge1xuICAgICAgY29uc3Qgb2xkTm9kZSA9IGdldEFuaW1hdGVkMih0aGlzKTtcbiAgICAgIGlmICghb2xkTm9kZSB8fCAhaXNFcXVhbCh2YWx1ZSwgb2xkTm9kZS5nZXRWYWx1ZSgpKSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IGdldEFuaW1hdGVkVHlwZSh2YWx1ZSk7XG4gICAgICAgIGlmICghb2xkTm9kZSB8fCBvbGROb2RlLmNvbnN0cnVjdG9yICE9IG5vZGVUeXBlKSB7XG4gICAgICAgICAgc2V0QW5pbWF0ZWQodGhpcywgbm9kZVR5cGUuY3JlYXRlKHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkTm9kZS5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZE5vZGUpIHtcbiAgICAgICAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlLCBpZGxlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICB9XG4gIF9vblN0YXJ0KCkge1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBpZiAoIWFuaW0uY2hhbmdlZCkge1xuICAgICAgYW5pbS5jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHNlbmRFdmVudChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJvblN0YXJ0XCIsXG4gICAgICAgIGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgYW5pbS50bykpLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBfb25DaGFuZ2UodmFsdWUsIGlkbGUpIHtcbiAgICBpZiAoIWlkbGUpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcbiAgICAgIGNhbGxQcm9wKHRoaXMuYW5pbWF0aW9uLm9uQ2hhbmdlLCB2YWx1ZSwgdGhpcyk7XG4gICAgfVxuICAgIGNhbGxQcm9wKHRoaXMuZGVmYXVsdFByb3BzLm9uQ2hhbmdlLCB2YWx1ZSwgdGhpcyk7XG4gICAgc3VwZXIuX29uQ2hhbmdlKHZhbHVlLCBpZGxlKTtcbiAgfVxuICAvLyBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGFuaW1hdGlvbiBzdGF0ZSAoZXZlbiBpZiBhbHJlYWR5IGFuaW1hdGluZykgdG9cbiAgLy8gZW5zdXJlIHRoZSBsYXRlc3QgZnJvbS90byByYW5nZSBpcyB1c2VkLCBhbmQgaXQgYWxzbyBlbnN1cmVzIHRoaXMgc3ByaW5nXG4gIC8vIGlzIGFkZGVkIHRvIHRoZSBmcmFtZWxvb3AuXG4gIF9zdGFydCgpIHtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgZ2V0QW5pbWF0ZWQyKHRoaXMpLnJlc2V0KGdldEZsdWlkVmFsdWUyKGFuaW0udG8pKTtcbiAgICBpZiAoIWFuaW0uaW1tZWRpYXRlKSB7XG4gICAgICBhbmltLmZyb21WYWx1ZXMgPSBhbmltLnZhbHVlcy5tYXAoKG5vZGUpID0+IG5vZGUubGFzdFBvc2l0aW9uKTtcbiAgICB9XG4gICAgaWYgKCFpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgc2V0QWN0aXZlQml0KHRoaXMsIHRydWUpO1xuICAgICAgaWYgKCFpc1BhdXNlZCh0aGlzKSkge1xuICAgICAgICB0aGlzLl9yZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc3VtZSgpIHtcbiAgICBpZiAoRzUuc2tpcEFuaW1hdGlvbikge1xuICAgICAgdGhpcy5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWVMb29wMi5zdGFydCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4aXQgdGhlIGZyYW1lbG9vcCBhbmQgbm90aWZ5IGBvblJlc3RgIGxpc3RlbmVycy5cbiAgICpcbiAgICogQWx3YXlzIHdyYXAgYF9zdG9wYCBjYWxscyB3aXRoIGBiYXRjaGVkVXBkYXRlc2AuXG4gICAqL1xuICBfc3RvcChnb2FsLCBjYW5jZWwpIHtcbiAgICBpZiAoaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIHNldEFjdGl2ZUJpdCh0aGlzLCBmYWxzZSk7XG4gICAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgICBlYWNoMihhbmltLnZhbHVlcywgKG5vZGUpID0+IHtcbiAgICAgICAgbm9kZS5kb25lID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFuaW0udG9WYWx1ZXMpIHtcbiAgICAgICAgYW5pbS5vbkNoYW5nZSA9IGFuaW0ub25QYXVzZSA9IGFuaW0ub25SZXN1bWUgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBjYWxsRmx1aWRPYnNlcnZlcnMyKHRoaXMsIHtcbiAgICAgICAgdHlwZTogXCJpZGxlXCIsXG4gICAgICAgIHBhcmVudDogdGhpc1xuICAgICAgfSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYW5jZWwgPyBnZXRDYW5jZWxsZWRSZXN1bHQodGhpcy5nZXQoKSkgOiBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLmdldCgpLCBjaGVja0ZpbmlzaGVkKHRoaXMsIGdvYWwgPz8gYW5pbS50bykpO1xuICAgICAgZmx1c2hDYWxscyh0aGlzLl9wZW5kaW5nQ2FsbHMsIHJlc3VsdCk7XG4gICAgICBpZiAoYW5pbS5jaGFuZ2VkKSB7XG4gICAgICAgIGFuaW0uY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzZW5kRXZlbnQodGhpcywgXCJvblJlc3RcIiwgcmVzdWx0LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBjaGVja0ZpbmlzaGVkKHRhcmdldCwgdG8yKSB7XG4gIGNvbnN0IGdvYWwgPSBjb21wdXRlR29hbCh0bzIpO1xuICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVHb2FsKHRhcmdldC5nZXQoKSk7XG4gIHJldHVybiBpc0VxdWFsKHZhbHVlLCBnb2FsKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMsIGxvb3AgPSBwcm9wcy5sb29wLCB0bzIgPSBwcm9wcy50bykge1xuICBjb25zdCBsb29wUmV0ID0gY2FsbFByb3AobG9vcCk7XG4gIGlmIChsb29wUmV0KSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVzID0gbG9vcFJldCAhPT0gdHJ1ZSAmJiBpbmZlclRvKGxvb3BSZXQpO1xuICAgIGNvbnN0IHJldmVyc2UgPSAob3ZlcnJpZGVzIHx8IHByb3BzKS5yZXZlcnNlO1xuICAgIGNvbnN0IHJlc2V0ID0gIW92ZXJyaWRlcyB8fCBvdmVycmlkZXMucmVzZXQ7XG4gICAgcmV0dXJuIGNyZWF0ZVVwZGF0ZSh7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGxvb3AsXG4gICAgICAvLyBBdm9pZCB1cGRhdGluZyBkZWZhdWx0IHByb3BzIHdoZW4gbG9vcGluZy5cbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgLy8gTmV2ZXIgbG9vcCB0aGUgYHBhdXNlYCBwcm9wLlxuICAgICAgcGF1c2U6IHZvaWQgMCxcbiAgICAgIC8vIEZvciB0aGUgXCJyZXZlcnNlXCIgcHJvcCB0byBsb29wIGFzIGV4cGVjdGVkLCB0aGUgXCJ0b1wiIHByb3BcbiAgICAgIC8vIG11c3QgYmUgdW5kZWZpbmVkLiBUaGUgXCJyZXZlcnNlXCIgcHJvcCBpcyBpZ25vcmVkIHdoZW4gdGhlXG4gICAgICAvLyBcInRvXCIgcHJvcCBpcyBhbiBhcnJheSBvciBmdW5jdGlvbi5cbiAgICAgIHRvOiAhcmV2ZXJzZSB8fCBpc0FzeW5jVG8odG8yKSA/IHRvMiA6IHZvaWQgMCxcbiAgICAgIC8vIElnbm9yZSB0aGUgXCJmcm9tXCIgcHJvcCBleGNlcHQgb24gcmVzZXQuXG4gICAgICBmcm9tOiByZXNldCA/IHByb3BzLmZyb20gOiB2b2lkIDAsXG4gICAgICByZXNldCxcbiAgICAgIC8vIFRoZSBcImxvb3BcIiBwcm9wIGNhbiByZXR1cm4gYSBcInVzZVNwcmluZ1wiIHByb3BzIG9iamVjdCB0b1xuICAgICAgLy8gb3ZlcnJpZGUgYW55IG9mIHRoZSBvcmlnaW5hbCBwcm9wcy5cbiAgICAgIC4uLm92ZXJyaWRlc1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVVcGRhdGUocHJvcHMpIHtcbiAgY29uc3QgeyB0bzogdG8yLCBmcm9tIH0gPSBwcm9wcyA9IGluZmVyVG8ocHJvcHMpO1xuICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgaWYgKGlzNS5vYmoodG8yKSlcbiAgICBmaW5kRGVmaW5lZCh0bzIsIGtleXMpO1xuICBpZiAoaXM1Lm9iaihmcm9tKSlcbiAgICBmaW5kRGVmaW5lZChmcm9tLCBrZXlzKTtcbiAgcHJvcHMua2V5cyA9IGtleXMuc2l6ZSA/IEFycmF5LmZyb20oa2V5cykgOiBudWxsO1xuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBkZWNsYXJlVXBkYXRlKHByb3BzKSB7XG4gIGNvbnN0IHVwZGF0ZTIgPSBjcmVhdGVVcGRhdGUocHJvcHMpO1xuICBpZiAoaXM1LnVuZCh1cGRhdGUyLmRlZmF1bHQpKSB7XG4gICAgdXBkYXRlMi5kZWZhdWx0ID0gZ2V0RGVmYXVsdFByb3BzKHVwZGF0ZTIpO1xuICB9XG4gIHJldHVybiB1cGRhdGUyO1xufVxuZnVuY3Rpb24gZmluZERlZmluZWQodmFsdWVzLCBrZXlzKSB7XG4gIGVhY2hQcm9wMyh2YWx1ZXMsICh2YWx1ZSwga2V5KSA9PiB2YWx1ZSAhPSBudWxsICYmIGtleXMuYWRkKGtleSkpO1xufVxudmFyIEFDVElWRV9FVkVOVFMgPSBbXG4gIFwib25TdGFydFwiLFxuICBcIm9uUmVzdFwiLFxuICBcIm9uQ2hhbmdlXCIsXG4gIFwib25QYXVzZVwiLFxuICBcIm9uUmVzdW1lXCJcbl07XG5mdW5jdGlvbiBtZXJnZUFjdGl2ZUZuKHRhcmdldCwgcHJvcHMsIHR5cGUpIHtcbiAgdGFyZ2V0LmFuaW1hdGlvblt0eXBlXSA9IHByb3BzW3R5cGVdICE9PSBnZXREZWZhdWx0UHJvcChwcm9wcywgdHlwZSkgPyByZXNvbHZlUHJvcChwcm9wc1t0eXBlXSwgdGFyZ2V0LmtleSkgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBzZW5kRXZlbnQodGFyZ2V0LCB0eXBlLCAuLi5hcmdzKSB7XG4gIHRhcmdldC5hbmltYXRpb25bdHlwZV0/LiguLi5hcmdzKTtcbiAgdGFyZ2V0LmRlZmF1bHRQcm9wc1t0eXBlXT8uKC4uLmFyZ3MpO1xufVxuXG4vLyBzcmMvQ29udHJvbGxlci50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM2LFxuICByYWYgYXMgcmFmNCxcbiAgZWFjaCBhcyBlYWNoMyxcbiAgbm9vcCxcbiAgZmx1c2ggYXMgZmx1c2gyLFxuICB0b0FycmF5IGFzIHRvQXJyYXkzLFxuICBlYWNoUHJvcCBhcyBlYWNoUHJvcDQsXG4gIGZsdXNoQ2FsbHMgYXMgZmx1c2hDYWxsczIsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIgYXMgYWRkRmx1aWRPYnNlcnZlcjJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgQkFUQ0hFRF9FVkVOVFMgPSBbXCJvblN0YXJ0XCIsIFwib25DaGFuZ2VcIiwgXCJvblJlc3RcIl07XG52YXIgbmV4dElkMiA9IDE7XG52YXIgQ29udHJvbGxlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocHJvcHMsIGZsdXNoMykge1xuICAgIHRoaXMuaWQgPSBuZXh0SWQyKys7XG4gICAgLyoqIFRoZSBhbmltYXRlZCB2YWx1ZXMgKi9cbiAgICB0aGlzLnNwcmluZ3MgPSB7fTtcbiAgICAvKiogVGhlIHF1ZXVlIG9mIHByb3BzIHBhc3NlZCB0byB0aGUgYHVwZGF0ZWAgbWV0aG9kLiAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAvKiogVGhlIGNvdW50ZXIgZm9yIHRyYWNraW5nIGBzY2hlZHVsZVByb3BzYCBjYWxscyAqL1xuICAgIHRoaXMuX2xhc3RBc3luY0lkID0gMDtcbiAgICAvKiogVGhlIHZhbHVlcyBjdXJyZW50bHkgYmVpbmcgYW5pbWF0ZWQgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIC8qKiBUaGUgdmFsdWVzIHRoYXQgY2hhbmdlZCByZWNlbnRseSAqL1xuICAgIHRoaXMuX2NoYW5nZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIC8qKiBFcXVhbHMgZmFsc2Ugd2hlbiBgb25TdGFydGAgbGlzdGVuZXJzIGNhbiBiZSBjYWxsZWQgKi9cbiAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgLyoqIFN0YXRlIHVzZWQgYnkgdGhlIGBydW5Bc3luY2AgZnVuY3Rpb24gKi9cbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICBwYXVzZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgcmVzdW1lUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICB0aW1lb3V0czogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICAgIH07XG4gICAgLyoqIFRoZSBldmVudCBxdWV1ZXMgdGhhdCBhcmUgZmx1c2hlZCBvbmNlIHBlciBmcmFtZSBtYXhpbXVtICovXG4gICAgdGhpcy5fZXZlbnRzID0ge1xuICAgICAgb25TdGFydDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgIG9uQ2hhbmdlOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgb25SZXN0OiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gICAgfTtcbiAgICB0aGlzLl9vbkZyYW1lID0gdGhpcy5fb25GcmFtZS5iaW5kKHRoaXMpO1xuICAgIGlmIChmbHVzaDMpIHtcbiAgICAgIHRoaXMuX2ZsdXNoID0gZmx1c2gzO1xuICAgIH1cbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIHRoaXMuc3RhcnQoeyBkZWZhdWx0OiB0cnVlLCAuLi5wcm9wcyB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVxdWFscyBgdHJ1ZWAgd2hlbiBubyBzcHJpbmcgdmFsdWVzIGFyZSBpbiB0aGUgZnJhbWVsb29wLCBhbmRcbiAgICogbm8gYXN5bmMgYW5pbWF0aW9uIGlzIGN1cnJlbnRseSBhY3RpdmUuXG4gICAqL1xuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuX3N0YXRlLmFzeW5jVG8gJiYgT2JqZWN0LnZhbHVlcyh0aGlzLnNwcmluZ3MpLmV2ZXJ5KChzcHJpbmcpID0+IHtcbiAgICAgIHJldHVybiBzcHJpbmcuaWRsZSAmJiAhc3ByaW5nLmlzRGVsYXllZCAmJiAhc3ByaW5nLmlzUGF1c2VkO1xuICAgIH0pO1xuICB9XG4gIGdldCBpdGVtKCkge1xuICAgIHJldHVybiB0aGlzLl9pdGVtO1xuICB9XG4gIHNldCBpdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9pdGVtID0gaXRlbTtcbiAgfVxuICAvKiogR2V0IHRoZSBjdXJyZW50IHZhbHVlcyBvZiBvdXIgc3ByaW5ncyAqL1xuICBnZXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgdGhpcy5lYWNoKChzcHJpbmcsIGtleSkgPT4gdmFsdWVzW2tleV0gPSBzcHJpbmcuZ2V0KCkpO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbiAgLyoqIFNldCB0aGUgY3VycmVudCB2YWx1ZXMgd2l0aG91dCBhbmltYXRpbmcuICovXG4gIHNldCh2YWx1ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICBpZiAoIWlzNi51bmQodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuc3ByaW5nc1trZXldLnNldCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKiBQdXNoIGFuIHVwZGF0ZSBvbnRvIHRoZSBxdWV1ZSBvZiBlYWNoIHZhbHVlLiAqL1xuICB1cGRhdGUocHJvcHMpIHtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChjcmVhdGVVcGRhdGUocHJvcHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBxdWV1ZWQgYW5pbWF0aW9ucyBmb3IgZXZlcnkgc3ByaW5nLCBhbmQgcmVzb2x2ZSB0aGUgcmV0dXJuZWRcbiAgICogcHJvbWlzZSBvbmNlIGFsbCBxdWV1ZWQgYW5pbWF0aW9ucyBoYXZlIGZpbmlzaGVkIG9yIGJlZW4gY2FuY2VsbGVkLlxuICAgKlxuICAgKiBXaGVuIHlvdSBwYXNzIGEgcXVldWUgKGluc3RlYWQgb2Ygbm90aGluZyksIHRoYXQgcXVldWUgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAqIHRoZSBxdWV1ZWQgYW5pbWF0aW9ucyBhZGRlZCB3aXRoIHRoZSBgdXBkYXRlYCBtZXRob2QsIHdoaWNoIGFyZSBsZWZ0IGFsb25lLlxuICAgKi9cbiAgc3RhcnQocHJvcHMpIHtcbiAgICBsZXQgeyBxdWV1ZSB9ID0gdGhpcztcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIHF1ZXVlID0gdG9BcnJheTMocHJvcHMpLm1hcChjcmVhdGVVcGRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgfVxuICAgIGlmICh0aGlzLl9mbHVzaCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZsdXNoKHRoaXMsIHF1ZXVlKTtcbiAgICB9XG4gICAgcHJlcGFyZUtleXModGhpcywgcXVldWUpO1xuICAgIHJldHVybiBmbHVzaFVwZGF0ZVF1ZXVlKHRoaXMsIHF1ZXVlKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0b3AoYXJnLCBrZXlzKSB7XG4gICAgaWYgKGFyZyAhPT0gISFhcmcpIHtcbiAgICAgIGtleXMgPSBhcmc7XG4gICAgfVxuICAgIGlmIChrZXlzKSB7XG4gICAgICBjb25zdCBzcHJpbmdzID0gdGhpcy5zcHJpbmdzO1xuICAgICAgZWFjaDModG9BcnJheTMoa2V5cyksIChrZXkpID0+IHNwcmluZ3Nba2V5XS5zdG9wKCEhYXJnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BBc3luYyh0aGlzLl9zdGF0ZSwgdGhpcy5fbGFzdEFzeW5jSWQpO1xuICAgICAgdGhpcy5lYWNoKChzcHJpbmcpID0+IHNwcmluZy5zdG9wKCEhYXJnKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBGcmVlemUgdGhlIGFjdGl2ZSBhbmltYXRpb24gaW4gdGltZSAqL1xuICBwYXVzZShrZXlzKSB7XG4gICAgaWYgKGlzNi51bmQoa2V5cykpIHtcbiAgICAgIHRoaXMuc3RhcnQoeyBwYXVzZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICAgIGVhY2gzKHRvQXJyYXkzKGtleXMpLCAoa2V5KSA9PiBzcHJpbmdzW2tleV0ucGF1c2UoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBSZXN1bWUgdGhlIGFuaW1hdGlvbiBpZiBwYXVzZWQuICovXG4gIHJlc3VtZShrZXlzKSB7XG4gICAgaWYgKGlzNi51bmQoa2V5cykpIHtcbiAgICAgIHRoaXMuc3RhcnQoeyBwYXVzZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSB0aGlzLnNwcmluZ3M7XG4gICAgICBlYWNoMyh0b0FycmF5MyhrZXlzKSwgKGtleSkgPT4gc3ByaW5nc1trZXldLnJlc3VtZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIENhbGwgYSBmdW5jdGlvbiBvbmNlIHBlciBzcHJpbmcgdmFsdWUgKi9cbiAgZWFjaChpdGVyYXRvcikge1xuICAgIGVhY2hQcm9wNCh0aGlzLnNwcmluZ3MsIGl0ZXJhdG9yKTtcbiAgfVxuICAvKiogQGludGVybmFsIENhbGxlZCBhdCB0aGUgZW5kIG9mIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZSAqL1xuICBfb25GcmFtZSgpIHtcbiAgICBjb25zdCB7IG9uU3RhcnQsIG9uQ2hhbmdlLCBvblJlc3QgfSA9IHRoaXMuX2V2ZW50cztcbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9hY3RpdmUuc2l6ZSA+IDA7XG4gICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2NoYW5nZWQuc2l6ZSA+IDA7XG4gICAgaWYgKGFjdGl2ZSAmJiAhdGhpcy5fc3RhcnRlZCB8fCBjaGFuZ2VkICYmICF0aGlzLl9zdGFydGVkKSB7XG4gICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgIGZsdXNoMihvblN0YXJ0LCAoW29uU3RhcnQyLCByZXN1bHRdKSA9PiB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgIG9uU3RhcnQyKHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaWRsZSA9ICFhY3RpdmUgJiYgdGhpcy5fc3RhcnRlZDtcbiAgICBjb25zdCB2YWx1ZXMgPSBjaGFuZ2VkIHx8IGlkbGUgJiYgb25SZXN0LnNpemUgPyB0aGlzLmdldCgpIDogbnVsbDtcbiAgICBpZiAoY2hhbmdlZCAmJiBvbkNoYW5nZS5zaXplKSB7XG4gICAgICBmbHVzaDIob25DaGFuZ2UsIChbb25DaGFuZ2UyLCByZXN1bHRdKSA9PiB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHZhbHVlcztcbiAgICAgICAgb25DaGFuZ2UyKHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlkbGUpIHtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIGZsdXNoMihvblJlc3QsIChbb25SZXN0MiwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB2YWx1ZXM7XG4gICAgICAgIG9uUmVzdDIocmVzdWx0LCB0aGlzLCB0aGlzLl9pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICB0aGlzLl9jaGFuZ2VkLmFkZChldmVudC5wYXJlbnQpO1xuICAgICAgaWYgKCFldmVudC5pZGxlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJpZGxlXCIpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZS5kZWxldGUoZXZlbnQucGFyZW50KTtcbiAgICB9IGVsc2VcbiAgICAgIHJldHVybjtcbiAgICByYWY0Lm9uRnJhbWUodGhpcy5fb25GcmFtZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBmbHVzaFVwZGF0ZVF1ZXVlKGN0cmwsIHF1ZXVlKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChxdWV1ZS5tYXAoKHByb3BzKSA9PiBmbHVzaFVwZGF0ZShjdHJsLCBwcm9wcykpKS50aGVuKFxuICAgIChyZXN1bHRzKSA9PiBnZXRDb21iaW5lZFJlc3VsdChjdHJsLCByZXN1bHRzKVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gZmx1c2hVcGRhdGUoY3RybCwgcHJvcHMsIGlzTG9vcCkge1xuICBjb25zdCB7IGtleXMsIHRvOiB0bzIsIGZyb20sIGxvb3AsIG9uUmVzdCwgb25SZXNvbHZlIH0gPSBwcm9wcztcbiAgY29uc3QgZGVmYXVsdHMyID0gaXM2Lm9iaihwcm9wcy5kZWZhdWx0KSAmJiBwcm9wcy5kZWZhdWx0O1xuICBpZiAobG9vcCkge1xuICAgIHByb3BzLmxvb3AgPSBmYWxzZTtcbiAgfVxuICBpZiAodG8yID09PSBmYWxzZSlcbiAgICBwcm9wcy50byA9IG51bGw7XG4gIGlmIChmcm9tID09PSBmYWxzZSlcbiAgICBwcm9wcy5mcm9tID0gbnVsbDtcbiAgY29uc3QgYXN5bmNUbyA9IGlzNi5hcnIodG8yKSB8fCBpczYuZnVuKHRvMikgPyB0bzIgOiB2b2lkIDA7XG4gIGlmIChhc3luY1RvKSB7XG4gICAgcHJvcHMudG8gPSB2b2lkIDA7XG4gICAgcHJvcHMub25SZXN0ID0gdm9pZCAwO1xuICAgIGlmIChkZWZhdWx0czIpIHtcbiAgICAgIGRlZmF1bHRzMi5vblJlc3QgPSB2b2lkIDA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGVhY2gzKEJBVENIRURfRVZFTlRTLCAoa2V5KSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gcHJvcHNba2V5XTtcbiAgICAgIGlmIChpczYuZnVuKGhhbmRsZXIpKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gY3RybFtcIl9ldmVudHNcIl1ba2V5XTtcbiAgICAgICAgcHJvcHNba2V5XSA9ICh7IGZpbmlzaGVkLCBjYW5jZWxsZWQgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBxdWV1ZS5nZXQoaGFuZGxlcik7XG4gICAgICAgICAgaWYgKHJlc3VsdDIpIHtcbiAgICAgICAgICAgIGlmICghZmluaXNoZWQpXG4gICAgICAgICAgICAgIHJlc3VsdDIuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpXG4gICAgICAgICAgICAgIHJlc3VsdDIuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVldWUuc2V0KGhhbmRsZXIsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgIGZpbmlzaGVkOiBmaW5pc2hlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgY2FuY2VsbGVkOiBjYW5jZWxsZWQgfHwgZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlZmF1bHRzMikge1xuICAgICAgICAgIGRlZmF1bHRzMltrZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHN0YXRlID0gY3RybFtcIl9zdGF0ZVwiXTtcbiAgaWYgKHByb3BzLnBhdXNlID09PSAhc3RhdGUucGF1c2VkKSB7XG4gICAgc3RhdGUucGF1c2VkID0gcHJvcHMucGF1c2U7XG4gICAgZmx1c2hDYWxsczIocHJvcHMucGF1c2UgPyBzdGF0ZS5wYXVzZVF1ZXVlIDogc3RhdGUucmVzdW1lUXVldWUpO1xuICB9IGVsc2UgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgIHByb3BzLnBhdXNlID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBwcm9taXNlcyA9IChrZXlzIHx8IE9iamVjdC5rZXlzKGN0cmwuc3ByaW5ncykpLm1hcChcbiAgICAoa2V5KSA9PiBjdHJsLnNwcmluZ3Nba2V5XS5zdGFydChwcm9wcylcbiAgKTtcbiAgY29uc3QgY2FuY2VsID0gcHJvcHMuY2FuY2VsID09PSB0cnVlIHx8IGdldERlZmF1bHRQcm9wKHByb3BzLCBcImNhbmNlbFwiKSA9PT0gdHJ1ZTtcbiAgaWYgKGFzeW5jVG8gfHwgY2FuY2VsICYmIHN0YXRlLmFzeW5jSWQpIHtcbiAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgc2NoZWR1bGVQcm9wcygrK2N0cmxbXCJfbGFzdEFzeW5jSWRcIl0sIHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgcGF1c2U6IG5vb3AsXG4gICAgICAgICAgcmVzdW1lOiBub29wLFxuICAgICAgICAgIHN0YXJ0KHByb3BzMiwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKGNhbmNlbCkge1xuICAgICAgICAgICAgICBzdG9wQXN5bmMoc3RhdGUsIGN0cmxbXCJfbGFzdEFzeW5jSWRcIl0pO1xuICAgICAgICAgICAgICByZXNvbHZlKGdldENhbmNlbGxlZFJlc3VsdChjdHJsKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9wczIub25SZXN0ID0gb25SZXN0O1xuICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgIHJ1bkFzeW5jKFxuICAgICAgICAgICAgICAgICAgYXN5bmNUbyxcbiAgICAgICAgICAgICAgICAgIHByb3BzMixcbiAgICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgICAgY3RybFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBpZiAoc3RhdGUucGF1c2VkKSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc3VtZSkgPT4ge1xuICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKHJlc3VtZSk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gZ2V0Q29tYmluZWRSZXN1bHQoY3RybCwgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpKTtcbiAgaWYgKGxvb3AgJiYgcmVzdWx0LmZpbmlzaGVkICYmICEoaXNMb29wICYmIHJlc3VsdC5ub29wKSkge1xuICAgIGNvbnN0IG5leHRQcm9wcyA9IGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMsIGxvb3AsIHRvMik7XG4gICAgaWYgKG5leHRQcm9wcykge1xuICAgICAgcHJlcGFyZUtleXMoY3RybCwgW25leHRQcm9wc10pO1xuICAgICAgcmV0dXJuIGZsdXNoVXBkYXRlKGN0cmwsIG5leHRQcm9wcywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGlmIChvblJlc29sdmUpIHtcbiAgICByYWY0LmJhdGNoZWRVcGRhdGVzKCgpID0+IG9uUmVzb2x2ZShyZXN1bHQsIGN0cmwsIGN0cmwuaXRlbSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRTcHJpbmdzKGN0cmwsIHByb3BzKSB7XG4gIGNvbnN0IHNwcmluZ3MgPSB7IC4uLmN0cmwuc3ByaW5ncyB9O1xuICBpZiAocHJvcHMpIHtcbiAgICBlYWNoMyh0b0FycmF5Myhwcm9wcyksIChwcm9wczIpID0+IHtcbiAgICAgIGlmIChpczYudW5kKHByb3BzMi5rZXlzKSkge1xuICAgICAgICBwcm9wczIgPSBjcmVhdGVVcGRhdGUocHJvcHMyKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXM2Lm9iaihwcm9wczIudG8pKSB7XG4gICAgICAgIHByb3BzMiA9IHsgLi4ucHJvcHMyLCB0bzogdm9pZCAwIH07XG4gICAgICB9XG4gICAgICBwcmVwYXJlU3ByaW5ncyhzcHJpbmdzLCBwcm9wczIsIChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNwcmluZyhrZXkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgc2V0U3ByaW5ncyhjdHJsLCBzcHJpbmdzKTtcbiAgcmV0dXJuIHNwcmluZ3M7XG59XG5mdW5jdGlvbiBzZXRTcHJpbmdzKGN0cmwsIHNwcmluZ3MpIHtcbiAgZWFjaFByb3A0KHNwcmluZ3MsIChzcHJpbmcsIGtleSkgPT4ge1xuICAgIGlmICghY3RybC5zcHJpbmdzW2tleV0pIHtcbiAgICAgIGN0cmwuc3ByaW5nc1trZXldID0gc3ByaW5nO1xuICAgICAgYWRkRmx1aWRPYnNlcnZlcjIoc3ByaW5nLCBjdHJsKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU3ByaW5nKGtleSwgb2JzZXJ2ZXIpIHtcbiAgY29uc3Qgc3ByaW5nID0gbmV3IFNwcmluZ1ZhbHVlKCk7XG4gIHNwcmluZy5rZXkgPSBrZXk7XG4gIGlmIChvYnNlcnZlcikge1xuICAgIGFkZEZsdWlkT2JzZXJ2ZXIyKHNwcmluZywgb2JzZXJ2ZXIpO1xuICB9XG4gIHJldHVybiBzcHJpbmc7XG59XG5mdW5jdGlvbiBwcmVwYXJlU3ByaW5ncyhzcHJpbmdzLCBwcm9wcywgY3JlYXRlKSB7XG4gIGlmIChwcm9wcy5rZXlzKSB7XG4gICAgZWFjaDMocHJvcHMua2V5cywgKGtleSkgPT4ge1xuICAgICAgY29uc3Qgc3ByaW5nID0gc3ByaW5nc1trZXldIHx8IChzcHJpbmdzW2tleV0gPSBjcmVhdGUoa2V5KSk7XG4gICAgICBzcHJpbmdbXCJfcHJlcGFyZU5vZGVcIl0ocHJvcHMpO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBwcmVwYXJlS2V5cyhjdHJsLCBxdWV1ZSkge1xuICBlYWNoMyhxdWV1ZSwgKHByb3BzKSA9PiB7XG4gICAgcHJlcGFyZVNwcmluZ3MoY3RybC5zcHJpbmdzLCBwcm9wcywgKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNwcmluZyhrZXksIGN0cmwpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gc3JjL1NwcmluZ0NvbnRleHQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lbW9PbmUgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBTcHJpbmdDb250ZXh0ID0gKHtcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IGluaGVyaXRlZCA9IHVzZUNvbnRleHQoY3R4KTtcbiAgY29uc3QgcGF1c2UgPSBwcm9wcy5wYXVzZSB8fCAhIWluaGVyaXRlZC5wYXVzZSwgaW1tZWRpYXRlID0gcHJvcHMuaW1tZWRpYXRlIHx8ICEhaW5oZXJpdGVkLmltbWVkaWF0ZTtcbiAgcHJvcHMgPSB1c2VNZW1vT25lKCgpID0+ICh7IHBhdXNlLCBpbW1lZGlhdGUgfSksIFtwYXVzZSwgaW1tZWRpYXRlXSk7XG4gIGNvbnN0IHsgUHJvdmlkZXIgfSA9IGN0eDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7IHZhbHVlOiBwcm9wcyB9LCBjaGlsZHJlbik7XG59O1xudmFyIGN0eCA9IG1ha2VDb250ZXh0KFNwcmluZ0NvbnRleHQsIHt9KTtcblNwcmluZ0NvbnRleHQuUHJvdmlkZXIgPSBjdHguUHJvdmlkZXI7XG5TcHJpbmdDb250ZXh0LkNvbnN1bWVyID0gY3R4LkNvbnN1bWVyO1xuZnVuY3Rpb24gbWFrZUNvbnRleHQodGFyZ2V0LCBpbml0KSB7XG4gIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBSZWFjdC5jcmVhdGVDb250ZXh0KGluaXQpKTtcbiAgdGFyZ2V0LlByb3ZpZGVyLl9jb250ZXh0ID0gdGFyZ2V0O1xuICB0YXJnZXQuQ29uc3VtZXIuX2NvbnRleHQgPSB0YXJnZXQ7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIHNyYy9TcHJpbmdSZWYudHNcbmltcG9ydCB7IGVhY2ggYXMgZWFjaDQsIGlzIGFzIGlzNywgZGVwcmVjYXRlRGlyZWN0Q2FsbCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIFNwcmluZ1JlZiA9ICgpID0+IHtcbiAgY29uc3QgY3VycmVudCA9IFtdO1xuICBjb25zdCBTcHJpbmdSZWYyID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICBkZXByZWNhdGVEaXJlY3RDYWxsKCk7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBpZiAoaXM3LnVuZChwcm9wcykpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1cGRhdGUyID0gX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKTtcbiAgICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCh1cGRhdGUyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcbiAgU3ByaW5nUmVmMi5jdXJyZW50ID0gY3VycmVudDtcbiAgU3ByaW5nUmVmMi5hZGQgPSBmdW5jdGlvbihjdHJsKSB7XG4gICAgaWYgKCFjdXJyZW50LmluY2x1ZGVzKGN0cmwpKSB7XG4gICAgICBjdXJyZW50LnB1c2goY3RybCk7XG4gICAgfVxuICB9O1xuICBTcHJpbmdSZWYyLmRlbGV0ZSA9IGZ1bmN0aW9uKGN0cmwpIHtcbiAgICBjb25zdCBpID0gY3VycmVudC5pbmRleE9mKGN0cmwpO1xuICAgIGlmICh+aSlcbiAgICAgIGN1cnJlbnQuc3BsaWNlKGksIDEpO1xuICB9O1xuICBTcHJpbmdSZWYyLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwpID0+IGN0cmwucGF1c2UoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFNwcmluZ1JlZjIucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwpID0+IGN0cmwucmVzdW1lKC4uLmFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBTcHJpbmdSZWYyLnNldCA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGUyID0gaXM3LmZ1bih2YWx1ZXMpID8gdmFsdWVzKGksIGN0cmwpIDogdmFsdWVzO1xuICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgY3RybC5zZXQodXBkYXRlMik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIFNwcmluZ1JlZjIuc3RhcnQgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgaWYgKGlzNy51bmQocHJvcHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlMiA9IHRoaXMuX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKTtcbiAgICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCh1cGRhdGUyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcbiAgU3ByaW5nUmVmMi5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwpID0+IGN0cmwuc3RvcCguLi5hcmd1bWVudHMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgU3ByaW5nUmVmMi51cGRhdGUgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiBjdHJsLnVwZGF0ZSh0aGlzLl9nZXRQcm9wcyhwcm9wcywgY3RybCwgaSkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgY29uc3QgX2dldFByb3BzID0gZnVuY3Rpb24oYXJnLCBjdHJsLCBpbmRleCkge1xuICAgIHJldHVybiBpczcuZnVuKGFyZykgPyBhcmcoaW5kZXgsIGN0cmwpIDogYXJnO1xuICB9O1xuICBTcHJpbmdSZWYyLl9nZXRQcm9wcyA9IF9nZXRQcm9wcztcbiAgcmV0dXJuIFNwcmluZ1JlZjI7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5ncy50c1xuZnVuY3Rpb24gdXNlU3ByaW5ncyhsZW5ndGgsIHByb3BzLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpczguZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgaWYgKHByb3BzRm4gJiYgIWRlcHMpXG4gICAgZGVwcyA9IFtdO1xuICBjb25zdCByZWYgPSB1c2VNZW1vKFxuICAgICgpID0+IHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzID8gU3ByaW5nUmVmKCkgOiB2b2lkIDAsXG4gICAgW11cbiAgKTtcbiAgY29uc3QgbGF5b3V0SWQgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgY29uc3Qgc3RhdGUgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBjdHJsczogW10sXG4gICAgICBxdWV1ZTogW10sXG4gICAgICBmbHVzaChjdHJsLCB1cGRhdGVzMikge1xuICAgICAgICBjb25zdCBzcHJpbmdzMiA9IGdldFNwcmluZ3MoY3RybCwgdXBkYXRlczIpO1xuICAgICAgICBjb25zdCBjYW5GbHVzaFN5bmMgPSBsYXlvdXRJZC5jdXJyZW50ID4gMCAmJiAhc3RhdGUucXVldWUubGVuZ3RoICYmICFPYmplY3Qua2V5cyhzcHJpbmdzMikuc29tZSgoa2V5KSA9PiAhY3RybC5zcHJpbmdzW2tleV0pO1xuICAgICAgICByZXR1cm4gY2FuRmx1c2hTeW5jID8gZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCB1cGRhdGVzMikgOiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHNldFNwcmluZ3MoY3RybCwgc3ByaW5nczIpO1xuICAgICAgICAgIHN0YXRlLnF1ZXVlLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShmbHVzaFVwZGF0ZVF1ZXVlKGN0cmwsIHVwZGF0ZXMyKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgY29uc3QgY3RybHMgPSB1c2VSZWYoWy4uLnN0YXRlLmN0cmxzXSk7XG4gIGNvbnN0IHVwZGF0ZXMgPSBbXTtcbiAgY29uc3QgcHJldkxlbmd0aCA9IHVzZVByZXYobGVuZ3RoKSB8fCAwO1xuICB1c2VNZW1vKCgpID0+IHtcbiAgICBlYWNoNShjdHJscy5jdXJyZW50LnNsaWNlKGxlbmd0aCwgcHJldkxlbmd0aCksIChjdHJsKSA9PiB7XG4gICAgICBkZXRhY2hSZWZzKGN0cmwsIHJlZik7XG4gICAgICBjdHJsLnN0b3AodHJ1ZSk7XG4gICAgfSk7XG4gICAgY3RybHMuY3VycmVudC5sZW5ndGggPSBsZW5ndGg7XG4gICAgZGVjbGFyZVVwZGF0ZXMocHJldkxlbmd0aCwgbGVuZ3RoKTtcbiAgfSwgW2xlbmd0aF0pO1xuICB1c2VNZW1vKCgpID0+IHtcbiAgICBkZWNsYXJlVXBkYXRlcygwLCBNYXRoLm1pbihwcmV2TGVuZ3RoLCBsZW5ndGgpKTtcbiAgfSwgZGVwcyk7XG4gIGZ1bmN0aW9uIGRlY2xhcmVVcGRhdGVzKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICBjb25zdCBjdHJsID0gY3RybHMuY3VycmVudFtpXSB8fCAoY3RybHMuY3VycmVudFtpXSA9IG5ldyBDb250cm9sbGVyKG51bGwsIHN0YXRlLmZsdXNoKSk7XG4gICAgICBjb25zdCB1cGRhdGUyID0gcHJvcHNGbiA/IHByb3BzRm4oaSwgY3RybCkgOiBwcm9wc1tpXTtcbiAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgIHVwZGF0ZXNbaV0gPSBkZWNsYXJlVXBkYXRlKHVwZGF0ZTIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBzcHJpbmdzID0gY3RybHMuY3VycmVudC5tYXAoKGN0cmwsIGkpID0+IGdldFNwcmluZ3MoY3RybCwgdXBkYXRlc1tpXSkpO1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDIoU3ByaW5nQ29udGV4dCk7XG4gIGNvbnN0IHByZXZDb250ZXh0ID0gdXNlUHJldihjb250ZXh0KTtcbiAgY29uc3QgaGFzQ29udGV4dCA9IGNvbnRleHQgIT09IHByZXZDb250ZXh0ICYmIGhhc1Byb3BzKGNvbnRleHQpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0MigoKSA9PiB7XG4gICAgbGF5b3V0SWQuY3VycmVudCsrO1xuICAgIHN0YXRlLmN0cmxzID0gY3RybHMuY3VycmVudDtcbiAgICBjb25zdCB7IHF1ZXVlIH0gPSBzdGF0ZTtcbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5xdWV1ZSA9IFtdO1xuICAgICAgZWFjaDUocXVldWUsIChjYikgPT4gY2IoKSk7XG4gICAgfVxuICAgIGVhY2g1KGN0cmxzLmN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICByZWY/LmFkZChjdHJsKTtcbiAgICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICAgIGN0cmwuc3RhcnQoeyBkZWZhdWx0OiBjb250ZXh0IH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlMiA9IHVwZGF0ZXNbaV07XG4gICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICByZXBsYWNlUmVmKGN0cmwsIHVwZGF0ZTIucmVmKTtcbiAgICAgICAgaWYgKGN0cmwucmVmKSB7XG4gICAgICAgICAgY3RybC5xdWV1ZS5wdXNoKHVwZGF0ZTIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0cmwuc3RhcnQodXBkYXRlMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHVzZU9uY2UoKCkgPT4gKCkgPT4ge1xuICAgIGVhY2g1KHN0YXRlLmN0cmxzLCAoY3RybCkgPT4gY3RybC5zdG9wKHRydWUpKTtcbiAgfSk7XG4gIGNvbnN0IHZhbHVlcyA9IHNwcmluZ3MubWFwKCh4KSA9PiAoeyAuLi54IH0pKTtcbiAgcmV0dXJuIHJlZiA/IFt2YWx1ZXMsIHJlZl0gOiB2YWx1ZXM7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmcudHNcbmZ1bmN0aW9uIHVzZVNwcmluZyhwcm9wcywgZGVwcykge1xuICBjb25zdCBpc0ZuID0gaXM5LmZ1bihwcm9wcyk7XG4gIGNvbnN0IFtbdmFsdWVzXSwgcmVmXSA9IHVzZVNwcmluZ3MoXG4gICAgMSxcbiAgICBpc0ZuID8gcHJvcHMgOiBbcHJvcHNdLFxuICAgIGlzRm4gPyBkZXBzIHx8IFtdIDogZGVwc1xuICApO1xuICByZXR1cm4gaXNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDIgPyBbdmFsdWVzLCByZWZdIDogdmFsdWVzO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5nUmVmLnRzXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGluaXRTcHJpbmdSZWYgPSAoKSA9PiBTcHJpbmdSZWYoKTtcbnZhciB1c2VTcHJpbmdSZWYgPSAoKSA9PiB1c2VTdGF0ZShpbml0U3ByaW5nUmVmKVswXTtcblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ1ZhbHVlLnRzXG5pbXBvcnQgeyB1c2VDb25zdGFudCwgdXNlT25jZSBhcyB1c2VPbmNlMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHVzZVNwcmluZ1ZhbHVlID0gKGluaXRpYWwsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHNwcmluZ1ZhbHVlID0gdXNlQ29uc3RhbnQoKCkgPT4gbmV3IFNwcmluZ1ZhbHVlKGluaXRpYWwsIHByb3BzKSk7XG4gIHVzZU9uY2UyKCgpID0+ICgpID0+IHtcbiAgICBzcHJpbmdWYWx1ZS5zdG9wKCk7XG4gIH0pO1xuICByZXR1cm4gc3ByaW5nVmFsdWU7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlVHJhaWwudHNcbmltcG9ydCB7IGVhY2ggYXMgZWFjaDYsIGlzIGFzIGlzMTAsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIHVzZVRyYWlsKGxlbmd0aCwgcHJvcHNBcmcsIGRlcHMpIHtcbiAgY29uc3QgcHJvcHNGbiA9IGlzMTAuZnVuKHByb3BzQXJnKSAmJiBwcm9wc0FyZztcbiAgaWYgKHByb3BzRm4gJiYgIWRlcHMpXG4gICAgZGVwcyA9IFtdO1xuICBsZXQgcmV2ZXJzZSA9IHRydWU7XG4gIGxldCBwYXNzZWRSZWYgPSB2b2lkIDA7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZVNwcmluZ3MoXG4gICAgbGVuZ3RoLFxuICAgIChpLCBjdHJsKSA9PiB7XG4gICAgICBjb25zdCBwcm9wcyA9IHByb3BzRm4gPyBwcm9wc0ZuKGksIGN0cmwpIDogcHJvcHNBcmc7XG4gICAgICBwYXNzZWRSZWYgPSBwcm9wcy5yZWY7XG4gICAgICByZXZlcnNlID0gcmV2ZXJzZSAmJiBwcm9wcy5yZXZlcnNlO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH0sXG4gICAgLy8gRW5zdXJlIHRoZSBwcm9wcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBubyBkZXBzIGV4aXN0LlxuICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIHRoZSAzIGFyZ3VtZW50IHJ1bGUuXG4gICAgZGVwcyB8fCBbe31dXG4gICk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QzKCgpID0+IHtcbiAgICBlYWNoNihyZXN1bHRbMV0uY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHJlc3VsdFsxXS5jdXJyZW50W2kgKyAocmV2ZXJzZSA/IDEgOiAtMSldO1xuICAgICAgcmVwbGFjZVJlZihjdHJsLCBwYXNzZWRSZWYpO1xuICAgICAgaWYgKGN0cmwucmVmKSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBjdHJsLnVwZGF0ZSh7IHRvOiBwYXJlbnQuc3ByaW5ncyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGN0cmwuc3RhcnQoeyB0bzogcGFyZW50LnNwcmluZ3MgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHJsLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIGRlcHMpO1xuICBpZiAocHJvcHNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDMpIHtcbiAgICBjb25zdCByZWYgPSBwYXNzZWRSZWYgPz8gcmVzdWx0WzFdO1xuICAgIHJlZltcIl9nZXRQcm9wc1wiXSA9IChwcm9wc0FyZzIsIGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0gaXMxMC5mdW4ocHJvcHNBcmcyKSA/IHByb3BzQXJnMihpLCBjdHJsKSA6IHByb3BzQXJnMjtcbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSByZWYuY3VycmVudFtpICsgKHByb3BzLnJldmVyc2UgPyAxIDogLTEpXTtcbiAgICAgICAgaWYgKHBhcmVudClcbiAgICAgICAgICBwcm9wcy50byA9IHBhcmVudC5zcHJpbmdzO1xuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHJldHVybiByZXN1bHRbMF07XG59XG5cbi8vIHNyYy9ob29rcy91c2VUcmFuc2l0aW9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MywgdXNlUmVmIGFzIHVzZVJlZjIsIHVzZU1lbW8gYXMgdXNlTWVtbzIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGlzIGFzIGlzMTEsXG4gIHRvQXJyYXkgYXMgdG9BcnJheTQsXG4gIHVzZUZvcmNlVXBkYXRlIGFzIHVzZUZvcmNlVXBkYXRlMixcbiAgdXNlT25jZSBhcyB1c2VPbmNlMyxcbiAgdXNlUHJldiBhcyB1c2VQcmV2MixcbiAgZWFjaCBhcyBlYWNoNyxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NFxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oZGF0YSwgcHJvcHMsIGRlcHMpIHtcbiAgY29uc3QgcHJvcHNGbiA9IGlzMTEuZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgY29uc3Qge1xuICAgIHJlc2V0LFxuICAgIHNvcnQsXG4gICAgdHJhaWwgPSAwLFxuICAgIGV4cGlyZXMgPSB0cnVlLFxuICAgIGV4aXRCZWZvcmVFbnRlciA9IGZhbHNlLFxuICAgIG9uRGVzdHJveWVkLFxuICAgIHJlZjogcHJvcHNSZWYsXG4gICAgY29uZmlnOiBwcm9wc0NvbmZpZ1xuICB9ID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICBjb25zdCByZWYgPSB1c2VNZW1vMihcbiAgICAoKSA9PiBwcm9wc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMyA/IFNwcmluZ1JlZigpIDogdm9pZCAwLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGl0ZW1zID0gdG9BcnJheTQoZGF0YSk7XG4gIGNvbnN0IHRyYW5zaXRpb25zID0gW107XG4gIGNvbnN0IHVzZWRUcmFuc2l0aW9ucyA9IHVzZVJlZjIobnVsbCk7XG4gIGNvbnN0IHByZXZUcmFuc2l0aW9ucyA9IHJlc2V0ID8gbnVsbCA6IHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50O1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NCgoKSA9PiB7XG4gICAgdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQgPSB0cmFuc2l0aW9ucztcbiAgfSk7XG4gIHVzZU9uY2UzKCgpID0+IHtcbiAgICBlYWNoNyh0cmFuc2l0aW9ucywgKHQpID0+IHtcbiAgICAgIHJlZj8uYWRkKHQuY3RybCk7XG4gICAgICB0LmN0cmwucmVmID0gcmVmO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlYWNoNyh1c2VkVHJhbnNpdGlvbnMuY3VycmVudCwgKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZXhwaXJlZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0LmV4cGlyYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGV0YWNoUmVmcyh0LmN0cmwsIHJlZik7XG4gICAgICAgIHQuY3RybC5zdG9wKHRydWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG4gIGNvbnN0IGtleXMgPSBnZXRLZXlzKGl0ZW1zLCBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHMsIHByZXZUcmFuc2l0aW9ucyk7XG4gIGNvbnN0IGV4cGlyZWQgPSByZXNldCAmJiB1c2VkVHJhbnNpdGlvbnMuY3VycmVudCB8fCBbXTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoXG4gICAgKCkgPT4gZWFjaDcoZXhwaXJlZCwgKHsgY3RybCwgaXRlbSwga2V5IH0pID0+IHtcbiAgICAgIGRldGFjaFJlZnMoY3RybCwgcmVmKTtcbiAgICAgIGNhbGxQcm9wKG9uRGVzdHJveWVkLCBpdGVtLCBrZXkpO1xuICAgIH0pXG4gICk7XG4gIGNvbnN0IHJldXNlZCA9IFtdO1xuICBpZiAocHJldlRyYW5zaXRpb25zKVxuICAgIGVhY2g3KHByZXZUcmFuc2l0aW9ucywgKHQsIGkpID0+IHtcbiAgICAgIGlmICh0LmV4cGlyZWQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQuZXhwaXJhdGlvbklkKTtcbiAgICAgICAgZXhwaXJlZC5wdXNoKHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IHJldXNlZFtpXSA9IGtleXMuaW5kZXhPZih0LmtleSk7XG4gICAgICAgIGlmICh+aSlcbiAgICAgICAgICB0cmFuc2l0aW9uc1tpXSA9IHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIGVhY2g3KGl0ZW1zLCAoaXRlbSwgaSkgPT4ge1xuICAgIGlmICghdHJhbnNpdGlvbnNbaV0pIHtcbiAgICAgIHRyYW5zaXRpb25zW2ldID0ge1xuICAgICAgICBrZXk6IGtleXNbaV0sXG4gICAgICAgIGl0ZW0sXG4gICAgICAgIHBoYXNlOiBcIm1vdW50XCIgLyogTU9VTlQgKi8sXG4gICAgICAgIGN0cmw6IG5ldyBDb250cm9sbGVyKClcbiAgICAgIH07XG4gICAgICB0cmFuc2l0aW9uc1tpXS5jdHJsLml0ZW0gPSBpdGVtO1xuICAgIH1cbiAgfSk7XG4gIGlmIChyZXVzZWQubGVuZ3RoKSB7XG4gICAgbGV0IGkgPSAtMTtcbiAgICBjb25zdCB7IGxlYXZlIH0gPSBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHM7XG4gICAgZWFjaDcocmV1c2VkLCAoa2V5SW5kZXgsIHByZXZJbmRleCkgPT4ge1xuICAgICAgY29uc3QgdCA9IHByZXZUcmFuc2l0aW9uc1twcmV2SW5kZXhdO1xuICAgICAgaWYgKH5rZXlJbmRleCkge1xuICAgICAgICBpID0gdHJhbnNpdGlvbnMuaW5kZXhPZih0KTtcbiAgICAgICAgdHJhbnNpdGlvbnNbaV0gPSB7IC4uLnQsIGl0ZW06IGl0ZW1zW2tleUluZGV4XSB9O1xuICAgICAgfSBlbHNlIGlmIChsZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9ucy5zcGxpY2UoKytpLCAwLCB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoaXMxMS5mdW4oc29ydCkpIHtcbiAgICB0cmFuc2l0aW9ucy5zb3J0KChhLCBiKSA9PiBzb3J0KGEuaXRlbSwgYi5pdGVtKSk7XG4gIH1cbiAgbGV0IGRlbGF5ID0gLXRyYWlsO1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlMigpO1xuICBjb25zdCBkZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMocHJvcHMpO1xuICBjb25zdCBjaGFuZ2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgZXhpdGluZ1RyYW5zaXRpb25zID0gdXNlUmVmMigvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgY29uc3QgZm9yY2VDaGFuZ2UgPSB1c2VSZWYyKGZhbHNlKTtcbiAgZWFjaDcodHJhbnNpdGlvbnMsICh0LCBpKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gdC5rZXk7XG4gICAgY29uc3QgcHJldlBoYXNlID0gdC5waGFzZTtcbiAgICBjb25zdCBwID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICAgIGxldCB0bzI7XG4gICAgbGV0IHBoYXNlO1xuICAgIGNvbnN0IHByb3BzRGVsYXkgPSBjYWxsUHJvcChwLmRlbGF5IHx8IDAsIGtleSk7XG4gICAgaWYgKHByZXZQaGFzZSA9PSBcIm1vdW50XCIgLyogTU9VTlQgKi8pIHtcbiAgICAgIHRvMiA9IHAuZW50ZXI7XG4gICAgICBwaGFzZSA9IFwiZW50ZXJcIiAvKiBFTlRFUiAqLztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXNMZWF2ZSA9IGtleXMuaW5kZXhPZihrZXkpIDwgMDtcbiAgICAgIGlmIChwcmV2UGhhc2UgIT0gXCJsZWF2ZVwiIC8qIExFQVZFICovKSB7XG4gICAgICAgIGlmIChpc0xlYXZlKSB7XG4gICAgICAgICAgdG8yID0gcC5sZWF2ZTtcbiAgICAgICAgICBwaGFzZSA9IFwibGVhdmVcIiAvKiBMRUFWRSAqLztcbiAgICAgICAgfSBlbHNlIGlmICh0bzIgPSBwLnVwZGF0ZSkge1xuICAgICAgICAgIHBoYXNlID0gXCJ1cGRhdGVcIiAvKiBVUERBVEUgKi87XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzTGVhdmUpIHtcbiAgICAgICAgdG8yID0gcC5lbnRlcjtcbiAgICAgICAgcGhhc2UgPSBcImVudGVyXCIgLyogRU5URVIgKi87XG4gICAgICB9IGVsc2VcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0bzIgPSBjYWxsUHJvcCh0bzIsIHQuaXRlbSwgaSk7XG4gICAgdG8yID0gaXMxMS5vYmoodG8yKSA/IGluZmVyVG8odG8yKSA6IHsgdG86IHRvMiB9O1xuICAgIGlmICghdG8yLmNvbmZpZykge1xuICAgICAgY29uc3QgY29uZmlnMiA9IHByb3BzQ29uZmlnIHx8IGRlZmF1bHRQcm9wcy5jb25maWc7XG4gICAgICB0bzIuY29uZmlnID0gY2FsbFByb3AoY29uZmlnMiwgdC5pdGVtLCBpLCBwaGFzZSk7XG4gICAgfVxuICAgIGRlbGF5ICs9IHRyYWlsO1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFkZCBvdXIgcHJvcHMuZGVsYXkgdmFsdWUgeW91IGhlcmUuXG4gICAgICBkZWxheTogcHJvcHNEZWxheSArIGRlbGF5LFxuICAgICAgcmVmOiBwcm9wc1JlZixcbiAgICAgIGltbWVkaWF0ZTogcC5pbW1lZGlhdGUsXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGltcGxpZWQgcmVzZXRzLlxuICAgICAgcmVzZXQ6IGZhbHNlLFxuICAgICAgLy8gTWVyZ2UgYW55IHBoYXNlLXNwZWNpZmljIHByb3BzLlxuICAgICAgLi4udG8yXG4gICAgfTtcbiAgICBpZiAocGhhc2UgPT0gXCJlbnRlclwiIC8qIEVOVEVSICovICYmIGlzMTEudW5kKHBheWxvYWQuZnJvbSkpIHtcbiAgICAgIGNvbnN0IHAyID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICAgICAgY29uc3QgZnJvbSA9IGlzMTEudW5kKHAyLmluaXRpYWwpIHx8IHByZXZUcmFuc2l0aW9ucyA/IHAyLmZyb20gOiBwMi5pbml0aWFsO1xuICAgICAgcGF5bG9hZC5mcm9tID0gY2FsbFByb3AoZnJvbSwgdC5pdGVtLCBpKTtcbiAgICB9XG4gICAgY29uc3QgeyBvblJlc29sdmUgfSA9IHBheWxvYWQ7XG4gICAgcGF5bG9hZC5vblJlc29sdmUgPSAocmVzdWx0KSA9PiB7XG4gICAgICBjYWxsUHJvcChvblJlc29sdmUsIHJlc3VsdCk7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uczIgPSB1c2VkVHJhbnNpdGlvbnMuY3VycmVudDtcbiAgICAgIGNvbnN0IHQyID0gdHJhbnNpdGlvbnMyLmZpbmQoKHQzKSA9PiB0My5rZXkgPT09IGtleSk7XG4gICAgICBpZiAoIXQyKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAocmVzdWx0LmNhbmNlbGxlZCAmJiB0Mi5waGFzZSAhPSBcInVwZGF0ZVwiIC8qIFVQREFURSAqLykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodDIuY3RybC5pZGxlKSB7XG4gICAgICAgIGNvbnN0IGlkbGUgPSB0cmFuc2l0aW9uczIuZXZlcnkoKHQzKSA9PiB0My5jdHJsLmlkbGUpO1xuICAgICAgICBpZiAodDIucGhhc2UgPT0gXCJsZWF2ZVwiIC8qIExFQVZFICovKSB7XG4gICAgICAgICAgY29uc3QgZXhwaXJ5ID0gY2FsbFByb3AoZXhwaXJlcywgdDIuaXRlbSk7XG4gICAgICAgICAgaWYgKGV4cGlyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyeU1zID0gZXhwaXJ5ID09PSB0cnVlID8gMCA6IGV4cGlyeTtcbiAgICAgICAgICAgIHQyLmV4cGlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFpZGxlICYmIGV4cGlyeU1zID4gMCkge1xuICAgICAgICAgICAgICBpZiAoZXhwaXJ5TXMgPD0gMjE0NzQ4MzY0NylcbiAgICAgICAgICAgICAgICB0Mi5leHBpcmF0aW9uSWQgPSBzZXRUaW1lb3V0KGZvcmNlVXBkYXRlLCBleHBpcnlNcyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkbGUgJiYgdHJhbnNpdGlvbnMyLnNvbWUoKHQzKSA9PiB0My5leHBpcmVkKSkge1xuICAgICAgICAgIGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LmRlbGV0ZSh0Mik7XG4gICAgICAgICAgaWYgKGV4aXRCZWZvcmVFbnRlcikge1xuICAgICAgICAgICAgZm9yY2VDaGFuZ2UuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNwcmluZ3MgPSBnZXRTcHJpbmdzKHQuY3RybCwgcGF5bG9hZCk7XG4gICAgaWYgKHBoYXNlID09PSBcImxlYXZlXCIgLyogTEVBVkUgKi8gJiYgZXhpdEJlZm9yZUVudGVyKSB7XG4gICAgICBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5zZXQodCwgeyBwaGFzZSwgc3ByaW5ncywgcGF5bG9hZCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhbmdlcy5zZXQodCwgeyBwaGFzZSwgc3ByaW5ncywgcGF5bG9hZCB9KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDMoU3ByaW5nQ29udGV4dCk7XG4gIGNvbnN0IHByZXZDb250ZXh0ID0gdXNlUHJldjIoY29udGV4dCk7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSBjb250ZXh0ICE9PSBwcmV2Q29udGV4dCAmJiBoYXNQcm9wcyhjb250ZXh0KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoKCkgPT4ge1xuICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICBlYWNoNyh0cmFuc2l0aW9ucywgKHQpID0+IHtcbiAgICAgICAgdC5jdHJsLnN0YXJ0KHsgZGVmYXVsdDogY29udGV4dCB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NvbnRleHRdKTtcbiAgZWFjaDcoY2hhbmdlcywgKF8sIHQpID0+IHtcbiAgICBpZiAoZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2l6ZSkge1xuICAgICAgY29uc3QgaW5kID0gdHJhbnNpdGlvbnMuZmluZEluZGV4KChzdGF0ZSkgPT4gc3RhdGUua2V5ID09PSB0LmtleSk7XG4gICAgICB0cmFuc2l0aW9ucy5zcGxpY2UoaW5kLCAxKTtcbiAgICB9XG4gIH0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NChcbiAgICAoKSA9PiB7XG4gICAgICBlYWNoNyhcbiAgICAgICAgZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2l6ZSA/IGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50IDogY2hhbmdlcyxcbiAgICAgICAgKHsgcGhhc2UsIHBheWxvYWQgfSwgdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY3RybCB9ID0gdDtcbiAgICAgICAgICB0LnBoYXNlID0gcGhhc2U7XG4gICAgICAgICAgcmVmPy5hZGQoY3RybCk7XG4gICAgICAgICAgaWYgKGhhc0NvbnRleHQgJiYgcGhhc2UgPT0gXCJlbnRlclwiIC8qIEVOVEVSICovKSB7XG4gICAgICAgICAgICBjdHJsLnN0YXJ0KHsgZGVmYXVsdDogY29udGV4dCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHJlcGxhY2VSZWYoY3RybCwgcGF5bG9hZC5yZWYpO1xuICAgICAgICAgICAgaWYgKChjdHJsLnJlZiB8fCByZWYpICYmICFmb3JjZUNoYW5nZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGN0cmwudXBkYXRlKHBheWxvYWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY3RybC5zdGFydChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQ2hhbmdlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3JjZUNoYW5nZS5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSxcbiAgICByZXNldCA/IHZvaWQgMCA6IGRlcHNcbiAgKTtcbiAgY29uc3QgcmVuZGVyVHJhbnNpdGlvbnMgPSAocmVuZGVyKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUmVhY3QyLkZyYWdtZW50LCBudWxsLCB0cmFuc2l0aW9ucy5tYXAoKHQsIGkpID0+IHtcbiAgICBjb25zdCB7IHNwcmluZ3MgfSA9IGNoYW5nZXMuZ2V0KHQpIHx8IHQuY3RybDtcbiAgICBjb25zdCBlbGVtID0gcmVuZGVyKHsgLi4uc3ByaW5ncyB9LCB0Lml0ZW0sIHQsIGkpO1xuICAgIHJldHVybiBlbGVtICYmIGVsZW0udHlwZSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIGVsZW0udHlwZSxcbiAgICAgIHtcbiAgICAgICAgLi4uZWxlbS5wcm9wcyxcbiAgICAgICAga2V5OiBpczExLnN0cih0LmtleSkgfHwgaXMxMS5udW0odC5rZXkpID8gdC5rZXkgOiB0LmN0cmwuaWQsXG4gICAgICAgIHJlZjogZWxlbS5yZWZcbiAgICAgIH1cbiAgICApIDogZWxlbTtcbiAgfSkpO1xuICByZXR1cm4gcmVmID8gW3JlbmRlclRyYW5zaXRpb25zLCByZWZdIDogcmVuZGVyVHJhbnNpdGlvbnM7XG59XG52YXIgbmV4dEtleSA9IDE7XG5mdW5jdGlvbiBnZXRLZXlzKGl0ZW1zLCB7IGtleSwga2V5cyA9IGtleSB9LCBwcmV2VHJhbnNpdGlvbnMpIHtcbiAgaWYgKGtleXMgPT09IG51bGwpIHtcbiAgICBjb25zdCByZXVzZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHQgPSBwcmV2VHJhbnNpdGlvbnMgJiYgcHJldlRyYW5zaXRpb25zLmZpbmQoXG4gICAgICAgICh0MikgPT4gdDIuaXRlbSA9PT0gaXRlbSAmJiB0Mi5waGFzZSAhPT0gXCJsZWF2ZVwiIC8qIExFQVZFICovICYmICFyZXVzZWQuaGFzKHQyKVxuICAgICAgKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHJldXNlZC5hZGQodCk7XG4gICAgICAgIHJldHVybiB0LmtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0S2V5Kys7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGlzMTEudW5kKGtleXMpID8gaXRlbXMgOiBpczExLmZ1bihrZXlzKSA/IGl0ZW1zLm1hcChrZXlzKSA6IHRvQXJyYXk0KGtleXMpO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU2Nyb2xsLnRzXG5pbXBvcnQgeyBlYWNoIGFzIGVhY2g4LCBvblNjcm9sbCwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NSB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHVzZVNjcm9sbCA9ICh7XG4gIGNvbnRhaW5lcixcbiAgLi4uc3ByaW5nT3B0aW9uc1xufSA9IHt9KSA9PiB7XG4gIGNvbnN0IFtzY3JvbGxWYWx1ZXMsIGFwaV0gPSB1c2VTcHJpbmcoXG4gICAgKCkgPT4gKHtcbiAgICAgIHNjcm9sbFg6IDAsXG4gICAgICBzY3JvbGxZOiAwLFxuICAgICAgc2Nyb2xsWFByb2dyZXNzOiAwLFxuICAgICAgc2Nyb2xsWVByb2dyZXNzOiAwLFxuICAgICAgLi4uc3ByaW5nT3B0aW9uc1xuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q1KCgpID0+IHtcbiAgICBjb25zdCBjbGVhbnVwU2Nyb2xsID0gb25TY3JvbGwoXG4gICAgICAoeyB4LCB5IH0pID0+IHtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICBzY3JvbGxYOiB4LmN1cnJlbnQsXG4gICAgICAgICAgc2Nyb2xsWFByb2dyZXNzOiB4LnByb2dyZXNzLFxuICAgICAgICAgIHNjcm9sbFk6IHkuY3VycmVudCxcbiAgICAgICAgICBzY3JvbGxZUHJvZ3Jlc3M6IHkucHJvZ3Jlc3NcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgeyBjb250YWluZXI6IGNvbnRhaW5lcj8uY3VycmVudCB8fCB2b2lkIDAgfVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVhY2g4KE9iamVjdC52YWx1ZXMoc2Nyb2xsVmFsdWVzKSwgKHZhbHVlKSA9PiB2YWx1ZS5zdG9wKCkpO1xuICAgICAgY2xlYW51cFNjcm9sbCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHNjcm9sbFZhbHVlcztcbn07XG5cbi8vIHNyYy9ob29rcy91c2VSZXNpemUudHNcbmltcG9ydCB7IG9uUmVzaXplLCBlYWNoIGFzIGVhY2g5LCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q2IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgdXNlUmVzaXplID0gKHtcbiAgY29udGFpbmVyLFxuICAuLi5zcHJpbmdPcHRpb25zXG59KSA9PiB7XG4gIGNvbnN0IFtzaXplVmFsdWVzLCBhcGldID0gdXNlU3ByaW5nKFxuICAgICgpID0+ICh7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIC4uLnNwcmluZ09wdGlvbnNcbiAgICB9KSxcbiAgICBbXVxuICApO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NigoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cFNjcm9sbCA9IG9uUmVzaXplKFxuICAgICAgKHsgd2lkdGgsIGhlaWdodCB9KSA9PiB7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIGltbWVkaWF0ZTogc2l6ZVZhbHVlcy53aWR0aC5nZXQoKSA9PT0gMCB8fCBzaXplVmFsdWVzLmhlaWdodC5nZXQoKSA9PT0gMFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7IGNvbnRhaW5lcjogY29udGFpbmVyPy5jdXJyZW50IHx8IHZvaWQgMCB9XG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWFjaDkoT2JqZWN0LnZhbHVlcyhzaXplVmFsdWVzKSwgKHZhbHVlKSA9PiB2YWx1ZS5zdG9wKCkpO1xuICAgICAgY2xlYW51cFNjcm9sbCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHNpemVWYWx1ZXM7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlSW5WaWV3LnRzXG5pbXBvcnQgeyB1c2VSZWYgYXMgdXNlUmVmMywgdXNlU3RhdGUgYXMgdXNlU3RhdGUyIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBpcyBhcyBpczEyLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q3IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgZGVmYXVsdFRocmVzaG9sZE9wdGlvbnMgPSB7XG4gIGFueTogMCxcbiAgYWxsOiAxXG59O1xuZnVuY3Rpb24gdXNlSW5WaWV3KHByb3BzLCBhcmdzKSB7XG4gIGNvbnN0IFtpc0luVmlldywgc2V0SXNJblZpZXddID0gdXNlU3RhdGUyKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmMygpO1xuICBjb25zdCBwcm9wc0ZuID0gaXMxMi5mdW4ocHJvcHMpICYmIHByb3BzO1xuICBjb25zdCBzcHJpbmdzUHJvcHMgPSBwcm9wc0ZuID8gcHJvcHNGbigpIDoge307XG4gIGNvbnN0IHsgdG86IHRvMiA9IHt9LCBmcm9tID0ge30sIC4uLnJlc3RTcHJpbmdQcm9wcyB9ID0gc3ByaW5nc1Byb3BzO1xuICBjb25zdCBpbnRlcnNlY3Rpb25Bcmd1bWVudHMgPSBwcm9wc0ZuID8gYXJncyA6IHByb3BzO1xuICBjb25zdCBbc3ByaW5ncywgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoeyBmcm9tLCAuLi5yZXN0U3ByaW5nUHJvcHMgfSksIFtdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDcoKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSByZWYuY3VycmVudDtcbiAgICBjb25zdCB7XG4gICAgICByb290LFxuICAgICAgb25jZSxcbiAgICAgIGFtb3VudCA9IFwiYW55XCIsXG4gICAgICAuLi5yZXN0QXJnc1xuICAgIH0gPSBpbnRlcnNlY3Rpb25Bcmd1bWVudHMgPz8ge307XG4gICAgaWYgKCFlbGVtZW50IHx8IG9uY2UgJiYgaXNJblZpZXcgfHwgdHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGFjdGl2ZUludGVyc2VjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgICBjb25zdCBvbkVudGVyID0gKCkgPT4ge1xuICAgICAgaWYgKHRvMikge1xuICAgICAgICBhcGkuc3RhcnQodG8yKTtcbiAgICAgIH1cbiAgICAgIHNldElzSW5WaWV3KHRydWUpO1xuICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICBhcGkuc3RhcnQoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNJblZpZXcoZmFsc2UpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBvbmNlID8gdm9pZCAwIDogY2xlYW51cDtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUludGVyc2VjdGlvbiA9IChlbnRyaWVzKSA9PiB7XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IG9uTGVhdmUgPSBhY3RpdmVJbnRlcnNlY3Rpb25zLmdldChlbnRyeS50YXJnZXQpO1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgPT09IEJvb2xlYW4ob25MZWF2ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgY29uc3QgbmV3T25MZWF2ZSA9IG9uRW50ZXIoKTtcbiAgICAgICAgICBpZiAoaXMxMi5mdW4obmV3T25MZWF2ZSkpIHtcbiAgICAgICAgICAgIGFjdGl2ZUludGVyc2VjdGlvbnMuc2V0KGVudHJ5LnRhcmdldCwgbmV3T25MZWF2ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvbkxlYXZlKSB7XG4gICAgICAgICAgb25MZWF2ZSgpO1xuICAgICAgICAgIGFjdGl2ZUludGVyc2VjdGlvbnMuZGVsZXRlKGVudHJ5LnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uLCB7XG4gICAgICByb290OiByb290ICYmIHJvb3QuY3VycmVudCB8fCB2b2lkIDAsXG4gICAgICB0aHJlc2hvbGQ6IHR5cGVvZiBhbW91bnQgPT09IFwibnVtYmVyXCIgfHwgQXJyYXkuaXNBcnJheShhbW91bnQpID8gYW1vdW50IDogZGVmYXVsdFRocmVzaG9sZE9wdGlvbnNbYW1vdW50XSxcbiAgICAgIC4uLnJlc3RBcmdzXG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICB9LCBbaW50ZXJzZWN0aW9uQXJndW1lbnRzXSk7XG4gIGlmIChwcm9wc0ZuKSB7XG4gICAgcmV0dXJuIFtyZWYsIHNwcmluZ3NdO1xuICB9XG4gIHJldHVybiBbcmVmLCBpc0luVmlld107XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1NwcmluZy50c3hcbmZ1bmN0aW9uIFNwcmluZyh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gIHJldHVybiBjaGlsZHJlbih1c2VTcHJpbmcocHJvcHMpKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvVHJhaWwudHN4XG5pbXBvcnQgeyBpcyBhcyBpczEzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBUcmFpbCh7XG4gIGl0ZW1zLFxuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgdHJhaWxzID0gdXNlVHJhaWwoaXRlbXMubGVuZ3RoLCBwcm9wcyk7XG4gIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2hpbGRyZW4oaXRlbSwgaW5kZXgpO1xuICAgIHJldHVybiBpczEzLmZ1bihyZXN1bHQpID8gcmVzdWx0KHRyYWlsc1tpbmRleF0pIDogcmVzdWx0O1xuICB9KTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvVHJhbnNpdGlvbi50c3hcbmZ1bmN0aW9uIFRyYW5zaXRpb24oe1xuICBpdGVtcyxcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiB1c2VUcmFuc2l0aW9uKGl0ZW1zLCBwcm9wcykoY2hpbGRyZW4pO1xufVxuXG4vLyBzcmMvaW50ZXJwb2xhdGUudHNcbmltcG9ydCB7IGRlcHJlY2F0ZUludGVycG9sYXRlIGFzIGRlcHJlY2F0ZUludGVycG9sYXRlMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvSW50ZXJwb2xhdGlvbi50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXMxNCxcbiAgcmFmIGFzIHJhZjUsXG4gIGVhY2ggYXMgZWFjaDEwLFxuICBpc0VxdWFsIGFzIGlzRXF1YWwyLFxuICB0b0FycmF5IGFzIHRvQXJyYXk1LFxuICBmcmFtZUxvb3AgYXMgZnJhbWVMb29wMyxcbiAgZ2V0Rmx1aWRWYWx1ZSBhcyBnZXRGbHVpZFZhbHVlMyxcbiAgY3JlYXRlSW50ZXJwb2xhdG9yLFxuICBHbG9iYWxzIGFzIEc2LFxuICBjYWxsRmx1aWRPYnNlcnZlcnMgYXMgY2FsbEZsdWlkT2JzZXJ2ZXJzMyxcbiAgYWRkRmx1aWRPYnNlcnZlciBhcyBhZGRGbHVpZE9ic2VydmVyMyxcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlciBhcyByZW1vdmVGbHVpZE9ic2VydmVyMixcbiAgaGFzRmx1aWRWYWx1ZSBhcyBoYXNGbHVpZFZhbHVlMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIGdldEFuaW1hdGVkIGFzIGdldEFuaW1hdGVkMyxcbiAgc2V0QW5pbWF0ZWQgYXMgc2V0QW5pbWF0ZWQyLFxuICBnZXRBbmltYXRlZFR5cGUgYXMgZ2V0QW5pbWF0ZWRUeXBlMixcbiAgZ2V0UGF5bG9hZCBhcyBnZXRQYXlsb2FkMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xudmFyIEludGVycG9sYXRpb24gPSBjbGFzcyBleHRlbmRzIEZyYW1lVmFsdWUge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIGFyZ3MpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIC8qKiBFcXVhbHMgZmFsc2Ugd2hlbiBpbiB0aGUgZnJhbWVsb29wICovXG4gICAgdGhpcy5pZGxlID0gdHJ1ZTtcbiAgICAvKiogVGhlIGlucHV0cyB3aGljaCBhcmUgY3VycmVudGx5IGFuaW1hdGluZyAqL1xuICAgIHRoaXMuX2FjdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgdGhpcy5jYWxjID0gY3JlYXRlSW50ZXJwb2xhdG9yKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0KCk7XG4gICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUyKHZhbHVlKTtcbiAgICBzZXRBbmltYXRlZDIodGhpcywgbm9kZVR5cGUuY3JlYXRlKHZhbHVlKSk7XG4gIH1cbiAgYWR2YW5jZShfZHQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldCgpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5nZXQoKTtcbiAgICBpZiAoIWlzRXF1YWwyKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIGdldEFuaW1hdGVkMyh0aGlzKS5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB0aGlzLl9vbkNoYW5nZSh2YWx1ZSwgdGhpcy5pZGxlKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlkbGUgJiYgY2hlY2tJZGxlKHRoaXMuX2FjdGl2ZSkpIHtcbiAgICAgIGJlY29tZUlkbGUodGhpcyk7XG4gICAgfVxuICB9XG4gIF9nZXQoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gaXMxNC5hcnIodGhpcy5zb3VyY2UpID8gdGhpcy5zb3VyY2UubWFwKGdldEZsdWlkVmFsdWUzKSA6IHRvQXJyYXk1KGdldEZsdWlkVmFsdWUzKHRoaXMuc291cmNlKSk7XG4gICAgcmV0dXJuIHRoaXMuY2FsYyguLi5pbnB1dHMpO1xuICB9XG4gIF9zdGFydCgpIHtcbiAgICBpZiAodGhpcy5pZGxlICYmICFjaGVja0lkbGUodGhpcy5fYWN0aXZlKSkge1xuICAgICAgdGhpcy5pZGxlID0gZmFsc2U7XG4gICAgICBlYWNoMTAoZ2V0UGF5bG9hZDIodGhpcyksIChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUuZG9uZSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBpZiAoRzYuc2tpcEFuaW1hdGlvbikge1xuICAgICAgICByYWY1LmJhdGNoZWRVcGRhdGVzKCgpID0+IHRoaXMuYWR2YW5jZSgpKTtcbiAgICAgICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lTG9vcDMuc3RhcnQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIE9ic2VydmUgb3VyIHNvdXJjZXMgb25seSB3aGVuIHdlJ3JlIG9ic2VydmVkLlxuICBfYXR0YWNoKCkge1xuICAgIGxldCBwcmlvcml0eSA9IDE7XG4gICAgZWFjaDEwKHRvQXJyYXk1KHRoaXMuc291cmNlKSwgKHNvdXJjZSkgPT4ge1xuICAgICAgaWYgKGhhc0ZsdWlkVmFsdWUyKHNvdXJjZSkpIHtcbiAgICAgICAgYWRkRmx1aWRPYnNlcnZlcjMoc291cmNlLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0ZyYW1lVmFsdWUoc291cmNlKSkge1xuICAgICAgICBpZiAoIXNvdXJjZS5pZGxlKSB7XG4gICAgICAgICAgdGhpcy5fYWN0aXZlLmFkZChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHByaW9yaXR5ID0gTWF0aC5tYXgocHJpb3JpdHksIHNvdXJjZS5wcmlvcml0eSArIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLl9zdGFydCgpO1xuICB9XG4gIC8vIFN0b3Agb2JzZXJ2aW5nIG91ciBzb3VyY2VzIG9uY2Ugd2UgaGF2ZSBubyBvYnNlcnZlcnMuXG4gIF9kZXRhY2goKSB7XG4gICAgZWFjaDEwKHRvQXJyYXk1KHRoaXMuc291cmNlKSwgKHNvdXJjZSkgPT4ge1xuICAgICAgaWYgKGhhc0ZsdWlkVmFsdWUyKHNvdXJjZSkpIHtcbiAgICAgICAgcmVtb3ZlRmx1aWRPYnNlcnZlcjIoc291cmNlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9hY3RpdmUuY2xlYXIoKTtcbiAgICBiZWNvbWVJZGxlKHRoaXMpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIGlmIChldmVudC5pZGxlKSB7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlLmFkZChldmVudC5wYXJlbnQpO1xuICAgICAgICB0aGlzLl9zdGFydCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcImlkbGVcIikge1xuICAgICAgdGhpcy5fYWN0aXZlLmRlbGV0ZShldmVudC5wYXJlbnQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcInByaW9yaXR5XCIpIHtcbiAgICAgIHRoaXMucHJpb3JpdHkgPSB0b0FycmF5NSh0aGlzLnNvdXJjZSkucmVkdWNlKFxuICAgICAgICAoaGlnaGVzdCwgcGFyZW50KSA9PiBNYXRoLm1heChoaWdoZXN0LCAoaXNGcmFtZVZhbHVlKHBhcmVudCkgPyBwYXJlbnQucHJpb3JpdHkgOiAwKSArIDEpLFxuICAgICAgICAwXG4gICAgICApO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGlzSWRsZShzb3VyY2UpIHtcbiAgcmV0dXJuIHNvdXJjZS5pZGxlICE9PSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNoZWNrSWRsZShhY3RpdmUpIHtcbiAgcmV0dXJuICFhY3RpdmUuc2l6ZSB8fCBBcnJheS5mcm9tKGFjdGl2ZSkuZXZlcnkoaXNJZGxlKTtcbn1cbmZ1bmN0aW9uIGJlY29tZUlkbGUoc2VsZikge1xuICBpZiAoIXNlbGYuaWRsZSkge1xuICAgIHNlbGYuaWRsZSA9IHRydWU7XG4gICAgZWFjaDEwKGdldFBheWxvYWQyKHNlbGYpLCAobm9kZSkgPT4ge1xuICAgICAgbm9kZS5kb25lID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjYWxsRmx1aWRPYnNlcnZlcnMzKHNlbGYsIHtcbiAgICAgIHR5cGU6IFwiaWRsZVwiLFxuICAgICAgcGFyZW50OiBzZWxmXG4gICAgfSk7XG4gIH1cbn1cblxuLy8gc3JjL2ludGVycG9sYXRlLnRzXG52YXIgdG8gPSAoc291cmNlLCAuLi5hcmdzKSA9PiBuZXcgSW50ZXJwb2xhdGlvbihzb3VyY2UsIGFyZ3MpO1xudmFyIGludGVycG9sYXRlID0gKHNvdXJjZSwgLi4uYXJncykgPT4gKGRlcHJlY2F0ZUludGVycG9sYXRlMigpLCBuZXcgSW50ZXJwb2xhdGlvbihzb3VyY2UsIGFyZ3MpKTtcblxuLy8gc3JjL2dsb2JhbHMudHNcbmltcG9ydCB7XG4gIEdsb2JhbHMsXG4gIGZyYW1lTG9vcCBhcyBmcmFtZUxvb3A0LFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3Jcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5HbG9iYWxzLmFzc2lnbih7XG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgdG86IChzb3VyY2UsIGFyZ3MpID0+IG5ldyBJbnRlcnBvbGF0aW9uKHNvdXJjZSwgYXJncylcbn0pO1xudmFyIHVwZGF0ZSA9IGZyYW1lTG9vcDQuYWR2YW5jZTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQge1xuICBjcmVhdGVJbnRlcnBvbGF0b3IgYXMgY3JlYXRlSW50ZXJwb2xhdG9yMixcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0OCxcbiAgdXNlUmVkdWNlZE1vdGlvbixcbiAgZWFzaW5ncyBhcyBlYXNpbmdzMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmV4cG9ydCAqIGZyb20gXCJAcmVhY3Qtc3ByaW5nL3R5cGVzXCI7XG5leHBvcnQge1xuICBCYWlsU2lnbmFsLFxuICBDb250cm9sbGVyLFxuICBGcmFtZVZhbHVlLFxuICBHbG9iYWxzLFxuICBJbnRlcnBvbGF0aW9uLFxuICBTcHJpbmcsXG4gIFNwcmluZ0NvbnRleHQsXG4gIFNwcmluZ1JlZixcbiAgU3ByaW5nVmFsdWUsXG4gIFRyYWlsLFxuICBUcmFuc2l0aW9uLFxuICBjb25maWcsXG4gIGNyZWF0ZUludGVycG9sYXRvcjIgYXMgY3JlYXRlSW50ZXJwb2xhdG9yLFxuICBlYXNpbmdzMiBhcyBlYXNpbmdzLFxuICBpbmZlclRvLFxuICBpbnRlcnBvbGF0ZSxcbiAgdG8sXG4gIHVwZGF0ZSxcbiAgdXNlQ2hhaW4sXG4gIHVzZUluVmlldyxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDggYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCxcbiAgdXNlUmVkdWNlZE1vdGlvbixcbiAgdXNlUmVzaXplLFxuICB1c2VTY3JvbGwsXG4gIHVzZVNwcmluZyxcbiAgdXNlU3ByaW5nUmVmLFxuICB1c2VTcHJpbmdWYWx1ZSxcbiAgdXNlU3ByaW5ncyxcbiAgdXNlVHJhaWwsXG4gIHVzZVRyYW5zaXRpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfY29yZS5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiLy8gc3JjL0FuaW1hdGVkLnRzXG5pbXBvcnQgeyBkZWZpbmVIaWRkZW4gfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciAkbm9kZSA9IFN5bWJvbC5mb3IoXCJBbmltYXRlZDpub2RlXCIpO1xudmFyIGlzQW5pbWF0ZWQgPSAodmFsdWUpID0+ICEhdmFsdWUgJiYgdmFsdWVbJG5vZGVdID09PSB2YWx1ZTtcbnZhciBnZXRBbmltYXRlZCA9IChvd25lcikgPT4gb3duZXIgJiYgb3duZXJbJG5vZGVdO1xudmFyIHNldEFuaW1hdGVkID0gKG93bmVyLCBub2RlKSA9PiBkZWZpbmVIaWRkZW4ob3duZXIsICRub2RlLCBub2RlKTtcbnZhciBnZXRQYXlsb2FkID0gKG93bmVyKSA9PiBvd25lciAmJiBvd25lclskbm9kZV0gJiYgb3duZXJbJG5vZGVdLmdldFBheWxvYWQoKTtcbnZhciBBbmltYXRlZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc2V0QW5pbWF0ZWQodGhpcywgdGhpcyk7XG4gIH1cbiAgLyoqIEdldCBldmVyeSBgQW5pbWF0ZWRWYWx1ZWAgdXNlZCBieSB0aGlzIG5vZGUuICovXG4gIGdldFBheWxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF5bG9hZCB8fCBbXTtcbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkVmFsdWUudHNcbmltcG9ydCB7IGlzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgQW5pbWF0ZWRWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWQge1xuICBjb25zdHJ1Y3RvcihfdmFsdWUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgdGhpcy5kdXJhdGlvblByb2dyZXNzID0gMDtcbiAgICBpZiAoaXMubnVtKHRoaXMuX3ZhbHVlKSkge1xuICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB0aGlzLl92YWx1ZTtcbiAgICB9XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgY3JlYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlKTtcbiAgfVxuICBnZXRQYXlsb2FkKCkge1xuICAgIHJldHVybiBbdGhpc107XG4gIH1cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldFZhbHVlKHZhbHVlLCBzdGVwKSB7XG4gICAgaWYgKGlzLm51bSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdmFsdWU7XG4gICAgICBpZiAoc3RlcCkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBjb25zdCB7IGRvbmUgfSA9IHRoaXM7XG4gICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgaWYgKGlzLm51bSh0aGlzLl92YWx1ZSkpIHtcbiAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgdGhpcy5kdXJhdGlvblByb2dyZXNzID0gMDtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdGhpcy5fdmFsdWU7XG4gICAgICBpZiAoZG9uZSlcbiAgICAgICAgdGhpcy5sYXN0VmVsb2NpdHkgPSBudWxsO1xuICAgICAgdGhpcy52MCA9IG51bGw7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvQW5pbWF0ZWRTdHJpbmcudHNcbmltcG9ydCB7IGlzIGFzIGlzMiwgY3JlYXRlSW50ZXJwb2xhdG9yIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgQW5pbWF0ZWRTdHJpbmcgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkVmFsdWUge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHN1cGVyKDApO1xuICAgIHRoaXMuX3N0cmluZyA9IG51bGw7XG4gICAgdGhpcy5fdG9TdHJpbmcgPSBjcmVhdGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgb3V0cHV0OiBbdmFsdWUsIHZhbHVlXVxuICAgIH0pO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIGNyZWF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTdHJpbmcodmFsdWUpO1xuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc3RyaW5nO1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5fc3RyaW5nID0gdGhpcy5fdG9TdHJpbmcodGhpcy5fdmFsdWUpIDogdmFsdWU7XG4gIH1cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaXMyLnN0cih2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLl9zdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RyaW5nID0gdmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IDE7XG4gICAgfSBlbHNlIGlmIChzdXBlci5zZXRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuX3N0cmluZyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmVzZXQoZ29hbCkge1xuICAgIGlmIChnb2FsKSB7XG4gICAgICB0aGlzLl90b1N0cmluZyA9IGNyZWF0ZUludGVycG9sYXRvcih7XG4gICAgICAgIG91dHB1dDogW3RoaXMuZ2V0VmFsdWUoKSwgZ29hbF1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl92YWx1ZSA9IDA7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkQXJyYXkudHNcbmltcG9ydCB7IGlzQW5pbWF0ZWRTdHJpbmcgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL0FuaW1hdGVkT2JqZWN0LnRzXG5pbXBvcnQge1xuICBlYWNoLFxuICBlYWNoUHJvcCxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgaGFzRmx1aWRWYWx1ZVxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL2NvbnRleHQudHNcbnZhciBUcmVlQ29udGV4dCA9IHsgZGVwZW5kZW5jaWVzOiBudWxsIH07XG5cbi8vIHNyYy9BbmltYXRlZE9iamVjdC50c1xudmFyIEFuaW1hdGVkT2JqZWN0ID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZCB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5zZXRWYWx1ZShzb3VyY2UpO1xuICB9XG4gIGdldFZhbHVlKGFuaW1hdGVkKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgZWFjaFByb3AodGhpcy5zb3VyY2UsIChzb3VyY2UsIGtleSkgPT4ge1xuICAgICAgaWYgKGlzQW5pbWF0ZWQoc291cmNlKSkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHNvdXJjZS5nZXRWYWx1ZShhbmltYXRlZCk7XG4gICAgICB9IGVsc2UgaWYgKGhhc0ZsdWlkVmFsdWUoc291cmNlKSkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IGdldEZsdWlkVmFsdWUoc291cmNlKTtcbiAgICAgIH0gZWxzZSBpZiAoIWFuaW1hdGVkKSB7XG4gICAgICAgIHZhbHVlc1trZXldID0gc291cmNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbiAgLyoqIFJlcGxhY2UgdGhlIHJhdyBvYmplY3QgZGF0YSAqL1xuICBzZXRWYWx1ZShzb3VyY2UpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLnBheWxvYWQgPSB0aGlzLl9tYWtlUGF5bG9hZChzb3VyY2UpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnBheWxvYWQpIHtcbiAgICAgIGVhY2godGhpcy5wYXlsb2FkLCAobm9kZSkgPT4gbm9kZS5yZXNldCgpKTtcbiAgICB9XG4gIH1cbiAgLyoqIENyZWF0ZSBhIHBheWxvYWQgc2V0LiAqL1xuICBfbWFrZVBheWxvYWQoc291cmNlKSB7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBlYWNoUHJvcChzb3VyY2UsIHRoaXMuX2FkZFRvUGF5bG9hZCwgcGF5bG9hZCk7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShwYXlsb2FkKTtcbiAgICB9XG4gIH1cbiAgLyoqIEFkZCB0byBhIHBheWxvYWQgc2V0LiAqL1xuICBfYWRkVG9QYXlsb2FkKHNvdXJjZSkge1xuICAgIGlmIChUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgJiYgaGFzRmx1aWRWYWx1ZShzb3VyY2UpKSB7XG4gICAgICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMuYWRkKHNvdXJjZSk7XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBnZXRQYXlsb2FkKHNvdXJjZSk7XG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIGVhY2gocGF5bG9hZCwgKG5vZGUpID0+IHRoaXMuYWRkKG5vZGUpKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZEFycmF5LnRzXG52YXIgQW5pbWF0ZWRBcnJheSA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWRPYmplY3Qge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIGNyZWF0ZShzb3VyY2UpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkQXJyYXkoc291cmNlKTtcbiAgfVxuICBnZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UubWFwKChub2RlKSA9PiBub2RlLmdldFZhbHVlKCkpO1xuICB9XG4gIHNldFZhbHVlKHNvdXJjZSkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmdldFBheWxvYWQoKTtcbiAgICBpZiAoc291cmNlLmxlbmd0aCA9PSBwYXlsb2FkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQubWFwKChub2RlLCBpKSA9PiBub2RlLnNldFZhbHVlKHNvdXJjZVtpXSkpLnNvbWUoQm9vbGVhbik7XG4gICAgfVxuICAgIHN1cGVyLnNldFZhbHVlKHNvdXJjZS5tYXAobWFrZUFuaW1hdGVkKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5mdW5jdGlvbiBtYWtlQW5pbWF0ZWQodmFsdWUpIHtcbiAgY29uc3Qgbm9kZVR5cGUgPSBpc0FuaW1hdGVkU3RyaW5nKHZhbHVlKSA/IEFuaW1hdGVkU3RyaW5nIDogQW5pbWF0ZWRWYWx1ZTtcbiAgcmV0dXJuIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSk7XG59XG5cbi8vIHNyYy9nZXRBbmltYXRlZFR5cGUudHNcbmltcG9ydCB7IGlzIGFzIGlzMywgaXNBbmltYXRlZFN0cmluZyBhcyBpc0FuaW1hdGVkU3RyaW5nMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gZ2V0QW5pbWF0ZWRUeXBlKHZhbHVlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRBbmltYXRlZCh2YWx1ZSk7XG4gIHJldHVybiBwYXJlbnROb2RlID8gcGFyZW50Tm9kZS5jb25zdHJ1Y3RvciA6IGlzMy5hcnIodmFsdWUpID8gQW5pbWF0ZWRBcnJheSA6IGlzQW5pbWF0ZWRTdHJpbmcyKHZhbHVlKSA/IEFuaW1hdGVkU3RyaW5nIDogQW5pbWF0ZWRWYWx1ZTtcbn1cblxuLy8gc3JjL2NyZWF0ZUhvc3QudHNcbmltcG9ydCB7IGlzIGFzIGlzNSwgZWFjaFByb3AgYXMgZWFjaFByb3AyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy93aXRoQW5pbWF0ZWQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGZvcndhcmRSZWYsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM0LFxuICBlYWNoIGFzIGVhY2gyLFxuICByYWYsXG4gIHVzZUZvcmNlVXBkYXRlLFxuICB1c2VPbmNlLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICByZW1vdmVGbHVpZE9ic2VydmVyLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0XG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHdpdGhBbmltYXRlZCA9IChDb21wb25lbnQsIGhvc3QpID0+IHtcbiAgY29uc3QgaGFzSW5zdGFuY2UgPSAoXG4gICAgLy8gRnVuY3Rpb24gY29tcG9uZW50cyBtdXN0IHVzZSBcImZvcndhcmRSZWZcIiB0byBhdm9pZCBiZWluZ1xuICAgIC8vIHJlLXJlbmRlcmVkIG9uIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAhaXM0LmZ1bihDb21wb25lbnQpIHx8IENvbXBvbmVudC5wcm90b3R5cGUgJiYgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50XG4gICk7XG4gIHJldHVybiBmb3J3YXJkUmVmKChnaXZlblByb3BzLCBnaXZlblJlZikgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHJlZiA9IGhhc0luc3RhbmNlICYmIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIHVzZUNhbGxiYWNrKFxuICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgIGluc3RhbmNlUmVmLmN1cnJlbnQgPSB1cGRhdGVSZWYoZ2l2ZW5SZWYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBbZ2l2ZW5SZWZdXG4gICAgKTtcbiAgICBjb25zdCBbcHJvcHMsIGRlcHNdID0gZ2V0QW5pbWF0ZWRTdGF0ZShnaXZlblByb3BzLCBob3N0KTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoaGFzSW5zdGFuY2UgJiYgIWluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpZFVwZGF0ZSA9IGluc3RhbmNlID8gaG9zdC5hcHBseUFuaW1hdGVkVmFsdWVzKGluc3RhbmNlLCBwcm9wcy5nZXRWYWx1ZSh0cnVlKSkgOiBmYWxzZTtcbiAgICAgIGlmIChkaWRVcGRhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBQcm9wc09ic2VydmVyKGNhbGxiYWNrLCBkZXBzKTtcbiAgICBjb25zdCBvYnNlcnZlclJlZiA9IHVzZVJlZigpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xuICAgICAgZWFjaDIoZGVwcywgKGRlcCkgPT4gYWRkRmx1aWRPYnNlcnZlcihkZXAsIG9ic2VydmVyKSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAob2JzZXJ2ZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgIGVhY2gyKFxuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5kZXBzLFxuICAgICAgICAgICAgKGRlcCkgPT4gcmVtb3ZlRmx1aWRPYnNlcnZlcihkZXAsIG9ic2VydmVyUmVmLmN1cnJlbnQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICByYWYuY2FuY2VsKG9ic2VydmVyUmVmLmN1cnJlbnQudXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoY2FsbGJhY2ssIFtdKTtcbiAgICB1c2VPbmNlKCgpID0+ICgpID0+IHtcbiAgICAgIGNvbnN0IG9ic2VydmVyMiA9IG9ic2VydmVyUmVmLmN1cnJlbnQ7XG4gICAgICBlYWNoMihvYnNlcnZlcjIuZGVwcywgKGRlcCkgPT4gcmVtb3ZlRmx1aWRPYnNlcnZlcihkZXAsIG9ic2VydmVyMikpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVzZWRQcm9wcyA9IGhvc3QuZ2V0Q29tcG9uZW50UHJvcHMocHJvcHMuZ2V0VmFsdWUoKSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgeyAuLi51c2VkUHJvcHMsIHJlZiB9KTtcbiAgfSk7XG59O1xudmFyIFByb3BzT2JzZXJ2ZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHVwZGF0ZSwgZGVwcykge1xuICAgIHRoaXMudXBkYXRlID0gdXBkYXRlO1xuICAgIHRoaXMuZGVwcyA9IGRlcHM7XG4gIH1cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIHJhZi53cml0ZSh0aGlzLnVwZGF0ZSk7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gZ2V0QW5pbWF0ZWRTdGF0ZShwcm9wcywgaG9zdCkge1xuICBjb25zdCBkZXBlbmRlbmNpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gIGlmIChwcm9wcy5zdHlsZSlcbiAgICBwcm9wcyA9IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgc3R5bGU6IGhvc3QuY3JlYXRlQW5pbWF0ZWRTdHlsZShwcm9wcy5zdHlsZSlcbiAgICB9O1xuICBwcm9wcyA9IG5ldyBBbmltYXRlZE9iamVjdChwcm9wcyk7XG4gIFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcyA9IG51bGw7XG4gIHJldHVybiBbcHJvcHMsIGRlcGVuZGVuY2llc107XG59XG5mdW5jdGlvbiB1cGRhdGVSZWYocmVmLCB2YWx1ZSkge1xuICBpZiAocmVmKSB7XG4gICAgaWYgKGlzNC5mdW4ocmVmKSlcbiAgICAgIHJlZih2YWx1ZSk7XG4gICAgZWxzZVxuICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHNyYy9jcmVhdGVIb3N0LnRzXG52YXIgY2FjaGVLZXkgPSBTeW1ib2wuZm9yKFwiQW5pbWF0ZWRDb21wb25lbnRcIik7XG52YXIgY3JlYXRlSG9zdCA9IChjb21wb25lbnRzLCB7XG4gIGFwcGx5QW5pbWF0ZWRWYWx1ZXMgPSAoKSA9PiBmYWxzZSxcbiAgY3JlYXRlQW5pbWF0ZWRTdHlsZSA9IChzdHlsZSkgPT4gbmV3IEFuaW1hdGVkT2JqZWN0KHN0eWxlKSxcbiAgZ2V0Q29tcG9uZW50UHJvcHMgPSAocHJvcHMpID0+IHByb3BzXG59ID0ge30pID0+IHtcbiAgY29uc3QgaG9zdENvbmZpZyA9IHtcbiAgICBhcHBseUFuaW1hdGVkVmFsdWVzLFxuICAgIGNyZWF0ZUFuaW1hdGVkU3R5bGUsXG4gICAgZ2V0Q29tcG9uZW50UHJvcHNcbiAgfTtcbiAgY29uc3QgYW5pbWF0ZWQgPSAoQ29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpIHx8IFwiQW5vbnltb3VzXCI7XG4gICAgaWYgKGlzNS5zdHIoQ29tcG9uZW50KSkge1xuICAgICAgQ29tcG9uZW50ID0gYW5pbWF0ZWRbQ29tcG9uZW50XSB8fCAoYW5pbWF0ZWRbQ29tcG9uZW50XSA9IHdpdGhBbmltYXRlZChDb21wb25lbnQsIGhvc3RDb25maWcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50W2NhY2hlS2V5XSB8fCAoQ29tcG9uZW50W2NhY2hlS2V5XSA9IHdpdGhBbmltYXRlZChDb21wb25lbnQsIGhvc3RDb25maWcpKTtcbiAgICB9XG4gICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gYEFuaW1hdGVkKCR7ZGlzcGxheU5hbWV9KWA7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfTtcbiAgZWFjaFByb3AyKGNvbXBvbmVudHMsIChDb21wb25lbnQsIGtleSkgPT4ge1xuICAgIGlmIChpczUuYXJyKGNvbXBvbmVudHMpKSB7XG4gICAgICBrZXkgPSBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpO1xuICAgIH1cbiAgICBhbmltYXRlZFtrZXldID0gYW5pbWF0ZWQoQ29tcG9uZW50KTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgYW5pbWF0ZWRcbiAgfTtcbn07XG52YXIgZ2V0RGlzcGxheU5hbWUgPSAoYXJnKSA9PiBpczUuc3RyKGFyZykgPyBhcmcgOiBhcmcgJiYgaXM1LnN0cihhcmcuZGlzcGxheU5hbWUpID8gYXJnLmRpc3BsYXlOYW1lIDogaXM1LmZ1bihhcmcpICYmIGFyZy5uYW1lIHx8IG51bGw7XG5leHBvcnQge1xuICBBbmltYXRlZCxcbiAgQW5pbWF0ZWRBcnJheSxcbiAgQW5pbWF0ZWRPYmplY3QsXG4gIEFuaW1hdGVkU3RyaW5nLFxuICBBbmltYXRlZFZhbHVlLFxuICBjcmVhdGVIb3N0LFxuICBnZXRBbmltYXRlZCxcbiAgZ2V0QW5pbWF0ZWRUeXBlLFxuICBnZXRQYXlsb2FkLFxuICBpc0FuaW1hdGVkLFxuICBzZXRBbmltYXRlZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvY29yZVwiO1xuaW1wb3J0IHsgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsIGNvbG9ycyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHsgY3JlYXRlSG9zdCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG5cbi8vIHNyYy9hcHBseUFuaW1hdGVkVmFsdWVzLnRzXG52YXIgaXNDdXN0b21Qcm9wUkUgPSAvXi0tLztcbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PT0gXCJcIilcbiAgICByZXR1cm4gXCJcIjtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiB2YWx1ZSAhPT0gMCAmJiAhaXNDdXN0b21Qcm9wUkUudGVzdChuYW1lKSAmJiAhKGlzVW5pdGxlc3NOdW1iZXIuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgaXNVbml0bGVzc051bWJlcltuYW1lXSkpXG4gICAgcmV0dXJuIHZhbHVlICsgXCJweFwiO1xuICByZXR1cm4gKFwiXCIgKyB2YWx1ZSkudHJpbSgpO1xufVxudmFyIGF0dHJpYnV0ZUNhY2hlID0ge307XG5mdW5jdGlvbiBhcHBseUFuaW1hdGVkVmFsdWVzKGluc3RhbmNlLCBwcm9wcykge1xuICBpZiAoIWluc3RhbmNlLm5vZGVUeXBlIHx8ICFpbnN0YW5jZS5zZXRBdHRyaWJ1dGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaXNGaWx0ZXJFbGVtZW50ID0gaW5zdGFuY2Uubm9kZU5hbWUgPT09IFwiZmlsdGVyXCIgfHwgaW5zdGFuY2UucGFyZW50Tm9kZSAmJiBpbnN0YW5jZS5wYXJlbnROb2RlLm5vZGVOYW1lID09PSBcImZpbHRlclwiO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIHNjcm9sbFRvcCxcbiAgICBzY3JvbGxMZWZ0LFxuICAgIHZpZXdCb3gsXG4gICAgLi4uYXR0cmlidXRlc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoYXR0cmlidXRlcyk7XG4gIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcykubWFwKFxuICAgIChuYW1lKSA9PiBpc0ZpbHRlckVsZW1lbnQgfHwgaW5zdGFuY2UuaGFzQXR0cmlidXRlKG5hbWUpID8gbmFtZSA6IGF0dHJpYnV0ZUNhY2hlW25hbWVdIHx8IChhdHRyaWJ1dGVDYWNoZVtuYW1lXSA9IG5hbWUucmVwbGFjZShcbiAgICAgIC8oW0EtWl0pL2csXG4gICAgICAvLyBBdHRyaWJ1dGVzIGFyZSB3cml0dGVuIGluIGRhc2ggY2FzZVxuICAgICAgKG4pID0+IFwiLVwiICsgbi50b0xvd2VyQ2FzZSgpXG4gICAgKSlcbiAgKTtcbiAgaWYgKGNoaWxkcmVuICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS50ZXh0Q29udGVudCA9IGNoaWxkcmVuO1xuICB9XG4gIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZSkge1xuICAgIGlmIChzdHlsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHN0eWxlW25hbWVdKTtcbiAgICAgIGlmIChpc0N1c3RvbVByb3BSRS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG5hbWVzLmZvckVhY2goKG5hbWUsIGkpID0+IHtcbiAgICBpbnN0YW5jZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWVzW2ldKTtcbiAgfSk7XG4gIGlmIChjbGFzc05hbWUgIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgfVxuICBpZiAoc2Nyb2xsVG9wICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gIH1cbiAgaWYgKHNjcm9sbExlZnQgIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICB9XG4gIGlmICh2aWV3Qm94ICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIHZpZXdCb3gpO1xuICB9XG59XG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGNvbHVtbnM6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkUm93RW5kOiB0cnVlLFxuICBncmlkUm93U3BhbjogdHJ1ZSxcbiAgZ3JpZFJvd1N0YXJ0OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBncmlkQ29sdW1uRW5kOiB0cnVlLFxuICBncmlkQ29sdW1uU3BhbjogdHJ1ZSxcbiAgZ3JpZENvbHVtblN0YXJ0OiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcbnZhciBwcmVmaXhLZXkgPSAocHJlZml4LCBrZXkpID0+IHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG52YXIgcHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNc1wiLCBcIk1velwiLCBcIk9cIl07XG5pc1VuaXRsZXNzTnVtYmVyID0gT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgcHJlZml4ZXMuZm9yRWFjaCgocHJlZml4KSA9PiBhY2NbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gYWNjW3Byb3BdKTtcbiAgcmV0dXJuIGFjYztcbn0sIGlzVW5pdGxlc3NOdW1iZXIpO1xuXG4vLyBzcmMvQW5pbWF0ZWRTdHlsZS50c1xuaW1wb3J0IHsgQW5pbWF0ZWRPYmplY3QgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xuaW1wb3J0IHtcbiAgaXMsXG4gIGVhY2gsXG4gIHRvQXJyYXksXG4gIGVhY2hQcm9wLFxuICBGbHVpZFZhbHVlLFxuICBnZXRGbHVpZFZhbHVlLFxuICBjYWxsRmx1aWRPYnNlcnZlcnMsXG4gIGhhc0ZsdWlkVmFsdWUsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgZG9tVHJhbnNmb3JtcyA9IC9eKG1hdHJpeHx0cmFuc2xhdGV8c2NhbGV8cm90YXRlfHNrZXcpLztcbnZhciBweFRyYW5zZm9ybXMgPSAvXih0cmFuc2xhdGUpLztcbnZhciBkZWdUcmFuc2Zvcm1zID0gL14ocm90YXRlfHNrZXcpLztcbnZhciBhZGRVbml0ID0gKHZhbHVlLCB1bml0KSA9PiBpcy5udW0odmFsdWUpICYmIHZhbHVlICE9PSAwID8gdmFsdWUgKyB1bml0IDogdmFsdWU7XG52YXIgaXNWYWx1ZUlkZW50aXR5ID0gKHZhbHVlLCBpZCkgPT4gaXMuYXJyKHZhbHVlKSA/IHZhbHVlLmV2ZXJ5KCh2KSA9PiBpc1ZhbHVlSWRlbnRpdHkodiwgaWQpKSA6IGlzLm51bSh2YWx1ZSkgPyB2YWx1ZSA9PT0gaWQgOiBwYXJzZUZsb2F0KHZhbHVlKSA9PT0gaWQ7XG52YXIgQW5pbWF0ZWRTdHlsZSA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWRPYmplY3Qge1xuICBjb25zdHJ1Y3Rvcih7IHgsIHksIHosIC4uLnN0eWxlIH0pIHtcbiAgICBjb25zdCBpbnB1dHMgPSBbXTtcbiAgICBjb25zdCB0cmFuc2Zvcm1zID0gW107XG4gICAgaWYgKHggfHwgeSB8fCB6KSB7XG4gICAgICBpbnB1dHMucHVzaChbeCB8fCAwLCB5IHx8IDAsIHogfHwgMF0pO1xuICAgICAgdHJhbnNmb3Jtcy5wdXNoKCh4eXopID0+IFtcbiAgICAgICAgYHRyYW5zbGF0ZTNkKCR7eHl6Lm1hcCgodikgPT4gYWRkVW5pdCh2LCBcInB4XCIpKS5qb2luKFwiLFwiKX0pYCxcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGlzVmFsdWVJZGVudGl0eSh4eXosIDApXG4gICAgICBdKTtcbiAgICB9XG4gICAgZWFjaFByb3Aoc3R5bGUsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgIGlucHV0cy5wdXNoKFt2YWx1ZSB8fCBcIlwiXSk7XG4gICAgICAgIHRyYW5zZm9ybXMucHVzaCgodHJhbnNmb3JtKSA9PiBbdHJhbnNmb3JtLCB0cmFuc2Zvcm0gPT09IFwiXCJdKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9tVHJhbnNmb3Jtcy50ZXN0KGtleSkpIHtcbiAgICAgICAgZGVsZXRlIHN0eWxlW2tleV07XG4gICAgICAgIGlmIChpcy51bmQodmFsdWUpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5pdCA9IHB4VHJhbnNmb3Jtcy50ZXN0KGtleSkgPyBcInB4XCIgOiBkZWdUcmFuc2Zvcm1zLnRlc3Qoa2V5KSA/IFwiZGVnXCIgOiBcIlwiO1xuICAgICAgICBpbnB1dHMucHVzaCh0b0FycmF5KHZhbHVlKSk7XG4gICAgICAgIHRyYW5zZm9ybXMucHVzaChcbiAgICAgICAgICBrZXkgPT09IFwicm90YXRlM2RcIiA/IChbeDIsIHkyLCB6MiwgZGVnXSkgPT4gW1xuICAgICAgICAgICAgYHJvdGF0ZTNkKCR7eDJ9LCR7eTJ9LCR7ejJ9LCR7YWRkVW5pdChkZWcsIHVuaXQpfSlgLFxuICAgICAgICAgICAgaXNWYWx1ZUlkZW50aXR5KGRlZywgMClcbiAgICAgICAgICBdIDogKGlucHV0KSA9PiBbXG4gICAgICAgICAgICBgJHtrZXl9KCR7aW5wdXQubWFwKCh2KSA9PiBhZGRVbml0KHYsIHVuaXQpKS5qb2luKFwiLFwiKX0pYCxcbiAgICAgICAgICAgIGlzVmFsdWVJZGVudGl0eShpbnB1dCwga2V5LnN0YXJ0c1dpdGgoXCJzY2FsZVwiKSA/IDEgOiAwKVxuICAgICAgICAgIF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5wdXRzLmxlbmd0aCkge1xuICAgICAgc3R5bGUudHJhbnNmb3JtID0gbmV3IEZsdWlkVHJhbnNmb3JtKGlucHV0cywgdHJhbnNmb3Jtcyk7XG4gICAgfVxuICAgIHN1cGVyKHN0eWxlKTtcbiAgfVxufTtcbnZhciBGbHVpZFRyYW5zZm9ybSA9IGNsYXNzIGV4dGVuZHMgRmx1aWRWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKGlucHV0cywgdHJhbnNmb3Jtcykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XG4gICAgdGhpcy50cmFuc2Zvcm1zID0gdHJhbnNmb3JtcztcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gIH1cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSB8fCAodGhpcy5fdmFsdWUgPSB0aGlzLl9nZXQoKSk7XG4gIH1cbiAgX2dldCgpIHtcbiAgICBsZXQgdHJhbnNmb3JtID0gXCJcIjtcbiAgICBsZXQgaWRlbnRpdHkgPSB0cnVlO1xuICAgIGVhY2godGhpcy5pbnB1dHMsIChpbnB1dCwgaSkgPT4ge1xuICAgICAgY29uc3QgYXJnMSA9IGdldEZsdWlkVmFsdWUoaW5wdXRbMF0pO1xuICAgICAgY29uc3QgW3QsIGlkXSA9IHRoaXMudHJhbnNmb3Jtc1tpXShcbiAgICAgICAgaXMuYXJyKGFyZzEpID8gYXJnMSA6IGlucHV0Lm1hcChnZXRGbHVpZFZhbHVlKVxuICAgICAgKTtcbiAgICAgIHRyYW5zZm9ybSArPSBcIiBcIiArIHQ7XG4gICAgICBpZGVudGl0eSA9IGlkZW50aXR5ICYmIGlkO1xuICAgIH0pO1xuICAgIHJldHVybiBpZGVudGl0eSA/IFwibm9uZVwiIDogdHJhbnNmb3JtO1xuICB9XG4gIC8vIFN0YXJ0IG9ic2VydmluZyBvdXIgaW5wdXRzIG9uY2Ugd2UgaGF2ZSBhbiBvYnNlcnZlci5cbiAgb2JzZXJ2ZXJBZGRlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAxKVxuICAgICAgZWFjaChcbiAgICAgICAgdGhpcy5pbnB1dHMsXG4gICAgICAgIChpbnB1dCkgPT4gZWFjaChcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAodmFsdWUpID0+IGhhc0ZsdWlkVmFsdWUodmFsdWUpICYmIGFkZEZsdWlkT2JzZXJ2ZXIodmFsdWUsIHRoaXMpXG4gICAgICAgIClcbiAgICAgICk7XG4gIH1cbiAgLy8gU3RvcCBvYnNlcnZpbmcgb3VyIGlucHV0cyBvbmNlIHdlIGhhdmUgbm8gb2JzZXJ2ZXJzLlxuICBvYnNlcnZlclJlbW92ZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMClcbiAgICAgIGVhY2goXG4gICAgICAgIHRoaXMuaW5wdXRzLFxuICAgICAgICAoaW5wdXQpID0+IGVhY2goXG4gICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgKHZhbHVlKSA9PiBoYXNGbHVpZFZhbHVlKHZhbHVlKSAmJiByZW1vdmVGbHVpZE9ic2VydmVyKHZhbHVlLCB0aGlzKVxuICAgICAgICApXG4gICAgICApO1xuICB9XG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIGNhbGxGbHVpZE9ic2VydmVycyh0aGlzLCBldmVudCk7XG4gIH1cbn07XG5cbi8vIHNyYy9wcmltaXRpdmVzLnRzXG52YXIgcHJpbWl0aXZlcyA9IFtcbiAgXCJhXCIsXG4gIFwiYWJiclwiLFxuICBcImFkZHJlc3NcIixcbiAgXCJhcmVhXCIsXG4gIFwiYXJ0aWNsZVwiLFxuICBcImFzaWRlXCIsXG4gIFwiYXVkaW9cIixcbiAgXCJiXCIsXG4gIFwiYmFzZVwiLFxuICBcImJkaVwiLFxuICBcImJkb1wiLFxuICBcImJpZ1wiLFxuICBcImJsb2NrcXVvdGVcIixcbiAgXCJib2R5XCIsXG4gIFwiYnJcIixcbiAgXCJidXR0b25cIixcbiAgXCJjYW52YXNcIixcbiAgXCJjYXB0aW9uXCIsXG4gIFwiY2l0ZVwiLFxuICBcImNvZGVcIixcbiAgXCJjb2xcIixcbiAgXCJjb2xncm91cFwiLFxuICBcImRhdGFcIixcbiAgXCJkYXRhbGlzdFwiLFxuICBcImRkXCIsXG4gIFwiZGVsXCIsXG4gIFwiZGV0YWlsc1wiLFxuICBcImRmblwiLFxuICBcImRpYWxvZ1wiLFxuICBcImRpdlwiLFxuICBcImRsXCIsXG4gIFwiZHRcIixcbiAgXCJlbVwiLFxuICBcImVtYmVkXCIsXG4gIFwiZmllbGRzZXRcIixcbiAgXCJmaWdjYXB0aW9uXCIsXG4gIFwiZmlndXJlXCIsXG4gIFwiZm9vdGVyXCIsXG4gIFwiZm9ybVwiLFxuICBcImgxXCIsXG4gIFwiaDJcIixcbiAgXCJoM1wiLFxuICBcImg0XCIsXG4gIFwiaDVcIixcbiAgXCJoNlwiLFxuICBcImhlYWRcIixcbiAgXCJoZWFkZXJcIixcbiAgXCJoZ3JvdXBcIixcbiAgXCJoclwiLFxuICBcImh0bWxcIixcbiAgXCJpXCIsXG4gIFwiaWZyYW1lXCIsXG4gIFwiaW1nXCIsXG4gIFwiaW5wdXRcIixcbiAgXCJpbnNcIixcbiAgXCJrYmRcIixcbiAgXCJrZXlnZW5cIixcbiAgXCJsYWJlbFwiLFxuICBcImxlZ2VuZFwiLFxuICBcImxpXCIsXG4gIFwibGlua1wiLFxuICBcIm1haW5cIixcbiAgXCJtYXBcIixcbiAgXCJtYXJrXCIsXG4gIFwibWVudVwiLFxuICBcIm1lbnVpdGVtXCIsXG4gIFwibWV0YVwiLFxuICBcIm1ldGVyXCIsXG4gIFwibmF2XCIsXG4gIFwibm9zY3JpcHRcIixcbiAgXCJvYmplY3RcIixcbiAgXCJvbFwiLFxuICBcIm9wdGdyb3VwXCIsXG4gIFwib3B0aW9uXCIsXG4gIFwib3V0cHV0XCIsXG4gIFwicFwiLFxuICBcInBhcmFtXCIsXG4gIFwicGljdHVyZVwiLFxuICBcInByZVwiLFxuICBcInByb2dyZXNzXCIsXG4gIFwicVwiLFxuICBcInJwXCIsXG4gIFwicnRcIixcbiAgXCJydWJ5XCIsXG4gIFwic1wiLFxuICBcInNhbXBcIixcbiAgXCJzY3JpcHRcIixcbiAgXCJzZWN0aW9uXCIsXG4gIFwic2VsZWN0XCIsXG4gIFwic21hbGxcIixcbiAgXCJzb3VyY2VcIixcbiAgXCJzcGFuXCIsXG4gIFwic3Ryb25nXCIsXG4gIFwic3R5bGVcIixcbiAgXCJzdWJcIixcbiAgXCJzdW1tYXJ5XCIsXG4gIFwic3VwXCIsXG4gIFwidGFibGVcIixcbiAgXCJ0Ym9keVwiLFxuICBcInRkXCIsXG4gIFwidGV4dGFyZWFcIixcbiAgXCJ0Zm9vdFwiLFxuICBcInRoXCIsXG4gIFwidGhlYWRcIixcbiAgXCJ0aW1lXCIsXG4gIFwidGl0bGVcIixcbiAgXCJ0clwiLFxuICBcInRyYWNrXCIsXG4gIFwidVwiLFxuICBcInVsXCIsXG4gIFwidmFyXCIsXG4gIFwidmlkZW9cIixcbiAgXCJ3YnJcIixcbiAgLy8gU1ZHXG4gIFwiY2lyY2xlXCIsXG4gIFwiY2xpcFBhdGhcIixcbiAgXCJkZWZzXCIsXG4gIFwiZWxsaXBzZVwiLFxuICBcImZvcmVpZ25PYmplY3RcIixcbiAgXCJnXCIsXG4gIFwiaW1hZ2VcIixcbiAgXCJsaW5lXCIsXG4gIFwibGluZWFyR3JhZGllbnRcIixcbiAgXCJtYXNrXCIsXG4gIFwicGF0aFwiLFxuICBcInBhdHRlcm5cIixcbiAgXCJwb2x5Z29uXCIsXG4gIFwicG9seWxpbmVcIixcbiAgXCJyYWRpYWxHcmFkaWVudFwiLFxuICBcInJlY3RcIixcbiAgXCJzdG9wXCIsXG4gIFwic3ZnXCIsXG4gIFwidGV4dFwiLFxuICBcInRzcGFuXCJcbl07XG5cbi8vIHNyYy9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcIkByZWFjdC1zcHJpbmcvY29yZVwiO1xuR2xvYmFscy5hc3NpZ24oe1xuICBiYXRjaGVkVXBkYXRlczogdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgY29sb3JzXG59KTtcbnZhciBob3N0ID0gY3JlYXRlSG9zdChwcmltaXRpdmVzLCB7XG4gIGFwcGx5QW5pbWF0ZWRWYWx1ZXMsXG4gIGNyZWF0ZUFuaW1hdGVkU3R5bGU6IChzdHlsZSkgPT4gbmV3IEFuaW1hdGVkU3R5bGUoc3R5bGUpLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIGdldENvbXBvbmVudFByb3BzOiAoeyBzY3JvbGxUb3AsIHNjcm9sbExlZnQsIC4uLnByb3BzIH0pID0+IHByb3BzXG59KTtcbnZhciBhbmltYXRlZCA9IGhvc3QuYW5pbWF0ZWQ7XG5leHBvcnQge1xuICBhbmltYXRlZCBhcyBhLFxuICBhbmltYXRlZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcy5tYXAiLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJndW1lbnRzKTtcbiAgfTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbmNvbnN0IHt0b1N0cmluZ30gPSBPYmplY3QucHJvdG90eXBlO1xuY29uc3Qge2dldFByb3RvdHlwZU9mfSA9IE9iamVjdDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn1cblxuY29uc3QgdHlwZU9mVGVzdCA9IHR5cGUgPT4gdGhpbmcgPT4gdHlwZW9mIHRoaW5nID09PSB0eXBlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSB0eXBlT2ZUZXN0KCd1bmRlZmluZWQnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcikgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyaW5nID0gdHlwZU9mVGVzdCgnc3RyaW5nJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGdW5jdGlvbiA9IHR5cGVPZlRlc3QoJ2Z1bmN0aW9uJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNOdW1iZXIgPSB0eXBlT2ZUZXN0KCdudW1iZXInKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodGhpbmcpID0+IHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCb29sZWFuXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCb29sZWFuLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCb29sZWFuID0gdGhpbmcgPT4gdGhpbmcgPT09IHRydWUgfHwgdGhpbmcgPT09IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gKHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSkgPT09IG51bGwpICYmICEoU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgbGV0IGtpbmQ7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fCAoXG4gICAgICBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgKFxuICAgICAgICAoa2luZCA9IGtpbmRPZih0aGluZykpID09PSAnZm9ybWRhdGEnIHx8XG4gICAgICAgIC8vIGRldGVjdCBmb3JtLWRhdGEgaW5zdGFuY2VcbiAgICAgICAgKGtpbmQgPT09ICdvYmplY3QnICYmIGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEZvcm1EYXRhXScpXG4gICAgICApXG4gICAgKVxuICApXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG5jb25zdCBbaXNSZWFkYWJsZVN0cmVhbSwgaXNSZXF1ZXN0LCBpc1Jlc3BvbnNlLCBpc0hlYWRlcnNdID0gWydSZWFkYWJsZVN0cmVhbScsICdSZXF1ZXN0JywgJ1Jlc3BvbnNlJywgJ0hlYWRlcnMnXS5tYXAoa2luZE9mVGVzdCk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmNvbnN0IHRyaW0gPSAoc3RyKSA9PiBzdHIudHJpbSA/XG4gIHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXMgPSBmYWxzZV1cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbiwge2FsbE93bktleXMgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpO1xuICBsZXQgbDtcblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAoaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGFyZ3VtZW50c1tpXSAmJiBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzXVxuICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5jb25zdCBleHRlbmQgPSAoYSwgYiwgdGhpc0FyZywge2FsbE93bktleXN9PSB7fSkgPT4ge1xuICBmb3JFYWNoKGIsICh2YWwsIGtleSkgPT4ge1xuICAgIGlmICh0aGlzQXJnICYmIGlzRnVuY3Rpb24odmFsKSkge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9LCB7YWxsT3duS2V5c30pO1xuICByZXR1cm4gYTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYnl0ZSBvcmRlciBtYXJrZXIuIFRoaXMgY2F0Y2hlcyBFRiBCQiBCRiAodGhlIFVURi04IEJPTSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCB3aXRoIEJPTVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGNvbnRlbnQgdmFsdWUgd2l0aG91dCBCT01cbiAqL1xuY29uc3Qgc3RyaXBCT00gPSAoY29udGVudCkgPT4ge1xuICBpZiAoY29udGVudC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW3Byb3BzXVxuICogQHBhcmFtIHtvYmplY3R9IFtkZXNjcmlwdG9yc11cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgaW5oZXJpdHMgPSAoY29uc3RydWN0b3IsIHN1cGVyQ29uc3RydWN0b3IsIHByb3BzLCBkZXNjcmlwdG9ycykgPT4ge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlLCBkZXNjcmlwdG9ycyk7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsICdzdXBlcicsIHtcbiAgICB2YWx1ZTogc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGVcbiAgfSk7XG4gIHByb3BzICYmIE9iamVjdC5hc3NpZ24oY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wcyk7XG59XG5cbi8qKlxuICogUmVzb2x2ZSBvYmplY3Qgd2l0aCBkZWVwIHByb3RvdHlwZSBjaGFpbiB0byBhIGZsYXQgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlT2JqIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGVzdE9ial1cbiAqIEBwYXJhbSB7RnVuY3Rpb258Qm9vbGVhbn0gW2ZpbHRlcl1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wRmlsdGVyXVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmNvbnN0IHRvRmxhdE9iamVjdCA9IChzb3VyY2VPYmosIGRlc3RPYmosIGZpbHRlciwgcHJvcEZpbHRlcikgPT4ge1xuICBsZXQgcHJvcHM7XG4gIGxldCBpO1xuICBsZXQgcHJvcDtcbiAgY29uc3QgbWVyZ2VkID0ge307XG5cbiAgZGVzdE9iaiA9IGRlc3RPYmogfHwge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBpZiAoc291cmNlT2JqID09IG51bGwpIHJldHVybiBkZXN0T2JqO1xuXG4gIGRvIHtcbiAgICBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZU9iaik7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKCghcHJvcEZpbHRlciB8fCBwcm9wRmlsdGVyKHByb3AsIHNvdXJjZU9iaiwgZGVzdE9iaikpICYmICFtZXJnZWRbcHJvcF0pIHtcbiAgICAgICAgZGVzdE9ialtwcm9wXSA9IHNvdXJjZU9ialtwcm9wXTtcbiAgICAgICAgbWVyZ2VkW3Byb3BdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc291cmNlT2JqID0gZmlsdGVyICE9PSBmYWxzZSAmJiBnZXRQcm90b3R5cGVPZihzb3VyY2VPYmopO1xuICB9IHdoaWxlIChzb3VyY2VPYmogJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKHNvdXJjZU9iaiwgZGVzdE9iaikpICYmIHNvdXJjZU9iaiAhPT0gT2JqZWN0LnByb3RvdHlwZSk7XG5cbiAgcmV0dXJuIGRlc3RPYmo7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgc3RyaW5nIGVuZHMgd2l0aCB0aGUgY2hhcmFjdGVycyBvZiBhIHNwZWNpZmllZCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nXG4gKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uPSAwXVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBlbmRzV2l0aCA9IChzdHIsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pID0+IHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID4gc3RyLmxlbmd0aCkge1xuICAgIHBvc2l0aW9uID0gc3RyLmxlbmd0aDtcbiAgfVxuICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICBjb25zdCBsYXN0SW5kZXggPSBzdHIuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKTtcbiAgcmV0dXJuIGxhc3RJbmRleCAhPT0gLTEgJiYgbGFzdEluZGV4ID09PSBwb3NpdGlvbjtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgbmV3IGFycmF5IGZyb20gYXJyYXkgbGlrZSBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqXG4gKiBAcGFyYW0geyp9IFt0aGluZ11cbiAqXG4gKiBAcmV0dXJucyB7P0FycmF5fVxuICovXG5jb25zdCB0b0FycmF5ID0gKHRoaW5nKSA9PiB7XG4gIGlmICghdGhpbmcpIHJldHVybiBudWxsO1xuICBpZiAoaXNBcnJheSh0aGluZykpIHJldHVybiB0aGluZztcbiAgbGV0IGkgPSB0aGluZy5sZW5ndGg7XG4gIGlmICghaXNOdW1iZXIoaSkpIHJldHVybiBudWxsO1xuICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgYXJyW2ldID0gdGhpbmdbaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuLyoqXG4gKiBDaGVja2luZyBpZiB0aGUgVWludDhBcnJheSBleGlzdHMgYW5kIGlmIGl0IGRvZXMsIGl0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGVcbiAqIHRoaW5nIHBhc3NlZCBpbiBpcyBhbiBpbnN0YW5jZSBvZiBVaW50OEFycmF5XG4gKlxuICogQHBhcmFtIHtUeXBlZEFycmF5fVxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbmNvbnN0IGlzVHlwZWRBcnJheSA9IChUeXBlZEFycmF5ID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIHRoaW5nID0+IHtcbiAgICByZXR1cm4gVHlwZWRBcnJheSAmJiB0aGluZyBpbnN0YW5jZW9mIFR5cGVkQXJyYXk7XG4gIH07XG59KSh0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheSkpO1xuXG4vKipcbiAqIEZvciBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QsIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGtleSBhbmQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZW50cnkuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGZvckVhY2hFbnRyeSA9IChvYmosIGZuKSA9PiB7XG4gIGNvbnN0IGdlbmVyYXRvciA9IG9iaiAmJiBvYmpbU3ltYm9sLml0ZXJhdG9yXTtcblxuICBjb25zdCBpdGVyYXRvciA9IGdlbmVyYXRvci5jYWxsKG9iaik7XG5cbiAgbGV0IHJlc3VsdDtcblxuICB3aGlsZSAoKHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKSkgJiYgIXJlc3VsdC5kb25lKSB7XG4gICAgY29uc3QgcGFpciA9IHJlc3VsdC52YWx1ZTtcbiAgICBmbi5jYWxsKG9iaiwgcGFpclswXSwgcGFpclsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgYSBzdHJpbmcsIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdFeHAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBzZWFyY2guXG4gKlxuICogQHJldHVybnMge0FycmF5PGJvb2xlYW4+fVxuICovXG5jb25zdCBtYXRjaEFsbCA9IChyZWdFeHAsIHN0cikgPT4ge1xuICBsZXQgbWF0Y2hlcztcbiAgY29uc3QgYXJyID0gW107XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnRXhwLmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICBhcnIucHVzaChtYXRjaGVzKTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBsZXQgcmV0O1xuICAgIGlmICgocmV0ID0gcmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopKSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlZHVjZWREZXNjcmlwdG9yc1tuYW1lXSA9IHJldCB8fCBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufVxuXG4vKipcbiAqIE1ha2VzIGFsbCBtZXRob2RzIHJlYWQtb25seVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICovXG5cbmNvbnN0IGZyZWV6ZU1ldGhvZHMgPSAob2JqKSA9PiB7XG4gIHJlZHVjZURlc2NyaXB0b3JzKG9iaiwgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICAvLyBza2lwIHJlc3RyaWN0ZWQgcHJvcHMgaW4gc3RyaWN0IG1vZGVcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopICYmIFsnYXJndW1lbnRzJywgJ2NhbGxlcicsICdjYWxsZWUnXS5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gb2JqW25hbWVdO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZmFsc2U7XG5cbiAgICBpZiAoJ3dyaXRhYmxlJyBpbiBkZXNjcmlwdG9yKSB7XG4gICAgICBkZXNjcmlwdG9yLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW4gbm90IHJld3JpdGUgcmVhZC1vbmx5IG1ldGhvZCBcXCcnICsgbmFtZSArICdcXCcnKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgdG9PYmplY3RTZXQgPSAoYXJyYXlPclN0cmluZywgZGVsaW1pdGVyKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuXG4gIGNvbnN0IGRlZmluZSA9IChhcnIpID0+IHtcbiAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fVxuXG5jb25zdCB0b0Zpbml0ZU51bWJlciA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSA9ICt2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgdGhpbmcgaXMgYSBGb3JtRGF0YSBvYmplY3QsIHJldHVybiB0cnVlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB7dW5rbm93bn0gdGhpbmcgLSBUaGUgdGhpbmcgdG8gY2hlY2suXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzU3BlY0NvbXBsaWFudEZvcm0odGhpbmcpIHtcbiAgcmV0dXJuICEhKHRoaW5nICYmIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiB0aGluZ1tTeW1ib2wudG9TdHJpbmdUYWddID09PSAnRm9ybURhdGEnICYmIHRoaW5nW1N5bWJvbC5pdGVyYXRvcl0pO1xufVxuXG5jb25zdCB0b0pTT05PYmplY3QgPSAob2JqKSA9PiB7XG4gIGNvbnN0IHN0YWNrID0gbmV3IEFycmF5KDEwKTtcblxuICBjb25zdCB2aXNpdCA9IChzb3VyY2UsIGkpID0+IHtcblxuICAgIGlmIChpc09iamVjdChzb3VyY2UpKSB7XG4gICAgICBpZiAoc3RhY2suaW5kZXhPZihzb3VyY2UpID49IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZighKCd0b0pTT04nIGluIHNvdXJjZSkpIHtcbiAgICAgICAgc3RhY2tbaV0gPSBzb3VyY2U7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG5cbiAgICAgICAgZm9yRWFjaChzb3VyY2UsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVkdWNlZFZhbHVlID0gdmlzaXQodmFsdWUsIGkgKyAxKTtcbiAgICAgICAgICAhaXNVbmRlZmluZWQocmVkdWNlZFZhbHVlKSAmJiAodGFyZ2V0W2tleV0gPSByZWR1Y2VkVmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBzdGFja1tpXSA9IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICByZXR1cm4gdmlzaXQob2JqLCAwKTtcbn1cblxuY29uc3QgaXNBc3luY0ZuID0ga2luZE9mVGVzdCgnQXN5bmNGdW5jdGlvbicpO1xuXG5jb25zdCBpc1RoZW5hYmxlID0gKHRoaW5nKSA9PlxuICB0aGluZyAmJiAoaXNPYmplY3QodGhpbmcpIHx8IGlzRnVuY3Rpb24odGhpbmcpKSAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRoZW4pICYmIGlzRnVuY3Rpb24odGhpbmcuY2F0Y2gpO1xuXG4vLyBvcmlnaW5hbCBjb2RlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vRGlnaXRhbEJyYWluSlMvQXhpb3NQcm9taXNlL2Jsb2IvMTZkZWFiMTM3MTBlYzA5Nzc5OTIyMTMxZjNmYTU5NTQzMjBmODNhYi9saWIvdXRpbHMuanMjTDExLUwzNFxuXG5jb25zdCBfc2V0SW1tZWRpYXRlID0gKChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQsIHBvc3RNZXNzYWdlU3VwcG9ydGVkKSA9PiB7XG4gIGlmIChzZXRJbW1lZGlhdGVTdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gc2V0SW1tZWRpYXRlO1xuICB9XG5cbiAgcmV0dXJuIHBvc3RNZXNzYWdlU3VwcG9ydGVkID8gKCh0b2tlbiwgY2FsbGJhY2tzKSA9PiB7XG4gICAgX2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoe3NvdXJjZSwgZGF0YX0pID0+IHtcbiAgICAgIGlmIChzb3VyY2UgPT09IF9nbG9iYWwgJiYgZGF0YSA9PT0gdG9rZW4pIHtcbiAgICAgICAgY2FsbGJhY2tzLmxlbmd0aCAmJiBjYWxsYmFja3Muc2hpZnQoKSgpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcblxuICAgIHJldHVybiAoY2IpID0+IHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgICAgIF9nbG9iYWwucG9zdE1lc3NhZ2UodG9rZW4sIFwiKlwiKTtcbiAgICB9XG4gIH0pKGBheGlvc0Ake01hdGgucmFuZG9tKCl9YCwgW10pIDogKGNiKSA9PiBzZXRUaW1lb3V0KGNiKTtcbn0pKFxuICB0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nLFxuICBpc0Z1bmN0aW9uKF9nbG9iYWwucG9zdE1lc3NhZ2UpXG4pO1xuXG5jb25zdCBhc2FwID0gdHlwZW9mIHF1ZXVlTWljcm90YXNrICE9PSAndW5kZWZpbmVkJyA/XG4gIHF1ZXVlTWljcm90YXNrLmJpbmQoX2dsb2JhbCkgOiAoIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLm5leHRUaWNrIHx8IF9zZXRJbW1lZGlhdGUpO1xuXG4vLyAqKioqKioqKioqKioqKioqKioqKipcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0FycmF5LFxuICBpc0FycmF5QnVmZmVyLFxuICBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nLFxuICBpc051bWJlcixcbiAgaXNCb29sZWFuLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNSZWFkYWJsZVN0cmVhbSxcbiAgaXNSZXF1ZXN0LFxuICBpc1Jlc3BvbnNlLFxuICBpc0hlYWRlcnMsXG4gIGlzVW5kZWZpbmVkLFxuICBpc0RhdGUsXG4gIGlzRmlsZSxcbiAgaXNCbG9iLFxuICBpc1JlZ0V4cCxcbiAgaXNGdW5jdGlvbixcbiAgaXNTdHJlYW0sXG4gIGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1R5cGVkQXJyYXksXG4gIGlzRmlsZUxpc3QsXG4gIGZvckVhY2gsXG4gIG1lcmdlLFxuICBleHRlbmQsXG4gIHRyaW0sXG4gIHN0cmlwQk9NLFxuICBpbmhlcml0cyxcbiAgdG9GbGF0T2JqZWN0LFxuICBraW5kT2YsXG4gIGtpbmRPZlRlc3QsXG4gIGVuZHNXaXRoLFxuICB0b0FycmF5LFxuICBmb3JFYWNoRW50cnksXG4gIG1hdGNoQWxsLFxuICBpc0hUTUxGb3JtLFxuICBoYXNPd25Qcm9wZXJ0eSxcbiAgaGFzT3duUHJvcDogaGFzT3duUHJvcGVydHksIC8vIGFuIGFsaWFzIHRvIGF2b2lkIEVTTGludCBuby1wcm90b3R5cGUtYnVpbHRpbnMgZGV0ZWN0aW9uXG4gIHJlZHVjZURlc2NyaXB0b3JzLFxuICBmcmVlemVNZXRob2RzLFxuICB0b09iamVjdFNldCxcbiAgdG9DYW1lbENhc2UsXG4gIG5vb3AsXG4gIHRvRmluaXRlTnVtYmVyLFxuICBmaW5kS2V5LFxuICBnbG9iYWw6IF9nbG9iYWwsXG4gIGlzQ29udGV4dERlZmluZWQsXG4gIGlzU3BlY0NvbXBsaWFudEZvcm0sXG4gIHRvSlNPTk9iamVjdCxcbiAgaXNBc3luY0ZuLFxuICBpc1RoZW5hYmxlLFxuICBzZXRJbW1lZGlhdGU6IF9zZXRJbW1lZGlhdGUsXG4gIGFzYXBcbn07XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gRXJyb3Igd2l0aCB0aGUgc3BlY2lmaWVkIG1lc3NhZ2UsIGNvbmZpZywgZXJyb3IgY29kZSwgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgVGhlIGVycm9yIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvZGVdIFRoZSBlcnJvciBjb2RlIChmb3IgZXhhbXBsZSwgJ0VDT05OQUJPUlRFRCcpLlxuICogQHBhcmFtIHtPYmplY3R9IFtjb25maWddIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIEF4aW9zRXJyb3IobWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSkge1xuICBFcnJvci5jYWxsKHRoaXMpO1xuXG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5uYW1lID0gJ0F4aW9zRXJyb3InO1xuICBjb2RlICYmICh0aGlzLmNvZGUgPSBjb2RlKTtcbiAgY29uZmlnICYmICh0aGlzLmNvbmZpZyA9IGNvbmZpZyk7XG4gIHJlcXVlc3QgJiYgKHRoaXMucmVxdWVzdCA9IHJlcXVlc3QpO1xuICBpZiAocmVzcG9uc2UpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXMgPyByZXNwb25zZS5zdGF0dXMgOiBudWxsO1xuICB9XG59XG5cbnV0aWxzLmluaGVyaXRzKEF4aW9zRXJyb3IsIEVycm9yLCB7XG4gIHRvSlNPTjogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBTdGFuZGFyZFxuICAgICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgLy8gTWljcm9zb2Z0XG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgIG51bWJlcjogdGhpcy5udW1iZXIsXG4gICAgICAvLyBNb3ppbGxhXG4gICAgICBmaWxlTmFtZTogdGhpcy5maWxlTmFtZSxcbiAgICAgIGxpbmVOdW1iZXI6IHRoaXMubGluZU51bWJlcixcbiAgICAgIGNvbHVtbk51bWJlcjogdGhpcy5jb2x1bW5OdW1iZXIsXG4gICAgICBzdGFjazogdGhpcy5zdGFjayxcbiAgICAgIC8vIEF4aW9zXG4gICAgICBjb25maWc6IHV0aWxzLnRvSlNPTk9iamVjdCh0aGlzLmNvbmZpZyksXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zRXJyb3IucHJvdG90eXBlO1xuY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcblxuW1xuICAnRVJSX0JBRF9PUFRJT05fVkFMVUUnLFxuICAnRVJSX0JBRF9PUFRJT04nLFxuICAnRUNPTk5BQk9SVEVEJyxcbiAgJ0VUSU1FRE9VVCcsXG4gICdFUlJfTkVUV09SSycsXG4gICdFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTJyxcbiAgJ0VSUl9ERVBSRUNBVEVEJyxcbiAgJ0VSUl9CQURfUkVTUE9OU0UnLFxuICAnRVJSX0JBRF9SRVFVRVNUJyxcbiAgJ0VSUl9DQU5DRUxFRCcsXG4gICdFUlJfTk9UX1NVUFBPUlQnLFxuICAnRVJSX0lOVkFMSURfVVJMJ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbl0uZm9yRWFjaChjb2RlID0+IHtcbiAgZGVzY3JpcHRvcnNbY29kZV0gPSB7dmFsdWU6IGNvZGV9O1xufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IChlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpID0+IHtcbiAgY29uc3QgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIGVycm9yLm1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpO1xuXG4gIGF4aW9zRXJyb3IuY2F1c2UgPSBlcnJvcjtcblxuICBheGlvc0Vycm9yLm5hbWUgPSBlcnJvci5uYW1lO1xuXG4gIGN1c3RvbVByb3BzICYmIE9iamVjdC5hc3NpZ24oYXhpb3NFcnJvciwgY3VzdG9tUHJvcHMpO1xuXG4gIHJldHVybiBheGlvc0Vycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NFcnJvcjtcbiIsCiAgICAiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHN0cmljdFxuZXhwb3J0IGRlZmF1bHQgbnVsbDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbi8vIHRlbXBvcmFyeSBob3RmaXggdG8gYXZvaWQgY2lyY3VsYXIgcmVmZXJlbmNlcyB1bnRpbCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBpcyByZWZhY3RvcmVkXG5pbXBvcnQgUGxhdGZvcm1Gb3JtRGF0YSBmcm9tICcuLi9wbGF0Zm9ybS9ub2RlL2NsYXNzZXMvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHRoaW5nIGlzIGEgYXJyYXkgb3IganMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGluZyAtIFRoZSBvYmplY3Qgb3IgYXJyYXkgdG8gYmUgdmlzaXRlZC5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWaXNpdGFibGUodGhpbmcpIHtcbiAgcmV0dXJuIHV0aWxzLmlzUGxhaW5PYmplY3QodGhpbmcpIHx8IHV0aWxzLmlzQXJyYXkodGhpbmcpO1xufVxuXG4vKipcbiAqIEl0IHJlbW92ZXMgdGhlIGJyYWNrZXRzIGZyb20gdGhlIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gdGhlIGtleSB3aXRob3V0IHRoZSBicmFja2V0cy5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnJhY2tldHMoa2V5KSB7XG4gIHJldHVybiB1dGlscy5lbmRzV2l0aChrZXksICdbXScpID8ga2V5LnNsaWNlKDAsIC0yKSA6IGtleTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhdGgsIGEga2V5LCBhbmQgYSBib29sZWFuLCBhbmQgcmV0dXJucyBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IGJlaW5nIGl0ZXJhdGVkIG92ZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gZG90cyAtIElmIHRydWUsIHRoZSBrZXkgd2lsbCBiZSByZW5kZXJlZCB3aXRoIGRvdHMgaW5zdGVhZCBvZiBicmFja2V0cy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpIHtcbiAgaWYgKCFwYXRoKSByZXR1cm4ga2V5O1xuICByZXR1cm4gcGF0aC5jb25jYXQoa2V5KS5tYXAoZnVuY3Rpb24gZWFjaCh0b2tlbiwgaSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRva2VuID0gcmVtb3ZlQnJhY2tldHModG9rZW4pO1xuICAgIHJldHVybiAhZG90cyAmJiBpID8gJ1snICsgdG9rZW4gKyAnXScgOiB0b2tlbjtcbiAgfSkuam9pbihkb3RzID8gJy4nIDogJycpO1xufVxuXG4vKipcbiAqIElmIHRoZSBhcnJheSBpcyBhbiBhcnJheSBhbmQgbm9uZSBvZiBpdHMgZWxlbWVudHMgYXJlIHZpc2l0YWJsZSwgdGhlbiBpdCdzIGEgZmxhdCBhcnJheS5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjaGVja1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc0ZsYXRBcnJheShhcnIpIHtcbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkoYXJyKSAmJiAhYXJyLnNvbWUoaXNWaXNpdGFibGUpO1xufVxuXG5jb25zdCBwcmVkaWNhdGVzID0gdXRpbHMudG9GbGF0T2JqZWN0KHV0aWxzLCB7fSwgbnVsbCwgZnVuY3Rpb24gZmlsdGVyKHByb3ApIHtcbiAgcmV0dXJuIC9eaXNbQS1aXS8udGVzdChwcm9wKTtcbn0pO1xuXG4vKipcbiAqIENvbnZlcnQgYSBkYXRhIG9iamVjdCB0byBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7P09iamVjdH0gW2Zvcm1EYXRhXVxuICogQHBhcmFtIHs/T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLnZpc2l0b3JdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLm1ldGFUb2tlbnMgPSB0cnVlXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kb3RzID0gZmFsc2VdXG4gKiBAcGFyYW0gez9Cb29sZWFufSBbb3B0aW9ucy5pbmRleGVzID0gZmFsc2VdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqKi9cblxuLyoqXG4gKiBJdCBjb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBjb252ZXJ0IHRvIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSAtIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gYXBwZW5kIHRvLlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zXG4gKlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gdG9Gb3JtRGF0YShvYmosIGZvcm1EYXRhLCBvcHRpb25zKSB7XG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3RhcmdldCBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGZvcm1EYXRhID0gZm9ybURhdGEgfHwgbmV3IChQbGF0Zm9ybUZvcm1EYXRhIHx8IEZvcm1EYXRhKSgpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBvcHRpb25zID0gdXRpbHMudG9GbGF0T2JqZWN0KG9wdGlvbnMsIHtcbiAgICBtZXRhVG9rZW5zOiB0cnVlLFxuICAgIGRvdHM6IGZhbHNlLFxuICAgIGluZGV4ZXM6IGZhbHNlXG4gIH0sIGZhbHNlLCBmdW5jdGlvbiBkZWZpbmVkKG9wdGlvbiwgc291cmNlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgcmV0dXJuICF1dGlscy5pc1VuZGVmaW5lZChzb3VyY2Vbb3B0aW9uXSk7XG4gIH0pO1xuXG4gIGNvbnN0IG1ldGFUb2tlbnMgPSBvcHRpb25zLm1ldGFUb2tlbnM7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2UtYmVmb3JlLWRlZmluZVxuICBjb25zdCB2aXNpdG9yID0gb3B0aW9ucy52aXNpdG9yIHx8IGRlZmF1bHRWaXNpdG9yO1xuICBjb25zdCBkb3RzID0gb3B0aW9ucy5kb3RzO1xuICBjb25zdCBpbmRleGVzID0gb3B0aW9ucy5pbmRleGVzO1xuICBjb25zdCBfQmxvYiA9IG9wdGlvbnMuQmxvYiB8fCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgQmxvYjtcbiAgY29uc3QgdXNlQmxvYiA9IF9CbG9iICYmIHV0aWxzLmlzU3BlY0NvbXBsaWFudEZvcm0oZm9ybURhdGEpO1xuXG4gIGlmICghdXRpbHMuaXNGdW5jdGlvbih2aXNpdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3Zpc2l0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb252ZXJ0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnJztcblxuICAgIGlmICh1dGlscy5pc0RhdGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoIXVzZUJsb2IgJiYgdXRpbHMuaXNCbG9iKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ0Jsb2IgaXMgbm90IHN1cHBvcnRlZC4gVXNlIGEgQnVmZmVyIGluc3RlYWQuJyk7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIodmFsdWUpIHx8IHV0aWxzLmlzVHlwZWRBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB1c2VCbG9iICYmIHR5cGVvZiBCbG9iID09PSAnZnVuY3Rpb24nID8gbmV3IEJsb2IoW3ZhbHVlXSkgOiBCdWZmZXIuZnJvbSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgdmlzaXRvci5cbiAgICpcbiAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IGtleVxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xOdW1iZXI+fSBwYXRoXG4gICAqIEB0aGlzIHtGb3JtRGF0YX1cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IHJldHVybiB0cnVlIHRvIHZpc2l0IHRoZSBlYWNoIHByb3Agb2YgdGhlIHZhbHVlIHJlY3Vyc2l2ZWx5XG4gICAqL1xuICBmdW5jdGlvbiBkZWZhdWx0VmlzaXRvcih2YWx1ZSwga2V5LCBwYXRoKSB7XG4gICAgbGV0IGFyciA9IHZhbHVlO1xuXG4gICAgaWYgKHZhbHVlICYmICFwYXRoICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh1dGlscy5lbmRzV2l0aChrZXksICd7fScpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSBtZXRhVG9rZW5zID8ga2V5IDoga2V5LnNsaWNlKDAsIC0yKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKHV0aWxzLmlzQXJyYXkodmFsdWUpICYmIGlzRmxhdEFycmF5KHZhbHVlKSkgfHxcbiAgICAgICAgKCh1dGlscy5pc0ZpbGVMaXN0KHZhbHVlKSB8fCB1dGlscy5lbmRzV2l0aChrZXksICdbXScpKSAmJiAoYXJyID0gdXRpbHMudG9BcnJheSh2YWx1ZSkpXG4gICAgICAgICkpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IHJlbW92ZUJyYWNrZXRzKGtleSk7XG5cbiAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24gZWFjaChlbCwgaW5kZXgpIHtcbiAgICAgICAgICAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5lc3RlZC10ZXJuYXJ5XG4gICAgICAgICAgICBpbmRleGVzID09PSB0cnVlID8gcmVuZGVyS2V5KFtrZXldLCBpbmRleCwgZG90cykgOiAoaW5kZXhlcyA9PT0gbnVsbCA/IGtleSA6IGtleSArICdbXScpLFxuICAgICAgICAgICAgY29udmVydFZhbHVlKGVsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzVmlzaXRhYmxlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZm9ybURhdGEuYXBwZW5kKHJlbmRlcktleShwYXRoLCBrZXksIGRvdHMpLCBjb252ZXJ0VmFsdWUodmFsdWUpKTtcblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHN0YWNrID0gW107XG5cbiAgY29uc3QgZXhwb3NlZEhlbHBlcnMgPSBPYmplY3QuYXNzaWduKHByZWRpY2F0ZXMsIHtcbiAgICBkZWZhdWx0VmlzaXRvcixcbiAgICBjb252ZXJ0VmFsdWUsXG4gICAgaXNWaXNpdGFibGVcbiAgfSk7XG5cbiAgZnVuY3Rpb24gYnVpbGQodmFsdWUsIHBhdGgpIHtcbiAgICBpZiAodXRpbHMuaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XG5cbiAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICB0aHJvdyBFcnJvcignQ2lyY3VsYXIgcmVmZXJlbmNlIGRldGVjdGVkIGluICcgKyBwYXRoLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiBlYWNoKGVsLCBrZXkpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9ICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiB2aXNpdG9yLmNhbGwoXG4gICAgICAgIGZvcm1EYXRhLCBlbCwgdXRpbHMuaXNTdHJpbmcoa2V5KSA/IGtleS50cmltKCkgOiBrZXksIHBhdGgsIGV4cG9zZWRIZWxwZXJzXG4gICAgICApO1xuXG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIGJ1aWxkKGVsLCBwYXRoID8gcGF0aC5jb25jYXQoa2V5KSA6IFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0YWNrLnBvcCgpO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZGF0YSBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG5cbiAgYnVpbGQob2JqKTtcblxuICByZXR1cm4gZm9ybURhdGE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRvRm9ybURhdGE7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi90b0Zvcm1EYXRhLmpzJztcblxuLyoqXG4gKiBJdCBlbmNvZGVzIGEgc3RyaW5nIGJ5IHJlcGxhY2luZyBhbGwgY2hhcmFjdGVycyB0aGF0IGFyZSBub3QgaW4gdGhlIHVucmVzZXJ2ZWQgc2V0IHdpdGhcbiAqIHRoZWlyIHBlcmNlbnQtZW5jb2RlZCBlcXVpdmFsZW50c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIGVuY29kZS5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZShzdHIpIHtcbiAgY29uc3QgY2hhck1hcCA9IHtcbiAgICAnISc6ICclMjEnLFxuICAgIFwiJ1wiOiAnJTI3JyxcbiAgICAnKCc6ICclMjgnLFxuICAgICcpJzogJyUyOScsXG4gICAgJ34nOiAnJTdFJyxcbiAgICAnJTIwJzogJysnLFxuICAgICclMDAnOiAnXFx4MDAnXG4gIH07XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyKS5yZXBsYWNlKC9bIScoKX5dfCUyMHwlMDAvZywgZnVuY3Rpb24gcmVwbGFjZXIobWF0Y2gpIHtcbiAgICByZXR1cm4gY2hhck1hcFttYXRjaF07XG4gIH0pO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGFyYW1zIG9iamVjdCBhbmQgY29udmVydHMgaXQgdG8gYSBGb3JtRGF0YSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIHRvIGJlIGNvbnZlcnRlZCB0byBhIEZvcm1EYXRhIG9iamVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIG9iamVjdCBwYXNzZWQgdG8gdGhlIEF4aW9zIGNvbnN0cnVjdG9yLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgdGhpcy5fcGFpcnMgPSBbXTtcblxuICBwYXJhbXMgJiYgdG9Gb3JtRGF0YShwYXJhbXMsIHRoaXMsIG9wdGlvbnMpO1xufVxuXG5jb25zdCBwcm90b3R5cGUgPSBBeGlvc1VSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGU7XG5cbnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiBhcHBlbmQobmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5fcGFpcnMucHVzaChbbmFtZSwgdmFsdWVdKTtcbn07XG5cbnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKGVuY29kZXIpIHtcbiAgY29uc3QgX2VuY29kZSA9IGVuY29kZXIgPyBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBlbmNvZGVyLmNhbGwodGhpcywgdmFsdWUsIGVuY29kZSk7XG4gIH0gOiBlbmNvZGU7XG5cbiAgcmV0dXJuIHRoaXMuX3BhaXJzLm1hcChmdW5jdGlvbiBlYWNoKHBhaXIpIHtcbiAgICByZXR1cm4gX2VuY29kZShwYWlyWzBdKSArICc9JyArIF9lbmNvZGUocGFpclsxXSk7XG4gIH0sICcnKS5qb2luKCcmJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc1VSTFNlYXJjaFBhcmFtcztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7PyhvYmplY3R8RnVuY3Rpb24pfSBvcHRpb25zXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGZvcm1hdHRlZCB1cmxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBcbiAgY29uc3QgX2VuY29kZSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5lbmNvZGUgfHwgZW5jb2RlO1xuXG4gIGlmICh1dGlscy5pc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucyA9IHtcbiAgICAgIHNlcmlhbGl6ZTogb3B0aW9uc1xuICAgIH07XG4gIH0gXG5cbiAgY29uc3Qgc2VyaWFsaXplRm4gPSBvcHRpb25zICYmIG9wdGlvbnMuc2VyaWFsaXplO1xuXG4gIGxldCBzZXJpYWxpemVkUGFyYW1zO1xuXG4gIGlmIChzZXJpYWxpemVGbikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBzZXJpYWxpemVGbihwYXJhbXMsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSB1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMpID9cbiAgICAgIHBhcmFtcy50b1N0cmluZygpIDpcbiAgICAgIG5ldyBBeGlvc1VSTFNlYXJjaFBhcmFtcyhwYXJhbXMsIG9wdGlvbnMpLnRvU3RyaW5nKF9lbmNvZGUpO1xuICB9XG5cbiAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMpIHtcbiAgICBjb25zdCBoYXNobWFya0luZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuXG4gICAgaWYgKGhhc2htYXJrSW5kZXggIT09IC0xKSB7XG4gICAgICB1cmwgPSB1cmwuc2xpY2UoMCwgaGFzaG1hcmtJbmRleCk7XG4gICAgfVxuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG5jbGFzcyBJbnRlcmNlcHRvck1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAgICovXG4gIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICAgIGZ1bGZpbGxlZCxcbiAgICAgIHJlamVjdGVkLFxuICAgICAgc3luY2hyb25vdXM6IG9wdGlvbnMgPyBvcHRpb25zLnN5bmNocm9ub3VzIDogZmFsc2UsXG4gICAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJjZXB0b3Igd2FzIHJlbW92ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBlamVjdChpZCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaW50ZXJjZXB0b3JzIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAgICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZm9yRWFjaChmbikge1xuICAgIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgICAgZm4oaCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2lsZW50SlNPTlBhcnNpbmc6IHRydWUsXG4gIGZvcmNlZEpTT05QYXJzaW5nOiB0cnVlLFxuICBjbGFyaWZ5VGltZW91dEVycm9yOiBmYWxzZVxufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vLi4vLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyA/IFVSTFNlYXJjaFBhcmFtcyA6IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgPyBGb3JtRGF0YSA6IG51bGw7XG4iLAogICAgIid1c2Ugc3RyaWN0J1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iIDogbnVsbFxuIiwKICAgICJpbXBvcnQgVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4vY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMnXG5pbXBvcnQgRm9ybURhdGEgZnJvbSAnLi9jbGFzc2VzL0Zvcm1EYXRhLmpzJ1xuaW1wb3J0IEJsb2IgZnJvbSAnLi9jbGFzc2VzL0Jsb2IuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBjbGFzc2VzOiB7XG4gICAgVVJMU2VhcmNoUGFyYW1zLFxuICAgIEZvcm1EYXRhLFxuICAgIEJsb2JcbiAgfSxcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScsICdibG9iJywgJ3VybCcsICdkYXRhJ11cbn07XG4iLAogICAgImNvbnN0IGhhc0Jyb3dzZXJFbnYgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG5jb25zdCBfbmF2aWdhdG9yID0gdHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcgJiYgbmF2aWdhdG9yIHx8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKiBuYXRpdmVzY3JpcHRcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnTmF0aXZlU2NyaXB0JyBvciAnTlMnXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlckVudiA9IGhhc0Jyb3dzZXJFbnYgJiZcbiAgKCFfbmF2aWdhdG9yIHx8IFsnUmVhY3ROYXRpdmUnLCAnTmF0aXZlU2NyaXB0JywgJ05TJ10uaW5kZXhPZihfbmF2aWdhdG9yLnByb2R1Y3QpIDwgMCk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIHdlYldvcmtlciBlbnZpcm9ubWVudFxuICpcbiAqIEFsdGhvdWdoIHRoZSBgaXNTdGFuZGFyZEJyb3dzZXJFbnZgIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdFxuICogYGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyYCwgdGhlIFdlYldvcmtlciB3aWxsIHN0aWxsIGJlXG4gKiBmaWx0ZXJlZCBvdXQgZHVlIHRvIGl0cyBqdWRnbWVudCBzdGFuZGFyZFxuICogYHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdgLlxuICogVGhpcyBsZWFkcyB0byBhIHByb2JsZW0gd2hlbiBheGlvcyBwb3N0IGBGb3JtRGF0YWAgaW4gd2ViV29ya2VyXG4gKi9cbmNvbnN0IGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiA9ICgoKSA9PiB7XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSAmJlxuICAgIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbidcbiAgKTtcbn0pKCk7XG5cbmNvbnN0IG9yaWdpbiA9IGhhc0Jyb3dzZXJFbnYgJiYgd2luZG93LmxvY2F0aW9uLmhyZWYgfHwgJ2h0dHA6Ly9sb2NhbGhvc3QnO1xuXG5leHBvcnQge1xuICBoYXNCcm93c2VyRW52LFxuICBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlckVudixcbiAgX25hdmlnYXRvciBhcyBuYXZpZ2F0b3IsXG4gIG9yaWdpblxufVxuIiwKICAgICJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi9ub2RlL2luZGV4LmpzJztcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gJy4vY29tbW9uL3V0aWxzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAuLi51dGlscyxcbiAgLi4ucGxhdGZvcm1cbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgb3B0aW9ucykge1xuICByZXR1cm4gdG9Gb3JtRGF0YShkYXRhLCBuZXcgcGxhdGZvcm0uY2xhc3Nlcy5VUkxTZWFyY2hQYXJhbXMoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgdmlzaXRvcjogZnVuY3Rpb24odmFsdWUsIGtleSwgcGF0aCwgaGVscGVycykge1xuICAgICAgaWYgKHBsYXRmb3JtLmlzTm9kZSAmJiB1dGlscy5pc0J1ZmZlcih2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5hcHBlbmQoa2V5LCB2YWx1ZS50b1N0cmluZygnYmFzZTY0JykpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoZWxwZXJzLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LCBvcHRpb25zKSk7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZyBsaWtlIGBmb29beF1beV1bel1gIGFuZCByZXR1cm5zIGFuIGFycmF5IGxpa2UgYFsnZm9vJywgJ3gnLCAneScsICd6J11cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKlxuICogQHJldHVybnMgQW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqL1xuZnVuY3Rpb24gcGFyc2VQcm9wUGF0aChuYW1lKSB7XG4gIC8vIGZvb1t4XVt5XVt6XVxuICAvLyBmb28ueC55LnpcbiAgLy8gZm9vLXgteS16XG4gIC8vIGZvbyB4IHkgelxuICByZXR1cm4gdXRpbHMubWF0Y2hBbGwoL1xcdyt8XFxbKFxcdyopXS9nLCBuYW1lKS5tYXAobWF0Y2ggPT4ge1xuICAgIHJldHVybiBtYXRjaFswXSA9PT0gJ1tdJyA/ICcnIDogbWF0Y2hbMV0gfHwgbWF0Y2hbMF07XG4gIH0pO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gYXJyYXkgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNvbnZlcnQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYW5kIHZhbHVlcyBhcyB0aGUgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5VG9PYmplY3QoYXJyKSB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYXJyKTtcbiAgbGV0IGk7XG4gIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICBsZXQga2V5O1xuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBrZXkgPSBrZXlzW2ldO1xuICAgIG9ialtrZXldID0gYXJyW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIEZvcm1EYXRhIG9iamVjdCBhbmQgcmV0dXJucyBhIEphdmFTY3JpcHQgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIFRoZSBGb3JtRGF0YSBvYmplY3QgdG8gY29udmVydCB0byBKU09OLlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3Q8c3RyaW5nLCBhbnk+IHwgbnVsbH0gVGhlIGNvbnZlcnRlZCBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGZvcm1EYXRhVG9KU09OKGZvcm1EYXRhKSB7XG4gIGZ1bmN0aW9uIGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0LCBpbmRleCkge1xuICAgIGxldCBuYW1lID0gcGF0aFtpbmRleCsrXTtcblxuICAgIGlmIChuYW1lID09PSAnX19wcm90b19fJykgcmV0dXJuIHRydWU7XG5cbiAgICBjb25zdCBpc051bWVyaWNLZXkgPSBOdW1iZXIuaXNGaW5pdGUoK25hbWUpO1xuICAgIGNvbnN0IGlzTGFzdCA9IGluZGV4ID49IHBhdGgubGVuZ3RoO1xuICAgIG5hbWUgPSAhbmFtZSAmJiB1dGlscy5pc0FycmF5KHRhcmdldCkgPyB0YXJnZXQubGVuZ3RoIDogbmFtZTtcblxuICAgIGlmIChpc0xhc3QpIHtcbiAgICAgIGlmICh1dGlscy5oYXNPd25Qcm9wKHRhcmdldCwgbmFtZSkpIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gW3RhcmdldFtuYW1lXSwgdmFsdWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W25hbWVdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICAgIH1cblxuICAgIGlmICghdGFyZ2V0W25hbWVdIHx8ICF1dGlscy5pc09iamVjdCh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldFtuYW1lXSwgaW5kZXgpO1xuXG4gICAgaWYgKHJlc3VsdCAmJiB1dGlscy5pc0FycmF5KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IGFycmF5VG9PYmplY3QodGFyZ2V0W25hbWVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc0Zvcm1EYXRhKGZvcm1EYXRhKSAmJiB1dGlscy5pc0Z1bmN0aW9uKGZvcm1EYXRhLmVudHJpZXMpKSB7XG4gICAgY29uc3Qgb2JqID0ge307XG5cbiAgICB1dGlscy5mb3JFYWNoRW50cnkoZm9ybURhdGEsIChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgICAgYnVpbGRQYXRoKHBhcnNlUHJvcFBhdGgobmFtZSksIHZhbHVlLCBvYmosIDApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmb3JtRGF0YVRvSlNPTjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCB0cmFuc2l0aW9uYWxEZWZhdWx0cyBmcm9tICcuL3RyYW5zaXRpb25hbC5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuLi9oZWxwZXJzL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IHRvVVJMRW5jb2RlZEZvcm0gZnJvbSAnLi4vaGVscGVycy90b1VSTEVuY29kZWRGb3JtLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5pbXBvcnQgZm9ybURhdGFUb0pTT04gZnJvbSAnLi4vaGVscGVycy9mb3JtRGF0YVRvSlNPTi5qcyc7XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcsIHRyaWVzIHRvIHBhcnNlIGl0LCBhbmQgaWYgaXQgZmFpbHMsIGl0IHJldHVybnMgdGhlIHN0cmluZ2lmaWVkIHZlcnNpb25cbiAqIG9mIHRoZSBpbnB1dFxuICpcbiAqIEBwYXJhbSB7YW55fSByYXdWYWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBzdHJpbmdpZmllZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhcnNlciAtIEEgZnVuY3Rpb24gdGhhdCBwYXJzZXMgYSBzdHJpbmcgaW50byBhIEphdmFTY3JpcHQgb2JqZWN0LlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZW5jb2RlciAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHZhbHVlIGFuZCByZXR1cm5zIGEgc3RyaW5nLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEEgc3RyaW5naWZpZWQgdmVyc2lvbiBvZiB0aGUgcmF3VmFsdWUuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVNhZmVseShyYXdWYWx1ZSwgcGFyc2VyLCBlbmNvZGVyKSB7XG4gIGlmICh1dGlscy5pc1N0cmluZyhyYXdWYWx1ZSkpIHtcbiAgICB0cnkge1xuICAgICAgKHBhcnNlciB8fCBKU09OLnBhcnNlKShyYXdWYWx1ZSk7XG4gICAgICByZXR1cm4gdXRpbHMudHJpbShyYXdWYWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGUubmFtZSAhPT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoZW5jb2RlciB8fCBKU09OLnN0cmluZ2lmeSkocmF3VmFsdWUpO1xufVxuXG5jb25zdCBkZWZhdWx0cyA9IHtcblxuICB0cmFuc2l0aW9uYWw6IHRyYW5zaXRpb25hbERlZmF1bHRzLFxuXG4gIGFkYXB0ZXI6IFsneGhyJywgJ2h0dHAnLCAnZmV0Y2gnXSxcblxuICB0cmFuc2Zvcm1SZXF1ZXN0OiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVxdWVzdChkYXRhLCBoZWFkZXJzKSB7XG4gICAgY29uc3QgY29udGVudFR5cGUgPSBoZWFkZXJzLmdldENvbnRlbnRUeXBlKCkgfHwgJyc7XG4gICAgY29uc3QgaGFzSlNPTkNvbnRlbnRUeXBlID0gY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24vanNvbicpID4gLTE7XG4gICAgY29uc3QgaXNPYmplY3RQYXlsb2FkID0gdXRpbHMuaXNPYmplY3QoZGF0YSk7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkICYmIHV0aWxzLmlzSFRNTEZvcm0oZGF0YSkpIHtcbiAgICAgIGRhdGEgPSBuZXcgRm9ybURhdGEoZGF0YSk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNGb3JtRGF0YSA9IHV0aWxzLmlzRm9ybURhdGEoZGF0YSk7XG5cbiAgICBpZiAoaXNGb3JtRGF0YSkge1xuICAgICAgcmV0dXJuIGhhc0pTT05Db250ZW50VHlwZSA/IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhVG9KU09OKGRhdGEpKSA6IGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1N0cmVhbShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNGaWxlKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0Jsb2IoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSlcbiAgICApIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhLmJ1ZmZlcjtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGRhdGEpKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcsIGZhbHNlKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgbGV0IGlzRmlsZUxpc3Q7XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkKSB7XG4gICAgICBpZiAoY29udGVudFR5cGUuaW5kZXhPZignYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCB0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKGlzRmlsZUxpc3QgPSB1dGlscy5pc0ZpbGVMaXN0KGRhdGEpKSB8fCBjb250ZW50VHlwZS5pbmRleE9mKCdtdWx0aXBhcnQvZm9ybS1kYXRhJykgPiAtMSkge1xuICAgICAgICBjb25zdCBfRm9ybURhdGEgPSB0aGlzLmVudiAmJiB0aGlzLmVudi5Gb3JtRGF0YTtcblxuICAgICAgICByZXR1cm4gdG9Gb3JtRGF0YShcbiAgICAgICAgICBpc0ZpbGVMaXN0ID8geydmaWxlc1tdJzogZGF0YX0gOiBkYXRhLFxuICAgICAgICAgIF9Gb3JtRGF0YSAmJiBuZXcgX0Zvcm1EYXRhKCksXG4gICAgICAgICAgdGhpcy5mb3JtU2VyaWFsaXplclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgfHwgaGFzSlNPTkNvbnRlbnRUeXBlICkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicsIGZhbHNlKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlTYWZlbHkoZGF0YSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IHRoaXMudHJhbnNpdGlvbmFsIHx8IGRlZmF1bHRzLnRyYW5zaXRpb25hbDtcbiAgICBjb25zdCBmb3JjZWRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuZm9yY2VkSlNPTlBhcnNpbmc7XG4gICAgY29uc3QgSlNPTlJlcXVlc3RlZCA9IHRoaXMucmVzcG9uc2VUeXBlID09PSAnanNvbic7XG5cbiAgICBpZiAodXRpbHMuaXNSZXNwb25zZShkYXRhKSB8fCB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiB1dGlscy5pc1N0cmluZyhkYXRhKSAmJiAoKGZvcmNlZEpTT05QYXJzaW5nICYmICF0aGlzLnJlc3BvbnNlVHlwZSkgfHwgSlNPTlJlcXVlc3RlZCkpIHtcbiAgICAgIGNvbnN0IHNpbGVudEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5zaWxlbnRKU09OUGFyc2luZztcbiAgICAgIGNvbnN0IHN0cmljdEpTT05QYXJzaW5nID0gIXNpbGVudEpTT05QYXJzaW5nICYmIEpTT05SZXF1ZXN0ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoc3RyaWN0SlNPTlBhcnNpbmcpIHtcbiAgICAgICAgICBpZiAoZS5uYW1lID09PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZSwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFLCB0aGlzLCBudWxsLCB0aGlzLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcbiAgbWF4Qm9keUxlbmd0aDogLTEsXG5cbiAgZW52OiB7XG4gICAgRm9ybURhdGE6IHBsYXRmb3JtLmNsYXNzZXMuRm9ybURhdGEsXG4gICAgQmxvYjogcGxhdGZvcm0uY2xhc3Nlcy5CbG9iXG4gIH0sXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfSxcblxuICBoZWFkZXJzOiB7XG4gICAgY29tbW9uOiB7XG4gICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicsXG4gICAgICAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkXG4gICAgfVxuICB9XG59O1xuXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIChtZXRob2QpID0+IHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZGVmYXVsdHM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vLyBSYXdBeGlvc0hlYWRlcnMgd2hvc2UgZHVwbGljYXRlcyBhcmUgaWdub3JlZCBieSBub2RlXG4vLyBjLmYuIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvaHR0cC5odG1sI2h0dHBfbWVzc2FnZV9oZWFkZXJzXG5jb25zdCBpZ25vcmVEdXBsaWNhdGVPZiA9IHV0aWxzLnRvT2JqZWN0U2V0KFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dKTtcblxuLyoqXG4gKiBQYXJzZSBoZWFkZXJzIGludG8gYW4gb2JqZWN0XG4gKlxuICogYGBgXG4gKiBEYXRlOiBXZWQsIDI3IEF1ZyAyMDE0IDA4OjU4OjQ5IEdNVFxuICogQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uXG4gKiBDb25uZWN0aW9uOiBrZWVwLWFsaXZlXG4gKiBUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZFxuICogYGBgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHJhd0hlYWRlcnMgSGVhZGVycyBuZWVkaW5nIHRvIGJlIHBhcnNlZFxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IEhlYWRlcnMgcGFyc2VkIGludG8gYW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBkZWZhdWx0IHJhd0hlYWRlcnMgPT4ge1xuICBjb25zdCBwYXJzZWQgPSB7fTtcbiAgbGV0IGtleTtcbiAgbGV0IHZhbDtcbiAgbGV0IGk7XG5cbiAgcmF3SGVhZGVycyAmJiByYXdIZWFkZXJzLnNwbGl0KCdcXG4nKS5mb3JFYWNoKGZ1bmN0aW9uIHBhcnNlcihsaW5lKSB7XG4gICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xuICAgIGtleSA9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IGxpbmUuc3Vic3RyaW5nKGkgKyAxKS50cmltKCk7XG5cbiAgICBpZiAoIWtleSB8fCAocGFyc2VkW2tleV0gJiYgaWdub3JlRHVwbGljYXRlT2Zba2V5XSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSkge1xuICAgICAgICBwYXJzZWRba2V5XS5wdXNoKHZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZWRba2V5XSA9IFt2YWxdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwYXJzZWRba2V5XSA9IHBhcnNlZFtrZXldID8gcGFyc2VkW2tleV0gKyAnLCAnICsgdmFsIDogdmFsO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHBhcnNlZDtcbn07XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBwYXJzZUhlYWRlcnMgZnJvbSAnLi4vaGVscGVycy9wYXJzZUhlYWRlcnMuanMnO1xuXG5jb25zdCAkaW50ZXJuYWxzID0gU3ltYm9sKCdpbnRlcm5hbHMnKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyICYmIFN0cmluZyhoZWFkZXIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVmFsdWUpIDogU3RyaW5nKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUb2tlbnMoc3RyKSB7XG4gIGNvbnN0IHRva2VucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGNvbnN0IHRva2Vuc1JFID0gLyhbXlxccyw7PV0rKVxccyooPzo9XFxzKihbXiw7XSspKT8vZztcbiAgbGV0IG1hdGNoO1xuXG4gIHdoaWxlICgobWF0Y2ggPSB0b2tlbnNSRS5leGVjKHN0cikpKSB7XG4gICAgdG9rZW5zW21hdGNoWzFdXSA9IG1hdGNoWzJdO1xuICB9XG5cbiAgcmV0dXJuIHRva2Vucztcbn1cblxuY29uc3QgaXNWYWxpZEhlYWRlck5hbWUgPSAoc3RyKSA9PiAvXlstX2EtekEtWjAtOV5gfH4sISMkJSYnKisuXSskLy50ZXN0KHN0ci50cmltKCkpO1xuXG5mdW5jdGlvbiBtYXRjaEhlYWRlclZhbHVlKGNvbnRleHQsIHZhbHVlLCBoZWFkZXIsIGZpbHRlciwgaXNIZWFkZXJOYW1lRmlsdGVyKSB7XG4gIGlmICh1dGlscy5pc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcywgdmFsdWUsIGhlYWRlcik7XG4gIH1cblxuICBpZiAoaXNIZWFkZXJOYW1lRmlsdGVyKSB7XG4gICAgdmFsdWUgPSBoZWFkZXI7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuO1xuXG4gIGlmICh1dGlscy5pc1N0cmluZyhmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmluZGV4T2YoZmlsdGVyKSAhPT0gLTE7XG4gIH1cblxuICBpZiAodXRpbHMuaXNSZWdFeHAoZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIudGVzdCh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0SGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyLnRyaW0oKVxuICAgIC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XFxkXSkoXFx3KikvZywgKHcsIGNoYXIsIHN0cikgPT4ge1xuICAgICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKSArIHN0cjtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRBY2Nlc3NvcnMob2JqLCBoZWFkZXIpIHtcbiAgY29uc3QgYWNjZXNzb3JOYW1lID0gdXRpbHMudG9DYW1lbENhc2UoJyAnICsgaGVhZGVyKTtcblxuICBbJ2dldCcsICdzZXQnLCAnaGFzJ10uZm9yRWFjaChtZXRob2ROYW1lID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBtZXRob2ROYW1lICsgYWNjZXNzb3JOYW1lLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICByZXR1cm4gdGhpc1ttZXRob2ROYW1lXS5jYWxsKHRoaXMsIGhlYWRlciwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5jbGFzcyBBeGlvc0hlYWRlcnMge1xuICBjb25zdHJ1Y3RvcihoZWFkZXJzKSB7XG4gICAgaGVhZGVycyAmJiB0aGlzLnNldChoZWFkZXJzKTtcbiAgfVxuXG4gIHNldChoZWFkZXIsIHZhbHVlT3JSZXdyaXRlLCByZXdyaXRlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFsSGVhZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGVhZGVyIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBsSGVhZGVyKTtcblxuICAgICAgaWYoIWtleSB8fCBzZWxmW2tleV0gPT09IHVuZGVmaW5lZCB8fCBfcmV3cml0ZSA9PT0gdHJ1ZSB8fCAoX3Jld3JpdGUgPT09IHVuZGVmaW5lZCAmJiBzZWxmW2tleV0gIT09IGZhbHNlKSkge1xuICAgICAgICBzZWxmW2tleSB8fCBfaGVhZGVyXSA9IG5vcm1hbGl6ZVZhbHVlKF92YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0SGVhZGVycyA9IChoZWFkZXJzLCBfcmV3cml0ZSkgPT5cbiAgICAgIHV0aWxzLmZvckVhY2goaGVhZGVycywgKF92YWx1ZSwgX2hlYWRlcikgPT4gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpKTtcblxuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KGhlYWRlcikgfHwgaGVhZGVyIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgc2V0SGVhZGVycyhoZWFkZXIsIHZhbHVlT3JSZXdyaXRlKVxuICAgIH0gZWxzZSBpZih1dGlscy5pc1N0cmluZyhoZWFkZXIpICYmIChoZWFkZXIgPSBoZWFkZXIudHJpbSgpKSAmJiAhaXNWYWxpZEhlYWRlck5hbWUoaGVhZGVyKSkge1xuICAgICAgc2V0SGVhZGVycyhwYXJzZUhlYWRlcnMoaGVhZGVyKSwgdmFsdWVPclJld3JpdGUpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNIZWFkZXJzKGhlYWRlcikpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGhlYWRlci5lbnRyaWVzKCkpIHtcbiAgICAgICAgc2V0SGVhZGVyKHZhbHVlLCBrZXksIHJld3JpdGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXIgIT0gbnVsbCAmJiBzZXRIZWFkZXIodmFsdWVPclJld3JpdGUsIGhlYWRlciwgcmV3cml0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXQoaGVhZGVyLCBwYXJzZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNba2V5XTtcblxuICAgICAgICBpZiAoIXBhcnNlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZXIgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VUb2tlbnModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuY2FsbCh0aGlzLCB2YWx1ZSwga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1JlZ0V4cChwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5leGVjKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcnNlciBtdXN0IGJlIGJvb2xlYW58cmVnZXhwfGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICByZXR1cm4gISEoa2V5ICYmIHRoaXNba2V5XSAhPT0gdW5kZWZpbmVkICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHRoaXMsIHRoaXNba2V5XSwga2V5LCBtYXRjaGVyKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGRlbGV0ZShoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gZGVsZXRlSGVhZGVyKF9oZWFkZXIpIHtcbiAgICAgIF9oZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmIChfaGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgX2hlYWRlcik7XG5cbiAgICAgICAgaWYgKGtleSAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZShzZWxmLCBzZWxmW2tleV0sIGtleSwgbWF0Y2hlcikpKSB7XG4gICAgICAgICAgZGVsZXRlIHNlbGZba2V5XTtcblxuICAgICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXkoaGVhZGVyKSkge1xuICAgICAgaGVhZGVyLmZvckVhY2goZGVsZXRlSGVhZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlSGVhZGVyKGhlYWRlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBjbGVhcihtYXRjaGVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICAgIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBpZighbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHRoaXMsIHRoaXNba2V5XSwga2V5LCBtYXRjaGVyLCB0cnVlKSkge1xuICAgICAgICBkZWxldGUgdGhpc1trZXldO1xuICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIG5vcm1hbGl6ZShmb3JtYXQpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KGhlYWRlcnMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgc2VsZltrZXldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICBkZWxldGUgc2VsZltoZWFkZXJdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBmb3JtYXQgPyBmb3JtYXRIZWFkZXIoaGVhZGVyKSA6IFN0cmluZyhoZWFkZXIpLnRyaW0oKTtcblxuICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IGhlYWRlcikge1xuICAgICAgICBkZWxldGUgc2VsZltoZWFkZXJdO1xuICAgICAgfVxuXG4gICAgICBzZWxmW25vcm1hbGl6ZWRdID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuXG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWRdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uY2F0KC4uLnRhcmdldHMpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jb25jYXQodGhpcywgLi4udGFyZ2V0cyk7XG4gIH1cblxuICB0b0pTT04oYXNTdHJpbmdzKSB7XG4gICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IGZhbHNlICYmIChvYmpbaGVhZGVyXSA9IGFzU3RyaW5ncyAmJiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmpvaW4oJywgJykgOiB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoKFtoZWFkZXIsIHZhbHVlXSkgPT4gaGVhZGVyICsgJzogJyArIHZhbHVlKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gJ0F4aW9zSGVhZGVycyc7XG4gIH1cblxuICBzdGF0aWMgZnJvbSh0aGluZykge1xuICAgIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIHRoaXMgPyB0aGluZyA6IG5ldyB0aGlzKHRoaW5nKTtcbiAgfVxuXG4gIHN0YXRpYyBjb25jYXQoZmlyc3QsIC4uLnRhcmdldHMpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IG5ldyB0aGlzKGZpcnN0KTtcblxuICAgIHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiBjb21wdXRlZC5zZXQodGFyZ2V0KSk7XG5cbiAgICByZXR1cm4gY29tcHV0ZWQ7XG4gIH1cblxuICBzdGF0aWMgYWNjZXNzb3IoaGVhZGVyKSB7XG4gICAgY29uc3QgaW50ZXJuYWxzID0gdGhpc1skaW50ZXJuYWxzXSA9ICh0aGlzWyRpbnRlcm5hbHNdID0ge1xuICAgICAgYWNjZXNzb3JzOiB7fVxuICAgIH0pO1xuXG4gICAgY29uc3QgYWNjZXNzb3JzID0gaW50ZXJuYWxzLmFjY2Vzc29ycztcbiAgICBjb25zdCBwcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcblxuICAgIGZ1bmN0aW9uIGRlZmluZUFjY2Vzc29yKF9oZWFkZXIpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghYWNjZXNzb3JzW2xIZWFkZXJdKSB7XG4gICAgICAgIGJ1aWxkQWNjZXNzb3JzKHByb3RvdHlwZSwgX2hlYWRlcik7XG4gICAgICAgIGFjY2Vzc29yc1tsSGVhZGVyXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXRpbHMuaXNBcnJheShoZWFkZXIpID8gaGVhZGVyLmZvckVhY2goZGVmaW5lQWNjZXNzb3IpIDogZGVmaW5lQWNjZXNzb3IoaGVhZGVyKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbkF4aW9zSGVhZGVycy5hY2Nlc3NvcihbJ0NvbnRlbnQtVHlwZScsICdDb250ZW50LUxlbmd0aCcsICdBY2NlcHQnLCAnQWNjZXB0LUVuY29kaW5nJywgJ1VzZXItQWdlbnQnLCAnQXV0aG9yaXphdGlvbiddKTtcblxuLy8gcmVzZXJ2ZWQgbmFtZXMgaG90Zml4XG51dGlscy5yZWR1Y2VEZXNjcmlwdG9ycyhBeGlvc0hlYWRlcnMucHJvdG90eXBlLCAoe3ZhbHVlfSwga2V5KSA9PiB7XG4gIGxldCBtYXBwZWQgPSBrZXlbMF0udG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTsgLy8gbWFwIGBzZXRgID0+IGBTZXRgXG4gIHJldHVybiB7XG4gICAgZ2V0OiAoKSA9PiB2YWx1ZSxcbiAgICBzZXQoaGVhZGVyVmFsdWUpIHtcbiAgICAgIHRoaXNbbWFwcGVkXSA9IGhlYWRlclZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG5cbnV0aWxzLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzKTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NIZWFkZXJzO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHBhcmFtIHs/T2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2Ugb2JqZWN0XG4gKlxuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGZucywgcmVzcG9uc2UpIHtcbiAgY29uc3QgY29uZmlnID0gdGhpcyB8fCBkZWZhdWx0cztcbiAgY29uc3QgY29udGV4dCA9IHJlc3BvbnNlIHx8IGNvbmZpZztcbiAgY29uc3QgaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGNvbnRleHQuaGVhZGVycyk7XG4gIGxldCBkYXRhID0gY29udGV4dC5kYXRhO1xuXG4gIHV0aWxzLmZvckVhY2goZm5zLCBmdW5jdGlvbiB0cmFuc2Zvcm0oZm4pIHtcbiAgICBkYXRhID0gZm4uY2FsbChjb25maWcsIGRhdGEsIGhlYWRlcnMubm9ybWFsaXplKCksIHJlc3BvbnNlID8gcmVzcG9uc2Uuc3RhdHVzIDogdW5kZWZpbmVkKTtcbiAgfSk7XG5cbiAgaGVhZGVycy5ub3JtYWxpemUoKTtcblxuICByZXR1cm4gZGF0YTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0NhbmNlbCh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWUuX19DQU5DRUxfXyk7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdD19IHJlcXVlc3QgVGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge0NhbmNlbGVkRXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/ICdjYW5jZWxlZCcgOiBtZXNzYWdlLCBBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCwgY29uZmlnLCByZXF1ZXN0KTtcbiAgdGhpcy5uYW1lID0gJ0NhbmNlbGVkRXJyb3InO1xufVxuXG51dGlscy5pbmhlcml0cyhDYW5jZWxlZEVycm9yLCBBeGlvc0Vycm9yLCB7XG4gIF9fQ0FOQ0VMX186IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxlZEVycm9yO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4vQXhpb3NFcnJvci5qcyc7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge29iamVjdH0gVGhlIHJlc3BvbnNlLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCByZXNwb25zZSkge1xuICBjb25zdCB2YWxpZGF0ZVN0YXR1cyA9IHJlc3BvbnNlLmNvbmZpZy52YWxpZGF0ZVN0YXR1cztcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgW0F4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0VdW01hdGguZmxvb3IocmVzcG9uc2Uuc3RhdHVzIC8gMTAwKSAtIDRdLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgcmVzcG9uc2UucmVxdWVzdCxcbiAgICAgIHJlc3BvbnNlXG4gICAgKSk7XG4gIH1cbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwYXJzZVByb3RvY29sKHVybCkge1xuICBjb25zdCBtYXRjaCA9IC9eKFstK1xcd117MSwyNX0pKDo/XFwvXFwvfDopLy5leGVjKHVybCk7XG4gIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENhbGN1bGF0ZSBkYXRhIG1heFJhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBbc2FtcGxlc0NvdW50PSAxMF1cbiAqIEBwYXJhbSB7TnVtYmVyfSBbbWluPSAxMDAwXVxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiBzcGVlZG9tZXRlcihzYW1wbGVzQ291bnQsIG1pbikge1xuICBzYW1wbGVzQ291bnQgPSBzYW1wbGVzQ291bnQgfHwgMTA7XG4gIGNvbnN0IGJ5dGVzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGNvbnN0IHRpbWVzdGFtcHMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgbGV0IGhlYWQgPSAwO1xuICBsZXQgdGFpbCA9IDA7XG4gIGxldCBmaXJzdFNhbXBsZVRTO1xuXG4gIG1pbiA9IG1pbiAhPT0gdW5kZWZpbmVkID8gbWluIDogMTAwMDtcblxuICByZXR1cm4gZnVuY3Rpb24gcHVzaChjaHVua0xlbmd0aCkge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cbiAgICBjb25zdCBzdGFydGVkQXQgPSB0aW1lc3RhbXBzW3RhaWxdO1xuXG4gICAgaWYgKCFmaXJzdFNhbXBsZVRTKSB7XG4gICAgICBmaXJzdFNhbXBsZVRTID0gbm93O1xuICAgIH1cblxuICAgIGJ5dGVzW2hlYWRdID0gY2h1bmtMZW5ndGg7XG4gICAgdGltZXN0YW1wc1toZWFkXSA9IG5vdztcblxuICAgIGxldCBpID0gdGFpbDtcbiAgICBsZXQgYnl0ZXNDb3VudCA9IDA7XG5cbiAgICB3aGlsZSAoaSAhPT0gaGVhZCkge1xuICAgICAgYnl0ZXNDb3VudCArPSBieXRlc1tpKytdO1xuICAgICAgaSA9IGkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaGVhZCA9IChoZWFkICsgMSkgJSBzYW1wbGVzQ291bnQ7XG5cbiAgICBpZiAoaGVhZCA9PT0gdGFpbCkge1xuICAgICAgdGFpbCA9ICh0YWlsICsgMSkgJSBzYW1wbGVzQ291bnQ7XG4gICAgfVxuXG4gICAgaWYgKG5vdyAtIGZpcnN0U2FtcGxlVFMgPCBtaW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXNzZWQgPSBzdGFydGVkQXQgJiYgbm93IC0gc3RhcnRlZEF0O1xuXG4gICAgcmV0dXJuIHBhc3NlZCA/IE1hdGgucm91bmQoYnl0ZXNDb3VudCAqIDEwMDAgLyBwYXNzZWQpIDogdW5kZWZpbmVkO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzcGVlZG9tZXRlcjtcbiIsCiAgICAiLyoqXG4gKiBUaHJvdHRsZSBkZWNvcmF0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gZnJlcVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBmcmVxKSB7XG4gIGxldCB0aW1lc3RhbXAgPSAwO1xuICBsZXQgdGhyZXNob2xkID0gMTAwMCAvIGZyZXE7XG4gIGxldCBsYXN0QXJncztcbiAgbGV0IHRpbWVyO1xuXG4gIGNvbnN0IGludm9rZSA9IChhcmdzLCBub3cgPSBEYXRlLm5vdygpKSA9PiB7XG4gICAgdGltZXN0YW1wID0gbm93O1xuICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgICBpZiAodGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgfVxuICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICB9XG5cbiAgY29uc3QgdGhyb3R0bGVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHBhc3NlZCA9IG5vdyAtIHRpbWVzdGFtcDtcbiAgICBpZiAoIHBhc3NlZCA+PSB0aHJlc2hvbGQpIHtcbiAgICAgIGludm9rZShhcmdzLCBub3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgICBpZiAoIXRpbWVyKSB7XG4gICAgICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICAgIGludm9rZShsYXN0QXJncylcbiAgICAgICAgfSwgdGhyZXNob2xkIC0gcGFzc2VkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBmbHVzaCA9ICgpID0+IGxhc3RBcmdzICYmIGludm9rZShsYXN0QXJncyk7XG5cbiAgcmV0dXJuIFt0aHJvdHRsZWQsIGZsdXNoXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdGhyb3R0bGU7XG4iLAogICAgImltcG9ydCBzcGVlZG9tZXRlciBmcm9tIFwiLi9zcGVlZG9tZXRlci5qc1wiO1xuaW1wb3J0IHRocm90dGxlIGZyb20gXCIuL3Rocm90dGxlLmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50UmVkdWNlciA9IChsaXN0ZW5lciwgaXNEb3dubG9hZFN0cmVhbSwgZnJlcSA9IDMpID0+IHtcbiAgbGV0IGJ5dGVzTm90aWZpZWQgPSAwO1xuICBjb25zdCBfc3BlZWRvbWV0ZXIgPSBzcGVlZG9tZXRlcig1MCwgMjUwKTtcblxuICByZXR1cm4gdGhyb3R0bGUoZSA9PiB7XG4gICAgY29uc3QgbG9hZGVkID0gZS5sb2FkZWQ7XG4gICAgY29uc3QgdG90YWwgPSBlLmxlbmd0aENvbXB1dGFibGUgPyBlLnRvdGFsIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHByb2dyZXNzQnl0ZXMgPSBsb2FkZWQgLSBieXRlc05vdGlmaWVkO1xuICAgIGNvbnN0IHJhdGUgPSBfc3BlZWRvbWV0ZXIocHJvZ3Jlc3NCeXRlcyk7XG4gICAgY29uc3QgaW5SYW5nZSA9IGxvYWRlZCA8PSB0b3RhbDtcblxuICAgIGJ5dGVzTm90aWZpZWQgPSBsb2FkZWQ7XG5cbiAgICBjb25zdCBkYXRhID0ge1xuICAgICAgbG9hZGVkLFxuICAgICAgdG90YWwsXG4gICAgICBwcm9ncmVzczogdG90YWwgPyAobG9hZGVkIC8gdG90YWwpIDogdW5kZWZpbmVkLFxuICAgICAgYnl0ZXM6IHByb2dyZXNzQnl0ZXMsXG4gICAgICByYXRlOiByYXRlID8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGVzdGltYXRlZDogcmF0ZSAmJiB0b3RhbCAmJiBpblJhbmdlID8gKHRvdGFsIC0gbG9hZGVkKSAvIHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBldmVudDogZSxcbiAgICAgIGxlbmd0aENvbXB1dGFibGU6IHRvdGFsICE9IG51bGwsXG4gICAgICBbaXNEb3dubG9hZFN0cmVhbSA/ICdkb3dubG9hZCcgOiAndXBsb2FkJ106IHRydWVcbiAgICB9O1xuXG4gICAgbGlzdGVuZXIoZGF0YSk7XG4gIH0sIGZyZXEpO1xufVxuXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NFdmVudERlY29yYXRvciA9ICh0b3RhbCwgdGhyb3R0bGVkKSA9PiB7XG4gIGNvbnN0IGxlbmd0aENvbXB1dGFibGUgPSB0b3RhbCAhPSBudWxsO1xuXG4gIHJldHVybiBbKGxvYWRlZCkgPT4gdGhyb3R0bGVkWzBdKHtcbiAgICBsZW5ndGhDb21wdXRhYmxlLFxuICAgIHRvdGFsLFxuICAgIGxvYWRlZFxuICB9KSwgdGhyb3R0bGVkWzFdXTtcbn1cblxuZXhwb3J0IGNvbnN0IGFzeW5jRGVjb3JhdG9yID0gKGZuKSA9PiAoLi4uYXJncykgPT4gdXRpbHMuYXNhcCgoKSA9PiBmbiguLi5hcmdzKSk7XG4iLAogICAgImltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/ICgob3JpZ2luLCBpc01TSUUpID0+ICh1cmwpID0+IHtcbiAgdXJsID0gbmV3IFVSTCh1cmwsIHBsYXRmb3JtLm9yaWdpbik7XG5cbiAgcmV0dXJuIChcbiAgICBvcmlnaW4ucHJvdG9jb2wgPT09IHVybC5wcm90b2NvbCAmJlxuICAgIG9yaWdpbi5ob3N0ID09PSB1cmwuaG9zdCAmJlxuICAgIChpc01TSUUgfHwgb3JpZ2luLnBvcnQgPT09IHVybC5wb3J0KVxuICApO1xufSkoXG4gIG5ldyBVUkwocGxhdGZvcm0ub3JpZ2luKSxcbiAgcGxhdGZvcm0ubmF2aWdhdG9yICYmIC8obXNpZXx0cmlkZW50KS9pLnRlc3QocGxhdGZvcm0ubmF2aWdhdG9yLnVzZXJBZ2VudClcbikgOiAoKSA9PiB0cnVlO1xuIiwKICAgICJpbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4gIC8vIFN0YW5kYXJkIGJyb3dzZXIgZW52cyBzdXBwb3J0IGRvY3VtZW50LmNvb2tpZVxuICB7XG4gICAgd3JpdGUobmFtZSwgdmFsdWUsIGV4cGlyZXMsIHBhdGgsIGRvbWFpbiwgc2VjdXJlKSB7XG4gICAgICBjb25zdCBjb29raWUgPSBbbmFtZSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSldO1xuXG4gICAgICB1dGlscy5pc051bWJlcihleHBpcmVzKSAmJiBjb29raWUucHVzaCgnZXhwaXJlcz0nICsgbmV3IERhdGUoZXhwaXJlcykudG9HTVRTdHJpbmcoKSk7XG5cbiAgICAgIHV0aWxzLmlzU3RyaW5nKHBhdGgpICYmIGNvb2tpZS5wdXNoKCdwYXRoPScgKyBwYXRoKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcoZG9tYWluKSAmJiBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuXG4gICAgICBzZWN1cmUgPT09IHRydWUgJiYgY29va2llLnB1c2goJ3NlY3VyZScpO1xuXG4gICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWUuam9pbignOyAnKTtcbiAgICB9LFxuXG4gICAgcmVhZChuYW1lKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICByZXR1cm4gKG1hdGNoID8gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzNdKSA6IG51bGwpO1xuICAgIH0sXG5cbiAgICByZW1vdmUobmFtZSkge1xuICAgICAgdGhpcy53cml0ZShuYW1lLCAnJywgRGF0ZS5ub3coKSAtIDg2NDAwMDAwKTtcbiAgICB9XG4gIH1cblxuICA6XG5cbiAgLy8gTm9uLXN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICB7XG4gICAgd3JpdGUoKSB7fSxcbiAgICByZWFkKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICByZW1vdmUoKSB7fVxuICB9O1xuXG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBVUkwgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBYnNvbHV0ZVVSTCh1cmwpIHtcbiAgLy8gQSBVUkwgaXMgY29uc2lkZXJlZCBhYnNvbHV0ZSBpZiBpdCBiZWdpbnMgd2l0aCBcIjxzY2hlbWU+Oi8vXCIgb3IgXCIvL1wiIChwcm90b2NvbC1yZWxhdGl2ZSBVUkwpLlxuICAvLyBSRkMgMzk4NiBkZWZpbmVzIHNjaGVtZSBuYW1lIGFzIGEgc2VxdWVuY2Ugb2YgY2hhcmFjdGVycyBiZWdpbm5pbmcgd2l0aCBhIGxldHRlciBhbmQgZm9sbG93ZWRcbiAgLy8gYnkgYW55IGNvbWJpbmF0aW9uIG9mIGxldHRlcnMsIGRpZ2l0cywgcGx1cywgcGVyaW9kLCBvciBoeXBoZW4uXG4gIHJldHVybiAvXihbYS16XVthLXpcXGQrXFwtLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8/XFwvJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBpc0Fic29sdXRlVVJMIGZyb20gJy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTC5qcyc7XG5pbXBvcnQgY29tYmluZVVSTHMgZnJvbSAnLi4vaGVscGVycy9jb21iaW5lVVJMcy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBiYXNlVVJMIHdpdGggdGhlIHJlcXVlc3RlZFVSTCxcbiAqIG9ubHkgd2hlbiB0aGUgcmVxdWVzdGVkVVJMIGlzIG5vdCBhbHJlYWR5IGFuIGFic29sdXRlIFVSTC5cbiAqIElmIHRoZSByZXF1ZXN0VVJMIGlzIGFic29sdXRlLCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHJlcXVlc3RlZFVSTCB1bnRvdWNoZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVxdWVzdGVkVVJMIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCB0byBjb21iaW5lXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIGZ1bGwgcGF0aFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZEZ1bGxQYXRoKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCwgYWxsb3dBYnNvbHV0ZVVybHMpIHtcbiAgbGV0IGlzUmVsYXRpdmVVcmwgPSAhaXNBYnNvbHV0ZVVSTChyZXF1ZXN0ZWRVUkwpO1xuICBpZiAoYmFzZVVSTCAmJiBpc1JlbGF0aXZlVXJsIHx8IGFsbG93QWJzb2x1dGVVcmxzID09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlcXVlc3RlZFVSTCk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3RlZFVSTDtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9BeGlvc0hlYWRlcnMuanNcIjtcblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyA/IHsgLi4udGhpbmcgfSA6IHRoaW5nO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICBjb25zdCBjb25maWcgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRNZXJnZWRWYWx1ZSh0YXJnZXQsIHNvdXJjZSwgcHJvcCwgY2FzZWxlc3MpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlLmNhbGwoe2Nhc2VsZXNzfSwgdGFyZ2V0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKGEsIGIsIHByb3AgLCBjYXNlbGVzcykge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiLCBwcm9wICwgY2FzZWxlc3MpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhLCBwcm9wICwgY2FzZWxlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoYSwgYiwgcHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWVyZ2VNYXAgPSB7XG4gICAgdXJsOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIG1ldGhvZDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBkYXRhOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGJhc2VVUkw6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBwYXJhbXNTZXJpYWxpemVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dE1lc3NhZ2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aENyZWRlbnRpYWxzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhYU1JGVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYWRhcHRlcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZVR5cGU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkNvb2tpZU5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkhlYWRlck5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25VcGxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgZGVjb21wcmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhDb250ZW50TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heEJvZHlMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYmVmb3JlUmVkaXJlY3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNwb3J0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwc0FnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGNhbmNlbFRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHNvY2tldFBhdGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VFbmNvZGluZzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB2YWxpZGF0ZVN0YXR1czogbWVyZ2VEaXJlY3RLZXlzLFxuICAgIGhlYWRlcnM6IChhLCBiICwgcHJvcCkgPT4gbWVyZ2VEZWVwUHJvcGVydGllcyhoZWFkZXJzVG9PYmplY3QoYSksIGhlYWRlcnNUb09iamVjdChiKSxwcm9wLCB0cnVlKVxuICB9O1xuXG4gIHV0aWxzLmZvckVhY2goT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnMSwgY29uZmlnMikpLCBmdW5jdGlvbiBjb21wdXRlQ29uZmlnVmFsdWUocHJvcCkge1xuICAgIGNvbnN0IG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICBjb25zdCBjb25maWdWYWx1ZSA9IG1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0sIHByb3ApO1xuICAgICh1dGlscy5pc1VuZGVmaW5lZChjb25maWdWYWx1ZSkgJiYgbWVyZ2UgIT09IG1lcmdlRGlyZWN0S2V5cykgfHwgKGNvbmZpZ1twcm9wXSA9IGNvbmZpZ1ZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn1cbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gXCIuLi9wbGF0Zm9ybS9pbmRleC5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IGlzVVJMU2FtZU9yaWdpbiBmcm9tIFwiLi9pc1VSTFNhbWVPcmlnaW4uanNcIjtcbmltcG9ydCBjb29raWVzIGZyb20gXCIuL2Nvb2tpZXMuanNcIjtcbmltcG9ydCBidWlsZEZ1bGxQYXRoIGZyb20gXCIuLi9jb3JlL2J1aWxkRnVsbFBhdGguanNcIjtcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tIFwiLi4vY29yZS9tZXJnZUNvbmZpZy5qc1wiO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBidWlsZFVSTCBmcm9tIFwiLi9idWlsZFVSTC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCAoY29uZmlnKSA9PiB7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IG1lcmdlQ29uZmlnKHt9LCBjb25maWcpO1xuXG4gIGxldCB7ZGF0YSwgd2l0aFhTUkZUb2tlbiwgeHNyZkhlYWRlck5hbWUsIHhzcmZDb29raWVOYW1lLCBoZWFkZXJzLCBhdXRofSA9IG5ld0NvbmZpZztcblxuICBuZXdDb25maWcuaGVhZGVycyA9IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShoZWFkZXJzKTtcblxuICBuZXdDb25maWcudXJsID0gYnVpbGRVUkwoYnVpbGRGdWxsUGF0aChuZXdDb25maWcuYmFzZVVSTCwgbmV3Q29uZmlnLnVybCwgbmV3Q29uZmlnLmFsbG93QWJzb2x1dGVVcmxzKSwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuXG4gIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgaWYgKGF1dGgpIHtcbiAgICBoZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICtcbiAgICAgIGJ0b2EoKGF1dGgudXNlcm5hbWUgfHwgJycpICsgJzonICsgKGF1dGgucGFzc3dvcmQgPyB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYXV0aC5wYXNzd29yZCkpIDogJycpKVxuICAgICk7XG4gIH1cblxuICBsZXQgY29udGVudFR5cGU7XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkpIHtcbiAgICBpZiAocGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52IHx8IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudikge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSh1bmRlZmluZWQpOyAvLyBMZXQgdGhlIGJyb3dzZXIgc2V0IGl0XG4gICAgfSBlbHNlIGlmICgoY29udGVudFR5cGUgPSBoZWFkZXJzLmdldENvbnRlbnRUeXBlKCkpICE9PSBmYWxzZSkge1xuICAgICAgLy8gZml4IHNlbWljb2xvbiBkdXBsaWNhdGlvbiBpc3N1ZSBmb3IgUmVhY3ROYXRpdmUgRm9ybURhdGEgaW1wbGVtZW50YXRpb25cbiAgICAgIGNvbnN0IFt0eXBlLCAuLi50b2tlbnNdID0gY29udGVudFR5cGUgPyBjb250ZW50VHlwZS5zcGxpdCgnOycpLm1hcCh0b2tlbiA9PiB0b2tlbi50cmltKCkpLmZpbHRlcihCb29sZWFuKSA6IFtdO1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZShbdHlwZSB8fCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsIC4uLnRva2Vuc10uam9pbignOyAnKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAvLyBTcGVjaWZpY2FsbHkgbm90IGlmIHdlJ3JlIGluIGEgd2ViIHdvcmtlciwgb3IgcmVhY3QtbmF0aXZlLlxuXG4gIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYpIHtcbiAgICB3aXRoWFNSRlRva2VuICYmIHV0aWxzLmlzRnVuY3Rpb24od2l0aFhTUkZUb2tlbikgJiYgKHdpdGhYU1JGVG9rZW4gPSB3aXRoWFNSRlRva2VuKG5ld0NvbmZpZykpO1xuXG4gICAgaWYgKHdpdGhYU1JGVG9rZW4gfHwgKHdpdGhYU1JGVG9rZW4gIT09IGZhbHNlICYmIGlzVVJMU2FtZU9yaWdpbihuZXdDb25maWcudXJsKSkpIHtcbiAgICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgICAgY29uc3QgeHNyZlZhbHVlID0geHNyZkhlYWRlck5hbWUgJiYgeHNyZkNvb2tpZU5hbWUgJiYgY29va2llcy5yZWFkKHhzcmZDb29raWVOYW1lKTtcblxuICAgICAgaWYgKHhzcmZWYWx1ZSkge1xuICAgICAgICBoZWFkZXJzLnNldCh4c3JmSGVhZGVyTmFtZSwgeHNyZlZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3Q29uZmlnO1xufVxuXG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBzZXR0bGUgZnJvbSAnLi8uLi9jb3JlL3NldHRsZS5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgcGFyc2VQcm90b2NvbCBmcm9tICcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IHtwcm9ncmVzc0V2ZW50UmVkdWNlcn0gZnJvbSAnLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qcyc7XG5pbXBvcnQgcmVzb2x2ZUNvbmZpZyBmcm9tIFwiLi4vaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzXCI7XG5cbmNvbnN0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCA9IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGlzWEhSQWRhcHRlclN1cHBvcnRlZCAmJiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgX2NvbmZpZyA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcbiAgICBsZXQgcmVxdWVzdERhdGEgPSBfY29uZmlnLmRhdGE7XG4gICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShfY29uZmlnLmhlYWRlcnMpLm5vcm1hbGl6ZSgpO1xuICAgIGxldCB7cmVzcG9uc2VUeXBlLCBvblVwbG9hZFByb2dyZXNzLCBvbkRvd25sb2FkUHJvZ3Jlc3N9ID0gX2NvbmZpZztcbiAgICBsZXQgb25DYW5jZWxlZDtcbiAgICBsZXQgdXBsb2FkVGhyb3R0bGVkLCBkb3dubG9hZFRocm90dGxlZDtcbiAgICBsZXQgZmx1c2hVcGxvYWQsIGZsdXNoRG93bmxvYWQ7XG5cbiAgICBmdW5jdGlvbiBkb25lKCkge1xuICAgICAgZmx1c2hVcGxvYWQgJiYgZmx1c2hVcGxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG4gICAgICBmbHVzaERvd25sb2FkICYmIGZsdXNoRG93bmxvYWQoKTsgLy8gZmx1c2ggZXZlbnRzXG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi51bnN1YnNjcmliZShvbkNhbmNlbGVkKTtcblxuICAgICAgX2NvbmZpZy5zaWduYWwgJiYgX2NvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKF9jb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIF9jb25maWcudXJsLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gX2NvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIGxvdyBsZXZlbCBuZXR3b3JrIGVycm9yc1xuICAgIHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkge1xuICAgICAgLy8gUmVhbCBlcnJvcnMgYXJlIGhpZGRlbiBmcm9tIHVzIGJ5IHRoZSBicm93c2VyXG4gICAgICAvLyBvbmVycm9yIHNob3VsZCBvbmx5IGZpcmUgaWYgaXQncyBhIG5ldHdvcmsgZXJyb3JcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gSGFuZGxlIHRpbWVvdXRcbiAgICByZXF1ZXN0Lm9udGltZW91dCA9IGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoKSB7XG4gICAgICBsZXQgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dCA/ICd0aW1lb3V0IG9mICcgKyBfY29uZmlnLnRpbWVvdXQgKyAnbXMgZXhjZWVkZWQnIDogJ3RpbWVvdXQgZXhjZWVkZWQnO1xuICAgICAgY29uc3QgdHJhbnNpdGlvbmFsID0gX2NvbmZpZy50cmFuc2l0aW9uYWwgfHwgdHJhbnNpdGlvbmFsRGVmYXVsdHM7XG4gICAgICBpZiAoX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2U7XG4gICAgICB9XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIHRpbWVvdXRFcnJvck1lc3NhZ2UsXG4gICAgICAgIHRyYW5zaXRpb25hbC5jbGFyaWZ5VGltZW91dEVycm9yID8gQXhpb3NFcnJvci5FVElNRURPVVQgOiBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgcmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCAmJiByZXF1ZXN0SGVhZGVycy5zZXRDb250ZW50VHlwZShudWxsKTtcblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLnRvSlNPTigpLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChfY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFfY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBfY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKG9uRG93bmxvYWRQcm9ncmVzcykge1xuICAgICAgKFtkb3dubG9hZFRocm90dGxlZCwgZmx1c2hEb3dubG9hZF0gPSBwcm9ncmVzc0V2ZW50UmVkdWNlcihvbkRvd25sb2FkUHJvZ3Jlc3MsIHRydWUpKTtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBkb3dubG9hZFRocm90dGxlZCk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAob25VcGxvYWRQcm9ncmVzcyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgKFt1cGxvYWRUaHJvdHRsZWQsIGZsdXNoVXBsb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uVXBsb2FkUHJvZ3Jlc3MpKTtcblxuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB1cGxvYWRUaHJvdHRsZWQpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZmx1c2hVcGxvYWQpO1xuICAgIH1cblxuICAgIGlmIChfY29uZmlnLmNhbmNlbFRva2VuIHx8IF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAvLyBIYW5kbGUgY2FuY2VsbGF0aW9uXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgb25DYW5jZWxlZCA9IGNhbmNlbCA9PiB7XG4gICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWplY3QoIWNhbmNlbCB8fCBjYW5jZWwudHlwZSA/IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZywgcmVxdWVzdCkgOiBjYW5jZWwpO1xuICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgX2NvbmZpZy5jYW5jZWxUb2tlbiAmJiBfY29uZmlnLmNhbmNlbFRva2VuLnN1YnNjcmliZShvbkNhbmNlbGVkKTtcbiAgICAgIGlmIChfY29uZmlnLnNpZ25hbCkge1xuICAgICAgICBfY29uZmlnLnNpZ25hbC5hYm9ydGVkID8gb25DYW5jZWxlZCgpIDogX2NvbmZpZy5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90b2NvbCA9IHBhcnNlUHJvdG9jb2woX2NvbmZpZy51cmwpO1xuXG4gICAgaWYgKHByb3RvY29sICYmIHBsYXRmb3JtLnByb3RvY29scy5pbmRleE9mKHByb3RvY29sKSA9PT0gLTEpIHtcbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignVW5zdXBwb3J0ZWQgcHJvdG9jb2wgJyArIHByb3RvY29sICsgJzonLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgY29uZmlnKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICAvLyBTZW5kIHRoZSByZXF1ZXN0XG4gICAgcmVxdWVzdC5zZW5kKHJlcXVlc3REYXRhIHx8IG51bGwpO1xuICB9KTtcbn1cbiIsCiAgICAiaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSBcIi4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzXCI7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG5jb25zdCBjb21wb3NlU2lnbmFscyA9IChzaWduYWxzLCB0aW1lb3V0KSA9PiB7XG4gIGNvbnN0IHtsZW5ndGh9ID0gKHNpZ25hbHMgPSBzaWduYWxzID8gc2lnbmFscy5maWx0ZXIoQm9vbGVhbikgOiBbXSk7XG5cbiAgaWYgKHRpbWVvdXQgfHwgbGVuZ3RoKSB7XG4gICAgbGV0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICBsZXQgYWJvcnRlZDtcblxuICAgIGNvbnN0IG9uYWJvcnQgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoIWFib3J0ZWQpIHtcbiAgICAgICAgYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGNvbnN0IGVyciA9IHJlYXNvbiBpbnN0YW5jZW9mIEVycm9yID8gcmVhc29uIDogdGhpcy5yZWFzb247XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoZXJyIGluc3RhbmNlb2YgQXhpb3NFcnJvciA/IGVyciA6IG5ldyBDYW5jZWxlZEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBlcnIpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgdGltZXIgPSB0aW1lb3V0ICYmIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgb25hYm9ydChuZXcgQXhpb3NFcnJvcihgdGltZW91dCAke3RpbWVvdXR9IG9mIG1zIGV4Y2VlZGVkYCwgQXhpb3NFcnJvci5FVElNRURPVVQpKVxuICAgIH0sIHRpbWVvdXQpXG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9ICgpID0+IHtcbiAgICAgIGlmIChzaWduYWxzKSB7XG4gICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgc2lnbmFscy5mb3JFYWNoKHNpZ25hbCA9PiB7XG4gICAgICAgICAgc2lnbmFsLnVuc3Vic2NyaWJlID8gc2lnbmFsLnVuc3Vic2NyaWJlKG9uYWJvcnQpIDogc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25hYm9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzaWduYWxzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzaWduYWxzLmZvckVhY2goKHNpZ25hbCkgPT4gc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25hYm9ydCkpO1xuXG4gICAgY29uc3Qge3NpZ25hbH0gPSBjb250cm9sbGVyO1xuXG4gICAgc2lnbmFsLnVuc3Vic2NyaWJlID0gKCkgPT4gdXRpbHMuYXNhcCh1bnN1YnNjcmliZSk7XG5cbiAgICByZXR1cm4gc2lnbmFsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvc2VTaWduYWxzO1xuIiwKICAgICJcbmV4cG9ydCBjb25zdCBzdHJlYW1DaHVuayA9IGZ1bmN0aW9uKiAoY2h1bmssIGNodW5rU2l6ZSkge1xuICBsZXQgbGVuID0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICBpZiAoIWNodW5rU2l6ZSB8fCBsZW4gPCBjaHVua1NpemUpIHtcbiAgICB5aWVsZCBjaHVuaztcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgcG9zID0gMDtcbiAgbGV0IGVuZDtcblxuICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgZW5kID0gcG9zICsgY2h1bmtTaXplO1xuICAgIHlpZWxkIGNodW5rLnNsaWNlKHBvcywgZW5kKTtcbiAgICBwb3MgPSBlbmQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHJlYWRCeXRlcyA9IGFzeW5jIGZ1bmN0aW9uKiAoaXRlcmFibGUsIGNodW5rU2l6ZSkge1xuICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJlYWRTdHJlYW0oaXRlcmFibGUpKSB7XG4gICAgeWllbGQqIHN0cmVhbUNodW5rKGNodW5rLCBjaHVua1NpemUpO1xuICB9XG59XG5cbmNvbnN0IHJlYWRTdHJlYW0gPSBhc3luYyBmdW5jdGlvbiogKHN0cmVhbSkge1xuICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgIHlpZWxkKiBzdHJlYW07XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICB0cnkge1xuICAgIGZvciAoOzspIHtcbiAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB5aWVsZCB2YWx1ZTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgcmVhZGVyLmNhbmNlbCgpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFja1N0cmVhbSA9IChzdHJlYW0sIGNodW5rU2l6ZSwgb25Qcm9ncmVzcywgb25GaW5pc2gpID0+IHtcbiAgY29uc3QgaXRlcmF0b3IgPSByZWFkQnl0ZXMoc3RyZWFtLCBjaHVua1NpemUpO1xuXG4gIGxldCBieXRlcyA9IDA7XG4gIGxldCBkb25lO1xuICBsZXQgX29uRmluaXNoID0gKGUpID0+IHtcbiAgICBpZiAoIWRvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgb25GaW5pc2ggJiYgb25GaW5pc2goZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgcHVsbChjb250cm9sbGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgaXRlcmF0b3IubmV4dCgpO1xuXG4gICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICBfb25GaW5pc2goKTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlbiA9IHZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgICAgbGV0IGxvYWRlZEJ5dGVzID0gYnl0ZXMgKz0gbGVuO1xuICAgICAgICAgIG9uUHJvZ3Jlc3MobG9hZGVkQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShuZXcgVWludDhBcnJheSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIF9vbkZpbmlzaChlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSxcbiAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICBfb25GaW5pc2gocmVhc29uKTtcbiAgICAgIHJldHVybiBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICB9XG4gIH0sIHtcbiAgICBoaWdoV2F0ZXJNYXJrOiAyXG4gIH0pXG59XG4iLAogICAgImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwiLi4vcGxhdGZvcm0vaW5kZXguanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCBjb21wb3NlU2lnbmFscyBmcm9tIFwiLi4vaGVscGVycy9jb21wb3NlU2lnbmFscy5qc1wiO1xuaW1wb3J0IHt0cmFja1N0cmVhbX0gZnJvbSBcIi4uL2hlbHBlcnMvdHJhY2tTdHJlYW0uanNcIjtcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQge3Byb2dyZXNzRXZlbnRSZWR1Y2VyLCBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yLCBhc3luY0RlY29yYXRvcn0gZnJvbSBcIi4uL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanNcIjtcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcbmltcG9ydCBzZXR0bGUgZnJvbSBcIi4uL2NvcmUvc2V0dGxlLmpzXCI7XG5cbmNvbnN0IGlzRmV0Y2hTdXBwb3J0ZWQgPSB0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFJlcXVlc3QgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIFJlc3BvbnNlID09PSAnZnVuY3Rpb24nO1xuY29uc3QgaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCA9IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgdHlwZW9mIFJlYWRhYmxlU3RyZWFtID09PSAnZnVuY3Rpb24nO1xuXG4vLyB1c2VkIG9ubHkgaW5zaWRlIHRoZSBmZXRjaCBhZGFwdGVyXG5jb25zdCBlbmNvZGVUZXh0ID0gaXNGZXRjaFN1cHBvcnRlZCAmJiAodHlwZW9mIFRleHRFbmNvZGVyID09PSAnZnVuY3Rpb24nID9cbiAgICAoKGVuY29kZXIpID0+IChzdHIpID0+IGVuY29kZXIuZW5jb2RlKHN0cikpKG5ldyBUZXh0RW5jb2RlcigpKSA6XG4gICAgYXN5bmMgKHN0cikgPT4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgbmV3IFJlc3BvbnNlKHN0cikuYXJyYXlCdWZmZXIoKSlcbik7XG5cbmNvbnN0IHRlc3QgPSAoZm4sIC4uLmFyZ3MpID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gISFmbiguLi5hcmdzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbmNvbnN0IHN1cHBvcnRzUmVxdWVzdFN0cmVhbSA9IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgJiYgdGVzdCgoKSA9PiB7XG4gIGxldCBkdXBsZXhBY2Nlc3NlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGhhc0NvbnRlbnRUeXBlID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgYm9keTogbmV3IFJlYWRhYmxlU3RyZWFtKCksXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZ2V0IGR1cGxleCgpIHtcbiAgICAgIGR1cGxleEFjY2Vzc2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiAnaGFsZic7XG4gICAgfSxcbiAgfSkuaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpO1xuXG4gIHJldHVybiBkdXBsZXhBY2Nlc3NlZCAmJiAhaGFzQ29udGVudFR5cGU7XG59KTtcblxuY29uc3QgREVGQVVMVF9DSFVOS19TSVpFID0gNjQgKiAxMDI0O1xuXG5jb25zdCBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJlxuICB0ZXN0KCgpID0+IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0obmV3IFJlc3BvbnNlKCcnKS5ib2R5KSk7XG5cblxuY29uc3QgcmVzb2x2ZXJzID0ge1xuICBzdHJlYW06IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKChyZXMpID0+IHJlcy5ib2R5KVxufTtcblxuaXNGZXRjaFN1cHBvcnRlZCAmJiAoKChyZXMpID0+IHtcbiAgWyd0ZXh0JywgJ2FycmF5QnVmZmVyJywgJ2Jsb2InLCAnZm9ybURhdGEnLCAnc3RyZWFtJ10uZm9yRWFjaCh0eXBlID0+IHtcbiAgICAhcmVzb2x2ZXJzW3R5cGVdICYmIChyZXNvbHZlcnNbdHlwZV0gPSB1dGlscy5pc0Z1bmN0aW9uKHJlc1t0eXBlXSkgPyAocmVzKSA9PiByZXNbdHlwZV0oKSA6XG4gICAgICAoXywgY29uZmlnKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBSZXNwb25zZSB0eXBlICcke3R5cGV9JyBpcyBub3Qgc3VwcG9ydGVkYCwgQXhpb3NFcnJvci5FUlJfTk9UX1NVUFBPUlQsIGNvbmZpZyk7XG4gICAgICB9KVxuICB9KTtcbn0pKG5ldyBSZXNwb25zZSkpO1xuXG5jb25zdCBnZXRCb2R5TGVuZ3RoID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgaWYgKGJvZHkgPT0gbnVsbCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgaWYodXRpbHMuaXNCbG9iKGJvZHkpKSB7XG4gICAgcmV0dXJuIGJvZHkuc2l6ZTtcbiAgfVxuXG4gIGlmKHV0aWxzLmlzU3BlY0NvbXBsaWFudEZvcm0oYm9keSkpIHtcbiAgICBjb25zdCBfcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHBsYXRmb3JtLm9yaWdpbiwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5LFxuICAgIH0pO1xuICAgIHJldHVybiAoYXdhaXQgX3JlcXVlc3QuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpIHx8IHV0aWxzLmlzQXJyYXlCdWZmZXIoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgaWYodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoYm9keSkpIHtcbiAgICBib2R5ID0gYm9keSArICcnO1xuICB9XG5cbiAgaWYodXRpbHMuaXNTdHJpbmcoYm9keSkpIHtcbiAgICByZXR1cm4gKGF3YWl0IGVuY29kZVRleHQoYm9keSkpLmJ5dGVMZW5ndGg7XG4gIH1cbn1cblxuY29uc3QgcmVzb2x2ZUJvZHlMZW5ndGggPSBhc3luYyAoaGVhZGVycywgYm9keSkgPT4ge1xuICBjb25zdCBsZW5ndGggPSB1dGlscy50b0Zpbml0ZU51bWJlcihoZWFkZXJzLmdldENvbnRlbnRMZW5ndGgoKSk7XG5cbiAgcmV0dXJuIGxlbmd0aCA9PSBudWxsID8gZ2V0Qm9keUxlbmd0aChib2R5KSA6IGxlbmd0aDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNGZXRjaFN1cHBvcnRlZCAmJiAoYXN5bmMgKGNvbmZpZykgPT4ge1xuICBsZXQge1xuICAgIHVybCxcbiAgICBtZXRob2QsXG4gICAgZGF0YSxcbiAgICBzaWduYWwsXG4gICAgY2FuY2VsVG9rZW4sXG4gICAgdGltZW91dCxcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3MsXG4gICAgb25VcGxvYWRQcm9ncmVzcyxcbiAgICByZXNwb25zZVR5cGUsXG4gICAgaGVhZGVycyxcbiAgICB3aXRoQ3JlZGVudGlhbHMgPSAnc2FtZS1vcmlnaW4nLFxuICAgIGZldGNoT3B0aW9uc1xuICB9ID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuXG4gIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSA/IChyZXNwb25zZVR5cGUgKyAnJykudG9Mb3dlckNhc2UoKSA6ICd0ZXh0JztcblxuICBsZXQgY29tcG9zZWRTaWduYWwgPSBjb21wb3NlU2lnbmFscyhbc2lnbmFsLCBjYW5jZWxUb2tlbiAmJiBjYW5jZWxUb2tlbi50b0Fib3J0U2lnbmFsKCldLCB0aW1lb3V0KTtcblxuICBsZXQgcmVxdWVzdDtcblxuICBjb25zdCB1bnN1YnNjcmliZSA9IGNvbXBvc2VkU2lnbmFsICYmIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlICYmICgoKSA9PiB7XG4gICAgICBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSgpO1xuICB9KTtcblxuICBsZXQgcmVxdWVzdENvbnRlbnRMZW5ndGg7XG5cbiAgdHJ5IHtcbiAgICBpZiAoXG4gICAgICBvblVwbG9hZFByb2dyZXNzICYmIHN1cHBvcnRzUmVxdWVzdFN0cmVhbSAmJiBtZXRob2QgIT09ICdnZXQnICYmIG1ldGhvZCAhPT0gJ2hlYWQnICYmXG4gICAgICAocmVxdWVzdENvbnRlbnRMZW5ndGggPSBhd2FpdCByZXNvbHZlQm9keUxlbmd0aChoZWFkZXJzLCBkYXRhKSkgIT09IDBcbiAgICApIHtcbiAgICAgIGxldCBfcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgZHVwbGV4OiBcImhhbGZcIlxuICAgICAgfSk7XG5cbiAgICAgIGxldCBjb250ZW50VHlwZUhlYWRlcjtcblxuICAgICAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZGF0YSkgJiYgKGNvbnRlbnRUeXBlSGVhZGVyID0gX3JlcXVlc3QuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSkge1xuICAgICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKGNvbnRlbnRUeXBlSGVhZGVyKVxuICAgICAgfVxuXG4gICAgICBpZiAoX3JlcXVlc3QuYm9keSkge1xuICAgICAgICBjb25zdCBbb25Qcm9ncmVzcywgZmx1c2hdID0gcHJvZ3Jlc3NFdmVudERlY29yYXRvcihcbiAgICAgICAgICByZXF1ZXN0Q29udGVudExlbmd0aCxcbiAgICAgICAgICBwcm9ncmVzc0V2ZW50UmVkdWNlcihhc3luY0RlY29yYXRvcihvblVwbG9hZFByb2dyZXNzKSlcbiAgICAgICAgKTtcblxuICAgICAgICBkYXRhID0gdHJhY2tTdHJlYW0oX3JlcXVlc3QuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCBmbHVzaCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF1dGlscy5pc1N0cmluZyh3aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICB3aXRoQ3JlZGVudGlhbHMgPSB3aXRoQ3JlZGVudGlhbHMgPyAnaW5jbHVkZScgOiAnb21pdCc7XG4gICAgfVxuXG4gICAgLy8gQ2xvdWRmbGFyZSBXb3JrZXJzIHRocm93cyB3aGVuIGNyZWRlbnRpYWxzIGFyZSBkZWZpbmVkXG4gICAgLy8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9jbG91ZGZsYXJlL3dvcmtlcmQvaXNzdWVzLzkwMlxuICAgIGNvbnN0IGlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQgPSBcImNyZWRlbnRpYWxzXCIgaW4gUmVxdWVzdC5wcm90b3R5cGU7XG4gICAgcmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwge1xuICAgICAgLi4uZmV0Y2hPcHRpb25zLFxuICAgICAgc2lnbmFsOiBjb21wb3NlZFNpZ25hbCxcbiAgICAgIG1ldGhvZDogbWV0aG9kLnRvVXBwZXJDYXNlKCksXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLm5vcm1hbGl6ZSgpLnRvSlNPTigpLFxuICAgICAgYm9keTogZGF0YSxcbiAgICAgIGR1cGxleDogXCJoYWxmXCIsXG4gICAgICBjcmVkZW50aWFsczogaXNDcmVkZW50aWFsc1N1cHBvcnRlZCA/IHdpdGhDcmVkZW50aWFscyA6IHVuZGVmaW5lZFxuICAgIH0pO1xuXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVxdWVzdCk7XG5cbiAgICBjb25zdCBpc1N0cmVhbVJlc3BvbnNlID0gc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAocmVzcG9uc2VUeXBlID09PSAnc3RyZWFtJyB8fCByZXNwb25zZVR5cGUgPT09ICdyZXNwb25zZScpO1xuXG4gICAgaWYgKHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKG9uRG93bmxvYWRQcm9ncmVzcyB8fCAoaXNTdHJlYW1SZXNwb25zZSAmJiB1bnN1YnNjcmliZSkpKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0ge307XG5cbiAgICAgIFsnc3RhdHVzJywgJ3N0YXR1c1RleHQnLCAnaGVhZGVycyddLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgIG9wdGlvbnNbcHJvcF0gPSByZXNwb25zZVtwcm9wXTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZUNvbnRlbnRMZW5ndGggPSB1dGlscy50b0Zpbml0ZU51bWJlcihyZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC1sZW5ndGgnKSk7XG5cbiAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBvbkRvd25sb2FkUHJvZ3Jlc3MgJiYgcHJvZ3Jlc3NFdmVudERlY29yYXRvcihcbiAgICAgICAgcmVzcG9uc2VDb250ZW50TGVuZ3RoLFxuICAgICAgICBwcm9ncmVzc0V2ZW50UmVkdWNlcihhc3luY0RlY29yYXRvcihvbkRvd25sb2FkUHJvZ3Jlc3MpLCB0cnVlKVxuICAgICAgKSB8fCBbXTtcblxuICAgICAgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UoXG4gICAgICAgIHRyYWNrU3RyZWFtKHJlc3BvbnNlLmJvZHksIERFRkFVTFRfQ0hVTktfU0laRSwgb25Qcm9ncmVzcywgKCkgPT4ge1xuICAgICAgICAgIGZsdXNoICYmIGZsdXNoKCk7XG4gICAgICAgICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfSksXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlIHx8ICd0ZXh0JztcblxuICAgIGxldCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNvbHZlcnNbdXRpbHMuZmluZEtleShyZXNvbHZlcnMsIHJlc3BvbnNlVHlwZSkgfHwgJ3RleHQnXShyZXNwb25zZSwgY29uZmlnKTtcblxuICAgICFpc1N0cmVhbVJlc3BvbnNlICYmIHVuc3Vic2NyaWJlICYmIHVuc3Vic2NyaWJlKCk7XG5cbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIGhlYWRlcnM6IEF4aW9zSGVhZGVycy5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9KVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHVuc3Vic2NyaWJlICYmIHVuc3Vic2NyaWJlKCk7XG5cbiAgICBpZiAoZXJyICYmIGVyci5uYW1lID09PSAnVHlwZUVycm9yJyAmJiAvZmV0Y2gvaS50ZXN0KGVyci5tZXNzYWdlKSkge1xuICAgICAgdGhyb3cgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmV3IEF4aW9zRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpLFxuICAgICAgICB7XG4gICAgICAgICAgY2F1c2U6IGVyci5jYXVzZSB8fCBlcnJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlcnIsIGVyciAmJiBlcnIuY29kZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgfVxufSk7XG5cblxuIiwKICAgICJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IGh0dHBBZGFwdGVyIGZyb20gJy4vaHR0cC5qcyc7XG5pbXBvcnQgeGhyQWRhcHRlciBmcm9tICcuL3hoci5qcyc7XG5pbXBvcnQgZmV0Y2hBZGFwdGVyIGZyb20gJy4vZmV0Y2guanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuXG5jb25zdCBrbm93bkFkYXB0ZXJzID0ge1xuICBodHRwOiBodHRwQWRhcHRlcixcbiAgeGhyOiB4aHJBZGFwdGVyLFxuICBmZXRjaDogZmV0Y2hBZGFwdGVyXG59XG5cbnV0aWxzLmZvckVhY2goa25vd25BZGFwdGVycywgKGZuLCB2YWx1ZSkgPT4ge1xuICBpZiAoZm4pIHtcbiAgICB0cnkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnbmFtZScsIHt2YWx1ZX0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICdhZGFwdGVyTmFtZScsIHt2YWx1ZX0pO1xuICB9XG59KTtcblxuY29uc3QgcmVuZGVyUmVhc29uID0gKHJlYXNvbikgPT4gYC0gJHtyZWFzb259YDtcblxuY29uc3QgaXNSZXNvbHZlZEhhbmRsZSA9IChhZGFwdGVyKSA9PiB1dGlscy5pc0Z1bmN0aW9uKGFkYXB0ZXIpIHx8IGFkYXB0ZXIgPT09IG51bGwgfHwgYWRhcHRlciA9PT0gZmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZ2V0QWRhcHRlcjogKGFkYXB0ZXJzKSA9PiB7XG4gICAgYWRhcHRlcnMgPSB1dGlscy5pc0FycmF5KGFkYXB0ZXJzKSA/IGFkYXB0ZXJzIDogW2FkYXB0ZXJzXTtcblxuICAgIGNvbnN0IHtsZW5ndGh9ID0gYWRhcHRlcnM7XG4gICAgbGV0IG5hbWVPckFkYXB0ZXI7XG4gICAgbGV0IGFkYXB0ZXI7XG5cbiAgICBjb25zdCByZWplY3RlZFJlYXNvbnMgPSB7fTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIG5hbWVPckFkYXB0ZXIgPSBhZGFwdGVyc1tpXTtcbiAgICAgIGxldCBpZDtcblxuICAgICAgYWRhcHRlciA9IG5hbWVPckFkYXB0ZXI7XG5cbiAgICAgIGlmICghaXNSZXNvbHZlZEhhbmRsZShuYW1lT3JBZGFwdGVyKSkge1xuICAgICAgICBhZGFwdGVyID0ga25vd25BZGFwdGVyc1soaWQgPSBTdHJpbmcobmFtZU9yQWRhcHRlcikpLnRvTG93ZXJDYXNlKCldO1xuXG4gICAgICAgIGlmIChhZGFwdGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihgVW5rbm93biBhZGFwdGVyICcke2lkfSdgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYWRhcHRlcikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcmVqZWN0ZWRSZWFzb25zW2lkIHx8ICcjJyArIGldID0gYWRhcHRlcjtcbiAgICB9XG5cbiAgICBpZiAoIWFkYXB0ZXIpIHtcblxuICAgICAgY29uc3QgcmVhc29ucyA9IE9iamVjdC5lbnRyaWVzKHJlamVjdGVkUmVhc29ucylcbiAgICAgICAgLm1hcCgoW2lkLCBzdGF0ZV0pID0+IGBhZGFwdGVyICR7aWR9IGAgK1xuICAgICAgICAgIChzdGF0ZSA9PT0gZmFsc2UgPyAnaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgZW52aXJvbm1lbnQnIDogJ2lzIG5vdCBhdmFpbGFibGUgaW4gdGhlIGJ1aWxkJylcbiAgICAgICAgKTtcblxuICAgICAgbGV0IHMgPSBsZW5ndGggP1xuICAgICAgICAocmVhc29ucy5sZW5ndGggPiAxID8gJ3NpbmNlIDpcXG4nICsgcmVhc29ucy5tYXAocmVuZGVyUmVhc29uKS5qb2luKCdcXG4nKSA6ICcgJyArIHJlbmRlclJlYXNvbihyZWFzb25zWzBdKSkgOlxuICAgICAgICAnYXMgbm8gYWRhcHRlciBzcGVjaWZpZWQnO1xuXG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgYFRoZXJlIGlzIG5vIHN1aXRhYmxlIGFkYXB0ZXIgdG8gZGlzcGF0Y2ggdGhlIHJlcXVlc3QgYCArIHMsXG4gICAgICAgICdFUlJfTk9UX1NVUFBPUlQnXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBhZGFwdGVyO1xuICB9LFxuICBhZGFwdGVyczoga25vd25BZGFwdGVyc1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0cmFuc2Zvcm1EYXRhIGZyb20gJy4vdHJhbnNmb3JtRGF0YS5qcyc7XG5pbXBvcnQgaXNDYW5jZWwgZnJvbSAnLi4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcbmltcG9ydCBhZGFwdGVycyBmcm9tIFwiLi4vYWRhcHRlcnMvYWRhcHRlcnMuanNcIjtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxuXG4gIGlmIChjb25maWcuc2lnbmFsICYmIGNvbmZpZy5zaWduYWwuYWJvcnRlZCkge1xuICAgIHRocm93IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGNvbmZpZy5oZWFkZXJzKTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgIGNvbmZpZyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIGlmIChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10uaW5kZXhPZihjb25maWcubWV0aG9kKSAhPT0gLTEpIHtcbiAgICBjb25maWcuaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgYWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXIoY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcik7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICByZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVhc29uLnJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn1cbiIsCiAgICAiZXhwb3J0IGNvbnN0IFZFUlNJT04gPSBcIjEuOC4zXCI7IiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi4vZW52L2RhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHt9O1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuWydvYmplY3QnLCAnYm9vbGVhbicsICdudW1iZXInLCAnZnVuY3Rpb24nLCAnc3RyaW5nJywgJ3N5bWJvbCddLmZvckVhY2goKHR5cGUsIGkpID0+IHtcbiAgdmFsaWRhdG9yc1t0eXBlXSA9IGZ1bmN0aW9uIHZhbGlkYXRvcih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IHR5cGUgfHwgJ2EnICsgKGkgPCAxID8gJ24gJyA6ICcgJykgKyB0eXBlO1xuICB9O1xufSk7XG5cbmNvbnN0IGRlcHJlY2F0ZWRXYXJuaW5ncyA9IHt9O1xuXG4vKipcbiAqIFRyYW5zaXRpb25hbCBvcHRpb24gdmFsaWRhdG9yXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbnxib29sZWFuP30gdmFsaWRhdG9yIC0gc2V0IHRvIGZhbHNlIGlmIHRoZSB0cmFuc2l0aW9uYWwgb3B0aW9uIGhhcyBiZWVuIHJlbW92ZWRcbiAqIEBwYXJhbSB7c3RyaW5nP30gdmVyc2lvbiAtIGRlcHJlY2F0ZWQgdmVyc2lvbiAvIHJlbW92ZWQgc2luY2UgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmc/fSBtZXNzYWdlIC0gc29tZSBtZXNzYWdlIHdpdGggYWRkaXRpb25hbCBpbmZvXG4gKlxuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG52YWxpZGF0b3JzLnRyYW5zaXRpb25hbCA9IGZ1bmN0aW9uIHRyYW5zaXRpb25hbCh2YWxpZGF0b3IsIHZlcnNpb24sIG1lc3NhZ2UpIHtcbiAgZnVuY3Rpb24gZm9ybWF0TWVzc2FnZShvcHQsIGRlc2MpIHtcbiAgICByZXR1cm4gJ1tBeGlvcyB2JyArIFZFUlNJT04gKyAnXSBUcmFuc2l0aW9uYWwgb3B0aW9uIFxcJycgKyBvcHQgKyAnXFwnJyArIGRlc2MgKyAobWVzc2FnZSA/ICcuICcgKyBtZXNzYWdlIDogJycpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuICh2YWx1ZSwgb3B0LCBvcHRzKSA9PiB7XG4gICAgaWYgKHZhbGlkYXRvciA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKG9wdCwgJyBoYXMgYmVlbiByZW1vdmVkJyArICh2ZXJzaW9uID8gJyBpbiAnICsgdmVyc2lvbiA6ICcnKSksXG4gICAgICAgIEF4aW9zRXJyb3IuRVJSX0RFUFJFQ0FURURcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHZlcnNpb24gJiYgIWRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdKSB7XG4gICAgICBkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSA9IHRydWU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBmb3JtYXRNZXNzYWdlKFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAnIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdicgKyB2ZXJzaW9uICsgJyBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZWFyIGZ1dHVyZSdcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yID8gdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdHMpIDogdHJ1ZTtcbiAgfTtcbn07XG5cbnZhbGlkYXRvcnMuc3BlbGxpbmcgPSBmdW5jdGlvbiBzcGVsbGluZyhjb3JyZWN0U3BlbGxpbmcpIHtcbiAgcmV0dXJuICh2YWx1ZSwgb3B0KSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLndhcm4oYCR7b3B0fSBpcyBsaWtlbHkgYSBtaXNzcGVsbGluZyBvZiAke2NvcnJlY3RTcGVsbGluZ31gKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlbWFcbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGFsbG93VW5rbm93blxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgY29uc3Qgb3B0ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdGlvbnMpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT04pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFzc2VydE9wdGlvbnMsXG4gIHZhbGlkYXRvcnNcbn07XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gJy4uL2hlbHBlcnMvYnVpbGRVUkwuanMnO1xuaW1wb3J0IEludGVyY2VwdG9yTWFuYWdlciBmcm9tICcuL0ludGVyY2VwdG9yTWFuYWdlci5qcyc7XG5pbXBvcnQgZGlzcGF0Y2hSZXF1ZXN0IGZyb20gJy4vZGlzcGF0Y2hSZXF1ZXN0LmpzJztcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tICcuL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBidWlsZEZ1bGxQYXRoIGZyb20gJy4vYnVpbGRGdWxsUGF0aC5qcyc7XG5pbXBvcnQgdmFsaWRhdG9yIGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdG9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi9BeGlvc0hlYWRlcnMuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0gdmFsaWRhdG9yLnZhbGlkYXRvcnM7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybiB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmNsYXNzIEF4aW9zIHtcbiAgY29uc3RydWN0b3IoaW5zdGFuY2VDb25maWcpIHtcbiAgICB0aGlzLmRlZmF1bHRzID0gaW5zdGFuY2VDb25maWc7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBjb25maWdPclVybCBUaGUgY29uZmlnIHNwZWNpZmljIGZvciB0aGlzIHJlcXVlc3QgKG1lcmdlZCB3aXRoIHRoaXMuZGVmYXVsdHMpXG4gICAqIEBwYXJhbSB7P09iamVjdH0gY29uZmlnXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAgICovXG4gIGFzeW5jIHJlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBsZXQgZHVtbXkgPSB7fTtcblxuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKGR1bW15KSA6IChkdW1teSA9IG5ldyBFcnJvcigpKTtcblxuICAgICAgICAvLyBzbGljZSBvZmYgdGhlIEVycm9yOiAuLi4gbGluZVxuICAgICAgICBjb25zdCBzdGFjayA9IGR1bW15LnN0YWNrID8gZHVtbXkuc3RhY2sucmVwbGFjZSgvXi4rXFxuLywgJycpIDogJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFlcnIuc3RhY2spIHtcbiAgICAgICAgICAgIGVyci5zdGFjayA9IHN0YWNrO1xuICAgICAgICAgICAgLy8gbWF0Y2ggd2l0aG91dCB0aGUgMiB0b3Agc3RhY2sgbGluZXNcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YWNrICYmICFTdHJpbmcoZXJyLnN0YWNrKS5lbmRzV2l0aChzdGFjay5yZXBsYWNlKC9eLitcXG4uK1xcbi8sICcnKSkpIHtcbiAgICAgICAgICAgIGVyci5zdGFjayArPSAnXFxuJyArIHN0YWNrXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaWdub3JlIHRoZSBjYXNlIHdoZXJlIFwic3RhY2tcIiBpcyBhbiB1bi13cml0YWJsZSBwcm9wZXJ0eVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICBfcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICAgIGlmICh0eXBlb2YgY29uZmlnT3JVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25maWcgPSBjb25maWcgfHwge307XG4gICAgICBjb25maWcudXJsID0gY29uZmlnT3JVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZ09yVXJsIHx8IHt9O1xuICAgIH1cblxuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG5cbiAgICBjb25zdCB7dHJhbnNpdGlvbmFsLCBwYXJhbXNTZXJpYWxpemVyLCBoZWFkZXJzfSA9IGNvbmZpZztcblxuICAgIGlmICh0cmFuc2l0aW9uYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnModHJhbnNpdGlvbmFsLCB7XG4gICAgICAgIHNpbGVudEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBmb3JjZWRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgY2xhcmlmeVRpbWVvdXRFcnJvcjogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKVxuICAgICAgfSwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXNTZXJpYWxpemVyICE9IG51bGwpIHtcbiAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcmFtc1NlcmlhbGl6ZXIpKSB7XG4gICAgICAgIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyID0ge1xuICAgICAgICAgIHNlcmlhbGl6ZTogcGFyYW1zU2VyaWFsaXplclxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhwYXJhbXNTZXJpYWxpemVyLCB7XG4gICAgICAgICAgZW5jb2RlOiB2YWxpZGF0b3JzLmZ1bmN0aW9uLFxuICAgICAgICAgIHNlcmlhbGl6ZTogdmFsaWRhdG9ycy5mdW5jdGlvblxuICAgICAgICB9LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZXQgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzXG4gICAgaWYgKGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBkbyBub3RoaW5nXG4gICAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRzLmFsbG93QWJzb2x1dGVVcmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyA9IHRoaXMuZGVmYXVsdHMuYWxsb3dBYnNvbHV0ZVVybHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMoY29uZmlnLCB7XG4gICAgICBiYXNlVXJsOiB2YWxpZGF0b3JzLnNwZWxsaW5nKCdiYXNlVVJMJyksXG4gICAgICB3aXRoWHNyZlRva2VuOiB2YWxpZGF0b3JzLnNwZWxsaW5nKCd3aXRoWFNSRlRva2VuJylcbiAgICB9LCB0cnVlKTtcblxuICAgIC8vIFNldCBjb25maWcubWV0aG9kXG4gICAgY29uZmlnLm1ldGhvZCA9IChjb25maWcubWV0aG9kIHx8IHRoaXMuZGVmYXVsdHMubWV0aG9kIHx8ICdnZXQnKS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgLy8gRmxhdHRlbiBoZWFkZXJzXG4gICAgbGV0IGNvbnRleHRIZWFkZXJzID0gaGVhZGVycyAmJiB1dGlscy5tZXJnZShcbiAgICAgIGhlYWRlcnMuY29tbW9uLFxuICAgICAgaGVhZGVyc1tjb25maWcubWV0aG9kXVxuICAgICk7XG5cbiAgICBoZWFkZXJzICYmIHV0aWxzLmZvckVhY2goXG4gICAgICBbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCcsICdjb21tb24nXSxcbiAgICAgIChtZXRob2QpID0+IHtcbiAgICAgICAgZGVsZXRlIGhlYWRlcnNbbWV0aG9kXTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuY29uY2F0KGNvbnRleHRIZWFkZXJzLCBoZWFkZXJzKTtcblxuICAgIC8vIGZpbHRlciBvdXQgc2tpcHBlZCBpbnRlcmNlcHRvcnNcbiAgICBjb25zdCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIGxldCBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSB0cnVlO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgaWYgKHR5cGVvZiBpbnRlcmNlcHRvci5ydW5XaGVuID09PSAnZnVuY3Rpb24nICYmIGludGVyY2VwdG9yLnJ1bldoZW4oY29uZmlnKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgPSBzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMgJiYgaW50ZXJjZXB0b3Iuc3luY2hyb25vdXM7XG5cbiAgICAgIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gICAgfSk7XG5cbiAgICBsZXQgcHJvbWlzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IGxlbjtcblxuICAgIGlmICghc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzKSB7XG4gICAgICBjb25zdCBjaGFpbiA9IFtkaXNwYXRjaFJlcXVlc3QuYmluZCh0aGlzKSwgdW5kZWZpbmVkXTtcbiAgICAgIGNoYWluLnVuc2hpZnQuYXBwbHkoY2hhaW4sIHJlcXVlc3RJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGNoYWluLnB1c2guYXBwbHkoY2hhaW4sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBsZW4gPSBjaGFpbi5sZW5ndGg7XG5cbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihjaGFpbltpKytdLCBjaGFpbltpKytdKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuXG4gICAgbGVuID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgbGV0IG5ld0NvbmZpZyA9IGNvbmZpZztcblxuICAgIGkgPSAwO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGNvbnN0IG9uRnVsZmlsbGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIGNvbnN0IG9uUmVqZWN0ZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3Q29uZmlnID0gb25GdWxmaWxsZWQobmV3Q29uZmlnKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIG9uUmVqZWN0ZWQuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBwcm9taXNlID0gZGlzcGF0Y2hSZXF1ZXN0LmNhbGwodGhpcywgbmV3Q29uZmlnKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG5cbiAgICBpID0gMDtcbiAgICBsZW4gPSByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10sIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIGdldFVyaShjb25maWcpIHtcbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICAgIGNvbnN0IGZ1bGxQYXRoID0gYnVpbGRGdWxsUGF0aChjb25maWcuYmFzZVVSTCwgY29uZmlnLnVybCwgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzKTtcbiAgICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgfVxufVxuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvcztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL0NhbmNlbGVkRXJyb3IuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZXhlY3V0b3IgVGhlIGV4ZWN1dG9yIGZ1bmN0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxUb2tlbn1cbiAqL1xuY2xhc3MgQ2FuY2VsVG9rZW4ge1xuICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7XG5cbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBwcm9taXNlRXhlY3V0b3IocmVzb2x2ZSkge1xuICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG9rZW4gPSB0aGlzO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbihjYW5jZWwgPT4ge1xuICAgICAgaWYgKCF0b2tlbi5fbGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAgIGxldCBpID0gdG9rZW4uX2xpc3RlbmVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIHRva2VuLl9saXN0ZW5lcnNbaV0oY2FuY2VsKTtcbiAgICAgIH1cbiAgICAgIHRva2VuLl9saXN0ZW5lcnMgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICB0aGlzLnByb21pc2UudGhlbiA9IG9uZnVsZmlsbGVkID0+IHtcbiAgICAgIGxldCBfcmVzb2x2ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHRva2VuLnN1YnNjcmliZShyZXNvbHZlKTtcbiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgfSkudGhlbihvbmZ1bGZpbGxlZCk7XG5cbiAgICAgIHByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24gcmVqZWN0KCkge1xuICAgICAgICB0b2tlbi51bnN1YnNjcmliZShfcmVzb2x2ZSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgZXhlY3V0b3IoZnVuY3Rpb24gY2FuY2VsKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAgICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgICAvLyBDYW5jZWxsYXRpb24gaGFzIGFscmVhZHkgYmVlbiByZXF1ZXN0ZWRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0b2tlbi5yZWFzb24gPSBuZXcgQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpO1xuICAgICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAgICovXG4gIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgbGlzdGVuZXIodGhpcy5yZWFzb24pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW2xpc3RlbmVyXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgZnJvbSB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICB1bnN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fbGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuXG4gIHRvQWJvcnRTaWduYWwoKSB7XG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGNvbnN0IGFib3J0ID0gKGVycikgPT4ge1xuICAgICAgY29udHJvbGxlci5hYm9ydChlcnIpO1xuICAgIH07XG5cbiAgICB0aGlzLnN1YnNjcmliZShhYm9ydCk7XG5cbiAgICBjb250cm9sbGVyLnNpZ25hbC51bnN1YnNjcmliZSA9ICgpID0+IHRoaXMudW5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgcmV0dXJuIGNvbnRyb2xsZXIuc2lnbmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAgICogY2FuY2VscyB0aGUgYENhbmNlbFRva2VuYC5cbiAgICovXG4gIHN0YXRpYyBzb3VyY2UoKSB7XG4gICAgbGV0IGNhbmNlbDtcbiAgICBjb25zdCB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgICBjYW5jZWwgPSBjO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0b2tlbixcbiAgICAgIGNhbmNlbFxuICAgIH07XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsVG9rZW47XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3NcbiAqXG4gKiBAcGFyYW0geyp9IHBheWxvYWQgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGF5bG9hZCBpcyBhbiBlcnJvciB0aHJvd24gYnkgQXhpb3MsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0F4aW9zRXJyb3IocGF5bG9hZCkge1xuICByZXR1cm4gdXRpbHMuaXNPYmplY3QocGF5bG9hZCkgJiYgKHBheWxvYWQuaXNBeGlvc0Vycm9yID09PSB0cnVlKTtcbn1cbiIsCiAgICAiY29uc3QgSHR0cFN0YXR1c0NvZGUgPSB7XG4gIENvbnRpbnVlOiAxMDAsXG4gIFN3aXRjaGluZ1Byb3RvY29sczogMTAxLFxuICBQcm9jZXNzaW5nOiAxMDIsXG4gIEVhcmx5SGludHM6IDEwMyxcbiAgT2s6IDIwMCxcbiAgQ3JlYXRlZDogMjAxLFxuICBBY2NlcHRlZDogMjAyLFxuICBOb25BdXRob3JpdGF0aXZlSW5mb3JtYXRpb246IDIwMyxcbiAgTm9Db250ZW50OiAyMDQsXG4gIFJlc2V0Q29udGVudDogMjA1LFxuICBQYXJ0aWFsQ29udGVudDogMjA2LFxuICBNdWx0aVN0YXR1czogMjA3LFxuICBBbHJlYWR5UmVwb3J0ZWQ6IDIwOCxcbiAgSW1Vc2VkOiAyMjYsXG4gIE11bHRpcGxlQ2hvaWNlczogMzAwLFxuICBNb3ZlZFBlcm1hbmVudGx5OiAzMDEsXG4gIEZvdW5kOiAzMDIsXG4gIFNlZU90aGVyOiAzMDMsXG4gIE5vdE1vZGlmaWVkOiAzMDQsXG4gIFVzZVByb3h5OiAzMDUsXG4gIFVudXNlZDogMzA2LFxuICBUZW1wb3JhcnlSZWRpcmVjdDogMzA3LFxuICBQZXJtYW5lbnRSZWRpcmVjdDogMzA4LFxuICBCYWRSZXF1ZXN0OiA0MDAsXG4gIFVuYXV0aG9yaXplZDogNDAxLFxuICBQYXltZW50UmVxdWlyZWQ6IDQwMixcbiAgRm9yYmlkZGVuOiA0MDMsXG4gIE5vdEZvdW5kOiA0MDQsXG4gIE1ldGhvZE5vdEFsbG93ZWQ6IDQwNSxcbiAgTm90QWNjZXB0YWJsZTogNDA2LFxuICBQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDQwNyxcbiAgUmVxdWVzdFRpbWVvdXQ6IDQwOCxcbiAgQ29uZmxpY3Q6IDQwOSxcbiAgR29uZTogNDEwLFxuICBMZW5ndGhSZXF1aXJlZDogNDExLFxuICBQcmVjb25kaXRpb25GYWlsZWQ6IDQxMixcbiAgUGF5bG9hZFRvb0xhcmdlOiA0MTMsXG4gIFVyaVRvb0xvbmc6IDQxNCxcbiAgVW5zdXBwb3J0ZWRNZWRpYVR5cGU6IDQxNSxcbiAgUmFuZ2VOb3RTYXRpc2ZpYWJsZTogNDE2LFxuICBFeHBlY3RhdGlvbkZhaWxlZDogNDE3LFxuICBJbUFUZWFwb3Q6IDQxOCxcbiAgTWlzZGlyZWN0ZWRSZXF1ZXN0OiA0MjEsXG4gIFVucHJvY2Vzc2FibGVFbnRpdHk6IDQyMixcbiAgTG9ja2VkOiA0MjMsXG4gIEZhaWxlZERlcGVuZGVuY3k6IDQyNCxcbiAgVG9vRWFybHk6IDQyNSxcbiAgVXBncmFkZVJlcXVpcmVkOiA0MjYsXG4gIFByZWNvbmRpdGlvblJlcXVpcmVkOiA0MjgsXG4gIFRvb01hbnlSZXF1ZXN0czogNDI5LFxuICBSZXF1ZXN0SGVhZGVyRmllbGRzVG9vTGFyZ2U6IDQzMSxcbiAgVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6IDQ1MSxcbiAgSW50ZXJuYWxTZXJ2ZXJFcnJvcjogNTAwLFxuICBOb3RJbXBsZW1lbnRlZDogNTAxLFxuICBCYWRHYXRld2F5OiA1MDIsXG4gIFNlcnZpY2VVbmF2YWlsYWJsZTogNTAzLFxuICBHYXRld2F5VGltZW91dDogNTA0LFxuICBIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDogNTA1LFxuICBWYXJpYW50QWxzb05lZ290aWF0ZXM6IDUwNixcbiAgSW5zdWZmaWNpZW50U3RvcmFnZTogNTA3LFxuICBMb29wRGV0ZWN0ZWQ6IDUwOCxcbiAgTm90RXh0ZW5kZWQ6IDUxMCxcbiAgTmV0d29ya0F1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6IDUxMSxcbn07XG5cbk9iamVjdC5lbnRyaWVzKEh0dHBTdGF0dXNDb2RlKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgSHR0cFN0YXR1c0NvZGVbdmFsdWVdID0ga2V5O1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEh0dHBTdGF0dXNDb2RlO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcbmltcG9ydCBBeGlvcyBmcm9tICcuL2NvcmUvQXhpb3MuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vY29yZS9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgZm9ybURhdGFUb0pTT04gZnJvbSAnLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IENhbmNlbFRva2VuIGZyb20gJy4vY2FuY2VsL0NhbmNlbFRva2VuLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQge1ZFUlNJT059IGZyb20gJy4vZW52L2RhdGEuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi9oZWxwZXJzL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHNwcmVhZCBmcm9tICcuL2hlbHBlcnMvc3ByZWFkLmpzJztcbmltcG9ydCBpc0F4aW9zRXJyb3IgZnJvbSAnLi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSAnLi9hZGFwdGVycy9hZGFwdGVycy5qcyc7XG5pbXBvcnQgSHR0cFN0YXR1c0NvZGUgZnJvbSAnLi9oZWxwZXJzL0h0dHBTdGF0dXNDb2RlLmpzJztcblxuLyoqXG4gKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZGVmYXVsdENvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm5zIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdENvbmZpZykge1xuICBjb25zdCBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICBjb25zdCBpbnN0YW5jZSA9IGJpbmQoQXhpb3MucHJvdG90eXBlLnJlcXVlc3QsIGNvbnRleHQpO1xuXG4gIC8vIENvcHkgYXhpb3MucHJvdG90eXBlIHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgQXhpb3MucHJvdG90eXBlLCBjb250ZXh0LCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIENvcHkgY29udGV4dCB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIGNvbnRleHQsIG51bGwsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gRmFjdG9yeSBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlc1xuICBpbnN0YW5jZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgICByZXR1cm4gY3JlYXRlSW5zdGFuY2UobWVyZ2VDb25maWcoZGVmYXVsdENvbmZpZywgaW5zdGFuY2VDb25maWcpKTtcbiAgfTtcblxuICByZXR1cm4gaW5zdGFuY2U7XG59XG5cbi8vIENyZWF0ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB0byBiZSBleHBvcnRlZFxuY29uc3QgYXhpb3MgPSBjcmVhdGVJbnN0YW5jZShkZWZhdWx0cyk7XG5cbi8vIEV4cG9zZSBBeGlvcyBjbGFzcyB0byBhbGxvdyBjbGFzcyBpbmhlcml0YW5jZVxuYXhpb3MuQXhpb3MgPSBBeGlvcztcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWxlZEVycm9yID0gQ2FuY2VsZWRFcnJvcjtcbmF4aW9zLkNhbmNlbFRva2VuID0gQ2FuY2VsVG9rZW47XG5heGlvcy5pc0NhbmNlbCA9IGlzQ2FuY2VsO1xuYXhpb3MuVkVSU0lPTiA9IFZFUlNJT047XG5heGlvcy50b0Zvcm1EYXRhID0gdG9Gb3JtRGF0YTtcblxuLy8gRXhwb3NlIEF4aW9zRXJyb3IgY2xhc3NcbmF4aW9zLkF4aW9zRXJyb3IgPSBBeGlvc0Vycm9yO1xuXG4vLyBhbGlhcyBmb3IgQ2FuY2VsZWRFcnJvciBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuYXhpb3MuQ2FuY2VsID0gYXhpb3MuQ2FuY2VsZWRFcnJvcjtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcblxuYXhpb3Muc3ByZWFkID0gc3ByZWFkO1xuXG4vLyBFeHBvc2UgaXNBeGlvc0Vycm9yXG5heGlvcy5pc0F4aW9zRXJyb3IgPSBpc0F4aW9zRXJyb3I7XG5cbi8vIEV4cG9zZSBtZXJnZUNvbmZpZ1xuYXhpb3MubWVyZ2VDb25maWcgPSBtZXJnZUNvbmZpZztcblxuYXhpb3MuQXhpb3NIZWFkZXJzID0gQXhpb3NIZWFkZXJzO1xuXG5heGlvcy5mb3JtVG9KU09OID0gdGhpbmcgPT4gZm9ybURhdGFUb0pTT04odXRpbHMuaXNIVE1MRm9ybSh0aGluZykgPyBuZXcgRm9ybURhdGEodGhpbmcpIDogdGhpbmcpO1xuXG5heGlvcy5nZXRBZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcjtcblxuYXhpb3MuSHR0cFN0YXR1c0NvZGUgPSBIdHRwU3RhdHVzQ29kZTtcblxuYXhpb3MuZGVmYXVsdCA9IGF4aW9zO1xuXG4vLyB0aGlzIG1vZHVsZSBzaG91bGQgb25seSBoYXZlIGEgZGVmYXVsdCBleHBvcnRcbmV4cG9ydCBkZWZhdWx0IGF4aW9zXG4iLAogICAgImltcG9ydCB7XG4gICAgZGVmYXVsdCBhcyBBeGlvc1xufSBmcm9tIFwiYXhpb3NcIjtcblxuZXhwb3J0IHR5cGUgU2VydmVyPFxuICAgIFQxIGV4dGVuZHMgU2VydmVyLkVuZHBvaW50cywgXG4gICAgVDIgZXh0ZW5kcyBTZXJ2ZXIuUmVjZWl2ZXJFbmRwb2ludHNcbiAgICA+ID0ge1xuICAgIHF1ZXJ5PFQzIGV4dGVuZHMga2V5b2YgVDE+KHVybDogVDMpOiBQcm9taXNlPFQxW1QzXT47XG4gICAgdG91Y2g8VDMgZXh0ZW5kcyBrZXlvZiBUMj4odXJsOiBUMywgZGF0YTogVDJbVDNdWzBdKTogUHJvbWlzZTxUMltUM11bMV0+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNlcnZlcjxcbiAgICBUMSBleHRlbmRzIFNlcnZlci5FbmRwb2ludHMsXG4gICAgVDIgZXh0ZW5kcyBTZXJ2ZXIuUmVjZWl2ZXJFbmRwb2ludHNcbiAgICA+KCk6IFNlcnZlcjxUMSwgVDI+IHtcbiAgICAvKiogQGNvbnN0cnVjdG9yICovIHtcbiAgICAgICAgcmV0dXJuIHtxdWVyeSwgdG91Y2h9O1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBmdW5jdGlvbiBxdWVyeTxUMyBleHRlbmRzIGtleW9mIFQxPih1cmw6IFQzKTogUHJvbWlzZTxUMVtUM10+IHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCBBeGlvcy5nZXQoKHVybCBhcyBzdHJpbmcpKSkuZGF0YTtcbiAgICB9XG4gICAgXG4gICAgYXN5bmMgZnVuY3Rpb24gdG91Y2g8VDMgZXh0ZW5kcyBrZXlvZiBUMj4odXJsOiBUMywgZGF0YTogVDJbVDNdWzBdKTogUHJvbWlzZTxUMltUM11bMV0+IHtcbiAgICAgICAgcmV0dXJuIChhd2FpdCBBeGlvcy5wb3N0KCh1cmwgYXMgc3RyaW5nKSwgZGF0YSkpLmRhdGE7XG4gICAgfSAgIFxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFNlcnZlciB7XG4gICAgLyoqXG4gICAgICogKioqd2hlcmUqKipcbiAgICAgKiAqICAgICBUMSA6IHVybFxuICAgICAqICogICAgIFQyIDogcmVzcG9uc2VcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBFbmRwb2ludHM8VDEgZXh0ZW5kcyBzdHJpbmc9c3RyaW5nLCBUMj11bmtub3duPiA9IFJlY29yZDxUMSwgVDI+O1xuXG4gICAgLyoqXG4gICAgICogKioqd2hlcmUqKipcbiAgICAgKiAqICAgICBUMSA6IHVybFxuICAgICAqICogICAgIFQyIDogcmVxdWVzdFxuICAgICAqICogICAgIFQzIDogcmVzcG9uc2VcbiAgICAgKi9cbiAgICBleHBvcnQgdHlwZSBSZWNlaXZlckVuZHBvaW50czxcbiAgICAgICAgVDEgZXh0ZW5kcyBzdHJpbmc9c3RyaW5nLFxuICAgICAgICBUMj11bmtub3duLFxuICAgICAgICBUMz11bmtub3duXG4gICAgICAgID4gPSBSZWNvcmQ8VDEsIFtUMiwgVDNdPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICBTZXJ2ZXJcbn0gZnJvbSBcIkBjb21tb25cIjtcblxuZXhwb3J0IGNvbnN0IEJyaWRnZSA9IFNlcnZlcjx7fSwge1xuICAgIFwiL3VzZXJuYW1lX2lzX2F2YWlsYWJsZVwiOiBbe1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nXG4gICAgfSwge1xuICAgICAgICBzdWNjZXNzOiBib29sZWFuXG4gICAgfV0sXG4gICAgXCIvcHJvZHVjdF9pc19pbl9zdG9ja1wiOiBbXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgYm9vbGVhblxuICAgIF0sXG4gICAgXCIvaGFzX3Byb2R1Y3RcIjogW1xuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsIFxuICAgICAgICBib29sZWFuXG4gICAgXSxcbiAgICBcIi9tYXRlcmlhbHNcIjogW1xuICAgICAgICBudWxsLCBcbiAgICAgICAgQXJyYXk8c3RyaW5nPlxuICAgIF0sXG4gICAgXCIvcHJvZHVjdHNfYnlfa2V5XCI6IFtcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICByZXNwb25zZTogQXJyYXk8UHJvZHVjdERhdGE+XG4gICAgXSxcbiAgICBcIi9wcm9kdWN0c1wiOiBbXG4gICAgICAgIG51bGwsIFxuICAgICAgICByZXNwb25zZTogQXJyYXk8UHJvZHVjdERhdGE+XG4gICAgXSxcbiAgICBcIi9zaWduX3VwXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIGVtYWlsOiBzdHJpbmdcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvc2lnbl9pblwiOiBbe1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgICAgICBwYXNzd29yZDogc3RyaW5nXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2xpc3RcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0OiBQcm9kdWN0RGF0YVxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXVxuICAgIFwiL2RlbGlzdFwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZ1xuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXVxuICAgIFwiL3NldF9zdG9ja1wiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2luY3JlYXNlX3N0b2NrXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvZGVjcmVhc2Vfc3RvY2tcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9zZXRfcHJpY2VcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9pbmNyZWFzZV9wcmljZVwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2RlY3JlYXNlX3ByaWNlXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF1cbn0+KCk7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQnJpZGdlIHtcbiAgICBleHBvcnQgdHlwZSBFcnIgPVxuICAgICAgICB8IFwiQlJJREdFLkVSUl9JTlZBTElEX1JFUVVFU1RcIlxuICAgICAgICB8IFwiQlJJREdFLkVSUl9VU0VSTkFNRV9OT1RfQVZBSUxBQkxFXCI7XG59IiwKICAgICJleHBvcnQgZnVuY3Rpb24gcmVxdWlyZTxUMSBleHRlbmRzIHN0cmluZz4oY29uZGl0aW9uOiBib29sZWFuLCBjb2RlOiBUMSk6IGFzc2VydHMgY29uZGl0aW9uIGlzIHRydWUge1xuICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBjb2RlO1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIFNIQURPVyxcbiAgICB1c2VTcHJpbmdzLFxuICAgIHVzZVN0YXRlLFxuICAgIHVzZUVmZmVjdCxcbiAgICBhbmltYXRlZFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBJbWFnZUNhcm91c2VsUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgdXJsczogQXJyYXk8c3RyaW5nPjtcbiAgICBtc0ludGVydmFsU2xlZXA6IG51bWJlcjtcbiAgICBhbmltYXRpb246IFNwcmluZ0NvbmZpZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJbWFnZUNhcm91c2VsKHtcbiAgICB1cmxzLFxuICAgIG1zSW50ZXJ2YWxTbGVlcCxcbiAgICBhbmltYXRpb24sXG4gICAgc3R5bGUsXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ubW9yZVxufTogSW1hZ2VDYXJvdXNlbFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQga2V5OiBTdGF0ZTxudW1iZXI+ID0gdXNlU3RhdGUoMCk7XG4gICAgbGV0IHNwcmluZ3MgPSB1c2VTcHJpbmdzKHVybHMubGVuZ3RoLCB1cmxzLm1hcCgoXywgdXJsS2V5KSA9PiAoe1xuICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGVYKCR7MTAwICogKHVybEtleSAtIGtleVswXSl9JSlgLFxuICAgICAgICBjb25maWc6IGFuaW1hdGlvblxuICAgIH0pKSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgdGltZXI6IFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ga2V5WzFdKGxhc3QgPT4gKGxhc3QgKyAxKSAlIHVybHMubGVuZ3RoKSwgbXNJbnRlcnZhbFNsZWVwKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMTAsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge3NwcmluZ3MubWFwKChzcHJpbmcsIHNwcmluZ0tleSkgPT4gPD5cbiAgICAgICAgICAgICAgICA8YW5pbWF0ZWQuZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17c3ByaW5nS2V5fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3ByaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dXJsc1tzcHJpbmdLZXldfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY292ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblg6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIlxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIHpJbmRleDogXCIyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMVxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJleHBvcnQgdHlwZSBDb2xvciA9IFtcbiAgICBzdHJpbmcsICAvLyBka1xuICAgIHN0cmluZywgIC8vIGx0XG4gICAgc3RyaW5nICAgLy8gYWNjZW50XG5dO1xuXG5leHBvcnQgY29uc3QgQ29sb3I6IENvbG9yID0gW1xuICAgIFwiIzBDMDUyN1wiLFxuICAgIFwiI0ZBRjZGNlwiLFxuICAgIFwiI0YxRDU1MFwiXG5dOyIsCiAgICAiZXhwb3J0IHR5cGUgRm9udCA9IFtcbiAgICBzdHJpbmcsICAvLyAwXG4gICAgc3RyaW5nLCAgLy8gMVxuICAgIHN0cmluZyAgIC8vIG1vbm9zcGFjZVxuXTtcblxuZXhwb3J0IGNvbnN0IEZvbnQ6IEZvbnQgPSBbXG4gICAgXCJLb25raG1lciBTbGVva2NoaGVyXCIsXG4gICAgXCJDb3JlIFNhbnMgQVwiLFxuICAgIFwiTWFyaWFcIlxuXTsiLAogICAgImV4cG9ydCBjb25zdCBTSEFET1c6IHN0cmluZyA9IFwicmdiYSgwLCAwLCAwLCAwLjA1KSAwcHggMHB4IDBweCAxcHhcIjsiLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgU0hBRE9XLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgRm9ybUJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImJ1dHRvblwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtQnV0dG9uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGFsbDogXCJ1bnNldFwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMV0sXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgcGFkZGluZzogNSxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IDEsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWZcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgRm9ybUlucHV0UHJvcHMgPVxuICAgICYgT21pdDxDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJpbnB1dFwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtSW5wdXQoe3N0eWxlLCAuLi5tb3JlfTogRm9ybUlucHV0UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUgICBcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtTWVzc2FnZVByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtTWVzc2FnZSh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogRm9ybU1lc3NhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBTSEFET1csXG4gICAgRm9udCxcbiAgICBDb2xvcixcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgRm9ybVByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gRm9ybSh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogRm9ybVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICBnYXA6IDIwLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFBhZ2VQcm9wcyxcbiAgICBQYWdlLFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMgPSBcbiAgICAmIFBhZ2VQcm9wc1xuICAgICYge1xuICAgIHNlY3Rpb25zOiBbXG4gICAgICAgIFJlYWN0Tm9kZSxcbiAgICAgICAgUmVhY3ROb2RlLFxuICAgICAgICBSZWFjdE5vZGVcbiAgICBdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnMoe3NlY3Rpb25zLCAuLi5tb3JlfTogUGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzKSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxQYWdlIFxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1swXX08L19TZWN0aW9uPlxuICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1sxXX08L19TZWN0aW9uPlxuICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1syXX08L19TZWN0aW9uPlxuICAgICAgICA8L1BhZ2U+XG4gICAgPC8+O1xufVxuXG5cbnR5cGUgX1NlY3Rpb25Qcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn07XG5cbmZ1bmN0aW9uIF9TZWN0aW9uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBfU2VjdGlvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBQYWdlUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG5hdmJhcj86IFJlYWN0Tm9kZTtcbiAgICBmb290ZXI/OiBSZWFjdE5vZGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUGFnZSh7XG4gICAgbmF2YmFyLFxuICAgIGZvb3RlcixcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBQYWdlUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMHZ3XCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMHZoXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTAyNCxcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDE0NDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDY0LFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDY0XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge25hdmJhcn1cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7Zm9vdGVyfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PiAgICAgXG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZCdXR0b25Hcm91cFByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZCdXR0b25Hcm91cCh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogTmF2QnV0dG9uR3JvdXBQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgIGdhcDogMTAsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBDU1NQcm9wZXJ0aWVzLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIEZvbnQsXG4gICAgQ29sb3IsXG4gICAgdXNlU3ByaW5nLFxuICAgIGFuaW1hdGVkXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIGljb24/OiBzdHJpbmcsXG4gICAgaWNvblN0eWxlPzogQ1NTUHJvcGVydGllcyxcbiAgICBjaGlsZFN0eWxlPzogQ1NTUHJvcGVydGllcyxcbiAgICBhbmltYXRpb24/OiBTcHJpbmdDb25maWcsXG4gICAgZm9udFNpemVPbk1vdXNlRW50ZXI/OiBzdHJpbmcsXG4gICAgZm9udFNpemVPbk1vdXNlTGVhdmU/OiBzdHJpbmdcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZCdXR0b24oe1xuICAgIGljb24sXG4gICAgaWNvblN0eWxlLFxuICAgIGNoaWxkU3R5bGUsXG4gICAgYW5pbWF0aW9uLFxuICAgIGZvbnRTaXplT25Nb3VzZUVudGVyPVwiMC42ZW1cIixcbiAgICBmb250U2l6ZU9uTW91c2VMZWF2ZT1cIjAuN2VtXCIsXG4gICAgc3R5bGUsXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ubW9yZVxufTogTmF2QnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIGxldCBzcHJpbmcgPSB1c2VTcHJpbmcoKCkgPT4gKHtcbiAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUxlYXZlXG4gICAgfSkpO1xuICAgIFxuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGFsbDogXCJ1bnNldFwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uTGluZTogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7aWNvbiA/IDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7aWNvbn0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblg6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY29udGFpblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBcIjEgLyAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pY29uU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAge2NoaWxkcmVuID8gPD5cbiAgICAgICAgICAgICAgICB7LyoqIEB0cy1pZ25vcmUgKi99XG4gICAgICAgICAgICAgICAgPGFuaW1hdGVkLmRpdlxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUVudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpbmdbMV0uc3RhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBmb250U2l6ZU9uTW91c2VMZWF2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNwcmluZ1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNoaWxkU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2FuaW1hdGVkLmRpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZUljb25Qcm9wcyxcbiAgICBCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT04sXG4gICAgU3ByaXRlSWNvblxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uUHJvcHMgPVxuICAgICYgT21pdDxTcHJpdGVJY29uUHJvcHMsIFwiY2hpbGRyZW5cIiB8IFwidXJsXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb24oe3N0eWxlLCAuLi5tb3JlfTogTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFNwcml0ZUljb25cbiAgICAgICAgICAgIHVybD17QklHX1NUQVJfQU5EX1NNQUxMRVJfU1RBUl9JQ09OfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIyNXB4XCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvbixcbiAgICBOYXZCdXR0b24sXG4gICAgTGluayxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZDYWxsVG9BY3Rpb25CdXR0b25Qcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICB0bzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbih7dG8sIHN0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IE5hdkNhbGxUb0FjdGlvbkJ1dHRvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgPE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb25cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogXCIxMDAlXCJcbiAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgIHRvPXt0b30+XG4gICAgICAgICAgICAgICAgPE5hdkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjaGlsZFN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMV1cbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L05hdkJ1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZVByb3BzLFxuICAgIExPR08sXG4gICAgU3ByaXRlLFxuICAgIExpbmtcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2TG9nb1Byb3BzID1cbiAgICAmIE9taXQ8U3ByaXRlUHJvcHMsIFwiY2hpbGRyZW5cIiB8IFwidXJsXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkxvZ28oe3N0eWxlLCAuLi5tb3JlfTogTmF2TG9nb1Byb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPExpbmtcbiAgICAgICAgICAgIHRvPVwiL1wiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiY29udGVudHNcIlxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICA8U3ByaXRlXG4gICAgICAgICAgICAgICAgdXJsPXtMT0dPfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE1MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBcIjIgLyAxXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgICAgICA8L0xpbms+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIFNIQURPVyxcbiAgICBMaW5rLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2TWF0ZXJpYWxzRHJvcERvd25CdXR0b25Qcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBtYXRlcmlhbHM6IFN0YXRlPEFycmF5PHN0cmluZz4+LFxuICAgIG1hdGVyaWFsRm9jdXM6IFN0YXRlPHN0cmluZz4sXG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvbih7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgdG9nZ2xlZCxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVkWzFdKHRydWUpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RvZ2dsZWRbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB0b2dnbGVkWzFdKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxMjAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPV1xuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge21hdGVyaWFsc1swXS5tYXAobWF0ZXJpYWwgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89XCIvc2hvd19yb29tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBtYXRlcmlhbEZvY3VzWzFdKG1hdGVyaWFsKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYXRlcmlhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIE5hdlByb3BzLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICB0eXBlIFVzZXJEYXRhLFxuICAgIE5hdixcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZQYXJ0aWFsQnVpbGRQcm9wcyA9IFxuICAgICYgT21pdDxOYXZQcm9wcyxcbiAgICAgICAgfCBcIm1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzZWFyY2hCYXJUb2dnbGVkXCJcbiAgICAgICAgfCBcInNlYXJjaEJhcklucHV0XCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PixcbiAgICBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4sXG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZQYXJ0aWFsQnVpbGQoe1xuICAgIG1hdGVyaWFscyxcbiAgICBtYXRlcmlhbEZvY3VzLFxuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICB1c2VyLFxuICAgIHVzZXJJc1NpZ25lZEluXG59OiBOYXZQYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IG1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IHNlYXJjaEJhclRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGxldCBzZWFyY2hCYXJJbnB1dDogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlxuICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkPXttYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWR9XG4gICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgIHNlYXJjaEJhclRvZ2dsZWQ9e3NlYXJjaEJhclRvZ2dsZWR9XG4gICAgICAgICAgICBzZWFyY2hCYXJJbnB1dD17c2VhcmNoQmFySW5wdXR9XG4gICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIE5hdlNlYXJjaEJhclByb3BzLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICBOYXZTZWFyY2hCYXIsXG4gICAgdXNlU3RhdGVcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2VhcmNoQmFyUGFydGlhbEJ1aWxkUHJvcHMgPVxuICAgICYgT21pdDxOYXZTZWFyY2hCYXJQcm9wcywgXG4gICAgICAgIHwgXCJwcm9kdWN0c1wiXG4gICAgICAgIHwgXCJwcm9kdWN0Rm9jdXNcIlxuICAgICAgICB8IFwidG9nZ2xlZFwiXG4gICAgICAgIHwgXCJpbnB1dFwiXG4gICAgICAgIHwgXCJzdWdnZXN0aW9uc1wiPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGQoe1xuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICAuLi5tb3JlXG59OiBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGxldCBpbnB1dDogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gICAgbGV0IHN1Z2dlc3Rpb25zOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+ID0gdXNlU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PihbXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlNlYXJjaEJhclxuICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICB0b2dnbGVkPXt0b2dnbGVkfVxuICAgICAgICAgICAgaW5wdXQ9e2lucHV0fVxuICAgICAgICAgICAgc3VnZ2VzdGlvbnM9e3N1Z2dlc3Rpb25zfVxuICAgICAgICAgICAgey4uLm1vcmV9Lz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICBTSEFET1csXG4gICAgU0VBUkNIX0JBUl9JQ09OLFxuICAgIE5hdlN1Z2dlc3Rpb24sXG4gICAgU3ByaXRlSWNvbixcbiAgICBGb250LFxuICAgIHVzZUVmZmVjdCxcbiAgICBzb3J0XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNlYXJjaEJhclByb3BzID1cbiAgICAmIE9taXQ8XG4gICAgICAgIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXG4gICAgICAgID5cbiAgICAmIHtcbiAgICBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PjtcbiAgICBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD47XG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj47XG4gICAgaW5wdXQ6IFN0YXRlPHN0cmluZz47XG4gICAgc3VnZ2VzdGlvbnM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U2VhcmNoQmFyKHtcbiAgICBwcm9kdWN0cyxcbiAgICBwcm9kdWN0Rm9jdXMsXG4gICAgdG9nZ2xlZCxcbiAgICBpbnB1dCxcbiAgICBzdWdnZXN0aW9ucyxcbiAgICBzdHlsZSxcbiAgICAuLi5tb3JlXG59OiBOYXZTZWFyY2hCYXJQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbGV0IGlucHV0Xzogc3RyaW5nID0gaW5wdXRbMF07XG4gICAgICAgIGlmIChpbnB1dF8udHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VnZ2VzdGlvbnNfOiBBcnJheTxQcm9kdWN0RGF0YT4gPSBwcm9kdWN0c1swXTtcbiAgICAgICAgc3VnZ2VzdGlvbnNfXG4gICAgICAgICAgICAubWFwKHByb2R1Y3QgPT4gKHsuLi5wcm9kdWN0LCBzY29yZTogc29ydChpbnB1dF8sIHByb2R1Y3QubmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSB8fCBcIlwiKX0pKVxuICAgICAgICAgICAgLnNvcnQoKHgsIHkpID0+IHguc2NvcmUgLSB5LnNjb3JlKVxuICAgICAgICAgICAgLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgc3VnZ2VzdGlvbnNbMV0oc3VnZ2VzdGlvbnNfKTtcbiAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0sIFtpbnB1dFswXV0pO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogXCIxXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8U3ByaXRlSWNvblxuICAgICAgICAgICAgICAgICAgICB1cmw9e1NFQVJDSF9CQVJfSUNPTn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE1cHhcIlxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dFswXX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gaW5wdXRbMV0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0b2dnbGVkWzBdID8gPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwid2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3Rpb25zWzBdLm1hcChzdWdnZXN0aW9uID0+IDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TmF2U3VnZ2VzdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPVwiL3Byb2R1Y3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWQ9e3N1Z2dlc3Rpb259Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgQXN5bmNDbG9zdXJlLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgdHlwZSBGb3JtUHJvcHMsXG4gICAgRm9ybSxcbiAgICBGb3JtSW5wdXQsXG4gICAgRm9ybUJ1dHRvbixcbiAgICBGb3JtTWVzc2FnZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduSW5Gcm9tU2lnblVwQWN0aW9uID0gQXN5bmNDbG9zdXJlPFtcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduSW5Gb3JtVmFsaWRhdGVBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZvcm1Qcm9wcyA9IFxuICAgICYgT21pdDxGb3JtUHJvcHMsIFwiY2hpbGRyZW5cIj5cbiAgICAmIHtcbiAgICB1c2VybmFtZTogU3RhdGU8c3RyaW5nPixcbiAgICBwYXNzd29yZDogU3RhdGU8c3RyaW5nPixcbiAgICByZXNwb25zZTogU3RhdGU8c3RyaW5nIHwgbnVsbD4sXG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj4sXG4gICAgb25WYWxpZGF0aW9uOiBOYXZTaWduSW5Gb3JtVmFsaWRhdGVBY3Rpb24sXG4gICAgb25TaWduSW46IE5hdlNpZ25JbkZyb21TaWduVXBBY3Rpb25cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduSW5Gb3JtKHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICByZXNwb25zZSxcbiAgICB1c2VyLFxuICAgIHVzZXJJc1NpZ25lZEluLFxuICAgIG9uVmFsaWRhdGlvbixcbiAgICBvblNpZ25JbixcbiAgICAuLi5tb3JlXG59OiBOYXZTaWduSW5Gb3JtUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPEZvcm1NZXNzYWdlPlxuICAgICAgICAgICAgICAgIHtyZXNwb25zZVswXX1cbiAgICAgICAgICAgIDwvRm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICA8Rm9ybUlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lWzBdfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVzZXJuYW1lWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZFswXX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBwYXNzd29yZFsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtQnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblZhbGlkYXRpb24odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgW3N1Y2Nlc3MsIG1lc3NhZ2VdID0gKGF3YWl0IG9uU2lnbkluKHVzZXJuYW1lWzBdLCBwYXNzd29yZFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgU2lnbiBJblxuICAgICAgICAgICAgPC9Gb3JtQnV0dG9uPlxuICAgICAgICA8L0Zvcm0+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgQXN5bmNDbG9zdXJlLFxuICAgIHR5cGUgRm9ybVByb3BzLFxuICAgIEZvcm0sXG4gICAgRm9ybUlucHV0LFxuICAgIEZvcm1CdXR0b24sXG4gICAgRm9ybU1lc3NhZ2Vcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnblVwRm9ybVNpZ25VcEFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtVmFsaWRhdGVBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICBlbWFpbDogc3RyaW5nXG5dLCBbXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCBudWxsXG5dPjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnblVwRm9ybVByb3BzID1cbiAgICAmIE9taXQ8Rm9ybVByb3BzLCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgdXNlcm5hbWU6IFN0YXRlPHN0cmluZz4sXG4gICAgcGFzc3dvcmQ6IFN0YXRlPHN0cmluZz4sXG4gICAgZW1haWw6IFN0YXRlPHN0cmluZz4sXG4gICAgcmVzcG9uc2U6IFN0YXRlPHN0cmluZyB8IG51bGw+LFxuICAgIG9uVmFsaWRhdGlvbjogTmF2U2lnblVwRm9ybVZhbGlkYXRlQWN0aW9uLFxuICAgIG9uU2lnblVwOiBOYXZTaWduVXBGb3JtU2lnblVwQWN0aW9uXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U2lnblVwRm9ybSh7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gICAgZW1haWwsXG4gICAgcmVzcG9uc2UsXG4gICAgb25WYWxpZGF0aW9uLFxuICAgIG9uU2lnblVwLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25VcEZvcm1Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxGb3JtXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7cmVzcG9uc2VbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZT5cbiAgICAgICAgICAgICAgICAgICAge3Jlc3BvbnNlWzBdfVxuICAgICAgICAgICAgICAgIDwvRm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICA8Lz4gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA8Rm9ybUlucHV0IFxuICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbFswXX0gXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiIFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IGVtYWlsWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dCBcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWVbMF19IFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVXNlcm5hbWVcIiBcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1c2VybmFtZVsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmRbMF19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gcGFzc3dvcmRbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlOiBzdHJpbmcgfCBudWxsO1xuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25WYWxpZGF0aW9uKHVzZXJuYW1lWzBdLCBwYXNzd29yZFswXSwgZW1haWxbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsxXShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25TaWduVXAodXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdLCBlbWFpbFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgU2lnbiBVcFxuICAgICAgICAgICAgPC9Gb3JtQnV0dG9uPlxuICAgICAgICA8L0Zvcm0+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzLFxuICAgIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uLFxuICAgIE5hdlNpZ25VcEZvcm0sXG4gICAgTmF2U2lnbkluRm9ybSxcbiAgICBCcmlkZ2UsXG4gICAgdXNlU3RhdGUsXG4gICAgcmVxdWlyZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZFByb3BzID0gXG4gICAgJiBPbWl0PFxuICAgICAgICBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzLFxuICAgICAgICB8IFwidG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzaWduVXBUb2dnbGVkXCJcbiAgICAgICAgfCBcInNpZ25JblRvZ2dsZWRcIlxuICAgICAgICB8IFwic2lnblVwRm9ybVwiXG4gICAgICAgIHwgXCJzaWduSW5Gb3JtXCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIHVzZXI6IFN0YXRlPFVzZXJEYXRhIHwgbnVsbD4sXG4gICAgdXNlcklzU2lnbmVkSW46IFN0YXRlPGJvb2xlYW4+XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGQoe1xuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgLi4ubW9yZVxufTogTmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGxldCBzaWduVXBUb2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBsZXQgc2lnbkluVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgbGV0IHVzZXJuYW1lOiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGUoXCJcIik7XG4gICAgbGV0IHBhc3N3b3JkOiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGUoXCJcIik7XG4gICAgbGV0IGVtYWlsOiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IHJlc3BvbnNlOiBTdGF0ZTxzdHJpbmcgfCBudWxsPiA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxOYXZTaWduZXJEcm9wRG93bkJ1dHRvblxuICAgICAgICAgICAgdG9nZ2xlZD17dG9nZ2xlZH1cbiAgICAgICAgICAgIHNpZ25VcFRvZ2dsZWQ9e3NpZ25VcFRvZ2dsZWR9XG4gICAgICAgICAgICBzaWduSW5Ub2dnbGVkPXtzaWduSW5Ub2dnbGVkfVxuICAgICAgICAgICAgc2lnblVwRm9ybT17PD5cbiAgICAgICAgICAgICAgICA8TmF2U2lnblVwRm9ybVxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgZW1haWw9e2VtYWlsfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZT17cmVzcG9uc2V9XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGlvbj17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSh1c2VybmFtZS50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHBhc3N3b3JkLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoZW1haWwudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlOiB1bmtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgU3RyaW5nKGUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25TaWduVXA9e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGVtYWlsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGF3YWl0IEJyaWRnZS50b3VjaChcIi91c2VybmFtZV9pc19hdmFpbGFibGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGwgPSAoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3NpZ25fdXBcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZmFsc2UsIGVycmNvZGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIHNpZ25JbkZvcm09ezw+XG4gICAgICAgICAgICAgICAgPE5hdlNpZ25JbkZvcm1cbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD17cGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlPXtyZXNwb25zZX1cbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufVxuICAgICAgICAgICAgICAgICAgICBvblZhbGlkYXRpb249e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSh1c2VybmFtZS50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHBhc3N3b3JkLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZmFsc2UsIFN0cmluZyhlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uU2lnbkluPXthc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGwgPSAoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3NpZ25faW5cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZXJyY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICBOYXZCdXR0b25cbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnbmVyRHJvcERvd25CdXR0b25Qcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNpZ25VcFRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNpZ25JblRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNpZ25VcEZvcm06IFJlYWN0Tm9kZSxcbiAgICBzaWduSW5Gb3JtOiBSZWFjdE5vZGVcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvbih7XG4gICAgdG9nZ2xlZCxcbiAgICBzaWduVXBUb2dnbGVkLFxuICAgIHNpZ25JblRvZ2dsZWQsXG4gICAgc2lnblVwRm9ybSxcbiAgICBzaWduSW5Gb3JtLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPE5hdkJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcFRvZ2dsZWRbMV0odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIFVwXG4gICAgICAgICAgICA8L05hdkJ1dHRvbj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZWRbMV0odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25JblRvZ2dsZWRbMV0odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25JblRvZ2dsZWRbMV0oZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgU2lnbiBJblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIExpbmssXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTdWdnZXN0aW9uUHJvcHMgPVxuICAgICYgT21pdDxDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj4sIFwiY2hpbGRyZW5cIj5cbiAgICAmIHtcbiAgICBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PjtcbiAgICBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD47XG4gICAgc3VnZ2VzdGVkOiBQcm9kdWN0RGF0YTtcbiAgICB0bzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlN1Z2dlc3Rpb24oe1xuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICBzdWdnZXN0ZWQsXG4gICAgdG8sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2U3VnZ2VzdGlvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPExpbmtcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJjb250ZW50c1wiXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgdG89e3RvfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0czA6IEFycmF5PFByb2R1Y3REYXRhPiA9IHByb2R1Y3RzWzBdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdDogUHJvZHVjdERhdGEgfCBudWxsID0gcHJvZHVjdHMwXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHByb2R1Y3QwID0+IHByb2R1Y3QwLm5hbWUgPT09IHN1Z2dlc3RlZD8ubmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdCgwKSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzWzFdKHByb2R1Y3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDgsXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV1cbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0ZWQubmFtZX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgwqN7c3VnZ2VzdGVkLnByaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9GaXhlZCgyKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV1cbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtzdWdnZXN0ZWQuc3RvY2sudG9GaXhlZCgwKX0gbGVmdFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvTGluaz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICB0eXBlIFVzZXJEYXRhLFxuICAgIE5hdkxvZ28sXG4gICAgTmF2QnV0dG9uLFxuICAgIE5hdkJ1dHRvbkdyb3VwLFxuICAgIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbixcbiAgICBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvbixcbiAgICBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGQsXG4gICAgTmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGQsXG4gICAgTGlua1xufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZQcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBtYXRlcmlhbHM6IFN0YXRlPEFycmF5PHN0cmluZz4+LFxuICAgIG1hdGVyaWFsRm9jdXM6IFN0YXRlPHN0cmluZz4sXG4gICAgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPixcbiAgICBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PixcbiAgICBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4sXG4gICAgc2VhcmNoQmFyVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2VhcmNoQmFySW5wdXQ6IFN0YXRlPHN0cmluZz4sXG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXYoe1xuICAgIG1hdGVyaWFscyxcbiAgICBtYXRlcmlhbEZvY3VzLFxuICAgIG1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZCxcbiAgICBwcm9kdWN0cyxcbiAgICBwcm9kdWN0Rm9jdXMsXG4gICAgc2VhcmNoQmFyVG9nZ2xlZCxcbiAgICBzZWFyY2hCYXJJbnB1dCxcbiAgICB1c2VyLFxuICAgIHVzZXJJc1NpZ25lZEluLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMzAsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMzAsXG4gICAgICAgICAgICAgICAgZ2FwOiA0MCxcbiAgICAgICAgICAgICAgICB6SW5kZXg6IDIwMDAsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8TmF2TG9nby8+XG4gICAgICAgICAgICA8TmF2QnV0dG9uR3JvdXA+XG4gICAgICAgICAgICAgICAgPE5hdkNhbGxUb0FjdGlvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0bz1cIi9mb3JfeW91XCI+XG4gICAgICAgICAgICAgICAgICAgIEZvciBZb3VcbiAgICAgICAgICAgICAgICA8L05hdkNhbGxUb0FjdGlvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8TmF2TWF0ZXJpYWxzRHJvcERvd25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZWQ9e21hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZH0vPlxuICAgICAgICAgICAgPC9OYXZCdXR0b25Hcm91cD5cbiAgICAgICAgICAgIDxOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9Lz5cbiAgICAgICAgICAgIDxOYXZCdXR0b25Hcm91cD5cbiAgICAgICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgICAgICB0bz1cIi9iYXNrZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPE5hdkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEJhc2tldFxuICAgICAgICAgICAgICAgICAgICA8L05hdkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgPE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUGFydGlhbEJ1aWxkXG4gICAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJc1NpZ25lZEluPXt1c2VySXNTaWduZWRJbn0vPlxuICAgICAgICAgICAgPC9OYXZCdXR0b25Hcm91cD5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNQcm9wcyxcbiAgICBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zLFxuICAgIEltYWdlQ2Fyb3VzZWwsXG4gICAgVHlwb2dyYXBoeSxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBIb21lUGFnZVByb3BzID1cbiAgICAmIE9taXQ8UGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzLFxuICAgICAgICB8IFwic2VjdGlvbnNcIj5cbiAgICAmIHtcbiAgICBcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBIb21lUGFnZSh7XG4gICAgLi4ubW9yZVxufTogSG9tZVBhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zXG4gICAgICAgICAgICBzZWN0aW9ucz17Wzw+XG4gICAgICAgICAgICAgICAgPEltYWdlQ2Fyb3VzZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIxMHB4XCJcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdXJscz17W119XG4gICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MzAgKiAxMDAwfVxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMCAqIDEwMDBcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjllbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXVxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICBPRkZDVVRTXG4gICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICA8L0ltYWdlQ2Fyb3VzZWw+XG4gICAgICAgICAgICA8Lz4sIDw+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDwvPiwgPD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPC8+XX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZVByb3BzLFxuICAgIFNwcml0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBTcHJpdGVJY29uUHJvcHMgPVxuICAgICYgU3ByaXRlUHJvcHNcbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaXRlSWNvbih7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogU3ByaXRlSWNvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFNwcml0ZVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogXCIxIC8gMVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1Nwcml0ZT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFNwcml0ZVByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHVybDogc3RyaW5nXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaXRlKHt1cmwsIHN0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFNwcml0ZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dXJsfSlgLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcImNvbnRhaW5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICBGb250XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFR5cG9ncmFwaHlQcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgXG59O1xuIFxuZXhwb3J0IGZ1bmN0aW9uIFR5cG9ncmFwaHkoe1xuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IFR5cG9ncmFwaHlQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBSb290XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoYXBwOiBSZWFjdE5vZGUpOiB2b2lkIHtcbiAgICBsZXQgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpO1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IFwiRVJSX01JU1NJTkdfUk9PVF9FTEVNRU5UXCI7XG4gICAgfVxuICAgIFJvb3QoZWxlbWVudCkucmVuZGVyKGFwcCk7XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICB0eXBlIFVzZXJEYXRhLFxuICAgIEJyb3dzZXJSb3V0ZXIsXG4gICAgUm91dGVzLFxuICAgIFJvdXRlLFxuICAgIHJlbmRlcixcbiAgICBOYXZCdXR0b24sXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uLFxuICAgIE5hdlBhcnRpYWxCdWlsZCxcbiAgICBIb21lUGFnZSxcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5mdW5jdGlvbiBBcHAoKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PiA9IHVzZVN0YXRlPEFycmF5PHN0cmluZz4+KFtdKTtcbiAgICBsZXQgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gICAgbGV0IHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+ID0gdXNlU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PihbXSk7XG4gICAgbGV0IHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPiA9IHVzZVN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4obnVsbCk7XG4gICAgbGV0IHVzZXI6IFN0YXRlPFVzZXJEYXRhIHwgbnVsbD4gPSB1c2VTdGF0ZTxVc2VyRGF0YSB8IG51bGw+KG51bGwpO1xuICAgIGxldCB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICA8Um91dGVzPlxuICAgICAgICAgICAgICAgIDxSb3V0ZVxuICAgICAgICAgICAgICAgICAgICBwYXRoPVwiL1wiXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SG9tZVBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZiYXI9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZQYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFscz17bWF0ZXJpYWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxGb2N1cz17bWF0ZXJpYWxGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJc1NpZ25lZEluPXt1c2VySXNTaWduZWRJbn0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPn0vPlxuICAgICAgICAgICAgICAgICAgICA8Lz59Lz5cbiAgICAgICAgICAgIDwvUm91dGVzPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgPC8+O1xufVxuXG5yZW5kZXIoPEFwcC8+KTsiCiAgXSwKICAibWFwcGluZ3MiOiAieWZBV0EsU0FDWSxFQUFHLENBQ1gsU0FBUyxDQUF3QixDQUFDLEVBQVksRUFBTSxDQUNsRCxPQUFPLGVBQWUsRUFBVSxVQUFXLEVBQVksQ0FDckQsWUFBYyxFQUFHLENBQ2YsUUFBUSxLQUNOLDhEQUNBLEVBQUssR0FDTCxFQUFLLEVBQ1AsRUFFSixDQUFDLEVBRUgsU0FBUyxDQUFhLENBQUMsRUFBZSxDQUNwQyxHQUFhLElBQVQsYUFBOEMsSUFBcEIsU0FDNUIsT0FBTyxLQUlULE9BSEEsRUFDRyxJQUF5QixFQUFjLEtBQ3hDLEVBQWMscUJBQ2EsSUFBdEIsV0FBc0MsRUFBZ0IsS0FFL0QsU0FBUyxDQUFRLENBQUMsRUFBZ0IsRUFBWSxDQUM1QyxHQUNJLEVBQWlCLEVBQWUsZUFDL0IsRUFBZSxhQUFlLEVBQWUsT0FDaEQsYUFDRixJQUFJLEVBQWEsRUFBaUIsSUFBTSxFQUN4QyxHQUF3QyxLQUNyQyxRQUFRLE1BQ1Asd1BBQ0EsRUFDQSxDQUNGLEVBQ0MsR0FBd0MsR0FBYyxJQUUzRCxTQUFTLENBQVMsQ0FBQyxFQUFPLEVBQVMsRUFBUyxDQUMxQyxLQUFLLE1BQVEsRUFDYixLQUFLLFFB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LEtBQUssR0FBSyxDQUFDLEVBQy9DLFlBQWEsQ0FBQyxJQUFNLEtBQUssSUFBSSxFQUFJLEtBQUssR0FBSyxDQUFDLEVBQzVDLGNBQWUsQ0FBQyxNQUFRLEtBQUssSUFBSSxLQUFLLEdBQUssQ0FBQyxFQUFJLEdBQUssRUFDckQsV0FBWSxDQUFDLElBQU0sSUFBTSxFQUFJLEVBQUksS0FBSyxJQUFJLEVBQUcsR0FBSyxFQUFJLEVBQUUsRUFDeEQsWUFBYSxDQUFDLElBQU0sSUFBTSxFQUFJLEVBQUksRUFBSSxLQUFLLElBQUksRUFBRyxJQUFNLENBQUMsRUFDekQsY0FBZSxDQUFDLElBQU0sSUFBTSxFQUFJLEVBQUksSUFBTSxFQUFJLEVBQUksRUFBSSxJQUFNLEtBQUssSUFBSSxFQUFHLEdBQUssRUFBSSxFQUFFLEVBQUksR0FBSyxFQUFJLEtBQUssSUFBSSxFQUFHLElBQU0sRUFBSSxFQUFFLEdBQUssRUFDN0gsV0FBWSxDQUFDLElBQU0sRUFBSSxLQUFLLEtBQUssRUFBSSxLQUFLLElBQUksRUFBRyxDQUFDLENBQUMsRUFDbkQsWUFBYSxDQUFDLElBQU0sS0FBSyxLQUFLLEVBQUksS0FBSyxJQUFJLEVBQUksRUFBRyxDQUFDLENBQUMsRUFDcEQsY0FBZSxDQUFDLElBQU0sRUFBSSxLQUFPLEVBQUksS0FBSyxLQUFLLEVBQUksS0FBSyxJQUFJLEVBQUksRUFBRyxDQUFDLENBQUMsR0FBSyxHQUFLLEtBQUssS0FBSyxFQUFJLEtBQUssSUFBSSxHQUFLLEVBQUksRUFBRyxDQUFDLENBQUMsRUFBSSxHQUFLLEVBQzdILFdBQVksQ0FBQyxJQUFNLEdBQUssRUFBSSxFQUFJLEVBQUksR0FBSyxFQUFJLEVBQzdDLFlBQWEsQ0FBQyxJQUFNLEVBQUksR0FBSyxLQUFLLElBQUksRUFBSSxFQUFHLENBQUMsRUFBSSxHQUFLLEtBQUssSUFBSSxFQUFJLEVBQUcsQ0FBQyxFQUN4RSxjQUFlLENBQUMsSUFBTSxFQUFJLElBQU0sS0FBSyxJQUFJLEVBQUksRUFBRyxDQUFDLElBQU0sR0FBSyxHQUFLLEVBQUksRUFB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QUxSLFNBTUssR0FOTCxxQkFPRSxHQVJDLHFCQVNMLG1CQ1RDLFNBQVMsRUFBTSxFQUFFLE1BQUssUUFBTyxjQUFhLEdBQStCLENBQzVFLE9BQU8sZ0NBQ0gsVUFlRSxNQWZGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLFNBQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLGdCQUFpQixPQUFPLEtBQ3hCLGVBQWdCLFVBQ2hCLG9CQUFxQixTQUNyQixvQkFBcUIsU0FDckIsaUJBQWtCLGVBQ2YsQ0FDUCxLQUNJLEVBYlIsU0FjSyxHQWRMLHFCQWVFLEdBaEJDLHFCQWlCTCwwSUNqQkMsU0FBUyxFQUFVLEVBQ3RCLFFBQ0EsY0FDRyxHQUN3QixDQUMzQixPQUFPLGdDQUNILFVBYUUsTUFiRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixTQUFVLE1BQ1YsV0FBWSxTQUNaLFdBQVksR0FBSyxNQUNkLENBQ1AsS0FDSSxFQVhSLFNBWUssR0FaTCxxQkFhRSxHQWRDLHFCQWVMLEVDM0JDLFNBQVMsRUFBTSxDQUFDLEVBQXNCLENBQ3pDLElBQUksRUFBOEIsU0FBUyxlQUFlLE1BQU0sRUFDaEUsR0FBSSxJQUFZLEtBQ1osS0FBTSwyQkFFVixjQUFLLENBQU8sRUFBRSxPQUFPLENBQUcsbUJDTTVCLFNBQVMsRUFBRyxFQUFjLENBQ3RCLElBQUksRUFBa0MsWUFBd0IsQ0FBQyxDQUFDLEVBQzVELEVBQStCLFlBQWlCLEVBQUUsRUFDbEQsRUFBc0MsWUFBNkIsQ0FBQyxDQUFDLEVBQ3JFLEVBQTBDLFlBQTZCLElBQUksRUFDM0UsRUFBK0IsWUFBMEIsSUFBSSxFQUM3RCxFQUFpQyxZQUFrQixFQUFLLEVBRTVELE9BQU8sZ0NBQ0gsVUFpQkUsR0FqQkYsVUFDSSxVQWVFLEdBZkYsVUFDSSxVQUFDLEdBQUQsQ0FDSSxLQUFLLElBQ0wsUUFBUyxnQ0FDTCxVQUFDLEdBQUQsQ0FDSSxPQUFRLGdDQUNKLFVBQUMsR0FBRCxDQUNJLFVBQVcsRUFDWCxjQUFlLEVBQ2YsU0FBVSxFQUNWLGFBQWMsRUFDZCxLQUFNLEVBQ04sZUFBZ0IsR0FOcEIscUJBTW1DLEdBUC9CLHFCQVFOLEdBVE4scUJBU1EsR0FWSCxxQkFXUCxHQWJOLHFCQWFRLEdBZFoscUJBZUUsR0FoQk4scUJBaUJFLEdBbEJDLHFCQW1CTCxFQUdOLEdBQU8sVUFBQyxHQUFELHdCQUFJLENBQUUiLAogICJkZWJ1Z0lkIjogIjdBM0M3ODFDQTFFODM2NzA2NDc1NkUyMTY0NzU2RTIxIiwKICAibmFtZXMiOiBbXQp9
