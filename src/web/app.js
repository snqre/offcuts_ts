var Ew=Object.create;var{getPrototypeOf:Vw,defineProperty:KG,getOwnPropertyNames:Fw}=Object;var Dw=Object.prototype.hasOwnProperty;var d=(_,H,X)=>{X=_!=null?Ew(Vw(_)):{};let P=H||!_||!_.__esModule?KG(X,"default",{value:_,enumerable:!0}):X;for(let G of Fw(_))if(!Dw.call(P,G))KG(P,G,{get:()=>_[G],enumerable:!0});return P};var W_=(_,H)=>()=>(H||_((H={exports:{}}).exports,H),H.exports);var Mw=(_,H)=>{for(var X in H)KG(_,X,{get:H[X],enumerable:!0,configurable:!0,set:(P)=>H[X]=()=>P})};var mY=W_((gw,c2)=>{(function(){function _(J,M){Object.defineProperty(P.prototype,J,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",M[0],M[1])}})}function H(J){if(J===null||typeof J!=="object")return null;return J=sY&&J[sY]||J["@@iterator"],typeof J==="function"?J:null}function X(J,M){J=(J=J.constructor)&&(J.displayName||J.name)||"ReactClass";var l=J+"."+M;o$[l]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",M,J),o$[l]=!0)}function P(J,M,l){this.props=J,this.context=M,this.refs=BY,this.updater=l||H$}function G(){}function W(J,M,l){this.props=J,this.context=M,this.refs=BY,this.updater=l||H$}function N(J){return""+J}function q(J){try{N(J);var M=!1}catch(HY){M=!0}if(M){M=console;var l=M.error,a=typeof Symbol==="function"&&Symbol.toStringTag&&J[Symbol.toStringTag]||J.constructor.name||"Object";return l.call(M,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",a),N(J)}}function Q(J){if(J==null)return null;if(typeof J==="function")return J.$$typeof===tY?null:J.displayName||J.name||null;if(typeof J==="string")return J;switch(J){case R0:return"Fragment";case o0:return"Portal";case LB:return"Profiler";case iB:return"StrictMode";case hY:return"Suspense";case CB:return"SuspenseList"}if(typeof J==="object")switch(typeof J.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),J.$$typeof){case RB:return(J.displayName||"Context")+".Provider";case s0:return(J._context.displayName||"Context")+".Consumer";case C0:var M=J.render;return J=J.displayName,J||(J=M.displayName||M.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case w0:return M=J.displayName||null,M!==null?M:Q(J.type)||"Memo";case w_:M=J._payload,J=J._init;try{return Q(J(M))}catch(l){}}return null}function L(J){return typeof J==="string"||typeof J==="function"||J===R0||J===LB||J===iB||J===hY||J===CB||J===t1||typeof J==="object"&&J!==null&&(J.$$typeof===w_||J.$$typeof===w0||J.$$typeof===RB||J.$$typeof===s0||J.$$typeof===C0||J.$$typeof===k0||J.getModuleId!==void 0)?!0:!1}function w(){}function C(){if(HK===0){a0=console.log,wB=console.info,A0=console.warn,AB=console.error,hK=console.group,tz=console.groupCollapsed,VO=console.groupEnd;var J={configurable:!0,enumerable:!0,value:w,writable:!0};Object.defineProperties(console,{info:J,log:J,warn:J,error:J,group:J,groupCollapsed:J,groupEnd:J})}HK++}function F(){if(HK--,HK===0){var J={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:V({},J,{value:a0}),info:V({},J,{value:wB}),warn:V({},J,{value:A0}),error:V({},J,{value:AB}),group:V({},J,{value:hK}),groupCollapsed:V({},J,{value:tz}),groupEnd:V({},J,{value:VO})})}0>HK&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function T(J){if(e1===void 0)try{throw Error()}catch(l){var M=l.stack.trim().match(/\n( *(at )?)/);e1=M&&M[1]||"",FO=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+e1+J+FO}function U(J,M){if(!J||YH)return"";var l=KH.get(J);if(l!==void 0)return l;YH=!0,l=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var a=null;a=r.H,r.H=null,C();try{var HY={DetermineComponentFrameRoot:function(){try{if(M){var x0=function(){throw Error()};if(Object.defineProperty(x0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(x0,[])}catch(r0){var a$=r0}Reflect.construct(J,[],x0)}else{try{x0.call()}catch(r0){a$=r0}J.call(x0.prototype)}}else{try{throw Error()}catch(r0){a$=r0}(x0=J())&&typeof x0.catch==="function"&&x0.catch(function(){})}}catch(r0){if(r0&&a$&&typeof r0.stack==="string")return[r0.stack,a$.stack]}return[null,null]}};HY.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var GY=Object.getOwnPropertyDescriptor(HY.DetermineComponentFrameRoot,"name");GY&&GY.configurable&&Object.defineProperty(HY.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var OY=HY.DetermineComponentFrameRoot(),dY=OY[0],CY=OY[1];if(dY&&CY){var WK=dY.split(`
`),dK=CY.split(`
`);for(OY=GY=0;GY<WK.length&&!WK[GY].includes("DetermineComponentFrameRoot");)GY++;for(;OY<dK.length&&!dK[OY].includes("DetermineComponentFrameRoot");)OY++;if(GY===WK.length||OY===dK.length)for(GY=WK.length-1,OY=dK.length-1;1<=GY&&0<=OY&&WK[GY]!==dK[OY];)OY--;for(;1<=GY&&0<=OY;GY--,OY--)if(WK[GY]!==dK[OY]){if(GY!==1||OY!==1)do if(GY--,OY--,0>OY||WK[GY]!==dK[OY]){var aB=`
`+WK[GY].replace(" at new "," at ");return J.displayName&&aB.includes("<anonymous>")&&(aB=aB.replace("<anonymous>",J.displayName)),typeof J==="function"&&KH.set(J,aB),aB}while(1<=GY&&0<=OY);break}}}finally{YH=!1,r.H=a,F(),Error.prepareStackTrace=l}return WK=(WK=J?J.displayName||J.name:"")?T(WK):"",typeof J==="function"&&KH.set(J,WK),WK}function m(J){if(J==null)return"";if(typeof J==="function"){var M=J.prototype;return U(J,!(!M||!M.isReactComponent))}if(typeof J==="string")return T(J);switch(J){case hY:return T("Suspense");case CB:return T("SuspenseList")}if(typeof J==="object")switch(J.$$typeof){case C0:return J=U(J.render,!1),J;case w0:return m(J.type);case w_:M=J._payload,J=J._init;try{return m(J(M))}catch(l){}}return""}function S(){var J=r.A;return J===null?null:J.getOwner()}function y(J){if(AK.call(J,"key")){var M=Object.getOwnPropertyDescriptor(J,"key").get;if(M&&M.isReactWarning)return!1}return J.key!==void 0}function b(J,M){function l(){Y8||(Y8=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",M))}l.isReactWarning=!0,Object.defineProperty(J,"key",{get:l,configurable:!0})}function i(){var J=Q(this.type);return nB[J]||(nB[J]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),J=this.props.ref,J!==void 0?J:null}function u(J,M,l,a,HY,GY){return l=GY.ref,J={$$typeof:pK,type:J,key:M,props:GY,_owner:HY},(l!==void 0?l:null)!==null?Object.defineProperty(J,"ref",{enumerable:!1,get:i}):Object.defineProperty(J,"ref",{enumerable:!1,value:null}),J._store={},Object.defineProperty(J._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(J,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(J.props),Object.freeze(J)),J}function $Y(J,M){return M=u(J.type,M,void 0,void 0,J._owner,J.props),M._store.validated=J._store.validated,M}function bY(J,M){if(typeof J==="object"&&J&&J.$$typeof!==ez){if(IK(J))for(var l=0;l<J.length;l++){var a=J[l];ZY(a)&&gY(a,M)}else if(ZY(J))J._store&&(J._store.validated=1);else if(l=H(J),typeof l==="function"&&l!==J.entries&&(l=l.call(J),l!==J))for(;!(J=l.next()).done;)ZY(J.value)&&gY(J.value,M)}}function ZY(J){return typeof J==="object"&&J!==null&&J.$$typeof===pK}function gY(J,M){if(J._store&&!J._store.validated&&J.key==null&&(J._store.validated=1,M=LY(M),!oB[M])){oB[M]=!0;var l="";J&&J._owner!=null&&J._owner!==S()&&(l=null,typeof J._owner.tag==="number"?l=Q(J._owner.type):typeof J._owner.name==="string"&&(l=J._owner.name),l=" It was passed a child from "+l+".");var a=r.getCurrentStack;r.getCurrentStack=function(){var HY=m(J.type);return a&&(HY+=a()||""),HY},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',M,l),r.getCurrentStack=a}}function LY(J){var M="",l=S();return l&&(l=Q(l.type))&&(M=`

Check the render method of \``+l+"`."),M||(J=Q(J))&&(M=`

Check the top-level render call using <`+J+">."),M}function _K(J){var M={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(l){return M[l]})}function $K(J,M){return typeof J==="object"&&J!==null&&J.key!=null?(q(J.key),_K(""+J.key)):M.toString(36)}function RK(){}function G0(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status==="string"?J.then(RK,RK):(J.status="pending",J.then(function(M){J.status==="pending"&&(J.status="fulfilled",J.value=M)},function(M){J.status==="pending"&&(J.status="rejected",J.reason=M)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function KY(J,M,l,a,HY){var GY=typeof J;if(GY==="undefined"||GY==="boolean")J=null;var OY=!1;if(J===null)OY=!0;else switch(GY){case"bigint":case"string":case"number":OY=!0;break;case"object":switch(J.$$typeof){case pK:case o0:OY=!0;break;case w_:return OY=J._init,KY(OY(J._payload),M,l,a,HY)}}if(OY){OY=J,HY=HY(OY);var dY=a===""?"."+$K(OY,0):a;return IK(HY)?(l="",dY!=null&&(l=dY.replace(A_,"$&/")+"/"),KY(HY,M,l,"",function(WK){return WK})):HY!=null&&(ZY(HY)&&(HY.key!=null&&(OY&&OY.key===HY.key||q(HY.key)),l=$Y(HY,l+(HY.key==null||OY&&OY.key===HY.key?"":(""+HY.key).replace(A_,"$&/")+"/")+dY),a!==""&&OY!=null&&ZY(OY)&&OY.key==null&&OY._store&&!OY._store.validated&&(l._store.validated=2),HY=l),M.push(HY)),1}if(OY=0,dY=a===""?".":a+":",IK(J))for(var CY=0;CY<J.length;CY++)a=J[CY],GY=dY+$K(a,CY),OY+=KY(a,M,l,GY,HY);else if(CY=H(J),typeof CY==="function")for(CY===J.entries&&(O$||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),O$=!0),J=CY.call(J),CY=0;!(a=J.next()).done;)a=a.value,GY=dY+$K(a,CY++),OY+=KY(a,M,l,GY,HY);else if(GY==="object"){if(typeof J.then==="function")return KY(G0(J),M,l,a,HY);throw M=String(J),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return OY}function e(J,M,l){if(J==null)return J;var a=[],HY=0;return KY(J,a,"","",function(GY){return M.call(l,GY,HY++)}),a}function RY(J){if(J._status===-1){var M=J._result;M=M(),M.then(function(l){if(J._status===0||J._status===-1)J._status=1,J._result=l},function(l){if(J._status===0||J._status===-1)J._status=2,J._result=l}),J._status===-1&&(J._status=0,J._result=M)}if(J._status===1)return M=J._result,M===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,M),"default"in M||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,M),M.default;throw J._result}function zY(){var J=r.H;return J===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),J}function lY(){}function rY(J){if(xB===null)try{var M=("require"+Math.random()).slice(0,7);xB=(c2&&c2[M]).call(c2,"timers").setImmediate}catch(l){xB=function(a){sB===!1&&(sB=!0,typeof MessageChannel==="undefined"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var HY=new MessageChannel;HY.port1.onmessage=a,HY.port2.postMessage(void 0)}}return xB(J)}function oY(J){return 1<J.length&&typeof AggregateError==="function"?new AggregateError(J):J[0]}function pY(J,M){M!==EB-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),EB=M}function kY(J,M,l){var a=r.actQueue;if(a!==null)if(a.length!==0)try{GK(a),rY(function(){return kY(J,M,l)});return}catch(HY){r.thrownErrors.push(HY)}else r.actQueue=null;0<r.thrownErrors.length?(a=oY(r.thrownErrors),r.thrownErrors.length=0,l(a)):M(J)}function GK(J){if(!_H){_H=!0;var M=0;try{for(;M<J.length;M++){var l=J[M];do{r.didUsePromise=!1;var a=l(!1);if(a!==null){if(r.didUsePromise){J[M]=l,J.splice(0,M);return}l=a}else break}while(1)}J.length=0}catch(HY){J.splice(0,M+1),r.thrownErrors.push(HY)}finally{_H=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var pK=Symbol.for("react.transitional.element"),o0=Symbol.for("react.portal"),R0=Symbol.for("react.fragment"),iB=Symbol.for("react.strict_mode"),LB=Symbol.for("react.profiler");Symbol.for("react.provider");var s0=Symbol.for("react.consumer"),RB=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),hY=Symbol.for("react.suspense"),CB=Symbol.for("react.suspense_list"),w0=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),t1=Symbol.for("react.offscreen"),sY=Symbol.iterator,o$={},H$={isMounted:function(){return!1},enqueueForceUpdate:function(J){X(J,"forceUpdate")},enqueueReplaceState:function(J){X(J,"replaceState")},enqueueSetState:function(J){X(J,"setState")}},V=Object.assign,BY={};Object.freeze(BY),P.prototype.isReactComponent={},P.prototype.setState=function(J,M){if(typeof J!=="object"&&typeof J!=="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,M,"setState")},P.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};var _Y={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},jY;for(jY in _Y)_Y.hasOwnProperty(jY)&&_(jY,_Y[jY]);G.prototype=P.prototype,_Y=W.prototype=new G,_Y.constructor=W,V(_Y,P.prototype),_Y.isPureReactComponent=!0;var IK=Array.isArray,tY=Symbol.for("react.client.reference"),r={H:null,A:null,T:null,S:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null},AK=Object.prototype.hasOwnProperty,k0=Symbol.for("react.client.reference"),HK=0,a0,wB,A0,AB,hK,tz,VO;w.__reactDisabledLog=!0;var e1,FO,YH=!1,KH=new(typeof WeakMap==="function"?WeakMap:Map),ez=Symbol.for("react.client.reference"),Y8,BH,nB={},oB={},O$=!1,A_=/\/+/g,FK=typeof reportError==="function"?reportError:function(J){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J==="object"&&J!==null&&typeof J.message==="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(M))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",J);return}console.error(J)},sB=!1,xB=null,EB=0,X$=!1,_H=!1,s$=typeof queueMicrotask==="function"?function(J){queueMicrotask(function(){return queueMicrotask(J)})}:rY;gw.Children={map:e,forEach:function(J,M,l){e(J,function(){M.apply(this,arguments)},l)},count:function(J){var M=0;return e(J,function(){M++}),M},toArray:function(J){return e(J,function(M){return M})||[]},only:function(J){if(!ZY(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},gw.Component=P,gw.Fragment=R0,gw.Profiler=LB,gw.PureComponent=W,gw.StrictMode=iB,gw.Suspense=hY,gw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gw.act=function(J){var M=r.actQueue,l=EB;EB++;var a=r.actQueue=M!==null?M:[],HY=!1;try{var GY=J()}catch(CY){r.thrownErrors.push(CY)}if(0<r.thrownErrors.length)throw pY(M,l),J=oY(r.thrownErrors),r.thrownErrors.length=0,J;if(GY!==null&&typeof GY==="object"&&typeof GY.then==="function"){var OY=GY;return s$(function(){HY||X$||(X$=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(CY,WK){HY=!0,OY.then(function(dK){if(pY(M,l),l===0){try{GK(a),rY(function(){return kY(dK,CY,WK)})}catch(x0){r.thrownErrors.push(x0)}if(0<r.thrownErrors.length){var aB=oY(r.thrownErrors);r.thrownErrors.length=0,WK(aB)}}else CY(dK)},function(dK){pY(M,l),0<r.thrownErrors.length?(dK=oY(r.thrownErrors),r.thrownErrors.length=0,WK(dK)):WK(dK)})}}}var dY=GY;if(pY(M,l),l===0&&(GK(a),a.length!==0&&s$(function(){HY||X$||(X$=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),r.actQueue=null),0<r.thrownErrors.length)throw J=oY(r.thrownErrors),r.thrownErrors.length=0,J;return{then:function(CY,WK){HY=!0,l===0?(r.actQueue=a,rY(function(){return kY(dY,CY,WK)})):CY(dY)}}},gw.cache=function(J){return function(){return J.apply(null,arguments)}},gw.cloneElement=function(J,M,l){if(J===null||J===void 0)throw Error("The argument must be a React element, but you passed "+J+".");var a=V({},J.props),HY=J.key,GY=J._owner;if(M!=null){var OY;Y:{if(AK.call(M,"ref")&&(OY=Object.getOwnPropertyDescriptor(M,"ref").get)&&OY.isReactWarning){OY=!1;break Y}OY=M.ref!==void 0}OY&&(GY=S()),y(M)&&(q(M.key),HY=""+M.key);for(dY in M)!AK.call(M,dY)||dY==="key"||dY==="__self"||dY==="__source"||dY==="ref"&&M.ref===void 0||(a[dY]=M[dY])}var dY=arguments.length-2;if(dY===1)a.children=l;else if(1<dY){OY=Array(dY);for(var CY=0;CY<dY;CY++)OY[CY]=arguments[CY+2];a.children=OY}a=u(J.type,HY,void 0,void 0,GY,a);for(HY=2;HY<arguments.length;HY++)bY(arguments[HY],a.type);return a},gw.createContext=function(J){return J={$$typeof:RB,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:s0,_context:J},J._currentRenderer=null,J._currentRenderer2=null,J},gw.createElement=function(J,M,l){if(L(J))for(var a=2;a<arguments.length;a++)bY(arguments[a],J);else{if(a="",J===void 0||typeof J==="object"&&J!==null&&Object.keys(J).length===0)a+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";if(J===null)var HY="null";else IK(J)?HY="array":J!==void 0&&J.$$typeof===pK?(HY="<"+(Q(J.type)||"Unknown")+" />",a=" Did you accidentally export a JSX literal instead of a component?"):HY=typeof J;console.error("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",HY,a)}var GY;if(a={},HY=null,M!=null)for(GY in BH||!("__self"in M)||"key"in M||(BH=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),y(M)&&(q(M.key),HY=""+M.key),M)AK.call(M,GY)&&GY!=="key"&&GY!=="__self"&&GY!=="__source"&&(a[GY]=M[GY]);var OY=arguments.length-2;if(OY===1)a.children=l;else if(1<OY){for(var dY=Array(OY),CY=0;CY<OY;CY++)dY[CY]=arguments[CY+2];Object.freeze&&Object.freeze(dY),a.children=dY}if(J&&J.defaultProps)for(GY in OY=J.defaultProps,OY)a[GY]===void 0&&(a[GY]=OY[GY]);return HY&&b(a,typeof J==="function"?J.displayName||J.name||"Unknown":J),u(J,HY,void 0,void 0,S(),a)},gw.createRef=function(){var J={current:null};return Object.seal(J),J},gw.forwardRef=function(J){J!=null&&J.$$typeof===w0?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof J!=="function"?console.error("forwardRef requires a render function but was given %s.",J===null?"null":typeof J):J.length!==0&&J.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",J.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),J!=null&&J.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var M={$$typeof:C0,render:J},l;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return l},set:function(a){l=a,J.name||J.displayName||(Object.defineProperty(J,"name",{value:a}),J.displayName=a)}}),M},gw.isValidElement=ZY,gw.lazy=function(J){return{$$typeof:w_,_payload:{_status:-1,_result:J},_init:RY}},gw.memo=function(J,M){L(J)||console.error("memo: The first argument must be a component. Instead received: %s",J===null?"null":typeof J),M={$$typeof:w0,type:J,compare:M===void 0?null:M};var l;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return l},set:function(a){l=a,J.name||J.displayName||(Object.defineProperty(J,"name",{value:a}),J.displayName=a)}}),M},gw.startTransition=function(J){var M=r.T,l={};r.T=l,l._updatedFibers=new Set;try{var a=J(),HY=r.S;HY!==null&&HY(l,a),typeof a==="object"&&a!==null&&typeof a.then==="function"&&a.then(lY,FK)}catch(GY){FK(GY)}finally{M===null&&l._updatedFibers&&(J=l._updatedFibers.size,l._updatedFibers.clear(),10<J&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),r.T=M}},gw.unstable_useCacheRefresh=function(){return zY().useCacheRefresh()},gw.use=function(J){return zY().use(J)},gw.useActionState=function(J,M,l){return zY().useActionState(J,M,l)},gw.useCallback=function(J,M){return zY().useCallback(J,M)},gw.useContext=function(J){var M=zY();return J.$$typeof===s0&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),M.useContext(J)},gw.useDebugValue=function(J,M){return zY().useDebugValue(J,M)},gw.useDeferredValue=function(J,M){return zY().useDeferredValue(J,M)},gw.useEffect=function(J,M){return zY().useEffect(J,M)},gw.useId=function(){return zY().useId()},gw.useImperativeHandle=function(J,M,l){return zY().useImperativeHandle(J,M,l)},gw.useInsertionEffect=function(J,M){return zY().useInsertionEffect(J,M)},gw.useLayoutEffect=function(J,M){return zY().useLayoutEffect(J,M)},gw.useMemo=function(J,M){return zY().useMemo(J,M)},gw.useOptimistic=function(J,M){return zY().useOptimistic(J,M)},gw.useReducer=function(J,M,l){return zY().useReducer(J,M,l)},gw.useRef=function(J){return zY().useRef(J)},gw.useState=function(J){return zY().useState(J)},gw.useSyncExternalStore=function(J,M,l){return zY().useSyncExternalStore(J,M,l)},gw.useTransition=function(){return zY().useTransition()},gw.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var y9=W_((kw)=>{(function(){function _(){if(gY){var e=kw.unstable_now();$K=e;var RY=!0;try{Y:{i=!1,u&&(u=!1,bY(LY),LY=-1),b=!0;var zY=y;try{K:{W(e);for(S=X(T);S!==null&&!(S.expirationTime>e&&q());){var lY=S.callback;if(typeof lY==="function"){S.callback=null,y=S.priorityLevel;var rY=lY(S.expirationTime<=e);if(e=kw.unstable_now(),typeof rY==="function"){S.callback=rY,W(e),RY=!0;break K}S===X(T)&&P(T),W(e)}else P(T);S=X(T)}if(S!==null)RY=!0;else{var oY=X(U);oY!==null&&L(N,oY.startTime-e),RY=!1}}break Y}finally{S=null,y=zY,b=!1}RY=void 0}}finally{RY?RK():gY=!1}}}function H(e,RY){var zY=e.length;e.push(RY);Y:for(;0<zY;){var lY=zY-1>>>1,rY=e[lY];if(0<G(rY,RY))e[lY]=RY,e[zY]=rY,zY=lY;else break Y}}function X(e){return e.length===0?null:e[0]}function P(e){if(e.length===0)return null;var RY=e[0],zY=e.pop();if(zY!==RY){e[0]=zY;Y:for(var lY=0,rY=e.length,oY=rY>>>1;lY<oY;){var pY=2*(lY+1)-1,kY=e[pY],GK=pY+1,pK=e[GK];if(0>G(kY,zY))GK<rY&&0>G(pK,kY)?(e[lY]=pK,e[GK]=zY,lY=GK):(e[lY]=kY,e[pY]=zY,lY=pY);else if(GK<rY&&0>G(pK,zY))e[lY]=pK,e[GK]=zY,lY=GK;else break Y}}return RY}function G(e,RY){var zY=e.sortIndex-RY.sortIndex;return zY!==0?zY:e.id-RY.id}function W(e){for(var RY=X(U);RY!==null;){if(RY.callback===null)P(U);else if(RY.startTime<=e)P(U),RY.sortIndex=RY.expirationTime,H(T,RY);else break;RY=X(U)}}function N(e){if(u=!1,W(e),!i)if(X(T)!==null)i=!0,Q();else{var RY=X(U);RY!==null&&L(N,RY.startTime-e)}}function q(){return kw.unstable_now()-$K<_K?!1:!0}function Q(){gY||(gY=!0,RK())}function L(e,RY){LY=$Y(function(){e(kw.unstable_now())},RY)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),kw.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var w=performance;kw.unstable_now=function(){return w.now()}}else{var C=Date,F=C.now();kw.unstable_now=function(){return C.now()-F}}var T=[],U=[],m=1,S=null,y=3,b=!1,i=!1,u=!1,$Y=typeof setTimeout==="function"?setTimeout:null,bY=typeof clearTimeout==="function"?clearTimeout:null,ZY=typeof setImmediate!=="undefined"?setImmediate:null,gY=!1,LY=-1,_K=5,$K=-1;if(typeof ZY==="function")var RK=function(){ZY(_)};else if(typeof MessageChannel!=="undefined"){var G0=new MessageChannel,KY=G0.port2;G0.port1.onmessage=_,RK=function(){KY.postMessage(null)}}else RK=function(){$Y(_,0)};kw.unstable_IdlePriority=5,kw.unstable_ImmediatePriority=1,kw.unstable_LowPriority=4,kw.unstable_NormalPriority=3,kw.unstable_Profiling=null,kw.unstable_UserBlockingPriority=2,kw.unstable_cancelCallback=function(e){e.callback=null},kw.unstable_continueExecution=function(){i||b||(i=!0,Q())},kw.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_K=0<e?Math.floor(1000/e):5},kw.unstable_getCurrentPriorityLevel=function(){return y},kw.unstable_getFirstCallbackNode=function(){return X(T)},kw.unstable_next=function(e){switch(y){case 1:case 2:case 3:var RY=3;break;default:RY=y}var zY=y;y=RY;try{return e()}finally{y=zY}},kw.unstable_pauseExecution=function(){},kw.unstable_requestPaint=function(){},kw.unstable_runWithPriority=function(e,RY){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var zY=y;y=e;try{return RY()}finally{y=zY}},kw.unstable_scheduleCallback=function(e,RY,zY){var lY=kw.unstable_now();switch(typeof zY==="object"&&zY!==null?(zY=zY.delay,zY=typeof zY==="number"&&0<zY?lY+zY:lY):zY=lY,e){case 1:var rY=-1;break;case 2:rY=250;break;case 5:rY=1073741823;break;case 4:rY=1e4;break;default:rY=5000}return rY=zY+rY,e={id:m++,callback:RY,priorityLevel:e,startTime:zY,expirationTime:rY,sortIndex:-1},zY>lY?(e.sortIndex=zY,H(U,e),X(T)===null&&e===X(U)&&(u?(bY(LY),LY=-1):u=!0,L(N,zY-lY))):(e.sortIndex=rY,H(T,e),i||b||(i=!0,Q())),e},kw.unstable_shouldYield=q,kw.unstable_wrapCallback=function(e){var RY=y;return function(){var zY=y;y=RY;try{return e.apply(this,arguments)}finally{y=zY}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var g9=W_((jw)=>{var HG=d(mY(),1);(function(){function _(){}function H(w){return""+w}function X(w,C,F){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{H(T);var U=!1}catch(m){U=!0}return U&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&T[Symbol.toStringTag]||T.constructor.name||"Object"),H(T)),{$$typeof:Q,key:T==null?null:""+T,children:w,containerInfo:C,implementation:F}}function P(w,C){if(w==="font")return"";if(typeof C==="string")return C==="use-credentials"?C:""}function G(w){return w===null?"`null`":w===void 0?"`undefined`":w===""?"an empty string":'something with type "'+typeof w+'"'}function W(w){return w===null?"`null`":w===void 0?"`undefined`":w===""?"an empty string":typeof w==="string"?JSON.stringify(w):typeof w==="number"?"`"+w+"`":'something with type "'+typeof w+'"'}function N(){var w=L.H;return w===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),w}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var q={d:{f:_,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:_,C:_,L:_,m:_,X:_,S:_,M:_},p:0,findDOMNode:null},Q=Symbol.for("react.portal"),L=HG.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),jw.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,jw.createPortal=function(w,C){var F=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error("Target container is not a DOM element.");return X(w,C,null,F)},jw.flushSync=function(w){var C=L.T,F=q.p;try{if(L.T=null,q.p=2,w)return w()}finally{L.T=C,q.p=F,q.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},jw.preconnect=function(w,C){typeof w==="string"&&w?C!=null&&typeof C!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",W(C)):C!=null&&typeof C.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",G(C.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",G(w)),typeof w==="string"&&(C?(C=C.crossOrigin,C=typeof C==="string"?C==="use-credentials"?C:"":void 0):C=null,q.d.C(w,C))},jw.prefetchDNS=function(w){if(typeof w!=="string"||!w)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",G(w));else if(1<arguments.length){var C=arguments[1];typeof C==="object"&&C.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(C)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(C))}typeof w==="string"&&q.d.D(w)},jw.preinit=function(w,C){if(typeof w==="string"&&w?C==null||typeof C!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",W(C)):C.as!=="style"&&C.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',W(C.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",G(w)),typeof w==="string"&&C&&typeof C.as==="string"){var F=C.as,T=P(F,C.crossOrigin),U=typeof C.integrity==="string"?C.integrity:void 0,m=typeof C.fetchPriority==="string"?C.fetchPriority:void 0;F==="style"?q.d.S(w,typeof C.precedence==="string"?C.precedence:void 0,{crossOrigin:T,integrity:U,fetchPriority:m}):F==="script"&&q.d.X(w,{crossOrigin:T,integrity:U,fetchPriority:m,nonce:typeof C.nonce==="string"?C.nonce:void 0})}},jw.preinitModule=function(w,C){var F="";if(typeof w==="string"&&w||(F+=" The `href` argument encountered was "+G(w)+"."),C!==void 0&&typeof C!=="object"?F+=" The `options` argument encountered was "+G(C)+".":C&&("as"in C)&&C.as!=="script"&&(F+=" The `as` option encountered was "+W(C.as)+"."),F)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",F);else switch(F=C&&typeof C.as==="string"?C.as:"script",F){case"script":break;default:F=W(F),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',F,w)}if(typeof w==="string")if(typeof C==="object"&&C!==null){if(C.as==null||C.as==="script")F=P(C.as,C.crossOrigin),q.d.M(w,{crossOrigin:F,integrity:typeof C.integrity==="string"?C.integrity:void 0,nonce:typeof C.nonce==="string"?C.nonce:void 0})}else C==null&&q.d.M(w)},jw.preload=function(w,C){var F="";if(typeof w==="string"&&w||(F+=" The `href` argument encountered was "+G(w)+"."),C==null||typeof C!=="object"?F+=" The `options` argument encountered was "+G(C)+".":typeof C.as==="string"&&C.as||(F+=" The `as` option encountered was "+G(C.as)+"."),F&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',F),typeof w==="string"&&typeof C==="object"&&C!==null&&typeof C.as==="string"){F=C.as;var T=P(F,C.crossOrigin);q.d.L(w,F,{crossOrigin:T,integrity:typeof C.integrity==="string"?C.integrity:void 0,nonce:typeof C.nonce==="string"?C.nonce:void 0,type:typeof C.type==="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority==="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy==="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet==="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes==="string"?C.imageSizes:void 0,media:typeof C.media==="string"?C.media:void 0})}},jw.preloadModule=function(w,C){var F="";typeof w==="string"&&w||(F+=" The `href` argument encountered was "+G(w)+"."),C!==void 0&&typeof C!=="object"?F+=" The `options` argument encountered was "+G(C)+".":C&&("as"in C)&&typeof C.as!=="string"&&(F+=" The `as` option encountered was "+G(C.as)+"."),F&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',F),typeof w==="string"&&(C?(F=P(C.as,C.crossOrigin),q.d.m(w,{as:typeof C.as==="string"&&C.as!=="script"?C.as:void 0,crossOrigin:F,integrity:typeof C.integrity==="string"?C.integrity:void 0})):q.d.m(w))},jw.requestFormReset=function(w){q.d.r(w)},jw.unstable_batchedUpdates=function(w,C){return w(C)},jw.useFormState=function(w,C,F){return N().useFormState(w,C,F)},jw.useFormStatus=function(){return N().useHostTransitionStatus()},jw.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var OG=W_((jD,k9)=>{var bw=d(g9(),1);k9.exports=bw});var j9=W_((vw)=>{var cY=d(y9(),1),_O=d(mY(),1),XG=d(OG(),1);(function(){function _(Y,K){for(Y=Y.memoizedState;Y!==null&&0<K;)Y=Y.next,K--;return Y}function H(Y,K,B,$){if(B>=K.length)return $;var O=K[B],z=sK(Y)?Y.slice():DY({},Y);return z[O]=H(Y[O],K,B+1,$),z}function X(Y,K,B){if(K.length!==B.length)console.warn("copyWithRename() expects paths of the same length");else{for(var $=0;$<B.length-1;$++)if(K[$]!==B[$]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return P(Y,K,B,0)}}function P(Y,K,B,$){var O=K[$],z=sK(Y)?Y.slice():DY({},Y);return $+1===K.length?(z[B[$]]=z[O],sK(z)?z.splice(O,1):delete z[O]):z[O]=P(Y[O],K,B,$+1),z}function G(Y,K,B){var $=K[B],O=sK(Y)?Y.slice():DY({},Y);if(B+1===K.length)return sK(O)?O.splice($,1):delete O[$],O;return O[$]=G(Y[$],K,B+1),O}function W(){return!1}function N(){return null}function q(Y,K,B,$){return new nL(Y,K,B,$)}function Q(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function L(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function w(){}function C(){}function F(Y){var K=[];return Y.forEach(function(B){K.push(B)}),K.sort().join(", ")}function T(Y,K){Y.context===A$&&(sN(K,Y,null,null),JH())}function U(Y,K){if($B!==null){var B=K.staleFamilies;K=K.updatedFamilies,N1(),Y6(Y.current,K,B),JH()}}function m(Y){$B=Y}function S(Y){return!(!Y||Y.nodeType!==1&&Y.nodeType!==9&&Y.nodeType!==11)}function y(Y){if(Y===null||typeof Y!=="object")return null;return Y=O3&&Y[O3]||Y["@@iterator"],typeof Y==="function"?Y:null}function b(Y){if(Y==null)return null;if(typeof Y==="function")return Y.$$typeof===pR?null:Y.displayName||Y.name||null;if(typeof Y==="string")return Y;switch(Y){case AH:return"Fragment";case wH:return"Portal";case fP:return"Profiler";case s8:return"StrictMode";case hP:return"Suspense";case dP:return"SuspenseList"}if(typeof Y==="object")switch(typeof Y.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),Y.$$typeof){case __:return(Y.displayName||"Context")+".Provider";case mP:return(Y._context.displayName||"Context")+".Consumer";case HX:var K=Y.render;return Y=Y.displayName,Y||(Y=K.displayName||K.name||"",Y=Y!==""?"ForwardRef("+Y+")":"ForwardRef"),Y;case a8:return K=Y.displayName||null,K!==null?K:b(Y.type)||"Memo";case m0:K=Y._payload,Y=Y._init;try{return b(Y(K))}catch(B){}}return null}function i(Y){return typeof Y.tag==="number"?u(Y):typeof Y.name==="string"?Y.name:null}function u(Y){var K=Y.type;switch(Y.tag){case 24:return"Cache";case 9:return(K._context.displayName||"Context")+".Consumer";case 10:return(K.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Y=K.render,Y=Y.displayName||Y.name||"",K.displayName||(Y!==""?"ForwardRef("+Y+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return K;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(K);case 8:return K===s8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof K==="function")return K.displayName||K.name||null;if(typeof K==="string")return K;break;case 29:if(K=Y._debugInfo,K!=null){for(var B=K.length-1;0<=B;B--)if(typeof K[B].name==="string")return K[B].name}if(Y.return!==null)return u(Y.return)}return null}function $Y(){}function bY(){if(OX===0){X3=console.log,z3=console.info,P3=console.warn,G3=console.error,I3=console.group,W3=console.groupCollapsed,N3=console.groupEnd;var Y={configurable:!0,enumerable:!0,value:$Y,writable:!0};Object.defineProperties(console,{info:Y,log:Y,warn:Y,error:Y,group:Y,groupCollapsed:Y,groupEnd:Y})}OX++}function ZY(){if(OX--,OX===0){var Y={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:DY({},Y,{value:X3}),info:DY({},Y,{value:z3}),warn:DY({},Y,{value:P3}),error:DY({},Y,{value:G3}),group:DY({},Y,{value:I3}),groupCollapsed:DY({},Y,{value:W3}),groupEnd:DY({},Y,{value:N3})})}0>OX&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function gY(Y){if(cP===void 0)try{throw Error()}catch(B){var K=B.stack.trim().match(/\n( *(at )?)/);cP=K&&K[1]||"",Z3=-1<B.stack.indexOf(`
    at`)?" (<anonymous>)":-1<B.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cP+Y+Z3}function LY(Y,K){if(!Y||lP)return"";var B=uP.get(Y);if(B!==void 0)return B;lP=!0,B=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var $=null;$=f.H,f.H=null,bY();try{var O={DetermineComponentFrameRoot:function(){try{if(K){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(PY){var p=PY}Reflect.construct(Y,[],j)}else{try{j.call()}catch(PY){p=PY}Y.call(j.prototype)}}else{try{throw Error()}catch(PY){p=PY}(j=Y())&&typeof j.catch==="function"&&j.catch(function(){})}}catch(PY){if(PY&&p&&typeof PY.stack==="string")return[PY.stack,p.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=O.DetermineComponentFrameRoot(),Z=I[0],R=I[1];if(Z&&R){var A=Z.split(`
`),k=R.split(`
`);for(I=z=0;z<A.length&&!A[z].includes("DetermineComponentFrameRoot");)z++;for(;I<k.length&&!k[I].includes("DetermineComponentFrameRoot");)I++;if(z===A.length||I===k.length)for(z=A.length-1,I=k.length-1;1<=z&&0<=I&&A[z]!==k[I];)I--;for(;1<=z&&0<=I;z--,I--)if(A[z]!==k[I]){if(z!==1||I!==1)do if(z--,I--,0>I||A[z]!==k[I]){var c=`
`+A[z].replace(" at new "," at ");return Y.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",Y.displayName)),typeof Y==="function"&&uP.set(Y,c),c}while(1<=z&&0<=I);break}}}finally{lP=!1,f.H=$,ZY(),Error.prepareStackTrace=B}return A=(A=Y?Y.displayName||Y.name:"")?gY(A):"",typeof Y==="function"&&uP.set(Y,A),A}function _K(Y){switch(Y.tag){case 26:case 27:case 5:return gY(Y.type);case 16:return gY("Lazy");case 13:return gY("Suspense");case 19:return gY("SuspenseList");case 0:case 15:return Y=LY(Y.type,!1),Y;case 11:return Y=LY(Y.type.render,!1),Y;case 1:return Y=LY(Y.type,!0),Y;default:return""}}function $K(Y){try{var K="";do{K+=_K(Y);var B=Y._debugInfo;if(B)for(var $=B.length-1;0<=$;$--){var O=B[$];if(typeof O.name==="string"){var z=K,I=O.env,Z=gY(O.name+(I?" ["+I+"]":""));K=z+Z}}Y=Y.return}while(Y);return K}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function RK(){if(_0===null)return null;var Y=_0._debugOwner;return Y!=null?i(Y):null}function G0(){return _0===null?"":$K(_0)}function KY(Y,K,B,$,O,z,I){var Z=_0;f.getCurrentStack=Y===null?null:G0,BB=!1,_0=Y;try{return K(B,$,O,z,I)}finally{_0=Z}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function e(Y){var K=Y,B=Y;if(Y.alternate)for(;K.return;)K=K.return;else{Y=K;do K=Y,(K.flags&4098)!==0&&(B=K.return),Y=K.return;while(Y)}return K.tag===3?B:null}function RY(Y){if(Y.tag===13){var K=Y.memoizedState;if(K===null&&(Y=Y.alternate,Y!==null&&(K=Y.memoizedState)),K!==null)return K.dehydrated}return null}function zY(Y){if(e(Y)!==Y)throw Error("Unable to find node on an unmounted component.")}function lY(Y){var K=Y.alternate;if(!K){if(K=e(Y),K===null)throw Error("Unable to find node on an unmounted component.");return K!==Y?null:Y}for(var B=Y,$=K;;){var O=B.return;if(O===null)break;var z=O.alternate;if(z===null){if($=O.return,$!==null){B=$;continue}break}if(O.child===z.child){for(z=O.child;z;){if(z===B)return zY(O),Y;if(z===$)return zY(O),K;z=z.sibling}throw Error("Unable to find node on an unmounted component.")}if(B.return!==$.return)B=O,$=z;else{for(var I=!1,Z=O.child;Z;){if(Z===B){I=!0,B=O,$=z;break}if(Z===$){I=!0,$=O,B=z;break}Z=Z.sibling}if(!I){for(Z=z.child;Z;){if(Z===B){I=!0,B=z,$=O;break}if(Z===$){I=!0,$=z,B=O;break}Z=Z.sibling}if(!I)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(B.alternate!==$)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(B.tag!==3)throw Error("Unable to find node on an unmounted component.");return B.stateNode.current===B?Y:K}function rY(Y){var K=Y.tag;if(K===5||K===26||K===27||K===6)return Y;for(Y=Y.child;Y!==null;){if(K=rY(Y),K!==null)return K;Y=Y.sibling}return null}function oY(Y){return{current:Y}}function pY(Y,K){0>T_?console.error("Unexpected pop."):(K!==iP[T_]&&console.error("Unexpected Fiber popped."),Y.current=pP[T_],pP[T_]=null,iP[T_]=null,T_--)}function kY(Y,K,B){T_++,pP[T_]=Y.current,iP[T_]=B,Y.current=K}function GK(Y){return Y===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),Y}function pK(Y,K){kY(R$,K,Y),kY(XX,Y,Y),kY(L$,null,Y);var B=K.nodeType;switch(B){case 9:case 11:B=B===9?"#document":"#fragment",K=(K=K.documentElement)?(K=K.namespaceURI)?yN(K):l_:l_;break;default:if(K=B===8?K.parentNode:K,B=K.tagName,K=K.namespaceURI)K=yN(K),K=gN(K,B);else switch(B){case"svg":K=KO;break;case"math":K=j2;break;default:K=l_}}B=B.toLowerCase(),B=pI(null,B),B={context:K,ancestorInfo:B},pY(L$,Y),kY(L$,B,Y)}function o0(Y){pY(L$,Y),pY(XX,Y),pY(R$,Y)}function R0(){return GK(L$.current)}function iB(Y){Y.memoizedState!==null&&kY(r8,Y,Y);var K=GK(L$.current),B=Y.type,$=gN(K.context,B);B=pI(K.ancestorInfo,B),$={context:$,ancestorInfo:B},K!==$&&(kY(XX,Y,Y),kY(L$,$,Y))}function LB(Y){XX.current===Y&&(pY(L$,Y),pY(XX,Y)),r8.current===Y&&(pY(r8,Y),uX._currentValue=v1)}function s0(Y){return typeof Symbol==="function"&&Symbol.toStringTag&&Y[Symbol.toStringTag]||Y.constructor.name||"Object"}function RB(Y){try{return C0(Y),!1}catch(K){return!0}}function C0(Y){return""+Y}function hY(Y,K){if(RB(Y))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",K,s0(Y)),C0(Y)}function CB(Y,K){if(RB(Y))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",K,s0(Y)),C0(Y)}function w0(Y){if(RB(Y))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",s0(Y)),C0(Y)}function w_(Y){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined")return!1;var K=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(K.isDisabled)return!0;if(!K.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{EH=K.inject(Y),$0=K}catch(B){console.error("React instrumentation encountered an error: %s.",B)}return K.checkDCE?!0:!1}function t1(Y,K){if($0&&typeof $0.onCommitFiberRoot==="function")try{var B=(Y.current.flags&128)===128;switch(K){case MB:var $=oP;break;case UB:$=sP;break;case O_:$=xH;break;case Y2:$=aP;break;default:$=xH}$0.onCommitFiberRoot(EH,Y,$,B)}catch(O){H_||(H_=!0,console.error("React instrumentation encountered an error: %s",O))}}function sY(Y){if(typeof tR==="function"&&eR(Y),$0&&typeof $0.setStrictMode==="function")try{$0.setStrictMode(EH,Y)}catch(K){H_||(H_=!0,console.error("React instrumentation encountered an error: %s",K))}}function o$(Y){YY=Y}function H$(){YY!==null&&typeof YY.markCommitStopped==="function"&&YY.markCommitStopped()}function V(Y){YY!==null&&typeof YY.markComponentRenderStarted==="function"&&YY.markComponentRenderStarted(Y)}function BY(){YY!==null&&typeof YY.markComponentRenderStopped==="function"&&YY.markComponentRenderStopped()}function _Y(Y){YY!==null&&typeof YY.markRenderStarted==="function"&&YY.markRenderStarted(Y)}function jY(){YY!==null&&typeof YY.markRenderStopped==="function"&&YY.markRenderStopped()}function IK(Y,K){YY!==null&&typeof YY.markStateUpdateScheduled==="function"&&YY.markStateUpdateScheduled(Y,K)}function tY(Y){return Y>>>=0,Y===0?32:31-(YC(Y)/KC|0)|0}function r(Y){if(Y&1)return"SyncHydrationLane";if(Y&2)return"Sync";if(Y&4)return"InputContinuousHydration";if(Y&8)return"InputContinuous";if(Y&16)return"DefaultHydration";if(Y&32)return"Default";if(Y&64)return"TransitionHydration";if(Y&4194176)return"Transition";if(Y&62914560)return"Retry";if(Y&67108864)return"SelectiveHydration";if(Y&134217728)return"IdleHydration";if(Y&268435456)return"Idle";if(Y&536870912)return"Offscreen";if(Y&1073741824)return"Deferred"}function AK(Y){var K=Y&42;if(K!==0)return K;switch(Y&-Y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Y&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return Y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),Y}}function k0(Y,K){var B=Y.pendingLanes;if(B===0)return 0;var $=0,O=Y.suspendedLanes,z=Y.pingedLanes,I=Y.warmLanes;Y=Y.finishedLanes!==0;var Z=B&134217727;return Z!==0?(B=Z&~O,B!==0?$=AK(B):(z&=Z,z!==0?$=AK(z):Y||(I=Z&~I,I!==0&&($=AK(I))))):(Z=B&~O,Z!==0?$=AK(Z):z!==0?$=AK(z):Y||(I=B&~I,I!==0&&($=AK(I)))),$===0?0:K!==0&&K!==$&&(K&O)===0&&(O=$&-$,I=K&-K,O>=I||O===32&&(I&4194176)!==0)?K:$}function HK(Y,K){return(Y.pendingLanes&~(Y.suspendedLanes&~Y.pingedLanes)&K)===0}function a0(Y,K){switch(Y){case 1:case 2:case 4:case 8:return K+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return K+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function wB(){var Y=t8;return t8<<=1,(t8&4194176)===0&&(t8=128),Y}function A0(){var Y=e8;return e8<<=1,(e8&62914560)===0&&(e8=4194304),Y}function AB(Y){for(var K=[],B=0;31>B;B++)K.push(Y);return K}function hK(Y,K){Y.pendingLanes|=K,K!==268435456&&(Y.suspendedLanes=0,Y.pingedLanes=0,Y.warmLanes=0)}function tz(Y,K,B,$,O,z){var I=Y.pendingLanes;Y.pendingLanes=B,Y.suspendedLanes=0,Y.pingedLanes=0,Y.warmLanes=0,Y.expiredLanes&=B,Y.entangledLanes&=B,Y.errorRecoveryDisabledLanes&=B,Y.shellSuspendCounter=0;var{entanglements:Z,expirationTimes:R,hiddenUpdates:A}=Y;for(B=I&~B;0<B;){var k=31-I0(B),c=1<<k;Z[k]=0,R[k]=-1;var j=A[k];if(j!==null)for(A[k]=null,k=0;k<j.length;k++){var p=j[k];p!==null&&(p.lane&=-536870913)}B&=~c}$!==0&&VO(Y,$,0),z!==0&&O===0&&Y.tag!==0&&(Y.suspendedLanes|=z&~(I&~K))}function VO(Y,K,B){Y.pendingLanes|=K,Y.suspendedLanes&=~K;var $=31-I0(K);Y.entangledLanes|=K,Y.entanglements[$]=Y.entanglements[$]|1073741824|B&4194218}function e1(Y,K){var B=Y.entangledLanes|=K;for(Y=Y.entanglements;B;){var $=31-I0(B),O=1<<$;O&K|Y[$]&K&&(Y[$]|=K),B&=~O}}function FO(Y,K,B){if(DB)for(Y=Y.pendingUpdatersLaneMap;0<B;){var $=31-I0(B),O=1<<$;Y[$].add(K),B&=~O}}function YH(Y,K){if(DB)for(var{pendingUpdatersLaneMap:B,memoizedUpdaters:$}=Y;0<K;){var O=31-I0(K);Y=1<<O,O=B[O],0<O.size&&(O.forEach(function(z){var I=z.alternate;I!==null&&$.has(I)||$.add(z)}),O.clear()),K&=~Y}}function KH(Y){return Y&=-Y,MB!==0&&MB<Y?UB!==0&&UB<Y?(Y&134217727)!==0?O_:Y2:UB:MB}function ez(){var Y=NK.p;if(Y!==0)return Y;return Y=window.event,Y===void 0?O_:eN(Y.type)}function Y8(Y,K){var B=NK.p;try{return NK.p=Y,K()}finally{NK.p=B}}function BH(Y){delete Y[H0],delete Y[D0],delete Y[rP],delete Y[BC],delete Y[_C]}function nB(Y){var K=Y[H0];if(K)return K;for(var B=Y.parentNode;B;){if(K=B[Z1]||B[H0]){if(B=K.alternate,K.child!==null||B!==null&&B.child!==null)for(Y=fN(Y);Y!==null;){if(B=Y[H0])return B;Y=fN(Y)}return K}Y=B,B=Y.parentNode}return null}function oB(Y){if(Y=Y[H0]||Y[Z1]){var K=Y.tag;if(K===5||K===6||K===13||K===26||K===27||K===3)return Y}return null}function O$(Y){var K=Y.tag;if(K===5||K===26||K===27||K===6)return Y.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function A_(Y){var K=Y[J3];return K||(K=Y[J3]={hoistableStyles:new Map,hoistableScripts:new Map}),K}function FK(Y){Y[zX]=!0}function sB(Y,K){xB(Y,K),xB(Y+"Capture",K)}function xB(Y,K){J1[Y]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",Y),J1[Y]=K;var B=Y.toLowerCase();tP[B]=Y,Y==="onDoubleClick"&&(tP.ondblclick=Y);for(Y=0;Y<K.length;Y++)Q3.add(K[Y])}function EB(Y,K){$C[K.type]||K.onChange||K.onInput||K.readOnly||K.disabled||K.value==null||(Y==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),K.onChange||K.readOnly||K.disabled||K.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function X$(Y){if(y_.call(L3,Y))return!0;if(y_.call(q3,Y))return!1;if(HC.test(Y))return L3[Y]=!0;return q3[Y]=!0,console.error("Invalid attribute name: `%s`",Y),!1}function _H(Y,K,B){if(X$(K)){if(!Y.hasAttribute(K)){switch(typeof B){case"symbol":case"object":return B;case"function":return B;case"boolean":if(B===!1)return B}return B===void 0?void 0:null}if(Y=Y.getAttribute(K),Y===""&&B===!0)return!0;return hY(B,K),Y===""+B?B:Y}}function s$(Y,K,B){if(X$(K))if(B===null)Y.removeAttribute(K);else{switch(typeof B){case"undefined":case"function":case"symbol":Y.removeAttribute(K);return;case"boolean":var $=K.toLowerCase().slice(0,5);if($!=="data-"&&$!=="aria-"){Y.removeAttribute(K);return}}hY(B,K),Y.setAttribute(K,""+B)}}function J(Y,K,B){if(B===null)Y.removeAttribute(K);else{switch(typeof B){case"undefined":case"function":case"symbol":case"boolean":Y.removeAttribute(K);return}hY(B,K),Y.setAttribute(K,""+B)}}function M(Y,K,B,$){if($===null)Y.removeAttribute(B);else{switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":Y.removeAttribute(B);return}hY($,B),Y.setAttributeNS(K,B,""+$)}}function l(Y){switch(typeof Y){case"bigint":case"boolean":case"number":case"string":case"undefined":return Y;case"object":return w0(Y),Y;default:return""}}function a(Y){var K=Y.type;return(Y=Y.nodeName)&&Y.toLowerCase()==="input"&&(K==="checkbox"||K==="radio")}function HY(Y){var K=a(Y)?"checked":"value",B=Object.getOwnPropertyDescriptor(Y.constructor.prototype,K);w0(Y[K]);var $=""+Y[K];if(!Y.hasOwnProperty(K)&&typeof B!=="undefined"&&typeof B.get==="function"&&typeof B.set==="function"){var{get:O,set:z}=B;return Object.defineProperty(Y,K,{configurable:!0,get:function(){return O.call(this)},set:function(I){w0(I),$=""+I,z.call(this,I)}}),Object.defineProperty(Y,K,{enumerable:B.enumerable}),{getValue:function(){return $},setValue:function(I){w0(I),$=""+I},stopTracking:function(){Y._valueTracker=null,delete Y[K]}}}}function GY(Y){Y._valueTracker||(Y._valueTracker=HY(Y))}function OY(Y){if(!Y)return!1;var K=Y._valueTracker;if(!K)return!0;var B=K.getValue(),$="";return Y&&($=a(Y)?Y.checked?"true":"false":Y.value),Y=$,Y!==B?(K.setValue(Y),!0):!1}function dY(Y){if(Y=Y||(typeof document!=="undefined"?document:void 0),typeof Y==="undefined")return null;try{return Y.activeElement||Y.body}catch(K){return Y.body}}function CY(Y){return Y.replace(OC,function(K){return"\\"+K.charCodeAt(0).toString(16)+" "})}function WK(Y,K){K.checked===void 0||K.defaultChecked===void 0||C3||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",RK()||"A component",K.type),C3=!0),K.value===void 0||K.defaultValue===void 0||R3||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",RK()||"A component",K.type),R3=!0)}function dK(Y,K,B,$,O,z,I,Z){if(Y.name="",I!=null&&typeof I!=="function"&&typeof I!=="symbol"&&typeof I!=="boolean"?(hY(I,"type"),Y.type=I):Y.removeAttribute("type"),K!=null)if(I==="number"){if(K===0&&Y.value===""||Y.value!=K)Y.value=""+l(K)}else Y.value!==""+l(K)&&(Y.value=""+l(K));else I!=="submit"&&I!=="reset"||Y.removeAttribute("value");K!=null?x0(Y,I,l(K)):B!=null?x0(Y,I,l(B)):$!=null&&Y.removeAttribute("value"),O==null&&z!=null&&(Y.defaultChecked=!!z),O!=null&&(Y.checked=O&&typeof O!=="function"&&typeof O!=="symbol"),Z!=null&&typeof Z!=="function"&&typeof Z!=="symbol"&&typeof Z!=="boolean"?(hY(Z,"name"),Y.name=""+l(Z)):Y.removeAttribute("name")}function aB(Y,K,B,$,O,z,I,Z){if(z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"&&(hY(z,"type"),Y.type=z),K!=null||B!=null){if(!(z!=="submit"&&z!=="reset"||K!==void 0&&K!==null))return;B=B!=null?""+l(B):"",K=K!=null?""+l(K):B,Z||K===Y.value||(Y.value=K),Y.defaultValue=K}$=$!=null?$:O,$=typeof $!=="function"&&typeof $!=="symbol"&&!!$,Y.checked=Z?Y.checked:!!$,Y.defaultChecked=!!$,I!=null&&typeof I!=="function"&&typeof I!=="symbol"&&typeof I!=="boolean"&&(hY(I,"name"),Y.name=I)}function x0(Y,K,B){K==="number"&&dY(Y.ownerDocument)===Y||Y.defaultValue===""+B||(Y.defaultValue=""+B)}function a$(Y,K){K.value==null&&(typeof K.children==="object"&&K.children!==null?_O.Children.forEach(K.children,function(B){B==null||typeof B==="string"||typeof B==="number"||typeof B==="bigint"||A3||(A3=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):K.dangerouslySetInnerHTML==null||x3||(x3=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),K.selected==null||w3||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),w3=!0)}function r0(){var Y=RK();return Y?`

Check the render method of \``+Y+"`.":""}function $H(Y,K,B,$){if(Y=Y.options,K){K={};for(var O=0;O<B.length;O++)K["$"+B[O]]=!0;for(B=0;B<Y.length;B++)O=K.hasOwnProperty("$"+Y[B].value),Y[B].selected!==O&&(Y[B].selected=O),O&&$&&(Y[B].defaultSelected=!0)}else{B=""+l(B),K=null;for(O=0;O<Y.length;O++){if(Y[O].value===B){Y[O].selected=!0,$&&(Y[O].defaultSelected=!0);return}K!==null||Y[O].disabled||(K=Y[O])}K!==null&&(K.selected=!0)}}function vI(Y,K){for(Y=0;Y<V3.length;Y++){var B=V3[Y];if(K[B]!=null){var $=sK(K[B]);K.multiple&&!$?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",B,r0()):!K.multiple&&$&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",B,r0())}}K.value===void 0||K.defaultValue===void 0||E3||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),E3=!0)}function fI(Y,K){K.value===void 0||K.defaultValue===void 0||F3||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",RK()||"A component"),F3=!0),K.children!=null&&K.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function mI(Y,K,B){if(K!=null&&(K=""+l(K),K!==Y.value&&(Y.value=K),B==null)){Y.defaultValue!==K&&(Y.defaultValue=K);return}Y.defaultValue=B!=null?""+l(B):""}function hI(Y,K,B,$){if(K==null){if($!=null){if(B!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(sK($)){if(1<$.length)throw Error("<textarea> can only have at most one child.");$=$[0]}B=$}B==null&&(B=""),K=B}B=l(K),Y.defaultValue=B,$=Y.textContent,$===B&&$!==""&&$!==null&&(Y.value=$)}function dI(Y,K){return Y.serverProps===void 0&&Y.serverTail.length===0&&Y.children.length===1&&3<Y.distanceFromLeaf&&Y.distanceFromLeaf>15-K?dI(Y.children[0],K):Y}function j0(Y){return"  "+"  ".repeat(Y)}function HH(Y){return"+ "+"  ".repeat(Y)}function r$(Y){return"- "+"  ".repeat(Y)}function cI(Y){switch(Y.tag){case 26:case 27:case 5:return Y.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return Y=Y.type,Y.displayName||Y.name||null;case 11:return Y=Y.type.render,Y.displayName||Y.name||null;case 1:return Y=Y.type,Y.displayName||Y.name||null;default:return null}}function DO(Y,K){return D3.test(Y)?(Y=JSON.stringify(Y),Y.length>K-2?8>K?'{"..."}':"{"+Y.slice(0,K-7)+'..."}':"{"+Y+"}"):Y.length>K?5>K?'{"..."}':Y.slice(0,K-3)+"...":Y}function K8(Y,K,B){var $=120-2*B;if(K===null)return HH(B)+DO(Y,$)+`
`;if(typeof K==="string"){for(var O=0;O<K.length&&O<Y.length&&K.charCodeAt(O)===Y.charCodeAt(O);O++);return O>$-8&&10<O&&(Y="..."+Y.slice(O-8),K="..."+K.slice(O-8)),HH(B)+DO(Y,$)+`
`+r$(B)+DO(K,$)+`
`}return j0(B)+DO(Y,$)+`
`}function u7(Y){return Object.prototype.toString.call(Y).replace(/^\[object (.*)\]$/,function(K,B){return B})}function MO(Y,K){switch(typeof Y){case"string":return Y=JSON.stringify(Y),Y.length>K?5>K?'"..."':Y.slice(0,K-4)+'..."':Y;case"object":if(Y===null)return"null";if(sK(Y))return"[...]";if(Y.$$typeof===q$)return(K=b(Y.type))?"<"+K+">":"<...>";var B=u7(Y);if(B==="Object"){B="",K-=2;for(var $ in Y)if(Y.hasOwnProperty($)){var O=JSON.stringify($);if(O!=='"'+$+'"'&&($=O),K-=$.length-2,O=MO(Y[$],15>K?K:15),K-=O.length,0>K){B+=B===""?"...":", ...";break}B+=(B===""?"":",")+$+":"+O}return"{"+B+"}"}return B;case"function":return(K=Y.displayName||Y.name)?"function "+K:"function";default:return String(Y)}}function OH(Y,K){return typeof Y!=="string"||D3.test(Y)?"{"+MO(Y,K-2)+"}":Y.length>K-2?5>K?'"..."':'"'+Y.slice(0,K-5)+'..."':'"'+Y+'"'}function p7(Y,K,B){var $=120-B.length-Y.length,O=[],z;for(z in K)if(K.hasOwnProperty(z)&&z!=="children"){var I=OH(K[z],120-B.length-z.length-1);$-=z.length+I.length+2,O.push(z+"="+I)}return O.length===0?B+"<"+Y+`>
`:0<$?B+"<"+Y+" "+O.join(" ")+`>
`:B+"<"+Y+`
`+B+"  "+O.join(`
`+B+"  ")+`
`+B+`>
`}function PL(Y,K,B){var $="",O=DY({},K),z;for(z in Y)if(Y.hasOwnProperty(z)){delete O[z];var I=120-2*B-z.length-2,Z=MO(Y[z],I);K.hasOwnProperty(z)?(I=MO(K[z],I),$+=HH(B)+z+": "+Z+`
`,$+=r$(B)+z+": "+I+`
`):$+=HH(B)+z+": "+Z+`
`}for(var R in O)O.hasOwnProperty(R)&&(Y=MO(O[R],120-2*B-R.length-2),$+=r$(B)+R+": "+Y+`
`);return $}function GL(Y,K,B,$){var O="",z=new Map;for(A in B)B.hasOwnProperty(A)&&z.set(A.toLowerCase(),A);if(z.size===1&&z.has("children"))O+=p7(Y,K,j0($));else{for(var I in K)if(K.hasOwnProperty(I)&&I!=="children"){var Z=120-2*($+1)-I.length-1,R=z.get(I.toLowerCase());if(R!==void 0){z.delete(I.toLowerCase());var A=K[I];R=B[R];var k=OH(A,Z);Z=OH(R,Z),typeof A==="object"&&A!==null&&typeof R==="object"&&R!==null&&u7(A)==="Object"&&u7(R)==="Object"&&(2<Object.keys(A).length||2<Object.keys(R).length||-1<k.indexOf("...")||-1<Z.indexOf("..."))?O+=j0($+1)+I+`={{
`+PL(A,R,$+2)+j0($+1)+`}}
`:(O+=HH($+1)+I+"="+k+`
`,O+=r$($+1)+I+"="+Z+`
`)}else O+=j0($+1)+I+"="+OH(K[I],Z)+`
`}z.forEach(function(c){if(c!=="children"){var j=120-2*($+1)-c.length-1;O+=r$($+1)+c+"="+OH(B[c],j)+`
`}}),O=O===""?j0($)+"<"+Y+`>
`:j0($)+"<"+Y+`
`+O+j0($)+`>
`}if(Y=B.children,K=K.children,typeof Y==="string"||typeof Y==="number"||typeof Y==="bigint"){if(z="",typeof K==="string"||typeof K==="number"||typeof K==="bigint")z=""+K;O+=K8(z,""+Y,$+1)}else if(typeof K==="string"||typeof K==="number"||typeof K==="bigint")O=Y==null?O+K8(""+K,null,$+1):O+K8(""+K,void 0,$+1);return O}function lI(Y,K){var B=cI(Y);if(B===null){B="";for(Y=Y.child;Y;)B+=lI(Y,K),Y=Y.sibling;return B}return j0(K)+"<"+B+`>
`}function i7(Y,K){var B=dI(Y,K);if(B!==Y&&(Y.children.length!==1||Y.children[0]!==B))return j0(K)+`...
`+i7(B,K+1);B="";var $=Y.fiber._debugInfo;if($)for(var O=0;O<$.length;O++){var z=$[O].name;typeof z==="string"&&(B+=j0(K)+"<"+z+`>
`,K++)}if($="",O=Y.fiber.pendingProps,Y.fiber.tag===6)$=K8(O,Y.serverProps,K),K++;else if(z=cI(Y.fiber),z!==null)if(Y.serverProps===void 0){$=K;var I=120-2*$-z.length-2,Z="";for(A in O)if(O.hasOwnProperty(A)&&A!=="children"){var R=OH(O[A],15);if(I-=A.length+R.length+2,0>I){Z+=" ...";break}Z+=" "+A+"="+R}$=j0($)+"<"+z+Z+`>
`,K++}else Y.serverProps===null?($=p7(z,O,HH(K)),K++):typeof Y.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):($=GL(z,O,Y.serverProps,K),K++);var A="";O=Y.fiber.child;for(z=0;O&&z<Y.children.length;)I=Y.children[z],I.fiber===O?(A+=i7(I,K),z++):A+=lI(O,K),O=O.sibling;O&&0<Y.children.length&&(A+=j0(K)+`...
`),O=Y.serverTail,Y.serverProps===null&&K--;for(Y=0;Y<O.length;Y++)z=O[Y],A=typeof z==="string"?A+(r$(K)+DO(z,120-2*K)+`
`):A+p7(z.type,z.props,r$(K));return B+$+A}function n7(Y){try{return`

`+i7(Y,0)}catch(K){return""}}function uI(Y,K,B){for(var $=K,O=null,z=0;$;)$===Y&&(z=0),O={fiber:$,children:O!==null?[O]:[],serverProps:$===K?B:$===Y?null:void 0,serverTail:[],distanceFromLeaf:z},z++,$=$.return;return O!==null?n7(O).replaceAll(/^[+-]/gm,">"):""}function pI(Y,K){Y=DY({},Y||U3);var B={tag:K};if(M3.indexOf(K)!==-1&&(Y.aTagInScope=null,Y.buttonTagInScope=null,Y.nobrTagInScope=null),zC.indexOf(K)!==-1&&(Y.pTagInButtonScope=null),XC.indexOf(K)!==-1&&K!=="address"&&K!=="div"&&K!=="p"&&(Y.listItemTagAutoclosing=null,Y.dlItemTagAutoclosing=null),Y.current=B,K==="form"&&(Y.formTag=B),K==="a"&&(Y.aTagInScope=B),K==="button"&&(Y.buttonTagInScope=B),K==="nobr"&&(Y.nobrTagInScope=B),K==="p"&&(Y.pTagInButtonScope=B),K==="li"&&(Y.listItemTagAutoclosing=B),K==="dd"||K==="dt")Y.dlItemTagAutoclosing=B;return K==="#document"||K==="html"?Y.containerTagInScope=null:Y.containerTagInScope||(Y.containerTagInScope=B),Y}function iI(Y,K){switch(K){case"select":return Y==="hr"||Y==="option"||Y==="optgroup"||Y==="#text";case"optgroup":return Y==="option"||Y==="#text";case"option":return Y==="#text";case"tr":return Y==="th"||Y==="td"||Y==="style"||Y==="script"||Y==="template";case"tbody":case"thead":case"tfoot":return Y==="tr"||Y==="style"||Y==="script"||Y==="template";case"colgroup":return Y==="col"||Y==="template";case"table":return Y==="caption"||Y==="colgroup"||Y==="tbody"||Y==="tfoot"||Y==="thead"||Y==="style"||Y==="script"||Y==="template";case"head":return Y==="base"||Y==="basefont"||Y==="bgsound"||Y==="link"||Y==="meta"||Y==="title"||Y==="noscript"||Y==="noframes"||Y==="style"||Y==="script"||Y==="template";case"html":return Y==="head"||Y==="body"||Y==="frameset";case"frameset":return Y==="frame";case"#document":return Y==="html"}switch(Y){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return K!=="h1"&&K!=="h2"&&K!=="h3"&&K!=="h4"&&K!=="h5"&&K!=="h6";case"rp":case"rt":return PC.indexOf(K)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return K==null}return!0}function IL(Y,K){switch(Y){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return K.pTagInButtonScope;case"form":return K.formTag||K.pTagInButtonScope;case"li":return K.listItemTagAutoclosing;case"dd":case"dt":return K.dlItemTagAutoclosing;case"button":return K.buttonTagInScope;case"a":return K.aTagInScope;case"nobr":return K.nobrTagInScope}return null}function nI(Y,K){for(;Y;){switch(Y.tag){case 5:case 26:case 27:if(Y.type===K)return Y}Y=Y.return}return null}function o7(Y,K){K=K||U3;var B=K.current;if(K=(B=iI(Y,B&&B.tag)?null:B)?null:IL(Y,K),K=B||K,!K)return!0;K=K.tag;var $=String(!!B)+"|"+Y+"|"+K;if(K2[$])return!1;K2[$]=!0;var O=($=_0)?nI($.return,K):null;return $=$!==null&&O!==null?uI(O,$,null):"",O="<"+Y+">",B?(B="",K==="table"&&Y==="tr"&&(B+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,O,K,B,$)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,O,K,$),!1}function B8(Y,K){if(iI("#text",K))return!0;var B="#text|"+K;if(K2[B])return!1;K2[B]=!0;var $=(B=_0)?nI(B,K):null;return B=B!==null&&$!==null?uI($,B,B.tag!==6?{children:null}:null):"",/\S/.test(Y)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,K,B):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,K,B),!1}function UO(Y,K){if(K){var B=Y.firstChild;if(B&&B===Y.lastChild&&B.nodeType===3){B.nodeValue=K;return}}Y.textContent=K}function WL(Y){return Y.replace(WC,function(K,B){return B.toUpperCase()})}function oI(Y,K,B){var $=K.indexOf("--")===0;$||(-1<K.indexOf("-")?FH.hasOwnProperty(K)&&FH[K]||(FH[K]=!0,console.error("Unsupported style property %s. Did you mean %s?",K,WL(K.replace(IC,"ms-")))):GC.test(K)?FH.hasOwnProperty(K)&&FH[K]||(FH[K]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",K,K.charAt(0).toUpperCase()+K.slice(1))):!y3.test(B)||Y4.hasOwnProperty(B)&&Y4[B]||(Y4[B]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,K,B.replace(y3,""))),typeof B==="number"&&(isNaN(B)?g3||(g3=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",K)):isFinite(B)||k3||(k3=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",K)))),B==null||typeof B==="boolean"||B===""?$?Y.setProperty(K,""):K==="float"?Y.cssFloat="":Y[K]="":$?Y.setProperty(K,B):typeof B!=="number"||B===0||j3.has(K)?K==="float"?Y.cssFloat=B:(CB(B,K),Y[K]=(""+B).trim()):Y[K]=B+"px"}function sI(Y,K,B){if(K!=null&&typeof K!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(K&&Object.freeze(K),Y=Y.style,B!=null){if(K){var $={};if(B){for(var O in B)if(B.hasOwnProperty(O)&&!K.hasOwnProperty(O))for(var z=eP[O]||[O],I=0;I<z.length;I++)$[z[I]]=O}for(var Z in K)if(K.hasOwnProperty(Z)&&(!B||B[Z]!==K[Z]))for(O=eP[Z]||[Z],z=0;z<O.length;z++)$[O[z]]=Z;Z={};for(var R in K)for(O=eP[R]||[R],z=0;z<O.length;z++)Z[O[z]]=R;R={};for(var A in $)if(O=$[A],(z=Z[A])&&O!==z&&(I=O+","+z,!R[I])){R[I]=!0,I=console;var k=K[O];I.error.call(I,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",k==null||typeof k==="boolean"||k===""?"Removing":"Updating",O,z)}}for(var c in B)!B.hasOwnProperty(c)||K!=null&&K.hasOwnProperty(c)||(c.indexOf("--")===0?Y.setProperty(c,""):c==="float"?Y.cssFloat="":Y[c]="");for(var j in K)A=K[j],K.hasOwnProperty(j)&&B[j]!==A&&oI(Y,j,A)}else for($ in K)K.hasOwnProperty($)&&oI(Y,$,K[$])}function SO(Y){if(Y.indexOf("-")===-1)return!1;switch(Y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function aI(Y){return NC.get(Y)||Y}function NL(Y,K){if(y_.call(DH,K)&&DH[K])return!0;if(JC.test(K)){if(Y="aria-"+K.slice(4).toLowerCase(),Y=b3.hasOwnProperty(Y)?Y:null,Y==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",K),DH[K]=!0;if(K!==Y)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",K,Y),DH[K]=!0}if(ZC.test(K)){if(Y=K.toLowerCase(),Y=b3.hasOwnProperty(Y)?Y:null,Y==null)return DH[K]=!0,!1;K!==Y&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",K,Y),DH[K]=!0)}return!0}function ZL(Y,K){var B=[],$;for($ in K)NL(Y,$)||B.push($);K=B.map(function(O){return"`"+O+"`"}).join(", "),B.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",K,Y):1<B.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",K,Y)}function JL(Y,K,B,$){if(y_.call(W0,K)&&W0[K])return!0;var O=K.toLowerCase();if(O==="onfocusin"||O==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),W0[K]=!0;if(typeof B==="function"&&(Y==="form"&&K==="action"||Y==="input"&&K==="formAction"||Y==="button"&&K==="formAction"))return!0;if($!=null){if(Y=$.possibleRegistrationNames,$.registrationNameDependencies.hasOwnProperty(K))return!0;if($=Y.hasOwnProperty(O)?Y[O]:null,$!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",K,$),W0[K]=!0;if(f3.test(K))return console.error("Unknown event handler property `%s`. It will be ignored.",K),W0[K]=!0}else if(f3.test(K))return QC.test(K)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",K),W0[K]=!0;if(qC.test(K)||LC.test(K))return!0;if(O==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),W0[K]=!0;if(O==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),W0[K]=!0;if(O==="is"&&B!==null&&B!==void 0&&typeof B!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof B),W0[K]=!0;if(typeof B==="number"&&isNaN(B))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",K),W0[K]=!0;if(_2.hasOwnProperty(O)){if(O=_2[O],O!==K)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",K,O),W0[K]=!0}else if(K!==O)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",K,O),W0[K]=!0;switch(K){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof B){case"boolean":switch(K){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(O=K.toLowerCase().slice(0,5),O==="data-"||O==="aria-")return!0;return B?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',B,K,K,B,K):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',B,K,K,B,K,K,K),W0[K]=!0}case"function":case"symbol":return W0[K]=!0,!1;case"string":if(B==="false"||B==="true"){switch(K){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",B,K,B==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',K,B),W0[K]=!0}}return!0}function QL(Y,K,B){var $=[],O;for(O in K)JL(Y,O,K[O],B)||$.push(O);K=$.map(function(z){return"`"+z+"`"}).join(", "),$.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",K,Y):1<$.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",K,Y)}function TO(Y){return RC.test(""+Y)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Y}function s7(Y){return Y=Y.target||Y.srcElement||window,Y.correspondingUseElement&&(Y=Y.correspondingUseElement),Y.nodeType===3?Y.parentNode:Y}function rI(Y){var K=oB(Y);if(K&&(Y=K.stateNode)){var B=Y[D0]||null;Y:switch(Y=K.stateNode,K.type){case"input":if(dK(Y,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name),K=B.name,B.type==="radio"&&K!=null){for(B=Y;B.parentNode;)B=B.parentNode;hY(K,"name"),B=B.querySelectorAll('input[name="'+CY(""+K)+'"][type="radio"]');for(K=0;K<B.length;K++){var $=B[K];if($!==Y&&$.form===Y.form){var O=$[D0]||null;if(!O)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");dK($,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(K=0;K<B.length;K++)$=B[K],$.form===Y.form&&OY($)}break Y;case"textarea":mI(Y,B.value,B.defaultValue);break Y;case"select":K=B.value,K!=null&&$H(Y,!!B.multiple,K,!1)}}}function tI(Y,K,B){if(K4)return Y(K,B);K4=!0;try{var $=Y(K);return $}finally{if(K4=!1,MH!==null||UH!==null){if(JH(),MH&&(K=MH,Y=UH,UH=MH=null,rI(K),Y))for(K=0;K<Y.length;K++)rI(Y[K])}}}function yO(Y,K){var B=Y.stateNode;if(B===null)return null;var $=B[D0]||null;if($===null)return null;B=$[K];Y:switch(K){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(Y=Y.type,$=!(Y==="button"||Y==="input"||Y==="select"||Y==="textarea")),Y=!$;break Y;default:Y=!1}if(Y)return null;if(B&&typeof B!=="function")throw Error("Expected `"+K+"` listener to be a function, instead got a value of `"+typeof B+"` type.");return B}function eI(){if($2)return $2;var Y,K=_4,B=K.length,$,O="value"in w$?w$.value:w$.textContent,z=O.length;for(Y=0;Y<B&&K[Y]===O[Y];Y++);var I=B-Y;for($=1;$<=I&&K[B-$]===O[z-$];$++);return $2=O.slice(Y,1<$?1-$:void 0)}function _8(Y){var K=Y.keyCode;return"charCode"in Y?(Y=Y.charCode,Y===0&&K===13&&(Y=13)):Y=K,Y===10&&(Y=13),32<=Y||Y===13?Y:0}function $8(){return!0}function Y5(){return!1}function E0(Y){function K(B,$,O,z,I){this._reactName=B,this._targetInst=O,this.type=$,this.nativeEvent=z,this.target=I,this.currentTarget=null;for(var Z in Y)Y.hasOwnProperty(Z)&&(B=Y[Z],this[Z]=B?B(z):z[Z]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?$8:Y5,this.isPropagationStopped=Y5,this}return DY(K.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!=="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=$8)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!=="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=$8)},persist:function(){},isPersistent:$8}),K}function qL(Y){var K=this.nativeEvent;return K.getModifierState?K.getModifierState(Y):(Y=yC[Y])?!!K[Y]:!1}function a7(){return qL}function K5(Y,K){switch(Y){case"keyup":return uC.indexOf(K.keyCode)!==-1;case"keydown":return K.keyCode!==c3;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B5(Y){return Y=Y.detail,typeof Y==="object"&&"data"in Y?Y.data:null}function LL(Y,K){switch(Y){case"compositionend":return B5(K);case"keypress":if(K.which!==u3)return null;return i3=!0,p3;case"textInput":return Y=K.data,Y===p3&&i3?null:Y;default:return null}}function RL(Y,K){if(SH)return Y==="compositionend"||!X4&&K5(Y,K)?(Y=eI(),$2=_4=w$=null,SH=!1,Y):null;switch(Y){case"paste":return null;case"keypress":if(!(K.ctrlKey||K.altKey||K.metaKey)||K.ctrlKey&&K.altKey){if(K.char&&1<K.char.length)return K.char;if(K.which)return String.fromCharCode(K.which)}return null;case"compositionend":return l3&&K.locale!=="ko"?null:K.data;default:return null}}function _5(Y){var K=Y&&Y.nodeName&&Y.nodeName.toLowerCase();return K==="input"?!!iC[Y.type]:K==="textarea"?!0:!1}function CL(Y){if(!X_)return!1;Y="on"+Y;var K=Y in document;return K||(K=document.createElement("div"),K.setAttribute(Y,"return;"),K=typeof K[Y]==="function"),K}function $5(Y,K,B,$){MH?UH?UH.push($):UH=[$]:MH=$,K=f8(K,"onChange"),0<K.length&&(B=new H2("onChange","change",null,B,$),Y.push({event:B,listeners:K}))}function wL(Y){AN(Y,0)}function H8(Y){var K=O$(Y);if(OY(K))return Y}function H5(Y,K){if(Y==="change")return K}function O5(){ZX&&(ZX.detachEvent("onpropertychange",X5),JX=ZX=null)}function X5(Y){if(Y.propertyName==="value"&&H8(JX)){var K=[];$5(K,JX,Y,s7(Y)),tI(wL,K)}}function AL(Y,K,B){Y==="focusin"?(O5(),ZX=K,JX=B,ZX.attachEvent("onpropertychange",X5)):Y==="focusout"&&O5()}function xL(Y){if(Y==="selectionchange"||Y==="keyup"||Y==="keydown")return H8(JX)}function EL(Y,K){if(Y==="click")return H8(K)}function VL(Y,K){if(Y==="input"||Y==="change")return H8(K)}function FL(Y,K){return Y===K&&(Y!==0||1/Y===1/K)||Y!==Y&&K!==K}function gO(Y,K){if(N0(Y,K))return!0;if(typeof Y!=="object"||Y===null||typeof K!=="object"||K===null)return!1;var B=Object.keys(Y),$=Object.keys(K);if(B.length!==$.length)return!1;for($=0;$<B.length;$++){var O=B[$];if(!y_.call(K,O)||!N0(Y[O],K[O]))return!1}return!0}function z5(Y){for(;Y&&Y.firstChild;)Y=Y.firstChild;return Y}function P5(Y,K){var B=z5(Y);Y=0;for(var $;B;){if(B.nodeType===3){if($=Y+B.textContent.length,Y<=K&&$>=K)return{node:B,offset:K-Y};Y=$}Y:{for(;B;){if(B.nextSibling){B=B.nextSibling;break Y}B=B.parentNode}B=void 0}B=z5(B)}}function G5(Y,K){return Y&&K?Y===K?!0:Y&&Y.nodeType===3?!1:K&&K.nodeType===3?G5(Y,K.parentNode):("contains"in Y)?Y.contains(K):Y.compareDocumentPosition?!!(Y.compareDocumentPosition(K)&16):!1:!1}function I5(Y){Y=Y!=null&&Y.ownerDocument!=null&&Y.ownerDocument.defaultView!=null?Y.ownerDocument.defaultView:window;for(var K=dY(Y.document);K instanceof Y.HTMLIFrameElement;){try{var B=typeof K.contentWindow.location.href==="string"}catch($){B=!1}if(B)Y=K.contentWindow;else break;K=dY(Y.document)}return K}function r7(Y){var K=Y&&Y.nodeName&&Y.nodeName.toLowerCase();return K&&(K==="input"&&(Y.type==="text"||Y.type==="search"||Y.type==="tel"||Y.type==="url"||Y.type==="password")||K==="textarea"||Y.contentEditable==="true")}function DL(Y,K){var B=I5(K);K=Y.focusedElem;var $=Y.selectionRange;if(B!==K&&K&&K.ownerDocument&&G5(K.ownerDocument.documentElement,K)){if($!==null&&r7(K)){if(Y=$.start,B=$.end,B===void 0&&(B=Y),"selectionStart"in K)K.selectionStart=Y,K.selectionEnd=Math.min(B,K.value.length);else if(B=(Y=K.ownerDocument||document)&&Y.defaultView||window,B.getSelection){B=B.getSelection();var O=K.textContent.length,z=Math.min($.start,O);$=$.end===void 0?z:Math.min($.end,O),!B.extend&&z>$&&(O=$,$=z,z=O),O=P5(K,z);var I=P5(K,$);O&&I&&(B.rangeCount!==1||B.anchorNode!==O.node||B.anchorOffset!==O.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)&&(Y=Y.createRange(),Y.setStart(O.node,O.offset),B.removeAllRanges(),z>$?(B.addRange(Y),B.extend(I.node,I.offset)):(Y.setEnd(I.node,I.offset),B.addRange(Y)))}}Y=[];for(B=K;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});typeof K.focus==="function"&&K.focus();for(K=0;K<Y.length;K++)B=Y[K],B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}function W5(Y,K,B){var $=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;P4||TH==null||TH!==dY($)||($=TH,("selectionStart"in $)&&r7($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),QX&&gO(QX,$)||(QX=$,$=f8(z4,"onSelect"),0<$.length&&(K=new H2("onSelect","select",null,K,B),Y.push({event:K,listeners:$}),K.target=TH)))}function t$(Y,K){var B={};return B[Y.toLowerCase()]=K.toLowerCase(),B["Webkit"+Y]="webkit"+K,B["Moz"+Y]="moz"+K,B}function e$(Y){if(G4[Y])return G4[Y];if(!yH[Y])return Y;var K=yH[Y],B;for(B in K)if(K.hasOwnProperty(B)&&B in o3)return G4[Y]=K[B];return Y}function VB(Y,K){e3.set(Y,K),sB(K,[Y])}function O8(){for(var Y=gH,K=I4=gH=0;K<Y;){var B=_B[K];_B[K++]=null;var $=_B[K];_B[K++]=null;var O=_B[K];_B[K++]=null;var z=_B[K];if(_B[K++]=null,$!==null&&O!==null){var I=$.pending;I===null?O.next=O:(O.next=I.next,I.next=O),$.pending=O}z!==0&&N5(B,O,z)}}function X8(Y,K,B,$){_B[gH++]=Y,_B[gH++]=K,_B[gH++]=B,_B[gH++]=$,I4|=$,Y.lanes|=$,Y=Y.alternate,Y!==null&&(Y.lanes|=$)}function t7(Y,K,B,$){return X8(Y,K,B,$),z8(Y)}function B0(Y,K){return X8(Y,null,null,K),z8(Y)}function N5(Y,K,B){Y.lanes|=B;var $=Y.alternate;$!==null&&($.lanes|=B);for(var O=!1,z=Y.return;z!==null;)z.childLanes|=B,$=z.alternate,$!==null&&($.childLanes|=B),z.tag===22&&(Y=z.stateNode,Y===null||Y._visibility&qX||(O=!0)),Y=z,z=z.return;O&&K!==null&&Y.tag===3&&(z=Y.stateNode,O=31-I0(B),z=z.hiddenUpdates,Y=z[O],Y===null?z[O]=[K]:Y.push(K),K.lane=B|536870912)}function z8(Y){if(mX>Pw)throw T1=mX=0,hX=h4=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");T1>Gw&&(T1=0,hX=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),Y.alternate===null&&(Y.flags&4098)!==0&&ZN(Y);for(var K=Y,B=K.return;B!==null;)K.alternate===null&&(K.flags&4098)!==0&&ZN(Y),K=B,B=K.return;return K.tag===3?K.stateNode:null}function Y1(Y){if($B===null)return Y;var K=$B(Y);return K===void 0?Y:K.current}function e7(Y){if($B===null)return Y;var K=$B(Y);return K===void 0?Y!==null&&Y!==void 0&&typeof Y.render==="function"&&(K=Y1(Y.render),Y.render!==K)?(K={$$typeof:HX,render:K},Y.displayName!==void 0&&(K.displayName=Y.displayName),K):Y:K.current}function Z5(Y,K){if($B===null)return!1;var B=Y.elementType;K=K.type;var $=!1,O=typeof K==="object"&&K!==null?K.$$typeof:null;switch(Y.tag){case 1:typeof K==="function"&&($=!0);break;case 0:typeof K==="function"?$=!0:O===m0&&($=!0);break;case 11:O===HX?$=!0:O===m0&&($=!0);break;case 14:case 15:O===a8?$=!0:O===m0&&($=!0);break;default:return!1}return $&&(Y=$B(B),Y!==void 0&&Y===$B(K))?!0:!1}function J5(Y){$B!==null&&typeof WeakSet==="function"&&(kH===null&&(kH=new WeakSet),kH.add(Y))}function Y6(Y,K,B){var{alternate:$,child:O,sibling:z,tag:I,type:Z}=Y,R=null;switch(I){case 0:case 15:case 1:R=Z;break;case 11:R=Z.render}if($B===null)throw Error("Expected resolveFamily to be set during hot reload.");var A=!1;if(Z=!1,R!==null&&(R=$B(R),R!==void 0&&(B.has(R)?Z=!0:K.has(R)&&(I===1?Z=!0:A=!0))),kH!==null&&(kH.has(Y)||$!==null&&kH.has($))&&(Z=!0),Z&&(Y._debugNeedsRemount=!0),Z||A)$=B0(Y,2),$!==null&&CK($,Y,2);O===null||Z||Y6(O,K,B),z!==null&&Y6(z,K,B)}function x_(){var Y=L1;return L1=0,Y}function P8(Y){var K=L1;return L1=Y,K}function kO(Y){var K=L1;return L1+=Y,K}function K6(Y){M0=jH(),0>Y.actualStartTime&&(Y.actualStartTime=M0)}function B6(Y){if(0<=M0){var K=jH()-M0;Y.actualDuration+=K,Y.selfBaseDuration=K,M0=-1}}function Q5(Y){if(0<=M0){var K=jH()-M0;Y.actualDuration+=K,M0=-1}}function rB(){if(0<=M0){var Y=jH()-M0;M0=-1,L1+=Y}}function tB(){M0=jH()}function G8(Y){for(var K=Y.child;K;)Y.actualDuration+=K.actualDuration,K=K.sibling}function b0(Y,K){if(typeof Y==="object"&&Y!==null){var B=N4.get(Y);if(B!==void 0)return B;return K={value:Y,source:K,stack:$K(K)},N4.set(Y,K),K}return{value:Y,source:K,stack:$K(K)}}function K1(Y,K){B1(),bH[vH++]=W2,bH[vH++]=I2,I2=Y,W2=K}function q5(Y,K,B){B1(),HB[OB++]=k_,HB[OB++]=j_,HB[OB++]=C1,C1=Y;var $=k_;Y=j_;var O=32-I0($)-1;$&=~(1<<O),B+=1;var z=32-I0(K)+O;if(30<z){var I=O-O%5;z=($&(1<<I)-1).toString(32),$>>=I,O-=I,k_=1<<32-I0(K)+O|B<<O|$,j_=z+Y}else k_=1<<z|B<<O|$,j_=Y}function _6(Y){B1(),Y.return!==null&&(K1(Y,1),q5(Y,1,0))}function $6(Y){for(;Y===I2;)I2=bH[--vH],bH[vH]=null,W2=bH[--vH],bH[vH]=null;for(;Y===C1;)C1=HB[--OB],HB[OB]=null,j_=HB[--OB],HB[OB]=null,k_=HB[--OB],HB[OB]=null}function B1(){fY||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function _1(Y,K){if(Y.return===null){if(XB===null)XB={fiber:Y,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:K};else{if(XB.fiber!==Y)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");XB.distanceFromLeaf>K&&(XB.distanceFromLeaf=K)}return XB}var B=_1(Y.return,K+1).children;if(0<B.length&&B[B.length-1].fiber===Y)return B=B[B.length-1],B.distanceFromLeaf>K&&(B.distanceFromLeaf=K),B;return K={fiber:Y,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:K},B.push(K),K}function H6(Y,K){b_||(Y=_1(Y,0),Y.serverProps=null,K!==null&&(K=jN(K),Y.serverTail.push(K)))}function $1(Y){var K="",B=XB;throw B!==null&&(XB=null,K=n7(B)),vO(b0(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+K),Y)),Z4}function L5(Y){var{stateNode:K,type:B,memoizedProps:$}=Y;switch(K[H0]=Y,K[D0]=$,xP(B,$),B){case"dialog":vY("cancel",K),vY("close",K);break;case"iframe":case"object":case"embed":vY("load",K);break;case"video":case"audio":for(B=0;B<dX.length;B++)vY(dX[B],K);break;case"source":vY("error",K);break;case"img":case"image":case"link":vY("error",K),vY("load",K);break;case"details":vY("toggle",K);break;case"input":EB("input",$),vY("invalid",K),WK(K,$),aB(K,$.value,$.defaultValue,$.checked,$.defaultChecked,$.type,$.name,!0),GY(K);break;case"option":a$(K,$);break;case"select":EB("select",$),vY("invalid",K),vI(K,$);break;case"textarea":EB("textarea",$),vY("invalid",K),fI(K,$),hI(K,$.value,$.defaultValue,$.children),GY(K)}B=$.children,typeof B!=="string"&&typeof B!=="number"&&typeof B!=="bigint"||K.textContent===""+B||$.suppressHydrationWarning===!0||FN(K.textContent,B)?($.popover!=null&&(vY("beforetoggle",K),vY("toggle",K)),$.onScroll!=null&&vY("scroll",K),$.onScrollEnd!=null&&vY("scrollend",K),$.onClick!=null&&(K.onclick=m8),K=!0):K=!1,K||$1(Y)}function R5(Y){for(Z0=Y.return;Z0;)switch(Z0.tag){case 3:case 27:z_=!0;return;case 5:case 13:z_=!1;return;default:Z0=Z0.return}}function jO(Y){if(Y!==Z0)return!1;if(!fY)return R5(Y),fY=!0,!1;var K=!1,B;if(B=Y.tag!==3&&Y.tag!==27){if(B=Y.tag===5)B=Y.type,B=!(B!=="form"&&B!=="button")||DP(Y.type,Y.memoizedProps);B=!B}if(B&&(K=!0),K&&rK){for(K=rK;K;){B=_1(Y,0);var $=jN(K);B.serverTail.push($),K=$.type==="Suspense"?vN(K):KB(K.nextSibling)}$1(Y)}if(R5(Y),Y.tag===13){if(Y=Y.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");rK=vN(Y)}else rK=Z0?KB(Y.stateNode.nextSibling):null;return!0}function bO(){rK=Z0=null,b_=fY=!1}function vO(Y){yB===null?yB=[Y]:yB.push(Y)}function C5(){var Y=XB;Y!==null&&(XB=null,Y=n7(Y),console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",Y))}function w5(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function A5(Y){return Y=Y.status,Y==="fulfilled"||Y==="rejected"}function I8(){}function x5(Y,K,B){f.actQueue!==null&&(f.didUsePromise=!0);var $=Y.thenables;switch(B=$[B],B===void 0?$.push(K):B!==K&&(Y.didWarnAboutUncachedPromise||(Y.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),K.then(I8,I8),K=B),K.status){case"fulfilled":return K.value;case"rejected":throw Y=K.reason,V5(Y),Y;default:if(typeof K.status==="string")K.then(I8,I8);else{if(Y=OK,Y!==null&&100<Y.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");Y=K,Y.status="pending",Y.then(function(O){if(K.status==="pending"){var z=K;z.status="fulfilled",z.value=O}},function(O){if(K.status==="pending"){var z=K;z.status="rejected",z.reason=O}})}switch(K.status){case"fulfilled":return K.value;case"rejected":throw Y=K.reason,V5(Y),Y}throw EX=K,Z2=!0,N2}}function E5(){if(EX===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var Y=EX;return EX=null,Z2=!1,Y}function V5(Y){if(Y===N2)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function iK(Y){var K=FY;return Y!=null&&(FY=K===null?Y:K.concat(Y)),K}function W8(Y,K,B){for(var $=Object.keys(Y.props),O=0;O<$.length;O++){var z=$[O];if(z!=="children"&&z!=="key"){K===null&&(K=j8(Y,B.mode,0),K._debugInfo=FY,K.return=B),KY(K,function(I){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",I)},z);break}}}function N8(Y){var K=VX;return VX+=1,fH===null&&(fH=w5()),x5(fH,Y,K)}function fO(Y,K){K=K.props.ref,Y.ref=K!==void 0?K:null}function Z8(Y,K){if(K.$$typeof===cR)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw Y=Object.prototype.toString.call(K),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}function J8(Y,K){var B=u(Y)||"Component";LZ[B]||(LZ[B]=!0,K=K.displayName||K.name||"Component",Y.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,K,K,K):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,K,K,B,K,B))}function Q8(Y,K){var B=u(Y)||"Component";RZ[B]||(RZ[B]=!0,K=String(K),Y.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,K):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,B,K,B))}function F5(Y){function K(E,x){if(Y){var D=E.deletions;D===null?(E.deletions=[x],E.flags|=16):D.push(x)}}function B(E,x){if(!Y)return null;for(;x!==null;)K(E,x),x=x.sibling;return null}function $(E){for(var x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function O(E,x){return E=J$(E,x),E.index=0,E.sibling=null,E}function z(E,x,D){if(E.index=D,!Y)return E.flags|=1048576,x;if(D=E.alternate,D!==null)return D=D.index,D<x?(E.flags|=33554434,x):D;return E.flags|=33554434,x}function I(E){return Y&&E.alternate===null&&(E.flags|=33554434),E}function Z(E,x,D,h){if(x===null||x.tag!==6)return x=PP(D,E.mode,h),x.return=E,x._debugOwner=E,x._debugInfo=FY,x;return x=O(x,D),x.return=E,x._debugInfo=FY,x}function R(E,x,D,h){var t=D.type;if(t===AH)return x=k(E,x,D.props.children,h,D.key),W8(D,x,E),x;if(x!==null&&(x.elementType===t||Z5(x,D)||typeof t==="object"&&t!==null&&t.$$typeof===m0&&x$(t)===x.type))return x=O(x,D.props),fO(x,D),x.return=E,x._debugOwner=D._owner,x._debugInfo=FY,x;return x=j8(D,E.mode,h),fO(x,D),x.return=E,x._debugInfo=FY,x}function A(E,x,D,h){if(x===null||x.tag!==4||x.stateNode.containerInfo!==D.containerInfo||x.stateNode.implementation!==D.implementation)return x=GP(D,E.mode,h),x.return=E,x._debugInfo=FY,x;return x=O(x,D.children||[]),x.return=E,x._debugInfo=FY,x}function k(E,x,D,h,t){if(x===null||x.tag!==7)return x=W1(D,E.mode,h,t),x.return=E,x._debugOwner=E,x._debugInfo=FY,x;return x=O(x,D),x.return=E,x._debugInfo=FY,x}function c(E,x,D){if(typeof x==="string"&&x!==""||typeof x==="number"||typeof x==="bigint")return x=PP(""+x,E.mode,D),x.return=E,x._debugOwner=E,x._debugInfo=FY,x;if(typeof x==="object"&&x!==null){switch(x.$$typeof){case q$:return D=j8(x,E.mode,D),fO(D,x),D.return=E,E=iK(x._debugInfo),D._debugInfo=FY,FY=E,D;case wH:return x=GP(x,E.mode,D),x.return=E,x._debugInfo=FY,x;case m0:var h=iK(x._debugInfo);return x=x$(x),E=c(E,x,D),FY=h,E}if(sK(x)||y(x))return D=W1(x,E.mode,D,null),D.return=E,D._debugOwner=E,E=iK(x._debugInfo),D._debugInfo=FY,FY=E,D;if(typeof x.then==="function")return h=iK(x._debugInfo),E=c(E,N8(x),D),FY=h,E;if(x.$$typeof===__)return c(E,T8(E,x),D);Z8(E,x)}return typeof x==="function"&&J8(E,x),typeof x==="symbol"&&Q8(E,x),null}function j(E,x,D,h){var t=x!==null?x.key:null;if(typeof D==="string"&&D!==""||typeof D==="number"||typeof D==="bigint")return t!==null?null:Z(E,x,""+D,h);if(typeof D==="object"&&D!==null){switch(D.$$typeof){case q$:return D.key===t?(t=iK(D._debugInfo),E=R(E,x,D,h),FY=t,E):null;case wH:return D.key===t?A(E,x,D,h):null;case m0:return t=iK(D._debugInfo),D=x$(D),E=j(E,x,D,h),FY=t,E}if(sK(D)||y(D)){if(t!==null)return null;return t=iK(D._debugInfo),E=k(E,x,D,h,null),FY=t,E}if(typeof D.then==="function")return t=iK(D._debugInfo),E=j(E,x,N8(D),h),FY=t,E;if(D.$$typeof===__)return j(E,x,T8(E,D),h);Z8(E,D)}return typeof D==="function"&&J8(E,D),typeof D==="symbol"&&Q8(E,D),null}function p(E,x,D,h,t){if(typeof h==="string"&&h!==""||typeof h==="number"||typeof h==="bigint")return E=E.get(D)||null,Z(x,E,""+h,t);if(typeof h==="object"&&h!==null){switch(h.$$typeof){case q$:return D=E.get(h.key===null?D:h.key)||null,E=iK(h._debugInfo),x=R(x,D,h,t),FY=E,x;case wH:return E=E.get(h.key===null?D:h.key)||null,A(x,E,h,t);case m0:var wY=iK(h._debugInfo);return h=x$(h),x=p(E,x,D,h,t),FY=wY,x}if(sK(h)||y(h))return D=E.get(D)||null,E=iK(h._debugInfo),x=k(x,D,h,t,null),FY=E,x;if(typeof h.then==="function")return wY=iK(h._debugInfo),x=p(E,x,D,N8(h),t),FY=wY,x;if(h.$$typeof===__)return p(E,x,D,T8(x,h),t);Z8(x,h)}return typeof h==="function"&&J8(x,h),typeof h==="symbol"&&Q8(x,h),null}function PY(E,x,D,h){if(typeof D!=="object"||D===null)return h;switch(D.$$typeof){case q$:case wH:C(E,x,D);var t=D.key;if(typeof t!=="string")break;if(h===null){h=new Set,h.add(t);break}if(!h.has(t)){h.add(t);break}KY(x,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",t)});break;case m0:D=x$(D),PY(E,x,D,h)}return h}function xY(E,x,D,h){for(var t=null,wY=null,XY=null,AY=x,EY=x=0,JK=null;AY!==null&&EY<D.length;EY++){AY.index>EY?(JK=AY,AY=null):JK=AY.sibling;var UK=j(E,AY,D[EY],h);if(UK===null){AY===null&&(AY=JK);break}t=PY(E,UK,D[EY],t),Y&&AY&&UK.alternate===null&&K(E,AY),x=z(UK,x,EY),XY===null?wY=UK:XY.sibling=UK,XY=UK,AY=JK}if(EY===D.length)return B(E,AY),fY&&K1(E,EY),wY;if(AY===null){for(;EY<D.length;EY++)AY=c(E,D[EY],h),AY!==null&&(t=PY(E,AY,D[EY],t),x=z(AY,x,EY),XY===null?wY=AY:XY.sibling=AY,XY=AY);return fY&&K1(E,EY),wY}for(AY=$(AY);EY<D.length;EY++)JK=p(AY,E,EY,D[EY],h),JK!==null&&(t=PY(E,JK,D[EY],t),Y&&JK.alternate!==null&&AY.delete(JK.key===null?EY:JK.key),x=z(JK,x,EY),XY===null?wY=JK:XY.sibling=JK,XY=JK);return Y&&AY.forEach(function(p_){return K(E,p_)}),fY&&K1(E,EY),wY}function MK(E,x,D,h){if(D==null)throw Error("An iterable object provided no iterator.");for(var t=null,wY=null,XY=x,AY=x=0,EY=null,JK=null,UK=D.next();XY!==null&&!UK.done;AY++,UK=D.next()){XY.index>AY?(EY=XY,XY=null):EY=XY.sibling;var p_=j(E,XY,UK.value,h);if(p_===null){XY===null&&(XY=EY);break}JK=PY(E,p_,UK.value,JK),Y&&XY&&p_.alternate===null&&K(E,XY),x=z(p_,x,AY),wY===null?t=p_:wY.sibling=p_,wY=p_,XY=EY}if(UK.done)return B(E,XY),fY&&K1(E,AY),t;if(XY===null){for(;!UK.done;AY++,UK=D.next())XY=c(E,UK.value,h),XY!==null&&(JK=PY(E,XY,UK.value,JK),x=z(XY,x,AY),wY===null?t=XY:wY.sibling=XY,wY=XY);return fY&&K1(E,AY),t}for(XY=$(XY);!UK.done;AY++,UK=D.next())EY=p(XY,E,AY,UK.value,h),EY!==null&&(JK=PY(E,EY,UK.value,JK),Y&&EY.alternate!==null&&XY.delete(EY.key===null?AY:EY.key),x=z(EY,x,AY),wY===null?t=EY:wY.sibling=EY,wY=EY);return Y&&XY.forEach(function(xw){return K(E,xw)}),fY&&K1(E,AY),t}function iY(E,x,D,h){if(typeof D==="object"&&D!==null&&D.type===AH&&D.key===null&&(W8(D,null,E),D=D.props.children),typeof D==="object"&&D!==null){switch(D.$$typeof){case q$:var t=iK(D._debugInfo);Y:{for(var wY=D.key;x!==null;){if(x.key===wY){if(wY=D.type,wY===AH){if(x.tag===7){B(E,x.sibling),h=O(x,D.props.children),h.return=E,h._debugOwner=D._owner,h._debugInfo=FY,W8(D,h,E),E=h;break Y}}else if(x.elementType===wY||Z5(x,D)||typeof wY==="object"&&wY!==null&&wY.$$typeof===m0&&x$(wY)===x.type){B(E,x.sibling),h=O(x,D.props),fO(h,D),h.return=E,h._debugOwner=D._owner,h._debugInfo=FY,E=h;break Y}B(E,x);break}else K(E,x);x=x.sibling}D.type===AH?(h=W1(D.props.children,E.mode,h,D.key),h.return=E,h._debugOwner=E,h._debugInfo=FY,W8(D,h,E),E=h):(h=j8(D,E.mode,h),fO(h,D),h.return=E,h._debugInfo=FY,E=h)}return E=I(E),FY=t,E;case wH:Y:{t=D;for(D=t.key;x!==null;){if(x.key===D)if(x.tag===4&&x.stateNode.containerInfo===t.containerInfo&&x.stateNode.implementation===t.implementation){B(E,x.sibling),h=O(x,t.children||[]),h.return=E,E=h;break Y}else{B(E,x);break}else K(E,x);x=x.sibling}h=GP(t,E.mode,h),h.return=E,E=h}return I(E);case m0:return t=iK(D._debugInfo),D=x$(D),E=iY(E,x,D,h),FY=t,E}if(sK(D))return t=iK(D._debugInfo),E=xY(E,x,D,h),FY=t,E;if(y(D)){if(t=iK(D._debugInfo),wY=y(D),typeof wY!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var XY=wY.call(D);if(XY===D){if(E.tag!==0||Object.prototype.toString.call(E.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(XY)!=="[object Generator]")QZ||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),QZ=!0}else D.entries!==wY||L4||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),L4=!0);return E=MK(E,x,XY,h),FY=t,E}if(typeof D.then==="function")return t=iK(D._debugInfo),E=iY(E,x,N8(D),h),FY=t,E;if(D.$$typeof===__)return iY(E,x,T8(E,D),h);Z8(E,D)}if(typeof D==="string"&&D!==""||typeof D==="number"||typeof D==="bigint")return t=""+D,x!==null&&x.tag===6?(B(E,x.sibling),h=O(x,t),h.return=E,E=h):(B(E,x),h=PP(t,E.mode,h),h.return=E,h._debugOwner=E,h._debugInfo=FY,E=h),I(E);return typeof D==="function"&&J8(E,D),typeof D==="symbol"&&Q8(E,D),B(E,x)}return function(E,x,D,h){var t=FY;FY=null;try{VX=0;var wY=iY(E,x,D,h);return fH=null,wY}catch(JK){if(JK===N2)throw JK;var XY=q(29,JK,null,E.mode);XY.lanes=h,XY.return=E;var AY=XY._debugInfo=FY;if(XY._debugOwner=E._debugOwner,AY!=null){for(var EY=AY.length-1;0<=EY;EY--)if(typeof AY[EY].stack==="string"){XY._debugOwner=AY[EY];break}}return XY}finally{FY=t}}}function D5(Y,K){var B=I_;kY(J2,B,Y),kY(mH,K,Y),I_=B|K.baseLanes}function O6(Y){kY(J2,I_,Y),kY(mH,mH.current,Y)}function X6(Y){I_=J2.current,pY(mH,Y),pY(J2,Y)}function z$(Y){var K=Y.alternate;kY(gK,gK.current&hH,Y),kY(zB,Y,Y),P_===null&&(K===null||mH.current!==null?P_=Y:K.memoizedState!==null&&(P_=Y))}function M5(Y){if(Y.tag===22){if(kY(gK,gK.current,Y),kY(zB,Y,Y),P_===null){var K=Y.alternate;K!==null&&K.memoizedState!==null&&(P_=Y)}}else P$(Y)}function P$(Y){kY(gK,gK.current,Y),kY(zB,zB.current,Y)}function E_(Y){pY(zB,Y),P_===Y&&(P_=null),pY(gK,Y)}function q8(Y){for(var K=Y;K!==null;){if(K.tag===13){var B=K.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data===k1||B.data===j1))return K}else if(K.tag===19&&K.memoizedProps.revealOrder!==void 0){if((K.flags&128)!==0)return K}else if(K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break;for(;K.sibling===null;){if(K.return===null||K.return===Y)return null;K=K.return}K.sibling.return=K.return,K=K.sibling}return null}function z6(){return{controller:new Kw,data:new Map,refCount:0}}function H1(Y){Y.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),Y.refCount++}function mO(Y){Y.refCount--,0>Y.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),Y.refCount===0&&Bw(_w,function(){Y.controller.abort()})}function ML(Y,K){if(DX===null){var B=DX=[];R4=0,A1=RP(),dH={status:"pending",value:void 0,then:function($){B.push($)}}}return R4++,K.then(U5,U5),K}function U5(){if(--R4===0&&DX!==null){dH!==null&&(dH.status="fulfilled");var Y=DX;DX=null,A1=0,dH=null;for(var K=0;K<Y.length;K++)Y[K]()}}function UL(Y,K){var B=[],$={status:"pending",value:null,reason:null,then:function(O){B.push(O)}};return Y.then(function(){$.status="fulfilled",$.value=K;for(var O=0;O<B.length;O++)B[O](K)},function(O){$.status="rejected",$.reason=O;for(O=0;O<B.length;O++)B[O](void 0)}),$}function P6(){var Y=x1.current;return Y!==null?Y:OK.pooledCache}function L8(Y,K){K===null?kY(x1,x1.current,Y):kY(x1,K.pool,Y)}function S5(){var Y=P6();return Y===null?null:{parent:jK._currentValue,pool:Y}}function TY(){var Y=v;IB===null?IB=[Y]:IB.push(Y)}function o(){var Y=v;if(IB!==null&&(f_++,IB[f_]!==Y)){var K=u(qY);if(!AZ.has(K)&&(AZ.add(K),IB!==null)){for(var B="",$=0;$<=f_;$++){var O=IB[$],z=$===f_?Y:O;for(O=$+1+". "+O;30>O.length;)O+=" ";O+=z+`
`,B+=O}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,K,B)}}}function XH(Y){Y===void 0||Y===null||sK(Y)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",v,typeof Y)}function R8(){var Y=u(qY);EZ.has(Y)||(EZ.add(Y),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",Y))}function DK(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function G6(Y,K){if(UX)return!1;if(K===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",v),!1;Y.length!==K.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,v,"["+K.join(", ")+"]","["+Y.join(", ")+"]");for(var B=0;B<K.length&&B<Y.length;B++)if(!N0(Y[B],K[B]))return!1;return!0}function I6(Y,K,B,$,O,z){if(E$=z,qY=K,IB=Y!==null?Y._debugHookTypes:null,f_=-1,UX=Y!==null&&Y.type!==K.type,Object.prototype.toString.call(B)==="[object AsyncFunction]"||Object.prototype.toString.call(B)==="[object AsyncGeneratorFunction]")z=u(qY),C4.has(z)||(C4.add(z),console.error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."));K.memoizedState=null,K.updateQueue=null,K.lanes=0,f.H=Y!==null&&Y.memoizedState!==null?F$:IB!==null?V1:V$,E1=z=(K.mode&O0)!==PK;var I=Q4(B,$,O);if(E1=!1,lH&&(I=W6(K,B,$,O)),z){sY(!0);try{I=W6(K,B,$,O)}finally{sY(!1)}}return T5(Y,K),I}function T5(Y,K){K._debugHookTypes=IB,K.dependencies===null?v_!==null&&(K.dependencies={lanes:0,firstContext:null,_debugThenableState:v_}):K.dependencies._debugThenableState=v_,f.H=G_;var B=BK!==null&&BK.next!==null;if(E$=0,IB=v=SK=BK=qY=null,f_=-1,Y!==null&&(Y.flags&31457280)!==(K.flags&31457280)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),Q2=!1,MX=0,v_=null,B)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");Y===null||lK||(Y=Y.dependencies,Y!==null&&S8(Y)&&(lK=!0)),Z2?(Z2=!1,Y=!0):Y=!1,Y&&(K=u(K)||"Unknown",xZ.has(K)||C4.has(K)||(xZ.add(K),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function W6(Y,K,B,$){qY=Y;var O=0;do{if(lH&&(v_=null),MX=0,lH=!1,O>=Hw)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(O+=1,UX=!1,SK=BK=null,Y.updateQueue!=null){var z=Y.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}f_=-1,f.H=F1,z=Q4(K,B,$)}while(lH);return z}function SL(){var Y=f.H,K=Y.useState()[0];return K=typeof K.then==="function"?hO(K):K,Y=Y.useState()[0],(BK!==null?BK.memoizedState:null)!==Y&&(qY.flags|=1024),K}function N6(){var Y=q2!==0;return q2=0,Y}function Z6(Y,K,B){K.updateQueue=Y.updateQueue,K.flags=(K.mode&SB)!==PK?K.flags&-201328645:K.flags&-2053,Y.lanes&=~B}function J6(Y){if(Q2){for(Y=Y.memoizedState;Y!==null;){var K=Y.queue;K!==null&&(K.pending=null),Y=Y.next}Q2=!1}E$=0,IB=SK=BK=qY=null,f_=-1,v=null,lH=!1,MX=q2=0,v_=null}function V0(){var Y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return SK===null?qY.memoizedState=SK=Y:SK=SK.next=Y,SK}function eY(){if(BK===null){var Y=qY.alternate;Y=Y!==null?Y.memoizedState:null}else Y=BK.next;var K=SK===null?qY.memoizedState:SK.next;if(K!==null)SK=K,BK=Y;else{if(Y===null){if(qY.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}BK=Y,Y={memoizedState:BK.memoizedState,baseState:BK.baseState,baseQueue:BK.baseQueue,queue:BK.queue,next:null},SK===null?qY.memoizedState=SK=Y:SK=SK.next=Y}return SK}function hO(Y){var K=MX;return MX+=1,v_===null&&(v_=w5()),Y=x5(v_,Y,K),K=qY,(SK===null?K.memoizedState:SK.next)===null&&(K=K.alternate,f.H=K!==null&&K.memoizedState!==null?F$:V$),Y}function G$(Y){if(Y!==null&&typeof Y==="object"){if(typeof Y.then==="function")return hO(Y);if(Y.$$typeof===__)return qK(Y)}throw Error("An unsupported type was passed to use(): "+String(Y))}function O1(Y){var K=null,B=qY.updateQueue;if(B!==null&&(K=B.memoCache),K==null){var $=qY.alternate;$!==null&&($=$.updateQueue,$!==null&&($=$.memoCache,$!=null&&(K={data:$.data.map(function(O){return O.slice()}),index:0})))}if(K==null&&(K={data:[],index:0}),B===null&&(B=w4(),qY.updateQueue=B),B.memoCache=K,B=K.data[K.index],B===void 0||UX)for(B=K.data[K.index]=Array(Y),$=0;$<Y;$++)B[$]=uR;else B.length!==Y&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",B.length,Y);return K.index++,B}function FB(Y,K){return typeof K==="function"?K(Y):K}function Q6(Y,K,B){var $=V0();if(B!==void 0){var O=B(K);if(E1){sY(!0);try{B(K)}finally{sY(!1)}}}else O=K;return $.memoizedState=$.baseState=O,Y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y,lastRenderedState:O},$.queue=Y,Y=Y.dispatch=kL.bind(null,qY,Y),[$.memoizedState,Y]}function zH(Y){var K=eY();return q6(K,BK,Y)}function q6(Y,K,B){var $=Y.queue;if($===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");$.lastRenderedReducer=B;var O=Y.baseQueue,z=$.pending;if(z!==null){if(O!==null){var I=O.next;O.next=z.next,z.next=I}K.baseQueue!==O&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),K.baseQueue=O=z,$.pending=null}if(z=Y.baseState,O===null)Y.memoizedState=z;else{K=O.next;var Z=I=null,R=null,A=K,k=!1;do{var c=A.lane&-536870913;if(c!==A.lane?(yY&c)===c:(E$&c)===c){var j=A.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),c===A1&&(k=!0);else if((E$&j)===j){A=A.next,j===A1&&(k=!0);continue}else c={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},R===null?(Z=R=c,I=z):R=R.next=c,qY.lanes|=j,U$|=j;c=A.action,E1&&B(z,c),z=A.hasEagerState?A.eagerState:B(z,c)}else j={lane:c,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},R===null?(Z=R=j,I=z):R=R.next=j,qY.lanes|=c,U$|=c;A=A.next}while(A!==null&&A!==K);if(R===null?I=z:R.next=Z,!N0(z,Y.memoizedState)&&(lK=!0,k&&(B=dH,B!==null)))throw B;Y.memoizedState=z,Y.baseState=I,Y.baseQueue=R,$.lastRenderedState=z}return O===null&&($.lanes=0),[Y.memoizedState,$.dispatch]}function dO(Y){var K=eY(),B=K.queue;if(B===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");B.lastRenderedReducer=Y;var{dispatch:$,pending:O}=B,z=K.memoizedState;if(O!==null){B.pending=null;var I=O=O.next;do z=Y(z,I.action),I=I.next;while(I!==O);N0(z,K.memoizedState)||(lK=!0),K.memoizedState=z,K.baseQueue===null&&(K.baseState=z),B.lastRenderedState=z}return[z,$]}function L6(Y,K,B){var $=qY,O=V0();if(fY){if(B===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var z=B();cH||z===B()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),cH=!0)}else{if(z=K(),cH||(B=K(),N0(z,B)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),cH=!0)),OK===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(yY&60)!==0||y5($,K,z)}return O.memoizedState=z,B={value:z,getSnapshot:K},O.queue=B,x8(k5.bind(null,$,B,Y),[Y]),$.flags|=2048,GH(GB|kK,g5.bind(null,$,B,z,K),{destroy:void 0},null),z}function C8(Y,K,B){var $=qY,O=eY(),z=fY;if(z){if(B===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");B=B()}else if(B=K(),!cH){var I=K();N0(B,I)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),cH=!0)}if(I=!N0((BK||O).memoizedState,B))O.memoizedState=B,lK=!0;O=O.queue;var Z=k5.bind(null,$,O,Y);if(F0(2048,kK,Z,[Y]),O.getSnapshot!==K||I||SK!==null&&SK.memoizedState.tag&GB){if($.flags|=2048,GH(GB|kK,g5.bind(null,$,O,B,K),{destroy:void 0},null),OK===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");z||(E$&60)!==0||y5($,K,B)}return B}function y5(Y,K,B){Y.flags|=16384,Y={getSnapshot:K,value:B},K=qY.updateQueue,K===null?(K=w4(),qY.updateQueue=K,K.stores=[Y]):(B=K.stores,B===null?K.stores=[Y]:B.push(Y))}function g5(Y,K,B,$){K.value=B,K.getSnapshot=$,j5(K)&&b5(Y)}function k5(Y,K,B){return B(function(){j5(K)&&b5(Y)})}function j5(Y){var K=Y.getSnapshot;Y=Y.value;try{var B=K();return!N0(Y,B)}catch($){return!0}}function b5(Y){var K=B0(Y,2);K!==null&&CK(K,Y,2)}function R6(Y){var K=V0();if(typeof Y==="function"){var B=Y;if(Y=B(),E1){sY(!0);try{B()}finally{sY(!1)}}}return K.memoizedState=K.baseState=Y,K.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:FB,lastRenderedState:Y},K}function C6(Y){Y=R6(Y);var K=Y.queue,B=KW.bind(null,qY,K);return K.dispatch=B,[Y.memoizedState,B]}function w6(Y){var K=V0();K.memoizedState=K.baseState=Y;var B={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return K.queue=B,K=k6.bind(null,qY,!0,B),B.dispatch=K,[Y,K]}function v5(Y,K){var B=eY();return f5(B,BK,Y,K)}function f5(Y,K,B,$){return Y.baseState=B,q6(Y,BK,typeof $==="function"?$:FB)}function m5(Y,K){var B=eY();if(BK!==null)return f5(B,BK,Y,K);return B.baseState=Y,[Y,B.queue.dispatch]}function TL(Y,K,B,$,O){if(D8(Y))throw Error("Cannot update form state while rendering.");if(Y=K.action,Y!==null){var z={payload:O,action:Y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){z.listeners.push(I)}};f.T!==null?B(!0):z.isTransition=!1,$(z),B=K.pending,B===null?(z.next=K.pending=z,h5(K,z)):(z.next=B.next,K.pending=B.next=z)}}function h5(Y,K){var{action:B,payload:$}=K,O=Y.state;if(K.isTransition){var z=f.T,I={};f.T=I,f.T._updatedFibers=new Set;try{var Z=B(O,$),R=f.S;R!==null&&R(I,Z),d5(Y,K,Z)}catch(A){A6(Y,K,A)}finally{f.T=z,z===null&&I._updatedFibers&&(Y=I._updatedFibers.size,I._updatedFibers.clear(),10<Y&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{I=B(O,$),d5(Y,K,I)}catch(A){A6(Y,K,A)}}function d5(Y,K,B){B!==null&&typeof B==="object"&&typeof B.then==="function"?(B.then(function($){c5(Y,K,$)},function($){return A6(Y,K,$)}),K.isTransition||console.error("An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`")):c5(Y,K,B)}function c5(Y,K,B){K.status="fulfilled",K.value=B,l5(K),Y.state=B,K=Y.pending,K!==null&&(B=K.next,B===K?Y.pending=null:(B=B.next,K.next=B,h5(Y,B)))}function A6(Y,K,B){var $=Y.pending;if(Y.pending=null,$!==null){$=$.next;do K.status="rejected",K.reason=B,l5(K),K=K.next;while(K!==$)}Y.action=null}function l5(Y){Y=Y.listeners;for(var K=0;K<Y.length;K++)Y[K]()}function u5(Y,K){return K}function PH(Y,K){if(fY){var B=OK.formState;if(B!==null){Y:{var $=qY;if(fY){if(rK){K:{var O=rK;for(var z=z_;O.nodeType!==8;){if(!z){O=null;break K}if(O=KB(O.nextSibling),O===null){O=null;break K}}z=O.data,O=z===o4||z===G9?O:null}if(O){rK=KB(O.nextSibling),$=O.data===o4;break Y}}$1($)}$=!1}$&&(K=B[0])}}return B=V0(),B.memoizedState=B.baseState=K,$={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u5,lastRenderedState:K},B.queue=$,B=KW.bind(null,qY,$),$.dispatch=B,$=R6(!1),z=k6.bind(null,qY,!1,$.queue),$=V0(),O={state:K,dispatch:null,action:Y,pending:null},$.queue=O,B=TL.bind(null,qY,O,z,B),O.dispatch=B,$.memoizedState=Y,[K,B,!1]}function w8(Y){var K=eY();return p5(K,BK,Y)}function p5(Y,K,B){K=q6(Y,K,u5)[0],Y=zH(FB)[0],K=typeof K==="object"&&K!==null&&typeof K.then==="function"?hO(K):K;var $=eY(),O=$.queue,z=O.dispatch;return B!==$.memoizedState&&(qY.flags|=2048,GH(GB|kK,yL.bind(null,O,B),{destroy:void 0},null)),[K,z,Y]}function yL(Y,K){Y.action=K}function A8(Y){var K=eY(),B=BK;if(B!==null)return p5(K,B,Y);eY(),K=K.memoizedState,B=eY();var $=B.queue.dispatch;return B.memoizedState=Y,[K,$,!1]}function GH(Y,K,B,$){return Y={tag:Y,create:K,inst:B,deps:$,next:null},K=qY.updateQueue,K===null&&(K=w4(),qY.updateQueue=K),B=K.lastEffect,B===null?K.lastEffect=Y.next=Y:($=B.next,B.next=Y,Y.next=$,K.lastEffect=Y),Y}function x6(Y){var K=V0();return Y={current:Y},K.memoizedState=Y}function X1(Y,K,B,$){var O=V0();qY.flags|=Y,O.memoizedState=GH(GB|K,B,{destroy:void 0},$===void 0?null:$)}function F0(Y,K,B,$){var O=eY();$=$===void 0?null:$;var z=O.memoizedState.inst;BK!==null&&$!==null&&G6($,BK.memoizedState.deps)?O.memoizedState=GH(K,B,z,$):(qY.flags|=Y,O.memoizedState=GH(GB|K,B,z,$))}function x8(Y,K){(qY.mode&SB)!==PK&&(qY.mode&KZ)===PK?X1(142608384,kK,Y,K):X1(8390656,kK,Y,K)}function E6(Y,K){var B=4194308;return(qY.mode&SB)!==PK&&(B|=67108864),X1(B,tK,Y,K)}function i5(Y,K){if(typeof K==="function"){Y=Y();var B=K(Y);return function(){typeof B==="function"?B():K(null)}}if(K!==null&&K!==void 0)return K.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(K).join(", ")+"}"),Y=Y(),K.current=Y,function(){K.current=null}}function V6(Y,K,B){typeof K!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",K!==null?typeof K:"null"),B=B!==null&&B!==void 0?B.concat([Y]):null;var $=4194308;(qY.mode&SB)!==PK&&($|=67108864),X1($,tK,i5.bind(null,K,Y),B)}function E8(Y,K,B){typeof K!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",K!==null?typeof K:"null"),B=B!==null&&B!==void 0?B.concat([Y]):null,F0(4,tK,i5.bind(null,K,Y),B)}function F6(Y,K){return V0().memoizedState=[Y,K===void 0?null:K],Y}function V8(Y,K){var B=eY();K=K===void 0?null:K;var $=B.memoizedState;if(K!==null&&G6(K,$[1]))return $[0];return B.memoizedState=[Y,K],Y}function D6(Y,K){var B=V0();K=K===void 0?null:K;var $=Y();if(E1){sY(!0);try{Y()}finally{sY(!1)}}return B.memoizedState=[$,K],$}function F8(Y,K){var B=eY();K=K===void 0?null:K;var $=B.memoizedState;if(K!==null&&G6(K,$[1]))return $[0];if($=Y(),E1){sY(!0);try{Y()}finally{sY(!1)}}return B.memoizedState=[$,K],$}function M6(Y,K){var B=V0();return U6(B,Y,K)}function n5(Y,K){var B=eY();return s5(B,BK.memoizedState,Y,K)}function o5(Y,K){var B=eY();return BK===null?U6(B,Y,K):s5(B,BK.memoizedState,Y,K)}function U6(Y,K,B){if(B===void 0||(E$&1073741824)!==0)return Y.memoizedState=K;return Y.memoizedState=B,Y=eW(),qY.lanes|=Y,U$|=Y,B}function s5(Y,K,B,$){if(N0(B,K))return B;if(mH.current!==null)return Y=U6(Y,B,$),N0(Y,K)||(lK=!0),Y;if((E$&42)===0)return lK=!0,Y.memoizedState=B;return Y=eW(),qY.lanes|=Y,U$|=Y,K}function a5(Y,K,B,$,O){var z=NK.p;NK.p=z!==0&&z<UB?z:UB;var I=f.T,Z={};f.T=Z,k6(Y,!1,K,B),Z._updatedFibers=new Set;try{var R=O(),A=f.S;if(A!==null&&A(Z,R),R!==null&&typeof R==="object"&&typeof R.then==="function"){var k=UL(R,$);cO(Y,K,k,f0(Y))}else cO(Y,K,$,f0(Y))}catch(c){cO(Y,K,{then:function(){},status:"rejected",reason:c},f0(Y))}finally{NK.p=z,f.T=I,I===null&&Z._updatedFibers&&(Y=Z._updatedFibers.size,Z._updatedFibers.clear(),10<Y&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function S6(Y,K,B,$){if(Y.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var O=r5(Y).queue;a5(Y,O,K,v1,B===null?w:function(){return t5(Y),B($)})}function r5(Y){var K=Y.memoizedState;if(K!==null)return K;K={memoizedState:v1,baseState:v1,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:FB,lastRenderedState:v1},next:null};var B={};return K.next={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:FB,lastRenderedState:B},next:null},Y.memoizedState=K,Y=Y.alternate,Y!==null&&(Y.memoizedState=K),K}function t5(Y){f.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var K=r5(Y).next.queue;cO(Y,K,{},f0(Y))}function T6(){var Y=R6(!1);return Y=a5.bind(null,qY,Y.queue,!0,!1),V0().memoizedState=Y,[!1,Y]}function e5(){var Y=zH(FB)[0],K=eY().memoizedState;return[typeof Y==="boolean"?Y:hO(Y),K]}function YW(){var Y=dO(FB)[0],K=eY().memoizedState;return[typeof Y==="boolean"?Y:hO(Y),K]}function z1(){return qK(uX)}function y6(){var Y=V0(),K=OK.identifierPrefix;if(fY){var B=j_,$=k_;B=($&~(1<<32-I0($)-1)).toString(32)+B,K=":"+K+"R"+B,B=q2++,0<B&&(K+="H"+B.toString(32)),K+=":"}else B=$w++,K=":"+K+"r"+B.toString(32)+":";return Y.memoizedState=K}function g6(){return V0().memoizedState=gL.bind(null,qY)}function gL(Y,K){for(var B=Y.return;B!==null;){switch(B.tag){case 24:case 3:var $=f0(B);Y=W$($);var O=N$(B,Y,$);O!==null&&(CK(O,B,$),pO(O,B,$)),B=z6(),K!==null&&K!==void 0&&O!==null&&console.error("The seed argument is not enabled outside experimental channels."),Y.payload={cache:B};return}B=B.return}}function kL(Y,K,B,$){typeof $==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),$=f0(Y),B={lane:$,revertLane:0,action:B,hasEagerState:!1,eagerState:null,next:null},D8(Y)?BW(K,B):(B=t7(Y,K,B,$),B!==null&&(CK(B,Y,$),_W(B,K,$))),IK(Y,$)}function KW(Y,K,B,$){typeof $==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),$=f0(Y),cO(Y,K,B,$),IK(Y,$)}function cO(Y,K,B,$){var O={lane:$,revertLane:0,action:B,hasEagerState:!1,eagerState:null,next:null};if(D8(Y))BW(K,O);else{var z=Y.alternate;if(Y.lanes===0&&(z===null||z.lanes===0)&&(z=K.lastRenderedReducer,z!==null)){var I=f.H;f.H=Q0;try{var Z=K.lastRenderedState,R=z(Z,B);if(O.hasEagerState=!0,O.eagerState=R,N0(R,Z))return X8(Y,K,O,0),OK===null&&O8(),!1}catch(A){}finally{f.H=I}}if(B=t7(Y,K,O,$),B!==null)return CK(B,Y,$),_W(B,K,$),!0}return!1}function k6(Y,K,B,$){if(f.T===null&&A1===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),$={lane:2,revertLane:RP(),action:$,hasEagerState:!1,eagerState:null,next:null},D8(Y)){if(K)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else K=t7(Y,B,$,2),K!==null&&CK(K,Y,2);IK(Y,2)}function D8(Y){var K=Y.alternate;return Y===qY||K!==null&&K===qY}function BW(Y,K){lH=Q2=!0;var B=Y.pending;B===null?K.next=K:(K.next=B.next,B.next=K),Y.pending=K}function _W(Y,K,B){if((B&4194176)!==0){var $=K.lanes;$&=Y.pendingLanes,B|=$,K.lanes=B,e1(Y,B)}}function j6(Y){if(Y!==null&&typeof Y!=="function"){var K=String(Y);jZ.has(K)||(jZ.add(K),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",Y))}}function b6(Y,K,B,$){var O=Y.memoizedState,z=B($,O);if(Y.mode&O0){sY(!0);try{z=B($,O)}finally{sY(!1)}}z===void 0&&(K=b(K)||"Component",TZ.has(K)||(TZ.add(K),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",K))),O=z===null||z===void 0?O:DY({},O,z),Y.memoizedState=O,Y.lanes===0&&(Y.updateQueue.baseState=O)}function $W(Y,K,B,$,O,z,I){var Z=Y.stateNode;if(typeof Z.shouldComponentUpdate==="function"){if(B=Z.shouldComponentUpdate($,z,I),Y.mode&O0){sY(!0);try{B=Z.shouldComponentUpdate($,z,I)}finally{sY(!1)}}return B===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",b(K)||"Component"),B}return K.prototype&&K.prototype.isPureReactComponent?!gO(B,$)||!gO(O,z):!0}function HW(Y,K,B,$){var O=K.state;typeof K.componentWillReceiveProps==="function"&&K.componentWillReceiveProps(B,$),typeof K.UNSAFE_componentWillReceiveProps==="function"&&K.UNSAFE_componentWillReceiveProps(B,$),K.state!==O&&(Y=u(Y)||"Component",FZ.has(Y)||(FZ.add(Y),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Y)),A4.enqueueReplaceState(K,K.state,null))}function P1(Y,K){var B=K;if("ref"in K){B={};for(var $ in K)$!=="ref"&&(B[$]=K[$])}if(Y=Y.defaultProps){B===K&&(B=DY({},B));for(var O in Y)B[O]===void 0&&(B[O]=Y[O])}return B}function OW(Y,K){L2(Y),Y=uH?"An error occurred in the <"+uH+"> component.":"An error occurred in one of your React components.";var B=f.getCurrentStack,$=K.componentStack!=null?K.componentStack:"";f.getCurrentStack=function(){return $};try{console.warn(`%s

%s
`,Y,`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}finally{f.getCurrentStack=B}}function XW(Y,K){var B=uH?"The above error occurred in the <"+uH+"> component.":"The above error occurred in one of your React components.",$="React will try to recreate this component tree from scratch using the error boundary you provided, "+((x4||"Anonymous")+"."),O=f.getCurrentStack,z=K.componentStack!=null?K.componentStack:"";f.getCurrentStack=function(){return z};try{typeof Y==="object"&&Y!==null&&typeof Y.environmentName==="string"?kR("error",[`%o

%s

%s
`,Y,B,$],Y.environmentName)():console.error(`%o

%s

%s
`,Y,B,$)}finally{f.getCurrentStack=O}}function zW(Y){L2(Y)}function M8(Y,K){try{uH=K.source?u(K.source):null,x4=null;var B=K.value;if(f.actQueue!==null)f.thrownErrors.push(B);else{var $=Y.onUncaughtError;$(B,{componentStack:K.stack})}}catch(O){setTimeout(function(){throw O})}}function PW(Y,K,B){try{uH=B.source?u(B.source):null,x4=u(K);var $=Y.onCaughtError;$(B.value,{componentStack:B.stack,errorBoundary:K.tag===1?K.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function v6(Y,K,B){return B=W$(B),B.tag=M4,B.payload={element:null},B.callback=function(){KY(K.source,M8,Y,K)},B}function f6(Y){return Y=W$(Y),Y.tag=M4,Y}function m6(Y,K,B,$){var O=B.type.getDerivedStateFromError;if(typeof O==="function"){var z=$.value;Y.payload=function(){return O(z)},Y.callback=function(){J5(B),KY($.source,PW,K,B,$)}}var I=B.stateNode;I!==null&&typeof I.componentDidCatch==="function"&&(Y.callback=function(){J5(B),KY($.source,PW,K,B,$),typeof O!=="function"&&(T$===null?T$=new Set([this]):T$.add(this)),tC(this,$),typeof O==="function"||(B.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",u(B)||"Unknown")})}function jL(Y,K,B,$,O){if(B.flags|=32768,DB&&tO(Y,O),$!==null&&typeof $==="object"&&typeof $.then==="function"){if(K=B.alternate,K!==null&&uO(K,B,O,!0),fY&&(b_=!0),B=zB.current,B!==null){switch(B.tag){case 13:return P_===null?NP():B.alternate===null&&EK===d_&&(EK=y4),B.flags&=-257,B.flags|=65536,B.lanes=O,$===J4?B.flags|=16384:(K=B.updateQueue,K===null?B.updateQueue=new Set([$]):K.add($),QP(Y,$,O)),!1;case 22:return B.flags|=65536,$===J4?B.flags|=16384:(K=B.updateQueue,K===null?(K={transitions:null,markerInstances:null,retryQueue:new Set([$])},B.updateQueue=K):(B=K.retryQueue,B===null?K.retryQueue=new Set([$]):B.add($)),QP(Y,$,O)),!1}throw Error("Unexpected Suspense handler tag ("+B.tag+"). This is a bug in React.")}return QP(Y,$,O),NP(),!1}if(fY)return b_=!0,K=zB.current,K!==null?((K.flags&65536)===0&&(K.flags|=256),K.flags|=65536,K.lanes=O,$!==Z4&&vO(b0(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:$}),B))):($!==Z4&&vO(b0(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:$}),B)),Y=Y.current.alternate,Y.flags|=65536,O&=-O,Y.lanes|=O,$=b0($,B),O=v6(Y.stateNode,$,O),y8(Y,O),EK!==D1&&(EK=aH)),!1;var z=b0(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:$}),B);if(bX===null?bX=[z]:bX.push(z),EK!==D1&&(EK=aH),K===null)return!0;$=b0($,B),B=K;do{switch(B.tag){case 3:return B.flags|=65536,Y=O&-O,B.lanes|=Y,Y=v6(B.stateNode,$,Y),y8(B,Y),!1;case 1:if(K=B.type,z=B.stateNode,(B.flags&128)===0&&(typeof K.getDerivedStateFromError==="function"||z!==null&&typeof z.componentDidCatch==="function"&&(T$===null||!T$.has(z))))return B.flags|=65536,O&=-O,B.lanes|=O,O=f6(O),m6(O,Y,B,$),y8(B,O),!1}B=B.return}while(B!==null);return!1}function nK(Y,K,B,$){K.child=Y===null?CZ(K,null,B,$):w1(K,Y.child,B,$)}function GW(Y,K,B,$,O){B=B.render;var z=K.ref;if("ref"in $){var I={};for(var Z in $)Z!=="ref"&&(I[Z]=$[Z])}else I=$;if(G1(K),V(K),$=I6(Y,K,B,I,z,O),Z=N6(),BY(),Y!==null&&!lK)return Z6(Y,K,O),V_(Y,K,O);return fY&&Z&&_6(K),K.flags|=1,nK(Y,K,$,O),K.child}function IW(Y,K,B,$,O){if(Y===null){var z=B.type;if(typeof z==="function"&&!XP(z)&&z.defaultProps===void 0&&B.compare===null)return B=Y1(z),K.tag=15,K.type=B,d6(K,z),WW(Y,K,B,$,O);return Y=zP(B.type,null,$,K,K.mode,O),Y.ref=K.ref,Y.return=K,K.child=Y}if(z=Y.child,!o6(Y,O)){var I=z.memoizedProps;if(B=B.compare,B=B!==null?B:gO,B(I,$)&&Y.ref===K.ref)return V_(Y,K,O)}return K.flags|=1,Y=J$(z,$),Y.ref=K.ref,Y.return=K,K.child=Y}function WW(Y,K,B,$,O){if(Y!==null){var z=Y.memoizedProps;if(gO(z,$)&&Y.ref===K.ref&&K.type===Y.type)if(lK=!1,K.pendingProps=$=z,o6(Y,O))(Y.flags&131072)!==0&&(lK=!0);else return K.lanes=Y.lanes,V_(Y,K,O)}return h6(Y,K,B,$,O)}function NW(Y,K,B){var $=K.pendingProps,O=$.children,z=(K.stateNode._pendingVisibility&q1)!==0,I=Y!==null?Y.memoizedState:null;if(lO(Y,K),$.mode==="hidden"||z){if((K.flags&128)!==0){if($=I!==null?I.baseLanes|B:B,Y!==null){O=K.child=Y.child;for(z=0;O!==null;)z=z|O.lanes|O.childLanes,O=O.sibling;K.childLanes=z&~$}else K.childLanes=0,K.child=null;return ZW(Y,K,$,B)}if((B&536870912)!==0)K.memoizedState={baseLanes:0,cachePool:null},Y!==null&&L8(K,I!==null?I.cachePool:null),I!==null?D5(K,I):O6(K),M5(K);else return K.lanes=K.childLanes=536870912,ZW(Y,K,I!==null?I.baseLanes|B:B,B)}else I!==null?(L8(K,I.cachePool),D5(K,I),P$(K),K.memoizedState=null):(Y!==null&&L8(K,null),O6(K),P$(K));return nK(Y,K,O,B),K.child}function ZW(Y,K,B,$){var O=P6();return O=O===null?null:{parent:jK._currentValue,pool:O},K.memoizedState={baseLanes:B,cachePool:O},Y!==null&&L8(K,null),O6(K),M5(K),Y!==null&&uO(Y,K,$,!0),null}function lO(Y,K){var B=K.ref;if(B===null)Y!==null&&Y.ref!==null&&(K.flags|=2097664);else{if(typeof B!=="function"&&typeof B!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(Y===null||Y.ref!==B)K.flags|=2097664}}function h6(Y,K,B,$,O){if(B.prototype&&typeof B.prototype.render==="function"){var z=b(B)||"Unknown";vZ[z]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",z,z),vZ[z]=!0)}if(K.mode&O0&&TB.recordLegacyContextWarning(K,null),Y===null&&(d6(K,K.type),B.contextTypes&&(z=b(B)||"Unknown",mZ[z]||(mZ[z]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",z)))),G1(K),V(K),B=I6(Y,K,B,$,void 0,O),$=N6(),BY(),Y!==null&&!lK)return Z6(Y,K,O),V_(Y,K,O);return fY&&$&&_6(K),K.flags|=1,nK(Y,K,B,O),K.child}function JW(Y,K,B,$,O,z){if(G1(K),V(K),f_=-1,UX=Y!==null&&Y.type!==K.type,K.updateQueue=null,B=W6(K,$,B,O),T5(Y,K),$=N6(),BY(),Y!==null&&!lK)return Z6(Y,K,z),V_(Y,K,z);return fY&&$&&_6(K),K.flags|=1,nK(Y,K,B,z),K.child}function QW(Y,K,B,$,O){switch(N(K)){case!1:var z=K.stateNode,I=new K.type(K.memoizedProps,z.context).state;z.updater.enqueueSetState(z,I,null);break;case!0:K.flags|=128,K.flags|=65536,z=Error("Simulated error coming from DevTools");var Z=O&-O;if(K.lanes|=Z,I=OK,I===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");Z=f6(Z),m6(Z,I,K,b0(z,K)),y8(K,Z)}if(G1(K),K.stateNode===null){if(I=A$,z=B.contextType,"contextType"in B&&z!==null&&(z===void 0||z.$$typeof!==__)&&!kZ.has(B)&&(kZ.add(B),Z=z===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof z!=="object"?" However, it is set to a "+typeof z+".":z.$$typeof===mP?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(z).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",b(B)||"Component",Z)),typeof z==="object"&&z!==null&&(I=qK(z)),z=new B($,I),K.mode&O0){sY(!0);try{z=new B($,I)}finally{sY(!1)}}if(I=K.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=A4,K.stateNode=z,z._reactInternals=K,z._reactInternalInstance=VZ,typeof B.getDerivedStateFromProps==="function"&&I===null&&(I=b(B)||"Component",DZ.has(I)||(DZ.add(I),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",I,z.state===null?"null":"undefined",I))),typeof B.getDerivedStateFromProps==="function"||typeof z.getSnapshotBeforeUpdate==="function"){var R=Z=I=null;if(typeof z.componentWillMount==="function"&&z.componentWillMount.__suppressDeprecationWarning!==!0?I="componentWillMount":typeof z.UNSAFE_componentWillMount==="function"&&(I="UNSAFE_componentWillMount"),typeof z.componentWillReceiveProps==="function"&&z.componentWillReceiveProps.__suppressDeprecationWarning!==!0?Z="componentWillReceiveProps":typeof z.UNSAFE_componentWillReceiveProps==="function"&&(Z="UNSAFE_componentWillReceiveProps"),typeof z.componentWillUpdate==="function"&&z.componentWillUpdate.__suppressDeprecationWarning!==!0?R="componentWillUpdate":typeof z.UNSAFE_componentWillUpdate==="function"&&(R="UNSAFE_componentWillUpdate"),I!==null||Z!==null||R!==null){z=b(B)||"Component";var A=typeof B.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";UZ.has(z)||(UZ.add(z),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,z,A,I!==null?`
  `+I:"",Z!==null?`
  `+Z:"",R!==null?`
  `+R:""))}}z=K.stateNode,I=b(B)||"Component",z.render||(B.prototype&&typeof B.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",I):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",I)),!z.getInitialState||z.getInitialState.isReactClassApproved||z.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",I),z.getDefaultProps&&!z.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",I),z.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",I),B.childContextTypes&&!gZ.has(B)&&(gZ.add(B),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",I)),B.contextTypes&&!yZ.has(B)&&(yZ.add(B),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",I)),typeof z.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",I),B.prototype&&B.prototype.isPureReactComponent&&typeof z.shouldComponentUpdate!=="undefined"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",b(B)||"A pure component"),typeof z.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",I),typeof z.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",I),typeof z.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",I),typeof z.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",I),Z=z.props!==$,z.props!==void 0&&Z&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",I),z.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",I,I),typeof z.getSnapshotBeforeUpdate!=="function"||typeof z.componentDidUpdate==="function"||MZ.has(B)||(MZ.add(B),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",b(B))),typeof z.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",I),typeof z.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",I),typeof B.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",I),(Z=z.state)&&(typeof Z!=="object"||sK(Z))&&console.error("%s.state: must be set to an object or null",I),typeof z.getChildContext==="function"&&typeof B.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",I),z=K.stateNode,z.props=$,z.state=K.memoizedState,z.refs={},t6(K),I=B.contextType,z.context=typeof I==="object"&&I!==null?qK(I):A$,z.state===$&&(I=b(B)||"Component",SZ.has(I)||(SZ.add(I),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",I))),K.mode&O0&&TB.recordLegacyContextWarning(K,z),TB.recordUnsafeLifecycleWarnings(K,z),z.state=K.memoizedState,I=B.getDerivedStateFromProps,typeof I==="function"&&(b6(K,B,I,$),z.state=K.memoizedState),typeof B.getDerivedStateFromProps==="function"||typeof z.getSnapshotBeforeUpdate==="function"||typeof z.UNSAFE_componentWillMount!=="function"&&typeof z.componentWillMount!=="function"||(I=z.state,typeof z.componentWillMount==="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount==="function"&&z.UNSAFE_componentWillMount(),I!==z.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",u(K)||"Component"),A4.enqueueReplaceState(z,z.state,null)),nO(K,$,z,O),iO(),z.state=K.memoizedState),typeof z.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&SB)!==PK&&(K.flags|=67108864),z=!0}else if(Y===null){z=K.stateNode;var k=K.memoizedProps;Z=P1(B,k),z.props=Z;var c=z.context;R=B.contextType,I=A$,typeof R==="object"&&R!==null&&(I=qK(R)),A=B.getDerivedStateFromProps,R=typeof A==="function"||typeof z.getSnapshotBeforeUpdate==="function",k=K.pendingProps!==k,R||typeof z.UNSAFE_componentWillReceiveProps!=="function"&&typeof z.componentWillReceiveProps!=="function"||(k||c!==I)&&HW(K,z,$,I),M$=!1;var j=K.memoizedState;z.state=j,nO(K,$,z,O),iO(),c=K.memoizedState,k||j!==c||M$?(typeof A==="function"&&(b6(K,B,A,$),c=K.memoizedState),(Z=M$||$W(K,B,Z,$,j,c,I))?(R||typeof z.UNSAFE_componentWillMount!=="function"&&typeof z.componentWillMount!=="function"||(typeof z.componentWillMount==="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount==="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&SB)!==PK&&(K.flags|=67108864)):(typeof z.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&SB)!==PK&&(K.flags|=67108864),K.memoizedProps=$,K.memoizedState=c),z.props=$,z.state=c,z.context=I,z=Z):(typeof z.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&SB)!==PK&&(K.flags|=67108864),z=!1)}else{z=K.stateNode,e6(Y,K),I=K.memoizedProps,R=P1(B,I),z.props=R,A=K.pendingProps,j=z.context,c=B.contextType,Z=A$,typeof c==="object"&&c!==null&&(Z=qK(c)),k=B.getDerivedStateFromProps,(c=typeof k==="function"||typeof z.getSnapshotBeforeUpdate==="function")||typeof z.UNSAFE_componentWillReceiveProps!=="function"&&typeof z.componentWillReceiveProps!=="function"||(I!==A||j!==Z)&&HW(K,z,$,Z),M$=!1,j=K.memoizedState,z.state=j,nO(K,$,z,O),iO();var p=K.memoizedState;I!==A||j!==p||M$||Y!==null&&Y.dependencies!==null&&S8(Y.dependencies)?(typeof k==="function"&&(b6(K,B,k,$),p=K.memoizedState),(R=M$||$W(K,B,R,$,j,p,Z)||Y!==null&&Y.dependencies!==null&&S8(Y.dependencies))?(c||typeof z.UNSAFE_componentWillUpdate!=="function"&&typeof z.componentWillUpdate!=="function"||(typeof z.componentWillUpdate==="function"&&z.componentWillUpdate($,p,Z),typeof z.UNSAFE_componentWillUpdate==="function"&&z.UNSAFE_componentWillUpdate($,p,Z)),typeof z.componentDidUpdate==="function"&&(K.flags|=4),typeof z.getSnapshotBeforeUpdate==="function"&&(K.flags|=1024)):(typeof z.componentDidUpdate!=="function"||I===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=4),typeof z.getSnapshotBeforeUpdate!=="function"||I===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=1024),K.memoizedProps=$,K.memoizedState=p),z.props=$,z.state=p,z.context=Z,z=R):(typeof z.componentDidUpdate!=="function"||I===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=4),typeof z.getSnapshotBeforeUpdate!=="function"||I===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=1024),z=!1)}if(Z=z,lO(Y,K),I=(K.flags&128)!==0,Z||I){if(Z=K.stateNode,f.getCurrentStack=K===null?null:G0,BB=!1,_0=K,I&&typeof B.getDerivedStateFromError!=="function")B=null,M0=-1;else{if(V(K),B=OZ(Z),K.mode&O0){sY(!0);try{OZ(Z)}finally{sY(!1)}}BY()}K.flags|=1,Y!==null&&I?(K.child=w1(K,Y.child,null,O),K.child=w1(K,null,B,O)):nK(Y,K,B,O),K.memoizedState=Z.state,Y=K.child}else Y=V_(Y,K,O);return O=K.stateNode,z&&O.props!==$&&(pH||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",u(K)||"a component"),pH=!0),Y}function qW(Y,K,B,$){return bO(),K.flags|=256,nK(Y,K,B,$),K.child}function d6(Y,K){K&&K.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,K.displayName||K.name||"Component"),typeof K.getDerivedStateFromProps==="function"&&(Y=b(K)||"Unknown",hZ[Y]||(console.error("%s: Function components do not support getDerivedStateFromProps.",Y),hZ[Y]=!0)),typeof K.contextType==="object"&&K.contextType!==null&&(K=b(K)||"Unknown",fZ[K]||(console.error("%s: Function components do not support contextType.",K),fZ[K]=!0))}function c6(Y){return{baseLanes:Y,cachePool:S5()}}function l6(Y,K,B){return Y=Y!==null?Y.childLanes&~B:0,K&&(Y|=l0),Y}function LW(Y,K,B){var $,O=K.pendingProps;W(K)&&(K.flags|=128);var z=!1,I=(K.flags&128)!==0;if(($=I)||($=Y!==null&&Y.memoizedState===null?!1:(gK.current&FX)!==0),$&&(z=!0,K.flags&=-129),$=(K.flags&32)!==0,K.flags&=-33,Y===null){if(fY){if(z?z$(K):P$(K),fY){var Z=rK,R;if(!(R=!Z)){Y:{var A=Z;for(R=z_;A.nodeType!==8;){if(!R){R=null;break Y}if(A=KB(A.nextSibling),A===null){R=null;break Y}}R=A}R!==null?(B1(),K.memoizedState={dehydrated:R,treeContext:C1!==null?{id:k_,overflow:j_}:null,retryLane:536870912},A=q(18,null,null,PK),A.stateNode=R,A.return=K,K.child=A,Z0=K,rK=null,R=!0):R=!1,R=!R}R&&(H6(K,Z),$1(K))}if(Z=K.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Z.data===j1?K.lanes=16:K.lanes=536870912,null;E_(K)}if(Z=O.children,O=O.fallback,z)return P$(K),z=K.mode,Z=p6({mode:"hidden",children:Z},z),O=W1(O,z,B,null),Z.return=K,O.return=K,Z.sibling=O,K.child=Z,z=K.child,z.memoizedState=c6(B),z.childLanes=l6(Y,$,B),K.memoizedState=V4,O;return z$(K),u6(K,Z)}var k=Y.memoizedState;if(k!==null&&(Z=k.dehydrated,Z!==null)){if(I)K.flags&256?(z$(K),K.flags&=-257,K=i6(Y,K,B)):K.memoizedState!==null?(P$(K),K.child=Y.child,K.flags|=128,K=null):(P$(K),z=O.fallback,Z=K.mode,O=p6({mode:"visible",children:O.children},Z),z=W1(z,Z,B,null),z.flags|=2,O.return=K,z.return=K,O.sibling=z,K.child=O,w1(K,Y.child,null,B),O=K.child,O.memoizedState=c6(B),O.childLanes=l6(Y,$,B),K.memoizedState=V4,K=z);else if(z$(K),fY&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),Z.data===j1){if($=Z.nextSibling&&Z.nextSibling.dataset,$){R=$.dgst;var c=$.msg;A=$.stck;var j=$.cstck}Z=c,$=R,O=A,R=z=j,z=Z?Error(Z):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),z.stack=O||"",z.digest=$,$=R===void 0?null:R,O={value:z,source:null,stack:$},typeof $==="string"&&N4.set(z,O),vO(O),K=i6(Y,K,B)}else if(lK||uO(Y,K,B,!1),$=(B&Y.childLanes)!==0,lK||$){if($=OK,$!==null){if(O=B&-B,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&($.suspendedLanes|B))!==0?0:O,O!==0&&O!==k.retryLane)throw k.retryLane=O,B0(Y,O),CK($,Y,O),bZ}Z.data===k1||NP(),K=i6(Y,K,B)}else Z.data===k1?(K.flags|=128,K.child=Y.child,K=$R.bind(null,Y),Z._reactRetry=K,K=null):(Y=k.treeContext,rK=KB(Z.nextSibling),Z0=K,fY=!0,yB=null,b_=!1,XB=null,z_=!1,Y!==null&&(B1(),HB[OB++]=k_,HB[OB++]=j_,HB[OB++]=C1,k_=Y.id,j_=Y.overflow,C1=K),K=u6(K,O.children),K.flags|=4096);return K}if(z)return P$(K),z=O.fallback,Z=K.mode,R=Y.child,A=R.sibling,O=J$(R,{mode:"hidden",children:O.children}),O.subtreeFlags=R.subtreeFlags&31457280,A!==null?z=J$(A,z):(z=W1(z,Z,B,null),z.flags|=2),z.return=K,O.return=K,O.sibling=z,K.child=O,O=z,z=K.child,Z=Y.child.memoizedState,Z===null?Z=c6(B):(R=Z.cachePool,R!==null?(A=jK._currentValue,R=R.parent!==A?{parent:A,pool:A}:R):R=S5(),Z={baseLanes:Z.baseLanes|B,cachePool:R}),z.memoizedState=Z,z.childLanes=l6(Y,$,B),K.memoizedState=V4,O;return z$(K),B=Y.child,Y=B.sibling,B=J$(B,{mode:"visible",children:O.children}),B.return=K,B.sibling=null,Y!==null&&($=K.deletions,$===null?(K.deletions=[Y],K.flags|=16):$.push(Y)),K.child=B,K.memoizedState=null,B}function u6(Y,K){return K=p6({mode:"visible",children:K},Y.mode),K.return=Y,Y.child=K}function p6(Y,K){return sW(Y,K,0,null)}function i6(Y,K,B){return w1(K,Y.child,null,B),Y=u6(K,K.pendingProps.children),Y.flags|=2,K.memoizedState=null,Y}function RW(Y,K,B){Y.lanes|=K;var $=Y.alternate;$!==null&&($.lanes|=K),a6(Y.return,K,B)}function CW(Y,K){var B=sK(Y);return Y=!B&&typeof y(Y)==="function",B||Y?(B=B?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",B,K,B),!1):!0}function n6(Y,K,B,$,O){var z=Y.memoizedState;z===null?Y.memoizedState={isBackwards:K,rendering:null,renderingStartTime:0,last:$,tail:B,tailMode:O}:(z.isBackwards=K,z.rendering=null,z.renderingStartTime=0,z.last=$,z.tail=B,z.tailMode=O)}function wW(Y,K,B){var $=K.pendingProps,O=$.revealOrder,z=$.tail;if($=$.children,O!==void 0&&O!=="forwards"&&O!=="backwards"&&O!=="together"&&!dZ[O])if(dZ[O]=!0,typeof O==="string")switch(O.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',O,O.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',O,O.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',O)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',O);z===void 0||E4[z]||(z!=="collapsed"&&z!=="hidden"?(E4[z]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',z)):O!=="forwards"&&O!=="backwards"&&(E4[z]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',z)));Y:if((O==="forwards"||O==="backwards")&&$!==void 0&&$!==null&&$!==!1)if(sK($)){for(var I=0;I<$.length;I++)if(!CW($[I],I))break Y}else if(I=y($),typeof I==="function"){if(I=I.call($))for(var Z=I.next(),R=0;!Z.done;Z=I.next()){if(!CW(Z.value,R))break Y;R++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',O);if(nK(Y,K,$,B),$=gK.current,($&FX)!==0)$=$&hH|FX,K.flags|=128;else{if(Y!==null&&(Y.flags&128)!==0)Y:for(Y=K.child;Y!==null;){if(Y.tag===13)Y.memoizedState!==null&&RW(Y,B,K);else if(Y.tag===19)RW(Y,B,K);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===K)break Y;for(;Y.sibling===null;){if(Y.return===null||Y.return===K)break Y;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}$&=hH}switch(kY(gK,$,K),O){case"forwards":B=K.child;for(O=null;B!==null;)Y=B.alternate,Y!==null&&q8(Y)===null&&(O=B),B=B.sibling;B=O,B===null?(O=K.child,K.child=null):(O=B.sibling,B.sibling=null),n6(K,!1,O,B,z);break;case"backwards":B=null,O=K.child;for(K.child=null;O!==null;){if(Y=O.alternate,Y!==null&&q8(Y)===null){K.child=O;break}Y=O.sibling,O.sibling=B,B=O,O=Y}n6(K,!0,B,null,z);break;case"together":n6(K,!1,null,null,void 0);break;default:K.memoizedState=null}return K.child}function V_(Y,K,B){if(Y!==null&&(K.dependencies=Y.dependencies),M0=-1,U$|=K.lanes,(B&K.childLanes)===0)if(Y!==null){if(uO(Y,K,B,!1),(B&K.childLanes)===0)return null}else return null;if(Y!==null&&K.child!==Y.child)throw Error("Resuming work not yet implemented.");if(K.child!==null){Y=K.child,B=J$(Y,Y.pendingProps),K.child=B;for(B.return=K;Y.sibling!==null;)Y=Y.sibling,B=B.sibling=J$(Y,Y.pendingProps),B.return=K;B.sibling=null}return K.child}function o6(Y,K){if((Y.lanes&K)!==0)return!0;return Y=Y.dependencies,Y!==null&&S8(Y)?!0:!1}function bL(Y,K,B){switch(K.tag){case 3:pK(K,K.stateNode.containerInfo),I$(K,jK,Y.memoizedState.cache),bO();break;case 27:case 5:iB(K);break;case 4:pK(K,K.stateNode.containerInfo);break;case 10:I$(K,K.type,K.memoizedProps.value);break;case 12:(B&K.childLanes)!==0&&(K.flags|=4),K.flags|=2048;var $=K.stateNode;$.effectDuration=-0,$.passiveEffectDuration=-0;break;case 13:if($=K.memoizedState,$!==null){if($.dehydrated!==null)return z$(K),K.flags|=128,null;if((B&K.child.childLanes)!==0)return LW(Y,K,B);return z$(K),Y=V_(Y,K,B),Y!==null?Y.sibling:null}z$(K);break;case 19:var O=(Y.flags&128)!==0;if($=(B&K.childLanes)!==0,$||(uO(Y,K,B,!1),$=(B&K.childLanes)!==0),O){if($)return wW(Y,K,B);K.flags|=128}if(O=K.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),kY(gK,gK.current,K),$)break;else return null;case 22:case 23:return K.lanes=0,NW(Y,K,B);case 24:I$(K,jK,Y.memoizedState.cache)}return V_(Y,K,B)}function s6(Y,K,B){if(K._debugNeedsRemount&&Y!==null){B=zP(K.type,K.key,K.pendingProps,K._debugOwner||null,K.mode,K.lanes);var $=K.return;if($===null)throw Error("Cannot swap the root fiber.");if(Y.alternate=null,K.alternate=null,B.index=K.index,B.sibling=K.sibling,B.return=K.return,B.ref=K.ref,B._debugInfo=K._debugInfo,K===$.child)$.child=B;else{var O=$.child;if(O===null)throw Error("Expected parent to have a child.");for(;O.sibling!==K;)if(O=O.sibling,O===null)throw Error("Expected to find the previous sibling.");O.sibling=B}return K=$.deletions,K===null?($.deletions=[Y],$.flags|=16):K.push(Y),B.flags|=2,B}if(Y!==null)if(Y.memoizedProps!==K.pendingProps||K.type!==Y.type)lK=!0;else{if(!o6(Y,B)&&(K.flags&128)===0)return lK=!1,bL(Y,K,B);lK=(Y.flags&131072)!==0?!0:!1}else{if(lK=!1,$=fY)B1(),$=(K.flags&1048576)!==0;$&&($=K.index,B1(),q5(K,W2,$))}switch(K.lanes=0,K.tag){case 16:Y:if($=K.pendingProps,Y=x$(K.elementType),K.type=Y,typeof Y==="function")XP(Y)?($=P1(Y,$),K.tag=1,K.type=Y=Y1(Y),K=QW(null,K,Y,$,B)):(K.tag=0,d6(K,Y),K.type=Y=Y1(Y),K=h6(null,K,Y,$,B));else{if(Y!==void 0&&Y!==null){if(O=Y.$$typeof,O===HX){K.tag=11,K.type=Y=e7(Y),K=GW(null,K,Y,$,B);break Y}else if(O===a8){K.tag=14,K=IW(null,K,Y,$,B);break Y}}throw K="",Y!==null&&typeof Y==="object"&&Y.$$typeof===m0&&(K=" Did you wrap a component in React.lazy() more than once?"),Y=b(Y)||Y,Error("Element type is invalid. Received a promise that resolves to: "+Y+". Lazy element type must resolve to a class or function."+K)}return K;case 0:return h6(Y,K,K.type,K.pendingProps,B);case 1:return $=K.type,O=P1($,K.pendingProps),QW(Y,K,$,O,B);case 3:Y:{if(pK(K,K.stateNode.containerInfo),Y===null)throw Error("Should have a current fiber. This is a bug in React.");var z=K.pendingProps;O=K.memoizedState,$=O.element,e6(Y,K),nO(K,z,null,B);var I=K.memoizedState;if(z=I.cache,I$(K,jK,z),z!==O.cache&&r6(K,[jK],B,!0),iO(),z=I.element,O.isDehydrated)if(O={element:z,isDehydrated:!1,cache:I.cache},K.updateQueue.baseState=O,K.memoizedState=O,K.flags&256){K=qW(Y,K,z,B);break Y}else if(z!==$){$=b0(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),K),vO($),K=qW(Y,K,z,B);break Y}else for(rK=KB(K.stateNode.containerInfo.firstChild),Z0=K,fY=!0,yB=null,b_=!1,XB=null,z_=!0,Y=CZ(K,null,z,B),K.child=Y;Y;)Y.flags=Y.flags&-3|4096,Y=Y.sibling;else{if(bO(),z===$){K=V_(Y,K,B);break Y}nK(Y,K,z,B)}K=K.child}return K;case 26:return lO(Y,K),Y===null?(Y=dN(K.type,null,K.pendingProps,null))?K.memoizedState=Y:fY||(Y=K.type,B=K.pendingProps,$=GK(R$.current),$=d8($).createElement(Y),$[H0]=K,$[D0]=B,oK($,Y,B),FK($),K.stateNode=$):K.memoizedState=dN(K.type,Y.memoizedProps,K.pendingProps,Y.memoizedState),null;case 27:return iB(K),Y===null&&fY&&(O=GK(R$.current),$=R0(),O=K.stateNode=mN(K.type,K.pendingProps,O,$,!1),b_||($=TN(O,K.type,K.pendingProps,$),$!==null&&(_1(K,0).serverProps=$)),Z0=K,z_=!0,rK=KB(O.firstChild)),$=K.pendingProps.children,Y!==null||fY?nK(Y,K,$,B):K.child=w1(K,null,$,B),lO(Y,K),K.child;case 5:return Y===null&&fY&&(z=R0(),$=o7(K.type,z.ancestorInfo),O=rK,(I=!O)||(I=xR(O,K.type,K.pendingProps,z_),I!==null?(K.stateNode=I,b_||(z=TN(I,K.type,K.pendingProps,z),z!==null&&(_1(K,0).serverProps=z)),Z0=K,rK=KB(I.firstChild),z_=!1,z=!0):z=!1,I=!z),I&&($&&H6(K,O),$1(K))),iB(K),O=K.type,z=K.pendingProps,I=Y!==null?Y.memoizedProps:null,$=z.children,DP(O,z)?$=null:I!==null&&DP(O,I)&&(K.flags|=32),K.memoizedState!==null&&(O=I6(Y,K,SL,null,null,B),uX._currentValue=O),lO(Y,K),nK(Y,K,$,B),K.child;case 6:return Y===null&&fY&&(Y=K.pendingProps,B=R0().ancestorInfo.current,Y=B!=null?B8(Y,B.tag):!0,B=rK,($=!B)||($=ER(B,K.pendingProps,z_),$!==null?(K.stateNode=$,Z0=K,rK=null,$=!0):$=!1,$=!$),$&&(Y&&H6(K,B),$1(K))),null;case 13:return LW(Y,K,B);case 4:return pK(K,K.stateNode.containerInfo),$=K.pendingProps,Y===null?K.child=w1(K,null,$,B):nK(Y,K,$,B),K.child;case 11:return GW(Y,K,K.type,K.pendingProps,B);case 7:return nK(Y,K,K.pendingProps,B),K.child;case 8:return nK(Y,K,K.pendingProps.children,B),K.child;case 12:return K.flags|=4,K.flags|=2048,$=K.stateNode,$.effectDuration=-0,$.passiveEffectDuration=-0,nK(Y,K,K.pendingProps.children,B),K.child;case 10:return $=K.type,O=K.pendingProps,z=O.value,"value"in O||cZ||(cZ=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),I$(K,$,z),nK(Y,K,O.children,B),K.child;case 9:return O=K.type._context,$=K.pendingProps.children,typeof $!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),G1(K),O=qK(O),V(K),$=Q4($,O,void 0),BY(),K.flags|=1,nK(Y,K,$,B),K.child;case 14:return IW(Y,K,K.type,K.pendingProps,B);case 15:return WW(Y,K,K.type,K.pendingProps,B);case 19:return wW(Y,K,B);case 22:return NW(Y,K,B);case 24:return G1(K),$=qK(jK),Y===null?(O=P6(),O===null&&(O=OK,z=z6(),O.pooledCache=z,H1(z),z!==null&&(O.pooledCacheLanes|=B),O=z),K.memoizedState={parent:$,cache:O},t6(K),I$(K,jK,O)):((Y.lanes&B)!==0&&(e6(Y,K),nO(K,null,null,B),iO()),O=Y.memoizedState,z=K.memoizedState,O.parent!==$?(O={parent:$,cache:$},K.memoizedState=O,K.lanes===0&&(K.memoizedState=K.updateQueue.baseState=O),I$(K,jK,$)):($=z.cache,I$(K,jK,$),$!==O.cache&&r6(K,[jK],B,!0))),nK(Y,K,K.pendingProps.children,B),K.child;case 29:throw K.pendingProps}throw Error("Unknown unit of work tag ("+K.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function U8(){iH=R2=null,nH=!1}function I$(Y,K,B){kY(F4,K._currentValue,Y),K._currentValue=B,kY(D4,K._currentRenderer,Y),K._currentRenderer!==void 0&&K._currentRenderer!==null&&K._currentRenderer!==lZ&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),K._currentRenderer=lZ}function F_(Y,K){Y._currentValue=F4.current;var B=D4.current;pY(D4,K),Y._currentRenderer=B,pY(F4,K)}function a6(Y,K,B){for(;Y!==null;){var $=Y.alternate;if((Y.childLanes&K)!==K?(Y.childLanes|=K,$!==null&&($.childLanes|=K)):$!==null&&($.childLanes&K)!==K&&($.childLanes|=K),Y===B)break;Y=Y.return}Y!==B&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function r6(Y,K,B,$){var O=Y.child;O!==null&&(O.return=Y);for(;O!==null;){var z=O.dependencies;if(z!==null){var I=O.child;z=z.firstContext;Y:for(;z!==null;){var Z=z;z=O;for(var R=0;R<K.length;R++)if(Z.context===K[R]){z.lanes|=B,Z=z.alternate,Z!==null&&(Z.lanes|=B),a6(z.return,B,Y),$||(I=null);break Y}z=Z.next}}else if(O.tag===18){if(I=O.return,I===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");I.lanes|=B,z=I.alternate,z!==null&&(z.lanes|=B),a6(I,B,Y),I=null}else I=O.child;if(I!==null)I.return=O;else for(I=O;I!==null;){if(I===Y){I=null;break}if(O=I.sibling,O!==null){O.return=I.return,I=O;break}I=I.return}O=I}}function uO(Y,K,B,$){Y=null;for(var O=K,z=!1;O!==null;){if(!z){if((O.flags&524288)!==0)z=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var I=O.alternate;if(I===null)throw Error("Should have a current fiber. This is a bug in React.");if(I=I.memoizedProps,I!==null){var Z=O.type;N0(O.pendingProps.value,I.value)||(Y!==null?Y.push(Z):Y=[Z])}}else if(O===r8.current){if(I=O.alternate,I===null)throw Error("Should have a current fiber. This is a bug in React.");I.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(Y!==null?Y.push(uX):Y=[uX])}O=O.return}Y!==null&&r6(K,Y,B,$),K.flags|=262144}function S8(Y){for(Y=Y.firstContext;Y!==null;){if(!N0(Y.context._currentValue,Y.memoizedValue))return!0;Y=Y.next}return!1}function G1(Y){R2=Y,iH=null,Y=Y.dependencies,Y!==null&&(Y.firstContext=null)}function qK(Y){return nH&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),AW(R2,Y)}function T8(Y,K){return R2===null&&G1(Y),AW(Y,K)}function AW(Y,K){var B=K._currentValue;if(K={context:K,memoizedValue:B,next:null},iH===null){if(Y===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");iH=K,Y.dependencies={lanes:0,firstContext:K,_debugThenableState:null},Y.flags|=524288}else iH=iH.next=K;return B}function t6(Y){Y.updateQueue={baseState:Y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function e6(Y,K){Y=Y.updateQueue,K.updateQueue===Y&&(K.updateQueue={baseState:Y.baseState,firstBaseUpdate:Y.firstBaseUpdate,lastBaseUpdate:Y.lastBaseUpdate,shared:Y.shared,callbacks:null})}function W$(Y){return{lane:Y,tag:uZ,payload:null,callback:null,next:null}}function N$(Y,K,B){var $=Y.updateQueue;if($===null)return null;if($=$.shared,U4===$&&!nZ){var O=u(Y);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,O),nZ=!0}if((ZK&q0)!==d0)return O=$.pending,O===null?K.next=K:(K.next=O.next,O.next=K),$.pending=K,K=z8(Y),N5(Y,null,B),K;return X8(Y,$,K,B),z8(Y)}function pO(Y,K,B){if(K=K.updateQueue,K!==null&&(K=K.shared,(B&4194176)!==0)){var $=K.lanes;$&=Y.pendingLanes,B|=$,K.lanes=B,e1(Y,B)}}function y8(Y,K){var{updateQueue:B,alternate:$}=Y;if($!==null&&($=$.updateQueue,B===$)){var O=null,z=null;if(B=B.firstBaseUpdate,B!==null){do{var I={lane:B.lane,tag:B.tag,payload:B.payload,callback:null,next:null};z===null?O=z=I:z=z.next=I,B=B.next}while(B!==null);z===null?O=z=K:z=z.next=K}else O=z=K;B={baseState:$.baseState,firstBaseUpdate:O,lastBaseUpdate:z,shared:$.shared,callbacks:$.callbacks},Y.updateQueue=B;return}Y=B.lastBaseUpdate,Y===null?B.firstBaseUpdate=K:Y.next=K,B.lastBaseUpdate=K}function iO(){if(S4){var Y=dH;if(Y!==null)throw Y}}function nO(Y,K,B,$){S4=!1;var O=Y.updateQueue;M$=!1,U4=O.shared;var{firstBaseUpdate:z,lastBaseUpdate:I}=O,Z=O.shared.pending;if(Z!==null){O.shared.pending=null;var R=Z,A=R.next;R.next=null,I===null?z=A:I.next=A,I=R;var k=Y.alternate;k!==null&&(k=k.updateQueue,Z=k.lastBaseUpdate,Z!==I&&(Z===null?k.firstBaseUpdate=A:Z.next=A,k.lastBaseUpdate=R))}if(z!==null){var c=O.baseState;I=0,k=A=R=null,Z=z;do{var j=Z.lane&-536870913,p=j!==Z.lane;if(p?(yY&j)===j:($&j)===j){j!==0&&j===A1&&(S4=!0),k!==null&&(k=k.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});Y:{j=Y;var PY=Z,xY=K,MK=B;switch(PY.tag){case pZ:if(PY=PY.payload,typeof PY==="function"){nH=!0;var iY=PY.call(MK,c,xY);if(j.mode&O0){sY(!0);try{PY.call(MK,c,xY)}finally{sY(!1)}}nH=!1,c=iY;break Y}c=PY;break Y;case M4:j.flags=j.flags&-65537|128;case uZ:if(iY=PY.payload,typeof iY==="function"){if(nH=!0,PY=iY.call(MK,c,xY),j.mode&O0){sY(!0);try{iY.call(MK,c,xY)}finally{sY(!1)}}nH=!1}else PY=iY;if(PY===null||PY===void 0)break Y;c=DY({},c,PY);break Y;case iZ:M$=!0}}j=Z.callback,j!==null&&(Y.flags|=64,p&&(Y.flags|=8192),p=O.callbacks,p===null?O.callbacks=[j]:p.push(j))}else p={lane:j,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},k===null?(A=k=p,R=c):k=k.next=p,I|=j;if(Z=Z.next,Z===null)if(Z=O.shared.pending,Z===null)break;else p=Z,Z=p.next,p.next=null,O.lastBaseUpdate=p,O.shared.pending=null}while(1);k===null&&(R=c),O.baseState=R,O.firstBaseUpdate=A,O.lastBaseUpdate=k,z===null&&(O.shared.lanes=0),U$|=I,Y.lanes=I,Y.memoizedState=c}U4=null}function xW(Y,K){if(typeof Y!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+Y);Y.call(K)}function vL(Y,K){var B=Y.shared.hiddenCallbacks;if(B!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<B.length;Y++)xW(B[Y],K)}function EW(Y,K){var B=Y.callbacks;if(B!==null)for(Y.callbacks=null,Y=0;Y<B.length;Y++)xW(B[Y],K)}function eB(Y){return(Y.mode&aK)!==PK}function VW(Y,K){eB(Y)?(tB(),oO(K,Y),rB()):oO(K,Y)}function YP(Y,K,B){eB(Y)?(tB(),IH(B,Y,K),rB()):IH(B,Y,K)}function oO(Y,K){try{var B=K.updateQueue,$=B!==null?B.lastEffect:null;if($!==null){var O=$.next;B=O;do{if((B.tag&Y)===Y&&((Y&kK)!==PB?YY!==null&&typeof YY.markComponentPassiveEffectMountStarted==="function"&&YY.markComponentPassiveEffectMountStarted(K):(Y&tK)!==PB&&YY!==null&&typeof YY.markComponentLayoutEffectMountStarted==="function"&&YY.markComponentLayoutEffectMountStarted(K),$=void 0,(Y&J0)!==PB&&(eH=!0),$=KY(K,eC,B),(Y&J0)!==PB&&(eH=!1),(Y&kK)!==PB?YY!==null&&typeof YY.markComponentPassiveEffectMountStopped==="function"&&YY.markComponentPassiveEffectMountStopped():(Y&tK)!==PB&&YY!==null&&typeof YY.markComponentLayoutEffectMountStopped==="function"&&YY.markComponentLayoutEffectMountStopped(),$!==void 0&&typeof $!=="function")){var z=void 0;z=(B.tag&tK)!==0?"useLayoutEffect":(B.tag&J0)!==0?"useInsertionEffect":"useEffect";var I=void 0;I=$===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof $.then==="function"?`

It looks like you wrote `+z+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+z+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+$,KY(K,function(Z,R){console.error("%s must not return anything besides a function, which is used for clean-up.%s",Z,R)},z,I)}B=B.next}while(B!==O)}}catch(Z){YK(K,K.return,Z)}}function IH(Y,K,B){try{var $=K.updateQueue,O=$!==null?$.lastEffect:null;if(O!==null){var z=O.next;$=z;do{if(($.tag&Y)===Y){var I=$.inst,Z=I.destroy;Z!==void 0&&(I.destroy=void 0,(Y&kK)!==PB?YY!==null&&typeof YY.markComponentPassiveEffectUnmountStarted==="function"&&YY.markComponentPassiveEffectUnmountStarted(K):(Y&tK)!==PB&&YY!==null&&typeof YY.markComponentLayoutEffectUnmountStarted==="function"&&YY.markComponentLayoutEffectUnmountStarted(K),(Y&J0)!==PB&&(eH=!0),KY(K,Yw,K,B,Z),(Y&J0)!==PB&&(eH=!1),(Y&kK)!==PB?YY!==null&&typeof YY.markComponentPassiveEffectUnmountStopped==="function"&&YY.markComponentPassiveEffectUnmountStopped():(Y&tK)!==PB&&YY!==null&&typeof YY.markComponentLayoutEffectUnmountStopped==="function"&&YY.markComponentLayoutEffectUnmountStopped())}$=$.next}while($!==z)}}catch(R){YK(K,K.return,R)}}function FW(Y,K){eB(Y)?(tB(),oO(K,Y),rB()):oO(K,Y)}function KP(Y,K,B){eB(Y)?(tB(),IH(B,Y,K),rB()):IH(B,Y,K)}function DW(Y){var K=Y.updateQueue;if(K!==null){var B=Y.stateNode;Y.type.defaultProps||"ref"in Y.memoizedProps||pH||(B.props!==Y.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(Y)||"instance"),B.state!==Y.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(Y)||"instance"));try{KY(Y,EW,K,B)}catch($){YK(Y,Y.return,$)}}}function fL(Y,K,B){return Y.getSnapshotBeforeUpdate(K,B)}function mL(Y,K){var{memoizedProps:B,memoizedState:$}=K;K=Y.stateNode,Y.type.defaultProps||"ref"in Y.memoizedProps||pH||(K.props!==Y.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(Y)||"instance"),K.state!==Y.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(Y)||"instance"));try{var O=P1(Y.type,B,Y.elementType===Y.type),z=KY(Y,fL,K,O,$);B=oZ,z!==void 0||B.has(Y.type)||(B.add(Y.type),KY(Y,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",u(Y))})),K.__reactInternalSnapshotBeforeUpdate=z}catch(I){YK(Y,Y.return,I)}}function MW(Y,K,B){B.props=P1(Y.type,Y.memoizedProps),B.state=Y.memoizedState,eB(Y)?(tB(),KY(Y,WZ,Y,K,B),rB()):KY(Y,WZ,Y,K,B)}function hL(Y){var K=Y.ref;if(K!==null){var B=Y.stateNode;if(typeof K==="function")if(eB(Y))try{tB(),Y.refCleanup=K(B)}finally{rB()}else Y.refCleanup=K(B);else typeof K==="string"?console.error("String refs are no longer supported."):K.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",u(Y)),K.current=B}}function I1(Y,K){try{KY(Y,hL,Y)}catch(B){YK(Y,K,B)}}function v0(Y,K){var{ref:B,refCleanup:$}=Y;if(B!==null)if(typeof $==="function")try{if(eB(Y))try{tB(),KY(Y,$)}finally{rB(Y)}else KY(Y,$)}catch(O){YK(Y,K,O)}finally{Y.refCleanup=null,Y=Y.alternate,Y!=null&&(Y.refCleanup=null)}else if(typeof B==="function")try{if(eB(Y))try{tB(),KY(Y,B,null)}finally{rB(Y)}else KY(Y,B,null)}catch(O){YK(Y,K,O)}else B.current=null}function UW(Y,K,B,$){var O=Y.memoizedProps,z=O.id,I=O.onCommit;O=O.onRender,K=K===null?"mount":"update",z2&&(K="nested-update"),typeof O==="function"&&O(z,K,Y.actualDuration,Y.treeBaseDuration,Y.actualStartTime,B),typeof I==="function"&&I(Y.memoizedProps.id,K,$,B)}function dL(Y,K,B,$){var O=Y.memoizedProps;Y=O.id,O=O.onPostCommit,K=K===null?"mount":"update",z2&&(K="nested-update"),typeof O==="function"&&O(Y,K,$,B)}function SW(Y){var{type:K,memoizedProps:B,stateNode:$}=Y;try{KY(Y,ZR,$,K,B,Y)}catch(O){YK(Y,Y.return,O)}}function TW(Y,K,B){try{KY(Y,JR,Y.stateNode,Y.type,B,K,Y)}catch($){YK(Y,Y.return,$)}}function yW(Y){return Y.tag===5||Y.tag===3||Y.tag===26||Y.tag===27||Y.tag===4}function BP(Y){Y:for(;;){for(;Y.sibling===null;){if(Y.return===null||yW(Y.return))return null;Y=Y.return}Y.sibling.return=Y.return;for(Y=Y.sibling;Y.tag!==5&&Y.tag!==6&&Y.tag!==27&&Y.tag!==18;){if(Y.flags&2)continue Y;if(Y.child===null||Y.tag===4)continue Y;else Y.child.return=Y,Y=Y.child}if(!(Y.flags&2))return Y.stateNode}}function _P(Y,K,B){var $=Y.tag;if($===5||$===6)Y=Y.stateNode,K?B.nodeType===8?B.parentNode.insertBefore(Y,K):B.insertBefore(Y,K):(B.nodeType===8?(K=B.parentNode,K.insertBefore(Y,B)):(K=B,K.appendChild(Y)),B=B._reactRootContainer,B!==null&&B!==void 0||K.onclick!==null||(K.onclick=m8));else if($!==4&&$!==27&&(Y=Y.child,Y!==null))for(_P(Y,K,B),Y=Y.sibling;Y!==null;)_P(Y,K,B),Y=Y.sibling}function g8(Y,K,B){var $=Y.tag;if($===5||$===6)Y=Y.stateNode,K?B.insertBefore(Y,K):B.appendChild(Y);else if($!==4&&$!==27&&(Y=Y.child,Y!==null))for(g8(Y,K,B),Y=Y.sibling;Y!==null;)g8(Y,K,B),Y=Y.sibling}function cL(Y){if(Y.tag!==27){Y:{for(var K=Y.return;K!==null;){if(yW(K)){var B=K;break Y}K=K.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(B.tag){case 27:K=B.stateNode,B=BP(Y),g8(Y,B,K);break;case 5:K=B.stateNode,B.flags&32&&(kN(K),B.flags&=-33),B=BP(Y),g8(Y,B,K);break;case 3:case 4:K=B.stateNode.containerInfo,B=BP(Y),_P(Y,B,K);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function lL(Y,K){if(Y=Y.containerInfo,s4=m2,Y=I5(Y),r7(Y)){if("selectionStart"in Y)var B={start:Y.selectionStart,end:Y.selectionEnd};else Y:{B=(B=Y.ownerDocument)&&B.defaultView||window;var $=B.getSelection&&B.getSelection();if($&&$.rangeCount!==0){B=$.anchorNode;var{anchorOffset:O,focusNode:z}=$;$=$.focusOffset;try{B.nodeType,z.nodeType}catch(PY){B=null;break Y}var I=0,Z=-1,R=-1,A=0,k=0,c=Y,j=null;K:for(;;){for(var p;;){if(c!==B||O!==0&&c.nodeType!==3||(Z=I+O),c!==z||$!==0&&c.nodeType!==3||(R=I+$),c.nodeType===3&&(I+=c.nodeValue.length),(p=c.firstChild)===null)break;j=c,c=p}for(;;){if(c===Y)break K;if(j===B&&++A===O&&(Z=I),j===z&&++k===$&&(R=I),(p=c.nextSibling)!==null)break;c=j,j=c.parentNode}c=p}B=Z===-1||R===-1?null:{start:Z,end:R}}else B=null}B=B||{start:0,end:0}}else B=null;a4={focusedElem:Y,selectionRange:B},m2=!1;for(uK=K;uK!==null;)if(K=uK,Y=K.child,(K.subtreeFlags&1028)!==0&&Y!==null)Y.return=K,uK=Y;else for(;uK!==null;){switch(Y=K=uK,B=Y.alternate,O=Y.flags,Y.tag){case 0:break;case 11:case 15:break;case 1:(O&1024)!==0&&B!==null&&mL(Y,B);break;case 3:if((O&1024)!==0){if(Y=Y.stateNode.containerInfo,B=Y.nodeType,B===9)UP(Y);else if(B===1)switch(Y.nodeName){case"HEAD":case"HTML":case"BODY":UP(Y);break;default:Y.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((O&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(Y=K.sibling,Y!==null){Y.return=K.return,uK=Y;break}uK=K.return}return K=aZ,aZ=!1,K}function gW(Y,K,B){var $=B.flags;switch(B.tag){case 0:case 11:case 15:Y_(Y,B),$&4&&VW(B,tK|GB);break;case 1:if(Y_(Y,B),$&4)if(Y=B.stateNode,K===null)B.type.defaultProps||"ref"in B.memoizedProps||pH||(Y.props!==B.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(B)||"instance"),Y.state!==B.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(B)||"instance")),eB(B)?(tB(),KY(B,q4,B,Y),rB()):KY(B,q4,B,Y);else{var O=P1(B.type,K.memoizedProps);K=K.memoizedState,B.type.defaultProps||"ref"in B.memoizedProps||pH||(Y.props!==B.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(B)||"instance"),Y.state!==B.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(B)||"instance")),eB(B)?(tB(),KY(B,PZ,B,Y,O,K,Y.__reactInternalSnapshotBeforeUpdate),rB()):KY(B,PZ,B,Y,O,K,Y.__reactInternalSnapshotBeforeUpdate)}$&64&&DW(B),$&512&&I1(B,B.return);break;case 3:if(K=x_(),Y_(Y,B),$&64&&($=B.updateQueue,$!==null)){if(O=null,B.child!==null)switch(B.child.tag){case 27:case 5:O=B.child.stateNode;break;case 1:O=B.child.stateNode}try{KY(B,EW,$,O)}catch(Z){YK(B,B.return,Z)}}Y.effectDuration+=P8(K);break;case 26:Y_(Y,B),$&512&&I1(B,B.return);break;case 27:case 5:Y_(Y,B),K===null&&$&4&&SW(B),$&512&&I1(B,B.return);break;case 12:if($&4){$=x_(),Y_(Y,B),Y=B.stateNode,Y.effectDuration+=kO($);try{KY(B,UW,B,K,X2,Y.effectDuration)}catch(Z){YK(B,B.return,Z)}}else Y_(Y,B);break;case 13:Y_(Y,B),$&4&&bW(Y,B);break;case 22:if(O=B.memoizedState!==null||m_,!O){K=K!==null&&K.memoizedState!==null||xK;var z=m_,I=xK;m_=O,(xK=K)&&!I?M_(Y,B,(B.subtreeFlags&8772)!==0):Y_(Y,B),m_=z,xK=I}$&512&&(B.memoizedProps.mode==="manual"?I1(B,B.return):v0(B,B.return));break;default:Y_(Y,B)}}function kW(Y){var K=Y.alternate;K!==null&&(Y.alternate=null,kW(K)),Y.child=null,Y.deletions=null,Y.sibling=null,Y.tag===5&&(K=Y.stateNode,K!==null&&BH(K)),Y.stateNode=null,Y._debugOwner=null,Y.return=null,Y.dependencies=null,Y.memoizedProps=null,Y.memoizedState=null,Y.pendingProps=null,Y.stateNode=null,Y.updateQueue=null}function D_(Y,K,B){for(B=B.child;B!==null;)jW(Y,K,B),B=B.sibling}function jW(Y,K,B){if($0&&typeof $0.onCommitFiberUnmount==="function")try{$0.onCommitFiberUnmount(EH,B)}catch(z){H_||(H_=!0,console.error("React instrumentation encountered an error: %s",z))}switch(B.tag){case 26:xK||v0(B,K),D_(Y,K,B),B.memoizedState?B.memoizedState.count--:B.stateNode&&(B=B.stateNode,B.parentNode.removeChild(B));break;case 27:xK||v0(B,K);var $=TK,O=h0;TK=B.stateNode,D_(Y,K,B),B=B.stateNode;for(Y=B.attributes;Y.length;)B.removeAttributeNode(Y[0]);BH(B),TK=$,h0=O;break;case 5:xK||v0(B,K);case 6:if($=TK,O=h0,TK=null,D_(Y,K,B),TK=$,h0=O,TK!==null)if(h0)try{KY(B,LR,TK,B.stateNode)}catch(z){YK(B,K,z)}else try{KY(B,qR,TK,B.stateNode)}catch(z){YK(B,K,z)}break;case 18:TK!==null&&(h0?(Y=TK,B=B.stateNode,Y.nodeType===8?MP(Y.parentNode,B):Y.nodeType===1&&MP(Y,B),$X(Y)):MP(TK,B.stateNode));break;case 4:$=TK,O=h0,TK=B.stateNode.containerInfo,h0=!0,D_(Y,K,B),TK=$,h0=O;break;case 0:case 11:case 14:case 15:xK||IH(J0,B,K),xK||YP(B,K,tK),D_(Y,K,B);break;case 1:xK||(v0(B,K),$=B.stateNode,typeof $.componentWillUnmount==="function"&&MW(B,K,$)),D_(Y,K,B);break;case 21:D_(Y,K,B);break;case 22:xK||v0(B,K),xK=($=xK)||B.memoizedState!==null,D_(Y,K,B),xK=$;break;default:D_(Y,K,B)}}function bW(Y,K){if(K.memoizedState===null&&(Y=K.alternate,Y!==null&&(Y=Y.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))))try{KY(K,FR,Y)}catch(B){YK(K,K.return,B)}}function uL(Y){switch(Y.tag){case 13:case 19:var K=Y.stateNode;return K===null&&(K=Y.stateNode=new sZ),K;case 22:return Y=Y.stateNode,K=Y._retryCache,K===null&&(K=Y._retryCache=new sZ),K;default:throw Error("Unexpected Suspense handler tag ("+Y.tag+"). This is a bug in React.")}}function $P(Y,K){var B=uL(Y);K.forEach(function($){var O=HR.bind(null,Y,$);if(!B.has($)){if(B.add($),DB)if(oH!==null&&sH!==null)tO(sH,oH);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");$.then(O,O)}})}function pL(Y,K,B){oH=B,sH=Y,vW(K,Y),sH=oH=null}function t0(Y,K){var B=K.deletions;if(B!==null)for(var $=0;$<B.length;$++){var O=Y,z=K,I=B[$],Z=z;Y:for(;Z!==null;){switch(Z.tag){case 27:case 5:TK=Z.stateNode,h0=!1;break Y;case 3:TK=Z.stateNode.containerInfo,h0=!0;break Y;case 4:TK=Z.stateNode.containerInfo,h0=!0;break Y}Z=Z.return}if(TK===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");jW(O,z,I),TK=null,h0=!1,O=I,z=O.alternate,z!==null&&(z.return=null),O.return=null}if(K.subtreeFlags&13878)for(K=K.child;K!==null;)vW(K,Y),K=K.sibling}function vW(Y,K){var{alternate:B,flags:$}=Y;switch(Y.tag){case 0:case 11:case 14:case 15:t0(K,Y),e0(Y),$&4&&(IH(J0|GB,Y,Y.return),oO(J0|GB,Y),YP(Y,Y.return,tK|GB));break;case 1:t0(K,Y),e0(Y),$&512&&(xK||B===null||v0(B,B.return)),$&64&&m_&&(Y=Y.updateQueue,Y!==null&&($=Y.callbacks,$!==null&&(B=Y.shared.hiddenCallbacks,Y.shared.hiddenCallbacks=B===null?$:B.concat($))));break;case 26:var O=gB;if(t0(K,Y),e0(Y),$&512&&(xK||B===null||v0(B,B.return)),$&4)if(K=B!==null?B.memoizedState:null,$=Y.memoizedState,B===null)if($===null)if(Y.stateNode===null){Y:{$=Y.type,B=Y.memoizedProps,K=O.ownerDocument||O;K:switch($){case"title":if(O=K.getElementsByTagName("title")[0],!O||O[zX]||O[H0]||O.namespaceURI===VH||O.hasAttribute("itemprop"))O=K.createElement($),K.head.insertBefore(O,K.querySelector("head > title"));oK(O,$,B),O[H0]=Y,FK(O),$=O;break Y;case"link":var z=uN("link","href",K).get($+(B.href||""));if(z){for(var I=0;I<z.length;I++)if(O=z[I],O.getAttribute("href")===(B.href==null?null:B.href)&&O.getAttribute("rel")===(B.rel==null?null:B.rel)&&O.getAttribute("title")===(B.title==null?null:B.title)&&O.getAttribute("crossorigin")===(B.crossOrigin==null?null:B.crossOrigin)){z.splice(I,1);break K}}O=K.createElement($),oK(O,$,B),K.head.appendChild(O);break;case"meta":if(z=uN("meta","content",K).get($+(B.content||""))){for(I=0;I<z.length;I++)if(O=z[I],hY(B.content,"content"),O.getAttribute("content")===(B.content==null?null:""+B.content)&&O.getAttribute("name")===(B.name==null?null:B.name)&&O.getAttribute("property")===(B.property==null?null:B.property)&&O.getAttribute("http-equiv")===(B.httpEquiv==null?null:B.httpEquiv)&&O.getAttribute("charset")===(B.charSet==null?null:B.charSet)){z.splice(I,1);break K}}O=K.createElement($),oK(O,$,B),K.head.appendChild(O);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+$+'". This is a bug in React.')}O[H0]=Y,FK(O),$=O}Y.stateNode=$}else pN(O,Y.type,Y.stateNode);else Y.stateNode=lN(O,$,Y.memoizedProps);else K!==$?(K===null?B.stateNode!==null&&(B=B.stateNode,B.parentNode.removeChild(B)):K.count--,$===null?pN(O,Y.type,Y.stateNode):lN(O,$,Y.memoizedProps)):$===null&&Y.stateNode!==null&&TW(Y,Y.memoizedProps,B.memoizedProps);break;case 27:if($&4&&Y.alternate===null){O=Y.stateNode,z=Y.memoizedProps;try{for(I=O.firstChild;I;){var{nextSibling:Z,nodeName:R}=I;I[zX]||R==="HEAD"||R==="BODY"||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&I.rel.toLowerCase()==="stylesheet"||O.removeChild(I),I=Z}KY(Y,DR,Y.type,z,O,Y)}catch(k){YK(Y,Y.return,k)}}case 5:if(t0(K,Y),e0(Y),$&512&&(xK||B===null||v0(B,B.return)),Y.flags&32){K=Y.stateNode;try{KY(Y,kN,K)}catch(k){YK(Y,Y.return,k)}}$&4&&Y.stateNode!=null&&(K=Y.memoizedProps,TW(Y,K,B!==null?B.memoizedProps:K)),$&1024&&(T4=!0,Y.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(t0(K,Y),e0(Y),$&4){if(Y.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");$=Y.memoizedProps,B=B!==null?B.memoizedProps:$,K=Y.stateNode;try{KY(Y,QR,K,B,$)}catch(k){YK(Y,Y.return,k)}}break;case 3:if(O=x_(),b2=null,z=gB,gB=c8(K.containerInfo),t0(K,Y),gB=z,e0(Y),$&4&&B!==null&&B.memoizedState.isDehydrated)try{KY(Y,VR,K.containerInfo)}catch(k){YK(Y,Y.return,k)}T4&&(T4=!1,fW(Y)),K.effectDuration+=P8(O);break;case 4:$=gB,gB=c8(Y.stateNode.containerInfo),t0(K,Y),e0(Y),gB=$;break;case 12:$=x_(),t0(K,Y),e0(Y),Y.stateNode.effectDuration+=kO($);break;case 13:t0(K,Y),e0(Y),Y.child.flags&8192&&Y.memoizedState!==null!==(B!==null&&B.memoizedState!==null)&&(v4=$_()),$&4&&($=Y.updateQueue,$!==null&&(Y.updateQueue=null,$P(Y,$)));break;case 22:$&512&&(xK||B===null||v0(B,B.return)),I=Y.memoizedState!==null,Z=B!==null&&B.memoizedState!==null,R=m_;var A=xK;if(m_=R||I,xK=A||Z,t0(K,Y),xK=A,m_=R,e0(Y),K=Y.stateNode,K._current=Y,K._visibility&=~q1,K._visibility|=K._pendingVisibility&q1,$&8192&&(K._visibility=I?K._visibility&~qX:K._visibility|qX,I&&(K=m_||xK,B===null||Z||K||WH(Y)),Y.memoizedProps===null||Y.memoizedProps.mode!=="manual"))Y:for(B=null,K=Y;;){if(K.tag===5||K.tag===26||K.tag===27){if(B===null){Z=B=K;try{O=Z.stateNode,I?KY(Z,RR,O):KY(Z,wR,Z.stateNode,Z.memoizedProps)}catch(k){YK(Z,Z.return,k)}}}else if(K.tag===6){if(B===null){Z=K;try{z=Z.stateNode,I?KY(Z,CR,z):KY(Z,AR,z,Z.memoizedProps)}catch(k){YK(Z,Z.return,k)}}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===Y)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break Y;for(;K.sibling===null;){if(K.return===null||K.return===Y)break Y;B===K&&(B=null),K=K.return}B===K&&(B=null),K.sibling.return=K.return,K=K.sibling}$&4&&($=Y.updateQueue,$!==null&&(B=$.retryQueue,B!==null&&($.retryQueue=null,$P(Y,B))));break;case 19:t0(K,Y),e0(Y),$&4&&($=Y.updateQueue,$!==null&&(Y.updateQueue=null,$P(Y,$)));break;case 21:break;default:t0(K,Y),e0(Y)}}function e0(Y){var K=Y.flags;if(K&2){try{KY(Y,cL,Y)}catch(B){YK(Y,Y.return,B)}Y.flags&=-3}K&4096&&(Y.flags&=-4097)}function fW(Y){if(Y.subtreeFlags&1024)for(Y=Y.child;Y!==null;){var K=Y;fW(K),K.tag===5&&K.flags&1024&&K.stateNode.reset(),Y=Y.sibling}}function iL(Y,K,B){oH=B,sH=K,gW(K,Y.alternate,Y),sH=oH=null}function Y_(Y,K){if(K.subtreeFlags&8772)for(K=K.child;K!==null;)gW(Y,K.alternate,K),K=K.sibling}function mW(Y){switch(Y.tag){case 0:case 11:case 14:case 15:YP(Y,Y.return,tK),WH(Y);break;case 1:v0(Y,Y.return);var K=Y.stateNode;typeof K.componentWillUnmount==="function"&&MW(Y,Y.return,K),WH(Y);break;case 26:case 27:case 5:v0(Y,Y.return),WH(Y);break;case 22:v0(Y,Y.return),Y.memoizedState===null&&WH(Y);break;default:WH(Y)}}function WH(Y){for(Y=Y.child;Y!==null;)mW(Y),Y=Y.sibling}function hW(Y,K,B,$){var O=B.flags;switch(B.tag){case 0:case 11:case 15:M_(Y,B,$),VW(B,tK);break;case 1:if(M_(Y,B,$),K=B.stateNode,typeof K.componentDidMount==="function"&&KY(B,q4,B,K),K=B.updateQueue,K!==null){Y=B.stateNode;try{KY(B,vL,K,Y)}catch(z){YK(B,B.return,z)}}$&&O&64&&DW(B),I1(B,B.return);break;case 26:case 27:case 5:M_(Y,B,$),$&&K===null&&O&4&&SW(B),I1(B,B.return);break;case 12:if($&&O&4){O=x_(),M_(Y,B,$),$=B.stateNode,$.effectDuration+=kO(O);try{KY(B,UW,B,K,X2,$.effectDuration)}catch(z){YK(B,B.return,z)}}else M_(Y,B,$);break;case 13:M_(Y,B,$),$&&O&4&&bW(Y,B);break;case 22:B.memoizedState===null&&M_(Y,B,$),I1(B,B.return);break;default:M_(Y,B,$)}}function M_(Y,K,B){B=B&&(K.subtreeFlags&8772)!==0;for(K=K.child;K!==null;)hW(Y,K.alternate,K,B),K=K.sibling}function HP(Y,K){var B=null;Y!==null&&Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(B=Y.memoizedState.cachePool.pool),Y=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(Y=K.memoizedState.cachePool.pool),Y!==B&&(Y!=null&&H1(Y),B!=null&&mO(B))}function OP(Y,K){Y=null,K.alternate!==null&&(Y=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==Y&&(H1(K),Y!=null&&mO(Y))}function Z$(Y,K,B,$){if(K.subtreeFlags&10256)for(K=K.child;K!==null;)dW(Y,K,B,$),K=K.sibling}function dW(Y,K,B,$){var O=K.flags;switch(K.tag){case 0:case 11:case 15:Z$(Y,K,B,$),O&2048&&FW(K,kK|GB);break;case 3:var z=x_();Z$(Y,K,B,$),O&2048&&(B=null,K.alternate!==null&&(B=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==B&&(H1(K),B!=null&&mO(B))),Y.passiveEffectDuration+=P8(z);break;case 12:if(O&2048){z=x_(),Z$(Y,K,B,$),Y=K.stateNode,Y.passiveEffectDuration+=kO(z);try{KY(K,dL,K,K.alternate,X2,Y.passiveEffectDuration)}catch(I){YK(K,K.return,I)}}else Z$(Y,K,B,$);break;case 23:break;case 22:z=K.stateNode,K.memoizedState!==null?z._visibility&g_?Z$(Y,K,B,$):sO(Y,K):z._visibility&g_?Z$(Y,K,B,$):(z._visibility|=g_,NH(Y,K,B,$,(K.subtreeFlags&10256)!==0)),O&2048&&HP(K.alternate,K);break;case 24:Z$(Y,K,B,$),O&2048&&OP(K.alternate,K);break;default:Z$(Y,K,B,$)}}function NH(Y,K,B,$,O){O=O&&(K.subtreeFlags&10256)!==0;for(K=K.child;K!==null;)cW(Y,K,B,$,O),K=K.sibling}function cW(Y,K,B,$,O){var z=K.flags;switch(K.tag){case 0:case 11:case 15:NH(Y,K,B,$,O),FW(K,kK);break;case 23:break;case 22:var I=K.stateNode;K.memoizedState!==null?I._visibility&g_?NH(Y,K,B,$,O):sO(Y,K):(I._visibility|=g_,NH(Y,K,B,$,O)),O&&z&2048&&HP(K.alternate,K);break;case 24:NH(Y,K,B,$,O),O&&z&2048&&OP(K.alternate,K);break;default:NH(Y,K,B,$,O)}}function sO(Y,K){if(K.subtreeFlags&10256)for(K=K.child;K!==null;){var B=Y,$=K,O=$.flags;switch($.tag){case 22:sO(B,$),O&2048&&HP($.alternate,$);break;case 24:sO(B,$),O&2048&&OP($.alternate,$);break;default:sO(B,$)}K=K.sibling}}function ZH(Y){if(Y.subtreeFlags&SX)for(Y=Y.child;Y!==null;)lW(Y),Y=Y.sibling}function lW(Y){switch(Y.tag){case 26:ZH(Y),Y.flags&SX&&Y.memoizedState!==null&&TR(gB,Y.memoizedState,Y.memoizedProps);break;case 5:ZH(Y);break;case 3:case 4:var K=gB;gB=c8(Y.stateNode.containerInfo),ZH(Y),gB=K;break;case 22:Y.memoizedState===null&&(K=Y.alternate,K!==null&&K.memoizedState!==null?(K=SX,SX=16777216,ZH(Y),SX=K):ZH(Y));break;default:ZH(Y)}}function uW(Y){var K=Y.alternate;if(K!==null&&(Y=K.child,Y!==null)){K.child=null;do K=Y.sibling,Y.sibling=null,Y=K;while(Y!==null)}}function aO(Y){var K=Y.deletions;if((Y.flags&16)!==0){if(K!==null)for(var B=0;B<K.length;B++){var $=K[B];uK=$,nW($,Y)}uW(Y)}if(Y.subtreeFlags&10256)for(Y=Y.child;Y!==null;)pW(Y),Y=Y.sibling}function pW(Y){switch(Y.tag){case 0:case 11:case 15:aO(Y),Y.flags&2048&&KP(Y,Y.return,kK|GB);break;case 3:var K=x_();aO(Y),Y.stateNode.passiveEffectDuration+=P8(K);break;case 12:K=x_(),aO(Y),Y.stateNode.passiveEffectDuration+=kO(K);break;case 22:K=Y.stateNode,Y.memoizedState!==null&&K._visibility&g_&&(Y.return===null||Y.return.tag!==13)?(K._visibility&=~g_,k8(Y)):aO(Y);break;default:aO(Y)}}function k8(Y){var K=Y.deletions;if((Y.flags&16)!==0){if(K!==null)for(var B=0;B<K.length;B++){var $=K[B];uK=$,nW($,Y)}uW(Y)}for(Y=Y.child;Y!==null;)iW(Y),Y=Y.sibling}function iW(Y){switch(Y.tag){case 0:case 11:case 15:KP(Y,Y.return,kK),k8(Y);break;case 22:var K=Y.stateNode;K._visibility&g_&&(K._visibility&=~g_,k8(Y));break;default:k8(Y)}}function nW(Y,K){for(;uK!==null;){var B=uK,$=B;switch($.tag){case 0:case 11:case 15:KP($,K,kK);break;case 23:case 22:$.memoizedState!==null&&$.memoizedState.cachePool!==null&&($=$.memoizedState.cachePool.pool,$!=null&&H1($));break;case 24:mO($.memoizedState.cache)}if($=B.child,$!==null)$.return=B,uK=$;else Y:for(B=Y;uK!==null;){$=uK;var{sibling:O,return:z}=$;if(kW($),$===B){uK=null;break Y}if(O!==null){O.return=z,uK=O;break Y}uK=z}}}function nL(Y,K,B,$){this.tag=Y,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=K,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,rZ||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function XP(Y){return Y=Y.prototype,!(!Y||!Y.isReactComponent)}function J$(Y,K){var B=Y.alternate;switch(B===null?(B=q(Y.tag,K,Y.key,Y.mode),B.elementType=Y.elementType,B.type=Y.type,B.stateNode=Y.stateNode,B._debugOwner=Y._debugOwner,B._debugHookTypes=Y._debugHookTypes,B.alternate=Y,Y.alternate=B):(B.pendingProps=K,B.type=Y.type,B.flags=0,B.subtreeFlags=0,B.deletions=null,B.actualDuration=-0,B.actualStartTime=-1.1),B.flags=Y.flags&31457280,B.childLanes=Y.childLanes,B.lanes=Y.lanes,B.child=Y.child,B.memoizedProps=Y.memoizedProps,B.memoizedState=Y.memoizedState,B.updateQueue=Y.updateQueue,K=Y.dependencies,B.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext,_debugThenableState:K._debugThenableState},B.sibling=Y.sibling,B.index=Y.index,B.ref=Y.ref,B.refCleanup=Y.refCleanup,B.selfBaseDuration=Y.selfBaseDuration,B.treeBaseDuration=Y.treeBaseDuration,B._debugInfo=Y._debugInfo,B._debugNeedsRemount=Y._debugNeedsRemount,B.tag){case 0:case 15:B.type=Y1(Y.type);break;case 1:B.type=Y1(Y.type);break;case 11:B.type=e7(Y.type)}return B}function oW(Y,K){Y.flags&=31457282;var B=Y.alternate;return B===null?(Y.childLanes=0,Y.lanes=K,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null,Y.selfBaseDuration=0,Y.treeBaseDuration=0):(Y.childLanes=B.childLanes,Y.lanes=B.lanes,Y.child=B.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=B.memoizedProps,Y.memoizedState=B.memoizedState,Y.updateQueue=B.updateQueue,Y.type=B.type,K=B.dependencies,Y.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext,_debugThenableState:K._debugThenableState},Y.selfBaseDuration=B.selfBaseDuration,Y.treeBaseDuration=B.treeBaseDuration),Y}function zP(Y,K,B,$,O,z){var I=0,Z=Y;if(typeof Y==="function")XP(Y)&&(I=1),Z=Y1(Z);else if(typeof Y==="string")I=R0(),I=UR(Y,B,I)?26:Y==="html"||Y==="head"||Y==="body"?27:5;else Y:switch(Y){case AH:return W1(B.children,O,z,K);case s8:I=8,O|=O0,O|=SB;break;case fP:return Y=B,$=O,typeof Y.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof Y.id),K=q(12,Y,K,$|aK),K.elementType=fP,K.lanes=z,K.stateNode={effectDuration:0,passiveEffectDuration:0},K;case hP:return K=q(13,B,K,O),K.elementType=hP,K.lanes=z,K;case dP:return K=q(19,B,K,O),K.elementType=dP,K.lanes=z,K;case H3:return sW(B,O,z,K);default:if(typeof Y==="object"&&Y!==null)switch(Y.$$typeof){case lR:case __:I=10;break Y;case mP:I=9;break Y;case HX:I=11,Z=e7(Z);break Y;case a8:I=14;break Y;case m0:I=16,Z=null;break Y}if(Z="",Y===void 0||typeof Y==="object"&&Y!==null&&Object.keys(Y).length===0)Z+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";Y===null?B="null":sK(Y)?B="array":Y!==void 0&&Y.$$typeof===q$?(B="<"+(b(Y.type)||"Unknown")+" />",Z=" Did you accidentally export a JSX literal instead of a component?"):B=typeof Y,(I=$?i($):null)&&(Z+=`

Check the render method of \``+I+"`."),I=29,B=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(B+"."+Z)),Z=null}return K=q(I,B,K,O),K.elementType=Y,K.type=Z,K.lanes=z,K._debugOwner=$,K}function j8(Y,K,B){return K=zP(Y.type,Y.key,Y.props,Y._owner,K,B),K._debugOwner=Y._owner,K}function W1(Y,K,B,$){return Y=q(7,Y,$,K),Y.lanes=B,Y}function sW(Y,K,B,$){Y=q(22,Y,$,K),Y.elementType=H3,Y.lanes=B;var O={_visibility:qX,_pendingVisibility:qX,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=O,I=z._current;if(I===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((z._pendingVisibility&q1)===0){var Z=B0(I,2);Z!==null&&(z._pendingVisibility|=q1,CK(Z,I,2))}},attach:function(){var z=O,I=z._current;if(I===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((z._pendingVisibility&q1)!==0){var Z=B0(I,2);Z!==null&&(z._pendingVisibility&=~q1,CK(Z,I,2))}}};return Y.stateNode=O,Y}function PP(Y,K,B){return Y=q(6,Y,null,K),Y.lanes=B,Y}function GP(Y,K,B){return K=q(4,Y.children!==null?Y.children:[],Y.key,K),K.lanes=B,K.stateNode={containerInfo:Y.containerInfo,pendingChildren:null,implementation:Y.implementation},K}function U_(Y){Y.flags|=4}function aW(Y,K){if(K.type!=="stylesheet"||(K.state.loading&WB)!==b1)Y.flags&=-16777217;else if(Y.flags|=16777216,!iN(K)){if(K=zB.current,K!==null&&((yY&4194176)===yY?P_!==null:(yY&62914560)!==yY&&(yY&536870912)===0||K!==P_))throw EX=J4,_Z;Y.flags|=8192}}function b8(Y,K){K!==null&&(Y.flags|=4),Y.flags&16384&&(K=Y.tag!==22?A0():536870912,Y.lanes|=K,U1|=K)}function rO(Y,K){if(!fY)switch(Y.tailMode){case"hidden":K=Y.tail;for(var B=null;K!==null;)K.alternate!==null&&(B=K),K=K.sibling;B===null?Y.tail=null:B.sibling=null;break;case"collapsed":B=Y.tail;for(var $=null;B!==null;)B.alternate!==null&&($=B),B=B.sibling;$===null?K||Y.tail===null?Y.tail=null:Y.tail.sibling=null:$.sibling=null}}function LK(Y){var K=Y.alternate!==null&&Y.alternate.child===Y.child,B=0,$=0;if(K)if((Y.mode&aK)!==PK){for(var{selfBaseDuration:O,child:z}=Y;z!==null;)B|=z.lanes|z.childLanes,$|=z.subtreeFlags&31457280,$|=z.flags&31457280,O+=z.treeBaseDuration,z=z.sibling;Y.treeBaseDuration=O}else for(O=Y.child;O!==null;)B|=O.lanes|O.childLanes,$|=O.subtreeFlags&31457280,$|=O.flags&31457280,O.return=Y,O=O.sibling;else if((Y.mode&aK)!==PK){O=Y.actualDuration,z=Y.selfBaseDuration;for(var I=Y.child;I!==null;)B|=I.lanes|I.childLanes,$|=I.subtreeFlags,$|=I.flags,O+=I.actualDuration,z+=I.treeBaseDuration,I=I.sibling;Y.actualDuration=O,Y.treeBaseDuration=z}else for(O=Y.child;O!==null;)B|=O.lanes|O.childLanes,$|=O.subtreeFlags,$|=O.flags,O.return=Y,O=O.sibling;return Y.subtreeFlags|=$,Y.childLanes=B,K}function oL(Y,K,B){var $=K.pendingProps;switch($6(K),K.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return LK(K),null;case 1:return LK(K),null;case 3:if($=K.stateNode,B=null,Y!==null&&(B=Y.memoizedState.cache),K.memoizedState.cache!==B&&(K.flags|=2048),F_(jK,K),o0(K),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),Y===null||Y.child===null)jO(K)?(C5(),U_(K)):Y===null||Y.memoizedState.isDehydrated&&(K.flags&256)===0||(K.flags|=1024,yB!==null&&(IP(yB),yB=null));return LK(K),null;case 26:return B=K.memoizedState,Y===null?(U_(K),B!==null?(LK(K),aW(K,B)):(LK(K),K.flags&=-16777217)):B?B!==Y.memoizedState?(U_(K),LK(K),aW(K,B)):(LK(K),K.flags&=-16777217):(Y.memoizedProps!==$&&U_(K),LK(K),K.flags&=-16777217),null;case 27:LB(K),B=GK(R$.current);var O=K.type;if(Y!==null&&K.stateNode!=null)Y.memoizedProps!==$&&U_(K);else{if(!$){if(K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return LK(K),null}Y=R0(),jO(K)?L5(K,Y):(Y=mN(O,$,B,Y,!0),K.stateNode=Y,U_(K))}return LK(K),null;case 5:if(LB(K),B=K.type,Y!==null&&K.stateNode!=null)Y.memoizedProps!==$&&U_(K);else{if(!$){if(K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return LK(K),null}if(O=R0(),jO(K))L5(K,O);else{switch(Y=GK(R$.current),o7(B,O.ancestorInfo),O=O.context,Y=d8(Y),O){case KO:Y=Y.createElementNS(VH,B);break;case j2:Y=Y.createElementNS(B2,B);break;default:switch(B){case"svg":Y=Y.createElementNS(VH,B);break;case"math":Y=Y.createElementNS(B2,B);break;case"script":Y=Y.createElement("div"),Y.innerHTML="<script></script>",Y=Y.removeChild(Y.firstChild);break;case"select":Y=typeof $.is==="string"?Y.createElement("select",{is:$.is}):Y.createElement("select"),$.multiple?Y.multiple=!0:$.size&&(Y.size=$.size);break;default:Y=typeof $.is==="string"?Y.createElement(B,{is:$.is}):Y.createElement(B),B.indexOf("-")===-1&&(B!==B.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",B),Object.prototype.toString.call(Y)!=="[object HTMLUnknownElement]"||y_.call(I9,B)||(I9[B]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",B)))}}Y[H0]=K,Y[D0]=$;Y:for(O=K.child;O!==null;){if(O.tag===5||O.tag===6)Y.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===K)break Y;for(;O.sibling===null;){if(O.return===null||O.return===K)break Y;O=O.return}O.sibling.return=O.return,O=O.sibling}K.stateNode=Y;Y:switch(oK(Y,B,$),B){case"button":case"input":case"select":case"textarea":Y=!!$.autoFocus;break Y;case"img":Y=!0;break Y;default:Y=!1}Y&&U_(K)}}return LK(K),K.flags&=-16777217,null;case 6:if(Y&&K.stateNode!=null)Y.memoizedProps!==$&&U_(K);else{if(typeof $!=="string"&&K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(Y=GK(R$.current),B=R0(),jO(K)){Y=K.stateNode,$=K.memoizedProps,O=!b_,B=null;var z=Z0;if(z!==null)switch(z.tag){case 3:O&&(O=bN(Y,$,B),O!==null&&(_1(K,0).serverProps=O));break;case 27:case 5:B=z.memoizedProps,O&&(O=bN(Y,$,B),O!==null&&(_1(K,0).serverProps=O))}Y[H0]=K,Y=Y.nodeValue===$||B!==null&&B.suppressHydrationWarning===!0||FN(Y.nodeValue,$)?!0:!1,Y||$1(K)}else B=B.ancestorInfo.current,B!=null&&B8($,B.tag),Y=d8(Y).createTextNode($),Y[H0]=K,K.stateNode=Y}return LK(K),null;case 13:if($=K.memoizedState,Y===null||Y.memoizedState!==null&&Y.memoizedState.dehydrated!==null){if(O=jO(K),$!==null&&$.dehydrated!==null){if(Y===null){if(!O)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(O=K.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");O[H0]=K,LK(K),(K.mode&aK)!==PK&&$!==null&&(O=K.child,O!==null&&(K.treeBaseDuration-=O.treeBaseDuration))}else C5(),bO(),(K.flags&128)===0&&(K.memoizedState=null),K.flags|=4,LK(K),(K.mode&aK)!==PK&&$!==null&&(O=K.child,O!==null&&(K.treeBaseDuration-=O.treeBaseDuration));O=!1}else yB!==null&&(IP(yB),yB=null),O=!0;if(!O){if(K.flags&256)return E_(K),K;return E_(K),null}}if(E_(K),(K.flags&128)!==0)return K.lanes=B,(K.mode&aK)!==PK&&G8(K),K;return $=$!==null,Y=Y!==null&&Y.memoizedState!==null,$&&(B=K.child,O=null,B.alternate!==null&&B.alternate.memoizedState!==null&&B.alternate.memoizedState.cachePool!==null&&(O=B.alternate.memoizedState.cachePool.pool),z=null,B.memoizedState!==null&&B.memoizedState.cachePool!==null&&(z=B.memoizedState.cachePool.pool),z!==O&&(B.flags|=2048)),$!==Y&&$&&(K.child.flags|=8192),b8(K,K.updateQueue),LK(K),(K.mode&aK)!==PK&&$&&(Y=K.child,Y!==null&&(K.treeBaseDuration-=Y.treeBaseDuration)),null;case 4:return o0(K),Y===null&&wP(K.stateNode.containerInfo),LK(K),null;case 10:return F_(K.type,K),LK(K),null;case 19:if(pY(gK,K),O=K.memoizedState,O===null)return LK(K),null;if($=(K.flags&128)!==0,z=O.rendering,z===null)if($)rO(O,!1);else{if(EK!==d_||Y!==null&&(Y.flags&128)!==0)for(Y=K.child;Y!==null;){if(z=q8(Y),z!==null){K.flags|=128,rO(O,!1),Y=z.updateQueue,K.updateQueue=Y,b8(K,Y),K.subtreeFlags=0,Y=B;for($=K.child;$!==null;)oW($,Y),$=$.sibling;return kY(gK,gK.current&hH|FX,K),K.child}Y=Y.sibling}O.tail!==null&&$_()>A2&&(K.flags|=128,$=!0,rO(O,!1),K.lanes=4194304)}else{if(!$)if(Y=q8(z),Y!==null){if(K.flags|=128,$=!0,Y=Y.updateQueue,K.updateQueue=Y,b8(K,Y),rO(O,!0),O.tail===null&&O.tailMode==="hidden"&&!z.alternate&&!fY)return LK(K),null}else 2*$_()-O.renderingStartTime>A2&&B!==536870912&&(K.flags|=128,$=!0,rO(O,!1),K.lanes=4194304);O.isBackwards?(z.sibling=K.child,K.child=z):(Y=O.last,Y!==null?Y.sibling=z:K.child=z,O.last=z)}if(O.tail!==null)return Y=O.tail,O.rendering=Y,O.tail=Y.sibling,O.renderingStartTime=$_(),Y.sibling=null,B=gK.current,B=$?B&hH|FX:B&hH,kY(gK,B,K),Y;return LK(K),null;case 22:case 23:return E_(K),X6(K),$=K.memoizedState!==null,Y!==null?Y.memoizedState!==null!==$&&(K.flags|=8192):$&&(K.flags|=8192),$?(B&536870912)!==0&&(K.flags&128)===0&&(LK(K),K.subtreeFlags&6&&(K.flags|=8192)):LK(K),$=K.updateQueue,$!==null&&b8(K,$.retryQueue),$=null,Y!==null&&Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&($=Y.memoizedState.cachePool.pool),B=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(B=K.memoizedState.cachePool.pool),B!==$&&(K.flags|=2048),Y!==null&&pY(x1,K),null;case 24:return $=null,Y!==null&&($=Y.memoizedState.cache),K.memoizedState.cache!==$&&(K.flags|=2048),F_(jK,K),LK(K),null;case 25:return null}throw Error("Unknown unit of work tag ("+K.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function sL(Y,K){switch($6(K),K.tag){case 1:return Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==PK&&G8(K),K):null;case 3:return F_(jK,K),o0(K),Y=K.flags,(Y&65536)!==0&&(Y&128)===0?(K.flags=Y&-65537|128,K):null;case 26:case 27:case 5:return LB(K),null;case 13:if(E_(K),Y=K.memoizedState,Y!==null&&Y.dehydrated!==null){if(K.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");bO()}return Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==PK&&G8(K),K):null;case 19:return pY(gK,K),null;case 4:return o0(K),null;case 10:return F_(K.type,K),null;case 22:case 23:return E_(K),X6(K),Y!==null&&pY(x1,K),Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==PK&&G8(K),K):null;case 24:return F_(jK,K),null;case 25:return null;default:return null}}function rW(Y,K){switch($6(K),K.tag){case 3:F_(jK,K),o0(K);break;case 26:case 27:case 5:LB(K);break;case 4:o0(K);break;case 13:E_(K);break;case 19:pY(gK,K);break;case 10:F_(K.type,K);break;case 22:case 23:E_(K),X6(K),Y!==null&&pY(x1,K);break;case 24:F_(jK,K)}}function aL(){Xw.forEach(function(Y){return Y()})}function tW(){var Y=typeof IS_REACT_ACT_ENVIRONMENT!=="undefined"?IS_REACT_ACT_ENVIRONMENT:void 0;return Y||f.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),Y}function f0(Y){if((ZK&q0)!==d0&&yY!==0)return yY&-yY;var K=f.T;return K!==null?(K._updatedFibers||(K._updatedFibers=new Set),K._updatedFibers.add(Y),Y=A1,Y!==0?Y:RP()):ez()}function eW(){l0===0&&(l0=(yY&536870912)===0||fY?wB():536870912);var Y=zB.current;return Y!==null&&(Y.flags|=32),l0}function CK(Y,K,B){if(eH&&console.error("useInsertionEffect must not schedule updates."),d4&&(E2=!0),Y===OK&&XK===M1||Y.cancelPendingCommit!==null)QH(Y,0),S_(Y,yY,l0,!1);if(hK(Y,B),(ZK&q0)!==0&&Y===OK){if(BB)switch(K.tag){case 0:case 11:case 15:Y=UY&&u(UY)||"Unknown",H9.has(Y)||(H9.add(Y),K=u(K)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",K,Y,Y));break;case 1:$9||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),$9=!0)}}else DB&&FO(Y,K,B),XR(K),Y===OK&&((ZK&q0)===d0&&(S$|=B),EK===D1&&S_(Y,yY,l0,!1)),K_(Y)}function YN(Y,K,B){if((ZK&(q0|h_))!==d0)throw Error("Should not already be working.");var $=!B&&(K&60)===0&&(K&Y.expiredLanes)===0||HK(Y,K),O=$?tL(Y,K):ZP(Y,K,!0),z=$;do{if(O===d_){tH&&!$&&S_(Y,K,0,!1);break}else if(O===C2)S_(Y,K,0,!c_);else{if(B=Y.current.alternate,z&&!rL(B)){O=ZP(Y,K,!1),z=!1;continue}if(O===aH){if(z=K,Y.errorRecoveryDisabledLanes&z)var I=0;else I=Y.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){K=I;Y:{O=Y;var Z=I;I=bX;var R=O.current.memoizedState.isDehydrated;if(R&&(QH(O,Z).flags|=256),Z=ZP(O,Z,!1),Z!==aH){if(j4&&!R){O.errorRecoveryDisabledLanes|=z,S$|=z,O=D1;break Y}O=kB,kB=I,O!==null&&IP(O)}O=Z}if(z=!1,O!==aH)continue}}if(O===yX){QH(Y,0),S_(Y,K,0,!0);break}Y:{switch($=Y,O){case d_:case yX:throw Error("Root did not complete. This is a bug in React.");case D1:if((K&4194176)===K){S_($,K,l0,!c_);break Y}break;case aH:kB=null;break;case y4:case eZ:break;default:throw Error("Unknown root exit status.")}if($.finishedWork=B,$.finishedLanes=K,f.actQueue!==null)JP($,kB,vX,w2,l0,S$,U1,_9,W4,0);else{if((K&62914560)===K&&(O=v4+K9-$_(),10<O)){if(S_($,K,l0,!c_),k0($,0)!==0)break Y;$.timeoutHandle=W9(KN.bind(null,$,B,kB,vX,w2,K,l0,S$,U1,c_,Ww,W4,0),O);break Y}KN($,B,kB,vX,w2,K,l0,S$,U1,c_,_9,W4,0)}}}break}while(1);K_(Y)}function IP(Y){kB===null?kB=Y:kB.push.apply(kB,Y)}function KN(Y,K,B,$,O,z,I,Z,R,A,k,c,j){var p=K.subtreeFlags;if(p&8192||(p&16785408)===16785408){if(lX={stylesheets:null,count:0,unsuspend:SR},lW(K),K=yR(),K!==null){Y.cancelPendingCommit=K(JP.bind(null,Y,B,$,O,I,Z,R,Iw,c,j)),S_(Y,z,I,!A);return}}JP(Y,B,$,O,I,Z,R,k,c,j)}function rL(Y){for(var K=Y;;){var B=K.tag;if((B===0||B===11||B===15)&&K.flags&16384&&(B=K.updateQueue,B!==null&&(B=B.stores,B!==null)))for(var $=0;$<B.length;$++){var O=B[$],z=O.getSnapshot;O=O.value;try{if(!N0(z(),O))return!1}catch(I){return!1}}if(B=K.child,K.subtreeFlags&16384&&B!==null)B.return=K,K=B;else{if(K===Y)break;for(;K.sibling===null;){if(K.return===null||K.return===Y)return!0;K=K.return}K.sibling.return=K.return,K=K.sibling}}return!0}function S_(Y,K,B,$){K&=~b4,K&=~S$,Y.suspendedLanes|=K,Y.pingedLanes&=~K,$&&(Y.warmLanes|=K),$=Y.expirationTimes;for(var O=K;0<O;){var z=31-I0(O),I=1<<z;$[z]=-1,O&=~I}B!==0&&VO(Y,B,K)}function JH(){return(ZK&(q0|h_))===d0?(eO(0,!1),!1):!0}function WP(){if(UY!==null){if(XK===S0)var Y=UY.return;else Y=UY,U8(),J6(Y),fH=null,VX=0,Y=UY;for(;Y!==null;)rW(Y.alternate,Y),Y=Y.return;UY=null}}function QH(Y,K){Y.finishedWork=null,Y.finishedLanes=0;var B=Y.timeoutHandle;B!==t4&&(Y.timeoutHandle=t4,Cw(B)),B=Y.cancelPendingCommit,B!==null&&(Y.cancelPendingCommit=null,B()),WP(),OK=Y,UY=B=J$(Y.current,null),yY=K,XK=S0,c0=null,c_=!1,tH=HK(Y,K),j4=!1,EK=d_,U1=l0=b4=S$=U$=0,kB=bX=null,w2=!1,(K&8)!==0&&(K|=K&32);var $=Y.entangledLanes;if($!==0)for(Y=Y.entanglements,$&=K;0<$;){var O=31-I0($),z=1<<O;K|=Y[O],$&=~z}return I_=K,O8(),TB.discardPendingWarnings(),B}function BN(Y,K){qY=null,f.H=G_,f.getCurrentStack=null,BB=!1,_0=null,K===N2?(K=E5(),XK=kX):K===_Z?(K=E5(),XK=Y9):XK=K===bZ?k4:K!==null&&typeof K==="object"&&typeof K.then==="function"?rH:gX,c0=K;var B=UY;if(B===null)EK=yX,M8(Y,b0(K,Y.current));else switch(B.mode&aK&&B6(B),BY(),XK){case gX:YY!==null&&typeof YY.markComponentErrored==="function"&&YY.markComponentErrored(B,K,yY);break;case M1:case kX:case rH:case jX:YY!==null&&typeof YY.markComponentSuspended==="function"&&YY.markComponentSuspended(B,K,yY)}}function _N(){var Y=f.H;return f.H=G_,Y===null?G_:Y}function $N(){var Y=f.A;return f.A=Ow,Y}function NP(){EK=D1,c_||(yY&4194176)!==yY&&zB.current!==null||(tH=!0),(U$&134217727)===0&&(S$&134217727)===0||OK===null||S_(OK,yY,l0,!1)}function ZP(Y,K,B){var $=ZK;ZK|=q0;var O=_N(),z=$N();if(OK!==Y||yY!==K){if(DB){var I=Y.memoizedUpdaters;0<I.size&&(tO(Y,yY),I.clear()),YH(Y,K)}vX=null,QH(Y,K)}_Y(K),K=!1,I=EK;Y:do try{if(XK!==S0&&UY!==null){var Z=UY,R=c0;switch(XK){case k4:WP(),I=C2;break Y;case kX:case M1:case rH:zB.current===null&&(K=!0);var A=XK;if(XK=S0,c0=null,qH(Y,Z,R,A),B&&tH){I=d_;break Y}break;default:A=XK,XK=S0,c0=null,qH(Y,Z,R,A)}}HN(),I=EK;break}catch(k){BN(Y,k)}while(1);return K&&Y.shellSuspendCounter++,U8(),ZK=$,f.H=O,f.A=z,jY(),UY===null&&(OK=null,yY=0,O8()),I}function HN(){for(;UY!==null;)ON(UY)}function tL(Y,K){var B=ZK;ZK|=q0;var $=_N(),O=$N();if(OK!==Y||yY!==K){if(DB){var z=Y.memoizedUpdaters;0<z.size&&(tO(Y,yY),z.clear()),YH(Y,K)}vX=null,A2=$_()+B9,QH(Y,K)}else tH=HK(Y,K);_Y(K);Y:do try{if(XK!==S0&&UY!==null)K:switch(K=UY,z=c0,XK){case gX:XK=S0,c0=null,qH(Y,K,z,gX);break;case M1:if(A5(z)){XK=S0,c0=null,XN(K);break}K=function(){XK===M1&&OK===Y&&(XK=jX),K_(Y)},z.then(K,K);break Y;case kX:XK=jX;break Y;case Y9:XK=g4;break Y;case jX:A5(z)?(XK=S0,c0=null,XN(K)):(XK=S0,c0=null,qH(Y,K,z,jX));break;case g4:var I=null;switch(UY.tag){case 26:I=UY.memoizedState;case 5:case 27:var Z=UY;if(I?iN(I):1){XK=S0,c0=null;var R=Z.sibling;if(R!==null)UY=R;else{var A=Z.return;A!==null?(UY=A,v8(A)):UY=null}break K}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}XK=S0,c0=null,qH(Y,K,z,g4);break;case rH:XK=S0,c0=null,qH(Y,K,z,rH);break;case k4:WP(),EK=C2;break Y;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}f.actQueue!==null?HN():eL();break}catch(k){BN(Y,k)}while(1);if(U8(),f.H=$,f.A=O,ZK=B,UY!==null)return YY!==null&&typeof YY.markRenderYielded==="function"&&YY.markRenderYielded(),d_;return jY(),OK=null,yY=0,O8(),EK}function eL(){for(;UY!==null&&!oR();)ON(UY)}function ON(Y){var K=Y.alternate;(Y.mode&aK)!==PK?(K6(Y),K=KY(Y,s6,K,Y,I_),B6(Y)):K=KY(Y,s6,K,Y,I_),Y.memoizedProps=Y.pendingProps,K===null?v8(Y):UY=K}function XN(Y){var K=KY(Y,YR,Y);Y.memoizedProps=Y.pendingProps,K===null?v8(Y):UY=K}function YR(Y){var K=Y.alternate,B=(Y.mode&aK)!==PK;switch(B&&K6(Y),Y.tag){case 15:case 0:K=JW(K,Y,Y.pendingProps,Y.type,void 0,yY);break;case 11:K=JW(K,Y,Y.pendingProps,Y.type.render,Y.ref,yY);break;case 5:J6(Y);default:rW(K,Y),Y=UY=oW(Y,I_),K=s6(K,Y,I_)}return B&&B6(Y),K}function qH(Y,K,B,$){U8(),J6(K),fH=null,VX=0;var O=K.return;try{if(jL(Y,O,K,B,yY)){EK=yX,M8(Y,b0(B,Y.current)),UY=null;return}}catch(z){if(O!==null)throw UY=O,z;EK=yX,M8(Y,b0(B,Y.current)),UY=null;return}if(K.flags&32768){if(fY||$===gX)Y=!0;else if(tH||(yY&536870912)!==0)Y=!1;else if(c_=Y=!0,$===M1||$===kX||$===rH)$=zB.current,$!==null&&$.tag===13&&($.flags|=16384);zN(K,Y)}else v8(K)}function v8(Y){var K=Y;do{if((K.flags&32768)!==0){zN(K,c_);return}var B=K.alternate;if(Y=K.return,K6(K),B=KY(K,oL,B,K,I_),(K.mode&aK)!==PK&&Q5(K),B!==null){UY=B;return}if(K=K.sibling,K!==null){UY=K;return}UY=K=Y}while(K!==null);EK===d_&&(EK=eZ)}function zN(Y,K){do{var B=sL(Y.alternate,Y);if(B!==null){B.flags&=32767,UY=B;return}if((Y.mode&aK)!==PK){Q5(Y),B=Y.actualDuration;for(var $=Y.child;$!==null;)B+=$.actualDuration,$=$.sibling;Y.actualDuration=B}if(B=Y.return,B!==null&&(B.flags|=32768,B.subtreeFlags=0,B.deletions=null),!K&&(Y=Y.sibling,Y!==null)){UY=Y;return}UY=Y=B}while(Y!==null);EK=C2,UY=null}function JP(Y,K,B,$,O,z,I,Z,R,A){var k=f.T,c=NK.p;try{NK.p=MB,f.T=null,KR(Y,K,B,$,c,O,z,I,Z,R,A)}finally{f.T=k,NK.p=c}}function KR(Y,K,B,$,O,z,I,Z){do N1();while(S1!==null);if(TB.flushLegacyContextWarning(),TB.flushPendingUnsafeLifecycleWarnings(),(ZK&(q0|h_))!==d0)throw Error("Should not already be working.");var R=Y.finishedWork;if($=Y.finishedLanes,YY!==null&&typeof YY.markCommitStarted==="function"&&YY.markCommitStarted($),R===null)return H$(),null;if($===0&&console.error("root.finishedLanes should not be empty during a commit. This is a bug in React."),Y.finishedWork=null,Y.finishedLanes=0,R===Y.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");Y.callbackNode=null,Y.callbackPriority=0,Y.cancelPendingCommit=null;var A=R.lanes|R.childLanes;if(A|=I4,tz(Y,$,A,z,I,Z),Y===OK&&(UY=OK=null,yY=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||x2||(x2=!0,f4=A,m4=B,OR(xH,function(){return N1(!0),null})),X2=jH(),B=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||B?(B=f.T,f.T=null,z=NK.p,NK.p=MB,I=ZK,ZK|=h_,lL(Y,R),pL(Y,R,$),DL(a4,Y.containerInfo),m2=!!s4,a4=s4=null,Y.current=R,YY!==null&&typeof YY.markLayoutEffectsStarted==="function"&&YY.markLayoutEffectsStarted($),iL(R,Y,$),YY!==null&&typeof YY.markLayoutEffectsStopped==="function"&&YY.markLayoutEffectsStopped(),sR(),ZK=I,NK.p=z,f.T=B):Y.current=R,(B=x2)?(x2=!1,S1=Y,fX=$):(PN(Y,A),T1=0,hX=null),A=Y.pendingLanes,A===0&&(T$=null),B||NN(Y),t1(R.stateNode,O),DB&&Y.memoizedUpdaters.clear(),aL(),K_(Y),K!==null)for(O=Y.onRecoverableError,R=0;R<K.length;R++)A=K[R],B=BR(A.stack),KY(A.source,O,A.value,B);return(fX&3)!==0&&N1(),A=Y.pendingLanes,($&4194218)!==0&&(A&42)!==0?(P2=!0,Y===h4?mX++:(mX=0,h4=Y)):mX=0,eO(0,!1),H$(),null}function BR(Y){return Y={componentStack:Y},Object.defineProperty(Y,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),Y}function PN(Y,K){(Y.pooledCacheLanes&=K)===0&&(K=Y.pooledCache,K!=null&&(Y.pooledCache=null,mO(K)))}function N1(){if(S1!==null){var Y=S1,K=f4;f4=0;var B=KH(fX),$=O_===0||O_>B?O_:B;B=f.T;var O=NK.p;try{if(NK.p=$,f.T=null,S1===null)var z=!1;else{$=m4,m4=null;var I=S1,Z=fX;if(S1=null,fX=0,(ZK&(q0|h_))!==d0)throw Error("Cannot flush passive effects while already rendering.");d4=!0,E2=!1,YY!==null&&typeof YY.markPassiveEffectsStarted==="function"&&YY.markPassiveEffectsStarted(Z);var R=ZK;if(ZK|=h_,pW(I.current),dW(I,I.current,Z,$),YY!==null&&typeof YY.markPassiveEffectsStopped==="function"&&YY.markPassiveEffectsStopped(),NN(I),ZK=R,eO(0,!1),E2?I===hX?T1++:(T1=0,hX=I):T1=0,E2=d4=!1,$0&&typeof $0.onPostCommitFiberRoot==="function")try{$0.onPostCommitFiberRoot(EH,I)}catch(k){H_||(H_=!0,console.error("React instrumentation encountered an error: %s",k))}var A=I.current.stateNode;A.effectDuration=0,A.passiveEffectDuration=0,z=!0}return z}finally{NK.p=O,f.T=B,PN(Y,K)}}return!1}function GN(Y,K,B){K=b0(B,K),K=v6(Y.stateNode,K,2),Y=N$(Y,K,2),Y!==null&&(hK(Y,2),K_(Y))}function YK(Y,K,B){if(eH=!1,Y.tag===3)GN(Y,Y,B);else{for(;K!==null;){if(K.tag===3){GN(K,Y,B);return}if(K.tag===1){var $=K.stateNode;if(typeof K.type.getDerivedStateFromError==="function"||typeof $.componentDidCatch==="function"&&(T$===null||!T$.has($))){Y=b0(B,Y),B=f6(2),$=N$(K,B,2),$!==null&&(m6(B,$,K,Y),hK($,2),K_($));return}}K=K.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,B)}}function QP(Y,K,B){var $=Y.pingCache;if($===null){$=Y.pingCache=new zw;var O=new Set;$.set(K,O)}else O=$.get(K),O===void 0&&(O=new Set,$.set(K,O));O.has(B)||(j4=!0,O.add(B),$=_R.bind(null,Y,K,B),DB&&tO(Y,B),K.then($,$))}function _R(Y,K,B){var $=Y.pingCache;$!==null&&$.delete(K),Y.pingedLanes|=Y.suspendedLanes&B,Y.warmLanes&=~B,tW()&&f.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),OK===Y&&(yY&B)===B&&(EK===D1||EK===y4&&(yY&62914560)===yY&&$_()-v4<K9?(ZK&q0)===d0&&QH(Y,0):b4|=B,U1===yY&&(U1=0)),K_(Y)}function IN(Y,K){K===0&&(K=A0()),Y=B0(Y,K),Y!==null&&(hK(Y,K),K_(Y))}function $R(Y){var K=Y.memoizedState,B=0;K!==null&&(B=K.retryLane),IN(Y,B)}function HR(Y,K){var B=0;switch(Y.tag){case 13:var{stateNode:$,memoizedState:O}=Y;O!==null&&(B=O.retryLane);break;case 19:$=Y.stateNode;break;case 22:$=Y.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}$!==null&&$.delete(K),IN(Y,B)}function qP(Y,K,B){if((K.subtreeFlags&33562624)!==0)for(K=K.child;K!==null;){var $=Y,O=K,z=O.type===s8;z=B||z,O.tag!==22?O.flags&33554432?z&&KY(O,WN,$,O,(O.mode&KZ)===PK):qP($,O,z):O.memoizedState===null&&(z&&O.flags&8192?KY(O,WN,$,O):O.subtreeFlags&33554432&&KY(O,qP,$,O,z)),K=K.sibling}}function WN(Y,K){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;sY(!0);try{mW(K),B&&iW(K),hW(Y,K.alternate,K,!1),B&&cW(Y,K,0,null,!1)}finally{sY(!1)}}function NN(Y){var K=!0;Y.current.mode&(O0|SB)||(K=!1),qP(Y,Y.current,K)}function ZN(Y){if((ZK&q0)===d0){var K=Y.tag;if(K===3||K===1||K===0||K===11||K===14||K===15){if(K=u(Y)||"ReactComponent",V2!==null){if(V2.has(K))return;V2.add(K)}else V2=new Set([K]);KY(Y,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function tO(Y,K){DB&&Y.memoizedUpdaters.forEach(function(B){FO(Y,B,K)})}function OR(Y,K){var B=f.actQueue;return B!==null?(B.push(K),Nw):nP(Y,K)}function XR(Y){tW()&&f.actQueue===null&&KY(Y,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,u(Y))})}function K_(Y){Y!==YO&&Y.next===null&&(YO===null?F2=YO=Y:YO=YO.next=Y),D2=!0,f.actQueue!==null?l4||(l4=!0,RN(JN)):c4||(c4=!0,RN(JN))}function eO(Y,K){if(!u4&&D2){u4=!0;do{var B=!1;for(var $=F2;$!==null;){if(!K)if(Y!==0){var O=$.pendingLanes;if(O===0)var z=0;else{var{suspendedLanes:I,pingedLanes:Z}=$;z=(1<<31-I0(42|Y)+1)-1,z&=O&~(I&~Z),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(B=!0,LN($,z))}else z=yY,z=k0($,$===OK?z:0),(z&3)===0||HK($,z)||(B=!0,LN($,z));$=$.next}}while(B);u4=!1}}function JN(){D2=l4=c4=!1;var Y=0;y1!==0&&(WR()&&(Y=y1),y1=0);for(var K=$_(),B=null,$=F2;$!==null;){var O=$.next,z=QN($,K);if(z===0)$.next=null,B===null?F2=O:B.next=O,O===null&&(YO=B);else if(B=$,Y!==0||(z&3)!==0)D2=!0;$=O}eO(Y,!1)}function QN(Y,K){for(var{suspendedLanes:B,pingedLanes:$,expirationTimes:O}=Y,z=Y.pendingLanes&-62914561;0<z;){var I=31-I0(z),Z=1<<I,R=O[I];if(R===-1){if((Z&B)===0||(Z&$)!==0)O[I]=a0(Z,K)}else R<=K&&(Y.expiredLanes|=Z);z&=~Z}if(K=OK,B=yY,B=k0(Y,Y===K?B:0),$=Y.callbackNode,B===0||Y===K&&XK===M1||Y.cancelPendingCommit!==null)return $!==null&&LP($),Y.callbackNode=null,Y.callbackPriority=0;if((B&3)===0||HK(Y,B)){if(K=B&-B,K!==Y.callbackPriority||f.actQueue!==null&&$!==p4)LP($);else return K;switch(KH(B)){case MB:case UB:B=sP;break;case O_:B=xH;break;case Y2:B=aP;break;default:B=xH}return $=qN.bind(null,Y),f.actQueue!==null?(f.actQueue.push($),B=p4):B=nP(B,$),Y.callbackPriority=K,Y.callbackNode=B,K}return $!==null&&LP($),Y.callbackPriority=2,Y.callbackNode=null,2}function qN(Y,K){P2=z2=!1;var B=Y.callbackNode;if(N1()&&Y.callbackNode!==B)return null;var $=yY;if($=k0(Y,Y===OK?$:0),$===0)return null;return YN(Y,$,K),QN(Y,$_()),Y.callbackNode!=null&&Y.callbackNode===B?qN.bind(null,Y):null}function LN(Y,K){if(N1())return null;z2=P2,P2=!1,YN(Y,K,!0)}function LP(Y){Y!==p4&&Y!==null&&nR(Y)}function RN(Y){f.actQueue!==null&&f.actQueue.push(function(){return Y(),null}),ww(function(){(ZK&(q0|h_))!==d0?nP(oP,Y):Y()})}function RP(){return y1===0&&(y1=wB()),y1}function CN(Y){if(Y==null||typeof Y==="symbol"||typeof Y==="boolean")return null;if(typeof Y==="function")return Y;return hY(Y,"action"),TO(""+Y)}function wN(Y,K){var B=K.ownerDocument.createElement("input");return B.name=K.name,B.value=K.value,Y.id&&B.setAttribute("form",Y.id),K.parentNode.insertBefore(B,K),Y=new FormData(Y),B.parentNode.removeChild(B),Y}function zR(Y,K,B,$,O){if(K==="submit"&&B&&B.stateNode===O){var z=CN((O[D0]||null).action),I=$.submitter;I&&(K=(K=I[D0]||null)?CN(K.formAction):I.getAttribute("formAction"),K!==null&&(z=K,I=null));var Z=new H2("action","action",null,$,O);Y.push({event:Z,listeners:[{instance:null,listener:function(){if($.defaultPrevented){if(y1!==0){var R=I?wN(O,I):new FormData(O),A={pending:!0,data:R,method:O.method,action:z};Object.freeze(A),S6(B,A,null,R)}}else typeof z==="function"&&(Z.preventDefault(),R=I?wN(O,I):new FormData(O),A={pending:!0,data:R,method:O.method,action:z},Object.freeze(A),S6(B,A,z,R))},currentTarget:O}]})}}function AN(Y,K){K=(K&4)!==0;for(var B=0;B<Y.length;B++){var $=Y[B];Y:{var O=void 0,z=$.event;if($=$.listeners,K)for(var I=$.length-1;0<=I;I--){var Z=$[I],R=Z.instance,A=Z.currentTarget;if(Z=Z.listener,R!==O&&z.isPropagationStopped())break Y;O=z,O.currentTarget=A;try{Z(O)}catch(k){L2(k)}O.currentTarget=null,O=R}else for(I=0;I<$.length;I++){if(Z=$[I],R=Z.instance,A=Z.currentTarget,Z=Z.listener,R!==O&&z.isPropagationStopped())break Y;O=z,O.currentTarget=A;try{Z(O)}catch(k){L2(k)}O.currentTarget=null,O=R}}}}function vY(Y,K){i4.has(Y)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',Y);var B=K[rP];B===void 0&&(B=K[rP]=new Set);var $=Y+"__bubble";B.has($)||(xN(K,Y,2,!1),B.add($))}function CP(Y,K,B){i4.has(Y)&&!K&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',Y);var $=0;K&&($|=4),xN(B,Y,$,K)}function wP(Y){if(!Y[M2]){Y[M2]=!0,Q3.forEach(function(B){B!=="selectionchange"&&(i4.has(B)||CP(B,!1,Y),CP(B,!0,Y))});var K=Y.nodeType===9?Y:Y.ownerDocument;K===null||K[M2]||(K[M2]=!0,CP("selectionchange",!1,K))}}function xN(Y,K,B,$){switch(eN(K)){case MB:var O=fR;break;case UB:O=mR;break;default:O=kP}B=O.bind(null,K,B,Y),O=void 0,!B4||K!=="touchstart"&&K!=="touchmove"&&K!=="wheel"||(O=!0),$?O!==void 0?Y.addEventListener(K,B,{capture:!0,passive:O}):Y.addEventListener(K,B,!0):O!==void 0?Y.addEventListener(K,B,{passive:O}):Y.addEventListener(K,B,!1)}function AP(Y,K,B,$,O){var z=$;if((K&1)===0&&(K&2)===0&&$!==null)Y:for(;;){if($===null)return;var I=$.tag;if(I===3||I===4){var Z=$.stateNode.containerInfo;if(Z===O||Z.nodeType===8&&Z.parentNode===O)break;if(I===4)for(I=$.return;I!==null;){var R=I.tag;if(R===3||R===4){if(R=I.stateNode.containerInfo,R===O||R.nodeType===8&&R.parentNode===O)return}I=I.return}for(;Z!==null;){if(I=nB(Z),I===null)return;if(R=I.tag,R===5||R===6||R===26||R===27){$=z=I;continue Y}Z=Z.parentNode}}$=$.return}tI(function(){var A=z,k=s7(B),c=[];Y:{var j=e3.get(Y);if(j!==void 0){var p=H2,PY=Y;switch(Y){case"keypress":if(_8(B)===0)break Y;case"keydown":case"keyup":p=kC;break;case"focusin":PY="focus",p=O4;break;case"focusout":PY="blur",p=O4;break;case"beforeblur":case"afterblur":p=O4;break;case"click":if(B.button===2)break Y;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=m3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=vC;break;case s3:case a3:case r3:p=VC;break;case t3:p=mC;break;case"scroll":case"scrollend":p=CC;break;case"wheel":p=dC;break;case"copy":case"cut":case"paste":p=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=d3;break;case"toggle":case"beforetoggle":p=lC}var xY=(K&4)!==0,MK=!xY&&(Y==="scroll"||Y==="scrollend"),iY=xY?j!==null?j+"Capture":null:j;xY=[];for(var E=A,x;E!==null;){var D=E;if(x=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||x===null||iY===null||(D=yO(E,iY),D!=null&&xY.push(YX(E,D,x))),MK)break;E=E.return}0<xY.length&&(j=new p(j,PY,null,B,k),c.push({event:j,listeners:xY}))}}if((K&7)===0){Y:{if(j=Y==="mouseover"||Y==="pointerover",p=Y==="mouseout"||Y==="pointerout",j&&B!==PX&&(PY=B.relatedTarget||B.fromElement)&&(nB(PY)||PY[Z1]))break Y;if(p||j){if(j=k.window===k?k:(j=k.ownerDocument)?j.defaultView||j.parentWindow:window,p){if(PY=B.relatedTarget||B.toElement,p=A,PY=PY?nB(PY):null,PY!==null&&(MK=e(PY),xY=PY.tag,PY!==MK||xY!==5&&xY!==27&&xY!==6))PY=null}else p=null,PY=A;if(p!==PY){if(xY=m3,D="onMouseLeave",iY="onMouseEnter",E="mouse",Y==="pointerout"||Y==="pointerover")xY=d3,D="onPointerLeave",iY="onPointerEnter",E="pointer";if(MK=p==null?j:O$(p),x=PY==null?j:O$(PY),j=new xY(D,E+"leave",p,B,k),j.target=MK,j.relatedTarget=x,D=null,nB(k)===A&&(xY=new xY(iY,E+"enter",PY,B,k),xY.target=x,xY.relatedTarget=MK,D=xY),MK=D,p&&PY)K:{xY=p,iY=PY,E=0;for(x=xY;x;x=LH(x))E++;x=0;for(D=iY;D;D=LH(D))x++;for(;0<E-x;)xY=LH(xY),E--;for(;0<x-E;)iY=LH(iY),x--;for(;E--;){if(xY===iY||iY!==null&&xY===iY.alternate)break K;xY=LH(xY),iY=LH(iY)}xY=null}else xY=null;p!==null&&EN(c,j,p,xY,!1),PY!==null&&MK!==null&&EN(c,MK,PY,xY,!0)}}}Y:{if(j=A?O$(A):window,p=j.nodeName&&j.nodeName.toLowerCase(),p==="select"||p==="input"&&j.type==="file")var h=H5;else if(_5(j))if(n3)h=VL;else{h=xL;var t=AL}else p=j.nodeName,!p||p.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?A&&SO(A.elementType)&&(h=H5):h=EL;if(h&&(h=h(Y,A))){$5(c,h,B,k);break Y}t&&t(Y,j,A),Y==="focusout"&&A&&j.type==="number"&&A.memoizedProps.value!=null&&x0(j,"number",j.value)}switch(t=A?O$(A):window,Y){case"focusin":if(_5(t)||t.contentEditable==="true")TH=t,z4=A,QX=null;break;case"focusout":QX=z4=TH=null;break;case"mousedown":P4=!0;break;case"contextmenu":case"mouseup":case"dragend":P4=!1,W5(c,B,k);break;case"selectionchange":if(nC)break;case"keydown":case"keyup":W5(c,B,k)}var wY;if(X4)Y:{switch(Y){case"compositionstart":var XY="onCompositionStart";break Y;case"compositionend":XY="onCompositionEnd";break Y;case"compositionupdate":XY="onCompositionUpdate";break Y}XY=void 0}else SH?K5(Y,B)&&(XY="onCompositionEnd"):Y==="keydown"&&B.keyCode===c3&&(XY="onCompositionStart");if(XY&&(l3&&B.locale!=="ko"&&(SH||XY!=="onCompositionStart"?XY==="onCompositionEnd"&&SH&&(wY=eI()):(w$=k,_4=("value"in w$)?w$.value:w$.textContent,SH=!0)),t=f8(A,XY),0<t.length&&(XY=new h3(XY,Y,null,B,k),c.push({event:XY,listeners:t}),wY?XY.data=wY:(wY=B5(B),wY!==null&&(XY.data=wY)))),wY=pC?LL(Y,B):RL(Y,B))XY=f8(A,"onBeforeInput"),0<XY.length&&(t=new UC("onBeforeInput","beforeinput",null,B,k),c.push({event:t,listeners:XY}),t.data=wY);zR(c,Y,A,B,k)}AN(c,K)})}function YX(Y,K,B){return{instance:Y,listener:K,currentTarget:B}}function f8(Y,K){for(var B=K+"Capture",$=[];Y!==null;){var O=Y,z=O.stateNode;O=O.tag,O!==5&&O!==26&&O!==27||z===null||(O=yO(Y,B),O!=null&&$.unshift(YX(Y,O,z)),O=yO(Y,K),O!=null&&$.push(YX(Y,O,z))),Y=Y.return}return $}function LH(Y){if(Y===null)return null;do Y=Y.return;while(Y&&Y.tag!==5&&Y.tag!==27);return Y?Y:null}function EN(Y,K,B,$,O){for(var z=K._reactName,I=[];B!==null&&B!==$;){var Z=B,R=Z.alternate,A=Z.stateNode;if(Z=Z.tag,R!==null&&R===$)break;Z!==5&&Z!==26&&Z!==27||A===null||(R=A,O?(A=yO(B,z),A!=null&&I.unshift(YX(B,A,R))):O||(A=yO(B,z),A!=null&&I.push(YX(B,A,R)))),B=B.return}I.length!==0&&Y.push({event:K,listeners:I})}function xP(Y,K){ZL(Y,K),Y!=="input"&&Y!=="textarea"&&Y!=="select"||K==null||K.value!==null||v3||(v3=!0,Y==="select"&&K.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",Y):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",Y));var B={registrationNameDependencies:J1,possibleRegistrationNames:tP};SO(Y)||typeof K.is==="string"||QL(Y,K,B),K.contentEditable&&!K.suppressContentEditableWarning&&K.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function cK(Y,K,B,$){K!==B&&(B=Q$(B),Q$(K)!==B&&($[Y]=K))}function PR(Y,K,B){K.forEach(function($){B[DN($)]=$==="style"?VP(Y):Y.getAttribute($)})}function B_(Y,K){K===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",Y,Y,Y):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",Y,typeof K)}function VN(Y,K){return Y=Y.namespaceURI===B2||Y.namespaceURI===VH?Y.ownerDocument.createElementNS(Y.namespaceURI,Y.tagName):Y.ownerDocument.createElement(Y.tagName),Y.innerHTML=K,Y.innerHTML}function Q$(Y){return RB(Y)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",s0(Y)),C0(Y)),(typeof Y==="string"?Y:""+Y).replace(Jw,`
`).replace(Qw,"")}function FN(Y,K){return K=Q$(K),Q$(Y)===K?!0:!1}function m8(){}function KK(Y,K,B,$,O,z){switch(B){case"children":if(typeof $==="string")B8($,K),K==="body"||K==="textarea"&&$===""||UO(Y,$);else if(typeof $==="number"||typeof $==="bigint")B8(""+$,K),K!=="body"&&UO(Y,""+$);break;case"className":J(Y,"class",$);break;case"tabIndex":J(Y,"tabindex",$);break;case"dir":case"role":case"viewBox":case"width":case"height":J(Y,B,$);break;case"style":sI(Y,$,z);break;case"data":if(K!=="object"){J(Y,"data",$);break}case"src":case"href":if($===""&&(K!=="a"||B!=="href")){B==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',B,B):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',B,B),Y.removeAttribute(B);break}if($==null||typeof $==="function"||typeof $==="symbol"||typeof $==="boolean"){Y.removeAttribute(B);break}hY($,B),$=TO(""+$),Y.setAttribute(B,$);break;case"action":case"formAction":if($!=null&&(K==="form"?B==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof $==="function"&&(O.encType==null&&O.method==null||T2||(T2=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),O.target==null||S2||(S2=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):K==="input"||K==="button"?B==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):K!=="input"||O.type==="submit"||O.type==="image"||U2?K!=="button"||O.type==null||O.type==="submit"||U2?typeof $==="function"&&(O.name==null||z9||(z9=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),O.formEncType==null&&O.formMethod==null||T2||(T2=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),O.formTarget==null||S2||(S2=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(U2=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(U2=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):B==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof $==="function"){Y.setAttribute(B,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z==="function"&&(B==="formAction"?(K!=="input"&&KK(Y,K,"name",O.name,O,null),KK(Y,K,"formEncType",O.formEncType,O,null),KK(Y,K,"formMethod",O.formMethod,O,null),KK(Y,K,"formTarget",O.formTarget,O,null)):(KK(Y,K,"encType",O.encType,O,null),KK(Y,K,"method",O.method,O,null),KK(Y,K,"target",O.target,O,null)));if($==null||typeof $==="symbol"||typeof $==="boolean"){Y.removeAttribute(B);break}hY($,B),$=TO(""+$),Y.setAttribute(B,$);break;case"onClick":$!=null&&(typeof $!=="function"&&B_(B,$),Y.onclick=m8);break;case"onScroll":$!=null&&(typeof $!=="function"&&B_(B,$),vY("scroll",Y));break;case"onScrollEnd":$!=null&&(typeof $!=="function"&&B_(B,$),vY("scrollend",Y));break;case"dangerouslySetInnerHTML":if($!=null){if(typeof $!=="object"||!("__html"in $))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(B=$.__html,B!=null){if(O.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");Y.innerHTML=B}}break;case"multiple":Y.multiple=$&&typeof $!=="function"&&typeof $!=="symbol";break;case"muted":Y.muted=$&&typeof $!=="function"&&typeof $!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if($==null||typeof $==="function"||typeof $==="boolean"||typeof $==="symbol"){Y.removeAttribute("xlink:href");break}hY($,B),B=TO(""+$),Y.setAttributeNS(g1,"xlink:href",B);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":$!=null&&typeof $!=="function"&&typeof $!=="symbol"?(hY($,B),Y.setAttribute(B,""+$)):Y.removeAttribute(B);break;case"inert":$!==""||y2[B]||(y2[B]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",B));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":$&&typeof $!=="function"&&typeof $!=="symbol"?Y.setAttribute(B,""):Y.removeAttribute(B);break;case"capture":case"download":$===!0?Y.setAttribute(B,""):$!==!1&&$!=null&&typeof $!=="function"&&typeof $!=="symbol"?(hY($,B),Y.setAttribute(B,$)):Y.removeAttribute(B);break;case"cols":case"rows":case"size":case"span":$!=null&&typeof $!=="function"&&typeof $!=="symbol"&&!isNaN($)&&1<=$?(hY($,B),Y.setAttribute(B,$)):Y.removeAttribute(B);break;case"rowSpan":case"start":$==null||typeof $==="function"||typeof $==="symbol"||isNaN($)?Y.removeAttribute(B):(hY($,B),Y.setAttribute(B,$));break;case"popover":vY("beforetoggle",Y),vY("toggle",Y),s$(Y,"popover",$);break;case"xlinkActuate":M(Y,g1,"xlink:actuate",$);break;case"xlinkArcrole":M(Y,g1,"xlink:arcrole",$);break;case"xlinkRole":M(Y,g1,"xlink:role",$);break;case"xlinkShow":M(Y,g1,"xlink:show",$);break;case"xlinkTitle":M(Y,g1,"xlink:title",$);break;case"xlinkType":M(Y,g1,"xlink:type",$);break;case"xmlBase":M(Y,n4,"xml:base",$);break;case"xmlLang":M(Y,n4,"xml:lang",$);break;case"xmlSpace":M(Y,n4,"xml:space",$);break;case"is":z!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),s$(Y,"is",$);break;case"innerText":case"textContent":break;case"popoverTarget":P9||$==null||typeof $!=="object"||(P9=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",$));default:!(2<B.length)||B[0]!=="o"&&B[0]!=="O"||B[1]!=="n"&&B[1]!=="N"?(B=aI(B),s$(Y,B,$)):J1.hasOwnProperty(B)&&$!=null&&typeof $!=="function"&&B_(B,$)}}function EP(Y,K,B,$,O,z){switch(B){case"style":sI(Y,$,z);break;case"dangerouslySetInnerHTML":if($!=null){if(typeof $!=="object"||!("__html"in $))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(B=$.__html,B!=null){if(O.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");Y.innerHTML=B}}break;case"children":typeof $==="string"?UO(Y,$):(typeof $==="number"||typeof $==="bigint")&&UO(Y,""+$);break;case"onScroll":$!=null&&(typeof $!=="function"&&B_(B,$),vY("scroll",Y));break;case"onScrollEnd":$!=null&&(typeof $!=="function"&&B_(B,$),vY("scrollend",Y));break;case"onClick":$!=null&&(typeof $!=="function"&&B_(B,$),Y.onclick=m8);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(J1.hasOwnProperty(B))$!=null&&typeof $!=="function"&&B_(B,$);else Y:{if(B[0]==="o"&&B[1]==="n"&&(O=B.endsWith("Capture"),K=B.slice(2,O?B.length-7:void 0),z=Y[D0]||null,z=z!=null?z[B]:null,typeof z==="function"&&Y.removeEventListener(K,z,O),typeof $==="function")){typeof z!=="function"&&z!==null&&(B in Y?Y[B]=null:Y.hasAttribute(B)&&Y.removeAttribute(B)),Y.addEventListener(K,$,O);break Y}B in Y?Y[B]=$:$===!0?Y.setAttribute(B,""):s$(Y,B,$)}}}function oK(Y,K,B){switch(xP(K,B),K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vY("error",Y),vY("load",Y);var $=!1,O=!1,z;for(z in B)if(B.hasOwnProperty(z)){var I=B[z];if(I!=null)switch(z){case"src":$=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:KK(Y,K,z,I,B,null)}}O&&KK(Y,K,"srcSet",B.srcSet,B,null),$&&KK(Y,K,"src",B.src,B,null);return;case"input":EB("input",B),vY("invalid",Y);var Z=z=I=O=null,R=null,A=null;for($ in B)if(B.hasOwnProperty($)){var k=B[$];if(k!=null)switch($){case"name":O=k;break;case"type":I=k;break;case"checked":R=k;break;case"defaultChecked":A=k;break;case"value":z=k;break;case"defaultValue":Z=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:KK(Y,K,$,k,B,null)}}WK(Y,B),aB(Y,z,Z,R,A,I,O,!1),GY(Y);return;case"select":EB("select",B),vY("invalid",Y),$=I=z=null;for(O in B)if(B.hasOwnProperty(O)&&(Z=B[O],Z!=null))switch(O){case"value":z=Z;break;case"defaultValue":I=Z;break;case"multiple":$=Z;default:KK(Y,K,O,Z,B,null)}vI(Y,B),K=z,B=I,Y.multiple=!!$,K!=null?$H(Y,!!$,K,!1):B!=null&&$H(Y,!!$,B,!0);return;case"textarea":EB("textarea",B),vY("invalid",Y),z=O=$=null;for(I in B)if(B.hasOwnProperty(I)&&(Z=B[I],Z!=null))switch(I){case"value":$=Z;break;case"defaultValue":O=Z;break;case"children":z=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:KK(Y,K,I,Z,B,null)}fI(Y,B),hI(Y,$,O,z),GY(Y);return;case"option":a$(Y,B);for(R in B)if(B.hasOwnProperty(R)&&($=B[R],$!=null))switch(R){case"selected":Y.selected=$&&typeof $!=="function"&&typeof $!=="symbol";break;default:KK(Y,K,R,$,B,null)}return;case"dialog":vY("cancel",Y),vY("close",Y);break;case"iframe":case"object":vY("load",Y);break;case"video":case"audio":for($=0;$<dX.length;$++)vY(dX[$],Y);break;case"image":vY("error",Y),vY("load",Y);break;case"details":vY("toggle",Y);break;case"embed":case"source":case"link":vY("error",Y),vY("load",Y);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in B)if(B.hasOwnProperty(A)&&($=B[A],$!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:KK(Y,K,A,$,B,null)}return;default:if(SO(K)){for(k in B)B.hasOwnProperty(k)&&($=B[k],$!==void 0&&EP(Y,K,k,$,B,void 0));return}}for(Z in B)B.hasOwnProperty(Z)&&($=B[Z],$!=null&&KK(Y,K,Z,$,B,null))}function GR(Y,K,B,$){switch(xP(K,$),K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,z=null,I=null,Z=null,R=null,A=null,k=null;for(p in B){var c=B[p];if(B.hasOwnProperty(p)&&c!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":R=c;default:$.hasOwnProperty(p)||KK(Y,K,p,null,$,c)}}for(var j in $){var p=$[j];if(c=B[j],$.hasOwnProperty(j)&&(p!=null||c!=null))switch(j){case"type":z=p;break;case"name":O=p;break;case"checked":A=p;break;case"defaultChecked":k=p;break;case"value":I=p;break;case"defaultValue":Z=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:p!==c&&KK(Y,K,j,p,$,c)}}K=B.type==="checkbox"||B.type==="radio"?B.checked!=null:B.value!=null,$=$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null,K||!$||X9||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),X9=!0),!K||$||O9||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),O9=!0),dK(Y,I,Z,R,A,k,z,O);return;case"select":p=I=Z=j=null;for(z in B)if(R=B[z],B.hasOwnProperty(z)&&R!=null)switch(z){case"value":break;case"multiple":p=R;default:$.hasOwnProperty(z)||KK(Y,K,z,null,$,R)}for(O in $)if(z=$[O],R=B[O],$.hasOwnProperty(O)&&(z!=null||R!=null))switch(O){case"value":j=z;break;case"defaultValue":Z=z;break;case"multiple":I=z;default:z!==R&&KK(Y,K,O,z,$,R)}$=Z,K=I,B=p,j!=null?$H(Y,!!K,j,!1):!!B!==!!K&&($!=null?$H(Y,!!K,$,!0):$H(Y,!!K,K?[]:"",!1));return;case"textarea":p=j=null;for(Z in B)if(O=B[Z],B.hasOwnProperty(Z)&&O!=null&&!$.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:KK(Y,K,Z,null,$,O)}for(I in $)if(O=$[I],z=B[I],$.hasOwnProperty(I)&&(O!=null||z!=null))switch(I){case"value":j=O;break;case"defaultValue":p=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:O!==z&&KK(Y,K,I,O,$,z)}mI(Y,j,p);return;case"option":for(var PY in B)if(j=B[PY],B.hasOwnProperty(PY)&&j!=null&&!$.hasOwnProperty(PY))switch(PY){case"selected":Y.selected=!1;break;default:KK(Y,K,PY,null,$,j)}for(R in $)if(j=$[R],p=B[R],$.hasOwnProperty(R)&&j!==p&&(j!=null||p!=null))switch(R){case"selected":Y.selected=j&&typeof j!=="function"&&typeof j!=="symbol";break;default:KK(Y,K,R,j,$,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xY in B)j=B[xY],B.hasOwnProperty(xY)&&j!=null&&!$.hasOwnProperty(xY)&&KK(Y,K,xY,null,$,j);for(A in $)if(j=$[A],p=B[A],$.hasOwnProperty(A)&&j!==p&&(j!=null||p!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:KK(Y,K,A,j,$,p)}return;default:if(SO(K)){for(var MK in B)j=B[MK],B.hasOwnProperty(MK)&&j!==void 0&&!$.hasOwnProperty(MK)&&EP(Y,K,MK,void 0,$,j);for(k in $)j=$[k],p=B[k],!$.hasOwnProperty(k)||j===p||j===void 0&&p===void 0||EP(Y,K,k,j,$,p);return}}for(var iY in B)j=B[iY],B.hasOwnProperty(iY)&&j!=null&&!$.hasOwnProperty(iY)&&KK(Y,K,iY,null,$,j);for(c in $)j=$[c],p=B[c],!$.hasOwnProperty(c)||j===p||j==null&&p==null||KK(Y,K,c,j,$,p)}function DN(Y){switch(Y){case"class":return"className";case"for":return"htmlFor";default:return Y}}function VP(Y){var K={};Y=Y.style;for(var B=0;B<Y.length;B++){var $=Y[B];K[$]=Y.getPropertyValue($)}return K}function MN(Y,K,B){if(K!=null&&typeof K!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else if(Zw){var $,O=$="",z;for(z in K)if(K.hasOwnProperty(z)){var I=K[z];I!=null&&typeof I!=="boolean"&&I!==""&&(z.indexOf("--")===0?(CB(I,z),$+=O+z+":"+(""+I).trim()):typeof I!=="number"||I===0||j3.has(z)?(CB(I,z),$+=O+z.replace(S3,"-$1").toLowerCase().replace(T3,"-ms-")+":"+(""+I).trim()):$+=O+z.replace(S3,"-$1").toLowerCase().replace(T3,"-ms-")+":"+I+"px",O=";")}$=$||null,K=Y.getAttribute("style"),K!==$&&($=Q$($),Q$(K)!==$&&(B.style=VP(Y)))}}function YB(Y,K,B,$,O,z){if(O.delete(B),Y=Y.getAttribute(B),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(hY($,K),Y===""+$)return}cK(K,Y,$,z)}function UN(Y,K,B,$,O,z){if(O.delete(B),Y=Y.getAttribute(B),Y===null){switch(typeof $){case"function":case"symbol":return}if(!$)return}else switch(typeof $){case"function":case"symbol":break;default:if($)return}cK(K,Y,$,z)}function FP(Y,K,B,$,O,z){if(O.delete(B),Y=Y.getAttribute(B),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":return}else if($!=null)switch(typeof $){case"function":case"symbol":break;default:if(hY($,B),Y===""+$)return}cK(K,Y,$,z)}function SN(Y,K,B,$,O,z){if(O.delete(B),Y=Y.getAttribute(B),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN($))return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(!isNaN($)&&(hY($,K),Y===""+$))return}cK(K,Y,$,z)}function h8(Y,K,B,$,O,z){if(O.delete(B),Y=Y.getAttribute(B),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(hY($,K),B=TO(""+$),Y===B)return}cK(K,Y,$,z)}function TN(Y,K,B,$){for(var O={},z=new Set,I=Y.attributes,Z=0;Z<I.length;Z++)switch(I[Z].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:z.add(I[Z].name)}if(SO(K)){for(var R in B)if(B.hasOwnProperty(R)){var A=B[R];if(A!=null){if(J1.hasOwnProperty(R))typeof A!=="function"&&B_(R,A);else if(B.suppressHydrationWarning!==!0)switch(R){case"children":typeof A!=="string"&&typeof A!=="number"||cK("children",Y.textContent,A,O);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":I=Y.innerHTML,A=A?A.__html:void 0,A!=null&&(A=VN(Y,A),cK(R,I,A,O));continue;case"style":z.delete(R),MN(Y,A,O);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":z.delete(R.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",R);continue;case"className":z.delete("class"),I=_H(Y,"class",A),cK("className",I,A,O);continue;default:$.context===l_&&K!=="svg"&&K!=="math"?z.delete(R.toLowerCase()):z.delete(R),I=_H(Y,R,A),cK(R,I,A,O)}}}}else for(A in B)if(B.hasOwnProperty(A)&&(R=B[A],R!=null)){if(J1.hasOwnProperty(A))typeof R!=="function"&&B_(A,R);else if(B.suppressHydrationWarning!==!0)switch(A){case"children":typeof R!=="string"&&typeof R!=="number"||cK("children",Y.textContent,R,O);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":I=Y.innerHTML,R=R?R.__html:void 0,R!=null&&(R=VN(Y,R),I!==R&&(O[A]={__html:I}));continue;case"className":YB(Y,A,"class",R,z,O);continue;case"tabIndex":YB(Y,A,"tabindex",R,z,O);continue;case"style":z.delete(A),MN(Y,R,O);continue;case"multiple":z.delete(A),cK(A,Y.multiple,R,O);continue;case"muted":z.delete(A),cK(A,Y.muted,R,O);continue;case"autoFocus":z.delete("autofocus"),cK(A,Y.autofocus,R,O);continue;case"data":if(K!=="object"){z.delete(A),I=Y.getAttribute("data"),cK(A,I,R,O);continue}case"src":case"href":if(!(R!==""||K==="a"&&A==="href"||K==="object"&&A==="data")){A==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',A,A):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',A,A),h8(Y,A,A,null,z,O);continue}h8(Y,A,A,R,z,O);continue;case"action":case"formAction":if(I=Y.getAttribute(A),typeof R==="function"){z.delete(A.toLowerCase()),A==="formAction"?(z.delete("name"),z.delete("formenctype"),z.delete("formmethod"),z.delete("formtarget")):(z.delete("enctype"),z.delete("method"),z.delete("target"));continue}else if(I===qw){z.delete(A.toLowerCase()),cK(A,"function",R,O);continue}h8(Y,A,A.toLowerCase(),R,z,O);continue;case"xlinkHref":h8(Y,A,"xlink:href",R,z,O);continue;case"contentEditable":FP(Y,A,"contenteditable",R,z,O);continue;case"spellCheck":FP(Y,A,"spellcheck",R,z,O);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":FP(Y,A,A,R,z,O);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":UN(Y,A,A.toLowerCase(),R,z,O);continue;case"capture":case"download":Y:{Z=Y;var k=I=A,c=O;if(z.delete(k),Z=Z.getAttribute(k),Z===null)switch(typeof R){case"undefined":case"function":case"symbol":break Y;default:if(R===!1)break Y}else if(R!=null)switch(typeof R){case"function":case"symbol":break;case"boolean":if(R===!0&&Z==="")break Y;break;default:if(hY(R,I),Z===""+R)break Y}cK(I,Z,R,c)}continue;case"cols":case"rows":case"size":case"span":Y:{if(Z=Y,k=I=A,c=O,z.delete(k),Z=Z.getAttribute(k),Z===null)switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":break Y;default:if(isNaN(R)||1>R)break Y}else if(R!=null)switch(typeof R){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(R)||1>R)&&(hY(R,I),Z===""+R))break Y}cK(I,Z,R,c)}continue;case"rowSpan":SN(Y,A,"rowspan",R,z,O);continue;case"start":SN(Y,A,A,R,z,O);continue;case"xHeight":YB(Y,A,"x-height",R,z,O);continue;case"xlinkActuate":YB(Y,A,"xlink:actuate",R,z,O);continue;case"xlinkArcrole":YB(Y,A,"xlink:arcrole",R,z,O);continue;case"xlinkRole":YB(Y,A,"xlink:role",R,z,O);continue;case"xlinkShow":YB(Y,A,"xlink:show",R,z,O);continue;case"xlinkTitle":YB(Y,A,"xlink:title",R,z,O);continue;case"xlinkType":YB(Y,A,"xlink:type",R,z,O);continue;case"xmlBase":YB(Y,A,"xml:base",R,z,O);continue;case"xmlLang":YB(Y,A,"xml:lang",R,z,O);continue;case"xmlSpace":YB(Y,A,"xml:space",R,z,O);continue;case"inert":R!==""||y2[A]||(y2[A]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",A)),UN(Y,A,A,R,z,O);continue;default:if(!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N"){Z=aI(A),I=!1,$.context===l_&&K!=="svg"&&K!=="math"?z.delete(Z.toLowerCase()):(k=A.toLowerCase(),k=_2.hasOwnProperty(k)?_2[k]||null:null,k!==null&&k!==A&&(I=!0,z.delete(k)),z.delete(Z));Y:if(k=Y,c=Z,Z=R,X$(c))if(k.hasAttribute(c))k=k.getAttribute(c),hY(Z,c),Z=k===""+Z?Z:k;else{switch(typeof Z){case"function":case"symbol":break Y;case"boolean":if(k=c.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-")break Y}Z=Z===void 0?void 0:null}else Z=void 0;I||cK(A,Z,R,O)}}}return 0<z.size&&B.suppressHydrationWarning!==!0&&PR(Y,z,O),Object.keys(O).length===0?null:O}function IR(Y,K){switch(Y.length){case 0:return"";case 1:return Y[0];case 2:return Y[0]+" "+K+" "+Y[1];default:return Y.slice(0,-1).join(", ")+", "+K+" "+Y[Y.length-1]}}function d8(Y){return Y.nodeType===9?Y:Y.ownerDocument}function yN(Y){switch(Y){case VH:return KO;case B2:return j2;default:return l_}}function gN(Y,K){if(Y===l_)switch(K){case"svg":return KO;case"math":return j2;default:return l_}return Y===KO&&K==="foreignObject"?l_:Y}function DP(Y,K){return Y==="textarea"||Y==="noscript"||typeof K.children==="string"||typeof K.children==="number"||typeof K.children==="bigint"||typeof K.dangerouslySetInnerHTML==="object"&&K.dangerouslySetInnerHTML!==null&&K.dangerouslySetInnerHTML.__html!=null}function WR(){var Y=window.event;if(Y&&Y.type==="popstate"){if(Y===r4)return!1;return r4=Y,!0}return r4=null,!1}function NR(Y){setTimeout(function(){throw Y})}function ZR(Y,K,B){switch(K){case"button":case"input":case"select":case"textarea":B.autoFocus&&Y.focus();break;case"img":B.src?Y.src=B.src:B.srcSet&&(Y.srcset=B.srcSet)}}function JR(Y,K,B,$){GR(Y,K,B,$),Y[D0]=$}function kN(Y){UO(Y,"")}function QR(Y,K,B){Y.nodeValue=B}function qR(Y,K){Y.removeChild(K)}function LR(Y,K){Y.nodeType===8?Y.parentNode.removeChild(K):Y.removeChild(K)}function MP(Y,K){var B=K,$=0;do{var O=B.nextSibling;if(Y.removeChild(B),O&&O.nodeType===8)if(B=O.data,B===k2){if($===0){Y.removeChild(O),$X(K);return}$--}else B!==g2&&B!==k1&&B!==j1||$++;B=O}while(B);$X(K)}function RR(Y){Y=Y.style,typeof Y.setProperty==="function"?Y.setProperty("display","none","important"):Y.display="none"}function CR(Y){Y.nodeValue=""}function wR(Y,K){K=K[Rw],K=K!==void 0&&K!==null&&K.hasOwnProperty("display")?K.display:null,Y.style.display=K==null||typeof K==="boolean"?"":(""+K).trim()}function AR(Y,K){Y.nodeValue=K}function UP(Y){var K=Y.firstChild;K&&K.nodeType===10&&(K=K.nextSibling);for(;K;){var B=K;switch(K=K.nextSibling,B.nodeName){case"HTML":case"HEAD":case"BODY":UP(B),BH(B);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(B.rel.toLowerCase()==="stylesheet")continue}Y.removeChild(B)}}function xR(Y,K,B,$){for(;Y.nodeType===1;){var O=B;if(Y.nodeName.toLowerCase()!==K.toLowerCase()){if(!$&&(Y.nodeName!=="INPUT"||Y.type!=="hidden"))break}else if(!$)if(K==="input"&&Y.type==="hidden"){hY(O.name,"name");var z=O.name==null?null:""+O.name;if(O.type==="hidden"&&Y.getAttribute("name")===z)return Y}else return Y;else if(!Y[zX])switch(K){case"meta":if(!Y.hasAttribute("itemprop"))break;return Y;case"link":if(z=Y.getAttribute("rel"),z==="stylesheet"&&Y.hasAttribute("data-precedence"))break;else if(z!==O.rel||Y.getAttribute("href")!==(O.href==null?null:O.href)||Y.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||Y.getAttribute("title")!==(O.title==null?null:O.title))break;return Y;case"style":if(Y.hasAttribute("data-precedence"))break;return Y;case"script":if(z=Y.getAttribute("src"),(z!==(O.src==null?null:O.src)||Y.getAttribute("type")!==(O.type==null?null:O.type)||Y.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&z&&Y.hasAttribute("async")&&!Y.hasAttribute("itemprop"))break;return Y;default:return Y}if(Y=KB(Y.nextSibling),Y===null)break}return null}function ER(Y,K,B){if(K==="")return null;for(;Y.nodeType!==3;){if((Y.nodeType!==1||Y.nodeName!=="INPUT"||Y.type!=="hidden")&&!B)return null;if(Y=KB(Y.nextSibling),Y===null)return null}return Y}function KB(Y){for(;Y!=null;Y=Y.nextSibling){var K=Y.nodeType;if(K===1||K===3)break;if(K===8){if(K=Y.data,K===g2||K===j1||K===k1||K===o4||K===G9)break;if(K===k2)return null}}return Y}function jN(Y){if(Y.nodeType===1){for(var K=Y.nodeName.toLowerCase(),B={},$=Y.attributes,O=0;O<$.length;O++){var z=$[O];B[DN(z.name)]=z.name.toLowerCase()==="style"?VP(Y):z.value}return{type:K,props:B}}return Y.nodeType===8?{type:"Suspense",props:{}}:Y.nodeValue}function bN(Y,K,B){return B===null||B[Lw]!==!0?(Y.nodeValue===K?Y=null:(K=Q$(K),Y=Q$(Y.nodeValue)===K?null:Y.nodeValue),Y):null}function vN(Y){Y=Y.nextSibling;for(var K=0;Y;){if(Y.nodeType===8){var B=Y.data;if(B===k2){if(K===0)return KB(Y.nextSibling);K--}else B!==g2&&B!==j1&&B!==k1||K++}Y=Y.nextSibling}return null}function fN(Y){Y=Y.previousSibling;for(var K=0;Y;){if(Y.nodeType===8){var B=Y.data;if(B===g2||B===j1||B===k1){if(K===0)return Y;K--}else B===k2&&K++}Y=Y.previousSibling}return null}function VR(Y){$X(Y)}function FR(Y){$X(Y)}function mN(Y,K,B,$,O){switch(O&&o7(Y,$.ancestorInfo),K=d8(B),Y){case"html":if(Y=K.documentElement,!Y)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return Y;case"head":if(Y=K.head,!Y)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return Y;case"body":if(Y=K.body,!Y)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return Y;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function DR(Y,K,B,$){if(oB(B)){var O=B.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",O,O,O)}switch(Y){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(O=B.attributes;O.length;)B.removeAttributeNode(O[0]);oK(B,Y,K),B[H0]=$,B[D0]=K}function c8(Y){return typeof Y.getRootNode==="function"?Y.getRootNode():Y.ownerDocument}function hN(Y,K,B){var $=BO;if($&&typeof K==="string"&&K){var O=CY(K);O='link[rel="'+Y+'"][href="'+O+'"]',typeof B==="string"&&(O+='[crossorigin="'+B+'"]'),Q9.has(O)||(Q9.add(O),Y={rel:Y,crossOrigin:B,href:K},$.querySelector(O)===null&&(K=$.createElement("link"),oK(K,"link",Y),FK(K),$.head.appendChild(K)))}}function dN(Y,K,B,$){var O=(O=R$.current)?c8(O):null;if(!O)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(Y){case"meta":case"title":return null;case"style":return typeof B.precedence==="string"&&typeof B.href==="string"?(B=RH(B.href),K=A_(O).hoistableStyles,$=K.get(B),$||($={type:"style",instance:null,count:0,state:null},K.set(B,$)),$):{type:"void",instance:null,count:0,state:null};case"link":if(B.rel==="stylesheet"&&typeof B.href==="string"&&typeof B.precedence==="string"){Y=RH(B.href);var z=A_(O).hoistableStyles,I=z.get(Y);if(!I&&(O=O.ownerDocument||O,I={type:"stylesheet",instance:null,count:0,state:{loading:b1,preload:null}},z.set(Y,I),(z=O.querySelector(KX(Y)))&&!z._p&&(I.instance=z,I.state.loading=cX|WB),!NB.has(Y))){var Z={rel:"preload",as:"style",href:B.href,crossOrigin:B.crossOrigin,integrity:B.integrity,media:B.media,hrefLang:B.hrefLang,referrerPolicy:B.referrerPolicy};NB.set(Y,Z),z||MR(O,Y,Z,I.state)}if(K&&$===null)throw B=`

  - `+l8(K)+`
  + `+l8(B),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+B);return I}if(K&&$!==null)throw B=`

  - `+l8(K)+`
  + `+l8(B),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+B);return null;case"script":return K=B.async,B=B.src,typeof B==="string"&&K&&typeof K!=="function"&&typeof K!=="symbol"?(B=CH(B),K=A_(O).hoistableScripts,$=K.get(B),$||($={type:"script",instance:null,count:0,state:null},K.set(B,$)),$):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+Y+'". this is a bug in React.')}}function l8(Y){var K=0,B="<link";return typeof Y.rel==="string"?(K++,B+=' rel="'+Y.rel+'"'):y_.call(Y,"rel")&&(K++,B+=' rel="'+(Y.rel===null?"null":"invalid type "+typeof Y.rel)+'"'),typeof Y.href==="string"?(K++,B+=' href="'+Y.href+'"'):y_.call(Y,"href")&&(K++,B+=' href="'+(Y.href===null?"null":"invalid type "+typeof Y.href)+'"'),typeof Y.precedence==="string"?(K++,B+=' precedence="'+Y.precedence+'"'):y_.call(Y,"precedence")&&(K++,B+=" precedence={"+(Y.precedence===null?"null":"invalid type "+typeof Y.precedence)+"}"),Object.getOwnPropertyNames(Y).length>K&&(B+=" ..."),B+" />"}function RH(Y){return'href="'+CY(Y)+'"'}function KX(Y){return'link[rel="stylesheet"]['+Y+"]"}function cN(Y){return DY({},Y,{"data-precedence":Y.precedence,precedence:null})}function MR(Y,K,B,$){Y.querySelector('link[rel="preload"][as="style"]['+K+"]")?$.loading=cX:(K=Y.createElement("link"),$.preload=K,K.addEventListener("load",function(){return $.loading|=cX}),K.addEventListener("error",function(){return $.loading|=Z9}),oK(K,"link",B),FK(K),Y.head.appendChild(K))}function CH(Y){return'[src="'+CY(Y)+'"]'}function BX(Y){return"script[async]"+Y}function lN(Y,K,B){if(K.count++,K.instance===null)switch(K.type){case"style":var $=Y.querySelector('style[data-href~="'+CY(B.href)+'"]');if($)return K.instance=$,FK($),$;var O=DY({},B,{"data-href":B.href,"data-precedence":B.precedence,href:null,precedence:null});return $=(Y.ownerDocument||Y).createElement("style"),FK($),oK($,"style",O),u8($,B.precedence,Y),K.instance=$;case"stylesheet":O=RH(B.href);var z=Y.querySelector(KX(O));if(z)return K.state.loading|=WB,K.instance=z,FK(z),z;$=cN(B),(O=NB.get(O))&&SP($,O),z=(Y.ownerDocument||Y).createElement("link"),FK(z);var I=z;return I._p=new Promise(function(Z,R){I.onload=Z,I.onerror=R}),oK(z,"link",$),K.state.loading|=WB,u8(z,B.precedence,Y),K.instance=z;case"script":if(z=CH(B.src),O=Y.querySelector(BX(z)))return K.instance=O,FK(O),O;if($=B,O=NB.get(z))$=DY({},B),TP($,O);return Y=Y.ownerDocument||Y,O=Y.createElement("script"),FK(O),oK(O,"link",$),Y.head.appendChild(O),K.instance=O;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+K.type+'". this is a bug in React.')}else K.type==="stylesheet"&&(K.state.loading&WB)===b1&&($=K.instance,K.state.loading|=WB,u8($,B.precedence,Y));return K.instance}function u8(Y,K,B){for(var $=B.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=$.length?$[$.length-1]:null,z=O,I=0;I<$.length;I++){var Z=$[I];if(Z.dataset.precedence===K)z=Z;else if(z!==O)break}z?z.parentNode.insertBefore(Y,z.nextSibling):(K=B.nodeType===9?B.head:B,K.insertBefore(Y,K.firstChild))}function SP(Y,K){Y.crossOrigin==null&&(Y.crossOrigin=K.crossOrigin),Y.referrerPolicy==null&&(Y.referrerPolicy=K.referrerPolicy),Y.title==null&&(Y.title=K.title)}function TP(Y,K){Y.crossOrigin==null&&(Y.crossOrigin=K.crossOrigin),Y.referrerPolicy==null&&(Y.referrerPolicy=K.referrerPolicy),Y.integrity==null&&(Y.integrity=K.integrity)}function uN(Y,K,B){if(b2===null){var $=new Map,O=b2=new Map;O.set(B,$)}else O=b2,$=O.get(B),$||($=new Map,O.set(B,$));if($.has(Y))return $;$.set(Y,null),B=B.getElementsByTagName(Y);for(O=0;O<B.length;O++){var z=B[O];if(!(z[zX]||z[H0]||Y==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!==VH){var I=z.getAttribute(K)||"";I=Y+I;var Z=$.get(I);Z?Z.push(z):$.set(I,[z])}}return $}function pN(Y,K,B){Y=Y.ownerDocument||Y,Y.head.insertBefore(B,K==="title"?Y.querySelector("head > title"):null)}function UR(Y,K,B){var $=!B.ancestorInfo.containerTagInScope;if(B.context===KO||K.itemProp!=null)return!$||K.itemProp==null||Y!=="meta"&&Y!=="title"&&Y!=="style"&&Y!=="link"&&Y!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",Y,Y),!1;switch(Y){case"meta":case"title":return!0;case"style":if(typeof K.precedence!=="string"||typeof K.href!=="string"||K.href===""){$&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflic with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`, or move the <style> to the <style> tag.');break}return!0;case"link":if(typeof K.rel!=="string"||typeof K.href!=="string"||K.href===""||K.onLoad||K.onError){if(K.rel==="stylesheet"&&typeof K.precedence==="string"){Y=K.href;var{onError:O,disabled:z}=K;B=[],K.onLoad&&B.push("`onLoad`"),O&&B.push("`onError`"),z!=null&&B.push("`disabled`"),O=IR(B,"and"),O+=B.length===1?" prop":" props",z=B.length===1?"an "+O:"the "+O,B.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',Y,z,O)}$&&(typeof K.rel!=="string"||typeof K.href!=="string"||K.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(K.onError||K.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(K.rel){case"stylesheet":return Y=K.precedence,K=K.disabled,typeof Y!=="string"&&$&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof Y==="string"&&K==null;default:return!0}case"script":if(Y=K.async&&typeof K.async!=="function"&&typeof K.async!=="symbol",!Y||K.onLoad||K.onError||!K.src||typeof K.src!=="string"){$&&(Y?K.onLoad||K.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":$&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",Y)}return!1}function iN(Y){return Y.type==="stylesheet"&&(Y.state.loading&J9)===b1?!1:!0}function SR(){}function TR(Y,K,B){if(lX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var $=lX;if(K.type==="stylesheet"&&(typeof B.media!=="string"||matchMedia(B.media).matches!==!1)&&(K.state.loading&WB)===b1){if(K.instance===null){var O=RH(B.href),z=Y.querySelector(KX(O));if(z){Y=z._p,Y!==null&&typeof Y==="object"&&typeof Y.then==="function"&&($.count++,$=p8.bind($),Y.then($,$)),K.state.loading|=WB,K.instance=z,FK(z);return}z=Y.ownerDocument||Y,B=cN(B),(O=NB.get(O))&&SP(B,O),z=z.createElement("link"),FK(z);var I=z;I._p=new Promise(function(Z,R){I.onload=Z,I.onerror=R}),oK(z,"link",B),K.instance=z}$.stylesheets===null&&($.stylesheets=new Map),$.stylesheets.set(K,Y),(Y=K.state.preload)&&(K.state.loading&J9)===b1&&($.count++,K=p8.bind($),Y.addEventListener("load",K),Y.addEventListener("error",K))}}function yR(){if(lX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var Y=lX;return Y.stylesheets&&Y.count===0&&yP(Y,Y.stylesheets),0<Y.count?function(K){var B=setTimeout(function(){if(Y.stylesheets&&yP(Y,Y.stylesheets),Y.unsuspend){var $=Y.unsuspend;Y.unsuspend=null,$()}},60000);return Y.unsuspend=K,function(){Y.unsuspend=null,clearTimeout(B)}}:null}function p8(){if(this.count--,this.count===0){if(this.stylesheets)yP(this,this.stylesheets);else if(this.unsuspend){var Y=this.unsuspend;this.unsuspend=null,Y()}}}function yP(Y,K){Y.stylesheets=null,Y.unsuspend!==null&&(Y.count++,v2=new Map,K.forEach(gR,Y),v2=null,p8.call(Y))}function gR(Y,K){if(!(K.state.loading&WB)){var B=v2.get(Y);if(B)var $=B.get(e4);else{B=new Map,v2.set(Y,B);for(var O=Y.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<O.length;z++){var I=O[z];if(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")B.set(I.dataset.precedence,I),$=I}$&&B.set(e4,$)}O=K.instance,I=O.getAttribute("data-precedence"),z=B.get(I)||$,z===$&&B.set(e4,O),B.set(I,O),this.count++,$=p8.bind(this),O.addEventListener("load",$),O.addEventListener("error",$),z?z.parentNode.insertBefore(O,z.nextSibling):(Y=Y.nodeType===9?Y.head:Y,Y.insertBefore(O,Y.firstChild)),K.state.loading|=WB}}function kR(Y,K,B){var $=0;switch(Y){case"dir":case"dirxml":case"groupEnd":case"table":return C9.apply(console[Y],[console].concat(K));case"assert":$=1}return K=K.slice(0),typeof K[$]==="string"?K.splice($,1,q9+K[$],L9,f2+B+f2,R9):K.splice($,0,q9,L9,f2+B+f2,R9),K.unshift(console),C9.apply(console[Y],K)}function jR(Y,K,B,$,O,z,I,Z){this.tag=1,this.containerInfo=Y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=t4,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=AB(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=AB(0),this.hiddenUpdates=AB(null),this.identifierPrefix=$,this.onUncaughtError=O,this.onCaughtError=z,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,Y=this.pendingUpdatersLaneMap=[];for(K=0;31>K;K++)Y.push(new Set);this._debugRootType=B?"hydrateRoot()":"createRoot()"}function nN(Y,K,B,$,O,z,I,Z,R,A,k,c){return Y=new jR(Y,K,B,I,Z,R,A,c),K=rC,z===!0&&(K|=O0|SB),DB&&(K|=aK),z=q(3,null,null,K),Y.current=z,z.stateNode=Y,K=z6(),H1(K),Y.pooledCache=K,H1(K),z.memoizedState={element:$,isDehydrated:B,cache:K},t6(z),Y}function oN(Y){if(!Y)return A$;return Y=A$,Y}function sN(Y,K,B,$){return K.tag===0&&N1(),aN(K.current,2,Y,K,B,$),2}function aN(Y,K,B,$,O,z){if($0&&typeof $0.onScheduleFiberRoot==="function")try{$0.onScheduleFiberRoot(EH,$,B)}catch(I){H_||(H_=!0,console.error("React instrumentation encountered an error: %s",I))}YY!==null&&typeof YY.markRenderScheduled==="function"&&YY.markRenderScheduled(K),O=oN(O),$.context===null?$.context=O:$.pendingContext=O,BB&&_0!==null&&!w9&&(w9=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,u(_0)||"Unknown")),$=W$(K),$.payload={element:B},z=z===void 0?null:z,z!==null&&(typeof z!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",z),$.callback=z),B=N$(Y,$,K),B!==null&&(CK(B,Y,K),pO(B,Y,K))}function rN(Y,K){if(Y=Y.memoizedState,Y!==null&&Y.dehydrated!==null){var B=Y.retryLane;Y.retryLane=B!==0&&B<K?B:K}}function gP(Y,K){rN(Y,K),(Y=Y.alternate)&&rN(Y,K)}function tN(Y){if(Y.tag===13){var K=B0(Y,67108864);K!==null&&CK(K,Y,67108864),gP(Y,67108864)}}function bR(){return _0}function vR(){for(var Y=new Map,K=1,B=0;31>B;B++){var $=r(K);Y.set(K,$),K*=2}return Y}function fR(Y,K,B,$){var O=f.T;f.T=null;var z=NK.p;try{NK.p=MB,kP(Y,K,B,$)}finally{NK.p=z,f.T=O}}function mR(Y,K,B,$){var O=f.T;f.T=null;var z=NK.p;try{NK.p=UB,kP(Y,K,B,$)}finally{NK.p=z,f.T=O}}function kP(Y,K,B,$){if(m2){var O=jP($);if(O===null)AP(Y,K,$,h2,B),Y3(Y,$);else if(hR(O,Y,K,B,$))$.stopPropagation();else if(Y3(Y,$),K&4&&-1<Aw.indexOf(Y)){for(;O!==null;){var z=oB(O);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var I=AK(z.pendingLanes);if(I!==0){var Z=z;Z.pendingLanes|=2;for(Z.entangledLanes|=2;I;){var R=1<<31-I0(I);Z.entanglements[1]|=R,I&=~R}K_(z),(ZK&(q0|h_))===d0&&(A2=$_()+B9,eO(0,!1))}}break;case 13:Z=B0(z,2),Z!==null&&CK(Z,z,2),JH(),gP(z,2)}if(z=jP($),z===null&&AP(Y,K,$,h2,B),z===O)break;O=z}O!==null&&$.stopPropagation()}else AP(Y,K,$,null,B)}}function jP(Y){return Y=s7(Y),bP(Y)}function bP(Y){if(h2=null,Y=nB(Y),Y!==null){var K=e(Y);if(K===null)Y=null;else{var B=K.tag;if(B===13){if(Y=RY(K),Y!==null)return Y;Y=null}else if(B===3){if(K.stateNode.current.memoizedState.isDehydrated)return K.tag===3?K.stateNode.containerInfo:null;Y=null}else K!==Y&&(Y=null)}}return h2=Y,null}function eN(Y){switch(Y){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return MB;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return UB;case"message":switch(aR()){case oP:return MB;case sP:return UB;case xH:case rR:return O_;case aP:return Y2;default:return O_}default:return O_}}function Y3(Y,K){switch(Y){case"focusin":case"focusout":y$=null;break;case"dragenter":case"dragleave":g$=null;break;case"mouseover":case"mouseout":k$=null;break;case"pointerover":case"pointerout":pX.delete(K.pointerId);break;case"gotpointercapture":case"lostpointercapture":iX.delete(K.pointerId)}}function _X(Y,K,B,$,O,z){if(Y===null||Y.nativeEvent!==z)return Y={blockedOn:K,domEventName:B,eventSystemFlags:$,nativeEvent:z,targetContainers:[O]},K!==null&&(K=oB(K),K!==null&&tN(K)),Y;return Y.eventSystemFlags|=$,K=Y.targetContainers,O!==null&&K.indexOf(O)===-1&&K.push(O),Y}function hR(Y,K,B,$,O){switch(K){case"focusin":return y$=_X(y$,Y,K,B,$,O),!0;case"dragenter":return g$=_X(g$,Y,K,B,$,O),!0;case"mouseover":return k$=_X(k$,Y,K,B,$,O),!0;case"pointerover":var z=O.pointerId;return pX.set(z,_X(pX.get(z)||null,Y,K,B,$,O)),!0;case"gotpointercapture":return z=O.pointerId,iX.set(z,_X(iX.get(z)||null,Y,K,B,$,O)),!0}return!1}function K3(Y){var K=nB(Y.target);if(K!==null){var B=e(K);if(B!==null){if(K=B.tag,K===13){if(K=RY(B),K!==null){Y.blockedOn=K,Y8(Y.priority,function(){if(B.tag===13){var $=f0(B),O=B0(B,$);O!==null&&CK(O,B,$),gP(B,$)}});return}}else if(K===3&&B.stateNode.current.memoizedState.isDehydrated){Y.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}Y.blockedOn=null}function i8(Y){if(Y.blockedOn!==null)return!1;for(var K=Y.targetContainers;0<K.length;){var B=jP(Y.nativeEvent);if(B===null){B=Y.nativeEvent;var $=new B.constructor(B.type,B),O=$;PX!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),PX=O,B.target.dispatchEvent($),PX===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),PX=null}else return K=oB(B),K!==null&&tN(K),Y.blockedOn=B,!1;K.shift()}return!0}function B3(Y,K,B){i8(Y)&&B.delete(K)}function dR(){YG=!1,y$!==null&&i8(y$)&&(y$=null),g$!==null&&i8(g$)&&(g$=null),k$!==null&&i8(k$)&&(k$=null),pX.forEach(B3),iX.forEach(B3)}function n8(Y,K){Y.blockedOn===K&&(Y.blockedOn=null,YG||(YG=!0,cY.unstable_scheduleCallback(cY.unstable_NormalPriority,dR)))}function _3(Y){d2!==Y&&(d2=Y,cY.unstable_scheduleCallback(cY.unstable_NormalPriority,function(){d2===Y&&(d2=null);for(var K=0;K<Y.length;K+=3){var B=Y[K],$=Y[K+1],O=Y[K+2];if(typeof $!=="function")if(bP($||B)===null)continue;else break;var z=oB(B);z!==null&&(Y.splice(K,3),K-=3,B={pending:!0,data:O,method:B.method,action:$},Object.freeze(B),S6(z,B,$,O))}}))}function $X(Y){function K(R){return n8(R,Y)}y$!==null&&n8(y$,Y),g$!==null&&n8(g$,Y),k$!==null&&n8(k$,Y),pX.forEach(K),iX.forEach(K);for(var B=0;B<j$.length;B++){var $=j$[B];$.blockedOn===Y&&($.blockedOn=null)}for(;0<j$.length&&(B=j$[0],B.blockedOn===null);)K3(B),B.blockedOn===null&&j$.shift();if(B=(Y.ownerDocument||Y).$$reactFormReplay,B!=null)for($=0;$<B.length;$+=3){var O=B[$],z=B[$+1],I=O[D0]||null;if(typeof z==="function")I||_3(B);else if(I){var Z=null;if(z&&z.hasAttribute("formAction")){if(O=z,I=z[D0]||null)Z=I.formAction;else if(bP(O)!==null)continue}else Z=I.action;typeof Z==="function"?B[$+1]=Z:(B.splice($,3),$-=3),_3(B)}}}function vP(Y){this._internalRoot=Y}function o8(Y){this._internalRoot=Y}function $3(Y){Y[Z1]&&(Y._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var cR=Symbol.for("react.element"),q$=Symbol.for("react.transitional.element"),wH=Symbol.for("react.portal"),AH=Symbol.for("react.fragment"),s8=Symbol.for("react.strict_mode"),fP=Symbol.for("react.profiler"),lR=Symbol.for("react.provider"),mP=Symbol.for("react.consumer"),__=Symbol.for("react.context"),HX=Symbol.for("react.forward_ref"),hP=Symbol.for("react.suspense"),dP=Symbol.for("react.suspense_list"),a8=Symbol.for("react.memo"),m0=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var H3=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var uR=Symbol.for("react.memo_cache_sentinel"),O3=Symbol.iterator,pR=Symbol.for("react.client.reference"),f=_O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,DY=Object.assign,OX=0,X3,z3,P3,G3,I3,W3,N3;$Y.__reactDisabledLog=!0;var cP,Z3,lP=!1,uP=new(typeof WeakMap==="function"?WeakMap:Map),_0=null,BB=!1,sK=Array.isArray,NK=XG.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,iR=Object.freeze({pending:!1,data:null,method:null,action:null}),pP=[],iP=[],T_=-1,L$=oY(null),XX=oY(null),R$=oY(null),r8=oY(null),y_=Object.prototype.hasOwnProperty,nP=cY.unstable_scheduleCallback,nR=cY.unstable_cancelCallback,oR=cY.unstable_shouldYield,sR=cY.unstable_requestPaint,$_=cY.unstable_now,aR=cY.unstable_getCurrentPriorityLevel,oP=cY.unstable_ImmediatePriority,sP=cY.unstable_UserBlockingPriority,xH=cY.unstable_NormalPriority,rR=cY.unstable_LowPriority,aP=cY.unstable_IdlePriority,tR=cY.log,eR=cY.unstable_setDisableYieldValue,EH=null,$0=null,YY=null,H_=!1,DB=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined",I0=Math.clz32?Math.clz32:tY,YC=Math.log,KC=Math.LN2,t8=128,e8=4194304,MB=2,UB=8,O_=32,Y2=268435456,C$=Math.random().toString(36).slice(2),H0="__reactFiber$"+C$,D0="__reactProps$"+C$,Z1="__reactContainer$"+C$,rP="__reactEvents$"+C$,BC="__reactListeners$"+C$,_C="__reactHandles$"+C$,J3="__reactResources$"+C$,zX="__reactMarker$"+C$,Q3=new Set,J1={},tP={},X_=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),$C={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},HC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),q3={},L3={},OC=/[\n"\\]/g,R3=!1,C3=!1,w3=!1,A3=!1,x3=!1,E3=!1,V3=["value","defaultValue"],F3=!1,D3=/["'&<>\n\t]|^\s|\s$/,XC="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),M3="applet caption html table td th marquee object template foreignObject desc title".split(" "),zC=M3.concat(["button"]),PC="dd dt li option optgroup p rp rt".split(" "),U3={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null},K2={},B2="http://www.w3.org/1998/Math/MathML",VH="http://www.w3.org/2000/svg",eP={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},S3=/([A-Z])/g,T3=/^ms-/,GC=/^(?:webkit|moz|o)[A-Z]/,IC=/^-ms-/,WC=/-(.)/g,y3=/;\s*$/,FH={},Y4={},g3=!1,k3=!1,j3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),NC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_2={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},b3={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DH={},ZC=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),JC=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),v3=!1,W0={},f3=/^on./,QC=/^on[^A-Z]/,qC=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),LC=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),RC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,PX=null,MH=null,UH=null,K4=!1,B4=!1;if(X_)try{var GX={};Object.defineProperty(GX,"passive",{get:function(){B4=!0}}),window.addEventListener("test",GX,GX),window.removeEventListener("test",GX,GX)}catch(Y){B4=!1}var w$=null,_4=null,$2=null,Q1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Y){return Y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},H2=E0(Q1),IX=DY({},Q1,{view:0,detail:0}),CC=E0(IX),$4,H4,WX,O2=DY({},IX,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a7,button:0,buttons:0,relatedTarget:function(Y){return Y.relatedTarget===void 0?Y.fromElement===Y.srcElement?Y.toElement:Y.fromElement:Y.relatedTarget},movementX:function(Y){if("movementX"in Y)return Y.movementX;return Y!==WX&&(WX&&Y.type==="mousemove"?($4=Y.screenX-WX.screenX,H4=Y.screenY-WX.screenY):H4=$4=0,WX=Y),$4},movementY:function(Y){return"movementY"in Y?Y.movementY:H4}}),m3=E0(O2),wC=DY({},O2,{dataTransfer:0}),AC=E0(wC),xC=DY({},IX,{relatedTarget:0}),O4=E0(xC),EC=DY({},Q1,{animationName:0,elapsedTime:0,pseudoElement:0}),VC=E0(EC),FC=DY({},Q1,{clipboardData:function(Y){return"clipboardData"in Y?Y.clipboardData:window.clipboardData}}),DC=E0(FC),MC=DY({},Q1,{data:0}),h3=E0(MC),UC=h3,SC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},gC=DY({},IX,{key:function(Y){if(Y.key){var K=SC[Y.key]||Y.key;if(K!=="Unidentified")return K}return Y.type==="keypress"?(Y=_8(Y),Y===13?"Enter":String.fromCharCode(Y)):Y.type==="keydown"||Y.type==="keyup"?TC[Y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a7,charCode:function(Y){return Y.type==="keypress"?_8(Y):0},keyCode:function(Y){return Y.type==="keydown"||Y.type==="keyup"?Y.keyCode:0},which:function(Y){return Y.type==="keypress"?_8(Y):Y.type==="keydown"||Y.type==="keyup"?Y.keyCode:0}}),kC=E0(gC),jC=DY({},O2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d3=E0(jC),bC=DY({},IX,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a7}),vC=E0(bC),fC=DY({},Q1,{propertyName:0,elapsedTime:0,pseudoElement:0}),mC=E0(fC),hC=DY({},O2,{deltaX:function(Y){return"deltaX"in Y?Y.deltaX:("wheelDeltaX"in Y)?-Y.wheelDeltaX:0},deltaY:function(Y){return"deltaY"in Y?Y.deltaY:("wheelDeltaY"in Y)?-Y.wheelDeltaY:("wheelDelta"in Y)?-Y.wheelDelta:0},deltaZ:0,deltaMode:0}),dC=E0(hC),cC=DY({},Q1,{newState:0,oldState:0}),lC=E0(cC),uC=[9,13,27,32],c3=229,X4=X_&&"CompositionEvent"in window,NX=null;X_&&"documentMode"in document&&(NX=document.documentMode);var pC=X_&&"TextEvent"in window&&!NX,l3=X_&&(!X4||NX&&8<NX&&11>=NX),u3=32,p3=String.fromCharCode(u3),i3=!1,SH=!1,iC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ZX=null,JX=null,n3=!1;X_&&(n3=CL("input")&&(!document.documentMode||9<document.documentMode));var N0=typeof Object.is==="function"?Object.is:FL,nC=X_&&"documentMode"in document&&11>=document.documentMode,TH=null,z4=null,QX=null,P4=!1,yH={animationend:t$("Animation","AnimationEnd"),animationiteration:t$("Animation","AnimationIteration"),animationstart:t$("Animation","AnimationStart"),transitionrun:t$("Transition","TransitionRun"),transitionstart:t$("Transition","TransitionStart"),transitioncancel:t$("Transition","TransitionCancel"),transitionend:t$("Transition","TransitionEnd")},G4={},o3={};X_&&(o3=document.createElement("div").style,("AnimationEvent"in window)||(delete yH.animationend.animation,delete yH.animationiteration.animation,delete yH.animationstart.animation),("TransitionEvent"in window)||delete yH.transitionend.transition);var s3=e$("animationend"),a3=e$("animationiteration"),r3=e$("animationstart"),oC=e$("transitionrun"),sC=e$("transitionstart"),aC=e$("transitioncancel"),t3=e$("transitionend"),e3=new Map,YZ="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" "),qX=1,q1=2,g_=4,_B=[],gH=0,I4=0,A$={};Object.freeze(A$);var $B=null,kH=null,PK=0,rC=1,aK=2,O0=8,SB=16,KZ=64,jH=cY.unstable_now,W4=-0,X2=-0,M0=-1.1,L1=-0,z2=!1,P2=!1,TB={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},LX=[],RX=[],CX=[],wX=[],AX=[],xX=[],R1=new Set;TB.recordUnsafeLifecycleWarnings=function(Y,K){R1.has(Y.type)||(typeof K.componentWillMount==="function"&&K.componentWillMount.__suppressDeprecationWarning!==!0&&LX.push(Y),Y.mode&O0&&typeof K.UNSAFE_componentWillMount==="function"&&RX.push(Y),typeof K.componentWillReceiveProps==="function"&&K.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&CX.push(Y),Y.mode&O0&&typeof K.UNSAFE_componentWillReceiveProps==="function"&&wX.push(Y),typeof K.componentWillUpdate==="function"&&K.componentWillUpdate.__suppressDeprecationWarning!==!0&&AX.push(Y),Y.mode&O0&&typeof K.UNSAFE_componentWillUpdate==="function"&&xX.push(Y))},TB.flushPendingUnsafeLifecycleWarnings=function(){var Y=new Set;0<LX.length&&(LX.forEach(function(Z){Y.add(u(Z)||"Component"),R1.add(Z.type)}),LX=[]);var K=new Set;0<RX.length&&(RX.forEach(function(Z){K.add(u(Z)||"Component"),R1.add(Z.type)}),RX=[]);var B=new Set;0<CX.length&&(CX.forEach(function(Z){B.add(u(Z)||"Component"),R1.add(Z.type)}),CX=[]);var $=new Set;0<wX.length&&(wX.forEach(function(Z){$.add(u(Z)||"Component"),R1.add(Z.type)}),wX=[]);var O=new Set;0<AX.length&&(AX.forEach(function(Z){O.add(u(Z)||"Component"),R1.add(Z.type)}),AX=[]);var z=new Set;if(0<xX.length&&(xX.forEach(function(Z){z.add(u(Z)||"Component"),R1.add(Z.type)}),xX=[]),0<K.size){var I=F(K);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,I)}0<$.size&&(I=F($),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,I)),0<z.size&&(I=F(z),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,I)),0<Y.size&&(I=F(Y),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,I)),0<B.size&&(I=F(B),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,I)),0<O.size&&(I=F(O),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,I))};var G2=new Map,BZ=new Set;TB.recordLegacyContextWarning=function(Y,K){var B=null;for(var $=Y;$!==null;)$.mode&O0&&(B=$),$=$.return;B===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!BZ.has(Y.type)&&($=G2.get(B),Y.type.contextTypes!=null||Y.type.childContextTypes!=null||K!==null&&typeof K.getChildContext==="function")&&($===void 0&&($=[],G2.set(B,$)),$.push(Y))},TB.flushLegacyContextWarning=function(){G2.forEach(function(Y){if(Y.length!==0){var K=Y[0],B=new Set;Y.forEach(function(O){B.add(u(O)||"Component"),BZ.add(O.type)});var $=F(B);KY(K,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,$)})}})},TB.discardPendingWarnings=function(){LX=[],RX=[],CX=[],wX=[],AX=[],xX=[],G2=new Map};var N4=new WeakMap,bH=[],vH=0,I2=null,W2=0,HB=[],OB=0,C1=null,k_=1,j_="",Z0=null,rK=null,fY=!1,b_=!1,XB=null,yB=null,z_=!1,Z4=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),N2=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),_Z=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),J4={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},EX=null,Z2=!1,$Z={"react-stack-bottom-frame":function(Y,K,B){var $=BB;BB=!0;try{return Y(K,B)}finally{BB=$}}},Q4=$Z["react-stack-bottom-frame"].bind($Z),HZ={"react-stack-bottom-frame":function(Y){var K=BB;BB=!0;try{return Y.render()}finally{BB=K}}},OZ=HZ["react-stack-bottom-frame"].bind(HZ),XZ={"react-stack-bottom-frame":function(Y,K){try{K.componentDidMount()}catch(B){YK(Y,Y.return,B)}}},q4=XZ["react-stack-bottom-frame"].bind(XZ),zZ={"react-stack-bottom-frame":function(Y,K,B,$,O){try{K.componentDidUpdate(B,$,O)}catch(z){YK(Y,Y.return,z)}}},PZ=zZ["react-stack-bottom-frame"].bind(zZ),GZ={"react-stack-bottom-frame":function(Y,K){var B=K.stack;Y.componentDidCatch(K.value,{componentStack:B!==null?B:""})}},tC=GZ["react-stack-bottom-frame"].bind(GZ),IZ={"react-stack-bottom-frame":function(Y,K,B){try{B.componentWillUnmount()}catch($){YK(Y,K,$)}}},WZ=IZ["react-stack-bottom-frame"].bind(IZ),NZ={"react-stack-bottom-frame":function(Y){var K=Y.create;return Y=Y.inst,K=K(),Y.destroy=K}},eC=NZ["react-stack-bottom-frame"].bind(NZ),ZZ={"react-stack-bottom-frame":function(Y,K,B){try{B()}catch($){YK(Y,K,$)}}},Yw=ZZ["react-stack-bottom-frame"].bind(ZZ),JZ={"react-stack-bottom-frame":function(Y){var K=Y._init;return K(Y._payload)}},x$=JZ["react-stack-bottom-frame"].bind(JZ),fH=null,VX=0,FY=null,L4,QZ=L4=!1,qZ={},LZ={},RZ={};C=function(Y,K,B){if(B!==null&&typeof B==="object"&&B._store&&(!B._store.validated&&B.key==null||B._store.validated===2)){if(typeof B._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");B._store.validated=1;var $=u(Y),O=$||"null";if(!qZ[O]){qZ[O]=!0,B=B._owner,Y=Y._debugOwner;var z="";Y&&typeof Y.tag==="number"&&(O=u(Y))&&(z=`

Check the render method of \``+O+"`."),z||$&&(z=`

Check the top-level render call using <`+$+">.");var I="";B!=null&&Y!==B&&($=null,typeof B.tag==="number"?$=u(B):typeof B.name==="string"&&($=B.name),$&&(I=" It was passed a child from "+$+".")),KY(K,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',z,I)})}}};var w1=F5(!0),CZ=F5(!1),mH=oY(null),J2=oY(0),zB=oY(null),P_=null,hH=1,FX=2,gK=oY(0),PB=0,GB=1,J0=2,tK=4,kK=8,Kw=typeof AbortController!=="undefined"?AbortController:function(){var Y=[],K=this.signal={aborted:!1,addEventListener:function(B,$){Y.push($)}};this.abort=function(){K.aborted=!0,Y.forEach(function(B){return B()})}},Bw=cY.unstable_scheduleCallback,_w=cY.unstable_NormalPriority,jK={$$typeof:__,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},DX=null,R4=0,A1=0,dH=null,wZ=f.S;f.S=function(Y,K){typeof K==="object"&&K!==null&&typeof K.then==="function"&&ML(Y,K),wZ!==null&&wZ(Y,K)};var x1=oY(null),cH,AZ=new Set,xZ=new Set,C4=new Set,EZ=new Set,E$=0,qY=null,BK=null,SK=null,Q2=!1,lH=!1,E1=!1,q2=0,MX=0,v_=null,$w=0,Hw=25,v=null,IB=null,f_=-1,UX=!1,w4=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},G_={readContext:qK,use:G$,useCallback:DK,useContext:DK,useEffect:DK,useImperativeHandle:DK,useLayoutEffect:DK,useInsertionEffect:DK,useMemo:DK,useReducer:DK,useRef:DK,useState:DK,useDebugValue:DK,useDeferredValue:DK,useTransition:DK,useSyncExternalStore:DK,useId:DK};G_.useCacheRefresh=DK,G_.useMemoCache=DK,G_.useHostTransitionStatus=DK,G_.useFormState=DK,G_.useActionState=DK,G_.useOptimistic=DK;var V$=null,V1=null,F$=null,F1=null,U0=null,Q0=null,D$=null;V$={readContext:function(Y){return qK(Y)},use:G$,useCallback:function(Y,K){return v="useCallback",TY(),XH(K),F6(Y,K)},useContext:function(Y){return v="useContext",TY(),qK(Y)},useEffect:function(Y,K){return v="useEffect",TY(),XH(K),x8(Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",TY(),XH(B),V6(Y,K,B)},useInsertionEffect:function(Y,K){v="useInsertionEffect",TY(),XH(K),X1(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",TY(),XH(K),E6(Y,K)},useMemo:function(Y,K){v="useMemo",TY(),XH(K);var B=f.H;f.H=U0;try{return D6(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",TY();var $=f.H;f.H=U0;try{return Q6(Y,K,B)}finally{f.H=$}},useRef:function(Y){return v="useRef",TY(),x6(Y)},useState:function(Y){v="useState",TY();var K=f.H;f.H=U0;try{return C6(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",TY()},useDeferredValue:function(Y,K){return v="useDeferredValue",TY(),M6(Y,K)},useTransition:function(){return v="useTransition",TY(),T6()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",TY(),L6(Y,K,B)},useId:function(){return v="useId",TY(),y6()},useCacheRefresh:function(){return v="useCacheRefresh",TY(),g6()}},V$.useMemoCache=O1,V$.useHostTransitionStatus=z1,V$.useFormState=function(Y,K){return v="useFormState",TY(),R8(),PH(Y,K)},V$.useActionState=function(Y,K){return v="useActionState",TY(),PH(Y,K)},V$.useOptimistic=function(Y){return v="useOptimistic",TY(),w6(Y)},V1={readContext:function(Y){return qK(Y)},use:G$,useCallback:function(Y,K){return v="useCallback",o(),F6(Y,K)},useContext:function(Y){return v="useContext",o(),qK(Y)},useEffect:function(Y,K){return v="useEffect",o(),x8(Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",o(),V6(Y,K,B)},useInsertionEffect:function(Y,K){v="useInsertionEffect",o(),X1(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),E6(Y,K)},useMemo:function(Y,K){v="useMemo",o();var B=f.H;f.H=U0;try{return D6(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",o();var $=f.H;f.H=U0;try{return Q6(Y,K,B)}finally{f.H=$}},useRef:function(Y){return v="useRef",o(),x6(Y)},useState:function(Y){v="useState",o();var K=f.H;f.H=U0;try{return C6(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),M6(Y,K)},useTransition:function(){return v="useTransition",o(),T6()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",o(),L6(Y,K,B)},useId:function(){return v="useId",o(),y6()},useCacheRefresh:function(){return v="useCacheRefresh",o(),g6()}},V1.useMemoCache=O1,V1.useHostTransitionStatus=z1,V1.useFormState=function(Y,K){return v="useFormState",o(),R8(),PH(Y,K)},V1.useActionState=function(Y,K){return v="useActionState",o(),PH(Y,K)},V1.useOptimistic=function(Y){return v="useOptimistic",o(),w6(Y)},F$={readContext:function(Y){return qK(Y)},use:G$,useCallback:function(Y,K){return v="useCallback",o(),V8(Y,K)},useContext:function(Y){return v="useContext",o(),qK(Y)},useEffect:function(Y,K){v="useEffect",o(),F0(2048,kK,Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",o(),E8(Y,K,B)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",o(),F0(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),F0(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",o();var B=f.H;f.H=Q0;try{return F8(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",o();var $=f.H;f.H=Q0;try{return zH(Y,K,B)}finally{f.H=$}},useRef:function(){return v="useRef",o(),eY().memoizedState},useState:function(){v="useState",o();var Y=f.H;f.H=Q0;try{return zH(FB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),n5(Y,K)},useTransition:function(){return v="useTransition",o(),e5()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",o(),C8(Y,K,B)},useId:function(){return v="useId",o(),eY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),eY().memoizedState}},F$.useMemoCache=O1,F$.useHostTransitionStatus=z1,F$.useFormState=function(Y){return v="useFormState",o(),R8(),w8(Y)},F$.useActionState=function(Y){return v="useActionState",o(),w8(Y)},F$.useOptimistic=function(Y,K){return v="useOptimistic",o(),v5(Y,K)},F1={readContext:function(Y){return qK(Y)},use:G$,useCallback:function(Y,K){return v="useCallback",o(),V8(Y,K)},useContext:function(Y){return v="useContext",o(),qK(Y)},useEffect:function(Y,K){v="useEffect",o(),F0(2048,kK,Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",o(),E8(Y,K,B)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",o(),F0(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),F0(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",o();var B=f.H;f.H=D$;try{return F8(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",o();var $=f.H;f.H=D$;try{return dO(Y,K,B)}finally{f.H=$}},useRef:function(){return v="useRef",o(),eY().memoizedState},useState:function(){v="useState",o();var Y=f.H;f.H=D$;try{return dO(FB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),o5(Y,K)},useTransition:function(){return v="useTransition",o(),YW()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",o(),C8(Y,K,B)},useId:function(){return v="useId",o(),eY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),eY().memoizedState}},F1.useMemoCache=O1,F1.useHostTransitionStatus=z1,F1.useFormState=function(Y){return v="useFormState",o(),R8(),A8(Y)},F1.useActionState=function(Y){return v="useActionState",o(),A8(Y)},F1.useOptimistic=function(Y,K){return v="useOptimistic",o(),m5(Y,K)},U0={readContext:function(Y){return L(),qK(Y)},use:function(Y){return Q(),G$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),TY(),F6(Y,K)},useContext:function(Y){return v="useContext",Q(),TY(),qK(Y)},useEffect:function(Y,K){return v="useEffect",Q(),TY(),x8(Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",Q(),TY(),V6(Y,K,B)},useInsertionEffect:function(Y,K){v="useInsertionEffect",Q(),TY(),X1(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),TY(),E6(Y,K)},useMemo:function(Y,K){v="useMemo",Q(),TY();var B=f.H;f.H=U0;try{return D6(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",Q(),TY();var $=f.H;f.H=U0;try{return Q6(Y,K,B)}finally{f.H=$}},useRef:function(Y){return v="useRef",Q(),TY(),x6(Y)},useState:function(Y){v="useState",Q(),TY();var K=f.H;f.H=U0;try{return C6(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",Q(),TY()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),TY(),M6(Y,K)},useTransition:function(){return v="useTransition",Q(),TY(),T6()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",Q(),TY(),L6(Y,K,B)},useId:function(){return v="useId",Q(),TY(),y6()},useCacheRefresh:function(){return v="useCacheRefresh",TY(),g6()},useMemoCache:function(Y){return Q(),O1(Y)}},U0.useHostTransitionStatus=z1,U0.useFormState=function(Y,K){return v="useFormState",Q(),TY(),PH(Y,K)},U0.useActionState=function(Y,K){return v="useActionState",Q(),TY(),PH(Y,K)},U0.useOptimistic=function(Y){return v="useOptimistic",Q(),TY(),w6(Y)},Q0={readContext:function(Y){return L(),qK(Y)},use:function(Y){return Q(),G$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),o(),V8(Y,K)},useContext:function(Y){return v="useContext",Q(),o(),qK(Y)},useEffect:function(Y,K){v="useEffect",Q(),o(),F0(2048,kK,Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",Q(),o(),E8(Y,K,B)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",Q(),o(),F0(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),o(),F0(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",Q(),o();var B=f.H;f.H=Q0;try{return F8(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",Q(),o();var $=f.H;f.H=Q0;try{return zH(Y,K,B)}finally{f.H=$}},useRef:function(){return v="useRef",Q(),o(),eY().memoizedState},useState:function(){v="useState",Q(),o();var Y=f.H;f.H=Q0;try{return zH(FB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",Q(),o()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),o(),n5(Y,K)},useTransition:function(){return v="useTransition",Q(),o(),e5()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",Q(),o(),C8(Y,K,B)},useId:function(){return v="useId",Q(),o(),eY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),eY().memoizedState},useMemoCache:function(Y){return Q(),O1(Y)}},Q0.useHostTransitionStatus=z1,Q0.useFormState=function(Y){return v="useFormState",Q(),o(),w8(Y)},Q0.useActionState=function(Y){return v="useActionState",Q(),o(),w8(Y)},Q0.useOptimistic=function(Y,K){return v="useOptimistic",Q(),o(),v5(Y,K)},D$={readContext:function(Y){return L(),qK(Y)},use:function(Y){return Q(),G$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),o(),V8(Y,K)},useContext:function(Y){return v="useContext",Q(),o(),qK(Y)},useEffect:function(Y,K){v="useEffect",Q(),o(),F0(2048,kK,Y,K)},useImperativeHandle:function(Y,K,B){return v="useImperativeHandle",Q(),o(),E8(Y,K,B)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",Q(),o(),F0(4,J0,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),o(),F0(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",Q(),o();var B=f.H;f.H=Q0;try{return F8(Y,K)}finally{f.H=B}},useReducer:function(Y,K,B){v="useReducer",Q(),o();var $=f.H;f.H=Q0;try{return dO(Y,K,B)}finally{f.H=$}},useRef:function(){return v="useRef",Q(),o(),eY().memoizedState},useState:function(){v="useState",Q(),o();var Y=f.H;f.H=Q0;try{return dO(FB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",Q(),o()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),o(),o5(Y,K)},useTransition:function(){return v="useTransition",Q(),o(),YW()},useSyncExternalStore:function(Y,K,B){return v="useSyncExternalStore",Q(),o(),C8(Y,K,B)},useId:function(){return v="useId",Q(),o(),eY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),eY().memoizedState},useMemoCache:function(Y){return Q(),O1(Y)}},D$.useHostTransitionStatus=z1,D$.useFormState=function(Y){return v="useFormState",Q(),o(),A8(Y)},D$.useActionState=function(Y){return v="useActionState",Q(),o(),A8(Y)},D$.useOptimistic=function(Y,K){return v="useOptimistic",Q(),o(),m5(Y,K)};var VZ={},FZ=new Set,DZ=new Set,MZ=new Set,UZ=new Set,SZ=new Set,TZ=new Set,yZ=new Set,gZ=new Set,kZ=new Set,jZ=new Set;Object.freeze(VZ);var A4={isMounted:function(Y){var K=_0;if(K!==null&&BB&&K.tag===1){var B=K.stateNode;B._warnedAboutRefsInRender||console.error("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",u(K)||"A component"),B._warnedAboutRefsInRender=!0}return(Y=Y._reactInternals)?e(Y)===Y:!1},enqueueSetState:function(Y,K,B){Y=Y._reactInternals;var $=f0(Y),O=W$($);O.payload=K,B!==void 0&&B!==null&&(j6(B),O.callback=B),K=N$(Y,O,$),K!==null&&(CK(K,Y,$),pO(K,Y,$)),IK(Y,$)},enqueueReplaceState:function(Y,K,B){Y=Y._reactInternals;var $=f0(Y),O=W$($);O.tag=pZ,O.payload=K,B!==void 0&&B!==null&&(j6(B),O.callback=B),K=N$(Y,O,$),K!==null&&(CK(K,Y,$),pO(K,Y,$)),IK(Y,$)},enqueueForceUpdate:function(Y,K){Y=Y._reactInternals;var B=f0(Y),$=W$(B);$.tag=iZ,K!==void 0&&K!==null&&(j6(K),$.callback=K),K=N$(Y,$,B),K!==null&&(CK(K,Y,B),pO(K,Y,B)),YY!==null&&typeof YY.markForceUpdateScheduled==="function"&&YY.markForceUpdateScheduled(Y,B)}},L2=typeof reportError==="function"?reportError:function(Y){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y==="object"&&Y!==null&&typeof Y.message==="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(K))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Y);return}console.error(Y)},uH=null,x4=null,bZ=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),lK=!1,vZ={},fZ={},mZ={},hZ={},pH=!1,dZ={},E4={},V4={dehydrated:null,treeContext:null,retryLane:0},cZ=!1,F4=oY(null),D4=oY(null),lZ={},R2=null,iH=null,nH=!1,uZ=0,pZ=1,iZ=2,M4=3,M$=!1,nZ=!1,U4=null,S4=!1,oZ=null;oZ=new Set;var m_=!1,xK=!1,T4=!1,sZ=typeof WeakSet==="function"?WeakSet:Set,uK=null,oH=null,sH=null,aZ=!1,TK=null,h0=!1,gB=null,SX=8192,rZ=!1;try{var tZ=Object.preventExtensions({});}catch(Y){rZ=!0}var Ow={getCacheForType:function(Y){var K=qK(jK),B=K.data.get(Y);return B===void 0&&(B=Y(),K.data.set(Y,B)),B},getOwner:function(){return _0}};if(typeof Symbol==="function"&&Symbol.for){var TX=Symbol.for;TX("selector.component"),TX("selector.has_pseudo_class"),TX("selector.role"),TX("selector.test_id"),TX("selector.text")}var Xw=[],zw=typeof WeakMap==="function"?WeakMap:Map,d0=0,q0=2,h_=4,d_=0,yX=1,aH=2,y4=3,D1=4,eZ=5,C2=6,ZK=d0,OK=null,UY=null,yY=0,S0=0,gX=1,M1=2,kX=3,Y9=4,g4=5,rH=6,jX=7,k4=8,XK=S0,c0=null,c_=!1,tH=!1,j4=!1,I_=0,EK=d_,U$=0,S$=0,b4=0,l0=0,U1=0,bX=null,kB=null,w2=!1,v4=0,K9=300,A2=1/0,B9=500,vX=null,T$=null,x2=!1,S1=null,fX=0,f4=0,m4=null,Pw=50,mX=0,h4=null,d4=!1,E2=!1,Gw=50,T1=0,hX=null,eH=!1,_9=0,Iw=1,Ww=2,V2=null,$9=!1,H9=new Set,Nw={},F2=null,YO=null,c4=!1,l4=!1,D2=!1,u4=!1,y1=0,p4={};(function(){for(var Y=0;Y<YZ.length;Y++){var K=YZ[Y],B=K.toLowerCase();K=K[0].toUpperCase()+K.slice(1),VB(B,"on"+K)}VB(s3,"onAnimationEnd"),VB(a3,"onAnimationIteration"),VB(r3,"onAnimationStart"),VB("dblclick","onDoubleClick"),VB("focusin","onFocus"),VB("focusout","onBlur"),VB(oC,"onTransitionRun"),VB(sC,"onTransitionStart"),VB(aC,"onTransitionCancel"),VB(t3,"onTransitionEnd")})(),xB("onMouseEnter",["mouseout","mouseover"]),xB("onMouseLeave",["mouseout","mouseover"]),xB("onPointerEnter",["pointerout","pointerover"]),xB("onPointerLeave",["pointerout","pointerover"]),sB("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sB("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sB("onBeforeInput",["compositionend","keypress","textInput","paste"]),sB("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sB("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sB("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dX="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dX)),M2="_reactListening"+Math.random().toString(36).slice(2),O9=!1,X9=!1,U2=!1,z9=!1,S2=!1,T2=!1,P9=!1,y2={},Zw=!0,Jw=/\r\n?/g,Qw=/\u0000|\uFFFD/g,g1="http://www.w3.org/1999/xlink",n4="http://www.w3.org/XML/1998/namespace",qw="javascript:throw new Error('React form unexpectedly submitted.')",Lw="suppressHydrationWarning",g2="$",k2="/$",k1="$?",j1="$!",o4="F!",G9="F",Rw="style",l_=0,KO=1,j2=2,s4=null,a4=null,I9={dialog:!0,webview:!0},r4=null,W9=typeof setTimeout==="function"?setTimeout:void 0,Cw=typeof clearTimeout==="function"?clearTimeout:void 0,t4=-1,N9=typeof Promise==="function"?Promise:void 0,ww=typeof queueMicrotask==="function"?queueMicrotask:typeof N9!=="undefined"?function(Y){return N9.resolve(null).then(Y).catch(NR)}:W9,b1=0,cX=1,Z9=2,J9=3,WB=4,NB=new Map,Q9=new Set,u_=NK.d;NK.d={f:function(){var Y=u_.f(),K=JH();return Y||K},r:function(Y){var K=oB(Y);K!==null&&K.tag===5&&K.type==="form"?t5(K):u_.r(Y)},D:function(Y){u_.D(Y),hN("dns-prefetch",Y,null)},C:function(Y,K){u_.C(Y,K),hN("preconnect",Y,K)},L:function(Y,K,B){u_.L(Y,K,B);var $=BO;if($&&Y&&K){var O='link[rel="preload"][as="'+CY(K)+'"]';K==="image"?B&&B.imageSrcSet?(O+='[imagesrcset="'+CY(B.imageSrcSet)+'"]',typeof B.imageSizes==="string"&&(O+='[imagesizes="'+CY(B.imageSizes)+'"]')):O+='[href="'+CY(Y)+'"]':O+='[href="'+CY(Y)+'"]';var z=O;switch(K){case"style":z=RH(Y);break;case"script":z=CH(Y)}NB.has(z)||(Y=DY({rel:"preload",href:K==="image"&&B&&B.imageSrcSet?void 0:Y,as:K},B),NB.set(z,Y),$.querySelector(O)!==null||K==="style"&&$.querySelector(KX(z))||K==="script"&&$.querySelector(BX(z))||(K=$.createElement("link"),oK(K,"link",Y),FK(K),$.head.appendChild(K)))}},m:function(Y,K){u_.m(Y,K);var B=BO;if(B&&Y){var $=K&&typeof K.as==="string"?K.as:"script",O='link[rel="modulepreload"][as="'+CY($)+'"][href="'+CY(Y)+'"]',z=O;switch($){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=CH(Y)}if(!NB.has(z)&&(Y=DY({rel:"modulepreload",href:Y},K),NB.set(z,Y),B.querySelector(O)===null)){switch($){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(B.querySelector(BX(z)))return}$=B.createElement("link"),oK($,"link",Y),FK($),B.head.appendChild($)}}},X:function(Y,K){u_.X(Y,K);var B=BO;if(B&&Y){var $=A_(B).hoistableScripts,O=CH(Y),z=$.get(O);z||(z=B.querySelector(BX(O)),z||(Y=DY({src:Y,async:!0},K),(K=NB.get(O))&&TP(Y,K),z=B.createElement("script"),FK(z),oK(z,"link",Y),B.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},$.set(O,z))}},S:function(Y,K,B){u_.S(Y,K,B);var $=BO;if($&&Y){var O=A_($).hoistableStyles,z=RH(Y);K=K||"default";var I=O.get(z);if(!I){var Z={loading:b1,preload:null};if(I=$.querySelector(KX(z)))Z.loading=cX|WB;else{Y=DY({rel:"stylesheet",href:Y,"data-precedence":K},B),(B=NB.get(z))&&SP(Y,B);var R=I=$.createElement("link");FK(R),oK(R,"link",Y),R._p=new Promise(function(A,k){R.onload=A,R.onerror=k}),R.addEventListener("load",function(){Z.loading|=cX}),R.addEventListener("error",function(){Z.loading|=Z9}),Z.loading|=WB,u8(I,K,$)}I={type:"stylesheet",instance:I,count:1,state:Z},O.set(z,I)}}},M:function(Y,K){u_.M(Y,K);var B=BO;if(B&&Y){var $=A_(B).hoistableScripts,O=CH(Y),z=$.get(O);z||(z=B.querySelector(BX(O)),z||(Y=DY({src:Y,async:!0,type:"module"},K),(K=NB.get(O))&&TP(Y,K),z=B.createElement("script"),FK(z),oK(z,"link",Y),B.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},$.set(O,z))}}};var BO=typeof document==="undefined"?null:document,b2=null,lX=null,e4=null,v2=null,v1=iR,uX={$$typeof:__,Provider:null,Consumer:null,_currentValue:v1,_currentValue2:v1,_threadCount:0},q9="%c%s%c ",L9="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",R9="",f2=" ",C9=Function.prototype.bind,w9=!1,A9=null,x9=null,E9=null,V9=null,F9=null,D9=null,M9=null,U9=null,S9=null;A9=function(Y,K,B,$){K=_(Y,K),K!==null&&(B=H(K.memoizedState,B,0,$),K.memoizedState=B,K.baseState=B,Y.memoizedProps=DY({},Y.memoizedProps),B=B0(Y,2),B!==null&&CK(B,Y,2))},x9=function(Y,K,B){K=_(Y,K),K!==null&&(B=G(K.memoizedState,B,0),K.memoizedState=B,K.baseState=B,Y.memoizedProps=DY({},Y.memoizedProps),B=B0(Y,2),B!==null&&CK(B,Y,2))},E9=function(Y,K,B,$){K=_(Y,K),K!==null&&(B=X(K.memoizedState,B,$),K.memoizedState=B,K.baseState=B,Y.memoizedProps=DY({},Y.memoizedProps),B=B0(Y,2),B!==null&&CK(B,Y,2))},V9=function(Y,K,B){Y.pendingProps=H(Y.memoizedProps,K,0,B),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=B0(Y,2),K!==null&&CK(K,Y,2)},F9=function(Y,K){Y.pendingProps=G(Y.memoizedProps,K,0),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=B0(Y,2),K!==null&&CK(K,Y,2)},D9=function(Y,K,B){Y.pendingProps=X(Y.memoizedProps,K,B),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=B0(Y,2),K!==null&&CK(K,Y,2)},M9=function(Y){var K=B0(Y,2);K!==null&&CK(K,Y,2)},U9=function(Y){N=Y},S9=function(Y){W=Y};var m2=!0,h2=null,YG=!1,y$=null,g$=null,k$=null,pX=new Map,iX=new Map,j$=[],Aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),d2=null;if(o8.prototype.render=vP.prototype.render=function(Y,K){var B=this._internalRoot;if(B===null)throw Error("Cannot update an unmounted root.");typeof K==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):S(K)?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof K!=="undefined"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),K=B.current;var $=f0(K);aN(K,$,Y,B,null,null)},o8.prototype.unmount=vP.prototype.unmount=function(Y){if(typeof Y==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),Y=this._internalRoot,Y!==null){this._internalRoot=null;var K=Y.containerInfo;(ZK&(q0|h_))!==d0&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),sN(null,Y,null,null),JH(),K[Z1]=null}},o8.prototype.unstable_scheduleHydration=function(Y){if(Y){var K=ez();Y={blockedOn:null,target:Y,priority:K};for(var B=0;B<j$.length&&K!==0&&K<j$[B].priority;B++);j$.splice(B,0,Y),B===0&&K3(Y)}},function(){var Y=_O.version;if(Y!=="19.0.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(Y+`
  - react-dom:  19.0.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),NK.findDOMNode=function(Y){var K=Y._reactInternals;if(K===void 0){if(typeof Y.render==="function")throw Error("Unable to find node on an unmounted component.");throw Y=Object.keys(Y).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+Y)}return Y=lY(K),Y=Y!==null?rY(Y):null,Y=Y===null?null:Y.stateNode,Y},!function(){var Y={bundleType:1,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:f,findFiberByHostInstance:nB,reconcilerVersion:"19.0.0"};return Y.overrideHookState=A9,Y.overrideHookStateDeletePath=x9,Y.overrideHookStateRenamePath=E9,Y.overrideProps=V9,Y.overridePropsDeletePath=F9,Y.overridePropsRenamePath=D9,Y.scheduleUpdate=M9,Y.setErrorHandler=U9,Y.setSuspenseHandler=S9,Y.scheduleRefresh=U,Y.scheduleRoot=T,Y.setRefreshHandler=m,Y.getCurrentFiber=bR,Y.getLaneLabelMap=vR,Y.injectProfilingHooks=o$,w_(Y)}()&&X_&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var T9=window.location.protocol;/^(https?|file):$/.test(T9)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(T9==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}vw.createRoot=function(Y,K){if(!S(Y))throw Error("Target container is not a DOM element.");$3(Y);var B=!1,$="",O=OW,z=XW,I=zW,Z=null;return K!==null&&K!==void 0&&(K.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof K==="object"&&K!==null&&K.$$typeof===q$&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),K.unstable_strictMode===!0&&(B=!0),K.identifierPrefix!==void 0&&($=K.identifierPrefix),K.onUncaughtError!==void 0&&(O=K.onUncaughtError),K.onCaughtError!==void 0&&(z=K.onCaughtError),K.onRecoverableError!==void 0&&(I=K.onRecoverableError),K.unstable_transitionCallbacks!==void 0&&(Z=K.unstable_transitionCallbacks)),K=nN(Y,1,!1,null,null,B,$,O,z,I,Z,null),Y[Z1]=K.current,wP(Y.nodeType===8?Y.parentNode:Y),new vP(K)},vw.hydrateRoot=function(Y,K,B){if(!S(Y))throw Error("Target container is not a DOM element.");$3(Y),K===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var $=!1,O="",z=OW,I=XW,Z=zW,R=null,A=null;return B!==null&&B!==void 0&&(B.unstable_strictMode===!0&&($=!0),B.identifierPrefix!==void 0&&(O=B.identifierPrefix),B.onUncaughtError!==void 0&&(z=B.onUncaughtError),B.onCaughtError!==void 0&&(I=B.onCaughtError),B.onRecoverableError!==void 0&&(Z=B.onRecoverableError),B.unstable_transitionCallbacks!==void 0&&(R=B.unstable_transitionCallbacks),B.formState!==void 0&&(A=B.formState)),K=nN(Y,1,!0,K,B!=null?B:null,$,O,z,I,Z,R,A),K.context=oN(null),B=K.current,$=f0(B),O=W$($),O.callback=null,N$(B,O,$),K.current.lanes=$,hK(K,$),K_(K),Y[Z1]=K.current,wP(Y),new o8(K)},vw.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var v9=W_((lD,b9)=>{var fw=d(j9(),1);b9.exports=fw});var d9=W_((h9)=>{Object.defineProperty(h9,"__esModule",{value:!0});h9.parse=pw;h9.serialize=iw;var mw=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,hw=/^[\u0021-\u003A\u003C-\u007E]*$/,dw=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,cw=/^[\u0020-\u003A\u003D-\u007E]*$/,lw=Object.prototype.toString,uw=(()=>{let _=function(){};return _.prototype=Object.create(null),_})();function pw(_,H){let X=new uw,P=_.length;if(P<2)return X;let G=H?.decode||nw,W=0;do{let N=_.indexOf("=",W);if(N===-1)break;let q=_.indexOf(";",W),Q=q===-1?P:q;if(N>Q){W=_.lastIndexOf(";",N-1)+1;continue}let L=f9(_,W,N),w=m9(_,N,L),C=_.slice(L,w);if(X[C]===void 0){let F=f9(_,N+1,Q),T=m9(_,Q,F),U=G(_.slice(F,T));X[C]=U}W=Q+1}while(W<P);return X}function f9(_,H,X){do{let P=_.charCodeAt(H);if(P!==32&&P!==9)return H}while(++H<X);return X}function m9(_,H,X){while(H>X){let P=_.charCodeAt(--H);if(P!==32&&P!==9)return H+1}return X}function iw(_,H,X){let P=X?.encode||encodeURIComponent;if(!mw.test(_))throw new TypeError(`argument name is invalid: ${_}`);let G=P(H);if(!hw.test(G))throw new TypeError(`argument val is invalid: ${H}`);let W=_+"="+G;if(!X)return W;if(X.maxAge!==void 0){if(!Number.isInteger(X.maxAge))throw new TypeError(`option maxAge is invalid: ${X.maxAge}`);W+="; Max-Age="+X.maxAge}if(X.domain){if(!dw.test(X.domain))throw new TypeError(`option domain is invalid: ${X.domain}`);W+="; Domain="+X.domain}if(X.path){if(!cw.test(X.path))throw new TypeError(`option path is invalid: ${X.path}`);W+="; Path="+X.path}if(X.expires){if(!ow(X.expires)||!Number.isFinite(X.expires.valueOf()))throw new TypeError(`option expires is invalid: ${X.expires}`);W+="; Expires="+X.expires.toUTCString()}if(X.httpOnly)W+="; HttpOnly";if(X.secure)W+="; Secure";if(X.partitioned)W+="; Partitioned";if(X.priority)switch(typeof X.priority==="string"?X.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${X.priority}`)}if(X.sameSite)switch(typeof X.sameSite==="string"?X.sameSite.toLowerCase():X.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${X.sameSite}`)}return W}function nw(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch(H){return _}}function ow(_){return lw.call(_)==="[object Date]"}});var dQ=W_((ME)=>{ME.__esModule=!0;ME.distance=ME.closest=void 0;var t_=new Uint32Array(65536),VE=function(_,H){var X=_.length,P=H.length,G=1<<X-1,W=-1,N=0,q=X,Q=X;while(Q--)t_[_.charCodeAt(Q)]|=1<<Q;for(Q=0;Q<P;Q++){var L=t_[H.charCodeAt(Q)],w=L|N;if(L|=(L&W)+W^W,N|=~(L|W),W&=L,N&G)q++;if(W&G)q--;N=N<<1|1,W=W<<1|~(w|N),N&=w}Q=X;while(Q--)t_[_.charCodeAt(Q)]=0;return q},FE=function(_,H){var X=H.length,P=_.length,G=[],W=[],N=Math.ceil(X/32),q=Math.ceil(P/32);for(var Q=0;Q<N;Q++)W[Q]=-1,G[Q]=0;var L=0;for(;L<q-1;L++){var w=0,C=-1,F=L*32,T=Math.min(32,P)+F;for(var U=F;U<T;U++)t_[_.charCodeAt(U)]|=1<<U;for(var Q=0;Q<X;Q++){var m=t_[H.charCodeAt(Q)],S=W[Q/32|0]>>>Q&1,y=G[Q/32|0]>>>Q&1,b=m|w,i=((m|y)&C)+C^C|m|y,u=w|~(i|C),$Y=C&i;if(u>>>31^S)W[Q/32|0]^=1<<Q;if($Y>>>31^y)G[Q/32|0]^=1<<Q;u=u<<1|S,$Y=$Y<<1|y,C=$Y|~(b|u),w=u&b}for(var U=F;U<T;U++)t_[_.charCodeAt(U)]=0}var bY=0,ZY=-1,gY=L*32,LY=Math.min(32,P-gY)+gY;for(var U=gY;U<LY;U++)t_[_.charCodeAt(U)]|=1<<U;var _K=P;for(var Q=0;Q<X;Q++){var m=t_[H.charCodeAt(Q)],S=W[Q/32|0]>>>Q&1,y=G[Q/32|0]>>>Q&1,b=m|bY,i=((m|y)&ZY)+ZY^ZY|m|y,u=bY|~(i|ZY),$Y=ZY&i;if(_K+=u>>>P-1&1,_K-=$Y>>>P-1&1,u>>>31^S)W[Q/32|0]^=1<<Q;if($Y>>>31^y)G[Q/32|0]^=1<<Q;u=u<<1|S,$Y=$Y<<1|y,ZY=$Y|~(b|u),bY=u&b}for(var U=gY;U<LY;U++)t_[_.charCodeAt(U)]=0;return _K},mQ=function(_,H){if(_.length<H.length){var X=H;H=_,_=X}if(H.length===0)return _.length;if(_.length<=32)return VE(_,H);return FE(_,H)};ME.distance=mQ;var DE=function(_,H){var X=1/0,P=0;for(var G=0;G<H.length;G++){var W=mQ(_,H[G]);if(W<X)X=W,P=G}return H[P]};ME.closest=DE});var cQ=W_((BI,Nz)=>{(function(){var _;try{_=typeof Intl!=="undefined"&&typeof Intl.Collator!=="undefined"?Intl.Collator("generic",{sensitivity:"base"}):null}catch(W){console.log("Collator could not be initialized and wouldn't be used")}var H=dQ(),X=[],P=[],G={get:function(W,N,q){var Q=q&&_&&q.useCollator;if(Q){var L=W.length,w=N.length;if(L===0)return w;if(w===0)return L;var C,F,T,U,m;for(T=0;T<w;++T)X[T]=T,P[T]=N.charCodeAt(T);X[w]=w;var S;for(T=0;T<L;++T){F=T+1;for(U=0;U<w;++U){if(C=F,S=_.compare(W.charAt(T),String.fromCharCode(P[U]))===0,F=X[U]+(S?0:1),m=C+1,F>m)F=m;if(m=X[U+1]+1,F>m)F=m;X[U]=C}X[U]=F}return F}return H.distance(W,N)}};if(typeof define!=="undefined"&&define!==null&&define.amd)define(function(){return G});else if(typeof Nz!=="undefined"&&Nz!==null&&typeof BI!=="undefined"&&Nz.exports===BI)Nz.exports=G;else if(typeof self!=="undefined"&&typeof self.postMessage==="function"&&typeof self.importScripts==="function")self.Levenshtein=G;else if(typeof window!=="undefined"&&window!==null)window.Levenshtein=G})()});var s=W_((OF)=>{var UI=d(mY(),1);(function(){function _(V){if(V==null)return null;if(typeof V==="function")return V.$$typeof===zY?null:V.displayName||V.name||null;if(typeof V==="string")return V;switch(V){case $Y:return"Fragment";case u:return"Portal";case ZY:return"Profiler";case bY:return"StrictMode";case $K:return"Suspense";case RK:return"SuspenseList"}if(typeof V==="object")switch(typeof V.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),V.$$typeof){case LY:return(V.displayName||"Context")+".Provider";case gY:return(V._context.displayName||"Context")+".Consumer";case _K:var BY=V.render;return V=V.displayName,V||(V=BY.displayName||BY.name||"",V=V!==""?"ForwardRef("+V+")":"ForwardRef"),V;case G0:return BY=V.displayName||null,BY!==null?BY:_(V.type)||"Memo";case KY:BY=V._payload,V=V._init;try{return _(V(BY))}catch(_Y){}}return null}function H(V){return""+V}function X(V){try{H(V);var BY=!1}catch(IK){BY=!0}if(BY){BY=console;var _Y=BY.error,jY=typeof Symbol==="function"&&Symbol.toStringTag&&V[Symbol.toStringTag]||V.constructor.name||"Object";return _Y.call(BY,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",jY),H(V)}}function P(){}function G(){if(GK===0){pK=console.log,o0=console.info,R0=console.warn,iB=console.error,LB=console.group,s0=console.groupCollapsed,RB=console.groupEnd;var V={configurable:!0,enumerable:!0,value:P,writable:!0};Object.defineProperties(console,{info:V,log:V,warn:V,error:V,group:V,groupCollapsed:V,groupEnd:V})}GK++}function W(){if(GK--,GK===0){var V={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:oY({},V,{value:pK}),info:oY({},V,{value:o0}),warn:oY({},V,{value:R0}),error:oY({},V,{value:iB}),group:oY({},V,{value:LB}),groupCollapsed:oY({},V,{value:s0}),groupEnd:oY({},V,{value:RB})})}0>GK&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function N(V){if(C0===void 0)try{throw Error()}catch(_Y){var BY=_Y.stack.trim().match(/\n( *(at )?)/);C0=BY&&BY[1]||"",hY=-1<_Y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_Y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+C0+V+hY}function q(V,BY){if(!V||CB)return"";var _Y=w0.get(V);if(_Y!==void 0)return _Y;CB=!0,_Y=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var jY=null;jY=lY.H,lY.H=null,G();try{var IK={DetermineComponentFrameRoot:function(){try{if(BY){var A0=function(){throw Error()};if(Object.defineProperty(A0.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(A0,[])}catch(hK){var AB=hK}Reflect.construct(V,[],A0)}else{try{A0.call()}catch(hK){AB=hK}V.call(A0.prototype)}}else{try{throw Error()}catch(hK){AB=hK}(A0=V())&&typeof A0.catch==="function"&&A0.catch(function(){})}}catch(hK){if(hK&&AB&&typeof hK.stack==="string")return[hK.stack,AB.stack]}return[null,null]}};IK.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var tY=Object.getOwnPropertyDescriptor(IK.DetermineComponentFrameRoot,"name");tY&&tY.configurable&&Object.defineProperty(IK.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=IK.DetermineComponentFrameRoot(),AK=r[0],k0=r[1];if(AK&&k0){var HK=AK.split(`
`),a0=k0.split(`
`);for(r=tY=0;tY<HK.length&&!HK[tY].includes("DetermineComponentFrameRoot");)tY++;for(;r<a0.length&&!a0[r].includes("DetermineComponentFrameRoot");)r++;if(tY===HK.length||r===a0.length)for(tY=HK.length-1,r=a0.length-1;1<=tY&&0<=r&&HK[tY]!==a0[r];)r--;for(;1<=tY&&0<=r;tY--,r--)if(HK[tY]!==a0[r]){if(tY!==1||r!==1)do if(tY--,r--,0>r||HK[tY]!==a0[r]){var wB=`
`+HK[tY].replace(" at new "," at ");return V.displayName&&wB.includes("<anonymous>")&&(wB=wB.replace("<anonymous>",V.displayName)),typeof V==="function"&&w0.set(V,wB),wB}while(1<=tY&&0<=r);break}}}finally{CB=!1,lY.H=jY,W(),Error.prepareStackTrace=_Y}return HK=(HK=V?V.displayName||V.name:"")?N(HK):"",typeof V==="function"&&w0.set(V,HK),HK}function Q(V){if(V==null)return"";if(typeof V==="function"){var BY=V.prototype;return q(V,!(!BY||!BY.isReactComponent))}if(typeof V==="string")return N(V);switch(V){case $K:return N("Suspense");case RK:return N("SuspenseList")}if(typeof V==="object")switch(V.$$typeof){case _K:return V=q(V.render,!1),V;case G0:return Q(V.type);case KY:BY=V._payload,V=V._init;try{return Q(V(BY))}catch(_Y){}}return""}function L(){var V=lY.A;return V===null?null:V.getOwner()}function w(V){if(rY.call(V,"key")){var BY=Object.getOwnPropertyDescriptor(V,"key").get;if(BY&&BY.isReactWarning)return!1}return V.key!==void 0}function C(V,BY){function _Y(){t1||(t1=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",BY))}_Y.isReactWarning=!0,Object.defineProperty(V,"key",{get:_Y,configurable:!0})}function F(){var V=_(this.type);return sY[V]||(sY[V]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),V=this.props.ref,V!==void 0?V:null}function T(V,BY,_Y,jY,IK,tY){return _Y=tY.ref,V={$$typeof:i,type:V,key:BY,props:tY,_owner:IK},(_Y!==void 0?_Y:null)!==null?Object.defineProperty(V,"ref",{enumerable:!1,get:F}):Object.defineProperty(V,"ref",{enumerable:!1,value:null}),V._store={},Object.defineProperty(V._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(V,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(V.props),Object.freeze(V)),V}function U(V,BY,_Y,jY,IK,tY){if(typeof V==="string"||typeof V==="function"||V===$Y||V===ZY||V===bY||V===$K||V===RK||V===e||typeof V==="object"&&V!==null&&(V.$$typeof===KY||V.$$typeof===G0||V.$$typeof===LY||V.$$typeof===gY||V.$$typeof===_K||V.$$typeof===pY||V.getModuleId!==void 0)){var r=BY.children;if(r!==void 0)if(jY)if(kY(r)){for(jY=0;jY<r.length;jY++)m(r[jY],V);Object.freeze&&Object.freeze(r)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(r,V)}else{if(r="",V===void 0||typeof V==="object"&&V!==null&&Object.keys(V).length===0)r+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";V===null?jY="null":kY(V)?jY="array":V!==void 0&&V.$$typeof===i?(jY="<"+(_(V.type)||"Unknown")+" />",r=" Did you accidentally export a JSX literal instead of a component?"):jY=typeof V,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",jY,r)}if(rY.call(BY,"key")){r=_(V);var AK=Object.keys(BY).filter(function(HK){return HK!=="key"});jY=0<AK.length?"{key: someKey, "+AK.join(": ..., ")+": ...}":"{key: someKey}",o$[r+jY]||(AK=0<AK.length?"{"+AK.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,jY,r,AK,r),o$[r+jY]=!0)}if(r=null,_Y!==void 0&&(X(_Y),r=""+_Y),w(BY)&&(X(BY.key),r=""+BY.key),"key"in BY){_Y={};for(var k0 in BY)k0!=="key"&&(_Y[k0]=BY[k0])}else _Y=BY;return r&&C(_Y,typeof V==="function"?V.displayName||V.name||"Unknown":V),T(V,r,tY,IK,L(),_Y)}function m(V,BY){if(typeof V==="object"&&V&&V.$$typeof!==w_){if(kY(V))for(var _Y=0;_Y<V.length;_Y++){var jY=V[_Y];S(jY)&&y(jY,BY)}else if(S(V))V._store&&(V._store.validated=1);else if(V===null||typeof V!=="object"?_Y=null:(_Y=RY&&V[RY]||V["@@iterator"],_Y=typeof _Y==="function"?_Y:null),typeof _Y==="function"&&_Y!==V.entries&&(_Y=_Y.call(V),_Y!==V))for(;!(V=_Y.next()).done;)S(V.value)&&y(V.value,BY)}}function S(V){return typeof V==="object"&&V!==null&&V.$$typeof===i}function y(V,BY){if(V._store&&!V._store.validated&&V.key==null&&(V._store.validated=1,BY=b(BY),!H$[BY])){H$[BY]=!0;var _Y="";V&&V._owner!=null&&V._owner!==L()&&(_Y=null,typeof V._owner.tag==="number"?_Y=_(V._owner.type):typeof V._owner.name==="string"&&(_Y=V._owner.name),_Y=" It was passed a child from "+_Y+".");var jY=lY.getCurrentStack;lY.getCurrentStack=function(){var IK=Q(V.type);return jY&&(IK+=jY()||""),IK},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',BY,_Y),lY.getCurrentStack=jY}}function b(V){var BY="",_Y=L();return _Y&&(_Y=_(_Y.type))&&(BY=`

Check the render method of \``+_Y+"`."),BY||(V=_(V))&&(BY=`

Check the top-level render call using <`+V+">."),BY}var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),$Y=Symbol.for("react.fragment"),bY=Symbol.for("react.strict_mode"),ZY=Symbol.for("react.profiler");Symbol.for("react.provider");var gY=Symbol.for("react.consumer"),LY=Symbol.for("react.context"),_K=Symbol.for("react.forward_ref"),$K=Symbol.for("react.suspense"),RK=Symbol.for("react.suspense_list"),G0=Symbol.for("react.memo"),KY=Symbol.for("react.lazy"),e=Symbol.for("react.offscreen"),RY=Symbol.iterator,zY=Symbol.for("react.client.reference"),lY=UI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rY=Object.prototype.hasOwnProperty,oY=Object.assign,pY=Symbol.for("react.client.reference"),kY=Array.isArray,GK=0,pK,o0,R0,iB,LB,s0,RB;P.__reactDisabledLog=!0;var C0,hY,CB=!1,w0=new(typeof WeakMap==="function"?WeakMap:Map),w_=Symbol.for("react.client.reference"),t1,sY={},o$={},H$={};OF.Fragment=$Y,OF.jsxDEV=function(V,BY,_Y,jY,IK,tY){return U(V,BY,_Y,jY,IK,tY)}})()});var BG="./logo-tsnr81fk.png";var _G="./big_star_and_smaller_star_icon-3e20r8j1.png";var $G="./search_icon-d2d7x7b5.png";var i_="./placeholder-bg1jeqyh.jpg";var VY=d(mY(),1),bI=d(v9(),1);var VK=d(mY(),1),Z_=d(mY(),1),IY=d(mY(),1),WY=d(mY(),1),nY=d(mY(),1),xG=d(mY(),1);var aA=d(mY(),1),rA=d(mY(),1),IJ=d(mY(),1),tA=d(mY(),1),DJ=d(mY(),1),VG=d(mY(),1),MJ=d(mY(),1),UJ=d(d9(),1);var c9="popstate";function n9(_={}){function H(P,G){let{pathname:W,search:N,hash:q}=P.location;return GG("",{pathname:W,search:N,hash:q},G.state&&G.state.usr||null,G.state&&G.state.key||"default")}function X(P,G){return typeof G==="string"?G:$O(G)}return tw(H,X,null,_)}function QK(_,H){if(_===!1||_===null||typeof _==="undefined")throw new Error(H)}function jB(_,H){if(!_){if(typeof console!=="undefined")console.warn(H);try{throw new Error(H)}catch(X){}}}function rw(){return Math.random().toString(36).substring(2,10)}function l9(_,H){return{usr:_.state,key:_.key,idx:H}}function GG(_,H,X=null,P){return{pathname:typeof _==="string"?_:_.pathname,search:"",hash:"",...typeof H==="string"?m1(H):H,state:X,key:H&&H.key||P||rw()}}function $O({pathname:_="/",search:H="",hash:X=""}){if(H&&H!=="?")_+=H.charAt(0)==="?"?H:"?"+H;if(X&&X!=="#")_+=X.charAt(0)==="#"?X:"#"+X;return _}function m1(_){let H={};if(_){let X=_.indexOf("#");if(X>=0)H.hash=_.substring(X),_=_.substring(0,X);let P=_.indexOf("?");if(P>=0)H.search=_.substring(P),_=_.substring(0,P);if(_)H.pathname=_}return H}function tw(_,H,X,P={}){let{window:G=document.defaultView,v5Compat:W=!1}=P,N=G.history,q="POP",Q=null,L=w();if(L==null)L=0,N.replaceState({...N.state,idx:L},"");function w(){return(N.state||{idx:null}).idx}function C(){q="POP";let S=w(),y=S==null?null:S-L;if(L=S,Q)Q({action:q,location:m.location,delta:y})}function F(S,y){q="PUSH";let b=GG(m.location,S,y);if(X)X(b,S);L=w()+1;let i=l9(b,L),u=m.createHref(b);try{N.pushState(i,"",u)}catch($Y){if($Y instanceof DOMException&&$Y.name==="DataCloneError")throw $Y;G.location.assign(u)}if(W&&Q)Q({action:q,location:m.location,delta:1})}function T(S,y){q="REPLACE";let b=GG(m.location,S,y);if(X)X(b,S);L=w();let i=l9(b,L),u=m.createHref(b);if(N.replaceState(i,"",u),W&&Q)Q({action:q,location:m.location,delta:0})}function U(S){let y=G.location.origin!=="null"?G.location.origin:G.location.href,b=typeof S==="string"?S:$O(S);return b=b.replace(/ $/,"%20"),QK(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let m={get action(){return q},get location(){return _(G,N)},listen(S){if(Q)throw new Error("A history only accepts one active listener");return G.addEventListener(c9,C),Q=S,()=>{G.removeEventListener(c9,C),Q=null}},createHref(S){return H(G,S)},createURL:U,encodeLocation(S){let y=U(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:F,replace:T,go(S){return N.go(S)}};return m}var ew;ew=new WeakMap;function ZG(_,H,X="/"){return YA(_,H,X,!1)}function YA(_,H,X,P){let G=typeof H==="string"?m1(H):H,W=N_(G.pathname||"/",X);if(W==null)return null;let N=o9(_);BA(N);let q=null;for(let Q=0;q==null&&Q<N.length;++Q){let L=NA(W);q=IA(N[Q],L,P)}return q}function KA(_,H){let{route:X,pathname:P,params:G}=_;return{id:X.id,pathname:P,params:G,data:H[X.id],handle:X.handle}}function o9(_,H=[],X=[],P=""){let G=(W,N,q)=>{let Q={relativePath:q===void 0?W.path||"":q,caseSensitive:W.caseSensitive===!0,childrenIndex:N,route:W};if(Q.relativePath.startsWith("/"))QK(Q.relativePath.startsWith(P),`Absolute route path "${Q.relativePath}" nested under path "${P}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Q.relativePath=Q.relativePath.slice(P.length);let L=n_([P,Q.relativePath]),w=X.concat(Q);if(W.children&&W.children.length>0)QK(W.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${L}".`),o9(W.children,H,w,L);if(W.path==null&&!W.index)return;H.push({path:L,score:PA(L,W.index),routesMeta:w})};return _.forEach((W,N)=>{if(W.path===""||!W.path?.includes("?"))G(W,N);else for(let q of s9(W.path))G(W,N,q)}),H}function s9(_){let H=_.split("/");if(H.length===0)return[];let[X,...P]=H,G=X.endsWith("?"),W=X.replace(/\?$/,"");if(P.length===0)return G?[W,""]:[W];let N=s9(P.join("/")),q=[];if(q.push(...N.map((Q)=>Q===""?W:[W,Q].join("/"))),G)q.push(...N);return q.map((Q)=>_.startsWith("/")&&Q===""?"/":Q)}function BA(_){_.sort((H,X)=>H.score!==X.score?X.score-H.score:GA(H.routesMeta.map((P)=>P.childrenIndex),X.routesMeta.map((P)=>P.childrenIndex)))}var _A=/^:[\w-]+$/,$A=3,HA=2,OA=1,XA=10,zA=-2,u9=(_)=>_==="*";function PA(_,H){let X=_.split("/"),P=X.length;if(X.some(u9))P+=zA;if(H)P+=HA;return X.filter((G)=>!u9(G)).reduce((G,W)=>G+(_A.test(W)?$A:W===""?OA:XA),P)}function GA(_,H){return _.length===H.length&&_.slice(0,-1).every((P,G)=>P===H[G])?_[_.length-1]-H[H.length-1]:0}function IA(_,H,X=!1){let{routesMeta:P}=_,G={},W="/",N=[];for(let q=0;q<P.length;++q){let Q=P[q],L=q===P.length-1,w=W==="/"?H:H.slice(W.length)||"/",C=oX({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:L},w),F=Q.route;if(!C&&L&&X&&!P[P.length-1].route.index)C=oX({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:!1},w);if(!C)return null;if(Object.assign(G,C.params),N.push({params:G,pathname:n_([W,C.pathname]),pathnameBase:QA(n_([W,C.pathnameBase])),route:F}),C.pathnameBase!=="/")W=n_([W,C.pathnameBase])}return N}function oX(_,H){if(typeof _==="string")_={path:_,caseSensitive:!1,end:!0};let[X,P]=WA(_.path,_.caseSensitive,_.end),G=H.match(X);if(!G)return null;let W=G[0],N=W.replace(/(.)\/+$/,"$1"),q=G.slice(1);return{params:P.reduce((L,{paramName:w,isOptional:C},F)=>{if(w==="*"){let U=q[F]||"";N=W.slice(0,W.length-U.length).replace(/(.)\/+$/,"$1")}let T=q[F];if(C&&!T)L[w]=void 0;else L[w]=(T||"").replace(/%2F/g,"/");return L},{}),pathname:W,pathnameBase:N,pattern:_}}function WA(_,H=!1,X=!0){jB(_==="*"||!_.endsWith("*")||_.endsWith("/*"),`Route path "${_}" will be treated as if it were "${_.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${_.replace(/\*$/,"/*")}".`);let P=[],G="^"+_.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(N,q,Q)=>{return P.push({paramName:q,isOptional:Q!=null}),Q?"/?([^\\/]+)?":"/([^\\/]+)"});if(_.endsWith("*"))P.push({paramName:"*"}),G+=_==="*"||_==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$";else if(X)G+="\\/*$";else if(_!==""&&_!=="/")G+="(?:(?=\\/|$))";return[new RegExp(G,H?void 0:"i"),P]}function NA(_){try{return _.split("/").map((H)=>decodeURIComponent(H).replace(/\//g,"%2F")).join("/")}catch(H){return jB(!1,`The URL path "${_}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${H}).`),_}}function N_(_,H){if(H==="/")return _;if(!_.toLowerCase().startsWith(H.toLowerCase()))return null;let X=H.endsWith("/")?H.length-1:H.length,P=_.charAt(X);if(P&&P!=="/")return null;return _.slice(X)||"/"}function a9(_,H="/"){let{pathname:X,search:P="",hash:G=""}=typeof _==="string"?m1(_):_;return{pathname:X?X.startsWith("/")?X:ZA(X,H):H,search:qA(P),hash:LA(G)}}function ZA(_,H){let X=H.replace(/\/+$/,"").split("/");return _.split("/").forEach((G)=>{if(G===".."){if(X.length>1)X.pop()}else if(G!==".")X.push(G)}),X.length>1?X.join("/"):"/"}function zG(_,H,X,P){return`Cannot include a '${_}' character in a manually specified \`to.${H}\` field [${JSON.stringify(P)}].  Please separate it out to the \`to.${X}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JA(_){return _.filter((H,X)=>X===0||H.route.path&&H.route.path.length>0)}function r9(_){let H=JA(_);return H.map((X,P)=>P===H.length-1?X.pathname:X.pathnameBase)}function t9(_,H,X,P=!1){let G;if(typeof _==="string")G=m1(_);else G={..._},QK(!G.pathname||!G.pathname.includes("?"),zG("?","pathname","search",G)),QK(!G.pathname||!G.pathname.includes("#"),zG("#","pathname","hash",G)),QK(!G.search||!G.search.includes("#"),zG("#","search","hash",G));let W=_===""||G.pathname==="",N=W?"/":G.pathname,q;if(N==null)q=X;else{let C=H.length-1;if(!P&&N.startsWith("..")){let F=N.split("/");while(F[0]==="..")F.shift(),C-=1;G.pathname=F.join("/")}q=C>=0?H[C]:"/"}let Q=a9(G,q),L=N&&N!=="/"&&N.endsWith("/"),w=(W||N===".")&&X.endsWith("/");if(!Q.pathname.endsWith("/")&&(L||w))Q.pathname+="/";return Q}var n_=(_)=>_.join("/").replace(/\/\/+/g,"/"),QA=(_)=>_.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=(_)=>!_||_==="?"?"":_.startsWith("?")?_:"?"+_,LA=(_)=>!_||_==="#"?"":_.startsWith("#")?_:"#"+_;function e9(_){return _!=null&&typeof _.status==="number"&&typeof _.statusText==="string"&&typeof _.internal==="boolean"&&"data"in _}var YJ=["POST","PUT","PATCH","DELETE"],pD=new Set(YJ),RA=["GET",...YJ],iD=new Set(RA);var nD=Symbol("ResetLoaderData");var h1=Z_.createContext(null);h1.displayName="DataRouter";var HO=Z_.createContext(null);HO.displayName="DataRouterState";var JG=Z_.createContext({isTransitioning:!1});JG.displayName="ViewTransition";var KJ=Z_.createContext(new Map);KJ.displayName="Fetchers";var CA=Z_.createContext(null);CA.displayName="Await";var u0=Z_.createContext(null);u0.displayName="Navigation";var OO=Z_.createContext(null);OO.displayName="Location";var J_=Z_.createContext({outlet:null,matches:[],isDataRoute:!1});J_.displayName="Route";var QG=Z_.createContext(null);QG.displayName="RouteError";var IG=!0;function BJ(_,{relative:H}={}){QK(XO(),"useHref() may be used only in the context of a <Router> component.");let{basename:X,navigator:P}=IY.useContext(u0),{hash:G,pathname:W,search:N}=zO(_,{relative:H}),q=W;if(X!=="/")q=W==="/"?X:n_([X,W]);return P.createHref({pathname:q,search:N,hash:G})}function XO(){return IY.useContext(OO)!=null}function Q_(){return QK(XO(),"useLocation() may be used only in the context of a <Router> component."),IY.useContext(OO).location}var _J="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $J(_){if(!IY.useContext(u0).static)IY.useLayoutEffect(_)}function HJ(){let{isDataRoute:_}=IY.useContext(J_);return _?SA():wA()}function wA(){QK(XO(),"useNavigate() may be used only in the context of a <Router> component.");let _=IY.useContext(h1),{basename:H,navigator:X}=IY.useContext(u0),{matches:P}=IY.useContext(J_),{pathname:G}=Q_(),W=JSON.stringify(r9(P)),N=IY.useRef(!1);return $J(()=>{N.current=!0}),IY.useCallback((Q,L={})=>{if(jB(N.current,_J),!N.current)return;if(typeof Q==="number"){X.go(Q);return}let w=t9(Q,JSON.parse(W),G,L.relative==="path");if(_==null&&H!=="/")w.pathname=w.pathname==="/"?H:n_([H,w.pathname]);(L.replace?X.replace:X.push)(w,L.state,L)},[H,X,W,G,_])}var oD=IY.createContext(null);function zO(_,{relative:H}={}){let{matches:X}=IY.useContext(J_),{pathname:P}=Q_(),G=JSON.stringify(r9(X));return IY.useMemo(()=>t9(_,JSON.parse(G),P,H==="path"),[_,G,P,H])}function OJ(_,H){return XJ(_,H)}function XJ(_,H,X,P){QK(XO(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:G,static:W}=IY.useContext(u0),{matches:N}=IY.useContext(J_),q=N[N.length-1],Q=q?q.params:{},L=q?q.pathname:"/",w=q?q.pathnameBase:"/",C=q&&q.route;if(IG){let b=C&&C.path||"";GJ(L,!C||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${L}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let F=Q_(),T;if(H){let b=typeof H==="string"?m1(H):H;QK(w==="/"||b.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${b.pathname}" was given in the \`location\` prop.`),T=b}else T=F;let U=T.pathname||"/",m=U;if(w!=="/"){let b=w.replace(/^\//,"").split("/");m="/"+U.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=!W&&X&&X.matches&&X.matches.length>0?X.matches:ZG(_,{pathname:m});if(IG)jB(C||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),jB(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=FA(S&&S.map((b)=>Object.assign({},b,{params:Object.assign({},Q,b.params),pathname:n_([w,G.encodeLocation?G.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?w:n_([w,G.encodeLocation?G.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),N,X,P);if(H&&y)return IY.createElement(OO.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},y);return y}function AA(){let _=PJ(),H=e9(_)?`${_.status} ${_.statusText}`:_ instanceof Error?_.message:JSON.stringify(_),X=_ instanceof Error?_.stack:null,P="rgba(200,200,200, 0.5)",G={padding:"0.5rem",backgroundColor:P},W={padding:"2px 4px",backgroundColor:P},N=null;if(IG)console.error("Error handled by React Router default ErrorBoundary:",_),N=IY.createElement(IY.Fragment,null,IY.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),IY.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",IY.createElement("code",{style:W},"ErrorBoundary")," or"," ",IY.createElement("code",{style:W},"errorElement")," prop on your route."));return IY.createElement(IY.Fragment,null,IY.createElement("h2",null,"Unexpected Application Error!"),IY.createElement("h3",{style:{fontStyle:"italic"}},H),X?IY.createElement("pre",{style:G},X):null,N)}var xA=IY.createElement(AA,null),EA=class extends IY.Component{constructor(_){super(_);this.state={location:_.location,revalidation:_.revalidation,error:_.error}}static getDerivedStateFromError(_){return{error:_}}static getDerivedStateFromProps(_,H){if(H.location!==_.location||H.revalidation!=="idle"&&_.revalidation==="idle")return{error:_.error,location:_.location,revalidation:_.revalidation};return{error:_.error!==void 0?_.error:H.error,location:H.location,revalidation:_.revalidation||H.revalidation}}componentDidCatch(_,H){console.error("React Router caught the following error during render",_,H)}render(){return this.state.error!==void 0?IY.createElement(J_.Provider,{value:this.props.routeContext},IY.createElement(QG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function VA({routeContext:_,match:H,children:X}){let P=IY.useContext(h1);if(P&&P.static&&P.staticContext&&(H.route.errorElement||H.route.ErrorBoundary))P.staticContext._deepestRenderedBoundaryId=H.route.id;return IY.createElement(J_.Provider,{value:_},X)}function FA(_,H=[],X=null,P=null){if(_==null){if(!X)return null;if(X.errors)_=X.matches;else if(H.length===0&&!X.initialized&&X.matches.length>0)_=X.matches;else return null}let G=_,W=X?.errors;if(W!=null){let Q=G.findIndex((L)=>L.route.id&&W?.[L.route.id]!==void 0);QK(Q>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(W).join(",")}`),G=G.slice(0,Math.min(G.length,Q+1))}let N=!1,q=-1;if(X)for(let Q=0;Q<G.length;Q++){let L=G[Q];if(L.route.HydrateFallback||L.route.hydrateFallbackElement)q=Q;if(L.route.id){let{loaderData:w,errors:C}=X,F=L.route.loader&&!w.hasOwnProperty(L.route.id)&&(!C||C[L.route.id]===void 0);if(L.route.lazy||F){if(N=!0,q>=0)G=G.slice(0,q+1);else G=[G[0]];break}}}return G.reduceRight((Q,L,w)=>{let C,F=!1,T=null,U=null;if(X){if(C=W&&L.route.id?W[L.route.id]:void 0,T=L.route.errorElement||xA,N){if(q<0&&w===0)GJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,U=null;else if(q===w)F=!0,U=L.route.hydrateFallbackElement||null}}let m=H.concat(G.slice(0,w+1)),S=()=>{let y;if(C)y=T;else if(F)y=U;else if(L.route.Component)y=IY.createElement(L.route.Component,null);else if(L.route.element)y=L.route.element;else y=Q;return IY.createElement(VA,{match:L,routeContext:{outlet:Q,matches:m,isDataRoute:X!=null},children:y})};return X&&(L.route.ErrorBoundary||L.route.errorElement||w===0)?IY.createElement(EA,{location:X.location,revalidation:X.revalidation,component:T,error:C,children:S(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):S()},null)}function qG(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(_){let H=IY.useContext(h1);return QK(H,qG(_)),H}function LG(_){let H=IY.useContext(HO);return QK(H,qG(_)),H}function MA(_){let H=IY.useContext(J_);return QK(H,qG(_)),H}function RG(_){let H=MA(_),X=H.matches[H.matches.length-1];return QK(X.route.id,`${_} can only be used on routes that contain a unique "id"`),X.route.id}function UA(){return RG("useRouteId")}function zJ(){return LG("useNavigation").navigation}function CG(){let{matches:_,loaderData:H}=LG("useMatches");return IY.useMemo(()=>_.map((X)=>KA(X,H)),[_,H])}function PJ(){let _=IY.useContext(QG),H=LG("useRouteError"),X=RG("useRouteError");if(_!==void 0)return _;return H.errors?.[X]}function SA(){let{router:_}=DA("useNavigate"),H=RG("useNavigate"),X=IY.useRef(!1);return $J(()=>{X.current=!0}),IY.useCallback(async(G,W={})=>{if(jB(X.current,_J),!X.current)return;if(typeof G==="number")_.navigate(G);else await _.navigate(G,{fromRouteId:H,...W})},[_,H])}var p9={};function GJ(_,H,X){if(!H&&!p9[_])p9[_]=!0,jB(!1,X)}var sD=VK.memo(TA);function TA({routes:_,future:H,state:X}){return XJ(_,void 0,X,H)}function b$(_){QK(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wG({basename:_="/",children:H=null,location:X,navigationType:P="POP",navigator:G,static:W=!1}){QK(!XO(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let N=_.replace(/^\/*/,"/"),q=VK.useMemo(()=>({basename:N,navigator:G,static:W,future:{}}),[N,G,W]);if(typeof X==="string")X=m1(X);let{pathname:Q="/",search:L="",hash:w="",state:C=null,key:F="default"}=X,T=VK.useMemo(()=>{let U=N_(Q,N);if(U==null)return null;return{location:{pathname:U,search:L,hash:w,state:C,key:F},navigationType:P}},[N,Q,L,w,C,F,P]);if(jB(T!=null,`<Router basename="${N}"> is not able to match the URL "${Q}${L}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null)return null;return VK.createElement(u0.Provider,{value:q},VK.createElement(OO.Provider,{children:H,value:T}))}function o2({children:_,location:H}){return OJ(n2(_),H)}function n2(_,H=[]){let X=[];return VK.Children.forEach(_,(P,G)=>{if(!VK.isValidElement(P))return;let W=[...H,G];if(P.type===VK.Fragment){X.push.apply(X,n2(P.props.children,W));return}QK(P.type===b$,`[${typeof P.type==="string"?P.type:P.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),QK(!P.props.index||!P.props.children,"An index route cannot have child routes.");let N={id:P.props.id||W.join("-"),caseSensitive:P.props.caseSensitive,element:P.props.element,Component:P.props.Component,index:P.props.index,path:P.props.path,loader:P.props.loader,action:P.props.action,hydrateFallbackElement:P.props.hydrateFallbackElement,HydrateFallback:P.props.HydrateFallback,errorElement:P.props.errorElement,ErrorBoundary:P.props.ErrorBoundary,hasErrorBoundary:P.props.hasErrorBoundary===!0||P.props.ErrorBoundary!=null||P.props.errorElement!=null,shouldRevalidate:P.props.shouldRevalidate,handle:P.props.handle,lazy:P.props.lazy};if(P.props.children)N.children=n2(P.props.children,W);X.push(N)}),X}var p2="get",i2="application/x-www-form-urlencoded";function s2(_){return _!=null&&typeof _.tagName==="string"}function yA(_){return s2(_)&&_.tagName.toLowerCase()==="button"}function gA(_){return s2(_)&&_.tagName.toLowerCase()==="form"}function kA(_){return s2(_)&&_.tagName.toLowerCase()==="input"}function jA(_){return!!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)}function bA(_,H){return _.button===0&&(!H||H==="_self")&&!jA(_)}var l2=null;function vA(){if(l2===null)try{new FormData(document.createElement("form"),0),l2=!1}catch(_){l2=!0}return l2}var fA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function PG(_){if(_!=null&&!fA.has(_))return jB(!1,`"${_}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${i2}"`),null;return _}function mA(_,H){let X,P,G,W,N;if(gA(_)){let q=_.getAttribute("action");P=q?N_(q,H):null,X=_.getAttribute("method")||p2,G=PG(_.getAttribute("enctype"))||i2,W=new FormData(_)}else if(yA(_)||kA(_)&&(_.type==="submit"||_.type==="image")){let q=_.form;if(q==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Q=_.getAttribute("formaction")||q.getAttribute("action");if(P=Q?N_(Q,H):null,X=_.getAttribute("formmethod")||q.getAttribute("method")||p2,G=PG(_.getAttribute("formenctype"))||PG(q.getAttribute("enctype"))||i2,W=new FormData(q,_),!vA()){let{name:L,type:w,value:C}=_;if(w==="image"){let F=L?`${L}.`:"";W.append(`${F}x`,"0"),W.append(`${F}y`,"0")}else if(L)W.append(L,C)}}else if(s2(_))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else X=p2,P=null,G=i2,N=_;if(W&&G==="text/plain")N=W,W=void 0;return{action:P,method:X.toLowerCase(),encType:G,formData:W,body:N}}function AG(_,H){if(_===!1||_===null||typeof _==="undefined")throw new Error(H)}async function hA(_,H){if(_.id in H)return H[_.id];try{let X=await import(_.module);return H[_.id]=X,X}catch(X){if(console.error(`Error loading route module \`${_.module}\`, reloading page...`),console.error(X),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw X;return window.location.reload(),new Promise(()=>{})}}function dA(_){return _!=null&&typeof _.page==="string"}function cA(_){if(_==null)return!1;if(_.href==null)return _.rel==="preload"&&typeof _.imageSrcSet==="string"&&typeof _.imageSizes==="string";return typeof _.rel==="string"&&typeof _.href==="string"}async function lA(_,H,X){let P=await Promise.all(_.map(async(G)=>{let W=H.routes[G.route.id];if(W){let N=await hA(W,X);return N.links?N.links():[]}return[]}));return nA(P.flat(1).filter(cA).filter((G)=>G.rel==="stylesheet"||G.rel==="preload").map((G)=>G.rel==="stylesheet"?{...G,rel:"prefetch",as:"style"}:{...G,rel:"prefetch"}))}function i9(_,H,X,P,G,W){let N=(Q,L)=>{if(!X[L])return!0;return Q.route.id!==X[L].route.id},q=(Q,L)=>{return X[L].pathname!==Q.pathname||X[L].route.path?.endsWith("*")&&X[L].params["*"]!==Q.params["*"]};if(W==="assets")return H.filter((Q,L)=>N(Q,L)||q(Q,L));if(W==="data")return H.filter((Q,L)=>{let w=P.routes[Q.route.id];if(!w||!w.hasLoader)return!1;if(N(Q,L)||q(Q,L))return!0;if(Q.route.shouldRevalidate){let C=Q.route.shouldRevalidate({currentUrl:new URL(G.pathname+G.search+G.hash,window.origin),currentParams:X[0]?.params||{},nextUrl:new URL(_,window.origin),nextParams:Q.params,defaultShouldRevalidate:!0});if(typeof C==="boolean")return C}return!0});return[]}function uA(_,H,{includeHydrateFallback:X}={}){return pA(_.map((P)=>{let G=H.routes[P.route.id];if(!G)return[];let W=[G.module];if(G.clientActionModule)W=W.concat(G.clientActionModule);if(G.clientLoaderModule)W=W.concat(G.clientLoaderModule);if(X&&G.hydrateFallbackModule)W=W.concat(G.hydrateFallbackModule);if(G.imports)W=W.concat(G.imports);return W}).flat(1))}function pA(_){return[...new Set(_)]}function iA(_){let H={},X=Object.keys(_).sort();for(let P of X)H[P]=_[P];return H}function nA(_,H){let X=new Set,P=new Set(H);return _.reduce((G,W)=>{if(H&&!dA(W)&&W.as==="script"&&W.href&&P.has(W.href))return G;let q=JSON.stringify(iA(W));if(!X.has(q))X.add(q),G.push({key:q,link:W});return G},[])}var oA=Symbol("SingleFetchRedirect");function sA(_,H){let X=typeof _==="string"?new URL(_,typeof window==="undefined"?"server://singlefetch/":window.location.origin):_;if(X.pathname==="/")X.pathname="_root.data";else if(H&&N_(X.pathname,H)==="/")X.pathname=`${H.replace(/\/$/,"")}/_root.data`;else X.pathname=`${X.pathname.replace(/\/$/,"")}.data`;return X}function WJ(){let _=nY.useContext(h1);return AG(_,"You must render this element inside a <DataRouterContext.Provider> element"),_}function eA(){let _=nY.useContext(HO);return AG(_,"You must render this element inside a <DataRouterStateContext.Provider> element"),_}var sX=nY.createContext(void 0);sX.displayName="FrameworkContext";function NJ(){let _=nY.useContext(sX);return AG(_,"You must render this element inside a <HydratedRouter> element"),_}function Yx(_,H){let X=nY.useContext(sX),[P,G]=nY.useState(!1),[W,N]=nY.useState(!1),{onFocus:q,onBlur:Q,onMouseEnter:L,onMouseLeave:w,onTouchStart:C}=H,F=nY.useRef(null);nY.useEffect(()=>{if(_==="render")N(!0);if(_==="viewport"){let S=new IntersectionObserver((y)=>{y.forEach((b)=>{N(b.isIntersecting)})},{threshold:0.5});if(F.current)S.observe(F.current);return()=>{S.disconnect()}}},[_]),nY.useEffect(()=>{if(P){let m=setTimeout(()=>{N(!0)},100);return()=>{clearTimeout(m)}}},[P]);let T=()=>{G(!0)},U=()=>{G(!1),N(!1)};if(!X)return[!1,F,{}];if(_!=="intent")return[W,F,{}];return[W,F,{onFocus:nX(q,T),onBlur:nX(Q,U),onMouseEnter:nX(L,T),onMouseLeave:nX(w,U),onTouchStart:nX(C,T)}]}function nX(_,H){return(X)=>{if(_&&_(X),!X.defaultPrevented)H(X)}}function ZJ({page:_,...H}){let{router:X}=WJ(),P=nY.useMemo(()=>ZG(X.routes,_,X.basename),[X.routes,_,X.basename]);if(!P)return null;return nY.createElement(Bx,{page:_,matches:P,...H})}function Kx(_){let{manifest:H,routeModules:X}=NJ(),[P,G]=nY.useState([]);return nY.useEffect(()=>{let W=!1;return lA(_,H,X).then((N)=>{if(!W)G(N)}),()=>{W=!0}},[_,H,X]),P}function Bx({page:_,matches:H,...X}){let P=Q_(),{manifest:G,routeModules:W}=NJ(),{basename:N}=WJ(),{loaderData:q,matches:Q}=eA(),L=nY.useMemo(()=>i9(_,H,Q,G,P,"data"),[_,H,Q,G,P]),w=nY.useMemo(()=>i9(_,H,Q,G,P,"assets"),[_,H,Q,G,P]),C=nY.useMemo(()=>{if(_===P.pathname+P.search+P.hash)return[];let U=new Set,m=!1;if(H.forEach((y)=>{let b=G.routes[y.route.id];if(!b||!b.hasLoader)return;if(!L.some((i)=>i.route.id===y.route.id)&&y.route.id in q&&W[y.route.id]?.shouldRevalidate)m=!0;else if(b.hasClientLoader)m=!0;else U.add(y.route.id)}),U.size===0)return[];let S=sA(_,N);if(m&&U.size>0)S.searchParams.set("_routes",H.filter((y)=>U.has(y.route.id)).map((y)=>y.route.id).join(","));return[S.pathname+S.search]},[N,q,P,G,L,H,_,W]),F=nY.useMemo(()=>uA(w,G),[w,G]),T=Kx(w);return nY.createElement(nY.Fragment,null,C.map((U)=>nY.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...X})),F.map((U)=>nY.createElement("link",{key:U,rel:"modulepreload",href:U,...X})),T.map(({key:U,link:m})=>nY.createElement("link",{key:U,...m})))}function _x(..._){return(H)=>{_.forEach((X)=>{if(typeof X==="function")X(H);else if(X!=null)X.current=H})}}var JJ=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined";try{if(JJ)window.__reactRouterVersion="7.3.0"}catch(_){}function a2({basename:_,children:H,window:X}){let P=WY.useRef();if(P.current==null)P.current=n9({window:X,v5Compat:!0});let G=P.current,[W,N]=WY.useState({action:G.action,location:G.location}),q=WY.useCallback((Q)=>{WY.startTransition(()=>N(Q))},[N]);return WY.useLayoutEffect(()=>G.listen(q),[G,q]),WY.createElement(wG,{basename:_,children:H,location:W.location,navigationType:W.action,navigator:G})}function QJ({basename:_,children:H,history:X}){let[P,G]=WY.useState({action:X.action,location:X.location}),W=WY.useCallback((N)=>{WY.startTransition(()=>G(N))},[G]);return WY.useLayoutEffect(()=>X.listen(W),[X,W]),WY.createElement(wG,{basename:_,children:H,location:P.location,navigationType:P.action,navigator:X})}QJ.displayName="unstable_HistoryRouter";var qJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X0=WY.forwardRef(function _({onClick:H,discover:X="render",prefetch:P="none",relative:G,reloadDocument:W,replace:N,state:q,target:Q,to:L,preventScrollReset:w,viewTransition:C,...F},T){let{basename:U}=WY.useContext(u0),m=typeof L==="string"&&qJ.test(L),S,y=!1;if(typeof L==="string"&&m){if(S=L,JJ)try{let LY=new URL(window.location.href),_K=L.startsWith("//")?new URL(LY.protocol+L):new URL(L),$K=N_(_K.pathname,U);if(_K.origin===LY.origin&&$K!=null)L=$K+_K.search+_K.hash;else y=!0}catch(LY){jB(!1,`<Link to="${L}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}}let b=BJ(L,{relative:G}),[i,u,$Y]=Yx(P,F),bY=AJ(L,{replace:N,state:q,target:Q,preventScrollReset:w,relative:G,viewTransition:C});function ZY(LY){if(H)H(LY);if(!LY.defaultPrevented)bY(LY)}let gY=WY.createElement("a",{...F,...$Y,href:S||b,onClick:y||W?H:ZY,ref:_x(T,u),target:Q,"data-discover":!m&&X==="render"?"true":void 0});return i&&!m?WY.createElement(WY.Fragment,null,gY,WY.createElement(ZJ,{page:b})):gY});X0.displayName="Link";var LJ=WY.forwardRef(function _({"aria-current":H="page",caseSensitive:X=!1,className:P="",end:G=!1,style:W,to:N,viewTransition:q,children:Q,...L},w){let C=zO(N,{relative:L.relative}),F=Q_(),T=WY.useContext(HO),{navigator:U,basename:m}=WY.useContext(u0),S=T!=null&&FJ(C)&&q===!0,y=U.encodeLocation?U.encodeLocation(C).pathname:C.pathname,b=F.pathname,i=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;if(!X)b=b.toLowerCase(),i=i?i.toLowerCase():null,y=y.toLowerCase();if(i&&m)i=N_(i,m)||i;let u=y!=="/"&&y.endsWith("/")?y.length-1:y.length,$Y=b===y||!G&&b.startsWith(y)&&b.charAt(u)==="/",bY=i!=null&&(i===y||!G&&i.startsWith(y)&&i.charAt(y.length)==="/"),ZY={isActive:$Y,isPending:bY,isTransitioning:S},gY=$Y?H:void 0,LY;if(typeof P==="function")LY=P(ZY);else LY=[P,$Y?"active":null,bY?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let _K=typeof W==="function"?W(ZY):W;return WY.createElement(X0,{...L,"aria-current":gY,className:LY,ref:w,style:_K,to:N,viewTransition:q},typeof Q==="function"?Q(ZY):Q)});LJ.displayName="NavLink";var RJ=WY.forwardRef(({discover:_="render",fetcherKey:H,navigate:X,reloadDocument:P,replace:G,state:W,method:N=p2,action:q,onSubmit:Q,relative:L,preventScrollReset:w,viewTransition:C,...F},T)=>{let U=xJ(),m=EJ(q,{relative:L}),S=N.toLowerCase()==="get"?"get":"post",y=typeof q==="string"&&qJ.test(q);return WY.createElement("form",{ref:T,method:S,action:m,onSubmit:P?Q:(i)=>{if(Q&&Q(i),i.defaultPrevented)return;i.preventDefault();let u=i.nativeEvent.submitter,$Y=u?.getAttribute("formmethod")||N;U(u||i.currentTarget,{fetcherKey:H,method:$Y,navigate:X,replace:G,state:W,relative:L,preventScrollReset:w,viewTransition:C})},...F,"data-discover":!y&&_==="render"?"true":void 0})});RJ.displayName="Form";function CJ({getKey:_,storageKey:H,...X}){let P=WY.useContext(sX),{basename:G}=WY.useContext(u0),W=Q_(),N=CG();VJ({getKey:_,storageKey:H});let q=WY.useMemo(()=>{if(!P||!_)return null;let L=NG(W,N,G,_);return L!==W.key?L:null},[]);if(!P||P.isSpaMode)return null;let Q=((L,w)=>{if(!window.history.state||!window.history.state.key){let C=Math.random().toString(32).slice(2);window.history.replaceState({key:C},"")}try{let F=JSON.parse(sessionStorage.getItem(L)||"{}")[w||window.history.state.key];if(typeof F==="number")window.scrollTo(0,F)}catch(C){console.error(C),sessionStorage.removeItem(L)}}).toString();return WY.createElement("script",{...X,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${Q})(${JSON.stringify(H||WG)}, ${JSON.stringify(q)})`}})}CJ.displayName="ScrollRestoration";function wJ(_){return`${_} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EG(_){let H=WY.useContext(h1);return QK(H,wJ(_)),H}function $x(_){let H=WY.useContext(HO);return QK(H,wJ(_)),H}function AJ(_,{target:H,replace:X,state:P,preventScrollReset:G,relative:W,viewTransition:N}={}){let q=HJ(),Q=Q_(),L=zO(_,{relative:W});return WY.useCallback((w)=>{if(bA(w,H)){w.preventDefault();let C=X!==void 0?X:$O(Q)===$O(L);q(_,{replace:C,state:P,preventScrollReset:G,relative:W,viewTransition:N})}},[Q,q,L,X,P,H,_,G,W,N])}var Hx=0,Ox=()=>`__${String(++Hx)}__`;function xJ(){let{router:_}=EG("useSubmit"),{basename:H}=WY.useContext(u0),X=UA();return WY.useCallback(async(P,G={})=>{let{action:W,method:N,encType:q,formData:Q,body:L}=mA(P,H);if(G.navigate===!1){let w=G.fetcherKey||Ox();await _.fetch(w,X,G.action||W,{preventScrollReset:G.preventScrollReset,formData:Q,body:L,formMethod:G.method||N,formEncType:G.encType||q,flushSync:G.flushSync})}else await _.navigate(G.action||W,{preventScrollReset:G.preventScrollReset,formData:Q,body:L,formMethod:G.method||N,formEncType:G.encType||q,replace:G.replace,state:G.state,fromRouteId:X,flushSync:G.flushSync,viewTransition:G.viewTransition})},[_,H,X])}function EJ(_,{relative:H}={}){let{basename:X}=WY.useContext(u0),P=WY.useContext(J_);QK(P,"useFormAction must be used inside a RouteContext");let[G]=P.matches.slice(-1),W={...zO(_?_:".",{relative:H})},N=Q_();if(_==null){W.search=N.search;let q=new URLSearchParams(W.search),Q=q.getAll("index");if(Q.some((w)=>w==="")){q.delete("index"),Q.filter((C)=>C).forEach((C)=>q.append("index",C));let w=q.toString();W.search=w?`?${w}`:""}}if((!_||_===".")&&G.route.index)W.search=W.search?W.search.replace(/^\?/,"?index&"):"?index";if(X!=="/")W.pathname=W.pathname==="/"?X:n_([X,W.pathname]);return $O(W)}var WG="react-router-scroll-positions",u2={};function NG(_,H,X,P){let G=null;if(P)if(X!=="/")G=P({..._,pathname:N_(_.pathname,X)||_.pathname},H);else G=P(_,H);if(G==null)G=_.key;return G}function VJ({getKey:_,storageKey:H}={}){let{router:X}=EG("useScrollRestoration"),{restoreScrollPosition:P,preventScrollReset:G}=$x("useScrollRestoration"),{basename:W}=WY.useContext(u0),N=Q_(),q=CG(),Q=zJ();if(WY.useEffect(()=>{return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}},[]),Xx(WY.useCallback(()=>{if(Q.state==="idle"){let L=NG(N,q,W,_);u2[L]=window.scrollY}try{sessionStorage.setItem(H||WG,JSON.stringify(u2))}catch(L){jB(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${L}).`)}window.history.scrollRestoration="auto"},[Q.state,_,W,N,q,H])),typeof document!=="undefined")WY.useLayoutEffect(()=>{try{let L=sessionStorage.getItem(H||WG);if(L)u2=JSON.parse(L)}catch(L){}},[H]),WY.useLayoutEffect(()=>{let L=X?.enableScrollRestoration(u2,()=>window.scrollY,_?(w,C)=>NG(w,C,W,_):void 0);return()=>L&&L()},[X,W,_]),WY.useLayoutEffect(()=>{if(P===!1)return;if(typeof P==="number"){window.scrollTo(0,P);return}if(N.hash){let L=document.getElementById(decodeURIComponent(N.hash.slice(1)));if(L){L.scrollIntoView();return}}if(G===!0)return;window.scrollTo(0,0)},[N,P,G])}function Xx(_,H){let{capture:X}=H||{};WY.useEffect(()=>{let P=X!=null?{capture:X}:void 0;return window.addEventListener("pagehide",_,P),()=>{window.removeEventListener("pagehide",_,P)}},[_,X])}function FJ(_,H={}){let X=WY.useContext(JG);QK(X!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:P}=EG("useViewTransitionState"),G=zO(_,{relative:H.relative});if(!X.isTransitioning)return!1;let W=N_(X.currentLocation.pathname,P)||X.currentLocation.pathname,N=N_(X.nextLocation.pathname,P)||X.nextLocation.pathname;return oX(G.pathname,N)!=null||oX(G.pathname,W)!=null}var DG=rX(),NY=(_)=>aX(_,DG),MG=rX();NY.write=(_)=>aX(_,MG);var r2=rX();NY.onStart=(_)=>aX(_,r2);var UG=rX();NY.onFrame=(_)=>aX(_,UG);var SG=rX();NY.onFinish=(_)=>aX(_,SG);var PO=[];NY.setTimeout=(_,H)=>{let X=NY.now()+H,P=()=>{let W=PO.findIndex((N)=>N.cancel==P);if(~W)PO.splice(W,1);f$-=~W?1:0},G={time:X,handler:_,cancel:P};return PO.splice(SJ(X),0,G),f$+=1,TJ(),G};var SJ=(_)=>~(~PO.findIndex((H)=>H.time>_)||~PO.length);NY.cancel=(_)=>{r2.delete(_),UG.delete(_),SG.delete(_),DG.delete(_),MG.delete(_)};NY.sync=(_)=>{FG=!0,NY.batchedUpdates(_),FG=!1};NY.throttle=(_)=>{let H;function X(){try{_(...H)}finally{H=null}}function P(...G){H=G,NY.onStart(X)}return P.handler=_,P.cancel=()=>{r2.delete(X),H=null},P};var TG=typeof window!="undefined"?window.requestAnimationFrame:()=>{};NY.use=(_)=>TG=_;NY.now=typeof performance!="undefined"?()=>performance.now():Date.now;NY.batchedUpdates=(_)=>_();NY.catch=console.error;NY.frameLoop="always";NY.advance=()=>{if(NY.frameLoop!=="demand")console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand");else gJ()};var v$=-1,f$=0,FG=!1;function aX(_,H){if(FG)H.delete(_),_(0);else H.add(_),TJ()}function TJ(){if(v$<0){if(v$=0,NY.frameLoop!=="demand")TG(yJ)}}function zx(){v$=-1}function yJ(){if(~v$)TG(yJ),NY.batchedUpdates(gJ)}function gJ(){let _=v$;v$=NY.now();let H=SJ(v$);if(H)kJ(PO.splice(0,H),(X)=>X.handler()),f$-=H;if(!f$){zx();return}r2.flush(),DG.flush(_?Math.min(64,v$-_):16.667),UG.flush(),MG.flush(),SG.flush()}function rX(){let _=new Set,H=_;return{add(X){f$+=H==_&&!_.has(X)?1:0,_.add(X)},delete(X){return f$-=H==_&&_.has(X)?1:0,_.delete(X)},flush(X){if(H.size)_=new Set,f$-=H.size,kJ(H,(P)=>P(X)&&_.add(P)),f$+=_.size,H=_}}}function kJ(_,H){_.forEach((X)=>{try{H(X)}catch(P){NY.catch(P)}})}var jx=d(mY(),1),eJ=d(mY(),1),YQ=d(mY(),1),G7=d(mY(),1),WO=d(mY(),1),BQ=d(mY(),1),I7=d(mY(),1),mx=d(mY(),1);var Px=Object.defineProperty,Gx=(_,H)=>{for(var X in H)Px(_,X,{get:H[X],enumerable:!0})},bK={};Gx(bK,{assign:()=>Ix,colors:()=>m$,createStringInterpolator:()=>vG,skipAnimation:()=>pJ,to:()=>uJ,willAdvance:()=>fG});function H7(){}var lJ=(_,H,X)=>Object.defineProperty(_,H,{value:X,writable:!0,configurable:!0}),n={arr:Array.isArray,obj:(_)=>!!_&&_.constructor.name==="Object",fun:(_)=>typeof _==="function",str:(_)=>typeof _==="string",num:(_)=>typeof _==="number",und:(_)=>_===void 0};function vB(_,H){if(n.arr(_)){if(!n.arr(H)||_.length!==H.length)return!1;for(let X=0;X<_.length;X++)if(_[X]!==H[X])return!1;return!0}return _===H}var JY=(_,H)=>_.forEach(H);function eK(_,H,X){if(n.arr(_)){for(let P=0;P<_.length;P++)H.call(X,_[P],`${P}`);return}for(let P in _)if(_.hasOwnProperty(P))H.call(X,_[P],P)}var vK=(_)=>n.und(_)?[]:n.arr(_)?_:[_];function d1(_,H){if(_.size){let X=Array.from(_);_.clear(),JY(X,H)}}var c1=(_,...H)=>d1(_,(X)=>X(...H)),bG=()=>typeof window==="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),vG,uJ,m$=null,pJ=!1,fG=H7,Ix=(_)=>{if(_.to)uJ=_.to;if(_.now)NY.now=_.now;if(_.colors!==void 0)m$=_.colors;if(_.skipAnimation!=null)pJ=_.skipAnimation;if(_.createStringInterpolator)vG=_.createStringInterpolator;if(_.requestAnimationFrame)NY.use(_.requestAnimationFrame);if(_.batchedUpdates)NY.batchedUpdates=_.batchedUpdates;if(_.willAdvance)fG=_.willAdvance;if(_.frameLoop)NY.frameLoop=_.frameLoop},tX=new Set,ZB=[],yG=[],B7=0,o_={get idle(){return!tX.size&&!ZB.length},start(_){if(B7>_.priority)tX.add(_),NY.onStart(Wx);else iJ(_),NY(jG)},advance:jG,sort(_){if(B7)NY.onFrame(()=>o_.sort(_));else{let H=ZB.indexOf(_);if(~H)ZB.splice(H,1),nJ(_)}},clear(){ZB=[],tX.clear()}};function Wx(){tX.forEach(iJ),tX.clear(),NY(jG)}function iJ(_){if(!ZB.includes(_))nJ(_)}function nJ(_){ZB.splice(Nx(ZB,(H)=>H.priority>_.priority),0,_)}function jG(_){let H=yG;for(let X=0;X<ZB.length;X++){let P=ZB[X];if(B7=P.priority,!P.idle){if(fG(P),P.advance(_),!P.idle)H.push(P)}}return B7=0,yG=ZB,yG.length=0,ZB=H,ZB.length>0}function Nx(_,H){let X=_.findIndex(H);return X<0?_.length:X}var Zx=(_,H,X)=>Math.min(Math.max(X,_),H),oJ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},bB="[-+]?\\d*\\.?\\d+",_7=bB+"%";function O7(..._){return"\\(\\s*("+_.join(")\\s*,\\s*(")+")\\s*\\)"}var Jx=new RegExp("rgb"+O7(bB,bB,bB)),Qx=new RegExp("rgba"+O7(bB,bB,bB,bB)),qx=new RegExp("hsl"+O7(bB,_7,_7)),Lx=new RegExp("hsla"+O7(bB,_7,_7,bB)),Rx=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Cx=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,wx=/^#([0-9a-fA-F]{6})$/,Ax=/^#([0-9a-fA-F]{8})$/;function xx(_){let H;if(typeof _==="number")return _>>>0===_&&_>=0&&_<=4294967295?_:null;if(H=wx.exec(_))return parseInt(H[1]+"ff",16)>>>0;if(m$&&m$[_]!==void 0)return m$[_];if(H=Jx.exec(_))return(GO(H[1])<<24|GO(H[2])<<16|GO(H[3])<<8|255)>>>0;if(H=Qx.exec(_))return(GO(H[1])<<24|GO(H[2])<<16|GO(H[3])<<8|vJ(H[4]))>>>0;if(H=Rx.exec(_))return parseInt(H[1]+H[1]+H[2]+H[2]+H[3]+H[3]+"ff",16)>>>0;if(H=Ax.exec(_))return parseInt(H[1],16)>>>0;if(H=Cx.exec(_))return parseInt(H[1]+H[1]+H[2]+H[2]+H[3]+H[3]+H[4]+H[4],16)>>>0;if(H=qx.exec(_))return(jJ(bJ(H[1]),t2(H[2]),t2(H[3]))|255)>>>0;if(H=Lx.exec(_))return(jJ(bJ(H[1]),t2(H[2]),t2(H[3]))|vJ(H[4]))>>>0;return null}function gG(_,H,X){if(X<0)X+=1;if(X>1)X-=1;if(X<0.16666666666666666)return _+(H-_)*6*X;if(X<0.5)return H;if(X<0.6666666666666666)return _+(H-_)*(0.6666666666666666-X)*6;return _}function jJ(_,H,X){let P=X<0.5?X*(1+H):X+H-X*H,G=2*X-P,W=gG(G,P,_+0.3333333333333333),N=gG(G,P,_),q=gG(G,P,_-0.3333333333333333);return Math.round(W*255)<<24|Math.round(N*255)<<16|Math.round(q*255)<<8}function GO(_){let H=parseInt(_,10);if(H<0)return 0;if(H>255)return 255;return H}function bJ(_){return(parseFloat(_)%360+360)%360/360}function vJ(_){let H=parseFloat(_);if(H<0)return 0;if(H>1)return 255;return Math.round(H*255)}function t2(_){let H=parseFloat(_);if(H<0)return 0;if(H>100)return 1;return H/100}function fJ(_){let H=xx(_);if(H===null)return _;H=H||0;let X=(H&4278190080)>>>24,P=(H&16711680)>>>16,G=(H&65280)>>>8,W=(H&255)/255;return`rgba(${X}, ${P}, ${G}, ${W})`}var h$=(_,H,X)=>{if(n.fun(_))return _;if(n.arr(_))return h$({range:_,output:H,extrapolate:X});if(n.str(_.output[0]))return vG(_);let P=_,G=P.output,W=P.range||[0,1],N=P.extrapolateLeft||P.extrapolate||"extend",q=P.extrapolateRight||P.extrapolate||"extend",Q=P.easing||((L)=>L);return(L)=>{let w=Vx(L,W);return Ex(L,W[w],W[w+1],G[w],G[w+1],Q,N,q,P.map)}};function Ex(_,H,X,P,G,W,N,q,Q){let L=Q?Q(_):_;if(L<H){if(N==="identity")return L;else if(N==="clamp")L=H}if(L>X){if(q==="identity")return L;else if(q==="clamp")L=X}if(P===G)return P;if(H===X)return _<=H?P:G;if(H===-1/0)L=-L;else if(X===1/0)L=L-H;else L=(L-H)/(X-H);if(L=W(L),P===-1/0)L=-L;else if(G===1/0)L=L+P;else L=L*(G-P)+P;return L}function Vx(_,H){for(var X=1;X<H.length-1;++X)if(H[X]>=_)break;return X-1}var Fx=(_,H="end")=>(X)=>{X=H==="end"?Math.min(X,0.999):Math.max(X,0.001);let P=X*_,G=H==="end"?Math.floor(P):Math.ceil(P);return Zx(0,1,G/_)},$7=1.70158,e2=$7*1.525,mJ=$7+1,hJ=2*Math.PI/3,dJ=2*Math.PI/4.5,Y7=(_)=>{if(_<0.36363636363636365)return 7.5625*_*_;else if(_<0.7272727272727273)return 7.5625*(_-=0.5454545454545454)*_+0.75;else if(_<0.9090909090909091)return 7.5625*(_-=0.8181818181818182)*_+0.9375;else return 7.5625*(_-=0.9545454545454546)*_+0.984375},mG={linear:(_)=>_,easeInQuad:(_)=>_*_,easeOutQuad:(_)=>1-(1-_)*(1-_),easeInOutQuad:(_)=>_<0.5?2*_*_:1-Math.pow(-2*_+2,2)/2,easeInCubic:(_)=>_*_*_,easeOutCubic:(_)=>1-Math.pow(1-_,3),easeInOutCubic:(_)=>_<0.5?4*_*_*_:1-Math.pow(-2*_+2,3)/2,easeInQuart:(_)=>_*_*_*_,easeOutQuart:(_)=>1-Math.pow(1-_,4),easeInOutQuart:(_)=>_<0.5?8*_*_*_*_:1-Math.pow(-2*_+2,4)/2,easeInQuint:(_)=>_*_*_*_*_,easeOutQuint:(_)=>1-Math.pow(1-_,5),easeInOutQuint:(_)=>_<0.5?16*_*_*_*_*_:1-Math.pow(-2*_+2,5)/2,easeInSine:(_)=>1-Math.cos(_*Math.PI/2),easeOutSine:(_)=>Math.sin(_*Math.PI/2),easeInOutSine:(_)=>-(Math.cos(Math.PI*_)-1)/2,easeInExpo:(_)=>_===0?0:Math.pow(2,10*_-10),easeOutExpo:(_)=>_===1?1:1-Math.pow(2,-10*_),easeInOutExpo:(_)=>_===0?0:_===1?1:_<0.5?Math.pow(2,20*_-10)/2:(2-Math.pow(2,-20*_+10))/2,easeInCirc:(_)=>1-Math.sqrt(1-Math.pow(_,2)),easeOutCirc:(_)=>Math.sqrt(1-Math.pow(_-1,2)),easeInOutCirc:(_)=>_<0.5?(1-Math.sqrt(1-Math.pow(2*_,2)))/2:(Math.sqrt(1-Math.pow(-2*_+2,2))+1)/2,easeInBack:(_)=>mJ*_*_*_-$7*_*_,easeOutBack:(_)=>1+mJ*Math.pow(_-1,3)+$7*Math.pow(_-1,2),easeInOutBack:(_)=>_<0.5?Math.pow(2*_,2)*((e2+1)*2*_-e2)/2:(Math.pow(2*_-2,2)*((e2+1)*(_*2-2)+e2)+2)/2,easeInElastic:(_)=>_===0?0:_===1?1:-Math.pow(2,10*_-10)*Math.sin((_*10-10.75)*hJ),easeOutElastic:(_)=>_===0?0:_===1?1:Math.pow(2,-10*_)*Math.sin((_*10-0.75)*hJ)+1,easeInOutElastic:(_)=>_===0?0:_===1?1:_<0.5?-(Math.pow(2,20*_-10)*Math.sin((20*_-11.125)*dJ))/2:Math.pow(2,-20*_+10)*Math.sin((20*_-11.125)*dJ)/2+1,easeInBounce:(_)=>1-Y7(1-_),easeOutBounce:Y7,easeInOutBounce:(_)=>_<0.5?(1-Y7(1-2*_))/2:(1+Y7(2*_-1))/2,steps:Fx},eX=Symbol.for("FluidValue.get"),IO=Symbol.for("FluidValue.observers"),z0=(_)=>Boolean(_&&_[eX]),fK=(_)=>_&&_[eX]?_[eX]():_,hG=(_)=>_[IO]||null;function Dx(_,H){if(_.eventObserved)_.eventObserved(H);else _(H)}function s_(_,H){let X=_[IO];if(X)X.forEach((P)=>{Dx(P,H)})}var X7=class{constructor(_){if(!_&&!(_=this.get))throw Error("Unknown getter");Mx(this,_)}},Mx=(_,H)=>sJ(_,eX,H);function fB(_,H){if(_[eX]){let X=_[IO];if(!X)sJ(_,IO,X=new Set);if(!X.has(H)){if(X.add(H),_.observerAdded)_.observerAdded(X.size,H)}}return H}function a_(_,H){let X=_[IO];if(X&&X.has(H)){let P=X.size-1;if(P)X.delete(H);else _[IO]=null;if(_.observerRemoved)_.observerRemoved(P,H)}}var sJ=(_,H,X)=>Object.defineProperty(_,H,{value:X,writable:!0,configurable:!0}),K7=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ux=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,cJ=new RegExp(`(${K7.source})(%|[a-z]+)`,"i"),Sx=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,z7=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,aJ=(_)=>{let[H,X]=Tx(_);if(!H||bG())return _;let P=window.getComputedStyle(document.documentElement).getPropertyValue(H);if(P)return P.trim();else if(X&&X.startsWith("--")){let G=window.getComputedStyle(document.documentElement).getPropertyValue(X);if(G)return G;else return _}else if(X&&z7.test(X))return aJ(X);else if(X)return X;return _},Tx=(_)=>{let H=z7.exec(_);if(!H)return[,];let[,X,P]=H;return[X,P]},kG,yx=(_,H,X,P,G)=>`rgba(${Math.round(H)}, ${Math.round(X)}, ${Math.round(P)}, ${G})`,P7=(_)=>{if(!kG)kG=m$?new RegExp(`(${Object.keys(m$).join("|")})(?!\\w)`,"g"):/^\b$/;let H=_.output.map((W)=>{return fK(W).replace(z7,aJ).replace(Ux,fJ).replace(kG,fJ)}),X=H.map((W)=>W.match(K7).map(Number)),G=X[0].map((W,N)=>X.map((q)=>{if(!(N in q))throw Error('The arity of each "output" value must be equal');return q[N]})).map((W)=>h$({..._,output:W}));return(W)=>{let N=!cJ.test(H[0])&&H.find((Q)=>cJ.test(Q))?.replace(K7,""),q=0;return H[0].replace(K7,()=>`${G[q++](W)}${N||""}`).replace(Sx,yx)}},dG="react-spring: ",rJ=(_)=>{let H=_,X=!1;if(typeof H!="function")throw new TypeError(`${dG}once requires a function parameter`);return(...P)=>{if(!X)H(...P),X=!0}},gx=rJ(console.warn);function cG(){gx(`${dG}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var kx=rJ(console.warn);function tJ(){kx(`${dG}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function d$(_){return n.str(_)&&(_[0]=="#"||/\d/.test(_)||!bG()&&z7.test(_)||(_ in(m$||{})))}var JB=bG()?G7.useEffect:G7.useLayoutEffect,bx=()=>{let _=YQ.useRef(!1);return JB(()=>{return _.current=!0,()=>{_.current=!1}},[]),_};function Yz(){let _=eJ.useState()[1],H=bx();return()=>{if(H.current)_(Math.random())}}function KQ(_,H){let[X]=WO.useState(()=>({inputs:H,result:_()})),P=WO.useRef(),G=P.current,W=G;if(W){if(!Boolean(H&&W.inputs&&vx(H,W.inputs)))W={inputs:H,result:_()}}else W=X;return WO.useEffect(()=>{if(P.current=W,G==X)X.inputs=X.result=void 0},[W]),W.result}function vx(_,H){if(_.length!==H.length)return!1;for(let X=0;X<_.length;X++)if(_[X]!==H[X])return!1;return!0}var NO=(_)=>BQ.useEffect(_,fx),fx=[];function W7(_){let H=I7.useRef();return I7.useEffect(()=>{H.current=_}),H.current}var q_=d(mY(),1);var zQ=d(mY(),1),r_=d(mY(),1);var Kz=Symbol.for("Animated:node"),hx=(_)=>!!_&&_[Kz]===_,p0=(_)=>_&&_[Kz],Bz=(_,H)=>lJ(_,Kz,H),ZO=(_)=>_&&_[Kz]&&_[Kz].getPayload(),OQ=class{constructor(){Bz(this,this)}getPayload(){return this.payload||[]}},JO=class extends OQ{constructor(_){super();if(this._value=_,this.done=!0,this.durationProgress=0,n.num(this._value))this.lastPosition=this._value}static create(_){return new JO(_)}getPayload(){return[this]}getValue(){return this._value}setValue(_,H){if(n.num(_)){if(this.lastPosition=_,H){if(_=Math.round(_/H)*H,this.done)this.lastPosition=_}}if(this._value===_)return!1;return this._value=_,!0}reset(){let{done:_}=this;if(this.done=!1,n.num(this._value)){if(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,_)this.lastVelocity=null;this.v0=null}}},QO=class extends JO{constructor(_){super(0);this._string=null,this._toString=h$({output:[_,_]})}static create(_){return new QO(_)}getValue(){let _=this._string;return _==null?this._string=this._toString(this._value):_}setValue(_){if(n.str(_)){if(_==this._string)return!1;this._string=_,this._value=1}else if(super.setValue(_))this._string=null;else return!1;return!0}reset(_){if(_)this._toString=h$({output:[this.getValue(),_]});this._value=0,super.reset()}},N7={dependencies:null},_z=class extends OQ{constructor(_){super();this.source=_,this.setValue(_)}getValue(_){let H={};return eK(this.source,(X,P)=>{if(hx(X))H[P]=X.getValue(_);else if(z0(X))H[P]=fK(X);else if(!_)H[P]=X}),H}setValue(_){this.source=_,this.payload=this._makePayload(_)}reset(){if(this.payload)JY(this.payload,(_)=>_.reset())}_makePayload(_){if(_){let H=new Set;return eK(_,this._addToPayload,H),Array.from(H)}}_addToPayload(_){if(N7.dependencies&&z0(_))N7.dependencies.add(_);let H=ZO(_);if(H)JY(H,(X)=>this.add(X))}},XQ=class extends _z{constructor(_){super(_)}static create(_){return new XQ(_)}getValue(){return this.source.map((_)=>_.getValue())}setValue(_){let H=this.getPayload();if(_.length==H.length)return H.map((X,P)=>X.setValue(_[P])).some(Boolean);return super.setValue(_.map(dx)),!0}};function dx(_){return(d$(_)?QO:JO).create(_)}function $z(_){let H=p0(_);return H?H.constructor:n.arr(_)?XQ:d$(_)?QO:JO}var _Q=(_,H)=>{let X=!n.fun(_)||_.prototype&&_.prototype.isReactComponent;return r_.forwardRef((P,G)=>{let W=r_.useRef(null),N=X&&r_.useCallback((U)=>{W.current=ux(G,U)},[G]),[q,Q]=lx(P,H),L=Yz(),w=()=>{let U=W.current;if(X&&!U)return;if((U?H.applyAnimatedValues(U,q.getValue(!0)):!1)===!1)L()},C=new cx(w,Q),F=r_.useRef();JB(()=>{return F.current=C,JY(Q,(U)=>fB(U,C)),()=>{if(F.current)JY(F.current.deps,(U)=>a_(U,F.current)),NY.cancel(F.current.update)}}),r_.useEffect(w,[]),NO(()=>()=>{let U=F.current;JY(U.deps,(m)=>a_(m,U))});let T=H.getComponentProps(q.getValue());return zQ.createElement(_,{...T,ref:N})})},cx=class{constructor(_,H){this.update=_,this.deps=H}eventObserved(_){if(_.type=="change")NY.write(this.update)}};function lx(_,H){let X=new Set;if(N7.dependencies=X,_.style)_={..._,style:H.createAnimatedStyle(_.style)};return _=new _z(_),N7.dependencies=null,[_,X]}function ux(_,H){if(_)if(n.fun(_))_(H);else _.current=H;return H}var $Q=Symbol.for("AnimatedComponent"),PQ=(_,{applyAnimatedValues:H=()=>!1,createAnimatedStyle:X=(G)=>new _z(G),getComponentProps:P=(G)=>G}={})=>{let G={applyAnimatedValues:H,createAnimatedStyle:X,getComponentProps:P},W=(N)=>{let q=HQ(N)||"Anonymous";if(n.str(N))N=W[N]||(W[N]=_Q(N,G));else N=N[$Q]||(N[$Q]=_Q(N,G));return N.displayName=`Animated(${q})`,N};return eK(_,(N,q)=>{if(n.arr(_))q=HQ(N);W[q]=W(N)}),{animated:W}},HQ=(_)=>n.str(_)?_:_&&n.str(_.displayName)?_.displayName:n.fun(_)&&_.name||null;var J7=d(mY(),1),gQ=d(mY(),1);var IE=d(mY(),1);var kQ=d(mY(),1),YI=d(mY(),1);var jQ=d(mY(),1);function l1(_,...H){return n.fun(_)?_(...H):_}var zz=(_,H)=>_===!0||!!(H&&_&&(n.fun(_)?_(H):vK(_).includes(H))),CQ=(_,H)=>n.obj(_)?H&&_[H]:_,wQ=(_,H)=>_.default===!0?_[H]:_.default?_.default[H]:void 0,px=(_)=>_,rG=(_,H=px)=>{let X=ix;if(_.default&&_.default!==!0)_=_.default,X=Object.keys(_);let P={};for(let G of X){let W=H(_[G],G);if(!n.und(W))P[G]=W}return P},ix=["config","onProps","onStart","onChange","onPause","onResume","onRest"],nx={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function ox(_){let H={},X=0;if(eK(_,(P,G)=>{if(!nx[G])H[G]=P,X++}),X)return H}function AQ(_){let H=ox(_);if(H){let X={to:H};return eK(_,(P,G)=>(G in H)||(X[G]=P)),X}return{..._}}function Pz(_){return _=fK(_),n.arr(_)?_.map(Pz):d$(_)?bK.createStringInterpolator({range:[0,1],output:[_,_]})(1):_}function sx(_){for(let H in _)return!0;return!1}function pG(_){return n.fun(_)||n.arr(_)&&n.obj(_[0])}function ax(_,H){_.ref?.delete(_),H?.delete(_)}function rx(_,H){if(H&&_.ref!==H)_.ref?.delete(_),H.add(_),_.ref=H}var tx={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},iG={...tx.default,mass:1,damping:1,easing:mG.linear,clamp:!1},ex=class{constructor(){this.velocity=0,Object.assign(this,iG)}};function YE(_,H,X){if(X)X={...X},GQ(X,H),H={...X,...H};GQ(_,H),Object.assign(_,H);for(let N in iG)if(_[N]==null)_[N]=iG[N];let{frequency:P,damping:G}=_,{mass:W}=_;if(!n.und(P)){if(P<0.01)P=0.01;if(G<0)G=0;_.tension=Math.pow(2*Math.PI/P,2)*W,_.friction=4*Math.PI*G*W/P}return _}function GQ(_,H){if(!n.und(H.decay))_.duration=void 0;else{let X=!n.und(H.tension)||!n.und(H.friction);if(X||!n.und(H.frequency)||!n.und(H.damping)||!n.und(H.mass))_.duration=void 0,_.decay=void 0;if(X)_.frequency=void 0}}var IQ=[],KE=class{constructor(){this.changed=!1,this.values=IQ,this.toValues=null,this.fromValues=IQ,this.config=new ex,this.immediate=!1}};function xQ(_,{key:H,props:X,defaultProps:P,state:G,actions:W}){return new Promise((N,q)=>{let Q,L,w=zz(X.cancel??P?.cancel,H);if(w)T();else{if(!n.und(X.pause))G.paused=zz(X.pause,H);let U=P?.pause;if(U!==!0)U=G.paused||zz(U,H);if(Q=l1(X.delay||0,H),U)G.resumeQueue.add(F),W.pause();else W.resume(),F()}function C(){G.resumeQueue.add(F),G.timeouts.delete(L),L.cancel(),Q=L.time-NY.now()}function F(){if(Q>0&&!bK.skipAnimation)G.delayed=!0,L=NY.setTimeout(T,Q),G.pauseQueue.add(C),G.timeouts.add(L);else T()}function T(){if(G.delayed)G.delayed=!1;if(G.pauseQueue.delete(C),G.timeouts.delete(L),_<=(G.cancelId||0))w=!0;try{W.start({...X,callId:_,cancel:w},N)}catch(U){q(U)}}})}var tG=(_,H)=>H.length==1?H[0]:H.some((X)=>X.cancelled)?qO(_.get()):H.every((X)=>X.noop)?EQ(_.get()):mB(_.get(),H.every((X)=>X.finished)),EQ=(_)=>({value:_,noop:!0,finished:!0,cancelled:!1}),mB=(_,H,X=!1)=>({value:_,finished:H,cancelled:X}),qO=(_)=>({value:_,cancelled:!0,finished:!1});function VQ(_,H,X,P){let{callId:G,parentId:W,onRest:N}=H,{asyncTo:q,promise:Q}=X;if(!W&&_===q&&!H.reset)return Q;return X.promise=(async()=>{X.asyncId=G,X.asyncTo=_;let L=rG(H,(S,y)=>y==="onRest"?void 0:S),w,C,F=new Promise((S,y)=>(w=S,C=y)),T=(S)=>{let y=G<=(X.cancelId||0)&&qO(P)||G!==X.asyncId&&mB(P,!1);if(y)throw S.result=y,C(S),S},U=(S,y)=>{let b=new WQ,i=new NQ;return(async()=>{if(bK.skipAnimation)throw Gz(X),i.result=mB(P,!1),C(i),i;T(b);let u=n.obj(S)?{...S}:{...y,to:S};u.parentId=G,eK(L,(bY,ZY)=>{if(n.und(u[ZY]))u[ZY]=bY});let $Y=await P.start(u);if(T(b),X.paused)await new Promise((bY)=>{X.resumeQueue.add(bY)});return $Y})()},m;if(bK.skipAnimation)return Gz(X),mB(P,!1);try{let S;if(n.arr(_))S=(async(y)=>{for(let b of y)await U(b)})(_);else S=Promise.resolve(_(U,P.stop.bind(P)));await Promise.all([S.then(w),F]),m=mB(P.get(),!0,!1)}catch(S){if(S instanceof WQ)m=S.result;else if(S instanceof NQ)m=S.result;else throw S}finally{if(G==X.asyncId)X.asyncId=W,X.asyncTo=W?q:void 0,X.promise=W?Q:void 0}if(n.fun(N))NY.batchedUpdates(()=>{N(m,P,P.item)});return m})()}function Gz(_,H){if(d1(_.timeouts,(X)=>X.cancel()),_.pauseQueue.clear(),_.resumeQueue.clear(),_.asyncId=_.asyncTo=_.promise=void 0,H)_.cancelId=H}var WQ=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},NQ=class extends Error{constructor(){super("SkipAnimationSignal")}},nG=(_)=>_ instanceof eG,BE=1,eG=class extends X7{constructor(){super(...arguments);this.id=BE++,this._priority=0}get priority(){return this._priority}set priority(_){if(this._priority!=_)this._priority=_,this._onPriorityChange(_)}get(){let _=p0(this);return _&&_.getValue()}to(..._){return bK.to(this,_)}interpolate(..._){return cG(),bK.to(this,_)}toJSON(){return this.get()}observerAdded(_){if(_==1)this._attach()}observerRemoved(_){if(_==0)this._detach()}_attach(){}_detach(){}_onChange(_,H=!1){s_(this,{type:"change",parent:this,value:_,idle:H})}_onPriorityChange(_){if(!this.idle)o_.sort(this);s_(this,{type:"priority",parent:this,priority:_})}},u1=Symbol.for("SpringPhase"),FQ=1,oG=2,sG=4,lG=(_)=>(_[u1]&FQ)>0,c$=(_)=>(_[u1]&oG)>0,Hz=(_)=>(_[u1]&sG)>0,ZQ=(_,H)=>H?_[u1]|=oG|FQ:_[u1]&=~oG,JQ=(_,H)=>H?_[u1]|=sG:_[u1]&=~sG,_E=class extends eG{constructor(_,H){super();if(this.animation=new KE,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!n.und(_)||!n.und(H)){let X=n.obj(_)?{..._}:{...H,from:_};if(n.und(X.default))X.default=!0;this.start(X)}}get idle(){return!(c$(this)||this._state.asyncTo)||Hz(this)}get goal(){return fK(this.animation.to)}get velocity(){let _=p0(this);return _ instanceof JO?_.lastVelocity||0:_.getPayload().map((H)=>H.lastVelocity||0)}get hasAnimated(){return lG(this)}get isAnimating(){return c$(this)}get isPaused(){return Hz(this)}get isDelayed(){return this._state.delayed}advance(_){let H=!0,X=!1,P=this.animation,{toValues:G}=P,{config:W}=P,N=ZO(P.to);if(!N&&z0(P.to))G=vK(fK(P.to));P.values.forEach((L,w)=>{if(L.done)return;let C=L.constructor==QO?1:N?N[w].lastPosition:G[w],F=P.immediate,T=C;if(!F){if(T=L.lastPosition,W.tension<=0){L.done=!0;return}let U=L.elapsedTime+=_,m=P.fromValues[w],S=L.v0!=null?L.v0:L.v0=n.arr(W.velocity)?W.velocity[w]:W.velocity,y,b=W.precision||(m==C?0.005:Math.min(1,Math.abs(C-m)*0.001));if(!n.und(W.duration)){let i=1;if(W.duration>0){if(this._memoizedDuration!==W.duration){if(this._memoizedDuration=W.duration,L.durationProgress>0)L.elapsedTime=W.duration*L.durationProgress,U=L.elapsedTime+=_}i=(W.progress||0)+U/this._memoizedDuration,i=i>1?1:i<0?0:i,L.durationProgress=i}T=m+W.easing(i)*(C-m),y=(T-L.lastPosition)/_,F=i==1}else if(W.decay){let i=W.decay===!0?0.998:W.decay,u=Math.exp(-(1-i)*U);T=m+S/(1-i)*(1-u),F=Math.abs(L.lastPosition-T)<=b,y=S*u}else{y=L.lastVelocity==null?S:L.lastVelocity;let i=W.restVelocity||b/10,u=W.clamp?0:W.bounce,$Y=!n.und(u),bY=m==C?L.v0>0:m<C,ZY,gY=!1,LY=1,_K=Math.ceil(_/LY);for(let $K=0;$K<_K;++$K){if(ZY=Math.abs(y)>i,!ZY){if(F=Math.abs(C-T)<=b,F)break}if($Y){if(gY=T==C||T>C==bY,gY)y=-y*u,T=C}let RK=-W.tension*0.000001*(T-C),G0=-W.friction*0.001*y,KY=(RK+G0)/W.mass;y=y+KY*LY,T=T+y*LY}}if(L.lastVelocity=y,Number.isNaN(T))console.warn("Got NaN while animating:",this),F=!0}if(N&&!N[w].done)F=!1;if(F)L.done=!0;else H=!1;if(L.setValue(T,W.round))X=!0});let q=p0(this),Q=q.getValue();if(H){let L=fK(P.to);if((Q!==L||X)&&!W.decay)q.setValue(L),this._onChange(L);else if(X&&W.decay)this._onChange(Q);this._stop()}else if(X)this._onChange(Q)}set(_){return NY.batchedUpdates(()=>{this._stop(),this._focus(_),this._set(_)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(c$(this)){let{to:_,config:H}=this.animation;NY.batchedUpdates(()=>{if(this._onStart(),!H.decay)this._set(_,!1);this._stop()})}return this}update(_){return(this.queue||(this.queue=[])).push(_),this}start(_,H){let X;if(!n.und(_))X=[n.obj(_)?_:{...H,to:_}];else X=this.queue||[],this.queue=[];return Promise.all(X.map((P)=>{return this._update(P)})).then((P)=>tG(this,P))}stop(_){let{to:H}=this.animation;return this._focus(this.get()),Gz(this._state,_&&this._lastCallId),NY.batchedUpdates(()=>this._stop(H,_)),this}reset(){this._update({reset:!0})}eventObserved(_){if(_.type=="change")this._start();else if(_.type=="priority")this.priority=_.priority+1}_prepareNode(_){let H=this.key||"",{to:X,from:P}=_;if(X=n.obj(X)?X[H]:X,X==null||pG(X))X=void 0;if(P=n.obj(P)?P[H]:P,P==null)P=void 0;let G={to:X,from:P};if(!lG(this)){if(_.reverse)[X,P]=[P,X];if(P=fK(P),!n.und(P))this._set(P);else if(!p0(this))this._set(X)}return G}_update({..._},H){let{key:X,defaultProps:P}=this;if(_.default)Object.assign(P,rG(_,(N,q)=>/^on/.test(q)?CQ(N,X):N));qQ(this,_,"onProps"),Xz(this,"onProps",_,this);let G=this._prepareNode(_);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let W=this._state;return xQ(++this._lastCallId,{key:X,props:_,defaultProps:P,state:W,actions:{pause:()=>{if(!Hz(this))JQ(this,!0),c1(W.pauseQueue),Xz(this,"onPause",mB(this,Oz(this,this.animation.to)),this)},resume:()=>{if(Hz(this)){if(JQ(this,!1),c$(this))this._resume();c1(W.resumeQueue),Xz(this,"onResume",mB(this,Oz(this,this.animation.to)),this)}},start:this._merge.bind(this,G)}}).then((N)=>{if(_.loop&&N.finished&&!(H&&N.noop)){let q=DQ(_);if(q)return this._update(q,!0)}return N})}_merge(_,H,X){if(H.cancel)return this.stop(!0),X(qO(this));let P=!n.und(_.to),G=!n.und(_.from);if(P||G)if(H.callId>this._lastToId)this._lastToId=H.callId;else return X(qO(this));let{key:W,defaultProps:N,animation:q}=this,{to:Q,from:L}=q,{to:w=Q,from:C=L}=_;if(G&&!P&&(!H.default||n.und(w)))w=C;if(H.reverse)[w,C]=[C,w];let F=!vB(C,L);if(F)q.from=C;C=fK(C);let T=!vB(w,Q);if(T)this._focus(w);let U=pG(H.to),{config:m}=q,{decay:S,velocity:y}=m;if(P||G)m.velocity=0;if(H.config&&!U)YE(m,l1(H.config,W),H.config!==N.config?l1(N.config,W):void 0);let b=p0(this);if(!b||n.und(w))return X(mB(this,!0));let i=n.und(H.reset)?G&&!H.default:!n.und(C)&&zz(H.reset,W),u=i?C:this.get(),$Y=Pz(w),bY=n.num($Y)||n.arr($Y)||d$($Y),ZY=!U&&(!bY||zz(N.immediate||H.immediate,W));if(T){let $K=$z(w);if($K!==b.constructor)if(ZY)b=this._set($Y);else throw Error(`Cannot animate between ${b.constructor.name} and ${$K.name}, as the "to" prop suggests`)}let gY=b.constructor,LY=z0(w),_K=!1;if(!LY){let $K=i||!lG(this)&&F;if(T||$K)_K=vB(Pz(u),$Y),LY=!_K;if(!vB(q.immediate,ZY)&&!ZY||!vB(m.decay,S)||!vB(m.velocity,y))LY=!0}if(_K&&c$(this)){if(q.changed&&!i)LY=!0;else if(!LY)this._stop(Q)}if(!U){if(LY||z0(Q))q.values=b.getPayload(),q.toValues=z0(w)?null:gY==QO?[1]:vK($Y);if(q.immediate!=ZY){if(q.immediate=ZY,!ZY&&!i)this._set(Q)}if(LY){let{onRest:$K}=q;JY(HE,(G0)=>qQ(this,H,G0));let RK=mB(this,Oz(this,Q));if(c1(this._pendingCalls,RK),this._pendingCalls.add(X),q.changed)NY.batchedUpdates(()=>{if(q.changed=!i,$K?.(RK,this),i)l1(N.onRest,RK);else q.onStart?.(RK,this)})}}if(i)this._set(u);if(U)X(VQ(H.to,H,this._state,this));else if(LY)this._start();else if(c$(this)&&!T)this._pendingCalls.add(X);else X(EQ(u))}_focus(_){let H=this.animation;if(_!==H.to){if(hG(this))this._detach();if(H.to=_,hG(this))this._attach()}}_attach(){let _=0,{to:H}=this.animation;if(z0(H)){if(fB(H,this),nG(H))_=H.priority+1}this.priority=_}_detach(){let{to:_}=this.animation;if(z0(_))a_(_,this)}_set(_,H=!0){let X=fK(_);if(!n.und(X)){let P=p0(this);if(!P||!vB(X,P.getValue())){let G=$z(X);if(!P||P.constructor!=G)Bz(this,G.create(X));else P.setValue(X);if(P)NY.batchedUpdates(()=>{this._onChange(X,H)})}}return p0(this)}_onStart(){let _=this.animation;if(!_.changed)_.changed=!0,Xz(this,"onStart",mB(this,Oz(this,_.to)),this)}_onChange(_,H){if(!H)this._onStart(),l1(this.animation.onChange,_,this);l1(this.defaultProps.onChange,_,this),super._onChange(_,H)}_start(){let _=this.animation;if(p0(this).reset(fK(_.to)),!_.immediate)_.fromValues=_.values.map((H)=>H.lastPosition);if(!c$(this)){if(ZQ(this,!0),!Hz(this))this._resume()}}_resume(){if(bK.skipAnimation)this.finish();else o_.start(this)}_stop(_,H){if(c$(this)){ZQ(this,!1);let X=this.animation;if(JY(X.values,(G)=>{G.done=!0}),X.toValues)X.onChange=X.onPause=X.onResume=void 0;s_(this,{type:"idle",parent:this});let P=H?qO(this.get()):mB(this.get(),Oz(this,_??X.to));if(c1(this._pendingCalls,P),X.changed)X.changed=!1,Xz(this,"onRest",P,this)}}};function Oz(_,H){let X=Pz(H),P=Pz(_.get());return vB(P,X)}function DQ(_,H=_.loop,X=_.to){let P=l1(H);if(P){let G=P!==!0&&AQ(P),W=(G||_).reverse,N=!G||G.reset;return Iz({..._,loop:H,default:!1,pause:void 0,to:!W||pG(X)?X:void 0,from:N?_.from:void 0,reset:N,...G})}}function Iz(_){let{to:H,from:X}=_=AQ(_),P=new Set;if(n.obj(H))QQ(H,P);if(n.obj(X))QQ(X,P);return _.keys=P.size?Array.from(P):null,_}function $E(_){let H=Iz(_);if(n.und(H.default))H.default=rG(H);return H}function QQ(_,H){eK(_,(X,P)=>X!=null&&H.add(P))}var HE=["onStart","onRest","onChange","onPause","onResume"];function qQ(_,H,X){_.animation[X]=H[X]!==wQ(H,X)?CQ(H[X],_.key):void 0}function Xz(_,H,...X){_.animation[H]?.(...X),_.defaultProps[H]?.(...X)}var OE=["onStart","onChange","onRest"],XE=1,zE=class{constructor(_,H){if(this.id=XE++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),H)this._flush=H;if(_)this.start({default:!0,..._})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((_)=>{return _.idle&&!_.isDelayed&&!_.isPaused})}get item(){return this._item}set item(_){this._item=_}get(){let _={};return this.each((H,X)=>_[X]=H.get()),_}set(_){for(let H in _){let X=_[H];if(!n.und(X))this.springs[H].set(X)}}update(_){if(_)this.queue.push(Iz(_));return this}start(_){let{queue:H}=this;if(_)H=vK(_).map(Iz);else this.queue=[];if(this._flush)return this._flush(this,H);return yQ(this,H),aG(this,H)}stop(_,H){if(_!==!!_)H=_;if(H){let X=this.springs;JY(vK(H),(P)=>X[P].stop(!!_))}else Gz(this._state,this._lastAsyncId),this.each((X)=>X.stop(!!_));return this}pause(_){if(n.und(_))this.start({pause:!0});else{let H=this.springs;JY(vK(_),(X)=>H[X].pause())}return this}resume(_){if(n.und(_))this.start({pause:!1});else{let H=this.springs;JY(vK(_),(X)=>H[X].resume())}return this}each(_){eK(this.springs,_)}_onFrame(){let{onStart:_,onChange:H,onRest:X}=this._events,P=this._active.size>0,G=this._changed.size>0;if(P&&!this._started||G&&!this._started)this._started=!0,d1(_,([q,Q])=>{Q.value=this.get(),q(Q,this,this._item)});let W=!P&&this._started,N=G||W&&X.size?this.get():null;if(G&&H.size)d1(H,([q,Q])=>{Q.value=N,q(Q,this,this._item)});if(W)this._started=!1,d1(X,([q,Q])=>{Q.value=N,q(Q,this,this._item)})}eventObserved(_){if(_.type=="change"){if(this._changed.add(_.parent),!_.idle)this._active.add(_.parent)}else if(_.type=="idle")this._active.delete(_.parent);else return;NY.onFrame(this._onFrame)}};function aG(_,H){return Promise.all(H.map((X)=>MQ(_,X))).then((X)=>tG(_,X))}async function MQ(_,H,X){let{keys:P,to:G,from:W,loop:N,onRest:q,onResolve:Q}=H,L=n.obj(H.default)&&H.default;if(N)H.loop=!1;if(G===!1)H.to=null;if(W===!1)H.from=null;let w=n.arr(G)||n.fun(G)?G:void 0;if(w){if(H.to=void 0,H.onRest=void 0,L)L.onRest=void 0}else JY(OE,(m)=>{let S=H[m];if(n.fun(S)){let y=_._events[m];if(H[m]=({finished:b,cancelled:i})=>{let u=y.get(S);if(u){if(!b)u.finished=!1;if(i)u.cancelled=!0}else y.set(S,{value:null,finished:b||!1,cancelled:i||!1})},L)L[m]=H[m]}});let C=_._state;if(H.pause===!C.paused)C.paused=H.pause,c1(H.pause?C.pauseQueue:C.resumeQueue);else if(C.paused)H.pause=!0;let F=(P||Object.keys(_.springs)).map((m)=>_.springs[m].start(H)),T=H.cancel===!0||wQ(H,"cancel")===!0;if(w||T&&C.asyncId)F.push(xQ(++_._lastAsyncId,{props:H,state:C,actions:{pause:H7,resume:H7,start(m,S){if(T)Gz(C,_._lastAsyncId),S(qO(_));else m.onRest=q,S(VQ(w,m,C,_))}}}));if(C.paused)await new Promise((m)=>{C.resumeQueue.add(m)});let U=tG(_,await Promise.all(F));if(N&&U.finished&&!(X&&U.noop)){let m=DQ(H,N,G);if(m)return yQ(_,[m]),MQ(_,m,!0)}if(Q)NY.batchedUpdates(()=>Q(U,_,_.item));return U}function LQ(_,H){let X={..._.springs};if(H)JY(vK(H),(P)=>{if(n.und(P.keys))P=Iz(P);if(!n.obj(P.to))P={...P,to:void 0};TQ(X,P,(G)=>{return SQ(G)})});return UQ(_,X),X}function UQ(_,H){eK(H,(X,P)=>{if(!_.springs[P])_.springs[P]=X,fB(X,_)})}function SQ(_,H){let X=new _E;if(X.key=_,H)fB(X,H);return X}function TQ(_,H,X){if(H.keys)JY(H.keys,(P)=>{(_[P]||(_[P]=X(P)))._prepareNode(H)})}function yQ(_,H){JY(H,(X)=>{TQ(_.springs,X,(P)=>{return SQ(P,_)})})}var Q7=({children:_,...H})=>{let X=gQ.useContext(Z7),P=H.pause||!!X.pause,G=H.immediate||!!X.immediate;H=KQ(()=>({pause:P,immediate:G}),[P,G]);let{Provider:W}=Z7;return J7.createElement(W,{value:H},_)},Z7=PE(Q7,{});Q7.Provider=Z7.Provider;Q7.Consumer=Z7.Consumer;function PE(_,H){return Object.assign(_,J7.createContext(H)),_.Provider._context=_,_.Consumer._context=_,_}var GE=()=>{let _=[],H=function(P){tJ();let G=[];return JY(_,(W,N)=>{if(n.und(P))G.push(W.start());else{let q=X(P,W,N);if(q)G.push(W.start(q))}}),G};H.current=_,H.add=function(P){if(!_.includes(P))_.push(P)},H.delete=function(P){let G=_.indexOf(P);if(~G)_.splice(G,1)},H.pause=function(){return JY(_,(P)=>P.pause(...arguments)),this},H.resume=function(){return JY(_,(P)=>P.resume(...arguments)),this},H.set=function(P){JY(_,(G,W)=>{let N=n.fun(P)?P(W,G):P;if(N)G.set(N)})},H.start=function(P){let G=[];return JY(_,(W,N)=>{if(n.und(P))G.push(W.start());else{let q=this._getProps(P,W,N);if(q)G.push(W.start(q))}}),G},H.stop=function(){return JY(_,(P)=>P.stop(...arguments)),this},H.update=function(P){return JY(_,(G,W)=>G.update(this._getProps(P,G,W))),this};let X=function(P,G,W){return n.fun(P)?P(W,G):P};return H._getProps=X,H};function q7(_,H,X){let P=n.fun(H)&&H;if(P&&!X)X=[];let G=q_.useMemo(()=>P||arguments.length==3?GE():void 0,[]),W=q_.useRef(0),N=Yz(),q=q_.useMemo(()=>({ctrls:[],queue:[],flush(y,b){let i=LQ(y,b);return W.current>0&&!q.queue.length&&!Object.keys(i).some(($Y)=>!y.springs[$Y])?aG(y,b):new Promise(($Y)=>{UQ(y,i),q.queue.push(()=>{$Y(aG(y,b))}),N()})}}),[]),Q=q_.useRef([...q.ctrls]),L=[],w=W7(_)||0;q_.useMemo(()=>{JY(Q.current.slice(_,w),(y)=>{ax(y,G),y.stop(!0)}),Q.current.length=_,C(w,_)},[_]),q_.useMemo(()=>{C(0,Math.min(w,_))},X);function C(y,b){for(let i=y;i<b;i++){let u=Q.current[i]||(Q.current[i]=new zE(null,q.flush)),$Y=P?P(i,u):H[i];if($Y)L[i]=$E($Y)}}let F=Q.current.map((y,b)=>LQ(y,L[b])),T=q_.useContext(Q7),U=W7(T),m=T!==U&&sx(T);JB(()=>{W.current++,q.ctrls=Q.current;let{queue:y}=q;if(y.length)q.queue=[],JY(y,(b)=>b());JY(Q.current,(b,i)=>{if(G?.add(b),m)b.start({default:T});let u=L[i];if(u)if(rx(b,u.ref),b.ref)b.queue.push(u);else b.start(u)})}),NO(()=>()=>{JY(q.ctrls,(y)=>y.stop(!0))});let S=F.map((y)=>({...y}));return G?[S,G]:S}function LO(_,H){let X=n.fun(_),[[P],G]=q7(1,X?_:[_],X?H||[]:H);return X||arguments.length==2?[P,G]:P}var WE=class extends eG{constructor(_,H){super();this.source=_,this.idle=!0,this._active=new Set,this.calc=h$(...H);let X=this._get(),P=$z(X);Bz(this,P.create(X))}advance(_){let H=this._get(),X=this.get();if(!vB(H,X))p0(this).setValue(H),this._onChange(H,this.idle);if(!this.idle&&RQ(this._active))uG(this)}_get(){let _=n.arr(this.source)?this.source.map(fK):vK(fK(this.source));return this.calc(..._)}_start(){if(this.idle&&!RQ(this._active))if(this.idle=!1,JY(ZO(this),(_)=>{_.done=!1}),bK.skipAnimation)NY.batchedUpdates(()=>this.advance()),uG(this);else o_.start(this)}_attach(){let _=1;JY(vK(this.source),(H)=>{if(z0(H))fB(H,this);if(nG(H)){if(!H.idle)this._active.add(H);_=Math.max(_,H.priority+1)}}),this.priority=_,this._start()}_detach(){JY(vK(this.source),(_)=>{if(z0(_))a_(_,this)}),this._active.clear(),uG(this)}eventObserved(_){if(_.type=="change")if(_.idle)this.advance();else this._active.add(_.parent),this._start();else if(_.type=="idle")this._active.delete(_.parent);else if(_.type=="priority")this.priority=vK(this.source).reduce((H,X)=>Math.max(H,(nG(X)?X.priority:0)+1),0)}};function NE(_){return _.idle!==!1}function RQ(_){return!_.size||Array.from(_).every(NE)}function uG(_){if(!_.idle)_.idle=!0,JY(ZO(_),(H)=>{H.done=!0}),s_(_,{type:"idle",parent:_})}bK.assign({createStringInterpolator:P7,to:(_,H)=>new WE(_,H)});var QS=o_.advance;var vQ=d(OG(),1);var fQ=/^--/;function ZE(_,H){if(H==null||typeof H==="boolean"||H==="")return"";if(typeof H==="number"&&H!==0&&!fQ.test(_)&&!(Wz.hasOwnProperty(_)&&Wz[_]))return H+"px";return(""+H).trim()}var bQ={};function JE(_,H){if(!_.nodeType||!_.setAttribute)return!1;let X=_.nodeName==="filter"||_.parentNode&&_.parentNode.nodeName==="filter",{className:P,style:G,children:W,scrollTop:N,scrollLeft:q,viewBox:Q,...L}=H,w=Object.values(L),C=Object.keys(L).map((F)=>X||_.hasAttribute(F)?F:bQ[F]||(bQ[F]=F.replace(/([A-Z])/g,(T)=>"-"+T.toLowerCase())));if(W!==void 0)_.textContent=W;for(let F in G)if(G.hasOwnProperty(F)){let T=ZE(F,G[F]);if(fQ.test(F))_.style.setProperty(F,T);else _.style[F]=T}if(C.forEach((F,T)=>{_.setAttribute(F,w[T])}),P!==void 0)_.className=P;if(N!==void 0)_.scrollTop=N;if(q!==void 0)_.scrollLeft=q;if(Q!==void 0)_.setAttribute("viewBox",Q)}var Wz={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QE=(_,H)=>_+H.charAt(0).toUpperCase()+H.substring(1),qE=["Webkit","Ms","Moz","O"];Wz=Object.keys(Wz).reduce((_,H)=>{return qE.forEach((X)=>_[QE(X,H)]=_[H]),_},Wz);var LE=/^(matrix|translate|scale|rotate|skew)/,RE=/^(translate)/,CE=/^(rotate|skew)/,KI=(_,H)=>n.num(_)&&_!==0?_+H:_,L7=(_,H)=>n.arr(_)?_.every((X)=>L7(X,H)):n.num(_)?_===H:parseFloat(_)===H,wE=class extends _z{constructor({x:_,y:H,z:X,...P}){let G=[],W=[];if(_||H||X)G.push([_||0,H||0,X||0]),W.push((N)=>[`translate3d(${N.map((q)=>KI(q,"px")).join(",")})`,L7(N,0)]);if(eK(P,(N,q)=>{if(q==="transform")G.push([N||""]),W.push((Q)=>[Q,Q===""]);else if(LE.test(q)){if(delete P[q],n.und(N))return;let Q=RE.test(q)?"px":CE.test(q)?"deg":"";G.push(vK(N)),W.push(q==="rotate3d"?([L,w,C,F])=>[`rotate3d(${L},${w},${C},${KI(F,Q)})`,L7(F,0)]:(L)=>[`${q}(${L.map((w)=>KI(w,Q)).join(",")})`,L7(L,q.startsWith("scale")?1:0)])}}),G.length)P.transform=new AE(G,W);super(P)}},AE=class extends X7{constructor(_,H){super();this.inputs=_,this.transforms=H,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let _="",H=!0;return JY(this.inputs,(X,P)=>{let G=fK(X[0]),[W,N]=this.transforms[P](n.arr(G)?G:X.map(fK));_+=" "+W,H=H&&N}),H?"none":_}observerAdded(_){if(_==1)JY(this.inputs,(H)=>JY(H,(X)=>z0(X)&&fB(X,this)))}observerRemoved(_){if(_==0)JY(this.inputs,(H)=>JY(H,(X)=>z0(X)&&a_(X,this)))}eventObserved(_){if(_.type=="change")this._value=null;s_(this,_)}},xE=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];bK.assign({batchedUpdates:vQ.unstable_batchedUpdates,createStringInterpolator:P7,colors:oJ});var EE=PQ(xE,{applyAnimatedValues:JE,createAnimatedStyle:(_)=>new wE(_),getComponentProps:({scrollTop:_,scrollLeft:H,...X})=>X}),l$=EE.animated;var yI=d(cQ(),1);var pQ="acacia",TE=function _(H){return H===3?"v3":H},iQ="https://js.stripe.com",yE="".concat(iQ,"/").concat(pQ,"/stripe.js"),gE=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,kE=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,lQ="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",jE=function _(H){return gE.test(H)||kE.test(H)},bE=function _(){var H=document.querySelectorAll('script[src^="'.concat(iQ,'"]'));for(var X=0;X<H.length;X++){var P=H[X];if(!jE(P.src))continue;return P}return null},uQ=function _(H){var X=H&&!H.advancedFraudSignals?"?advancedFraudSignals=false":"",P=document.createElement("script");P.src="".concat(yE).concat(X);var G=document.head||document.body;if(!G)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return G.appendChild(P),P},vE=function _(H,X){if(!H||!H._registerWrapper)return;H._registerWrapper({name:"stripe-js",version:"6.1.0",startTime:X})},Zz=null,R7=null,C7=null,fE=function _(H){return function(X){H(new Error("Failed to load Stripe.js",{cause:X}))}},mE=function _(H,X){return function(){if(window.Stripe)H(window.Stripe);else X(new Error("Stripe.js not available"))}},hE=function _(H){if(Zz!==null)return Zz;return Zz=new Promise(function(X,P){if(typeof window==="undefined"||typeof document==="undefined"){X(null);return}if(window.Stripe&&H)console.warn(lQ);if(window.Stripe){X(window.Stripe);return}try{var G=bE();if(G&&H)console.warn(lQ);else if(!G)G=uQ(H);else if(G&&C7!==null&&R7!==null){var W;G.removeEventListener("load",C7),G.removeEventListener("error",R7),(W=G.parentNode)===null||W===void 0||W.removeChild(G),G=uQ(H)}C7=mE(X,P),R7=fE(P),G.addEventListener("load",C7),G.addEventListener("error",R7)}catch(N){P(N);return}}),Zz.catch(function(X){return Zz=null,Promise.reject(X)})},dE=function _(H,X,P){if(H===null)return null;var G=X[0],W=G.match(/^pk_test/),N=TE(H.version),q=pQ;if(W&&N!==q)console.warn("Stripe.js@".concat(N," was loaded on the page, but @stripe/stripe-js@").concat("6.1.0"," expected Stripe.js@").concat(q,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var Q=H.apply(void 0,X);return vE(Q,P),Q},Jz,nQ=!1,oQ=function _(){if(Jz)return Jz;return Jz=hE(null).catch(function(H){return Jz=null,Promise.reject(H)}),Jz};Promise.resolve().then(function(){return oQ()}).catch(function(_){if(!nQ)console.warn(_)});var _I=function _(){for(var H=arguments.length,X=new Array(H),P=0;P<H;P++)X[P]=arguments[P];nQ=!0;var G=Date.now();return oQ().then(function(W){return dE(W,X,G)})};var cE;((pS)=>{function _(X){try{return Y$(JSON.stringify(X))}catch{return e_}}pS.serialize=_;function H(X){try{return Y$(JSON.parse(X))}catch{return e_}}pS.deserialize=H})(cE||={});function Qz(_,H){return function X(){return _.apply(H,arguments)}}var{toString:lE}=Object.prototype,{getPrototypeOf:HI}=Object,A7=((_)=>(H)=>{let X=lE.call(H);return _[X]||(_[X]=X.slice(8,-1).toLowerCase())})(Object.create(null)),hB=(_)=>{return _=_.toLowerCase(),(H)=>A7(H)===_},x7=(_)=>(H)=>typeof H===_,{isArray:RO}=Array,qz=x7("undefined");function uE(_){return _!==null&&!qz(_)&&_.constructor!==null&&!qz(_.constructor)&&i0(_.constructor.isBuffer)&&_.constructor.isBuffer(_)}var aQ=hB("ArrayBuffer");function pE(_){let H;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)H=ArrayBuffer.isView(_);else H=_&&_.buffer&&aQ(_.buffer);return H}var iE=x7("string"),i0=x7("function"),rQ=x7("number"),E7=(_)=>_!==null&&typeof _==="object",nE=(_)=>_===!0||_===!1,w7=(_)=>{if(A7(_)!=="object")return!1;let H=HI(_);return(H===null||H===Object.prototype||Object.getPrototypeOf(H)===null)&&!(Symbol.toStringTag in _)&&!(Symbol.iterator in _)},oE=hB("Date"),sE=hB("File"),aE=hB("Blob"),rE=hB("FileList"),tE=(_)=>E7(_)&&i0(_.pipe),eE=(_)=>{let H;return _&&(typeof FormData==="function"&&_ instanceof FormData||i0(_.append)&&((H=A7(_))==="formdata"||H==="object"&&i0(_.toString)&&_.toString()==="[object FormData]"))},YV=hB("URLSearchParams"),[KV,BV,_V,$V]=["ReadableStream","Request","Response","Headers"].map(hB),HV=(_)=>_.trim?_.trim():_.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lz(_,H,{allOwnKeys:X=!1}={}){if(_===null||typeof _==="undefined")return;let P,G;if(typeof _!=="object")_=[_];if(RO(_))for(P=0,G=_.length;P<G;P++)H.call(null,_[P],P,_);else{let W=X?Object.getOwnPropertyNames(_):Object.keys(_),N=W.length,q;for(P=0;P<N;P++)q=W[P],H.call(null,_[q],q,_)}}function tQ(_,H){H=H.toLowerCase();let X=Object.keys(_),P=X.length,G;while(P-- >0)if(G=X[P],H===G.toLowerCase())return G;return null}var p1=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:global})(),eQ=(_)=>!qz(_)&&_!==p1;function $I(){let{caseless:_}=eQ(this)&&this||{},H={},X=(P,G)=>{let W=_&&tQ(H,G)||G;if(w7(H[W])&&w7(P))H[W]=$I(H[W],P);else if(w7(P))H[W]=$I({},P);else if(RO(P))H[W]=P.slice();else H[W]=P};for(let P=0,G=arguments.length;P<G;P++)arguments[P]&&Lz(arguments[P],X);return H}var OV=(_,H,X,{allOwnKeys:P}={})=>{return Lz(H,(G,W)=>{if(X&&i0(G))_[W]=Qz(G,X);else _[W]=G},{allOwnKeys:P}),_},XV=(_)=>{if(_.charCodeAt(0)===65279)_=_.slice(1);return _},zV=(_,H,X,P)=>{_.prototype=Object.create(H.prototype,P),_.prototype.constructor=_,Object.defineProperty(_,"super",{value:H.prototype}),X&&Object.assign(_.prototype,X)},PV=(_,H,X,P)=>{let G,W,N,q={};if(H=H||{},_==null)return H;do{G=Object.getOwnPropertyNames(_),W=G.length;while(W-- >0)if(N=G[W],(!P||P(N,_,H))&&!q[N])H[N]=_[N],q[N]=!0;_=X!==!1&&HI(_)}while(_&&(!X||X(_,H))&&_!==Object.prototype);return H},GV=(_,H,X)=>{if(_=String(_),X===void 0||X>_.length)X=_.length;X-=H.length;let P=_.indexOf(H,X);return P!==-1&&P===X},IV=(_)=>{if(!_)return null;if(RO(_))return _;let H=_.length;if(!rQ(H))return null;let X=new Array(H);while(H-- >0)X[H]=_[H];return X},WV=((_)=>{return(H)=>{return _&&H instanceof _}})(typeof Uint8Array!=="undefined"&&HI(Uint8Array)),NV=(_,H)=>{let P=(_&&_[Symbol.iterator]).call(_),G;while((G=P.next())&&!G.done){let W=G.value;H.call(_,W[0],W[1])}},ZV=(_,H)=>{let X,P=[];while((X=_.exec(H))!==null)P.push(X);return P},JV=hB("HTMLFormElement"),QV=(_)=>{return _.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function H(X,P,G){return P.toUpperCase()+G})},sQ=(({hasOwnProperty:_})=>(H,X)=>_.call(H,X))(Object.prototype),qV=hB("RegExp"),Yq=(_,H)=>{let X=Object.getOwnPropertyDescriptors(_),P={};Lz(X,(G,W)=>{let N;if((N=H(G,W,_))!==!1)P[W]=N||G}),Object.defineProperties(_,P)},LV=(_)=>{Yq(_,(H,X)=>{if(i0(_)&&["arguments","caller","callee"].indexOf(X)!==-1)return!1;let P=_[X];if(!i0(P))return;if(H.enumerable=!1,"writable"in H){H.writable=!1;return}if(!H.set)H.set=()=>{throw Error("Can not rewrite read-only method '"+X+"'")}})},RV=(_,H)=>{let X={},P=(G)=>{G.forEach((W)=>{X[W]=!0})};return RO(_)?P(_):P(String(_).split(H)),X},CV=()=>{},wV=(_,H)=>{return _!=null&&Number.isFinite(_=+_)?_:H};function AV(_){return!!(_&&i0(_.append)&&_[Symbol.toStringTag]==="FormData"&&_[Symbol.iterator])}var xV=(_)=>{let H=new Array(10),X=(P,G)=>{if(E7(P)){if(H.indexOf(P)>=0)return;if(!("toJSON"in P)){H[G]=P;let W=RO(P)?[]:{};return Lz(P,(N,q)=>{let Q=X(N,G+1);!qz(Q)&&(W[q]=Q)}),H[G]=void 0,W}}return P};return X(_,0)},EV=hB("AsyncFunction"),VV=(_)=>_&&(E7(_)||i0(_))&&i0(_.then)&&i0(_.catch),Kq=((_,H)=>{if(_)return setImmediate;return H?((X,P)=>{return p1.addEventListener("message",({source:G,data:W})=>{if(G===p1&&W===X)P.length&&P.shift()()},!1),(G)=>{P.push(G),p1.postMessage(X,"*")}})(`axios@${Math.random()}`,[]):(X)=>setTimeout(X)})(typeof setImmediate==="function",i0(p1.postMessage)),FV=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(p1):typeof process!=="undefined"&&process.nextTick||Kq,g={isArray:RO,isArrayBuffer:aQ,isBuffer:uE,isFormData:eE,isArrayBufferView:pE,isString:iE,isNumber:rQ,isBoolean:nE,isObject:E7,isPlainObject:w7,isReadableStream:KV,isRequest:BV,isResponse:_V,isHeaders:$V,isUndefined:qz,isDate:oE,isFile:sE,isBlob:aE,isRegExp:qV,isFunction:i0,isStream:tE,isURLSearchParams:YV,isTypedArray:WV,isFileList:rE,forEach:Lz,merge:$I,extend:OV,trim:HV,stripBOM:XV,inherits:zV,toFlatObject:PV,kindOf:A7,kindOfTest:hB,endsWith:GV,toArray:IV,forEachEntry:NV,matchAll:ZV,isHTMLForm:JV,hasOwnProperty:sQ,hasOwnProp:sQ,reduceDescriptors:Yq,freezeMethods:LV,toObjectSet:RV,toCamelCase:QV,noop:CV,toFiniteNumber:wV,findKey:tQ,global:p1,isContextDefined:eQ,isSpecCompliantForm:AV,toJSONObject:xV,isAsyncFn:EV,isThenable:VV,setImmediate:Kq,asap:FV};function CO(_,H,X,P,G){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack;if(this.message=_,this.name="AxiosError",H&&(this.code=H),X&&(this.config=X),P&&(this.request=P),G)this.response=G,this.status=G.status?G.status:null}g.inherits(CO,Error,{toJSON:function _(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.status}}});var Bq=CO.prototype,_q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((_)=>{_q[_]={value:_}});Object.defineProperties(CO,_q);Object.defineProperty(Bq,"isAxiosError",{value:!0});CO.from=(_,H,X,P,G,W)=>{let N=Object.create(Bq);return g.toFlatObject(_,N,function q(Q){return Q!==Error.prototype},(q)=>{return q!=="isAxiosError"}),CO.call(N,_.message,H,X,P,G),N.cause=_,N.name=_.name,W&&Object.assign(N,W),N};var QY=CO;var V7=null;function OI(_){return g.isPlainObject(_)||g.isArray(_)}function Hq(_){return g.endsWith(_,"[]")?_.slice(0,-2):_}function $q(_,H,X){if(!_)return H;return _.concat(H).map(function P(G,W){return G=Hq(G),!X&&W?"["+G+"]":G}).join(X?".":"")}function DV(_){return g.isArray(_)&&!_.some(OI)}var MV=g.toFlatObject(g,{},null,function _(H){return/^is[A-Z]/.test(H)});function UV(_,H,X){if(!g.isObject(_))throw new TypeError("target must be an object");H=H||new(V7||FormData),X=g.toFlatObject(X,{metaTokens:!0,dots:!1,indexes:!1},!1,function U(m,S){return!g.isUndefined(S[m])});let P=X.metaTokens,G=X.visitor||w,W=X.dots,N=X.indexes,Q=(X.Blob||typeof Blob!=="undefined"&&Blob)&&g.isSpecCompliantForm(H);if(!g.isFunction(G))throw new TypeError("visitor must be a function");function L(U){if(U===null)return"";if(g.isDate(U))return U.toISOString();if(!Q&&g.isBlob(U))throw new QY("Blob is not supported. Use a Buffer instead.");if(g.isArrayBuffer(U)||g.isTypedArray(U))return Q&&typeof Blob==="function"?new Blob([U]):Buffer.from(U);return U}function w(U,m,S){let y=U;if(U&&!S&&typeof U==="object"){if(g.endsWith(m,"{}"))m=P?m:m.slice(0,-2),U=JSON.stringify(U);else if(g.isArray(U)&&DV(U)||(g.isFileList(U)||g.endsWith(m,"[]"))&&(y=g.toArray(U)))return m=Hq(m),y.forEach(function b(i,u){!(g.isUndefined(i)||i===null)&&H.append(N===!0?$q([m],u,W):N===null?m:m+"[]",L(i))}),!1}if(OI(U))return!0;return H.append($q(S,m,W),L(U)),!1}let C=[],F=Object.assign(MV,{defaultVisitor:w,convertValue:L,isVisitable:OI});function T(U,m){if(g.isUndefined(U))return;if(C.indexOf(U)!==-1)throw Error("Circular reference detected in "+m.join("."));C.push(U),g.forEach(U,function S(y,b){if((!(g.isUndefined(y)||y===null)&&G.call(H,y,g.isString(b)?b.trim():b,m,F))===!0)T(y,m?m.concat(b):[b])}),C.pop()}if(!g.isObject(_))throw new TypeError("data must be an object");return T(_),H}var u$=UV;function Oq(_){let H={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(_).replace(/[!'()~]|%20|%00/g,function X(P){return H[P]})}function Xq(_,H){this._pairs=[],_&&u$(_,this,H)}var zq=Xq.prototype;zq.append=function _(H,X){this._pairs.push([H,X])};zq.toString=function _(H){let X=H?function(P){return H.call(this,P,Oq)}:Oq;return this._pairs.map(function P(G){return X(G[0])+"="+X(G[1])},"").join("&")};var F7=Xq;function SV(_){return encodeURIComponent(_).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Rz(_,H,X){if(!H)return _;let P=X&&X.encode||SV;if(g.isFunction(X))X={serialize:X};let G=X&&X.serialize,W;if(G)W=G(H,X);else W=g.isURLSearchParams(H)?H.toString():new F7(H,X).toString(P);if(W){let N=_.indexOf("#");if(N!==-1)_=_.slice(0,N);_+=(_.indexOf("?")===-1?"?":"&")+W}return _}class Pq{constructor(){this.handlers=[]}use(_,H,X){return this.handlers.push({fulfilled:_,rejected:H,synchronous:X?X.synchronous:!1,runWhen:X?X.runWhen:null}),this.handlers.length-1}eject(_){if(this.handlers[_])this.handlers[_]=null}clear(){if(this.handlers)this.handlers=[]}forEach(_){g.forEach(this.handlers,function H(X){if(X!==null)_(X)})}}var XI=Pq;var D7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var Gq=typeof URLSearchParams!=="undefined"?URLSearchParams:F7;var Iq=typeof FormData!=="undefined"?FormData:null;var Wq=typeof Blob!=="undefined"?Blob:null;var Nq={isBrowser:!0,classes:{URLSearchParams:Gq,FormData:Iq,Blob:Wq},protocols:["http","https","file","blob","url","data"]};var GI={};Mw(GI,{origin:()=>gV,navigator:()=>zI,hasStandardBrowserWebWorkerEnv:()=>yV,hasStandardBrowserEnv:()=>TV,hasBrowserEnv:()=>PI});var PI=typeof window!=="undefined"&&typeof document!=="undefined",zI=typeof navigator==="object"&&navigator||void 0,TV=PI&&(!zI||["ReactNative","NativeScript","NS"].indexOf(zI.product)<0),yV=(()=>{return typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function"})(),gV=PI&&window.location.href||"http://localhost";var wK={...GI,...Nq};function II(_,H){return u$(_,new wK.classes.URLSearchParams,Object.assign({visitor:function(X,P,G,W){if(wK.isNode&&g.isBuffer(X))return this.append(P,X.toString("base64")),!1;return W.defaultVisitor.apply(this,arguments)}},H))}function kV(_){return g.matchAll(/\w+|\[(\w*)]/g,_).map((H)=>{return H[0]==="[]"?"":H[1]||H[0]})}function jV(_){let H={},X=Object.keys(_),P,G=X.length,W;for(P=0;P<G;P++)W=X[P],H[W]=_[W];return H}function bV(_){function H(X,P,G,W){let N=X[W++];if(N==="__proto__")return!0;let q=Number.isFinite(+N),Q=W>=X.length;if(N=!N&&g.isArray(G)?G.length:N,Q){if(g.hasOwnProp(G,N))G[N]=[G[N],P];else G[N]=P;return!q}if(!G[N]||!g.isObject(G[N]))G[N]=[];if(H(X,P,G[N],W)&&g.isArray(G[N]))G[N]=jV(G[N]);return!q}if(g.isFormData(_)&&g.isFunction(_.entries)){let X={};return g.forEachEntry(_,(P,G)=>{H(kV(P),G,X,0)}),X}return null}var M7=bV;function vV(_,H,X){if(g.isString(_))try{return(H||JSON.parse)(_),g.trim(_)}catch(P){if(P.name!=="SyntaxError")throw P}return(X||JSON.stringify)(_)}var WI={transitional:D7,adapter:["xhr","http","fetch"],transformRequest:[function _(H,X){let P=X.getContentType()||"",G=P.indexOf("application/json")>-1,W=g.isObject(H);if(W&&g.isHTMLForm(H))H=new FormData(H);if(g.isFormData(H))return G?JSON.stringify(M7(H)):H;if(g.isArrayBuffer(H)||g.isBuffer(H)||g.isStream(H)||g.isFile(H)||g.isBlob(H)||g.isReadableStream(H))return H;if(g.isArrayBufferView(H))return H.buffer;if(g.isURLSearchParams(H))return X.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),H.toString();let q;if(W){if(P.indexOf("application/x-www-form-urlencoded")>-1)return II(H,this.formSerializer).toString();if((q=g.isFileList(H))||P.indexOf("multipart/form-data")>-1){let Q=this.env&&this.env.FormData;return u$(q?{"files[]":H}:H,Q&&new Q,this.formSerializer)}}if(W||G)return X.setContentType("application/json",!1),vV(H);return H}],transformResponse:[function _(H){let X=this.transitional||WI.transitional,P=X&&X.forcedJSONParsing,G=this.responseType==="json";if(g.isResponse(H)||g.isReadableStream(H))return H;if(H&&g.isString(H)&&(P&&!this.responseType||G)){let N=!(X&&X.silentJSONParsing)&&G;try{return JSON.parse(H)}catch(q){if(N){if(q.name==="SyntaxError")throw QY.from(q,QY.ERR_BAD_RESPONSE,this,null,this.response);throw q}}}return H}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wK.classes.FormData,Blob:wK.classes.Blob},validateStatus:function _(H){return H>=200&&H<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};g.forEach(["delete","get","head","post","put","patch"],(_)=>{WI.headers[_]={}});var wO=WI;var fV=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zq=(_)=>{let H={},X,P,G;return _&&_.split(`
`).forEach(function W(N){if(G=N.indexOf(":"),X=N.substring(0,G).trim().toLowerCase(),P=N.substring(G+1).trim(),!X||H[X]&&fV[X])return;if(X==="set-cookie")if(H[X])H[X].push(P);else H[X]=[P];else H[X]=H[X]?H[X]+", "+P:P}),H};var Jq=Symbol("internals");function Cz(_){return _&&String(_).trim().toLowerCase()}function U7(_){if(_===!1||_==null)return _;return g.isArray(_)?_.map(U7):String(_)}function mV(_){let H=Object.create(null),X=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,P;while(P=X.exec(_))H[P[1]]=P[2];return H}var hV=(_)=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_.trim());function NI(_,H,X,P,G){if(g.isFunction(P))return P.call(this,H,X);if(G)H=X;if(!g.isString(H))return;if(g.isString(P))return H.indexOf(P)!==-1;if(g.isRegExp(P))return P.test(H)}function dV(_){return _.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(H,X,P)=>{return X.toUpperCase()+P})}function cV(_,H){let X=g.toCamelCase(" "+H);["get","set","has"].forEach((P)=>{Object.defineProperty(_,P+X,{value:function(G,W,N){return this[P].call(this,H,G,W,N)},configurable:!0})})}class wz{constructor(_){_&&this.set(_)}set(_,H,X){let P=this;function G(N,q,Q){let L=Cz(q);if(!L)throw new Error("header name must be a non-empty string");let w=g.findKey(P,L);if(!w||P[w]===void 0||Q===!0||Q===void 0&&P[w]!==!1)P[w||q]=U7(N)}let W=(N,q)=>g.forEach(N,(Q,L)=>G(Q,L,q));if(g.isPlainObject(_)||_ instanceof this.constructor)W(_,H);else if(g.isString(_)&&(_=_.trim())&&!hV(_))W(Zq(_),H);else if(g.isHeaders(_))for(let[N,q]of _.entries())G(q,N,X);else _!=null&&G(H,_,X);return this}get(_,H){if(_=Cz(_),_){let X=g.findKey(this,_);if(X){let P=this[X];if(!H)return P;if(H===!0)return mV(P);if(g.isFunction(H))return H.call(this,P,X);if(g.isRegExp(H))return H.exec(P);throw new TypeError("parser must be boolean|regexp|function")}}}has(_,H){if(_=Cz(_),_){let X=g.findKey(this,_);return!!(X&&this[X]!==void 0&&(!H||NI(this,this[X],X,H)))}return!1}delete(_,H){let X=this,P=!1;function G(W){if(W=Cz(W),W){let N=g.findKey(X,W);if(N&&(!H||NI(X,X[N],N,H)))delete X[N],P=!0}}if(g.isArray(_))_.forEach(G);else G(_);return P}clear(_){let H=Object.keys(this),X=H.length,P=!1;while(X--){let G=H[X];if(!_||NI(this,this[G],G,_,!0))delete this[G],P=!0}return P}normalize(_){let H=this,X={};return g.forEach(this,(P,G)=>{let W=g.findKey(X,G);if(W){H[W]=U7(P),delete H[G];return}let N=_?dV(G):String(G).trim();if(N!==G)delete H[G];H[N]=U7(P),X[N]=!0}),this}concat(..._){return this.constructor.concat(this,..._)}toJSON(_){let H=Object.create(null);return g.forEach(this,(X,P)=>{X!=null&&X!==!1&&(H[P]=_&&g.isArray(X)?X.join(", "):X)}),H}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([_,H])=>_+": "+H).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(_){return _ instanceof this?_:new this(_)}static concat(_,...H){let X=new this(_);return H.forEach((P)=>X.set(P)),X}static accessor(_){let X=(this[Jq]=this[Jq]={accessors:{}}).accessors,P=this.prototype;function G(W){let N=Cz(W);if(!X[N])cV(P,W),X[N]=!0}return g.isArray(_)?_.forEach(G):G(_),this}}wz.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.reduceDescriptors(wz.prototype,({value:_},H)=>{let X=H[0].toUpperCase()+H.slice(1);return{get:()=>_,set(P){this[X]=P}}});g.freezeMethods(wz);var mK=wz;function Az(_,H){let X=this||wO,P=H||X,G=mK.from(P.headers),W=P.data;return g.forEach(_,function N(q){W=q.call(X,W,G.normalize(),H?H.status:void 0)}),G.normalize(),W}function xz(_){return!!(_&&_.__CANCEL__)}function Qq(_,H,X){QY.call(this,_==null?"canceled":_,QY.ERR_CANCELED,H,X),this.name="CanceledError"}g.inherits(Qq,QY,{__CANCEL__:!0});var L_=Qq;function Ez(_,H,X){let P=X.config.validateStatus;if(!X.status||!P||P(X.status))_(X);else H(new QY("Request failed with status code "+X.status,[QY.ERR_BAD_REQUEST,QY.ERR_BAD_RESPONSE][Math.floor(X.status/100)-4],X.config,X.request,X))}function ZI(_){let H=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_);return H&&H[1]||""}function lV(_,H){_=_||10;let X=new Array(_),P=new Array(_),G=0,W=0,N;return H=H!==void 0?H:1000,function q(Q){let L=Date.now(),w=P[W];if(!N)N=L;X[G]=Q,P[G]=L;let C=W,F=0;while(C!==G)F+=X[C++],C=C%_;if(G=(G+1)%_,G===W)W=(W+1)%_;if(L-N<H)return;let T=w&&L-w;return T?Math.round(F*1000/T):void 0}}var qq=lV;function uV(_,H){let X=0,P=1000/H,G,W,N=(L,w=Date.now())=>{if(X=w,G=null,W)clearTimeout(W),W=null;_.apply(null,L)};return[(...L)=>{let w=Date.now(),C=w-X;if(C>=P)N(L,w);else if(G=L,!W)W=setTimeout(()=>{W=null,N(G)},P-C)},()=>G&&N(G)]}var Lq=uV;var AO=(_,H,X=3)=>{let P=0,G=qq(50,250);return Lq((W)=>{let N=W.loaded,q=W.lengthComputable?W.total:void 0,Q=N-P,L=G(Q),w=N<=q;P=N;let C={loaded:N,total:q,progress:q?N/q:void 0,bytes:Q,rate:L?L:void 0,estimated:L&&q&&w?(q-N)/L:void 0,event:W,lengthComputable:q!=null,[H?"download":"upload"]:!0};_(C)},X)},JI=(_,H)=>{let X=_!=null;return[(P)=>H[0]({lengthComputable:X,total:_,loaded:P}),H[1]]},QI=(_)=>(...H)=>g.asap(()=>_(...H));var Rq=wK.hasStandardBrowserEnv?((_,H)=>(X)=>{return X=new URL(X,wK.origin),_.protocol===X.protocol&&_.host===X.host&&(H||_.port===X.port)})(new URL(wK.origin),wK.navigator&&/(msie|trident)/i.test(wK.navigator.userAgent)):()=>!0;var Cq=wK.hasStandardBrowserEnv?{write(_,H,X,P,G,W){let N=[_+"="+encodeURIComponent(H)];g.isNumber(X)&&N.push("expires="+new Date(X).toGMTString()),g.isString(P)&&N.push("path="+P),g.isString(G)&&N.push("domain="+G),W===!0&&N.push("secure"),document.cookie=N.join("; ")},read(_){let H=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return H?decodeURIComponent(H[3]):null},remove(_){this.write(_,"",Date.now()-86400000)}}:{write(){},read(){return null},remove(){}};function qI(_){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_)}function LI(_,H){return H?_.replace(/\/?\/$/,"")+"/"+H.replace(/^\/+/,""):_}function Vz(_,H,X){let P=!qI(H);if(_&&P||X==!1)return LI(_,H);return H}var wq=(_)=>_ instanceof mK?{..._}:_;function dB(_,H){H=H||{};let X={};function P(L,w,C,F){if(g.isPlainObject(L)&&g.isPlainObject(w))return g.merge.call({caseless:F},L,w);else if(g.isPlainObject(w))return g.merge({},w);else if(g.isArray(w))return w.slice();return w}function G(L,w,C,F){if(!g.isUndefined(w))return P(L,w,C,F);else if(!g.isUndefined(L))return P(void 0,L,C,F)}function W(L,w){if(!g.isUndefined(w))return P(void 0,w)}function N(L,w){if(!g.isUndefined(w))return P(void 0,w);else if(!g.isUndefined(L))return P(void 0,L)}function q(L,w,C){if(C in H)return P(L,w);else if(C in _)return P(void 0,L)}let Q={url:W,method:W,data:W,baseURL:N,transformRequest:N,transformResponse:N,paramsSerializer:N,timeout:N,timeoutMessage:N,withCredentials:N,withXSRFToken:N,adapter:N,responseType:N,xsrfCookieName:N,xsrfHeaderName:N,onUploadProgress:N,onDownloadProgress:N,decompress:N,maxContentLength:N,maxBodyLength:N,beforeRedirect:N,transport:N,httpAgent:N,httpsAgent:N,cancelToken:N,socketPath:N,responseEncoding:N,validateStatus:q,headers:(L,w,C)=>G(wq(L),wq(w),C,!0)};return g.forEach(Object.keys(Object.assign({},_,H)),function L(w){let C=Q[w]||G,F=C(_[w],H[w],w);g.isUndefined(F)&&C!==q||(X[w]=F)}),X}var S7=(_)=>{let H=dB({},_),{data:X,withXSRFToken:P,xsrfHeaderName:G,xsrfCookieName:W,headers:N,auth:q}=H;if(H.headers=N=mK.from(N),H.url=Rz(Vz(H.baseURL,H.url,H.allowAbsoluteUrls),_.params,_.paramsSerializer),q)N.set("Authorization","Basic "+btoa((q.username||"")+":"+(q.password?unescape(encodeURIComponent(q.password)):"")));let Q;if(g.isFormData(X)){if(wK.hasStandardBrowserEnv||wK.hasStandardBrowserWebWorkerEnv)N.setContentType(void 0);else if((Q=N.getContentType())!==!1){let[L,...w]=Q?Q.split(";").map((C)=>C.trim()).filter(Boolean):[];N.setContentType([L||"multipart/form-data",...w].join("; "))}}if(wK.hasStandardBrowserEnv){if(P&&g.isFunction(P)&&(P=P(H)),P||P!==!1&&Rq(H.url)){let L=G&&W&&Cq.read(W);if(L)N.set(G,L)}}return H};var pV=typeof XMLHttpRequest!=="undefined",Aq=pV&&function(_){return new Promise(function H(X,P){let G=S7(_),W=G.data,N=mK.from(G.headers).normalize(),{responseType:q,onUploadProgress:Q,onDownloadProgress:L}=G,w,C,F,T,U;function m(){T&&T(),U&&U(),G.cancelToken&&G.cancelToken.unsubscribe(w),G.signal&&G.signal.removeEventListener("abort",w)}let S=new XMLHttpRequest;S.open(G.method.toUpperCase(),G.url,!0),S.timeout=G.timeout;function y(){if(!S)return;let i=mK.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),$Y={data:!q||q==="text"||q==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:i,config:_,request:S};Ez(function bY(ZY){X(ZY),m()},function bY(ZY){P(ZY),m()},$Y),S=null}if("onloadend"in S)S.onloadend=y;else S.onreadystatechange=function i(){if(!S||S.readyState!==4)return;if(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))return;setTimeout(y)};if(S.onabort=function i(){if(!S)return;P(new QY("Request aborted",QY.ECONNABORTED,_,S)),S=null},S.onerror=function i(){P(new QY("Network Error",QY.ERR_NETWORK,_,S)),S=null},S.ontimeout=function i(){let u=G.timeout?"timeout of "+G.timeout+"ms exceeded":"timeout exceeded",$Y=G.transitional||D7;if(G.timeoutErrorMessage)u=G.timeoutErrorMessage;P(new QY(u,$Y.clarifyTimeoutError?QY.ETIMEDOUT:QY.ECONNABORTED,_,S)),S=null},W===void 0&&N.setContentType(null),"setRequestHeader"in S)g.forEach(N.toJSON(),function i(u,$Y){S.setRequestHeader($Y,u)});if(!g.isUndefined(G.withCredentials))S.withCredentials=!!G.withCredentials;if(q&&q!=="json")S.responseType=G.responseType;if(L)[F,U]=AO(L,!0),S.addEventListener("progress",F);if(Q&&S.upload)[C,T]=AO(Q),S.upload.addEventListener("progress",C),S.upload.addEventListener("loadend",T);if(G.cancelToken||G.signal){if(w=(i)=>{if(!S)return;P(!i||i.type?new L_(null,_,S):i),S.abort(),S=null},G.cancelToken&&G.cancelToken.subscribe(w),G.signal)G.signal.aborted?w():G.signal.addEventListener("abort",w)}let b=ZI(G.url);if(b&&wK.protocols.indexOf(b)===-1){P(new QY("Unsupported protocol "+b+":",QY.ERR_BAD_REQUEST,_));return}S.send(W||null)})};var iV=(_,H)=>{let{length:X}=_=_?_.filter(Boolean):[];if(H||X){let P=new AbortController,G,W=function(L){if(!G){G=!0,q();let w=L instanceof Error?L:this.reason;P.abort(w instanceof QY?w:new L_(w instanceof Error?w.message:w))}},N=H&&setTimeout(()=>{N=null,W(new QY(`timeout ${H} of ms exceeded`,QY.ETIMEDOUT))},H),q=()=>{if(_)N&&clearTimeout(N),N=null,_.forEach((L)=>{L.unsubscribe?L.unsubscribe(W):L.removeEventListener("abort",W)}),_=null};_.forEach((L)=>L.addEventListener("abort",W));let{signal:Q}=P;return Q.unsubscribe=()=>g.asap(q),Q}},xq=iV;var nV=function*(_,H){let X=_.byteLength;if(!H||X<H){yield _;return}let P=0,G;while(P<X)G=P+H,yield _.slice(P,G),P=G},oV=async function*(_,H){for await(let X of sV(_))yield*nV(X,H)},sV=async function*(_){if(_[Symbol.asyncIterator]){yield*_;return}let H=_.getReader();try{for(;;){let{done:X,value:P}=await H.read();if(X)break;yield P}}finally{await H.cancel()}},RI=(_,H,X,P)=>{let G=oV(_,H),W=0,N,q=(Q)=>{if(!N)N=!0,P&&P(Q)};return new ReadableStream({async pull(Q){try{let{done:L,value:w}=await G.next();if(L){q(),Q.close();return}let C=w.byteLength;if(X){let F=W+=C;X(F)}Q.enqueue(new Uint8Array(w))}catch(L){throw q(L),L}},cancel(Q){return q(Q),G.return()}},{highWaterMark:2})};var y7=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function",Vq=y7&&typeof ReadableStream==="function",aV=y7&&(typeof TextEncoder==="function"?((_)=>(H)=>_.encode(H))(new TextEncoder):async(_)=>new Uint8Array(await new Response(_).arrayBuffer())),Fq=(_,...H)=>{try{return!!_(...H)}catch(X){return!1}},rV=Vq&&Fq(()=>{let _=!1,H=new Request(wK.origin,{body:new ReadableStream,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!H}),Eq=65536,CI=Vq&&Fq(()=>g.isReadableStream(new Response("").body)),T7={stream:CI&&((_)=>_.body)};y7&&((_)=>{["text","arrayBuffer","blob","formData","stream"].forEach((H)=>{!T7[H]&&(T7[H]=g.isFunction(_[H])?(X)=>X[H]():(X,P)=>{throw new QY(`Response type '${H}' is not supported`,QY.ERR_NOT_SUPPORT,P)})})})(new Response);var tV=async(_)=>{if(_==null)return 0;if(g.isBlob(_))return _.size;if(g.isSpecCompliantForm(_))return(await new Request(wK.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(g.isArrayBufferView(_)||g.isArrayBuffer(_))return _.byteLength;if(g.isURLSearchParams(_))_=_+"";if(g.isString(_))return(await aV(_)).byteLength},eV=async(_,H)=>{let X=g.toFiniteNumber(_.getContentLength());return X==null?tV(H):X},Dq=y7&&(async(_)=>{let{url:H,method:X,data:P,signal:G,cancelToken:W,timeout:N,onDownloadProgress:q,onUploadProgress:Q,responseType:L,headers:w,withCredentials:C="same-origin",fetchOptions:F}=S7(_);L=L?(L+"").toLowerCase():"text";let T=xq([G,W&&W.toAbortSignal()],N),U,m=T&&T.unsubscribe&&(()=>{T.unsubscribe()}),S;try{if(Q&&rV&&X!=="get"&&X!=="head"&&(S=await eV(w,P))!==0){let $Y=new Request(H,{method:"POST",body:P,duplex:"half"}),bY;if(g.isFormData(P)&&(bY=$Y.headers.get("content-type")))w.setContentType(bY);if($Y.body){let[ZY,gY]=JI(S,AO(QI(Q)));P=RI($Y.body,Eq,ZY,gY)}}if(!g.isString(C))C=C?"include":"omit";let y="credentials"in Request.prototype;U=new Request(H,{...F,signal:T,method:X.toUpperCase(),headers:w.normalize().toJSON(),body:P,duplex:"half",credentials:y?C:void 0});let b=await fetch(U),i=CI&&(L==="stream"||L==="response");if(CI&&(q||i&&m)){let $Y={};["status","statusText","headers"].forEach((LY)=>{$Y[LY]=b[LY]});let bY=g.toFiniteNumber(b.headers.get("content-length")),[ZY,gY]=q&&JI(bY,AO(QI(q),!0))||[];b=new Response(RI(b.body,Eq,ZY,()=>{gY&&gY(),m&&m()}),$Y)}L=L||"text";let u=await T7[g.findKey(T7,L)||"text"](b,_);return!i&&m&&m(),await new Promise(($Y,bY)=>{Ez($Y,bY,{data:u,headers:mK.from(b.headers),status:b.status,statusText:b.statusText,config:_,request:U})})}catch(y){if(m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message))throw Object.assign(new QY("Network Error",QY.ERR_NETWORK,_,U),{cause:y.cause||y});throw QY.from(y,y&&y.code,_,U)}});var wI={http:V7,xhr:Aq,fetch:Dq};g.forEach(wI,(_,H)=>{if(_){try{Object.defineProperty(_,"name",{value:H})}catch(X){}Object.defineProperty(_,"adapterName",{value:H})}});var Mq=(_)=>`- ${_}`,YF=(_)=>g.isFunction(_)||_===null||_===!1,g7={getAdapter:(_)=>{_=g.isArray(_)?_:[_];let{length:H}=_,X,P,G={};for(let W=0;W<H;W++){X=_[W];let N;if(P=X,!YF(X)){if(P=wI[(N=String(X)).toLowerCase()],P===void 0)throw new QY(`Unknown adapter '${N}'`)}if(P)break;G[N||"#"+W]=P}if(!P){let W=Object.entries(G).map(([q,Q])=>`adapter ${q} `+(Q===!1?"is not supported by the environment":"is not available in the build")),N=H?W.length>1?`since :
`+W.map(Mq).join(`
`):" "+Mq(W[0]):"as no adapter specified";throw new QY("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return P},adapters:wI};function AI(_){if(_.cancelToken)_.cancelToken.throwIfRequested();if(_.signal&&_.signal.aborted)throw new L_(null,_)}function k7(_){if(AI(_),_.headers=mK.from(_.headers),_.data=Az.call(_,_.transformRequest),["post","put","patch"].indexOf(_.method)!==-1)_.headers.setContentType("application/x-www-form-urlencoded",!1);return g7.getAdapter(_.adapter||wO.adapter)(_).then(function X(P){return AI(_),P.data=Az.call(_,_.transformResponse,P),P.headers=mK.from(P.headers),P},function X(P){if(!xz(P)){if(AI(_),P&&P.response)P.response.data=Az.call(_,_.transformResponse,P.response),P.response.headers=mK.from(P.response.headers)}return Promise.reject(P)})}var j7="1.8.3";var b7={};["object","boolean","number","function","string","symbol"].forEach((_,H)=>{b7[_]=function X(P){return typeof P===_||"a"+(H<1?"n ":" ")+_}});var Uq={};b7.transitional=function _(H,X,P){function G(W,N){return"[Axios v"+j7+"] Transitional option '"+W+"'"+N+(P?". "+P:"")}return(W,N,q)=>{if(H===!1)throw new QY(G(N," has been removed"+(X?" in "+X:"")),QY.ERR_DEPRECATED);if(X&&!Uq[N])Uq[N]=!0,console.warn(G(N," has been deprecated since v"+X+" and will be removed in the near future"));return H?H(W,N,q):!0}};b7.spelling=function _(H){return(X,P)=>{return console.warn(`${P} is likely a misspelling of ${H}`),!0}};function KF(_,H,X){if(typeof _!=="object")throw new QY("options must be an object",QY.ERR_BAD_OPTION_VALUE);let P=Object.keys(_),G=P.length;while(G-- >0){let W=P[G],N=H[W];if(N){let q=_[W],Q=q===void 0||N(q,W,_);if(Q!==!0)throw new QY("option "+W+" must be "+Q,QY.ERR_BAD_OPTION_VALUE);continue}if(X!==!0)throw new QY("Unknown option "+W,QY.ERR_BAD_OPTION)}}var Fz={assertOptions:KF,validators:b7};var R_=Fz.validators;class Dz{constructor(_){this.defaults=_,this.interceptors={request:new XI,response:new XI}}async request(_,H){try{return await this._request(_,H)}catch(X){if(X instanceof Error){let P={};Error.captureStackTrace?Error.captureStackTrace(P):P=new Error;let G=P.stack?P.stack.replace(/^.+\n/,""):"";try{if(!X.stack)X.stack=G;else if(G&&!String(X.stack).endsWith(G.replace(/^.+\n.+\n/,"")))X.stack+=`
`+G}catch(W){}}throw X}}_request(_,H){if(typeof _==="string")H=H||{},H.url=_;else H=_||{};H=dB(this.defaults,H);let{transitional:X,paramsSerializer:P,headers:G}=H;if(X!==void 0)Fz.assertOptions(X,{silentJSONParsing:R_.transitional(R_.boolean),forcedJSONParsing:R_.transitional(R_.boolean),clarifyTimeoutError:R_.transitional(R_.boolean)},!1);if(P!=null)if(g.isFunction(P))H.paramsSerializer={serialize:P};else Fz.assertOptions(P,{encode:R_.function,serialize:R_.function},!0);if(H.allowAbsoluteUrls!==void 0);else if(this.defaults.allowAbsoluteUrls!==void 0)H.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls;else H.allowAbsoluteUrls=!0;Fz.assertOptions(H,{baseUrl:R_.spelling("baseURL"),withXsrfToken:R_.spelling("withXSRFToken")},!0),H.method=(H.method||this.defaults.method||"get").toLowerCase();let W=G&&g.merge(G.common,G[H.method]);G&&g.forEach(["delete","get","head","post","put","patch","common"],(T)=>{delete G[T]}),H.headers=mK.concat(W,G);let N=[],q=!0;this.interceptors.request.forEach(function T(U){if(typeof U.runWhen==="function"&&U.runWhen(H)===!1)return;q=q&&U.synchronous,N.unshift(U.fulfilled,U.rejected)});let Q=[];this.interceptors.response.forEach(function T(U){Q.push(U.fulfilled,U.rejected)});let L,w=0,C;if(!q){let T=[k7.bind(this),void 0];T.unshift.apply(T,N),T.push.apply(T,Q),C=T.length,L=Promise.resolve(H);while(w<C)L=L.then(T[w++],T[w++]);return L}C=N.length;let F=H;w=0;while(w<C){let T=N[w++],U=N[w++];try{F=T(F)}catch(m){U.call(this,m);break}}try{L=k7.call(this,F)}catch(T){return Promise.reject(T)}w=0,C=Q.length;while(w<C)L=L.then(Q[w++],Q[w++]);return L}getUri(_){_=dB(this.defaults,_);let H=Vz(_.baseURL,_.url,_.allowAbsoluteUrls);return Rz(H,_.params,_.paramsSerializer)}}g.forEach(["delete","get","head","options"],function _(H){Dz.prototype[H]=function(X,P){return this.request(dB(P||{},{method:H,url:X,data:(P||{}).data}))}});g.forEach(["post","put","patch"],function _(H){function X(P){return function G(W,N,q){return this.request(dB(q||{},{method:H,headers:P?{"Content-Type":"multipart/form-data"}:{},url:W,data:N}))}}Dz.prototype[H]=X(),Dz.prototype[H+"Form"]=X(!0)});var Mz=Dz;class xI{constructor(_){if(typeof _!=="function")throw new TypeError("executor must be a function.");let H;this.promise=new Promise(function P(G){H=G});let X=this;this.promise.then((P)=>{if(!X._listeners)return;let G=X._listeners.length;while(G-- >0)X._listeners[G](P);X._listeners=null}),this.promise.then=(P)=>{let G,W=new Promise((N)=>{X.subscribe(N),G=N}).then(P);return W.cancel=function N(){X.unsubscribe(G)},W},_(function P(G,W,N){if(X.reason)return;X.reason=new L_(G,W,N),H(X.reason)})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(_){if(this.reason){_(this.reason);return}if(this._listeners)this._listeners.push(_);else this._listeners=[_]}unsubscribe(_){if(!this._listeners)return;let H=this._listeners.indexOf(_);if(H!==-1)this._listeners.splice(H,1)}toAbortSignal(){let _=new AbortController,H=(X)=>{_.abort(X)};return this.subscribe(H),_.signal.unsubscribe=()=>this.unsubscribe(H),_.signal}static source(){let _;return{token:new xI(function X(P){_=P}),cancel:_}}}var Sq=xI;function EI(_){return function H(X){return _.apply(null,X)}}function VI(_){return g.isObject(_)&&_.isAxiosError===!0}var FI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(FI).forEach(([_,H])=>{FI[H]=_});var Tq=FI;function yq(_){let H=new Mz(_),X=Qz(Mz.prototype.request,H);return g.extend(X,Mz.prototype,H,{allOwnKeys:!0}),g.extend(X,H,null,{allOwnKeys:!0}),X.create=function P(G){return yq(dB(_,G))},X}var yK=yq(wO);yK.Axios=Mz;yK.CanceledError=L_;yK.CancelToken=Sq;yK.isCancel=xz;yK.VERSION=j7;yK.toFormData=u$;yK.AxiosError=QY;yK.Cancel=yK.CanceledError;yK.all=function _(H){return Promise.all(H)};yK.spread=EI;yK.isAxiosError=VI;yK.mergeConfig=dB;yK.AxiosHeaders=mK;yK.formToJSON=(_)=>M7(g.isHTMLForm(_)?new FormData(_):_);yK.getAdapter=g7.getAdapter;yK.HttpStatusCode=Tq;yK.default=yK;var v7=yK;function gq(){return{query:_,touch:H};async function _(X){return(await v7.get(X)).data}async function H(X,P){return(await v7.post(X,P)).data}}var P0=gq();function p$(_,H){if(_)return;throw H}function i1(_){var H=String(_);if(H==="[object Object]")try{H=JSON.stringify(_)}catch(X){}return H}var BF=function(){function _(){this.some=!1,this.none=!0}return _.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},_.prototype.unwrapOr=function(H){return H},_.prototype.expect=function(H){throw new Error(""+H)},_.prototype.unwrap=function(){throw new Error("Tried to unwrap None")},_.prototype.map=function(H){return this},_.prototype.andThen=function(H){return this},_.prototype.toResult=function(H){return K$(H)},_.prototype.toString=function(){return"None"},_}(),e_=new BF;Object.freeze(e_);var _F=function(){function _(H){if(!(this instanceof _))return new _(H);this.some=!0,this.none=!1,this.val=H}return _.prototype[Symbol.iterator]=function(){var H=Object(this.val);return Symbol.iterator in H?H[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},_.prototype.unwrapOr=function(H){return this.val},_.prototype.expect=function(H){return this.val},_.prototype.unwrap=function(){return this.val},_.prototype.map=function(H){return Y$(H(this.val))},_.prototype.andThen=function(H){return H(this.val)},_.prototype.toResult=function(H){return i$(this.val)},_.prototype.safeUnwrap=function(){return this.val},_.prototype.toString=function(){return"Some("+i1(this.val)+")"},_.EMPTY=new _(void 0),_}(),Y$=_F,DI;(function(_){function H(){var G=[];for(var W=0;W<arguments.length;W++)G[W]=arguments[W];var N=[];for(var q=0,Q=G;q<Q.length;q++){var L=Q[q];if(L.some)N.push(L.val);else return L}return Y$(N)}_.all=H;function X(){var G=[];for(var W=0;W<arguments.length;W++)G[W]=arguments[W];for(var N=0,q=G;N<q.length;N++){var Q=q[N];if(Q.some)return Q;else return Q}return e_}_.any=X;function P(G){return G instanceof Y$||G===e_}_.isOption=P})(DI||(DI={}));var $F=function(){function _(H){if(!(this instanceof _))return new _(H);this.ok=!1,this.err=!0,this.val=H;var X=new Error().stack.split(`
`).slice(2);if(X&&X.length>0&&X[0].includes("ErrImpl"))X.shift();this._stack=X.join(`
`)}return _.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},_.prototype.else=function(H){return H},_.prototype.unwrapOr=function(H){return H},_.prototype.expect=function(H){throw new Error(H+" - Error: "+i1(this.val)+`
`+this._stack)},_.prototype.unwrap=function(){throw new Error("Tried to unwrap Error: "+i1(this.val)+`
`+this._stack)},_.prototype.map=function(H){return this},_.prototype.andThen=function(H){return this},_.prototype.mapErr=function(H){return new K$(H(this.val))},_.prototype.toOption=function(){return e_},_.prototype.toString=function(){return"Err("+i1(this.val)+")"},Object.defineProperty(_.prototype,"stack",{get:function(){return this+`
`+this._stack},enumerable:!1,configurable:!0}),_.EMPTY=new _(void 0),_}();var K$=$F,HF=function(){function _(H){if(!(this instanceof _))return new _(H);this.ok=!0,this.err=!1,this.val=H}return _.prototype[Symbol.iterator]=function(){var H=Object(this.val);return Symbol.iterator in H?H[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},_.prototype.else=function(H){return this.val},_.prototype.unwrapOr=function(H){return this.val},_.prototype.expect=function(H){return this.val},_.prototype.unwrap=function(){return this.val},_.prototype.map=function(H){return new i$(H(this.val))},_.prototype.andThen=function(H){return H(this.val)},_.prototype.mapErr=function(H){return this},_.prototype.toOption=function(){return Y$(this.val)},_.prototype.safeUnwrap=function(){return this.val},_.prototype.toString=function(){return"Ok("+i1(this.val)+")"},_.EMPTY=new _(void 0),_}();var i$=HF,MI;(function(_){function H(){var N=[];for(var q=0;q<arguments.length;q++)N[q]=arguments[q];var Q=[];for(var L=0,w=N;L<w.length;L++){var C=w[L];if(C.ok)Q.push(C.val);else return C}return new i$(Q)}_.all=H;function X(){var N=[];for(var q=0;q<arguments.length;q++)N[q]=arguments[q];var Q=[];for(var L=0,w=N;L<w.length;L++){var C=w[L];if(C.ok)return C;else Q.push(C.val)}return new K$(Q)}_.any=X;function P(N){try{return new i$(N())}catch(q){return new K$(q)}}_.wrap=P;function G(N){try{return N().then(function(q){return new i$(q)}).catch(function(q){return new K$(q)})}catch(q){return Promise.resolve(new K$(q))}}_.wrapAsync=G;function W(N){return N instanceof K$||N instanceof i$}_.isResult=W})(MI||(MI={}));var B$=d(s(),1);function n1({urls:_,msIntervalSleep:H=1e4,animation:X={duration:1e4},style:P,children:G,...W}){let N=VY.useState(0),q=q7(_.length,_.map((Q,L)=>({transform:`translateX(${100*(L-N[0])}%)`,config:X})));return VY.useEffect(()=>{let Q=setInterval(()=>N[1]((L)=>(L+1)%_.length),H);return()=>clearInterval(Q)},[]),B$.jsxDEV(B$.Fragment,{children:B$.jsxDEV("div",{style:{borderRadius:10,boxShadow:L0,position:"relative",overflowX:"hidden",overflowY:"hidden",...P},...W,children:[q.map((Q,L)=>B$.jsxDEV(B$.Fragment,{children:B$.jsxDEV(l$.div,{style:{...Q,position:"absolute",width:"100%",height:"100%",flex:1,backgroundImage:`url(${_[L]})`,backgroundSize:"cover",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat"}},L,!1,void 0,this)},void 0,!1,void 0,this)),B$.jsxDEV("div",{style:{position:"relative",zIndex:"2",width:"100%",height:"100%",flex:1},children:G},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var kq=d(s(),1);var Uz=d(s(),1);function jq({msDelay:_=0,animation:H={duration:15000},style:X,children:P,...G}){let W="0",N="1",q=LO(()=>({opacity:W,delay:_}));return VY.useEffect(()=>{q[1].start({opacity:N,config:H});return},[]),Uz.jsxDEV(Uz.Fragment,{children:Uz.jsxDEV(l$.div,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...X,...q[0]},...G,children:P},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var MY=["#0C0527","#FAF6F6","#F1D550"];var aY=["Konkhmer Sleokchher","Core Sans A","Maria"];var L0="rgba(0, 0, 0, 0.05) 0px 0px 0px 1px";var Sz=d(s(),1);function f7({style:_,children:H,...X}){return Sz.jsxDEV(Sz.Fragment,{children:Sz.jsxDEV("button",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"1em",fontWeight:"normal",fontFamily:aY[1],color:MY[1],boxShadow:L0,background:MY[0],padding:5,borderRadius:5,width:"100%",height:"auto",flexGrow:1,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Tz=d(s(),1);function o1({style:_,...H}){return Tz.jsxDEV(Tz.Fragment,{children:Tz.jsxDEV("input",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,..._},...H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var yz=d(s(),1);function m7({style:_,children:H,...X}){return yz.jsxDEV(yz.Fragment,{children:yz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var gz=d(s(),1);function h7({style:_,children:H,...X}){return gz.jsxDEV(gz.Fragment,{children:gz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],boxShadow:L0,padding:20,borderRadius:5,gap:20,background:"white",..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var cB=d(s(),1);function d7({sections:_,...H}){return cB.jsxDEV(cB.Fragment,{children:cB.jsxDEV(xO,{...H,children:cB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flex:"1"},children:[cB.jsxDEV(bq,{children:_[0]},void 0,!1,void 0,this),cB.jsxDEV(bq,{children:_[1]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function bq({style:_,children:H,...X}){return cB.jsxDEV(cB.Fragment,{children:cB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flex:"1",..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var lB=d(s(),1);function vq({sections:_,...H}){return lB.jsxDEV(lB.Fragment,{children:lB.jsxDEV(xO,{...H,children:[lB.jsxDEV(SI,{children:_[0]},void 0,!1,void 0,this),lB.jsxDEV(SI,{children:_[1]},void 0,!1,void 0,this),lB.jsxDEV(SI,{children:_[2]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function SI({style:_,children:H,...X}){return lB.jsxDEV(lB.Fragment,{children:lB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var s1=d(s(),1);function xO({navbar:_,footer:H,style:X,children:P,...G}){return s1.jsxDEV(s1.Fragment,{children:s1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100vw",height:"100vh",background:"white",...X},...G,children:s1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",minWidth:1024,maxWidth:1440,width:"100%",height:"100%",flex:1,paddingLeft:64,paddingRight:64},children:[_,s1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexGrow:1,width:"100%",height:"100%"},children:P},void 0,!1,void 0,this),H]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var kz=d(s(),1);function TI({style:_,children:H,...X}){return kz.jsxDEV(kz.Fragment,{children:kz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,gap:10,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var uB=d(s(),1);function a1({icon:_,iconStyle:H,childStyle:X,animation:P,fontSizeOnMouseEnter:G="0.6em",fontSizeOnMouseLeave:W="0.7em",style:N,children:q,...Q}){let L=LO(()=>({fontSize:W}));return uB.jsxDEV(uB.Fragment,{children:uB.jsxDEV("div",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"8px",gap:"5px",textDecorationLine:"none",...N},...Q,children:[_?uB.jsxDEV(uB.Fragment,{children:uB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundImage:`url(${_})`,backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"15px",aspectRatio:"1 / 1",...H}},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,q?uB.jsxDEV(uB.Fragment,{children:uB.jsxDEV(l$.div,{onMouseEnter:()=>{L[1].start({fontSize:G,config:P});return},onMouseLeave:()=>{L[1].start({fontSize:W,config:P});return},style:{fontWeight:"normal",fontFamily:aY[1],color:MY[0],...L[0],...X},children:q},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var jz=d(s(),1);function fq({style:_,...H}){return jz.jsxDEV(jz.Fragment,{children:jz.jsxDEV(c7,{url:_G,style:{width:"25px",..._},...H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var n$=d(s(),1);function mq({to:_,style:H,children:X,...P}){return n$.jsxDEV(n$.Fragment,{children:n$.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,position:"relative",background:MY[0],borderRadius:"10px",...H},children:[n$.jsxDEV(fq,{style:{position:"absolute",right:"100%",bottom:"100%"}},void 0,!1,void 0,this),n$.jsxDEV(X0,{to:_,children:n$.jsxDEV(a1,{childStyle:{color:MY[1]},children:X},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var EO=d(s(),1);function hq({style:_,...H}){return EO.jsxDEV(EO.Fragment,{children:EO.jsxDEV(X0,{to:"/",style:{display:"contents"},children:EO.jsxDEV(l7,{url:BG,style:{cursor:"pointer",width:"150px",aspectRatio:"2 / 1",..._},...H},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var n0=d(s(),1);function dq({materials:_,materialFocus:H,toggled:X,style:P,children:G,...W}){return n0.jsxDEV(n0.Fragment,{children:n0.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...P},...W,children:[n0.jsxDEV("div",{onClick:()=>X[1](!0),style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],cursor:"pointer"},children:G},void 0,!1,void 0,this),X[0]?n0.jsxDEV(n0.Fragment,{children:n0.jsxDEV("div",{onMouseLeave:()=>X[1](!1),style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"120%",gap:20,padding:10,boxShadow:L0},children:_[0].map((N)=>n0.jsxDEV(n0.Fragment,{children:n0.jsxDEV(X0,{to:"/show_room",onClick:()=>H[1](N),children:n0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"0.75em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],cursor:"pointer"},children:N},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var bz=d(s(),1);function vz({materials:_,materialFocus:H,products:X,productFocus:P,user:G,userIsSignedIn:W}){let N=VY.useState(!1),q=VY.useState(!1),Q=VY.useState("");return bz.jsxDEV(bz.Fragment,{children:bz.jsxDEV(cq,{materials:_,materialFocus:H,materialsDropDownButtonToggled:N,products:X,productFocus:P,searchBarToggled:q,searchBarInput:Q,user:G,userIsSignedIn:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var fz=d(s(),1);function lq({products:_,productFocus:H,...X}){let P=VY.useState(!1),G=VY.useState(""),W=VY.useState([]);return fz.jsxDEV(fz.Fragment,{children:fz.jsxDEV(uq,{products:_,productFocus:H,toggled:P,input:G,suggestions:W,...X},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var T0=d(s(),1);function uq({products:_,productFocus:H,toggled:X,input:P,suggestions:G,style:W,...N}){return VY.useEffect(()=>{let q=P[0];if(q.trim().length===0){X[1](!0);return}let Q=_[0];Q.map((L)=>({...L,score:yI.get(q,L.name?.toLocaleLowerCase()||"")})).sort((L,w)=>L.score-w.score).slice(0,10),G[1](Q),X[1](!0);return},[P[0]]),T0.jsxDEV(T0.Fragment,{children:T0.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",width:"100%",height:"auto",flex:"1",...W},...N,children:[T0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",boxShadow:L0,padding:10,flex:1,gap:10},children:[T0.jsxDEV(c7,{url:$G,style:{width:"15px"}},void 0,!1,void 0,this),T0.jsxDEV("input",{value:P[0],onChange:(q)=>P[1](q.target.value),style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:aY[1]}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),X[0]?T0.jsxDEV(T0.Fragment,{children:T0.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"100%",width:"100%",height:"auto",flex:1,boxShadow:L0,background:"white"},children:G[0].map((q)=>T0.jsxDEV(T0.Fragment,{children:T0.jsxDEV(pq,{to:"/product",products:_,productFocus:H,suggested:q},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var _$=d(s(),1);function iq({username:_,password:H,response:X,user:P,userIsSignedIn:G,onValidation:W,onSignIn:N,...q}){return _$.jsxDEV(_$.Fragment,{children:_$.jsxDEV(h7,{...q,children:[_$.jsxDEV(m7,{children:X[0]},void 0,!1,void 0,this),_$.jsxDEV(o1,{value:_[0],placeholder:"Username",onChange:(Q)=>_[1](Q.target.value)},void 0,!1,void 0,this),_$.jsxDEV(o1,{value:H[0],placeholder:"Password",onChange:(Q)=>H[1](Q.target.value)},void 0,!1,void 0,this),_$.jsxDEV(f7,{onClick:async()=>{let Q,L;if([Q,L]=await W(_[0],H[0]),Q===!1){X[1](L);return}if([Q,L]=await N(_[0],H[0]),Q===!1){X[1](L);return}X[1](null);return},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var QB=d(s(),1);function nq({username:_,password:H,email:X,response:P,onValidation:G,onSignUp:W,...N}){return QB.jsxDEV(QB.Fragment,{children:QB.jsxDEV(h7,{...N,children:[P[0]?QB.jsxDEV(QB.Fragment,{children:QB.jsxDEV(m7,{children:P[0]},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,QB.jsxDEV(o1,{value:X[0],placeholder:"Email",onChange:(q)=>X[1](q.target.value)},void 0,!1,void 0,this),QB.jsxDEV(o1,{value:_[0],placeholder:"Username",onChange:(q)=>_[1](q.target.value)},void 0,!1,void 0,this),QB.jsxDEV(o1,{value:H[0],placeholder:"Password",onChange:(q)=>H[1](q.target.value)},void 0,!1,void 0,this),QB.jsxDEV(f7,{onClick:async()=>{let q,Q;if([q,Q]=await G(_[0],H[0],X[0]),q===!1){P[1](Q);return}if([q,Q]=await W(_[0],H[0],X[0]),q===!1){P[1](Q);return}P[1](null);return},children:"Sign Up"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var pB=d(s(),1);function oq({user:_,userIsSignedIn:H,...X}){let P=VY.useState(!1),G=VY.useState(!1),W=VY.useState(!1),N=VY.useState(""),q=VY.useState(""),Q=VY.useState(""),L=VY.useState(null);return pB.jsxDEV(pB.Fragment,{children:pB.jsxDEV(sq,{toggled:P,signUpToggled:G,signInToggled:W,signUpForm:pB.jsxDEV(pB.Fragment,{children:pB.jsxDEV(nq,{username:N,password:q,email:Q,response:L,onValidation:async(w,C,F)=>{try{return p$(w.trim().length!==0,""),p$(C.trim().length!==0,""),p$(F.trim().length!==0,""),[!0,null]}catch(T){return[!1,String(T)]}},onSignUp:async(w,C,F)=>{if((await P0.touch("/username_is_available",{username:w})).success){let T=await P0.touch("/sign_up",{username:w,password:C,email:F});if(T)return[!1,T];return[!0,null]}return[!1,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),signInForm:pB.jsxDEV(pB.Fragment,{children:pB.jsxDEV(iq,{username:N,password:q,response:L,user:_,userIsSignedIn:H,onValidation:async(w,C)=>{try{return p$(w.trim().length!==0,""),p$(C.trim().length!==0,""),[!0,null]}catch(F){return[!1,String(F)]}},onSignIn:async(w,C)=>{let F=await P0.touch("/sign_in",{username:w,password:C});if(F)return[!1,F];return[!0,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),...X},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var C_=d(s(),1);function sq({toggled:_,signUpToggled:H,signInToggled:X,signUpForm:P,signInForm:G,style:W,...N}){return C_.jsxDEV(C_.Fragment,{children:C_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...W},...N,children:[C_.jsxDEV(a1,{onClick:()=>{_[1](!0),X[1](!1),H[1](!0);return},children:"Sign Up"},void 0,!1,void 0,this),C_.jsxDEV(a1,{onClick:()=>{_[1](!0),X[1](!0),H[1](!1)},style:{fontSize:"0.75em"},children:"Sign In"},void 0,!1,void 0,this),_[0]?C_.jsxDEV(C_.Fragment,{children:C_.jsxDEV("div",{onMouseLeave:()=>{_[1](!1),X[1](!1),H[1](!1);return},style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",right:"-100%",top:"175%",minWidth:"100%",width:400},children:X[0]?G:H[0]?P:void 0},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var $$=d(s(),1);function pq({products:_,productFocus:H,suggested:X,to:P,style:G,...W}){return $$.jsxDEV($$.Fragment,{children:$$.jsxDEV(X0,{style:{display:"contents"},to:P,children:$$.jsxDEV("div",{onClick:()=>{let q=_[0].filter((Q)=>Q.name===X?.name).at(0)||null;if(q)H[1](q);return},style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,padding:8,cursor:"pointer",...G},...W,children:[$$.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:MY[0],fontSize:"1em",fontWeight:"normal",fontFamily:aY[1]},children:X.name},void 0,!1,void 0,this),$$.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:MY[0],fontSize:"1em",fontWeight:"normal",fontFamily:aY[1]},children:["",X.price.toFixed(2).toString()]},void 0,!0,void 0,this),$$.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:MY[0],fontSize:"1em",fontWeight:"normal",fontFamily:aY[1]},children:[X.stock.toFixed(0)," left"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var y0=d(s(),1);function cq({materials:_,materialFocus:H,materialsDropDownButtonToggled:X,products:P,productFocus:G,searchBarToggled:W,searchBarInput:N,user:q,userIsSignedIn:Q,style:L,...w}){return y0.jsxDEV(y0.Fragment,{children:y0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:"auto",flex:1,paddingTop:30,paddingBottom:30,gap:40,zIndex:2000,...L},...w,children:[y0.jsxDEV(hq,{},void 0,!1,void 0,this),y0.jsxDEV(TI,{children:[y0.jsxDEV(mq,{to:"/for_you",children:"For You"},void 0,!1,void 0,this),y0.jsxDEV(dq,{materials:_,materialFocus:H,toggled:X},void 0,!1,void 0,this)]},void 0,!0,void 0,this),y0.jsxDEV(lq,{products:P,productFocus:G},void 0,!1,void 0,this),y0.jsxDEV(TI,{children:[y0.jsxDEV(X0,{to:"/basket",children:y0.jsxDEV(a1,{children:"Basket"},void 0,!1,void 0,this)},void 0,!1,void 0,this),y0.jsxDEV(oq,{user:q,userIsSignedIn:Q},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var Y0=d(s(),1);function aq({orders:_,...H}){let X=VY.useState(0);return VY.useEffect(()=>{if(_[0].length===0)return;let P=0;_[0].forEach((G)=>P+=G.product.price*G.amount),X[1](P);return},[_[0]]),Y0.jsxDEV(Y0.Fragment,{children:Y0.jsxDEV(d7,{sections:[Y0.jsxDEV(Y0.Fragment,{children:Y0.jsxDEV(tq,{style:{width:600,height:800,justifyContent:"start"},caption:"Checkout",headings:["Product","Price","Amount","Edit"],contents:[..._[0].map((P)=>[P.product.name,P.product.price,P.amount,Y0.jsxDEV(Y0.Fragment,{children:Y0.jsxDEV(mz,{style:{gap:10},children:[Y0.jsxDEV(gI,{onClick:()=>{},children:"-"},void 0,!1,void 0,this),Y0.jsxDEV(gI,{onClick:()=>{},children:"+"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)])]},void 0,!1,void 0,this)},void 0,!1,void 0,this),Y0.jsxDEV(Y0.Fragment,{children:[Y0.jsxDEV(g0,{children:["Total: ",X[0].toPrecision(3)]},void 0,!0,void 0,this),Y0.jsxDEV(rq,{orders:_},void 0,!1,void 0,this)]},void 0,!0,void 0,this)],...H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var uY=d(s(),1);function eq({imageUrls:_,...H}){return uY.jsxDEV(uY.Fragment,{children:uY.jsxDEV(d7,{sections:[uY.jsxDEV(uY.Fragment,{children:uY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start",width:"100%",gap:"10px"},children:[uY.jsxDEV(XF,{},void 0,!1,void 0,this),uY.jsxDEV(kI,{heading:"Choose a Style",content:"Select your preferred architectural or design style for a tailored look."},void 0,!1,void 0,this),uY.jsxDEV(kI,{heading:"Instant Visuals",content:"See photorealistic rendering of how materials can be used in your home."},void 0,!1,void 0,this),uY.jsxDEV(kI,{heading:"Confidence",content:"Visualise your project before purchasing... blending creativity with sustainability."},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),uY.jsxDEV(uY.Fragment,{children:uY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},children:[uY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",gap:20},children:[uY.jsxDEV(n1,{style:{width:200,aspectRatio:1},urls:_,msIntervalSleep:15000,animation:{duration:3000}},void 0,!1,void 0,this),uY.jsxDEV(n1,{style:{width:200,aspectRatio:1},urls:_,msIntervalSleep:20000,animation:{duration:3000}},void 0,!1,void 0,this),uY.jsxDEV(n1,{style:{width:200,aspectRatio:1},urls:_,msIntervalSleep:25000,animation:{duration:3000}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),uY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:600},children:uY.jsxDEV(n1,{style:{width:400,height:600},urls:_,msIntervalSleep:30000,animation:{duration:3000}},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)],...H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function XF({style:_,...H}){return uY.jsxDEV(uY.Fragment,{children:uY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"3em",gap:"20px",..._},...H,children:[uY.jsxDEV(g0,{style:{textWrap:"nowrap"},children:"Coming Soon..."},void 0,!1,void 0,this),uY.jsxDEV(g0,{style:{textWrap:"nowrap",color:MY[2]},children:"For You"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function kI({heading:_,content:H,style:X,...P}){return uY.jsxDEV(uY.Fragment,{children:uY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",...X},...P,children:[uY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:uY.jsxDEV(g0,{style:{color:MY[2],fontSize:"2em"},children:_},void 0,!1,void 0,this)},void 0,!1,void 0,this),uY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:uY.jsxDEV(g0,{style:{fontSize:"1em"},children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var zK=d(s(),1);function YL({imageCarouselUrls:_,imageCarouselMsIntervalSleep:H,imageCarouselAnimation:X,heading:P,subHeadings:G,cards:W=[],...N}){return zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(vq,{sections:[zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(n1,{style:{width:"100%",height:"auto",flex:"1",margin:"10px"},urls:_,msIntervalSleep:H,animation:X,children:zK.jsxDEV(jq,{msDelay:1000,animation:{duration:1000},style:{width:"100%"},children:zK.jsxDEV(g0,{style:{fontSize:"9em",color:MY[0]},children:P},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",gap:"10px"},children:G.map((q)=>zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(g0,{style:{fontSize:"4em",color:MY[2],paddingLeft:"30px",paddingRight:"30px"},children:q},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto",flex:"1"},children:W.map((q)=>zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:"1",padding:"30px"},children:[zK.jsxDEV(g0,{style:{fontSize:"2em",color:MY[2],width:"100%",justifyContent:"start",paddingBottom:"20px"},children:q.heading},void 0,!1,void 0,this),zK.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},children:q.content.map((Q)=>zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(g0,{style:{fontSize:"0.75em",paddingTop:"5px",paddingBottom:"5px"},children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this)],...N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var r1=d(s(),1);function KL({..._}){return r1.jsxDEV(r1.Fragment,{children:r1.jsxDEV(xO,{..._,children:r1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:500,aspectRatio:1},children:r1.jsxDEV(BL,{style:{boxShadow:L0,padding:10},onEval:async(H)=>{if(H.length===0)return[];let X=["Ok"],P=H[0],G={help:async()=>["materials","products_with_material|material","products","set_price|admin_password|product_key|amount","set_stock|admin_password|product_key|amount"],materials:async()=>await P0.touch("/materials",null),products_with_material:async()=>(await P0.touch("/products_by_material",H[1])).map((W)=>[`Key: ${W.key}`,`Name: ${W.name}`,`Description: ${W.description}`,`Price: ${W.price}`,`Stock: ${W.stock}`,`Material: ${W.material}`,`Image Url: ${W.imageUrl}`].join(`
`)),products:async()=>(await P0.touch("/products",null)).map((W)=>[`Key: ${W.key}`,`Name: ${W.name}`,`Description: ${W.description}`,`Price: ${W.price}`,`Stock: ${W.stock}`,`Material: ${W.material}`,`Image Url: ${W.imageUrl}`].join(`
`)),set_price:async()=>{let W=await P0.touch("/set_price",{adminPassword:H[1],productKey:H[2],productAmount:Number(H[3])});if(W)throw W;return X},set_stock:async()=>{let W=await P0.touch("/set_stock",{adminPassword:H[1],productKey:H[2],productAmount:Number(BigInt(H[3]))});if(W)throw W;return X},list_product:async()=>{let W=H[1],N=H[2],q=H[3],Q=Number(H[4]),L=Number(BigInt(H[5])),w=H[6],C=H[6],F=H[7],T={key:N,name:q,description:F,price:Q,stock:L,material:w,imageUrl:C},U=await P0.touch("/list",{adminPassword:W,product:T});if(U)throw U;return X},list_product_without_image_url:async()=>{let W=H[1],N=H[2],q=H[3],Q=Number(H[4]),L=Number(BigInt(H[5])),w=H[6],C=H[7],F={key:N,name:q,description:C,price:Q,stock:L,material:w},T=await P0.touch("/list",{adminPassword:W,product:F});if(T)throw T;return X},list_product_without_image_url_and_description:async()=>{let W=H[1],N=H[2],q=H[3],Q=Number(H[4]),L=Number(BigInt(H[5])),w=H[6],C={key:N,name:q,price:Q,stock:L,material:w},F=await P0.touch("/list",{adminPassword:W,product:C});if(F)throw F;return X},delist_product:async()=>{let W=await P0.touch("/delist",{adminPassword:H[1],productKey:H[2]});if(W)throw W;return X}};try{return await G[P]()}catch(W){return[String(W)]}}},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var hz=d(s(),1),zF=_I("pk_test_51QKRBU2K2roHgsZDHs8cgu29fIqzRlvzF1nmV5mPdSHZhe93bgEQ9HqwoDTderzA7DWwDfFDpiJTMfjqHvgjIDQx00bF0qqWUL");function rq({orders:_}){return hz.jsxDEV(hz.Fragment,{children:hz.jsxDEV("div",{onClick:async()=>{let H=await zF;p$(H!==null,"CHECKOUT_BUTTON.ERR_STRIPE_COULD_NOT_BE_REACHED");let{errcode:X,url:P}=await P0.touch("/checkout",{orders:_[0]});if(X!==null){console.error(X);return}window.location.href=P;return},style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:MY[0],color:MY[1],padding:10,borderRadius:5,cursor:"pointer",width:"100%",height:"auto"},children:"Pay Now"},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var dz=d(s(),1);function c7({style:_,children:H,...X}){return dz.jsxDEV(dz.Fragment,{children:dz.jsxDEV(l7,{style:{aspectRatio:"1 / 1",..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var cz=d(s(),1);function l7({url:_,style:H,children:X,...P}){return cz.jsxDEV(cz.Fragment,{children:cz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundImage:`url(${_})`,backgroundSize:"contain",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",...H},...P,children:X},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var lz=d(s(),1);function _L({style:_,children:H,...X}){return lz.jsxDEV(lz.Fragment,{children:lz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],width:"100%",height:"auto",flexGrow:1,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var uz=d(s(),1);function $L({style:_,children:H,...X}){return uz.jsxDEV(uz.Fragment,{children:uz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"2em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var pz=d(s(),1);function HL({style:_,children:H,...X}){return pz.jsxDEV(pz.Fragment,{children:pz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",fontSize:"1.25em",fontWeight:"normal",fontFamily:aY[1],color:MY[0],width:"100%",height:"auto",flexGrow:1,paddingBottom:10,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var iz=d(s(),1);function mz({style:_,children:H,...X}){return iz.jsxDEV(iz.Fragment,{children:iz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flexGrow:1,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var nz=d(s(),1);function jI({style:_,children:H,...X}){return nz.jsxDEV(nz.Fragment,{children:nz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flexGrow:1,..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var oz=d(s(),1);function gI({inverse:_,style:H,children:X,...P}){return oz.jsxDEV(oz.Fragment,{children:oz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,background:_?MY[0]:MY[1],color:_?MY[1]:MY[0],borderRadius:5,fontSize:"1em",fontWeight:"normal",fontFamily:aY[1],boxShadow:L0,cursor:"pointer",...H},...P,children:X},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var sz=d(s(),1);function OL({style:_,children:H,...X}){return sz.jsxDEV(sz.Fragment,{children:sz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",width:"100%",gap:20,overflowX:"hidden",overflowY:"scroll",..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var K0=d(s(),1);function tq({caption:_,headings:H,contents:X,style:P,...G}){return K0.jsxDEV(K0.Fragment,{children:K0.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...P},...G,children:K0.jsxDEV(OL,{children:[K0.jsxDEV(jI,{children:K0.jsxDEV($L,{children:_},void 0,!1,void 0,this)},void 0,!1,void 0,this),K0.jsxDEV(jI,{children:H.map((W)=>K0.jsxDEV(K0.Fragment,{children:K0.jsxDEV(mz,{children:K0.jsxDEV(HL,{children:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this),X.map((W)=>K0.jsxDEV(K0.Fragment,{children:K0.jsxDEV(mz,{children:K0.jsxDEV(_L,{children:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var az=d(s(),1);function g0({style:_,children:H,...X}){return az.jsxDEV(az.Fragment,{children:az.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:aY[1],..._},...X,children:H},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function XL(_){let H=document.getElementById("root");if(H===null)throw"ERR_MISSING_ROOT_ELEMENT";bI.createRoot(H).render(_)}var rz=d(s(),1);function BL({..._}){let H=VY.useState([]),X=VY.useState("");return rz.jsxDEV(rz.Fragment,{children:rz.jsxDEV(zL,{last:H,next:X,..._},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var qB=d(s(),1);function zL({last:_,next:H,onEval:X,style:P,...G}){return qB.jsxDEV(qB.Fragment,{children:qB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start",padding:16,width:"100%",height:"100%",overflowX:"hidden",overflowY:"auto",...P},...G,children:[_[0].map((W)=>qB.jsxDEV(qB.Fragment,{children:qB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:W.map((N)=>qB.jsxDEV(qB.Fragment,{children:qB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",fontSize:"0.75em",fontWeight:"normal",fontFamily:aY[2]},children:N},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this)),qB.jsxDEV("input",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",fontSize:"0.75em",fontWeight:"normal",fontFamily:aY[2]},placeholder:"Commands",type:"text",value:H[0],onChange:(W)=>H[1](W.target.value),onKeyDown:async(W)=>{if(W.key!=="Enter")return;if(H[0].trim()==="")return;let N=H[0],q=N.split("|");H[1](""),_[1]((Q)=>[...Q,[N]]);try{let Q=await X(q);if(Q.length===0){_[1]((L)=>[...L,["Ok"]]);return}_[1]((L)=>[...L,Q]);return}catch(Q){_[1]((L)=>[...L,[String(Q)]]);return}}},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var SY=d(s(),1);function PF(){let _=VY.useState([]),H=VY.useState([]),X=VY.useState(""),P=VY.useState([]),G=VY.useState(null),W=VY.useState(null),N=VY.useState(!1);return SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(a2,{children:SY.jsxDEV(o2,{children:[SY.jsxDEV(b$,{path:"/",element:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(YL,{imageCarouselUrls:[i_,i_,i_],imageCarouselMsIntervalSleep:3000,imageCarouselAnimation:{duration:30000},heading:"OFFCUTS",subHeadings:["Revive.","Reuse.","Rebuild."],cards:[{heading:"Why Offcuts",content:["Sustainable Solutions: Divert construction waste from landfills while supporting eco-friendly practices.","Affordable Materials: Access high-quality reclaimed materials at a fraction of the cost.","Fast & Easy: List, buy, or request lefttover materials with ease."]},{heading:"For Contractors",content:["Turn your surplus into profit with quick pickups and a seamless listing process."]},{heading:"For Buyers",content:["Find unique, sustainable materials for your next project -- big or small."]}],navbar:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(vz,{materials:H,materialFocus:X,products:P,productFocus:G,user:W,userIsSignedIn:N},void 0,!1,void 0,this)},void 0,!1,void 0,this),footer:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(X0,{to:"/terminal",style:{all:"unset",paddingBottom:10,paddingTop:10},children:SY.jsxDEV(g0,{style:{fontSize:8,cursor:"pointer"},children:"Terminal"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),SY.jsxDEV(b$,{path:"/for_you",element:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(eq,{navbar:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(vz,{materials:H,materialFocus:X,products:P,productFocus:G,user:W,userIsSignedIn:N},void 0,!1,void 0,this)},void 0,!1,void 0,this),imageUrls:[i_,i_,i_,i_]},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),SY.jsxDEV(b$,{path:"/basket",element:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(aq,{navbar:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(vz,{materials:H,materialFocus:X,products:P,productFocus:G,user:W,userIsSignedIn:N},void 0,!1,void 0,this)},void 0,!1,void 0,this),orders:_},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),SY.jsxDEV(b$,{path:"/terminal",element:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(KL,{navbar:SY.jsxDEV(SY.Fragment,{children:SY.jsxDEV(vz,{materials:H,materialFocus:X,products:P,productFocus:G,user:W,userIsSignedIn:N},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}XL(SY.jsxDEV(PF,{},void 0,!1,void 0,this));

//# debugId=23DF5108C5DF296164756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvc2NoZWR1bGVyL2Nqcy9zY2hlZHVsZXIuZGV2ZWxvcG1lbnQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC1kb20vaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0LWRvbS9janMvcmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3QtZG9tL2NsaWVudC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL25vZGVfbW9kdWxlcy9jb29raWUvZGlzdC9pbmRleC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZmFzdGVzdC1sZXZlbnNodGVpbi9tb2QuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3QtbGV2ZW5zaHRlaW4vbGV2ZW5zaHRlaW4uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCAibW9kLnRzeCIsICIuLi8uLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyL2Rpc3QvZGV2ZWxvcG1lbnQvY2h1bmstSzZDU0VYUE0ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3JhZnovZGlzdC9yZWFjdC1zcHJpbmdfcmFmei5tb2Rlcm4ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3NoYXJlZC9kaXN0L3JlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHJlYWN0LXNwcmluZy9jb3JlL2Rpc3QvcmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHJlYWN0LXNwcmluZy9hbmltYXRlZC9kaXN0L3JlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9AcmVhY3Qtc3ByaW5nL3dlYi9kaXN0L3JlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvQHN0cmlwZS9zdHJpcGUtanMvZGlzdC9pbmRleC5tanMiLCAiY29tbW9uL2pzb24udHMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi91dGlscy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NFcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvbnVsbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvVVJMU2VhcmNoUGFyYW1zLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Zvcm1EYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Jsb2IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2luZGV4LmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vY29tbW9uL3V0aWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvaW5kZXguanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NIZWFkZXJzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS90cmFuc2Zvcm1EYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL2lzQ2FuY2VsLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL3NldHRsZS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvc3BlZWRvbWV0ZXIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Rocm90dGxlLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvaXNVUkxTYW1lT3JpZ2luLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvbWVyZ2VDb25maWcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2NvbXBvc2VTaWduYWxzLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90cmFja1N0cmVhbS5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL2ZldGNoLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYWRhcHRlcnMvYWRhcHRlcnMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2Vudi9kYXRhLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy92YWxpZGF0b3IuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwgIi4uLy4uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsICJjb21tb24vc2VydmVyLnRzIiwgImNvbW1vbi9jb25zdGFudC9icmlkZ2UudHMiLCAiY29tbW9uL3V0aWwvcmVxdWlyZS50cyIsICIuLi8uLi9ub2RlX21vZHVsZXMvdHMtcmVzdWx0cy9lc20vdXRpbHMuanMiLCAiLi4vLi4vbm9kZV9tb2R1bGVzL3RzLXJlc3VsdHMvZXNtL29wdGlvbi5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvdHMtcmVzdWx0cy9lc20vcmVzdWx0LmpzIiwgImNvbXBvbmVudC9hbmltYXRpb24vaW1hZ2VfY2Fyb3VzZWwudHN4IiwgImNvbXBvbmVudC9hbmltYXRpb24vcmV2ZWFsLnRzeCIsICJjb21wb25lbnQvY29uc3RhbnQvY29sb3IudHN4IiwgImNvbXBvbmVudC9jb25zdGFudC9mb250LnRzeCIsICJjb21wb25lbnQvY29uc3RhbnQvc2hhZG93LnRzeCIsICJjb21wb25lbnQvZm9ybS9mb3JtX2J1dHRvbi50c3giLCAiY29tcG9uZW50L2Zvcm0vZm9ybV9pbnB1dC50c3giLCAiY29tcG9uZW50L2Zvcm0vZm9ybV9tZXNzYWdlLnRzeCIsICJjb21wb25lbnQvZm9ybS9mb3JtLnRzeCIsICJjb21wb25lbnQvbGF5b3V0L3BhZ2Vfd2l0aF8yX2hvcml6b250YWxfc2VjdGlvbnMudHN4IiwgImNvbXBvbmVudC9sYXlvdXQvcGFnZV93aXRoXzNfdmVydGljYWxfc2VjdGlvbnMudHN4IiwgImNvbXBvbmVudC9sYXlvdXQvcGFnZS50c3giLCAiY29tcG9uZW50L25hdi9uYXZfYnV0dG9uX2dyb3VwLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9idXR0b24udHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbl9pY29uLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9jYWxsX3RvX2FjdGlvbl9idXR0b24udHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X2xvZ28udHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X21hdGVyaWFsc19kcm9wX2Rvd25fYnV0dG9uLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9zZWFyY2hfYmFyX3BhcnRpYWxfYnVpbGQudHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X3NlYXJjaF9iYXIudHN4IiwgImNvbXBvbmVudC9uYXYvbmF2X3NpZ25faW5fZm9ybS50c3giLCAiY29tcG9uZW50L25hdi9uYXZfc2lnbl91cF9mb3JtLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbi50c3giLCAiY29tcG9uZW50L25hdi9uYXZfc3VnZ2VzdGlvbi50c3giLCAiY29tcG9uZW50L25hdi9uYXYudHN4IiwgImNvbXBvbmVudC9wYWdlL2Jhc2tldF9wYWdlLnRzeCIsICJjb21wb25lbnQvcGFnZS9mb3JfeW91X3BhZ2UudHN4IiwgImNvbXBvbmVudC9wYWdlL2hvbWVfcGFnZS50c3giLCAiY29tcG9uZW50L3BhZ2UvdGVybWluYWxfcGFnZS50c3giLCAiY29tcG9uZW50L3BheW1lbnQvY2hlY2tvdXRfYnV0dG9uLnRzeCIsICJjb21wb25lbnQvc3ByaXRlL3Nwcml0ZV9pY29uLnRzeCIsICJjb21wb25lbnQvc3ByaXRlL3Nwcml0ZS50c3giLCAiY29tcG9uZW50L3RhYmxlL3RhYmxlX2JvZHkudHN4IiwgImNvbXBvbmVudC90YWJsZS90YWJsZV9jYXB0aW9uLnRzeCIsICJjb21wb25lbnQvdGFibGUvdGFibGVfaGVhZGluZy50c3giLCAiY29tcG9uZW50L3RhYmxlL3RhYmxlX2l0ZW0udHN4IiwgImNvbXBvbmVudC90YWJsZS90YWJsZV9yb3cudHN4IiwgImNvbXBvbmVudC90YWJsZS90YWJsZV9zeW1ib2xfYnV0dG9uLnRzeCIsICJjb21wb25lbnQvdGFibGUvdGFibGVfd3JhcHBlci50c3giLCAiY29tcG9uZW50L3RhYmxlL3RhYmxlLnRzeCIsICJjb21wb25lbnQvdHlwb2dyYXBoeS90eXBvZ3JhcGh5LnRzeCIsICJjb21wb25lbnQvdXRpbC9yZW5kZXIudHN4IiwgImNvbXBvbmVudC91dGlsL3Rlcm1pbmFsX3BhcnRpYWxfYnVpbGQudHN4IiwgImNvbXBvbmVudC91dGlsL3Rlcm1pbmFsLnRzeCIsICJhcHAudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIiVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzXCIsXG4gICAgICAgICAgICBpbmZvWzBdLFxuICAgICAgICAgICAgaW5mb1sxXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBtYXliZUl0ZXJhYmxlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIG1heWJlSXRlcmFibGUgPVxuICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgbWF5YmVJdGVyYWJsZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSA/IG1heWJlSXRlcmFibGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICAgICAgcHVibGljSW5zdGFuY2UgPVxuICAgICAgICAoKHB1YmxpY0luc3RhbmNlID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IpICYmXG4gICAgICAgICAgKHB1YmxpY0luc3RhbmNlLmRpc3BsYXlOYW1lIHx8IHB1YmxpY0luc3RhbmNlLm5hbWUpKSB8fFxuICAgICAgICBcIlJlYWN0Q2xhc3NcIjtcbiAgICAgIHZhciB3YXJuaW5nS2V5ID0gcHVibGljSW5zdGFuY2UgKyBcIi5cIiArIGNhbGxlck5hbWU7XG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDYW4ndCBjYWxsICVzIG9uIGEgY29tcG9uZW50IHRoYXQgaXMgbm90IHlldCBtb3VudGVkLiBUaGlzIGlzIGEgbm8tb3AsIGJ1dCBpdCBtaWdodCBpbmRpY2F0ZSBhIGJ1ZyBpbiB5b3VyIGFwcGxpY2F0aW9uLiBJbnN0ZWFkLCBhc3NpZ24gdG8gYHRoaXMuc3RhdGVgIGRpcmVjdGx5IG9yIGRlZmluZSBhIGBzdGF0ZSA9IHt9O2AgY2xhc3MgcHJvcGVydHkgd2l0aCB0aGUgZGVzaXJlZCBzdGF0ZSBpbiB0aGUgJXMgY29tcG9uZW50LlwiLFxuICAgICAgICAgIGNhbGxlck5hbWUsXG4gICAgICAgICAgcHVibGljSW5zdGFuY2VcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50RHVtbXkoKSB7fVxuICAgIGZ1bmN0aW9uIFB1cmVDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDJcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxIHx8XG4gICAgICAgICAgICB2b2lkIDAgIT09IHR5cGUuZ2V0TW9kdWxlSWQpKVxuICAgICAgICA/ICEwXG4gICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cbiAgICBmdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgICBsb2c6IHByb3BzLFxuICAgICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgICBncm91cDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRpc2FibGVkRGVwdGgrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICAgICAgZGlzYWJsZWREZXB0aC0tO1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgdmFyIHByb3BzID0geyBjb25maWd1cmFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZMb2cgfSksXG4gICAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkluZm8gfSksXG4gICAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldldhcm4gfSksXG4gICAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZFcnJvciB9KSxcbiAgICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwIH0pLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWQgfSksXG4gICAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cEVuZCB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIDAgPiBkaXNhYmxlZERlcHRoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gcHJlZml4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICAgIHByZWZpeCA9IChtYXRjaCAmJiBtYXRjaFsxXSkgfHwgXCJcIjtcbiAgICAgICAgICBzdWZmaXggPVxuICAgICAgICAgICAgLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJcXG4gICAgYXRcIilcbiAgICAgICAgICAgICAgPyBcIiAoPGFub255bW91cz4pXCJcbiAgICAgICAgICAgICAgOiAtMSA8IHguc3RhY2suaW5kZXhPZihcIkBcIilcbiAgICAgICAgICAgICAgICA/IFwiQHVua25vd246MDowXCJcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlxcblwiICsgcHJlZml4ICsgbmFtZSArIHN1ZmZpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gICAgICBpZiAoIWZuIHx8IHJlZW50cnkpIHJldHVybiBcIlwiO1xuICAgICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gZnJhbWUpIHJldHVybiBmcmFtZTtcbiAgICAgIHJlZW50cnkgPSAhMDtcbiAgICAgIGZyYW1lID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcmV2aW91c0Rpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBudWxsO1xuICAgICAgZGlzYWJsZUxvZ3MoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBSdW5JblJvb3RGcmFtZSA9IHtcbiAgICAgICAgICBEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBSZWZsZWN0ICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0geDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQxKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sID0geCQxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoRmFrZSA9IGZuKCkpICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBGYWtlLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgICBGYWtlLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoc2FtcGxlKSB7XG4gICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2FtcGxlLnN0YWNrKVxuICAgICAgICAgICAgICAgIHJldHVybiBbc2FtcGxlLnN0YWNrLCBjb250cm9sLnN0YWNrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPVxuICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCI7XG4gICAgICAgIHZhciBuYW1lUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICBcIm5hbWVcIlxuICAgICAgICApO1xuICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlICYmXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiIH1cbiAgICAgICAgICApO1xuICAgICAgICB2YXIgX1J1bkluUm9vdEZyYW1lJERldGVyID1cbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCgpLFxuICAgICAgICAgIHNhbXBsZVN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzBdLFxuICAgICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcbiAgICAgICAgaWYgKHNhbXBsZVN0YWNrICYmIGNvbnRyb2xTdGFjaykge1xuICAgICAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICAgICAgY29udHJvbExpbmVzID0gY29udHJvbFN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBuYW1lUHJvcERlc2NyaXB0b3IgPSAwO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yIDwgc2FtcGxlTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvcisrO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPCBjb250cm9sTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIrKztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID09PSBjb250cm9sTGluZXMubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgJiZcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXTtcblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXI7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3ItLSwgX1J1bkluUm9vdEZyYW1lJERldGVyLS1cbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKDEgIT09IG5hbWVQcm9wRGVzY3JpcHRvciB8fCAxICE9PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpIHtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAobmFtZVByb3BEZXNjcmlwdG9yLS0sXG4gICAgICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tLFxuICAgICAgICAgICAgICAgICAgICAwID4gX1J1bkluUm9vdEZyYW1lJERldGVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0ucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IG5ldyBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IFwiXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZm4uZGlzcGxheU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIChfZnJhbWUgPSBfZnJhbWUucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGZuLmRpc3BsYXlOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKHJlZW50cnkgPSAhMSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2aW91c0Rpc3BhdGNoZXIpLFxuICAgICAgICAgIHJlZW5hYmxlTG9ncygpLFxuICAgICAgICAgIChFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IGZyYW1lKTtcbiAgICAgIH1cbiAgICAgIHNhbXBsZUxpbmVzID0gKHNhbXBsZUxpbmVzID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogXCJcIilcbiAgICAgICAgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShzYW1wbGVMaW5lcylcbiAgICAgICAgOiBcIlwiO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiYgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHNhbXBsZUxpbmVzKTtcbiAgICAgIHJldHVybiBzYW1wbGVMaW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBcIlwiO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpIHtcbiAgICAgICAgdmFyIHByb3RvdHlwZSA9IHR5cGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgICEoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlTGlzdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLnJlbmRlciwgITEpKSwgdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIHByb3RvdHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZShwcm90b3R5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgICAgbmV3S2V5ID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBvbGRFbGVtZW50LnR5cGUsXG4gICAgICAgIG5ld0tleSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG9sZEVsZW1lbnQuX293bmVyLFxuICAgICAgICBvbGRFbGVtZW50LnByb3BzXG4gICAgICApO1xuICAgICAgbmV3S2V5Ll9zdG9yZS52YWxpZGF0ZWQgPSBvbGRFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQ7XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiAhPT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgKVxuICAgICAgICBpZiAoaXNBcnJheUltcGwobm9kZSkpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoY2hpbGQpICYmIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpXG4gICAgICAgICAgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoKGkgPSBnZXRJdGVyYXRvckZuKG5vZGUpKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpICYmXG4gICAgICAgICAgICBpICE9PSBub2RlLmVudHJpZXMgJiZcbiAgICAgICAgICAgICgoaSA9IGkuY2FsbChub2RlKSksIGkgIT09IG5vZGUpKVxuICAgICAgICApXG4gICAgICAgICAgZm9yICg7ICEobm9kZSA9IGkubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChub2RlLnZhbHVlKSAmJlxuICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KG5vZGUudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgZWxlbWVudC5fc3RvcmUgJiZcbiAgICAgICAgIWVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCAmJlxuICAgICAgICBudWxsID09IGVsZW1lbnQua2V5ICYmXG4gICAgICAgICgoZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gMSksXG4gICAgICAgIChwYXJlbnRUeXBlID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSksXG4gICAgICAgICFvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0pXG4gICAgICApIHtcbiAgICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdID0gITA7XG4gICAgICAgIHZhciBjaGlsZE93bmVyID0gXCJcIjtcbiAgICAgICAgZWxlbWVudCAmJlxuICAgICAgICAgIG51bGwgIT0gZWxlbWVudC5fb3duZXIgJiZcbiAgICAgICAgICBlbGVtZW50Ll9vd25lciAhPT0gZ2V0T3duZXIoKSAmJlxuICAgICAgICAgICgoY2hpbGRPd25lciA9IG51bGwpLFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci50YWdcbiAgICAgICAgICAgID8gKGNoaWxkT3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkpXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci5uYW1lICYmXG4gICAgICAgICAgICAgIChjaGlsZE93bmVyID0gZWxlbWVudC5fb3duZXIubmFtZSksXG4gICAgICAgICAgKGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGNoaWxkT3duZXIgKyBcIi5cIikpO1xuICAgICAgICB2YXIgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjaztcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUpO1xuICAgICAgICAgIHByZXZHZXRDdXJyZW50U3RhY2sgJiYgKHN0YWNrICs9IHByZXZHZXRDdXJyZW50U3RhY2soKSB8fCBcIlwiKTtcbiAgICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4lcyVzIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgICAgIHBhcmVudFR5cGUsXG4gICAgICAgICAgY2hpbGRPd25lclxuICAgICAgICApO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAgICAgIHZhciBpbmZvID0gXCJcIixcbiAgICAgICAgb3duZXIgPSBnZXRPd25lcigpO1xuICAgICAgb3duZXIgJiZcbiAgICAgICAgKG93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKG93bmVyLnR5cGUpKSAmJlxuICAgICAgICAoaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgb3duZXIgKyBcImAuXCIpO1xuICAgICAgaW5mbyB8fFxuICAgICAgICAoKHBhcmVudFR5cGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUocGFyZW50VHlwZSkpICYmXG4gICAgICAgICAgKGluZm8gPVxuICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudFR5cGUgKyBcIj4uXCIpKTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gICAgICB2YXIgZXNjYXBlckxvb2t1cCA9IHsgXCI9XCI6IFwiPTBcIiwgXCI6XCI6IFwiPTJcIiB9O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIkXCIgK1xuICAgICAgICBrZXkucmVwbGFjZSgvWz06XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50S2V5KGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9IGVsZW1lbnQua2V5XG4gICAgICAgID8gKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oZWxlbWVudC5rZXkpLCBlc2NhcGUoXCJcIiArIGVsZW1lbnQua2V5KSlcbiAgICAgICAgOiBpbmRleC50b1N0cmluZygzNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzXG4gICAgICAgICAgICAgID8gdGhlbmFibGUudGhlbihub29wJDEsIG5vb3AkMSlcbiAgICAgICAgICAgICAgOiAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicGVuZGluZ1wiKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnJlYXNvbiA9IGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB0aGVuYWJsZS5zdGF0dXMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcEludG9BcnJheShjaGlsZHJlbiwgYXJyYXksIGVzY2FwZWRQcmVmaXgsIG5hbWVTb0ZhciwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGUgfHwgXCJib29sZWFuXCIgPT09IHR5cGUpIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9ICExO1xuICAgICAgaWYgKG51bGwgPT09IGNoaWxkcmVuKSBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbi5faW5pdCksXG4gICAgICAgICAgICAgICAgICBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrKGNoaWxkcmVuLl9wYXlsb2FkKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbjtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayhpbnZva2VDYWxsYmFjayk7XG4gICAgICAgIHZhciBjaGlsZEtleSA9XG4gICAgICAgICAgXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgKyBnZXRFbGVtZW50S2V5KGludm9rZUNhbGxiYWNrLCAwKSA6IG5hbWVTb0ZhcjtcbiAgICAgICAgaXNBcnJheUltcGwoY2FsbGJhY2spXG4gICAgICAgICAgPyAoKGVzY2FwZWRQcmVmaXggPSBcIlwiKSxcbiAgICAgICAgICAgIG51bGwgIT0gY2hpbGRLZXkgJiZcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPVxuICAgICAgICAgICAgICAgIGNoaWxkS2V5LnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsIFwiJCYvXCIpICsgXCIvXCIpLFxuICAgICAgICAgICAgbWFwSW50b0FycmF5KGNhbGxiYWNrLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgXCJcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IG51bGwgIT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIChpc1ZhbGlkRWxlbWVudChjYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gY2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgKChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSkgfHxcbiAgICAgICAgICAgICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY2FsbGJhY2sua2V5KSksXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID0gY2xvbmVBbmRSZXBsYWNlS2V5KFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXggK1xuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY2FsbGJhY2sua2V5IHx8XG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICA6IChcIlwiICsgY2FsbGJhY2sua2V5KS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiQmL1wiXG4gICAgICAgICAgICAgICAgICAgICAgKSArIFwiL1wiKSArXG4gICAgICAgICAgICAgICAgICBjaGlsZEtleVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgXCJcIiAhPT0gbmFtZVNvRmFyICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBpbnZva2VDYWxsYmFjayAmJlxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGludm9rZUNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT0gaW52b2tlQ2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2suX3N0b3JlICYmXG4gICAgICAgICAgICAgICAgIWludm9rZUNhbGxiYWNrLl9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeC5fc3RvcmUudmFsaWRhdGVkID0gMiksXG4gICAgICAgICAgICAgIChjYWxsYmFjayA9IGVzY2FwZWRQcmVmaXgpKSxcbiAgICAgICAgICAgIGFycmF5LnB1c2goY2FsbGJhY2spKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpbnZva2VDYWxsYmFjayA9IDA7XG4gICAgICBjaGlsZEtleSA9IFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiIDogbmFtZVNvRmFyICsgXCI6XCI7XG4gICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBjaGlsZHJlbltpXSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkpKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaSA9PT0gY2hpbGRyZW4uZW50cmllcyAmJlxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSksXG4gICAgICAgICAgICBjaGlsZHJlbiA9IGkuY2FsbChjaGlsZHJlbiksXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAhKG5hbWVTb0ZhciA9IGNoaWxkcmVuLm5leHQoKSkuZG9uZTtcblxuICAgICAgICApXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IG5hbWVTb0Zhci52YWx1ZSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkrKykpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2hpbGRyZW4udGhlbilcbiAgICAgICAgICByZXR1cm4gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgcmVzb2x2ZVRoZW5hYmxlKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKTtcbiAgICAgICAgYXJyYXkgPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgICAgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IGFycmF5XG4gICAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgICA6IGFycmF5KSArXG4gICAgICAgICAgICBcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgICAgaWYgKG51bGwgPT0gY2hpbGRyZW4pIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgbWFwSW50b0FycmF5KGNoaWxkcmVuLCByZXN1bHQsIFwiXCIsIFwiXCIsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBjb3VudCsrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUluaXRpYWxpemVyKHBheWxvYWQpIHtcbiAgICAgIGlmICgtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgIHZhciBjdG9yID0gcGF5bG9hZC5fcmVzdWx0O1xuICAgICAgICBjdG9yID0gY3RvcigpO1xuICAgICAgICBjdG9yLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKG1vZHVsZU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMSksIChwYXlsb2FkLl9yZXN1bHQgPSBtb2R1bGVPYmplY3QpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgICAgICAgIChwYXlsb2FkLl9zdGF0dXMgPSAyKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIC0xID09PSBwYXlsb2FkLl9zdGF0dXMgJiZcbiAgICAgICAgICAoKHBheWxvYWQuX3N0YXR1cyA9IDApLCAocGF5bG9hZC5fcmVzdWx0ID0gY3RvcikpO1xuICAgICAgfVxuICAgICAgaWYgKDEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY3RvciA9IHBheWxvYWQuX3Jlc3VsdCksXG4gICAgICAgICAgdm9pZCAwID09PSBjdG9yICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcbkRpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/XCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXCJkZWZhdWx0XCIgaW4gY3RvciB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIixcbiAgICAgICAgICAgICAgY3RvclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjdG9yLmRlZmF1bHRcbiAgICAgICAgKTtcbiAgICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVGFzayh0YXNrKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZW5xdWV1ZVRhc2tJbXBsKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKFwicmVxdWlyZVwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMCwgNyk7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gKG1vZHVsZSAmJiBtb2R1bGVbcmVxdWlyZVN0cmluZ10pLmNhbGwoXG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBcInRpbWVyc1wiXG4gICAgICAgICAgKS5zZXRJbW1lZGlhdGU7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICExID09PSBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAoKGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITApLFxuICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCBzbyBlbnF1ZXVpbmcgdGFza3MgdmlhIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pIHdpbGwgZmFpbC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3VlcyBpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHZvaWQgMCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGVucXVldWVUYXNrSW1wbCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWdncmVnYXRlRXJyb3JzKGVycm9ycykge1xuICAgICAgcmV0dXJuIDEgPCBlcnJvcnMubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgID8gbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycylcbiAgICAgICAgOiBlcnJvcnNbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgIHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHNlZW0gdG8gaGF2ZSBvdmVybGFwcGluZyBhY3QoKSBjYWxscywgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiBcIlxuICAgICAgICApO1xuICAgICAgYWN0U2NvcGVEZXB0aCA9IHByZXZBY3RTY29wZURlcHRoO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKVxuICAgICAgICBpZiAoMCAhPT0gcXVldWUubGVuZ3RoKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGw7XG4gICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICA/ICgocXVldWUgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICByZWplY3QocXVldWUpKVxuICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgICAgaXNGbHVzaGluZyA9ICEwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGNhbGxiYWNrKCExKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvbnRpbnVhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZVtpXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNvbnRpbnVhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkgKyAxKSwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzRmx1c2hpbmcgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCA9IHt9LFxuICAgICAgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG4gICAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwicmVwbGFjZVN0YXRlXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInNldFN0YXRlXCIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcbiAgICAgIGVtcHR5T2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmZyZWV6ZShlbXB0eU9iamVjdCk7XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIG51bGwgIT0gcGFydGlhbFN0YXRlXG4gICAgICApXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwidGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuXCJcbiAgICAgICAgKTtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcywgcGFydGlhbFN0YXRlLCBjYWxsYmFjaywgXCJzZXRTdGF0ZVwiKTtcbiAgICB9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcywgY2FsbGJhY2ssIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgfTtcbiAgICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgICAgIGlzTW91bnRlZDogW1xuICAgICAgICAgIFwiaXNNb3VudGVkXCIsXG4gICAgICAgICAgXCJJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiBjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy5cIlxuICAgICAgICBdLFxuICAgICAgICByZXBsYWNlU3RhdGU6IFtcbiAgICAgICAgICBcInJlcGxhY2VTdGF0ZVwiLFxuICAgICAgICAgIFwiUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS5cIlxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgZm5OYW1lO1xuICAgIGZvciAoZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKVxuICAgICAgZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSAmJlxuICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICBDb21wb25lbnREdW1teS5wcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICAgIGRlcHJlY2F0ZWRBUElzID0gUHVyZUNvbXBvbmVudC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50RHVtbXkoKTtcbiAgICBkZXByZWNhdGVkQVBJcy5jb25zdHJ1Y3RvciA9IFB1cmVDb21wb25lbnQ7XG4gICAgYXNzaWduKGRlcHJlY2F0ZWRBUElzLCBDb21wb25lbnQucHJvdG90eXBlKTtcbiAgICBkZXByZWNhdGVkQVBJcy5pc1B1cmVSZWFjdENvbXBvbmVudCA9ICEwO1xuICAgIHZhciBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0ge1xuICAgICAgICBIOiBudWxsLFxuICAgICAgICBBOiBudWxsLFxuICAgICAgICBUOiBudWxsLFxuICAgICAgICBTOiBudWxsLFxuICAgICAgICBhY3RRdWV1ZTogbnVsbCxcbiAgICAgICAgaXNCYXRjaGluZ0xlZ2FjeTogITEsXG4gICAgICAgIGRpZFNjaGVkdWxlTGVnYWN5VXBkYXRlOiAhMSxcbiAgICAgICAgZGlkVXNlUHJvbWlzZTogITEsXG4gICAgICAgIHRocm93bkVycm9yczogW10sXG4gICAgICAgIGdldEN1cnJlbnRTdGFjazogbnVsbFxuICAgICAgfSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgZGlzYWJsZWREZXB0aCA9IDAsXG4gICAgICBwcmV2TG9nLFxuICAgICAgcHJldkluZm8sXG4gICAgICBwcmV2V2FybixcbiAgICAgIHByZXZFcnJvcixcbiAgICAgIHByZXZHcm91cCxcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCxcbiAgICAgIHByZXZHcm91cEVuZDtcbiAgICBkaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSAhMDtcbiAgICB2YXIgcHJlZml4LFxuICAgICAgc3VmZml4LFxuICAgICAgcmVlbnRyeSA9ICExO1xuICAgIHZhciBjb21wb25lbnRGcmFtZUNhY2hlID0gbmV3IChcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwXG4gICAgKSgpO1xuICAgIHZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bixcbiAgICAgIGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWU7XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge30sXG4gICAgICBkaWRXYXJuQWJvdXRNYXBzID0gITEsXG4gICAgICB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2csXG4gICAgICByZXBvcnRHbG9iYWxFcnJvciA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlcG9ydEVycm9yXG4gICAgICAgICAgPyByZXBvcnRFcnJvclxuICAgICAgICAgIDogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygd2luZG93ICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygd2luZG93LkVycm9yRXZlbnRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IHdpbmRvdy5FcnJvckV2ZW50KFwiZXJyb3JcIiwge1xuICAgICAgICAgICAgICAgICAgYnViYmxlczogITAsXG4gICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgID8gU3RyaW5nKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCkpIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvY2VzcyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb2Nlc3MuZW1pdFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgIGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITEsXG4gICAgICBlbnF1ZXVlVGFza0ltcGwgPSBudWxsLFxuICAgICAgYWN0U2NvcGVEZXB0aCA9IDAsXG4gICAgICBkaWRXYXJuTm9Bd2FpdEFjdCA9ICExLFxuICAgICAgaXNGbHVzaGluZyA9ICExLFxuICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHF1ZXVlTWljcm90YXNrXG4gICAgICAgICAgPyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZU1pY3JvdGFzayhjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDogZW5xdWV1ZVRhc2s7XG4gICAgZXhwb3J0cy5DaGlsZHJlbiA9IHtcbiAgICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiAoY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgICAgICBtYXBDaGlsZHJlbihcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3JFYWNoRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yRWFjaENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjb3VudDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0sXG4gICAgICB0b0FycmF5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgZXhwb3J0cy5QdXJlQ29tcG9uZW50ID0gUHVyZUNvbXBvbmVudDtcbiAgICBleHBvcnRzLlN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgIGV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIGV4cG9ydHMuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuYWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcHJldkFjdFF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUsXG4gICAgICAgIHByZXZBY3RTY29wZURlcHRoID0gYWN0U2NvcGVEZXB0aDtcbiAgICAgIGFjdFNjb3BlRGVwdGgrKztcbiAgICAgIHZhciBxdWV1ZSA9IChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9XG4gICAgICAgICAgbnVsbCAhPT0gcHJldkFjdFF1ZXVlID8gcHJldkFjdFF1ZXVlIDogW10pLFxuICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpLFxuICAgICAgICAgIChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSByZXN1bHQgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJlc3VsdCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXN1bHQudGhlblxuICAgICAgKSB7XG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdDtcbiAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGlkQXdhaXRBY3RDYWxsIHx8XG4gICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGNhbGxlZCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aXRob3V0IGF3YWl0LiBUaGlzIGNvdWxkIGxlYWQgdG8gdW5leHBlY3RlZCB0ZXN0aW5nIGJlaGF2aW91ciwgaW50ZXJsZWF2aW5nIG11bHRpcGxlIGFjdCBjYWxscyBhbmQgbWl4aW5nIHRoZWlyIHNjb3Blcy4gWW91IHNob3VsZCAtIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pO1wiXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITA7XG4gICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAgICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IkMikge1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvciQyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Rocm93bkVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KF90aHJvd25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgPyAoKGVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKSlcbiAgICAgICAgICAgICAgICAgIDogcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgcmV0dXJuVmFsdWUkanNjb21wJDAgPSByZXN1bHQ7XG4gICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoICYmXG4gICAgICAgIChmbHVzaEFjdFF1ZXVlKHF1ZXVlKSxcbiAgICAgICAgMCAhPT0gcXVldWUubGVuZ3RoICYmXG4gICAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgfHxcbiAgICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IHN1c3BlbmRlZCBpbnNpZGUgYW4gYGFjdGAgc2NvcGUsIGJ1dCB0aGUgYGFjdGAgY2FsbCB3YXMgbm90IGF3YWl0ZWQuIFdoZW4gdGVzdGluZyBSZWFjdCBjb21wb25lbnRzIHRoYXQgZGVwZW5kIG9uIGFzeW5jaHJvbm91cyBkYXRhLCB5b3UgbXVzdCBhd2FpdCB0aGUgcmVzdWx0OlxcblxcbmF3YWl0IGFjdCgoKSA9PiAuLi4pXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfSksXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGwpKTtcbiAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICgoY2FsbGJhY2sgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICBjYWxsYmFjaylcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAwID09PSBwcmV2QWN0U2NvcGVEZXB0aFxuICAgICAgICAgICAgPyAoKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gcXVldWUpLFxuICAgICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIDogcmVzb2x2ZShyZXR1cm5WYWx1ZSRqc2NvbXAkMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNhY2hlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZWxlbWVudCB8fCB2b2lkIDAgPT09IGVsZW1lbnQpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCBcIiArXG4gICAgICAgICAgICBlbGVtZW50ICtcbiAgICAgICAgICAgIFwiLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpLFxuICAgICAgICBrZXkgPSBlbGVtZW50LmtleSxcbiAgICAgICAgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZykge1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgICBhOiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwicmVmXCIpICYmXG4gICAgICAgICAgICAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgICBcInJlZlwiXG4gICAgICAgICAgICApLmdldCkgJiZcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5pc1JlYWN0V2FybmluZ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSB2b2lkIDAgIT09IGNvbmZpZy5yZWY7XG4gICAgICAgIH1cbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ICYmIChvd25lciA9IGdldE93bmVyKCkpO1xuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChrZXkgPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSB8fFxuICAgICAgICAgICAgXCJrZXlcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zZWxmXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICBcIl9fc291cmNlXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICAoXCJyZWZcIiA9PT0gcHJvcE5hbWUgJiYgdm9pZCAwID09PSBjb25maWcucmVmKSB8fFxuICAgICAgICAgICAgKHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BOYW1lID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gcHJvcE5hbWUpIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgcHJvcE5hbWUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gQXJyYXkocHJvcE5hbWUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lOyBpKyspXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICB9XG4gICAgICBwcm9wcyA9IFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgdm9pZCAwLCB2b2lkIDAsIG93bmVyLCBwcm9wcyk7XG4gICAgICBmb3IgKGtleSA9IDI7IGtleSA8IGFyZ3VtZW50cy5sZW5ndGg7IGtleSsrKVxuICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNba2V5XSwgcHJvcHMudHlwZSk7XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX3RocmVhZENvdW50OiAwLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgQ29uc3VtZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuUHJvdmlkZXIgPSBkZWZhdWx0VmFsdWU7XG4gICAgICBkZWZhdWx0VmFsdWUuQ29uc3VtZXIgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05TVU1FUl9UWVBFLFxuICAgICAgICBfY29udGV4dDogZGVmYXVsdFZhbHVlXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIyID0gbnVsbDtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgaWYgKGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZSB8fFxuICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgMCA9PT0gT2JqZWN0LmtleXModHlwZSkubGVuZ3RoKVxuICAgICAgICApXG4gICAgICAgICAgaSArPVxuICAgICAgICAgICAgXCIgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgICBpZiAobnVsbCA9PT0gdHlwZSkgdmFyIHR5cGVTdHJpbmcgPSBcIm51bGxcIjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGlzQXJyYXlJbXBsKHR5cGUpXG4gICAgICAgICAgICA/ICh0eXBlU3RyaW5nID0gXCJhcnJheVwiKVxuICAgICAgICAgICAgOiB2b2lkIDAgIT09IHR5cGUgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICAgICAgICAgID8gKCh0eXBlU3RyaW5nID1cbiAgICAgICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgICAgIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIlVua25vd25cIikgK1xuICAgICAgICAgICAgICAgICAgXCIgLz5cIiksXG4gICAgICAgICAgICAgICAgKGkgPVxuICAgICAgICAgICAgICAgICAgXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD9cIikpXG4gICAgICAgICAgICAgIDogKHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzXCIsXG4gICAgICAgICAgdHlwZVN0cmluZyxcbiAgICAgICAgICBpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWU7XG4gICAgICBpID0ge307XG4gICAgICB0eXBlU3RyaW5nID0gbnVsbDtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoZGlkV2FybkFib3V0T2xkSlNYUnVudGltZSB8fFxuICAgICAgICAgICEoXCJfX3NlbGZcIiBpbiBjb25maWcpIHx8XG4gICAgICAgICAgXCJrZXlcIiBpbiBjb25maWcgfHxcbiAgICAgICAgICAoKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgPSAhMCksXG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJZb3VyIGFwcCAob3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMpIGlzIHVzaW5nIGFuIG91dGRhdGVkIEpTWCB0cmFuc2Zvcm0uIFVwZGF0ZSB0byB0aGUgbW9kZXJuIEpTWCB0cmFuc2Zvcm0gZm9yIGZhc3RlciBwZXJmb3JtYW5jZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9uZXctanN4LXRyYW5zZm9ybVwiXG4gICAgICAgICAgKSksXG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKHR5cGVTdHJpbmcgPSBcIlwiICsgY29uZmlnLmtleSkpLFxuICAgICAgICBjb25maWcpKVxuICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiZcbiAgICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc2VsZlwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NvdXJjZVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgKGlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBjaGlsZHJlbkxlbmd0aCkgaS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgZWxzZSBpZiAoMSA8IGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCksIF9pID0gMDtcbiAgICAgICAgICBfaSA8IGNoaWxkcmVuTGVuZ3RoO1xuICAgICAgICAgIF9pKytcbiAgICAgICAgKVxuICAgICAgICAgIGNoaWxkQXJyYXlbX2ldID0gYXJndW1lbnRzW19pICsgMl07XG4gICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZEFycmF5KTtcbiAgICAgICAgaS5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoKGNoaWxkcmVuTGVuZ3RoID0gdHlwZS5kZWZhdWx0UHJvcHMpLCBjaGlsZHJlbkxlbmd0aCkpXG4gICAgICAgICAgdm9pZCAwID09PSBpW3Byb3BOYW1lXSAmJiAoaVtwcm9wTmFtZV0gPSBjaGlsZHJlbkxlbmd0aFtwcm9wTmFtZV0pO1xuICAgICAgdHlwZVN0cmluZyAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCB0eXBlU3RyaW5nLCB2b2lkIDAsIHZvaWQgMCwgZ2V0T3duZXIoKSwgaSk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZVJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWZPYmplY3QgPSB7IGN1cnJlbnQ6IG51bGwgfTtcbiAgICAgIE9iamVjdC5zZWFsKHJlZk9iamVjdCk7XG4gICAgICByZXR1cm4gcmVmT2JqZWN0O1xuICAgIH07XG4gICAgZXhwb3J0cy5mb3J3YXJkUmVmID0gZnVuY3Rpb24gKHJlbmRlcikge1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCByZWNlaXZlZCBhIGBtZW1vYCBjb21wb25lbnQuIEluc3RlYWQgb2YgZm9yd2FyZFJlZihtZW1vKC4uLikpLCB1c2UgbWVtbyhmb3J3YXJkUmVmKC4uLikpLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlbmRlclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuXCIsXG4gICAgICAgICAgICAgIG51bGwgPT09IHJlbmRlciA/IFwibnVsbFwiIDogdHlwZW9mIHJlbmRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogMCAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgMiAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgYWNjZXB0IGV4YWN0bHkgdHdvIHBhcmFtZXRlcnM6IHByb3BzIGFuZCByZWYuICVzXCIsXG4gICAgICAgICAgICAgIDEgPT09IHJlbmRlci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IFwiRGlkIHlvdSBmb3JnZXQgdG8gdXNlIHRoZSByZWYgcGFyYW1ldGVyP1wiXG4gICAgICAgICAgICAgICAgOiBcIkFueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmXG4gICAgICAgIG51bGwgIT0gcmVuZGVyLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGRvIG5vdCBzdXBwb3J0IGRlZmF1bHRQcm9wcy4gRGlkIHlvdSBhY2NpZGVudGFsbHkgcGFzcyBhIFJlYWN0IGNvbXBvbmVudD9cIlxuICAgICAgICApO1xuICAgICAgdmFyIGVsZW1lbnRUeXBlID0geyAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSwgcmVuZGVyOiByZW5kZXIgfSxcbiAgICAgICAgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHJlbmRlci5uYW1lIHx8XG4gICAgICAgICAgICByZW5kZXIuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkocmVuZGVyLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgIChyZW5kZXIuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnRUeXBlO1xuICAgIH07XG4gICAgZXhwb3J0cy5pc1ZhbGlkRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50O1xuICAgIGV4cG9ydHMubGF6eSA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICBfcGF5bG9hZDogeyBfc3RhdHVzOiAtMSwgX3Jlc3VsdDogY3RvciB9LFxuICAgICAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5tZW1vID0gZnVuY3Rpb24gKHR5cGUsIGNvbXBhcmUpIHtcbiAgICAgIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwibWVtbzogVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBjb21wb25lbnQuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXCIsXG4gICAgICAgICAgbnVsbCA9PT0gdHlwZSA/IFwibnVsbFwiIDogdHlwZW9mIHR5cGVcbiAgICAgICAgKTtcbiAgICAgIGNvbXBhcmUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvbXBhcmU6IHZvaWQgMCA9PT0gY29tcGFyZSA/IG51bGwgOiBjb21wYXJlXG4gICAgICB9O1xuICAgICAgdmFyIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcGFyZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHR5cGUubmFtZSB8fFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgICh0eXBlLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wYXJlO1xuICAgIH07XG4gICAgZXhwb3J0cy5zdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHNjb3BlKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiAmJlxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4obm9vcCwgcmVwb3J0R2xvYmFsRXJyb3IpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICgoc2NvcGUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgIDEwIDwgc2NvcGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3VzZUNhY2hlUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhY2hlUmVmcmVzaCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2UgPSBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2UodXNhYmxlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQWN0aW9uU3RhdGUoXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICBwZXJtYWxpbmtcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNvbnRleHQgPSBmdW5jdGlvbiAoQ29udGV4dCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgICAgQ29udGV4dC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FsbGluZyB1c2VDb250ZXh0KENvbnRleHQuQ29uc3VtZXIpIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgYnVncy4gRGlkIHlvdSBtZWFuIHRvIGNhbGwgdXNlQ29udGV4dChDb250ZXh0KSBpbnN0ZWFkP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWZlcnJlZFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUlkKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUltcGVyYXRpdmVIYW5kbGUgPSBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJbnNlcnRpb25FZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZU1lbW8gPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAocGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWR1Y2VyID0gZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVJlZiA9IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVJlZihpbml0aWFsVmFsdWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTdGF0ZSA9IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlID0gZnVuY3Rpb24gKFxuICAgICAgc3Vic2NyaWJlLFxuICAgICAgZ2V0U25hcHNob3QsXG4gICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlVHJhbnNpdGlvbigpO1xuICAgIH07XG4gICAgZXhwb3J0cy52ZXJzaW9uID0gXCIxOS4wLjBcIjtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSgpIHtcbiAgICAgIGlmIChpc01lc3NhZ2VMb29wUnVubmluZykge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICAgICAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgICAgdmFyIGhhc01vcmVXb3JrID0gITA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMTtcbiAgICAgICAgICAgIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgJiZcbiAgICAgICAgICAgICAgKChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITEpLFxuICAgICAgICAgICAgICBsb2NhbENsZWFyVGltZW91dCh0YXNrVGltZW91dElEKSxcbiAgICAgICAgICAgICAgKHRhc2tUaW1lb3V0SUQgPSAtMSkpO1xuICAgICAgICAgICAgaXNQZXJmb3JtaW5nV29yayA9ICEwO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50VGFzayA9IHBlZWsodGFza1F1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRUYXNrICYmXG4gICAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA+IGN1cnJlbnRUaW1lICYmXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFlpZWxkVG9Ib3N0KClcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGN1cnJlbnRUYXNrLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBjdXJyZW50VGFzay5wcmlvcml0eUxldmVsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGludWF0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA8PSBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb250aW51YXRpb25DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrLmNhbGxiYWNrID0gY29udGludWF0aW9uQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaGFzTW9yZVdvcmsgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrID09PSBwZWVrKHRhc2tRdWV1ZSkgJiYgcG9wKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHBvcCh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2sgPSBwZWVrKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50VGFzaykgaGFzTW9yZVdvcmsgPSAhMDtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBmaXJzdFRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGZpcnN0VGltZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgZmlyc3RUaW1lci5zdGFydFRpbWUgLSBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaGFzTW9yZVdvcmsgPSAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIChjdXJyZW50VGFzayA9IG51bGwpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbCksXG4gICAgICAgICAgICAgICAgKGlzUGVyZm9ybWluZ1dvcmsgPSAhMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNNb3JlV29yayA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaGFzTW9yZVdvcmtcbiAgICAgICAgICAgID8gc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUoKVxuICAgICAgICAgICAgOiAoaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSAhMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaChoZWFwLCBub2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBoZWFwLmxlbmd0aDtcbiAgICAgIGhlYXAucHVzaChub2RlKTtcbiAgICAgIGE6IGZvciAoOyAwIDwgaW5kZXg7ICkge1xuICAgICAgICB2YXIgcGFyZW50SW5kZXggPSAoaW5kZXggLSAxKSA+Pj4gMSxcbiAgICAgICAgICBwYXJlbnQgPSBoZWFwW3BhcmVudEluZGV4XTtcbiAgICAgICAgaWYgKDAgPCBjb21wYXJlKHBhcmVudCwgbm9kZSkpXG4gICAgICAgICAgKGhlYXBbcGFyZW50SW5kZXhdID0gbm9kZSksXG4gICAgICAgICAgICAoaGVhcFtpbmRleF0gPSBwYXJlbnQpLFxuICAgICAgICAgICAgKGluZGV4ID0gcGFyZW50SW5kZXgpO1xuICAgICAgICBlbHNlIGJyZWFrIGE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZWsoaGVhcCkge1xuICAgICAgcmV0dXJuIDAgPT09IGhlYXAubGVuZ3RoID8gbnVsbCA6IGhlYXBbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcChoZWFwKSB7XG4gICAgICBpZiAoMCA9PT0gaGVhcC5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgdmFyIGZpcnN0ID0gaGVhcFswXSxcbiAgICAgICAgbGFzdCA9IGhlYXAucG9wKCk7XG4gICAgICBpZiAobGFzdCAhPT0gZmlyc3QpIHtcbiAgICAgICAgaGVhcFswXSA9IGxhc3Q7XG4gICAgICAgIGE6IGZvciAoXG4gICAgICAgICAgdmFyIGluZGV4ID0gMCwgbGVuZ3RoID0gaGVhcC5sZW5ndGgsIGhhbGZMZW5ndGggPSBsZW5ndGggPj4+IDE7XG4gICAgICAgICAgaW5kZXggPCBoYWxmTGVuZ3RoO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBsZWZ0SW5kZXggPSAyICogKGluZGV4ICsgMSkgLSAxLFxuICAgICAgICAgICAgbGVmdCA9IGhlYXBbbGVmdEluZGV4XSxcbiAgICAgICAgICAgIHJpZ2h0SW5kZXggPSBsZWZ0SW5kZXggKyAxLFxuICAgICAgICAgICAgcmlnaHQgPSBoZWFwW3JpZ2h0SW5kZXhdO1xuICAgICAgICAgIGlmICgwID4gY29tcGFyZShsZWZ0LCBsYXN0KSlcbiAgICAgICAgICAgIHJpZ2h0SW5kZXggPCBsZW5ndGggJiYgMCA+IGNvbXBhcmUocmlnaHQsIGxlZnQpXG4gICAgICAgICAgICAgID8gKChoZWFwW2luZGV4XSA9IHJpZ2h0KSxcbiAgICAgICAgICAgICAgICAoaGVhcFtyaWdodEluZGV4XSA9IGxhc3QpLFxuICAgICAgICAgICAgICAgIChpbmRleCA9IHJpZ2h0SW5kZXgpKVxuICAgICAgICAgICAgICA6ICgoaGVhcFtpbmRleF0gPSBsZWZ0KSxcbiAgICAgICAgICAgICAgICAoaGVhcFtsZWZ0SW5kZXhdID0gbGFzdCksXG4gICAgICAgICAgICAgICAgKGluZGV4ID0gbGVmdEluZGV4KSk7XG4gICAgICAgICAgZWxzZSBpZiAocmlnaHRJbmRleCA8IGxlbmd0aCAmJiAwID4gY29tcGFyZShyaWdodCwgbGFzdCkpXG4gICAgICAgICAgICAoaGVhcFtpbmRleF0gPSByaWdodCksXG4gICAgICAgICAgICAgIChoZWFwW3JpZ2h0SW5kZXhdID0gbGFzdCksXG4gICAgICAgICAgICAgIChpbmRleCA9IHJpZ2h0SW5kZXgpO1xuICAgICAgICAgIGVsc2UgYnJlYWsgYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYS5zb3J0SW5kZXggLSBiLnNvcnRJbmRleDtcbiAgICAgIHJldHVybiAwICE9PSBkaWZmID8gZGlmZiA6IGEuaWQgLSBiLmlkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKSB7XG4gICAgICBmb3IgKHZhciB0aW1lciA9IHBlZWsodGltZXJRdWV1ZSk7IG51bGwgIT09IHRpbWVyOyApIHtcbiAgICAgICAgaWYgKG51bGwgPT09IHRpbWVyLmNhbGxiYWNrKSBwb3AodGltZXJRdWV1ZSk7XG4gICAgICAgIGVsc2UgaWYgKHRpbWVyLnN0YXJ0VGltZSA8PSBjdXJyZW50VGltZSlcbiAgICAgICAgICBwb3AodGltZXJRdWV1ZSksXG4gICAgICAgICAgICAodGltZXIuc29ydEluZGV4ID0gdGltZXIuZXhwaXJhdGlvblRpbWUpLFxuICAgICAgICAgICAgcHVzaCh0YXNrUXVldWUsIHRpbWVyKTtcbiAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgdGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KGN1cnJlbnRUaW1lKSB7XG4gICAgICBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITE7XG4gICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgIGlmICghaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQpXG4gICAgICAgIGlmIChudWxsICE9PSBwZWVrKHRhc2tRdWV1ZSkpXG4gICAgICAgICAgKGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITApLCByZXF1ZXN0SG9zdENhbGxiYWNrKCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBmaXJzdFRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgICAgICAgICBudWxsICE9PSBmaXJzdFRpbWVyICYmXG4gICAgICAgICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoXG4gICAgICAgICAgICAgIGhhbmRsZVRpbWVvdXQsXG4gICAgICAgICAgICAgIGZpcnN0VGltZXIuc3RhcnRUaW1lIC0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkWWllbGRUb0hvc3QoKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy51bnN0YWJsZV9ub3coKSAtIHN0YXJ0VGltZSA8IGZyYW1lSW50ZXJ2YWwgPyAhMSA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0SG9zdENhbGxiYWNrKCkge1xuICAgICAgaXNNZXNzYWdlTG9vcFJ1bm5pbmcgfHxcbiAgICAgICAgKChpc01lc3NhZ2VMb29wUnVubmluZyA9ICEwKSwgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUoKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RIb3N0VGltZW91dChjYWxsYmFjaywgbXMpIHtcbiAgICAgIHRhc2tUaW1lb3V0SUQgPSBsb2NhbFNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhleHBvcnRzLnVuc3RhYmxlX25vdygpKTtcbiAgICAgIH0sIG1zKTtcbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IHZvaWQgMDtcbiAgICBpZiAoXG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcGVyZm9ybWFuY2UgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHBlcmZvcm1hbmNlLm5vd1xuICAgICkge1xuICAgICAgdmFyIGxvY2FsUGVyZm9ybWFuY2UgPSBwZXJmb3JtYW5jZTtcbiAgICAgIGV4cG9ydHMudW5zdGFibGVfbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYWxQZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsb2NhbERhdGUgPSBEYXRlLFxuICAgICAgICBpbml0aWFsVGltZSA9IGxvY2FsRGF0ZS5ub3coKTtcbiAgICAgIGV4cG9ydHMudW5zdGFibGVfbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYWxEYXRlLm5vdygpIC0gaW5pdGlhbFRpbWU7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgdGFza1F1ZXVlID0gW10sXG4gICAgICB0aW1lclF1ZXVlID0gW10sXG4gICAgICB0YXNrSWRDb3VudGVyID0gMSxcbiAgICAgIGN1cnJlbnRUYXNrID0gbnVsbCxcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gMyxcbiAgICAgIGlzUGVyZm9ybWluZ1dvcmsgPSAhMSxcbiAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITEsXG4gICAgICBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITEsXG4gICAgICBsb2NhbFNldFRpbWVvdXQgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzZXRUaW1lb3V0ID8gc2V0VGltZW91dCA6IG51bGwsXG4gICAgICBsb2NhbENsZWFyVGltZW91dCA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IG51bGwsXG4gICAgICBsb2NhbFNldEltbWVkaWF0ZSA9XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBzZXRJbW1lZGlhdGUgPyBzZXRJbW1lZGlhdGUgOiBudWxsLFxuICAgICAgaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSAhMSxcbiAgICAgIHRhc2tUaW1lb3V0SUQgPSAtMSxcbiAgICAgIGZyYW1lSW50ZXJ2YWwgPSA1LFxuICAgICAgc3RhcnRUaW1lID0gLTE7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxvY2FsU2V0SW1tZWRpYXRlKVxuICAgICAgdmFyIHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbFNldEltbWVkaWF0ZShwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUpO1xuICAgICAgfTtcbiAgICBlbHNlIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCksXG4gICAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBwZXJmb3JtV29ya1VudGlsRGVhZGxpbmU7XG4gICAgICBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9ydC5wb3N0TWVzc2FnZShudWxsKTtcbiAgICAgIH07XG4gICAgfSBlbHNlXG4gICAgICBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWxTZXRUaW1lb3V0KHBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSwgMCk7XG4gICAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfSWRsZVByaW9yaXR5ID0gNTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5ID0gMTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX0xvd1ByaW9yaXR5ID0gNDtcbiAgICBleHBvcnRzLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5ID0gMztcbiAgICBleHBvcnRzLnVuc3RhYmxlX1Byb2ZpbGluZyA9IG51bGw7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eSA9IDI7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayA9IGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICB0YXNrLmNhbGxiYWNrID0gbnVsbDtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfY29udGludWVFeGVjdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCB8fFxuICAgICAgICBpc1BlcmZvcm1pbmdXb3JrIHx8XG4gICAgICAgICgoaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMCksIHJlcXVlc3RIb3N0Q2FsbGJhY2soKSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2ZvcmNlRnJhbWVSYXRlID0gZnVuY3Rpb24gKGZwcykge1xuICAgICAgMCA+IGZwcyB8fCAxMjUgPCBmcHNcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3JjZUZyYW1lUmF0ZSB0YWtlcyBhIHBvc2l0aXZlIGludCBiZXR3ZWVuIDAgYW5kIDEyNSwgZm9yY2luZyBmcmFtZSByYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCBzdXBwb3J0ZWRcIlxuICAgICAgICAgIClcbiAgICAgICAgOiAoZnJhbWVJbnRlcnZhbCA9IDAgPCBmcHMgPyBNYXRoLmZsb29yKDFlMyAvIGZwcykgOiA1KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBlZWsodGFza1F1ZXVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfbmV4dCA9IGZ1bmN0aW9uIChldmVudEhhbmRsZXIpIHtcbiAgICAgIHN3aXRjaCAoY3VycmVudFByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB2YXIgcHJpb3JpdHlMZXZlbCA9IDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgfVxuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmlvcml0eUxldmVsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGV2ZW50SGFuZGxlcigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWw7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uID0gZnVuY3Rpb24gKCkge307XG4gICAgZXhwb3J0cy51bnN0YWJsZV9yZXF1ZXN0UGFpbnQgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3J1bldpdGhQcmlvcml0eSA9IGZ1bmN0aW9uIChwcmlvcml0eUxldmVsLCBldmVudEhhbmRsZXIpIHtcbiAgICAgIHN3aXRjaCAocHJpb3JpdHlMZXZlbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwcmlvcml0eUxldmVsID0gMztcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJpb3JpdHlMZXZlbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBldmVudEhhbmRsZXIoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrID0gZnVuY3Rpb24gKFxuICAgICAgcHJpb3JpdHlMZXZlbCxcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgb3B0aW9uc1xuICAgICkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmIG51bGwgIT09IG9wdGlvbnNcbiAgICAgICAgPyAoKG9wdGlvbnMgPSBvcHRpb25zLmRlbGF5KSxcbiAgICAgICAgICAob3B0aW9ucyA9XG4gICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiAwIDwgb3B0aW9uc1xuICAgICAgICAgICAgICA/IGN1cnJlbnRUaW1lICsgb3B0aW9uc1xuICAgICAgICAgICAgICA6IGN1cnJlbnRUaW1lKSlcbiAgICAgICAgOiAob3B0aW9ucyA9IGN1cnJlbnRUaW1lKTtcbiAgICAgIHN3aXRjaCAocHJpb3JpdHlMZXZlbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdmFyIHRpbWVvdXQgPSAtMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHRpbWVvdXQgPSAyNTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICB0aW1lb3V0ID0gMTA3Mzc0MTgyMztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHRpbWVvdXQgPSAxZTQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGltZW91dCA9IDVlMztcbiAgICAgIH1cbiAgICAgIHRpbWVvdXQgPSBvcHRpb25zICsgdGltZW91dDtcbiAgICAgIHByaW9yaXR5TGV2ZWwgPSB7XG4gICAgICAgIGlkOiB0YXNrSWRDb3VudGVyKyssXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgcHJpb3JpdHlMZXZlbDogcHJpb3JpdHlMZXZlbCxcbiAgICAgICAgc3RhcnRUaW1lOiBvcHRpb25zLFxuICAgICAgICBleHBpcmF0aW9uVGltZTogdGltZW91dCxcbiAgICAgICAgc29ydEluZGV4OiAtMVxuICAgICAgfTtcbiAgICAgIG9wdGlvbnMgPiBjdXJyZW50VGltZVxuICAgICAgICA/ICgocHJpb3JpdHlMZXZlbC5zb3J0SW5kZXggPSBvcHRpb25zKSxcbiAgICAgICAgICBwdXNoKHRpbWVyUXVldWUsIHByaW9yaXR5TGV2ZWwpLFxuICAgICAgICAgIG51bGwgPT09IHBlZWsodGFza1F1ZXVlKSAmJlxuICAgICAgICAgICAgcHJpb3JpdHlMZXZlbCA9PT0gcGVlayh0aW1lclF1ZXVlKSAmJlxuICAgICAgICAgICAgKGlzSG9zdFRpbWVvdXRTY2hlZHVsZWRcbiAgICAgICAgICAgICAgPyAobG9jYWxDbGVhclRpbWVvdXQodGFza1RpbWVvdXRJRCksICh0YXNrVGltZW91dElEID0gLTEpKVxuICAgICAgICAgICAgICA6IChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITApLFxuICAgICAgICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KGhhbmRsZVRpbWVvdXQsIG9wdGlvbnMgLSBjdXJyZW50VGltZSkpKVxuICAgICAgICA6ICgocHJpb3JpdHlMZXZlbC5zb3J0SW5kZXggPSB0aW1lb3V0KSxcbiAgICAgICAgICBwdXNoKHRhc2tRdWV1ZSwgcHJpb3JpdHlMZXZlbCksXG4gICAgICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgfHxcbiAgICAgICAgICAgIGlzUGVyZm9ybWluZ1dvcmsgfHxcbiAgICAgICAgICAgICgoaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMCksIHJlcXVlc3RIb3N0Q2FsbGJhY2soKSkpO1xuICAgICAgcmV0dXJuIHByaW9yaXR5TGV2ZWw7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3Nob3VsZFlpZWxkID0gc2hvdWxkWWllbGRUb0hvc3Q7XG4gICAgZXhwb3J0cy51bnN0YWJsZV93cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwYXJlbnRQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcGFyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1kb20uZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVySW5mbywgaW1wbGVtZW50YXRpb24pIHtcbiAgICAgIHZhciBrZXkgPVxuICAgICAgICAzIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1szXSA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24oa2V5KTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCAmJlxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICBrZXlbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICAgIGtleS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgICBcIk9iamVjdFwiXG4gICAgICAgICksXG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbihrZXkpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9QT1JUQUxfVFlQRSxcbiAgICAgICAga2V5OiBudWxsID09IGtleSA/IG51bGwgOiBcIlwiICsga2V5LFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiBpbXBsZW1lbnRhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhhcywgaW5wdXQpIHtcbiAgICAgIGlmIChcImZvbnRcIiA9PT0gYXMpIHJldHVybiBcIlwiO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBpbnB1dClcbiAgICAgICAgcmV0dXJuIFwidXNlLWNyZWRlbnRpYWxzXCIgPT09IGlucHV0ID8gaW5wdXQgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKHRoaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gdGhpbmdcbiAgICAgICAgPyBcImBudWxsYFwiXG4gICAgICAgIDogdm9pZCAwID09PSB0aGluZ1xuICAgICAgICAgID8gXCJgdW5kZWZpbmVkYFwiXG4gICAgICAgICAgOiBcIlwiID09PSB0aGluZ1xuICAgICAgICAgICAgPyBcImFuIGVtcHR5IHN0cmluZ1wiXG4gICAgICAgICAgICA6ICdzb21ldGhpbmcgd2l0aCB0eXBlIFwiJyArIHR5cGVvZiB0aGluZyArICdcIic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKHRoaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gdGhpbmdcbiAgICAgICAgPyBcImBudWxsYFwiXG4gICAgICAgIDogdm9pZCAwID09PSB0aGluZ1xuICAgICAgICAgID8gXCJgdW5kZWZpbmVkYFwiXG4gICAgICAgICAgOiBcIlwiID09PSB0aGluZ1xuICAgICAgICAgICAgPyBcImFuIGVtcHR5IHN0cmluZ1wiXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGluZ1xuICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHRoaW5nKVxuICAgICAgICAgICAgICA6IFwibnVtYmVyXCIgPT09IHR5cGVvZiB0aGluZ1xuICAgICAgICAgICAgICAgID8gXCJgXCIgKyB0aGluZyArIFwiYFwiXG4gICAgICAgICAgICAgICAgOiAnc29tZXRoaW5nIHdpdGggdHlwZSBcIicgKyB0eXBlb2YgdGhpbmcgKyAnXCInO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlRGlzcGF0Y2hlcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIG51bGwgPT09IGRpc3BhdGNoZXIgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWlnaHQgaGF2ZSBtaXNtYXRjaGluZyB2ZXJzaW9ucyBvZiBSZWFjdCBhbmQgdGhlIHJlbmRlcmVyIChzdWNoIGFzIFJlYWN0IERPTSlcXG4yLiBZb3UgbWlnaHQgYmUgYnJlYWtpbmcgdGhlIFJ1bGVzIG9mIEhvb2tzXFxuMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcblNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsIGZvciB0aXBzIGFib3V0IGhvdyB0byBkZWJ1ZyBhbmQgZml4IHRoaXMgcHJvYmxlbS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXI7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgSW50ZXJuYWxzID0ge1xuICAgICAgICBkOiB7XG4gICAgICAgICAgZjogbm9vcCxcbiAgICAgICAgICByOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGZvcm0gZWxlbWVudC4gcmVxdWVzdEZvcm1SZXNldCBtdXN0IGJlIHBhc3NlZCBhIGZvcm0gdGhhdCB3YXMgcmVuZGVyZWQgYnkgUmVhY3QuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBEOiBub29wLFxuICAgICAgICAgIEM6IG5vb3AsXG4gICAgICAgICAgTDogbm9vcCxcbiAgICAgICAgICBtOiBub29wLFxuICAgICAgICAgIFg6IG5vb3AsXG4gICAgICAgICAgUzogbm9vcCxcbiAgICAgICAgICBNOiBub29wXG4gICAgICAgIH0sXG4gICAgICAgIHA6IDAsXG4gICAgICAgIGZpbmRET01Ob2RlOiBudWxsXG4gICAgICB9LFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREU7XG4gICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcCAmJlxuICAgICAgbnVsbCAhPSBNYXAucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAucHJvdG90eXBlLmZvckVhY2ggJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldCAmJlxuICAgICAgbnVsbCAhPSBTZXQucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmNsZWFyICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmZvckVhY2gpIHx8XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlJlYWN0IGRlcGVuZHMgb24gTWFwIGFuZCBTZXQgYnVpbHQtaW4gdHlwZXMuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9yZWFjdC1wb2x5ZmlsbHNcIlxuICAgICAgKTtcbiAgICBleHBvcnRzLl9fRE9NX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSA9XG4gICAgICBJbnRlcm5hbHM7XG4gICAgZXhwb3J0cy5jcmVhdGVQb3J0YWwgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGNvbnRhaW5lcikge1xuICAgICAgdmFyIGtleSA9XG4gICAgICAgIDIgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICAgIGlmIChcbiAgICAgICAgIWNvbnRhaW5lciB8fFxuICAgICAgICAoMSAhPT0gY29udGFpbmVyLm5vZGVUeXBlICYmXG4gICAgICAgICAgOSAhPT0gY29udGFpbmVyLm5vZGVUeXBlICYmXG4gICAgICAgICAgMTEgIT09IGNvbnRhaW5lci5ub2RlVHlwZSlcbiAgICAgIClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICAgIHJldHVybiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVyLCBudWxsLCBrZXkpO1xuICAgIH07XG4gICAgZXhwb3J0cy5mbHVzaFN5bmMgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHZhciBwcmV2aW91c1RyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBwcmV2aW91c1VwZGF0ZVByaW9yaXR5ID0gSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoKChSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbCksIChJbnRlcm5hbHMucCA9IDIpLCBmbikpXG4gICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZpb3VzVHJhbnNpdGlvbiksXG4gICAgICAgICAgKEludGVybmFscy5wID0gcHJldmlvdXNVcGRhdGVQcmlvcml0eSksXG4gICAgICAgICAgSW50ZXJuYWxzLmQuZigpICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImZsdXNoU3luYyB3YXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgbGlmZWN5Y2xlIG1ldGhvZC4gUmVhY3QgY2Fubm90IGZsdXNoIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuIENvbnNpZGVyIG1vdmluZyB0aGlzIGNhbGwgdG8gYSBzY2hlZHVsZXIgdGFzayBvciBtaWNybyB0YXNrLlwiXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5wcmVjb25uZWN0ID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWZcbiAgICAgICAgPyBudWxsICE9IG9wdGlvbnMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlY29ubmVjdCgpOiBFeHBlY3RlZCB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IChzZWNvbmQpIHRvIGJlIGFuIG9iamVjdCBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC4gVGhlIG9ubHkgc3VwcG9ydGVkIG9wdGlvbiBhdCB0aGlzIHRpbWUgaXMgYGNyb3NzT3JpZ2luYCB3aGljaCBhY2NlcHRzIGEgc3RyaW5nLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogbnVsbCAhPSBvcHRpb25zICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb3B0aW9ucy5jcm9zc09yaWdpbiAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVjb25uZWN0KCk6IEV4cGVjdGVkIHRoZSBgY3Jvc3NPcmlnaW5gIG9wdGlvbiAoc2Vjb25kIGFyZ3VtZW50KSB0byBiZSBhIHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC4gVHJ5IHJlbW92aW5nIHRoaXMgb3B0aW9uIG9yIHBhc3NpbmcgYSBzdHJpbmcgdmFsdWUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zLmNyb3NzT3JpZ2luKVxuICAgICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0RE9NLnByZWNvbm5lY3QoKTogRXhwZWN0ZWQgdGhlIGBocmVmYCBhcmd1bWVudCAoZmlyc3QpIHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZilcbiAgICAgICAgICApO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgKG9wdGlvbnNcbiAgICAgICAgICA/ICgob3B0aW9ucyA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4pLFxuICAgICAgICAgICAgKG9wdGlvbnMgPVxuICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICAgICAgICAgID8gXCJ1c2UtY3JlZGVudGlhbHNcIiA9PT0gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgPyBvcHRpb25zXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICA6IHZvaWQgMCkpXG4gICAgICAgICAgOiAob3B0aW9ucyA9IG51bGwpLFxuICAgICAgICBJbnRlcm5hbHMuZC5DKGhyZWYsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucHJlZmV0Y2hETlMgPSBmdW5jdGlvbiAoaHJlZikge1xuICAgICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBocmVmIHx8ICFocmVmKVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3RET00ucHJlZmV0Y2hETlMoKTogRXhwZWN0ZWQgdGhlIGBocmVmYCBhcmd1bWVudCAoZmlyc3QpIHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpXG4gICAgICAgICk7XG4gICAgICBlbHNlIGlmICgxIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcImNyb3NzT3JpZ2luXCIpXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWZldGNoRE5TKCk6IEV4cGVjdGVkIG9ubHkgb25lIGFyZ3VtZW50LCBgaHJlZmAsIGJ1dCBlbmNvdW50ZXJlZCAlcyBhcyBhIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkLiBUaGlzIGFyZ3VtZW50IGlzIHJlc2VydmVkIGZvciBmdXR1cmUgb3B0aW9ucyBhbmQgaXMgY3VycmVudGx5IGRpc2FsbG93ZWQuIEl0IGxvb2tzIGxpa2UgdGhlIHlvdSBhcmUgYXR0ZW1wdGluZyB0byBzZXQgYSBjcm9zc09yaWdpbiBwcm9wZXJ0eSBmb3IgdGhpcyBETlMgbG9va3VwIGhpbnQuIEJyb3dzZXJzIGRvIG5vdCBwZXJmb3JtIEROUyBxdWVyaWVzIHVzaW5nIENPUlMgYW5kIHNldHRpbmcgdGhpcyBhdHRyaWJ1dGUgb24gdGhlIHJlc291cmNlIGhpbnQgaGFzIG5vIGVmZmVjdC4gVHJ5IGNhbGxpbmcgUmVhY3RET00ucHJlZmV0Y2hETlMoKSB3aXRoIGp1c3QgYSBzaW5nbGUgc3RyaW5nIGFyZ3VtZW50LCBgaHJlZmAuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWZldGNoRE5TKCk6IEV4cGVjdGVkIG9ubHkgb25lIGFyZ3VtZW50LCBgaHJlZmAsIGJ1dCBlbmNvdW50ZXJlZCAlcyBhcyBhIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkLiBUaGlzIGFyZ3VtZW50IGlzIHJlc2VydmVkIGZvciBmdXR1cmUgb3B0aW9ucyBhbmQgaXMgY3VycmVudGx5IGRpc2FsbG93ZWQuIFRyeSBjYWxsaW5nIFJlYWN0RE9NLnByZWZldGNoRE5TKCkgd2l0aCBqdXN0IGEgc2luZ2xlIHN0cmluZyBhcmd1bWVudCwgYGhyZWZgLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIEludGVybmFscy5kLkQoaHJlZik7XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWluaXQgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZlxuICAgICAgICA/IG51bGwgPT0gb3B0aW9ucyB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVpbml0KCk6IEV4cGVjdGVkIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgKHNlY29uZCkgdG8gYmUgYW4gb2JqZWN0IHdpdGggYW4gYGFzYCBwcm9wZXJ0eSBkZXNjcmliaW5nIHRoZSB0eXBlIG9mIHJlc291cmNlIHRvIGJlIHByZWluaXRpYWxpemVkIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJzdHlsZVwiICE9PSBvcHRpb25zLmFzICYmXG4gICAgICAgICAgICBcInNjcmlwdFwiICE9PSBvcHRpb25zLmFzICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnUmVhY3RET00ucHJlaW5pdCgpOiBFeHBlY3RlZCB0aGUgYGFzYCBwcm9wZXJ0eSBpbiB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IChzZWNvbmQpIHRvIGNvbnRhaW4gYSB2YWxpZCB2YWx1ZSBkZXNjcmliaW5nIHRoZSB0eXBlIG9mIHJlc291cmNlIHRvIGJlIHByZWluaXRpYWxpemVkIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLiBWYWxpZCB2YWx1ZXMgZm9yIGBhc2AgYXJlIFwic3R5bGVcIiBhbmQgXCJzY3JpcHRcIi4nLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zLmFzKVxuICAgICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0RE9NLnByZWluaXQoKTogRXhwZWN0ZWQgdGhlIGBocmVmYCBhcmd1bWVudCAoZmlyc3QpIHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZilcbiAgICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICBvcHRpb25zICYmXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzXG4gICAgICApIHtcbiAgICAgICAgdmFyIGFzID0gb3B0aW9ucy5hcyxcbiAgICAgICAgICBjcm9zc09yaWdpbiA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoYXMsIG9wdGlvbnMuY3Jvc3NPcmlnaW4pLFxuICAgICAgICAgIGludGVncml0eSA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHkgPyBvcHRpb25zLmludGVncml0eSA6IHZvaWQgMCxcbiAgICAgICAgICBmZXRjaFByaW9yaXR5ID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgOiB2b2lkIDA7XG4gICAgICAgIFwic3R5bGVcIiA9PT0gYXNcbiAgICAgICAgICA/IEludGVybmFscy5kLlMoXG4gICAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLnByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGludGVncml0eTogaW50ZWdyaXR5LFxuICAgICAgICAgICAgICAgIGZldGNoUHJpb3JpdHk6IGZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJzY3JpcHRcIiA9PT0gYXMgJiZcbiAgICAgICAgICAgIEludGVybmFscy5kLlgoaHJlZiwge1xuICAgICAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgIGludGVncml0eTogaW50ZWdyaXR5LFxuICAgICAgICAgICAgICBmZXRjaFByaW9yaXR5OiBmZXRjaFByaW9yaXR5LFxuICAgICAgICAgICAgICBub25jZTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdm9pZCAwXG4gICAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMucHJlaW5pdE1vZHVsZSA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZW5jb3VudGVyZWQgPSBcIlwiO1xuICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHx8XG4gICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgIFwiIFRoZSBgaHJlZmAgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpICtcbiAgICAgICAgICBcIi5cIik7XG4gICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgPyAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgb3B0aW9uc2AgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucykgK1xuICAgICAgICAgICAgXCIuXCIpXG4gICAgICAgIDogb3B0aW9ucyAmJlxuICAgICAgICAgIFwiYXNcIiBpbiBvcHRpb25zICYmXG4gICAgICAgICAgXCJzY3JpcHRcIiAhPT0gb3B0aW9ucy5hcyAmJlxuICAgICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBhc2Agb3B0aW9uIGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zLmFzKSArXG4gICAgICAgICAgICBcIi5cIik7XG4gICAgICBpZiAoZW5jb3VudGVyZWQpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdERPTS5wcmVpbml0TW9kdWxlKCk6IEV4cGVjdGVkIHVwIHRvIHR3byBhcmd1bWVudHMsIGEgbm9uLWVtcHR5IGBocmVmYCBzdHJpbmcgYW5kLCBvcHRpb25hbGx5LCBhbiBgb3B0aW9uc2Agb2JqZWN0IHdpdGggYSB2YWxpZCBgYXNgIHByb3BlcnR5LiVzXCIsXG4gICAgICAgICAgZW5jb3VudGVyZWRcbiAgICAgICAgKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoKGVuY291bnRlcmVkID1cbiAgICAgICAgICAgIG9wdGlvbnMgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgPyBvcHRpb25zLmFzIDogXCJzY3JpcHRcIiksXG4gICAgICAgICAgZW5jb3VudGVyZWQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAoZW5jb3VudGVyZWQgPVxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhlbmNvdW50ZXJlZCkpLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdSZWFjdERPTS5wcmVpbml0TW9kdWxlKCk6IEN1cnJlbnRseSB0aGUgb25seSBzdXBwb3J0ZWQgXCJhc1wiIHR5cGUgZm9yIHRoaXMgZnVuY3Rpb24gaXMgXCJzY3JpcHRcIiBidXQgcmVjZWl2ZWQgXCIlc1wiIGluc3RlYWQuIFRoaXMgd2FybmluZyB3YXMgZ2VuZXJhdGVkIGZvciBgaHJlZmAgXCIlc1wiLiBJbiB0aGUgZnV0dXJlIG90aGVyIG1vZHVsZSB0eXBlcyB3aWxsIGJlIHN1cHBvcnRlZCwgYWxpZ25pbmcgd2l0aCB0aGUgaW1wb3J0LWF0dHJpYnV0ZXMgcHJvcG9zYWwuIExlYXJuIG1vcmUgaGVyZTogKGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWltcG9ydC1hdHRyaWJ1dGVzKScsXG4gICAgICAgICAgICAgICAgZW5jb3VudGVyZWQsXG4gICAgICAgICAgICAgICAgaHJlZlxuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYpXG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiBudWxsICE9PSBvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT0gb3B0aW9ucy5hcyB8fCBcInNjcmlwdFwiID09PSBvcHRpb25zLmFzKVxuICAgICAgICAgICAgKGVuY291bnRlcmVkID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhcbiAgICAgICAgICAgICAgb3B0aW9ucy5hcyxcbiAgICAgICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpblxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIEludGVybmFscy5kLk0oaHJlZiwge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBlbmNvdW50ZXJlZCxcbiAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6XG4gICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBub25jZTpcbiAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm5vbmNlID8gb3B0aW9ucy5ub25jZSA6IHZvaWQgMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIG51bGwgPT0gb3B0aW9ucyAmJiBJbnRlcm5hbHMuZC5NKGhyZWYpO1xuICAgIH07XG4gICAgZXhwb3J0cy5wcmVsb2FkID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBlbmNvdW50ZXJlZCA9IFwiXCI7XG4gICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikgfHxcbiAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgXCIgVGhlIGBocmVmYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZikgK1xuICAgICAgICAgIFwiLlwiKTtcbiAgICAgIG51bGwgPT0gb3B0aW9ucyB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICA/IChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBvcHRpb25zYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zKSArXG4gICAgICAgICAgICBcIi5cIilcbiAgICAgICAgOiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgJiYgb3B0aW9ucy5hcykgfHxcbiAgICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgYXNgIG9wdGlvbiBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zLmFzKSArXG4gICAgICAgICAgICBcIi5cIik7XG4gICAgICBlbmNvdW50ZXJlZCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdSZWFjdERPTS5wcmVsb2FkKCk6IEV4cGVjdGVkIHR3byBhcmd1bWVudHMsIGEgbm9uLWVtcHR5IGBocmVmYCBzdHJpbmcgYW5kIGFuIGBvcHRpb25zYCBvYmplY3Qgd2l0aCBhbiBgYXNgIHByb3BlcnR5IHZhbGlkIGZvciBhIGA8bGluayByZWw9XCJwcmVsb2FkXCIgYXM9XCIuLi5cIiAvPmAgdGFnLiVzJyxcbiAgICAgICAgICBlbmNvdW50ZXJlZFxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJlxuICAgICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzXG4gICAgICApIHtcbiAgICAgICAgZW5jb3VudGVyZWQgPSBvcHRpb25zLmFzO1xuICAgICAgICB2YXIgY3Jvc3NPcmlnaW4gPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKFxuICAgICAgICAgIGVuY291bnRlcmVkLFxuICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW5cbiAgICAgICAgKTtcbiAgICAgICAgSW50ZXJuYWxzLmQuTChocmVmLCBlbmNvdW50ZXJlZCwge1xuICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICBpbnRlZ3JpdHk6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHkgPyBvcHRpb25zLmludGVncml0eSA6IHZvaWQgMCxcbiAgICAgICAgICBub25jZTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdm9pZCAwLFxuICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLnR5cGUgPyBvcHRpb25zLnR5cGUgOiB2b2lkIDAsXG4gICAgICAgICAgZmV0Y2hQcmlvcml0eTpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgcmVmZXJyZXJQb2xpY3k6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5yZWZlcnJlclBvbGljeVxuICAgICAgICAgICAgICA/IG9wdGlvbnMucmVmZXJyZXJQb2xpY3lcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgaW1hZ2VTcmNTZXQ6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICA/IG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgaW1hZ2VTaXplczpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmltYWdlU2l6ZXNcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmltYWdlU2l6ZXNcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgbWVkaWE6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm1lZGlhID8gb3B0aW9ucy5tZWRpYSA6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMucHJlbG9hZE1vZHVsZSA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZW5jb3VudGVyZWQgPSBcIlwiO1xuICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHx8XG4gICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgIFwiIFRoZSBgaHJlZmAgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpICtcbiAgICAgICAgICBcIi5cIik7XG4gICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgPyAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgb3B0aW9uc2AgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucykgK1xuICAgICAgICAgICAgXCIuXCIpXG4gICAgICAgIDogb3B0aW9ucyAmJlxuICAgICAgICAgIFwiYXNcIiBpbiBvcHRpb25zICYmXG4gICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgYXNgIG9wdGlvbiBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zLmFzKSArXG4gICAgICAgICAgICBcIi5cIik7XG4gICAgICBlbmNvdW50ZXJlZCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdSZWFjdERPTS5wcmVsb2FkTW9kdWxlKCk6IEV4cGVjdGVkIHR3byBhcmd1bWVudHMsIGEgbm9uLWVtcHR5IGBocmVmYCBzdHJpbmcgYW5kLCBvcHRpb25hbGx5LCBhbiBgb3B0aW9uc2Agb2JqZWN0IHdpdGggYW4gYGFzYCBwcm9wZXJ0eSB2YWxpZCBmb3IgYSBgPGxpbmsgcmVsPVwibW9kdWxlcHJlbG9hZFwiIGFzPVwiLi4uXCIgLz5gIHRhZy4lcycsXG4gICAgICAgICAgZW5jb3VudGVyZWRcbiAgICAgICAgKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIChvcHRpb25zXG4gICAgICAgICAgPyAoKGVuY291bnRlcmVkID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhcbiAgICAgICAgICAgICAgb3B0aW9ucy5hcyxcbiAgICAgICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpblxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBJbnRlcm5hbHMuZC5tKGhyZWYsIHtcbiAgICAgICAgICAgICAgYXM6XG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgJiYgXCJzY3JpcHRcIiAhPT0gb3B0aW9ucy5hc1xuICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmFzXG4gICAgICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGVuY291bnRlcmVkLFxuICAgICAgICAgICAgICBpbnRlZ3JpdHk6XG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICA6IHZvaWQgMFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBJbnRlcm5hbHMuZC5tKGhyZWYpKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucmVxdWVzdEZvcm1SZXNldCA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICBJbnRlcm5hbHMuZC5yKGZvcm0pO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYSkge1xuICAgICAgcmV0dXJuIGZuKGEpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRm9ybVN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VGb3JtU3RhdHVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMC4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2hlY2tEQ0UoKSB7XG4gIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbiAgaWYgKFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGJyYW5jaCBpcyB1bnJlYWNoYWJsZSBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWRcbiAgICAvLyBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGNvbmRpdGlvbiBpcyB0cnVlIG9ubHkgaW4gZGV2ZWxvcG1lbnQuXG4gICAgLy8gVGhlcmVmb3JlIGlmIHRoZSBicmFuY2ggaXMgc3RpbGwgaGVyZSwgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIHdhc24ndFxuICAgIC8vIHByb3Blcmx5IGFwcGxpZWQuXG4gICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBtZXNzYWdlLiBSZWFjdCBEZXZUb29scyByZWxpZXMgb24gaXQuIEFsc28gbWFrZSBzdXJlXG4gICAgLy8gdGhpcyBtZXNzYWdlIGRvZXNuJ3Qgb2NjdXIgZWxzZXdoZXJlIGluIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgY2F1c2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgIHRocm93IG5ldyBFcnJvcignXl9eJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY29kZSBhYm92ZSBoYXMgYmVlbiBkZWFkIGNvZGUgZWxpbWluYXRlZCAoRENFJ2QpLlxuICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShjaGVja0RDRSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERldlRvb2xzIHNob3VsZG4ndCBjcmFzaCBSZWFjdCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgLy8gV2Ugc2hvdWxkIHN0aWxsIHJlcG9ydCBpbiBjYXNlIHdlIGJyZWFrIHRoaXMgY29kZS5cbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gRENFIGNoZWNrIHNob3VsZCBoYXBwZW4gYmVmb3JlIFJlYWN0RE9NIGJ1bmRsZSBleGVjdXRlcyBzbyB0aGF0XG4gIC8vIERldlRvb2xzIGNhbiByZXBvcnQgYmFkIG1pbmlmaWNhdGlvbiBkdXJpbmcgaW5qZWN0aW9uLlxuICBjaGVja0RDRSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1kb20tY2xpZW50LmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vKlxuIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuKi9cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZmluZEhvb2soZmliZXIsIGlkKSB7XG4gICAgICBmb3IgKGZpYmVyID0gZmliZXIubWVtb2l6ZWRTdGF0ZTsgbnVsbCAhPT0gZmliZXIgJiYgMCA8IGlkOyApXG4gICAgICAgIChmaWJlciA9IGZpYmVyLm5leHQpLCBpZC0tO1xuICAgICAgcmV0dXJuIGZpYmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aFNldEltcGwob2JqLCBwYXRoLCBpbmRleCwgdmFsdWUpIHtcbiAgICAgIGlmIChpbmRleCA+PSBwYXRoLmxlbmd0aCkgcmV0dXJuIHZhbHVlO1xuICAgICAgdmFyIGtleSA9IHBhdGhbaW5kZXhdLFxuICAgICAgICB1cGRhdGVkID0gaXNBcnJheUltcGwob2JqKSA/IG9iai5zbGljZSgpIDogYXNzaWduKHt9LCBvYmopO1xuICAgICAgdXBkYXRlZFtrZXldID0gY29weVdpdGhTZXRJbXBsKG9ialtrZXldLCBwYXRoLCBpbmRleCArIDEsIHZhbHVlKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aFJlbmFtZShvYmosIG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgIGlmIChvbGRQYXRoLmxlbmd0aCAhPT0gbmV3UGF0aC5sZW5ndGgpXG4gICAgICAgIGNvbnNvbGUud2FybihcImNvcHlXaXRoUmVuYW1lKCkgZXhwZWN0cyBwYXRocyBvZiB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdQYXRoLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICBpZiAob2xkUGF0aFtpXSAhPT0gbmV3UGF0aFtpXSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcImNvcHlXaXRoUmVuYW1lKCkgZXhwZWN0cyBwYXRocyB0byBiZSB0aGUgc2FtZSBleGNlcHQgZm9yIHRoZSBkZWVwZXN0IGtleVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcHlXaXRoUmVuYW1lSW1wbChvYmosIG9sZFBhdGgsIG5ld1BhdGgsIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aFJlbmFtZUltcGwob2JqLCBvbGRQYXRoLCBuZXdQYXRoLCBpbmRleCkge1xuICAgICAgdmFyIG9sZEtleSA9IG9sZFBhdGhbaW5kZXhdLFxuICAgICAgICB1cGRhdGVkID0gaXNBcnJheUltcGwob2JqKSA/IG9iai5zbGljZSgpIDogYXNzaWduKHt9LCBvYmopO1xuICAgICAgaW5kZXggKyAxID09PSBvbGRQYXRoLmxlbmd0aFxuICAgICAgICA/ICgodXBkYXRlZFtuZXdQYXRoW2luZGV4XV0gPSB1cGRhdGVkW29sZEtleV0pLFxuICAgICAgICAgIGlzQXJyYXlJbXBsKHVwZGF0ZWQpXG4gICAgICAgICAgICA/IHVwZGF0ZWQuc3BsaWNlKG9sZEtleSwgMSlcbiAgICAgICAgICAgIDogZGVsZXRlIHVwZGF0ZWRbb2xkS2V5XSlcbiAgICAgICAgOiAodXBkYXRlZFtvbGRLZXldID0gY29weVdpdGhSZW5hbWVJbXBsKFxuICAgICAgICAgICAgb2JqW29sZEtleV0sXG4gICAgICAgICAgICBvbGRQYXRoLFxuICAgICAgICAgICAgbmV3UGF0aCxcbiAgICAgICAgICAgIGluZGV4ICsgMVxuICAgICAgICAgICkpO1xuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlXaXRoRGVsZXRlSW1wbChvYmosIHBhdGgsIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0gcGF0aFtpbmRleF0sXG4gICAgICAgIHVwZGF0ZWQgPSBpc0FycmF5SW1wbChvYmopID8gb2JqLnNsaWNlKCkgOiBhc3NpZ24oe30sIG9iaik7XG4gICAgICBpZiAoaW5kZXggKyAxID09PSBwYXRoLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc0FycmF5SW1wbCh1cGRhdGVkKSA/IHVwZGF0ZWQuc3BsaWNlKGtleSwgMSkgOiBkZWxldGUgdXBkYXRlZFtrZXldLFxuICAgICAgICAgIHVwZGF0ZWRcbiAgICAgICAgKTtcbiAgICAgIHVwZGF0ZWRba2V5XSA9IGNvcHlXaXRoRGVsZXRlSW1wbChvYmpba2V5XSwgcGF0aCwgaW5kZXggKyAxKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRTdXNwZW5kSW1wbCgpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkRXJyb3JJbXBsKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgICAgIHJldHVybiBuZXcgRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIkRvIG5vdCBjYWxsIEhvb2tzIGluc2lkZSB1c2VFZmZlY3QoLi4uKSwgdXNlTWVtbyguLi4pLCBvciBvdGhlciBidWlsdC1pbiBIb29rcy4gWW91IGNhbiBvbmx5IGNhbGwgSG9va3MgYXQgdGhlIHRvcCBsZXZlbCBvZiB5b3VyIFJlYWN0IGZ1bmN0aW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcnVsZXMtb2YtaG9va3NcIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJDb250ZXh0IGNhbiBvbmx5IGJlIHJlYWQgd2hpbGUgUmVhY3QgaXMgcmVuZGVyaW5nLiBJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBJbiBmdW5jdGlvbiBjb21wb25lbnRzLCB5b3UgY2FuIHJlYWQgaXQgZGlyZWN0bHkgaW4gdGhlIGZ1bmN0aW9uIGJvZHksIGJ1dCBub3QgaW5zaWRlIEhvb2tzIGxpa2UgdXNlUmVkdWNlcigpIG9yIHVzZU1lbW8oKS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCQyKCkge31cbiAgICBmdW5jdGlvbiB3YXJuRm9yTWlzc2luZ0tleSgpIHt9XG4gICAgZnVuY3Rpb24gc2V0VG9Tb3J0ZWRTdHJpbmcoc2V0KSB7XG4gICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFycmF5LnNvcnQoKS5qb2luKFwiLCBcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUm9vdChyb290LCBlbGVtZW50KSB7XG4gICAgICByb290LmNvbnRleHQgPT09IGVtcHR5Q29udGV4dE9iamVjdCAmJlxuICAgICAgICAodXBkYXRlQ29udGFpbmVyU3luYyhlbGVtZW50LCByb290LCBudWxsLCBudWxsKSwgZmx1c2hTeW5jV29yayQxKCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJlZnJlc2gocm9vdCwgdXBkYXRlKSB7XG4gICAgICBpZiAobnVsbCAhPT0gcmVzb2x2ZUZhbWlseSkge1xuICAgICAgICB2YXIgc3RhbGVGYW1pbGllcyA9IHVwZGF0ZS5zdGFsZUZhbWlsaWVzO1xuICAgICAgICB1cGRhdGUgPSB1cGRhdGUudXBkYXRlZEZhbWlsaWVzO1xuICAgICAgICBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgcm9vdC5jdXJyZW50LFxuICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICBzdGFsZUZhbWlsaWVzXG4gICAgICAgICk7XG4gICAgICAgIGZsdXNoU3luY1dvcmskMSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRSZWZyZXNoSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICByZXNvbHZlRmFtaWx5ID0gaGFuZGxlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZENvbnRhaW5lcihub2RlKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgIW5vZGUgfHxcbiAgICAgICAgKDEgIT09IG5vZGUubm9kZVR5cGUgJiYgOSAhPT0gbm9kZS5ub2RlVHlwZSAmJiAxMSAhPT0gbm9kZS5ub2RlVHlwZSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgICAgaWYgKG51bGwgPT09IG1heWJlSXRlcmFibGUgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG1heWJlSXRlcmFibGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgbWF5YmVJdGVyYWJsZSA9XG4gICAgICAgIChNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgICBtYXliZUl0ZXJhYmxlW1wiQEBpdGVyYXRvclwiXTtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlID8gbWF5YmVJdGVyYWJsZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbU93bmVyKG93bmVyKSB7XG4gICAgICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG93bmVyLnRhZ1xuICAgICAgICA/IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIob3duZXIpXG4gICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG93bmVyLm5hbWVcbiAgICAgICAgICA/IG93bmVyLm5hbWVcbiAgICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHtcbiAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIFwiQ2FjaGVcIjtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIHJldHVybiBcIkRlaHlkcmF0ZWRGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmliZXIgPSB0eXBlLnJlbmRlciksXG4gICAgICAgICAgICAoZmliZXIgPSBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgICAoXCJcIiAhPT0gZmliZXIgPyBcIkZvcndhcmRSZWYoXCIgKyBmaWJlciArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuIFwiUm9vdFwiO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmV0dXJuIFwiVGV4dFwiO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA/IFwiU3RyaWN0TW9kZVwiIDogXCJNb2RlXCI7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0dXJuIFwiT2Zmc2NyZWVuXCI7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICByZXR1cm4gXCJTY29wZVwiO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgcmV0dXJuIFwiVHJhY2luZ01hcmtlclwiO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgdHlwZSA9IGZpYmVyLl9kZWJ1Z0luZm87XG4gICAgICAgICAgaWYgKG51bGwgIT0gdHlwZSlcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0eXBlLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGVbaV0ubmFtZSkgcmV0dXJuIHR5cGVbaV0ubmFtZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gZmliZXIucmV0dXJuKVxuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIucmV0dXJuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG4gICAgZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNhYmxlZERlcHRoKys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAgICAgIGRpc2FibGVkRGVwdGgtLTtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHsgY29uZmlndXJhYmxlOiAhMCwgZW51bWVyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2TG9nIH0pLFxuICAgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZJbmZvIH0pLFxuICAgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZXYXJuIH0pLFxuICAgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2RXJyb3IgfSksXG4gICAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cCB9KSxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkIH0pLFxuICAgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBFbmQgfSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAwID4gZGlzYWJsZWREZXB0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHByZWZpeClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICBwcmVmaXggPSAobWF0Y2ggJiYgbWF0Y2hbMV0pIHx8IFwiXCI7XG4gICAgICAgICAgc3VmZml4ID1cbiAgICAgICAgICAgIC0xIDwgeC5zdGFjay5pbmRleE9mKFwiXFxuICAgIGF0XCIpXG4gICAgICAgICAgICAgID8gXCIgKDxhbm9ueW1vdXM+KVwiXG4gICAgICAgICAgICAgIDogLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJAXCIpXG4gICAgICAgICAgICAgICAgPyBcIkB1bmtub3duOjA6MFwiXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcXG5cIiArIHByZWZpeCArIG5hbWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAgICAgaWYgKCFmbiB8fCByZWVudHJ5KSByZXR1cm4gXCJcIjtcbiAgICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGZyYW1lKSByZXR1cm4gZnJhbWU7XG4gICAgICByZWVudHJ5ID0gITA7XG4gICAgICBmcmFtZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gbnVsbDtcbiAgICAgIGRpc2FibGVMb2dzKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgICAgICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCBcInByb3BzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sID0geCQwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKEZha2UgPSBmbigpKSAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgRmFrZS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgRmFrZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNhbXBsZS5zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NhbXBsZS5zdGFjaywgY29udHJvbC5zdGFja107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LmRpc3BsYXlOYW1lID1cbiAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiO1xuICAgICAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgXCJuYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICAgIFwibmFtZVwiLFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIiB9XG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIF9SdW5JblJvb3RGcmFtZSREZXRlciA9XG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgICBzYW1wbGVTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclswXSxcbiAgICAgICAgICBjb250cm9sU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMV07XG4gICAgICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGVTdGFjay5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2xTdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gbmFtZVByb3BEZXNjcmlwdG9yID0gMDtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIXNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IrKztcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyIDwgY29udHJvbExpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIWNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyKys7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID09PSBzYW1wbGVMaW5lcy5sZW5ndGggfHxcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9PT0gY29udHJvbExpbmVzLmxlbmd0aFxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyICYmXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl07XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS07XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLS0sIF9SdW5JblJvb3RGcmFtZSREZXRlci0tXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgxICE9PSBuYW1lUHJvcERlc2NyaXB0b3IgfHwgMSAhPT0gX1J1bkluUm9vdEZyYW1lJERldGVyKSB7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKG5hbWVQcm9wRGVzY3JpcHRvci0tLFxuICAgICAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLSxcbiAgICAgICAgICAgICAgICAgICAgMCA+IF9SdW5JblJvb3RGcmFtZSREZXRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBuZXcgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZuLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLCBmbi5kaXNwbGF5TmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlICgxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChyZWVudHJ5ID0gITEpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldmlvdXNEaXNwYXRjaGVyKSxcbiAgICAgICAgICByZWVuYWJsZUxvZ3MoKSxcbiAgICAgICAgICAoRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmcmFtZSk7XG4gICAgICB9XG4gICAgICBzYW1wbGVMaW5lcyA9IChzYW1wbGVMaW5lcyA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6IFwiXCIpXG4gICAgICAgID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoc2FtcGxlTGluZXMpXG4gICAgICAgIDogXCJcIjtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzYW1wbGVMaW5lcyk7XG4gICAgICByZXR1cm4gc2FtcGxlTGluZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRmliZXIoZmliZXIpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZSk7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiTGF6eVwiKTtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZVwiKTtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmaWJlci50eXBlLCAhMSkpLCBmaWJlcjtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpYmVyID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmaWJlci50eXBlLnJlbmRlciwgITEpKSwgZmliZXJcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZSwgITApKSwgZmliZXI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGluZm8gPSBcIlwiO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaW5mbyArPSBkZXNjcmliZUZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB2YXIgZGVidWdJbmZvID0gd29ya0luUHJvZ3Jlc3MuX2RlYnVnSW5mbztcbiAgICAgICAgICBpZiAoZGVidWdJbmZvKVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlYnVnSW5mby5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBkZWJ1Z0luZm9baV07XG4gICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgZW50cnkubmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBpbmZvLFxuICAgICAgICAgICAgICAgICAgZW52ID0gZW50cnkuZW52O1xuICAgICAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcbiAgICAgICAgICAgICAgICAgIGVudHJ5Lm5hbWUgKyAoZW52ID8gXCIgW1wiICsgZW52ICsgXCJdXCIgOiBcIlwiKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaW5mbyA9IEpTQ29tcGlsZXJfdGVtcF9jb25zdCArIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICB9IHdoaWxlICh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCJcXG5FcnJvciBnZW5lcmF0aW5nIHN0YWNrOiBcIiArIHgubWVzc2FnZSArIFwiXFxuXCIgKyB4LnN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBvd25lciA9IGN1cnJlbnQuX2RlYnVnT3duZXI7XG4gICAgICByZXR1cm4gbnVsbCAhPSBvd25lciA/IGdldENvbXBvbmVudE5hbWVGcm9tT3duZXIob3duZXIpIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldigpIHtcbiAgICAgIHJldHVybiBudWxsID09PSBjdXJyZW50ID8gXCJcIiA6IGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChjdXJyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuV2l0aEZpYmVySW5ERVYoZmliZXIsIGNhbGxiYWNrLCBhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XG4gICAgICB2YXIgcHJldmlvdXNGaWJlciA9IGN1cnJlbnQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPVxuICAgICAgICBudWxsID09PSBmaWJlciA/IG51bGwgOiBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2O1xuICAgICAgaXNSZW5kZXJpbmcgPSAhMTtcbiAgICAgIGN1cnJlbnQgPSBmaWJlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGN1cnJlbnQgPSBwcmV2aW91c0ZpYmVyO1xuICAgICAgfVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwicnVuV2l0aEZpYmVySW5ERVYgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpbiBwcm9kdWN0aW9uLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKSB7XG4gICAgICB2YXIgbm9kZSA9IGZpYmVyLFxuICAgICAgICBuZWFyZXN0TW91bnRlZCA9IGZpYmVyO1xuICAgICAgaWYgKGZpYmVyLmFsdGVybmF0ZSkgZm9yICg7IG5vZGUucmV0dXJuOyApIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmaWJlciA9IG5vZGU7XG4gICAgICAgIGRvXG4gICAgICAgICAgKG5vZGUgPSBmaWJlciksXG4gICAgICAgICAgICAwICE9PSAobm9kZS5mbGFncyAmIDQwOTgpICYmIChuZWFyZXN0TW91bnRlZCA9IG5vZGUucmV0dXJuKSxcbiAgICAgICAgICAgIChmaWJlciA9IG5vZGUucmV0dXJuKTtcbiAgICAgICAgd2hpbGUgKGZpYmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAzID09PSBub2RlLnRhZyA/IG5lYXJlc3RNb3VudGVkIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VzcGVuc2VJbnN0YW5jZUZyb21GaWJlcihmaWJlcikge1xuICAgICAgaWYgKDEzID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICBudWxsID09PSBzdXNwZW5zZVN0YXRlICYmXG4gICAgICAgICAgKChmaWJlciA9IGZpYmVyLmFsdGVybmF0ZSksXG4gICAgICAgICAgbnVsbCAhPT0gZmliZXIgJiYgKHN1c3BlbnNlU3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlKSk7XG4gICAgICAgIGlmIChudWxsICE9PSBzdXNwZW5zZVN0YXRlKSByZXR1cm4gc3VzcGVuc2VTdGF0ZS5kZWh5ZHJhdGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzc2VydElzTW91bnRlZChmaWJlcikge1xuICAgICAgaWYgKGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpICE9PSBmaWJlcilcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChmaWJlcikge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgICAgIGFsdGVybmF0ZSA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpO1xuICAgICAgICBpZiAobnVsbCA9PT0gYWx0ZXJuYXRlKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgICAgcmV0dXJuIGFsdGVybmF0ZSAhPT0gZmliZXIgPyBudWxsIDogZmliZXI7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBhID0gZmliZXIsIGIgPSBhbHRlcm5hdGU7IDsgKSB7XG4gICAgICAgIHZhciBwYXJlbnRBID0gYS5yZXR1cm47XG4gICAgICAgIGlmIChudWxsID09PSBwYXJlbnRBKSBicmVhaztcbiAgICAgICAgdmFyIHBhcmVudEIgPSBwYXJlbnRBLmFsdGVybmF0ZTtcbiAgICAgICAgaWYgKG51bGwgPT09IHBhcmVudEIpIHtcbiAgICAgICAgICBiID0gcGFyZW50QS5yZXR1cm47XG4gICAgICAgICAgaWYgKG51bGwgIT09IGIpIHtcbiAgICAgICAgICAgIGEgPSBiO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRBLmNoaWxkID09PSBwYXJlbnRCLmNoaWxkKSB7XG4gICAgICAgICAgZm9yIChwYXJlbnRCID0gcGFyZW50QS5jaGlsZDsgcGFyZW50QjsgKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50QiA9PT0gYSkgcmV0dXJuIGFzc2VydElzTW91bnRlZChwYXJlbnRBKSwgZmliZXI7XG4gICAgICAgICAgICBpZiAocGFyZW50QiA9PT0gYikgcmV0dXJuIGFzc2VydElzTW91bnRlZChwYXJlbnRBKSwgYWx0ZXJuYXRlO1xuICAgICAgICAgICAgcGFyZW50QiA9IHBhcmVudEIuc2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLnJldHVybiAhPT0gYi5yZXR1cm4pIChhID0gcGFyZW50QSksIChiID0gcGFyZW50Qik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGZvciAodmFyIGRpZEZpbmRDaGlsZCA9ICExLCBfY2hpbGQgPSBwYXJlbnRBLmNoaWxkOyBfY2hpbGQ7ICkge1xuICAgICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkaWRGaW5kQ2hpbGQpIHtcbiAgICAgICAgICAgIGZvciAoX2NoaWxkID0gcGFyZW50Qi5jaGlsZDsgX2NoaWxkOyApIHtcbiAgICAgICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9ICEwO1xuICAgICAgICAgICAgICAgIGEgPSBwYXJlbnRCO1xuICAgICAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgICBhID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlkRmluZENoaWxkKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkNoaWxkIHdhcyBub3QgZm91bmQgaW4gZWl0aGVyIHBhcmVudCBzZXQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0IHJlbGF0ZWQgdG8gdGhlIHJldHVybiBwb2ludGVyLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5hbHRlcm5hdGUgIT09IGIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJldHVybiBmaWJlcnMgc2hvdWxkIGFsd2F5cyBiZSBlYWNoIG90aGVycycgYWx0ZXJuYXRlcy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoMyAhPT0gYS50YWcpXG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgIHJldHVybiBhLnN0YXRlTm9kZS5jdXJyZW50ID09PSBhID8gZmliZXIgOiBhbHRlcm5hdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRDdXJyZW50SG9zdEZpYmVySW1wbChub2RlKSB7XG4gICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDI2ID09PSB0YWcgfHwgMjcgPT09IHRhZyB8fCA2ID09PSB0YWcpIHJldHVybiBub2RlO1xuICAgICAgZm9yIChub2RlID0gbm9kZS5jaGlsZDsgbnVsbCAhPT0gbm9kZTsgKSB7XG4gICAgICAgIHRhZyA9IGZpbmRDdXJyZW50SG9zdEZpYmVySW1wbChub2RlKTtcbiAgICAgICAgaWYgKG51bGwgIT09IHRhZykgcmV0dXJuIHRhZztcbiAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJzb3IoZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4geyBjdXJyZW50OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wKGN1cnNvciwgZmliZXIpIHtcbiAgICAgIDAgPiBpbmRleCRqc2NvbXAkMFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIHBvcC5cIilcbiAgICAgICAgOiAoZmliZXIgIT09IGZpYmVyU3RhY2tbaW5kZXgkanNjb21wJDBdICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBGaWJlciBwb3BwZWQuXCIpLFxuICAgICAgICAgIChjdXJzb3IuY3VycmVudCA9IHZhbHVlU3RhY2tbaW5kZXgkanNjb21wJDBdKSxcbiAgICAgICAgICAodmFsdWVTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBudWxsKSxcbiAgICAgICAgICAoZmliZXJTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBudWxsKSxcbiAgICAgICAgICBpbmRleCRqc2NvbXAkMC0tKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaChjdXJzb3IsIHZhbHVlLCBmaWJlcikge1xuICAgICAgaW5kZXgkanNjb21wJDArKztcbiAgICAgIHZhbHVlU3RhY2tbaW5kZXgkanNjb21wJDBdID0gY3Vyc29yLmN1cnJlbnQ7XG4gICAgICBmaWJlclN0YWNrW2luZGV4JGpzY29tcCQwXSA9IGZpYmVyO1xuICAgICAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWlyZWRDb250ZXh0KGMpIHtcbiAgICAgIG51bGwgPT09IGMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIGhvc3QgY29udGV4dCB0byBleGlzdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hIb3N0Q29udGFpbmVyKGZpYmVyLCBuZXh0Um9vdEluc3RhbmNlKSB7XG4gICAgICBwdXNoKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBuZXh0Um9vdEluc3RhbmNlLCBmaWJlcik7XG4gICAgICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICAgICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG51bGwsIGZpYmVyKTtcbiAgICAgIHZhciBuZXh0Um9vdENvbnRleHQgPSBuZXh0Um9vdEluc3RhbmNlLm5vZGVUeXBlO1xuICAgICAgc3dpdGNoIChuZXh0Um9vdENvbnRleHQpIHtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG5leHRSb290Q29udGV4dCA9IDkgPT09IG5leHRSb290Q29udGV4dCA/IFwiI2RvY3VtZW50XCIgOiBcIiNmcmFnbWVudFwiO1xuICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSAobmV4dFJvb3RJbnN0YW5jZSA9XG4gICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlLmRvY3VtZW50RWxlbWVudClcbiAgICAgICAgICAgID8gKG5leHRSb290SW5zdGFuY2UgPSBuZXh0Um9vdEluc3RhbmNlLm5hbWVzcGFjZVVSSSlcbiAgICAgICAgICAgICAgPyBnZXRPd25Ib3N0Q29udGV4dChuZXh0Um9vdEluc3RhbmNlKVxuICAgICAgICAgICAgICA6IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZVxuICAgICAgICAgICAgOiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKChuZXh0Um9vdEluc3RhbmNlID1cbiAgICAgICAgICAgICAgOCA9PT0gbmV4dFJvb3RDb250ZXh0XG4gICAgICAgICAgICAgICAgPyBuZXh0Um9vdEluc3RhbmNlLnBhcmVudE5vZGVcbiAgICAgICAgICAgICAgICA6IG5leHRSb290SW5zdGFuY2UpLFxuICAgICAgICAgICAgKG5leHRSb290Q29udGV4dCA9IG5leHRSb290SW5zdGFuY2UudGFnTmFtZSksXG4gICAgICAgICAgICAobmV4dFJvb3RJbnN0YW5jZSA9IG5leHRSb290SW5zdGFuY2UubmFtZXNwYWNlVVJJKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICAobmV4dFJvb3RJbnN0YW5jZSA9IGdldE93bkhvc3RDb250ZXh0KG5leHRSb290SW5zdGFuY2UpKSxcbiAgICAgICAgICAgICAgKG5leHRSb290SW5zdGFuY2UgPSBnZXRDaGlsZEhvc3RDb250ZXh0UHJvZChcbiAgICAgICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIG5leHRSb290Q29udGV4dFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKG5leHRSb290Q29udGV4dCkge1xuICAgICAgICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSA9IEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwibWF0aFwiOlxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSA9IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5leHRSb290Q29udGV4dCA9IG5leHRSb290Q29udGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgbmV4dFJvb3RDb250ZXh0ID0gdXBkYXRlZEFuY2VzdG9ySW5mb0RldihudWxsLCBuZXh0Um9vdENvbnRleHQpO1xuICAgICAgbmV4dFJvb3RDb250ZXh0ID0ge1xuICAgICAgICBjb250ZXh0OiBuZXh0Um9vdEluc3RhbmNlLFxuICAgICAgICBhbmNlc3RvckluZm86IG5leHRSb290Q29udGV4dFxuICAgICAgfTtcbiAgICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Um9vdENvbnRleHQsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSG9zdENvbnRhaW5lcihmaWJlcikge1xuICAgICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwb3Aocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SG9zdENvbnRleHQoKSB7XG4gICAgICByZXR1cm4gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gICAgICBudWxsICE9PSBmaWJlci5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgIHB1c2goaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvciwgZmliZXIsIGZpYmVyKTtcbiAgICAgIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgIHZhciBuZXh0Q29udGV4dCA9IGdldENoaWxkSG9zdENvbnRleHRQcm9kKGNvbnRleHQuY29udGV4dCwgdHlwZSk7XG4gICAgICB0eXBlID0gdXBkYXRlZEFuY2VzdG9ySW5mb0Rldihjb250ZXh0LmFuY2VzdG9ySW5mbywgdHlwZSk7XG4gICAgICBuZXh0Q29udGV4dCA9IHsgY29udGV4dDogbmV4dENvbnRleHQsIGFuY2VzdG9ySW5mbzogdHlwZSB9O1xuICAgICAgY29udGV4dCAhPT0gbmV4dENvbnRleHQgJiZcbiAgICAgICAgKHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlciksXG4gICAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Q29udGV4dCwgZmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICAgIGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLmN1cnJlbnQgPT09IGZpYmVyICYmXG4gICAgICAgIChwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlciksIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpKTtcbiAgICAgIGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IuY3VycmVudCA9PT0gZmliZXIgJiZcbiAgICAgICAgKHBvcChob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yLCBmaWJlciksXG4gICAgICAgIChIb3N0VHJhbnNpdGlvbkNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IE5vdFBlbmRpbmdUcmFuc2l0aW9uKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHR5cGVOYW1lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICBcIk9iamVjdFwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSksICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcHJvdmlkZWQgYCVzYCBhdHRyaWJ1dGUgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgdHlwZU5hbWUodmFsdWUpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGAlc2AgQ1NTIHByb3BlcnR5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgICB0eXBlTmFtZSh2YWx1ZSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkZvcm0gZmllbGQgdmFsdWVzICh2YWx1ZSwgY2hlY2tlZCwgZGVmYXVsdFZhbHVlLCBvciBkZWZhdWx0Q2hlY2tlZCBwcm9wcykgbXVzdCBiZSBzdHJpbmdzLCBub3QgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgICAgdHlwZU5hbWUodmFsdWUpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluamVjdEludGVybmFscyhpbnRlcm5hbHMpIHtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKSByZXR1cm4gITE7XG4gICAgICB2YXIgaG9vayA9IF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcbiAgICAgIGlmIChob29rLmlzRGlzYWJsZWQpIHJldHVybiAhMDtcbiAgICAgIGlmICghaG9vay5zdXBwb3J0c0ZpYmVyKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBpbnN0YWxsZWQgdmVyc2lvbiBvZiBSZWFjdCBEZXZUb29scyBpcyB0b28gb2xkIGFuZCB3aWxsIG5vdCB3b3JrIHdpdGggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBSZWFjdC4gUGxlYXNlIHVwZGF0ZSBSZWFjdCBEZXZUb29scy4gaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1kZXZ0b29sc1wiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAhMFxuICAgICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpKSwgKGluamVjdGVkSG9vayA9IGhvb2spO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzLlwiLCBlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvb2suY2hlY2tEQ0UgPyAhMCA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNvbW1pdFJvb3QkMShyb290LCBldmVudFByaW9yaXR5KSB7XG4gICAgICBpZiAoaW5qZWN0ZWRIb29rICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyUm9vdClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgZGlkRXJyb3IgPSAxMjggPT09IChyb290LmN1cnJlbnQuZmxhZ3MgJiAxMjgpO1xuICAgICAgICAgIHN3aXRjaCAoZXZlbnRQcmlvcml0eSkge1xuICAgICAgICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHZhciBzY2hlZHVsZXJQcmlvcml0eSA9IEltbWVkaWF0ZVByaW9yaXR5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29udGludW91c0V2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gVXNlckJsb2NraW5nUHJpb3JpdHk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBEZWZhdWx0RXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHkgPSBOb3JtYWxQcmlvcml0eSQxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSWRsZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gSWRsZVByaW9yaXR5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5qZWN0ZWRIb29rLm9uQ29tbWl0RmliZXJSb290KFxuICAgICAgICAgICAgcmVuZGVyZXJJRCxcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSxcbiAgICAgICAgICAgIGRpZEVycm9yXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyhuZXdJc1N0cmljdE1vZGUpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxvZyQxICYmXG4gICAgICAgIHVuc3RhYmxlX3NldERpc2FibGVZaWVsZFZhbHVlKG5ld0lzU3RyaWN0TW9kZSk7XG4gICAgICBpZiAoaW5qZWN0ZWRIb29rICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5zZXRTdHJpY3RNb2RlKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGluamVjdGVkSG9vay5zZXRTdHJpY3RNb2RlKHJlbmRlcmVySUQsIG5ld0lzU3RyaWN0TW9kZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5qZWN0UHJvZmlsaW5nSG9va3MocHJvZmlsaW5nSG9va3MpIHtcbiAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MgPSBwcm9maWxpbmdIb29rcztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0NvbW1pdFN0b3BwZWQoKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0b3BwZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tbWl0U3RvcHBlZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZChmaWJlcikge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZChmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmVuZGVyU3RhcnRlZChsYW5lcykge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdGFydGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmVuZGVyU3RvcHBlZCgpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RvcHBlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdG9wcGVkKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgbGFuZSkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgbGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsejMyRmFsbGJhY2soeCkge1xuICAgICAgeCA+Pj49IDA7XG4gICAgICByZXR1cm4gMCA9PT0geCA/IDMyIDogKDMxIC0gKChsb2coeCkgLyBMTjIpIHwgMCkpIHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGFiZWxGb3JMYW5lKGxhbmUpIHtcbiAgICAgIGlmIChsYW5lICYgMSkgcmV0dXJuIFwiU3luY0h5ZHJhdGlvbkxhbmVcIjtcbiAgICAgIGlmIChsYW5lICYgMikgcmV0dXJuIFwiU3luY1wiO1xuICAgICAgaWYgKGxhbmUgJiA0KSByZXR1cm4gXCJJbnB1dENvbnRpbnVvdXNIeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgOCkgcmV0dXJuIFwiSW5wdXRDb250aW51b3VzXCI7XG4gICAgICBpZiAobGFuZSAmIDE2KSByZXR1cm4gXCJEZWZhdWx0SHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDMyKSByZXR1cm4gXCJEZWZhdWx0XCI7XG4gICAgICBpZiAobGFuZSAmIDY0KSByZXR1cm4gXCJUcmFuc2l0aW9uSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDQxOTQxNzYpIHJldHVybiBcIlRyYW5zaXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgNjI5MTQ1NjApIHJldHVybiBcIlJldHJ5XCI7XG4gICAgICBpZiAobGFuZSAmIDY3MTA4ODY0KSByZXR1cm4gXCJTZWxlY3RpdmVIeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgMTM0MjE3NzI4KSByZXR1cm4gXCJJZGxlSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDI2ODQzNTQ1NikgcmV0dXJuIFwiSWRsZVwiO1xuICAgICAgaWYgKGxhbmUgJiA1MzY4NzA5MTIpIHJldHVybiBcIk9mZnNjcmVlblwiO1xuICAgICAgaWYgKGxhbmUgJiAxMDczNzQxODI0KSByZXR1cm4gXCJEZWZlcnJlZFwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhsYW5lcykge1xuICAgICAgdmFyIHBlbmRpbmdTeW5jTGFuZXMgPSBsYW5lcyAmIDQyO1xuICAgICAgaWYgKDAgIT09IHBlbmRpbmdTeW5jTGFuZXMpIHJldHVybiBwZW5kaW5nU3luY0xhbmVzO1xuICAgICAgc3dpdGNoIChsYW5lcyAmIC1sYW5lcykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIDg7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIDE2O1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIHJldHVybiAzMjtcbiAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICByZXR1cm4gNjQ7XG4gICAgICAgIGNhc2UgMTI4OlxuICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgY2FzZSA1MTI6XG4gICAgICAgIGNhc2UgMTAyNDpcbiAgICAgICAgY2FzZSAyMDQ4OlxuICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgY2FzZSAxNjM4NDpcbiAgICAgICAgY2FzZSAzMjc2ODpcbiAgICAgICAgY2FzZSA2NTUzNjpcbiAgICAgICAgY2FzZSAxMzEwNzI6XG4gICAgICAgIGNhc2UgMjYyMTQ0OlxuICAgICAgICBjYXNlIDUyNDI4ODpcbiAgICAgICAgY2FzZSAxMDQ4NTc2OlxuICAgICAgICBjYXNlIDIwOTcxNTI6XG4gICAgICAgICAgcmV0dXJuIGxhbmVzICYgNDE5NDE3NjtcbiAgICAgICAgY2FzZSA0MTk0MzA0OlxuICAgICAgICBjYXNlIDgzODg2MDg6XG4gICAgICAgIGNhc2UgMTY3NzcyMTY6XG4gICAgICAgIGNhc2UgMzM1NTQ0MzI6XG4gICAgICAgICAgcmV0dXJuIGxhbmVzICYgNjI5MTQ1NjA7XG4gICAgICAgIGNhc2UgNjcxMDg4NjQ6XG4gICAgICAgICAgcmV0dXJuIDY3MTA4ODY0O1xuICAgICAgICBjYXNlIDEzNDIxNzcyODpcbiAgICAgICAgICByZXR1cm4gMTM0MjE3NzI4O1xuICAgICAgICBjYXNlIDI2ODQzNTQ1NjpcbiAgICAgICAgICByZXR1cm4gMjY4NDM1NDU2O1xuICAgICAgICBjYXNlIDUzNjg3MDkxMjpcbiAgICAgICAgICByZXR1cm4gNTM2ODcwOTEyO1xuICAgICAgICBjYXNlIDEwNzM3NDE4MjQ6XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgZm91bmQgbWF0Y2hpbmcgbGFuZXMuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5leHRMYW5lcyhyb290LCB3aXBMYW5lcykge1xuICAgICAgdmFyIHBlbmRpbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgaWYgKDAgPT09IHBlbmRpbmdMYW5lcykgcmV0dXJuIDA7XG4gICAgICB2YXIgbmV4dExhbmVzID0gMCxcbiAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSByb290LnN1c3BlbmRlZExhbmVzLFxuICAgICAgICBwaW5nZWRMYW5lcyA9IHJvb3QucGluZ2VkTGFuZXMsXG4gICAgICAgIHdhcm1MYW5lcyA9IHJvb3Qud2FybUxhbmVzO1xuICAgICAgcm9vdCA9IDAgIT09IHJvb3QuZmluaXNoZWRMYW5lcztcbiAgICAgIHZhciBub25JZGxlUGVuZGluZ0xhbmVzID0gcGVuZGluZ0xhbmVzICYgMTM0MjE3NzI3O1xuICAgICAgMCAhPT0gbm9uSWRsZVBlbmRpbmdMYW5lc1xuICAgICAgICA/ICgocGVuZGluZ0xhbmVzID0gbm9uSWRsZVBlbmRpbmdMYW5lcyAmIH5zdXNwZW5kZWRMYW5lcyksXG4gICAgICAgICAgMCAhPT0gcGVuZGluZ0xhbmVzXG4gICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhwZW5kaW5nTGFuZXMpKVxuICAgICAgICAgICAgOiAoKHBpbmdlZExhbmVzICY9IG5vbklkbGVQZW5kaW5nTGFuZXMpLFxuICAgICAgICAgICAgICAwICE9PSBwaW5nZWRMYW5lc1xuICAgICAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHBpbmdlZExhbmVzKSlcbiAgICAgICAgICAgICAgICA6IHJvb3QgfHxcbiAgICAgICAgICAgICAgICAgICgod2FybUxhbmVzID0gbm9uSWRsZVBlbmRpbmdMYW5lcyAmIH53YXJtTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgMCAhPT0gd2FybUxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyh3YXJtTGFuZXMpKSkpKVxuICAgICAgICA6ICgobm9uSWRsZVBlbmRpbmdMYW5lcyA9IHBlbmRpbmdMYW5lcyAmIH5zdXNwZW5kZWRMYW5lcyksXG4gICAgICAgICAgMCAhPT0gbm9uSWRsZVBlbmRpbmdMYW5lc1xuICAgICAgICAgICAgPyAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMobm9uSWRsZVBlbmRpbmdMYW5lcykpXG4gICAgICAgICAgICA6IDAgIT09IHBpbmdlZExhbmVzXG4gICAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHBpbmdlZExhbmVzKSlcbiAgICAgICAgICAgICAgOiByb290IHx8XG4gICAgICAgICAgICAgICAgKCh3YXJtTGFuZXMgPSBwZW5kaW5nTGFuZXMgJiB+d2FybUxhbmVzKSxcbiAgICAgICAgICAgICAgICAwICE9PSB3YXJtTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyh3YXJtTGFuZXMpKSkpO1xuICAgICAgcmV0dXJuIDAgPT09IG5leHRMYW5lc1xuICAgICAgICA/IDBcbiAgICAgICAgOiAwICE9PSB3aXBMYW5lcyAmJlxuICAgICAgICAgICAgd2lwTGFuZXMgIT09IG5leHRMYW5lcyAmJlxuICAgICAgICAgICAgMCA9PT0gKHdpcExhbmVzICYgc3VzcGVuZGVkTGFuZXMpICYmXG4gICAgICAgICAgICAoKHN1c3BlbmRlZExhbmVzID0gbmV4dExhbmVzICYgLW5leHRMYW5lcyksXG4gICAgICAgICAgICAod2FybUxhbmVzID0gd2lwTGFuZXMgJiAtd2lwTGFuZXMpLFxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPj0gd2FybUxhbmVzIHx8XG4gICAgICAgICAgICAgICgzMiA9PT0gc3VzcGVuZGVkTGFuZXMgJiYgMCAhPT0gKHdhcm1MYW5lcyAmIDQxOTQxNzYpKSlcbiAgICAgICAgICA/IHdpcExhbmVzXG4gICAgICAgICAgOiBuZXh0TGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDAgPT09XG4gICAgICAgIChyb290LnBlbmRpbmdMYW5lcyAmXG4gICAgICAgICAgfihyb290LnN1c3BlbmRlZExhbmVzICYgfnJvb3QucGluZ2VkTGFuZXMpICZcbiAgICAgICAgICByZW5kZXJMYW5lcylcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXB1dGVFeHBpcmF0aW9uVGltZShsYW5lLCBjdXJyZW50VGltZSkge1xuICAgICAgc3dpdGNoIChsYW5lKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gY3VycmVudFRpbWUgKyAyNTA7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgIGNhc2UgNjQ6XG4gICAgICAgIGNhc2UgMTI4OlxuICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgY2FzZSA1MTI6XG4gICAgICAgIGNhc2UgMTAyNDpcbiAgICAgICAgY2FzZSAyMDQ4OlxuICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgY2FzZSAxNjM4NDpcbiAgICAgICAgY2FzZSAzMjc2ODpcbiAgICAgICAgY2FzZSA2NTUzNjpcbiAgICAgICAgY2FzZSAxMzEwNzI6XG4gICAgICAgIGNhc2UgMjYyMTQ0OlxuICAgICAgICBjYXNlIDUyNDI4ODpcbiAgICAgICAgY2FzZSAxMDQ4NTc2OlxuICAgICAgICBjYXNlIDIwOTcxNTI6XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lICsgNWUzO1xuICAgICAgICBjYXNlIDQxOTQzMDQ6XG4gICAgICAgIGNhc2UgODM4ODYwODpcbiAgICAgICAgY2FzZSAxNjc3NzIxNjpcbiAgICAgICAgY2FzZSAzMzU1NDQzMjpcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGNhc2UgNjcxMDg4NjQ6XG4gICAgICAgIGNhc2UgMTM0MjE3NzI4OlxuICAgICAgICBjYXNlIDI2ODQzNTQ1NjpcbiAgICAgICAgY2FzZSA1MzY4NzA5MTI6XG4gICAgICAgIGNhc2UgMTA3Mzc0MTgyNDpcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgZm91bmQgbWF0Y2hpbmcgbGFuZXMuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAtMVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsYWltTmV4dFRyYW5zaXRpb25MYW5lKCkge1xuICAgICAgdmFyIGxhbmUgPSBuZXh0VHJhbnNpdGlvbkxhbmU7XG4gICAgICBuZXh0VHJhbnNpdGlvbkxhbmUgPDw9IDE7XG4gICAgICAwID09PSAobmV4dFRyYW5zaXRpb25MYW5lICYgNDE5NDE3NikgJiYgKG5leHRUcmFuc2l0aW9uTGFuZSA9IDEyOCk7XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xhaW1OZXh0UmV0cnlMYW5lKCkge1xuICAgICAgdmFyIGxhbmUgPSBuZXh0UmV0cnlMYW5lO1xuICAgICAgbmV4dFJldHJ5TGFuZSA8PD0gMTtcbiAgICAgIDAgPT09IChuZXh0UmV0cnlMYW5lICYgNjI5MTQ1NjApICYmIChuZXh0UmV0cnlMYW5lID0gNDE5NDMwNCk7XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlTGFuZU1hcChpbml0aWFsKSB7XG4gICAgICBmb3IgKHZhciBsYW5lTWFwID0gW10sIGkgPSAwOyAzMSA+IGk7IGkrKykgbGFuZU1hcC5wdXNoKGluaXRpYWwpO1xuICAgICAgcmV0dXJuIGxhbmVNYXA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290VXBkYXRlZCQxKHJvb3QsIHVwZGF0ZUxhbmUpIHtcbiAgICAgIHJvb3QucGVuZGluZ0xhbmVzIHw9IHVwZGF0ZUxhbmU7XG4gICAgICAyNjg0MzU0NTYgIT09IHVwZGF0ZUxhbmUgJiZcbiAgICAgICAgKChyb290LnN1c3BlbmRlZExhbmVzID0gMCksXG4gICAgICAgIChyb290LnBpbmdlZExhbmVzID0gMCksXG4gICAgICAgIChyb290Lndhcm1MYW5lcyA9IDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1Jvb3RGaW5pc2hlZChcbiAgICAgIHJvb3QsXG4gICAgICBmaW5pc2hlZExhbmVzLFxuICAgICAgcmVtYWluaW5nTGFuZXMsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXNcbiAgICApIHtcbiAgICAgIHZhciBwcmV2aW91c2x5UGVuZGluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICByb290LnBlbmRpbmdMYW5lcyA9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5zdXNwZW5kZWRMYW5lcyA9IDA7XG4gICAgICByb290LnBpbmdlZExhbmVzID0gMDtcbiAgICAgIHJvb3Qud2FybUxhbmVzID0gMDtcbiAgICAgIHJvb3QuZXhwaXJlZExhbmVzICY9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5lbnRhbmdsZWRMYW5lcyAmPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3QuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgJj0gcmVtYWluaW5nTGFuZXM7XG4gICAgICByb290LnNoZWxsU3VzcGVuZENvdW50ZXIgPSAwO1xuICAgICAgdmFyIGVudGFuZ2xlbWVudHMgPSByb290LmVudGFuZ2xlbWVudHMsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lcyA9IHJvb3QuZXhwaXJhdGlvblRpbWVzLFxuICAgICAgICBoaWRkZW5VcGRhdGVzID0gcm9vdC5oaWRkZW5VcGRhdGVzO1xuICAgICAgZm9yIChcbiAgICAgICAgcmVtYWluaW5nTGFuZXMgPSBwcmV2aW91c2x5UGVuZGluZ0xhbmVzICYgfnJlbWFpbmluZ0xhbmVzO1xuICAgICAgICAwIDwgcmVtYWluaW5nTGFuZXM7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKHJlbWFpbmluZ0xhbmVzKSxcbiAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgZW50YW5nbGVtZW50c1tpbmRleF0gPSAwO1xuICAgICAgICBleHBpcmF0aW9uVGltZXNbaW5kZXhdID0gLTE7XG4gICAgICAgIHZhciBoaWRkZW5VcGRhdGVzRm9yTGFuZSA9IGhpZGRlblVwZGF0ZXNbaW5kZXhdO1xuICAgICAgICBpZiAobnVsbCAhPT0gaGlkZGVuVXBkYXRlc0ZvckxhbmUpXG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIGhpZGRlblVwZGF0ZXNbaW5kZXhdID0gbnVsbCwgaW5kZXggPSAwO1xuICAgICAgICAgICAgaW5kZXggPCBoaWRkZW5VcGRhdGVzRm9yTGFuZS5sZW5ndGg7XG4gICAgICAgICAgICBpbmRleCsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgdXBkYXRlID0gaGlkZGVuVXBkYXRlc0ZvckxhbmVbaW5kZXhdO1xuICAgICAgICAgICAgbnVsbCAhPT0gdXBkYXRlICYmICh1cGRhdGUubGFuZSAmPSAtNTM2ODcwOTEzKTtcbiAgICAgICAgICB9XG4gICAgICAgIHJlbWFpbmluZ0xhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgICAgMCAhPT0gc3Bhd25lZExhbmUgJiYgbWFya1NwYXduZWREZWZlcnJlZExhbmUocm9vdCwgc3Bhd25lZExhbmUsIDApO1xuICAgICAgMCAhPT0gc3VzcGVuZGVkUmV0cnlMYW5lcyAmJlxuICAgICAgICAwID09PSB1cGRhdGVkTGFuZXMgJiZcbiAgICAgICAgMCAhPT0gcm9vdC50YWcgJiZcbiAgICAgICAgKHJvb3Quc3VzcGVuZGVkTGFuZXMgfD1cbiAgICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzICYgfihwcmV2aW91c2x5UGVuZGluZ0xhbmVzICYgfmZpbmlzaGVkTGFuZXMpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1NwYXduZWREZWZlcnJlZExhbmUocm9vdCwgc3Bhd25lZExhbmUsIGVudGFuZ2xlZExhbmVzKSB7XG4gICAgICByb290LnBlbmRpbmdMYW5lcyB8PSBzcGF3bmVkTGFuZTtcbiAgICAgIHJvb3Quc3VzcGVuZGVkTGFuZXMgJj0gfnNwYXduZWRMYW5lO1xuICAgICAgdmFyIHNwYXduZWRMYW5lSW5kZXggPSAzMSAtIGNsejMyKHNwYXduZWRMYW5lKTtcbiAgICAgIHJvb3QuZW50YW5nbGVkTGFuZXMgfD0gc3Bhd25lZExhbmU7XG4gICAgICByb290LmVudGFuZ2xlbWVudHNbc3Bhd25lZExhbmVJbmRleF0gPVxuICAgICAgICByb290LmVudGFuZ2xlbWVudHNbc3Bhd25lZExhbmVJbmRleF0gfFxuICAgICAgICAxMDczNzQxODI0IHxcbiAgICAgICAgKGVudGFuZ2xlZExhbmVzICYgNDE5NDIxOCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290RW50YW5nbGVkKHJvb3QsIGVudGFuZ2xlZExhbmVzKSB7XG4gICAgICB2YXIgcm9vdEVudGFuZ2xlZExhbmVzID0gKHJvb3QuZW50YW5nbGVkTGFuZXMgfD0gZW50YW5nbGVkTGFuZXMpO1xuICAgICAgZm9yIChyb290ID0gcm9vdC5lbnRhbmdsZW1lbnRzOyByb290RW50YW5nbGVkTGFuZXM7ICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKHJvb3RFbnRhbmdsZWRMYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgIChsYW5lICYgZW50YW5nbGVkTGFuZXMpIHwgKHJvb3RbaW5kZXhdICYgZW50YW5nbGVkTGFuZXMpICYmXG4gICAgICAgICAgKHJvb3RbaW5kZXhdIHw9IGVudGFuZ2xlZExhbmVzKTtcbiAgICAgICAgcm9vdEVudGFuZ2xlZExhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRGaWJlclRvTGFuZXNNYXAocm9vdCwgZmliZXIsIGxhbmVzKSB7XG4gICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpXG4gICAgICAgIGZvciAocm9vdCA9IHJvb3QucGVuZGluZ1VwZGF0ZXJzTGFuZU1hcDsgMCA8IGxhbmVzOyApIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKSxcbiAgICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICAgIHJvb3RbaW5kZXhdLmFkZChmaWJlcik7XG4gICAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbW92ZVBlbmRpbmdGaWJlcnNUb01lbW9pemVkKHJvb3QsIGxhbmVzKSB7XG4gICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIHBlbmRpbmdVcGRhdGVyc0xhbmVNYXAgPSByb290LnBlbmRpbmdVcGRhdGVyc0xhbmVNYXAsXG4gICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzID0gcm9vdC5tZW1vaXplZFVwZGF0ZXJzO1xuICAgICAgICAgIDAgPCBsYW5lcztcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKTtcbiAgICAgICAgICByb290ID0gMSA8PCBpbmRleDtcbiAgICAgICAgICBpbmRleCA9IHBlbmRpbmdVcGRhdGVyc0xhbmVNYXBbaW5kZXhdO1xuICAgICAgICAgIDAgPCBpbmRleC5zaXplICYmXG4gICAgICAgICAgICAoaW5kZXguZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgICAgICAgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBtZW1vaXplZFVwZGF0ZXJzLmhhcyhhbHRlcm5hdGUpKSB8fFxuICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMuYWRkKGZpYmVyKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaW5kZXguY2xlYXIoKSk7XG4gICAgICAgICAgbGFuZXMgJj0gfnJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbGFuZXNUb0V2ZW50UHJpb3JpdHkobGFuZXMpIHtcbiAgICAgIGxhbmVzICY9IC1sYW5lcztcbiAgICAgIHJldHVybiAwICE9PSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkgJiYgRGlzY3JldGVFdmVudFByaW9yaXR5IDwgbGFuZXNcbiAgICAgICAgPyAwICE9PSBDb250aW51b3VzRXZlbnRQcmlvcml0eSAmJiBDb250aW51b3VzRXZlbnRQcmlvcml0eSA8IGxhbmVzXG4gICAgICAgICAgPyAwICE9PSAobGFuZXMgJiAxMzQyMTc3MjcpXG4gICAgICAgICAgICA/IERlZmF1bHRFdmVudFByaW9yaXR5XG4gICAgICAgICAgICA6IElkbGVFdmVudFByaW9yaXR5XG4gICAgICAgICAgOiBDb250aW51b3VzRXZlbnRQcmlvcml0eVxuICAgICAgICA6IERpc2NyZXRlRXZlbnRQcmlvcml0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVwZGF0ZVByaW9yaXR5KCkge1xuICAgICAgdmFyIHVwZGF0ZVByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIGlmICgwICE9PSB1cGRhdGVQcmlvcml0eSkgcmV0dXJuIHVwZGF0ZVByaW9yaXR5O1xuICAgICAgdXBkYXRlUHJpb3JpdHkgPSB3aW5kb3cuZXZlbnQ7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSB1cGRhdGVQcmlvcml0eVxuICAgICAgICA/IERlZmF1bHRFdmVudFByaW9yaXR5XG4gICAgICAgIDogZ2V0RXZlbnRQcmlvcml0eSh1cGRhdGVQcmlvcml0eS50eXBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuV2l0aFByaW9yaXR5KHByaW9yaXR5LCBmbikge1xuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJpb3JpdHkpLCBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGFjaERlbGV0ZWRJbnN0YW5jZShub2RlKSB7XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsUHJvcHNLZXldO1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyTGlzdGVuZXJzS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVzU2V0S2V5XTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgdmFyIHRhcmdldEluc3QgPSB0YXJnZXROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICAgICAgaWYgKHRhcmdldEluc3QpIHJldHVybiB0YXJnZXRJbnN0O1xuICAgICAgZm9yICh2YXIgcGFyZW50Tm9kZSA9IHRhcmdldE5vZGUucGFyZW50Tm9kZTsgcGFyZW50Tm9kZTsgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAodGFyZ2V0SW5zdCA9XG4gICAgICAgICAgICBwYXJlbnROb2RlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldIHx8XG4gICAgICAgICAgICBwYXJlbnROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldKVxuICAgICAgICApIHtcbiAgICAgICAgICBwYXJlbnROb2RlID0gdGFyZ2V0SW5zdC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0SW5zdC5jaGlsZCB8fFxuICAgICAgICAgICAgKG51bGwgIT09IHBhcmVudE5vZGUgJiYgbnVsbCAhPT0gcGFyZW50Tm9kZS5jaGlsZClcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICB0YXJnZXROb2RlID0gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXROb2RlKTtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0Tm9kZTtcblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgocGFyZW50Tm9kZSA9IHRhcmdldE5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgICAgICAgICAgICB0YXJnZXROb2RlID0gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROb2RlID0gcGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50Tm9kZSA9IHRhcmdldE5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKG5vZGUgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldIHx8IG5vZGVbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0pXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgNSA9PT0gdGFnIHx8XG4gICAgICAgICAgNiA9PT0gdGFnIHx8XG4gICAgICAgICAgMTMgPT09IHRhZyB8fFxuICAgICAgICAgIDI2ID09PSB0YWcgfHxcbiAgICAgICAgICAyNyA9PT0gdGFnIHx8XG4gICAgICAgICAgMyA9PT0gdGFnXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpIHtcbiAgICAgIHZhciB0YWcgPSBpbnN0LnRhZztcbiAgICAgIGlmICg1ID09PSB0YWcgfHwgMjYgPT09IHRhZyB8fCAyNyA9PT0gdGFnIHx8IDYgPT09IHRhZylcbiAgICAgICAgcmV0dXJuIGluc3Quc3RhdGVOb2RlO1xuICAgICAgdGhyb3cgRXJyb3IoXCJnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qocm9vdCkge1xuICAgICAgdmFyIHJlc291cmNlcyA9IHJvb3RbaW50ZXJuYWxSb290Tm9kZVJlc291cmNlc0tleV07XG4gICAgICByZXNvdXJjZXMgfHxcbiAgICAgICAgKHJlc291cmNlcyA9IHJvb3RbaW50ZXJuYWxSb290Tm9kZVJlc291cmNlc0tleV0gPVxuICAgICAgICAgIHsgaG9pc3RhYmxlU3R5bGVzOiBuZXcgTWFwKCksIGhvaXN0YWJsZVNjcmlwdHM6IG5ldyBNYXAoKSB9KTtcbiAgICAgIHJldHVybiByZXNvdXJjZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtOb2RlQXNIb2lzdGFibGUobm9kZSkge1xuICAgICAgbm9kZVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gPSAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJUd29QaGFzZUV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGRlcGVuZGVuY2llcykge1xuICAgICAgcmVnaXN0ZXJEaXJlY3RFdmVudChyZWdpc3RyYXRpb25OYW1lLCBkZXBlbmRlbmNpZXMpO1xuICAgICAgcmVnaXN0ZXJEaXJlY3RFdmVudChyZWdpc3RyYXRpb25OYW1lICsgXCJDYXB0dXJlXCIsIGRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0RXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFdmVudFJlZ2lzdHJ5OiBNb3JlIHRoYW4gb25lIHBsdWdpbiBhdHRlbXB0ZWQgdG8gcHVibGlzaCB0aGUgc2FtZSByZWdpc3RyYXRpb24gbmFtZSwgYCVzYC5cIixcbiAgICAgICAgICByZWdpc3RyYXRpb25OYW1lXG4gICAgICAgICk7XG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gZGVwZW5kZW5jaWVzO1xuICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gPSByZWdpc3RyYXRpb25OYW1lO1xuICAgICAgXCJvbkRvdWJsZUNsaWNrXCIgPT09IHJlZ2lzdHJhdGlvbk5hbWUgJiZcbiAgICAgICAgKHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMub25kYmxjbGljayA9IHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgZm9yIChcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSA9IDA7XG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUgPCBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuICAgICAgICByZWdpc3RyYXRpb25OYW1lKytcbiAgICAgIClcbiAgICAgICAgYWxsTmF0aXZlRXZlbnRzLmFkZChkZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKHRhZ05hbWUsIHByb3BzKSB7XG4gICAgICBoYXNSZWFkT25seVZhbHVlW3Byb3BzLnR5cGVdIHx8XG4gICAgICAgIHByb3BzLm9uQ2hhbmdlIHx8XG4gICAgICAgIHByb3BzLm9uSW5wdXQgfHxcbiAgICAgICAgcHJvcHMucmVhZE9ubHkgfHxcbiAgICAgICAgcHJvcHMuZGlzYWJsZWQgfHxcbiAgICAgICAgbnVsbCA9PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICAoXCJzZWxlY3RcIiA9PT0gdGFnTmFtZVxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiB0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsIHNldCBgb25DaGFuZ2VgLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBwcm92aWRlZCBhIGB2YWx1ZWAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmIHRoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRWYWx1ZWAuIE90aGVyd2lzZSwgc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuXCJcbiAgICAgICAgICAgICkpO1xuICAgICAgcHJvcHMub25DaGFuZ2UgfHxcbiAgICAgICAgcHJvcHMucmVhZE9ubHkgfHxcbiAgICAgICAgcHJvcHMuZGlzYWJsZWQgfHxcbiAgICAgICAgbnVsbCA9PSBwcm9wcy5jaGVja2VkIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmIHRoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRDaGVja2VkYC4gT3RoZXJ3aXNlLCBzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSwgYXR0cmlidXRlTmFtZSkpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUsIGF0dHJpYnV0ZU5hbWUpKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBpZiAoVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVgudGVzdChhdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgcmV0dXJuICh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSAhMCk7XG4gICAgICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gITA7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBhdHRyaWJ1dGUgbmFtZTogYCVzYFwiLCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVGb3JBdHRyaWJ1dGVPbkN1c3RvbUNvbXBvbmVudChub2RlLCBuYW1lLCBleHBlY3RlZCkge1xuICAgICAgaWYgKGlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkpIHtcbiAgICAgICAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICBpZiAoITEgPT09IGV4cGVjdGVkKSByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IGV4cGVjdGVkID8gdm9pZCAwIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIGlmIChcIlwiID09PSBub2RlICYmICEwID09PSBleHBlY3RlZCkgcmV0dXJuICEwO1xuICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKGV4cGVjdGVkLCBuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT09IFwiXCIgKyBleHBlY3RlZCA/IGV4cGVjdGVkIDogbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JBdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKVxuICAgICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDUpO1xuICAgICAgICAgICAgICBpZiAoXCJkYXRhLVwiICE9PSBwcmVmaXggJiYgXCJhcmlhLVwiICE9PSBwcmVmaXgpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgbmFtZSk7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgXCJcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgbmFtZSk7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShub2RlLCBuYW1lc3BhY2UsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgbmFtZSk7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBuYW1lLCBcIlwiICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSksIHZhbHVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc0NoZWNrYWJsZShlbGVtKSB7XG4gICAgICB2YXIgdHlwZSA9IGVsZW0udHlwZTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChlbGVtID0gZWxlbS5ub2RlTmFtZSkgJiZcbiAgICAgICAgXCJpbnB1dFwiID09PSBlbGVtLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgKFwiY2hlY2tib3hcIiA9PT0gdHlwZSB8fCBcInJhZGlvXCIgPT09IHR5cGUpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpIHtcbiAgICAgIHZhciB2YWx1ZUZpZWxkID0gaXNDaGVja2FibGUobm9kZSkgPyBcImNoZWNrZWRcIiA6IFwidmFsdWVcIixcbiAgICAgICAgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgbm9kZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXG4gICAgICAgICAgdmFsdWVGaWVsZFxuICAgICAgICApO1xuICAgICAgY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKG5vZGVbdmFsdWVGaWVsZF0pO1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IFwiXCIgKyBub2RlW3ZhbHVlRmllbGRdO1xuICAgICAgaWYgKFxuICAgICAgICAhbm9kZS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZUZpZWxkKSAmJlxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZGVzY3JpcHRvciAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBkZXNjcmlwdG9yLmdldCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBkZXNjcmlwdG9yLnNldFxuICAgICAgKSB7XG4gICAgICAgIHZhciBnZXQgPSBkZXNjcmlwdG9yLmdldCxcbiAgICAgICAgICBzZXQgPSBkZXNjcmlwdG9yLnNldDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldC5jYWxsKHRoaXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIlwiICsgdmFsdWU7XG4gICAgICAgICAgICBzZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJcIiArIHZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RvcFRyYWNraW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBub2RlLl92YWx1ZVRyYWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgZGVsZXRlIG5vZGVbdmFsdWVGaWVsZF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFjayhub2RlKSB7XG4gICAgICBub2RlLl92YWx1ZVRyYWNrZXIgfHwgKG5vZGUuX3ZhbHVlVHJhY2tlciA9IHRyYWNrVmFsdWVPbk5vZGUobm9kZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChub2RlKSB7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiAhMTtcbiAgICAgIHZhciB0cmFja2VyID0gbm9kZS5fdmFsdWVUcmFja2VyO1xuICAgICAgaWYgKCF0cmFja2VyKSByZXR1cm4gITA7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gdHJhY2tlci5nZXRWYWx1ZSgpO1xuICAgICAgdmFyIHZhbHVlID0gXCJcIjtcbiAgICAgIG5vZGUgJiZcbiAgICAgICAgKHZhbHVlID0gaXNDaGVja2FibGUobm9kZSlcbiAgICAgICAgICA/IG5vZGUuY2hlY2tlZFxuICAgICAgICAgICAgPyBcInRydWVcIlxuICAgICAgICAgICAgOiBcImZhbHNlXCJcbiAgICAgICAgICA6IG5vZGUudmFsdWUpO1xuICAgICAgbm9kZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIG5vZGUgIT09IGxhc3RWYWx1ZSA/ICh0cmFja2VyLnNldFZhbHVlKG5vZGUpLCAhMCkgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudChkb2MpIHtcbiAgICAgIGRvYyA9IGRvYyB8fCAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGRvY3VtZW50ID8gZG9jdW1lbnQgOiB2b2lkIDApO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBkb2MpIHJldHVybiBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRvYy5hY3RpdmVFbGVtZW50IHx8IGRvYy5ib2R5O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZG9jLmJvZHk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXModmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKFxuICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzUmVnZXgsXG4gICAgICAgIGZ1bmN0aW9uIChjaCkge1xuICAgICAgICAgIHJldHVybiBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpICsgXCIgXCI7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRQcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAgICAgdm9pZCAwID09PSBwcm9wcy5jaGVja2VkIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdENoZWNrZWQgfHxcbiAgICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIGNoZWNrZWQgYW5kIGRlZmF1bHRDaGVja2VkIHByb3BzLiBJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiLFxuICAgICAgICAgIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgXCJBIGNvbXBvbmVudFwiLFxuICAgICAgICAgIHByb3BzLnR5cGVcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSAhMCkpO1xuICAgICAgdm9pZCAwID09PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRWYWx1ZSB8fFxuICAgICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIHZhbHVlIGFuZCBkZWZhdWx0VmFsdWUgcHJvcHMuIElucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIixcbiAgICAgICAgICBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHx8IFwiQSBjb21wb25lbnRcIixcbiAgICAgICAgICBwcm9wcy50eXBlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUlucHV0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgbGFzdERlZmF1bHRWYWx1ZSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lXG4gICAgKSB7XG4gICAgICBlbGVtZW50Lm5hbWUgPSBcIlwiO1xuICAgICAgbnVsbCAhPSB0eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiB0eXBlXG4gICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odHlwZSwgXCJ0eXBlXCIpLCAoZWxlbWVudC50eXBlID0gdHlwZSkpXG4gICAgICAgIDogZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuICAgICAgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIGlmIChcIm51bWJlclwiID09PSB0eXBlKSB7XG4gICAgICAgICAgaWYgKCgwID09PSB2YWx1ZSAmJiBcIlwiID09PSBlbGVtZW50LnZhbHVlKSB8fCBlbGVtZW50LnZhbHVlICE9IHZhbHVlKVxuICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZWxlbWVudC52YWx1ZSAhPT0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpICYmXG4gICAgICAgICAgICAoZWxlbWVudC52YWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSk7XG4gICAgICBlbHNlXG4gICAgICAgIChcInN1Ym1pdFwiICE9PSB0eXBlICYmIFwicmVzZXRcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgICAgbnVsbCAhPSB2YWx1ZVxuICAgICAgICA/IHNldERlZmF1bHRWYWx1ZShlbGVtZW50LCB0eXBlLCBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSlcbiAgICAgICAgOiBudWxsICE9IGRlZmF1bHRWYWx1ZVxuICAgICAgICAgID8gc2V0RGVmYXVsdFZhbHVlKGVsZW1lbnQsIHR5cGUsIGdldFRvU3RyaW5nVmFsdWUoZGVmYXVsdFZhbHVlKSlcbiAgICAgICAgICA6IG51bGwgIT0gbGFzdERlZmF1bHRWYWx1ZSAmJiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgICAgbnVsbCA9PSBjaGVja2VkICYmXG4gICAgICAgIG51bGwgIT0gZGVmYXVsdENoZWNrZWQgJiZcbiAgICAgICAgKGVsZW1lbnQuZGVmYXVsdENoZWNrZWQgPSAhIWRlZmF1bHRDaGVja2VkKTtcbiAgICAgIG51bGwgIT0gY2hlY2tlZCAmJlxuICAgICAgICAoZWxlbWVudC5jaGVja2VkID1cbiAgICAgICAgICBjaGVja2VkICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2hlY2tlZCAmJlxuICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBjaGVja2VkKTtcbiAgICAgIG51bGwgIT0gbmFtZSAmJlxuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgbmFtZVxuICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKG5hbWUsIFwibmFtZVwiKSxcbiAgICAgICAgICAoZWxlbWVudC5uYW1lID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUobmFtZSkpKVxuICAgICAgICA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdElucHV0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgdHlwZSxcbiAgICAgIG5hbWUsXG4gICAgICBpc0h5ZHJhdGluZ1xuICAgICkge1xuICAgICAgbnVsbCAhPSB0eXBlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHR5cGUsIFwidHlwZVwiKSwgKGVsZW1lbnQudHlwZSA9IHR5cGUpKTtcbiAgICAgIGlmIChudWxsICE9IHZhbHVlIHx8IG51bGwgIT0gZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhKFxuICAgICAgICAgICAgKFwic3VibWl0XCIgIT09IHR5cGUgJiYgXCJyZXNldFwiICE9PSB0eXBlKSB8fFxuICAgICAgICAgICAgKHZvaWQgMCAhPT0gdmFsdWUgJiYgbnVsbCAhPT0gdmFsdWUpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0VmFsdWUgPVxuICAgICAgICAgIG51bGwgIT0gZGVmYXVsdFZhbHVlID8gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUoZGVmYXVsdFZhbHVlKSA6IFwiXCI7XG4gICAgICAgIHZhbHVlID0gbnVsbCAhPSB2YWx1ZSA/IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgaXNIeWRyYXRpbmcgfHwgdmFsdWUgPT09IGVsZW1lbnQudmFsdWUgfHwgKGVsZW1lbnQudmFsdWUgPSB2YWx1ZSk7XG4gICAgICAgIGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBjaGVja2VkID0gbnVsbCAhPSBjaGVja2VkID8gY2hlY2tlZCA6IGRlZmF1bHRDaGVja2VkO1xuICAgICAgY2hlY2tlZCA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNoZWNrZWQgJiZcbiAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIGNoZWNrZWQgJiZcbiAgICAgICAgISFjaGVja2VkO1xuICAgICAgZWxlbWVudC5jaGVja2VkID0gaXNIeWRyYXRpbmcgPyBlbGVtZW50LmNoZWNrZWQgOiAhIWNoZWNrZWQ7XG4gICAgICBlbGVtZW50LmRlZmF1bHRDaGVja2VkID0gISFjaGVja2VkO1xuICAgICAgbnVsbCAhPSBuYW1lICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKG5hbWUsIFwibmFtZVwiKSwgKGVsZW1lbnQubmFtZSA9IG5hbWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZSAmJiBnZXRBY3RpdmVFbGVtZW50KG5vZGUub3duZXJEb2N1bWVudCkgPT09IG5vZGUpIHx8XG4gICAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID09PSBcIlwiICsgdmFsdWUgfHxcbiAgICAgICAgKG5vZGUuZGVmYXVsdFZhbHVlID0gXCJcIiArIHZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25Qcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAgICAgbnVsbCA9PSBwcm9wcy52YWx1ZSAmJlxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuICYmIG51bGwgIT09IHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgPyBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgbnVsbCA9PSBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5JbnZhbGlkQ2hpbGQgfHxcbiAgICAgICAgICAgICAgICAoKGRpZFdhcm5JbnZhbGlkQ2hpbGQgPSAhMCksXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IGluZmVyIHRoZSBvcHRpb24gdmFsdWUgb2YgY29tcGxleCBjaGlsZHJlbi4gUGFzcyBhIGB2YWx1ZWAgcHJvcCBvciB1c2UgYSBwbGFpbiBzdHJpbmcgYXMgY2hpbGRyZW4gdG8gPG9wdGlvbj4uXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBudWxsID09IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIHx8XG4gICAgICAgICAgICBkaWRXYXJuSW52YWxpZElubmVySFRNTCB8fFxuICAgICAgICAgICAgKChkaWRXYXJuSW52YWxpZElubmVySFRNTCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUGFzcyBhIGB2YWx1ZWAgcHJvcCBpZiB5b3Ugc2V0IGRhbmdlcm91c2x5SW5uZXJIVE1MIHNvIFJlYWN0IGtub3dzIHdoaWNoIHZhbHVlIHNob3VsZCBiZSBzZWxlY3RlZC5cIlxuICAgICAgICAgICAgKSkpO1xuICAgICAgbnVsbCA9PSBwcm9wcy5zZWxlY3RlZCB8fFxuICAgICAgICBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBvbiA8c2VsZWN0PiBpbnN0ZWFkIG9mIHNldHRpbmcgYHNlbGVjdGVkYCBvbiA8b3B0aW9uPi5cIlxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gICAgICB2YXIgb3duZXJOYW1lID0gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKTtcbiAgICAgIHJldHVybiBvd25lck5hbWVcbiAgICAgICAgPyBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyTmFtZSArIFwiYC5cIlxuICAgICAgICA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMobm9kZSwgbXVsdGlwbGUsIHByb3BWYWx1ZSwgc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gICAgICBub2RlID0gbm9kZS5vcHRpb25zO1xuICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgIG11bHRpcGxlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIG11bHRpcGxlW1wiJFwiICsgcHJvcFZhbHVlW2ldXSA9ICEwO1xuICAgICAgICBmb3IgKHByb3BWYWx1ZSA9IDA7IHByb3BWYWx1ZSA8IG5vZGUubGVuZ3RoOyBwcm9wVmFsdWUrKylcbiAgICAgICAgICAoaSA9IG11bHRpcGxlLmhhc093blByb3BlcnR5KFwiJFwiICsgbm9kZVtwcm9wVmFsdWVdLnZhbHVlKSksXG4gICAgICAgICAgICBub2RlW3Byb3BWYWx1ZV0uc2VsZWN0ZWQgIT09IGkgJiYgKG5vZGVbcHJvcFZhbHVlXS5zZWxlY3RlZCA9IGkpLFxuICAgICAgICAgICAgaSAmJiBzZXREZWZhdWx0U2VsZWN0ZWQgJiYgKG5vZGVbcHJvcFZhbHVlXS5kZWZhdWx0U2VsZWN0ZWQgPSAhMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wVmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZShwcm9wVmFsdWUpO1xuICAgICAgICBtdWx0aXBsZSA9IG51bGw7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG5vZGVbaV0udmFsdWUgPT09IHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgbm9kZVtpXS5zZWxlY3RlZCA9ICEwO1xuICAgICAgICAgICAgc2V0RGVmYXVsdFNlbGVjdGVkICYmIChub2RlW2ldLmRlZmF1bHRTZWxlY3RlZCA9ICEwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbnVsbCAhPT0gbXVsdGlwbGUgfHwgbm9kZVtpXS5kaXNhYmxlZCB8fCAobXVsdGlwbGUgPSBub2RlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBudWxsICE9PSBtdWx0aXBsZSAmJiAobXVsdGlwbGUuc2VsZWN0ZWQgPSAhMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlU2VsZWN0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIGZvciAoZWxlbWVudCA9IDA7IGVsZW1lbnQgPCB2YWx1ZVByb3BOYW1lcy5sZW5ndGg7IGVsZW1lbnQrKykge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSB2YWx1ZVByb3BOYW1lc1tlbGVtZW50XTtcbiAgICAgICAgaWYgKG51bGwgIT0gcHJvcHNbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lSXNBcnJheSA9IGlzQXJyYXlJbXBsKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgICAgcHJvcHMubXVsdGlwbGUgJiYgIXByb3BOYW1lSXNBcnJheVxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGFuIGFycmF5IGlmIGBtdWx0aXBsZWAgaXMgdHJ1ZS4lc1wiLFxuICAgICAgICAgICAgICAgIHByb3BOYW1lLFxuICAgICAgICAgICAgICAgIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogIXByb3BzLm11bHRpcGxlICYmXG4gICAgICAgICAgICAgIHByb3BOYW1lSXNBcnJheSAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGEgc2NhbGFyIHZhbHVlIGlmIGBtdWx0aXBsZWAgaXMgZmFsc2UuJXNcIixcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKVxuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2b2lkIDAgPT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdFZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlNlbGVjdCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRleHRhcmVhUHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgdm9pZCAwID09PSBwcm9wcy5kZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyBjb250YWlucyBhIHRleHRhcmVhIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiBUZXh0YXJlYSBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCB0ZXh0YXJlYSBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiLFxuICAgICAgICAgIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuVmFsRGVmYXVsdFZhbCA9ICEwKSk7XG4gICAgICBudWxsICE9IHByb3BzLmNoaWxkcmVuICYmXG4gICAgICAgIG51bGwgPT0gcHJvcHMudmFsdWUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBpbnN0ZWFkIG9mIHNldHRpbmcgY2hpbGRyZW4gb24gPHRleHRhcmVhPi5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVUZXh0YXJlYShlbGVtZW50LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgKCh2YWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSksXG4gICAgICAgIHZhbHVlICE9PSBlbGVtZW50LnZhbHVlICYmIChlbGVtZW50LnZhbHVlID0gdmFsdWUpLFxuICAgICAgICBudWxsID09IGRlZmF1bHRWYWx1ZSlcbiAgICAgICkge1xuICAgICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSAhPT0gdmFsdWUgJiYgKGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSA9XG4gICAgICAgIG51bGwgIT0gZGVmYXVsdFZhbHVlID8gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUoZGVmYXVsdFZhbHVlKSA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRUZXh0YXJlYShlbGVtZW50LCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCBjaGlsZHJlbikge1xuICAgICAgaWYgKG51bGwgPT0gdmFsdWUpIHtcbiAgICAgICAgaWYgKG51bGwgIT0gY2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAobnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJJZiB5b3Ugc3VwcGx5IGBkZWZhdWx0VmFsdWVgIG9uIGEgPHRleHRhcmVhPiwgZG8gbm90IHBhc3MgY2hpbGRyZW4uXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgaWYgKDEgPCBjaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLlwiKTtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIG51bGwgPT0gZGVmYXVsdFZhbHVlICYmIChkZWZhdWx0VmFsdWUgPSBcIlwiKTtcbiAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBkZWZhdWx0VmFsdWUgPSBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgY2hpbGRyZW4gPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgY2hpbGRyZW4gPT09IGRlZmF1bHRWYWx1ZSAmJlxuICAgICAgICBcIlwiICE9PSBjaGlsZHJlbiAmJlxuICAgICAgICBudWxsICE9PSBjaGlsZHJlbiAmJlxuICAgICAgICAoZWxlbWVudC52YWx1ZSA9IGNoaWxkcmVuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZE5vdGFibGVOb2RlKG5vZGUsIGluZGVudCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gbm9kZS5zZXJ2ZXJQcm9wcyAmJlxuICAgICAgICAwID09PSBub2RlLnNlcnZlclRhaWwubGVuZ3RoICYmXG4gICAgICAgIDEgPT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIDMgPCBub2RlLmRpc3RhbmNlRnJvbUxlYWYgJiZcbiAgICAgICAgbm9kZS5kaXN0YW5jZUZyb21MZWFmID4gMTUgLSBpbmRlbnRcbiAgICAgICAgPyBmaW5kTm90YWJsZU5vZGUobm9kZS5jaGlsZHJlblswXSwgaW5kZW50KVxuICAgICAgICA6IG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGVudGF0aW9uKGluZGVudCkge1xuICAgICAgcmV0dXJuIFwiICBcIiArIFwiICBcIi5yZXBlYXQoaW5kZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkZWQoaW5kZW50KSB7XG4gICAgICByZXR1cm4gXCIrIFwiICsgXCIgIFwiLnJlcGVhdChpbmRlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVkKGluZGVudCkge1xuICAgICAgcmV0dXJuIFwiLSBcIiArIFwiICBcIi5yZXBlYXQoaW5kZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVGaWJlclR5cGUoZmliZXIpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gZmliZXIudHlwZTtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICByZXR1cm4gXCJMYXp5XCI7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJldHVybiAoZmliZXIgPSBmaWJlci50eXBlKSwgZmliZXIuZGlzcGxheU5hbWUgfHwgZmliZXIubmFtZSB8fCBudWxsO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmliZXIgPSBmaWJlci50eXBlLnJlbmRlciksIGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZmliZXIudHlwZSksIGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVUZXh0Tm9kZShjb250ZW50LCBtYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybiBuZWVkc0VzY2FwaW5nLnRlc3QoY29udGVudClcbiAgICAgICAgPyAoKGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShjb250ZW50KSksXG4gICAgICAgICAgY29udGVudC5sZW5ndGggPiBtYXhMZW5ndGggLSAyXG4gICAgICAgICAgICA/IDggPiBtYXhMZW5ndGhcbiAgICAgICAgICAgICAgPyAne1wiLi4uXCJ9J1xuICAgICAgICAgICAgICA6IFwie1wiICsgY29udGVudC5zbGljZSgwLCBtYXhMZW5ndGggLSA3KSArICcuLi5cIn0nXG4gICAgICAgICAgICA6IFwie1wiICsgY29udGVudCArIFwifVwiKVxuICAgICAgICA6IGNvbnRlbnQubGVuZ3RoID4gbWF4TGVuZ3RoXG4gICAgICAgICAgPyA1ID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICA/ICd7XCIuLi5cIn0nXG4gICAgICAgICAgICA6IGNvbnRlbnQuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gMykgKyBcIi4uLlwiXG4gICAgICAgICAgOiBjb250ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVRleHREaWZmKGNsaWVudFRleHQsIHNlcnZlclByb3BzLCBpbmRlbnQpIHtcbiAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogaW5kZW50O1xuICAgICAgaWYgKG51bGwgPT09IHNlcnZlclByb3BzKVxuICAgICAgICByZXR1cm4gYWRkZWQoaW5kZW50KSArIGRlc2NyaWJlVGV4dE5vZGUoY2xpZW50VGV4dCwgbWF4TGVuZ3RoKSArIFwiXFxuXCI7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNlcnZlclByb3BzKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGZpcnN0RGlmZiA9IDA7XG4gICAgICAgICAgZmlyc3REaWZmIDwgc2VydmVyUHJvcHMubGVuZ3RoICYmXG4gICAgICAgICAgZmlyc3REaWZmIDwgY2xpZW50VGV4dC5sZW5ndGggJiZcbiAgICAgICAgICBzZXJ2ZXJQcm9wcy5jaGFyQ29kZUF0KGZpcnN0RGlmZikgPT09XG4gICAgICAgICAgICBjbGllbnRUZXh0LmNoYXJDb2RlQXQoZmlyc3REaWZmKTtcbiAgICAgICAgICBmaXJzdERpZmYrK1xuICAgICAgICApO1xuICAgICAgICBmaXJzdERpZmYgPiBtYXhMZW5ndGggLSA4ICYmXG4gICAgICAgICAgMTAgPCBmaXJzdERpZmYgJiZcbiAgICAgICAgICAoKGNsaWVudFRleHQgPSBcIi4uLlwiICsgY2xpZW50VGV4dC5zbGljZShmaXJzdERpZmYgLSA4KSksXG4gICAgICAgICAgKHNlcnZlclByb3BzID0gXCIuLi5cIiArIHNlcnZlclByb3BzLnNsaWNlKGZpcnN0RGlmZiAtIDgpKSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYWRkZWQoaW5kZW50KSArXG4gICAgICAgICAgZGVzY3JpYmVUZXh0Tm9kZShjbGllbnRUZXh0LCBtYXhMZW5ndGgpICtcbiAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICByZW1vdmVkKGluZGVudCkgK1xuICAgICAgICAgIGRlc2NyaWJlVGV4dE5vZGUoc2VydmVyUHJvcHMsIG1heExlbmd0aCkgK1xuICAgICAgICAgIFwiXFxuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgKyBkZXNjcmliZVRleHROb2RlKGNsaWVudFRleHQsIG1heExlbmd0aCkgKyBcIlxcblwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYmplY3ROYW1lKG9iamVjdCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAgICAgLmNhbGwob2JqZWN0KVxuICAgICAgICAucmVwbGFjZSgvXlxcW29iamVjdCAoLiopXFxdJC8sIGZ1bmN0aW9uIChtLCBwMCkge1xuICAgICAgICAgIHJldHVybiBwMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVmFsdWUodmFsdWUsIG1heExlbmd0aCkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICAgICAgdmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICAgID8gNSA+IG1heExlbmd0aFxuICAgICAgICAgICAgICAgID8gJ1wiLi4uXCInXG4gICAgICAgICAgICAgICAgOiB2YWx1ZS5zbGljZSgwLCBtYXhMZW5ndGggLSA0KSArICcuLi5cIidcbiAgICAgICAgICAgICAgOiB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwodmFsdWUpKSByZXR1cm4gXCJbLi4uXVwiO1xuICAgICAgICAgIGlmICh2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIChtYXhMZW5ndGggPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodmFsdWUudHlwZSkpXG4gICAgICAgICAgICAgID8gXCI8XCIgKyBtYXhMZW5ndGggKyBcIj5cIlxuICAgICAgICAgICAgICA6IFwiPC4uLj5cIjtcbiAgICAgICAgICB2YXIgbmFtZSA9IG9iamVjdE5hbWUodmFsdWUpO1xuICAgICAgICAgIGlmIChcIk9iamVjdFwiID09PSBuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gXCJcIjtcbiAgICAgICAgICAgIG1heExlbmd0aCAtPSAyO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdmFsdWUpXG4gICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIganNvblByb3BOYW1lID0gSlNPTi5zdHJpbmdpZnkocHJvcE5hbWUpO1xuICAgICAgICAgICAgICAgIGpzb25Qcm9wTmFtZSAhPT0gJ1wiJyArIHByb3BOYW1lICsgJ1wiJyAmJlxuICAgICAgICAgICAgICAgICAgKHByb3BOYW1lID0ganNvblByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGggLT0gcHJvcE5hbWUubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICBqc29uUHJvcE5hbWUgPSBkZXNjcmliZVZhbHVlKFxuICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcE5hbWVdLFxuICAgICAgICAgICAgICAgICAgMTUgPiBtYXhMZW5ndGggPyBtYXhMZW5ndGggOiAxNVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoIC09IGpzb25Qcm9wTmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKDAgPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIG5hbWUgKz0gXCJcIiA9PT0gbmFtZSA/IFwiLi4uXCIgOiBcIiwgLi4uXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmFtZSArPVxuICAgICAgICAgICAgICAgICAgKFwiXCIgPT09IG5hbWUgPyBcIlwiIDogXCIsXCIpICsgcHJvcE5hbWUgKyBcIjpcIiArIGpzb25Qcm9wTmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwie1wiICsgbmFtZSArIFwifVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIChtYXhMZW5ndGggPSB2YWx1ZS5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5uYW1lKVxuICAgICAgICAgICAgPyBcImZ1bmN0aW9uIFwiICsgbWF4TGVuZ3RoXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVQcm9wVmFsdWUodmFsdWUsIG1heExlbmd0aCkge1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSB8fCBuZWVkc0VzY2FwaW5nLnRlc3QodmFsdWUpXG4gICAgICAgID8gXCJ7XCIgKyBkZXNjcmliZVZhbHVlKHZhbHVlLCBtYXhMZW5ndGggLSAyKSArIFwifVwiXG4gICAgICAgIDogdmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoIC0gMlxuICAgICAgICAgID8gNSA+IG1heExlbmd0aFxuICAgICAgICAgICAgPyAnXCIuLi5cIidcbiAgICAgICAgICAgIDogJ1wiJyArIHZhbHVlLnNsaWNlKDAsIG1heExlbmd0aCAtIDUpICsgJy4uLlwiJ1xuICAgICAgICAgIDogJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQodHlwZSwgcHJvcHMsIHJvd1ByZWZpeCkge1xuICAgICAgdmFyIHJlbWFpbmluZ1Jvd0xlbmd0aCA9IDEyMCAtIHJvd1ByZWZpeC5sZW5ndGggLSB0eXBlLmxlbmd0aCxcbiAgICAgICAgcHJvcGVydGllcyA9IFtdLFxuICAgICAgICBwcm9wTmFtZTtcbiAgICAgIGZvciAocHJvcE5hbWUgaW4gcHJvcHMpXG4gICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgXCJjaGlsZHJlblwiICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgIHZhciBwcm9wVmFsdWUgPSBkZXNjcmliZVByb3BWYWx1ZShcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSxcbiAgICAgICAgICAgIDEyMCAtIHJvd1ByZWZpeC5sZW5ndGggLSBwcm9wTmFtZS5sZW5ndGggLSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZW1haW5pbmdSb3dMZW5ndGggLT0gcHJvcE5hbWUubGVuZ3RoICsgcHJvcFZhbHVlLmxlbmd0aCArIDI7XG4gICAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BOYW1lICsgXCI9XCIgKyBwcm9wVmFsdWUpO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gMCA9PT0gcHJvcGVydGllcy5sZW5ndGhcbiAgICAgICAgPyByb3dQcmVmaXggKyBcIjxcIiArIHR5cGUgKyBcIj5cXG5cIlxuICAgICAgICA6IDAgPCByZW1haW5pbmdSb3dMZW5ndGhcbiAgICAgICAgICA/IHJvd1ByZWZpeCArIFwiPFwiICsgdHlwZSArIFwiIFwiICsgcHJvcGVydGllcy5qb2luKFwiIFwiKSArIFwiPlxcblwiXG4gICAgICAgICAgOiByb3dQcmVmaXggK1xuICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIHJvd1ByZWZpeCArXG4gICAgICAgICAgICBcIiAgXCIgK1xuICAgICAgICAgICAgcHJvcGVydGllcy5qb2luKFwiXFxuXCIgKyByb3dQcmVmaXggKyBcIiAgXCIpICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgcm93UHJlZml4ICtcbiAgICAgICAgICAgIFwiPlxcblwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVByb3BlcnRpZXNEaWZmKGNsaWVudE9iamVjdCwgc2VydmVyT2JqZWN0LCBpbmRlbnQpIHtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0gXCJcIixcbiAgICAgICAgcmVtYWluaW5nU2VydmVyUHJvcGVydGllcyA9IGFzc2lnbih7fSwgc2VydmVyT2JqZWN0KSxcbiAgICAgICAgcHJvcE5hbWU7XG4gICAgICBmb3IgKHByb3BOYW1lIGluIGNsaWVudE9iamVjdClcbiAgICAgICAgaWYgKGNsaWVudE9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICBkZWxldGUgcmVtYWluaW5nU2VydmVyUHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiBpbmRlbnQgLSBwcm9wTmFtZS5sZW5ndGggLSAyLFxuICAgICAgICAgICAgY2xpZW50UHJvcFZhbHVlID0gZGVzY3JpYmVWYWx1ZShjbGllbnRPYmplY3RbcHJvcE5hbWVdLCBtYXhMZW5ndGgpO1xuICAgICAgICAgIHNlcnZlck9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSlcbiAgICAgICAgICAgID8gKChtYXhMZW5ndGggPSBkZXNjcmliZVZhbHVlKHNlcnZlck9iamVjdFtwcm9wTmFtZV0sIG1heExlbmd0aCkpLFxuICAgICAgICAgICAgICAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudCkgKyBwcm9wTmFtZSArIFwiOiBcIiArIGNsaWVudFByb3BWYWx1ZSArIFwiXFxuXCIpLFxuICAgICAgICAgICAgICAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50KSArIHByb3BOYW1lICsgXCI6IFwiICsgbWF4TGVuZ3RoICsgXCJcXG5cIikpXG4gICAgICAgICAgICA6IChwcm9wZXJ0aWVzICs9XG4gICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50KSArIHByb3BOYW1lICsgXCI6IFwiICsgY2xpZW50UHJvcFZhbHVlICsgXCJcXG5cIik7XG4gICAgICAgIH1cbiAgICAgIGZvciAodmFyIF9wcm9wTmFtZSBpbiByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzKVxuICAgICAgICByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KF9wcm9wTmFtZSkgJiZcbiAgICAgICAgICAoKGNsaWVudE9iamVjdCA9IGRlc2NyaWJlVmFsdWUoXG4gICAgICAgICAgICByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzW19wcm9wTmFtZV0sXG4gICAgICAgICAgICAxMjAgLSAyICogaW5kZW50IC0gX3Byb3BOYW1lLmxlbmd0aCAtIDJcbiAgICAgICAgICApKSxcbiAgICAgICAgICAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQpICsgX3Byb3BOYW1lICsgXCI6IFwiICsgY2xpZW50T2JqZWN0ICsgXCJcXG5cIikpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRWxlbWVudERpZmYodHlwZSwgY2xpZW50UHJvcHMsIHNlcnZlclByb3BzLCBpbmRlbnQpIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIixcbiAgICAgICAgc2VydmVyUHJvcE5hbWVzID0gbmV3IE1hcCgpO1xuICAgICAgZm9yIChwcm9wTmFtZSRqc2NvbXAkMCBpbiBzZXJ2ZXJQcm9wcylcbiAgICAgICAgc2VydmVyUHJvcHMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUkanNjb21wJDApICYmXG4gICAgICAgICAgc2VydmVyUHJvcE5hbWVzLnNldChcbiAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMFxuICAgICAgICAgICk7XG4gICAgICBpZiAoMSA9PT0gc2VydmVyUHJvcE5hbWVzLnNpemUgJiYgc2VydmVyUHJvcE5hbWVzLmhhcyhcImNoaWxkcmVuXCIpKVxuICAgICAgICBjb250ZW50ICs9IGRlc2NyaWJlRXhwYW5kZWRFbGVtZW50KFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgY2xpZW50UHJvcHMsXG4gICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KVxuICAgICAgICApO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIF9wcm9wTmFtZTIgaW4gY2xpZW50UHJvcHMpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2xpZW50UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BOYW1lMikgJiZcbiAgICAgICAgICAgIFwiY2hpbGRyZW5cIiAhPT0gX3Byb3BOYW1lMlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG1heExlbmd0aCRqc2NvbXAkMCA9XG4gICAgICAgICAgICAgICAgMTIwIC0gMiAqIChpbmRlbnQgKyAxKSAtIF9wcm9wTmFtZTIubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUgPSBzZXJ2ZXJQcm9wTmFtZXMuZ2V0KF9wcm9wTmFtZTIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBzZXJ2ZXJQcm9wTmFtZSkge1xuICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMuZGVsZXRlKF9wcm9wTmFtZTIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgIHZhciBwcm9wTmFtZSRqc2NvbXAkMCA9IGNsaWVudFByb3BzW19wcm9wTmFtZTJdO1xuICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZSA9IHNlcnZlclByb3BzW3NlcnZlclByb3BOYW1lXTtcbiAgICAgICAgICAgICAgdmFyIGNsaWVudFByb3BWYWx1ZSA9IGRlc2NyaWJlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aCRqc2NvbXAkMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDAgPSBkZXNjcmliZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb3BOYW1lJGpzY29tcCQwICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHByb3BOYW1lJGpzY29tcCQwICYmXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBzZXJ2ZXJQcm9wTmFtZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBzZXJ2ZXJQcm9wTmFtZSAmJlxuICAgICAgICAgICAgICBcIk9iamVjdFwiID09PSBvYmplY3ROYW1lKHByb3BOYW1lJGpzY29tcCQwKSAmJlxuICAgICAgICAgICAgICBcIk9iamVjdFwiID09PSBvYmplY3ROYW1lKHNlcnZlclByb3BOYW1lKSAmJlxuICAgICAgICAgICAgICAoMiA8IE9iamVjdC5rZXlzKHByb3BOYW1lJGpzY29tcCQwKS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAyIDwgT2JqZWN0LmtleXMoc2VydmVyUHJvcE5hbWUpLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIC0xIDwgY2xpZW50UHJvcFZhbHVlLmluZGV4T2YoXCIuLi5cIikgfHxcbiAgICAgICAgICAgICAgICAtMSA8IG1heExlbmd0aCRqc2NvbXAkMC5pbmRleE9mKFwiLi4uXCIpKVxuICAgICAgICAgICAgICAgID8gKGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICAgICAgXCI9e3tcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaWJlUHJvcGVydGllc0RpZmYoXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcE5hbWUkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZW50ICsgMlxuICAgICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBcIn19XFxuXCIpXG4gICAgICAgICAgICAgICAgOiAoKGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRQcm9wVmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcblwiKSxcbiAgICAgICAgICAgICAgICAgIChjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDAgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcblwiKSk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgY29udGVudCArPVxuICAgICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVQcm9wVmFsdWUoY2xpZW50UHJvcHNbX3Byb3BOYW1lMl0sIG1heExlbmd0aCRqc2NvbXAkMCkgK1xuICAgICAgICAgICAgICAgIFwiXFxuXCI7XG4gICAgICAgICAgfVxuICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgICBpZiAoXCJjaGlsZHJlblwiICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiAoaW5kZW50ICsgMSkgLSBwcm9wTmFtZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgY29udGVudCArPVxuICAgICAgICAgICAgICByZW1vdmVkKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgcHJvcE5hbWUgK1xuICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgIGRlc2NyaWJlUHJvcFZhbHVlKHNlcnZlclByb3BzW3Byb3BOYW1lXSwgbWF4TGVuZ3RoKSArXG4gICAgICAgICAgICAgIFwiXFxuXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgXCJcIiA9PT0gY29udGVudFxuICAgICAgICAgICAgPyBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCI8XCIgKyB0eXBlICsgXCI+XFxuXCJcbiAgICAgICAgICAgIDogaW5kZW50YXRpb24oaW5kZW50KSArXG4gICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICBjb250ZW50ICtcbiAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArXG4gICAgICAgICAgICAgIFwiPlxcblwiO1xuICAgICAgfVxuICAgICAgdHlwZSA9IHNlcnZlclByb3BzLmNoaWxkcmVuO1xuICAgICAgY2xpZW50UHJvcHMgPSBjbGllbnRQcm9wcy5jaGlsZHJlbjtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICkge1xuICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMgPSBcIlwiO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzXG4gICAgICAgIClcbiAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMgPSBcIlwiICsgY2xpZW50UHJvcHM7XG4gICAgICAgIGNvbnRlbnQgKz0gZGVzY3JpYmVUZXh0RGlmZihzZXJ2ZXJQcm9wTmFtZXMsIFwiXCIgKyB0eXBlLCBpbmRlbnQgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2xpZW50UHJvcHMgfHxcbiAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzXG4gICAgICApXG4gICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgIG51bGwgPT0gdHlwZVxuICAgICAgICAgICAgPyBjb250ZW50ICsgZGVzY3JpYmVUZXh0RGlmZihcIlwiICsgY2xpZW50UHJvcHMsIG51bGwsIGluZGVudCArIDEpXG4gICAgICAgICAgICA6IGNvbnRlbnQgKyBkZXNjcmliZVRleHREaWZmKFwiXCIgKyBjbGllbnRQcm9wcywgdm9pZCAwLCBpbmRlbnQgKyAxKTtcbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVNpYmxpbmdGaWJlcihmaWJlciwgaW5kZW50KSB7XG4gICAgICB2YXIgdHlwZSA9IGRlc2NyaWJlRmliZXJUeXBlKGZpYmVyKTtcbiAgICAgIGlmIChudWxsID09PSB0eXBlKSB7XG4gICAgICAgIHR5cGUgPSBcIlwiO1xuICAgICAgICBmb3IgKGZpYmVyID0gZmliZXIuY2hpbGQ7IGZpYmVyOyApXG4gICAgICAgICAgKHR5cGUgKz0gZGVzY3JpYmVTaWJsaW5nRmliZXIoZmliZXIsIGluZGVudCkpLFxuICAgICAgICAgICAgKGZpYmVyID0gZmliZXIuc2libGluZyk7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGVudGF0aW9uKGluZGVudCkgKyBcIjxcIiArIHR5cGUgKyBcIj5cXG5cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOb2RlKG5vZGUsIGluZGVudCkge1xuICAgICAgdmFyIHNraXBUb05vZGUgPSBmaW5kTm90YWJsZU5vZGUobm9kZSwgaW5kZW50KTtcbiAgICAgIGlmIChcbiAgICAgICAgc2tpcFRvTm9kZSAhPT0gbm9kZSAmJlxuICAgICAgICAoMSAhPT0gbm9kZS5jaGlsZHJlbi5sZW5ndGggfHwgbm9kZS5jaGlsZHJlblswXSAhPT0gc2tpcFRvTm9kZSlcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCIuLi5cXG5cIiArIGRlc2NyaWJlTm9kZShza2lwVG9Ob2RlLCBpbmRlbnQgKyAxKVxuICAgICAgICApO1xuICAgICAgc2tpcFRvTm9kZSA9IFwiXCI7XG4gICAgICB2YXIgZGVidWdJbmZvID0gbm9kZS5maWJlci5fZGVidWdJbmZvO1xuICAgICAgaWYgKGRlYnVnSW5mbylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWJ1Z0luZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2VydmVyQ29tcG9uZW50TmFtZSA9IGRlYnVnSW5mb1tpXS5uYW1lO1xuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZXJ2ZXJDb21wb25lbnROYW1lICYmXG4gICAgICAgICAgICAoKHNraXBUb05vZGUgKz1cbiAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArIFwiPFwiICsgc2VydmVyQ29tcG9uZW50TmFtZSArIFwiPlxcblwiKSxcbiAgICAgICAgICAgIGluZGVudCsrKTtcbiAgICAgICAgfVxuICAgICAgZGVidWdJbmZvID0gXCJcIjtcbiAgICAgIGkgPSBub2RlLmZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgIGlmICg2ID09PSBub2RlLmZpYmVyLnRhZylcbiAgICAgICAgKGRlYnVnSW5mbyA9IGRlc2NyaWJlVGV4dERpZmYoaSwgbm9kZS5zZXJ2ZXJQcm9wcywgaW5kZW50KSksIGluZGVudCsrO1xuICAgICAgZWxzZSBpZiAoXG4gICAgICAgICgoc2VydmVyQ29tcG9uZW50TmFtZSA9IGRlc2NyaWJlRmliZXJUeXBlKG5vZGUuZmliZXIpKSxcbiAgICAgICAgbnVsbCAhPT0gc2VydmVyQ29tcG9uZW50TmFtZSlcbiAgICAgIClcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbm9kZS5zZXJ2ZXJQcm9wcykge1xuICAgICAgICAgIGRlYnVnSW5mbyA9IGluZGVudDtcbiAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMTIwIC0gMiAqIGRlYnVnSW5mbyAtIHNlcnZlckNvbXBvbmVudE5hbWUubGVuZ3RoIC0gMixcbiAgICAgICAgICAgIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgIGZvciAocHJvcE5hbWUgaW4gaSlcbiAgICAgICAgICAgIGlmIChpLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJiBcImNoaWxkcmVuXCIgIT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wVmFsdWUgPSBkZXNjcmliZVByb3BWYWx1ZShpW3Byb3BOYW1lXSwgMTUpO1xuICAgICAgICAgICAgICBtYXhMZW5ndGggLT0gcHJvcE5hbWUubGVuZ3RoICsgcHJvcFZhbHVlLmxlbmd0aCArIDI7XG4gICAgICAgICAgICAgIGlmICgwID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCArPSBcIiAuLi5cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250ZW50ICs9IFwiIFwiICsgcHJvcE5hbWUgKyBcIj1cIiArIHByb3BWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBkZWJ1Z0luZm8gPVxuICAgICAgICAgICAgaW5kZW50YXRpb24oZGVidWdJbmZvKSArXG4gICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lICtcbiAgICAgICAgICAgIGNvbnRlbnQgK1xuICAgICAgICAgICAgXCI+XFxuXCI7XG4gICAgICAgICAgaW5kZW50Kys7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIG51bGwgPT09IG5vZGUuc2VydmVyUHJvcHNcbiAgICAgICAgICAgID8gKChkZWJ1Z0luZm8gPSBkZXNjcmliZUV4cGFuZGVkRWxlbWVudChcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50KVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgaW5kZW50KyspXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBub2RlLnNlcnZlclByb3BzXG4gICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiU2hvdWxkIG5vdCBoYXZlIG1hdGNoZWQgYSBub24gSG9zdFRleHQgZmliZXIgdG8gYSBUZXh0IG5vZGUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogKChkZWJ1Z0luZm8gPSBkZXNjcmliZUVsZW1lbnREaWZmKFxuICAgICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICBub2RlLnNlcnZlclByb3BzLFxuICAgICAgICAgICAgICAgICAgaW5kZW50XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgaW5kZW50KyspO1xuICAgICAgdmFyIHByb3BOYW1lID0gXCJcIjtcbiAgICAgIGkgPSBub2RlLmZpYmVyLmNoaWxkO1xuICAgICAgZm9yIChcbiAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSA9IDA7XG4gICAgICAgIGkgJiYgc2VydmVyQ29tcG9uZW50TmFtZSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICApXG4gICAgICAgIChtYXhMZW5ndGggPSBub2RlLmNoaWxkcmVuW3NlcnZlckNvbXBvbmVudE5hbWVdKSxcbiAgICAgICAgICBtYXhMZW5ndGguZmliZXIgPT09IGlcbiAgICAgICAgICAgID8gKChwcm9wTmFtZSArPSBkZXNjcmliZU5vZGUobWF4TGVuZ3RoLCBpbmRlbnQpKSxcbiAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSsrKVxuICAgICAgICAgICAgOiAocHJvcE5hbWUgKz0gZGVzY3JpYmVTaWJsaW5nRmliZXIoaSwgaW5kZW50KSksXG4gICAgICAgICAgKGkgPSBpLnNpYmxpbmcpO1xuICAgICAgaSAmJlxuICAgICAgICAwIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiZcbiAgICAgICAgKHByb3BOYW1lICs9IGluZGVudGF0aW9uKGluZGVudCkgKyBcIi4uLlxcblwiKTtcbiAgICAgIGkgPSBub2RlLnNlcnZlclRhaWw7XG4gICAgICBudWxsID09PSBub2RlLnNlcnZlclByb3BzICYmIGluZGVudC0tO1xuICAgICAgZm9yIChub2RlID0gMDsgbm9kZSA8IGkubGVuZ3RoOyBub2RlKyspXG4gICAgICAgIChzZXJ2ZXJDb21wb25lbnROYW1lID0gaVtub2RlXSksXG4gICAgICAgICAgKHByb3BOYW1lID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZXJ2ZXJDb21wb25lbnROYW1lXG4gICAgICAgICAgICAgID8gcHJvcE5hbWUgK1xuICAgICAgICAgICAgICAgIChyZW1vdmVkKGluZGVudCkgK1xuICAgICAgICAgICAgICAgICAgZGVzY3JpYmVUZXh0Tm9kZShzZXJ2ZXJDb21wb25lbnROYW1lLCAxMjAgLSAyICogaW5kZW50KSArXG4gICAgICAgICAgICAgICAgICBcIlxcblwiKVxuICAgICAgICAgICAgICA6IHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZUV4cGFuZGVkRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUudHlwZSxcbiAgICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUucHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW1vdmVkKGluZGVudClcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgIHJldHVybiBza2lwVG9Ob2RlICsgZGVidWdJbmZvICsgcHJvcE5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRGlmZihyb290Tm9kZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFwiXFxuXFxuXCIgKyBkZXNjcmliZU5vZGUocm9vdE5vZGUsIDApO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVBbmNlc3RvcnMoYW5jZXN0b3IsIGNoaWxkLCBwcm9wcykge1xuICAgICAgZm9yICh2YXIgZmliZXIgPSBjaGlsZCwgbm9kZSA9IG51bGwsIGRpc3RhbmNlRnJvbUxlYWYgPSAwOyBmaWJlcjsgKVxuICAgICAgICBmaWJlciA9PT0gYW5jZXN0b3IgJiYgKGRpc3RhbmNlRnJvbUxlYWYgPSAwKSxcbiAgICAgICAgICAobm9kZSA9IHtcbiAgICAgICAgICAgIGZpYmVyOiBmaWJlcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBudWxsICE9PSBub2RlID8gW25vZGVdIDogW10sXG4gICAgICAgICAgICBzZXJ2ZXJQcm9wczpcbiAgICAgICAgICAgICAgZmliZXIgPT09IGNoaWxkID8gcHJvcHMgOiBmaWJlciA9PT0gYW5jZXN0b3IgPyBudWxsIDogdm9pZCAwLFxuICAgICAgICAgICAgc2VydmVyVGFpbDogW10sXG4gICAgICAgICAgICBkaXN0YW5jZUZyb21MZWFmOiBkaXN0YW5jZUZyb21MZWFmXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZGlzdGFuY2VGcm9tTGVhZisrLFxuICAgICAgICAgIChmaWJlciA9IGZpYmVyLnJldHVybik7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gbm9kZSA/IGRlc2NyaWJlRGlmZihub2RlKS5yZXBsYWNlQWxsKC9eWystXS9nbSwgXCI+XCIpIDogXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlZEFuY2VzdG9ySW5mb0RldihvbGRJbmZvLCB0YWcpIHtcbiAgICAgIG9sZEluZm8gPSBhc3NpZ24oe30sIG9sZEluZm8gfHwgZW1wdHlBbmNlc3RvckluZm9EZXYpO1xuICAgICAgdmFyIGluZm8gPSB7IHRhZzogdGFnIH07XG4gICAgICAtMSAhPT0gaW5TY29wZVRhZ3MuaW5kZXhPZih0YWcpICYmXG4gICAgICAgICgob2xkSW5mby5hVGFnSW5TY29wZSA9IG51bGwpLFxuICAgICAgICAob2xkSW5mby5idXR0b25UYWdJblNjb3BlID0gbnVsbCksXG4gICAgICAgIChvbGRJbmZvLm5vYnJUYWdJblNjb3BlID0gbnVsbCkpO1xuICAgICAgLTEgIT09IGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgJiYgKG9sZEluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsKTtcbiAgICAgIC0xICE9PSBzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgJiZcbiAgICAgICAgXCJhZGRyZXNzXCIgIT09IHRhZyAmJlxuICAgICAgICBcImRpdlwiICE9PSB0YWcgJiZcbiAgICAgICAgXCJwXCIgIT09IHRhZyAmJlxuICAgICAgICAoKG9sZEluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGwpLFxuICAgICAgICAob2xkSW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGwpKTtcbiAgICAgIG9sZEluZm8uY3VycmVudCA9IGluZm87XG4gICAgICBcImZvcm1cIiA9PT0gdGFnICYmIChvbGRJbmZvLmZvcm1UYWcgPSBpbmZvKTtcbiAgICAgIFwiYVwiID09PSB0YWcgJiYgKG9sZEluZm8uYVRhZ0luU2NvcGUgPSBpbmZvKTtcbiAgICAgIFwiYnV0dG9uXCIgPT09IHRhZyAmJiAob2xkSW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICBcIm5vYnJcIiA9PT0gdGFnICYmIChvbGRJbmZvLm5vYnJUYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICBcInBcIiA9PT0gdGFnICYmIChvbGRJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gaW5mbyk7XG4gICAgICBcImxpXCIgPT09IHRhZyAmJiAob2xkSW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbyk7XG4gICAgICBpZiAoXCJkZFwiID09PSB0YWcgfHwgXCJkdFwiID09PSB0YWcpIG9sZEluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvO1xuICAgICAgXCIjZG9jdW1lbnRcIiA9PT0gdGFnIHx8IFwiaHRtbFwiID09PSB0YWdcbiAgICAgICAgPyAob2xkSW5mby5jb250YWluZXJUYWdJblNjb3BlID0gbnVsbClcbiAgICAgICAgOiBvbGRJbmZvLmNvbnRhaW5lclRhZ0luU2NvcGUgfHwgKG9sZEluZm8uY29udGFpbmVyVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgcmV0dXJuIG9sZEluZm87XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGFnVmFsaWRXaXRoUGFyZW50KHRhZywgcGFyZW50VGFnKSB7XG4gICAgICBzd2l0Y2ggKHBhcmVudFRhZykge1xuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiaHJcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm9wdGlvblwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwib3B0Z3JvdXBcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIiN0ZXh0XCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJvcHRncm91cFwiOlxuICAgICAgICAgIHJldHVybiBcIm9wdGlvblwiID09PSB0YWcgfHwgXCIjdGV4dFwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICByZXR1cm4gXCIjdGV4dFwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJ0clwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcInRoXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInNjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInRib2R5XCI6XG4gICAgICAgIGNhc2UgXCJ0aGVhZFwiOlxuICAgICAgICBjYXNlIFwidGZvb3RcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJ0clwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInNjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcImNvbGdyb3VwXCI6XG4gICAgICAgICAgcmV0dXJuIFwiY29sXCIgPT09IHRhZyB8fCBcInRlbXBsYXRlXCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiY2FwdGlvblwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwiY29sZ3JvdXBcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRib2R5XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0Zm9vdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGhlYWRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiYmFzZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwiYmFzZWZvbnRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImJnc291bmRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImxpbmtcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm1ldGFcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRpdGxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJub3NjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwibm9mcmFtZXNcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgcmV0dXJuIFwiaGVhZFwiID09PSB0YWcgfHwgXCJib2R5XCIgPT09IHRhZyB8fCBcImZyYW1lc2V0XCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcImZyYW1lc2V0XCI6XG4gICAgICAgICAgcmV0dXJuIFwiZnJhbWVcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwiI2RvY3VtZW50XCI6XG4gICAgICAgICAgcmV0dXJuIFwiaHRtbFwiID09PSB0YWc7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiaDFcIjpcbiAgICAgICAgY2FzZSBcImgyXCI6XG4gICAgICAgIGNhc2UgXCJoM1wiOlxuICAgICAgICBjYXNlIFwiaDRcIjpcbiAgICAgICAgY2FzZSBcImg1XCI6XG4gICAgICAgIGNhc2UgXCJoNlwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImgxXCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoMlwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDNcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImg0XCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoNVwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDZcIiAhPT0gcGFyZW50VGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInJwXCI6XG4gICAgICAgIGNhc2UgXCJydFwiOlxuICAgICAgICAgIHJldHVybiAtMSA9PT0gaW1wbGllZEVuZFRhZ3MuaW5kZXhPZihwYXJlbnRUYWcpO1xuICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICBjYXNlIFwiY2FwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29sXCI6XG4gICAgICAgIGNhc2UgXCJjb2xncm91cFwiOlxuICAgICAgICBjYXNlIFwiZnJhbWVzZXRcIjpcbiAgICAgICAgY2FzZSBcImZyYW1lXCI6XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgIGNhc2UgXCJ0Ym9keVwiOlxuICAgICAgICBjYXNlIFwidGRcIjpcbiAgICAgICAgY2FzZSBcInRmb290XCI6XG4gICAgICAgIGNhc2UgXCJ0aFwiOlxuICAgICAgICBjYXNlIFwidGhlYWRcIjpcbiAgICAgICAgY2FzZSBcInRyXCI6XG4gICAgICAgICAgcmV0dXJuIG51bGwgPT0gcGFyZW50VGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiYWRkcmVzc1wiOlxuICAgICAgICBjYXNlIFwiYXJ0aWNsZVwiOlxuICAgICAgICBjYXNlIFwiYXNpZGVcIjpcbiAgICAgICAgY2FzZSBcImJsb2NrcXVvdGVcIjpcbiAgICAgICAgY2FzZSBcImNlbnRlclwiOlxuICAgICAgICBjYXNlIFwiZGV0YWlsc1wiOlxuICAgICAgICBjYXNlIFwiZGlhbG9nXCI6XG4gICAgICAgIGNhc2UgXCJkaXJcIjpcbiAgICAgICAgY2FzZSBcImRpdlwiOlxuICAgICAgICBjYXNlIFwiZGxcIjpcbiAgICAgICAgY2FzZSBcImZpZWxkc2V0XCI6XG4gICAgICAgIGNhc2UgXCJmaWdjYXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJmaWd1cmVcIjpcbiAgICAgICAgY2FzZSBcImZvb3RlclwiOlxuICAgICAgICBjYXNlIFwiaGVhZGVyXCI6XG4gICAgICAgIGNhc2UgXCJoZ3JvdXBcIjpcbiAgICAgICAgY2FzZSBcIm1haW5cIjpcbiAgICAgICAgY2FzZSBcIm1lbnVcIjpcbiAgICAgICAgY2FzZSBcIm5hdlwiOlxuICAgICAgICBjYXNlIFwib2xcIjpcbiAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgY2FzZSBcInNlY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcInN1bW1hcnlcIjpcbiAgICAgICAgY2FzZSBcInVsXCI6XG4gICAgICAgIGNhc2UgXCJwcmVcIjpcbiAgICAgICAgY2FzZSBcImxpc3RpbmdcIjpcbiAgICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJoclwiOlxuICAgICAgICBjYXNlIFwieG1wXCI6XG4gICAgICAgIGNhc2UgXCJoMVwiOlxuICAgICAgICBjYXNlIFwiaDJcIjpcbiAgICAgICAgY2FzZSBcImgzXCI6XG4gICAgICAgIGNhc2UgXCJoNFwiOlxuICAgICAgICBjYXNlIFwiaDVcIjpcbiAgICAgICAgY2FzZSBcImg2XCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcbiAgICAgICAgY2FzZSBcImZvcm1cIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlIFwibGlcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc7XG4gICAgICAgIGNhc2UgXCJkZFwiOlxuICAgICAgICBjYXNlIFwiZHRcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlO1xuICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGU7XG4gICAgICAgIGNhc2UgXCJub2JyXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQW5jZXN0b3IocGFyZW50LCB0YWdOYW1lKSB7XG4gICAgICBmb3IgKDsgcGFyZW50OyApIHtcbiAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgIGlmIChwYXJlbnQudHlwZSA9PT0gdGFnTmFtZSkgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRE9NTmVzdGluZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8gfHwgZW1wdHlBbmNlc3RvckluZm9EZXY7XG4gICAgICB2YXIgcGFyZW50SW5mbyA9IGFuY2VzdG9ySW5mby5jdXJyZW50O1xuICAgICAgYW5jZXN0b3JJbmZvID0gKHBhcmVudEluZm8gPSBpc1RhZ1ZhbGlkV2l0aFBhcmVudChcbiAgICAgICAgY2hpbGRUYWcsXG4gICAgICAgIHBhcmVudEluZm8gJiYgcGFyZW50SW5mby50YWdcbiAgICAgIClcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogcGFyZW50SW5mbylcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IHBhcmVudEluZm8gfHwgYW5jZXN0b3JJbmZvO1xuICAgICAgaWYgKCFhbmNlc3RvckluZm8pIHJldHVybiAhMDtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mby50YWc7XG4gICAgICB2YXIgd2FybktleSA9IFN0cmluZyghIXBhcmVudEluZm8pICsgXCJ8XCIgKyBjaGlsZFRhZyArIFwifFwiICsgYW5jZXN0b3JJbmZvO1xuICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHJldHVybiAhMTtcbiAgICAgIGRpZFdhcm5bd2FybktleV0gPSAhMDtcbiAgICAgIHZhciBhbmNlc3RvciA9ICh3YXJuS2V5ID0gY3VycmVudClcbiAgICAgICAgPyBmaW5kQW5jZXN0b3Iod2FybktleS5yZXR1cm4sIGFuY2VzdG9ySW5mbylcbiAgICAgICAgOiBudWxsO1xuICAgICAgd2FybktleSA9XG4gICAgICAgIG51bGwgIT09IHdhcm5LZXkgJiYgbnVsbCAhPT0gYW5jZXN0b3JcbiAgICAgICAgICA/IGRlc2NyaWJlQW5jZXN0b3JzKGFuY2VzdG9yLCB3YXJuS2V5LCBudWxsKVxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIGFuY2VzdG9yID0gXCI8XCIgKyBjaGlsZFRhZyArIFwiPlwiO1xuICAgICAgcGFyZW50SW5mb1xuICAgICAgICA/ICgocGFyZW50SW5mbyA9IFwiXCIpLFxuICAgICAgICAgIFwidGFibGVcIiA9PT0gYW5jZXN0b3JJbmZvICYmXG4gICAgICAgICAgICBcInRyXCIgPT09IGNoaWxkVGFnICYmXG4gICAgICAgICAgICAocGFyZW50SW5mbyArPVxuICAgICAgICAgICAgICBcIiBBZGQgYSA8dGJvZHk+LCA8dGhlYWQ+IG9yIDx0Zm9vdD4gdG8geW91ciBjb2RlIHRvIG1hdGNoIHRoZSBET00gdHJlZSBnZW5lcmF0ZWQgYnkgdGhlIGJyb3dzZXIuXCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsICVzIGNhbm5vdCBiZSBhIGNoaWxkIG9mIDwlcz4uJXNcXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIGFuY2VzdG9yLFxuICAgICAgICAgICAgYW5jZXN0b3JJbmZvLFxuICAgICAgICAgICAgcGFyZW50SW5mbyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsICVzIGNhbm5vdCBiZSBhIGRlc2NlbmRhbnQgb2YgPCVzPi5cXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIGFuY2VzdG9yLFxuICAgICAgICAgICAgYW5jZXN0b3JJbmZvLFxuICAgICAgICAgICAgd2FybktleVxuICAgICAgICAgICk7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlVGV4dE5lc3RpbmcoY2hpbGRUZXh0LCBwYXJlbnRUYWcpIHtcbiAgICAgIGlmIChpc1RhZ1ZhbGlkV2l0aFBhcmVudChcIiN0ZXh0XCIsIHBhcmVudFRhZykpIHJldHVybiAhMDtcbiAgICAgIHZhciB3YXJuS2V5ID0gXCIjdGV4dHxcIiArIHBhcmVudFRhZztcbiAgICAgIGlmIChkaWRXYXJuW3dhcm5LZXldKSByZXR1cm4gITE7XG4gICAgICBkaWRXYXJuW3dhcm5LZXldID0gITA7XG4gICAgICB2YXIgYW5jZXN0b3IgPSAod2FybktleSA9IGN1cnJlbnQpXG4gICAgICAgID8gZmluZEFuY2VzdG9yKHdhcm5LZXksIHBhcmVudFRhZylcbiAgICAgICAgOiBudWxsO1xuICAgICAgd2FybktleSA9XG4gICAgICAgIG51bGwgIT09IHdhcm5LZXkgJiYgbnVsbCAhPT0gYW5jZXN0b3JcbiAgICAgICAgICA/IGRlc2NyaWJlQW5jZXN0b3JzKFxuICAgICAgICAgICAgICBhbmNlc3RvcixcbiAgICAgICAgICAgICAgd2FybktleSxcbiAgICAgICAgICAgICAgNiAhPT0gd2FybktleS50YWcgPyB7IGNoaWxkcmVuOiBudWxsIH0gOiBudWxsXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcIlwiO1xuICAgICAgL1xcUy8udGVzdChjaGlsZFRleHQpXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW4gSFRNTCwgdGV4dCBub2RlcyBjYW5ub3QgYmUgYSBjaGlsZCBvZiA8JXM+LlxcblRoaXMgd2lsbCBjYXVzZSBhIGh5ZHJhdGlvbiBlcnJvci4lc1wiLFxuICAgICAgICAgICAgcGFyZW50VGFnLFxuICAgICAgICAgICAgd2FybktleVxuICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCB3aGl0ZXNwYWNlIHRleHQgbm9kZXMgY2Fubm90IGJlIGEgY2hpbGQgb2YgPCVzPi4gTWFrZSBzdXJlIHlvdSBkb24ndCBoYXZlIGFueSBleHRyYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGFncyBvbiBlYWNoIGxpbmUgb2YgeW91ciBzb3VyY2UgY29kZS5cXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIHBhcmVudFRhZyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRUZXh0Q29udGVudChub2RlLCB0ZXh0KSB7XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZpcnN0Q2hpbGQgJiZcbiAgICAgICAgICBmaXJzdENoaWxkID09PSBub2RlLmxhc3RDaGlsZCAmJlxuICAgICAgICAgIDMgPT09IGZpcnN0Q2hpbGQubm9kZVR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbWVsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGh5cGhlblBhdHRlcm4sIGZ1bmN0aW9uIChfLCBjaGFyYWN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yU3R5bGUoc3R5bGUsIHN0eWxlTmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBpc0N1c3RvbVByb3BlcnR5ID0gMCA9PT0gc3R5bGVOYW1lLmluZGV4T2YoXCItLVwiKTtcbiAgICAgIGlzQ3VzdG9tUHJvcGVydHkgfHxcbiAgICAgICAgKC0xIDwgc3R5bGVOYW1lLmluZGV4T2YoXCItXCIpXG4gICAgICAgICAgPyAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgIHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSkgfHxcbiAgICAgICAgICAgICgod2FybmVkU3R5bGVOYW1lc1tzdHlsZU5hbWVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzP1wiLFxuICAgICAgICAgICAgICBzdHlsZU5hbWUsXG4gICAgICAgICAgICAgIGNhbWVsaXplKHN0eWxlTmFtZS5yZXBsYWNlKG1zUGF0dGVybiwgXCJtcy1cIikpXG4gICAgICAgICAgICApKVxuICAgICAgICAgIDogYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuLnRlc3Qoc3R5bGVOYW1lKVxuICAgICAgICAgICAgPyAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgICAgd2FybmVkU3R5bGVOYW1lc1tzdHlsZU5hbWVdKSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzP1wiLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHlsZU5hbWUuc2xpY2UoMSlcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogIWJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybi50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAgICAgICAod2FybmVkU3R5bGVWYWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmXG4gICAgICAgICAgICAgICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdKSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG5cXCd0IGNvbnRhaW4gYSBzZW1pY29sb24uIFRyeSBcIiVzOiAlc1wiIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sIFwiXCIpXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAoaXNOYU4odmFsdWUpXG4gICAgICAgICAgICA/IHdhcm5lZEZvck5hTlZhbHVlIHx8XG4gICAgICAgICAgICAgICgod2FybmVkRm9yTmFOVmFsdWUgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuXCIsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6IGlzRmluaXRlKHZhbHVlKSB8fFxuICAgICAgICAgICAgICB3YXJuZWRGb3JJbmZpbml0eVZhbHVlIHx8XG4gICAgICAgICAgICAgICgod2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcImBJbmZpbml0eWAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LlwiLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICApKSkpO1xuICAgICAgbnVsbCA9PSB2YWx1ZSB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiXCIgPT09IHZhbHVlXG4gICAgICAgID8gaXNDdXN0b21Qcm9wZXJ0eVxuICAgICAgICAgID8gc3R5bGUuc2V0UHJvcGVydHkoc3R5bGVOYW1lLCBcIlwiKVxuICAgICAgICAgIDogXCJmbG9hdFwiID09PSBzdHlsZU5hbWVcbiAgICAgICAgICAgID8gKHN0eWxlLmNzc0Zsb2F0ID0gXCJcIilcbiAgICAgICAgICAgIDogKHN0eWxlW3N0eWxlTmFtZV0gPSBcIlwiKVxuICAgICAgICA6IGlzQ3VzdG9tUHJvcGVydHlcbiAgICAgICAgICA/IHN0eWxlLnNldFByb3BlcnR5KHN0eWxlTmFtZSwgdmFsdWUpXG4gICAgICAgICAgOiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgICAgMCA9PT0gdmFsdWUgfHxcbiAgICAgICAgICAgICAgdW5pdGxlc3NOdW1iZXJzLmhhcyhzdHlsZU5hbWUpXG4gICAgICAgICAgICA/IFwiZmxvYXRcIiA9PT0gc3R5bGVOYW1lXG4gICAgICAgICAgICAgID8gKHN0eWxlLmNzc0Zsb2F0ID0gdmFsdWUpXG4gICAgICAgICAgICAgIDogKGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgc3R5bGVOYW1lKSxcbiAgICAgICAgICAgICAgICAoc3R5bGVbc3R5bGVOYW1lXSA9IChcIlwiICsgdmFsdWUpLnRyaW0oKSkpXG4gICAgICAgICAgICA6IChzdHlsZVtzdHlsZU5hbWVdID0gdmFsdWUgKyBcInB4XCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvclN0eWxlcyhub2RlLCBzdHlsZXMsIHByZXZTdHlsZXMpIHtcbiAgICAgIGlmIChudWxsICE9IHN0eWxlcyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygc3R5bGVzKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlRoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArICdlbSd9fSB3aGVuIHVzaW5nIEpTWC5cIlxuICAgICAgICApO1xuICAgICAgc3R5bGVzICYmIE9iamVjdC5mcmVlemUoc3R5bGVzKTtcbiAgICAgIG5vZGUgPSBub2RlLnN0eWxlO1xuICAgICAgaWYgKG51bGwgIT0gcHJldlN0eWxlcykge1xuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgdmFyIGV4cGFuZGVkVXBkYXRlcyA9IHt9O1xuICAgICAgICAgIGlmIChwcmV2U3R5bGVzKVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByZXZTdHlsZXMpXG4gICAgICAgICAgICAgIGlmIChwcmV2U3R5bGVzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICB2YXIgbG9uZ2hhbmRzID0gc2hvcnRoYW5kVG9Mb25naGFuZFtrZXldIHx8IFtrZXldLCBpID0gMDtcbiAgICAgICAgICAgICAgICAgIGkgPCBsb25naGFuZHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgZXhwYW5kZWRVcGRhdGVzW2xvbmdoYW5kc1tpXV0gPSBrZXk7XG4gICAgICAgICAgZm9yICh2YXIgX2tleSBpbiBzdHlsZXMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShfa2V5KSAmJlxuICAgICAgICAgICAgICAoIXByZXZTdHlsZXMgfHwgcHJldlN0eWxlc1tfa2V5XSAhPT0gc3R5bGVzW19rZXldKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGtleSA9IHNob3J0aGFuZFRvTG9uZ2hhbmRbX2tleV0gfHwgW19rZXldLCBsb25naGFuZHMgPSAwO1xuICAgICAgICAgICAgICAgIGxvbmdoYW5kcyA8IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbG9uZ2hhbmRzKytcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGV4cGFuZGVkVXBkYXRlc1trZXlbbG9uZ2hhbmRzXV0gPSBfa2V5O1xuICAgICAgICAgIF9rZXkgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBrZXkkanNjb21wJDAgaW4gc3R5bGVzKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAga2V5ID0gc2hvcnRoYW5kVG9Mb25naGFuZFtrZXkkanNjb21wJDBdIHx8IFtrZXkkanNjb21wJDBdLFxuICAgICAgICAgICAgICAgIGxvbmdoYW5kcyA9IDA7XG4gICAgICAgICAgICAgIGxvbmdoYW5kcyA8IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgIGxvbmdoYW5kcysrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9rZXlba2V5W2xvbmdoYW5kc11dID0ga2V5JGpzY29tcCQwO1xuICAgICAgICAgIGtleSRqc2NvbXAkMCA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIF9rZXkyIGluIGV4cGFuZGVkVXBkYXRlcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChrZXkgPSBleHBhbmRlZFVwZGF0ZXNbX2tleTJdKSxcbiAgICAgICAgICAgICAgKGxvbmdoYW5kcyA9IF9rZXlbX2tleTJdKSAmJlxuICAgICAgICAgICAgICAgIGtleSAhPT0gbG9uZ2hhbmRzICYmXG4gICAgICAgICAgICAgICAgKChpID0ga2V5ICsgXCIsXCIgKyBsb25naGFuZHMpLCAha2V5JGpzY29tcCQwW2ldKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBrZXkkanNjb21wJDBbaV0gPSAhMDtcbiAgICAgICAgICAgICAgaSA9IGNvbnNvbGU7XG4gICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1trZXldO1xuICAgICAgICAgICAgICBpLmVycm9yLmNhbGwoXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBcIiVzIGEgc3R5bGUgcHJvcGVydHkgZHVyaW5nIHJlcmVuZGVyICglcykgd2hlbiBhIGNvbmZsaWN0aW5nIHByb3BlcnR5IGlzIHNldCAoJXMpIGNhbiBsZWFkIHRvIHN0eWxpbmcgYnVncy4gVG8gYXZvaWQgdGhpcywgZG9uJ3QgbWl4IHNob3J0aGFuZCBhbmQgbm9uLXNob3J0aGFuZCBwcm9wZXJ0aWVzIGZvciB0aGUgc2FtZSB2YWx1ZTsgaW5zdGVhZCwgcmVwbGFjZSB0aGUgc2hvcnRoYW5kIHdpdGggc2VwYXJhdGUgdmFsdWVzLlwiLFxuICAgICAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcIlwiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgPyBcIlJlbW92aW5nXCJcbiAgICAgICAgICAgICAgICAgIDogXCJVcGRhdGluZ1wiLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBsb25naGFuZHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gcHJldlN0eWxlcylcbiAgICAgICAgICAhcHJldlN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpIHx8XG4gICAgICAgICAgICAobnVsbCAhPSBzdHlsZXMgJiYgc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHx8XG4gICAgICAgICAgICAoMCA9PT0gc3R5bGVOYW1lLmluZGV4T2YoXCItLVwiKVxuICAgICAgICAgICAgICA/IG5vZGUuc2V0UHJvcGVydHkoc3R5bGVOYW1lLCBcIlwiKVxuICAgICAgICAgICAgICA6IFwiZmxvYXRcIiA9PT0gc3R5bGVOYW1lXG4gICAgICAgICAgICAgICAgPyAobm9kZS5jc3NGbG9hdCA9IFwiXCIpXG4gICAgICAgICAgICAgICAgOiAobm9kZVtzdHlsZU5hbWVdID0gXCJcIikpO1xuICAgICAgICBmb3IgKHZhciBfc3R5bGVOYW1lIGluIHN0eWxlcylcbiAgICAgICAgICAoX2tleTIgPSBzdHlsZXNbX3N0eWxlTmFtZV0pLFxuICAgICAgICAgICAgc3R5bGVzLmhhc093blByb3BlcnR5KF9zdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgIHByZXZTdHlsZXNbX3N0eWxlTmFtZV0gIT09IF9rZXkyICYmXG4gICAgICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGUobm9kZSwgX3N0eWxlTmFtZSwgX2tleTIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGZvciAoZXhwYW5kZWRVcGRhdGVzIGluIHN0eWxlcylcbiAgICAgICAgICBzdHlsZXMuaGFzT3duUHJvcGVydHkoZXhwYW5kZWRVcGRhdGVzKSAmJlxuICAgICAgICAgICAgc2V0VmFsdWVGb3JTdHlsZShub2RlLCBleHBhbmRlZFVwZGF0ZXMsIHN0eWxlc1tleHBhbmRlZFVwZGF0ZXNdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDdXN0b21FbGVtZW50KHRhZ05hbWUpIHtcbiAgICAgIGlmICgtMSA9PT0gdGFnTmFtZS5pbmRleE9mKFwiLVwiKSkgcmV0dXJuICExO1xuICAgICAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJhbm5vdGF0aW9uLXhtbFwiOlxuICAgICAgICBjYXNlIFwiY29sb3ItcHJvZmlsZVwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2Utc3JjXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2UtdXJpXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2UtZm9ybWF0XCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2UtbmFtZVwiOlxuICAgICAgICBjYXNlIFwibWlzc2luZy1nbHlwaFwiOlxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUFsaWFzKG5hbWUpIHtcbiAgICAgIHJldHVybiBhbGlhc2VzLmdldChuYW1lKSB8fCBuYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5JDEodGFnTmFtZSwgbmFtZSkge1xuICAgICAgaWYgKFxuICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMkMSwgbmFtZSkgJiZcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdXG4gICAgICApXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGlmIChyQVJJQUNhbWVsJDEudGVzdChuYW1lKSkge1xuICAgICAgICB0YWdOYW1lID0gXCJhcmlhLVwiICsgbmFtZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0YWdOYW1lID0gYXJpYVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkgPyB0YWdOYW1lIDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgPT0gdGFnTmFtZSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIEFSSUEgYXR0cmlidXRlcyBmb2xsb3cgdGhlIHBhdHRlcm4gYXJpYS0qIGFuZCBtdXN0IGJlIGxvd2VyY2FzZS5cIixcbiAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobmFtZSAhPT0gdGFnTmFtZSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICB0YWdOYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAockFSSUEkMS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRhZ05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHRhZ05hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSA/IHRhZ05hbWUgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCA9PSB0YWdOYW1lKSByZXR1cm4gKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKSwgITE7XG4gICAgICAgIG5hbWUgIT09IHRhZ05hbWUgJiZcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVW5rbm93biBBUklBIGF0dHJpYnV0ZSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB0YWdOYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gITApKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMpIHtcbiAgICAgIHZhciBpbnZhbGlkUHJvcHMgPSBbXSxcbiAgICAgICAga2V5O1xuICAgICAgZm9yIChrZXkgaW4gcHJvcHMpXG4gICAgICAgIHZhbGlkYXRlUHJvcGVydHkkMSh0eXBlLCBrZXkpIHx8IGludmFsaWRQcm9wcy5wdXNoKGtleSk7XG4gICAgICBwcm9wcyA9IGludmFsaWRQcm9wc1xuICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYFwiICsgcHJvcCArIFwiYFwiO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuICAgICAgMSA9PT0gaW52YWxpZFByb3BzLmxlbmd0aFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgYXJpYSBwcm9wICVzIG9uIDwlcz4gdGFnLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1hcmlhLXByb3BzXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApXG4gICAgICAgIDogMSA8IGludmFsaWRQcm9wcy5sZW5ndGggJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIGFyaWEgcHJvcHMgJXMgb24gPCVzPiB0YWcuIEZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWFyaWEtcHJvcHNcIixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHkodGFnTmFtZSwgbmFtZSwgdmFsdWUsIGV2ZW50UmVnaXN0cnkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMsIG5hbWUpICYmIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0pXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChcIm9uZm9jdXNpblwiID09PSBsb3dlckNhc2VkTmFtZSB8fCBcIm9uZm9jdXNvdXRcIiA9PT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgdXNlcyBvbkZvY3VzIGFuZCBvbkJsdXIgaW5zdGVhZCBvZiBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQuIEFsbCBSZWFjdCBldmVudHMgYXJlIG5vcm1hbGl6ZWQgdG8gYnViYmxlLCBzbyBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQgYXJlIG5vdCBuZWVkZWQvc3VwcG9ydGVkIGJ5IFJlYWN0LlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAoKFwiZm9ybVwiID09PSB0YWdOYW1lICYmIFwiYWN0aW9uXCIgPT09IG5hbWUpIHx8XG4gICAgICAgICAgKFwiaW5wdXRcIiA9PT0gdGFnTmFtZSAmJiBcImZvcm1BY3Rpb25cIiA9PT0gbmFtZSkgfHxcbiAgICAgICAgICAoXCJidXR0b25cIiA9PT0gdGFnTmFtZSAmJiBcImZvcm1BY3Rpb25cIiA9PT0gbmFtZSkpXG4gICAgICApXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGlmIChudWxsICE9IGV2ZW50UmVnaXN0cnkpIHtcbiAgICAgICAgdGFnTmFtZSA9IGV2ZW50UmVnaXN0cnkucG9zc2libGVSZWdpc3RyYXRpb25OYW1lcztcbiAgICAgICAgaWYgKGV2ZW50UmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGV2ZW50UmVnaXN0cnkgPSB0YWdOYW1lLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICAgID8gdGFnTmFtZVtsb3dlckNhc2VkTmFtZV1cbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9IGV2ZW50UmVnaXN0cnkpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBldmVudFJlZ2lzdHJ5XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoRVZFTlRfTkFNRV9SRUdFWC50ZXN0KG5hbWUpKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlVua25vd24gZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBJdCB3aWxsIGJlIGlnbm9yZWQuXCIsXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gUmVhY3QgZXZlbnRzIHVzZSB0aGUgY2FtZWxDYXNlIG5hbWluZyBjb252ZW50aW9uLCBmb3IgZXhhbXBsZSBgb25DbGlja2AuXCIsXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChyQVJJQS50ZXN0KG5hbWUpIHx8IHJBUklBQ2FtZWwudGVzdChuYW1lKSkgcmV0dXJuICEwO1xuICAgICAgaWYgKFwiaW5uZXJodG1sXCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkRpcmVjdGx5IHNldHRpbmcgcHJvcGVydHkgYGlubmVySFRNTGAgaXMgbm90IHBlcm1pdHRlZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIGxvb2t1cCBkb2N1bWVudGF0aW9uIG9uIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXCJhcmlhXCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBgYXJpYWAgYXR0cmlidXRlIGlzIHJlc2VydmVkIGZvciBmdXR1cmUgdXNlIGluIFJlYWN0LiBQYXNzIGluZGl2aWR1YWwgYGFyaWEtYCBhdHRyaWJ1dGVzIGluc3RlYWQuXCJcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwiaXNcIiA9PT0gbG93ZXJDYXNlZE5hbWUgJiZcbiAgICAgICAgbnVsbCAhPT0gdmFsdWUgJiZcbiAgICAgICAgdm9pZCAwICE9PSB2YWx1ZSAmJlxuICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWNlaXZlZCBhIGAlc2AgZm9yIGEgc3RyaW5nIGF0dHJpYnV0ZSBgaXNgLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0IHRoZSB2YWx1ZSB0byBhIHN0cmluZy5cIixcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgJiYgaXNOYU4odmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlY2VpdmVkIE5hTiBmb3IgdGhlIGAlc2AgYXR0cmlidXRlLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0IHRoZSB2YWx1ZSB0byBhIHN0cmluZy5cIixcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAocG9zc2libGVTdGFuZGFyZE5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKChsb3dlckNhc2VkTmFtZSA9IHBvc3NpYmxlU3RhbmRhcmROYW1lc1tsb3dlckNhc2VkTmFtZV0pLFxuICAgICAgICAgIGxvd2VyQ2FzZWROYW1lICE9PSBuYW1lKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBET00gcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/XCIsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGxvd2VyQ2FzZWROYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChuYW1lICE9PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdCBkb2VzIG5vdCByZWNvZ25pemUgdGhlIGAlc2AgcHJvcCBvbiBhIERPTSBlbGVtZW50LiBJZiB5b3UgaW50ZW50aW9uYWxseSB3YW50IGl0IHRvIGFwcGVhciBpbiB0aGUgRE9NIGFzIGEgY3VzdG9tIGF0dHJpYnV0ZSwgc3BlbGwgaXQgYXMgbG93ZXJjYXNlIGAlc2AgaW5zdGVhZC4gSWYgeW91IGFjY2lkZW50YWxseSBwYXNzZWQgaXQgZnJvbSBhIHBhcmVudCBjb21wb25lbnQsIHJlbW92ZSBpdCBmcm9tIHRoZSBET00gZWxlbWVudC5cIixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBsb3dlckNhc2VkTmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwiaW5uZXJUZXh0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0Q29udGVudFwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiYXV0b0ZvY3VzXCI6XG4gICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInNwZWxsQ2hlY2tcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkcmFnZ2FibGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgY2FzZSBcImF1dG9SZXZlcnNlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiOlxuICAgICAgICAgICAgY2FzZSBcImZvY3VzYWJsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInByZXNlcnZlQWxwaGFcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgICAgIGNhc2UgXCJhc3luY1wiOlxuICAgICAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJub1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgICAgICBjYXNlIFwicmVhZE9ubHlcIjpcbiAgICAgICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgICAgICBjYXNlIFwic2NvcGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjYXB0dXJlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZG93bmxvYWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS5zbGljZSgwLCA1KTtcbiAgICAgICAgICAgICAgaWYgKFwiZGF0YS1cIiA9PT0gbG93ZXJDYXNlZE5hbWUgfHwgXCJhcmlhLVwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG5JZiB5b3Ugd2FudCB0byB3cml0ZSBpdCB0byB0aGUgRE9NLCBwYXNzIGEgc3RyaW5nIGluc3RlYWQ6ICVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG5JZiB5b3Ugd2FudCB0byB3cml0ZSBpdCB0byB0aGUgRE9NLCBwYXNzIGEgc3RyaW5nIGluc3RlYWQ6ICVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uXFxuXFxuSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sIHBhc3MgJXM9e2NvbmRpdGlvbiA/IHZhbHVlIDogdW5kZWZpbmVkfSBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICByZXR1cm4gKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMCksICExO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgaWYgKFwiZmFsc2VcIiA9PT0gdmFsdWUgfHwgXCJ0cnVlXCIgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFsbG93RnVsbFNjcmVlblwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJjb250cm9sc1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJmb3JtTm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJub01vZHVsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICBjYXNlIFwicGxheXNJbmxpbmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicmV2ZXJzZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIml0ZW1TY29wZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIHRoZSBzdHJpbmcgYCVzYCBmb3IgdGhlIGJvb2xlYW4gYXR0cmlidXRlIGAlc2AuICVzIERpZCB5b3UgbWVhbiAlcz17JXN9P1wiLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgXCJmYWxzZVwiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgID8gXCJUaGUgYnJvd3NlciB3aWxsIGludGVycHJldCBpdCBhcyBhIHRydXRoeSB2YWx1ZS5cIlxuICAgICAgICAgICAgICAgIDogJ0FsdGhvdWdoIHRoaXMgd29ya3MsIGl0IHdpbGwgbm90IHdvcmsgYXMgZXhwZWN0ZWQgaWYgeW91IHBhc3MgdGhlIHN0cmluZyBcImZhbHNlXCIuJyxcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITA7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuVW5rbm93blByb3BlcnRpZXModHlwZSwgcHJvcHMsIGV2ZW50UmVnaXN0cnkpIHtcbiAgICAgIHZhciB1bmtub3duUHJvcHMgPSBbXSxcbiAgICAgICAga2V5O1xuICAgICAgZm9yIChrZXkgaW4gcHJvcHMpXG4gICAgICAgIHZhbGlkYXRlUHJvcGVydHkodHlwZSwga2V5LCBwcm9wc1trZXldLCBldmVudFJlZ2lzdHJ5KSB8fFxuICAgICAgICAgIHVua25vd25Qcm9wcy5wdXNoKGtleSk7XG4gICAgICBwcm9wcyA9IHVua25vd25Qcm9wc1xuICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYFwiICsgcHJvcCArIFwiYFwiO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuICAgICAgMSA9PT0gdW5rbm93blByb3BzLmxlbmd0aFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgdmFsdWUgZm9yIHByb3AgJXMgb24gPCVzPiB0YWcuIEVpdGhlciByZW1vdmUgaXQgZnJvbSB0aGUgZWxlbWVudCwgb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCBpdCBpbiB0aGUgRE9NLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvYXR0cmlidXRlLWJlaGF2aW9yIFwiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKVxuICAgICAgICA6IDEgPCB1bmtub3duUHJvcHMubGVuZ3RoICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW52YWxpZCB2YWx1ZXMgZm9yIHByb3BzICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgZWxlbWVudCwgb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCB0aGVtIGluIHRoZSBET00uIEZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9hdHRyaWJ1dGUtYmVoYXZpb3IgXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzYW5pdGl6ZVVSTCh1cmwpIHtcbiAgICAgIHJldHVybiBpc0phdmFTY3JpcHRQcm90b2NvbC50ZXN0KFwiXCIgKyB1cmwpXG4gICAgICAgID8gXCJqYXZhc2NyaXB0OnRocm93IG5ldyBFcnJvcignUmVhY3QgaGFzIGJsb2NrZWQgYSBqYXZhc2NyaXB0OiBVUkwgYXMgYSBzZWN1cml0eSBwcmVjYXV0aW9uLicpXCJcbiAgICAgICAgOiB1cmw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSB7XG4gICAgICBuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCBuYXRpdmVFdmVudC5zcmNFbGVtZW50IHx8IHdpbmRvdztcbiAgICAgIG5hdGl2ZUV2ZW50LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50ICYmXG4gICAgICAgIChuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KTtcbiAgICAgIHJldHVybiAzID09PSBuYXRpdmVFdmVudC5ub2RlVHlwZSA/IG5hdGl2ZUV2ZW50LnBhcmVudE5vZGUgOiBuYXRpdmVFdmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlICYmICh0YXJnZXQgPSBpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSkpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGFyZ2V0W2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICAgIGE6IHN3aXRjaCAoXG4gICAgICAgICAgKCh0YXJnZXQgPSBpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSksIGludGVybmFsSW5zdGFuY2UudHlwZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgICB1cGRhdGVJbnB1dChcbiAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICBwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgICBwcm9wcy50eXBlLFxuICAgICAgICAgICAgICBwcm9wcy5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA9IHByb3BzLm5hbWU7XG4gICAgICAgICAgICBpZiAoXCJyYWRpb1wiID09PSBwcm9wcy50eXBlICYmIG51bGwgIT0gaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICAgICAgICBmb3IgKHByb3BzID0gdGFyZ2V0OyBwcm9wcy5wYXJlbnROb2RlOyApIHByb3BzID0gcHJvcHMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihpbnRlcm5hbEluc3RhbmNlLCBcIm5hbWVcIik7XG4gICAgICAgICAgICAgIHByb3BzID0gcHJvcHMucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAnaW5wdXRbbmFtZT1cIicgK1xuICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhcbiAgICAgICAgICAgICAgICAgICAgXCJcIiArIGludGVybmFsSW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgJ1wiXVt0eXBlPVwicmFkaW9cIl0nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA8IHByb3BzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlKytcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyTm9kZSA9IHByb3BzW2ludGVybmFsSW5zdGFuY2VdO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlck5vZGUgIT09IHRhcmdldCAmJiBvdGhlck5vZGUuZm9ybSA9PT0gdGFyZ2V0LmZvcm0pIHtcbiAgICAgICAgICAgICAgICAgIHZhciBvdGhlclByb3BzID0gb3RoZXJOb2RlW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoIW90aGVyUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiUmVhY3RET01JbnB1dDogTWl4aW5nIFJlYWN0IGFuZCBub24tUmVhY3QgcmFkaW8gaW5wdXRzIHdpdGggdGhlIHNhbWUgYG5hbWVgIGlzIG5vdCBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUlucHV0KFxuICAgICAgICAgICAgICAgICAgICBvdGhlck5vZGUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMubmFtZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlIDwgcHJvcHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UrK1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKG90aGVyTm9kZSA9IHByb3BzW2ludGVybmFsSW5zdGFuY2VdKSxcbiAgICAgICAgICAgICAgICAgIG90aGVyTm9kZS5mb3JtID09PSB0YXJnZXQuZm9ybSAmJlxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICAgIHVwZGF0ZVRleHRhcmVhKHRhcmdldCwgcHJvcHMudmFsdWUsIHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgIChpbnRlcm5hbEluc3RhbmNlID0gcHJvcHMudmFsdWUpLFxuICAgICAgICAgICAgICBudWxsICE9IGludGVybmFsSW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICB1cGRhdGVPcHRpb25zKHRhcmdldCwgISFwcm9wcy5tdWx0aXBsZSwgaW50ZXJuYWxJbnN0YW5jZSwgITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhdGNoZWRVcGRhdGVzJDEoZm4sIGEsIGIpIHtcbiAgICAgIGlmIChpc0luc2lkZUV2ZW50SGFuZGxlcikgcmV0dXJuIGZuKGEsIGIpO1xuICAgICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSAhMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBmbihhKTtcbiAgICAgICAgcmV0dXJuIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gITEpLFxuICAgICAgICAgIG51bGwgIT09IHJlc3RvcmVUYXJnZXQgfHwgbnVsbCAhPT0gcmVzdG9yZVF1ZXVlKVxuICAgICAgICApXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGZsdXNoU3luY1dvcmskMSgpLFxuICAgICAgICAgICAgcmVzdG9yZVRhcmdldCAmJlxuICAgICAgICAgICAgICAoKGEgPSByZXN0b3JlVGFyZ2V0KSxcbiAgICAgICAgICAgICAgKGZuID0gcmVzdG9yZVF1ZXVlKSxcbiAgICAgICAgICAgICAgKHJlc3RvcmVRdWV1ZSA9IHJlc3RvcmVUYXJnZXQgPSBudWxsKSxcbiAgICAgICAgICAgICAgcmVzdG9yZVN0YXRlT2ZUYXJnZXQoYSksXG4gICAgICAgICAgICAgIGZuKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgZm4ubGVuZ3RoOyBhKyspIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KGZuW2FdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgdmFyIHN0YXRlTm9kZSA9IGluc3Quc3RhdGVOb2RlO1xuICAgICAgaWYgKG51bGwgPT09IHN0YXRlTm9kZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgcHJvcHMgPSBzdGF0ZU5vZGVbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbDtcbiAgICAgIGlmIChudWxsID09PSBwcm9wcykgcmV0dXJuIG51bGw7XG4gICAgICBzdGF0ZU5vZGUgPSBwcm9wc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIGE6IHN3aXRjaCAocmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICBjYXNlIFwib25DbGlja1wiOlxuICAgICAgICBjYXNlIFwib25DbGlja0NhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uRG91YmxlQ2xpY2tcIjpcbiAgICAgICAgY2FzZSBcIm9uRG91YmxlQ2xpY2tDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlRG93blwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZURvd25DYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlTW92ZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZU1vdmVDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlVXBcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VVcENhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VFbnRlclwiOlxuICAgICAgICAgIChwcm9wcyA9ICFwcm9wcy5kaXNhYmxlZCkgfHxcbiAgICAgICAgICAgICgoaW5zdCA9IGluc3QudHlwZSksXG4gICAgICAgICAgICAocHJvcHMgPSAhKFxuICAgICAgICAgICAgICBcImJ1dHRvblwiID09PSBpbnN0IHx8XG4gICAgICAgICAgICAgIFwiaW5wdXRcIiA9PT0gaW5zdCB8fFxuICAgICAgICAgICAgICBcInNlbGVjdFwiID09PSBpbnN0IHx8XG4gICAgICAgICAgICAgIFwidGV4dGFyZWFcIiA9PT0gaW5zdFxuICAgICAgICAgICAgKSkpO1xuICAgICAgICAgIGluc3QgPSAhcHJvcHM7XG4gICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpbnN0ID0gITE7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoc3RhdGVOb2RlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHN0YXRlTm9kZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCBgXCIgK1xuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSArXG4gICAgICAgICAgICBcImAgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgXCIgK1xuICAgICAgICAgICAgdHlwZW9mIHN0YXRlTm9kZSArXG4gICAgICAgICAgICBcImAgdHlwZS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHN0YXRlTm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgIGlmIChmYWxsYmFja1RleHQpIHJldHVybiBmYWxsYmFja1RleHQ7XG4gICAgICB2YXIgc3RhcnQsXG4gICAgICAgIHN0YXJ0VmFsdWUgPSBzdGFydFRleHQsXG4gICAgICAgIHN0YXJ0TGVuZ3RoID0gc3RhcnRWYWx1ZS5sZW5ndGgsXG4gICAgICAgIGVuZCxcbiAgICAgICAgZW5kVmFsdWUgPSBcInZhbHVlXCIgaW4gcm9vdCA/IHJvb3QudmFsdWUgOiByb290LnRleHRDb250ZW50LFxuICAgICAgICBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG4gICAgICBmb3IgKFxuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIHN0YXJ0IDwgc3RhcnRMZW5ndGggJiYgc3RhcnRWYWx1ZVtzdGFydF0gPT09IGVuZFZhbHVlW3N0YXJ0XTtcbiAgICAgICAgc3RhcnQrK1xuICAgICAgKTtcbiAgICAgIHZhciBtaW5FbmQgPSBzdGFydExlbmd0aCAtIHN0YXJ0O1xuICAgICAgZm9yIChcbiAgICAgICAgZW5kID0gMTtcbiAgICAgICAgZW5kIDw9IG1pbkVuZCAmJlxuICAgICAgICBzdGFydFZhbHVlW3N0YXJ0TGVuZ3RoIC0gZW5kXSA9PT0gZW5kVmFsdWVbZW5kTGVuZ3RoIC0gZW5kXTtcbiAgICAgICAgZW5kKytcbiAgICAgICk7XG4gICAgICByZXR1cm4gKGZhbGxiYWNrVGV4dCA9IGVuZFZhbHVlLnNsaWNlKHN0YXJ0LCAxIDwgZW5kID8gMSAtIGVuZCA6IHZvaWQgMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSB7XG4gICAgICB2YXIga2V5Q29kZSA9IG5hdGl2ZUV2ZW50LmtleUNvZGU7XG4gICAgICBcImNoYXJDb2RlXCIgaW4gbmF0aXZlRXZlbnRcbiAgICAgICAgPyAoKG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQuY2hhckNvZGUpLFxuICAgICAgICAgIDAgPT09IG5hdGl2ZUV2ZW50ICYmIDEzID09PSBrZXlDb2RlICYmIChuYXRpdmVFdmVudCA9IDEzKSlcbiAgICAgICAgOiAobmF0aXZlRXZlbnQgPSBrZXlDb2RlKTtcbiAgICAgIDEwID09PSBuYXRpdmVFdmVudCAmJiAobmF0aXZlRXZlbnQgPSAxMyk7XG4gICAgICByZXR1cm4gMzIgPD0gbmF0aXZlRXZlbnQgfHwgMTMgPT09IG5hdGl2ZUV2ZW50ID8gbmF0aXZlRXZlbnQgOiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSgpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlKCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVTeW50aGV0aWNFdmVudChJbnRlcmZhY2UpIHtcbiAgICAgIGZ1bmN0aW9uIFN5bnRoZXRpY0Jhc2VFdmVudChcbiAgICAgICAgcmVhY3ROYW1lLFxuICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fcmVhY3ROYW1lID0gcmVhY3ROYW1lO1xuICAgICAgICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgdGhpcy50eXBlID0gcmVhY3RFdmVudFR5cGU7XG4gICAgICAgIHRoaXMubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKVxuICAgICAgICAgIEludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiZcbiAgICAgICAgICAgICgocmVhY3ROYW1lID0gSW50ZXJmYWNlW3Byb3BOYW1lXSksXG4gICAgICAgICAgICAodGhpc1twcm9wTmFtZV0gPSByZWFjdE5hbWVcbiAgICAgICAgICAgICAgPyByZWFjdE5hbWUobmF0aXZlRXZlbnQpXG4gICAgICAgICAgICAgIDogbmF0aXZlRXZlbnRbcHJvcE5hbWVdKSk7XG4gICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gKFxuICAgICAgICAgIG51bGwgIT0gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgICAgICAgPyBuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkXG4gICAgICAgICAgICA6ICExID09PSBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZVxuICAgICAgICApXG4gICAgICAgICAgPyBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZVxuICAgICAgICAgIDogZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlO1xuICAgICAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGFzc2lnbihTeW50aGV0aWNCYXNlRXZlbnQucHJvdG90eXBlLCB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gITA7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgICAgICBldmVudCAmJlxuICAgICAgICAgICAgKGV2ZW50LnByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICAgID8gZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICA6IFwidW5rbm93blwiICE9PSB0eXBlb2YgZXZlbnQucmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnQucmV0dXJuVmFsdWUgPSAhMSksXG4gICAgICAgICAgICAodGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgICAgIGV2ZW50ICYmXG4gICAgICAgICAgICAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uXG4gICAgICAgICAgICAgID8gZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgOiBcInVua25vd25cIiAhPT0gdHlwZW9mIGV2ZW50LmNhbmNlbEJ1YmJsZSAmJlxuICAgICAgICAgICAgICAgIChldmVudC5jYW5jZWxCdWJibGUgPSAhMCksXG4gICAgICAgICAgICAodGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBlcnNpc3Q6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBpc1BlcnNpc3RlbnQ6IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBTeW50aGV0aWNCYXNlRXZlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vZGlmaWVyU3RhdGVHZXR0ZXIoa2V5QXJnKSB7XG4gICAgICB2YXIgbmF0aXZlRXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGVcbiAgICAgICAgPyBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZylcbiAgICAgICAgOiAoa2V5QXJnID0gbW9kaWZpZXJLZXlUb1Byb3Bba2V5QXJnXSlcbiAgICAgICAgICA/ICEhbmF0aXZlRXZlbnRba2V5QXJnXVxuICAgICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBtb2RpZmllclN0YXRlR2V0dGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgICAgcmV0dXJuIC0xICE9PSBFTkRfS0VZQ09ERVMuaW5kZXhPZihuYXRpdmVFdmVudC5rZXlDb2RlKTtcbiAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCkge1xuICAgICAgbmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC5kZXRhaWw7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5hdGl2ZUV2ZW50ICYmIFwiZGF0YVwiIGluIG5hdGl2ZUV2ZW50XG4gICAgICAgID8gbmF0aXZlRXZlbnQuZGF0YVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICBpZiAobmF0aXZlRXZlbnQud2hpY2ggIT09IFNQQUNFQkFSX0NPREUpIHJldHVybiBudWxsO1xuICAgICAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSAhMDtcbiAgICAgICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcbiAgICAgICAgY2FzZSBcInRleHRJbnB1dFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZG9tRXZlbnROYW1lID0gbmF0aXZlRXZlbnQuZGF0YSksXG4gICAgICAgICAgICBkb21FdmVudE5hbWUgPT09IFNQQUNFQkFSX0NIQVIgJiYgaGFzU3BhY2VLZXlwcmVzc1xuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiBkb21FdmVudE5hbWVcbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKGlzQ29tcG9zaW5nKVxuICAgICAgICByZXR1cm4gXCJjb21wb3NpdGlvbmVuZFwiID09PSBkb21FdmVudE5hbWUgfHxcbiAgICAgICAgICAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgJiZcbiAgICAgICAgICAgIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSlcbiAgICAgICAgICA/ICgoZG9tRXZlbnROYW1lID0gZ2V0RGF0YSgpKSxcbiAgICAgICAgICAgIChmYWxsYmFja1RleHQgPSBzdGFydFRleHQgPSByb290ID0gbnVsbCksXG4gICAgICAgICAgICAoaXNDb21wb3NpbmcgPSAhMSksXG4gICAgICAgICAgICBkb21FdmVudE5hbWUpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcInBhc3RlXCI6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LmN0cmxLZXkgfHxcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQuYWx0S2V5IHx8XG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50Lm1ldGFLZXlcbiAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgIChuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5jaGFyICYmIDEgPCBuYXRpdmVFdmVudC5jaGFyLmxlbmd0aClcbiAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmNoYXI7XG4gICAgICAgICAgICBpZiAobmF0aXZlRXZlbnQud2hpY2gpXG4gICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50LndoaWNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxuICAgICAgICAgIHJldHVybiB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSAmJiBcImtvXCIgIT09IG5hdGl2ZUV2ZW50LmxvY2FsZVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGV4dElucHV0RWxlbWVudChlbGVtKSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIFwiaW5wdXRcIiA9PT0gbm9kZU5hbWVcbiAgICAgICAgPyAhIXN1cHBvcnRlZElucHV0VHlwZXNbZWxlbS50eXBlXVxuICAgICAgICA6IFwidGV4dGFyZWFcIiA9PT0gbm9kZU5hbWVcbiAgICAgICAgICA/ICEwXG4gICAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZChldmVudE5hbWVTdWZmaXgpIHtcbiAgICAgIGlmICghY2FuVXNlRE9NKSByZXR1cm4gITE7XG4gICAgICBldmVudE5hbWVTdWZmaXggPSBcIm9uXCIgKyBldmVudE5hbWVTdWZmaXg7XG4gICAgICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWVTdWZmaXggaW4gZG9jdW1lbnQ7XG4gICAgICBpc1N1cHBvcnRlZCB8fFxuICAgICAgICAoKGlzU3VwcG9ydGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksXG4gICAgICAgIGlzU3VwcG9ydGVkLnNldEF0dHJpYnV0ZShldmVudE5hbWVTdWZmaXgsIFwicmV0dXJuO1wiKSxcbiAgICAgICAgKGlzU3VwcG9ydGVkID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaXNTdXBwb3J0ZWRbZXZlbnROYW1lU3VmZml4XSkpO1xuICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgaW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgdGFyZ2V0XG4gICAgKSB7XG4gICAgICByZXN0b3JlVGFyZ2V0XG4gICAgICAgID8gcmVzdG9yZVF1ZXVlXG4gICAgICAgICAgPyByZXN0b3JlUXVldWUucHVzaCh0YXJnZXQpXG4gICAgICAgICAgOiAocmVzdG9yZVF1ZXVlID0gW3RhcmdldF0pXG4gICAgICAgIDogKHJlc3RvcmVUYXJnZXQgPSB0YXJnZXQpO1xuICAgICAgaW5zdCA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhpbnN0LCBcIm9uQ2hhbmdlXCIpO1xuICAgICAgMCA8IGluc3QubGVuZ3RoICYmXG4gICAgICAgICgobmF0aXZlRXZlbnQgPSBuZXcgU3ludGhldGljRXZlbnQoXG4gICAgICAgICAgXCJvbkNoYW5nZVwiLFxuICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKSksXG4gICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IGV2ZW50OiBuYXRpdmVFdmVudCwgbGlzdGVuZXJzOiBpbnN0IH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuRXZlbnRJbkJhdGNoKGRpc3BhdGNoUXVldWUpIHtcbiAgICAgIHByb2Nlc3NEaXNwYXRjaFF1ZXVlKGRpc3BhdGNoUXVldWUsIDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCkge1xuICAgICAgdmFyIHRhcmdldE5vZGUgPSBnZXROb2RlRnJvbUluc3RhbmNlKHRhcmdldEluc3QpO1xuICAgICAgaWYgKHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKHRhcmdldE5vZGUpKSByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKFwiY2hhbmdlXCIgPT09IGRvbUV2ZW50TmFtZSkgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCkge1xuICAgICAgYWN0aXZlRWxlbWVudCQxICYmXG4gICAgICAgIChhY3RpdmVFbGVtZW50JDEuZGV0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKSxcbiAgICAgICAgKGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBhY3RpdmVFbGVtZW50JDEgPSBudWxsKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5Q2hhbmdlKG5hdGl2ZUV2ZW50KSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwidmFsdWVcIiA9PT0gbmF0aXZlRXZlbnQucHJvcGVydHlOYW1lICYmXG4gICAgICAgIGdldEluc3RJZlZhbHVlQ2hhbmdlZChhY3RpdmVFbGVtZW50SW5zdCQxKVxuICAgICAgKSB7XG4gICAgICAgIHZhciBkaXNwYXRjaFF1ZXVlID0gW107XG4gICAgICAgIGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChcbiAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEsXG4gICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpXG4gICAgICAgICk7XG4gICAgICAgIGJhdGNoZWRVcGRhdGVzJDEocnVuRXZlbnRJbkJhdGNoLCBkaXNwYXRjaFF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsKFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGFyZ2V0SW5zdFxuICAgICkge1xuICAgICAgXCJmb2N1c2luXCIgPT09IGRvbUV2ZW50TmFtZVxuICAgICAgICA/IChzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpLFxuICAgICAgICAgIChhY3RpdmVFbGVtZW50JDEgPSB0YXJnZXQpLFxuICAgICAgICAgIChhY3RpdmVFbGVtZW50SW5zdCQxID0gdGFyZ2V0SW5zdCksXG4gICAgICAgICAgYWN0aXZlRWxlbWVudCQxLmF0dGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSkpXG4gICAgICAgIDogXCJmb2N1c291dFwiID09PSBkb21FdmVudE5hbWUgJiYgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbChkb21FdmVudE5hbWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzZWxlY3Rpb25jaGFuZ2VcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgIFwia2V5dXBcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgIFwia2V5ZG93blwiID09PSBkb21FdmVudE5hbWVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZChhY3RpdmVFbGVtZW50SW5zdCQxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAoXCJjbGlja1wiID09PSBkb21FdmVudE5hbWUpIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dE9yQ2hhbmdlRXZlbnQoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAoXCJpbnB1dFwiID09PSBkb21FdmVudE5hbWUgfHwgXCJjaGFuZ2VcIiA9PT0gZG9tRXZlbnROYW1lKVxuICAgICAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgICByZXR1cm4gKHggPT09IHkgJiYgKDAgIT09IHggfHwgMSAvIHggPT09IDEgLyB5KSkgfHwgKHggIT09IHggJiYgeSAhPT0geSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gICAgICBpZiAob2JqZWN0SXMob2JqQSwgb2JqQikpIHJldHVybiAhMDtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9iakEgfHxcbiAgICAgICAgbnVsbCA9PT0gb2JqQSB8fFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb2JqQiB8fFxuICAgICAgICBudWxsID09PSBvYmpCXG4gICAgICApXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpLFxuICAgICAgICBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuICAgICAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICBmb3IgKGtleXNCID0gMDsga2V5c0IgPCBrZXlzQS5sZW5ndGg7IGtleXNCKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzQVtrZXlzQl07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBjdXJyZW50S2V5KSB8fFxuICAgICAgICAgICFvYmplY3RJcyhvYmpBW2N1cnJlbnRLZXldLCBvYmpCW2N1cnJlbnRLZXldKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMZWFmTm9kZShub2RlKSB7XG4gICAgICBmb3IgKDsgbm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQ7ICkgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KHJvb3QsIG9mZnNldCkge1xuICAgICAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgICAgIHJvb3QgPSAwO1xuICAgICAgZm9yICh2YXIgbm9kZUVuZDsgbm9kZTsgKSB7XG4gICAgICAgIGlmICgzID09PSBub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgbm9kZUVuZCA9IHJvb3QgKyBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgICBpZiAocm9vdCA8PSBvZmZzZXQgJiYgbm9kZUVuZCA+PSBvZmZzZXQpXG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldCAtIHJvb3QgfTtcbiAgICAgICAgICByb290ID0gbm9kZUVuZDtcbiAgICAgICAgfVxuICAgICAgICBhOiB7XG4gICAgICAgICAgZm9yICg7IG5vZGU7ICkge1xuICAgICAgICAgICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBnZXRMZWFmTm9kZShub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlKSB7XG4gICAgICByZXR1cm4gb3V0ZXJOb2RlICYmIGlubmVyTm9kZVxuICAgICAgICA/IG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlXG4gICAgICAgICAgPyAhMFxuICAgICAgICAgIDogb3V0ZXJOb2RlICYmIDMgPT09IG91dGVyTm9kZS5ub2RlVHlwZVxuICAgICAgICAgICAgPyAhMVxuICAgICAgICAgICAgOiBpbm5lck5vZGUgJiYgMyA9PT0gaW5uZXJOb2RlLm5vZGVUeXBlXG4gICAgICAgICAgICAgID8gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlLnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgIDogXCJjb250YWluc1wiIGluIG91dGVyTm9kZVxuICAgICAgICAgICAgICAgID8gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSlcbiAgICAgICAgICAgICAgICA6IG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgPyAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KVxuICAgICAgICAgICAgICAgICAgOiAhMVxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50RGVlcChjb250YWluZXJJbmZvKSB7XG4gICAgICBjb250YWluZXJJbmZvID1cbiAgICAgICAgbnVsbCAhPSBjb250YWluZXJJbmZvICYmXG4gICAgICAgIG51bGwgIT0gY29udGFpbmVySW5mby5vd25lckRvY3VtZW50ICYmXG4gICAgICAgIG51bGwgIT0gY29udGFpbmVySW5mby5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3XG4gICAgICAgICAgPyBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXdcbiAgICAgICAgICA6IHdpbmRvdztcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBlbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudChjb250YWluZXJJbmZvLmRvY3VtZW50KTtcbiAgICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIGNvbnRhaW5lckluZm8uSFRNTElGcmFtZUVsZW1lbnQ7XG5cbiAgICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVsZW1lbnQuY29udGVudFdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSBjb250YWluZXJJbmZvID0gZWxlbWVudC5jb250ZW50V2luZG93O1xuICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICBlbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudChjb250YWluZXJJbmZvLmRvY3VtZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZWxlbSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vZGVOYW1lICYmXG4gICAgICAgICgoXCJpbnB1dFwiID09PSBub2RlTmFtZSAmJlxuICAgICAgICAgIChcInRleHRcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInNlYXJjaFwiID09PSBlbGVtLnR5cGUgfHxcbiAgICAgICAgICAgIFwidGVsXCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJ1cmxcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInBhc3N3b3JkXCIgPT09IGVsZW0udHlwZSkpIHx8XG4gICAgICAgICAgXCJ0ZXh0YXJlYVwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgIFwidHJ1ZVwiID09PSBlbGVtLmNvbnRlbnRFZGl0YWJsZSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc3RvcmVTZWxlY3Rpb24ocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiwgY29udGFpbmVySW5mbykge1xuICAgICAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudERlZXAoY29udGFpbmVySW5mbyk7XG4gICAgICBjb250YWluZXJJbmZvID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgICAgIHZhciBwcmlvclNlbGVjdGlvblJhbmdlID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZWxlY3Rpb25SYW5nZTtcbiAgICAgIGlmIChcbiAgICAgICAgY3VyRm9jdXNlZEVsZW0gIT09IGNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgY29udGFpbmVySW5mbyAmJlxuICAgICAgICBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQgJiZcbiAgICAgICAgY29udGFpbnNOb2RlKGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGNvbnRhaW5lckluZm8pXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IHByaW9yU2VsZWN0aW9uUmFuZ2UgJiZcbiAgICAgICAgICBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoY29udGFpbmVySW5mbylcbiAgICAgICAgKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICgocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9IHByaW9yU2VsZWN0aW9uUmFuZ2Uuc3RhcnQpLFxuICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25SYW5nZS5lbmQpLFxuICAgICAgICAgICAgdm9pZCAwID09PSBjdXJGb2N1c2VkRWxlbSAmJlxuICAgICAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSxcbiAgICAgICAgICAgIFwic2VsZWN0aW9uU3RhcnRcIiBpbiBjb250YWluZXJJbmZvKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIChjb250YWluZXJJbmZvLnNlbGVjdGlvblN0YXJ0ID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiksXG4gICAgICAgICAgICAgIChjb250YWluZXJJbmZvLnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckluZm8udmFsdWUubGVuZ3RoXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgKChjdXJGb2N1c2VkRWxlbSA9XG4gICAgICAgICAgICAgICgocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9XG4gICAgICAgICAgICAgICAgY29udGFpbmVySW5mby5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50KSAmJlxuICAgICAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZGVmYXVsdFZpZXcpIHx8XG4gICAgICAgICAgICAgIHdpbmRvdyksXG4gICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5nZXRTZWxlY3Rpb24pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjdXJGb2N1c2VkRWxlbSA9IGN1ckZvY3VzZWRFbGVtLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGNvbnRhaW5lckluZm8udGV4dENvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICBzdGFydCA9IE1hdGgubWluKHByaW9yU2VsZWN0aW9uUmFuZ2Uuc3RhcnQsIGxlbmd0aCk7XG4gICAgICAgICAgICBwcmlvclNlbGVjdGlvblJhbmdlID1cbiAgICAgICAgICAgICAgdm9pZCAwID09PSBwcmlvclNlbGVjdGlvblJhbmdlLmVuZFxuICAgICAgICAgICAgICAgID8gc3RhcnRcbiAgICAgICAgICAgICAgICA6IE1hdGgubWluKHByaW9yU2VsZWN0aW9uUmFuZ2UuZW5kLCBsZW5ndGgpO1xuICAgICAgICAgICAgIWN1ckZvY3VzZWRFbGVtLmV4dGVuZCAmJlxuICAgICAgICAgICAgICBzdGFydCA+IHByaW9yU2VsZWN0aW9uUmFuZ2UgJiZcbiAgICAgICAgICAgICAgKChsZW5ndGggPSBwcmlvclNlbGVjdGlvblJhbmdlKSxcbiAgICAgICAgICAgICAgKHByaW9yU2VsZWN0aW9uUmFuZ2UgPSBzdGFydCksXG4gICAgICAgICAgICAgIChzdGFydCA9IGxlbmd0aCkpO1xuICAgICAgICAgICAgbGVuZ3RoID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChjb250YWluZXJJbmZvLCBzdGFydCk7XG4gICAgICAgICAgICB2YXIgZW5kTWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChcbiAgICAgICAgICAgICAgY29udGFpbmVySW5mbyxcbiAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25SYW5nZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxlbmd0aCAmJlxuICAgICAgICAgICAgICBlbmRNYXJrZXIgJiZcbiAgICAgICAgICAgICAgKDEgIT09IGN1ckZvY3VzZWRFbGVtLnJhbmdlQ291bnQgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5hbmNob3JOb2RlICE9PSBsZW5ndGgubm9kZSB8fFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmFuY2hvck9mZnNldCAhPT0gbGVuZ3RoLm9mZnNldCB8fFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmZvY3VzTm9kZSAhPT0gZW5kTWFya2VyLm5vZGUgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5mb2N1c09mZnNldCAhPT0gZW5kTWFya2VyLm9mZnNldCkgJiZcbiAgICAgICAgICAgICAgKChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uID1cbiAgICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmNyZWF0ZVJhbmdlKCkpLFxuICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNldFN0YXJ0KGxlbmd0aC5ub2RlLCBsZW5ndGgub2Zmc2V0KSxcbiAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0ucmVtb3ZlQWxsUmFuZ2VzKCksXG4gICAgICAgICAgICAgIHN0YXJ0ID4gcHJpb3JTZWxlY3Rpb25SYW5nZVxuICAgICAgICAgICAgICAgID8gKGN1ckZvY3VzZWRFbGVtLmFkZFJhbmdlKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pLFxuICAgICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZXh0ZW5kKGVuZE1hcmtlci5ub2RlLCBlbmRNYXJrZXIub2Zmc2V0KSlcbiAgICAgICAgICAgICAgICA6IChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNldEVuZChcbiAgICAgICAgICAgICAgICAgICAgZW5kTWFya2VyLm5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGVuZE1hcmtlci5vZmZzZXRcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5hZGRSYW5nZShwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9IFtdO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGN1ckZvY3VzZWRFbGVtID0gY29udGFpbmVySW5mbztcbiAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBjdXJGb2N1c2VkRWxlbS5wYXJlbnROb2RlKTtcblxuICAgICAgICApXG4gICAgICAgICAgMSA9PT0gY3VyRm9jdXNlZEVsZW0ubm9kZVR5cGUgJiZcbiAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24ucHVzaCh7XG4gICAgICAgICAgICAgIGVsZW1lbnQ6IGN1ckZvY3VzZWRFbGVtLFxuICAgICAgICAgICAgICBsZWZ0OiBjdXJGb2N1c2VkRWxlbS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICB0b3A6IGN1ckZvY3VzZWRFbGVtLnNjcm9sbFRvcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbnRhaW5lckluZm8uZm9jdXMgJiYgY29udGFpbmVySW5mby5mb2N1cygpO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGNvbnRhaW5lckluZm8gPSAwO1xuICAgICAgICAgIGNvbnRhaW5lckluZm8gPCBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmxlbmd0aDtcbiAgICAgICAgICBjb250YWluZXJJbmZvKytcbiAgICAgICAgKVxuICAgICAgICAgIChjdXJGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb25bY29udGFpbmVySW5mb10pLFxuICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtLmVsZW1lbnQuc2Nyb2xsTGVmdCA9IGN1ckZvY3VzZWRFbGVtLmxlZnQpLFxuICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtLmVsZW1lbnQuc2Nyb2xsVG9wID0gY3VyRm9jdXNlZEVsZW0udG9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29uc3RydWN0U2VsZWN0RXZlbnQoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICkge1xuICAgICAgdmFyIGRvYyA9XG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICA/IG5hdGl2ZUV2ZW50VGFyZ2V0LmRvY3VtZW50XG4gICAgICAgICAgOiA5ID09PSBuYXRpdmVFdmVudFRhcmdldC5ub2RlVHlwZVxuICAgICAgICAgICAgPyBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgOiBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgbW91c2VEb3duIHx8XG4gICAgICAgIG51bGwgPT0gYWN0aXZlRWxlbWVudCB8fFxuICAgICAgICBhY3RpdmVFbGVtZW50ICE9PSBnZXRBY3RpdmVFbGVtZW50KGRvYykgfHxcbiAgICAgICAgKChkb2MgPSBhY3RpdmVFbGVtZW50KSxcbiAgICAgICAgXCJzZWxlY3Rpb25TdGFydFwiIGluIGRvYyAmJiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZG9jKVxuICAgICAgICAgID8gKGRvYyA9IHsgc3RhcnQ6IGRvYy5zZWxlY3Rpb25TdGFydCwgZW5kOiBkb2Muc2VsZWN0aW9uRW5kIH0pXG4gICAgICAgICAgOiAoKGRvYyA9IChcbiAgICAgICAgICAgICAgKGRvYy5vd25lckRvY3VtZW50ICYmIGRvYy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fFxuICAgICAgICAgICAgICB3aW5kb3dcbiAgICAgICAgICAgICkuZ2V0U2VsZWN0aW9uKCkpLFxuICAgICAgICAgICAgKGRvYyA9IHtcbiAgICAgICAgICAgICAgYW5jaG9yTm9kZTogZG9jLmFuY2hvck5vZGUsXG4gICAgICAgICAgICAgIGFuY2hvck9mZnNldDogZG9jLmFuY2hvck9mZnNldCxcbiAgICAgICAgICAgICAgZm9jdXNOb2RlOiBkb2MuZm9jdXNOb2RlLFxuICAgICAgICAgICAgICBmb2N1c09mZnNldDogZG9jLmZvY3VzT2Zmc2V0XG4gICAgICAgICAgICB9KSksXG4gICAgICAgIChsYXN0U2VsZWN0aW9uICYmIHNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBkb2MpKSB8fFxuICAgICAgICAgICgobGFzdFNlbGVjdGlvbiA9IGRvYyksXG4gICAgICAgICAgKGRvYyA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhhY3RpdmVFbGVtZW50SW5zdCwgXCJvblNlbGVjdFwiKSksXG4gICAgICAgICAgMCA8IGRvYy5sZW5ndGggJiZcbiAgICAgICAgICAgICgobmF0aXZlRXZlbnQgPSBuZXcgU3ludGhldGljRXZlbnQoXG4gICAgICAgICAgICAgIFwib25TZWxlY3RcIixcbiAgICAgICAgICAgICAgXCJzZWxlY3RcIixcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IGV2ZW50OiBuYXRpdmVFdmVudCwgbGlzdGVuZXJzOiBkb2MgfSksXG4gICAgICAgICAgICAobmF0aXZlRXZlbnQudGFyZ2V0ID0gYWN0aXZlRWxlbWVudCkpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgICAgIHZhciBwcmVmaXhlcyA9IHt9O1xuICAgICAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBwcmVmaXhlc1tcIldlYmtpdFwiICsgc3R5bGVQcm9wXSA9IFwid2Via2l0XCIgKyBldmVudE5hbWU7XG4gICAgICBwcmVmaXhlc1tcIk1velwiICsgc3R5bGVQcm9wXSA9IFwibW96XCIgKyBldmVudE5hbWU7XG4gICAgICByZXR1cm4gcHJlZml4ZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICAgICAgaWYgKHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdKSByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gICAgICBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHJldHVybiBldmVudE5hbWU7XG4gICAgICB2YXIgcHJlZml4TWFwID0gdmVuZG9yUHJlZml4ZXNbZXZlbnROYW1lXSxcbiAgICAgICAgc3R5bGVQcm9wO1xuICAgICAgZm9yIChzdHlsZVByb3AgaW4gcHJlZml4TWFwKVxuICAgICAgICBpZiAocHJlZml4TWFwLmhhc093blByb3BlcnR5KHN0eWxlUHJvcCkgJiYgc3R5bGVQcm9wIGluIHN0eWxlKVxuICAgICAgICAgIHJldHVybiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0gPSBwcmVmaXhNYXBbc3R5bGVQcm9wXSk7XG4gICAgICByZXR1cm4gZXZlbnROYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlclNpbXBsZUV2ZW50KGRvbUV2ZW50TmFtZSwgcmVhY3ROYW1lKSB7XG4gICAgICB0b3BMZXZlbEV2ZW50c1RvUmVhY3ROYW1lcy5zZXQoZG9tRXZlbnROYW1lLCByZWFjdE5hbWUpO1xuICAgICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KHJlYWN0TmFtZSwgW2RvbUV2ZW50TmFtZV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gY29uY3VycmVudFF1ZXVlc0luZGV4LFxuICAgICAgICAgIGkgPSAoY29uY3VycmVudGx5VXBkYXRlZExhbmVzID0gY29uY3VycmVudFF1ZXVlc0luZGV4ID0gMCk7XG4gICAgICAgIGkgPCBlbmRJbmRleDtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBmaWJlciA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIHZhciBxdWV1ZSA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIHZhciB1cGRhdGUgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICB2YXIgbGFuZSA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9PSBxdWV1ZSAmJiBudWxsICE9PSB1cGRhdGUpIHtcbiAgICAgICAgICB2YXIgcGVuZGluZyA9IHF1ZXVlLnBlbmRpbmc7XG4gICAgICAgICAgbnVsbCA9PT0gcGVuZGluZ1xuICAgICAgICAgICAgPyAodXBkYXRlLm5leHQgPSB1cGRhdGUpXG4gICAgICAgICAgICA6ICgodXBkYXRlLm5leHQgPSBwZW5kaW5nLm5leHQpLCAocGVuZGluZy5uZXh0ID0gdXBkYXRlKSk7XG4gICAgICAgICAgcXVldWUucGVuZGluZyA9IHVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICAwICE9PSBsYW5lICYmIG1hcmtVcGRhdGVMYW5lRnJvbUZpYmVyVG9Sb290KGZpYmVyLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbY29uY3VycmVudFF1ZXVlc0luZGV4KytdID0gZmliZXI7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IHF1ZXVlO1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSB1cGRhdGU7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IGxhbmU7XG4gICAgICBjb25jdXJyZW50bHlVcGRhdGVkTGFuZXMgfD0gbGFuZTtcbiAgICAgIGZpYmVyLmxhbmVzIHw9IGxhbmU7XG4gICAgICBmaWJlciA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGZpYmVyICYmIChmaWJlci5sYW5lcyB8PSBsYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZUNvbmN1cnJlbnRIb29rVXBkYXRlKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgcmV0dXJuIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIGxhbmUpIHtcbiAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgbnVsbCwgbnVsbCwgbGFuZSk7XG4gICAgICByZXR1cm4gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtVcGRhdGVMYW5lRnJvbUZpYmVyVG9Sb290KHNvdXJjZUZpYmVyLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIHNvdXJjZUZpYmVyLmxhbmVzIHw9IGxhbmU7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gc291cmNlRmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIChhbHRlcm5hdGUubGFuZXMgfD0gbGFuZSk7XG4gICAgICBmb3IgKHZhciBpc0hpZGRlbiA9ICExLCBwYXJlbnQgPSBzb3VyY2VGaWJlci5yZXR1cm47IG51bGwgIT09IHBhcmVudDsgKVxuICAgICAgICAocGFyZW50LmNoaWxkTGFuZXMgfD0gbGFuZSksXG4gICAgICAgICAgKGFsdGVybmF0ZSA9IHBhcmVudC5hbHRlcm5hdGUpLFxuICAgICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmNoaWxkTGFuZXMgfD0gbGFuZSksXG4gICAgICAgICAgMjIgPT09IHBhcmVudC50YWcgJiZcbiAgICAgICAgICAgICgoc291cmNlRmliZXIgPSBwYXJlbnQuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyIHx8XG4gICAgICAgICAgICAgIHNvdXJjZUZpYmVyLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuVmlzaWJsZSB8fFxuICAgICAgICAgICAgICAoaXNIaWRkZW4gPSAhMCkpLFxuICAgICAgICAgIChzb3VyY2VGaWJlciA9IHBhcmVudCksXG4gICAgICAgICAgKHBhcmVudCA9IHBhcmVudC5yZXR1cm4pO1xuICAgICAgaXNIaWRkZW4gJiZcbiAgICAgICAgbnVsbCAhPT0gdXBkYXRlICYmXG4gICAgICAgIDMgPT09IHNvdXJjZUZpYmVyLnRhZyAmJlxuICAgICAgICAoKHBhcmVudCA9IHNvdXJjZUZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgIChpc0hpZGRlbiA9IDMxIC0gY2x6MzIobGFuZSkpLFxuICAgICAgICAocGFyZW50ID0gcGFyZW50LmhpZGRlblVwZGF0ZXMpLFxuICAgICAgICAoc291cmNlRmliZXIgPSBwYXJlbnRbaXNIaWRkZW5dKSxcbiAgICAgICAgbnVsbCA9PT0gc291cmNlRmliZXJcbiAgICAgICAgICA/IChwYXJlbnRbaXNIaWRkZW5dID0gW3VwZGF0ZV0pXG4gICAgICAgICAgOiBzb3VyY2VGaWJlci5wdXNoKHVwZGF0ZSksXG4gICAgICAgICh1cGRhdGUubGFuZSA9IGxhbmUgfCA1MzY4NzA5MTIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihzb3VyY2VGaWJlcikge1xuICAgICAgaWYgKG5lc3RlZFVwZGF0ZUNvdW50ID4gTkVTVEVEX1VQREFURV9MSU1JVClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICgobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gbmVzdGVkVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IG51bGwpLFxuICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBjb21wb25lbnQgcmVwZWF0ZWRseSBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgY29tcG9uZW50V2lsbFVwZGF0ZSBvciBjb21wb25lbnREaWRVcGRhdGUuIFJlYWN0IGxpbWl0cyB0aGUgbnVtYmVyIG9mIG5lc3RlZCB1cGRhdGVzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuXCJcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID4gTkVTVEVEX1BBU1NJVkVfVVBEQVRFX0xJTUlUICYmXG4gICAgICAgICgobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCksXG4gICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gbnVsbCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBjb21wb25lbnQgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIHVzZUVmZmVjdCwgYnV0IHVzZUVmZmVjdCBlaXRoZXIgZG9lc24ndCBoYXZlIGEgZGVwZW5kZW5jeSBhcnJheSwgb3Igb25lIG9mIHRoZSBkZXBlbmRlbmNpZXMgY2hhbmdlcyBvbiBldmVyeSByZW5kZXIuXCJcbiAgICAgICAgKSk7XG4gICAgICBudWxsID09PSBzb3VyY2VGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgMCAhPT0gKHNvdXJjZUZpYmVyLmZsYWdzICYgNDA5OCkgJiZcbiAgICAgICAgd2FybkFib3V0VXBkYXRlT25Ob3RZZXRNb3VudGVkRmliZXJJbkRFVihzb3VyY2VGaWJlcik7XG4gICAgICBmb3IgKHZhciBub2RlID0gc291cmNlRmliZXIsIHBhcmVudCA9IG5vZGUucmV0dXJuOyBudWxsICE9PSBwYXJlbnQ7IClcbiAgICAgICAgbnVsbCA9PT0gbm9kZS5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAwICE9PSAobm9kZS5mbGFncyAmIDQwOTgpICYmXG4gICAgICAgICAgd2FybkFib3V0VXBkYXRlT25Ob3RZZXRNb3VudGVkRmliZXJJbkRFVihzb3VyY2VGaWJlciksXG4gICAgICAgICAgKG5vZGUgPSBwYXJlbnQpLFxuICAgICAgICAgIChwYXJlbnQgPSBub2RlLnJldHVybik7XG4gICAgICByZXR1cm4gMyA9PT0gbm9kZS50YWcgPyBub2RlLnN0YXRlTm9kZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSkgcmV0dXJuIHR5cGU7XG4gICAgICB2YXIgZmFtaWx5ID0gcmVzb2x2ZUZhbWlseSh0eXBlKTtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGZhbWlseSA/IHR5cGUgOiBmYW1pbHkuY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpIHJldHVybiB0eXBlO1xuICAgICAgdmFyIGZhbWlseSA9IHJlc29sdmVGYW1pbHkodHlwZSk7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBmYW1pbHlcbiAgICAgICAgPyBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgdm9pZCAwICE9PSB0eXBlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZS5yZW5kZXIgJiZcbiAgICAgICAgICAoKGZhbWlseSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlLnJlbmRlcikpLFxuICAgICAgICAgIHR5cGUucmVuZGVyICE9PSBmYW1pbHkpXG4gICAgICAgICAgPyAoKGZhbWlseSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogZmFtaWx5IH0pLFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgIChmYW1pbHkuZGlzcGxheU5hbWUgPSB0eXBlLmRpc3BsYXlOYW1lKSxcbiAgICAgICAgICAgIGZhbWlseSlcbiAgICAgICAgICA6IHR5cGVcbiAgICAgICAgOiBmYW1pbHkuY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDb21wYXRpYmxlRmFtaWx5Rm9ySG90UmVsb2FkaW5nKGZpYmVyLCBlbGVtZW50KSB7XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSkgcmV0dXJuICExO1xuICAgICAgdmFyIHByZXZUeXBlID0gZmliZXIuZWxlbWVudFR5cGU7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC50eXBlO1xuICAgICAgdmFyIG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITEsXG4gICAgICAgICQkdHlwZW9mTmV4dFR5cGUgPVxuICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmIG51bGwgIT09IGVsZW1lbnRcbiAgICAgICAgICAgID8gZWxlbWVudC4kJHR5cGVvZlxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiYgKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZWxlbWVudFxuICAgICAgICAgICAgPyAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMClcbiAgICAgICAgICAgIDogJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFXG4gICAgICAgICAgICA/IChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKVxuICAgICAgICAgICAgOiAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX01FTU9fVFlQRVxuICAgICAgICAgICAgPyAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMClcbiAgICAgICAgICAgIDogJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmVlZHNDb21wYXJlRmFtaWxpZXMgJiZcbiAgICAgICAgKChmaWJlciA9IHJlc29sdmVGYW1pbHkocHJldlR5cGUpKSxcbiAgICAgICAgdm9pZCAwICE9PSBmaWJlciAmJiBmaWJlciA9PT0gcmVzb2x2ZUZhbWlseShlbGVtZW50KSlcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrRmFpbGVkRXJyb3JCb3VuZGFyeUZvckhvdFJlbG9hZGluZyhmaWJlcikge1xuICAgICAgbnVsbCAhPT0gcmVzb2x2ZUZhbWlseSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrU2V0ICYmXG4gICAgICAgIChudWxsID09PSBmYWlsZWRCb3VuZGFyaWVzICYmIChmYWlsZWRCb3VuZGFyaWVzID0gbmV3IFdlYWtTZXQoKSksXG4gICAgICAgIGZhaWxlZEJvdW5kYXJpZXMuYWRkKGZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICBmaWJlcixcbiAgICAgIHVwZGF0ZWRGYW1pbGllcyxcbiAgICAgIHN0YWxlRmFtaWxpZXNcbiAgICApIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGUsXG4gICAgICAgIGNoaWxkID0gZmliZXIuY2hpbGQsXG4gICAgICAgIHNpYmxpbmcgPSBmaWJlci5zaWJsaW5nLFxuICAgICAgICB0YWcgPSBmaWJlci50YWcsXG4gICAgICAgIHR5cGUgPSBmaWJlci50eXBlLFxuICAgICAgICBjYW5kaWRhdGVUeXBlID0gbnVsbDtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNhbmRpZGF0ZVR5cGUgPSB0eXBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhbmRpZGF0ZVR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgIH1cbiAgICAgIGlmIChudWxsID09PSByZXNvbHZlRmFtaWx5KVxuICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHJlc29sdmVGYW1pbHkgdG8gYmUgc2V0IGR1cmluZyBob3QgcmVsb2FkLlwiKTtcbiAgICAgIHZhciBuZWVkc1JlbmRlciA9ICExO1xuICAgICAgdHlwZSA9ICExO1xuICAgICAgbnVsbCAhPT0gY2FuZGlkYXRlVHlwZSAmJlxuICAgICAgICAoKGNhbmRpZGF0ZVR5cGUgPSByZXNvbHZlRmFtaWx5KGNhbmRpZGF0ZVR5cGUpKSxcbiAgICAgICAgdm9pZCAwICE9PSBjYW5kaWRhdGVUeXBlICYmXG4gICAgICAgICAgKHN0YWxlRmFtaWxpZXMuaGFzKGNhbmRpZGF0ZVR5cGUpXG4gICAgICAgICAgICA/ICh0eXBlID0gITApXG4gICAgICAgICAgICA6IHVwZGF0ZWRGYW1pbGllcy5oYXMoY2FuZGlkYXRlVHlwZSkgJiZcbiAgICAgICAgICAgICAgKDEgPT09IHRhZyA/ICh0eXBlID0gITApIDogKG5lZWRzUmVuZGVyID0gITApKSkpO1xuICAgICAgbnVsbCAhPT0gZmFpbGVkQm91bmRhcmllcyAmJlxuICAgICAgICAoZmFpbGVkQm91bmRhcmllcy5oYXMoZmliZXIpIHx8XG4gICAgICAgICAgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBmYWlsZWRCb3VuZGFyaWVzLmhhcyhhbHRlcm5hdGUpKSkgJiZcbiAgICAgICAgKHR5cGUgPSAhMCk7XG4gICAgICB0eXBlICYmIChmaWJlci5fZGVidWdOZWVkc1JlbW91bnQgPSAhMCk7XG4gICAgICBpZiAodHlwZSB8fCBuZWVkc1JlbmRlcilcbiAgICAgICAgKGFsdGVybmF0ZSA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIoYWx0ZXJuYXRlLCBmaWJlciwgMik7XG4gICAgICBudWxsID09PSBjaGlsZCB8fFxuICAgICAgICB0eXBlIHx8XG4gICAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgdXBkYXRlZEZhbWlsaWVzLFxuICAgICAgICAgIHN0YWxlRmFtaWxpZXNcbiAgICAgICAgKTtcbiAgICAgIG51bGwgIT09IHNpYmxpbmcgJiZcbiAgICAgICAgc2NoZWR1bGVGaWJlcnNXaXRoRmFtaWxpZXNSZWN1cnNpdmVseShcbiAgICAgICAgICBzaWJsaW5nLFxuICAgICAgICAgIHVwZGF0ZWRGYW1pbGllcyxcbiAgICAgICAgICBzdGFsZUZhbWlsaWVzXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKSB7XG4gICAgICB2YXIgcHJldkVmZmVjdER1cmF0aW9uID0gcHJvZmlsZXJFZmZlY3REdXJhdGlvbjtcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gPSAwO1xuICAgICAgcmV0dXJuIHByZXZFZmZlY3REdXJhdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbikge1xuICAgICAgdmFyIGVsYXBzZWRUaW1lID0gcHJvZmlsZXJFZmZlY3REdXJhdGlvbjtcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gPSBwcmV2RWZmZWN0RHVyYXRpb247XG4gICAgICByZXR1cm4gZWxhcHNlZFRpbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pIHtcbiAgICAgIHZhciBlbGFwc2VkVGltZSA9IHByb2ZpbGVyRWZmZWN0RHVyYXRpb247XG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uICs9IHByZXZFZmZlY3REdXJhdGlvbjtcbiAgICAgIHJldHVybiBlbGFwc2VkVGltZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRQcm9maWxlclRpbWVyKGZpYmVyKSB7XG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgMCA+IGZpYmVyLmFjdHVhbFN0YXJ0VGltZSAmJiAoZmliZXIuYWN0dWFsU3RhcnRUaW1lID0gcHJvZmlsZXJTdGFydFRpbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKGZpYmVyKSB7XG4gICAgICBpZiAoMCA8PSBwcm9maWxlclN0YXJ0VGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBub3coKSAtIHByb2ZpbGVyU3RhcnRUaW1lO1xuICAgICAgICBmaWJlci5hY3R1YWxEdXJhdGlvbiArPSBlbGFwc2VkVGltZTtcbiAgICAgICAgZmliZXIuc2VsZkJhc2VEdXJhdGlvbiA9IGVsYXBzZWRUaW1lO1xuICAgICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZEluY29tcGxldGVEdXJhdGlvbihmaWJlcikge1xuICAgICAgaWYgKDAgPD0gcHJvZmlsZXJTdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93KCkgLSBwcm9maWxlclN0YXJ0VGltZTtcbiAgICAgICAgZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG4gICAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29yZEVmZmVjdER1cmF0aW9uKCkge1xuICAgICAgaWYgKDAgPD0gcHJvZmlsZXJTdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93KCkgLSBwcm9maWxlclN0YXJ0VGltZTtcbiAgICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMTtcbiAgICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiArPSBlbGFwc2VkVGltZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRFZmZlY3RUaW1lcigpIHtcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gbm93KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24oZmliZXIpIHtcbiAgICAgIGZvciAodmFyIGNoaWxkID0gZmliZXIuY2hpbGQ7IGNoaWxkOyApXG4gICAgICAgIChmaWJlci5hY3R1YWxEdXJhdGlvbiArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiksIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih2YWx1ZSwgc291cmNlKSB7XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHZhbHVlICYmIG51bGwgIT09IHZhbHVlKSB7XG4gICAgICAgIHZhciBleGlzdGluZyA9IENhcHR1cmVkU3RhY2tzLmdldCh2YWx1ZSk7XG4gICAgICAgIGlmICh2b2lkIDAgIT09IGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIHNvdXJjZSA9IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgc3RhY2s6IGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChzb3VyY2UpXG4gICAgICAgIH07XG4gICAgICAgIENhcHR1cmVkU3RhY2tzLnNldCh2YWx1ZSwgc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIHN0YWNrOiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qoc291cmNlKVxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFRyZWVGb3JrKHdvcmtJblByb2dyZXNzLCB0b3RhbENoaWxkcmVuKSB7XG4gICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKTtcbiAgICAgIGZvcmtTdGFja1tmb3JrU3RhY2tJbmRleCsrXSA9IHRyZWVGb3JrQ291bnQ7XG4gICAgICBmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXgrK10gPSB0cmVlRm9ya1Byb3ZpZGVyO1xuICAgICAgdHJlZUZvcmtQcm92aWRlciA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdHJlZUZvcmtDb3VudCA9IHRvdGFsQ2hpbGRyZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hUcmVlSWQod29ya0luUHJvZ3Jlc3MsIHRvdGFsQ2hpbGRyZW4sIGluZGV4KSB7XG4gICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKTtcbiAgICAgIGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRJZDtcbiAgICAgIGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRPdmVyZmxvdztcbiAgICAgIGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRQcm92aWRlcjtcbiAgICAgIHRyZWVDb250ZXh0UHJvdmlkZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHZhciBiYXNlSWRXaXRoTGVhZGluZ0JpdCA9IHRyZWVDb250ZXh0SWQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHRyZWVDb250ZXh0T3ZlcmZsb3c7XG4gICAgICB2YXIgYmFzZUxlbmd0aCA9IDMyIC0gY2x6MzIoYmFzZUlkV2l0aExlYWRpbmdCaXQpIC0gMTtcbiAgICAgIGJhc2VJZFdpdGhMZWFkaW5nQml0ICY9IH4oMSA8PCBiYXNlTGVuZ3RoKTtcbiAgICAgIGluZGV4ICs9IDE7XG4gICAgICB2YXIgbGVuZ3RoID0gMzIgLSBjbHozMih0b3RhbENoaWxkcmVuKSArIGJhc2VMZW5ndGg7XG4gICAgICBpZiAoMzAgPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIG51bWJlck9mT3ZlcmZsb3dCaXRzID0gYmFzZUxlbmd0aCAtIChiYXNlTGVuZ3RoICUgNSk7XG4gICAgICAgIGxlbmd0aCA9IChcbiAgICAgICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdCAmXG4gICAgICAgICAgKCgxIDw8IG51bWJlck9mT3ZlcmZsb3dCaXRzKSAtIDEpXG4gICAgICAgICkudG9TdHJpbmcoMzIpO1xuICAgICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdCA+Pj0gbnVtYmVyT2ZPdmVyZmxvd0JpdHM7XG4gICAgICAgIGJhc2VMZW5ndGggLT0gbnVtYmVyT2ZPdmVyZmxvd0JpdHM7XG4gICAgICAgIHRyZWVDb250ZXh0SWQgPVxuICAgICAgICAgICgxIDw8ICgzMiAtIGNsejMyKHRvdGFsQ2hpbGRyZW4pICsgYmFzZUxlbmd0aCkpIHxcbiAgICAgICAgICAoaW5kZXggPDwgYmFzZUxlbmd0aCkgfFxuICAgICAgICAgIGJhc2VJZFdpdGhMZWFkaW5nQml0O1xuICAgICAgICB0cmVlQ29udGV4dE92ZXJmbG93ID0gbGVuZ3RoICsgd29ya0luUHJvZ3Jlc3M7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRyZWVDb250ZXh0SWQgPVxuICAgICAgICAgICgxIDw8IGxlbmd0aCkgfCAoaW5kZXggPDwgYmFzZUxlbmd0aCkgfCBiYXNlSWRXaXRoTGVhZGluZ0JpdCksXG4gICAgICAgICAgKHRyZWVDb250ZXh0T3ZlcmZsb3cgPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpO1xuICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MucmV0dXJuICYmXG4gICAgICAgIChwdXNoVHJlZUZvcmsod29ya0luUHJvZ3Jlc3MsIDEpLCBwdXNoVHJlZUlkKHdvcmtJblByb2dyZXNzLCAxLCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFRyZWVDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBmb3IgKDsgd29ya0luUHJvZ3Jlc3MgPT09IHRyZWVGb3JrUHJvdmlkZXI7IClcbiAgICAgICAgKHRyZWVGb3JrUHJvdmlkZXIgPSBmb3JrU3RhY2tbLS1mb3JrU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXhdID0gbnVsbCksXG4gICAgICAgICAgKHRyZWVGb3JrQ291bnQgPSBmb3JrU3RhY2tbLS1mb3JrU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXhdID0gbnVsbCk7XG4gICAgICBmb3IgKDsgd29ya0luUHJvZ3Jlc3MgPT09IHRyZWVDb250ZXh0UHJvdmlkZXI7IClcbiAgICAgICAgKHRyZWVDb250ZXh0UHJvdmlkZXIgPSBpZFN0YWNrWy0taWRTdGFja0luZGV4XSksXG4gICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4XSA9IG51bGwpLFxuICAgICAgICAgICh0cmVlQ29udGV4dE92ZXJmbG93ID0gaWRTdGFja1stLWlkU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleF0gPSBudWxsKSxcbiAgICAgICAgICAodHJlZUNvbnRleHRJZCA9IGlkU3RhY2tbLS1pZFN0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXhdID0gbnVsbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZk5vdEh5ZHJhdGluZygpIHtcbiAgICAgIGlzSHlkcmF0aW5nIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB0byBiZSBoeWRyYXRpbmcuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoZmliZXIsIGRpc3RhbmNlRnJvbUxlYWYpIHtcbiAgICAgIGlmIChudWxsID09PSBmaWJlci5yZXR1cm4pIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGh5ZHJhdGlvbkRpZmZSb290REVWKVxuICAgICAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWID0ge1xuICAgICAgICAgICAgZmliZXI6IGZpYmVyLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgc2VydmVyUHJvcHM6IHZvaWQgMCxcbiAgICAgICAgICAgIHNlcnZlclRhaWw6IFtdLFxuICAgICAgICAgICAgZGlzdGFuY2VGcm9tTGVhZjogZGlzdGFuY2VGcm9tTGVhZlxuICAgICAgICAgIH07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChoeWRyYXRpb25EaWZmUm9vdERFVi5maWJlciAhPT0gZmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJTYXcgbXVsdGlwbGUgaHlkcmF0aW9uIGRpZmYgcm9vdHMgaW4gYSBwYXNzLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWLmRpc3RhbmNlRnJvbUxlYWYgPiBkaXN0YW5jZUZyb21MZWFmICYmXG4gICAgICAgICAgICAoaHlkcmF0aW9uRGlmZlJvb3RERVYuZGlzdGFuY2VGcm9tTGVhZiA9IGRpc3RhbmNlRnJvbUxlYWYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoeWRyYXRpb25EaWZmUm9vdERFVjtcbiAgICAgIH1cbiAgICAgIHZhciBzaWJsaW5ncyA9IGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoXG4gICAgICAgIGZpYmVyLnJldHVybixcbiAgICAgICAgZGlzdGFuY2VGcm9tTGVhZiArIDFcbiAgICAgICkuY2hpbGRyZW47XG4gICAgICBpZiAoMCA8IHNpYmxpbmdzLmxlbmd0aCAmJiBzaWJsaW5nc1tzaWJsaW5ncy5sZW5ndGggLSAxXS5maWJlciA9PT0gZmliZXIpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKHNpYmxpbmdzID0gc2libGluZ3Nbc2libGluZ3MubGVuZ3RoIC0gMV0pLFxuICAgICAgICAgIHNpYmxpbmdzLmRpc3RhbmNlRnJvbUxlYWYgPiBkaXN0YW5jZUZyb21MZWFmICYmXG4gICAgICAgICAgICAoc2libGluZ3MuZGlzdGFuY2VGcm9tTGVhZiA9IGRpc3RhbmNlRnJvbUxlYWYpLFxuICAgICAgICAgIHNpYmxpbmdzXG4gICAgICAgICk7XG4gICAgICBkaXN0YW5jZUZyb21MZWFmID0ge1xuICAgICAgICBmaWJlcjogZmliZXIsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgc2VydmVyUHJvcHM6IHZvaWQgMCxcbiAgICAgICAgc2VydmVyVGFpbDogW10sXG4gICAgICAgIGRpc3RhbmNlRnJvbUxlYWY6IGRpc3RhbmNlRnJvbUxlYWZcbiAgICAgIH07XG4gICAgICBzaWJsaW5ncy5wdXNoKGRpc3RhbmNlRnJvbUxlYWYpO1xuICAgICAgcmV0dXJuIGRpc3RhbmNlRnJvbUxlYWY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKGZpYmVyLCByZWplY3RlZENhbmRpZGF0ZSkge1xuICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgfHxcbiAgICAgICAgKChmaWJlciA9IGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoZmliZXIsIDApKSxcbiAgICAgICAgKGZpYmVyLnNlcnZlclByb3BzID0gbnVsbCksXG4gICAgICAgIG51bGwgIT09IHJlamVjdGVkQ2FuZGlkYXRlICYmXG4gICAgICAgICAgKChyZWplY3RlZENhbmRpZGF0ZSA9XG4gICAgICAgICAgICBkZXNjcmliZUh5ZHJhdGFibGVJbnN0YW5jZUZvckRldldhcm5pbmdzKHJlamVjdGVkQ2FuZGlkYXRlKSksXG4gICAgICAgICAgZmliZXIuc2VydmVyVGFpbC5wdXNoKHJlamVjdGVkQ2FuZGlkYXRlKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goZmliZXIpIHtcbiAgICAgIHZhciBkaWZmID0gXCJcIixcbiAgICAgICAgZGlmZlJvb3QgPSBoeWRyYXRpb25EaWZmUm9vdERFVjtcbiAgICAgIG51bGwgIT09IGRpZmZSb290ICYmXG4gICAgICAgICgoaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsKSwgKGRpZmYgPSBkZXNjcmliZURpZmYoZGlmZlJvb3QpKSk7XG4gICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKFxuICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgIFwiSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgSFRNTCBkaWRuJ3QgbWF0Y2ggdGhlIGNsaWVudC4gQXMgYSByZXN1bHQgdGhpcyB0cmVlIHdpbGwgYmUgcmVnZW5lcmF0ZWQgb24gdGhlIGNsaWVudC4gVGhpcyBjYW4gaGFwcGVuIGlmIGEgU1NSLWVkIENsaWVudCBDb21wb25lbnQgdXNlZDpcXG5cXG4tIEEgc2VydmVyL2NsaWVudCBicmFuY2ggYGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylgLlxcbi0gVmFyaWFibGUgaW5wdXQgc3VjaCBhcyBgRGF0ZS5ub3coKWAgb3IgYE1hdGgucmFuZG9tKClgIHdoaWNoIGNoYW5nZXMgZWFjaCB0aW1lIGl0J3MgY2FsbGVkLlxcbi0gRGF0ZSBmb3JtYXR0aW5nIGluIGEgdXNlcidzIGxvY2FsZSB3aGljaCBkb2Vzbid0IG1hdGNoIHRoZSBzZXJ2ZXIuXFxuLSBFeHRlcm5hbCBjaGFuZ2luZyBkYXRhIHdpdGhvdXQgc2VuZGluZyBhIHNuYXBzaG90IG9mIGl0IGFsb25nIHdpdGggdGhlIEhUTUwuXFxuLSBJbnZhbGlkIEhUTUwgdGFnIG5lc3RpbmcuXFxuXFxuSXQgY2FuIGFsc28gaGFwcGVuIGlmIHRoZSBjbGllbnQgaGFzIGEgYnJvd3NlciBleHRlbnNpb24gaW5zdGFsbGVkIHdoaWNoIG1lc3NlcyB3aXRoIHRoZSBIVE1MIGJlZm9yZSBSZWFjdCBsb2FkZWQuXFxuXFxuaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9oeWRyYXRpb24tbWlzbWF0Y2hcIiArXG4gICAgICAgICAgICAgIGRpZmZcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpYmVyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aHJvdyBIeWRyYXRpb25NaXNtYXRjaEV4Y2VwdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZShmaWJlcikge1xuICAgICAgdmFyIGRpZEh5ZHJhdGUgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGUsXG4gICAgICAgIHByb3BzID0gZmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgIGRpZEh5ZHJhdGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBmaWJlcjtcbiAgICAgIGRpZEh5ZHJhdGVbaW50ZXJuYWxQcm9wc0tleV0gPSBwcm9wcztcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodHlwZSwgcHJvcHMpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJkaWFsb2dcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2FuY2VsXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJjbG9zZVwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlmcmFtZVwiOlxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGNhc2UgXCJlbWJlZFwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgY2FzZSBcImF1ZGlvXCI6XG4gICAgICAgICAgZm9yICh0eXBlID0gMDsgdHlwZSA8IG1lZGlhRXZlbnRUeXBlcy5sZW5ndGg7IHR5cGUrKylcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQobWVkaWFFdmVudFR5cGVzW3R5cGVdLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZXRhaWxzXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInRvZ2dsZVwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcImlucHV0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICB2YWxpZGF0ZUlucHV0UHJvcHMoZGlkSHlkcmF0ZSwgcHJvcHMpO1xuICAgICAgICAgIGluaXRJbnB1dChcbiAgICAgICAgICAgIGRpZEh5ZHJhdGUsXG4gICAgICAgICAgICBwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIHByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICBwcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgIHByb3BzLnR5cGUsXG4gICAgICAgICAgICBwcm9wcy5uYW1lLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICAgIHRyYWNrKGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgdmFsaWRhdGVPcHRpb25Qcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwic2VsZWN0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICB2YWxpZGF0ZVNlbGVjdFByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcInRleHRhcmVhXCIsIHByb3BzKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRpZEh5ZHJhdGUpLFxuICAgICAgICAgICAgdmFsaWRhdGVUZXh0YXJlYVByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKSxcbiAgICAgICAgICAgIGluaXRUZXh0YXJlYShcbiAgICAgICAgICAgICAgZGlkSHlkcmF0ZSxcbiAgICAgICAgICAgICAgcHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0cmFjayhkaWRIeWRyYXRlKTtcbiAgICAgIH1cbiAgICAgIHR5cGUgPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBcIm51bWJlclwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBcImJpZ2ludFwiICE9PSB0eXBlb2YgdHlwZSkgfHxcbiAgICAgIGRpZEh5ZHJhdGUudGV4dENvbnRlbnQgPT09IFwiXCIgKyB0eXBlIHx8XG4gICAgICAhMCA9PT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIHx8XG4gICAgICBjaGVja0ZvclVubWF0Y2hlZFRleHQoZGlkSHlkcmF0ZS50ZXh0Q29udGVudCwgdHlwZSlcbiAgICAgICAgPyAobnVsbCAhPSBwcm9wcy5wb3BvdmVyICYmXG4gICAgICAgICAgICAobGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImJlZm9yZXRvZ2dsZVwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZGlkSHlkcmF0ZSkpLFxuICAgICAgICAgIG51bGwgIT0gcHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgbnVsbCAhPSBwcm9wcy5vblNjcm9sbEVuZCAmJlxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbGVuZFwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICBudWxsICE9IHByb3BzLm9uQ2xpY2sgJiYgKGRpZEh5ZHJhdGUub25jbGljayA9IG5vb3AkMSksXG4gICAgICAgICAgKGRpZEh5ZHJhdGUgPSAhMCkpXG4gICAgICAgIDogKGRpZEh5ZHJhdGUgPSAhMSk7XG4gICAgICBkaWRIeWRyYXRlIHx8IHRocm93T25IeWRyYXRpb25NaXNtYXRjaChmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpIHtcbiAgICAgIGZvciAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlci5yZXR1cm47IGh5ZHJhdGlvblBhcmVudEZpYmVyOyApXG4gICAgICAgIHN3aXRjaCAoaHlkcmF0aW9uUGFyZW50RmliZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0ID0gITA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0ID0gITE7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gaHlkcmF0aW9uUGFyZW50RmliZXIucmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEh5ZHJhdGlvblN0YXRlKGZpYmVyKSB7XG4gICAgICBpZiAoZmliZXIgIT09IGh5ZHJhdGlvblBhcmVudEZpYmVyKSByZXR1cm4gITE7XG4gICAgICBpZiAoIWlzSHlkcmF0aW5nKVxuICAgICAgICByZXR1cm4gcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlciksIChpc0h5ZHJhdGluZyA9ICEwKSwgITE7XG4gICAgICB2YXIgc2hvdWxkQ2xlYXIgPSAhMSxcbiAgICAgICAgSlNDb21waWxlcl90ZW1wO1xuICAgICAgaWYgKChKU0NvbXBpbGVyX3RlbXAgPSAzICE9PSBmaWJlci50YWcgJiYgMjcgIT09IGZpYmVyLnRhZykpIHtcbiAgICAgICAgaWYgKChKU0NvbXBpbGVyX3RlbXAgPSA1ID09PSBmaWJlci50YWcpKVxuICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSBmaWJlci50eXBlKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAhKFwiZm9ybVwiICE9PSBKU0NvbXBpbGVyX3RlbXAgJiYgXCJidXR0b25cIiAhPT0gSlNDb21waWxlcl90ZW1wKSB8fFxuICAgICAgICAgICAgICBzaG91bGRTZXRUZXh0Q29udGVudChmaWJlci50eXBlLCBmaWJlci5tZW1vaXplZFByb3BzKSk7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9ICFKU0NvbXBpbGVyX3RlbXA7XG4gICAgICB9XG4gICAgICBKU0NvbXBpbGVyX3RlbXAgJiYgKHNob3VsZENsZWFyID0gITApO1xuICAgICAgaWYgKHNob3VsZENsZWFyICYmIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpIHtcbiAgICAgICAgZm9yIChzaG91bGRDbGVhciA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7IHNob3VsZENsZWFyOyApIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKGZpYmVyLCAwKTtcbiAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPVxuICAgICAgICAgICAgZGVzY3JpYmVIeWRyYXRhYmxlSW5zdGFuY2VGb3JEZXZXYXJuaW5ncyhzaG91bGRDbGVhcik7XG4gICAgICAgICAgSlNDb21waWxlcl90ZW1wLnNlcnZlclRhaWwucHVzaChkZXNjcmlwdGlvbik7XG4gICAgICAgICAgc2hvdWxkQ2xlYXIgPVxuICAgICAgICAgICAgXCJTdXNwZW5zZVwiID09PSBkZXNjcmlwdGlvbi50eXBlXG4gICAgICAgICAgICAgID8gZ2V0TmV4dEh5ZHJhdGFibGVJbnN0YW5jZUFmdGVyU3VzcGVuc2VJbnN0YW5jZShzaG91bGRDbGVhcilcbiAgICAgICAgICAgICAgOiBnZXROZXh0SHlkcmF0YWJsZShzaG91bGRDbGVhci5uZXh0U2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKGZpYmVyKTtcbiAgICAgIH1cbiAgICAgIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpO1xuICAgICAgaWYgKDEzID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgZmliZXIgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICBmaWJlciA9IG51bGwgIT09IGZpYmVyID8gZmliZXIuZGVoeWRyYXRlZCA6IG51bGw7XG4gICAgICAgIGlmICghZmliZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGhhdmUgYSBoeWRyYXRlZCBzdXNwZW5zZSBpbnN0YW5jZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPVxuICAgICAgICAgIGdldE5leHRIeWRyYXRhYmxlSW5zdGFuY2VBZnRlclN1c3BlbnNlSW5zdGFuY2UoZmliZXIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlclxuICAgICAgICAgID8gZ2V0TmV4dEh5ZHJhdGFibGUoZmliZXIuc3RhdGVOb2RlLm5leHRTaWJsaW5nKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRIeWRyYXRpb25TdGF0ZSgpIHtcbiAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViA9IGlzSHlkcmF0aW5nID0gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHF1ZXVlSHlkcmF0aW9uRXJyb3IoZXJyb3IpIHtcbiAgICAgIG51bGwgPT09IGh5ZHJhdGlvbkVycm9yc1xuICAgICAgICA/IChoeWRyYXRpb25FcnJvcnMgPSBbZXJyb3JdKVxuICAgICAgICA6IGh5ZHJhdGlvbkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFBlbmRpbmdIeWRyYXRpb25XYXJuaW5ncygpIHtcbiAgICAgIHZhciBkaWZmUm9vdCA9IGh5ZHJhdGlvbkRpZmZSb290REVWO1xuICAgICAgbnVsbCAhPT0gZGlmZlJvb3QgJiZcbiAgICAgICAgKChoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwpLFxuICAgICAgICAoZGlmZlJvb3QgPSBkZXNjcmliZURpZmYoZGlmZlJvb3QpKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkEgdHJlZSBoeWRyYXRlZCBidXQgc29tZSBhdHRyaWJ1dGVzIG9mIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgSFRNTCBkaWRuJ3QgbWF0Y2ggdGhlIGNsaWVudCBwcm9wZXJ0aWVzLiBUaGlzIHdvbid0IGJlIHBhdGNoZWQgdXAuIFRoaXMgY2FuIGhhcHBlbiBpZiBhIFNTUi1lZCBDbGllbnQgQ29tcG9uZW50IHVzZWQ6XFxuXFxuLSBBIHNlcnZlci9jbGllbnQgYnJhbmNoIGBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpYC5cXG4tIFZhcmlhYmxlIGlucHV0IHN1Y2ggYXMgYERhdGUubm93KClgIG9yIGBNYXRoLnJhbmRvbSgpYCB3aGljaCBjaGFuZ2VzIGVhY2ggdGltZSBpdCdzIGNhbGxlZC5cXG4tIERhdGUgZm9ybWF0dGluZyBpbiBhIHVzZXIncyBsb2NhbGUgd2hpY2ggZG9lc24ndCBtYXRjaCB0aGUgc2VydmVyLlxcbi0gRXh0ZXJuYWwgY2hhbmdpbmcgZGF0YSB3aXRob3V0IHNlbmRpbmcgYSBzbmFwc2hvdCBvZiBpdCBhbG9uZyB3aXRoIHRoZSBIVE1MLlxcbi0gSW52YWxpZCBIVE1MIHRhZyBuZXN0aW5nLlxcblxcbkl0IGNhbiBhbHNvIGhhcHBlbiBpZiB0aGUgY2xpZW50IGhhcyBhIGJyb3dzZXIgZXh0ZW5zaW9uIGluc3RhbGxlZCB3aGljaCBtZXNzZXMgd2l0aCB0aGUgSFRNTCBiZWZvcmUgUmVhY3QgbG9hZGVkLlxcblxcbiVzJXNcIixcbiAgICAgICAgICBcImh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaHlkcmF0aW9uLW1pc21hdGNoXCIsXG4gICAgICAgICAgZGlmZlJvb3RcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRoZW5hYmxlU3RhdGUoKSB7XG4gICAgICByZXR1cm4geyBkaWRXYXJuQWJvdXRVbmNhY2hlZFByb21pc2U6ICExLCB0aGVuYWJsZXM6IFtdIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGhlbmFibGVSZXNvbHZlZCh0aGVuYWJsZSkge1xuICAgICAgdGhlbmFibGUgPSB0aGVuYWJsZS5zdGF0dXM7XG4gICAgICByZXR1cm4gXCJmdWxmaWxsZWRcIiA9PT0gdGhlbmFibGUgfHwgXCJyZWplY3RlZFwiID09PSB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCQzKCkge31cbiAgICBmdW5jdGlvbiB0cmFja1VzZWRUaGVuYWJsZSh0aGVuYWJsZVN0YXRlLCB0aGVuYWJsZSwgaW5kZXgpIHtcbiAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlID0gITApO1xuICAgICAgdmFyIHRyYWNrZWRUaGVuYWJsZXMgPSB0aGVuYWJsZVN0YXRlLnRoZW5hYmxlcztcbiAgICAgIGluZGV4ID0gdHJhY2tlZFRoZW5hYmxlc1tpbmRleF07XG4gICAgICB2b2lkIDAgPT09IGluZGV4XG4gICAgICAgID8gdHJhY2tlZFRoZW5hYmxlcy5wdXNoKHRoZW5hYmxlKVxuICAgICAgICA6IGluZGV4ICE9PSB0aGVuYWJsZSAmJlxuICAgICAgICAgICh0aGVuYWJsZVN0YXRlLmRpZFdhcm5BYm91dFVuY2FjaGVkUHJvbWlzZSB8fFxuICAgICAgICAgICAgKCh0aGVuYWJsZVN0YXRlLmRpZFdhcm5BYm91dFVuY2FjaGVkUHJvbWlzZSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgd2FzIHN1c3BlbmRlZCBieSBhbiB1bmNhY2hlZCBwcm9taXNlLiBDcmVhdGluZyBwcm9taXNlcyBpbnNpZGUgYSBDbGllbnQgQ29tcG9uZW50IG9yIGhvb2sgaXMgbm90IHlldCBzdXBwb3J0ZWQsIGV4Y2VwdCB2aWEgYSBTdXNwZW5zZS1jb21wYXRpYmxlIGxpYnJhcnkgb3IgZnJhbWV3b3JrLlwiXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICB0aGVuYWJsZS50aGVuKG5vb3AkMywgbm9vcCQzKSxcbiAgICAgICAgICAodGhlbmFibGUgPSBpbmRleCkpO1xuICAgICAgc3dpdGNoICh0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgKCh0aGVuYWJsZVN0YXRlID0gdGhlbmFibGUucmVhc29uKSxcbiAgICAgICAgICAgIGNoZWNrSWZVc2VXcmFwcGVkSW5Bc3luY0NhdGNoKHRoZW5hYmxlU3RhdGUpLFxuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICAgdGhlbmFibGUudGhlbihub29wJDMsIG5vb3AkMyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBudWxsICE9PSB0aGVuYWJsZVN0YXRlICYmXG4gICAgICAgICAgICAgIDEwMCA8IHRoZW5hYmxlU3RhdGUuc2hlbGxTdXNwZW5kQ291bnRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImFzeW5jL2F3YWl0IGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGluIENsaWVudCBDb21wb25lbnRzLCBvbmx5IFNlcnZlciBDb21wb25lbnRzLiBUaGlzIGVycm9yIGlzIG9mdGVuIGNhdXNlZCBieSBhY2NpZGVudGFsbHkgYWRkaW5nIGAndXNlIGNsaWVudCdgIHRvIGEgbW9kdWxlIHRoYXQgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBmb3IgdGhlIHNlcnZlci5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlO1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZS5zdGF0dXMgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBmdWxmaWxsZWRUaGVuYWJsZSA9IHRoZW5hYmxlO1xuICAgICAgICAgICAgICAgICAgZnVsZmlsbGVkVGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgICAgICAgICAgICAgIGZ1bGZpbGxlZFRoZW5hYmxlLnZhbHVlID0gZnVsZmlsbGVkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgdmFyIHJlamVjdGVkVGhlbmFibGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICAgICAgICAgIHJlamVjdGVkVGhlbmFibGUuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgcmVqZWN0ZWRUaGVuYWJsZS5yZWFzb24gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgKCh0aGVuYWJsZVN0YXRlID0gdGhlbmFibGUucmVhc29uKSxcbiAgICAgICAgICAgICAgICBjaGVja0lmVXNlV3JhcHBlZEluQXN5bmNDYXRjaCh0aGVuYWJsZVN0YXRlKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZVN0YXRlKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdXNwZW5kZWRUaGVuYWJsZSA9IHRoZW5hYmxlO1xuICAgICAgICAgIG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITA7XG4gICAgICAgICAgdGhyb3cgU3VzcGVuc2VFeGNlcHRpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1c3BlbmRlZFRoZW5hYmxlKCkge1xuICAgICAgaWYgKG51bGwgPT09IHN1c3BlbmRlZFRoZW5hYmxlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIGEgc3VzcGVuZGVkIHRoZW5hYmxlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHRoZW5hYmxlID0gc3VzcGVuZGVkVGhlbmFibGU7XG4gICAgICBzdXNwZW5kZWRUaGVuYWJsZSA9IG51bGw7XG4gICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFViA9ICExO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmVXNlV3JhcHBlZEluQXN5bmNDYXRjaChyZWplY3RlZFJlYXNvbikge1xuICAgICAgaWYgKHJlamVjdGVkUmVhc29uID09PSBTdXNwZW5zZUV4Y2VwdGlvbilcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJIb29rcyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgYW4gYXN5bmMgY29tcG9uZW50LiBUaGlzIGVycm9yIGlzIG9mdGVuIGNhdXNlZCBieSBhY2NpZGVudGFsbHkgYWRkaW5nIGAndXNlIGNsaWVudCdgIHRvIGEgbW9kdWxlIHRoYXQgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBmb3IgdGhlIHNlcnZlci5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoRGVidWdJbmZvKGRlYnVnSW5mbykge1xuICAgICAgdmFyIHByZXZpb3VzRGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgIG51bGwgIT0gZGVidWdJbmZvICYmXG4gICAgICAgIChjdXJyZW50RGVidWdJbmZvID1cbiAgICAgICAgICBudWxsID09PSBwcmV2aW91c0RlYnVnSW5mb1xuICAgICAgICAgICAgPyBkZWJ1Z0luZm9cbiAgICAgICAgICAgIDogcHJldmlvdXNEZWJ1Z0luZm8uY29uY2F0KGRlYnVnSW5mbykpO1xuICAgICAgcmV0dXJuIHByZXZpb3VzRGVidWdJbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCwgZmliZXIsIHJldHVybkZpYmVyKSB7XG4gICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudC5wcm9wcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKFwiY2hpbGRyZW5cIiAhPT0ga2V5ICYmIFwia2V5XCIgIT09IGtleSkge1xuICAgICAgICAgIG51bGwgPT09IGZpYmVyICYmXG4gICAgICAgICAgICAoKGZpYmVyID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCAwKSksXG4gICAgICAgICAgICAoZmliZXIuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgKGZpYmVyLnJldHVybiA9IHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcmVkS2V5KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIHByb3AgYCVzYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiBSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLlwiLFxuICAgICAgICAgICAgICAgIGVycm9yZWRLZXlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVud3JhcFRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGVuYWJsZUluZGV4Q291bnRlciQxO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIkMSArPSAxO1xuICAgICAgbnVsbCA9PT0gdGhlbmFibGVTdGF0ZSQxICYmICh0aGVuYWJsZVN0YXRlJDEgPSBjcmVhdGVUaGVuYWJsZVN0YXRlKCkpO1xuICAgICAgcmV0dXJuIHRyYWNrVXNlZFRoZW5hYmxlKHRoZW5hYmxlU3RhdGUkMSwgdGhlbmFibGUsIGluZGV4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlUmVmKHdvcmtJblByb2dyZXNzLCBlbGVtZW50KSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wcm9wcy5yZWY7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5yZWYgPSB2b2lkIDAgIT09IGVsZW1lbnQgPyBlbGVtZW50IDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCkge1xuICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9MRUdBQ1lfRUxFTUVOVF9UWVBFKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnQSBSZWFjdCBFbGVtZW50IGZyb20gYW4gb2xkZXIgdmVyc2lvbiBvZiBSZWFjdCB3YXMgcmVuZGVyZWQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSXQgY2FuIGhhcHBlbiBpZjpcXG4tIE11bHRpcGxlIGNvcGllcyBvZiB0aGUgXCJyZWFjdFwiIHBhY2thZ2UgaXMgdXNlZC5cXG4tIEEgbGlicmFyeSBwcmUtYnVuZGxlZCBhbiBvbGQgY29weSBvZiBcInJlYWN0XCIgb3IgXCJyZWFjdC9qc3gtcnVudGltZVwiLlxcbi0gQSBjb21waWxlciB0cmllcyB0byBcImlubGluZVwiIEpTWCBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBydW50aW1lLidcbiAgICAgICAgKTtcbiAgICAgIHJldHVybkZpYmVyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkKTtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgPyBcIm9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMobmV3Q2hpbGQpLmpvaW4oXCIsIFwiKSArIFwifVwiXG4gICAgICAgICAgICA6IHJldHVybkZpYmVyKSArXG4gICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgaW52YWxpZENoaWxkKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gfHxcbiAgICAgICAgKChvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gPSAhMCksXG4gICAgICAgIChpbnZhbGlkQ2hpbGQgPVxuICAgICAgICAgIGludmFsaWRDaGlsZC5kaXNwbGF5TmFtZSB8fCBpbnZhbGlkQ2hpbGQubmFtZSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgMyA9PT0gcmV0dXJuRmliZXIudGFnXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkZ1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiB5b3UgcmV0dXJuICVzIGluc3RlYWQgb2YgPCVzIC8+IGZyb20gcmVuZGVyLiBPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC5cXG4gIHJvb3QucmVuZGVyKCVzKVwiLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkZ1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiB5b3UgcmV0dXJuICVzIGluc3RlYWQgb2YgPCVzIC8+IGZyb20gcmVuZGVyLiBPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC5cXG4gIDwlcz57JXN9PC8lcz5cIixcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWUsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgcGFyZW50TmFtZVxuICAgICAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIGludmFsaWRDaGlsZCkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgb3duZXJIYXNTeW1ib2xUeXBlV2FybmluZ1twYXJlbnROYW1lXSB8fFxuICAgICAgICAoKG93bmVySGFzU3ltYm9sVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gPSAhMCksXG4gICAgICAgIChpbnZhbGlkQ2hpbGQgPSBTdHJpbmcoaW52YWxpZENoaWxkKSksXG4gICAgICAgIDMgPT09IHJldHVybkZpYmVyLnRhZ1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJTeW1ib2xzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC5cXG4gIHJvb3QucmVuZGVyKCVzKVwiLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU3ltYm9scyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuXFxuICA8JXM+JXM8LyVzPlwiLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWVcbiAgICAgICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZFJlY29uY2lsZXIoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgZnVuY3Rpb24gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICB2YXIgZGVsZXRpb25zID0gcmV0dXJuRmliZXIuZGVsZXRpb25zO1xuICAgICAgICAgIG51bGwgPT09IGRlbGV0aW9uc1xuICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyLmRlbGV0aW9ucyA9IFtjaGlsZFRvRGVsZXRlXSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlci5mbGFncyB8PSAxNikpXG4gICAgICAgICAgICA6IGRlbGV0aW9ucy5wdXNoKGNoaWxkVG9EZWxldGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAgICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yICg7IG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkOyApXG4gICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSxcbiAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG1hcFJlbWFpbmluZ0NoaWxkcmVuKGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgICAgIGZvciAodmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBuZXcgTWFwKCk7IG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkOyApXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQua2V5XG4gICAgICAgICAgICA/IGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGN1cnJlbnRGaXJzdENoaWxkLmtleSwgY3VycmVudEZpcnN0Q2hpbGQpXG4gICAgICAgICAgICA6IGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGN1cnJlbnRGaXJzdENoaWxkLmluZGV4LCBjdXJyZW50Rmlyc3RDaGlsZCksXG4gICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGRyZW47XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1c2VGaWJlcihmaWJlciwgcGVuZGluZ1Byb3BzKSB7XG4gICAgICAgIGZpYmVyID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoZmliZXIsIHBlbmRpbmdQcm9wcyk7XG4gICAgICAgIGZpYmVyLmluZGV4ID0gMDtcbiAgICAgICAgZmliZXIuc2libGluZyA9IG51bGw7XG4gICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICAgICAgbmV3RmliZXIuaW5kZXggPSBuZXdJbmRleDtcbiAgICAgICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKVxuICAgICAgICAgIHJldHVybiAobmV3RmliZXIuZmxhZ3MgfD0gMTA0ODU3NiksIGxhc3RQbGFjZWRJbmRleDtcbiAgICAgICAgbmV3SW5kZXggPSBuZXdGaWJlci5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChudWxsICE9PSBuZXdJbmRleClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKG5ld0luZGV4ID0gbmV3SW5kZXguaW5kZXgpLFxuICAgICAgICAgICAgbmV3SW5kZXggPCBsYXN0UGxhY2VkSW5kZXhcbiAgICAgICAgICAgICAgPyAoKG5ld0ZpYmVyLmZsYWdzIHw9IDMzNTU0NDM0KSwgbGFzdFBsYWNlZEluZGV4KVxuICAgICAgICAgICAgICA6IG5ld0luZGV4XG4gICAgICAgICAgKTtcbiAgICAgICAgbmV3RmliZXIuZmxhZ3MgfD0gMzM1NTQ0MzQ7XG4gICAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwbGFjZVNpbmdsZUNoaWxkKG5ld0ZpYmVyKSB7XG4gICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICBudWxsID09PSBuZXdGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAobmV3RmliZXIuZmxhZ3MgfD0gMzM1NTQ0MzQpO1xuICAgICAgICByZXR1cm4gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudCwgdGV4dENvbnRlbnQsIGxhbmVzKSB7XG4gICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IDYgIT09IGN1cnJlbnQudGFnKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgICAgICAgIHRleHRDb250ZW50LFxuICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gdXNlRmliZXIoY3VycmVudCwgdGV4dENvbnRlbnQpO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQsIGxhbmVzKSB7XG4gICAgICAgIHZhciBlbGVtZW50VHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgICAgICAgaWYgKGVsZW1lbnRUeXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIGVsZW1lbnQua2V5XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50LCBjdXJyZW50LCByZXR1cm5GaWJlciksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAoY3VycmVudC5lbGVtZW50VHlwZSA9PT0gZWxlbWVudFR5cGUgfHxcbiAgICAgICAgICAgIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhjdXJyZW50LCBlbGVtZW50KSB8fFxuICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50VHlwZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBlbGVtZW50VHlwZSAmJlxuICAgICAgICAgICAgICBlbGVtZW50VHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIGNhbGxMYXp5SW5pdEluREVWKGVsZW1lbnRUeXBlKSA9PT0gY3VycmVudC50eXBlKSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIGVsZW1lbnQucHJvcHMpKSxcbiAgICAgICAgICAgIGNvZXJjZVJlZihjdXJyZW50LCBlbGVtZW50KSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGxhbmVzKTtcbiAgICAgICAgY29lcmNlUmVmKGN1cnJlbnQsIGVsZW1lbnQpO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgY3VycmVudCwgcG9ydGFsLCBsYW5lcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgIDQgIT09IGN1cnJlbnQudGFnIHx8XG4gICAgICAgICAgY3VycmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyAhPT0gcG9ydGFsLmNvbnRhaW5lckluZm8gfHxcbiAgICAgICAgICBjdXJyZW50LnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiAhPT0gcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCByZXR1cm5GaWJlci5tb2RlLCBsYW5lcykpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCBwb3J0YWwuY2hpbGRyZW4gfHwgW10pO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBmcmFnbWVudCwgbGFuZXMsIGtleSkge1xuICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCA3ICE9PSBjdXJyZW50LnRhZylcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIGZyYWdtZW50KTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGQsIGxhbmVzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChuZXdDaGlsZCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgICAgICAgIFwiXCIgKyBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKG5ld0NoaWxkLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChuZXdDaGlsZC5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChuZXdDaGlsZC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBuZXdDaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAobGFuZXMgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBjb2VyY2VSZWYobGFuZXMsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICB2YXIgX3ByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgICBuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGQsIGxhbmVzKTtcbiAgICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvO1xuICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAobGFuZXMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgIChsYW5lcy5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQudGhlbilcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChfcHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBjcmVhdGVDaGlsZChcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICB1bndyYXBUaGVuYWJsZShuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gX3ByZXZEZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDaGlsZChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGxhbmVzKSB7XG4gICAgICAgIHZhciBrZXkgPSBudWxsICE9PSBvbGRGaWJlciA/IG9sZEZpYmVyLmtleSA6IG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIG51bGwgIT09IGtleVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBvbGRGaWJlciwgXCJcIiArIG5ld0NoaWxkLCBsYW5lcyk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld0NoaWxkLmtleSA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyAoKGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBrZXkpLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld0NoaWxkLmtleSA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgbGFuZXMpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBrZXkpLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBrZXkpIHJldHVybiBudWxsO1xuICAgICAgICAgICAga2V5ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IGtleTtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoa2V5ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IGtleSksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihyZXR1cm5GaWJlciwgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZyb21NYXAoXG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBuZXdJZHgsXG4gICAgICAgIG5ld0NoaWxkLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChleGlzdGluZ0NoaWxkcmVuID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsKSxcbiAgICAgICAgICAgIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBleGlzdGluZ0NoaWxkcmVuLCBcIlwiICsgbmV3Q2hpbGQsIGxhbmVzKVxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAobmV3SWR4ID1cbiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KFxuICAgICAgICAgICAgICAgICAgICBudWxsID09PSBuZXdDaGlsZC5rZXkgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICAgICAgICkgfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBleGlzdGluZ0NoaWxkcmVuKSxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLmdldChcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3Q2hpbGQua2V5ID8gbmV3SWR4IDogbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICAgICAgICApIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgZXhpc3RpbmdDaGlsZHJlbiwgbmV3Q2hpbGQsIGxhbmVzKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHZhciBfcHJldkRlYnVnSW5mbzcgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgICBuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbzc7XG4gICAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChuZXdJZHggPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdJZHgpIHx8IG51bGwpLFxuICAgICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBleGlzdGluZ0NoaWxkcmVuKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoX3ByZXZEZWJ1Z0luZm83ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvNyksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkS2V5KHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQsIGtub3duS2V5cykge1xuICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIGNoaWxkIHx8IG51bGwgPT09IGNoaWxkKSByZXR1cm4ga25vd25LZXlzO1xuICAgICAgICBzd2l0Y2ggKGNoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIHdhcm5Gb3JNaXNzaW5nS2V5KHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQpO1xuICAgICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2Yga2V5KSBicmVhaztcbiAgICAgICAgICAgIGlmIChudWxsID09PSBrbm93bktleXMpIHtcbiAgICAgICAgICAgICAga25vd25LZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFrbm93bktleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKHdvcmtJblByb2dyZXNzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksIGAlc2AuIEtleXMgc2hvdWxkIGJlIHVuaXF1ZSBzbyB0aGF0IGNvbXBvbmVudHMgbWFpbnRhaW4gdGhlaXIgaWRlbnRpdHkgYWNyb3NzIHVwZGF0ZXMuIE5vbi11bmlxdWUga2V5cyBtYXkgY2F1c2UgY2hpbGRyZW4gdG8gYmUgZHVwbGljYXRlZCBhbmQvb3Igb21pdHRlZCBcXHUyMDE0IHRoZSBiZWhhdmlvciBpcyB1bnN1cHBvcnRlZCBhbmQgY291bGQgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24uXCIsXG4gICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgKGNoaWxkID0gY2FsbExhenlJbml0SW5ERVYoY2hpbGQpKSxcbiAgICAgICAgICAgICAgd2Fybk9uSW52YWxpZEtleShyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkLCBrbm93bktleXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrbm93bktleXM7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkcmVuLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGtub3duS2V5cyA9IG51bGwsXG4gICAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbCxcbiAgICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBudWxsLFxuICAgICAgICAgICAgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5ld0lkeCA9IChjdXJyZW50Rmlyc3RDaGlsZCA9IDApLFxuICAgICAgICAgICAgbmV4dE9sZEZpYmVyID0gbnVsbDtcbiAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJiBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgbmV3SWR4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2xkRmliZXIuaW5kZXggPiBuZXdJZHhcbiAgICAgICAgICAgID8gKChuZXh0T2xkRmliZXIgPSBvbGRGaWJlciksIChvbGRGaWJlciA9IG51bGwpKVxuICAgICAgICAgICAgOiAobmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZyk7XG4gICAgICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChudWxsID09PSBuZXdGaWJlcikge1xuICAgICAgICAgICAgbnVsbCA9PT0gb2xkRmliZXIgJiYgKG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBuZXdGaWJlcixcbiAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgIG9sZEZpYmVyICYmXG4gICAgICAgICAgICBudWxsID09PSBuZXdGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3SWR4KTtcbiAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXIpXG4gICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXdGaWJlcik7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJZHggPT09IG5ld0NoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKSxcbiAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KSxcbiAgICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gb2xkRmliZXIpIHtcbiAgICAgICAgICBmb3IgKDsgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBuZXdJZHgrKylcbiAgICAgICAgICAgIChvbGRGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBsYW5lcykpLFxuICAgICAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJlxuICAgICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gb2xkRmliZXIpXG4gICAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBvbGRGaWJlciksXG4gICAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBvbGRGaWJlcikpO1xuICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIG9sZEZpYmVyID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ob2xkRmliZXIpO1xuICAgICAgICAgIG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBuZXdJZHgrK1xuICAgICAgICApXG4gICAgICAgICAgKG5leHRPbGRGaWJlciA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKSksXG4gICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgKChrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRPbGRGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICBvbGRGaWJlci5kZWxldGUoXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBuZXh0T2xkRmliZXIua2V5ID8gbmV3SWR4IDogbmV4dE9sZEZpYmVyLmtleVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgbmV4dE9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgIG5ld0lkeFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXh0T2xkRmliZXIpXG4gICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV4dE9sZEZpYmVyKSxcbiAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBuZXh0T2xkRmliZXIpKTtcbiAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgIG9sZEZpYmVyLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgbmV3Q2hpbGRyZW4sXG4gICAgICAgIGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgaWYgKG51bGwgPT0gbmV3Q2hpbGRyZW4pXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJBbiBpdGVyYWJsZSBvYmplY3QgcHJvdmlkZWQgbm8gaXRlcmF0b3IuXCIpO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbCxcbiAgICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBudWxsLFxuICAgICAgICAgICAgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5ld0lkeCA9IChjdXJyZW50Rmlyc3RDaGlsZCA9IDApLFxuICAgICAgICAgICAgbmV4dE9sZEZpYmVyID0gbnVsbCxcbiAgICAgICAgICAgIGtub3duS2V5cyA9IG51bGwsXG4gICAgICAgICAgICBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgICAgICAgIG51bGwgIT09IG9sZEZpYmVyICYmICFzdGVwLmRvbmU7XG4gICAgICAgICAgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KClcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2xkRmliZXIuaW5kZXggPiBuZXdJZHhcbiAgICAgICAgICAgID8gKChuZXh0T2xkRmliZXIgPSBvbGRGaWJlciksIChvbGRGaWJlciA9IG51bGwpKVxuICAgICAgICAgICAgOiAobmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZyk7XG4gICAgICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIHN0ZXAudmFsdWUsIGxhbmVzKTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gbmV3RmliZXIpIHtcbiAgICAgICAgICAgIG51bGwgPT09IG9sZEZpYmVyICYmIChvbGRGaWJlciA9IG5leHRPbGRGaWJlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3RmliZXIsXG4gICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICBvbGRGaWJlciAmJlxuICAgICAgICAgICAgbnVsbCA9PT0gbmV3RmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChuZXdGaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0lkeCk7XG4gICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyKVxuICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXIpO1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBuZXdGaWJlcjtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RlcC5kb25lKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpLFxuICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpLFxuICAgICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSBvbGRGaWJlcikge1xuICAgICAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSlcbiAgICAgICAgICAgIChvbGRGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBzdGVwLnZhbHVlLCBsYW5lcykpLFxuICAgICAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJlxuICAgICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gb2xkRmliZXIpXG4gICAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBvbGRGaWJlciksXG4gICAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBvbGRGaWJlcikpO1xuICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIG9sZEZpYmVyID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ob2xkRmliZXIpO1xuICAgICAgICAgICFzdGVwLmRvbmU7XG4gICAgICAgICAgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KClcbiAgICAgICAgKVxuICAgICAgICAgIChuZXh0T2xkRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICkpLFxuICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyICYmXG4gICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgb2xkRmliZXIuZGVsZXRlKFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV4dE9sZEZpYmVyLmtleSA/IG5ld0lkeCA6IG5leHRPbGRGaWJlci5rZXlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV4dE9sZEZpYmVyKVxuICAgICAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5leHRPbGRGaWJlciksXG4gICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gbmV4dE9sZEZpYmVyKSk7XG4gICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICBvbGRGaWJlci5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgIGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgbnVsbCAhPT0gbmV3Q2hpbGQgJiZcbiAgICAgICAgICBuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFICYmXG4gICAgICAgICAgbnVsbCA9PT0gbmV3Q2hpbGQua2V5ICYmXG4gICAgICAgICAgKHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhuZXdDaGlsZCwgbnVsbCwgcmV0dXJuRmliZXIpLFxuICAgICAgICAgIChuZXdDaGlsZCA9IG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuKSk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgdmFyIHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5ID0gbmV3Q2hpbGQua2V5OyBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDsgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZpcnN0Q2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gbmV3Q2hpbGQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICg3ID09PSBjdXJyZW50Rmlyc3RDaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzID0gdXNlRmliZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnT3duZXIgPSBuZXdDaGlsZC5fb3duZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhuZXdDaGlsZCwgbGFuZXMsIHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gbGFuZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5lbGVtZW50VHlwZSA9PT0ga2V5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlRmFtaWx5Rm9ySG90UmVsb2FkaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIGtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0ga2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbExhenlJbml0SW5ERVYoa2V5KSA9PT0gY3VycmVudEZpcnN0Q2hpbGQudHlwZSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzID0gdXNlRmliZXIoY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb2VyY2VSZWYobGFuZXMsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdPd25lciA9IG5ld0NoaWxkLl9vd25lcjtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRVxuICAgICAgICAgICAgICAgICAgPyAoKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKG5ld0NoaWxkLCBsYW5lcywgcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpXG4gICAgICAgICAgICAgICAgICA6ICgobGFuZXMgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIGNvZXJjZVJlZihsYW5lcywgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gcGxhY2VTaW5nbGVDaGlsZChyZXR1cm5GaWJlcik7XG4gICAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvO1xuICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mbyA9IG5ld0NoaWxkO1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCA9IHByZXZEZWJ1Z0luZm8ua2V5O1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQ7XG5cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rmlyc3RDaGlsZC5rZXkgPT09IG5ld0NoaWxkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgNCA9PT0gY3VycmVudEZpcnN0Q2hpbGQudGFnICYmXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLmNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLmltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyA9IHVzZUZpYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLmNoaWxkcmVuIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChcbiAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8sXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gbGFuZXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQocmV0dXJuRmliZXIpO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCkpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkRmliZXJzSW1wbChcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgICAgICBwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgIGtleSA9IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpO1xuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGtleSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBbiBvYmplY3QgaXMgbm90IGFuIGl0ZXJhYmxlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBrZXkuY2FsbChuZXdDaGlsZCk7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGRyZW4gPT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAwICE9PSByZXR1cm5GaWJlci50YWcgfHxcbiAgICAgICAgICAgICAgICBcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCIgIT09XG4gICAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocmV0dXJuRmliZXIudHlwZSkgfHxcbiAgICAgICAgICAgICAgICBcIltvYmplY3QgR2VuZXJhdG9yXVwiICE9PVxuICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkcmVuKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0R2VuZXJhdG9ycyB8fFxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJVc2luZyBJdGVyYXRvcnMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkIHVuZXhwZWN0ZWQgcmVzdWx0cyBiZWNhdXNlIGVudW1lcmF0aW5nIGEgZ2VuZXJhdG9yIG11dGF0ZXMgaXQuIFlvdSBtYXkgY29udmVydCBpdCB0byBhbiBhcnJheSB3aXRoIGBBcnJheS5mcm9tKClgIG9yIHRoZSBgWy4uLnNwcmVhZF1gIG9wZXJhdG9yIGJlZm9yZSByZW5kZXJpbmcuIFlvdSBjYW4gYWxzbyB1c2UgYW4gSXRlcmFibGUgdGhhdCBjYW4gaXRlcmF0ZSBtdWx0aXBsZSB0aW1lcyBvdmVyIHRoZSBzYW1lIGl0ZW1zLlwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dEdlbmVyYXRvcnMgPSAhMCk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgbmV3Q2hpbGQuZW50cmllcyAhPT0ga2V5IHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0TWFwcyB8fFxuICAgICAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhbiBhcnJheSBvZiBrZXllZCBSZWFjdEVsZW1lbnRzIGluc3RlYWQuXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzID0gITApKTtcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcihcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICBuZXdDaGlsZHJlbixcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbztcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAocHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihyZXR1cm5GaWJlciwgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocHJldkRlYnVnSW5mbyA9IFwiXCIgKyBuZXdDaGlsZCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZCAmJiA2ID09PSBjdXJyZW50Rmlyc3RDaGlsZC50YWdcbiAgICAgICAgICAgICAgPyAoZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChsYW5lcyA9IHVzZUZpYmVyKGN1cnJlbnRGaXJzdENoaWxkLCBwcmV2RGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpXG4gICAgICAgICAgICAgIDogKGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCksXG4gICAgICAgICAgICAgICAgKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tVGV4dChcbiAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8sXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGxhbmVzKSksXG4gICAgICAgICAgICBwbGFjZVNpbmdsZUNoaWxkKHJldHVybkZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBsYW5lcykge1xuICAgICAgICB2YXIgcHJldkRlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwO1xuICAgICAgICAgIHZhciBmaXJzdENoaWxkRmliZXIgPSByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhlbmFibGVTdGF0ZSQxID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gZmlyc3RDaGlsZEZpYmVyO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgaWYgKHggPT09IFN1c3BlbnNlRXhjZXB0aW9uKSB0aHJvdyB4O1xuICAgICAgICAgIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKDI5LCB4LCBudWxsLCByZXR1cm5GaWJlci5tb2RlKTtcbiAgICAgICAgICBmaWJlci5sYW5lcyA9IGxhbmVzO1xuICAgICAgICAgIGZpYmVyLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIHZhciBkZWJ1Z0luZm8gPSAoZmliZXIuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pO1xuICAgICAgICAgIGZpYmVyLl9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIuX2RlYnVnT3duZXI7XG4gICAgICAgICAgaWYgKG51bGwgIT0gZGVidWdJbmZvKVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlYnVnSW5mby5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBkZWJ1Z0luZm9baV0uc3RhY2spIHtcbiAgICAgICAgICAgICAgICBmaWJlci5fZGVidWdPd25lciA9IGRlYnVnSW5mb1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEhpZGRlbkNvbnRleHQoZmliZXIsIGNvbnRleHQpIHtcbiAgICAgIHZhciBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXMgPSBlbnRhbmdsZWRSZW5kZXJMYW5lcztcbiAgICAgIHB1c2gocHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLCBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXMsIGZpYmVyKTtcbiAgICAgIHB1c2goY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvciwgY29udGV4dCwgZmliZXIpO1xuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXMgfCBjb250ZXh0LmJhc2VMYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayhmaWJlcikge1xuICAgICAgcHVzaChwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IsIGVudGFuZ2xlZFJlbmRlckxhbmVzLCBmaWJlcik7XG4gICAgICBwdXNoKFxuICAgICAgICBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLFxuICAgICAgICBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLmN1cnJlbnQsXG4gICAgICAgIGZpYmVyXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BIaWRkZW5Db250ZXh0KGZpYmVyKSB7XG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvci5jdXJyZW50O1xuICAgICAgcG9wKGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHBvcChwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaGFuZGxlci5hbHRlcm5hdGU7XG4gICAgICBwdXNoKFxuICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLFxuICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQgJiBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzayxcbiAgICAgICAgaGFuZGxlclxuICAgICAgKTtcbiAgICAgIHB1c2goc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsIGhhbmRsZXIsIGhhbmRsZXIpO1xuICAgICAgbnVsbCA9PT0gc2hlbGxCb3VuZGFyeSAmJlxuICAgICAgICAobnVsbCA9PT0gY3VycmVudCB8fCBudWxsICE9PSBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLmN1cnJlbnRcbiAgICAgICAgICA/IChzaGVsbEJvdW5kYXJ5ID0gaGFuZGxlcilcbiAgICAgICAgICA6IG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJiAoc2hlbGxCb3VuZGFyeSA9IGhhbmRsZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaE9mZnNjcmVlblN1c3BlbnNlSGFuZGxlcihmaWJlcikge1xuICAgICAgaWYgKDIyID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChwdXNoKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCwgZmliZXIpLFxuICAgICAgICAgIHB1c2goc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlciksXG4gICAgICAgICAgbnVsbCA9PT0gc2hlbGxCb3VuZGFyeSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAoc2hlbGxCb3VuZGFyeSA9IGZpYmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayhmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayhmaWJlcikge1xuICAgICAgcHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQsIGZpYmVyKTtcbiAgICAgIHB1c2goXG4gICAgICAgIHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLFxuICAgICAgICBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50LFxuICAgICAgICBmaWJlclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wU3VzcGVuc2VIYW5kbGVyKGZpYmVyKSB7XG4gICAgICBwb3Aoc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHNoZWxsQm91bmRhcnkgPT09IGZpYmVyICYmIChzaGVsbEJvdW5kYXJ5ID0gbnVsbCk7XG4gICAgICBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kRmlyc3RTdXNwZW5kZWQocm93KSB7XG4gICAgICBmb3IgKHZhciBub2RlID0gcm93OyBudWxsICE9PSBub2RlOyApIHtcbiAgICAgICAgaWYgKDEzID09PSBub2RlLnRhZykge1xuICAgICAgICAgIHZhciBzdGF0ZSA9IG5vZGUubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsICE9PSBzdGF0ZSAmJlxuICAgICAgICAgICAgKChzdGF0ZSA9IHN0YXRlLmRlaHlkcmF0ZWQpLFxuICAgICAgICAgICAgbnVsbCA9PT0gc3RhdGUgfHxcbiAgICAgICAgICAgICAgc3RhdGUuZGF0YSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICAgIHN0YXRlLmRhdGEgPT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgMTkgPT09IG5vZGUudGFnICYmXG4gICAgICAgICAgdm9pZCAwICE9PSBub2RlLm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKDAgIT09IChub2RlLmZsYWdzICYgMTI4KSkgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAobnVsbCAhPT0gbm9kZS5jaGlsZCkge1xuICAgICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSA9PT0gcm93KSBicmVhaztcbiAgICAgICAgZm9yICg7IG51bGwgPT09IG5vZGUuc2libGluZzsgKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSByb3cpIHJldHVybiBudWxsO1xuICAgICAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250cm9sbGVyOiBuZXcgQWJvcnRDb250cm9sbGVyTG9jYWwoKSxcbiAgICAgICAgZGF0YTogbmV3IE1hcCgpLFxuICAgICAgICByZWZDb3VudDogMFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0YWluQ2FjaGUoY2FjaGUpIHtcbiAgICAgIGNhY2hlLmNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiQSBjYWNoZSBpbnN0YW5jZSB3YXMgcmV0YWluZWQgYWZ0ZXIgaXQgd2FzIGFscmVhZHkgZnJlZWQuIFRoaXMgbGlrZWx5IGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgY2FjaGUucmVmQ291bnQrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZUNhY2hlKGNhY2hlKSB7XG4gICAgICBjYWNoZS5yZWZDb3VudC0tO1xuICAgICAgMCA+IGNhY2hlLnJlZkNvdW50ICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkEgY2FjaGUgaW5zdGFuY2Ugd2FzIHJlbGVhc2VkIGFmdGVyIGl0IHdhcyBhbHJlYWR5IGZyZWVkLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIDAgPT09IGNhY2hlLnJlZkNvdW50ICYmXG4gICAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMihOb3JtYWxQcmlvcml0eSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhY2hlLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGFuZ2xlQXN5bmNBY3Rpb24odHJhbnNpdGlvbiwgdGhlbmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzKSB7XG4gICAgICAgIHZhciBlbnRhbmdsZWRMaXN0ZW5lcnMgPSAoY3VycmVudEVudGFuZ2xlZExpc3RlbmVycyA9IFtdKTtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZFBlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRMYW5lID0gcmVxdWVzdFRyYW5zaXRpb25MYW5lKCk7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IHtcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgIHZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGVudGFuZ2xlZExpc3RlbmVycy5wdXNoKHJlc29sdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQrKztcbiAgICAgIHRoZW5hYmxlLnRoZW4ocGluZ0VuZ3RhbmdsZWRBY3Rpb25TY29wZSwgcGluZ0VuZ3RhbmdsZWRBY3Rpb25TY29wZSk7XG4gICAgICByZXR1cm4gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpbmdFbmd0YW5nbGVkQWN0aW9uU2NvcGUoKSB7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IC0tY3VycmVudEVudGFuZ2xlZFBlbmRpbmdDb3VudCAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzXG4gICAgICApIHtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlICYmXG4gICAgICAgICAgKGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKTtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnM7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkTGFuZSA9IDA7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSAoMCwgbGlzdGVuZXJzW2ldKSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFpblRoZW5hYmxlVmFsdWUodGhlbmFibGUsIHJlc3VsdCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IFtdLFxuICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZSA9IHtcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIHJlYXNvbjogbnVsbCxcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUudmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspICgwLCBsaXN0ZW5lcnNbaV0pKHJlc3VsdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS5yZWFzb24gPSBlcnJvcjtcbiAgICAgICAgICBmb3IgKGVycm9yID0gMDsgZXJyb3IgPCBsaXN0ZW5lcnMubGVuZ3RoOyBlcnJvcisrKVxuICAgICAgICAgICAgKDAsIGxpc3RlbmVyc1tlcnJvcl0pKHZvaWQgMCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhlbmFibGVXaXRoT3ZlcnJpZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZWtDYWNoZUZyb21Qb29sKCkge1xuICAgICAgdmFyIGNhY2hlUmVzdW1lZEZyb21QcmV2aW91c1JlbmRlciA9IHJlc3VtZWRDYWNoZS5jdXJyZW50O1xuICAgICAgcmV0dXJuIG51bGwgIT09IGNhY2hlUmVzdW1lZEZyb21QcmV2aW91c1JlbmRlclxuICAgICAgICA/IGNhY2hlUmVzdW1lZEZyb21QcmV2aW91c1JlbmRlclxuICAgICAgICA6IHdvcmtJblByb2dyZXNzUm9vdC5wb29sZWRDYWNoZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFRyYW5zaXRpb24ob2Zmc2NyZWVuV29ya0luUHJvZ3Jlc3MsIHByZXZDYWNoZVBvb2wpIHtcbiAgICAgIG51bGwgPT09IHByZXZDYWNoZVBvb2xcbiAgICAgICAgPyBwdXNoKHJlc3VtZWRDYWNoZSwgcmVzdW1lZENhY2hlLmN1cnJlbnQsIG9mZnNjcmVlbldvcmtJblByb2dyZXNzKVxuICAgICAgICA6IHB1c2gocmVzdW1lZENhY2hlLCBwcmV2Q2FjaGVQb29sLnBvb2wsIG9mZnNjcmVlbldvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VzcGVuZGVkQ2FjaGUoKSB7XG4gICAgICB2YXIgY2FjaGVGcm9tUG9vbCA9IHBlZWtDYWNoZUZyb21Qb29sKCk7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gY2FjaGVGcm9tUG9vbFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7IHBhcmVudDogQ2FjaGVDb250ZXh0Ll9jdXJyZW50VmFsdWUsIHBvb2w6IGNhY2hlRnJvbVBvb2wgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRIb29rVHlwZXNEZXYoKSB7XG4gICAgICB2YXIgaG9va05hbWUgPSBjdXJyZW50SG9va05hbWVJbkRldjtcbiAgICAgIG51bGwgPT09IGhvb2tUeXBlc0RldlxuICAgICAgICA/IChob29rVHlwZXNEZXYgPSBbaG9va05hbWVdKVxuICAgICAgICA6IGhvb2tUeXBlc0Rldi5wdXNoKGhvb2tOYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlSG9va1R5cGVzRGV2KCkge1xuICAgICAgdmFyIGhvb2tOYW1lID0gY3VycmVudEhvb2tOYW1lSW5EZXY7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IGhvb2tUeXBlc0RldiAmJlxuICAgICAgICAoaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYrKyxcbiAgICAgICAgaG9va1R5cGVzRGV2W2hvb2tUeXBlc1VwZGF0ZUluZGV4RGV2XSAhPT0gaG9va05hbWUpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKFxuICAgICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDFcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFkaWRXYXJuQWJvdXRNaXNtYXRjaGVkSG9va3NGb3JDb21wb25lbnQuaGFzKGNvbXBvbmVudE5hbWUpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudC5hZGQoY29tcG9uZW50TmFtZSksXG4gICAgICAgICAgbnVsbCAhPT0gaG9va1R5cGVzRGV2KVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKHZhciB0YWJsZSA9IFwiXCIsIGkgPSAwOyBpIDw9IGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvbGRIb29rTmFtZSA9IGhvb2tUeXBlc0RldltpXSxcbiAgICAgICAgICAgICAgbmV3SG9va05hbWUgPVxuICAgICAgICAgICAgICAgIGkgPT09IGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID8gaG9va05hbWUgOiBvbGRIb29rTmFtZTtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG9sZEhvb2tOYW1lID0gaSArIDEgKyBcIi4gXCIgKyBvbGRIb29rTmFtZTtcbiAgICAgICAgICAgICAgMzAgPiBvbGRIb29rTmFtZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgb2xkSG9va05hbWUgKz0gXCIgXCI7XG4gICAgICAgICAgICBvbGRIb29rTmFtZSArPSBuZXdIb29rTmFtZSArIFwiXFxuXCI7XG4gICAgICAgICAgICB0YWJsZSArPSBvbGRIb29rTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgaGFzIGRldGVjdGVkIGEgY2hhbmdlIGluIHRoZSBvcmRlciBvZiBIb29rcyBjYWxsZWQgYnkgJXMuIFRoaXMgd2lsbCBsZWFkIHRvIGJ1Z3MgYW5kIGVycm9ycyBpZiBub3QgZml4ZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLCByZWFkIHRoZSBSdWxlcyBvZiBIb29rczogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9ydWxlcy1vZi1ob29rc1xcblxcbiAgIFByZXZpb3VzIHJlbmRlciAgICAgICAgICAgIE5leHQgcmVuZGVyXFxuICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuJXMgICBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cXG5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICB0YWJsZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcykge1xuICAgICAgdm9pZCAwID09PSBkZXBzIHx8XG4gICAgICAgIG51bGwgPT09IGRlcHMgfHxcbiAgICAgICAgaXNBcnJheUltcGwoZGVwcykgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIHJlY2VpdmVkIGEgZmluYWwgYXJndW1lbnQgdGhhdCBpcyBub3QgYW4gYXJyYXkgKGluc3RlYWQsIHJlY2VpdmVkIGAlc2ApLiBXaGVuIHNwZWNpZmllZCwgdGhlIGZpbmFsIGFyZ3VtZW50IG11c3QgYmUgYW4gYXJyYXkuXCIsXG4gICAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYsXG4gICAgICAgICAgdHlwZW9mIGRlcHNcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSk7XG4gICAgICBkaWRXYXJuQWJvdXRVc2VGb3JtU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpIHx8XG4gICAgICAgIChkaWRXYXJuQWJvdXRVc2VGb3JtU3RhdGUuYWRkKGNvbXBvbmVudE5hbWUpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3RET00udXNlRm9ybVN0YXRlIGhhcyBiZWVuIHJlbmFtZWQgdG8gUmVhY3QudXNlQWN0aW9uU3RhdGUuIFBsZWFzZSB1cGRhdGUgJXMgdG8gdXNlIFJlYWN0LnVzZUFjdGlvblN0YXRlLlwiLFxuICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93SW52YWxpZEhvb2tFcnJvcigpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIkludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWlnaHQgaGF2ZSBtaXNtYXRjaGluZyB2ZXJzaW9ucyBvZiBSZWFjdCBhbmQgdGhlIHJlbmRlcmVyIChzdWNoIGFzIFJlYWN0IERPTSlcXG4yLiBZb3UgbWlnaHQgYmUgYnJlYWtpbmcgdGhlIFJ1bGVzIG9mIEhvb2tzXFxuMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcblNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsIGZvciB0aXBzIGFib3V0IGhvdyB0byBkZWJ1ZyBhbmQgZml4IHRoaXMgcHJvYmxlbS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXJlSG9va0lucHV0c0VxdWFsKG5leHREZXBzLCBwcmV2RGVwcykge1xuICAgICAgaWYgKGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzKSByZXR1cm4gITE7XG4gICAgICBpZiAobnVsbCA9PT0gcHJldkRlcHMpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgcmVjZWl2ZWQgYSBmaW5hbCBhcmd1bWVudCBkdXJpbmcgdGhpcyByZW5kZXIsIGJ1dCBub3QgZHVyaW5nIHRoZSBwcmV2aW91cyByZW5kZXIuIEV2ZW4gdGhvdWdoIHRoZSBmaW5hbCBhcmd1bWVudCBpcyBvcHRpb25hbCwgaXRzIHR5cGUgY2Fubm90IGNoYW5nZSBiZXR3ZWVuIHJlbmRlcnMuXCIsXG4gICAgICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldlxuICAgICAgICAgICksXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICAgIG5leHREZXBzLmxlbmd0aCAhPT0gcHJldkRlcHMubGVuZ3RoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgZmluYWwgYXJndW1lbnQgcGFzc2VkIHRvICVzIGNoYW5nZWQgc2l6ZSBiZXR3ZWVuIHJlbmRlcnMuIFRoZSBvcmRlciBhbmQgc2l6ZSBvZiB0aGlzIGFycmF5IG11c3QgcmVtYWluIGNvbnN0YW50LlxcblxcblByZXZpb3VzOiAlc1xcbkluY29taW5nOiAlc1wiLFxuICAgICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2LFxuICAgICAgICAgIFwiW1wiICsgcHJldkRlcHMuam9pbihcIiwgXCIpICsgXCJdXCIsXG4gICAgICAgICAgXCJbXCIgKyBuZXh0RGVwcy5qb2luKFwiLCBcIikgKyBcIl1cIlxuICAgICAgICApO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2RGVwcy5sZW5ndGggJiYgaSA8IG5leHREZXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoIW9iamVjdElzKG5leHREZXBzW2ldLCBwcmV2RGVwc1tpXSkpIHJldHVybiAhMTtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgcHJvcHMsXG4gICAgICBzZWNvbmRBcmcsXG4gICAgICBuZXh0UmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHJlbmRlckxhbmVzID0gbmV4dFJlbmRlckxhbmVzO1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgaG9va1R5cGVzRGV2ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQuX2RlYnVnSG9va1R5cGVzIDogbnVsbDtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgY3VycmVudC50eXBlICE9PSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgaWYgKFxuICAgICAgICBcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIiA9PT1cbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQ29tcG9uZW50KSB8fFxuICAgICAgICBcIltvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl1cIiA9PT1cbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQ29tcG9uZW50KVxuICAgICAgKVxuICAgICAgICAobmV4dFJlbmRlckxhbmVzID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihcbiAgICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxXG4gICAgICAgICkpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50LmhhcyhuZXh0UmVuZGVyTGFuZXMpIHx8XG4gICAgICAgICAgICAoZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQuYWRkKG5leHRSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImFzeW5jL2F3YWl0IGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGluIENsaWVudCBDb21wb25lbnRzLCBvbmx5IFNlcnZlciBDb21wb25lbnRzLiBUaGlzIGVycm9yIGlzIG9mdGVuIGNhdXNlZCBieSBhY2NpZGVudGFsbHkgYWRkaW5nIGAndXNlIGNsaWVudCdgIHRvIGEgbW9kdWxlIHRoYXQgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBmb3IgdGhlIHNlcnZlci5cIlxuICAgICAgICAgICAgKSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzID0gMDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgID8gSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVlxuICAgICAgICAgIDogbnVsbCAhPT0gaG9va1R5cGVzRGV2XG4gICAgICAgICAgICA/IEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVZcbiAgICAgICAgICAgIDogSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgPSBuZXh0UmVuZGVyTGFuZXMgPVxuICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpICE9PSBOb01vZGU7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjYWxsQ29tcG9uZW50SW5ERVYoQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKTtcbiAgICAgIHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWID0gITE7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgJiZcbiAgICAgICAgKGNoaWxkcmVuID0gcmVuZGVyV2l0aEhvb2tzQWdhaW4oXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIHNlY29uZEFyZ1xuICAgICAgICApKTtcbiAgICAgIGlmIChuZXh0UmVuZGVyTGFuZXMpIHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNoaWxkcmVuID0gcmVuZGVyV2l0aEhvb2tzQWdhaW4oXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgc2Vjb25kQXJnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZpbmlzaFJlbmRlcmluZ0hvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluaXNoUmVuZGVyaW5nSG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z0hvb2tUeXBlcyA9IGhvb2tUeXBlc0RldjtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llc1xuICAgICAgICA/IG51bGwgIT09IHRoZW5hYmxlU3RhdGUgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID0ge1xuICAgICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgICBmaXJzdENvbnRleHQ6IG51bGwsXG4gICAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiB0aGVuYWJsZVN0YXRlXG4gICAgICAgICAgfSlcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzLl9kZWJ1Z1RoZW5hYmxlU3RhdGUgPSB0aGVuYWJsZVN0YXRlKTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBDb250ZXh0T25seURpc3BhdGNoZXI7XG4gICAgICB2YXIgZGlkUmVuZGVyVG9vRmV3SG9va3MgPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50SG9vayAmJiBudWxsICE9PSBjdXJyZW50SG9vay5uZXh0O1xuICAgICAgcmVuZGVyTGFuZXMgPSAwO1xuICAgICAgaG9va1R5cGVzRGV2ID1cbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICBjdXJyZW50SG9vayA9XG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPVxuICAgICAgICAgIG51bGw7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAoY3VycmVudC5mbGFncyAmIDMxNDU3MjgwKSAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMzE0NTcyODApICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBlcnJvcjogRXhwZWN0ZWQgc3RhdGljIGZsYWcgd2FzIG1pc3NpbmcuIFBsZWFzZSBub3RpZnkgdGhlIFJlYWN0IHRlYW0uXCJcbiAgICAgICAgKTtcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMTtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gMDtcbiAgICAgIHRoZW5hYmxlU3RhdGUgPSBudWxsO1xuICAgICAgaWYgKGRpZFJlbmRlclRvb0Zld0hvb2tzKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlJlbmRlcmVkIGZld2VyIGhvb2tzIHRoYW4gZXhwZWN0ZWQuIFRoaXMgbWF5IGJlIGNhdXNlZCBieSBhbiBhY2NpZGVudGFsIGVhcmx5IHJldHVybiBzdGF0ZW1lbnQuXCJcbiAgICAgICAgKTtcbiAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSB8fFxuICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LmRlcGVuZGVuY2llcyksXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCkgJiZcbiAgICAgICAgICAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSk7XG4gICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFVlxuICAgICAgICA/ICgobmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMSksIChjdXJyZW50ID0gITApKVxuICAgICAgICA6IChjdXJyZW50ID0gITEpO1xuICAgICAgY3VycmVudCAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcIlVua25vd25cIiksXG4gICAgICAgIGRpZFdhcm5BYm91dFVzZVdyYXBwZWRJblRyeUNhdGNoLmhhcyh3b3JrSW5Qcm9ncmVzcykgfHxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRBc3luY0NsaWVudENvbXBvbmVudC5oYXMod29ya0luUHJvZ3Jlc3MpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dFVzZVdyYXBwZWRJblRyeUNhdGNoLmFkZCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiYHVzZWAgd2FzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHRyeS9jYXRjaCBibG9jay4gVGhpcyBpcyBub3QgYWxsb3dlZCBhbmQgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gVG8gaGFuZGxlIGVycm9ycyB0cmlnZ2VyZWQgYnkgYHVzZWAsIHdyYXAgeW91ciBjb21wb25lbnQgaW4gYSBlcnJvciBib3VuZGFyeS5cIlxuICAgICAgICAgICkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyV2l0aEhvb2tzQWdhaW4od29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZykge1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdmFyIG51bWJlck9mUmVSZW5kZXJzID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzICYmICh0aGVuYWJsZVN0YXRlID0gbnVsbCk7XG4gICAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gMDtcbiAgICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID0gITE7XG4gICAgICAgIGlmIChudW1iZXJPZlJlUmVuZGVycyA+PSBSRV9SRU5ERVJfTElNSVQpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlRvbyBtYW55IHJlLXJlbmRlcnMuIFJlYWN0IGxpbWl0cyB0aGUgbnVtYmVyIG9mIHJlbmRlcnMgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgbnVtYmVyT2ZSZVJlbmRlcnMgKz0gMTtcbiAgICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPSAhMTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID0gY3VycmVudEhvb2sgPSBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSkge1xuICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGNoaWxkcmVuLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICAgIGNoaWxkcmVuLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgY2hpbGRyZW4uc3RvcmVzID0gbnVsbDtcbiAgICAgICAgICBudWxsICE9IGNoaWxkcmVuLm1lbW9DYWNoZSAmJiAoY2hpbGRyZW4ubWVtb0NhY2hlLmluZGV4ID0gMCk7XG4gICAgICAgIH1cbiAgICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVjtcbiAgICAgICAgY2hpbGRyZW4gPSBjYWxsQ29tcG9uZW50SW5ERVYoQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKTtcbiAgICAgIH0gd2hpbGUgKGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRyYW5zaXRpb25Bd2FyZUhvc3RDb21wb25lbnQoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkgsXG4gICAgICAgIG1heWJlVGhlbmFibGUgPSBkaXNwYXRjaGVyLnVzZVN0YXRlKClbMF07XG4gICAgICBtYXliZVRoZW5hYmxlID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVUaGVuYWJsZS50aGVuXG4gICAgICAgICAgPyB1c2VUaGVuYWJsZShtYXliZVRoZW5hYmxlKVxuICAgICAgICAgIDogbWF5YmVUaGVuYWJsZTtcbiAgICAgIGRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyLnVzZVN0YXRlKClbMF07XG4gICAgICAobnVsbCAhPT0gY3VycmVudEhvb2sgPyBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlIDogbnVsbCkgIT09XG4gICAgICAgIGRpc3BhdGNoZXIgJiYgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuZmxhZ3MgfD0gMTAyNCk7XG4gICAgICByZXR1cm4gbWF5YmVUaGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tEaWRSZW5kZXJJZEhvb2soKSB7XG4gICAgICB2YXIgZGlkUmVuZGVySWRIb29rID0gMCAhPT0gbG9jYWxJZENvdW50ZXI7XG4gICAgICBsb2NhbElkQ291bnRlciA9IDA7XG4gICAgICByZXR1cm4gZGlkUmVuZGVySWRIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGxhbmVzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQudXBkYXRlUXVldWU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyA9XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGVcbiAgICAgICAgICA/IHdvcmtJblByb2dyZXNzLmZsYWdzICYgLTIwMTMyODY0NVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAtMjA1MztcbiAgICAgIGN1cnJlbnQubGFuZXMgJj0gfmxhbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldEhvb2tzT25VbndpbmQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIGlmIChkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnF1ZXVlO1xuICAgICAgICAgIG51bGwgIT09IHF1ZXVlICYmIChxdWV1ZS5wZW5kaW5nID0gbnVsbCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMTtcbiAgICAgIH1cbiAgICAgIHJlbmRlckxhbmVzID0gMDtcbiAgICAgIGhvb2tUeXBlc0RldiA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgIGN1cnJlbnRIb29rID1cbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IG51bGw7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgPSAhMTtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gbG9jYWxJZENvdW50ZXIgPSAwO1xuICAgICAgdGhlbmFibGVTdGF0ZSA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkge1xuICAgICAgdmFyIGhvb2sgPSB7XG4gICAgICAgIG1lbW9pemVkU3RhdGU6IG51bGwsXG4gICAgICAgIGJhc2VTdGF0ZTogbnVsbCxcbiAgICAgICAgYmFzZVF1ZXVlOiBudWxsLFxuICAgICAgICBxdWV1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICA/IChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1lbW9pemVkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBob29rKVxuICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc0hvb2sgPSB3b3JrSW5Qcm9ncmVzc0hvb2submV4dCA9IGhvb2spO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkge1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRIb29rKSB7XG4gICAgICAgIHZhciBuZXh0Q3VycmVudEhvb2sgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmFsdGVybmF0ZTtcbiAgICAgICAgbmV4dEN1cnJlbnRIb29rID1cbiAgICAgICAgICBudWxsICE9PSBuZXh0Q3VycmVudEhvb2sgPyBuZXh0Q3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSA6IG51bGw7XG4gICAgICB9IGVsc2UgbmV4dEN1cnJlbnRIb29rID0gY3VycmVudEhvb2submV4dDtcbiAgICAgIHZhciBuZXh0V29ya0luUHJvZ3Jlc3NIb29rID1cbiAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NIb29rXG4gICAgICAgICAgPyBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzSG9vay5uZXh0O1xuICAgICAgaWYgKG51bGwgIT09IG5leHRXb3JrSW5Qcm9ncmVzc0hvb2spXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc0hvb2sgPSBuZXh0V29ya0luUHJvZ3Jlc3NIb29rKSxcbiAgICAgICAgICAoY3VycmVudEhvb2sgPSBuZXh0Q3VycmVudEhvb2spO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChudWxsID09PSBuZXh0Q3VycmVudEhvb2spIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5hbHRlcm5hdGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJVcGRhdGUgaG9vayBjYWxsZWQgb24gaW5pdGlhbCByZW5kZXIuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlJlbmRlcmVkIG1vcmUgaG9va3MgdGhhbiBkdXJpbmcgdGhlIHByZXZpb3VzIHJlbmRlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEhvb2sgPSBuZXh0Q3VycmVudEhvb2s7XG4gICAgICAgIG5leHRDdXJyZW50SG9vayA9IHtcbiAgICAgICAgICBtZW1vaXplZFN0YXRlOiBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgIGJhc2VTdGF0ZTogY3VycmVudEhvb2suYmFzZVN0YXRlLFxuICAgICAgICAgIGJhc2VRdWV1ZTogY3VycmVudEhvb2suYmFzZVF1ZXVlLFxuICAgICAgICAgIHF1ZXVlOiBjdXJyZW50SG9vay5xdWV1ZSxcbiAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICAgID8gKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubWVtb2l6ZWRTdGF0ZSA9IHdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgICAgICAgIG5leHRDdXJyZW50SG9vaylcbiAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc0hvb2sgPSB3b3JrSW5Qcm9ncmVzc0hvb2submV4dCA9IG5leHRDdXJyZW50SG9vayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgdmFyIGluZGV4ID0gdGhlbmFibGVJbmRleENvdW50ZXI7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciArPSAxO1xuICAgICAgbnVsbCA9PT0gdGhlbmFibGVTdGF0ZSAmJiAodGhlbmFibGVTdGF0ZSA9IGNyZWF0ZVRoZW5hYmxlU3RhdGUoKSk7XG4gICAgICB0aGVuYWJsZSA9IHRyYWNrVXNlZFRoZW5hYmxlKHRoZW5hYmxlU3RhdGUsIHRoZW5hYmxlLCBpbmRleCk7XG4gICAgICBpbmRleCA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDE7XG4gICAgICBudWxsID09PVxuICAgICAgICAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NIb29rXG4gICAgICAgICAgPyBpbmRleC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc0hvb2submV4dCkgJiZcbiAgICAgICAgKChpbmRleCA9IGluZGV4LmFsdGVybmF0ZSksXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID1cbiAgICAgICAgICBudWxsICE9PSBpbmRleCAmJiBudWxsICE9PSBpbmRleC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVZcbiAgICAgICAgICAgIDogSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWKSk7XG4gICAgICByZXR1cm4gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZSh1c2FibGUpIHtcbiAgICAgIGlmIChudWxsICE9PSB1c2FibGUgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVzYWJsZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdXNhYmxlLnRoZW4pIHJldHVybiB1c2VUaGVuYWJsZSh1c2FibGUpO1xuICAgICAgICBpZiAodXNhYmxlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpIHJldHVybiByZWFkQ29udGV4dCh1c2FibGUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgRXJyb3IoXCJBbiB1bnN1cHBvcnRlZCB0eXBlIHdhcyBwYXNzZWQgdG8gdXNlKCk6IFwiICsgU3RyaW5nKHVzYWJsZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VNZW1vQ2FjaGUoc2l6ZSkge1xuICAgICAgdmFyIG1lbW9DYWNoZSA9IG51bGwsXG4gICAgICAgIHVwZGF0ZVF1ZXVlID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZTtcbiAgICAgIG51bGwgIT09IHVwZGF0ZVF1ZXVlICYmIChtZW1vQ2FjaGUgPSB1cGRhdGVRdWV1ZS5tZW1vQ2FjaGUpO1xuICAgICAgaWYgKG51bGwgPT0gbWVtb0NhY2hlKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5hbHRlcm5hdGU7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50Lm1lbW9DYWNoZSksXG4gICAgICAgICAgICBudWxsICE9IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgKG1lbW9DYWNoZSA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdXJyZW50LmRhdGEubWFwKGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5LnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgICAgICAgfSkpKTtcbiAgICAgIH1cbiAgICAgIG51bGwgPT0gbWVtb0NhY2hlICYmIChtZW1vQ2FjaGUgPSB7IGRhdGE6IFtdLCBpbmRleDogMCB9KTtcbiAgICAgIG51bGwgPT09IHVwZGF0ZVF1ZXVlICYmXG4gICAgICAgICgodXBkYXRlUXVldWUgPSBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlKCkpLFxuICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlKSk7XG4gICAgICB1cGRhdGVRdWV1ZS5tZW1vQ2FjaGUgPSBtZW1vQ2FjaGU7XG4gICAgICB1cGRhdGVRdWV1ZSA9IG1lbW9DYWNoZS5kYXRhW21lbW9DYWNoZS5pbmRleF07XG4gICAgICBpZiAodm9pZCAwID09PSB1cGRhdGVRdWV1ZSB8fCBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA9IG1lbW9DYWNoZS5kYXRhW21lbW9DYWNoZS5pbmRleF0gPSBBcnJheShzaXplKSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSAwO1xuICAgICAgICAgIGN1cnJlbnQgPCBzaXplO1xuICAgICAgICAgIGN1cnJlbnQrK1xuICAgICAgICApXG4gICAgICAgICAgdXBkYXRlUXVldWVbY3VycmVudF0gPSBSRUFDVF9NRU1PX0NBQ0hFX1NFTlRJTkVMO1xuICAgICAgZWxzZVxuICAgICAgICB1cGRhdGVRdWV1ZS5sZW5ndGggIT09IHNpemUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhIGNvbnN0YW50IHNpemUgYXJndW1lbnQgZm9yIGVhY2ggaW52b2NhdGlvbiBvZiB1c2VNZW1vQ2FjaGUuIFRoZSBwcmV2aW91cyBjYWNoZSB3YXMgYWxsb2NhdGVkIHdpdGggc2l6ZSAlcyBidXQgc2l6ZSAlcyB3YXMgcmVxdWVzdGVkLlwiLFxuICAgICAgICAgICAgdXBkYXRlUXVldWUubGVuZ3RoLFxuICAgICAgICAgICAgc2l6ZVxuICAgICAgICAgICk7XG4gICAgICBtZW1vQ2FjaGUuaW5kZXgrKztcbiAgICAgIHJldHVybiB1cGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmFzaWNTdGF0ZVJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFjdGlvbiA/IGFjdGlvbihzdGF0ZSkgOiBhY3Rpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAodm9pZCAwICE9PSBpbml0KSB7XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBpbml0KGluaXRpYWxBcmcpO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluaXQoaW5pdGlhbEFyZyk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpbml0aWFsU3RhdGUgPSBpbml0aWFsQXJnO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gaG9vay5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICByZWR1Y2VyID0ge1xuICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICBsYW5lczogMCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IHJlZHVjZXIsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVcbiAgICAgIH07XG4gICAgICBob29rLnF1ZXVlID0gcmVkdWNlcjtcbiAgICAgIHJlZHVjZXIgPSByZWR1Y2VyLmRpc3BhdGNoID0gZGlzcGF0Y2hSZWR1Y2VyQWN0aW9uLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIHJlZHVjZXJcbiAgICAgICk7XG4gICAgICByZXR1cm4gW2hvb2subWVtb2l6ZWRTdGF0ZSwgcmVkdWNlcl07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZHVjZXIocmVkdWNlcikge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VySW1wbChob29rLCBjdXJyZW50SG9vaywgcmVkdWNlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZHVjZXJJbXBsKGhvb2ssIGN1cnJlbnQsIHJlZHVjZXIpIHtcbiAgICAgIHZhciBxdWV1ZSA9IGhvb2sucXVldWU7XG4gICAgICBpZiAobnVsbCA9PT0gcXVldWUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBxdWV1ZS4gWW91IGFyZSBsaWtlbHkgY2FsbGluZyBIb29rcyBjb25kaXRpb25hbGx5LCB3aGljaCBpcyBub3QgYWxsb3dlZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwpXCJcbiAgICAgICAgKTtcbiAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFJlZHVjZXIgPSByZWR1Y2VyO1xuICAgICAgdmFyIGJhc2VRdWV1ZSA9IGhvb2suYmFzZVF1ZXVlLFxuICAgICAgICBwZW5kaW5nUXVldWUgPSBxdWV1ZS5wZW5kaW5nO1xuICAgICAgaWYgKG51bGwgIT09IHBlbmRpbmdRdWV1ZSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gYmFzZVF1ZXVlKSB7XG4gICAgICAgICAgdmFyIGJhc2VGaXJzdCA9IGJhc2VRdWV1ZS5uZXh0O1xuICAgICAgICAgIGJhc2VRdWV1ZS5uZXh0ID0gcGVuZGluZ1F1ZXVlLm5leHQ7XG4gICAgICAgICAgcGVuZGluZ1F1ZXVlLm5leHQgPSBiYXNlRmlyc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudC5iYXNlUXVldWUgIT09IGJhc2VRdWV1ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludGVybmFsIGVycm9yOiBFeHBlY3RlZCB3b3JrLWluLXByb2dyZXNzIHF1ZXVlIHRvIGJlIGEgY2xvbmUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50LmJhc2VRdWV1ZSA9IGJhc2VRdWV1ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgcXVldWUucGVuZGluZyA9IG51bGw7XG4gICAgICB9XG4gICAgICBwZW5kaW5nUXVldWUgPSBob29rLmJhc2VTdGF0ZTtcbiAgICAgIGlmIChudWxsID09PSBiYXNlUXVldWUpIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjdXJyZW50ID0gYmFzZVF1ZXVlLm5leHQ7XG4gICAgICAgIHZhciBuZXdCYXNlUXVldWVGaXJzdCA9IChiYXNlRmlyc3QgPSBudWxsKSxcbiAgICAgICAgICBuZXdCYXNlUXVldWVMYXN0ID0gbnVsbCxcbiAgICAgICAgICB1cGRhdGUgPSBjdXJyZW50LFxuICAgICAgICAgIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHZhciB1cGRhdGVMYW5lID0gdXBkYXRlLmxhbmUgJiAtNTM2ODcwOTEzO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHVwZGF0ZUxhbmUgIT09IHVwZGF0ZS5sYW5lXG4gICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICAgICAgOiAocmVuZGVyTGFuZXMgJiB1cGRhdGVMYW5lKSA9PT0gdXBkYXRlTGFuZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHJldmVydExhbmUgPSB1cGRhdGUucmV2ZXJ0TGFuZTtcbiAgICAgICAgICAgIGlmICgwID09PSByZXZlcnRMYW5lKVxuICAgICAgICAgICAgICBudWxsICE9PSBuZXdCYXNlUXVldWVMYXN0ICYmXG4gICAgICAgICAgICAgICAgKG5ld0Jhc2VRdWV1ZUxhc3QgPSBuZXdCYXNlUXVldWVMYXN0Lm5leHQgPVxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYW5lOiAwLFxuICAgICAgICAgICAgICAgICAgICByZXZlcnRMYW5lOiAwLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHVwZGF0ZS5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGhhc0VhZ2VyU3RhdGU6IHVwZGF0ZS5oYXNFYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBlYWdlclN0YXRlOiB1cGRhdGUuZWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdXBkYXRlTGFuZSA9PT0gY3VycmVudEVudGFuZ2xlZExhbmUgJiZcbiAgICAgICAgICAgICAgICAgIChkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITApO1xuICAgICAgICAgICAgZWxzZSBpZiAoKHJlbmRlckxhbmVzICYgcmV2ZXJ0TGFuZSkgPT09IHJldmVydExhbmUpIHtcbiAgICAgICAgICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICAgICAgICAgIHJldmVydExhbmUgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgICAgICAgICAgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICh1cGRhdGVMYW5lID0ge1xuICAgICAgICAgICAgICAgIGxhbmU6IDAsXG4gICAgICAgICAgICAgICAgcmV2ZXJ0TGFuZTogdXBkYXRlLnJldmVydExhbmUsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB1cGRhdGUuYWN0aW9uLFxuICAgICAgICAgICAgICAgIGhhc0VhZ2VyU3RhdGU6IHVwZGF0ZS5oYXNFYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgIGVhZ2VyU3RhdGU6IHVwZGF0ZS5lYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3QmFzZVF1ZXVlTGFzdFxuICAgICAgICAgICAgICAgICAgPyAoKG5ld0Jhc2VRdWV1ZUZpcnN0ID0gbmV3QmFzZVF1ZXVlTGFzdCA9IHVwZGF0ZUxhbmUpLFxuICAgICAgICAgICAgICAgICAgICAoYmFzZUZpcnN0ID0gcGVuZGluZ1F1ZXVlKSlcbiAgICAgICAgICAgICAgICAgIDogKG5ld0Jhc2VRdWV1ZUxhc3QgPSBuZXdCYXNlUXVldWVMYXN0Lm5leHQgPSB1cGRhdGVMYW5lKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSByZXZlcnRMYW5lKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IHJldmVydExhbmUpO1xuICAgICAgICAgICAgdXBkYXRlTGFuZSA9IHVwZGF0ZS5hY3Rpb247XG4gICAgICAgICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViAmJlxuICAgICAgICAgICAgICByZWR1Y2VyKHBlbmRpbmdRdWV1ZSwgdXBkYXRlTGFuZSk7XG4gICAgICAgICAgICBwZW5kaW5nUXVldWUgPSB1cGRhdGUuaGFzRWFnZXJTdGF0ZVxuICAgICAgICAgICAgICA/IHVwZGF0ZS5lYWdlclN0YXRlXG4gICAgICAgICAgICAgIDogcmVkdWNlcihwZW5kaW5nUXVldWUsIHVwZGF0ZUxhbmUpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgKHJldmVydExhbmUgPSB7XG4gICAgICAgICAgICAgIGxhbmU6IHVwZGF0ZUxhbmUsXG4gICAgICAgICAgICAgIHJldmVydExhbmU6IHVwZGF0ZS5yZXZlcnRMYW5lLFxuICAgICAgICAgICAgICBhY3Rpb246IHVwZGF0ZS5hY3Rpb24sXG4gICAgICAgICAgICAgIGhhc0VhZ2VyU3RhdGU6IHVwZGF0ZS5oYXNFYWdlclN0YXRlLFxuICAgICAgICAgICAgICBlYWdlclN0YXRlOiB1cGRhdGUuZWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIG51bGwgPT09IG5ld0Jhc2VRdWV1ZUxhc3RcbiAgICAgICAgICAgICAgICA/ICgobmV3QmFzZVF1ZXVlRmlyc3QgPSBuZXdCYXNlUXVldWVMYXN0ID0gcmV2ZXJ0TGFuZSksXG4gICAgICAgICAgICAgICAgICAoYmFzZUZpcnN0ID0gcGVuZGluZ1F1ZXVlKSlcbiAgICAgICAgICAgICAgICA6IChuZXdCYXNlUXVldWVMYXN0ID0gbmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID0gcmV2ZXJ0TGFuZSksXG4gICAgICAgICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IHVwZGF0ZUxhbmUpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IHVwZGF0ZUxhbmUpO1xuICAgICAgICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICAgICAgICB9IHdoaWxlIChudWxsICE9PSB1cGRhdGUgJiYgdXBkYXRlICE9PSBjdXJyZW50KTtcbiAgICAgICAgbnVsbCA9PT0gbmV3QmFzZVF1ZXVlTGFzdFxuICAgICAgICAgID8gKGJhc2VGaXJzdCA9IHBlbmRpbmdRdWV1ZSlcbiAgICAgICAgICA6IChuZXdCYXNlUXVldWVMYXN0Lm5leHQgPSBuZXdCYXNlUXVldWVGaXJzdCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhb2JqZWN0SXMocGVuZGluZ1F1ZXVlLCBob29rLm1lbW9pemVkU3RhdGUpICYmXG4gICAgICAgICAgKChkaWRSZWNlaXZlVXBkYXRlID0gITApLFxuICAgICAgICAgIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gJiZcbiAgICAgICAgICAgICgocmVkdWNlciA9IGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSksIG51bGwgIT09IHJlZHVjZXIpKVxuICAgICAgICApXG4gICAgICAgICAgdGhyb3cgcmVkdWNlcjtcbiAgICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgICBob29rLmJhc2VTdGF0ZSA9IGJhc2VGaXJzdDtcbiAgICAgICAgaG9vay5iYXNlUXVldWUgPSBuZXdCYXNlUXVldWVMYXN0O1xuICAgICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgIH1cbiAgICAgIG51bGwgPT09IGJhc2VRdWV1ZSAmJiAocXVldWUubGFuZXMgPSAwKTtcbiAgICAgIHJldHVybiBbaG9vay5tZW1vaXplZFN0YXRlLCBxdWV1ZS5kaXNwYXRjaF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyUmVkdWNlcihyZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBxdWV1ZSA9IGhvb2sucXVldWU7XG4gICAgICBpZiAobnVsbCA9PT0gcXVldWUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBxdWV1ZS4gWW91IGFyZSBsaWtlbHkgY2FsbGluZyBIb29rcyBjb25kaXRpb25hbGx5LCB3aGljaCBpcyBub3QgYWxsb3dlZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwpXCJcbiAgICAgICAgKTtcbiAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFJlZHVjZXIgPSByZWR1Y2VyO1xuICAgICAgdmFyIGRpc3BhdGNoID0gcXVldWUuZGlzcGF0Y2gsXG4gICAgICAgIGxhc3RSZW5kZXJQaGFzZVVwZGF0ZSA9IHF1ZXVlLnBlbmRpbmcsXG4gICAgICAgIG5ld1N0YXRlID0gaG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGxhc3RSZW5kZXJQaGFzZVVwZGF0ZSkge1xuICAgICAgICBxdWV1ZS5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IChsYXN0UmVuZGVyUGhhc2VVcGRhdGUgPSBsYXN0UmVuZGVyUGhhc2VVcGRhdGUubmV4dCk7XG4gICAgICAgIGRvXG4gICAgICAgICAgKG5ld1N0YXRlID0gcmVkdWNlcihuZXdTdGF0ZSwgdXBkYXRlLmFjdGlvbikpLCAodXBkYXRlID0gdXBkYXRlLm5leHQpO1xuICAgICAgICB3aGlsZSAodXBkYXRlICE9PSBsYXN0UmVuZGVyUGhhc2VVcGRhdGUpO1xuICAgICAgICBvYmplY3RJcyhuZXdTdGF0ZSwgaG9vay5tZW1vaXplZFN0YXRlKSB8fCAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKTtcbiAgICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIG51bGwgPT09IGhvb2suYmFzZVF1ZXVlICYmIChob29rLmJhc2VTdGF0ZSA9IG5ld1N0YXRlKTtcbiAgICAgICAgcXVldWUubGFzdFJlbmRlcmVkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbbmV3U3RhdGUsIGRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCkge1xuICAgICAgdmFyIGZpYmVyID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIk1pc3NpbmcgZ2V0U2VydmVyU25hcHNob3QsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gV2lsbCByZXZlcnQgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBuZXh0U25hcHNob3QgPSBnZXRTZXJ2ZXJTbmFwc2hvdCgpO1xuICAgICAgICBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCB8fFxuICAgICAgICAgIG5leHRTbmFwc2hvdCA9PT0gZ2V0U2VydmVyU25hcHNob3QoKSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcmVzdWx0IG9mIGdldFNlcnZlclNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgPSAhMCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFNuYXBzaG90ID0gZ2V0U25hcHNob3QoKTtcbiAgICAgICAgZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgfHxcbiAgICAgICAgICAoKGdldFNlcnZlclNuYXBzaG90ID0gZ2V0U25hcHNob3QoKSksXG4gICAgICAgICAgb2JqZWN0SXMobmV4dFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCkgfHxcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlRoZSByZXN1bHQgb2YgZ2V0U25hcHNob3Qgc2hvdWxkIGJlIGNhY2hlZCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgPSAhMCkpKTtcbiAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSB3b3JrLWluLXByb2dyZXNzIHJvb3QuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgMCAhPT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNjApIHx8XG4gICAgICAgICAgcHVzaFN0b3JlQ29uc2lzdGVuY3lDaGVjayhmaWJlciwgZ2V0U25hcHNob3QsIG5leHRTbmFwc2hvdCk7XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBuZXh0U25hcHNob3Q7XG4gICAgICBnZXRTZXJ2ZXJTbmFwc2hvdCA9IHsgdmFsdWU6IG5leHRTbmFwc2hvdCwgZ2V0U25hcHNob3Q6IGdldFNuYXBzaG90IH07XG4gICAgICBob29rLnF1ZXVlID0gZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgICBtb3VudEVmZmVjdChcbiAgICAgICAgc3Vic2NyaWJlVG9TdG9yZS5iaW5kKG51bGwsIGZpYmVyLCBnZXRTZXJ2ZXJTbmFwc2hvdCwgc3Vic2NyaWJlKSxcbiAgICAgICAgW3N1YnNjcmliZV1cbiAgICAgICk7XG4gICAgICBmaWJlci5mbGFncyB8PSAyMDQ4O1xuICAgICAgcHVzaEVmZmVjdChcbiAgICAgICAgSGFzRWZmZWN0IHwgUGFzc2l2ZSxcbiAgICAgICAgdXBkYXRlU3RvcmVJbnN0YW5jZS5iaW5kKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmliZXIsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3QsXG4gICAgICAgICAgbmV4dFNuYXBzaG90LFxuICAgICAgICAgIGdldFNuYXBzaG90XG4gICAgICAgICksXG4gICAgICAgIHsgZGVzdHJveTogdm9pZCAwIH0sXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV4dFNuYXBzaG90O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHZhciBmaWJlciA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgaXNIeWRyYXRpbmckanNjb21wJDAgPSBpc0h5ZHJhdGluZztcbiAgICAgIGlmIChpc0h5ZHJhdGluZyRqc2NvbXAkMCkge1xuICAgICAgICBpZiAodm9pZCAwID09PSBnZXRTZXJ2ZXJTbmFwc2hvdClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiTWlzc2luZyBnZXRTZXJ2ZXJTbmFwc2hvdCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHNlcnZlci1yZW5kZXJlZCBjb250ZW50LiBXaWxsIHJldmVydCB0byBjbGllbnQgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3QgPSBnZXRTZXJ2ZXJTbmFwc2hvdCgpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKChnZXRTZXJ2ZXJTbmFwc2hvdCA9IGdldFNuYXBzaG90KCkpLCAhZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNhY2hlZFNuYXBzaG90ID0gZ2V0U25hcHNob3QoKTtcbiAgICAgICAgb2JqZWN0SXMoZ2V0U2VydmVyU25hcHNob3QsIGNhY2hlZFNuYXBzaG90KSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgPSAhMCkpO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAoY2FjaGVkU25hcHNob3QgPSAhb2JqZWN0SXMoXG4gICAgICAgICAgKGN1cnJlbnRIb29rIHx8IGhvb2spLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKSlcbiAgICAgIClcbiAgICAgICAgKGhvb2subWVtb2l6ZWRTdGF0ZSA9IGdldFNlcnZlclNuYXBzaG90KSwgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCk7XG4gICAgICBob29rID0gaG9vay5xdWV1ZTtcbiAgICAgIHZhciBjcmVhdGUgPSBzdWJzY3JpYmVUb1N0b3JlLmJpbmQobnVsbCwgZmliZXIsIGhvb2ssIHN1YnNjcmliZSk7XG4gICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgW3N1YnNjcmliZV0pO1xuICAgICAgaWYgKFxuICAgICAgICBob29rLmdldFNuYXBzaG90ICE9PSBnZXRTbmFwc2hvdCB8fFxuICAgICAgICBjYWNoZWRTbmFwc2hvdCB8fFxuICAgICAgICAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3NIb29rICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rLm1lbW9pemVkU3RhdGUudGFnICYgSGFzRWZmZWN0KVxuICAgICAgKSB7XG4gICAgICAgIGZpYmVyLmZsYWdzIHw9IDIwNDg7XG4gICAgICAgIHB1c2hFZmZlY3QoXG4gICAgICAgICAgSGFzRWZmZWN0IHwgUGFzc2l2ZSxcbiAgICAgICAgICB1cGRhdGVTdG9yZUluc3RhbmNlLmJpbmQoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBob29rLFxuICAgICAgICAgICAgZ2V0U2VydmVyU25hcHNob3QsXG4gICAgICAgICAgICBnZXRTbmFwc2hvdFxuICAgICAgICAgICksXG4gICAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGEgd29yay1pbi1wcm9ncmVzcyByb290LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGlzSHlkcmF0aW5nJGpzY29tcCQwIHx8XG4gICAgICAgICAgMCAhPT0gKHJlbmRlckxhbmVzICYgNjApIHx8XG4gICAgICAgICAgcHVzaFN0b3JlQ29uc2lzdGVuY3lDaGVjayhmaWJlciwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRTZXJ2ZXJTbmFwc2hvdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFN0b3JlQ29uc2lzdGVuY3lDaGVjayhmaWJlciwgZ2V0U25hcHNob3QsIHJlbmRlcmVkU25hcHNob3QpIHtcbiAgICAgIGZpYmVyLmZsYWdzIHw9IDE2Mzg0O1xuICAgICAgZmliZXIgPSB7IGdldFNuYXBzaG90OiBnZXRTbmFwc2hvdCwgdmFsdWU6IHJlbmRlcmVkU25hcHNob3QgfTtcbiAgICAgIGdldFNuYXBzaG90ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZTtcbiAgICAgIG51bGwgPT09IGdldFNuYXBzaG90XG4gICAgICAgID8gKChnZXRTbmFwc2hvdCA9IGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUoKSksXG4gICAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWUgPSBnZXRTbmFwc2hvdCksXG4gICAgICAgICAgKGdldFNuYXBzaG90LnN0b3JlcyA9IFtmaWJlcl0pKVxuICAgICAgICA6ICgocmVuZGVyZWRTbmFwc2hvdCA9IGdldFNuYXBzaG90LnN0b3JlcyksXG4gICAgICAgICAgbnVsbCA9PT0gcmVuZGVyZWRTbmFwc2hvdFxuICAgICAgICAgICAgPyAoZ2V0U25hcHNob3Quc3RvcmVzID0gW2ZpYmVyXSlcbiAgICAgICAgICAgIDogcmVuZGVyZWRTbmFwc2hvdC5wdXNoKGZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN0b3JlSW5zdGFuY2UoZmliZXIsIGluc3QsIG5leHRTbmFwc2hvdCwgZ2V0U25hcHNob3QpIHtcbiAgICAgIGluc3QudmFsdWUgPSBuZXh0U25hcHNob3Q7XG4gICAgICBpbnN0LmdldFNuYXBzaG90ID0gZ2V0U25hcHNob3Q7XG4gICAgICBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpICYmIGZvcmNlU3RvcmVSZXJlbmRlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvU3RvcmUoZmliZXIsIGluc3QsIHN1YnNjcmliZSkge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkgJiYgZm9yY2VTdG9yZVJlcmVuZGVyKGZpYmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpIHtcbiAgICAgIHZhciBsYXRlc3RHZXRTbmFwc2hvdCA9IGluc3QuZ2V0U25hcHNob3Q7XG4gICAgICBpbnN0ID0gaW5zdC52YWx1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBsYXRlc3RHZXRTbmFwc2hvdCgpO1xuICAgICAgICByZXR1cm4gIW9iamVjdElzKGluc3QsIG5leHRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcmNlU3RvcmVSZXJlbmRlcihmaWJlcikge1xuICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN0YXRlSW1wbChpbml0aWFsU3RhdGUpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZUluaXRpYWxpemVyID0gaW5pdGlhbFN0YXRlO1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVJbml0aWFsaXplcigpO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZUluaXRpYWxpemVyKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGhvb2suYmFzZVN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgICAgaG9vay5xdWV1ZSA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IGluaXRpYWxTdGF0ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBob29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICAgICAgaW5pdGlhbFN0YXRlID0gbW91bnRTdGF0ZUltcGwoaW5pdGlhbFN0YXRlKTtcbiAgICAgIHZhciBxdWV1ZSA9IGluaXRpYWxTdGF0ZS5xdWV1ZSxcbiAgICAgICAgZGlzcGF0Y2ggPSBkaXNwYXRjaFNldFN0YXRlLmJpbmQoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICAgIHF1ZXVlXG4gICAgICAgICk7XG4gICAgICBxdWV1ZS5kaXNwYXRjaCA9IGRpc3BhdGNoO1xuICAgICAgcmV0dXJuIFtpbml0aWFsU3RhdGUubWVtb2l6ZWRTdGF0ZSwgZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGhvb2suYmFzZVN0YXRlID0gcGFzc3Rocm91Z2g7XG4gICAgICB2YXIgcXVldWUgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IG51bGxcbiAgICAgIH07XG4gICAgICBob29rLnF1ZXVlID0gcXVldWU7XG4gICAgICBob29rID0gZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgITAsXG4gICAgICAgIHF1ZXVlXG4gICAgICApO1xuICAgICAgcXVldWUuZGlzcGF0Y2ggPSBob29rO1xuICAgICAgcmV0dXJuIFtwYXNzdGhyb3VnaCwgaG9va107XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpY0ltcGwoaG9vaywgY3VycmVudEhvb2ssIHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT3B0aW1pc3RpY0ltcGwoaG9vaywgY3VycmVudCwgcGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIGhvb2suYmFzZVN0YXRlID0gcGFzc3Rocm91Z2g7XG4gICAgICByZXR1cm4gdXBkYXRlUmVkdWNlckltcGwoXG4gICAgICAgIGhvb2ssXG4gICAgICAgIGN1cnJlbnRIb29rLFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWR1Y2VyID8gcmVkdWNlciA6IGJhc2ljU3RhdGVSZWR1Y2VyXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlck9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudEhvb2spXG4gICAgICAgIHJldHVybiB1cGRhdGVPcHRpbWlzdGljSW1wbChob29rLCBjdXJyZW50SG9vaywgcGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgICAgaG9vay5iYXNlU3RhdGUgPSBwYXNzdGhyb3VnaDtcbiAgICAgIHJldHVybiBbcGFzc3Rocm91Z2gsIGhvb2sucXVldWUuZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaEFjdGlvblN0YXRlKFxuICAgICAgZmliZXIsXG4gICAgICBhY3Rpb25RdWV1ZSxcbiAgICAgIHNldFBlbmRpbmdTdGF0ZSxcbiAgICAgIHNldFN0YXRlLFxuICAgICAgcGF5bG9hZFxuICAgICkge1xuICAgICAgaWYgKGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpKVxuICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgZm9ybSBzdGF0ZSB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgICAgZmliZXIgPSBhY3Rpb25RdWV1ZS5hY3Rpb247XG4gICAgICBpZiAobnVsbCAhPT0gZmliZXIpIHtcbiAgICAgICAgdmFyIGFjdGlvbk5vZGUgPSB7XG4gICAgICAgICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgICBhY3Rpb246IGZpYmVyLFxuICAgICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgICAgaXNUcmFuc2l0aW9uOiAhMCxcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIHJlYXNvbjogbnVsbCxcbiAgICAgICAgICBsaXN0ZW5lcnM6IFtdLFxuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgYWN0aW9uTm9kZS5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5UXG4gICAgICAgICAgPyBzZXRQZW5kaW5nU3RhdGUoITApXG4gICAgICAgICAgOiAoYWN0aW9uTm9kZS5pc1RyYW5zaXRpb24gPSAhMSk7XG4gICAgICAgIHNldFN0YXRlKGFjdGlvbk5vZGUpO1xuICAgICAgICBzZXRQZW5kaW5nU3RhdGUgPSBhY3Rpb25RdWV1ZS5wZW5kaW5nO1xuICAgICAgICBudWxsID09PSBzZXRQZW5kaW5nU3RhdGVcbiAgICAgICAgICA/ICgoYWN0aW9uTm9kZS5uZXh0ID0gYWN0aW9uUXVldWUucGVuZGluZyA9IGFjdGlvbk5vZGUpLFxuICAgICAgICAgICAgcnVuQWN0aW9uU3RhdGVBY3Rpb24oYWN0aW9uUXVldWUsIGFjdGlvbk5vZGUpKVxuICAgICAgICAgIDogKChhY3Rpb25Ob2RlLm5leHQgPSBzZXRQZW5kaW5nU3RhdGUubmV4dCksXG4gICAgICAgICAgICAoYWN0aW9uUXVldWUucGVuZGluZyA9IHNldFBlbmRpbmdTdGF0ZS5uZXh0ID0gYWN0aW9uTm9kZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBydW5BY3Rpb25TdGF0ZUFjdGlvbihhY3Rpb25RdWV1ZSwgbm9kZSkge1xuICAgICAgdmFyIGFjdGlvbiA9IG5vZGUuYWN0aW9uLFxuICAgICAgICBwYXlsb2FkID0gbm9kZS5wYXlsb2FkLFxuICAgICAgICBwcmV2U3RhdGUgPSBhY3Rpb25RdWV1ZS5zdGF0ZTtcbiAgICAgIGlmIChub2RlLmlzVHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBjdXJyZW50VHJhbnNpdGlvbjtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVC5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBhY3Rpb24ocHJldlN0YXRlLCBwYXlsb2FkKSxcbiAgICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2goY3VycmVudFRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgICAgICBoYW5kbGVBY3Rpb25SZXR1cm5WYWx1ZShhY3Rpb25RdWV1ZSwgbm9kZSwgcmV0dXJuVmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIG9uQWN0aW9uRXJyb3IoYWN0aW9uUXVldWUsIG5vZGUsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKSxcbiAgICAgICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzICYmXG4gICAgICAgICAgICAgICgoYWN0aW9uUXVldWUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAgICAgMTAgPCBhY3Rpb25RdWV1ZSAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgKGN1cnJlbnRUcmFuc2l0aW9uID0gYWN0aW9uKHByZXZTdGF0ZSwgcGF5bG9hZCkpLFxuICAgICAgICAgICAgaGFuZGxlQWN0aW9uUmV0dXJuVmFsdWUoYWN0aW9uUXVldWUsIG5vZGUsIGN1cnJlbnRUcmFuc2l0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IkMykge1xuICAgICAgICAgIG9uQWN0aW9uRXJyb3IoYWN0aW9uUXVldWUsIG5vZGUsIGVycm9yJDMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUFjdGlvblJldHVyblZhbHVlKGFjdGlvblF1ZXVlLCBub2RlLCByZXR1cm5WYWx1ZSkge1xuICAgICAgbnVsbCAhPT0gcmV0dXJuVmFsdWUgJiZcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlblxuICAgICAgICA/IChyZXR1cm5WYWx1ZS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24gKG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICBvbkFjdGlvblN1Y2Nlc3MoYWN0aW9uUXVldWUsIG5vZGUsIG5leHRTdGF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBub2RlLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICBub2RlLmlzVHJhbnNpdGlvbiB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJBbiBhc3luYyBmdW5jdGlvbiB3YXMgcGFzc2VkIHRvIHVzZUFjdGlvblN0YXRlLCBidXQgaXQgd2FzIGRpc3BhdGNoZWQgb3V0c2lkZSBvZiBhbiBhY3Rpb24gY29udGV4dC4gVGhpcyBpcyBsaWtlbHkgbm90IHdoYXQgeW91IGludGVuZGVkLiBFaXRoZXIgcGFzcyB0aGUgZGlzcGF0Y2ggZnVuY3Rpb24gdG8gYW4gYGFjdGlvbmAgcHJvcCwgb3IgZGlzcGF0Y2ggbWFudWFsbHkgaW5zaWRlIGBzdGFydFRyYW5zaXRpb25gXCJcbiAgICAgICAgICAgICkpXG4gICAgICAgIDogb25BY3Rpb25TdWNjZXNzKGFjdGlvblF1ZXVlLCBub2RlLCByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQWN0aW9uU3VjY2VzcyhhY3Rpb25RdWV1ZSwgYWN0aW9uTm9kZSwgbmV4dFN0YXRlKSB7XG4gICAgICBhY3Rpb25Ob2RlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICBhY3Rpb25Ob2RlLnZhbHVlID0gbmV4dFN0YXRlO1xuICAgICAgbm90aWZ5QWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5vZGUpO1xuICAgICAgYWN0aW9uUXVldWUuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICBhY3Rpb25Ob2RlID0gYWN0aW9uUXVldWUucGVuZGluZztcbiAgICAgIG51bGwgIT09IGFjdGlvbk5vZGUgJiZcbiAgICAgICAgKChuZXh0U3RhdGUgPSBhY3Rpb25Ob2RlLm5leHQpLFxuICAgICAgICBuZXh0U3RhdGUgPT09IGFjdGlvbk5vZGVcbiAgICAgICAgICA/IChhY3Rpb25RdWV1ZS5wZW5kaW5nID0gbnVsbClcbiAgICAgICAgICA6ICgobmV4dFN0YXRlID0gbmV4dFN0YXRlLm5leHQpLFxuICAgICAgICAgICAgKGFjdGlvbk5vZGUubmV4dCA9IG5leHRTdGF0ZSksXG4gICAgICAgICAgICBydW5BY3Rpb25TdGF0ZUFjdGlvbihhY3Rpb25RdWV1ZSwgbmV4dFN0YXRlKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBhY3Rpb25Ob2RlLCBlcnJvcikge1xuICAgICAgdmFyIGxhc3QgPSBhY3Rpb25RdWV1ZS5wZW5kaW5nO1xuICAgICAgYWN0aW9uUXVldWUucGVuZGluZyA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPT0gbGFzdCkge1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgICAgICBkb1xuICAgICAgICAgIChhY3Rpb25Ob2RlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAoYWN0aW9uTm9kZS5yZWFzb24gPSBlcnJvciksXG4gICAgICAgICAgICBub3RpZnlBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTm9kZSksXG4gICAgICAgICAgICAoYWN0aW9uTm9kZSA9IGFjdGlvbk5vZGUubmV4dCk7XG4gICAgICAgIHdoaWxlIChhY3Rpb25Ob2RlICE9PSBsYXN0KTtcbiAgICAgIH1cbiAgICAgIGFjdGlvblF1ZXVlLmFjdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vdGlmeUFjdGlvbkxpc3RlbmVycyhhY3Rpb25Ob2RlKSB7XG4gICAgICBhY3Rpb25Ob2RlID0gYWN0aW9uTm9kZS5saXN0ZW5lcnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGlvbk5vZGUubGVuZ3RoOyBpKyspICgwLCBhY3Rpb25Ob2RlW2ldKSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY3Rpb25TdGF0ZVJlZHVjZXIob2xkU3RhdGUsIG5ld1N0YXRlKSB7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGVQcm9wKSB7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgdmFyIHNzckZvcm1TdGF0ZSA9IHdvcmtJblByb2dyZXNzUm9vdC5mb3JtU3RhdGU7XG4gICAgICAgIGlmIChudWxsICE9PSBzc3JGb3JtU3RhdGUpIHtcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICB2YXIgaXNNYXRjaGluZyA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDE7XG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgICAgaWYgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFya2VySW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluUm9vdE9yU2luZ2xldG9uID0gcm9vdE9yU2luZ2xldG9uQ29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgOCAhPT0gbWFya2VySW5zdGFuY2Uubm9kZVR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluUm9vdE9yU2luZ2xldG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZS5uZXh0U2libGluZ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gbWFya2VySW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaW5Sb290T3JTaW5nbGV0b24gPSBtYXJrZXJJbnN0YW5jZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICBpblJvb3RPclNpbmdsZXRvbiA9PT0gRk9STV9TVEFURV9JU19NQVRDSElORyB8fFxuICAgICAgICAgICAgICAgICAgICBpblJvb3RPclNpbmdsZXRvbiA9PT0gRk9STV9TVEFURV9JU19OT1RfTUFUQ0hJTkdcbiAgICAgICAgICAgICAgICAgICAgICA/IG1hcmtlckluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWFya2VySW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UubmV4dFNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpc01hdGNoaW5nID0gbWFya2VySW5zdGFuY2UuZGF0YSA9PT0gRk9STV9TVEFURV9JU19NQVRDSElORztcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaChpc01hdGNoaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTWF0Y2hpbmcgPSAhMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNNYXRjaGluZyAmJiAoaW5pdGlhbFN0YXRlUHJvcCA9IHNzckZvcm1TdGF0ZVswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNzckZvcm1TdGF0ZSA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBzc3JGb3JtU3RhdGUubWVtb2l6ZWRTdGF0ZSA9IHNzckZvcm1TdGF0ZS5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGVQcm9wO1xuICAgICAgaXNNYXRjaGluZyA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBhY3Rpb25TdGF0ZVJlZHVjZXIsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVQcm9wXG4gICAgICB9O1xuICAgICAgc3NyRm9ybVN0YXRlLnF1ZXVlID0gaXNNYXRjaGluZztcbiAgICAgIHNzckZvcm1TdGF0ZSA9IGRpc3BhdGNoU2V0U3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgaXNNYXRjaGluZ1xuICAgICAgKTtcbiAgICAgIGlzTWF0Y2hpbmcuZGlzcGF0Y2ggPSBzc3JGb3JtU3RhdGU7XG4gICAgICBpc01hdGNoaW5nID0gbW91bnRTdGF0ZUltcGwoITEpO1xuICAgICAgaW5Sb290T3JTaW5nbGV0b24gPSBkaXNwYXRjaE9wdGltaXN0aWNTZXRTdGF0ZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICAhMSxcbiAgICAgICAgaXNNYXRjaGluZy5xdWV1ZVxuICAgICAgKTtcbiAgICAgIGlzTWF0Y2hpbmcgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgbWFya2VySW5zdGFuY2UgPSB7XG4gICAgICAgIHN0YXRlOiBpbml0aWFsU3RhdGVQcm9wLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIHBlbmRpbmc6IG51bGxcbiAgICAgIH07XG4gICAgICBpc01hdGNoaW5nLnF1ZXVlID0gbWFya2VySW5zdGFuY2U7XG4gICAgICBzc3JGb3JtU3RhdGUgPSBkaXNwYXRjaEFjdGlvblN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIG1hcmtlckluc3RhbmNlLFxuICAgICAgICBpblJvb3RPclNpbmdsZXRvbixcbiAgICAgICAgc3NyRm9ybVN0YXRlXG4gICAgICApO1xuICAgICAgbWFya2VySW5zdGFuY2UuZGlzcGF0Y2ggPSBzc3JGb3JtU3RhdGU7XG4gICAgICBpc01hdGNoaW5nLm1lbW9pemVkU3RhdGUgPSBhY3Rpb247XG4gICAgICByZXR1cm4gW2luaXRpYWxTdGF0ZVByb3AsIHNzckZvcm1TdGF0ZSwgITFdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pIHtcbiAgICAgIHZhciBzdGF0ZUhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZUltcGwoc3RhdGVIb29rLCBjdXJyZW50SG9vaywgYWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQWN0aW9uU3RhdGVJbXBsKHN0YXRlSG9vaywgY3VycmVudFN0YXRlSG9vaywgYWN0aW9uKSB7XG4gICAgICBjdXJyZW50U3RhdGVIb29rID0gdXBkYXRlUmVkdWNlckltcGwoXG4gICAgICAgIHN0YXRlSG9vayxcbiAgICAgICAgY3VycmVudFN0YXRlSG9vayxcbiAgICAgICAgYWN0aW9uU3RhdGVSZWR1Y2VyXG4gICAgICApWzBdO1xuICAgICAgc3RhdGVIb29rID0gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcilbMF07XG4gICAgICBjdXJyZW50U3RhdGVIb29rID1cbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGN1cnJlbnRTdGF0ZUhvb2sgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudFN0YXRlSG9vayAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjdXJyZW50U3RhdGVIb29rLnRoZW5cbiAgICAgICAgICA/IHVzZVRoZW5hYmxlKGN1cnJlbnRTdGF0ZUhvb2spXG4gICAgICAgICAgOiBjdXJyZW50U3RhdGVIb29rO1xuICAgICAgdmFyIGFjdGlvblF1ZXVlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBhY3Rpb25RdWV1ZSA9IGFjdGlvblF1ZXVlSG9vay5xdWV1ZSxcbiAgICAgICAgZGlzcGF0Y2ggPSBhY3Rpb25RdWV1ZS5kaXNwYXRjaDtcbiAgICAgIGFjdGlvbiAhPT0gYWN0aW9uUXVldWVIb29rLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgKChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICBwdXNoRWZmZWN0KFxuICAgICAgICAgIEhhc0VmZmVjdCB8IFBhc3NpdmUsXG4gICAgICAgICAgYWN0aW9uU3RhdGVBY3Rpb25FZmZlY3QuYmluZChudWxsLCBhY3Rpb25RdWV1ZSwgYWN0aW9uKSxcbiAgICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKSk7XG4gICAgICByZXR1cm4gW2N1cnJlbnRTdGF0ZUhvb2ssIGRpc3BhdGNoLCBzdGF0ZUhvb2tdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY3Rpb25TdGF0ZUFjdGlvbkVmZmVjdChhY3Rpb25RdWV1ZSwgYWN0aW9uKSB7XG4gICAgICBhY3Rpb25RdWV1ZS5hY3Rpb24gPSBhY3Rpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKSB7XG4gICAgICB2YXIgc3RhdGVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGN1cnJlbnRTdGF0ZUhvb2sgPSBjdXJyZW50SG9vaztcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50U3RhdGVIb29rKVxuICAgICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGVJbXBsKHN0YXRlSG9vaywgY3VycmVudFN0YXRlSG9vaywgYWN0aW9uKTtcbiAgICAgIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgc3RhdGVIb29rID0gc3RhdGVIb29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBjdXJyZW50U3RhdGVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICB2YXIgZGlzcGF0Y2ggPSBjdXJyZW50U3RhdGVIb29rLnF1ZXVlLmRpc3BhdGNoO1xuICAgICAgY3VycmVudFN0YXRlSG9vay5tZW1vaXplZFN0YXRlID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIFtzdGF0ZUhvb2ssIGRpc3BhdGNoLCAhMV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hFZmZlY3QodGFnLCBjcmVhdGUsIGluc3QsIGRlcHMpIHtcbiAgICAgIHRhZyA9IHsgdGFnOiB0YWcsIGNyZWF0ZTogY3JlYXRlLCBpbnN0OiBpbnN0LCBkZXBzOiBkZXBzLCBuZXh0OiBudWxsIH07XG4gICAgICBjcmVhdGUgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlO1xuICAgICAgbnVsbCA9PT0gY3JlYXRlICYmXG4gICAgICAgICgoY3JlYXRlID0gY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSgpKSxcbiAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWUgPSBjcmVhdGUpKTtcbiAgICAgIGluc3QgPSBjcmVhdGUubGFzdEVmZmVjdDtcbiAgICAgIG51bGwgPT09IGluc3RcbiAgICAgICAgPyAoY3JlYXRlLmxhc3RFZmZlY3QgPSB0YWcubmV4dCA9IHRhZylcbiAgICAgICAgOiAoKGRlcHMgPSBpbnN0Lm5leHQpLFxuICAgICAgICAgIChpbnN0Lm5leHQgPSB0YWcpLFxuICAgICAgICAgICh0YWcubmV4dCA9IGRlcHMpLFxuICAgICAgICAgIChjcmVhdGUubGFzdEVmZmVjdCA9IHRhZykpO1xuICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRSZWYoaW5pdGlhbFZhbHVlKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpbml0aWFsVmFsdWUgPSB7IGN1cnJlbnQ6IGluaXRpYWxWYWx1ZSB9O1xuICAgICAgcmV0dXJuIChob29rLm1lbW9pemVkU3RhdGUgPSBpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEVmZmVjdEltcGwoZmliZXJGbGFncywgaG9va0ZsYWdzLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuZmxhZ3MgfD0gZmliZXJGbGFncztcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoXG4gICAgICAgIEhhc0VmZmVjdCB8IGhvb2tGbGFncyxcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRWZmZWN0SW1wbChmaWJlckZsYWdzLCBob29rRmxhZ3MsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBpbnN0ID0gaG9vay5tZW1vaXplZFN0YXRlLmluc3Q7XG4gICAgICBudWxsICE9PSBjdXJyZW50SG9vayAmJlxuICAgICAgbnVsbCAhPT0gZGVwcyAmJlxuICAgICAgYXJlSG9va0lucHV0c0VxdWFsKGRlcHMsIGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUuZGVwcylcbiAgICAgICAgPyAoaG9vay5tZW1vaXplZFN0YXRlID0gcHVzaEVmZmVjdChob29rRmxhZ3MsIGNyZWF0ZSwgaW5zdCwgZGVwcykpXG4gICAgICAgIDogKChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IGZpYmVyRmxhZ3MpLFxuICAgICAgICAgIChob29rLm1lbW9pemVkU3RhdGUgPSBwdXNoRWZmZWN0KFxuICAgICAgICAgICAgSGFzRWZmZWN0IHwgaG9va0ZsYWdzLFxuICAgICAgICAgICAgY3JlYXRlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGRlcHNcbiAgICAgICAgICApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcykge1xuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tb2RlICYgTm9TdHJpY3RQYXNzaXZlRWZmZWN0c01vZGUpID09PSBOb01vZGVcbiAgICAgICAgPyBtb3VudEVmZmVjdEltcGwoMTQyNjA4Mzg0LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpXG4gICAgICAgIDogbW91bnRFZmZlY3RJbXBsKDgzOTA2NTYsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGZpYmVyRmxhZ3MgPSA0MTk0MzA4O1xuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgIChmaWJlckZsYWdzIHw9IDY3MTA4ODY0KTtcbiAgICAgIHJldHVybiBtb3VudEVmZmVjdEltcGwoZmliZXJGbGFncywgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0KGNyZWF0ZSwgcmVmKSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmKSB7XG4gICAgICAgIGNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgICAgICB2YXIgcmVmQ2xlYW51cCA9IHJlZihjcmVhdGUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZkNsZWFudXAgPyByZWZDbGVhbnVwKCkgOiByZWYobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAobnVsbCAhPT0gcmVmICYmIHZvaWQgMCAhPT0gcmVmKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJlZi5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnRcIikgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgdXNlSW1wZXJhdGl2ZUhhbmRsZSgpIGZpcnN0IGFyZ3VtZW50IHRvIGVpdGhlciBiZSBhIHJlZiBjYWxsYmFjayBvciBSZWFjdC5jcmVhdGVSZWYoKSBvYmplY3QuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgICAgICBcImFuIG9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMocmVmKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAoY3JlYXRlID0gY3JlYXRlKCkpLFxuICAgICAgICAgIChyZWYuY3VycmVudCA9IGNyZWF0ZSksXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHVzZUltcGVyYXRpdmVIYW5kbGUoKSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBoYW5kbGUuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgIG51bGwgIT09IGNyZWF0ZSA/IHR5cGVvZiBjcmVhdGUgOiBcIm51bGxcIlxuICAgICAgICApO1xuICAgICAgZGVwcyA9IG51bGwgIT09IGRlcHMgJiYgdm9pZCAwICE9PSBkZXBzID8gZGVwcy5jb25jYXQoW3JlZl0pIDogbnVsbDtcbiAgICAgIHZhciBmaWJlckZsYWdzID0gNDE5NDMwODtcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAoZmliZXJGbGFncyB8PSA2NzEwODg2NCk7XG4gICAgICBtb3VudEVmZmVjdEltcGwoXG4gICAgICAgIGZpYmVyRmxhZ3MsXG4gICAgICAgIExheW91dCxcbiAgICAgICAgaW1wZXJhdGl2ZUhhbmRsZUVmZmVjdC5iaW5kKG51bGwsIGNyZWF0ZSwgcmVmKSxcbiAgICAgICAgZGVwc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB1c2VJbXBlcmF0aXZlSGFuZGxlKCkgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgaGFuZGxlLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICBudWxsICE9PSBjcmVhdGUgPyB0eXBlb2YgY3JlYXRlIDogXCJudWxsXCJcbiAgICAgICAgKTtcbiAgICAgIGRlcHMgPSBudWxsICE9PSBkZXBzICYmIHZvaWQgMCAhPT0gZGVwcyA/IGRlcHMuY29uY2F0KFtyZWZdKSA6IG51bGw7XG4gICAgICB1cGRhdGVFZmZlY3RJbXBsKFxuICAgICAgICA0LFxuICAgICAgICBMYXlvdXQsXG4gICAgICAgIGltcGVyYXRpdmVIYW5kbGVFZmZlY3QuYmluZChudWxsLCBjcmVhdGUsIHJlZiksXG4gICAgICAgIGRlcHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZSA9IFtcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzXG4gICAgICBdO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBwcmV2U3RhdGUgPSBob29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZGVwcyAmJiBhcmVIb29rSW5wdXRzRXF1YWwoZGVwcywgcHJldlN0YXRlWzFdKSlcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZVswXTtcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IFtjYWxsYmFjaywgZGVwc107XG4gICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50TWVtbyhuZXh0Q3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dENyZWF0ZSgpO1xuICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXh0Q3JlYXRlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBbbmV4dFZhbHVlLCBkZXBzXTtcbiAgICAgIHJldHVybiBuZXh0VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1lbW8obmV4dENyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBwcmV2U3RhdGUgPSBob29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZGVwcyAmJiBhcmVIb29rSW5wdXRzRXF1YWwoZGVwcywgcHJldlN0YXRlWzFdKSlcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZVswXTtcbiAgICAgIHByZXZTdGF0ZSA9IG5leHRDcmVhdGUoKTtcbiAgICAgIGlmIChzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFVikge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV4dENyZWF0ZSgpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gW3ByZXZTdGF0ZSwgZGVwc107XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgdmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlSW1wbChcbiAgICAgICAgaG9vayxcbiAgICAgICAgY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluaXRpYWxWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gY3VycmVudEhvb2tcbiAgICAgICAgPyBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpXG4gICAgICAgIDogdXBkYXRlRGVmZXJyZWRWYWx1ZUltcGwoXG4gICAgICAgICAgICBob29rLFxuICAgICAgICAgICAgY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBpbml0aWFsVmFsdWUgfHwgMCAhPT0gKHJlbmRlckxhbmVzICYgMTA3Mzc0MTgyNCkpXG4gICAgICAgIHJldHVybiAoaG9vay5tZW1vaXplZFN0YXRlID0gdmFsdWUpO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gaW5pdGlhbFZhbHVlO1xuICAgICAgaG9vayA9IHJlcXVlc3REZWZlcnJlZExhbmUoKTtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubGFuZXMgfD0gaG9vaztcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSBob29rO1xuICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgcHJldlZhbHVlLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICBpZiAob2JqZWN0SXModmFsdWUsIHByZXZWYWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLmN1cnJlbnQpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGhvb2sgPSBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpKSxcbiAgICAgICAgICBvYmplY3RJcyhob29rLCBwcmV2VmFsdWUpIHx8IChkaWRSZWNlaXZlVXBkYXRlID0gITApLFxuICAgICAgICAgIGhvb2tcbiAgICAgICAgKTtcbiAgICAgIGlmICgwID09PSAocmVuZGVyTGFuZXMgJiA0MikpXG4gICAgICAgIHJldHVybiAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSwgKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHZhbHVlKTtcbiAgICAgIGhvb2sgPSByZXF1ZXN0RGVmZXJyZWRMYW5lKCk7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IGhvb2s7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gaG9vaztcbiAgICAgIHJldHVybiBwcmV2VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0VHJhbnNpdGlvbihcbiAgICAgIGZpYmVyLFxuICAgICAgcXVldWUsXG4gICAgICBwZW5kaW5nU3RhdGUsXG4gICAgICBmaW5pc2hlZFN0YXRlLFxuICAgICAgY2FsbGJhY2tcbiAgICApIHtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPVxuICAgICAgICAwICE9PSBwcmV2aW91c1ByaW9yaXR5ICYmIHByZXZpb3VzUHJpb3JpdHkgPCBDb250aW51b3VzRXZlbnRQcmlvcml0eVxuICAgICAgICAgID8gcHJldmlvdXNQcmlvcml0eVxuICAgICAgICAgIDogQ29udGludW91c0V2ZW50UHJpb3JpdHk7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUoZmliZXIsICExLCBxdWV1ZSwgcGVuZGluZ1N0YXRlKTtcbiAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gY2FsbGJhY2soKSxcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgICAgIG51bGwgIT09IG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2goY3VycmVudFRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgdGhlbmFibGVGb3JGaW5pc2hlZFN0YXRlID0gY2hhaW5UaGVuYWJsZVZhbHVlKFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICBmaW5pc2hlZFN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgICAgdGhlbmFibGVGb3JGaW5pc2hlZFN0YXRlLFxuICAgICAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgIGZpbmlzaGVkU3RhdGUsXG4gICAgICAgICAgICByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcilcbiAgICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgIHsgdGhlbjogZnVuY3Rpb24gKCkge30sIHN0YXR1czogXCJyZWplY3RlZFwiLCByZWFzb246IGVycm9yIH0sXG4gICAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpXG4gICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pLFxuICAgICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICAgKChmaWJlciA9IGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLnNpemUpLFxuICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAgIDEwIDwgZmliZXIgJiZcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0SG9zdFRyYW5zaXRpb24oZm9ybUZpYmVyLCBwZW5kaW5nU3RhdGUsIGFjdGlvbiwgZm9ybURhdGEpIHtcbiAgICAgIGlmICg1ICE9PSBmb3JtRmliZXIudGFnKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHRoZSBmb3JtIGluc3RhbmNlIHRvIGJlIGEgSG9zdENvbXBvbmVudC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHF1ZXVlID0gZW5zdXJlRm9ybUNvbXBvbmVudElzU3RhdGVmdWwoZm9ybUZpYmVyKS5xdWV1ZTtcbiAgICAgIHN0YXJ0VHJhbnNpdGlvbihcbiAgICAgICAgZm9ybUZpYmVyLFxuICAgICAgICBxdWV1ZSxcbiAgICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgICBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgbnVsbCA9PT0gYWN0aW9uXG4gICAgICAgICAgPyBub29wJDJcbiAgICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVxdWVzdEZvcm1SZXNldCQxKGZvcm1GaWJlcik7XG4gICAgICAgICAgICAgIHJldHVybiBhY3Rpb24oZm9ybURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5zdXJlRm9ybUNvbXBvbmVudElzU3RhdGVmdWwoZm9ybUZpYmVyKSB7XG4gICAgICB2YXIgZXhpc3RpbmdTdGF0ZUhvb2sgPSBmb3JtRmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBleGlzdGluZ1N0YXRlSG9vaykgcmV0dXJuIGV4aXN0aW5nU3RhdGVIb29rO1xuICAgICAgZXhpc3RpbmdTdGF0ZUhvb2sgPSB7XG4gICAgICAgIG1lbW9pemVkU3RhdGU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBiYXNlU3RhdGU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBiYXNlUXVldWU6IG51bGwsXG4gICAgICAgIHF1ZXVlOiB7XG4gICAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgICBsYW5lczogMCxcbiAgICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogTm90UGVuZGluZ1RyYW5zaXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIHZhciBpbml0aWFsUmVzZXRTdGF0ZSA9IHt9O1xuICAgICAgZXhpc3RpbmdTdGF0ZUhvb2submV4dCA9IHtcbiAgICAgICAgbWVtb2l6ZWRTdGF0ZTogaW5pdGlhbFJlc2V0U3RhdGUsXG4gICAgICAgIGJhc2VTdGF0ZTogaW5pdGlhbFJlc2V0U3RhdGUsXG4gICAgICAgIGJhc2VRdWV1ZTogbnVsbCxcbiAgICAgICAgcXVldWU6IHtcbiAgICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IGJhc2ljU3RhdGVSZWR1Y2VyLFxuICAgICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsUmVzZXRTdGF0ZVxuICAgICAgICB9LFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgZm9ybUZpYmVyLm1lbW9pemVkU3RhdGUgPSBleGlzdGluZ1N0YXRlSG9vaztcbiAgICAgIGZvcm1GaWJlciA9IGZvcm1GaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBmb3JtRmliZXIgJiYgKGZvcm1GaWJlci5tZW1vaXplZFN0YXRlID0gZXhpc3RpbmdTdGF0ZUhvb2spO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nU3RhdGVIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0Rm9ybVJlc2V0JDEoZm9ybUZpYmVyKSB7XG4gICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5UICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJyZXF1ZXN0Rm9ybVJlc2V0IHdhcyBjYWxsZWQgb3V0c2lkZSBhIHRyYW5zaXRpb24gb3IgYWN0aW9uLiBUbyBmaXgsIG1vdmUgdG8gYW4gYWN0aW9uLCBvciB3cmFwIHdpdGggc3RhcnRUcmFuc2l0aW9uLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcmVzZXRTdGF0ZVF1ZXVlID0gZW5zdXJlRm9ybUNvbXBvbmVudElzU3RhdGVmdWwoZm9ybUZpYmVyKS5uZXh0LnF1ZXVlO1xuICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICBmb3JtRmliZXIsXG4gICAgICAgIHJlc2V0U3RhdGVRdWV1ZSxcbiAgICAgICAge30sXG4gICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZvcm1GaWJlcilcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50VHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBzdGF0ZUhvb2sgPSBtb3VudFN0YXRlSW1wbCghMSk7XG4gICAgICBzdGF0ZUhvb2sgPSBzdGFydFRyYW5zaXRpb24uYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgc3RhdGVIb29rLnF1ZXVlLFxuICAgICAgICAhMCxcbiAgICAgICAgITFcbiAgICAgICk7XG4gICAgICBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGUgPSBzdGF0ZUhvb2s7XG4gICAgICByZXR1cm4gWyExLCBzdGF0ZUhvb2tdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIGJvb2xlYW5PclRoZW5hYmxlID0gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcilbMF0sXG4gICAgICAgIHN0YXJ0ID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgYm9vbGVhbk9yVGhlbmFibGVcbiAgICAgICAgICA/IGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgOiB1c2VUaGVuYWJsZShib29sZWFuT3JUaGVuYWJsZSksXG4gICAgICAgIHN0YXJ0XG4gICAgICBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlclRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgYm9vbGVhbk9yVGhlbmFibGUgPSByZXJlbmRlclJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpWzBdLFxuICAgICAgICBzdGFydCA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgPyBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgIDogdXNlVGhlbmFibGUoYm9vbGVhbk9yVGhlbmFibGUpLFxuICAgICAgICBzdGFydFxuICAgICAgXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlSG9zdFRyYW5zaXRpb25TdGF0dXMoKSB7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHQoSG9zdFRyYW5zaXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRJZCgpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IHdvcmtJblByb2dyZXNzUm9vdC5pZGVudGlmaWVyUHJlZml4O1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHZhciB0cmVlSWQgPSB0cmVlQ29udGV4dE92ZXJmbG93O1xuICAgICAgICB2YXIgaWRXaXRoTGVhZGluZ0JpdCA9IHRyZWVDb250ZXh0SWQ7XG4gICAgICAgIHRyZWVJZCA9XG4gICAgICAgICAgKFxuICAgICAgICAgICAgaWRXaXRoTGVhZGluZ0JpdCAmIH4oMSA8PCAoMzIgLSBjbHozMihpZFdpdGhMZWFkaW5nQml0KSAtIDEpKVxuICAgICAgICAgICkudG9TdHJpbmcoMzIpICsgdHJlZUlkO1xuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gXCI6XCIgKyBpZGVudGlmaWVyUHJlZml4ICsgXCJSXCIgKyB0cmVlSWQ7XG4gICAgICAgIHRyZWVJZCA9IGxvY2FsSWRDb3VudGVyKys7XG4gICAgICAgIDAgPCB0cmVlSWQgJiYgKGlkZW50aWZpZXJQcmVmaXggKz0gXCJIXCIgKyB0cmVlSWQudG9TdHJpbmcoMzIpKTtcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCArPSBcIjpcIjtcbiAgICAgIH0gZWxzZVxuICAgICAgICAodHJlZUlkID0gZ2xvYmFsQ2xpZW50SWRDb3VudGVyKyspLFxuICAgICAgICAgIChpZGVudGlmaWVyUHJlZml4ID1cbiAgICAgICAgICAgIFwiOlwiICsgaWRlbnRpZmllclByZWZpeCArIFwiclwiICsgdHJlZUlkLnRvU3RyaW5nKDMyKSArIFwiOlwiKTtcbiAgICAgIHJldHVybiAoaG9vay5tZW1vaXplZFN0YXRlID0gaWRlbnRpZmllclByZWZpeCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50UmVmcmVzaCgpIHtcbiAgICAgIHJldHVybiAobW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlID0gcmVmcmVzaENhY2hlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDFcbiAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWZyZXNoQ2FjaGUoZmliZXIsIHNlZWRLZXkpIHtcbiAgICAgIGZvciAodmFyIHByb3ZpZGVyID0gZmliZXIucmV0dXJuOyBudWxsICE9PSBwcm92aWRlcjsgKSB7XG4gICAgICAgIHN3aXRjaCAocHJvdmlkZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKHByb3ZpZGVyKTtcbiAgICAgICAgICAgIGZpYmVyID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlVXBkYXRlKHByb3ZpZGVyLCBmaWJlciwgbGFuZSk7XG4gICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgcHJvdmlkZXIsIGxhbmUpLFxuICAgICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKHJvb3QsIHByb3ZpZGVyLCBsYW5lKSk7XG4gICAgICAgICAgICBwcm92aWRlciA9IGNyZWF0ZUNhY2hlKCk7XG4gICAgICAgICAgICBudWxsICE9PSBzZWVkS2V5ICYmXG4gICAgICAgICAgICAgIHZvaWQgMCAhPT0gc2VlZEtleSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaGUgc2VlZCBhcmd1bWVudCBpcyBub3QgZW5hYmxlZCBvdXRzaWRlIGV4cGVyaW1lbnRhbCBjaGFubmVscy5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZmliZXIucGF5bG9hZCA9IHsgY2FjaGU6IHByb3ZpZGVyIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlci5yZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoUmVkdWNlckFjdGlvbihcbiAgICAgIGZpYmVyLFxuICAgICAgcXVldWUsXG4gICAgICBhY3Rpb24sXG4gICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICApIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiU3RhdGUgdXBkYXRlcyBmcm9tIHRoZSB1c2VTdGF0ZSgpIGFuZCB1c2VSZWR1Y2VyKCkgSG9va3MgZG9uJ3Qgc3VwcG9ydCB0aGUgc2Vjb25kIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgcmVuZGVyaW5nLCBkZWNsYXJlIGl0IGluIHRoZSBjb21wb25lbnQgYm9keSB3aXRoIHVzZUVmZmVjdCgpLlwiXG4gICAgICAgICk7XG4gICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDAgPSByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcik7XG4gICAgICBhY3Rpb24gPSB7XG4gICAgICAgIGxhbmU6IEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCxcbiAgICAgICAgcmV2ZXJ0TGFuZTogMCxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGhhc0VhZ2VyU3RhdGU6ICExLFxuICAgICAgICBlYWdlclN0YXRlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcilcbiAgICAgICAgPyBlbnF1ZXVlUmVuZGVyUGhhc2VVcGRhdGUocXVldWUsIGFjdGlvbilcbiAgICAgICAgOiAoKGFjdGlvbiA9IGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICAgICAgICApKSxcbiAgICAgICAgICBudWxsICE9PSBhY3Rpb24gJiZcbiAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIoXG4gICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvblVwZGF0ZShcbiAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgICAgICAgICApKSk7XG4gICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoU2V0U3RhdGUoXG4gICAgICBmaWJlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgYWN0aW9uLFxuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxXG4gICAgKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDEgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlN0YXRlIHVwZGF0ZXMgZnJvbSB0aGUgdXNlU3RhdGUoKSBhbmQgdXNlUmVkdWNlcigpIEhvb2tzIGRvbid0IHN1cHBvcnQgdGhlIHNlY29uZCBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiB0aGUgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICApO1xuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxID0gcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpO1xuICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICBmaWJlcixcbiAgICAgICAgcXVldWUsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxXG4gICAgICApO1xuICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoZmliZXIsIHF1ZXVlLCBhY3Rpb24sIGxhbmUpIHtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGxhbmU6IGxhbmUsXG4gICAgICAgIHJldmVydExhbmU6IDAsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBoYXNFYWdlclN0YXRlOiAhMSxcbiAgICAgICAgZWFnZXJTdGF0ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmIChpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSkgZW5xdWV1ZVJlbmRlclBoYXNlVXBkYXRlKHF1ZXVlLCB1cGRhdGUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAwID09PSBmaWJlci5sYW5lcyAmJlxuICAgICAgICAgIChudWxsID09PSBhbHRlcm5hdGUgfHwgMCA9PT0gYWx0ZXJuYXRlLmxhbmVzKSAmJlxuICAgICAgICAgICgoYWx0ZXJuYXRlID0gcXVldWUubGFzdFJlbmRlcmVkUmVkdWNlciksIG51bGwgIT09IGFsdGVybmF0ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBxdWV1ZS5sYXN0UmVuZGVyZWRTdGF0ZSxcbiAgICAgICAgICAgICAgZWFnZXJTdGF0ZSA9IGFsdGVybmF0ZShjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgICAgICAgICB1cGRhdGUuaGFzRWFnZXJTdGF0ZSA9ICEwO1xuICAgICAgICAgICAgdXBkYXRlLmVhZ2VyU3RhdGUgPSBlYWdlclN0YXRlO1xuICAgICAgICAgICAgaWYgKG9iamVjdElzKGVhZ2VyU3RhdGUsIGN1cnJlbnRTdGF0ZSkpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCAwKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgICAgICAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWN0aW9uID0gZW5xdWV1ZUNvbmN1cnJlbnRIb29rVXBkYXRlKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgaWYgKG51bGwgIT09IGFjdGlvbilcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGFjdGlvbiwgZmliZXIsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9uVXBkYXRlKGFjdGlvbiwgcXVldWUsIGxhbmUpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaE9wdGltaXN0aWNTZXRTdGF0ZShcbiAgICAgIGZpYmVyLFxuICAgICAgdGhyb3dJZkR1cmluZ1JlbmRlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5UICYmXG4gICAgICAgIDAgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBbiBvcHRpbWlzdGljIHN0YXRlIHVwZGF0ZSBvY2N1cnJlZCBvdXRzaWRlIGEgdHJhbnNpdGlvbiBvciBhY3Rpb24uIFRvIGZpeCwgbW92ZSB0aGUgdXBkYXRlIHRvIGFuIGFjdGlvbiwgb3Igd3JhcCB3aXRoIHN0YXJ0VHJhbnNpdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgYWN0aW9uID0ge1xuICAgICAgICBsYW5lOiAyLFxuICAgICAgICByZXZlcnRMYW5lOiByZXF1ZXN0VHJhbnNpdGlvbkxhbmUoKSxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGhhc0VhZ2VyU3RhdGU6ICExLFxuICAgICAgICBlYWdlclN0YXRlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaWYgKGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpKSB7XG4gICAgICAgIGlmICh0aHJvd0lmRHVyaW5nUmVuZGVyKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBvcHRpbWlzdGljIHN0YXRlIHdoaWxlIHJlbmRlcmluZy5cIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgY2FsbCBzdGFydFRyYW5zaXRpb24gd2hpbGUgcmVuZGVyaW5nLlwiKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICAodGhyb3dJZkR1cmluZ1JlbmRlciA9IGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShcbiAgICAgICAgICBmaWJlcixcbiAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgMlxuICAgICAgICApKSxcbiAgICAgICAgICBudWxsICE9PSB0aHJvd0lmRHVyaW5nUmVuZGVyICYmXG4gICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIodGhyb3dJZkR1cmluZ1JlbmRlciwgZmliZXIsIDIpO1xuICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCAyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcikge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGZpYmVyID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxIHx8XG4gICAgICAgIChudWxsICE9PSBhbHRlcm5hdGUgJiYgYWx0ZXJuYXRlID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlclBoYXNlVXBkYXRlKHF1ZXVlLCB1cGRhdGUpIHtcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMDtcbiAgICAgIHZhciBwZW5kaW5nID0gcXVldWUucGVuZGluZztcbiAgICAgIG51bGwgPT09IHBlbmRpbmdcbiAgICAgICAgPyAodXBkYXRlLm5leHQgPSB1cGRhdGUpXG4gICAgICAgIDogKCh1cGRhdGUubmV4dCA9IHBlbmRpbmcubmV4dCksIChwZW5kaW5nLm5leHQgPSB1cGRhdGUpKTtcbiAgICAgIHF1ZXVlLnBlbmRpbmcgPSB1cGRhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGFuZ2xlVHJhbnNpdGlvblVwZGF0ZShyb290LCBxdWV1ZSwgbGFuZSkge1xuICAgICAgaWYgKDAgIT09IChsYW5lICYgNDE5NDE3NikpIHtcbiAgICAgICAgdmFyIHF1ZXVlTGFuZXMgPSBxdWV1ZS5sYW5lcztcbiAgICAgICAgcXVldWVMYW5lcyAmPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgICAgbGFuZSB8PSBxdWV1ZUxhbmVzO1xuICAgICAgICBxdWV1ZS5sYW5lcyA9IGxhbmU7XG4gICAgICAgIG1hcmtSb290RW50YW5nbGVkKHJvb3QsIGxhbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIGlmIChudWxsICE9PSBjYWxsYmFjayAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgICB2YXIga2V5ID0gU3RyaW5nKGNhbGxiYWNrKTtcbiAgICAgICAgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrLmhhcyhrZXkpIHx8XG4gICAgICAgICAgKGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5hZGQoa2V5KSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGN0b3IsXG4gICAgICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsXG4gICAgICBuZXh0UHJvcHNcbiAgICApIHtcbiAgICAgIHZhciBwcmV2U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLFxuICAgICAgICBwYXJ0aWFsU3RhdGUgPSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm9pZCAwID09PSBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgKChjdG9yID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGN0b3IpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuaGFzKGN0b3IpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZS5hZGQoY3RvciksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCk6IEEgdmFsaWQgc3RhdGUgb2JqZWN0IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuXCIsXG4gICAgICAgICAgICBjdG9yXG4gICAgICAgICAgKSkpO1xuICAgICAgcHJldlN0YXRlID1cbiAgICAgICAgbnVsbCA9PT0gcGFydGlhbFN0YXRlIHx8IHZvaWQgMCA9PT0gcGFydGlhbFN0YXRlXG4gICAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgICA6IGFzc2lnbih7fSwgcHJldlN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHByZXZTdGF0ZTtcbiAgICAgIDAgPT09IHdvcmtJblByb2dyZXNzLmxhbmVzICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBwcmV2U3RhdGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgY3RvcixcbiAgICAgIG9sZFByb3BzLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBvbGRTdGF0ZSxcbiAgICAgIG5ld1N0YXRlLFxuICAgICAgbmV4dENvbnRleHRcbiAgICApIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICAgICAgb2xkUHJvcHMgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgbmV4dENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbGRQcm9wcyA9IGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICBuZXh0Q29udGV4dFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2b2lkIDAgPT09IG9sZFByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgYm9vbGVhbiB2YWx1ZS4gTWFrZSBzdXJlIHRvIHJldHVybiB0cnVlIG9yIGZhbHNlLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGN0b3IpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gb2xkUHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Rvci5wcm90b3R5cGUgJiYgY3Rvci5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnRcbiAgICAgICAgPyAhc2hhbGxvd0VxdWFsKG9sZFByb3BzLCBuZXdQcm9wcykgfHwgIXNoYWxsb3dFcXVhbChvbGRTdGF0ZSwgbmV3U3RhdGUpXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIG5ld1Byb3BzLFxuICAgICAgbmV4dENvbnRleHRcbiAgICApIHtcbiAgICAgIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV4dENvbnRleHQpO1xuICAgICAgaW5zdGFuY2Uuc3RhdGUgIT09IG9sZFN0YXRlICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuaGFzKHdvcmtJblByb2dyZXNzKSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuYWRkKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApKSxcbiAgICAgICAgY2xhc3NDb21wb25lbnRVcGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2Uuc3RhdGUsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoQ29tcG9uZW50LCBiYXNlUHJvcHMpIHtcbiAgICAgIHZhciBuZXdQcm9wcyA9IGJhc2VQcm9wcztcbiAgICAgIGlmIChcInJlZlwiIGluIGJhc2VQcm9wcykge1xuICAgICAgICBuZXdQcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBiYXNlUHJvcHMpXG4gICAgICAgICAgXCJyZWZcIiAhPT0gcHJvcE5hbWUgJiYgKG5ld1Byb3BzW3Byb3BOYW1lXSA9IGJhc2VQcm9wc1twcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgaWYgKChDb21wb25lbnQgPSBDb21wb25lbnQuZGVmYXVsdFByb3BzKSkge1xuICAgICAgICBuZXdQcm9wcyA9PT0gYmFzZVByb3BzICYmIChuZXdQcm9wcyA9IGFzc2lnbih7fSwgbmV3UHJvcHMpKTtcbiAgICAgICAgZm9yICh2YXIgX3Byb3BOYW1lIGluIENvbXBvbmVudClcbiAgICAgICAgICB2b2lkIDAgPT09IG5ld1Byb3BzW19wcm9wTmFtZV0gJiZcbiAgICAgICAgICAgIChuZXdQcm9wc1tfcHJvcE5hbWVdID0gQ29tcG9uZW50W19wcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1Byb3BzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25VbmNhdWdodEVycm9yKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgIGVycm9yID0gY29tcG9uZW50TmFtZVxuICAgICAgICA/IFwiQW4gZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDxcIiArIGNvbXBvbmVudE5hbWUgKyBcIj4gY29tcG9uZW50LlwiXG4gICAgICAgIDogXCJBbiBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzLlwiO1xuICAgICAgdmFyIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2ssXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID1cbiAgICAgICAgICBudWxsICE9IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA/IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA6IFwiXCI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRTdGFjaztcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCIlc1xcblxcbiVzXFxuXCIsXG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgXCJDb25zaWRlciBhZGRpbmcgYW4gZXJyb3IgYm91bmRhcnkgdG8geW91ciB0cmVlIHRvIGN1c3RvbWl6ZSBlcnJvciBoYW5kbGluZyBiZWhhdmlvci5cXG5WaXNpdCBodHRwczovL3JlYWN0LmRldi9saW5rL2Vycm9yLWJvdW5kYXJpZXMgdG8gbGVhcm4gbW9yZSBhYm91dCBlcnJvciBib3VuZGFyaWVzLlwiXG4gICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25DYXVnaHRFcnJvcihlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZU1lc3NhZ2UgPSBjb21wb25lbnROYW1lXG4gICAgICAgICAgPyBcIlRoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiB0aGUgPFwiICsgY29tcG9uZW50TmFtZSArIFwiPiBjb21wb25lbnQuXCJcbiAgICAgICAgICA6IFwiVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIG9uZSBvZiB5b3VyIFJlYWN0IGNvbXBvbmVudHMuXCIsXG4gICAgICAgIHJlY3JlYXRlTWVzc2FnZSA9XG4gICAgICAgICAgXCJSZWFjdCB3aWxsIHRyeSB0byByZWNyZWF0ZSB0aGlzIGNvbXBvbmVudCB0cmVlIGZyb20gc2NyYXRjaCB1c2luZyB0aGUgZXJyb3IgYm91bmRhcnkgeW91IHByb3ZpZGVkLCBcIiArXG4gICAgICAgICAgKChlcnJvckJvdW5kYXJ5TmFtZSB8fCBcIkFub255bW91c1wiKSArIFwiLlwiKSxcbiAgICAgICAgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayxcbiAgICAgICAgY29tcG9uZW50U3RhY2sgPVxuICAgICAgICAgIG51bGwgIT0gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrID8gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrIDogXCJcIjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFN0YWNrO1xuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IuZW52aXJvbm1lbnROYW1lXG4gICAgICAgICAgPyBiaW5kVG9Db25zb2xlKFxuICAgICAgICAgICAgICBcImVycm9yXCIsXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBcIiVvXFxuXFxuJXNcXG5cXG4lc1xcblwiLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVNZXNzYWdlLFxuICAgICAgICAgICAgICAgIHJlY3JlYXRlTWVzc2FnZVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBlcnJvci5lbnZpcm9ubWVudE5hbWVcbiAgICAgICAgICAgICkoKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlb1xcblxcbiVzXFxuXFxuJXNcXG5cIixcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVNZXNzYWdlLFxuICAgICAgICAgICAgICByZWNyZWF0ZU1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25SZWNvdmVyYWJsZUVycm9yKGVycm9yKSB7XG4gICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvZ1VuY2F1Z2h0RXJyb3Iocm9vdCwgZXJyb3JJbmZvKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb21wb25lbnROYW1lID0gZXJyb3JJbmZvLnNvdXJjZVxuICAgICAgICAgID8gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihlcnJvckluZm8uc291cmNlKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgIGlmIChudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSlcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBvblVuY2F1Z2h0RXJyb3IgPSByb290Lm9uVW5jYXVnaHRFcnJvcjtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IoZXJyb3IsIHsgY29tcG9uZW50U3RhY2s6IGVycm9ySW5mby5zdGFjayB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSQ0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IGUkNDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvZ0NhdWdodEVycm9yKHJvb3QsIGJvdW5kYXJ5LCBlcnJvckluZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbXBvbmVudE5hbWUgPSBlcnJvckluZm8uc291cmNlXG4gICAgICAgICAgPyBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGVycm9ySW5mby5zb3VyY2UpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBlcnJvckJvdW5kYXJ5TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoYm91bmRhcnkpO1xuICAgICAgICB2YXIgb25DYXVnaHRFcnJvciA9IHJvb3Qub25DYXVnaHRFcnJvcjtcbiAgICAgICAgb25DYXVnaHRFcnJvcihlcnJvckluZm8udmFsdWUsIHtcbiAgICAgICAgICBjb21wb25lbnRTdGFjazogZXJyb3JJbmZvLnN0YWNrLFxuICAgICAgICAgIGVycm9yQm91bmRhcnk6IDEgPT09IGJvdW5kYXJ5LnRhZyA/IGJvdW5kYXJ5LnN0YXRlTm9kZSA6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlJDUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgZSQ1O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlUm9vdEVycm9yVXBkYXRlKHJvb3QsIGVycm9ySW5mbywgbGFuZSkge1xuICAgICAgbGFuZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgIGxhbmUudGFnID0gQ2FwdHVyZVVwZGF0ZTtcbiAgICAgIGxhbmUucGF5bG9hZCA9IHsgZWxlbWVudDogbnVsbCB9O1xuICAgICAgbGFuZS5jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZXJyb3JJbmZvLnNvdXJjZSwgbG9nVW5jYXVnaHRFcnJvciwgcm9vdCwgZXJyb3JJbmZvKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShsYW5lKSB7XG4gICAgICBsYW5lID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgbGFuZS50YWcgPSBDYXB0dXJlVXBkYXRlO1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKHVwZGF0ZSwgcm9vdCwgZmliZXIsIGVycm9ySW5mbykge1xuICAgICAgdmFyIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciA9IGZpYmVyLnR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcikge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgIHVwZGF0ZS5wYXlsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICB1cGRhdGUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZXJyb3JJbmZvLnNvdXJjZSxcbiAgICAgICAgICAgIGxvZ0NhdWdodEVycm9yLFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgZXJyb3JJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciBpbnN0ID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgbnVsbCAhPT0gaW5zdCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0LmNvbXBvbmVudERpZENhdGNoICYmXG4gICAgICAgICh1cGRhdGUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZXJyb3JJbmZvLnNvdXJjZSxcbiAgICAgICAgICAgIGxvZ0NhdWdodEVycm9yLFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgZXJyb3JJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgJiZcbiAgICAgICAgICAgIChudWxsID09PSBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZFxuICAgICAgICAgICAgICA/IChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG5ldyBTZXQoW3RoaXNdKSlcbiAgICAgICAgICAgICAgOiBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5hZGQodGhpcykpO1xuICAgICAgICAgIGNhbGxDb21wb25lbnREaWRDYXRjaEluREVWKHRoaXMsIGVycm9ySW5mbyk7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIHx8XG4gICAgICAgICAgICAoMCA9PT0gKGZpYmVyLmxhbmVzICYgMikgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIiVzOiBFcnJvciBib3VuZGFyaWVzIHNob3VsZCBpbXBsZW1lbnQgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKCkuIEluIHRoYXQgbWV0aG9kLCByZXR1cm4gYSBzdGF0ZSB1cGRhdGUgdG8gZGlzcGxheSBhbiBlcnJvciBtZXNzYWdlIG9yIGZhbGxiYWNrIFVJLlwiLFxuICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24oXG4gICAgICByb290LFxuICAgICAgcmV0dXJuRmliZXIsXG4gICAgICBzb3VyY2VGaWJlcixcbiAgICAgIHZhbHVlLFxuICAgICAgcm9vdFJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBzb3VyY2VGaWJlci5mbGFncyB8PSAzMjc2ODtcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgcm9vdFJlbmRlckxhbmVzKTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gdmFsdWUgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlLnRoZW5cbiAgICAgICkge1xuICAgICAgICByZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgc291cmNlRmliZXIsXG4gICAgICAgICAgICByb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGlzSHlkcmF0aW5nICYmIChkaWRTdXNwZW5kT3JFcnJvckRFViA9ICEwKTtcbiAgICAgICAgc291cmNlRmliZXIgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgICBpZiAobnVsbCAhPT0gc291cmNlRmliZXIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHNvdXJjZUZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBudWxsID09PSBzaGVsbEJvdW5kYXJ5XG4gICAgICAgICAgICAgICAgICA/IHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKVxuICAgICAgICAgICAgICAgICAgOiBudWxsID09PSBzb3VyY2VGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdEluUHJvZ3Jlc3MgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290U3VzcGVuZGVkKSxcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgJj0gLTI1NyksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIubGFuZXMgPSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIHZhbHVlID09PSBub29wU3VzcGVuc2V5Q29tbWl0VGhlbmFibGVcbiAgICAgICAgICAgICAgICAgID8gKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDE2Mzg0KVxuICAgICAgICAgICAgICAgICAgOiAoKHJldHVybkZpYmVyID0gc291cmNlRmliZXIudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgICAgICAgICBudWxsID09PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICAgID8gKHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlID0gbmV3IFNldChbdmFsdWVdKSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHJldHVybkZpYmVyLmFkZCh2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB2YWx1ZSwgcm9vdFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlXG4gICAgICAgICAgICAgICAgICA/IChzb3VyY2VGaWJlci5mbGFncyB8PSAxNjM4NClcbiAgICAgICAgICAgICAgICAgIDogKChyZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICA/ICgocmV0dXJuRmliZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5UXVldWU6IG5ldyBTZXQoW3ZhbHVlXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlID0gcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChzb3VyY2VGaWJlciA9IHJldHVybkZpYmVyLnJldHJ5UXVldWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gc291cmNlRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAocmV0dXJuRmliZXIucmV0cnlRdWV1ZSA9IG5ldyBTZXQoW3ZhbHVlXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogc291cmNlRmliZXIuYWRkKHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB2YWx1ZSwgcm9vdFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlVuZXhwZWN0ZWQgU3VzcGVuc2UgaGFuZGxlciB0YWcgKFwiICtcbiAgICAgICAgICAgICAgc291cmNlRmliZXIudGFnICtcbiAgICAgICAgICAgICAgXCIpLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgdmFsdWUsIHJvb3RSZW5kZXJMYW5lcyk7XG4gICAgICAgIHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKTtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgaWYgKGlzSHlkcmF0aW5nKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChkaWRTdXNwZW5kT3JFcnJvckRFViA9ICEwKSxcbiAgICAgICAgICAocmV0dXJuRmliZXIgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50KSxcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgPyAoMCA9PT0gKHJldHVybkZpYmVyLmZsYWdzICYgNjU1MzYpICYmIChyZXR1cm5GaWJlci5mbGFncyB8PSAyNTYpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIubGFuZXMgPSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICB2YWx1ZSAhPT0gSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIGh5ZHJhdGluZyBidXQgUmVhY3Qgd2FzIGFibGUgdG8gcmVjb3ZlciBieSBpbnN0ZWFkIGNsaWVudCByZW5kZXJpbmcgZnJvbSB0aGUgbmVhcmVzdCBTdXNwZW5zZSBib3VuZGFyeS5cIixcbiAgICAgICAgICAgICAgICAgICAgICB7IGNhdXNlOiB2YWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogKHZhbHVlICE9PSBIeWRyYXRpb25NaXNtYXRjaEV4Y2VwdGlvbiAmJlxuICAgICAgICAgICAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJUaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgaHlkcmF0aW5nIGJ1dCBSZWFjdCB3YXMgYWJsZSB0byByZWNvdmVyIGJ5IGluc3RlYWQgY2xpZW50IHJlbmRlcmluZyB0aGUgZW50aXJlIHJvb3QuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjYXVzZTogdmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChyb290ID0gcm9vdC5jdXJyZW50LmFsdGVybmF0ZSksXG4gICAgICAgICAgICAgIChyb290LmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgKHJvb3RSZW5kZXJMYW5lcyAmPSAtcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHJvb3QubGFuZXMgfD0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHZhbHVlID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodmFsdWUsIHNvdXJjZUZpYmVyKSksXG4gICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgPSBjcmVhdGVSb290RXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgcm9vdC5zdGF0ZU5vZGUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgcm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUocm9vdCwgcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyAhPT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSAmJlxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEVycm9yZWQpKSxcbiAgICAgICAgICAhMVxuICAgICAgICApO1xuICAgICAgdmFyIGVycm9yID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgIEVycm9yKFxuICAgICAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIGR1cmluZyBjb25jdXJyZW50IHJlbmRlcmluZyBidXQgUmVhY3Qgd2FzIGFibGUgdG8gcmVjb3ZlciBieSBpbnN0ZWFkIHN5bmNocm9ub3VzbHkgcmVuZGVyaW5nIHRoZSBlbnRpcmUgcm9vdC5cIixcbiAgICAgICAgICB7IGNhdXNlOiB2YWx1ZSB9XG4gICAgICAgICksXG4gICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICApO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9yc1xuICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzID0gW2Vycm9yXSlcbiAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyAhPT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RFcnJvcmVkKTtcbiAgICAgIGlmIChudWxsID09PSByZXR1cm5GaWJlcikgcmV0dXJuICEwO1xuICAgICAgdmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih2YWx1ZSwgc291cmNlRmliZXIpO1xuICAgICAgc291cmNlRmliZXIgPSByZXR1cm5GaWJlcjtcbiAgICAgIGRvIHtcbiAgICAgICAgc3dpdGNoIChzb3VyY2VGaWJlci50YWcpIHtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAocm9vdCA9IHJvb3RSZW5kZXJMYW5lcyAmIC1yb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAoc291cmNlRmliZXIubGFuZXMgfD0gcm9vdCksXG4gICAgICAgICAgICAgIChyb290ID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyLnN0YXRlTm9kZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUoc291cmNlRmliZXIsIHJvb3QpLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci50eXBlKSxcbiAgICAgICAgICAgICAgKGVycm9yID0gc291cmNlRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgMCA9PT0gKHNvdXJjZUZpYmVyLmZsYWdzICYgMTI4KSAmJlxuICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5GaWJlci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgIChudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlcnJvci5jb21wb25lbnREaWRDYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAobnVsbCA9PT0gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAhbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuaGFzKGVycm9yKSkpKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgJj0gLXJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmxhbmVzIHw9IHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgKHJvb3RSZW5kZXJMYW5lcyA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUocm9vdFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgICByb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgc291cmNlRmliZXIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHNvdXJjZUZpYmVyLCByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlRmliZXIgPSBzb3VyY2VGaWJlci5yZXR1cm47XG4gICAgICB9IHdoaWxlIChudWxsICE9PSBzb3VyY2VGaWJlcik7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID1cbiAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgID8gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dENoaWxkcmVuLCByZW5kZXJMYW5lcylcbiAgICAgICAgICA6IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgY3VycmVudC5jaGlsZCxcbiAgICAgICAgICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRm9yd2FyZFJlZihcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBDb21wb25lbnQgPSBDb21wb25lbnQucmVuZGVyO1xuICAgICAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgIGlmIChcInJlZlwiIGluIG5leHRQcm9wcykge1xuICAgICAgICB2YXIgcHJvcHNXaXRob3V0UmVmID0ge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgXCJyZWZcIiAhPT0ga2V5ICYmIChwcm9wc1dpdGhvdXRSZWZba2V5XSA9IG5leHRQcm9wc1trZXldKTtcbiAgICAgIH0gZWxzZSBwcm9wc1dpdGhvdXRSZWYgPSBuZXh0UHJvcHM7XG4gICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBuZXh0UHJvcHMgPSByZW5kZXJXaXRoSG9va3MoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIHByb3BzV2l0aG91dFJlZixcbiAgICAgICAgcmVmLFxuICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgKTtcbiAgICAgIGtleSA9IGNoZWNrRGlkUmVuZGVySWRIb29rKCk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgIWRpZFJlY2VpdmVVcGRhdGUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYmFpbG91dEhvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICk7XG4gICAgICBpc0h5ZHJhdGluZyAmJiBrZXkgJiYgcHVzaE1hdGVyaWFsaXplZFRyZWVJZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVNZW1vQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gQ29tcG9uZW50LnR5cGU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgIXNob3VsZENvbnN0cnVjdCh0eXBlKSAmJlxuICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZS5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgICBudWxsID09PSBDb21wb25lbnQuY29tcGFyZVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChDb21wb25lbnQgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcodHlwZSkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRhZyA9IDE1KSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gQ29tcG9uZW50KSxcbiAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgdHlwZSksXG4gICAgICAgICAgICB1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50KFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgICAgICBDb21wb25lbnQudHlwZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlLFxuICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQucmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICByZXR1cm4gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudCk7XG4gICAgICB9XG4gICAgICB0eXBlID0gY3VycmVudC5jaGlsZDtcbiAgICAgIGlmICghY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpKSB7XG4gICAgICAgIHZhciBwcmV2UHJvcHMgPSB0eXBlLm1lbW9pemVkUHJvcHM7XG4gICAgICAgIENvbXBvbmVudCA9IENvbXBvbmVudC5jb21wYXJlO1xuICAgICAgICBDb21wb25lbnQgPSBudWxsICE9PSBDb21wb25lbnQgPyBDb21wb25lbnQgOiBzaGFsbG93RXF1YWw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBDb21wb25lbnQocHJldlByb3BzLCBuZXh0UHJvcHMpICYmXG4gICAgICAgICAgY3VycmVudC5yZWYgPT09IHdvcmtJblByb2dyZXNzLnJlZlxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgY3VycmVudCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKHR5cGUsIG5leHRQcm9wcyk7XG4gICAgICBjdXJyZW50LnJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgIGN1cnJlbnQucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICByZXR1cm4gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNpbXBsZU1lbW9Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNoYWxsb3dFcXVhbChwcmV2UHJvcHMsIG5leHRQcm9wcykgJiZcbiAgICAgICAgICBjdXJyZW50LnJlZiA9PT0gd29ya0luUHJvZ3Jlc3MucmVmICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9PT0gY3VycmVudC50eXBlXG4gICAgICAgIClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoKGRpZFJlY2VpdmVVcGRhdGUgPSAhMSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gbmV4dFByb3BzID0gcHJldlByb3BzKSxcbiAgICAgICAgICAgIGNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICAwICE9PSAoY3VycmVudC5mbGFncyAmIDEzMTA3MikgJiYgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gY3VycmVudC5sYW5lcyksXG4gICAgICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT2Zmc2NyZWVuQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgbmV4dENoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuLFxuICAgICAgICBuZXh0SXNEZXRhY2hlZCA9XG4gICAgICAgICAgMCAhPT1cbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLl9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkKSxcbiAgICAgICAgcHJldlN0YXRlID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSA6IG51bGw7XG4gICAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGlmIChcImhpZGRlblwiID09PSBuZXh0UHJvcHMubW9kZSB8fCBuZXh0SXNEZXRhY2hlZCkge1xuICAgICAgICBpZiAoMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KSkge1xuICAgICAgICAgIG5leHRQcm9wcyA9XG4gICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICAgICAgPyBwcmV2U3RhdGUuYmFzZUxhbmVzIHwgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgOiByZW5kZXJMYW5lcztcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgICAgbmV4dENoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgICAgICAgZm9yIChuZXh0SXNEZXRhY2hlZCA9IDA7IG51bGwgIT09IG5leHRDaGlsZHJlbjsgKVxuICAgICAgICAgICAgICAobmV4dElzRGV0YWNoZWQgPVxuICAgICAgICAgICAgICAgIG5leHRJc0RldGFjaGVkIHwgbmV4dENoaWxkcmVuLmxhbmVzIHwgbmV4dENoaWxkcmVuLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgICAgIChuZXh0Q2hpbGRyZW4gPSBuZXh0Q2hpbGRyZW4uc2libGluZyk7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gbmV4dElzRGV0YWNoZWQgJiB+bmV4dFByb3BzO1xuICAgICAgICAgIH0gZWxzZSAod29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IDApLCAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsKTtcbiAgICAgICAgICByZXR1cm4gZGVmZXJIaWRkZW5PZmZzY3JlZW5Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDAgIT09IChyZW5kZXJMYW5lcyAmIDUzNjg3MDkxMikpXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7IGJhc2VMYW5lczogMCwgY2FjaGVQb29sOiBudWxsIH0pLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBwdXNoVHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGUgPyBwcmV2U3RhdGUuY2FjaGVQb29sIDogbnVsbFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgICAgID8gcHVzaEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHByZXZTdGF0ZSlcbiAgICAgICAgICAgICAgOiByZXVzZUhpZGRlbkNvbnRleHRPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHB1c2hPZmZzY3JlZW5TdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSA1MzY4NzA5MTIpLFxuICAgICAgICAgICAgZGVmZXJIaWRkZW5PZmZzY3JlZW5Db21wb25lbnQoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICAgICAgICA/IHByZXZTdGF0ZS5iYXNlTGFuZXMgfCByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgIDogcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICA/IChwdXNoVHJhbnNpdGlvbih3b3JrSW5Qcm9ncmVzcywgcHJldlN0YXRlLmNhY2hlUG9vbCksXG4gICAgICAgICAgICBwdXNoSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcHJldlN0YXRlKSxcbiAgICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGwpKVxuICAgICAgICAgIDogKG51bGwgIT09IGN1cnJlbnQgJiYgcHVzaFRyYW5zaXRpb24od29ya0luUHJvZ3Jlc3MsIG51bGwpLFxuICAgICAgICAgICAgcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpKTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmZXJIaWRkZW5PZmZzY3JlZW5Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0QmFzZUxhbmVzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBwZWVrQ2FjaGVGcm9tUG9vbCgpO1xuICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID1cbiAgICAgICAgbnVsbCA9PT0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0XG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHBhcmVudDogQ2FjaGVDb250ZXh0Ll9jdXJyZW50VmFsdWUsXG4gICAgICAgICAgICAgIHBvb2w6IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFxuICAgICAgICAgICAgfTtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgIGJhc2VMYW5lczogbmV4dEJhc2VMYW5lcyxcbiAgICAgICAgY2FjaGVQb29sOiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRcbiAgICAgIH07XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmIHB1c2hUcmFuc2l0aW9uKHdvcmtJblByb2dyZXNzLCBudWxsKTtcbiAgICAgIHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2sod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcHVzaE9mZnNjcmVlblN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgIHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcywgITApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHZhciByZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICBpZiAobnVsbCA9PT0gcmVmKVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5yZWYgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA5NzY2NCk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlZiAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2YgcmVmKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCByZWYgdG8gYmUgYSBmdW5jdGlvbiwgYW4gb2JqZWN0IHJldHVybmVkIGJ5IFJlYWN0LmNyZWF0ZVJlZigpLCBvciB1bmRlZmluZWQvbnVsbC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IGN1cnJlbnQucmVmICE9PSByZWYpXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA5NzY2NDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIjtcbiAgICAgICAgZGlkV2FybkFib3V0QmFkQ2xhc3NbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBoYXZlIGEgcmVuZGVyIG1ldGhvZCwgYnV0IGRvZXNuJ3QgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudC4gVGhpcyBpcyBsaWtlbHkgdG8gY2F1c2UgZXJyb3JzLiBDaGFuZ2UgJXMgdG8gZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICh2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICBDb21wb25lbnQuY29udGV4dFR5cGVzICYmXG4gICAgICAgICAgKChjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dENvbnRleHRUeXBlc1tjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXNbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzIHVzZXMgdGhlIGxlZ2FjeSBjb250ZXh0VHlwZXMgQVBJIHdoaWNoIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiBVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHdpdGggUmVhY3QudXNlQ29udGV4dCgpIGluc3RlYWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0KVwiLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICApKSkpO1xuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgQ29tcG9uZW50ID0gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICk7XG4gICAgICBuZXh0UHJvcHMgPSBjaGVja0RpZFJlbmRlcklkSG9vaygpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmICFkaWRSZWNlaXZlVXBkYXRlKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICApO1xuICAgICAgaXNIeWRyYXRpbmcgJiYgbmV4dFByb3BzICYmIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGF5RnVuY3Rpb25Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBzZWNvbmRBcmcsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBjdXJyZW50LnR5cGUgIT09IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgICBuZXh0UHJvcHMgPSByZW5kZXJXaXRoSG9va3NBZ2FpbihcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICBzZWNvbmRBcmdcbiAgICAgICk7XG4gICAgICBmaW5pc2hSZW5kZXJpbmdIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBDb21wb25lbnQgPSBjaGVja0RpZFJlbmRlcklkSG9vaygpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmICFkaWRSZWNlaXZlVXBkYXRlKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICApO1xuICAgICAgaXNIeWRyYXRpbmcgJiYgQ29tcG9uZW50ICYmIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NDb21wb25lbnQoXG4gICAgICBjdXJyZW50JGpzY29tcCQwLFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgc3dpdGNoIChzaG91bGRFcnJvckltcGwod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgIGNhc2UgITE6XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSxcbiAgICAgICAgICAgIHN0YXRlID0gbmV3IHdvcmtJblByb2dyZXNzLnR5cGUoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMsXG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5jb250ZXh0XG4gICAgICAgICAgICApLnN0YXRlO1xuICAgICAgICAgIF9pbnN0YW5jZS51cGRhdGVyLmVucXVldWVTZXRTdGF0ZShfaW5zdGFuY2UsIHN0YXRlLCBudWxsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAhMDpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjg7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjU1MzY7XG4gICAgICAgICAgX2luc3RhbmNlID0gRXJyb3IoXCJTaW11bGF0ZWQgZXJyb3IgY29taW5nIGZyb20gRGV2VG9vbHNcIik7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZW5kZXJMYW5lcyAmIC1yZW5kZXJMYW5lcztcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyB8PSBsYW5lO1xuICAgICAgICAgIHN0YXRlID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgICAgIGlmIChudWxsID09PSBzdGF0ZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIGEgd29yay1pbi1wcm9ncmVzcyByb290LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsYW5lID0gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShsYW5lKTtcbiAgICAgICAgICBpbml0aWFsaXplQ2xhc3NFcnJvclVwZGF0ZShcbiAgICAgICAgICAgIGxhbmUsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoX2luc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICApO1xuICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgbGFuZSk7XG4gICAgICB9XG4gICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKSB7XG4gICAgICAgIHN0YXRlID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBfaW5zdGFuY2UgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIFwiY29udGV4dFR5cGVcIiBpbiBDb21wb25lbnQgJiZcbiAgICAgICAgICBudWxsICE9PSBfaW5zdGFuY2UgJiZcbiAgICAgICAgICAodm9pZCAwID09PSBfaW5zdGFuY2UgfHwgX2luc3RhbmNlLiQkdHlwZW9mICE9PSBSRUFDVF9DT05URVhUX1RZUEUpICYmXG4gICAgICAgICAgIWRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZS5oYXMoQ29tcG9uZW50KSAmJlxuICAgICAgICAgIChkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgKGxhbmUgPVxuICAgICAgICAgICAgdm9pZCAwID09PSBfaW5zdGFuY2VcbiAgICAgICAgICAgICAgPyBcIiBIb3dldmVyLCBpdCBpcyBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGNhbiBiZSBjYXVzZWQgYnkgYSB0eXBvIG9yIGJ5IG1peGluZyB1cCBuYW1lZCBhbmQgZGVmYXVsdCBpbXBvcnRzLiBUaGlzIGNhbiBhbHNvIGhhcHBlbiBkdWUgdG8gYSBjaXJjdWxhciBkZXBlbmRlbmN5LCBzbyB0cnkgbW92aW5nIHRoZSBjcmVhdGVDb250ZXh0KCkgY2FsbCB0byBhIHNlcGFyYXRlIGZpbGUuXCJcbiAgICAgICAgICAgICAgOiBcIm9iamVjdFwiICE9PSB0eXBlb2YgX2luc3RhbmNlXG4gICAgICAgICAgICAgICAgPyBcIiBIb3dldmVyLCBpdCBpcyBzZXQgdG8gYSBcIiArIHR5cGVvZiBfaW5zdGFuY2UgKyBcIi5cIlxuICAgICAgICAgICAgICAgIDogX2luc3RhbmNlLiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFXG4gICAgICAgICAgICAgICAgICA/IFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgdGhlIENvbnRleHQuQ29uc3VtZXIgaW5zdGVhZD9cIlxuICAgICAgICAgICAgICAgICAgOiBcIiBIb3dldmVyLCBpdCBpcyBzZXQgdG8gYW4gb2JqZWN0IHdpdGgga2V5cyB7XCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfaW5zdGFuY2UpLmpvaW4oXCIsIFwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwifS5cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgZGVmaW5lcyBhbiBpbnZhbGlkIGNvbnRleHRUeXBlLiBjb250ZXh0VHlwZSBzaG91bGQgcG9pbnQgdG8gdGhlIENvbnRleHQgb2JqZWN0IHJldHVybmVkIGJ5IFJlYWN0LmNyZWF0ZUNvbnRleHQoKS4lc1wiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIixcbiAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICApKTtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIF9pbnN0YW5jZSAmJlxuICAgICAgICAgIG51bGwgIT09IF9pbnN0YW5jZSAmJlxuICAgICAgICAgIChzdGF0ZSA9IHJlYWRDb250ZXh0KF9pbnN0YW5jZSkpO1xuICAgICAgICBfaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KG5leHRQcm9wcywgc3RhdGUpO1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IG5ldyBDb21wb25lbnQobmV4dFByb3BzLCBzdGF0ZSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICBudWxsICE9PSBfaW5zdGFuY2Uuc3RhdGUgJiYgdm9pZCAwICE9PSBfaW5zdGFuY2Uuc3RhdGVcbiAgICAgICAgICAgID8gX2luc3RhbmNlLnN0YXRlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIF9pbnN0YW5jZS51cGRhdGVyID0gY2xhc3NDb21wb25lbnRVcGRhdGVyO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBfaW5zdGFuY2U7XG4gICAgICAgIF9pbnN0YW5jZS5fcmVhY3RJbnRlcm5hbHMgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgX2luc3RhbmNlLl9yZWFjdEludGVybmFsSW5zdGFuY2UgPSBmYWtlSW50ZXJuYWxJbnN0YW5jZTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJlxuICAgICAgICAgIG51bGwgPT09IHN0YXRlICYmXG4gICAgICAgICAgKChzdGF0ZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5oYXMoc3RhdGUpIHx8XG4gICAgICAgICAgICAoZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmFkZChzdGF0ZSksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImAlc2AgdXNlcyBgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzYCBidXQgaXRzIGluaXRpYWwgc3RhdGUgaXMgJXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkLiBJbnN0ZWFkLCBkZWZpbmUgdGhlIGluaXRpYWwgc3RhdGUgYnkgYXNzaWduaW5nIGFuIG9iamVjdCB0byBgdGhpcy5zdGF0ZWAgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIGAlc2AuIFRoaXMgZW5zdXJlcyB0aGF0IGBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNgIGFyZ3VtZW50cyBoYXZlIGEgY29uc2lzdGVudCBzaGFwZS5cIixcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIG51bGwgPT09IF9pbnN0YW5jZS5zdGF0ZSA/IFwibnVsbFwiIDogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSAobGFuZSA9IHN0YXRlID0gbnVsbCk7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICEwICE9PSBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICAgID8gKHN0YXRlID0gXCJjb21wb25lbnRXaWxsTW91bnRcIilcbiAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgKHN0YXRlID0gXCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50XCIpO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgITAgIT09XG4gICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgICA/IChsYW5lID0gXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgICAgIChsYW5lID0gXCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICEwICE9PSBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgICA/IChmb3VuZFdpbGxVcGRhdGVOYW1lID0gXCJjb21wb25lbnRXaWxsVXBkYXRlXCIpXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAoZm91bmRXaWxsVXBkYXRlTmFtZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgICAgICAgaWYgKG51bGwgIT09IHN0YXRlIHx8IG51bGwgIT09IGxhbmUgfHwgbnVsbCAhPT0gZm91bmRXaWxsVXBkYXRlTmFtZSkge1xuICAgICAgICAgICAgX2luc3RhbmNlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgICAgIHZhciBuZXdBcGlOYW1lID1cbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuICAgICAgICAgICAgICAgID8gXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKVwiXG4gICAgICAgICAgICAgICAgOiBcImdldFNuYXBzaG90QmVmb3JlVXBkYXRlKClcIjtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuaGFzKF9pbnN0YW5jZSkgfHxcbiAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuYWRkKF9pbnN0YW5jZSksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbnNhZmUgbGVnYWN5IGxpZmVjeWNsZXMgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBjb21wb25lbnRzIHVzaW5nIG5ldyBjb21wb25lbnQgQVBJcy5cXG5cXG4lcyB1c2VzICVzIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6JXMlcyVzXFxuXFxuVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXNcIixcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgbmV3QXBpTmFtZSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBzdGF0ZSA/IFwiXFxuICBcIiArIHN0YXRlIDogXCJcIixcbiAgICAgICAgICAgICAgICBudWxsICE9PSBsYW5lID8gXCJcXG4gIFwiICsgbGFuZSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gZm91bmRXaWxsVXBkYXRlTmFtZSA/IFwiXFxuICBcIiArIGZvdW5kV2lsbFVwZGF0ZU5hbWUgOiBcIlwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIHN0YXRlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgX2luc3RhbmNlLnJlbmRlciB8fFxuICAgICAgICAgIChDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXJcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIk5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgJXMgaW5zdGFuY2U6IGRpZCB5b3UgYWNjaWRlbnRhbGx5IHJldHVybiBhbiBvYmplY3QgZnJvbSB0aGUgY29uc3RydWN0b3I/XCIsXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSAlcyBpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAuXCIsXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICFfaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlIHx8XG4gICAgICAgICAgX2luc3RhbmNlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCB8fFxuICAgICAgICAgIF9pbnN0YW5jZS5zdGF0ZSB8fFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImdldEluaXRpYWxTdGF0ZSB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiBUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuIERpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkP1wiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzICYmXG4gICAgICAgICAgIV9pbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJnZXREZWZhdWx0UHJvcHMgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGRlZmF1bHRQcm9wcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UuY29udGV4dFR5cGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJjb250ZXh0VHlwZSB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgJiZcbiAgICAgICAgICAhZGlkV2FybkFib3V0Q2hpbGRDb250ZXh0VHlwZXMuaGFzKENvbXBvbmVudCkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0Q2hpbGRDb250ZXh0VHlwZXMuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgdXNlcyB0aGUgbGVnYWN5IGNoaWxkQ29udGV4dFR5cGVzIEFQSSB3aGljaCB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gVXNlIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSBpbnN0ZWFkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9sZWdhY3ktY29udGV4dClcIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKSk7XG4gICAgICAgIENvbXBvbmVudC5jb250ZXh0VHlwZXMgJiZcbiAgICAgICAgICAhZGlkV2FybkFib3V0Q29udGV4dFR5cGVzJDEuaGFzKENvbXBvbmVudCkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0Q29udGV4dFR5cGVzJDEuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgdXNlcyB0aGUgbGVnYWN5IGNvbnRleHRUeXBlcyBBUEkgd2hpY2ggd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIFVzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgd2l0aCBzdGF0aWMgY29udGV4dFR5cGUgaW5zdGVhZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHQpXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50U2hvdWxkVXBkYXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBjb21wb25lbnRTaG91bGRVcGRhdGUoKS4gRGlkIHlvdSBtZWFuIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpPyBUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIENvbXBvbmVudC5wcm90b3R5cGUgJiZcbiAgICAgICAgICBDb21wb25lbnQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ICYmXG4gICAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpLiBzaG91bGRDb21wb25lbnRVcGRhdGUgc2hvdWxkIG5vdCBiZSB1c2VkIHdoZW4gZXh0ZW5kaW5nIFJlYWN0LlB1cmVDb21wb25lbnQuIFBsZWFzZSBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSBpcyB1c2VkLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJBIHB1cmUgY29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVW5tb3VudCAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFVubW91bnQoKT9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzKCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuIElmIHlvdSBtZWFudCB0byB1cGRhdGUgdGhlIHN0YXRlIGluIHJlc3BvbnNlIHRvIGNoYW5naW5nIHByb3BzLCB1c2UgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpLiBJZiB5b3UgbWVhbnQgdG8gZmV0Y2ggZGF0YSBvciBydW4gc2lkZS1lZmZlY3RzIG9yIG11dGF0aW9ucyBhZnRlciBSZWFjdCBoYXMgdXBkYXRlZCB0aGUgVUksIHVzZSBjb21wb25lbnREaWRVcGRhdGUoKS5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgbGFuZSA9IF9pbnN0YW5jZS5wcm9wcyAhPT0gbmV4dFByb3BzO1xuICAgICAgICB2b2lkIDAgIT09IF9pbnN0YW5jZS5wcm9wcyAmJlxuICAgICAgICAgIGxhbmUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJXaGVuIGNhbGxpbmcgc3VwZXIoKSBpbiBgJXNgLCBtYWtlIHN1cmUgdG8gcGFzcyB1cCB0aGUgc2FtZSBwcm9wcyB0aGF0IHlvdXIgY29tcG9uZW50J3MgY29uc3RydWN0b3Igd2FzIHBhc3NlZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlNldHRpbmcgZGVmYXVsdFByb3BzIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVmaW5lIGRlZmF1bHRQcm9wcyBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBvbiAlcy5cIixcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlIHx8XG4gICAgICAgICAgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmhhcyhDb21wb25lbnQpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5hZGQoQ29tcG9uZW50KSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBzaG91bGQgYmUgdXNlZCB3aXRoIGNvbXBvbmVudERpZFVwZGF0ZSgpLiBUaGlzIGNvbXBvbmVudCBkZWZpbmVzIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgb25seS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpXG4gICAgICAgICAgKSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCkgaXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKCkgaXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIGlzIGRlZmluZWQgYXMgYSBzdGF0aWMgbWV0aG9kIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICAobGFuZSA9IF9pbnN0YW5jZS5zdGF0ZSkgJiZcbiAgICAgICAgICAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIGxhbmUgfHwgaXNBcnJheUltcGwobGFuZSkpICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIiVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbFwiLCBzdGF0ZSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgJiZcbiAgICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byB1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgX2luc3RhbmNlLnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBfaW5zdGFuY2UucmVmcyA9IHt9O1xuICAgICAgICBpbml0aWFsaXplVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBzdGF0ZSA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgX2luc3RhbmNlLmNvbnRleHQgPVxuICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBzdGF0ZSAmJiBudWxsICE9PSBzdGF0ZVxuICAgICAgICAgICAgPyByZWFkQ29udGV4dChzdGF0ZSlcbiAgICAgICAgICAgIDogZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPT09IG5leHRQcm9wcyAmJlxuICAgICAgICAgICgoc3RhdGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXREaXJlY3RseUFzc2lnbmluZ1Byb3BzVG9TdGF0ZS5oYXMoc3RhdGUpIHx8XG4gICAgICAgICAgICAoZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUuYWRkKHN0YXRlKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJXM6IEl0IGlzIG5vdCByZWNvbW1lbmRlZCB0byBhc3NpZ24gcHJvcHMgZGlyZWN0bHkgdG8gc3RhdGUgYmVjYXVzZSB1cGRhdGVzIHRvIHByb3BzIHdvbid0IGJlIHJlZmxlY3RlZCBpbiBzdGF0ZS4gSW4gbW9zdCBjYXNlcywgaXQgaXMgYmV0dGVyIHRvIHVzZSBwcm9wcyBkaXJlY3RseS5cIixcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyhcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgX2luc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgX2luc3RhbmNlXG4gICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIHN0YXRlID0gQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc3RhdGUgJiZcbiAgICAgICAgICAoYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoX2luc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSB8fFxuICAgICAgICAgICgoc3RhdGUgPSBfaW5zdGFuY2Uuc3RhdGUpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSxcbiAgICAgICAgICBzdGF0ZSAhPT0gX2luc3RhbmNlLnN0YXRlICYmXG4gICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlcy5jb21wb25lbnRXaWxsTW91bnQoKTogQXNzaWduaW5nIGRpcmVjdGx5IHRvIHRoaXMuc3RhdGUgaXMgZGVwcmVjYXRlZCAoZXhjZXB0IGluc2lkZSBhIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gVXNlIHNldFN0YXRlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjbGFzc0NvbXBvbmVudFVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShcbiAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICBfaW5zdGFuY2Uuc3RhdGUsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCBfaW5zdGFuY2UsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCksXG4gICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQxOTQzMDgpO1xuICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KTtcbiAgICAgICAgX2luc3RhbmNlID0gITA7XG4gICAgICB9IGVsc2UgaWYgKG51bGwgPT09IGN1cnJlbnQkanNjb21wJDApIHtcbiAgICAgICAgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICB2YXIgdW5yZXNvbHZlZE9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgbGFuZSA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKENvbXBvbmVudCwgdW5yZXNvbHZlZE9sZFByb3BzKTtcbiAgICAgICAgX2luc3RhbmNlLnByb3BzID0gbGFuZTtcbiAgICAgICAgdmFyIG9sZENvbnRleHQgPSBfaW5zdGFuY2UuY29udGV4dDtcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgc3RhdGUgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBmb3VuZFdpbGxVcGRhdGVOYW1lICYmXG4gICAgICAgICAgbnVsbCAhPT0gZm91bmRXaWxsVXBkYXRlTmFtZSAmJlxuICAgICAgICAgIChzdGF0ZSA9IHJlYWRDb250ZXh0KGZvdW5kV2lsbFVwZGF0ZU5hbWUpKTtcbiAgICAgICAgbmV3QXBpTmFtZSA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPVxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0FwaU5hbWUgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGU7XG4gICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyAhPT0gdW5yZXNvbHZlZE9sZFByb3BzO1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lIHx8XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHx8XG4gICAgICAgICAgKCh1bnJlc29sdmVkT2xkUHJvcHMgfHwgb2xkQ29udGV4dCAhPT0gc3RhdGUpICYmXG4gICAgICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgICAgIHZhciBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgX2luc3RhbmNlLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKTtcbiAgICAgICAgb2xkQ29udGV4dCA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyB8fCBvbGRTdGF0ZSAhPT0gb2xkQ29udGV4dCB8fCBoYXNGb3JjZVVwZGF0ZVxuICAgICAgICAgID8gKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0FwaU5hbWUgJiZcbiAgICAgICAgICAgICAgKGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBuZXdBcGlOYW1lLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAob2xkQ29udGV4dCA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKSxcbiAgICAgICAgICAgIChsYW5lID1cbiAgICAgICAgICAgICAgaGFzRm9yY2VVcGRhdGUgfHxcbiAgICAgICAgICAgICAgY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGxhbmUsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgIG9sZFN0YXRlLFxuICAgICAgICAgICAgICAgIG9sZENvbnRleHQsXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgPyAoZm91bmRXaWxsVXBkYXRlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQpIHx8XG4gICAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCksXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpKVxuICAgICAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG9sZENvbnRleHQpKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UucHJvcHMgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IG9sZENvbnRleHQpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5jb250ZXh0ID0gc3RhdGUpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9IGxhbmUpKVxuICAgICAgICAgIDogKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NzEwODg2NCksXG4gICAgICAgICAgICAoX2luc3RhbmNlID0gITEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50JGpzY29tcCQwLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKENvbXBvbmVudCwgc3RhdGUpO1xuICAgICAgICBfaW5zdGFuY2UucHJvcHMgPSBmb3VuZFdpbGxVcGRhdGVOYW1lO1xuICAgICAgICBuZXdBcGlOYW1lID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgICBvbGRTdGF0ZSA9IF9pbnN0YW5jZS5jb250ZXh0O1xuICAgICAgICBvbGRDb250ZXh0ID0gQ29tcG9uZW50LmNvbnRleHRUeXBlO1xuICAgICAgICBsYW5lID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2xkQ29udGV4dCAmJlxuICAgICAgICAgIG51bGwgIT09IG9sZENvbnRleHQgJiZcbiAgICAgICAgICAobGFuZSA9IHJlYWRDb250ZXh0KG9sZENvbnRleHQpKTtcbiAgICAgICAgdW5yZXNvbHZlZE9sZFByb3BzID0gQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgICAgICAgKG9sZENvbnRleHQgPVxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHVucmVzb2x2ZWRPbGRQcm9wcyB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSkgfHxcbiAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgfHxcbiAgICAgICAgICAoKHN0YXRlICE9PSBuZXdBcGlOYW1lIHx8IG9sZFN0YXRlICE9PSBsYW5lKSAmJlxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgICAgIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCBfaW5zdGFuY2UsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpO1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBzdGF0ZSAhPT0gbmV3QXBpTmFtZSB8fFxuICAgICAgICBvbGRTdGF0ZSAhPT0gbmV3U3RhdGUgfHxcbiAgICAgICAgaGFzRm9yY2VVcGRhdGUgfHxcbiAgICAgICAgKG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAgJiZcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcyAmJlxuICAgICAgICAgIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcykpXG4gICAgICAgICAgPyAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdW5yZXNvbHZlZE9sZFByb3BzICYmXG4gICAgICAgICAgICAgIChhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgdW5yZXNvbHZlZE9sZFByb3BzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAobmV3U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSksXG4gICAgICAgICAgICAoZm91bmRXaWxsVXBkYXRlTmFtZSA9XG4gICAgICAgICAgICAgIGhhc0ZvcmNlVXBkYXRlIHx8XG4gICAgICAgICAgICAgIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICBsYW5lXG4gICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcyAmJlxuICAgICAgICAgICAgICAgIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcykpKVxuICAgICAgICAgICAgICA/IChvbGRDb250ZXh0IHx8XG4gICAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV3U3RhdGUsIGxhbmUpLFxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTAyNCkpXG4gICAgICAgICAgICAgIDogKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5ld1N0YXRlKSksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZSksXG4gICAgICAgICAgICAoX2luc3RhbmNlLmNvbnRleHQgPSBsYW5lKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSBmb3VuZFdpbGxVcGRhdGVOYW1lKSlcbiAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlIHx8XG4gICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9ICExKSk7XG4gICAgICB9XG4gICAgICBsYW5lID0gX2luc3RhbmNlO1xuICAgICAgbWFya1JlZihjdXJyZW50JGpzY29tcCQwLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzdGF0ZSA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCk7XG4gICAgICBpZiAobGFuZSB8fCBzdGF0ZSkge1xuICAgICAgICBsYW5lID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPVxuICAgICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzID8gbnVsbCA6IGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXY7XG4gICAgICAgIGlzUmVuZGVyaW5nID0gITE7XG4gICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgaWYgKHN0YXRlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IpXG4gICAgICAgICAgKENvbXBvbmVudCA9IG51bGwpLCAocHJvZmlsZXJTdGFydFRpbWUgPSAtMSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBDb21wb25lbnQgPSBjYWxsUmVuZGVySW5ERVYobGFuZSk7XG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjYWxsUmVuZGVySW5ERVYobGFuZSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMCAmJiBzdGF0ZVxuICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgY3VycmVudCRqc2NvbXAkMC5jaGlsZCxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApKSlcbiAgICAgICAgICA6IHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50JGpzY29tcCQwLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGxhbmUuc3RhdGU7XG4gICAgICAgIGN1cnJlbnQkanNjb21wJDAgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgIH0gZWxzZVxuICAgICAgICBjdXJyZW50JGpzY29tcCQwID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICBjdXJyZW50JGpzY29tcCQwLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICk7XG4gICAgICByZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIF9pbnN0YW5jZSAmJlxuICAgICAgICByZW5kZXJMYW5lcy5wcm9wcyAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgIChkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSXQgbG9va3MgbGlrZSAlcyBpcyByZWFzc2lnbmluZyBpdHMgb3duIGB0aGlzLnByb3BzYCB3aGlsZSByZW5kZXJpbmcuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgY2FuIGxlYWQgdG8gY29uZnVzaW5nIGJ1Z3MuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcImEgY29tcG9uZW50XCJcbiAgICAgICAgICApLFxuICAgICAgICAoZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyA9ICEwKSk7XG4gICAgICByZXR1cm4gY3VycmVudCRqc2NvbXAkMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRIb3N0Um9vdFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjU2O1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCkge1xuICAgICAgQ29tcG9uZW50ICYmXG4gICAgICAgIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiY2hpbGRDb250ZXh0VHlwZXMgY2Fubm90IGJlIGRlZmluZWQgb24gYSBmdW5jdGlvbiBjb21wb25lbnQuXFxuICAlcy5jaGlsZENvbnRleHRUeXBlcyA9IC4uLlwiLFxuICAgICAgICAgIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICk7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIiksXG4gICAgICAgIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25Db21wb25lbnRbd29ya0luUHJvZ3Jlc3NdIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBGdW5jdGlvbiBjb21wb25lbnRzIGRvIG5vdCBzdXBwb3J0IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cIixcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudFt3b3JrSW5Qcm9ncmVzc10gPVxuICAgICAgICAgICAgITApKSk7XG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgQ29tcG9uZW50LmNvbnRleHRUeXBlICYmXG4gICAgICAgIG51bGwgIT09IENvbXBvbmVudC5jb250ZXh0VHlwZSAmJlxuICAgICAgICAoKENvbXBvbmVudCA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50W0NvbXBvbmVudF0gfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IEZ1bmN0aW9uIGNvbXBvbmVudHMgZG8gbm90IHN1cHBvcnQgY29udGV4dFR5cGUuXCIsXG4gICAgICAgICAgICBDb21wb25lbnRcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRDb250ZXh0VHlwZU9uRnVuY3Rpb25Db21wb25lbnRbQ29tcG9uZW50XSA9ICEwKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpIHtcbiAgICAgIHJldHVybiB7IGJhc2VMYW5lczogcmVuZGVyTGFuZXMsIGNhY2hlUG9vbDogZ2V0U3VzcGVuZGVkQ2FjaGUoKSB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZW1haW5pbmdXb3JrSW5QcmltYXJ5VHJlZShcbiAgICAgIGN1cnJlbnQsXG4gICAgICBwcmltYXJ5VHJlZURpZERlZmVyLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGN1cnJlbnQgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5jaGlsZExhbmVzICYgfnJlbmRlckxhbmVzIDogMDtcbiAgICAgIHByaW1hcnlUcmVlRGlkRGVmZXIgJiYgKGN1cnJlbnQgfD0gd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN1c3BlbnNlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNztcbiAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgIHNob3VsZFN1c3BlbmRJbXBsKHdvcmtJblByb2dyZXNzKSAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KTtcbiAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9ICExO1xuICAgICAgdmFyIGRpZFN1c3BlbmQgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpO1xuICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IGRpZFN1c3BlbmQpIHx8XG4gICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCA9PT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/ICExXG4gICAgICAgICAgICA6IDAgIT09IChzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQgJiBGb3JjZVN1c3BlbnNlRmFsbGJhY2spKTtcbiAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyAmJlxuICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID0gITApLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTEyOSkpO1xuICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMzIpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTMzO1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTlcbiAgICAgICAgICAgID8gcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgOiByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICAgIGlmICghKEpTQ29tcGlsZXJfdGVtcCA9ICFKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KSkge1xuICAgICAgICAgICAgICBjOiB7XG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNjtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gcm9vdE9yU2luZ2xldG9uQ29udGV4dDtcbiAgICAgICAgICAgICAgICAgIDggIT09IGluc3RhbmNlLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIUpTQ29tcGlsZXJfdGVtcCkge1xuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBjO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl90ZW1wXG4gICAgICAgICAgICAgICAgPyAod2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVoeWRyYXRlZDogSlNDb21waWxlcl90ZW1wLFxuICAgICAgICAgICAgICAgICAgICB0cmVlQ29udGV4dDpcbiAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSB0cmVlQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgaWQ6IHRyZWVDb250ZXh0SWQsIG92ZXJmbG93OiB0cmVlQ29udGV4dE92ZXJmbG93IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlMYW5lOiA1MzY4NzA5MTJcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgKGluc3RhbmNlID0gY3JlYXRlRmliZXIoMTgsIG51bGwsIG51bGwsIE5vTW9kZSkpLFxuICAgICAgICAgICAgICAgICAgKGluc3RhbmNlLnN0YXRlTm9kZSA9IEpTQ29tcGlsZXJfdGVtcCksXG4gICAgICAgICAgICAgICAgICAoaW5zdGFuY2UucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSAhMCkpXG4gICAgICAgICAgICAgICAgOiAoSlNDb21waWxlcl90ZW1wID0gITEpO1xuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSAhSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wICYmXG4gICAgICAgICAgICAgICh3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ICYmXG4gICAgICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRlaHlkcmF0ZWQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNilcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgICAgIFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEFcbiAgICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDE2KVxuICAgICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLmxhbmVzID0gNTM2ODcwOTEyKSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuO1xuICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguZmFsbGJhY2s7XG4gICAgICAgIGlmIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgICAgICBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbW9kZTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5zaWJsaW5nID1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgICAgIG1vdW50U3VzcGVuc2VPZmZzY3JlZW5TdGF0ZShyZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmNoaWxkTGFuZXMgPVxuICAgICAgICAgICAgICBnZXRSZW1haW5pbmdXb3JrSW5QcmltYXJ5VHJlZShcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gU1VTUEVOREVEX01BUktFUiksXG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICAgICk7XG4gICAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBtb3VudFN1c3BlbnNlUHJpbWFyeUNoaWxkcmVuKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHByZXZTdGF0ZSAmJlxuICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSBwcmV2U3RhdGUuZGVoeWRyYXRlZCksXG4gICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpXG4gICAgICApIHtcbiAgICAgICAgaWYgKGRpZFN1c3BlbmQpXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAyNTZcbiAgICAgICAgICAgID8gKHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMjU3KSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgIDogbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgICA/IChyZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IG51bGwpKVxuICAgICAgICAgICAgICA6IChyZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5mYWxsYmFjayksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB3b3JrSW5Qcm9ncmVzcy5tb2RlKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgICAgICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgICAgICBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuZmxhZ3MgfD0gMiksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkucmV0dXJuID1cbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguc2libGluZyA9XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LmNoaWxkLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4Lm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkTGFuZXMgPVxuICAgICAgICAgICAgICAgICAgZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gU1VTUEVOREVEX01BUktFUiksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KSk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIChwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIGlzSHlkcmF0aW5nICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIldlIHNob3VsZCBub3QgYmUgaHlkcmF0aW5nIGhlcmUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGEgYnVnLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGF0YSA9PT1cbiAgICAgICAgICAgIFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEpXG4gICAgICAgICkge1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Lm5leHRTaWJsaW5nICYmXG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Lm5leHRTaWJsaW5nLmRhdGFzZXQ7XG4gICAgICAgICAgaWYgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNykge1xuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LmRnc3Q7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5tc2c7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5zdGNrO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFN0YWNrID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LmNzdGNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gbWVzc2FnZTtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSBKU0NvbXBpbGVyX3RlbXA7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSBpbnN0YW5jZTtcbiAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICBjb21wb25lbnRTdGFjaztcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgID8gRXJyb3IoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNilcbiAgICAgICAgICAgICAgOiBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVGhlIHNlcnZlciBjb3VsZCBub3QgZmluaXNoIHRoaXMgU3VzcGVuc2UgYm91bmRhcnksIGxpa2VseSBkdWUgdG8gYW4gZXJyb3IgZHVyaW5nIHNlcnZlciByZW5kZXJpbmcuIFN3aXRjaGVkIHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LnN0YWNrID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4IHx8IFwiXCI7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuZGlnZXN0ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNztcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgICAgdm9pZCAwID09PSBKU0NvbXBpbGVyX3RlbXAgPyBudWxsIDogSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0ge1xuICAgICAgICAgICAgdmFsdWU6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICAgICAgc3RhY2s6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxN1xuICAgICAgICAgIH07XG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyAmJlxuICAgICAgICAgICAgQ2FwdHVyZWRTdGFja3Muc2V0KFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAoZGlkUmVjZWl2ZVVwZGF0ZSB8fFxuICAgICAgICAgICAgcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9XG4gICAgICAgICAgICAwICE9PSAocmVuZGVyTGFuZXMgJiBjdXJyZW50LmNoaWxkTGFuZXMpKSxcbiAgICAgICAgICBkaWRSZWNlaXZlVXBkYXRlIHx8IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNylcbiAgICAgICAgKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgICAgIGlmIChudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcpIHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gcmVuZGVyTGFuZXMgJiAtcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICBpZiAoMCAhPT0gKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICYgNDIpKVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHN3aXRjaCAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI4OlxuICAgICAgICAgICAgICAgIGNhc2UgMjU2OlxuICAgICAgICAgICAgICAgIGNhc2UgNTEyOlxuICAgICAgICAgICAgICAgIGNhc2UgMTAyNDpcbiAgICAgICAgICAgICAgICBjYXNlIDIwNDg6XG4gICAgICAgICAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICAgICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgICAgICAgICBjYXNlIDE2Mzg0OlxuICAgICAgICAgICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgICAgICAgICAgY2FzZSA2NTUzNjpcbiAgICAgICAgICAgICAgICBjYXNlIDEzMTA3MjpcbiAgICAgICAgICAgICAgICBjYXNlIDI2MjE0NDpcbiAgICAgICAgICAgICAgICBjYXNlIDUyNDI4ODpcbiAgICAgICAgICAgICAgICBjYXNlIDEwNDg1NzY6XG4gICAgICAgICAgICAgICAgY2FzZSAyMDk3MTUyOlxuICAgICAgICAgICAgICAgIGNhc2UgNDE5NDMwNDpcbiAgICAgICAgICAgICAgICBjYXNlIDgzODg2MDg6XG4gICAgICAgICAgICAgICAgY2FzZSAxNjc3NzIxNjpcbiAgICAgICAgICAgICAgICBjYXNlIDMzNTU0NDMyOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSA2NDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjY4NDM1NDU2OlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxMzQyMTc3Mjg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgICAgIDAgIT09XG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCAmXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5zdXNwZW5kZWRMYW5lcyB8XG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcykpXG4gICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxODtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgMCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggJiZcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggIT09IHByZXZTdGF0ZS5yZXRyeUxhbmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgICgocHJldlN0YXRlLnJldHJ5TGFuZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAgICAgICBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgU2VsZWN0aXZlSHlkcmF0aW9uRXhjZXB0aW9uKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgICBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgfHwgcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGF0YSA9PT1cbiAgICAgICAgICBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEFcbiAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gcmV0cnlEZWh5ZHJhdGVkU3VzcGVuc2VCb3VuZGFyeS5iaW5kKFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuX3JlYWN0UmV0cnkgPVxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gbnVsbCkpXG4gICAgICAgICAgICA6ICgoY3VycmVudCA9IHByZXZTdGF0ZS50cmVlQ29udGV4dCksXG4gICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5uZXh0U2libGluZ1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAoaXNIeWRyYXRpbmcgPSAhMCksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25FcnJvcnMgPSBudWxsKSxcbiAgICAgICAgICAgICAgKGRpZFN1c3BlbmRPckVycm9yREVWID0gITEpLFxuICAgICAgICAgICAgICAoaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsKSxcbiAgICAgICAgICAgICAgKHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMSksXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAod2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRJZCksXG4gICAgICAgICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRPdmVyZmxvdyksXG4gICAgICAgICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRQcm92aWRlciksXG4gICAgICAgICAgICAgICAgKHRyZWVDb250ZXh0SWQgPSBjdXJyZW50LmlkKSxcbiAgICAgICAgICAgICAgICAodHJlZUNvbnRleHRPdmVyZmxvdyA9IGN1cnJlbnQub3ZlcmZsb3cpLFxuICAgICAgICAgICAgICAgICh0cmVlQ29udGV4dFByb3ZpZGVyID0gd29ya0luUHJvZ3Jlc3MpKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbihcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQwOTYpKTtcbiAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmZhbGxiYWNrKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHdvcmtJblByb2dyZXNzLm1vZGUpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAoaW5zdGFuY2UgPSBKU0NvbXBpbGVyX3RlbXAuc2libGluZyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoXG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vZGU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgICAgICAgfVxuICAgICAgICAgICkpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5zdWJ0cmVlRmxhZ3MgPVxuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLnN1YnRyZWVGbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICBudWxsICE9PSBpbnN0YW5jZVxuICAgICAgICAgICAgPyAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgIGNyZWF0ZVdvcmtJblByb2dyZXNzKFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6ICgoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5mbGFncyB8PSAyKSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LnJldHVybiA9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguc2libGluZyA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gY3VycmVudC5jaGlsZC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICBudWxsID09PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICA/IChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICAgICAgICBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpKVxuICAgICAgICAgICAgOiAoKEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5jYWNoZVBvb2wpLFxuICAgICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX3RlbXBcbiAgICAgICAgICAgICAgICA/ICgoaW5zdGFuY2UgPSBDYWNoZUNvbnRleHQuX2N1cnJlbnRWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLnBhcmVudCAhPT0gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcGFyZW50OiBpbnN0YW5jZSwgcG9vbDogaW5zdGFuY2UgfVxuICAgICAgICAgICAgICAgICAgICAgIDogSlNDb21waWxlcl90ZW1wKSlcbiAgICAgICAgICAgICAgICA6IChKU0NvbXBpbGVyX3RlbXAgPSBnZXRTdXNwZW5kZWRDYWNoZSgpKSxcbiAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB7XG4gICAgICAgICAgICAgICAgYmFzZUxhbmVzOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5iYXNlTGFuZXMgfCByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICBjYWNoZVBvb2w6IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5Lm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmNoaWxkTGFuZXMgPVxuICAgICAgICAgICAgZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gU1VTUEVOREVEX01BUktFUiksXG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgKTtcbiAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZW5kZXJMYW5lcyA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICBjdXJyZW50ID0gcmVuZGVyTGFuZXMuc2libGluZztcbiAgICAgIHJlbmRlckxhbmVzID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MocmVuZGVyTGFuZXMsIHtcbiAgICAgICAgbW9kZTogXCJ2aXNpYmxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgfSk7XG4gICAgICByZW5kZXJMYW5lcy5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHJlbmRlckxhbmVzLnNpYmxpbmcgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IHdvcmtJblByb2dyZXNzLmRlbGV0aW9ucyksXG4gICAgICAgIG51bGwgPT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxN1xuICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMgPSBbY3VycmVudF0pLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE2KSlcbiAgICAgICAgICA6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5wdXNoKGN1cnJlbnQpKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVuZGVyTGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIHJldHVybiByZW5kZXJMYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbih3b3JrSW5Qcm9ncmVzcywgcHJpbWFyeUNoaWxkcmVuKSB7XG4gICAgICBwcmltYXJ5Q2hpbGRyZW4gPSBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIoXG4gICAgICAgIHsgbW9kZTogXCJ2aXNpYmxlXCIsIGNoaWxkcmVuOiBwcmltYXJ5Q2hpbGRyZW4gfSxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZVxuICAgICAgKTtcbiAgICAgIHByaW1hcnlDaGlsZHJlbi5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHJldHVybiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBwcmltYXJ5Q2hpbGRyZW4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIob2Zmc2NyZWVuUHJvcHMsIG1vZGUpIHtcbiAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21PZmZzY3JlZW4ob2Zmc2NyZWVuUHJvcHMsIG1vZGUsIDAsIG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudC5jaGlsZCwgbnVsbCwgcmVuZGVyTGFuZXMpO1xuICAgICAgY3VycmVudCA9IG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4oXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW5cbiAgICAgICk7XG4gICAgICBjdXJyZW50LmZsYWdzIHw9IDI7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVN1c3BlbnNlV29ya09uRmliZXIoZmliZXIsIHJlbmRlckxhbmVzLCBwcm9wYWdhdGlvblJvb3QpIHtcbiAgICAgIGZpYmVyLmxhbmVzIHw9IHJlbmRlckxhbmVzO1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmxhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgIHNjaGVkdWxlQ29udGV4dFdvcmtPblBhcmVudFBhdGgoXG4gICAgICAgIGZpYmVyLnJldHVybixcbiAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgIHByb3BhZ2F0aW9uUm9vdFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVTdXNwZW5zZUxpc3ROZXN0ZWRDaGlsZChjaGlsZFNsb3QsIGluZGV4KSB7XG4gICAgICB2YXIgaXNBbkFycmF5ID0gaXNBcnJheUltcGwoY2hpbGRTbG90KTtcbiAgICAgIGNoaWxkU2xvdCA9ICFpc0FuQXJyYXkgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ2V0SXRlcmF0b3JGbihjaGlsZFNsb3QpO1xuICAgICAgcmV0dXJuIGlzQW5BcnJheSB8fCBjaGlsZFNsb3RcbiAgICAgICAgPyAoKGlzQW5BcnJheSA9IGlzQW5BcnJheSA/IFwiYXJyYXlcIiA6IFwiaXRlcmFibGVcIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiQSBuZXN0ZWQgJXMgd2FzIHBhc3NlZCB0byByb3cgIyVzIGluIDxTdXNwZW5zZUxpc3QgLz4uIFdyYXAgaXQgaW4gYW4gYWRkaXRpb25hbCBTdXNwZW5zZUxpc3QgdG8gY29uZmlndXJlIGl0cyByZXZlYWxPcmRlcjogPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj0uLi4+IC4uLiA8U3VzcGVuc2VMaXN0IHJldmVhbE9yZGVyPS4uLj57JXN9PC9TdXNwZW5zZUxpc3Q+IC4uLiA8L1N1c3BlbnNlTGlzdD5cIixcbiAgICAgICAgICAgIGlzQW5BcnJheSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgaXNBbkFycmF5XG4gICAgICAgICAgKSxcbiAgICAgICAgICAhMSlcbiAgICAgICAgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBpc0JhY2t3YXJkcyxcbiAgICAgIHRhaWwsXG4gICAgICBsYXN0Q29udGVudFJvdyxcbiAgICAgIHRhaWxNb2RlXG4gICAgKSB7XG4gICAgICB2YXIgcmVuZGVyU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgbnVsbCA9PT0gcmVuZGVyU3RhdGVcbiAgICAgICAgPyAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzQmFja3dhcmRzOiBpc0JhY2t3YXJkcyxcbiAgICAgICAgICAgIHJlbmRlcmluZzogbnVsbCxcbiAgICAgICAgICAgIHJlbmRlcmluZ1N0YXJ0VGltZTogMCxcbiAgICAgICAgICAgIGxhc3Q6IGxhc3RDb250ZW50Um93LFxuICAgICAgICAgICAgdGFpbDogdGFpbCxcbiAgICAgICAgICAgIHRhaWxNb2RlOiB0YWlsTW9kZVxuICAgICAgICAgIH0pXG4gICAgICAgIDogKChyZW5kZXJTdGF0ZS5pc0JhY2t3YXJkcyA9IGlzQmFja3dhcmRzKSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUucmVuZGVyaW5nID0gbnVsbCksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnJlbmRlcmluZ1N0YXJ0VGltZSA9IDApLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS5sYXN0ID0gbGFzdENvbnRlbnRSb3cpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS50YWlsID0gdGFpbCksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnRhaWxNb2RlID0gdGFpbE1vZGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3VzcGVuc2VMaXN0Q29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgcmV2ZWFsT3JkZXIgPSBuZXh0UHJvcHMucmV2ZWFsT3JkZXIsXG4gICAgICAgIHRhaWxNb2RlID0gbmV4dFByb3BzLnRhaWw7XG4gICAgICBuZXh0UHJvcHMgPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoXG4gICAgICAgIHZvaWQgMCAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgXCJmb3J3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICBcImJhY2t3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICBcInRvZ2V0aGVyXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgICFkaWRXYXJuQWJvdXRSZXZlYWxPcmRlcltyZXZlYWxPcmRlcl1cbiAgICAgIClcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoZGlkV2FybkFib3V0UmV2ZWFsT3JkZXJbcmV2ZWFsT3JkZXJdID0gITApLFxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiByZXZlYWxPcmRlcilcbiAgICAgICAgKVxuICAgICAgICAgIHN3aXRjaCAocmV2ZWFsT3JkZXIudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSBcInRvZ2V0aGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZm9yd2FyZHNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJiYWNrd2FyZHNcIjpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBVc2UgbG93ZXJjYXNlIFwiJXNcIiBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmb3J3YXJkXCI6XG4gICAgICAgICAgICBjYXNlIFwiYmFja3dhcmRcIjpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBSZWFjdCB1c2VzIHRoZSAtcyBzdWZmaXggaW4gdGhlIHNwZWxsaW5nLiBVc2UgXCIlc3NcIiBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSBzdXBwb3J0ZWQgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gRGlkIHlvdSBtZWFuIFwidG9nZXRoZXJcIiwgXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCI/JyxcbiAgICAgICAgICAgICAgICByZXZlYWxPcmRlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnJXMgaXMgbm90IGEgc3VwcG9ydGVkIHZhbHVlIGZvciByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBEaWQgeW91IG1lYW4gXCJ0b2dldGhlclwiLCBcImZvcndhcmRzXCIgb3IgXCJiYWNrd2FyZHNcIj8nLFxuICAgICAgICAgICAgcmV2ZWFsT3JkZXJcbiAgICAgICAgICApO1xuICAgICAgdm9pZCAwID09PSB0YWlsTW9kZSB8fFxuICAgICAgICBkaWRXYXJuQWJvdXRUYWlsT3B0aW9uc1t0YWlsTW9kZV0gfHxcbiAgICAgICAgKFwiY29sbGFwc2VkXCIgIT09IHRhaWxNb2RlICYmIFwiaGlkZGVuXCIgIT09IHRhaWxNb2RlXG4gICAgICAgICAgPyAoKGRpZFdhcm5BYm91dFRhaWxPcHRpb25zW3RhaWxNb2RlXSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdcIiVzXCIgaXMgbm90IGEgc3VwcG9ydGVkIHZhbHVlIGZvciB0YWlsIG9uIDxTdXNwZW5zZUxpc3QgLz4uIERpZCB5b3UgbWVhbiBcImNvbGxhcHNlZFwiIG9yIFwiaGlkZGVuXCI/JyxcbiAgICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgOiBcImZvcndhcmRzXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgICAgICBcImJhY2t3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRUYWlsT3B0aW9uc1t0YWlsTW9kZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnPFN1c3BlbnNlTGlzdCB0YWlsPVwiJXNcIiAvPiBpcyBvbmx5IHZhbGlkIGlmIHJldmVhbE9yZGVyIGlzIFwiZm9yd2FyZHNcIiBvciBcImJhY2t3YXJkc1wiLiBEaWQgeW91IG1lYW4gdG8gc3BlY2lmeSByZXZlYWxPcmRlcj1cImZvcndhcmRzXCI/JyxcbiAgICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICAgICkpKTtcbiAgICAgIGE6IGlmIChcbiAgICAgICAgKFwiZm9yd2FyZHNcIiA9PT0gcmV2ZWFsT3JkZXIgfHwgXCJiYWNrd2FyZHNcIiA9PT0gcmV2ZWFsT3JkZXIpICYmXG4gICAgICAgIHZvaWQgMCAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgIG51bGwgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAhMSAhPT0gbmV4dFByb3BzXG4gICAgICApXG4gICAgICAgIGlmIChpc0FycmF5SW1wbChuZXh0UHJvcHMpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV4dFByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlU3VzcGVuc2VMaXN0TmVzdGVkQ2hpbGQobmV4dFByb3BzW2ldLCBpKSkgYnJlYWsgYTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4obmV4dFByb3BzKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKSB7XG4gICAgICAgICAgaWYgKChpID0gaS5jYWxsKG5leHRQcm9wcykpKVxuICAgICAgICAgICAgZm9yICh2YXIgc3RlcCA9IGkubmV4dCgpLCBfaSA9IDA7ICFzdGVwLmRvbmU7IHN0ZXAgPSBpLm5leHQoKSkge1xuICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlU3VzcGVuc2VMaXN0TmVzdGVkQ2hpbGQoc3RlcC52YWx1ZSwgX2kpKSBicmVhayBhO1xuICAgICAgICAgICAgICBfaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0Egc2luZ2xlIHJvdyB3YXMgcGFzc2VkIHRvIGEgPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj1cIiVzXCIgLz4uIFRoaXMgaXMgbm90IHVzZWZ1bCBzaW5jZSBpdCBuZWVkcyBtdWx0aXBsZSByb3dzLiBEaWQgeW91IG1lYW4gdG8gcGFzcyBtdWx0aXBsZSBjaGlsZHJlbiBvciBhbiBhcnJheT8nLFxuICAgICAgICAgICAgcmV2ZWFsT3JkZXJcbiAgICAgICAgICApO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgcmVuZGVyTGFuZXMpO1xuICAgICAgbmV4dFByb3BzID0gc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgaWYgKDAgIT09IChuZXh0UHJvcHMgJiBGb3JjZVN1c3BlbnNlRmFsbGJhY2spKVxuICAgICAgICAobmV4dFByb3BzID1cbiAgICAgICAgICAobmV4dFByb3BzICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2spIHwgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAwICE9PSAoY3VycmVudC5mbGFncyAmIDEyOCkpXG4gICAgICAgICAgYTogZm9yIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IGN1cnJlbnQ7ICkge1xuICAgICAgICAgICAgaWYgKDEzID09PSBjdXJyZW50LnRhZylcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVTdXNwZW5zZVdvcmtPbkZpYmVyKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSBpZiAoMTkgPT09IGN1cnJlbnQudGFnKVxuICAgICAgICAgICAgICBzY2hlZHVsZVN1c3BlbnNlV29ya09uRmliZXIoY3VycmVudCwgcmVuZGVyTGFuZXMsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG51bGwgIT09IGN1cnJlbnQuY2hpbGQpIHtcbiAgICAgICAgICAgICAgY3VycmVudC5jaGlsZC5yZXR1cm4gPSBjdXJyZW50O1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jaGlsZDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gd29ya0luUHJvZ3Jlc3MpIGJyZWFrIGE7XG4gICAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gY3VycmVudC5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQucmV0dXJuIHx8IGN1cnJlbnQucmV0dXJuID09PSB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5yZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50LnNpYmxpbmcucmV0dXJuID0gY3VycmVudC5yZXR1cm47XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgbmV4dFByb3BzICY9IFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrO1xuICAgICAgfVxuICAgICAgcHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBuZXh0UHJvcHMsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHN3aXRjaCAocmV2ZWFsT3JkZXIpIHtcbiAgICAgICAgY2FzZSBcImZvcndhcmRzXCI6XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICBmb3IgKHJldmVhbE9yZGVyID0gbnVsbDsgbnVsbCAhPT0gcmVuZGVyTGFuZXM7IClcbiAgICAgICAgICAgIChjdXJyZW50ID0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT09IGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50KSAmJlxuICAgICAgICAgICAgICAgIChyZXZlYWxPcmRlciA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmVuZGVyTGFuZXMuc2libGluZyk7XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSByZXZlYWxPcmRlcjtcbiAgICAgICAgICBudWxsID09PSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgPyAoKHJldmVhbE9yZGVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsKSlcbiAgICAgICAgICAgIDogKChyZXZlYWxPcmRlciA9IHJlbmRlckxhbmVzLnNpYmxpbmcpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMuc2libGluZyA9IG51bGwpKTtcbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICExLFxuICAgICAgICAgICAgcmV2ZWFsT3JkZXIsXG4gICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJhY2t3YXJkc1wiOlxuICAgICAgICAgIHJlbmRlckxhbmVzID0gbnVsbDtcbiAgICAgICAgICByZXZlYWxPcmRlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgIGZvciAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsOyBudWxsICE9PSByZXZlYWxPcmRlcjsgKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gcmV2ZWFsT3JkZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCA9PT0gZmluZEZpcnN0U3VzcGVuZGVkKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmV2ZWFsT3JkZXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IHJldmVhbE9yZGVyLnNpYmxpbmc7XG4gICAgICAgICAgICByZXZlYWxPcmRlci5zaWJsaW5nID0gcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICByZW5kZXJMYW5lcyA9IHJldmVhbE9yZGVyO1xuICAgICAgICAgICAgcmV2ZWFsT3JkZXIgPSBjdXJyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICEwLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9nZXRoZXJcIjpcbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUod29ya0luUHJvZ3Jlc3MsICExLCBudWxsLCBudWxsLCB2b2lkIDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzKTtcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gd29ya0luUHJvZ3Jlc3MubGFuZXM7XG4gICAgICBpZiAoMCA9PT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcykpXG4gICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgMCA9PT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcykpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIHdvcmtJblByb2dyZXNzLmNoaWxkICE9PSBjdXJyZW50LmNoaWxkKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlJlc3VtaW5nIHdvcmsgbm90IHlldCBpbXBsZW1lbnRlZC5cIik7XG4gICAgICBpZiAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpIHtcbiAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICByZW5kZXJMYW5lcyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIGN1cnJlbnQucGVuZGluZ1Byb3BzKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZW5kZXJMYW5lcztcbiAgICAgICAgZm9yIChyZW5kZXJMYW5lcy5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzczsgbnVsbCAhPT0gY3VycmVudC5zaWJsaW5nOyApXG4gICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmcpLFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmVuZGVyTGFuZXMuc2libGluZyA9XG4gICAgICAgICAgICAgIGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIGN1cnJlbnQucGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZW5kZXJMYW5lcy5zaWJsaW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpIHtcbiAgICAgIGlmICgwICE9PSAoY3VycmVudC5sYW5lcyAmIHJlbmRlckxhbmVzKSkgcmV0dXJuICEwO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzO1xuICAgICAgcmV0dXJuIG51bGwgIT09IGN1cnJlbnQgJiYgY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnQpID8gITAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdEVhcmx5QmFpbG91dElmTm9TY2hlZHVsZWRVcGRhdGUoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgcHVzaFByb3ZpZGVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDYWNoZUNvbnRleHQsXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHB1c2hIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHB1c2hQcm92aWRlcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMudmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpICYmXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0ODtcbiAgICAgICAgICB2YXIgc3RhdGVOb2RlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHN0YXRlTm9kZS5lZmZlY3REdXJhdGlvbiA9IC0wO1xuICAgICAgICAgIHN0YXRlTm9kZS5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSAtMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBzdGF0ZU5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBzdGF0ZU5vZGUpIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBzdGF0ZU5vZGUuZGVoeWRyYXRlZClcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICgwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZC5jaGlsZExhbmVzKSlcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBjdXJyZW50ID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50LnNpYmxpbmcgOiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHZhciBkaWRTdXNwZW5kQmVmb3JlID0gMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMjgpO1xuICAgICAgICAgIHN0YXRlTm9kZSA9IDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpO1xuICAgICAgICAgIHN0YXRlTm9kZSB8fFxuICAgICAgICAgICAgKHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHN0YXRlTm9kZSA9IDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpKSk7XG4gICAgICAgICAgaWYgKGRpZFN1c3BlbmRCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZU5vZGUpXG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUxpc3RDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaWRTdXNwZW5kQmVmb3JlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBudWxsICE9PSBkaWRTdXNwZW5kQmVmb3JlICYmXG4gICAgICAgICAgICAoKGRpZFN1c3BlbmRCZWZvcmUucmVuZGVyaW5nID0gbnVsbCksXG4gICAgICAgICAgICAoZGlkU3VzcGVuZEJlZm9yZS50YWlsID0gbnVsbCksXG4gICAgICAgICAgICAoZGlkU3VzcGVuZEJlZm9yZS5sYXN0RWZmZWN0ID0gbnVsbCkpO1xuICAgICAgICAgIHB1c2goXG4gICAgICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLFxuICAgICAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChzdGF0ZU5vZGUpIGJyZWFrO1xuICAgICAgICAgIGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDApLFxuICAgICAgICAgICAgdXBkYXRlT2Zmc2NyZWVuQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHB1c2hQcm92aWRlcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgQ2FjaGVDb250ZXh0LFxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJlZ2luV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5fZGVidWdOZWVkc1JlbW91bnQgJiYgbnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICByZW5kZXJMYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmtleSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnT3duZXIgfHwgbnVsbCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzXG4gICAgICAgICk7XG4gICAgICAgIHZhciByZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgaWYgKG51bGwgPT09IHJldHVybkZpYmVyKSB0aHJvdyBFcnJvcihcIkNhbm5vdCBzd2FwIHRoZSByb290IGZpYmVyLlwiKTtcbiAgICAgICAgY3VycmVudC5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgICByZW5kZXJMYW5lcy5pbmRleCA9IHdvcmtJblByb2dyZXNzLmluZGV4O1xuICAgICAgICByZW5kZXJMYW5lcy5zaWJsaW5nID0gd29ya0luUHJvZ3Jlc3Muc2libGluZztcbiAgICAgICAgcmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICByZW5kZXJMYW5lcy5yZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICAgIHJlbmRlckxhbmVzLl9kZWJ1Z0luZm8gPSB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJbmZvO1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MgPT09IHJldHVybkZpYmVyLmNoaWxkKVxuICAgICAgICAgIHJldHVybkZpYmVyLmNoaWxkID0gcmVuZGVyTGFuZXM7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2U2libGluZyA9IHJldHVybkZpYmVyLmNoaWxkO1xuICAgICAgICAgIGlmIChudWxsID09PSBwcmV2U2libGluZylcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgcGFyZW50IHRvIGhhdmUgYSBjaGlsZC5cIik7XG4gICAgICAgICAgZm9yICg7IHByZXZTaWJsaW5nLnNpYmxpbmcgIT09IHdvcmtJblByb2dyZXNzOyApXG4gICAgICAgICAgICBpZiAoKChwcmV2U2libGluZyA9IHByZXZTaWJsaW5nLnNpYmxpbmcpLCBudWxsID09PSBwcmV2U2libGluZykpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgdG8gZmluZCB0aGUgcHJldmlvdXMgc2libGluZy5cIik7XG4gICAgICAgICAgcHJldlNpYmxpbmcuc2libGluZyA9IHJlbmRlckxhbmVzO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXIuZGVsZXRpb25zO1xuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgID8gKChyZXR1cm5GaWJlci5kZWxldGlvbnMgPSBbY3VycmVudF0pLCAocmV0dXJuRmliZXIuZmxhZ3MgfD0gMTYpKVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3MucHVzaChjdXJyZW50KTtcbiAgICAgICAgcmVuZGVyTGFuZXMuZmxhZ3MgfD0gMjtcbiAgICAgICAgcmV0dXJuIHJlbmRlckxhbmVzO1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyB8fFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgIT09IGN1cnJlbnQudHlwZVxuICAgICAgICApXG4gICAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpICYmXG4gICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMSksXG4gICAgICAgICAgICAgIGF0dGVtcHRFYXJseUJhaWxvdXRJZk5vU2NoZWR1bGVkVXBkYXRlKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBkaWRSZWNlaXZlVXBkYXRlID0gMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMzEwNzIpID8gITAgOiAhMTtcbiAgICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSAhMTtcbiAgICAgICAgaWYgKChyZXR1cm5GaWJlciA9IGlzSHlkcmF0aW5nKSlcbiAgICAgICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEwNDg1NzYpKTtcbiAgICAgICAgcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAoKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MuaW5kZXgpLFxuICAgICAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgIHB1c2hUcmVlSWQod29ya0luUHJvZ3Jlc3MsIHRyZWVGb3JrQ291bnQsIHJldHVybkZpYmVyKSk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDA7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIGE6IGlmIChcbiAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjYWxsTGF6eUluaXRJbkRFVih3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50KSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGN1cnJlbnQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgc2hvdWxkQ29uc3RydWN0KGN1cnJlbnQpXG4gICAgICAgICAgICAgID8gKChyZXR1cm5GaWJlciA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRhZyA9IDEpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcoY3VycmVudCkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzLnRhZyA9IDApLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgY3VycmVudCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50KSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSBjdXJyZW50LiQkdHlwZW9mKSxcbiAgICAgICAgICAgICAgICBwcmV2U2libGluZyA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gMTE7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB1cGRhdGVGb3J3YXJkUmVmKFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldlNpYmxpbmcgPT09IFJFQUNUX01FTU9fVFlQRSkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IDE0O1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gdXBkYXRlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IFwiXCI7XG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGN1cnJlbnQuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgIFwiIERpZCB5b3Ugd3JhcCBhIGNvbXBvbmVudCBpbiBSZWFjdC5sYXp5KCkgbW9yZSB0aGFuIG9uY2U/XCIpO1xuICAgICAgICAgICAgY3VycmVudCA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShjdXJyZW50KSB8fCBjdXJyZW50O1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiRWxlbWVudCB0eXBlIGlzIGludmFsaWQuIFJlY2VpdmVkIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvOiBcIiArXG4gICAgICAgICAgICAgICAgY3VycmVudCArXG4gICAgICAgICAgICAgICAgXCIuIExhenkgZWxlbWVudCB0eXBlIG11c3QgcmVzb2x2ZSB0byBhIGNsYXNzIG9yIGZ1bmN0aW9uLlwiICtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBjdXJyZW50IGZpYmVyLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgcHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBwcmV2U2libGluZy5lbGVtZW50O1xuICAgICAgICAgICAgY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgbnVsbCwgcmVuZGVyTGFuZXMpO1xuICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBuZXh0U3RhdGUuY2FjaGU7XG4gICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIG5leHRQcm9wcyAhPT0gcHJldlNpYmxpbmcuY2FjaGUgJiZcbiAgICAgICAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgW0NhY2hlQ29udGV4dF0sXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKTtcbiAgICAgICAgICAgIG5leHRQcm9wcyA9IG5leHRTdGF0ZS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKHByZXZTaWJsaW5nLmlzRGVoeWRyYXRlZClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50OiBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICBpc0RlaHlkcmF0ZWQ6ICExLFxuICAgICAgICAgICAgICAgICAgY2FjaGU6IG5leHRTdGF0ZS5jYWNoZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAyNTYpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gbW91bnRIb3N0Um9vdFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMgIT09IHJldHVybkZpYmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgcm9vdCByZWNlaXZlZCBhbiBlYXJseSB1cGRhdGUsIGJlZm9yZSBhbnl0aGluZyB3YXMgYWJsZSBoeWRyYXRlLiBTd2l0Y2hlZCB0aGUgZW50aXJlIHJvb3QgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG1vdW50SG9zdFJvb3RXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgIGlzSHlkcmF0aW5nID0gITAsXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkVycm9ycyA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWID0gITEsXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICEwLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbW91bnRDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50O1xuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKGN1cnJlbnQuZmxhZ3MgPSAoY3VycmVudC5mbGFncyAmIC0zKSB8IDQwOTYpLFxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQuc2libGluZyk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICBpZiAobmV4dFByb3BzID09PSByZXR1cm5GaWJlcikge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID0gZ2V0UmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50KVxuICAgICAgICAgICAgICAgIDogaXNIeWRyYXRpbmcgfHxcbiAgICAgICAgICAgICAgICAgICgoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlcXVpcmVkQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPVxuICAgICAgICAgICAgICAgICAgICBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIoXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgKS5jcmVhdGVFbGVtZW50KGN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlcltpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlcltpbnRlcm5hbFByb3BzS2V5XSA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHJldHVybkZpYmVyLCBjdXJyZW50LCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBnZXRSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gZ2V0SG9zdENvbnRleHQoKSksXG4gICAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZVNpbmdsZXRvbkluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViB8fFxuICAgICAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgICAgcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUod29ya0luUHJvZ3Jlc3MsIDApLnNlcnZlclByb3BzID1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIpKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAocm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICEwKSxcbiAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICBwcmV2U2libGluZy5maXJzdENoaWxkXG4gICAgICAgICAgICAgICkpKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbiksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50IHx8IGlzSHlkcmF0aW5nXG4gICAgICAgICAgICAgID8gcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgICAoKG5leHRQcm9wcyA9IGdldEhvc3RDb250ZXh0KCkpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB2YWxpZGF0ZURPTU5lc3RpbmcoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHMuYW5jZXN0b3JJbmZvXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSxcbiAgICAgICAgICAgICAgKG5leHRTdGF0ZSA9ICFwcmV2U2libGluZykgfHxcbiAgICAgICAgICAgICAgICAoKG5leHRTdGF0ZSA9IGNhbkh5ZHJhdGVJbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHRcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0U3RhdGVcbiAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBuZXh0U3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViB8fFxuICAgICAgICAgICAgICAgICAgICAgICgobmV4dFByb3BzID0gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKHdvcmtJblByb2dyZXNzLCAwKS5zZXJ2ZXJQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcykpLFxuICAgICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlLmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIChyb290T3JTaW5nbGV0b25Db250ZXh0ID0gITEpLFxuICAgICAgICAgICAgICAgICAgICAobmV4dFByb3BzID0gITApKVxuICAgICAgICAgICAgICAgICAgOiAobmV4dFByb3BzID0gITEpLFxuICAgICAgICAgICAgICAgIChuZXh0U3RhdGUgPSAhbmV4dFByb3BzKSksXG4gICAgICAgICAgICAgIG5leHRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICAgICAgd2Fybk5vbkh5ZHJhdGVkSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpKSksXG4gICAgICAgICAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAobmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIChuZXh0U3RhdGUgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbnVsbCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSBuZXh0UHJvcHMuY2hpbGRyZW4pLFxuICAgICAgICAgICAgc2hvdWxkU2V0VGV4dENvbnRlbnQocHJldlNpYmxpbmcsIG5leHRQcm9wcylcbiAgICAgICAgICAgICAgPyAocmV0dXJuRmliZXIgPSBudWxsKVxuICAgICAgICAgICAgICA6IG51bGwgIT09IG5leHRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHNob3VsZFNldFRleHRDb250ZW50KHByZXZTaWJsaW5nLCBuZXh0U3RhdGUpICYmXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDMyKSxcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHJlbmRlcldpdGhIb29rcyhcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIFRyYW5zaXRpb25Bd2FyZUhvc3RDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoSG9zdFRyYW5zaXRpb25Db250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcmV2U2libGluZykpLFxuICAgICAgICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmXG4gICAgICAgICAgICAgICgoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IGdldEhvc3RDb250ZXh0KCkuYW5jZXN0b3JJbmZvLmN1cnJlbnQpLFxuICAgICAgICAgICAgICAoY3VycmVudCA9XG4gICAgICAgICAgICAgICAgbnVsbCAhPSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0ZVRleHROZXN0aW5nKGN1cnJlbnQsIHJlbmRlckxhbmVzLnRhZylcbiAgICAgICAgICAgICAgICAgIDogITApLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gIXJlbmRlckxhbmVzKSB8fFxuICAgICAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gITApKVxuICAgICAgICAgICAgICAgICAgOiAocmV0dXJuRmliZXIgPSAhMSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gIXJldHVybkZpYmVyKSksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAgIHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKHdvcmtJblByb2dyZXNzKSkpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgOiByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVGb3J3YXJkUmVmKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyLmVmZmVjdER1cmF0aW9uID0gLTApLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IC0wKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgKG5leHRQcm9wcyA9IHByZXZTaWJsaW5nLnZhbHVlKSxcbiAgICAgICAgICAgIFwidmFsdWVcIiBpbiBwcmV2U2libGluZyB8fFxuICAgICAgICAgICAgICBoYXNXYXJuZWRBYm91dFVzaW5nTm9WYWx1ZVByb3BPbkNvbnRleHRQcm92aWRlciB8fFxuICAgICAgICAgICAgICAoKGhhc1dhcm5lZEFib3V0VXNpbmdOb1ZhbHVlUHJvcE9uQ29udGV4dFByb3ZpZGVyID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIGB2YWx1ZWAgcHJvcCBpcyByZXF1aXJlZCBmb3IgdGhlIGA8Q29udGV4dC5Qcm92aWRlcj5gLiBEaWQgeW91IG1pc3NwZWxsIGl0IG9yIGZvcmdldCB0byBwYXNzIGl0P1wiXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCByZXR1cm5GaWJlciwgbmV4dFByb3BzKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcHJldlNpYmxpbmcuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnR5cGUuX2NvbnRleHQpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuKSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBIGNvbnRleHQgY29uc3VtZXIgd2FzIHJlbmRlcmVkIHdpdGggbXVsdGlwbGUgY2hpbGRyZW4sIG9yIGEgY2hpbGQgdGhhdCBpc24ndCBhIGZ1bmN0aW9uLiBBIGNvbnRleHQgY29uc3VtZXIgZXhwZWN0cyBhIHNpbmdsZSBjaGlsZCB0aGF0IGlzIGEgZnVuY3Rpb24uIElmIHlvdSBkaWQgcGFzcyBhIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdGhlcmUgaXMgbm8gdHJhaWxpbmcgb3IgbGVhZGluZyB3aGl0ZXNwYWNlIGFyb3VuZCBpdC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gcmVhZENvbnRleHQocHJldlNpYmxpbmcpKSxcbiAgICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGNhbGxDb21wb25lbnRJbkRFVihcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICB2b2lkIDBcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlU2ltcGxlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlT2Zmc2NyZWVuQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlYWRDb250ZXh0KENhY2hlQ29udGV4dCkpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/ICgocHJldlNpYmxpbmcgPSBwZWVrQ2FjaGVGcm9tUG9vbCgpKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBwcmV2U2libGluZyAmJlxuICAgICAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzUm9vdCksXG4gICAgICAgICAgICAgICAgICAobmV4dFByb3BzID0gY3JlYXRlQ2FjaGUoKSksXG4gICAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcucG9vbGVkQ2FjaGUgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgcmV0YWluQ2FjaGUobmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcucG9vbGVkQ2FjaGVMYW5lcyB8PSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSBuZXh0UHJvcHMpKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgIHBhcmVudDogcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBjYWNoZTogcHJldlNpYmxpbmdcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ2FjaGVDb250ZXh0LCBwcmV2U2libGluZykpXG4gICAgICAgICAgICAgIDogKDAgIT09IChjdXJyZW50LmxhbmVzICYgcmVuZGVyTGFuZXMpICYmXG4gICAgICAgICAgICAgICAgICAoY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG51bGwsIG51bGwsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKSksXG4gICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gY3VycmVudC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgICAgICAobmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcucGFyZW50ICE9PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgPyAoKHByZXZTaWJsaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgMCA9PT0gd29ya0luUHJvZ3Jlc3MubGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ2FjaGVDb250ZXh0LCByZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgICAgICA6ICgocmV0dXJuRmliZXIgPSBuZXh0UHJvcHMuY2FjaGUpLFxuICAgICAgICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciAhPT0gcHJldlNpYmxpbmcuY2FjaGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgW0NhY2hlQ29udGV4dF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICEwXG4gICAgICAgICAgICAgICAgICAgICAgKSkpLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgIHRocm93IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIlVua25vd24gdW5pdCBvZiB3b3JrIHRhZyAoXCIgK1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyArXG4gICAgICAgICAgXCIpLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKSB7XG4gICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IG51bGw7XG4gICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hQcm92aWRlcihwcm92aWRlckZpYmVyLCBjb250ZXh0LCBuZXh0VmFsdWUpIHtcbiAgICAgIHB1c2godmFsdWVDdXJzb3IsIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcHJvdmlkZXJGaWJlcik7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgICBwdXNoKHJlbmRlcmVyQ3Vyc29yREVWLCBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIsIHByb3ZpZGVyRmliZXIpO1xuICAgICAgdm9pZCAwICE9PSBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgJiZcbiAgICAgICAgbnVsbCAhPT0gY29udGV4dC5fY3VycmVudFJlbmRlcmVyICYmXG4gICAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciAhPT0gcmVuZGVyZXJTaWdpbCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRGV0ZWN0ZWQgbXVsdGlwbGUgcmVuZGVyZXJzIGNvbmN1cnJlbnRseSByZW5kZXJpbmcgdGhlIHNhbWUgY29udGV4dCBwcm92aWRlci4gVGhpcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFByb3ZpZGVyKGNvbnRleHQsIHByb3ZpZGVyRmliZXIpIHtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IHZhbHVlQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICB2YXIgY3VycmVudFJlbmRlcmVyID0gcmVuZGVyZXJDdXJzb3JERVYuY3VycmVudDtcbiAgICAgIHBvcChyZW5kZXJlckN1cnNvckRFViwgcHJvdmlkZXJGaWJlcik7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSBjdXJyZW50UmVuZGVyZXI7XG4gICAgICBwb3AodmFsdWVDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgcGFyZW50LFxuICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICBwcm9wYWdhdGlvblJvb3RcbiAgICApIHtcbiAgICAgIGZvciAoOyBudWxsICE9PSBwYXJlbnQ7ICkge1xuICAgICAgICB2YXIgYWx0ZXJuYXRlID0gcGFyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgKHBhcmVudC5jaGlsZExhbmVzICYgcmVuZGVyTGFuZXMpICE9PSByZW5kZXJMYW5lc1xuICAgICAgICAgID8gKChwYXJlbnQuY2hpbGRMYW5lcyB8PSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5jaGlsZExhbmVzIHw9IHJlbmRlckxhbmVzKSlcbiAgICAgICAgICA6IG51bGwgIT09IGFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgKGFsdGVybmF0ZS5jaGlsZExhbmVzICYgcmVuZGVyTGFuZXMpICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgKGFsdGVybmF0ZS5jaGlsZExhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gcHJvcGFnYXRpb25Sb290KSBicmVhaztcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmVudCAhPT0gcHJvcGFnYXRpb25Sb290ICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIHRoZSBwcm9wYWdhdGlvbiByb290IHdoZW4gc2NoZWR1bGluZyBjb250ZXh0IHdvcmsuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGNvbnRleHRzLFxuICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICBmb3JjZVByb3BhZ2F0ZUVudGlyZVRyZWVcbiAgICApIHtcbiAgICAgIHZhciBmaWJlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgbnVsbCAhPT0gZmliZXIgJiYgKGZpYmVyLnJldHVybiA9IHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGZvciAoOyBudWxsICE9PSBmaWJlcjsgKSB7XG4gICAgICAgIHZhciBsaXN0ID0gZmliZXIuZGVwZW5kZW5jaWVzO1xuICAgICAgICBpZiAobnVsbCAhPT0gbGlzdCkge1xuICAgICAgICAgIHZhciBuZXh0RmliZXIgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgICBsaXN0ID0gbGlzdC5maXJzdENvbnRleHQ7XG4gICAgICAgICAgYTogZm9yICg7IG51bGwgIT09IGxpc3Q7ICkge1xuICAgICAgICAgICAgdmFyIGRlcGVuZGVuY3kgPSBsaXN0O1xuICAgICAgICAgICAgbGlzdCA9IGZpYmVyO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZXh0cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY3kuY29udGV4dCA9PT0gY29udGV4dHNbaV0pIHtcbiAgICAgICAgICAgICAgICBsaXN0LmxhbmVzIHw9IHJlbmRlckxhbmVzO1xuICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSBsaXN0LmFsdGVybmF0ZTtcbiAgICAgICAgICAgICAgICBudWxsICE9PSBkZXBlbmRlbmN5ICYmIChkZXBlbmRlbmN5LmxhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgICAgICAgICAgICAgbGlzdC5yZXR1cm4sXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmb3JjZVByb3BhZ2F0ZUVudGlyZVRyZWUgfHwgKG5leHRGaWJlciA9IG51bGwpO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3QgPSBkZXBlbmRlbmN5Lm5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDE4ID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgICBuZXh0RmliZXIgPSBmaWJlci5yZXR1cm47XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5leHRGaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIldlIGp1c3QgY2FtZSBmcm9tIGEgcGFyZW50IHNvIHdlIG11c3QgaGF2ZSBoYWQgYSBwYXJlbnQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbmV4dEZpYmVyLmxhbmVzIHw9IHJlbmRlckxhbmVzO1xuICAgICAgICAgIGxpc3QgPSBuZXh0RmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgIG51bGwgIT09IGxpc3QgJiYgKGxpc3QubGFuZXMgfD0gcmVuZGVyTGFuZXMpO1xuICAgICAgICAgIHNjaGVkdWxlQ29udGV4dFdvcmtPblBhcmVudFBhdGgoXG4gICAgICAgICAgICBuZXh0RmliZXIsXG4gICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICB9IGVsc2UgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICAgIGlmIChudWxsICE9PSBuZXh0RmliZXIpIG5leHRGaWJlci5yZXR1cm4gPSBmaWJlcjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGZvciAobmV4dEZpYmVyID0gZmliZXI7IG51bGwgIT09IG5leHRGaWJlcjsgKSB7XG4gICAgICAgICAgICBpZiAobmV4dEZpYmVyID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpYmVyID0gbmV4dEZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZmliZXIpIHtcbiAgICAgICAgICAgICAgZmliZXIucmV0dXJuID0gbmV4dEZpYmVyLnJldHVybjtcbiAgICAgICAgICAgICAgbmV4dEZpYmVyID0gZmliZXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbmV4dEZpYmVyLnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIGZpYmVyID0gbmV4dEZpYmVyO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlXG4gICAgKSB7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBwYXJlbnQgPSB3b3JrSW5Qcm9ncmVzcywgaXNJbnNpZGVQcm9wYWdhdGlvbkJhaWxvdXQgPSAhMTtcbiAgICAgICAgbnVsbCAhPT0gcGFyZW50O1xuXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFpc0luc2lkZVByb3BhZ2F0aW9uQmFpbG91dClcbiAgICAgICAgICBpZiAoMCAhPT0gKHBhcmVudC5mbGFncyAmIDUyNDI4OCkpIGlzSW5zaWRlUHJvcGFnYXRpb25CYWlsb3V0ID0gITA7XG4gICAgICAgICAgZWxzZSBpZiAoMCAhPT0gKHBhcmVudC5mbGFncyAmIDI2MjE0NCkpIGJyZWFrO1xuICAgICAgICBpZiAoMTAgPT09IHBhcmVudC50YWcpIHtcbiAgICAgICAgICB2YXIgY3VycmVudFBhcmVudCA9IHBhcmVudC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRQYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBoYXZlIGEgY3VycmVudCBmaWJlci4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIik7XG4gICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudFBhcmVudCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBwYXJlbnQudHlwZTtcbiAgICAgICAgICAgIG9iamVjdElzKHBhcmVudC5wZW5kaW5nUHJvcHMudmFsdWUsIGN1cnJlbnRQYXJlbnQudmFsdWUpIHx8XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50XG4gICAgICAgICAgICAgICAgPyBjdXJyZW50LnB1c2goY29udGV4dClcbiAgICAgICAgICAgICAgICA6IChjdXJyZW50ID0gW2NvbnRleHRdKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudCA9PT0gaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvci5jdXJyZW50KSB7XG4gICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRQYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBoYXZlIGEgY3VycmVudCBmaWJlci4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIik7XG4gICAgICAgICAgY3VycmVudFBhcmVudC5tZW1vaXplZFN0YXRlLm1lbW9pemVkU3RhdGUgIT09XG4gICAgICAgICAgICBwYXJlbnQubWVtb2l6ZWRTdGF0ZS5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICA/IGN1cnJlbnQucHVzaChIb3N0VHJhbnNpdGlvbkNvbnRleHQpXG4gICAgICAgICAgICAgIDogKGN1cnJlbnQgPSBbSG9zdFRyYW5zaXRpb25Db250ZXh0XSkpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICB9XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlXG4gICAgICAgICk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyNjIxNDQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50RGVwZW5kZW5jaWVzKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzID0gY3VycmVudERlcGVuZGVuY2llcy5maXJzdENvbnRleHQ7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnREZXBlbmRlbmNpZXM7XG5cbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIW9iamVjdElzKFxuICAgICAgICAgICAgY3VycmVudERlcGVuZGVuY2llcy5jb250ZXh0Ll9jdXJyZW50VmFsdWUsXG4gICAgICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzLm1lbW9pemVkVmFsdWVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGN1cnJlbnREZXBlbmRlbmNpZXMgPSBjdXJyZW50RGVwZW5kZW5jaWVzLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzO1xuICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MgJiYgKHdvcmtJblByb2dyZXNzLmZpcnN0Q29udGV4dCA9IG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQ29udGV4dChjb250ZXh0KSB7XG4gICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDb250ZXh0IGNhbiBvbmx5IGJlIHJlYWQgd2hpbGUgUmVhY3QgaXMgcmVuZGVyaW5nLiBJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBJbiBmdW5jdGlvbiBjb21wb25lbnRzLCB5b3UgY2FuIHJlYWQgaXQgZGlyZWN0bHkgaW4gdGhlIGZ1bmN0aW9uIGJvZHksIGJ1dCBub3QgaW5zaWRlIEhvb2tzIGxpa2UgdXNlUmVkdWNlcigpIG9yIHVzZU1lbW8oKS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0Rm9yQ29uc3VtZXIoY3VycmVudGx5UmVuZGVyaW5nRmliZXIsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKGNvbnN1bWVyLCBjb250ZXh0KSB7XG4gICAgICBudWxsID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciAmJiBwcmVwYXJlVG9SZWFkQ29udGV4dChjb25zdW1lcik7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHRGb3JDb25zdW1lcihjb25zdW1lciwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRDb250ZXh0Rm9yQ29uc3VtZXIoY29uc3VtZXIsIGNvbnRleHQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNvbnRleHQuX2N1cnJlbnRWYWx1ZTtcbiAgICAgIGNvbnRleHQgPSB7IGNvbnRleHQ6IGNvbnRleHQsIG1lbW9pemVkVmFsdWU6IHZhbHVlLCBuZXh0OiBudWxsIH07XG4gICAgICBpZiAobnVsbCA9PT0gbGFzdENvbnRleHREZXBlbmRlbmN5KSB7XG4gICAgICAgIGlmIChudWxsID09PSBjb25zdW1lcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gSW4gY2xhc3NlcywgeW91IGNhbiByZWFkIGl0IGluIHRoZSByZW5kZXIgbWV0aG9kIG9yIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gSW4gZnVuY3Rpb24gY29tcG9uZW50cywgeW91IGNhbiByZWFkIGl0IGRpcmVjdGx5IGluIHRoZSBmdW5jdGlvbiBib2R5LCBidXQgbm90IGluc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuXCJcbiAgICAgICAgICApO1xuICAgICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBjb250ZXh0O1xuICAgICAgICBjb25zdW1lci5kZXBlbmRlbmNpZXMgPSB7XG4gICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgZmlyc3RDb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgIF9kZWJ1Z1RoZW5hYmxlU3RhdGU6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3VtZXIuZmxhZ3MgfD0gNTI0Mjg4O1xuICAgICAgfSBlbHNlIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IGxhc3RDb250ZXh0RGVwZW5kZW5jeS5uZXh0ID0gY29udGV4dDtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKGZpYmVyKSB7XG4gICAgICBmaWJlci51cGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgYmFzZVN0YXRlOiBmaWJlci5tZW1vaXplZFN0YXRlLFxuICAgICAgICBmaXJzdEJhc2VVcGRhdGU6IG51bGwsXG4gICAgICAgIGxhc3RCYXNlVXBkYXRlOiBudWxsLFxuICAgICAgICBzaGFyZWQ6IHsgcGVuZGluZzogbnVsbCwgbGFuZXM6IDAsIGhpZGRlbkNhbGxiYWNrczogbnVsbCB9LFxuICAgICAgICBjYWxsYmFja3M6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb25lVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICAgIGJhc2VTdGF0ZTogY3VycmVudC5iYXNlU3RhdGUsXG4gICAgICAgICAgZmlyc3RCYXNlVXBkYXRlOiBjdXJyZW50LmZpcnN0QmFzZVVwZGF0ZSxcbiAgICAgICAgICBsYXN0QmFzZVVwZGF0ZTogY3VycmVudC5sYXN0QmFzZVVwZGF0ZSxcbiAgICAgICAgICBzaGFyZWQ6IGN1cnJlbnQuc2hhcmVkLFxuICAgICAgICAgIGNhbGxiYWNrczogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlVXBkYXRlKGxhbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhbmU6IGxhbmUsXG4gICAgICAgIHRhZzogVXBkYXRlU3RhdGUsXG4gICAgICAgIHBheWxvYWQ6IG51bGwsXG4gICAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKG51bGwgPT09IHVwZGF0ZVF1ZXVlKSByZXR1cm4gbnVsbDtcbiAgICAgIHVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUuc2hhcmVkO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPT09IHVwZGF0ZVF1ZXVlICYmXG4gICAgICAgICFkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFuIHVwZGF0ZSAoc2V0U3RhdGUsIHJlcGxhY2VTdGF0ZSwgb3IgZm9yY2VVcGRhdGUpIHdhcyBzY2hlZHVsZWQgZnJvbSBpbnNpZGUgYW4gdXBkYXRlIGZ1bmN0aW9uLiBVcGRhdGUgZnVuY3Rpb25zIHNob3VsZCBiZSBwdXJlLCB3aXRoIHplcm8gc2lkZS1lZmZlY3RzLiBDb25zaWRlciB1c2luZyBjb21wb25lbnREaWRVcGRhdGUgb3IgYSBjYWxsYmFjay5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50OiAlc1wiLFxuICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgIT09IE5vQ29udGV4dClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY29tcG9uZW50TmFtZSA9IHVwZGF0ZVF1ZXVlLnBlbmRpbmcpLFxuICAgICAgICAgIG51bGwgPT09IGNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgID8gKHVwZGF0ZS5uZXh0ID0gdXBkYXRlKVxuICAgICAgICAgICAgOiAoKHVwZGF0ZS5uZXh0ID0gY29tcG9uZW50TmFtZS5uZXh0KSxcbiAgICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUubmV4dCA9IHVwZGF0ZSkpLFxuICAgICAgICAgICh1cGRhdGVRdWV1ZS5wZW5kaW5nID0gdXBkYXRlKSxcbiAgICAgICAgICAodXBkYXRlID0gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcikpLFxuICAgICAgICAgIG1hcmtVcGRhdGVMYW5lRnJvbUZpYmVyVG9Sb290KGZpYmVyLCBudWxsLCBsYW5lKSxcbiAgICAgICAgICB1cGRhdGVcbiAgICAgICAgKTtcbiAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgdXBkYXRlUXVldWUsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICByZXR1cm4gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGFuZ2xlVHJhbnNpdGlvbnMocm9vdCwgZmliZXIsIGxhbmUpIHtcbiAgICAgIGZpYmVyID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgICBpZiAobnVsbCAhPT0gZmliZXIgJiYgKChmaWJlciA9IGZpYmVyLnNoYXJlZCksIDAgIT09IChsYW5lICYgNDE5NDE3NikpKSB7XG4gICAgICAgIHZhciBxdWV1ZUxhbmVzID0gZmliZXIubGFuZXM7XG4gICAgICAgIHF1ZXVlTGFuZXMgJj0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAgIGxhbmUgfD0gcXVldWVMYW5lcztcbiAgICAgICAgZmliZXIubGFuZXMgPSBsYW5lO1xuICAgICAgICBtYXJrUm9vdEVudGFuZ2xlZChyb290LCBsYW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHdvcmtJblByb2dyZXNzLCBjYXB0dXJlZFVwZGF0ZSkge1xuICAgICAgdmFyIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUsXG4gICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZSksIHF1ZXVlID09PSBjdXJyZW50KVxuICAgICAgKSB7XG4gICAgICAgIHZhciBuZXdGaXJzdCA9IG51bGwsXG4gICAgICAgICAgbmV3TGFzdCA9IG51bGw7XG4gICAgICAgIHF1ZXVlID0gcXVldWUuZmlyc3RCYXNlVXBkYXRlO1xuICAgICAgICBpZiAobnVsbCAhPT0gcXVldWUpIHtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgY2xvbmUgPSB7XG4gICAgICAgICAgICAgIGxhbmU6IHF1ZXVlLmxhbmUsXG4gICAgICAgICAgICAgIHRhZzogcXVldWUudGFnLFxuICAgICAgICAgICAgICBwYXlsb2FkOiBxdWV1ZS5wYXlsb2FkLFxuICAgICAgICAgICAgICBjYWxsYmFjazogbnVsbCxcbiAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG51bGwgPT09IG5ld0xhc3RcbiAgICAgICAgICAgICAgPyAobmV3Rmlyc3QgPSBuZXdMYXN0ID0gY2xvbmUpXG4gICAgICAgICAgICAgIDogKG5ld0xhc3QgPSBuZXdMYXN0Lm5leHQgPSBjbG9uZSk7XG4gICAgICAgICAgICBxdWV1ZSA9IHF1ZXVlLm5leHQ7XG4gICAgICAgICAgfSB3aGlsZSAobnVsbCAhPT0gcXVldWUpO1xuICAgICAgICAgIG51bGwgPT09IG5ld0xhc3RcbiAgICAgICAgICAgID8gKG5ld0ZpcnN0ID0gbmV3TGFzdCA9IGNhcHR1cmVkVXBkYXRlKVxuICAgICAgICAgICAgOiAobmV3TGFzdCA9IG5ld0xhc3QubmV4dCA9IGNhcHR1cmVkVXBkYXRlKTtcbiAgICAgICAgfSBlbHNlIG5ld0ZpcnN0ID0gbmV3TGFzdCA9IGNhcHR1cmVkVXBkYXRlO1xuICAgICAgICBxdWV1ZSA9IHtcbiAgICAgICAgICBiYXNlU3RhdGU6IGN1cnJlbnQuYmFzZVN0YXRlLFxuICAgICAgICAgIGZpcnN0QmFzZVVwZGF0ZTogbmV3Rmlyc3QsXG4gICAgICAgICAgbGFzdEJhc2VVcGRhdGU6IG5ld0xhc3QsXG4gICAgICAgICAgc2hhcmVkOiBjdXJyZW50LnNoYXJlZCxcbiAgICAgICAgICBjYWxsYmFja3M6IGN1cnJlbnQuY2FsbGJhY2tzXG4gICAgICAgIH07XG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gcXVldWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdvcmtJblByb2dyZXNzID0gcXVldWUubGFzdEJhc2VVcGRhdGU7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICA/IChxdWV1ZS5maXJzdEJhc2VVcGRhdGUgPSBjYXB0dXJlZFVwZGF0ZSlcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MubmV4dCA9IGNhcHR1cmVkVXBkYXRlKTtcbiAgICAgIHF1ZXVlLmxhc3RCYXNlVXBkYXRlID0gY2FwdHVyZWRVcGRhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKSB7XG4gICAgICBpZiAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbikge1xuICAgICAgICB2YXIgZW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGU7XG4gICAgICAgIGlmIChudWxsICE9PSBlbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSkgdGhyb3cgZW50YW5nbGVkQWN0aW9uVGhlbmFibGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcHJvcHMsXG4gICAgICBpbnN0YW5jZSRqc2NvbXAkMCxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITE7XG4gICAgICB2YXIgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBxdWV1ZS5zaGFyZWQ7XG4gICAgICB2YXIgZmlyc3RCYXNlVXBkYXRlID0gcXVldWUuZmlyc3RCYXNlVXBkYXRlLFxuICAgICAgICBsYXN0QmFzZVVwZGF0ZSA9IHF1ZXVlLmxhc3RCYXNlVXBkYXRlLFxuICAgICAgICBwZW5kaW5nUXVldWUgPSBxdWV1ZS5zaGFyZWQucGVuZGluZztcbiAgICAgIGlmIChudWxsICE9PSBwZW5kaW5nUXVldWUpIHtcbiAgICAgICAgcXVldWUuc2hhcmVkLnBlbmRpbmcgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFBlbmRpbmdVcGRhdGUgPSBwZW5kaW5nUXVldWUsXG4gICAgICAgICAgZmlyc3RQZW5kaW5nVXBkYXRlID0gbGFzdFBlbmRpbmdVcGRhdGUubmV4dDtcbiAgICAgICAgbGFzdFBlbmRpbmdVcGRhdGUubmV4dCA9IG51bGw7XG4gICAgICAgIG51bGwgPT09IGxhc3RCYXNlVXBkYXRlXG4gICAgICAgICAgPyAoZmlyc3RCYXNlVXBkYXRlID0gZmlyc3RQZW5kaW5nVXBkYXRlKVxuICAgICAgICAgIDogKGxhc3RCYXNlVXBkYXRlLm5leHQgPSBmaXJzdFBlbmRpbmdVcGRhdGUpO1xuICAgICAgICBsYXN0QmFzZVVwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlO1xuICAgICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgIChwZW5kaW5nUXVldWUgPSBjdXJyZW50Lmxhc3RCYXNlVXBkYXRlKSxcbiAgICAgICAgICBwZW5kaW5nUXVldWUgIT09IGxhc3RCYXNlVXBkYXRlICYmXG4gICAgICAgICAgICAobnVsbCA9PT0gcGVuZGluZ1F1ZXVlXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQuZmlyc3RCYXNlVXBkYXRlID0gZmlyc3RQZW5kaW5nVXBkYXRlKVxuICAgICAgICAgICAgICA6IChwZW5kaW5nUXVldWUubmV4dCA9IGZpcnN0UGVuZGluZ1VwZGF0ZSksXG4gICAgICAgICAgICAoY3VycmVudC5sYXN0QmFzZVVwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlKSkpO1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgIT09IGZpcnN0QmFzZVVwZGF0ZSkge1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSBxdWV1ZS5iYXNlU3RhdGU7XG4gICAgICAgIGxhc3RCYXNlVXBkYXRlID0gMDtcbiAgICAgICAgY3VycmVudCA9IGZpcnN0UGVuZGluZ1VwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlID0gbnVsbDtcbiAgICAgICAgcGVuZGluZ1F1ZXVlID0gZmlyc3RCYXNlVXBkYXRlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIHVwZGF0ZUxhbmUgPSBwZW5kaW5nUXVldWUubGFuZSAmIC01MzY4NzA5MTMsXG4gICAgICAgICAgICBpc0hpZGRlblVwZGF0ZSA9IHVwZGF0ZUxhbmUgIT09IHBlbmRpbmdRdWV1ZS5sYW5lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGlzSGlkZGVuVXBkYXRlXG4gICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICAgICAgOiAocmVuZGVyTGFuZXMgJiB1cGRhdGVMYW5lKSA9PT0gdXBkYXRlTGFuZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgMCAhPT0gdXBkYXRlTGFuZSAmJlxuICAgICAgICAgICAgICB1cGRhdGVMYW5lID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICAgICAgICAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICEwKTtcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQgPVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGxhbmU6IDAsXG4gICAgICAgICAgICAgICAgICB0YWc6IHBlbmRpbmdRdWV1ZS50YWcsXG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBwZW5kaW5nUXVldWUucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICB1cGRhdGVMYW5lID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICAgICAgICAgIHZhciBuZXh0UHJvcHMgPSBwcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlJGpzY29tcCQwO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnRpYWxTdGF0ZS50YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFJlcGxhY2VTdGF0ZTpcbiAgICAgICAgICAgICAgICAgIHBhcnRpYWxTdGF0ZSA9IHBhcnRpYWxTdGF0ZS5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBwYXJ0aWFsU3RhdGUuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUxhbmUubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxTdGF0ZS5jYWxsKGluc3RhbmNlLCBuZXdTdGF0ZSwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITE7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBwYXJ0aWFsU3RhdGU7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FwdHVyZVVwZGF0ZTpcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUxhbmUuZmxhZ3MgPSAodXBkYXRlTGFuZS5mbGFncyAmIC02NTUzNykgfCAxMjg7XG4gICAgICAgICAgICAgICAgY2FzZSBVcGRhdGVTdGF0ZTpcbiAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IHBhcnRpYWxTdGF0ZS5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITA7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxTdGF0ZSA9IG5leHRTdGF0ZS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlTGFuZS5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlLmNhbGwoaW5zdGFuY2UsIG5ld1N0YXRlLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBwYXJ0aWFsU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gcGFydGlhbFN0YXRlIHx8IHZvaWQgMCA9PT0gcGFydGlhbFN0YXRlKSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBhc3NpZ24oe30sIG5ld1N0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIEZvcmNlVXBkYXRlOlxuICAgICAgICAgICAgICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlTGFuZSA9IHBlbmRpbmdRdWV1ZS5jYWxsYmFjaztcbiAgICAgICAgICAgIG51bGwgIT09IHVwZGF0ZUxhbmUgJiZcbiAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NCksXG4gICAgICAgICAgICAgIGlzSGlkZGVuVXBkYXRlICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKSxcbiAgICAgICAgICAgICAgKGlzSGlkZGVuVXBkYXRlID0gcXVldWUuY2FsbGJhY2tzKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gaXNIaWRkZW5VcGRhdGVcbiAgICAgICAgICAgICAgICA/IChxdWV1ZS5jYWxsYmFja3MgPSBbdXBkYXRlTGFuZV0pXG4gICAgICAgICAgICAgICAgOiBpc0hpZGRlblVwZGF0ZS5wdXNoKHVwZGF0ZUxhbmUpKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZSA9IHtcbiAgICAgICAgICAgICAgbGFuZTogdXBkYXRlTGFuZSxcbiAgICAgICAgICAgICAgdGFnOiBwZW5kaW5nUXVldWUudGFnLFxuICAgICAgICAgICAgICBwYXlsb2FkOiBwZW5kaW5nUXVldWUucGF5bG9hZCxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IHBlbmRpbmdRdWV1ZS5jYWxsYmFjayxcbiAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgICA/ICgoZmlyc3RQZW5kaW5nVXBkYXRlID0gY3VycmVudCA9IGlzSGlkZGVuVXBkYXRlKSxcbiAgICAgICAgICAgICAgICAgIChsYXN0UGVuZGluZ1VwZGF0ZSA9IG5ld1N0YXRlKSlcbiAgICAgICAgICAgICAgICA6IChjdXJyZW50ID0gY3VycmVudC5uZXh0ID0gaXNIaWRkZW5VcGRhdGUpLFxuICAgICAgICAgICAgICAobGFzdEJhc2VVcGRhdGUgfD0gdXBkYXRlTGFuZSk7XG4gICAgICAgICAgcGVuZGluZ1F1ZXVlID0gcGVuZGluZ1F1ZXVlLm5leHQ7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHBlbmRpbmdRdWV1ZSlcbiAgICAgICAgICAgIGlmICgoKHBlbmRpbmdRdWV1ZSA9IHF1ZXVlLnNoYXJlZC5wZW5kaW5nKSwgbnVsbCA9PT0gcGVuZGluZ1F1ZXVlKSlcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZSA9IHBlbmRpbmdRdWV1ZSksXG4gICAgICAgICAgICAgICAgKHBlbmRpbmdRdWV1ZSA9IGlzSGlkZGVuVXBkYXRlLm5leHQpLFxuICAgICAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZS5uZXh0ID0gbnVsbCksXG4gICAgICAgICAgICAgICAgKHF1ZXVlLmxhc3RCYXNlVXBkYXRlID0gaXNIaWRkZW5VcGRhdGUpLFxuICAgICAgICAgICAgICAgIChxdWV1ZS5zaGFyZWQucGVuZGluZyA9IG51bGwpO1xuICAgICAgICB9IHdoaWxlICgxKTtcbiAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJiAobGFzdFBlbmRpbmdVcGRhdGUgPSBuZXdTdGF0ZSk7XG4gICAgICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlO1xuICAgICAgICBxdWV1ZS5maXJzdEJhc2VVcGRhdGUgPSBmaXJzdFBlbmRpbmdVcGRhdGU7XG4gICAgICAgIHF1ZXVlLmxhc3RCYXNlVXBkYXRlID0gY3VycmVudDtcbiAgICAgICAgbnVsbCA9PT0gZmlyc3RCYXNlVXBkYXRlICYmIChxdWV1ZS5zaGFyZWQubGFuZXMgPSAwKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IGxhc3RCYXNlVXBkYXRlO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGxhc3RCYXNlVXBkYXRlO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCBhcyBjYWxsYmFjay4gRXhwZWN0ZWQgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogXCIgK1xuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgKTtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhpZGRlbkNhbGxiYWNrcyh1cGRhdGVRdWV1ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGhpZGRlbkNhbGxiYWNrcyA9IHVwZGF0ZVF1ZXVlLnNoYXJlZC5oaWRkZW5DYWxsYmFja3M7XG4gICAgICBpZiAobnVsbCAhPT0gaGlkZGVuQ2FsbGJhY2tzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHVwZGF0ZVF1ZXVlLnNoYXJlZC5oaWRkZW5DYWxsYmFja3MgPSBudWxsLCB1cGRhdGVRdWV1ZSA9IDA7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPCBoaWRkZW5DYWxsYmFja3MubGVuZ3RoO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlKytcbiAgICAgICAgKVxuICAgICAgICAgIGNhbGxDYWxsYmFjayhoaWRkZW5DYWxsYmFja3NbdXBkYXRlUXVldWVdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Q2FsbGJhY2tzKHVwZGF0ZVF1ZXVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gdXBkYXRlUXVldWUuY2FsbGJhY2tzO1xuICAgICAgaWYgKG51bGwgIT09IGNhbGxiYWNrcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5jYWxsYmFja3MgPSBudWxsLCB1cGRhdGVRdWV1ZSA9IDA7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPCBjYWxsYmFja3MubGVuZ3RoO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlKytcbiAgICAgICAgKVxuICAgICAgICAgIGNhbGxDYWxsYmFjayhjYWxsYmFja3NbdXBkYXRlUXVldWVdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkUHJvZmlsZShjdXJyZW50KSB7XG4gICAgICByZXR1cm4gKGN1cnJlbnQubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIGhvb2tGbGFncykge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoaG9va0ZsYWdzLCBmaW5pc2hlZFdvcmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgaG9va0ZsYWdzXG4gICAgKSB7XG4gICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgaG9va0ZsYWdzLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoZmxhZ3MsIGZpbmlzaGVkV29yaykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlLFxuICAgICAgICAgIGxhc3RFZmZlY3QgPSBudWxsICE9PSB1cGRhdGVRdWV1ZSA/IHVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3QgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPT0gbGFzdEVmZmVjdCkge1xuICAgICAgICAgIHZhciBmaXJzdEVmZmVjdCA9IGxhc3RFZmZlY3QubmV4dDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA9IGZpcnN0RWZmZWN0O1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKHVwZGF0ZVF1ZXVlLnRhZyAmIGZsYWdzKSA9PT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdGFydGVkICYmXG4gICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0TW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChsYXN0RWZmZWN0ID0gdm9pZCAwKSxcbiAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMCksXG4gICAgICAgICAgICAgIChsYXN0RWZmZWN0ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNhbGxDcmVhdGVJbkRFVixcbiAgICAgICAgICAgICAgICB1cGRhdGVRdWV1ZVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMSksXG4gICAgICAgICAgICAgIChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdG9wcGVkKClcbiAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0TW91bnRTdG9wcGVkKCksXG4gICAgICAgICAgICAgIHZvaWQgMCAhPT0gbGFzdEVmZmVjdCAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBsYXN0RWZmZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBob29rTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgaG9va05hbWUgPVxuICAgICAgICAgICAgICAgIDAgIT09ICh1cGRhdGVRdWV1ZS50YWcgJiBMYXlvdXQpXG4gICAgICAgICAgICAgICAgICA/IFwidXNlTGF5b3V0RWZmZWN0XCJcbiAgICAgICAgICAgICAgICAgIDogMCAhPT0gKHVwZGF0ZVF1ZXVlLnRhZyAmIEluc2VydGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyBcInVzZUluc2VydGlvbkVmZmVjdFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgICAgICAgdmFyIGFkZGVuZHVtID0gdm9pZCAwO1xuICAgICAgICAgICAgICBhZGRlbmR1bSA9XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gbGFzdEVmZmVjdFxuICAgICAgICAgICAgICAgICAgPyBcIiBZb3UgcmV0dXJuZWQgbnVsbC4gSWYgeW91ciBlZmZlY3QgZG9lcyBub3QgcmVxdWlyZSBjbGVhbiB1cCwgcmV0dXJuIHVuZGVmaW5lZCAob3Igbm90aGluZykuXCJcbiAgICAgICAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbGFzdEVmZmVjdC50aGVuXG4gICAgICAgICAgICAgICAgICAgID8gXCJcXG5cXG5JdCBsb29rcyBsaWtlIHlvdSB3cm90ZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgaG9va05hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiKGFzeW5jICgpID0+IC4uLikgb3IgcmV0dXJuZWQgYSBQcm9taXNlLiBJbnN0ZWFkLCB3cml0ZSB0aGUgYXN5bmMgZnVuY3Rpb24gaW5zaWRlIHlvdXIgZWZmZWN0IGFuZCBjYWxsIGl0IGltbWVkaWF0ZWx5OlxcblxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBob29rTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgXCIoKCkgPT4ge1xcbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xcbiAgICAvLyBZb3UgY2FuIGF3YWl0IGhlcmVcXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBNeUFQSS5nZXREYXRhKHNvbWVJZCk7XFxuICAgIC8vIC4uLlxcbiAgfVxcbiAgZmV0Y2hEYXRhKCk7XFxufSwgW3NvbWVJZF0pOyAvLyBPciBbXSBpZiBlZmZlY3QgZG9lc24ndCBuZWVkIHByb3BzIG9yIHN0YXRlXFxuXFxuTGVhcm4gbW9yZSBhYm91dCBkYXRhIGZldGNoaW5nIHdpdGggSG9va3M6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaG9va3MtZGF0YS1mZXRjaGluZ1wiXG4gICAgICAgICAgICAgICAgICAgIDogXCIgWW91IHJldHVybmVkOiBcIiArIGxhc3RFZmZlY3Q7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobiwgYSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCIlcyBtdXN0IG5vdCByZXR1cm4gYW55dGhpbmcgYmVzaWRlcyBhIGZ1bmN0aW9uLCB3aGljaCBpcyB1c2VkIGZvciBjbGVhbi11cC4lc1wiLFxuICAgICAgICAgICAgICAgICAgICBuLFxuICAgICAgICAgICAgICAgICAgICBhXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaG9va05hbWUsXG4gICAgICAgICAgICAgICAgYWRkZW5kdW1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUubmV4dDtcbiAgICAgICAgICB9IHdoaWxlICh1cGRhdGVRdWV1ZSAhPT0gZmlyc3RFZmZlY3QpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgZmxhZ3MsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUsXG4gICAgICAgICAgbGFzdEVmZmVjdCA9IG51bGwgIT09IHVwZGF0ZVF1ZXVlID8gdXBkYXRlUXVldWUubGFzdEVmZmVjdCA6IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9PSBsYXN0RWZmZWN0KSB7XG4gICAgICAgICAgdmFyIGZpcnN0RWZmZWN0ID0gbGFzdEVmZmVjdC5uZXh0O1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKCh1cGRhdGVRdWV1ZS50YWcgJiBmbGFncykgPT09IGZsYWdzKSB7XG4gICAgICAgICAgICAgIHZhciBpbnN0ID0gdXBkYXRlUXVldWUuaW5zdCxcbiAgICAgICAgICAgICAgICBkZXN0cm95ID0gaW5zdC5kZXN0cm95O1xuICAgICAgICAgICAgICB2b2lkIDAgIT09IGRlc3Ryb3kgJiZcbiAgICAgICAgICAgICAgICAoKGluc3QuZGVzdHJveSA9IHZvaWQgMCksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgUGFzc2l2ZSkgIT09IE5vRmxhZ3NcbiAgICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0YXJ0ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogKGZsYWdzICYgTGF5b3V0KSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0VW5tb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0VW5tb3VudFN0YXJ0ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgKGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICEwKSxcbiAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNhbGxEZXN0cm95SW5ERVYsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgZGVzdHJveVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgKGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICExKSxcbiAgICAgICAgICAgICAgICAoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdFVubW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RvcHBlZCgpXG4gICAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdG9wcGVkKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUXVldWUgPSB1cGRhdGVRdWV1ZS5uZXh0O1xuICAgICAgICAgIH0gd2hpbGUgKHVwZGF0ZVF1ZXVlICE9PSBmaXJzdEVmZmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rUGFzc2l2ZU1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmssIGhvb2tGbGFncykge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoaG9va0ZsYWdzLCBmaW5pc2hlZFdvcmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGhvb2tGbGFnc1xuICAgICkge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDbGFzc0NhbGxiYWNrcyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSB1cGRhdGVRdWV1ZSkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgIChpbnN0YW5jZS5wcm9wcyAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIHVwZGF0ZSBxdWV1ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIGluc3RhbmNlLnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgdXBkYXRlIHF1ZXVlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0Q2FsbGJhY2tzLFxuICAgICAgICAgICAgdXBkYXRlUXVldWUsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbEdldFNuYXBzaG90QmVmb3JlVXBkYXRlcyhpbnN0YW5jZSwgcHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENsYXNzU25hcHNob3QoZmluaXNoZWRXb3JrLCBjdXJyZW50KSB7XG4gICAgICB2YXIgcHJldlByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzLFxuICAgICAgICBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIGZpbmlzaGVkV29yay50eXBlLmRlZmF1bHRQcm9wcyB8fFxuICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgKGN1cnJlbnQucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgKSxcbiAgICAgICAgY3VycmVudC5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICApKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXNvbHZlZFByZXZQcm9wcyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuZWxlbWVudFR5cGUgPT09IGZpbmlzaGVkV29yay50eXBlXG4gICAgICAgICk7XG4gICAgICAgIHZhciBzbmFwc2hvdCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjYWxsR2V0U25hcHNob3RCZWZvcmVVcGRhdGVzLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgcmVzb2x2ZWRQcmV2UHJvcHMsXG4gICAgICAgICAgcHJldlN0YXRlXG4gICAgICAgICk7XG4gICAgICAgIHByZXZQcm9wcyA9IGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlO1xuICAgICAgICB2b2lkIDAgIT09IHNuYXBzaG90IHx8XG4gICAgICAgICAgcHJldlByb3BzLmhhcyhmaW5pc2hlZFdvcmsudHlwZSkgfHxcbiAgICAgICAgICAocHJldlByb3BzLmFkZChmaW5pc2hlZFdvcmsudHlwZSksXG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmluaXNoZWRXb3JrLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCk6IEEgc25hcHNob3QgdmFsdWUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuIFlvdSBoYXZlIHJldHVybmVkIHVuZGVmaW5lZC5cIixcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgY3VycmVudC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IHNuYXBzaG90O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgaW5zdGFuY2VcbiAgICApIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoXG4gICAgICAgIGN1cnJlbnQudHlwZSxcbiAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzXG4gICAgICApO1xuICAgICAgaW5zdGFuY2Uuc3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICBzaG91bGRQcm9maWxlKGN1cnJlbnQpXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRJbkRFVixcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50SW5ERVYsXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIHJlZiA9IGZpbmlzaGVkV29yay5yZWY7XG4gICAgICBpZiAobnVsbCAhPT0gcmVmKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWYpXG4gICAgICAgICAgaWYgKHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHN0YXJ0RWZmZWN0VGltZXIoKSwgKGZpbmlzaGVkV29yay5yZWZDbGVhbnVwID0gcmVmKGluc3RhbmNlKSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgZmluaXNoZWRXb3JrLnJlZkNsZWFudXAgPSByZWYoaW5zdGFuY2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlZlxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFwiU3RyaW5nIHJlZnMgYXJlIG5vIGxvbmdlciBzdXBwb3J0ZWQuXCIpXG4gICAgICAgICAgICA6IHJlZi5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnRcIikgfHxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgcmVmIG9iamVjdCBwcm92aWRlZCBmb3IgJXMuIFVzZSBlaXRoZXIgYSByZWYtc2V0dGVyIGZ1bmN0aW9uIG9yIFJlYWN0LmNyZWF0ZVJlZigpLlwiLFxuICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKHJlZi5jdXJyZW50ID0gaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzYWZlbHlBdHRhY2hSZWYoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgY29tbWl0QXR0YWNoUmVmLCBjdXJyZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpIHtcbiAgICAgIHZhciByZWYgPSBjdXJyZW50LnJlZixcbiAgICAgICAgcmVmQ2xlYW51cCA9IGN1cnJlbnQucmVmQ2xlYW51cDtcbiAgICAgIGlmIChudWxsICE9PSByZWYpXG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWZDbGVhbnVwKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHJvZmlsZShjdXJyZW50KSlcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGFydEVmZmVjdFRpbWVyKCksIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZkNsZWFudXApO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKGN1cnJlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZkNsZWFudXApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIChjdXJyZW50LnJlZkNsZWFudXAgPSBudWxsKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LmFsdGVybmF0ZSksXG4gICAgICAgICAgICAgIG51bGwgIT0gY3VycmVudCAmJiAoY3VycmVudC5yZWZDbGVhbnVwID0gbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWYpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRQcm9maWxlKGN1cnJlbnQpKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0YXJ0RWZmZWN0VGltZXIoKSwgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgcmVmLCBudWxsKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbihjdXJyZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWYsIG51bGwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yJDYpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yJDYpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSByZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFByb2ZpbGVyKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY3VycmVudCxcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgIGVmZmVjdER1cmF0aW9uXG4gICAgKSB7XG4gICAgICB2YXIgX2ZpbmlzaGVkV29yayRtZW1vaXplID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMsXG4gICAgICAgIGlkID0gX2ZpbmlzaGVkV29yayRtZW1vaXplLmlkLFxuICAgICAgICBvbkNvbW1pdCA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZS5vbkNvbW1pdDtcbiAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZSA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZS5vblJlbmRlcjtcbiAgICAgIGN1cnJlbnQgPSBudWxsID09PSBjdXJyZW50ID8gXCJtb3VudFwiIDogXCJ1cGRhdGVcIjtcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCAmJiAoY3VycmVudCA9IFwibmVzdGVkLXVwZGF0ZVwiKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9maW5pc2hlZFdvcmskbWVtb2l6ZSAmJlxuICAgICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuYWN0dWFsRHVyYXRpb24sXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24sXG4gICAgICAgICAgZmluaXNoZWRXb3JrLmFjdHVhbFN0YXJ0VGltZSxcbiAgICAgICAgICBjb21taXRTdGFydFRpbWVcbiAgICAgICAgKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9uQ29tbWl0ICYmXG4gICAgICAgIG9uQ29tbWl0KFxuICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLmlkLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgZWZmZWN0RHVyYXRpb24sXG4gICAgICAgICAgY29tbWl0U3RhcnRUaW1lXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFByb2ZpbGVyUG9zdENvbW1pdEltcGwoXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBjdXJyZW50LFxuICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgcGFzc2l2ZUVmZmVjdER1cmF0aW9uXG4gICAgKSB7XG4gICAgICB2YXIgX2ZpbmlzaGVkV29yayRtZW1vaXplMiA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgZmluaXNoZWRXb3JrID0gX2ZpbmlzaGVkV29yayRtZW1vaXplMi5pZDtcbiAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUyLm9uUG9zdENvbW1pdDtcbiAgICAgIGN1cnJlbnQgPSBudWxsID09PSBjdXJyZW50ID8gXCJtb3VudFwiIDogXCJ1cGRhdGVcIjtcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCAmJiAoY3VycmVudCA9IFwibmVzdGVkLXVwZGF0ZVwiKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIgJiZcbiAgICAgICAgX2ZpbmlzaGVkV29yayRtZW1vaXplMihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBwYXNzaXZlRWZmZWN0RHVyYXRpb24sXG4gICAgICAgICAgY29tbWl0U3RhcnRUaW1lXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvc3RNb3VudChmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgIHByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMsXG4gICAgICAgIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjb21taXRNb3VudCxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvc3RVcGRhdGUoZmluaXNoZWRXb3JrLCBuZXdQcm9wcywgb2xkUHJvcHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjb21taXRVcGRhdGUsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc0hvc3RQYXJlbnQoZmliZXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDUgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICAzID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgMjYgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICAyNyA9PT0gZmliZXIudGFnIHx8XG4gICAgICAgIDQgPT09IGZpYmVyLnRhZ1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SG9zdFNpYmxpbmcoZmliZXIpIHtcbiAgICAgIGE6IGZvciAoOzspIHtcbiAgICAgICAgZm9yICg7IG51bGwgPT09IGZpYmVyLnNpYmxpbmc7ICkge1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlci5yZXR1cm4gfHwgaXNIb3N0UGFyZW50KGZpYmVyLnJldHVybikpIHJldHVybiBudWxsO1xuICAgICAgICAgIGZpYmVyID0gZmliZXIucmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZpYmVyLnNpYmxpbmcucmV0dXJuID0gZmliZXIucmV0dXJuO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGZpYmVyID0gZmliZXIuc2libGluZztcbiAgICAgICAgICA1ICE9PSBmaWJlci50YWcgJiZcbiAgICAgICAgICA2ICE9PSBmaWJlci50YWcgJiZcbiAgICAgICAgICAyNyAhPT0gZmliZXIudGFnICYmXG4gICAgICAgICAgMTggIT09IGZpYmVyLnRhZztcblxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoZmliZXIuZmxhZ3MgJiAyKSBjb250aW51ZSBhO1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlci5jaGlsZCB8fCA0ID09PSBmaWJlci50YWcpIGNvbnRpbnVlIGE7XG4gICAgICAgICAgZWxzZSAoZmliZXIuY2hpbGQucmV0dXJuID0gZmliZXIpLCAoZmliZXIgPSBmaWJlci5jaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoZmliZXIuZmxhZ3MgJiAyKSkgcmV0dXJuIGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihub2RlLCBiZWZvcmUsIHBhcmVudCkge1xuICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCA2ID09PSB0YWcpXG4gICAgICAgIChub2RlID0gbm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgIGJlZm9yZVxuICAgICAgICAgICAgPyA4ID09PSBwYXJlbnQubm9kZVR5cGVcbiAgICAgICAgICAgICAgPyBwYXJlbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlKVxuICAgICAgICAgICAgICA6IHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlKVxuICAgICAgICAgICAgOiAoOCA9PT0gcGFyZW50Lm5vZGVUeXBlXG4gICAgICAgICAgICAgICAgPyAoKGJlZm9yZSA9IHBhcmVudC5wYXJlbnROb2RlKSxcbiAgICAgICAgICAgICAgICAgIGJlZm9yZS5pbnNlcnRCZWZvcmUobm9kZSwgcGFyZW50KSlcbiAgICAgICAgICAgICAgICA6ICgoYmVmb3JlID0gcGFyZW50KSwgYmVmb3JlLmFwcGVuZENoaWxkKG5vZGUpKSxcbiAgICAgICAgICAgICAgKHBhcmVudCA9IHBhcmVudC5fcmVhY3RSb290Q29udGFpbmVyKSxcbiAgICAgICAgICAgICAgKG51bGwgIT09IHBhcmVudCAmJiB2b2lkIDAgIT09IHBhcmVudCkgfHxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBiZWZvcmUub25jbGljayB8fFxuICAgICAgICAgICAgICAgIChiZWZvcmUub25jbGljayA9IG5vb3AkMSkpO1xuICAgICAgZWxzZSBpZiAoNCAhPT0gdGFnICYmIDI3ICE9PSB0YWcgJiYgKChub2RlID0gbm9kZS5jaGlsZCksIG51bGwgIT09IG5vZGUpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZUludG9Db250YWluZXIobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgICBudWxsICE9PSBub2RlO1xuXG4gICAgICAgIClcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKG5vZGUsIGJlZm9yZSwgcGFyZW50KSxcbiAgICAgICAgICAgIChub2RlID0gbm9kZS5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKG5vZGUsIGJlZm9yZSwgcGFyZW50KSB7XG4gICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDYgPT09IHRhZylcbiAgICAgICAgKG5vZGUgPSBub2RlLnN0YXRlTm9kZSksXG4gICAgICAgICAgYmVmb3JlID8gcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBiZWZvcmUpIDogcGFyZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgZWxzZSBpZiAoNCAhPT0gdGFnICYmIDI3ICE9PSB0YWcgJiYgKChub2RlID0gbm9kZS5jaGlsZCksIG51bGwgIT09IG5vZGUpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgICAgIG51bGwgIT09IG5vZGU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICAobm9kZSA9IG5vZGUuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBsYWNlbWVudChmaW5pc2hlZFdvcmspIHtcbiAgICAgIGlmICgyNyAhPT0gZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBhOiB7XG4gICAgICAgICAgZm9yICh2YXIgcGFyZW50ID0gZmluaXNoZWRXb3JrLnJldHVybjsgbnVsbCAhPT0gcGFyZW50OyApIHtcbiAgICAgICAgICAgIGlmIChpc0hvc3RQYXJlbnQocGFyZW50KSkge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50RmliZXIgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIGhvc3QgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHBhcmVudEZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBwYXJlbnRGaWJlciA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUoZmluaXNoZWRXb3JrLCBwYXJlbnRGaWJlciwgcGFyZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHBhcmVudEZpYmVyLmZsYWdzICYgMzIgJiZcbiAgICAgICAgICAgICAgKHJlc2V0VGV4dENvbnRlbnQocGFyZW50KSwgKHBhcmVudEZpYmVyLmZsYWdzICY9IC0zMykpO1xuICAgICAgICAgICAgcGFyZW50RmliZXIgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKGZpbmlzaGVkV29yaywgcGFyZW50RmliZXIsIHBhcmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBwYXJlbnRGaWJlciA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgICBwYXJlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBob3N0IHBhcmVudCBmaWJlci4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRCZWZvcmVNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmlyc3RDaGlsZCkge1xuICAgICAgcm9vdCA9IHJvb3QuY29udGFpbmVySW5mbztcbiAgICAgIGV2ZW50c0VuYWJsZWQgPSBfZW5hYmxlZDtcbiAgICAgIHJvb3QgPSBnZXRBY3RpdmVFbGVtZW50RGVlcChyb290KTtcbiAgICAgIGlmIChoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMocm9vdCkpIHtcbiAgICAgICAgaWYgKFwic2VsZWN0aW9uU3RhcnRcIiBpbiByb290KVxuICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXAgPSB7XG4gICAgICAgICAgICBzdGFydDogcm9vdC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgIGVuZDogcm9vdC5zZWxlY3Rpb25FbmRcbiAgICAgICAgICB9O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgKChKU0NvbXBpbGVyX3RlbXAgPSByb290Lm93bmVyRG9jdW1lbnQpICYmXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLmRlZmF1bHRWaWV3KSB8fFxuICAgICAgICAgICAgICB3aW5kb3c7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLmdldFNlbGVjdGlvbiAmJiBKU0NvbXBpbGVyX3RlbXAuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIDAgIT09IHNlbGVjdGlvbi5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xuICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgICAgICAgICAgICBmb2N1c05vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlO1xuICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLm5vZGVUeXBlLCBmb2N1c05vZGUubm9kZVR5cGU7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUkMikge1xuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gMCxcbiAgICAgICAgICAgICAgICBzdGFydCA9IC0xLFxuICAgICAgICAgICAgICAgIGVuZCA9IC0xLFxuICAgICAgICAgICAgICAgIGluZGV4V2l0aGluQW5jaG9yID0gMCxcbiAgICAgICAgICAgICAgICBpbmRleFdpdGhpbkZvY3VzID0gMCxcbiAgICAgICAgICAgICAgICBub2RlID0gcm9vdCxcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgYjogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHQ7IDsgKSB7XG4gICAgICAgICAgICAgICAgICBub2RlICE9PSBKU0NvbXBpbGVyX3RlbXAgfHxcbiAgICAgICAgICAgICAgICAgICAgKDAgIT09IGFuY2hvck9mZnNldCAmJiAzICE9PSBub2RlLm5vZGVUeXBlKSB8fFxuICAgICAgICAgICAgICAgICAgICAoc3RhcnQgPSBsZW5ndGggKyBhbmNob3JPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gZm9jdXNOb2RlIHx8XG4gICAgICAgICAgICAgICAgICAgICgwICE9PSBzZWxlY3Rpb24gJiYgMyAhPT0gbm9kZS5ub2RlVHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGVuZCA9IGxlbmd0aCArIHNlbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAzID09PSBub2RlLm5vZGVUeXBlICYmIChsZW5ndGggKz0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSAobmV4dCA9IG5vZGUuZmlyc3RDaGlsZCkpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgPT09IHJvb3QpIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID09PSBKU0NvbXBpbGVyX3RlbXAgJiZcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleFdpdGhpbkFuY2hvciA9PT0gYW5jaG9yT2Zmc2V0ICYmXG4gICAgICAgICAgICAgICAgICAgIChzdGFydCA9IGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID09PSBmb2N1c05vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleFdpdGhpbkZvY3VzID09PSBzZWxlY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgKGVuZCA9IGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gKG5leHQgPSBub2RlLm5leHRTaWJsaW5nKSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICAgLTEgPT09IHN0YXJ0IHx8IC0xID09PSBlbmQgPyBudWxsIDogeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH07XG4gICAgICAgICAgICB9IGVsc2UgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IEpTQ29tcGlsZXJfdGVtcCB8fCB7IHN0YXJ0OiAwLCBlbmQ6IDAgfTtcbiAgICAgIH0gZWxzZSBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSB7XG4gICAgICAgIGZvY3VzZWRFbGVtOiByb290LFxuICAgICAgICBzZWxlY3Rpb25SYW5nZTogSlNDb21waWxlcl90ZW1wXG4gICAgICB9O1xuICAgICAgX2VuYWJsZWQgPSAhMTtcbiAgICAgIGZvciAobmV4dEVmZmVjdCA9IGZpcnN0Q2hpbGQ7IG51bGwgIT09IG5leHRFZmZlY3Q7IClcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoZmlyc3RDaGlsZCA9IG5leHRFZmZlY3QpLFxuICAgICAgICAgIChyb290ID0gZmlyc3RDaGlsZC5jaGlsZCksXG4gICAgICAgICAgMCAhPT0gKGZpcnN0Q2hpbGQuc3VidHJlZUZsYWdzICYgMTAyOCkgJiYgbnVsbCAhPT0gcm9vdClcbiAgICAgICAgKVxuICAgICAgICAgIChyb290LnJldHVybiA9IGZpcnN0Q2hpbGQpLCAobmV4dEVmZmVjdCA9IHJvb3QpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZm9yICg7IG51bGwgIT09IG5leHRFZmZlY3Q7ICkge1xuICAgICAgICAgICAgcm9vdCA9IGZpcnN0Q2hpbGQgPSBuZXh0RWZmZWN0O1xuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gcm9vdC5hbHRlcm5hdGU7XG4gICAgICAgICAgICBhbmNob3JPZmZzZXQgPSByb290LmZsYWdzO1xuICAgICAgICAgICAgc3dpdGNoIChyb290LnRhZykge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAwICE9PSAoYW5jaG9yT2Zmc2V0ICYgMTAyNCkgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfdGVtcCAmJlxuICAgICAgICAgICAgICAgICAgY29tbWl0Q2xhc3NTbmFwc2hvdChyb290LCBKU0NvbXBpbGVyX3RlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IChhbmNob3JPZmZzZXQgJiAxMDI0KSlcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKChyb290ID0gcm9vdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyksXG4gICAgICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSByb290Lm5vZGVUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgOSA9PT0gSlNDb21waWxlcl90ZW1wKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRhaW5lclNwYXJpbmdseShyb290KTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKDEgPT09IEpTQ29tcGlsZXJfdGVtcClcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyb290Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhFQURcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJCT0RZXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRhaW5lclNwYXJpbmdseShyb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICgwICE9PSAoYW5jaG9yT2Zmc2V0ICYgMTAyNCkpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QgPSBmaXJzdENoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gcm9vdCkge1xuICAgICAgICAgICAgICByb290LnJldHVybiA9IGZpcnN0Q2hpbGQucmV0dXJuO1xuICAgICAgICAgICAgICBuZXh0RWZmZWN0ID0gcm9vdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gZmlyc3RDaGlsZC5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgZmlyc3RDaGlsZCA9IHNob3VsZEZpcmVBZnRlckFjdGl2ZUluc3RhbmNlQmx1cjtcbiAgICAgIHNob3VsZEZpcmVBZnRlckFjdGl2ZUluc3RhbmNlQmx1ciA9ICExO1xuICAgICAgcmV0dXJuIGZpcnN0Q2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdExheW91dEVmZmVjdE9uRmliZXIoZmluaXNoZWRSb290LCBjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0SG9va0xheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCBMYXlvdXQgfCBIYXNFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChmbGFncyAmIDQpXG4gICAgICAgICAgICBpZiAoKChmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKSwgbnVsbCA9PT0gY3VycmVudCkpXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLmRlZmF1bHRQcm9wcyB8fFxuICAgICAgICAgICAgICAgIFwicmVmXCIgaW4gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgKGZpbmlzaGVkUm9vdC5wcm9wcyAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIGNvbXBvbmVudERpZE1vdW50LiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgY29tcG9uZW50RGlkTW91bnQuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHByZXZQcm9wcyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIChmaW5pc2hlZFJvb3QucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBjb21wb25lbnREaWRVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3Quc3RhdGUgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSBjb21wb25lbnREaWRVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRVcGRhdGVJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290Ll9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRVcGRhdGVJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290Ll9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNjQgJiYgY29tbWl0Q2xhc3NDYWxsYmFja3MoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJiBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGN1cnJlbnQgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZsYWdzICYgNjQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLCBudWxsICE9PSBmbGFncylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByZXZQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZmluaXNoZWRXb3JrLmNoaWxkKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay5jaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyA9IGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICBwcmV2UHJvcHMgPSBmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0Q2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICAgICAgICAgIHByZXZQcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbmlzaGVkUm9vdC5lZmZlY3REdXJhdGlvbiArPSBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMoY3VycmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiYgZmxhZ3MgJiA0ICYmIGNvbW1pdEhvc3RNb3VudChmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmIChmbGFncyAmIDQpIHtcbiAgICAgICAgICAgIGZsYWdzID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5lZmZlY3REdXJhdGlvbiArPSBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMoZmxhZ3MpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdFByb2ZpbGVyLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QuZWZmZWN0RHVyYXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0U3VzcGVuc2VIeWRyYXRpb25DYWxsYmFja3MoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHByZXZQcm9wcyA9XG4gICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSB8fCBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW47XG4gICAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPVxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgICB2YXIgcHJldk9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbixcbiAgICAgICAgICAgICAgcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gcHJldlByb3BzO1xuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBjdXJyZW50KSAmJlxuICAgICAgICAgICAgIXByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuXG4gICAgICAgICAgICAgID8gcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIDAgIT09IChmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzICYgODc3MilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbjtcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChcIm1hbnVhbFwiID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5tb2RlXG4gICAgICAgICAgICAgID8gc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybilcbiAgICAgICAgICAgICAgOiBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhY2hGaWJlckFmdGVyRWZmZWN0cyhmaWJlcikge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJlxuICAgICAgICAoKGZpYmVyLmFsdGVybmF0ZSA9IG51bGwpLCBkZXRhY2hGaWJlckFmdGVyRWZmZWN0cyhhbHRlcm5hdGUpKTtcbiAgICAgIGZpYmVyLmNoaWxkID0gbnVsbDtcbiAgICAgIGZpYmVyLmRlbGV0aW9ucyA9IG51bGw7XG4gICAgICBmaWJlci5zaWJsaW5nID0gbnVsbDtcbiAgICAgIDUgPT09IGZpYmVyLnRhZyAmJlxuICAgICAgICAoKGFsdGVybmF0ZSA9IGZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiBkZXRhY2hEZWxldGVkSW5zdGFuY2UoYWx0ZXJuYXRlKSk7XG4gICAgICBmaWJlci5zdGF0ZU5vZGUgPSBudWxsO1xuICAgICAgZmliZXIuX2RlYnVnT3duZXIgPSBudWxsO1xuICAgICAgZmliZXIucmV0dXJuID0gbnVsbDtcbiAgICAgIGZpYmVyLmRlcGVuZGVuY2llcyA9IG51bGw7XG4gICAgICBmaWJlci5tZW1vaXplZFByb3BzID0gbnVsbDtcbiAgICAgIGZpYmVyLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gbnVsbDtcbiAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IG51bGw7XG4gICAgICBmaWJlci51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgcGFyZW50XG4gICAgKSB7XG4gICAgICBmb3IgKHBhcmVudCA9IHBhcmVudC5jaGlsZDsgbnVsbCAhPT0gcGFyZW50OyApXG4gICAgICAgIGNvbW1pdERlbGV0aW9uRWZmZWN0c09uRmliZXIoXG4gICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgcGFyZW50XG4gICAgICAgICksXG4gICAgICAgICAgKHBhcmVudCA9IHBhcmVudC5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0RGVsZXRpb25FZmZlY3RzT25GaWJlcihcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBkZWxldGVkRmliZXJcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgaW5qZWN0ZWRIb29rICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudFxuICAgICAgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudChyZW5kZXJlcklELCBkZWxldGVkRmliZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICBzd2l0Y2ggKGRlbGV0ZWRGaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlZEZpYmVyLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gZGVsZXRlZEZpYmVyLm1lbW9pemVkU3RhdGUuY291bnQtLVxuICAgICAgICAgICAgOiBkZWxldGVkRmliZXIuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICgoZGVsZXRlZEZpYmVyID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRlbGV0ZWRGaWJlcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpO1xuICAgICAgICAgIHZhciBwcmV2SG9zdFBhcmVudCA9IGhvc3RQYXJlbnQsXG4gICAgICAgICAgICBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyID0gaG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkZWxldGVkRmliZXIgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGZvciAoZmluaXNoZWRSb290ID0gZGVsZXRlZEZpYmVyLmF0dHJpYnV0ZXM7IGZpbmlzaGVkUm9vdC5sZW5ndGg7IClcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5yZW1vdmVBdHRyaWJ1dGVOb2RlKGZpbmlzaGVkUm9vdFswXSk7XG4gICAgICAgICAgZGV0YWNoRGVsZXRlZEluc3RhbmNlKGRlbGV0ZWRGaWJlcik7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IHByZXZIb3N0UGFyZW50O1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IHByZXZIb3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHByZXZIb3N0UGFyZW50ID0gaG9zdFBhcmVudDtcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyID0gaG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gaG9zdFBhcmVudClcbiAgICAgICAgICAgIGlmIChob3N0UGFyZW50SXNDb250YWluZXIpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICBob3N0UGFyZW50LFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW1vdmVDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQsXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBudWxsICE9PSBob3N0UGFyZW50ICYmXG4gICAgICAgICAgICAoaG9zdFBhcmVudElzQ29udGFpbmVyXG4gICAgICAgICAgICAgID8gKChmaW5pc2hlZFJvb3QgPSBob3N0UGFyZW50KSxcbiAgICAgICAgICAgICAgICAoZGVsZXRlZEZpYmVyID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgOCA9PT0gZmluaXNoZWRSb290Lm5vZGVUeXBlXG4gICAgICAgICAgICAgICAgICA/IGNsZWFyU3VzcGVuc2VCb3VuZGFyeShmaW5pc2hlZFJvb3QucGFyZW50Tm9kZSwgZGVsZXRlZEZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAxID09PSBmaW5pc2hlZFJvb3Qubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KGZpbmlzaGVkUm9vdCwgZGVsZXRlZEZpYmVyKSxcbiAgICAgICAgICAgICAgICByZXRyeUlmQmxvY2tlZE9uKGZpbmlzaGVkUm9vdCkpXG4gICAgICAgICAgICAgIDogY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KGhvc3RQYXJlbnQsIGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHByZXZIb3N0UGFyZW50ID0gaG9zdFBhcmVudDtcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyID0gaG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITA7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgICBJbnNlcnRpb24sXG4gICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgTGF5b3V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIChzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKSxcbiAgICAgICAgICAgIChwcmV2SG9zdFBhcmVudCA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJldkhvc3RQYXJlbnQuY29tcG9uZW50V2lsbFVubW91bnQgJiZcbiAgICAgICAgICAgICAgc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KFxuICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgIHByZXZIb3N0UGFyZW50XG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9XG4gICAgICAgICAgICAocHJldkhvc3RQYXJlbnQgPSBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuKSB8fFxuICAgICAgICAgICAgbnVsbCAhPT0gZGVsZXRlZEZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICgoZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSksXG4gICAgICAgIG51bGwgIT09IGZpbmlzaGVkUm9vdCAmJlxuICAgICAgICAgICgoZmluaXNoZWRSb290ID0gZmluaXNoZWRSb290Lm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkUm9vdCAmJlxuICAgICAgICAgICAgKChmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFJvb3QuZGVoeWRyYXRlZCksIG51bGwgIT09IGZpbmlzaGVkUm9vdCkpKVxuICAgICAgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0SHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlLFxuICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZXRyeUNhY2hlKGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgdmFyIHJldHJ5Q2FjaGUgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgPT09IHJldHJ5Q2FjaGUgJiZcbiAgICAgICAgICAgIChyZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IG5ldyBQb3NzaWJseVdlYWtTZXQoKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHJ5Q2FjaGU7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIChyZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLl9yZXRyeUNhY2hlKSxcbiAgICAgICAgICAgIG51bGwgPT09IHJldHJ5Q2FjaGUgJiZcbiAgICAgICAgICAgICAgKHJldHJ5Q2FjaGUgPSBmaW5pc2hlZFdvcmsuX3JldHJ5Q2FjaGUgPSBuZXcgUG9zc2libHlXZWFrU2V0KCkpLFxuICAgICAgICAgICAgcmV0cnlDYWNoZVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlVuZXhwZWN0ZWQgU3VzcGVuc2UgaGFuZGxlciB0YWcgKFwiICtcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnRhZyArXG4gICAgICAgICAgICAgIFwiKS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrLCB3YWtlYWJsZXMpIHtcbiAgICAgIHZhciByZXRyeUNhY2hlID0gZ2V0UmV0cnlDYWNoZShmaW5pc2hlZFdvcmspO1xuICAgICAgd2FrZWFibGVzLmZvckVhY2goZnVuY3Rpb24gKHdha2VhYmxlKSB7XG4gICAgICAgIHZhciByZXRyeSA9IHJlc29sdmVSZXRyeVdha2VhYmxlLmJpbmQobnVsbCwgZmluaXNoZWRXb3JrLCB3YWtlYWJsZSk7XG4gICAgICAgIGlmICghcmV0cnlDYWNoZS5oYXMod2FrZWFibGUpKSB7XG4gICAgICAgICAgcmV0cnlDYWNoZS5hZGQod2FrZWFibGUpO1xuICAgICAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudClcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBpblByb2dyZXNzTGFuZXMgJiYgbnVsbCAhPT0gaW5Qcm9ncmVzc1Jvb3QpXG4gICAgICAgICAgICAgIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMoaW5Qcm9ncmVzc1Jvb3QsIGluUHJvZ3Jlc3NMYW5lcyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgZmluaXNoZWQgcm9vdCBhbmQgbGFuZXMgdG8gYmUgc2V0LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgd2FrZWFibGUudGhlbihyZXRyeSwgcmV0cnkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yaywgY29tbWl0dGVkTGFuZXMpIHtcbiAgICAgIGluUHJvZ3Jlc3NMYW5lcyA9IGNvbW1pdHRlZExhbmVzO1xuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSByb290O1xuICAgICAgY29tbWl0TXV0YXRpb25FZmZlY3RzT25GaWJlcihmaW5pc2hlZFdvcmssIHJvb3QpO1xuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSBpblByb2dyZXNzTGFuZXMgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QkanNjb21wJDAsIHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgZGVsZXRpb25zID0gcGFyZW50RmliZXIuZGVsZXRpb25zO1xuICAgICAgaWYgKG51bGwgIT09IGRlbGV0aW9ucylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxldGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IHJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyID0gZGVsZXRpb25zW2ldLFxuICAgICAgICAgICAgcGFyZW50ID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgYTogZm9yICg7IG51bGwgIT09IHBhcmVudDsgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcmVudC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICExO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobnVsbCA9PT0gaG9zdFBhcmVudClcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjb21taXREZWxldGlvbkVmZmVjdHNPbkZpYmVyKHJvb3QsIHJldHVybkZpYmVyLCBkZWxldGVkRmliZXIpO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICExO1xuICAgICAgICAgIHJvb3QgPSBkZWxldGVkRmliZXI7XG4gICAgICAgICAgcmV0dXJuRmliZXIgPSByb290LmFsdGVybmF0ZTtcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlciAmJiAocmV0dXJuRmliZXIucmV0dXJuID0gbnVsbCk7XG4gICAgICAgICAgcm9vdC5yZXR1cm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTM4NzgpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRNdXRhdGlvbkVmZmVjdHNPbkZpYmVyKHBhcmVudEZpYmVyLCByb290JGpzY29tcCQwKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRNdXRhdGlvbkVmZmVjdHNPbkZpYmVyKGZpbmlzaGVkV29yaywgcm9vdCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgICAgSW5zZXJ0aW9uIHwgSGFzRWZmZWN0LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KEluc2VydGlvbiB8IEhhc0VmZmVjdCwgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgICBMYXlvdXQgfCBIYXNFZmZlY3RcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGZsYWdzICYgNjQgJiZcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiAmJlxuICAgICAgICAgICAgKChmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrICYmXG4gICAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsuY2FsbGJhY2tzKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuc2hhcmVkLmhpZGRlbkNhbGxiYWNrcyksXG4gICAgICAgICAgICAgICAgKGZpbmlzaGVkV29yay5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzID1cbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgPyBmbGFncyA6IGN1cnJlbnQuY29uY2F0KGZsYWdzKSkpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgdmFyIGhvaXN0YWJsZVJvb3QgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgaWYgKGZsYWdzICYgNClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChyb290ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSA6IG51bGwpLFxuICAgICAgICAgICAgICAoZmxhZ3MgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBmbGFncylcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgICAgICAgICAgYjogc3dpdGNoIChmbGFncykge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0aXRsZVwiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIWhvaXN0YWJsZVJvb3QgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEluc3RhbmNlS2V5XSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290Lmhhc0F0dHJpYnV0ZShcIml0ZW1wcm9wXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChob2lzdGFibGVSb290ID0gcm9vdC5jcmVhdGVFbGVtZW50KGZsYWdzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWFkLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkID4gdGl0bGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaG9pc3RhYmxlUm9vdCwgZmxhZ3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF5YmVOb2RlcyA9IGdldEh5ZHJhdGFibGVIb2lzdGFibGVDYWNoZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW5rXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiaHJlZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICAgICAgICAgICApLmdldChmbGFncyArIChjdXJyZW50LmhyZWYgfHwgXCJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlTm9kZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF5YmVOb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGhvaXN0YWJsZVJvb3QgPSBtYXliZU5vZGVzW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5ocmVmID8gbnVsbCA6IGN1cnJlbnQuaHJlZikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJyZWxcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5yZWwgPyBudWxsIDogY3VycmVudC5yZWwpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQudGl0bGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5jcm9zc09yaWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY3Jvc3NPcmlnaW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSByb290LmNyZWF0ZUVsZW1lbnQoZmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaG9pc3RhYmxlUm9vdCwgZmxhZ3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWFkLmFwcGVuZENoaWxkKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heWJlTm9kZXMgPSBnZXRIeWRyYXRhYmxlSG9pc3RhYmxlQ2FjaGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtZXRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLmdldChmbGFncyArIChjdXJyZW50LmNvbnRlbnQgfHwgXCJcIikpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWF5YmVOb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGhvaXN0YWJsZVJvb3QgPSBtYXliZU5vZGVzW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIiArIGN1cnJlbnQuY29udGVudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQubmFtZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0eVwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LnByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5wcm9wZXJ0eSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJodHRwLWVxdWl2XCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuaHR0cEVxdWl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5odHRwRXF1aXYpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiY2hhcnNldFwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LmNoYXJTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNoYXJTZXQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSByb290LmNyZWF0ZUVsZW1lbnQoZmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaG9pc3RhYmxlUm9vdCwgZmxhZ3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWFkLmFwcGVuZENoaWxkKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2V0Tm9kZXNGb3JUeXBlIGVuY291bnRlcmVkIGEgdHlwZSBpdCBkaWQgbm90IGV4cGVjdDogXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFncyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBob2lzdGFibGVSb290O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IGZsYWdzO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgbW91bnRIb2lzdGFibGUoXG4gICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IGFjcXVpcmVSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgcm9vdCAhPT0gZmxhZ3NcbiAgICAgICAgICAgICAgICA/IChudWxsID09PSByb290XG4gICAgICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gY3VycmVudC5zdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGN1cnJlbnQpKVxuICAgICAgICAgICAgICAgICAgICA6IHJvb3QuY291bnQtLSxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IGZsYWdzXG4gICAgICAgICAgICAgICAgICAgID8gbW91bnRIb2lzdGFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IGFjcXVpcmVSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA6IG51bGwgPT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgICBjb21taXRIb3N0VXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgaWYgKGZsYWdzICYgNCAmJiBudWxsID09PSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlKSB7XG4gICAgICAgICAgICBob2lzdGFibGVSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIG1heWJlTm9kZXMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAoaSA9IGhvaXN0YWJsZVJvb3QuZmlyc3RDaGlsZDsgaTsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHROb2RlID0gaS5uZXh0U2libGluZyxcbiAgICAgICAgICAgICAgICAgIG5vZGVOYW1lID0gaS5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBpW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSB8fFxuICAgICAgICAgICAgICAgICAgXCJIRUFEXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcIkJPRFlcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIFwiU0NSSVBUXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcIlNUWUxFXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICAoXCJMSU5LXCIgPT09IG5vZGVOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVzaGVldFwiID09PSBpLnJlbC50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5yZW1vdmVDaGlsZChpKTtcbiAgICAgICAgICAgICAgICBpID0gbmV4dE5vZGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGFjcXVpcmVTaW5nbGV0b25JbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICBtYXliZU5vZGVzLFxuICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgaWYgKGZpbmlzaGVkV29yay5mbGFncyAmIDMyKSB7XG4gICAgICAgICAgICByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpbmlzaGVkV29yaywgcmVzZXRUZXh0Q29udGVudCwgcm9vdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBudWxsICE9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICgocm9vdCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzKSxcbiAgICAgICAgICAgIGNvbW1pdEhvc3RVcGRhdGUoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IHJvb3RcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIGZsYWdzICYgMTAyNCAmJlxuICAgICAgICAgICAgKChuZWVkc0Zvcm1SZXNldCA9ICEwKSxcbiAgICAgICAgICAgIFwiZm9ybVwiICE9PSBmaW5pc2hlZFdvcmsudHlwZSAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCBob3N0IGNvbXBvbmVudCB0eXBlLiBFeHBlY3RlZCBhIGZvcm0uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgaWYgKGZsYWdzICYgNCkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhpcyBzaG91bGQgaGF2ZSBhIHRleHQgbm9kZSBpbml0aWFsaXplZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogZmxhZ3M7XG4gICAgICAgICAgICByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRUZXh0VXBkYXRlLFxuICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBmbGFnc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICB0YWdDYWNoZXMgPSBudWxsO1xuICAgICAgICAgIG1heWJlTm9kZXMgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGdldEhvaXN0YWJsZVJvb3Qocm9vdC5jb250YWluZXJJbmZvKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBtYXliZU5vZGVzO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZFxuICAgICAgICAgIClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRIeWRyYXRlZENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICByb290LmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIG5lZWRzRm9ybVJlc2V0ICYmXG4gICAgICAgICAgICAoKG5lZWRzRm9ybVJlc2V0ID0gITEpLCByZWN1cnNpdmVseVJlc2V0Rm9ybXMoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgcm9vdC5lZmZlY3REdXJhdGlvbiArPSBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBmbGFncyA9IGN1cnJlbnRIb2lzdGFibGVSb290O1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gZ2V0SG9pc3RhYmxlUm9vdChcbiAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gZmxhZ3M7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgZmxhZ3MgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUuZWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhmbGFncyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5jaGlsZC5mbGFncyAmIDgxOTIgJiZcbiAgICAgICAgICAgIChudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSkgIT09XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkgJiZcbiAgICAgICAgICAgIChnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lID0gbm93JDEoKSk7XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlID0gbnVsbCksXG4gICAgICAgICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrLCBmbGFncykpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgY3VycmVudC5yZXR1cm4pKTtcbiAgICAgICAgICBpID0gbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbmV4dE5vZGUgPSBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBub2RlTmFtZSA9IG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbjtcbiAgICAgICAgICB2YXIgcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IG5vZGVOYW1lIHx8IGk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8IG5leHROb2RlO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gbm9kZU5hbWU7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgcm9vdC5fY3VycmVudCA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgICByb290Ll92aXNpYmlsaXR5ICY9IH5PZmZzY3JlZW5EZXRhY2hlZDtcbiAgICAgICAgICByb290Ll92aXNpYmlsaXR5IHw9IHJvb3QuX3BlbmRpbmdWaXNpYmlsaXR5ICYgT2Zmc2NyZWVuRGV0YWNoZWQ7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmxhZ3MgJiA4MTkyICYmXG4gICAgICAgICAgICAoKHJvb3QuX3Zpc2liaWxpdHkgPSBpXG4gICAgICAgICAgICAgID8gcm9vdC5fdmlzaWJpbGl0eSAmIH5PZmZzY3JlZW5WaXNpYmxlXG4gICAgICAgICAgICAgIDogcm9vdC5fdmlzaWJpbGl0eSB8IE9mZnNjcmVlblZpc2libGUpLFxuICAgICAgICAgICAgaSAmJlxuICAgICAgICAgICAgICAoKHJvb3QgPSBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gfHwgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiksXG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSB8fFxuICAgICAgICAgICAgICAgIHJvb3QgfHxcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspKSxcbiAgICAgICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgICAgIFwibWFudWFsXCIgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLm1vZGUpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYTogZm9yIChjdXJyZW50ID0gbnVsbCwgcm9vdCA9IGZpbmlzaGVkV29yazsgOyApIHtcbiAgICAgICAgICAgICAgaWYgKDUgPT09IHJvb3QudGFnIHx8IDI2ID09PSByb290LnRhZyB8fCAyNyA9PT0gcm9vdC50YWcpIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBjdXJyZW50ID0gcm9vdDtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChob2lzdGFibGVSb290ID0gbmV4dE5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICBpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWRlSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUuc3RhdGVOb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKG5leHROb2RlLCBuZXh0Tm9kZS5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoNiA9PT0gcm9vdC50YWcpIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSByb290O1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgKG1heWJlTm9kZXMgPSBuZXh0Tm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgIGlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRleHRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZU5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWRlVGV4dEluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IobmV4dE5vZGUsIG5leHROb2RlLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAoKDIyICE9PSByb290LnRhZyAmJiAyMyAhPT0gcm9vdC50YWcpIHx8XG4gICAgICAgICAgICAgICAgICBudWxsID09PSByb290Lm1lbW9pemVkU3RhdGUgfHxcbiAgICAgICAgICAgICAgICAgIHJvb3QgPT09IGZpbmlzaGVkV29yaykgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSByb290LmNoaWxkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJvb3QuY2hpbGQucmV0dXJuID0gcm9vdDtcbiAgICAgICAgICAgICAgICByb290ID0gcm9vdC5jaGlsZDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocm9vdCA9PT0gZmluaXNoZWRXb3JrKSBicmVhayBhO1xuICAgICAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gcm9vdC5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gcm9vdC5yZXR1cm4gfHwgcm9vdC5yZXR1cm4gPT09IGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9PT0gcm9vdCAmJiAoY3VycmVudCA9IG51bGwpO1xuICAgICAgICAgICAgICAgIHJvb3QgPSByb290LnJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50ID09PSByb290ICYmIChjdXJyZW50ID0gbnVsbCk7XG4gICAgICAgICAgICAgIHJvb3Quc2libGluZy5yZXR1cm4gPSByb290LnJldHVybjtcbiAgICAgICAgICAgICAgcm9vdCA9IHJvb3Quc2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChjdXJyZW50ID0gZmxhZ3MucmV0cnlRdWV1ZSksXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAoKGZsYWdzLnJldHJ5UXVldWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgY3VycmVudCkpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBmbGFncyAmJlxuICAgICAgICAgICAgICAoKGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgZmxhZ3MpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIGlmIChmbGFncyAmIDIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaW5pc2hlZFdvcmssIGNvbW1pdFBsYWNlbWVudCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hlZFdvcmsuZmxhZ3MgJj0gLTM7XG4gICAgICB9XG4gICAgICBmbGFncyAmIDQwOTYgJiYgKGZpbmlzaGVkV29yay5mbGFncyAmPSAtNDA5Nyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5UmVzZXRGb3JtcyhwYXJlbnRGaWJlcikge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjQpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7ICkge1xuICAgICAgICAgIHZhciBmaWJlciA9IHBhcmVudEZpYmVyO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5UmVzZXRGb3JtcyhmaWJlcik7XG4gICAgICAgICAgNSA9PT0gZmliZXIudGFnICYmIGZpYmVyLmZsYWdzICYgMTAyNCAmJiBmaWJlci5zdGF0ZU5vZGUucmVzZXQoKTtcbiAgICAgICAgICBwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIHJvb3QsIGNvbW1pdHRlZExhbmVzKSB7XG4gICAgICBpblByb2dyZXNzTGFuZXMgPSBjb21taXR0ZWRMYW5lcztcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gcm9vdDtcbiAgICAgIGNvbW1pdExheW91dEVmZmVjdE9uRmliZXIocm9vdCwgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSwgZmluaXNoZWRXb3JrKTtcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gaW5Qcm9ncmVzc0xhbmVzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMocm9vdCwgcGFyZW50RmliZXIpIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiA4NzcyKVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0TGF5b3V0RWZmZWN0T25GaWJlcihyb290LCBwYXJlbnRGaWJlci5hbHRlcm5hdGUsIHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgTGF5b3V0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCAmJlxuICAgICAgICAgICAgc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHNhZmVseURldGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKHBhcmVudEZpYmVyKSB7XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIGRpc2FwcGVhckxheW91dEVmZmVjdHMocGFyZW50RmliZXIpLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBjdXJyZW50LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICkge1xuICAgICAgdmFyIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgY29tbWl0SG9va0xheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCBMYXlvdXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGN1cnJlbnQuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudEluREVWLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgICAgZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRIaWRkZW5DYWxsYmFja3MsXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3RcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDY0ICYmXG4gICAgICAgICAgICBjb21taXRDbGFzc0NhbGxiYWNrcyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0SG9zdE1vdW50KGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgaWYgKGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiYgZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgICBmbGFncyA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzLmVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICAgIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhmbGFncyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0UHJvZmlsZXIsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMuZWZmZWN0RHVyYXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0U3VzcGVuc2VIeWRyYXRpb25DYWxsYmFja3MoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgPVxuICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmIDAgIT09IChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiA4NzcyKTtcbiAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgcmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBwYXJlbnRGaWJlci5hbHRlcm5hdGUsXG4gICAgICAgICAgcGFyZW50RmliZXIsXG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICApLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIHByZXZpb3VzQ2FjaGUgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAocHJldmlvdXNDYWNoZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCk7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAoY3VycmVudCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKTtcbiAgICAgIGN1cnJlbnQgIT09IHByZXZpb3VzQ2FjaGUgJiZcbiAgICAgICAgKG51bGwgIT0gY3VycmVudCAmJiByZXRhaW5DYWNoZShjdXJyZW50KSxcbiAgICAgICAgbnVsbCAhPSBwcmV2aW91c0NhY2hlICYmIHJlbGVhc2VDYWNoZShwcmV2aW91c0NhY2hlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENhY2hlUGFzc2l2ZU1vdW50RWZmZWN0KGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlICYmXG4gICAgICAgIChjdXJyZW50ID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlLmNhY2hlKTtcbiAgICAgIGZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlO1xuICAgICAgZmluaXNoZWRXb3JrICE9PSBjdXJyZW50ICYmXG4gICAgICAgIChyZXRhaW5DYWNoZShmaW5pc2hlZFdvcmspLCBudWxsICE9IGN1cnJlbnQgJiYgcmVsZWFzZUNhY2hlKGN1cnJlbnQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICByb290LFxuICAgICAgcGFyZW50RmliZXIsXG4gICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRQYXNzaXZlTW91bnRPbkZpYmVyKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UGFzc2l2ZU1vdW50T25GaWJlcihcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICApIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlTW91bnRFZmZlY3RzKGZpbmlzaGVkV29yaywgUGFzc2l2ZSB8IEhhc0VmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB2YXIgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICAoKGNvbW1pdHRlZExhbmVzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgIChjb21taXR0ZWRMYW5lcyA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZSksXG4gICAgICAgICAgICAoZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUuY2FjaGUpLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrICE9PSBjb21taXR0ZWRMYW5lcyAmJlxuICAgICAgICAgICAgICAocmV0YWluQ2FjaGUoZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBjb21taXR0ZWRMYW5lcyAmJiByZWxlYXNlQ2FjaGUoY29tbWl0dGVkTGFuZXMpKSk7XG4gICAgICAgICAgZmluaXNoZWRSb290LnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgaWYgKGZsYWdzICYgMjA0OCkge1xuICAgICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgZmluaXNoZWRSb290LnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRQcm9maWxlclBvc3RDb21taXRJbXBsLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QucGFzc2l2ZUVmZmVjdER1cmF0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gcHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWRcbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZFxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiAoKHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSB8PVxuICAgICAgICAgICAgICAgICAgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQpLFxuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAwICE9PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgPVxuICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgIDAgIT09IChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI1Nik7XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIHJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICksXG4gICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlTW91bnRFZmZlY3RzKGZpbmlzaGVkV29yaywgUGFzc2l2ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTIgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IF9pbnN0YW5jZTIuX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZFxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogKChfaW5zdGFuY2UyLl92aXNpYmlsaXR5IHw9IE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdE9mZnNjcmVlblBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290JGpzY29tcCQwLFxuICAgICAgcGFyZW50RmliZXJcbiAgICApIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI1NilcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKSB7XG4gICAgICAgICAgdmFyIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkUm9vdCRqc2NvbXAkMCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayA9IHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgICAgICBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICAgICAgY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KHBhcmVudEZpYmVyKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgc3VzcGVuc2V5Q29tbWl0RmxhZylcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXRPbkZpYmVyKHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0T25GaWJlcihmaWJlcikge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgICAgIGZpYmVyLmZsYWdzICYgc3VzcGVuc2V5Q29tbWl0RmxhZyAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgc3VzcGVuZFJlc291cmNlKFxuICAgICAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgZmliZXIubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICAgICAgZmliZXIubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHZhciBwcmV2aW91c0hvaXN0YWJsZVJvb3QgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGdldEhvaXN0YWJsZVJvb3QoXG4gICAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IHByZXZpb3VzSG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBudWxsID09PSBmaWJlci5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAoKHByZXZpb3VzSG9pc3RhYmxlUm9vdCA9IGZpYmVyLmFsdGVybmF0ZSksXG4gICAgICAgICAgICBudWxsICE9PSBwcmV2aW91c0hvaXN0YWJsZVJvb3QgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHByZXZpb3VzSG9pc3RhYmxlUm9vdC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgID8gKChwcmV2aW91c0hvaXN0YWJsZVJvb3QgPSBzdXNwZW5zZXlDb21taXRGbGFnKSxcbiAgICAgICAgICAgICAgICAoc3VzcGVuc2V5Q29tbWl0RmxhZyA9IDE2Nzc3MjE2KSxcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpLFxuICAgICAgICAgICAgICAgIChzdXNwZW5zZXlDb21taXRGbGFnID0gcHJldmlvdXNIb2lzdGFibGVSb290KSlcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhY2hBbHRlcm5hdGVTaWJsaW5ncyhwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIHByZXZpb3VzRmliZXIgPSBwYXJlbnRGaWJlci5hbHRlcm5hdGU7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHByZXZpb3VzRmliZXIgJiZcbiAgICAgICAgKChwYXJlbnRGaWJlciA9IHByZXZpb3VzRmliZXIuY2hpbGQpLCBudWxsICE9PSBwYXJlbnRGaWJlcilcbiAgICAgICkge1xuICAgICAgICBwcmV2aW91c0ZpYmVyLmNoaWxkID0gbnVsbDtcbiAgICAgICAgZG9cbiAgICAgICAgICAocHJldmlvdXNGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyLnNpYmxpbmcgPSBudWxsKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHByZXZpb3VzRmliZXIpO1xuICAgICAgICB3aGlsZSAobnVsbCAhPT0gcGFyZW50RmliZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgZGVsZXRpb25zID0gcGFyZW50RmliZXIuZGVsZXRpb25zO1xuICAgICAgaWYgKDAgIT09IChwYXJlbnRGaWJlci5mbGFncyAmIDE2KSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gZGVsZXRpb25zKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGRlbGV0aW9uc1tpXTtcbiAgICAgICAgICAgIG5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRFZmZlY3RzSW5zaWRlT2ZEZWxldGVkVHJlZV9iZWdpbihcbiAgICAgICAgICAgICAgY2hpbGRUb0RlbGV0ZSxcbiAgICAgICAgICAgICAgcGFyZW50RmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICBkZXRhY2hBbHRlcm5hdGVTaWJsaW5ncyhwYXJlbnRGaWJlcik7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRQYXNzaXZlVW5tb3VudE9uRmliZXIocGFyZW50RmliZXIpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBhc3NpdmVVbm1vdW50T25GaWJlcihmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5mbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgICAgUGFzc2l2ZSB8IEhhc0VmZmVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHZhciBwcmV2RWZmZWN0RHVyYXRpb24gPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQgJiZcbiAgICAgICAgICAobnVsbCA9PT0gZmluaXNoZWRXb3JrLnJldHVybiB8fCAxMyAhPT0gZmluaXNoZWRXb3JrLnJldHVybi50YWcpXG4gICAgICAgICAgICA/ICgocHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICY9XG4gICAgICAgICAgICAgICAgfk9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspKVxuICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgZGVsZXRpb25zID0gcGFyZW50RmliZXIuZGVsZXRpb25zO1xuICAgICAgaWYgKDAgIT09IChwYXJlbnRGaWJlci5mbGFncyAmIDE2KSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gZGVsZXRpb25zKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGRlbGV0aW9uc1tpXTtcbiAgICAgICAgICAgIG5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRFZmZlY3RzSW5zaWRlT2ZEZWxldGVkVHJlZV9iZWdpbihcbiAgICAgICAgICAgICAgY2hpbGRUb0RlbGV0ZSxcbiAgICAgICAgICAgICAgcGFyZW50RmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICBkZXRhY2hBbHRlcm5hdGVTaWJsaW5ncyhwYXJlbnRGaWJlcik7XG4gICAgICB9XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIGRpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0KHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzY29ubmVjdFBhc3NpdmVFZmZlY3QoZmluaXNoZWRXb3JrKSB7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgUGFzc2l2ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgaW5zdGFuY2UuX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCAmJlxuICAgICAgICAgICAgKChpbnN0YW5jZS5fdmlzaWJpbGl0eSAmPSB+T2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQpLFxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBhc3NpdmVVbm1vdW50RWZmZWN0c0luc2lkZU9mRGVsZXRlZFRyZWVfYmVnaW4oXG4gICAgICBkZWxldGVkU3VidHJlZVJvb3QsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gbmV4dEVmZmVjdDsgKSB7XG4gICAgICAgIHZhciBmaWJlciA9IG5leHRFZmZlY3QsXG4gICAgICAgICAgY3VycmVudCA9IGZpYmVyO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnQudGFnKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgIFBhc3NpdmVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgICBudWxsICE9IGN1cnJlbnQgJiYgcmV0YWluQ2FjaGUoY3VycmVudCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgIHJlbGVhc2VDYWNoZShjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGUpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIChjdXJyZW50LnJldHVybiA9IGZpYmVyKSwgKG5leHRFZmZlY3QgPSBjdXJyZW50KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGE6IGZvciAoZmliZXIgPSBkZWxldGVkU3VidHJlZVJvb3Q7IG51bGwgIT09IG5leHRFZmZlY3Q7ICkge1xuICAgICAgICAgICAgY3VycmVudCA9IG5leHRFZmZlY3Q7XG4gICAgICAgICAgICB2YXIgc2libGluZyA9IGN1cnJlbnQuc2libGluZyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBjdXJyZW50LnJldHVybjtcbiAgICAgICAgICAgIGRldGFjaEZpYmVyQWZ0ZXJFZmZlY3RzKGN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IGZpYmVyKSB7XG4gICAgICAgICAgICAgIG5leHRFZmZlY3QgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG51bGwgIT09IHNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgc2libGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgbmV4dEVmZmVjdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBGaWJlck5vZGUodGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkge1xuICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgIHRoaXMuc2libGluZyA9XG4gICAgICAgIHRoaXMuY2hpbGQgPVxuICAgICAgICB0aGlzLnJldHVybiA9XG4gICAgICAgIHRoaXMuc3RhdGVOb2RlID1cbiAgICAgICAgdGhpcy50eXBlID1cbiAgICAgICAgdGhpcy5lbGVtZW50VHlwZSA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgdGhpcy5yZWZDbGVhbnVwID0gdGhpcy5yZWYgPSBudWxsO1xuICAgICAgdGhpcy5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG4gICAgICB0aGlzLmRlcGVuZGVuY2llcyA9XG4gICAgICAgIHRoaXMubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgIHRoaXMudXBkYXRlUXVldWUgPVxuICAgICAgICB0aGlzLm1lbW9pemVkUHJvcHMgPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgdGhpcy5zdWJ0cmVlRmxhZ3MgPSB0aGlzLmZsYWdzID0gMDtcbiAgICAgIHRoaXMuZGVsZXRpb25zID0gbnVsbDtcbiAgICAgIHRoaXMuY2hpbGRMYW5lcyA9IHRoaXMubGFuZXMgPSAwO1xuICAgICAgdGhpcy5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgdGhpcy5hY3R1YWxEdXJhdGlvbiA9IC0wO1xuICAgICAgdGhpcy5hY3R1YWxTdGFydFRpbWUgPSAtMS4xO1xuICAgICAgdGhpcy50cmVlQmFzZUR1cmF0aW9uID0gdGhpcy5zZWxmQmFzZUR1cmF0aW9uID0gLTA7XG4gICAgICB0aGlzLl9kZWJ1Z093bmVyID0gdGhpcy5fZGVidWdJbmZvID0gbnVsbDtcbiAgICAgIHRoaXMuX2RlYnVnTmVlZHNSZW1vdW50ID0gITE7XG4gICAgICB0aGlzLl9kZWJ1Z0hvb2tUeXBlcyA9IG51bGw7XG4gICAgICBoYXNCYWRNYXBQb2x5ZmlsbCB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBPYmplY3QucHJldmVudEV4dGVuc2lvbnMgfHxcbiAgICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gICAgICBDb21wb25lbnQgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICAgICAgcmV0dXJuICEoIUNvbXBvbmVudCB8fCAhQ29tcG9uZW50LmlzUmVhY3RDb21wb25lbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBwZW5kaW5nUHJvcHMpIHtcbiAgICAgIHZhciB3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzID0gY3JlYXRlRmliZXIoXG4gICAgICAgICAgICBjdXJyZW50LnRhZyxcbiAgICAgICAgICAgIHBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIGN1cnJlbnQua2V5LFxuICAgICAgICAgICAgY3VycmVudC5tb2RlXG4gICAgICAgICAgKSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmVsZW1lbnRUeXBlID0gY3VycmVudC5lbGVtZW50VHlwZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50LnN0YXRlTm9kZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyID0gY3VycmVudC5fZGVidWdPd25lciksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLl9kZWJ1Z0hvb2tUeXBlcyA9IGN1cnJlbnQuX2RlYnVnSG9va1R5cGVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gY3VycmVudCksXG4gICAgICAgICAgKGN1cnJlbnQuYWx0ZXJuYXRlID0gd29ya0luUHJvZ3Jlc3MpKVxuICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuYWN0dWFsRHVyYXRpb24gPSAtMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmFjdHVhbFN0YXJ0VGltZSA9IC0xLjEpKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzID0gY3VycmVudC5mbGFncyAmIDMxNDU3MjgwO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IGN1cnJlbnQuY2hpbGRMYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzID0gY3VycmVudC5sYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZDtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuICAgICAgcGVuZGluZ1Byb3BzID0gY3VycmVudC5kZXBlbmRlbmNpZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPVxuICAgICAgICBudWxsID09PSBwZW5kaW5nUHJvcHNcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgbGFuZXM6IHBlbmRpbmdQcm9wcy5sYW5lcyxcbiAgICAgICAgICAgICAgZmlyc3RDb250ZXh0OiBwZW5kaW5nUHJvcHMuZmlyc3RDb250ZXh0LFxuICAgICAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiBwZW5kaW5nUHJvcHMuX2RlYnVnVGhlbmFibGVTdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnNpYmxpbmcgPSBjdXJyZW50LnNpYmxpbmc7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5pbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5yZWYgPSBjdXJyZW50LnJlZjtcbiAgICAgIHdvcmtJblByb2dyZXNzLnJlZkNsZWFudXAgPSBjdXJyZW50LnJlZkNsZWFudXA7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zZWxmQmFzZUR1cmF0aW9uID0gY3VycmVudC5zZWxmQmFzZUR1cmF0aW9uO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiA9IGN1cnJlbnQudHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z0luZm8gPSBjdXJyZW50Ll9kZWJ1Z0luZm87XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdOZWVkc1JlbW91bnQgPSBjdXJyZW50Ll9kZWJ1Z05lZWRzUmVtb3VudDtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0V29ya0luUHJvZ3Jlc3Mod29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAzMTQ1NzI4MjtcbiAgICAgIHZhciBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnNlbGZCYXNlRHVyYXRpb24gPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiA9IDApKVxuICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IGN1cnJlbnQuY2hpbGRMYW5lcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gY3VycmVudC5sYW5lcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlKSxcbiAgICAgICAgICAocmVuZGVyTGFuZXMgPSBjdXJyZW50LmRlcGVuZGVuY2llcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9XG4gICAgICAgICAgICBudWxsID09PSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICBsYW5lczogcmVuZGVyTGFuZXMubGFuZXMsXG4gICAgICAgICAgICAgICAgICBmaXJzdENvbnRleHQ6IHJlbmRlckxhbmVzLmZpcnN0Q29udGV4dCxcbiAgICAgICAgICAgICAgICAgIF9kZWJ1Z1RoZW5hYmxlU3RhdGU6IHJlbmRlckxhbmVzLl9kZWJ1Z1RoZW5hYmxlU3RhdGVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IGN1cnJlbnQuc2VsZkJhc2VEdXJhdGlvbiksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb24pKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKFxuICAgICAgdHlwZSxcbiAgICAgIGtleSxcbiAgICAgIHBlbmRpbmdQcm9wcyxcbiAgICAgIG93bmVyLFxuICAgICAgbW9kZSxcbiAgICAgIGxhbmVzXG4gICAgKSB7XG4gICAgICB2YXIgZmliZXJUYWcgPSAwLFxuICAgICAgICByZXNvbHZlZFR5cGUgPSB0eXBlO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHNob3VsZENvbnN0cnVjdCh0eXBlKSAmJiAoZmliZXJUYWcgPSAxKSxcbiAgICAgICAgICAocmVzb2x2ZWRUeXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHJlc29sdmVkVHlwZSkpO1xuICAgICAgZWxzZSBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIChmaWJlclRhZyA9IGdldEhvc3RDb250ZXh0KCkpLFxuICAgICAgICAgIChmaWJlclRhZyA9IGlzSG9zdEhvaXN0YWJsZVR5cGUodHlwZSwgcGVuZGluZ1Byb3BzLCBmaWJlclRhZylcbiAgICAgICAgICAgID8gMjZcbiAgICAgICAgICAgIDogXCJodG1sXCIgPT09IHR5cGUgfHwgXCJoZWFkXCIgPT09IHR5cGUgfHwgXCJib2R5XCIgPT09IHR5cGVcbiAgICAgICAgICAgICAgPyAyN1xuICAgICAgICAgICAgICA6IDUpO1xuICAgICAgZWxzZVxuICAgICAgICBhOiBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgIHBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgICBmaWJlclRhZyA9IDg7XG4gICAgICAgICAgICBtb2RlIHw9IFN0cmljdExlZ2FjeU1vZGU7XG4gICAgICAgICAgICBtb2RlIHw9IFN0cmljdEVmZmVjdHNNb2RlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHR5cGUgPSBwZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgICAob3duZXIgPSBtb2RlKSxcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHR5cGUuaWQgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgJ1Byb2ZpbGVyIG11c3Qgc3BlY2lmeSBhbiBcImlkXCIgb2YgdHlwZSBgc3RyaW5nYCBhcyBhIHByb3AuIFJlY2VpdmVkIHRoZSB0eXBlIGAlc2AgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHR5cGUuaWRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoa2V5ID0gY3JlYXRlRmliZXIoMTIsIHR5cGUsIGtleSwgb3duZXIgfCBQcm9maWxlTW9kZSkpLFxuICAgICAgICAgICAgICAoa2V5LmVsZW1lbnRUeXBlID0gUkVBQ1RfUFJPRklMRVJfVFlQRSksXG4gICAgICAgICAgICAgIChrZXkubGFuZXMgPSBsYW5lcyksXG4gICAgICAgICAgICAgIChrZXkuc3RhdGVOb2RlID0geyBlZmZlY3REdXJhdGlvbjogMCwgcGFzc2l2ZUVmZmVjdER1cmF0aW9uOiAwIH0pLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGtleSA9IGNyZWF0ZUZpYmVyKDEzLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkpLFxuICAgICAgICAgICAgICAoa2V5LmVsZW1lbnRUeXBlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRSksXG4gICAgICAgICAgICAgIChrZXkubGFuZXMgPSBsYW5lcyksXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChrZXkgPSBjcmVhdGVGaWJlcigxOSwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpKSxcbiAgICAgICAgICAgICAgKGtleS5lbGVtZW50VHlwZSA9IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSksXG4gICAgICAgICAgICAgIChrZXkubGFuZXMgPSBsYW5lcyksXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX09GRlNDUkVFTl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbU9mZnNjcmVlbihwZW5kaW5nUHJvcHMsIG1vZGUsIGxhbmVzLCBrZXkpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiYgbnVsbCAhPT0gdHlwZSlcbiAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDExO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcocmVzb2x2ZWRUeXBlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDE0O1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gMTY7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdm9pZCAwID09PSB0eXBlIHx8XG4gICAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgICAwID09PSBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJlc29sdmVkVHlwZSArPVxuICAgICAgICAgICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgICAgICAgIG51bGwgPT09IHR5cGVcbiAgICAgICAgICAgICAgPyAocGVuZGluZ1Byb3BzID0gXCJudWxsXCIpXG4gICAgICAgICAgICAgIDogaXNBcnJheUltcGwodHlwZSlcbiAgICAgICAgICAgICAgICA/IChwZW5kaW5nUHJvcHMgPSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgOiB2b2lkIDAgIT09IHR5cGUgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICAgICAgICAgICAgICA/ICgocGVuZGluZ1Byb3BzID1cbiAgICAgICAgICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgICAgICAgICAgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiVW5rbm93blwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCIgLz5cIiksXG4gICAgICAgICAgICAgICAgICAgIChyZXNvbHZlZFR5cGUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpKVxuICAgICAgICAgICAgICAgICAgOiAocGVuZGluZ1Byb3BzID0gdHlwZW9mIHR5cGUpO1xuICAgICAgICAgICAgKGZpYmVyVGFnID0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lRnJvbU93bmVyKG93bmVyKSA6IG51bGwpICYmXG4gICAgICAgICAgICAgIChyZXNvbHZlZFR5cGUgKz1cbiAgICAgICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIGZpYmVyVGFnICsgXCJgLlwiKTtcbiAgICAgICAgICAgIGZpYmVyVGFnID0gMjk7XG4gICAgICAgICAgICBwZW5kaW5nUHJvcHMgPSBFcnJvcihcbiAgICAgICAgICAgICAgXCJFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6IFwiICtcbiAgICAgICAgICAgICAgICAocGVuZGluZ1Byb3BzICsgXCIuXCIgKyByZXNvbHZlZFR5cGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAga2V5ID0gY3JlYXRlRmliZXIoZmliZXJUYWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgICAgIGtleS5lbGVtZW50VHlwZSA9IHR5cGU7XG4gICAgICBrZXkudHlwZSA9IHJlc29sdmVkVHlwZTtcbiAgICAgIGtleS5sYW5lcyA9IGxhbmVzO1xuICAgICAga2V5Ll9kZWJ1Z093bmVyID0gb3duZXI7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIG1vZGUsIGxhbmVzKSB7XG4gICAgICBtb2RlID0gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGVsZW1lbnQua2V5LFxuICAgICAgICBlbGVtZW50LnByb3BzLFxuICAgICAgICBlbGVtZW50Ll9vd25lcixcbiAgICAgICAgbW9kZSxcbiAgICAgICAgbGFuZXNcbiAgICAgICk7XG4gICAgICBtb2RlLl9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICByZXR1cm4gbW9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoZWxlbWVudHMsIG1vZGUsIGxhbmVzLCBrZXkpIHtcbiAgICAgIGVsZW1lbnRzID0gY3JlYXRlRmliZXIoNywgZWxlbWVudHMsIGtleSwgbW9kZSk7XG4gICAgICBlbGVtZW50cy5sYW5lcyA9IGxhbmVzO1xuICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21PZmZzY3JlZW4ocGVuZGluZ1Byb3BzLCBtb2RlLCBsYW5lcywga2V5KSB7XG4gICAgICBwZW5kaW5nUHJvcHMgPSBjcmVhdGVGaWJlcigyMiwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICAgICAgcGVuZGluZ1Byb3BzLmVsZW1lbnRUeXBlID0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEU7XG4gICAgICBwZW5kaW5nUHJvcHMubGFuZXMgPSBsYW5lcztcbiAgICAgIHZhciBwcmltYXJ5Q2hpbGRJbnN0YW5jZSA9IHtcbiAgICAgICAgX3Zpc2liaWxpdHk6IE9mZnNjcmVlblZpc2libGUsXG4gICAgICAgIF9wZW5kaW5nVmlzaWJpbGl0eTogT2Zmc2NyZWVuVmlzaWJsZSxcbiAgICAgICAgX3BlbmRpbmdNYXJrZXJzOiBudWxsLFxuICAgICAgICBfcmV0cnlDYWNoZTogbnVsbCxcbiAgICAgICAgX3RyYW5zaXRpb25zOiBudWxsLFxuICAgICAgICBfY3VycmVudDogbnVsbCxcbiAgICAgICAgZGV0YWNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gcHJpbWFyeUNoaWxkSW5zdGFuY2UsXG4gICAgICAgICAgICBmaWJlciA9IGluc3RhbmNlLl9jdXJyZW50O1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkNhbGxpbmcgT2Zmc2NyZWVuLmRldGFjaCBiZWZvcmUgaW5zdGFuY2UgaGFuZGxlIGhhcyBiZWVuIHNldC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoMCA9PT0gKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkKSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAoKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSB8PSBPZmZzY3JlZW5EZXRhY2hlZCksXG4gICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXR0YWNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gcHJpbWFyeUNoaWxkSW5zdGFuY2UsXG4gICAgICAgICAgICBmaWJlciA9IGluc3RhbmNlLl9jdXJyZW50O1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkNhbGxpbmcgT2Zmc2NyZWVuLmRldGFjaCBiZWZvcmUgaW5zdGFuY2UgaGFuZGxlIGhhcyBiZWVuIHNldC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoMCAhPT0gKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkKSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAoKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSAmPSB+T2Zmc2NyZWVuRGV0YWNoZWQpLFxuICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwZW5kaW5nUHJvcHMuc3RhdGVOb2RlID0gcHJpbWFyeUNoaWxkSW5zdGFuY2U7XG4gICAgICByZXR1cm4gcGVuZGluZ1Byb3BzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21UZXh0KGNvbnRlbnQsIG1vZGUsIGxhbmVzKSB7XG4gICAgICBjb250ZW50ID0gY3JlYXRlRmliZXIoNiwgY29udGVudCwgbnVsbCwgbW9kZSk7XG4gICAgICBjb250ZW50LmxhbmVzID0gbGFuZXM7XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tUG9ydGFsKHBvcnRhbCwgbW9kZSwgbGFuZXMpIHtcbiAgICAgIG1vZGUgPSBjcmVhdGVGaWJlcihcbiAgICAgICAgNCxcbiAgICAgICAgbnVsbCAhPT0gcG9ydGFsLmNoaWxkcmVuID8gcG9ydGFsLmNoaWxkcmVuIDogW10sXG4gICAgICAgIHBvcnRhbC5rZXksXG4gICAgICAgIG1vZGVcbiAgICAgICk7XG4gICAgICBtb2RlLmxhbmVzID0gbGFuZXM7XG4gICAgICBtb2RlLnN0YXRlTm9kZSA9IHtcbiAgICAgICAgY29udGFpbmVySW5mbzogcG9ydGFsLmNvbnRhaW5lckluZm8sXG4gICAgICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCxcbiAgICAgICAgaW1wbGVtZW50YXRpb246IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICAgICAgfTtcbiAgICAgIHJldHVybiBtb2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVsb2FkUmVzb3VyY2VBbmRTdXNwZW5kSWZOZWVkZWQod29ya0luUHJvZ3Jlc3MsIHJlc291cmNlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3R5bGVzaGVldFwiICE9PSByZXNvdXJjZS50eXBlIHx8XG4gICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgSW5zZXJ0ZWQpICE9PSBOb3RMb2FkZWRcbiAgICAgIClcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3O1xuICAgICAgZWxzZSBpZiAoXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTY3NzcyMTYpLCAhcHJlbG9hZFJlc291cmNlKHJlc291cmNlKSlcbiAgICAgICkge1xuICAgICAgICByZXNvdXJjZSA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSByZXNvdXJjZSAmJlxuICAgICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA0MTk0MTc2KSA9PT1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgPyBudWxsICE9PSBzaGVsbEJvdW5kYXJ5XG4gICAgICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA2MjkxNDU2MCkgIT09XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpKSB8fFxuICAgICAgICAgICAgICByZXNvdXJjZSAhPT0gc2hlbGxCb3VuZGFyeSlcbiAgICAgICAgKVxuICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICgoc3VzcGVuZGVkVGhlbmFibGUgPSBub29wU3VzcGVuc2V5Q29tbWl0VGhlbmFibGUpLFxuICAgICAgICAgICAgU3VzcGVuc2V5Q29tbWl0RXhjZXB0aW9uKVxuICAgICAgICAgICk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIHJldHJ5UXVldWUpIHtcbiAgICAgIG51bGwgIT09IHJldHJ5UXVldWUgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxNjM4NCAmJlxuICAgICAgICAoKHJldHJ5UXVldWUgPVxuICAgICAgICAgIDIyICE9PSB3b3JrSW5Qcm9ncmVzcy50YWcgPyBjbGFpbU5leHRSZXRyeUxhbmUoKSA6IDUzNjg3MDkxMiksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyB8PSByZXRyeVF1ZXVlKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyB8PSByZXRyeVF1ZXVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGN1dE9mZlRhaWxJZk5lZWRlZChyZW5kZXJTdGF0ZSwgaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrKSB7XG4gICAgICBpZiAoIWlzSHlkcmF0aW5nKVxuICAgICAgICBzd2l0Y2ggKHJlbmRlclN0YXRlLnRhaWxNb2RlKSB7XG4gICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrID0gcmVuZGVyU3RhdGUudGFpbDtcbiAgICAgICAgICAgIGZvciAodmFyIGxhc3RUYWlsTm9kZSA9IG51bGw7IG51bGwgIT09IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjazsgKVxuICAgICAgICAgICAgICBudWxsICE9PSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2suYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgKGxhc3RUYWlsTm9kZSA9IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayksXG4gICAgICAgICAgICAgICAgKGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayA9IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjay5zaWJsaW5nKTtcbiAgICAgICAgICAgIG51bGwgPT09IGxhc3RUYWlsTm9kZVxuICAgICAgICAgICAgICA/IChyZW5kZXJTdGF0ZS50YWlsID0gbnVsbClcbiAgICAgICAgICAgICAgOiAobGFzdFRhaWxOb2RlLnNpYmxpbmcgPSBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJjb2xsYXBzZWRcIjpcbiAgICAgICAgICAgIGxhc3RUYWlsTm9kZSA9IHJlbmRlclN0YXRlLnRhaWw7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGFzdFRhaWxOb2RlID0gbnVsbDsgbnVsbCAhPT0gbGFzdFRhaWxOb2RlOyApXG4gICAgICAgICAgICAgIG51bGwgIT09IGxhc3RUYWlsTm9kZS5hbHRlcm5hdGUgJiYgKF9sYXN0VGFpbE5vZGUgPSBsYXN0VGFpbE5vZGUpLFxuICAgICAgICAgICAgICAgIChsYXN0VGFpbE5vZGUgPSBsYXN0VGFpbE5vZGUuc2libGluZyk7XG4gICAgICAgICAgICBudWxsID09PSBfbGFzdFRhaWxOb2RlXG4gICAgICAgICAgICAgID8gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrIHx8IG51bGwgPT09IHJlbmRlclN0YXRlLnRhaWxcbiAgICAgICAgICAgICAgICA/IChyZW5kZXJTdGF0ZS50YWlsID0gbnVsbClcbiAgICAgICAgICAgICAgICA6IChyZW5kZXJTdGF0ZS50YWlsLnNpYmxpbmcgPSBudWxsKVxuICAgICAgICAgICAgICA6IChfbGFzdFRhaWxOb2RlLnNpYmxpbmcgPSBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBidWJibGVQcm9wZXJ0aWVzKGNvbXBsZXRlZFdvcmspIHtcbiAgICAgIHZhciBkaWRCYWlsb3V0ID1cbiAgICAgICAgICBudWxsICE9PSBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZSAmJlxuICAgICAgICAgIGNvbXBsZXRlZFdvcmsuYWx0ZXJuYXRlLmNoaWxkID09PSBjb21wbGV0ZWRXb3JrLmNoaWxkLFxuICAgICAgICBuZXdDaGlsZExhbmVzID0gMCxcbiAgICAgICAgc3VidHJlZUZsYWdzID0gMDtcbiAgICAgIGlmIChkaWRCYWlsb3V0KVxuICAgICAgICBpZiAoKGNvbXBsZXRlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuc2VsZkJhc2VEdXJhdGlvbixcbiAgICAgICAgICAgICAgX2NoaWxkMiA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7XG4gICAgICAgICAgICBudWxsICE9PSBfY2hpbGQyO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD0gX2NoaWxkMi5sYW5lcyB8IF9jaGlsZDIuY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX2NoaWxkMi5zdWJ0cmVlRmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX2NoaWxkMi5mbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uICs9IF9jaGlsZDIudHJlZUJhc2VEdXJhdGlvbiksXG4gICAgICAgICAgICAgIChfY2hpbGQyID0gX2NoaWxkMi5zaWJsaW5nKTtcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5jaGlsZDtcbiAgICAgICAgICAgIG51bGwgIT09IF90cmVlQmFzZUR1cmF0aW9uO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD1cbiAgICAgICAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24ubGFuZXMgfCBfdHJlZUJhc2VEdXJhdGlvbi5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5zdWJ0cmVlRmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX3RyZWVCYXNlRHVyYXRpb24uZmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbi5yZXR1cm4gPSBjb21wbGV0ZWRXb3JrKSxcbiAgICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb24uc2libGluZyk7XG4gICAgICBlbHNlIGlmICgoY29tcGxldGVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUpIHtcbiAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLmFjdHVhbER1cmF0aW9uO1xuICAgICAgICBfY2hpbGQyID0gY29tcGxldGVkV29yay5zZWxmQmFzZUR1cmF0aW9uO1xuICAgICAgICBmb3IgKHZhciBjaGlsZCA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7IG51bGwgIT09IGNoaWxkOyApXG4gICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD0gY2hpbGQubGFuZXMgfCBjaGlsZC5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gY2hpbGQuc3VidHJlZUZsYWdzKSxcbiAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gY2hpbGQuZmxhZ3MpLFxuICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uICs9IGNoaWxkLmFjdHVhbER1cmF0aW9uKSxcbiAgICAgICAgICAgIChfY2hpbGQyICs9IGNoaWxkLnRyZWVCYXNlRHVyYXRpb24pLFxuICAgICAgICAgICAgKGNoaWxkID0gY2hpbGQuc2libGluZyk7XG4gICAgICAgIGNvbXBsZXRlZFdvcmsuYWN0dWFsRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgICAgY29tcGxldGVkV29yay50cmVlQmFzZUR1cmF0aW9uID0gX2NoaWxkMjtcbiAgICAgIH0gZWxzZVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5jaGlsZDtcbiAgICAgICAgICBudWxsICE9PSBfdHJlZUJhc2VEdXJhdGlvbjtcblxuICAgICAgICApXG4gICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD1cbiAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uLmxhbmVzIHwgX3RyZWVCYXNlRHVyYXRpb24uY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLnN1YnRyZWVGbGFncyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLmZsYWdzKSxcbiAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbi5yZXR1cm4gPSBjb21wbGV0ZWRXb3JrKSxcbiAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uLnNpYmxpbmcpO1xuICAgICAgY29tcGxldGVkV29yay5zdWJ0cmVlRmxhZ3MgfD0gc3VidHJlZUZsYWdzO1xuICAgICAgY29tcGxldGVkV29yay5jaGlsZExhbmVzID0gbmV3Q2hpbGRMYW5lcztcbiAgICAgIHJldHVybiBkaWRCYWlsb3V0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICBwb3BUcmVlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICBjYXNlIDk6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSBudWxsO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgKHJlbmRlckxhbmVzID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpO1xuICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIG5ld1Byb3BzLnBlbmRpbmdDb250ZXh0ICYmXG4gICAgICAgICAgICAoKG5ld1Byb3BzLmNvbnRleHQgPSBuZXdQcm9wcy5wZW5kaW5nQ29udGV4dCksXG4gICAgICAgICAgICAobmV3UHJvcHMucGVuZGluZ0NvbnRleHQgPSBudWxsKSk7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQgfHwgbnVsbCA9PT0gY3VycmVudC5jaGlsZClcbiAgICAgICAgICAgIHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA/IChlbWl0UGVuZGluZ0h5ZHJhdGlvbldhcm5pbmdzKCksIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpKVxuICAgICAgICAgICAgICA6IG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgICAoY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCAmJlxuICAgICAgICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2KSkgfHxcbiAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGh5ZHJhdGlvbkVycm9ycyAmJlxuICAgICAgICAgICAgICAgICAgKHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoaHlkcmF0aW9uRXJyb3JzKSxcbiAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25FcnJvcnMgPSBudWxsKSkpO1xuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAobWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgID8gKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkUmVzb3VyY2VBbmRTdXNwZW5kSWZOZWVkZWQoXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgIDogKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3KSkpXG4gICAgICAgICAgICAgIDogcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICA/IHJlbmRlckxhbmVzICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgICAgID8gKG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlc291cmNlQW5kU3VzcGVuZElmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICA6IChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNykpXG4gICAgICAgICAgICAgICAgOiAoY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNykpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgICAgICAgIHZhciBfdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IG5ld1Byb3BzICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgPyBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBjdXJyZW50KVxuICAgICAgICAgICAgICA6ICgoY3VycmVudCA9IHJlc29sdmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIF90eXBlLFxuICAgICAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdHlwZSA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICBpZiAocG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpKVxuICAgICAgICAgICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBfdHlwZSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgY3VycmVudCA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgICAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHJlbmRlckxhbmVzLCBfdHlwZS5hbmNlc3RvckluZm8pO1xuICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLmNvbnRleHQ7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIoY3VycmVudCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX3R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgSG9zdENvbnRleHROYW1lc3BhY2VNYXRoOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAgICAgICBNQVRIX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZW5kZXJMYW5lcykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAgICAgICAgICAgU1ZHX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1hdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgICAgICAgICAgICAgICBNQVRIX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5pbm5lckhUTUwgPSBcIjxzY3JpcHQ+XFx4M2Mvc2NyaXB0PlwiO1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnJlbW92ZUNoaWxkKGN1cnJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdQcm9wcy5pc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGN1cnJlbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7IGlzOiBuZXdQcm9wcy5pcyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5tdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoY3VycmVudC5tdWx0aXBsZSA9ICEwKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXdQcm9wcy5zaXplICYmIChjdXJyZW50LnNpemUgPSBuZXdQcm9wcy5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAoY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3UHJvcHMuaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyZW50LmNyZWF0ZUVsZW1lbnQocmVuZGVyTGFuZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzOiBuZXdQcm9wcy5pc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5jcmVhdGVFbGVtZW50KHJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAtMSA9PT0gcmVuZGVyTGFuZXMuaW5kZXhPZihcIi1cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlbmRlckxhbmVzICE9PSByZW5kZXJMYW5lcy50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPCVzIC8+IGlzIHVzaW5nIGluY29ycmVjdCBjYXNpbmcuIFVzZSBQYXNjYWxDYXNlIGZvciBSZWFjdCBjb21wb25lbnRzLCBvciBsb3dlcmNhc2UgZm9yIEhUTUwgZWxlbWVudHMuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCIgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGN1cnJlbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5lZFVua25vd25UYWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh3YXJuZWRVbmtub3duVGFnc1tyZW5kZXJMYW5lc10gPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhlIHRhZyA8JXM+IGlzIHVucmVjb2duaXplZCBpbiB0aGlzIGJyb3dzZXIuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBSZWFjdCBjb21wb25lbnQsIHN0YXJ0IGl0cyBuYW1lIHdpdGggYW4gdXBwZXJjYXNlIGxldHRlci5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnRbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgY3VycmVudFtpbnRlcm5hbFByb3BzS2V5XSA9IG5ld1Byb3BzO1xuICAgICAgICAgICAgICBhOiBmb3IgKF90eXBlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IF90eXBlOyApIHtcbiAgICAgICAgICAgICAgICBpZiAoNSA9PT0gX3R5cGUudGFnIHx8IDYgPT09IF90eXBlLnRhZylcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXBwZW5kQ2hpbGQoX3R5cGUuc3RhdGVOb2RlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIDQgIT09IF90eXBlLnRhZyAmJlxuICAgICAgICAgICAgICAgICAgMjcgIT09IF90eXBlLnRhZyAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUuY2hpbGRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIF90eXBlLmNoaWxkLnJldHVybiA9IF90eXBlO1xuICAgICAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5jaGlsZDtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3R5cGUgPT09IHdvcmtJblByb2dyZXNzKSBicmVhayBhO1xuICAgICAgICAgICAgICAgIGZvciAoOyBudWxsID09PSBfdHlwZS5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBfdHlwZS5yZXR1cm4gfHwgX3R5cGUucmV0dXJuID09PSB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIF90eXBlID0gX3R5cGUucmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdHlwZS5zaWJsaW5nLnJldHVybiA9IF90eXBlLnJldHVybjtcbiAgICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLnNpYmxpbmc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgYTogc3dpdGNoIChcbiAgICAgICAgICAgICAgICAoc2V0SW5pdGlhbFByb3BlcnRpZXMoY3VycmVudCwgcmVuZGVyTGFuZXMsIG5ld1Byb3BzKSxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lcylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAhIW5ld1Byb3BzLmF1dG9Gb2N1cztcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9ICEwO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9ICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnQgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNztcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGlmIChjdXJyZW50ICYmIG51bGwgIT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICAgICAgICByZW5kZXJMYW5lcyA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICBpZiAocG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgX3R5cGUgPSAhZGlkU3VzcGVuZE9yRXJyb3JERVY7XG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzID0gbnVsbDtcbiAgICAgICAgICAgICAgdmFyIHJldHVybkZpYmVyID0gaHlkcmF0aW9uUGFyZW50RmliZXI7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSByZXR1cm5GaWJlcilcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICgoX3R5cGUgPSBkaWZmSHlkcmF0ZWRUZXh0Rm9yRGV2V2FybmluZ3MoXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVpbGRIeWRyYXRpb25EaWZmTm9kZSh3b3JrSW5Qcm9ncmVzcywgMCkuc2VydmVyUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgIF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoKF90eXBlID0gZGlmZkh5ZHJhdGVkVGV4dEZvckRldldhcm5pbmdzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLnNlcnZlclByb3BzID0gX3R5cGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnRbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgY3VycmVudCA9XG4gICAgICAgICAgICAgICAgY3VycmVudC5ub2RlVmFsdWUgPT09IG5ld1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgKG51bGwgIT09IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAhMCA9PT0gcmVuZGVyTGFuZXMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB8fFxuICAgICAgICAgICAgICAgIGNoZWNrRm9yVW5tYXRjaGVkVGV4dChjdXJyZW50Lm5vZGVWYWx1ZSwgbmV3UHJvcHMpXG4gICAgICAgICAgICAgICAgICA/ICEwXG4gICAgICAgICAgICAgICAgICA6ICExO1xuICAgICAgICAgICAgICBjdXJyZW50IHx8IHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmVuZGVyTGFuZXMuYW5jZXN0b3JJbmZvLmN1cnJlbnQpLFxuICAgICAgICAgICAgICAgIG51bGwgIT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlVGV4dE5lc3RpbmcobmV3UHJvcHMsIHJlbmRlckxhbmVzLnRhZyksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKGN1cnJlbnQpLmNyZWF0ZVRleHROb2RlKFxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1xuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuZGVoeWRyYXRlZClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIF90eXBlID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IG5ld1Byb3BzICYmIG51bGwgIT09IG5ld1Byb3BzLmRlaHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV90eXBlKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiQSBkZWh5ZHJhdGVkIHN1c3BlbnNlIGNvbXBvbmVudCB3YXMgY29tcGxldGVkIHdpdGhvdXQgYSBoeWRyYXRlZCBub2RlLiBUaGlzIGlzIHByb2JhYmx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIF90eXBlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgICBfdHlwZSA9IG51bGwgIT09IF90eXBlID8gX3R5cGUuZGVoeWRyYXRlZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFfdHlwZSlcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGhhdmUgYSBoeWRyYXRlZCBzdXNwZW5zZSBpbnN0YW5jZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBfdHlwZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICAgICAoKF90eXBlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gLT1cbiAgICAgICAgICAgICAgICAgICAgICBfdHlwZS50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGVtaXRQZW5kaW5nSHlkcmF0aW9uV2FybmluZ3MoKSxcbiAgICAgICAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSxcbiAgICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICAoKF90eXBlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uIC09XG4gICAgICAgICAgICAgICAgICAgICAgICBfdHlwZS50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgIF90eXBlID0gITE7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaHlkcmF0aW9uRXJyb3JzICYmXG4gICAgICAgICAgICAgICAgKHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoaHlkcmF0aW9uRXJyb3JzKSxcbiAgICAgICAgICAgICAgICAoaHlkcmF0aW9uRXJyb3JzID0gbnVsbCkpLFxuICAgICAgICAgICAgICAgIChfdHlwZSA9ICEwKTtcbiAgICAgICAgICAgIGlmICghX3R5cGUpIHtcbiAgICAgICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2KVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLCB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbmV3UHJvcHMgPSBudWxsICE9PSBuZXdQcm9wcztcbiAgICAgICAgICBjdXJyZW50ID0gbnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICgocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAoX3R5cGUgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKF90eXBlID0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlbmRlckxhbmVzLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIgIT09IF90eXBlICYmIChyZW5kZXJMYW5lcy5mbGFncyB8PSAyMDQ4KSk7XG4gICAgICAgICAgbmV3UHJvcHMgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQuZmxhZ3MgfD0gODE5Mik7XG4gICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUpO1xuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAoKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uIC09IGN1cnJlbnQudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBsaXN0ZW5Ub0FsbFN1cHBvcnRlZEV2ZW50cyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MudHlwZSwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIF90eXBlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gX3R5cGUpIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgICBuZXdQcm9wcyA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCk7XG4gICAgICAgICAgcmV0dXJuRmliZXIgPSBfdHlwZS5yZW5kZXJpbmc7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHJldHVybkZpYmVyKVxuICAgICAgICAgICAgaWYgKG5ld1Byb3BzKSBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyAhPT0gUm9vdEluUHJvZ3Jlc3MgfHxcbiAgICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCAmJiAwICE9PSAoY3VycmVudC5mbGFncyAmIDEyOCkpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBmb3IgKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDsgbnVsbCAhPT0gY3VycmVudDsgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSByZXR1cm5GaWJlcikge1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjg7XG4gICAgICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmV0dXJuRmliZXIudXBkYXRlUXVldWU7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSByZW5kZXJMYW5lcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBuZXdQcm9wczsgKVxuICAgICAgICAgICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3MobmV3UHJvcHMsIGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gbmV3UHJvcHMuc2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvcixcbiAgICAgICAgICAgICAgICAgICAgICAoc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50ICZcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSB8XG4gICAgICAgICAgICAgICAgICAgICAgICBGb3JjZVN1c3BlbnNlRmFsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG51bGwgIT09IF90eXBlLnRhaWwgJiZcbiAgICAgICAgICAgICAgICBub3ckMSgpID4gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSAmJlxuICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSAhMCksXG4gICAgICAgICAgICAgICAgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gNDE5NDMwNCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcylcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgoY3VycmVudCA9IGZpbmRGaXJzdFN1c3BlbmRlZChyZXR1cm5GaWJlcikpLCBudWxsICE9PSBjdXJyZW50KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSAhMCksXG4gICAgICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudCksXG4gICAgICAgICAgICAgICAgICBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITApLFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gX3R5cGUudGFpbCAmJlxuICAgICAgICAgICAgICAgICAgICBcImhpZGRlblwiID09PSBfdHlwZS50YWlsTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAhcmV0dXJuRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0h5ZHJhdGluZylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIDIgKiBub3ckMSgpIC0gX3R5cGUucmVuZGVyaW5nU3RhcnRUaW1lID5cbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgJiZcbiAgICAgICAgICAgICAgICAgIDUzNjg3MDkxMiAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAgIChuZXdQcm9wcyA9ICEwKSxcbiAgICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gNDE5NDMwNCkpO1xuICAgICAgICAgICAgX3R5cGUuaXNCYWNrd2FyZHNcbiAgICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyLnNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICA6ICgoY3VycmVudCA9IF90eXBlLmxhc3QpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgID8gKGN1cnJlbnQuc2libGluZyA9IHJldHVybkZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKF90eXBlLmxhc3QgPSByZXR1cm5GaWJlcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobnVsbCAhPT0gX3R5cGUudGFpbClcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChjdXJyZW50ID0gX3R5cGUudGFpbCksXG4gICAgICAgICAgICAgIChfdHlwZS5yZW5kZXJpbmcgPSBjdXJyZW50KSxcbiAgICAgICAgICAgICAgKF90eXBlLnRhaWwgPSBjdXJyZW50LnNpYmxpbmcpLFxuICAgICAgICAgICAgICAoX3R5cGUucmVuZGVyaW5nU3RhcnRUaW1lID0gbm93JDEoKSksXG4gICAgICAgICAgICAgIChjdXJyZW50LnNpYmxpbmcgPSBudWxsKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50KSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gbmV3UHJvcHNcbiAgICAgICAgICAgICAgICA/IChyZW5kZXJMYW5lcyAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSB8XG4gICAgICAgICAgICAgICAgICBGb3JjZVN1c3BlbnNlRmFsbGJhY2tcbiAgICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2spLFxuICAgICAgICAgICAgICBwdXNoKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHJlbmRlckxhbmVzLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwb3BIaWRkZW5Db250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChuZXdQcm9wcyA9IG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICA/IChudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKVxuICAgICAgICAgICAgICA6IG5ld1Byb3BzICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKSxcbiAgICAgICAgICAgIG5ld1Byb3BzXG4gICAgICAgICAgICAgID8gMCAhPT0gKHJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSAmJlxuICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkgJiZcbiAgICAgICAgICAgICAgICAoYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzICYgNiAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTIpKVxuICAgICAgICAgICAgICA6IGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMucmV0cnlRdWV1ZSksXG4gICAgICAgICAgICAobmV3UHJvcHMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKG5ld1Byb3BzID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzICE9PSBuZXdQcm9wcyAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIHBvcChyZXN1bWVkQ2FjaGUsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobmV3UHJvcHMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgKG5ld1Byb3BzID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUuY2FjaGUgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4KSxcbiAgICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIlVua25vd24gdW5pdCBvZiB3b3JrIHRhZyAoXCIgK1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyArXG4gICAgICAgICAgXCIpLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bndpbmRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBwb3BUcmVlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3MpLFxuICAgICAgICAgICAgY3VycmVudCAmIDY1NTM2XG4gICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3MpLFxuICAgICAgICAgICAgMCAhPT0gKGN1cnJlbnQgJiA2NTUzNikgJiYgMCA9PT0gKGN1cnJlbnQgJiAxMjgpXG4gICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5kZWh5ZHJhdGVkKSB7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlRocmV3IGluIG5ld2x5IG1vdW50ZWQgZGVoeWRyYXRlZCBjb21wb25lbnQuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3M7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQgJiA2NTUzNlxuICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmZsYWdzID0gKGN1cnJlbnQgJiAtNjU1MzcpIHwgMTI4KSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MudHlwZSwgd29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcG9wSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIHBvcChyZXN1bWVkQ2FjaGUsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3MpLFxuICAgICAgICAgICAgY3VycmVudCAmIDY1NTM2XG4gICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoY3VycmVudCwgaW50ZXJydXB0ZWRXb3JrKSB7XG4gICAgICBwb3BUcmVlQ29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgc3dpdGNoIChpbnRlcnJ1cHRlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBwb3BQcm92aWRlcihpbnRlcnJ1cHRlZFdvcmsudHlwZSwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBwb3BIaWRkZW5Db250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwb3AocmVzdW1lZENhY2hlLCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25Db21taXRSb290KCkge1xuICAgICAgY29tbWl0SG9va3MuZm9yRWFjaChmdW5jdGlvbiAoY29tbWl0SG9vaykge1xuICAgICAgICByZXR1cm4gY29tbWl0SG9vaygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ29uY3VycmVudEFjdEVudmlyb25tZW50KCkge1xuICAgICAgdmFyIGlzUmVhY3RBY3RFbnZpcm9ubWVudEdsb2JhbCA9XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBJU19SRUFDVF9BQ1RfRU5WSVJPTk1FTlRcbiAgICAgICAgICA/IElTX1JFQUNUX0FDVF9FTlZJUk9OTUVOVFxuICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgaXNSZWFjdEFjdEVudmlyb25tZW50R2xvYmFsIHx8XG4gICAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgY3VycmVudCB0ZXN0aW5nIGVudmlyb25tZW50IGlzIG5vdCBjb25maWd1cmVkIHRvIHN1cHBvcnQgYWN0KC4uLilcIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGlzUmVhY3RBY3RFbnZpcm9ubWVudEdsb2JhbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSAhPT0gTm9Db250ZXh0ICYmXG4gICAgICAgIDAgIT09IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICApXG4gICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIC13b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcztcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgIHJldHVybiBudWxsICE9PSB0cmFuc2l0aW9uXG4gICAgICAgID8gKHRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgfHwgKHRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCkpLFxuICAgICAgICAgIHRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuYWRkKGZpYmVyKSxcbiAgICAgICAgICAoZmliZXIgPSBjdXJyZW50RW50YW5nbGVkTGFuZSksXG4gICAgICAgICAgMCAhPT0gZmliZXIgPyBmaWJlciA6IHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpKVxuICAgICAgICA6IHJlc29sdmVVcGRhdGVQcmlvcml0eSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0RGVmZXJyZWRMYW5lKCkge1xuICAgICAgMCA9PT0gd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lID1cbiAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpIHx8IGlzSHlkcmF0aW5nXG4gICAgICAgICAgICA/IGNsYWltTmV4dFRyYW5zaXRpb25MYW5lKClcbiAgICAgICAgICAgIDogNTM2ODcwOTEyKTtcbiAgICAgIHZhciBzdXNwZW5zZUhhbmRsZXIgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgbnVsbCAhPT0gc3VzcGVuc2VIYW5kbGVyICYmIChzdXNwZW5zZUhhbmRsZXIuZmxhZ3MgfD0gMzIpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIGxhbmUpIHtcbiAgICAgIGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFwidXNlSW5zZXJ0aW9uRWZmZWN0IG11c3Qgbm90IHNjaGVkdWxlIHVwZGF0ZXMuXCIpO1xuICAgICAgaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzICYmIChkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gITApO1xuICAgICAgaWYgKFxuICAgICAgICAocm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSkgfHxcbiAgICAgICAgbnVsbCAhPT0gcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0XG4gICAgICApXG4gICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIDApLFxuICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAhMVxuICAgICAgICAgICk7XG4gICAgICBtYXJrUm9vdFVwZGF0ZWQkMShyb290LCBsYW5lKTtcbiAgICAgIGlmIChcbiAgICAgICAgMCAhPT0gKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSAmJlxuICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNSZW5kZXJpbmcpXG4gICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICByb290ID1cbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgJiYgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykpIHx8XG4gICAgICAgICAgICAgICAgXCJVbmtub3duXCI7XG4gICAgICAgICAgICAgIGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyRm9yQW5vdGhlckNvbXBvbmVudC5oYXMocm9vdCkgfHxcbiAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXJGb3JBbm90aGVyQ29tcG9uZW50LmFkZChyb290KSxcbiAgICAgICAgICAgICAgICAoZmliZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIlVua25vd25cIiksXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHVwZGF0ZSBhIGNvbXBvbmVudCAoYCVzYCkgd2hpbGUgcmVuZGVyaW5nIGEgZGlmZmVyZW50IGNvbXBvbmVudCAoYCVzYCkuIFRvIGxvY2F0ZSB0aGUgYmFkIHNldFN0YXRlKCkgY2FsbCBpbnNpZGUgYCVzYCwgZm9sbG93IHRoZSBzdGFjayB0cmFjZSBhcyBkZXNjcmliZWQgaW4gaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zZXRzdGF0ZS1pbi1yZW5kZXJcIixcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIHJvb3RcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyIHx8XG4gICAgICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gKHN1Y2ggYXMgd2l0aGluIGByZW5kZXJgKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciA9ICEwKSk7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlXG4gICAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIGFkZEZpYmVyVG9MYW5lc01hcChyb290LCBmaWJlciwgbGFuZSksXG4gICAgICAgICAgd2FybklmVXBkYXRlc05vdFdyYXBwZWRXaXRoQWN0REVWKGZpYmVyKSxcbiAgICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgICAgICgoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpID09PSBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzIHw9IGxhbmUpLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSAmJlxuICAgICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgbGFuZXMsIGZvcmNlU3luYykge1xuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgbm90IGFscmVhZHkgYmUgd29ya2luZy5cIik7XG4gICAgICB2YXIgc2hvdWxkVGltZVNsaWNlID1cbiAgICAgICAgICAoIWZvcmNlU3luYyAmJlxuICAgICAgICAgICAgMCA9PT0gKGxhbmVzICYgNjApICYmXG4gICAgICAgICAgICAwID09PSAobGFuZXMgJiByb290LmV4cGlyZWRMYW5lcykpIHx8XG4gICAgICAgICAgY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBsYW5lcyksXG4gICAgICAgIGV4aXRTdGF0dXMgPSBzaG91bGRUaW1lU2xpY2VcbiAgICAgICAgICA/IHJlbmRlclJvb3RDb25jdXJyZW50KHJvb3QsIGxhbmVzKVxuICAgICAgICAgIDogcmVuZGVyUm9vdFN5bmMocm9vdCwgbGFuZXMsICEwKSxcbiAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9IHNob3VsZFRpbWVTbGljZTtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3RJblByb2dyZXNzKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgJiZcbiAgICAgICAgICAgICFzaG91bGRUaW1lU2xpY2UgJiZcbiAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKHJvb3QsIGxhbmVzLCAwLCAhMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdERpZE5vdENvbXBsZXRlKVxuICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICF3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmb3JjZVN5bmMgPSByb290LmN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgJiZcbiAgICAgICAgICAgICFpc1JlbmRlckNvbnNpc3RlbnRXaXRoRXh0ZXJuYWxTdG9yZXMoZm9yY2VTeW5jKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXhpdFN0YXR1cyA9IHJlbmRlclJvb3RTeW5jKHJvb3QsIGxhbmVzLCAhMSk7XG4gICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ID0gITE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3RFcnJvcmVkKSB7XG4gICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ID0gbGFuZXM7XG4gICAgICAgICAgICBpZiAocm9vdC5lcnJvclJlY292ZXJ5RGlzYWJsZWRMYW5lcyAmIHJlbmRlcldhc0NvbmN1cnJlbnQpXG4gICAgICAgICAgICAgIHZhciBlcnJvclJldHJ5TGFuZXMgPSAwO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAoZXJyb3JSZXRyeUxhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXMgJiAtNTM2ODcwOTEzKSxcbiAgICAgICAgICAgICAgICAoZXJyb3JSZXRyeUxhbmVzID1cbiAgICAgICAgICAgICAgICAgIDAgIT09IGVycm9yUmV0cnlMYW5lc1xuICAgICAgICAgICAgICAgICAgICA/IGVycm9yUmV0cnlMYW5lc1xuICAgICAgICAgICAgICAgICAgICA6IGVycm9yUmV0cnlMYW5lcyAmIDUzNjg3MDkxMlxuICAgICAgICAgICAgICAgICAgICAgID8gNTM2ODcwOTEyXG4gICAgICAgICAgICAgICAgICAgICAgOiAwKTtcbiAgICAgICAgICAgIGlmICgwICE9PSBlcnJvclJldHJ5TGFuZXMpIHtcbiAgICAgICAgICAgICAgbGFuZXMgPSBlcnJvclJldHJ5TGFuZXM7XG4gICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gcm9vdDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwID0gZXJyb3JSZXRyeUxhbmVzO1xuICAgICAgICAgICAgICAgIGVycm9yUmV0cnlMYW5lcyA9IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnM7XG4gICAgICAgICAgICAgICAgdmFyIHdhc1Jvb3REZWh5ZHJhdGVkID1cbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZDtcbiAgICAgICAgICAgICAgICB3YXNSb290RGVoeWRyYXRlZCAmJlxuICAgICAgICAgICAgICAgICAgKHByZXBhcmVGcmVzaFN0YWNrKFxuICAgICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICkuZmxhZ3MgfD0gMjU2KTtcbiAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMkanNjb21wJDAgPSByZW5kZXJSb290U3luYyhcbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMCAhPT0gUm9vdEVycm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyICYmXG4gICAgICAgICAgICAgICAgICAgICF3YXNSb290RGVoeWRyYXRlZFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgfD1cbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyB8PVxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSBSb290U3VzcGVuZGVkV2l0aERlbGF5O1xuICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cyA9IHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSBlcnJvclJldHJ5TGFuZXM7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBleGl0U3RhdHVzICYmIHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoZXhpdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSBlcnJvclJldHJ5TGFuZXMkanNjb21wJDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9ICExO1xuICAgICAgICAgICAgICBpZiAoZXhpdFN0YXR1cyAhPT0gUm9vdEVycm9yZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdEZhdGFsRXJyb3JlZCkge1xuICAgICAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgMCk7XG4gICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChyb290LCBsYW5lcywgMCwgITApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSA9IHJvb3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKGV4aXRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgY2FzZSBSb290SW5Qcm9ncmVzczpcbiAgICAgICAgICAgICAgY2FzZSBSb290RmF0YWxFcnJvcmVkOlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiUm9vdCBkaWQgbm90IGNvbXBsZXRlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgICAgICAgY2FzZSBSb290U3VzcGVuZGVkV2l0aERlbGF5OlxuICAgICAgICAgICAgICAgIGlmICgobGFuZXMgJiA0MTk0MTc2KSA9PT0gbGFuZXMpIHtcbiAgICAgICAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAgICAgIXdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJvb3RFcnJvcmVkOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSb290U3VzcGVuZGVkOlxuICAgICAgICAgICAgICBjYXNlIFJvb3RDb21wbGV0ZWQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHJvb3QgZXhpdCBzdGF0dXMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLmZpbmlzaGVkV29yayA9IGZvcmNlU3luYztcbiAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZS5maW5pc2hlZExhbmVzID0gbGFuZXM7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUpXG4gICAgICAgICAgICAgIGNvbW1pdFJvb3QoXG4gICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICAgICAgSU1NRURJQVRFX0NPTU1JVCxcbiAgICAgICAgICAgICAgICByZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAobGFuZXMgJiA2MjkxNDU2MCkgPT09IGxhbmVzICYmXG4gICAgICAgICAgICAgICAgKChleGl0U3RhdHVzID1cbiAgICAgICAgICAgICAgICAgIGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgK1xuICAgICAgICAgICAgICAgICAgRkFMTEJBQ0tfVEhST1RUTEVfTVMgLVxuICAgICAgICAgICAgICAgICAgbm93JDEoKSksXG4gICAgICAgICAgICAgICAgMTAgPCBleGl0U3RhdHVzKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgICAhd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gZ2V0TmV4dExhbmVzKHNob3VsZFRpbWVTbGljZSwgMCkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLnRpbWVvdXRIYW5kbGUgPSBzY2hlZHVsZVRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICBjb21taXRSb290V2hlblJlYWR5LmJpbmQoXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VTeW5jLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIFRIUk9UVExFRF9DT01NSVQsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29tbWl0Um9vdFdoZW5SZWFkeShcbiAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgZm9yY2VTeW5jLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzLFxuICAgICAgICAgICAgICAgIElNTUVESUFURV9DT01NSVQsXG4gICAgICAgICAgICAgICAgcmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9IHdoaWxlICgxKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcXVldWVSZWNvdmVyYWJsZUVycm9ycyhlcnJvcnMpIHtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzXG4gICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gZXJyb3JzKVxuICAgICAgICA6IHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLnB1c2guYXBwbHkoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgIGVycm9yc1xuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvb3RXaGVuUmVhZHkoXG4gICAgICByb290LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICB0cmFuc2l0aW9ucyxcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgIGxhbmVzLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgZGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzLFxuICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICkge1xuICAgICAgdmFyIHN1YnRyZWVGbGFncyA9IGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3M7XG4gICAgICBpZiAoc3VidHJlZUZsYWdzICYgODE5MiB8fCAxNjc4NTQwOCA9PT0gKHN1YnRyZWVGbGFncyAmIDE2Nzg1NDA4KSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoc3VzcGVuZGVkU3RhdGUgPSB7IHN0eWxlc2hlZXRzOiBudWxsLCBjb3VudDogMCwgdW5zdXNwZW5kOiBub29wIH0pLFxuICAgICAgICAgIGFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXRPbkZpYmVyKGZpbmlzaGVkV29yayksXG4gICAgICAgICAgKGZpbmlzaGVkV29yayA9IHdhaXRGb3JDb21taXRUb0JlUmVhZHkoKSksXG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrKVxuICAgICAgICApIHtcbiAgICAgICAgICByb290LmNhbmNlbFBlbmRpbmdDb21taXQgPSBmaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICBjb21taXRSb290LmJpbmQoXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICBTVVNQRU5ERURfQ09NTUlULFxuICAgICAgICAgICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgICAgICAhZGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNvbW1pdFJvb3QoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICB0cmFuc2l0aW9ucyxcbiAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICBzdXNwZW5kZWRDb21taXRSZWFzb24sXG4gICAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZW5kZXJDb25zaXN0ZW50V2l0aEV4dGVybmFsU3RvcmVzKGZpbmlzaGVkV29yaykge1xuICAgICAgZm9yICh2YXIgbm9kZSA9IGZpbmlzaGVkV29yazsgOyApIHtcbiAgICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKDAgPT09IHRhZyB8fCAxMSA9PT0gdGFnIHx8IDE1ID09PSB0YWcpICYmXG4gICAgICAgICAgbm9kZS5mbGFncyAmIDE2Mzg0ICYmXG4gICAgICAgICAgKCh0YWcgPSBub2RlLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICBudWxsICE9PSB0YWcgJiYgKCh0YWcgPSB0YWcuc3RvcmVzKSwgbnVsbCAhPT0gdGFnKSlcbiAgICAgICAgKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2sgPSB0YWdbaV0sXG4gICAgICAgICAgICAgIGdldFNuYXBzaG90ID0gY2hlY2suZ2V0U25hcHNob3Q7XG4gICAgICAgICAgICBjaGVjayA9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKCFvYmplY3RJcyhnZXRTbmFwc2hvdCgpLCBjaGVjaykpIHJldHVybiAhMTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIHRhZyA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGlmIChub2RlLnN1YnRyZWVGbGFncyAmIDE2Mzg0ICYmIG51bGwgIT09IHRhZylcbiAgICAgICAgICAodGFnLnJldHVybiA9IG5vZGUpLCAobm9kZSA9IHRhZyk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlID09PSBmaW5pc2hlZFdvcmspIGJyZWFrO1xuICAgICAgICAgIGZvciAoOyBudWxsID09PSBub2RlLnNpYmxpbmc7ICkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IG5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSBmaW5pc2hlZFdvcmspIHJldHVybiAhMDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICByb290LFxuICAgICAgc3VzcGVuZGVkTGFuZXMsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIGRpZEF0dGVtcHRFbnRpcmVUcmVlXG4gICAgKSB7XG4gICAgICBzdXNwZW5kZWRMYW5lcyAmPSB+d29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXM7XG4gICAgICBzdXNwZW5kZWRMYW5lcyAmPSB+d29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXM7XG4gICAgICByb290LnN1c3BlbmRlZExhbmVzIHw9IHN1c3BlbmRlZExhbmVzO1xuICAgICAgcm9vdC5waW5nZWRMYW5lcyAmPSB+c3VzcGVuZGVkTGFuZXM7XG4gICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZSAmJiAocm9vdC53YXJtTGFuZXMgfD0gc3VzcGVuZGVkTGFuZXMpO1xuICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWUgPSByb290LmV4cGlyYXRpb25UaW1lcztcbiAgICAgIGZvciAodmFyIGxhbmVzID0gc3VzcGVuZGVkTGFuZXM7IDAgPCBsYW5lczsgKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIobGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZVtpbmRleF0gPSAtMTtcbiAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICB9XG4gICAgICAwICE9PSBzcGF3bmVkTGFuZSAmJlxuICAgICAgICBtYXJrU3Bhd25lZERlZmVycmVkTGFuZShyb290LCBzcGF3bmVkTGFuZSwgc3VzcGVuZGVkTGFuZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaFN5bmNXb3JrJDEoKSB7XG4gICAgICByZXR1cm4gKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT0gTm9Db250ZXh0XG4gICAgICAgID8gKGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKSwgITEpXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpIHtcbiAgICAgIGlmIChudWxsICE9PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IE5vdFN1c3BlbmRlZClcbiAgICAgICAgICB2YXIgaW50ZXJydXB0ZWRXb3JrID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgKGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpLFxuICAgICAgICAgICAgcmVzZXRIb29rc09uVW53aW5kKGludGVycnVwdGVkV29yayksXG4gICAgICAgICAgICAodGhlbmFibGVTdGF0ZSQxID0gbnVsbCksXG4gICAgICAgICAgICAodGhlbmFibGVJbmRleENvdW50ZXIkMSA9IDApLFxuICAgICAgICAgICAgKGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgZm9yICg7IG51bGwgIT09IGludGVycnVwdGVkV29yazsgKVxuICAgICAgICAgIHVud2luZEludGVycnVwdGVkV29yayhpbnRlcnJ1cHRlZFdvcmsuYWx0ZXJuYXRlLCBpbnRlcnJ1cHRlZFdvcmspLFxuICAgICAgICAgICAgKGludGVycnVwdGVkV29yayA9IGludGVycnVwdGVkV29yay5yZXR1cm4pO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGxhbmVzKSB7XG4gICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICByb290LmZpbmlzaGVkTGFuZXMgPSAwO1xuICAgICAgdmFyIHRpbWVvdXRIYW5kbGUgPSByb290LnRpbWVvdXRIYW5kbGU7XG4gICAgICB0aW1lb3V0SGFuZGxlICE9PSBub1RpbWVvdXQgJiZcbiAgICAgICAgKChyb290LnRpbWVvdXRIYW5kbGUgPSBub1RpbWVvdXQpLCBjYW5jZWxUaW1lb3V0KHRpbWVvdXRIYW5kbGUpKTtcbiAgICAgIHRpbWVvdXRIYW5kbGUgPSByb290LmNhbmNlbFBlbmRpbmdDb21taXQ7XG4gICAgICBudWxsICE9PSB0aW1lb3V0SGFuZGxlICYmXG4gICAgICAgICgocm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0ID0gbnVsbCksIHRpbWVvdXRIYW5kbGUoKSk7XG4gICAgICByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9IHJvb3Q7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHRpbWVvdXRIYW5kbGUgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhyb290LmN1cnJlbnQsIG51bGwpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSBsYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MgPSAhMTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBsYW5lcyk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRBdHRhY2hQaW5nTGlzdGVuZXIgPSAhMTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290SW5Qcm9ncmVzcztcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXMgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyA9XG4gICAgICAgICAgMDtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycyA9XG4gICAgICAgIG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRJbmNsdWRlUmVjdXJzaXZlUmVuZGVyVXBkYXRlID0gITE7XG4gICAgICAwICE9PSAobGFuZXMgJiA4KSAmJiAobGFuZXMgfD0gbGFuZXMgJiAzMik7XG4gICAgICB2YXIgYWxsRW50YW5nbGVkTGFuZXMgPSByb290LmVudGFuZ2xlZExhbmVzO1xuICAgICAgaWYgKDAgIT09IGFsbEVudGFuZ2xlZExhbmVzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHJvb3QgPSByb290LmVudGFuZ2xlbWVudHMsIGFsbEVudGFuZ2xlZExhbmVzICY9IGxhbmVzO1xuICAgICAgICAgIDAgPCBhbGxFbnRhbmdsZWRMYW5lcztcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGFsbEVudGFuZ2xlZExhbmVzKSxcbiAgICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICAgIGxhbmVzIHw9IHJvb3RbaW5kZXhdO1xuICAgICAgICAgIGFsbEVudGFuZ2xlZExhbmVzICY9IH5sYW5lO1xuICAgICAgICB9XG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IGxhbmVzO1xuICAgICAgZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpO1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncygpO1xuICAgICAgcmV0dXJuIHRpbWVvdXRIYW5kbGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVRocm93KHJvb3QsIHRocm93blZhbHVlKSB7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID0gbnVsbDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBDb250ZXh0T25seURpc3BhdGNoZXI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuICAgICAgaXNSZW5kZXJpbmcgPSAhMTtcbiAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgdGhyb3duVmFsdWUgPT09IFN1c3BlbnNlRXhjZXB0aW9uXG4gICAgICAgID8gKCh0aHJvd25WYWx1ZSA9IGdldFN1c3BlbmRlZFRoZW5hYmxlKCkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IFN1c3BlbmRlZE9uSW1tZWRpYXRlKSlcbiAgICAgICAgOiB0aHJvd25WYWx1ZSA9PT0gU3VzcGVuc2V5Q29tbWl0RXhjZXB0aW9uXG4gICAgICAgICAgPyAoKHRocm93blZhbHVlID0gZ2V0U3VzcGVuZGVkVGhlbmFibGUoKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBTdXNwZW5kZWRPbkluc3RhbmNlKSlcbiAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9XG4gICAgICAgICAgICAgIHRocm93blZhbHVlID09PSBTZWxlY3RpdmVIeWRyYXRpb25FeGNlcHRpb25cbiAgICAgICAgICAgICAgICA/IFN1c3BlbmRlZE9uSHlkcmF0aW9uXG4gICAgICAgICAgICAgICAgOiBudWxsICE9PSB0aHJvd25WYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdGhyb3duVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdGhyb3duVmFsdWUudGhlblxuICAgICAgICAgICAgICAgICAgPyBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2VcbiAgICAgICAgICAgICAgICAgIDogU3VzcGVuZGVkT25FcnJvcik7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gdGhyb3duVmFsdWU7XG4gICAgICB2YXIgZXJyb3JlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIGlmIChudWxsID09PSBlcnJvcmVkV29yaylcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RmF0YWxFcnJvcmVkKSxcbiAgICAgICAgICBsb2dVbmNhdWdodEVycm9yKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHRocm93blZhbHVlLCByb290LmN1cnJlbnQpXG4gICAgICAgICAgKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoZXJyb3JlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlICYmXG4gICAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKGVycm9yZWRXb3JrKSxcbiAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRXJyb3I6XG4gICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50RXJyb3JlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRFcnJvcmVkKFxuICAgICAgICAgICAgICAgIGVycm9yZWRXb3JrLFxuICAgICAgICAgICAgICAgIHRocm93blZhbHVlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGF0YTpcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW1tZWRpYXRlOlxuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlOlxuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlOlxuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFN1c3BlbmRlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgZXJyb3JlZFdvcmssXG4gICAgICAgICAgICAgICAgdGhyb3duVmFsdWUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoRGlzcGF0Y2hlcigpIHtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICAgICAgcmV0dXJuIG51bGwgPT09IHByZXZEaXNwYXRjaGVyID8gQ29udGV4dE9ubHlEaXNwYXRjaGVyIDogcHJldkRpc3BhdGNoZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hBc3luY0Rpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgcHJldkFzeW5jRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5BID0gRGVmYXVsdEFzeW5jRGlzcGF0Y2hlcjtcbiAgICAgIHJldHVybiBwcmV2QXN5bmNEaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKCkge1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MgfHxcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDQxOTQxNzYpICE9PVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgbnVsbCAhPT0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCkgfHxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gITApO1xuICAgICAgKDAgPT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgJiAxMzQyMTc3MjcpICYmXG4gICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyAmIDEzNDIxNzcyNykpIHx8XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdCB8fFxuICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyUm9vdFN5bmMocm9vdCwgbGFuZXMsIHNob3VsZFlpZWxkRm9yUHJlcmVuZGVyaW5nKSB7XG4gICAgICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCB8PSBSZW5kZXJDb250ZXh0O1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gcHVzaERpc3BhdGNoZXIoKSxcbiAgICAgICAgcHJldkFzeW5jRGlzcGF0Y2hlciA9IHB1c2hBc3luY0Rpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290ICE9PSByb290IHx8XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICE9PSBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudCkge1xuICAgICAgICAgIHZhciBtZW1vaXplZFVwZGF0ZXJzID0gcm9vdC5tZW1vaXplZFVwZGF0ZXJzO1xuICAgICAgICAgIDAgPCBtZW1vaXplZFVwZGF0ZXJzLnNpemUgJiZcbiAgICAgICAgICAgIChyZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMuY2xlYXIoKSk7XG4gICAgICAgICAgbW92ZVBlbmRpbmdGaWJlcnNUb01lbW9pemVkKHJvb3QsIGxhbmVzKTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zID0gbnVsbDtcbiAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgbGFuZXMpO1xuICAgICAgfVxuICAgICAgbWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpO1xuICAgICAgbGFuZXMgPSAhMTtcbiAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzO1xuICAgICAgYTogZG9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiAhPT0gTm90U3VzcGVuZGVkICYmXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHVuaXRPZldvcmsgPSB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgdGhyb3duVmFsdWUgPSB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlO1xuICAgICAgICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbikge1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSHlkcmF0aW9uOlxuICAgICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpO1xuICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSBSb290RGlkTm90Q29tcGxldGU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkltbWVkaWF0ZTpcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRhdGE6XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlOlxuICAgICAgICAgICAgICAgIG51bGwgPT09IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQgJiYgKGxhbmVzID0gITApO1xuICAgICAgICAgICAgICAgIHZhciByZWFzb24gPSB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbjtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKHJvb3QsIHVuaXRPZldvcmssIHRocm93blZhbHVlLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHNob3VsZFlpZWxkRm9yUHJlcmVuZGVyaW5nICYmXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZ1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IFJvb3RJblByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgKHJlYXNvbiA9IHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChyb290LCB1bml0T2ZXb3JrLCB0aHJvd25WYWx1ZSwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgd29ya0xvb3BTeW5jKCk7XG4gICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gY2F0Y2ggKHRocm93blZhbHVlJDgpIHtcbiAgICAgICAgICBoYW5kbGVUaHJvdyhyb290LCB0aHJvd25WYWx1ZSQ4KTtcbiAgICAgICAgfVxuICAgICAgd2hpbGUgKDEpO1xuICAgICAgbGFuZXMgJiYgcm9vdC5zaGVsbFN1c3BlbmRDb3VudGVyKys7XG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkEgPSBwcmV2QXN5bmNEaXNwYXRjaGVyO1xuICAgICAgbWFya1JlbmRlclN0b3BwZWQoKTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbCksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDApLFxuICAgICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCkpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkVXBkYXRlcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdvcmtMb29wU3luYygpIHtcbiAgICAgIGZvciAoOyBudWxsICE9PSB3b3JrSW5Qcm9ncmVzczsgKSBwZXJmb3JtVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlclJvb3RDb25jdXJyZW50KHJvb3QsIGxhbmVzKSB7XG4gICAgICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCB8PSBSZW5kZXJDb250ZXh0O1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gcHVzaERpc3BhdGNoZXIoKSxcbiAgICAgICAgcHJldkFzeW5jRGlzcGF0Y2hlciA9IHB1c2hBc3luY0Rpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290ICE9PSByb290IHx8XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICE9PSBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudCkge1xuICAgICAgICAgIHZhciBtZW1vaXplZFVwZGF0ZXJzID0gcm9vdC5tZW1vaXplZFVwZGF0ZXJzO1xuICAgICAgICAgIDAgPCBtZW1vaXplZFVwZGF0ZXJzLnNpemUgJiZcbiAgICAgICAgICAgIChyZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMuY2xlYXIoKSk7XG4gICAgICAgICAgbW92ZVBlbmRpbmdGaWJlcnNUb01lbW9pemVkKHJvb3QsIGxhbmVzKTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zID0gbnVsbDtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSA9IG5vdyQxKCkgKyBSRU5ERVJfVElNRU9VVF9NUztcbiAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgbGFuZXMpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhcbiAgICAgICAgICByb290LFxuICAgICAgICAgIGxhbmVzXG4gICAgICAgICk7XG4gICAgICBtYXJrUmVuZGVyU3RhcnRlZChsYW5lcyk7XG4gICAgICBhOiBkb1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uICE9PSBOb3RTdXNwZW5kZWQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYjogc3dpdGNoIChcbiAgICAgICAgICAgICAgKChsYW5lcyA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKG1lbW9pemVkVXBkYXRlcnMgPSB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkVycm9yOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25FcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EYXRhOlxuICAgICAgICAgICAgICAgIGlmIChpc1RoZW5hYmxlUmVzb2x2ZWQobWVtb2l6ZWRVcGRhdGVycykpIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICByZXBsYXlTdXNwZW5kZWRVbml0T2ZXb3JrKGxhbmVzKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYW5lcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID09PSByb290ICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlKTtcbiAgICAgICAgICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMudGhlbihsYW5lcywgbGFuZXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbW1lZGlhdGU6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkluc3RhbmNlOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID1cbiAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZE9uSW5zdGFuY2VBbmRSZWFkeVRvQ29udGludWU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWU6XG4gICAgICAgICAgICAgICAgaXNUaGVuYWJsZVJlc29sdmVkKG1lbW9pemVkVXBkYXRlcnMpXG4gICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICByZXBsYXlTdXNwZW5kZWRVbml0T2ZXb3JrKGxhbmVzKSlcbiAgICAgICAgICAgICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlOlxuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgIHZhciBob3N0RmliZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlID8gcHJlbG9hZFJlc291cmNlKHJlc291cmNlKSA6IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2libGluZyA9IGhvc3RGaWJlci5zaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBzaWJsaW5nKSB3b3JrSW5Qcm9ncmVzcyA9IHNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBob3N0RmliZXIucmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlVW5pdE9mV29yayhyZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzID0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCB0eXBlIG9mIGZpYmVyIHRyaWdnZXJlZCBhIHN1c3BlbnNleSBjb21taXQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMsXG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2U6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMsXG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSHlkcmF0aW9uOlxuICAgICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RGlkTm90Q29tcGxldGU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCBTdXNwZW5kZWRSZWFzb24uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlXG4gICAgICAgICAgICA/IHdvcmtMb29wU3luYygpXG4gICAgICAgICAgICA6IHdvcmtMb29wQ29uY3VycmVudCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSQ5KSB7XG4gICAgICAgICAgaGFuZGxlVGhyb3cocm9vdCwgdGhyb3duVmFsdWUkOSk7XG4gICAgICAgIH1cbiAgICAgIHdoaWxlICgxKTtcbiAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuQSA9IHByZXZBc3luY0Rpc3BhdGNoZXI7XG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBpZiAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyWWllbGRlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyWWllbGRlZCgpLFxuICAgICAgICAgIFJvb3RJblByb2dyZXNzXG4gICAgICAgICk7XG4gICAgICBtYXJrUmVuZGVyU3RvcHBlZCgpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gMDtcbiAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3b3JrTG9vcENvbmN1cnJlbnQoKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MgJiYgIXNob3VsZFlpZWxkKCk7IClcbiAgICAgICAgcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtVW5pdE9mV29yayh1bml0T2ZXb3JrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IHVuaXRPZldvcmsuYWx0ZXJuYXRlO1xuICAgICAgKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlXG4gICAgICAgID8gKHN0YXJ0UHJvZmlsZXJUaW1lcih1bml0T2ZXb3JrKSxcbiAgICAgICAgICAoY3VycmVudCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGJlZ2luV29yayxcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXNcbiAgICAgICAgICApKSxcbiAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKHVuaXRPZldvcmspKVxuICAgICAgICA6IChjdXJyZW50ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgYmVnaW5Xb3JrLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lc1xuICAgICAgICAgICkpO1xuICAgICAgdW5pdE9mV29yay5tZW1vaXplZFByb3BzID0gdW5pdE9mV29yay5wZW5kaW5nUHJvcHM7XG4gICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgID8gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzID0gY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheVN1c3BlbmRlZFVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIG5leHQgPSBydW5XaXRoRmliZXJJbkRFVih1bml0T2ZXb3JrLCByZXBsYXlCZWdpbldvcmssIHVuaXRPZldvcmspO1xuICAgICAgdW5pdE9mV29yay5tZW1vaXplZFByb3BzID0gdW5pdE9mV29yay5wZW5kaW5nUHJvcHM7XG4gICAgICBudWxsID09PSBuZXh0ID8gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspIDogKHdvcmtJblByb2dyZXNzID0gbmV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheUJlZ2luV29yayh1bml0T2ZXb3JrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IHVuaXRPZldvcmsuYWx0ZXJuYXRlLFxuICAgICAgICBpc1Byb2ZpbGluZ01vZGUgPSAodW5pdE9mV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGU7XG4gICAgICBpc1Byb2ZpbGluZ01vZGUgJiYgc3RhcnRQcm9maWxlclRpbWVyKHVuaXRPZldvcmspO1xuICAgICAgc3dpdGNoICh1bml0T2ZXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgY3VycmVudCA9IHJlcGxheUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHVuaXRPZldvcmsudHlwZSxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjdXJyZW50ID0gcmVwbGF5RnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIHVuaXRPZldvcmsucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgdW5pdE9mV29yay50eXBlLnJlbmRlcixcbiAgICAgICAgICAgIHVuaXRPZldvcmsucmVmLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVzZXRIb29rc09uVW53aW5kKHVuaXRPZldvcmspO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHVud2luZEludGVycnVwdGVkV29yayhjdXJyZW50LCB1bml0T2ZXb3JrKSxcbiAgICAgICAgICAgICh1bml0T2ZXb3JrID0gd29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzKHVuaXRPZldvcmssIGVudGFuZ2xlZFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAoY3VycmVudCA9IGJlZ2luV29yayhjdXJyZW50LCB1bml0T2ZXb3JrLCBlbnRhbmdsZWRSZW5kZXJMYW5lcykpO1xuICAgICAgfVxuICAgICAgaXNQcm9maWxpbmdNb2RlICYmXG4gICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRHVyYXRpb24odW5pdE9mV29yayk7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgIHJvb3QsXG4gICAgICB1bml0T2ZXb3JrLFxuICAgICAgdGhyb3duVmFsdWUsXG4gICAgICBzdXNwZW5kZWRSZWFzb25cbiAgICApIHtcbiAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpO1xuICAgICAgcmVzZXRIb29rc09uVW53aW5kKHVuaXRPZldvcmspO1xuICAgICAgdGhlbmFibGVTdGF0ZSQxID0gbnVsbDtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwO1xuICAgICAgdmFyIHJldHVybkZpYmVyID0gdW5pdE9mV29yay5yZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgdGhyb3duVmFsdWUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RGYXRhbEVycm9yZWQ7XG4gICAgICAgICAgbG9nVW5jYXVnaHRFcnJvcihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih0aHJvd25WYWx1ZSwgcm9vdC5jdXJyZW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IHJldHVybkZpYmVyKSB0aHJvdyAoKHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXIpLCBlcnJvcik7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RmF0YWxFcnJvcmVkO1xuICAgICAgICBsb2dVbmNhdWdodEVycm9yKFxuICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodGhyb3duVmFsdWUsIHJvb3QuY3VycmVudClcbiAgICAgICAgKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodW5pdE9mV29yay5mbGFncyAmIDMyNzY4KSB7XG4gICAgICAgIGlmIChpc0h5ZHJhdGluZyB8fCBzdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRXJyb3IpIHJvb3QgPSAhMDtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgfHxcbiAgICAgICAgICAwICE9PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpXG4gICAgICAgIClcbiAgICAgICAgICByb290ID0gITE7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzID0gcm9vdCA9ICEwKSxcbiAgICAgICAgICBzdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSB8fFxuICAgICAgICAgICAgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkltbWVkaWF0ZSB8fFxuICAgICAgICAgICAgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2UpXG4gICAgICAgIClcbiAgICAgICAgICAoc3VzcGVuZGVkUmVhc29uID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCksXG4gICAgICAgICAgICBudWxsICE9PSBzdXNwZW5kZWRSZWFzb24gJiZcbiAgICAgICAgICAgICAgMTMgPT09IHN1c3BlbmRlZFJlYXNvbi50YWcgJiZcbiAgICAgICAgICAgICAgKHN1c3BlbmRlZFJlYXNvbi5mbGFncyB8PSAxNjM4NCk7XG4gICAgICAgIHVud2luZFVuaXRPZldvcmsodW5pdE9mV29yaywgcm9vdCk7XG4gICAgICB9IGVsc2UgY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIGNvbXBsZXRlZFdvcmsgPSB1bml0T2ZXb3JrO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoMCAhPT0gKGNvbXBsZXRlZFdvcmsuZmxhZ3MgJiAzMjc2OCkpIHtcbiAgICAgICAgICB1bndpbmRVbml0T2ZXb3JrKFxuICAgICAgICAgICAgY29tcGxldGVkV29yayxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gY29tcGxldGVkV29yay5hbHRlcm5hdGU7XG4gICAgICAgIHVuaXRPZldvcmsgPSBjb21wbGV0ZWRXb3JrLnJldHVybjtcbiAgICAgICAgc3RhcnRQcm9maWxlclRpbWVyKGNvbXBsZXRlZFdvcmspO1xuICAgICAgICBjdXJyZW50ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgY29tcGxldGVkV29yayxcbiAgICAgICAgICBjb21wbGV0ZVdvcmssXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLFxuICAgICAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzXG4gICAgICAgICk7XG4gICAgICAgIChjb21wbGV0ZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkSW5jb21wbGV0ZUR1cmF0aW9uKGNvbXBsZXRlZFdvcmspO1xuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gY3VycmVudDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVkV29yayA9IGNvbXBsZXRlZFdvcmsuc2libGluZztcbiAgICAgICAgaWYgKG51bGwgIT09IGNvbXBsZXRlZFdvcmspIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGNvbXBsZXRlZFdvcms7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gY29tcGxldGVkV29yayA9IHVuaXRPZldvcms7XG4gICAgICB9IHdoaWxlIChudWxsICE9PSBjb21wbGV0ZWRXb3JrKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RJblByb2dyZXNzICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdENvbXBsZXRlZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVud2luZFVuaXRPZldvcmsodW5pdE9mV29yaywgc2tpcFNpYmxpbmdzKSB7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBuZXh0ID0gdW53aW5kV29yayh1bml0T2ZXb3JrLmFsdGVybmF0ZSwgdW5pdE9mV29yayk7XG4gICAgICAgIGlmIChudWxsICE9PSBuZXh0KSB7XG4gICAgICAgICAgbmV4dC5mbGFncyAmPSAzMjc2NztcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG5leHQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodW5pdE9mV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUpIHtcbiAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZEluY29tcGxldGVEdXJhdGlvbih1bml0T2ZXb3JrKTtcbiAgICAgICAgICBuZXh0ID0gdW5pdE9mV29yay5hY3R1YWxEdXJhdGlvbjtcbiAgICAgICAgICBmb3IgKHZhciBjaGlsZCA9IHVuaXRPZldvcmsuY2hpbGQ7IG51bGwgIT09IGNoaWxkOyApXG4gICAgICAgICAgICAobmV4dCArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiksIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHVuaXRPZldvcmsuYWN0dWFsRHVyYXRpb24gPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIG5leHQgPSB1bml0T2ZXb3JrLnJldHVybjtcbiAgICAgICAgbnVsbCAhPT0gbmV4dCAmJlxuICAgICAgICAgICgobmV4dC5mbGFncyB8PSAzMjc2OCksXG4gICAgICAgICAgKG5leHQuc3VidHJlZUZsYWdzID0gMCksXG4gICAgICAgICAgKG5leHQuZGVsZXRpb25zID0gbnVsbCkpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXNraXBTaWJsaW5ncyAmJlxuICAgICAgICAgICgodW5pdE9mV29yayA9IHVuaXRPZldvcmsuc2libGluZyksIG51bGwgIT09IHVuaXRPZldvcmspXG4gICAgICAgICkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gdW5pdE9mV29yaztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB1bml0T2ZXb3JrID0gbmV4dDtcbiAgICAgIH0gd2hpbGUgKG51bGwgIT09IHVuaXRPZldvcmspO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3REaWROb3RDb21wbGV0ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Um9vdChcbiAgICAgIHJvb3QsXG4gICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgcHJldmlvdXNVcGRhdGVMYW5lUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbCksXG4gICAgICAgICAgY29tbWl0Um9vdEltcGwoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICB0cmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgICAgIHByZXZpb3VzVXBkYXRlTGFuZVByaW9yaXR5LFxuICAgICAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKSxcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzVXBkYXRlTGFuZVByaW9yaXR5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Um9vdEltcGwoXG4gICAgICByb290LFxuICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICB0cmFuc2l0aW9ucyxcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgIHJlbmRlclByaW9yaXR5TGV2ZWwsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXNcbiAgICApIHtcbiAgICAgIGRvIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgIHdoaWxlIChudWxsICE9PSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyk7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nKCk7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncygpO1xuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgbm90IGFscmVhZHkgYmUgd29ya2luZy5cIik7XG4gICAgICB2YXIgZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUgPSByb290LmZpbmlzaGVkTGFuZXM7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0YXJ0ZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tbWl0U3RhcnRlZChkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUpO1xuICAgICAgaWYgKG51bGwgPT09IGZpbmlzaGVkV29yaykgcmV0dXJuIG1hcmtDb21taXRTdG9wcGVkKCksIG51bGw7XG4gICAgICAwID09PSBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcInJvb3QuZmluaXNoZWRMYW5lcyBzaG91bGQgbm90IGJlIGVtcHR5IGR1cmluZyBhIGNvbW1pdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgcm9vdC5maW5pc2hlZExhbmVzID0gMDtcbiAgICAgIGlmIChmaW5pc2hlZFdvcmsgPT09IHJvb3QuY3VycmVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJDYW5ub3QgY29tbWl0IHRoZSBzYW1lIHRyZWUgYXMgYmVmb3JlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICByb290LmNhbGxiYWNrTm9kZSA9IG51bGw7XG4gICAgICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSAwO1xuICAgICAgcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0ID0gbnVsbDtcbiAgICAgIHZhciByZW1haW5pbmdMYW5lcyA9IGZpbmlzaGVkV29yay5sYW5lcyB8IGZpbmlzaGVkV29yay5jaGlsZExhbmVzO1xuICAgICAgcmVtYWluaW5nTGFuZXMgfD0gY29uY3VycmVudGx5VXBkYXRlZExhbmVzO1xuICAgICAgbWFya1Jvb3RGaW5pc2hlZChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICByZW1haW5pbmdMYW5lcyxcbiAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lc1xuICAgICAgKTtcbiAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbCksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDApKTtcbiAgICAgICgwID09PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDEwMjU2KSAmJlxuICAgICAgICAwID09PSAoZmluaXNoZWRXb3JrLmZsYWdzICYgMTAyNTYpKSB8fFxuICAgICAgICByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyB8fFxuICAgICAgICAoKHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gITApLFxuICAgICAgICAocGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXMgPSByZW1haW5pbmdMYW5lcyksXG4gICAgICAgIChwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zID0gdHJhbnNpdGlvbnMpLFxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrJDEoTm9ybWFsUHJpb3JpdHkkMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZsdXNoUGFzc2l2ZUVmZmVjdHMoITApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgICBjb21taXRTdGFydFRpbWUgPSBub3coKTtcbiAgICAgIHRyYW5zaXRpb25zID0gMCAhPT0gKGZpbmlzaGVkV29yay5mbGFncyAmIDE1OTkwKTtcbiAgICAgIDAgIT09IChmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzICYgMTU5OTApIHx8IHRyYW5zaXRpb25zXG4gICAgICAgID8gKCh0cmFuc2l0aW9ucyA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbCksXG4gICAgICAgICAgKHNwYXduZWRMYW5lID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCksXG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgICh1cGRhdGVkTGFuZXMgPSBleGVjdXRpb25Db250ZXh0KSxcbiAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCB8PSBDb21taXRDb250ZXh0KSxcbiAgICAgICAgICBjb21taXRCZWZvcmVNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICBjb21taXRNdXRhdGlvbkVmZmVjdHMoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZXN0b3JlU2VsZWN0aW9uKHNlbGVjdGlvbkluZm9ybWF0aW9uLCByb290LmNvbnRhaW5lckluZm8pLFxuICAgICAgICAgIChfZW5hYmxlZCA9ICEhZXZlbnRzRW5hYmxlZCksXG4gICAgICAgICAgKHNlbGVjdGlvbkluZm9ybWF0aW9uID0gZXZlbnRzRW5hYmxlZCA9IG51bGwpLFxuICAgICAgICAgIChyb290LmN1cnJlbnQgPSBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0xheW91dEVmZmVjdHNTdGFydGVkICYmXG4gICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RhcnRlZChcbiAgICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlXG4gICAgICAgICAgICApLFxuICAgICAgICAgIGNvbW1pdExheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCByb290LCBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUpLFxuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0xheW91dEVmZmVjdHNTdG9wcGVkICYmXG4gICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RvcHBlZCgpLFxuICAgICAgICAgIHJlcXVlc3RQYWludCgpLFxuICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ID0gdXBkYXRlZExhbmVzKSxcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHNwYXduZWRMYW5lKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHRyYW5zaXRpb25zKSlcbiAgICAgICAgOiAocm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrKTtcbiAgICAgICh0cmFuc2l0aW9ucyA9IHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzKVxuICAgICAgICA/ICgocm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgPSAhMSksXG4gICAgICAgICAgKHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzID0gcm9vdCksXG4gICAgICAgICAgKHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzID0gZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlKSlcbiAgICAgICAgOiAocmVsZWFzZVJvb3RQb29sZWRDYWNoZShyb290LCByZW1haW5pbmdMYW5lcyksXG4gICAgICAgICAgKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gbnVsbCkpO1xuICAgICAgcmVtYWluaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIDAgPT09IHJlbWFpbmluZ0xhbmVzICYmIChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG51bGwpO1xuICAgICAgdHJhbnNpdGlvbnMgfHwgY29tbWl0RG91YmxlSW52b2tlRWZmZWN0c0luREVWKHJvb3QpO1xuICAgICAgb25Db21taXRSb290JDEoZmluaXNoZWRXb3JrLnN0YXRlTm9kZSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiByb290Lm1lbW9pemVkVXBkYXRlcnMuY2xlYXIoKTtcbiAgICAgIG9uQ29tbWl0Um9vdCgpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgICAgaWYgKG51bGwgIT09IHJlY292ZXJhYmxlRXJyb3JzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHJlbmRlclByaW9yaXR5TGV2ZWwgPSByb290Lm9uUmVjb3ZlcmFibGVFcnJvciwgZmluaXNoZWRXb3JrID0gMDtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsgPCByZWNvdmVyYWJsZUVycm9ycy5sZW5ndGg7XG4gICAgICAgICAgZmluaXNoZWRXb3JrKytcbiAgICAgICAgKVxuICAgICAgICAgIChyZW1haW5pbmdMYW5lcyA9IHJlY292ZXJhYmxlRXJyb3JzW2ZpbmlzaGVkV29ya10pLFxuICAgICAgICAgICAgKHRyYW5zaXRpb25zID0gbWFrZUVycm9ySW5mbyhyZW1haW5pbmdMYW5lcy5zdGFjaykpLFxuICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgIHJlbWFpbmluZ0xhbmVzLnNvdXJjZSxcbiAgICAgICAgICAgICAgcmVuZGVyUHJpb3JpdHlMZXZlbCxcbiAgICAgICAgICAgICAgcmVtYWluaW5nTGFuZXMudmFsdWUsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgMCAhPT0gKHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzICYgMykgJiYgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgcmVtYWluaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIDAgIT09IChkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUgJiA0MTk0MjE4KSAmJlxuICAgICAgMCAhPT0gKHJlbWFpbmluZ0xhbmVzICYgNDIpXG4gICAgICAgID8gKChuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSAhMCksXG4gICAgICAgICAgcm9vdCA9PT0gcm9vdFdpdGhOZXN0ZWRVcGRhdGVzXG4gICAgICAgICAgICA/IG5lc3RlZFVwZGF0ZUNvdW50KytcbiAgICAgICAgICAgIDogKChuZXN0ZWRVcGRhdGVDb3VudCA9IDApLCAocm9vdFdpdGhOZXN0ZWRVcGRhdGVzID0gcm9vdCkpKVxuICAgICAgICA6IChuZXN0ZWRVcGRhdGVDb3VudCA9IDApO1xuICAgICAgZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoMCwgITEpO1xuICAgICAgbWFya0NvbW1pdFN0b3BwZWQoKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlRXJyb3JJbmZvKGNvbXBvbmVudFN0YWNrKSB7XG4gICAgICBjb21wb25lbnRTdGFjayA9IHsgY29tcG9uZW50U3RhY2s6IGNvbXBvbmVudFN0YWNrIH07XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcG9uZW50U3RhY2ssIFwiZGlnZXN0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdZb3UgYXJlIGFjY2Vzc2luZyBcImRpZ2VzdFwiIGZyb20gdGhlIGVycm9ySW5mbyBvYmplY3QgcGFzc2VkIHRvIG9uUmVjb3ZlcmFibGVFcnJvci4gVGhpcyBwcm9wZXJ0eSBpcyBubyBsb25nZXIgcHJvdmlkZWQgYXMgcGFydCBvZiBlcnJvckluZm8gYnV0IGNhbiBiZSBhY2Nlc3NlZCBhcyBhIHByb3BlcnR5IG9mIHRoZSBFcnJvciBpbnN0YW5jZSBpdHNlbGYuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbXBvbmVudFN0YWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWxlYXNlUm9vdFBvb2xlZENhY2hlKHJvb3QsIHJlbWFpbmluZ0xhbmVzKSB7XG4gICAgICAwID09PSAocm9vdC5wb29sZWRDYWNoZUxhbmVzICY9IHJlbWFpbmluZ0xhbmVzKSAmJlxuICAgICAgICAoKHJlbWFpbmluZ0xhbmVzID0gcm9vdC5wb29sZWRDYWNoZSksXG4gICAgICAgIG51bGwgIT0gcmVtYWluaW5nTGFuZXMgJiZcbiAgICAgICAgICAoKHJvb3QucG9vbGVkQ2FjaGUgPSBudWxsKSwgcmVsZWFzZUNhY2hlKHJlbWFpbmluZ0xhbmVzKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaFBhc3NpdmVFZmZlY3RzKCkge1xuICAgICAgaWYgKG51bGwgIT09IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzKSB7XG4gICAgICAgIHZhciByb290ID0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMsXG4gICAgICAgICAgcmVtYWluaW5nTGFuZXMgPSBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNSZW1haW5pbmdMYW5lcztcbiAgICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXMgPSAwO1xuICAgICAgICB2YXIgcmVuZGVyUHJpb3JpdHkgPSBsYW5lc1RvRXZlbnRQcmlvcml0eShwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyksXG4gICAgICAgICAgcHJpb3JpdHkgPVxuICAgICAgICAgICAgMCA9PT0gRGVmYXVsdEV2ZW50UHJpb3JpdHkgfHwgRGVmYXVsdEV2ZW50UHJpb3JpdHkgPiByZW5kZXJQcmlvcml0eVxuICAgICAgICAgICAgICA/IERlZmF1bHRFdmVudFByaW9yaXR5XG4gICAgICAgICAgICAgIDogcmVuZGVyUHJpb3JpdHk7XG4gICAgICAgIHJlbmRlclByaW9yaXR5ID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmlvcml0eTtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMpXG4gICAgICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmlvcml0eSA9IHBlbmRpbmdQYXNzaXZlVHJhbnNpdGlvbnM7XG4gICAgICAgICAgICBwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByb290JGpzY29tcCQwID0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMsXG4gICAgICAgICAgICAgIGxhbmVzID0gcGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXM7XG4gICAgICAgICAgICByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyA9IG51bGw7XG4gICAgICAgICAgICBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyA9IDA7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09XG4gICAgICAgICAgICAgIE5vQ29udGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkNhbm5vdCBmbHVzaCBwYXNzaXZlIGVmZmVjdHMgd2hpbGUgYWxyZWFkeSByZW5kZXJpbmcuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyA9ICEwO1xuICAgICAgICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9ICExO1xuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RhcnRlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0YXJ0ZWQobGFuZXMpO1xuICAgICAgICAgICAgdmFyIHByZXZFeGVjdXRpb25Db250ZXh0ID0gZXhlY3V0aW9uQ29udGV4dDtcbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHQgfD0gQ29tbWl0Q29udGV4dDtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50T25GaWJlcihyb290JGpzY29tcCQwLmN1cnJlbnQpO1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZU1vdW50T25GaWJlcihcbiAgICAgICAgICAgICAgcm9vdCRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgcm9vdCRqc2NvbXAkMC5jdXJyZW50LFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgcHJpb3JpdHlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUGFzc2l2ZUVmZmVjdHNTdG9wcGVkICYmXG4gICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RvcHBlZCgpO1xuICAgICAgICAgICAgY29tbWl0RG91YmxlSW52b2tlRWZmZWN0c0luREVWKHJvb3QkanNjb21wJDApO1xuICAgICAgICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuICAgICAgICAgICAgZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoMCwgITEpO1xuICAgICAgICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0c1xuICAgICAgICAgICAgICA/IHJvb3QkanNjb21wJDAgPT09IHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXNcbiAgICAgICAgICAgICAgICA/IG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCsrXG4gICAgICAgICAgICAgICAgOiAoKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAgICAgICAgICAgKHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSByb290JGpzY29tcCQwKSlcbiAgICAgICAgICAgICAgOiAobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCk7XG4gICAgICAgICAgICBkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzID1cbiAgICAgICAgICAgICAgITE7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGluamVjdGVkSG9vayAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25Qb3N0Q29tbWl0RmliZXJSb290XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWRIb29rLm9uUG9zdENvbW1pdEZpYmVyUm9vdChyZW5kZXJlcklELCByb290JGpzY29tcCQwKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXRlTm9kZSA9IHJvb3QkanNjb21wJDAuY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBzdGF0ZU5vZGUuZWZmZWN0RHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSByZW5kZXJQcmlvcml0eSksXG4gICAgICAgICAgICByZWxlYXNlUm9vdFBvb2xlZENhY2hlKHJvb3QsIHJlbWFpbmluZ0xhbmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChyb290RmliZXIsIHNvdXJjZUZpYmVyLCBlcnJvcikge1xuICAgICAgc291cmNlRmliZXIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihlcnJvciwgc291cmNlRmliZXIpO1xuICAgICAgc291cmNlRmliZXIgPSBjcmVhdGVSb290RXJyb3JVcGRhdGUocm9vdEZpYmVyLnN0YXRlTm9kZSwgc291cmNlRmliZXIsIDIpO1xuICAgICAgcm9vdEZpYmVyID0gZW5xdWV1ZVVwZGF0ZShyb290RmliZXIsIHNvdXJjZUZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHJvb3RGaWJlciAmJlxuICAgICAgICAobWFya1Jvb3RVcGRhdGVkJDEocm9vdEZpYmVyLCAyKSwgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3RGaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihcbiAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGVycm9yXG4gICAgKSB7XG4gICAgICBpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMTtcbiAgICAgIGlmICgzID09PSBzb3VyY2VGaWJlci50YWcpXG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290KHNvdXJjZUZpYmVyLCBzb3VyY2VGaWJlciwgZXJyb3IpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAoOyBudWxsICE9PSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yOyApIHtcbiAgICAgICAgICBpZiAoMyA9PT0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci50YWcpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290KFxuICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICBzb3VyY2VGaWJlcixcbiAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgxID09PSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnRhZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciB8fFxuICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAobnVsbCA9PT0gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgfHxcbiAgICAgICAgICAgICAgICAgICFsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5oYXMoaW5zdGFuY2UpKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBzb3VyY2VGaWJlciA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKGVycm9yLCBzb3VyY2VGaWJlcik7XG4gICAgICAgICAgICAgIGVycm9yID0gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZSgyKTtcbiAgICAgICAgICAgICAgaW5zdGFuY2UgPSBlbnF1ZXVlVXBkYXRlKG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yLCAyKTtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICAoaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBtYXJrUm9vdFVwZGF0ZWQkMShpbnN0YW5jZSwgMiksXG4gICAgICAgICAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciA9IG5lYXJlc3RNb3VudGVkQW5jZXN0b3IucmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBlcnJvcjogQXR0ZW1wdGVkIHRvIGNhcHR1cmUgYSBjb21taXQgcGhhc2UgZXJyb3IgaW5zaWRlIGEgZGV0YWNoZWQgdHJlZS4gVGhpcyBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QuIFBvdGVudGlhbCBjYXVzZXMgaW5jbHVkZSBkZWxldGluZyB0aGUgc2FtZSBmaWJlciBtb3JlIHRoYW4gb25jZSwgY29tbWl0dGluZyBhbiBhbHJlYWR5LWZpbmlzaGVkIHRyZWUsIG9yIGFuIGluY29uc2lzdGVudCByZXR1cm4gcG9pbnRlci5cXG5cXG5FcnJvciBtZXNzYWdlOlxcblxcbiVzXCIsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0YWNoUGluZ0xpc3RlbmVyKHJvb3QsIHdha2VhYmxlLCBsYW5lcykge1xuICAgICAgdmFyIHBpbmdDYWNoZSA9IHJvb3QucGluZ0NhY2hlO1xuICAgICAgaWYgKG51bGwgPT09IHBpbmdDYWNoZSkge1xuICAgICAgICBwaW5nQ2FjaGUgPSByb290LnBpbmdDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbiAgICAgICAgdmFyIHRocmVhZElEcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcGluZ0NhY2hlLnNldCh3YWtlYWJsZSwgdGhyZWFkSURzKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICAodGhyZWFkSURzID0gcGluZ0NhY2hlLmdldCh3YWtlYWJsZSkpLFxuICAgICAgICAgIHZvaWQgMCA9PT0gdGhyZWFkSURzICYmXG4gICAgICAgICAgICAoKHRocmVhZElEcyA9IG5ldyBTZXQoKSksIHBpbmdDYWNoZS5zZXQod2FrZWFibGUsIHRocmVhZElEcykpO1xuICAgICAgdGhyZWFkSURzLmhhcyhsYW5lcykgfHxcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3REaWRBdHRhY2hQaW5nTGlzdGVuZXIgPSAhMCksXG4gICAgICAgIHRocmVhZElEcy5hZGQobGFuZXMpLFxuICAgICAgICAocGluZ0NhY2hlID0gcGluZ1N1c3BlbmRlZFJvb3QuYmluZChudWxsLCByb290LCB3YWtlYWJsZSwgbGFuZXMpKSxcbiAgICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgcmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCBsYW5lcyksXG4gICAgICAgIHdha2VhYmxlLnRoZW4ocGluZ0NhY2hlLCBwaW5nQ2FjaGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGluZ1N1c3BlbmRlZFJvb3Qocm9vdCwgd2FrZWFibGUsIHBpbmdlZExhbmVzKSB7XG4gICAgICB2YXIgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGU7XG4gICAgICBudWxsICE9PSBwaW5nQ2FjaGUgJiYgcGluZ0NhY2hlLmRlbGV0ZSh3YWtlYWJsZSk7XG4gICAgICByb290LnBpbmdlZExhbmVzIHw9IHJvb3Quc3VzcGVuZGVkTGFuZXMgJiBwaW5nZWRMYW5lcztcbiAgICAgIHJvb3Qud2FybUxhbmVzICY9IH5waW5nZWRMYW5lcztcbiAgICAgIGlzQ29uY3VycmVudEFjdEVudmlyb25tZW50KCkgJiZcbiAgICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkEgc3VzcGVuZGVkIHJlc291cmNlIGZpbmlzaGVkIGxvYWRpbmcgaW5zaWRlIGEgdGVzdCwgYnV0IHRoZSBldmVudCB3YXMgbm90IHdyYXBwZWQgaW4gYWN0KC4uLikuXFxuXFxuV2hlbiB0ZXN0aW5nLCBjb2RlIHRoYXQgcmVzb2x2ZXMgc3VzcGVuZGVkIGRhdGEgc2hvdWxkIGJlIHdyYXBwZWQgaW50byBhY3QoLi4uKTpcXG5cXG5hY3QoKCkgPT4ge1xcbiAgLyogZmluaXNoIGxvYWRpbmcgc3VzcGVuZGVkIGRhdGEgKi9cXG59KTtcXG4vKiBhc3NlcnQgb24gdGhlIG91dHB1dCAqL1xcblxcblRoaXMgZW5zdXJlcyB0aGF0IHlvdSdyZSB0ZXN0aW5nIHRoZSBiZWhhdmlvciB0aGUgdXNlciB3b3VsZCBzZWUgaW4gdGhlIGJyb3dzZXIuIExlYXJuIG1vcmUgYXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93cmFwLXRlc3RzLXdpdGgtYWN0XCJcbiAgICAgICAgKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9PT0gcm9vdCAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiBwaW5nZWRMYW5lcykgPT09IHBpbmdlZExhbmVzICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkV2l0aERlbGF5IHx8XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNjI5MTQ1NjApID09PVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICBub3ckMSgpIC0gZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA8IEZBTExCQUNLX1RIUk9UVExFX01TKVxuICAgICAgICAgID8gKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSA9PT0gTm9Db250ZXh0ICYmXG4gICAgICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCAwKVxuICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzIHw9IHBpbmdlZExhbmVzKSxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgPSAwKSk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpIHtcbiAgICAgIDAgPT09IHJldHJ5TGFuZSAmJiAocmV0cnlMYW5lID0gY2xhaW1OZXh0UmV0cnlMYW5lKCkpO1xuICAgICAgYm91bmRhcnlGaWJlciA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpO1xuICAgICAgbnVsbCAhPT0gYm91bmRhcnlGaWJlciAmJlxuICAgICAgICAobWFya1Jvb3RVcGRhdGVkJDEoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKSxcbiAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKGJvdW5kYXJ5RmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cnlEZWh5ZHJhdGVkU3VzcGVuc2VCb3VuZGFyeShib3VuZGFyeUZpYmVyKSB7XG4gICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGJvdW5kYXJ5RmliZXIubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgcmV0cnlMYW5lID0gMDtcbiAgICAgIG51bGwgIT09IHN1c3BlbnNlU3RhdGUgJiYgKHJldHJ5TGFuZSA9IHN1c3BlbnNlU3RhdGUucmV0cnlMYW5lKTtcbiAgICAgIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlUmV0cnlXYWtlYWJsZShib3VuZGFyeUZpYmVyLCB3YWtlYWJsZSkge1xuICAgICAgdmFyIHJldHJ5TGFuZSA9IDA7XG4gICAgICBzd2l0Y2ggKGJvdW5kYXJ5RmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgdmFyIHJldHJ5Q2FjaGUgPSBib3VuZGFyeUZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGJvdW5kYXJ5RmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBudWxsICE9PSBzdXNwZW5zZVN0YXRlICYmIChyZXRyeUxhbmUgPSBzdXNwZW5zZVN0YXRlLnJldHJ5TGFuZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0cnlDYWNoZSA9IGJvdW5kYXJ5RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHJ5Q2FjaGUgPSBib3VuZGFyeUZpYmVyLnN0YXRlTm9kZS5fcmV0cnlDYWNoZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiUGluZ2VkIHVua25vd24gc3VzcGVuc2UgYm91bmRhcnkgdHlwZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBudWxsICE9PSByZXRyeUNhY2hlICYmIHJldHJ5Q2FjaGUuZGVsZXRlKHdha2VhYmxlKTtcbiAgICAgIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlQW5kRG91YmxlSW52b2tlRWZmZWN0c0luREVWKFxuICAgICAgcm9vdCRqc2NvbXAkMCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgaXNJblN0cmljdE1vZGVcbiAgICApIHtcbiAgICAgIGlmICgwICE9PSAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMzM1NjI2MjQpKVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IHJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICBmaWJlciA9IHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgaXNTdHJpY3RNb2RlRmliZXIgPSBmaWJlci50eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyID0gaXNJblN0cmljdE1vZGUgfHwgaXNTdHJpY3RNb2RlRmliZXI7XG4gICAgICAgICAgMjIgIT09IGZpYmVyLnRhZ1xuICAgICAgICAgICAgPyBmaWJlci5mbGFncyAmIDMzNTU0NDMyXG4gICAgICAgICAgICAgID8gaXNTdHJpY3RNb2RlRmliZXIgJiZcbiAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgZG91YmxlSW52b2tlRWZmZWN0c09uRmliZXIsXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAoZmliZXIubW9kZSAmIE5vU3RyaWN0UGFzc2l2ZUVmZmVjdHNNb2RlKSA9PT0gTm9Nb2RlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogbnVsbCA9PT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAoaXNTdHJpY3RNb2RlRmliZXIgJiYgZmliZXIuZmxhZ3MgJiA4MTkyXG4gICAgICAgICAgICAgICAgPyBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAgIGRvdWJsZUludm9rZUVmZmVjdHNPbkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgICBmaWJlclxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogZmliZXIuc3VidHJlZUZsYWdzICYgMzM1NTQ0MzIgJiZcbiAgICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZG91YmxlSW52b2tlRWZmZWN0c09uRmliZXIocm9vdCwgZmliZXIpIHtcbiAgICAgIHZhciBzaG91bGREb3VibGVJbnZva2VQYXNzaXZlRWZmZWN0cyA9XG4gICAgICAgIDIgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdID8gYXJndW1lbnRzWzJdIDogITA7XG4gICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICB0cnkge1xuICAgICAgICBkaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpYmVyKSxcbiAgICAgICAgICBzaG91bGREb3VibGVJbnZva2VQYXNzaXZlRWZmZWN0cyAmJiBkaXNjb25uZWN0UGFzc2l2ZUVmZmVjdChmaWJlciksXG4gICAgICAgICAgcmVhcHBlYXJMYXlvdXRFZmZlY3RzKHJvb3QsIGZpYmVyLmFsdGVybmF0ZSwgZmliZXIsICExKSxcbiAgICAgICAgICBzaG91bGREb3VibGVJbnZva2VQYXNzaXZlRWZmZWN0cyAmJlxuICAgICAgICAgICAgcmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMocm9vdCwgZmliZXIsIDAsIG51bGwsICExKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0RG91YmxlSW52b2tlRWZmZWN0c0luREVWKHJvb3QpIHtcbiAgICAgIHZhciBkb3VibGVJbnZva2VFZmZlY3RzID0gITA7XG4gICAgICByb290LmN1cnJlbnQubW9kZSAmIChTdHJpY3RMZWdhY3lNb2RlIHwgU3RyaWN0RWZmZWN0c01vZGUpIHx8XG4gICAgICAgIChkb3VibGVJbnZva2VFZmZlY3RzID0gITEpO1xuICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcm9vdC5jdXJyZW50LFxuICAgICAgICBkb3VibGVJbnZva2VFZmZlY3RzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuQWJvdXRVcGRhdGVPbk5vdFlldE1vdW50ZWRGaWJlckluREVWKGZpYmVyKSB7XG4gICAgICBpZiAoKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSA9PT0gTm9Db250ZXh0KSB7XG4gICAgICAgIHZhciB0YWcgPSBmaWJlci50YWc7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAzID09PSB0YWcgfHxcbiAgICAgICAgICAxID09PSB0YWcgfHxcbiAgICAgICAgICAwID09PSB0YWcgfHxcbiAgICAgICAgICAxMSA9PT0gdGFnIHx8XG4gICAgICAgICAgMTQgPT09IHRhZyB8fFxuICAgICAgICAgIDE1ID09PSB0YWdcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFnID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJSZWFjdENvbXBvbmVudFwiO1xuICAgICAgICAgIGlmIChudWxsICE9PSBkaWRXYXJuU3RhdGVVcGRhdGVGb3JOb3RZZXRNb3VudGVkQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBpZiAoZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudC5oYXModGFnKSkgcmV0dXJuO1xuICAgICAgICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudC5hZGQodGFnKTtcbiAgICAgICAgICB9IGVsc2UgZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudCA9IG5ldyBTZXQoW3RhZ10pO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkNhbid0IHBlcmZvcm0gYSBSZWFjdCBzdGF0ZSB1cGRhdGUgb24gYSBjb21wb25lbnQgdGhhdCBoYXNuJ3QgbW91bnRlZCB5ZXQuIFRoaXMgaW5kaWNhdGVzIHRoYXQgeW91IGhhdmUgYSBzaWRlLWVmZmVjdCBpbiB5b3VyIHJlbmRlciBmdW5jdGlvbiB0aGF0IGFzeW5jaHJvbm91c2x5IGxhdGVyIGNhbGxzIHRyaWVzIHRvIHVwZGF0ZSB0aGUgY29tcG9uZW50LiBNb3ZlIHRoaXMgd29yayB0byB1c2VFZmZlY3QgaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIGxhbmVzKSB7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJlxuICAgICAgICByb290Lm1lbW9pemVkVXBkYXRlcnMuZm9yRWFjaChmdW5jdGlvbiAoc2NoZWR1bGluZ0ZpYmVyKSB7XG4gICAgICAgICAgYWRkRmliZXJUb0xhbmVzTWFwKHJvb3QsIHNjaGVkdWxpbmdGaWJlciwgbGFuZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVDYWxsYmFjayQxKHByaW9yaXR5TGV2ZWwsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgYWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZTtcbiAgICAgIHJldHVybiBudWxsICE9PSBhY3RRdWV1ZVxuICAgICAgICA/IChhY3RRdWV1ZS5wdXNoKGNhbGxiYWNrKSwgZmFrZUFjdENhbGxiYWNrTm9kZSQxKVxuICAgICAgICA6IHNjaGVkdWxlQ2FsbGJhY2skMyhwcmlvcml0eUxldmVsLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZlVwZGF0ZXNOb3RXcmFwcGVkV2l0aEFjdERFVihmaWJlcikge1xuICAgICAgaXNDb25jdXJyZW50QWN0RW52aXJvbm1lbnQoKSAmJlxuICAgICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkFuIHVwZGF0ZSB0byAlcyBpbnNpZGUgYSB0ZXN0IHdhcyBub3Qgd3JhcHBlZCBpbiBhY3QoLi4uKS5cXG5cXG5XaGVuIHRlc3RpbmcsIGNvZGUgdGhhdCBjYXVzZXMgUmVhY3Qgc3RhdGUgdXBkYXRlcyBzaG91bGQgYmUgd3JhcHBlZCBpbnRvIGFjdCguLi4pOlxcblxcbmFjdCgoKSA9PiB7XFxuICAvKiBmaXJlIGV2ZW50cyB0aGF0IHVwZGF0ZSBzdGF0ZSAqL1xcbn0pO1xcbi8qIGFzc2VydCBvbiB0aGUgb3V0cHV0ICovXFxuXFxuVGhpcyBlbnN1cmVzIHRoYXQgeW91J3JlIHRlc3RpbmcgdGhlIGJlaGF2aW9yIHRoZSB1c2VyIHdvdWxkIHNlZSBpbiB0aGUgYnJvd3Nlci4gTGVhcm4gbW9yZSBhdCBodHRwczovL3JlYWN0LmRldi9saW5rL3dyYXAtdGVzdHMtd2l0aC1hY3RcIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KSB7XG4gICAgICByb290ICE9PSBsYXN0U2NoZWR1bGVkUm9vdCAmJlxuICAgICAgICBudWxsID09PSByb290Lm5leHQgJiZcbiAgICAgICAgKG51bGwgPT09IGxhc3RTY2hlZHVsZWRSb290XG4gICAgICAgICAgPyAoZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSByb290KVxuICAgICAgICAgIDogKGxhc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QubmV4dCA9IHJvb3QpKTtcbiAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9ICEwO1xuICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWVcbiAgICAgICAgPyBkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgfHxcbiAgICAgICAgICAoKGRpZFNjaGVkdWxlTWljcm90YXNrX2FjdCA9ICEwKSxcbiAgICAgICAgICBzY2hlZHVsZUltbWVkaWF0ZVRhc2socHJvY2Vzc1Jvb3RTY2hlZHVsZUluTWljcm90YXNrKSlcbiAgICAgICAgOiBkaWRTY2hlZHVsZU1pY3JvdGFzayB8fFxuICAgICAgICAgICgoZGlkU2NoZWR1bGVNaWNyb3Rhc2sgPSAhMCksXG4gICAgICAgICAgc2NoZWR1bGVJbW1lZGlhdGVUYXNrKHByb2Nlc3NSb290U2NoZWR1bGVJbk1pY3JvdGFzaykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbChzeW5jVHJhbnNpdGlvbkxhbmVzLCBvbmx5TGVnYWN5KSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmdXb3JrICYmIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yaykge1xuICAgICAgICBpc0ZsdXNoaW5nV29yayA9ICEwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIGRpZFBlcmZvcm1Tb21lV29yayA9ICExO1xuICAgICAgICAgIGZvciAodmFyIHJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7IG51bGwgIT09IHJvb3Q7ICkge1xuICAgICAgICAgICAgaWYgKCFvbmx5TGVnYWN5KVxuICAgICAgICAgICAgICBpZiAoMCAhPT0gc3luY1RyYW5zaXRpb25MYW5lcykge1xuICAgICAgICAgICAgICAgIHZhciBwZW5kaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gcGVuZGluZ0xhbmVzKSB2YXIgbmV4dExhbmVzID0gMDtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBzdXNwZW5kZWRMYW5lcyA9IHJvb3Quc3VzcGVuZGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHBpbmdlZExhbmVzID0gcm9vdC5waW5nZWRMYW5lcztcbiAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyA9XG4gICAgICAgICAgICAgICAgICAgICgxIDw8ICgzMSAtIGNsejMyKDQyIHwgc3luY1RyYW5zaXRpb25MYW5lcykgKyAxKSkgLSAxO1xuICAgICAgICAgICAgICAgICAgbmV4dExhbmVzICY9IHBlbmRpbmdMYW5lcyAmIH4oc3VzcGVuZGVkTGFuZXMgJiB+cGluZ2VkTGFuZXMpO1xuICAgICAgICAgICAgICAgICAgbmV4dExhbmVzID1cbiAgICAgICAgICAgICAgICAgICAgbmV4dExhbmVzICYgMjAxMzI2Njc3XG4gICAgICAgICAgICAgICAgICAgICAgPyAobmV4dExhbmVzICYgMjAxMzI2Njc3KSB8IDFcbiAgICAgICAgICAgICAgICAgICAgICA6IG5leHRMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXh0TGFuZXMgfCAyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDAgIT09IG5leHRMYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgKChkaWRQZXJmb3JtU29tZVdvcmsgPSAhMCksXG4gICAgICAgICAgICAgICAgICBwZXJmb3JtU3luY1dvcmtPblJvb3Qocm9vdCwgbmV4dExhbmVzKSk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gZ2V0TmV4dExhbmVzKFxuICAgICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgPyBuZXh0TGFuZXMgOiAwXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIDAgPT09IChuZXh0TGFuZXMgJiAzKSB8fFxuICAgICAgICAgICAgICAgICAgICBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIG5leHRMYW5lcykgfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRQZXJmb3JtU29tZVdvcmsgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1TeW5jV29ya09uUm9vdChyb290LCBuZXh0TGFuZXMpKTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Lm5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaWRQZXJmb3JtU29tZVdvcmspO1xuICAgICAgICBpc0ZsdXNoaW5nV29yayA9ICExO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzUm9vdFNjaGVkdWxlSW5NaWNyb3Rhc2soKSB7XG4gICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPVxuICAgICAgICBkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgPVxuICAgICAgICBkaWRTY2hlZHVsZU1pY3JvdGFzayA9XG4gICAgICAgICAgITE7XG4gICAgICB2YXIgc3luY1RyYW5zaXRpb25MYW5lcyA9IDA7XG4gICAgICAwICE9PSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSAmJlxuICAgICAgICAoc2hvdWxkQXR0ZW1wdEVhZ2VyVHJhbnNpdGlvbigpICYmXG4gICAgICAgICAgKHN5bmNUcmFuc2l0aW9uTGFuZXMgPSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSksXG4gICAgICAgIChjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSA9IDApKTtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5vdyQxKCksIHByZXYgPSBudWxsLCByb290ID0gZmlyc3RTY2hlZHVsZWRSb290O1xuICAgICAgICBudWxsICE9PSByb290O1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIG5leHQgPSByb290Lm5leHQsXG4gICAgICAgICAgbmV4dExhbmVzID0gc2NoZWR1bGVUYXNrRm9yUm9vdER1cmluZ01pY3JvdGFzayhyb290LCBjdXJyZW50VGltZSk7XG4gICAgICAgIGlmICgwID09PSBuZXh0TGFuZXMpXG4gICAgICAgICAgKHJvb3QubmV4dCA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCA9PT0gcHJldiA/IChmaXJzdFNjaGVkdWxlZFJvb3QgPSBuZXh0KSA6IChwcmV2Lm5leHQgPSBuZXh0KSxcbiAgICAgICAgICAgIG51bGwgPT09IG5leHQgJiYgKGxhc3RTY2hlZHVsZWRSb290ID0gcHJldik7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICgocHJldiA9IHJvb3QpLCAwICE9PSBzeW5jVHJhbnNpdGlvbkxhbmVzIHx8IDAgIT09IChuZXh0TGFuZXMgJiAzKSlcbiAgICAgICAgKVxuICAgICAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9ICEwO1xuICAgICAgICByb290ID0gbmV4dDtcbiAgICAgIH1cbiAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKHN5bmNUcmFuc2l0aW9uTGFuZXMsICExKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVUYXNrRm9yUm9vdER1cmluZ01pY3JvdGFzayhyb290LCBjdXJyZW50VGltZSkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHN1c3BlbmRlZExhbmVzID0gcm9vdC5zdXNwZW5kZWRMYW5lcyxcbiAgICAgICAgICBwaW5nZWRMYW5lcyA9IHJvb3QucGluZ2VkTGFuZXMsXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWVzID0gcm9vdC5leHBpcmF0aW9uVGltZXMsXG4gICAgICAgICAgbGFuZXMgPSByb290LnBlbmRpbmdMYW5lcyAmIC02MjkxNDU2MTtcbiAgICAgICAgMCA8IGxhbmVzO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXgsXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZXNbaW5kZXhdO1xuICAgICAgICBpZiAoLTEgPT09IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgaWYgKDAgPT09IChsYW5lICYgc3VzcGVuZGVkTGFuZXMpIHx8IDAgIT09IChsYW5lICYgcGluZ2VkTGFuZXMpKVxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVzW2luZGV4XSA9IGNvbXB1dGVFeHBpcmF0aW9uVGltZShsYW5lLCBjdXJyZW50VGltZSk7XG4gICAgICAgIH0gZWxzZSBleHBpcmF0aW9uVGltZSA8PSBjdXJyZW50VGltZSAmJiAocm9vdC5leHBpcmVkTGFuZXMgfD0gbGFuZSk7XG4gICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgICAgY3VycmVudFRpbWUgPSB3b3JrSW5Qcm9ncmVzc1Jvb3Q7XG4gICAgICBzdXNwZW5kZWRMYW5lcyA9IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzO1xuICAgICAgc3VzcGVuZGVkTGFuZXMgPSBnZXROZXh0TGFuZXMoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJvb3QgPT09IGN1cnJlbnRUaW1lID8gc3VzcGVuZGVkTGFuZXMgOiAwXG4gICAgICApO1xuICAgICAgcGluZ2VkTGFuZXMgPSByb290LmNhbGxiYWNrTm9kZTtcbiAgICAgIGlmIChcbiAgICAgICAgMCA9PT0gc3VzcGVuZGVkTGFuZXMgfHxcbiAgICAgICAgKHJvb3QgPT09IGN1cnJlbnRUaW1lICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSkgfHxcbiAgICAgICAgbnVsbCAhPT0gcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0XG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbnVsbCAhPT0gcGluZ2VkTGFuZXMgJiYgY2FuY2VsQ2FsbGJhY2socGluZ2VkTGFuZXMpLFxuICAgICAgICAgIChyb290LmNhbGxiYWNrTm9kZSA9IG51bGwpLFxuICAgICAgICAgIChyb290LmNhbGxiYWNrUHJpb3JpdHkgPSAwKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSAoc3VzcGVuZGVkTGFuZXMgJiAzKSB8fFxuICAgICAgICBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIHN1c3BlbmRlZExhbmVzKVxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRUaW1lID0gc3VzcGVuZGVkTGFuZXMgJiAtc3VzcGVuZGVkTGFuZXM7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjdXJyZW50VGltZSAhPT0gcm9vdC5jYWxsYmFja1ByaW9yaXR5IHx8XG4gICAgICAgICAgKG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgICAgICBwaW5nZWRMYW5lcyAhPT0gZmFrZUFjdENhbGxiYWNrTm9kZSlcbiAgICAgICAgKVxuICAgICAgICAgIGNhbmNlbENhbGxiYWNrKHBpbmdlZExhbmVzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gY3VycmVudFRpbWU7XG4gICAgICAgIHN3aXRjaCAobGFuZXNUb0V2ZW50UHJpb3JpdHkoc3VzcGVuZGVkTGFuZXMpKSB7XG4gICAgICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgY2FzZSBDb250aW51b3VzRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gVXNlckJsb2NraW5nUHJpb3JpdHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIERlZmF1bHRFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSBOb3JtYWxQcmlvcml0eSQxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBJZGxlRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gSWRsZVByaW9yaXR5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgfVxuICAgICAgICBwaW5nZWRMYW5lcyA9IHBlcmZvcm1Xb3JrT25Sb290VmlhU2NoZWR1bGVyVGFzay5iaW5kKG51bGwsIHJvb3QpO1xuICAgICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZVxuICAgICAgICAgID8gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlLnB1c2gocGluZ2VkTGFuZXMpLFxuICAgICAgICAgICAgKHN1c3BlbmRlZExhbmVzID0gZmFrZUFjdENhbGxiYWNrTm9kZSkpXG4gICAgICAgICAgOiAoc3VzcGVuZGVkTGFuZXMgPSBzY2hlZHVsZUNhbGxiYWNrJDMoc3VzcGVuZGVkTGFuZXMsIHBpbmdlZExhbmVzKSk7XG4gICAgICAgIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICByb290LmNhbGxiYWNrTm9kZSA9IHN1c3BlbmRlZExhbmVzO1xuICAgICAgICByZXR1cm4gY3VycmVudFRpbWU7XG4gICAgICB9XG4gICAgICBudWxsICE9PSBwaW5nZWRMYW5lcyAmJiBjYW5jZWxDYWxsYmFjayhwaW5nZWRMYW5lcyk7XG4gICAgICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSAyO1xuICAgICAgcm9vdC5jYWxsYmFja05vZGUgPSBudWxsO1xuICAgICAgcmV0dXJuIDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290VmlhU2NoZWR1bGVyVGFzayhyb290LCBkaWRUaW1lb3V0KSB7XG4gICAgICBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgPSAhMTtcbiAgICAgIHZhciBvcmlnaW5hbENhbGxiYWNrTm9kZSA9IHJvb3QuY2FsbGJhY2tOb2RlO1xuICAgICAgaWYgKGZsdXNoUGFzc2l2ZUVmZmVjdHMoKSAmJiByb290LmNhbGxiYWNrTm9kZSAhPT0gb3JpZ2luYWxDYWxsYmFja05vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgdmFyIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCA9IGdldE5leHRMYW5lcyhcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ID8gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAgOiAwXG4gICAgICApO1xuICAgICAgaWYgKDAgPT09IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwKSByZXR1cm4gbnVsbDtcbiAgICAgIHBlcmZvcm1Xb3JrT25Sb290KFxuICAgICAgICByb290LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCxcbiAgICAgICAgZGlkVGltZW91dFxuICAgICAgKTtcbiAgICAgIHNjaGVkdWxlVGFza0ZvclJvb3REdXJpbmdNaWNyb3Rhc2socm9vdCwgbm93JDEoKSk7XG4gICAgICByZXR1cm4gbnVsbCAhPSByb290LmNhbGxiYWNrTm9kZSAmJlxuICAgICAgICByb290LmNhbGxiYWNrTm9kZSA9PT0gb3JpZ2luYWxDYWxsYmFja05vZGVcbiAgICAgICAgPyBwZXJmb3JtV29ya09uUm9vdFZpYVNjaGVkdWxlclRhc2suYmluZChudWxsLCByb290KVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1TeW5jV29ya09uUm9vdChyb290LCBsYW5lcykge1xuICAgICAgaWYgKGZsdXNoUGFzc2l2ZUVmZmVjdHMoKSkgcmV0dXJuIG51bGw7XG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgPSBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQ7XG4gICAgICBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSAhMTtcbiAgICAgIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGxhbmVzLCAhMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbmNlbENhbGxiYWNrKGNhbGxiYWNrTm9kZSkge1xuICAgICAgY2FsbGJhY2tOb2RlICE9PSBmYWtlQWN0Q2FsbGJhY2tOb2RlICYmXG4gICAgICAgIG51bGwgIT09IGNhbGxiYWNrTm9kZSAmJlxuICAgICAgICBjYW5jZWxDYWxsYmFjayQxKGNhbGxiYWNrTm9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlSW1tZWRpYXRlVGFzayhjYikge1xuICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICBzY2hlZHVsZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dFxuICAgICAgICAgID8gc2NoZWR1bGVDYWxsYmFjayQzKEltbWVkaWF0ZVByaW9yaXR5LCBjYilcbiAgICAgICAgICA6IGNiKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdFRyYW5zaXRpb25MYW5lKCkge1xuICAgICAgMCA9PT0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgJiZcbiAgICAgICAgKGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lID0gY2xhaW1OZXh0VHJhbnNpdGlvbkxhbmUoKSk7XG4gICAgICByZXR1cm4gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvZXJjZUZvcm1BY3Rpb25Qcm9wKGFjdGlvblByb3ApIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCA9PSBhY3Rpb25Qcm9wIHx8XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBhY3Rpb25Qcm9wIHx8XG4gICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgYWN0aW9uUHJvcFxuICAgICAgKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb25Qcm9wKSByZXR1cm4gYWN0aW9uUHJvcDtcbiAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oYWN0aW9uUHJvcCwgXCJhY3Rpb25cIik7XG4gICAgICByZXR1cm4gc2FuaXRpemVVUkwoXCJcIiArIGFjdGlvblByb3ApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGb3JtRGF0YVdpdGhTdWJtaXR0ZXIoZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgICB2YXIgdGVtcCA9IHN1Ym1pdHRlci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIHRlbXAubmFtZSA9IHN1Ym1pdHRlci5uYW1lO1xuICAgICAgdGVtcC52YWx1ZSA9IHN1Ym1pdHRlci52YWx1ZTtcbiAgICAgIGZvcm0uaWQgJiYgdGVtcC5zZXRBdHRyaWJ1dGUoXCJmb3JtXCIsIGZvcm0uaWQpO1xuICAgICAgc3VibWl0dGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRlbXAsIHN1Ym1pdHRlcik7XG4gICAgICBmb3JtID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgdGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRlbXApO1xuICAgICAgcmV0dXJuIGZvcm07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4dHJhY3RFdmVudHMkMShcbiAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBtYXliZVRhcmdldEluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3VibWl0XCIgPT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICBtYXliZVRhcmdldEluc3QgJiZcbiAgICAgICAgbWF5YmVUYXJnZXRJbnN0LnN0YXRlTm9kZSA9PT0gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICkge1xuICAgICAgICB2YXIgYWN0aW9uID0gY29lcmNlRm9ybUFjdGlvblByb3AoXG4gICAgICAgICAgICAobmF0aXZlRXZlbnRUYXJnZXRbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbCkuYWN0aW9uXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzdWJtaXR0ZXIgPSBuYXRpdmVFdmVudC5zdWJtaXR0ZXI7XG4gICAgICAgIHN1Ym1pdHRlciAmJlxuICAgICAgICAgICgoZG9tRXZlbnROYW1lID0gKGRvbUV2ZW50TmFtZSA9IHN1Ym1pdHRlcltpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKVxuICAgICAgICAgICAgPyBjb2VyY2VGb3JtQWN0aW9uUHJvcChkb21FdmVudE5hbWUuZm9ybUFjdGlvbilcbiAgICAgICAgICAgIDogc3VibWl0dGVyLmdldEF0dHJpYnV0ZShcImZvcm1BY3Rpb25cIikpLFxuICAgICAgICAgIG51bGwgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgKChhY3Rpb24gPSBkb21FdmVudE5hbWUpLCAoc3VibWl0dGVyID0gbnVsbCkpKTtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IFN5bnRoZXRpY0V2ZW50KFxuICAgICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICk7XG4gICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGxpc3RlbmVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgICAgaWYgKDAgIT09IGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGb3JtRGF0YVdpdGhTdWJtaXR0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEZvcm1EYXRhKG5hdGl2ZUV2ZW50VGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBuYXRpdmVFdmVudFRhcmdldC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocGVuZGluZ1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRIb3N0VHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICBtYXliZVRhcmdldEluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFjdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICAoZXZlbnQucHJldmVudERlZmF1bHQoKSxcbiAgICAgICAgICAgICAgICAgICAgKGZvcm1EYXRhID0gc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGb3JtRGF0YVdpdGhTdWJtaXR0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBGb3JtRGF0YShuYXRpdmVFdmVudFRhcmdldCkpLFxuICAgICAgICAgICAgICAgICAgICAocGVuZGluZ1N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmc6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbmF0aXZlRXZlbnRUYXJnZXQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHBlbmRpbmdTdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SG9zdFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgbWF5YmVUYXJnZXRJbnN0LFxuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2Vzc0Rpc3BhdGNoUXVldWUoZGlzcGF0Y2hRdWV1ZSwgZXZlbnRTeXN0ZW1GbGFncykge1xuICAgICAgZXZlbnRTeXN0ZW1GbGFncyA9IDAgIT09IChldmVudFN5c3RlbUZsYWdzICYgNCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoUXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIF9kaXNwYXRjaFF1ZXVlJGkgPSBkaXNwYXRjaFF1ZXVlW2ldO1xuICAgICAgICBhOiB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzSW5zdGFuY2UgPSB2b2lkIDAsXG4gICAgICAgICAgICBldmVudCA9IF9kaXNwYXRjaFF1ZXVlJGkuZXZlbnQ7XG4gICAgICAgICAgX2Rpc3BhdGNoUXVldWUkaSA9IF9kaXNwYXRjaFF1ZXVlJGkubGlzdGVuZXJzO1xuICAgICAgICAgIGlmIChldmVudFN5c3RlbUZsYWdzKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdmFyIGkkanNjb21wJDAgPSBfZGlzcGF0Y2hRdWV1ZSRpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDAgPD0gaSRqc2NvbXAkMDtcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMC0tXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIF9kaXNwYXRjaExpc3RlbmVycyRpID0gX2Rpc3BhdGNoUXVldWUkaVtpJGpzY29tcCQwXSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmluc3RhbmNlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmxpc3RlbmVyO1xuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgIT09IHByZXZpb3VzSW5zdGFuY2UgJiYgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gZXZlbnQ7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkocHJldmlvdXNJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpJGpzY29tcCQwID0gMDtcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMCA8IF9kaXNwYXRjaFF1ZXVlJGkubGVuZ3RoO1xuICAgICAgICAgICAgICBpJGpzY29tcCQwKytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaFF1ZXVlJGlbaSRqc2NvbXAkMF07XG4gICAgICAgICAgICAgIGluc3RhbmNlID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuaW5zdGFuY2U7XG4gICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmxpc3RlbmVyO1xuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgIT09IHByZXZpb3VzSW5zdGFuY2UgJiYgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gZXZlbnQ7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkocHJldmlvdXNJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0RWxlbWVudCkge1xuICAgICAgbm9uRGVsZWdhdGVkRXZlbnRzLmhhcyhkb21FdmVudE5hbWUpIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGEgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudCgpIGNhbGwgZm9yIFwiJXNcIi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyxcbiAgICAgICAgICBkb21FdmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIHZhciBsaXN0ZW5lclNldCA9IHRhcmdldEVsZW1lbnRbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XTtcbiAgICAgIHZvaWQgMCA9PT0gbGlzdGVuZXJTZXQgJiZcbiAgICAgICAgKGxpc3RlbmVyU2V0ID0gdGFyZ2V0RWxlbWVudFtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldID0gbmV3IFNldCgpKTtcbiAgICAgIHZhciBsaXN0ZW5lclNldEtleSA9IGRvbUV2ZW50TmFtZSArIFwiX19idWJibGVcIjtcbiAgICAgIGxpc3RlbmVyU2V0LmhhcyhsaXN0ZW5lclNldEtleSkgfHxcbiAgICAgICAgKGFkZFRyYXBwZWRFdmVudExpc3RlbmVyKHRhcmdldEVsZW1lbnQsIGRvbUV2ZW50TmFtZSwgMiwgITEpLFxuICAgICAgICBsaXN0ZW5lclNldC5hZGQobGlzdGVuZXJTZXRLZXkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuVG9OYXRpdmVFdmVudChkb21FdmVudE5hbWUsIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXIsIHRhcmdldCkge1xuICAgICAgbm9uRGVsZWdhdGVkRXZlbnRzLmhhcyhkb21FdmVudE5hbWUpICYmXG4gICAgICAgICFpc0NhcHR1cmVQaGFzZUxpc3RlbmVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGEgbGlzdGVuVG9OYXRpdmVFdmVudCgpIGNhbGwgZm9yIFwiJXNcIiBpbiB0aGUgYnViYmxlIHBoYXNlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nLFxuICAgICAgICAgIGRvbUV2ZW50TmFtZVxuICAgICAgICApO1xuICAgICAgdmFyIGV2ZW50U3lzdGVtRmxhZ3MgPSAwO1xuICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lciAmJiAoZXZlbnRTeXN0ZW1GbGFncyB8PSA0KTtcbiAgICAgIGFkZFRyYXBwZWRFdmVudExpc3RlbmVyKFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMocm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgIGlmICghcm9vdENvbnRhaW5lckVsZW1lbnRbbGlzdGVuaW5nTWFya2VyXSkge1xuICAgICAgICByb290Q29udGFpbmVyRWxlbWVudFtsaXN0ZW5pbmdNYXJrZXJdID0gITA7XG4gICAgICAgIGFsbE5hdGl2ZUV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgICBcInNlbGVjdGlvbmNoYW5nZVwiICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgIChub25EZWxlZ2F0ZWRFdmVudHMuaGFzKGRvbUV2ZW50TmFtZSkgfHxcbiAgICAgICAgICAgICAgbGlzdGVuVG9OYXRpdmVFdmVudChkb21FdmVudE5hbWUsICExLCByb290Q29udGFpbmVyRWxlbWVudCksXG4gICAgICAgICAgICBsaXN0ZW5Ub05hdGl2ZUV2ZW50KGRvbUV2ZW50TmFtZSwgITAsIHJvb3RDb250YWluZXJFbGVtZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9XG4gICAgICAgICAgOSA9PT0gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGVcbiAgICAgICAgICAgID8gcm9vdENvbnRhaW5lckVsZW1lbnRcbiAgICAgICAgICAgIDogcm9vdENvbnRhaW5lckVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgbnVsbCA9PT0gb3duZXJEb2N1bWVudCB8fFxuICAgICAgICAgIG93bmVyRG9jdW1lbnRbbGlzdGVuaW5nTWFya2VyXSB8fFxuICAgICAgICAgICgob3duZXJEb2N1bWVudFtsaXN0ZW5pbmdNYXJrZXJdID0gITApLFxuICAgICAgICAgIGxpc3RlblRvTmF0aXZlRXZlbnQoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgITEsIG93bmVyRG9jdW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkVHJhcHBlZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lclxuICAgICkge1xuICAgICAgc3dpdGNoIChnZXRFdmVudFByaW9yaXR5KGRvbUV2ZW50TmFtZSkpIHtcbiAgICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgdmFyIGxpc3RlbmVyV3JhcHBlciA9IGRpc3BhdGNoRGlzY3JldGVFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250aW51b3VzRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICBsaXN0ZW5lcldyYXBwZXIgPSBkaXNwYXRjaENvbnRpbnVvdXNFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsaXN0ZW5lcldyYXBwZXIgPSBkaXNwYXRjaEV2ZW50O1xuICAgICAgfVxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyA9IGxpc3RlbmVyV3JhcHBlci5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgKTtcbiAgICAgIGxpc3RlbmVyV3JhcHBlciA9IHZvaWQgMDtcbiAgICAgICFwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCB8fFxuICAgICAgICAoXCJ0b3VjaHN0YXJ0XCIgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgIFwidG91Y2htb3ZlXCIgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgIFwid2hlZWxcIiAhPT0gZG9tRXZlbnROYW1lKSB8fFxuICAgICAgICAobGlzdGVuZXJXcmFwcGVyID0gITApO1xuICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lclxuICAgICAgICA/IHZvaWQgMCAhPT0gbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgPyB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIHtcbiAgICAgICAgICAgICAgY2FwdHVyZTogITAsXG4gICAgICAgICAgICAgIHBhc3NpdmU6IGxpc3RlbmVyV3JhcHBlclxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHRhcmdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywgITApXG4gICAgICAgIDogdm9pZCAwICE9PSBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICA/IHRhcmdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywge1xuICAgICAgICAgICAgICBwYXNzaXZlOiBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgdGFyZ2V0SW5zdCRqc2NvbXAkMCxcbiAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICkge1xuICAgICAgdmFyIGFuY2VzdG9ySW5zdCA9IHRhcmdldEluc3QkanNjb21wJDA7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IChldmVudFN5c3RlbUZsYWdzICYgMSkgJiZcbiAgICAgICAgMCA9PT0gKGV2ZW50U3lzdGVtRmxhZ3MgJiAyKSAmJlxuICAgICAgICBudWxsICE9PSB0YXJnZXRJbnN0JGpzY29tcCQwXG4gICAgICApXG4gICAgICAgIGE6IGZvciAoOzspIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gdGFyZ2V0SW5zdCRqc2NvbXAkMCkgcmV0dXJuO1xuICAgICAgICAgIHZhciBub2RlVGFnID0gdGFyZ2V0SW5zdCRqc2NvbXAkMC50YWc7XG4gICAgICAgICAgaWYgKDMgPT09IG5vZGVUYWcgfHwgNCA9PT0gbm9kZVRhZykge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRhcmdldEluc3QkanNjb21wJDAuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvbnRhaW5lciA9PT0gdGFyZ2V0Q29udGFpbmVyIHx8XG4gICAgICAgICAgICAgICg4ID09PSBjb250YWluZXIubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICBjb250YWluZXIucGFyZW50Tm9kZSA9PT0gdGFyZ2V0Q29udGFpbmVyKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmICg0ID09PSBub2RlVGFnKVxuICAgICAgICAgICAgICBmb3IgKG5vZGVUYWcgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnJldHVybjsgbnVsbCAhPT0gbm9kZVRhZzsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyYW5kVGFnID0gbm9kZVRhZy50YWc7XG4gICAgICAgICAgICAgICAgaWYgKDMgPT09IGdyYW5kVGFnIHx8IDQgPT09IGdyYW5kVGFnKVxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoKGdyYW5kVGFnID0gbm9kZVRhZy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyksXG4gICAgICAgICAgICAgICAgICAgIGdyYW5kVGFnID09PSB0YXJnZXRDb250YWluZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoOCA9PT0gZ3JhbmRUYWcubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYW5kVGFnLnBhcmVudE5vZGUgPT09IHRhcmdldENvbnRhaW5lcikpXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBub2RlVGFnID0gbm9kZVRhZy5yZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOyBudWxsICE9PSBjb250YWluZXI7ICkge1xuICAgICAgICAgICAgICBub2RlVGFnID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IG5vZGVUYWcpIHJldHVybjtcbiAgICAgICAgICAgICAgZ3JhbmRUYWcgPSBub2RlVGFnLnRhZztcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIDUgPT09IGdyYW5kVGFnIHx8XG4gICAgICAgICAgICAgICAgNiA9PT0gZ3JhbmRUYWcgfHxcbiAgICAgICAgICAgICAgICAyNiA9PT0gZ3JhbmRUYWcgfHxcbiAgICAgICAgICAgICAgICAyNyA9PT0gZ3JhbmRUYWdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SW5zdCRqc2NvbXAkMCA9IGFuY2VzdG9ySW5zdCA9IG5vZGVUYWc7XG4gICAgICAgICAgICAgICAgY29udGludWUgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0SW5zdCRqc2NvbXAkMCA9IHRhcmdldEluc3QkanNjb21wJDAucmV0dXJuO1xuICAgICAgICB9XG4gICAgICBiYXRjaGVkVXBkYXRlcyQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhcmdldEluc3QgPSBhbmNlc3Rvckluc3QsXG4gICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQgPSBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCksXG4gICAgICAgICAgZGlzcGF0Y2hRdWV1ZSA9IFtdO1xuICAgICAgICBhOiB7XG4gICAgICAgICAgdmFyIHJlYWN0TmFtZSA9IHRvcExldmVsRXZlbnRzVG9SZWFjdE5hbWVzLmdldChkb21FdmVudE5hbWUpO1xuICAgICAgICAgIGlmICh2b2lkIDAgIT09IHJlYWN0TmFtZSkge1xuICAgICAgICAgICAgdmFyIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0V2ZW50LFxuICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IGRvbUV2ZW50TmFtZTtcbiAgICAgICAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICAgICAgICAgIGlmICgwID09PSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IFwiZm9jdXNcIjtcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IFwiYmx1clwiO1xuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJiZWZvcmVibHVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhZnRlcmJsdXJcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgICAgICAgICBpZiAoMiA9PT0gbmF0aXZlRXZlbnQuYnV0dG9uKSBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFwiYXV4Y2xpY2tcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlbW92ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2VvdXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlb3ZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY29udGV4dG1lbnVcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2VuZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnZXhpdFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2xlYXZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnb3ZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRHJhZ0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidG91Y2hjYW5jZWxcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaG1vdmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNoc3RhcnRcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9FTkQ6XG4gICAgICAgICAgICAgIGNhc2UgQU5JTUFUSU9OX0lURVJBVElPTjpcbiAgICAgICAgICAgICAgY2FzZSBBTklNQVRJT05fU1RBUlQ6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgVFJBTlNJVElPTl9FTkQ6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxlbmRcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwid2hlZWxcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY3V0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwYXN0ZVwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImxvc3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcmNhbmNlbFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcmRvd25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJtb3ZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3V0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcnVwXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljUG9pbnRlckV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidG9nZ2xlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJiZWZvcmV0b2dnbGVcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNUb2dnbGVFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbkNhcHR1cmVQaGFzZSA9IDAgIT09IChldmVudFN5c3RlbUZsYWdzICYgNCksXG4gICAgICAgICAgICAgIGFjY3VtdWxhdGVUYXJnZXRPbmx5ID1cbiAgICAgICAgICAgICAgICAhaW5DYXB0dXJlUGhhc2UgJiZcbiAgICAgICAgICAgICAgICAoXCJzY3JvbGxcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwic2Nyb2xsZW5kXCIgPT09IGRvbUV2ZW50TmFtZSksXG4gICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gaW5DYXB0dXJlUGhhc2VcbiAgICAgICAgICAgICAgICA/IG51bGwgIT09IHJlYWN0TmFtZVxuICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWUgKyBcIkNhcHR1cmVcIlxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgOiByZWFjdE5hbWU7XG4gICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGFyZ2V0SW5zdCwgbGFzdEhvc3RDb21wb25lbnQ7XG4gICAgICAgICAgICAgIG51bGwgIT09IGluc3RhbmNlO1xuXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIF9pbnN0YW5jZTIgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSBfaW5zdGFuY2UyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IF9pbnN0YW5jZTIudGFnO1xuICAgICAgICAgICAgICAoNSAhPT0gX2luc3RhbmNlMiAmJiAyNiAhPT0gX2luc3RhbmNlMiAmJiAyNyAhPT0gX2luc3RhbmNlMikgfHxcbiAgICAgICAgICAgICAgICBudWxsID09PSBsYXN0SG9zdENvbXBvbmVudCB8fFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHJlYWN0RXZlbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgKChfaW5zdGFuY2UyID0gZ2V0TGlzdGVuZXIoaW5zdGFuY2UsIHJlYWN0RXZlbnROYW1lKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBfaW5zdGFuY2UyICYmXG4gICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIGlmIChhY2N1bXVsYXRlVGFyZ2V0T25seSkgYnJlYWs7XG4gICAgICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UucmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgMCA8IGluQ2FwdHVyZVBoYXNlLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAoKHJlYWN0TmFtZSA9IG5ldyBTeW50aGV0aWNFdmVudEN0b3IoXG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lLFxuICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IHJlYWN0TmFtZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGluQ2FwdHVyZVBoYXNlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDAgPT09IChldmVudFN5c3RlbUZsYWdzICYgNykpIHtcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICByZWFjdE5hbWUgPVxuICAgICAgICAgICAgICBcIm1vdXNlb3ZlclwiID09PSBkb21FdmVudE5hbWUgfHwgXCJwb2ludGVyb3ZlclwiID09PSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPVxuICAgICAgICAgICAgICBcIm1vdXNlb3V0XCIgPT09IGRvbUV2ZW50TmFtZSB8fCBcInBvaW50ZXJvdXRcIiA9PT0gZG9tRXZlbnROYW1lO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICByZWFjdE5hbWUgJiZcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQgIT09IGN1cnJlbnRSZXBsYXlpbmdFdmVudCAmJlxuICAgICAgICAgICAgICAocmVhY3RFdmVudFR5cGUgPVxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpICYmXG4gICAgICAgICAgICAgIChnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWFjdEV2ZW50VHlwZSkgfHxcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIGlmIChTeW50aGV0aWNFdmVudEN0b3IgfHwgcmVhY3ROYW1lKSB7XG4gICAgICAgICAgICAgIHJlYWN0TmFtZSA9XG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICAgPyBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICAgOiAocmVhY3ROYW1lID0gbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudClcbiAgICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWUuZGVmYXVsdFZpZXcgfHwgcmVhY3ROYW1lLnBhcmVudFdpbmRvd1xuICAgICAgICAgICAgICAgICAgICA6IHdpbmRvdztcbiAgICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3Rvcikge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICgocmVhY3RFdmVudFR5cGUgPVxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnRvRWxlbWVudCksXG4gICAgICAgICAgICAgICAgICAoU3ludGhldGljRXZlbnRDdG9yID0gdGFyZ2V0SW5zdCksXG4gICAgICAgICAgICAgICAgICAocmVhY3RFdmVudFR5cGUgPSByZWFjdEV2ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICA/IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHJlYWN0RXZlbnRUeXBlKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcmVhY3RFdmVudFR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKChhY2N1bXVsYXRlVGFyZ2V0T25seSA9XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihyZWFjdEV2ZW50VHlwZSkpLFxuICAgICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UgPSByZWFjdEV2ZW50VHlwZS50YWcpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSAhPT0gYWNjdW11bGF0ZVRhcmdldE9ubHkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoNSAhPT0gaW5DYXB0dXJlUGhhc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDI3ICE9PSBpbkNhcHR1cmVQaGFzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgNiAhPT0gaW5DYXB0dXJlUGhhc2UpKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSAoU3ludGhldGljRXZlbnRDdG9yID0gbnVsbCksIChyZWFjdEV2ZW50VHlwZSA9IHRhcmdldEluc3QpO1xuICAgICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yICE9PSByZWFjdEV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gXCJvbk1vdXNlTGVhdmVcIjtcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSA9IFwib25Nb3VzZUVudGVyXCI7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBcIm1vdXNlXCI7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgXCJwb2ludGVyb3V0XCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJwb2ludGVyb3ZlclwiID09PSBkb21FdmVudE5hbWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UgPSBTeW50aGV0aWNQb2ludGVyRXZlbnQpLFxuICAgICAgICAgICAgICAgICAgICAoX2luc3RhbmNlMiA9IFwib25Qb2ludGVyTGVhdmVcIiksXG4gICAgICAgICAgICAgICAgICAgIChyZWFjdEV2ZW50TmFtZSA9IFwib25Qb2ludGVyRW50ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIChpbnN0YW5jZSA9IFwicG9pbnRlclwiKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSA9XG4gICAgICAgICAgICAgICAgICBudWxsID09IFN5bnRoZXRpY0V2ZW50Q3RvclxuICAgICAgICAgICAgICAgICAgICA/IHJlYWN0TmFtZVxuICAgICAgICAgICAgICAgICAgICA6IGdldE5vZGVGcm9tSW5zdGFuY2UoU3ludGhldGljRXZlbnRDdG9yKTtcbiAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9XG4gICAgICAgICAgICAgICAgICBudWxsID09IHJlYWN0RXZlbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0Tm9kZUZyb21JbnN0YW5jZShyZWFjdEV2ZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lID0gbmV3IGluQ2FwdHVyZVBoYXNlKFxuICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMixcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlICsgXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yLFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lLnRhcmdldCA9IGFjY3VtdWxhdGVUYXJnZXRPbmx5O1xuICAgICAgICAgICAgICAgIHJlYWN0TmFtZS5yZWxhdGVkVGFyZ2V0ID0gbGFzdEhvc3RDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUobmF0aXZlRXZlbnRUYXJnZXQpID09PSB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICAgICAgICAoKGluQ2FwdHVyZVBoYXNlID0gbmV3IGluQ2FwdHVyZVBoYXNlKFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgKyBcImVudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlLnRhcmdldCA9IGxhc3RIb3N0Q29tcG9uZW50KSxcbiAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZS5yZWxhdGVkVGFyZ2V0ID0gYWNjdW11bGF0ZVRhcmdldE9ubHkpLFxuICAgICAgICAgICAgICAgICAgKF9pbnN0YW5jZTIgPSBpbkNhcHR1cmVQaGFzZSkpO1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVUYXJnZXRPbmx5ID0gX2luc3RhbmNlMjtcbiAgICAgICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yICYmIHJlYWN0RXZlbnRUeXBlKVxuICAgICAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IFN5bnRoZXRpY0V2ZW50Q3RvcjtcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSByZWFjdEV2ZW50VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gaW5DYXB0dXJlUGhhc2U7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSBnZXRQYXJlbnQobGFzdEhvc3RDb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSsrO1xuICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IHJlYWN0RXZlbnROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTI7XG4gICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IGdldFBhcmVudChfaW5zdGFuY2UyKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQrKztcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IDAgPCBpbnN0YW5jZSAtIGxhc3RIb3N0Q29tcG9uZW50OyApXG4gICAgICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlID0gZ2V0UGFyZW50KGluQ2FwdHVyZVBoYXNlKSksIGluc3RhbmNlLS07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyAwIDwgbGFzdEhvc3RDb21wb25lbnQgLSBpbnN0YW5jZTsgKVxuICAgICAgICAgICAgICAgICAgICAgIChyZWFjdEV2ZW50TmFtZSA9IGdldFBhcmVudChyZWFjdEV2ZW50TmFtZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQtLTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGluc3RhbmNlLS07ICkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID09PSByZWFjdEV2ZW50TmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgIT09IHJlYWN0RXZlbnROYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID09PSByZWFjdEV2ZW50TmFtZS5hbHRlcm5hdGUpXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IGdldFBhcmVudChpbkNhcHR1cmVQaGFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSBnZXRQYXJlbnQocmVhY3RFdmVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGluQ2FwdHVyZVBoYXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBudWxsICE9PSBTeW50aGV0aWNFdmVudEN0b3IgJiZcbiAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlTGlzdGVuZXJzRm9yRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yLFxuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmVhY3RFdmVudFR5cGUgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGFjY3VtdWxhdGVUYXJnZXRPbmx5ICYmXG4gICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlRW50ZXJMZWF2ZUxpc3RlbmVyc0ZvckV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlLFxuICAgICAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICByZWFjdE5hbWUgPSB0YXJnZXRJbnN0ID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcbiAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9XG4gICAgICAgICAgICAgIHJlYWN0TmFtZS5ub2RlTmFtZSAmJiByZWFjdE5hbWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJzZWxlY3RcIiA9PT0gU3ludGhldGljRXZlbnRDdG9yIHx8XG4gICAgICAgICAgICAgIChcImlucHV0XCIgPT09IFN5bnRoZXRpY0V2ZW50Q3RvciAmJiBcImZpbGVcIiA9PT0gcmVhY3ROYW1lLnR5cGUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhciBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGV4dElucHV0RWxlbWVudChyZWFjdE5hbWUpKVxuICAgICAgICAgICAgICBpZiAoaXNJbnB1dEV2ZW50U3VwcG9ydGVkKVxuICAgICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudDtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50UG9seWZpbGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgKFN5bnRoZXRpY0V2ZW50Q3RvciA9IHJlYWN0TmFtZS5ub2RlTmFtZSksXG4gICAgICAgICAgICAgICAgIVN5bnRoZXRpY0V2ZW50Q3RvciB8fFxuICAgICAgICAgICAgICAgIFwiaW5wdXRcIiAhPT0gU3ludGhldGljRXZlbnRDdG9yLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICAgICAgICAoXCJjaGVja2JveFwiICE9PSByZWFjdE5hbWUudHlwZSAmJiBcInJhZGlvXCIgIT09IHJlYWN0TmFtZS50eXBlKVxuICAgICAgICAgICAgICAgICAgPyB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCh0YXJnZXRJbnN0LmVsZW1lbnRUeXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQpXG4gICAgICAgICAgICAgICAgICA6IChnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgJiZcbiAgICAgICAgICAgICAgKGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZ1bmMoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlRXZlbnRGdW5jICYmXG4gICAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyhkb21FdmVudE5hbWUsIHJlYWN0TmFtZSwgdGFyZ2V0SW5zdCk7XG4gICAgICAgICAgICBcImZvY3Vzb3V0XCIgPT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgICB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHJlYWN0TmFtZS50eXBlICYmXG4gICAgICAgICAgICAgIG51bGwgIT0gdGFyZ2V0SW5zdC5tZW1vaXplZFByb3BzLnZhbHVlICYmXG4gICAgICAgICAgICAgIHNldERlZmF1bHRWYWx1ZShyZWFjdE5hbWUsIFwibnVtYmVyXCIsIHJlYWN0TmFtZS52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IHRhcmdldEluc3RcbiAgICAgICAgICAgID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KVxuICAgICAgICAgICAgOiB3aW5kb3c7XG4gICAgICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpc1RleHRJbnB1dEVsZW1lbnQoaGFuZGxlRXZlbnRGdW5jKSB8fFxuICAgICAgICAgICAgICAgIFwidHJ1ZVwiID09PSBoYW5kbGVFdmVudEZ1bmMuY29udGVudEVkaXRhYmxlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAoYWN0aXZlRWxlbWVudCA9IGhhbmRsZUV2ZW50RnVuYyksXG4gICAgICAgICAgICAgICAgICAoYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0KSxcbiAgICAgICAgICAgICAgICAgIChsYXN0U2VsZWN0aW9uID0gbnVsbCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBhY3RpdmVFbGVtZW50SW5zdCA9IGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgICAgICAgbW91c2VEb3duID0gITA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRleHRtZW51XCI6XG4gICAgICAgICAgICBjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgICAgICAgbW91c2VEb3duID0gITE7XG4gICAgICAgICAgICAgIGNvbnN0cnVjdFNlbGVjdEV2ZW50KFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2VsZWN0aW9uY2hhbmdlXCI6XG4gICAgICAgICAgICAgIGlmIChza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQpIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICAgICAgICBjb25zdHJ1Y3RTZWxlY3RFdmVudChcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBmYWxsYmFja0RhdGE7XG4gICAgICAgICAgaWYgKGNhblVzZUNvbXBvc2l0aW9uRXZlbnQpXG4gICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25TdGFydFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvbkVuZFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb251cGRhdGVcIjpcbiAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvblVwZGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBldmVudFR5cGUgPSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgaXNDb21wb3NpbmdcbiAgICAgICAgICAgICAgPyBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uRW5kXCIpXG4gICAgICAgICAgICAgIDogXCJrZXlkb3duXCIgPT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREUgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uU3RhcnRcIik7XG4gICAgICAgICAgZXZlbnRUeXBlICYmXG4gICAgICAgICAgICAodXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgJiZcbiAgICAgICAgICAgICAgXCJrb1wiICE9PSBuYXRpdmVFdmVudC5sb2NhbGUgJiZcbiAgICAgICAgICAgICAgKGlzQ29tcG9zaW5nIHx8IFwib25Db21wb3NpdGlvblN0YXJ0XCIgIT09IGV2ZW50VHlwZVxuICAgICAgICAgICAgICAgID8gXCJvbkNvbXBvc2l0aW9uRW5kXCIgPT09IGV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgICAgICAgaXNDb21wb3NpbmcgJiZcbiAgICAgICAgICAgICAgICAgIChmYWxsYmFja0RhdGEgPSBnZXREYXRhKCkpXG4gICAgICAgICAgICAgICAgOiAoKHJvb3QgPSBuYXRpdmVFdmVudFRhcmdldCksXG4gICAgICAgICAgICAgICAgICAoc3RhcnRUZXh0ID0gXCJ2YWx1ZVwiIGluIHJvb3QgPyByb290LnZhbHVlIDogcm9vdC50ZXh0Q29udGVudCksXG4gICAgICAgICAgICAgICAgICAoaXNDb21wb3NpbmcgPSAhMCkpKSxcbiAgICAgICAgICAgIChoYW5kbGVFdmVudEZ1bmMgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoXG4gICAgICAgICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgICAgICAgIGV2ZW50VHlwZVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAwIDwgaGFuZGxlRXZlbnRGdW5jLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAoKGV2ZW50VHlwZSA9IG5ldyBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50KFxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogaGFuZGxlRXZlbnRGdW5jXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBmYWxsYmFja0RhdGFcbiAgICAgICAgICAgICAgICA/IChldmVudFR5cGUuZGF0YSA9IGZhbGxiYWNrRGF0YSlcbiAgICAgICAgICAgICAgICA6ICgoZmFsbGJhY2tEYXRhID0gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCkpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZmFsbGJhY2tEYXRhICYmIChldmVudFR5cGUuZGF0YSA9IGZhbGxiYWNrRGF0YSkpKSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGZhbGxiYWNrRGF0YSA9IGNhblVzZVRleHRJbnB1dEV2ZW50XG4gICAgICAgICAgICAgID8gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyhkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KVxuICAgICAgICAgICAgICA6IGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyhkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSlcbiAgICAgICAgICApXG4gICAgICAgICAgICAoZXZlbnRUeXBlID0gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKFxuICAgICAgICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICAgICAgICBcIm9uQmVmb3JlSW5wdXRcIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIDAgPCBldmVudFR5cGUubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgKChoYW5kbGVFdmVudEZ1bmMgPSBuZXcgU3ludGhldGljSW5wdXRFdmVudChcbiAgICAgICAgICAgICAgICAgIFwib25CZWZvcmVJbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgXCJiZWZvcmVpbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IGhhbmRsZUV2ZW50RnVuYyxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyczogZXZlbnRUeXBlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKGhhbmRsZUV2ZW50RnVuYy5kYXRhID0gZmFsbGJhY2tEYXRhKSk7XG4gICAgICAgICAgZXh0cmFjdEV2ZW50cyQxKFxuICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZShkaXNwYXRjaFF1ZXVlLCBldmVudFN5c3RlbUZsYWdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKGluc3RhbmNlLCBsaXN0ZW5lciwgY3VycmVudFRhcmdldCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gICAgICAgIGN1cnJlbnRUYXJnZXQ6IGN1cnJlbnRUYXJnZXRcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyh0YXJnZXRGaWJlciwgcmVhY3ROYW1lKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgY2FwdHVyZU5hbWUgPSByZWFjdE5hbWUgKyBcIkNhcHR1cmVcIiwgbGlzdGVuZXJzID0gW107XG4gICAgICAgIG51bGwgIT09IHRhcmdldEZpYmVyO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTMgPSB0YXJnZXRGaWJlcixcbiAgICAgICAgICBzdGF0ZU5vZGUgPSBfaW5zdGFuY2UzLnN0YXRlTm9kZTtcbiAgICAgICAgX2luc3RhbmNlMyA9IF9pbnN0YW5jZTMudGFnO1xuICAgICAgICAoNSAhPT0gX2luc3RhbmNlMyAmJiAyNiAhPT0gX2luc3RhbmNlMyAmJiAyNyAhPT0gX2luc3RhbmNlMykgfHxcbiAgICAgICAgICBudWxsID09PSBzdGF0ZU5vZGUgfHxcbiAgICAgICAgICAoKF9pbnN0YW5jZTMgPSBnZXRMaXN0ZW5lcih0YXJnZXRGaWJlciwgY2FwdHVyZU5hbWUpKSxcbiAgICAgICAgICBudWxsICE9IF9pbnN0YW5jZTMgJiZcbiAgICAgICAgICAgIGxpc3RlbmVycy51bnNoaWZ0KFxuICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldEZpYmVyLCBfaW5zdGFuY2UzLCBzdGF0ZU5vZGUpXG4gICAgICAgICAgICApLFxuICAgICAgICAgIChfaW5zdGFuY2UzID0gZ2V0TGlzdGVuZXIodGFyZ2V0RmliZXIsIHJlYWN0TmFtZSkpLFxuICAgICAgICAgIG51bGwgIT0gX2luc3RhbmNlMyAmJlxuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goXG4gICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIodGFyZ2V0RmliZXIsIF9pbnN0YW5jZTMsIHN0YXRlTm9kZSlcbiAgICAgICAgICAgICkpO1xuICAgICAgICB0YXJnZXRGaWJlciA9IHRhcmdldEZpYmVyLnJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudChpbnN0KSB7XG4gICAgICBpZiAobnVsbCA9PT0gaW5zdCkgcmV0dXJuIG51bGw7XG4gICAgICBkbyBpbnN0ID0gaW5zdC5yZXR1cm47XG4gICAgICB3aGlsZSAoaW5zdCAmJiA1ICE9PSBpbnN0LnRhZyAmJiAyNyAhPT0gaW5zdC50YWcpO1xuICAgICAgcmV0dXJuIGluc3QgPyBpbnN0IDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZUVudGVyTGVhdmVMaXN0ZW5lcnNGb3JFdmVudChcbiAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICBldmVudCxcbiAgICAgIHRhcmdldCxcbiAgICAgIGNvbW1vbixcbiAgICAgIGluQ2FwdHVyZVBoYXNlXG4gICAgKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50Ll9yZWFjdE5hbWUsIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBudWxsICE9PSB0YXJnZXQgJiYgdGFyZ2V0ICE9PSBjb21tb247XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgX2luc3RhbmNlNCA9IHRhcmdldCxcbiAgICAgICAgICBhbHRlcm5hdGUgPSBfaW5zdGFuY2U0LmFsdGVybmF0ZSxcbiAgICAgICAgICBzdGF0ZU5vZGUgPSBfaW5zdGFuY2U0LnN0YXRlTm9kZTtcbiAgICAgICAgX2luc3RhbmNlNCA9IF9pbnN0YW5jZTQudGFnO1xuICAgICAgICBpZiAobnVsbCAhPT0gYWx0ZXJuYXRlICYmIGFsdGVybmF0ZSA9PT0gY29tbW9uKSBicmVhaztcbiAgICAgICAgKDUgIT09IF9pbnN0YW5jZTQgJiYgMjYgIT09IF9pbnN0YW5jZTQgJiYgMjcgIT09IF9pbnN0YW5jZTQpIHx8XG4gICAgICAgICAgbnVsbCA9PT0gc3RhdGVOb2RlIHx8XG4gICAgICAgICAgKChhbHRlcm5hdGUgPSBzdGF0ZU5vZGUpLFxuICAgICAgICAgIGluQ2FwdHVyZVBoYXNlXG4gICAgICAgICAgICA/ICgoc3RhdGVOb2RlID0gZ2V0TGlzdGVuZXIodGFyZ2V0LCByZWdpc3RyYXRpb25OYW1lKSksXG4gICAgICAgICAgICAgIG51bGwgIT0gc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoXG4gICAgICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldCwgc3RhdGVOb2RlLCBhbHRlcm5hdGUpXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogaW5DYXB0dXJlUGhhc2UgfHxcbiAgICAgICAgICAgICAgKChzdGF0ZU5vZGUgPSBnZXRMaXN0ZW5lcih0YXJnZXQsIHJlZ2lzdHJhdGlvbk5hbWUpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBzdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIodGFyZ2V0LCBzdGF0ZU5vZGUsIGFsdGVybmF0ZSlcbiAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5yZXR1cm47XG4gICAgICB9XG4gICAgICAwICE9PSBsaXN0ZW5lcnMubGVuZ3RoICYmXG4gICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IGV2ZW50OiBldmVudCwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodHlwZSwgcHJvcHMpIHtcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzKTtcbiAgICAgIChcImlucHV0XCIgIT09IHR5cGUgJiYgXCJ0ZXh0YXJlYVwiICE9PSB0eXBlICYmIFwic2VsZWN0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgIG51bGwgPT0gcHJvcHMgfHxcbiAgICAgICAgbnVsbCAhPT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbHVlTnVsbCB8fFxuICAgICAgICAoKGRpZFdhcm5WYWx1ZU51bGwgPSAhMCksXG4gICAgICAgIFwic2VsZWN0XCIgPT09IHR5cGUgJiYgcHJvcHMubXVsdGlwbGVcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiBDb25zaWRlciB1c2luZyBhbiBlbXB0eSBhcnJheSB3aGVuIGBtdWx0aXBsZWAgaXMgc2V0IHRvIGB0cnVlYCB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy5cIixcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJgdmFsdWVgIHByb3Agb24gYCVzYCBzaG91bGQgbm90IGJlIG51bGwuIENvbnNpZGVyIHVzaW5nIGFuIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy5cIixcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKSk7XG4gICAgICB2YXIgZXZlbnRSZWdpc3RyeSA9IHtcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llczogcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyxcbiAgICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lczogcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1xuICAgICAgfTtcbiAgICAgIGlzQ3VzdG9tRWxlbWVudCh0eXBlKSB8fFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMuaXMgfHxcbiAgICAgICAgd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBldmVudFJlZ2lzdHJ5KTtcbiAgICAgIHByb3BzLmNvbnRlbnRFZGl0YWJsZSAmJlxuICAgICAgICAhcHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nICYmXG4gICAgICAgIG51bGwgIT0gcHJvcHMuY2hpbGRyZW4gJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkEgY29tcG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgUmVhY3QuIEl0IGlzIG5vdyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIGd1YXJhbnRlZSB0aGF0IG5vbmUgb2YgdGhvc2Ugbm9kZXMgYXJlIHVuZXhwZWN0ZWRseSBtb2RpZmllZCBvciBkdXBsaWNhdGVkLiBUaGlzIGlzIHByb2JhYmx5IG5vdCBpbnRlbnRpb25hbC5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICBwcm9wTmFtZSxcbiAgICAgIHNlcnZlclZhbHVlLFxuICAgICAgY2xpZW50VmFsdWUsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgc2VydmVyVmFsdWUgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICgoY2xpZW50VmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VmFsdWUpKSxcbiAgICAgICAgbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclZhbHVlKSAhPT0gY2xpZW50VmFsdWUgJiZcbiAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXNbcHJvcE5hbWVdID0gc2VydmVyVmFsdWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkZvckV4dHJhQXR0cmlidXRlcyhcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBhdHRyaWJ1dGVOYW1lcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBhdHRyaWJ1dGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIHNlcnZlckRpZmZlcmVuY2VzW2dldFByb3BOYW1lRnJvbUF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSldID1cbiAgICAgICAgICBcInN0eWxlXCIgPT09IGF0dHJpYnV0ZU5hbWVcbiAgICAgICAgICAgID8gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoZG9tRWxlbWVudClcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAhMSA9PT0gbGlzdGVuZXJcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGBmYWxzZWAuXFxuXFxuSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sIHBhc3MgJXM9e2NvbmRpdGlvbiA/IHZhbHVlIDogdW5kZWZpbmVkfSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgJXNgIHR5cGUuXCIsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgICAgICAgdHlwZW9mIGxpc3RlbmVyXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplSFRNTChwYXJlbnQsIGh0bWwpIHtcbiAgICAgIHBhcmVudCA9XG4gICAgICAgIHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IE1BVEhfTkFNRVNQQUNFIHx8XG4gICAgICAgIHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0VcbiAgICAgICAgICA/IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgcGFyZW50Lm5hbWVzcGFjZVVSSSxcbiAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFyZW50LnRhZ05hbWUpO1xuICAgICAgcGFyZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICByZXR1cm4gcGFyZW50LmlubmVySFRNTDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKG1hcmt1cCkge1xuICAgICAgd2lsbENvZXJjaW9uVGhyb3cobWFya3VwKSAmJlxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBIVE1MIG1hcmt1cCB1c2VzIGEgdmFsdWUgb2YgdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgdHlwZU5hbWUobWFya3VwKVxuICAgICAgICApLFxuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24obWFya3VwKSk7XG4gICAgICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHR5cGVvZiBtYXJrdXAgPyBtYXJrdXAgOiBcIlwiICsgbWFya3VwKVxuICAgICAgICAucmVwbGFjZShOT1JNQUxJWkVfTkVXTElORVNfUkVHRVgsIFwiXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCwgXCJcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRm9yVW5tYXRjaGVkVGV4dChzZXJ2ZXJUZXh0LCBjbGllbnRUZXh0KSB7XG4gICAgICBjbGllbnRUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFRleHQpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJUZXh0KSA9PT0gY2xpZW50VGV4dFxuICAgICAgICA/ICEwXG4gICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGtleSwgdmFsdWUsIHByb3BzLCBwcmV2VmFsdWUpIHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpXG4gICAgICAgICAgICB2YWxpZGF0ZVRleHROZXN0aW5nKHZhbHVlLCB0YWcpLFxuICAgICAgICAgICAgICBcImJvZHlcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICAgICAgKFwidGV4dGFyZWFcIiA9PT0gdGFnICYmIFwiXCIgPT09IHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgICBlbHNlIGlmIChcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHZhbHVlKVxuICAgICAgICAgICAgdmFsaWRhdGVUZXh0TmVzdGluZyhcIlwiICsgdmFsdWUsIHRhZyksXG4gICAgICAgICAgICAgIFwiYm9keVwiICE9PSB0YWcgJiYgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNsYXNzTmFtZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJjbGFzc1wiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0YWJJbmRleFwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJ0YWJpbmRleFwiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkaXJcIjpcbiAgICAgICAgY2FzZSBcInJvbGVcIjpcbiAgICAgICAgY2FzZSBcInZpZXdCb3hcIjpcbiAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSwgcHJldlZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdGFnKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwiZGF0YVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgY2FzZSBcImhyZWZcIjpcbiAgICAgICAgICBpZiAoXCJcIiA9PT0gdmFsdWUgJiYgKFwiYVwiICE9PSB0YWcgfHwgXCJocmVmXCIgIT09IGtleSkpIHtcbiAgICAgICAgICAgIFwic3JjXCIgPT09IGtleVxuICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRoaXMgbWF5IGNhdXNlIHRoZSBicm93c2VyIHRvIGRvd25sb2FkIHRoZSB3aG9sZSBwYWdlIGFnYWluIG92ZXIgdGhlIG5ldHdvcmsuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KTtcbiAgICAgICAgICB2YWx1ZSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcImZvcm1BY3Rpb25cIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmb3JtXCIgPT09IHRhZ1xuICAgICAgICAgICAgICA/IFwiZm9ybUFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGZvcm1BY3Rpb24gcHJvcCB0byA8aW5wdXQ+IG9yIDxidXR0b24+LiBVc2UgdGhlIGFjdGlvbiBwcm9wIG9uIDxmb3JtPi5cIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICgobnVsbCA9PSBwcm9wcy5lbmNUeXBlICYmIG51bGwgPT0gcHJvcHMubWV0aG9kKSB8fFxuICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCB8fFxuICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kID0gITApLFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNwZWNpZnkgYSBlbmNUeXBlIG9yIG1ldGhvZCBmb3IgYSBmb3JtIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgdGhlIGFjdGlvbi4gUmVhY3QgcHJvdmlkZXMgdGhvc2UgYXV0b21hdGljYWxseS4gVGhleSB3aWxsIGdldCBvdmVycmlkZGVuLlwiXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy50YXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvblRhcmdldCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgdGFyZ2V0IGZvciBhIGZvcm0gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyB0aGUgYWN0aW9uLiBUaGUgZnVuY3Rpb24gd2lsbCBhbHdheXMgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgd2luZG93LlwiXG4gICAgICAgICAgICAgICAgICAgICkpKVxuICAgICAgICAgICAgICA6IFwiaW5wdXRcIiA9PT0gdGFnIHx8IFwiYnV0dG9uXCIgPT09IHRhZ1xuICAgICAgICAgICAgICAgID8gXCJhY3Rpb25cIiA9PT0ga2V5XG4gICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2FuIG9ubHkgcGFzcyB0aGUgYWN0aW9uIHByb3AgdG8gPGZvcm0+LiBVc2UgdGhlIGZvcm1BY3Rpb24gcHJvcCBvbiA8aW5wdXQ+IG9yIDxidXR0b24+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogXCJpbnB1dFwiICE9PSB0YWcgfHxcbiAgICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdFwiID09PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZVwiID09PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UeXBlXG4gICAgICAgICAgICAgICAgICAgID8gXCJidXR0b25cIiAhPT0gdGFnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRcIiA9PT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVHlwZVxuICAgICAgICAgICAgICAgICAgICAgID8gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IHByb3BzLm5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25OYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25OYW1lID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3Qgc3BlY2lmeSBhIFwibmFtZVwiIHByb3AgZm9yIGEgYnV0dG9uIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgYSBmb3JtQWN0aW9uLiBSZWFjdCBuZWVkcyBpdCB0byBlbmNvZGUgd2hpY2ggYWN0aW9uIHNob3VsZCBiZSBpbnZva2VkLiBJdCB3aWxsIGdldCBvdmVycmlkZGVuLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBwcm9wcy5mb3JtRW5jVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IHByb3BzLmZvcm1NZXRob2QpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIGZvcm1FbmNUeXBlIG9yIGZvcm1NZXRob2QgZm9yIGEgYnV0dG9uIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgYSBmb3JtQWN0aW9uLiBSZWFjdCBwcm92aWRlcyB0aG9zZSBhdXRvbWF0aWNhbGx5LiBUaGV5IHdpbGwgZ2V0IG92ZXJyaWRkZW4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IHByb3BzLmZvcm1UYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvblRhcmdldCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgZm9ybVRhcmdldCBmb3IgYSBidXR0b24gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyBhIGZvcm1BY3Rpb24uIFRoZSBmdW5jdGlvbiB3aWxsIGFsd2F5cyBiZSBleGVjdXRlZCBpbiB0aGUgc2FtZSB3aW5kb3cuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoKGRpZFdhcm5Gb3JtQWN0aW9uVHlwZSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdBIGJ1dHRvbiBjYW4gb25seSBzcGVjaWZ5IGEgZm9ybUFjdGlvbiBhbG9uZyB3aXRoIHR5cGU9XCJzdWJtaXRcIiBvciBubyB0eXBlLidcbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgIDogKChkaWRXYXJuRm9ybUFjdGlvblR5cGUgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdBbiBpbnB1dCBjYW4gb25seSBzcGVjaWZ5IGEgZm9ybUFjdGlvbiBhbG9uZyB3aXRoIHR5cGU9XCJzdWJtaXRcIiBvciB0eXBlPVwiaW1hZ2VcIi4nXG4gICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA6IFwiYWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGFjdGlvbiBwcm9wIHRvIDxmb3JtPi5cIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2FuIG9ubHkgcGFzcyB0aGUgZm9ybUFjdGlvbiBwcm9wIHRvIDxpbnB1dD4gb3IgPGJ1dHRvbj4uXCJcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICBcImphdmFzY3JpcHQ6dGhyb3cgbmV3IEVycm9yKCdBIFJlYWN0IGZvcm0gd2FzIHVuZXhwZWN0ZWRseSBzdWJtaXR0ZWQuIElmIHlvdSBjYWxsZWQgZm9ybS5zdWJtaXQoKSBtYW51YWxseSwgY29uc2lkZXIgdXNpbmcgZm9ybS5yZXF1ZXN0U3VibWl0KCkgaW5zdGVhZC4gSWYgeW91XFxcXCdyZSB0cnlpbmcgdG8gdXNlIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpIGluIGEgc3VibWl0IGV2ZW50IGhhbmRsZXIsIGNvbnNpZGVyIGFsc28gY2FsbGluZyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLicpXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAoXCJmb3JtQWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgID8gKFwiaW5wdXRcIiAhPT0gdGFnICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBcIm5hbWVcIiwgcHJvcHMubmFtZSwgcHJvcHMsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1FbmNUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtTWV0aG9kXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZvcm1NZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1UYXJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZm9ybVRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgOiAoc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImVuY1R5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZW5jVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJtZXRob2RcIiwgcHJvcHMubWV0aG9kLCBwcm9wcywgbnVsbCksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwidGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KTtcbiAgICAgICAgICB2YWx1ZSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbkNsaWNrXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIChkb21FbGVtZW50Lm9uY2xpY2sgPSBub29wJDEpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxFbmRcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbGVuZFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgIGlmIChudWxsICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIHZhbHVlIHx8ICEoXCJfX2h0bWxcIiBpbiB2YWx1ZSkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBtdXN0IGJlIGluIHRoZSBmb3JtIGB7X19odG1sOiAuLi59YC4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZGFuZ2Vyb3VzbHktc2V0LWlubmVyLWh0bWwgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGtleSA9IHZhbHVlLl9faHRtbDtcbiAgICAgICAgICAgIGlmIChudWxsICE9IGtleSkge1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2FuIG9ubHkgc2V0IG9uZSBvZiBgY2hpbGRyZW5gIG9yIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBkb21FbGVtZW50LmlubmVySFRNTCA9IGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgIGRvbUVsZW1lbnQubXVsdGlwbGUgPVxuICAgICAgICAgICAgdmFsdWUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiYgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICBkb21FbGVtZW50Lm11dGVkID1cbiAgICAgICAgICAgIHZhbHVlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXV0b0ZvY3VzXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua0hyZWZcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KTtcbiAgICAgICAgICBrZXkgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlTlMoeGxpbmtOYW1lc3BhY2UsIFwieGxpbms6aHJlZlwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJzcGVsbENoZWNrXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZ2FibGVcIjpcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJhdXRvUmV2ZXJzZVwiOlxuICAgICAgICBjYXNlIFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJwcmVzZXJ2ZUFscGhhXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIFwiXCIgKyB2YWx1ZSkpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgIFwiXCIgIT09IHZhbHVlIHx8XG4gICAgICAgICAgICBkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVba2V5XSB8fFxuICAgICAgICAgICAgKChkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVba2V5XSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gZW1wdHkgc3RyaW5nIGZvciBhIGJvb2xlYW4gYXR0cmlidXRlIGAlc2AuIFRoaXMgd2lsbCB0cmVhdCB0aGUgYXR0cmlidXRlIGFzIGlmIGl0IHdlcmUgZmFsc2UuIEVpdGhlciBwYXNzIGBmYWxzZWAgdG8gc2lsZW5jZSB0aGlzIHdhcm5pbmcsIG9yIHBhc3MgYHRydWVgIGlmIHlvdSB1c2VkIGFuIGVtcHR5IHN0cmluZyBpbiBlYXJsaWVyIHZlcnNpb25zIG9mIFJlYWN0IHRvIGluZGljYXRlIHRoaXMgYXR0cmlidXRlIGlzIHRydWUuXCIsXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICB2YWx1ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgID8gZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKVxuICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwiZG93bmxvYWRcIjpcbiAgICAgICAgICAhMCA9PT0gdmFsdWVcbiAgICAgICAgICAgID8gZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKVxuICAgICAgICAgICAgOiAhMSAhPT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY29sc1wiOlxuICAgICAgICBjYXNlIFwicm93c1wiOlxuICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICFpc05hTih2YWx1ZSkgJiZcbiAgICAgICAgICAxIDw9IHZhbHVlXG4gICAgICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSlcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJvd1NwYW5cIjpcbiAgICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgaXNOYU4odmFsdWUpXG4gICAgICAgICAgICA/IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSlcbiAgICAgICAgICAgIDogKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcG92ZXJcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiYmVmb3JldG9nZ2xlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJwb3BvdmVyXCIsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rQWN0dWF0ZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6YWN0dWF0ZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtBcmNyb2xlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazphcmNyb2xlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1JvbGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnJvbGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rU2hvd1wiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6c2hvd1wiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtUaXRsZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6dGl0bGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rVHlwZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6dHlwZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG1sQmFzZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhtbDpiYXNlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bWxMYW5nXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhtbE5hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieG1sOmxhbmdcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhtbFNwYWNlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhtbE5hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieG1sOnNwYWNlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpc1wiOlxuICAgICAgICAgIG51bGwgIT0gcHJldlZhbHVlICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnQ2Fubm90IHVwZGF0ZSB0aGUgXCJpc1wiIHByb3AgYWZ0ZXIgaXQgaGFzIGJlZW4gaW5pdGlhbGl6ZWQuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBcImlzXCIsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlubmVyVGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dENvbnRlbnRcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcG92ZXJUYXJnZXRcIjpcbiAgICAgICAgICBkaWRXYXJuUG9wb3ZlclRhcmdldE9iamVjdCB8fFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Qb3BvdmVyVGFyZ2V0T2JqZWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJUaGUgYHBvcG92ZXJUYXJnZXRgIHByb3AgZXhwZWN0cyB0aGUgSUQgb2YgYW4gRWxlbWVudCBhcyBhIHN0cmluZy4gUmVjZWl2ZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICEoMiA8IGtleS5sZW5ndGgpIHx8XG4gICAgICAgICAgKFwib1wiICE9PSBrZXlbMF0gJiYgXCJPXCIgIT09IGtleVswXSkgfHxcbiAgICAgICAgICAoXCJuXCIgIT09IGtleVsxXSAmJiBcIk5cIiAhPT0ga2V5WzFdKVxuICAgICAgICAgICAgPyAoKGtleSA9IGdldEF0dHJpYnV0ZUFsaWFzKGtleSkpLFxuICAgICAgICAgICAgICBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBrZXksIHZhbHVlKSlcbiAgICAgICAgICAgIDogcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHRhZyxcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlLFxuICAgICAgcHJvcHMsXG4gICAgICBwcmV2VmFsdWVcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIHZhbHVlLCBwcmV2VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSB8fCAhKFwiX19odG1sXCIgaW4gdmFsdWUpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL3JlYWN0LmRldi9saW5rL2Rhbmdlcm91c2x5LXNldC1pbm5lci1odG1sIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBrZXkgPSB2YWx1ZS5fX2h0bWw7XG4gICAgICAgICAgICBpZiAobnVsbCAhPSBrZXkpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgID8gc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgdmFsdWUpXG4gICAgICAgICAgICA6IChcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHZhbHVlKSAmJlxuICAgICAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvblNjcm9sbEVuZFwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsZW5kXCIsIGRvbUVsZW1lbnQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgKGRvbUVsZW1lbnQub25jbGljayA9IG5vb3AkMSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbm5lclRleHRcIjpcbiAgICAgICAgY2FzZSBcInRleHRDb250ZW50XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwib1wiID09PSBrZXlbMF0gJiZcbiAgICAgICAgICAgICAgICBcIm5cIiA9PT0ga2V5WzFdICYmXG4gICAgICAgICAgICAgICAgKChwcm9wcyA9IGtleS5lbmRzV2l0aChcIkNhcHR1cmVcIikpLFxuICAgICAgICAgICAgICAgICh0YWcgPSBrZXkuc2xpY2UoMiwgcHJvcHMgPyBrZXkubGVuZ3RoIC0gNyA6IHZvaWQgMCkpLFxuICAgICAgICAgICAgICAgIChwcmV2VmFsdWUgPSBkb21FbGVtZW50W2ludGVybmFsUHJvcHNLZXldIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIChwcmV2VmFsdWUgPSBudWxsICE9IHByZXZWYWx1ZSA/IHByZXZWYWx1ZVtrZXldIDogbnVsbCksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGFnLCBwcmV2VmFsdWUsIHByb3BzKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgIChrZXkgaW4gZG9tRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICA/IChkb21FbGVtZW50W2tleV0gPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICA6IGRvbUVsZW1lbnQuaGFzQXR0cmlidXRlKGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpKTtcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGFnLCB2YWx1ZSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAga2V5IGluIGRvbUVsZW1lbnRcbiAgICAgICAgICAgICAgICA/IChkb21FbGVtZW50W2tleV0gPSB2YWx1ZSlcbiAgICAgICAgICAgICAgICA6ICEwID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgPyBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIFwiXCIpXG4gICAgICAgICAgICAgICAgICA6IHNldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRJbml0aWFsUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIHByb3BzKSB7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgcHJvcHMpO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImRpdlwiOlxuICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgIGNhc2UgXCJwYXRoXCI6XG4gICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgIGNhc2UgXCJsaVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHZhciBoYXNTcmMgPSAhMSxcbiAgICAgICAgICAgIGhhc1NyY1NldCA9ICExLFxuICAgICAgICAgICAgcHJvcEtleTtcbiAgICAgICAgICBmb3IgKHByb3BLZXkgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wVmFsdWUpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyYyA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzcmNTZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0ID0gITA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBwcm9wS2V5LCBwcm9wVmFsdWUsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgaGFzU3JjU2V0ICYmXG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJzcmNTZXRcIiwgcHJvcHMuc3JjU2V0LCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgaGFzU3JjICYmIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBcInNyY1wiLCBwcm9wcy5zcmMsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJpbnB1dFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IChwcm9wS2V5ID0gcHJvcFZhbHVlID0gaGFzU3JjU2V0ID0gbnVsbCksXG4gICAgICAgICAgICBjaGVja2VkID0gbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGhhc1NyYyBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShoYXNTcmMpKSB7XG4gICAgICAgICAgICAgIHZhciBfcHJvcFZhbHVlID0gcHJvcHNbaGFzU3JjXTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gX3Byb3BWYWx1ZSlcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGhhc1NyYykge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0ID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWUgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBfcHJvcFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGhhc1NyYywgX3Byb3BWYWx1ZSwgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB2YWxpZGF0ZUlucHV0UHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIGluaXRJbnB1dChcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgY2hlY2tlZCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgcHJvcFZhbHVlLFxuICAgICAgICAgICAgaGFzU3JjU2V0LFxuICAgICAgICAgICAgITFcbiAgICAgICAgICApO1xuICAgICAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJzZWxlY3RcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGhhc1NyYyA9IHByb3BWYWx1ZSA9IHByb3BLZXkgPSBudWxsO1xuICAgICAgICAgIGZvciAoaGFzU3JjU2V0IGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShoYXNTcmNTZXQpICYmXG4gICAgICAgICAgICAgICgoZGVmYXVsdFZhbHVlID0gcHJvcHNbaGFzU3JjU2V0XSksIG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGhhc1NyY1NldCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgaGFzU3JjID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlU2VsZWN0UHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIHRhZyA9IHByb3BLZXk7XG4gICAgICAgICAgcHJvcHMgPSBwcm9wVmFsdWU7XG4gICAgICAgICAgZG9tRWxlbWVudC5tdWx0aXBsZSA9ICEhaGFzU3JjO1xuICAgICAgICAgIG51bGwgIT0gdGFnXG4gICAgICAgICAgICA/IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISFoYXNTcmMsIHRhZywgITEpXG4gICAgICAgICAgICA6IG51bGwgIT0gcHJvcHMgJiYgdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIWhhc1NyYywgcHJvcHMsICEwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJ0ZXh0YXJlYVwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgcHJvcEtleSA9IGhhc1NyY1NldCA9IGhhc1NyYyA9IG51bGw7XG4gICAgICAgICAgZm9yIChwcm9wVmFsdWUgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KHByb3BWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgKChkZWZhdWx0VmFsdWUgPSBwcm9wc1twcm9wVmFsdWVdKSwgbnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBoYXNTcmMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBoYXNTcmNTZXQgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgdmFsaWRhdGVUZXh0YXJlYVByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICBpbml0VGV4dGFyZWEoZG9tRWxlbWVudCwgaGFzU3JjLCBoYXNTcmNTZXQsIHByb3BLZXkpO1xuICAgICAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIHZhbGlkYXRlT3B0aW9uUHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIGZvciAoY2hlY2tlZCBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoY2hlY2tlZCkgJiZcbiAgICAgICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tjaGVja2VkXSksIG51bGwgIT0gaGFzU3JjKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2VsZWN0ZWQgPVxuICAgICAgICAgICAgICAgICAgICBoYXNTcmMgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgaGFzU3JjICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBoYXNTcmM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGNoZWNrZWQsIGhhc1NyYywgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwiZGlhbG9nXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNhbmNlbFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2xvc2VcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpZnJhbWVcIjpcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgY2FzZSBcImF1ZGlvXCI6XG4gICAgICAgICAgZm9yIChoYXNTcmMgPSAwOyBoYXNTcmMgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyBoYXNTcmMrKylcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQobWVkaWFFdmVudFR5cGVzW2hhc1NyY10sIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZXRhaWxzXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInRvZ2dsZVwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVtYmVkXCI6XG4gICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZG9tRWxlbWVudCksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgY2FzZSBcImFyZWFcIjpcbiAgICAgICAgY2FzZSBcImJhc2VcIjpcbiAgICAgICAgY2FzZSBcImJyXCI6XG4gICAgICAgIGNhc2UgXCJjb2xcIjpcbiAgICAgICAgY2FzZSBcImhyXCI6XG4gICAgICAgIGNhc2UgXCJrZXlnZW5cIjpcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInBhcmFtXCI6XG4gICAgICAgIGNhc2UgXCJ0cmFja1wiOlxuICAgICAgICBjYXNlIFwid2JyXCI6XG4gICAgICAgIGNhc2UgXCJtZW51aXRlbVwiOlxuICAgICAgICAgIGZvciAoZGVmYXVsdENoZWNrZWQgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRDaGVja2VkKSAmJlxuICAgICAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW2RlZmF1bHRDaGVja2VkXSksIG51bGwgIT0gaGFzU3JjKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGRlZmF1bHRDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgZGVmYXVsdENoZWNrZWQsIGhhc1NyYywgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgZm9yIChfcHJvcFZhbHVlIGluIHByb3BzKVxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcFZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICgoaGFzU3JjID0gcHJvcHNbX3Byb3BWYWx1ZV0pLFxuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gaGFzU3JjICYmXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGhhc1NyYyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMFxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChkZWZhdWx0VmFsdWUgaW4gcHJvcHMpXG4gICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW2RlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgIG51bGwgIT0gaGFzU3JjICYmXG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgZGVmYXVsdFZhbHVlLCBoYXNTcmMsIHByb3BzLCBudWxsKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdGFnLCBsYXN0UHJvcHMsIG5leHRQcm9wcykge1xuICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIG5leHRQcm9wcyk7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiZGl2XCI6XG4gICAgICAgIGNhc2UgXCJzcGFuXCI6XG4gICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgY2FzZSBcImxpXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgIHZhciBuYW1lID0gbnVsbCxcbiAgICAgICAgICAgIHR5cGUgPSBudWxsLFxuICAgICAgICAgICAgdmFsdWUgPSBudWxsLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gbnVsbCxcbiAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWUgPSBudWxsLFxuICAgICAgICAgICAgY2hlY2tlZCA9IG51bGwsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IG51bGw7XG4gICAgICAgICAgZm9yIChwcm9wS2V5IGluIGxhc3RQcm9wcykge1xuICAgICAgICAgICAgdmFyIGxhc3RQcm9wID0gbGFzdFByb3BzW3Byb3BLZXldO1xuICAgICAgICAgICAgaWYgKGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSAmJiBudWxsICE9IGxhc3RQcm9wKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlID0gbGFzdFByb3A7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdFByb3BcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBfcHJvcEtleTggaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcEtleSA9IG5leHRQcm9wc1tfcHJvcEtleThdO1xuICAgICAgICAgICAgbGFzdFByb3AgPSBsYXN0UHJvcHNbX3Byb3BLZXk4XTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5OCkgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gcHJvcEtleSB8fCBudWxsICE9IGxhc3RQcm9wKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKF9wcm9wS2V5OCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0eXBlXCI6XG4gICAgICAgICAgICAgICAgICB0eXBlID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJuYW1lXCI6XG4gICAgICAgICAgICAgICAgICBuYW1lID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICBjaGVja2VkID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgIT09IGxhc3RQcm9wICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9wXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFnID1cbiAgICAgICAgICAgIFwiY2hlY2tib3hcIiA9PT0gbGFzdFByb3BzLnR5cGUgfHwgXCJyYWRpb1wiID09PSBsYXN0UHJvcHMudHlwZVxuICAgICAgICAgICAgICA/IG51bGwgIT0gbGFzdFByb3BzLmNoZWNrZWRcbiAgICAgICAgICAgICAgOiBudWxsICE9IGxhc3RQcm9wcy52YWx1ZTtcbiAgICAgICAgICBuZXh0UHJvcHMgPVxuICAgICAgICAgICAgXCJjaGVja2JveFwiID09PSBuZXh0UHJvcHMudHlwZSB8fCBcInJhZGlvXCIgPT09IG5leHRQcm9wcy50eXBlXG4gICAgICAgICAgICAgID8gbnVsbCAhPSBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgICAgICAgICA6IG51bGwgIT0gbmV4dFByb3BzLnZhbHVlO1xuICAgICAgICAgIHRhZyB8fFxuICAgICAgICAgICAgIW5leHRQcm9wcyB8fFxuICAgICAgICAgICAgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCB8fFxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYW4gdW5jb250cm9sbGVkIGlucHV0IHRvIGJlIGNvbnRyb2xsZWQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSB0aGUgdmFsdWUgY2hhbmdpbmcgZnJvbSB1bmRlZmluZWQgdG8gYSBkZWZpbmVkIHZhbHVlLCB3aGljaCBzaG91bGQgbm90IGhhcHBlbi4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSAhMCkpO1xuICAgICAgICAgICF0YWcgfHxcbiAgICAgICAgICAgIG5leHRQcm9wcyB8fFxuICAgICAgICAgICAgZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCB8fFxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYSBjb250cm9sbGVkIGlucHV0IHRvIGJlIHVuY29udHJvbGxlZC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IHRoZSB2YWx1ZSBjaGFuZ2luZyBmcm9tIGEgZGVmaW5lZCB0byB1bmRlZmluZWQsIHdoaWNoIHNob3VsZCBub3QgaGFwcGVuLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCA9ICEwKSk7XG4gICAgICAgICAgdXBkYXRlSW5wdXQoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgY2hlY2tlZCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIHByb3BLZXkgPSB2YWx1ZSA9IGRlZmF1bHRWYWx1ZSA9IF9wcm9wS2V5OCA9IG51bGw7XG4gICAgICAgICAgZm9yICh0eXBlIGluIGxhc3RQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChsYXN0RGVmYXVsdFZhbHVlID0gbGFzdFByb3BzW3R5cGVdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KHR5cGUpICYmIG51bGwgIT0gbGFzdERlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBsYXN0RGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkodHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAobmFtZSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgodHlwZSA9IG5leHRQcm9wc1tuYW1lXSksXG4gICAgICAgICAgICAgIChsYXN0RGVmYXVsdFZhbHVlID0gbGFzdFByb3BzW25hbWVdKSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgICAgICAgKG51bGwgIT0gdHlwZSB8fCBudWxsICE9IGxhc3REZWZhdWx0VmFsdWUpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHR5cGUgIT09IGxhc3REZWZhdWx0VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIG5leHRQcm9wcyA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICB0YWcgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0UHJvcHMgPSBwcm9wS2V5O1xuICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4XG4gICAgICAgICAgICA/IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISF0YWcsIF9wcm9wS2V5OCwgITEpXG4gICAgICAgICAgICA6ICEhbGFzdFByb3BzICE9PSAhIXRhZyAmJlxuICAgICAgICAgICAgICAobnVsbCAhPSBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICA/IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISF0YWcsIG5leHRQcm9wcywgITApXG4gICAgICAgICAgICAgICAgOiB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhdGFnLCB0YWcgPyBbXSA6IFwiXCIsICExKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBwcm9wS2V5ID0gX3Byb3BLZXk4ID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGRlZmF1bHRWYWx1ZSBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgobmFtZSA9IGxhc3RQcm9wc1tkZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IG5hbWUgJiZcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRWYWx1ZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgZGVmYXVsdFZhbHVlLCBudWxsLCBuZXh0UHJvcHMsIG5hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YWx1ZSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgobmFtZSA9IG5leHRQcm9wc1t2YWx1ZV0pLFxuICAgICAgICAgICAgICAodHlwZSA9IGxhc3RQcm9wc1t2YWx1ZV0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmIChudWxsICE9IG5hbWUgfHwgbnVsbCAhPSB0eXBlKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IG5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBuYW1lICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCB2YWx1ZSwgbmFtZSwgbmV4dFByb3BzLCB0eXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVRleHRhcmVhKGRvbUVsZW1lbnQsIF9wcm9wS2V5OCwgcHJvcEtleSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXkxMyBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTNdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTMpICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTMpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKF9wcm9wS2V5MTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2VsZWN0ZWQgPSAhMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5MTMsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsYXN0RGVmYXVsdFZhbHVlIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChfcHJvcEtleTggPSBuZXh0UHJvcHNbbGFzdERlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tsYXN0RGVmYXVsdFZhbHVlXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShsYXN0RGVmYXVsdFZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIF9wcm9wS2V5OCAhPT0gcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgIChudWxsICE9IF9wcm9wS2V5OCB8fCBudWxsICE9IHByb3BLZXkpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGxhc3REZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2VsZWN0ZWQgPVxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBfcHJvcEtleTg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTgsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICBjYXNlIFwiYXJlYVwiOlxuICAgICAgICBjYXNlIFwiYmFzZVwiOlxuICAgICAgICBjYXNlIFwiYnJcIjpcbiAgICAgICAgY2FzZSBcImNvbFwiOlxuICAgICAgICBjYXNlIFwiZW1iZWRcIjpcbiAgICAgICAgY2FzZSBcImhyXCI6XG4gICAgICAgIGNhc2UgXCJrZXlnZW5cIjpcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInBhcmFtXCI6XG4gICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgY2FzZSBcInRyYWNrXCI6XG4gICAgICAgIGNhc2UgXCJ3YnJcIjpcbiAgICAgICAgY2FzZSBcIm1lbnVpdGVtXCI6XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXkxNSBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICAoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTVdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTUpICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTUpICYmXG4gICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICBfcHJvcEtleTE1LFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChjaGVja2VkIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChfcHJvcEtleTggPSBuZXh0UHJvcHNbY2hlY2tlZF0pLFxuICAgICAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tjaGVja2VkXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShjaGVja2VkKSAmJlxuICAgICAgICAgICAgICAgIF9wcm9wS2V5OCAhPT0gcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgIChudWxsICE9IF9wcm9wS2V5OCB8fCBudWxsICE9IHByb3BLZXkpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IF9wcm9wS2V5OClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXkxNyBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICAgIChfcHJvcEtleTggPSBsYXN0UHJvcHNbX3Byb3BLZXkxN10pLFxuICAgICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE3KSAmJlxuICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxNykgJiZcbiAgICAgICAgICAgICAgICAgIHNldFByb3BPbkN1c3RvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXkxNyxcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvciAoZGVmYXVsdENoZWNrZWQgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgICAoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2RlZmF1bHRDaGVja2VkXSksXG4gICAgICAgICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbZGVmYXVsdENoZWNrZWRdKSxcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRDaGVja2VkKSB8fFxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ID09PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAgICAgICAodm9pZCAwID09PSBfcHJvcEtleTggJiYgdm9pZCAwID09PSBwcm9wS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgX3Byb3BLZXkxOSBpbiBsYXN0UHJvcHMpXG4gICAgICAgIChfcHJvcEtleTggPSBsYXN0UHJvcHNbX3Byb3BLZXkxOV0pLFxuICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE5KSAmJlxuICAgICAgICAgICAgbnVsbCAhPSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxOSkgJiZcbiAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBfcHJvcEtleTE5LCBudWxsLCBuZXh0UHJvcHMsIF9wcm9wS2V5OCk7XG4gICAgICBmb3IgKGxhc3RQcm9wIGluIG5leHRQcm9wcylcbiAgICAgICAgKF9wcm9wS2V5OCA9IG5leHRQcm9wc1tsYXN0UHJvcF0pLFxuICAgICAgICAgIChwcm9wS2V5ID0gbGFzdFByb3BzW2xhc3RQcm9wXSksXG4gICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShsYXN0UHJvcCkgfHxcbiAgICAgICAgICAgIF9wcm9wS2V5OCA9PT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgKG51bGwgPT0gX3Byb3BLZXk4ICYmIG51bGwgPT0gcHJvcEtleSkgfHxcbiAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBsYXN0UHJvcCwgX3Byb3BLZXk4LCBuZXh0UHJvcHMsIHByb3BLZXkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcm9wTmFtZUZyb21BdHRyaWJ1dGVOYW1lKGF0dHJOYW1lKSB7XG4gICAgICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIHJldHVybiBcImNsYXNzTmFtZVwiO1xuICAgICAgICBjYXNlIFwiZm9yXCI6XG4gICAgICAgICAgcmV0dXJuIFwiaHRtbEZvclwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhdHRyTmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoZG9tRWxlbWVudCkge1xuICAgICAgdmFyIHNlcnZlclZhbHVlSW5PYmplY3RGb3JtID0ge307XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5zdHlsZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9tRWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3R5bGVOYW1lID0gZG9tRWxlbWVudFtpXTtcbiAgICAgICAgc2VydmVyVmFsdWVJbk9iamVjdEZvcm1bc3R5bGVOYW1lXSA9XG4gICAgICAgICAgZG9tRWxlbWVudC5nZXRQcm9wZXJ0eVZhbHVlKHN0eWxlTmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VydmVyVmFsdWVJbk9iamVjdEZvcm07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZIeWRyYXRlZFN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSRqc2NvbXAkMCwgc2VydmVyRGlmZmVyZW5jZXMpIHtcbiAgICAgIGlmIChudWxsICE9IHZhbHVlJGpzY29tcCQwICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSRqc2NvbXAkMClcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArICdlbSd9fSB3aGVuIHVzaW5nIEpTWC5cIlxuICAgICAgICApO1xuICAgICAgZWxzZSBpZiAoY2FuRGlmZlN0eWxlRm9ySHlkcmF0aW9uV2FybmluZykge1xuICAgICAgICB2YXIgY2xpZW50VmFsdWU7XG4gICAgICAgIHZhciBkZWxpbWl0ZXIgPSAoY2xpZW50VmFsdWUgPSBcIlwiKSxcbiAgICAgICAgICBzdHlsZU5hbWU7XG4gICAgICAgIGZvciAoc3R5bGVOYW1lIGluIHZhbHVlJGpzY29tcCQwKVxuICAgICAgICAgIGlmICh2YWx1ZSRqc2NvbXAkMC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZSRqc2NvbXAkMFtzdHlsZU5hbWVdO1xuICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiXCIgIT09IHZhbHVlICYmXG4gICAgICAgICAgICAgICgwID09PSBzdHlsZU5hbWUuaW5kZXhPZihcIi0tXCIpXG4gICAgICAgICAgICAgICAgPyAoY2hlY2tDU1NQcm9wZXJ0eVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBzdHlsZU5hbWUpLFxuICAgICAgICAgICAgICAgICAgKGNsaWVudFZhbHVlICs9XG4gICAgICAgICAgICAgICAgICAgIGRlbGltaXRlciArIHN0eWxlTmFtZSArIFwiOlwiICsgKFwiXCIgKyB2YWx1ZSkudHJpbSgpKSlcbiAgICAgICAgICAgICAgICA6IFwibnVtYmVyXCIgIT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgICAgICAgICAwID09PSB2YWx1ZSB8fFxuICAgICAgICAgICAgICAgICAgICB1bml0bGVzc051bWJlcnMuaGFzKHN0eWxlTmFtZSlcbiAgICAgICAgICAgICAgICAgID8gKGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgc3R5bGVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgKGNsaWVudFZhbHVlICs9XG4gICAgICAgICAgICAgICAgICAgICAgZGVsaW1pdGVyICtcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHVwcGVyY2FzZVBhdHRlcm4sIFwiLSQxXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UobXNQYXR0ZXJuJDEsIFwiLW1zLVwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgIChcIlwiICsgdmFsdWUpLnRyaW0oKSkpXG4gICAgICAgICAgICAgICAgICA6IChjbGllbnRWYWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgIGRlbGltaXRlciArXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSh1cHBlcmNhc2VQYXR0ZXJuLCBcIi0kMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKG1zUGF0dGVybiQxLCBcIi1tcy1cIikgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgXCJweFwiKSxcbiAgICAgICAgICAgICAgKGRlbGltaXRlciA9IFwiO1wiKSk7XG4gICAgICAgICAgfVxuICAgICAgICBjbGllbnRWYWx1ZSA9IGNsaWVudFZhbHVlIHx8IG51bGw7XG4gICAgICAgIHZhbHVlJGpzY29tcCQwID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgdmFsdWUkanNjb21wJDAgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICAgKChjbGllbnRWYWx1ZSA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShjbGllbnRWYWx1ZSkpLFxuICAgICAgICAgIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSh2YWx1ZSRqc2NvbXAkMCkgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXMuc3R5bGUgPSBnZXRTdHlsZXNPYmplY3RGcm9tRWxlbWVudChkb21FbGVtZW50KSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gXCJcIiArIHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlQm9vbGVhbkF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudCkge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgICB9IGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHZhbHVlKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlQm9vbGVhbmlzaEF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBhdHRyaWJ1dGVOYW1lKSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gXCJcIiArIHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlTnVtZXJpY0F0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFpc05hTih2YWx1ZSkgJiZcbiAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BLZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50ID09PSBcIlwiICsgdmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BLZXkpLFxuICAgICAgICAgICAgICAoYXR0cmlidXRlTmFtZSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50ID09PSBhdHRyaWJ1dGVOYW1lKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHRhZywgcHJvcHMsIGhvc3RDb250ZXh0KSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgc2VydmVyRGlmZmVyZW5jZXMgPSB7fSxcbiAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMgPSBuZXcgU2V0KCksXG4gICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuYXR0cmlidXRlcyxcbiAgICAgICAgICBpID0gMDtcbiAgICAgICAgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgICAgICBpKytcbiAgICAgIClcbiAgICAgICAgc3dpdGNoIChhdHRyaWJ1dGVzW2ldLm5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5hZGQoYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgaWYgKGlzQ3VzdG9tRWxlbWVudCh0YWcpKVxuICAgICAgICBmb3IgKHZhciBwcm9wS2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wS2V5XTtcbiAgICAgICAgICAgIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSlcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgZWxzZSBpZiAoITAgIT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZylcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwibnVtYmVyXCIgIT09IHR5cGVvZiB2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlLl9faHRtbCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICgodmFsdWUgPSBub3JtYWxpemVIVE1MKGRvbUVsZW1lbnQsIHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUocHJvcEtleSk7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZIeWRyYXRlZFN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRQYXJlbnRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRUb3BcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRMZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0V2lkdGhcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRIZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJpc0NvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm91dGVyVGV4dFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm91dGVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJBc3NpZ25tZW50IHRvIHJlYWQtb25seSBwcm9wZXJ0eSB3aWxsIHJlc3VsdCBpbiBhIG5vLW9wOiBgJXNgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc05hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImNsYXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2V0VmFsdWVGb3JBdHRyaWJ1dGVPbkN1c3RvbUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc05hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaG9zdENvbnRleHQuY29udGV4dCA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ZnXCIgIT09IHRhZyAmJlxuICAgICAgICAgICAgICAgICAgICBcIm1hdGhcIiAhPT0gdGFnXG4gICAgICAgICAgICAgICAgICAgICAgPyBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGV4dHJhQXR0cmlidXRlcy5kZWxldGUocHJvcEtleSksXG4gICAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZXMgPSBnZXRWYWx1ZUZvckF0dHJpYnV0ZU9uQ3VzdG9tQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICBmb3IgKHZhbHVlIGluIHByb3BzKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJlxuICAgICAgICAgICAgKChwcm9wS2V5ID0gcHJvcHNbdmFsdWVdKSwgbnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHZhbHVlKSlcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcih2YWx1ZSwgcHJvcEtleSk7XG4gICAgICAgICAgICBlbHNlIGlmICghMCAhPT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAhPT0gdHlwZW9mIHByb3BLZXkpIHx8XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBwcm9wS2V5ID8gcHJvcEtleS5fX2h0bWwgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICBudWxsICE9IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgKChwcm9wS2V5ID0gbm9ybWFsaXplSFRNTChkb21FbGVtZW50LCBwcm9wS2V5KSksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgIT09IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXNbdmFsdWVdID0geyBfX2h0bWw6IGF0dHJpYnV0ZXMgfSkpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNsYXNzTmFtZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0YWJJbmRleFwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwidGFiaW5kZXhcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBkaWZmSHlkcmF0ZWRTdHlsZXMoZG9tRWxlbWVudCwgcHJvcEtleSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQubXVsdGlwbGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQubXV0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9Gb2N1c1wiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImF1dG9mb2N1c1wiKTtcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYXV0b2ZvY3VzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpO1xuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaHJlZlwiOlxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IHByb3BLZXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoXCJhXCIgPT09IHRhZyAmJiBcImhyZWZcIiA9PT0gdmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHRhZyAmJiBcImRhdGFcIiA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBcInNyY1wiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FuIGVtcHR5IHN0cmluZyAoXCJcIikgd2FzIHBhc3NlZCB0byB0aGUgJXMgYXR0cmlidXRlLiBUaGlzIG1heSBjYXVzZSB0aGUgYnJvd3NlciB0byBkb3dubG9hZCB0aGUgd2hvbGUgcGFnZSBhZ2FpbiBvdmVyIHRoZSBuZXR3b3JrLiBUbyBmaXggdGhpcywgZWl0aGVyIGRvIG5vdCByZW5kZXIgdGhlIGVsZW1lbnQgYXQgYWxsIG9yIHBhc3MgbnVsbCB0byAlcyBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1BY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICBcImZvcm1BY3Rpb25cIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICA/IChleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwibmFtZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJmb3JtZW5jdHlwZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJmb3JtbWV0aG9kXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImZvcm10YXJnZXRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImVuY3R5cGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwibWV0aG9kXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcInRhcmdldFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzID09PSBFWFBFQ1RFRF9GT1JNX0FDVElPTl9VUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtIcmVmXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpocmVmXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbmlzaEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwiY29udGVudGVkaXRhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3BlbGxDaGVja1wiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInNwZWxsY2hlY2tcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkcmFnZ2FibGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b1JldmVyc2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmb2N1c2FibGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicHJlc2VydmVBbHBoYVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b1BsYXlcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZlclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWFtbGVzc1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYXB0dXJlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRvd25sb2FkXCI6XG4gICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBkb21FbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IChhdHRyaWJ1dGVzID0gdmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwID0gc2VydmVyRGlmZmVyZW5jZXM7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IHByb3BLZXkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChudWxsICE9IHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSBwcm9wS2V5ICYmIFwiXCIgPT09IGkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHByb3BLZXksIGF0dHJpYnV0ZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IFwiXCIgKyBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbHNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicm93c1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGRvbUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwID0gc2VydmVyRGlmZmVyZW5jZXM7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHByb3BLZXkpIHx8IDEgPiBwcm9wS2V5KSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIShpc05hTihwcm9wS2V5KSB8fCAxID4gcHJvcEtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihwcm9wS2V5LCBhdHRyaWJ1dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBcIlwiICsgcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyb3dTcGFuXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlTnVtZXJpY0F0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwicm93c3BhblwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlTnVtZXJpY0F0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhIZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcIngtaGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtBY3R1YXRlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazphY3R1YXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtBcmNyb2xlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazphcmNyb2xlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtSb2xlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpyb2xlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtTaG93XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtUaXRsZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6dGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua1R5cGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOnR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxCYXNlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWw6YmFzZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhtbExhbmdcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhtbDpsYW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sU3BhY2VcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhtbDpzcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImluZXJ0XCI6XG4gICAgICAgICAgICAgICAgICBcIlwiICE9PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZVt2YWx1ZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVbdmFsdWVdID0gITApLFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gZW1wdHkgc3RyaW5nIGZvciBhIGJvb2xlYW4gYXR0cmlidXRlIGAlc2AuIFRoaXMgd2lsbCB0cmVhdCB0aGUgYXR0cmlidXRlIGFzIGlmIGl0IHdlcmUgZmFsc2UuIEVpdGhlciBwYXNzIGBmYWxzZWAgdG8gc2lsZW5jZSB0aGlzIHdhcm5pbmcsIG9yIHBhc3MgYHRydWVgIGlmIHlvdSB1c2VkIGFuIGVtcHR5IHN0cmluZyBpbiBlYXJsaWVyIHZlcnNpb25zIG9mIFJlYWN0IHRvIGluZGljYXRlIHRoaXMgYXR0cmlidXRlIGlzIHRydWUuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbkF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgISgyIDwgdmFsdWUubGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAgICAgICAoXCJvXCIgIT09IHZhbHVlWzBdICYmIFwiT1wiICE9PSB2YWx1ZVswXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKFwiblwiICE9PSB2YWx1ZVsxXSAmJiBcIk5cIiAhPT0gdmFsdWVbMV0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGdldEF0dHJpYnV0ZUFsaWFzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9ICExO1xuICAgICAgICAgICAgICAgICAgICBob3N0Q29udGV4dC5jb250ZXh0ID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdmdcIiAhPT0gdGFnICYmXG4gICAgICAgICAgICAgICAgICAgIFwibWF0aFwiICE9PSB0YWdcbiAgICAgICAgICAgICAgICAgICAgICA/IGV4dHJhQXR0cmlidXRlcy5kZWxldGUoaS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChhdHRyaWJ1dGVOYW1lID0gdmFsdWUudG9Mb3dlckNhc2UoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAoYXR0cmlidXRlTmFtZSA9IHBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBvc3NpYmxlU3RhbmRhcmROYW1lc1thdHRyaWJ1dGVOYW1lXSB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBhdHRyaWJ1dGVOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgIT09IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoYXR0cmlidXRlcyA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgYTogaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICgoYXR0cmlidXRlTmFtZSA9IGRvbUVsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICAgIChzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCA9IGkpLFxuICAgICAgICAgICAgICAgICAgICAgIChpID0gcHJvcEtleSksXG4gICAgICAgICAgICAgICAgICAgICAgaXNBdHRyaWJ1dGVOYW1lU2FmZShzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCkpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLmhhc0F0dHJpYnV0ZShzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAoYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoaSA9IGF0dHJpYnV0ZU5hbWUgPT09IFwiXCIgKyBpID8gaSA6IGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChhdHRyaWJ1dGVOYW1lID0gc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIDUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1cIiAhPT0gYXR0cmlidXRlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtXCIgIT09IGF0dHJpYnV0ZU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB2b2lkIDAgPT09IGkgPyB2b2lkIDAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgMCA8IGV4dHJhQXR0cmlidXRlcy5zaXplICYmXG4gICAgICAgICEwICE9PSBwcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgd2FybkZvckV4dHJhQXR0cmlidXRlcyhkb21FbGVtZW50LCBleHRyYUF0dHJpYnV0ZXMsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICAgIHJldHVybiAwID09PSBPYmplY3Qua2V5cyhzZXJ2ZXJEaWZmZXJlbmNlcykubGVuZ3RoXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHNlcnZlckRpZmZlcmVuY2VzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wTmFtZXNMaXN0Sm9pbihsaXN0LCBjb21iaW5hdG9yKSB7XG4gICAgICBzd2l0Y2ggKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBsaXN0WzBdO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIGxpc3RbMF0gKyBcIiBcIiArIGNvbWJpbmF0b3IgKyBcIiBcIiArIGxpc3RbMV07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGxpc3Quc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKSArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgY29tYmluYXRvciArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBsaXN0W2xpc3QubGVuZ3RoIC0gMV1cbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgIHJldHVybiA5ID09PSByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZVxuICAgICAgICA/IHJvb3RDb250YWluZXJFbGVtZW50XG4gICAgICAgIDogcm9vdENvbnRhaW5lckVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duSG9zdENvbnRleHQobmFtZXNwYWNlVVJJKSB7XG4gICAgICBzd2l0Y2ggKG5hbWVzcGFjZVVSSSkge1xuICAgICAgICBjYXNlIFNWR19OQU1FU1BBQ0U6XG4gICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnO1xuICAgICAgICBjYXNlIE1BVEhfTkFNRVNQQUNFOlxuICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2hpbGRIb3N0Q29udGV4dFByb2QocGFyZW50TmFtZXNwYWNlLCB0eXBlKSB7XG4gICAgICBpZiAocGFyZW50TmFtZXNwYWNlID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmUpXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZztcbiAgICAgICAgICBjYXNlIFwibWF0aFwiOlxuICAgICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aDtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmVudE5hbWVzcGFjZSA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VTdmcgJiZcbiAgICAgICAgXCJmb3JlaWduT2JqZWN0XCIgPT09IHR5cGVcbiAgICAgICAgPyBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmVcbiAgICAgICAgOiBwYXJlbnROYW1lc3BhY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFNldFRleHRDb250ZW50KHR5cGUsIHByb3BzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcInRleHRhcmVhXCIgPT09IHR5cGUgfHxcbiAgICAgICAgXCJub3NjcmlwdFwiID09PSB0eXBlIHx8XG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiB8fFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gfHxcbiAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiZcbiAgICAgICAgICBudWxsICE9PSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAmJlxuICAgICAgICAgIG51bGwgIT0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkQXR0ZW1wdEVhZ2VyVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBldmVudCA9IHdpbmRvdy5ldmVudDtcbiAgICAgIGlmIChldmVudCAmJiBcInBvcHN0YXRlXCIgPT09IGV2ZW50LnR5cGUpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSBjdXJyZW50UG9wc3RhdGVUcmFuc2l0aW9uRXZlbnQpIHJldHVybiAhMTtcbiAgICAgICAgY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCA9IG51bGw7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9ySW5OZXh0VGljayhlcnJvcikge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdE1vdW50KGRvbUVsZW1lbnQsIHR5cGUsIG5ld1Byb3BzKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBuZXdQcm9wcy5hdXRvRm9jdXMgJiYgZG9tRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgbmV3UHJvcHMuc3JjXG4gICAgICAgICAgICA/IChkb21FbGVtZW50LnNyYyA9IG5ld1Byb3BzLnNyYylcbiAgICAgICAgICAgIDogbmV3UHJvcHMuc3JjU2V0ICYmIChkb21FbGVtZW50LnNyY3NldCA9IG5ld1Byb3BzLnNyY1NldCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFVwZGF0ZShkb21FbGVtZW50LCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgICAgIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKTtcbiAgICAgIGRvbUVsZW1lbnRbaW50ZXJuYWxQcm9wc0tleV0gPSBuZXdQcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRUZXh0Q29udGVudChkb21FbGVtZW50KSB7XG4gICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0VGV4dFVwZGF0ZSh0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgIHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPSBuZXdUZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGNvbnRhaW5lciwgY2hpbGQpIHtcbiAgICAgIDggPT09IGNvbnRhaW5lci5ub2RlVHlwZVxuICAgICAgICA/IGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkKVxuICAgICAgICA6IGNvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyU3VzcGVuc2VCb3VuZGFyeShwYXJlbnRJbnN0YW5jZSwgc3VzcGVuc2VJbnN0YW5jZSkge1xuICAgICAgdmFyIG5vZGUgPSBzdXNwZW5zZUluc3RhbmNlLFxuICAgICAgICBkZXB0aCA9IDA7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICBpZiAobmV4dE5vZGUgJiYgOCA9PT0gbmV4dE5vZGUubm9kZVR5cGUpXG4gICAgICAgICAgaWYgKCgobm9kZSA9IG5leHROb2RlLmRhdGEpLCBub2RlID09PSBTVVNQRU5TRV9FTkRfREFUQSkpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBkZXB0aCkge1xuICAgICAgICAgICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChuZXh0Tm9kZSk7XG4gICAgICAgICAgICAgIHJldHJ5SWZCbG9ja2VkT24oc3VzcGVuc2VJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAobm9kZSAhPT0gU1VTUEVOU0VfU1RBUlRfREFUQSAmJlxuICAgICAgICAgICAgICBub2RlICE9PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgbm9kZSAhPT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSkgfHxcbiAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgbm9kZSA9IG5leHROb2RlO1xuICAgICAgfSB3aGlsZSAobm9kZSk7XG4gICAgICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoaWRlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICAgIGluc3RhbmNlID0gaW5zdGFuY2Uuc3R5bGU7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5zZXRQcm9wZXJ0eVxuICAgICAgICA/IGluc3RhbmNlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIilcbiAgICAgICAgOiAoaW5zdGFuY2UuZGlzcGxheSA9IFwibm9uZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGlkZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UpIHtcbiAgICAgIHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bmhpZGVJbnN0YW5jZShpbnN0YW5jZSwgcHJvcHMpIHtcbiAgICAgIHByb3BzID0gcHJvcHNbU1RZTEVdO1xuICAgICAgcHJvcHMgPVxuICAgICAgICB2b2lkIDAgIT09IHByb3BzICYmIG51bGwgIT09IHByb3BzICYmIHByb3BzLmhhc093blByb3BlcnR5KFwiZGlzcGxheVwiKVxuICAgICAgICAgID8gcHJvcHMuZGlzcGxheVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIGluc3RhbmNlLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICBudWxsID09IHByb3BzIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgcHJvcHMgPyBcIlwiIDogKFwiXCIgKyBwcm9wcykudHJpbSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bmhpZGVUZXh0SW5zdGFuY2UodGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gdGV4dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJDb250YWluZXJTcGFyaW5nbHkoY29udGFpbmVyKSB7XG4gICAgICB2YXIgbmV4dE5vZGUgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIG5leHROb2RlICYmIDEwID09PSBuZXh0Tm9kZS5ub2RlVHlwZSAmJiAobmV4dE5vZGUgPSBuZXh0Tm9kZS5uZXh0U2libGluZyk7XG4gICAgICBmb3IgKDsgbmV4dE5vZGU7ICkge1xuICAgICAgICB2YXIgbm9kZSA9IG5leHROb2RlO1xuICAgICAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwiSFRNTFwiOlxuICAgICAgICAgIGNhc2UgXCJIRUFEXCI6XG4gICAgICAgICAgY2FzZSBcIkJPRFlcIjpcbiAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyU3BhcmluZ2x5KG5vZGUpO1xuICAgICAgICAgICAgZGV0YWNoRGVsZXRlZEluc3RhbmNlKG5vZGUpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBcIlNDUklQVFwiOlxuICAgICAgICAgIGNhc2UgXCJTVFlMRVwiOlxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBcIkxJTktcIjpcbiAgICAgICAgICAgIGlmIChcInN0eWxlc2hlZXRcIiA9PT0gbm9kZS5yZWwudG9Mb3dlckNhc2UoKSkgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5IeWRyYXRlSW5zdGFuY2UoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCBpblJvb3RPclNpbmdsZXRvbikge1xuICAgICAgZm9yICg7IDEgPT09IGluc3RhbmNlLm5vZGVUeXBlOyApIHtcbiAgICAgICAgdmFyIGFueVByb3BzID0gcHJvcHM7XG4gICAgICAgIGlmIChpbnN0YW5jZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSB0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaW5Sb290T3JTaW5nbGV0b24gJiZcbiAgICAgICAgICAgIChcIklOUFVUXCIgIT09IGluc3RhbmNlLm5vZGVOYW1lIHx8IFwiaGlkZGVuXCIgIT09IGluc3RhbmNlLnR5cGUpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoIWluUm9vdE9yU2luZ2xldG9uKVxuICAgICAgICAgIGlmIChcImlucHV0XCIgPT09IHR5cGUgJiYgXCJoaWRkZW5cIiA9PT0gaW5zdGFuY2UudHlwZSkge1xuICAgICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihhbnlQcm9wcy5uYW1lLCBcIm5hbWVcIik7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG51bGwgPT0gYW55UHJvcHMubmFtZSA/IG51bGwgOiBcIlwiICsgYW55UHJvcHMubmFtZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJoaWRkZW5cIiA9PT0gYW55UHJvcHMudHlwZSAmJlxuICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09PSBuYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICBlbHNlIGlmICghaW5zdGFuY2VbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdKVxuICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJpdGVtcHJvcFwiKSkgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgICAgIG5hbWUgPSBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJyZWxcIik7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gbmFtZSAmJlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmhhc0F0dHJpYnV0ZShcImRhdGEtcHJlY2VkZW5jZVwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIG5hbWUgIT09IGFueVByb3BzLnJlbCB8fFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcImhyZWZcIikgIT09XG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy5ocmVmID8gbnVsbCA6IGFueVByb3BzLmhyZWYpIHx8XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikgIT09XG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy5jcm9zc09yaWdpblxuICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgOiBhbnlQcm9wcy5jcm9zc09yaWdpbikgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKSAhPT1cbiAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLnRpdGxlID8gbnVsbCA6IGFueVByb3BzLnRpdGxlKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiZGF0YS1wcmVjZWRlbmNlXCIpKSBicmVhaztcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICBuYW1lID0gaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKG5hbWUgIT09IChudWxsID09IGFueVByb3BzLnNyYyA/IG51bGwgOiBhbnlQcm9wcy5zcmMpIHx8XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpICE9PVxuICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy50eXBlID8gbnVsbCA6IGFueVByb3BzLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA6IGFueVByb3BzLmNyb3NzT3JpZ2luKSkgJiZcbiAgICAgICAgICAgICAgICBuYW1lICYmXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiYXN5bmNcIikgJiZcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiaXRlbXByb3BcIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKGluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGluc3RhbmNlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKGluc3RhbmNlLCB0ZXh0LCBpblJvb3RPclNpbmdsZXRvbikge1xuICAgICAgaWYgKFwiXCIgPT09IHRleHQpIHJldHVybiBudWxsO1xuICAgICAgZm9yICg7IDMgIT09IGluc3RhbmNlLm5vZGVUeXBlOyApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgxICE9PSBpbnN0YW5jZS5ub2RlVHlwZSB8fFxuICAgICAgICAgICAgXCJJTlBVVFwiICE9PSBpbnN0YW5jZS5ub2RlTmFtZSB8fFxuICAgICAgICAgICAgXCJoaWRkZW5cIiAhPT0gaW5zdGFuY2UudHlwZSkgJiZcbiAgICAgICAgICAhaW5Sb290T3JTaW5nbGV0b25cbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKGluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGluc3RhbmNlKSByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGUobm9kZSkge1xuICAgICAgZm9yICg7IG51bGwgIT0gbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgaWYgKDEgPT09IG5vZGVUeXBlIHx8IDMgPT09IG5vZGVUeXBlKSBicmVhaztcbiAgICAgICAgaWYgKDggPT09IG5vZGVUeXBlKSB7XG4gICAgICAgICAgbm9kZVR5cGUgPSBub2RlLmRhdGE7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IFNVU1BFTlNFX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gRk9STV9TVEFURV9JU19NQVRDSElORyB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IEZPUk1fU1RBVEVfSVNfTk9UX01BVENISU5HXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgaWYgKG5vZGVUeXBlID09PSBTVVNQRU5TRV9FTkRfREFUQSkgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUh5ZHJhdGFibGVJbnN0YW5jZUZvckRldldhcm5pbmdzKGluc3RhbmNlKSB7XG4gICAgICBpZiAoMSA9PT0gaW5zdGFuY2Uubm9kZVR5cGUpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gaW5zdGFuY2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzID0ge30sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gaW5zdGFuY2UuYXR0cmlidXRlcyxcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgIGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgICBpKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzW2dldFByb3BOYW1lRnJvbUF0dHJpYnV0ZU5hbWUoYXR0ci5uYW1lKV0gPVxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICA/IGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGluc3RhbmNlKVxuICAgICAgICAgICAgICA6IGF0dHIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdHlwZTogSlNDb21waWxlcl90ZW1wX2NvbnN0LCBwcm9wczogc2VydmVyRGlmZmVyZW5jZXMgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiA4ID09PSBpbnN0YW5jZS5ub2RlVHlwZVxuICAgICAgICA/IHsgdHlwZTogXCJTdXNwZW5zZVwiLCBwcm9wczoge30gfVxuICAgICAgICA6IGluc3RhbmNlLm5vZGVWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZkh5ZHJhdGVkVGV4dEZvckRldldhcm5pbmdzKHRleHRJbnN0YW5jZSwgdGV4dCwgcGFyZW50UHJvcHMpIHtcbiAgICAgIHJldHVybiBudWxsID09PSBwYXJlbnRQcm9wcyB8fFxuICAgICAgICAhMCAhPT0gcGFyZW50UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkddXG4gICAgICAgID8gKHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPT09IHRleHRcbiAgICAgICAgICAgID8gKHRleHRJbnN0YW5jZSA9IG51bGwpXG4gICAgICAgICAgICA6ICgodGV4dCA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSh0ZXh0KSksXG4gICAgICAgICAgICAgICh0ZXh0SW5zdGFuY2UgPVxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSh0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlKSA9PT1cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgIDogdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSkpLFxuICAgICAgICAgIHRleHRJbnN0YW5jZSlcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0SHlkcmF0YWJsZUluc3RhbmNlQWZ0ZXJTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICAgIHN1c3BlbnNlSW5zdGFuY2UgPSBzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nO1xuICAgICAgZm9yICh2YXIgZGVwdGggPSAwOyBzdXNwZW5zZUluc3RhbmNlOyApIHtcbiAgICAgICAgaWYgKDggPT09IHN1c3BlbnNlSW5zdGFuY2Uubm9kZVR5cGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHN1c3BlbnNlSW5zdGFuY2UuZGF0YTtcbiAgICAgICAgICBpZiAoZGF0YSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBkZXB0aClcbiAgICAgICAgICAgICAgcmV0dXJuIGdldE5leHRIeWRyYXRhYmxlKHN1c3BlbnNlSW5zdGFuY2UubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChkYXRhICE9PSBTVVNQRU5TRV9TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIGRhdGEgIT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgZGF0YSAhPT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBKSB8fFxuICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICAgIHN1c3BlbnNlSW5zdGFuY2UgPSBzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UodGFyZ2V0SW5zdGFuY2UpIHtcbiAgICAgIHRhcmdldEluc3RhbmNlID0gdGFyZ2V0SW5zdGFuY2UucHJldmlvdXNTaWJsaW5nO1xuICAgICAgZm9yICh2YXIgZGVwdGggPSAwOyB0YXJnZXRJbnN0YW5jZTsgKSB7XG4gICAgICAgIGlmICg4ID09PSB0YXJnZXRJbnN0YW5jZS5ub2RlVHlwZSkge1xuICAgICAgICAgIHZhciBkYXRhID0gdGFyZ2V0SW5zdGFuY2UuZGF0YTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhID09PSBTVVNQRU5TRV9TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBkYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBkYXRhID09PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICgwID09PSBkZXB0aCkgcmV0dXJuIHRhcmdldEluc3RhbmNlO1xuICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICB9IGVsc2UgZGF0YSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEgJiYgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRJbnN0YW5jZSA9IHRhcmdldEluc3RhbmNlLnByZXZpb3VzU2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIeWRyYXRlZENvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICAgIHJldHJ5SWZCbG9ja2VkT24oY29udGFpbmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICAgIHJldHJ5SWZCbG9ja2VkT24oc3VzcGVuc2VJbnN0YW5jZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgIGhvc3RDb250ZXh0LFxuICAgICAgdmFsaWRhdGVET01OZXN0aW5nRGV2XG4gICAgKSB7XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmdEZXYgJiZcbiAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHR5cGUsIGhvc3RDb250ZXh0LmFuY2VzdG9ySW5mbyk7XG4gICAgICBwcm9wcyA9IGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgdHlwZSA9IHByb3BzLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICBpZiAoIXR5cGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBleHBlY3RlZCBhbiA8aHRtbD4gZWxlbWVudCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB0byBleGlzdCBpbiB0aGUgRG9jdW1lbnQgYnV0IG9uZSB3YXMgbm90IGZvdW5kLiBSZWFjdCBuZXZlciByZW1vdmVzIHRoZSBkb2N1bWVudEVsZW1lbnQgZm9yIGFueSBEb2N1bWVudCBpdCByZW5kZXJzIGludG8gc28gdGhlIGNhdXNlIGlzIGxpa2VseSBpbiBzb21lIG90aGVyIHNjcmlwdCBydW5uaW5nIG9uIHRoaXMgcGFnZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgY2FzZSBcImhlYWRcIjpcbiAgICAgICAgICB0eXBlID0gcHJvcHMuaGVhZDtcbiAgICAgICAgICBpZiAoIXR5cGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBleHBlY3RlZCBhIDxoZWFkPiBlbGVtZW50IChkb2N1bWVudC5oZWFkKSB0byBleGlzdCBpbiB0aGUgRG9jdW1lbnQgYnV0IG9uZSB3YXMgbm90IGZvdW5kLiBSZWFjdCBuZXZlciByZW1vdmVzIHRoZSBoZWFkIGZvciBhbnkgRG9jdW1lbnQgaXQgcmVuZGVycyBpbnRvIHNvIHRoZSBjYXVzZSBpcyBsaWtlbHkgaW4gc29tZSBvdGhlciBzY3JpcHQgcnVubmluZyBvbiB0aGlzIHBhZ2UuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGNhc2UgXCJib2R5XCI6XG4gICAgICAgICAgdHlwZSA9IHByb3BzLmJvZHk7XG4gICAgICAgICAgaWYgKCF0eXBlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgZXhwZWN0ZWQgYSA8Ym9keT4gZWxlbWVudCAoZG9jdW1lbnQuYm9keSkgdG8gZXhpc3QgaW4gdGhlIERvY3VtZW50IGJ1dCBvbmUgd2FzIG5vdCBmb3VuZC4gUmVhY3QgbmV2ZXIgcmVtb3ZlcyB0aGUgYm9keSBmb3IgYW55IERvY3VtZW50IGl0IHJlbmRlcnMgaW50byBzbyB0aGUgY2F1c2UgaXMgbGlrZWx5IGluIHNvbWUgb3RoZXIgc2NyaXB0IHJ1bm5pbmcgb24gdGhpcyBwYWdlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJyZXNvbHZlU2luZ2xldG9uSW5zdGFuY2Ugd2FzIGNhbGxlZCB3aXRoIGFuIGVsZW1lbnQgdHlwZSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhY3F1aXJlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIGludGVybmFsSW5zdGFuY2VIYW5kbGVcbiAgICApIHtcbiAgICAgIGlmIChnZXRJbnN0YW5jZUZyb21Ob2RlKGluc3RhbmNlKSkge1xuICAgICAgICB2YXIgdGFnTmFtZSA9IGluc3RhbmNlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBhcmUgbW91bnRpbmcgYSBuZXcgJXMgY29tcG9uZW50IHdoZW4gYSBwcmV2aW91cyBvbmUgaGFzIG5vdCBmaXJzdCB1bm1vdW50ZWQuIEl0IGlzIGFuIGVycm9yIHRvIHJlbmRlciBtb3JlIHRoYW4gb25lICVzIGNvbXBvbmVudCBhdCBhIHRpbWUgYW5kIGF0dHJpYnV0ZXMgYW5kIGNoaWxkcmVuIG9mIHRoZXNlIGNvbXBvbmVudHMgd2lsbCBsaWtlbHkgZmFpbCBpbiB1bnByZWRpY3RhYmxlIHdheXMuIFBsZWFzZSBvbmx5IHJlbmRlciBhIHNpbmdsZSBpbnN0YW5jZSBvZiA8JXM+IGFuZCBpZiB5b3UgbmVlZCB0byBtb3VudCBhIG5ldyBvbmUsIGVuc3VyZSBhbnkgcHJldmlvdXMgb25lcyBoYXZlIHVubW91bnRlZCBmaXJzdC5cIixcbiAgICAgICAgICB0YWdOYW1lLFxuICAgICAgICAgIHRhZ05hbWUsXG4gICAgICAgICAgdGFnTmFtZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJib2R5XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiYWNxdWlyZVNpbmdsZXRvbkluc3RhbmNlIHdhcyBjYWxsZWQgd2l0aCBhbiBlbGVtZW50IHR5cGUgdGhhdCBpcyBub3Qgc3VwcG9ydGVkLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZvciAodGFnTmFtZSA9IGluc3RhbmNlLmF0dHJpYnV0ZXM7IHRhZ05hbWUubGVuZ3RoOyApXG4gICAgICAgIGluc3RhbmNlLnJlbW92ZUF0dHJpYnV0ZU5vZGUodGFnTmFtZVswXSk7XG4gICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhpbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICAgICAgaW5zdGFuY2VbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBpbnRlcm5hbEluc3RhbmNlSGFuZGxlO1xuICAgICAgaW5zdGFuY2VbaW50ZXJuYWxQcm9wc0tleV0gPSBwcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SG9pc3RhYmxlUm9vdChjb250YWluZXIpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb250YWluZXIuZ2V0Um9vdE5vZGVcbiAgICAgICAgPyBjb250YWluZXIuZ2V0Um9vdE5vZGUoKVxuICAgICAgICA6IGNvbnRhaW5lci5vd25lckRvY3VtZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVjb25uZWN0QXMocmVsLCBocmVmLCBjcm9zc09yaWdpbikge1xuICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHtcbiAgICAgICAgdmFyIGxpbWl0ZWRFc2NhcGVkSHJlZiA9XG4gICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKTtcbiAgICAgICAgbGltaXRlZEVzY2FwZWRIcmVmID1cbiAgICAgICAgICAnbGlua1tyZWw9XCInICsgcmVsICsgJ1wiXVtocmVmPVwiJyArIGxpbWl0ZWRFc2NhcGVkSHJlZiArICdcIl0nO1xuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgICAobGltaXRlZEVzY2FwZWRIcmVmICs9ICdbY3Jvc3NvcmlnaW49XCInICsgY3Jvc3NPcmlnaW4gKyAnXCJdJyk7XG4gICAgICAgIHByZWNvbm5lY3RzU2V0LmhhcyhsaW1pdGVkRXNjYXBlZEhyZWYpIHx8XG4gICAgICAgICAgKHByZWNvbm5lY3RzU2V0LmFkZChsaW1pdGVkRXNjYXBlZEhyZWYpLFxuICAgICAgICAgIChyZWwgPSB7IHJlbDogcmVsLCBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sIGhyZWY6IGhyZWYgfSksXG4gICAgICAgICAgbnVsbCA9PT0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxpbWl0ZWRFc2NhcGVkSHJlZikgJiZcbiAgICAgICAgICAgICgoaHJlZiA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLFxuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaHJlZiwgXCJsaW5rXCIsIHJlbCksXG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGhyZWYpLFxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGhyZWYpKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJlc291cmNlKHR5cGUsIGN1cnJlbnRQcm9wcywgcGVuZGluZ1Byb3BzLCBjdXJyZW50UmVzb3VyY2UpIHtcbiAgICAgIHZhciByZXNvdXJjZVJvb3QgPSAocmVzb3VyY2VSb290ID0gcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudClcbiAgICAgICAgPyBnZXRIb2lzdGFibGVSb290KHJlc291cmNlUm9vdClcbiAgICAgICAgOiBudWxsO1xuICAgICAgaWYgKCFyZXNvdXJjZVJvb3QpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICdcInJlc291cmNlUm9vdFwiIHdhcyBleHBlY3RlZCB0byBleGlzdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4nXG4gICAgICAgICk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInRpdGxlXCI6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLnByZWNlZGVuY2UgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMuaHJlZlxuICAgICAgICAgICAgPyAoKHBlbmRpbmdQcm9wcyA9IGdldFN0eWxlS2V5KHBlbmRpbmdQcm9wcy5ocmVmKSksXG4gICAgICAgICAgICAgIChjdXJyZW50UHJvcHMgPVxuICAgICAgICAgICAgICAgIGdldFJlc291cmNlc0Zyb21Sb290KHJlc291cmNlUm9vdCkuaG9pc3RhYmxlU3R5bGVzKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRSZXNvdXJjZSA9IGN1cnJlbnRQcm9wcy5nZXQocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgIGN1cnJlbnRSZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAgICgoY3VycmVudFJlc291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY3VycmVudFByb3BzLnNldChwZW5kaW5nUHJvcHMsIGN1cnJlbnRSZXNvdXJjZSkpLFxuICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICA6IHsgdHlwZTogXCJ2b2lkXCIsIGluc3RhbmNlOiBudWxsLCBjb3VudDogMCwgc3RhdGU6IG51bGwgfTtcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gcGVuZGluZ1Byb3BzLnJlbCAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5ocmVmICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLnByZWNlZGVuY2VcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHR5cGUgPSBnZXRTdHlsZUtleShwZW5kaW5nUHJvcHMuaHJlZik7XG4gICAgICAgICAgICB2YXIgX3N0eWxlcyA9IGdldFJlc291cmNlc0Zyb21Sb290KHJlc291cmNlUm9vdCkuaG9pc3RhYmxlU3R5bGVzLFxuICAgICAgICAgICAgICBfcmVzb3VyY2UgPSBfc3R5bGVzLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIV9yZXNvdXJjZSAmJlxuICAgICAgICAgICAgICAoKHJlc291cmNlUm9vdCA9IHJlc291cmNlUm9vdC5vd25lckRvY3VtZW50IHx8IHJlc291cmNlUm9vdCksXG4gICAgICAgICAgICAgIChfcmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHsgbG9hZGluZzogTm90TG9hZGVkLCBwcmVsb2FkOiBudWxsIH1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF9zdHlsZXMuc2V0KHR5cGUsIF9yZXNvdXJjZSksXG4gICAgICAgICAgICAgIChfc3R5bGVzID0gcmVzb3VyY2VSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleSh0eXBlKVxuICAgICAgICAgICAgICApKSAmJlxuICAgICAgICAgICAgICAgICFfc3R5bGVzLl9wICYmXG4gICAgICAgICAgICAgICAgKChfcmVzb3VyY2UuaW5zdGFuY2UgPSBfc3R5bGVzKSxcbiAgICAgICAgICAgICAgICAoX3Jlc291cmNlLnN0YXRlLmxvYWRpbmcgPSBMb2FkZWQgfCBJbnNlcnRlZCkpLFxuICAgICAgICAgICAgICAhcHJlbG9hZFByb3BzTWFwLmhhcyh0eXBlKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgcHJlbG9hZFByb3BzID0ge1xuICAgICAgICAgICAgICAgIHJlbDogXCJwcmVsb2FkXCIsXG4gICAgICAgICAgICAgICAgYXM6IFwic3R5bGVcIixcbiAgICAgICAgICAgICAgICBocmVmOiBwZW5kaW5nUHJvcHMuaHJlZixcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcGVuZGluZ1Byb3BzLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGludGVncml0eTogcGVuZGluZ1Byb3BzLmludGVncml0eSxcbiAgICAgICAgICAgICAgICBtZWRpYTogcGVuZGluZ1Byb3BzLm1lZGlhLFxuICAgICAgICAgICAgICAgIGhyZWZMYW5nOiBwZW5kaW5nUHJvcHMuaHJlZkxhbmcsXG4gICAgICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6IHBlbmRpbmdQcm9wcy5yZWZlcnJlclBvbGljeVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuc2V0KHR5cGUsIHByZWxvYWRQcm9wcyk7XG4gICAgICAgICAgICAgIF9zdHlsZXMgfHxcbiAgICAgICAgICAgICAgICBwcmVsb2FkU3R5bGVzaGVldChcbiAgICAgICAgICAgICAgICAgIHJlc291cmNlUm9vdCxcbiAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICBwcmVsb2FkUHJvcHMsXG4gICAgICAgICAgICAgICAgICBfcmVzb3VyY2Uuc3RhdGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQcm9wcyAmJiBudWxsID09PSBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICAoKHBlbmRpbmdQcm9wcyA9XG4gICAgICAgICAgICAgICAgICBcIlxcblxcbiAgLSBcIiArXG4gICAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKGN1cnJlbnRQcm9wcykgK1xuICAgICAgICAgICAgICAgICAgXCJcXG4gICsgXCIgK1xuICAgICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgPGxpbms+IG5vdCB0byB1cGRhdGUgdG8gYmUgdXBkYXRlZCB0byBhIHN0eWxlc2hlZXQgd2l0aCBwcmVjZWRlbmNlLiBDaGVjayB0aGUgYHJlbGAsIGBocmVmYCwgYW5kIGBwcmVjZWRlbmNlYCBwcm9wcyBvZiB0aGlzIGNvbXBvbmVudC4gQWx0ZXJuYXRpdmVseSwgY2hlY2sgd2hldGhlciB0d28gZGlmZmVyZW50IDxsaW5rPiBjb21wb25lbnRzIHJlbmRlciBpbiB0aGUgc2FtZSBzbG90IG9yIHNoYXJlIHRoZSBzYW1lIGtleS5cIiArXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdQcm9wc1xuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gX3Jlc291cmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFByb3BzICYmIG51bGwgIT09IGN1cnJlbnRSZXNvdXJjZSlcbiAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgKChwZW5kaW5nUHJvcHMgPVxuICAgICAgICAgICAgICAgIFwiXFxuXFxuICAtIFwiICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKGN1cnJlbnRQcm9wcykgK1xuICAgICAgICAgICAgICAgIFwiXFxuICArIFwiICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIHN0eWxlc2hlZXQgd2l0aCBwcmVjZWRlbmNlIHRvIG5vdCBiZSB1cGRhdGVkIHRvIGEgZGlmZmVyZW50IGtpbmQgb2YgPGxpbms+LiBDaGVjayB0aGUgYHJlbGAsIGBocmVmYCwgYW5kIGBwcmVjZWRlbmNlYCBwcm9wcyBvZiB0aGlzIGNvbXBvbmVudC4gQWx0ZXJuYXRpdmVseSwgY2hlY2sgd2hldGhlciB0d28gZGlmZmVyZW50IDxsaW5rPiBjb21wb25lbnRzIHJlbmRlciBpbiB0aGUgc2FtZSBzbG90IG9yIHNoYXJlIHRoZSBzYW1lIGtleS5cIiArXG4gICAgICAgICAgICAgICAgICBwZW5kaW5nUHJvcHNcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnRQcm9wcyA9IHBlbmRpbmdQcm9wcy5hc3luYyksXG4gICAgICAgICAgICAocGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzLnNyYyksXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzICYmXG4gICAgICAgICAgICBjdXJyZW50UHJvcHMgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGN1cnJlbnRQcm9wcyAmJlxuICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIGN1cnJlbnRQcm9wc1xuICAgICAgICAgICAgICA/ICgocGVuZGluZ1Byb3BzID0gZ2V0U2NyaXB0S2V5KHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50UHJvcHMgPVxuICAgICAgICAgICAgICAgICAgZ2V0UmVzb3VyY2VzRnJvbVJvb3QocmVzb3VyY2VSb290KS5ob2lzdGFibGVTY3JpcHRzKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFJlc291cmNlID0gY3VycmVudFByb3BzLmdldChwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgICAgICgoY3VycmVudFJlc291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcy5zZXQocGVuZGluZ1Byb3BzLCBjdXJyZW50UmVzb3VyY2UpKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICAgIDogeyB0eXBlOiBcInZvaWRcIiwgaW5zdGFuY2U6IG51bGwsIGNvdW50OiAwLCBzdGF0ZTogbnVsbCB9XG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICdnZXRSZXNvdXJjZSBlbmNvdW50ZXJlZCBhIHR5cGUgaXQgZGlkIG5vdCBleHBlY3Q6IFwiJyArXG4gICAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgICAnXCIuIHRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYocHJvcHMpIHtcbiAgICAgIHZhciBkZXNjcmliZWRQcm9wcyA9IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uID0gXCI8bGlua1wiO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLnJlbFxuICAgICAgICA/IChkZXNjcmliZWRQcm9wcysrLCAoZGVzY3JpcHRpb24gKz0gJyByZWw9XCInICsgcHJvcHMucmVsICsgJ1wiJykpXG4gICAgICAgIDogaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJyZWxcIikgJiZcbiAgICAgICAgICAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICcgcmVsPVwiJyArXG4gICAgICAgICAgICAobnVsbCA9PT0gcHJvcHMucmVsID8gXCJudWxsXCIgOiBcImludmFsaWQgdHlwZSBcIiArIHR5cGVvZiBwcm9wcy5yZWwpICtcbiAgICAgICAgICAgICdcIicpKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5ocmVmXG4gICAgICAgID8gKGRlc2NyaWJlZFByb3BzKyssIChkZXNjcmlwdGlvbiArPSAnIGhyZWY9XCInICsgcHJvcHMuaHJlZiArICdcIicpKVxuICAgICAgICA6IGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwiaHJlZlwiKSAmJlxuICAgICAgICAgIChkZXNjcmliZWRQcm9wcysrLFxuICAgICAgICAgIChkZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgJyBocmVmPVwiJyArXG4gICAgICAgICAgICAobnVsbCA9PT0gcHJvcHMuaHJlZlxuICAgICAgICAgICAgICA/IFwibnVsbFwiXG4gICAgICAgICAgICAgIDogXCJpbnZhbGlkIHR5cGUgXCIgKyB0eXBlb2YgcHJvcHMuaHJlZikgK1xuICAgICAgICAgICAgJ1wiJykpO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLnByZWNlZGVuY2VcbiAgICAgICAgPyAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz0gJyBwcmVjZWRlbmNlPVwiJyArIHByb3BzLnByZWNlZGVuY2UgKyAnXCInKSlcbiAgICAgICAgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcInByZWNlZGVuY2VcIikgJiZcbiAgICAgICAgICAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgIFwiIHByZWNlZGVuY2U9e1wiICtcbiAgICAgICAgICAgIChudWxsID09PSBwcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgICAgICAgID8gXCJudWxsXCJcbiAgICAgICAgICAgICAgOiBcImludmFsaWQgdHlwZSBcIiArIHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlKSArXG4gICAgICAgICAgICBcIn1cIikpO1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpLmxlbmd0aCA+IGRlc2NyaWJlZFByb3BzICYmXG4gICAgICAgIChkZXNjcmlwdGlvbiArPSBcIiAuLi5cIik7XG4gICAgICByZXR1cm4gZGVzY3JpcHRpb24gKyBcIiAvPlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdHlsZUtleShocmVmKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnaHJlZj1cIicgKyBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICsgJ1wiJ1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpIHtcbiAgICAgIHJldHVybiAnbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdWycgKyBrZXkgKyBcIl1cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3R5bGVzaGVldFByb3BzRnJvbVJhd1Byb3BzKHJhd1Byb3BzKSB7XG4gICAgICByZXR1cm4gYXNzaWduKHt9LCByYXdQcm9wcywge1xuICAgICAgICBcImRhdGEtcHJlY2VkZW5jZVwiOiByYXdQcm9wcy5wcmVjZWRlbmNlLFxuICAgICAgICBwcmVjZWRlbmNlOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZFN0eWxlc2hlZXQob3duZXJEb2N1bWVudCwga2V5LCBwcmVsb2FkUHJvcHMsIHN0YXRlKSB7XG4gICAgICBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICdsaW5rW3JlbD1cInByZWxvYWRcIl1bYXM9XCJzdHlsZVwiXVsnICsga2V5ICsgXCJdXCJcbiAgICAgIClcbiAgICAgICAgPyAoc3RhdGUubG9hZGluZyA9IExvYWRlZClcbiAgICAgICAgOiAoKGtleSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLFxuICAgICAgICAgIChzdGF0ZS5wcmVsb2FkID0ga2V5KSxcbiAgICAgICAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5sb2FkaW5nIHw9IExvYWRlZCk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAga2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHN0YXRlLmxvYWRpbmcgfD0gRXJyb3JlZCk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoa2V5LCBcImxpbmtcIiwgcHJlbG9hZFByb3BzKSxcbiAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGtleSksXG4gICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGtleSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTY3JpcHRLZXkoc3JjKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnW3NyYz1cIicgKyBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKHNyYykgKyAnXCJdJ1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSkge1xuICAgICAgcmV0dXJuIFwic2NyaXB0W2FzeW5jXVwiICsga2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY3F1aXJlUmVzb3VyY2UoaG9pc3RhYmxlUm9vdCwgcmVzb3VyY2UsIHByb3BzKSB7XG4gICAgICByZXNvdXJjZS5jb3VudCsrO1xuICAgICAgaWYgKG51bGwgPT09IHJlc291cmNlLmluc3RhbmNlKVxuICAgICAgICBzd2l0Y2ggKHJlc291cmNlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgJ3N0eWxlW2RhdGEtaHJlZn49XCInICtcbiAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKHByb3BzLmhyZWYpICtcbiAgICAgICAgICAgICAgICAnXCJdJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSlcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAocmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZhciBzdHlsZVByb3BzID0gYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgICAgICBcImRhdGEtaHJlZlwiOiBwcm9wcy5ocmVmLFxuICAgICAgICAgICAgICBcImRhdGEtcHJlY2VkZW5jZVwiOiBwcm9wcy5wcmVjZWRlbmNlLFxuICAgICAgICAgICAgICBocmVmOiBudWxsLFxuICAgICAgICAgICAgICBwcmVjZWRlbmNlOiBudWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGluc3RhbmNlID0gKFxuICAgICAgICAgICAgICBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdFxuICAgICAgICAgICAgKS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGluc3RhbmNlKTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGluc3RhbmNlLCBcInN0eWxlXCIsIHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChpbnN0YW5jZSwgcHJvcHMucHJlY2VkZW5jZSwgaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc291cmNlLmluc3RhbmNlID0gaW5zdGFuY2UpO1xuICAgICAgICAgIGNhc2UgXCJzdHlsZXNoZWV0XCI6XG4gICAgICAgICAgICBzdHlsZVByb3BzID0gZ2V0U3R5bGVLZXkocHJvcHMuaHJlZik7XG4gICAgICAgICAgICB2YXIgX2luc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KHN0eWxlUHJvcHMpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKF9pbnN0YW5jZSlcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZCksXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLmluc3RhbmNlID0gX2luc3RhbmNlKSxcbiAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKF9pbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgX2luc3RhbmNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHN0eWxlc2hlZXRQcm9wc0Zyb21SYXdQcm9wcyhwcm9wcyk7XG4gICAgICAgICAgICAoc3R5bGVQcm9wcyA9IHByZWxvYWRQcm9wc01hcC5nZXQoc3R5bGVQcm9wcykpICYmXG4gICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU3R5bGVzaGVldChpbnN0YW5jZSwgc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICBfaW5zdGFuY2UgPSAoXG4gICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290XG4gICAgICAgICAgICApLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShfaW5zdGFuY2UpO1xuICAgICAgICAgICAgdmFyIGxpbmtJbnN0YW5jZSA9IF9pbnN0YW5jZTtcbiAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5fcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgbGlua0luc3RhbmNlLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhfaW5zdGFuY2UsIFwibGlua1wiLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICByZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChfaW5zdGFuY2UsIHByb3BzLnByZWNlZGVuY2UsIGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXNvdXJjZS5pbnN0YW5jZSA9IF9pbnN0YW5jZSk7XG4gICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgX2luc3RhbmNlID0gZ2V0U2NyaXB0S2V5KHByb3BzLnNyYyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChzdHlsZVByb3BzID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShfaW5zdGFuY2UpXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLmluc3RhbmNlID0gc3R5bGVQcm9wcyksXG4gICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShzdHlsZVByb3BzKSxcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKChzdHlsZVByb3BzID0gcHJlbG9hZFByb3BzTWFwLmdldChfaW5zdGFuY2UpKSlcbiAgICAgICAgICAgICAgKGluc3RhbmNlID0gYXNzaWduKHt9LCBwcm9wcykpLFxuICAgICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU2NyaXB0KGluc3RhbmNlLCBzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgIHN0eWxlUHJvcHMgPSBob2lzdGFibGVSb290LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoc3R5bGVQcm9wcywgXCJsaW5rXCIsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIHJldHVybiAocmVzb3VyY2UuaW5zdGFuY2UgPSBzdHlsZVByb3BzKTtcbiAgICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAnYWNxdWlyZVJlc291cmNlIGVuY291bnRlcmVkIGEgcmVzb3VyY2UgdHlwZSBpdCBkaWQgbm90IGV4cGVjdDogXCInICtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlICtcbiAgICAgICAgICAgICAgICAnXCIuIHRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gcmVzb3VyY2UudHlwZSAmJlxuICAgICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgSW5zZXJ0ZWQpID09PSBOb3RMb2FkZWQgJiZcbiAgICAgICAgICAoKGluc3RhbmNlID0gcmVzb3VyY2UuaW5zdGFuY2UpLFxuICAgICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkKSxcbiAgICAgICAgICBpbnNlcnRTdHlsZXNoZWV0KGluc3RhbmNlLCBwcm9wcy5wcmVjZWRlbmNlLCBob2lzdGFibGVSb290KSk7XG4gICAgICByZXR1cm4gcmVzb3VyY2UuaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydFN0eWxlc2hlZXQoaW5zdGFuY2UsIHByZWNlZGVuY2UsIHJvb3QpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBub2RlcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl1bZGF0YS1wcmVjZWRlbmNlXSxzdHlsZVtkYXRhLXByZWNlZGVuY2VdJ1xuICAgICAgICAgICksXG4gICAgICAgICAgbGFzdCA9IG5vZGVzLmxlbmd0aCA/IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdIDogbnVsbCxcbiAgICAgICAgICBwcmlvciA9IGxhc3QsXG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgIGkgPCBub2Rlcy5sZW5ndGg7XG4gICAgICAgIGkrK1xuICAgICAgKSB7XG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJlY2VkZW5jZSA9PT0gcHJlY2VkZW5jZSkgcHJpb3IgPSBub2RlO1xuICAgICAgICBlbHNlIGlmIChwcmlvciAhPT0gbGFzdCkgYnJlYWs7XG4gICAgICB9XG4gICAgICBwcmlvclxuICAgICAgICA/IHByaW9yLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGluc3RhbmNlLCBwcmlvci5uZXh0U2libGluZylcbiAgICAgICAgOiAoKHByZWNlZGVuY2UgPSA5ID09PSByb290Lm5vZGVUeXBlID8gcm9vdC5oZWFkIDogcm9vdCksXG4gICAgICAgICAgcHJlY2VkZW5jZS5pbnNlcnRCZWZvcmUoaW5zdGFuY2UsIHByZWNlZGVuY2UuZmlyc3RDaGlsZCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQoc3R5bGVzaGVldFByb3BzLCBwcmVsb2FkUHJvcHMpIHtcbiAgICAgIG51bGwgPT0gc3R5bGVzaGVldFByb3BzLmNyb3NzT3JpZ2luICYmXG4gICAgICAgIChzdHlsZXNoZWV0UHJvcHMuY3Jvc3NPcmlnaW4gPSBwcmVsb2FkUHJvcHMuY3Jvc3NPcmlnaW4pO1xuICAgICAgbnVsbCA9PSBzdHlsZXNoZWV0UHJvcHMucmVmZXJyZXJQb2xpY3kgJiZcbiAgICAgICAgKHN0eWxlc2hlZXRQcm9wcy5yZWZlcnJlclBvbGljeSA9IHByZWxvYWRQcm9wcy5yZWZlcnJlclBvbGljeSk7XG4gICAgICBudWxsID09IHN0eWxlc2hlZXRQcm9wcy50aXRsZSAmJlxuICAgICAgICAoc3R5bGVzaGVldFByb3BzLnRpdGxlID0gcHJlbG9hZFByb3BzLnRpdGxlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoc2NyaXB0UHJvcHMsIHByZWxvYWRQcm9wcykge1xuICAgICAgbnVsbCA9PSBzY3JpcHRQcm9wcy5jcm9zc09yaWdpbiAmJlxuICAgICAgICAoc2NyaXB0UHJvcHMuY3Jvc3NPcmlnaW4gPSBwcmVsb2FkUHJvcHMuY3Jvc3NPcmlnaW4pO1xuICAgICAgbnVsbCA9PSBzY3JpcHRQcm9wcy5yZWZlcnJlclBvbGljeSAmJlxuICAgICAgICAoc2NyaXB0UHJvcHMucmVmZXJyZXJQb2xpY3kgPSBwcmVsb2FkUHJvcHMucmVmZXJyZXJQb2xpY3kpO1xuICAgICAgbnVsbCA9PSBzY3JpcHRQcm9wcy5pbnRlZ3JpdHkgJiZcbiAgICAgICAgKHNjcmlwdFByb3BzLmludGVncml0eSA9IHByZWxvYWRQcm9wcy5pbnRlZ3JpdHkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIeWRyYXRhYmxlSG9pc3RhYmxlQ2FjaGUodHlwZSwga2V5QXR0cmlidXRlLCBvd25lckRvY3VtZW50KSB7XG4gICAgICBpZiAobnVsbCA9PT0gdGFnQ2FjaGVzKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIGNhY2hlcyA9ICh0YWdDYWNoZXMgPSBuZXcgTWFwKCkpO1xuICAgICAgICBjYWNoZXMuc2V0KG93bmVyRG9jdW1lbnQsIGNhY2hlKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICAoY2FjaGVzID0gdGFnQ2FjaGVzKSxcbiAgICAgICAgICAoY2FjaGUgPSBjYWNoZXMuZ2V0KG93bmVyRG9jdW1lbnQpKSxcbiAgICAgICAgICBjYWNoZSB8fCAoKGNhY2hlID0gbmV3IE1hcCgpKSwgY2FjaGVzLnNldChvd25lckRvY3VtZW50LCBjYWNoZSkpO1xuICAgICAgaWYgKGNhY2hlLmhhcyh0eXBlKSkgcmV0dXJuIGNhY2hlO1xuICAgICAgY2FjaGUuc2V0KHR5cGUsIG51bGwpO1xuICAgICAgb3duZXJEb2N1bWVudCA9IG93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHlwZSk7XG4gICAgICBmb3IgKGNhY2hlcyA9IDA7IGNhY2hlcyA8IG93bmVyRG9jdW1lbnQubGVuZ3RoOyBjYWNoZXMrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG93bmVyRG9jdW1lbnRbY2FjaGVzXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICEoXG4gICAgICAgICAgICBub2RlW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSB8fFxuICAgICAgICAgICAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSB8fFxuICAgICAgICAgICAgKFwibGlua1wiID09PSB0eXBlICYmIFwic3R5bGVzaGVldFwiID09PSBub2RlLmdldEF0dHJpYnV0ZShcInJlbFwiKSlcbiAgICAgICAgICApICYmXG4gICAgICAgICAgbm9kZS5uYW1lc3BhY2VVUkkgIT09IFNWR19OQU1FU1BBQ0VcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIG5vZGVLZXkgPSBub2RlLmdldEF0dHJpYnV0ZShrZXlBdHRyaWJ1dGUpIHx8IFwiXCI7XG4gICAgICAgICAgbm9kZUtleSA9IHR5cGUgKyBub2RlS2V5O1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IGNhY2hlLmdldChub2RlS2V5KTtcbiAgICAgICAgICBleGlzdGluZyA/IGV4aXN0aW5nLnB1c2gobm9kZSkgOiBjYWNoZS5zZXQobm9kZUtleSwgW25vZGVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEhvaXN0YWJsZShob2lzdGFibGVSb290LCB0eXBlLCBpbnN0YW5jZSkge1xuICAgICAgaG9pc3RhYmxlUm9vdCA9IGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290O1xuICAgICAgaG9pc3RhYmxlUm9vdC5oZWFkLmluc2VydEJlZm9yZShcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIFwidGl0bGVcIiA9PT0gdHlwZSA/IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcImhlYWQgPiB0aXRsZVwiKSA6IG51bGxcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzSG9zdEhvaXN0YWJsZVR5cGUodHlwZSwgcHJvcHMsIGhvc3RDb250ZXh0KSB7XG4gICAgICB2YXIgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ID1cbiAgICAgICAgIWhvc3RDb250ZXh0LmFuY2VzdG9ySW5mby5jb250YWluZXJUYWdJblNjb3BlO1xuICAgICAgaWYgKFxuICAgICAgICBob3N0Q29udGV4dC5jb250ZXh0ID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZyB8fFxuICAgICAgICBudWxsICE9IHByb3BzLml0ZW1Qcm9wXG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgIW91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCB8fFxuICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy5pdGVtUHJvcCB8fFxuICAgICAgICAgICAgKFwibWV0YVwiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwidGl0bGVcIiAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICBcInN0eWxlXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJsaW5rXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJzY3JpcHRcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDwlcz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCBpZiBpdCBoYXMgYW4gYGl0ZW1Qcm9wYCBwcm9wLiBgaXRlbVByb3BgIHN1Z2dlc3RzIHRoZSB0YWcgYmVsb25ncyB0byBhbiBgaXRlbVNjb3BlYCB3aGljaCBjYW4gYXBwZWFyIGFueXdoZXJlIGluIHRoZSBET00uIElmIHlvdSB3ZXJlIGludGVuZGluZyBmb3IgUmVhY3QgdG8gaG9pc3QgdGhpcyA8JXM+IHJlbW92ZSB0aGUgYGl0ZW1Qcm9wYCBwcm9wLiBPdGhlcndpc2UsIHRyeSBtb3ZpbmcgdGhpcyB0YWcgaW50byB0aGUgPGhlYWQ+IG9yIDxib2R5PiBvZiB0aGUgRG9jdW1lbnQuXCIsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlIHx8XG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgXCJcIiA9PT0gcHJvcHMuaHJlZlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW5kZXIgYSA8c3R5bGU+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBrbm93aW5nIGl0cyBwcmVjZWRlbmNlIGFuZCBhIHVuaXF1ZSBocmVmIGtleS4gUmVhY3QgY2FuIGhvaXN0IGFuZCBkZWR1cGxpY2F0ZSA8c3R5bGU+IHRhZ3MgaWYgeW91IHByb3ZpZGUgYSBgcHJlY2VkZW5jZWAgcHJvcCBhbG9uZyB3aXRoIGFuIGBocmVmYCBwcm9wIHRoYXQgZG9lcyBub3QgY29uZmxpYyB3aXRoIHRoZSBgaHJlZmAgdmFsdWVzIHVzZWQgaW4gYW55IG90aGVyIGhvaXN0ZWQgPHN0eWxlPiBvciA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgLi4uPiB0YWdzLiAgTm90ZSB0aGF0IGhvaXN0aW5nIDxzdHlsZT4gdGFncyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkIGZlYXR1cmUgdGhhdCBtb3N0IHdpbGwgbm90IHVzZSBkaXJlY3RseS4gQ29uc2lkZXIgbW92aW5nIHRoZSA8c3R5bGU+IHRhZyB0byB0aGUgPGhlYWQ+IG9yIGNvbnNpZGVyIGFkZGluZyBhIGBwcmVjZWRlbmNlPVwiZGVmYXVsdFwiYCBhbmQgYGhyZWY9XCJzb21lIHVuaXF1ZSByZXNvdXJjZSBpZGVudGlmaWVyXCJgLCBvciBtb3ZlIHRoZSA8c3R5bGU+IHRvIHRoZSA8c3R5bGU+IHRhZy4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5yZWwgfHxcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICBcIlwiID09PSBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkxvYWQgfHxcbiAgICAgICAgICAgIHByb3BzLm9uRXJyb3JcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHByb3BzLnJlbCAmJlxuICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHR5cGUgPSBwcm9wcy5ocmVmO1xuICAgICAgICAgICAgICB2YXIgb25FcnJvciA9IHByb3BzLm9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgaG9zdENvbnRleHQgPSBbXTtcbiAgICAgICAgICAgICAgcHJvcHMub25Mb2FkICYmIGhvc3RDb250ZXh0LnB1c2goXCJgb25Mb2FkYFwiKTtcbiAgICAgICAgICAgICAgb25FcnJvciAmJiBob3N0Q29udGV4dC5wdXNoKFwiYG9uRXJyb3JgXCIpO1xuICAgICAgICAgICAgICBudWxsICE9IGRpc2FibGVkICYmIGhvc3RDb250ZXh0LnB1c2goXCJgZGlzYWJsZWRgXCIpO1xuICAgICAgICAgICAgICBvbkVycm9yID0gcHJvcE5hbWVzTGlzdEpvaW4oaG9zdENvbnRleHQsIFwiYW5kXCIpO1xuICAgICAgICAgICAgICBvbkVycm9yICs9IDEgPT09IGhvc3RDb250ZXh0Lmxlbmd0aCA/IFwiIHByb3BcIiA6IFwiIHByb3BzXCI7XG4gICAgICAgICAgICAgIGRpc2FibGVkID1cbiAgICAgICAgICAgICAgICAxID09PSBob3N0Q29udGV4dC5sZW5ndGggPyBcImFuIFwiICsgb25FcnJvciA6IFwidGhlIFwiICsgb25FcnJvcjtcbiAgICAgICAgICAgICAgaG9zdENvbnRleHQubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdSZWFjdCBlbmNvdW50ZXJlZCBhIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiJXNcIiAuLi4gLz4gd2l0aCBhIGBwcmVjZWRlbmNlYCBwcm9wIHRoYXQgYWxzbyBpbmNsdWRlZCAlcy4gVGhlIHByZXNlbmNlIG9mIGxvYWRpbmcgYW5kIGVycm9yIGhhbmRsZXJzIGluZGljYXRlcyBhbiBpbnRlbnQgdG8gbWFuYWdlIHRoZSBzdHlsZXNoZWV0IGxvYWRpbmcgc3RhdGUgZnJvbSB5b3VyIGZyb20geW91ciBDb21wb25lbnQgY29kZSBhbmQgUmVhY3Qgd2lsbCBub3QgaG9pc3Qgb3IgZGVkdXBsaWNhdGUgdGhpcyBzdHlsZXNoZWV0LiBJZiB5b3VyIGludGVudCB3YXMgdG8gaGF2ZSBSZWFjdCBob2lzdCBhbmQgZGVkdXBsY2lhdGUgdGhpcyBzdHlsZXNoZWV0IHVzaW5nIHRoZSBgcHJlY2VkZW5jZWAgcHJvcCByZW1vdmUgdGhlICVzLCBvdGhlcndpc2UgcmVtb3ZlIHRoZSBgcHJlY2VkZW5jZWAgcHJvcC4nLFxuICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgb25FcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5yZWwgfHxcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLmhyZWYgfHxcbiAgICAgICAgICAgICAgXCJcIiA9PT0gcHJvcHMuaHJlZlxuICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPGxpbms+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBhIGByZWxgIGFuZCBgaHJlZmAgcHJvcC4gVHJ5IGFkZGluZyBhIGByZWxgIGFuZC9vciBgaHJlZmAgcHJvcCB0byB0aGlzIDxsaW5rPiBvciBtb3ZpbmcgdGhlIGxpbmsgaW50byB0aGUgPGhlYWQ+IHRhZ1wiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiAocHJvcHMub25FcnJvciB8fCBwcm9wcy5vbkxvYWQpICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8bGluaz4gd2l0aCBvbkxvYWQgb3Igb25FcnJvciBsaXN0ZW5lcnMgb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudC4gVHJ5IHJlbW92aW5nIG9uTG9hZD17Li4ufSBhbmQgb25FcnJvcj17Li4ufSBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnIG9yIHNvbWV3aGVyZSBpbiB0aGUgPGJvZHk+LlwiXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHByb3BzLnJlbCkge1xuICAgICAgICAgICAgY2FzZSBcInN0eWxlc2hlZXRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAodHlwZSA9IHByb3BzLnByZWNlZGVuY2UpLFxuICAgICAgICAgICAgICAgIChwcm9wcyA9IHByb3BzLmRpc2FibGVkKSxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHJlbmRlciBhIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiAvPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQga25vd2luZyBpdHMgcHJlY2VkZW5jZS4gQ29uc2lkZXIgYWRkaW5nIHByZWNlZGVuY2U9XCJkZWZhdWx0XCIgb3IgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZy4nXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlICYmIG51bGwgPT0gcHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICB0eXBlID1cbiAgICAgICAgICAgIHByb3BzLmFzeW5jICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwcm9wcy5hc3luYyAmJlxuICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHByb3BzLmFzeW5jO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICF0eXBlIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkxvYWQgfHxcbiAgICAgICAgICAgIHByb3BzLm9uRXJyb3IgfHxcbiAgICAgICAgICAgICFwcm9wcy5zcmMgfHxcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5zcmNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICAodHlwZVxuICAgICAgICAgICAgICAgID8gcHJvcHMub25Mb2FkIHx8IHByb3BzLm9uRXJyb3JcbiAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8c2NyaXB0PiB3aXRoIG9uTG9hZCBvciBvbkVycm9yIGxpc3RlbmVycyBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50LiBUcnkgcmVtb3Zpbmcgb25Mb2FkPXsuLi59IGFuZCBvbkVycm9yPXsuLi59IG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcgb3Igc29tZXdoZXJlIGluIHRoZSA8Ym9keT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDxzY3JpcHQ+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBgYXN5bmM9e3RydWV9YCBhbmQgYSBub24tZW1wdHkgYHNyY2AgcHJvcC4gRW5zdXJlIHRoZXJlIGlzIGEgdmFsaWQgYHNyY2AgYW5kIGVpdGhlciBtYWtlIHRoZSBzY3JpcHQgYXN5bmMgb3IgbW92ZSBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcgb3Igc29tZXdoZXJlIGluIHRoZSA8Ym9keT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW5kZXIgYSBzeW5jIG9yIGRlZmVyIDxzY3JpcHQ+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBrbm93aW5nIGl0cyBvcmRlci4gVHJ5IGFkZGluZyBhc3luYz1cIlwiIG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcuJ1xuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwibm9zY3JpcHRcIjpcbiAgICAgICAgY2FzZSBcInRlbXBsYXRlXCI6XG4gICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgPCVzPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50LiBUcnkgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZy5cIixcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZFJlc291cmNlKHJlc291cmNlKSB7XG4gICAgICByZXR1cm4gXCJzdHlsZXNoZWV0XCIgPT09IHJlc291cmNlLnR5cGUgJiZcbiAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBTZXR0bGVkKSA9PT0gTm90TG9hZGVkXG4gICAgICAgID8gITFcbiAgICAgICAgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gc3VzcGVuZFJlc291cmNlKGhvaXN0YWJsZVJvb3QsIHJlc291cmNlLCBwcm9wcykge1xuICAgICAgaWYgKG51bGwgPT09IHN1c3BlbmRlZFN0YXRlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkludGVybmFsIFJlYWN0IEVycm9yOiBzdXNwZW5kZWRTdGF0ZSBudWxsIHdoZW4gaXQgd2FzIGV4cGVjdGVkIHRvIGV4aXN0cy4gUGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgUmVhY3QgYnVnLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgc3RhdGUgPSBzdXNwZW5kZWRTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHJlc291cmNlLnR5cGUgJiZcbiAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5tZWRpYSB8fFxuICAgICAgICAgICExICE9PSBtYXRjaE1lZGlhKHByb3BzLm1lZGlhKS5tYXRjaGVzKSAmJlxuICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSA9PT0gTm90TG9hZGVkXG4gICAgICApIHtcbiAgICAgICAgaWYgKG51bGwgPT09IHJlc291cmNlLmluc3RhbmNlKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGdldFN0eWxlS2V5KHByb3BzLmhyZWYpLFxuICAgICAgICAgICAgaW5zdGFuY2UgPSBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBpbnN0YW5jZS5fcDtcbiAgICAgICAgICAgIG51bGwgIT09IGhvaXN0YWJsZVJvb3QgJiZcbiAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGhvaXN0YWJsZVJvb3QgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaG9pc3RhYmxlUm9vdC50aGVuICYmXG4gICAgICAgICAgICAgIChzdGF0ZS5jb3VudCsrLFxuICAgICAgICAgICAgICAoc3RhdGUgPSBvblVuc3VzcGVuZC5iaW5kKHN0YXRlKSksXG4gICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QudGhlbihzdGF0ZSwgc3RhdGUpKTtcbiAgICAgICAgICAgIHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQ7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgcHJvcHMgPSBzdHlsZXNoZWV0UHJvcHNGcm9tUmF3UHJvcHMocHJvcHMpO1xuICAgICAgICAgIChrZXkgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQocHJvcHMsIGtleSk7XG4gICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGluc3RhbmNlKTtcbiAgICAgICAgICB2YXIgbGlua0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgbGlua0luc3RhbmNlLl9wID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgbGlua0luc3RhbmNlLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICBsaW5rSW5zdGFuY2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhpbnN0YW5jZSwgXCJsaW5rXCIsIHByb3BzKTtcbiAgICAgICAgICByZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIG51bGwgPT09IHN0YXRlLnN0eWxlc2hlZXRzICYmIChzdGF0ZS5zdHlsZXNoZWV0cyA9IG5ldyBNYXAoKSk7XG4gICAgICAgIHN0YXRlLnN0eWxlc2hlZXRzLnNldChyZXNvdXJjZSwgaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgIChob2lzdGFibGVSb290ID0gcmVzb3VyY2Uuc3RhdGUucHJlbG9hZCkgJiZcbiAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIFNldHRsZWQpID09PSBOb3RMb2FkZWQgJiZcbiAgICAgICAgICAoc3RhdGUuY291bnQrKyxcbiAgICAgICAgICAocmVzb3VyY2UgPSBvblVuc3VzcGVuZC5iaW5kKHN0YXRlKSksXG4gICAgICAgICAgaG9pc3RhYmxlUm9vdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCByZXNvdXJjZSksXG4gICAgICAgICAgaG9pc3RhYmxlUm9vdC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgcmVzb3VyY2UpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2FpdEZvckNvbW1pdFRvQmVSZWFkeSgpIHtcbiAgICAgIGlmIChudWxsID09PSBzdXNwZW5kZWRTdGF0ZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBFcnJvcjogc3VzcGVuZGVkU3RhdGUgbnVsbCB3aGVuIGl0IHdhcyBleHBlY3RlZCB0byBleGlzdHMuIFBsZWFzZSByZXBvcnQgdGhpcyBhcyBhIFJlYWN0IGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHN0YXRlID0gc3VzcGVuZGVkU3RhdGU7XG4gICAgICBzdGF0ZS5zdHlsZXNoZWV0cyAmJlxuICAgICAgICAwID09PSBzdGF0ZS5jb3VudCAmJlxuICAgICAgICBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyhzdGF0ZSwgc3RhdGUuc3R5bGVzaGVldHMpO1xuICAgICAgcmV0dXJuIDAgPCBzdGF0ZS5jb3VudFxuICAgICAgICA/IGZ1bmN0aW9uIChjb21taXQpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZXNoZWV0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc3RhdGUuc3R5bGVzaGVldHMgJiZcbiAgICAgICAgICAgICAgICBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyhzdGF0ZSwgc3RhdGUuc3R5bGVzaGVldHMpO1xuICAgICAgICAgICAgICBpZiAoc3RhdGUudW5zdXNwZW5kKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVuc3VzcGVuZCA9IHN0YXRlLnVuc3VzcGVuZDtcbiAgICAgICAgICAgICAgICBzdGF0ZS51bnN1c3BlbmQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHVuc3VzcGVuZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2ZTQpO1xuICAgICAgICAgICAgc3RhdGUudW5zdXNwZW5kID0gY29tbWl0O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc3RhdGUudW5zdXNwZW5kID0gbnVsbDtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0eWxlc2hlZXRUaW1lcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblVuc3VzcGVuZCgpIHtcbiAgICAgIHRoaXMuY291bnQtLTtcbiAgICAgIGlmICgwID09PSB0aGlzLmNvdW50KVxuICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0cylcbiAgICAgICAgICBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyh0aGlzLCB0aGlzLnN0eWxlc2hlZXRzKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy51bnN1c3BlbmQpIHtcbiAgICAgICAgICB2YXIgdW5zdXNwZW5kID0gdGhpcy51bnN1c3BlbmQ7XG4gICAgICAgICAgdGhpcy51bnN1c3BlbmQgPSBudWxsO1xuICAgICAgICAgIHVuc3VzcGVuZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydFN1c3BlbmRlZFN0eWxlc2hlZXRzKHN0YXRlLCByZXNvdXJjZXMpIHtcbiAgICAgIHN0YXRlLnN0eWxlc2hlZXRzID0gbnVsbDtcbiAgICAgIG51bGwgIT09IHN0YXRlLnVuc3VzcGVuZCAmJlxuICAgICAgICAoc3RhdGUuY291bnQrKyxcbiAgICAgICAgKHByZWNlZGVuY2VzQnlSb290ID0gbmV3IE1hcCgpKSxcbiAgICAgICAgcmVzb3VyY2VzLmZvckVhY2goaW5zZXJ0U3R5bGVzaGVldEludG9Sb290LCBzdGF0ZSksXG4gICAgICAgIChwcmVjZWRlbmNlc0J5Um9vdCA9IG51bGwpLFxuICAgICAgICBvblVuc3VzcGVuZC5jYWxsKHN0YXRlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydFN0eWxlc2hlZXRJbnRvUm9vdChyb290LCByZXNvdXJjZSkge1xuICAgICAgaWYgKCEocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSkge1xuICAgICAgICB2YXIgcHJlY2VkZW5jZXMgPSBwcmVjZWRlbmNlc0J5Um9vdC5nZXQocm9vdCk7XG4gICAgICAgIGlmIChwcmVjZWRlbmNlcykgdmFyIGxhc3QgPSBwcmVjZWRlbmNlcy5nZXQoTEFTVF9QUkVDRURFTkNFKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcHJlY2VkZW5jZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgcHJlY2VkZW5jZXNCeVJvb3Quc2V0KHJvb3QsIHByZWNlZGVuY2VzKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgdmFyIG5vZGVzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgICAgIFwibGlua1tkYXRhLXByZWNlZGVuY2VdLHN0eWxlW2RhdGEtcHJlY2VkZW5jZV1cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIGkgPCBub2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBpKytcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwiTElOS1wiID09PSBub2RlLm5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgIFwibm90IGFsbFwiICE9PSBub2RlLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHByZWNlZGVuY2VzLnNldChub2RlLmRhdGFzZXQucHJlY2VkZW5jZSwgbm9kZSksIChsYXN0ID0gbm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3QgJiYgcHJlY2VkZW5jZXMuc2V0KExBU1RfUFJFQ0VERU5DRSwgbGFzdCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZXMgPSByZXNvdXJjZS5pbnN0YW5jZTtcbiAgICAgICAgbm9kZSA9IG5vZGVzLmdldEF0dHJpYnV0ZShcImRhdGEtcHJlY2VkZW5jZVwiKTtcbiAgICAgICAgaSA9IHByZWNlZGVuY2VzLmdldChub2RlKSB8fCBsYXN0O1xuICAgICAgICBpID09PSBsYXN0ICYmIHByZWNlZGVuY2VzLnNldChMQVNUX1BSRUNFREVOQ0UsIG5vZGVzKTtcbiAgICAgICAgcHJlY2VkZW5jZXMuc2V0KG5vZGUsIG5vZGVzKTtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICBsYXN0ID0gb25VbnN1c3BlbmQuYmluZCh0aGlzKTtcbiAgICAgICAgbm9kZXMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgbGFzdCk7XG4gICAgICAgIG5vZGVzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBsYXN0KTtcbiAgICAgICAgaVxuICAgICAgICAgID8gaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlcywgaS5uZXh0U2libGluZylcbiAgICAgICAgICA6ICgocm9vdCA9IDkgPT09IHJvb3Qubm9kZVR5cGUgPyByb290LmhlYWQgOiByb290KSxcbiAgICAgICAgICAgIHJvb3QuaW5zZXJ0QmVmb3JlKG5vZGVzLCByb290LmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYmluZFRvQ29uc29sZShtZXRob2ROYW1lLCBhcmdzLCBiYWRnZU5hbWUpIHtcbiAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgc3dpdGNoIChtZXRob2ROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJkaXJcIjpcbiAgICAgICAgY2FzZSBcImRpcnhtbFwiOlxuICAgICAgICBjYXNlIFwiZ3JvdXBFbmRcIjpcbiAgICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgICAgcmV0dXJuIGJpbmQuYXBwbHkoY29uc29sZVttZXRob2ROYW1lXSwgW2NvbnNvbGVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIGNhc2UgXCJhc3NlcnRcIjpcbiAgICAgICAgICBvZmZzZXQgPSAxO1xuICAgICAgfVxuICAgICAgYXJncyA9IGFyZ3Muc2xpY2UoMCk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJnc1tvZmZzZXRdXG4gICAgICAgID8gYXJncy5zcGxpY2UoXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgYmFkZ2VGb3JtYXQgKyBhcmdzW29mZnNldF0sXG4gICAgICAgICAgICBiYWRnZVN0eWxlLFxuICAgICAgICAgICAgcGFkICsgYmFkZ2VOYW1lICsgcGFkLFxuICAgICAgICAgICAgcmVzZXRTdHlsZVxuICAgICAgICAgIClcbiAgICAgICAgOiBhcmdzLnNwbGljZShcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBiYWRnZUZvcm1hdCxcbiAgICAgICAgICAgIGJhZGdlU3R5bGUsXG4gICAgICAgICAgICBwYWQgKyBiYWRnZU5hbWUgKyBwYWQsXG4gICAgICAgICAgICByZXNldFN0eWxlXG4gICAgICAgICAgKTtcbiAgICAgIGFyZ3MudW5zaGlmdChjb25zb2xlKTtcbiAgICAgIHJldHVybiBiaW5kLmFwcGx5KGNvbnNvbGVbbWV0aG9kTmFtZV0sIGFyZ3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBGaWJlclJvb3ROb2RlKFxuICAgICAgY29udGFpbmVySW5mbyxcbiAgICAgIHRhZyxcbiAgICAgIGh5ZHJhdGUsXG4gICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgIGZvcm1TdGF0ZVxuICAgICkge1xuICAgICAgdGhpcy50YWcgPSAxO1xuICAgICAgdGhpcy5jb250YWluZXJJbmZvID0gY29udGFpbmVySW5mbztcbiAgICAgIHRoaXMuZmluaXNoZWRXb3JrID1cbiAgICAgICAgdGhpcy5waW5nQ2FjaGUgPVxuICAgICAgICB0aGlzLmN1cnJlbnQgPVxuICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZHJlbiA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IG5vVGltZW91dDtcbiAgICAgIHRoaXMuY2FsbGJhY2tOb2RlID1cbiAgICAgICAgdGhpcy5uZXh0ID1cbiAgICAgICAgdGhpcy5wZW5kaW5nQ29udGV4dCA9XG4gICAgICAgIHRoaXMuY29udGV4dCA9XG4gICAgICAgIHRoaXMuY2FuY2VsUGVuZGluZ0NvbW1pdCA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMuY2FsbGJhY2tQcmlvcml0eSA9IDA7XG4gICAgICB0aGlzLmV4cGlyYXRpb25UaW1lcyA9IGNyZWF0ZUxhbmVNYXAoLTEpO1xuICAgICAgdGhpcy5lbnRhbmdsZWRMYW5lcyA9XG4gICAgICAgIHRoaXMuc2hlbGxTdXNwZW5kQ291bnRlciA9XG4gICAgICAgIHRoaXMuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgPVxuICAgICAgICB0aGlzLmZpbmlzaGVkTGFuZXMgPVxuICAgICAgICB0aGlzLmV4cGlyZWRMYW5lcyA9XG4gICAgICAgIHRoaXMud2FybUxhbmVzID1cbiAgICAgICAgdGhpcy5waW5nZWRMYW5lcyA9XG4gICAgICAgIHRoaXMuc3VzcGVuZGVkTGFuZXMgPVxuICAgICAgICB0aGlzLnBlbmRpbmdMYW5lcyA9XG4gICAgICAgICAgMDtcbiAgICAgIHRoaXMuZW50YW5nbGVtZW50cyA9IGNyZWF0ZUxhbmVNYXAoMCk7XG4gICAgICB0aGlzLmhpZGRlblVwZGF0ZXMgPSBjcmVhdGVMYW5lTWFwKG51bGwpO1xuICAgICAgdGhpcy5pZGVudGlmaWVyUHJlZml4ID0gaWRlbnRpZmllclByZWZpeDtcbiAgICAgIHRoaXMub25VbmNhdWdodEVycm9yID0gb25VbmNhdWdodEVycm9yO1xuICAgICAgdGhpcy5vbkNhdWdodEVycm9yID0gb25DYXVnaHRFcnJvcjtcbiAgICAgIHRoaXMub25SZWNvdmVyYWJsZUVycm9yID0gb25SZWNvdmVyYWJsZUVycm9yO1xuICAgICAgdGhpcy5wb29sZWRDYWNoZSA9IG51bGw7XG4gICAgICB0aGlzLnBvb2xlZENhY2hlTGFuZXMgPSAwO1xuICAgICAgdGhpcy5mb3JtU3RhdGUgPSBmb3JtU3RhdGU7XG4gICAgICB0aGlzLmluY29tcGxldGVUcmFuc2l0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgIHRoaXMucGFzc2l2ZUVmZmVjdER1cmF0aW9uID0gdGhpcy5lZmZlY3REdXJhdGlvbiA9IC0wO1xuICAgICAgdGhpcy5tZW1vaXplZFVwZGF0ZXJzID0gbmV3IFNldCgpO1xuICAgICAgY29udGFpbmVySW5mbyA9IHRoaXMucGVuZGluZ1VwZGF0ZXJzTGFuZU1hcCA9IFtdO1xuICAgICAgZm9yICh0YWcgPSAwOyAzMSA+IHRhZzsgdGFnKyspIGNvbnRhaW5lckluZm8ucHVzaChuZXcgU2V0KCkpO1xuICAgICAgdGhpcy5fZGVidWdSb290VHlwZSA9IGh5ZHJhdGUgPyBcImh5ZHJhdGVSb290KClcIiA6IFwiY3JlYXRlUm9vdCgpXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyUm9vdChcbiAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICB0YWcsXG4gICAgICBoeWRyYXRlLFxuICAgICAgaW5pdGlhbENoaWxkcmVuLFxuICAgICAgaHlkcmF0aW9uQ2FsbGJhY2tzLFxuICAgICAgaXNTdHJpY3RNb2RlLFxuICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzLFxuICAgICAgZm9ybVN0YXRlXG4gICAgKSB7XG4gICAgICBjb250YWluZXJJbmZvID0gbmV3IEZpYmVyUm9vdE5vZGUoXG4gICAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICAgIHRhZyxcbiAgICAgICAgaHlkcmF0ZSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIGZvcm1TdGF0ZVxuICAgICAgKTtcbiAgICAgIHRhZyA9IENvbmN1cnJlbnRNb2RlO1xuICAgICAgITAgPT09IGlzU3RyaWN0TW9kZSAmJiAodGFnIHw9IFN0cmljdExlZ2FjeU1vZGUgfCBTdHJpY3RFZmZlY3RzTW9kZSk7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiAodGFnIHw9IFByb2ZpbGVNb2RlKTtcbiAgICAgIGlzU3RyaWN0TW9kZSA9IGNyZWF0ZUZpYmVyKDMsIG51bGwsIG51bGwsIHRhZyk7XG4gICAgICBjb250YWluZXJJbmZvLmN1cnJlbnQgPSBpc1N0cmljdE1vZGU7XG4gICAgICBpc1N0cmljdE1vZGUuc3RhdGVOb2RlID0gY29udGFpbmVySW5mbztcbiAgICAgIHRhZyA9IGNyZWF0ZUNhY2hlKCk7XG4gICAgICByZXRhaW5DYWNoZSh0YWcpO1xuICAgICAgY29udGFpbmVySW5mby5wb29sZWRDYWNoZSA9IHRhZztcbiAgICAgIHJldGFpbkNhY2hlKHRhZyk7XG4gICAgICBpc1N0cmljdE1vZGUubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgZWxlbWVudDogaW5pdGlhbENoaWxkcmVuLFxuICAgICAgICBpc0RlaHlkcmF0ZWQ6IGh5ZHJhdGUsXG4gICAgICAgIGNhY2hlOiB0YWdcbiAgICAgIH07XG4gICAgICBpbml0aWFsaXplVXBkYXRlUXVldWUoaXNTdHJpY3RNb2RlKTtcbiAgICAgIHJldHVybiBjb250YWluZXJJbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGlmICghcGFyZW50Q29tcG9uZW50KSByZXR1cm4gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgcGFyZW50Q29tcG9uZW50ID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgcmV0dXJuIHBhcmVudENvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ29udGFpbmVyU3luYyhcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBjYWxsYmFja1xuICAgICkge1xuICAgICAgMCA9PT0gY29udGFpbmVyLnRhZyAmJiBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICB1cGRhdGVDb250YWluZXJJbXBsKFxuICAgICAgICBjb250YWluZXIuY3VycmVudCxcbiAgICAgICAgMixcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICApO1xuICAgICAgcmV0dXJuIDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lckltcGwoXG4gICAgICByb290RmliZXIsXG4gICAgICBsYW5lLFxuICAgICAgZWxlbWVudCxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGluamVjdGVkSG9vayAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25TY2hlZHVsZUZpYmVyUm9vdFxuICAgICAgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGluamVjdGVkSG9vay5vblNjaGVkdWxlRmliZXJSb290KHJlbmRlcmVySUQsIGNvbnRhaW5lciwgZWxlbWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU2NoZWR1bGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclNjaGVkdWxlZChsYW5lKTtcbiAgICAgIHBhcmVudENvbXBvbmVudCA9IGdldENvbnRleHRGb3JTdWJ0cmVlKHBhcmVudENvbXBvbmVudCk7XG4gICAgICBudWxsID09PSBjb250YWluZXIuY29udGV4dFxuICAgICAgICA/IChjb250YWluZXIuY29udGV4dCA9IHBhcmVudENvbXBvbmVudClcbiAgICAgICAgOiAoY29udGFpbmVyLnBlbmRpbmdDb250ZXh0ID0gcGFyZW50Q29tcG9uZW50KTtcbiAgICAgIGlzUmVuZGVyaW5nICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgIWRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgJiZcbiAgICAgICAgKChkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gcmVuZGVyIGlzIG5vdCBhbGxvd2VkLiBJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLlwiLFxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoY3VycmVudCkgfHwgXCJVbmtub3duXCJcbiAgICAgICAgKSk7XG4gICAgICBjb250YWluZXIgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICBjb250YWluZXIucGF5bG9hZCA9IHsgZWxlbWVudDogZWxlbWVudCB9O1xuICAgICAgY2FsbGJhY2sgPSB2b2lkIDAgPT09IGNhbGxiYWNrID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNhbGxiYWNrICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKSxcbiAgICAgICAgKGNvbnRhaW5lci5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICBlbGVtZW50ID0gZW5xdWV1ZVVwZGF0ZShyb290RmliZXIsIGNvbnRhaW5lciwgbGFuZSk7XG4gICAgICBudWxsICE9PSBlbGVtZW50ICYmXG4gICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIoZWxlbWVudCwgcm9vdEZpYmVyLCBsYW5lKSxcbiAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhlbGVtZW50LCByb290RmliZXIsIGxhbmUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JldHJ5TGFuZUltcGwoZmliZXIsIHJldHJ5TGFuZSkge1xuICAgICAgZmliZXIgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGZpYmVyICYmIG51bGwgIT09IGZpYmVyLmRlaHlkcmF0ZWQpIHtcbiAgICAgICAgdmFyIGEgPSBmaWJlci5yZXRyeUxhbmU7XG4gICAgICAgIGZpYmVyLnJldHJ5TGFuZSA9IDAgIT09IGEgJiYgYSA8IHJldHJ5TGFuZSA/IGEgOiByZXRyeUxhbmU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKGZpYmVyLCByZXRyeUxhbmUpIHtcbiAgICAgIG1hcmtSZXRyeUxhbmVJbXBsKGZpYmVyLCByZXRyeUxhbmUpO1xuICAgICAgKGZpYmVyID0gZmliZXIuYWx0ZXJuYXRlKSAmJiBtYXJrUmV0cnlMYW5lSW1wbChmaWJlciwgcmV0cnlMYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24oZmliZXIpIHtcbiAgICAgIGlmICgxMyA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCA2NzEwODg2NCk7XG4gICAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCA2NzEwODg2NCk7XG4gICAgICAgIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKGZpYmVyLCA2NzEwODg2NCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlckZvckRldlRvb2xzKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExhbmVMYWJlbE1hcCgpIHtcbiAgICAgIGZvciAodmFyIG1hcCA9IG5ldyBNYXAoKSwgbGFuZSA9IDEsIGluZGV4ID0gMDsgMzEgPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbGFiZWwgPSBnZXRMYWJlbEZvckxhbmUobGFuZSk7XG4gICAgICAgIG1hcC5zZXQobGFuZSwgbGFiZWwpO1xuICAgICAgICBsYW5lICo9IDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaERpc2NyZXRlRXZlbnQoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbDtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gRGlzY3JldGVFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywgY29udGFpbmVyLCBuYXRpdmVFdmVudCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaENvbnRpbnVvdXNFdmVudChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsO1xuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBDb250aW51b3VzRXZlbnRQcmlvcml0eSksXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudChkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIGNvbnRhaW5lciwgbmF0aXZlRXZlbnQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgaWYgKF9lbmFibGVkKSB7XG4gICAgICAgIHZhciBibG9ja2VkT24gPSBmaW5kSW5zdGFuY2VCbG9ja2luZ0V2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgaWYgKG51bGwgPT09IGJsb2NrZWRPbilcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICByZXR1cm5fdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgICAgICksXG4gICAgICAgICAgICBjbGVhcklmQ29udGludW91c0V2ZW50KGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICBxdWV1ZUlmQ29udGludW91c0V2ZW50KFxuICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgbmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIChjbGVhcklmQ29udGludW91c0V2ZW50KGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpLFxuICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAtMSA8IGRpc2NyZXRlUmVwbGF5YWJsZUV2ZW50cy5pbmRleE9mKGRvbUV2ZW50TmFtZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAoOyBudWxsICE9PSBibG9ja2VkT247ICkge1xuICAgICAgICAgICAgdmFyIGZpYmVyID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShibG9ja2VkT24pO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpYmVyKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgIGZpYmVyID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgICAgaWYgKGZpYmVyLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMoZmliZXIucGVuZGluZ0xhbmVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgIT09IGxhbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHJvb3QgPSBmaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICByb290LnBlbmRpbmdMYW5lcyB8PSAyO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAocm9vdC5lbnRhbmdsZWRMYW5lcyB8PSAyOyBsYW5lczsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFuZSA9IDEgPDwgKDMxIC0gY2x6MzIobGFuZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuZW50YW5nbGVtZW50c1sxXSB8PSBsYW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChmaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIE5vQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm93JDEoKSArIFJFTkRFUl9USU1FT1VUX01TKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAocm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSByb290ICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMiksXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoU3luY1dvcmskMSgpLFxuICAgICAgICAgICAgICAgICAgICBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChmaWJlciwgMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpYmVyID0gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChuYXRpdmVFdmVudCk7XG4gICAgICAgICAgICBudWxsID09PSBmaWJlciAmJlxuICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgcmV0dXJuX3RhcmdldEluc3QsXG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZmliZXIgPT09IGJsb2NrZWRPbikgYnJlYWs7XG4gICAgICAgICAgICBibG9ja2VkT24gPSBmaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbnVsbCAhPT0gYmxvY2tlZE9uICYmIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChuYXRpdmVFdmVudCkge1xuICAgICAgbmF0aXZlRXZlbnQgPSBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCk7XG4gICAgICByZXR1cm4gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQobmF0aXZlRXZlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW5zdGFuY2VCbG9ja2luZ1RhcmdldCh0YXJnZXROb2RlKSB7XG4gICAgICByZXR1cm5fdGFyZ2V0SW5zdCA9IG51bGw7XG4gICAgICB0YXJnZXROb2RlID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0Tm9kZSk7XG4gICAgICBpZiAobnVsbCAhPT0gdGFyZ2V0Tm9kZSkge1xuICAgICAgICB2YXIgbmVhcmVzdE1vdW50ZWQgPSBnZXROZWFyZXN0TW91bnRlZEZpYmVyKHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAobnVsbCA9PT0gbmVhcmVzdE1vdW50ZWQpIHRhcmdldE5vZGUgPSBudWxsO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgdGFnID0gbmVhcmVzdE1vdW50ZWQudGFnO1xuICAgICAgICAgIGlmICgxMyA9PT0gdGFnKSB7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gZ2V0U3VzcGVuc2VJbnN0YW5jZUZyb21GaWJlcihuZWFyZXN0TW91bnRlZCk7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdGFyZ2V0Tm9kZSkgcmV0dXJuIHRhcmdldE5vZGU7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKDMgPT09IHRhZykge1xuICAgICAgICAgICAgaWYgKG5lYXJlc3RNb3VudGVkLnN0YXRlTm9kZS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKVxuICAgICAgICAgICAgICByZXR1cm4gMyA9PT0gbmVhcmVzdE1vdW50ZWQudGFnXG4gICAgICAgICAgICAgICAgPyBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBuZWFyZXN0TW91bnRlZCAhPT0gdGFyZ2V0Tm9kZSAmJiAodGFyZ2V0Tm9kZSA9IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm5fdGFyZ2V0SW5zdCA9IHRhcmdldE5vZGU7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRQcmlvcml0eShkb21FdmVudE5hbWUpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmV0b2dnbGVcIjpcbiAgICAgICAgY2FzZSBcImNhbmNlbFwiOlxuICAgICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgY2FzZSBcImNsb3NlXCI6XG4gICAgICAgIGNhc2UgXCJjb250ZXh0bWVudVwiOlxuICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICBjYXNlIFwiY3V0XCI6XG4gICAgICAgIGNhc2UgXCJhdXhjbGlja1wiOlxuICAgICAgICBjYXNlIFwiZGJsY2xpY2tcIjpcbiAgICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgIGNhc2UgXCJpbnZhbGlkXCI6XG4gICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICBjYXNlIFwia2V5dXBcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICBjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICBjYXNlIFwicGFzdGVcIjpcbiAgICAgICAgY2FzZSBcInBhdXNlXCI6XG4gICAgICAgIGNhc2UgXCJwbGF5XCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyY2FuY2VsXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcnVwXCI6XG4gICAgICAgIGNhc2UgXCJyYXRlY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJyZXNldFwiOlxuICAgICAgICBjYXNlIFwicmVzaXplXCI6XG4gICAgICAgIGNhc2UgXCJzZWVrZWRcIjpcbiAgICAgICAgY2FzZSBcInN1Ym1pdFwiOlxuICAgICAgICBjYXNlIFwidG9nZ2xlXCI6XG4gICAgICAgIGNhc2UgXCJ0b3VjaGNhbmNlbFwiOlxuICAgICAgICBjYXNlIFwidG91Y2hlbmRcIjpcbiAgICAgICAgY2FzZSBcInRvdWNoc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcInZvbHVtZWNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwiY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3Rpb25jaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcInRleHRJbnB1dFwiOlxuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJiZWZvcmVibHVyXCI6XG4gICAgICAgIGNhc2UgXCJhZnRlcmJsdXJcIjpcbiAgICAgICAgY2FzZSBcImJlZm9yZWlucHV0XCI6XG4gICAgICAgIGNhc2UgXCJibHVyXCI6XG4gICAgICAgIGNhc2UgXCJmdWxsc2NyZWVuY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c1wiOlxuICAgICAgICBjYXNlIFwiaGFzaGNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwicG9wc3RhdGVcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICBjYXNlIFwic2VsZWN0c3RhcnRcIjpcbiAgICAgICAgICByZXR1cm4gRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgICAgICBjYXNlIFwiZHJhZ1wiOlxuICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZXhpdFwiOlxuICAgICAgICBjYXNlIFwiZHJhZ2xlYXZlXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnb3ZlclwiOlxuICAgICAgICBjYXNlIFwibW91c2Vtb3ZlXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVybW92ZVwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxuICAgICAgICBjYXNlIFwidG91Y2htb3ZlXCI6XG4gICAgICAgIGNhc2UgXCJ3aGVlbFwiOlxuICAgICAgICBjYXNlIFwibW91c2VlbnRlclwiOlxuICAgICAgICBjYXNlIFwibW91c2VsZWF2ZVwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmVudGVyXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVybGVhdmVcIjpcbiAgICAgICAgICByZXR1cm4gQ29udGludW91c0V2ZW50UHJpb3JpdHk7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgc3dpdGNoIChnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCgpKSB7XG4gICAgICAgICAgICBjYXNlIEltbWVkaWF0ZVByaW9yaXR5OlxuICAgICAgICAgICAgICByZXR1cm4gRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgY2FzZSBVc2VyQmxvY2tpbmdQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgY2FzZSBOb3JtYWxQcmlvcml0eSQxOlxuICAgICAgICAgICAgY2FzZSBMb3dQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgY2FzZSBJZGxlUHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBJZGxlRXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhcklmQ29udGludW91c0V2ZW50KGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgIHF1ZXVlZEZvY3VzID0gbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICBjYXNlIFwiZHJhZ2xlYXZlXCI6XG4gICAgICAgICAgcXVldWVkRHJhZyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlb3V0XCI6XG4gICAgICAgICAgcXVldWVkTW91c2UgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjpcbiAgICAgICAgICBxdWV1ZWRQb2ludGVycy5kZWxldGUobmF0aXZlRXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJsb3N0cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZGVsZXRlKG5hdGl2ZUV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50LFxuICAgICAgYmxvY2tlZE9uLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgPT09IGV4aXN0aW5nUXVldWVkRXZlbnQgfHxcbiAgICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudC5uYXRpdmVFdmVudCAhPT0gbmF0aXZlRXZlbnRcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoZXhpc3RpbmdRdWV1ZWRFdmVudCA9IHtcbiAgICAgICAgICAgIGJsb2NrZWRPbjogYmxvY2tlZE9uLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lOiBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzOiBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyczogW3RhcmdldENvbnRhaW5lcl1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBudWxsICE9PSBibG9ja2VkT24gJiZcbiAgICAgICAgICAgICgoYmxvY2tlZE9uID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShibG9ja2VkT24pKSxcbiAgICAgICAgICAgIG51bGwgIT09IGJsb2NrZWRPbiAmJiBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbihibG9ja2VkT24pKSxcbiAgICAgICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50XG4gICAgICAgICk7XG4gICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50LmV2ZW50U3lzdGVtRmxhZ3MgfD0gZXZlbnRTeXN0ZW1GbGFncztcbiAgICAgIGJsb2NrZWRPbiA9IGV4aXN0aW5nUXVldWVkRXZlbnQudGFyZ2V0Q29udGFpbmVycztcbiAgICAgIG51bGwgIT09IHRhcmdldENvbnRhaW5lciAmJlxuICAgICAgICAtMSA9PT0gYmxvY2tlZE9uLmluZGV4T2YodGFyZ2V0Q29udGFpbmVyKSAmJlxuICAgICAgICBibG9ja2VkT24ucHVzaCh0YXJnZXRDb250YWluZXIpO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nUXVldWVkRXZlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHF1ZXVlSWZDb250aW51b3VzRXZlbnQoXG4gICAgICBibG9ja2VkT24sXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChxdWV1ZWRGb2N1cyA9IGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgIHF1ZXVlZEZvY3VzLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHF1ZXVlZERyYWcgPSBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWREcmFnLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHF1ZXVlZE1vdXNlID0gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkTW91c2UsXG4gICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgICAgdmFyIHBvaW50ZXJJZCA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgICBxdWV1ZWRQb2ludGVycy5zZXQoXG4gICAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgICAgICBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWRQb2ludGVycy5nZXQocG9pbnRlcklkKSB8fCBudWxsLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHBvaW50ZXJJZCA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJJZCksXG4gICAgICAgICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuc2V0KFxuICAgICAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgICAgICAgIGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmdldChwb2ludGVySWQpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQocXVldWVkVGFyZ2V0KSB7XG4gICAgICB2YXIgdGFyZ2V0SW5zdCA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHF1ZXVlZFRhcmdldC50YXJnZXQpO1xuICAgICAgaWYgKG51bGwgIT09IHRhcmdldEluc3QpIHtcbiAgICAgICAgdmFyIG5lYXJlc3RNb3VudGVkID0gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcih0YXJnZXRJbnN0KTtcbiAgICAgICAgaWYgKG51bGwgIT09IG5lYXJlc3RNb3VudGVkKVxuICAgICAgICAgIGlmICgoKHRhcmdldEluc3QgPSBuZWFyZXN0TW91bnRlZC50YWcpLCAxMyA9PT0gdGFyZ2V0SW5zdCkpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKCh0YXJnZXRJbnN0ID0gZ2V0U3VzcGVuc2VJbnN0YW5jZUZyb21GaWJlcihuZWFyZXN0TW91bnRlZCkpLFxuICAgICAgICAgICAgICBudWxsICE9PSB0YXJnZXRJbnN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPSB0YXJnZXRJbnN0O1xuICAgICAgICAgICAgICBydW5XaXRoUHJpb3JpdHkocXVldWVkVGFyZ2V0LnByaW9yaXR5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKDEzID09PSBuZWFyZXN0TW91bnRlZC50YWcpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUobmVhcmVzdE1vdW50ZWQpLFxuICAgICAgICAgICAgICAgICAgICByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKG5lYXJlc3RNb3VudGVkLCBsYW5lKTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIG5lYXJlc3RNb3VudGVkLCBsYW5lKTtcbiAgICAgICAgICAgICAgICAgIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKG5lYXJlc3RNb3VudGVkLCBsYW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIDMgPT09IHRhcmdldEluc3QgJiZcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkLnN0YXRlTm9kZS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID1cbiAgICAgICAgICAgICAgMyA9PT0gbmVhcmVzdE1vdW50ZWQudGFnXG4gICAgICAgICAgICAgICAgPyBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRFdmVudCkge1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlZEV2ZW50LmJsb2NrZWRPbikgcmV0dXJuICExO1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHRhcmdldENvbnRhaW5lcnMgPSBxdWV1ZWRFdmVudC50YXJnZXRDb250YWluZXJzO1xuICAgICAgICAwIDwgdGFyZ2V0Q29udGFpbmVycy5sZW5ndGg7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgbmV4dEJsb2NrZWRPbiA9IGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQocXVldWVkRXZlbnQubmF0aXZlRXZlbnQpO1xuICAgICAgICBpZiAobnVsbCA9PT0gbmV4dEJsb2NrZWRPbikge1xuICAgICAgICAgIG5leHRCbG9ja2VkT24gPSBxdWV1ZWRFdmVudC5uYXRpdmVFdmVudDtcbiAgICAgICAgICB2YXIgbmF0aXZlRXZlbnRDbG9uZSA9IG5ldyBuZXh0QmxvY2tlZE9uLmNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgICBuZXh0QmxvY2tlZE9uLnR5cGUsXG4gICAgICAgICAgICAgIG5leHRCbG9ja2VkT25cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBldmVudCA9IG5hdGl2ZUV2ZW50Q2xvbmU7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudFJlcGxheWluZ0V2ZW50ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIGN1cnJlbnRseSByZXBsYXlpbmcgZXZlbnQgdG8gYmUgbnVsbC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50UmVwbGF5aW5nRXZlbnQgPSBldmVudDtcbiAgICAgICAgICBuZXh0QmxvY2tlZE9uLnRhcmdldC5kaXNwYXRjaEV2ZW50KG5hdGl2ZUV2ZW50Q2xvbmUpO1xuICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRSZXBsYXlpbmdFdmVudCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBjdXJyZW50bHkgcmVwbGF5aW5nIGV2ZW50IHRvIG5vdCBiZSBudWxsLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnRSZXBsYXlpbmdFdmVudCA9IG51bGw7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodGFyZ2V0Q29udGFpbmVycyA9IGdldEluc3RhbmNlRnJvbU5vZGUobmV4dEJsb2NrZWRPbikpLFxuICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0Q29udGFpbmVycyAmJlxuICAgICAgICAgICAgICBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbih0YXJnZXRDb250YWluZXJzKSxcbiAgICAgICAgICAgIChxdWV1ZWRFdmVudC5ibG9ja2VkT24gPSBuZXh0QmxvY2tlZE9uKSxcbiAgICAgICAgICAgICExXG4gICAgICAgICAgKTtcbiAgICAgICAgdGFyZ2V0Q29udGFpbmVycy5zaGlmdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50SW5NYXAocXVldWVkRXZlbnQsIGtleSwgbWFwKSB7XG4gICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZEV2ZW50KSAmJiBtYXAuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheVVuYmxvY2tlZEV2ZW50cygpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFJlcGxheUF0dGVtcHQgPSAhMTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZEZvY3VzICYmXG4gICAgICAgIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRm9jdXMpICYmXG4gICAgICAgIChxdWV1ZWRGb2N1cyA9IG51bGwpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkRHJhZyAmJlxuICAgICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZERyYWcpICYmXG4gICAgICAgIChxdWV1ZWREcmFnID0gbnVsbCk7XG4gICAgICBudWxsICE9PSBxdWV1ZWRNb3VzZSAmJlxuICAgICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZE1vdXNlKSAmJlxuICAgICAgICAocXVldWVkTW91c2UgPSBudWxsKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJzLmZvckVhY2goYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5mb3JFYWNoKGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnRJbk1hcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRFdmVudCwgdW5ibG9ja2VkKSB7XG4gICAgICBxdWV1ZWRFdmVudC5ibG9ja2VkT24gPT09IHVuYmxvY2tlZCAmJlxuICAgICAgICAoKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9IG51bGwpLFxuICAgICAgICBoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0IHx8XG4gICAgICAgICAgKChoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0ID0gITApLFxuICAgICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKFxuICAgICAgICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFxuICAgICAgICAgICAgcmVwbGF5VW5ibG9ja2VkRXZlbnRzXG4gICAgICAgICAgKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJlcGxheVF1ZXVlSWZOZWVkZWQoZm9ybVJlcGxheWluZ1F1ZXVlKSB7XG4gICAgICBsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgIT09IGZvcm1SZXBsYXlpbmdRdWV1ZSAmJlxuICAgICAgICAoKGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSA9IGZvcm1SZXBsYXlpbmdRdWV1ZSksXG4gICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKFxuICAgICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPT09IGZvcm1SZXBsYXlpbmdRdWV1ZSAmJlxuICAgICAgICAgICAgICAobGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID0gbnVsbCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1SZXBsYXlpbmdRdWV1ZS5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICB2YXIgZm9ybSA9IGZvcm1SZXBsYXlpbmdRdWV1ZVtpXSxcbiAgICAgICAgICAgICAgICBzdWJtaXR0ZXJPckFjdGlvbiA9IGZvcm1SZXBsYXlpbmdRdWV1ZVtpICsgMV0sXG4gICAgICAgICAgICAgICAgZm9ybURhdGEgPSBmb3JtUmVwbGF5aW5nUXVldWVbaSArIDJdO1xuICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygc3VibWl0dGVyT3JBY3Rpb24pXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQoc3VibWl0dGVyT3JBY3Rpb24gfHwgZm9ybSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgICB2YXIgZm9ybUluc3QgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKGZvcm0pO1xuICAgICAgICAgICAgICBudWxsICE9PSBmb3JtSW5zdCAmJlxuICAgICAgICAgICAgICAgIChmb3JtUmVwbGF5aW5nUXVldWUuc3BsaWNlKGksIDMpLFxuICAgICAgICAgICAgICAgIChpIC09IDMpLFxuICAgICAgICAgICAgICAgIChmb3JtID0ge1xuICAgICAgICAgICAgICAgICAgcGVuZGluZzogITAsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogZm9ybS5tZXRob2QsXG4gICAgICAgICAgICAgICAgICBhY3Rpb246IHN1Ym1pdHRlck9yQWN0aW9uXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShmb3JtKSxcbiAgICAgICAgICAgICAgICBzdGFydEhvc3RUcmFuc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgZm9ybUluc3QsXG4gICAgICAgICAgICAgICAgICBmb3JtLFxuICAgICAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24sXG4gICAgICAgICAgICAgICAgICBmb3JtRGF0YVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5SWZCbG9ja2VkT24odW5ibG9ja2VkKSB7XG4gICAgICBmdW5jdGlvbiB1bmJsb2NrKHF1ZXVlZEV2ZW50KSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRXZlbnQsIHVuYmxvY2tlZCk7XG4gICAgICB9XG4gICAgICBudWxsICE9PSBxdWV1ZWRGb2N1cyAmJlxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRm9jdXMsIHVuYmxvY2tlZCk7XG4gICAgICBudWxsICE9PSBxdWV1ZWREcmFnICYmIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWREcmFnLCB1bmJsb2NrZWQpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkTW91c2UgJiZcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZE1vdXNlLCB1bmJsb2NrZWQpO1xuICAgICAgcXVldWVkUG9pbnRlcnMuZm9yRWFjaCh1bmJsb2NrKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5mb3JFYWNoKHVuYmxvY2spO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHF1ZXVlZFRhcmdldCA9IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0c1tpXTtcbiAgICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9PT0gdW5ibG9ja2VkICYmIChxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gbnVsbCk7XG4gICAgICB9XG4gICAgICBmb3IgKFxuICAgICAgICA7XG4gICAgICAgIDAgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMubGVuZ3RoICYmXG4gICAgICAgICgoaSA9IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0c1swXSksIG51bGwgPT09IGkuYmxvY2tlZE9uKTtcblxuICAgICAgKVxuICAgICAgICBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQoaSksXG4gICAgICAgICAgbnVsbCA9PT0gaS5ibG9ja2VkT24gJiYgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLnNoaWZ0KCk7XG4gICAgICBpID0gKHVuYmxvY2tlZC5vd25lckRvY3VtZW50IHx8IHVuYmxvY2tlZCkuJCRyZWFjdEZvcm1SZXBsYXk7XG4gICAgICBpZiAobnVsbCAhPSBpKVxuICAgICAgICBmb3IgKHF1ZXVlZFRhcmdldCA9IDA7IHF1ZXVlZFRhcmdldCA8IGkubGVuZ3RoOyBxdWV1ZWRUYXJnZXQgKz0gMykge1xuICAgICAgICAgIHZhciBmb3JtID0gaVtxdWV1ZWRUYXJnZXRdLFxuICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24gPSBpW3F1ZXVlZFRhcmdldCArIDFdLFxuICAgICAgICAgICAgZm9ybVByb3BzID0gZm9ybVtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzdWJtaXR0ZXJPckFjdGlvbilcbiAgICAgICAgICAgIGZvcm1Qcm9wcyB8fCBzY2hlZHVsZVJlcGxheVF1ZXVlSWZOZWVkZWQoaSk7XG4gICAgICAgICAgZWxzZSBpZiAoZm9ybVByb3BzKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24gJiZcbiAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24uaGFzQXR0cmlidXRlKFwiZm9ybUFjdGlvblwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKChmb3JtID0gc3VibWl0dGVyT3JBY3Rpb24pLFxuICAgICAgICAgICAgICAgIChmb3JtUHJvcHMgPSBzdWJtaXR0ZXJPckFjdGlvbltpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IGZvcm1Qcm9wcy5mb3JtQWN0aW9uO1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQoZm9ybSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGFjdGlvbiA9IGZvcm1Qcm9wcy5hY3Rpb247XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb25cbiAgICAgICAgICAgICAgPyAoaVtxdWV1ZWRUYXJnZXQgKyAxXSA9IGFjdGlvbilcbiAgICAgICAgICAgICAgOiAoaS5zcGxpY2UocXVldWVkVGFyZ2V0LCAzKSwgKHF1ZXVlZFRhcmdldCAtPSAzKSk7XG4gICAgICAgICAgICBzY2hlZHVsZVJlcGxheVF1ZXVlSWZOZWVkZWQoaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RE9NUm9vdChpbnRlcm5hbFJvb3QpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsUm9vdCA9IGludGVybmFsUm9vdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RET01IeWRyYXRpb25Sb290KGludGVybmFsUm9vdCkge1xuICAgICAgdGhpcy5faW50ZXJuYWxSb290ID0gaW50ZXJuYWxSb290O1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldICYmXG4gICAgICAgIChjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgYXJlIGNhbGxpbmcgUmVhY3RET01DbGllbnQuY3JlYXRlUm9vdCgpIG9uIGEgY29udGFpbmVyIHRoYXQgd2FzIHByZXZpb3VzbHkgcGFzc2VkIHRvIFJlYWN0RE9NLnJlbmRlcigpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGFyZSBjYWxsaW5nIFJlYWN0RE9NQ2xpZW50LmNyZWF0ZVJvb3QoKSBvbiBhIGNvbnRhaW5lciB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcGFzc2VkIHRvIGNyZWF0ZVJvb3QoKSBiZWZvcmUuIEluc3RlYWQsIGNhbGwgcm9vdC5yZW5kZXIoKSBvbiB0aGUgZXhpc3Rpbmcgcm9vdCBpbnN0ZWFkIGlmIHlvdSB3YW50IHRvIHVwZGF0ZSBpdC5cIlxuICAgICAgICAgICAgKSk7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFNjaGVkdWxlciA9IHJlcXVpcmUoXCJzY2hlZHVsZXJcIiksXG4gICAgICBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKSxcbiAgICAgIFJlYWN0RE9NID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKSxcbiAgICAgIFJFQUNUX0xFR0FDWV9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxcbiAgICAgIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIiksXG4gICAgICBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3Quc2NvcGVcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LmRlYnVnX3RyYWNlX21vZGVcIik7XG4gICAgdmFyIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QubGVnYWN5X2hpZGRlblwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QudHJhY2luZ19tYXJrZXJcIik7XG4gICAgdmFyIFJFQUNUX01FTU9fQ0FDSEVfU0VOVElORUwgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcbiAgICAgIGRpc2FibGVkRGVwdGggPSAwLFxuICAgICAgcHJldkxvZyxcbiAgICAgIHByZXZJbmZvLFxuICAgICAgcHJldldhcm4sXG4gICAgICBwcmV2RXJyb3IsXG4gICAgICBwcmV2R3JvdXAsXG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQsXG4gICAgICBwcmV2R3JvdXBFbmQ7XG4gICAgZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gITA7XG4gICAgdmFyIHByZWZpeCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHJlZW50cnkgPSAhMTtcbiAgICB2YXIgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyAoXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcFxuICAgICkoKTtcbiAgICB2YXIgY3VycmVudCA9IG51bGwsXG4gICAgICBpc1JlbmRlcmluZyA9ICExLFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdERPTS5fX0RPTV9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBOb3RQZW5kaW5nID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIHBlbmRpbmc6ICExLFxuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBtZXRob2Q6IG51bGwsXG4gICAgICAgIGFjdGlvbjogbnVsbFxuICAgICAgfSksXG4gICAgICB2YWx1ZVN0YWNrID0gW107XG4gICAgdmFyIGZpYmVyU3RhY2sgPSBbXTtcbiAgICB2YXIgaW5kZXgkanNjb21wJDAgPSAtMSxcbiAgICAgIGNvbnRleHRTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgc2NoZWR1bGVDYWxsYmFjayQzID0gU2NoZWR1bGVyLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2ssXG4gICAgICBjYW5jZWxDYWxsYmFjayQxID0gU2NoZWR1bGVyLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLFxuICAgICAgc2hvdWxkWWllbGQgPSBTY2hlZHVsZXIudW5zdGFibGVfc2hvdWxkWWllbGQsXG4gICAgICByZXF1ZXN0UGFpbnQgPSBTY2hlZHVsZXIudW5zdGFibGVfcmVxdWVzdFBhaW50LFxuICAgICAgbm93JDEgPSBTY2hlZHVsZXIudW5zdGFibGVfbm93LFxuICAgICAgZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwgPSBTY2hlZHVsZXIudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsXG4gICAgICBJbW1lZGlhdGVQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxcbiAgICAgIFVzZXJCbG9ja2luZ1ByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LFxuICAgICAgTm9ybWFsUHJpb3JpdHkkMSA9IFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgIExvd1ByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX0xvd1ByaW9yaXR5LFxuICAgICAgSWRsZVByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX0lkbGVQcmlvcml0eSxcbiAgICAgIGxvZyQxID0gU2NoZWR1bGVyLmxvZyxcbiAgICAgIHVuc3RhYmxlX3NldERpc2FibGVZaWVsZFZhbHVlID0gU2NoZWR1bGVyLnVuc3RhYmxlX3NldERpc2FibGVZaWVsZFZhbHVlLFxuICAgICAgcmVuZGVyZXJJRCA9IG51bGwsXG4gICAgICBpbmplY3RlZEhvb2sgPSBudWxsLFxuICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcyA9IG51bGwsXG4gICAgICBoYXNMb2dnZWRFcnJvciA9ICExLFxuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgPSBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLFxuICAgICAgY2x6MzIgPSBNYXRoLmNsejMyID8gTWF0aC5jbHozMiA6IGNsejMyRmFsbGJhY2ssXG4gICAgICBsb2cgPSBNYXRoLmxvZyxcbiAgICAgIExOMiA9IE1hdGguTE4yLFxuICAgICAgbmV4dFRyYW5zaXRpb25MYW5lID0gMTI4LFxuICAgICAgbmV4dFJldHJ5TGFuZSA9IDQxOTQzMDQsXG4gICAgICBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkgPSAyLFxuICAgICAgQ29udGludW91c0V2ZW50UHJpb3JpdHkgPSA4LFxuICAgICAgRGVmYXVsdEV2ZW50UHJpb3JpdHkgPSAzMixcbiAgICAgIElkbGVFdmVudFByaW9yaXR5ID0gMjY4NDM1NDU2LFxuICAgICAgcmFuZG9tS2V5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksXG4gICAgICBpbnRlcm5hbEluc3RhbmNlS2V5ID0gXCJfX3JlYWN0RmliZXIkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbFByb3BzS2V5ID0gXCJfX3JlYWN0UHJvcHMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5ID0gXCJfX3JlYWN0Q29udGFpbmVyJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5ID0gXCJfX3JlYWN0RXZlbnRzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxFdmVudEhhbmRsZXJMaXN0ZW5lcnNLZXkgPSBcIl9fcmVhY3RMaXN0ZW5lcnMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbEV2ZW50SGFuZGxlc1NldEtleSA9IFwiX19yZWFjdEhhbmRsZXMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbFJvb3ROb2RlUmVzb3VyY2VzS2V5ID0gXCJfX3JlYWN0UmVzb3VyY2VzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxIb2lzdGFibGVNYXJrZXIgPSBcIl9fcmVhY3RNYXJrZXIkXCIgKyByYW5kb21LZXksXG4gICAgICBhbGxOYXRpdmVFdmVudHMgPSBuZXcgU2V0KCksXG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzID0ge30sXG4gICAgICBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzID0ge30sXG4gICAgICBjYW5Vc2VET00gPSAhKFxuICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2Ygd2luZG93IHx8XG4gICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgfHxcbiAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50XG4gICAgICApLFxuICAgICAgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICAgICAgYnV0dG9uOiAhMCxcbiAgICAgICAgY2hlY2tib3g6ICEwLFxuICAgICAgICBpbWFnZTogITAsXG4gICAgICAgIGhpZGRlbjogITAsXG4gICAgICAgIHJhZGlvOiAhMCxcbiAgICAgICAgcmVzZXQ6ICEwLFxuICAgICAgICBzdWJtaXQ6ICEwXG4gICAgICB9LFxuICAgICAgVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVggPSBSZWdFeHAoXG4gICAgICAgIFwiXls6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fSxcbiAgICAgIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9LFxuICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlc1JlZ2V4ID0gL1tcXG5cIlxcXFxdL2csXG4gICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9ICExLFxuICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9ICExLFxuICAgICAgZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gPSAhMSxcbiAgICAgIGRpZFdhcm5JbnZhbGlkQ2hpbGQgPSAhMSxcbiAgICAgIGRpZFdhcm5JbnZhbGlkSW5uZXJIVE1MID0gITE7XG4gICAgdmFyIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9ICExO1xuICAgIHZhciB2YWx1ZVByb3BOYW1lcyA9IFtcInZhbHVlXCIsIFwiZGVmYXVsdFZhbHVlXCJdLFxuICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgPSAhMSxcbiAgICAgIG5lZWRzRXNjYXBpbmcgPSAvW1wiJyY8PlxcblxcdF18Xlxcc3xcXHMkLyxcbiAgICAgIHNwZWNpYWxUYWdzID1cbiAgICAgICAgXCJhZGRyZXNzIGFwcGxldCBhcmVhIGFydGljbGUgYXNpZGUgYmFzZSBiYXNlZm9udCBiZ3NvdW5kIGJsb2NrcXVvdGUgYm9keSBiciBidXR0b24gY2FwdGlvbiBjZW50ZXIgY29sIGNvbGdyb3VwIGRkIGRldGFpbHMgZGlyIGRpdiBkbCBkdCBlbWJlZCBmaWVsZHNldCBmaWdjYXB0aW9uIGZpZ3VyZSBmb290ZXIgZm9ybSBmcmFtZSBmcmFtZXNldCBoMSBoMiBoMyBoNCBoNSBoNiBoZWFkIGhlYWRlciBoZ3JvdXAgaHIgaHRtbCBpZnJhbWUgaW1nIGlucHV0IGlzaW5kZXggbGkgbGluayBsaXN0aW5nIG1haW4gbWFycXVlZSBtZW51IG1lbnVpdGVtIG1ldGEgbmF2IG5vZW1iZWQgbm9mcmFtZXMgbm9zY3JpcHQgb2JqZWN0IG9sIHAgcGFyYW0gcGxhaW50ZXh0IHByZSBzY3JpcHQgc2VjdGlvbiBzZWxlY3Qgc291cmNlIHN0eWxlIHN1bW1hcnkgdGFibGUgdGJvZHkgdGQgdGVtcGxhdGUgdGV4dGFyZWEgdGZvb3QgdGggdGhlYWQgdGl0bGUgdHIgdHJhY2sgdWwgd2JyIHhtcFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBpblNjb3BlVGFncyA9XG4gICAgICAgIFwiYXBwbGV0IGNhcHRpb24gaHRtbCB0YWJsZSB0ZCB0aCBtYXJxdWVlIG9iamVjdCB0ZW1wbGF0ZSBmb3JlaWduT2JqZWN0IGRlc2MgdGl0bGVcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgYnV0dG9uU2NvcGVUYWdzID0gaW5TY29wZVRhZ3MuY29uY2F0KFtcImJ1dHRvblwiXSksXG4gICAgICBpbXBsaWVkRW5kVGFncyA9IFwiZGQgZHQgbGkgb3B0aW9uIG9wdGdyb3VwIHAgcnAgcnRcIi5zcGxpdChcIiBcIiksXG4gICAgICBlbXB0eUFuY2VzdG9ySW5mb0RldiA9IHtcbiAgICAgICAgY3VycmVudDogbnVsbCxcbiAgICAgICAgZm9ybVRhZzogbnVsbCxcbiAgICAgICAgYVRhZ0luU2NvcGU6IG51bGwsXG4gICAgICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgICAgIG5vYnJUYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBwVGFnSW5CdXR0b25TY29wZTogbnVsbCxcbiAgICAgICAgbGlzdEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbCxcbiAgICAgICAgZGxJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgICAgIGNvbnRhaW5lclRhZ0luU2NvcGU6IG51bGxcbiAgICAgIH0sXG4gICAgICBkaWRXYXJuID0ge30sXG4gICAgICBNQVRIX05BTUVTUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLFxuICAgICAgU1ZHX05BTUVTUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHNob3J0aGFuZFRvTG9uZ2hhbmQgPSB7XG4gICAgICAgIGFuaW1hdGlvbjpcbiAgICAgICAgICBcImFuaW1hdGlvbkRlbGF5IGFuaW1hdGlvbkRpcmVjdGlvbiBhbmltYXRpb25EdXJhdGlvbiBhbmltYXRpb25GaWxsTW9kZSBhbmltYXRpb25JdGVyYXRpb25Db3VudCBhbmltYXRpb25OYW1lIGFuaW1hdGlvblBsYXlTdGF0ZSBhbmltYXRpb25UaW1pbmdGdW5jdGlvblwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBiYWNrZ3JvdW5kOlxuICAgICAgICAgIFwiYmFja2dyb3VuZEF0dGFjaG1lbnQgYmFja2dyb3VuZENsaXAgYmFja2dyb3VuZENvbG9yIGJhY2tncm91bmRJbWFnZSBiYWNrZ3JvdW5kT3JpZ2luIGJhY2tncm91bmRQb3NpdGlvblggYmFja2dyb3VuZFBvc2l0aW9uWSBiYWNrZ3JvdW5kUmVwZWF0IGJhY2tncm91bmRTaXplXCIuc3BsaXQoXG4gICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICksXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogW1wiYmFja2dyb3VuZFBvc2l0aW9uWFwiLCBcImJhY2tncm91bmRQb3NpdGlvbllcIl0sXG4gICAgICAgIGJvcmRlcjpcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckJvdHRvbVN0eWxlIGJvcmRlckJvdHRvbVdpZHRoIGJvcmRlckltYWdlT3V0c2V0IGJvcmRlckltYWdlUmVwZWF0IGJvcmRlckltYWdlU2xpY2UgYm9yZGVySW1hZ2VTb3VyY2UgYm9yZGVySW1hZ2VXaWR0aCBib3JkZXJMZWZ0Q29sb3IgYm9yZGVyTGVmdFN0eWxlIGJvcmRlckxlZnRXaWR0aCBib3JkZXJSaWdodENvbG9yIGJvcmRlclJpZ2h0U3R5bGUgYm9yZGVyUmlnaHRXaWR0aCBib3JkZXJUb3BDb2xvciBib3JkZXJUb3BTdHlsZSBib3JkZXJUb3BXaWR0aFwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBib3JkZXJCbG9ja0VuZDogW1xuICAgICAgICAgIFwiYm9yZGVyQmxvY2tFbmRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tFbmRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tFbmRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckJsb2NrU3RhcnQ6IFtcbiAgICAgICAgICBcImJvcmRlckJsb2NrU3RhcnRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tTdGFydFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJCbG9ja1N0YXJ0V2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJCb3R0b206IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUNvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21TdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyQm90dG9tV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJDb2xvcjogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckxlZnRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wQ29sb3JcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJJbWFnZTogW1xuICAgICAgICAgIFwiYm9yZGVySW1hZ2VPdXRzZXRcIixcbiAgICAgICAgICBcImJvcmRlckltYWdlUmVwZWF0XCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVNsaWNlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVNvdXJjZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlcklubGluZUVuZDogW1xuICAgICAgICAgIFwiYm9yZGVySW5saW5lRW5kQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlcklubGluZUVuZFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVFbmRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlcklubGluZVN0YXJ0OiBbXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVTdGFydENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVTdGFydFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVTdGFydFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyTGVmdDogW1wiYm9yZGVyTGVmdENvbG9yXCIsIFwiYm9yZGVyTGVmdFN0eWxlXCIsIFwiYm9yZGVyTGVmdFdpZHRoXCJdLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUxlZnRSYWRpdXNcIixcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BMZWZ0UmFkaXVzXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BSaWdodFJhZGl1c1wiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlclJpZ2h0OiBbXG4gICAgICAgICAgXCJib3JkZXJSaWdodENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyU3R5bGU6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJMZWZ0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlclRvcFN0eWxlXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyVG9wOiBbXCJib3JkZXJUb3BDb2xvclwiLCBcImJvcmRlclRvcFN0eWxlXCIsIFwiYm9yZGVyVG9wV2lkdGhcIl0sXG4gICAgICAgIGJvcmRlcldpZHRoOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21XaWR0aFwiLFxuICAgICAgICAgIFwiYm9yZGVyTGVmdFdpZHRoXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFdpZHRoXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGNvbHVtblJ1bGU6IFtcImNvbHVtblJ1bGVDb2xvclwiLCBcImNvbHVtblJ1bGVTdHlsZVwiLCBcImNvbHVtblJ1bGVXaWR0aFwiXSxcbiAgICAgICAgY29sdW1uczogW1wiY29sdW1uQ291bnRcIiwgXCJjb2x1bW5XaWR0aFwiXSxcbiAgICAgICAgZmxleDogW1wiZmxleEJhc2lzXCIsIFwiZmxleEdyb3dcIiwgXCJmbGV4U2hyaW5rXCJdLFxuICAgICAgICBmbGV4RmxvdzogW1wiZmxleERpcmVjdGlvblwiLCBcImZsZXhXcmFwXCJdLFxuICAgICAgICBmb250OiBcImZvbnRGYW1pbHkgZm9udEZlYXR1cmVTZXR0aW5ncyBmb250S2VybmluZyBmb250TGFuZ3VhZ2VPdmVycmlkZSBmb250U2l6ZSBmb250U2l6ZUFkanVzdCBmb250U3RyZXRjaCBmb250U3R5bGUgZm9udFZhcmlhbnQgZm9udFZhcmlhbnRBbHRlcm5hdGVzIGZvbnRWYXJpYW50Q2FwcyBmb250VmFyaWFudEVhc3RBc2lhbiBmb250VmFyaWFudExpZ2F0dXJlcyBmb250VmFyaWFudE51bWVyaWMgZm9udFZhcmlhbnRQb3NpdGlvbiBmb250V2VpZ2h0IGxpbmVIZWlnaHRcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgICBmb250VmFyaWFudDpcbiAgICAgICAgICBcImZvbnRWYXJpYW50QWx0ZXJuYXRlcyBmb250VmFyaWFudENhcHMgZm9udFZhcmlhbnRFYXN0QXNpYW4gZm9udFZhcmlhbnRMaWdhdHVyZXMgZm9udFZhcmlhbnROdW1lcmljIGZvbnRWYXJpYW50UG9zaXRpb25cIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgZ2FwOiBbXCJjb2x1bW5HYXBcIiwgXCJyb3dHYXBcIl0sXG4gICAgICAgIGdyaWQ6IFwiZ3JpZEF1dG9Db2x1bW5zIGdyaWRBdXRvRmxvdyBncmlkQXV0b1Jvd3MgZ3JpZFRlbXBsYXRlQXJlYXMgZ3JpZFRlbXBsYXRlQ29sdW1ucyBncmlkVGVtcGxhdGVSb3dzXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgICAgZ3JpZEFyZWE6IFtcbiAgICAgICAgICBcImdyaWRDb2x1bW5FbmRcIixcbiAgICAgICAgICBcImdyaWRDb2x1bW5TdGFydFwiLFxuICAgICAgICAgIFwiZ3JpZFJvd0VuZFwiLFxuICAgICAgICAgIFwiZ3JpZFJvd1N0YXJ0XCJcbiAgICAgICAgXSxcbiAgICAgICAgZ3JpZENvbHVtbjogW1wiZ3JpZENvbHVtbkVuZFwiLCBcImdyaWRDb2x1bW5TdGFydFwiXSxcbiAgICAgICAgZ3JpZENvbHVtbkdhcDogW1wiY29sdW1uR2FwXCJdLFxuICAgICAgICBncmlkR2FwOiBbXCJjb2x1bW5HYXBcIiwgXCJyb3dHYXBcIl0sXG4gICAgICAgIGdyaWRSb3c6IFtcImdyaWRSb3dFbmRcIiwgXCJncmlkUm93U3RhcnRcIl0sXG4gICAgICAgIGdyaWRSb3dHYXA6IFtcInJvd0dhcFwiXSxcbiAgICAgICAgZ3JpZFRlbXBsYXRlOiBbXG4gICAgICAgICAgXCJncmlkVGVtcGxhdGVBcmVhc1wiLFxuICAgICAgICAgIFwiZ3JpZFRlbXBsYXRlQ29sdW1uc1wiLFxuICAgICAgICAgIFwiZ3JpZFRlbXBsYXRlUm93c1wiXG4gICAgICAgIF0sXG4gICAgICAgIGxpc3RTdHlsZTogW1wibGlzdFN0eWxlSW1hZ2VcIiwgXCJsaXN0U3R5bGVQb3NpdGlvblwiLCBcImxpc3RTdHlsZVR5cGVcIl0sXG4gICAgICAgIG1hcmdpbjogW1wibWFyZ2luQm90dG9tXCIsIFwibWFyZ2luTGVmdFwiLCBcIm1hcmdpblJpZ2h0XCIsIFwibWFyZ2luVG9wXCJdLFxuICAgICAgICBtYXJrZXI6IFtcIm1hcmtlckVuZFwiLCBcIm1hcmtlck1pZFwiLCBcIm1hcmtlclN0YXJ0XCJdLFxuICAgICAgICBtYXNrOiBcIm1hc2tDbGlwIG1hc2tDb21wb3NpdGUgbWFza0ltYWdlIG1hc2tNb2RlIG1hc2tPcmlnaW4gbWFza1Bvc2l0aW9uWCBtYXNrUG9zaXRpb25ZIG1hc2tSZXBlYXQgbWFza1NpemVcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgICBtYXNrUG9zaXRpb246IFtcIm1hc2tQb3NpdGlvblhcIiwgXCJtYXNrUG9zaXRpb25ZXCJdLFxuICAgICAgICBvdXRsaW5lOiBbXCJvdXRsaW5lQ29sb3JcIiwgXCJvdXRsaW5lU3R5bGVcIiwgXCJvdXRsaW5lV2lkdGhcIl0sXG4gICAgICAgIG92ZXJmbG93OiBbXCJvdmVyZmxvd1hcIiwgXCJvdmVyZmxvd1lcIl0sXG4gICAgICAgIHBhZGRpbmc6IFtcInBhZGRpbmdCb3R0b21cIiwgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdSaWdodFwiLCBcInBhZGRpbmdUb3BcIl0sXG4gICAgICAgIHBsYWNlQ29udGVudDogW1wiYWxpZ25Db250ZW50XCIsIFwianVzdGlmeUNvbnRlbnRcIl0sXG4gICAgICAgIHBsYWNlSXRlbXM6IFtcImFsaWduSXRlbXNcIiwgXCJqdXN0aWZ5SXRlbXNcIl0sXG4gICAgICAgIHBsYWNlU2VsZjogW1wiYWxpZ25TZWxmXCIsIFwianVzdGlmeVNlbGZcIl0sXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBbXG4gICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvbkNvbG9yXCIsXG4gICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvbkxpbmVcIixcbiAgICAgICAgICBcInRleHREZWNvcmF0aW9uU3R5bGVcIlxuICAgICAgICBdLFxuICAgICAgICB0ZXh0RW1waGFzaXM6IFtcInRleHRFbXBoYXNpc0NvbG9yXCIsIFwidGV4dEVtcGhhc2lzU3R5bGVcIl0sXG4gICAgICAgIHRyYW5zaXRpb246IFtcbiAgICAgICAgICBcInRyYW5zaXRpb25EZWxheVwiLFxuICAgICAgICAgIFwidHJhbnNpdGlvbkR1cmF0aW9uXCIsXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uUHJvcGVydHlcIixcbiAgICAgICAgICBcInRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblwiXG4gICAgICAgIF0sXG4gICAgICAgIHdvcmRXcmFwOiBbXCJvdmVyZmxvd1dyYXBcIl1cbiAgICAgIH0sXG4gICAgICB1cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZyxcbiAgICAgIG1zUGF0dGVybiQxID0gL15tcy0vLFxuICAgICAgYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuID0gL14oPzp3ZWJraXR8bW96fG8pW0EtWl0vLFxuICAgICAgbXNQYXR0ZXJuID0gL14tbXMtLyxcbiAgICAgIGh5cGhlblBhdHRlcm4gPSAvLSguKS9nLFxuICAgICAgYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuID0gLztcXHMqJC8sXG4gICAgICB3YXJuZWRTdHlsZU5hbWVzID0ge30sXG4gICAgICB3YXJuZWRTdHlsZVZhbHVlcyA9IHt9LFxuICAgICAgd2FybmVkRm9yTmFOVmFsdWUgPSAhMSxcbiAgICAgIHdhcm5lZEZvckluZmluaXR5VmFsdWUgPSAhMSxcbiAgICAgIHVuaXRsZXNzTnVtYmVycyA9IG5ldyBTZXQoXG4gICAgICAgIFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgYXNwZWN0UmF0aW8gYm9yZGVySW1hZ2VPdXRzZXQgYm9yZGVySW1hZ2VTbGljZSBib3JkZXJJbWFnZVdpZHRoIGJveEZsZXggYm94RmxleEdyb3VwIGJveE9yZGluYWxHcm91cCBjb2x1bW5Db3VudCBjb2x1bW5zIGZsZXggZmxleEdyb3cgZmxleFBvc2l0aXZlIGZsZXhTaHJpbmsgZmxleE5lZ2F0aXZlIGZsZXhPcmRlciBncmlkQXJlYSBncmlkUm93IGdyaWRSb3dFbmQgZ3JpZFJvd1NwYW4gZ3JpZFJvd1N0YXJ0IGdyaWRDb2x1bW4gZ3JpZENvbHVtbkVuZCBncmlkQ29sdW1uU3BhbiBncmlkQ29sdW1uU3RhcnQgZm9udFdlaWdodCBsaW5lQ2xhbXAgbGluZUhlaWdodCBvcGFjaXR5IG9yZGVyIG9ycGhhbnMgc2NhbGUgdGFiU2l6ZSB3aWRvd3MgekluZGV4IHpvb20gZmlsbE9wYWNpdHkgZmxvb2RPcGFjaXR5IHN0b3BPcGFjaXR5IHN0cm9rZURhc2hhcnJheSBzdHJva2VEYXNob2Zmc2V0IHN0cm9rZU1pdGVybGltaXQgc3Ryb2tlT3BhY2l0eSBzdHJva2VXaWR0aCBNb3pBbmltYXRpb25JdGVyYXRpb25Db3VudCBNb3pCb3hGbGV4IE1vekJveEZsZXhHcm91cCBNb3pMaW5lQ2xhbXAgbXNBbmltYXRpb25JdGVyYXRpb25Db3VudCBtc0ZsZXggbXNab29tIG1zRmxleEdyb3cgbXNGbGV4TmVnYXRpdmUgbXNGbGV4T3JkZXIgbXNGbGV4UG9zaXRpdmUgbXNGbGV4U2hyaW5rIG1zR3JpZENvbHVtbiBtc0dyaWRDb2x1bW5TcGFuIG1zR3JpZFJvdyBtc0dyaWRSb3dTcGFuIFdlYmtpdEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IFdlYmtpdEJveEZsZXggV2ViS2l0Qm94RmxleEdyb3VwIFdlYmtpdEJveE9yZGluYWxHcm91cCBXZWJraXRDb2x1bW5Db3VudCBXZWJraXRDb2x1bW5zIFdlYmtpdEZsZXggV2Via2l0RmxleEdyb3cgV2Via2l0RmxleFBvc2l0aXZlIFdlYmtpdEZsZXhTaHJpbmsgV2Via2l0TGluZUNsYW1wXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIGFsaWFzZXMgPSBuZXcgTWFwKFtcbiAgICAgICAgW1wiYWNjZXB0Q2hhcnNldFwiLCBcImFjY2VwdC1jaGFyc2V0XCJdLFxuICAgICAgICBbXCJodG1sRm9yXCIsIFwiZm9yXCJdLFxuICAgICAgICBbXCJodHRwRXF1aXZcIiwgXCJodHRwLWVxdWl2XCJdLFxuICAgICAgICBbXCJjcm9zc09yaWdpblwiLCBcImNyb3Nzb3JpZ2luXCJdLFxuICAgICAgICBbXCJhY2NlbnRIZWlnaHRcIiwgXCJhY2NlbnQtaGVpZ2h0XCJdLFxuICAgICAgICBbXCJhbGlnbm1lbnRCYXNlbGluZVwiLCBcImFsaWdubWVudC1iYXNlbGluZVwiXSxcbiAgICAgICAgW1wiYXJhYmljRm9ybVwiLCBcImFyYWJpYy1mb3JtXCJdLFxuICAgICAgICBbXCJiYXNlbGluZVNoaWZ0XCIsIFwiYmFzZWxpbmUtc2hpZnRcIl0sXG4gICAgICAgIFtcImNhcEhlaWdodFwiLCBcImNhcC1oZWlnaHRcIl0sXG4gICAgICAgIFtcImNsaXBQYXRoXCIsIFwiY2xpcC1wYXRoXCJdLFxuICAgICAgICBbXCJjbGlwUnVsZVwiLCBcImNsaXAtcnVsZVwiXSxcbiAgICAgICAgW1wiY29sb3JJbnRlcnBvbGF0aW9uXCIsIFwiY29sb3ItaW50ZXJwb2xhdGlvblwiXSxcbiAgICAgICAgW1wiY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc1wiLCBcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiXSxcbiAgICAgICAgW1wiY29sb3JQcm9maWxlXCIsIFwiY29sb3ItcHJvZmlsZVwiXSxcbiAgICAgICAgW1wiY29sb3JSZW5kZXJpbmdcIiwgXCJjb2xvci1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcImRvbWluYW50QmFzZWxpbmVcIiwgXCJkb21pbmFudC1iYXNlbGluZVwiXSxcbiAgICAgICAgW1wiZW5hYmxlQmFja2dyb3VuZFwiLCBcImVuYWJsZS1iYWNrZ3JvdW5kXCJdLFxuICAgICAgICBbXCJmaWxsT3BhY2l0eVwiLCBcImZpbGwtb3BhY2l0eVwiXSxcbiAgICAgICAgW1wiZmlsbFJ1bGVcIiwgXCJmaWxsLXJ1bGVcIl0sXG4gICAgICAgIFtcImZsb29kQ29sb3JcIiwgXCJmbG9vZC1jb2xvclwiXSxcbiAgICAgICAgW1wiZmxvb2RPcGFjaXR5XCIsIFwiZmxvb2Qtb3BhY2l0eVwiXSxcbiAgICAgICAgW1wiZm9udEZhbWlseVwiLCBcImZvbnQtZmFtaWx5XCJdLFxuICAgICAgICBbXCJmb250U2l6ZVwiLCBcImZvbnQtc2l6ZVwiXSxcbiAgICAgICAgW1wiZm9udFNpemVBZGp1c3RcIiwgXCJmb250LXNpemUtYWRqdXN0XCJdLFxuICAgICAgICBbXCJmb250U3RyZXRjaFwiLCBcImZvbnQtc3RyZXRjaFwiXSxcbiAgICAgICAgW1wiZm9udFN0eWxlXCIsIFwiZm9udC1zdHlsZVwiXSxcbiAgICAgICAgW1wiZm9udFZhcmlhbnRcIiwgXCJmb250LXZhcmlhbnRcIl0sXG4gICAgICAgIFtcImZvbnRXZWlnaHRcIiwgXCJmb250LXdlaWdodFwiXSxcbiAgICAgICAgW1wiZ2x5cGhOYW1lXCIsIFwiZ2x5cGgtbmFtZVwiXSxcbiAgICAgICAgW1wiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWxcIiwgXCJnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsXCJdLFxuICAgICAgICBbXCJnbHlwaE9yaWVudGF0aW9uVmVydGljYWxcIiwgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiXSxcbiAgICAgICAgW1wiaG9yaXpBZHZYXCIsIFwiaG9yaXotYWR2LXhcIl0sXG4gICAgICAgIFtcImhvcml6T3JpZ2luWFwiLCBcImhvcml6LW9yaWdpbi14XCJdLFxuICAgICAgICBbXCJpbWFnZVJlbmRlcmluZ1wiLCBcImltYWdlLXJlbmRlcmluZ1wiXSxcbiAgICAgICAgW1wibGV0dGVyU3BhY2luZ1wiLCBcImxldHRlci1zcGFjaW5nXCJdLFxuICAgICAgICBbXCJsaWdodGluZ0NvbG9yXCIsIFwibGlnaHRpbmctY29sb3JcIl0sXG4gICAgICAgIFtcIm1hcmtlckVuZFwiLCBcIm1hcmtlci1lbmRcIl0sXG4gICAgICAgIFtcIm1hcmtlck1pZFwiLCBcIm1hcmtlci1taWRcIl0sXG4gICAgICAgIFtcIm1hcmtlclN0YXJ0XCIsIFwibWFya2VyLXN0YXJ0XCJdLFxuICAgICAgICBbXCJvdmVybGluZVBvc2l0aW9uXCIsIFwib3ZlcmxpbmUtcG9zaXRpb25cIl0sXG4gICAgICAgIFtcIm92ZXJsaW5lVGhpY2tuZXNzXCIsIFwib3ZlcmxpbmUtdGhpY2tuZXNzXCJdLFxuICAgICAgICBbXCJwYWludE9yZGVyXCIsIFwicGFpbnQtb3JkZXJcIl0sXG4gICAgICAgIFtcInBhbm9zZS0xXCIsIFwicGFub3NlLTFcIl0sXG4gICAgICAgIFtcInBvaW50ZXJFdmVudHNcIiwgXCJwb2ludGVyLWV2ZW50c1wiXSxcbiAgICAgICAgW1wicmVuZGVyaW5nSW50ZW50XCIsIFwicmVuZGVyaW5nLWludGVudFwiXSxcbiAgICAgICAgW1wic2hhcGVSZW5kZXJpbmdcIiwgXCJzaGFwZS1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcInN0b3BDb2xvclwiLCBcInN0b3AtY29sb3JcIl0sXG4gICAgICAgIFtcInN0b3BPcGFjaXR5XCIsIFwic3RvcC1vcGFjaXR5XCJdLFxuICAgICAgICBbXCJzdHJpa2V0aHJvdWdoUG9zaXRpb25cIiwgXCJzdHJpa2V0aHJvdWdoLXBvc2l0aW9uXCJdLFxuICAgICAgICBbXCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzXCIsIFwic3RyaWtldGhyb3VnaC10aGlja25lc3NcIl0sXG4gICAgICAgIFtcInN0cm9rZURhc2hhcnJheVwiLCBcInN0cm9rZS1kYXNoYXJyYXlcIl0sXG4gICAgICAgIFtcInN0cm9rZURhc2hvZmZzZXRcIiwgXCJzdHJva2UtZGFzaG9mZnNldFwiXSxcbiAgICAgICAgW1wic3Ryb2tlTGluZWNhcFwiLCBcInN0cm9rZS1saW5lY2FwXCJdLFxuICAgICAgICBbXCJzdHJva2VMaW5lam9pblwiLCBcInN0cm9rZS1saW5lam9pblwiXSxcbiAgICAgICAgW1wic3Ryb2tlTWl0ZXJsaW1pdFwiLCBcInN0cm9rZS1taXRlcmxpbWl0XCJdLFxuICAgICAgICBbXCJzdHJva2VPcGFjaXR5XCIsIFwic3Ryb2tlLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcInN0cm9rZVdpZHRoXCIsIFwic3Ryb2tlLXdpZHRoXCJdLFxuICAgICAgICBbXCJ0ZXh0QW5jaG9yXCIsIFwidGV4dC1hbmNob3JcIl0sXG4gICAgICAgIFtcInRleHREZWNvcmF0aW9uXCIsIFwidGV4dC1kZWNvcmF0aW9uXCJdLFxuICAgICAgICBbXCJ0ZXh0UmVuZGVyaW5nXCIsIFwidGV4dC1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcInRyYW5zZm9ybU9yaWdpblwiLCBcInRyYW5zZm9ybS1vcmlnaW5cIl0sXG4gICAgICAgIFtcInVuZGVybGluZVBvc2l0aW9uXCIsIFwidW5kZXJsaW5lLXBvc2l0aW9uXCJdLFxuICAgICAgICBbXCJ1bmRlcmxpbmVUaGlja25lc3NcIiwgXCJ1bmRlcmxpbmUtdGhpY2tuZXNzXCJdLFxuICAgICAgICBbXCJ1bmljb2RlQmlkaVwiLCBcInVuaWNvZGUtYmlkaVwiXSxcbiAgICAgICAgW1widW5pY29kZVJhbmdlXCIsIFwidW5pY29kZS1yYW5nZVwiXSxcbiAgICAgICAgW1widW5pdHNQZXJFbVwiLCBcInVuaXRzLXBlci1lbVwiXSxcbiAgICAgICAgW1widkFscGhhYmV0aWNcIiwgXCJ2LWFscGhhYmV0aWNcIl0sXG4gICAgICAgIFtcInZIYW5naW5nXCIsIFwidi1oYW5naW5nXCJdLFxuICAgICAgICBbXCJ2SWRlb2dyYXBoaWNcIiwgXCJ2LWlkZW9ncmFwaGljXCJdLFxuICAgICAgICBbXCJ2TWF0aGVtYXRpY2FsXCIsIFwidi1tYXRoZW1hdGljYWxcIl0sXG4gICAgICAgIFtcInZlY3RvckVmZmVjdFwiLCBcInZlY3Rvci1lZmZlY3RcIl0sXG4gICAgICAgIFtcInZlcnRBZHZZXCIsIFwidmVydC1hZHYteVwiXSxcbiAgICAgICAgW1widmVydE9yaWdpblhcIiwgXCJ2ZXJ0LW9yaWdpbi14XCJdLFxuICAgICAgICBbXCJ2ZXJ0T3JpZ2luWVwiLCBcInZlcnQtb3JpZ2luLXlcIl0sXG4gICAgICAgIFtcIndvcmRTcGFjaW5nXCIsIFwid29yZC1zcGFjaW5nXCJdLFxuICAgICAgICBbXCJ3cml0aW5nTW9kZVwiLCBcIndyaXRpbmctbW9kZVwiXSxcbiAgICAgICAgW1wieG1sbnNYbGlua1wiLCBcInhtbG5zOnhsaW5rXCJdLFxuICAgICAgICBbXCJ4SGVpZ2h0XCIsIFwieC1oZWlnaHRcIl1cbiAgICAgIF0pLFxuICAgICAgcG9zc2libGVTdGFuZGFyZE5hbWVzID0ge1xuICAgICAgICBhY2NlcHQ6IFwiYWNjZXB0XCIsXG4gICAgICAgIGFjY2VwdGNoYXJzZXQ6IFwiYWNjZXB0Q2hhcnNldFwiLFxuICAgICAgICBcImFjY2VwdC1jaGFyc2V0XCI6IFwiYWNjZXB0Q2hhcnNldFwiLFxuICAgICAgICBhY2Nlc3NrZXk6IFwiYWNjZXNzS2V5XCIsXG4gICAgICAgIGFjdGlvbjogXCJhY3Rpb25cIixcbiAgICAgICAgYWxsb3dmdWxsc2NyZWVuOiBcImFsbG93RnVsbFNjcmVlblwiLFxuICAgICAgICBhbHQ6IFwiYWx0XCIsXG4gICAgICAgIGFzOiBcImFzXCIsXG4gICAgICAgIGFzeW5jOiBcImFzeW5jXCIsXG4gICAgICAgIGF1dG9jYXBpdGFsaXplOiBcImF1dG9DYXBpdGFsaXplXCIsXG4gICAgICAgIGF1dG9jb21wbGV0ZTogXCJhdXRvQ29tcGxldGVcIixcbiAgICAgICAgYXV0b2NvcnJlY3Q6IFwiYXV0b0NvcnJlY3RcIixcbiAgICAgICAgYXV0b2ZvY3VzOiBcImF1dG9Gb2N1c1wiLFxuICAgICAgICBhdXRvcGxheTogXCJhdXRvUGxheVwiLFxuICAgICAgICBhdXRvc2F2ZTogXCJhdXRvU2F2ZVwiLFxuICAgICAgICBjYXB0dXJlOiBcImNhcHR1cmVcIixcbiAgICAgICAgY2VsbHBhZGRpbmc6IFwiY2VsbFBhZGRpbmdcIixcbiAgICAgICAgY2VsbHNwYWNpbmc6IFwiY2VsbFNwYWNpbmdcIixcbiAgICAgICAgY2hhbGxlbmdlOiBcImNoYWxsZW5nZVwiLFxuICAgICAgICBjaGFyc2V0OiBcImNoYXJTZXRcIixcbiAgICAgICAgY2hlY2tlZDogXCJjaGVja2VkXCIsXG4gICAgICAgIGNoaWxkcmVuOiBcImNoaWxkcmVuXCIsXG4gICAgICAgIGNpdGU6IFwiY2l0ZVwiLFxuICAgICAgICBjbGFzczogXCJjbGFzc05hbWVcIixcbiAgICAgICAgY2xhc3NpZDogXCJjbGFzc0lEXCIsXG4gICAgICAgIGNsYXNzbmFtZTogXCJjbGFzc05hbWVcIixcbiAgICAgICAgY29sczogXCJjb2xzXCIsXG4gICAgICAgIGNvbHNwYW46IFwiY29sU3BhblwiLFxuICAgICAgICBjb250ZW50OiBcImNvbnRlbnRcIixcbiAgICAgICAgY29udGVudGVkaXRhYmxlOiBcImNvbnRlbnRFZGl0YWJsZVwiLFxuICAgICAgICBjb250ZXh0bWVudTogXCJjb250ZXh0TWVudVwiLFxuICAgICAgICBjb250cm9sczogXCJjb250cm9sc1wiLFxuICAgICAgICBjb250cm9sc2xpc3Q6IFwiY29udHJvbHNMaXN0XCIsXG4gICAgICAgIGNvb3JkczogXCJjb29yZHNcIixcbiAgICAgICAgY3Jvc3NvcmlnaW46IFwiY3Jvc3NPcmlnaW5cIixcbiAgICAgICAgZGFuZ2Vyb3VzbHlzZXRpbm5lcmh0bWw6IFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIixcbiAgICAgICAgZGF0YTogXCJkYXRhXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGVUaW1lXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiZGVmYXVsdFwiLFxuICAgICAgICBkZWZhdWx0Y2hlY2tlZDogXCJkZWZhdWx0Q2hlY2tlZFwiLFxuICAgICAgICBkZWZhdWx0dmFsdWU6IFwiZGVmYXVsdFZhbHVlXCIsXG4gICAgICAgIGRlZmVyOiBcImRlZmVyXCIsXG4gICAgICAgIGRpcjogXCJkaXJcIixcbiAgICAgICAgZGlzYWJsZWQ6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgZGlzYWJsZXBpY3R1cmVpbnBpY3R1cmU6IFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIixcbiAgICAgICAgZGlzYWJsZXJlbW90ZXBsYXliYWNrOiBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiLFxuICAgICAgICBkb3dubG9hZDogXCJkb3dubG9hZFwiLFxuICAgICAgICBkcmFnZ2FibGU6IFwiZHJhZ2dhYmxlXCIsXG4gICAgICAgIGVuY3R5cGU6IFwiZW5jVHlwZVwiLFxuICAgICAgICBlbnRlcmtleWhpbnQ6IFwiZW50ZXJLZXlIaW50XCIsXG4gICAgICAgIGZldGNocHJpb3JpdHk6IFwiZmV0Y2hQcmlvcml0eVwiLFxuICAgICAgICBmb3I6IFwiaHRtbEZvclwiLFxuICAgICAgICBmb3JtOiBcImZvcm1cIixcbiAgICAgICAgZm9ybW1ldGhvZDogXCJmb3JtTWV0aG9kXCIsXG4gICAgICAgIGZvcm1hY3Rpb246IFwiZm9ybUFjdGlvblwiLFxuICAgICAgICBmb3JtZW5jdHlwZTogXCJmb3JtRW5jVHlwZVwiLFxuICAgICAgICBmb3Jtbm92YWxpZGF0ZTogXCJmb3JtTm9WYWxpZGF0ZVwiLFxuICAgICAgICBmb3JtdGFyZ2V0OiBcImZvcm1UYXJnZXRcIixcbiAgICAgICAgZnJhbWVib3JkZXI6IFwiZnJhbWVCb3JkZXJcIixcbiAgICAgICAgaGVhZGVyczogXCJoZWFkZXJzXCIsXG4gICAgICAgIGhlaWdodDogXCJoZWlnaHRcIixcbiAgICAgICAgaGlkZGVuOiBcImhpZGRlblwiLFxuICAgICAgICBoaWdoOiBcImhpZ2hcIixcbiAgICAgICAgaHJlZjogXCJocmVmXCIsXG4gICAgICAgIGhyZWZsYW5nOiBcImhyZWZMYW5nXCIsXG4gICAgICAgIGh0bWxmb3I6IFwiaHRtbEZvclwiLFxuICAgICAgICBodHRwZXF1aXY6IFwiaHR0cEVxdWl2XCIsXG4gICAgICAgIFwiaHR0cC1lcXVpdlwiOiBcImh0dHBFcXVpdlwiLFxuICAgICAgICBpY29uOiBcImljb25cIixcbiAgICAgICAgaWQ6IFwiaWRcIixcbiAgICAgICAgaW1hZ2VzaXplczogXCJpbWFnZVNpemVzXCIsXG4gICAgICAgIGltYWdlc3Jjc2V0OiBcImltYWdlU3JjU2V0XCIsXG4gICAgICAgIGluZXJ0OiBcImluZXJ0XCIsXG4gICAgICAgIGlubmVyaHRtbDogXCJpbm5lckhUTUxcIixcbiAgICAgICAgaW5wdXRtb2RlOiBcImlucHV0TW9kZVwiLFxuICAgICAgICBpbnRlZ3JpdHk6IFwiaW50ZWdyaXR5XCIsXG4gICAgICAgIGlzOiBcImlzXCIsXG4gICAgICAgIGl0ZW1pZDogXCJpdGVtSURcIixcbiAgICAgICAgaXRlbXByb3A6IFwiaXRlbVByb3BcIixcbiAgICAgICAgaXRlbXJlZjogXCJpdGVtUmVmXCIsXG4gICAgICAgIGl0ZW1zY29wZTogXCJpdGVtU2NvcGVcIixcbiAgICAgICAgaXRlbXR5cGU6IFwiaXRlbVR5cGVcIixcbiAgICAgICAga2V5cGFyYW1zOiBcImtleVBhcmFtc1wiLFxuICAgICAgICBrZXl0eXBlOiBcImtleVR5cGVcIixcbiAgICAgICAga2luZDogXCJraW5kXCIsXG4gICAgICAgIGxhYmVsOiBcImxhYmVsXCIsXG4gICAgICAgIGxhbmc6IFwibGFuZ1wiLFxuICAgICAgICBsaXN0OiBcImxpc3RcIixcbiAgICAgICAgbG9vcDogXCJsb29wXCIsXG4gICAgICAgIGxvdzogXCJsb3dcIixcbiAgICAgICAgbWFuaWZlc3Q6IFwibWFuaWZlc3RcIixcbiAgICAgICAgbWFyZ2lud2lkdGg6IFwibWFyZ2luV2lkdGhcIixcbiAgICAgICAgbWFyZ2luaGVpZ2h0OiBcIm1hcmdpbkhlaWdodFwiLFxuICAgICAgICBtYXg6IFwibWF4XCIsXG4gICAgICAgIG1heGxlbmd0aDogXCJtYXhMZW5ndGhcIixcbiAgICAgICAgbWVkaWE6IFwibWVkaWFcIixcbiAgICAgICAgbWVkaWFncm91cDogXCJtZWRpYUdyb3VwXCIsXG4gICAgICAgIG1ldGhvZDogXCJtZXRob2RcIixcbiAgICAgICAgbWluOiBcIm1pblwiLFxuICAgICAgICBtaW5sZW5ndGg6IFwibWluTGVuZ3RoXCIsXG4gICAgICAgIG11bHRpcGxlOiBcIm11bHRpcGxlXCIsXG4gICAgICAgIG11dGVkOiBcIm11dGVkXCIsXG4gICAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgICBub21vZHVsZTogXCJub01vZHVsZVwiLFxuICAgICAgICBub25jZTogXCJub25jZVwiLFxuICAgICAgICBub3ZhbGlkYXRlOiBcIm5vVmFsaWRhdGVcIixcbiAgICAgICAgb3BlbjogXCJvcGVuXCIsXG4gICAgICAgIG9wdGltdW06IFwib3B0aW11bVwiLFxuICAgICAgICBwYXR0ZXJuOiBcInBhdHRlcm5cIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwicGxhY2Vob2xkZXJcIixcbiAgICAgICAgcGxheXNpbmxpbmU6IFwicGxheXNJbmxpbmVcIixcbiAgICAgICAgcG9zdGVyOiBcInBvc3RlclwiLFxuICAgICAgICBwcmVsb2FkOiBcInByZWxvYWRcIixcbiAgICAgICAgcHJvZmlsZTogXCJwcm9maWxlXCIsXG4gICAgICAgIHJhZGlvZ3JvdXA6IFwicmFkaW9Hcm91cFwiLFxuICAgICAgICByZWFkb25seTogXCJyZWFkT25seVwiLFxuICAgICAgICByZWZlcnJlcnBvbGljeTogXCJyZWZlcnJlclBvbGljeVwiLFxuICAgICAgICByZWw6IFwicmVsXCIsXG4gICAgICAgIHJlcXVpcmVkOiBcInJlcXVpcmVkXCIsXG4gICAgICAgIHJldmVyc2VkOiBcInJldmVyc2VkXCIsXG4gICAgICAgIHJvbGU6IFwicm9sZVwiLFxuICAgICAgICByb3dzOiBcInJvd3NcIixcbiAgICAgICAgcm93c3BhbjogXCJyb3dTcGFuXCIsXG4gICAgICAgIHNhbmRib3g6IFwic2FuZGJveFwiLFxuICAgICAgICBzY29wZTogXCJzY29wZVwiLFxuICAgICAgICBzY29wZWQ6IFwic2NvcGVkXCIsXG4gICAgICAgIHNjcm9sbGluZzogXCJzY3JvbGxpbmdcIixcbiAgICAgICAgc2VhbWxlc3M6IFwic2VhbWxlc3NcIixcbiAgICAgICAgc2VsZWN0ZWQ6IFwic2VsZWN0ZWRcIixcbiAgICAgICAgc2hhcGU6IFwic2hhcGVcIixcbiAgICAgICAgc2l6ZTogXCJzaXplXCIsXG4gICAgICAgIHNpemVzOiBcInNpemVzXCIsXG4gICAgICAgIHNwYW46IFwic3BhblwiLFxuICAgICAgICBzcGVsbGNoZWNrOiBcInNwZWxsQ2hlY2tcIixcbiAgICAgICAgc3JjOiBcInNyY1wiLFxuICAgICAgICBzcmNkb2M6IFwic3JjRG9jXCIsXG4gICAgICAgIHNyY2xhbmc6IFwic3JjTGFuZ1wiLFxuICAgICAgICBzcmNzZXQ6IFwic3JjU2V0XCIsXG4gICAgICAgIHN0YXJ0OiBcInN0YXJ0XCIsXG4gICAgICAgIHN0ZXA6IFwic3RlcFwiLFxuICAgICAgICBzdHlsZTogXCJzdHlsZVwiLFxuICAgICAgICBzdW1tYXJ5OiBcInN1bW1hcnlcIixcbiAgICAgICAgdGFiaW5kZXg6IFwidGFiSW5kZXhcIixcbiAgICAgICAgdGFyZ2V0OiBcInRhcmdldFwiLFxuICAgICAgICB0aXRsZTogXCJ0aXRsZVwiLFxuICAgICAgICB0eXBlOiBcInR5cGVcIixcbiAgICAgICAgdXNlbWFwOiBcInVzZU1hcFwiLFxuICAgICAgICB2YWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICB3aWR0aDogXCJ3aWR0aFwiLFxuICAgICAgICB3bW9kZTogXCJ3bW9kZVwiLFxuICAgICAgICB3cmFwOiBcIndyYXBcIixcbiAgICAgICAgYWJvdXQ6IFwiYWJvdXRcIixcbiAgICAgICAgYWNjZW50aGVpZ2h0OiBcImFjY2VudEhlaWdodFwiLFxuICAgICAgICBcImFjY2VudC1oZWlnaHRcIjogXCJhY2NlbnRIZWlnaHRcIixcbiAgICAgICAgYWNjdW11bGF0ZTogXCJhY2N1bXVsYXRlXCIsXG4gICAgICAgIGFkZGl0aXZlOiBcImFkZGl0aXZlXCIsXG4gICAgICAgIGFsaWdubWVudGJhc2VsaW5lOiBcImFsaWdubWVudEJhc2VsaW5lXCIsXG4gICAgICAgIFwiYWxpZ25tZW50LWJhc2VsaW5lXCI6IFwiYWxpZ25tZW50QmFzZWxpbmVcIixcbiAgICAgICAgYWxsb3dyZW9yZGVyOiBcImFsbG93UmVvcmRlclwiLFxuICAgICAgICBhbHBoYWJldGljOiBcImFscGhhYmV0aWNcIixcbiAgICAgICAgYW1wbGl0dWRlOiBcImFtcGxpdHVkZVwiLFxuICAgICAgICBhcmFiaWNmb3JtOiBcImFyYWJpY0Zvcm1cIixcbiAgICAgICAgXCJhcmFiaWMtZm9ybVwiOiBcImFyYWJpY0Zvcm1cIixcbiAgICAgICAgYXNjZW50OiBcImFzY2VudFwiLFxuICAgICAgICBhdHRyaWJ1dGVuYW1lOiBcImF0dHJpYnV0ZU5hbWVcIixcbiAgICAgICAgYXR0cmlidXRldHlwZTogXCJhdHRyaWJ1dGVUeXBlXCIsXG4gICAgICAgIGF1dG9yZXZlcnNlOiBcImF1dG9SZXZlcnNlXCIsXG4gICAgICAgIGF6aW11dGg6IFwiYXppbXV0aFwiLFxuICAgICAgICBiYXNlZnJlcXVlbmN5OiBcImJhc2VGcmVxdWVuY3lcIixcbiAgICAgICAgYmFzZWxpbmVzaGlmdDogXCJiYXNlbGluZVNoaWZ0XCIsXG4gICAgICAgIFwiYmFzZWxpbmUtc2hpZnRcIjogXCJiYXNlbGluZVNoaWZ0XCIsXG4gICAgICAgIGJhc2Vwcm9maWxlOiBcImJhc2VQcm9maWxlXCIsXG4gICAgICAgIGJib3g6IFwiYmJveFwiLFxuICAgICAgICBiZWdpbjogXCJiZWdpblwiLFxuICAgICAgICBiaWFzOiBcImJpYXNcIixcbiAgICAgICAgYnk6IFwiYnlcIixcbiAgICAgICAgY2FsY21vZGU6IFwiY2FsY01vZGVcIixcbiAgICAgICAgY2FwaGVpZ2h0OiBcImNhcEhlaWdodFwiLFxuICAgICAgICBcImNhcC1oZWlnaHRcIjogXCJjYXBIZWlnaHRcIixcbiAgICAgICAgY2xpcDogXCJjbGlwXCIsXG4gICAgICAgIGNsaXBwYXRoOiBcImNsaXBQYXRoXCIsXG4gICAgICAgIFwiY2xpcC1wYXRoXCI6IFwiY2xpcFBhdGhcIixcbiAgICAgICAgY2xpcHBhdGh1bml0czogXCJjbGlwUGF0aFVuaXRzXCIsXG4gICAgICAgIGNsaXBydWxlOiBcImNsaXBSdWxlXCIsXG4gICAgICAgIFwiY2xpcC1ydWxlXCI6IFwiY2xpcFJ1bGVcIixcbiAgICAgICAgY29sb3I6IFwiY29sb3JcIixcbiAgICAgICAgY29sb3JpbnRlcnBvbGF0aW9uOiBcImNvbG9ySW50ZXJwb2xhdGlvblwiLFxuICAgICAgICBcImNvbG9yLWludGVycG9sYXRpb25cIjogXCJjb2xvckludGVycG9sYXRpb25cIixcbiAgICAgICAgY29sb3JpbnRlcnBvbGF0aW9uZmlsdGVyczogXCJjb2xvckludGVycG9sYXRpb25GaWx0ZXJzXCIsXG4gICAgICAgIFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCI6IFwiY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc1wiLFxuICAgICAgICBjb2xvcnByb2ZpbGU6IFwiY29sb3JQcm9maWxlXCIsXG4gICAgICAgIFwiY29sb3ItcHJvZmlsZVwiOiBcImNvbG9yUHJvZmlsZVwiLFxuICAgICAgICBjb2xvcnJlbmRlcmluZzogXCJjb2xvclJlbmRlcmluZ1wiLFxuICAgICAgICBcImNvbG9yLXJlbmRlcmluZ1wiOiBcImNvbG9yUmVuZGVyaW5nXCIsXG4gICAgICAgIGNvbnRlbnRzY3JpcHR0eXBlOiBcImNvbnRlbnRTY3JpcHRUeXBlXCIsXG4gICAgICAgIGNvbnRlbnRzdHlsZXR5cGU6IFwiY29udGVudFN0eWxlVHlwZVwiLFxuICAgICAgICBjdXJzb3I6IFwiY3Vyc29yXCIsXG4gICAgICAgIGN4OiBcImN4XCIsXG4gICAgICAgIGN5OiBcImN5XCIsXG4gICAgICAgIGQ6IFwiZFwiLFxuICAgICAgICBkYXRhdHlwZTogXCJkYXRhdHlwZVwiLFxuICAgICAgICBkZWNlbGVyYXRlOiBcImRlY2VsZXJhdGVcIixcbiAgICAgICAgZGVzY2VudDogXCJkZXNjZW50XCIsXG4gICAgICAgIGRpZmZ1c2Vjb25zdGFudDogXCJkaWZmdXNlQ29uc3RhbnRcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImRpcmVjdGlvblwiLFxuICAgICAgICBkaXNwbGF5OiBcImRpc3BsYXlcIixcbiAgICAgICAgZGl2aXNvcjogXCJkaXZpc29yXCIsXG4gICAgICAgIGRvbWluYW50YmFzZWxpbmU6IFwiZG9taW5hbnRCYXNlbGluZVwiLFxuICAgICAgICBcImRvbWluYW50LWJhc2VsaW5lXCI6IFwiZG9taW5hbnRCYXNlbGluZVwiLFxuICAgICAgICBkdXI6IFwiZHVyXCIsXG4gICAgICAgIGR4OiBcImR4XCIsXG4gICAgICAgIGR5OiBcImR5XCIsXG4gICAgICAgIGVkZ2Vtb2RlOiBcImVkZ2VNb2RlXCIsXG4gICAgICAgIGVsZXZhdGlvbjogXCJlbGV2YXRpb25cIixcbiAgICAgICAgZW5hYmxlYmFja2dyb3VuZDogXCJlbmFibGVCYWNrZ3JvdW5kXCIsXG4gICAgICAgIFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJlbmFibGVCYWNrZ3JvdW5kXCIsXG4gICAgICAgIGVuZDogXCJlbmRcIixcbiAgICAgICAgZXhwb25lbnQ6IFwiZXhwb25lbnRcIixcbiAgICAgICAgZXh0ZXJuYWxyZXNvdXJjZXNyZXF1aXJlZDogXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXG4gICAgICAgIGZpbGw6IFwiZmlsbFwiLFxuICAgICAgICBmaWxsb3BhY2l0eTogXCJmaWxsT3BhY2l0eVwiLFxuICAgICAgICBcImZpbGwtb3BhY2l0eVwiOiBcImZpbGxPcGFjaXR5XCIsXG4gICAgICAgIGZpbGxydWxlOiBcImZpbGxSdWxlXCIsXG4gICAgICAgIFwiZmlsbC1ydWxlXCI6IFwiZmlsbFJ1bGVcIixcbiAgICAgICAgZmlsdGVyOiBcImZpbHRlclwiLFxuICAgICAgICBmaWx0ZXJyZXM6IFwiZmlsdGVyUmVzXCIsXG4gICAgICAgIGZpbHRlcnVuaXRzOiBcImZpbHRlclVuaXRzXCIsXG4gICAgICAgIGZsb29kb3BhY2l0eTogXCJmbG9vZE9wYWNpdHlcIixcbiAgICAgICAgXCJmbG9vZC1vcGFjaXR5XCI6IFwiZmxvb2RPcGFjaXR5XCIsXG4gICAgICAgIGZsb29kY29sb3I6IFwiZmxvb2RDb2xvclwiLFxuICAgICAgICBcImZsb29kLWNvbG9yXCI6IFwiZmxvb2RDb2xvclwiLFxuICAgICAgICBmb2N1c2FibGU6IFwiZm9jdXNhYmxlXCIsXG4gICAgICAgIGZvbnRmYW1pbHk6IFwiZm9udEZhbWlseVwiLFxuICAgICAgICBcImZvbnQtZmFtaWx5XCI6IFwiZm9udEZhbWlseVwiLFxuICAgICAgICBmb250c2l6ZTogXCJmb250U2l6ZVwiLFxuICAgICAgICBcImZvbnQtc2l6ZVwiOiBcImZvbnRTaXplXCIsXG4gICAgICAgIGZvbnRzaXplYWRqdXN0OiBcImZvbnRTaXplQWRqdXN0XCIsXG4gICAgICAgIFwiZm9udC1zaXplLWFkanVzdFwiOiBcImZvbnRTaXplQWRqdXN0XCIsXG4gICAgICAgIGZvbnRzdHJldGNoOiBcImZvbnRTdHJldGNoXCIsXG4gICAgICAgIFwiZm9udC1zdHJldGNoXCI6IFwiZm9udFN0cmV0Y2hcIixcbiAgICAgICAgZm9udHN0eWxlOiBcImZvbnRTdHlsZVwiLFxuICAgICAgICBcImZvbnQtc3R5bGVcIjogXCJmb250U3R5bGVcIixcbiAgICAgICAgZm9udHZhcmlhbnQ6IFwiZm9udFZhcmlhbnRcIixcbiAgICAgICAgXCJmb250LXZhcmlhbnRcIjogXCJmb250VmFyaWFudFwiLFxuICAgICAgICBmb250d2VpZ2h0OiBcImZvbnRXZWlnaHRcIixcbiAgICAgICAgXCJmb250LXdlaWdodFwiOiBcImZvbnRXZWlnaHRcIixcbiAgICAgICAgZm9ybWF0OiBcImZvcm1hdFwiLFxuICAgICAgICBmcm9tOiBcImZyb21cIixcbiAgICAgICAgZng6IFwiZnhcIixcbiAgICAgICAgZnk6IFwiZnlcIixcbiAgICAgICAgZzE6IFwiZzFcIixcbiAgICAgICAgZzI6IFwiZzJcIixcbiAgICAgICAgZ2x5cGhuYW1lOiBcImdseXBoTmFtZVwiLFxuICAgICAgICBcImdseXBoLW5hbWVcIjogXCJnbHlwaE5hbWVcIixcbiAgICAgICAgZ2x5cGhvcmllbnRhdGlvbmhvcml6b250YWw6IFwiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWxcIixcbiAgICAgICAgXCJnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsXCI6IFwiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWxcIixcbiAgICAgICAgZ2x5cGhvcmllbnRhdGlvbnZlcnRpY2FsOiBcImdseXBoT3JpZW50YXRpb25WZXJ0aWNhbFwiLFxuICAgICAgICBcImdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsXCI6IFwiZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsXCIsXG4gICAgICAgIGdseXBocmVmOiBcImdseXBoUmVmXCIsXG4gICAgICAgIGdyYWRpZW50dHJhbnNmb3JtOiBcImdyYWRpZW50VHJhbnNmb3JtXCIsXG4gICAgICAgIGdyYWRpZW50dW5pdHM6IFwiZ3JhZGllbnRVbml0c1wiLFxuICAgICAgICBoYW5naW5nOiBcImhhbmdpbmdcIixcbiAgICAgICAgaG9yaXphZHZ4OiBcImhvcml6QWR2WFwiLFxuICAgICAgICBcImhvcml6LWFkdi14XCI6IFwiaG9yaXpBZHZYXCIsXG4gICAgICAgIGhvcml6b3JpZ2lueDogXCJob3Jpek9yaWdpblhcIixcbiAgICAgICAgXCJob3Jpei1vcmlnaW4teFwiOiBcImhvcml6T3JpZ2luWFwiLFxuICAgICAgICBpZGVvZ3JhcGhpYzogXCJpZGVvZ3JhcGhpY1wiLFxuICAgICAgICBpbWFnZXJlbmRlcmluZzogXCJpbWFnZVJlbmRlcmluZ1wiLFxuICAgICAgICBcImltYWdlLXJlbmRlcmluZ1wiOiBcImltYWdlUmVuZGVyaW5nXCIsXG4gICAgICAgIGluMjogXCJpbjJcIixcbiAgICAgICAgaW46IFwiaW5cIixcbiAgICAgICAgaW5saXN0OiBcImlubGlzdFwiLFxuICAgICAgICBpbnRlcmNlcHQ6IFwiaW50ZXJjZXB0XCIsXG4gICAgICAgIGsxOiBcImsxXCIsXG4gICAgICAgIGsyOiBcImsyXCIsXG4gICAgICAgIGszOiBcImszXCIsXG4gICAgICAgIGs0OiBcIms0XCIsXG4gICAgICAgIGs6IFwia1wiLFxuICAgICAgICBrZXJuZWxtYXRyaXg6IFwia2VybmVsTWF0cml4XCIsXG4gICAgICAgIGtlcm5lbHVuaXRsZW5ndGg6IFwia2VybmVsVW5pdExlbmd0aFwiLFxuICAgICAgICBrZXJuaW5nOiBcImtlcm5pbmdcIixcbiAgICAgICAga2V5cG9pbnRzOiBcImtleVBvaW50c1wiLFxuICAgICAgICBrZXlzcGxpbmVzOiBcImtleVNwbGluZXNcIixcbiAgICAgICAga2V5dGltZXM6IFwia2V5VGltZXNcIixcbiAgICAgICAgbGVuZ3RoYWRqdXN0OiBcImxlbmd0aEFkanVzdFwiLFxuICAgICAgICBsZXR0ZXJzcGFjaW5nOiBcImxldHRlclNwYWNpbmdcIixcbiAgICAgICAgXCJsZXR0ZXItc3BhY2luZ1wiOiBcImxldHRlclNwYWNpbmdcIixcbiAgICAgICAgbGlnaHRpbmdjb2xvcjogXCJsaWdodGluZ0NvbG9yXCIsXG4gICAgICAgIFwibGlnaHRpbmctY29sb3JcIjogXCJsaWdodGluZ0NvbG9yXCIsXG4gICAgICAgIGxpbWl0aW5nY29uZWFuZ2xlOiBcImxpbWl0aW5nQ29uZUFuZ2xlXCIsXG4gICAgICAgIGxvY2FsOiBcImxvY2FsXCIsXG4gICAgICAgIG1hcmtlcmVuZDogXCJtYXJrZXJFbmRcIixcbiAgICAgICAgXCJtYXJrZXItZW5kXCI6IFwibWFya2VyRW5kXCIsXG4gICAgICAgIG1hcmtlcmhlaWdodDogXCJtYXJrZXJIZWlnaHRcIixcbiAgICAgICAgbWFya2VybWlkOiBcIm1hcmtlck1pZFwiLFxuICAgICAgICBcIm1hcmtlci1taWRcIjogXCJtYXJrZXJNaWRcIixcbiAgICAgICAgbWFya2Vyc3RhcnQ6IFwibWFya2VyU3RhcnRcIixcbiAgICAgICAgXCJtYXJrZXItc3RhcnRcIjogXCJtYXJrZXJTdGFydFwiLFxuICAgICAgICBtYXJrZXJ1bml0czogXCJtYXJrZXJVbml0c1wiLFxuICAgICAgICBtYXJrZXJ3aWR0aDogXCJtYXJrZXJXaWR0aFwiLFxuICAgICAgICBtYXNrOiBcIm1hc2tcIixcbiAgICAgICAgbWFza2NvbnRlbnR1bml0czogXCJtYXNrQ29udGVudFVuaXRzXCIsXG4gICAgICAgIG1hc2t1bml0czogXCJtYXNrVW5pdHNcIixcbiAgICAgICAgbWF0aGVtYXRpY2FsOiBcIm1hdGhlbWF0aWNhbFwiLFxuICAgICAgICBtb2RlOiBcIm1vZGVcIixcbiAgICAgICAgbnVtb2N0YXZlczogXCJudW1PY3RhdmVzXCIsXG4gICAgICAgIG9mZnNldDogXCJvZmZzZXRcIixcbiAgICAgICAgb3BhY2l0eTogXCJvcGFjaXR5XCIsXG4gICAgICAgIG9wZXJhdG9yOiBcIm9wZXJhdG9yXCIsXG4gICAgICAgIG9yZGVyOiBcIm9yZGVyXCIsXG4gICAgICAgIG9yaWVudDogXCJvcmllbnRcIixcbiAgICAgICAgb3JpZW50YXRpb246IFwib3JpZW50YXRpb25cIixcbiAgICAgICAgb3JpZ2luOiBcIm9yaWdpblwiLFxuICAgICAgICBvdmVyZmxvdzogXCJvdmVyZmxvd1wiLFxuICAgICAgICBvdmVybGluZXBvc2l0aW9uOiBcIm92ZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgXCJvdmVybGluZS1wb3NpdGlvblwiOiBcIm92ZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgb3ZlcmxpbmV0aGlja25lc3M6IFwib3ZlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgXCJvdmVybGluZS10aGlja25lc3NcIjogXCJvdmVybGluZVRoaWNrbmVzc1wiLFxuICAgICAgICBwYWludG9yZGVyOiBcInBhaW50T3JkZXJcIixcbiAgICAgICAgXCJwYWludC1vcmRlclwiOiBcInBhaW50T3JkZXJcIixcbiAgICAgICAgcGFub3NlMTogXCJwYW5vc2UxXCIsXG4gICAgICAgIFwicGFub3NlLTFcIjogXCJwYW5vc2UxXCIsXG4gICAgICAgIHBhdGhsZW5ndGg6IFwicGF0aExlbmd0aFwiLFxuICAgICAgICBwYXR0ZXJuY29udGVudHVuaXRzOiBcInBhdHRlcm5Db250ZW50VW5pdHNcIixcbiAgICAgICAgcGF0dGVybnRyYW5zZm9ybTogXCJwYXR0ZXJuVHJhbnNmb3JtXCIsXG4gICAgICAgIHBhdHRlcm51bml0czogXCJwYXR0ZXJuVW5pdHNcIixcbiAgICAgICAgcG9pbnRlcmV2ZW50czogXCJwb2ludGVyRXZlbnRzXCIsXG4gICAgICAgIFwicG9pbnRlci1ldmVudHNcIjogXCJwb2ludGVyRXZlbnRzXCIsXG4gICAgICAgIHBvaW50czogXCJwb2ludHNcIixcbiAgICAgICAgcG9pbnRzYXR4OiBcInBvaW50c0F0WFwiLFxuICAgICAgICBwb2ludHNhdHk6IFwicG9pbnRzQXRZXCIsXG4gICAgICAgIHBvaW50c2F0ejogXCJwb2ludHNBdFpcIixcbiAgICAgICAgcG9wb3ZlcjogXCJwb3BvdmVyXCIsXG4gICAgICAgIHBvcG92ZXJ0YXJnZXQ6IFwicG9wb3ZlclRhcmdldFwiLFxuICAgICAgICBwb3BvdmVydGFyZ2V0YWN0aW9uOiBcInBvcG92ZXJUYXJnZXRBY3Rpb25cIixcbiAgICAgICAgcHJlZml4OiBcInByZWZpeFwiLFxuICAgICAgICBwcmVzZXJ2ZWFscGhhOiBcInByZXNlcnZlQWxwaGFcIixcbiAgICAgICAgcHJlc2VydmVhc3BlY3RyYXRpbzogXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsXG4gICAgICAgIHByaW1pdGl2ZXVuaXRzOiBcInByaW1pdGl2ZVVuaXRzXCIsXG4gICAgICAgIHByb3BlcnR5OiBcInByb3BlcnR5XCIsXG4gICAgICAgIHI6IFwiclwiLFxuICAgICAgICByYWRpdXM6IFwicmFkaXVzXCIsXG4gICAgICAgIHJlZng6IFwicmVmWFwiLFxuICAgICAgICByZWZ5OiBcInJlZllcIixcbiAgICAgICAgcmVuZGVyaW5naW50ZW50OiBcInJlbmRlcmluZ0ludGVudFwiLFxuICAgICAgICBcInJlbmRlcmluZy1pbnRlbnRcIjogXCJyZW5kZXJpbmdJbnRlbnRcIixcbiAgICAgICAgcmVwZWF0Y291bnQ6IFwicmVwZWF0Q291bnRcIixcbiAgICAgICAgcmVwZWF0ZHVyOiBcInJlcGVhdER1clwiLFxuICAgICAgICByZXF1aXJlZGV4dGVuc2lvbnM6IFwicmVxdWlyZWRFeHRlbnNpb25zXCIsXG4gICAgICAgIHJlcXVpcmVkZmVhdHVyZXM6IFwicmVxdWlyZWRGZWF0dXJlc1wiLFxuICAgICAgICByZXNvdXJjZTogXCJyZXNvdXJjZVwiLFxuICAgICAgICByZXN0YXJ0OiBcInJlc3RhcnRcIixcbiAgICAgICAgcmVzdWx0OiBcInJlc3VsdFwiLFxuICAgICAgICByZXN1bHRzOiBcInJlc3VsdHNcIixcbiAgICAgICAgcm90YXRlOiBcInJvdGF0ZVwiLFxuICAgICAgICByeDogXCJyeFwiLFxuICAgICAgICByeTogXCJyeVwiLFxuICAgICAgICBzY2FsZTogXCJzY2FsZVwiLFxuICAgICAgICBzZWN1cml0eTogXCJzZWN1cml0eVwiLFxuICAgICAgICBzZWVkOiBcInNlZWRcIixcbiAgICAgICAgc2hhcGVyZW5kZXJpbmc6IFwic2hhcGVSZW5kZXJpbmdcIixcbiAgICAgICAgXCJzaGFwZS1yZW5kZXJpbmdcIjogXCJzaGFwZVJlbmRlcmluZ1wiLFxuICAgICAgICBzbG9wZTogXCJzbG9wZVwiLFxuICAgICAgICBzcGFjaW5nOiBcInNwYWNpbmdcIixcbiAgICAgICAgc3BlY3VsYXJjb25zdGFudDogXCJzcGVjdWxhckNvbnN0YW50XCIsXG4gICAgICAgIHNwZWN1bGFyZXhwb25lbnQ6IFwic3BlY3VsYXJFeHBvbmVudFwiLFxuICAgICAgICBzcGVlZDogXCJzcGVlZFwiLFxuICAgICAgICBzcHJlYWRtZXRob2Q6IFwic3ByZWFkTWV0aG9kXCIsXG4gICAgICAgIHN0YXJ0b2Zmc2V0OiBcInN0YXJ0T2Zmc2V0XCIsXG4gICAgICAgIHN0ZGRldmlhdGlvbjogXCJzdGREZXZpYXRpb25cIixcbiAgICAgICAgc3RlbWg6IFwic3RlbWhcIixcbiAgICAgICAgc3RlbXY6IFwic3RlbXZcIixcbiAgICAgICAgc3RpdGNodGlsZXM6IFwic3RpdGNoVGlsZXNcIixcbiAgICAgICAgc3RvcGNvbG9yOiBcInN0b3BDb2xvclwiLFxuICAgICAgICBcInN0b3AtY29sb3JcIjogXCJzdG9wQ29sb3JcIixcbiAgICAgICAgc3RvcG9wYWNpdHk6IFwic3RvcE9wYWNpdHlcIixcbiAgICAgICAgXCJzdG9wLW9wYWNpdHlcIjogXCJzdG9wT3BhY2l0eVwiLFxuICAgICAgICBzdHJpa2V0aHJvdWdocG9zaXRpb246IFwic3RyaWtldGhyb3VnaFBvc2l0aW9uXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaC1wb3NpdGlvblwiOiBcInN0cmlrZXRocm91Z2hQb3NpdGlvblwiLFxuICAgICAgICBzdHJpa2V0aHJvdWdodGhpY2tuZXNzOiBcInN0cmlrZXRocm91Z2hUaGlja25lc3NcIixcbiAgICAgICAgXCJzdHJpa2V0aHJvdWdoLXRoaWNrbmVzc1wiOiBcInN0cmlrZXRocm91Z2hUaGlja25lc3NcIixcbiAgICAgICAgc3RyaW5nOiBcInN0cmluZ1wiLFxuICAgICAgICBzdHJva2U6IFwic3Ryb2tlXCIsXG4gICAgICAgIHN0cm9rZWRhc2hhcnJheTogXCJzdHJva2VEYXNoYXJyYXlcIixcbiAgICAgICAgXCJzdHJva2UtZGFzaGFycmF5XCI6IFwic3Ryb2tlRGFzaGFycmF5XCIsXG4gICAgICAgIHN0cm9rZWRhc2hvZmZzZXQ6IFwic3Ryb2tlRGFzaG9mZnNldFwiLFxuICAgICAgICBcInN0cm9rZS1kYXNob2Zmc2V0XCI6IFwic3Ryb2tlRGFzaG9mZnNldFwiLFxuICAgICAgICBzdHJva2VsaW5lY2FwOiBcInN0cm9rZUxpbmVjYXBcIixcbiAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiBcInN0cm9rZUxpbmVjYXBcIixcbiAgICAgICAgc3Ryb2tlbGluZWpvaW46IFwic3Ryb2tlTGluZWpvaW5cIixcbiAgICAgICAgXCJzdHJva2UtbGluZWpvaW5cIjogXCJzdHJva2VMaW5lam9pblwiLFxuICAgICAgICBzdHJva2VtaXRlcmxpbWl0OiBcInN0cm9rZU1pdGVybGltaXRcIixcbiAgICAgICAgXCJzdHJva2UtbWl0ZXJsaW1pdFwiOiBcInN0cm9rZU1pdGVybGltaXRcIixcbiAgICAgICAgc3Ryb2tld2lkdGg6IFwic3Ryb2tlV2lkdGhcIixcbiAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogXCJzdHJva2VXaWR0aFwiLFxuICAgICAgICBzdHJva2VvcGFjaXR5OiBcInN0cm9rZU9wYWNpdHlcIixcbiAgICAgICAgXCJzdHJva2Utb3BhY2l0eVwiOiBcInN0cm9rZU9wYWNpdHlcIixcbiAgICAgICAgc3VwcHJlc3Njb250ZW50ZWRpdGFibGV3YXJuaW5nOiBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiLFxuICAgICAgICBzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmc6IFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIsXG4gICAgICAgIHN1cmZhY2VzY2FsZTogXCJzdXJmYWNlU2NhbGVcIixcbiAgICAgICAgc3lzdGVtbGFuZ3VhZ2U6IFwic3lzdGVtTGFuZ3VhZ2VcIixcbiAgICAgICAgdGFibGV2YWx1ZXM6IFwidGFibGVWYWx1ZXNcIixcbiAgICAgICAgdGFyZ2V0eDogXCJ0YXJnZXRYXCIsXG4gICAgICAgIHRhcmdldHk6IFwidGFyZ2V0WVwiLFxuICAgICAgICB0ZXh0YW5jaG9yOiBcInRleHRBbmNob3JcIixcbiAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcInRleHRBbmNob3JcIixcbiAgICAgICAgdGV4dGRlY29yYXRpb246IFwidGV4dERlY29yYXRpb25cIixcbiAgICAgICAgXCJ0ZXh0LWRlY29yYXRpb25cIjogXCJ0ZXh0RGVjb3JhdGlvblwiLFxuICAgICAgICB0ZXh0bGVuZ3RoOiBcInRleHRMZW5ndGhcIixcbiAgICAgICAgdGV4dHJlbmRlcmluZzogXCJ0ZXh0UmVuZGVyaW5nXCIsXG4gICAgICAgIFwidGV4dC1yZW5kZXJpbmdcIjogXCJ0ZXh0UmVuZGVyaW5nXCIsXG4gICAgICAgIHRvOiBcInRvXCIsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3Jtb3JpZ2luOiBcInRyYW5zZm9ybU9yaWdpblwiLFxuICAgICAgICBcInRyYW5zZm9ybS1vcmlnaW5cIjogXCJ0cmFuc2Zvcm1PcmlnaW5cIixcbiAgICAgICAgdHlwZW9mOiBcInR5cGVvZlwiLFxuICAgICAgICB1MTogXCJ1MVwiLFxuICAgICAgICB1MjogXCJ1MlwiLFxuICAgICAgICB1bmRlcmxpbmVwb3NpdGlvbjogXCJ1bmRlcmxpbmVQb3NpdGlvblwiLFxuICAgICAgICBcInVuZGVybGluZS1wb3NpdGlvblwiOiBcInVuZGVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIHVuZGVybGluZXRoaWNrbmVzczogXCJ1bmRlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgXCJ1bmRlcmxpbmUtdGhpY2tuZXNzXCI6IFwidW5kZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIHVuaWNvZGU6IFwidW5pY29kZVwiLFxuICAgICAgICB1bmljb2RlYmlkaTogXCJ1bmljb2RlQmlkaVwiLFxuICAgICAgICBcInVuaWNvZGUtYmlkaVwiOiBcInVuaWNvZGVCaWRpXCIsXG4gICAgICAgIHVuaWNvZGVyYW5nZTogXCJ1bmljb2RlUmFuZ2VcIixcbiAgICAgICAgXCJ1bmljb2RlLXJhbmdlXCI6IFwidW5pY29kZVJhbmdlXCIsXG4gICAgICAgIHVuaXRzcGVyZW06IFwidW5pdHNQZXJFbVwiLFxuICAgICAgICBcInVuaXRzLXBlci1lbVwiOiBcInVuaXRzUGVyRW1cIixcbiAgICAgICAgdW5zZWxlY3RhYmxlOiBcInVuc2VsZWN0YWJsZVwiLFxuICAgICAgICB2YWxwaGFiZXRpYzogXCJ2QWxwaGFiZXRpY1wiLFxuICAgICAgICBcInYtYWxwaGFiZXRpY1wiOiBcInZBbHBoYWJldGljXCIsXG4gICAgICAgIHZhbHVlczogXCJ2YWx1ZXNcIixcbiAgICAgICAgdmVjdG9yZWZmZWN0OiBcInZlY3RvckVmZmVjdFwiLFxuICAgICAgICBcInZlY3Rvci1lZmZlY3RcIjogXCJ2ZWN0b3JFZmZlY3RcIixcbiAgICAgICAgdmVyc2lvbjogXCJ2ZXJzaW9uXCIsXG4gICAgICAgIHZlcnRhZHZ5OiBcInZlcnRBZHZZXCIsXG4gICAgICAgIFwidmVydC1hZHYteVwiOiBcInZlcnRBZHZZXCIsXG4gICAgICAgIHZlcnRvcmlnaW54OiBcInZlcnRPcmlnaW5YXCIsXG4gICAgICAgIFwidmVydC1vcmlnaW4teFwiOiBcInZlcnRPcmlnaW5YXCIsXG4gICAgICAgIHZlcnRvcmlnaW55OiBcInZlcnRPcmlnaW5ZXCIsXG4gICAgICAgIFwidmVydC1vcmlnaW4teVwiOiBcInZlcnRPcmlnaW5ZXCIsXG4gICAgICAgIHZoYW5naW5nOiBcInZIYW5naW5nXCIsXG4gICAgICAgIFwidi1oYW5naW5nXCI6IFwidkhhbmdpbmdcIixcbiAgICAgICAgdmlkZW9ncmFwaGljOiBcInZJZGVvZ3JhcGhpY1wiLFxuICAgICAgICBcInYtaWRlb2dyYXBoaWNcIjogXCJ2SWRlb2dyYXBoaWNcIixcbiAgICAgICAgdmlld2JveDogXCJ2aWV3Qm94XCIsXG4gICAgICAgIHZpZXd0YXJnZXQ6IFwidmlld1RhcmdldFwiLFxuICAgICAgICB2aXNpYmlsaXR5OiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgdm1hdGhlbWF0aWNhbDogXCJ2TWF0aGVtYXRpY2FsXCIsXG4gICAgICAgIFwidi1tYXRoZW1hdGljYWxcIjogXCJ2TWF0aGVtYXRpY2FsXCIsXG4gICAgICAgIHZvY2FiOiBcInZvY2FiXCIsXG4gICAgICAgIHdpZHRoczogXCJ3aWR0aHNcIixcbiAgICAgICAgd29yZHNwYWNpbmc6IFwid29yZFNwYWNpbmdcIixcbiAgICAgICAgXCJ3b3JkLXNwYWNpbmdcIjogXCJ3b3JkU3BhY2luZ1wiLFxuICAgICAgICB3cml0aW5nbW9kZTogXCJ3cml0aW5nTW9kZVwiLFxuICAgICAgICBcIndyaXRpbmctbW9kZVwiOiBcIndyaXRpbmdNb2RlXCIsXG4gICAgICAgIHgxOiBcIngxXCIsXG4gICAgICAgIHgyOiBcIngyXCIsXG4gICAgICAgIHg6IFwieFwiLFxuICAgICAgICB4Y2hhbm5lbHNlbGVjdG9yOiBcInhDaGFubmVsU2VsZWN0b3JcIixcbiAgICAgICAgeGhlaWdodDogXCJ4SGVpZ2h0XCIsXG4gICAgICAgIFwieC1oZWlnaHRcIjogXCJ4SGVpZ2h0XCIsXG4gICAgICAgIHhsaW5rYWN0dWF0ZTogXCJ4bGlua0FjdHVhdGVcIixcbiAgICAgICAgXCJ4bGluazphY3R1YXRlXCI6IFwieGxpbmtBY3R1YXRlXCIsXG4gICAgICAgIHhsaW5rYXJjcm9sZTogXCJ4bGlua0FyY3JvbGVcIixcbiAgICAgICAgXCJ4bGluazphcmNyb2xlXCI6IFwieGxpbmtBcmNyb2xlXCIsXG4gICAgICAgIHhsaW5raHJlZjogXCJ4bGlua0hyZWZcIixcbiAgICAgICAgXCJ4bGluazpocmVmXCI6IFwieGxpbmtIcmVmXCIsXG4gICAgICAgIHhsaW5rcm9sZTogXCJ4bGlua1JvbGVcIixcbiAgICAgICAgXCJ4bGluazpyb2xlXCI6IFwieGxpbmtSb2xlXCIsXG4gICAgICAgIHhsaW5rc2hvdzogXCJ4bGlua1Nob3dcIixcbiAgICAgICAgXCJ4bGluazpzaG93XCI6IFwieGxpbmtTaG93XCIsXG4gICAgICAgIHhsaW5rdGl0bGU6IFwieGxpbmtUaXRsZVwiLFxuICAgICAgICBcInhsaW5rOnRpdGxlXCI6IFwieGxpbmtUaXRsZVwiLFxuICAgICAgICB4bGlua3R5cGU6IFwieGxpbmtUeXBlXCIsXG4gICAgICAgIFwieGxpbms6dHlwZVwiOiBcInhsaW5rVHlwZVwiLFxuICAgICAgICB4bWxiYXNlOiBcInhtbEJhc2VcIixcbiAgICAgICAgXCJ4bWw6YmFzZVwiOiBcInhtbEJhc2VcIixcbiAgICAgICAgeG1sbGFuZzogXCJ4bWxMYW5nXCIsXG4gICAgICAgIFwieG1sOmxhbmdcIjogXCJ4bWxMYW5nXCIsXG4gICAgICAgIHhtbG5zOiBcInhtbG5zXCIsXG4gICAgICAgIFwieG1sOnNwYWNlXCI6IFwieG1sU3BhY2VcIixcbiAgICAgICAgeG1sbnN4bGluazogXCJ4bWxuc1hsaW5rXCIsXG4gICAgICAgIFwieG1sbnM6eGxpbmtcIjogXCJ4bWxuc1hsaW5rXCIsXG4gICAgICAgIHhtbHNwYWNlOiBcInhtbFNwYWNlXCIsXG4gICAgICAgIHkxOiBcInkxXCIsXG4gICAgICAgIHkyOiBcInkyXCIsXG4gICAgICAgIHk6IFwieVwiLFxuICAgICAgICB5Y2hhbm5lbHNlbGVjdG9yOiBcInlDaGFubmVsU2VsZWN0b3JcIixcbiAgICAgICAgejogXCJ6XCIsXG4gICAgICAgIHpvb21hbmRwYW46IFwiem9vbUFuZFBhblwiXG4gICAgICB9LFxuICAgICAgYXJpYVByb3BlcnRpZXMgPSB7XG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1kZXNjcmlwdGlvblwiOiAwLFxuICAgICAgICBcImFyaWEtZGV0YWlsc1wiOiAwLFxuICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiAwLFxuICAgICAgICBcImFyaWEtaW52YWxpZFwiOiAwLFxuICAgICAgICBcImFyaWEta2V5c2hvcnRjdXRzXCI6IDAsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiAwLFxuICAgICAgICBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6IDAsXG4gICAgICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogMCxcbiAgICAgICAgXCJhcmlhLWNoZWNrZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiAwLFxuICAgICAgICBcImFyaWEtbGV2ZWxcIjogMCxcbiAgICAgICAgXCJhcmlhLW1vZGFsXCI6IDAsXG4gICAgICAgIFwiYXJpYS1tdWx0aWxpbmVcIjogMCxcbiAgICAgICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiAwLFxuICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogMCxcbiAgICAgICAgXCJhcmlhLXBsYWNlaG9sZGVyXCI6IDAsXG4gICAgICAgIFwiYXJpYS1wcmVzc2VkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1yZWFkb25seVwiOiAwLFxuICAgICAgICBcImFyaWEtcmVxdWlyZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1zb3J0XCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWVtaW5cIjogMCxcbiAgICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogMCxcbiAgICAgICAgXCJhcmlhLWF0b21pY1wiOiAwLFxuICAgICAgICBcImFyaWEtYnVzeVwiOiAwLFxuICAgICAgICBcImFyaWEtbGl2ZVwiOiAwLFxuICAgICAgICBcImFyaWEtcmVsZXZhbnRcIjogMCxcbiAgICAgICAgXCJhcmlhLWRyb3BlZmZlY3RcIjogMCxcbiAgICAgICAgXCJhcmlhLWdyYWJiZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbGNvdW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1jb2xpbmRleFwiOiAwLFxuICAgICAgICBcImFyaWEtY29sc3BhblwiOiAwLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogMCxcbiAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IDAsXG4gICAgICAgIFwiYXJpYS1lcnJvcm1lc3NhZ2VcIjogMCxcbiAgICAgICAgXCJhcmlhLWZsb3d0b1wiOiAwLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiAwLFxuICAgICAgICBcImFyaWEtb3duc1wiOiAwLFxuICAgICAgICBcImFyaWEtcG9zaW5zZXRcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvd2NvdW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1yb3dpbmRleFwiOiAwLFxuICAgICAgICBcImFyaWEtcm93c3BhblwiOiAwLFxuICAgICAgICBcImFyaWEtc2V0c2l6ZVwiOiAwXG4gICAgICB9LFxuICAgICAgd2FybmVkUHJvcGVydGllcyQxID0ge30sXG4gICAgICByQVJJQSQxID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSktWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgckFSSUFDYW1lbCQxID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSlbQS1aXVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIGRpZFdhcm5WYWx1ZU51bGwgPSAhMSxcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMgPSB7fSxcbiAgICAgIEVWRU5UX05BTUVfUkVHRVggPSAvXm9uLi8sXG4gICAgICBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVggPSAvXm9uW15BLVpdLyxcbiAgICAgIHJBUklBID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSktWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgckFSSUFDYW1lbCA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpW0EtWl1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICBpc0phdmFTY3JpcHRQcm90b2NvbCA9XG4gICAgICAgIC9eW1xcdTAwMDAtXFx1MDAxRiBdKmpbXFxyXFxuXFx0XSphW1xcclxcblxcdF0qdltcXHJcXG5cXHRdKmFbXFxyXFxuXFx0XSpzW1xcclxcblxcdF0qY1tcXHJcXG5cXHRdKnJbXFxyXFxuXFx0XSppW1xcclxcblxcdF0qcFtcXHJcXG5cXHRdKnRbXFxyXFxuXFx0XSo6L2ksXG4gICAgICBjdXJyZW50UmVwbGF5aW5nRXZlbnQgPSBudWxsLFxuICAgICAgcmVzdG9yZVRhcmdldCA9IG51bGwsXG4gICAgICByZXN0b3JlUXVldWUgPSBudWxsLFxuICAgICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSAhMSxcbiAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gITE7XG4gICAgaWYgKGNhblVzZURPTSlcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBvcHRpb25zJGpzY29tcCQwID0ge307XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcHRpb25zJGpzY29tcCQwLCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgb3B0aW9ucyRqc2NvbXAkMCwgb3B0aW9ucyRqc2NvbXAkMCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLCBvcHRpb25zJGpzY29tcCQwLCBvcHRpb25zJGpzY29tcCQwKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgPSAhMTtcbiAgICAgIH1cbiAgICB2YXIgcm9vdCA9IG51bGwsXG4gICAgICBzdGFydFRleHQgPSBudWxsLFxuICAgICAgZmFsbGJhY2tUZXh0ID0gbnVsbCxcbiAgICAgIEV2ZW50SW50ZXJmYWNlID0ge1xuICAgICAgICBldmVudFBoYXNlOiAwLFxuICAgICAgICBidWJibGVzOiAwLFxuICAgICAgICBjYW5jZWxhYmxlOiAwLFxuICAgICAgICB0aW1lU3RhbXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogMCxcbiAgICAgICAgaXNUcnVzdGVkOiAwXG4gICAgICB9LFxuICAgICAgU3ludGhldGljRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChFdmVudEludGVyZmFjZSksXG4gICAgICBVSUV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwgeyB2aWV3OiAwLCBkZXRhaWw6IDAgfSksXG4gICAgICBTeW50aGV0aWNVSUV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVUlFdmVudEludGVyZmFjZSksXG4gICAgICBsYXN0TW92ZW1lbnRYLFxuICAgICAgbGFzdE1vdmVtZW50WSxcbiAgICAgIGxhc3RNb3VzZUV2ZW50LFxuICAgICAgTW91c2VFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwge1xuICAgICAgICBzY3JlZW5YOiAwLFxuICAgICAgICBzY3JlZW5ZOiAwLFxuICAgICAgICBjbGllbnRYOiAwLFxuICAgICAgICBjbGllbnRZOiAwLFxuICAgICAgICBwYWdlWDogMCxcbiAgICAgICAgcGFnZVk6IDAsXG4gICAgICAgIGN0cmxLZXk6IDAsXG4gICAgICAgIHNoaWZ0S2V5OiAwLFxuICAgICAgICBhbHRLZXk6IDAsXG4gICAgICAgIG1ldGFLZXk6IDAsXG4gICAgICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgICAgICAgYnV0dG9uOiAwLFxuICAgICAgICBidXR0b25zOiAwLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBldmVudC5yZWxhdGVkVGFyZ2V0XG4gICAgICAgICAgICA/IGV2ZW50LmZyb21FbGVtZW50ID09PSBldmVudC5zcmNFbGVtZW50XG4gICAgICAgICAgICAgID8gZXZlbnQudG9FbGVtZW50XG4gICAgICAgICAgICAgIDogZXZlbnQuZnJvbUVsZW1lbnRcbiAgICAgICAgICAgIDogZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZW1lbnRYOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoXCJtb3ZlbWVudFhcIiBpbiBldmVudCkgcmV0dXJuIGV2ZW50Lm1vdmVtZW50WDtcbiAgICAgICAgICBldmVudCAhPT0gbGFzdE1vdXNlRXZlbnQgJiZcbiAgICAgICAgICAgIChsYXN0TW91c2VFdmVudCAmJiBcIm1vdXNlbW92ZVwiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICAgID8gKChsYXN0TW92ZW1lbnRYID0gZXZlbnQuc2NyZWVuWCAtIGxhc3RNb3VzZUV2ZW50LnNjcmVlblgpLFxuICAgICAgICAgICAgICAgIChsYXN0TW92ZW1lbnRZID0gZXZlbnQuc2NyZWVuWSAtIGxhc3RNb3VzZUV2ZW50LnNjcmVlblkpKVxuICAgICAgICAgICAgICA6IChsYXN0TW92ZW1lbnRZID0gbGFzdE1vdmVtZW50WCA9IDApLFxuICAgICAgICAgICAgKGxhc3RNb3VzZUV2ZW50ID0gZXZlbnQpKTtcbiAgICAgICAgICByZXR1cm4gbGFzdE1vdmVtZW50WDtcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZW1lbnRZOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJtb3ZlbWVudFlcIiBpbiBldmVudCA/IGV2ZW50Lm1vdmVtZW50WSA6IGxhc3RNb3ZlbWVudFk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljTW91c2VFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KE1vdXNlRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgRHJhZ0V2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBNb3VzZUV2ZW50SW50ZXJmYWNlLCB7IGRhdGFUcmFuc2ZlcjogMCB9KSxcbiAgICAgIFN5bnRoZXRpY0RyYWdFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KERyYWdFdmVudEludGVyZmFjZSksXG4gICAgICBGb2N1c0V2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBVSUV2ZW50SW50ZXJmYWNlLCB7IHJlbGF0ZWRUYXJnZXQ6IDAgfSksXG4gICAgICBTeW50aGV0aWNGb2N1c0V2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoRm9jdXNFdmVudEludGVyZmFjZSksXG4gICAgICBBbmltYXRpb25FdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgYW5pbWF0aW9uTmFtZTogMCxcbiAgICAgICAgZWxhcHNlZFRpbWU6IDAsXG4gICAgICAgIHBzZXVkb0VsZW1lbnQ6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljQW5pbWF0aW9uRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChBbmltYXRpb25FdmVudEludGVyZmFjZSksXG4gICAgICBDbGlwYm9hcmRFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgY2xpcGJvYXJkRGF0YTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwiY2xpcGJvYXJkRGF0YVwiIGluIGV2ZW50XG4gICAgICAgICAgICA/IGV2ZW50LmNsaXBib2FyZERhdGFcbiAgICAgICAgICAgIDogd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljQ2xpcGJvYXJkRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChDbGlwYm9hcmRFdmVudEludGVyZmFjZSksXG4gICAgICBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwgeyBkYXRhOiAwIH0pLFxuICAgICAgU3ludGhldGljQ29tcG9zaXRpb25FdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFxuICAgICAgICBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlXG4gICAgICApLFxuICAgICAgU3ludGhldGljSW5wdXRFdmVudCA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQsXG4gICAgICBub3JtYWxpemVLZXkgPSB7XG4gICAgICAgIEVzYzogXCJFc2NhcGVcIixcbiAgICAgICAgU3BhY2ViYXI6IFwiIFwiLFxuICAgICAgICBMZWZ0OiBcIkFycm93TGVmdFwiLFxuICAgICAgICBVcDogXCJBcnJvd1VwXCIsXG4gICAgICAgIFJpZ2h0OiBcIkFycm93UmlnaHRcIixcbiAgICAgICAgRG93bjogXCJBcnJvd0Rvd25cIixcbiAgICAgICAgRGVsOiBcIkRlbGV0ZVwiLFxuICAgICAgICBXaW46IFwiT1NcIixcbiAgICAgICAgTWVudTogXCJDb250ZXh0TWVudVwiLFxuICAgICAgICBBcHBzOiBcIkNvbnRleHRNZW51XCIsXG4gICAgICAgIFNjcm9sbDogXCJTY3JvbGxMb2NrXCIsXG4gICAgICAgIE1velByaW50YWJsZUtleTogXCJVbmlkZW50aWZpZWRcIlxuICAgICAgfSxcbiAgICAgIHRyYW5zbGF0ZVRvS2V5ID0ge1xuICAgICAgICA4OiBcIkJhY2tzcGFjZVwiLFxuICAgICAgICA5OiBcIlRhYlwiLFxuICAgICAgICAxMjogXCJDbGVhclwiLFxuICAgICAgICAxMzogXCJFbnRlclwiLFxuICAgICAgICAxNjogXCJTaGlmdFwiLFxuICAgICAgICAxNzogXCJDb250cm9sXCIsXG4gICAgICAgIDE4OiBcIkFsdFwiLFxuICAgICAgICAxOTogXCJQYXVzZVwiLFxuICAgICAgICAyMDogXCJDYXBzTG9ja1wiLFxuICAgICAgICAyNzogXCJFc2NhcGVcIixcbiAgICAgICAgMzI6IFwiIFwiLFxuICAgICAgICAzMzogXCJQYWdlVXBcIixcbiAgICAgICAgMzQ6IFwiUGFnZURvd25cIixcbiAgICAgICAgMzU6IFwiRW5kXCIsXG4gICAgICAgIDM2OiBcIkhvbWVcIixcbiAgICAgICAgMzc6IFwiQXJyb3dMZWZ0XCIsXG4gICAgICAgIDM4OiBcIkFycm93VXBcIixcbiAgICAgICAgMzk6IFwiQXJyb3dSaWdodFwiLFxuICAgICAgICA0MDogXCJBcnJvd0Rvd25cIixcbiAgICAgICAgNDU6IFwiSW5zZXJ0XCIsXG4gICAgICAgIDQ2OiBcIkRlbGV0ZVwiLFxuICAgICAgICAxMTI6IFwiRjFcIixcbiAgICAgICAgMTEzOiBcIkYyXCIsXG4gICAgICAgIDExNDogXCJGM1wiLFxuICAgICAgICAxMTU6IFwiRjRcIixcbiAgICAgICAgMTE2OiBcIkY1XCIsXG4gICAgICAgIDExNzogXCJGNlwiLFxuICAgICAgICAxMTg6IFwiRjdcIixcbiAgICAgICAgMTE5OiBcIkY4XCIsXG4gICAgICAgIDEyMDogXCJGOVwiLFxuICAgICAgICAxMjE6IFwiRjEwXCIsXG4gICAgICAgIDEyMjogXCJGMTFcIixcbiAgICAgICAgMTIzOiBcIkYxMlwiLFxuICAgICAgICAxNDQ6IFwiTnVtTG9ja1wiLFxuICAgICAgICAxNDU6IFwiU2Nyb2xsTG9ja1wiLFxuICAgICAgICAyMjQ6IFwiTWV0YVwiXG4gICAgICB9LFxuICAgICAgbW9kaWZpZXJLZXlUb1Byb3AgPSB7XG4gICAgICAgIEFsdDogXCJhbHRLZXlcIixcbiAgICAgICAgQ29udHJvbDogXCJjdHJsS2V5XCIsXG4gICAgICAgIE1ldGE6IFwibWV0YUtleVwiLFxuICAgICAgICBTaGlmdDogXCJzaGlmdEtleVwiXG4gICAgICB9LFxuICAgICAgS2V5Ym9hcmRFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwge1xuICAgICAgICBrZXk6IGZ1bmN0aW9uIChuYXRpdmVFdmVudCkge1xuICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5rZXkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG4gICAgICAgICAgICBpZiAoXCJVbmlkZW50aWZpZWRcIiAhPT0ga2V5KSByZXR1cm4ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCJrZXlwcmVzc1wiID09PSBuYXRpdmVFdmVudC50eXBlXG4gICAgICAgICAgICA/ICgobmF0aXZlRXZlbnQgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSksXG4gICAgICAgICAgICAgIDEzID09PSBuYXRpdmVFdmVudCA/IFwiRW50ZXJcIiA6IFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQpKVxuICAgICAgICAgICAgOiBcImtleWRvd25cIiA9PT0gbmF0aXZlRXZlbnQudHlwZSB8fCBcImtleXVwXCIgPT09IG5hdGl2ZUV2ZW50LnR5cGVcbiAgICAgICAgICAgICAgPyB0cmFuc2xhdGVUb0tleVtuYXRpdmVFdmVudC5rZXlDb2RlXSB8fCBcIlVuaWRlbnRpZmllZFwiXG4gICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogMCxcbiAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgIGN0cmxLZXk6IDAsXG4gICAgICAgIHNoaWZ0S2V5OiAwLFxuICAgICAgICBhbHRLZXk6IDAsXG4gICAgICAgIG1ldGFLZXk6IDAsXG4gICAgICAgIHJlcGVhdDogMCxcbiAgICAgICAgbG9jYWxlOiAwLFxuICAgICAgICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gICAgICAgIGNoYXJDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlwcmVzc1wiID09PSBldmVudC50eXBlID8gZ2V0RXZlbnRDaGFyQ29kZShldmVudCkgOiAwO1xuICAgICAgICB9LFxuICAgICAgICBrZXlDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlkb3duXCIgPT09IGV2ZW50LnR5cGUgfHwgXCJrZXl1cFwiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICA/IGV2ZW50LmtleUNvZGVcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAgd2hpY2g6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImtleXByZXNzXCIgPT09IGV2ZW50LnR5cGVcbiAgICAgICAgICAgID8gZ2V0RXZlbnRDaGFyQ29kZShldmVudClcbiAgICAgICAgICAgIDogXCJrZXlkb3duXCIgPT09IGV2ZW50LnR5cGUgfHwgXCJrZXl1cFwiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICAgID8gZXZlbnQua2V5Q29kZVxuICAgICAgICAgICAgICA6IDA7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljS2V5Ym9hcmRFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEtleWJvYXJkRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgUG9pbnRlckV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBNb3VzZUV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIHBvaW50ZXJJZDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgcHJlc3N1cmU6IDAsXG4gICAgICAgIHRhbmdlbnRpYWxQcmVzc3VyZTogMCxcbiAgICAgICAgdGlsdFg6IDAsXG4gICAgICAgIHRpbHRZOiAwLFxuICAgICAgICB0d2lzdDogMCxcbiAgICAgICAgcG9pbnRlclR5cGU6IDAsXG4gICAgICAgIGlzUHJpbWFyeTogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNQb2ludGVyRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChQb2ludGVyRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgVG91Y2hFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwge1xuICAgICAgICB0b3VjaGVzOiAwLFxuICAgICAgICB0YXJnZXRUb3VjaGVzOiAwLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlczogMCxcbiAgICAgICAgYWx0S2V5OiAwLFxuICAgICAgICBtZXRhS2V5OiAwLFxuICAgICAgICBjdHJsS2V5OiAwLFxuICAgICAgICBzaGlmdEtleTogMCxcbiAgICAgICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1RvdWNoRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChUb3VjaEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFRyYW5zaXRpb25FdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgcHJvcGVydHlOYW1lOiAwLFxuICAgICAgICBlbGFwc2VkVGltZTogMCxcbiAgICAgICAgcHNldWRvRWxlbWVudDogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgV2hlZWxFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgTW91c2VFdmVudEludGVyZmFjZSwge1xuICAgICAgICBkZWx0YVg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImRlbHRhWFwiIGluIGV2ZW50XG4gICAgICAgICAgICA/IGV2ZW50LmRlbHRhWFxuICAgICAgICAgICAgOiBcIndoZWVsRGVsdGFYXCIgaW4gZXZlbnRcbiAgICAgICAgICAgICAgPyAtZXZlbnQud2hlZWxEZWx0YVhcbiAgICAgICAgICAgICAgOiAwO1xuICAgICAgICB9LFxuICAgICAgICBkZWx0YVk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImRlbHRhWVwiIGluIGV2ZW50XG4gICAgICAgICAgICA/IGV2ZW50LmRlbHRhWVxuICAgICAgICAgICAgOiBcIndoZWVsRGVsdGFZXCIgaW4gZXZlbnRcbiAgICAgICAgICAgICAgPyAtZXZlbnQud2hlZWxEZWx0YVlcbiAgICAgICAgICAgICAgOiBcIndoZWVsRGVsdGFcIiBpbiBldmVudFxuICAgICAgICAgICAgICAgID8gLWV2ZW50LndoZWVsRGVsdGFcbiAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbHRhWjogMCxcbiAgICAgICAgZGVsdGFNb2RlOiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1doZWVsRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChXaGVlbEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFRvZ2dsZUV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwge1xuICAgICAgICBuZXdTdGF0ZTogMCxcbiAgICAgICAgb2xkU3RhdGU6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljVG9nZ2xlRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChUb2dnbGVFdmVudEludGVyZmFjZSksXG4gICAgICBFTkRfS0VZQ09ERVMgPSBbOSwgMTMsIDI3LCAzMl0sXG4gICAgICBTVEFSVF9LRVlDT0RFID0gMjI5LFxuICAgICAgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IGNhblVzZURPTSAmJiBcIkNvbXBvc2l0aW9uRXZlbnRcIiBpbiB3aW5kb3csXG4gICAgICBkb2N1bWVudE1vZGUgPSBudWxsO1xuICAgIGNhblVzZURPTSAmJlxuICAgICAgXCJkb2N1bWVudE1vZGVcIiBpbiBkb2N1bWVudCAmJlxuICAgICAgKGRvY3VtZW50TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG4gICAgdmFyIGNhblVzZVRleHRJbnB1dEV2ZW50ID1cbiAgICAgICAgY2FuVXNlRE9NICYmIFwiVGV4dEV2ZW50XCIgaW4gd2luZG93ICYmICFkb2N1bWVudE1vZGUsXG4gICAgICB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSA9XG4gICAgICAgIGNhblVzZURPTSAmJlxuICAgICAgICAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgfHxcbiAgICAgICAgICAoZG9jdW1lbnRNb2RlICYmIDggPCBkb2N1bWVudE1vZGUgJiYgMTEgPj0gZG9jdW1lbnRNb2RlKSksXG4gICAgICBTUEFDRUJBUl9DT0RFID0gMzIsXG4gICAgICBTUEFDRUJBUl9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZShTUEFDRUJBUl9DT0RFKSxcbiAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSAhMSxcbiAgICAgIGlzQ29tcG9zaW5nID0gITEsXG4gICAgICBzdXBwb3J0ZWRJbnB1dFR5cGVzID0ge1xuICAgICAgICBjb2xvcjogITAsXG4gICAgICAgIGRhdGU6ICEwLFxuICAgICAgICBkYXRldGltZTogITAsXG4gICAgICAgIFwiZGF0ZXRpbWUtbG9jYWxcIjogITAsXG4gICAgICAgIGVtYWlsOiAhMCxcbiAgICAgICAgbW9udGg6ICEwLFxuICAgICAgICBudW1iZXI6ICEwLFxuICAgICAgICBwYXNzd29yZDogITAsXG4gICAgICAgIHJhbmdlOiAhMCxcbiAgICAgICAgc2VhcmNoOiAhMCxcbiAgICAgICAgdGVsOiAhMCxcbiAgICAgICAgdGV4dDogITAsXG4gICAgICAgIHRpbWU6ICEwLFxuICAgICAgICB1cmw6ICEwLFxuICAgICAgICB3ZWVrOiAhMFxuICAgICAgfSxcbiAgICAgIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGwsXG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCQxID0gbnVsbCxcbiAgICAgIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9ICExO1xuICAgIGNhblVzZURPTSAmJlxuICAgICAgKGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9XG4gICAgICAgIGlzRXZlbnRTdXBwb3J0ZWQoXCJpbnB1dFwiKSAmJlxuICAgICAgICAoIWRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA5IDwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7XG4gICAgdmFyIG9iamVjdElzID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogaXMsXG4gICAgICBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPVxuICAgICAgICBjYW5Vc2VET00gJiYgXCJkb2N1bWVudE1vZGVcIiBpbiBkb2N1bWVudCAmJiAxMSA+PSBkb2N1bWVudC5kb2N1bWVudE1vZGUsXG4gICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbCxcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbCxcbiAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsLFxuICAgICAgbW91c2VEb3duID0gITEsXG4gICAgICB2ZW5kb3JQcmVmaXhlcyA9IHtcbiAgICAgICAgYW5pbWF0aW9uZW5kOiBtYWtlUHJlZml4TWFwKFwiQW5pbWF0aW9uXCIsIFwiQW5pbWF0aW9uRW5kXCIpLFxuICAgICAgICBhbmltYXRpb25pdGVyYXRpb246IG1ha2VQcmVmaXhNYXAoXCJBbmltYXRpb25cIiwgXCJBbmltYXRpb25JdGVyYXRpb25cIiksXG4gICAgICAgIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKFwiQW5pbWF0aW9uXCIsIFwiQW5pbWF0aW9uU3RhcnRcIiksXG4gICAgICAgIHRyYW5zaXRpb25ydW46IG1ha2VQcmVmaXhNYXAoXCJUcmFuc2l0aW9uXCIsIFwiVHJhbnNpdGlvblJ1blwiKSxcbiAgICAgICAgdHJhbnNpdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25TdGFydFwiKSxcbiAgICAgICAgdHJhbnNpdGlvbmNhbmNlbDogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uQ2FuY2VsXCIpLFxuICAgICAgICB0cmFuc2l0aW9uZW5kOiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25FbmRcIilcbiAgICAgIH0sXG4gICAgICBwcmVmaXhlZEV2ZW50TmFtZXMgPSB7fSxcbiAgICAgIHN0eWxlID0ge307XG4gICAgY2FuVXNlRE9NICYmXG4gICAgICAoKHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSksXG4gICAgICBcIkFuaW1hdGlvbkV2ZW50XCIgaW4gd2luZG93IHx8XG4gICAgICAgIChkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixcbiAgICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbml0ZXJhdGlvbi5hbmltYXRpb24sXG4gICAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb24pLFxuICAgICAgXCJUcmFuc2l0aW9uRXZlbnRcIiBpbiB3aW5kb3cgfHxcbiAgICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbik7XG4gICAgdmFyIEFOSU1BVElPTl9FTkQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcImFuaW1hdGlvbmVuZFwiKSxcbiAgICAgIEFOSU1BVElPTl9JVEVSQVRJT04gPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcImFuaW1hdGlvbml0ZXJhdGlvblwiKSxcbiAgICAgIEFOSU1BVElPTl9TVEFSVCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwiYW5pbWF0aW9uc3RhcnRcIiksXG4gICAgICBUUkFOU0lUSU9OX1JVTiA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwidHJhbnNpdGlvbnJ1blwiKSxcbiAgICAgIFRSQU5TSVRJT05fU1RBUlQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25zdGFydFwiKSxcbiAgICAgIFRSQU5TSVRJT05fQ0FOQ0VMID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9uY2FuY2VsXCIpLFxuICAgICAgVFJBTlNJVElPTl9FTkQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25lbmRcIiksXG4gICAgICB0b3BMZXZlbEV2ZW50c1RvUmVhY3ROYW1lcyA9IG5ldyBNYXAoKSxcbiAgICAgIHNpbXBsZUV2ZW50UGx1Z2luRXZlbnRzID1cbiAgICAgICAgXCJhYm9ydCBhdXhDbGljayBiZWZvcmVUb2dnbGUgY2FuY2VsIGNhblBsYXkgY2FuUGxheVRocm91Z2ggY2xpY2sgY2xvc2UgY29udGV4dE1lbnUgY29weSBjdXQgZHJhZyBkcmFnRW5kIGRyYWdFbnRlciBkcmFnRXhpdCBkcmFnTGVhdmUgZHJhZ092ZXIgZHJhZ1N0YXJ0IGRyb3AgZHVyYXRpb25DaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgZ290UG9pbnRlckNhcHR1cmUgaW5wdXQgaW52YWxpZCBrZXlEb3duIGtleVByZXNzIGtleVVwIGxvYWQgbG9hZGVkRGF0YSBsb2FkZWRNZXRhZGF0YSBsb2FkU3RhcnQgbG9zdFBvaW50ZXJDYXB0dXJlIG1vdXNlRG93biBtb3VzZU1vdmUgbW91c2VPdXQgbW91c2VPdmVyIG1vdXNlVXAgcGFzdGUgcGF1c2UgcGxheSBwbGF5aW5nIHBvaW50ZXJDYW5jZWwgcG9pbnRlckRvd24gcG9pbnRlck1vdmUgcG9pbnRlck91dCBwb2ludGVyT3ZlciBwb2ludGVyVXAgcHJvZ3Jlc3MgcmF0ZUNoYW5nZSByZXNldCByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1lVXBkYXRlIHRvdWNoQ2FuY2VsIHRvdWNoRW5kIHRvdWNoU3RhcnQgdm9sdW1lQ2hhbmdlIHNjcm9sbCBzY3JvbGxFbmQgdG9nZ2xlIHRvdWNoTW92ZSB3YWl0aW5nIHdoZWVsXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIE9mZnNjcmVlblZpc2libGUgPSAxLFxuICAgICAgT2Zmc2NyZWVuRGV0YWNoZWQgPSAyLFxuICAgICAgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQgPSA0LFxuICAgICAgY29uY3VycmVudFF1ZXVlcyA9IFtdLFxuICAgICAgY29uY3VycmVudFF1ZXVlc0luZGV4ID0gMCxcbiAgICAgIGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcyA9IDAsXG4gICAgICBlbXB0eUNvbnRleHRPYmplY3QgPSB7fTtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5Q29udGV4dE9iamVjdCk7XG4gICAgdmFyIHJlc29sdmVGYW1pbHkgPSBudWxsLFxuICAgICAgZmFpbGVkQm91bmRhcmllcyA9IG51bGwsXG4gICAgICBOb01vZGUgPSAwLFxuICAgICAgQ29uY3VycmVudE1vZGUgPSAxLFxuICAgICAgUHJvZmlsZU1vZGUgPSAyLFxuICAgICAgU3RyaWN0TGVnYWN5TW9kZSA9IDgsXG4gICAgICBTdHJpY3RFZmZlY3RzTW9kZSA9IDE2LFxuICAgICAgTm9TdHJpY3RQYXNzaXZlRWZmZWN0c01vZGUgPSA2NCxcbiAgICAgIG5vdyA9IFNjaGVkdWxlci51bnN0YWJsZV9ub3csXG4gICAgICByZW5kZXJTdGFydFRpbWUgPSAtMCxcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSA9IC0wLFxuICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMS4xLFxuICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiA9IC0wLFxuICAgICAgY3VycmVudFVwZGF0ZUlzTmVzdGVkID0gITEsXG4gICAgICBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSAhMSxcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzID0ge1xuICAgICAgICByZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5nczogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIGZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgcmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmc6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBmbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgZGlzY2FyZFBlbmRpbmdXYXJuaW5nczogZnVuY3Rpb24gKCkge31cbiAgICAgIH0sXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdLFxuICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcyA9IG5ldyBTZXQoKTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChcbiAgICAgIGZpYmVyLFxuICAgICAgaW5zdGFuY2VcbiAgICApIHtcbiAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpIHx8XG4gICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAhMCAhPT0gaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIGZpYmVyLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAhMCAhPT1cbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAmJlxuICAgICAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIGZpYmVyLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICEwICE9PSBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBmaWJlci5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MucHVzaChmaWJlcikpO1xuICAgIH07XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKFxuICAgICAgICAgIGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSkpO1xuICAgICAgaWYgKDAgPCBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuc2l6ZSkge1xuICAgICAgICB2YXIgc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXNcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgaW4gc3RyaWN0IG1vZGUgaXMgbm90IHJlY29tbWVuZGVkIGFuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgY29kZSB3aXRoIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRNb3VudCwgYW5kIHNldCBpbml0aWFsIHN0YXRlIGluIHRoZSBjb25zdHJ1Y3Rvci5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgMCA8IFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lc1xuICAgICAgICApKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbiogSWYgeW91J3JlIHVwZGF0aW5nIHN0YXRlIHdoZW5ldmVyIHByb3BzIGNoYW5nZSwgcmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBtZW1vaXphdGlvbiB0ZWNobmlxdWVzIG9yIG1vdmUgaXQgdG8gc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gTGVhcm4gbW9yZSBhdDogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kZXJpdmVkLXN0YXRlXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzXG4gICAgICAgICkpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVXNpbmcgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgaW4gc3RyaWN0IG1vZGUgaXMgbm90IHJlY29tbWVuZGVkIGFuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMpKSxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiY29tcG9uZW50V2lsbE1vdW50IGhhcyBiZWVuIHJlbmFtZWQsIGFuZCBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHVzZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBjb2RlIHdpdGggc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZE1vdW50LCBhbmQgc2V0IGluaXRpYWwgc3RhdGUgaW4gdGhlIGNvbnN0cnVjdG9yLlxcbiogUmVuYW1lIGNvbXBvbmVudFdpbGxNb3VudCB0byBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE4LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuIFRvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gYG5weCByZWFjdC1jb2RlbW9kIHJlbmFtZS11bnNhZmUtbGlmZWN5Y2xlc2AgaW4geW91ciBwcm9qZWN0IHNvdXJjZSBmb2xkZXIuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFxuICAgICAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lc1xuICAgICAgICApKSxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBoYXMgYmVlbiByZW5hbWVkLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuKiBJZiB5b3UncmUgdXBkYXRpbmcgc3RhdGUgd2hlbmV2ZXIgcHJvcHMgY2hhbmdlLCByZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIG1lbW9pemF0aW9uIHRlY2huaXF1ZXMgb3IgbW92ZSBpdCB0byBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBMZWFybiBtb3JlIGF0OiBodHRwczovL3JlYWN0LmRldi9saW5rL2Rlcml2ZWQtc3RhdGVcXG4qIFJlbmFtZSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE4LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuIFRvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gYG5weCByZWFjdC1jb2RlbW9kIHJlbmFtZS11bnNhZmUtbGlmZWN5Y2xlc2AgaW4geW91ciBwcm9qZWN0IHNvdXJjZSBmb2xkZXIuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcykpLFxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJjb21wb25lbnRXaWxsVXBkYXRlIGhhcyBiZWVuIHJlbmFtZWQsIGFuZCBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHVzZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG4qIFJlbmFtZSBjb21wb25lbnRXaWxsVXBkYXRlIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE4LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuIFRvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gYG5weCByZWFjdC1jb2RlbW9kIHJlbmFtZS11bnNhZmUtbGlmZWN5Y2xlc2AgaW4geW91ciBwcm9qZWN0IHNvdXJjZSBmb2xkZXIuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgfTtcbiAgICB2YXIgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nID0gbmV3IE1hcCgpLFxuICAgICAgZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dCA9IG5ldyBTZXQoKTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uIChcbiAgICAgIGZpYmVyLFxuICAgICAgaW5zdGFuY2VcbiAgICApIHtcbiAgICAgIHZhciBzdHJpY3RSb290ID0gbnVsbDtcbiAgICAgIGZvciAodmFyIG5vZGUgPSBmaWJlcjsgbnVsbCAhPT0gbm9kZTsgKVxuICAgICAgICBub2RlLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmIChzdHJpY3RSb290ID0gbm9kZSksXG4gICAgICAgICAgKG5vZGUgPSBub2RlLnJldHVybik7XG4gICAgICBudWxsID09PSBzdHJpY3RSb290XG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIFN0cmljdE1vZGUgY29tcG9uZW50IGluIGEgc3RyaWN0IG1vZGUgdHJlZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiAhZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dC5oYXMoZmliZXIudHlwZSkgJiZcbiAgICAgICAgICAoKG5vZGUgPSBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuZ2V0KHN0cmljdFJvb3QpKSxcbiAgICAgICAgICBudWxsICE9IGZpYmVyLnR5cGUuY29udGV4dFR5cGVzIHx8XG4gICAgICAgICAgICBudWxsICE9IGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMgfHxcbiAgICAgICAgICAgIChudWxsICE9PSBpbnN0YW5jZSAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSAmJlxuICAgICAgICAgICh2b2lkIDAgPT09IG5vZGUgJiZcbiAgICAgICAgICAgICgobm9kZSA9IFtdKSwgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLnNldChzdHJpY3RSb290LCBub2RlKSksXG4gICAgICAgICAgbm9kZS5wdXNoKGZpYmVyKSk7XG4gICAgfTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyQXJyYXkpIHtcbiAgICAgICAgaWYgKDAgIT09IGZpYmVyQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGZpcnN0RmliZXIgPSBmaWJlckFycmF5WzBdLFxuICAgICAgICAgICAgdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgZmliZXJBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgICAgdW5pcXVlTmFtZXMuYWRkKGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCIpO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dC5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcodW5pcXVlTmFtZXMpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpcnN0RmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiTGVnYWN5IGNvbnRleHQgQVBJIGhhcyBiZWVuIGRldGVjdGVkIHdpdGhpbiBhIHN0cmljdC1tb2RlIHRyZWUuXFxuXFxuVGhlIG9sZCBBUEkgd2lsbCBiZSBzdXBwb3J0ZWQgaW4gYWxsIDE2LnggcmVsZWFzZXMsIGJ1dCBhcHBsaWNhdGlvbnMgdXNpbmcgaXQgc2hvdWxkIG1pZ3JhdGUgdG8gdGhlIG5ldyB2ZXJzaW9uLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHRcIixcbiAgICAgICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBuZXcgTWFwKCk7XG4gICAgfTtcbiAgICB2YXIgQ2FwdHVyZWRTdGFja3MgPSBuZXcgV2Vha01hcCgpLFxuICAgICAgZm9ya1N0YWNrID0gW10sXG4gICAgICBmb3JrU3RhY2tJbmRleCA9IDAsXG4gICAgICB0cmVlRm9ya1Byb3ZpZGVyID0gbnVsbCxcbiAgICAgIHRyZWVGb3JrQ291bnQgPSAwLFxuICAgICAgaWRTdGFjayA9IFtdLFxuICAgICAgaWRTdGFja0luZGV4ID0gMCxcbiAgICAgIHRyZWVDb250ZXh0UHJvdmlkZXIgPSBudWxsLFxuICAgICAgdHJlZUNvbnRleHRJZCA9IDEsXG4gICAgICB0cmVlQ29udGV4dE92ZXJmbG93ID0gXCJcIixcbiAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbCxcbiAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsLFxuICAgICAgaXNIeWRyYXRpbmcgPSAhMSxcbiAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWID0gITEsXG4gICAgICBoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwsXG4gICAgICBoeWRyYXRpb25FcnJvcnMgPSBudWxsLFxuICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExLFxuICAgICAgSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJIeWRyYXRpb24gTWlzbWF0Y2ggRXhjZXB0aW9uOiBUaGlzIGlzIG5vdCBhIHJlYWwgZXJyb3IsIGFuZCBzaG91bGQgbm90IGxlYWsgaW50byB1c2Vyc3BhY2UuIElmIHlvdSdyZSBzZWVpbmcgdGhpcywgaXQncyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICksXG4gICAgICBTdXNwZW5zZUV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIlN1c3BlbnNlIEV4Y2VwdGlvbjogVGhpcyBpcyBub3QgYSByZWFsIGVycm9yISBJdCdzIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbCBvZiBgdXNlYCB0byBpbnRlcnJ1cHQgdGhlIGN1cnJlbnQgcmVuZGVyLiBZb3UgbXVzdCBlaXRoZXIgcmV0aHJvdyBpdCBpbW1lZGlhdGVseSwgb3IgbW92ZSB0aGUgYHVzZWAgY2FsbCBvdXRzaWRlIG9mIHRoZSBgdHJ5L2NhdGNoYCBibG9jay4gQ2FwdHVyaW5nIHdpdGhvdXQgcmV0aHJvd2luZyB3aWxsIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci5cXG5cXG5UbyBoYW5kbGUgYXN5bmMgZXJyb3JzLCB3cmFwIHlvdXIgY29tcG9uZW50IGluIGFuIGVycm9yIGJvdW5kYXJ5LCBvciBjYWxsIHRoZSBwcm9taXNlJ3MgYC5jYXRjaGAgbWV0aG9kIGFuZCBwYXNzIHRoZSByZXN1bHQgdG8gYHVzZWBcIlxuICAgICAgKSxcbiAgICAgIFN1c3BlbnNleUNvbW1pdEV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIlN1c3BlbnNlIEV4Y2VwdGlvbjogVGhpcyBpcyBub3QgYSByZWFsIGVycm9yLCBhbmQgc2hvdWxkIG5vdCBsZWFrIGludG8gdXNlcnNwYWNlLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIGl0J3MgbGlrZWx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICApLFxuICAgICAgbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlID0ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdJbnRlcm5hbCBSZWFjdCBlcnJvcjogQSBsaXN0ZW5lciB3YXMgdW5leHBlY3RlZGx5IGF0dGFjaGVkIHRvIGEgXCJub29wXCIgdGhlbmFibGUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3VzcGVuZGVkVGhlbmFibGUgPSBudWxsLFxuICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMSxcbiAgICAgIGNhbGxDb21wb25lbnQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChDb21wb25lbnQsIHByb3BzLCBzZWNvbmRBcmcpIHtcbiAgICAgICAgICB2YXIgd2FzUmVuZGVyaW5nID0gaXNSZW5kZXJpbmc7XG4gICAgICAgICAgaXNSZW5kZXJpbmcgPSAhMDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBvbmVudChwcm9wcywgc2Vjb25kQXJnKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaXNSZW5kZXJpbmcgPSB3YXNSZW5kZXJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudEluREVWID1cbiAgICAgICAgY2FsbENvbXBvbmVudFtcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxDb21wb25lbnQpLFxuICAgICAgY2FsbFJlbmRlciA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgICAgdmFyIHdhc1JlbmRlcmluZyA9IGlzUmVuZGVyaW5nO1xuICAgICAgICAgIGlzUmVuZGVyaW5nID0gITA7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaXNSZW5kZXJpbmcgPSB3YXNSZW5kZXJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbFJlbmRlckluREVWID0gY2FsbFJlbmRlcltcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxSZW5kZXIpLFxuICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoZmluaXNoZWRXb3JrLCBpbnN0YW5jZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFViA9IGNhbGxDb21wb25lbnREaWRNb3VudFtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnREaWRNb3VudCksXG4gICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICBwcmV2U3RhdGUsXG4gICAgICAgICAgc25hcHNob3RcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlSW5ERVYgPSBjYWxsQ29tcG9uZW50RGlkVXBkYXRlW1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXG4gICAgICBdLmJpbmQoY2FsbENvbXBvbmVudERpZFVwZGF0ZSksXG4gICAgICBjYWxsQ29tcG9uZW50RGlkQ2F0Y2ggPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChpbnN0YW5jZSwgZXJyb3JJbmZvKSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gZXJyb3JJbmZvLnN0YWNrO1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoKGVycm9ySW5mby52YWx1ZSwge1xuICAgICAgICAgICAgY29tcG9uZW50U3RhY2s6IG51bGwgIT09IHN0YWNrID8gc3RhY2sgOiBcIlwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50RGlkQ2F0Y2hJbkRFViA9IGNhbGxDb21wb25lbnREaWRDYXRjaFtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnREaWRDYXRjaCksXG4gICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRJbkRFViA9IGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnRXaWxsVW5tb3VudCksXG4gICAgICBjYWxsQ3JlYXRlID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoZWZmZWN0KSB7XG4gICAgICAgICAgdmFyIGNyZWF0ZSA9IGVmZmVjdC5jcmVhdGU7XG4gICAgICAgICAgZWZmZWN0ID0gZWZmZWN0Lmluc3Q7XG4gICAgICAgICAgY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgICAgICAgcmV0dXJuIChlZmZlY3QuZGVzdHJveSA9IGNyZWF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ3JlYXRlSW5ERVYgPSBjYWxsQ3JlYXRlW1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbENyZWF0ZSksXG4gICAgICBjYWxsRGVzdHJveSA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICBkZXN0cm95XG4gICAgICAgICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZXN0cm95KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsRGVzdHJveUluREVWID1cbiAgICAgICAgY2FsbERlc3Ryb3lbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsRGVzdHJveSksXG4gICAgICBjYWxsTGF6eUluaXQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChsYXp5KSB7XG4gICAgICAgICAgdmFyIGluaXQgPSBsYXp5Ll9pbml0O1xuICAgICAgICAgIHJldHVybiBpbml0KGxhenkuX3BheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbExhenlJbml0SW5ERVYgPVxuICAgICAgICBjYWxsTGF6eUluaXRbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsTGF6eUluaXQpLFxuICAgICAgdGhlbmFibGVTdGF0ZSQxID0gbnVsbCxcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwLFxuICAgICAgY3VycmVudERlYnVnSW5mbyA9IG51bGwsXG4gICAgICBkaWRXYXJuQWJvdXRNYXBzO1xuICAgIHZhciBkaWRXYXJuQWJvdXRHZW5lcmF0b3JzID0gKGRpZFdhcm5BYm91dE1hcHMgPSAhMSk7XG4gICAgdmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICAgIHZhciBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmcgPSB7fTtcbiAgICB2YXIgb3duZXJIYXNTeW1ib2xUeXBlV2FybmluZyA9IHt9O1xuICAgIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gY2hpbGQgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGNoaWxkICYmXG4gICAgICAgIGNoaWxkLl9zdG9yZSAmJlxuICAgICAgICAoKCFjaGlsZC5fc3RvcmUudmFsaWRhdGVkICYmIG51bGwgPT0gY2hpbGQua2V5KSB8fFxuICAgICAgICAgIDIgPT09IGNoaWxkLl9zdG9yZS52YWxpZGF0ZWQpXG4gICAgICApIHtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiBjaGlsZC5fc3RvcmUpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGNoaWxkLl9zdG9yZS52YWxpZGF0ZWQgPSAxO1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpLFxuICAgICAgICAgIGNvbXBvbmVudEtleSA9IGNvbXBvbmVudE5hbWUgfHwgXCJudWxsXCI7XG4gICAgICAgIGlmICghb3duZXJIYXNLZXlVc2VXYXJuaW5nW2NvbXBvbmVudEtleV0pIHtcbiAgICAgICAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbY29tcG9uZW50S2V5XSA9ICEwO1xuICAgICAgICAgIGNoaWxkID0gY2hpbGQuX293bmVyO1xuICAgICAgICAgIHJldHVybkZpYmVyID0gcmV0dXJuRmliZXIuX2RlYnVnT3duZXI7XG4gICAgICAgICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBcIlwiO1xuICAgICAgICAgIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgcmV0dXJuRmliZXIudGFnICYmXG4gICAgICAgICAgICAoY29tcG9uZW50S2V5ID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihyZXR1cm5GaWJlcikpICYmXG4gICAgICAgICAgICAoY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9XG4gICAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgY29tcG9uZW50S2V5ICsgXCJgLlwiKTtcbiAgICAgICAgICBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIHx8XG4gICAgICAgICAgICAoY29tcG9uZW50TmFtZSAmJlxuICAgICAgICAgICAgICAoY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9XG4gICAgICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArXG4gICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZSArXG4gICAgICAgICAgICAgICAgXCI+LlwiKSk7XG4gICAgICAgICAgdmFyIGNoaWxkT3duZXJBcHBlbmRpeCA9IFwiXCI7XG4gICAgICAgICAgbnVsbCAhPSBjaGlsZCAmJlxuICAgICAgICAgICAgcmV0dXJuRmliZXIgIT09IGNoaWxkICYmXG4gICAgICAgICAgICAoKGNvbXBvbmVudE5hbWUgPSBudWxsKSxcbiAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjaGlsZC50YWdcbiAgICAgICAgICAgICAgPyAoY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoY2hpbGQpKVxuICAgICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjaGlsZC5uYW1lICYmIChjb21wb25lbnROYW1lID0gY2hpbGQubmFtZSksXG4gICAgICAgICAgICBjb21wb25lbnROYW1lICYmXG4gICAgICAgICAgICAgIChjaGlsZE93bmVyQXBwZW5kaXggPVxuICAgICAgICAgICAgICAgIFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgY29tcG9uZW50TmFtZSArIFwiLlwiKSk7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYod29ya0luUHJvZ3Jlc3MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyxcbiAgICAgICAgICAgICAgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyxcbiAgICAgICAgICAgICAgY2hpbGRPd25lckFwcGVuZGl4XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVjb25jaWxlQ2hpbGRGaWJlcnMgPSBjcmVhdGVDaGlsZFJlY29uY2lsZXIoITApLFxuICAgICAgbW91bnRDaGlsZEZpYmVycyA9IGNyZWF0ZUNoaWxkUmVjb25jaWxlcighMSksXG4gICAgICBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKDApLFxuICAgICAgc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBzaGVsbEJvdW5kYXJ5ID0gbnVsbCxcbiAgICAgIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrID0gMSxcbiAgICAgIEZvcmNlU3VzcGVuc2VGYWxsYmFjayA9IDIsXG4gICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKDApLFxuICAgICAgTm9GbGFncyA9IDAsXG4gICAgICBIYXNFZmZlY3QgPSAxLFxuICAgICAgSW5zZXJ0aW9uID0gMixcbiAgICAgIExheW91dCA9IDQsXG4gICAgICBQYXNzaXZlID0gOCxcbiAgICAgIEFib3J0Q29udHJvbGxlckxvY2FsID1cbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIEFib3J0Q29udHJvbGxlclxuICAgICAgICAgID8gQWJvcnRDb250cm9sbGVyXG4gICAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXSxcbiAgICAgICAgICAgICAgICBzaWduYWwgPSAodGhpcy5zaWduYWwgPSB7XG4gICAgICAgICAgICAgICAgICBhYm9ydGVkOiAhMSxcbiAgICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2lnbmFsLmFib3J0ZWQgPSAhMDtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMiA9IFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrLFxuICAgICAgTm9ybWFsUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICBDYWNoZUNvbnRleHQgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIENvbnN1bWVyOiBudWxsLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IG51bGwsXG4gICAgICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAgICAgX2N1cnJlbnRSZW5kZXJlcjogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRSZW5kZXJlcjI6IG51bGxcbiAgICAgIH0sXG4gICAgICBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzID0gbnVsbCxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQgPSAwLFxuICAgICAgY3VycmVudEVudGFuZ2xlZExhbmUgPSAwLFxuICAgICAgY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlID0gbnVsbCxcbiAgICAgIHByZXZPblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuUyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCByZXR1cm5WYWx1ZSkge1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gJiZcbiAgICAgICAgZW50YW5nbGVBc3luY0FjdGlvbih0cmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICBudWxsICE9PSBwcmV2T25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgcHJldk9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKHRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICB9O1xuICAgIHZhciByZXN1bWVkQ2FjaGUgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdDtcbiAgICB2YXIgZGlkV2FybkFib3V0TWlzbWF0Y2hlZEhvb2tzRm9yQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVc2VXcmFwcGVkSW5UcnlDYXRjaCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVzZUZvcm1TdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgcmVuZGVyTGFuZXMgPSAwLFxuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IG51bGwsXG4gICAgICBjdXJyZW50SG9vayA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsLFxuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9ICExLFxuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID0gITEsXG4gICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViA9ICExLFxuICAgICAgbG9jYWxJZENvdW50ZXIgPSAwLFxuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgPSAwLFxuICAgICAgdGhlbmFibGVTdGF0ZSA9IG51bGwsXG4gICAgICBnbG9iYWxDbGllbnRJZENvdW50ZXIgPSAwLFxuICAgICAgUkVfUkVOREVSX0xJTUlUID0gMjUsXG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IG51bGwsXG4gICAgICBob29rVHlwZXNEZXYgPSBudWxsLFxuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMSxcbiAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID0gITE7XG4gICAgdmFyIGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4geyBsYXN0RWZmZWN0OiBudWxsLCBldmVudHM6IG51bGwsIHN0b3JlczogbnVsbCwgbWVtb0NhY2hlOiBudWxsIH07XG4gICAgfTtcbiAgICB2YXIgQ29udGV4dE9ubHlEaXNwYXRjaGVyID0ge1xuICAgICAgcmVhZENvbnRleHQ6IHJlYWRDb250ZXh0LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlQ29udGV4dDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlRWZmZWN0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlTWVtbzogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlUmVkdWNlcjogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlUmVmOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VTdGF0ZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlRGVidWdWYWx1ZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlVHJhbnNpdGlvbjogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUlkOiB0aHJvd0ludmFsaWRIb29rRXJyb3JcbiAgICB9O1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VDYWNoZVJlZnJlc2ggPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZU1lbW9DYWNoZSA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUZvcm1TdGF0ZSA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlQWN0aW9uU3RhdGUgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZU9wdGltaXN0aWMgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgdmFyIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IG51bGwsXG4gICAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWID0gbnVsbCxcbiAgICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSBudWxsLFxuICAgICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0gbnVsbCxcbiAgICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSBudWxsLFxuICAgICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSBudWxsLFxuICAgICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IG51bGw7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIHJldHVybiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICBtb3VudEVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SWQoKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAocGFzc3Rocm91Z2gpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgbW91bnRFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50TWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SWQoKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB3YXJuT25Vc2VGb3JtU3RhdGVJbkRldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRPcHRpbWlzdGljKHBhc3N0aHJvdWdoKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gcmVyZW5kZXJSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlclRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZU1lbW9DYWNoZSA9IHVzZU1lbW9DYWNoZTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2gsXG4gICAgICByZWR1Y2VyXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2UodXNhYmxlKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIG1vdW50RWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50VHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudElkKCk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmcmVzaCgpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW9DYWNoZTogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCk7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZSh1c2FibGUpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlVHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vQ2FjaGU6IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlKHVzYWJsZSk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gcmVyZW5kZXJSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlckRlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlclRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlTWVtb0NhY2hlOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW9DYWNoZShzaXplKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvblxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIHZhciBmYWtlSW50ZXJuYWxJbnN0YW5jZSA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXREaXJlY3RseUFzc2lnbmluZ1Byb3BzVG9TdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXMkMSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q2hpbGRDb250ZXh0VHlwZXMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrID0gbmV3IFNldCgpO1xuICAgIE9iamVjdC5mcmVlemUoZmFrZUludGVybmFsSW5zdGFuY2UpO1xuICAgIHZhciBjbGFzc0NvbXBvbmVudFVwZGF0ZXIgPSB7XG4gICAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICAgIHZhciBvd25lciA9IGN1cnJlbnQ7XG4gICAgICAgICAgaWYgKG51bGwgIT09IG93bmVyICYmIGlzUmVuZGVyaW5nICYmIDEgPT09IG93bmVyLnRhZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3duZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCIlcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uIHJlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgbmV2ZXIgYWNjZXNzIHNvbWV0aGluZyB0aGF0IHJlcXVpcmVzIHN0YWxlIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgcmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihvd25lcikgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChjb21wb25lbnQgPSBjb21wb25lbnQuX3JlYWN0SW50ZXJuYWxzKVxuICAgICAgICAgICAgPyBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGNvbXBvbmVudCkgPT09IGNvbXBvbmVudFxuICAgICAgICAgICAgOiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAoaW5zdCwgcGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpbnN0ID0gaW5zdC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShpbnN0KSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICB1cGRhdGUucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgICAgdm9pZCAwICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgICh3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spLCAodXBkYXRlLmNhbGxiYWNrID0gY2FsbGJhY2spKTtcbiAgICAgICAgICBwYXlsb2FkID0gZW5xdWV1ZVVwZGF0ZShpbnN0LCB1cGRhdGUsIGxhbmUpO1xuICAgICAgICAgIG51bGwgIT09IHBheWxvYWQgJiZcbiAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF5bG9hZCwgaW5zdCwgbGFuZSksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKHBheWxvYWQsIGluc3QsIGxhbmUpKTtcbiAgICAgICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoaW5zdCwgbGFuZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChpbnN0LCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgICAgICAgIGluc3QgPSBpbnN0Ll9yZWFjdEludGVybmFscztcbiAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKGluc3QpLFxuICAgICAgICAgICAgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgIHVwZGF0ZS50YWcgPSBSZXBsYWNlU3RhdGU7XG4gICAgICAgICAgdXBkYXRlLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICAgIHZvaWQgMCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAod2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSwgKHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICAgICAgcGF5bG9hZCA9IGVucXVldWVVcGRhdGUoaW5zdCwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgICBudWxsICE9PSBwYXlsb2FkICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBheWxvYWQsIGluc3QsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhwYXlsb2FkLCBpbnN0LCBsYW5lKSk7XG4gICAgICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGluc3QsIGxhbmUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChpbnN0LCBjYWxsYmFjaykge1xuICAgICAgICAgIGluc3QgPSBpbnN0Ll9yZWFjdEludGVybmFscztcbiAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKGluc3QpLFxuICAgICAgICAgICAgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgIHVwZGF0ZS50YWcgPSBGb3JjZVVwZGF0ZTtcbiAgICAgICAgICB2b2lkIDAgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjayksICh1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgICAgIGNhbGxiYWNrID0gZW5xdWV1ZVVwZGF0ZShpbnN0LCB1cGRhdGUsIGxhbmUpO1xuICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGNhbGxiYWNrLCBpbnN0LCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMoY2FsbGJhY2ssIGluc3QsIGxhbmUpKTtcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtGb3JjZVVwZGF0ZVNjaGVkdWxlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrRm9yY2VVcGRhdGVTY2hlZHVsZWQoaW5zdCwgbGFuZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXBvcnRHbG9iYWxFcnJvciA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlcG9ydEVycm9yXG4gICAgICAgICAgPyByZXBvcnRFcnJvclxuICAgICAgICAgIDogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygd2luZG93ICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygd2luZG93LkVycm9yRXZlbnRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IHdpbmRvdy5FcnJvckV2ZW50KFwiZXJyb3JcIiwge1xuICAgICAgICAgICAgICAgICAgYnViYmxlczogITAsXG4gICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgID8gU3RyaW5nKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCkpIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvY2VzcyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb2Nlc3MuZW1pdFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgIGNvbXBvbmVudE5hbWUgPSBudWxsLFxuICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBudWxsLFxuICAgICAgU2VsZWN0aXZlSHlkcmF0aW9uRXhjZXB0aW9uID0gRXJyb3IoXG4gICAgICAgIFwiVGhpcyBpcyBub3QgYSByZWFsIGVycm9yLiBJdCdzIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbCBvZiBSZWFjdCdzIHNlbGVjdGl2ZSBoeWRyYXRpb24gZmVhdHVyZS4gSWYgdGhpcyBsZWFrcyBpbnRvIHVzZXJzcGFjZSwgaXQncyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICksXG4gICAgICBkaWRSZWNlaXZlVXBkYXRlID0gITE7XG4gICAgdmFyIGRpZFdhcm5BYm91dEJhZENsYXNzID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudCA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXMgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudCA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzID0gITE7XG4gICAgdmFyIGRpZFdhcm5BYm91dFJldmVhbE9yZGVyID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dFRhaWxPcHRpb25zID0ge307XG4gICAgdmFyIFNVU1BFTkRFRF9NQVJLRVIgPSB7XG4gICAgICAgIGRlaHlkcmF0ZWQ6IG51bGwsXG4gICAgICAgIHRyZWVDb250ZXh0OiBudWxsLFxuICAgICAgICByZXRyeUxhbmU6IDBcbiAgICAgIH0sXG4gICAgICBoYXNXYXJuZWRBYm91dFVzaW5nTm9WYWx1ZVByb3BPbkNvbnRleHRQcm92aWRlciA9ICExLFxuICAgICAgdmFsdWVDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCk7XG4gICAgdmFyIHJlbmRlcmVyQ3Vyc29yREVWID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICAgIHZhciByZW5kZXJlclNpZ2lsID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyID0gbnVsbCxcbiAgICAgIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IG51bGwsXG4gICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITEsXG4gICAgICBVcGRhdGVTdGF0ZSA9IDAsXG4gICAgICBSZXBsYWNlU3RhdGUgPSAxLFxuICAgICAgRm9yY2VVcGRhdGUgPSAyLFxuICAgICAgQ2FwdHVyZVVwZGF0ZSA9IDMsXG4gICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgIHZhciBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gITE7XG4gICAgdmFyIGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9IG51bGw7XG4gICAgdmFyIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMSxcbiAgICAgIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbnVsbDtcbiAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gITEsXG4gICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gITEsXG4gICAgICBuZWVkc0Zvcm1SZXNldCA9ICExLFxuICAgICAgUG9zc2libHlXZWFrU2V0ID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha1NldCA/IFdlYWtTZXQgOiBTZXQsXG4gICAgICBuZXh0RWZmZWN0ID0gbnVsbCxcbiAgICAgIGluUHJvZ3Jlc3NMYW5lcyA9IG51bGwsXG4gICAgICBpblByb2dyZXNzUm9vdCA9IG51bGwsXG4gICAgICBzaG91bGRGaXJlQWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXIgPSAhMSxcbiAgICAgIGhvc3RQYXJlbnQgPSBudWxsLFxuICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITEsXG4gICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IG51bGwsXG4gICAgICBzdXNwZW5zZXlDb21taXRGbGFnID0gODE5MjtcbiAgICB2YXIgaGFzQmFkTWFwUG9seWZpbGwgPSAhMTtcbiAgICB0cnkge1xuICAgICAgdmFyIG5vbkV4dGVuc2libGVPYmplY3QgPSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pO1xuICAgICAgbmV3IE1hcChbW25vbkV4dGVuc2libGVPYmplY3QsIG51bGxdXSk7XG4gICAgICBuZXcgU2V0KFtub25FeHRlbnNpYmxlT2JqZWN0XSk7XG4gICAgfSBjYXRjaCAoZSQ3KSB7XG4gICAgICBoYXNCYWRNYXBQb2x5ZmlsbCA9ICEwO1xuICAgIH1cbiAgICB2YXIgRGVmYXVsdEFzeW5jRGlzcGF0Y2hlciA9IHtcbiAgICAgIGdldENhY2hlRm9yVHlwZTogZnVuY3Rpb24gKHJlc291cmNlVHlwZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSByZWFkQ29udGV4dChDYWNoZUNvbnRleHQpLFxuICAgICAgICAgIGNhY2hlRm9yVHlwZSA9IGNhY2hlLmRhdGEuZ2V0KHJlc291cmNlVHlwZSk7XG4gICAgICAgIHZvaWQgMCA9PT0gY2FjaGVGb3JUeXBlICYmXG4gICAgICAgICAgKChjYWNoZUZvclR5cGUgPSByZXNvdXJjZVR5cGUoKSksXG4gICAgICAgICAgY2FjaGUuZGF0YS5zZXQocmVzb3VyY2VUeXBlLCBjYWNoZUZvclR5cGUpKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlRm9yVHlwZTtcbiAgICAgIH0sXG4gICAgICBnZXRPd25lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLmZvcikge1xuICAgICAgdmFyIHN5bWJvbEZvciA9IFN5bWJvbC5mb3I7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci5jb21wb25lbnRcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci5oYXNfcHNldWRvX2NsYXNzXCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3Iucm9sZVwiKTtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLnRlc3RfaWRcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci50ZXh0XCIpO1xuICAgIH1cbiAgICB2YXIgY29tbWl0SG9va3MgPSBbXSxcbiAgICAgIFBvc3NpYmx5V2Vha01hcCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwLFxuICAgICAgTm9Db250ZXh0ID0gMCxcbiAgICAgIFJlbmRlckNvbnRleHQgPSAyLFxuICAgICAgQ29tbWl0Q29udGV4dCA9IDQsXG4gICAgICBSb290SW5Qcm9ncmVzcyA9IDAsXG4gICAgICBSb290RmF0YWxFcnJvcmVkID0gMSxcbiAgICAgIFJvb3RFcnJvcmVkID0gMixcbiAgICAgIFJvb3RTdXNwZW5kZWQgPSAzLFxuICAgICAgUm9vdFN1c3BlbmRlZFdpdGhEZWxheSA9IDQsXG4gICAgICBSb290Q29tcGxldGVkID0gNSxcbiAgICAgIFJvb3REaWROb3RDb21wbGV0ZSA9IDYsXG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gTm9Db250ZXh0LFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gMCxcbiAgICAgIE5vdFN1c3BlbmRlZCA9IDAsXG4gICAgICBTdXNwZW5kZWRPbkVycm9yID0gMSxcbiAgICAgIFN1c3BlbmRlZE9uRGF0YSA9IDIsXG4gICAgICBTdXNwZW5kZWRPbkltbWVkaWF0ZSA9IDMsXG4gICAgICBTdXNwZW5kZWRPbkluc3RhbmNlID0gNCxcbiAgICAgIFN1c3BlbmRlZE9uSW5zdGFuY2VBbmRSZWFkeVRvQ29udGludWUgPSA1LFxuICAgICAgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlID0gNixcbiAgICAgIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZSA9IDcsXG4gICAgICBTdXNwZW5kZWRPbkh5ZHJhdGlvbiA9IDgsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCxcbiAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzID0gITEsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9ICExLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyID0gITEsXG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEluUHJvZ3Jlc3MsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnMgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSA9ICExLFxuICAgICAgZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA9IDAsXG4gICAgICBGQUxMQkFDS19USFJPVFRMRV9NUyA9IDMwMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgPSBJbmZpbml0eSxcbiAgICAgIFJFTkRFUl9USU1FT1VUX01TID0gNTAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyA9IG51bGwsXG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG51bGwsXG4gICAgICByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyA9ICExLFxuICAgICAgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSBudWxsLFxuICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMgPSAwLFxuICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXMgPSAwLFxuICAgICAgcGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucyA9IG51bGwsXG4gICAgICBORVNURURfVVBEQVRFX0xJTUlUID0gNTAsXG4gICAgICBuZXN0ZWRVcGRhdGVDb3VudCA9IDAsXG4gICAgICByb290V2l0aE5lc3RlZFVwZGF0ZXMgPSBudWxsLFxuICAgICAgaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzID0gITEsXG4gICAgICBkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gITEsXG4gICAgICBORVNURURfUEFTU0lWRV9VUERBVEVfTElNSVQgPSA1MCxcbiAgICAgIG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDAsXG4gICAgICByb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gbnVsbCxcbiAgICAgIGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICExLFxuICAgICAgSU1NRURJQVRFX0NPTU1JVCA9IDAsXG4gICAgICBTVVNQRU5ERURfQ09NTUlUID0gMSxcbiAgICAgIFRIUk9UVExFRF9DT01NSVQgPSAyLFxuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudCA9IG51bGwsXG4gICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciA9ICExO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlckZvckFub3RoZXJDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGZha2VBY3RDYWxsYmFja05vZGUkMSA9IHt9LFxuICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbnVsbCxcbiAgICAgIGxhc3RTY2hlZHVsZWRSb290ID0gbnVsbCxcbiAgICAgIGRpZFNjaGVkdWxlTWljcm90YXNrID0gITEsXG4gICAgICBkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgPSAhMSxcbiAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9ICExLFxuICAgICAgaXNGbHVzaGluZ1dvcmsgPSAhMSxcbiAgICAgIGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lID0gMCxcbiAgICAgIGZha2VBY3RDYWxsYmFja05vZGUgPSB7fTtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaW1wbGVFdmVudFBsdWdpbkV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXZlbnROYW1lID0gc2ltcGxlRXZlbnRQbHVnaW5FdmVudHNbaV0sXG4gICAgICAgICAgZG9tRXZlbnROYW1lID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50TmFtZVswXS50b1VwcGVyQ2FzZSgpICsgZXZlbnROYW1lLnNsaWNlKDEpO1xuICAgICAgICByZWdpc3RlclNpbXBsZUV2ZW50KGRvbUV2ZW50TmFtZSwgXCJvblwiICsgZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoQU5JTUFUSU9OX0VORCwgXCJvbkFuaW1hdGlvbkVuZFwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoQU5JTUFUSU9OX0lURVJBVElPTiwgXCJvbkFuaW1hdGlvbkl0ZXJhdGlvblwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoQU5JTUFUSU9OX1NUQVJULCBcIm9uQW5pbWF0aW9uU3RhcnRcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFwiZGJsY2xpY2tcIiwgXCJvbkRvdWJsZUNsaWNrXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChcImZvY3VzaW5cIiwgXCJvbkZvY3VzXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChcImZvY3Vzb3V0XCIsIFwib25CbHVyXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX1JVTiwgXCJvblRyYW5zaXRpb25SdW5cIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fU1RBUlQsIFwib25UcmFuc2l0aW9uU3RhcnRcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fQ0FOQ0VMLCBcIm9uVHJhbnNpdGlvbkNhbmNlbFwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoVFJBTlNJVElPTl9FTkQsIFwib25UcmFuc2l0aW9uRW5kXCIpO1xuICAgIH0pKCk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uTW91c2VFbnRlclwiLCBbXCJtb3VzZW91dFwiLCBcIm1vdXNlb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uTW91c2VMZWF2ZVwiLCBbXCJtb3VzZW91dFwiLCBcIm1vdXNlb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uUG9pbnRlckVudGVyXCIsIFtcInBvaW50ZXJvdXRcIiwgXCJwb2ludGVyb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uUG9pbnRlckxlYXZlXCIsIFtcInBvaW50ZXJvdXRcIiwgXCJwb2ludGVyb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNoYW5nZVwiLFxuICAgICAgXCJjaGFuZ2UgY2xpY2sgZm9jdXNpbiBmb2N1c291dCBpbnB1dCBrZXlkb3duIGtleXVwIHNlbGVjdGlvbmNoYW5nZVwiLnNwbGl0KFxuICAgICAgICBcIiBcIlxuICAgICAgKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvblNlbGVjdFwiLFxuICAgICAgXCJmb2N1c291dCBjb250ZXh0bWVudSBkcmFnZW5kIGZvY3VzaW4ga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcbiAgICAgICAgXCIgXCJcbiAgICAgIClcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcIm9uQmVmb3JlSW5wdXRcIiwgW1xuICAgICAgXCJjb21wb3NpdGlvbmVuZFwiLFxuICAgICAgXCJrZXlwcmVzc1wiLFxuICAgICAgXCJ0ZXh0SW5wdXRcIixcbiAgICAgIFwicGFzdGVcIlxuICAgIF0pO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25Db21wb3NpdGlvbkVuZFwiLFxuICAgICAgXCJjb21wb3NpdGlvbmVuZCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNvbXBvc2l0aW9uU3RhcnRcIixcbiAgICAgIFwiY29tcG9zaXRpb25zdGFydCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsXG4gICAgICBcImNvbXBvc2l0aW9udXBkYXRlIGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpXG4gICAgKTtcbiAgICB2YXIgbWVkaWFFdmVudFR5cGVzID1cbiAgICAgICAgXCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHJlc2l6ZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1c3BlbmQgdGltZXVwZGF0ZSB2b2x1bWVjaGFuZ2Ugd2FpdGluZ1wiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBub25EZWxlZ2F0ZWRFdmVudHMgPSBuZXcgU2V0KFxuICAgICAgICBcImJlZm9yZXRvZ2dsZSBjYW5jZWwgY2xvc2UgaW52YWxpZCBsb2FkIHNjcm9sbCBzY3JvbGxlbmQgdG9nZ2xlXCJcbiAgICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgICAgLmNvbmNhdChtZWRpYUV2ZW50VHlwZXMpXG4gICAgICApLFxuICAgICAgbGlzdGVuaW5nTWFya2VyID0gXCJfcmVhY3RMaXN0ZW5pbmdcIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFxuICAgICAgZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCA9ICExLFxuICAgICAgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25UeXBlID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvbk5hbWUgPSAhMSxcbiAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0ID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCA9ICExLFxuICAgICAgZGlkV2FyblBvcG92ZXJUYXJnZXRPYmplY3QgPSAhMTtcbiAgICB2YXIgZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlID0ge307XG4gICAgdmFyIGNhbkRpZmZTdHlsZUZvckh5ZHJhdGlvbldhcm5pbmcgPSAhMDtcbiAgICB2YXIgTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYID0gL1xcclxcbj8vZyxcbiAgICAgIE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCA9IC9cXHUwMDAwfFxcdUZGRkQvZyxcbiAgICAgIHhsaW5rTmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gICAgICB4bWxOYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICAgICAgRVhQRUNURURfRk9STV9BQ1RJT05fVVJMID1cbiAgICAgICAgXCJqYXZhc2NyaXB0OnRocm93IG5ldyBFcnJvcignUmVhY3QgZm9ybSB1bmV4cGVjdGVkbHkgc3VibWl0dGVkLicpXCIsXG4gICAgICBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyA9IFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIsXG4gICAgICBTVVNQRU5TRV9TVEFSVF9EQVRBID0gXCIkXCIsXG4gICAgICBTVVNQRU5TRV9FTkRfREFUQSA9IFwiLyRcIixcbiAgICAgIFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSA9IFwiJD9cIixcbiAgICAgIFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEgPSBcIiQhXCIsXG4gICAgICBGT1JNX1NUQVRFX0lTX01BVENISU5HID0gXCJGIVwiLFxuICAgICAgRk9STV9TVEFURV9JU19OT1RfTUFUQ0hJTkcgPSBcIkZcIixcbiAgICAgIFNUWUxFID0gXCJzdHlsZVwiLFxuICAgICAgSG9zdENvbnRleHROYW1lc3BhY2VOb25lID0gMCxcbiAgICAgIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnID0gMSxcbiAgICAgIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aCA9IDIsXG4gICAgICBldmVudHNFbmFibGVkID0gbnVsbCxcbiAgICAgIHNlbGVjdGlvbkluZm9ybWF0aW9uID0gbnVsbCxcbiAgICAgIHdhcm5lZFVua25vd25UYWdzID0geyBkaWFsb2c6ICEwLCB3ZWJ2aWV3OiAhMCB9LFxuICAgICAgY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50ID0gbnVsbCxcbiAgICAgIHNjaGVkdWxlVGltZW91dCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHNldFRpbWVvdXQgPyBzZXRUaW1lb3V0IDogdm9pZCAwLFxuICAgICAgY2FuY2VsVGltZW91dCA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IHZvaWQgMCxcbiAgICAgIG5vVGltZW91dCA9IC0xLFxuICAgICAgbG9jYWxQcm9taXNlID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgUHJvbWlzZSA/IFByb21pc2UgOiB2b2lkIDAsXG4gICAgICBzY2hlZHVsZU1pY3JvdGFzayA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHF1ZXVlTWljcm90YXNrXG4gICAgICAgICAgPyBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgIDogXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGxvY2FsUHJvbWlzZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxQcm9taXNlXG4gICAgICAgICAgICAgICAgICAucmVzb2x2ZShudWxsKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3JJbk5leHRUaWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBzY2hlZHVsZVRpbWVvdXQsXG4gICAgICBOb3RMb2FkZWQgPSAwLFxuICAgICAgTG9hZGVkID0gMSxcbiAgICAgIEVycm9yZWQgPSAyLFxuICAgICAgU2V0dGxlZCA9IDMsXG4gICAgICBJbnNlcnRlZCA9IDQsXG4gICAgICBwcmVsb2FkUHJvcHNNYXAgPSBuZXcgTWFwKCksXG4gICAgICBwcmVjb25uZWN0c1NldCA9IG5ldyBTZXQoKSxcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLmQ7XG4gICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMuZCA9IHtcbiAgICAgIGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzV2FzUmVuZGVyaW5nID0gcHJldmlvdXNEaXNwYXRjaGVyLmYoKSxcbiAgICAgICAgICB3YXNSZW5kZXJpbmcgPSBmbHVzaFN5bmNXb3JrJDEoKTtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzV2FzUmVuZGVyaW5nIHx8IHdhc1JlbmRlcmluZztcbiAgICAgIH0sXG4gICAgICByOiBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICB2YXIgZm9ybUluc3QgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKGZvcm0pO1xuICAgICAgICBudWxsICE9PSBmb3JtSW5zdCAmJiA1ID09PSBmb3JtSW5zdC50YWcgJiYgXCJmb3JtXCIgPT09IGZvcm1JbnN0LnR5cGVcbiAgICAgICAgICA/IHJlcXVlc3RGb3JtUmVzZXQkMShmb3JtSW5zdClcbiAgICAgICAgICA6IHByZXZpb3VzRGlzcGF0Y2hlci5yKGZvcm0pO1xuICAgICAgfSxcbiAgICAgIEQ6IGZ1bmN0aW9uIChocmVmKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5EKGhyZWYpO1xuICAgICAgICBwcmVjb25uZWN0QXMoXCJkbnMtcHJlZmV0Y2hcIiwgaHJlZiwgbnVsbCk7XG4gICAgICB9LFxuICAgICAgQzogZnVuY3Rpb24gKGhyZWYsIGNyb3NzT3JpZ2luKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5DKGhyZWYsIGNyb3NzT3JpZ2luKTtcbiAgICAgICAgcHJlY29ubmVjdEFzKFwicHJlY29ubmVjdFwiLCBocmVmLCBjcm9zc09yaWdpbik7XG4gICAgICB9LFxuICAgICAgTDogZnVuY3Rpb24gKGhyZWYsIGFzLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5MKGhyZWYsIGFzLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgaHJlZiAmJiBhcykge1xuICAgICAgICAgIHZhciBwcmVsb2FkU2VsZWN0b3IgPVxuICAgICAgICAgICAgJ2xpbmtbcmVsPVwicHJlbG9hZFwiXVthcz1cIicgK1xuICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhhcykgK1xuICAgICAgICAgICAgJ1wiXSc7XG4gICAgICAgICAgXCJpbWFnZVwiID09PSBhc1xuICAgICAgICAgICAgPyBvcHRpb25zICYmIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgPyAoKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICAgJ1tpbWFnZXNyY3NldD1cIicgK1xuICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAnXCJdJyksXG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW1hZ2VTaXplcyAmJlxuICAgICAgICAgICAgICAgICAgKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICAgICAnW2ltYWdlc2l6ZXM9XCInICtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmltYWdlU2l6ZXNcbiAgICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAgICdcIl0nKSlcbiAgICAgICAgICAgICAgOiAocHJlbG9hZFNlbGVjdG9yICs9XG4gICAgICAgICAgICAgICAgICAnW2hyZWY9XCInICtcbiAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZikgK1xuICAgICAgICAgICAgICAgICAgJ1wiXScpXG4gICAgICAgICAgICA6IChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAnW2hyZWY9XCInICtcbiAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICtcbiAgICAgICAgICAgICAgICAnXCJdJyk7XG4gICAgICAgICAgdmFyIGtleSA9IHByZWxvYWRTZWxlY3RvcjtcbiAgICAgICAgICBzd2l0Y2ggKGFzKSB7XG4gICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAga2V5ID0gZ2V0U3R5bGVLZXkoaHJlZik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoaHJlZik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5oYXMoa2V5KSB8fFxuICAgICAgICAgICAgKChocmVmID0gYXNzaWduKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVsOiBcInByZWxvYWRcIixcbiAgICAgICAgICAgICAgICBocmVmOlxuICAgICAgICAgICAgICAgICAgXCJpbWFnZVwiID09PSBhcyAmJiBvcHRpb25zICYmIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgOiBocmVmLFxuICAgICAgICAgICAgICAgIGFzOiBhc1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5zZXQoa2V5LCBocmVmKSxcbiAgICAgICAgICAgIG51bGwgIT09IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihwcmVsb2FkU2VsZWN0b3IpIHx8XG4gICAgICAgICAgICAgIChcInN0eWxlXCIgPT09IGFzICYmXG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgKFwic2NyaXB0XCIgPT09IGFzICYmXG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpKSkgfHxcbiAgICAgICAgICAgICAgKChhcyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLFxuICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhhcywgXCJsaW5rXCIsIGhyZWYpLFxuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGFzKSxcbiAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGFzKSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbTogZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLm0oaHJlZiwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIGhyZWYpIHtcbiAgICAgICAgICB2YXIgYXMgPVxuICAgICAgICAgICAgICBvcHRpb25zICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzID8gb3B0aW9ucy5hcyA6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICBwcmVsb2FkU2VsZWN0b3IgPVxuICAgICAgICAgICAgICAnbGlua1tyZWw9XCJtb2R1bGVwcmVsb2FkXCJdW2FzPVwiJyArXG4gICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoYXMpICtcbiAgICAgICAgICAgICAgJ1wiXVtocmVmPVwiJyArXG4gICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZikgK1xuICAgICAgICAgICAgICAnXCJdJyxcbiAgICAgICAgICAgIGtleSA9IHByZWxvYWRTZWxlY3RvcjtcbiAgICAgICAgICBzd2l0Y2ggKGFzKSB7XG4gICAgICAgICAgICBjYXNlIFwiYXVkaW93b3JrbGV0XCI6XG4gICAgICAgICAgICBjYXNlIFwicGFpbnR3b3JrbGV0XCI6XG4gICAgICAgICAgICBjYXNlIFwic2VydmljZXdvcmtlclwiOlxuICAgICAgICAgICAgY2FzZSBcInNoYXJlZHdvcmtlclwiOlxuICAgICAgICAgICAgY2FzZSBcIndvcmtlclwiOlxuICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoaHJlZik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFwcmVsb2FkUHJvcHNNYXAuaGFzKGtleSkgJiZcbiAgICAgICAgICAgICgoaHJlZiA9IGFzc2lnbih7IHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsIGhyZWY6IGhyZWYgfSwgb3B0aW9ucykpLFxuICAgICAgICAgICAgcHJlbG9hZFByb3BzTWFwLnNldChrZXksIGhyZWYpLFxuICAgICAgICAgICAgbnVsbCA9PT0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByZWxvYWRTZWxlY3RvcikpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGFzKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJhdWRpb3dvcmtsZXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBhaW50d29ya2xldFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2VydmljZXdvcmtlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2hhcmVkd29ya2VyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ3b3JrZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICAgIGlmIChvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSkpKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXMgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoYXMsIFwibGlua1wiLCBocmVmKTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoYXMpO1xuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGFzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBYOiBmdW5jdGlvbiAoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5YKHNyYywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIHNyYykge1xuICAgICAgICAgIHZhciBzY3JpcHRzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qob3duZXJEb2N1bWVudCkuaG9pc3RhYmxlU2NyaXB0cyxcbiAgICAgICAgICAgIGtleSA9IGdldFNjcmlwdEtleShzcmMpLFxuICAgICAgICAgICAgcmVzb3VyY2UgPSBzY3JpcHRzLmdldChrZXkpO1xuICAgICAgICAgIHJlc291cmNlIHx8XG4gICAgICAgICAgICAoKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAoKHNyYyA9IGFzc2lnbih7IHNyYzogc3JjLCBhc3luYzogITAgfSwgb3B0aW9ucykpLFxuICAgICAgICAgICAgICAob3B0aW9ucyA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChzcmMsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpLFxuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHJlc291cmNlKSxcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMocmVzb3VyY2UsIFwibGlua1wiLCBzcmMpLFxuICAgICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocmVzb3VyY2UpKSxcbiAgICAgICAgICAgIChyZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2NyaXB0cy5zZXQoa2V5LCByZXNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgUzogZnVuY3Rpb24gKGhyZWYsIHByZWNlZGVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLlMoaHJlZiwgcHJlY2VkZW5jZSwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIGhyZWYpIHtcbiAgICAgICAgICB2YXIgc3R5bGVzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qob3duZXJEb2N1bWVudCkuaG9pc3RhYmxlU3R5bGVzLFxuICAgICAgICAgICAga2V5ID0gZ2V0U3R5bGVLZXkoaHJlZik7XG4gICAgICAgICAgcHJlY2VkZW5jZSA9IHByZWNlZGVuY2UgfHwgXCJkZWZhdWx0XCI7XG4gICAgICAgICAgdmFyIHJlc291cmNlID0gc3R5bGVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICghcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHsgbG9hZGluZzogTm90TG9hZGVkLCBwcmVsb2FkOiBudWxsIH07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IExvYWRlZCB8IEluc2VydGVkO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGhyZWYgPSBhc3NpZ24oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVsOiBcInN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgICAgICAgICBcImRhdGEtcHJlY2VkZW5jZVwiOiBwcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIChvcHRpb25zID0gcHJlbG9hZFByb3BzTWFwLmdldChrZXkpKSAmJlxuICAgICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU3R5bGVzaGVldChocmVmLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgdmFyIGxpbmsgPSAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKTtcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShsaW5rKTtcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMobGluaywgXCJsaW5rXCIsIGhyZWYpO1xuICAgICAgICAgICAgICBsaW5rLl9wID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIGxpbmsub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBsaW5rLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nIHw9IExvYWRlZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nIHw9IEVycm9yZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgICAgICAgICBpbnNlcnRTdHlsZXNoZWV0KHJlc291cmNlLCBwcmVjZWRlbmNlLCBvd25lckRvY3VtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc291cmNlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBcInN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3R5bGVzLnNldChrZXksIHJlc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBNOiBmdW5jdGlvbiAoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5NKHNyYywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIHNyYykge1xuICAgICAgICAgIHZhciBzY3JpcHRzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qob3duZXJEb2N1bWVudCkuaG9pc3RhYmxlU2NyaXB0cyxcbiAgICAgICAgICAgIGtleSA9IGdldFNjcmlwdEtleShzcmMpLFxuICAgICAgICAgICAgcmVzb3VyY2UgPSBzY3JpcHRzLmdldChrZXkpO1xuICAgICAgICAgIHJlc291cmNlIHx8XG4gICAgICAgICAgICAoKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAoKHNyYyA9IGFzc2lnbih7IHNyYzogc3JjLCBhc3luYzogITAsIHR5cGU6IFwibW9kdWxlXCIgfSwgb3B0aW9ucykpLFxuICAgICAgICAgICAgICAob3B0aW9ucyA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChzcmMsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpLFxuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHJlc291cmNlKSxcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMocmVzb3VyY2UsIFwibGlua1wiLCBzcmMpLFxuICAgICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocmVzb3VyY2UpKSxcbiAgICAgICAgICAgIChyZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2NyaXB0cy5zZXQoa2V5LCByZXNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2xvYmFsRG9jdW1lbnQgPSBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgZG9jdW1lbnQgPyBudWxsIDogZG9jdW1lbnQsXG4gICAgICB0YWdDYWNoZXMgPSBudWxsLFxuICAgICAgc3VzcGVuZGVkU3RhdGUgPSBudWxsLFxuICAgICAgTEFTVF9QUkVDRURFTkNFID0gbnVsbCxcbiAgICAgIHByZWNlZGVuY2VzQnlSb290ID0gbnVsbCxcbiAgICAgIE5vdFBlbmRpbmdUcmFuc2l0aW9uID0gTm90UGVuZGluZyxcbiAgICAgIEhvc3RUcmFuc2l0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIENvbnN1bWVyOiBudWxsLFxuICAgICAgICBfY3VycmVudFZhbHVlOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDBcbiAgICAgIH0sXG4gICAgICBiYWRnZUZvcm1hdCA9IFwiJWMlcyVjIFwiLFxuICAgICAgYmFkZ2VTdHlsZSA9XG4gICAgICAgIFwiYmFja2dyb3VuZDogI2U2ZTZlNjtiYWNrZ3JvdW5kOiBsaWdodC1kYXJrKHJnYmEoMCwwLDAsMC4xKSwgcmdiYSgyNTUsMjU1LDI1NSwwLjI1KSk7Y29sb3I6ICMwMDAwMDA7Y29sb3I6IGxpZ2h0LWRhcmsoIzAwMDAwMCwgI2ZmZmZmZik7Ym9yZGVyLXJhZGl1czogMnB4XCIsXG4gICAgICByZXNldFN0eWxlID0gXCJcIixcbiAgICAgIHBhZCA9IFwiIFwiLFxuICAgICAgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuICAgIHZhciBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gITE7XG4gICAgdmFyIG92ZXJyaWRlSG9va1N0YXRlID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aCA9IG51bGwsXG4gICAgICBvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGggPSBudWxsLFxuICAgICAgb3ZlcnJpZGVQcm9wcyA9IG51bGwsXG4gICAgICBvdmVycmlkZVByb3BzRGVsZXRlUGF0aCA9IG51bGwsXG4gICAgICBvdmVycmlkZVByb3BzUmVuYW1lUGF0aCA9IG51bGwsXG4gICAgICBzY2hlZHVsZVVwZGF0ZSA9IG51bGwsXG4gICAgICBzZXRFcnJvckhhbmRsZXIgPSBudWxsLFxuICAgICAgc2V0U3VzcGVuc2VIYW5kbGVyID0gbnVsbDtcbiAgICBvdmVycmlkZUhvb2tTdGF0ZSA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIHBhdGgsIHZhbHVlKSB7XG4gICAgICBpZCA9IGZpbmRIb29rKGZpYmVyLCBpZCk7XG4gICAgICBudWxsICE9PSBpZCAmJlxuICAgICAgICAoKHBhdGggPSBjb3B5V2l0aFNldEltcGwoaWQubWVtb2l6ZWRTdGF0ZSwgcGF0aCwgMCwgdmFsdWUpKSxcbiAgICAgICAgKGlkLm1lbW9pemVkU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGlkLmJhc2VTdGF0ZSA9IHBhdGgpLFxuICAgICAgICAoZmliZXIubWVtb2l6ZWRQcm9wcyA9IGFzc2lnbih7fSwgZmliZXIubWVtb2l6ZWRQcm9wcykpLFxuICAgICAgICAocGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMikpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVIb29rU3RhdGVEZWxldGVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBpZCwgcGF0aCkge1xuICAgICAgaWQgPSBmaW5kSG9vayhmaWJlciwgaWQpO1xuICAgICAgbnVsbCAhPT0gaWQgJiZcbiAgICAgICAgKChwYXRoID0gY29weVdpdGhEZWxldGVJbXBsKGlkLm1lbW9pemVkU3RhdGUsIHBhdGgsIDApKSxcbiAgICAgICAgKGlkLm1lbW9pemVkU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGlkLmJhc2VTdGF0ZSA9IHBhdGgpLFxuICAgICAgICAoZmliZXIubWVtb2l6ZWRQcm9wcyA9IGFzc2lnbih7fSwgZmliZXIubWVtb2l6ZWRQcm9wcykpLFxuICAgICAgICAocGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMikpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBpZCwgb2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgaWQgPSBmaW5kSG9vayhmaWJlciwgaWQpO1xuICAgICAgbnVsbCAhPT0gaWQgJiZcbiAgICAgICAgKChvbGRQYXRoID0gY29weVdpdGhSZW5hbWUoaWQubWVtb2l6ZWRTdGF0ZSwgb2xkUGF0aCwgbmV3UGF0aCkpLFxuICAgICAgICAoaWQubWVtb2l6ZWRTdGF0ZSA9IG9sZFBhdGgpLFxuICAgICAgICAoaWQuYmFzZVN0YXRlID0gb2xkUGF0aCksXG4gICAgICAgIChmaWJlci5tZW1vaXplZFByb3BzID0gYXNzaWduKHt9LCBmaWJlci5tZW1vaXplZFByb3BzKSksXG4gICAgICAgIChvbGRQYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKSksXG4gICAgICAgIG51bGwgIT09IG9sZFBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKG9sZFBhdGgsIGZpYmVyLCAyKSk7XG4gICAgfTtcbiAgICBvdmVycmlkZVByb3BzID0gZnVuY3Rpb24gKGZpYmVyLCBwYXRoLCB2YWx1ZSkge1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gY29weVdpdGhTZXRJbXBsKGZpYmVyLm1lbW9pemVkUHJvcHMsIHBhdGgsIDAsIHZhbHVlKTtcbiAgICAgIGZpYmVyLmFsdGVybmF0ZSAmJiAoZmliZXIuYWx0ZXJuYXRlLnBlbmRpbmdQcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcyk7XG4gICAgICBwYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBhdGgsIGZpYmVyLCAyKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlUHJvcHNEZWxldGVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBwYXRoKSB7XG4gICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBjb3B5V2l0aERlbGV0ZUltcGwoZmliZXIubWVtb2l6ZWRQcm9wcywgcGF0aCwgMCk7XG4gICAgICBmaWJlci5hbHRlcm5hdGUgJiYgKGZpYmVyLmFsdGVybmF0ZS5wZW5kaW5nUHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHMpO1xuICAgICAgcGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBvdmVycmlkZVByb3BzUmVuYW1lUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgb2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gY29weVdpdGhSZW5hbWUoXG4gICAgICAgIGZpYmVyLm1lbW9pemVkUHJvcHMsXG4gICAgICAgIG9sZFBhdGgsXG4gICAgICAgIG5ld1BhdGhcbiAgICAgICk7XG4gICAgICBmaWJlci5hbHRlcm5hdGUgJiYgKGZpYmVyLmFsdGVybmF0ZS5wZW5kaW5nUHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHMpO1xuICAgICAgb2xkUGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSBvbGRQYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihvbGRQYXRoLCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBzY2hlZHVsZVVwZGF0ZSA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgc2V0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKG5ld1Nob3VsZEVycm9ySW1wbCkge1xuICAgICAgc2hvdWxkRXJyb3JJbXBsID0gbmV3U2hvdWxkRXJyb3JJbXBsO1xuICAgIH07XG4gICAgc2V0U3VzcGVuc2VIYW5kbGVyID0gZnVuY3Rpb24gKG5ld1Nob3VsZFN1c3BlbmRJbXBsKSB7XG4gICAgICBzaG91bGRTdXNwZW5kSW1wbCA9IG5ld1Nob3VsZFN1c3BlbmRJbXBsO1xuICAgIH07XG4gICAgdmFyIF9lbmFibGVkID0gITAsXG4gICAgICByZXR1cm5fdGFyZ2V0SW5zdCA9IG51bGwsXG4gICAgICBoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0ID0gITEsXG4gICAgICBxdWV1ZWRGb2N1cyA9IG51bGwsXG4gICAgICBxdWV1ZWREcmFnID0gbnVsbCxcbiAgICAgIHF1ZXVlZE1vdXNlID0gbnVsbCxcbiAgICAgIHF1ZXVlZFBvaW50ZXJzID0gbmV3IE1hcCgpLFxuICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzID0gbmV3IE1hcCgpLFxuICAgICAgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzID0gW10sXG4gICAgICBkaXNjcmV0ZVJlcGxheWFibGVFdmVudHMgPVxuICAgICAgICBcIm1vdXNlZG93biBtb3VzZXVwIHRvdWNoY2FuY2VsIHRvdWNoZW5kIHRvdWNoc3RhcnQgYXV4Y2xpY2sgZGJsY2xpY2sgcG9pbnRlcmNhbmNlbCBwb2ludGVyZG93biBwb2ludGVydXAgZHJhZ2VuZCBkcmFnc3RhcnQgZHJvcCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgaW5wdXQgdGV4dElucHV0IGNvcHkgY3V0IHBhc3RlIGNsaWNrIGNoYW5nZSBjb250ZXh0bWVudSByZXNldFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPSBudWxsO1xuICAgIFJlYWN0RE9NSHlkcmF0aW9uUm9vdC5wcm90b3R5cGUucmVuZGVyID0gUmVhY3RET01Sb290LnByb3RvdHlwZS5yZW5kZXIgPVxuICAgICAgZnVuY3Rpb24gKGNoaWxkcmVuLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gICAgICAgIGlmIChudWxsID09PSByb290KSB0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgYW4gdW5tb3VudGVkIHJvb3QuXCIpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZG9lcyBub3Qgc3VwcG9ydCB0aGUgc2Vjb25kIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgcmVuZGVyaW5nLCBkZWNsYXJlIGl0IGluIGEgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogaXNWYWxpZENvbnRhaW5lcihKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIpXG4gICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJZb3UgcGFzc2VkIGEgY29udGFpbmVyIHRvIHRoZSBzZWNvbmQgYXJndW1lbnQgb2Ygcm9vdC5yZW5kZXIoLi4uKS4gWW91IGRvbid0IG5lZWQgdG8gcGFzcyBpdCBhZ2FpbiBzaW5jZSB5b3UgYWxyZWFkeSBwYXNzZWQgaXQgdG8gY3JlYXRlIHRoZSByb290LlwiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMiAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiWW91IHBhc3NlZCBhIHNlY29uZCBhcmd1bWVudCB0byByb290LnJlbmRlciguLi4pIGJ1dCBpdCBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMiA9IHJvb3QuY3VycmVudDtcbiAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIpO1xuICAgICAgICB1cGRhdGVDb250YWluZXJJbXBsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMixcbiAgICAgICAgICBsYW5lLFxuICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIFJlYWN0RE9NSHlkcmF0aW9uUm9vdC5wcm90b3R5cGUudW5tb3VudCA9IFJlYWN0RE9NUm9vdC5wcm90b3R5cGUudW5tb3VudCA9XG4gICAgICBmdW5jdGlvbiAoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzKSB7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImRvZXMgbm90IHN1cHBvcnQgYSBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiBhIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgICApO1xuICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gICAgICAgIGlmIChudWxsICE9PSBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMpIHtcbiAgICAgICAgICB0aGlzLl9pbnRlcm5hbFJvb3QgPSBudWxsO1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMuY29udGFpbmVySW5mbztcbiAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQXR0ZW1wdGVkIHRvIHN5bmNocm9ub3VzbHkgdW5tb3VudCBhIHJvb3Qgd2hpbGUgUmVhY3Qgd2FzIGFscmVhZHkgcmVuZGVyaW5nLiBSZWFjdCBjYW5ub3QgZmluaXNoIHVubW91bnRpbmcgdGhlIHJvb3QgdW50aWwgdGhlIGN1cnJlbnQgcmVuZGVyIGhhcyBjb21wbGV0ZWQsIHdoaWNoIG1heSBsZWFkIHRvIGEgcmFjZSBjb25kaXRpb24uXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlQ29udGFpbmVyU3luYyhcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgICAgZmx1c2hTeW5jV29yayQxKCk7XG4gICAgICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBSZWFjdERPTUh5ZHJhdGlvblJvb3QucHJvdG90eXBlLnVuc3RhYmxlX3NjaGVkdWxlSHlkcmF0aW9uID0gZnVuY3Rpb24gKFxuICAgICAgdGFyZ2V0XG4gICAgKSB7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciB1cGRhdGVQcmlvcml0eSA9IHJlc29sdmVVcGRhdGVQcmlvcml0eSgpO1xuICAgICAgICB0YXJnZXQgPSB7IGJsb2NrZWRPbjogbnVsbCwgdGFyZ2V0OiB0YXJnZXQsIHByaW9yaXR5OiB1cGRhdGVQcmlvcml0eSB9O1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICBpIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aCAmJlxuICAgICAgICAgIDAgIT09IHVwZGF0ZVByaW9yaXR5ICYmXG4gICAgICAgICAgdXBkYXRlUHJpb3JpdHkgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgaSsrXG4gICAgICAgICk7XG4gICAgICAgIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5zcGxpY2UoaSwgMCwgdGFyZ2V0KTtcbiAgICAgICAgMCA9PT0gaSAmJiBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQodGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaXNvbW9ycGhpY1JlYWN0UGFja2FnZVZlcnNpb24gPSBSZWFjdC52ZXJzaW9uO1xuICAgICAgaWYgKFwiMTkuMC4wXCIgIT09IGlzb21vcnBoaWNSZWFjdFBhY2thZ2VWZXJzaW9uKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnSW5jb21wYXRpYmxlIFJlYWN0IHZlcnNpb25zOiBUaGUgXCJyZWFjdFwiIGFuZCBcInJlYWN0LWRvbVwiIHBhY2thZ2VzIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSB2ZXJzaW9uLiBJbnN0ZWFkIGdvdDpcXG4gIC0gcmVhY3Q6ICAgICAgJyArXG4gICAgICAgICAgICAoaXNvbW9ycGhpY1JlYWN0UGFja2FnZVZlcnNpb24gK1xuICAgICAgICAgICAgICBcIlxcbiAgLSByZWFjdC1kb206ICAxOS4wLjBcXG5MZWFybiBtb3JlOiBodHRwczovL3JlYWN0LmRldi93YXJuaW5ncy92ZXJzaW9uLW1pc21hdGNoXCIpXG4gICAgICAgICk7XG4gICAgfSkoKTtcbiAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwICYmXG4gICAgICBudWxsICE9IE1hcC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcC5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0ICYmXG4gICAgICBudWxsICE9IFNldC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCkgfHxcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUmVhY3QgZGVwZW5kcyBvbiBNYXAgYW5kIFNldCBidWlsdC1pbiB0eXBlcy4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSBwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1wb2x5ZmlsbHNcIlxuICAgICAgKTtcbiAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5maW5kRE9NTm9kZSA9IGZ1bmN0aW9uIChjb21wb25lbnRPckVsZW1lbnQpIHtcbiAgICAgIHZhciBmaWJlciA9IGNvbXBvbmVudE9yRWxlbWVudC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICBpZiAodm9pZCAwID09PSBmaWJlcikge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29tcG9uZW50T3JFbGVtZW50LnJlbmRlcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIGNvbXBvbmVudE9yRWxlbWVudCA9IE9iamVjdC5rZXlzKGNvbXBvbmVudE9yRWxlbWVudCkuam9pbihcIixcIik7XG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiQXJndW1lbnQgYXBwZWFycyB0byBub3QgYmUgYSBSZWFjdENvbXBvbmVudC4gS2V5czogXCIgK1xuICAgICAgICAgICAgY29tcG9uZW50T3JFbGVtZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRPckVsZW1lbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChmaWJlcik7XG4gICAgICBjb21wb25lbnRPckVsZW1lbnQgPVxuICAgICAgICBudWxsICE9PSBjb21wb25lbnRPckVsZW1lbnRcbiAgICAgICAgICA/IGZpbmRDdXJyZW50SG9zdEZpYmVySW1wbChjb21wb25lbnRPckVsZW1lbnQpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgY29tcG9uZW50T3JFbGVtZW50ID1cbiAgICAgICAgbnVsbCA9PT0gY29tcG9uZW50T3JFbGVtZW50ID8gbnVsbCA6IGNvbXBvbmVudE9yRWxlbWVudC5zdGF0ZU5vZGU7XG4gICAgICByZXR1cm4gY29tcG9uZW50T3JFbGVtZW50O1xuICAgIH07XG4gICAgaWYgKFxuICAgICAgIShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbHMgPSB7XG4gICAgICAgICAgYnVuZGxlVHlwZTogMSxcbiAgICAgICAgICB2ZXJzaW9uOiBcIjE5LjAuMFwiLFxuICAgICAgICAgIHJlbmRlcmVyUGFja2FnZU5hbWU6IFwicmVhY3QtZG9tXCIsXG4gICAgICAgICAgY3VycmVudERpc3BhdGNoZXJSZWY6IFJlYWN0U2hhcmVkSW50ZXJuYWxzLFxuICAgICAgICAgIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgICAgICByZWNvbmNpbGVyVmVyc2lvbjogXCIxOS4wLjBcIlxuICAgICAgICB9O1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVIb29rU3RhdGUgPSBvdmVycmlkZUhvb2tTdGF0ZTtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aCA9IG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aCA9IG92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlUHJvcHMgPSBvdmVycmlkZVByb3BzO1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGggPSBvdmVycmlkZVByb3BzRGVsZXRlUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoID0gb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGg7XG4gICAgICAgIGludGVybmFscy5zY2hlZHVsZVVwZGF0ZSA9IHNjaGVkdWxlVXBkYXRlO1xuICAgICAgICBpbnRlcm5hbHMuc2V0RXJyb3JIYW5kbGVyID0gc2V0RXJyb3JIYW5kbGVyO1xuICAgICAgICBpbnRlcm5hbHMuc2V0U3VzcGVuc2VIYW5kbGVyID0gc2V0U3VzcGVuc2VIYW5kbGVyO1xuICAgICAgICBpbnRlcm5hbHMuc2NoZWR1bGVSZWZyZXNoID0gc2NoZWR1bGVSZWZyZXNoO1xuICAgICAgICBpbnRlcm5hbHMuc2NoZWR1bGVSb290ID0gc2NoZWR1bGVSb290O1xuICAgICAgICBpbnRlcm5hbHMuc2V0UmVmcmVzaEhhbmRsZXIgPSBzZXRSZWZyZXNoSGFuZGxlcjtcbiAgICAgICAgaW50ZXJuYWxzLmdldEN1cnJlbnRGaWJlciA9IGdldEN1cnJlbnRGaWJlckZvckRldlRvb2xzO1xuICAgICAgICBpbnRlcm5hbHMuZ2V0TGFuZUxhYmVsTWFwID0gZ2V0TGFuZUxhYmVsTWFwO1xuICAgICAgICBpbnRlcm5hbHMuaW5qZWN0UHJvZmlsaW5nSG9va3MgPSBpbmplY3RQcm9maWxpbmdIb29rcztcbiAgICAgICAgcmV0dXJuIGluamVjdEludGVybmFscyhpbnRlcm5hbHMpO1xuICAgICAgfSkoKSAmJlxuICAgICAgY2FuVXNlRE9NICYmXG4gICAgICB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZiAmJlxuICAgICAgKCgtMSA8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKSAmJlxuICAgICAgICAtMSA9PT0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKSkgfHxcbiAgICAgICAgLTEgPCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpKVxuICAgICkge1xuICAgICAgdmFyIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgL14oaHR0cHM/fGZpbGUpOiQvLnRlc3QocHJvdG9jb2wpICYmXG4gICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICBcIiVjRG93bmxvYWQgdGhlIFJlYWN0IERldlRvb2xzIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOiBodHRwczovL3JlYWN0LmRldi9saW5rL3JlYWN0LWRldnRvb2xzXCIgK1xuICAgICAgICAgICAgKFwiZmlsZTpcIiA9PT0gcHJvdG9jb2xcbiAgICAgICAgICAgICAgPyBcIlxcbllvdSBtaWdodCBuZWVkIHRvIHVzZSBhIGxvY2FsIEhUVFAgc2VydmVyIChpbnN0ZWFkIG9mIGZpbGU6Ly8pOiBodHRwczovL3JlYWN0LmRldi9saW5rL3JlYWN0LWRldnRvb2xzLWZhcVwiXG4gICAgICAgICAgICAgIDogXCJcIiksXG4gICAgICAgICAgXCJmb250LXdlaWdodDpib2xkXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZXhwb3J0cy5jcmVhdGVSb290ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpXG4gICAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgICB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcik7XG4gICAgICB2YXIgaXNTdHJpY3RNb2RlID0gITEsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggPSBcIlwiLFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IgPSBkZWZhdWx0T25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yID0gZGVmYXVsdE9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvciA9IGRlZmF1bHRPblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgKG9wdGlvbnMuaHlkcmF0ZVxuICAgICAgICAgID8gY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcImh5ZHJhdGUgdGhyb3VnaCBjcmVhdGVSb290IGlzIGRlcHJlY2F0ZWQuIFVzZSBSZWFjdERPTUNsaWVudC5oeWRyYXRlUm9vdChjb250YWluZXIsIDxBcHAgLz4pIGluc3RlYWQuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmXG4gICAgICAgICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgICAgICBvcHRpb25zLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IHBhc3NlZCBhIEpTWCBlbGVtZW50IHRvIGNyZWF0ZVJvb3QuIFlvdSBwcm9iYWJseSBtZWFudCB0byBjYWxsIHJvb3QucmVuZGVyIGluc3RlYWQuIEV4YW1wbGUgdXNhZ2U6XFxuXFxuICBsZXQgcm9vdCA9IGNyZWF0ZVJvb3QoZG9tQ29udGFpbmVyKTtcXG4gIHJvb3QucmVuZGVyKDxBcHAgLz4pO1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAhMCA9PT0gb3B0aW9ucy51bnN0YWJsZV9zdHJpY3RNb2RlICYmIChpc1N0cmljdE1vZGUgPSAhMCksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4ICYmXG4gICAgICAgICAgKGlkZW50aWZpZXJQcmVmaXggPSBvcHRpb25zLmlkZW50aWZpZXJQcmVmaXgpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25VbmNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uVW5jYXVnaHRFcnJvciA9IG9wdGlvbnMub25VbmNhdWdodEVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IgJiZcbiAgICAgICAgICAob25DYXVnaHRFcnJvciA9IG9wdGlvbnMub25DYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IgJiZcbiAgICAgICAgICAob25SZWNvdmVyYWJsZUVycm9yID0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcyAmJlxuICAgICAgICAgICh0cmFuc2l0aW9uQ2FsbGJhY2tzID0gb3B0aW9ucy51bnN0YWJsZV90cmFuc2l0aW9uQ2FsbGJhY2tzKSk7XG4gICAgICBvcHRpb25zID0gY3JlYXRlRmliZXJSb290KFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIDEsXG4gICAgICAgICExLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBpc1N0cmljdE1vZGUsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzLFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gb3B0aW9ucy5jdXJyZW50O1xuICAgICAgbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMoXG4gICAgICAgIDggPT09IGNvbnRhaW5lci5ub2RlVHlwZSA/IGNvbnRhaW5lci5wYXJlbnROb2RlIDogY29udGFpbmVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBSZWFjdERPTVJvb3Qob3B0aW9ucyk7XG4gICAgfTtcbiAgICBleHBvcnRzLmh5ZHJhdGVSb290ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgaW5pdGlhbENoaWxkcmVuLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICAgIHdhcm5JZlJlYWN0RE9NQ29udGFpbmVySW5ERVYoY29udGFpbmVyKTtcbiAgICAgIHZvaWQgMCA9PT0gaW5pdGlhbENoaWxkcmVuICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJNdXN0IHByb3ZpZGUgaW5pdGlhbCBjaGlsZHJlbiBhcyBzZWNvbmQgYXJndW1lbnQgdG8gaHlkcmF0ZVJvb3QuIEV4YW1wbGUgdXNhZ2U6IGh5ZHJhdGVSb290KGRvbUNvbnRhaW5lciwgPEFwcCAvPilcIlxuICAgICAgICApO1xuICAgICAgdmFyIGlzU3RyaWN0TW9kZSA9ICExLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gXCJcIixcbiAgICAgICAgb25VbmNhdWdodEVycm9yID0gZGVmYXVsdE9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvciA9IGRlZmF1bHRPbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IgPSBkZWZhdWx0T25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzID0gbnVsbCxcbiAgICAgICAgZm9ybVN0YXRlID0gbnVsbDtcbiAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmXG4gICAgICAgICghMCA9PT0gb3B0aW9ucy51bnN0YWJsZV9zdHJpY3RNb2RlICYmIChpc1N0cmljdE1vZGUgPSAhMCksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4ICYmXG4gICAgICAgICAgKGlkZW50aWZpZXJQcmVmaXggPSBvcHRpb25zLmlkZW50aWZpZXJQcmVmaXgpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25VbmNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uVW5jYXVnaHRFcnJvciA9IG9wdGlvbnMub25VbmNhdWdodEVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IgJiZcbiAgICAgICAgICAob25DYXVnaHRFcnJvciA9IG9wdGlvbnMub25DYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IgJiZcbiAgICAgICAgICAob25SZWNvdmVyYWJsZUVycm9yID0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcyAmJlxuICAgICAgICAgICh0cmFuc2l0aW9uQ2FsbGJhY2tzID0gb3B0aW9ucy51bnN0YWJsZV90cmFuc2l0aW9uQ2FsbGJhY2tzKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLmZvcm1TdGF0ZSAmJiAoZm9ybVN0YXRlID0gb3B0aW9ucy5mb3JtU3RhdGUpKTtcbiAgICAgIGluaXRpYWxDaGlsZHJlbiA9IGNyZWF0ZUZpYmVyUm9vdChcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAxLFxuICAgICAgICAhMCxcbiAgICAgICAgaW5pdGlhbENoaWxkcmVuLFxuICAgICAgICBudWxsICE9IG9wdGlvbnMgPyBvcHRpb25zIDogbnVsbCxcbiAgICAgICAgaXNTdHJpY3RNb2RlLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyxcbiAgICAgICAgZm9ybVN0YXRlXG4gICAgICApO1xuICAgICAgaW5pdGlhbENoaWxkcmVuLmNvbnRleHQgPSBnZXRDb250ZXh0Rm9yU3VidHJlZShudWxsKTtcbiAgICAgIG9wdGlvbnMgPSBpbml0aWFsQ2hpbGRyZW4uY3VycmVudDtcbiAgICAgIGlzU3RyaWN0TW9kZSA9IHJlcXVlc3RVcGRhdGVMYW5lKG9wdGlvbnMpO1xuICAgICAgaWRlbnRpZmllclByZWZpeCA9IGNyZWF0ZVVwZGF0ZShpc1N0cmljdE1vZGUpO1xuICAgICAgaWRlbnRpZmllclByZWZpeC5jYWxsYmFjayA9IG51bGw7XG4gICAgICBlbnF1ZXVlVXBkYXRlKG9wdGlvbnMsIGlkZW50aWZpZXJQcmVmaXgsIGlzU3RyaWN0TW9kZSk7XG4gICAgICBpbml0aWFsQ2hpbGRyZW4uY3VycmVudC5sYW5lcyA9IGlzU3RyaWN0TW9kZTtcbiAgICAgIG1hcmtSb290VXBkYXRlZCQxKGluaXRpYWxDaGlsZHJlbiwgaXNTdHJpY3RNb2RlKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChpbml0aWFsQ2hpbGRyZW4pO1xuICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gaW5pdGlhbENoaWxkcmVuLmN1cnJlbnQ7XG4gICAgICBsaXN0ZW5Ub0FsbFN1cHBvcnRlZEV2ZW50cyhjb250YWluZXIpO1xuICAgICAgcmV0dXJuIG5ldyBSZWFjdERPTUh5ZHJhdGlvblJvb3QoaW5pdGlhbENoaWxkcmVuKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMC4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2hlY2tEQ0UoKSB7XG4gIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbiAgaWYgKFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGJyYW5jaCBpcyB1bnJlYWNoYWJsZSBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWRcbiAgICAvLyBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGNvbmRpdGlvbiBpcyB0cnVlIG9ubHkgaW4gZGV2ZWxvcG1lbnQuXG4gICAgLy8gVGhlcmVmb3JlIGlmIHRoZSBicmFuY2ggaXMgc3RpbGwgaGVyZSwgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIHdhc24ndFxuICAgIC8vIHByb3Blcmx5IGFwcGxpZWQuXG4gICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBtZXNzYWdlLiBSZWFjdCBEZXZUb29scyByZWxpZXMgb24gaXQuIEFsc28gbWFrZSBzdXJlXG4gICAgLy8gdGhpcyBtZXNzYWdlIGRvZXNuJ3Qgb2NjdXIgZWxzZXdoZXJlIGluIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgY2F1c2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgIHRocm93IG5ldyBFcnJvcignXl9eJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY29kZSBhYm92ZSBoYXMgYmVlbiBkZWFkIGNvZGUgZWxpbWluYXRlZCAoRENFJ2QpLlxuICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShjaGVja0RDRSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERldlRvb2xzIHNob3VsZG4ndCBjcmFzaCBSZWFjdCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgLy8gV2Ugc2hvdWxkIHN0aWxsIHJlcG9ydCBpbiBjYXNlIHdlIGJyZWFrIHRoaXMgY29kZS5cbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gRENFIGNoZWNrIHNob3VsZCBoYXBwZW4gYmVmb3JlIFJlYWN0RE9NIGJ1bmRsZSBleGVjdXRlcyBzbyB0aGF0XG4gIC8vIERldlRvb2xzIGNhbiByZXBvcnQgYmFkIG1pbmlmaWNhdGlvbiBkdXJpbmcgaW5qZWN0aW9uLlxuICBjaGVja0RDRSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1jbGllbnQucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20tY2xpZW50LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBjb29raWUtbmFtZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqIFRoaXMgcmVmZXJzIG91dCB0byB0aGUgb2Jzb2xldGVkIGRlZmluaXRpb24gb2YgdG9rZW4gaW4gUkZDIDI2MTYgc2VjIDIuMlxuICogd2hpY2ggaGFzIGJlZW4gcmVwbGFjZWQgYnkgdGhlIHRva2VuIGRlZmluaXRpb24gaW4gUkZDIDcyMzAgYXBwZW5kaXggQi5cbiAqXG4gKiBjb29raWUtbmFtZSAgICAgICA9IHRva2VuXG4gKiB0b2tlbiAgICAgICAgICAgICA9IDEqdGNoYXJcbiAqIHRjaGFyICAgICAgICAgICAgID0gXCIhXCIgLyBcIiNcIiAvIFwiJFwiIC8gXCIlXCIgLyBcIiZcIiAvIFwiJ1wiIC9cbiAqICAgICAgICAgICAgICAgICAgICAgXCIqXCIgLyBcIitcIiAvIFwiLVwiIC8gXCIuXCIgLyBcIl5cIiAvIFwiX1wiIC9cbiAqICAgICAgICAgICAgICAgICAgICAgXCJgXCIgLyBcInxcIiAvIFwiflwiIC8gRElHSVQgLyBBTFBIQVxuICpcbiAqIE5vdGU6IEFsbG93aW5nIG1vcmUgY2hhcmFjdGVycyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2h0dHAvY29va2llL2lzc3Vlcy8xOTFcbiAqIEFsbG93IHNhbWUgcmFuZ2UgYXMgY29va2llIHZhbHVlLCBleGNlcHQgYD1gLCB3aGljaCBkZWxpbWl0cyBlbmQgb2YgbmFtZS5cbiAqL1xuY29uc3QgY29va2llTmFtZVJlZ0V4cCA9IC9eW1xcdTAwMjEtXFx1MDAzQVxcdTAwM0NcXHUwMDNFLVxcdTAwN0VdKyQvO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggY29va2llLXZhbHVlIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICpcbiAqIGNvb2tpZS12YWx1ZSAgICAgID0gKmNvb2tpZS1vY3RldCAvICggRFFVT1RFICpjb29raWUtb2N0ZXQgRFFVT1RFIClcbiAqIGNvb2tpZS1vY3RldCAgICAgID0gJXgyMSAvICV4MjMtMkIgLyAleDJELTNBIC8gJXgzQy01QiAvICV4NUQtN0VcbiAqICAgICAgICAgICAgICAgICAgICAgOyBVUy1BU0NJSSBjaGFyYWN0ZXJzIGV4Y2x1ZGluZyBDVExzLFxuICogICAgICAgICAgICAgICAgICAgICA7IHdoaXRlc3BhY2UgRFFVT1RFLCBjb21tYSwgc2VtaWNvbG9uLFxuICogICAgICAgICAgICAgICAgICAgICA7IGFuZCBiYWNrc2xhc2hcbiAqXG4gKiBBbGxvd2luZyBtb3JlIGNoYXJhY3RlcnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9qc2h0dHAvY29va2llL2lzc3Vlcy8xOTFcbiAqIENvbW1hLCBiYWNrc2xhc2gsIGFuZCBEUVVPVEUgYXJlIG5vdCBwYXJ0IG9mIHRoZSBwYXJzaW5nIGFsZ29yaXRobS5cbiAqL1xuY29uc3QgY29va2llVmFsdWVSZWdFeHAgPSAvXltcXHUwMDIxLVxcdTAwM0FcXHUwMDNDLVxcdTAwN0VdKiQvO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZG9tYWluLXZhbHVlIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICpcbiAqIGRvbWFpbi12YWx1ZSAgICAgID0gPHN1YmRvbWFpbj5cbiAqICAgICAgICAgICAgICAgICAgICAgOyBkZWZpbmVkIGluIFtSRkMxMDM0XSwgU2VjdGlvbiAzLjUsIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgZW5oYW5jZWQgYnkgW1JGQzExMjNdLCBTZWN0aW9uIDIuMVxuICogPHN1YmRvbWFpbj4gICAgICAgPSA8bGFiZWw+IHwgPHN1YmRvbWFpbj4gXCIuXCIgPGxhYmVsPlxuICogPGxhYmVsPiAgICAgICAgICAgPSA8bGV0LWRpZz4gWyBbIDxsZGgtc3RyPiBdIDxsZXQtZGlnPiBdXG4gKiAgICAgICAgICAgICAgICAgICAgIExhYmVscyBtdXN0IGJlIDYzIGNoYXJhY3RlcnMgb3IgbGVzcy5cbiAqICAgICAgICAgICAgICAgICAgICAgJ2xldC1kaWcnIG5vdCAnbGV0dGVyJyBpbiB0aGUgZmlyc3QgY2hhciwgcGVyIFJGQzExMjNcbiAqIDxsZGgtc3RyPiAgICAgICAgID0gPGxldC1kaWctaHlwPiB8IDxsZXQtZGlnLWh5cD4gPGxkaC1zdHI+XG4gKiA8bGV0LWRpZy1oeXA+ICAgICA9IDxsZXQtZGlnPiB8IFwiLVwiXG4gKiA8bGV0LWRpZz4gICAgICAgICA9IDxsZXR0ZXI+IHwgPGRpZ2l0PlxuICogPGxldHRlcj4gICAgICAgICAgPSBhbnkgb25lIG9mIHRoZSA1MiBhbHBoYWJldGljIGNoYXJhY3RlcnMgQSB0aHJvdWdoIFogaW5cbiAqICAgICAgICAgICAgICAgICAgICAgdXBwZXIgY2FzZSBhbmQgYSB0aHJvdWdoIHogaW4gbG93ZXIgY2FzZVxuICogPGRpZ2l0PiAgICAgICAgICAgPSBhbnkgb25lIG9mIHRoZSB0ZW4gZGlnaXRzIDAgdGhyb3VnaCA5XG4gKlxuICogS2VlcCBzdXBwb3J0IGZvciBsZWFkaW5nIGRvdDogaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvaXNzdWVzLzE3M1xuICpcbiAqID4gKE5vdGUgdGhhdCBhIGxlYWRpbmcgJXgyRSAoXCIuXCIpLCBpZiBwcmVzZW50LCBpcyBpZ25vcmVkIGV2ZW4gdGhvdWdoIHRoYXRcbiAqIGNoYXJhY3RlciBpcyBub3QgcGVybWl0dGVkLCBidXQgYSB0cmFpbGluZyAleDJFIChcIi5cIiksIGlmIHByZXNlbnQsIHdpbGxcbiAqIGNhdXNlIHRoZSB1c2VyIGFnZW50IHRvIGlnbm9yZSB0aGUgYXR0cmlidXRlLilcbiAqL1xuY29uc3QgZG9tYWluVmFsdWVSZWdFeHAgPSAvXihbLl0/W2EtejAtOV0oW2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykoWy5dW2EtejAtOV0oW2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykqJC9pO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggcGF0aC12YWx1ZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqXG4gKiBwYXRoLXZhbHVlICAgICAgICA9IDxhbnkgQ0hBUiBleGNlcHQgQ1RMcyBvciBcIjtcIj5cbiAqIENIQVIgICAgICAgICAgICAgID0gJXgwMS03RlxuICogICAgICAgICAgICAgICAgICAgICA7IGRlZmluZWQgaW4gUkZDIDUyMzQgYXBwZW5kaXggQi4xXG4gKi9cbmNvbnN0IHBhdGhWYWx1ZVJlZ0V4cCA9IC9eW1xcdTAwMjAtXFx1MDAzQVxcdTAwM0QtXFx1MDA3RV0qJC87XG5jb25zdCBfX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IE51bGxPYmplY3QgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IHtcbiAgICBjb25zdCBDID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXR1cm4gQztcbn0pKCk7XG4vKipcbiAqIFBhcnNlIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gY29va2llIGhlYWRlciBzdHJpbmcgaW50byBhbiBvYmplY3RcbiAqIFRoZSBvYmplY3QgaGFzIHRoZSB2YXJpb3VzIGNvb2tpZXMgYXMga2V5cyhuYW1lcykgPT4gdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9iaiA9IG5ldyBOdWxsT2JqZWN0KCk7XG4gICAgY29uc3QgbGVuID0gc3RyLmxlbmd0aDtcbiAgICAvLyBSRkMgNjI2NSBzZWMgNC4xLjEsIFJGQyAyNjE2IDIuMiBkZWZpbmVzIGEgY29va2llIG5hbWUgY29uc2lzdHMgb2Ygb25lIGNoYXIgbWluaW11bSwgcGx1cyAnPScuXG4gICAgaWYgKGxlbiA8IDIpXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgY29uc3QgZGVjID0gb3B0aW9ucz8uZGVjb2RlIHx8IGRlY29kZTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGRvIHtcbiAgICAgICAgY29uc3QgZXFJZHggPSBzdHIuaW5kZXhPZihcIj1cIiwgaW5kZXgpO1xuICAgICAgICBpZiAoZXFJZHggPT09IC0xKVxuICAgICAgICAgICAgYnJlYWs7IC8vIE5vIG1vcmUgY29va2llIHBhaXJzLlxuICAgICAgICBjb25zdCBjb2xvbklkeCA9IHN0ci5pbmRleE9mKFwiO1wiLCBpbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZElkeCA9IGNvbG9uSWR4ID09PSAtMSA/IGxlbiA6IGNvbG9uSWR4O1xuICAgICAgICBpZiAoZXFJZHggPiBlbmRJZHgpIHtcbiAgICAgICAgICAgIC8vIGJhY2t0cmFjayBvbiBwcmlvciBzZW1pY29sb25cbiAgICAgICAgICAgIGluZGV4ID0gc3RyLmxhc3RJbmRleE9mKFwiO1wiLCBlcUlkeCAtIDEpICsgMTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVN0YXJ0SWR4ID0gc3RhcnRJbmRleChzdHIsIGluZGV4LCBlcUlkeCk7XG4gICAgICAgIGNvbnN0IGtleUVuZElkeCA9IGVuZEluZGV4KHN0ciwgZXFJZHgsIGtleVN0YXJ0SWR4KTtcbiAgICAgICAgY29uc3Qga2V5ID0gc3RyLnNsaWNlKGtleVN0YXJ0SWR4LCBrZXlFbmRJZHgpO1xuICAgICAgICAvLyBvbmx5IGFzc2lnbiBvbmNlXG4gICAgICAgIGlmIChvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgdmFsU3RhcnRJZHggPSBzdGFydEluZGV4KHN0ciwgZXFJZHggKyAxLCBlbmRJZHgpO1xuICAgICAgICAgICAgbGV0IHZhbEVuZElkeCA9IGVuZEluZGV4KHN0ciwgZW5kSWR4LCB2YWxTdGFydElkeCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRlYyhzdHIuc2xpY2UodmFsU3RhcnRJZHgsIHZhbEVuZElkeCkpO1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IGVuZElkeCArIDE7XG4gICAgfSB3aGlsZSAoaW5kZXggPCBsZW4pO1xuICAgIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBzdGFydEluZGV4KHN0ciwgaW5kZXgsIG1heCkge1xuICAgIGRvIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgaWYgKGNvZGUgIT09IDB4MjAgLyogICAqLyAmJiBjb2RlICE9PSAweDA5IC8qIFxcdCAqLylcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9IHdoaWxlICgrK2luZGV4IDwgbWF4KTtcbiAgICByZXR1cm4gbWF4O1xufVxuZnVuY3Rpb24gZW5kSW5kZXgoc3RyLCBpbmRleCwgbWluKSB7XG4gICAgd2hpbGUgKGluZGV4ID4gbWluKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBzdHIuY2hhckNvZGVBdCgtLWluZGV4KTtcbiAgICAgICAgaWYgKGNvZGUgIT09IDB4MjAgLyogICAqLyAmJiBjb2RlICE9PSAweDA5IC8qIFxcdCAqLylcbiAgICAgICAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfVxuICAgIHJldHVybiBtaW47XG59XG4vKipcbiAqIFNlcmlhbGl6ZSBkYXRhIGludG8gYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFNlcmlhbGl6ZSBhIG5hbWUgdmFsdWUgcGFpciBpbnRvIGEgY29va2llIHN0cmluZyBzdWl0YWJsZSBmb3JcbiAqIGh0dHAgaGVhZGVycy4gQW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3Qgc3BlY2lmaWVzIGNvb2tpZSBwYXJhbWV0ZXJzLlxuICpcbiAqIHNlcmlhbGl6ZSgnZm9vJywgJ2JhcicsIHsgaHR0cE9ubHk6IHRydWUgfSlcbiAqICAgPT4gXCJmb289YmFyOyBodHRwT25seVwiXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZShuYW1lLCB2YWwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlbmMgPSBvcHRpb25zPy5lbmNvZGUgfHwgZW5jb2RlVVJJQ29tcG9uZW50O1xuICAgIGlmICghY29va2llTmFtZVJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGFyZ3VtZW50IG5hbWUgaXMgaW52YWxpZDogJHtuYW1lfWApO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IGVuYyh2YWwpO1xuICAgIGlmICghY29va2llVmFsdWVSZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgYXJndW1lbnQgdmFsIGlzIGludmFsaWQ6ICR7dmFsfWApO1xuICAgIH1cbiAgICBsZXQgc3RyID0gbmFtZSArIFwiPVwiICsgdmFsdWU7XG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIGlmIChvcHRpb25zLm1heEFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihvcHRpb25zLm1heEFnZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZDogJHtvcHRpb25zLm1heEFnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IE1heC1BZ2U9XCIgKyBvcHRpb25zLm1heEFnZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZG9tYWluKSB7XG4gICAgICAgIGlmICghZG9tYWluVmFsdWVSZWdFeHAudGVzdChvcHRpb25zLmRvbWFpbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBkb21haW4gaXMgaW52YWxpZDogJHtvcHRpb25zLmRvbWFpbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IERvbWFpbj1cIiArIG9wdGlvbnMuZG9tYWluO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wYXRoKSB7XG4gICAgICAgIGlmICghcGF0aFZhbHVlUmVnRXhwLnRlc3Qob3B0aW9ucy5wYXRoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIHBhdGggaXMgaW52YWxpZDogJHtvcHRpb25zLnBhdGh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBQYXRoPVwiICsgb3B0aW9ucy5wYXRoO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5leHBpcmVzKSB7XG4gICAgICAgIGlmICghaXNEYXRlKG9wdGlvbnMuZXhwaXJlcykgfHxcbiAgICAgICAgICAgICFOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5leHBpcmVzLnZhbHVlT2YoKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBleHBpcmVzIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5leHBpcmVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgRXhwaXJlcz1cIiArIG9wdGlvbnMuZXhwaXJlcy50b1VUQ1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5odHRwT25seSkge1xuICAgICAgICBzdHIgKz0gXCI7IEh0dHBPbmx5XCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNlY3VyZSkge1xuICAgICAgICBzdHIgKz0gXCI7IFNlY3VyZVwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wYXJ0aXRpb25lZCkge1xuICAgICAgICBzdHIgKz0gXCI7IFBhcnRpdGlvbmVkXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnByaW9yaXR5KSB7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gdHlwZW9mIG9wdGlvbnMucHJpb3JpdHkgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgID8gb3B0aW9ucy5wcmlvcml0eS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgc3dpdGNoIChwcmlvcml0eSkge1xuICAgICAgICAgICAgY2FzZSBcImxvd1wiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9TG93XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWVkaXVtXCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBQcmlvcml0eT1NZWRpdW1cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJoaWdoXCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBQcmlvcml0eT1IaWdoXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBwcmlvcml0eSBpcyBpbnZhbGlkOiAke29wdGlvbnMucHJpb3JpdHl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2FtZVNpdGUpIHtcbiAgICAgICAgY29uc3Qgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0aW9ucy5zYW1lU2l0ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBvcHRpb25zLnNhbWVTaXRlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIDogb3B0aW9ucy5zYW1lU2l0ZTtcbiAgICAgICAgc3dpdGNoIChzYW1lU2l0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgY2FzZSBcInN0cmljdFwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9U3RyaWN0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGF4XCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBTYW1lU2l0ZT1MYXhcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBTYW1lU2l0ZT1Ob25lXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBzYW1lU2l0ZSBpcyBpbnZhbGlkOiAke29wdGlvbnMuc2FtZVNpdGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogVVJMLWRlY29kZSBzdHJpbmcgdmFsdWUuIE9wdGltaXplZCB0byBza2lwIG5hdGl2ZSBjYWxsIHdoZW4gbm8gJS5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICAgIGlmIChzdHIuaW5kZXhPZihcIiVcIikgPT09IC0xKVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZSBpZiB2YWx1ZSBpcyBhIERhdGUuXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgICByZXR1cm4gX190b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwKICAgICJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRpc3RhbmNlID0gZXhwb3J0cy5jbG9zZXN0ID0gdm9pZCAwO1xudmFyIHBlcSA9IG5ldyBVaW50MzJBcnJheSgweDEwMDAwKTtcbnZhciBteWVyc18zMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIG4gPSBhLmxlbmd0aDtcbiAgICB2YXIgbSA9IGIubGVuZ3RoO1xuICAgIHZhciBsc3QgPSAxIDw8IChuIC0gMSk7XG4gICAgdmFyIHB2ID0gLTE7XG4gICAgdmFyIG12ID0gMDtcbiAgICB2YXIgc2MgPSBuO1xuICAgIHZhciBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHBlcVthLmNoYXJDb2RlQXQoaSldIHw9IDEgPDwgaTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IG07IGkrKykge1xuICAgICAgICB2YXIgZXEgPSBwZXFbYi5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgdmFyIHh2ID0gZXEgfCBtdjtcbiAgICAgICAgZXEgfD0gKChlcSAmIHB2KSArIHB2KSBeIHB2O1xuICAgICAgICBtdiB8PSB+KGVxIHwgcHYpO1xuICAgICAgICBwdiAmPSBlcTtcbiAgICAgICAgaWYgKG12ICYgbHN0KSB7XG4gICAgICAgICAgICBzYysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwdiAmIGxzdCkge1xuICAgICAgICAgICAgc2MtLTtcbiAgICAgICAgfVxuICAgICAgICBtdiA9IChtdiA8PCAxKSB8IDE7XG4gICAgICAgIHB2ID0gKHB2IDw8IDEpIHwgfih4diB8IG12KTtcbiAgICAgICAgbXYgJj0geHY7XG4gICAgfVxuICAgIGkgPSBuO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgcGVxW2EuY2hhckNvZGVBdChpKV0gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc2M7XG59O1xudmFyIG15ZXJzX3ggPSBmdW5jdGlvbiAoYiwgYSkge1xuICAgIHZhciBuID0gYS5sZW5ndGg7XG4gICAgdmFyIG0gPSBiLmxlbmd0aDtcbiAgICB2YXIgbWhjID0gW107XG4gICAgdmFyIHBoYyA9IFtdO1xuICAgIHZhciBoc2l6ZSA9IE1hdGguY2VpbChuIC8gMzIpO1xuICAgIHZhciB2c2l6ZSA9IE1hdGguY2VpbChtIC8gMzIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaHNpemU7IGkrKykge1xuICAgICAgICBwaGNbaV0gPSAtMTtcbiAgICAgICAgbWhjW2ldID0gMDtcbiAgICB9XG4gICAgdmFyIGogPSAwO1xuICAgIGZvciAoOyBqIDwgdnNpemUgLSAxOyBqKyspIHtcbiAgICAgICAgdmFyIG12XzEgPSAwO1xuICAgICAgICB2YXIgcHZfMSA9IC0xO1xuICAgICAgICB2YXIgc3RhcnRfMSA9IGogKiAzMjtcbiAgICAgICAgdmFyIHZsZW5fMSA9IE1hdGgubWluKDMyLCBtKSArIHN0YXJ0XzE7XG4gICAgICAgIGZvciAodmFyIGsgPSBzdGFydF8xOyBrIDwgdmxlbl8xOyBrKyspIHtcbiAgICAgICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldIHw9IDEgPDwgaztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgdmFyIGVxID0gcGVxW2EuY2hhckNvZGVBdChpKV07XG4gICAgICAgICAgICB2YXIgcGIgPSAocGhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgICAgIHZhciBtYiA9IChtaGNbKGkgLyAzMikgfCAwXSA+Pj4gaSkgJiAxO1xuICAgICAgICAgICAgdmFyIHh2ID0gZXEgfCBtdl8xO1xuICAgICAgICAgICAgdmFyIHhoID0gKCgoKGVxIHwgbWIpICYgcHZfMSkgKyBwdl8xKSBeIHB2XzEpIHwgZXEgfCBtYjtcbiAgICAgICAgICAgIHZhciBwaCA9IG12XzEgfCB+KHhoIHwgcHZfMSk7XG4gICAgICAgICAgICB2YXIgbWggPSBwdl8xICYgeGg7XG4gICAgICAgICAgICBpZiAoKHBoID4+PiAzMSkgXiBwYikge1xuICAgICAgICAgICAgICAgIHBoY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobWggPj4+IDMxKSBeIG1iKSB7XG4gICAgICAgICAgICAgICAgbWhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGggPSAocGggPDwgMSkgfCBwYjtcbiAgICAgICAgICAgIG1oID0gKG1oIDw8IDEpIHwgbWI7XG4gICAgICAgICAgICBwdl8xID0gbWggfCB+KHh2IHwgcGgpO1xuICAgICAgICAgICAgbXZfMSA9IHBoICYgeHY7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgayA9IHN0YXJ0XzE7IGsgPCB2bGVuXzE7IGsrKykge1xuICAgICAgICAgICAgcGVxW2IuY2hhckNvZGVBdChrKV0gPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBtdiA9IDA7XG4gICAgdmFyIHB2ID0gLTE7XG4gICAgdmFyIHN0YXJ0ID0gaiAqIDMyO1xuICAgIHZhciB2bGVuID0gTWF0aC5taW4oMzIsIG0gLSBzdGFydCkgKyBzdGFydDtcbiAgICBmb3IgKHZhciBrID0gc3RhcnQ7IGsgPCB2bGVuOyBrKyspIHtcbiAgICAgICAgcGVxW2IuY2hhckNvZGVBdChrKV0gfD0gMSA8PCBrO1xuICAgIH1cbiAgICB2YXIgc2NvcmUgPSBtO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBlcSA9IHBlcVthLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICB2YXIgcGIgPSAocGhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgdmFyIG1iID0gKG1oY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgIHZhciB4diA9IGVxIHwgbXY7XG4gICAgICAgIHZhciB4aCA9ICgoKChlcSB8IG1iKSAmIHB2KSArIHB2KSBeIHB2KSB8IGVxIHwgbWI7XG4gICAgICAgIHZhciBwaCA9IG12IHwgfih4aCB8IHB2KTtcbiAgICAgICAgdmFyIG1oID0gcHYgJiB4aDtcbiAgICAgICAgc2NvcmUgKz0gKHBoID4+PiAobSAtIDEpKSAmIDE7XG4gICAgICAgIHNjb3JlIC09IChtaCA+Pj4gKG0gLSAxKSkgJiAxO1xuICAgICAgICBpZiAoKHBoID4+PiAzMSkgXiBwYikge1xuICAgICAgICAgICAgcGhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgobWggPj4+IDMxKSBeIG1iKSB7XG4gICAgICAgICAgICBtaGNbKGkgLyAzMikgfCAwXSBePSAxIDw8IGk7XG4gICAgICAgIH1cbiAgICAgICAgcGggPSAocGggPDwgMSkgfCBwYjtcbiAgICAgICAgbWggPSAobWggPDwgMSkgfCBtYjtcbiAgICAgICAgcHYgPSBtaCB8IH4oeHYgfCBwaCk7XG4gICAgICAgIG12ID0gcGggJiB4djtcbiAgICB9XG4gICAgZm9yICh2YXIgayA9IHN0YXJ0OyBrIDwgdmxlbjsgaysrKSB7XG4gICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlO1xufTtcbnZhciBkaXN0YW5jZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRtcCA9IGI7XG4gICAgICAgIGIgPSBhO1xuICAgICAgICBhID0gdG1wO1xuICAgIH1cbiAgICBpZiAoYi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggPD0gMzIpIHtcbiAgICAgICAgcmV0dXJuIG15ZXJzXzMyKGEsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gbXllcnNfeChhLCBiKTtcbn07XG5leHBvcnRzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG52YXIgY2xvc2VzdCA9IGZ1bmN0aW9uIChzdHIsIGFycikge1xuICAgIHZhciBtaW5fZGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICB2YXIgbWluX2luZGV4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGlzdCA9IGRpc3RhbmNlKHN0ciwgYXJyW2ldKTtcbiAgICAgICAgaWYgKGRpc3QgPCBtaW5fZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1pbl9kaXN0YW5jZSA9IGRpc3Q7XG4gICAgICAgICAgICBtaW5faW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJbbWluX2luZGV4XTtcbn07XG5leHBvcnRzLmNsb3Nlc3QgPSBjbG9zZXN0O1xuIiwKICAgICIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIHZhciBjb2xsYXRvcjtcbiAgdHJ5IHtcbiAgICBjb2xsYXRvciA9ICh0eXBlb2YgSW50bCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgSW50bC5Db2xsYXRvciAhPT0gXCJ1bmRlZmluZWRcIikgPyBJbnRsLkNvbGxhdG9yKFwiZ2VuZXJpY1wiLCB7IHNlbnNpdGl2aXR5OiBcImJhc2VcIiB9KSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycil7XG4gICAgY29uc29sZS5sb2coXCJDb2xsYXRvciBjb3VsZCBub3QgYmUgaW5pdGlhbGl6ZWQgYW5kIHdvdWxkbid0IGJlIHVzZWRcIik7XG4gIH1cblxuICB2YXIgbGV2ZW5zaHRlaW4gPSByZXF1aXJlKCdmYXN0ZXN0LWxldmVuc2h0ZWluJyk7XG5cbiAgLy8gYXJyYXlzIHRvIHJlLXVzZVxuICB2YXIgcHJldlJvdyA9IFtdLFxuICAgIHN0cjJDaGFyID0gW107XG4gIFxuICAvKipcbiAgICogQmFzZWQgb24gdGhlIGFsZ29yaXRobSBhdCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldmVuc2h0ZWluX2Rpc3RhbmNlLlxuICAgKi9cbiAgdmFyIExldmVuc2h0ZWluID0ge1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZXZlbnNodGVpbiBkaXN0YW5jZSBvZiB0aGUgdHdvIHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyMSBTdHJpbmcgdGhlIGZpcnN0IHN0cmluZy5cbiAgICAgKiBAcGFyYW0gc3RyMiBTdHJpbmcgdGhlIHNlY29uZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIFtvcHRpb25zXSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIFtvcHRpb25zLnVzZUNvbGxhdG9yXSBVc2UgYEludGwuQ29sbGF0b3JgIGZvciBsb2NhbGUtc2Vuc2l0aXZlIHN0cmluZyBjb21wYXJpc29uLlxuICAgICAqIEByZXR1cm4gSW50ZWdlciB0aGUgbGV2ZW5zaHRlaW4gZGlzdGFuY2UgKDAgYW5kIGFib3ZlKS5cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHN0cjEsIHN0cjIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciB1c2VDb2xsYXRvciA9IChvcHRpb25zICYmIGNvbGxhdG9yICYmIG9wdGlvbnMudXNlQ29sbGF0b3IpO1xuICAgICAgXG4gICAgICBpZiAodXNlQ29sbGF0b3IpIHtcbiAgICAgICAgdmFyIHN0cjFMZW4gPSBzdHIxLmxlbmd0aCxcbiAgICAgICAgICBzdHIyTGVuID0gc3RyMi5sZW5ndGg7XG4gICAgICAgIFxuICAgICAgICAvLyBiYXNlIGNhc2VzXG4gICAgICAgIGlmIChzdHIxTGVuID09PSAwKSByZXR1cm4gc3RyMkxlbjtcbiAgICAgICAgaWYgKHN0cjJMZW4gPT09IDApIHJldHVybiBzdHIxTGVuO1xuXG4gICAgICAgIC8vIHR3byByb3dzXG4gICAgICAgIHZhciBjdXJDb2wsIG5leHRDb2wsIGksIGosIHRtcDtcblxuICAgICAgICAvLyBpbml0aWFsaXNlIHByZXZpb3VzIHJvd1xuICAgICAgICBmb3IgKGk9MDsgaTxzdHIyTGVuOyArK2kpIHtcbiAgICAgICAgICBwcmV2Um93W2ldID0gaTtcbiAgICAgICAgICBzdHIyQ2hhcltpXSA9IHN0cjIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2Um93W3N0cjJMZW5dID0gc3RyMkxlbjtcblxuICAgICAgICB2YXIgc3RyQ21wO1xuICAgICAgICAvLyBjYWxjdWxhdGUgY3VycmVudCByb3cgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyByb3cgdXNpbmcgY29sbGF0b3JcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cjFMZW47ICsraSkge1xuICAgICAgICAgIG5leHRDb2wgPSBpICsgMTtcblxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBzdHIyTGVuOyArK2opIHtcbiAgICAgICAgICAgIGN1ckNvbCA9IG5leHRDb2w7XG5cbiAgICAgICAgICAgIC8vIHN1YnN0dXRpb25cbiAgICAgICAgICAgIHN0ckNtcCA9IDAgPT09IGNvbGxhdG9yLmNvbXBhcmUoc3RyMS5jaGFyQXQoaSksIFN0cmluZy5mcm9tQ2hhckNvZGUoc3RyMkNoYXJbal0pKTtcblxuICAgICAgICAgICAgbmV4dENvbCA9IHByZXZSb3dbal0gKyAoc3RyQ21wID8gMCA6IDEpO1xuXG4gICAgICAgICAgICAvLyBpbnNlcnRpb25cbiAgICAgICAgICAgIHRtcCA9IGN1ckNvbCArIDE7XG4gICAgICAgICAgICBpZiAobmV4dENvbCA+IHRtcCkge1xuICAgICAgICAgICAgICBuZXh0Q29sID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVsZXRpb25cbiAgICAgICAgICAgIHRtcCA9IHByZXZSb3dbaiArIDFdICsgMTtcbiAgICAgICAgICAgIGlmIChuZXh0Q29sID4gdG1wKSB7XG4gICAgICAgICAgICAgIG5leHRDb2wgPSB0bXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvcHkgY3VycmVudCBjb2wgdmFsdWUgaW50byBwcmV2aW91cyAoaW4gcHJlcGFyYXRpb24gZm9yIG5leHQgaXRlcmF0aW9uKVxuICAgICAgICAgICAgcHJldlJvd1tqXSA9IGN1ckNvbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjb3B5IGxhc3QgY29sIHZhbHVlIGludG8gcHJldmlvdXMgKGluIHByZXBhcmF0aW9uIGZvciBuZXh0IGl0ZXJhdGlvbilcbiAgICAgICAgICBwcmV2Um93W2pdID0gbmV4dENvbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dENvbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZXZlbnNodGVpbi5kaXN0YW5jZShzdHIxLCBzdHIyKTtcbiAgICB9XG5cbiAgfTtcblxuICAvLyBhbWRcbiAgaWYgKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTGV2ZW5zaHRlaW47XG4gICAgfSk7XG4gIH1cbiAgLy8gY29tbW9uanNcbiAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUgIT09IG51bGwgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IExldmVuc2h0ZWluO1xuICB9XG4gIC8vIHdlYiB3b3JrZXJcbiAgZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHNlbGYucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNlbGYuTGV2ZW5zaHRlaW4gPSBMZXZlbnNodGVpbjtcbiAgfVxuICAvLyBicm93c2VyIG1haW4gdGhyZWFkXG4gIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93ICE9PSBudWxsKSB7XG4gICAgd2luZG93LkxldmVuc2h0ZWluID0gTGV2ZW5zaHRlaW47XG4gIH1cbn0oKSk7XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMlxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cbiAgICBmdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgICBsb2c6IHByb3BzLFxuICAgICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgICBncm91cDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRpc2FibGVkRGVwdGgrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICAgICAgZGlzYWJsZWREZXB0aC0tO1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgdmFyIHByb3BzID0geyBjb25maWd1cmFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZMb2cgfSksXG4gICAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkluZm8gfSksXG4gICAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldldhcm4gfSksXG4gICAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZFcnJvciB9KSxcbiAgICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwIH0pLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWQgfSksXG4gICAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cEVuZCB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIDAgPiBkaXNhYmxlZERlcHRoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gcHJlZml4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICAgIHByZWZpeCA9IChtYXRjaCAmJiBtYXRjaFsxXSkgfHwgXCJcIjtcbiAgICAgICAgICBzdWZmaXggPVxuICAgICAgICAgICAgLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJcXG4gICAgYXRcIilcbiAgICAgICAgICAgICAgPyBcIiAoPGFub255bW91cz4pXCJcbiAgICAgICAgICAgICAgOiAtMSA8IHguc3RhY2suaW5kZXhPZihcIkBcIilcbiAgICAgICAgICAgICAgICA/IFwiQHVua25vd246MDowXCJcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlxcblwiICsgcHJlZml4ICsgbmFtZSArIHN1ZmZpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gICAgICBpZiAoIWZuIHx8IHJlZW50cnkpIHJldHVybiBcIlwiO1xuICAgICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gZnJhbWUpIHJldHVybiBmcmFtZTtcbiAgICAgIHJlZW50cnkgPSAhMDtcbiAgICAgIGZyYW1lID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcmV2aW91c0Rpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBudWxsO1xuICAgICAgZGlzYWJsZUxvZ3MoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBSdW5JblJvb3RGcmFtZSA9IHtcbiAgICAgICAgICBEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBSZWZsZWN0ICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0geDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQxKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sID0geCQxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoRmFrZSA9IGZuKCkpICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBGYWtlLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgICBGYWtlLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoc2FtcGxlKSB7XG4gICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2FtcGxlLnN0YWNrKVxuICAgICAgICAgICAgICAgIHJldHVybiBbc2FtcGxlLnN0YWNrLCBjb250cm9sLnN0YWNrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPVxuICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCI7XG4gICAgICAgIHZhciBuYW1lUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICBcIm5hbWVcIlxuICAgICAgICApO1xuICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlICYmXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiIH1cbiAgICAgICAgICApO1xuICAgICAgICB2YXIgX1J1bkluUm9vdEZyYW1lJERldGVyID1cbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCgpLFxuICAgICAgICAgIHNhbXBsZVN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzBdLFxuICAgICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcbiAgICAgICAgaWYgKHNhbXBsZVN0YWNrICYmIGNvbnRyb2xTdGFjaykge1xuICAgICAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICAgICAgY29udHJvbExpbmVzID0gY29udHJvbFN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBuYW1lUHJvcERlc2NyaXB0b3IgPSAwO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yIDwgc2FtcGxlTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvcisrO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPCBjb250cm9sTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIrKztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID09PSBjb250cm9sTGluZXMubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgJiZcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXTtcblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXI7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3ItLSwgX1J1bkluUm9vdEZyYW1lJERldGVyLS1cbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKDEgIT09IG5hbWVQcm9wRGVzY3JpcHRvciB8fCAxICE9PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpIHtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAobmFtZVByb3BEZXNjcmlwdG9yLS0sXG4gICAgICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tLFxuICAgICAgICAgICAgICAgICAgICAwID4gX1J1bkluUm9vdEZyYW1lJERldGVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0ucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IG5ldyBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IFwiXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZm4uZGlzcGxheU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIChfZnJhbWUgPSBfZnJhbWUucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGZuLmRpc3BsYXlOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKHJlZW50cnkgPSAhMSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2aW91c0Rpc3BhdGNoZXIpLFxuICAgICAgICAgIHJlZW5hYmxlTG9ncygpLFxuICAgICAgICAgIChFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IGZyYW1lKTtcbiAgICAgIH1cbiAgICAgIHNhbXBsZUxpbmVzID0gKHNhbXBsZUxpbmVzID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogXCJcIilcbiAgICAgICAgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShzYW1wbGVMaW5lcylcbiAgICAgICAgOiBcIlwiO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiYgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHNhbXBsZUxpbmVzKTtcbiAgICAgIHJldHVybiBzYW1wbGVMaW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBcIlwiO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpIHtcbiAgICAgICAgdmFyIHByb3RvdHlwZSA9IHR5cGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgICEoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlTGlzdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLnJlbmRlciwgITEpKSwgdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIHByb3RvdHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZShwcm90b3R5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24ganN4REVWSW1wbChcbiAgICAgIHR5cGUsXG4gICAgICBjb25maWcsXG4gICAgICBtYXliZUtleSxcbiAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICBzb3VyY2UsXG4gICAgICBzZWxmXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgfHxcbiAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDEgfHxcbiAgICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZS5nZXRNb2R1bGVJZCkpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29uZmlnLmNoaWxkcmVuO1xuICAgICAgICBpZiAodm9pZCAwICE9PSBjaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuIDwgY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4rK1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baXNTdGF0aWNDaGlsZHJlbl0sIHR5cGUpO1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBlbHNlIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZSB8fFxuICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgMCA9PT0gT2JqZWN0LmtleXModHlwZSkubGVuZ3RoKVxuICAgICAgICApXG4gICAgICAgICAgY2hpbGRyZW4gKz1cbiAgICAgICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgICAgbnVsbCA9PT0gdHlwZVxuICAgICAgICAgID8gKGlzU3RhdGljQ2hpbGRyZW4gPSBcIm51bGxcIilcbiAgICAgICAgICA6IGlzQXJyYXlJbXBsKHR5cGUpXG4gICAgICAgICAgICA/IChpc1N0YXRpY0NoaWxkcmVuID0gXCJhcnJheVwiKVxuICAgICAgICAgICAgOiB2b2lkIDAgIT09IHR5cGUgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICAgICAgICAgID8gKChpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgICAgIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIlVua25vd25cIikgK1xuICAgICAgICAgICAgICAgICAgXCIgLz5cIiksXG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuID1cbiAgICAgICAgICAgICAgICAgIFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpKVxuICAgICAgICAgICAgICA6IChpc1N0YXRpY0NoaWxkcmVuID0gdHlwZW9mIHR5cGUpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3QuanN4OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzXCIsXG4gICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICBjaGlsZHJlbiA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBcImtleVwiICE9PSBrO1xuICAgICAgICB9KTtcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgMCA8IGtleXMubGVuZ3RoXG4gICAgICAgICAgICA/IFwie2tleTogc29tZUtleSwgXCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIlxuICAgICAgICAgICAgOiBcIntrZXk6IHNvbWVLZXl9XCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dIHx8XG4gICAgICAgICAgKChrZXlzID1cbiAgICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aCA/IFwie1wiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCIgOiBcInt9XCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyB7Li4ucHJvcHN9IC8+XFxuUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyBrZXk9e3NvbWVLZXl9IHsuLi5wcm9wc30gLz4nLFxuICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdm9pZCAwICE9PSBtYXliZUtleSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihtYXliZUtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBtYXliZUtleSkpO1xuICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgIGlmIChcImtleVwiIGluIGNvbmZpZykge1xuICAgICAgICBtYXliZUtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiYgKG1heWJlS2V5W3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfSBlbHNlIG1heWJlS2V5ID0gY29uZmlnO1xuICAgICAgY2hpbGRyZW4gJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgbWF5YmVLZXksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGNoaWxkcmVuLCBzZWxmLCBzb3VyY2UsIGdldE93bmVyKCksIG1heWJlS2V5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICBub2RlICYmXG4gICAgICAgIG5vZGUuJCR0eXBlb2YgIT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgIClcbiAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5vZGUpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKVxuICAgICAgICAgIG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKG51bGwgPT09IG5vZGUgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG5vZGVcbiAgICAgICAgICAgID8gKGkgPSBudWxsKVxuICAgICAgICAgICAgOiAoKGkgPVxuICAgICAgICAgICAgICAgIChNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbm9kZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgICAgICAgICAgIG5vZGVbXCJAQGl0ZXJhdG9yXCJdKSxcbiAgICAgICAgICAgICAgKGkgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpID8gaSA6IG51bGwpKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpICYmXG4gICAgICAgICAgICBpICE9PSBub2RlLmVudHJpZXMgJiZcbiAgICAgICAgICAgICgoaSA9IGkuY2FsbChub2RlKSksIGkgIT09IG5vZGUpKVxuICAgICAgICApXG4gICAgICAgICAgZm9yICg7ICEobm9kZSA9IGkubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChub2RlLnZhbHVlKSAmJlxuICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KG5vZGUudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgZWxlbWVudC5fc3RvcmUgJiZcbiAgICAgICAgIWVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCAmJlxuICAgICAgICBudWxsID09IGVsZW1lbnQua2V5ICYmXG4gICAgICAgICgoZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gMSksXG4gICAgICAgIChwYXJlbnRUeXBlID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSksXG4gICAgICAgICFvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0pXG4gICAgICApIHtcbiAgICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdID0gITA7XG4gICAgICAgIHZhciBjaGlsZE93bmVyID0gXCJcIjtcbiAgICAgICAgZWxlbWVudCAmJlxuICAgICAgICAgIG51bGwgIT0gZWxlbWVudC5fb3duZXIgJiZcbiAgICAgICAgICBlbGVtZW50Ll9vd25lciAhPT0gZ2V0T3duZXIoKSAmJlxuICAgICAgICAgICgoY2hpbGRPd25lciA9IG51bGwpLFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci50YWdcbiAgICAgICAgICAgID8gKGNoaWxkT3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkpXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci5uYW1lICYmXG4gICAgICAgICAgICAgIChjaGlsZE93bmVyID0gZWxlbWVudC5fb3duZXIubmFtZSksXG4gICAgICAgICAgKGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGNoaWxkT3duZXIgKyBcIi5cIikpO1xuICAgICAgICB2YXIgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjaztcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUpO1xuICAgICAgICAgIHByZXZHZXRDdXJyZW50U3RhY2sgJiYgKHN0YWNrICs9IHByZXZHZXRDdXJyZW50U3RhY2soKSB8fCBcIlwiKTtcbiAgICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4lcyVzIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgICAgIHBhcmVudFR5cGUsXG4gICAgICAgICAgY2hpbGRPd25lclxuICAgICAgICApO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAgICAgIHZhciBpbmZvID0gXCJcIixcbiAgICAgICAgb3duZXIgPSBnZXRPd25lcigpO1xuICAgICAgb3duZXIgJiZcbiAgICAgICAgKG93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKG93bmVyLnR5cGUpKSAmJlxuICAgICAgICAoaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgb3duZXIgKyBcImAuXCIpO1xuICAgICAgaW5mbyB8fFxuICAgICAgICAoKHBhcmVudFR5cGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUocGFyZW50VHlwZSkpICYmXG4gICAgICAgICAgKGluZm8gPVxuICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudFR5cGUgKyBcIj4uXCIpKTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIiksXG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBkaXNhYmxlZERlcHRoID0gMCxcbiAgICAgIHByZXZMb2csXG4gICAgICBwcmV2SW5mbyxcbiAgICAgIHByZXZXYXJuLFxuICAgICAgcHJldkVycm9yLFxuICAgICAgcHJldkdyb3VwLFxuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkLFxuICAgICAgcHJldkdyb3VwRW5kO1xuICAgIGRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIHZhciBwcmVmaXgsXG4gICAgICBzdWZmaXgsXG4gICAgICByZWVudHJ5ID0gITE7XG4gICAgdmFyIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgKFxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXBcbiAgICApKCk7XG4gICAgdmFyIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dEtleVNwcmVhZCA9IHt9LFxuICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwodHlwZSwgY29uZmlnLCBtYXliZUtleSwgaXNTdGF0aWNDaGlsZHJlbiwgc291cmNlLCBzZWxmKTtcbiAgICB9O1xuICB9KSgpO1xuIiwKICAgICIvLyBAdHMtaWdub3JlXG5pbXBvcnQgTE9HTyBmcm9tIFwiLi9pbWcvbG9nby5wbmdcIjsgZXhwb3J0IHsgTE9HTyB9O1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgQklHX1NUQVJfQU5EX1NNQUxMRVJfU1RBUl9JQ09OIGZyb20gXCIuL2ltZy9iaWdfc3Rhcl9hbmRfc21hbGxlcl9zdGFyX2ljb24ucG5nXCI7IGV4cG9ydCB7IEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTiB9O1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgU0VBUkNIX0JBUl9JQ09OIGZyb20gXCIuL2ltZy9zZWFyY2hfaWNvbi5wbmdcIjsgZXhwb3J0IHsgU0VBUkNIX0JBUl9JQ09OIH07XG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBQTEFDRUhPTERFUiBmcm9tIFwiLi9pbWcvcGxhY2Vob2xkZXIuanBnXCI7IGV4cG9ydCB7IFBMQUNFSE9MREVSIH07XG5cbmV4cG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBEaXNwYXRjaCxcbiAgICB0eXBlIFNldFN0YXRlQWN0aW9uLFxuICAgIHR5cGUgQ1NTUHJvcGVydGllcyxcbiAgICB1c2VFZmZlY3QsXG4gICAgdXNlU3RhdGVcbn0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCB7XG4gICAgY3JlYXRlUm9vdCBhcyBSb290XG59IGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5cbmV4cG9ydCB7XG4gICAgQnJvd3NlclJvdXRlcixcbiAgICBSb3V0ZXMsXG4gICAgUm91dGUsXG4gICAgTGluayxcbiAgICB0eXBlIExpbmtQcm9wc1xufSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5leHBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmIGFzIFNwcmluZ0NvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcbiAgICB1c2VTcHJpbmcsXG4gICAgdXNlU3ByaW5ncyxcbiAgICBhbmltYXRlZFxufSBmcm9tIFwicmVhY3Qtc3ByaW5nXCI7XG5cbmV4cG9ydCB7XG4gICAgZ2V0IGFzIHNvcnQgXG59IGZyb20gXCJmYXN0LWxldmVuc2h0ZWluXCI7XG5cbmV4cG9ydCB7XG4gICAgdHlwZSBTdHJpcGUgYXMgU3RyaXBlU29ja2V0LFxuICAgIGxvYWRTdHJpcGUgYXMgU3RyaXBlXG59IGZyb20gXCJAc3RyaXBlL3N0cmlwZS1qc1wiO1xuXG5leHBvcnQgKiBmcm9tIFwiQGNvbW1vblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2FuaW1hdGlvbi9pbWFnZV9jYXJvdXNlbFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2FuaW1hdGlvbi9yZXZlYWxfdG9nZ2xlZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2FuaW1hdGlvbi9yZXZlYWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9jb2xvclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2NvbnN0YW50L2ZvbnRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9zaGFkb3dcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9mb3JtL2Zvcm1fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX2lucHV0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX21lc3NhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9mb3JtL2Zvcm1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZV93aXRoXzJfaG9yaXpvbnRhbF9zZWN0aW9uc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2xheW91dC9wYWdlX3dpdGhfM192ZXJ0aWNhbF9zZWN0aW9uc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2xheW91dC9wYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9idXR0b25fZ3JvdXBcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfY2FsbF90b19hY3Rpb25fYnV0dG9uX2ljb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfbG9nb1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfbWF0ZXJpYWxzX2Ryb3BfZG93bl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3BhcnRpYWxfYnVpbGRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NlYXJjaF9iYXJfcGFydGlhbF9idWlsZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2VhcmNoX2JhclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2lnbl9pbl9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduX3VwX2Zvcm1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NpZ25lcl9kcm9wX2Rvd25fYnV0dG9uX3BhcnRpYWxfYnVpbGRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NpZ25lcl9kcm9wX2Rvd25fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zdWdnZXN0aW9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdlwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3BhZ2UvYmFza2V0X3BhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9wYWdlL2Zvcl95b3VfcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3BhZ2UvaG9tZV9wYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvcGFnZS90ZXJtaW5hbF9wYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvcGF5bWVudC9jaGVja291dF9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9zcHJpdGUvc3ByaXRlX2ljb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9zcHJpdGUvc3ByaXRlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfYm9keVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2NhcHRpb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9oZWFkaW5nXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfaXRlbVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX3Jvd1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX3N5bWJvbF9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV93cmFwcGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90eXBvZ3JhcGh5L3R5cG9ncmFwaHlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC91dGlsL3JlbmRlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3V0aWwvdGVybWluYWxfcGFydGlhbF9idWlsZFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3V0aWwvdGVybWluYWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC91dGlsX3R5cGUvc3RhdGVcIjsiLAogICAgIi8qKlxuICogcmVhY3Qtcm91dGVyIHY3LjMuMFxuICpcbiAqIENvcHlyaWdodCAoYykgUmVtaXggU29mdHdhcmUgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRS5tZCBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBsaWNlbnNlIE1JVFxuICovXG52YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IG1lbWJlci5oYXMob2JqKSB8fCBfX3R5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG52YXIgX19wcml2YXRlR2V0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IChfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpLCBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopKTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcblxuLy8gbGliL3JvdXRlci9oaXN0b3J5LnRzXG52YXIgQWN0aW9uID0gLyogQF9fUFVSRV9fICovICgoQWN0aW9uMikgPT4ge1xuICBBY3Rpb24yW1wiUG9wXCJdID0gXCJQT1BcIjtcbiAgQWN0aW9uMltcIlB1c2hcIl0gPSBcIlBVU0hcIjtcbiAgQWN0aW9uMltcIlJlcGxhY2VcIl0gPSBcIlJFUExBQ0VcIjtcbiAgcmV0dXJuIEFjdGlvbjI7XG59KShBY3Rpb24gfHwge30pO1xudmFyIFBvcFN0YXRlRXZlbnRUeXBlID0gXCJwb3BzdGF0ZVwiO1xuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShvcHRpb25zID0ge30pIHtcbiAgbGV0IHsgaW5pdGlhbEVudHJpZXMgPSBbXCIvXCJdLCBpbml0aWFsSW5kZXgsIHY1Q29tcGF0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGxldCBlbnRyaWVzO1xuICBlbnRyaWVzID0gaW5pdGlhbEVudHJpZXMubWFwKFxuICAgIChlbnRyeSwgaW5kZXgyKSA9PiBjcmVhdGVNZW1vcnlMb2NhdGlvbihcbiAgICAgIGVudHJ5LFxuICAgICAgdHlwZW9mIGVudHJ5ID09PSBcInN0cmluZ1wiID8gbnVsbCA6IGVudHJ5LnN0YXRlLFxuICAgICAgaW5kZXgyID09PSAwID8gXCJkZWZhdWx0XCIgOiB2b2lkIDBcbiAgICApXG4gICk7XG4gIGxldCBpbmRleCA9IGNsYW1wSW5kZXgoXG4gICAgaW5pdGlhbEluZGV4ID09IG51bGwgPyBlbnRyaWVzLmxlbmd0aCAtIDEgOiBpbml0aWFsSW5kZXhcbiAgKTtcbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbGlzdGVuZXIgPSBudWxsO1xuICBmdW5jdGlvbiBjbGFtcEluZGV4KG4pIHtcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobiwgMCksIGVudHJpZXMubGVuZ3RoIC0gMSk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudExvY2F0aW9uKCkge1xuICAgIHJldHVybiBlbnRyaWVzW2luZGV4XTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUgPSBudWxsLCBrZXkpIHtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcbiAgICAgIGVudHJpZXMgPyBnZXRDdXJyZW50TG9jYXRpb24oKS5wYXRobmFtZSA6IFwiL1wiLFxuICAgICAgdG8sXG4gICAgICBzdGF0ZSxcbiAgICAgIGtleVxuICAgICk7XG4gICAgd2FybmluZyhcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gXCIvXCIsXG4gICAgICBgcmVsYXRpdmUgcGF0aG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIG1lbW9yeSBoaXN0b3J5OiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICB0b1xuICAgICAgKX1gXG4gICAgKTtcbiAgICByZXR1cm4gbG9jYXRpb247XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZjIodG8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IHtcbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSxcbiAgICBnZXQgYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9LFxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRDdXJyZW50TG9jYXRpb24oKTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYyLFxuICAgIGNyZWF0ZVVSTCh0bykge1xuICAgICAgcmV0dXJuIG5ldyBVUkwoY3JlYXRlSHJlZjIodG8pLCBcImh0dHA6Ly9sb2NhbGhvc3RcIik7XG4gICAgfSxcbiAgICBlbmNvZGVMb2NhdGlvbih0bykge1xuICAgICAgbGV0IHBhdGggPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG87XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRobmFtZTogcGF0aC5wYXRobmFtZSB8fCBcIlwiLFxuICAgICAgICBzZWFyY2g6IHBhdGguc2VhcmNoIHx8IFwiXCIsXG4gICAgICAgIGhhc2g6IHBhdGguaGFzaCB8fCBcIlwiXG4gICAgICB9O1xuICAgIH0sXG4gICAgcHVzaCh0bywgc3RhdGUpIHtcbiAgICAgIGFjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgIGluZGV4ICs9IDE7XG4gICAgICBlbnRyaWVzLnNwbGljZShpbmRleCwgZW50cmllcy5sZW5ndGgsIG5leHRMb2NhdGlvbik7XG4gICAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhOiAxIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVwbGFjZSh0bywgc3RhdGUpIHtcbiAgICAgIGFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlKTtcbiAgICAgIGVudHJpZXNbaW5kZXhdID0gbmV4dExvY2F0aW9uO1xuICAgICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YTogMCB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGdvKGRlbHRhKSB7XG4gICAgICBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICAgIGxldCBuZXh0SW5kZXggPSBjbGFtcEluZGV4KGluZGV4ICsgZGVsdGEpO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGVudHJpZXNbbmV4dEluZGV4XTtcbiAgICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGxpc3Rlbihmbikge1xuICAgICAgbGlzdGVuZXIgPSBmbjtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VyTG9jYXRpb24od2luZG93MiwgZ2xvYmFsSGlzdG9yeSkge1xuICAgIGxldCB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSA9IHdpbmRvdzIubG9jYXRpb247XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgXCJcIixcbiAgICAgIHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9LFxuICAgICAgLy8gc3RhdGUgZGVmYXVsdHMgdG8gYG51bGxgIGJlY2F1c2UgYHdpbmRvdy5oaXN0b3J5LnN0YXRlYCBkb2VzXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUudXNyIHx8IG51bGwsXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUua2V5IHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVCcm93c2VySHJlZih3aW5kb3cyLCB0bykge1xuICAgIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICB9XG4gIHJldHVybiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gICAgY3JlYXRlQnJvd3NlckxvY2F0aW9uLFxuICAgIGNyZWF0ZUJyb3dzZXJIcmVmLFxuICAgIG51bGwsXG4gICAgb3B0aW9uc1xuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3Rvcnkob3B0aW9ucyA9IHt9KSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUhhc2hMb2NhdGlvbih3aW5kb3cyLCBnbG9iYWxIaXN0b3J5KSB7XG4gICAgbGV0IHtcbiAgICAgIHBhdGhuYW1lID0gXCIvXCIsXG4gICAgICBzZWFyY2ggPSBcIlwiLFxuICAgICAgaGFzaCA9IFwiXCJcbiAgICB9ID0gcGFyc2VQYXRoKHdpbmRvdzIubG9jYXRpb24uaGFzaC5zdWJzdHJpbmcoMSkpO1xuICAgIGlmICghcGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikgJiYgIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICBwYXRobmFtZSA9IFwiL1wiICsgcGF0aG5hbWU7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihcbiAgICAgIFwiXCIsXG4gICAgICB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICAgIC8vIHN0YXRlIGRlZmF1bHRzIHRvIGBudWxsYCBiZWNhdXNlIGB3aW5kb3cuaGlzdG9yeS5zdGF0ZWAgZG9lc1xuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLnVzciB8fCBudWxsLFxuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLmtleSB8fCBcImRlZmF1bHRcIlxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlSGFzaEhyZWYod2luZG93MiwgdG8pIHtcbiAgICBsZXQgYmFzZSA9IHdpbmRvdzIuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJhc2VcIik7XG4gICAgbGV0IGhyZWYyID0gXCJcIjtcbiAgICBpZiAoYmFzZSAmJiBiYXNlLmdldEF0dHJpYnV0ZShcImhyZWZcIikpIHtcbiAgICAgIGxldCB1cmwgPSB3aW5kb3cyLmxvY2F0aW9uLmhyZWY7XG4gICAgICBsZXQgaGFzaEluZGV4ID0gdXJsLmluZGV4T2YoXCIjXCIpO1xuICAgICAgaHJlZjIgPSBoYXNoSW5kZXggPT09IC0xID8gdXJsIDogdXJsLnNsaWNlKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuICAgIHJldHVybiBocmVmMiArIFwiI1wiICsgKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0bykpO1xuICB9XG4gIGZ1bmN0aW9uIHZhbGlkYXRlSGFzaExvY2F0aW9uKGxvY2F0aW9uLCB0bykge1xuICAgIHdhcm5pbmcoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgPT09IFwiL1wiLFxuICAgICAgYHJlbGF0aXZlIHBhdGhuYW1lcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBoYXNoIGhpc3RvcnkucHVzaCgke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICB0b1xuICAgICAgKX0pYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGdldFVybEJhc2VkSGlzdG9yeShcbiAgICBjcmVhdGVIYXNoTG9jYXRpb24sXG4gICAgY3JlYXRlSGFzaEhyZWYsXG4gICAgdmFsaWRhdGVIYXNoTG9jYXRpb24sXG4gICAgb3B0aW9uc1xuICApO1xufVxuZnVuY3Rpb24gaW52YXJpYW50KHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5mdW5jdGlvbiB3YXJuaW5nKGNvbmQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kKSB7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApO1xufVxuZnVuY3Rpb24gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCkge1xuICByZXR1cm4ge1xuICAgIHVzcjogbG9jYXRpb24uc3RhdGUsXG4gICAga2V5OiBsb2NhdGlvbi5rZXksXG4gICAgaWR4OiBpbmRleFxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oY3VycmVudCwgdG8sIHN0YXRlID0gbnVsbCwga2V5KSB7XG4gIGxldCBsb2NhdGlvbiA9IHtcbiAgICBwYXRobmFtZTogdHlwZW9mIGN1cnJlbnQgPT09IFwic3RyaW5nXCIgPyBjdXJyZW50IDogY3VycmVudC5wYXRobmFtZSxcbiAgICBzZWFyY2g6IFwiXCIsXG4gICAgaGFzaDogXCJcIixcbiAgICAuLi50eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG8sXG4gICAgc3RhdGUsXG4gICAgLy8gVE9ETzogVGhpcyBjb3VsZCBiZSBjbGVhbmVkIHVwLiAgcHVzaC9yZXBsYWNlIHNob3VsZCBwcm9iYWJseSBqdXN0IHRha2VcbiAgICAvLyBmdWxsIExvY2F0aW9ucyBub3cgYW5kIGF2b2lkIHRoZSBuZWVkIHRvIHJ1biB0aHJvdWdoIHRoaXMgZmxvdyBhdCBhbGxcbiAgICAvLyBCdXQgdGhhdCdzIGEgcHJldHR5IGJpZyByZWZhY3RvciB0byB0aGUgY3VycmVudCB0ZXN0IHN1aXRlIHNvIGdvaW5nIHRvXG4gICAgLy8ga2VlcCBhcyBpcyBmb3IgdGhlIHRpbWUgYmVpbmcgYW5kIGp1c3QgbGV0IGFueSBpbmNvbWluZyBrZXlzIHRha2UgcHJlY2VkZW5jZVxuICAgIGtleTogdG8gJiYgdG8ua2V5IHx8IGtleSB8fCBjcmVhdGVLZXkoKVxuICB9O1xuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoKHtcbiAgcGF0aG5hbWUgPSBcIi9cIixcbiAgc2VhcmNoID0gXCJcIixcbiAgaGFzaCA9IFwiXCJcbn0pIHtcbiAgaWYgKHNlYXJjaCAmJiBzZWFyY2ggIT09IFwiP1wiKVxuICAgIHBhdGhuYW1lICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09IFwiP1wiID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG4gIGlmIChoYXNoICYmIGhhc2ggIT09IFwiI1wiKVxuICAgIHBhdGhuYW1lICs9IGhhc2guY2hhckF0KDApID09PSBcIiNcIiA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG4gIHJldHVybiBwYXRobmFtZTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIGxldCBwYXJzZWRQYXRoID0ge307XG4gIGlmIChwYXRoKSB7XG4gICAgbGV0IGhhc2hJbmRleCA9IHBhdGguaW5kZXhPZihcIiNcIik7XG4gICAgaWYgKGhhc2hJbmRleCA+PSAwKSB7XG4gICAgICBwYXJzZWRQYXRoLmhhc2ggPSBwYXRoLnN1YnN0cmluZyhoYXNoSW5kZXgpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIGhhc2hJbmRleCk7XG4gICAgfVxuICAgIGxldCBzZWFyY2hJbmRleCA9IHBhdGguaW5kZXhPZihcIj9cIik7XG4gICAgaWYgKHNlYXJjaEluZGV4ID49IDApIHtcbiAgICAgIHBhcnNlZFBhdGguc2VhcmNoID0gcGF0aC5zdWJzdHJpbmcoc2VhcmNoSW5kZXgpO1xuICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHNlYXJjaEluZGV4KTtcbiAgICB9XG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIHBhcnNlZFBhdGgucGF0aG5hbWUgPSBwYXRoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyc2VkUGF0aDtcbn1cbmZ1bmN0aW9uIGdldFVybEJhc2VkSGlzdG9yeShnZXRMb2NhdGlvbiwgY3JlYXRlSHJlZjIsIHZhbGlkYXRlTG9jYXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICBsZXQgeyB3aW5kb3c6IHdpbmRvdzIgPSBkb2N1bWVudC5kZWZhdWx0VmlldywgdjVDb21wYXQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgbGV0IGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cyLmhpc3Rvcnk7XG4gIGxldCBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IGxpc3RlbmVyID0gbnVsbDtcbiAgbGV0IGluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICBpbmRleCA9IDA7XG4gICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoeyAuLi5nbG9iYWxIaXN0b3J5LnN0YXRlLCBpZHg6IGluZGV4IH0sIFwiXCIpO1xuICB9XG4gIGZ1bmN0aW9uIGdldEluZGV4KCkge1xuICAgIGxldCBzdGF0ZSA9IGdsb2JhbEhpc3Rvcnkuc3RhdGUgfHwgeyBpZHg6IG51bGwgfTtcbiAgICByZXR1cm4gc3RhdGUuaWR4O1xuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZVBvcCgpIHtcbiAgICBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICBsZXQgbmV4dEluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgICBsZXQgZGVsdGEgPSBuZXh0SW5kZXggPT0gbnVsbCA/IG51bGwgOiBuZXh0SW5kZXggLSBpbmRleDtcbiAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGEgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2godG8sIHN0YXRlKSB7XG4gICAgYWN0aW9uID0gXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihoaXN0b3J5LmxvY2F0aW9uLCB0bywgc3RhdGUpO1xuICAgIGlmICh2YWxpZGF0ZUxvY2F0aW9uKSB2YWxpZGF0ZUxvY2F0aW9uKGxvY2F0aW9uLCB0byk7XG4gICAgaW5kZXggPSBnZXRJbmRleCgpICsgMTtcbiAgICBsZXQgaGlzdG9yeVN0YXRlID0gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCk7XG4gICAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgdHJ5IHtcbiAgICAgIGdsb2JhbEhpc3RvcnkucHVzaFN0YXRlKGhpc3RvcnlTdGF0ZSwgXCJcIiwgdXJsKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVycm9yLm5hbWUgPT09IFwiRGF0YUNsb25lRXJyb3JcIikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHdpbmRvdzIubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgfVxuICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YTogMSB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcmVwbGFjZTIodG8sIHN0YXRlKSB7XG4gICAgYWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihoaXN0b3J5LmxvY2F0aW9uLCB0bywgc3RhdGUpO1xuICAgIGlmICh2YWxpZGF0ZUxvY2F0aW9uKSB2YWxpZGF0ZUxvY2F0aW9uKGxvY2F0aW9uLCB0byk7XG4gICAgaW5kZXggPSBnZXRJbmRleCgpO1xuICAgIGxldCBoaXN0b3J5U3RhdGUgPSBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KTtcbiAgICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZShoaXN0b3J5U3RhdGUsIFwiXCIsIHVybCk7XG4gICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhOiAwIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVVUkwodG8pIHtcbiAgICBsZXQgYmFzZSA9IHdpbmRvdzIubG9jYXRpb24ub3JpZ2luICE9PSBcIm51bGxcIiA/IHdpbmRvdzIubG9jYXRpb24ub3JpZ2luIDogd2luZG93Mi5sb2NhdGlvbi5ocmVmO1xuICAgIGxldCBocmVmMiA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gICAgaHJlZjIgPSBocmVmMi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICAgIGludmFyaWFudChcbiAgICAgIGJhc2UsXG4gICAgICBgTm8gd2luZG93LmxvY2F0aW9uLihvcmlnaW58aHJlZikgYXZhaWxhYmxlIHRvIGNyZWF0ZSBVUkwgZm9yIGhyZWY6ICR7aHJlZjJ9YFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBVUkwoaHJlZjIsIGJhc2UpO1xuICB9XG4gIGxldCBoaXN0b3J5ID0ge1xuICAgIGdldCBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0sXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldExvY2F0aW9uKHdpbmRvdzIsIGdsb2JhbEhpc3RvcnkpO1xuICAgIH0sXG4gICAgbGlzdGVuKGZuKSB7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBoaXN0b3J5IG9ubHkgYWNjZXB0cyBvbmUgYWN0aXZlIGxpc3RlbmVyXCIpO1xuICAgICAgfVxuICAgICAgd2luZG93Mi5hZGRFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBoYW5kbGVQb3ApO1xuICAgICAgbGlzdGVuZXIgPSBmbjtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdzIucmVtb3ZlRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgaGFuZGxlUG9wKTtcbiAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWYodG8pIHtcbiAgICAgIHJldHVybiBjcmVhdGVIcmVmMih3aW5kb3cyLCB0byk7XG4gICAgfSxcbiAgICBjcmVhdGVVUkwsXG4gICAgZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgICAgIGxldCB1cmwgPSBjcmVhdGVVUkwodG8pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aG5hbWU6IHVybC5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoOiB1cmwuc2VhcmNoLFxuICAgICAgICBoYXNoOiB1cmwuaGFzaFxuICAgICAgfTtcbiAgICB9LFxuICAgIHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgZ28obikge1xuICAgICAgcmV0dXJuIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxuLy8gbGliL3JvdXRlci91dGlscy50c1xuZnVuY3Rpb24gdW5zdGFibGVfY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUpIHtcbiAgcmV0dXJuIHsgZGVmYXVsdFZhbHVlIH07XG59XG52YXIgX21hcDtcbnZhciB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGluaXQpIHtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX21hcCwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gICAgaWYgKGluaXQpIHtcbiAgICAgIGZvciAobGV0IFtjb250ZXh0LCB2YWx1ZV0gb2YgaW5pdCkge1xuICAgICAgICB0aGlzLnNldChjb250ZXh0LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldChjb250ZXh0KSB7XG4gICAgaWYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfbWFwKS5oYXMoY29udGV4dCkpIHtcbiAgICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuZ2V0KGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5kZWZhdWx0VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB2YWx1ZSBmb3VuZCBmb3IgY29udGV4dFwiKTtcbiAgfVxuICBzZXQoY29udGV4dCwgdmFsdWUpIHtcbiAgICBfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuc2V0KGNvbnRleHQsIHZhbHVlKTtcbiAgfVxufTtcbl9tYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIGltbXV0YWJsZVJvdXRlS2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJsYXp5XCIsXG4gIFwiY2FzZVNlbnNpdGl2ZVwiLFxuICBcInBhdGhcIixcbiAgXCJpZFwiLFxuICBcImluZGV4XCIsXG4gIFwiY2hpbGRyZW5cIlxuXSk7XG5mdW5jdGlvbiBpc0luZGV4Um91dGUocm91dGUpIHtcbiAgcmV0dXJuIHJvdXRlLmluZGV4ID09PSB0cnVlO1xufVxuZnVuY3Rpb24gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhyb3V0ZXMsIG1hcFJvdXRlUHJvcGVydGllczIsIHBhcmVudFBhdGggPSBbXSwgbWFuaWZlc3QgPSB7fSkge1xuICByZXR1cm4gcm91dGVzLm1hcCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIFN0cmluZyhpbmRleCldO1xuICAgIGxldCBpZCA9IHR5cGVvZiByb3V0ZS5pZCA9PT0gXCJzdHJpbmdcIiA/IHJvdXRlLmlkIDogdHJlZVBhdGguam9pbihcIi1cIik7XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUuaW5kZXggIT09IHRydWUgfHwgIXJvdXRlLmNoaWxkcmVuLFxuICAgICAgYENhbm5vdCBzcGVjaWZ5IGNoaWxkcmVuIG9uIGFuIGluZGV4IHJvdXRlYFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIW1hbmlmZXN0W2lkXSxcbiAgICAgIGBGb3VuZCBhIHJvdXRlIGlkIGNvbGxpc2lvbiBvbiBpZCBcIiR7aWR9XCIuICBSb3V0ZSBpZCdzIG11c3QgYmUgZ2xvYmFsbHkgdW5pcXVlIHdpdGhpbiBEYXRhIFJvdXRlciB1c2FnZXNgXG4gICAgKTtcbiAgICBpZiAoaXNJbmRleFJvdXRlKHJvdXRlKSkge1xuICAgICAgbGV0IGluZGV4Um91dGUgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlKSxcbiAgICAgICAgaWRcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBpbmRleFJvdXRlO1xuICAgICAgcmV0dXJuIGluZGV4Um91dGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwYXRoT3JMYXlvdXRSb3V0ZSA9IHtcbiAgICAgICAgLi4ucm91dGUsXG4gICAgICAgIC4uLm1hcFJvdXRlUHJvcGVydGllczIocm91dGUpLFxuICAgICAgICBpZCxcbiAgICAgICAgY2hpbGRyZW46IHZvaWQgMFxuICAgICAgfTtcbiAgICAgIG1hbmlmZXN0W2lkXSA9IHBhdGhPckxheW91dFJvdXRlO1xuICAgICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICAgIHBhdGhPckxheW91dFJvdXRlLmNoaWxkcmVuID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgICAgICByb3V0ZS5jaGlsZHJlbixcbiAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICAgIHRyZWVQYXRoLFxuICAgICAgICAgIG1hbmlmZXN0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGF0aE9yTGF5b3V0Um91dGU7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIG1hdGNoUm91dGVzKHJvdXRlcywgbG9jYXRpb25BcmcsIGJhc2VuYW1lID0gXCIvXCIpIHtcbiAgcmV0dXJuIG1hdGNoUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSwgZmFsc2UpO1xufVxuZnVuY3Rpb24gbWF0Y2hSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcsIGJhc2VuYW1lLCBhbGxvd1BhcnRpYWwpIHtcbiAgbGV0IGxvY2F0aW9uID0gdHlwZW9mIGxvY2F0aW9uQXJnID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uQXJnKSA6IGxvY2F0aW9uQXJnO1xuICBsZXQgcGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiLCBiYXNlbmFtZSk7XG4gIGlmIChwYXRobmFtZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IGJyYW5jaGVzID0gZmxhdHRlblJvdXRlcyhyb3V0ZXMpO1xuICByYW5rUm91dGVCcmFuY2hlcyhicmFuY2hlcyk7XG4gIGxldCBtYXRjaGVzID0gbnVsbDtcbiAgZm9yIChsZXQgaSA9IDA7IG1hdGNoZXMgPT0gbnVsbCAmJiBpIDwgYnJhbmNoZXMubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgZGVjb2RlZCA9IGRlY29kZVBhdGgocGF0aG5hbWUpO1xuICAgIG1hdGNoZXMgPSBtYXRjaFJvdXRlQnJhbmNoKFxuICAgICAgYnJhbmNoZXNbaV0sXG4gICAgICBkZWNvZGVkLFxuICAgICAgYWxsb3dQYXJ0aWFsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG1hdGNoLCBsb2FkZXJEYXRhKSB7XG4gIGxldCB7IHJvdXRlLCBwYXRobmFtZSwgcGFyYW1zIH0gPSBtYXRjaDtcbiAgcmV0dXJuIHtcbiAgICBpZDogcm91dGUuaWQsXG4gICAgcGF0aG5hbWUsXG4gICAgcGFyYW1zLFxuICAgIGRhdGE6IGxvYWRlckRhdGFbcm91dGUuaWRdLFxuICAgIGhhbmRsZTogcm91dGUuaGFuZGxlXG4gIH07XG59XG5mdW5jdGlvbiBmbGF0dGVuUm91dGVzKHJvdXRlcywgYnJhbmNoZXMgPSBbXSwgcGFyZW50c01ldGEgPSBbXSwgcGFyZW50UGF0aCA9IFwiXCIpIHtcbiAgbGV0IGZsYXR0ZW5Sb3V0ZSA9IChyb3V0ZSwgaW5kZXgsIHJlbGF0aXZlUGF0aCkgPT4ge1xuICAgIGxldCBtZXRhID0ge1xuICAgICAgcmVsYXRpdmVQYXRoOiByZWxhdGl2ZVBhdGggPT09IHZvaWQgMCA/IHJvdXRlLnBhdGggfHwgXCJcIiA6IHJlbGF0aXZlUGF0aCxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUgPT09IHRydWUsXG4gICAgICBjaGlsZHJlbkluZGV4OiBpbmRleCxcbiAgICAgIHJvdXRlXG4gICAgfTtcbiAgICBpZiAobWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgbWV0YS5yZWxhdGl2ZVBhdGguc3RhcnRzV2l0aChwYXJlbnRQYXRoKSxcbiAgICAgICAgYEFic29sdXRlIHJvdXRlIHBhdGggXCIke21ldGEucmVsYXRpdmVQYXRofVwiIG5lc3RlZCB1bmRlciBwYXRoIFwiJHtwYXJlbnRQYXRofVwiIGlzIG5vdCB2YWxpZC4gQW4gYWJzb2x1dGUgY2hpbGQgcm91dGUgcGF0aCBtdXN0IHN0YXJ0IHdpdGggdGhlIGNvbWJpbmVkIHBhdGggb2YgYWxsIGl0cyBwYXJlbnQgcm91dGVzLmBcbiAgICAgICk7XG4gICAgICBtZXRhLnJlbGF0aXZlUGF0aCA9IG1ldGEucmVsYXRpdmVQYXRoLnNsaWNlKHBhcmVudFBhdGgubGVuZ3RoKTtcbiAgICB9XG4gICAgbGV0IHBhdGggPSBqb2luUGF0aHMoW3BhcmVudFBhdGgsIG1ldGEucmVsYXRpdmVQYXRoXSk7XG4gICAgbGV0IHJvdXRlc01ldGEgPSBwYXJlbnRzTWV0YS5jb25jYXQobWV0YSk7XG4gICAgaWYgKHJvdXRlLmNoaWxkcmVuICYmIHJvdXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgLy8gT3VyIHR5cGVzIGtub3cgYmV0dGVyLCBidXQgcnVudGltZSBKUyBtYXkgbm90IVxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlLFxuICAgICAgICBgSW5kZXggcm91dGVzIG11c3Qgbm90IGhhdmUgY2hpbGQgcm91dGVzLiBQbGVhc2UgcmVtb3ZlIGFsbCBjaGlsZCByb3V0ZXMgZnJvbSByb3V0ZSBwYXRoIFwiJHtwYXRofVwiLmBcbiAgICAgICk7XG4gICAgICBmbGF0dGVuUm91dGVzKHJvdXRlLmNoaWxkcmVuLCBicmFuY2hlcywgcm91dGVzTWV0YSwgcGF0aCk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5wYXRoID09IG51bGwgJiYgIXJvdXRlLmluZGV4KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGJyYW5jaGVzLnB1c2goe1xuICAgICAgcGF0aCxcbiAgICAgIHNjb3JlOiBjb21wdXRlU2NvcmUocGF0aCwgcm91dGUuaW5kZXgpLFxuICAgICAgcm91dGVzTWV0YVxuICAgIH0pO1xuICB9O1xuICByb3V0ZXMuZm9yRWFjaCgocm91dGUsIGluZGV4KSA9PiB7XG4gICAgaWYgKHJvdXRlLnBhdGggPT09IFwiXCIgfHwgIXJvdXRlLnBhdGg/LmluY2x1ZGVzKFwiP1wiKSkge1xuICAgICAgZmxhdHRlblJvdXRlKHJvdXRlLCBpbmRleCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGV4cGxvZGVkIG9mIGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJvdXRlLnBhdGgpKSB7XG4gICAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgsIGV4cGxvZGVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYnJhbmNoZXM7XG59XG5mdW5jdGlvbiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhwYXRoKSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBpZiAoc2VnbWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gW107XG4gIGxldCBbZmlyc3QsIC4uLnJlc3RdID0gc2VnbWVudHM7XG4gIGxldCBpc09wdGlvbmFsID0gZmlyc3QuZW5kc1dpdGgoXCI/XCIpO1xuICBsZXQgcmVxdWlyZWQgPSBmaXJzdC5yZXBsYWNlKC9cXD8kLywgXCJcIik7XG4gIGlmIChyZXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBpc09wdGlvbmFsID8gW3JlcXVpcmVkLCBcIlwiXSA6IFtyZXF1aXJlZF07XG4gIH1cbiAgbGV0IHJlc3RFeHBsb2RlZCA9IGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHJlc3Quam9pbihcIi9cIikpO1xuICBsZXQgcmVzdWx0ID0gW107XG4gIHJlc3VsdC5wdXNoKFxuICAgIC4uLnJlc3RFeHBsb2RlZC5tYXAoXG4gICAgICAoc3VicGF0aCkgPT4gc3VicGF0aCA9PT0gXCJcIiA/IHJlcXVpcmVkIDogW3JlcXVpcmVkLCBzdWJwYXRoXS5qb2luKFwiL1wiKVxuICAgIClcbiAgKTtcbiAgaWYgKGlzT3B0aW9uYWwpIHtcbiAgICByZXN1bHQucHVzaCguLi5yZXN0RXhwbG9kZWQpO1xuICB9XG4gIHJldHVybiByZXN1bHQubWFwKFxuICAgIChleHBsb2RlZCkgPT4gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSAmJiBleHBsb2RlZCA9PT0gXCJcIiA/IFwiL1wiIDogZXhwbG9kZWRcbiAgKTtcbn1cbmZ1bmN0aW9uIHJhbmtSb3V0ZUJyYW5jaGVzKGJyYW5jaGVzKSB7XG4gIGJyYW5jaGVzLnNvcnQoXG4gICAgKGEsIGIpID0+IGEuc2NvcmUgIT09IGIuc2NvcmUgPyBiLnNjb3JlIC0gYS5zY29yZSA6IGNvbXBhcmVJbmRleGVzKFxuICAgICAgYS5yb3V0ZXNNZXRhLm1hcCgobWV0YSkgPT4gbWV0YS5jaGlsZHJlbkluZGV4KSxcbiAgICAgIGIucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleClcbiAgICApXG4gICk7XG59XG52YXIgcGFyYW1SZSA9IC9eOltcXHctXSskLztcbnZhciBkeW5hbWljU2VnbWVudFZhbHVlID0gMztcbnZhciBpbmRleFJvdXRlVmFsdWUgPSAyO1xudmFyIGVtcHR5U2VnbWVudFZhbHVlID0gMTtcbnZhciBzdGF0aWNTZWdtZW50VmFsdWUgPSAxMDtcbnZhciBzcGxhdFBlbmFsdHkgPSAtMjtcbnZhciBpc1NwbGF0ID0gKHMpID0+IHMgPT09IFwiKlwiO1xuZnVuY3Rpb24gY29tcHV0ZVNjb3JlKHBhdGgsIGluZGV4KSB7XG4gIGxldCBzZWdtZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBsZXQgaW5pdGlhbFNjb3JlID0gc2VnbWVudHMubGVuZ3RoO1xuICBpZiAoc2VnbWVudHMuc29tZShpc1NwbGF0KSkge1xuICAgIGluaXRpYWxTY29yZSArPSBzcGxhdFBlbmFsdHk7XG4gIH1cbiAgaWYgKGluZGV4KSB7XG4gICAgaW5pdGlhbFNjb3JlICs9IGluZGV4Um91dGVWYWx1ZTtcbiAgfVxuICByZXR1cm4gc2VnbWVudHMuZmlsdGVyKChzKSA9PiAhaXNTcGxhdChzKSkucmVkdWNlKFxuICAgIChzY29yZSwgc2VnbWVudCkgPT4gc2NvcmUgKyAocGFyYW1SZS50ZXN0KHNlZ21lbnQpID8gZHluYW1pY1NlZ21lbnRWYWx1ZSA6IHNlZ21lbnQgPT09IFwiXCIgPyBlbXB0eVNlZ21lbnRWYWx1ZSA6IHN0YXRpY1NlZ21lbnRWYWx1ZSksXG4gICAgaW5pdGlhbFNjb3JlXG4gICk7XG59XG5mdW5jdGlvbiBjb21wYXJlSW5kZXhlcyhhLCBiKSB7XG4gIGxldCBzaWJsaW5ncyA9IGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBhLnNsaWNlKDAsIC0xKS5ldmVyeSgobiwgaSkgPT4gbiA9PT0gYltpXSk7XG4gIHJldHVybiBzaWJsaW5ncyA/IChcbiAgICAvLyBJZiB0d28gcm91dGVzIGFyZSBzaWJsaW5ncywgd2Ugc2hvdWxkIHRyeSB0byBtYXRjaCB0aGUgZWFybGllciBzaWJsaW5nXG4gICAgLy8gZmlyc3QuIFRoaXMgYWxsb3dzIHBlb3BsZSB0byBoYXZlIGZpbmUtZ3JhaW5lZCBjb250cm9sIG92ZXIgdGhlIG1hdGNoaW5nXG4gICAgLy8gYmVoYXZpb3IgYnkgc2ltcGx5IHB1dHRpbmcgcm91dGVzIHdpdGggaWRlbnRpY2FsIHBhdGhzIGluIHRoZSBvcmRlciB0aGV5XG4gICAgLy8gd2FudCB0aGVtIHRyaWVkLlxuICAgIGFbYS5sZW5ndGggLSAxXSAtIGJbYi5sZW5ndGggLSAxXVxuICApIDogKFxuICAgIC8vIE90aGVyd2lzZSwgaXQgZG9lc24ndCByZWFsbHkgbWFrZSBzZW5zZSB0byByYW5rIG5vbi1zaWJsaW5ncyBieSBpbmRleCxcbiAgICAvLyBzbyB0aGV5IHNvcnQgZXF1YWxseS5cbiAgICAwXG4gICk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlQnJhbmNoKGJyYW5jaCwgcGF0aG5hbWUsIGFsbG93UGFydGlhbCA9IGZhbHNlKSB7XG4gIGxldCB7IHJvdXRlc01ldGEgfSA9IGJyYW5jaDtcbiAgbGV0IG1hdGNoZWRQYXJhbXMgPSB7fTtcbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IFwiL1wiO1xuICBsZXQgbWF0Y2hlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHJvdXRlc01ldGEubGVuZ3RoOyArK2kpIHtcbiAgICBsZXQgbWV0YSA9IHJvdXRlc01ldGFbaV07XG4gICAgbGV0IGVuZCA9IGkgPT09IHJvdXRlc01ldGEubGVuZ3RoIC0gMTtcbiAgICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBtYXRjaGVkUGF0aG5hbWUgPT09IFwiL1wiID8gcGF0aG5hbWUgOiBwYXRobmFtZS5zbGljZShtYXRjaGVkUGF0aG5hbWUubGVuZ3RoKSB8fCBcIi9cIjtcbiAgICBsZXQgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICB7IHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLCBjYXNlU2Vuc2l0aXZlOiBtZXRhLmNhc2VTZW5zaXRpdmUsIGVuZCB9LFxuICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICApO1xuICAgIGxldCByb3V0ZSA9IG1ldGEucm91dGU7XG4gICAgaWYgKCFtYXRjaCAmJiBlbmQgJiYgYWxsb3dQYXJ0aWFsICYmICFyb3V0ZXNNZXRhW3JvdXRlc01ldGEubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXgpIHtcbiAgICAgIG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgICB7XG4gICAgICAgICAgcGF0aDogbWV0YS5yZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgICAgIGVuZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgcmVtYWluaW5nUGF0aG5hbWVcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKG1hdGNoZWRQYXJhbXMsIG1hdGNoLnBhcmFtcyk7XG4gICAgbWF0Y2hlcy5wdXNoKHtcbiAgICAgIC8vIFRPRE86IENhbiB0aGlzIGFzIGJlIGF2b2lkZWQ/XG4gICAgICBwYXJhbXM6IG1hdGNoZWRQYXJhbXMsXG4gICAgICBwYXRobmFtZTogam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lXSksXG4gICAgICBwYXRobmFtZUJhc2U6IG5vcm1hbGl6ZVBhdGhuYW1lKFxuICAgICAgICBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSlcbiAgICAgICksXG4gICAgICByb3V0ZVxuICAgIH0pO1xuICAgIGlmIChtYXRjaC5wYXRobmFtZUJhc2UgIT09IFwiL1wiKSB7XG4gICAgICBtYXRjaGVkUGF0aG5hbWUgPSBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVCYXNlXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gZ2VuZXJhdGVQYXRoKG9yaWdpbmFsUGF0aCwgcGFyYW1zID0ge30pIHtcbiAgbGV0IHBhdGggPSBvcmlnaW5hbFBhdGg7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBwYXRoICE9PSBcIipcIiAmJiAhcGF0aC5lbmRzV2l0aChcIi8qXCIpKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICAgICk7XG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gcGF0aC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiL1wiIDogXCJcIjtcbiAgY29uc3Qgc3RyaW5naWZ5ID0gKHApID0+IHAgPT0gbnVsbCA/IFwiXCIgOiB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHAgOiBTdHJpbmcocCk7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdCgvXFwvKy8pLm1hcCgoc2VnbWVudCwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgY29uc3QgaXNMYXN0U2VnbWVudCA9IGluZGV4ID09PSBhcnJheS5sZW5ndGggLSAxO1xuICAgIGlmIChpc0xhc3RTZWdtZW50ICYmIHNlZ21lbnQgPT09IFwiKlwiKSB7XG4gICAgICBjb25zdCBzdGFyID0gXCIqXCI7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5KHBhcmFtc1tzdGFyXSk7XG4gICAgfVxuICAgIGNvbnN0IGtleU1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW1xcdy1dKykoXFw/PykkLyk7XG4gICAgaWYgKGtleU1hdGNoKSB7XG4gICAgICBjb25zdCBbLCBrZXksIG9wdGlvbmFsXSA9IGtleU1hdGNoO1xuICAgICAgbGV0IHBhcmFtID0gcGFyYW1zW2tleV07XG4gICAgICBpbnZhcmlhbnQob3B0aW9uYWwgPT09IFwiP1wiIHx8IHBhcmFtICE9IG51bGwsIGBNaXNzaW5nIFwiOiR7a2V5fVwiIHBhcmFtYCk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5KHBhcmFtKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlZ21lbnQucmVwbGFjZSgvXFw/JC9nLCBcIlwiKTtcbiAgfSkuZmlsdGVyKChzZWdtZW50KSA9PiAhIXNlZ21lbnQpO1xuICByZXR1cm4gcHJlZml4ICsgc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiBtYXRjaFBhdGgocGF0dGVybiwgcGF0aG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSBcInN0cmluZ1wiKSB7XG4gICAgcGF0dGVybiA9IHsgcGF0aDogcGF0dGVybiwgY2FzZVNlbnNpdGl2ZTogZmFsc2UsIGVuZDogdHJ1ZSB9O1xuICB9XG4gIGxldCBbbWF0Y2hlciwgY29tcGlsZWRQYXJhbXNdID0gY29tcGlsZVBhdGgoXG4gICAgcGF0dGVybi5wYXRoLFxuICAgIHBhdHRlcm4uY2FzZVNlbnNpdGl2ZSxcbiAgICBwYXR0ZXJuLmVuZFxuICApO1xuICBsZXQgbWF0Y2ggPSBwYXRobmFtZS5tYXRjaChtYXRjaGVyKTtcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG4gIGxldCBtYXRjaGVkUGF0aG5hbWUgPSBtYXRjaFswXTtcbiAgbGV0IHBhdGhuYW1lQmFzZSA9IG1hdGNoZWRQYXRobmFtZS5yZXBsYWNlKC8oLilcXC8rJC8sIFwiJDFcIik7XG4gIGxldCBjYXB0dXJlR3JvdXBzID0gbWF0Y2guc2xpY2UoMSk7XG4gIGxldCBwYXJhbXMgPSBjb21waWxlZFBhcmFtcy5yZWR1Y2UoXG4gICAgKG1lbW8yLCB7IHBhcmFtTmFtZSwgaXNPcHRpb25hbCB9LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKHBhcmFtTmFtZSA9PT0gXCIqXCIpIHtcbiAgICAgICAgbGV0IHNwbGF0VmFsdWUgPSBjYXB0dXJlR3JvdXBzW2luZGV4XSB8fCBcIlwiO1xuICAgICAgICBwYXRobmFtZUJhc2UgPSBtYXRjaGVkUGF0aG5hbWUuc2xpY2UoMCwgbWF0Y2hlZFBhdGhuYW1lLmxlbmd0aCAtIHNwbGF0VmFsdWUubGVuZ3RoKS5yZXBsYWNlKC8oLilcXC8rJC8sIFwiJDFcIik7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IGNhcHR1cmVHcm91cHNbaW5kZXhdO1xuICAgICAgaWYgKGlzT3B0aW9uYWwgJiYgIXZhbHVlKSB7XG4gICAgICAgIG1lbW8yW3BhcmFtTmFtZV0gPSB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1vMltwYXJhbU5hbWVdID0gKHZhbHVlIHx8IFwiXCIpLnJlcGxhY2UoLyUyRi9nLCBcIi9cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbzI7XG4gICAgfSxcbiAgICB7fVxuICApO1xuICByZXR1cm4ge1xuICAgIHBhcmFtcyxcbiAgICBwYXRobmFtZTogbWF0Y2hlZFBhdGhuYW1lLFxuICAgIHBhdGhuYW1lQmFzZSxcbiAgICBwYXR0ZXJuXG4gIH07XG59XG5mdW5jdGlvbiBjb21waWxlUGF0aChwYXRoLCBjYXNlU2Vuc2l0aXZlID0gZmFsc2UsIGVuZCA9IHRydWUpIHtcbiAgd2FybmluZyhcbiAgICBwYXRoID09PSBcIipcIiB8fCAhcGF0aC5lbmRzV2l0aChcIipcIikgfHwgcGF0aC5lbmRzV2l0aChcIi8qXCIpLFxuICAgIGBSb3V0ZSBwYXRoIFwiJHtwYXRofVwiIHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiIGJlY2F1c2UgdGhlIFxcYCpcXGAgY2hhcmFjdGVyIG11c3QgYWx3YXlzIGZvbGxvdyBhIFxcYC9cXGAgaW4gdGhlIHBhdHRlcm4uIFRvIGdldCByaWQgb2YgdGhpcyB3YXJuaW5nLCBwbGVhc2UgY2hhbmdlIHRoZSByb3V0ZSBwYXRoIHRvIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiLmBcbiAgKTtcbiAgbGV0IHBhcmFtcyA9IFtdO1xuICBsZXQgcmVnZXhwU291cmNlID0gXCJeXCIgKyBwYXRoLnJlcGxhY2UoL1xcLypcXCo/JC8sIFwiXCIpLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpLnJlcGxhY2UoL1tcXFxcLiorXiR7fXwoKVtcXF1dL2csIFwiXFxcXCQmXCIpLnJlcGxhY2UoXG4gICAgL1xcLzooW1xcdy1dKykoXFw/KT8vZyxcbiAgICAoXywgcGFyYW1OYW1lLCBpc09wdGlvbmFsKSA9PiB7XG4gICAgICBwYXJhbXMucHVzaCh7IHBhcmFtTmFtZSwgaXNPcHRpb25hbDogaXNPcHRpb25hbCAhPSBudWxsIH0pO1xuICAgICAgcmV0dXJuIGlzT3B0aW9uYWwgPyBcIi8/KFteXFxcXC9dKyk/XCIgOiBcIi8oW15cXFxcL10rKVwiO1xuICAgIH1cbiAgKTtcbiAgaWYgKHBhdGguZW5kc1dpdGgoXCIqXCIpKSB7XG4gICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWU6IFwiKlwiIH0pO1xuICAgIHJlZ2V4cFNvdXJjZSArPSBwYXRoID09PSBcIipcIiB8fCBwYXRoID09PSBcIi8qXCIgPyBcIiguKikkXCIgOiBcIig/OlxcXFwvKC4rKXxcXFxcLyopJFwiO1xuICB9IGVsc2UgaWYgKGVuZCkge1xuICAgIHJlZ2V4cFNvdXJjZSArPSBcIlxcXFwvKiRcIjtcbiAgfSBlbHNlIGlmIChwYXRoICE9PSBcIlwiICYmIHBhdGggIT09IFwiL1wiKSB7XG4gICAgcmVnZXhwU291cmNlICs9IFwiKD86KD89XFxcXC98JCkpXCI7XG4gIH0gZWxzZSB7XG4gIH1cbiAgbGV0IG1hdGNoZXIgPSBuZXcgUmVnRXhwKHJlZ2V4cFNvdXJjZSwgY2FzZVNlbnNpdGl2ZSA/IHZvaWQgMCA6IFwiaVwiKTtcbiAgcmV0dXJuIFttYXRjaGVyLCBwYXJhbXNdO1xufVxuZnVuY3Rpb24gZGVjb2RlUGF0aCh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiB2YWx1ZS5zcGxpdChcIi9cIikubWFwKCh2KSA9PiBkZWNvZGVVUklDb21wb25lbnQodikucmVwbGFjZSgvXFwvL2csIFwiJTJGXCIpKS5qb2luKFwiL1wiKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgVGhlIFVSTCBwYXRoIFwiJHt2YWx1ZX1cIiBjb3VsZCBub3QgYmUgZGVjb2RlZCBiZWNhdXNlIGl0IGlzIGEgbWFsZm9ybWVkIFVSTCBzZWdtZW50LiBUaGlzIGlzIHByb2JhYmx5IGR1ZSB0byBhIGJhZCBwZXJjZW50IGVuY29kaW5nICgke2Vycm9yfSkuYFxuICAgICk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5mdW5jdGlvbiBzdHJpcEJhc2VuYW1lKHBhdGhuYW1lLCBiYXNlbmFtZSkge1xuICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSByZXR1cm4gcGF0aG5hbWU7XG4gIGlmICghcGF0aG5hbWUudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKGJhc2VuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHN0YXJ0SW5kZXggPSBiYXNlbmFtZS5lbmRzV2l0aChcIi9cIikgPyBiYXNlbmFtZS5sZW5ndGggLSAxIDogYmFzZW5hbWUubGVuZ3RoO1xuICBsZXQgbmV4dENoYXIgPSBwYXRobmFtZS5jaGFyQXQoc3RhcnRJbmRleCk7XG4gIGlmIChuZXh0Q2hhciAmJiBuZXh0Q2hhciAhPT0gXCIvXCIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gcGF0aG5hbWUuc2xpY2Uoc3RhcnRJbmRleCkgfHwgXCIvXCI7XG59XG5mdW5jdGlvbiByZXNvbHZlUGF0aCh0bywgZnJvbVBhdGhuYW1lID0gXCIvXCIpIHtcbiAgbGV0IHtcbiAgICBwYXRobmFtZTogdG9QYXRobmFtZSxcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiXG4gIH0gPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgodG8pIDogdG87XG4gIGxldCBwYXRobmFtZSA9IHRvUGF0aG5hbWUgPyB0b1BhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpID8gdG9QYXRobmFtZSA6IHJlc29sdmVQYXRobmFtZSh0b1BhdGhuYW1lLCBmcm9tUGF0aG5hbWUpIDogZnJvbVBhdGhuYW1lO1xuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lLFxuICAgIHNlYXJjaDogbm9ybWFsaXplU2VhcmNoKHNlYXJjaCksXG4gICAgaGFzaDogbm9ybWFsaXplSGFzaChoYXNoKVxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHJlbGF0aXZlUGF0aCwgZnJvbVBhdGhuYW1lKSB7XG4gIGxldCBzZWdtZW50cyA9IGZyb21QYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgbGV0IHJlbGF0aXZlU2VnbWVudHMgPSByZWxhdGl2ZVBhdGguc3BsaXQoXCIvXCIpO1xuICByZWxhdGl2ZVNlZ21lbnRzLmZvckVhY2goKHNlZ21lbnQpID0+IHtcbiAgICBpZiAoc2VnbWVudCA9PT0gXCIuLlwiKSB7XG4gICAgICBpZiAoc2VnbWVudHMubGVuZ3RoID4gMSkgc2VnbWVudHMucG9wKCk7XG4gICAgfSBlbHNlIGlmIChzZWdtZW50ICE9PSBcIi5cIikge1xuICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc2VnbWVudHMubGVuZ3RoID4gMSA/IHNlZ21lbnRzLmpvaW4oXCIvXCIpIDogXCIvXCI7XG59XG5mdW5jdGlvbiBnZXRJbnZhbGlkUGF0aEVycm9yKGNoYXIsIGZpZWxkLCBkZXN0LCBwYXRoKSB7XG4gIHJldHVybiBgQ2Fubm90IGluY2x1ZGUgYSAnJHtjaGFyfScgY2hhcmFjdGVyIGluIGEgbWFudWFsbHkgc3BlY2lmaWVkIFxcYHRvLiR7ZmllbGR9XFxgIGZpZWxkIFske0pTT04uc3RyaW5naWZ5KFxuICAgIHBhdGhcbiAgKX1dLiAgUGxlYXNlIHNlcGFyYXRlIGl0IG91dCB0byB0aGUgXFxgdG8uJHtkZXN0fVxcYCBmaWVsZC4gQWx0ZXJuYXRpdmVseSB5b3UgbWF5IHByb3ZpZGUgdGhlIGZ1bGwgcGF0aCBhcyBhIHN0cmluZyBpbiA8TGluayB0bz1cIi4uLlwiPiBhbmQgdGhlIHJvdXRlciB3aWxsIHBhcnNlIGl0IGZvciB5b3UuYDtcbn1cbmZ1bmN0aW9uIGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpIHtcbiAgcmV0dXJuIG1hdGNoZXMuZmlsdGVyKFxuICAgIChtYXRjaCwgaW5kZXgpID0+IGluZGV4ID09PSAwIHx8IG1hdGNoLnJvdXRlLnBhdGggJiYgbWF0Y2gucm91dGUucGF0aC5sZW5ndGggPiAwXG4gICk7XG59XG5mdW5jdGlvbiBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpIHtcbiAgbGV0IHBhdGhNYXRjaGVzID0gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcyk7XG4gIHJldHVybiBwYXRoTWF0Y2hlcy5tYXAoXG4gICAgKG1hdGNoLCBpZHgpID0+IGlkeCA9PT0gcGF0aE1hdGNoZXMubGVuZ3RoIC0gMSA/IG1hdGNoLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVCYXNlXG4gICk7XG59XG5mdW5jdGlvbiByZXNvbHZlVG8odG9BcmcsIHJvdXRlUGF0aG5hbWVzLCBsb2NhdGlvblBhdGhuYW1lLCBpc1BhdGhSZWxhdGl2ZSA9IGZhbHNlKSB7XG4gIGxldCB0bztcbiAgaWYgKHR5cGVvZiB0b0FyZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHRvID0gcGFyc2VQYXRoKHRvQXJnKTtcbiAgfSBlbHNlIHtcbiAgICB0byA9IHsgLi4udG9BcmcgfTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8ucGF0aG5hbWUgfHwgIXRvLnBhdGhuYW1lLmluY2x1ZGVzKFwiP1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCI/XCIsIFwicGF0aG5hbWVcIiwgXCJzZWFyY2hcIiwgdG8pXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8ucGF0aG5hbWUgfHwgIXRvLnBhdGhuYW1lLmluY2x1ZGVzKFwiI1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCIjXCIsIFwicGF0aG5hbWVcIiwgXCJoYXNoXCIsIHRvKVxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnNlYXJjaCB8fCAhdG8uc2VhcmNoLmluY2x1ZGVzKFwiI1wiKSxcbiAgICAgIGdldEludmFsaWRQYXRoRXJyb3IoXCIjXCIsIFwic2VhcmNoXCIsIFwiaGFzaFwiLCB0bylcbiAgICApO1xuICB9XG4gIGxldCBpc0VtcHR5UGF0aCA9IHRvQXJnID09PSBcIlwiIHx8IHRvLnBhdGhuYW1lID09PSBcIlwiO1xuICBsZXQgdG9QYXRobmFtZSA9IGlzRW1wdHlQYXRoID8gXCIvXCIgOiB0by5wYXRobmFtZTtcbiAgbGV0IGZyb207XG4gIGlmICh0b1BhdGhuYW1lID09IG51bGwpIHtcbiAgICBmcm9tID0gbG9jYXRpb25QYXRobmFtZTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgcm91dGVQYXRobmFtZUluZGV4ID0gcm91dGVQYXRobmFtZXMubGVuZ3RoIC0gMTtcbiAgICBpZiAoIWlzUGF0aFJlbGF0aXZlICYmIHRvUGF0aG5hbWUuc3RhcnRzV2l0aChcIi4uXCIpKSB7XG4gICAgICBsZXQgdG9TZWdtZW50cyA9IHRvUGF0aG5hbWUuc3BsaXQoXCIvXCIpO1xuICAgICAgd2hpbGUgKHRvU2VnbWVudHNbMF0gPT09IFwiLi5cIikge1xuICAgICAgICB0b1NlZ21lbnRzLnNoaWZ0KCk7XG4gICAgICAgIHJvdXRlUGF0aG5hbWVJbmRleCAtPSAxO1xuICAgICAgfVxuICAgICAgdG8ucGF0aG5hbWUgPSB0b1NlZ21lbnRzLmpvaW4oXCIvXCIpO1xuICAgIH1cbiAgICBmcm9tID0gcm91dGVQYXRobmFtZUluZGV4ID49IDAgPyByb3V0ZVBhdGhuYW1lc1tyb3V0ZVBhdGhuYW1lSW5kZXhdIDogXCIvXCI7XG4gIH1cbiAgbGV0IHBhdGggPSByZXNvbHZlUGF0aCh0bywgZnJvbSk7XG4gIGxldCBoYXNFeHBsaWNpdFRyYWlsaW5nU2xhc2ggPSB0b1BhdGhuYW1lICYmIHRvUGF0aG5hbWUgIT09IFwiL1wiICYmIHRvUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpO1xuICBsZXQgaGFzQ3VycmVudFRyYWlsaW5nU2xhc2ggPSAoaXNFbXB0eVBhdGggfHwgdG9QYXRobmFtZSA9PT0gXCIuXCIpICYmIGxvY2F0aW9uUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpO1xuICBpZiAoIXBhdGgucGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpICYmIChoYXNFeHBsaWNpdFRyYWlsaW5nU2xhc2ggfHwgaGFzQ3VycmVudFRyYWlsaW5nU2xhc2gpKSB7XG4gICAgcGF0aC5wYXRobmFtZSArPSBcIi9cIjtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbnZhciBqb2luUGF0aHMgPSAocGF0aHMpID0+IHBhdGhzLmpvaW4oXCIvXCIpLnJlcGxhY2UoL1xcL1xcLysvZywgXCIvXCIpO1xudmFyIG5vcm1hbGl6ZVBhdGhuYW1lID0gKHBhdGhuYW1lKSA9PiBwYXRobmFtZS5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpO1xudmFyIG5vcm1hbGl6ZVNlYXJjaCA9IChzZWFyY2gpID0+ICFzZWFyY2ggfHwgc2VhcmNoID09PSBcIj9cIiA/IFwiXCIgOiBzZWFyY2guc3RhcnRzV2l0aChcIj9cIikgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcbnZhciBub3JtYWxpemVIYXNoID0gKGhhc2gpID0+ICFoYXNoIHx8IGhhc2ggPT09IFwiI1wiID8gXCJcIiA6IGhhc2guc3RhcnRzV2l0aChcIiNcIikgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xudmFyIERhdGFXaXRoUmVzcG9uc2VJbml0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihkYXRhMiwgaW5pdCkge1xuICAgIHRoaXMudHlwZSA9IFwiRGF0YVdpdGhSZXNwb25zZUluaXRcIjtcbiAgICB0aGlzLmRhdGEgPSBkYXRhMjtcbiAgICB0aGlzLmluaXQgPSBpbml0IHx8IG51bGw7XG4gIH1cbn07XG5mdW5jdGlvbiBkYXRhKGRhdGEyLCBpbml0KSB7XG4gIHJldHVybiBuZXcgRGF0YVdpdGhSZXNwb25zZUluaXQoXG4gICAgZGF0YTIsXG4gICAgdHlwZW9mIGluaXQgPT09IFwibnVtYmVyXCIgPyB7IHN0YXR1czogaW5pdCB9IDogaW5pdFxuICApO1xufVxudmFyIHJlZGlyZWN0ID0gKHVybCwgaW5pdCA9IDMwMikgPT4ge1xuICBsZXQgcmVzcG9uc2VJbml0ID0gaW5pdDtcbiAgaWYgKHR5cGVvZiByZXNwb25zZUluaXQgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXNwb25zZUluaXQgPSB7IHN0YXR1czogcmVzcG9uc2VJbml0IH07XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3BvbnNlSW5pdC5zdGF0dXMgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXNwb25zZUluaXQuc3RhdHVzID0gMzAyO1xuICB9XG4gIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2VJbml0LmhlYWRlcnMpO1xuICBoZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIHVybCk7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyAuLi5yZXNwb25zZUluaXQsIGhlYWRlcnMgfSk7XG59O1xudmFyIHJlZGlyZWN0RG9jdW1lbnQgPSAodXJsLCBpbml0KSA9PiB7XG4gIGxldCByZXNwb25zZSA9IHJlZGlyZWN0KHVybCwgaW5pdCk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIiwgXCJ0cnVlXCIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xudmFyIHJlcGxhY2UgPSAodXJsLCBpbml0KSA9PiB7XG4gIGxldCByZXNwb25zZSA9IHJlZGlyZWN0KHVybCwgaW5pdCk7XG4gIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZXBsYWNlXCIsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbnZhciBFcnJvclJlc3BvbnNlSW1wbCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioc3RhdHVzLCBzdGF0dXNUZXh0LCBkYXRhMiwgaW50ZXJuYWwgPSBmYWxzZSkge1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9IHN0YXR1c1RleHQgfHwgXCJcIjtcbiAgICB0aGlzLmludGVybmFsID0gaW50ZXJuYWw7XG4gICAgaWYgKGRhdGEyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGEyLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLmVycm9yID0gZGF0YTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGEyO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSB7XG4gIHJldHVybiBlcnJvciAhPSBudWxsICYmIHR5cGVvZiBlcnJvci5zdGF0dXMgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIGVycm9yLnN0YXR1c1RleHQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIGVycm9yLmludGVybmFsID09PSBcImJvb2xlYW5cIiAmJiBcImRhdGFcIiBpbiBlcnJvcjtcbn1cblxuLy8gbGliL3JvdXRlci9yb3V0ZXIudHNcbnZhciB2YWxpZE11dGF0aW9uTWV0aG9kc0FyciA9IFtcbiAgXCJQT1NUXCIsXG4gIFwiUFVUXCIsXG4gIFwiUEFUQ0hcIixcbiAgXCJERUxFVEVcIlxuXTtcbnZhciB2YWxpZE11dGF0aW9uTWV0aG9kcyA9IG5ldyBTZXQoXG4gIHZhbGlkTXV0YXRpb25NZXRob2RzQXJyXG4pO1xudmFyIHZhbGlkUmVxdWVzdE1ldGhvZHNBcnIgPSBbXG4gIFwiR0VUXCIsXG4gIC4uLnZhbGlkTXV0YXRpb25NZXRob2RzQXJyXG5dO1xudmFyIHZhbGlkUmVxdWVzdE1ldGhvZHMgPSBuZXcgU2V0KHZhbGlkUmVxdWVzdE1ldGhvZHNBcnIpO1xudmFyIHJlZGlyZWN0U3RhdHVzQ29kZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdKTtcbnZhciByZWRpcmVjdFByZXNlcnZlTWV0aG9kU3RhdHVzQ29kZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMzA3LCAzMDhdKTtcbnZhciBJRExFX05BVklHQVRJT04gPSB7XG4gIHN0YXRlOiBcImlkbGVcIixcbiAgbG9jYXRpb246IHZvaWQgMCxcbiAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gIGZvcm1EYXRhOiB2b2lkIDAsXG4gIGpzb246IHZvaWQgMCxcbiAgdGV4dDogdm9pZCAwXG59O1xudmFyIElETEVfRkVUQ0hFUiA9IHtcbiAgc3RhdGU6IFwiaWRsZVwiLFxuICBkYXRhOiB2b2lkIDAsXG4gIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICBmb3JtRGF0YTogdm9pZCAwLFxuICBqc29uOiB2b2lkIDAsXG4gIHRleHQ6IHZvaWQgMFxufTtcbnZhciBJRExFX0JMT0NLRVIgPSB7XG4gIHN0YXRlOiBcInVuYmxvY2tlZFwiLFxuICBwcm9jZWVkOiB2b2lkIDAsXG4gIHJlc2V0OiB2b2lkIDAsXG4gIGxvY2F0aW9uOiB2b2lkIDBcbn07XG52YXIgQUJTT0xVVEVfVVJMX1JFR0VYID0gL14oPzpbYS16XVthLXowLTkrLi1dKjp8XFwvXFwvKS9pO1xudmFyIGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXMgPSAocm91dGUpID0+ICh7XG4gIGhhc0Vycm9yQm91bmRhcnk6IEJvb2xlYW4ocm91dGUuaGFzRXJyb3JCb3VuZGFyeSlcbn0pO1xudmFyIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZID0gXCJyZW1peC1yb3V0ZXItdHJhbnNpdGlvbnNcIjtcbnZhciBSZXNldExvYWRlckRhdGFTeW1ib2wgPSBTeW1ib2woXCJSZXNldExvYWRlckRhdGFcIik7XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXIoaW5pdCkge1xuICBjb25zdCByb3V0ZXJXaW5kb3cgPSBpbml0LndpbmRvdyA/IGluaXQud2luZG93IDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHZvaWQgMDtcbiAgY29uc3QgaXNCcm93c2VyMiA9IHR5cGVvZiByb3V0ZXJXaW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHJvdXRlcldpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygcm91dGVyV2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG4gIGludmFyaWFudChcbiAgICBpbml0LnJvdXRlcy5sZW5ndGggPiAwLFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSByb3V0ZXMgYXJyYXkgdG8gY3JlYXRlUm91dGVyXCJcbiAgKTtcbiAgbGV0IG1hcFJvdXRlUHJvcGVydGllczIgPSBpbml0Lm1hcFJvdXRlUHJvcGVydGllcyB8fCBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzO1xuICBsZXQgbWFuaWZlc3QgPSB7fTtcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIGluaXQucm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgdm9pZCAwLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGxldCBpbkZsaWdodERhdGFSb3V0ZXM7XG4gIGxldCBiYXNlbmFtZSA9IGluaXQuYmFzZW5hbWUgfHwgXCIvXCI7XG4gIGxldCBkYXRhU3RyYXRlZ3lJbXBsID0gaW5pdC5kYXRhU3RyYXRlZ3kgfHwgZGVmYXVsdERhdGFTdHJhdGVneVdpdGhNaWRkbGV3YXJlO1xuICBsZXQgZnV0dXJlID0ge1xuICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IGZhbHNlLFxuICAgIC4uLmluaXQuZnV0dXJlXG4gIH07XG4gIGxldCB1bmxpc3Rlbkhpc3RvcnkgPSBudWxsO1xuICBsZXQgc3Vic2NyaWJlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyID0gbnVsbDtcbiAgbGV0IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MiA9IG51bGw7XG4gIGxldCBnZXRTY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gIGxldCBpbml0aWFsU2Nyb2xsUmVzdG9yZWQgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbDtcbiAgbGV0IGluaXRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gIGxldCBpbml0aWFsTWF0Y2hlc0lzRk9XID0gZmFsc2U7XG4gIGxldCBpbml0aWFsRXJyb3JzID0gbnVsbDtcbiAgaWYgKGluaXRpYWxNYXRjaGVzID09IG51bGwgJiYgIWluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgcGF0aG5hbWU6IGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgIH0pO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgIGluaXRpYWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBpbml0aWFsRXJyb3JzID0geyBbcm91dGUuaWRdOiBlcnJvciB9O1xuICB9XG4gIGlmIChpbml0aWFsTWF0Y2hlcyAmJiAhaW5pdC5oeWRyYXRpb25EYXRhKSB7XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgIGluaXRpYWxNYXRjaGVzLFxuICAgICAgZGF0YVJvdXRlcyxcbiAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSkge1xuICAgICAgaW5pdGlhbE1hdGNoZXMgPSBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgaW5pdGlhbGl6ZWQ7XG4gIGlmICghaW5pdGlhbE1hdGNoZXMpIHtcbiAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGluaXRpYWxNYXRjaGVzID0gW107XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihcbiAgICAgIG51bGwsXG4gICAgICBkYXRhUm91dGVzLFxuICAgICAgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIGluaXRpYWxNYXRjaGVzSXNGT1cgPSB0cnVlO1xuICAgICAgaW5pdGlhbE1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpbml0aWFsTWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmxhenkpKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgfSBlbHNlIGlmICghaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sb2FkZXIpKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGxldCBsb2FkZXJEYXRhID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmxvYWRlckRhdGEgOiBudWxsO1xuICAgIGxldCBlcnJvcnMgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgPyBpbml0Lmh5ZHJhdGlvbkRhdGEuZXJyb3JzIDogbnVsbDtcbiAgICBpZiAoZXJyb3JzKSB7XG4gICAgICBsZXQgaWR4ID0gaW5pdGlhbE1hdGNoZXMuZmluZEluZGV4KFxuICAgICAgICAobSkgPT4gZXJyb3JzW20ucm91dGUuaWRdICE9PSB2b2lkIDBcbiAgICAgICk7XG4gICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzLnNsaWNlKDAsIGlkeCArIDEpLmV2ZXJ5KChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRpYWxpemVkID0gaW5pdGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgIChtKSA9PiAhc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24obS5yb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbGV0IHJvdXRlcjtcbiAgbGV0IHN0YXRlID0ge1xuICAgIGhpc3RvcnlBY3Rpb246IGluaXQuaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGluaXQuaGlzdG9yeS5sb2NhdGlvbixcbiAgICBtYXRjaGVzOiBpbml0aWFsTWF0Y2hlcyxcbiAgICBpbml0aWFsaXplZCxcbiAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgLy8gRG9uJ3QgcmVzdG9yZSBvbiBpbml0aWFsIHVwZGF0ZVN0YXRlKCkgaWYgd2Ugd2VyZSBTU1InZFxuICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGwgPyBmYWxzZSA6IG51bGwsXG4gICAgcHJldmVudFNjcm9sbFJlc2V0OiBmYWxzZSxcbiAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgIGxvYWRlckRhdGE6IGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEubG9hZGVyRGF0YSB8fCB7fSxcbiAgICBhY3Rpb25EYXRhOiBpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmFjdGlvbkRhdGEgfHwgbnVsbCxcbiAgICBlcnJvcnM6IGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEuZXJyb3JzIHx8IGluaXRpYWxFcnJvcnMsXG4gICAgZmV0Y2hlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgYmxvY2tlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgfTtcbiAgbGV0IHBlbmRpbmdBY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSBmYWxzZTtcbiAgbGV0IHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcjtcbiAgbGV0IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSBmYWxzZTtcbiAgbGV0IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyID0gbnVsbDtcbiAgbGV0IGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICBsZXQgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICBsZXQgY2FuY2VsbGVkRmV0Y2hlckxvYWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGZldGNoQ29udHJvbGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgaW5jcmVtZW50aW5nTG9hZElkID0gMDtcbiAgbGV0IHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID0gLTE7XG4gIGxldCBmZXRjaFJlbG9hZElkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBmZXRjaFJlZGlyZWN0SWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGZldGNoTG9hZE1hdGNoZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgYWN0aXZlRmV0Y2hlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBibG9ja2VyRnVuY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHZvaWQgMDtcbiAgbGV0IHBlbmRpbmdSZXZhbGlkYXRpb25EZmQgPSBudWxsO1xuICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuICAgIHVubGlzdGVuSGlzdG9yeSA9IGluaXQuaGlzdG9yeS5saXN0ZW4oXG4gICAgICAoeyBhY3Rpb246IGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uLCBkZWx0YSB9KSA9PiB7XG4gICAgICAgIGlmICh1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUpIHtcbiAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUoKTtcbiAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgYmxvY2tlckZ1bmN0aW9ucy5zaXplID09PSAwIHx8IGRlbHRhICE9IG51bGwsXG4gICAgICAgICAgXCJZb3UgYXJlIHRyeWluZyB0byB1c2UgYSBibG9ja2VyIG9uIGEgUE9QIG5hdmlnYXRpb24gdG8gYSBsb2NhdGlvbiB0aGF0IHdhcyBub3QgY3JlYXRlZCBieSBAcmVtaXgtcnVuL3JvdXRlci4gVGhpcyB3aWxsIGZhaWwgc2lsZW50bHkgaW4gcHJvZHVjdGlvbi4gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSBhcmUgbmF2aWdhdGluZyBvdXRzaWRlIHRoZSByb3V0ZXIgdmlhIGB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGVgL2B3aW5kb3cubG9jYXRpb24uaGFzaGAgaW5zdGVhZCBvZiB1c2luZyByb3V0ZXIgbmF2aWdhdGlvbiBBUElzLiAgVGhpcyBjYW4gYWxzbyBoYXBwZW4gaWYgeW91IGFyZSB1c2luZyBjcmVhdGVIYXNoUm91dGVyIGFuZCB0aGUgdXNlciBtYW51YWxseSBjaGFuZ2VzIHRoZSBVUkwuXCJcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBoaXN0b3J5QWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYmxvY2tlcktleSAmJiBkZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IG5leHRIaXN0b3J5VXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSByZXNvbHZlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGluaXQuaGlzdG9yeS5nbyhkZWx0YSAqIC0xKTtcbiAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgICAgIHN0YXRlOiBcImJsb2NrZWRcIixcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgcHJvY2VlZCgpIHtcbiAgICAgICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgICAgIHByb2NlZWQ6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICByZXNldDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBuZXh0SGlzdG9yeVVwZGF0ZVByb21pc2UudGhlbigoKSA9PiBpbml0Lmhpc3RvcnkuZ28oZGVsdGEpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICAgICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5LCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgICAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uKTtcbiAgICAgIH1cbiAgICApO1xuICAgIGlmIChpc0Jyb3dzZXIyKSB7XG4gICAgICByZXN0b3JlQXBwbGllZFRyYW5zaXRpb25zKHJvdXRlcldpbmRvdywgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyk7XG4gICAgICBsZXQgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMgPSAoKSA9PiBwZXJzaXN0QXBwbGllZFRyYW5zaXRpb25zKHJvdXRlcldpbmRvdywgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyk7XG4gICAgICByb3V0ZXJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIF9zYXZlQXBwbGllZFRyYW5zaXRpb25zKTtcbiAgICAgIHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lciA9ICgpID0+IHJvdXRlcldpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIXN0YXRlLmluaXRpYWxpemVkKSB7XG4gICAgICBzdGFydE5hdmlnYXRpb24oXCJQT1BcIiAvKiBQb3AgKi8sIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIGluaXRpYWxIeWRyYXRpb246IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyO1xuICB9XG4gIGZ1bmN0aW9uIGRpc3Bvc2UoKSB7XG4gICAgaWYgKHVubGlzdGVuSGlzdG9yeSkge1xuICAgICAgdW5saXN0ZW5IaXN0b3J5KCk7XG4gICAgfVxuICAgIGlmIChyZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcigpO1xuICAgIH1cbiAgICBzdWJzY3JpYmVycy5jbGVhcigpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBzdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChfLCBrZXkpID0+IGRlbGV0ZUZldGNoZXIoa2V5KSk7XG4gICAgc3RhdGUuYmxvY2tlcnMuZm9yRWFjaCgoXywga2V5KSA9PiBkZWxldGVCbG9ja2VyKGtleSkpO1xuICB9XG4gIGZ1bmN0aW9uIHN1YnNjcmliZShmbikge1xuICAgIHN1YnNjcmliZXJzLmFkZChmbik7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmliZXJzLmRlbGV0ZShmbik7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlU3RhdGUobmV3U3RhdGUsIG9wdHMgPSB7fSkge1xuICAgIHN0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICAuLi5uZXdTdGF0ZVxuICAgIH07XG4gICAgbGV0IHVubW91bnRlZEZldGNoZXJzID0gW107XG4gICAgbGV0IG1vdW50ZWRGZXRjaGVycyA9IFtdO1xuICAgIHN0YXRlLmZldGNoZXJzLmZvckVhY2goKGZldGNoZXIsIGtleSkgPT4ge1xuICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICAgICAgdW5tb3VudGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vdW50ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZS5mZXRjaGVycy5oYXMoa2V5KSAmJiAhZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSkge1xuICAgICAgICB1bm1vdW50ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgWy4uLnN1YnNjcmliZXJzXS5mb3JFYWNoKFxuICAgICAgKHN1YnNjcmliZXIpID0+IHN1YnNjcmliZXIoc3RhdGUsIHtcbiAgICAgICAgZGVsZXRlZEZldGNoZXJzOiB1bm1vdW50ZWRGZXRjaGVycyxcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzOiBvcHRzLnZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZVxuICAgICAgfSlcbiAgICApO1xuICAgIHVubW91bnRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gZGVsZXRlRmV0Y2hlcihrZXkpKTtcbiAgICBtb3VudGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KSk7XG4gIH1cbiAgZnVuY3Rpb24gY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCBuZXdTdGF0ZSwgeyBmbHVzaFN5bmMgfSA9IHt9KSB7XG4gICAgbGV0IGlzQWN0aW9uUmVsb2FkID0gc3RhdGUuYWN0aW9uRGF0YSAhPSBudWxsICYmIHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCAhPSBudWxsICYmIGlzTXV0YXRpb25NZXRob2Qoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kKSAmJiBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBsb2NhdGlvbi5zdGF0ZT8uX2lzUmVkaXJlY3QgIT09IHRydWU7XG4gICAgbGV0IGFjdGlvbkRhdGE7XG4gICAgaWYgKG5ld1N0YXRlLmFjdGlvbkRhdGEpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTdGF0ZS5hY3Rpb25EYXRhKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFjdGlvbkRhdGEgPSBuZXdTdGF0ZS5hY3Rpb25EYXRhO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9uRGF0YSA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc0FjdGlvblJlbG9hZCkge1xuICAgICAgYWN0aW9uRGF0YSA9IHN0YXRlLmFjdGlvbkRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGlvbkRhdGEgPSBudWxsO1xuICAgIH1cbiAgICBsZXQgbG9hZGVyRGF0YSA9IG5ld1N0YXRlLmxvYWRlckRhdGEgPyBtZXJnZUxvYWRlckRhdGEoXG4gICAgICBzdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgbmV3U3RhdGUubG9hZGVyRGF0YSxcbiAgICAgIG5ld1N0YXRlLm1hdGNoZXMgfHwgW10sXG4gICAgICBuZXdTdGF0ZS5lcnJvcnNcbiAgICApIDogc3RhdGUubG9hZGVyRGF0YTtcbiAgICBsZXQgYmxvY2tlcnMgPSBzdGF0ZS5ibG9ja2VycztcbiAgICBpZiAoYmxvY2tlcnMuc2l6ZSA+IDApIHtcbiAgICAgIGJsb2NrZXJzID0gbmV3IE1hcChibG9ja2Vycyk7XG4gICAgICBibG9ja2Vycy5mb3JFYWNoKChfLCBrKSA9PiBibG9ja2Vycy5zZXQoaywgSURMRV9CTE9DS0VSKSk7XG4gICAgfVxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlIHx8IHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCAhPSBudWxsICYmIGlzTXV0YXRpb25NZXRob2Qoc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kKSAmJiBsb2NhdGlvbi5zdGF0ZT8uX2lzUmVkaXJlY3QgIT09IHRydWU7XG4gICAgaWYgKGluRmxpZ2h0RGF0YVJvdXRlcykge1xuICAgICAgZGF0YVJvdXRlcyA9IGluRmxpZ2h0RGF0YVJvdXRlcztcbiAgICAgIGluRmxpZ2h0RGF0YVJvdXRlcyA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbikge1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJQT1BcIiAvKiBQb3AgKi8pIHtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUFVTSFwiIC8qIFB1c2ggKi8pIHtcbiAgICAgIGluaXQuaGlzdG9yeS5wdXNoKGxvY2F0aW9uLCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucmVwbGFjZShsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH1cbiAgICBsZXQgdmlld1RyYW5zaXRpb25PcHRzO1xuICAgIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlBPUFwiIC8qIFBvcCAqLykge1xuICAgICAgbGV0IHByaW9yUGF0aHMgPSBhcHBsaWVkVmlld1RyYW5zaXRpb25zLmdldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBpZiAocHJpb3JQYXRocyAmJiBwcmlvclBhdGhzLmhhcyhsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChhcHBsaWVkVmlld1RyYW5zaXRpb25zLmhhcyhsb2NhdGlvbi5wYXRobmFtZSkpIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCkge1xuICAgICAgbGV0IHRvUGF0aHMgPSBhcHBsaWVkVmlld1RyYW5zaXRpb25zLmdldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICBpZiAodG9QYXRocykge1xuICAgICAgICB0b1BhdGhzLmFkZChsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b1BhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW2xvY2F0aW9uLnBhdGhuYW1lXSk7XG4gICAgICAgIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuc2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lLCB0b1BhdGhzKTtcbiAgICAgIH1cbiAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgbmV4dExvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7XG4gICAgICAgIC4uLm5ld1N0YXRlLFxuICAgICAgICAvLyBtYXRjaGVzLCBlcnJvcnMsIGZldGNoZXJzIGdvIHRocm91Z2ggYXMtaXNcbiAgICAgICAgYWN0aW9uRGF0YSxcbiAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgaGlzdG9yeUFjdGlvbjogcGVuZGluZ0FjdGlvbixcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihcbiAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICBuZXdTdGF0ZS5tYXRjaGVzIHx8IHN0YXRlLm1hdGNoZXNcbiAgICAgICAgKSxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBibG9ja2Vyc1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzLFxuICAgICAgICBmbHVzaFN5bmM6IGZsdXNoU3luYyA9PT0gdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgcGVuZGluZ0FjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICAgIHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSBmYWxzZTtcbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gZmFsc2U7XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICAgIHBlbmRpbmdSZXZhbGlkYXRpb25EZmQ/LnJlc29sdmUoKTtcbiAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkID0gbnVsbDtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBuYXZpZ2F0ZSh0bywgb3B0cykge1xuICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGluaXQuaGlzdG9yeS5nbyh0byk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVRvKFxuICAgICAgc3RhdGUubG9jYXRpb24sXG4gICAgICBzdGF0ZS5tYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICB0byxcbiAgICAgIG9wdHM/LmZyb21Sb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCB7IHBhdGgsIHN1Ym1pc3Npb24sIGVycm9yIH0gPSBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gICAgICBmYWxzZSxcbiAgICAgIG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgb3B0c1xuICAgICk7XG4gICAgbGV0IGN1cnJlbnRMb2NhdGlvbiA9IHN0YXRlLmxvY2F0aW9uO1xuICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGF0ZS5sb2NhdGlvbiwgcGF0aCwgb3B0cyAmJiBvcHRzLnN0YXRlKTtcbiAgICBuZXh0TG9jYXRpb24gPSB7XG4gICAgICAuLi5uZXh0TG9jYXRpb24sXG4gICAgICAuLi5pbml0Lmhpc3RvcnkuZW5jb2RlTG9jYXRpb24obmV4dExvY2F0aW9uKVxuICAgIH07XG4gICAgbGV0IHVzZXJSZXBsYWNlID0gb3B0cyAmJiBvcHRzLnJlcGxhY2UgIT0gbnVsbCA/IG9wdHMucmVwbGFjZSA6IHZvaWQgMDtcbiAgICBsZXQgaGlzdG9yeUFjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgaWYgKHVzZXJSZXBsYWNlID09PSB0cnVlKSB7XG4gICAgICBoaXN0b3J5QWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICB9IGVsc2UgaWYgKHVzZXJSZXBsYWNlID09PSBmYWxzZSkge1xuICAgIH0gZWxzZSBpZiAoc3VibWlzc2lvbiAhPSBudWxsICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSAmJiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24gPT09IHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lICsgc3RhdGUubG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBoaXN0b3J5QWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICB9XG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9IG9wdHMgJiYgXCJwcmV2ZW50U2Nyb2xsUmVzZXRcIiBpbiBvcHRzID8gb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWUgOiB2b2lkIDA7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcbiAgICBsZXQgYmxvY2tlcktleSA9IHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBoaXN0b3J5QWN0aW9uXG4gICAgfSk7XG4gICAgaWYgKGJsb2NrZXJLZXkpIHtcbiAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICBzdGF0ZTogXCJibG9ja2VkXCIsXG4gICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sXG4gICAgICAgIHByb2NlZWQoKSB7XG4gICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICBzdGF0ZTogXCJwcm9jZWVkaW5nXCIsXG4gICAgICAgICAgICBwcm9jZWVkOiB2b2lkIDAsXG4gICAgICAgICAgICByZXNldDogdm9pZCAwLFxuICAgICAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5hdmlnYXRlKHRvLCBvcHRzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgICAgICAgYmxvY2tlcnMuc2V0KGJsb2NrZXJLZXksIElETEVfQkxPQ0tFUik7XG4gICAgICAgICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBuZXh0TG9jYXRpb24sIHtcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAvLyBTZW5kIHRocm91Z2ggdGhlIGZvcm1EYXRhIHNlcmlhbGl6YXRpb24gZXJyb3IgaWYgd2UgaGF2ZSBvbmUgc28gd2UgY2FuXG4gICAgICAvLyByZW5kZXIgYXQgdGhlIHJpZ2h0IGVycm9yIGJvdW5kYXJ5IGFmdGVyIHdlIG1hdGNoIHJvdXRlc1xuICAgICAgcGVuZGluZ0Vycm9yOiBlcnJvcixcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlcGxhY2U6IG9wdHMgJiYgb3B0cy5yZXBsYWNlLFxuICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IG9wdHMgJiYgb3B0cy52aWV3VHJhbnNpdGlvbixcbiAgICAgIGZsdXNoU3luY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHJldmFsaWRhdGUoKSB7XG4gICAgaWYgKCFwZW5kaW5nUmV2YWxpZGF0aW9uRGZkKSB7XG4gICAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkID0gY3JlYXRlRGVmZXJyZWQoKTtcbiAgICB9XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcbiAgICB1cGRhdGVTdGF0ZSh7IHJldmFsaWRhdGlvbjogXCJsb2FkaW5nXCIgfSk7XG4gICAgbGV0IHByb21pc2UgPSBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkLnByb21pc2U7XG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwic3VibWl0dGluZ1wiKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICBzdGFydE5hdmlnYXRpb24oc3RhdGUuaGlzdG9yeUFjdGlvbiwgc3RhdGUubG9jYXRpb24sIHtcbiAgICAgICAgc3RhcnRVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBzdGFydE5hdmlnYXRpb24oXG4gICAgICBwZW5kaW5nQWN0aW9uIHx8IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLFxuICAgICAge1xuICAgICAgICBvdmVycmlkZU5hdmlnYXRpb246IHN0YXRlLm5hdmlnYXRpb24sXG4gICAgICAgIC8vIFByb3h5IHRocm91Z2ggYW55IHJlbmRpbmcgdmlldyB0cmFuc2l0aW9uXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID09PSB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24sIG9wdHMpIHtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICBwZW5kaW5nQWN0aW9uID0gaGlzdG9yeUFjdGlvbjtcbiAgICBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSAob3B0cyAmJiBvcHRzLnN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbikgPT09IHRydWU7XG4gICAgc2F2ZVNjcm9sbFBvc2l0aW9uKHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5tYXRjaGVzKTtcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gKG9wdHMgJiYgb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQpID09PSB0cnVlO1xuICAgIHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSAob3B0cyAmJiBvcHRzLmVuYWJsZVZpZXdUcmFuc2l0aW9uKSA9PT0gdHJ1ZTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbG9hZGluZ05hdmlnYXRpb24gPSBvcHRzICYmIG9wdHMub3ZlcnJpZGVOYXZpZ2F0aW9uO1xuICAgIGxldCBtYXRjaGVzID0gb3B0cz8uaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5tYXRjaGVzICYmIHN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMCAmJiAhaW5pdGlhbE1hdGNoZXNJc0ZPVyA/IChcbiAgICAgIC8vIGBtYXRjaFJvdXRlcygpYCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCBpZiB3ZSdyZSBpbiBoZXJlIHZpYSBgcm91dGVyLmluaXRpYWxpemUoKWBcbiAgICAgIHN0YXRlLm1hdGNoZXNcbiAgICApIDogbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcbiAgICBpZiAobWF0Y2hlcyAmJiBzdGF0ZS5pbml0aWFsaXplZCAmJiAhaXNSZXZhbGlkYXRpb25SZXF1aXJlZCAmJiBpc0hhc2hDaGFuZ2VPbmx5KHN0YXRlLmxvY2F0aW9uLCBsb2NhdGlvbikgJiYgIShvcHRzICYmIG9wdHMuc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKG9wdHMuc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkpIHtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwgeyBtYXRjaGVzIH0sIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBsb2NhdGlvbi5wYXRobmFtZSk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCByZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBsb2NhdGlvbixcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwsXG4gICAgICBvcHRzICYmIG9wdHMuc3VibWlzc2lvblxuICAgICk7XG4gICAgbGV0IHNjb3BlZENvbnRleHQgPSBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKFxuICAgICAgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0ID8gYXdhaXQgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0KCkgOiB2b2lkIDBcbiAgICApO1xuICAgIGxldCBwZW5kaW5nQWN0aW9uUmVzdWx0O1xuICAgIGlmIChvcHRzICYmIG9wdHMucGVuZGluZ0Vycm9yKSB7XG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ID0gW1xuICAgICAgICBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMpLnJvdXRlLmlkLFxuICAgICAgICB7IHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLywgZXJyb3I6IG9wdHMucGVuZGluZ0Vycm9yIH1cbiAgICAgIF07XG4gICAgfSBlbHNlIGlmIChvcHRzICYmIG9wdHMuc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKG9wdHMuc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgICAgbGV0IGFjdGlvblJlc3VsdCA9IGF3YWl0IGhhbmRsZUFjdGlvbihcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG9wdHMuc3VibWlzc2lvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgICB7IHJlcGxhY2U6IG9wdHMucmVwbGFjZSwgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgICAgICBsZXQgW3JvdXRlSWQsIHJlc3VsdF0gPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSAmJiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpICYmIHJlc3VsdC5lcnJvci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICAgICAgICBtYXRjaGVzOiBhY3Rpb25SZXN1bHQubWF0Y2hlcyxcbiAgICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICAgIFtyb3V0ZUlkXTogcmVzdWx0LmVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBtYXRjaGVzID0gYWN0aW9uUmVzdWx0Lm1hdGNoZXMgfHwgbWF0Y2hlcztcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHQucGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIG9wdHMuc3VibWlzc2lvbik7XG4gICAgICBmbHVzaFN5bmMgPSBmYWxzZTtcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgICBpbml0Lmhpc3RvcnksXG4gICAgICAgIHJlcXVlc3QudXJsLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHtcbiAgICAgIHNob3J0Q2lyY3VpdGVkLFxuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzXG4gICAgfSA9IGF3YWl0IGhhbmRsZUxvYWRlcnMoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgIGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMuZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIG9wdHMgJiYgb3B0cy5pbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG4gICAgaWYgKHNob3J0Q2lyY3VpdGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7XG4gICAgICBtYXRjaGVzOiB1cGRhdGVkTWF0Y2hlcyB8fCBtYXRjaGVzLFxuICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnNcbiAgICB9KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVBY3Rpb24ocmVxdWVzdCwgbG9jYXRpb24sIHN1Ym1pc3Npb24sIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIG9wdHMgPSB7fSkge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgbGV0IG5hdmlnYXRpb24gPSBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbik7XG4gICAgdXBkYXRlU3RhdGUoeyBuYXZpZ2F0aW9uIH0sIHsgZmx1c2hTeW5jOiBvcHRzLmZsdXNoU3luYyA9PT0gdHJ1ZSB9KTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5SWQgPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzKS5yb3V0ZS5pZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICBib3VuZGFyeUlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgICAgIGVycm9yOiBkaXNjb3ZlclJlc3VsdC5lcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHsgbm90Rm91bmRNYXRjaGVzLCBlcnJvciwgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbXG4gICAgICAgICAgICByb3V0ZS5pZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBhY3Rpb25NYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKTtcbiAgICBpZiAoIWFjdGlvbk1hdGNoLnJvdXRlLmFjdGlvbiAmJiAhYWN0aW9uTWF0Y2gucm91dGUubGF6eSkge1xuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIFthY3Rpb25NYXRjaF0sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBpZiAocmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgcmVwbGFjZTI7XG4gICAgICBpZiAob3B0cyAmJiBvcHRzLnJlcGxhY2UgIT0gbnVsbCkge1xuICAgICAgICByZXBsYWNlMiA9IG9wdHMucmVwbGFjZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBsb2NhdGlvbjIgPSBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICAgICAgICAgIHJlc3VsdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpLFxuICAgICAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJlcGxhY2UyID0gbG9jYXRpb24yID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICBzdWJtaXNzaW9uLFxuICAgICAgICByZXBsYWNlOiByZXBsYWNlMlxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuICAgICAgaWYgKChvcHRzICYmIG9wdHMucmVwbGFjZSkgIT09IHRydWUpIHtcbiAgICAgICAgcGVuZGluZ0FjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0OiBbYWN0aW9uTWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUxvYWRlcnMocmVxdWVzdCwgbG9jYXRpb24sIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIG92ZXJyaWRlTmF2aWdhdGlvbiwgc3VibWlzc2lvbiwgZmV0Y2hlclN1Ym1pc3Npb24sIHJlcGxhY2UyLCBpbml0aWFsSHlkcmF0aW9uLCBmbHVzaFN5bmMsIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBsZXQgbG9hZGluZ05hdmlnYXRpb24gPSBvdmVycmlkZU5hdmlnYXRpb24gfHwgZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pO1xuICAgIGxldCBhY3RpdmVTdWJtaXNzaW9uID0gc3VibWlzc2lvbiB8fCBmZXRjaGVyU3VibWlzc2lvbiB8fCBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24obG9hZGluZ05hdmlnYXRpb24pO1xuICAgIGxldCBzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUgPSAhaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uICYmICFpbml0aWFsSHlkcmF0aW9uO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlKSB7XG4gICAgICAgIGxldCBhY3Rpb25EYXRhID0gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCk7XG4gICAgICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hdmlnYXRpb246IGxvYWRpbmdOYXZpZ2F0aW9uLFxuICAgICAgICAgICAgLi4uYWN0aW9uRGF0YSAhPT0gdm9pZCAwID8geyBhY3Rpb25EYXRhIH0gOiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZmx1c2hTeW5jXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbFxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5SWQgPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzKS5yb3V0ZS5pZDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtib3VuZGFyeUlkXTogZGlzY292ZXJSZXN1bHQuZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIGxldCB7IGVycm9yLCBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgW21hdGNoZXNUb0xvYWQsIHJldmFsaWRhdGluZ0ZldGNoZXJzXSA9IGdldE1hdGNoZXNUb0xvYWQoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBhY3RpdmVTdWJtaXNzaW9uLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBpbml0aWFsSHlkcmF0aW9uID09PSB0cnVlLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA9ICsraW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGlmIChtYXRjaGVzVG9Mb2FkLmxlbmd0aCA9PT0gMCAmJiByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMyID0gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpO1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAge1xuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgLy8gQ29tbWl0IHBlbmRpbmcgZXJyb3IgaWYgd2UncmUgc2hvcnQgY2lyY3VpdGluZ1xuICAgICAgICAgIGVycm9yczogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8geyBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgfSA6IG51bGwsXG4gICAgICAgICAgLi4uZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSxcbiAgICAgICAgICAuLi51cGRhdGVkRmV0Y2hlcnMyID8geyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSA6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBpZiAoc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlKSB7XG4gICAgICBsZXQgdXBkYXRlcyA9IHt9O1xuICAgICAgaWYgKCFpc0ZvZ09mV2FyKSB7XG4gICAgICAgIHVwZGF0ZXMubmF2aWdhdGlvbiA9IGxvYWRpbmdOYXZpZ2F0aW9uO1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICBpZiAoYWN0aW9uRGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdXBkYXRlcy5hY3Rpb25EYXRhID0gYWN0aW9uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlcy5mZXRjaGVycyA9IGdldFVwZGF0ZWRSZXZhbGlkYXRpbmdGZXRjaGVycyhyZXZhbGlkYXRpbmdGZXRjaGVycyk7XG4gICAgICB9XG4gICAgICB1cGRhdGVTdGF0ZSh1cGRhdGVzLCB7IGZsdXNoU3luYyB9KTtcbiAgICB9XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGFib3J0RmV0Y2hlcihyZi5rZXkpO1xuICAgICAgaWYgKHJmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5zZXQocmYua2V5LCByZi5jb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zID0gKCkgPT4gcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgoZikgPT4gYWJvcnRGZXRjaGVyKGYua2V5KSk7XG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHsgbG9hZGVyUmVzdWx0cywgZmV0Y2hlclJlc3VsdHMgfSA9IGF3YWl0IGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICByZXF1ZXN0LFxuICAgICAgc2NvcGVkQ29udGV4dFxuICAgICk7XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShyZi5rZXkpKTtcbiAgICBsZXQgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGxvYWRlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0Mi5yZXN1bHQsIHRydWUsIHtcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGZldGNoZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChyZWRpcmVjdDIua2V5KTtcbiAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0Mi5yZXN1bHQsIHRydWUsIHtcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICBmZXRjaGVyUmVzdWx0c1xuICAgICk7XG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgICBlcnJvcnMgPSB7IC4uLnN0YXRlLmVycm9ycywgLi4uZXJyb3JzIH07XG4gICAgfVxuICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCk7XG4gICAgbGV0IGRpZEFib3J0RmV0Y2hMb2FkcyA9IGFib3J0U3RhbGVGZXRjaExvYWRzKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkKTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlRmV0Y2hlcnMgPSB1cGRhdGVkRmV0Y2hlcnMgfHwgZGlkQWJvcnRGZXRjaExvYWRzIHx8IHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA+IDA7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzLFxuICAgICAgLi4uc2hvdWxkVXBkYXRlRmV0Y2hlcnMgPyB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9IDoge31cbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBpZiAocGVuZGluZ0FjdGlvblJlc3VsdCAmJiAhaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGFcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChzdGF0ZS5hY3Rpb25EYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMoc3RhdGUuYWN0aW9uRGF0YSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmFjdGlvbkRhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFVwZGF0ZWRSZXZhbGlkYXRpbmdGZXRjaGVycyhyZXZhbGlkYXRpbmdGZXRjaGVycykge1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChyZi5rZXkpO1xuICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBmZXRjaGVyID8gZmV0Y2hlci5kYXRhIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHJmLmtleSwgcmV2YWxpZGF0aW5nRmV0Y2hlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoMihrZXksIHJvdXRlSWQsIGhyZWYyLCBvcHRzKSB7XG4gICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgbGV0IGZsdXNoU3luYyA9IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgaHJlZjIsXG4gICAgICByb3V0ZUlkLFxuICAgICAgb3B0cz8ucmVsYXRpdmVcbiAgICApO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoLCBiYXNlbmFtZSk7XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbm9ybWFsaXplZFBhdGgpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBub3JtYWxpemVkUGF0aCB9KSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHsgcGF0aCwgc3VibWlzc2lvbiwgZXJyb3IgfSA9IG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgICAgIHRydWUsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBwYXRoKTtcbiAgICBsZXQgc2NvcGVkQ29udGV4dCA9IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoXG4gICAgICBpbml0LnVuc3RhYmxlX2dldENvbnRleHQgPyBhd2FpdCBpbml0LnVuc3RhYmxlX2dldENvbnRleHQoKSA6IHZvaWQgMFxuICAgICk7XG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcbiAgICBpZiAoc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGF3YWl0IGhhbmRsZUZldGNoZXJBY3Rpb24oXG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZCxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgZmx1c2hTeW5jLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuc2V0KGtleSwgeyByb3V0ZUlkLCBwYXRoIH0pO1xuICAgIGF3YWl0IGhhbmRsZUZldGNoZXJMb2FkZXIoXG4gICAgICBrZXksXG4gICAgICByb3V0ZUlkLFxuICAgICAgcGF0aCxcbiAgICAgIG1hdGNoLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICBmbHVzaFN5bmMsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICBzdWJtaXNzaW9uXG4gICAgKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGZXRjaGVyQWN0aW9uKGtleSwgcm91dGVJZCwgcGF0aCwgbWF0Y2gsIHJlcXVlc3RNYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBmbHVzaFN5bmMsIHByZXZlbnRTY3JvbGxSZXNldCwgc3VibWlzc2lvbikge1xuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5kZWxldGUoa2V5KTtcbiAgICBmdW5jdGlvbiBkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtKSB7XG4gICAgICBpZiAoIW0ucm91dGUuYWN0aW9uICYmICFtLnJvdXRlLmxhenkpIHtcbiAgICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICBtZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgICAgICBwYXRobmFtZTogcGF0aCxcbiAgICAgICAgICByb3V0ZUlkXG4gICAgICAgIH0pO1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWlzRm9nT2ZXYXIgJiYgZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobWF0Y2gpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXRTdWJtaXR0aW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBleGlzdGluZ0ZldGNoZXIpLCB7XG4gICAgICBmbHVzaFN5bmNcbiAgICB9KTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICByZXF1ZXN0TWF0Y2hlcyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgZmV0Y2hSZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAga2V5XG4gICAgICApO1xuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGRpc2NvdmVyUmVzdWx0LmVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IHBhdGggfSksXG4gICAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXF1ZXN0TWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICAgIG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gocmVxdWVzdE1hdGNoZXMsIHBhdGgpO1xuICAgICAgICBpZiAoZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobWF0Y2gpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IGFjdGlvblJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJhY3Rpb25cIixcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIFttYXRjaF0sXG4gICAgICByZXF1ZXN0TWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGxldCBhY3Rpb25SZXN1bHQgPSBhY3Rpb25SZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KSA9PT0gYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChhY3Rpb25SZXN1bHQpIHx8IGlzRXJyb3JSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA+IG9yaWdpbmF0aW5nTG9hZElkKSB7XG4gICAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKGtleSk7XG4gICAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbikpO1xuICAgICAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihmZXRjaFJlcXVlc3QsIGFjdGlvblJlc3VsdCwgZmFsc2UsIHtcbiAgICAgICAgICAgIGZldGNoZXJTdWJtaXNzaW9uOiBzdWJtaXNzaW9uLFxuICAgICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgYWN0aW9uUmVzdWx0LmVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbmV4dExvY2F0aW9uID0gc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiB8fCBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgcmV2YWxpZGF0aW9uUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICk7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG1hdGNoZXMgPSBzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlICE9PSBcImlkbGVcIiA/IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLCBiYXNlbmFtZSkgOiBzdGF0ZS5tYXRjaGVzO1xuICAgIGludmFyaWFudChtYXRjaGVzLCBcIkRpZG4ndCBmaW5kIGFueSBtYXRjaGVzIGFmdGVyIGZldGNoZXIgYWN0aW9uXCIpO1xuICAgIGxldCBsb2FkSWQgPSArK2luY3JlbWVudGluZ0xvYWRJZDtcbiAgICBmZXRjaFJlbG9hZElkcy5zZXQoa2V5LCBsb2FkSWQpO1xuICAgIGxldCBsb2FkRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGFjdGlvblJlc3VsdC5kYXRhKTtcbiAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBsb2FkRmV0Y2hlcik7XG4gICAgbGV0IFttYXRjaGVzVG9Mb2FkLCByZXZhbGlkYXRpbmdGZXRjaGVyc10gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgc3VibWlzc2lvbixcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGZhbHNlLFxuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCxcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2FkcyxcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sXG4gICAgICBmZXRjaExvYWRNYXRjaGVzLFxuICAgICAgZmV0Y2hSZWRpcmVjdElkcyxcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBbbWF0Y2gucm91dGUuaWQsIGFjdGlvblJlc3VsdF1cbiAgICApO1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZpbHRlcigocmYpID0+IHJmLmtleSAhPT0ga2V5KS5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgbGV0IHN0YWxlS2V5ID0gcmYua2V5O1xuICAgICAgbGV0IGV4aXN0aW5nRmV0Y2hlcjIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoc3RhbGVLZXkpO1xuICAgICAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBleGlzdGluZ0ZldGNoZXIyID8gZXhpc3RpbmdGZXRjaGVyMi5kYXRhIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KHN0YWxlS2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICAgIGFib3J0RmV0Y2hlcihzdGFsZUtleSk7XG4gICAgICBpZiAocmYuY29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLnNldChzdGFsZUtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+IHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiBhYm9ydEZldGNoZXIocmYua2V5KSk7XG4gICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJhYm9ydFwiLFxuICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgKTtcbiAgICBsZXQgeyBsb2FkZXJSZXN1bHRzLCBmZXRjaGVyUmVzdWx0cyB9ID0gYXdhaXQgY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICBzY29wZWRDb250ZXh0XG4gICAgKTtcbiAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYWJvcnRcIixcbiAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICk7XG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyKSA9PiBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShyLmtleSkpO1xuICAgIGxldCByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QobG9hZGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICByZWRpcmVjdDIucmVzdWx0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgeyBwcmV2ZW50U2Nyb2xsUmVzZXQgfVxuICAgICAgKTtcbiAgICB9XG4gICAgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGZldGNoZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChyZWRpcmVjdDIua2V5KTtcbiAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVkaXJlY3QyLnJlc3VsdCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgcHJldmVudFNjcm9sbFJlc2V0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc0xvYWRlckRhdGEoXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgdm9pZCAwLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICBmZXRjaGVyUmVzdWx0c1xuICAgICk7XG4gICAgaWYgKHN0YXRlLmZldGNoZXJzLmhhcyhrZXkpKSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihhY3Rpb25SZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICAgIGFib3J0U3RhbGVGZXRjaExvYWRzKGxvYWRJZCk7XG4gICAgaWYgKHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGxvYWRJZCA+IHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkKSB7XG4gICAgICBpbnZhcmlhbnQocGVuZGluZ0FjdGlvbiwgXCJFeHBlY3RlZCBwZW5kaW5nIGFjdGlvblwiKTtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLCB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlU3RhdGUoe1xuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGxvYWRlckRhdGE6IG1lcmdlTG9hZGVyRGF0YShcbiAgICAgICAgICBzdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBlcnJvcnNcbiAgICAgICAgKSxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpXG4gICAgICB9KTtcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckxvYWRlcihrZXksIHJvdXRlSWQsIHBhdGgsIG1hdGNoLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBmbHVzaFN5bmMsIHByZXZlbnRTY3JvbGxSZXNldCwgc3VibWlzc2lvbikge1xuICAgIGxldCBleGlzdGluZ0ZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoXG4gICAgICBrZXksXG4gICAgICBnZXRMb2FkaW5nRmV0Y2hlcihcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgICAgICksXG4gICAgICB7IGZsdXNoU3luYyB9XG4gICAgKTtcbiAgICBsZXQgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxldCBmZXRjaFJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHBhdGgsXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICAgIG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgcGF0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KGtleSwgYWJvcnRDb250cm9sbGVyKTtcbiAgICBsZXQgb3JpZ2luYXRpbmdMb2FkSWQgPSBpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIGZldGNoUmVxdWVzdCxcbiAgICAgIFttYXRjaF0sXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGtleVxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpID09PSBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGlmIChmZXRjaFJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPiBvcmlnaW5hdGluZ0xvYWRJZCkge1xuICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQoa2V5KTtcbiAgICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oZmV0Y2hSZXF1ZXN0LCByZXN1bHQsIGZhbHNlLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIHJlc3VsdC5lcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHJlc3VsdC5kYXRhKSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QyLCBpc05hdmlnYXRpb24sIHtcbiAgICBzdWJtaXNzaW9uLFxuICAgIGZldGNoZXJTdWJtaXNzaW9uLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICByZXBsYWNlOiByZXBsYWNlMlxuICB9ID0ge30pIHtcbiAgICBpZiAocmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXZhbGlkYXRlXCIpKSB7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGxvY2F0aW9uID0gcmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gICAgaW52YXJpYW50KGxvY2F0aW9uLCBcIkV4cGVjdGVkIGEgTG9jYXRpb24gaGVhZGVyIG9uIHRoZSByZWRpcmVjdCBSZXNwb25zZVwiKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24oXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgYmFzZW5hbWVcbiAgICApO1xuICAgIGxldCByZWRpcmVjdExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIGxvY2F0aW9uLCB7XG4gICAgICBfaXNSZWRpcmVjdDogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChpc0Jyb3dzZXIyKSB7XG4gICAgICBsZXQgaXNEb2N1bWVudFJlbG9hZCA9IGZhbHNlO1xuICAgICAgaWYgKHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpKSB7XG4gICAgICAgIGlzRG9jdW1lbnRSZWxvYWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICAgICAgY29uc3QgdXJsID0gaW5pdC5oaXN0b3J5LmNyZWF0ZVVSTChsb2NhdGlvbik7XG4gICAgICAgIGlzRG9jdW1lbnRSZWxvYWQgPSAvLyBIYXJkIHJlbG9hZCBpZiBpdCdzIGFuIGFic29sdXRlIFVSTCB0byBhIG5ldyBvcmlnaW5cbiAgICAgICAgdXJsLm9yaWdpbiAhPT0gcm91dGVyV2luZG93LmxvY2F0aW9uLm9yaWdpbiB8fCAvLyBIYXJkIHJlbG9hZCBpZiBpdCdzIGFuIGFic29sdXRlIFVSTCB0aGF0IGRvZXMgbm90IG1hdGNoIG91ciBiYXNlbmFtZVxuICAgICAgICBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpID09IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoaXNEb2N1bWVudFJlbG9hZCkge1xuICAgICAgICBpZiAocmVwbGFjZTIpIHtcbiAgICAgICAgICByb3V0ZXJXaW5kb3cubG9jYXRpb24ucmVwbGFjZShsb2NhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm91dGVyV2luZG93LmxvY2F0aW9uLmFzc2lnbihsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgIGxldCByZWRpcmVjdE5hdmlnYXRpb25UeXBlID0gcmVwbGFjZTIgPT09IHRydWUgfHwgcmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXBsYWNlXCIpID8gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLyA6IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUFjdGlvbiwgZm9ybUVuY1R5cGUgfSA9IHN0YXRlLm5hdmlnYXRpb247XG4gICAgaWYgKCFzdWJtaXNzaW9uICYmICFmZXRjaGVyU3VibWlzc2lvbiAmJiBmb3JtTWV0aG9kICYmIGZvcm1BY3Rpb24gJiYgZm9ybUVuY1R5cGUpIHtcbiAgICAgIHN1Ym1pc3Npb24gPSBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbik7XG4gICAgfVxuICAgIGxldCBhY3RpdmVTdWJtaXNzaW9uID0gc3VibWlzc2lvbiB8fCBmZXRjaGVyU3VibWlzc2lvbjtcbiAgICBpZiAocmVkaXJlY3RQcmVzZXJ2ZU1ldGhvZFN0YXR1c0NvZGVzLmhhcyhyZWRpcmVjdDIucmVzcG9uc2Uuc3RhdHVzKSAmJiBhY3RpdmVTdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2QoYWN0aXZlU3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKHJlZGlyZWN0TmF2aWdhdGlvblR5cGUsIHJlZGlyZWN0TG9jYXRpb24sIHtcbiAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgIC4uLmFjdGl2ZVN1Ym1pc3Npb24sXG4gICAgICAgICAgZm9ybUFjdGlvbjogbG9jYXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgLy8gUHJlc2VydmUgdGhlc2UgZmxhZ3MgYWNyb3NzIHJlZGlyZWN0c1xuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IHByZXZlbnRTY3JvbGxSZXNldCB8fCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogaXNOYXZpZ2F0aW9uID8gcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBvdmVycmlkZU5hdmlnYXRpb24gPSBnZXRMb2FkaW5nTmF2aWdhdGlvbihcbiAgICAgICAgcmVkaXJlY3RMb2NhdGlvbixcbiAgICAgICAgc3VibWlzc2lvblxuICAgICAgKTtcbiAgICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihyZWRpcmVjdE5hdmlnYXRpb25UeXBlLCByZWRpcmVjdExvY2F0aW9uLCB7XG4gICAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbixcbiAgICAgICAgLy8gU2VuZCBmZXRjaGVyIHN1Ym1pc3Npb25zIHRocm91Z2ggZm9yIHNob3VsZFJldmFsaWRhdGVcbiAgICAgICAgZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZXNlIGZsYWdzIGFjcm9zcyByZWRpcmVjdHNcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBwcmV2ZW50U2Nyb2xsUmVzZXQgfHwgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IGlzTmF2aWdhdGlvbiA/IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5KHR5cGUsIHJlcXVlc3QsIG1hdGNoZXNUb0xvYWQsIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGZldGNoZXJLZXkpIHtcbiAgICBsZXQgcmVzdWx0cztcbiAgICBsZXQgZGF0YVJlc3VsdHMgPSB7fTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgICBkYXRhU3RyYXRlZ3lJbXBsLFxuICAgICAgICB0eXBlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgZnV0dXJlLnVuc3RhYmxlX21pZGRsZXdhcmVcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbWF0Y2hlc1RvTG9hZC5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGRhdGFSZXN1bHRzW20ucm91dGUuaWRdID0ge1xuICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICBlcnJvcjogZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gICAgfVxuICAgIGZvciAobGV0IFtyb3V0ZUlkLCByZXN1bHRdIG9mIE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpKSB7XG4gICAgICBpZiAoaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgIGRhdGFSZXN1bHRzW3JvdXRlSWRdID0ge1xuICAgICAgICAgIHR5cGU6IFwicmVkaXJlY3RcIiAvKiByZWRpcmVjdCAqLyxcbiAgICAgICAgICByZXNwb25zZTogbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgYmFzZW5hbWVcbiAgICAgICAgICApXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhUmVzdWx0c1tyb3V0ZUlkXSA9IGF3YWl0IGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQoXG4gICAgICAgICAgcmVzdWx0XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEobWF0Y2hlcywgbWF0Y2hlc1RvTG9hZCwgZmV0Y2hlcnNUb0xvYWQsIHJlcXVlc3QsIHNjb3BlZENvbnRleHQpIHtcbiAgICBsZXQgbG9hZGVyUmVzdWx0c1Byb21pc2UgPSBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBsZXQgZmV0Y2hlclJlc3VsdHNQcm9taXNlID0gUHJvbWlzZS5hbGwoXG4gICAgICBmZXRjaGVyc1RvTG9hZC5tYXAoYXN5bmMgKGYpID0+IHtcbiAgICAgICAgaWYgKGYubWF0Y2hlcyAmJiBmLm1hdGNoICYmIGYuY29udHJvbGxlcikge1xuICAgICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgICAgIFwibG9hZGVyXCIsXG4gICAgICAgICAgICBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChpbml0Lmhpc3RvcnksIGYucGF0aCwgZi5jb250cm9sbGVyLnNpZ25hbCksXG4gICAgICAgICAgICBbZi5tYXRjaF0sXG4gICAgICAgICAgICBmLm1hdGNoZXMsXG4gICAgICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICAgICAgZi5rZXlcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2YubWF0Y2gucm91dGUuaWRdO1xuICAgICAgICAgIHJldHVybiB7IFtmLmtleV06IHJlc3VsdCB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgW2Yua2V5XToge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgICAgICAgICAgIHBhdGhuYW1lOiBmLnBhdGhcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICAgIGxldCBsb2FkZXJSZXN1bHRzID0gYXdhaXQgbG9hZGVyUmVzdWx0c1Byb21pc2U7XG4gICAgbGV0IGZldGNoZXJSZXN1bHRzID0gKGF3YWl0IGZldGNoZXJSZXN1bHRzUHJvbWlzZSkucmVkdWNlKFxuICAgICAgKGFjYywgcikgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHIpLFxuICAgICAge31cbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgZmV0Y2hlclJlc3VsdHNcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGludGVycnVwdEFjdGl2ZUxvYWRzKCkge1xuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuICAgIGZldGNoTG9hZE1hdGNoZXMuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSkge1xuICAgICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuYWRkKGtleSk7XG4gICAgICB9XG4gICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBmZXRjaGVyLCBvcHRzID0ge30pIHtcbiAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBmZXRjaGVyKTtcbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0sXG4gICAgICB7IGZsdXNoU3luYzogKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCBvcHRzID0ge30pIHtcbiAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgcm91dGVJZCk7XG4gICAgZGVsZXRlRmV0Y2hlcihrZXkpO1xuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSxcbiAgICAgIHsgZmx1c2hTeW5jOiAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWUgfVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0RmV0Y2hlcihrZXkpIHtcbiAgICBhY3RpdmVGZXRjaGVycy5zZXQoa2V5LCAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgKyAxKTtcbiAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmZldGNoZXJzLmdldChrZXkpIHx8IElETEVfRkVUQ0hFUjtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVGZXRjaGVyKGtleSkge1xuICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkgJiYgIShmZXRjaGVyICYmIGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGZldGNoUmVsb2FkSWRzLmhhcyhrZXkpKSkge1xuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfVxuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmRlbGV0ZShrZXkpO1xuICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiBxdWV1ZUZldGNoZXJGb3JEZWxldGlvbihrZXkpIHtcbiAgICBsZXQgY291bnQgPSAoYWN0aXZlRmV0Y2hlcnMuZ2V0KGtleSkgfHwgMCkgLSAxO1xuICAgIGlmIChjb3VudCA8PSAwKSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uYWRkKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIGNvdW50KTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGUoeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSk7XG4gIH1cbiAgZnVuY3Rpb24gYWJvcnRGZXRjaGVyKGtleSkge1xuICAgIGxldCBjb250cm9sbGVyID0gZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KTtcbiAgICBpZiAoY29udHJvbGxlcikge1xuICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFya0ZldGNoZXJzRG9uZShrZXlzKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgIGxldCBmZXRjaGVyID0gZ2V0RmV0Y2hlcihrZXkpO1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIoZmV0Y2hlci5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpIHtcbiAgICBsZXQgZG9uZUtleXMgPSBbXTtcbiAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gZmFsc2U7XG4gICAgZm9yIChsZXQga2V5IG9mIGZldGNoUmVkaXJlY3RJZHMpIHtcbiAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgICBpbnZhcmlhbnQoZmV0Y2hlciwgYEV4cGVjdGVkIGZldGNoZXI6ICR7a2V5fWApO1xuICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgIGZldGNoUmVkaXJlY3RJZHMuZGVsZXRlKGtleSk7XG4gICAgICAgIGRvbmVLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgdXBkYXRlZEZldGNoZXJzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFya0ZldGNoZXJzRG9uZShkb25lS2V5cyk7XG4gICAgcmV0dXJuIHVwZGF0ZWRGZXRjaGVycztcbiAgfVxuICBmdW5jdGlvbiBhYm9ydFN0YWxlRmV0Y2hMb2FkcyhsYW5kZWRJZCkge1xuICAgIGxldCB5ZWV0ZWRLZXlzID0gW107XG4gICAgZm9yIChsZXQgW2tleSwgaWRdIG9mIGZldGNoUmVsb2FkSWRzKSB7XG4gICAgICBpZiAoaWQgPCBsYW5kZWRJZCkge1xuICAgICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgICAgICBpbnZhcmlhbnQoZmV0Y2hlciwgYEV4cGVjdGVkIGZldGNoZXI6ICR7a2V5fWApO1xuICAgICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICAgICAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICAgICAgICB5ZWV0ZWRLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBtYXJrRmV0Y2hlcnNEb25lKHllZXRlZEtleXMpO1xuICAgIHJldHVybiB5ZWV0ZWRLZXlzLmxlbmd0aCA+IDA7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0QmxvY2tlcihrZXksIGZuKSB7XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoa2V5KSB8fCBJRExFX0JMT0NLRVI7XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuZ2V0KGtleSkgIT09IGZuKSB7XG4gICAgICBibG9ja2VyRnVuY3Rpb25zLnNldChrZXksIGZuKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2NrZXI7XG4gIH1cbiAgZnVuY3Rpb24gZGVsZXRlQmxvY2tlcihrZXkpIHtcbiAgICBzdGF0ZS5ibG9ja2Vycy5kZWxldGUoa2V5KTtcbiAgICBibG9ja2VyRnVuY3Rpb25zLmRlbGV0ZShrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUJsb2NrZXIoa2V5LCBuZXdCbG9ja2VyKSB7XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoa2V5KSB8fCBJRExFX0JMT0NLRVI7XG4gICAgaW52YXJpYW50KFxuICAgICAgYmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIsXG4gICAgICBgSW52YWxpZCBibG9ja2VyIHN0YXRlIHRyYW5zaXRpb246ICR7YmxvY2tlci5zdGF0ZX0gLT4gJHtuZXdCbG9ja2VyLnN0YXRlfWBcbiAgICApO1xuICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgIGJsb2NrZXJzLnNldChrZXksIG5ld0Jsb2NrZXIpO1xuICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gIH1cbiAgZnVuY3Rpb24gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgbmV4dExvY2F0aW9uLFxuICAgIGhpc3RvcnlBY3Rpb25cbiAgfSkge1xuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA+IDEpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsIFwiQSByb3V0ZXIgb25seSBzdXBwb3J0cyBvbmUgYmxvY2tlciBhdCBhIHRpbWVcIik7XG4gICAgfVxuICAgIGxldCBlbnRyaWVzID0gQXJyYXkuZnJvbShibG9ja2VyRnVuY3Rpb25zLmVudHJpZXMoKSk7XG4gICAgbGV0IFtibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb25dID0gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdO1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGJsb2NrZXJLZXkpO1xuICAgIGlmIChibG9ja2VyICYmIGJsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChibG9ja2VyRnVuY3Rpb24oeyBjdXJyZW50TG9jYXRpb24sIG5leHRMb2NhdGlvbiwgaGlzdG9yeUFjdGlvbiB9KSkge1xuICAgICAgcmV0dXJuIGJsb2NrZXJLZXk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRpb25hbDQwNChwYXRobmFtZSkge1xuICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lIH0pO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCB7IG1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlc1RvVXNlKTtcbiAgICByZXR1cm4geyBub3RGb3VuZE1hdGNoZXM6IG1hdGNoZXMsIHJvdXRlLCBlcnJvciB9O1xuICB9XG4gIGZ1bmN0aW9uIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKHBvc2l0aW9ucywgZ2V0UG9zaXRpb24sIGdldEtleSkge1xuICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IHBvc2l0aW9ucztcbiAgICBnZXRTY3JvbGxQb3NpdGlvbiA9IGdldFBvc2l0aW9uO1xuICAgIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MiA9IGdldEtleSB8fCBudWxsO1xuICAgIGlmICghaW5pdGlhbFNjcm9sbFJlc3RvcmVkICYmIHN0YXRlLm5hdmlnYXRpb24gPT09IElETEVfTkFWSUdBVElPTikge1xuICAgICAgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gdHJ1ZTtcbiAgICAgIGxldCB5ID0gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgICBpZiAoeSAhPSBudWxsKSB7XG4gICAgICAgIHVwZGF0ZVN0YXRlKHsgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiB5IH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyID0gbnVsbDtcbiAgICAgIGdldFNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgICAgIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MiA9IG51bGw7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpIHtcbiAgICBpZiAoZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcy5tYXAoKG0pID0+IGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG0sIHN0YXRlLmxvYWRlckRhdGEpKVxuICAgICAgKTtcbiAgICAgIHJldHVybiBrZXkgfHwgbG9jYXRpb24ua2V5O1xuICAgIH1cbiAgICByZXR1cm4gbG9jYXRpb24ua2V5O1xuICB9XG4gIGZ1bmN0aW9uIHNhdmVTY3JvbGxQb3NpdGlvbihsb2NhdGlvbiwgbWF0Y2hlcykge1xuICAgIGlmIChzYXZlZFNjcm9sbFBvc2l0aW9uczIgJiYgZ2V0U2Nyb2xsUG9zaXRpb24pIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyW2tleV0gPSBnZXRTY3JvbGxQb3NpdGlvbigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGxvY2F0aW9uLCBtYXRjaGVzKSB7XG4gICAgaWYgKHNhdmVkU2Nyb2xsUG9zaXRpb25zMikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgICBsZXQgeSA9IHNhdmVkU2Nyb2xsUG9zaXRpb25zMltrZXldO1xuICAgICAgaWYgKHR5cGVvZiB5ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB5O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBwYXRobmFtZSkge1xuICAgIGlmIChpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKSB7XG4gICAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgICAgbGV0IGZvZ01hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4geyBhY3RpdmU6IHRydWUsIG1hdGNoZXM6IGZvZ01hdGNoZXMgfHwgW10gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtYXRjaGVzWzBdLnBhcmFtcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGxldCBwYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB7IGFjdGl2ZTogdHJ1ZSwgbWF0Y2hlczogcGFydGlhbE1hdGNoZXMgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyBhY3RpdmU6IGZhbHNlLCBtYXRjaGVzOiBudWxsIH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZGlzY292ZXJSb3V0ZXMobWF0Y2hlcywgcGF0aG5hbWUsIHNpZ25hbCwgZmV0Y2hlcktleSkge1xuICAgIGlmICghaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXMgfTtcbiAgICB9XG4gICAgbGV0IHBhcnRpYWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICAgIGxldCBsb2NhbE1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKHtcbiAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgcGF0aDogcGF0aG5hbWUsXG4gICAgICAgICAgbWF0Y2hlczogcGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgICBwYXRjaDogKHJvdXRlSWQsIGNoaWxkcmVuKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHBhdGNoUm91dGVzSW1wbChcbiAgICAgICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgICAgICBsb2NhbE1hbmlmZXN0LFxuICAgICAgICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IGUsIHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoaXNOb25ITVIgJiYgIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYWJvcnRlZFwiIH07XG4gICAgICB9XG4gICAgICBsZXQgbmV3TWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgaWYgKG5ld01hdGNoZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG5ld01hdGNoZXMgfTtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdQYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgIHBhdGhuYW1lLFxuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICAgIGlmICghbmV3UGFydGlhbE1hdGNoZXMgfHwgcGFydGlhbE1hdGNoZXMubGVuZ3RoID09PSBuZXdQYXJ0aWFsTWF0Y2hlcy5sZW5ndGggJiYgcGFydGlhbE1hdGNoZXMuZXZlcnkoXG4gICAgICAgIChtLCBpKSA9PiBtLnJvdXRlLmlkID09PSBuZXdQYXJ0aWFsTWF0Y2hlc1tpXS5yb3V0ZS5pZFxuICAgICAgKSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlczogbnVsbCB9O1xuICAgICAgfVxuICAgICAgcGFydGlhbE1hdGNoZXMgPSBuZXdQYXJ0aWFsTWF0Y2hlcztcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX2ludGVybmFsU2V0Um91dGVzKG5ld1JvdXRlcykge1xuICAgIG1hbmlmZXN0ID0ge307XG4gICAgaW5GbGlnaHREYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICAgIG5ld1JvdXRlcyxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICB2b2lkIDAsXG4gICAgICBtYW5pZmVzdFxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gcGF0Y2hSb3V0ZXMocm91dGVJZCwgY2hpbGRyZW4pIHtcbiAgICBsZXQgaXNOb25ITVIgPSBpbkZsaWdodERhdGFSb3V0ZXMgPT0gbnVsbDtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBwYXRjaFJvdXRlc0ltcGwoXG4gICAgICByb3V0ZUlkLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMlxuICAgICk7XG4gICAgaWYgKGlzTm9uSE1SKSB7XG4gICAgICBkYXRhUm91dGVzID0gWy4uLmRhdGFSb3V0ZXNdO1xuICAgICAgdXBkYXRlU3RhdGUoe30pO1xuICAgIH1cbiAgfVxuICByb3V0ZXIgPSB7XG4gICAgZ2V0IGJhc2VuYW1lKCkge1xuICAgICAgcmV0dXJuIGJhc2VuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGZ1dHVyZSgpIHtcbiAgICAgIHJldHVybiBmdXR1cmU7XG4gICAgfSxcbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSxcbiAgICBnZXQgcm91dGVzKCkge1xuICAgICAgcmV0dXJuIGRhdGFSb3V0ZXM7XG4gICAgfSxcbiAgICBnZXQgd2luZG93KCkge1xuICAgICAgcmV0dXJuIHJvdXRlcldpbmRvdztcbiAgICB9LFxuICAgIGluaXRpYWxpemUsXG4gICAgc3Vic2NyaWJlLFxuICAgIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uLFxuICAgIG5hdmlnYXRlLFxuICAgIGZldGNoOiBmZXRjaDIsXG4gICAgcmV2YWxpZGF0ZSxcbiAgICAvLyBQYXNzdGhyb3VnaCB0byBoaXN0b3J5LWF3YXJlIGNyZWF0ZUhyZWYgdXNlZCBieSB1c2VIcmVmIHNvIHdlIGdldCBwcm9wZXJcbiAgICAvLyBoYXNoLWF3YXJlIFVSTHMgaW4gRE9NIHBhdGhzXG4gICAgY3JlYXRlSHJlZjogKHRvKSA9PiBpbml0Lmhpc3RvcnkuY3JlYXRlSHJlZih0byksXG4gICAgZW5jb2RlTG9jYXRpb246ICh0bykgPT4gaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKHRvKSxcbiAgICBnZXRGZXRjaGVyLFxuICAgIGRlbGV0ZUZldGNoZXI6IHF1ZXVlRmV0Y2hlckZvckRlbGV0aW9uLFxuICAgIGRpc3Bvc2UsXG4gICAgZ2V0QmxvY2tlcixcbiAgICBkZWxldGVCbG9ja2VyLFxuICAgIHBhdGNoUm91dGVzLFxuICAgIF9pbnRlcm5hbEZldGNoQ29udHJvbGxlcnM6IGZldGNoQ29udHJvbGxlcnMsXG4gICAgLy8gVE9ETzogUmVtb3ZlIHNldFJvdXRlcywgaXQncyB0ZW1wb3JhcnkgdG8gYXZvaWQgZGVhbGluZyB3aXRoXG4gICAgLy8gdXBkYXRpbmcgdGhlIHRyZWUgd2hpbGUgdmFsaWRhdGluZyB0aGUgdXBkYXRlIGFsZ29yaXRobS5cbiAgICBfaW50ZXJuYWxTZXRSb3V0ZXNcbiAgfTtcbiAgcmV0dXJuIHJvdXRlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXIocm91dGVzLCBvcHRzKSB7XG4gIGludmFyaWFudChcbiAgICByb3V0ZXMubGVuZ3RoID4gMCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgcm91dGVzIGFycmF5IHRvIGNyZWF0ZVN0YXRpY0hhbmRsZXJcIlxuICApO1xuICBsZXQgbWFuaWZlc3QgPSB7fTtcbiAgbGV0IGJhc2VuYW1lID0gKG9wdHMgPyBvcHRzLmJhc2VuYW1lIDogbnVsbCkgfHwgXCIvXCI7XG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXMyID0gb3B0cz8ubWFwUm91dGVQcm9wZXJ0aWVzIHx8IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM7XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICB2b2lkIDAsXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnkocmVxdWVzdCwge1xuICAgIHJlcXVlc3RDb250ZXh0LFxuICAgIGZpbHRlck1hdGNoZXNUb0xvYWQsXG4gICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgc2tpcFJldmFsaWRhdGlvbixcbiAgICBkYXRhU3RyYXRlZ3ksXG4gICAgdW5zdGFibGVfcmVzcG9uZDogcmVzcG9uZFxuICB9ID0ge30pIHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICByZXF1ZXN0Q29udGV4dCA9IHJlcXVlc3RDb250ZXh0ICE9IG51bGwgPyByZXF1ZXN0Q29udGV4dCA6IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoKTtcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICBsZXQgc3RhdGljQ29udGV4dCA9IHtcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzOiBtZXRob2ROb3RBbGxvd2VkTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3BvbmQgPyByZXNwb25kKHN0YXRpY0NvbnRleHQpIDogc3RhdGljQ29udGV4dDtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgICBsZXQgeyBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgICAgbGV0IHN0YXRpY0NvbnRleHQgPSB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge31cbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzcG9uZCA/IHJlc3BvbmQoc3RhdGljQ29udGV4dCkgOiBzdGF0aWNDb250ZXh0O1xuICAgIH1cbiAgICBpZiAocmVzcG9uZCAmJiBtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSkpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgcmVxdWVzdENvbnRleHQgaW5zdGFuY2VvZiB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gICAgICAgIFwiV2hlbiB1c2luZyBtaWRkbGV3YXJlIGluIGBzdGF0aWNIYW5kbGVyLnF1ZXJ5KClgLCBhbnkgcHJvdmlkZWQgYHJlcXVlc3RDb250ZXh0YCBtdXN0IGJlYW4gaW5zdGFuY2Ugb2YgYHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcmBcIlxuICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCByZW5kZXJlZFN0YXRpY0NvbnRleHQ7XG4gICAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgICAgICAgICAvLyBJZiB3ZSdyZSBjYWxsaW5nIG1pZGRsZXdhcmUgdGhlbiBpdCBtdXN0IGJlIGVuYWJsZWQgc28gd2UgY2FuIGNhc3RcbiAgICAgICAgICAgIC8vIHRoaXMgdG8gdGhlIHByb3BlciB0eXBlIGtub3dpbmcgaXQncyBub3QgYW4gYEFwcExvYWRDb250ZXh0YFxuICAgICAgICAgICAgY29udGV4dDogcmVxdWVzdENvbnRleHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkIHx8IG51bGwsXG4gICAgICAgICAgICAgIHNraXBSZXZhbGlkYXRpb24gPT09IHRydWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbmRlcmVkU3RhdGljQ29udGV4dCA9IHsgbG9jYXRpb24sIGJhc2VuYW1lLCAuLi5yZXN1bHQyIH07XG4gICAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgcmVzcG9uZChyZW5kZXJlZFN0YXRpY0NvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNSZXNwb25zZShlLmVycm9yKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZS5lcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW5kZXJlZFN0YXRpY0NvbnRleHQpIHtcbiAgICAgICAgICAgICAgaWYgKGUucm91dGVJZCBpbiByZW5kZXJlZFN0YXRpY0NvbnRleHQubG9hZGVyRGF0YSkge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVkU3RhdGljQ29udGV4dC5sb2FkZXJEYXRhW2Uucm91dGVJZF0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQoXG4gICAgICAgICAgICAgICAgZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihcbiAgICAgICAgICAgICAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQsXG4gICAgICAgICAgICAgICAgICBlLmVycm9yLFxuICAgICAgICAgICAgICAgICAgZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBlLnJvdXRlSWQpLnJvdXRlLmlkXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IGxvYWRlcklkeCA9IG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmxvYWRlcik7XG4gICAgICAgICAgICAgIGxldCBib3VuZGFyeSA9IGxvYWRlcklkeCA+PSAwID8gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBtYXRjaGVzW2xvYWRlcklkeF0ucm91dGUuaWQpIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQoe1xuICAgICAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgICAgIFtib3VuZGFyeS5yb3V0ZS5pZF06IGUuZXJyb3JcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKGUuZXJyb3IpID8gZS5lcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgICAgICAgICAgICAgYWN0aW9uSGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBpbnZhcmlhbnQoaXNSZXNwb25zZShyZXNwb25zZSksIFwiRXhwZWN0ZWQgYSByZXNwb25zZSBpbiBxdWVyeSgpXCIpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChpc1Jlc3BvbnNlKGUpKSB7XG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcgPT09IHRydWUsXG4gICAgICBudWxsLFxuICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCB8fCBudWxsLFxuICAgICAgc2tpcFJldmFsaWRhdGlvbiA9PT0gdHJ1ZVxuICAgICk7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIHsgbG9jYXRpb24sIGJhc2VuYW1lLCAuLi5yZXN1bHQgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBxdWVyeVJvdXRlKHJlcXVlc3QsIHtcbiAgICByb3V0ZUlkLFxuICAgIHJlcXVlc3RDb250ZXh0LFxuICAgIGRhdGFTdHJhdGVneSxcbiAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kXG4gIH0gPSB7fSkge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXCJcIiwgY3JlYXRlUGF0aCh1cmwpLCBudWxsLCBcImRlZmF1bHRcIik7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIHJlcXVlc3RDb250ZXh0ID0gcmVxdWVzdENvbnRleHQgIT0gbnVsbCA/IHJlcXVlc3RDb250ZXh0IDogbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcigpO1xuICAgIGlmICghaXNWYWxpZE1ldGhvZChtZXRob2QpICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIgJiYgbWV0aG9kICE9PSBcIk9QVElPTlNcIikge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICB9XG4gICAgbGV0IG1hdGNoID0gcm91dGVJZCA/IG1hdGNoZXMuZmluZCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgOiBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbik7XG4gICAgaWYgKHJvdXRlSWQgJiYgIW1hdGNoKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMywge1xuICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgfVxuICAgIGlmIChyZXNwb25kICYmIG1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlKSkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICByZXF1ZXN0Q29udGV4dCBpbnN0YW5jZW9mIHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcixcbiAgICAgICAgXCJXaGVuIHVzaW5nIG1pZGRsZXdhcmUgaW4gYHN0YXRpY0hhbmRsZXIucXVlcnlSb3V0ZSgpYCwgYW55IHByb3ZpZGVkIGByZXF1ZXN0Q29udGV4dGAgbXVzdCBiZWFuIGluc3RhbmNlIG9mIGB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXJgXCJcbiAgICAgICk7XG4gICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgIHtcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgcGFyYW1zOiBtYXRjaGVzWzBdLnBhcmFtcyxcbiAgICAgICAgICAvLyBJZiB3ZSdyZSBjYWxsaW5nIG1pZGRsZXdhcmUgdGhlbiBpdCBtdXN0IGJlIGVuYWJsZWQgc28gd2UgY2FuIGNhc3RcbiAgICAgICAgICAvLyB0aGlzIHRvIHRoZSBwcm9wZXIgdHlwZSBrbm93aW5nIGl0J3Mgbm90IGFuIGBBcHBMb2FkQ29udGV4dGBcbiAgICAgICAgICBjb250ZXh0OiByZXF1ZXN0Q29udGV4dFxuICAgICAgICB9LFxuICAgICAgICB0cnVlLFxuICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uZChyZXN1bHQyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGVycm9yMiA9IHJlc3VsdDIuZXJyb3JzID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQyLmVycm9ycylbMF0gOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKGVycm9yMiAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCB2YWx1ZSA9IHJlc3VsdDIuYWN0aW9uRGF0YSA/IE9iamVjdC52YWx1ZXMocmVzdWx0Mi5hY3Rpb25EYXRhKVswXSA6IE9iamVjdC52YWx1ZXMocmVzdWx0Mi5sb2FkZXJEYXRhKVswXTtcbiAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gbmV3IFJlc3BvbnNlKHZhbHVlKSA6IFJlc3BvbnNlLmpzb24odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICAoZSkgPT4ge1xuICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKGUuZXJyb3IpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uZChlLmVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShTdHJpbmcoZS5lcnJvciksIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIGZhbHNlLFxuICAgICAgbWF0Y2gsXG4gICAgICBudWxsLFxuICAgICAgZmFsc2VcbiAgICApO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGxldCBlcnJvciA9IHJlc3VsdC5lcnJvcnMgPyBPYmplY3QudmFsdWVzKHJlc3VsdC5lcnJvcnMpWzBdIDogdm9pZCAwO1xuICAgIGlmIChlcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5hY3Rpb25EYXRhKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXN1bHQuYWN0aW9uRGF0YSlbMF07XG4gICAgfVxuICAgIGlmIChyZXN1bHQubG9hZGVyRGF0YSkge1xuICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0LmxvYWRlckRhdGEpWzBdO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5SW1wbChyZXF1ZXN0LCBsb2NhdGlvbiwgbWF0Y2hlcywgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIHJvdXRlTWF0Y2gsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIFwicXVlcnkoKS9xdWVyeVJvdXRlKCkgcmVxdWVzdHMgbXVzdCBjb250YWluIGFuIEFib3J0Q29udHJvbGxlciBzaWduYWxcIlxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChpc011dGF0aW9uTWV0aG9kKHJlcXVlc3QubWV0aG9kKSkge1xuICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IHN1Ym1pdChcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgcm91dGVNYXRjaCB8fCBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbiksXG4gICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggIT0gbnVsbCxcbiAgICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgICAgICAgIHNraXBSZXZhbGlkYXRpb25cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgIHJvdXRlTWF0Y2gsXG4gICAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWRcbiAgICAgICk7XG4gICAgICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0IDoge1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChpc0RhdGFTdHJhdGVneVJlc3VsdChlKSAmJiBpc1Jlc3BvbnNlKGUucmVzdWx0KSkge1xuICAgICAgICBpZiAoZS50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICAgICAgICB0aHJvdyBlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5yZXN1bHQ7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKGUpKSB7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfVxuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3VibWl0KHJlcXVlc3QsIG1hdGNoZXMsIGFjdGlvbk1hdGNoLCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5LCBza2lwTG9hZGVyRXJyb3JCdWJibGluZywgaXNSb3V0ZVJlcXVlc3QsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICB9KTtcbiAgICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvclxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBpc1JvdXRlUmVxdWVzdCxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneVxuICAgICAgKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdHNbYWN0aW9uTWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgdGhyb3cgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgc3RhdHVzOiByZXN1bHQucmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgTG9jYXRpb246IHJlc3VsdC5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlczogW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGEgfSxcbiAgICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgICAvLyBOb3RlOiBzdGF0dXNDb2RlICsgaGVhZGVycyBhcmUgdW51c2VkIGhlcmUgc2luY2UgcXVlcnlSb3V0ZSB3aWxsXG4gICAgICAgIC8vIHJldHVybiB0aGUgcmF3IFJlc3BvbnNlIG9yIHZhbHVlXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoc2tpcFJldmFsaWRhdGlvbikge1xuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gYWN0aW9uTWF0Y2ggOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpID8gcmVzdWx0LmVycm9yLnN0YXR1cyA6IHJlc3VsdC5zdGF0dXNDb2RlICE9IG51bGwgPyByZXN1bHQuc3RhdHVzQ29kZSA6IDUwMCxcbiAgICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLnJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5lcnJvclxuICAgICAgICAgIH0sXG4gICAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICAgICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge30sXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IG51bGwsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1c0NvZGUgfHwgMjAwLFxuICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBsb2FkZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QocmVxdWVzdC51cmwsIHtcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHJlZGlyZWN0OiByZXF1ZXN0LnJlZGlyZWN0LFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbFxuICAgIH0pO1xuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gc2tpcExvYWRlckVycm9yQnViYmxpbmcgPyBhY3Rpb25NYXRjaCA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuICAgICAgbGV0IGhhbmRsZXJDb250ZXh0MiA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICAgIGxvYWRlclJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICBudWxsLFxuICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmhhbmRsZXJDb250ZXh0MixcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA1MDAsXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5yZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBoYW5kbGVyQ29udGV4dCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICBudWxsLFxuICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZFxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmhhbmRsZXJDb250ZXh0LFxuICAgICAgYWN0aW9uRGF0YToge1xuICAgICAgICBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZGF0YVxuICAgICAgfSxcbiAgICAgIC8vIGFjdGlvbiBzdGF0dXMgY29kZXMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgbG9hZGVyIHN0YXR1cyBjb2Rlc1xuICAgICAgLi4ucmVzdWx0LnN0YXR1c0NvZGUgPyB7IHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlIH0gOiB7fSxcbiAgICAgIGFjdGlvbkhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge31cbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZURhdGEocmVxdWVzdCwgbWF0Y2hlcywgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIHJvdXRlTWF0Y2gsIGZpbHRlck1hdGNoZXNUb0xvYWQsIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBsZXQgaXNSb3V0ZVJlcXVlc3QgPSByb3V0ZU1hdGNoICE9IG51bGw7XG4gICAgaWYgKGlzUm91dGVSZXF1ZXN0ICYmICFyb3V0ZU1hdGNoPy5yb3V0ZS5sb2FkZXIgJiYgIXJvdXRlTWF0Y2g/LnJvdXRlLmxhenkpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7XG4gICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgIHBhdGhuYW1lOiBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZDogcm91dGVNYXRjaD8ucm91dGUuaWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgcmVxdWVzdE1hdGNoZXMgPSByb3V0ZU1hdGNoID8gW3JvdXRlTWF0Y2hdIDogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkobWF0Y2hlcywgcGVuZGluZ0FjdGlvblJlc3VsdFswXSkgOiBtYXRjaGVzO1xuICAgIGxldCBtYXRjaGVzVG9Mb2FkID0gcmVxdWVzdE1hdGNoZXMuZmlsdGVyKFxuICAgICAgKG0pID0+IChtLnJvdXRlLmxvYWRlciB8fCBtLnJvdXRlLmxhenkpICYmICghZmlsdGVyTWF0Y2hlc1RvTG9hZCB8fCBmaWx0ZXJNYXRjaGVzVG9Mb2FkKG0pKVxuICAgICk7XG4gICAgaWYgKG1hdGNoZXNUb0xvYWQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICAvLyBBZGQgYSBudWxsIGZvciBhbGwgbWF0Y2hlZCByb3V0ZXMgZm9yIHByb3BlciByZXZhbGlkYXRpb24gb24gdGhlIGNsaWVudFxuICAgICAgICBsb2FkZXJEYXRhOiBtYXRjaGVzLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCBtKSA9PiBPYmplY3QuYXNzaWduKGFjYywgeyBbbS5yb3V0ZS5pZF06IG51bGwgfSksXG4gICAgICAgICAge31cbiAgICAgICAgKSxcbiAgICAgICAgZXJyb3JzOiBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyB7XG4gICAgICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yXG4gICAgICAgIH0gOiBudWxsLFxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneVxuICAgICk7XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCk7XG4gICAgfVxuICAgIGxldCBoYW5kbGVyQ29udGV4dCA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICB0cnVlLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmdcbiAgICApO1xuICAgIGxldCBleGVjdXRlZExvYWRlcnMgPSBuZXcgU2V0KFxuICAgICAgbWF0Y2hlc1RvTG9hZC5tYXAoKG1hdGNoKSA9PiBtYXRjaC5yb3V0ZS5pZClcbiAgICApO1xuICAgIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICAgIGlmICghZXhlY3V0ZWRMb2FkZXJzLmhhcyhtYXRjaC5yb3V0ZS5pZCkpIHtcbiAgICAgICAgaGFuZGxlckNvbnRleHQubG9hZGVyRGF0YVttYXRjaC5yb3V0ZS5pZF0gPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICAgIG1hdGNoZXNcbiAgICB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3kodHlwZSwgcmVxdWVzdCwgbWF0Y2hlc1RvTG9hZCwgbWF0Y2hlcywgaXNSb3V0ZVJlcXVlc3QsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3kpIHtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3lJbXBsKFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3ksXG4gICAgICB0eXBlLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbnVsbCxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZmFsc2VcbiAgICAgIC8vIG1pZGRsZXdhcmUgbm90IGRvbmUgdmlhIGRhdGFTdHJhdGVneSBpbiB0aGUgc3RhdGljIGhhbmRsZXJcbiAgICApO1xuICAgIGxldCBkYXRhUmVzdWx0cyA9IHt9O1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgbWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoKSA9PiB7XG4gICAgICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICAgIGxldCByZXNwb25zZSA9IHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgdGhyb3cgbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoLnJvdXRlLmlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSAmJiBpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgICAgIHRocm93IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBkYXRhUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF0gPSBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KHJlc3VsdCk7XG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICB9XG4gIHJldHVybiB7XG4gICAgZGF0YVJvdXRlcyxcbiAgICBxdWVyeSxcbiAgICBxdWVyeVJvdXRlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKHJvdXRlcywgaGFuZGxlckNvbnRleHQsIGVycm9yLCBib3VuZGFyeUlkKSB7XG4gIGxldCBlcnJvckJvdW5kYXJ5SWQgPSBib3VuZGFyeUlkIHx8IGhhbmRsZXJDb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkIHx8IHJvdXRlc1swXS5pZDtcbiAgcmV0dXJuIHtcbiAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBlcnJvci5zdGF0dXMgOiA1MDAsXG4gICAgZXJyb3JzOiB7XG4gICAgICBbZXJyb3JCb3VuZGFyeUlkXTogZXJyb3JcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QpIHtcbiAgaWYgKHJlcXVlc3Quc2lnbmFsLnJlYXNvbiAhPT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgcmVxdWVzdC5zaWduYWwucmVhc29uO1xuICB9XG4gIGxldCBtZXRob2QgPSBpc1JvdXRlUmVxdWVzdCA/IFwicXVlcnlSb3V0ZVwiIDogXCJxdWVyeVwiO1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYCR7bWV0aG9kfSgpIGNhbGwgYWJvcnRlZCB3aXRob3V0IGFuIFxcYEFib3J0U2lnbmFsLnJlYXNvblxcYDogJHtyZXF1ZXN0Lm1ldGhvZH0gJHtyZXF1ZXN0LnVybH1gXG4gICk7XG59XG5mdW5jdGlvbiBpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMgIT0gbnVsbCAmJiAoXCJmb3JtRGF0YVwiIGluIG9wdHMgJiYgb3B0cy5mb3JtRGF0YSAhPSBudWxsIHx8IFwiYm9keVwiIGluIG9wdHMgJiYgb3B0cy5ib2R5ICE9PSB2b2lkIDApO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVG8obG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCB0bywgZnJvbVJvdXRlSWQsIHJlbGF0aXZlKSB7XG4gIGxldCBjb250ZXh0dWFsTWF0Y2hlcztcbiAgbGV0IGFjdGl2ZVJvdXRlTWF0Y2g7XG4gIGlmIChmcm9tUm91dGVJZCkge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gW107XG4gICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgY29udGV4dHVhbE1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQgPT09IGZyb21Sb3V0ZUlkKSB7XG4gICAgICAgIGFjdGl2ZVJvdXRlTWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNvbnRleHR1YWxNYXRjaGVzID0gbWF0Y2hlcztcbiAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvID8gdG8gOiBcIi5cIixcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKGNvbnRleHR1YWxNYXRjaGVzKSxcbiAgICBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG4gIGlmICh0byA9PSBudWxsKSB7XG4gICAgcGF0aC5zZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgcGF0aC5oYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgfVxuICBpZiAoKHRvID09IG51bGwgfHwgdG8gPT09IFwiXCIgfHwgdG8gPT09IFwiLlwiKSAmJiBhY3RpdmVSb3V0ZU1hdGNoKSB7XG4gICAgbGV0IG5ha2VkSW5kZXggPSBoYXNOYWtlZEluZGV4UXVlcnkocGF0aC5zZWFyY2gpO1xuICAgIGlmIChhY3RpdmVSb3V0ZU1hdGNoLnJvdXRlLmluZGV4ICYmICFuYWtlZEluZGV4KSB7XG4gICAgICBwYXRoLnNlYXJjaCA9IHBhdGguc2VhcmNoID8gcGF0aC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sIFwiP2luZGV4JlwiKSA6IFwiP2luZGV4XCI7XG4gICAgfSBlbHNlIGlmICghYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiBuYWtlZEluZGV4KSB7XG4gICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXRoLnNlYXJjaCk7XG4gICAgICBsZXQgaW5kZXhWYWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gICAgICBwYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gICAgICBpbmRleFZhbHVlcy5maWx0ZXIoKHYpID0+IHYpLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB2KSk7XG4gICAgICBsZXQgcXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIHBhdGguc2VhcmNoID0gcXMgPyBgPyR7cXN9YCA6IFwiXCI7XG4gICAgfVxuICB9XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoLnBhdGhuYW1lID0gcGF0aC5wYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUGF0aChwYXRoKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhpc0ZldGNoZXIsIHBhdGgsIG9wdHMpIHtcbiAgaWYgKCFvcHRzIHx8ICFpc1N1Ym1pc3Npb25OYXZpZ2F0aW9uKG9wdHMpKSB7XG4gICAgcmV0dXJuIHsgcGF0aCB9O1xuICB9XG4gIGlmIChvcHRzLmZvcm1NZXRob2QgJiYgIWlzVmFsaWRNZXRob2Qob3B0cy5mb3JtTWV0aG9kKSkge1xuICAgIHJldHVybiB7XG4gICAgICBwYXRoLFxuICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZDogb3B0cy5mb3JtTWV0aG9kIH0pXG4gICAgfTtcbiAgfVxuICBsZXQgZ2V0SW52YWxpZEJvZHlFcnJvciA9ICgpID0+ICh7XG4gICAgcGF0aCxcbiAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHsgdHlwZTogXCJpbnZhbGlkLWJvZHlcIiB9KVxuICB9KTtcbiAgbGV0IHJhd0Zvcm1NZXRob2QgPSBvcHRzLmZvcm1NZXRob2QgfHwgXCJnZXRcIjtcbiAgbGV0IGZvcm1NZXRob2QgPSByYXdGb3JtTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gIGxldCBmb3JtQWN0aW9uID0gc3RyaXBIYXNoRnJvbVBhdGgocGF0aCk7XG4gIGlmIChvcHRzLmJvZHkgIT09IHZvaWQgMCkge1xuICAgIGlmIChvcHRzLmZvcm1FbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgICAgaWYgKCFpc011dGF0aW9uTWV0aG9kKGZvcm1NZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgICBsZXQgdGV4dCA9IHR5cGVvZiBvcHRzLmJvZHkgPT09IFwic3RyaW5nXCIgPyBvcHRzLmJvZHkgOiBvcHRzLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSB8fCBvcHRzLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgPyAoXG4gICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm0tY29udHJvbC1pbmZyYXN0cnVjdHVyZS5odG1sI3BsYWluLXRleHQtZm9ybS1kYXRhXG4gICAgICAgIEFycmF5LmZyb20ob3B0cy5ib2R5LmVudHJpZXMoKSkucmVkdWNlKFxuICAgICAgICAgIChhY2MsIFtuYW1lLCB2YWx1ZV0pID0+IGAke2FjY30ke25hbWV9PSR7dmFsdWV9XG5gLFxuICAgICAgICAgIFwiXCJcbiAgICAgICAgKVxuICAgICAgKSA6IFN0cmluZyhvcHRzLmJvZHkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgIGZvcm1NZXRob2QsXG4gICAgICAgICAgZm9ybUFjdGlvbixcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgICAgICB0ZXh0XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChvcHRzLmZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgaWYgKCFpc011dGF0aW9uTWV0aG9kKGZvcm1NZXRob2QpKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBsZXQganNvbiA9IHR5cGVvZiBvcHRzLmJvZHkgPT09IFwic3RyaW5nXCIgPyBKU09OLnBhcnNlKG9wdHMuYm9keSkgOiBvcHRzLmJvZHk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgICBmb3JtTWV0aG9kLFxuICAgICAgICAgICAgZm9ybUFjdGlvbixcbiAgICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgICAgICAgIGpzb24sXG4gICAgICAgICAgICB0ZXh0OiB2b2lkIDBcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGludmFyaWFudChcbiAgICB0eXBlb2YgRm9ybURhdGEgPT09IFwiZnVuY3Rpb25cIixcbiAgICBcIkZvcm1EYXRhIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudFwiXG4gICk7XG4gIGxldCBzZWFyY2hQYXJhbXM7XG4gIGxldCBmb3JtRGF0YTtcbiAgaWYgKG9wdHMuZm9ybURhdGEpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhvcHRzLmZvcm1EYXRhKTtcbiAgICBmb3JtRGF0YSA9IG9wdHMuZm9ybURhdGE7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhvcHRzLmJvZHkpO1xuICAgIGZvcm1EYXRhID0gb3B0cy5ib2R5O1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgIHNlYXJjaFBhcmFtcyA9IG9wdHMuYm9keTtcbiAgICBmb3JtRGF0YSA9IGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcyk7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5ID09IG51bGwpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhvcHRzLmJvZHkpO1xuICAgICAgZm9ybURhdGEgPSBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBnZXRJbnZhbGlkQm9keUVycm9yKCk7XG4gICAgfVxuICB9XG4gIGxldCBzdWJtaXNzaW9uID0ge1xuICAgIGZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogb3B0cyAmJiBvcHRzLmZvcm1FbmNUeXBlIHx8IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gICAgZm9ybURhdGEsXG4gICAganNvbjogdm9pZCAwLFxuICAgIHRleHQ6IHZvaWQgMFxuICB9O1xuICBpZiAoaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgcmV0dXJuIHsgcGF0aCwgc3VibWlzc2lvbiB9O1xuICB9XG4gIGxldCBwYXJzZWRQYXRoID0gcGFyc2VQYXRoKHBhdGgpO1xuICBpZiAoaXNGZXRjaGVyICYmIHBhcnNlZFBhdGguc2VhcmNoICYmIGhhc05ha2VkSW5kZXhRdWVyeShwYXJzZWRQYXRoLnNlYXJjaCkpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgXCJcIik7XG4gIH1cbiAgcGFyc2VkUGF0aC5zZWFyY2ggPSBgPyR7c2VhcmNoUGFyYW1zfWA7XG4gIHJldHVybiB7IHBhdGg6IGNyZWF0ZVBhdGgocGFyc2VkUGF0aCksIHN1Ym1pc3Npb24gfTtcbn1cbmZ1bmN0aW9uIGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KG1hdGNoZXMsIGJvdW5kYXJ5SWQsIGluY2x1ZGVCb3VuZGFyeSA9IGZhbHNlKSB7XG4gIGxldCBpbmRleCA9IG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSBib3VuZGFyeUlkKTtcbiAgaWYgKGluZGV4ID49IDApIHtcbiAgICByZXR1cm4gbWF0Y2hlcy5zbGljZSgwLCBpbmNsdWRlQm91bmRhcnkgPyBpbmRleCArIDEgOiBpbmRleCk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBnZXRNYXRjaGVzVG9Mb2FkKGhpc3RvcnksIHN0YXRlLCBtYXRjaGVzLCBzdWJtaXNzaW9uLCBsb2NhdGlvbiwgaW5pdGlhbEh5ZHJhdGlvbiwgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCwgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLCBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLCBmZXRjaExvYWRNYXRjaGVzLCBmZXRjaFJlZGlyZWN0SWRzLCByb3V0ZXNUb1VzZSwgYmFzZW5hbWUsIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgbGV0IGFjdGlvblJlc3VsdCA9IHBlbmRpbmdBY3Rpb25SZXN1bHQgPyBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciA6IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YSA6IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRVcmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdGF0ZS5sb2NhdGlvbik7XG4gIGxldCBuZXh0VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuICBsZXQgYm91bmRhcnlNYXRjaGVzID0gbWF0Y2hlcztcbiAgaWYgKGluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgYm91bmRhcnlNYXRjaGVzID0gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkoXG4gICAgICBtYXRjaGVzLFxuICAgICAgT2JqZWN0LmtleXMoc3RhdGUuZXJyb3JzKVswXSxcbiAgICAgIHRydWVcbiAgICApO1xuICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSkge1xuICAgIGJvdW5kYXJ5TWF0Y2hlcyA9IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRbMF1cbiAgICApO1xuICB9XG4gIGxldCBhY3Rpb25TdGF0dXMgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5zdGF0dXNDb2RlIDogdm9pZCAwO1xuICBsZXQgc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA9IGFjdGlvblN0YXR1cyAmJiBhY3Rpb25TdGF0dXMgPj0gNDAwO1xuICBsZXQgbmF2aWdhdGlvbk1hdGNoZXMgPSBib3VuZGFyeU1hdGNoZXMuZmlsdGVyKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBsZXQgeyByb3V0ZSB9ID0gbWF0Y2g7XG4gICAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAocm91dGUubG9hZGVyID09IG51bGwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24pIHtcbiAgICAgIHJldHVybiBzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihyb3V0ZSwgc3RhdGUubG9hZGVyRGF0YSwgc3RhdGUuZXJyb3JzKTtcbiAgICB9XG4gICAgaWYgKGlzTmV3TG9hZGVyKHN0YXRlLmxvYWRlckRhdGEsIHN0YXRlLm1hdGNoZXNbaW5kZXhdLCBtYXRjaCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBsZXQgY3VycmVudFJvdXRlTWF0Y2ggPSBzdGF0ZS5tYXRjaGVzW2luZGV4XTtcbiAgICBsZXQgbmV4dFJvdXRlTWF0Y2ggPSBtYXRjaDtcbiAgICByZXR1cm4gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihtYXRjaCwge1xuICAgICAgY3VycmVudFVybCxcbiAgICAgIGN1cnJlbnRQYXJhbXM6IGN1cnJlbnRSb3V0ZU1hdGNoLnBhcmFtcyxcbiAgICAgIG5leHRVcmwsXG4gICAgICBuZXh0UGFyYW1zOiBuZXh0Um91dGVNYXRjaC5wYXJhbXMsXG4gICAgICAuLi5zdWJtaXNzaW9uLFxuICAgICAgYWN0aW9uUmVzdWx0LFxuICAgICAgYWN0aW9uU3RhdHVzLFxuICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPyBmYWxzZSA6IChcbiAgICAgICAgLy8gRm9yY2VkIHJldmFsaWRhdGlvbiBkdWUgdG8gc3VibWlzc2lvbiwgdXNlUmV2YWxpZGF0b3IsIG9yIFgtUmVtaXgtUmV2YWxpZGF0ZVxuICAgICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkIHx8IGN1cnJlbnRVcmwucGF0aG5hbWUgKyBjdXJyZW50VXJsLnNlYXJjaCA9PT0gbmV4dFVybC5wYXRobmFtZSArIG5leHRVcmwuc2VhcmNoIHx8IC8vIFNlYXJjaCBwYXJhbXMgYWZmZWN0IGFsbCBsb2FkZXJzXG4gICAgICAgIGN1cnJlbnRVcmwuc2VhcmNoICE9PSBuZXh0VXJsLnNlYXJjaCB8fCBpc05ld1JvdXRlSW5zdGFuY2UoY3VycmVudFJvdXRlTWF0Y2gsIG5leHRSb3V0ZU1hdGNoKVxuICAgICAgKVxuICAgIH0pO1xuICB9KTtcbiAgbGV0IHJldmFsaWRhdGluZ0ZldGNoZXJzID0gW107XG4gIGZldGNoTG9hZE1hdGNoZXMuZm9yRWFjaCgoZiwga2V5KSA9PiB7XG4gICAgaWYgKGluaXRpYWxIeWRyYXRpb24gfHwgIW1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gZi5yb3V0ZUlkKSB8fCBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBmZXRjaGVyTWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBmLnBhdGgsIGJhc2VuYW1lKTtcbiAgICBpZiAoIWZldGNoZXJNYXRjaGVzKSB7XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkOiBmLnJvdXRlSWQsXG4gICAgICAgIHBhdGg6IGYucGF0aCxcbiAgICAgICAgbWF0Y2hlczogbnVsbCxcbiAgICAgICAgbWF0Y2g6IG51bGwsXG4gICAgICAgIGNvbnRyb2xsZXI6IG51bGxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIGxldCBmZXRjaGVyTWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChmZXRjaGVyTWF0Y2hlcywgZi5wYXRoKTtcbiAgICBsZXQgc2hvdWxkUmV2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIGlmIChmZXRjaFJlZGlyZWN0SWRzLmhhcyhrZXkpKSB7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChjYW5jZWxsZWRGZXRjaGVyTG9hZHMuaGFzKGtleSkpIHtcbiAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5kZWxldGUoa2V5KTtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZmV0Y2hlciAmJiBmZXRjaGVyLnN0YXRlICE9PSBcImlkbGVcIiAmJiBmZXRjaGVyLmRhdGEgPT09IHZvaWQgMCkge1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKGZldGNoZXJNYXRjaCwge1xuICAgICAgICBjdXJyZW50VXJsLFxuICAgICAgICBjdXJyZW50UGFyYW1zOiBzdGF0ZS5tYXRjaGVzW3N0YXRlLm1hdGNoZXMubGVuZ3RoIC0gMV0ucGFyYW1zLFxuICAgICAgICBuZXh0VXJsLFxuICAgICAgICBuZXh0UGFyYW1zOiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucGFyYW1zLFxuICAgICAgICAuLi5zdWJtaXNzaW9uLFxuICAgICAgICBhY3Rpb25SZXN1bHQsXG4gICAgICAgIGFjdGlvblN0YXR1cyxcbiAgICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPyBmYWxzZSA6IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IGZldGNoZXJNYXRjaGVzLFxuICAgICAgICBtYXRjaDogZmV0Y2hlck1hdGNoLFxuICAgICAgICBjb250cm9sbGVyOiBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBbbmF2aWdhdGlvbk1hdGNoZXMsIHJldmFsaWRhdGluZ0ZldGNoZXJzXTtcbn1cbmZ1bmN0aW9uIHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKHJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpIHtcbiAgaWYgKHJvdXRlLmxhenkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIXJvdXRlLmxvYWRlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgaGFzRGF0YSA9IGxvYWRlckRhdGEgIT0gbnVsbCAmJiBsb2FkZXJEYXRhW3JvdXRlLmlkXSAhPT0gdm9pZCAwO1xuICBsZXQgaGFzRXJyb3IgPSBlcnJvcnMgIT0gbnVsbCAmJiBlcnJvcnNbcm91dGUuaWRdICE9PSB2b2lkIDA7XG4gIGlmICghaGFzRGF0YSAmJiBoYXNFcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIHJvdXRlLmxvYWRlciA9PT0gXCJmdW5jdGlvblwiICYmIHJvdXRlLmxvYWRlci5oeWRyYXRlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuICFoYXNEYXRhICYmICFoYXNFcnJvcjtcbn1cbmZ1bmN0aW9uIGlzTmV3TG9hZGVyKGN1cnJlbnRMb2FkZXJEYXRhLCBjdXJyZW50TWF0Y2gsIG1hdGNoKSB7XG4gIGxldCBpc05ldyA9IChcbiAgICAvLyBbYV0gLT4gW2EsIGJdXG4gICAgIWN1cnJlbnRNYXRjaCB8fCAvLyBbYSwgYl0gLT4gW2EsIGNdXG4gICAgbWF0Y2gucm91dGUuaWQgIT09IGN1cnJlbnRNYXRjaC5yb3V0ZS5pZFxuICApO1xuICBsZXQgaXNNaXNzaW5nRGF0YSA9ICFjdXJyZW50TG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShtYXRjaC5yb3V0ZS5pZCk7XG4gIHJldHVybiBpc05ldyB8fCBpc01pc3NpbmdEYXRhO1xufVxuZnVuY3Rpb24gaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRNYXRjaCwgbWF0Y2gpIHtcbiAgbGV0IGN1cnJlbnRQYXRoID0gY3VycmVudE1hdGNoLnJvdXRlLnBhdGg7XG4gIHJldHVybiAoXG4gICAgLy8gcGFyYW0gY2hhbmdlIGZvciB0aGlzIG1hdGNoLCAvdXNlcnMvMTIzIC0+IC91c2Vycy80NTZcbiAgICBjdXJyZW50TWF0Y2gucGF0aG5hbWUgIT09IG1hdGNoLnBhdGhuYW1lIHx8IC8vIHNwbGF0IHBhcmFtIGNoYW5nZWQsIHdoaWNoIGlzIG5vdCBwcmVzZW50IGluIG1hdGNoLnBhdGhcbiAgICAvLyBlLmcuIC9maWxlcy9pbWFnZXMvYXZhdGFyLmpwZyAtPiBmaWxlcy9maW5hbmNlcy54bHNcbiAgICBjdXJyZW50UGF0aCAhPSBudWxsICYmIGN1cnJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSAmJiBjdXJyZW50TWF0Y2gucGFyYW1zW1wiKlwiXSAhPT0gbWF0Y2gucGFyYW1zW1wiKlwiXVxuICApO1xufVxuZnVuY3Rpb24gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihsb2FkZXJNYXRjaCwgYXJnKSB7XG4gIGlmIChsb2FkZXJNYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgbGV0IHJvdXRlQ2hvaWNlID0gbG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZShhcmcpO1xuICAgIGlmICh0eXBlb2Ygcm91dGVDaG9pY2UgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXR1cm4gcm91dGVDaG9pY2U7XG4gICAgfVxuICB9XG4gIHJldHVybiBhcmcuZGVmYXVsdFNob3VsZFJldmFsaWRhdGU7XG59XG5mdW5jdGlvbiBwYXRjaFJvdXRlc0ltcGwocm91dGVJZCwgY2hpbGRyZW4sIHJvdXRlc1RvVXNlLCBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzMikge1xuICBsZXQgY2hpbGRyZW5Ub1BhdGNoO1xuICBpZiAocm91dGVJZCkge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W3JvdXRlSWRdO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvdXRlLFxuICAgICAgYE5vIHJvdXRlIGZvdW5kIHRvIHBhdGNoIGNoaWxkcmVuIGludG86IHJvdXRlSWQgPSAke3JvdXRlSWR9YFxuICAgICk7XG4gICAgaWYgKCFyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgcm91dGUuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG4gICAgY2hpbGRyZW5Ub1BhdGNoID0gcm91dGUuY2hpbGRyZW47XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW5Ub1BhdGNoID0gcm91dGVzVG9Vc2U7XG4gIH1cbiAgbGV0IHVuaXF1ZUNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKFxuICAgIChuZXdSb3V0ZSkgPT4gIWNoaWxkcmVuVG9QYXRjaC5zb21lKFxuICAgICAgKGV4aXN0aW5nUm91dGUpID0+IGlzU2FtZVJvdXRlKG5ld1JvdXRlLCBleGlzdGluZ1JvdXRlKVxuICAgIClcbiAgKTtcbiAgbGV0IG5ld1JvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgdW5pcXVlQ2hpbGRyZW4sXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICBbcm91dGVJZCB8fCBcIl9cIiwgXCJwYXRjaFwiLCBTdHJpbmcoY2hpbGRyZW5Ub1BhdGNoPy5sZW5ndGggfHwgXCIwXCIpXSxcbiAgICBtYW5pZmVzdFxuICApO1xuICBjaGlsZHJlblRvUGF0Y2gucHVzaCguLi5uZXdSb3V0ZXMpO1xufVxuZnVuY3Rpb24gaXNTYW1lUm91dGUobmV3Um91dGUsIGV4aXN0aW5nUm91dGUpIHtcbiAgaWYgKFwiaWRcIiBpbiBuZXdSb3V0ZSAmJiBcImlkXCIgaW4gZXhpc3RpbmdSb3V0ZSAmJiBuZXdSb3V0ZS5pZCA9PT0gZXhpc3RpbmdSb3V0ZS5pZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghKG5ld1JvdXRlLmluZGV4ID09PSBleGlzdGluZ1JvdXRlLmluZGV4ICYmIG5ld1JvdXRlLnBhdGggPT09IGV4aXN0aW5nUm91dGUucGF0aCAmJiBuZXdSb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSBleGlzdGluZ1JvdXRlLmNhc2VTZW5zaXRpdmUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICgoIW5ld1JvdXRlLmNoaWxkcmVuIHx8IG5ld1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkgJiYgKCFleGlzdGluZ1JvdXRlLmNoaWxkcmVuIHx8IGV4aXN0aW5nUm91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBuZXdSb3V0ZS5jaGlsZHJlbi5ldmVyeShcbiAgICAoYUNoaWxkLCBpKSA9PiBleGlzdGluZ1JvdXRlLmNoaWxkcmVuPy5zb21lKChiQ2hpbGQpID0+IGlzU2FtZVJvdXRlKGFDaGlsZCwgYkNoaWxkKSlcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRMYXp5Um91dGVNb2R1bGUocm91dGUsIG1hcFJvdXRlUHJvcGVydGllczIsIG1hbmlmZXN0KSB7XG4gIGlmICghcm91dGUubGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgbGF6eVJvdXRlID0gYXdhaXQgcm91dGUubGF6eSgpO1xuICBpZiAoIXJvdXRlLmxhenkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHJvdXRlVG9VcGRhdGUgPSBtYW5pZmVzdFtyb3V0ZS5pZF07XG4gIGludmFyaWFudChyb3V0ZVRvVXBkYXRlLCBcIk5vIHJvdXRlIGZvdW5kIGluIG1hbmlmZXN0XCIpO1xuICBsZXQgcm91dGVVcGRhdGVzID0ge307XG4gIGZvciAobGV0IGxhenlSb3V0ZVByb3BlcnR5IGluIGxhenlSb3V0ZSkge1xuICAgIGxldCBzdGF0aWNSb3V0ZVZhbHVlID0gcm91dGVUb1VwZGF0ZVtsYXp5Um91dGVQcm9wZXJ0eV07XG4gICAgbGV0IGlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCA9IHN0YXRpY1JvdXRlVmFsdWUgIT09IHZvaWQgMCAmJiAvLyBUaGlzIHByb3BlcnR5IGlzbid0IHN0YXRpYyBzaW5jZSBpdCBzaG91bGQgYWx3YXlzIGJlIHVwZGF0ZWQgYmFzZWRcbiAgICAvLyBvbiB0aGUgcm91dGUgdXBkYXRlc1xuICAgIGxhenlSb3V0ZVByb3BlcnR5ICE9PSBcImhhc0Vycm9yQm91bmRhcnlcIjtcbiAgICB3YXJuaW5nKFxuICAgICAgIWlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCxcbiAgICAgIGBSb3V0ZSBcIiR7cm91dGVUb1VwZGF0ZS5pZH1cIiBoYXMgYSBzdGF0aWMgcHJvcGVydHkgXCIke2xhenlSb3V0ZVByb3BlcnR5fVwiIGRlZmluZWQgYnV0IGl0cyBsYXp5IGZ1bmN0aW9uIGlzIGFsc28gcmV0dXJuaW5nIGEgdmFsdWUgZm9yIHRoaXMgcHJvcGVydHkuIFRoZSBsYXp5IHJvdXRlIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiB3aWxsIGJlIGlnbm9yZWQuYFxuICAgICk7XG4gICAgaWYgKCFpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQgJiYgIWltbXV0YWJsZVJvdXRlS2V5cy5oYXMobGF6eVJvdXRlUHJvcGVydHkpKSB7XG4gICAgICByb3V0ZVVwZGF0ZXNbbGF6eVJvdXRlUHJvcGVydHldID0gbGF6eVJvdXRlW2xhenlSb3V0ZVByb3BlcnR5XTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCByb3V0ZVVwZGF0ZXMpO1xuICBPYmplY3QuYXNzaWduKHJvdXRlVG9VcGRhdGUsIHtcbiAgICAvLyBUbyBrZWVwIHRoaW5ncyBmcmFtZXdvcmsgYWdub3N0aWMsIHdlIHVzZSB0aGUgcHJvdmlkZWQgYG1hcFJvdXRlUHJvcGVydGllc2BcbiAgICAvLyBmdW5jdGlvbiB0byBzZXQgdGhlIGZyYW1ld29yay1hd2FyZSBwcm9wZXJ0aWVzIChgZWxlbWVudGAvYGhhc0Vycm9yQm91bmRhcnlgKVxuICAgIC8vIHNpbmNlIHRoZSBsb2dpYyB3aWxsIGRpZmZlciBiZXR3ZWVuIGZyYW1ld29ya3MuXG4gICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzMihyb3V0ZVRvVXBkYXRlKSxcbiAgICBsYXp5OiB2b2lkIDBcbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBkZWZhdWx0RGF0YVN0cmF0ZWd5KGFyZ3MpIHtcbiAgbGV0IG1hdGNoZXNUb0xvYWQgPSBhcmdzLm1hdGNoZXMuZmlsdGVyKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBsZXQga2V5ZWRSZXN1bHRzID0ge307XG4gIGxldCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwobWF0Y2hlc1RvTG9hZC5tYXAoKG0pID0+IG0ucmVzb2x2ZSgpKSk7XG4gIHJlc3VsdHMuZm9yRWFjaCgocmVzdWx0LCBpKSA9PiB7XG4gICAga2V5ZWRSZXN1bHRzW21hdGNoZXNUb0xvYWRbaV0ucm91dGUuaWRdID0gcmVzdWx0O1xuICB9KTtcbiAgcmV0dXJuIGtleWVkUmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHREYXRhU3RyYXRlZ3lXaXRoTWlkZGxld2FyZShhcmdzKSB7XG4gIGlmICghYXJncy5tYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSkpIHtcbiAgICByZXR1cm4gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKTtcbiAgfVxuICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgIGFyZ3MsXG4gICAgZmFsc2UsXG4gICAgKCkgPT4gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKSxcbiAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gcnVuTWlkZGxld2FyZVBpcGVsaW5lKGFyZ3MsIHByb3BhZ2F0ZVJlc3VsdCwgaGFuZGxlciwgZXJyb3JIYW5kbGVyKSB7XG4gIGxldCB7IG1hdGNoZXMsIHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9ID0gYXJncztcbiAgbGV0IG1pZGRsZXdhcmVTdGF0ZSA9IHtcbiAgICBoYW5kbGVyUmVzdWx0OiB2b2lkIDAsXG4gICAgcHJvcGFnYXRlUmVzdWx0XG4gIH07XG4gIHRyeSB7XG4gICAgbGV0IHR1cGxlcyA9IG1hdGNoZXMuZmxhdE1hcChcbiAgICAgIChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUgPyBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUubWFwKChmbikgPT4gW20ucm91dGUuaWQsIGZuXSkgOiBbXVxuICAgICk7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNhbGxSb3V0ZU1pZGRsZXdhcmUoXG4gICAgICB7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9LFxuICAgICAgdHVwbGVzLFxuICAgICAgbWlkZGxld2FyZVN0YXRlLFxuICAgICAgaGFuZGxlclxuICAgICk7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVTdGF0ZS5wcm9wYWdhdGVSZXN1bHQgPyByZXN1bHQgOiBtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghKGUgaW5zdGFuY2VvZiBNaWRkbGV3YXJlRXJyb3IpKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZXJyb3JIYW5kbGVyKGUpO1xuICAgIGlmIChwcm9wYWdhdGVSZXN1bHQgfHwgIW1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0KSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdCwgcmVzdWx0KTtcbiAgfVxufVxudmFyIE1pZGRsZXdhcmVFcnJvciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iocm91dGVJZCwgZXJyb3IpIHtcbiAgICB0aGlzLnJvdXRlSWQgPSByb3V0ZUlkO1xuICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgfVxufTtcbmFzeW5jIGZ1bmN0aW9uIGNhbGxSb3V0ZU1pZGRsZXdhcmUoYXJncywgbWlkZGxld2FyZXMsIG1pZGRsZXdhcmVTdGF0ZSwgaGFuZGxlciwgaWR4ID0gMCkge1xuICBsZXQgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5yZWFzb24pIHtcbiAgICAgIHRocm93IHJlcXVlc3Quc2lnbmFsLnJlYXNvbjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFJlcXVlc3QgYWJvcnRlZCB3aXRob3V0IGFuIFxcYEFib3J0U2lnbmFsLnJlYXNvblxcYDogJHtyZXF1ZXN0Lm1ldGhvZH0gJHtyZXF1ZXN0LnVybH1gXG4gICAgKTtcbiAgfVxuICBsZXQgdHVwbGUgPSBtaWRkbGV3YXJlc1tpZHhdO1xuICBpZiAoIXR1cGxlKSB7XG4gICAgbWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQgPSBhd2FpdCBoYW5kbGVyKCk7XG4gICAgcmV0dXJuIG1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0O1xuICB9XG4gIGxldCBbcm91dGVJZCwgbWlkZGxld2FyZV0gPSB0dXBsZTtcbiAgbGV0IG5leHRDYWxsZWQgPSBmYWxzZTtcbiAgbGV0IG5leHRSZXN1bHQgPSB2b2lkIDA7XG4gIGxldCBuZXh0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChuZXh0Q2FsbGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbWF5IG9ubHkgY2FsbCBgbmV4dCgpYCBvbmNlIHBlciBtaWRkbGV3YXJlXCIpO1xuICAgIH1cbiAgICBuZXh0Q2FsbGVkID0gdHJ1ZTtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2FsbFJvdXRlTWlkZGxld2FyZShcbiAgICAgIGFyZ3MsXG4gICAgICBtaWRkbGV3YXJlcyxcbiAgICAgIG1pZGRsZXdhcmVTdGF0ZSxcbiAgICAgIGhhbmRsZXIsXG4gICAgICBpZHggKyAxXG4gICAgKTtcbiAgICBpZiAobWlkZGxld2FyZVN0YXRlLnByb3BhZ2F0ZVJlc3VsdCkge1xuICAgICAgbmV4dFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgIH1cbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgbWlkZGxld2FyZShcbiAgICAgIHtcbiAgICAgICAgcmVxdWVzdDogYXJncy5yZXF1ZXN0LFxuICAgICAgICBwYXJhbXM6IGFyZ3MucGFyYW1zLFxuICAgICAgICBjb250ZXh0OiBhcmdzLmNvbnRleHRcbiAgICAgIH0sXG4gICAgICBuZXh0XG4gICAgKTtcbiAgICBpZiAobmV4dENhbGxlZCkge1xuICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiBuZXh0UmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIE1pZGRsZXdhcmVFcnJvcikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IE1pZGRsZXdhcmVFcnJvcihyb3V0ZUlkLCBlKTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneUltcGwoZGF0YVN0cmF0ZWd5SW1wbCwgdHlwZSwgcmVxdWVzdCwgbWF0Y2hlc1RvTG9hZCwgbWF0Y2hlcywgZmV0Y2hlcktleSwgbWFuaWZlc3QsIG1hcFJvdXRlUHJvcGVydGllczIsIHNjb3BlZENvbnRleHQsIGVuYWJsZU1pZGRsZXdhcmUpIHtcbiAgbGV0IGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXMgPSBtYXRjaGVzLm1hcChcbiAgICAobSkgPT4gbS5yb3V0ZS5sYXp5ID8gbG9hZExhenlSb3V0ZU1vZHVsZShtLnJvdXRlLCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBtYW5pZmVzdCkgOiB2b2lkIDBcbiAgKTtcbiAgaWYgKGVuYWJsZU1pZGRsZXdhcmUpIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzKTtcbiAgfVxuICBsZXQgZHNNYXRjaGVzID0gbWF0Y2hlcy5tYXAoKG1hdGNoLCBpKSA9PiB7XG4gICAgbGV0IGxvYWRSb3V0ZVByb21pc2UgPSBsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzW2ldO1xuICAgIGxldCBzaG91bGRMb2FkID0gbWF0Y2hlc1RvTG9hZC5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSBtYXRjaC5yb3V0ZS5pZCk7XG4gICAgbGV0IHJlc29sdmUgPSBhc3luYyAoaGFuZGxlck92ZXJyaWRlKSA9PiB7XG4gICAgICBpZiAoaGFuZGxlck92ZXJyaWRlICYmIHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiICYmIChtYXRjaC5yb3V0ZS5sYXp5IHx8IG1hdGNoLnJvdXRlLmxvYWRlcikpIHtcbiAgICAgICAgc2hvdWxkTG9hZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2hvdWxkTG9hZCA/IGNhbGxMb2FkZXJPckFjdGlvbihcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIGxvYWRSb3V0ZVByb21pc2UsXG4gICAgICAgIGhhbmRsZXJPdmVycmlkZSxcbiAgICAgICAgc2NvcGVkQ29udGV4dFxuICAgICAgKSA6IFByb21pc2UucmVzb2x2ZSh7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIHJlc3VsdDogdm9pZCAwIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1hdGNoLFxuICAgICAgc2hvdWxkTG9hZCxcbiAgICAgIHJlc29sdmVcbiAgICB9O1xuICB9KTtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBkYXRhU3RyYXRlZ3lJbXBsKHtcbiAgICBtYXRjaGVzOiBkc01hdGNoZXMsXG4gICAgcmVxdWVzdCxcbiAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgIGZldGNoZXJLZXksXG4gICAgY29udGV4dDogc2NvcGVkQ29udGV4dFxuICB9KTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzKTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlck9yQWN0aW9uKHR5cGUsIHJlcXVlc3QsIG1hdGNoLCBsb2FkUm91dGVQcm9taXNlLCBoYW5kbGVyT3ZlcnJpZGUsIHNjb3BlZENvbnRleHQpIHtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IG9uUmVqZWN0O1xuICBsZXQgcnVuSGFuZGxlciA9IChoYW5kbGVyKSA9PiB7XG4gICAgbGV0IHJlamVjdDtcbiAgICBsZXQgYWJvcnRQcm9taXNlID0gbmV3IFByb21pc2UoKF8sIHIpID0+IHJlamVjdCA9IHIpO1xuICAgIG9uUmVqZWN0ID0gKCkgPT4gcmVqZWN0KCk7XG4gICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uUmVqZWN0KTtcbiAgICBsZXQgYWN0dWFsSGFuZGxlciA9IChjdHgpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgWW91IGNhbm5vdCBjYWxsIHRoZSBoYW5kbGVyIGZvciBhIHJvdXRlIHdoaWNoIGRlZmluZXMgYSBib29sZWFuIFwiJHt0eXBlfVwiIFtyb3V0ZUlkOiAke21hdGNoLnJvdXRlLmlkfV1gXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhbmRsZXIoXG4gICAgICAgIHtcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIHBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgICAgICAgIGNvbnRleHQ6IHNjb3BlZENvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgLi4uY3R4ICE9PSB2b2lkIDAgPyBbY3R4XSA6IFtdXG4gICAgICApO1xuICAgIH07XG4gICAgbGV0IGhhbmRsZXJQcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCB2YWwgPSBhd2FpdCAoaGFuZGxlck92ZXJyaWRlID8gaGFuZGxlck92ZXJyaWRlKChjdHgpID0+IGFjdHVhbEhhbmRsZXIoY3R4KSkgOiBhY3R1YWxIYW5kbGVyKCkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0OiB2YWwgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW2hhbmRsZXJQcm9taXNlLCBhYm9ydFByb21pc2VdKTtcbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgaGFuZGxlciA9IG1hdGNoLnJvdXRlW3R5cGVdO1xuICAgIGlmIChsb2FkUm91dGVQcm9taXNlKSB7XG4gICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICBsZXQgaGFuZGxlckVycm9yO1xuICAgICAgICBsZXQgW3ZhbHVlXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAvLyBJZiB0aGUgaGFuZGxlciB0aHJvd3MsIGRvbid0IGxldCBpdCBpbW1lZGlhdGVseSBidWJibGUgb3V0LFxuICAgICAgICAgIC8vIHNpbmNlIHdlIG5lZWQgdG8gbGV0IHRoZSBsYXp5KCkgZXhlY3V0aW9uIGZpbmlzaCBzbyB3ZSBrbm93IGlmIHRoaXNcbiAgICAgICAgICAvLyByb3V0ZSBoYXMgYSBib3VuZGFyeSB0aGF0IGNhbiBoYW5kbGUgdGhlIGVycm9yXG4gICAgICAgICAgcnVuSGFuZGxlcihoYW5kbGVyKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgaGFuZGxlckVycm9yID0gZTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBsb2FkUm91dGVQcm9taXNlXG4gICAgICAgIF0pO1xuICAgICAgICBpZiAoaGFuZGxlckVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB0aHJvdyBoYW5kbGVyRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBsb2FkUm91dGVQcm9taXNlO1xuICAgICAgICBoYW5kbGVyID0gbWF0Y2gucm91dGVbdHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXdhaXQgcnVuSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBcImFjdGlvblwiKSB7XG4gICAgICAgICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgICAgIGxldCBwYXRobmFtZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICAgIHJvdXRlSWQ6IG1hdGNoLnJvdXRlLmlkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLywgcmVzdWx0OiB2b2lkIDAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIWhhbmRsZXIpIHtcbiAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgIGxldCBwYXRobmFtZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwge1xuICAgICAgICBwYXRobmFtZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHJ1bkhhbmRsZXIoaGFuZGxlcik7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLCByZXN1bHQ6IGUgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICBpZiAob25SZWplY3QpIHtcbiAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KGRhdGFTdHJhdGVneVJlc3VsdCkge1xuICBsZXQgeyByZXN1bHQsIHR5cGUgfSA9IGRhdGFTdHJhdGVneVJlc3VsdDtcbiAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgIGxldCBkYXRhMjtcbiAgICB0cnkge1xuICAgICAgbGV0IGNvbnRlbnRUeXBlID0gcmVzdWx0LmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL2pzb25cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICAgIGlmIChyZXN1bHQuYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgZGF0YTIgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRhdGEyID0gYXdhaXQgcmVzdWx0Lmpzb24oKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YTIgPSBhd2FpdCByZXN1bHQudGV4dCgpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLywgZXJyb3I6IGUgfTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yUmVzcG9uc2VJbXBsKHJlc3VsdC5zdGF0dXMsIHJlc3VsdC5zdGF0dXNUZXh0LCBkYXRhMiksXG4gICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLyxcbiAgICAgIGRhdGE6IGRhdGEyLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzXG4gICAgfTtcbiAgfVxuICBpZiAodHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKSB7XG4gICAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSkge1xuICAgICAgaWYgKHJlc3VsdC5kYXRhIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgZXJyb3I6IHJlc3VsdC5kYXRhLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5pbml0Py5zdGF0dXMsXG4gICAgICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSA6IHZvaWQgMFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvcjogbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgIHJlc3VsdC5pbml0Py5zdGF0dXMgfHwgNTAwLFxuICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICByZXN1bHQuZGF0YVxuICAgICAgICApLFxuICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0LnN0YXR1cyA6IHZvaWQgMCxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgIGVycm9yOiByZXN1bHQsXG4gICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQpID8gcmVzdWx0LnN0YXR1cyA6IHZvaWQgMFxuICAgIH07XG4gIH1cbiAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLFxuICAgICAgZGF0YTogcmVzdWx0LmRhdGEsXG4gICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgaGVhZGVyczogcmVzdWx0LmluaXQ/LmhlYWRlcnMgPyBuZXcgSGVhZGVycyhyZXN1bHQuaW5pdC5oZWFkZXJzKSA6IHZvaWQgMFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLywgZGF0YTogcmVzdWx0IH07XG59XG5mdW5jdGlvbiBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKHJlc3BvbnNlLCByZXF1ZXN0LCByb3V0ZUlkLCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICBpbnZhcmlhbnQoXG4gICAgbG9jYXRpb24sXG4gICAgXCJSZWRpcmVjdHMgcmV0dXJuZWQvdGhyb3duIGZyb20gbG9hZGVycy9hY3Rpb25zIG11c3QgaGF2ZSBhIExvY2F0aW9uIGhlYWRlclwiXG4gICk7XG4gIGlmICghQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgbGV0IHRyaW1tZWRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxXG4gICAgKTtcbiAgICBsb2NhdGlvbiA9IG5vcm1hbGl6ZVRvKFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICB0cmltbWVkTWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbG9jYXRpb25cbiAgICApO1xuICAgIHJlc3BvbnNlLmhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgbG9jYXRpb24pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24obG9jYXRpb24sIGN1cnJlbnRVcmwsIGJhc2VuYW1lKSB7XG4gIGlmIChBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICBsZXQgbm9ybWFsaXplZExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgbGV0IHVybCA9IG5vcm1hbGl6ZWRMb2NhdGlvbi5zdGFydHNXaXRoKFwiLy9cIikgPyBuZXcgVVJMKGN1cnJlbnRVcmwucHJvdG9jb2wgKyBub3JtYWxpemVkTG9jYXRpb24pIDogbmV3IFVSTChub3JtYWxpemVkTG9jYXRpb24pO1xuICAgIGxldCBpc1NhbWVCYXNlbmFtZSA9IHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgIT0gbnVsbDtcbiAgICBpZiAodXJsLm9yaWdpbiA9PT0gY3VycmVudFVybC5vcmlnaW4gJiYgaXNTYW1lQmFzZW5hbWUpIHtcbiAgICAgIHJldHVybiB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoICsgdXJsLmhhc2g7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KGhpc3RvcnksIGxvY2F0aW9uLCBzaWduYWwsIHN1Ym1pc3Npb24pIHtcbiAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKHN0cmlwSGFzaEZyb21QYXRoKGxvY2F0aW9uKSkudG9TdHJpbmcoKTtcbiAgbGV0IGluaXQgPSB7IHNpZ25hbCB9O1xuICBpZiAoc3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtRW5jVHlwZSB9ID0gc3VibWlzc2lvbjtcbiAgICBpbml0Lm1ldGhvZCA9IGZvcm1NZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICBpZiAoZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSBuZXcgSGVhZGVycyh7IFwiQ29udGVudC1UeXBlXCI6IGZvcm1FbmNUeXBlIH0pO1xuICAgICAgaW5pdC5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoc3VibWlzc2lvbi5qc29uKTtcbiAgICB9IGVsc2UgaWYgKGZvcm1FbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgICAgaW5pdC5ib2R5ID0gc3VibWlzc2lvbi50ZXh0O1xuICAgIH0gZWxzZSBpZiAoZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIgJiYgc3VibWlzc2lvbi5mb3JtRGF0YSkge1xuICAgICAgaW5pdC5ib2R5ID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMoc3VibWlzc2lvbi5mb3JtRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQuYm9keSA9IHN1Ym1pc3Npb24uZm9ybURhdGE7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwsIGluaXQpO1xufVxuZnVuY3Rpb24gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMoZm9ybURhdGEpIHtcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkge1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IHZhbHVlLm5hbWUpO1xuICB9XG4gIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG5mdW5jdGlvbiBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpIHtcbiAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2hQYXJhbXMuZW50cmllcygpKSB7XG4gICAgZm9ybURhdGEuYXBwZW5kKGtleSwgdmFsdWUpO1xuICB9XG4gIHJldHVybiBmb3JtRGF0YTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEobWF0Y2hlcywgcmVzdWx0cywgcGVuZGluZ0FjdGlvblJlc3VsdCwgaXNTdGF0aWNIYW5kbGVyID0gZmFsc2UsIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID0gZmFsc2UpIHtcbiAgbGV0IGxvYWRlckRhdGEgPSB7fTtcbiAgbGV0IGVycm9ycyA9IG51bGw7XG4gIGxldCBzdGF0dXNDb2RlO1xuICBsZXQgZm91bmRFcnJvciA9IGZhbHNlO1xuICBsZXQgbG9hZGVySGVhZGVycyA9IHt9O1xuICBsZXQgcGVuZGluZ0Vycm9yID0gcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8gcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciA6IHZvaWQgMDtcbiAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgIGlmICghKG1hdGNoLnJvdXRlLmlkIGluIHJlc3VsdHMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBpZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW2lkXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpLFxuICAgICAgXCJDYW5ub3QgaGFuZGxlIHJlZGlyZWN0IHJlc3VsdHMgaW4gcHJvY2Vzc0xvYWRlckRhdGFcIlxuICAgICk7XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGVycm9yID0gcmVzdWx0LmVycm9yO1xuICAgICAgaWYgKHBlbmRpbmdFcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGVycm9yID0gcGVuZGluZ0Vycm9yO1xuICAgICAgICBwZW5kaW5nRXJyb3IgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBlcnJvcnMgPSBlcnJvcnMgfHwge307XG4gICAgICBpZiAoc2tpcExvYWRlckVycm9yQnViYmxpbmcpIHtcbiAgICAgICAgZXJyb3JzW2lkXSA9IGVycm9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGlkKTtcbiAgICAgICAgaWYgKGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSA9PSBudWxsKSB7XG4gICAgICAgICAgZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdID0gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTdGF0aWNIYW5kbGVyKSB7XG4gICAgICAgIGxvYWRlckRhdGFbaWRdID0gUmVzZXRMb2FkZXJEYXRhU3ltYm9sO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3VuZEVycm9yKSB7XG4gICAgICAgIGZvdW5kRXJyb3IgPSB0cnVlO1xuICAgICAgICBzdGF0dXNDb2RlID0gaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiA1MDA7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGVyRGF0YVtpZF0gPSByZXN1bHQuZGF0YTtcbiAgICAgIGlmIChyZXN1bHQuc3RhdHVzQ29kZSAmJiByZXN1bHQuc3RhdHVzQ29kZSAhPT0gMjAwICYmICFmb3VuZEVycm9yKSB7XG4gICAgICAgIHN0YXR1c0NvZGUgPSByZXN1bHQuc3RhdHVzQ29kZTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmIChwZW5kaW5nRXJyb3IgIT09IHZvaWQgMCAmJiBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgZXJyb3JzID0geyBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdFcnJvciB9O1xuICAgIGxvYWRlckRhdGFbcGVuZGluZ0FjdGlvblJlc3VsdFswXV0gPSB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBsb2FkZXJEYXRhLFxuICAgIGVycm9ycyxcbiAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlIHx8IDIwMCxcbiAgICBsb2FkZXJIZWFkZXJzXG4gIH07XG59XG5mdW5jdGlvbiBwcm9jZXNzTG9hZGVyRGF0YShzdGF0ZSwgbWF0Y2hlcywgcmVzdWx0cywgcGVuZGluZ0FjdGlvblJlc3VsdCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsIGZldGNoZXJSZXN1bHRzKSB7XG4gIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShcbiAgICBtYXRjaGVzLFxuICAgIHJlc3VsdHMsXG4gICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICApO1xuICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgIGxldCB7IGtleSwgbWF0Y2gsIGNvbnRyb2xsZXIgfSA9IHJmO1xuICAgIGxldCByZXN1bHQgPSBmZXRjaGVyUmVzdWx0c1trZXldO1xuICAgIGludmFyaWFudChyZXN1bHQsIFwiRGlkIG5vdCBmaW5kIGNvcnJlc3BvbmRpbmcgZmV0Y2hlciByZXN1bHRcIik7XG4gICAgaWYgKGNvbnRyb2xsZXIgJiYgY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoc3RhdGUubWF0Y2hlcywgbWF0Y2g/LnJvdXRlLmlkKTtcbiAgICAgIGlmICghKGVycm9ycyAmJiBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0pKSB7XG4gICAgICAgIGVycm9ycyA9IHtcbiAgICAgICAgICAuLi5lcnJvcnMsXG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgIH0gZWxzZSBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBpbnZhcmlhbnQoZmFsc2UsIFwiVW5oYW5kbGVkIGZldGNoZXIgcmV2YWxpZGF0aW9uIHJlZGlyZWN0XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHsgbG9hZGVyRGF0YSwgZXJyb3JzIH07XG59XG5mdW5jdGlvbiBtZXJnZUxvYWRlckRhdGEobG9hZGVyRGF0YSwgbmV3TG9hZGVyRGF0YSwgbWF0Y2hlcywgZXJyb3JzKSB7XG4gIGxldCBtZXJnZWRMb2FkZXJEYXRhID0gT2JqZWN0LmVudHJpZXMobmV3TG9hZGVyRGF0YSkuZmlsdGVyKChbLCB2XSkgPT4gdiAhPT0gUmVzZXRMb2FkZXJEYXRhU3ltYm9sKS5yZWR1Y2UoKG1lcmdlZCwgW2ssIHZdKSA9PiB7XG4gICAgbWVyZ2VkW2tdID0gdjtcbiAgICByZXR1cm4gbWVyZ2VkO1xuICB9LCB7fSk7XG4gIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBpZiAoIW5ld0xvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpICYmIGxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpICYmIG1hdGNoLnJvdXRlLmxvYWRlcikge1xuICAgICAgbWVyZ2VkTG9hZGVyRGF0YVtpZF0gPSBsb2FkZXJEYXRhW2lkXTtcbiAgICB9XG4gICAgaWYgKGVycm9ycyAmJiBlcnJvcnMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1lcmdlZExvYWRlckRhdGE7XG59XG5mdW5jdGlvbiBnZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgaWYgKCFwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8ge1xuICAgIC8vIENsZWFyIG91dCBwcmlvciBhY3Rpb25EYXRhIG9uIGVycm9yc1xuICAgIGFjdGlvbkRhdGE6IHt9XG4gIH0gOiB7XG4gICAgYWN0aW9uRGF0YToge1xuICAgICAgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGFcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIHJvdXRlSWQpIHtcbiAgbGV0IGVsaWdpYmxlTWF0Y2hlcyA9IHJvdXRlSWQgPyBtYXRjaGVzLnNsaWNlKDAsIG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSArIDEpIDogWy4uLm1hdGNoZXNdO1xuICByZXR1cm4gZWxpZ2libGVNYXRjaGVzLnJldmVyc2UoKS5maW5kKChtKSA9PiBtLnJvdXRlLmhhc0Vycm9yQm91bmRhcnkgPT09IHRydWUpIHx8IG1hdGNoZXNbMF07XG59XG5mdW5jdGlvbiBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKHJvdXRlcykge1xuICBsZXQgcm91dGUgPSByb3V0ZXMubGVuZ3RoID09PSAxID8gcm91dGVzWzBdIDogcm91dGVzLmZpbmQoKHIpID0+IHIuaW5kZXggfHwgIXIucGF0aCB8fCByLnBhdGggPT09IFwiL1wiKSB8fCB7XG4gICAgaWQ6IGBfX3NoaW0tZXJyb3Itcm91dGVfX2BcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBtYXRjaGVzOiBbXG4gICAgICB7XG4gICAgICAgIHBhcmFtczoge30sXG4gICAgICAgIHBhdGhuYW1lOiBcIlwiLFxuICAgICAgICBwYXRobmFtZUJhc2U6IFwiXCIsXG4gICAgICAgIHJvdXRlXG4gICAgICB9XG4gICAgXSxcbiAgICByb3V0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcihzdGF0dXMsIHtcbiAgcGF0aG5hbWUsXG4gIHJvdXRlSWQsXG4gIG1ldGhvZCxcbiAgdHlwZSxcbiAgbWVzc2FnZVxufSA9IHt9KSB7XG4gIGxldCBzdGF0dXNUZXh0ID0gXCJVbmtub3duIFNlcnZlciBFcnJvclwiO1xuICBsZXQgZXJyb3JNZXNzYWdlID0gXCJVbmtub3duIEByZW1peC1ydW4vcm91dGVyIGVycm9yXCI7XG4gIGlmIChzdGF0dXMgPT09IDQwMCkge1xuICAgIHN0YXR1c1RleHQgPSBcIkJhZCBSZXF1ZXN0XCI7XG4gICAgaWYgKG1ldGhvZCAmJiBwYXRobmFtZSAmJiByb3V0ZUlkKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgWW91IG1hZGUgYSAke21ldGhvZH0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGRpZCBub3QgcHJvdmlkZSBhIFxcYGxvYWRlclxcYCBmb3Igcm91dGUgXCIke3JvdXRlSWR9XCIsIHNvIHRoZXJlIGlzIG5vIHdheSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuYDtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiaW52YWxpZC1ib2R5XCIpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGVuY29kZSBzdWJtaXNzaW9uIGJvZHlcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDMpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJGb3JiaWRkZW5cIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgUm91dGUgXCIke3JvdXRlSWR9XCIgZG9lcyBub3QgbWF0Y2ggVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDQpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJOb3QgRm91bmRcIjtcbiAgICBlcnJvck1lc3NhZ2UgPSBgTm8gcm91dGUgbWF0Y2hlcyBVUkwgXCIke3BhdGhuYW1lfVwiYDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNSkge1xuICAgIHN0YXR1c1RleHQgPSBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYFlvdSBtYWRlIGEgJHttZXRob2QudG9VcHBlckNhc2UoKX0gcmVxdWVzdCB0byBcIiR7cGF0aG5hbWV9XCIgYnV0IGRpZCBub3QgcHJvdmlkZSBhbiBcXGBhY3Rpb25cXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmIChtZXRob2QpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBJbnZhbGlkIHJlcXVlc3QgbWV0aG9kIFwiJHttZXRob2QudG9VcHBlckNhc2UoKX1cImA7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgc3RhdHVzIHx8IDUwMCxcbiAgICBzdGF0dXNUZXh0LFxuICAgIG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgIHRydWVcbiAgKTtcbn1cbmZ1bmN0aW9uIGZpbmRSZWRpcmVjdChyZXN1bHRzKSB7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMocmVzdWx0cyk7XG4gIGZvciAobGV0IGkgPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgbGV0IFtrZXksIHJlc3VsdF0gPSBlbnRyaWVzW2ldO1xuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiB7IGtleSwgcmVzdWx0IH07XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdHJpcEhhc2hGcm9tUGF0aChwYXRoKSB7XG4gIGxldCBwYXJzZWRQYXRoID0gdHlwZW9mIHBhdGggPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgocGF0aCkgOiBwYXRoO1xuICByZXR1cm4gY3JlYXRlUGF0aCh7IC4uLnBhcnNlZFBhdGgsIGhhc2g6IFwiXCIgfSk7XG59XG5mdW5jdGlvbiBpc0hhc2hDaGFuZ2VPbmx5KGEsIGIpIHtcbiAgaWYgKGEucGF0aG5hbWUgIT09IGIucGF0aG5hbWUgfHwgYS5zZWFyY2ggIT09IGIuc2VhcmNoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChhLmhhc2ggPT09IFwiXCIpIHtcbiAgICByZXR1cm4gYi5oYXNoICE9PSBcIlwiO1xuICB9IGVsc2UgaWYgKGEuaGFzaCA9PT0gYi5oYXNoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSBpZiAoYi5oYXNoICE9PSBcIlwiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNEYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiByZXN1bHQgIT0gbnVsbCAmJiB0eXBlb2YgcmVzdWx0ID09PSBcIm9iamVjdFwiICYmIFwidHlwZVwiIGluIHJlc3VsdCAmJiBcInJlc3VsdFwiIGluIHJlc3VsdCAmJiAocmVzdWx0LnR5cGUgPT09IFwiZGF0YVwiIC8qIGRhdGEgKi8gfHwgcmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLyk7XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSAmJiByZWRpcmVjdFN0YXR1c0NvZGVzLmhhcyhyZXN1bHQucmVzdWx0LnN0YXR1cyk7XG59XG5mdW5jdGlvbiBpc0Vycm9yUmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLztcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiAocmVzdWx0ICYmIHJlc3VsdC50eXBlKSA9PT0gXCJyZWRpcmVjdFwiIC8qIHJlZGlyZWN0ICovO1xufVxuZnVuY3Rpb24gaXNEYXRhV2l0aFJlc3BvbnNlSW5pdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9IG51bGwgJiYgXCJ0eXBlXCIgaW4gdmFsdWUgJiYgXCJkYXRhXCIgaW4gdmFsdWUgJiYgXCJpbml0XCIgaW4gdmFsdWUgJiYgdmFsdWUudHlwZSA9PT0gXCJEYXRhV2l0aFJlc3BvbnNlSW5pdFwiO1xufVxuZnVuY3Rpb24gaXNSZXNwb25zZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUuc3RhdHVzID09PSBcIm51bWJlclwiICYmIHR5cGVvZiB2YWx1ZS5zdGF0dXNUZXh0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiB2YWx1ZS5oZWFkZXJzID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS5ib2R5ICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdFN0YXR1c0NvZGUoc3RhdHVzQ29kZSkge1xuICByZXR1cm4gcmVkaXJlY3RTdGF0dXNDb2Rlcy5oYXMoc3RhdHVzQ29kZSk7XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0KSB7XG4gIHJldHVybiBpc1Jlc3BvbnNlKHJlc3VsdCkgJiYgaXNSZWRpcmVjdFN0YXR1c0NvZGUocmVzdWx0LnN0YXR1cykgJiYgcmVzdWx0LmhlYWRlcnMuaGFzKFwiTG9jYXRpb25cIik7XG59XG5mdW5jdGlvbiBpc1ZhbGlkTWV0aG9kKG1ldGhvZCkge1xuICByZXR1cm4gdmFsaWRSZXF1ZXN0TWV0aG9kcy5oYXMobWV0aG9kLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gaXNNdXRhdGlvbk1ldGhvZChtZXRob2QpIHtcbiAgcmV0dXJuIHZhbGlkTXV0YXRpb25NZXRob2RzLmhhcyhtZXRob2QudG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBoYXNOYWtlZEluZGV4UXVlcnkoc2VhcmNoKSB7XG4gIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCkuZ2V0QWxsKFwiaW5kZXhcIikuc29tZSgodikgPT4gdiA9PT0gXCJcIik7XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbikge1xuICBsZXQgc2VhcmNoID0gdHlwZW9mIGxvY2F0aW9uID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uKS5zZWFyY2ggOiBsb2NhdGlvbi5zZWFyY2g7XG4gIGlmIChtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuaW5kZXggJiYgaGFzTmFrZWRJbmRleFF1ZXJ5KHNlYXJjaCB8fCBcIlwiKSkge1xuICAgIHJldHVybiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIH1cbiAgbGV0IHBhdGhNYXRjaGVzID0gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcyk7XG4gIHJldHVybiBwYXRoTWF0Y2hlc1twYXRoTWF0Y2hlcy5sZW5ndGggLSAxXTtcbn1cbmZ1bmN0aW9uIGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihuYXZpZ2F0aW9uKSB7XG4gIGxldCB7IGZvcm1NZXRob2QsIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlLCB0ZXh0LCBmb3JtRGF0YSwganNvbiB9ID0gbmF2aWdhdGlvbjtcbiAgaWYgKCFmb3JtTWV0aG9kIHx8ICFmb3JtQWN0aW9uIHx8ICFmb3JtRW5jVHlwZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGV4dCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dFxuICAgIH07XG4gIH0gZWxzZSBpZiAoZm9ybURhdGEgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGEsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0OiB2b2lkIDBcbiAgICB9O1xuICB9IGVsc2UgaWYgKGpzb24gIT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb24sXG4gICAgICB0ZXh0OiB2b2lkIDBcbiAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBnZXRMb2FkaW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbikge1xuICBpZiAoc3VibWlzc2lvbikge1xuICAgIGxldCBuYXZpZ2F0aW9uID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0XG4gICAgfTtcbiAgICByZXR1cm4gbmF2aWdhdGlvbjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbmF2aWdhdGlvbiA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICAgICAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICAgICAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0OiB2b2lkIDBcbiAgICB9O1xuICAgIHJldHVybiBuYXZpZ2F0aW9uO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTdWJtaXR0aW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbikge1xuICBsZXQgbmF2aWdhdGlvbiA9IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCIsXG4gICAgbG9jYXRpb24sXG4gICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgdGV4dDogc3VibWlzc2lvbi50ZXh0XG4gIH07XG4gIHJldHVybiBuYXZpZ2F0aW9uO1xufVxuZnVuY3Rpb24gZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZGF0YTIpIHtcbiAgaWYgKHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgZmV0Y2hlciA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgICBkYXRhOiBkYXRhMlxuICAgIH07XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGZldGNoZXIgPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gICAgICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gICAgICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHQ6IHZvaWQgMCxcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U3VibWl0dGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZXhpc3RpbmdGZXRjaGVyKSB7XG4gIGxldCBmZXRjaGVyID0ge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIixcbiAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHQsXG4gICAgZGF0YTogZXhpc3RpbmdGZXRjaGVyID8gZXhpc3RpbmdGZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgfTtcbiAgcmV0dXJuIGZldGNoZXI7XG59XG5mdW5jdGlvbiBnZXREb25lRmV0Y2hlcihkYXRhMikge1xuICBsZXQgZmV0Y2hlciA9IHtcbiAgICBzdGF0ZTogXCJpZGxlXCIsXG4gICAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICAgIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAganNvbjogdm9pZCAwLFxuICAgIHRleHQ6IHZvaWQgMCxcbiAgICBkYXRhOiBkYXRhMlxuICB9O1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVBcHBsaWVkVHJhbnNpdGlvbnMoX3dpbmRvdywgdHJhbnNpdGlvbnMpIHtcbiAgdHJ5IHtcbiAgICBsZXQgc2Vzc2lvblBvc2l0aW9ucyA9IF93aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcbiAgICAgIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZXG4gICAgKTtcbiAgICBpZiAoc2Vzc2lvblBvc2l0aW9ucykge1xuICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKHNlc3Npb25Qb3NpdGlvbnMpO1xuICAgICAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGpzb24gfHwge30pKSB7XG4gICAgICAgIGlmICh2ICYmIEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgICB0cmFuc2l0aW9ucy5zZXQoaywgbmV3IFNldCh2IHx8IFtdKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxufVxuZnVuY3Rpb24gcGVyc2lzdEFwcGxpZWRUcmFuc2l0aW9ucyhfd2luZG93LCB0cmFuc2l0aW9ucykge1xuICBpZiAodHJhbnNpdGlvbnMuc2l6ZSA+IDApIHtcbiAgICBsZXQganNvbiA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiB0cmFuc2l0aW9ucykge1xuICAgICAganNvbltrXSA9IFsuLi52XTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIF93aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVksXG4gICAgICAgIEpTT04uc3RyaW5naWZ5KGpzb24pXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgYEZhaWxlZCB0byBzYXZlIGFwcGxpZWQgdmlldyB0cmFuc2l0aW9ucyBpbiBzZXNzaW9uU3RvcmFnZSAoJHtlcnJvcn0pLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZCgpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IGFzeW5jICh2YWwpID0+IHtcbiAgICAgIHJlcyh2YWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlamVjdCA9IGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgcmVqKGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZXNvbHZlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlamVjdFxuICB9O1xufVxuXG4vLyBsaWIvY29tcG9uZW50cy50c3hcbmltcG9ydCAqIGFzIFJlYWN0MyBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2NvbnRleHQudHNcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xudmFyIERhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbkRhdGFSb3V0ZXJDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJEYXRhUm91dGVyXCI7XG52YXIgRGF0YVJvdXRlclN0YXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5EYXRhUm91dGVyU3RhdGVDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJEYXRhUm91dGVyU3RhdGVcIjtcbnZhciBWaWV3VHJhbnNpdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZVxufSk7XG5WaWV3VHJhbnNpdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlZpZXdUcmFuc2l0aW9uXCI7XG52YXIgRmV0Y2hlcnNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuKTtcbkZldGNoZXJzQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRmV0Y2hlcnNcIjtcbnZhciBBd2FpdENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuQXdhaXRDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJBd2FpdFwiO1xudmFyIE5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgbnVsbFxuKTtcbk5hdmlnYXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJOYXZpZ2F0aW9uXCI7XG52YXIgTG9jYXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChcbiAgbnVsbFxuKTtcbkxvY2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTG9jYXRpb25cIjtcbnZhciBSb3V0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgb3V0bGV0OiBudWxsLFxuICBtYXRjaGVzOiBbXSxcbiAgaXNEYXRhUm91dGU6IGZhbHNlXG59KTtcblJvdXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVcIjtcbnZhciBSb3V0ZUVycm9yQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5Sb3V0ZUVycm9yQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiUm91dGVFcnJvclwiO1xuXG4vLyBsaWIvaG9va3MudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIgZnJvbSBcInJlYWN0XCI7XG52YXIgRU5BQkxFX0RFVl9XQVJOSU5HUyA9IHRydWU7XG5mdW5jdGlvbiB1c2VIcmVmKHRvLCB7IHJlbGF0aXZlIH0gPSB7fSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VIcmVmKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IGJhc2VuYW1lLCBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgaGFzaCwgcGF0aG5hbWUsIHNlYXJjaCB9ID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuICBsZXQgam9pbmVkUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIGpvaW5lZFBhdGhuYW1lID0gcGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRobmFtZV0pO1xuICB9XG4gIHJldHVybiBuYXZpZ2F0b3IyLmNyZWF0ZUhyZWYoeyBwYXRobmFtZTogam9pbmVkUGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9KTtcbn1cbmZ1bmN0aW9uIHVzZUluUm91dGVyQ29udGV4dCgpIHtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZUxvY2F0aW9uKCkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VMb2NhdGlvbigpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KS5sb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRpb25UeXBlKCkge1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KS5uYXZpZ2F0aW9uVHlwZTtcbn1cbmZ1bmN0aW9uIHVzZU1hdGNoKHBhdHRlcm4pIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTWF0Y2goKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgcGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaFBhdGgocGF0dGVybiwgZGVjb2RlUGF0aChwYXRobmFtZSkpLFxuICAgIFtwYXRobmFtZSwgcGF0dGVybl1cbiAgKTtcbn1cbnZhciBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcgPSBgWW91IHNob3VsZCBjYWxsIG5hdmlnYXRlKCkgaW4gYSBSZWFjdC51c2VFZmZlY3QoKSwgbm90IHdoZW4geW91ciBjb21wb25lbnQgaXMgZmlyc3QgcmVuZGVyZWQuYDtcbmZ1bmN0aW9uIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoY2IpIHtcbiAgbGV0IGlzU3RhdGljID0gUmVhY3QyLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpLnN0YXRpYztcbiAgaWYgKCFpc1N0YXRpYykge1xuICAgIFJlYWN0Mi51c2VMYXlvdXRFZmZlY3QoY2IpO1xuICB9XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZSgpIHtcbiAgbGV0IHsgaXNEYXRhUm91dGUgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIHJldHVybiBpc0RhdGFSb3V0ZSA/IHVzZU5hdmlnYXRlU3RhYmxlKCkgOiB1c2VOYXZpZ2F0ZVVuc3RhYmxlKCk7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVVuc3RhYmxlKCkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VOYXZpZ2F0ZSgpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGxldCB7IGJhc2VuYW1lLCBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCByb3V0ZVBhdGhuYW1lc0pzb24gPSBKU09OLnN0cmluZ2lmeShnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpKTtcbiAgbGV0IGFjdGl2ZVJlZiA9IFJlYWN0Mi51c2VSZWYoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhY3RpdmVSZWYuY3VycmVudCA9IHRydWU7XG4gIH0pO1xuICBsZXQgbmF2aWdhdGUgPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgKHRvLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIHdhcm5pbmcoYWN0aXZlUmVmLmN1cnJlbnQsIG5hdmlnYXRlRWZmZWN0V2FybmluZyk7XG4gICAgICBpZiAoIWFjdGl2ZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIG5hdmlnYXRvcjIuZ28odG8pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICAgICAgdG8sXG4gICAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgICAgb3B0aW9ucy5yZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICAgICk7XG4gICAgICBpZiAoZGF0YVJvdXRlckNvbnRleHQgPT0gbnVsbCAmJiBiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICAgICAgcGF0aC5wYXRobmFtZSA9IHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gICAgICB9XG4gICAgICAoISFvcHRpb25zLnJlcGxhY2UgPyBuYXZpZ2F0b3IyLnJlcGxhY2UgOiBuYXZpZ2F0b3IyLnB1c2gpKFxuICAgICAgICBwYXRoLFxuICAgICAgICBvcHRpb25zLnN0YXRlLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIH0sXG4gICAgW1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBuYXZpZ2F0b3IyLFxuICAgICAgcm91dGVQYXRobmFtZXNKc29uLFxuICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgIGRhdGFSb3V0ZXJDb250ZXh0XG4gICAgXVxuICApO1xuICByZXR1cm4gbmF2aWdhdGU7XG59XG52YXIgT3V0bGV0Q29udGV4dCA9IFJlYWN0Mi5jcmVhdGVDb250ZXh0KG51bGwpO1xuZnVuY3Rpb24gdXNlT3V0bGV0Q29udGV4dCgpIHtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KE91dGxldENvbnRleHQpO1xufVxuZnVuY3Rpb24gdXNlT3V0bGV0KGNvbnRleHQpIHtcbiAgbGV0IG91dGxldCA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCkub3V0bGV0O1xuICBpZiAob3V0bGV0KSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChPdXRsZXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIG91dGxldCk7XG4gIH1cbiAgcmV0dXJuIG91dGxldDtcbn1cbmZ1bmN0aW9uIHVzZVBhcmFtcygpIHtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlTWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIHJldHVybiByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXJhbXMgOiB7fTtcbn1cbmZ1bmN0aW9uIHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9ID0ge30pIHtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCByb3V0ZVBhdGhuYW1lc0pzb24gPSBKU09OLnN0cmluZ2lmeShnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IHJlc29sdmVUbyhcbiAgICAgIHRvLFxuICAgICAgSlNPTi5wYXJzZShyb3V0ZVBhdGhuYW1lc0pzb24pLFxuICAgICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICAgICksXG4gICAgW3RvLCByb3V0ZVBhdGhuYW1lc0pzb24sIGxvY2F0aW9uUGF0aG5hbWUsIHJlbGF0aXZlXVxuICApO1xufVxuZnVuY3Rpb24gdXNlUm91dGVzKHJvdXRlcywgbG9jYXRpb25BcmcpIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZyk7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcsIGRhdGFSb3V0ZXJTdGF0ZSwgZnV0dXJlKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZVJvdXRlcygpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsIHN0YXRpYzogaXNTdGF0aWMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHsgbWF0Y2hlczogcGFyZW50TWF0Y2hlcyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlTWF0Y2ggPSBwYXJlbnRNYXRjaGVzW3BhcmVudE1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGxldCBwYXJlbnRQYXJhbXMgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXJhbXMgOiB7fTtcbiAgbGV0IHBhcmVudFBhdGhuYW1lID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGF0aG5hbWUgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFBhdGhuYW1lQmFzZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lQmFzZSA6IFwiL1wiO1xuICBsZXQgcGFyZW50Um91dGUgPSByb3V0ZU1hdGNoICYmIHJvdXRlTWF0Y2gucm91dGU7XG4gIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTKSB7XG4gICAgbGV0IHBhcmVudFBhdGggPSBwYXJlbnRSb3V0ZSAmJiBwYXJlbnRSb3V0ZS5wYXRoIHx8IFwiXCI7XG4gICAgd2FybmluZ09uY2UoXG4gICAgICBwYXJlbnRQYXRobmFtZSxcbiAgICAgICFwYXJlbnRSb3V0ZSB8fCBwYXJlbnRQYXRoLmVuZHNXaXRoKFwiKlwiKSB8fCBwYXJlbnRQYXRoLmVuZHNXaXRoKFwiKj9cIiksXG4gICAgICBgWW91IHJlbmRlcmVkIGRlc2NlbmRhbnQgPFJvdXRlcz4gKG9yIGNhbGxlZCBcXGB1c2VSb3V0ZXMoKVxcYCkgYXQgXCIke3BhcmVudFBhdGhuYW1lfVwiICh1bmRlciA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aH1cIj4pIGJ1dCB0aGUgcGFyZW50IHJvdXRlIHBhdGggaGFzIG5vIHRyYWlsaW5nIFwiKlwiLiBUaGlzIG1lYW5zIGlmIHlvdSBuYXZpZ2F0ZSBkZWVwZXIsIHRoZSBwYXJlbnQgd29uJ3QgbWF0Y2ggYW55bW9yZSBhbmQgdGhlcmVmb3JlIHRoZSBjaGlsZCByb3V0ZXMgd2lsbCBuZXZlciByZW5kZXIuXG5cblBsZWFzZSBjaGFuZ2UgdGhlIHBhcmVudCA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aH1cIj4gdG8gPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGggPT09IFwiL1wiID8gXCIqXCIgOiBgJHtwYXJlbnRQYXRofS8qYH1cIj4uYFxuICAgICk7XG4gIH1cbiAgbGV0IGxvY2F0aW9uRnJvbUNvbnRleHQgPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbG9jYXRpb247XG4gIGlmIChsb2NhdGlvbkFyZykge1xuICAgIGxldCBwYXJzZWRMb2NhdGlvbkFyZyA9IHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBwYXJlbnRQYXRobmFtZUJhc2UgPT09IFwiL1wiIHx8IHBhcnNlZExvY2F0aW9uQXJnLnBhdGhuYW1lPy5zdGFydHNXaXRoKHBhcmVudFBhdGhuYW1lQmFzZSksXG4gICAgICBgV2hlbiBvdmVycmlkaW5nIHRoZSBsb2NhdGlvbiB1c2luZyBcXGA8Um91dGVzIGxvY2F0aW9uPlxcYCBvciBcXGB1c2VSb3V0ZXMocm91dGVzLCBsb2NhdGlvbilcXGAsIHRoZSBsb2NhdGlvbiBwYXRobmFtZSBtdXN0IGJlZ2luIHdpdGggdGhlIHBvcnRpb24gb2YgdGhlIFVSTCBwYXRobmFtZSB0aGF0IHdhcyBtYXRjaGVkIGJ5IGFsbCBwYXJlbnQgcm91dGVzLiBUaGUgY3VycmVudCBwYXRobmFtZSBiYXNlIGlzIFwiJHtwYXJlbnRQYXRobmFtZUJhc2V9XCIgYnV0IHBhdGhuYW1lIFwiJHtwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZX1cIiB3YXMgZ2l2ZW4gaW4gdGhlIFxcYGxvY2F0aW9uXFxgIHByb3AuYFxuICAgICk7XG4gICAgbG9jYXRpb24gPSBwYXJzZWRMb2NhdGlvbkFyZztcbiAgfSBlbHNlIHtcbiAgICBsb2NhdGlvbiA9IGxvY2F0aW9uRnJvbUNvbnRleHQ7XG4gIH1cbiAgbGV0IHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgXCIvXCI7XG4gIGxldCByZW1haW5pbmdQYXRobmFtZSA9IHBhdGhuYW1lO1xuICBpZiAocGFyZW50UGF0aG5hbWVCYXNlICE9PSBcIi9cIikge1xuICAgIGxldCBwYXJlbnRTZWdtZW50cyA9IHBhcmVudFBhdGhuYW1lQmFzZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIGxldCBzZWdtZW50cyA9IHBhdGhuYW1lLnJlcGxhY2UoL15cXC8vLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gICAgcmVtYWluaW5nUGF0aG5hbWUgPSBcIi9cIiArIHNlZ21lbnRzLnNsaWNlKHBhcmVudFNlZ21lbnRzLmxlbmd0aCkuam9pbihcIi9cIik7XG4gIH1cbiAgbGV0IG1hdGNoZXMgPSAhaXNTdGF0aWMgJiYgZGF0YVJvdXRlclN0YXRlICYmIGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzICYmIGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDAgPyBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcyA6IG1hdGNoUm91dGVzKHJvdXRlcywgeyBwYXRobmFtZTogcmVtYWluaW5nUGF0aG5hbWUgfSk7XG4gIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTKSB7XG4gICAgd2FybmluZyhcbiAgICAgIHBhcmVudFJvdXRlIHx8IG1hdGNoZXMgIT0gbnVsbCxcbiAgICAgIGBObyByb3V0ZXMgbWF0Y2hlZCBsb2NhdGlvbiBcIiR7bG9jYXRpb24ucGF0aG5hbWV9JHtsb2NhdGlvbi5zZWFyY2h9JHtsb2NhdGlvbi5oYXNofVwiIGBcbiAgICApO1xuICAgIHdhcm5pbmcoXG4gICAgICBtYXRjaGVzID09IG51bGwgfHwgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmVsZW1lbnQgIT09IHZvaWQgMCB8fCBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuQ29tcG9uZW50ICE9PSB2b2lkIDAgfHwgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmxhenkgIT09IHZvaWQgMCxcbiAgICAgIGBNYXRjaGVkIGxlYWYgcm91dGUgYXQgbG9jYXRpb24gXCIke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1cIiBkb2VzIG5vdCBoYXZlIGFuIGVsZW1lbnQgb3IgQ29tcG9uZW50LiBUaGlzIG1lYW5zIGl0IHdpbGwgcmVuZGVyIGFuIDxPdXRsZXQgLz4gd2l0aCBhIG51bGwgdmFsdWUgYnkgZGVmYXVsdCByZXN1bHRpbmcgaW4gYW4gXCJlbXB0eVwiIHBhZ2UuYFxuICAgICk7XG4gIH1cbiAgbGV0IHJlbmRlcmVkTWF0Y2hlcyA9IF9yZW5kZXJNYXRjaGVzKFxuICAgIG1hdGNoZXMgJiYgbWF0Y2hlcy5tYXAoXG4gICAgICAobWF0Y2gpID0+IE9iamVjdC5hc3NpZ24oe30sIG1hdGNoLCB7XG4gICAgICAgIHBhcmFtczogT2JqZWN0LmFzc2lnbih7fSwgcGFyZW50UGFyYW1zLCBtYXRjaC5wYXJhbXMpLFxuICAgICAgICBwYXRobmFtZTogam9pblBhdGhzKFtcbiAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uID8gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbihtYXRjaC5wYXRobmFtZSkucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZVxuICAgICAgICBdKSxcbiAgICAgICAgcGF0aG5hbWVCYXNlOiBtYXRjaC5wYXRobmFtZUJhc2UgPT09IFwiL1wiID8gcGFyZW50UGF0aG5hbWVCYXNlIDogam9pblBhdGhzKFtcbiAgICAgICAgICBwYXJlbnRQYXRobmFtZUJhc2UsXG4gICAgICAgICAgLy8gUmUtZW5jb2RlIHBhdGhuYW1lcyB0aGF0IHdlcmUgZGVjb2RlZCBpbnNpZGUgbWF0Y2hSb3V0ZXNcbiAgICAgICAgICBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uID8gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbihtYXRjaC5wYXRobmFtZUJhc2UpLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVCYXNlXG4gICAgICAgIF0pXG4gICAgICB9KVxuICAgICksXG4gICAgcGFyZW50TWF0Y2hlcyxcbiAgICBkYXRhUm91dGVyU3RhdGUsXG4gICAgZnV0dXJlXG4gICk7XG4gIGlmIChsb2NhdGlvbkFyZyAmJiByZW5kZXJlZE1hdGNoZXMpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgICAgICBzZWFyY2g6IFwiXCIsXG4gICAgICAgICAgICBoYXNoOiBcIlwiLFxuICAgICAgICAgICAgc3RhdGU6IG51bGwsXG4gICAgICAgICAgICBrZXk6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgLi4ubG9jYXRpb25cbiAgICAgICAgICB9LFxuICAgICAgICAgIG5hdmlnYXRpb25UeXBlOiBcIlBPUFwiIC8qIFBvcCAqL1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVuZGVyZWRNYXRjaGVzXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWRNYXRjaGVzO1xufVxuZnVuY3Rpb24gRGVmYXVsdEVycm9yQ29tcG9uZW50KCkge1xuICBsZXQgZXJyb3IgPSB1c2VSb3V0ZUVycm9yKCk7XG4gIGxldCBtZXNzYWdlID0gaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpID8gYCR7ZXJyb3Iuc3RhdHVzfSAke2Vycm9yLnN0YXR1c1RleHR9YCA6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICBsZXQgc3RhY2sgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiBudWxsO1xuICBsZXQgbGlnaHRncmV5ID0gXCJyZ2JhKDIwMCwyMDAsMjAwLCAwLjUpXCI7XG4gIGxldCBwcmVTdHlsZXMgPSB7IHBhZGRpbmc6IFwiMC41cmVtXCIsIGJhY2tncm91bmRDb2xvcjogbGlnaHRncmV5IH07XG4gIGxldCBjb2RlU3R5bGVzID0geyBwYWRkaW5nOiBcIjJweCA0cHhcIiwgYmFja2dyb3VuZENvbG9yOiBsaWdodGdyZXkgfTtcbiAgbGV0IGRldkluZm8gPSBudWxsO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIkVycm9yIGhhbmRsZWQgYnkgUmVhY3QgUm91dGVyIGRlZmF1bHQgRXJyb3JCb3VuZGFyeTpcIixcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgICBkZXZJbmZvID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIlxcdXsxRjRCRn0gSGV5IGRldmVsb3BlciBcXHV7MUY0NEJ9XCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgd2hlbiB5b3VyIGFwcCB0aHJvd3MgZXJyb3JzIGJ5IHByb3ZpZGluZyB5b3VyIG93biBcIiwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7IHN0eWxlOiBjb2RlU3R5bGVzIH0sIFwiRXJyb3JCb3VuZGFyeVwiKSwgXCIgb3JcIiwgXCIgXCIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImNvZGVcIiwgeyBzdHlsZTogY29kZVN0eWxlcyB9LCBcImVycm9yRWxlbWVudFwiKSwgXCIgcHJvcCBvbiB5b3VyIHJvdXRlLlwiKSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSZWFjdDIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImgyXCIsIG51bGwsIFwiVW5leHBlY3RlZCBBcHBsaWNhdGlvbiBFcnJvciFcIiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImgzXCIsIHsgc3R5bGU6IHsgZm9udFN0eWxlOiBcIml0YWxpY1wiIH0gfSwgbWVzc2FnZSksIHN0YWNrID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwicHJlXCIsIHsgc3R5bGU6IHByZVN0eWxlcyB9LCBzdGFjaykgOiBudWxsLCBkZXZJbmZvKTtcbn1cbnZhciBkZWZhdWx0RXJyb3JFbGVtZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KERlZmF1bHRFcnJvckNvbXBvbmVudCwgbnVsbCk7XG52YXIgUmVuZGVyRXJyb3JCb3VuZGFyeSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QyLkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24sXG4gICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbixcbiAgICAgIGVycm9yOiBwcm9wcy5lcnJvclxuICAgIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUubG9jYXRpb24gIT09IHByb3BzLmxvY2F0aW9uIHx8IHN0YXRlLnJldmFsaWRhdGlvbiAhPT0gXCJpZGxlXCIgJiYgcHJvcHMucmV2YWxpZGF0aW9uID09PSBcImlkbGVcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IHByb3BzLmVycm9yLFxuICAgICAgICBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24sXG4gICAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IHByb3BzLmVycm9yICE9PSB2b2lkIDAgPyBwcm9wcy5lcnJvciA6IHN0YXRlLmVycm9yLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24gfHwgc3RhdGUucmV2YWxpZGF0aW9uXG4gICAgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiUmVhY3QgUm91dGVyIGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgIGVycm9yLFxuICAgICAgZXJyb3JJbmZvXG4gICAgKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuZXJyb3IgIT09IHZvaWQgMCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSb3V0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHRoaXMucHJvcHMucm91dGVDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIFJvdXRlRXJyb3JDb250ZXh0LlByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICB2YWx1ZTogdGhpcy5zdGF0ZS5lcnJvcixcbiAgICAgICAgY2hpbGRyZW46IHRoaXMucHJvcHMuY29tcG9uZW50XG4gICAgICB9XG4gICAgKSkgOiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG59O1xuZnVuY3Rpb24gUmVuZGVyZWRSb3V0ZSh7IHJvdXRlQ29udGV4dCwgbWF0Y2gsIGNoaWxkcmVuIH0pIHtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpZiAoZGF0YVJvdXRlckNvbnRleHQgJiYgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljICYmIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY0NvbnRleHQgJiYgKG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBtYXRjaC5yb3V0ZS5FcnJvckJvdW5kYXJ5KSkge1xuICAgIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY0NvbnRleHQuX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJvdXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcm91dGVDb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIF9yZW5kZXJNYXRjaGVzKG1hdGNoZXMsIHBhcmVudE1hdGNoZXMgPSBbXSwgZGF0YVJvdXRlclN0YXRlID0gbnVsbCwgZnV0dXJlID0gbnVsbCkge1xuICBpZiAobWF0Y2hlcyA9PSBudWxsKSB7XG4gICAgaWYgKCFkYXRhUm91dGVyU3RhdGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlLmVycm9ycykge1xuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzO1xuICAgIH0gZWxzZSBpZiAocGFyZW50TWF0Y2hlcy5sZW5ndGggPT09IDAgJiYgIWRhdGFSb3V0ZXJTdGF0ZS5pbml0aWFsaXplZCAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBtYXRjaGVzID0gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gbWF0Y2hlcztcbiAgbGV0IGVycm9ycyA9IGRhdGFSb3V0ZXJTdGF0ZT8uZXJyb3JzO1xuICBpZiAoZXJyb3JzICE9IG51bGwpIHtcbiAgICBsZXQgZXJyb3JJbmRleCA9IHJlbmRlcmVkTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAobSkgPT4gbS5yb3V0ZS5pZCAmJiBlcnJvcnM/LlttLnJvdXRlLmlkXSAhPT0gdm9pZCAwXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBlcnJvckluZGV4ID49IDAsXG4gICAgICBgQ291bGQgbm90IGZpbmQgYSBtYXRjaGluZyByb3V0ZSBmb3IgZXJyb3JzIG9uIHJvdXRlIElEczogJHtPYmplY3Qua2V5cyhcbiAgICAgICAgZXJyb3JzXG4gICAgICApLmpvaW4oXCIsXCIpfWBcbiAgICApO1xuICAgIHJlbmRlcmVkTWF0Y2hlcyA9IHJlbmRlcmVkTWF0Y2hlcy5zbGljZShcbiAgICAgIDAsXG4gICAgICBNYXRoLm1pbihyZW5kZXJlZE1hdGNoZXMubGVuZ3RoLCBlcnJvckluZGV4ICsgMSlcbiAgICApO1xuICB9XG4gIGxldCByZW5kZXJGYWxsYmFjayA9IGZhbHNlO1xuICBsZXQgZmFsbGJhY2tJbmRleCA9IC0xO1xuICBpZiAoZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJlZE1hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBtYXRjaCA9IHJlbmRlcmVkTWF0Y2hlc1tpXTtcbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5IeWRyYXRlRmFsbGJhY2sgfHwgbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICBmYWxsYmFja0luZGV4ID0gaTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCkge1xuICAgICAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnM6IGVycm9yczIgfSA9IGRhdGFSb3V0ZXJTdGF0ZTtcbiAgICAgICAgbGV0IG5lZWRzVG9SdW5Mb2FkZXIgPSBtYXRjaC5yb3V0ZS5sb2FkZXIgJiYgIWxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkobWF0Y2gucm91dGUuaWQpICYmICghZXJyb3JzMiB8fCBlcnJvcnMyW21hdGNoLnJvdXRlLmlkXSA9PT0gdm9pZCAwKTtcbiAgICAgICAgaWYgKG1hdGNoLnJvdXRlLmxhenkgfHwgbmVlZHNUb1J1bkxvYWRlcikge1xuICAgICAgICAgIHJlbmRlckZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgZmFsbGJhY2tJbmRleCArIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZW5kZXJlZE1hdGNoZXMgPSBbcmVuZGVyZWRNYXRjaGVzWzBdXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcy5yZWR1Y2VSaWdodCgob3V0bGV0LCBtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBsZXQgZXJyb3I7XG4gICAgbGV0IHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IGZhbHNlO1xuICAgIGxldCBlcnJvckVsZW1lbnQgPSBudWxsO1xuICAgIGxldCBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbnVsbDtcbiAgICBpZiAoZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgICBlcnJvciA9IGVycm9ycyAmJiBtYXRjaC5yb3V0ZS5pZCA/IGVycm9yc1ttYXRjaC5yb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBlcnJvckVsZW1lbnQgPSBtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgZGVmYXVsdEVycm9yRWxlbWVudDtcbiAgICAgIGlmIChyZW5kZXJGYWxsYmFjaykge1xuICAgICAgICBpZiAoZmFsbGJhY2tJbmRleCA8IDAgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICB3YXJuaW5nT25jZShcbiAgICAgICAgICAgIFwicm91dGUtZmFsbGJhY2tcIixcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgXCJObyBgSHlkcmF0ZUZhbGxiYWNrYCBlbGVtZW50IHByb3ZpZGVkIHRvIHJlbmRlciBkdXJpbmcgaW5pdGlhbCBoeWRyYXRpb25cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChmYWxsYmFja0luZGV4ID09PSBpbmRleCkge1xuICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG1hdGNoLnJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWF0Y2hlczIgPSBwYXJlbnRNYXRjaGVzLmNvbmNhdChyZW5kZXJlZE1hdGNoZXMuc2xpY2UoMCwgaW5kZXggKyAxKSk7XG4gICAgbGV0IGdldENoaWxkcmVuID0gKCkgPT4ge1xuICAgICAgbGV0IGNoaWxkcmVuO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZXJyb3JFbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2spIHtcbiAgICAgICAgY2hpbGRyZW4gPSBoeWRyYXRlRmFsbGJhY2tFbGVtZW50O1xuICAgICAgfSBlbHNlIGlmIChtYXRjaC5yb3V0ZS5Db21wb25lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQobWF0Y2gucm91dGUuQ29tcG9uZW50LCBudWxsKTtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2gucm91dGUuZWxlbWVudCkge1xuICAgICAgICBjaGlsZHJlbiA9IG1hdGNoLnJvdXRlLmVsZW1lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IG91dGxldDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlbmRlcmVkUm91dGUsXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICByb3V0ZUNvbnRleHQ6IHtcbiAgICAgICAgICAgIG91dGxldCxcbiAgICAgICAgICAgIG1hdGNoZXM6IG1hdGNoZXMyLFxuICAgICAgICAgICAgaXNEYXRhUm91dGU6IGRhdGFSb3V0ZXJTdGF0ZSAhPSBudWxsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gICAgcmV0dXJuIGRhdGFSb3V0ZXJTdGF0ZSAmJiAobWF0Y2gucm91dGUuRXJyb3JCb3VuZGFyeSB8fCBtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgaW5kZXggPT09IDApID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgUmVuZGVyRXJyb3JCb3VuZGFyeSxcbiAgICAgIHtcbiAgICAgICAgbG9jYXRpb246IGRhdGFSb3V0ZXJTdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBkYXRhUm91dGVyU3RhdGUucmV2YWxpZGF0aW9uLFxuICAgICAgICBjb21wb25lbnQ6IGVycm9yRWxlbWVudCxcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGNoaWxkcmVuOiBnZXRDaGlsZHJlbigpLFxuICAgICAgICByb3V0ZUNvbnRleHQ6IHsgb3V0bGV0OiBudWxsLCBtYXRjaGVzOiBtYXRjaGVzMiwgaXNEYXRhUm91dGU6IHRydWUgfVxuICAgICAgfVxuICAgICkgOiBnZXRDaGlsZHJlbigpO1xuICB9LCBudWxsKTtcbn1cbmZ1bmN0aW9uIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpIHtcbiAgcmV0dXJuIGAke2hvb2tOYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgZGF0YSByb3V0ZXIuICBTZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vZW4vbWFpbi9yb3V0ZXJzL3BpY2tpbmctYS1yb3V0ZXIuYDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0KGhvb2tOYW1lKSB7XG4gIGxldCBjdHggPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudChjdHgsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIGN0eDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJTdGF0ZShob29rTmFtZSkge1xuICBsZXQgc3RhdGUgPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHN0YXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlQ29udGV4dChob29rTmFtZSkge1xuICBsZXQgcm91dGUgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQocm91dGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIHJvdXRlO1xufVxuZnVuY3Rpb24gdXNlQ3VycmVudFJvdXRlSWQoaG9va05hbWUpIHtcbiAgbGV0IHJvdXRlID0gdXNlUm91dGVDb250ZXh0KGhvb2tOYW1lKTtcbiAgbGV0IHRoaXNSb3V0ZSA9IHJvdXRlLm1hdGNoZXNbcm91dGUubWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgaW52YXJpYW50KFxuICAgIHRoaXNSb3V0ZS5yb3V0ZS5pZCxcbiAgICBgJHtob29rTmFtZX0gY2FuIG9ubHkgYmUgdXNlZCBvbiByb3V0ZXMgdGhhdCBjb250YWluIGEgdW5pcXVlIFwiaWRcImBcbiAgKTtcbiAgcmV0dXJuIHRoaXNSb3V0ZS5yb3V0ZS5pZDtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlSWQoKSB7XG4gIHJldHVybiB1c2VDdXJyZW50Um91dGVJZChcInVzZVJvdXRlSWRcIiAvKiBVc2VSb3V0ZUlkICovKTtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRpb24oKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZU5hdmlnYXRpb25cIiAvKiBVc2VOYXZpZ2F0aW9uICovKTtcbiAgcmV0dXJuIHN0YXRlLm5hdmlnYXRpb247XG59XG5mdW5jdGlvbiB1c2VSZXZhbGlkYXRvcigpIHtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VSZXZhbGlkYXRvclwiIC8qIFVzZVJldmFsaWRhdG9yICovKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUmV2YWxpZGF0b3JcIiAvKiBVc2VSZXZhbGlkYXRvciAqLyk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYXN5bmMgcmV2YWxpZGF0ZSgpIHtcbiAgICAgICAgYXdhaXQgZGF0YVJvdXRlckNvbnRleHQucm91dGVyLnJldmFsaWRhdGUoKTtcbiAgICAgIH0sXG4gICAgICBzdGF0ZTogc3RhdGUucmV2YWxpZGF0aW9uXG4gICAgfSksXG4gICAgW2RhdGFSb3V0ZXJDb250ZXh0LnJvdXRlciwgc3RhdGUucmV2YWxpZGF0aW9uXVxuICApO1xufVxuZnVuY3Rpb24gdXNlTWF0Y2hlcygpIHtcbiAgbGV0IHsgbWF0Y2hlcywgbG9hZGVyRGF0YSB9ID0gdXNlRGF0YVJvdXRlclN0YXRlKFxuICAgIFwidXNlTWF0Y2hlc1wiIC8qIFVzZU1hdGNoZXMgKi9cbiAgKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBsb2FkZXJEYXRhKSksXG4gICAgW21hdGNoZXMsIGxvYWRlckRhdGFdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VMb2FkZXJEYXRhKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlUm91dGVMb2FkZXJEYXRhKHJvdXRlSWQpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUm91dGVMb2FkZXJEYXRhXCIgLyogVXNlUm91dGVMb2FkZXJEYXRhICovKTtcbiAgcmV0dXJuIHN0YXRlLmxvYWRlckRhdGFbcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VBY3Rpb25EYXRhKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VBY3Rpb25EYXRhXCIgLyogVXNlQWN0aW9uRGF0YSAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VMb2FkZXJEYXRhXCIgLyogVXNlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhID8gc3RhdGUuYWN0aW9uRGF0YVtyb3V0ZUlkXSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlRXJyb3IoKSB7XG4gIGxldCBlcnJvciA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlRXJyb3JDb250ZXh0KTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlUm91dGVFcnJvclwiIC8qIFVzZVJvdXRlRXJyb3IgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlUm91dGVFcnJvclwiIC8qIFVzZVJvdXRlRXJyb3IgKi8pO1xuICBpZiAoZXJyb3IgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICByZXR1cm4gc3RhdGUuZXJyb3JzPy5bcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VBc3luY1ZhbHVlKCkge1xuICBsZXQgdmFsdWUgPSBSZWFjdDIudXNlQ29udGV4dChBd2FpdENvbnRleHQpO1xuICByZXR1cm4gdmFsdWU/Ll9kYXRhO1xufVxuZnVuY3Rpb24gdXNlQXN5bmNFcnJvcigpIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QyLnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZXJyb3I7XG59XG52YXIgYmxvY2tlcklkID0gMDtcbmZ1bmN0aW9uIHVzZUJsb2NrZXIoc2hvdWxkQmxvY2spIHtcbiAgbGV0IHsgcm91dGVyLCBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VCbG9ja2VyXCIgLyogVXNlQmxvY2tlciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZUJsb2NrZXJcIiAvKiBVc2VCbG9ja2VyICovKTtcbiAgbGV0IFtibG9ja2VyS2V5LCBzZXRCbG9ja2VyS2V5XSA9IFJlYWN0Mi51c2VTdGF0ZShcIlwiKTtcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbiA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICAoYXJnKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHNob3VsZEJsb2NrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuICEhc2hvdWxkQmxvY2s7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZW5hbWUgPT09IFwiL1wiKSB7XG4gICAgICAgIHJldHVybiBzaG91bGRCbG9jayhhcmcpO1xuICAgICAgfVxuICAgICAgbGV0IHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSA9IGFyZztcbiAgICAgIHJldHVybiBzaG91bGRCbG9jayh7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShjdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBjdXJyZW50TG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dExvY2F0aW9uOiB7XG4gICAgICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOiBzdHJpcEJhc2VuYW1lKG5leHRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IG5leHRMb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LFxuICAgICAgICBoaXN0b3J5QWN0aW9uXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtiYXNlbmFtZSwgc2hvdWxkQmxvY2tdXG4gICk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBrZXkgPSBTdHJpbmcoKytibG9ja2VySWQpO1xuICAgIHNldEJsb2NrZXJLZXkoa2V5KTtcbiAgICByZXR1cm4gKCkgPT4gcm91dGVyLmRlbGV0ZUJsb2NrZXIoa2V5KTtcbiAgfSwgW3JvdXRlcl0pO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlcktleSAhPT0gXCJcIikge1xuICAgICAgcm91dGVyLmdldEJsb2NrZXIoYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uKTtcbiAgICB9XG4gIH0sIFtyb3V0ZXIsIGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0pO1xuICByZXR1cm4gYmxvY2tlcktleSAmJiBzdGF0ZS5ibG9ja2Vycy5oYXMoYmxvY2tlcktleSkgPyBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSkgOiBJRExFX0JMT0NLRVI7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0ZVN0YWJsZSgpIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dChcInVzZU5hdmlnYXRlXCIgLyogVXNlTmF2aWdhdGVTdGFibGUgKi8pO1xuICBsZXQgaWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZU5hdmlnYXRlXCIgLyogVXNlTmF2aWdhdGVTdGFibGUgKi8pO1xuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QyLnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG4gIGxldCBuYXZpZ2F0ZSA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodG8sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcm91dGVyLm5hdmlnYXRlKHRvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJvdXRlci5uYXZpZ2F0ZSh0bywgeyBmcm9tUm91dGVJZDogaWQsIC4uLm9wdGlvbnMgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLCBpZF1cbiAgKTtcbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxudmFyIGFscmVhZHlXYXJuZWQgPSB7fTtcbmZ1bmN0aW9uIHdhcm5pbmdPbmNlKGtleSwgY29uZCwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmQgJiYgIWFscmVhZHlXYXJuZWRba2V5XSkge1xuICAgIGFscmVhZHlXYXJuZWRba2V5XSA9IHRydWU7XG4gICAgd2FybmluZyhmYWxzZSwgbWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3dhcm5pbmdzLnRzXG52YXIgYWxyZWFkeVdhcm5lZDIgPSB7fTtcbmZ1bmN0aW9uIHdhcm5PbmNlKGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmRpdGlvbiAmJiAhYWxyZWFkeVdhcm5lZDJbbWVzc2FnZV0pIHtcbiAgICBhbHJlYWR5V2FybmVkMlttZXNzYWdlXSA9IHRydWU7XG4gICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9jb21wb25lbnRzLnRzeFxudmFyIEVOQUJMRV9ERVZfV0FSTklOR1MyID0gdHJ1ZTtcbmZ1bmN0aW9uIG1hcFJvdXRlUHJvcGVydGllcyhyb3V0ZSkge1xuICBsZXQgdXBkYXRlcyA9IHtcbiAgICAvLyBOb3RlOiB0aGlzIGNoZWNrIGFsc28gb2NjdXJzIGluIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbiBzbyB1cGRhdGVcbiAgICAvLyB0aGVyZSBpZiB5b3UgY2hhbmdlIHRoaXMgLS0gcGxlYXNlIGFuZCB0aGFuayB5b3UhXG4gICAgaGFzRXJyb3JCb3VuZGFyeTogcm91dGUuaGFzRXJyb3JCb3VuZGFyeSB8fCByb3V0ZS5FcnJvckJvdW5kYXJ5ICE9IG51bGwgfHwgcm91dGUuZXJyb3JFbGVtZW50ICE9IG51bGxcbiAgfTtcbiAgaWYgKHJvdXRlLkNvbXBvbmVudCkge1xuICAgIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTMikge1xuICAgICAgaWYgKHJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgQ29tcG9uZW50YCBhbmQgYGVsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBgQ29tcG9uZW50YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlbGVtZW50OiBSZWFjdDMuY3JlYXRlRWxlbWVudChyb3V0ZS5Db21wb25lbnQpLFxuICAgICAgQ29tcG9uZW50OiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICBpZiAocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MyKSB7XG4gICAgICBpZiAocm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBIeWRyYXRlRmFsbGJhY2tgIGFuZCBgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudGAgb24geW91ciByb3V0ZSAtIGBIeWRyYXRlRmFsbGJhY2tgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IFJlYWN0My5jcmVhdGVFbGVtZW50KHJvdXRlLkh5ZHJhdGVGYWxsYmFjayksXG4gICAgICBIeWRyYXRlRmFsbGJhY2s6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIGlmIChyb3V0ZS5FcnJvckJvdW5kYXJ5KSB7XG4gICAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MyKSB7XG4gICAgICBpZiAocm91dGUuZXJyb3JFbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYEVycm9yQm91bmRhcnlgIGFuZCBgZXJyb3JFbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gYEVycm9yQm91bmRhcnlgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGVycm9yRWxlbWVudDogUmVhY3QzLmNyZWF0ZUVsZW1lbnQocm91dGUuRXJyb3JCb3VuZGFyeSksXG4gICAgICBFcnJvckJvdW5kYXJ5OiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdXBkYXRlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeVJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIHVuc3RhYmxlX2dldENvbnRleHQ6IG9wdHM/LnVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllczogb3B0cz8uaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXg6IG9wdHM/LmluaXRpYWxJbmRleFxuICAgIH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEsXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25cbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxudmFyIERlZmVycmVkID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXR1cyA9IFwicGVuZGluZ1wiO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMucmVzb2x2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBcInJlc29sdmVkXCI7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLnJlamVjdCA9IChyZWFzb24pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gUm91dGVyUHJvdmlkZXIoe1xuICByb3V0ZXIsXG4gIGZsdXNoU3luYzogcmVhY3REb21GbHVzaFN5bmNJbXBsXG59KSB7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDMudXNlU3RhdGUocm91dGVyLnN0YXRlKTtcbiAgbGV0IFtwZW5kaW5nU3RhdGUsIHNldFBlbmRpbmdTdGF0ZV0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFt2dENvbnRleHQsIHNldFZ0Q29udGV4dF0gPSBSZWFjdDMudXNlU3RhdGUoe1xuICAgIGlzVHJhbnNpdGlvbmluZzogZmFsc2VcbiAgfSk7XG4gIGxldCBbcmVuZGVyRGZkLCBzZXRSZW5kZXJEZmRdID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbdHJhbnNpdGlvbiwgc2V0VHJhbnNpdGlvbl0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFtpbnRlcnJ1cHRpb24sIHNldEludGVycnVwdGlvbl0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IGZldGNoZXJEYXRhID0gUmVhY3QzLnVzZVJlZigvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QzLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSwgeyBkZWxldGVkRmV0Y2hlcnMsIGZsdXNoU3luYywgdmlld1RyYW5zaXRpb25PcHRzIH0pID0+IHtcbiAgICAgIG5ld1N0YXRlLmZldGNoZXJzLmZvckVhY2goKGZldGNoZXIsIGtleSkgPT4ge1xuICAgICAgICBpZiAoZmV0Y2hlci5kYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBmZXRjaGVyRGF0YS5jdXJyZW50LnNldChrZXksIGZldGNoZXIuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGVsZXRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gZmV0Y2hlckRhdGEuY3VycmVudC5kZWxldGUoa2V5KSk7XG4gICAgICB3YXJuT25jZShcbiAgICAgICAgZmx1c2hTeW5jID09PSBmYWxzZSB8fCByZWFjdERvbUZsdXNoU3luY0ltcGwgIT0gbnVsbCxcbiAgICAgICAgJ1lvdSBwcm92aWRlZCB0aGUgYGZsdXNoU3luY2Agb3B0aW9uIHRvIGEgcm91dGVyIHVwZGF0ZSwgYnV0IHlvdSBhcmUgbm90IHVzaW5nIHRoZSBgPFJvdXRlclByb3ZpZGVyPmAgZnJvbSBgcmVhY3Qtcm91dGVyL2RvbWAgc28gYFJlYWN0RE9NLmZsdXNoU3luYygpYCBpcyB1bmF2YWlsYWJsZS4gIFBsZWFzZSB1cGRhdGUgeW91ciBhcHAgdG8gYGltcG9ydCB7IFJvdXRlclByb3ZpZGVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci9kb21cImAgYW5kIGVuc3VyZSB5b3UgaGF2ZSBgcmVhY3QtZG9tYCBpbnN0YWxsZWQgYXMgYSBkZXBlbmRlbmN5IHRvIHVzZSB0aGUgYGZsdXNoU3luY2Agb3B0aW9uLidcbiAgICAgICk7XG4gICAgICBsZXQgaXNWaWV3VHJhbnNpdGlvbkF2YWlsYWJsZSA9IHJvdXRlci53aW5kb3cgIT0gbnVsbCAmJiByb3V0ZXIud2luZG93LmRvY3VtZW50ICE9IG51bGwgJiYgdHlwZW9mIHJvdXRlci53aW5kb3cuZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbiA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9PSBudWxsIHx8IGlzVmlld1RyYW5zaXRpb25BdmFpbGFibGUsXG4gICAgICAgIFwiWW91IHByb3ZpZGVkIHRoZSBgdmlld1RyYW5zaXRpb25gIG9wdGlvbiB0byBhIHJvdXRlciB1cGRhdGUsIGJ1dCB5b3UgZG8gbm90IGFwcGVhciB0byBiZSBydW5uaW5nIGluIGEgRE9NIGVudmlyb25tZW50IGFzIGB3aW5kb3cuc3RhcnRWaWV3VHJhbnNpdGlvbmAgaXMgbm90IGF2YWlsYWJsZS5cIlxuICAgICAgKTtcbiAgICAgIGlmICghdmlld1RyYW5zaXRpb25PcHRzIHx8ICFpc1ZpZXdUcmFuc2l0aW9uQXZhaWxhYmxlKSB7XG4gICAgICAgIGlmIChyZWFjdERvbUZsdXNoU3luY0ltcGwgJiYgZmx1c2hTeW5jKSB7XG4gICAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFJlYWN0My5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAmJiBmbHVzaFN5bmMpIHtcbiAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHtcbiAgICAgICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICAgICAgcmVuZGVyRGZkICYmIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uLnNraXBUcmFuc2l0aW9uKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFZ0Q29udGV4dCh7XG4gICAgICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgICAgICBmbHVzaFN5bmM6IHRydWUsXG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCB0ID0gcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKCgpID0+IHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0LmZpbmlzaGVkLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRSZW5kZXJEZmQodm9pZCAwKTtcbiAgICAgICAgICAgIHNldFRyYW5zaXRpb24odm9pZCAwKTtcbiAgICAgICAgICAgIHNldFBlbmRpbmdTdGF0ZSh2b2lkIDApO1xuICAgICAgICAgICAgc2V0VnRDb250ZXh0KHsgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiBzZXRUcmFuc2l0aW9uKHQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgcmVuZGVyRGZkICYmIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgICAgIHRyYW5zaXRpb24uc2tpcFRyYW5zaXRpb24oKTtcbiAgICAgICAgc2V0SW50ZXJydXB0aW9uKHtcbiAgICAgICAgICBzdGF0ZTogbmV3U3RhdGUsXG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMuY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLm5leHRMb2NhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFBlbmRpbmdTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIHNldFZ0Q29udGV4dCh7XG4gICAgICAgICAgaXNUcmFuc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICAgIGZsdXNoU3luYzogZmFsc2UsXG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMuY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLm5leHRMb2NhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtyb3V0ZXIud2luZG93LCByZWFjdERvbUZsdXNoU3luY0ltcGwsIHRyYW5zaXRpb24sIHJlbmRlckRmZF1cbiAgKTtcbiAgUmVhY3QzLnVzZUxheW91dEVmZmVjdCgoKSA9PiByb3V0ZXIuc3Vic2NyaWJlKHNldFN0YXRlKSwgW3JvdXRlciwgc2V0U3RhdGVdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcgJiYgIXZ0Q29udGV4dC5mbHVzaFN5bmMpIHtcbiAgICAgIHNldFJlbmRlckRmZChuZXcgRGVmZXJyZWQoKSk7XG4gICAgfVxuICB9LCBbdnRDb250ZXh0XSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJEZmQgJiYgcGVuZGluZ1N0YXRlICYmIHJvdXRlci53aW5kb3cpIHtcbiAgICAgIGxldCBuZXdTdGF0ZSA9IHBlbmRpbmdTdGF0ZTtcbiAgICAgIGxldCByZW5kZXJQcm9taXNlID0gcmVuZGVyRGZkLnByb21pc2U7XG4gICAgICBsZXQgdHJhbnNpdGlvbjIgPSByb3V0ZXIud2luZG93LmRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24oYXN5bmMgKCkgPT4ge1xuICAgICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICBhd2FpdCByZW5kZXJQcm9taXNlO1xuICAgICAgfSk7XG4gICAgICB0cmFuc2l0aW9uMi5maW5pc2hlZC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgc2V0UmVuZGVyRGZkKHZvaWQgMCk7XG4gICAgICAgIHNldFRyYW5zaXRpb24odm9pZCAwKTtcbiAgICAgICAgc2V0UGVuZGluZ1N0YXRlKHZvaWQgMCk7XG4gICAgICAgIHNldFZ0Q29udGV4dCh7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSk7XG4gICAgICB9KTtcbiAgICAgIHNldFRyYW5zaXRpb24odHJhbnNpdGlvbjIpO1xuICAgIH1cbiAgfSwgW3BlbmRpbmdTdGF0ZSwgcmVuZGVyRGZkLCByb3V0ZXIud2luZG93XSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChyZW5kZXJEZmQgJiYgcGVuZGluZ1N0YXRlICYmIHN0YXRlLmxvY2F0aW9uLmtleSA9PT0gcGVuZGluZ1N0YXRlLmxvY2F0aW9uLmtleSkge1xuICAgICAgcmVuZGVyRGZkLnJlc29sdmUoKTtcbiAgICB9XG4gIH0sIFtyZW5kZXJEZmQsIHRyYW5zaXRpb24sIHN0YXRlLmxvY2F0aW9uLCBwZW5kaW5nU3RhdGVdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nICYmIGludGVycnVwdGlvbikge1xuICAgICAgc2V0UGVuZGluZ1N0YXRlKGludGVycnVwdGlvbi5zdGF0ZSk7XG4gICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgIGZsdXNoU3luYzogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogaW50ZXJydXB0aW9uLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgbmV4dExvY2F0aW9uOiBpbnRlcnJ1cHRpb24ubmV4dExvY2F0aW9uXG4gICAgICB9KTtcbiAgICAgIHNldEludGVycnVwdGlvbih2b2lkIDApO1xuICAgIH1cbiAgfSwgW3Z0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcsIGludGVycnVwdGlvbl0pO1xuICBsZXQgbmF2aWdhdG9yMiA9IFJlYWN0My51c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgY3JlYXRlSHJlZjogcm91dGVyLmNyZWF0ZUhyZWYsXG4gICAgICBlbmNvZGVMb2NhdGlvbjogcm91dGVyLmVuY29kZUxvY2F0aW9uLFxuICAgICAgZ286IChuKSA9PiByb3V0ZXIubmF2aWdhdGUobiksXG4gICAgICBwdXNoOiAodG8sIHN0YXRlMiwgb3B0cykgPT4gcm91dGVyLm5hdmlnYXRlKHRvLCB7XG4gICAgICAgIHN0YXRlOiBzdGF0ZTIsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0cz8ucHJldmVudFNjcm9sbFJlc2V0XG4gICAgICB9KSxcbiAgICAgIHJlcGxhY2U6ICh0bywgc3RhdGUyLCBvcHRzKSA9PiByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgc3RhdGU6IHN0YXRlMixcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgIH0pXG4gICAgfTtcbiAgfSwgW3JvdXRlcl0pO1xuICBsZXQgYmFzZW5hbWUgPSByb3V0ZXIuYmFzZW5hbWUgfHwgXCIvXCI7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0My51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICByb3V0ZXIsXG4gICAgICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsXG4gICAgICBzdGF0aWM6IGZhbHNlLFxuICAgICAgYmFzZW5hbWVcbiAgICB9KSxcbiAgICBbcm91dGVyLCBuYXZpZ2F0b3IyLCBiYXNlbmFtZV1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChSZWFjdDMuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGF0YVJvdXRlckNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHN0YXRlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChGZXRjaGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGZldGNoZXJEYXRhLmN1cnJlbnQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFZpZXdUcmFuc2l0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdnRDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogbmF2aWdhdG9yMlxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFxuICAgICAgTWVtb2l6ZWREYXRhUm91dGVzLFxuICAgICAge1xuICAgICAgICByb3V0ZXM6IHJvdXRlci5yb3V0ZXMsXG4gICAgICAgIGZ1dHVyZTogcm91dGVyLmZ1dHVyZSxcbiAgICAgICAgc3RhdGVcbiAgICAgIH1cbiAgICApXG4gICkpKSkpLCBudWxsKTtcbn1cbnZhciBNZW1vaXplZERhdGFSb3V0ZXMgPSBSZWFjdDMubWVtbyhEYXRhUm91dGVzKTtcbmZ1bmN0aW9uIERhdGFSb3V0ZXMoe1xuICByb3V0ZXMsXG4gIGZ1dHVyZSxcbiAgc3RhdGVcbn0pIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCB2b2lkIDAsIHN0YXRlLCBmdXR1cmUpO1xufVxuZnVuY3Rpb24gTWVtb3J5Um91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBpbml0aWFsRW50cmllcyxcbiAgaW5pdGlhbEluZGV4XG59KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QzLnVzZVJlZigpO1xuICBpZiAoaGlzdG9yeVJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBjcmVhdGVNZW1vcnlIaXN0b3J5KHtcbiAgICAgIGluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEluZGV4LFxuICAgICAgdjVDb21wYXQ6IHRydWVcbiAgICB9KTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0My51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QzLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QzLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0My51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBOYXZpZ2F0ZSh7XG4gIHRvLFxuICByZXBsYWNlOiByZXBsYWNlMixcbiAgc3RhdGUsXG4gIHJlbGF0aXZlXG59KSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZlxuICAgIC8vIHRoZSByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYDxOYXZpZ2F0ZT4gbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IHN0YXRpYzogaXNTdGF0aWMgfSA9IFJlYWN0My51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgd2FybmluZyhcbiAgICAhaXNTdGF0aWMsXG4gICAgYDxOYXZpZ2F0ZT4gbXVzdCBub3QgYmUgdXNlZCBvbiB0aGUgaW5pdGlhbCByZW5kZXIgaW4gYSA8U3RhdGljUm91dGVyPi4gVGhpcyBpcyBhIG5vLW9wLCBidXQgeW91IHNob3VsZCBtb2RpZnkgeW91ciBjb2RlIHNvIHRoZSA8TmF2aWdhdGU+IGlzIG9ubHkgZXZlciByZW5kZXJlZCBpbiByZXNwb25zZSB0byBzb21lIHVzZXIgaW50ZXJhY3Rpb24gb3Igc3RhdGUgY2hhbmdlLmBcbiAgKTtcbiAgbGV0IHsgbWF0Y2hlcyB9ID0gUmVhY3QzLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHsgcGF0aG5hbWU6IGxvY2F0aW9uUGF0aG5hbWUgfSA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgIHRvLFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcyksXG4gICAgbG9jYXRpb25QYXRobmFtZSxcbiAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgKTtcbiAgbGV0IGpzb25QYXRoID0gSlNPTi5zdHJpbmdpZnkocGF0aCk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIG5hdmlnYXRlKEpTT04ucGFyc2UoanNvblBhdGgpLCB7IHJlcGxhY2U6IHJlcGxhY2UyLCBzdGF0ZSwgcmVsYXRpdmUgfSk7XG4gIH0sIFtuYXZpZ2F0ZSwganNvblBhdGgsIHJlbGF0aXZlLCByZXBsYWNlMiwgc3RhdGVdKTtcbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBPdXRsZXQocHJvcHMpIHtcbiAgcmV0dXJuIHVzZU91dGxldChwcm9wcy5jb250ZXh0KTtcbn1cbmZ1bmN0aW9uIFJvdXRlKF9wcm9wcykge1xuICBpbnZhcmlhbnQoXG4gICAgZmFsc2UsXG4gICAgYEEgPFJvdXRlPiBpcyBvbmx5IGV2ZXIgdG8gYmUgdXNlZCBhcyB0aGUgY2hpbGQgb2YgPFJvdXRlcz4gZWxlbWVudCwgbmV2ZXIgcmVuZGVyZWQgZGlyZWN0bHkuIFBsZWFzZSB3cmFwIHlvdXIgPFJvdXRlPiBpbiBhIDxSb3V0ZXM+LmBcbiAgKTtcbn1cbmZ1bmN0aW9uIFJvdXRlcih7XG4gIGJhc2VuYW1lOiBiYXNlbmFtZVByb3AgPSBcIi9cIixcbiAgY2hpbGRyZW4gPSBudWxsLFxuICBsb2NhdGlvbjogbG9jYXRpb25Qcm9wLFxuICBuYXZpZ2F0aW9uVHlwZSA9IFwiUE9QXCIgLyogUG9wICovLFxuICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsXG4gIHN0YXRpYzogc3RhdGljUHJvcCA9IGZhbHNlXG59KSB7XG4gIGludmFyaWFudChcbiAgICAhdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgYFlvdSBjYW5ub3QgcmVuZGVyIGEgPFJvdXRlcj4gaW5zaWRlIGFub3RoZXIgPFJvdXRlcj4uIFlvdSBzaG91bGQgbmV2ZXIgaGF2ZSBtb3JlIHRoYW4gb25lIGluIHlvdXIgYXBwLmBcbiAgKTtcbiAgbGV0IGJhc2VuYW1lID0gYmFzZW5hbWVQcm9wLnJlcGxhY2UoL15cXC8qLywgXCIvXCIpO1xuICBsZXQgbmF2aWdhdGlvbkNvbnRleHQgPSBSZWFjdDMudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsXG4gICAgICBzdGF0aWM6IHN0YXRpY1Byb3AsXG4gICAgICBmdXR1cmU6IHt9XG4gICAgfSksXG4gICAgW2Jhc2VuYW1lLCBuYXZpZ2F0b3IyLCBzdGF0aWNQcm9wXVxuICApO1xuICBpZiAodHlwZW9mIGxvY2F0aW9uUHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvY2F0aW9uUHJvcCA9IHBhcnNlUGF0aChsb2NhdGlvblByb3ApO1xuICB9XG4gIGxldCB7XG4gICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICBzZWFyY2ggPSBcIlwiLFxuICAgIGhhc2ggPSBcIlwiLFxuICAgIHN0YXRlID0gbnVsbCxcbiAgICBrZXkgPSBcImRlZmF1bHRcIlxuICB9ID0gbG9jYXRpb25Qcm9wO1xuICBsZXQgbG9jYXRpb25Db250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCB0cmFpbGluZ1BhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShwYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgIGlmICh0cmFpbGluZ1BhdGhuYW1lID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgcGF0aG5hbWU6IHRyYWlsaW5nUGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaCxcbiAgICAgICAgaGFzaCxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGtleVxuICAgICAgfSxcbiAgICAgIG5hdmlnYXRpb25UeXBlXG4gICAgfTtcbiAgfSwgW2Jhc2VuYW1lLCBwYXRobmFtZSwgc2VhcmNoLCBoYXNoLCBzdGF0ZSwga2V5LCBuYXZpZ2F0aW9uVHlwZV0pO1xuICB3YXJuaW5nKFxuICAgIGxvY2F0aW9uQ29udGV4dCAhPSBudWxsLFxuICAgIGA8Um91dGVyIGJhc2VuYW1lPVwiJHtiYXNlbmFtZX1cIj4gaXMgbm90IGFibGUgdG8gbWF0Y2ggdGhlIFVSTCBcIiR7cGF0aG5hbWV9JHtzZWFyY2h9JHtoYXNofVwiIGJlY2F1c2UgaXQgZG9lcyBub3Qgc3RhcnQgd2l0aCB0aGUgYmFzZW5hbWUsIHNvIHRoZSA8Um91dGVyPiB3b24ndCByZW5kZXIgYW55dGhpbmcuYFxuICApO1xuICBpZiAobG9jYXRpb25Db250ZXh0ID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KE5hdmlnYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBuYXZpZ2F0aW9uQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoTG9jYXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IGNoaWxkcmVuLCB2YWx1ZTogbG9jYXRpb25Db250ZXh0IH0pKTtcbn1cbmZ1bmN0aW9uIFJvdXRlcyh7XG4gIGNoaWxkcmVuLFxuICBsb2NhdGlvblxufSkge1xuICByZXR1cm4gdXNlUm91dGVzKGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihjaGlsZHJlbiksIGxvY2F0aW9uKTtcbn1cbmZ1bmN0aW9uIEF3YWl0KHtcbiAgY2hpbGRyZW4sXG4gIGVycm9yRWxlbWVudCxcbiAgcmVzb2x2ZVxufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEF3YWl0RXJyb3JCb3VuZGFyeSwgeyByZXNvbHZlLCBlcnJvckVsZW1lbnQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlc29sdmVBd2FpdCwgbnVsbCwgY2hpbGRyZW4pKTtcbn1cbnZhciBBd2FpdEVycm9yQm91bmRhcnkgPSBjbGFzcyBleHRlbmRzIFJlYWN0My5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBlcnJvcjogbnVsbCB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCI8QXdhaXQ+IGNhdWdodCB0aGUgZm9sbG93aW5nIGVycm9yIGR1cmluZyByZW5kZXJcIixcbiAgICAgIGVycm9yLFxuICAgICAgZXJyb3JJbmZvXG4gICAgKTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgY2hpbGRyZW4sIGVycm9yRWxlbWVudCwgcmVzb2x2ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgcHJvbWlzZSA9IG51bGw7XG4gICAgbGV0IHN0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICBpZiAoIShyZXNvbHZlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHtcbiAgICAgIHN0YXR1cyA9IDEgLyogc3VjY2VzcyAqLztcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IHJlc29sdmUgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICBzdGF0dXMgPSAyIC8qIGVycm9yICovO1xuICAgICAgbGV0IHJlbmRlckVycm9yID0gdGhpcy5zdGF0ZS5lcnJvcjtcbiAgICAgIHByb21pc2UgPSBQcm9taXNlLnJlamVjdCgpLmNhdGNoKCgpID0+IHtcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IHJlbmRlckVycm9yIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzb2x2ZS5fdHJhY2tlZCkge1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICBzdGF0dXMgPSBcIl9lcnJvclwiIGluIHByb21pc2UgPyAyIC8qIGVycm9yICovIDogXCJfZGF0YVwiIGluIHByb21pc2UgPyAxIC8qIHN1Y2Nlc3MgKi8gOiAwIC8qIHBlbmRpbmcgKi87XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXR1cyA9IDAgLyogcGVuZGluZyAqLztcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgcHJvbWlzZSA9IHJlc29sdmUudGhlbihcbiAgICAgICAgKGRhdGEyKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gZGF0YTIgfSksXG4gICAgICAgIChlcnJvcikgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiBlcnJvciB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gMiAvKiBlcnJvciAqLyAmJiAhZXJyb3JFbGVtZW50KSB7XG4gICAgICB0aHJvdyBwcm9taXNlLl9lcnJvcjtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gMiAvKiBlcnJvciAqLykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChBd2FpdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHByb21pc2UsIGNoaWxkcmVuOiBlcnJvckVsZW1lbnQgfSk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDEgLyogc3VjY2VzcyAqLykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChBd2FpdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHByb21pc2UsIGNoaWxkcmVuIH0pO1xuICAgIH1cbiAgICB0aHJvdyBwcm9taXNlO1xuICB9XG59O1xuZnVuY3Rpb24gUmVzb2x2ZUF3YWl0KHtcbiAgY2hpbGRyZW5cbn0pIHtcbiAgbGV0IGRhdGEyID0gdXNlQXN5bmNWYWx1ZSgpO1xuICBsZXQgdG9SZW5kZXIgPSB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IGNoaWxkcmVuKGRhdGEyKSA6IGNoaWxkcmVuO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlYWN0My5GcmFnbWVudCwgbnVsbCwgdG9SZW5kZXIpO1xufVxuZnVuY3Rpb24gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRQYXRoID0gW10pIHtcbiAgbGV0IHJvdXRlcyA9IFtdO1xuICBSZWFjdDMuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFSZWFjdDMuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHRyZWVQYXRoID0gWy4uLnBhcmVudFBhdGgsIGluZGV4XTtcbiAgICBpZiAoZWxlbWVudC50eXBlID09PSBSZWFjdDMuRnJhZ21lbnQpIHtcbiAgICAgIHJvdXRlcy5wdXNoLmFwcGx5KFxuICAgICAgICByb3V0ZXMsXG4gICAgICAgIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihlbGVtZW50LnByb3BzLmNoaWxkcmVuLCB0cmVlUGF0aClcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGludmFyaWFudChcbiAgICAgIGVsZW1lbnQudHlwZSA9PT0gUm91dGUsXG4gICAgICBgWyR7dHlwZW9mIGVsZW1lbnQudHlwZSA9PT0gXCJzdHJpbmdcIiA/IGVsZW1lbnQudHlwZSA6IGVsZW1lbnQudHlwZS5uYW1lfV0gaXMgbm90IGEgPFJvdXRlPiBjb21wb25lbnQuIEFsbCBjb21wb25lbnQgY2hpbGRyZW4gb2YgPFJvdXRlcz4gbXVzdCBiZSBhIDxSb3V0ZT4gb3IgPFJlYWN0LkZyYWdtZW50PmBcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICFlbGVtZW50LnByb3BzLmluZGV4IHx8ICFlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgXCJBbiBpbmRleCByb3V0ZSBjYW5ub3QgaGF2ZSBjaGlsZCByb3V0ZXMuXCJcbiAgICApO1xuICAgIGxldCByb3V0ZSA9IHtcbiAgICAgIGlkOiBlbGVtZW50LnByb3BzLmlkIHx8IHRyZWVQYXRoLmpvaW4oXCItXCIpLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogZWxlbWVudC5wcm9wcy5jYXNlU2Vuc2l0aXZlLFxuICAgICAgZWxlbWVudDogZWxlbWVudC5wcm9wcy5lbGVtZW50LFxuICAgICAgQ29tcG9uZW50OiBlbGVtZW50LnByb3BzLkNvbXBvbmVudCxcbiAgICAgIGluZGV4OiBlbGVtZW50LnByb3BzLmluZGV4LFxuICAgICAgcGF0aDogZWxlbWVudC5wcm9wcy5wYXRoLFxuICAgICAgbG9hZGVyOiBlbGVtZW50LnByb3BzLmxvYWRlcixcbiAgICAgIGFjdGlvbjogZWxlbWVudC5wcm9wcy5hY3Rpb24sXG4gICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBlbGVtZW50LnByb3BzLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQsXG4gICAgICBIeWRyYXRlRmFsbGJhY2s6IGVsZW1lbnQucHJvcHMuSHlkcmF0ZUZhbGxiYWNrLFxuICAgICAgZXJyb3JFbGVtZW50OiBlbGVtZW50LnByb3BzLmVycm9yRWxlbWVudCxcbiAgICAgIEVycm9yQm91bmRhcnk6IGVsZW1lbnQucHJvcHMuRXJyb3JCb3VuZGFyeSxcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IGVsZW1lbnQucHJvcHMuaGFzRXJyb3JCb3VuZGFyeSA9PT0gdHJ1ZSB8fCBlbGVtZW50LnByb3BzLkVycm9yQm91bmRhcnkgIT0gbnVsbCB8fCBlbGVtZW50LnByb3BzLmVycm9yRWxlbWVudCAhPSBudWxsLFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZWxlbWVudC5wcm9wcy5zaG91bGRSZXZhbGlkYXRlLFxuICAgICAgaGFuZGxlOiBlbGVtZW50LnByb3BzLmhhbmRsZSxcbiAgICAgIGxhenk6IGVsZW1lbnQucHJvcHMubGF6eVxuICAgIH07XG4gICAgaWYgKGVsZW1lbnQucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgIHJvdXRlLmNoaWxkcmVuID0gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKFxuICAgICAgICBlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgICB0cmVlUGF0aFxuICAgICAgKTtcbiAgICB9XG4gICAgcm91dGVzLnB1c2gocm91dGUpO1xuICB9KTtcbiAgcmV0dXJuIHJvdXRlcztcbn1cbnZhciBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMgPSBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW47XG5mdW5jdGlvbiByZW5kZXJNYXRjaGVzKG1hdGNoZXMpIHtcbiAgcmV0dXJuIF9yZW5kZXJNYXRjaGVzKG1hdGNoZXMpO1xufVxuXG4vLyBsaWIvZG9tL2xpYi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTAgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vZG9tLnRzXG52YXIgZGVmYXVsdE1ldGhvZCA9IFwiZ2V0XCI7XG52YXIgZGVmYXVsdEVuY1R5cGUgPSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiO1xuZnVuY3Rpb24gaXNIdG1sRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QudGFnTmFtZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzQnV0dG9uRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImJ1dHRvblwiO1xufVxuZnVuY3Rpb24gaXNGb3JtRWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImZvcm1cIjtcbn1cbmZ1bmN0aW9uIGlzSW5wdXRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChvYmplY3QpICYmIG9iamVjdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIjtcbn1cbmZ1bmN0aW9uIGlzTW9kaWZpZWRFdmVudChldmVudCkge1xuICByZXR1cm4gISEoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSk7XG59XG5mdW5jdGlvbiBzaG91bGRQcm9jZXNzTGlua0NsaWNrKGV2ZW50LCB0YXJnZXQpIHtcbiAgcmV0dXJuIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiAvLyBJZ25vcmUgZXZlcnl0aGluZyBidXQgbGVmdCBjbGlja3NcbiAgKCF0YXJnZXQgfHwgdGFyZ2V0ID09PSBcIl9zZWxmXCIpICYmIC8vIExldCBicm93c2VyIGhhbmRsZSBcInRhcmdldD1fYmxhbmtcIiBldGMuXG4gICFpc01vZGlmaWVkRXZlbnQoZXZlbnQpO1xufVxuZnVuY3Rpb24gY3JlYXRlU2VhcmNoUGFyYW1zKGluaXQgPSBcIlwiKSB7XG4gIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKFxuICAgIHR5cGVvZiBpbml0ID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkoaW5pdCkgfHwgaW5pdCBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcyA/IGluaXQgOiBPYmplY3Qua2V5cyhpbml0KS5yZWR1Y2UoKG1lbW8yLCBrZXkpID0+IHtcbiAgICAgIGxldCB2YWx1ZSA9IGluaXRba2V5XTtcbiAgICAgIHJldHVybiBtZW1vMi5jb25jYXQoXG4gICAgICAgIEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKCh2KSA9PiBba2V5LCB2XSkgOiBbW2tleSwgdmFsdWVdXVxuICAgICAgKTtcbiAgICB9LCBbXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFNlYXJjaFBhcmFtc0ZvckxvY2F0aW9uKGxvY2F0aW9uU2VhcmNoLCBkZWZhdWx0U2VhcmNoUGFyYW1zKSB7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBjcmVhdGVTZWFyY2hQYXJhbXMobG9jYXRpb25TZWFyY2gpO1xuICBpZiAoZGVmYXVsdFNlYXJjaFBhcmFtcykge1xuICAgIGRlZmF1bHRTZWFyY2hQYXJhbXMuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICBpZiAoIXNlYXJjaFBhcmFtcy5oYXMoa2V5KSkge1xuICAgICAgICBkZWZhdWx0U2VhcmNoUGFyYW1zLmdldEFsbChrZXkpLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHNlYXJjaFBhcmFtcztcbn1cbnZhciBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IG51bGw7XG5mdW5jdGlvbiBpc0Zvcm1EYXRhU3VibWl0dGVyU3VwcG9ydGVkKCkge1xuICBpZiAoX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPT09IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IEZvcm1EYXRhKFxuICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKSxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBpZiBGb3JtRGF0YSBzdXBwb3J0cyB0aGUgc3VibWl0dGVyIHBhcmFtZXRlciwgdGhpcyB3aWxsIHRocm93XG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgICBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyO1xufVxudmFyIHN1cHBvcnRlZEZvcm1FbmNUeXBlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcbiAgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIsXG4gIFwidGV4dC9wbGFpblwiXG5dKTtcbmZ1bmN0aW9uIGdldEZvcm1FbmNUeXBlKGVuY1R5cGUpIHtcbiAgaWYgKGVuY1R5cGUgIT0gbnVsbCAmJiAhc3VwcG9ydGVkRm9ybUVuY1R5cGVzLmhhcyhlbmNUeXBlKSkge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBcIiR7ZW5jVHlwZX1cIiBpcyBub3QgYSB2YWxpZCBcXGBlbmNUeXBlXFxgIGZvciBcXGA8Rm9ybT5cXGAvXFxgPGZldGNoZXIuRm9ybT5cXGAgYW5kIHdpbGwgZGVmYXVsdCB0byBcIiR7ZGVmYXVsdEVuY1R5cGV9XCJgXG4gICAgKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZW5jVHlwZTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1TdWJtaXNzaW9uSW5mbyh0YXJnZXQsIGJhc2VuYW1lKSB7XG4gIGxldCBtZXRob2Q7XG4gIGxldCBhY3Rpb247XG4gIGxldCBlbmNUeXBlO1xuICBsZXQgZm9ybURhdGE7XG4gIGxldCBib2R5O1xuICBpZiAoaXNGb3JtRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgbGV0IGF0dHIgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuICAgIGFjdGlvbiA9IGF0dHIgPyBzdHJpcEJhc2VuYW1lKGF0dHIsIGJhc2VuYW1lKSA6IG51bGw7XG4gICAgbWV0aG9kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKSB8fCBkZWZhdWx0TWV0aG9kO1xuICAgIGVuY1R5cGUgPSBnZXRGb3JtRW5jVHlwZSh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZW5jdHlwZVwiKSkgfHwgZGVmYXVsdEVuY1R5cGU7XG4gICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGFyZ2V0KTtcbiAgfSBlbHNlIGlmIChpc0J1dHRvbkVsZW1lbnQodGFyZ2V0KSB8fCBpc0lucHV0RWxlbWVudCh0YXJnZXQpICYmICh0YXJnZXQudHlwZSA9PT0gXCJzdWJtaXRcIiB8fCB0YXJnZXQudHlwZSA9PT0gXCJpbWFnZVwiKSkge1xuICAgIGxldCBmb3JtID0gdGFyZ2V0LmZvcm07XG4gICAgaWYgKGZvcm0gPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgQ2Fubm90IHN1Ym1pdCBhIDxidXR0b24+IG9yIDxpbnB1dCB0eXBlPVwic3VibWl0XCI+IHdpdGhvdXQgYSA8Zm9ybT5gXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgYXR0ciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtYWN0aW9uXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpO1xuICAgIGFjdGlvbiA9IGF0dHIgPyBzdHJpcEJhc2VuYW1lKGF0dHIsIGJhc2VuYW1lKSA6IG51bGw7XG4gICAgbWV0aG9kID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImZvcm1tZXRob2RcIikgfHwgZm9ybS5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIikgfHwgZGVmYXVsdE1ldGhvZDtcbiAgICBlbmNUeXBlID0gZ2V0Rm9ybUVuY1R5cGUodGFyZ2V0LmdldEF0dHJpYnV0ZShcImZvcm1lbmN0eXBlXCIpKSB8fCBnZXRGb3JtRW5jVHlwZShmb3JtLmdldEF0dHJpYnV0ZShcImVuY3R5cGVcIikpIHx8IGRlZmF1bHRFbmNUeXBlO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0sIHRhcmdldCk7XG4gICAgaWYgKCFpc0Zvcm1EYXRhU3VibWl0dGVyU3VwcG9ydGVkKCkpIHtcbiAgICAgIGxldCB7IG5hbWUsIHR5cGUsIHZhbHVlIH0gPSB0YXJnZXQ7XG4gICAgICBpZiAodHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIGxldCBwcmVmaXggPSBuYW1lID8gYCR7bmFtZX0uYCA6IFwiXCI7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChgJHtwcmVmaXh9eGAsIFwiMFwiKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGAke3ByZWZpeH15YCwgXCIwXCIpO1xuICAgICAgfSBlbHNlIGlmIChuYW1lKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzSHRtbEVsZW1lbnQodGFyZ2V0KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBDYW5ub3Qgc3VibWl0IGVsZW1lbnQgdGhhdCBpcyBub3QgPGZvcm0+LCA8YnV0dG9uPiwgb3IgPGlucHV0IHR5cGU9XCJzdWJtaXR8aW1hZ2VcIj5gXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBtZXRob2QgPSBkZWZhdWx0TWV0aG9kO1xuICAgIGFjdGlvbiA9IG51bGw7XG4gICAgZW5jVHlwZSA9IGRlZmF1bHRFbmNUeXBlO1xuICAgIGJvZHkgPSB0YXJnZXQ7XG4gIH1cbiAgaWYgKGZvcm1EYXRhICYmIGVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgYm9keSA9IGZvcm1EYXRhO1xuICAgIGZvcm1EYXRhID0gdm9pZCAwO1xuICB9XG4gIHJldHVybiB7IGFjdGlvbiwgbWV0aG9kOiBtZXRob2QudG9Mb3dlckNhc2UoKSwgZW5jVHlwZSwgZm9ybURhdGEsIGJvZHkgfTtcbn1cblxuLy8gbGliL2RvbS9zc3IvY29tcG9uZW50cy50c3hcbmltcG9ydCAqIGFzIFJlYWN0OSBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3IvaW52YXJpYW50LnRzXG5mdW5jdGlvbiBpbnZhcmlhbnQyKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlTW9kdWxlcy50c1xuYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXNDYWNoZSkge1xuICBpZiAocm91dGUuaWQgaW4gcm91dGVNb2R1bGVzQ2FjaGUpIHtcbiAgICByZXR1cm4gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICB9XG4gIHRyeSB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gYXdhaXQgaW1wb3J0KFxuICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICByb3V0ZS5tb2R1bGVcbiAgICApO1xuICAgIHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXSA9IHJvdXRlTW9kdWxlO1xuICAgIHJldHVybiByb3V0ZU1vZHVsZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgYEVycm9yIGxvYWRpbmcgcm91dGUgbW9kdWxlIFxcYCR7cm91dGUubW9kdWxlfVxcYCwgcmVsb2FkaW5nIHBhZ2UuLi5gXG4gICAgKTtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICBpZiAod2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0ICYmIHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5pc1NwYU1vZGUgJiYgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIGltcG9ydC5tZXRhLmhvdCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4ge1xuICAgIH0pO1xuICB9XG59XG5cbi8vIGxpYi9kb20vc3NyL2xpbmtzLnRzXG5mdW5jdGlvbiBnZXRLZXllZExpbmtzRm9yTWF0Y2hlcyhtYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0KSB7XG4gIGxldCBkZXNjcmlwdG9ycyA9IG1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgIGxldCBtb2R1bGUgPSByb3V0ZU1vZHVsZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgcmV0dXJuIFtcbiAgICAgIHJvdXRlICYmIHJvdXRlLmNzcyA/IHJvdXRlLmNzcy5tYXAoKGhyZWYyKSA9PiAoeyByZWw6IFwic3R5bGVzaGVldFwiLCBocmVmOiBocmVmMiB9KSkgOiBbXSxcbiAgICAgIG1vZHVsZT8ubGlua3M/LigpIHx8IFtdXG4gICAgXTtcbiAgfSkuZmxhdCgyKTtcbiAgbGV0IHByZWxvYWRzID0gZ2V0TW9kdWxlTGlua0hyZWZzKG1hdGNoZXMsIG1hbmlmZXN0KTtcbiAgcmV0dXJuIGRlZHVwZUxpbmtEZXNjcmlwdG9ycyhkZXNjcmlwdG9ycywgcHJlbG9hZHMpO1xufVxuZnVuY3Rpb24gZ2V0Um91dGVDc3NEZXNjcmlwdG9ycyhyb3V0ZSkge1xuICBpZiAoIXJvdXRlLmNzcykgcmV0dXJuIFtdO1xuICByZXR1cm4gcm91dGUuY3NzLm1hcCgoaHJlZjIpID0+ICh7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWY6IGhyZWYyIH0pKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoUm91dGVDc3Mocm91dGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MpIHJldHVybjtcbiAgbGV0IGRlc2NyaXB0b3JzID0gZ2V0Um91dGVDc3NEZXNjcmlwdG9ycyhyb3V0ZSk7XG4gIGF3YWl0IFByb21pc2UuYWxsKGRlc2NyaXB0b3JzLm1hcChwcmVmZXRjaFN0eWxlTGluaykpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCByb3V0ZU1vZHVsZSkge1xuICBpZiAoIXJvdXRlLmNzcyAmJiAhcm91dGVNb2R1bGUubGlua3MgfHwgIWlzUHJlbG9hZFN1cHBvcnRlZCgpKSByZXR1cm47XG4gIGxldCBkZXNjcmlwdG9ycyA9IFtdO1xuICBpZiAocm91dGUuY3NzKSB7XG4gICAgZGVzY3JpcHRvcnMucHVzaCguLi5nZXRSb3V0ZUNzc0Rlc2NyaXB0b3JzKHJvdXRlKSk7XG4gIH1cbiAgaWYgKHJvdXRlTW9kdWxlLmxpbmtzKSB7XG4gICAgZGVzY3JpcHRvcnMucHVzaCguLi5yb3V0ZU1vZHVsZS5saW5rcygpKTtcbiAgfVxuICBpZiAoZGVzY3JpcHRvcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gIGxldCBzdHlsZUxpbmtzID0gW107XG4gIGZvciAobGV0IGRlc2NyaXB0b3Igb2YgZGVzY3JpcHRvcnMpIHtcbiAgICBpZiAoIWlzUGFnZUxpbmtEZXNjcmlwdG9yKGRlc2NyaXB0b3IpICYmIGRlc2NyaXB0b3IucmVsID09PSBcInN0eWxlc2hlZXRcIikge1xuICAgICAgc3R5bGVMaW5rcy5wdXNoKHtcbiAgICAgICAgLi4uZGVzY3JpcHRvcixcbiAgICAgICAgcmVsOiBcInByZWxvYWRcIixcbiAgICAgICAgYXM6IFwic3R5bGVcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGF3YWl0IFByb21pc2UuYWxsKHN0eWxlTGlua3MubWFwKHByZWZldGNoU3R5bGVMaW5rKSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFN0eWxlTGluayhkZXNjcmlwdG9yKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGlmIChkZXNjcmlwdG9yLm1lZGlhICYmICF3aW5kb3cubWF0Y2hNZWRpYShkZXNjcmlwdG9yLm1lZGlhKS5tYXRjaGVzIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdW2hyZWY9XCIke2Rlc2NyaXB0b3IuaHJlZn1cIl1gXG4gICAgKSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICB9XG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICBPYmplY3QuYXNzaWduKGxpbmssIGRlc2NyaXB0b3IpO1xuICAgIGZ1bmN0aW9uIHJlbW92ZUxpbmsoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuaGVhZC5jb250YWlucyhsaW5rKSkge1xuICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGxpbmspO1xuICAgICAgfVxuICAgIH1cbiAgICBsaW5rLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHJlbW92ZUxpbmsoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGxpbmsub25lcnJvciA9ICgpID0+IHtcbiAgICAgIHJlbW92ZUxpbmsoKTtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XG4gIH0pO1xufVxuZnVuY3Rpb24gaXNQYWdlTGlua0Rlc2NyaXB0b3Iob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LnBhZ2UgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0h0bWxMaW5rRGVzY3JpcHRvcihvYmplY3QpIHtcbiAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChvYmplY3QuaHJlZiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG9iamVjdC5yZWwgPT09IFwicHJlbG9hZFwiICYmIHR5cGVvZiBvYmplY3QuaW1hZ2VTcmNTZXQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5pbWFnZVNpemVzID09PSBcInN0cmluZ1wiO1xuICB9XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0LnJlbCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqZWN0LmhyZWYgPT09IFwic3RyaW5nXCI7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRLZXllZFByZWZldGNoTGlua3MobWF0Y2hlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcykge1xuICBsZXQgbGlua3MgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBtYXRjaGVzLm1hcChhc3luYyAobWF0Y2gpID0+IHtcbiAgICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgbGV0IG1vZCA9IGF3YWl0IGxvYWRSb3V0ZU1vZHVsZShyb3V0ZSwgcm91dGVNb2R1bGVzKTtcbiAgICAgICAgcmV0dXJuIG1vZC5saW5rcyA/IG1vZC5saW5rcygpIDogW107XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIGRlZHVwZUxpbmtEZXNjcmlwdG9ycyhcbiAgICBsaW5rcy5mbGF0KDEpLmZpbHRlcihpc0h0bWxMaW5rRGVzY3JpcHRvcikuZmlsdGVyKChsaW5rKSA9PiBsaW5rLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgfHwgbGluay5yZWwgPT09IFwicHJlbG9hZFwiKS5tYXAoXG4gICAgICAobGluaykgPT4gbGluay5yZWwgPT09IFwic3R5bGVzaGVldFwiID8geyAuLi5saW5rLCByZWw6IFwicHJlZmV0Y2hcIiwgYXM6IFwic3R5bGVcIiB9IDogeyAuLi5saW5rLCByZWw6IFwicHJlZmV0Y2hcIiB9XG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0TmV3TWF0Y2hlc0ZvckxpbmtzKHBhZ2UsIG5leHRNYXRjaGVzLCBjdXJyZW50TWF0Y2hlcywgbWFuaWZlc3QsIGxvY2F0aW9uLCBtb2RlKSB7XG4gIGxldCBpc05ldyA9IChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRNYXRjaGVzW2luZGV4XSkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIG1hdGNoLnJvdXRlLmlkICE9PSBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucm91dGUuaWQ7XG4gIH07XG4gIGxldCBtYXRjaFBhdGhDaGFuZ2VkID0gKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICAvLyBwYXJhbSBjaGFuZ2UsIC91c2Vycy8xMjMgLT4gL3VzZXJzLzQ1NlxuICAgICAgY3VycmVudE1hdGNoZXNbaW5kZXhdLnBhdGhuYW1lICE9PSBtYXRjaC5wYXRobmFtZSB8fCAvLyBzcGxhdCBwYXJhbSBjaGFuZ2VkLCB3aGljaCBpcyBub3QgcHJlc2VudCBpbiBtYXRjaC5wYXRoXG4gICAgICAvLyBlLmcuIC9maWxlcy9pbWFnZXMvYXZhdGFyLmpwZyAtPiBmaWxlcy9maW5hbmNlcy54bHNcbiAgICAgIGN1cnJlbnRNYXRjaGVzW2luZGV4XS5yb3V0ZS5wYXRoPy5lbmRzV2l0aChcIipcIikgJiYgY3VycmVudE1hdGNoZXNbaW5kZXhdLnBhcmFtc1tcIipcIl0gIT09IG1hdGNoLnBhcmFtc1tcIipcIl1cbiAgICApO1xuICB9O1xuICBpZiAobW9kZSA9PT0gXCJhc3NldHNcIikge1xuICAgIHJldHVybiBuZXh0TWF0Y2hlcy5maWx0ZXIoXG4gICAgICAobWF0Y2gsIGluZGV4KSA9PiBpc05ldyhtYXRjaCwgaW5kZXgpIHx8IG1hdGNoUGF0aENoYW5nZWQobWF0Y2gsIGluZGV4KVxuICAgICk7XG4gIH1cbiAgaWYgKG1vZGUgPT09IFwiZGF0YVwiKSB7XG4gICAgcmV0dXJuIG5leHRNYXRjaGVzLmZpbHRlcigobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIW1hbmlmZXN0Um91dGUgfHwgIW1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc05ldyhtYXRjaCwgaW5kZXgpIHx8IG1hdGNoUGF0aENoYW5nZWQobWF0Y2gsIGluZGV4KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICAgIGxldCByb3V0ZUNob2ljZSA9IG1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUoe1xuICAgICAgICAgIGN1cnJlbnRVcmw6IG5ldyBVUkwoXG4gICAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gsXG4gICAgICAgICAgICB3aW5kb3cub3JpZ2luXG4gICAgICAgICAgKSxcbiAgICAgICAgICBjdXJyZW50UGFyYW1zOiBjdXJyZW50TWF0Y2hlc1swXT8ucGFyYW1zIHx8IHt9LFxuICAgICAgICAgIG5leHRVcmw6IG5ldyBVUkwocGFnZSwgd2luZG93Lm9yaWdpbiksXG4gICAgICAgICAgbmV4dFBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgICAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZW9mIHJvdXRlQ2hvaWNlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgIHJldHVybiByb3V0ZUNob2ljZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIFtdO1xufVxuZnVuY3Rpb24gZ2V0TW9kdWxlTGlua0hyZWZzKG1hdGNoZXMsIG1hbmlmZXN0LCB7IGluY2x1ZGVIeWRyYXRlRmFsbGJhY2sgfSA9IHt9KSB7XG4gIHJldHVybiBkZWR1cGVIcmVmcyhcbiAgICBtYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIXJvdXRlKSByZXR1cm4gW107XG4gICAgICBsZXQgaHJlZnMgPSBbcm91dGUubW9kdWxlXTtcbiAgICAgIGlmIChyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmNsdWRlSHlkcmF0ZUZhbGxiYWNrICYmIHJvdXRlLmh5ZHJhdGVGYWxsYmFja01vZHVsZSkge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5oeWRyYXRlRmFsbGJhY2tNb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlLmltcG9ydHMpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuaW1wb3J0cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaHJlZnM7XG4gICAgfSkuZmxhdCgxKVxuICApO1xufVxuZnVuY3Rpb24gZGVkdXBlSHJlZnMoaHJlZnMpIHtcbiAgcmV0dXJuIFsuLi5uZXcgU2V0KGhyZWZzKV07XG59XG5mdW5jdGlvbiBzb3J0S2V5cyhvYmopIHtcbiAgbGV0IHNvcnRlZCA9IHt9O1xuICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xuICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgIHNvcnRlZFtrZXldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHNvcnRlZDtcbn1cbmZ1bmN0aW9uIGRlZHVwZUxpbmtEZXNjcmlwdG9ycyhkZXNjcmlwdG9ycywgcHJlbG9hZHMpIHtcbiAgbGV0IHNldCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBwcmVsb2Fkc1NldCA9IG5ldyBTZXQocHJlbG9hZHMpO1xuICByZXR1cm4gZGVzY3JpcHRvcnMucmVkdWNlKChkZWR1cGVkLCBkZXNjcmlwdG9yKSA9PiB7XG4gICAgbGV0IGFscmVhZHlNb2R1bGVQcmVsb2FkID0gcHJlbG9hZHMgJiYgIWlzUGFnZUxpbmtEZXNjcmlwdG9yKGRlc2NyaXB0b3IpICYmIGRlc2NyaXB0b3IuYXMgPT09IFwic2NyaXB0XCIgJiYgZGVzY3JpcHRvci5ocmVmICYmIHByZWxvYWRzU2V0LmhhcyhkZXNjcmlwdG9yLmhyZWYpO1xuICAgIGlmIChhbHJlYWR5TW9kdWxlUHJlbG9hZCkge1xuICAgICAgcmV0dXJuIGRlZHVwZWQ7XG4gICAgfVxuICAgIGxldCBrZXkgPSBKU09OLnN0cmluZ2lmeShzb3J0S2V5cyhkZXNjcmlwdG9yKSk7XG4gICAgaWYgKCFzZXQuaGFzKGtleSkpIHtcbiAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgIGRlZHVwZWQucHVzaCh7IGtleSwgbGluazogZGVzY3JpcHRvciB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZHVwZWQ7XG4gIH0sIFtdKTtcbn1cbnZhciBfaXNQcmVsb2FkU3VwcG9ydGVkO1xuZnVuY3Rpb24gaXNQcmVsb2FkU3VwcG9ydGVkKCkge1xuICBpZiAoX2lzUHJlbG9hZFN1cHBvcnRlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIF9pc1ByZWxvYWRTdXBwb3J0ZWQ7XG4gIH1cbiAgbGV0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gIF9pc1ByZWxvYWRTdXBwb3J0ZWQgPSBlbC5yZWxMaXN0LnN1cHBvcnRzKFwicHJlbG9hZFwiKTtcbiAgZWwgPSBudWxsO1xuICByZXR1cm4gX2lzUHJlbG9hZFN1cHBvcnRlZDtcbn1cblxuLy8gbGliL2RvbS9zc3IvbWFya3VwLnRzXG52YXIgRVNDQVBFX0xPT0tVUCA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xudmFyIEVTQ0FQRV9SRUdFWCA9IC9bJj48XFx1MjAyOFxcdTIwMjldL2c7XG5mdW5jdGlvbiBlc2NhcGVIdG1sKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZShFU0NBUEVfUkVHRVgsIChtYXRjaCkgPT4gRVNDQVBFX0xPT0tVUFttYXRjaF0pO1xufVxuZnVuY3Rpb24gY3JlYXRlSHRtbChodG1sKSB7XG4gIHJldHVybiB7IF9faHRtbDogaHRtbCB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9zaW5nbGUtZmV0Y2gudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBkZWNvZGUgfSBmcm9tIFwidHVyYm8tc3RyZWFtXCI7XG5cbi8vIGxpYi9kb20vc3NyL2RhdGEudHNcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpIHtcbiAgbGV0IGluaXQgPSB7IHNpZ25hbDogcmVxdWVzdC5zaWduYWwgfTtcbiAgaWYgKHJlcXVlc3QubWV0aG9kICE9PSBcIkdFVFwiKSB7XG4gICAgaW5pdC5tZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICAgIGlmIChjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgaW5pdC5oZWFkZXJzID0geyBcIkNvbnRlbnQtVHlwZVwiOiBjb250ZW50VHlwZSB9O1xuICAgICAgaW5pdC5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYXdhaXQgcmVxdWVzdC5qc29uKCkpO1xuICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgJiYgL1xcYnRleHRcXC9wbGFpblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IHsgXCJDb250ZW50LVR5cGVcIjogY29udGVudFR5cGUgfTtcbiAgICAgIGluaXQuYm9keSA9IGF3YWl0IHJlcXVlc3QudGV4dCgpO1xuICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwveC13d3ctZm9ybS11cmxlbmNvZGVkXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgaW5pdC5ib2R5ID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhhd2FpdCByZXF1ZXN0LnRleHQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXQuYm9keSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGluaXQ7XG59XG5cbi8vIGxpYi9kb20vc3NyL3NpbmdsZS1mZXRjaC50c3hcbnZhciBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sID0gU3ltYm9sKFwiU2luZ2xlRmV0Y2hSZWRpcmVjdFwiKTtcbmZ1bmN0aW9uIFN0cmVhbVRyYW5zZmVyKHtcbiAgY29udGV4dCxcbiAgaWRlbnRpZmllcixcbiAgcmVhZGVyLFxuICB0ZXh0RGVjb2RlcixcbiAgbm9uY2Vcbn0pIHtcbiAgaWYgKCFjb250ZXh0LnJlbmRlck1ldGEgfHwgIWNvbnRleHQucmVuZGVyTWV0YS5kaWRSZW5kZXJTY3JpcHRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFjb250ZXh0LnJlbmRlck1ldGEuc3RyZWFtQ2FjaGUpIHtcbiAgICBjb250ZXh0LnJlbmRlck1ldGEuc3RyZWFtQ2FjaGUgPSB7fTtcbiAgfVxuICBsZXQgeyBzdHJlYW1DYWNoZSB9ID0gY29udGV4dC5yZW5kZXJNZXRhO1xuICBsZXQgcHJvbWlzZSA9IHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdO1xuICBpZiAoIXByb21pc2UpIHtcbiAgICBwcm9taXNlID0gc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0gPSByZWFkZXIucmVhZCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0ucmVzdWx0ID0ge1xuICAgICAgICBkb25lOiByZXN1bHQuZG9uZSxcbiAgICAgICAgdmFsdWU6IHRleHREZWNvZGVyLmRlY29kZShyZXN1bHQudmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pXG4gICAgICB9O1xuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXS5lcnJvciA9IGU7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHByb21pc2UuZXJyb3IpIHtcbiAgICB0aHJvdyBwcm9taXNlLmVycm9yO1xuICB9XG4gIGlmIChwcm9taXNlLnJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxuICBsZXQgeyBkb25lLCB2YWx1ZSB9ID0gcHJvbWlzZS5yZXN1bHQ7XG4gIGxldCBzY3JpcHRUYWcgPSB2YWx1ZSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIG5vbmNlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIuZW5xdWV1ZSgke2VzY2FwZUh0bWwoXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkodmFsdWUpXG4gICAgICAgICl9KTtgXG4gICAgICB9XG4gICAgfVxuICApIDogbnVsbDtcbiAgaWYgKGRvbmUpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFJlYWN0NC5GcmFnbWVudCwgbnVsbCwgc2NyaXB0VGFnLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICBub25jZSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgICBfX2h0bWw6IGB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtQ29udHJvbGxlci5jbG9zZSgpO2BcbiAgICAgICAgfVxuICAgICAgfVxuICAgICkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0LkZyYWdtZW50LCBudWxsLCBzY3JpcHRUYWcsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChSZWFjdDQuU3VzcGVuc2UsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChcbiAgICAgIFN0cmVhbVRyYW5zZmVyLFxuICAgICAge1xuICAgICAgICBjb250ZXh0LFxuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyICsgMSxcbiAgICAgICAgcmVhZGVyLFxuICAgICAgICB0ZXh0RGVjb2RlcixcbiAgICAgICAgbm9uY2VcbiAgICAgIH1cbiAgICApKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5KG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgYmFzZW5hbWUsIGdldFJvdXRlcikge1xuICByZXR1cm4gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICBsZXQgeyByZXF1ZXN0LCBtYXRjaGVzLCBmZXRjaGVyS2V5IH0gPSBhcmdzO1xuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgYXJncyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgICgpID0+IHNpbmdsZUZldGNoQWN0aW9uU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpLFxuICAgICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFzc3IpIHtcbiAgICAgIGxldCBmb3VuZFJldmFsaWRhdGluZ1NlcnZlckxvYWRlciA9IG1hdGNoZXMuc29tZShcbiAgICAgICAgKG0pID0+IG0uc2hvdWxkTG9hZCAmJiBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF0/Lmhhc0xvYWRlciAmJiAhbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdPy5oYXNDbGllbnRMb2FkZXJcbiAgICAgICk7XG4gICAgICBpZiAoIWZvdW5kUmV2YWxpZGF0aW5nU2VydmVyTG9hZGVyKSB7XG4gICAgICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgICAgYXJncyxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAoKSA9PiBub25Tc3JTdHJhdGVneShtYW5pZmVzdCwgcmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpLFxuICAgICAgICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmZXRjaGVyS2V5KSB7XG4gICAgICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICBhcmdzLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgKCkgPT4gc2luZ2xlRmV0Y2hMb2FkZXJGZXRjaGVyU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpLFxuICAgICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgIGFyZ3MsXG4gICAgICBmYWxzZSxcbiAgICAgICgpID0+IHNpbmdsZUZldGNoTG9hZGVyTmF2aWdhdGlvblN0cmF0ZWd5KFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgICBzc3IsXG4gICAgICAgIGdldFJvdXRlcigpLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBiYXNlbmFtZVxuICAgICAgKSxcbiAgICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICAgKTtcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoQWN0aW9uU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IGFjdGlvbk1hdGNoID0gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBpbnZhcmlhbnQyKGFjdGlvbk1hdGNoLCBcIk5vIGFjdGlvbiBtYXRjaCBmb3VuZFwiKTtcbiAgbGV0IGFjdGlvblN0YXR1cyA9IHZvaWQgMDtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGFjdGlvbk1hdGNoLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IGhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IHVybCA9IHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSk7XG4gICAgICBsZXQgaW5pdCA9IGF3YWl0IGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpO1xuICAgICAgbGV0IHsgZGF0YTogZGF0YTIsIHN0YXR1cyB9ID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUodXJsLCBpbml0KTtcbiAgICAgIGFjdGlvblN0YXR1cyA9IHN0YXR1cztcbiAgICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChcbiAgICAgICAgZGF0YTIsXG4gICAgICAgIGFjdGlvbk1hdGNoLnJvdXRlLmlkXG4gICAgICApO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQyO1xuICB9KTtcbiAgaWYgKGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgfHwgaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkpIHtcbiAgICByZXR1cm4geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHtcbiAgICAgIHR5cGU6IHJlc3VsdC50eXBlLFxuICAgICAgcmVzdWx0OiBkYXRhKHJlc3VsdC5yZXN1bHQsIGFjdGlvblN0YXR1cylcbiAgICB9XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBub25Tc3JTdHJhdGVneShtYW5pZmVzdCwgcmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IG1hdGNoZXNUb0xvYWQgPSBtYXRjaGVzLmZpbHRlcigobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgbGV0IHVybCA9IHN0cmlwSW5kZXhQYXJhbShzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpKTtcbiAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgbGV0IHJlc3VsdHMgPSB7fTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgbWF0Y2hlc1RvTG9hZC5tYXAoXG4gICAgICAobSkgPT4gbS5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IG1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXT8uaGFzQ2xpZW50TG9hZGVyID8gYXdhaXQgZmV0Y2hTaW5nbGVMb2FkZXIoaGFuZGxlciwgdXJsLCBpbml0LCBtLnJvdXRlLmlkKSA6IGF3YWl0IGhhbmRsZXIoKTtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0IH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZSB9O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgKTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5mdW5jdGlvbiBpc09wdGVkT3V0KG1hbmlmZXN0Um91dGUsIHJvdXRlTW9kdWxlLCBtYXRjaCwgcm91dGVyKSB7XG4gIHJldHVybiBtYXRjaC5yb3V0ZS5pZCBpbiByb3V0ZXIuc3RhdGUubG9hZGVyRGF0YSAmJiBtYW5pZmVzdFJvdXRlICYmIG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyICYmIHJvdXRlTW9kdWxlICYmIHJvdXRlTW9kdWxlLnNob3VsZFJldmFsaWRhdGU7XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaExvYWRlck5hdmlnYXRpb25TdHJhdGVneShtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIHJvdXRlciwgcmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IHJvdXRlc1BhcmFtcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmb3VuZE9wdE91dFJvdXRlID0gZmFsc2U7XG4gIGxldCByb3V0ZURmZHMgPSBtYXRjaGVzLm1hcCgoKSA9PiBjcmVhdGVEZWZlcnJlZDIoKSk7XG4gIGxldCByb3V0ZXNMb2FkZWRQcm9taXNlID0gUHJvbWlzZS5hbGwocm91dGVEZmRzLm1hcCgoZCkgPT4gZC5wcm9taXNlKSk7XG4gIGxldCBzaW5nbGVGZXRjaERmZCA9IGNyZWF0ZURlZmVycmVkMigpO1xuICBsZXQgdXJsID0gc3RyaXBJbmRleFBhcmFtKHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSkpO1xuICBsZXQgaW5pdCA9IGF3YWl0IGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpO1xuICBsZXQgcmVzdWx0cyA9IHt9O1xuICBsZXQgcmVzb2x2ZVByb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICBtYXRjaGVzLm1hcChcbiAgICAgIGFzeW5jIChtLCBpKSA9PiBtLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICAgICAgcm91dGVEZmRzW2ldLnJlc29sdmUoKTtcbiAgICAgICAgbGV0IG1hbmlmZXN0Um91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF07XG4gICAgICAgIGlmICghbS5zaG91bGRMb2FkKSB7XG4gICAgICAgICAgaWYgKCFyb3V0ZXIuc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzT3B0ZWRPdXQobWFuaWZlc3RSb3V0ZSwgcm91dGVNb2R1bGVzW20ucm91dGUuaWRdLCBtLCByb3V0ZXIpKSB7XG4gICAgICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hbmlmZXN0Um91dGUgJiYgbWFuaWZlc3RSb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgICBpZiAobWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoU2luZ2xlTG9hZGVyKFxuICAgICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgIGluaXQsXG4gICAgICAgICAgICAgIG0ucm91dGUuaWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImRhdGFcIiwgcmVzdWx0IH07XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYW5pZmVzdFJvdXRlICYmIG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgICAgcm91dGVzUGFyYW1zLmFkZChtLnJvdXRlLmlkKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCBkYXRhMiA9IGF3YWl0IHNpbmdsZUZldGNoRGZkLnByb21pc2U7XG4gICAgICAgICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHRzKGRhdGEyLCBtLnJvdXRlLmlkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogXCJkYXRhXCIsXG4gICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgIHJlc3VsdDogZVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICApO1xuICBhd2FpdCByb3V0ZXNMb2FkZWRQcm9taXNlO1xuICBpZiAoKCFyb3V0ZXIuc3RhdGUuaW5pdGlhbGl6ZWQgfHwgcm91dGVzUGFyYW1zLnNpemUgPT09IDApICYmICF3aW5kb3cuX19yZWFjdFJvdXRlckhkckFjdGl2ZSkge1xuICAgIHNpbmdsZUZldGNoRGZkLnJlc29sdmUoe30pO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBpZiAoc3NyICYmIGZvdW5kT3B0T3V0Um91dGUgJiYgcm91dGVzUGFyYW1zLnNpemUgPiAwKSB7XG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFxuICAgICAgICAgIFwiX3JvdXRlc1wiLFxuICAgICAgICAgIG1hdGNoZXMuZmlsdGVyKChtKSA9PiByb3V0ZXNQYXJhbXMuaGFzKG0ucm91dGUuaWQpKS5tYXAoKG0pID0+IG0ucm91dGUuaWQpLmpvaW4oXCIsXCIpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBsZXQgZGF0YTIgPSBhd2FpdCBmZXRjaEFuZERlY29kZSh1cmwsIGluaXQpO1xuICAgICAgc2luZ2xlRmV0Y2hEZmQucmVzb2x2ZShkYXRhMi5kYXRhKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBzaW5nbGVGZXRjaERmZC5yZWplY3QoZSk7XG4gICAgfVxuICB9XG4gIGF3YWl0IHJlc29sdmVQcm9taXNlO1xuICByZXR1cm4gcmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoTG9hZGVyRmV0Y2hlclN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBmZXRjaGVyTWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGludmFyaWFudDIoZmV0Y2hlck1hdGNoLCBcIk5vIGZldGNoZXIgbWF0Y2ggZm91bmRcIik7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaGVyTWF0Y2gucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgIGxldCB1cmwgPSBzdHJpcEluZGV4UGFyYW0oc2luZ2xlRmV0Y2hVcmwocmVxdWVzdC51cmwsIGJhc2VuYW1lKSk7XG4gICAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgICByZXR1cm4gZmV0Y2hTaW5nbGVMb2FkZXIoaGFuZGxlciwgdXJsLCBpbml0LCBmZXRjaGVyTWF0Y2gucm91dGUuaWQpO1xuICB9KTtcbiAgcmV0dXJuIHsgW2ZldGNoZXJNYXRjaC5yb3V0ZS5pZF06IHJlc3VsdCB9O1xufVxuZnVuY3Rpb24gZmV0Y2hTaW5nbGVMb2FkZXIoaGFuZGxlciwgdXJsLCBpbml0LCByb3V0ZUlkKSB7XG4gIHJldHVybiBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICBsZXQgc2luZ2xlTG9hZGVyVXJsID0gbmV3IFVSTCh1cmwpO1xuICAgIHNpbmdsZUxvYWRlclVybC5zZWFyY2hQYXJhbXMuc2V0KFwiX3JvdXRlc1wiLCByb3V0ZUlkKTtcbiAgICBsZXQgeyBkYXRhOiBkYXRhMiB9ID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUoc2luZ2xlTG9hZGVyVXJsLCBpbml0KTtcbiAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHRzKGRhdGEyLCByb3V0ZUlkKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBzdHJpcEluZGV4UGFyYW0odXJsKSB7XG4gIGxldCBpbmRleFZhbHVlcyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gIGxldCBpbmRleFZhbHVlc1RvS2VlcCA9IFtdO1xuICBmb3IgKGxldCBpbmRleFZhbHVlIG9mIGluZGV4VmFsdWVzKSB7XG4gICAgaWYgKGluZGV4VmFsdWUpIHtcbiAgICAgIGluZGV4VmFsdWVzVG9LZWVwLnB1c2goaW5kZXhWYWx1ZSk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IHRvS2VlcCBvZiBpbmRleFZhbHVlc1RvS2VlcCkge1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdG9LZWVwKTtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZnVuY3Rpb24gc2luZ2xlRmV0Y2hVcmwocmVxVXJsLCBiYXNlbmFtZSkge1xuICBsZXQgdXJsID0gdHlwZW9mIHJlcVVybCA9PT0gXCJzdHJpbmdcIiA/IG5ldyBVUkwoXG4gICAgcmVxVXJsLFxuICAgIC8vIFRoaXMgY2FuIGJlIGNhbGxlZCBkdXJpbmcgdGhlIFNTUiBmbG93IHZpYSBQcmVmZXRjaFBhZ2VMaW5rc0ltcGwgc29cbiAgICAvLyBkb24ndCBhc3N1bWUgd2luZG93IGlzIGF2YWlsYWJsZVxuICAgIHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgPyBcInNlcnZlcjovL3NpbmdsZWZldGNoL1wiIDogd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICApIDogcmVxVXJsO1xuICBpZiAodXJsLnBhdGhuYW1lID09PSBcIi9cIikge1xuICAgIHVybC5wYXRobmFtZSA9IFwiX3Jvb3QuZGF0YVwiO1xuICB9IGVsc2UgaWYgKGJhc2VuYW1lICYmIHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgPT09IFwiL1wiKSB7XG4gICAgdXJsLnBhdGhuYW1lID0gYCR7YmFzZW5hbWUucmVwbGFjZSgvXFwvJC8sIFwiXCIpfS9fcm9vdC5kYXRhYDtcbiAgfSBlbHNlIHtcbiAgICB1cmwucGF0aG5hbWUgPSBgJHt1cmwucGF0aG5hbWUucmVwbGFjZSgvXFwvJC8sIFwiXCIpfS5kYXRhYDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmREZWNvZGUodXJsLCBpbml0KSB7XG4gIGxldCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIGluaXQpO1xuICBpZiAocmVzLnN0YXR1cyA9PT0gNDA0ICYmICFyZXMuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlc3BvbnNlXCIpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yUmVzcG9uc2VJbXBsKDQwNCwgXCJOb3QgRm91bmRcIiwgdHJ1ZSk7XG4gIH1cbiAgY29uc3QgTk9fQk9EWV9TVEFUVVNfQ09ERVMyID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzEwMCwgMTAxLCAyMDQsIDIwNV0pO1xuICBpZiAoTk9fQk9EWV9TVEFUVVNfQ09ERVMyLmhhcyhyZXMuc3RhdHVzKSkge1xuICAgIGlmICghaW5pdC5tZXRob2QgfHwgaW5pdC5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgIHJldHVybiB7IHN0YXR1czogcmVzLnN0YXR1cywgZGF0YToge30gfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiByZXMuc3RhdHVzLCBkYXRhOiB7IGRhdGE6IHZvaWQgMCB9IH07XG4gICAgfVxuICB9XG4gIGludmFyaWFudDIocmVzLmJvZHksIFwiTm8gcmVzcG9uc2UgYm9keSB0byBkZWNvZGVcIik7XG4gIHRyeSB7XG4gICAgbGV0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVWaWFUdXJib1N0cmVhbShyZXMuYm9keSwgd2luZG93KTtcbiAgICByZXR1cm4geyBzdGF0dXM6IHJlcy5zdGF0dXMsIGRhdGE6IGRlY29kZWQudmFsdWUgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBkZWNvZGUgdHVyYm8tc3RyZWFtIHJlc3BvbnNlXCIpO1xuICB9XG59XG5mdW5jdGlvbiBkZWNvZGVWaWFUdXJib1N0cmVhbShib2R5LCBnbG9iYWwyKSB7XG4gIHJldHVybiBkZWNvZGUoYm9keSwge1xuICAgIHBsdWdpbnM6IFtcbiAgICAgICh0eXBlLCAuLi5yZXN0KSA9PiB7XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNhbml0aXplZEVycm9yXCIpIHtcbiAgICAgICAgICBsZXQgW25hbWUsIG1lc3NhZ2UsIHN0YWNrXSA9IHJlc3Q7XG4gICAgICAgICAgbGV0IENvbnN0cnVjdG9yID0gRXJyb3I7XG4gICAgICAgICAgaWYgKG5hbWUgJiYgbmFtZSBpbiBnbG9iYWwyICYmIHR5cGVvZiBnbG9iYWwyW25hbWVdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIENvbnN0cnVjdG9yID0gZ2xvYmFsMltuYW1lXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGVycm9yID0gbmV3IENvbnN0cnVjdG9yKG1lc3NhZ2UpO1xuICAgICAgICAgIGVycm9yLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiRXJyb3JSZXNwb25zZVwiKSB7XG4gICAgICAgICAgbGV0IFtkYXRhMiwgc3RhdHVzLCBzdGF0dXNUZXh0XSA9IHJlc3Q7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRXJyb3JSZXNwb25zZUltcGwoc3RhdHVzLCBzdGF0dXNUZXh0LCBkYXRhMilcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoUmVkaXJlY3RcIikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB7IFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogcmVzdFswXSB9IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiU2luZ2xlRmV0Y2hDbGFzc0luc3RhbmNlXCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdFswXSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoRmFsbGJhY2tcIikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB2b2lkIDAgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfSk7XG59XG5mdW5jdGlvbiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdHMocmVzdWx0cywgcm91dGVJZCkge1xuICBsZXQgcmVkaXJlY3QyID0gcmVzdWx0c1tTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTtcbiAgaWYgKHJlZGlyZWN0Mikge1xuICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChyZWRpcmVjdDIsIHJvdXRlSWQpO1xuICB9XG4gIHJldHVybiByZXN1bHRzW3JvdXRlSWRdICE9PSB2b2lkIDAgPyB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChyZXN1bHRzW3JvdXRlSWRdLCByb3V0ZUlkKSA6IG51bGw7XG59XG5mdW5jdGlvbiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdChyZXN1bHQsIHJvdXRlSWQpIHtcbiAgaWYgKFwiZXJyb3JcIiBpbiByZXN1bHQpIHtcbiAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gIH0gZWxzZSBpZiAoXCJyZWRpcmVjdFwiIGluIHJlc3VsdCkge1xuICAgIGxldCBoZWFkZXJzID0ge307XG4gICAgaWYgKHJlc3VsdC5yZXZhbGlkYXRlKSB7XG4gICAgICBoZWFkZXJzW1wiWC1SZW1peC1SZXZhbGlkYXRlXCJdID0gXCJ5ZXNcIjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5yZWxvYWQpIHtcbiAgICAgIGhlYWRlcnNbXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiXSA9IFwieWVzXCI7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucmVwbGFjZSkge1xuICAgICAgaGVhZGVyc1tcIlgtUmVtaXgtUmVwbGFjZVwiXSA9IFwieWVzXCI7XG4gICAgfVxuICAgIHRocm93IHJlZGlyZWN0KHJlc3VsdC5yZWRpcmVjdCwgeyBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsIGhlYWRlcnMgfSk7XG4gIH0gZWxzZSBpZiAoXCJkYXRhXCIgaW4gcmVzdWx0KSB7XG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcihgTm8gcmVzcG9uc2UgZm91bmQgZm9yIHJvdXRlSWQgXCIke3JvdXRlSWR9XCJgKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRGVmZXJyZWQyKCkge1xuICBsZXQgcmVzb2x2ZTtcbiAgbGV0IHJlamVjdDtcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICByZXNvbHZlID0gYXN5bmMgKHZhbCkgPT4ge1xuICAgICAgcmVzKHZhbCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gICAgcmVqZWN0ID0gYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICByZWooZXJyb3IpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlc29sdmUsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVqZWN0XG4gIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2ZvZy1vZi13YXIudHNcbmltcG9ydCAqIGFzIFJlYWN0OCBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3Ivcm91dGVzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q3IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvZG9tL3Nzci9lcnJvckJvdW5kYXJpZXMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUgZnJvbSBcInJlYWN0XCI7XG52YXIgUmVtaXhFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDUuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3I6IHByb3BzLmVycm9yIHx8IG51bGwsIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbiB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmxvY2F0aW9uICE9PSBwcm9wcy5sb2NhdGlvbikge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IHByb3BzLmVycm9yIHx8IG51bGwsIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbiB9O1xuICAgIH1cbiAgICByZXR1cm4geyBlcnJvcjogcHJvcHMuZXJyb3IgfHwgc3RhdGUuZXJyb3IsIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbiB9O1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICAgICAgUmVtaXhSb290RGVmYXVsdEVycm9yQm91bmRhcnksXG4gICAgICAgIHtcbiAgICAgICAgICBlcnJvcjogdGhpcy5zdGF0ZS5lcnJvcixcbiAgICAgICAgICBpc091dHNpZGVSZW1peEFwcDogdHJ1ZVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSh7XG4gIGVycm9yLFxuICBpc091dHNpZGVSZW1peEFwcFxufSkge1xuICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgbGV0IGhleURldmVsb3BlciA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYFxuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBcIlxcdXsxRjRCRn0gSGV5IGRldmVsb3BlciBcXHV7MUY0NEJ9LiBZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyB3aGVuIHlvdXIgYXBwIHRocm93cyBlcnJvcnMuIENoZWNrIG91dCBodHRwczovL3JlbWl4LnJ1bi9ndWlkZXMvZXJyb3JzIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICk7XG4gICAgICBgXG4gICAgICB9XG4gICAgfVxuICApO1xuICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChCb3VuZGFyeVNoZWxsLCB7IHRpdGxlOiBcIlVuaGFuZGxlZCBUaHJvd24gUmVzcG9uc2UhXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaDFcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIyNHB4XCIgfSB9LCBlcnJvci5zdGF0dXMsIFwiIFwiLCBlcnJvci5zdGF0dXNUZXh0KSwgaGV5RGV2ZWxvcGVyKTtcbiAgfVxuICBsZXQgZXJyb3JJbnN0YW5jZTtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlcnJvckluc3RhbmNlID0gZXJyb3I7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGVycm9yU3RyaW5nID0gZXJyb3IgPT0gbnVsbCA/IFwiVW5rbm93biBFcnJvclwiIDogdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIFwidG9TdHJpbmdcIiBpbiBlcnJvciA/IGVycm9yLnRvU3RyaW5nKCkgOiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gICAgZXJyb3JJbnN0YW5jZSA9IG5ldyBFcnJvcihlcnJvclN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICBCb3VuZGFyeVNoZWxsLFxuICAgIHtcbiAgICAgIHRpdGxlOiBcIkFwcGxpY2F0aW9uIEVycm9yIVwiLFxuICAgICAgaXNPdXRzaWRlUmVtaXhBcHBcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMjRweFwiIH0gfSwgXCJBcHBsaWNhdGlvbiBFcnJvclwiKSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInByZVwiLFxuICAgICAge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBhZGRpbmc6IFwiMnJlbVwiLFxuICAgICAgICAgIGJhY2tncm91bmQ6IFwiaHNsYSgxMCwgNTAlLCA1MCUsIDAuMSlcIixcbiAgICAgICAgICBjb2xvcjogXCJyZWRcIixcbiAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGVycm9ySW5zdGFuY2Uuc3RhY2tcbiAgICApLFxuICAgIGhleURldmVsb3BlclxuICApO1xufVxuZnVuY3Rpb24gQm91bmRhcnlTaGVsbCh7XG4gIHRpdGxlLFxuICByZW5kZXJTY3JpcHRzLFxuICBpc091dHNpZGVSZW1peEFwcCxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgbGV0IHsgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGlmIChyb3V0ZU1vZHVsZXMucm9vdD8uTGF5b3V0ICYmICFpc091dHNpZGVSZW1peEFwcCkge1xuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaHRtbFwiLCB7IGxhbmc6IFwiZW5cIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJoZWFkXCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBjaGFyU2V0OiBcInV0Zi04XCIgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICBcIm1ldGFcIixcbiAgICB7XG4gICAgICBuYW1lOiBcInZpZXdwb3J0XCIsXG4gICAgICBjb250ZW50OiBcIndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEsdmlld3BvcnQtZml0PWNvdmVyXCJcbiAgICB9XG4gICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIG51bGwsIHRpdGxlKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImJvZHlcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwibWFpblwiLCB7IHN0eWxlOiB7IGZvbnRGYW1pbHk6IFwic3lzdGVtLXVpLCBzYW5zLXNlcmlmXCIsIHBhZGRpbmc6IFwiMnJlbVwiIH0gfSwgY2hpbGRyZW4sIHJlbmRlclNjcmlwdHMgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoU2NyaXB0cywgbnVsbCkgOiBudWxsKSkpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mYWxsYmFjay50c3hcbmltcG9ydCAqIGFzIFJlYWN0NiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFJlbWl4Um9vdERlZmF1bHRIeWRyYXRlRmFsbGJhY2soKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoQm91bmRhcnlTaGVsbCwgeyB0aXRsZTogXCJMb2FkaW5nLi4uXCIsIHJlbmRlclNjcmlwdHM6IHRydWUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgICAgIFwiXFx1ezFGNEJGfSBIZXkgZGV2ZWxvcGVyIFxcdXsxRjQ0Qn0uIFlvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIFwiICtcbiAgICAgICAgICAgICAgICBcIndoZW4geW91ciBhcHAgaXMgbG9hZGluZyBKUyBtb2R1bGVzIGFuZC9vciBydW5uaW5nIFxcYGNsaWVudExvYWRlclxcYCBcIiArXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvbnMuIENoZWNrIG91dCBodHRwczovL3JlbWl4LnJ1bi9yb3V0ZS9oeWRyYXRlLWZhbGxiYWNrIFwiICtcbiAgICAgICAgICAgICAgICBcImZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBgXG4gICAgICB9XG4gICAgfVxuICApKTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivcm91dGVzLnRzeFxuZnVuY3Rpb24gZ3JvdXBSb3V0ZXNCeVBhcmVudElkKG1hbmlmZXN0KSB7XG4gIGxldCByb3V0ZXMgPSB7fTtcbiAgT2JqZWN0LnZhbHVlcyhtYW5pZmVzdCkuZm9yRWFjaCgocm91dGUpID0+IHtcbiAgICBpZiAocm91dGUpIHtcbiAgICAgIGxldCBwYXJlbnRJZCA9IHJvdXRlLnBhcmVudElkIHx8IFwiXCI7XG4gICAgICBpZiAoIXJvdXRlc1twYXJlbnRJZF0pIHtcbiAgICAgICAgcm91dGVzW3BhcmVudElkXSA9IFtdO1xuICAgICAgfVxuICAgICAgcm91dGVzW3BhcmVudElkXS5wdXNoKHJvdXRlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcm91dGVzO1xufVxuZnVuY3Rpb24gZ2V0Um91dGVDb21wb25lbnRzKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSB7XG4gIGxldCBDb21wb25lbnQ0ID0gZ2V0Um91dGVNb2R1bGVDb21wb25lbnQocm91dGVNb2R1bGUpO1xuICBsZXQgSHlkcmF0ZUZhbGxiYWNrID0gcm91dGVNb2R1bGUuSHlkcmF0ZUZhbGxiYWNrICYmICghaXNTcGFNb2RlIHx8IHJvdXRlLmlkID09PSBcInJvb3RcIikgPyByb3V0ZU1vZHVsZS5IeWRyYXRlRmFsbGJhY2sgOiByb3V0ZS5pZCA9PT0gXCJyb290XCIgPyBSZW1peFJvb3REZWZhdWx0SHlkcmF0ZUZhbGxiYWNrIDogdm9pZCAwO1xuICBsZXQgRXJyb3JCb3VuZGFyeSA9IHJvdXRlTW9kdWxlLkVycm9yQm91bmRhcnkgPyByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5IDogcm91dGUuaWQgPT09IFwicm9vdFwiID8gKCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KFJlbWl4Um9vdERlZmF1bHRFcnJvckJvdW5kYXJ5LCB7IGVycm9yOiB1c2VSb3V0ZUVycm9yKCkgfSkgOiB2b2lkIDA7XG4gIGlmIChyb3V0ZS5pZCA9PT0gXCJyb290XCIgJiYgcm91dGVNb2R1bGUuTGF5b3V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLkNvbXBvbmVudDQgPyB7XG4gICAgICAgIGVsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChyb3V0ZU1vZHVsZS5MYXlvdXQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChDb21wb25lbnQ0LCBudWxsKSlcbiAgICAgIH0gOiB7IENvbXBvbmVudDogQ29tcG9uZW50NCB9LFxuICAgICAgLi4uRXJyb3JCb3VuZGFyeSA/IHtcbiAgICAgICAgZXJyb3JFbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoRXJyb3JCb3VuZGFyeSwgbnVsbCkpXG4gICAgICB9IDogeyBFcnJvckJvdW5kYXJ5IH0sXG4gICAgICAuLi5IeWRyYXRlRmFsbGJhY2sgPyB7XG4gICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChyb3V0ZU1vZHVsZS5MYXlvdXQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChIeWRyYXRlRmFsbGJhY2ssIG51bGwpKVxuICAgICAgfSA6IHsgSHlkcmF0ZUZhbGxiYWNrIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB7IENvbXBvbmVudDogQ29tcG9uZW50NCwgRXJyb3JCb3VuZGFyeSwgSHlkcmF0ZUZhbGxiYWNrIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJSb3V0ZXMobWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgZnV0dXJlLCBpc1NwYU1vZGUsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCksIHNwYU1vZGVMYXp5UHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh7IENvbXBvbmVudDogKCkgPT4gbnVsbCB9KSkge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGVNb2R1bGVzW3JvdXRlLmlkXTtcbiAgICBpbnZhcmlhbnQyKFxuICAgICAgcm91dGVNb2R1bGUsXG4gICAgICBcIk5vIGByb3V0ZU1vZHVsZWAgYXZhaWxhYmxlIHRvIGNyZWF0ZSBzZXJ2ZXIgcm91dGVzXCJcbiAgICApO1xuICAgIGxldCBkYXRhUm91dGUgPSB7XG4gICAgICAuLi5nZXRSb3V0ZUNvbXBvbmVudHMocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogcm91dGUuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICAgIC8vIEZvciBTUEEgTW9kZSwgYWxsIHJvdXRlcyBhcmUgbGF6eSBleGNlcHQgcm9vdC4gIEhvd2V2ZXIgd2UgdGVsbCB0aGVcbiAgICAgIC8vIHJvdXRlciByb290IGlzIGFsc28gbGF6eSBoZXJlIHRvbyBzaW5jZSB3ZSBkb24ndCBuZWVkIGEgZnVsbFxuICAgICAgLy8gaW1wbGVtZW50YXRpb24gLSB3ZSBqdXN0IG5lZWQgYSBgbGF6eWAgcHJvcCB0byB0ZWxsIHRoZSBSUiByZW5kZXJpbmdcbiAgICAgIC8vIHdoZXJlIHRvIHN0b3Agd2hpY2ggaXMgYWx3YXlzIGF0IHRoZSByb290IHJvdXRlIGluIFNQQSBtb2RlXG4gICAgICBsYXp5OiBpc1NwYU1vZGUgPyAoKSA9PiBzcGFNb2RlTGF6eVByb21pc2UgOiB2b2lkIDAsXG4gICAgICAvLyBGb3IgcGFydGlhbCBoeWRyYXRpb24gcmVuZGVyaW5nLCB3ZSBuZWVkIHRvIGluZGljYXRlIHdoZW4gdGhlIHJvdXRlXG4gICAgICAvLyBoYXMgYSBsb2FkZXIvY2xpZW50TG9hZGVyLCBidXQgaXQgd29uJ3QgZXZlciBiZSBjYWxsZWQgZHVyaW5nIHRoZSBzdGF0aWNcbiAgICAgIC8vIHJlbmRlciwgc28ganVzdCBnaXZlIGl0IGEgbm8tb3AgZnVuY3Rpb24gc28gd2UgY2FuIHJlbmRlciBkb3duIHRvIHRoZVxuICAgICAgLy8gcHJvcGVyIGZhbGxiYWNrXG4gICAgICBsb2FkZXI6IHJvdXRlLmhhc0xvYWRlciB8fCByb3V0ZS5oYXNDbGllbnRMb2FkZXIgPyAoKSA9PiBudWxsIDogdm9pZCAwXG4gICAgICAvLyBXZSBkb24ndCBuZWVkIG1pZGRsZXdhcmUvYWN0aW9uL3Nob3VsZFJldmFsaWRhdGUgb24gdGhlc2Ugcm91dGVzIHNpbmNlXG4gICAgICAvLyB0aGV5J3JlIGZvciBhIHN0YXRpYyByZW5kZXJcbiAgICB9O1xuICAgIGxldCBjaGlsZHJlbiA9IGNyZWF0ZVNlcnZlclJvdXRlcyhcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgZnV0dXJlLFxuICAgICAgaXNTcGFNb2RlLFxuICAgICAgcm91dGUuaWQsXG4gICAgICByb3V0ZXNCeVBhcmVudElkLFxuICAgICAgc3BhTW9kZUxhenlQcm9taXNlXG4gICAgKTtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkgZGF0YVJvdXRlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgcmV0dXJuIGRhdGFSb3V0ZTtcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0KG5lZWRzUmV2YWxpZGF0aW9uLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzQ2FjaGUsIGluaXRpYWxTdGF0ZSwgc3NyLCBpc1NwYU1vZGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudFJvdXRlcyhcbiAgICBtYW5pZmVzdCxcbiAgICByb3V0ZU1vZHVsZXNDYWNoZSxcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgc3NyLFxuICAgIGlzU3BhTW9kZSxcbiAgICBcIlwiLFxuICAgIGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCksXG4gICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwodHlwZSwgcm91dGUpIHtcbiAgaWYgKHR5cGUgPT09IFwibG9hZGVyXCIgJiYgIXJvdXRlLmhhc0xvYWRlciB8fCB0eXBlID09PSBcImFjdGlvblwiICYmICFyb3V0ZS5oYXNBY3Rpb24pIHtcbiAgICBsZXQgZm4gPSB0eXBlID09PSBcImFjdGlvblwiID8gXCJzZXJ2ZXJBY3Rpb24oKVwiIDogXCJzZXJ2ZXJMb2FkZXIoKVwiO1xuICAgIGxldCBtc2cgPSBgWW91IGFyZSB0cnlpbmcgdG8gY2FsbCAke2ZufSBvbiBhIHJvdXRlIHRoYXQgZG9lcyBub3QgaGF2ZSBhIHNlcnZlciAke3R5cGV9IChyb3V0ZUlkOiBcIiR7cm91dGUuaWR9XCIpYDtcbiAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgdGhyb3cgbmV3IEVycm9yUmVzcG9uc2VJbXBsKDQwMCwgXCJCYWQgUmVxdWVzdFwiLCBuZXcgRXJyb3IobXNnKSwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vQWN0aW9uRGVmaW5lZEVycm9yKHR5cGUsIHJvdXRlSWQpIHtcbiAgbGV0IGFydGljbGUgPSB0eXBlID09PSBcImNsaWVudEFjdGlvblwiID8gXCJhXCIgOiBcImFuXCI7XG4gIGxldCBtc2cgPSBgUm91dGUgXCIke3JvdXRlSWR9XCIgZG9lcyBub3QgaGF2ZSAke2FydGljbGV9ICR7dHlwZX0sIGJ1dCB5b3UgYXJlIHRyeWluZyB0byBzdWJtaXQgdG8gaXQuIFRvIGZpeCB0aGlzLCBwbGVhc2UgYWRkICR7YXJ0aWNsZX0gXFxgJHt0eXBlfVxcYCBmdW5jdGlvbiB0byB0aGUgcm91dGVgO1xuICBjb25zb2xlLmVycm9yKG1zZyk7XG4gIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDUsIFwiTWV0aG9kIE5vdCBBbGxvd2VkXCIsIG5ldyBFcnJvcihtc2cpLCB0cnVlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudFJvdXRlcyhtYW5pZmVzdCwgcm91dGVNb2R1bGVzQ2FjaGUsIGluaXRpYWxTdGF0ZSwgc3NyLCBpc1NwYU1vZGUsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCksIG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+IHtcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZU1vZHVsZXNDYWNoZVtyb3V0ZS5pZF07XG4gICAgZnVuY3Rpb24gZmV0Y2hTZXJ2ZXJIYW5kbGVyKHNpbmdsZUZldGNoKSB7XG4gICAgICBpbnZhcmlhbnQyKFxuICAgICAgICB0eXBlb2Ygc2luZ2xlRmV0Y2ggPT09IFwiZnVuY3Rpb25cIixcbiAgICAgICAgXCJObyBzaW5nbGUgZmV0Y2ggZnVuY3Rpb24gYXZhaWxhYmxlIGZvciByb3V0ZSBoYW5kbGVyXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gc2luZ2xlRmV0Y2goKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpIHtcbiAgICAgIGlmICghcm91dGUuaGFzTG9hZGVyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0FjdGlvbikge1xuICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJIYW5kbGVyKHNpbmdsZUZldGNoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlZmV0Y2hNb2R1bGUobW9kdWxlUGF0aCkge1xuICAgICAgaW1wb3J0KFxuICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICBtb2R1bGVQYXRoXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVmZXRjaFJvdXRlTW9kdWxlQ2h1bmtzKHJvdXRlMikge1xuICAgICAgaWYgKHJvdXRlMi5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgcHJlZmV0Y2hNb2R1bGUocm91dGUyLmNsaWVudEFjdGlvbk1vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAocm91dGUyLmNsaWVudExvYWRlck1vZHVsZSkge1xuICAgICAgICBwcmVmZXRjaE1vZHVsZShyb3V0ZTIuY2xpZW50TG9hZGVyTW9kdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICBsZXQgY2FjaGVkTW9kdWxlID0gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICAgICAgbGV0IGxpbmtQcmVmZXRjaFByb21pc2UgPSBjYWNoZWRNb2R1bGUgPyBwcmVmZXRjaFN0eWxlTGlua3Mocm91dGUsIGNhY2hlZE1vZHVsZSkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBhd2FpdCBsaW5rUHJlZmV0Y2hQcm9taXNlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGF0YVJvdXRlID0ge1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXg6IHJvdXRlLmluZGV4LFxuICAgICAgcGF0aDogcm91dGUucGF0aFxuICAgIH07XG4gICAgaWYgKHJvdXRlTW9kdWxlKSB7XG4gICAgICBPYmplY3QuYXNzaWduKGRhdGFSb3V0ZSwge1xuICAgICAgICAuLi5kYXRhUm91dGUsXG4gICAgICAgIC4uLmdldFJvdXRlQ29tcG9uZW50cyhyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSksXG4gICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IHJvdXRlTW9kdWxlLnVuc3RhYmxlX2NsaWVudE1pZGRsZXdhcmUsXG4gICAgICAgIGhhbmRsZTogcm91dGVNb2R1bGUuaGFuZGxlLFxuICAgICAgICBzaG91bGRSZXZhbGlkYXRlOiBnZXRTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24oXG4gICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgcm91dGUsXG4gICAgICAgICAgc3NyLFxuICAgICAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgICAgIClcbiAgICAgIH0pO1xuICAgICAgbGV0IGhhc0luaXRpYWxEYXRhID0gaW5pdGlhbFN0YXRlICYmIGluaXRpYWxTdGF0ZS5sb2FkZXJEYXRhICYmIHJvdXRlLmlkIGluIGluaXRpYWxTdGF0ZS5sb2FkZXJEYXRhO1xuICAgICAgbGV0IGluaXRpYWxEYXRhID0gaGFzSW5pdGlhbERhdGEgPyBpbml0aWFsU3RhdGU/LmxvYWRlckRhdGE/Lltyb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBsZXQgaGFzSW5pdGlhbEVycm9yID0gaW5pdGlhbFN0YXRlICYmIGluaXRpYWxTdGF0ZS5lcnJvcnMgJiYgcm91dGUuaWQgaW4gaW5pdGlhbFN0YXRlLmVycm9ycztcbiAgICAgIGxldCBpbml0aWFsRXJyb3IgPSBoYXNJbml0aWFsRXJyb3IgPyBpbml0aWFsU3RhdGU/LmVycm9ycz8uW3JvdXRlLmlkXSA6IHZvaWQgMDtcbiAgICAgIGxldCBpc0h5ZHJhdGlvblJlcXVlc3QgPSBuZWVkc1JldmFsaWRhdGlvbiA9PSBudWxsICYmIChyb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXI/Lmh5ZHJhdGUgPT09IHRydWUgfHwgIXJvdXRlLmhhc0xvYWRlcik7XG4gICAgICBkYXRhUm91dGUubG9hZGVyID0gYXN5bmMgKHsgcmVxdWVzdCwgcGFyYW1zLCBjb250ZXh0IH0sIHNpbmdsZUZldGNoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaW52YXJpYW50MihcbiAgICAgICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgICAgIFwiTm8gYHJvdXRlTW9kdWxlYCBhdmFpbGFibGUgZm9yIGNyaXRpY2FsLXJvdXRlIGxvYWRlclwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFyb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIoe1xuICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgIGFzeW5jIHNlcnZlckxvYWRlcigpIHtcbiAgICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwibG9hZGVyXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoaXNIeWRyYXRpb25SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoaGFzSW5pdGlhbERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxEYXRhO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGhhc0luaXRpYWxFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbml0aWFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaXNIeWRyYXRpb25SZXF1ZXN0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkYXRhUm91dGUubG9hZGVyLmh5ZHJhdGUgPSBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIoXG4gICAgICAgIHJvdXRlLFxuICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgaXNTcGFNb2RlXG4gICAgICApO1xuICAgICAgZGF0YVJvdXRlLmFjdGlvbiA9ICh7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9LCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaW52YXJpYW50MihcbiAgICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgICAgXCJObyBgcm91dGVNb2R1bGVgIGF2YWlsYWJsZSBmb3IgY3JpdGljYWwtcm91dGUgYWN0aW9uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uKSB7XG4gICAgICAgICAgICBpZiAoaXNTcGFNb2RlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5vQWN0aW9uRGVmaW5lZEVycm9yKFwiY2xpZW50QWN0aW9uXCIsIHJvdXRlLmlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5jbGllbnRBY3Rpb24oe1xuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJBY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJhY3Rpb25cIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcm91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5sb2FkZXIgPSAoXywgc2luZ2xlRmV0Y2gpID0+IHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IGFzeW5jIChhcmdzLCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICAgIGludmFyaWFudDIocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKTtcbiAgICAgICAgICBsZXQgeyBjbGllbnRMb2FkZXIgfSA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICAgICAgcm91dGUuY2xpZW50TG9hZGVyTW9kdWxlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJsb2FkZXJcIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKCFyb3V0ZS5oYXNDbGllbnRBY3Rpb24pIHtcbiAgICAgICAgZGF0YVJvdXRlLmFjdGlvbiA9IChfLCBzaW5nbGVGZXRjaCkgPT4gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcigoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzU3BhTW9kZSkge1xuICAgICAgICAgICAgdGhyb3cgbm9BY3Rpb25EZWZpbmVkRXJyb3IoXCJjbGllbnRBY3Rpb25cIiwgcm91dGUuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSBhc3luYyAoYXJncywgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgICBpbnZhcmlhbnQyKHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSk7XG4gICAgICAgICAgcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZSk7XG4gICAgICAgICAgbGV0IHsgY2xpZW50QWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgICAgIHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudEFjdGlvbih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyQWN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwiYWN0aW9uXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRhdGFSb3V0ZS5sYXp5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlIHx8IHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9kUHJvbWlzZSA9IGxvYWRSb3V0ZU1vZHVsZVdpdGhCbG9ja2luZ0xpbmtzKFxuICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgIHJvdXRlTW9kdWxlc0NhY2hlXG4gICAgICAgICk7XG4gICAgICAgIHByZWZldGNoUm91dGVNb2R1bGVDaHVua3Mocm91dGUpO1xuICAgICAgICBsZXQgbW9kID0gYXdhaXQgbW9kUHJvbWlzZTtcbiAgICAgICAgbGV0IGxhenlSb3V0ZSA9IHsgLi4ubW9kIH07XG4gICAgICAgIGlmIChtb2QuY2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgbGV0IGNsaWVudExvYWRlciA9IG1vZC5jbGllbnRMb2FkZXI7XG4gICAgICAgICAgbGF6eVJvdXRlLmxvYWRlciA9IChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJsb2FkZXJcIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2QuY2xpZW50QWN0aW9uKSB7XG4gICAgICAgICAgbGV0IGNsaWVudEFjdGlvbiA9IG1vZC5jbGllbnRBY3Rpb247XG4gICAgICAgICAgbGF6eVJvdXRlLmFjdGlvbiA9IChhcmdzLCBzaW5nbGVGZXRjaCkgPT4gY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJBY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJhY3Rpb25cIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ubGF6eVJvdXRlLmxvYWRlciA/IHsgbG9hZGVyOiBsYXp5Um91dGUubG9hZGVyIH0gOiB7fSxcbiAgICAgICAgICAuLi5sYXp5Um91dGUuYWN0aW9uID8geyBhY3Rpb246IGxhenlSb3V0ZS5hY3Rpb24gfSA6IHt9LFxuICAgICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IG1vZC51bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlLFxuICAgICAgICAgIGhhc0Vycm9yQm91bmRhcnk6IGxhenlSb3V0ZS5oYXNFcnJvckJvdW5kYXJ5LFxuICAgICAgICAgIHNob3VsZFJldmFsaWRhdGU6IGdldFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbihcbiAgICAgICAgICAgIGxhenlSb3V0ZSxcbiAgICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgICAgc3NyLFxuICAgICAgICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICAgICAgICApLFxuICAgICAgICAgIGhhbmRsZTogbGF6eVJvdXRlLmhhbmRsZSxcbiAgICAgICAgICAvLyBObyBuZWVkIHRvIHdyYXAgdGhlc2UgaW4gbGF5b3V0IHNpbmNlIHRoZSByb290IHJvdXRlIGlzIG5ldmVyXG4gICAgICAgICAgLy8gbG9hZGVkIHZpYSByb3V0ZS5sYXp5KClcbiAgICAgICAgICBDb21wb25lbnQ6IGxhenlSb3V0ZS5Db21wb25lbnQsXG4gICAgICAgICAgRXJyb3JCb3VuZGFyeTogbGF6eVJvdXRlLkVycm9yQm91bmRhcnlcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBjaGlsZHJlbiA9IGNyZWF0ZUNsaWVudFJvdXRlcyhcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzQ2FjaGUsXG4gICAgICBpbml0aWFsU3RhdGUsXG4gICAgICBzc3IsXG4gICAgICBpc1NwYU1vZGUsXG4gICAgICByb3V0ZS5pZCxcbiAgICAgIHJvdXRlc0J5UGFyZW50SWQsXG4gICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIGRhdGFSb3V0ZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHJldHVybiBkYXRhUm91dGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0U2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uKHJvdXRlLCBtYW5pZmVzdFJvdXRlLCBzc3IsIG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gIGlmIChuZWVkc1JldmFsaWRhdGlvbikge1xuICAgIHJldHVybiB3cmFwU2hvdWxkUmV2YWxpZGF0ZUZvckhkcihcbiAgICAgIG1hbmlmZXN0Um91dGUuaWQsXG4gICAgICByb3V0ZS5zaG91bGRSZXZhbGlkYXRlLFxuICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICApO1xuICB9XG4gIGlmICghc3NyICYmIG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyICYmICFtYW5pZmVzdFJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgIGlmIChyb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICBsZXQgZm4gPSByb3V0ZS5zaG91bGRSZXZhbGlkYXRlO1xuICAgICAgcmV0dXJuIChvcHRzKSA9PiBmbih7IC4uLm9wdHMsIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICgpID0+IGZhbHNlO1xuICAgIH1cbiAgfVxuICBpZiAoc3NyICYmIHJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICBsZXQgZm4gPSByb3V0ZS5zaG91bGRSZXZhbGlkYXRlO1xuICAgIHJldHVybiAob3B0cykgPT4gZm4oeyAuLi5vcHRzLCBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbn1cbmZ1bmN0aW9uIHdyYXBTaG91bGRSZXZhbGlkYXRlRm9ySGRyKHJvdXRlSWQsIHJvdXRlU2hvdWxkUmV2YWxpZGF0ZSwgbmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgbGV0IGhhbmRsZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcbiAgcmV0dXJuIChhcmcpID0+IHtcbiAgICBpZiAoIWhhbmRsZWRSZXZhbGlkYXRpb24pIHtcbiAgICAgIGhhbmRsZWRSZXZhbGlkYXRpb24gPSB0cnVlO1xuICAgICAgcmV0dXJuIG5lZWRzUmV2YWxpZGF0aW9uLmhhcyhyb3V0ZUlkKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlU2hvdWxkUmV2YWxpZGF0ZSA/IHJvdXRlU2hvdWxkUmV2YWxpZGF0ZShhcmcpIDogYXJnLmRlZmF1bHRTaG91bGRSZXZhbGlkYXRlO1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlTW9kdWxlV2l0aEJsb2NraW5nTGlua3Mocm91dGUsIHJvdXRlTW9kdWxlcykge1xuICBsZXQgcm91dGVNb2R1bGVQcm9taXNlID0gbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXMpO1xuICBsZXQgcHJlZmV0Y2hSb3V0ZUNzc1Byb21pc2UgPSBwcmVmZXRjaFJvdXRlQ3NzKHJvdXRlKTtcbiAgbGV0IHJvdXRlTW9kdWxlID0gYXdhaXQgcm91dGVNb2R1bGVQcm9taXNlO1xuICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgcHJlZmV0Y2hSb3V0ZUNzc1Byb21pc2UsXG4gICAgcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCByb3V0ZU1vZHVsZSlcbiAgXSk7XG4gIHJldHVybiB7XG4gICAgQ29tcG9uZW50OiBnZXRSb3V0ZU1vZHVsZUNvbXBvbmVudChyb3V0ZU1vZHVsZSksXG4gICAgRXJyb3JCb3VuZGFyeTogcm91dGVNb2R1bGUuRXJyb3JCb3VuZGFyeSxcbiAgICB1bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlOiByb3V0ZU1vZHVsZS51bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlLFxuICAgIGNsaWVudEFjdGlvbjogcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uLFxuICAgIGNsaWVudExvYWRlcjogcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyLFxuICAgIGhhbmRsZTogcm91dGVNb2R1bGUuaGFuZGxlLFxuICAgIGxpbmtzOiByb3V0ZU1vZHVsZS5saW5rcyxcbiAgICBtZXRhOiByb3V0ZU1vZHVsZS5tZXRhLFxuICAgIHNob3VsZFJldmFsaWRhdGU6IHJvdXRlTW9kdWxlLnNob3VsZFJldmFsaWRhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKSB7XG4gIGlmIChyb3V0ZU1vZHVsZS5kZWZhdWx0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gIGxldCBpc0VtcHR5T2JqZWN0ID0gdHlwZW9mIHJvdXRlTW9kdWxlLmRlZmF1bHQgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMocm91dGVNb2R1bGUuZGVmYXVsdCkubGVuZ3RoID09PSAwO1xuICBpZiAoIWlzRW1wdHlPYmplY3QpIHtcbiAgICByZXR1cm4gcm91dGVNb2R1bGUuZGVmYXVsdDtcbiAgfVxufVxuZnVuY3Rpb24gc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSB7XG4gIHJldHVybiBpc1NwYU1vZGUgJiYgcm91dGUuaWQgIT09IFwicm9vdFwiIHx8IHJvdXRlTW9kdWxlLmNsaWVudExvYWRlciAhPSBudWxsICYmIChyb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIuaHlkcmF0ZSA9PT0gdHJ1ZSB8fCByb3V0ZS5oYXNMb2FkZXIgIT09IHRydWUpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mb2ctb2Ytd2FyLnRzXG52YXIgbmV4dFBhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBkaXNjb3ZlcmVkUGF0aHNNYXhTaXplID0gMWUzO1xudmFyIGRpc2NvdmVyZWRQYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgVVJMX0xJTUlUID0gNzY4MDtcbmZ1bmN0aW9uIGlzRm9nT2ZXYXJFbmFibGVkKHNzcikge1xuICByZXR1cm4gc3NyID09PSB0cnVlO1xufVxuZnVuY3Rpb24gZ2V0UGFydGlhbE1hbmlmZXN0KG1hbmlmZXN0LCByb3V0ZXIpIHtcbiAgbGV0IHJvdXRlSWRzID0gbmV3IFNldChyb3V0ZXIuc3RhdGUubWF0Y2hlcy5tYXAoKG0pID0+IG0ucm91dGUuaWQpKTtcbiAgbGV0IHNlZ21lbnRzID0gcm91dGVyLnN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIoQm9vbGVhbik7XG4gIGxldCBwYXRocyA9IFtcIi9cIl07XG4gIHNlZ21lbnRzLnBvcCgpO1xuICB3aGlsZSAoc2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgIHBhdGhzLnB1c2goYC8ke3NlZ21lbnRzLmpvaW4oXCIvXCIpfWApO1xuICAgIHNlZ21lbnRzLnBvcCgpO1xuICB9XG4gIHBhdGhzLmZvckVhY2goKHBhdGgpID0+IHtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlci5yb3V0ZXMsIHBhdGgsIHJvdXRlci5iYXNlbmFtZSk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMuZm9yRWFjaCgobSkgPT4gcm91dGVJZHMuYWRkKG0ucm91dGUuaWQpKTtcbiAgICB9XG4gIH0pO1xuICBsZXQgaW5pdGlhbFJvdXRlcyA9IFsuLi5yb3V0ZUlkc10ucmVkdWNlKFxuICAgIChhY2MsIGlkKSA9PiBPYmplY3QuYXNzaWduKGFjYywgeyBbaWRdOiBtYW5pZmVzdC5yb3V0ZXNbaWRdIH0pLFxuICAgIHt9XG4gICk7XG4gIHJldHVybiB7XG4gICAgLi4ubWFuaWZlc3QsXG4gICAgcm91dGVzOiBpbml0aWFsUm91dGVzXG4gIH07XG59XG5mdW5jdGlvbiBnZXRQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uKG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgaXNTcGFNb2RlLCBiYXNlbmFtZSkge1xuICBpZiAoIWlzRm9nT2ZXYXJFbmFibGVkKHNzcikpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHJldHVybiBhc3luYyAoeyBwYXRoLCBwYXRjaCwgc2lnbmFsLCBmZXRjaGVyS2V5IH0pID0+IHtcbiAgICBpZiAoZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgW3BhdGhdLFxuICAgICAgZmV0Y2hlcktleSA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogcGF0aCxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgc3NyLFxuICAgICAgaXNTcGFNb2RlLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBwYXRjaCxcbiAgICAgIHNpZ25hbFxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiB1c2VGb2dPRldhckRpc2NvdmVyeShyb3V0ZXIsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgaXNTcGFNb2RlKSB7XG4gIFJlYWN0OC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNGb2dPZldhckVuYWJsZWQoc3NyKSB8fCBuYXZpZ2F0b3IuY29ubmVjdGlvbj8uc2F2ZURhdGEgPT09IHRydWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KGVsKSB7XG4gICAgICBsZXQgcGF0aCA9IGVsLnRhZ05hbWUgPT09IFwiRk9STVwiID8gZWwuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpIDogZWwuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcGF0aG5hbWUgPSBlbC50YWdOYW1lID09PSBcIkFcIiA/IGVsLnBhdGhuYW1lIDogbmV3IFVSTChwYXRoLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKS5wYXRobmFtZTtcbiAgICAgIGlmICghZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRobmFtZSkpIHtcbiAgICAgICAgbmV4dFBhdGhzLmFkZChwYXRobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGZldGNoUGF0Y2hlcygpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJhW2RhdGEtZGlzY292ZXJdLCBmb3JtW2RhdGEtZGlzY292ZXJdXCIpLmZvckVhY2gocmVnaXN0ZXJFbGVtZW50KTtcbiAgICAgIGxldCBsYXp5UGF0aHMgPSBBcnJheS5mcm9tKG5leHRQYXRocy5rZXlzKCkpLmZpbHRlcigocGF0aCkgPT4ge1xuICAgICAgICBpZiAoZGlzY292ZXJlZFBhdGhzLmhhcyhwYXRoKSkge1xuICAgICAgICAgIG5leHRQYXRocy5kZWxldGUocGF0aCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSk7XG4gICAgICBpZiAobGF6eVBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKFxuICAgICAgICAgIGxhenlQYXRocyxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG1hbmlmZXN0LFxuICAgICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgICBzc3IsXG4gICAgICAgICAgaXNTcGFNb2RlLFxuICAgICAgICAgIHJvdXRlci5iYXNlbmFtZSxcbiAgICAgICAgICByb3V0ZXIucGF0Y2hSb3V0ZXNcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBtYW5pZmVzdCBwYXRjaGVzXCIsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgZGVib3VuY2VkRmV0Y2hQYXRjaGVzID0gZGVib3VuY2UoZmV0Y2hQYXRjaGVzLCAxMDApO1xuICAgIGZldGNoUGF0Y2hlcygpO1xuICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IGRlYm91bmNlZEZldGNoUGF0Y2hlcygpKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwge1xuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVGaWx0ZXI6IFtcImRhdGEtZGlzY292ZXJcIiwgXCJocmVmXCIsIFwiYWN0aW9uXCJdXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgfSwgW3NzciwgaXNTcGFNb2RlLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCByb3V0ZXJdKTtcbn1cbnZhciBNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZID0gXCJyZWFjdC1yb3V0ZXItbWFuaWZlc3QtdmVyc2lvblwiO1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhwYXRocywgZXJyb3JSZWxvYWRQYXRoLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGlzU3BhTW9kZSwgYmFzZW5hbWUsIHBhdGNoUm91dGVzLCBzaWduYWwpIHtcbiAgbGV0IG1hbmlmZXN0UGF0aCA9IGAke2Jhc2VuYW1lICE9IG51bGwgPyBiYXNlbmFtZSA6IFwiL1wifS9fX21hbmlmZXN0YC5yZXBsYWNlKFxuICAgIC9cXC8rL2csXG4gICAgXCIvXCJcbiAgKTtcbiAgbGV0IHVybCA9IG5ldyBVUkwobWFuaWZlc3RQYXRoLCB3aW5kb3cubG9jYXRpb24ub3JpZ2luKTtcbiAgcGF0aHMuc29ydCgpLmZvckVhY2goKHBhdGgpID0+IHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwicFwiLCBwYXRoKSk7XG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwidmVyc2lvblwiLCBtYW5pZmVzdC52ZXJzaW9uKTtcbiAgaWYgKHVybC50b1N0cmluZygpLmxlbmd0aCA+IFVSTF9MSU1JVCkge1xuICAgIG5leHRQYXRocy5jbGVhcigpO1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2VydmVyUGF0Y2hlcztcbiAgdHJ5IHtcbiAgICBsZXQgcmVzID0gYXdhaXQgZmV0Y2godXJsLCB7IHNpZ25hbCB9KTtcbiAgICBpZiAoIXJlcy5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID09PSAyMDQgJiYgcmVzLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIikpIHtcbiAgICAgIGlmICghZXJyb3JSZWxvYWRQYXRoKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkRldGVjdGVkIGEgbWFuaWZlc3QgdmVyc2lvbiBtaXNtYXRjaCBkdXJpbmcgZWFnZXIgcm91dGUgZGlzY292ZXJ5LiBUaGUgbmV4dCBuYXZpZ2F0aW9uL2ZldGNoIHRvIGFuIHVuZGlzY292ZXJlZCByb3V0ZSB3aWxsIHJlc3VsdCBpbiBhIG5ldyBkb2N1bWVudCBuYXZpZ2F0aW9uIHRvIHN5bmMgdXAgd2l0aCB0aGUgbGF0ZXN0IG1hbmlmZXN0LlwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVkpID09PSBtYW5pZmVzdC52ZXJzaW9uKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVbmFibGUgdG8gZGlzY292ZXIgcm91dGVzIGR1ZSB0byBtYW5pZmVzdCB2ZXJzaW9uIG1pc21hdGNoLlwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSwgbWFuaWZlc3QudmVyc2lvbik7XG4gICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGVycm9yUmVsb2FkUGF0aDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRldGVjdGVkIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2gsIHJlbG9hZGluZy4uLlwiKTtcbiAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYXdhaXQgcmVzLnRleHQoKSk7XG4gICAgfVxuICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSk7XG4gICAgc2VydmVyUGF0Y2hlcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoc2lnbmFsPy5hYm9ydGVkKSByZXR1cm47XG4gICAgdGhyb3cgZTtcbiAgfVxuICBsZXQga25vd25Sb3V0ZXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKG1hbmlmZXN0LnJvdXRlcykpO1xuICBsZXQgcGF0Y2hlcyA9IE9iamVjdC52YWx1ZXMoc2VydmVyUGF0Y2hlcykucmVkdWNlKChhY2MsIHJvdXRlKSA9PiB7XG4gICAgaWYgKHJvdXRlICYmICFrbm93blJvdXRlcy5oYXMocm91dGUuaWQpKSB7XG4gICAgICBhY2Nbcm91dGUuaWRdID0gcm91dGU7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgT2JqZWN0LmFzc2lnbihtYW5pZmVzdC5yb3V0ZXMsIHBhdGNoZXMpO1xuICBwYXRocy5mb3JFYWNoKChwKSA9PiBhZGRUb0ZpZm9RdWV1ZShwLCBkaXNjb3ZlcmVkUGF0aHMpKTtcbiAgbGV0IHBhcmVudElkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIE9iamVjdC52YWx1ZXMocGF0Y2hlcykuZm9yRWFjaCgocGF0Y2gpID0+IHtcbiAgICBpZiAocGF0Y2ggJiYgKCFwYXRjaC5wYXJlbnRJZCB8fCAhcGF0Y2hlc1twYXRjaC5wYXJlbnRJZF0pKSB7XG4gICAgICBwYXJlbnRJZHMuYWRkKHBhdGNoLnBhcmVudElkKTtcbiAgICB9XG4gIH0pO1xuICBwYXJlbnRJZHMuZm9yRWFjaChcbiAgICAocGFyZW50SWQpID0+IHBhdGNoUm91dGVzKFxuICAgICAgcGFyZW50SWQgfHwgbnVsbCxcbiAgICAgIGNyZWF0ZUNsaWVudFJvdXRlcyhwYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG51bGwsIHNzciwgaXNTcGFNb2RlLCBwYXJlbnRJZClcbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBhZGRUb0ZpZm9RdWV1ZShwYXRoLCBxdWV1ZSkge1xuICBpZiAocXVldWUuc2l6ZSA+PSBkaXNjb3ZlcmVkUGF0aHNNYXhTaXplKSB7XG4gICAgbGV0IGZpcnN0ID0gcXVldWUudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIHF1ZXVlLmRlbGV0ZShmaXJzdCk7XG4gIH1cbiAgcXVldWUuYWRkKHBhdGgpO1xufVxuZnVuY3Rpb24gZGVib3VuY2UoY2FsbGJhY2ssIHdhaXQpIHtcbiAgbGV0IHRpbWVvdXRJZDtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIHRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IGNhbGxiYWNrKC4uLmFyZ3MpLCB3YWl0KTtcbiAgfTtcbn1cblxuLy8gbGliL2RvbS9zc3IvY29tcG9uZW50cy50c3hcbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0MigpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudDIoXG4gICAgY29udGV4dCxcbiAgICBcIllvdSBtdXN0IHJlbmRlciB0aGlzIGVsZW1lbnQgaW5zaWRlIGEgPERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyPiBlbGVtZW50XCJcbiAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCkge1xuICBsZXQgY29udGV4dCA9IFJlYWN0OS51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyPiBlbGVtZW50XCJcbiAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG52YXIgRnJhbWV3b3JrQ29udGV4dCA9IFJlYWN0OS5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5GcmFtZXdvcmtDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJGcmFtZXdvcmtDb250ZXh0XCI7XG5mdW5jdGlvbiB1c2VGcmFtZXdvcmtDb250ZXh0KCkge1xuICBsZXQgY29udGV4dCA9IFJlYWN0OS51c2VDb250ZXh0KEZyYW1ld29ya0NvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxIeWRyYXRlZFJvdXRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdXNlUHJlZmV0Y2hCZWhhdmlvcihwcmVmZXRjaCwgdGhlaXJFbGVtZW50UHJvcHMpIHtcbiAgbGV0IGZyYW1ld29ya0NvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgbGV0IFttYXliZVByZWZldGNoLCBzZXRNYXliZVByZWZldGNoXSA9IFJlYWN0OS51c2VTdGF0ZShmYWxzZSk7XG4gIGxldCBbc2hvdWxkUHJlZmV0Y2gsIHNldFNob3VsZFByZWZldGNoXSA9IFJlYWN0OS51c2VTdGF0ZShmYWxzZSk7XG4gIGxldCB7IG9uRm9jdXMsIG9uQmx1ciwgb25Nb3VzZUVudGVyLCBvbk1vdXNlTGVhdmUsIG9uVG91Y2hTdGFydCB9ID0gdGhlaXJFbGVtZW50UHJvcHM7XG4gIGxldCByZWYgPSBSZWFjdDkudXNlUmVmKG51bGwpO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJlZmV0Y2ggPT09IFwicmVuZGVyXCIpIHtcbiAgICAgIHNldFNob3VsZFByZWZldGNoKHRydWUpO1xuICAgIH1cbiAgICBpZiAocHJlZmV0Y2ggPT09IFwidmlld3BvcnRcIikge1xuICAgICAgbGV0IGNhbGxiYWNrID0gKGVudHJpZXMpID0+IHtcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICAgIHNldFNob3VsZFByZWZldGNoKGVudHJ5LmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgICAgbGV0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGNhbGxiYWNrLCB7IHRocmVzaG9sZDogMC41IH0pO1xuICAgICAgaWYgKHJlZi5jdXJyZW50KSBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbcHJlZmV0Y2hdKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKG1heWJlUHJlZmV0Y2gpIHtcbiAgICAgIGxldCBpZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRTaG91bGRQcmVmZXRjaCh0cnVlKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFttYXliZVByZWZldGNoXSk7XG4gIGxldCBzZXRJbnRlbnQgPSAoKSA9PiB7XG4gICAgc2V0TWF5YmVQcmVmZXRjaCh0cnVlKTtcbiAgfTtcbiAgbGV0IGNhbmNlbEludGVudCA9ICgpID0+IHtcbiAgICBzZXRNYXliZVByZWZldGNoKGZhbHNlKTtcbiAgICBzZXRTaG91bGRQcmVmZXRjaChmYWxzZSk7XG4gIH07XG4gIGlmICghZnJhbWV3b3JrQ29udGV4dCkge1xuICAgIHJldHVybiBbZmFsc2UsIHJlZiwge31dO1xuICB9XG4gIGlmIChwcmVmZXRjaCAhPT0gXCJpbnRlbnRcIikge1xuICAgIHJldHVybiBbc2hvdWxkUHJlZmV0Y2gsIHJlZiwge31dO1xuICB9XG4gIHJldHVybiBbXG4gICAgc2hvdWxkUHJlZmV0Y2gsXG4gICAgcmVmLFxuICAgIHtcbiAgICAgIG9uRm9jdXM6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uRm9jdXMsIHNldEludGVudCksXG4gICAgICBvbkJsdXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uQmx1ciwgY2FuY2VsSW50ZW50KSxcbiAgICAgIG9uTW91c2VFbnRlcjogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Nb3VzZUVudGVyLCBzZXRJbnRlbnQpLFxuICAgICAgb25Nb3VzZUxlYXZlOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbk1vdXNlTGVhdmUsIGNhbmNlbEludGVudCksXG4gICAgICBvblRvdWNoU3RhcnQ6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uVG91Y2hTdGFydCwgc2V0SW50ZW50KVxuICAgIH1cbiAgXTtcbn1cbmZ1bmN0aW9uIGNvbXBvc2VFdmVudEhhbmRsZXJzKHRoZWlySGFuZGxlciwgb3VySGFuZGxlcikge1xuICByZXR1cm4gKGV2ZW50KSA9PiB7XG4gICAgdGhlaXJIYW5kbGVyICYmIHRoZWlySGFuZGxlcihldmVudCk7XG4gICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICBvdXJIYW5kbGVyKGV2ZW50KTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBnZXRBY3RpdmVNYXRjaGVzKG1hdGNoZXMsIGVycm9ycywgaXNTcGFNb2RlKSB7XG4gIGlmIChpc1NwYU1vZGUgJiYgIWlzSHlkcmF0ZWQpIHtcbiAgICByZXR1cm4gW21hdGNoZXNbMF1dO1xuICB9XG4gIGlmIChlcnJvcnMpIHtcbiAgICBsZXQgZXJyb3JJZHggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gZXJyb3JzW20ucm91dGUuaWRdICE9PSB2b2lkIDApO1xuICAgIHJldHVybiBtYXRjaGVzLnNsaWNlKDAsIGVycm9ySWR4ICsgMSk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBMaW5rcygpIHtcbiAgbGV0IHsgaXNTcGFNb2RlLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBjcml0aWNhbENzcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgeyBlcnJvcnMsIG1hdGNoZXM6IHJvdXRlck1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IG1hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIGVycm9ycywgaXNTcGFNb2RlKTtcbiAgbGV0IGtleWVkTGlua3MgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXRLZXllZExpbmtzRm9yTWF0Y2hlcyhtYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0KSxcbiAgICBbbWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIHR5cGVvZiBjcml0aWNhbENzcyA9PT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIsIHsgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBjcml0aWNhbENzcyB9IH0pIDogbnVsbCwgdHlwZW9mIGNyaXRpY2FsQ3NzID09PSBcIm9iamVjdFwiID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWY6IGNyaXRpY2FsQ3NzLmhyZWYgfSkgOiBudWxsLCBrZXllZExpbmtzLm1hcChcbiAgICAoeyBrZXksIGxpbmsgfSkgPT4gaXNQYWdlTGlua0Rlc2NyaXB0b3IobGluaykgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3MsIHsga2V5LCAuLi5saW5rIH0pIDogLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleSwgLi4ubGluayB9KVxuICApKTtcbn1cbmZ1bmN0aW9uIFByZWZldGNoUGFnZUxpbmtzKHtcbiAgcGFnZSxcbiAgLi4uZGF0YUxpbmtQcm9wc1xufSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MigpO1xuICBsZXQgbWF0Y2hlcyA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoUm91dGVzKHJvdXRlci5yb3V0ZXMsIHBhZ2UsIHJvdXRlci5iYXNlbmFtZSksXG4gICAgW3JvdXRlci5yb3V0ZXMsIHBhZ2UsIHJvdXRlci5iYXNlbmFtZV1cbiAgKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChQcmVmZXRjaFBhZ2VMaW5rc0ltcGwsIHsgcGFnZSwgbWF0Y2hlcywgLi4uZGF0YUxpbmtQcm9wcyB9KTtcbn1cbmZ1bmN0aW9uIHVzZUtleWVkUHJlZmV0Y2hMaW5rcyhtYXRjaGVzKSB7XG4gIGxldCB7IG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IFtrZXllZFByZWZldGNoTGlua3MsIHNldEtleWVkUHJlZmV0Y2hMaW5rc10gPSBSZWFjdDkudXNlU3RhdGUoW10pO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICB2b2lkIGdldEtleWVkUHJlZmV0Y2hMaW5rcyhtYXRjaGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzKS50aGVuKFxuICAgICAgKGxpbmtzKSA9PiB7XG4gICAgICAgIGlmICghaW50ZXJydXB0ZWQpIHtcbiAgICAgICAgICBzZXRLZXllZFByZWZldGNoTGlua3MobGlua3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaW50ZXJydXB0ZWQgPSB0cnVlO1xuICAgIH07XG4gIH0sIFttYXRjaGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzXSk7XG4gIHJldHVybiBrZXllZFByZWZldGNoTGlua3M7XG59XG5mdW5jdGlvbiBQcmVmZXRjaFBhZ2VMaW5rc0ltcGwoe1xuICBwYWdlLFxuICBtYXRjaGVzOiBuZXh0TWF0Y2hlcyxcbiAgLi4ubGlua1Byb3BzXG59KSB7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCB7IG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MigpO1xuICBsZXQgeyBsb2FkZXJEYXRhLCBtYXRjaGVzIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBuZXdNYXRjaGVzRm9yRGF0YSA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IGdldE5ld01hdGNoZXNGb3JMaW5rcyhcbiAgICAgIHBhZ2UsXG4gICAgICBuZXh0TWF0Y2hlcyxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgXCJkYXRhXCJcbiAgICApLFxuICAgIFtwYWdlLCBuZXh0TWF0Y2hlcywgbWF0Y2hlcywgbWFuaWZlc3QsIGxvY2F0aW9uXVxuICApO1xuICBsZXQgbmV3TWF0Y2hlc0ZvckFzc2V0cyA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IGdldE5ld01hdGNoZXNGb3JMaW5rcyhcbiAgICAgIHBhZ2UsXG4gICAgICBuZXh0TWF0Y2hlcyxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgXCJhc3NldHNcIlxuICAgICksXG4gICAgW3BhZ2UsIG5leHRNYXRjaGVzLCBtYXRjaGVzLCBtYW5pZmVzdCwgbG9jYXRpb25dXG4gICk7XG4gIGxldCBkYXRhSHJlZnMgPSBSZWFjdDkudXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHBhZ2UgPT09IGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgbG9jYXRpb24uaGFzaCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgcm91dGVzUGFyYW1zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBsZXQgZm91bmRPcHRPdXRSb3V0ZSA9IGZhbHNlO1xuICAgIG5leHRNYXRjaGVzLmZvckVhY2goKG0pID0+IHtcbiAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdO1xuICAgICAgaWYgKCFtYW5pZmVzdFJvdXRlIHx8ICFtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIW5ld01hdGNoZXNGb3JEYXRhLnNvbWUoKG0yKSA9PiBtMi5yb3V0ZS5pZCA9PT0gbS5yb3V0ZS5pZCkgJiYgbS5yb3V0ZS5pZCBpbiBsb2FkZXJEYXRhICYmIHJvdXRlTW9kdWxlc1ttLnJvdXRlLmlkXT8uc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAobWFuaWZlc3RSb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByb3V0ZXNQYXJhbXMuYWRkKG0ucm91dGUuaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyb3V0ZXNQYXJhbXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgdXJsID0gc2luZ2xlRmV0Y2hVcmwocGFnZSwgYmFzZW5hbWUpO1xuICAgIGlmIChmb3VuZE9wdE91dFJvdXRlICYmIHJvdXRlc1BhcmFtcy5zaXplID4gMCkge1xuICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXG4gICAgICAgIFwiX3JvdXRlc1wiLFxuICAgICAgICBuZXh0TWF0Y2hlcy5maWx0ZXIoKG0pID0+IHJvdXRlc1BhcmFtcy5oYXMobS5yb3V0ZS5pZCkpLm1hcCgobSkgPT4gbS5yb3V0ZS5pZCkuam9pbihcIixcIilcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBbdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaF07XG4gIH0sIFtcbiAgICBiYXNlbmFtZSxcbiAgICBsb2FkZXJEYXRhLFxuICAgIGxvY2F0aW9uLFxuICAgIG1hbmlmZXN0LFxuICAgIG5ld01hdGNoZXNGb3JEYXRhLFxuICAgIG5leHRNYXRjaGVzLFxuICAgIHBhZ2UsXG4gICAgcm91dGVNb2R1bGVzXG4gIF0pO1xuICBsZXQgbW9kdWxlSHJlZnMgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXRNb2R1bGVMaW5rSHJlZnMobmV3TWF0Y2hlc0ZvckFzc2V0cywgbWFuaWZlc3QpLFxuICAgIFtuZXdNYXRjaGVzRm9yQXNzZXRzLCBtYW5pZmVzdF1cbiAgKTtcbiAgbGV0IGtleWVkUHJlZmV0Y2hMaW5rcyA9IHVzZUtleWVkUHJlZmV0Y2hMaW5rcyhuZXdNYXRjaGVzRm9yQXNzZXRzKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIGRhdGFIcmVmcy5tYXAoKGhyZWYyKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsga2V5OiBocmVmMiwgcmVsOiBcInByZWZldGNoXCIsIGFzOiBcImZldGNoXCIsIGhyZWY6IGhyZWYyLCAuLi5saW5rUHJvcHMgfSkpLCBtb2R1bGVIcmVmcy5tYXAoKGhyZWYyKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsga2V5OiBocmVmMiwgcmVsOiBcIm1vZHVsZXByZWxvYWRcIiwgaHJlZjogaHJlZjIsIC4uLmxpbmtQcm9wcyB9KSksIGtleWVkUHJlZmV0Y2hMaW5rcy5tYXAoKHsga2V5LCBsaW5rIH0pID0+IChcbiAgICAvLyB0aGVzZSBkb24ndCBzcHJlYWQgYGxpbmtQcm9wc2AgYmVjYXVzZSB0aGV5IGFyZSBmdWxsIGxpbmsgZGVzY3JpcHRvcnNcbiAgICAvLyBhbHJlYWR5IHdpdGggdGhlaXIgb3duIHByb3BzXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleSwgLi4ubGluayB9KVxuICApKSk7XG59XG5mdW5jdGlvbiBNZXRhKCkge1xuICBsZXQgeyBpc1NwYU1vZGUsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQge1xuICAgIGVycm9ycyxcbiAgICBtYXRjaGVzOiByb3V0ZXJNYXRjaGVzLFxuICAgIGxvYWRlckRhdGFcbiAgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IF9tYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSk7XG4gIGxldCBlcnJvciA9IG51bGw7XG4gIGlmIChlcnJvcnMpIHtcbiAgICBlcnJvciA9IGVycm9yc1tfbWF0Y2hlc1tfbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5pZF07XG4gIH1cbiAgbGV0IG1ldGEgPSBbXTtcbiAgbGV0IGxlYWZNZXRhID0gbnVsbDtcbiAgbGV0IG1hdGNoZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBfbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBfbWF0Y2ggPSBfbWF0Y2hlc1tpXTtcbiAgICBsZXQgcm91dGVJZCA9IF9tYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgZGF0YTIgPSBsb2FkZXJEYXRhW3JvdXRlSWRdO1xuICAgIGxldCBwYXJhbXMgPSBfbWF0Y2gucGFyYW1zO1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZUlkXTtcbiAgICBsZXQgcm91dGVNZXRhID0gW107XG4gICAgbGV0IG1hdGNoID0ge1xuICAgICAgaWQ6IHJvdXRlSWQsXG4gICAgICBkYXRhOiBkYXRhMixcbiAgICAgIG1ldGE6IFtdLFxuICAgICAgcGFyYW1zOiBfbWF0Y2gucGFyYW1zLFxuICAgICAgcGF0aG5hbWU6IF9tYXRjaC5wYXRobmFtZSxcbiAgICAgIGhhbmRsZTogX21hdGNoLnJvdXRlLmhhbmRsZSxcbiAgICAgIGVycm9yXG4gICAgfTtcbiAgICBtYXRjaGVzW2ldID0gbWF0Y2g7XG4gICAgaWYgKHJvdXRlTW9kdWxlPy5tZXRhKSB7XG4gICAgICByb3V0ZU1ldGEgPSB0eXBlb2Ygcm91dGVNb2R1bGUubWV0YSA9PT0gXCJmdW5jdGlvblwiID8gcm91dGVNb2R1bGUubWV0YSh7XG4gICAgICAgIGRhdGE6IGRhdGEyLFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBlcnJvclxuICAgICAgfSkgOiBBcnJheS5pc0FycmF5KHJvdXRlTW9kdWxlLm1ldGEpID8gWy4uLnJvdXRlTW9kdWxlLm1ldGFdIDogcm91dGVNb2R1bGUubWV0YTtcbiAgICB9IGVsc2UgaWYgKGxlYWZNZXRhKSB7XG4gICAgICByb3V0ZU1ldGEgPSBbLi4ubGVhZk1ldGFdO1xuICAgIH1cbiAgICByb3V0ZU1ldGEgPSByb3V0ZU1ldGEgfHwgW107XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHJvdXRlTWV0YSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgcm91dGUgYXQgXCIgKyBfbWF0Y2gucm91dGUucGF0aCArIFwiIHJldHVybnMgYW4gaW52YWxpZCB2YWx1ZS4gQWxsIHJvdXRlIG1ldGEgZnVuY3Rpb25zIG11c3QgcmV0dXJuIGFuIGFycmF5IG9mIG1ldGEgb2JqZWN0cy5cXG5cXG5UbyByZWZlcmVuY2UgdGhlIG1ldGEgZnVuY3Rpb24gQVBJLCBzZWUgaHR0cHM6Ly9yZW1peC5ydW4vcm91dGUvbWV0YVwiXG4gICAgICApO1xuICAgIH1cbiAgICBtYXRjaC5tZXRhID0gcm91dGVNZXRhO1xuICAgIG1hdGNoZXNbaV0gPSBtYXRjaDtcbiAgICBtZXRhID0gWy4uLnJvdXRlTWV0YV07XG4gICAgbGVhZk1ldGEgPSBtZXRhO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCBtZXRhLmZsYXQoKS5tYXAoKG1ldGFQcm9wcykgPT4ge1xuICAgIGlmICghbWV0YVByb3BzKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKFwidGFnTmFtZVwiIGluIG1ldGFQcm9wcykge1xuICAgICAgbGV0IHsgdGFnTmFtZSwgLi4ucmVzdCB9ID0gbWV0YVByb3BzO1xuICAgICAgaWYgKCFpc1ZhbGlkTWV0YVRhZyh0YWdOYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYEEgbWV0YSBvYmplY3QgdXNlcyBhbiBpbnZhbGlkIHRhZ05hbWU6ICR7dGFnTmFtZX0uIEV4cGVjdGVkIGVpdGhlciAnbGluaycgb3IgJ21ldGEnYFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGxldCBDb21wID0gdGFnTmFtZTtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoQ29tcCwgeyBrZXk6IEpTT04uc3RyaW5naWZ5KHJlc3QpLCAuLi5yZXN0IH0pO1xuICAgIH1cbiAgICBpZiAoXCJ0aXRsZVwiIGluIG1ldGFQcm9wcykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsIHsga2V5OiBcInRpdGxlXCIgfSwgU3RyaW5nKG1ldGFQcm9wcy50aXRsZSkpO1xuICAgIH1cbiAgICBpZiAoXCJjaGFyc2V0XCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICBtZXRhUHJvcHMuY2hhclNldCA/PyAobWV0YVByb3BzLmNoYXJTZXQgPSBtZXRhUHJvcHMuY2hhcnNldCk7XG4gICAgICBkZWxldGUgbWV0YVByb3BzLmNoYXJzZXQ7XG4gICAgfVxuICAgIGlmIChcImNoYXJTZXRcIiBpbiBtZXRhUHJvcHMgJiYgbWV0YVByb3BzLmNoYXJTZXQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBtZXRhUHJvcHMuY2hhclNldCA9PT0gXCJzdHJpbmdcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBrZXk6IFwiY2hhclNldFwiLCBjaGFyU2V0OiBtZXRhUHJvcHMuY2hhclNldCB9KSA6IG51bGw7XG4gICAgfVxuICAgIGlmIChcInNjcmlwdDpsZCtqc29uXCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KG1ldGFQcm9wc1tcInNjcmlwdDpsZCtqc29uXCJdKTtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcInNjcmlwdFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGtleTogYHNjcmlwdDpsZCtqc29uOiR7anNvbn1gLFxuICAgICAgICAgICAgdHlwZTogXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIsXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGpzb24gfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcIm1ldGFcIiwgeyBrZXk6IEpTT04uc3RyaW5naWZ5KG1ldGFQcm9wcyksIC4uLm1ldGFQcm9wcyB9KTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gaXNWYWxpZE1ldGFUYWcodGFnTmFtZSkge1xuICByZXR1cm4gdHlwZW9mIHRhZ05hbWUgPT09IFwic3RyaW5nXCIgJiYgL14obWV0YXxsaW5rKSQvLnRlc3QodGFnTmFtZSk7XG59XG52YXIgaXNIeWRyYXRlZCA9IGZhbHNlO1xuZnVuY3Rpb24gU2NyaXB0cyhwcm9wcykge1xuICBsZXQgeyBtYW5pZmVzdCwgc2VydmVySGFuZG9mZlN0cmluZywgaXNTcGFNb2RlLCBzc3IsIHJlbmRlck1ldGEgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgcm91dGVyLCBzdGF0aWM6IGlzU3RhdGljLCBzdGF0aWNDb250ZXh0IH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IHsgbWF0Y2hlczogcm91dGVyTWF0Y2hlcyB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgZW5hYmxlRm9nT2ZXYXIgPSBpc0ZvZ09mV2FyRW5hYmxlZChzc3IpO1xuICBpZiAocmVuZGVyTWV0YSkge1xuICAgIHJlbmRlck1ldGEuZGlkUmVuZGVyU2NyaXB0cyA9IHRydWU7XG4gIH1cbiAgbGV0IG1hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIG51bGwsIGlzU3BhTW9kZSk7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlzSHlkcmF0ZWQgPSB0cnVlO1xuICB9LCBbXSk7XG4gIGxldCBpbml0aWFsU2NyaXB0cyA9IFJlYWN0OS51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgc3RyZWFtU2NyaXB0ID0gXCJ3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtzdGFydChjb250cm9sbGVyKXt3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtQ29udHJvbGxlciA9IGNvbnRyb2xsZXI7fX0pLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKTtcIjtcbiAgICBsZXQgY29udGV4dFNjcmlwdCA9IHN0YXRpY0NvbnRleHQgPyBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0ID0gJHtzZXJ2ZXJIYW5kb2ZmU3RyaW5nfTske3N0cmVhbVNjcmlwdH1gIDogXCIgXCI7XG4gICAgbGV0IHJvdXRlTW9kdWxlc1NjcmlwdCA9ICFpc1N0YXRpYyA/IFwiIFwiIDogYCR7bWFuaWZlc3QuaG1yPy5ydW50aW1lID8gYGltcG9ydCAke0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0Lmhtci5ydW50aW1lKX07YCA6IFwiXCJ9JHshZW5hYmxlRm9nT2ZXYXIgPyBgaW1wb3J0ICR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QudXJsKX1gIDogXCJcIn07XG4ke21hdGNoZXMubWFwKChtYXRjaCwgcm91dGVJbmRleCkgPT4ge1xuICAgICAgbGV0IHJvdXRlVmFyTmFtZSA9IGByb3V0ZSR7cm91dGVJbmRleH1gO1xuICAgICAgbGV0IG1hbmlmZXN0RW50cnkgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaW52YXJpYW50MihtYW5pZmVzdEVudHJ5LCBgUm91dGUgJHttYXRjaC5yb3V0ZS5pZH0gbm90IGZvdW5kIGluIG1hbmlmZXN0YCk7XG4gICAgICBsZXQge1xuICAgICAgICBjbGllbnRBY3Rpb25Nb2R1bGUsXG4gICAgICAgIGNsaWVudExvYWRlck1vZHVsZSxcbiAgICAgICAgaHlkcmF0ZUZhbGxiYWNrTW9kdWxlLFxuICAgICAgICBtb2R1bGVcbiAgICAgIH0gPSBtYW5pZmVzdEVudHJ5O1xuICAgICAgbGV0IGNodW5rcyA9IFtcbiAgICAgICAgLi4uY2xpZW50QWN0aW9uTW9kdWxlID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZHVsZTogY2xpZW50QWN0aW9uTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9jbGllbnRBY3Rpb25gXG4gICAgICAgICAgfVxuICAgICAgICBdIDogW10sXG4gICAgICAgIC4uLmNsaWVudExvYWRlck1vZHVsZSA/IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtb2R1bGU6IGNsaWVudExvYWRlck1vZHVsZSxcbiAgICAgICAgICAgIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fY2xpZW50TG9hZGVyYFxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdLFxuICAgICAgICAuLi5oeWRyYXRlRmFsbGJhY2tNb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBoeWRyYXRlRmFsbGJhY2tNb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X0h5ZHJhdGVGYWxsYmFja2BcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgeyBtb2R1bGUsIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fbWFpbmAgfVxuICAgICAgXTtcbiAgICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBgaW1wb3J0ICogYXMgJHtyb3V0ZVZhck5hbWV9IGZyb20gJHtKU09OLnN0cmluZ2lmeShtb2R1bGUpfTtgO1xuICAgICAgfVxuICAgICAgbGV0IGNodW5rSW1wb3J0c1NuaXBwZXQgPSBjaHVua3MubWFwKChjaHVuaykgPT4gYGltcG9ydCAqIGFzICR7Y2h1bmsudmFyTmFtZX0gZnJvbSBcIiR7Y2h1bmsubW9kdWxlfVwiO2ApLmpvaW4oXCJcXG5cIik7XG4gICAgICBsZXQgbWVyZ2VkQ2h1bmtzU25pcHBldCA9IGBjb25zdCAke3JvdXRlVmFyTmFtZX0gPSB7JHtjaHVua3MubWFwKChjaHVuaykgPT4gYC4uLiR7Y2h1bmsudmFyTmFtZX1gKS5qb2luKFwiLFwiKX19O2A7XG4gICAgICByZXR1cm4gW2NodW5rSW1wb3J0c1NuaXBwZXQsIG1lcmdlZENodW5rc1NuaXBwZXRdLmpvaW4oXCJcXG5cIik7XG4gICAgfSkuam9pbihcIlxcblwiKX1cbiAgJHtlbmFibGVGb2dPZldhciA/IChcbiAgICAgIC8vIElubGluZSBhIG1pbmltYWwgbWFuaWZlc3Qgd2l0aCB0aGUgU1NSIG1hdGNoZXNcbiAgICAgIGB3aW5kb3cuX19yZWFjdFJvdXRlck1hbmlmZXN0ID0gJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgZ2V0UGFydGlhbE1hbmlmZXN0KG1hbmlmZXN0LCByb3V0ZXIpLFxuICAgICAgICBudWxsLFxuICAgICAgICAyXG4gICAgICApfTtgXG4gICAgKSA6IFwiXCJ9XG4gIHdpbmRvdy5fX3JlYWN0Um91dGVyUm91dGVNb2R1bGVzID0geyR7bWF0Y2hlcy5tYXAoKG1hdGNoLCBpbmRleCkgPT4gYCR7SlNPTi5zdHJpbmdpZnkobWF0Y2gucm91dGUuaWQpfTpyb3V0ZSR7aW5kZXh9YCkuam9pbihcIixcIil9fTtcblxuaW1wb3J0KCR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QuZW50cnkubW9kdWxlKX0pO2A7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICAgIFwic2NyaXB0XCIsXG4gICAgICB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBjcmVhdGVIdG1sKGNvbnRleHRTY3JpcHQpLFxuICAgICAgICB0eXBlOiB2b2lkIDBcbiAgICAgIH1cbiAgICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogY3JlYXRlSHRtbChyb3V0ZU1vZHVsZXNTY3JpcHQpLFxuICAgICAgICB0eXBlOiBcIm1vZHVsZVwiLFxuICAgICAgICBhc3luYzogdHJ1ZVxuICAgICAgfVxuICAgICkpO1xuICB9LCBbXSk7XG4gIGxldCBwcmVsb2FkcyA9IGlzSHlkcmF0ZWQgPyBbXSA6IG1hbmlmZXN0LmVudHJ5LmltcG9ydHMuY29uY2F0KFxuICAgIGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCwge1xuICAgICAgaW5jbHVkZUh5ZHJhdGVGYWxsYmFjazogdHJ1ZVxuICAgIH0pXG4gICk7XG4gIHJldHVybiBpc0h5ZHJhdGVkID8gbnVsbCA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsICFlbmFibGVGb2dPZldhciA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBcImxpbmtcIixcbiAgICB7XG4gICAgICByZWw6IFwibW9kdWxlcHJlbG9hZFwiLFxuICAgICAgaHJlZjogbWFuaWZlc3QudXJsLFxuICAgICAgY3Jvc3NPcmlnaW46IHByb3BzLmNyb3NzT3JpZ2luXG4gICAgfVxuICApIDogbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBtYW5pZmVzdC5lbnRyeS5tb2R1bGUsXG4gICAgICBjcm9zc09yaWdpbjogcHJvcHMuY3Jvc3NPcmlnaW5cbiAgICB9XG4gICksIGRlZHVwZShwcmVsb2FkcykubWFwKChwYXRoKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJsaW5rXCIsXG4gICAge1xuICAgICAga2V5OiBwYXRoLFxuICAgICAgcmVsOiBcIm1vZHVsZXByZWxvYWRcIixcbiAgICAgIGhyZWY6IHBhdGgsXG4gICAgICBjcm9zc09yaWdpbjogcHJvcHMuY3Jvc3NPcmlnaW5cbiAgICB9XG4gICkpLCBpbml0aWFsU2NyaXB0cyk7XG59XG5mdW5jdGlvbiBkZWR1cGUoYXJyYXkpIHtcbiAgcmV0dXJuIFsuLi5uZXcgU2V0KGFycmF5KV07XG59XG5mdW5jdGlvbiBtZXJnZVJlZnMoLi4ucmVmcykge1xuICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgcmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgcmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmVmKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gbGliL2RvbS9saWIudHN4XG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbnRyeSB7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICB3aW5kb3cuX19yZWFjdFJvdXRlclZlcnNpb24gPSBcIjcuMy4wXCI7XG4gIH1cbn0gY2F0Y2ggKGUpIHtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJSb3V0ZXIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVSb3V0ZXIoe1xuICAgIGJhc2VuYW1lOiBvcHRzPy5iYXNlbmFtZSxcbiAgICB1bnN0YWJsZV9nZXRDb250ZXh0OiBvcHRzPy51bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgIGZ1dHVyZTogb3B0cz8uZnV0dXJlLFxuICAgIGhpc3Rvcnk6IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KHsgd2luZG93OiBvcHRzPy53aW5kb3cgfSksXG4gICAgaHlkcmF0aW9uRGF0YTogb3B0cz8uaHlkcmF0aW9uRGF0YSB8fCBwYXJzZUh5ZHJhdGlvbkRhdGEoKSxcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIGRhdGFTdHJhdGVneTogb3B0cz8uZGF0YVN0cmF0ZWd5LFxuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uOiBvcHRzPy5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbixcbiAgICB3aW5kb3c6IG9wdHM/LndpbmRvd1xuICB9KS5pbml0aWFsaXplKCk7XG59XG5mdW5jdGlvbiBjcmVhdGVIYXNoUm91dGVyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgdW5zdGFibGVfZ2V0Q29udGV4dDogb3B0cz8udW5zdGFibGVfZ2V0Q29udGV4dCxcbiAgICBmdXR1cmU6IG9wdHM/LmZ1dHVyZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVIYXNoSGlzdG9yeSh7IHdpbmRvdzogb3B0cz8ud2luZG93IH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEgfHwgcGFyc2VIeWRyYXRpb25EYXRhKCksXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24sXG4gICAgd2luZG93OiBvcHRzPy53aW5kb3dcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxuZnVuY3Rpb24gcGFyc2VIeWRyYXRpb25EYXRhKCkge1xuICBsZXQgc3RhdGUgPSB3aW5kb3c/Ll9fc3RhdGljUm91dGVySHlkcmF0aW9uRGF0YTtcbiAgaWYgKHN0YXRlICYmIHN0YXRlLmVycm9ycykge1xuICAgIHN0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBlcnJvcnM6IGRlc2VyaWFsaXplRXJyb3JzKHN0YXRlLmVycm9ycylcbiAgICB9O1xuICB9XG4gIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplRXJyb3JzKGVycm9ycykge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIlJvdXRlRXJyb3JSZXNwb25zZVwiKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgIHZhbC5zdGF0dXMsXG4gICAgICAgIHZhbC5zdGF0dXNUZXh0LFxuICAgICAgICB2YWwuZGF0YSxcbiAgICAgICAgdmFsLmludGVybmFsID09PSB0cnVlXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiRXJyb3JcIikge1xuICAgICAgaWYgKHZhbC5fX3N1YlR5cGUpIHtcbiAgICAgICAgbGV0IEVycm9yQ29uc3RydWN0b3IgPSB3aW5kb3dbdmFsLl9fc3ViVHlwZV07XG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3JDb25zdHJ1Y3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvckNvbnN0cnVjdG9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVycm9yLnN0YWNrID0gXCJcIjtcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzZXJpYWxpemVkW2tleV0gPT0gbnVsbCkge1xuICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IodmFsLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5zdGFjayA9IFwiXCI7XG4gICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuZnVuY3Rpb24gQnJvd3NlclJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgd2luZG93OiB3aW5kb3cyXG59KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QxMC51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlQnJvd3Nlckhpc3RvcnkoeyB3aW5kb3c6IHdpbmRvdzIsIHY1Q29tcGF0OiB0cnVlIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gSGFzaFJvdXRlcih7IGJhc2VuYW1lLCBjaGlsZHJlbiwgd2luZG93OiB3aW5kb3cyIH0pIHtcbiAgbGV0IGhpc3RvcnlSZWYgPSBSZWFjdDEwLnVzZVJlZigpO1xuICBpZiAoaGlzdG9yeVJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBjcmVhdGVIYXNoSGlzdG9yeSh7IHdpbmRvdzogd2luZG93MiwgdjVDb21wYXQ6IHRydWUgfSk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSBoaXN0b3J5UmVmLmN1cnJlbnQ7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDEwLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QxMC5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBIaXN0b3J5Um91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBoaXN0b3J5XG59KSB7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDEwLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QxMC5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5IaXN0b3J5Um91dGVyLmRpc3BsYXlOYW1lID0gXCJ1bnN0YWJsZV9IaXN0b3J5Um91dGVyXCI7XG52YXIgQUJTT0xVVEVfVVJMX1JFR0VYMiA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbnZhciBMaW5rID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbiBMaW5rV2l0aFJlZih7XG4gICAgb25DbGljayxcbiAgICBkaXNjb3ZlciA9IFwicmVuZGVyXCIsXG4gICAgcHJlZmV0Y2ggPSBcIm5vbmVcIixcbiAgICByZWxhdGl2ZSxcbiAgICByZWxvYWREb2N1bWVudCxcbiAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICBzdGF0ZSxcbiAgICB0YXJnZXQsXG4gICAgdG8sXG4gICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIC4uLnJlc3RcbiAgfSwgZm9yd2FyZGVkUmVmKSB7XG4gICAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gICAgbGV0IGlzQWJzb2x1dGUgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgJiYgQUJTT0xVVEVfVVJMX1JFR0VYMi50ZXN0KHRvKTtcbiAgICBsZXQgYWJzb2x1dGVIcmVmO1xuICAgIGxldCBpc0V4dGVybmFsID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiAmJiBpc0Fic29sdXRlKSB7XG4gICAgICBhYnNvbHV0ZUhyZWYgPSB0bztcbiAgICAgIGlmIChpc0Jyb3dzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgY3VycmVudFVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICAgIGxldCB0YXJnZXRVcmwgPSB0by5zdGFydHNXaXRoKFwiLy9cIikgPyBuZXcgVVJMKGN1cnJlbnRVcmwucHJvdG9jb2wgKyB0bykgOiBuZXcgVVJMKHRvKTtcbiAgICAgICAgICBsZXQgcGF0aCA9IHN0cmlwQmFzZW5hbWUodGFyZ2V0VXJsLnBhdGhuYW1lLCBiYXNlbmFtZSk7XG4gICAgICAgICAgaWYgKHRhcmdldFVybC5vcmlnaW4gPT09IGN1cnJlbnRVcmwub3JpZ2luICYmIHBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgdG8gPSBwYXRoICsgdGFyZ2V0VXJsLnNlYXJjaCArIHRhcmdldFVybC5oYXNoO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0V4dGVybmFsID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBgPExpbmsgdG89XCIke3RvfVwiPiBjb250YWlucyBhbiBpbnZhbGlkIFVSTCB3aGljaCB3aWxsIHByb2JhYmx5IGJyZWFrIHdoZW4gY2xpY2tlZCAtIHBsZWFzZSB1cGRhdGUgdG8gYSB2YWxpZCBVUkwgcGF0aC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgaHJlZjIgPSB1c2VIcmVmKHRvLCB7IHJlbGF0aXZlIH0pO1xuICAgIGxldCBbc2hvdWxkUHJlZmV0Y2gsIHByZWZldGNoUmVmLCBwcmVmZXRjaEhhbmRsZXJzXSA9IHVzZVByZWZldGNoQmVoYXZpb3IoXG4gICAgICBwcmVmZXRjaCxcbiAgICAgIHJlc3RcbiAgICApO1xuICAgIGxldCBpbnRlcm5hbE9uQ2xpY2sgPSB1c2VMaW5rQ2xpY2tIYW5kbGVyKHRvLCB7XG4gICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgIHN0YXRlLFxuICAgICAgdGFyZ2V0LFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVsYXRpdmUsXG4gICAgICB2aWV3VHJhbnNpdGlvblxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgICBpZiAob25DbGljaykgb25DbGljayhldmVudCk7XG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgaW50ZXJuYWxPbkNsaWNrKGV2ZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxpbmsgPSAoXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvYW5jaG9yLWhhcy1jb250ZW50XG4gICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgICBcImFcIixcbiAgICAgICAge1xuICAgICAgICAgIC4uLnJlc3QsXG4gICAgICAgICAgLi4ucHJlZmV0Y2hIYW5kbGVycyxcbiAgICAgICAgICBocmVmOiBhYnNvbHV0ZUhyZWYgfHwgaHJlZjIsXG4gICAgICAgICAgb25DbGljazogaXNFeHRlcm5hbCB8fCByZWxvYWREb2N1bWVudCA/IG9uQ2xpY2sgOiBoYW5kbGVDbGljayxcbiAgICAgICAgICByZWY6IG1lcmdlUmVmcyhmb3J3YXJkZWRSZWYsIHByZWZldGNoUmVmKSxcbiAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgXCJkYXRhLWRpc2NvdmVyXCI6ICFpc0Fic29sdXRlICYmIGRpc2NvdmVyID09PSBcInJlbmRlclwiID8gXCJ0cnVlXCIgOiB2b2lkIDBcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gICAgcmV0dXJuIHNob3VsZFByZWZldGNoICYmICFpc0Fic29sdXRlID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChSZWFjdDEwLkZyYWdtZW50LCBudWxsLCBsaW5rLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFByZWZldGNoUGFnZUxpbmtzLCB7IHBhZ2U6IGhyZWYyIH0pKSA6IGxpbms7XG4gIH1cbik7XG5MaW5rLmRpc3BsYXlOYW1lID0gXCJMaW5rXCI7XG52YXIgTmF2TGluayA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24gTmF2TGlua1dpdGhSZWYoe1xuICAgIFwiYXJpYS1jdXJyZW50XCI6IGFyaWFDdXJyZW50UHJvcCA9IFwicGFnZVwiLFxuICAgIGNhc2VTZW5zaXRpdmUgPSBmYWxzZSxcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVByb3AgPSBcIlwiLFxuICAgIGVuZCA9IGZhbHNlLFxuICAgIHN0eWxlOiBzdHlsZVByb3AsXG4gICAgdG8sXG4gICAgdmlld1RyYW5zaXRpb24sXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ucmVzdFxuICB9LCByZWYpIHtcbiAgICBsZXQgcGF0aCA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZTogcmVzdC5yZWxhdGl2ZSB9KTtcbiAgICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICAgIGxldCByb3V0ZXJTdGF0ZSA9IFJlYWN0MTAudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgICBsZXQgeyBuYXZpZ2F0b3I6IG5hdmlnYXRvcjIsIGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICAgIGxldCBpc1RyYW5zaXRpb25pbmcgPSByb3V0ZXJTdGF0ZSAhPSBudWxsICYmIC8vIENvbmRpdGlvbmFsIHVzYWdlIGlzIE9LIGhlcmUgYmVjYXVzZSB0aGUgdXNhZ2Ugb2YgYSBkYXRhIHJvdXRlciBpcyBzdGF0aWNcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICB1c2VWaWV3VHJhbnNpdGlvblN0YXRlKHBhdGgpICYmIHZpZXdUcmFuc2l0aW9uID09PSB0cnVlO1xuICAgIGxldCB0b1BhdGhuYW1lID0gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24ocGF0aCkucGF0aG5hbWUgOiBwYXRoLnBhdGhuYW1lO1xuICAgIGxldCBsb2NhdGlvblBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG4gICAgbGV0IG5leHRMb2NhdGlvblBhdGhuYW1lID0gcm91dGVyU3RhdGUgJiYgcm91dGVyU3RhdGUubmF2aWdhdGlvbiAmJiByb3V0ZXJTdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uID8gcm91dGVyU3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbi5wYXRobmFtZSA6IG51bGw7XG4gICAgaWYgKCFjYXNlU2Vuc2l0aXZlKSB7XG4gICAgICBsb2NhdGlvblBhdGhuYW1lID0gbG9jYXRpb25QYXRobmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgbmV4dExvY2F0aW9uUGF0aG5hbWUgPSBuZXh0TG9jYXRpb25QYXRobmFtZSA/IG5leHRMb2NhdGlvblBhdGhuYW1lLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xuICAgICAgdG9QYXRobmFtZSA9IHRvUGF0aG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgaWYgKG5leHRMb2NhdGlvblBhdGhuYW1lICYmIGJhc2VuYW1lKSB7XG4gICAgICBuZXh0TG9jYXRpb25QYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUobmV4dExvY2F0aW9uUGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBuZXh0TG9jYXRpb25QYXRobmFtZTtcbiAgICB9XG4gICAgY29uc3QgZW5kU2xhc2hQb3NpdGlvbiA9IHRvUGF0aG5hbWUgIT09IFwiL1wiICYmIHRvUGF0aG5hbWUuZW5kc1dpdGgoXCIvXCIpID8gdG9QYXRobmFtZS5sZW5ndGggLSAxIDogdG9QYXRobmFtZS5sZW5ndGg7XG4gICAgbGV0IGlzQWN0aXZlID0gbG9jYXRpb25QYXRobmFtZSA9PT0gdG9QYXRobmFtZSB8fCAhZW5kICYmIGxvY2F0aW9uUGF0aG5hbWUuc3RhcnRzV2l0aCh0b1BhdGhuYW1lKSAmJiBsb2NhdGlvblBhdGhuYW1lLmNoYXJBdChlbmRTbGFzaFBvc2l0aW9uKSA9PT0gXCIvXCI7XG4gICAgbGV0IGlzUGVuZGluZyA9IG5leHRMb2NhdGlvblBhdGhuYW1lICE9IG51bGwgJiYgKG5leHRMb2NhdGlvblBhdGhuYW1lID09PSB0b1BhdGhuYW1lIHx8ICFlbmQgJiYgbmV4dExvY2F0aW9uUGF0aG5hbWUuc3RhcnRzV2l0aCh0b1BhdGhuYW1lKSAmJiBuZXh0TG9jYXRpb25QYXRobmFtZS5jaGFyQXQodG9QYXRobmFtZS5sZW5ndGgpID09PSBcIi9cIik7XG4gICAgbGV0IHJlbmRlclByb3BzID0ge1xuICAgICAgaXNBY3RpdmUsXG4gICAgICBpc1BlbmRpbmcsXG4gICAgICBpc1RyYW5zaXRpb25pbmdcbiAgICB9O1xuICAgIGxldCBhcmlhQ3VycmVudCA9IGlzQWN0aXZlID8gYXJpYUN1cnJlbnRQcm9wIDogdm9pZCAwO1xuICAgIGxldCBjbGFzc05hbWU7XG4gICAgaWYgKHR5cGVvZiBjbGFzc05hbWVQcm9wID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZVByb3AocmVuZGVyUHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc05hbWUgPSBbXG4gICAgICAgIGNsYXNzTmFtZVByb3AsXG4gICAgICAgIGlzQWN0aXZlID8gXCJhY3RpdmVcIiA6IG51bGwsXG4gICAgICAgIGlzUGVuZGluZyA/IFwicGVuZGluZ1wiIDogbnVsbCxcbiAgICAgICAgaXNUcmFuc2l0aW9uaW5nID8gXCJ0cmFuc2l0aW9uaW5nXCIgOiBudWxsXG4gICAgICBdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgICB9XG4gICAgbGV0IHN0eWxlID0gdHlwZW9mIHN0eWxlUHJvcCA9PT0gXCJmdW5jdGlvblwiID8gc3R5bGVQcm9wKHJlbmRlclByb3BzKSA6IHN0eWxlUHJvcDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICAgIExpbmssXG4gICAgICB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IGFyaWFDdXJyZW50LFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHJlZixcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHRvLFxuICAgICAgICB2aWV3VHJhbnNpdGlvblxuICAgICAgfSxcbiAgICAgIHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4ocmVuZGVyUHJvcHMpIDogY2hpbGRyZW5cbiAgICApO1xuICB9XG4pO1xuTmF2TGluay5kaXNwbGF5TmFtZSA9IFwiTmF2TGlua1wiO1xudmFyIEZvcm0gPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gICh7XG4gICAgZGlzY292ZXIgPSBcInJlbmRlclwiLFxuICAgIGZldGNoZXJLZXksXG4gICAgbmF2aWdhdGUsXG4gICAgcmVsb2FkRG9jdW1lbnQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgc3RhdGUsXG4gICAgbWV0aG9kID0gZGVmYXVsdE1ldGhvZCxcbiAgICBhY3Rpb24sXG4gICAgb25TdWJtaXQsXG4gICAgcmVsYXRpdmUsXG4gICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIC4uLnByb3BzXG4gIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGxldCBzdWJtaXQgPSB1c2VTdWJtaXQoKTtcbiAgICBsZXQgZm9ybUFjdGlvbiA9IHVzZUZvcm1BY3Rpb24oYWN0aW9uLCB7IHJlbGF0aXZlIH0pO1xuICAgIGxldCBmb3JtTWV0aG9kID0gbWV0aG9kLnRvTG93ZXJDYXNlKCkgPT09IFwiZ2V0XCIgPyBcImdldFwiIDogXCJwb3N0XCI7XG4gICAgbGV0IGlzQWJzb2x1dGUgPSB0eXBlb2YgYWN0aW9uID09PSBcInN0cmluZ1wiICYmIEFCU09MVVRFX1VSTF9SRUdFWDIudGVzdChhY3Rpb24pO1xuICAgIGxldCBzdWJtaXRIYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBvblN1Ym1pdCAmJiBvblN1Ym1pdChldmVudCk7XG4gICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkgcmV0dXJuO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxldCBzdWJtaXR0ZXIgPSBldmVudC5uYXRpdmVFdmVudC5zdWJtaXR0ZXI7XG4gICAgICBsZXQgc3VibWl0TWV0aG9kID0gc3VibWl0dGVyPy5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IG1ldGhvZDtcbiAgICAgIHN1Ym1pdChzdWJtaXR0ZXIgfHwgZXZlbnQuY3VycmVudFRhcmdldCwge1xuICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICBtZXRob2Q6IHN1Ym1pdE1ldGhvZCxcbiAgICAgICAgbmF2aWdhdGUsXG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcmVsYXRpdmUsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgdmlld1RyYW5zaXRpb25cbiAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImZvcm1cIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIG1ldGhvZDogZm9ybU1ldGhvZCxcbiAgICAgICAgYWN0aW9uOiBmb3JtQWN0aW9uLFxuICAgICAgICBvblN1Ym1pdDogcmVsb2FkRG9jdW1lbnQgPyBvblN1Ym1pdCA6IHN1Ym1pdEhhbmRsZXIsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBcImRhdGEtZGlzY292ZXJcIjogIWlzQWJzb2x1dGUgJiYgZGlzY292ZXIgPT09IFwicmVuZGVyXCIgPyBcInRydWVcIiA6IHZvaWQgMFxuICAgICAgfVxuICAgICk7XG4gIH1cbik7XG5Gb3JtLmRpc3BsYXlOYW1lID0gXCJGb3JtXCI7XG5mdW5jdGlvbiBTY3JvbGxSZXN0b3JhdGlvbih7XG4gIGdldEtleSxcbiAgc3RvcmFnZUtleSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgbGV0IHJlbWl4Q29udGV4dCA9IFJlYWN0MTAudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBtYXRjaGVzID0gdXNlTWF0Y2hlcygpO1xuICB1c2VTY3JvbGxSZXN0b3JhdGlvbih7IGdldEtleSwgc3RvcmFnZUtleSB9KTtcbiAgbGV0IHNzcktleSA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiB7XG4gICAgICBpZiAoIXJlbWl4Q29udGV4dCB8fCAhZ2V0S2V5KSByZXR1cm4gbnVsbDtcbiAgICAgIGxldCB1c2VyS2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkoXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgZ2V0S2V5XG4gICAgICApO1xuICAgICAgcmV0dXJuIHVzZXJLZXkgIT09IGxvY2F0aW9uLmtleSA/IHVzZXJLZXkgOiBudWxsO1xuICAgIH0sXG4gICAgLy8gTmFoLCB3ZSBvbmx5IG5lZWQgdGhpcyB0aGUgZmlyc3QgdGltZSBmb3IgdGhlIFNTUiByZW5kZXJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW11cbiAgKTtcbiAgaWYgKCFyZW1peENvbnRleHQgfHwgcmVtaXhDb250ZXh0LmlzU3BhTW9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCByZXN0b3JlU2Nyb2xsID0gKChzdG9yYWdlS2V5MiwgcmVzdG9yZUtleSkgPT4ge1xuICAgIGlmICghd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwgIXdpbmRvdy5oaXN0b3J5LnN0YXRlLmtleSkge1xuICAgICAgbGV0IGtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzIpLnNsaWNlKDIpO1xuICAgICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsga2V5IH0sIFwiXCIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgbGV0IHBvc2l0aW9ucyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5MikgfHwgXCJ7fVwiKTtcbiAgICAgIGxldCBzdG9yZWRZID0gcG9zaXRpb25zW3Jlc3RvcmVLZXkgfHwgd2luZG93Lmhpc3Rvcnkuc3RhdGUua2V5XTtcbiAgICAgIGlmICh0eXBlb2Ygc3RvcmVkWSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgc3RvcmVkWSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShzdG9yYWdlS2V5Mik7XG4gICAgfVxuICB9KS50b1N0cmluZygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgKCR7cmVzdG9yZVNjcm9sbH0pKCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgc3RvcmFnZUtleSB8fCBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVlcbiAgICAgICAgKX0sICR7SlNPTi5zdHJpbmdpZnkoc3NyS2V5KX0pYFxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblNjcm9sbFJlc3RvcmF0aW9uLmRpc3BsYXlOYW1lID0gXCJTY3JvbGxSZXN0b3JhdGlvblwiO1xuZnVuY3Rpb24gZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcjIoaG9va05hbWUpIHtcbiAgcmV0dXJuIGAke2hvb2tOYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgZGF0YSByb3V0ZXIuICBTZWUgaHR0cHM6Ly9yZWFjdHJvdXRlci5jb20vZW4vbWFpbi9yb3V0ZXJzL3BpY2tpbmctYS1yb3V0ZXIuYDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJDb250ZXh0Myhob29rTmFtZSkge1xuICBsZXQgY3R4ID0gUmVhY3QxMC51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaW52YXJpYW50KGN0eCwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcjIoaG9va05hbWUpKTtcbiAgcmV0dXJuIGN0eDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJTdGF0ZTIoaG9va05hbWUpIHtcbiAgbGV0IHN0YXRlID0gUmVhY3QxMC51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQoc3RhdGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IyKGhvb2tOYW1lKSk7XG4gIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVzZUxpbmtDbGlja0hhbmRsZXIodG8sIHtcbiAgdGFyZ2V0LFxuICByZXBsYWNlOiByZXBsYWNlUHJvcCxcbiAgc3RhdGUsXG4gIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgcmVsYXRpdmUsXG4gIHZpZXdUcmFuc2l0aW9uXG59ID0ge30pIHtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSk7XG4gIHJldHVybiBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChldmVudCkgPT4ge1xuICAgICAgaWYgKHNob3VsZFByb2Nlc3NMaW5rQ2xpY2soZXZlbnQsIHRhcmdldCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IHJlcGxhY2UyID0gcmVwbGFjZVByb3AgIT09IHZvaWQgMCA/IHJlcGxhY2VQcm9wIDogY3JlYXRlUGF0aChsb2NhdGlvbikgPT09IGNyZWF0ZVBhdGgocGF0aCk7XG4gICAgICAgIG5hdmlnYXRlKHRvLCB7XG4gICAgICAgICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIHJlbGF0aXZlLFxuICAgICAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgbG9jYXRpb24sXG4gICAgICBuYXZpZ2F0ZSxcbiAgICAgIHBhdGgsXG4gICAgICByZXBsYWNlUHJvcCxcbiAgICAgIHN0YXRlLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdG8sXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZWxhdGl2ZSxcbiAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgXVxuICApO1xufVxuZnVuY3Rpb24gdXNlU2VhcmNoUGFyYW1zKGRlZmF1bHRJbml0KSB7XG4gIHdhcm5pbmcoXG4gICAgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gXCJ1bmRlZmluZWRcIixcbiAgICBgWW91IGNhbm5vdCB1c2UgdGhlIFxcYHVzZVNlYXJjaFBhcmFtc1xcYCBob29rIGluIGEgYnJvd3NlciB0aGF0IGRvZXMgbm90IHN1cHBvcnQgdGhlIFVSTFNlYXJjaFBhcmFtcyBBUEkuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnQgSW50ZXJuZXQgRXhwbG9yZXIgMTEsIHdlIHJlY29tbWVuZCB5b3UgbG9hZCBhIHBvbHlmaWxsIHN1Y2ggYXMgaHR0cHM6Ly9naXRodWIuY29tL3VuZ2FwL3VybC1zZWFyY2gtcGFyYW1zLmBcbiAgKTtcbiAgbGV0IGRlZmF1bHRTZWFyY2hQYXJhbXNSZWYgPSBSZWFjdDEwLnVzZVJlZihjcmVhdGVTZWFyY2hQYXJhbXMoZGVmYXVsdEluaXQpKTtcbiAgbGV0IGhhc1NldFNlYXJjaFBhcmFtc1JlZiA9IFJlYWN0MTAudXNlUmVmKGZhbHNlKTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiAoXG4gICAgICAvLyBPbmx5IG1lcmdlIGluIHRoZSBkZWZhdWx0cyBpZiB3ZSBoYXZlbid0IHlldCBjYWxsZWQgc2V0U2VhcmNoUGFyYW1zLlxuICAgICAgLy8gT25jZSB3ZSBjYWxsIHRoYXQgd2Ugd2FudCB0aG9zZSB0byB0YWtlIHByZWNlZGVuY2UsIG90aGVyd2lzZSB5b3UgY2FuJ3RcbiAgICAgIC8vIHJlbW92ZSBhIHBhcmFtIHdpdGggc2V0U2VhcmNoUGFyYW1zKHt9KSBpZiBpdCBoYXMgYW4gaW5pdGlhbCB2YWx1ZVxuICAgICAgZ2V0U2VhcmNoUGFyYW1zRm9yTG9jYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLnNlYXJjaCxcbiAgICAgICAgaGFzU2V0U2VhcmNoUGFyYW1zUmVmLmN1cnJlbnQgPyBudWxsIDogZGVmYXVsdFNlYXJjaFBhcmFtc1JlZi5jdXJyZW50XG4gICAgICApXG4gICAgKSxcbiAgICBbbG9jYXRpb24uc2VhcmNoXVxuICApO1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBsZXQgc2V0U2VhcmNoUGFyYW1zID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV4dEluaXQsIG5hdmlnYXRlT3B0aW9ucykgPT4ge1xuICAgICAgY29uc3QgbmV3U2VhcmNoUGFyYW1zID0gY3JlYXRlU2VhcmNoUGFyYW1zKFxuICAgICAgICB0eXBlb2YgbmV4dEluaXQgPT09IFwiZnVuY3Rpb25cIiA/IG5leHRJbml0KHNlYXJjaFBhcmFtcykgOiBuZXh0SW5pdFxuICAgICAgKTtcbiAgICAgIGhhc1NldFNlYXJjaFBhcmFtc1JlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIG5hdmlnYXRlKFwiP1wiICsgbmV3U2VhcmNoUGFyYW1zLCBuYXZpZ2F0ZU9wdGlvbnMpO1xuICAgIH0sXG4gICAgW25hdmlnYXRlLCBzZWFyY2hQYXJhbXNdXG4gICk7XG4gIHJldHVybiBbc2VhcmNoUGFyYW1zLCBzZXRTZWFyY2hQYXJhbXNdO1xufVxudmFyIGZldGNoZXJJZCA9IDA7XG52YXIgZ2V0VW5pcXVlRmV0Y2hlcklkID0gKCkgPT4gYF9fJHtTdHJpbmcoKytmZXRjaGVySWQpfV9fYDtcbmZ1bmN0aW9uIHVzZVN1Ym1pdCgpIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXCJ1c2VTdWJtaXRcIiAvKiBVc2VTdWJtaXQgKi8pO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IGN1cnJlbnRSb3V0ZUlkID0gdXNlUm91dGVJZCgpO1xuICByZXR1cm4gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodGFyZ2V0LCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGxldCB7IGFjdGlvbiwgbWV0aG9kLCBlbmNUeXBlLCBmb3JtRGF0YSwgYm9keSB9ID0gZ2V0Rm9ybVN1Ym1pc3Npb25JbmZvKFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGJhc2VuYW1lXG4gICAgICApO1xuICAgICAgaWYgKG9wdGlvbnMubmF2aWdhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGxldCBrZXkgPSBvcHRpb25zLmZldGNoZXJLZXkgfHwgZ2V0VW5pcXVlRmV0Y2hlcklkKCk7XG4gICAgICAgIGF3YWl0IHJvdXRlci5mZXRjaChrZXksIGN1cnJlbnRSb3V0ZUlkLCBvcHRpb25zLmFjdGlvbiB8fCBhY3Rpb24sIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdGlvbnMucHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIGZvcm1EYXRhLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgZm9ybU1ldGhvZDogb3B0aW9ucy5tZXRob2QgfHwgbWV0aG9kLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRpb25zLmVuY1R5cGUgfHwgZW5jVHlwZSxcbiAgICAgICAgICBmbHVzaFN5bmM6IG9wdGlvbnMuZmx1c2hTeW5jXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgcm91dGVyLm5hdmlnYXRlKG9wdGlvbnMuYWN0aW9uIHx8IGFjdGlvbiwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0aW9ucy5wcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICBmb3JtTWV0aG9kOiBvcHRpb25zLm1ldGhvZCB8fCBtZXRob2QsXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdGlvbnMuZW5jVHlwZSB8fCBlbmNUeXBlLFxuICAgICAgICAgIHJlcGxhY2U6IG9wdGlvbnMucmVwbGFjZSxcbiAgICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICBmcm9tUm91dGVJZDogY3VycmVudFJvdXRlSWQsXG4gICAgICAgICAgZmx1c2hTeW5jOiBvcHRpb25zLmZsdXNoU3luYyxcbiAgICAgICAgICB2aWV3VHJhbnNpdGlvbjogb3B0aW9ucy52aWV3VHJhbnNpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtyb3V0ZXIsIGJhc2VuYW1lLCBjdXJyZW50Um91dGVJZF1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZUZvcm1BY3Rpb24oYWN0aW9uLCB7IHJlbGF0aXZlIH0gPSB7fSkge1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IHJvdXRlQ29udGV4dCA9IFJlYWN0MTAudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQocm91dGVDb250ZXh0LCBcInVzZUZvcm1BY3Rpb24gbXVzdCBiZSB1c2VkIGluc2lkZSBhIFJvdXRlQ29udGV4dFwiKTtcbiAgbGV0IFttYXRjaF0gPSByb3V0ZUNvbnRleHQubWF0Y2hlcy5zbGljZSgtMSk7XG4gIGxldCBwYXRoID0geyAuLi51c2VSZXNvbHZlZFBhdGgoYWN0aW9uID8gYWN0aW9uIDogXCIuXCIsIHsgcmVsYXRpdmUgfSkgfTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgaWYgKGFjdGlvbiA9PSBudWxsKSB7XG4gICAgcGF0aC5zZWFyY2ggPSBsb2NhdGlvbi5zZWFyY2g7XG4gICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGF0aC5zZWFyY2gpO1xuICAgIGxldCBpbmRleFZhbHVlcyA9IHBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgICBsZXQgaGFzTmFrZWRJbmRleFBhcmFtID0gaW5kZXhWYWx1ZXMuc29tZSgodikgPT4gdiA9PT0gXCJcIik7XG4gICAgaWYgKGhhc05ha2VkSW5kZXhQYXJhbSkge1xuICAgICAgcGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICAgICAgaW5kZXhWYWx1ZXMuZmlsdGVyKCh2KSA9PiB2KS5mb3JFYWNoKCh2KSA9PiBwYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdikpO1xuICAgICAgbGV0IHFzID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICBwYXRoLnNlYXJjaCA9IHFzID8gYD8ke3FzfWAgOiBcIlwiO1xuICAgIH1cbiAgfVxuICBpZiAoKCFhY3Rpb24gfHwgYWN0aW9uID09PSBcIi5cIikgJiYgbWF0Y2gucm91dGUuaW5kZXgpIHtcbiAgICBwYXRoLnNlYXJjaCA9IHBhdGguc2VhcmNoID8gcGF0aC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sIFwiP2luZGV4JlwiKSA6IFwiP2luZGV4XCI7XG4gIH1cbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIHBhdGgucGF0aG5hbWUgPSBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICB9XG4gIHJldHVybiBjcmVhdGVQYXRoKHBhdGgpO1xufVxuZnVuY3Rpb24gdXNlRmV0Y2hlcih7XG4gIGtleVxufSA9IHt9KSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFwidXNlRmV0Y2hlclwiIC8qIFVzZUZldGNoZXIgKi8pO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUyKFwidXNlRmV0Y2hlclwiIC8qIFVzZUZldGNoZXIgKi8pO1xuICBsZXQgZmV0Y2hlckRhdGEgPSBSZWFjdDEwLnVzZUNvbnRleHQoRmV0Y2hlcnNDb250ZXh0KTtcbiAgbGV0IHJvdXRlID0gUmVhY3QxMC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZUlkID0gcm91dGUubWF0Y2hlc1tyb3V0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdPy5yb3V0ZS5pZDtcbiAgaW52YXJpYW50KGZldGNoZXJEYXRhLCBgdXNlRmV0Y2hlciBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgRmV0Y2hlcnNDb250ZXh0YCk7XG4gIGludmFyaWFudChyb3V0ZSwgYHVzZUZldGNoZXIgbXVzdCBiZSB1c2VkIGluc2lkZSBhIFJvdXRlQ29udGV4dGApO1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVJZCAhPSBudWxsLFxuICAgIGB1c2VGZXRjaGVyIGNhbiBvbmx5IGJlIHVzZWQgb24gcm91dGVzIHRoYXQgY29udGFpbiBhIHVuaXF1ZSBcImlkXCJgXG4gICk7XG4gIGxldCBkZWZhdWx0S2V5ID0gUmVhY3QxMC51c2VJZCgpO1xuICBsZXQgW2ZldGNoZXJLZXksIHNldEZldGNoZXJLZXldID0gUmVhY3QxMC51c2VTdGF0ZShrZXkgfHwgZGVmYXVsdEtleSk7XG4gIGlmIChrZXkgJiYga2V5ICE9PSBmZXRjaGVyS2V5KSB7XG4gICAgc2V0RmV0Y2hlcktleShrZXkpO1xuICB9XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICByb3V0ZXIuZ2V0RmV0Y2hlcihmZXRjaGVyS2V5KTtcbiAgICByZXR1cm4gKCkgPT4gcm91dGVyLmRlbGV0ZUZldGNoZXIoZmV0Y2hlcktleSk7XG4gIH0sIFtyb3V0ZXIsIGZldGNoZXJLZXldKTtcbiAgbGV0IGxvYWQgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jIChocmVmMiwgb3B0cykgPT4ge1xuICAgICAgaW52YXJpYW50KHJvdXRlSWQsIFwiTm8gcm91dGVJZCBhdmFpbGFibGUgZm9yIGZldGNoZXIubG9hZCgpXCIpO1xuICAgICAgYXdhaXQgcm91dGVyLmZldGNoKGZldGNoZXJLZXksIHJvdXRlSWQsIGhyZWYyLCBvcHRzKTtcbiAgICB9LFxuICAgIFtmZXRjaGVyS2V5LCByb3V0ZUlkLCByb3V0ZXJdXG4gICk7XG4gIGxldCBzdWJtaXRJbXBsID0gdXNlU3VibWl0KCk7XG4gIGxldCBzdWJtaXQgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0YXJnZXQsIG9wdHMpID0+IHtcbiAgICAgIGF3YWl0IHN1Ym1pdEltcGwodGFyZ2V0LCB7XG4gICAgICAgIC4uLm9wdHMsXG4gICAgICAgIG5hdmlnYXRlOiBmYWxzZSxcbiAgICAgICAgZmV0Y2hlcktleVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbZmV0Y2hlcktleSwgc3VibWl0SW1wbF1cbiAgKTtcbiAgbGV0IEZldGNoZXJGb3JtID0gUmVhY3QxMC51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgRmV0Y2hlckZvcm0yID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICAgICAgKHByb3BzLCByZWYpID0+IHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoRm9ybSwgeyAuLi5wcm9wcywgbmF2aWdhdGU6IGZhbHNlLCBmZXRjaGVyS2V5LCByZWYgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBGZXRjaGVyRm9ybTIuZGlzcGxheU5hbWUgPSBcImZldGNoZXIuRm9ybVwiO1xuICAgIHJldHVybiBGZXRjaGVyRm9ybTI7XG4gIH0sIFtmZXRjaGVyS2V5XSk7XG4gIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGZldGNoZXJLZXkpIHx8IElETEVfRkVUQ0hFUjtcbiAgbGV0IGRhdGEyID0gZmV0Y2hlckRhdGEuZ2V0KGZldGNoZXJLZXkpO1xuICBsZXQgZmV0Y2hlcldpdGhDb21wb25lbnRzID0gUmVhY3QxMC51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBGb3JtOiBGZXRjaGVyRm9ybSxcbiAgICAgIHN1Ym1pdCxcbiAgICAgIGxvYWQsXG4gICAgICAuLi5mZXRjaGVyLFxuICAgICAgZGF0YTogZGF0YTJcbiAgICB9KSxcbiAgICBbRmV0Y2hlckZvcm0sIHN1Ym1pdCwgbG9hZCwgZmV0Y2hlciwgZGF0YTJdXG4gICk7XG4gIHJldHVybiBmZXRjaGVyV2l0aENvbXBvbmVudHM7XG59XG5mdW5jdGlvbiB1c2VGZXRjaGVycygpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlMihcInVzZUZldGNoZXJzXCIgLyogVXNlRmV0Y2hlcnMgKi8pO1xuICByZXR1cm4gQXJyYXkuZnJvbShzdGF0ZS5mZXRjaGVycy5lbnRyaWVzKCkpLm1hcCgoW2tleSwgZmV0Y2hlcl0pID0+ICh7XG4gICAgLi4uZmV0Y2hlcixcbiAgICBrZXlcbiAgfSkpO1xufVxudmFyIFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWSA9IFwicmVhY3Qtcm91dGVyLXNjcm9sbC1wb3NpdGlvbnNcIjtcbnZhciBzYXZlZFNjcm9sbFBvc2l0aW9ucyA9IHt9O1xuZnVuY3Rpb24gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkobG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCBnZXRLZXkpIHtcbiAgbGV0IGtleSA9IG51bGw7XG4gIGlmIChnZXRLZXkpIHtcbiAgICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgICBrZXkgPSBnZXRLZXkoXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5sb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoZXNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IGdldEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgfVxuICB9XG4gIGlmIChrZXkgPT0gbnVsbCkge1xuICAgIGtleSA9IGxvY2F0aW9uLmtleTtcbiAgfVxuICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gdXNlU2Nyb2xsUmVzdG9yYXRpb24oe1xuICBnZXRLZXksXG4gIHN0b3JhZ2VLZXlcbn0gPSB7fSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcInVzZVNjcm9sbFJlc3RvcmF0aW9uXCIgLyogVXNlU2Nyb2xsUmVzdG9yYXRpb24gKi8pO1xuICBsZXQgeyByZXN0b3JlU2Nyb2xsUG9zaXRpb24sIHByZXZlbnRTY3JvbGxSZXNldCB9ID0gdXNlRGF0YVJvdXRlclN0YXRlMihcbiAgICBcInVzZVNjcm9sbFJlc3RvcmF0aW9uXCIgLyogVXNlU2Nyb2xsUmVzdG9yYXRpb24gKi9cbiAgKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBtYXRjaGVzID0gdXNlTWF0Y2hlcygpO1xuICBsZXQgbmF2aWdhdGlvbiA9IHVzZU5hdmlnYXRpb24oKTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJtYW51YWxcIjtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcImF1dG9cIjtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZVBhZ2VIaWRlKFxuICAgIFJlYWN0MTAudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb24uc3RhdGUgPT09IFwiaWRsZVwiKSB7XG4gICAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShsb2NhdGlvbiwgbWF0Y2hlcywgYmFzZW5hbWUsIGdldEtleSk7XG4gICAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zW2tleV0gPSB3aW5kb3cuc2Nyb2xsWTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgc3RvcmFnZUtleSB8fCBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVksXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkoc2F2ZWRTY3JvbGxQb3NpdGlvbnMpXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBzY3JvbGwgcG9zaXRpb25zIGluIHNlc3Npb25TdG9yYWdlLCA8U2Nyb2xsUmVzdG9yYXRpb24gLz4gd2lsbCBub3Qgd29yayBwcm9wZXJseSAoJHtlcnJvcn0pLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJhdXRvXCI7XG4gICAgfSwgW25hdmlnYXRpb24uc3RhdGUsIGdldEtleSwgYmFzZW5hbWUsIGxvY2F0aW9uLCBtYXRjaGVzLCBzdG9yYWdlS2V5XSlcbiAgKTtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBzZXNzaW9uUG9zaXRpb25zID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShcbiAgICAgICAgICBzdG9yYWdlS2V5IHx8IFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWVxuICAgICAgICApO1xuICAgICAgICBpZiAoc2Vzc2lvblBvc2l0aW9ucykge1xuICAgICAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zID0gSlNPTi5wYXJzZShzZXNzaW9uUG9zaXRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH0sIFtzdG9yYWdlS2V5XSk7XG4gICAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgbGV0IGRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbiA9IHJvdXRlcj8uZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24oXG4gICAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zLFxuICAgICAgICAoKSA9PiB3aW5kb3cuc2Nyb2xsWSxcbiAgICAgICAgZ2V0S2V5ID8gKGxvY2F0aW9uMiwgbWF0Y2hlczIpID0+IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KGxvY2F0aW9uMiwgbWF0Y2hlczIsIGJhc2VuYW1lLCBnZXRLZXkpIDogdm9pZCAwXG4gICAgICApO1xuICAgICAgcmV0dXJuICgpID0+IGRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbiAmJiBkaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24oKTtcbiAgICB9LCBbcm91dGVyLCBiYXNlbmFtZSwgZ2V0S2V5XSk7XG4gICAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHJlc3RvcmVTY3JvbGxQb3NpdGlvbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiByZXN0b3JlU2Nyb2xsUG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHJlc3RvcmVTY3JvbGxQb3NpdGlvbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGRlY29kZVVSSUNvbXBvbmVudChsb2NhdGlvbi5oYXNoLnNsaWNlKDEpKVxuICAgICAgICApO1xuICAgICAgICBpZiAoZWwpIHtcbiAgICAgICAgICBlbC5zY3JvbGxJbnRvVmlldygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XG4gICAgfSwgW2xvY2F0aW9uLCByZXN0b3JlU2Nyb2xsUG9zaXRpb24sIHByZXZlbnRTY3JvbGxSZXNldF0pO1xuICB9XG59XG5mdW5jdGlvbiB1c2VCZWZvcmVVbmxvYWQoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgbGV0IHsgY2FwdHVyZSB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBvcHRzID0gY2FwdHVyZSAhPSBudWxsID8geyBjYXB0dXJlIH0gOiB2b2lkIDA7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgfTtcbiAgfSwgW2NhbGxiYWNrLCBjYXB0dXJlXSk7XG59XG5mdW5jdGlvbiB1c2VQYWdlSGlkZShjYWxsYmFjaywgb3B0aW9ucykge1xuICBsZXQgeyBjYXB0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG9wdHMgPSBjYXB0dXJlICE9IG51bGwgPyB7IGNhcHR1cmUgfSA6IHZvaWQgMDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgfTtcbiAgfSwgW2NhbGxiYWNrLCBjYXB0dXJlXSk7XG59XG5mdW5jdGlvbiB1c2VQcm9tcHQoe1xuICB3aGVuLFxuICBtZXNzYWdlXG59KSB7XG4gIGxldCBibG9ja2VyID0gdXNlQmxvY2tlcih3aGVuKTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIikge1xuICAgICAgbGV0IHByb2NlZWQgPSB3aW5kb3cuY29uZmlybShtZXNzYWdlKTtcbiAgICAgIGlmIChwcm9jZWVkKSB7XG4gICAgICAgIHNldFRpbWVvdXQoYmxvY2tlci5wcm9jZWVkLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJsb2NrZXIucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtibG9ja2VyLCBtZXNzYWdlXSk7XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgIXdoZW4pIHtcbiAgICAgIGJsb2NrZXIucmVzZXQoKTtcbiAgICB9XG4gIH0sIFtibG9ja2VyLCB3aGVuXSk7XG59XG5mdW5jdGlvbiB1c2VWaWV3VHJhbnNpdGlvblN0YXRlKHRvLCBvcHRzID0ge30pIHtcbiAgbGV0IHZ0Q29udGV4dCA9IFJlYWN0MTAudXNlQ29udGV4dChWaWV3VHJhbnNpdGlvbkNvbnRleHQpO1xuICBpbnZhcmlhbnQoXG4gICAgdnRDb250ZXh0ICE9IG51bGwsXG4gICAgXCJgdXNlVmlld1RyYW5zaXRpb25TdGF0ZWAgbXVzdCBiZSB1c2VkIHdpdGhpbiBgcmVhY3Qtcm91dGVyLWRvbWAncyBgUm91dGVyUHJvdmlkZXJgLiAgRGlkIHlvdSBhY2NpZGVudGFsbHkgaW1wb3J0IGBSb3V0ZXJQcm92aWRlcmAgZnJvbSBgcmVhY3Qtcm91dGVyYD9cIlxuICApO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFxuICAgIFwidXNlVmlld1RyYW5zaXRpb25TdGF0ZVwiIC8qIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUgKi9cbiAgKTtcbiAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmU6IG9wdHMucmVsYXRpdmUgfSk7XG4gIGlmICghdnRDb250ZXh0LmlzVHJhbnNpdGlvbmluZykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsZXQgY3VycmVudFBhdGggPSBzdHJpcEJhc2VuYW1lKHZ0Q29udGV4dC5jdXJyZW50TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCB2dENvbnRleHQuY3VycmVudExvY2F0aW9uLnBhdGhuYW1lO1xuICBsZXQgbmV4dFBhdGggPSBzdHJpcEJhc2VuYW1lKHZ0Q29udGV4dC5uZXh0TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCB2dENvbnRleHQubmV4dExvY2F0aW9uLnBhdGhuYW1lO1xuICByZXR1cm4gbWF0Y2hQYXRoKHBhdGgucGF0aG5hbWUsIG5leHRQYXRoKSAhPSBudWxsIHx8IG1hdGNoUGF0aChwYXRoLnBhdGhuYW1lLCBjdXJyZW50UGF0aCkgIT0gbnVsbDtcbn1cblxuLy8gbGliL2RvbS9zZXJ2ZXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDExIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3RhdGljUm91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICBsb2NhdGlvbjogbG9jYXRpb25Qcm9wID0gXCIvXCJcbn0pIHtcbiAgaWYgKHR5cGVvZiBsb2NhdGlvblByb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsb2NhdGlvblByb3AgPSBwYXJzZVBhdGgobG9jYXRpb25Qcm9wKTtcbiAgfVxuICBsZXQgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBsb2NhdGlvbiA9IHtcbiAgICBwYXRobmFtZTogbG9jYXRpb25Qcm9wLnBhdGhuYW1lIHx8IFwiL1wiLFxuICAgIHNlYXJjaDogbG9jYXRpb25Qcm9wLnNlYXJjaCB8fCBcIlwiLFxuICAgIGhhc2g6IGxvY2F0aW9uUHJvcC5oYXNoIHx8IFwiXCIsXG4gICAgc3RhdGU6IGxvY2F0aW9uUHJvcC5zdGF0ZSAhPSBudWxsID8gbG9jYXRpb25Qcm9wLnN0YXRlIDogbnVsbCxcbiAgICBrZXk6IGxvY2F0aW9uUHJvcC5rZXkgfHwgXCJkZWZhdWx0XCJcbiAgfTtcbiAgbGV0IHN0YXRpY05hdmlnYXRvciA9IGdldFN0YXRlbGVzc05hdmlnYXRvcigpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IGFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogc3RhdGljTmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiB0cnVlXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gU3RhdGljUm91dGVyUHJvdmlkZXIoe1xuICBjb250ZXh0LFxuICByb3V0ZXIsXG4gIGh5ZHJhdGUgPSB0cnVlLFxuICBub25jZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVyICYmIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGByb3V0ZXJgIGFuZCBgY29udGV4dGAgdG8gPFN0YXRpY1JvdXRlclByb3ZpZGVyPlwiXG4gICk7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IHtcbiAgICByb3V0ZXIsXG4gICAgbmF2aWdhdG9yOiBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKSxcbiAgICBzdGF0aWM6IHRydWUsXG4gICAgc3RhdGljQ29udGV4dDogY29udGV4dCxcbiAgICBiYXNlbmFtZTogY29udGV4dC5iYXNlbmFtZSB8fCBcIi9cIlxuICB9O1xuICBsZXQgZmV0Y2hlcnNDb250ZXh0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGh5ZHJhdGVTY3JpcHQgPSBcIlwiO1xuICBpZiAoaHlkcmF0ZSAhPT0gZmFsc2UpIHtcbiAgICBsZXQgZGF0YTIgPSB7XG4gICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycylcbiAgICB9O1xuICAgIGxldCBqc29uID0gaHRtbEVzY2FwZShKU09OLnN0cmluZ2lmeShKU09OLnN0cmluZ2lmeShkYXRhMikpKTtcbiAgICBoeWRyYXRlU2NyaXB0ID0gYHdpbmRvdy5fX3N0YXRpY1JvdXRlckh5ZHJhdGlvbkRhdGEgPSBKU09OLnBhcnNlKCR7anNvbn0pO2A7XG4gIH1cbiAgbGV0IHsgc3RhdGUgfSA9IGRhdGFSb3V0ZXJDb250ZXh0LnJvdXRlcjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZGF0YVJvdXRlckNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzdGF0ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KEZldGNoZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZmV0Y2hlcnNDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoVmlld1RyYW5zaXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZTogZGF0YVJvdXRlckNvbnRleHQuYmFzZW5hbWUsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogZGF0YVJvdXRlckNvbnRleHQubmF2aWdhdG9yLFxuICAgICAgc3RhdGljOiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBEYXRhUm91dGVzMixcbiAgICAgIHtcbiAgICAgICAgcm91dGVzOiByb3V0ZXIucm91dGVzLFxuICAgICAgICBmdXR1cmU6IHJvdXRlci5mdXR1cmUsXG4gICAgICAgIHN0YXRlXG4gICAgICB9XG4gICAgKVxuICApKSkpKSwgaHlkcmF0ZVNjcmlwdCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICBub25jZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogaHlkcmF0ZVNjcmlwdCB9XG4gICAgfVxuICApIDogbnVsbCk7XG59XG5mdW5jdGlvbiBEYXRhUm91dGVzMih7XG4gIHJvdXRlcyxcbiAgZnV0dXJlLFxuICBzdGF0ZVxufSkge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIHZvaWQgMCwgc3RhdGUsIGZ1dHVyZSk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFcnJvcnMoZXJyb3JzKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UodmFsKSkge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0geyAuLi52YWwsIF9fdHlwZTogXCJSb3V0ZUVycm9yUmVzcG9uc2VcIiB9O1xuICAgIH0gZWxzZSBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHtcbiAgICAgICAgbWVzc2FnZTogdmFsLm1lc3NhZ2UsXG4gICAgICAgIF9fdHlwZTogXCJFcnJvclwiLFxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc3ViY2xhc3MgKGkuZS4sIFJlZmVyZW5jZUVycm9yKSwgc2VuZCB1cCB0aGUgdHlwZSBzbyB3ZVxuICAgICAgICAvLyBjYW4gcmUtY3JlYXRlIHRoZSBzYW1lIHR5cGUgZHVyaW5nIGh5ZHJhdGlvbi5cbiAgICAgICAgLi4udmFsLm5hbWUgIT09IFwiRXJyb3JcIiA/IHtcbiAgICAgICAgICBfX3N1YlR5cGU6IHZhbC5uYW1lXG4gICAgICAgIH0gOiB7fVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cbmZ1bmN0aW9uIGdldFN0YXRlbGVzc05hdmlnYXRvcigpIHtcbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVIcmVmLFxuICAgIGVuY29kZUxvY2F0aW9uLFxuICAgIHB1c2godG8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5wdXNoKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LiBUaGlzIGVycm9yIHdhcyBwcm9iYWJseSB0cmlnZ2VyZWQgd2hlbiB5b3UgZGlkIGEgXFxgbmF2aWdhdGUoJHtKU09OLnN0cmluZ2lmeSh0byl9KVxcYCBzb21ld2hlcmUgaW4geW91ciBhcHAuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlcGxhY2UodG8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5yZXBsYWNlKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LiBUaGlzIGVycm9yIHdhcyBwcm9iYWJseSB0cmlnZ2VyZWQgd2hlbiB5b3UgZGlkIGEgXFxgbmF2aWdhdGUoJHtKU09OLnN0cmluZ2lmeSh0byl9LCB7IHJlcGxhY2U6IHRydWUgfSlcXGAgc29tZXdoZXJlIGluIHlvdXIgYXBwLmBcbiAgICAgICk7XG4gICAgfSxcbiAgICBnbyhkZWx0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLmdvKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LiBUaGlzIGVycm9yIHdhcyBwcm9iYWJseSB0cmlnZ2VyZWQgd2hlbiB5b3UgZGlkIGEgXFxgbmF2aWdhdGUoJHtkZWx0YX0pXFxgIHNvbWV3aGVyZSBpbiB5b3VyIGFwcC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgYmFjaygpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5iYWNrKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LmBcbiAgICAgICk7XG4gICAgfSxcbiAgICBmb3J3YXJkKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLmZvcndhcmQoKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuYFxuICAgICAgKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyMihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVN0YXRpY0hhbmRsZXIocm91dGVzLCB7XG4gICAgLi4ub3B0cyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXNcbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNSb3V0ZXIocm91dGVzLCBjb250ZXh0LCBvcHRzID0ge30pIHtcbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBsZXQgbWF0Y2hlcyA9IGNvbnRleHQubWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiB7XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3RbbWF0Y2gucm91dGUuaWRdIHx8IG1hdGNoLnJvdXRlO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5tYXRjaCxcbiAgICAgIHJvdXRlXG4gICAgfTtcbiAgfSk7XG4gIGxldCBtc2cgPSAobWV0aG9kKSA9PiBgWW91IGNhbm5vdCB1c2Ugcm91dGVyLiR7bWV0aG9kfSgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudGA7XG4gIHJldHVybiB7XG4gICAgZ2V0IGJhc2VuYW1lKCkge1xuICAgICAgcmV0dXJuIGNvbnRleHQuYmFzZW5hbWU7XG4gICAgfSxcbiAgICBnZXQgZnV0dXJlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdW5zdGFibGVfbWlkZGxld2FyZTogZmFsc2UsXG4gICAgICAgIC4uLm9wdHM/LmZ1dHVyZVxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhpc3RvcnlBY3Rpb246IFwiUE9QXCIgLyogUG9wICovLFxuICAgICAgICBsb2NhdGlvbjogY29udGV4dC5sb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YTogY29udGV4dC5sb2FkZXJEYXRhLFxuICAgICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICAgIGVycm9yczogY29udGV4dC5lcnJvcnMsXG4gICAgICAgIGluaXRpYWxpemVkOiB0cnVlLFxuICAgICAgICBuYXZpZ2F0aW9uOiBJRExFX05BVklHQVRJT04sXG4gICAgICAgIHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogbnVsbCxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBmYWxzZSxcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICAgICAgZmV0Y2hlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICAgIGJsb2NrZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgIHJldHVybiBkYXRhUm91dGVzO1xuICAgIH0sXG4gICAgZ2V0IHdpbmRvdygpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSxcbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgdGhyb3cgbXNnKFwiaW5pdGlhbGl6ZVwiKTtcbiAgICB9LFxuICAgIHN1YnNjcmliZSgpIHtcbiAgICAgIHRocm93IG1zZyhcInN1YnNjcmliZVwiKTtcbiAgICB9LFxuICAgIGVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb25cIik7XG4gICAgfSxcbiAgICBuYXZpZ2F0ZSgpIHtcbiAgICAgIHRocm93IG1zZyhcIm5hdmlnYXRlXCIpO1xuICAgIH0sXG4gICAgZmV0Y2goKSB7XG4gICAgICB0aHJvdyBtc2coXCJmZXRjaFwiKTtcbiAgICB9LFxuICAgIHJldmFsaWRhdGUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJyZXZhbGlkYXRlXCIpO1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZixcbiAgICBlbmNvZGVMb2NhdGlvbixcbiAgICBnZXRGZXRjaGVyKCkge1xuICAgICAgcmV0dXJuIElETEVfRkVUQ0hFUjtcbiAgICB9LFxuICAgIGRlbGV0ZUZldGNoZXIoKSB7XG4gICAgICB0aHJvdyBtc2coXCJkZWxldGVGZXRjaGVyXCIpO1xuICAgIH0sXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgIHRocm93IG1zZyhcImRpc3Bvc2VcIik7XG4gICAgfSxcbiAgICBnZXRCbG9ja2VyKCkge1xuICAgICAgcmV0dXJuIElETEVfQkxPQ0tFUjtcbiAgICB9LFxuICAgIGRlbGV0ZUJsb2NrZXIoKSB7XG4gICAgICB0aHJvdyBtc2coXCJkZWxldGVCbG9ja2VyXCIpO1xuICAgIH0sXG4gICAgcGF0Y2hSb3V0ZXMoKSB7XG4gICAgICB0aHJvdyBtc2coXCJwYXRjaFJvdXRlc1wiKTtcbiAgICB9LFxuICAgIF9pbnRlcm5hbEZldGNoQ29udHJvbGxlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgX2ludGVybmFsU2V0Um91dGVzKCkge1xuICAgICAgdGhyb3cgbXNnKFwiX2ludGVybmFsU2V0Um91dGVzXCIpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhyZWYodG8pIHtcbiAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG59XG5mdW5jdGlvbiBlbmNvZGVMb2NhdGlvbih0bykge1xuICBsZXQgaHJlZjIgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICBocmVmMiA9IGhyZWYyLnJlcGxhY2UoLyAkLywgXCIlMjBcIik7XG4gIGxldCBlbmNvZGVkID0gQUJTT0xVVEVfVVJMX1JFR0VYMy50ZXN0KGhyZWYyKSA/IG5ldyBVUkwoaHJlZjIpIDogbmV3IFVSTChocmVmMiwgXCJodHRwOi8vbG9jYWxob3N0XCIpO1xuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBlbmNvZGVkLnBhdGhuYW1lLFxuICAgIHNlYXJjaDogZW5jb2RlZC5zZWFyY2gsXG4gICAgaGFzaDogZW5jb2RlZC5oYXNoXG4gIH07XG59XG52YXIgQUJTT0xVVEVfVVJMX1JFR0VYMyA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbnZhciBFU0NBUEVfTE9PS1VQMiA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xudmFyIEVTQ0FQRV9SRUdFWDIgPSAvWyY+PFxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gaHRtbEVzY2FwZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKEVTQ0FQRV9SRUdFWDIsIChtYXRjaCkgPT4gRVNDQVBFX0xPT0tVUDJbbWF0Y2hdKTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivc2VydmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFNlcnZlclJvdXRlcih7XG4gIGNvbnRleHQsXG4gIHVybCxcbiAgbm9uY2Vcbn0pIHtcbiAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICB1cmwgPSBuZXcgVVJMKHVybCk7XG4gIH1cbiAgbGV0IHsgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgY3JpdGljYWxDc3MsIHNlcnZlckhhbmRvZmZTdHJpbmcgfSA9IGNvbnRleHQ7XG4gIGxldCByb3V0ZXMgPSBjcmVhdGVTZXJ2ZXJSb3V0ZXMoXG4gICAgbWFuaWZlc3Qucm91dGVzLFxuICAgIHJvdXRlTW9kdWxlcyxcbiAgICBjb250ZXh0LmZ1dHVyZSxcbiAgICBjb250ZXh0LmlzU3BhTW9kZVxuICApO1xuICBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0LmxvYWRlckRhdGEgPSB7XG4gICAgLi4uY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhXG4gIH07XG4gIGZvciAobGV0IG1hdGNoIG9mIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubWF0Y2hlcykge1xuICAgIGxldCByb3V0ZUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IHJvdXRlID0gcm91dGVNb2R1bGVzW3JvdXRlSWRdO1xuICAgIGxldCBtYW5pZmVzdFJvdXRlID0gY29udGV4dC5tYW5pZmVzdC5yb3V0ZXNbcm91dGVJZF07XG4gICAgaWYgKHJvdXRlICYmIG1hbmlmZXN0Um91dGUgJiYgc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKG1hbmlmZXN0Um91dGUsIHJvdXRlLCBjb250ZXh0LmlzU3BhTW9kZSkgJiYgKHJvdXRlLkh5ZHJhdGVGYWxsYmFjayB8fCAhbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpKSB7XG4gICAgICBkZWxldGUgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhW3JvdXRlSWRdO1xuICAgIH1cbiAgfVxuICBsZXQgcm91dGVyID0gY3JlYXRlU3RhdGljUm91dGVyKHJvdXRlcywgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlYWN0MTIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXG4gICAgRnJhbWV3b3JrQ29udGV4dC5Qcm92aWRlcixcbiAgICB7XG4gICAgICB2YWx1ZToge1xuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgICBjcml0aWNhbENzcyxcbiAgICAgICAgc2VydmVySGFuZG9mZlN0cmluZyxcbiAgICAgICAgZnV0dXJlOiBjb250ZXh0LmZ1dHVyZSxcbiAgICAgICAgc3NyOiBjb250ZXh0LnNzcixcbiAgICAgICAgaXNTcGFNb2RlOiBjb250ZXh0LmlzU3BhTW9kZSxcbiAgICAgICAgc2VyaWFsaXplRXJyb3I6IGNvbnRleHQuc2VyaWFsaXplRXJyb3IsXG4gICAgICAgIHJlbmRlck1ldGE6IGNvbnRleHQucmVuZGVyTWV0YVxuICAgICAgfVxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChSZW1peEVycm9yQm91bmRhcnksIHsgbG9jYXRpb246IHJvdXRlci5zdGF0ZS5sb2NhdGlvbiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFxuICAgICAgU3RhdGljUm91dGVyUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHJvdXRlcixcbiAgICAgICAgY29udGV4dDogY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dCxcbiAgICAgICAgaHlkcmF0ZTogZmFsc2VcbiAgICAgIH1cbiAgICApKVxuICApLCBjb250ZXh0LnNlcnZlckhhbmRvZmZTdHJlYW0gPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlYWN0MTIuU3VzcGVuc2UsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXG4gICAgU3RyZWFtVHJhbnNmZXIsXG4gICAge1xuICAgICAgY29udGV4dCxcbiAgICAgIGlkZW50aWZpZXI6IDAsXG4gICAgICByZWFkZXI6IGNvbnRleHQuc2VydmVySGFuZG9mZlN0cmVhbS5nZXRSZWFkZXIoKSxcbiAgICAgIHRleHREZWNvZGVyOiBuZXcgVGV4dERlY29kZXIoKSxcbiAgICAgIG5vbmNlXG4gICAgfVxuICApKSA6IG51bGwpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9yb3V0ZXMtdGVzdC1zdHViLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlc1N0dWIocm91dGVzLCB1bnN0YWJsZV9nZXRDb250ZXh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiBSb3V0ZXNUZXN0U3R1Yih7XG4gICAgaW5pdGlhbEVudHJpZXMsXG4gICAgaW5pdGlhbEluZGV4LFxuICAgIGh5ZHJhdGlvbkRhdGEsXG4gICAgZnV0dXJlXG4gIH0pIHtcbiAgICBsZXQgcm91dGVyUmVmID0gUmVhY3QxMy51c2VSZWYoKTtcbiAgICBsZXQgcmVtaXhDb250ZXh0UmVmID0gUmVhY3QxMy51c2VSZWYoKTtcbiAgICBpZiAocm91dGVyUmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgICAgcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQgPSB7XG4gICAgICAgIGZ1dHVyZToge1xuICAgICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IGZ1dHVyZT8udW5zdGFibGVfbWlkZGxld2FyZSA9PT0gdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBtYW5pZmVzdDoge1xuICAgICAgICAgIHJvdXRlczoge30sXG4gICAgICAgICAgZW50cnk6IHsgaW1wb3J0czogW10sIG1vZHVsZTogXCJcIiB9LFxuICAgICAgICAgIHVybDogXCJcIixcbiAgICAgICAgICB2ZXJzaW9uOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIHJvdXRlTW9kdWxlczoge30sXG4gICAgICAgIHNzcjogZmFsc2UsXG4gICAgICAgIGlzU3BhTW9kZTogZmFsc2VcbiAgICAgIH07XG4gICAgICBsZXQgcGF0Y2hlZCA9IHByb2Nlc3NSb3V0ZXMoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgYFN0dWJSb3V0ZU9iamVjdGAgaXMgc3RyaWN0ZXIgYWJvdXQgYGxvYWRlcmAvYGFjdGlvbmBcbiAgICAgICAgLy8gdHlwZXMgY29tcGFyZWQgdG8gYEFnbm9zdGljUm91dGVPYmplY3RgXG4gICAgICAgIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMocm91dGVzLCAocikgPT4gciksXG4gICAgICAgIHJlbWl4Q29udGV4dFJlZi5jdXJyZW50Lm1hbmlmZXN0LFxuICAgICAgICByZW1peENvbnRleHRSZWYuY3VycmVudC5yb3V0ZU1vZHVsZXNcbiAgICAgICk7XG4gICAgICByb3V0ZXJSZWYuY3VycmVudCA9IGNyZWF0ZU1lbW9yeVJvdXRlcihwYXRjaGVkLCB7XG4gICAgICAgIHVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgICAgIGluaXRpYWxFbnRyaWVzLFxuICAgICAgICBpbml0aWFsSW5kZXgsXG4gICAgICAgIGh5ZHJhdGlvbkRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChGcmFtZXdvcmtDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiByZW1peENvbnRleHRSZWYuY3VycmVudCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFJvdXRlclByb3ZpZGVyLCB7IHJvdXRlcjogcm91dGVyUmVmLmN1cnJlbnQgfSkpO1xuICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc1JvdXRlcyhyb3V0ZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHBhcmVudElkKSB7XG4gIHJldHVybiByb3V0ZXMubWFwKChyb3V0ZSkgPT4ge1xuICAgIGlmICghcm91dGUuaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeHBlY3RlZCBhIHJvdXRlLmlkIGluIEByZW1peC1ydW4vdGVzdGluZyBwcm9jZXNzUm91dGVzKCkgZnVuY3Rpb25cIlxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IG5ld1JvdXRlID0ge1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIENvbXBvbmVudDogcm91dGUuQ29tcG9uZW50LFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiByb3V0ZS5IeWRyYXRlRmFsbGJhY2ssXG4gICAgICBFcnJvckJvdW5kYXJ5OiByb3V0ZS5FcnJvckJvdW5kYXJ5LFxuICAgICAgYWN0aW9uOiByb3V0ZS5hY3Rpb24sXG4gICAgICBsb2FkZXI6IHJvdXRlLmxvYWRlcixcbiAgICAgIGhhbmRsZTogcm91dGUuaGFuZGxlLFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogcm91dGUuc2hvdWxkUmV2YWxpZGF0ZVxuICAgIH07XG4gICAgbGV0IGVudHJ5Um91dGUgPSB7XG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaW5kZXg6IHJvdXRlLmluZGV4LFxuICAgICAgcGFyZW50SWQsXG4gICAgICBoYXNBY3Rpb246IHJvdXRlLmFjdGlvbiAhPSBudWxsLFxuICAgICAgaGFzTG9hZGVyOiByb3V0ZS5sb2FkZXIgIT0gbnVsbCxcbiAgICAgIC8vIFdoZW4gdGVzdGluZyByb3V0ZXMsIHlvdSBzaG91bGQganVzdCBiZSBzdHViYmluZyBsb2FkZXIvYWN0aW9uLCBub3RcbiAgICAgIC8vIHRyeWluZyB0byByZS1pbXBsZW1lbnQgdGhlIGZ1bGwgbG9hZGVyL2NsaWVudExvYWRlci9TU1IvaHlkcmF0aW9uIGZsb3cuXG4gICAgICAvLyBUaGF0IGlzIGJldHRlciB0ZXN0ZWQgdmlhIEUyRSB0ZXN0cy5cbiAgICAgIGhhc0NsaWVudEFjdGlvbjogZmFsc2UsXG4gICAgICBoYXNDbGllbnRMb2FkZXI6IGZhbHNlLFxuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsLFxuICAgICAgLy8gYW55IG5lZWQgZm9yIHRoZXNlP1xuICAgICAgbW9kdWxlOiBcImJ1aWxkL3N0dWItcGF0aC10by1tb2R1bGUuanNcIixcbiAgICAgIGNsaWVudEFjdGlvbk1vZHVsZTogdm9pZCAwLFxuICAgICAgY2xpZW50TG9hZGVyTW9kdWxlOiB2b2lkIDAsXG4gICAgICBoeWRyYXRlRmFsbGJhY2tNb2R1bGU6IHZvaWQgMFxuICAgIH07XG4gICAgbWFuaWZlc3Qucm91dGVzW25ld1JvdXRlLmlkXSA9IGVudHJ5Um91dGU7XG4gICAgcm91dGVNb2R1bGVzW3JvdXRlLmlkXSA9IHtcbiAgICAgIGRlZmF1bHQ6IHJvdXRlLkNvbXBvbmVudCB8fCBPdXRsZXQsXG4gICAgICBFcnJvckJvdW5kYXJ5OiByb3V0ZS5FcnJvckJvdW5kYXJ5IHx8IHZvaWQgMCxcbiAgICAgIGhhbmRsZTogcm91dGUuaGFuZGxlLFxuICAgICAgbGlua3M6IHJvdXRlLmxpbmtzLFxuICAgICAgbWV0YTogcm91dGUubWV0YSxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IHJvdXRlLnNob3VsZFJldmFsaWRhdGVcbiAgICB9O1xuICAgIGlmIChyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgbmV3Um91dGUuY2hpbGRyZW4gPSBwcm9jZXNzUm91dGVzKFxuICAgICAgICByb3V0ZS5jaGlsZHJlbixcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgbmV3Um91dGUuaWRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBuZXdSb3V0ZTtcbiAgfSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9jb29raWVzLnRzXG5pbXBvcnQgeyBwYXJzZSwgc2VyaWFsaXplIH0gZnJvbSBcImNvb2tpZVwiO1xuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvY3J5cHRvLnRzXG52YXIgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xudmFyIHNpZ24gPSBhc3luYyAodmFsdWUsIHNlY3JldCkgPT4ge1xuICBsZXQgZGF0YTIgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gIGxldCBrZXkgPSBhd2FpdCBjcmVhdGVLZXkyKHNlY3JldCwgW1wic2lnblwiXSk7XG4gIGxldCBzaWduYXR1cmUgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnNpZ24oXCJITUFDXCIsIGtleSwgZGF0YTIpO1xuICBsZXQgaGFzaCA9IGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShzaWduYXR1cmUpKSkucmVwbGFjZShcbiAgICAvPSskLyxcbiAgICBcIlwiXG4gICk7XG4gIHJldHVybiB2YWx1ZSArIFwiLlwiICsgaGFzaDtcbn07XG52YXIgdW5zaWduID0gYXN5bmMgKGNvb2tpZSwgc2VjcmV0KSA9PiB7XG4gIGxldCBpbmRleCA9IGNvb2tpZS5sYXN0SW5kZXhPZihcIi5cIik7XG4gIGxldCB2YWx1ZSA9IGNvb2tpZS5zbGljZSgwLCBpbmRleCk7XG4gIGxldCBoYXNoID0gY29va2llLnNsaWNlKGluZGV4ICsgMSk7XG4gIGxldCBkYXRhMiA9IGVuY29kZXIuZW5jb2RlKHZhbHVlKTtcbiAgbGV0IGtleSA9IGF3YWl0IGNyZWF0ZUtleTIoc2VjcmV0LCBbXCJ2ZXJpZnlcIl0pO1xuICBsZXQgc2lnbmF0dXJlID0gYnl0ZVN0cmluZ1RvVWludDhBcnJheShhdG9iKGhhc2gpKTtcbiAgbGV0IHZhbGlkID0gYXdhaXQgY3J5cHRvLnN1YnRsZS52ZXJpZnkoXCJITUFDXCIsIGtleSwgc2lnbmF0dXJlLCBkYXRhMik7XG4gIHJldHVybiB2YWxpZCA/IHZhbHVlIDogZmFsc2U7XG59O1xudmFyIGNyZWF0ZUtleTIgPSBhc3luYyAoc2VjcmV0LCB1c2FnZXMpID0+IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFxuICBcInJhd1wiLFxuICBlbmNvZGVyLmVuY29kZShzZWNyZXQpLFxuICB7IG5hbWU6IFwiSE1BQ1wiLCBoYXNoOiBcIlNIQS0yNTZcIiB9LFxuICBmYWxzZSxcbiAgdXNhZ2VzXG4pO1xuZnVuY3Rpb24gYnl0ZVN0cmluZ1RvVWludDhBcnJheShieXRlU3RyaW5nKSB7XG4gIGxldCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVTdHJpbmcubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlU3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJyYXlbaV0gPSBieXRlU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvY29va2llcy50c1xudmFyIGNyZWF0ZUNvb2tpZSA9IChuYW1lLCBjb29raWVPcHRpb25zID0ge30pID0+IHtcbiAgbGV0IHsgc2VjcmV0cyA9IFtdLCAuLi5vcHRpb25zIH0gPSB7XG4gICAgcGF0aDogXCIvXCIsXG4gICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgLi4uY29va2llT3B0aW9uc1xuICB9O1xuICB3YXJuT25jZUFib3V0RXhwaXJlc0Nvb2tpZShuYW1lLCBvcHRpb25zLmV4cGlyZXMpO1xuICByZXR1cm4ge1xuICAgIGdldCBuYW1lKCkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfSxcbiAgICBnZXQgaXNTaWduZWQoKSB7XG4gICAgICByZXR1cm4gc2VjcmV0cy5sZW5ndGggPiAwO1xuICAgIH0sXG4gICAgZ2V0IGV4cGlyZXMoKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9wdGlvbnMubWF4QWdlICE9PSBcInVuZGVmaW5lZFwiID8gbmV3IERhdGUoRGF0ZS5ub3coKSArIG9wdGlvbnMubWF4QWdlICogMWUzKSA6IG9wdGlvbnMuZXhwaXJlcztcbiAgICB9LFxuICAgIGFzeW5jIHBhcnNlKGNvb2tpZUhlYWRlciwgcGFyc2VPcHRpb25zKSB7XG4gICAgICBpZiAoIWNvb2tpZUhlYWRlcikgcmV0dXJuIG51bGw7XG4gICAgICBsZXQgY29va2llcyA9IHBhcnNlKGNvb2tpZUhlYWRlciwgeyAuLi5vcHRpb25zLCAuLi5wYXJzZU9wdGlvbnMgfSk7XG4gICAgICBpZiAobmFtZSBpbiBjb29raWVzKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IGNvb2tpZXNbbmFtZV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICBsZXQgZGVjb2RlZCA9IGF3YWl0IGRlY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKTtcbiAgICAgICAgICByZXR1cm4gZGVjb2RlZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSxcbiAgICBhc3luYyBzZXJpYWxpemUodmFsdWUsIHNlcmlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzZXJpYWxpemUoXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHZhbHVlID09PSBcIlwiID8gXCJcIiA6IGF3YWl0IGVuY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKSxcbiAgICAgICAge1xuICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgLi4uc2VyaWFsaXplT3B0aW9uc1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgfTtcbn07XG52YXIgaXNDb29raWUgPSAob2JqZWN0KSA9PiB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0Lm5hbWUgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5pc1NpZ25lZCA9PT0gXCJib29sZWFuXCIgJiYgdHlwZW9mIG9iamVjdC5wYXJzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3Quc2VyaWFsaXplID09PSBcImZ1bmN0aW9uXCI7XG59O1xuYXN5bmMgZnVuY3Rpb24gZW5jb2RlQ29va2llVmFsdWUodmFsdWUsIHNlY3JldHMpIHtcbiAgbGV0IGVuY29kZWQgPSBlbmNvZGVEYXRhKHZhbHVlKTtcbiAgaWYgKHNlY3JldHMubGVuZ3RoID4gMCkge1xuICAgIGVuY29kZWQgPSBhd2FpdCBzaWduKGVuY29kZWQsIHNlY3JldHNbMF0pO1xuICB9XG4gIHJldHVybiBlbmNvZGVkO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVjb2RlQ29va2llVmFsdWUodmFsdWUsIHNlY3JldHMpIHtcbiAgaWYgKHNlY3JldHMubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IHNlY3JldCBvZiBzZWNyZXRzKSB7XG4gICAgICBsZXQgdW5zaWduZWRWYWx1ZSA9IGF3YWl0IHVuc2lnbih2YWx1ZSwgc2VjcmV0KTtcbiAgICAgIGlmICh1bnNpZ25lZFZhbHVlICE9PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlRGF0YSh1bnNpZ25lZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGRlY29kZURhdGEodmFsdWUpO1xufVxuZnVuY3Rpb24gZW5jb2RlRGF0YSh2YWx1ZSkge1xuICByZXR1cm4gYnRvYShteVVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpKSk7XG59XG5mdW5jdGlvbiBkZWNvZGVEYXRhKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KG15RXNjYXBlKGF0b2IodmFsdWUpKSkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7fTtcbiAgfVxufVxuZnVuY3Rpb24gbXlFc2NhcGUodmFsdWUpIHtcbiAgbGV0IHN0ciA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBsZXQgaW5kZXggPSAwO1xuICBsZXQgY2hyLCBjb2RlO1xuICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgY2hyID0gc3RyLmNoYXJBdChpbmRleCsrKTtcbiAgICBpZiAoL1tcXHcqK1xcLS4vQF0vLmV4ZWMoY2hyKSkge1xuICAgICAgcmVzdWx0ICs9IGNocjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29kZSA9IGNoci5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGNvZGUgPCAyNTYpIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJVwiICsgaGV4KGNvZGUsIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ICs9IFwiJXVcIiArIGhleChjb2RlLCA0KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaGV4KGNvZGUsIGxlbmd0aCkge1xuICBsZXQgcmVzdWx0ID0gY29kZS50b1N0cmluZygxNik7XG4gIHdoaWxlIChyZXN1bHQubGVuZ3RoIDwgbGVuZ3RoKSByZXN1bHQgPSBcIjBcIiArIHJlc3VsdDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG15VW5lc2NhcGUodmFsdWUpIHtcbiAgbGV0IHN0ciA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBsZXQgaW5kZXggPSAwO1xuICBsZXQgY2hyLCBwYXJ0O1xuICB3aGlsZSAoaW5kZXggPCBzdHIubGVuZ3RoKSB7XG4gICAgY2hyID0gc3RyLmNoYXJBdChpbmRleCsrKTtcbiAgICBpZiAoY2hyID09PSBcIiVcIikge1xuICAgICAgaWYgKHN0ci5jaGFyQXQoaW5kZXgpID09PSBcInVcIikge1xuICAgICAgICBwYXJ0ID0gc3RyLnNsaWNlKGluZGV4ICsgMSwgaW5kZXggKyA1KTtcbiAgICAgICAgaWYgKC9eW1xcZGEtZl17NH0kL2kuZXhlYyhwYXJ0KSkge1xuICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHBhcnQsIDE2KSk7XG4gICAgICAgICAgaW5kZXggKz0gNTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydCA9IHN0ci5zbGljZShpbmRleCwgaW5kZXggKyAyKTtcbiAgICAgICAgaWYgKC9eW1xcZGEtZl17Mn0kL2kuZXhlYyhwYXJ0KSkge1xuICAgICAgICAgIHJlc3VsdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KHBhcnQsIDE2KSk7XG4gICAgICAgICAgaW5kZXggKz0gMjtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQgKz0gY2hyO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiB3YXJuT25jZUFib3V0RXhwaXJlc0Nvb2tpZShuYW1lLCBleHBpcmVzKSB7XG4gIHdhcm5PbmNlKFxuICAgICFleHBpcmVzLFxuICAgIGBUaGUgXCIke25hbWV9XCIgY29va2llIGhhcyBhbiBcImV4cGlyZXNcIiBwcm9wZXJ0eSBzZXQuIFRoaXMgd2lsbCBjYXVzZSB0aGUgZXhwaXJlcyB2YWx1ZSB0byBub3QgYmUgdXBkYXRlZCB3aGVuIHRoZSBzZXNzaW9uIGlzIGNvbW1pdHRlZC4gSW5zdGVhZCwgeW91IHNob3VsZCBzZXQgdGhlIGV4cGlyZXMgdmFsdWUgd2hlbiBzZXJpYWxpemluZyB0aGUgY29va2llLiBZb3UgY2FuIHVzZSBcXGBjb21taXRTZXNzaW9uKHNlc3Npb24sIHsgZXhwaXJlcyB9KVxcYCBpZiB1c2luZyBhIHNlc3Npb24gc3RvcmFnZSBvYmplY3QsIG9yIFxcYGNvb2tpZS5zZXJpYWxpemUoXCJ2YWx1ZVwiLCB7IGV4cGlyZXMgfSlcXGAgaWYgeW91J3JlIHVzaW5nIHRoZSBjb29raWUgZGlyZWN0bHkuYFxuICApO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZW50cnkudHNcbmZ1bmN0aW9uIGNyZWF0ZUVudHJ5Um91dGVNb2R1bGVzKG1hbmlmZXN0KSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhtYW5pZmVzdCkucmVkdWNlKChtZW1vMiwgcm91dGVJZCkgPT4ge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W3JvdXRlSWRdO1xuICAgIGlmIChyb3V0ZSkge1xuICAgICAgbWVtbzJbcm91dGVJZF0gPSByb3V0ZS5tb2R1bGU7XG4gICAgfVxuICAgIHJldHVybiBtZW1vMjtcbiAgfSwge30pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvbW9kZS50c1xudmFyIFNlcnZlck1vZGUgPSAvKiBAX19QVVJFX18gKi8gKChTZXJ2ZXJNb2RlMikgPT4ge1xuICBTZXJ2ZXJNb2RlMltcIkRldmVsb3BtZW50XCJdID0gXCJkZXZlbG9wbWVudFwiO1xuICBTZXJ2ZXJNb2RlMltcIlByb2R1Y3Rpb25cIl0gPSBcInByb2R1Y3Rpb25cIjtcbiAgU2VydmVyTW9kZTJbXCJUZXN0XCJdID0gXCJ0ZXN0XCI7XG4gIHJldHVybiBTZXJ2ZXJNb2RlMjtcbn0pKFNlcnZlck1vZGUgfHwge30pO1xuZnVuY3Rpb24gaXNTZXJ2ZXJNb2RlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gXCJkZXZlbG9wbWVudFwiIC8qIERldmVsb3BtZW50ICovIHx8IHZhbHVlID09PSBcInByb2R1Y3Rpb25cIiAvKiBQcm9kdWN0aW9uICovIHx8IHZhbHVlID09PSBcInRlc3RcIiAvKiBUZXN0ICovO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZXJyb3JzLnRzXG5mdW5jdGlvbiBzYW5pdGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKSB7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIHNlcnZlck1vZGUgIT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLykge1xuICAgIGxldCBzYW5pdGl6ZWQgPSBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiKTtcbiAgICBzYW5pdGl6ZWQuc3RhY2sgPSB2b2lkIDA7XG4gICAgcmV0dXJuIHNhbml0aXplZDtcbiAgfVxuICByZXR1cm4gZXJyb3I7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUVycm9ycyhlcnJvcnMsIHNlcnZlck1vZGUpIHtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKGVycm9ycykucmVkdWNlKChhY2MsIFtyb3V0ZUlkLCBlcnJvcl0pID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW3JvdXRlSWRdOiBzYW5pdGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKSB9KTtcbiAgfSwge30pO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3IoZXJyb3IsIHNlcnZlck1vZGUpIHtcbiAgbGV0IHNhbml0aXplZCA9IHNhbml0aXplRXJyb3IoZXJyb3IsIHNlcnZlck1vZGUpO1xuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6IHNhbml0aXplZC5tZXNzYWdlLFxuICAgIHN0YWNrOiBzYW5pdGl6ZWQuc3RhY2tcbiAgfTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9yczIoZXJyb3JzLCBzZXJ2ZXJNb2RlKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UodmFsKSkge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0geyAuLi52YWwsIF9fdHlwZTogXCJSb3V0ZUVycm9yUmVzcG9uc2VcIiB9O1xuICAgIH0gZWxzZSBpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGxldCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUVycm9yKHZhbCwgc2VydmVyTW9kZSk7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7XG4gICAgICAgIG1lc3NhZ2U6IHNhbml0aXplZC5tZXNzYWdlLFxuICAgICAgICBzdGFjazogc2FuaXRpemVkLnN0YWNrLFxuICAgICAgICBfX3R5cGU6IFwiRXJyb3JcIixcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHN1YmNsYXNzIChpLmUuLCBSZWZlcmVuY2VFcnJvciksIHNlbmQgdXAgdGhlIHR5cGUgc28gd2VcbiAgICAgICAgLy8gY2FuIHJlLWNyZWF0ZSB0aGUgc2FtZSB0eXBlIGR1cmluZyBoeWRyYXRpb24uICBUaGlzIHdpbGwgb25seSBhcHBseVxuICAgICAgICAvLyBpbiBkZXYgbW9kZSBzaW5jZSBhbGwgcHJvZHVjdGlvbiBlcnJvcnMgYXJlIHNhbml0aXplZCB0byBub3JtYWxcbiAgICAgICAgLy8gRXJyb3IgaW5zdGFuY2VzXG4gICAgICAgIC4uLnNhbml0aXplZC5uYW1lICE9PSBcIkVycm9yXCIgPyB7XG4gICAgICAgICAgX19zdWJUeXBlOiBzYW5pdGl6ZWQubmFtZVxuICAgICAgICB9IDoge31cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9yb3V0ZU1hdGNoaW5nLnRzXG5mdW5jdGlvbiBtYXRjaFNlcnZlclJvdXRlcyhyb3V0ZXMsIHBhdGhuYW1lLCBiYXNlbmFtZSkge1xuICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBwYXRobmFtZSxcbiAgICBiYXNlbmFtZVxuICApO1xuICBpZiAoIW1hdGNoZXMpIHJldHVybiBudWxsO1xuICByZXR1cm4gbWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiAoe1xuICAgIHBhcmFtczogbWF0Y2gucGFyYW1zLFxuICAgIHBhdGhuYW1lOiBtYXRjaC5wYXRobmFtZSxcbiAgICByb3V0ZTogbWF0Y2gucm91dGVcbiAgfSkpO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZGF0YS50c1xuYXN5bmMgZnVuY3Rpb24gY2FsbFJvdXRlSGFuZGxlcihoYW5kbGVyLCBhcmdzKSB7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKHtcbiAgICByZXF1ZXN0OiBzdHJpcFJvdXRlc1BhcmFtKHN0cmlwSW5kZXhQYXJhbTIoYXJncy5yZXF1ZXN0KSksXG4gICAgcGFyYW1zOiBhcmdzLnBhcmFtcyxcbiAgICBjb250ZXh0OiBhcmdzLmNvbnRleHRcbiAgfSk7XG4gIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkgJiYgcmVzdWx0LmluaXQgJiYgcmVzdWx0LmluaXQuc3RhdHVzICYmIGlzUmVkaXJlY3RTdGF0dXNDb2RlKHJlc3VsdC5pbml0LnN0YXR1cykpIHtcbiAgICB0aHJvdyBuZXcgUmVzcG9uc2UobnVsbCwgcmVzdWx0LmluaXQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBzdHJpcEluZGV4UGFyYW0yKHJlcXVlc3QpIHtcbiAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICBsZXQgaW5kZXhWYWx1ZXMgPSB1cmwuc2VhcmNoUGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICBsZXQgaW5kZXhWYWx1ZXNUb0tlZXAgPSBbXTtcbiAgZm9yIChsZXQgaW5kZXhWYWx1ZSBvZiBpbmRleFZhbHVlcykge1xuICAgIGlmIChpbmRleFZhbHVlKSB7XG4gICAgICBpbmRleFZhbHVlc1RvS2VlcC5wdXNoKGluZGV4VmFsdWUpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCB0b0tlZXAgb2YgaW5kZXhWYWx1ZXNUb0tlZXApIHtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHRvS2VlcCk7XG4gIH1cbiAgbGV0IGluaXQgPSB7XG4gICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgfTtcbiAgaWYgKGluaXQuYm9keSkge1xuICAgIGluaXQuZHVwbGV4ID0gXCJoYWxmXCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybC5ocmVmLCBpbml0KTtcbn1cbmZ1bmN0aW9uIHN0cmlwUm91dGVzUGFyYW0ocmVxdWVzdCkge1xuICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiX3JvdXRlc1wiKTtcbiAgbGV0IGluaXQgPSB7XG4gICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgfTtcbiAgaWYgKGluaXQuYm9keSkge1xuICAgIGluaXQuZHVwbGV4ID0gXCJoYWxmXCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybC5ocmVmLCBpbml0KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2ludmFyaWFudC50c1xuZnVuY3Rpb24gaW52YXJpYW50Myh2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlRoZSBmb2xsb3dpbmcgZXJyb3IgaXMgYSBidWcgaW4gUmVhY3QgUm91dGVyOyBwbGVhc2Ugb3BlbiBhbiBpc3N1ZSEgaHR0cHM6Ly9naXRodWIuY29tL3JlbWl4LXJ1bi9yZWFjdC1yb3V0ZXIvaXNzdWVzL25ldy9jaG9vc2VcIlxuICAgICk7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9yb3V0ZXMudHNcbmZ1bmN0aW9uIGdyb3VwUm91dGVzQnlQYXJlbnRJZDIobWFuaWZlc3QpIHtcbiAgbGV0IHJvdXRlcyA9IHt9O1xuICBPYmplY3QudmFsdWVzKG1hbmlmZXN0KS5mb3JFYWNoKChyb3V0ZSkgPT4ge1xuICAgIGlmIChyb3V0ZSkge1xuICAgICAgbGV0IHBhcmVudElkID0gcm91dGUucGFyZW50SWQgfHwgXCJcIjtcbiAgICAgIGlmICghcm91dGVzW3BhcmVudElkXSkge1xuICAgICAgICByb3V0ZXNbcGFyZW50SWRdID0gW107XG4gICAgICB9XG4gICAgICByb3V0ZXNbcGFyZW50SWRdLnB1c2gocm91dGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByb3V0ZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXMobWFuaWZlc3QsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZDIobWFuaWZlc3QpKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+ICh7XG4gICAgLi4ucm91dGUsXG4gICAgY2hpbGRyZW46IGNyZWF0ZVJvdXRlcyhtYW5pZmVzdCwgcm91dGUuaWQsIHJvdXRlc0J5UGFyZW50SWQpXG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXJEYXRhUm91dGVzKG1hbmlmZXN0LCBmdXR1cmUsIHBhcmVudElkID0gXCJcIiwgcm91dGVzQnlQYXJlbnRJZCA9IGdyb3VwUm91dGVzQnlQYXJlbnRJZDIobWFuaWZlc3QpKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+IHtcbiAgICBsZXQgY29tbW9uUm91dGUgPSB7XG4gICAgICAvLyBBbHdheXMgaW5jbHVkZSByb290IGR1ZSB0byBkZWZhdWx0IGJvdW5kYXJpZXNcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLmlkID09PSBcInJvb3RcIiB8fCByb3V0ZS5tb2R1bGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsLFxuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IHJvdXRlLm1vZHVsZS51bnN0YWJsZV9taWRkbGV3YXJlLFxuICAgICAgLy8gTmVlZCB0byB1c2UgUlIncyB2ZXJzaW9uIGluIHRoZSBwYXJhbSB0eXBlZCBoZXJlIHRvIHBlcm1pdCB0aGUgb3B0aW9uYWxcbiAgICAgIC8vIGNvbnRleHQgZXZlbiB0aG91Z2ggd2Uga25vdyBpdCdsbCBhbHdheXMgYmUgcHJvdmlkZWQgaW4gcmVtaXhcbiAgICAgIGxvYWRlcjogcm91dGUubW9kdWxlLmxvYWRlciA/IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzLnJlcXVlc3QuaGVhZGVycy5oYXMoXCJYLVJlYWN0LVJvdXRlci1QcmVyZW5kZXItRGF0YVwiKSkge1xuICAgICAgICAgIGNvbnN0IHByZVJlbmRlcmVkRGF0YSA9IGFyZ3MucmVxdWVzdC5oZWFkZXJzLmdldChcbiAgICAgICAgICAgIFwiWC1SZWFjdC1Sb3V0ZXItUHJlcmVuZGVyLURhdGFcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IGVuY29kZWQgPSBwcmVSZW5kZXJlZERhdGEgPyBkZWNvZGVVUkkocHJlUmVuZGVyZWREYXRhKSA6IHByZVJlbmRlcmVkRGF0YTtcbiAgICAgICAgICBpbnZhcmlhbnQzKGVuY29kZWQsIFwiTWlzc2luZyBwcmVyZW5kZXJlZCBkYXRhIGZvciByb3V0ZVwiKTtcbiAgICAgICAgICBsZXQgdWludDhhcnJheSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShlbmNvZGVkKTtcbiAgICAgICAgICBsZXQgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHVpbnQ4YXJyYXkpO1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGV0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVWaWFUdXJib1N0cmVhbShzdHJlYW0sIGdsb2JhbCk7XG4gICAgICAgICAgbGV0IGRhdGEyID0gZGVjb2RlZC52YWx1ZTtcbiAgICAgICAgICBpbnZhcmlhbnQzKFxuICAgICAgICAgICAgZGF0YTIgJiYgcm91dGUuaWQgaW4gZGF0YTIsXG4gICAgICAgICAgICBcIlVuYWJsZSB0byBkZWNvZGUgcHJlcmVuZGVyZWQgZGF0YVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gZGF0YTJbcm91dGUuaWRdO1xuICAgICAgICAgIGludmFyaWFudDMoXCJkYXRhXCIgaW4gcmVzdWx0LCBcIlVuYWJsZSB0byBwcm9jZXNzIHByZXJlbmRlcmVkIGRhdGFcIik7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2YWwgPSBhd2FpdCBjYWxsUm91dGVIYW5kbGVyKHJvdXRlLm1vZHVsZS5sb2FkZXIsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfSA6IHZvaWQgMCxcbiAgICAgIGFjdGlvbjogcm91dGUubW9kdWxlLmFjdGlvbiA/IChhcmdzKSA9PiBjYWxsUm91dGVIYW5kbGVyKHJvdXRlLm1vZHVsZS5hY3Rpb24sIGFyZ3MpIDogdm9pZCAwLFxuICAgICAgaGFuZGxlOiByb3V0ZS5tb2R1bGUuaGFuZGxlXG4gICAgfTtcbiAgICByZXR1cm4gcm91dGUuaW5kZXggPyB7XG4gICAgICBpbmRleDogdHJ1ZSxcbiAgICAgIC4uLmNvbW1vblJvdXRlXG4gICAgfSA6IHtcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUsXG4gICAgICBjaGlsZHJlbjogY3JlYXRlU3RhdGljSGFuZGxlckRhdGFSb3V0ZXMoXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICBmdXR1cmUsXG4gICAgICAgIHJvdXRlLmlkLFxuICAgICAgICByb3V0ZXNCeVBhcmVudElkXG4gICAgICApLFxuICAgICAgLi4uY29tbW9uUm91dGVcbiAgICB9O1xuICB9KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL21hcmt1cC50c1xudmFyIEVTQ0FQRV9MT09LVVAzID0ge1xuICBcIiZcIjogXCJcXFxcdTAwMjZcIixcbiAgXCI+XCI6IFwiXFxcXHUwMDNlXCIsXG4gIFwiPFwiOiBcIlxcXFx1MDAzY1wiLFxuICBcIlxcdTIwMjhcIjogXCJcXFxcdTIwMjhcIixcbiAgXCJcXHUyMDI5XCI6IFwiXFxcXHUyMDI5XCJcbn07XG52YXIgRVNDQVBFX1JFR0VYMyA9IC9bJj48XFx1MjAyOFxcdTIwMjldL2c7XG5mdW5jdGlvbiBlc2NhcGVIdG1sMihodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoRVNDQVBFX1JFR0VYMywgKG1hdGNoKSA9PiBFU0NBUEVfTE9PS1VQM1ttYXRjaF0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2VydmVySGFuZG9mZi50c1xuZnVuY3Rpb24gY3JlYXRlU2VydmVySGFuZG9mZlN0cmluZyhzZXJ2ZXJIYW5kb2ZmKSB7XG4gIHJldHVybiBlc2NhcGVIdG1sMihKU09OLnN0cmluZ2lmeShzZXJ2ZXJIYW5kb2ZmKSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9kZXYudHNcbnZhciBnbG9iYWxEZXZTZXJ2ZXJIb29rc0tleSA9IFwiX19yZWFjdFJvdXRlckRldlNlcnZlckhvb2tzXCI7XG5mdW5jdGlvbiBzZXREZXZTZXJ2ZXJIb29rcyhkZXZTZXJ2ZXJIb29rcykge1xuICBnbG9iYWxUaGlzW2dsb2JhbERldlNlcnZlckhvb2tzS2V5XSA9IGRldlNlcnZlckhvb2tzO1xufVxuZnVuY3Rpb24gZ2V0RGV2U2VydmVySG9va3MoKSB7XG4gIHJldHVybiBnbG9iYWxUaGlzW2dsb2JhbERldlNlcnZlckhvb2tzS2V5XTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NpbmdsZS1mZXRjaC50c1xuaW1wb3J0IHsgZW5jb2RlIH0gZnJvbSBcInR1cmJvLXN0cmVhbVwiO1xuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvaGVhZGVycy50c1xuaW1wb3J0IHsgc3BsaXRDb29raWVzU3RyaW5nIH0gZnJvbSBcInNldC1jb29raWUtcGFyc2VyXCI7XG5mdW5jdGlvbiBnZXREb2N1bWVudEhlYWRlcnMoYnVpbGQsIGNvbnRleHQpIHtcbiAgbGV0IGJvdW5kYXJ5SWR4ID0gY29udGV4dC5lcnJvcnMgPyBjb250ZXh0Lm1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBjb250ZXh0LmVycm9yc1ttLnJvdXRlLmlkXSkgOiAtMTtcbiAgbGV0IG1hdGNoZXMgPSBib3VuZGFyeUlkeCA+PSAwID8gY29udGV4dC5tYXRjaGVzLnNsaWNlKDAsIGJvdW5kYXJ5SWR4ICsgMSkgOiBjb250ZXh0Lm1hdGNoZXM7XG4gIGxldCBlcnJvckhlYWRlcnM7XG4gIGlmIChib3VuZGFyeUlkeCA+PSAwKSB7XG4gICAgbGV0IHsgYWN0aW9uSGVhZGVycywgYWN0aW9uRGF0YSwgbG9hZGVySGVhZGVycywgbG9hZGVyRGF0YSB9ID0gY29udGV4dDtcbiAgICBjb250ZXh0Lm1hdGNoZXMuc2xpY2UoYm91bmRhcnlJZHgpLnNvbWUoKG1hdGNoKSA9PiB7XG4gICAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICAgIGlmIChhY3Rpb25IZWFkZXJzW2lkXSAmJiAoIWFjdGlvbkRhdGEgfHwgIWFjdGlvbkRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSkge1xuICAgICAgICBlcnJvckhlYWRlcnMgPSBhY3Rpb25IZWFkZXJzW2lkXTtcbiAgICAgIH0gZWxzZSBpZiAobG9hZGVySGVhZGVyc1tpZF0gJiYgIWxvYWRlckRhdGEuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgIGVycm9ySGVhZGVycyA9IGxvYWRlckhlYWRlcnNbaWRdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVycm9ySGVhZGVycyAhPSBudWxsO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBtYXRjaGVzLnJlZHVjZSgocGFyZW50SGVhZGVycywgbWF0Y2gsIGlkeCkgPT4ge1xuICAgIGxldCB7IGlkIH0gPSBtYXRjaC5yb3V0ZTtcbiAgICBsZXQgcm91dGUgPSBidWlsZC5yb3V0ZXNbaWRdO1xuICAgIGludmFyaWFudDMocm91dGUsIGBSb3V0ZSB3aXRoIGlkIFwiJHtpZH1cIiBub3QgZm91bmQgaW4gYnVpbGRgKTtcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZS5tb2R1bGU7XG4gICAgbGV0IGxvYWRlckhlYWRlcnMgPSBjb250ZXh0LmxvYWRlckhlYWRlcnNbaWRdIHx8IG5ldyBIZWFkZXJzKCk7XG4gICAgbGV0IGFjdGlvbkhlYWRlcnMgPSBjb250ZXh0LmFjdGlvbkhlYWRlcnNbaWRdIHx8IG5ldyBIZWFkZXJzKCk7XG4gICAgbGV0IGluY2x1ZGVFcnJvckhlYWRlcnMgPSBlcnJvckhlYWRlcnMgIT0gbnVsbCAmJiBpZHggPT09IG1hdGNoZXMubGVuZ3RoIC0gMTtcbiAgICBsZXQgaW5jbHVkZUVycm9yQ29va2llcyA9IGluY2x1ZGVFcnJvckhlYWRlcnMgJiYgZXJyb3JIZWFkZXJzICE9PSBsb2FkZXJIZWFkZXJzICYmIGVycm9ySGVhZGVycyAhPT0gYWN0aW9uSGVhZGVycztcbiAgICBpZiAocm91dGVNb2R1bGUuaGVhZGVycyA9PSBudWxsKSB7XG4gICAgICBsZXQgaGVhZGVyczIgPSBuZXcgSGVhZGVycyhwYXJlbnRIZWFkZXJzKTtcbiAgICAgIGlmIChpbmNsdWRlRXJyb3JDb29raWVzKSB7XG4gICAgICAgIHByZXBlbmRDb29raWVzKGVycm9ySGVhZGVycywgaGVhZGVyczIpO1xuICAgICAgfVxuICAgICAgcHJlcGVuZENvb2tpZXMoYWN0aW9uSGVhZGVycywgaGVhZGVyczIpO1xuICAgICAgcHJlcGVuZENvb2tpZXMobG9hZGVySGVhZGVycywgaGVhZGVyczIpO1xuICAgICAgcmV0dXJuIGhlYWRlcnMyO1xuICAgIH1cbiAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKFxuICAgICAgcm91dGVNb2R1bGUuaGVhZGVycyA/IHR5cGVvZiByb3V0ZU1vZHVsZS5oZWFkZXJzID09PSBcImZ1bmN0aW9uXCIgPyByb3V0ZU1vZHVsZS5oZWFkZXJzKHtcbiAgICAgICAgbG9hZGVySGVhZGVycyxcbiAgICAgICAgcGFyZW50SGVhZGVycyxcbiAgICAgICAgYWN0aW9uSGVhZGVycyxcbiAgICAgICAgZXJyb3JIZWFkZXJzOiBpbmNsdWRlRXJyb3JIZWFkZXJzID8gZXJyb3JIZWFkZXJzIDogdm9pZCAwXG4gICAgICB9KSA6IHJvdXRlTW9kdWxlLmhlYWRlcnMgOiB2b2lkIDBcbiAgICApO1xuICAgIGlmIChpbmNsdWRlRXJyb3JDb29raWVzKSB7XG4gICAgICBwcmVwZW5kQ29va2llcyhlcnJvckhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIH1cbiAgICBwcmVwZW5kQ29va2llcyhhY3Rpb25IZWFkZXJzLCBoZWFkZXJzKTtcbiAgICBwcmVwZW5kQ29va2llcyhsb2FkZXJIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICBwcmVwZW5kQ29va2llcyhwYXJlbnRIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICByZXR1cm4gaGVhZGVycztcbiAgfSwgbmV3IEhlYWRlcnMoKSk7XG59XG5mdW5jdGlvbiBwcmVwZW5kQ29va2llcyhwYXJlbnRIZWFkZXJzLCBjaGlsZEhlYWRlcnMpIHtcbiAgbGV0IHBhcmVudFNldENvb2tpZVN0cmluZyA9IHBhcmVudEhlYWRlcnMuZ2V0KFwiU2V0LUNvb2tpZVwiKTtcbiAgaWYgKHBhcmVudFNldENvb2tpZVN0cmluZykge1xuICAgIGxldCBjb29raWVzID0gc3BsaXRDb29raWVzU3RyaW5nKHBhcmVudFNldENvb2tpZVN0cmluZyk7XG4gICAgbGV0IGNoaWxkQ29va2llcyA9IG5ldyBTZXQoY2hpbGRIZWFkZXJzLmdldFNldENvb2tpZSgpKTtcbiAgICBjb29raWVzLmZvckVhY2goKGNvb2tpZSkgPT4ge1xuICAgICAgaWYgKCFjaGlsZENvb2tpZXMuaGFzKGNvb2tpZSkpIHtcbiAgICAgICAgY2hpbGRIZWFkZXJzLmFwcGVuZChcIlNldC1Db29raWVcIiwgY29va2llKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2luZ2xlLWZldGNoLnRzXG52YXIgTk9fQk9EWV9TVEFUVVNfQ09ERVMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMTAwLCAxMDEsIDIwNCwgMjA1LCAzMDRdKTtcbnZhciBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTID0gMjAyO1xuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hBY3Rpb24oYnVpbGQsIHNlcnZlck1vZGUsIHN0YXRpY0hhbmRsZXIsIHJlcXVlc3QsIGhhbmRsZXJVcmwsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvcikge1xuICB0cnkge1xuICAgIGxldCByZXNwb25kMiA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIGxldCBoZWFkZXJzID0gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KTtcbiAgICAgIGlmIChpc1JlZGlyZWN0U3RhdHVzQ29kZShjb250ZXh0LnN0YXR1c0NvZGUpICYmIGhlYWRlcnMuaGFzKFwiTG9jYXRpb25cIikpIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICAgIHJlc3VsdDogZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycykuZm9yRWFjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1JvdXRlRXJyb3JSZXNwb25zZShlcnIpIHx8IGVyci5lcnJvcikge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICAgIGxldCBzaW5nbGVGZXRjaFJlc3VsdDtcbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBzaW5nbGVGZXRjaFJlc3VsdCA9IHsgZXJyb3I6IE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpWzBdIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzaW5nbGVGZXRjaFJlc3VsdCA9IHtcbiAgICAgICAgICBkYXRhOiBPYmplY3QudmFsdWVzKGNvbnRleHQuYWN0aW9uRGF0YSB8fCB7fSlbMF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiBzaW5nbGVGZXRjaFJlc3VsdCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1c0NvZGVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHJlc3BvbmQgPSByZXNwb25kMjtcbiAgICBsZXQgaGFuZGxlclJlcXVlc3QgPSBuZXcgUmVxdWVzdChoYW5kbGVyVXJsLCB7XG4gICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgYm9keTogcmVxdWVzdC5ib2R5LFxuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIC4uLnJlcXVlc3QuYm9keSA/IHsgZHVwbGV4OiBcImhhbGZcIiB9IDogdm9pZCAwXG4gICAgfSk7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHN0YXRpY0hhbmRsZXIucXVlcnkoaGFuZGxlclJlcXVlc3QsIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiB0cnVlLFxuICAgICAgc2tpcFJldmFsaWRhdGlvbjogdHJ1ZSxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmQyXG4gICAgfSk7XG4gICAgaWYgKCFpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3BvbmQyKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICByZXN1bHQuaGVhZGVycyxcbiAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICApLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgcmVzdWx0OiB7IGVycm9yIH0sXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycygpLFxuICAgICAgc3RhdHVzOiA1MDBcbiAgICB9KTtcbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hMb2FkZXJzKGJ1aWxkLCBzZXJ2ZXJNb2RlLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBoYW5kbGVyVXJsLCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uZDIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICBsZXQgaGVhZGVycyA9IGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCk7XG4gICAgICBpZiAoaXNSZWRpcmVjdFN0YXR1c0NvZGUoY29udGV4dC5zdGF0dXNDb2RlKSAmJiBoZWFkZXJzLmhhcyhcIkxvY2F0aW9uXCIpKSB7XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgIFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICAgICAgY29udGV4dC5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycykuZm9yRWFjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1JvdXRlRXJyb3JSZXNwb25zZShlcnIpIHx8IGVyci5lcnJvcikge1xuICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHRzID0ge307XG4gICAgICBsZXQgbG9hZGVkTWF0Y2hlcyA9IG5ldyBTZXQoXG4gICAgICAgIGNvbnRleHQubWF0Y2hlcy5maWx0ZXIoXG4gICAgICAgICAgKG0pID0+IGxvYWRSb3V0ZUlkcyA/IGxvYWRSb3V0ZUlkcy5oYXMobS5yb3V0ZS5pZCkgOiBtLnJvdXRlLmxvYWRlciAhPSBudWxsXG4gICAgICAgICkubWFwKChtKSA9PiBtLnJvdXRlLmlkKVxuICAgICAgKTtcbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBmb3IgKGxldCBbaWQsIGVycm9yXSBvZiBPYmplY3QuZW50cmllcyhjb250ZXh0LmVycm9ycykpIHtcbiAgICAgICAgICByZXN1bHRzW2lkXSA9IHsgZXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChsZXQgW2lkLCBkYXRhMl0gb2YgT2JqZWN0LmVudHJpZXMoY29udGV4dC5sb2FkZXJEYXRhKSkge1xuICAgICAgICBpZiAoIShpZCBpbiByZXN1bHRzKSAmJiBsb2FkZWRNYXRjaGVzLmhhcyhpZCkpIHtcbiAgICAgICAgICByZXN1bHRzW2lkXSA9IHsgZGF0YTogZGF0YTIgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IHJlc3VsdHMsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogY29udGV4dC5zdGF0dXNDb2RlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciByZXNwb25kID0gcmVzcG9uZDI7XG4gICAgbGV0IGhhbmRsZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaGFuZGxlclVybCwge1xuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbFxuICAgIH0pO1xuICAgIGxldCByb3V0ZXNQYXJhbSA9IG5ldyBVUkwocmVxdWVzdC51cmwpLnNlYXJjaFBhcmFtcy5nZXQoXCJfcm91dGVzXCIpO1xuICAgIGxldCBsb2FkUm91dGVJZHMgPSByb3V0ZXNQYXJhbSA/IG5ldyBTZXQocm91dGVzUGFyYW0uc3BsaXQoXCIsXCIpKSA6IG51bGw7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHN0YXRpY0hhbmRsZXIucXVlcnkoaGFuZGxlclJlcXVlc3QsIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQ6IChtKSA9PiAhbG9hZFJvdXRlSWRzIHx8IGxvYWRSb3V0ZUlkcy5oYXMobS5yb3V0ZS5pZCksXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogdHJ1ZSxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmQyXG4gICAgfSk7XG4gICAgaWYgKCFpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJlc3VsdCA9IHJlc3BvbmQyKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgICAgcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgICBidWlsZC5iYXNlbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgfSxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVU1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgIHJlc3VsdDogeyByb290OiB7IGVycm9yIH0gfSxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKCksXG4gICAgICBzdGF0dXM6IDUwMFxuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgcmVzdWx0LFxuICBoZWFkZXJzLFxuICBzdGF0dXNcbn0pIHtcbiAgbGV0IHJlc3VsdEhlYWRlcnMgPSBuZXcgSGVhZGVycyhoZWFkZXJzKTtcbiAgcmVzdWx0SGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlc3BvbnNlXCIsIFwieWVzXCIpO1xuICBpZiAoTk9fQk9EWV9TVEFUVVNfQ09ERVMuaGFzKHN0YXR1cykpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzLCBoZWFkZXJzOiByZXN1bHRIZWFkZXJzIH0pO1xuICB9XG4gIHJlc3VsdEhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwidGV4dC94LXNjcmlwdFwiKTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICBzZXJ2ZXJNb2RlXG4gICAgKSxcbiAgICB7XG4gICAgICBzdGF0dXM6IHN0YXR1cyB8fCAyMDAsXG4gICAgICBoZWFkZXJzOiByZXN1bHRIZWFkZXJzXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChzdGF0dXMsIGhlYWRlcnMsIGJhc2VuYW1lKSB7XG4gIGxldCByZWRpcmVjdDIgPSBoZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICBpZiAoYmFzZW5hbWUpIHtcbiAgICByZWRpcmVjdDIgPSBzdHJpcEJhc2VuYW1lKHJlZGlyZWN0MiwgYmFzZW5hbWUpIHx8IHJlZGlyZWN0MjtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlZGlyZWN0OiByZWRpcmVjdDIsXG4gICAgc3RhdHVzLFxuICAgIHJldmFsaWRhdGU6IChcbiAgICAgIC8vIFRlY2huaWNhbGx5IFgtUmVtaXgtUmV2YWxpZGF0ZSBpc24ndCBuZWVkZWQgaGVyZSAtIHRoYXQgd2FzIGFuIGltcGxlbWVudGF0aW9uXG4gICAgICAvLyBkZXRhaWwgb2YgP19kYXRhIHJlcXVlc3RzIGFzIG91ciB3YXkgdG8gdGVsbCB0aGUgZnJvbnQgZW5kIHRvIHJldmFsaWRhdGUgd2hlblxuICAgICAgLy8gd2UgZGlkbid0IGhhdmUgYSByZXNwb25zZSBib2R5IHRvIGluY2x1ZGUgdGhhdCBpbmZvcm1hdGlvbiBpbi5cbiAgICAgIC8vIFdpdGggc2luZ2xlIGZldGNoLCB3ZSB0ZWxsIHRoZSBmcm9udCBlbmQgdmlhIHRoaXMgcmV2YWxpZGF0ZSBib29sZWFuIGZpZWxkLlxuICAgICAgLy8gSG93ZXZlciwgd2UncmUgcmVzcGVjdGluZyBpdCBmb3Igbm93IGJlY2F1c2UgaXQgbWF5IGJlIHNvbWV0aGluZyBmb2xrcyBoYXZlXG4gICAgICAvLyB1c2VkIGluIHRoZWlyIG93biByZXNwb25zZXNcbiAgICAgIC8vIFRPRE8odjMpOiBDb25zaWRlciByZW1vdmluZyBvciBtYWtpbmcgdGhpcyBvZmZpY2lhbCBwdWJsaWMgQVBJXG4gICAgICBoZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiKSB8fCBoZWFkZXJzLmhhcyhcIlNldC1Db29raWVcIilcbiAgICApLFxuICAgIHJlbG9hZDogaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiKSxcbiAgICByZXBsYWNlOiBoZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVwbGFjZVwiKVxuICB9O1xufVxuZnVuY3Rpb24gZW5jb2RlVmlhVHVyYm9TdHJlYW0oZGF0YTIsIHJlcXVlc3RTaWduYWwsIHN0cmVhbVRpbWVvdXQsIHNlcnZlck1vZGUpIHtcbiAgbGV0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGxldCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KFxuICAgICgpID0+IGNvbnRyb2xsZXIuYWJvcnQobmV3IEVycm9yKFwiU2VydmVyIFRpbWVvdXRcIikpLFxuICAgIHR5cGVvZiBzdHJlYW1UaW1lb3V0ID09PSBcIm51bWJlclwiID8gc3RyZWFtVGltZW91dCA6IDQ5NTBcbiAgKTtcbiAgcmVxdWVzdFNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCkpO1xuICByZXR1cm4gZW5jb2RlKGRhdGEyLCB7XG4gICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICBwbHVnaW5zOiBbXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICBsZXQgeyBuYW1lLCBtZXNzYWdlLCBzdGFjayB9ID0gc2VydmVyTW9kZSA9PT0gXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLyA/IHNhbml0aXplRXJyb3IodmFsdWUsIHNlcnZlck1vZGUpIDogdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIFtcIlNhbml0aXplZEVycm9yXCIsIG5hbWUsIG1lc3NhZ2UsIHN0YWNrXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvclJlc3BvbnNlSW1wbCkge1xuICAgICAgICAgIGxldCB7IGRhdGE6IGRhdGEzLCBzdGF0dXMsIHN0YXR1c1RleHQgfSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBbXCJFcnJvclJlc3BvbnNlXCIsIGRhdGEzLCBzdGF0dXMsIHN0YXR1c1RleHRdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCBpbiB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBbXCJTaW5nbGVGZXRjaFJlZGlyZWN0XCIsIHZhbHVlW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0sXG4gICAgcG9zdFBsdWdpbnM6IFtcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcIlNpbmdsZUZldGNoQ2xhc3NJbnN0YW5jZVwiLFxuICAgICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh2YWx1ZSkpXG4gICAgICAgIF07XG4gICAgICB9LFxuICAgICAgKCkgPT4gW1wiU2luZ2xlRmV0Y2hGYWxsYmFja1wiXVxuICAgIF1cbiAgfSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXJ2ZXIudHNcbmZ1bmN0aW9uIGRlcml2ZShidWlsZCwgbW9kZSkge1xuICBsZXQgcm91dGVzID0gY3JlYXRlUm91dGVzKGJ1aWxkLnJvdXRlcyk7XG4gIGxldCBkYXRhUm91dGVzID0gY3JlYXRlU3RhdGljSGFuZGxlckRhdGFSb3V0ZXMoYnVpbGQucm91dGVzLCBidWlsZC5mdXR1cmUpO1xuICBsZXQgc2VydmVyTW9kZSA9IGlzU2VydmVyTW9kZShtb2RlKSA/IG1vZGUgOiBcInByb2R1Y3Rpb25cIiAvKiBQcm9kdWN0aW9uICovO1xuICBsZXQgc3RhdGljSGFuZGxlciA9IGNyZWF0ZVN0YXRpY0hhbmRsZXIoZGF0YVJvdXRlcywge1xuICAgIGJhc2VuYW1lOiBidWlsZC5iYXNlbmFtZVxuICB9KTtcbiAgbGV0IGVycm9ySGFuZGxlciA9IGJ1aWxkLmVudHJ5Lm1vZHVsZS5oYW5kbGVFcnJvciB8fCAoKGVycm9yLCB7IHJlcXVlc3QgfSkgPT4ge1xuICAgIGlmIChzZXJ2ZXJNb2RlICE9PSBcInRlc3RcIiAvKiBUZXN0ICovICYmICFyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgaXMgXCJwcml2YXRlXCIgZnJvbSB1c2VycyBidXQgaW50ZW5kZWQgZm9yIGludGVybmFsIHVzZVxuICAgICAgICBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgJiYgZXJyb3IuZXJyb3IgPyBlcnJvci5lcnJvciA6IGVycm9yXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcm91dGVzLFxuICAgIGRhdGFSb3V0ZXMsXG4gICAgc2VydmVyTW9kZSxcbiAgICBzdGF0aWNIYW5kbGVyLFxuICAgIGVycm9ySGFuZGxlclxuICB9O1xufVxudmFyIGNyZWF0ZVJlcXVlc3RIYW5kbGVyID0gKGJ1aWxkLCBtb2RlKSA9PiB7XG4gIGxldCBfYnVpbGQ7XG4gIGxldCByb3V0ZXM7XG4gIGxldCBzZXJ2ZXJNb2RlO1xuICBsZXQgc3RhdGljSGFuZGxlcjtcbiAgbGV0IGVycm9ySGFuZGxlcjtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RIYW5kbGVyKHJlcXVlc3QsIGluaXRpYWxDb250ZXh0KSB7XG4gICAgX2J1aWxkID0gdHlwZW9mIGJ1aWxkID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBidWlsZCgpIDogYnVpbGQ7XG4gICAgbGV0IGxvYWRDb250ZXh0ID0gX2J1aWxkLmZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlID8gbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcihcbiAgICAgIGluaXRpYWxDb250ZXh0XG4gICAgKSA6IGluaXRpYWxDb250ZXh0IHx8IHt9O1xuICAgIGlmICh0eXBlb2YgYnVpbGQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgbGV0IGRlcml2ZWQgPSBkZXJpdmUoX2J1aWxkLCBtb2RlKTtcbiAgICAgIHJvdXRlcyA9IGRlcml2ZWQucm91dGVzO1xuICAgICAgc2VydmVyTW9kZSA9IGRlcml2ZWQuc2VydmVyTW9kZTtcbiAgICAgIHN0YXRpY0hhbmRsZXIgPSBkZXJpdmVkLnN0YXRpY0hhbmRsZXI7XG4gICAgICBlcnJvckhhbmRsZXIgPSBkZXJpdmVkLmVycm9ySGFuZGxlcjtcbiAgICB9IGVsc2UgaWYgKCFyb3V0ZXMgfHwgIXNlcnZlck1vZGUgfHwgIXN0YXRpY0hhbmRsZXIgfHwgIWVycm9ySGFuZGxlcikge1xuICAgICAgbGV0IGRlcml2ZWQgPSBkZXJpdmUoX2J1aWxkLCBtb2RlKTtcbiAgICAgIHJvdXRlcyA9IGRlcml2ZWQucm91dGVzO1xuICAgICAgc2VydmVyTW9kZSA9IGRlcml2ZWQuc2VydmVyTW9kZTtcbiAgICAgIHN0YXRpY0hhbmRsZXIgPSBkZXJpdmVkLnN0YXRpY0hhbmRsZXI7XG4gICAgICBlcnJvckhhbmRsZXIgPSBkZXJpdmVkLmVycm9ySGFuZGxlcjtcbiAgICB9XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBub3JtYWxpemVkQmFzZW5hbWUgPSBfYnVpbGQuYmFzZW5hbWUgfHwgXCIvXCI7XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gdXJsLnBhdGhuYW1lO1xuICAgIGlmIChzdHJpcEJhc2VuYW1lKG5vcm1hbGl6ZWRQYXRoLCBub3JtYWxpemVkQmFzZW5hbWUpID09PSBcIi9fcm9vdC5kYXRhXCIpIHtcbiAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZEJhc2VuYW1lO1xuICAgIH0gZWxzZSBpZiAobm9ybWFsaXplZFBhdGguZW5kc1dpdGgoXCIuZGF0YVwiKSkge1xuICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5yZXBsYWNlKC9cXC5kYXRhJC8sIFwiXCIpO1xuICAgIH1cbiAgICBpZiAoc3RyaXBCYXNlbmFtZShub3JtYWxpemVkUGF0aCwgbm9ybWFsaXplZEJhc2VuYW1lKSAhPT0gXCIvXCIgJiYgbm9ybWFsaXplZFBhdGguZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRQYXRoLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgIGxldCBoYW5kbGVFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgaWYgKG1vZGUgPT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLykge1xuICAgICAgICBnZXREZXZTZXJ2ZXJIb29rcygpPy5wcm9jZXNzUmVxdWVzdEVycm9yPy4oZXJyb3IpO1xuICAgICAgfVxuICAgICAgZXJyb3JIYW5kbGVyKGVycm9yLCB7XG4gICAgICAgIGNvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKCFfYnVpbGQuc3NyKSB7XG4gICAgICBpZiAoX2J1aWxkLnByZXJlbmRlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldChcIlgtUmVhY3QtUm91dGVyLVNQQS1Nb2RlXCIsIFwieWVzXCIpO1xuICAgICAgfSBlbHNlIGlmICghX2J1aWxkLnByZXJlbmRlci5pbmNsdWRlcyhub3JtYWxpemVkUGF0aCkgJiYgIV9idWlsZC5wcmVyZW5kZXIuaW5jbHVkZXMobm9ybWFsaXplZFBhdGggKyBcIi9cIikpIHtcbiAgICAgICAgaWYgKHVybC5wYXRobmFtZS5lbmRzV2l0aChcIi5kYXRhXCIpKSB7XG4gICAgICAgICAgZXJyb3JIYW5kbGVyKFxuICAgICAgICAgICAgbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgICAgICA0MDQsXG4gICAgICAgICAgICAgIFwiTm90IEZvdW5kXCIsXG4gICAgICAgICAgICAgIGBSZWZ1c2luZyB0byBTU1IgdGhlIHBhdGggXFxgJHtub3JtYWxpemVkUGF0aH1cXGAgYmVjYXVzZSBcXGBzc3I6ZmFsc2VcXGAgaXMgc2V0IGFuZCB0aGUgcGF0aCBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIFxcYHByZXJlbmRlclxcYCBjb25maWcsIHNvIGluIHByb2R1Y3Rpb24gdGhlIHBhdGggd2lsbCBiZSBhIDQwNC5gXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBjb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICByZXF1ZXN0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiTm90IEZvdW5kXCIsIHtcbiAgICAgICAgICAgIHN0YXR1czogNDA0LFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogXCJOb3QgRm91bmRcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiLCBcInllc1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWFuaWZlc3RVcmwgPSBgJHtub3JtYWxpemVkQmFzZW5hbWV9L19fbWFuaWZlc3RgLnJlcGxhY2UoL1xcLysvZywgXCIvXCIpO1xuICAgIGlmICh1cmwucGF0aG5hbWUgPT09IG1hbmlmZXN0VXJsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcmVzID0gYXdhaXQgaGFuZGxlTWFuaWZlc3RSZXF1ZXN0KF9idWlsZCwgcm91dGVzLCB1cmwpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBoYW5kbGVFcnJvcihlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIlVua25vd24gU2VydmVyIEVycm9yXCIsIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hTZXJ2ZXJSb3V0ZXMocm91dGVzLCB1cmwucGF0aG5hbWUsIF9idWlsZC5iYXNlbmFtZSk7XG4gICAgaWYgKG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICBPYmplY3QuYXNzaWduKHBhcmFtcywgbWF0Y2hlc1swXS5wYXJhbXMpO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgaWYgKHVybC5wYXRobmFtZS5lbmRzV2l0aChcIi5kYXRhXCIpKSB7XG4gICAgICBsZXQgaGFuZGxlclVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgaGFuZGxlclVybC5wYXRobmFtZSA9IG5vcm1hbGl6ZWRQYXRoO1xuICAgICAgbGV0IHNpbmdsZUZldGNoTWF0Y2hlcyA9IG1hdGNoU2VydmVyUm91dGVzKFxuICAgICAgICByb3V0ZXMsXG4gICAgICAgIGhhbmRsZXJVcmwucGF0aG5hbWUsXG4gICAgICAgIF9idWlsZC5iYXNlbmFtZVxuICAgICAgKTtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlU2luZ2xlRmV0Y2hSZXF1ZXN0KFxuICAgICAgICBzZXJ2ZXJNb2RlLFxuICAgICAgICBfYnVpbGQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGhhbmRsZXJVcmwsXG4gICAgICAgIGxvYWRDb250ZXh0LFxuICAgICAgICBoYW5kbGVFcnJvclxuICAgICAgKTtcbiAgICAgIGlmIChfYnVpbGQuZW50cnkubW9kdWxlLmhhbmRsZURhdGFSZXF1ZXN0KSB7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgX2J1aWxkLmVudHJ5Lm1vZHVsZS5oYW5kbGVEYXRhUmVxdWVzdChyZXNwb25zZSwge1xuICAgICAgICAgIGNvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgICAgIHBhcmFtczogc2luZ2xlRmV0Y2hNYXRjaGVzID8gc2luZ2xlRmV0Y2hNYXRjaGVzWzBdLnBhcmFtcyA6IHt9LFxuICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgX2J1aWxkLmJhc2VuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdOiByZXN1bHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3gtc2NyaXB0XCIpO1xuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgICAgICAgICBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgICAgICAgX2J1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgICAgICAgICBzZXJ2ZXJNb2RlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVMsXG4gICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghcmVxdWVzdC5oZWFkZXJzLmhhcyhcIlgtUmVhY3QtUm91dGVyLVNQQS1Nb2RlXCIpICYmIG1hdGNoZXMgJiYgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLm1vZHVsZS5kZWZhdWx0ID09IG51bGwgJiYgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLm1vZHVsZS5FcnJvckJvdW5kYXJ5ID09IG51bGwpIHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlUmVzb3VyY2VSZXF1ZXN0KFxuICAgICAgICBzZXJ2ZXJNb2RlLFxuICAgICAgICBfYnVpbGQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgICAgIG1hdGNoZXMuc2xpY2UoLTEpWzBdLnJvdXRlLmlkLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBsb2FkQ29udGV4dCxcbiAgICAgICAgaGFuZGxlRXJyb3JcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCB7IHBhdGhuYW1lIH0gPSB1cmw7XG4gICAgICBsZXQgY3JpdGljYWxDc3MgPSB2b2lkIDA7XG4gICAgICBpZiAoX2J1aWxkLmdldENyaXRpY2FsQ3NzKSB7XG4gICAgICAgIGNyaXRpY2FsQ3NzID0gYXdhaXQgX2J1aWxkLmdldENyaXRpY2FsQ3NzKHsgcGF0aG5hbWUgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLyAmJiBnZXREZXZTZXJ2ZXJIb29rcygpPy5nZXRDcml0aWNhbENzcykge1xuICAgICAgICBjcml0aWNhbENzcyA9IGF3YWl0IGdldERldlNlcnZlckhvb2tzKCk/LmdldENyaXRpY2FsQ3NzPy4ocGF0aG5hbWUpO1xuICAgICAgfVxuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVEb2N1bWVudFJlcXVlc3QoXG4gICAgICAgIHNlcnZlck1vZGUsXG4gICAgICAgIF9idWlsZCxcbiAgICAgICAgc3RhdGljSGFuZGxlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9hZENvbnRleHQsXG4gICAgICAgIGhhbmRsZUVycm9yLFxuICAgICAgICBjcml0aWNhbENzc1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1hbmlmZXN0UmVxdWVzdChidWlsZCwgcm91dGVzLCB1cmwpIHtcbiAgaWYgKGJ1aWxkLmFzc2V0cy52ZXJzaW9uICE9PSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInZlcnNpb25cIikpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgIHN0YXR1czogMjA0LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCI6IFwidHJ1ZVwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbGV0IHBhdGNoZXMgPSB7fTtcbiAgaWYgKHVybC5zZWFyY2hQYXJhbXMuaGFzKFwicFwiKSkge1xuICAgIGZvciAobGV0IHBhdGggb2YgdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoXCJwXCIpKSB7XG4gICAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoU2VydmVyUm91dGVzKHJvdXRlcywgcGF0aCwgYnVpbGQuYmFzZW5hbWUpO1xuICAgICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgIGxldCByb3V0ZUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgICAgICAgbGV0IHJvdXRlID0gYnVpbGQuYXNzZXRzLnJvdXRlc1tyb3V0ZUlkXTtcbiAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgIHBhdGNoZXNbcm91dGVJZF0gPSByb3V0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocGF0Y2hlcywge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJwdWJsaWMsIG1heC1hZ2U9MzE1MzYwMDAsIGltbXV0YWJsZVwiXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShcIkludmFsaWQgUmVxdWVzdFwiLCB7IHN0YXR1czogNDAwIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlU2luZ2xlRmV0Y2hSZXF1ZXN0KHNlcnZlck1vZGUsIGJ1aWxkLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBoYW5kbGVyVXJsLCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgbGV0IHJlc3BvbnNlID0gcmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIgPyBhd2FpdCBzaW5nbGVGZXRjaEFjdGlvbihcbiAgICBidWlsZCxcbiAgICBzZXJ2ZXJNb2RlLFxuICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgcmVxdWVzdCxcbiAgICBoYW5kbGVyVXJsLFxuICAgIGxvYWRDb250ZXh0LFxuICAgIGhhbmRsZUVycm9yXG4gICkgOiBhd2FpdCBzaW5nbGVGZXRjaExvYWRlcnMoXG4gICAgYnVpbGQsXG4gICAgc2VydmVyTW9kZSxcbiAgICBzdGF0aWNIYW5kbGVyLFxuICAgIHJlcXVlc3QsXG4gICAgaGFuZGxlclVybCxcbiAgICBsb2FkQ29udGV4dCxcbiAgICBoYW5kbGVFcnJvclxuICApO1xuICByZXR1cm4gcmVzcG9uc2U7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEb2N1bWVudFJlcXVlc3Qoc2VydmVyTW9kZSwgYnVpbGQsIHN0YXRpY0hhbmRsZXIsIHJlcXVlc3QsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvciwgY3JpdGljYWxDc3MpIHtcbiAgbGV0IGlzU3BhTW9kZSA9IHJlcXVlc3QuaGVhZGVycy5oYXMoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiKTtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5KHJlcXVlc3QsIHtcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IGJ1aWxkLmZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlID8gKGN0eCkgPT4gcmVuZGVySHRtbChjdHgsIGlzU3BhTW9kZSkgOiB2b2lkIDBcbiAgICB9KTtcbiAgICByZXR1cm4gaXNSZXNwb25zZShyZXNwb25zZSkgPyByZXNwb25zZSA6IHJlbmRlckh0bWwocmVzcG9uc2UsIGlzU3BhTW9kZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiByZW5kZXJIdG1sKGNvbnRleHQsIGlzU3BhTW9kZTIpIHtcbiAgICBpZiAoaXNSZXNwb25zZShjb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuICAgIGxldCBoZWFkZXJzID0gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KTtcbiAgICBpZiAoTk9fQk9EWV9TVEFUVVNfQ09ERVMuaGFzKGNvbnRleHQuc3RhdHVzQ29kZSkpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IGNvbnRleHQuc3RhdHVzQ29kZSwgaGVhZGVycyB9KTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICBPYmplY3QudmFsdWVzKGNvbnRleHQuZXJyb3JzKS5mb3JFYWNoKChlcnIpID0+IHtcbiAgICAgICAgaWYgKCFpc1JvdXRlRXJyb3JSZXNwb25zZShlcnIpIHx8IGVyci5lcnJvcikge1xuICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgfVxuICAgIGxldCBzdGF0ZSA9IHtcbiAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgIGVycm9yczogc2VyaWFsaXplRXJyb3JzMihjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSlcbiAgICB9O1xuICAgIGxldCBlbnRyeUNvbnRleHQgPSB7XG4gICAgICBtYW5pZmVzdDogYnVpbGQuYXNzZXRzLFxuICAgICAgcm91dGVNb2R1bGVzOiBjcmVhdGVFbnRyeVJvdXRlTW9kdWxlcyhidWlsZC5yb3V0ZXMpLFxuICAgICAgc3RhdGljSGFuZGxlckNvbnRleHQ6IGNvbnRleHQsXG4gICAgICBjcml0aWNhbENzcyxcbiAgICAgIHNlcnZlckhhbmRvZmZTdHJpbmc6IGNyZWF0ZVNlcnZlckhhbmRvZmZTdHJpbmcoe1xuICAgICAgICBiYXNlbmFtZTogYnVpbGQuYmFzZW5hbWUsXG4gICAgICAgIGNyaXRpY2FsQ3NzLFxuICAgICAgICBmdXR1cmU6IGJ1aWxkLmZ1dHVyZSxcbiAgICAgICAgc3NyOiBidWlsZC5zc3IsXG4gICAgICAgIGlzU3BhTW9kZTogaXNTcGFNb2RlMlxuICAgICAgfSksXG4gICAgICBzZXJ2ZXJIYW5kb2ZmU3RyZWFtOiBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBidWlsZC5lbnRyeS5tb2R1bGUuc3RyZWFtVGltZW91dCxcbiAgICAgICAgc2VydmVyTW9kZVxuICAgICAgKSxcbiAgICAgIHJlbmRlck1ldGE6IHt9LFxuICAgICAgZnV0dXJlOiBidWlsZC5mdXR1cmUsXG4gICAgICBzc3I6IGJ1aWxkLnNzcixcbiAgICAgIGlzU3BhTW9kZTogaXNTcGFNb2RlMixcbiAgICAgIHNlcmlhbGl6ZUVycm9yOiAoZXJyKSA9PiBzZXJpYWxpemVFcnJvcihlcnIsIHNlcnZlck1vZGUpXG4gICAgfTtcbiAgICBsZXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0RnVuY3Rpb24gPSBidWlsZC5lbnRyeS5tb2R1bGUuZGVmYXVsdDtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZURvY3VtZW50UmVxdWVzdEZ1bmN0aW9uKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGVudHJ5Q29udGV4dCxcbiAgICAgICAgbG9hZENvbnRleHRcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgIGxldCBlcnJvckZvclNlY29uZFJlbmRlciA9IGVycm9yO1xuICAgICAgaWYgKGlzUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGRhdGEyID0gYXdhaXQgdW53cmFwUmVzcG9uc2UoZXJyb3IpO1xuICAgICAgICAgIGVycm9yRm9yU2Vjb25kUmVuZGVyID0gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICAgICAgZXJyb3Iuc3RhdHVzLFxuICAgICAgICAgICAgZXJyb3Iuc3RhdHVzVGV4dCxcbiAgICAgICAgICAgIGRhdGEyXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb250ZXh0ID0gZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihcbiAgICAgICAgc3RhdGljSGFuZGxlci5kYXRhUm91dGVzLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBlcnJvckZvclNlY29uZFJlbmRlclxuICAgICAgKTtcbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICAgIGxldCBzdGF0ZTIgPSB7XG4gICAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9yczIoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpXG4gICAgICB9O1xuICAgICAgZW50cnlDb250ZXh0ID0ge1xuICAgICAgICAuLi5lbnRyeUNvbnRleHQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXJDb250ZXh0OiBjb250ZXh0LFxuICAgICAgICBzZXJ2ZXJIYW5kb2ZmU3RyaW5nOiBjcmVhdGVTZXJ2ZXJIYW5kb2ZmU3RyaW5nKHtcbiAgICAgICAgICBiYXNlbmFtZTogYnVpbGQuYmFzZW5hbWUsXG4gICAgICAgICAgZnV0dXJlOiBidWlsZC5mdXR1cmUsXG4gICAgICAgICAgc3NyOiBidWlsZC5zc3IsXG4gICAgICAgICAgaXNTcGFNb2RlOiBpc1NwYU1vZGUyXG4gICAgICAgIH0pLFxuICAgICAgICBzZXJ2ZXJIYW5kb2ZmU3RyZWFtOiBlbmNvZGVWaWFUdXJib1N0cmVhbShcbiAgICAgICAgICBzdGF0ZTIsXG4gICAgICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICAgICAgYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICAgICAgc2VydmVyTW9kZVxuICAgICAgICApLFxuICAgICAgICByZW5kZXJNZXRhOiB7fVxuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVEb2N1bWVudFJlcXVlc3RGdW5jdGlvbihcbiAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGVudHJ5Q29udGV4dCxcbiAgICAgICAgICBsb2FkQ29udGV4dFxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yMik7XG4gICAgICAgIHJldHVybiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShlcnJvcjIsIHNlcnZlck1vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVzb3VyY2VSZXF1ZXN0KHNlcnZlck1vZGUsIGJ1aWxkLCBzdGF0aWNIYW5kbGVyLCByb3V0ZUlkLCByZXF1ZXN0LCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5Um91dGUocmVxdWVzdCwge1xuICAgICAgcm91dGVJZCxcbiAgICAgIHJlcXVlc3RDb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IGJ1aWxkLmZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlID8gKGN0eCkgPT4gY3R4IDogdm9pZCAwXG4gICAgfSk7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcmVzcG9uc2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbihyZXNwb25zZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICBlcnJvci5oZWFkZXJzLnNldChcIlgtUmVtaXgtQ2F0Y2hcIiwgXCJ5ZXNcIik7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuICAgIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXJyb3JSZXNwb25zZVRvSnNvbihlcnJvciwgc2VydmVyTW9kZSk7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm1lc3NhZ2UgPT09IFwiRXhwZWN0ZWQgYSByZXNwb25zZSBmcm9tIHF1ZXJ5Um91dGVcIikge1xuICAgICAgbGV0IG5ld0Vycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBcIkV4cGVjdGVkIGEgUmVzcG9uc2UgdG8gYmUgcmV0dXJuZWQgZnJvbSByZXNvdXJjZSByb3V0ZSBoYW5kbGVyXCJcbiAgICAgICk7XG4gICAgICBoYW5kbGVFcnJvcihuZXdFcnJvcik7XG4gICAgICByZXR1cm4gcmV0dXJuTGFzdFJlc29ydEVycm9yUmVzcG9uc2UobmV3RXJyb3IsIHNlcnZlck1vZGUpO1xuICAgIH1cbiAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKGVycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgfVxufVxuZnVuY3Rpb24gZXJyb3JSZXNwb25zZVRvSnNvbihlcnJvclJlc3BvbnNlLCBzZXJ2ZXJNb2RlKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKFxuICAgIHNlcmlhbGl6ZUVycm9yKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIGlzIFwicHJpdmF0ZVwiIGZyb20gdXNlcnMgYnV0IGludGVuZGVkIGZvciBpbnRlcm5hbCB1c2VcbiAgICAgIGVycm9yUmVzcG9uc2UuZXJyb3IgfHwgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIiksXG4gICAgICBzZXJ2ZXJNb2RlXG4gICAgKSxcbiAgICB7XG4gICAgICBzdGF0dXM6IGVycm9yUmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIlgtUmVtaXgtRXJyb3JcIjogXCJ5ZXNcIlxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKGVycm9yLCBzZXJ2ZXJNb2RlKSB7XG4gIGxldCBtZXNzYWdlID0gXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiO1xuICBpZiAoc2VydmVyTW9kZSAhPT0gXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLykge1xuICAgIG1lc3NhZ2UgKz0gYFxuXG4ke1N0cmluZyhlcnJvcil9YDtcbiAgfVxuICByZXR1cm4gbmV3IFJlc3BvbnNlKG1lc3NhZ2UsIHtcbiAgICBzdGF0dXM6IDUwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW5cIlxuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB1bndyYXBSZXNwb25zZShyZXNwb25zZSkge1xuICBsZXQgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgcmV0dXJuIGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL2pzb25cXGIvLnRlc3QoY29udGVudFR5cGUpID8gcmVzcG9uc2UuYm9keSA9PSBudWxsID8gbnVsbCA6IHJlc3BvbnNlLmpzb24oKSA6IHJlc3BvbnNlLnRleHQoKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3Nlc3Npb25zLnRzXG5mdW5jdGlvbiBmbGFzaChuYW1lKSB7XG4gIHJldHVybiBgX19mbGFzaF8ke25hbWV9X19gO1xufVxudmFyIGNyZWF0ZVNlc3Npb24gPSAoaW5pdGlhbERhdGEgPSB7fSwgaWQgPSBcIlwiKSA9PiB7XG4gIGxldCBtYXAgPSBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKGluaXRpYWxEYXRhKSk7XG4gIHJldHVybiB7XG4gICAgZ2V0IGlkKCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgZ2V0IGRhdGEoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKG1hcCk7XG4gICAgfSxcbiAgICBoYXMobmFtZSkge1xuICAgICAgcmV0dXJuIG1hcC5oYXMobmFtZSkgfHwgbWFwLmhhcyhmbGFzaChuYW1lKSk7XG4gICAgfSxcbiAgICBnZXQobmFtZSkge1xuICAgICAgaWYgKG1hcC5oYXMobmFtZSkpIHJldHVybiBtYXAuZ2V0KG5hbWUpO1xuICAgICAgbGV0IGZsYXNoTmFtZSA9IGZsYXNoKG5hbWUpO1xuICAgICAgaWYgKG1hcC5oYXMoZmxhc2hOYW1lKSkge1xuICAgICAgICBsZXQgdmFsdWUgPSBtYXAuZ2V0KGZsYXNoTmFtZSk7XG4gICAgICAgIG1hcC5kZWxldGUoZmxhc2hOYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9LFxuICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgbWFwLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgfSxcbiAgICBmbGFzaChuYW1lLCB2YWx1ZSkge1xuICAgICAgbWFwLnNldChmbGFzaChuYW1lKSwgdmFsdWUpO1xuICAgIH0sXG4gICAgdW5zZXQobmFtZSkge1xuICAgICAgbWFwLmRlbGV0ZShuYW1lKTtcbiAgICB9XG4gIH07XG59O1xudmFyIGlzU2Vzc2lvbiA9IChvYmplY3QpID0+IHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QuaWQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5kYXRhICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBvYmplY3QuaGFzID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC5nZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LnNldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3QuZmxhc2ggPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LnVuc2V0ID09PSBcImZ1bmN0aW9uXCI7XG59O1xuZnVuY3Rpb24gY3JlYXRlU2Vzc2lvblN0b3JhZ2Uoe1xuICBjb29raWU6IGNvb2tpZUFyZyxcbiAgY3JlYXRlRGF0YSxcbiAgcmVhZERhdGEsXG4gIHVwZGF0ZURhdGEsXG4gIGRlbGV0ZURhdGFcbn0pIHtcbiAgbGV0IGNvb2tpZSA9IGlzQ29va2llKGNvb2tpZUFyZykgPyBjb29raWVBcmcgOiBjcmVhdGVDb29raWUoY29va2llQXJnPy5uYW1lIHx8IFwiX19zZXNzaW9uXCIsIGNvb2tpZUFyZyk7XG4gIHdhcm5PbmNlQWJvdXRTaWduaW5nU2Vzc2lvbkNvb2tpZShjb29raWUpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIGdldFNlc3Npb24oY29va2llSGVhZGVyLCBvcHRpb25zKSB7XG4gICAgICBsZXQgaWQgPSBjb29raWVIZWFkZXIgJiYgYXdhaXQgY29va2llLnBhcnNlKGNvb2tpZUhlYWRlciwgb3B0aW9ucyk7XG4gICAgICBsZXQgZGF0YTIgPSBpZCAmJiBhd2FpdCByZWFkRGF0YShpZCk7XG4gICAgICByZXR1cm4gY3JlYXRlU2Vzc2lvbihkYXRhMiB8fCB7fSwgaWQgfHwgXCJcIik7XG4gICAgfSxcbiAgICBhc3luYyBjb21taXRTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIGxldCB7IGlkLCBkYXRhOiBkYXRhMiB9ID0gc2Vzc2lvbjtcbiAgICAgIGxldCBleHBpcmVzID0gb3B0aW9ucz8ubWF4QWdlICE9IG51bGwgPyBuZXcgRGF0ZShEYXRlLm5vdygpICsgb3B0aW9ucy5tYXhBZ2UgKiAxZTMpIDogb3B0aW9ucz8uZXhwaXJlcyAhPSBudWxsID8gb3B0aW9ucy5leHBpcmVzIDogY29va2llLmV4cGlyZXM7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgYXdhaXQgdXBkYXRlRGF0YShpZCwgZGF0YTIsIGV4cGlyZXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWQgPSBhd2FpdCBjcmVhdGVEYXRhKGRhdGEyLCBleHBpcmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb29raWUuc2VyaWFsaXplKGlkLCBvcHRpb25zKTtcbiAgICB9LFxuICAgIGFzeW5jIGRlc3Ryb3lTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIGF3YWl0IGRlbGV0ZURhdGEoc2Vzc2lvbi5pZCk7XG4gICAgICByZXR1cm4gY29va2llLnNlcmlhbGl6ZShcIlwiLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIG1heEFnZTogdm9pZCAwLFxuICAgICAgICBleHBpcmVzOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoMClcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHdhcm5PbmNlQWJvdXRTaWduaW5nU2Vzc2lvbkNvb2tpZShjb29raWUpIHtcbiAgd2Fybk9uY2UoXG4gICAgY29va2llLmlzU2lnbmVkLFxuICAgIGBUaGUgXCIke2Nvb2tpZS5uYW1lfVwiIGNvb2tpZSBpcyBub3Qgc2lnbmVkLCBidXQgc2Vzc2lvbiBjb29raWVzIHNob3VsZCBiZSBzaWduZWQgdG8gcHJldmVudCB0YW1wZXJpbmcgb24gdGhlIGNsaWVudCBiZWZvcmUgdGhleSBhcmUgc2VudCBiYWNrIHRvIHRoZSBzZXJ2ZXIuIFNlZSBodHRwczovL3JlbWl4LnJ1bi91dGlscy9jb29raWVzI3NpZ25pbmctY29va2llcyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5gXG4gICk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXNzaW9ucy9jb29raWVTdG9yYWdlLnRzXG5mdW5jdGlvbiBjcmVhdGVDb29raWVTZXNzaW9uU3RvcmFnZSh7IGNvb2tpZTogY29va2llQXJnIH0gPSB7fSkge1xuICBsZXQgY29va2llID0gaXNDb29raWUoY29va2llQXJnKSA/IGNvb2tpZUFyZyA6IGNyZWF0ZUNvb2tpZShjb29raWVBcmc/Lm5hbWUgfHwgXCJfX3Nlc3Npb25cIiwgY29va2llQXJnKTtcbiAgd2Fybk9uY2VBYm91dFNpZ25pbmdTZXNzaW9uQ29va2llKGNvb2tpZSk7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgZ2V0U2Vzc2lvbihjb29raWVIZWFkZXIsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTZXNzaW9uKFxuICAgICAgICBjb29raWVIZWFkZXIgJiYgYXdhaXQgY29va2llLnBhcnNlKGNvb2tpZUhlYWRlciwgb3B0aW9ucykgfHwge31cbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyBjb21taXRTZXNzaW9uKHNlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIGxldCBzZXJpYWxpemVkQ29va2llID0gYXdhaXQgY29va2llLnNlcmlhbGl6ZShzZXNzaW9uLmRhdGEsIG9wdGlvbnMpO1xuICAgICAgaWYgKHNlcmlhbGl6ZWRDb29raWUubGVuZ3RoID4gNDA5Nikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJDb29raWUgbGVuZ3RoIHdpbGwgZXhjZWVkIGJyb3dzZXIgbWF4aW11bS4gTGVuZ3RoOiBcIiArIHNlcmlhbGl6ZWRDb29raWUubGVuZ3RoXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VyaWFsaXplZENvb2tpZTtcbiAgICB9LFxuICAgIGFzeW5jIGRlc3Ryb3lTZXNzaW9uKF9zZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gY29va2llLnNlcmlhbGl6ZShcIlwiLCB7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIG1heEFnZTogdm9pZCAwLFxuICAgICAgICBleHBpcmVzOiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoMClcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3Nlc3Npb25zL21lbW9yeVN0b3JhZ2UudHNcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeVNlc3Npb25TdG9yYWdlKHsgY29va2llIH0gPSB7fSkge1xuICBsZXQgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgcmV0dXJuIGNyZWF0ZVNlc3Npb25TdG9yYWdlKHtcbiAgICBjb29raWUsXG4gICAgYXN5bmMgY3JlYXRlRGF0YShkYXRhMiwgZXhwaXJlcykge1xuICAgICAgbGV0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKTtcbiAgICAgIG1hcC5zZXQoaWQsIHsgZGF0YTogZGF0YTIsIGV4cGlyZXMgfSk7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfSxcbiAgICBhc3luYyByZWFkRGF0YShpZCkge1xuICAgICAgaWYgKG1hcC5oYXMoaWQpKSB7XG4gICAgICAgIGxldCB7IGRhdGE6IGRhdGEyLCBleHBpcmVzIH0gPSBtYXAuZ2V0KGlkKTtcbiAgICAgICAgaWYgKCFleHBpcmVzIHx8IGV4cGlyZXMgPiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSkge1xuICAgICAgICAgIHJldHVybiBkYXRhMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwaXJlcykgbWFwLmRlbGV0ZShpZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGFzeW5jIHVwZGF0ZURhdGEoaWQsIGRhdGEyLCBleHBpcmVzKSB7XG4gICAgICBtYXAuc2V0KGlkLCB7IGRhdGE6IGRhdGEyLCBleHBpcmVzIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgZGVsZXRlRGF0YShpZCkge1xuICAgICAgbWFwLmRlbGV0ZShpZCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gbGliL2hyZWYudHNcbmZ1bmN0aW9uIGhyZWYocGF0aCwgLi4uYXJncykge1xuICBsZXQgcGFyYW1zID0gYXJnc1swXTtcbiAgcmV0dXJuIHBhdGguc3BsaXQoXCIvXCIpLm1hcCgoc2VnbWVudCkgPT4ge1xuICAgIGNvbnN0IG1hdGNoID0gc2VnbWVudC5tYXRjaCgvXjooW1xcdy1dKykoXFw/KT8vKTtcbiAgICBpZiAoIW1hdGNoKSByZXR1cm4gc2VnbWVudDtcbiAgICBjb25zdCBwYXJhbSA9IG1hdGNoWzFdO1xuICAgIGNvbnN0IHZhbHVlID0gcGFyYW1zID8gcGFyYW1zW3BhcmFtXSA6IHZvaWQgMDtcbiAgICBjb25zdCBpc1JlcXVpcmVkID0gbWF0Y2hbMl0gPT09IHZvaWQgMDtcbiAgICBpZiAoaXNSZXF1aXJlZCAmJiB2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFBhdGggJyR7cGF0aH0nIHJlcXVpcmVzIHBhcmFtICcke3BhcmFtfScgYnV0IGl0IHdhcyBub3QgcHJvdmlkZWRgXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH0pLmZpbHRlcigoc2VnbWVudCkgPT4gc2VnbWVudCAhPT0gdm9pZCAwKS5qb2luKFwiL1wiKTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZXJyb3JzLnRzXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9yczIoZXJyb3JzKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiUm91dGVFcnJvclJlc3BvbnNlXCIpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgdmFsLnN0YXR1cyxcbiAgICAgICAgdmFsLnN0YXR1c1RleHQsXG4gICAgICAgIHZhbC5kYXRhLFxuICAgICAgICB2YWwuaW50ZXJuYWwgPT09IHRydWVcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJFcnJvclwiKSB7XG4gICAgICBpZiAodmFsLl9fc3ViVHlwZSkge1xuICAgICAgICBsZXQgRXJyb3JDb25zdHJ1Y3RvciA9IHdpbmRvd1t2YWwuX19zdWJUeXBlXTtcbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvckNvbnN0cnVjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yQ29uc3RydWN0b3IodmFsLm1lc3NhZ2UpO1xuICAgICAgICAgICAgZXJyb3Iuc3RhY2sgPSB2YWwuc3RhY2s7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2VyaWFsaXplZFtrZXldID09IG51bGwpIHtcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSB2YWwuc3RhY2s7XG4gICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuXG5leHBvcnQge1xuICBBY3Rpb24sXG4gIGNyZWF0ZUJyb3dzZXJIaXN0b3J5LFxuICBpbnZhcmlhbnQsXG4gIGNyZWF0ZVBhdGgsXG4gIHBhcnNlUGF0aCxcbiAgdW5zdGFibGVfY3JlYXRlQ29udGV4dCxcbiAgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyLFxuICBtYXRjaFJvdXRlcyxcbiAgZ2VuZXJhdGVQYXRoLFxuICBtYXRjaFBhdGgsXG4gIHJlc29sdmVQYXRoLFxuICBkYXRhLFxuICByZWRpcmVjdCxcbiAgcmVkaXJlY3REb2N1bWVudCxcbiAgcmVwbGFjZSxcbiAgRXJyb3JSZXNwb25zZUltcGwsXG4gIGlzUm91dGVFcnJvclJlc3BvbnNlLFxuICBJRExFX05BVklHQVRJT04sXG4gIElETEVfRkVUQ0hFUixcbiAgSURMRV9CTE9DS0VSLFxuICBjcmVhdGVSb3V0ZXIsXG4gIERhdGFSb3V0ZXJDb250ZXh0LFxuICBEYXRhUm91dGVyU3RhdGVDb250ZXh0LFxuICBWaWV3VHJhbnNpdGlvbkNvbnRleHQsXG4gIEZldGNoZXJzQ29udGV4dCxcbiAgTmF2aWdhdGlvbkNvbnRleHQsXG4gIExvY2F0aW9uQ29udGV4dCxcbiAgUm91dGVDb250ZXh0LFxuICB1c2VIcmVmLFxuICB1c2VJblJvdXRlckNvbnRleHQsXG4gIHVzZUxvY2F0aW9uLFxuICB1c2VOYXZpZ2F0aW9uVHlwZSxcbiAgdXNlTWF0Y2gsXG4gIHVzZU5hdmlnYXRlLFxuICB1c2VPdXRsZXRDb250ZXh0LFxuICB1c2VPdXRsZXQsXG4gIHVzZVBhcmFtcyxcbiAgdXNlUmVzb2x2ZWRQYXRoLFxuICB1c2VSb3V0ZXMsXG4gIHVzZU5hdmlnYXRpb24sXG4gIHVzZVJldmFsaWRhdG9yLFxuICB1c2VNYXRjaGVzLFxuICB1c2VMb2FkZXJEYXRhLFxuICB1c2VSb3V0ZUxvYWRlckRhdGEsXG4gIHVzZUFjdGlvbkRhdGEsXG4gIHVzZVJvdXRlRXJyb3IsXG4gIHVzZUFzeW5jVmFsdWUsXG4gIHVzZUFzeW5jRXJyb3IsXG4gIHVzZUJsb2NrZXIsXG4gIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgY3JlYXRlTWVtb3J5Um91dGVyLFxuICBSb3V0ZXJQcm92aWRlcixcbiAgTWVtb3J5Um91dGVyLFxuICBOYXZpZ2F0ZSxcbiAgT3V0bGV0LFxuICBSb3V0ZSxcbiAgUm91dGVyLFxuICBSb3V0ZXMsXG4gIEF3YWl0LFxuICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4sXG4gIGNyZWF0ZVJvdXRlc0Zyb21FbGVtZW50cyxcbiAgcmVuZGVyTWF0Y2hlcyxcbiAgY3JlYXRlU2VhcmNoUGFyYW1zLFxuICBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sLFxuICBnZXRTaW5nbGVGZXRjaERhdGFTdHJhdGVneSxcbiAgZGVjb2RlVmlhVHVyYm9TdHJlYW0sXG4gIFJlbWl4RXJyb3JCb3VuZGFyeSxcbiAgY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dCxcbiAgY3JlYXRlQ2xpZW50Um91dGVzLFxuICBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIsXG4gIGdldFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24sXG4gIHVzZUZvZ09GV2FyRGlzY292ZXJ5LFxuICBGcmFtZXdvcmtDb250ZXh0LFxuICBMaW5rcyxcbiAgUHJlZmV0Y2hQYWdlTGlua3MsXG4gIE1ldGEsXG4gIFNjcmlwdHMsXG4gIGNyZWF0ZUJyb3dzZXJSb3V0ZXIsXG4gIGNyZWF0ZUhhc2hSb3V0ZXIsXG4gIEJyb3dzZXJSb3V0ZXIsXG4gIEhhc2hSb3V0ZXIsXG4gIEhpc3RvcnlSb3V0ZXIsXG4gIExpbmssXG4gIE5hdkxpbmssXG4gIEZvcm0sXG4gIFNjcm9sbFJlc3RvcmF0aW9uLFxuICB1c2VMaW5rQ2xpY2tIYW5kbGVyLFxuICB1c2VTZWFyY2hQYXJhbXMsXG4gIHVzZVN1Ym1pdCxcbiAgdXNlRm9ybUFjdGlvbixcbiAgdXNlRmV0Y2hlcixcbiAgdXNlRmV0Y2hlcnMsXG4gIHVzZVNjcm9sbFJlc3RvcmF0aW9uLFxuICB1c2VCZWZvcmVVbmxvYWQsXG4gIHVzZVByb21wdCxcbiAgdXNlVmlld1RyYW5zaXRpb25TdGF0ZSxcbiAgU3RhdGljUm91dGVyLFxuICBTdGF0aWNSb3V0ZXJQcm92aWRlcixcbiAgY3JlYXRlU3RhdGljSGFuZGxlcjIgYXMgY3JlYXRlU3RhdGljSGFuZGxlcixcbiAgY3JlYXRlU3RhdGljUm91dGVyLFxuICBTZXJ2ZXJSb3V0ZXIsXG4gIGNyZWF0ZVJvdXRlc1N0dWIsXG4gIGNyZWF0ZUNvb2tpZSxcbiAgaXNDb29raWUsXG4gIFNlcnZlck1vZGUsXG4gIHNldERldlNlcnZlckhvb2tzLFxuICBjcmVhdGVSZXF1ZXN0SGFuZGxlcixcbiAgY3JlYXRlU2Vzc2lvbixcbiAgaXNTZXNzaW9uLFxuICBjcmVhdGVTZXNzaW9uU3RvcmFnZSxcbiAgY3JlYXRlQ29va2llU2Vzc2lvblN0b3JhZ2UsXG4gIGNyZWF0ZU1lbW9yeVNlc3Npb25TdG9yYWdlLFxuICBocmVmLFxuICBkZXNlcmlhbGl6ZUVycm9yczIgYXMgZGVzZXJpYWxpemVFcnJvcnNcbn07XG4iLAogICAgIi8vIHNyYy9pbmRleC50c1xudmFyIHVwZGF0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG52YXIgcmFmID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgdXBkYXRlUXVldWUpO1xudmFyIHdyaXRlUXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi53cml0ZSA9IChmbikgPT4gc2NoZWR1bGUoZm4sIHdyaXRlUXVldWUpO1xudmFyIG9uU3RhcnRRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xucmFmLm9uU3RhcnQgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCBvblN0YXJ0UXVldWUpO1xudmFyIG9uRnJhbWVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xucmFmLm9uRnJhbWUgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCBvbkZyYW1lUXVldWUpO1xudmFyIG9uRmluaXNoUXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi5vbkZpbmlzaCA9IChmbikgPT4gc2NoZWR1bGUoZm4sIG9uRmluaXNoUXVldWUpO1xudmFyIHRpbWVvdXRzID0gW107XG5yYWYuc2V0VGltZW91dCA9IChoYW5kbGVyLCBtcykgPT4ge1xuICBjb25zdCB0aW1lID0gcmFmLm5vdygpICsgbXM7XG4gIGNvbnN0IGNhbmNlbCA9ICgpID0+IHtcbiAgICBjb25zdCBpID0gdGltZW91dHMuZmluZEluZGV4KCh0KSA9PiB0LmNhbmNlbCA9PSBjYW5jZWwpO1xuICAgIGlmICh+aSlcbiAgICAgIHRpbWVvdXRzLnNwbGljZShpLCAxKTtcbiAgICBwZW5kaW5nQ291bnQgLT0gfmkgPyAxIDogMDtcbiAgfTtcbiAgY29uc3QgdGltZW91dCA9IHsgdGltZSwgaGFuZGxlciwgY2FuY2VsIH07XG4gIHRpbWVvdXRzLnNwbGljZShmaW5kVGltZW91dCh0aW1lKSwgMCwgdGltZW91dCk7XG4gIHBlbmRpbmdDb3VudCArPSAxO1xuICBzdGFydCgpO1xuICByZXR1cm4gdGltZW91dDtcbn07XG52YXIgZmluZFRpbWVvdXQgPSAodGltZSkgPT4gfih+dGltZW91dHMuZmluZEluZGV4KCh0KSA9PiB0LnRpbWUgPiB0aW1lKSB8fCB+dGltZW91dHMubGVuZ3RoKTtcbnJhZi5jYW5jZWwgPSAoZm4pID0+IHtcbiAgb25TdGFydFF1ZXVlLmRlbGV0ZShmbik7XG4gIG9uRnJhbWVRdWV1ZS5kZWxldGUoZm4pO1xuICBvbkZpbmlzaFF1ZXVlLmRlbGV0ZShmbik7XG4gIHVwZGF0ZVF1ZXVlLmRlbGV0ZShmbik7XG4gIHdyaXRlUXVldWUuZGVsZXRlKGZuKTtcbn07XG5yYWYuc3luYyA9IChmbikgPT4ge1xuICBzeW5jID0gdHJ1ZTtcbiAgcmFmLmJhdGNoZWRVcGRhdGVzKGZuKTtcbiAgc3luYyA9IGZhbHNlO1xufTtcbnJhZi50aHJvdHRsZSA9IChmbikgPT4ge1xuICBsZXQgbGFzdEFyZ3M7XG4gIGZ1bmN0aW9uIHF1ZXVlZEZuKCkge1xuICAgIHRyeSB7XG4gICAgICBmbiguLi5sYXN0QXJncyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdGhyb3R0bGVkKC4uLmFyZ3MpIHtcbiAgICBsYXN0QXJncyA9IGFyZ3M7XG4gICAgcmFmLm9uU3RhcnQocXVldWVkRm4pO1xuICB9XG4gIHRocm90dGxlZC5oYW5kbGVyID0gZm47XG4gIHRocm90dGxlZC5jYW5jZWwgPSAoKSA9PiB7XG4gICAgb25TdGFydFF1ZXVlLmRlbGV0ZShxdWV1ZWRGbik7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICB9O1xuICByZXR1cm4gdGhyb3R0bGVkO1xufTtcbnZhciBuYXRpdmVSYWYgPSB0eXBlb2Ygd2luZG93ICE9IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIDogKFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICgpID0+IHtcbiAgfVxuKTtcbnJhZi51c2UgPSAoaW1wbCkgPT4gbmF0aXZlUmFmID0gaW1wbDtcbnJhZi5ub3cgPSB0eXBlb2YgcGVyZm9ybWFuY2UgIT0gXCJ1bmRlZmluZWRcIiA/ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpIDogRGF0ZS5ub3c7XG5yYWYuYmF0Y2hlZFVwZGF0ZXMgPSAoZm4pID0+IGZuKCk7XG5yYWYuY2F0Y2ggPSBjb25zb2xlLmVycm9yO1xucmFmLmZyYW1lTG9vcCA9IFwiYWx3YXlzXCI7XG5yYWYuYWR2YW5jZSA9ICgpID0+IHtcbiAgaWYgKHJhZi5mcmFtZUxvb3AgIT09IFwiZGVtYW5kXCIpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIkNhbm5vdCBjYWxsIHRoZSBtYW51YWwgYWR2YW5jZW1lbnQgb2YgcmFmeiB3aGlsc3QgZnJhbWVMb29wIGlzIG5vdCBzZXQgYXMgZGVtYW5kXCJcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHVwZGF0ZSgpO1xuICB9XG59O1xudmFyIHRzID0gLTE7XG52YXIgcGVuZGluZ0NvdW50ID0gMDtcbnZhciBzeW5jID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZShmbiwgcXVldWUpIHtcbiAgaWYgKHN5bmMpIHtcbiAgICBxdWV1ZS5kZWxldGUoZm4pO1xuICAgIGZuKDApO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlLmFkZChmbik7XG4gICAgc3RhcnQoKTtcbiAgfVxufVxuZnVuY3Rpb24gc3RhcnQoKSB7XG4gIGlmICh0cyA8IDApIHtcbiAgICB0cyA9IDA7XG4gICAgaWYgKHJhZi5mcmFtZUxvb3AgIT09IFwiZGVtYW5kXCIpIHtcbiAgICAgIG5hdGl2ZVJhZihsb29wKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHN0b3AoKSB7XG4gIHRzID0gLTE7XG59XG5mdW5jdGlvbiBsb29wKCkge1xuICBpZiAofnRzKSB7XG4gICAgbmF0aXZlUmFmKGxvb3ApO1xuICAgIHJhZi5iYXRjaGVkVXBkYXRlcyh1cGRhdGUpO1xuICB9XG59XG5mdW5jdGlvbiB1cGRhdGUoKSB7XG4gIGNvbnN0IHByZXZUcyA9IHRzO1xuICB0cyA9IHJhZi5ub3coKTtcbiAgY29uc3QgY291bnQgPSBmaW5kVGltZW91dCh0cyk7XG4gIGlmIChjb3VudCkge1xuICAgIGVhY2hTYWZlbHkodGltZW91dHMuc3BsaWNlKDAsIGNvdW50KSwgKHQpID0+IHQuaGFuZGxlcigpKTtcbiAgICBwZW5kaW5nQ291bnQgLT0gY291bnQ7XG4gIH1cbiAgaWYgKCFwZW5kaW5nQ291bnQpIHtcbiAgICBzdG9wKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9uU3RhcnRRdWV1ZS5mbHVzaCgpO1xuICB1cGRhdGVRdWV1ZS5mbHVzaChwcmV2VHMgPyBNYXRoLm1pbig2NCwgdHMgLSBwcmV2VHMpIDogMTYuNjY3KTtcbiAgb25GcmFtZVF1ZXVlLmZsdXNoKCk7XG4gIHdyaXRlUXVldWUuZmx1c2goKTtcbiAgb25GaW5pc2hRdWV1ZS5mbHVzaCgpO1xufVxuZnVuY3Rpb24gbWFrZVF1ZXVlKCkge1xuICBsZXQgbmV4dCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBjdXJyZW50ID0gbmV4dDtcbiAgcmV0dXJuIHtcbiAgICBhZGQoZm4pIHtcbiAgICAgIHBlbmRpbmdDb3VudCArPSBjdXJyZW50ID09IG5leHQgJiYgIW5leHQuaGFzKGZuKSA/IDEgOiAwO1xuICAgICAgbmV4dC5hZGQoZm4pO1xuICAgIH0sXG4gICAgZGVsZXRlKGZuKSB7XG4gICAgICBwZW5kaW5nQ291bnQgLT0gY3VycmVudCA9PSBuZXh0ICYmIG5leHQuaGFzKGZuKSA/IDEgOiAwO1xuICAgICAgcmV0dXJuIG5leHQuZGVsZXRlKGZuKTtcbiAgICB9LFxuICAgIGZsdXNoKGFyZykge1xuICAgICAgaWYgKGN1cnJlbnQuc2l6ZSkge1xuICAgICAgICBuZXh0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgICAgcGVuZGluZ0NvdW50IC09IGN1cnJlbnQuc2l6ZTtcbiAgICAgICAgZWFjaFNhZmVseShjdXJyZW50LCAoZm4pID0+IGZuKGFyZykgJiYgbmV4dC5hZGQoZm4pKTtcbiAgICAgICAgcGVuZGluZ0NvdW50ICs9IG5leHQuc2l6ZTtcbiAgICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZWFjaFNhZmVseSh2YWx1ZXMsIGVhY2gpIHtcbiAgdmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGVhY2godmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJhZi5jYXRjaChlKTtcbiAgICB9XG4gIH0pO1xufVxudmFyIF9fcmFmID0ge1xuICAvKiogVGhlIG51bWJlciBvZiBwZW5kaW5nIHRhc2tzICovXG4gIGNvdW50KCkge1xuICAgIHJldHVybiBwZW5kaW5nQ291bnQ7XG4gIH0sXG4gIC8qKiBXaGV0aGVyIHRoZXJlJ3MgYSByYWYgdXBkYXRlIGxvb3AgcnVubmluZyAqL1xuICBpc1J1bm5pbmcoKSB7XG4gICAgcmV0dXJuIHRzID49IDA7XG4gIH0sXG4gIC8qKiBDbGVhciBpbnRlcm5hbCBzdGF0ZS4gTmV2ZXIgY2FsbCBmcm9tIHVwZGF0ZSBsb29wISAqL1xuICBjbGVhcigpIHtcbiAgICB0cyA9IC0xO1xuICAgIHRpbWVvdXRzID0gW107XG4gICAgb25TdGFydFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgdXBkYXRlUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBvbkZyYW1lUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICB3cml0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgb25GaW5pc2hRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIHBlbmRpbmdDb3VudCA9IDA7XG4gIH1cbn07XG5leHBvcnQge1xuICBfX3JhZixcbiAgcmFmXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX3JhZnoubW9kZXJuLm1qcy5tYXAiLAogICAgInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG5cbi8vIHNyYy9nbG9iYWxzLnRzXG52YXIgZ2xvYmFsc19leHBvcnRzID0ge307XG5fX2V4cG9ydChnbG9iYWxzX2V4cG9ydHMsIHtcbiAgYXNzaWduOiAoKSA9PiBhc3NpZ24sXG4gIGNvbG9yczogKCkgPT4gY29sb3JzLFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3I6ICgpID0+IGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgc2tpcEFuaW1hdGlvbjogKCkgPT4gc2tpcEFuaW1hdGlvbixcbiAgdG86ICgpID0+IHRvLFxuICB3aWxsQWR2YW5jZTogKCkgPT4gd2lsbEFkdmFuY2Vcbn0pO1xuaW1wb3J0IHsgcmFmIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xuXG4vLyBzcmMvaGVscGVycy50c1xuZnVuY3Rpb24gbm9vcCgpIHtcbn1cbnZhciBkZWZpbmVIaWRkZW4gPSAob2JqLCBrZXksIHZhbHVlKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG52YXIgaXMgPSB7XG4gIGFycjogQXJyYXkuaXNBcnJheSxcbiAgb2JqOiAoYSkgPT4gISFhICYmIGEuY29uc3RydWN0b3IubmFtZSA9PT0gXCJPYmplY3RcIixcbiAgZnVuOiAoYSkgPT4gdHlwZW9mIGEgPT09IFwiZnVuY3Rpb25cIixcbiAgc3RyOiAoYSkgPT4gdHlwZW9mIGEgPT09IFwic3RyaW5nXCIsXG4gIG51bTogKGEpID0+IHR5cGVvZiBhID09PSBcIm51bWJlclwiLFxuICB1bmQ6IChhKSA9PiBhID09PSB2b2lkIDBcbn07XG5mdW5jdGlvbiBpc0VxdWFsKGEsIGIpIHtcbiAgaWYgKGlzLmFycihhKSkge1xuICAgIGlmICghaXMuYXJyKGIpIHx8IGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBhID09PSBiO1xufVxudmFyIGVhY2ggPSAob2JqLCBmbikgPT4gb2JqLmZvckVhY2goZm4pO1xuZnVuY3Rpb24gZWFjaFByb3Aob2JqLCBmbiwgY3R4KSB7XG4gIGlmIChpcy5hcnIob2JqKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKGN0eCwgb2JqW2ldLCBgJHtpfWApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBmbi5jYWxsKGN0eCwgb2JqW2tleV0sIGtleSk7XG4gICAgfVxuICB9XG59XG52YXIgdG9BcnJheSA9IChhKSA9PiBpcy51bmQoYSkgPyBbXSA6IGlzLmFycihhKSA/IGEgOiBbYV07XG5mdW5jdGlvbiBmbHVzaChxdWV1ZSwgaXRlcmF0b3IpIHtcbiAgaWYgKHF1ZXVlLnNpemUpIHtcbiAgICBjb25zdCBpdGVtcyA9IEFycmF5LmZyb20ocXVldWUpO1xuICAgIHF1ZXVlLmNsZWFyKCk7XG4gICAgZWFjaChpdGVtcywgaXRlcmF0b3IpO1xuICB9XG59XG52YXIgZmx1c2hDYWxscyA9IChxdWV1ZSwgLi4uYXJncykgPT4gZmx1c2gocXVldWUsIChmbikgPT4gZm4oLi4uYXJncykpO1xudmFyIGlzU1NSID0gKCkgPT4gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhd2luZG93Lm5hdmlnYXRvciB8fCAvU2VydmVyU2lkZVJlbmRlcmluZ3xeRGVub1xcLy8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG5cbi8vIHNyYy9nbG9iYWxzLnRzXG52YXIgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yO1xudmFyIHRvO1xudmFyIGNvbG9ycyA9IG51bGw7XG52YXIgc2tpcEFuaW1hdGlvbiA9IGZhbHNlO1xudmFyIHdpbGxBZHZhbmNlID0gbm9vcDtcbnZhciBhc3NpZ24gPSAoZ2xvYmFscykgPT4ge1xuICBpZiAoZ2xvYmFscy50bylcbiAgICB0byA9IGdsb2JhbHMudG87XG4gIGlmIChnbG9iYWxzLm5vdylcbiAgICByYWYubm93ID0gZ2xvYmFscy5ub3c7XG4gIGlmIChnbG9iYWxzLmNvbG9ycyAhPT0gdm9pZCAwKVxuICAgIGNvbG9ycyA9IGdsb2JhbHMuY29sb3JzO1xuICBpZiAoZ2xvYmFscy5za2lwQW5pbWF0aW9uICE9IG51bGwpXG4gICAgc2tpcEFuaW1hdGlvbiA9IGdsb2JhbHMuc2tpcEFuaW1hdGlvbjtcbiAgaWYgKGdsb2JhbHMuY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yKVxuICAgIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvciA9IGdsb2JhbHMuY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yO1xuICBpZiAoZ2xvYmFscy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgcmFmLnVzZShnbG9iYWxzLnJlcXVlc3RBbmltYXRpb25GcmFtZSk7XG4gIGlmIChnbG9iYWxzLmJhdGNoZWRVcGRhdGVzKVxuICAgIHJhZi5iYXRjaGVkVXBkYXRlcyA9IGdsb2JhbHMuYmF0Y2hlZFVwZGF0ZXM7XG4gIGlmIChnbG9iYWxzLndpbGxBZHZhbmNlKVxuICAgIHdpbGxBZHZhbmNlID0gZ2xvYmFscy53aWxsQWR2YW5jZTtcbiAgaWYgKGdsb2JhbHMuZnJhbWVMb29wKVxuICAgIHJhZi5mcmFtZUxvb3AgPSBnbG9iYWxzLmZyYW1lTG9vcDtcbn07XG5cbi8vIHNyYy9GcmFtZUxvb3AudHNcbmltcG9ydCB7IHJhZiBhcyByYWYyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xudmFyIHN0YXJ0UXVldWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIGN1cnJlbnRGcmFtZSA9IFtdO1xudmFyIHByZXZGcmFtZSA9IFtdO1xudmFyIHByaW9yaXR5ID0gMDtcbnZhciBmcmFtZUxvb3AgPSB7XG4gIGdldCBpZGxlKCkge1xuICAgIHJldHVybiAhc3RhcnRRdWV1ZS5zaXplICYmICFjdXJyZW50RnJhbWUubGVuZ3RoO1xuICB9LFxuICAvKiogQWR2YW5jZSB0aGUgZ2l2ZW4gYW5pbWF0aW9uIG9uIGV2ZXJ5IGZyYW1lIHVudGlsIGlkbGUuICovXG4gIHN0YXJ0KGFuaW1hdGlvbikge1xuICAgIGlmIChwcmlvcml0eSA+IGFuaW1hdGlvbi5wcmlvcml0eSkge1xuICAgICAgc3RhcnRRdWV1ZS5hZGQoYW5pbWF0aW9uKTtcbiAgICAgIHJhZjIub25TdGFydChmbHVzaFN0YXJ0UXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydFNhZmVseShhbmltYXRpb24pO1xuICAgICAgcmFmMihhZHZhbmNlKTtcbiAgICB9XG4gIH0sXG4gIC8qKiBBZHZhbmNlIGFsbCBhbmltYXRpb25zIGJ5IHRoZSBnaXZlbiB0aW1lLiAqL1xuICBhZHZhbmNlLFxuICAvKiogQ2FsbCB0aGlzIHdoZW4gYW4gYW5pbWF0aW9uJ3MgcHJpb3JpdHkgY2hhbmdlcy4gKi9cbiAgc29ydChhbmltYXRpb24pIHtcbiAgICBpZiAocHJpb3JpdHkpIHtcbiAgICAgIHJhZjIub25GcmFtZSgoKSA9PiBmcmFtZUxvb3Auc29ydChhbmltYXRpb24pKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJldkluZGV4ID0gY3VycmVudEZyYW1lLmluZGV4T2YoYW5pbWF0aW9uKTtcbiAgICAgIGlmICh+cHJldkluZGV4KSB7XG4gICAgICAgIGN1cnJlbnRGcmFtZS5zcGxpY2UocHJldkluZGV4LCAxKTtcbiAgICAgICAgc3RhcnRVbnNhZmVseShhbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIENsZWFyIGFsbCBhbmltYXRpb25zLiBGb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICpcbiAgICog4pig77iPIE5ldmVyIGNhbGwgdGhpcyBmcm9tIHdpdGhpbiB0aGUgZnJhbWVsb29wLlxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgY3VycmVudEZyYW1lID0gW107XG4gICAgc3RhcnRRdWV1ZS5jbGVhcigpO1xuICB9XG59O1xuZnVuY3Rpb24gZmx1c2hTdGFydFF1ZXVlKCkge1xuICBzdGFydFF1ZXVlLmZvckVhY2goc3RhcnRTYWZlbHkpO1xuICBzdGFydFF1ZXVlLmNsZWFyKCk7XG4gIHJhZjIoYWR2YW5jZSk7XG59XG5mdW5jdGlvbiBzdGFydFNhZmVseShhbmltYXRpb24pIHtcbiAgaWYgKCFjdXJyZW50RnJhbWUuaW5jbHVkZXMoYW5pbWF0aW9uKSlcbiAgICBzdGFydFVuc2FmZWx5KGFuaW1hdGlvbik7XG59XG5mdW5jdGlvbiBzdGFydFVuc2FmZWx5KGFuaW1hdGlvbikge1xuICBjdXJyZW50RnJhbWUuc3BsaWNlKFxuICAgIGZpbmRJbmRleChjdXJyZW50RnJhbWUsIChvdGhlcikgPT4gb3RoZXIucHJpb3JpdHkgPiBhbmltYXRpb24ucHJpb3JpdHkpLFxuICAgIDAsXG4gICAgYW5pbWF0aW9uXG4gICk7XG59XG5mdW5jdGlvbiBhZHZhbmNlKGR0KSB7XG4gIGNvbnN0IG5leHRGcmFtZSA9IHByZXZGcmFtZTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50RnJhbWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhbmltYXRpb24gPSBjdXJyZW50RnJhbWVbaV07XG4gICAgcHJpb3JpdHkgPSBhbmltYXRpb24ucHJpb3JpdHk7XG4gICAgaWYgKCFhbmltYXRpb24uaWRsZSkge1xuICAgICAgd2lsbEFkdmFuY2UoYW5pbWF0aW9uKTtcbiAgICAgIGFuaW1hdGlvbi5hZHZhbmNlKGR0KTtcbiAgICAgIGlmICghYW5pbWF0aW9uLmlkbGUpIHtcbiAgICAgICAgbmV4dEZyYW1lLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJpb3JpdHkgPSAwO1xuICBwcmV2RnJhbWUgPSBjdXJyZW50RnJhbWU7XG4gIHByZXZGcmFtZS5sZW5ndGggPSAwO1xuICBjdXJyZW50RnJhbWUgPSBuZXh0RnJhbWU7XG4gIHJldHVybiBjdXJyZW50RnJhbWUubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIGZpbmRJbmRleChhcnIsIHRlc3QpIHtcbiAgY29uc3QgaW5kZXggPSBhcnIuZmluZEluZGV4KHRlc3QpO1xuICByZXR1cm4gaW5kZXggPCAwID8gYXJyLmxlbmd0aCA6IGluZGV4O1xufVxuXG4vLyBzcmMvY2xhbXAudHNcbnZhciBjbGFtcCA9IChtaW4sIG1heCwgdikgPT4gTWF0aC5taW4oTWF0aC5tYXgodiwgbWluKSwgbWF4KTtcblxuLy8gc3JjL2NvbG9ycy50c1xudmFyIGNvbG9yczIgPSB7XG4gIHRyYW5zcGFyZW50OiAwLFxuICBhbGljZWJsdWU6IDQwNDI4NTAzMDMsXG4gIGFudGlxdWV3aGl0ZTogNDIwOTc2MDI1NSxcbiAgYXF1YTogMTY3NzcyMTUsXG4gIGFxdWFtYXJpbmU6IDIxNDc0NzI2MzksXG4gIGF6dXJlOiA0MDQzMzA5MDU1LFxuICBiZWlnZTogNDEyNjUzMDgxNSxcbiAgYmlzcXVlOiA0MjkzMTgyNzE5LFxuICBibGFjazogMjU1LFxuICBibGFuY2hlZGFsbW9uZDogNDI5MzY0Mzc3NSxcbiAgYmx1ZTogNjU1MzUsXG4gIGJsdWV2aW9sZXQ6IDIzMTgxMzE5NjcsXG4gIGJyb3duOiAyNzcxMDA0MTU5LFxuICBidXJseXdvb2Q6IDM3MzY2MzUzOTEsXG4gIGJ1cm50c2llbm5hOiAzOTM0MTUwMTQzLFxuICBjYWRldGJsdWU6IDE2MDQyMzE0MjMsXG4gIGNoYXJ0cmV1c2U6IDIxNDc0MTgzNjcsXG4gIGNob2NvbGF0ZTogMzUzMDEwNDU3NSxcbiAgY29yYWw6IDQyODY1MzM4ODcsXG4gIGNvcm5mbG93ZXJibHVlOiAxNjg3NTQ3MzkxLFxuICBjb3Juc2lsazogNDI5NDQ5OTU4MyxcbiAgY3JpbXNvbjogMzY5MjMxMzg1NSxcbiAgY3lhbjogMTY3NzcyMTUsXG4gIGRhcmtibHVlOiAzNTgzOSxcbiAgZGFya2N5YW46IDkxNDUzNDMsXG4gIGRhcmtnb2xkZW5yb2Q6IDMwOTU3OTI2MzksXG4gIGRhcmtncmF5OiAyODQ2NDY4NjA3LFxuICBkYXJrZ3JlZW46IDY1NTM4NTUsXG4gIGRhcmtncmV5OiAyODQ2NDY4NjA3LFxuICBkYXJra2hha2k6IDMxODI5MTQ1NTksXG4gIGRhcmttYWdlbnRhOiAyMzMyMDY4ODYzLFxuICBkYXJrb2xpdmVncmVlbjogMTQzMzA4Nzk5OSxcbiAgZGFya29yYW5nZTogNDI4NzM2NTM3NSxcbiAgZGFya29yY2hpZDogMjU3MDI0MzMyNyxcbiAgZGFya3JlZDogMjMzMjAzMzI3OSxcbiAgZGFya3NhbG1vbjogMzkxODk1MzIxNSxcbiAgZGFya3NlYWdyZWVuOiAyNDExNDk5NTE5LFxuICBkYXJrc2xhdGVibHVlOiAxMjExOTkzMDg3LFxuICBkYXJrc2xhdGVncmF5OiA3OTM3MjY5NzUsXG4gIGRhcmtzbGF0ZWdyZXk6IDc5MzcyNjk3NSxcbiAgZGFya3R1cnF1b2lzZTogMTM1NTQxNzUsXG4gIGRhcmt2aW9sZXQ6IDI0ODMwODIyMzksXG4gIGRlZXBwaW5rOiA0Mjc5NTM4Njg3LFxuICBkZWVwc2t5Ymx1ZTogMTI1ODI5MTEsXG4gIGRpbWdyYXk6IDE3Njg1MTYwOTUsXG4gIGRpbWdyZXk6IDE3Njg1MTYwOTUsXG4gIGRvZGdlcmJsdWU6IDUxMjgxOTE5OSxcbiAgZmlyZWJyaWNrOiAyOTg4NTgxNjMxLFxuICBmbG9yYWx3aGl0ZTogNDI5NDYzNTc3NSxcbiAgZm9yZXN0Z3JlZW46IDU3OTU0MzgwNyxcbiAgZnVjaHNpYTogNDI3ODI1NTYxNSxcbiAgZ2FpbnNib3JvOiAzNzA1NDYyMDE1LFxuICBnaG9zdHdoaXRlOiA0MTc3MDY4MDMxLFxuICBnb2xkOiA0MjkyMjgwNTc1LFxuICBnb2xkZW5yb2Q6IDM2NjgyNTQ5NzUsXG4gIGdyYXk6IDIxNTU5MDUyNzksXG4gIGdyZWVuOiA4Mzg4ODYzLFxuICBncmVlbnllbGxvdzogMjkxOTE4MjMzNSxcbiAgZ3JleTogMjE1NTkwNTI3OSxcbiAgaG9uZXlkZXc6IDQwNDMzMDUyMTUsXG4gIGhvdHBpbms6IDQyODUxMTc2OTUsXG4gIGluZGlhbnJlZDogMzQ0NTM4MjM5OSxcbiAgaW5kaWdvOiAxMjU4MzI0NzM1LFxuICBpdm9yeTogNDI5NDk2MzQ1NSxcbiAga2hha2k6IDQwNDE2NDEyMTUsXG4gIGxhdmVuZGVyOiAzODczODk3MjE1LFxuICBsYXZlbmRlcmJsdXNoOiA0MjkzOTgxNjk1LFxuICBsYXduZ3JlZW46IDIwOTY4OTAxMTEsXG4gIGxlbW9uY2hpZmZvbjogNDI5NDYyNjgxNSxcbiAgbGlnaHRibHVlOiAyOTE2NjczMjc5LFxuICBsaWdodGNvcmFsOiA0MDM0OTUzNDcxLFxuICBsaWdodGN5YW46IDM3NzQ4NzM1OTksXG4gIGxpZ2h0Z29sZGVucm9keWVsbG93OiA0MjEwNzQyMDE1LFxuICBsaWdodGdyYXk6IDM1NTM4NzQ5NDMsXG4gIGxpZ2h0Z3JlZW46IDI0MzE1NTM3OTEsXG4gIGxpZ2h0Z3JleTogMzU1Mzg3NDk0MyxcbiAgbGlnaHRwaW5rOiA0MjkwMTY3Mjk1LFxuICBsaWdodHNhbG1vbjogNDI4ODcwNzMyNyxcbiAgbGlnaHRzZWFncmVlbjogNTQ4NTgwMDk1LFxuICBsaWdodHNreWJsdWU6IDIyNzg0ODg4MzEsXG4gIGxpZ2h0c2xhdGVncmF5OiAyMDA1NDQxMDIzLFxuICBsaWdodHNsYXRlZ3JleTogMjAwNTQ0MTAyMyxcbiAgbGlnaHRzdGVlbGJsdWU6IDI5NjU2OTIxNTksXG4gIGxpZ2h0eWVsbG93OiA0Mjk0OTU5MzU5LFxuICBsaW1lOiAxNjcxMTkzNSxcbiAgbGltZWdyZWVuOiA4NTIzMDg3MzUsXG4gIGxpbmVuOiA0MjEwMDkxNzc1LFxuICBtYWdlbnRhOiA0Mjc4MjU1NjE1LFxuICBtYXJvb246IDIxNDc0ODM5MDMsXG4gIG1lZGl1bWFxdWFtYXJpbmU6IDE3MjQ3NTQ2ODcsXG4gIG1lZGl1bWJsdWU6IDUyNzM1LFxuICBtZWRpdW1vcmNoaWQ6IDMxMjYxODcwMDcsXG4gIG1lZGl1bXB1cnBsZTogMjQ3MzY0NzEwMyxcbiAgbWVkaXVtc2VhZ3JlZW46IDEwMTgzOTMwODcsXG4gIG1lZGl1bXNsYXRlYmx1ZTogMjA3MDQ3NDQ5NSxcbiAgbWVkaXVtc3ByaW5nZ3JlZW46IDE2NDIzNjc5LFxuICBtZWRpdW10dXJxdW9pc2U6IDEyMjE3MDkwNTUsXG4gIG1lZGl1bXZpb2xldHJlZDogMzM0MDA3NjU0MyxcbiAgbWlkbmlnaHRibHVlOiA0MjEwOTc3MjcsXG4gIG1pbnRjcmVhbTogNDEyNzE5Mzg1NSxcbiAgbWlzdHlyb3NlOiA0MjkzMTkwMTQzLFxuICBtb2NjYXNpbjogNDI5MzE3ODg3OSxcbiAgbmF2YWpvd2hpdGU6IDQyOTI3ODM2MTUsXG4gIG5hdnk6IDMzMDIzLFxuICBvbGRsYWNlOiA0MjYwNzUxMTAzLFxuICBvbGl2ZTogMjE1NTg3MjUxMSxcbiAgb2xpdmVkcmFiOiAxODA0NDc3NDM5LFxuICBvcmFuZ2U6IDQyODkwMDM3NzUsXG4gIG9yYW5nZXJlZDogNDI4MjcxMjMxOSxcbiAgb3JjaGlkOiAzNjY0ODI4MTU5LFxuICBwYWxlZ29sZGVucm9kOiA0MDA4MjI1NTM1LFxuICBwYWxlZ3JlZW46IDI1NjY2MjU1MzUsXG4gIHBhbGV0dXJxdW9pc2U6IDI5NTE2NzE1NTEsXG4gIHBhbGV2aW9sZXRyZWQ6IDM2ODE1ODgyMjMsXG4gIHBhcGF5YXdoaXA6IDQyOTM5MDc5NjcsXG4gIHBlYWNocHVmZjogNDI5MjUyNDU0MyxcbiAgcGVydTogMzQ0ODA2MTk1MSxcbiAgcGluazogNDI5MDgyNTIxNSxcbiAgcGx1bTogMzcxODMwNzMyNyxcbiAgcG93ZGVyYmx1ZTogMjk2NzUyOTIxNSxcbiAgcHVycGxlOiAyMTQ3NTE2NjcxLFxuICByZWJlY2NhcHVycGxlOiAxNzE0NjU3NzkxLFxuICByZWQ6IDQyNzgxOTAzMzUsXG4gIHJvc3licm93bjogMzE2MzUyNTExOSxcbiAgcm95YWxibHVlOiAxMDk3NDU4MTc1LFxuICBzYWRkbGVicm93bjogMjMzNjU2MDEyNyxcbiAgc2FsbW9uOiA0MjAyNzIyMDQ3LFxuICBzYW5keWJyb3duOiA0MTA0NDEzNDM5LFxuICBzZWFncmVlbjogNzgwODgzOTY3LFxuICBzZWFzaGVsbDogNDI5NDMwNzU4MyxcbiAgc2llbm5hOiAyNjg5NzQwMjg3LFxuICBzaWx2ZXI6IDMyMzM4NTc3OTEsXG4gIHNreWJsdWU6IDIyNzg0ODQ5OTEsXG4gIHNsYXRlYmx1ZTogMTc4NDMzNTg3MSxcbiAgc2xhdGVncmF5OiAxODg3NDczOTE5LFxuICBzbGF0ZWdyZXk6IDE4ODc0NzM5MTksXG4gIHNub3c6IDQyOTQ2MzgzMzUsXG4gIHNwcmluZ2dyZWVuOiAxNjc0NDQ0NyxcbiAgc3RlZWxibHVlOiAxMTgyOTcxMTM1LFxuICB0YW46IDM1MzUwNDc5MzUsXG4gIHRlYWw6IDg0MjE2MzEsXG4gIHRoaXN0bGU6IDM2MzY0NTE1ODMsXG4gIHRvbWF0bzogNDI4NDY5NjU3NSxcbiAgdHVycXVvaXNlOiAxMDg4NDc1MzkxLFxuICB2aW9sZXQ6IDQwMDE1NTgyNzEsXG4gIHdoZWF0OiA0MTI1MDEyOTkxLFxuICB3aGl0ZTogNDI5NDk2NzI5NSxcbiAgd2hpdGVzbW9rZTogNDEyNjUzNzIxNSxcbiAgeWVsbG93OiA0Mjk0OTAyMDE1LFxuICB5ZWxsb3dncmVlbjogMjU5NzEzOTE5OVxufTtcblxuLy8gc3JjL2NvbG9yTWF0Y2hlcnMudHNcbnZhciBOVU1CRVIgPSBcIlstK10/XFxcXGQqXFxcXC4/XFxcXGQrXCI7XG52YXIgUEVSQ0VOVEFHRSA9IE5VTUJFUiArIFwiJVwiO1xuZnVuY3Rpb24gY2FsbCguLi5wYXJ0cykge1xuICByZXR1cm4gXCJcXFxcKFxcXFxzKihcIiArIHBhcnRzLmpvaW4oXCIpXFxcXHMqLFxcXFxzKihcIikgKyBcIilcXFxccypcXFxcKVwiO1xufVxudmFyIHJnYiA9IG5ldyBSZWdFeHAoXCJyZ2JcIiArIGNhbGwoTlVNQkVSLCBOVU1CRVIsIE5VTUJFUikpO1xudmFyIHJnYmEgPSBuZXcgUmVnRXhwKFwicmdiYVwiICsgY2FsbChOVU1CRVIsIE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIpKTtcbnZhciBoc2wgPSBuZXcgUmVnRXhwKFwiaHNsXCIgKyBjYWxsKE5VTUJFUiwgUEVSQ0VOVEFHRSwgUEVSQ0VOVEFHRSkpO1xudmFyIGhzbGEgPSBuZXcgUmVnRXhwKFxuICBcImhzbGFcIiArIGNhbGwoTlVNQkVSLCBQRVJDRU5UQUdFLCBQRVJDRU5UQUdFLCBOVU1CRVIpXG4pO1xudmFyIGhleDMgPSAvXiMoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLztcbnZhciBoZXg0ID0gL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvO1xudmFyIGhleDYgPSAvXiMoWzAtOWEtZkEtRl17Nn0pJC87XG52YXIgaGV4OCA9IC9eIyhbMC05YS1mQS1GXXs4fSkkLztcblxuLy8gc3JjL25vcm1hbGl6ZUNvbG9yLnRzXG5mdW5jdGlvbiBub3JtYWxpemVDb2xvcihjb2xvcikge1xuICBsZXQgbWF0Y2g7XG4gIGlmICh0eXBlb2YgY29sb3IgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gY29sb3IgPj4+IDAgPT09IGNvbG9yICYmIGNvbG9yID49IDAgJiYgY29sb3IgPD0gNDI5NDk2NzI5NSA/IGNvbG9yIDogbnVsbDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoZXg2LmV4ZWMoY29sb3IpKVxuICAgIHJldHVybiBwYXJzZUludChtYXRjaFsxXSArIFwiZmZcIiwgMTYpID4+PiAwO1xuICBpZiAoY29sb3JzICYmIGNvbG9yc1tjb2xvcl0gIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBjb2xvcnNbY29sb3JdO1xuICB9XG4gIGlmIChtYXRjaCA9IHJnYi5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAocGFyc2UyNTUobWF0Y2hbMV0pIDw8IDI0IHwgLy8gclxuICAgIHBhcnNlMjU1KG1hdGNoWzJdKSA8PCAxNiB8IC8vIGdcbiAgICBwYXJzZTI1NShtYXRjaFszXSkgPDwgOCB8IC8vIGJcbiAgICAyNTUpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICBpZiAobWF0Y2ggPSByZ2JhLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChwYXJzZTI1NShtYXRjaFsxXSkgPDwgMjQgfCAvLyByXG4gICAgcGFyc2UyNTUobWF0Y2hbMl0pIDw8IDE2IHwgLy8gZ1xuICAgIHBhcnNlMjU1KG1hdGNoWzNdKSA8PCA4IHwgLy8gYlxuICAgIHBhcnNlMShtYXRjaFs0XSkpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoZXgzLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgbWF0Y2hbMV0gKyBtYXRjaFsxXSArIC8vIHJcbiAgICAgIG1hdGNoWzJdICsgbWF0Y2hbMl0gKyAvLyBnXG4gICAgICBtYXRjaFszXSArIG1hdGNoWzNdICsgLy8gYlxuICAgICAgXCJmZlwiLFxuICAgICAgLy8gYVxuICAgICAgMTZcbiAgICApID4+PiAwO1xuICB9XG4gIGlmIChtYXRjaCA9IGhleDguZXhlYyhjb2xvcikpXG4gICAgcmV0dXJuIHBhcnNlSW50KG1hdGNoWzFdLCAxNikgPj4+IDA7XG4gIGlmIChtYXRjaCA9IGhleDQuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoXG4gICAgICBtYXRjaFsxXSArIG1hdGNoWzFdICsgLy8gclxuICAgICAgbWF0Y2hbMl0gKyBtYXRjaFsyXSArIC8vIGdcbiAgICAgIG1hdGNoWzNdICsgbWF0Y2hbM10gKyAvLyBiXG4gICAgICBtYXRjaFs0XSArIG1hdGNoWzRdLFxuICAgICAgLy8gYVxuICAgICAgMTZcbiAgICApID4+PiAwO1xuICB9XG4gIGlmIChtYXRjaCA9IGhzbC5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAoaHNsVG9SZ2IoXG4gICAgICBwYXJzZTM2MChtYXRjaFsxXSksXG4gICAgICAvLyBoXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbMl0pLFxuICAgICAgLy8gc1xuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzNdKVxuICAgICAgLy8gbFxuICAgICkgfCAyNTUpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoc2xhLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChoc2xUb1JnYihcbiAgICAgIHBhcnNlMzYwKG1hdGNoWzFdKSxcbiAgICAgIC8vIGhcbiAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFsyXSksXG4gICAgICAvLyBzXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbM10pXG4gICAgICAvLyBsXG4gICAgKSB8IHBhcnNlMShtYXRjaFs0XSkpID4+PiAvLyBhXG4gICAgMDtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGh1ZTJyZ2IocCwgcSwgdCkge1xuICBpZiAodCA8IDApXG4gICAgdCArPSAxO1xuICBpZiAodCA+IDEpXG4gICAgdCAtPSAxO1xuICBpZiAodCA8IDEgLyA2KVxuICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICBpZiAodCA8IDEgLyAyKVxuICAgIHJldHVybiBxO1xuICBpZiAodCA8IDIgLyAzKVxuICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgcmV0dXJuIHA7XG59XG5mdW5jdGlvbiBoc2xUb1JnYihoLCBzLCBsKSB7XG4gIGNvbnN0IHEgPSBsIDwgMC41ID8gbCAqICgxICsgcykgOiBsICsgcyAtIGwgKiBzO1xuICBjb25zdCBwID0gMiAqIGwgLSBxO1xuICBjb25zdCByID0gaHVlMnJnYihwLCBxLCBoICsgMSAvIDMpO1xuICBjb25zdCBnID0gaHVlMnJnYihwLCBxLCBoKTtcbiAgY29uc3QgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcbiAgcmV0dXJuIE1hdGgucm91bmQociAqIDI1NSkgPDwgMjQgfCBNYXRoLnJvdW5kKGcgKiAyNTUpIDw8IDE2IHwgTWF0aC5yb3VuZChiICogMjU1KSA8PCA4O1xufVxuZnVuY3Rpb24gcGFyc2UyNTUoc3RyKSB7XG4gIGNvbnN0IGludCA9IHBhcnNlSW50KHN0ciwgMTApO1xuICBpZiAoaW50IDwgMClcbiAgICByZXR1cm4gMDtcbiAgaWYgKGludCA+IDI1NSlcbiAgICByZXR1cm4gMjU1O1xuICByZXR1cm4gaW50O1xufVxuZnVuY3Rpb24gcGFyc2UzNjAoc3RyKSB7XG4gIGNvbnN0IGludCA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgcmV0dXJuIChpbnQgJSAzNjAgKyAzNjApICUgMzYwIC8gMzYwO1xufVxuZnVuY3Rpb24gcGFyc2UxKHN0cikge1xuICBjb25zdCBudW0gPSBwYXJzZUZsb2F0KHN0cik7XG4gIGlmIChudW0gPCAwKVxuICAgIHJldHVybiAwO1xuICBpZiAobnVtID4gMSlcbiAgICByZXR1cm4gMjU1O1xuICByZXR1cm4gTWF0aC5yb3VuZChudW0gKiAyNTUpO1xufVxuZnVuY3Rpb24gcGFyc2VQZXJjZW50YWdlKHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIGlmIChpbnQgPCAwKVxuICAgIHJldHVybiAwO1xuICBpZiAoaW50ID4gMTAwKVxuICAgIHJldHVybiAxO1xuICByZXR1cm4gaW50IC8gMTAwO1xufVxuXG4vLyBzcmMvY29sb3JUb1JnYmEudHNcbmZ1bmN0aW9uIGNvbG9yVG9SZ2JhKGlucHV0KSB7XG4gIGxldCBpbnQzMkNvbG9yID0gbm9ybWFsaXplQ29sb3IoaW5wdXQpO1xuICBpZiAoaW50MzJDb2xvciA9PT0gbnVsbClcbiAgICByZXR1cm4gaW5wdXQ7XG4gIGludDMyQ29sb3IgPSBpbnQzMkNvbG9yIHx8IDA7XG4gIGNvbnN0IHIgPSAoaW50MzJDb2xvciAmIDQyNzgxOTAwODApID4+PiAyNDtcbiAgY29uc3QgZyA9IChpbnQzMkNvbG9yICYgMTY3MTE2ODApID4+PiAxNjtcbiAgY29uc3QgYiA9IChpbnQzMkNvbG9yICYgNjUyODApID4+PiA4O1xuICBjb25zdCBhID0gKGludDMyQ29sb3IgJiAyNTUpIC8gMjU1O1xuICByZXR1cm4gYHJnYmEoJHtyfSwgJHtnfSwgJHtifSwgJHthfSlgO1xufVxuXG4vLyBzcmMvY3JlYXRlSW50ZXJwb2xhdG9yLnRzXG52YXIgY3JlYXRlSW50ZXJwb2xhdG9yID0gKHJhbmdlLCBvdXRwdXQsIGV4dHJhcG9sYXRlKSA9PiB7XG4gIGlmIChpcy5mdW4ocmFuZ2UpKSB7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG4gIGlmIChpcy5hcnIocmFuZ2UpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUludGVycG9sYXRvcih7XG4gICAgICByYW5nZSxcbiAgICAgIG91dHB1dCxcbiAgICAgIGV4dHJhcG9sYXRlXG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzLnN0cihyYW5nZS5vdXRwdXRbMF0pKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcihyYW5nZSk7XG4gIH1cbiAgY29uc3QgY29uZmlnID0gcmFuZ2U7XG4gIGNvbnN0IG91dHB1dFJhbmdlID0gY29uZmlnLm91dHB1dDtcbiAgY29uc3QgaW5wdXRSYW5nZSA9IGNvbmZpZy5yYW5nZSB8fCBbMCwgMV07XG4gIGNvbnN0IGV4dHJhcG9sYXRlTGVmdCA9IGNvbmZpZy5leHRyYXBvbGF0ZUxlZnQgfHwgY29uZmlnLmV4dHJhcG9sYXRlIHx8IFwiZXh0ZW5kXCI7XG4gIGNvbnN0IGV4dHJhcG9sYXRlUmlnaHQgPSBjb25maWcuZXh0cmFwb2xhdGVSaWdodCB8fCBjb25maWcuZXh0cmFwb2xhdGUgfHwgXCJleHRlbmRcIjtcbiAgY29uc3QgZWFzaW5nID0gY29uZmlnLmVhc2luZyB8fCAoKHQpID0+IHQpO1xuICByZXR1cm4gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgcmFuZ2UyID0gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKTtcbiAgICByZXR1cm4gaW50ZXJwb2xhdGUoXG4gICAgICBpbnB1dCxcbiAgICAgIGlucHV0UmFuZ2VbcmFuZ2UyXSxcbiAgICAgIGlucHV0UmFuZ2VbcmFuZ2UyICsgMV0sXG4gICAgICBvdXRwdXRSYW5nZVtyYW5nZTJdLFxuICAgICAgb3V0cHV0UmFuZ2VbcmFuZ2UyICsgMV0sXG4gICAgICBlYXNpbmcsXG4gICAgICBleHRyYXBvbGF0ZUxlZnQsXG4gICAgICBleHRyYXBvbGF0ZVJpZ2h0LFxuICAgICAgY29uZmlnLm1hcFxuICAgICk7XG4gIH07XG59O1xuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIGlucHV0TWluLCBpbnB1dE1heCwgb3V0cHV0TWluLCBvdXRwdXRNYXgsIGVhc2luZywgZXh0cmFwb2xhdGVMZWZ0LCBleHRyYXBvbGF0ZVJpZ2h0LCBtYXApIHtcbiAgbGV0IHJlc3VsdCA9IG1hcCA/IG1hcChpbnB1dCkgOiBpbnB1dDtcbiAgaWYgKHJlc3VsdCA8IGlucHV0TWluKSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlTGVmdCA9PT0gXCJpZGVudGl0eVwiKVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBlbHNlIGlmIChleHRyYXBvbGF0ZUxlZnQgPT09IFwiY2xhbXBcIilcbiAgICAgIHJlc3VsdCA9IGlucHV0TWluO1xuICB9XG4gIGlmIChyZXN1bHQgPiBpbnB1dE1heCkge1xuICAgIGlmIChleHRyYXBvbGF0ZVJpZ2h0ID09PSBcImlkZW50aXR5XCIpXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGVsc2UgaWYgKGV4dHJhcG9sYXRlUmlnaHQgPT09IFwiY2xhbXBcIilcbiAgICAgIHJlc3VsdCA9IGlucHV0TWF4O1xuICB9XG4gIGlmIChvdXRwdXRNaW4gPT09IG91dHB1dE1heClcbiAgICByZXR1cm4gb3V0cHV0TWluO1xuICBpZiAoaW5wdXRNaW4gPT09IGlucHV0TWF4KVxuICAgIHJldHVybiBpbnB1dCA8PSBpbnB1dE1pbiA/IG91dHB1dE1pbiA6IG91dHB1dE1heDtcbiAgaWYgKGlucHV0TWluID09PSAtSW5maW5pdHkpXG4gICAgcmVzdWx0ID0gLXJlc3VsdDtcbiAgZWxzZSBpZiAoaW5wdXRNYXggPT09IEluZmluaXR5KVxuICAgIHJlc3VsdCA9IHJlc3VsdCAtIGlucHV0TWluO1xuICBlbHNlXG4gICAgcmVzdWx0ID0gKHJlc3VsdCAtIGlucHV0TWluKSAvIChpbnB1dE1heCAtIGlucHV0TWluKTtcbiAgcmVzdWx0ID0gZWFzaW5nKHJlc3VsdCk7XG4gIGlmIChvdXRwdXRNaW4gPT09IC1JbmZpbml0eSlcbiAgICByZXN1bHQgPSAtcmVzdWx0O1xuICBlbHNlIGlmIChvdXRwdXRNYXggPT09IEluZmluaXR5KVxuICAgIHJlc3VsdCA9IHJlc3VsdCArIG91dHB1dE1pbjtcbiAgZWxzZVxuICAgIHJlc3VsdCA9IHJlc3VsdCAqIChvdXRwdXRNYXggLSBvdXRwdXRNaW4pICsgb3V0cHV0TWluO1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgaW5wdXRSYW5nZS5sZW5ndGggLSAxOyArK2kpXG4gICAgaWYgKGlucHV0UmFuZ2VbaV0gPj0gaW5wdXQpXG4gICAgICBicmVhaztcbiAgcmV0dXJuIGkgLSAxO1xufVxuXG4vLyBzcmMvZWFzaW5ncy50c1xudmFyIHN0ZXBzID0gKHN0ZXBzMiwgZGlyZWN0aW9uID0gXCJlbmRcIikgPT4gKHByb2dyZXNzMikgPT4ge1xuICBwcm9ncmVzczIgPSBkaXJlY3Rpb24gPT09IFwiZW5kXCIgPyBNYXRoLm1pbihwcm9ncmVzczIsIDAuOTk5KSA6IE1hdGgubWF4KHByb2dyZXNzMiwgMWUtMyk7XG4gIGNvbnN0IGV4cGFuZGVkID0gcHJvZ3Jlc3MyICogc3RlcHMyO1xuICBjb25zdCByb3VuZGVkID0gZGlyZWN0aW9uID09PSBcImVuZFwiID8gTWF0aC5mbG9vcihleHBhbmRlZCkgOiBNYXRoLmNlaWwoZXhwYW5kZWQpO1xuICByZXR1cm4gY2xhbXAoMCwgMSwgcm91bmRlZCAvIHN0ZXBzMik7XG59O1xudmFyIGMxID0gMS43MDE1ODtcbnZhciBjMiA9IGMxICogMS41MjU7XG52YXIgYzMgPSBjMSArIDE7XG52YXIgYzQgPSAyICogTWF0aC5QSSAvIDM7XG52YXIgYzUgPSAyICogTWF0aC5QSSAvIDQuNTtcbnZhciBib3VuY2VPdXQgPSAoeCkgPT4ge1xuICBjb25zdCBuMSA9IDcuNTYyNTtcbiAgY29uc3QgZDEgPSAyLjc1O1xuICBpZiAoeCA8IDEgLyBkMSkge1xuICAgIHJldHVybiBuMSAqIHggKiB4O1xuICB9IGVsc2UgaWYgKHggPCAyIC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiAoeCAtPSAxLjUgLyBkMSkgKiB4ICsgMC43NTtcbiAgfSBlbHNlIGlmICh4IDwgMi41IC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiAoeCAtPSAyLjI1IC8gZDEpICogeCArIDAuOTM3NTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbjEgKiAoeCAtPSAyLjYyNSAvIGQxKSAqIHggKyAwLjk4NDM3NTtcbiAgfVxufTtcbnZhciBlYXNpbmdzID0ge1xuICBsaW5lYXI6ICh4KSA9PiB4LFxuICBlYXNlSW5RdWFkOiAoeCkgPT4geCAqIHgsXG4gIGVhc2VPdXRRdWFkOiAoeCkgPT4gMSAtICgxIC0geCkgKiAoMSAtIHgpLFxuICBlYXNlSW5PdXRRdWFkOiAoeCkgPT4geCA8IDAuNSA/IDIgKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAyKSAvIDIsXG4gIGVhc2VJbkN1YmljOiAoeCkgPT4geCAqIHggKiB4LFxuICBlYXNlT3V0Q3ViaWM6ICh4KSA9PiAxIC0gTWF0aC5wb3coMSAtIHgsIDMpLFxuICBlYXNlSW5PdXRDdWJpYzogKHgpID0+IHggPCAwLjUgPyA0ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDMpIC8gMixcbiAgZWFzZUluUXVhcnQ6ICh4KSA9PiB4ICogeCAqIHggKiB4LFxuICBlYXNlT3V0UXVhcnQ6ICh4KSA9PiAxIC0gTWF0aC5wb3coMSAtIHgsIDQpLFxuICBlYXNlSW5PdXRRdWFydDogKHgpID0+IHggPCAwLjUgPyA4ICogeCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCA0KSAvIDIsXG4gIGVhc2VJblF1aW50OiAoeCkgPT4geCAqIHggKiB4ICogeCAqIHgsXG4gIGVhc2VPdXRRdWludDogKHgpID0+IDEgLSBNYXRoLnBvdygxIC0geCwgNSksXG4gIGVhc2VJbk91dFF1aW50OiAoeCkgPT4geCA8IDAuNSA/IDE2ICogeCAqIHggKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgNSkgLyAyLFxuICBlYXNlSW5TaW5lOiAoeCkgPT4gMSAtIE1hdGguY29zKHggKiBNYXRoLlBJIC8gMiksXG4gIGVhc2VPdXRTaW5lOiAoeCkgPT4gTWF0aC5zaW4oeCAqIE1hdGguUEkgLyAyKSxcbiAgZWFzZUluT3V0U2luZTogKHgpID0+IC0oTWF0aC5jb3MoTWF0aC5QSSAqIHgpIC0gMSkgLyAyLFxuICBlYXNlSW5FeHBvOiAoeCkgPT4geCA9PT0gMCA/IDAgOiBNYXRoLnBvdygyLCAxMCAqIHggLSAxMCksXG4gIGVhc2VPdXRFeHBvOiAoeCkgPT4geCA9PT0gMSA/IDEgOiAxIC0gTWF0aC5wb3coMiwgLTEwICogeCksXG4gIGVhc2VJbk91dEV4cG86ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogeCA8IDAuNSA/IE1hdGgucG93KDIsIDIwICogeCAtIDEwKSAvIDIgOiAoMiAtIE1hdGgucG93KDIsIC0yMCAqIHggKyAxMCkpIC8gMixcbiAgZWFzZUluQ2lyYzogKHgpID0+IDEgLSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KHgsIDIpKSxcbiAgZWFzZU91dENpcmM6ICh4KSA9PiBNYXRoLnNxcnQoMSAtIE1hdGgucG93KHggLSAxLCAyKSksXG4gIGVhc2VJbk91dENpcmM6ICh4KSA9PiB4IDwgMC41ID8gKDEgLSBNYXRoLnNxcnQoMSAtIE1hdGgucG93KDIgKiB4LCAyKSkpIC8gMiA6IChNYXRoLnNxcnQoMSAtIE1hdGgucG93KC0yICogeCArIDIsIDIpKSArIDEpIC8gMixcbiAgZWFzZUluQmFjazogKHgpID0+IGMzICogeCAqIHggKiB4IC0gYzEgKiB4ICogeCxcbiAgZWFzZU91dEJhY2s6ICh4KSA9PiAxICsgYzMgKiBNYXRoLnBvdyh4IC0gMSwgMykgKyBjMSAqIE1hdGgucG93KHggLSAxLCAyKSxcbiAgZWFzZUluT3V0QmFjazogKHgpID0+IHggPCAwLjUgPyBNYXRoLnBvdygyICogeCwgMikgKiAoKGMyICsgMSkgKiAyICogeCAtIGMyKSAvIDIgOiAoTWF0aC5wb3coMiAqIHggLSAyLCAyKSAqICgoYzIgKyAxKSAqICh4ICogMiAtIDIpICsgYzIpICsgMikgLyAyLFxuICBlYXNlSW5FbGFzdGljOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IC1NYXRoLnBvdygyLCAxMCAqIHggLSAxMCkgKiBNYXRoLnNpbigoeCAqIDEwIC0gMTAuNzUpICogYzQpLFxuICBlYXNlT3V0RWxhc3RpYzogKHgpID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiBNYXRoLnBvdygyLCAtMTAgKiB4KSAqIE1hdGguc2luKCh4ICogMTAgLSAwLjc1KSAqIGM0KSArIDEsXG4gIGVhc2VJbk91dEVsYXN0aWM6ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogeCA8IDAuNSA/IC0oTWF0aC5wb3coMiwgMjAgKiB4IC0gMTApICogTWF0aC5zaW4oKDIwICogeCAtIDExLjEyNSkgKiBjNSkpIC8gMiA6IE1hdGgucG93KDIsIC0yMCAqIHggKyAxMCkgKiBNYXRoLnNpbigoMjAgKiB4IC0gMTEuMTI1KSAqIGM1KSAvIDIgKyAxLFxuICBlYXNlSW5Cb3VuY2U6ICh4KSA9PiAxIC0gYm91bmNlT3V0KDEgLSB4KSxcbiAgZWFzZU91dEJvdW5jZTogYm91bmNlT3V0LFxuICBlYXNlSW5PdXRCb3VuY2U6ICh4KSA9PiB4IDwgMC41ID8gKDEgLSBib3VuY2VPdXQoMSAtIDIgKiB4KSkgLyAyIDogKDEgKyBib3VuY2VPdXQoMiAqIHggLSAxKSkgLyAyLFxuICBzdGVwc1xufTtcblxuLy8gc3JjL2ZsdWlkcy50c1xudmFyICRnZXQgPSBTeW1ib2wuZm9yKFwiRmx1aWRWYWx1ZS5nZXRcIik7XG52YXIgJG9ic2VydmVycyA9IFN5bWJvbC5mb3IoXCJGbHVpZFZhbHVlLm9ic2VydmVyc1wiKTtcbnZhciBoYXNGbHVpZFZhbHVlID0gKGFyZykgPT4gQm9vbGVhbihhcmcgJiYgYXJnWyRnZXRdKTtcbnZhciBnZXRGbHVpZFZhbHVlID0gKGFyZykgPT4gYXJnICYmIGFyZ1skZ2V0XSA/IGFyZ1skZ2V0XSgpIDogYXJnO1xudmFyIGdldEZsdWlkT2JzZXJ2ZXJzID0gKHRhcmdldCkgPT4gdGFyZ2V0WyRvYnNlcnZlcnNdIHx8IG51bGw7XG5mdW5jdGlvbiBjYWxsRmx1aWRPYnNlcnZlcihvYnNlcnZlcjIsIGV2ZW50KSB7XG4gIGlmIChvYnNlcnZlcjIuZXZlbnRPYnNlcnZlZCkge1xuICAgIG9ic2VydmVyMi5ldmVudE9ic2VydmVkKGV2ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBvYnNlcnZlcjIoZXZlbnQpO1xuICB9XG59XG5mdW5jdGlvbiBjYWxsRmx1aWRPYnNlcnZlcnModGFyZ2V0LCBldmVudCkge1xuICBjb25zdCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG4gIGlmIChvYnNlcnZlcnMpIHtcbiAgICBvYnNlcnZlcnMuZm9yRWFjaCgob2JzZXJ2ZXIyKSA9PiB7XG4gICAgICBjYWxsRmx1aWRPYnNlcnZlcihvYnNlcnZlcjIsIGV2ZW50KTtcbiAgICB9KTtcbiAgfVxufVxudmFyIEZsdWlkVmFsdWUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGdldCkge1xuICAgIGlmICghZ2V0ICYmICEoZ2V0ID0gdGhpcy5nZXQpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gZ2V0dGVyXCIpO1xuICAgIH1cbiAgICBzZXRGbHVpZEdldHRlcih0aGlzLCBnZXQpO1xuICB9XG59O1xuJGdldCwgJG9ic2VydmVycztcbnZhciBzZXRGbHVpZEdldHRlciA9ICh0YXJnZXQsIGdldCkgPT4gc2V0SGlkZGVuKHRhcmdldCwgJGdldCwgZ2V0KTtcbmZ1bmN0aW9uIGFkZEZsdWlkT2JzZXJ2ZXIodGFyZ2V0LCBvYnNlcnZlcjIpIHtcbiAgaWYgKHRhcmdldFskZ2V0XSkge1xuICAgIGxldCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG4gICAgaWYgKCFvYnNlcnZlcnMpIHtcbiAgICAgIHNldEhpZGRlbih0YXJnZXQsICRvYnNlcnZlcnMsIG9ic2VydmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICBpZiAoIW9ic2VydmVycy5oYXMob2JzZXJ2ZXIyKSkge1xuICAgICAgb2JzZXJ2ZXJzLmFkZChvYnNlcnZlcjIpO1xuICAgICAgaWYgKHRhcmdldC5vYnNlcnZlckFkZGVkKSB7XG4gICAgICAgIHRhcmdldC5vYnNlcnZlckFkZGVkKG9ic2VydmVycy5zaXplLCBvYnNlcnZlcjIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb2JzZXJ2ZXIyO1xufVxuZnVuY3Rpb24gcmVtb3ZlRmx1aWRPYnNlcnZlcih0YXJnZXQsIG9ic2VydmVyMikge1xuICBjb25zdCBvYnNlcnZlcnMgPSB0YXJnZXRbJG9ic2VydmVyc107XG4gIGlmIChvYnNlcnZlcnMgJiYgb2JzZXJ2ZXJzLmhhcyhvYnNlcnZlcjIpKSB7XG4gICAgY29uc3QgY291bnQgPSBvYnNlcnZlcnMuc2l6ZSAtIDE7XG4gICAgaWYgKGNvdW50KSB7XG4gICAgICBvYnNlcnZlcnMuZGVsZXRlKG9ic2VydmVyMik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFskb2JzZXJ2ZXJzXSA9IG51bGw7XG4gICAgfVxuICAgIGlmICh0YXJnZXQub2JzZXJ2ZXJSZW1vdmVkKSB7XG4gICAgICB0YXJnZXQub2JzZXJ2ZXJSZW1vdmVkKGNvdW50LCBvYnNlcnZlcjIpO1xuICAgIH1cbiAgfVxufVxudmFyIHNldEhpZGRlbiA9ICh0YXJnZXQsIGtleSwgdmFsdWUpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwge1xuICB2YWx1ZSxcbiAgd3JpdGFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5cbi8vIHNyYy9yZWdleHMudHNcbnZhciBudW1iZXJSZWdleCA9IC9bK1xcLV0/KD86MHxbMS05XVxcZCopKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8vZztcbnZhciBjb2xvclJlZ2V4ID0gLygjKD86WzAtOWEtZl17Mn0pezIsNH18KCNbMC05YS1mXXszfSl8KHJnYnxoc2wpYT9cXCgoLT9cXGQrJT9bLFxcc10rKXsyLDN9XFxzKltcXGRcXC5dKyU/XFwpKS9naTtcbnZhciB1bml0UmVnZXggPSBuZXcgUmVnRXhwKGAoJHtudW1iZXJSZWdleC5zb3VyY2V9KSglfFthLXpdKylgLCBcImlcIik7XG52YXIgcmdiYVJlZ2V4ID0gL3JnYmFcXCgoWzAtOVxcLi1dKyksIChbMC05XFwuLV0rKSwgKFswLTlcXC4tXSspLCAoWzAtOVxcLi1dKylcXCkvZ2k7XG52YXIgY3NzVmFyaWFibGVSZWdleCA9IC92YXJcXCgoLS1bYS16QS1aMC05LV9dKyksPyA/KFthLXpBLVowLTkgKCklIy4sLV0rKT9cXCkvO1xuXG4vLyBzcmMvdmFyaWFibGVUb1JnYmEudHNcbnZhciB2YXJpYWJsZVRvUmdiYSA9IChpbnB1dCkgPT4ge1xuICBjb25zdCBbdG9rZW4sIGZhbGxiYWNrXSA9IHBhcnNlQ1NTVmFyaWFibGUoaW5wdXQpO1xuICBpZiAoIXRva2VuIHx8IGlzU1NSKCkpIHtcbiAgICByZXR1cm4gaW5wdXQ7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUodG9rZW4pO1xuICBpZiAodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUudHJpbSgpO1xuICB9IGVsc2UgaWYgKGZhbGxiYWNrICYmIGZhbGxiYWNrLnN0YXJ0c1dpdGgoXCItLVwiKSkge1xuICAgIGNvbnN0IHZhbHVlMiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShmYWxsYmFjayk7XG4gICAgaWYgKHZhbHVlMikge1xuICAgICAgcmV0dXJuIHZhbHVlMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGlucHV0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChmYWxsYmFjayAmJiBjc3NWYXJpYWJsZVJlZ2V4LnRlc3QoZmFsbGJhY2spKSB7XG4gICAgcmV0dXJuIHZhcmlhYmxlVG9SZ2JhKGZhbGxiYWNrKTtcbiAgfSBlbHNlIGlmIChmYWxsYmFjaykge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxuICByZXR1cm4gaW5wdXQ7XG59O1xudmFyIHBhcnNlQ1NTVmFyaWFibGUgPSAoY3VycmVudCkgPT4ge1xuICBjb25zdCBtYXRjaCA9IGNzc1ZhcmlhYmxlUmVnZXguZXhlYyhjdXJyZW50KTtcbiAgaWYgKCFtYXRjaClcbiAgICByZXR1cm4gWyxdO1xuICBjb25zdCBbLCB0b2tlbiwgZmFsbGJhY2tdID0gbWF0Y2g7XG4gIHJldHVybiBbdG9rZW4sIGZhbGxiYWNrXTtcbn07XG5cbi8vIHNyYy9zdHJpbmdJbnRlcnBvbGF0aW9uLnRzXG52YXIgbmFtZWRDb2xvclJlZ2V4O1xudmFyIHJnYmFSb3VuZCA9IChfLCBwMSwgcDIsIHAzLCBwNCkgPT4gYHJnYmEoJHtNYXRoLnJvdW5kKHAxKX0sICR7TWF0aC5yb3VuZChwMil9LCAke01hdGgucm91bmQocDMpfSwgJHtwNH0pYDtcbnZhciBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IyID0gKGNvbmZpZykgPT4ge1xuICBpZiAoIW5hbWVkQ29sb3JSZWdleClcbiAgICBuYW1lZENvbG9yUmVnZXggPSBjb2xvcnMgPyAoXG4gICAgICAvLyBtYXRjaCBjb2xvciBuYW1lcywgaWdub3JlIHBhcnRpYWwgbWF0Y2hlc1xuICAgICAgbmV3IFJlZ0V4cChgKCR7T2JqZWN0LmtleXMoY29sb3JzKS5qb2luKFwifFwiKX0pKD8hXFxcXHcpYCwgXCJnXCIpXG4gICAgKSA6IChcbiAgICAgIC8vIG5ldmVyIG1hdGNoXG4gICAgICAvXlxcYiQvXG4gICAgKTtcbiAgY29uc3Qgb3V0cHV0ID0gY29uZmlnLm91dHB1dC5tYXAoKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIGdldEZsdWlkVmFsdWUodmFsdWUpLnJlcGxhY2UoY3NzVmFyaWFibGVSZWdleCwgdmFyaWFibGVUb1JnYmEpLnJlcGxhY2UoY29sb3JSZWdleCwgY29sb3JUb1JnYmEpLnJlcGxhY2UobmFtZWRDb2xvclJlZ2V4LCBjb2xvclRvUmdiYSk7XG4gIH0pO1xuICBjb25zdCBrZXlmcmFtZXMgPSBvdXRwdXQubWFwKCh2YWx1ZSkgPT4gdmFsdWUubWF0Y2gobnVtYmVyUmVnZXgpLm1hcChOdW1iZXIpKTtcbiAgY29uc3Qgb3V0cHV0UmFuZ2VzID0ga2V5ZnJhbWVzWzBdLm1hcChcbiAgICAoXywgaSkgPT4ga2V5ZnJhbWVzLm1hcCgodmFsdWVzKSA9PiB7XG4gICAgICBpZiAoIShpIGluIHZhbHVlcykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSBhcml0eSBvZiBlYWNoIFwib3V0cHV0XCIgdmFsdWUgbXVzdCBiZSBlcXVhbCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlc1tpXTtcbiAgICB9KVxuICApO1xuICBjb25zdCBpbnRlcnBvbGF0b3JzID0gb3V0cHV0UmFuZ2VzLm1hcChcbiAgICAob3V0cHV0MikgPT4gY3JlYXRlSW50ZXJwb2xhdG9yKHsgLi4uY29uZmlnLCBvdXRwdXQ6IG91dHB1dDIgfSlcbiAgKTtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IG1pc3NpbmdVbml0ID0gIXVuaXRSZWdleC50ZXN0KG91dHB1dFswXSkgJiYgb3V0cHV0LmZpbmQoKHZhbHVlKSA9PiB1bml0UmVnZXgudGVzdCh2YWx1ZSkpPy5yZXBsYWNlKG51bWJlclJlZ2V4LCBcIlwiKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgcmV0dXJuIG91dHB1dFswXS5yZXBsYWNlKFxuICAgICAgbnVtYmVyUmVnZXgsXG4gICAgICAoKSA9PiBgJHtpbnRlcnBvbGF0b3JzW2krK10oaW5wdXQpfSR7bWlzc2luZ1VuaXQgfHwgXCJcIn1gXG4gICAgKS5yZXBsYWNlKHJnYmFSZWdleCwgcmdiYVJvdW5kKTtcbiAgfTtcbn07XG5cbi8vIHNyYy9kZXByZWNhdGlvbnMudHNcbnZhciBwcmVmaXggPSBcInJlYWN0LXNwcmluZzogXCI7XG52YXIgb25jZSA9IChmbikgPT4ge1xuICBjb25zdCBmdW5jID0gZm47XG4gIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgaWYgKHR5cGVvZiBmdW5jICE9IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYCR7cHJlZml4fW9uY2UgcmVxdWlyZXMgYSBmdW5jdGlvbiBwYXJhbWV0ZXJgKTtcbiAgfVxuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgZnVuYyguLi5hcmdzKTtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xufTtcbnZhciB3YXJuSW50ZXJwb2xhdGUgPSBvbmNlKGNvbnNvbGUud2Fybik7XG5mdW5jdGlvbiBkZXByZWNhdGVJbnRlcnBvbGF0ZSgpIHtcbiAgd2FybkludGVycG9sYXRlKFxuICAgIGAke3ByZWZpeH1UaGUgXCJpbnRlcnBvbGF0ZVwiIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaW4gdjkgKHVzZSBcInRvXCIgaW5zdGVhZClgXG4gICk7XG59XG52YXIgd2FybkRpcmVjdENhbGwgPSBvbmNlKGNvbnNvbGUud2Fybik7XG5mdW5jdGlvbiBkZXByZWNhdGVEaXJlY3RDYWxsKCkge1xuICB3YXJuRGlyZWN0Q2FsbChcbiAgICBgJHtwcmVmaXh9RGlyZWN0bHkgY2FsbGluZyBzdGFydCBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBhcGkgb2JqZWN0IGlzIGRlcHJlY2F0ZWQgaW4gdjkgKHVzZSBcIi5zdGFydFwiIGluc3RlYWQpLCB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiBsYXRlciAwLlguMCB2ZXJzaW9uc2BcbiAgKTtcbn1cblxuLy8gc3JjL2lzQW5pbWF0ZWRTdHJpbmcudHNcbmZ1bmN0aW9uIGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIGlzLnN0cih2YWx1ZSkgJiYgKHZhbHVlWzBdID09IFwiI1wiIHx8IC9cXGQvLnRlc3QodmFsdWUpIHx8IC8vIERvIG5vdCBpZGVudGlmeSBhIENTUyB2YXJpYWJsZSBhcyBhbiBBbmltYXRlZFN0cmluZyBpZiBpdHMgU1NSXG4gICFpc1NTUigpICYmIGNzc1ZhcmlhYmxlUmVnZXgudGVzdCh2YWx1ZSkgfHwgdmFsdWUgaW4gKGNvbG9ycyB8fCB7fSkpO1xufVxuXG4vLyBzcmMvZG9tLWV2ZW50cy9zY3JvbGwvaW5kZXgudHNcbmltcG9ydCB7IHJhZiBhcyByYWYzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9yZXNpemUvcmVzaXplRWxlbWVudC50c1xudmFyIG9ic2VydmVyO1xudmFyIHJlc2l6ZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgaGFuZGxlT2JzZXJ2YXRpb24gPSAoZW50cmllcykgPT4gZW50cmllcy5mb3JFYWNoKCh7IHRhcmdldCwgY29udGVudFJlY3QgfSkgPT4ge1xuICByZXR1cm4gcmVzaXplSGFuZGxlcnMuZ2V0KHRhcmdldCk/LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIoY29udGVudFJlY3QpKTtcbn0pO1xuZnVuY3Rpb24gcmVzaXplRWxlbWVudChoYW5kbGVyLCB0YXJnZXQpIHtcbiAgaWYgKCFvYnNlcnZlcikge1xuICAgIGlmICh0eXBlb2YgUmVzaXplT2JzZXJ2ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGhhbmRsZU9ic2VydmF0aW9uKTtcbiAgICB9XG4gIH1cbiAgbGV0IGVsZW1lbnRIYW5kbGVycyA9IHJlc2l6ZUhhbmRsZXJzLmdldCh0YXJnZXQpO1xuICBpZiAoIWVsZW1lbnRIYW5kbGVycykge1xuICAgIGVsZW1lbnRIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgcmVzaXplSGFuZGxlcnMuc2V0KHRhcmdldCwgZWxlbWVudEhhbmRsZXJzKTtcbiAgfVxuICBlbGVtZW50SGFuZGxlcnMuYWRkKGhhbmRsZXIpO1xuICBpZiAob2JzZXJ2ZXIpIHtcbiAgICBvYnNlcnZlci5vYnNlcnZlKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50SGFuZGxlcnMyID0gcmVzaXplSGFuZGxlcnMuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFlbGVtZW50SGFuZGxlcnMyKVxuICAgICAgcmV0dXJuO1xuICAgIGVsZW1lbnRIYW5kbGVyczIuZGVsZXRlKGhhbmRsZXIpO1xuICAgIGlmICghZWxlbWVudEhhbmRsZXJzMi5zaXplICYmIG9ic2VydmVyKSB7XG4gICAgICBvYnNlcnZlci51bm9ic2VydmUodGFyZ2V0KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Jlc2l6ZS9yZXNpemVXaW5kb3cudHNcbnZhciBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyO1xudmFyIGNyZWF0ZVJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChcbiAgICAgIChjYWxsYmFjaykgPT4gY2FsbGJhY2soe1xuICAgICAgICB3aWR0aDogd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICB9KVxuICAgICk7XG4gIH07XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgfTtcbn07XG52YXIgcmVzaXplV2luZG93ID0gKGNhbGxiYWNrKSA9PiB7XG4gIGxpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuICBpZiAoIWNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyKSB7XG4gICAgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIgPSBjcmVhdGVSZXNpemVIYW5kbGVyKCk7XG4gIH1cbiAgcmV0dXJuICgpID0+IHtcbiAgICBsaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICBpZiAoIWxpc3RlbmVycy5zaXplICYmIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyKSB7XG4gICAgICBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcigpO1xuICAgICAgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xufTtcblxuLy8gc3JjL2RvbS1ldmVudHMvcmVzaXplL2luZGV4LnRzXG52YXIgb25SZXNpemUgPSAoY2FsbGJhY2ssIHsgY29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IH0gPSB7fSkgPT4ge1xuICBpZiAoY29udGFpbmVyID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICByZXR1cm4gcmVzaXplV2luZG93KGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVzaXplRWxlbWVudChjYWxsYmFjaywgY29udGFpbmVyKTtcbiAgfVxufTtcblxuLy8gc3JjL3Byb2dyZXNzLnRzXG52YXIgcHJvZ3Jlc3MgPSAobWluLCBtYXgsIHZhbHVlKSA9PiBtYXggLSBtaW4gPT09IDAgPyAxIDogKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9zY3JvbGwvU2Nyb2xsSGFuZGxlci50c1xudmFyIFNDUk9MTF9LRVlTID0ge1xuICB4OiB7XG4gICAgbGVuZ3RoOiBcIldpZHRoXCIsXG4gICAgcG9zaXRpb246IFwiTGVmdFwiXG4gIH0sXG4gIHk6IHtcbiAgICBsZW5ndGg6IFwiSGVpZ2h0XCIsXG4gICAgcG9zaXRpb246IFwiVG9wXCJcbiAgfVxufTtcbnZhciBTY3JvbGxIYW5kbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgY29udGFpbmVyKSB7XG4gICAgdGhpcy5jcmVhdGVBeGlzID0gKCkgPT4gKHtcbiAgICAgIGN1cnJlbnQ6IDAsXG4gICAgICBwcm9ncmVzczogMCxcbiAgICAgIHNjcm9sbExlbmd0aDogMFxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlQXhpcyA9IChheGlzTmFtZSkgPT4ge1xuICAgICAgY29uc3QgYXhpcyA9IHRoaXMuaW5mb1theGlzTmFtZV07XG4gICAgICBjb25zdCB7IGxlbmd0aCwgcG9zaXRpb24gfSA9IFNDUk9MTF9LRVlTW2F4aXNOYW1lXTtcbiAgICAgIGF4aXMuY3VycmVudCA9IHRoaXMuY29udGFpbmVyW2BzY3JvbGwke3Bvc2l0aW9ufWBdO1xuICAgICAgYXhpcy5zY3JvbGxMZW5ndGggPSB0aGlzLmNvbnRhaW5lcltgc2Nyb2xsJHtsZW5ndGh9YF0gLSB0aGlzLmNvbnRhaW5lcltgY2xpZW50JHtsZW5ndGh9YF07XG4gICAgICBheGlzLnByb2dyZXNzID0gcHJvZ3Jlc3MoMCwgYXhpcy5zY3JvbGxMZW5ndGgsIGF4aXMuY3VycmVudCk7XG4gICAgfTtcbiAgICB0aGlzLnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlQXhpcyhcInhcIik7XG4gICAgICB0aGlzLnVwZGF0ZUF4aXMoXCJ5XCIpO1xuICAgIH07XG4gICAgdGhpcy5zZW5kRXZlbnQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNhbGxiYWNrKHRoaXMuaW5mbyk7XG4gICAgfTtcbiAgICB0aGlzLmFkdmFuY2UgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgdGhpcy5zZW5kRXZlbnQoKTtcbiAgICB9O1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmluZm8gPSB7XG4gICAgICB0aW1lOiAwLFxuICAgICAgeDogdGhpcy5jcmVhdGVBeGlzKCksXG4gICAgICB5OiB0aGlzLmNyZWF0ZUF4aXMoKVxuICAgIH07XG4gIH1cbn07XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Njcm9sbC9pbmRleC50c1xudmFyIHNjcm9sbExpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIHJlc2l6ZUxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIG9uU2Nyb2xsSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBnZXRUYXJnZXQgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/IHdpbmRvdyA6IGNvbnRhaW5lcjtcbnZhciBvblNjcm9sbCA9IChjYWxsYmFjaywgeyBjb250YWluZXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfSA9IHt9KSA9PiB7XG4gIGxldCBjb250YWluZXJIYW5kbGVycyA9IG9uU2Nyb2xsSGFuZGxlcnMuZ2V0KGNvbnRhaW5lcik7XG4gIGlmICghY29udGFpbmVySGFuZGxlcnMpIHtcbiAgICBjb250YWluZXJIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgb25TY3JvbGxIYW5kbGVycy5zZXQoY29udGFpbmVyLCBjb250YWluZXJIYW5kbGVycyk7XG4gIH1cbiAgY29uc3QgY29udGFpbmVySGFuZGxlciA9IG5ldyBTY3JvbGxIYW5kbGVyKGNhbGxiYWNrLCBjb250YWluZXIpO1xuICBjb250YWluZXJIYW5kbGVycy5hZGQoY29udGFpbmVySGFuZGxlcik7XG4gIGlmICghc2Nyb2xsTGlzdGVuZXJzLmhhcyhjb250YWluZXIpKSB7XG4gICAgY29uc3QgbGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBjb250YWluZXJIYW5kbGVycz8uZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlci5hZHZhbmNlKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBzY3JvbGxMaXN0ZW5lcnMuc2V0KGNvbnRhaW5lciwgbGlzdGVuZXIpO1xuICAgIGNvbnN0IHRhcmdldCA9IGdldFRhcmdldChjb250YWluZXIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgaWYgKGNvbnRhaW5lciAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICByZXNpemVMaXN0ZW5lcnMuc2V0KGNvbnRhaW5lciwgb25SZXNpemUobGlzdGVuZXIsIHsgY29udGFpbmVyIH0pKTtcbiAgICB9XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgfVxuICBjb25zdCBhbmltYXRlU2Nyb2xsID0gc2Nyb2xsTGlzdGVuZXJzLmdldChjb250YWluZXIpO1xuICByYWYzKGFuaW1hdGVTY3JvbGwpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHJhZjMuY2FuY2VsKGFuaW1hdGVTY3JvbGwpO1xuICAgIGNvbnN0IGNvbnRhaW5lckhhbmRsZXJzMiA9IG9uU2Nyb2xsSGFuZGxlcnMuZ2V0KGNvbnRhaW5lcik7XG4gICAgaWYgKCFjb250YWluZXJIYW5kbGVyczIpXG4gICAgICByZXR1cm47XG4gICAgY29udGFpbmVySGFuZGxlcnMyLmRlbGV0ZShjb250YWluZXJIYW5kbGVyKTtcbiAgICBpZiAoY29udGFpbmVySGFuZGxlcnMyLnNpemUpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbGlzdGVuZXIgPSBzY3JvbGxMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik7XG4gICAgc2Nyb2xsTGlzdGVuZXJzLmRlbGV0ZShjb250YWluZXIpO1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgZ2V0VGFyZ2V0KGNvbnRhaW5lcikucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBsaXN0ZW5lcik7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBsaXN0ZW5lcik7XG4gICAgICByZXNpemVMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik/LigpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIHNyYy9ob29rcy91c2VDb25zdGFudC50c1xuaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb25zdGFudChpbml0KSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgaWYgKHJlZi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgcmVmLmN1cnJlbnQgPSBpbml0KCk7XG4gIH1cbiAgcmV0dXJuIHJlZi5jdXJyZW50O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlRm9yY2VVcGRhdGUudHNcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9ob29rcy91c2VJc01vdW50ZWQudHNcbmltcG9ydCB7IHVzZVJlZiBhcyB1c2VSZWYyIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9ob29rcy91c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgPSBpc1NTUigpID8gdXNlRWZmZWN0IDogdXNlTGF5b3V0RWZmZWN0O1xuXG4vLyBzcmMvaG9va3MvdXNlSXNNb3VudGVkLnRzXG52YXIgdXNlSXNNb3VudGVkID0gKCkgPT4ge1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VSZWYyKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaXNNb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQuY3VycmVudCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGlzTW91bnRlZDtcbn07XG5cbi8vIHNyYy9ob29rcy91c2VGb3JjZVVwZGF0ZS50c1xuZnVuY3Rpb24gdXNlRm9yY2VVcGRhdGUoKSB7XG4gIGNvbnN0IHVwZGF0ZSA9IHVzZVN0YXRlKClbMV07XG4gIGNvbnN0IGlzTW91bnRlZCA9IHVzZUlzTW91bnRlZCgpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgdXBkYXRlKE1hdGgucmFuZG9tKCkpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZU1lbW9PbmUudHNcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QyLCB1c2VSZWYgYXMgdXNlUmVmMywgdXNlU3RhdGUgYXMgdXNlU3RhdGUyIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VNZW1vT25lKGdldFJlc3VsdCwgaW5wdXRzKSB7XG4gIGNvbnN0IFtpbml0aWFsXSA9IHVzZVN0YXRlMihcbiAgICAoKSA9PiAoe1xuICAgICAgaW5wdXRzLFxuICAgICAgcmVzdWx0OiBnZXRSZXN1bHQoKVxuICAgIH0pXG4gICk7XG4gIGNvbnN0IGNvbW1pdHRlZCA9IHVzZVJlZjMoKTtcbiAgY29uc3QgcHJldkNhY2hlID0gY29tbWl0dGVkLmN1cnJlbnQ7XG4gIGxldCBjYWNoZSA9IHByZXZDYWNoZTtcbiAgaWYgKGNhY2hlKSB7XG4gICAgY29uc3QgdXNlQ2FjaGUgPSBCb29sZWFuKFxuICAgICAgaW5wdXRzICYmIGNhY2hlLmlucHV0cyAmJiBhcmVJbnB1dHNFcXVhbChpbnB1dHMsIGNhY2hlLmlucHV0cylcbiAgICApO1xuICAgIGlmICghdXNlQ2FjaGUpIHtcbiAgICAgIGNhY2hlID0ge1xuICAgICAgICBpbnB1dHMsXG4gICAgICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgICAgIH07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGNhY2hlID0gaW5pdGlhbDtcbiAgfVxuICB1c2VFZmZlY3QyKCgpID0+IHtcbiAgICBjb21taXR0ZWQuY3VycmVudCA9IGNhY2hlO1xuICAgIGlmIChwcmV2Q2FjaGUgPT0gaW5pdGlhbCkge1xuICAgICAgaW5pdGlhbC5pbnB1dHMgPSBpbml0aWFsLnJlc3VsdCA9IHZvaWQgMDtcbiAgICB9XG4gIH0sIFtjYWNoZV0pO1xuICByZXR1cm4gY2FjaGUucmVzdWx0O1xufVxuZnVuY3Rpb24gYXJlSW5wdXRzRXF1YWwobmV4dCwgcHJldikge1xuICBpZiAobmV4dC5sZW5ndGggIT09IHByZXYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmV4dC5sZW5ndGg7IGkrKykge1xuICAgIGlmIChuZXh0W2ldICE9PSBwcmV2W2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlT25jZS50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDMgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VPbmNlID0gKGVmZmVjdCkgPT4gdXNlRWZmZWN0MyhlZmZlY3QsIGVtcHR5RGVwcyk7XG52YXIgZW1wdHlEZXBzID0gW107XG5cbi8vIHNyYy9ob29rcy91c2VQcmV2LnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NCwgdXNlUmVmIGFzIHVzZVJlZjQgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZVByZXYodmFsdWUpIHtcbiAgY29uc3QgcHJldlJlZiA9IHVzZVJlZjQoKTtcbiAgdXNlRWZmZWN0NCgoKSA9PiB7XG4gICAgcHJldlJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcHJldlJlZi5jdXJyZW50O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlUmVkdWNlZE1vdGlvbi50c1xuaW1wb3J0IHsgdXNlU3RhdGUgYXMgdXNlU3RhdGUzIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlUmVkdWNlZE1vdGlvbiA9ICgpID0+IHtcbiAgY29uc3QgW3JlZHVjZWRNb3Rpb24sIHNldFJlZHVjZWRNb3Rpb25dID0gdXNlU3RhdGUzKG51bGwpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBtcWwgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uKVwiKTtcbiAgICBjb25zdCBoYW5kbGVNZWRpYUNoYW5nZSA9IChlKSA9PiB7XG4gICAgICBzZXRSZWR1Y2VkTW90aW9uKGUubWF0Y2hlcyk7XG4gICAgICBhc3NpZ24oe1xuICAgICAgICBza2lwQW5pbWF0aW9uOiBlLm1hdGNoZXNcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaGFuZGxlTWVkaWFDaGFuZ2UobXFsKTtcbiAgICBpZiAobXFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIG1xbC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbXFsLmFkZExpc3RlbmVyKGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBtcWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtcWwucmVtb3ZlTGlzdGVuZXIoaGFuZGxlTWVkaWFDaGFuZ2UpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHJlZHVjZWRNb3Rpb247XG59O1xuXG4vLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IHJhZiBhcyByYWY0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvcmFmelwiO1xuZXhwb3J0IHtcbiAgRmx1aWRWYWx1ZSxcbiAgZ2xvYmFsc19leHBvcnRzIGFzIEdsb2JhbHMsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIGNhbGxGbHVpZE9ic2VydmVyLFxuICBjYWxsRmx1aWRPYnNlcnZlcnMsXG4gIGNsYW1wLFxuICBjb2xvclRvUmdiYSxcbiAgY29sb3JzMiBhcyBjb2xvcnMsXG4gIGNyZWF0ZUludGVycG9sYXRvcixcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yMiBhcyBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIGRlZmluZUhpZGRlbixcbiAgZGVwcmVjYXRlRGlyZWN0Q2FsbCxcbiAgZGVwcmVjYXRlSW50ZXJwb2xhdGUsXG4gIGVhY2gsXG4gIGVhY2hQcm9wLFxuICBlYXNpbmdzLFxuICBmbHVzaCxcbiAgZmx1c2hDYWxscyxcbiAgZnJhbWVMb29wLFxuICBnZXRGbHVpZE9ic2VydmVycyxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgaGFzRmx1aWRWYWx1ZSxcbiAgaGV4MyxcbiAgaGV4NCxcbiAgaGV4NixcbiAgaGV4OCxcbiAgaHNsLFxuICBoc2xhLFxuICBpcyxcbiAgaXNBbmltYXRlZFN0cmluZyxcbiAgaXNFcXVhbCxcbiAgaXNTU1IsXG4gIG5vb3AsXG4gIG9uUmVzaXplLFxuICBvblNjcm9sbCxcbiAgb25jZSxcbiAgcHJlZml4LFxuICByYWY0IGFzIHJhZixcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlcixcbiAgcmdiLFxuICByZ2JhLFxuICBzZXRGbHVpZEdldHRlcixcbiAgdG9BcnJheSxcbiAgdXNlQ29uc3RhbnQsXG4gIHVzZUZvcmNlVXBkYXRlLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LFxuICB1c2VNZW1vT25lLFxuICB1c2VPbmNlLFxuICB1c2VQcmV2LFxuICB1c2VSZWR1Y2VkTW90aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX3NoYXJlZC5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiLy8gc3JjL2hvb2tzL3VzZUNoYWluLnRzXG5pbXBvcnQgeyBlYWNoLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9oZWxwZXJzLnRzXG5pbXBvcnQge1xuICBpcyxcbiAgdG9BcnJheSxcbiAgZWFjaFByb3AsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGlzQW5pbWF0ZWRTdHJpbmcsXG4gIEdsb2JhbHMgYXMgR1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIGNhbGxQcm9wKHZhbHVlLCAuLi5hcmdzKSB7XG4gIHJldHVybiBpcy5mdW4odmFsdWUpID8gdmFsdWUoLi4uYXJncykgOiB2YWx1ZTtcbn1cbnZhciBtYXRjaFByb3AgPSAodmFsdWUsIGtleSkgPT4gdmFsdWUgPT09IHRydWUgfHwgISEoa2V5ICYmIHZhbHVlICYmIChpcy5mdW4odmFsdWUpID8gdmFsdWUoa2V5KSA6IHRvQXJyYXkodmFsdWUpLmluY2x1ZGVzKGtleSkpKTtcbnZhciByZXNvbHZlUHJvcCA9IChwcm9wLCBrZXkpID0+IGlzLm9iaihwcm9wKSA/IGtleSAmJiBwcm9wW2tleV0gOiBwcm9wO1xudmFyIGdldERlZmF1bHRQcm9wID0gKHByb3BzLCBrZXkpID0+IHByb3BzLmRlZmF1bHQgPT09IHRydWUgPyBwcm9wc1trZXldIDogcHJvcHMuZGVmYXVsdCA/IHByb3BzLmRlZmF1bHRba2V5XSA6IHZvaWQgMDtcbnZhciBub29wVHJhbnNmb3JtID0gKHZhbHVlKSA9PiB2YWx1ZTtcbnZhciBnZXREZWZhdWx0UHJvcHMgPSAocHJvcHMsIHRyYW5zZm9ybSA9IG5vb3BUcmFuc2Zvcm0pID0+IHtcbiAgbGV0IGtleXMgPSBERUZBVUxUX1BST1BTO1xuICBpZiAocHJvcHMuZGVmYXVsdCAmJiBwcm9wcy5kZWZhdWx0ICE9PSB0cnVlKSB7XG4gICAgcHJvcHMgPSBwcm9wcy5kZWZhdWx0O1xuICAgIGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIH1cbiAgY29uc3QgZGVmYXVsdHMyID0ge307XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRyYW5zZm9ybShwcm9wc1trZXldLCBrZXkpO1xuICAgIGlmICghaXMudW5kKHZhbHVlKSkge1xuICAgICAgZGVmYXVsdHMyW2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRzMjtcbn07XG52YXIgREVGQVVMVF9QUk9QUyA9IFtcbiAgXCJjb25maWdcIixcbiAgXCJvblByb3BzXCIsXG4gIFwib25TdGFydFwiLFxuICBcIm9uQ2hhbmdlXCIsXG4gIFwib25QYXVzZVwiLFxuICBcIm9uUmVzdW1lXCIsXG4gIFwib25SZXN0XCJcbl07XG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGNvbmZpZzogMSxcbiAgZnJvbTogMSxcbiAgdG86IDEsXG4gIHJlZjogMSxcbiAgbG9vcDogMSxcbiAgcmVzZXQ6IDEsXG4gIHBhdXNlOiAxLFxuICBjYW5jZWw6IDEsXG4gIHJldmVyc2U6IDEsXG4gIGltbWVkaWF0ZTogMSxcbiAgZGVmYXVsdDogMSxcbiAgZGVsYXk6IDEsXG4gIG9uUHJvcHM6IDEsXG4gIG9uU3RhcnQ6IDEsXG4gIG9uQ2hhbmdlOiAxLFxuICBvblBhdXNlOiAxLFxuICBvblJlc3VtZTogMSxcbiAgb25SZXN0OiAxLFxuICBvblJlc29sdmU6IDEsXG4gIC8vIFRyYW5zaXRpb24gcHJvcHNcbiAgaXRlbXM6IDEsXG4gIHRyYWlsOiAxLFxuICBzb3J0OiAxLFxuICBleHBpcmVzOiAxLFxuICBpbml0aWFsOiAxLFxuICBlbnRlcjogMSxcbiAgdXBkYXRlOiAxLFxuICBsZWF2ZTogMSxcbiAgY2hpbGRyZW46IDEsXG4gIG9uRGVzdHJveWVkOiAxLFxuICAvLyBJbnRlcm5hbCBwcm9wc1xuICBrZXlzOiAxLFxuICBjYWxsSWQ6IDEsXG4gIHBhcmVudElkOiAxXG59O1xuZnVuY3Rpb24gZ2V0Rm9yd2FyZFByb3BzKHByb3BzKSB7XG4gIGNvbnN0IGZvcndhcmQgPSB7fTtcbiAgbGV0IGNvdW50ID0gMDtcbiAgZWFjaFByb3AocHJvcHMsICh2YWx1ZSwgcHJvcCkgPT4ge1xuICAgIGlmICghUkVTRVJWRURfUFJPUFNbcHJvcF0pIHtcbiAgICAgIGZvcndhcmRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIGNvdW50Kys7XG4gICAgfVxuICB9KTtcbiAgaWYgKGNvdW50KSB7XG4gICAgcmV0dXJuIGZvcndhcmQ7XG4gIH1cbn1cbmZ1bmN0aW9uIGluZmVyVG8ocHJvcHMpIHtcbiAgY29uc3QgdG8yID0gZ2V0Rm9yd2FyZFByb3BzKHByb3BzKTtcbiAgaWYgKHRvMikge1xuICAgIGNvbnN0IG91dCA9IHsgdG86IHRvMiB9O1xuICAgIGVhY2hQcm9wKHByb3BzLCAodmFsLCBrZXkpID0+IGtleSBpbiB0bzIgfHwgKG91dFtrZXldID0gdmFsKSk7XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICByZXR1cm4geyAuLi5wcm9wcyB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZUdvYWwodmFsdWUpIHtcbiAgdmFsdWUgPSBnZXRGbHVpZFZhbHVlKHZhbHVlKTtcbiAgcmV0dXJuIGlzLmFycih2YWx1ZSkgPyB2YWx1ZS5tYXAoY29tcHV0ZUdvYWwpIDogaXNBbmltYXRlZFN0cmluZyh2YWx1ZSkgPyBHLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcih7XG4gICAgcmFuZ2U6IFswLCAxXSxcbiAgICBvdXRwdXQ6IFt2YWx1ZSwgdmFsdWVdXG4gIH0pKDEpIDogdmFsdWU7XG59XG5mdW5jdGlvbiBoYXNQcm9wcyhwcm9wcykge1xuICBmb3IgKGNvbnN0IF8gaW4gcHJvcHMpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzQXN5bmNUbyh0bzIpIHtcbiAgcmV0dXJuIGlzLmZ1bih0bzIpIHx8IGlzLmFycih0bzIpICYmIGlzLm9iaih0bzJbMF0pO1xufVxuZnVuY3Rpb24gZGV0YWNoUmVmcyhjdHJsLCByZWYpIHtcbiAgY3RybC5yZWY/LmRlbGV0ZShjdHJsKTtcbiAgcmVmPy5kZWxldGUoY3RybCk7XG59XG5mdW5jdGlvbiByZXBsYWNlUmVmKGN0cmwsIHJlZikge1xuICBpZiAocmVmICYmIGN0cmwucmVmICE9PSByZWYpIHtcbiAgICBjdHJsLnJlZj8uZGVsZXRlKGN0cmwpO1xuICAgIHJlZi5hZGQoY3RybCk7XG4gICAgY3RybC5yZWYgPSByZWY7XG4gIH1cbn1cblxuLy8gc3JjL2hvb2tzL3VzZUNoYWluLnRzXG5mdW5jdGlvbiB1c2VDaGFpbihyZWZzLCB0aW1lU3RlcHMsIHRpbWVGcmFtZSA9IDFlMykge1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAodGltZVN0ZXBzKSB7XG4gICAgICBsZXQgcHJldkRlbGF5ID0gMDtcbiAgICAgIGVhY2gocmVmcywgKHJlZiwgaSkgPT4ge1xuICAgICAgICBjb25zdCBjb250cm9sbGVycyA9IHJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY29udHJvbGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgbGV0IGRlbGF5ID0gdGltZUZyYW1lICogdGltZVN0ZXBzW2ldO1xuICAgICAgICAgIGlmIChpc05hTihkZWxheSkpXG4gICAgICAgICAgICBkZWxheSA9IHByZXZEZWxheTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBwcmV2RGVsYXkgPSBkZWxheTtcbiAgICAgICAgICBlYWNoKGNvbnRyb2xsZXJzLCAoY3RybCkgPT4ge1xuICAgICAgICAgICAgZWFjaChjdHJsLnF1ZXVlLCAocHJvcHMpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgbWVtb2l6ZWREZWxheVByb3AgPSBwcm9wcy5kZWxheTtcbiAgICAgICAgICAgICAgcHJvcHMuZGVsYXkgPSAoa2V5KSA9PiBkZWxheSArIGNhbGxQcm9wKG1lbW9pemVkRGVsYXlQcm9wIHx8IDAsIGtleSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWYuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBlYWNoKHJlZnMsIChyZWYpID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlcnMgPSByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHF1ZXVlcyA9IGNvbnRyb2xsZXJzLm1hcCgoY3RybCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcSA9IGN0cmwucXVldWU7XG4gICAgICAgICAgICBjdHJsLnF1ZXVlID0gW107XG4gICAgICAgICAgICByZXR1cm4gcTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwID0gcC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGVhY2goXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJzLFxuICAgICAgICAgICAgICAoY3RybCwgaSkgPT4gZWFjaChxdWV1ZXNbaV0gfHwgW10sICh1cGRhdGUyKSA9PiBjdHJsLnF1ZXVlLnB1c2godXBkYXRlMikpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlZi5zdGFydCgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZy50c1xuaW1wb3J0IHsgaXMgYXMgaXM5IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmdzLnRzXG5pbXBvcnQgeyB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQyLCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGlzIGFzIGlzOCxcbiAgZWFjaCBhcyBlYWNoNSxcbiAgdXNlUHJldixcbiAgdXNlT25jZSxcbiAgdXNlRm9yY2VVcGRhdGUsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9TcHJpbmdWYWx1ZS50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM1LFxuICByYWYgYXMgcmFmMyxcbiAgZWFjaCBhcyBlYWNoMixcbiAgaXNFcXVhbCxcbiAgdG9BcnJheSBhcyB0b0FycmF5MixcbiAgZWFjaFByb3AgYXMgZWFjaFByb3AzLFxuICBmcmFtZUxvb3AgYXMgZnJhbWVMb29wMixcbiAgZmx1c2hDYWxscyxcbiAgZ2V0Rmx1aWRWYWx1ZSBhcyBnZXRGbHVpZFZhbHVlMixcbiAgaXNBbmltYXRlZFN0cmluZyBhcyBpc0FuaW1hdGVkU3RyaW5nMixcbiAgR2xvYmFscyBhcyBHNSxcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzIGFzIGNhbGxGbHVpZE9ic2VydmVyczIsXG4gIGhhc0ZsdWlkVmFsdWUsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIsXG4gIGdldEZsdWlkT2JzZXJ2ZXJzXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHtcbiAgQW5pbWF0ZWRWYWx1ZSxcbiAgQW5pbWF0ZWRTdHJpbmcsXG4gIGdldFBheWxvYWQsXG4gIGdldEFuaW1hdGVkIGFzIGdldEFuaW1hdGVkMixcbiAgc2V0QW5pbWF0ZWQsXG4gIGdldEFuaW1hdGVkVHlwZVxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xuXG4vLyBzcmMvQW5pbWF0aW9uQ29uZmlnLnRzXG5pbXBvcnQgeyBpcyBhcyBpczIsIGVhc2luZ3MgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL2NvbnN0YW50cy50c1xudmFyIGNvbmZpZyA9IHtcbiAgZGVmYXVsdDogeyB0ZW5zaW9uOiAxNzAsIGZyaWN0aW9uOiAyNiB9LFxuICBnZW50bGU6IHsgdGVuc2lvbjogMTIwLCBmcmljdGlvbjogMTQgfSxcbiAgd29iYmx5OiB7IHRlbnNpb246IDE4MCwgZnJpY3Rpb246IDEyIH0sXG4gIHN0aWZmOiB7IHRlbnNpb246IDIxMCwgZnJpY3Rpb246IDIwIH0sXG4gIHNsb3c6IHsgdGVuc2lvbjogMjgwLCBmcmljdGlvbjogNjAgfSxcbiAgbW9sYXNzZXM6IHsgdGVuc2lvbjogMjgwLCBmcmljdGlvbjogMTIwIH1cbn07XG5cbi8vIHNyYy9BbmltYXRpb25Db25maWcudHNcbnZhciBkZWZhdWx0cyA9IHtcbiAgLi4uY29uZmlnLmRlZmF1bHQsXG4gIG1hc3M6IDEsXG4gIGRhbXBpbmc6IDEsXG4gIGVhc2luZzogZWFzaW5ncy5saW5lYXIsXG4gIGNsYW1wOiBmYWxzZVxufTtcbnZhciBBbmltYXRpb25Db25maWcgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKlxuICAgICAqIFRoZSBpbml0aWFsIHZlbG9jaXR5IG9mIG9uZSBvciBtb3JlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIGRlZmF1bHRzKTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzIsIG5ld0NvbmZpZywgZGVmYXVsdENvbmZpZykge1xuICBpZiAoZGVmYXVsdENvbmZpZykge1xuICAgIGRlZmF1bHRDb25maWcgPSB7IC4uLmRlZmF1bHRDb25maWcgfTtcbiAgICBzYW5pdGl6ZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBuZXdDb25maWcpO1xuICAgIG5ld0NvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZywgLi4ubmV3Q29uZmlnIH07XG4gIH1cbiAgc2FuaXRpemVDb25maWcoY29uZmlnMiwgbmV3Q29uZmlnKTtcbiAgT2JqZWN0LmFzc2lnbihjb25maWcyLCBuZXdDb25maWcpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBkZWZhdWx0cykge1xuICAgIGlmIChjb25maWcyW2tleV0gPT0gbnVsbCkge1xuICAgICAgY29uZmlnMltrZXldID0gZGVmYXVsdHNba2V5XTtcbiAgICB9XG4gIH1cbiAgbGV0IHsgZnJlcXVlbmN5LCBkYW1waW5nIH0gPSBjb25maWcyO1xuICBjb25zdCB7IG1hc3MgfSA9IGNvbmZpZzI7XG4gIGlmICghaXMyLnVuZChmcmVxdWVuY3kpKSB7XG4gICAgaWYgKGZyZXF1ZW5jeSA8IDAuMDEpXG4gICAgICBmcmVxdWVuY3kgPSAwLjAxO1xuICAgIGlmIChkYW1waW5nIDwgMClcbiAgICAgIGRhbXBpbmcgPSAwO1xuICAgIGNvbmZpZzIudGVuc2lvbiA9IE1hdGgucG93KDIgKiBNYXRoLlBJIC8gZnJlcXVlbmN5LCAyKSAqIG1hc3M7XG4gICAgY29uZmlnMi5mcmljdGlvbiA9IDQgKiBNYXRoLlBJICogZGFtcGluZyAqIG1hc3MgLyBmcmVxdWVuY3k7XG4gIH1cbiAgcmV0dXJuIGNvbmZpZzI7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUNvbmZpZyhjb25maWcyLCBwcm9wcykge1xuICBpZiAoIWlzMi51bmQocHJvcHMuZGVjYXkpKSB7XG4gICAgY29uZmlnMi5kdXJhdGlvbiA9IHZvaWQgMDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBpc1RlbnNpb25Db25maWcgPSAhaXMyLnVuZChwcm9wcy50ZW5zaW9uKSB8fCAhaXMyLnVuZChwcm9wcy5mcmljdGlvbik7XG4gICAgaWYgKGlzVGVuc2lvbkNvbmZpZyB8fCAhaXMyLnVuZChwcm9wcy5mcmVxdWVuY3kpIHx8ICFpczIudW5kKHByb3BzLmRhbXBpbmcpIHx8ICFpczIudW5kKHByb3BzLm1hc3MpKSB7XG4gICAgICBjb25maWcyLmR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgY29uZmlnMi5kZWNheSA9IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKGlzVGVuc2lvbkNvbmZpZykge1xuICAgICAgY29uZmlnMi5mcmVxdWVuY3kgPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5cbi8vIHNyYy9BbmltYXRpb24udHNcbnZhciBlbXB0eUFycmF5ID0gW107XG52YXIgQW5pbWF0aW9uID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNoYW5nZWQgPSBmYWxzZTtcbiAgICB0aGlzLnZhbHVlcyA9IGVtcHR5QXJyYXk7XG4gICAgdGhpcy50b1ZhbHVlcyA9IG51bGw7XG4gICAgdGhpcy5mcm9tVmFsdWVzID0gZW1wdHlBcnJheTtcbiAgICB0aGlzLmNvbmZpZyA9IG5ldyBBbmltYXRpb25Db25maWcoKTtcbiAgICB0aGlzLmltbWVkaWF0ZSA9IGZhbHNlO1xuICB9XG59O1xuXG4vLyBzcmMvc2NoZWR1bGVQcm9wcy50c1xuaW1wb3J0IHsgaXMgYXMgaXMzLCByYWYsIEdsb2JhbHMgYXMgRzIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIHNjaGVkdWxlUHJvcHMoY2FsbElkLCB7IGtleSwgcHJvcHMsIGRlZmF1bHRQcm9wcywgc3RhdGUsIGFjdGlvbnMgfSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBkZWxheTtcbiAgICBsZXQgdGltZW91dDtcbiAgICBsZXQgY2FuY2VsID0gbWF0Y2hQcm9wKHByb3BzLmNhbmNlbCA/PyBkZWZhdWx0UHJvcHM/LmNhbmNlbCwga2V5KTtcbiAgICBpZiAoY2FuY2VsKSB7XG4gICAgICBvblN0YXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghaXMzLnVuZChwcm9wcy5wYXVzZSkpIHtcbiAgICAgICAgc3RhdGUucGF1c2VkID0gbWF0Y2hQcm9wKHByb3BzLnBhdXNlLCBrZXkpO1xuICAgICAgfVxuICAgICAgbGV0IHBhdXNlID0gZGVmYXVsdFByb3BzPy5wYXVzZTtcbiAgICAgIGlmIChwYXVzZSAhPT0gdHJ1ZSkge1xuICAgICAgICBwYXVzZSA9IHN0YXRlLnBhdXNlZCB8fCBtYXRjaFByb3AocGF1c2UsIGtleSk7XG4gICAgICB9XG4gICAgICBkZWxheSA9IGNhbGxQcm9wKHByb3BzLmRlbGF5IHx8IDAsIGtleSk7XG4gICAgICBpZiAocGF1c2UpIHtcbiAgICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKG9uUmVzdW1lKTtcbiAgICAgICAgYWN0aW9ucy5wYXVzZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aW9ucy5yZXN1bWUoKTtcbiAgICAgICAgb25SZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25QYXVzZSgpIHtcbiAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChvblJlc3VtZSk7XG4gICAgICBzdGF0ZS50aW1lb3V0cy5kZWxldGUodGltZW91dCk7XG4gICAgICB0aW1lb3V0LmNhbmNlbCgpO1xuICAgICAgZGVsYXkgPSB0aW1lb3V0LnRpbWUgLSByYWYubm93KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUmVzdW1lKCkge1xuICAgICAgaWYgKGRlbGF5ID4gMCAmJiAhRzIuc2tpcEFuaW1hdGlvbikge1xuICAgICAgICBzdGF0ZS5kZWxheWVkID0gdHJ1ZTtcbiAgICAgICAgdGltZW91dCA9IHJhZi5zZXRUaW1lb3V0KG9uU3RhcnQsIGRlbGF5KTtcbiAgICAgICAgc3RhdGUucGF1c2VRdWV1ZS5hZGQob25QYXVzZSk7XG4gICAgICAgIHN0YXRlLnRpbWVvdXRzLmFkZCh0aW1lb3V0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9uU3RhcnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgICAgIGlmIChzdGF0ZS5kZWxheWVkKSB7XG4gICAgICAgIHN0YXRlLmRlbGF5ZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLnBhdXNlUXVldWUuZGVsZXRlKG9uUGF1c2UpO1xuICAgICAgc3RhdGUudGltZW91dHMuZGVsZXRlKHRpbWVvdXQpO1xuICAgICAgaWYgKGNhbGxJZCA8PSAoc3RhdGUuY2FuY2VsSWQgfHwgMCkpIHtcbiAgICAgICAgY2FuY2VsID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGFjdGlvbnMuc3RhcnQoeyAuLi5wcm9wcywgY2FsbElkLCBjYW5jZWwgfSwgcmVzb2x2ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3JjL3J1bkFzeW5jLnRzXG5pbXBvcnQge1xuICBpcyBhcyBpczQsXG4gIHJhZiBhcyByYWYyLFxuICBmbHVzaCxcbiAgZWFjaFByb3AgYXMgZWFjaFByb3AyLFxuICBHbG9iYWxzIGFzIEczXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvQW5pbWF0aW9uUmVzdWx0LnRzXG52YXIgZ2V0Q29tYmluZWRSZXN1bHQgPSAodGFyZ2V0LCByZXN1bHRzKSA9PiByZXN1bHRzLmxlbmd0aCA9PSAxID8gcmVzdWx0c1swXSA6IHJlc3VsdHMuc29tZSgocmVzdWx0KSA9PiByZXN1bHQuY2FuY2VsbGVkKSA/IGdldENhbmNlbGxlZFJlc3VsdCh0YXJnZXQuZ2V0KCkpIDogcmVzdWx0cy5ldmVyeSgocmVzdWx0KSA9PiByZXN1bHQubm9vcCkgPyBnZXROb29wUmVzdWx0KHRhcmdldC5nZXQoKSkgOiBnZXRGaW5pc2hlZFJlc3VsdChcbiAgdGFyZ2V0LmdldCgpLFxuICByZXN1bHRzLmV2ZXJ5KChyZXN1bHQpID0+IHJlc3VsdC5maW5pc2hlZClcbik7XG52YXIgZ2V0Tm9vcFJlc3VsdCA9ICh2YWx1ZSkgPT4gKHtcbiAgdmFsdWUsXG4gIG5vb3A6IHRydWUsXG4gIGZpbmlzaGVkOiB0cnVlLFxuICBjYW5jZWxsZWQ6IGZhbHNlXG59KTtcbnZhciBnZXRGaW5pc2hlZFJlc3VsdCA9ICh2YWx1ZSwgZmluaXNoZWQsIGNhbmNlbGxlZCA9IGZhbHNlKSA9PiAoe1xuICB2YWx1ZSxcbiAgZmluaXNoZWQsXG4gIGNhbmNlbGxlZFxufSk7XG52YXIgZ2V0Q2FuY2VsbGVkUmVzdWx0ID0gKHZhbHVlKSA9PiAoe1xuICB2YWx1ZSxcbiAgY2FuY2VsbGVkOiB0cnVlLFxuICBmaW5pc2hlZDogZmFsc2Vcbn0pO1xuXG4vLyBzcmMvcnVuQXN5bmMudHNcbmZ1bmN0aW9uIHJ1bkFzeW5jKHRvMiwgcHJvcHMsIHN0YXRlLCB0YXJnZXQpIHtcbiAgY29uc3QgeyBjYWxsSWQsIHBhcmVudElkLCBvblJlc3QgfSA9IHByb3BzO1xuICBjb25zdCB7IGFzeW5jVG86IHByZXZUbywgcHJvbWlzZTogcHJldlByb21pc2UgfSA9IHN0YXRlO1xuICBpZiAoIXBhcmVudElkICYmIHRvMiA9PT0gcHJldlRvICYmICFwcm9wcy5yZXNldCkge1xuICAgIHJldHVybiBwcmV2UHJvbWlzZTtcbiAgfVxuICByZXR1cm4gc3RhdGUucHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgc3RhdGUuYXN5bmNJZCA9IGNhbGxJZDtcbiAgICBzdGF0ZS5hc3luY1RvID0gdG8yO1xuICAgIGNvbnN0IGRlZmF1bHRQcm9wcyA9IGdldERlZmF1bHRQcm9wcyhcbiAgICAgIHByb3BzLFxuICAgICAgKHZhbHVlLCBrZXkpID0+IChcbiAgICAgICAgLy8gVGhlIGBvblJlc3RgIHByb3AgaXMgb25seSBjYWxsZWQgd2hlbiB0aGUgYHJ1bkFzeW5jYCBwcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAgICBrZXkgPT09IFwib25SZXN0XCIgPyB2b2lkIDAgOiB2YWx1ZVxuICAgICAgKVxuICAgICk7XG4gICAgbGV0IHByZXZlbnRCYWlsO1xuICAgIGxldCBiYWlsO1xuICAgIGNvbnN0IGJhaWxQcm9taXNlID0gbmV3IFByb21pc2UoXG4gICAgICAocmVzb2x2ZSwgcmVqZWN0KSA9PiAocHJldmVudEJhaWwgPSByZXNvbHZlLCBiYWlsID0gcmVqZWN0KVxuICAgICk7XG4gICAgY29uc3QgYmFpbElmRW5kZWQgPSAoYmFpbFNpZ25hbCkgPT4ge1xuICAgICAgY29uc3QgYmFpbFJlc3VsdCA9IChcbiAgICAgICAgLy8gVGhlIGBjYW5jZWxgIHByb3Agb3IgYHN0b3BgIG1ldGhvZCB3YXMgdXNlZC5cbiAgICAgICAgY2FsbElkIDw9IChzdGF0ZS5jYW5jZWxJZCB8fCAwKSAmJiBnZXRDYW5jZWxsZWRSZXN1bHQodGFyZ2V0KSB8fCAvLyBUaGUgYXN5bmMgYHRvYCBwcm9wIHdhcyByZXBsYWNlZC5cbiAgICAgICAgY2FsbElkICE9PSBzdGF0ZS5hc3luY0lkICYmIGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpXG4gICAgICApO1xuICAgICAgaWYgKGJhaWxSZXN1bHQpIHtcbiAgICAgICAgYmFpbFNpZ25hbC5yZXN1bHQgPSBiYWlsUmVzdWx0O1xuICAgICAgICBiYWlsKGJhaWxTaWduYWwpO1xuICAgICAgICB0aHJvdyBiYWlsU2lnbmFsO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgYW5pbWF0ZSA9IChhcmcxLCBhcmcyKSA9PiB7XG4gICAgICBjb25zdCBiYWlsU2lnbmFsID0gbmV3IEJhaWxTaWduYWwoKTtcbiAgICAgIGNvbnN0IHNraXBBbmltYXRpb25TaWduYWwgPSBuZXcgU2tpcEFuaW1hdGlvblNpZ25hbCgpO1xuICAgICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChHMy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICAgICAgc3RvcEFzeW5jKHN0YXRlKTtcbiAgICAgICAgICBza2lwQW5pbWF0aW9uU2lnbmFsLnJlc3VsdCA9IGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpO1xuICAgICAgICAgIGJhaWwoc2tpcEFuaW1hdGlvblNpZ25hbCk7XG4gICAgICAgICAgdGhyb3cgc2tpcEFuaW1hdGlvblNpZ25hbDtcbiAgICAgICAgfVxuICAgICAgICBiYWlsSWZFbmRlZChiYWlsU2lnbmFsKTtcbiAgICAgICAgY29uc3QgcHJvcHMyID0gaXM0Lm9iaihhcmcxKSA/IHsgLi4uYXJnMSB9IDogeyAuLi5hcmcyLCB0bzogYXJnMSB9O1xuICAgICAgICBwcm9wczIucGFyZW50SWQgPSBjYWxsSWQ7XG4gICAgICAgIGVhY2hQcm9wMihkZWZhdWx0UHJvcHMsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgaWYgKGlzNC51bmQocHJvcHMyW2tleV0pKSB7XG4gICAgICAgICAgICBwcm9wczJba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCB0YXJnZXQuc3RhcnQocHJvcHMyKTtcbiAgICAgICAgYmFpbElmRW5kZWQoYmFpbFNpZ25hbCk7XG4gICAgICAgIGlmIChzdGF0ZS5wYXVzZWQpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzdW1lKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQocmVzdW1lKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgIH0pKCk7XG4gICAgfTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChHMy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICBzdG9wQXN5bmMoc3RhdGUpO1xuICAgICAgcmV0dXJuIGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldCwgZmFsc2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgbGV0IGFuaW1hdGluZztcbiAgICAgIGlmIChpczQuYXJyKHRvMikpIHtcbiAgICAgICAgYW5pbWF0aW5nID0gKGFzeW5jIChxdWV1ZSkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgcHJvcHMyIG9mIHF1ZXVlKSB7XG4gICAgICAgICAgICBhd2FpdCBhbmltYXRlKHByb3BzMik7XG4gICAgICAgICAgfVxuICAgICAgICB9KSh0bzIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYW5pbWF0aW5nID0gUHJvbWlzZS5yZXNvbHZlKHRvMihhbmltYXRlLCB0YXJnZXQuc3RvcC5iaW5kKHRhcmdldCkpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFthbmltYXRpbmcudGhlbihwcmV2ZW50QmFpbCksIGJhaWxQcm9taXNlXSk7XG4gICAgICByZXN1bHQgPSBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQuZ2V0KCksIHRydWUsIGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBCYWlsU2lnbmFsKSB7XG4gICAgICAgIHJlc3VsdCA9IGVyci5yZXN1bHQ7XG4gICAgICB9IGVsc2UgaWYgKGVyciBpbnN0YW5jZW9mIFNraXBBbmltYXRpb25TaWduYWwpIHtcbiAgICAgICAgcmVzdWx0ID0gZXJyLnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKGNhbGxJZCA9PSBzdGF0ZS5hc3luY0lkKSB7XG4gICAgICAgIHN0YXRlLmFzeW5jSWQgPSBwYXJlbnRJZDtcbiAgICAgICAgc3RhdGUuYXN5bmNUbyA9IHBhcmVudElkID8gcHJldlRvIDogdm9pZCAwO1xuICAgICAgICBzdGF0ZS5wcm9taXNlID0gcGFyZW50SWQgPyBwcmV2UHJvbWlzZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzNC5mdW4ob25SZXN0KSkge1xuICAgICAgcmFmMi5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgIG9uUmVzdChyZXN1bHQsIHRhcmdldCwgdGFyZ2V0Lml0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0pKCk7XG59XG5mdW5jdGlvbiBzdG9wQXN5bmMoc3RhdGUsIGNhbmNlbElkKSB7XG4gIGZsdXNoKHN0YXRlLnRpbWVvdXRzLCAodCkgPT4gdC5jYW5jZWwoKSk7XG4gIHN0YXRlLnBhdXNlUXVldWUuY2xlYXIoKTtcbiAgc3RhdGUucmVzdW1lUXVldWUuY2xlYXIoKTtcbiAgc3RhdGUuYXN5bmNJZCA9IHN0YXRlLmFzeW5jVG8gPSBzdGF0ZS5wcm9taXNlID0gdm9pZCAwO1xuICBpZiAoY2FuY2VsSWQpXG4gICAgc3RhdGUuY2FuY2VsSWQgPSBjYW5jZWxJZDtcbn1cbnZhciBCYWlsU2lnbmFsID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFxuICAgICAgXCJBbiBhc3luYyBhbmltYXRpb24gaGFzIGJlZW4gaW50ZXJydXB0ZWQuIFlvdSBzZWUgdGhpcyBlcnJvciBiZWNhdXNlIHlvdSBmb3Jnb3QgdG8gdXNlIGBhd2FpdGAgb3IgYC5jYXRjaCguLi4pYCBvbiBpdHMgcmV0dXJuZWQgcHJvbWlzZS5cIlxuICAgICk7XG4gIH1cbn07XG52YXIgU2tpcEFuaW1hdGlvblNpZ25hbCA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIlNraXBBbmltYXRpb25TaWduYWxcIik7XG4gIH1cbn07XG5cbi8vIHNyYy9GcmFtZVZhbHVlLnRzXG5pbXBvcnQge1xuICBkZXByZWNhdGVJbnRlcnBvbGF0ZSxcbiAgZnJhbWVMb29wLFxuICBGbHVpZFZhbHVlIGFzIEZsdWlkVmFsdWUyLFxuICBHbG9iYWxzIGFzIEc0LFxuICBjYWxsRmx1aWRPYnNlcnZlcnNcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5pbXBvcnQgeyBnZXRBbmltYXRlZCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG52YXIgaXNGcmFtZVZhbHVlID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEZyYW1lVmFsdWU7XG52YXIgbmV4dElkID0gMTtcbnZhciBGcmFtZVZhbHVlID0gY2xhc3MgZXh0ZW5kcyBGbHVpZFZhbHVlMiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuICAgIHRoaXMuX3ByaW9yaXR5ID0gMDtcbiAgfVxuICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByaW9yaXR5O1xuICB9XG4gIHNldCBwcmlvcml0eShwcmlvcml0eSkge1xuICAgIGlmICh0aGlzLl9wcmlvcml0eSAhPSBwcmlvcml0eSkge1xuICAgICAgdGhpcy5fcHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICAgIHRoaXMuX29uUHJpb3JpdHlDaGFuZ2UocHJpb3JpdHkpO1xuICAgIH1cbiAgfVxuICAvKiogR2V0IHRoZSBjdXJyZW50IHZhbHVlICovXG4gIGdldCgpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQodGhpcyk7XG4gICAgcmV0dXJuIG5vZGUgJiYgbm9kZS5nZXRWYWx1ZSgpO1xuICB9XG4gIC8qKiBDcmVhdGUgYSBzcHJpbmcgdGhhdCBtYXBzIG91ciB2YWx1ZSB0byBhbm90aGVyIHZhbHVlICovXG4gIHRvKC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gRzQudG8odGhpcywgYXJncyk7XG4gIH1cbiAgLyoqIEBkZXByZWNhdGVkIFVzZSB0aGUgYHRvYCBtZXRob2QgaW5zdGVhZC4gKi9cbiAgaW50ZXJwb2xhdGUoLi4uYXJncykge1xuICAgIGRlcHJlY2F0ZUludGVycG9sYXRlKCk7XG4gICAgcmV0dXJuIEc0LnRvKHRoaXMsIGFyZ3MpO1xuICB9XG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoKTtcbiAgfVxuICBvYnNlcnZlckFkZGVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDEpXG4gICAgICB0aGlzLl9hdHRhY2goKTtcbiAgfVxuICBvYnNlcnZlclJlbW92ZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMClcbiAgICAgIHRoaXMuX2RldGFjaCgpO1xuICB9XG4gIC8qKiBDYWxsZWQgd2hlbiB0aGUgZmlyc3QgY2hpbGQgaXMgYWRkZWQuICovXG4gIF9hdHRhY2goKSB7XG4gIH1cbiAgLyoqIENhbGxlZCB3aGVuIHRoZSBsYXN0IGNoaWxkIGlzIHJlbW92ZWQuICovXG4gIF9kZXRhY2goKSB7XG4gIH1cbiAgLyoqIFRlbGwgb3VyIGNoaWxkcmVuIGFib3V0IG91ciBuZXcgdmFsdWUgKi9cbiAgX29uQ2hhbmdlKHZhbHVlLCBpZGxlID0gZmFsc2UpIHtcbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywge1xuICAgICAgdHlwZTogXCJjaGFuZ2VcIixcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIHZhbHVlLFxuICAgICAgaWRsZVxuICAgIH0pO1xuICB9XG4gIC8qKiBUZWxsIG91ciBjaGlsZHJlbiBhYm91dCBvdXIgbmV3IHByaW9yaXR5ICovXG4gIF9vblByaW9yaXR5Q2hhbmdlKHByaW9yaXR5KSB7XG4gICAgaWYgKCF0aGlzLmlkbGUpIHtcbiAgICAgIGZyYW1lTG9vcC5zb3J0KHRoaXMpO1xuICAgIH1cbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywge1xuICAgICAgdHlwZTogXCJwcmlvcml0eVwiLFxuICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgcHJpb3JpdHlcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gc3JjL1NwcmluZ1BoYXNlLnRzXG52YXIgJFAgPSBTeW1ib2wuZm9yKFwiU3ByaW5nUGhhc2VcIik7XG52YXIgSEFTX0FOSU1BVEVEID0gMTtcbnZhciBJU19BTklNQVRJTkcgPSAyO1xudmFyIElTX1BBVVNFRCA9IDQ7XG52YXIgaGFzQW5pbWF0ZWQgPSAodGFyZ2V0KSA9PiAodGFyZ2V0WyRQXSAmIEhBU19BTklNQVRFRCkgPiAwO1xudmFyIGlzQW5pbWF0aW5nID0gKHRhcmdldCkgPT4gKHRhcmdldFskUF0gJiBJU19BTklNQVRJTkcpID4gMDtcbnZhciBpc1BhdXNlZCA9ICh0YXJnZXQpID0+ICh0YXJnZXRbJFBdICYgSVNfUEFVU0VEKSA+IDA7XG52YXIgc2V0QWN0aXZlQml0ID0gKHRhcmdldCwgYWN0aXZlKSA9PiBhY3RpdmUgPyB0YXJnZXRbJFBdIHw9IElTX0FOSU1BVElORyB8IEhBU19BTklNQVRFRCA6IHRhcmdldFskUF0gJj0gfklTX0FOSU1BVElORztcbnZhciBzZXRQYXVzZWRCaXQgPSAodGFyZ2V0LCBwYXVzZWQpID0+IHBhdXNlZCA/IHRhcmdldFskUF0gfD0gSVNfUEFVU0VEIDogdGFyZ2V0WyRQXSAmPSB+SVNfUEFVU0VEO1xuXG4vLyBzcmMvU3ByaW5nVmFsdWUudHNcbnZhciBTcHJpbmdWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgRnJhbWVWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKGFyZzEsIGFyZzIpIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKiBUaGUgYW5pbWF0aW9uIHN0YXRlICovXG4gICAgdGhpcy5hbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKCk7XG4gICAgLyoqIFNvbWUgcHJvcHMgaGF2ZSBjdXN0b21pemFibGUgZGVmYXVsdCB2YWx1ZXMgKi9cbiAgICB0aGlzLmRlZmF1bHRQcm9wcyA9IHt9O1xuICAgIC8qKiBUaGUgc3RhdGUgZm9yIGBydW5Bc3luY2AgY2FsbHMgKi9cbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICBkZWxheWVkOiBmYWxzZSxcbiAgICAgIHBhdXNlUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICByZXN1bWVRdWV1ZTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgICAgIHRpbWVvdXRzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gICAgfTtcbiAgICAvKiogVGhlIHByb21pc2UgcmVzb2x2ZXJzIG9mIHBlbmRpbmcgYHN0YXJ0YCBjYWxscyAqL1xuICAgIHRoaXMuX3BlbmRpbmdDYWxscyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgLyoqIFRoZSBjb3VudGVyIGZvciB0cmFja2luZyBgc2NoZWR1bGVQcm9wc2AgY2FsbHMgKi9cbiAgICB0aGlzLl9sYXN0Q2FsbElkID0gMDtcbiAgICAvKiogVGhlIGxhc3QgYHNjaGVkdWxlUHJvcHNgIGNhbGwgdGhhdCBjaGFuZ2VkIHRoZSBgdG9gIHByb3AgKi9cbiAgICB0aGlzLl9sYXN0VG9JZCA9IDA7XG4gICAgdGhpcy5fbWVtb2l6ZWREdXJhdGlvbiA9IDA7XG4gICAgaWYgKCFpczUudW5kKGFyZzEpIHx8ICFpczUudW5kKGFyZzIpKSB7XG4gICAgICBjb25zdCBwcm9wcyA9IGlzNS5vYmooYXJnMSkgPyB7IC4uLmFyZzEgfSA6IHsgLi4uYXJnMiwgZnJvbTogYXJnMSB9O1xuICAgICAgaWYgKGlzNS51bmQocHJvcHMuZGVmYXVsdCkpIHtcbiAgICAgICAgcHJvcHMuZGVmYXVsdCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXJ0KHByb3BzKTtcbiAgICB9XG4gIH1cbiAgLyoqIEVxdWFscyB0cnVlIHdoZW4gbm90IGFkdmFuY2luZyBvbiBlYWNoIGZyYW1lLiAqL1xuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIShpc0FuaW1hdGluZyh0aGlzKSB8fCB0aGlzLl9zdGF0ZS5hc3luY1RvKSB8fCBpc1BhdXNlZCh0aGlzKTtcbiAgfVxuICBnZXQgZ29hbCgpIHtcbiAgICByZXR1cm4gZ2V0Rmx1aWRWYWx1ZTIodGhpcy5hbmltYXRpb24udG8pO1xuICB9XG4gIGdldCB2ZWxvY2l0eSgpIHtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZSA/IG5vZGUubGFzdFZlbG9jaXR5IHx8IDAgOiBub2RlLmdldFBheWxvYWQoKS5tYXAoKG5vZGUyKSA9PiBub2RlMi5sYXN0VmVsb2NpdHkgfHwgMCk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhpcyB2YWx1ZSBoYXMgYmVlbiBhbmltYXRlZCBhdCBsZWFzdCBvbmNlLlxuICAgKi9cbiAgZ2V0IGhhc0FuaW1hdGVkKCkge1xuICAgIHJldHVybiBoYXNBbmltYXRlZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGlzIHZhbHVlIGhhcyBhbiB1bmZpbmlzaGVkIGFuaW1hdGlvbixcbiAgICogd2hpY2ggaXMgZWl0aGVyIGFjdGl2ZSBvciBwYXVzZWQuXG4gICAqL1xuICBnZXQgaXNBbmltYXRpbmcoKSB7XG4gICAgcmV0dXJuIGlzQW5pbWF0aW5nKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIGFsbCBjdXJyZW50IGFuZCBmdXR1cmUgYW5pbWF0aW9ucyBhcmUgcGF1c2VkLlxuICAgKi9cbiAgZ2V0IGlzUGF1c2VkKCkge1xuICAgIHJldHVybiBpc1BhdXNlZCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICpcbiAgICpcbiAgICovXG4gIGdldCBpc0RlbGF5ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0YXRlLmRlbGF5ZWQ7XG4gIH1cbiAgLyoqIEFkdmFuY2UgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIGJ5IGEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyAqL1xuICBhZHZhbmNlKGR0KSB7XG4gICAgbGV0IGlkbGUgPSB0cnVlO1xuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGxldCB7IHRvVmFsdWVzIH0gPSBhbmltO1xuICAgIGNvbnN0IHsgY29uZmlnOiBjb25maWcyIH0gPSBhbmltO1xuICAgIGNvbnN0IHBheWxvYWQgPSBnZXRQYXlsb2FkKGFuaW0udG8pO1xuICAgIGlmICghcGF5bG9hZCAmJiBoYXNGbHVpZFZhbHVlKGFuaW0udG8pKSB7XG4gICAgICB0b1ZhbHVlcyA9IHRvQXJyYXkyKGdldEZsdWlkVmFsdWUyKGFuaW0udG8pKTtcbiAgICB9XG4gICAgYW5pbS52YWx1ZXMuZm9yRWFjaCgobm9kZTIsIGkpID0+IHtcbiAgICAgIGlmIChub2RlMi5kb25lKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB0bzIgPSAoXG4gICAgICAgIC8vIEFuaW1hdGVkIHN0cmluZ3MgYWx3YXlzIGdvIGZyb20gMCB0byAxLlxuICAgICAgICBub2RlMi5jb25zdHJ1Y3RvciA9PSBBbmltYXRlZFN0cmluZyA/IDEgOiBwYXlsb2FkID8gcGF5bG9hZFtpXS5sYXN0UG9zaXRpb24gOiB0b1ZhbHVlc1tpXVxuICAgICAgKTtcbiAgICAgIGxldCBmaW5pc2hlZCA9IGFuaW0uaW1tZWRpYXRlO1xuICAgICAgbGV0IHBvc2l0aW9uID0gdG8yO1xuICAgICAgaWYgKCFmaW5pc2hlZCkge1xuICAgICAgICBwb3NpdGlvbiA9IG5vZGUyLmxhc3RQb3NpdGlvbjtcbiAgICAgICAgaWYgKGNvbmZpZzIudGVuc2lvbiA8PSAwKSB7XG4gICAgICAgICAgbm9kZTIuZG9uZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbGFwc2VkID0gbm9kZTIuZWxhcHNlZFRpbWUgKz0gZHQ7XG4gICAgICAgIGNvbnN0IGZyb20gPSBhbmltLmZyb21WYWx1ZXNbaV07XG4gICAgICAgIGNvbnN0IHYwID0gbm9kZTIudjAgIT0gbnVsbCA/IG5vZGUyLnYwIDogbm9kZTIudjAgPSBpczUuYXJyKGNvbmZpZzIudmVsb2NpdHkpID8gY29uZmlnMi52ZWxvY2l0eVtpXSA6IGNvbmZpZzIudmVsb2NpdHk7XG4gICAgICAgIGxldCB2ZWxvY2l0eTtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gY29uZmlnMi5wcmVjaXNpb24gfHwgKGZyb20gPT0gdG8yID8gNWUtMyA6IE1hdGgubWluKDEsIE1hdGguYWJzKHRvMiAtIGZyb20pICogMWUtMykpO1xuICAgICAgICBpZiAoIWlzNS51bmQoY29uZmlnMi5kdXJhdGlvbikpIHtcbiAgICAgICAgICBsZXQgcCA9IDE7XG4gICAgICAgICAgaWYgKGNvbmZpZzIuZHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVtb2l6ZWREdXJhdGlvbiAhPT0gY29uZmlnMi5kdXJhdGlvbikge1xuICAgICAgICAgICAgICB0aGlzLl9tZW1vaXplZER1cmF0aW9uID0gY29uZmlnMi5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgaWYgKG5vZGUyLmR1cmF0aW9uUHJvZ3Jlc3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgbm9kZTIuZWxhcHNlZFRpbWUgPSBjb25maWcyLmR1cmF0aW9uICogbm9kZTIuZHVyYXRpb25Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICBlbGFwc2VkID0gbm9kZTIuZWxhcHNlZFRpbWUgKz0gZHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAgPSAoY29uZmlnMi5wcm9ncmVzcyB8fCAwKSArIGVsYXBzZWQgLyB0aGlzLl9tZW1vaXplZER1cmF0aW9uO1xuICAgICAgICAgICAgcCA9IHAgPiAxID8gMSA6IHAgPCAwID8gMCA6IHA7XG4gICAgICAgICAgICBub2RlMi5kdXJhdGlvblByb2dyZXNzID0gcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcG9zaXRpb24gPSBmcm9tICsgY29uZmlnMi5lYXNpbmcocCkgKiAodG8yIC0gZnJvbSk7XG4gICAgICAgICAgdmVsb2NpdHkgPSAocG9zaXRpb24gLSBub2RlMi5sYXN0UG9zaXRpb24pIC8gZHQ7XG4gICAgICAgICAgZmluaXNoZWQgPSBwID09IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnMi5kZWNheSkge1xuICAgICAgICAgIGNvbnN0IGRlY2F5ID0gY29uZmlnMi5kZWNheSA9PT0gdHJ1ZSA/IDAuOTk4IDogY29uZmlnMi5kZWNheTtcbiAgICAgICAgICBjb25zdCBlID0gTWF0aC5leHAoLSgxIC0gZGVjYXkpICogZWxhcHNlZCk7XG4gICAgICAgICAgcG9zaXRpb24gPSBmcm9tICsgdjAgLyAoMSAtIGRlY2F5KSAqICgxIC0gZSk7XG4gICAgICAgICAgZmluaXNoZWQgPSBNYXRoLmFicyhub2RlMi5sYXN0UG9zaXRpb24gLSBwb3NpdGlvbikgPD0gcHJlY2lzaW9uO1xuICAgICAgICAgIHZlbG9jaXR5ID0gdjAgKiBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZlbG9jaXR5ID0gbm9kZTIubGFzdFZlbG9jaXR5ID09IG51bGwgPyB2MCA6IG5vZGUyLmxhc3RWZWxvY2l0eTtcbiAgICAgICAgICBjb25zdCByZXN0VmVsb2NpdHkgPSBjb25maWcyLnJlc3RWZWxvY2l0eSB8fCBwcmVjaXNpb24gLyAxMDtcbiAgICAgICAgICBjb25zdCBib3VuY2VGYWN0b3IgPSBjb25maWcyLmNsYW1wID8gMCA6IGNvbmZpZzIuYm91bmNlO1xuICAgICAgICAgIGNvbnN0IGNhbkJvdW5jZSA9ICFpczUudW5kKGJvdW5jZUZhY3Rvcik7XG4gICAgICAgICAgY29uc3QgaXNHcm93aW5nID0gZnJvbSA9PSB0bzIgPyBub2RlMi52MCA+IDAgOiBmcm9tIDwgdG8yO1xuICAgICAgICAgIGxldCBpc01vdmluZztcbiAgICAgICAgICBsZXQgaXNCb3VuY2luZyA9IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IHN0ZXAgPSAxO1xuICAgICAgICAgIGNvbnN0IG51bVN0ZXBzID0gTWF0aC5jZWlsKGR0IC8gc3RlcCk7XG4gICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBudW1TdGVwczsgKytuKSB7XG4gICAgICAgICAgICBpc01vdmluZyA9IE1hdGguYWJzKHZlbG9jaXR5KSA+IHJlc3RWZWxvY2l0eTtcbiAgICAgICAgICAgIGlmICghaXNNb3ZpbmcpIHtcbiAgICAgICAgICAgICAgZmluaXNoZWQgPSBNYXRoLmFicyh0bzIgLSBwb3NpdGlvbikgPD0gcHJlY2lzaW9uO1xuICAgICAgICAgICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbkJvdW5jZSkge1xuICAgICAgICAgICAgICBpc0JvdW5jaW5nID0gcG9zaXRpb24gPT0gdG8yIHx8IHBvc2l0aW9uID4gdG8yID09IGlzR3Jvd2luZztcbiAgICAgICAgICAgICAgaWYgKGlzQm91bmNpbmcpIHtcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eSA9IC12ZWxvY2l0eSAqIGJvdW5jZUZhY3RvcjtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvMjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3ByaW5nRm9yY2UgPSAtY29uZmlnMi50ZW5zaW9uICogMWUtNiAqIChwb3NpdGlvbiAtIHRvMik7XG4gICAgICAgICAgICBjb25zdCBkYW1waW5nRm9yY2UgPSAtY29uZmlnMi5mcmljdGlvbiAqIDFlLTMgKiB2ZWxvY2l0eTtcbiAgICAgICAgICAgIGNvbnN0IGFjY2VsZXJhdGlvbiA9IChzcHJpbmdGb3JjZSArIGRhbXBpbmdGb3JjZSkgLyBjb25maWcyLm1hc3M7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IHZlbG9jaXR5ICsgYWNjZWxlcmF0aW9uICogc3RlcDtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gKyB2ZWxvY2l0eSAqIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUyLmxhc3RWZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKHBvc2l0aW9uKSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgR290IE5hTiB3aGlsZSBhbmltYXRpbmc6YCwgdGhpcyk7XG4gICAgICAgICAgZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZCAmJiAhcGF5bG9hZFtpXS5kb25lKSB7XG4gICAgICAgIGZpbmlzaGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgICAgbm9kZTIuZG9uZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZGxlID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobm9kZTIuc2V0VmFsdWUocG9zaXRpb24sIGNvbmZpZzIucm91bmQpKSB7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgY29uc3QgY3VyclZhbCA9IG5vZGUuZ2V0VmFsdWUoKTtcbiAgICBpZiAoaWRsZSkge1xuICAgICAgY29uc3QgZmluYWxWYWwgPSBnZXRGbHVpZFZhbHVlMihhbmltLnRvKTtcbiAgICAgIGlmICgoY3VyclZhbCAhPT0gZmluYWxWYWwgfHwgY2hhbmdlZCkgJiYgIWNvbmZpZzIuZGVjYXkpIHtcbiAgICAgICAgbm9kZS5zZXRWYWx1ZShmaW5hbFZhbCk7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKGZpbmFsVmFsKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hhbmdlZCAmJiBjb25maWcyLmRlY2F5KSB7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlKGN1cnJWYWwpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RvcCgpO1xuICAgIH0gZWxzZSBpZiAoY2hhbmdlZCkge1xuICAgICAgdGhpcy5fb25DaGFuZ2UoY3VyclZhbCk7XG4gICAgfVxuICB9XG4gIC8qKiBTZXQgdGhlIGN1cnJlbnQgdmFsdWUsIHdoaWxlIHN0b3BwaW5nIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xuICBzZXQodmFsdWUpIHtcbiAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICAgIHRoaXMuX2ZvY3VzKHZhbHVlKTtcbiAgICAgIHRoaXMuX3NldCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIEZyZWV6ZSB0aGUgYWN0aXZlIGFuaW1hdGlvbiBpbiB0aW1lLCBhcyB3ZWxsIGFzIGFueSB1cGRhdGVzIG1lcmdlZFxuICAgKiBiZWZvcmUgYHJlc3VtZWAgaXMgY2FsbGVkLlxuICAgKi9cbiAgcGF1c2UoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHsgcGF1c2U6IHRydWUgfSk7XG4gIH1cbiAgLyoqIFJlc3VtZSB0aGUgYW5pbWF0aW9uIGlmIHBhdXNlZC4gKi9cbiAgcmVzdW1lKCkge1xuICAgIHRoaXMuX3VwZGF0ZSh7IHBhdXNlOiBmYWxzZSB9KTtcbiAgfVxuICAvKiogU2tpcCB0byB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGFuaW1hdGlvbi4gKi9cbiAgZmluaXNoKCkge1xuICAgIGlmIChpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgY29uc3QgeyB0bzogdG8yLCBjb25maWc6IGNvbmZpZzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgIHRoaXMuX29uU3RhcnQoKTtcbiAgICAgICAgaWYgKCFjb25maWcyLmRlY2F5KSB7XG4gICAgICAgICAgdGhpcy5fc2V0KHRvMiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogUHVzaCBwcm9wcyBpbnRvIHRoZSBwZW5kaW5nIHF1ZXVlLiAqL1xuICB1cGRhdGUocHJvcHMpIHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWUgfHwgKHRoaXMucXVldWUgPSBbXSk7XG4gICAgcXVldWUucHVzaChwcm9wcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc3RhcnQodG8yLCBhcmcyKSB7XG4gICAgbGV0IHF1ZXVlO1xuICAgIGlmICghaXM1LnVuZCh0bzIpKSB7XG4gICAgICBxdWV1ZSA9IFtpczUub2JqKHRvMikgPyB0bzIgOiB7IC4uLmFyZzIsIHRvOiB0bzIgfV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlID0gdGhpcy5xdWV1ZSB8fCBbXTtcbiAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgICAgcXVldWUubWFwKChwcm9wcykgPT4ge1xuICAgICAgICBjb25zdCB1cCA9IHRoaXMuX3VwZGF0ZShwcm9wcyk7XG4gICAgICAgIHJldHVybiB1cDtcbiAgICAgIH0pXG4gICAgKS50aGVuKChyZXN1bHRzKSA9PiBnZXRDb21iaW5lZFJlc3VsdCh0aGlzLCByZXN1bHRzKSk7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgdGhlIGN1cnJlbnQgYW5pbWF0aW9uLCBhbmQgY2FuY2VsIGFueSBkZWxheWVkIHVwZGF0ZXMuXG4gICAqXG4gICAqIFBhc3MgYHRydWVgIHRvIGNhbGwgYG9uUmVzdGAgd2l0aCBgY2FuY2VsbGVkOiB0cnVlYC5cbiAgICovXG4gIHN0b3AoY2FuY2VsKSB7XG4gICAgY29uc3QgeyB0bzogdG8yIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICB0aGlzLl9mb2N1cyh0aGlzLmdldCgpKTtcbiAgICBzdG9wQXN5bmModGhpcy5fc3RhdGUsIGNhbmNlbCAmJiB0aGlzLl9sYXN0Q2FsbElkKTtcbiAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHRoaXMuX3N0b3AodG8yLCBjYW5jZWwpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogUmVzdGFydCB0aGUgYW5pbWF0aW9uLiAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLl91cGRhdGUoeyByZXNldDogdHJ1ZSB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICB0aGlzLl9zdGFydCgpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcInByaW9yaXR5XCIpIHtcbiAgICAgIHRoaXMucHJpb3JpdHkgPSBldmVudC5wcmlvcml0eSArIDE7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBQYXJzZSB0aGUgYHRvYCBhbmQgYGZyb21gIHJhbmdlIGZyb20gdGhlIGdpdmVuIGBwcm9wc2Agb2JqZWN0LlxuICAgKlxuICAgKiBUaGlzIGFsc28gZW5zdXJlcyB0aGUgaW5pdGlhbCB2YWx1ZSBpcyBhdmFpbGFibGUgdG8gYW5pbWF0ZWQgY29tcG9uZW50c1xuICAgKiBkdXJpbmcgdGhlIHJlbmRlciBwaGFzZS5cbiAgICovXG4gIF9wcmVwYXJlTm9kZShwcm9wcykge1xuICAgIGNvbnN0IGtleSA9IHRoaXMua2V5IHx8IFwiXCI7XG4gICAgbGV0IHsgdG86IHRvMiwgZnJvbSB9ID0gcHJvcHM7XG4gICAgdG8yID0gaXM1Lm9iaih0bzIpID8gdG8yW2tleV0gOiB0bzI7XG4gICAgaWYgKHRvMiA9PSBudWxsIHx8IGlzQXN5bmNUbyh0bzIpKSB7XG4gICAgICB0bzIgPSB2b2lkIDA7XG4gICAgfVxuICAgIGZyb20gPSBpczUub2JqKGZyb20pID8gZnJvbVtrZXldIDogZnJvbTtcbiAgICBpZiAoZnJvbSA9PSBudWxsKSB7XG4gICAgICBmcm9tID0gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCByYW5nZSA9IHsgdG86IHRvMiwgZnJvbSB9O1xuICAgIGlmICghaGFzQW5pbWF0ZWQodGhpcykpIHtcbiAgICAgIGlmIChwcm9wcy5yZXZlcnNlKVxuICAgICAgICBbdG8yLCBmcm9tXSA9IFtmcm9tLCB0bzJdO1xuICAgICAgZnJvbSA9IGdldEZsdWlkVmFsdWUyKGZyb20pO1xuICAgICAgaWYgKCFpczUudW5kKGZyb20pKSB7XG4gICAgICAgIHRoaXMuX3NldChmcm9tKTtcbiAgICAgIH0gZWxzZSBpZiAoIWdldEFuaW1hdGVkMih0aGlzKSkge1xuICAgICAgICB0aGlzLl9zZXQodG8yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG4gIC8qKiBFdmVyeSB1cGRhdGUgaXMgcHJvY2Vzc2VkIGJ5IHRoaXMgbWV0aG9kIGJlZm9yZSBtZXJnaW5nLiAqL1xuICBfdXBkYXRlKHsgLi4ucHJvcHMgfSwgaXNMb29wKSB7XG4gICAgY29uc3QgeyBrZXksIGRlZmF1bHRQcm9wcyB9ID0gdGhpcztcbiAgICBpZiAocHJvcHMuZGVmYXVsdClcbiAgICAgIE9iamVjdC5hc3NpZ24oXG4gICAgICAgIGRlZmF1bHRQcm9wcyxcbiAgICAgICAgZ2V0RGVmYXVsdFByb3BzKFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICh2YWx1ZSwgcHJvcCkgPT4gL15vbi8udGVzdChwcm9wKSA/IHJlc29sdmVQcm9wKHZhbHVlLCBrZXkpIDogdmFsdWVcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICBtZXJnZUFjdGl2ZUZuKHRoaXMsIHByb3BzLCBcIm9uUHJvcHNcIik7XG4gICAgc2VuZEV2ZW50KHRoaXMsIFwib25Qcm9wc1wiLCBwcm9wcywgdGhpcyk7XG4gICAgY29uc3QgcmFuZ2UgPSB0aGlzLl9wcmVwYXJlTm9kZShwcm9wcyk7XG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiQ2Fubm90IGFuaW1hdGUgYSBgU3ByaW5nVmFsdWVgIG9iamVjdCB0aGF0IGlzIGZyb3plbi4gRGlkIHlvdSBmb3JnZXQgdG8gcGFzcyB5b3VyIGNvbXBvbmVudCB0byBgYW5pbWF0ZWQoLi4uKWAgYmVmb3JlIGFuaW1hdGluZyBpdHMgcHJvcHM/XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgcmV0dXJuIHNjaGVkdWxlUHJvcHMoKyt0aGlzLl9sYXN0Q2FsbElkLCB7XG4gICAgICBrZXksXG4gICAgICBwcm9wcyxcbiAgICAgIGRlZmF1bHRQcm9wcyxcbiAgICAgIHN0YXRlLFxuICAgICAgYWN0aW9uczoge1xuICAgICAgICBwYXVzZTogKCkgPT4ge1xuICAgICAgICAgIGlmICghaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgICAgIHNldFBhdXNlZEJpdCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIGZsdXNoQ2FsbHMoc3RhdGUucGF1c2VRdWV1ZSk7XG4gICAgICAgICAgICBzZW5kRXZlbnQoXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIFwib25QYXVzZVwiLFxuICAgICAgICAgICAgICBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIHRoaXMuYW5pbWF0aW9uLnRvKSksXG4gICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXN1bWU6ICgpID0+IHtcbiAgICAgICAgICBpZiAoaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgICAgIHNldFBhdXNlZEJpdCh0aGlzLCBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgICAgICAgICAgdGhpcy5fcmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmbHVzaENhbGxzKHN0YXRlLnJlc3VtZVF1ZXVlKTtcbiAgICAgICAgICAgIHNlbmRFdmVudChcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgXCJvblJlc3VtZVwiLFxuICAgICAgICAgICAgICBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIHRoaXMuYW5pbWF0aW9uLnRvKSksXG4gICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzdGFydDogdGhpcy5fbWVyZ2UuYmluZCh0aGlzLCByYW5nZSlcbiAgICAgIH1cbiAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChwcm9wcy5sb29wICYmIHJlc3VsdC5maW5pc2hlZCAmJiAhKGlzTG9vcCAmJiByZXN1bHQubm9vcCkpIHtcbiAgICAgICAgY29uc3QgbmV4dFByb3BzID0gY3JlYXRlTG9vcFVwZGF0ZShwcm9wcyk7XG4gICAgICAgIGlmIChuZXh0UHJvcHMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdXBkYXRlKG5leHRQcm9wcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG4gIH1cbiAgLyoqIE1lcmdlIHByb3BzIGludG8gdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXG4gIF9tZXJnZShyYW5nZSwgcHJvcHMsIHJlc29sdmUpIHtcbiAgICBpZiAocHJvcHMuY2FuY2VsKSB7XG4gICAgICB0aGlzLnN0b3AodHJ1ZSk7XG4gICAgICByZXR1cm4gcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQodGhpcykpO1xuICAgIH1cbiAgICBjb25zdCBoYXNUb1Byb3AgPSAhaXM1LnVuZChyYW5nZS50byk7XG4gICAgY29uc3QgaGFzRnJvbVByb3AgPSAhaXM1LnVuZChyYW5nZS5mcm9tKTtcbiAgICBpZiAoaGFzVG9Qcm9wIHx8IGhhc0Zyb21Qcm9wKSB7XG4gICAgICBpZiAocHJvcHMuY2FsbElkID4gdGhpcy5fbGFzdFRvSWQpIHtcbiAgICAgICAgdGhpcy5fbGFzdFRvSWQgPSBwcm9wcy5jYWxsSWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQodGhpcykpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IGtleSwgZGVmYXVsdFByb3BzLCBhbmltYXRpb246IGFuaW0gfSA9IHRoaXM7XG4gICAgY29uc3QgeyB0bzogcHJldlRvLCBmcm9tOiBwcmV2RnJvbSB9ID0gYW5pbTtcbiAgICBsZXQgeyB0bzogdG8yID0gcHJldlRvLCBmcm9tID0gcHJldkZyb20gfSA9IHJhbmdlO1xuICAgIGlmIChoYXNGcm9tUHJvcCAmJiAhaGFzVG9Qcm9wICYmICghcHJvcHMuZGVmYXVsdCB8fCBpczUudW5kKHRvMikpKSB7XG4gICAgICB0bzIgPSBmcm9tO1xuICAgIH1cbiAgICBpZiAocHJvcHMucmV2ZXJzZSlcbiAgICAgIFt0bzIsIGZyb21dID0gW2Zyb20sIHRvMl07XG4gICAgY29uc3QgaGFzRnJvbUNoYW5nZWQgPSAhaXNFcXVhbChmcm9tLCBwcmV2RnJvbSk7XG4gICAgaWYgKGhhc0Zyb21DaGFuZ2VkKSB7XG4gICAgICBhbmltLmZyb20gPSBmcm9tO1xuICAgIH1cbiAgICBmcm9tID0gZ2V0Rmx1aWRWYWx1ZTIoZnJvbSk7XG4gICAgY29uc3QgaGFzVG9DaGFuZ2VkID0gIWlzRXF1YWwodG8yLCBwcmV2VG8pO1xuICAgIGlmIChoYXNUb0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX2ZvY3VzKHRvMik7XG4gICAgfVxuICAgIGNvbnN0IGhhc0FzeW5jVG8gPSBpc0FzeW5jVG8ocHJvcHMudG8pO1xuICAgIGNvbnN0IHsgY29uZmlnOiBjb25maWcyIH0gPSBhbmltO1xuICAgIGNvbnN0IHsgZGVjYXksIHZlbG9jaXR5IH0gPSBjb25maWcyO1xuICAgIGlmIChoYXNUb1Byb3AgfHwgaGFzRnJvbVByb3ApIHtcbiAgICAgIGNvbmZpZzIudmVsb2NpdHkgPSAwO1xuICAgIH1cbiAgICBpZiAocHJvcHMuY29uZmlnICYmICFoYXNBc3luY1RvKSB7XG4gICAgICBtZXJnZUNvbmZpZyhcbiAgICAgICAgY29uZmlnMixcbiAgICAgICAgY2FsbFByb3AocHJvcHMuY29uZmlnLCBrZXkpLFxuICAgICAgICAvLyBBdm9pZCBjYWxsaW5nIHRoZSBzYW1lIFwiY29uZmlnXCIgcHJvcCB0d2ljZS5cbiAgICAgICAgcHJvcHMuY29uZmlnICE9PSBkZWZhdWx0UHJvcHMuY29uZmlnID8gY2FsbFByb3AoZGVmYXVsdFByb3BzLmNvbmZpZywga2V5KSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IG5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgaWYgKCFub2RlIHx8IGlzNS51bmQodG8yKSkge1xuICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgdHJ1ZSkpO1xuICAgIH1cbiAgICBjb25zdCByZXNldCA9IChcbiAgICAgIC8vIFdoZW4gYHJlc2V0YCBpcyB1bmRlZmluZWQsIHRoZSBgZnJvbWAgcHJvcCBpbXBsaWVzIGByZXNldDogdHJ1ZWAsXG4gICAgICAvLyBleGNlcHQgZm9yIGRlY2xhcmF0aXZlIHVwZGF0ZXMuIFdoZW4gYHJlc2V0YCBpcyBkZWZpbmVkLCB0aGVyZVxuICAgICAgLy8gbXVzdCBleGlzdCBhIHZhbHVlIHRvIGFuaW1hdGUgZnJvbS5cbiAgICAgIGlzNS51bmQocHJvcHMucmVzZXQpID8gaGFzRnJvbVByb3AgJiYgIXByb3BzLmRlZmF1bHQgOiAhaXM1LnVuZChmcm9tKSAmJiBtYXRjaFByb3AocHJvcHMucmVzZXQsIGtleSlcbiAgICApO1xuICAgIGNvbnN0IHZhbHVlID0gcmVzZXQgPyBmcm9tIDogdGhpcy5nZXQoKTtcbiAgICBjb25zdCBnb2FsID0gY29tcHV0ZUdvYWwodG8yKTtcbiAgICBjb25zdCBpc0FuaW1hdGFibGUgPSBpczUubnVtKGdvYWwpIHx8IGlzNS5hcnIoZ29hbCkgfHwgaXNBbmltYXRlZFN0cmluZzIoZ29hbCk7XG4gICAgY29uc3QgaW1tZWRpYXRlID0gIWhhc0FzeW5jVG8gJiYgKCFpc0FuaW1hdGFibGUgfHwgbWF0Y2hQcm9wKGRlZmF1bHRQcm9wcy5pbW1lZGlhdGUgfHwgcHJvcHMuaW1tZWRpYXRlLCBrZXkpKTtcbiAgICBpZiAoaGFzVG9DaGFuZ2VkKSB7XG4gICAgICBjb25zdCBub2RlVHlwZSA9IGdldEFuaW1hdGVkVHlwZSh0bzIpO1xuICAgICAgaWYgKG5vZGVUeXBlICE9PSBub2RlLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIGlmIChpbW1lZGlhdGUpIHtcbiAgICAgICAgICBub2RlID0gdGhpcy5fc2V0KGdvYWwpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIGBDYW5ub3QgYW5pbWF0ZSBiZXR3ZWVuICR7bm9kZS5jb25zdHJ1Y3Rvci5uYW1lfSBhbmQgJHtub2RlVHlwZS5uYW1lfSwgYXMgdGhlIFwidG9cIiBwcm9wIHN1Z2dlc3RzYFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGdvYWxUeXBlID0gbm9kZS5jb25zdHJ1Y3RvcjtcbiAgICBsZXQgc3RhcnRlZCA9IGhhc0ZsdWlkVmFsdWUodG8yKTtcbiAgICBsZXQgZmluaXNoZWQgPSBmYWxzZTtcbiAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgIGNvbnN0IGhhc1ZhbHVlQ2hhbmdlZCA9IHJlc2V0IHx8ICFoYXNBbmltYXRlZCh0aGlzKSAmJiBoYXNGcm9tQ2hhbmdlZDtcbiAgICAgIGlmIChoYXNUb0NoYW5nZWQgfHwgaGFzVmFsdWVDaGFuZ2VkKSB7XG4gICAgICAgIGZpbmlzaGVkID0gaXNFcXVhbChjb21wdXRlR29hbCh2YWx1ZSksIGdvYWwpO1xuICAgICAgICBzdGFydGVkID0gIWZpbmlzaGVkO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0VxdWFsKGFuaW0uaW1tZWRpYXRlLCBpbW1lZGlhdGUpICYmICFpbW1lZGlhdGUgfHwgIWlzRXF1YWwoY29uZmlnMi5kZWNheSwgZGVjYXkpIHx8ICFpc0VxdWFsKGNvbmZpZzIudmVsb2NpdHksIHZlbG9jaXR5KSkge1xuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpbmlzaGVkICYmIGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBpZiAoYW5pbS5jaGFuZ2VkICYmICFyZXNldCkge1xuICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgICAgdGhpcy5fc3RvcChwcmV2VG8pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWhhc0FzeW5jVG8pIHtcbiAgICAgIGlmIChzdGFydGVkIHx8IGhhc0ZsdWlkVmFsdWUocHJldlRvKSkge1xuICAgICAgICBhbmltLnZhbHVlcyA9IG5vZGUuZ2V0UGF5bG9hZCgpO1xuICAgICAgICBhbmltLnRvVmFsdWVzID0gaGFzRmx1aWRWYWx1ZSh0bzIpID8gbnVsbCA6IGdvYWxUeXBlID09IEFuaW1hdGVkU3RyaW5nID8gWzFdIDogdG9BcnJheTIoZ29hbCk7XG4gICAgICB9XG4gICAgICBpZiAoYW5pbS5pbW1lZGlhdGUgIT0gaW1tZWRpYXRlKSB7XG4gICAgICAgIGFuaW0uaW1tZWRpYXRlID0gaW1tZWRpYXRlO1xuICAgICAgICBpZiAoIWltbWVkaWF0ZSAmJiAhcmVzZXQpIHtcbiAgICAgICAgICB0aGlzLl9zZXQocHJldlRvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgY29uc3QgeyBvblJlc3QgfSA9IGFuaW07XG4gICAgICAgIGVhY2gyKEFDVElWRV9FVkVOVFMsICh0eXBlKSA9PiBtZXJnZUFjdGl2ZUZuKHRoaXMsIHByb3BzLCB0eXBlKSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgcHJldlRvKSk7XG4gICAgICAgIGZsdXNoQ2FsbHModGhpcy5fcGVuZGluZ0NhbGxzLCByZXN1bHQpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nQ2FsbHMuYWRkKHJlc29sdmUpO1xuICAgICAgICBpZiAoYW5pbS5jaGFuZ2VkKVxuICAgICAgICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgICAgYW5pbS5jaGFuZ2VkID0gIXJlc2V0O1xuICAgICAgICAgICAgb25SZXN0Py4ocmVzdWx0LCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgICAgICBjYWxsUHJvcChkZWZhdWx0UHJvcHMub25SZXN0LCByZXN1bHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbS5vblN0YXJ0Py4ocmVzdWx0LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICB0aGlzLl9zZXQodmFsdWUpO1xuICAgIH1cbiAgICBpZiAoaGFzQXN5bmNUbykge1xuICAgICAgcmVzb2x2ZShydW5Bc3luYyhwcm9wcy50bywgcHJvcHMsIHRoaXMuX3N0YXRlLCB0aGlzKSk7XG4gICAgfSBlbHNlIGlmIChzdGFydGVkKSB7XG4gICAgICB0aGlzLl9zdGFydCgpO1xuICAgIH0gZWxzZSBpZiAoaXNBbmltYXRpbmcodGhpcykgJiYgIWhhc1RvQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fcGVuZGluZ0NhbGxzLmFkZChyZXNvbHZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZShnZXROb29wUmVzdWx0KHZhbHVlKSk7XG4gICAgfVxuICB9XG4gIC8qKiBVcGRhdGUgdGhlIGBhbmltYXRpb24udG9gIHZhbHVlLCB3aGljaCBtaWdodCBiZSBhIGBGbHVpZFZhbHVlYCAqL1xuICBfZm9jdXModmFsdWUpIHtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKHZhbHVlICE9PSBhbmltLnRvKSB7XG4gICAgICBpZiAoZ2V0Rmx1aWRPYnNlcnZlcnModGhpcykpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoKCk7XG4gICAgICB9XG4gICAgICBhbmltLnRvID0gdmFsdWU7XG4gICAgICBpZiAoZ2V0Rmx1aWRPYnNlcnZlcnModGhpcykpIHtcbiAgICAgICAgdGhpcy5fYXR0YWNoKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9hdHRhY2goKSB7XG4gICAgbGV0IHByaW9yaXR5ID0gMDtcbiAgICBjb25zdCB7IHRvOiB0bzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmIChoYXNGbHVpZFZhbHVlKHRvMikpIHtcbiAgICAgIGFkZEZsdWlkT2JzZXJ2ZXIodG8yLCB0aGlzKTtcbiAgICAgIGlmIChpc0ZyYW1lVmFsdWUodG8yKSkge1xuICAgICAgICBwcmlvcml0eSA9IHRvMi5wcmlvcml0eSArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgfVxuICBfZGV0YWNoKCkge1xuICAgIGNvbnN0IHsgdG86IHRvMiB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKGhhc0ZsdWlkVmFsdWUodG8yKSkge1xuICAgICAgcmVtb3ZlRmx1aWRPYnNlcnZlcih0bzIsIHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBjdXJyZW50IHZhbHVlIGZyb20gb3V0c2lkZSB0aGUgZnJhbWVsb29wLFxuICAgKiBhbmQgcmV0dXJuIHRoZSBgQW5pbWF0ZWRgIG5vZGUuXG4gICAqL1xuICBfc2V0KGFyZywgaWRsZSA9IHRydWUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGdldEZsdWlkVmFsdWUyKGFyZyk7XG4gICAgaWYgKCFpczUudW5kKHZhbHVlKSkge1xuICAgICAgY29uc3Qgb2xkTm9kZSA9IGdldEFuaW1hdGVkMih0aGlzKTtcbiAgICAgIGlmICghb2xkTm9kZSB8fCAhaXNFcXVhbCh2YWx1ZSwgb2xkTm9kZS5nZXRWYWx1ZSgpKSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IGdldEFuaW1hdGVkVHlwZSh2YWx1ZSk7XG4gICAgICAgIGlmICghb2xkTm9kZSB8fCBvbGROb2RlLmNvbnN0cnVjdG9yICE9IG5vZGVUeXBlKSB7XG4gICAgICAgICAgc2V0QW5pbWF0ZWQodGhpcywgbm9kZVR5cGUuY3JlYXRlKHZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2xkTm9kZS5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZE5vZGUpIHtcbiAgICAgICAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlLCBpZGxlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICB9XG4gIF9vblN0YXJ0KCkge1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBpZiAoIWFuaW0uY2hhbmdlZCkge1xuICAgICAgYW5pbS5jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHNlbmRFdmVudChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJvblN0YXJ0XCIsXG4gICAgICAgIGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgYW5pbS50bykpLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBfb25DaGFuZ2UodmFsdWUsIGlkbGUpIHtcbiAgICBpZiAoIWlkbGUpIHtcbiAgICAgIHRoaXMuX29uU3RhcnQoKTtcbiAgICAgIGNhbGxQcm9wKHRoaXMuYW5pbWF0aW9uLm9uQ2hhbmdlLCB2YWx1ZSwgdGhpcyk7XG4gICAgfVxuICAgIGNhbGxQcm9wKHRoaXMuZGVmYXVsdFByb3BzLm9uQ2hhbmdlLCB2YWx1ZSwgdGhpcyk7XG4gICAgc3VwZXIuX29uQ2hhbmdlKHZhbHVlLCBpZGxlKTtcbiAgfVxuICAvLyBUaGlzIG1ldGhvZCByZXNldHMgdGhlIGFuaW1hdGlvbiBzdGF0ZSAoZXZlbiBpZiBhbHJlYWR5IGFuaW1hdGluZykgdG9cbiAgLy8gZW5zdXJlIHRoZSBsYXRlc3QgZnJvbS90byByYW5nZSBpcyB1c2VkLCBhbmQgaXQgYWxzbyBlbnN1cmVzIHRoaXMgc3ByaW5nXG4gIC8vIGlzIGFkZGVkIHRvIHRoZSBmcmFtZWxvb3AuXG4gIF9zdGFydCgpIHtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgZ2V0QW5pbWF0ZWQyKHRoaXMpLnJlc2V0KGdldEZsdWlkVmFsdWUyKGFuaW0udG8pKTtcbiAgICBpZiAoIWFuaW0uaW1tZWRpYXRlKSB7XG4gICAgICBhbmltLmZyb21WYWx1ZXMgPSBhbmltLnZhbHVlcy5tYXAoKG5vZGUpID0+IG5vZGUubGFzdFBvc2l0aW9uKTtcbiAgICB9XG4gICAgaWYgKCFpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgc2V0QWN0aXZlQml0KHRoaXMsIHRydWUpO1xuICAgICAgaWYgKCFpc1BhdXNlZCh0aGlzKSkge1xuICAgICAgICB0aGlzLl9yZXN1bWUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX3Jlc3VtZSgpIHtcbiAgICBpZiAoRzUuc2tpcEFuaW1hdGlvbikge1xuICAgICAgdGhpcy5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWVMb29wMi5zdGFydCh0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEV4aXQgdGhlIGZyYW1lbG9vcCBhbmQgbm90aWZ5IGBvblJlc3RgIGxpc3RlbmVycy5cbiAgICpcbiAgICogQWx3YXlzIHdyYXAgYF9zdG9wYCBjYWxscyB3aXRoIGBiYXRjaGVkVXBkYXRlc2AuXG4gICAqL1xuICBfc3RvcChnb2FsLCBjYW5jZWwpIHtcbiAgICBpZiAoaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIHNldEFjdGl2ZUJpdCh0aGlzLCBmYWxzZSk7XG4gICAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgICBlYWNoMihhbmltLnZhbHVlcywgKG5vZGUpID0+IHtcbiAgICAgICAgbm9kZS5kb25lID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFuaW0udG9WYWx1ZXMpIHtcbiAgICAgICAgYW5pbS5vbkNoYW5nZSA9IGFuaW0ub25QYXVzZSA9IGFuaW0ub25SZXN1bWUgPSB2b2lkIDA7XG4gICAgICB9XG4gICAgICBjYWxsRmx1aWRPYnNlcnZlcnMyKHRoaXMsIHtcbiAgICAgICAgdHlwZTogXCJpZGxlXCIsXG4gICAgICAgIHBhcmVudDogdGhpc1xuICAgICAgfSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYW5jZWwgPyBnZXRDYW5jZWxsZWRSZXN1bHQodGhpcy5nZXQoKSkgOiBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLmdldCgpLCBjaGVja0ZpbmlzaGVkKHRoaXMsIGdvYWwgPz8gYW5pbS50bykpO1xuICAgICAgZmx1c2hDYWxscyh0aGlzLl9wZW5kaW5nQ2FsbHMsIHJlc3VsdCk7XG4gICAgICBpZiAoYW5pbS5jaGFuZ2VkKSB7XG4gICAgICAgIGFuaW0uY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBzZW5kRXZlbnQodGhpcywgXCJvblJlc3RcIiwgcmVzdWx0LCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBjaGVja0ZpbmlzaGVkKHRhcmdldCwgdG8yKSB7XG4gIGNvbnN0IGdvYWwgPSBjb21wdXRlR29hbCh0bzIpO1xuICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVHb2FsKHRhcmdldC5nZXQoKSk7XG4gIHJldHVybiBpc0VxdWFsKHZhbHVlLCBnb2FsKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMsIGxvb3AgPSBwcm9wcy5sb29wLCB0bzIgPSBwcm9wcy50bykge1xuICBjb25zdCBsb29wUmV0ID0gY2FsbFByb3AobG9vcCk7XG4gIGlmIChsb29wUmV0KSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVzID0gbG9vcFJldCAhPT0gdHJ1ZSAmJiBpbmZlclRvKGxvb3BSZXQpO1xuICAgIGNvbnN0IHJldmVyc2UgPSAob3ZlcnJpZGVzIHx8IHByb3BzKS5yZXZlcnNlO1xuICAgIGNvbnN0IHJlc2V0ID0gIW92ZXJyaWRlcyB8fCBvdmVycmlkZXMucmVzZXQ7XG4gICAgcmV0dXJuIGNyZWF0ZVVwZGF0ZSh7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIGxvb3AsXG4gICAgICAvLyBBdm9pZCB1cGRhdGluZyBkZWZhdWx0IHByb3BzIHdoZW4gbG9vcGluZy5cbiAgICAgIGRlZmF1bHQ6IGZhbHNlLFxuICAgICAgLy8gTmV2ZXIgbG9vcCB0aGUgYHBhdXNlYCBwcm9wLlxuICAgICAgcGF1c2U6IHZvaWQgMCxcbiAgICAgIC8vIEZvciB0aGUgXCJyZXZlcnNlXCIgcHJvcCB0byBsb29wIGFzIGV4cGVjdGVkLCB0aGUgXCJ0b1wiIHByb3BcbiAgICAgIC8vIG11c3QgYmUgdW5kZWZpbmVkLiBUaGUgXCJyZXZlcnNlXCIgcHJvcCBpcyBpZ25vcmVkIHdoZW4gdGhlXG4gICAgICAvLyBcInRvXCIgcHJvcCBpcyBhbiBhcnJheSBvciBmdW5jdGlvbi5cbiAgICAgIHRvOiAhcmV2ZXJzZSB8fCBpc0FzeW5jVG8odG8yKSA/IHRvMiA6IHZvaWQgMCxcbiAgICAgIC8vIElnbm9yZSB0aGUgXCJmcm9tXCIgcHJvcCBleGNlcHQgb24gcmVzZXQuXG4gICAgICBmcm9tOiByZXNldCA/IHByb3BzLmZyb20gOiB2b2lkIDAsXG4gICAgICByZXNldCxcbiAgICAgIC8vIFRoZSBcImxvb3BcIiBwcm9wIGNhbiByZXR1cm4gYSBcInVzZVNwcmluZ1wiIHByb3BzIG9iamVjdCB0b1xuICAgICAgLy8gb3ZlcnJpZGUgYW55IG9mIHRoZSBvcmlnaW5hbCBwcm9wcy5cbiAgICAgIC4uLm92ZXJyaWRlc1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVVcGRhdGUocHJvcHMpIHtcbiAgY29uc3QgeyB0bzogdG8yLCBmcm9tIH0gPSBwcm9wcyA9IGluZmVyVG8ocHJvcHMpO1xuICBjb25zdCBrZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgaWYgKGlzNS5vYmoodG8yKSlcbiAgICBmaW5kRGVmaW5lZCh0bzIsIGtleXMpO1xuICBpZiAoaXM1Lm9iaihmcm9tKSlcbiAgICBmaW5kRGVmaW5lZChmcm9tLCBrZXlzKTtcbiAgcHJvcHMua2V5cyA9IGtleXMuc2l6ZSA/IEFycmF5LmZyb20oa2V5cykgOiBudWxsO1xuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBkZWNsYXJlVXBkYXRlKHByb3BzKSB7XG4gIGNvbnN0IHVwZGF0ZTIgPSBjcmVhdGVVcGRhdGUocHJvcHMpO1xuICBpZiAoaXM1LnVuZCh1cGRhdGUyLmRlZmF1bHQpKSB7XG4gICAgdXBkYXRlMi5kZWZhdWx0ID0gZ2V0RGVmYXVsdFByb3BzKHVwZGF0ZTIpO1xuICB9XG4gIHJldHVybiB1cGRhdGUyO1xufVxuZnVuY3Rpb24gZmluZERlZmluZWQodmFsdWVzLCBrZXlzKSB7XG4gIGVhY2hQcm9wMyh2YWx1ZXMsICh2YWx1ZSwga2V5KSA9PiB2YWx1ZSAhPSBudWxsICYmIGtleXMuYWRkKGtleSkpO1xufVxudmFyIEFDVElWRV9FVkVOVFMgPSBbXG4gIFwib25TdGFydFwiLFxuICBcIm9uUmVzdFwiLFxuICBcIm9uQ2hhbmdlXCIsXG4gIFwib25QYXVzZVwiLFxuICBcIm9uUmVzdW1lXCJcbl07XG5mdW5jdGlvbiBtZXJnZUFjdGl2ZUZuKHRhcmdldCwgcHJvcHMsIHR5cGUpIHtcbiAgdGFyZ2V0LmFuaW1hdGlvblt0eXBlXSA9IHByb3BzW3R5cGVdICE9PSBnZXREZWZhdWx0UHJvcChwcm9wcywgdHlwZSkgPyByZXNvbHZlUHJvcChwcm9wc1t0eXBlXSwgdGFyZ2V0LmtleSkgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBzZW5kRXZlbnQodGFyZ2V0LCB0eXBlLCAuLi5hcmdzKSB7XG4gIHRhcmdldC5hbmltYXRpb25bdHlwZV0/LiguLi5hcmdzKTtcbiAgdGFyZ2V0LmRlZmF1bHRQcm9wc1t0eXBlXT8uKC4uLmFyZ3MpO1xufVxuXG4vLyBzcmMvQ29udHJvbGxlci50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM2LFxuICByYWYgYXMgcmFmNCxcbiAgZWFjaCBhcyBlYWNoMyxcbiAgbm9vcCxcbiAgZmx1c2ggYXMgZmx1c2gyLFxuICB0b0FycmF5IGFzIHRvQXJyYXkzLFxuICBlYWNoUHJvcCBhcyBlYWNoUHJvcDQsXG4gIGZsdXNoQ2FsbHMgYXMgZmx1c2hDYWxsczIsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIgYXMgYWRkRmx1aWRPYnNlcnZlcjJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgQkFUQ0hFRF9FVkVOVFMgPSBbXCJvblN0YXJ0XCIsIFwib25DaGFuZ2VcIiwgXCJvblJlc3RcIl07XG52YXIgbmV4dElkMiA9IDE7XG52YXIgQ29udHJvbGxlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocHJvcHMsIGZsdXNoMykge1xuICAgIHRoaXMuaWQgPSBuZXh0SWQyKys7XG4gICAgLyoqIFRoZSBhbmltYXRlZCB2YWx1ZXMgKi9cbiAgICB0aGlzLnNwcmluZ3MgPSB7fTtcbiAgICAvKiogVGhlIHF1ZXVlIG9mIHByb3BzIHBhc3NlZCB0byB0aGUgYHVwZGF0ZWAgbWV0aG9kLiAqL1xuICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAvKiogVGhlIGNvdW50ZXIgZm9yIHRyYWNraW5nIGBzY2hlZHVsZVByb3BzYCBjYWxscyAqL1xuICAgIHRoaXMuX2xhc3RBc3luY0lkID0gMDtcbiAgICAvKiogVGhlIHZhbHVlcyBjdXJyZW50bHkgYmVpbmcgYW5pbWF0ZWQgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIC8qKiBUaGUgdmFsdWVzIHRoYXQgY2hhbmdlZCByZWNlbnRseSAqL1xuICAgIHRoaXMuX2NoYW5nZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIC8qKiBFcXVhbHMgZmFsc2Ugd2hlbiBgb25TdGFydGAgbGlzdGVuZXJzIGNhbiBiZSBjYWxsZWQgKi9cbiAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgLyoqIFN0YXRlIHVzZWQgYnkgdGhlIGBydW5Bc3luY2AgZnVuY3Rpb24gKi9cbiAgICB0aGlzLl9zdGF0ZSA9IHtcbiAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICBwYXVzZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgcmVzdW1lUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICB0aW1lb3V0czogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICAgIH07XG4gICAgLyoqIFRoZSBldmVudCBxdWV1ZXMgdGhhdCBhcmUgZmx1c2hlZCBvbmNlIHBlciBmcmFtZSBtYXhpbXVtICovXG4gICAgdGhpcy5fZXZlbnRzID0ge1xuICAgICAgb25TdGFydDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgIG9uQ2hhbmdlOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgb25SZXN0OiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gICAgfTtcbiAgICB0aGlzLl9vbkZyYW1lID0gdGhpcy5fb25GcmFtZS5iaW5kKHRoaXMpO1xuICAgIGlmIChmbHVzaDMpIHtcbiAgICAgIHRoaXMuX2ZsdXNoID0gZmx1c2gzO1xuICAgIH1cbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIHRoaXMuc3RhcnQoeyBkZWZhdWx0OiB0cnVlLCAuLi5wcm9wcyB9KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEVxdWFscyBgdHJ1ZWAgd2hlbiBubyBzcHJpbmcgdmFsdWVzIGFyZSBpbiB0aGUgZnJhbWVsb29wLCBhbmRcbiAgICogbm8gYXN5bmMgYW5pbWF0aW9uIGlzIGN1cnJlbnRseSBhY3RpdmUuXG4gICAqL1xuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIXRoaXMuX3N0YXRlLmFzeW5jVG8gJiYgT2JqZWN0LnZhbHVlcyh0aGlzLnNwcmluZ3MpLmV2ZXJ5KChzcHJpbmcpID0+IHtcbiAgICAgIHJldHVybiBzcHJpbmcuaWRsZSAmJiAhc3ByaW5nLmlzRGVsYXllZCAmJiAhc3ByaW5nLmlzUGF1c2VkO1xuICAgIH0pO1xuICB9XG4gIGdldCBpdGVtKCkge1xuICAgIHJldHVybiB0aGlzLl9pdGVtO1xuICB9XG4gIHNldCBpdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9pdGVtID0gaXRlbTtcbiAgfVxuICAvKiogR2V0IHRoZSBjdXJyZW50IHZhbHVlcyBvZiBvdXIgc3ByaW5ncyAqL1xuICBnZXQoKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgdGhpcy5lYWNoKChzcHJpbmcsIGtleSkgPT4gdmFsdWVzW2tleV0gPSBzcHJpbmcuZ2V0KCkpO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbiAgLyoqIFNldCB0aGUgY3VycmVudCB2YWx1ZXMgd2l0aG91dCBhbmltYXRpbmcuICovXG4gIHNldCh2YWx1ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2tleV07XG4gICAgICBpZiAoIWlzNi51bmQodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuc3ByaW5nc1trZXldLnNldCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKiBQdXNoIGFuIHVwZGF0ZSBvbnRvIHRoZSBxdWV1ZSBvZiBlYWNoIHZhbHVlLiAqL1xuICB1cGRhdGUocHJvcHMpIHtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChjcmVhdGVVcGRhdGUocHJvcHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFN0YXJ0IHRoZSBxdWV1ZWQgYW5pbWF0aW9ucyBmb3IgZXZlcnkgc3ByaW5nLCBhbmQgcmVzb2x2ZSB0aGUgcmV0dXJuZWRcbiAgICogcHJvbWlzZSBvbmNlIGFsbCBxdWV1ZWQgYW5pbWF0aW9ucyBoYXZlIGZpbmlzaGVkIG9yIGJlZW4gY2FuY2VsbGVkLlxuICAgKlxuICAgKiBXaGVuIHlvdSBwYXNzIGEgcXVldWUgKGluc3RlYWQgb2Ygbm90aGluZyksIHRoYXQgcXVldWUgaXMgdXNlZCBpbnN0ZWFkIG9mXG4gICAqIHRoZSBxdWV1ZWQgYW5pbWF0aW9ucyBhZGRlZCB3aXRoIHRoZSBgdXBkYXRlYCBtZXRob2QsIHdoaWNoIGFyZSBsZWZ0IGFsb25lLlxuICAgKi9cbiAgc3RhcnQocHJvcHMpIHtcbiAgICBsZXQgeyBxdWV1ZSB9ID0gdGhpcztcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIHF1ZXVlID0gdG9BcnJheTMocHJvcHMpLm1hcChjcmVhdGVVcGRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgfVxuICAgIGlmICh0aGlzLl9mbHVzaCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZsdXNoKHRoaXMsIHF1ZXVlKTtcbiAgICB9XG4gICAgcHJlcGFyZUtleXModGhpcywgcXVldWUpO1xuICAgIHJldHVybiBmbHVzaFVwZGF0ZVF1ZXVlKHRoaXMsIHF1ZXVlKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0b3AoYXJnLCBrZXlzKSB7XG4gICAgaWYgKGFyZyAhPT0gISFhcmcpIHtcbiAgICAgIGtleXMgPSBhcmc7XG4gICAgfVxuICAgIGlmIChrZXlzKSB7XG4gICAgICBjb25zdCBzcHJpbmdzID0gdGhpcy5zcHJpbmdzO1xuICAgICAgZWFjaDModG9BcnJheTMoa2V5cyksIChrZXkpID0+IHNwcmluZ3Nba2V5XS5zdG9wKCEhYXJnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BBc3luYyh0aGlzLl9zdGF0ZSwgdGhpcy5fbGFzdEFzeW5jSWQpO1xuICAgICAgdGhpcy5lYWNoKChzcHJpbmcpID0+IHNwcmluZy5zdG9wKCEhYXJnKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBGcmVlemUgdGhlIGFjdGl2ZSBhbmltYXRpb24gaW4gdGltZSAqL1xuICBwYXVzZShrZXlzKSB7XG4gICAgaWYgKGlzNi51bmQoa2V5cykpIHtcbiAgICAgIHRoaXMuc3RhcnQoeyBwYXVzZTogdHJ1ZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICAgIGVhY2gzKHRvQXJyYXkzKGtleXMpLCAoa2V5KSA9PiBzcHJpbmdzW2tleV0ucGF1c2UoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBSZXN1bWUgdGhlIGFuaW1hdGlvbiBpZiBwYXVzZWQuICovXG4gIHJlc3VtZShrZXlzKSB7XG4gICAgaWYgKGlzNi51bmQoa2V5cykpIHtcbiAgICAgIHRoaXMuc3RhcnQoeyBwYXVzZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSB0aGlzLnNwcmluZ3M7XG4gICAgICBlYWNoMyh0b0FycmF5MyhrZXlzKSwgKGtleSkgPT4gc3ByaW5nc1trZXldLnJlc3VtZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIENhbGwgYSBmdW5jdGlvbiBvbmNlIHBlciBzcHJpbmcgdmFsdWUgKi9cbiAgZWFjaChpdGVyYXRvcikge1xuICAgIGVhY2hQcm9wNCh0aGlzLnNwcmluZ3MsIGl0ZXJhdG9yKTtcbiAgfVxuICAvKiogQGludGVybmFsIENhbGxlZCBhdCB0aGUgZW5kIG9mIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZSAqL1xuICBfb25GcmFtZSgpIHtcbiAgICBjb25zdCB7IG9uU3RhcnQsIG9uQ2hhbmdlLCBvblJlc3QgfSA9IHRoaXMuX2V2ZW50cztcbiAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9hY3RpdmUuc2l6ZSA+IDA7XG4gICAgY29uc3QgY2hhbmdlZCA9IHRoaXMuX2NoYW5nZWQuc2l6ZSA+IDA7XG4gICAgaWYgKGFjdGl2ZSAmJiAhdGhpcy5fc3RhcnRlZCB8fCBjaGFuZ2VkICYmICF0aGlzLl9zdGFydGVkKSB7XG4gICAgICB0aGlzLl9zdGFydGVkID0gdHJ1ZTtcbiAgICAgIGZsdXNoMihvblN0YXJ0LCAoW29uU3RhcnQyLCByZXN1bHRdKSA9PiB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgICAgIG9uU3RhcnQyKHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgaWRsZSA9ICFhY3RpdmUgJiYgdGhpcy5fc3RhcnRlZDtcbiAgICBjb25zdCB2YWx1ZXMgPSBjaGFuZ2VkIHx8IGlkbGUgJiYgb25SZXN0LnNpemUgPyB0aGlzLmdldCgpIDogbnVsbDtcbiAgICBpZiAoY2hhbmdlZCAmJiBvbkNoYW5nZS5zaXplKSB7XG4gICAgICBmbHVzaDIob25DaGFuZ2UsIChbb25DaGFuZ2UyLCByZXN1bHRdKSA9PiB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHZhbHVlcztcbiAgICAgICAgb25DaGFuZ2UyKHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlkbGUpIHtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIGZsdXNoMihvblJlc3QsIChbb25SZXN0MiwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB2YWx1ZXM7XG4gICAgICAgIG9uUmVzdDIocmVzdWx0LCB0aGlzLCB0aGlzLl9pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICB0aGlzLl9jaGFuZ2VkLmFkZChldmVudC5wYXJlbnQpO1xuICAgICAgaWYgKCFldmVudC5pZGxlKSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJpZGxlXCIpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZS5kZWxldGUoZXZlbnQucGFyZW50KTtcbiAgICB9IGVsc2VcbiAgICAgIHJldHVybjtcbiAgICByYWY0Lm9uRnJhbWUodGhpcy5fb25GcmFtZSk7XG4gIH1cbn07XG5mdW5jdGlvbiBmbHVzaFVwZGF0ZVF1ZXVlKGN0cmwsIHF1ZXVlKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChxdWV1ZS5tYXAoKHByb3BzKSA9PiBmbHVzaFVwZGF0ZShjdHJsLCBwcm9wcykpKS50aGVuKFxuICAgIChyZXN1bHRzKSA9PiBnZXRDb21iaW5lZFJlc3VsdChjdHJsLCByZXN1bHRzKVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gZmx1c2hVcGRhdGUoY3RybCwgcHJvcHMsIGlzTG9vcCkge1xuICBjb25zdCB7IGtleXMsIHRvOiB0bzIsIGZyb20sIGxvb3AsIG9uUmVzdCwgb25SZXNvbHZlIH0gPSBwcm9wcztcbiAgY29uc3QgZGVmYXVsdHMyID0gaXM2Lm9iaihwcm9wcy5kZWZhdWx0KSAmJiBwcm9wcy5kZWZhdWx0O1xuICBpZiAobG9vcCkge1xuICAgIHByb3BzLmxvb3AgPSBmYWxzZTtcbiAgfVxuICBpZiAodG8yID09PSBmYWxzZSlcbiAgICBwcm9wcy50byA9IG51bGw7XG4gIGlmIChmcm9tID09PSBmYWxzZSlcbiAgICBwcm9wcy5mcm9tID0gbnVsbDtcbiAgY29uc3QgYXN5bmNUbyA9IGlzNi5hcnIodG8yKSB8fCBpczYuZnVuKHRvMikgPyB0bzIgOiB2b2lkIDA7XG4gIGlmIChhc3luY1RvKSB7XG4gICAgcHJvcHMudG8gPSB2b2lkIDA7XG4gICAgcHJvcHMub25SZXN0ID0gdm9pZCAwO1xuICAgIGlmIChkZWZhdWx0czIpIHtcbiAgICAgIGRlZmF1bHRzMi5vblJlc3QgPSB2b2lkIDA7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGVhY2gzKEJBVENIRURfRVZFTlRTLCAoa2V5KSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gcHJvcHNba2V5XTtcbiAgICAgIGlmIChpczYuZnVuKGhhbmRsZXIpKSB7XG4gICAgICAgIGNvbnN0IHF1ZXVlID0gY3RybFtcIl9ldmVudHNcIl1ba2V5XTtcbiAgICAgICAgcHJvcHNba2V5XSA9ICh7IGZpbmlzaGVkLCBjYW5jZWxsZWQgfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBxdWV1ZS5nZXQoaGFuZGxlcik7XG4gICAgICAgICAgaWYgKHJlc3VsdDIpIHtcbiAgICAgICAgICAgIGlmICghZmluaXNoZWQpXG4gICAgICAgICAgICAgIHJlc3VsdDIuZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChjYW5jZWxsZWQpXG4gICAgICAgICAgICAgIHJlc3VsdDIuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVldWUuc2V0KGhhbmRsZXIsIHtcbiAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgIGZpbmlzaGVkOiBmaW5pc2hlZCB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgY2FuY2VsbGVkOiBjYW5jZWxsZWQgfHwgZmFsc2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGRlZmF1bHRzMikge1xuICAgICAgICAgIGRlZmF1bHRzMltrZXldID0gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHN0YXRlID0gY3RybFtcIl9zdGF0ZVwiXTtcbiAgaWYgKHByb3BzLnBhdXNlID09PSAhc3RhdGUucGF1c2VkKSB7XG4gICAgc3RhdGUucGF1c2VkID0gcHJvcHMucGF1c2U7XG4gICAgZmx1c2hDYWxsczIocHJvcHMucGF1c2UgPyBzdGF0ZS5wYXVzZVF1ZXVlIDogc3RhdGUucmVzdW1lUXVldWUpO1xuICB9IGVsc2UgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgIHByb3BzLnBhdXNlID0gdHJ1ZTtcbiAgfVxuICBjb25zdCBwcm9taXNlcyA9IChrZXlzIHx8IE9iamVjdC5rZXlzKGN0cmwuc3ByaW5ncykpLm1hcChcbiAgICAoa2V5KSA9PiBjdHJsLnNwcmluZ3Nba2V5XS5zdGFydChwcm9wcylcbiAgKTtcbiAgY29uc3QgY2FuY2VsID0gcHJvcHMuY2FuY2VsID09PSB0cnVlIHx8IGdldERlZmF1bHRQcm9wKHByb3BzLCBcImNhbmNlbFwiKSA9PT0gdHJ1ZTtcbiAgaWYgKGFzeW5jVG8gfHwgY2FuY2VsICYmIHN0YXRlLmFzeW5jSWQpIHtcbiAgICBwcm9taXNlcy5wdXNoKFxuICAgICAgc2NoZWR1bGVQcm9wcygrK2N0cmxbXCJfbGFzdEFzeW5jSWRcIl0sIHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgcGF1c2U6IG5vb3AsXG4gICAgICAgICAgcmVzdW1lOiBub29wLFxuICAgICAgICAgIHN0YXJ0KHByb3BzMiwgcmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKGNhbmNlbCkge1xuICAgICAgICAgICAgICBzdG9wQXN5bmMoc3RhdGUsIGN0cmxbXCJfbGFzdEFzeW5jSWRcIl0pO1xuICAgICAgICAgICAgICByZXNvbHZlKGdldENhbmNlbGxlZFJlc3VsdChjdHJsKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwcm9wczIub25SZXN0ID0gb25SZXN0O1xuICAgICAgICAgICAgICByZXNvbHZlKFxuICAgICAgICAgICAgICAgIHJ1bkFzeW5jKFxuICAgICAgICAgICAgICAgICAgYXN5bmNUbyxcbiAgICAgICAgICAgICAgICAgIHByb3BzMixcbiAgICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgICAgY3RybFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBpZiAoc3RhdGUucGF1c2VkKSB7XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc3VtZSkgPT4ge1xuICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKHJlc3VtZSk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gZ2V0Q29tYmluZWRSZXN1bHQoY3RybCwgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpKTtcbiAgaWYgKGxvb3AgJiYgcmVzdWx0LmZpbmlzaGVkICYmICEoaXNMb29wICYmIHJlc3VsdC5ub29wKSkge1xuICAgIGNvbnN0IG5leHRQcm9wcyA9IGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMsIGxvb3AsIHRvMik7XG4gICAgaWYgKG5leHRQcm9wcykge1xuICAgICAgcHJlcGFyZUtleXMoY3RybCwgW25leHRQcm9wc10pO1xuICAgICAgcmV0dXJuIGZsdXNoVXBkYXRlKGN0cmwsIG5leHRQcm9wcywgdHJ1ZSk7XG4gICAgfVxuICB9XG4gIGlmIChvblJlc29sdmUpIHtcbiAgICByYWY0LmJhdGNoZWRVcGRhdGVzKCgpID0+IG9uUmVzb2x2ZShyZXN1bHQsIGN0cmwsIGN0cmwuaXRlbSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRTcHJpbmdzKGN0cmwsIHByb3BzKSB7XG4gIGNvbnN0IHNwcmluZ3MgPSB7IC4uLmN0cmwuc3ByaW5ncyB9O1xuICBpZiAocHJvcHMpIHtcbiAgICBlYWNoMyh0b0FycmF5Myhwcm9wcyksIChwcm9wczIpID0+IHtcbiAgICAgIGlmIChpczYudW5kKHByb3BzMi5rZXlzKSkge1xuICAgICAgICBwcm9wczIgPSBjcmVhdGVVcGRhdGUocHJvcHMyKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXM2Lm9iaihwcm9wczIudG8pKSB7XG4gICAgICAgIHByb3BzMiA9IHsgLi4ucHJvcHMyLCB0bzogdm9pZCAwIH07XG4gICAgICB9XG4gICAgICBwcmVwYXJlU3ByaW5ncyhzcHJpbmdzLCBwcm9wczIsIChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVNwcmluZyhrZXkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgc2V0U3ByaW5ncyhjdHJsLCBzcHJpbmdzKTtcbiAgcmV0dXJuIHNwcmluZ3M7XG59XG5mdW5jdGlvbiBzZXRTcHJpbmdzKGN0cmwsIHNwcmluZ3MpIHtcbiAgZWFjaFByb3A0KHNwcmluZ3MsIChzcHJpbmcsIGtleSkgPT4ge1xuICAgIGlmICghY3RybC5zcHJpbmdzW2tleV0pIHtcbiAgICAgIGN0cmwuc3ByaW5nc1trZXldID0gc3ByaW5nO1xuICAgICAgYWRkRmx1aWRPYnNlcnZlcjIoc3ByaW5nLCBjdHJsKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU3ByaW5nKGtleSwgb2JzZXJ2ZXIpIHtcbiAgY29uc3Qgc3ByaW5nID0gbmV3IFNwcmluZ1ZhbHVlKCk7XG4gIHNwcmluZy5rZXkgPSBrZXk7XG4gIGlmIChvYnNlcnZlcikge1xuICAgIGFkZEZsdWlkT2JzZXJ2ZXIyKHNwcmluZywgb2JzZXJ2ZXIpO1xuICB9XG4gIHJldHVybiBzcHJpbmc7XG59XG5mdW5jdGlvbiBwcmVwYXJlU3ByaW5ncyhzcHJpbmdzLCBwcm9wcywgY3JlYXRlKSB7XG4gIGlmIChwcm9wcy5rZXlzKSB7XG4gICAgZWFjaDMocHJvcHMua2V5cywgKGtleSkgPT4ge1xuICAgICAgY29uc3Qgc3ByaW5nID0gc3ByaW5nc1trZXldIHx8IChzcHJpbmdzW2tleV0gPSBjcmVhdGUoa2V5KSk7XG4gICAgICBzcHJpbmdbXCJfcHJlcGFyZU5vZGVcIl0ocHJvcHMpO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBwcmVwYXJlS2V5cyhjdHJsLCBxdWV1ZSkge1xuICBlYWNoMyhxdWV1ZSwgKHByb3BzKSA9PiB7XG4gICAgcHJlcGFyZVNwcmluZ3MoY3RybC5zcHJpbmdzLCBwcm9wcywgKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNwcmluZyhrZXksIGN0cmwpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gc3JjL1NwcmluZ0NvbnRleHQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lbW9PbmUgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBTcHJpbmdDb250ZXh0ID0gKHtcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IGluaGVyaXRlZCA9IHVzZUNvbnRleHQoY3R4KTtcbiAgY29uc3QgcGF1c2UgPSBwcm9wcy5wYXVzZSB8fCAhIWluaGVyaXRlZC5wYXVzZSwgaW1tZWRpYXRlID0gcHJvcHMuaW1tZWRpYXRlIHx8ICEhaW5oZXJpdGVkLmltbWVkaWF0ZTtcbiAgcHJvcHMgPSB1c2VNZW1vT25lKCgpID0+ICh7IHBhdXNlLCBpbW1lZGlhdGUgfSksIFtwYXVzZSwgaW1tZWRpYXRlXSk7XG4gIGNvbnN0IHsgUHJvdmlkZXIgfSA9IGN0eDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7IHZhbHVlOiBwcm9wcyB9LCBjaGlsZHJlbik7XG59O1xudmFyIGN0eCA9IG1ha2VDb250ZXh0KFNwcmluZ0NvbnRleHQsIHt9KTtcblNwcmluZ0NvbnRleHQuUHJvdmlkZXIgPSBjdHguUHJvdmlkZXI7XG5TcHJpbmdDb250ZXh0LkNvbnN1bWVyID0gY3R4LkNvbnN1bWVyO1xuZnVuY3Rpb24gbWFrZUNvbnRleHQodGFyZ2V0LCBpbml0KSB7XG4gIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBSZWFjdC5jcmVhdGVDb250ZXh0KGluaXQpKTtcbiAgdGFyZ2V0LlByb3ZpZGVyLl9jb250ZXh0ID0gdGFyZ2V0O1xuICB0YXJnZXQuQ29uc3VtZXIuX2NvbnRleHQgPSB0YXJnZXQ7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbi8vIHNyYy9TcHJpbmdSZWYudHNcbmltcG9ydCB7IGVhY2ggYXMgZWFjaDQsIGlzIGFzIGlzNywgZGVwcmVjYXRlRGlyZWN0Q2FsbCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIFNwcmluZ1JlZiA9ICgpID0+IHtcbiAgY29uc3QgY3VycmVudCA9IFtdO1xuICBjb25zdCBTcHJpbmdSZWYyID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICBkZXByZWNhdGVEaXJlY3RDYWxsKCk7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBpZiAoaXM3LnVuZChwcm9wcykpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1cGRhdGUyID0gX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKTtcbiAgICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCh1cGRhdGUyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcbiAgU3ByaW5nUmVmMi5jdXJyZW50ID0gY3VycmVudDtcbiAgU3ByaW5nUmVmMi5hZGQgPSBmdW5jdGlvbihjdHJsKSB7XG4gICAgaWYgKCFjdXJyZW50LmluY2x1ZGVzKGN0cmwpKSB7XG4gICAgICBjdXJyZW50LnB1c2goY3RybCk7XG4gICAgfVxuICB9O1xuICBTcHJpbmdSZWYyLmRlbGV0ZSA9IGZ1bmN0aW9uKGN0cmwpIHtcbiAgICBjb25zdCBpID0gY3VycmVudC5pbmRleE9mKGN0cmwpO1xuICAgIGlmICh+aSlcbiAgICAgIGN1cnJlbnQuc3BsaWNlKGksIDEpO1xuICB9O1xuICBTcHJpbmdSZWYyLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwpID0+IGN0cmwucGF1c2UoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFNwcmluZ1JlZjIucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwpID0+IGN0cmwucmVzdW1lKC4uLmFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBTcHJpbmdSZWYyLnNldCA9IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBjb25zdCB1cGRhdGUyID0gaXM3LmZ1bih2YWx1ZXMpID8gdmFsdWVzKGksIGN0cmwpIDogdmFsdWVzO1xuICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgY3RybC5zZXQodXBkYXRlMik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIFNwcmluZ1JlZjIuc3RhcnQgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgaWYgKGlzNy51bmQocHJvcHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlMiA9IHRoaXMuX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKTtcbiAgICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCh1cGRhdGUyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcbiAgU3ByaW5nUmVmMi5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwpID0+IGN0cmwuc3RvcCguLi5hcmd1bWVudHMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgU3ByaW5nUmVmMi51cGRhdGUgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiBjdHJsLnVwZGF0ZSh0aGlzLl9nZXRQcm9wcyhwcm9wcywgY3RybCwgaSkpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgY29uc3QgX2dldFByb3BzID0gZnVuY3Rpb24oYXJnLCBjdHJsLCBpbmRleCkge1xuICAgIHJldHVybiBpczcuZnVuKGFyZykgPyBhcmcoaW5kZXgsIGN0cmwpIDogYXJnO1xuICB9O1xuICBTcHJpbmdSZWYyLl9nZXRQcm9wcyA9IF9nZXRQcm9wcztcbiAgcmV0dXJuIFNwcmluZ1JlZjI7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5ncy50c1xuZnVuY3Rpb24gdXNlU3ByaW5ncyhsZW5ndGgsIHByb3BzLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpczguZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgaWYgKHByb3BzRm4gJiYgIWRlcHMpXG4gICAgZGVwcyA9IFtdO1xuICBjb25zdCByZWYgPSB1c2VNZW1vKFxuICAgICgpID0+IHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzID8gU3ByaW5nUmVmKCkgOiB2b2lkIDAsXG4gICAgW11cbiAgKTtcbiAgY29uc3QgbGF5b3V0SWQgPSB1c2VSZWYoMCk7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgY29uc3Qgc3RhdGUgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBjdHJsczogW10sXG4gICAgICBxdWV1ZTogW10sXG4gICAgICBmbHVzaChjdHJsLCB1cGRhdGVzMikge1xuICAgICAgICBjb25zdCBzcHJpbmdzMiA9IGdldFNwcmluZ3MoY3RybCwgdXBkYXRlczIpO1xuICAgICAgICBjb25zdCBjYW5GbHVzaFN5bmMgPSBsYXlvdXRJZC5jdXJyZW50ID4gMCAmJiAhc3RhdGUucXVldWUubGVuZ3RoICYmICFPYmplY3Qua2V5cyhzcHJpbmdzMikuc29tZSgoa2V5KSA9PiAhY3RybC5zcHJpbmdzW2tleV0pO1xuICAgICAgICByZXR1cm4gY2FuRmx1c2hTeW5jID8gZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCB1cGRhdGVzMikgOiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgIHNldFNwcmluZ3MoY3RybCwgc3ByaW5nczIpO1xuICAgICAgICAgIHN0YXRlLnF1ZXVlLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShmbHVzaFVwZGF0ZVF1ZXVlKGN0cmwsIHVwZGF0ZXMyKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgY29uc3QgY3RybHMgPSB1c2VSZWYoWy4uLnN0YXRlLmN0cmxzXSk7XG4gIGNvbnN0IHVwZGF0ZXMgPSBbXTtcbiAgY29uc3QgcHJldkxlbmd0aCA9IHVzZVByZXYobGVuZ3RoKSB8fCAwO1xuICB1c2VNZW1vKCgpID0+IHtcbiAgICBlYWNoNShjdHJscy5jdXJyZW50LnNsaWNlKGxlbmd0aCwgcHJldkxlbmd0aCksIChjdHJsKSA9PiB7XG4gICAgICBkZXRhY2hSZWZzKGN0cmwsIHJlZik7XG4gICAgICBjdHJsLnN0b3AodHJ1ZSk7XG4gICAgfSk7XG4gICAgY3RybHMuY3VycmVudC5sZW5ndGggPSBsZW5ndGg7XG4gICAgZGVjbGFyZVVwZGF0ZXMocHJldkxlbmd0aCwgbGVuZ3RoKTtcbiAgfSwgW2xlbmd0aF0pO1xuICB1c2VNZW1vKCgpID0+IHtcbiAgICBkZWNsYXJlVXBkYXRlcygwLCBNYXRoLm1pbihwcmV2TGVuZ3RoLCBsZW5ndGgpKTtcbiAgfSwgZGVwcyk7XG4gIGZ1bmN0aW9uIGRlY2xhcmVVcGRhdGVzKHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBlbmRJbmRleDsgaSsrKSB7XG4gICAgICBjb25zdCBjdHJsID0gY3RybHMuY3VycmVudFtpXSB8fCAoY3RybHMuY3VycmVudFtpXSA9IG5ldyBDb250cm9sbGVyKG51bGwsIHN0YXRlLmZsdXNoKSk7XG4gICAgICBjb25zdCB1cGRhdGUyID0gcHJvcHNGbiA/IHByb3BzRm4oaSwgY3RybCkgOiBwcm9wc1tpXTtcbiAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgIHVwZGF0ZXNbaV0gPSBkZWNsYXJlVXBkYXRlKHVwZGF0ZTIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25zdCBzcHJpbmdzID0gY3RybHMuY3VycmVudC5tYXAoKGN0cmwsIGkpID0+IGdldFNwcmluZ3MoY3RybCwgdXBkYXRlc1tpXSkpO1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDIoU3ByaW5nQ29udGV4dCk7XG4gIGNvbnN0IHByZXZDb250ZXh0ID0gdXNlUHJldihjb250ZXh0KTtcbiAgY29uc3QgaGFzQ29udGV4dCA9IGNvbnRleHQgIT09IHByZXZDb250ZXh0ICYmIGhhc1Byb3BzKGNvbnRleHQpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0MigoKSA9PiB7XG4gICAgbGF5b3V0SWQuY3VycmVudCsrO1xuICAgIHN0YXRlLmN0cmxzID0gY3RybHMuY3VycmVudDtcbiAgICBjb25zdCB7IHF1ZXVlIH0gPSBzdGF0ZTtcbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICBzdGF0ZS5xdWV1ZSA9IFtdO1xuICAgICAgZWFjaDUocXVldWUsIChjYikgPT4gY2IoKSk7XG4gICAgfVxuICAgIGVhY2g1KGN0cmxzLmN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICByZWY/LmFkZChjdHJsKTtcbiAgICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICAgIGN0cmwuc3RhcnQoeyBkZWZhdWx0OiBjb250ZXh0IH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgdXBkYXRlMiA9IHVwZGF0ZXNbaV07XG4gICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICByZXBsYWNlUmVmKGN0cmwsIHVwZGF0ZTIucmVmKTtcbiAgICAgICAgaWYgKGN0cmwucmVmKSB7XG4gICAgICAgICAgY3RybC5xdWV1ZS5wdXNoKHVwZGF0ZTIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN0cmwuc3RhcnQodXBkYXRlMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHVzZU9uY2UoKCkgPT4gKCkgPT4ge1xuICAgIGVhY2g1KHN0YXRlLmN0cmxzLCAoY3RybCkgPT4gY3RybC5zdG9wKHRydWUpKTtcbiAgfSk7XG4gIGNvbnN0IHZhbHVlcyA9IHNwcmluZ3MubWFwKCh4KSA9PiAoeyAuLi54IH0pKTtcbiAgcmV0dXJuIHJlZiA/IFt2YWx1ZXMsIHJlZl0gOiB2YWx1ZXM7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmcudHNcbmZ1bmN0aW9uIHVzZVNwcmluZyhwcm9wcywgZGVwcykge1xuICBjb25zdCBpc0ZuID0gaXM5LmZ1bihwcm9wcyk7XG4gIGNvbnN0IFtbdmFsdWVzXSwgcmVmXSA9IHVzZVNwcmluZ3MoXG4gICAgMSxcbiAgICBpc0ZuID8gcHJvcHMgOiBbcHJvcHNdLFxuICAgIGlzRm4gPyBkZXBzIHx8IFtdIDogZGVwc1xuICApO1xuICByZXR1cm4gaXNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDIgPyBbdmFsdWVzLCByZWZdIDogdmFsdWVzO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5nUmVmLnRzXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGluaXRTcHJpbmdSZWYgPSAoKSA9PiBTcHJpbmdSZWYoKTtcbnZhciB1c2VTcHJpbmdSZWYgPSAoKSA9PiB1c2VTdGF0ZShpbml0U3ByaW5nUmVmKVswXTtcblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ1ZhbHVlLnRzXG5pbXBvcnQgeyB1c2VDb25zdGFudCwgdXNlT25jZSBhcyB1c2VPbmNlMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHVzZVNwcmluZ1ZhbHVlID0gKGluaXRpYWwsIHByb3BzKSA9PiB7XG4gIGNvbnN0IHNwcmluZ1ZhbHVlID0gdXNlQ29uc3RhbnQoKCkgPT4gbmV3IFNwcmluZ1ZhbHVlKGluaXRpYWwsIHByb3BzKSk7XG4gIHVzZU9uY2UyKCgpID0+ICgpID0+IHtcbiAgICBzcHJpbmdWYWx1ZS5zdG9wKCk7XG4gIH0pO1xuICByZXR1cm4gc3ByaW5nVmFsdWU7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlVHJhaWwudHNcbmltcG9ydCB7IGVhY2ggYXMgZWFjaDYsIGlzIGFzIGlzMTAsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIHVzZVRyYWlsKGxlbmd0aCwgcHJvcHNBcmcsIGRlcHMpIHtcbiAgY29uc3QgcHJvcHNGbiA9IGlzMTAuZnVuKHByb3BzQXJnKSAmJiBwcm9wc0FyZztcbiAgaWYgKHByb3BzRm4gJiYgIWRlcHMpXG4gICAgZGVwcyA9IFtdO1xuICBsZXQgcmV2ZXJzZSA9IHRydWU7XG4gIGxldCBwYXNzZWRSZWYgPSB2b2lkIDA7XG4gIGNvbnN0IHJlc3VsdCA9IHVzZVNwcmluZ3MoXG4gICAgbGVuZ3RoLFxuICAgIChpLCBjdHJsKSA9PiB7XG4gICAgICBjb25zdCBwcm9wcyA9IHByb3BzRm4gPyBwcm9wc0ZuKGksIGN0cmwpIDogcHJvcHNBcmc7XG4gICAgICBwYXNzZWRSZWYgPSBwcm9wcy5yZWY7XG4gICAgICByZXZlcnNlID0gcmV2ZXJzZSAmJiBwcm9wcy5yZXZlcnNlO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH0sXG4gICAgLy8gRW5zdXJlIHRoZSBwcm9wcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiBubyBkZXBzIGV4aXN0LlxuICAgIC8vIFRoaXMgd29ya3MgYXJvdW5kIHRoZSAzIGFyZ3VtZW50IHJ1bGUuXG4gICAgZGVwcyB8fCBbe31dXG4gICk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QzKCgpID0+IHtcbiAgICBlYWNoNihyZXN1bHRbMV0uY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHJlc3VsdFsxXS5jdXJyZW50W2kgKyAocmV2ZXJzZSA/IDEgOiAtMSldO1xuICAgICAgcmVwbGFjZVJlZihjdHJsLCBwYXNzZWRSZWYpO1xuICAgICAgaWYgKGN0cmwucmVmKSB7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBjdHJsLnVwZGF0ZSh7IHRvOiBwYXJlbnQuc3ByaW5ncyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIGN0cmwuc3RhcnQoeyB0bzogcGFyZW50LnNwcmluZ3MgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdHJsLnN0YXJ0KCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIGRlcHMpO1xuICBpZiAocHJvcHNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDMpIHtcbiAgICBjb25zdCByZWYgPSBwYXNzZWRSZWYgPz8gcmVzdWx0WzFdO1xuICAgIHJlZltcIl9nZXRQcm9wc1wiXSA9IChwcm9wc0FyZzIsIGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0gaXMxMC5mdW4ocHJvcHNBcmcyKSA/IHByb3BzQXJnMihpLCBjdHJsKSA6IHByb3BzQXJnMjtcbiAgICAgIGlmIChwcm9wcykge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSByZWYuY3VycmVudFtpICsgKHByb3BzLnJldmVyc2UgPyAxIDogLTEpXTtcbiAgICAgICAgaWYgKHBhcmVudClcbiAgICAgICAgICBwcm9wcy50byA9IHBhcmVudC5zcHJpbmdzO1xuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIHJldHVybiByZXN1bHRbMF07XG59XG5cbi8vIHNyYy9ob29rcy91c2VUcmFuc2l0aW9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MywgdXNlUmVmIGFzIHVzZVJlZjIsIHVzZU1lbW8gYXMgdXNlTWVtbzIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGlzIGFzIGlzMTEsXG4gIHRvQXJyYXkgYXMgdG9BcnJheTQsXG4gIHVzZUZvcmNlVXBkYXRlIGFzIHVzZUZvcmNlVXBkYXRlMixcbiAgdXNlT25jZSBhcyB1c2VPbmNlMyxcbiAgdXNlUHJldiBhcyB1c2VQcmV2MixcbiAgZWFjaCBhcyBlYWNoNyxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NFxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oZGF0YSwgcHJvcHMsIGRlcHMpIHtcbiAgY29uc3QgcHJvcHNGbiA9IGlzMTEuZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgY29uc3Qge1xuICAgIHJlc2V0LFxuICAgIHNvcnQsXG4gICAgdHJhaWwgPSAwLFxuICAgIGV4cGlyZXMgPSB0cnVlLFxuICAgIGV4aXRCZWZvcmVFbnRlciA9IGZhbHNlLFxuICAgIG9uRGVzdHJveWVkLFxuICAgIHJlZjogcHJvcHNSZWYsXG4gICAgY29uZmlnOiBwcm9wc0NvbmZpZ1xuICB9ID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICBjb25zdCByZWYgPSB1c2VNZW1vMihcbiAgICAoKSA9PiBwcm9wc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMyA/IFNwcmluZ1JlZigpIDogdm9pZCAwLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGl0ZW1zID0gdG9BcnJheTQoZGF0YSk7XG4gIGNvbnN0IHRyYW5zaXRpb25zID0gW107XG4gIGNvbnN0IHVzZWRUcmFuc2l0aW9ucyA9IHVzZVJlZjIobnVsbCk7XG4gIGNvbnN0IHByZXZUcmFuc2l0aW9ucyA9IHJlc2V0ID8gbnVsbCA6IHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50O1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NCgoKSA9PiB7XG4gICAgdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQgPSB0cmFuc2l0aW9ucztcbiAgfSk7XG4gIHVzZU9uY2UzKCgpID0+IHtcbiAgICBlYWNoNyh0cmFuc2l0aW9ucywgKHQpID0+IHtcbiAgICAgIHJlZj8uYWRkKHQuY3RybCk7XG4gICAgICB0LmN0cmwucmVmID0gcmVmO1xuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlYWNoNyh1c2VkVHJhbnNpdGlvbnMuY3VycmVudCwgKHQpID0+IHtcbiAgICAgICAgaWYgKHQuZXhwaXJlZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0LmV4cGlyYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGV0YWNoUmVmcyh0LmN0cmwsIHJlZik7XG4gICAgICAgIHQuY3RybC5zdG9wKHRydWUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG4gIGNvbnN0IGtleXMgPSBnZXRLZXlzKGl0ZW1zLCBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHMsIHByZXZUcmFuc2l0aW9ucyk7XG4gIGNvbnN0IGV4cGlyZWQgPSByZXNldCAmJiB1c2VkVHJhbnNpdGlvbnMuY3VycmVudCB8fCBbXTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoXG4gICAgKCkgPT4gZWFjaDcoZXhwaXJlZCwgKHsgY3RybCwgaXRlbSwga2V5IH0pID0+IHtcbiAgICAgIGRldGFjaFJlZnMoY3RybCwgcmVmKTtcbiAgICAgIGNhbGxQcm9wKG9uRGVzdHJveWVkLCBpdGVtLCBrZXkpO1xuICAgIH0pXG4gICk7XG4gIGNvbnN0IHJldXNlZCA9IFtdO1xuICBpZiAocHJldlRyYW5zaXRpb25zKVxuICAgIGVhY2g3KHByZXZUcmFuc2l0aW9ucywgKHQsIGkpID0+IHtcbiAgICAgIGlmICh0LmV4cGlyZWQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHQuZXhwaXJhdGlvbklkKTtcbiAgICAgICAgZXhwaXJlZC5wdXNoKHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IHJldXNlZFtpXSA9IGtleXMuaW5kZXhPZih0LmtleSk7XG4gICAgICAgIGlmICh+aSlcbiAgICAgICAgICB0cmFuc2l0aW9uc1tpXSA9IHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIGVhY2g3KGl0ZW1zLCAoaXRlbSwgaSkgPT4ge1xuICAgIGlmICghdHJhbnNpdGlvbnNbaV0pIHtcbiAgICAgIHRyYW5zaXRpb25zW2ldID0ge1xuICAgICAgICBrZXk6IGtleXNbaV0sXG4gICAgICAgIGl0ZW0sXG4gICAgICAgIHBoYXNlOiBcIm1vdW50XCIgLyogTU9VTlQgKi8sXG4gICAgICAgIGN0cmw6IG5ldyBDb250cm9sbGVyKClcbiAgICAgIH07XG4gICAgICB0cmFuc2l0aW9uc1tpXS5jdHJsLml0ZW0gPSBpdGVtO1xuICAgIH1cbiAgfSk7XG4gIGlmIChyZXVzZWQubGVuZ3RoKSB7XG4gICAgbGV0IGkgPSAtMTtcbiAgICBjb25zdCB7IGxlYXZlIH0gPSBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHM7XG4gICAgZWFjaDcocmV1c2VkLCAoa2V5SW5kZXgsIHByZXZJbmRleCkgPT4ge1xuICAgICAgY29uc3QgdCA9IHByZXZUcmFuc2l0aW9uc1twcmV2SW5kZXhdO1xuICAgICAgaWYgKH5rZXlJbmRleCkge1xuICAgICAgICBpID0gdHJhbnNpdGlvbnMuaW5kZXhPZih0KTtcbiAgICAgICAgdHJhbnNpdGlvbnNbaV0gPSB7IC4uLnQsIGl0ZW06IGl0ZW1zW2tleUluZGV4XSB9O1xuICAgICAgfSBlbHNlIGlmIChsZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9ucy5zcGxpY2UoKytpLCAwLCB0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoaXMxMS5mdW4oc29ydCkpIHtcbiAgICB0cmFuc2l0aW9ucy5zb3J0KChhLCBiKSA9PiBzb3J0KGEuaXRlbSwgYi5pdGVtKSk7XG4gIH1cbiAgbGV0IGRlbGF5ID0gLXRyYWlsO1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlMigpO1xuICBjb25zdCBkZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMocHJvcHMpO1xuICBjb25zdCBjaGFuZ2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgZXhpdGluZ1RyYW5zaXRpb25zID0gdXNlUmVmMigvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgY29uc3QgZm9yY2VDaGFuZ2UgPSB1c2VSZWYyKGZhbHNlKTtcbiAgZWFjaDcodHJhbnNpdGlvbnMsICh0LCBpKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gdC5rZXk7XG4gICAgY29uc3QgcHJldlBoYXNlID0gdC5waGFzZTtcbiAgICBjb25zdCBwID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICAgIGxldCB0bzI7XG4gICAgbGV0IHBoYXNlO1xuICAgIGNvbnN0IHByb3BzRGVsYXkgPSBjYWxsUHJvcChwLmRlbGF5IHx8IDAsIGtleSk7XG4gICAgaWYgKHByZXZQaGFzZSA9PSBcIm1vdW50XCIgLyogTU9VTlQgKi8pIHtcbiAgICAgIHRvMiA9IHAuZW50ZXI7XG4gICAgICBwaGFzZSA9IFwiZW50ZXJcIiAvKiBFTlRFUiAqLztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXNMZWF2ZSA9IGtleXMuaW5kZXhPZihrZXkpIDwgMDtcbiAgICAgIGlmIChwcmV2UGhhc2UgIT0gXCJsZWF2ZVwiIC8qIExFQVZFICovKSB7XG4gICAgICAgIGlmIChpc0xlYXZlKSB7XG4gICAgICAgICAgdG8yID0gcC5sZWF2ZTtcbiAgICAgICAgICBwaGFzZSA9IFwibGVhdmVcIiAvKiBMRUFWRSAqLztcbiAgICAgICAgfSBlbHNlIGlmICh0bzIgPSBwLnVwZGF0ZSkge1xuICAgICAgICAgIHBoYXNlID0gXCJ1cGRhdGVcIiAvKiBVUERBVEUgKi87XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWlzTGVhdmUpIHtcbiAgICAgICAgdG8yID0gcC5lbnRlcjtcbiAgICAgICAgcGhhc2UgPSBcImVudGVyXCIgLyogRU5URVIgKi87XG4gICAgICB9IGVsc2VcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0bzIgPSBjYWxsUHJvcCh0bzIsIHQuaXRlbSwgaSk7XG4gICAgdG8yID0gaXMxMS5vYmoodG8yKSA/IGluZmVyVG8odG8yKSA6IHsgdG86IHRvMiB9O1xuICAgIGlmICghdG8yLmNvbmZpZykge1xuICAgICAgY29uc3QgY29uZmlnMiA9IHByb3BzQ29uZmlnIHx8IGRlZmF1bHRQcm9wcy5jb25maWc7XG4gICAgICB0bzIuY29uZmlnID0gY2FsbFByb3AoY29uZmlnMiwgdC5pdGVtLCBpLCBwaGFzZSk7XG4gICAgfVxuICAgIGRlbGF5ICs9IHRyYWlsO1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAuLi5kZWZhdWx0UHJvcHMsXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFkZCBvdXIgcHJvcHMuZGVsYXkgdmFsdWUgeW91IGhlcmUuXG4gICAgICBkZWxheTogcHJvcHNEZWxheSArIGRlbGF5LFxuICAgICAgcmVmOiBwcm9wc1JlZixcbiAgICAgIGltbWVkaWF0ZTogcC5pbW1lZGlhdGUsXG4gICAgICAvLyBUaGlzIHByZXZlbnRzIGltcGxpZWQgcmVzZXRzLlxuICAgICAgcmVzZXQ6IGZhbHNlLFxuICAgICAgLy8gTWVyZ2UgYW55IHBoYXNlLXNwZWNpZmljIHByb3BzLlxuICAgICAgLi4udG8yXG4gICAgfTtcbiAgICBpZiAocGhhc2UgPT0gXCJlbnRlclwiIC8qIEVOVEVSICovICYmIGlzMTEudW5kKHBheWxvYWQuZnJvbSkpIHtcbiAgICAgIGNvbnN0IHAyID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICAgICAgY29uc3QgZnJvbSA9IGlzMTEudW5kKHAyLmluaXRpYWwpIHx8IHByZXZUcmFuc2l0aW9ucyA/IHAyLmZyb20gOiBwMi5pbml0aWFsO1xuICAgICAgcGF5bG9hZC5mcm9tID0gY2FsbFByb3AoZnJvbSwgdC5pdGVtLCBpKTtcbiAgICB9XG4gICAgY29uc3QgeyBvblJlc29sdmUgfSA9IHBheWxvYWQ7XG4gICAgcGF5bG9hZC5vblJlc29sdmUgPSAocmVzdWx0KSA9PiB7XG4gICAgICBjYWxsUHJvcChvblJlc29sdmUsIHJlc3VsdCk7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uczIgPSB1c2VkVHJhbnNpdGlvbnMuY3VycmVudDtcbiAgICAgIGNvbnN0IHQyID0gdHJhbnNpdGlvbnMyLmZpbmQoKHQzKSA9PiB0My5rZXkgPT09IGtleSk7XG4gICAgICBpZiAoIXQyKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAocmVzdWx0LmNhbmNlbGxlZCAmJiB0Mi5waGFzZSAhPSBcInVwZGF0ZVwiIC8qIFVQREFURSAqLykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodDIuY3RybC5pZGxlKSB7XG4gICAgICAgIGNvbnN0IGlkbGUgPSB0cmFuc2l0aW9uczIuZXZlcnkoKHQzKSA9PiB0My5jdHJsLmlkbGUpO1xuICAgICAgICBpZiAodDIucGhhc2UgPT0gXCJsZWF2ZVwiIC8qIExFQVZFICovKSB7XG4gICAgICAgICAgY29uc3QgZXhwaXJ5ID0gY2FsbFByb3AoZXhwaXJlcywgdDIuaXRlbSk7XG4gICAgICAgICAgaWYgKGV4cGlyeSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyeU1zID0gZXhwaXJ5ID09PSB0cnVlID8gMCA6IGV4cGlyeTtcbiAgICAgICAgICAgIHQyLmV4cGlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFpZGxlICYmIGV4cGlyeU1zID4gMCkge1xuICAgICAgICAgICAgICBpZiAoZXhwaXJ5TXMgPD0gMjE0NzQ4MzY0NylcbiAgICAgICAgICAgICAgICB0Mi5leHBpcmF0aW9uSWQgPSBzZXRUaW1lb3V0KGZvcmNlVXBkYXRlLCBleHBpcnlNcyk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkbGUgJiYgdHJhbnNpdGlvbnMyLnNvbWUoKHQzKSA9PiB0My5leHBpcmVkKSkge1xuICAgICAgICAgIGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LmRlbGV0ZSh0Mik7XG4gICAgICAgICAgaWYgKGV4aXRCZWZvcmVFbnRlcikge1xuICAgICAgICAgICAgZm9yY2VDaGFuZ2UuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNwcmluZ3MgPSBnZXRTcHJpbmdzKHQuY3RybCwgcGF5bG9hZCk7XG4gICAgaWYgKHBoYXNlID09PSBcImxlYXZlXCIgLyogTEVBVkUgKi8gJiYgZXhpdEJlZm9yZUVudGVyKSB7XG4gICAgICBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5zZXQodCwgeyBwaGFzZSwgc3ByaW5ncywgcGF5bG9hZCB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hhbmdlcy5zZXQodCwgeyBwaGFzZSwgc3ByaW5ncywgcGF5bG9hZCB9KTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dDMoU3ByaW5nQ29udGV4dCk7XG4gIGNvbnN0IHByZXZDb250ZXh0ID0gdXNlUHJldjIoY29udGV4dCk7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSBjb250ZXh0ICE9PSBwcmV2Q29udGV4dCAmJiBoYXNQcm9wcyhjb250ZXh0KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoKCkgPT4ge1xuICAgIGlmIChoYXNDb250ZXh0KSB7XG4gICAgICBlYWNoNyh0cmFuc2l0aW9ucywgKHQpID0+IHtcbiAgICAgICAgdC5jdHJsLnN0YXJ0KHsgZGVmYXVsdDogY29udGV4dCB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2NvbnRleHRdKTtcbiAgZWFjaDcoY2hhbmdlcywgKF8sIHQpID0+IHtcbiAgICBpZiAoZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2l6ZSkge1xuICAgICAgY29uc3QgaW5kID0gdHJhbnNpdGlvbnMuZmluZEluZGV4KChzdGF0ZSkgPT4gc3RhdGUua2V5ID09PSB0LmtleSk7XG4gICAgICB0cmFuc2l0aW9ucy5zcGxpY2UoaW5kLCAxKTtcbiAgICB9XG4gIH0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NChcbiAgICAoKSA9PiB7XG4gICAgICBlYWNoNyhcbiAgICAgICAgZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2l6ZSA/IGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50IDogY2hhbmdlcyxcbiAgICAgICAgKHsgcGhhc2UsIHBheWxvYWQgfSwgdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY3RybCB9ID0gdDtcbiAgICAgICAgICB0LnBoYXNlID0gcGhhc2U7XG4gICAgICAgICAgcmVmPy5hZGQoY3RybCk7XG4gICAgICAgICAgaWYgKGhhc0NvbnRleHQgJiYgcGhhc2UgPT0gXCJlbnRlclwiIC8qIEVOVEVSICovKSB7XG4gICAgICAgICAgICBjdHJsLnN0YXJ0KHsgZGVmYXVsdDogY29udGV4dCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBheWxvYWQpIHtcbiAgICAgICAgICAgIHJlcGxhY2VSZWYoY3RybCwgcGF5bG9hZC5yZWYpO1xuICAgICAgICAgICAgaWYgKChjdHJsLnJlZiB8fCByZWYpICYmICFmb3JjZUNoYW5nZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGN0cmwudXBkYXRlKHBheWxvYWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY3RybC5zdGFydChwYXlsb2FkKTtcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQ2hhbmdlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3JjZUNoYW5nZS5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSxcbiAgICByZXNldCA/IHZvaWQgMCA6IGRlcHNcbiAgKTtcbiAgY29uc3QgcmVuZGVyVHJhbnNpdGlvbnMgPSAocmVuZGVyKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUmVhY3QyLkZyYWdtZW50LCBudWxsLCB0cmFuc2l0aW9ucy5tYXAoKHQsIGkpID0+IHtcbiAgICBjb25zdCB7IHNwcmluZ3MgfSA9IGNoYW5nZXMuZ2V0KHQpIHx8IHQuY3RybDtcbiAgICBjb25zdCBlbGVtID0gcmVuZGVyKHsgLi4uc3ByaW5ncyB9LCB0Lml0ZW0sIHQsIGkpO1xuICAgIHJldHVybiBlbGVtICYmIGVsZW0udHlwZSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIGVsZW0udHlwZSxcbiAgICAgIHtcbiAgICAgICAgLi4uZWxlbS5wcm9wcyxcbiAgICAgICAga2V5OiBpczExLnN0cih0LmtleSkgfHwgaXMxMS5udW0odC5rZXkpID8gdC5rZXkgOiB0LmN0cmwuaWQsXG4gICAgICAgIHJlZjogZWxlbS5yZWZcbiAgICAgIH1cbiAgICApIDogZWxlbTtcbiAgfSkpO1xuICByZXR1cm4gcmVmID8gW3JlbmRlclRyYW5zaXRpb25zLCByZWZdIDogcmVuZGVyVHJhbnNpdGlvbnM7XG59XG52YXIgbmV4dEtleSA9IDE7XG5mdW5jdGlvbiBnZXRLZXlzKGl0ZW1zLCB7IGtleSwga2V5cyA9IGtleSB9LCBwcmV2VHJhbnNpdGlvbnMpIHtcbiAgaWYgKGtleXMgPT09IG51bGwpIHtcbiAgICBjb25zdCByZXVzZWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHQgPSBwcmV2VHJhbnNpdGlvbnMgJiYgcHJldlRyYW5zaXRpb25zLmZpbmQoXG4gICAgICAgICh0MikgPT4gdDIuaXRlbSA9PT0gaXRlbSAmJiB0Mi5waGFzZSAhPT0gXCJsZWF2ZVwiIC8qIExFQVZFICovICYmICFyZXVzZWQuaGFzKHQyKVxuICAgICAgKTtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIHJldXNlZC5hZGQodCk7XG4gICAgICAgIHJldHVybiB0LmtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0S2V5Kys7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGlzMTEudW5kKGtleXMpID8gaXRlbXMgOiBpczExLmZ1bihrZXlzKSA/IGl0ZW1zLm1hcChrZXlzKSA6IHRvQXJyYXk0KGtleXMpO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU2Nyb2xsLnRzXG5pbXBvcnQgeyBlYWNoIGFzIGVhY2g4LCBvblNjcm9sbCwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NSB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHVzZVNjcm9sbCA9ICh7XG4gIGNvbnRhaW5lcixcbiAgLi4uc3ByaW5nT3B0aW9uc1xufSA9IHt9KSA9PiB7XG4gIGNvbnN0IFtzY3JvbGxWYWx1ZXMsIGFwaV0gPSB1c2VTcHJpbmcoXG4gICAgKCkgPT4gKHtcbiAgICAgIHNjcm9sbFg6IDAsXG4gICAgICBzY3JvbGxZOiAwLFxuICAgICAgc2Nyb2xsWFByb2dyZXNzOiAwLFxuICAgICAgc2Nyb2xsWVByb2dyZXNzOiAwLFxuICAgICAgLi4uc3ByaW5nT3B0aW9uc1xuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q1KCgpID0+IHtcbiAgICBjb25zdCBjbGVhbnVwU2Nyb2xsID0gb25TY3JvbGwoXG4gICAgICAoeyB4LCB5IH0pID0+IHtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICBzY3JvbGxYOiB4LmN1cnJlbnQsXG4gICAgICAgICAgc2Nyb2xsWFByb2dyZXNzOiB4LnByb2dyZXNzLFxuICAgICAgICAgIHNjcm9sbFk6IHkuY3VycmVudCxcbiAgICAgICAgICBzY3JvbGxZUHJvZ3Jlc3M6IHkucHJvZ3Jlc3NcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgeyBjb250YWluZXI6IGNvbnRhaW5lcj8uY3VycmVudCB8fCB2b2lkIDAgfVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVhY2g4KE9iamVjdC52YWx1ZXMoc2Nyb2xsVmFsdWVzKSwgKHZhbHVlKSA9PiB2YWx1ZS5zdG9wKCkpO1xuICAgICAgY2xlYW51cFNjcm9sbCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHNjcm9sbFZhbHVlcztcbn07XG5cbi8vIHNyYy9ob29rcy91c2VSZXNpemUudHNcbmltcG9ydCB7IG9uUmVzaXplLCBlYWNoIGFzIGVhY2g5LCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q2IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgdXNlUmVzaXplID0gKHtcbiAgY29udGFpbmVyLFxuICAuLi5zcHJpbmdPcHRpb25zXG59KSA9PiB7XG4gIGNvbnN0IFtzaXplVmFsdWVzLCBhcGldID0gdXNlU3ByaW5nKFxuICAgICgpID0+ICh7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIC4uLnNwcmluZ09wdGlvbnNcbiAgICB9KSxcbiAgICBbXVxuICApO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NigoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cFNjcm9sbCA9IG9uUmVzaXplKFxuICAgICAgKHsgd2lkdGgsIGhlaWdodCB9KSA9PiB7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIGltbWVkaWF0ZTogc2l6ZVZhbHVlcy53aWR0aC5nZXQoKSA9PT0gMCB8fCBzaXplVmFsdWVzLmhlaWdodC5nZXQoKSA9PT0gMFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7IGNvbnRhaW5lcjogY29udGFpbmVyPy5jdXJyZW50IHx8IHZvaWQgMCB9XG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWFjaDkoT2JqZWN0LnZhbHVlcyhzaXplVmFsdWVzKSwgKHZhbHVlKSA9PiB2YWx1ZS5zdG9wKCkpO1xuICAgICAgY2xlYW51cFNjcm9sbCgpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIHNpemVWYWx1ZXM7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlSW5WaWV3LnRzXG5pbXBvcnQgeyB1c2VSZWYgYXMgdXNlUmVmMywgdXNlU3RhdGUgYXMgdXNlU3RhdGUyIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBpcyBhcyBpczEyLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q3IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgZGVmYXVsdFRocmVzaG9sZE9wdGlvbnMgPSB7XG4gIGFueTogMCxcbiAgYWxsOiAxXG59O1xuZnVuY3Rpb24gdXNlSW5WaWV3KHByb3BzLCBhcmdzKSB7XG4gIGNvbnN0IFtpc0luVmlldywgc2V0SXNJblZpZXddID0gdXNlU3RhdGUyKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmMygpO1xuICBjb25zdCBwcm9wc0ZuID0gaXMxMi5mdW4ocHJvcHMpICYmIHByb3BzO1xuICBjb25zdCBzcHJpbmdzUHJvcHMgPSBwcm9wc0ZuID8gcHJvcHNGbigpIDoge307XG4gIGNvbnN0IHsgdG86IHRvMiA9IHt9LCBmcm9tID0ge30sIC4uLnJlc3RTcHJpbmdQcm9wcyB9ID0gc3ByaW5nc1Byb3BzO1xuICBjb25zdCBpbnRlcnNlY3Rpb25Bcmd1bWVudHMgPSBwcm9wc0ZuID8gYXJncyA6IHByb3BzO1xuICBjb25zdCBbc3ByaW5ncywgYXBpXSA9IHVzZVNwcmluZygoKSA9PiAoeyBmcm9tLCAuLi5yZXN0U3ByaW5nUHJvcHMgfSksIFtdKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDcoKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSByZWYuY3VycmVudDtcbiAgICBjb25zdCB7XG4gICAgICByb290LFxuICAgICAgb25jZSxcbiAgICAgIGFtb3VudCA9IFwiYW55XCIsXG4gICAgICAuLi5yZXN0QXJnc1xuICAgIH0gPSBpbnRlcnNlY3Rpb25Bcmd1bWVudHMgPz8ge307XG4gICAgaWYgKCFlbGVtZW50IHx8IG9uY2UgJiYgaXNJblZpZXcgfHwgdHlwZW9mIEludGVyc2VjdGlvbk9ic2VydmVyID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGFjdGl2ZUludGVyc2VjdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgICBjb25zdCBvbkVudGVyID0gKCkgPT4ge1xuICAgICAgaWYgKHRvMikge1xuICAgICAgICBhcGkuc3RhcnQodG8yKTtcbiAgICAgIH1cbiAgICAgIHNldElzSW5WaWV3KHRydWUpO1xuICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgaWYgKGZyb20pIHtcbiAgICAgICAgICBhcGkuc3RhcnQoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0SXNJblZpZXcoZmFsc2UpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBvbmNlID8gdm9pZCAwIDogY2xlYW51cDtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUludGVyc2VjdGlvbiA9IChlbnRyaWVzKSA9PiB7XG4gICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGNvbnN0IG9uTGVhdmUgPSBhY3RpdmVJbnRlcnNlY3Rpb25zLmdldChlbnRyeS50YXJnZXQpO1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgPT09IEJvb2xlYW4ob25MZWF2ZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgY29uc3QgbmV3T25MZWF2ZSA9IG9uRW50ZXIoKTtcbiAgICAgICAgICBpZiAoaXMxMi5mdW4obmV3T25MZWF2ZSkpIHtcbiAgICAgICAgICAgIGFjdGl2ZUludGVyc2VjdGlvbnMuc2V0KGVudHJ5LnRhcmdldCwgbmV3T25MZWF2ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvbkxlYXZlKSB7XG4gICAgICAgICAgb25MZWF2ZSgpO1xuICAgICAgICAgIGFjdGl2ZUludGVyc2VjdGlvbnMuZGVsZXRlKGVudHJ5LnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoaGFuZGxlSW50ZXJzZWN0aW9uLCB7XG4gICAgICByb290OiByb290ICYmIHJvb3QuY3VycmVudCB8fCB2b2lkIDAsXG4gICAgICB0aHJlc2hvbGQ6IHR5cGVvZiBhbW91bnQgPT09IFwibnVtYmVyXCIgfHwgQXJyYXkuaXNBcnJheShhbW91bnQpID8gYW1vdW50IDogZGVmYXVsdFRocmVzaG9sZE9wdGlvbnNbYW1vdW50XSxcbiAgICAgIC4uLnJlc3RBcmdzXG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIudW5vYnNlcnZlKGVsZW1lbnQpO1xuICB9LCBbaW50ZXJzZWN0aW9uQXJndW1lbnRzXSk7XG4gIGlmIChwcm9wc0ZuKSB7XG4gICAgcmV0dXJuIFtyZWYsIHNwcmluZ3NdO1xuICB9XG4gIHJldHVybiBbcmVmLCBpc0luVmlld107XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1NwcmluZy50c3hcbmZ1bmN0aW9uIFNwcmluZyh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gIHJldHVybiBjaGlsZHJlbih1c2VTcHJpbmcocHJvcHMpKTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvVHJhaWwudHN4XG5pbXBvcnQgeyBpcyBhcyBpczEzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBUcmFpbCh7XG4gIGl0ZW1zLFxuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgdHJhaWxzID0gdXNlVHJhaWwoaXRlbXMubGVuZ3RoLCBwcm9wcyk7XG4gIHJldHVybiBpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gY2hpbGRyZW4oaXRlbSwgaW5kZXgpO1xuICAgIHJldHVybiBpczEzLmZ1bihyZXN1bHQpID8gcmVzdWx0KHRyYWlsc1tpbmRleF0pIDogcmVzdWx0O1xuICB9KTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvVHJhbnNpdGlvbi50c3hcbmZ1bmN0aW9uIFRyYW5zaXRpb24oe1xuICBpdGVtcyxcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiB1c2VUcmFuc2l0aW9uKGl0ZW1zLCBwcm9wcykoY2hpbGRyZW4pO1xufVxuXG4vLyBzcmMvaW50ZXJwb2xhdGUudHNcbmltcG9ydCB7IGRlcHJlY2F0ZUludGVycG9sYXRlIGFzIGRlcHJlY2F0ZUludGVycG9sYXRlMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvSW50ZXJwb2xhdGlvbi50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXMxNCxcbiAgcmFmIGFzIHJhZjUsXG4gIGVhY2ggYXMgZWFjaDEwLFxuICBpc0VxdWFsIGFzIGlzRXF1YWwyLFxuICB0b0FycmF5IGFzIHRvQXJyYXk1LFxuICBmcmFtZUxvb3AgYXMgZnJhbWVMb29wMyxcbiAgZ2V0Rmx1aWRWYWx1ZSBhcyBnZXRGbHVpZFZhbHVlMyxcbiAgY3JlYXRlSW50ZXJwb2xhdG9yLFxuICBHbG9iYWxzIGFzIEc2LFxuICBjYWxsRmx1aWRPYnNlcnZlcnMgYXMgY2FsbEZsdWlkT2JzZXJ2ZXJzMyxcbiAgYWRkRmx1aWRPYnNlcnZlciBhcyBhZGRGbHVpZE9ic2VydmVyMyxcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlciBhcyByZW1vdmVGbHVpZE9ic2VydmVyMixcbiAgaGFzRmx1aWRWYWx1ZSBhcyBoYXNGbHVpZFZhbHVlMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIGdldEFuaW1hdGVkIGFzIGdldEFuaW1hdGVkMyxcbiAgc2V0QW5pbWF0ZWQgYXMgc2V0QW5pbWF0ZWQyLFxuICBnZXRBbmltYXRlZFR5cGUgYXMgZ2V0QW5pbWF0ZWRUeXBlMixcbiAgZ2V0UGF5bG9hZCBhcyBnZXRQYXlsb2FkMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xudmFyIEludGVycG9sYXRpb24gPSBjbGFzcyBleHRlbmRzIEZyYW1lVmFsdWUge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UsIGFyZ3MpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIC8qKiBFcXVhbHMgZmFsc2Ugd2hlbiBpbiB0aGUgZnJhbWVsb29wICovXG4gICAgdGhpcy5pZGxlID0gdHJ1ZTtcbiAgICAvKiogVGhlIGlucHV0cyB3aGljaCBhcmUgY3VycmVudGx5IGFuaW1hdGluZyAqL1xuICAgIHRoaXMuX2FjdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgdGhpcy5jYWxjID0gY3JlYXRlSW50ZXJwb2xhdG9yKC4uLmFyZ3MpO1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0KCk7XG4gICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUyKHZhbHVlKTtcbiAgICBzZXRBbmltYXRlZDIodGhpcywgbm9kZVR5cGUuY3JlYXRlKHZhbHVlKSk7XG4gIH1cbiAgYWR2YW5jZShfZHQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldCgpO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gdGhpcy5nZXQoKTtcbiAgICBpZiAoIWlzRXF1YWwyKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgIGdldEFuaW1hdGVkMyh0aGlzKS5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB0aGlzLl9vbkNoYW5nZSh2YWx1ZSwgdGhpcy5pZGxlKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlkbGUgJiYgY2hlY2tJZGxlKHRoaXMuX2FjdGl2ZSkpIHtcbiAgICAgIGJlY29tZUlkbGUodGhpcyk7XG4gICAgfVxuICB9XG4gIF9nZXQoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gaXMxNC5hcnIodGhpcy5zb3VyY2UpID8gdGhpcy5zb3VyY2UubWFwKGdldEZsdWlkVmFsdWUzKSA6IHRvQXJyYXk1KGdldEZsdWlkVmFsdWUzKHRoaXMuc291cmNlKSk7XG4gICAgcmV0dXJuIHRoaXMuY2FsYyguLi5pbnB1dHMpO1xuICB9XG4gIF9zdGFydCgpIHtcbiAgICBpZiAodGhpcy5pZGxlICYmICFjaGVja0lkbGUodGhpcy5fYWN0aXZlKSkge1xuICAgICAgdGhpcy5pZGxlID0gZmFsc2U7XG4gICAgICBlYWNoMTAoZ2V0UGF5bG9hZDIodGhpcyksIChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUuZG9uZSA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBpZiAoRzYuc2tpcEFuaW1hdGlvbikge1xuICAgICAgICByYWY1LmJhdGNoZWRVcGRhdGVzKCgpID0+IHRoaXMuYWR2YW5jZSgpKTtcbiAgICAgICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lTG9vcDMuc3RhcnQodGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIE9ic2VydmUgb3VyIHNvdXJjZXMgb25seSB3aGVuIHdlJ3JlIG9ic2VydmVkLlxuICBfYXR0YWNoKCkge1xuICAgIGxldCBwcmlvcml0eSA9IDE7XG4gICAgZWFjaDEwKHRvQXJyYXk1KHRoaXMuc291cmNlKSwgKHNvdXJjZSkgPT4ge1xuICAgICAgaWYgKGhhc0ZsdWlkVmFsdWUyKHNvdXJjZSkpIHtcbiAgICAgICAgYWRkRmx1aWRPYnNlcnZlcjMoc291cmNlLCB0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0ZyYW1lVmFsdWUoc291cmNlKSkge1xuICAgICAgICBpZiAoIXNvdXJjZS5pZGxlKSB7XG4gICAgICAgICAgdGhpcy5fYWN0aXZlLmFkZChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHByaW9yaXR5ID0gTWF0aC5tYXgocHJpb3JpdHksIHNvdXJjZS5wcmlvcml0eSArIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB0aGlzLl9zdGFydCgpO1xuICB9XG4gIC8vIFN0b3Agb2JzZXJ2aW5nIG91ciBzb3VyY2VzIG9uY2Ugd2UgaGF2ZSBubyBvYnNlcnZlcnMuXG4gIF9kZXRhY2goKSB7XG4gICAgZWFjaDEwKHRvQXJyYXk1KHRoaXMuc291cmNlKSwgKHNvdXJjZSkgPT4ge1xuICAgICAgaWYgKGhhc0ZsdWlkVmFsdWUyKHNvdXJjZSkpIHtcbiAgICAgICAgcmVtb3ZlRmx1aWRPYnNlcnZlcjIoc291cmNlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9hY3RpdmUuY2xlYXIoKTtcbiAgICBiZWNvbWVJZGxlKHRoaXMpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIGlmIChldmVudC5pZGxlKSB7XG4gICAgICAgIHRoaXMuYWR2YW5jZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlLmFkZChldmVudC5wYXJlbnQpO1xuICAgICAgICB0aGlzLl9zdGFydCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcImlkbGVcIikge1xuICAgICAgdGhpcy5fYWN0aXZlLmRlbGV0ZShldmVudC5wYXJlbnQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcInByaW9yaXR5XCIpIHtcbiAgICAgIHRoaXMucHJpb3JpdHkgPSB0b0FycmF5NSh0aGlzLnNvdXJjZSkucmVkdWNlKFxuICAgICAgICAoaGlnaGVzdCwgcGFyZW50KSA9PiBNYXRoLm1heChoaWdoZXN0LCAoaXNGcmFtZVZhbHVlKHBhcmVudCkgPyBwYXJlbnQucHJpb3JpdHkgOiAwKSArIDEpLFxuICAgICAgICAwXG4gICAgICApO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGlzSWRsZShzb3VyY2UpIHtcbiAgcmV0dXJuIHNvdXJjZS5pZGxlICE9PSBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNoZWNrSWRsZShhY3RpdmUpIHtcbiAgcmV0dXJuICFhY3RpdmUuc2l6ZSB8fCBBcnJheS5mcm9tKGFjdGl2ZSkuZXZlcnkoaXNJZGxlKTtcbn1cbmZ1bmN0aW9uIGJlY29tZUlkbGUoc2VsZikge1xuICBpZiAoIXNlbGYuaWRsZSkge1xuICAgIHNlbGYuaWRsZSA9IHRydWU7XG4gICAgZWFjaDEwKGdldFBheWxvYWQyKHNlbGYpLCAobm9kZSkgPT4ge1xuICAgICAgbm9kZS5kb25lID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBjYWxsRmx1aWRPYnNlcnZlcnMzKHNlbGYsIHtcbiAgICAgIHR5cGU6IFwiaWRsZVwiLFxuICAgICAgcGFyZW50OiBzZWxmXG4gICAgfSk7XG4gIH1cbn1cblxuLy8gc3JjL2ludGVycG9sYXRlLnRzXG52YXIgdG8gPSAoc291cmNlLCAuLi5hcmdzKSA9PiBuZXcgSW50ZXJwb2xhdGlvbihzb3VyY2UsIGFyZ3MpO1xudmFyIGludGVycG9sYXRlID0gKHNvdXJjZSwgLi4uYXJncykgPT4gKGRlcHJlY2F0ZUludGVycG9sYXRlMigpLCBuZXcgSW50ZXJwb2xhdGlvbihzb3VyY2UsIGFyZ3MpKTtcblxuLy8gc3JjL2dsb2JhbHMudHNcbmltcG9ydCB7XG4gIEdsb2JhbHMsXG4gIGZyYW1lTG9vcCBhcyBmcmFtZUxvb3A0LFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3Jcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5HbG9iYWxzLmFzc2lnbih7XG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgdG86IChzb3VyY2UsIGFyZ3MpID0+IG5ldyBJbnRlcnBvbGF0aW9uKHNvdXJjZSwgYXJncylcbn0pO1xudmFyIHVwZGF0ZSA9IGZyYW1lTG9vcDQuYWR2YW5jZTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQge1xuICBjcmVhdGVJbnRlcnBvbGF0b3IgYXMgY3JlYXRlSW50ZXJwb2xhdG9yMixcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0OCxcbiAgdXNlUmVkdWNlZE1vdGlvbixcbiAgZWFzaW5ncyBhcyBlYXNpbmdzMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmV4cG9ydCAqIGZyb20gXCJAcmVhY3Qtc3ByaW5nL3R5cGVzXCI7XG5leHBvcnQge1xuICBCYWlsU2lnbmFsLFxuICBDb250cm9sbGVyLFxuICBGcmFtZVZhbHVlLFxuICBHbG9iYWxzLFxuICBJbnRlcnBvbGF0aW9uLFxuICBTcHJpbmcsXG4gIFNwcmluZ0NvbnRleHQsXG4gIFNwcmluZ1JlZixcbiAgU3ByaW5nVmFsdWUsXG4gIFRyYWlsLFxuICBUcmFuc2l0aW9uLFxuICBjb25maWcsXG4gIGNyZWF0ZUludGVycG9sYXRvcjIgYXMgY3JlYXRlSW50ZXJwb2xhdG9yLFxuICBlYXNpbmdzMiBhcyBlYXNpbmdzLFxuICBpbmZlclRvLFxuICBpbnRlcnBvbGF0ZSxcbiAgdG8sXG4gIHVwZGF0ZSxcbiAgdXNlQ2hhaW4sXG4gIHVzZUluVmlldyxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDggYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCxcbiAgdXNlUmVkdWNlZE1vdGlvbixcbiAgdXNlUmVzaXplLFxuICB1c2VTY3JvbGwsXG4gIHVzZVNwcmluZyxcbiAgdXNlU3ByaW5nUmVmLFxuICB1c2VTcHJpbmdWYWx1ZSxcbiAgdXNlU3ByaW5ncyxcbiAgdXNlVHJhaWwsXG4gIHVzZVRyYW5zaXRpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfY29yZS5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiLy8gc3JjL0FuaW1hdGVkLnRzXG5pbXBvcnQgeyBkZWZpbmVIaWRkZW4gfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciAkbm9kZSA9IFN5bWJvbC5mb3IoXCJBbmltYXRlZDpub2RlXCIpO1xudmFyIGlzQW5pbWF0ZWQgPSAodmFsdWUpID0+ICEhdmFsdWUgJiYgdmFsdWVbJG5vZGVdID09PSB2YWx1ZTtcbnZhciBnZXRBbmltYXRlZCA9IChvd25lcikgPT4gb3duZXIgJiYgb3duZXJbJG5vZGVdO1xudmFyIHNldEFuaW1hdGVkID0gKG93bmVyLCBub2RlKSA9PiBkZWZpbmVIaWRkZW4ob3duZXIsICRub2RlLCBub2RlKTtcbnZhciBnZXRQYXlsb2FkID0gKG93bmVyKSA9PiBvd25lciAmJiBvd25lclskbm9kZV0gJiYgb3duZXJbJG5vZGVdLmdldFBheWxvYWQoKTtcbnZhciBBbmltYXRlZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc2V0QW5pbWF0ZWQodGhpcywgdGhpcyk7XG4gIH1cbiAgLyoqIEdldCBldmVyeSBgQW5pbWF0ZWRWYWx1ZWAgdXNlZCBieSB0aGlzIG5vZGUuICovXG4gIGdldFBheWxvYWQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF5bG9hZCB8fCBbXTtcbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkVmFsdWUudHNcbmltcG9ydCB7IGlzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgQW5pbWF0ZWRWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWQge1xuICBjb25zdHJ1Y3RvcihfdmFsdWUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3ZhbHVlID0gX3ZhbHVlO1xuICAgIHRoaXMuZG9uZSA9IHRydWU7XG4gICAgdGhpcy5kdXJhdGlvblByb2dyZXNzID0gMDtcbiAgICBpZiAoaXMubnVtKHRoaXMuX3ZhbHVlKSkge1xuICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB0aGlzLl92YWx1ZTtcbiAgICB9XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgY3JlYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZFZhbHVlKHZhbHVlKTtcbiAgfVxuICBnZXRQYXlsb2FkKCkge1xuICAgIHJldHVybiBbdGhpc107XG4gIH1cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldFZhbHVlKHZhbHVlLCBzdGVwKSB7XG4gICAgaWYgKGlzLm51bSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdmFsdWU7XG4gICAgICBpZiAoc3RlcCkge1xuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyBzdGVwKSAqIHN0ZXA7XG4gICAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLl92YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBjb25zdCB7IGRvbmUgfSA9IHRoaXM7XG4gICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgaWYgKGlzLm51bSh0aGlzLl92YWx1ZSkpIHtcbiAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgdGhpcy5kdXJhdGlvblByb2dyZXNzID0gMDtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdGhpcy5fdmFsdWU7XG4gICAgICBpZiAoZG9uZSlcbiAgICAgICAgdGhpcy5sYXN0VmVsb2NpdHkgPSBudWxsO1xuICAgICAgdGhpcy52MCA9IG51bGw7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvQW5pbWF0ZWRTdHJpbmcudHNcbmltcG9ydCB7IGlzIGFzIGlzMiwgY3JlYXRlSW50ZXJwb2xhdG9yIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgQW5pbWF0ZWRTdHJpbmcgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkVmFsdWUge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgIHN1cGVyKDApO1xuICAgIHRoaXMuX3N0cmluZyA9IG51bGw7XG4gICAgdGhpcy5fdG9TdHJpbmcgPSBjcmVhdGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgb3V0cHV0OiBbdmFsdWUsIHZhbHVlXVxuICAgIH0pO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIGNyZWF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTdHJpbmcodmFsdWUpO1xuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fc3RyaW5nO1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdGhpcy5fc3RyaW5nID0gdGhpcy5fdG9TdHJpbmcodGhpcy5fdmFsdWUpIDogdmFsdWU7XG4gIH1cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAoaXMyLnN0cih2YWx1ZSkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLl9zdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3RyaW5nID0gdmFsdWU7XG4gICAgICB0aGlzLl92YWx1ZSA9IDE7XG4gICAgfSBlbHNlIGlmIChzdXBlci5zZXRWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHRoaXMuX3N0cmluZyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmVzZXQoZ29hbCkge1xuICAgIGlmIChnb2FsKSB7XG4gICAgICB0aGlzLl90b1N0cmluZyA9IGNyZWF0ZUludGVycG9sYXRvcih7XG4gICAgICAgIG91dHB1dDogW3RoaXMuZ2V0VmFsdWUoKSwgZ29hbF1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl92YWx1ZSA9IDA7XG4gICAgc3VwZXIucmVzZXQoKTtcbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkQXJyYXkudHNcbmltcG9ydCB7IGlzQW5pbWF0ZWRTdHJpbmcgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL0FuaW1hdGVkT2JqZWN0LnRzXG5pbXBvcnQge1xuICBlYWNoLFxuICBlYWNoUHJvcCxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgaGFzRmx1aWRWYWx1ZVxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL2NvbnRleHQudHNcbnZhciBUcmVlQ29udGV4dCA9IHsgZGVwZW5kZW5jaWVzOiBudWxsIH07XG5cbi8vIHNyYy9BbmltYXRlZE9iamVjdC50c1xudmFyIEFuaW1hdGVkT2JqZWN0ID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZCB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5zZXRWYWx1ZShzb3VyY2UpO1xuICB9XG4gIGdldFZhbHVlKGFuaW1hdGVkKSB7XG4gICAgY29uc3QgdmFsdWVzID0ge307XG4gICAgZWFjaFByb3AodGhpcy5zb3VyY2UsIChzb3VyY2UsIGtleSkgPT4ge1xuICAgICAgaWYgKGlzQW5pbWF0ZWQoc291cmNlKSkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHNvdXJjZS5nZXRWYWx1ZShhbmltYXRlZCk7XG4gICAgICB9IGVsc2UgaWYgKGhhc0ZsdWlkVmFsdWUoc291cmNlKSkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IGdldEZsdWlkVmFsdWUoc291cmNlKTtcbiAgICAgIH0gZWxzZSBpZiAoIWFuaW1hdGVkKSB7XG4gICAgICAgIHZhbHVlc1trZXldID0gc291cmNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cbiAgLyoqIFJlcGxhY2UgdGhlIHJhdyBvYmplY3QgZGF0YSAqL1xuICBzZXRWYWx1ZShzb3VyY2UpIHtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLnBheWxvYWQgPSB0aGlzLl9tYWtlUGF5bG9hZChzb3VyY2UpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnBheWxvYWQpIHtcbiAgICAgIGVhY2godGhpcy5wYXlsb2FkLCAobm9kZSkgPT4gbm9kZS5yZXNldCgpKTtcbiAgICB9XG4gIH1cbiAgLyoqIENyZWF0ZSBhIHBheWxvYWQgc2V0LiAqL1xuICBfbWFrZVBheWxvYWQoc291cmNlKSB7XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgY29uc3QgcGF5bG9hZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICBlYWNoUHJvcChzb3VyY2UsIHRoaXMuX2FkZFRvUGF5bG9hZCwgcGF5bG9hZCk7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShwYXlsb2FkKTtcbiAgICB9XG4gIH1cbiAgLyoqIEFkZCB0byBhIHBheWxvYWQgc2V0LiAqL1xuICBfYWRkVG9QYXlsb2FkKHNvdXJjZSkge1xuICAgIGlmIChUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgJiYgaGFzRmx1aWRWYWx1ZShzb3VyY2UpKSB7XG4gICAgICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMuYWRkKHNvdXJjZSk7XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBnZXRQYXlsb2FkKHNvdXJjZSk7XG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIGVhY2gocGF5bG9hZCwgKG5vZGUpID0+IHRoaXMuYWRkKG5vZGUpKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZEFycmF5LnRzXG52YXIgQW5pbWF0ZWRBcnJheSA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWRPYmplY3Qge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIGNyZWF0ZShzb3VyY2UpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkQXJyYXkoc291cmNlKTtcbiAgfVxuICBnZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zb3VyY2UubWFwKChub2RlKSA9PiBub2RlLmdldFZhbHVlKCkpO1xuICB9XG4gIHNldFZhbHVlKHNvdXJjZSkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB0aGlzLmdldFBheWxvYWQoKTtcbiAgICBpZiAoc291cmNlLmxlbmd0aCA9PSBwYXlsb2FkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQubWFwKChub2RlLCBpKSA9PiBub2RlLnNldFZhbHVlKHNvdXJjZVtpXSkpLnNvbWUoQm9vbGVhbik7XG4gICAgfVxuICAgIHN1cGVyLnNldFZhbHVlKHNvdXJjZS5tYXAobWFrZUFuaW1hdGVkKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5mdW5jdGlvbiBtYWtlQW5pbWF0ZWQodmFsdWUpIHtcbiAgY29uc3Qgbm9kZVR5cGUgPSBpc0FuaW1hdGVkU3RyaW5nKHZhbHVlKSA/IEFuaW1hdGVkU3RyaW5nIDogQW5pbWF0ZWRWYWx1ZTtcbiAgcmV0dXJuIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSk7XG59XG5cbi8vIHNyYy9nZXRBbmltYXRlZFR5cGUudHNcbmltcG9ydCB7IGlzIGFzIGlzMywgaXNBbmltYXRlZFN0cmluZyBhcyBpc0FuaW1hdGVkU3RyaW5nMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gZ2V0QW5pbWF0ZWRUeXBlKHZhbHVlKSB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBnZXRBbmltYXRlZCh2YWx1ZSk7XG4gIHJldHVybiBwYXJlbnROb2RlID8gcGFyZW50Tm9kZS5jb25zdHJ1Y3RvciA6IGlzMy5hcnIodmFsdWUpID8gQW5pbWF0ZWRBcnJheSA6IGlzQW5pbWF0ZWRTdHJpbmcyKHZhbHVlKSA/IEFuaW1hdGVkU3RyaW5nIDogQW5pbWF0ZWRWYWx1ZTtcbn1cblxuLy8gc3JjL2NyZWF0ZUhvc3QudHNcbmltcG9ydCB7IGlzIGFzIGlzNSwgZWFjaFByb3AgYXMgZWFjaFByb3AyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy93aXRoQW5pbWF0ZWQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGZvcndhcmRSZWYsIHVzZVJlZiwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM0LFxuICBlYWNoIGFzIGVhY2gyLFxuICByYWYsXG4gIHVzZUZvcmNlVXBkYXRlLFxuICB1c2VPbmNlLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICByZW1vdmVGbHVpZE9ic2VydmVyLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0XG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHdpdGhBbmltYXRlZCA9IChDb21wb25lbnQsIGhvc3QpID0+IHtcbiAgY29uc3QgaGFzSW5zdGFuY2UgPSAoXG4gICAgLy8gRnVuY3Rpb24gY29tcG9uZW50cyBtdXN0IHVzZSBcImZvcndhcmRSZWZcIiB0byBhdm9pZCBiZWluZ1xuICAgIC8vIHJlLXJlbmRlcmVkIG9uIGV2ZXJ5IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAhaXM0LmZ1bihDb21wb25lbnQpIHx8IENvbXBvbmVudC5wcm90b3R5cGUgJiYgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50XG4gICk7XG4gIHJldHVybiBmb3J3YXJkUmVmKChnaXZlblByb3BzLCBnaXZlblJlZikgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHJlZiA9IGhhc0luc3RhbmNlICYmIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIHVzZUNhbGxiYWNrKFxuICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgIGluc3RhbmNlUmVmLmN1cnJlbnQgPSB1cGRhdGVSZWYoZ2l2ZW5SZWYsIHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBbZ2l2ZW5SZWZdXG4gICAgKTtcbiAgICBjb25zdCBbcHJvcHMsIGRlcHNdID0gZ2V0QW5pbWF0ZWRTdGF0ZShnaXZlblByb3BzLCBob3N0KTtcbiAgICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoaGFzSW5zdGFuY2UgJiYgIWluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRpZFVwZGF0ZSA9IGluc3RhbmNlID8gaG9zdC5hcHBseUFuaW1hdGVkVmFsdWVzKGluc3RhbmNlLCBwcm9wcy5nZXRWYWx1ZSh0cnVlKSkgOiBmYWxzZTtcbiAgICAgIGlmIChkaWRVcGRhdGUgPT09IGZhbHNlKSB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBQcm9wc09ic2VydmVyKGNhbGxiYWNrLCBkZXBzKTtcbiAgICBjb25zdCBvYnNlcnZlclJlZiA9IHVzZVJlZigpO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IG9ic2VydmVyO1xuICAgICAgZWFjaDIoZGVwcywgKGRlcCkgPT4gYWRkRmx1aWRPYnNlcnZlcihkZXAsIG9ic2VydmVyKSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAob2JzZXJ2ZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgIGVhY2gyKFxuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5kZXBzLFxuICAgICAgICAgICAgKGRlcCkgPT4gcmVtb3ZlRmx1aWRPYnNlcnZlcihkZXAsIG9ic2VydmVyUmVmLmN1cnJlbnQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICByYWYuY2FuY2VsKG9ic2VydmVyUmVmLmN1cnJlbnQudXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoY2FsbGJhY2ssIFtdKTtcbiAgICB1c2VPbmNlKCgpID0+ICgpID0+IHtcbiAgICAgIGNvbnN0IG9ic2VydmVyMiA9IG9ic2VydmVyUmVmLmN1cnJlbnQ7XG4gICAgICBlYWNoMihvYnNlcnZlcjIuZGVwcywgKGRlcCkgPT4gcmVtb3ZlRmx1aWRPYnNlcnZlcihkZXAsIG9ic2VydmVyMikpO1xuICAgIH0pO1xuICAgIGNvbnN0IHVzZWRQcm9wcyA9IGhvc3QuZ2V0Q29tcG9uZW50UHJvcHMocHJvcHMuZ2V0VmFsdWUoKSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwgeyAuLi51c2VkUHJvcHMsIHJlZiB9KTtcbiAgfSk7XG59O1xudmFyIFByb3BzT2JzZXJ2ZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHVwZGF0ZSwgZGVwcykge1xuICAgIHRoaXMudXBkYXRlID0gdXBkYXRlO1xuICAgIHRoaXMuZGVwcyA9IGRlcHM7XG4gIH1cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIHJhZi53cml0ZSh0aGlzLnVwZGF0ZSk7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gZ2V0QW5pbWF0ZWRTdGF0ZShwcm9wcywgaG9zdCkge1xuICBjb25zdCBkZXBlbmRlbmNpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gIGlmIChwcm9wcy5zdHlsZSlcbiAgICBwcm9wcyA9IHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgc3R5bGU6IGhvc3QuY3JlYXRlQW5pbWF0ZWRTdHlsZShwcm9wcy5zdHlsZSlcbiAgICB9O1xuICBwcm9wcyA9IG5ldyBBbmltYXRlZE9iamVjdChwcm9wcyk7XG4gIFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcyA9IG51bGw7XG4gIHJldHVybiBbcHJvcHMsIGRlcGVuZGVuY2llc107XG59XG5mdW5jdGlvbiB1cGRhdGVSZWYocmVmLCB2YWx1ZSkge1xuICBpZiAocmVmKSB7XG4gICAgaWYgKGlzNC5mdW4ocmVmKSlcbiAgICAgIHJlZih2YWx1ZSk7XG4gICAgZWxzZVxuICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbi8vIHNyYy9jcmVhdGVIb3N0LnRzXG52YXIgY2FjaGVLZXkgPSBTeW1ib2wuZm9yKFwiQW5pbWF0ZWRDb21wb25lbnRcIik7XG52YXIgY3JlYXRlSG9zdCA9IChjb21wb25lbnRzLCB7XG4gIGFwcGx5QW5pbWF0ZWRWYWx1ZXMgPSAoKSA9PiBmYWxzZSxcbiAgY3JlYXRlQW5pbWF0ZWRTdHlsZSA9IChzdHlsZSkgPT4gbmV3IEFuaW1hdGVkT2JqZWN0KHN0eWxlKSxcbiAgZ2V0Q29tcG9uZW50UHJvcHMgPSAocHJvcHMpID0+IHByb3BzXG59ID0ge30pID0+IHtcbiAgY29uc3QgaG9zdENvbmZpZyA9IHtcbiAgICBhcHBseUFuaW1hdGVkVmFsdWVzLFxuICAgIGNyZWF0ZUFuaW1hdGVkU3R5bGUsXG4gICAgZ2V0Q29tcG9uZW50UHJvcHNcbiAgfTtcbiAgY29uc3QgYW5pbWF0ZWQgPSAoQ29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgZGlzcGxheU5hbWUgPSBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpIHx8IFwiQW5vbnltb3VzXCI7XG4gICAgaWYgKGlzNS5zdHIoQ29tcG9uZW50KSkge1xuICAgICAgQ29tcG9uZW50ID0gYW5pbWF0ZWRbQ29tcG9uZW50XSB8fCAoYW5pbWF0ZWRbQ29tcG9uZW50XSA9IHdpdGhBbmltYXRlZChDb21wb25lbnQsIGhvc3RDb25maWcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50W2NhY2hlS2V5XSB8fCAoQ29tcG9uZW50W2NhY2hlS2V5XSA9IHdpdGhBbmltYXRlZChDb21wb25lbnQsIGhvc3RDb25maWcpKTtcbiAgICB9XG4gICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gYEFuaW1hdGVkKCR7ZGlzcGxheU5hbWV9KWA7XG4gICAgcmV0dXJuIENvbXBvbmVudDtcbiAgfTtcbiAgZWFjaFByb3AyKGNvbXBvbmVudHMsIChDb21wb25lbnQsIGtleSkgPT4ge1xuICAgIGlmIChpczUuYXJyKGNvbXBvbmVudHMpKSB7XG4gICAgICBrZXkgPSBnZXREaXNwbGF5TmFtZShDb21wb25lbnQpO1xuICAgIH1cbiAgICBhbmltYXRlZFtrZXldID0gYW5pbWF0ZWQoQ29tcG9uZW50KTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgYW5pbWF0ZWRcbiAgfTtcbn07XG52YXIgZ2V0RGlzcGxheU5hbWUgPSAoYXJnKSA9PiBpczUuc3RyKGFyZykgPyBhcmcgOiBhcmcgJiYgaXM1LnN0cihhcmcuZGlzcGxheU5hbWUpID8gYXJnLmRpc3BsYXlOYW1lIDogaXM1LmZ1bihhcmcpICYmIGFyZy5uYW1lIHx8IG51bGw7XG5leHBvcnQge1xuICBBbmltYXRlZCxcbiAgQW5pbWF0ZWRBcnJheSxcbiAgQW5pbWF0ZWRPYmplY3QsXG4gIEFuaW1hdGVkU3RyaW5nLFxuICBBbmltYXRlZFZhbHVlLFxuICBjcmVhdGVIb3N0LFxuICBnZXRBbmltYXRlZCxcbiAgZ2V0QW5pbWF0ZWRUeXBlLFxuICBnZXRQYXlsb2FkLFxuICBpc0FuaW1hdGVkLFxuICBzZXRBbmltYXRlZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBHbG9iYWxzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvY29yZVwiO1xuaW1wb3J0IHsgdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgeyBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsIGNvbG9ycyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHsgY3JlYXRlSG9zdCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG5cbi8vIHNyYy9hcHBseUFuaW1hdGVkVmFsdWVzLnRzXG52YXIgaXNDdXN0b21Qcm9wUkUgPSAvXi0tLztcbmZ1bmN0aW9uIGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PT0gXCJcIilcbiAgICByZXR1cm4gXCJcIjtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiB2YWx1ZSAhPT0gMCAmJiAhaXNDdXN0b21Qcm9wUkUudGVzdChuYW1lKSAmJiAhKGlzVW5pdGxlc3NOdW1iZXIuaGFzT3duUHJvcGVydHkobmFtZSkgJiYgaXNVbml0bGVzc051bWJlcltuYW1lXSkpXG4gICAgcmV0dXJuIHZhbHVlICsgXCJweFwiO1xuICByZXR1cm4gKFwiXCIgKyB2YWx1ZSkudHJpbSgpO1xufVxudmFyIGF0dHJpYnV0ZUNhY2hlID0ge307XG5mdW5jdGlvbiBhcHBseUFuaW1hdGVkVmFsdWVzKGluc3RhbmNlLCBwcm9wcykge1xuICBpZiAoIWluc3RhbmNlLm5vZGVUeXBlIHx8ICFpbnN0YW5jZS5zZXRBdHRyaWJ1dGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgaXNGaWx0ZXJFbGVtZW50ID0gaW5zdGFuY2Uubm9kZU5hbWUgPT09IFwiZmlsdGVyXCIgfHwgaW5zdGFuY2UucGFyZW50Tm9kZSAmJiBpbnN0YW5jZS5wYXJlbnROb2RlLm5vZGVOYW1lID09PSBcImZpbHRlclwiO1xuICBjb25zdCB7XG4gICAgY2xhc3NOYW1lLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIHNjcm9sbFRvcCxcbiAgICBzY3JvbGxMZWZ0LFxuICAgIHZpZXdCb3gsXG4gICAgLi4uYXR0cmlidXRlc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoYXR0cmlidXRlcyk7XG4gIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcykubWFwKFxuICAgIChuYW1lKSA9PiBpc0ZpbHRlckVsZW1lbnQgfHwgaW5zdGFuY2UuaGFzQXR0cmlidXRlKG5hbWUpID8gbmFtZSA6IGF0dHJpYnV0ZUNhY2hlW25hbWVdIHx8IChhdHRyaWJ1dGVDYWNoZVtuYW1lXSA9IG5hbWUucmVwbGFjZShcbiAgICAgIC8oW0EtWl0pL2csXG4gICAgICAvLyBBdHRyaWJ1dGVzIGFyZSB3cml0dGVuIGluIGRhc2ggY2FzZVxuICAgICAgKG4pID0+IFwiLVwiICsgbi50b0xvd2VyQ2FzZSgpXG4gICAgKSlcbiAgKTtcbiAgaWYgKGNoaWxkcmVuICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS50ZXh0Q29udGVudCA9IGNoaWxkcmVuO1xuICB9XG4gIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZSkge1xuICAgIGlmIChzdHlsZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHN0eWxlW25hbWVdKTtcbiAgICAgIGlmIChpc0N1c3RvbVByb3BSRS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG5hbWVzLmZvckVhY2goKG5hbWUsIGkpID0+IHtcbiAgICBpbnN0YW5jZS5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWVzW2ldKTtcbiAgfSk7XG4gIGlmIChjbGFzc05hbWUgIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgfVxuICBpZiAoc2Nyb2xsVG9wICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gIH1cbiAgaWYgKHNjcm9sbExlZnQgIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICB9XG4gIGlmICh2aWV3Qm94ICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsIHZpZXdCb3gpO1xuICB9XG59XG52YXIgaXNVbml0bGVzc051bWJlciA9IHtcbiAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IHRydWUsXG4gIGJvcmRlckltYWdlT3V0c2V0OiB0cnVlLFxuICBib3JkZXJJbWFnZVNsaWNlOiB0cnVlLFxuICBib3JkZXJJbWFnZVdpZHRoOiB0cnVlLFxuICBib3hGbGV4OiB0cnVlLFxuICBib3hGbGV4R3JvdXA6IHRydWUsXG4gIGJveE9yZGluYWxHcm91cDogdHJ1ZSxcbiAgY29sdW1uQ291bnQ6IHRydWUsXG4gIGNvbHVtbnM6IHRydWUsXG4gIGZsZXg6IHRydWUsXG4gIGZsZXhHcm93OiB0cnVlLFxuICBmbGV4UG9zaXRpdmU6IHRydWUsXG4gIGZsZXhTaHJpbms6IHRydWUsXG4gIGZsZXhOZWdhdGl2ZTogdHJ1ZSxcbiAgZmxleE9yZGVyOiB0cnVlLFxuICBncmlkUm93OiB0cnVlLFxuICBncmlkUm93RW5kOiB0cnVlLFxuICBncmlkUm93U3BhbjogdHJ1ZSxcbiAgZ3JpZFJvd1N0YXJ0OiB0cnVlLFxuICBncmlkQ29sdW1uOiB0cnVlLFxuICBncmlkQ29sdW1uRW5kOiB0cnVlLFxuICBncmlkQ29sdW1uU3BhbjogdHJ1ZSxcbiAgZ3JpZENvbHVtblN0YXJ0OiB0cnVlLFxuICBmb250V2VpZ2h0OiB0cnVlLFxuICBsaW5lQ2xhbXA6IHRydWUsXG4gIGxpbmVIZWlnaHQ6IHRydWUsXG4gIG9wYWNpdHk6IHRydWUsXG4gIG9yZGVyOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICB0YWJTaXplOiB0cnVlLFxuICB3aWRvd3M6IHRydWUsXG4gIHpJbmRleDogdHJ1ZSxcbiAgem9vbTogdHJ1ZSxcbiAgLy8gU1ZHLXJlbGF0ZWQgcHJvcGVydGllc1xuICBmaWxsT3BhY2l0eTogdHJ1ZSxcbiAgZmxvb2RPcGFjaXR5OiB0cnVlLFxuICBzdG9wT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaGFycmF5OiB0cnVlLFxuICBzdHJva2VEYXNob2Zmc2V0OiB0cnVlLFxuICBzdHJva2VNaXRlcmxpbWl0OiB0cnVlLFxuICBzdHJva2VPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VXaWR0aDogdHJ1ZVxufTtcbnZhciBwcmVmaXhLZXkgPSAocHJlZml4LCBrZXkpID0+IHByZWZpeCArIGtleS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGtleS5zdWJzdHJpbmcoMSk7XG52YXIgcHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNc1wiLCBcIk1velwiLCBcIk9cIl07XG5pc1VuaXRsZXNzTnVtYmVyID0gT2JqZWN0LmtleXMoaXNVbml0bGVzc051bWJlcikucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgcHJlZml4ZXMuZm9yRWFjaCgocHJlZml4KSA9PiBhY2NbcHJlZml4S2V5KHByZWZpeCwgcHJvcCldID0gYWNjW3Byb3BdKTtcbiAgcmV0dXJuIGFjYztcbn0sIGlzVW5pdGxlc3NOdW1iZXIpO1xuXG4vLyBzcmMvQW5pbWF0ZWRTdHlsZS50c1xuaW1wb3J0IHsgQW5pbWF0ZWRPYmplY3QgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xuaW1wb3J0IHtcbiAgaXMsXG4gIGVhY2gsXG4gIHRvQXJyYXksXG4gIGVhY2hQcm9wLFxuICBGbHVpZFZhbHVlLFxuICBnZXRGbHVpZFZhbHVlLFxuICBjYWxsRmx1aWRPYnNlcnZlcnMsXG4gIGhhc0ZsdWlkVmFsdWUsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgZG9tVHJhbnNmb3JtcyA9IC9eKG1hdHJpeHx0cmFuc2xhdGV8c2NhbGV8cm90YXRlfHNrZXcpLztcbnZhciBweFRyYW5zZm9ybXMgPSAvXih0cmFuc2xhdGUpLztcbnZhciBkZWdUcmFuc2Zvcm1zID0gL14ocm90YXRlfHNrZXcpLztcbnZhciBhZGRVbml0ID0gKHZhbHVlLCB1bml0KSA9PiBpcy5udW0odmFsdWUpICYmIHZhbHVlICE9PSAwID8gdmFsdWUgKyB1bml0IDogdmFsdWU7XG52YXIgaXNWYWx1ZUlkZW50aXR5ID0gKHZhbHVlLCBpZCkgPT4gaXMuYXJyKHZhbHVlKSA/IHZhbHVlLmV2ZXJ5KCh2KSA9PiBpc1ZhbHVlSWRlbnRpdHkodiwgaWQpKSA6IGlzLm51bSh2YWx1ZSkgPyB2YWx1ZSA9PT0gaWQgOiBwYXJzZUZsb2F0KHZhbHVlKSA9PT0gaWQ7XG52YXIgQW5pbWF0ZWRTdHlsZSA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWRPYmplY3Qge1xuICBjb25zdHJ1Y3Rvcih7IHgsIHksIHosIC4uLnN0eWxlIH0pIHtcbiAgICBjb25zdCBpbnB1dHMgPSBbXTtcbiAgICBjb25zdCB0cmFuc2Zvcm1zID0gW107XG4gICAgaWYgKHggfHwgeSB8fCB6KSB7XG4gICAgICBpbnB1dHMucHVzaChbeCB8fCAwLCB5IHx8IDAsIHogfHwgMF0pO1xuICAgICAgdHJhbnNmb3Jtcy5wdXNoKCh4eXopID0+IFtcbiAgICAgICAgYHRyYW5zbGF0ZTNkKCR7eHl6Lm1hcCgodikgPT4gYWRkVW5pdCh2LCBcInB4XCIpKS5qb2luKFwiLFwiKX0pYCxcbiAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgIGlzVmFsdWVJZGVudGl0eSh4eXosIDApXG4gICAgICBdKTtcbiAgICB9XG4gICAgZWFjaFByb3Aoc3R5bGUsICh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBpZiAoa2V5ID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgIGlucHV0cy5wdXNoKFt2YWx1ZSB8fCBcIlwiXSk7XG4gICAgICAgIHRyYW5zZm9ybXMucHVzaCgodHJhbnNmb3JtKSA9PiBbdHJhbnNmb3JtLCB0cmFuc2Zvcm0gPT09IFwiXCJdKTtcbiAgICAgIH0gZWxzZSBpZiAoZG9tVHJhbnNmb3Jtcy50ZXN0KGtleSkpIHtcbiAgICAgICAgZGVsZXRlIHN0eWxlW2tleV07XG4gICAgICAgIGlmIChpcy51bmQodmFsdWUpKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5pdCA9IHB4VHJhbnNmb3Jtcy50ZXN0KGtleSkgPyBcInB4XCIgOiBkZWdUcmFuc2Zvcm1zLnRlc3Qoa2V5KSA/IFwiZGVnXCIgOiBcIlwiO1xuICAgICAgICBpbnB1dHMucHVzaCh0b0FycmF5KHZhbHVlKSk7XG4gICAgICAgIHRyYW5zZm9ybXMucHVzaChcbiAgICAgICAgICBrZXkgPT09IFwicm90YXRlM2RcIiA/IChbeDIsIHkyLCB6MiwgZGVnXSkgPT4gW1xuICAgICAgICAgICAgYHJvdGF0ZTNkKCR7eDJ9LCR7eTJ9LCR7ejJ9LCR7YWRkVW5pdChkZWcsIHVuaXQpfSlgLFxuICAgICAgICAgICAgaXNWYWx1ZUlkZW50aXR5KGRlZywgMClcbiAgICAgICAgICBdIDogKGlucHV0KSA9PiBbXG4gICAgICAgICAgICBgJHtrZXl9KCR7aW5wdXQubWFwKCh2KSA9PiBhZGRVbml0KHYsIHVuaXQpKS5qb2luKFwiLFwiKX0pYCxcbiAgICAgICAgICAgIGlzVmFsdWVJZGVudGl0eShpbnB1dCwga2V5LnN0YXJ0c1dpdGgoXCJzY2FsZVwiKSA/IDEgOiAwKVxuICAgICAgICAgIF1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5wdXRzLmxlbmd0aCkge1xuICAgICAgc3R5bGUudHJhbnNmb3JtID0gbmV3IEZsdWlkVHJhbnNmb3JtKGlucHV0cywgdHJhbnNmb3Jtcyk7XG4gICAgfVxuICAgIHN1cGVyKHN0eWxlKTtcbiAgfVxufTtcbnZhciBGbHVpZFRyYW5zZm9ybSA9IGNsYXNzIGV4dGVuZHMgRmx1aWRWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKGlucHV0cywgdHJhbnNmb3Jtcykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XG4gICAgdGhpcy50cmFuc2Zvcm1zID0gdHJhbnNmb3JtcztcbiAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gIH1cbiAgZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZSB8fCAodGhpcy5fdmFsdWUgPSB0aGlzLl9nZXQoKSk7XG4gIH1cbiAgX2dldCgpIHtcbiAgICBsZXQgdHJhbnNmb3JtID0gXCJcIjtcbiAgICBsZXQgaWRlbnRpdHkgPSB0cnVlO1xuICAgIGVhY2godGhpcy5pbnB1dHMsIChpbnB1dCwgaSkgPT4ge1xuICAgICAgY29uc3QgYXJnMSA9IGdldEZsdWlkVmFsdWUoaW5wdXRbMF0pO1xuICAgICAgY29uc3QgW3QsIGlkXSA9IHRoaXMudHJhbnNmb3Jtc1tpXShcbiAgICAgICAgaXMuYXJyKGFyZzEpID8gYXJnMSA6IGlucHV0Lm1hcChnZXRGbHVpZFZhbHVlKVxuICAgICAgKTtcbiAgICAgIHRyYW5zZm9ybSArPSBcIiBcIiArIHQ7XG4gICAgICBpZGVudGl0eSA9IGlkZW50aXR5ICYmIGlkO1xuICAgIH0pO1xuICAgIHJldHVybiBpZGVudGl0eSA/IFwibm9uZVwiIDogdHJhbnNmb3JtO1xuICB9XG4gIC8vIFN0YXJ0IG9ic2VydmluZyBvdXIgaW5wdXRzIG9uY2Ugd2UgaGF2ZSBhbiBvYnNlcnZlci5cbiAgb2JzZXJ2ZXJBZGRlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAxKVxuICAgICAgZWFjaChcbiAgICAgICAgdGhpcy5pbnB1dHMsXG4gICAgICAgIChpbnB1dCkgPT4gZWFjaChcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAodmFsdWUpID0+IGhhc0ZsdWlkVmFsdWUodmFsdWUpICYmIGFkZEZsdWlkT2JzZXJ2ZXIodmFsdWUsIHRoaXMpXG4gICAgICAgIClcbiAgICAgICk7XG4gIH1cbiAgLy8gU3RvcCBvYnNlcnZpbmcgb3VyIGlucHV0cyBvbmNlIHdlIGhhdmUgbm8gb2JzZXJ2ZXJzLlxuICBvYnNlcnZlclJlbW92ZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMClcbiAgICAgIGVhY2goXG4gICAgICAgIHRoaXMuaW5wdXRzLFxuICAgICAgICAoaW5wdXQpID0+IGVhY2goXG4gICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgKHZhbHVlKSA9PiBoYXNGbHVpZFZhbHVlKHZhbHVlKSAmJiByZW1vdmVGbHVpZE9ic2VydmVyKHZhbHVlLCB0aGlzKVxuICAgICAgICApXG4gICAgICApO1xuICB9XG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICB0aGlzLl92YWx1ZSA9IG51bGw7XG4gICAgfVxuICAgIGNhbGxGbHVpZE9ic2VydmVycyh0aGlzLCBldmVudCk7XG4gIH1cbn07XG5cbi8vIHNyYy9wcmltaXRpdmVzLnRzXG52YXIgcHJpbWl0aXZlcyA9IFtcbiAgXCJhXCIsXG4gIFwiYWJiclwiLFxuICBcImFkZHJlc3NcIixcbiAgXCJhcmVhXCIsXG4gIFwiYXJ0aWNsZVwiLFxuICBcImFzaWRlXCIsXG4gIFwiYXVkaW9cIixcbiAgXCJiXCIsXG4gIFwiYmFzZVwiLFxuICBcImJkaVwiLFxuICBcImJkb1wiLFxuICBcImJpZ1wiLFxuICBcImJsb2NrcXVvdGVcIixcbiAgXCJib2R5XCIsXG4gIFwiYnJcIixcbiAgXCJidXR0b25cIixcbiAgXCJjYW52YXNcIixcbiAgXCJjYXB0aW9uXCIsXG4gIFwiY2l0ZVwiLFxuICBcImNvZGVcIixcbiAgXCJjb2xcIixcbiAgXCJjb2xncm91cFwiLFxuICBcImRhdGFcIixcbiAgXCJkYXRhbGlzdFwiLFxuICBcImRkXCIsXG4gIFwiZGVsXCIsXG4gIFwiZGV0YWlsc1wiLFxuICBcImRmblwiLFxuICBcImRpYWxvZ1wiLFxuICBcImRpdlwiLFxuICBcImRsXCIsXG4gIFwiZHRcIixcbiAgXCJlbVwiLFxuICBcImVtYmVkXCIsXG4gIFwiZmllbGRzZXRcIixcbiAgXCJmaWdjYXB0aW9uXCIsXG4gIFwiZmlndXJlXCIsXG4gIFwiZm9vdGVyXCIsXG4gIFwiZm9ybVwiLFxuICBcImgxXCIsXG4gIFwiaDJcIixcbiAgXCJoM1wiLFxuICBcImg0XCIsXG4gIFwiaDVcIixcbiAgXCJoNlwiLFxuICBcImhlYWRcIixcbiAgXCJoZWFkZXJcIixcbiAgXCJoZ3JvdXBcIixcbiAgXCJoclwiLFxuICBcImh0bWxcIixcbiAgXCJpXCIsXG4gIFwiaWZyYW1lXCIsXG4gIFwiaW1nXCIsXG4gIFwiaW5wdXRcIixcbiAgXCJpbnNcIixcbiAgXCJrYmRcIixcbiAgXCJrZXlnZW5cIixcbiAgXCJsYWJlbFwiLFxuICBcImxlZ2VuZFwiLFxuICBcImxpXCIsXG4gIFwibGlua1wiLFxuICBcIm1haW5cIixcbiAgXCJtYXBcIixcbiAgXCJtYXJrXCIsXG4gIFwibWVudVwiLFxuICBcIm1lbnVpdGVtXCIsXG4gIFwibWV0YVwiLFxuICBcIm1ldGVyXCIsXG4gIFwibmF2XCIsXG4gIFwibm9zY3JpcHRcIixcbiAgXCJvYmplY3RcIixcbiAgXCJvbFwiLFxuICBcIm9wdGdyb3VwXCIsXG4gIFwib3B0aW9uXCIsXG4gIFwib3V0cHV0XCIsXG4gIFwicFwiLFxuICBcInBhcmFtXCIsXG4gIFwicGljdHVyZVwiLFxuICBcInByZVwiLFxuICBcInByb2dyZXNzXCIsXG4gIFwicVwiLFxuICBcInJwXCIsXG4gIFwicnRcIixcbiAgXCJydWJ5XCIsXG4gIFwic1wiLFxuICBcInNhbXBcIixcbiAgXCJzY3JpcHRcIixcbiAgXCJzZWN0aW9uXCIsXG4gIFwic2VsZWN0XCIsXG4gIFwic21hbGxcIixcbiAgXCJzb3VyY2VcIixcbiAgXCJzcGFuXCIsXG4gIFwic3Ryb25nXCIsXG4gIFwic3R5bGVcIixcbiAgXCJzdWJcIixcbiAgXCJzdW1tYXJ5XCIsXG4gIFwic3VwXCIsXG4gIFwidGFibGVcIixcbiAgXCJ0Ym9keVwiLFxuICBcInRkXCIsXG4gIFwidGV4dGFyZWFcIixcbiAgXCJ0Zm9vdFwiLFxuICBcInRoXCIsXG4gIFwidGhlYWRcIixcbiAgXCJ0aW1lXCIsXG4gIFwidGl0bGVcIixcbiAgXCJ0clwiLFxuICBcInRyYWNrXCIsXG4gIFwidVwiLFxuICBcInVsXCIsXG4gIFwidmFyXCIsXG4gIFwidmlkZW9cIixcbiAgXCJ3YnJcIixcbiAgLy8gU1ZHXG4gIFwiY2lyY2xlXCIsXG4gIFwiY2xpcFBhdGhcIixcbiAgXCJkZWZzXCIsXG4gIFwiZWxsaXBzZVwiLFxuICBcImZvcmVpZ25PYmplY3RcIixcbiAgXCJnXCIsXG4gIFwiaW1hZ2VcIixcbiAgXCJsaW5lXCIsXG4gIFwibGluZWFyR3JhZGllbnRcIixcbiAgXCJtYXNrXCIsXG4gIFwicGF0aFwiLFxuICBcInBhdHRlcm5cIixcbiAgXCJwb2x5Z29uXCIsXG4gIFwicG9seWxpbmVcIixcbiAgXCJyYWRpYWxHcmFkaWVudFwiLFxuICBcInJlY3RcIixcbiAgXCJzdG9wXCIsXG4gIFwic3ZnXCIsXG4gIFwidGV4dFwiLFxuICBcInRzcGFuXCJcbl07XG5cbi8vIHNyYy9pbmRleC50c1xuZXhwb3J0ICogZnJvbSBcIkByZWFjdC1zcHJpbmcvY29yZVwiO1xuR2xvYmFscy5hc3NpZ24oe1xuICBiYXRjaGVkVXBkYXRlczogdW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgY29sb3JzXG59KTtcbnZhciBob3N0ID0gY3JlYXRlSG9zdChwcmltaXRpdmVzLCB7XG4gIGFwcGx5QW5pbWF0ZWRWYWx1ZXMsXG4gIGNyZWF0ZUFuaW1hdGVkU3R5bGU6IChzdHlsZSkgPT4gbmV3IEFuaW1hdGVkU3R5bGUoc3R5bGUpLFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIGdldENvbXBvbmVudFByb3BzOiAoeyBzY3JvbGxUb3AsIHNjcm9sbExlZnQsIC4uLnByb3BzIH0pID0+IHByb3BzXG59KTtcbnZhciBhbmltYXRlZCA9IGhvc3QuYW5pbWF0ZWQ7XG5leHBvcnQge1xuICBhbmltYXRlZCBhcyBhLFxuICBhbmltYXRlZFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcy5tYXAiLAogICAgInZhciBSRUxFQVNFX1RSQUlOID0gJ2FjYWNpYSc7XG5cbnZhciBydW50aW1lVmVyc2lvblRvVXJsVmVyc2lvbiA9IGZ1bmN0aW9uIHJ1bnRpbWVWZXJzaW9uVG9VcmxWZXJzaW9uKHZlcnNpb24pIHtcbiAgcmV0dXJuIHZlcnNpb24gPT09IDMgPyAndjMnIDogdmVyc2lvbjtcbn07XG5cbnZhciBPUklHSU4gPSAnaHR0cHM6Ly9qcy5zdHJpcGUuY29tJztcbnZhciBTVFJJUEVfSlNfVVJMID0gXCJcIi5jb25jYXQoT1JJR0lOLCBcIi9cIikuY29uY2F0KFJFTEVBU0VfVFJBSU4sIFwiL3N0cmlwZS5qc1wiKTtcbnZhciBWM19VUkxfUkVHRVggPSAvXmh0dHBzOlxcL1xcL2pzXFwuc3RyaXBlXFwuY29tXFwvdjNcXC8/KFxcPy4qKT8kLztcbnZhciBTVFJJUEVfSlNfVVJMX1JFR0VYID0gL15odHRwczpcXC9cXC9qc1xcLnN0cmlwZVxcLmNvbVxcLyh2M3xbYS16XSspXFwvc3RyaXBlXFwuanMoXFw/LiopPyQvO1xudmFyIEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFID0gJ2xvYWRTdHJpcGUuc2V0TG9hZFBhcmFtZXRlcnMgd2FzIGNhbGxlZCBidXQgYW4gZXhpc3RpbmcgU3RyaXBlLmpzIHNjcmlwdCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQ7IGV4aXN0aW5nIHNjcmlwdCBwYXJhbWV0ZXJzIHdpbGwgYmUgdXNlZCc7XG5cbnZhciBpc1N0cmlwZUpTVVJMID0gZnVuY3Rpb24gaXNTdHJpcGVKU1VSTCh1cmwpIHtcbiAgcmV0dXJuIFYzX1VSTF9SRUdFWC50ZXN0KHVybCkgfHwgU1RSSVBFX0pTX1VSTF9SRUdFWC50ZXN0KHVybCk7XG59O1xuXG52YXIgZmluZFNjcmlwdCA9IGZ1bmN0aW9uIGZpbmRTY3JpcHQoKSB7XG4gIHZhciBzY3JpcHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFtzcmNePVxcXCJcIi5jb25jYXQoT1JJR0lOLCBcIlxcXCJdXCIpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2NyaXB0ID0gc2NyaXB0c1tpXTtcblxuICAgIGlmICghaXNTdHJpcGVKU1VSTChzY3JpcHQuc3JjKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNjcmlwdDtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxudmFyIGluamVjdFNjcmlwdCA9IGZ1bmN0aW9uIGluamVjdFNjcmlwdChwYXJhbXMpIHtcbiAgdmFyIHF1ZXJ5U3RyaW5nID0gcGFyYW1zICYmICFwYXJhbXMuYWR2YW5jZWRGcmF1ZFNpZ25hbHMgPyAnP2FkdmFuY2VkRnJhdWRTaWduYWxzPWZhbHNlJyA6ICcnO1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zcmMgPSBcIlwiLmNvbmNhdChTVFJJUEVfSlNfVVJMKS5jb25jYXQocXVlcnlTdHJpbmcpO1xuICB2YXIgaGVhZE9yQm9keSA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keTtcblxuICBpZiAoIWhlYWRPckJvZHkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGRvY3VtZW50LmJvZHkgbm90IHRvIGJlIG51bGwuIFN0cmlwZS5qcyByZXF1aXJlcyBhIDxib2R5PiBlbGVtZW50LicpO1xuICB9XG5cbiAgaGVhZE9yQm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICByZXR1cm4gc2NyaXB0O1xufTtcblxudmFyIHJlZ2lzdGVyV3JhcHBlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyV3JhcHBlcihzdHJpcGUsIHN0YXJ0VGltZSkge1xuICBpZiAoIXN0cmlwZSB8fCAhc3RyaXBlLl9yZWdpc3RlcldyYXBwZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdHJpcGUuX3JlZ2lzdGVyV3JhcHBlcih7XG4gICAgbmFtZTogJ3N0cmlwZS1qcycsXG4gICAgdmVyc2lvbjogXCI2LjEuMFwiLFxuICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lXG4gIH0pO1xufTtcblxudmFyIHN0cmlwZVByb21pc2UkMSA9IG51bGw7XG52YXIgb25FcnJvckxpc3RlbmVyID0gbnVsbDtcbnZhciBvbkxvYWRMaXN0ZW5lciA9IG51bGw7XG5cbnZhciBvbkVycm9yID0gZnVuY3Rpb24gb25FcnJvcihyZWplY3QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChjYXVzZSkge1xuICAgIHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFN0cmlwZS5qcycsIHtcbiAgICAgIGNhdXNlOiBjYXVzZVxuICAgIH0pKTtcbiAgfTtcbn07XG5cbnZhciBvbkxvYWQgPSBmdW5jdGlvbiBvbkxvYWQocmVzb2x2ZSwgcmVqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5TdHJpcGUpIHtcbiAgICAgIHJlc29sdmUod2luZG93LlN0cmlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1N0cmlwZS5qcyBub3QgYXZhaWxhYmxlJykpO1xuICAgIH1cbiAgfTtcbn07XG5cbnZhciBsb2FkU2NyaXB0ID0gZnVuY3Rpb24gbG9hZFNjcmlwdChwYXJhbXMpIHtcbiAgLy8gRW5zdXJlIHRoYXQgd2Ugb25seSBhdHRlbXB0IHRvIGxvYWQgU3RyaXBlLmpzIGF0IG1vc3Qgb25jZVxuICBpZiAoc3RyaXBlUHJvbWlzZSQxICE9PSBudWxsKSB7XG4gICAgcmV0dXJuIHN0cmlwZVByb21pc2UkMTtcbiAgfVxuXG4gIHN0cmlwZVByb21pc2UkMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gUmVzb2x2ZSB0byBudWxsIHdoZW4gaW1wb3J0ZWQgc2VydmVyIHNpZGUuIFRoaXMgbWFrZXMgdGhlIG1vZHVsZVxuICAgICAgLy8gc2FmZSB0byBpbXBvcnQgaW4gYW4gaXNvbW9ycGhpYyBjb2RlIGJhc2UuXG4gICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuU3RyaXBlICYmIHBhcmFtcykge1xuICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlN0cmlwZSkge1xuICAgICAgcmVzb2x2ZSh3aW5kb3cuU3RyaXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHNjcmlwdCA9IGZpbmRTY3JpcHQoKTtcblxuICAgICAgaWYgKHNjcmlwdCAmJiBwYXJhbXMpIHtcbiAgICAgICAgY29uc29sZS53YXJuKEVYSVNUSU5HX1NDUklQVF9NRVNTQUdFKTtcbiAgICAgIH0gZWxzZSBpZiAoIXNjcmlwdCkge1xuICAgICAgICBzY3JpcHQgPSBpbmplY3RTY3JpcHQocGFyYW1zKTtcbiAgICAgIH0gZWxzZSBpZiAoc2NyaXB0ICYmIG9uTG9hZExpc3RlbmVyICE9PSBudWxsICYmIG9uRXJyb3JMaXN0ZW5lciAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgX3NjcmlwdCRwYXJlbnROb2RlO1xuXG4gICAgICAgIC8vIHJlbW92ZSBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWRMaXN0ZW5lcik7XG4gICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3JMaXN0ZW5lcik7IC8vIGlmIHNjcmlwdCBleGlzdHMsIGJ1dCB3ZSBhcmUgcmVsb2FkaW5nIGR1ZSB0byBhbiBlcnJvcixcbiAgICAgICAgLy8gcmVsb2FkIHNjcmlwdCB0byB0cmlnZ2VyICdsb2FkJyBldmVudFxuXG4gICAgICAgIChfc2NyaXB0JHBhcmVudE5vZGUgPSBzY3JpcHQucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX3NjcmlwdCRwYXJlbnROb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfc2NyaXB0JHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgc2NyaXB0ID0gaW5qZWN0U2NyaXB0KHBhcmFtcyk7XG4gICAgICB9XG5cbiAgICAgIG9uTG9hZExpc3RlbmVyID0gb25Mb2FkKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICBvbkVycm9yTGlzdGVuZXIgPSBvbkVycm9yKHJlamVjdCk7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTG9hZExpc3RlbmVyKTtcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIG9uRXJyb3JMaXN0ZW5lcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9KTsgLy8gUmVzZXRzIHN0cmlwZVByb21pc2Ugb24gZXJyb3JcblxuICByZXR1cm4gc3RyaXBlUHJvbWlzZSQxW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgc3RyaXBlUHJvbWlzZSQxID0gbnVsbDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9KTtcbn07XG52YXIgaW5pdFN0cmlwZSA9IGZ1bmN0aW9uIGluaXRTdHJpcGUobWF5YmVTdHJpcGUsIGFyZ3MsIHN0YXJ0VGltZSkge1xuICBpZiAobWF5YmVTdHJpcGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwayA9IGFyZ3NbMF07XG4gIHZhciBpc1Rlc3RLZXkgPSBway5tYXRjaCgvXnBrX3Rlc3QvKTsgLy8gQHRzLWV4cGVjdC1lcnJvciB0aGlzIGlzIG5vdCBwdWJsaWNseSB0eXBlZFxuXG4gIHZhciB2ZXJzaW9uID0gcnVudGltZVZlcnNpb25Ub1VybFZlcnNpb24obWF5YmVTdHJpcGUudmVyc2lvbik7XG4gIHZhciBleHBlY3RlZFZlcnNpb24gPSBSRUxFQVNFX1RSQUlOO1xuXG4gIGlmIChpc1Rlc3RLZXkgJiYgdmVyc2lvbiAhPT0gZXhwZWN0ZWRWZXJzaW9uKSB7XG4gICAgY29uc29sZS53YXJuKFwiU3RyaXBlLmpzQFwiLmNvbmNhdCh2ZXJzaW9uLCBcIiB3YXMgbG9hZGVkIG9uIHRoZSBwYWdlLCBidXQgQHN0cmlwZS9zdHJpcGUtanNAXCIpLmNvbmNhdChcIjYuMS4wXCIsIFwiIGV4cGVjdGVkIFN0cmlwZS5qc0BcIikuY29uY2F0KGV4cGVjdGVkVmVyc2lvbiwgXCIuIFRoaXMgbWF5IHJlc3VsdCBpbiB1bmV4cGVjdGVkIGJlaGF2aW9yLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vZG9jcy5zdHJpcGUuY29tL3Nka3Mvc3RyaXBlanMtdmVyc2lvbmluZ1wiKSk7XG4gIH1cblxuICB2YXIgc3RyaXBlID0gbWF5YmVTdHJpcGUuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgcmVnaXN0ZXJXcmFwcGVyKHN0cmlwZSwgc3RhcnRUaW1lKTtcbiAgcmV0dXJuIHN0cmlwZTtcbn07IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5cbnZhciBzdHJpcGVQcm9taXNlO1xudmFyIGxvYWRDYWxsZWQgPSBmYWxzZTtcblxudmFyIGdldFN0cmlwZVByb21pc2UgPSBmdW5jdGlvbiBnZXRTdHJpcGVQcm9taXNlKCkge1xuICBpZiAoc3RyaXBlUHJvbWlzZSkge1xuICAgIHJldHVybiBzdHJpcGVQcm9taXNlO1xuICB9XG5cbiAgc3RyaXBlUHJvbWlzZSA9IGxvYWRTY3JpcHQobnVsbClbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvLyBjbGVhciBjYWNoZSBvbiBlcnJvclxuICAgIHN0cmlwZVByb21pc2UgPSBudWxsO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gIH0pO1xuICByZXR1cm4gc3RyaXBlUHJvbWlzZTtcbn07IC8vIEV4ZWN1dGUgb3VyIG93biBzY3JpcHQgaW5qZWN0aW9uIGFmdGVyIGEgdGljayB0byBnaXZlIHVzZXJzIHRpbWUgdG8gZG8gdGhlaXJcbi8vIG93biBzY3JpcHQgaW5qZWN0aW9uLlxuXG5cblByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZ2V0U3RyaXBlUHJvbWlzZSgpO1xufSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZXJyb3IpIHtcbiAgaWYgKCFsb2FkQ2FsbGVkKSB7XG4gICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgfVxufSk7XG52YXIgbG9hZFN0cmlwZSA9IGZ1bmN0aW9uIGxvYWRTdHJpcGUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBsb2FkQ2FsbGVkID0gdHJ1ZTtcbiAgdmFyIHN0YXJ0VGltZSA9IERhdGUubm93KCk7IC8vIGlmIHByZXZpb3VzIGF0dGVtcHRzIGFyZSB1bnN1Y2Nlc3NmdWwsIHdpbGwgcmUtbG9hZCBzY3JpcHRcblxuICByZXR1cm4gZ2V0U3RyaXBlUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24gKG1heWJlU3RyaXBlKSB7XG4gICAgcmV0dXJuIGluaXRTdHJpcGUobWF5YmVTdHJpcGUsIGFyZ3MsIHN0YXJ0VGltZSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHsgbG9hZFN0cmlwZSB9O1xuIiwKICAgICJpbXBvcnQge1xuICAgIE9wdGlvbixcbiAgICBTb21lLFxuICAgIE5vbmVcbn0gZnJvbSBcIkBjb21tb25cIjtcblxuZXhwb3J0IG5hbWVzcGFjZSBKc29uIHtcblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemU8VDE9dW5rbm93bj4oZGF0YTogVDEpOiBPcHRpb248c3RyaW5nPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU29tZShKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIE5vbmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplPFQxPXVua25vd24+KHN0cmluZzogc3RyaW5nKTogT3B0aW9uPFQxPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gU29tZShKU09OLnBhcnNlKHN0cmluZykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBOb25lO1xuICAgICAgICB9XG4gICAgfVxufSIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxuY29uc3Qge3RvU3RyaW5nfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCB7Z2V0UHJvdG90eXBlT2Z9ID0gT2JqZWN0O1xuXG5jb25zdCBraW5kT2YgPSAoY2FjaGUgPT4gdGhpbmcgPT4ge1xuICAgIGNvbnN0IHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpbmcpO1xuICAgIHJldHVybiBjYWNoZVtzdHJdIHx8IChjYWNoZVtzdHJdID0gc3RyLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpKTtcbn0pKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG5jb25zdCBraW5kT2ZUZXN0ID0gKHR5cGUpID0+IHtcbiAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuICh0aGluZykgPT4ga2luZE9mKHRoaW5nKSA9PT0gdHlwZVxufVxuXG5jb25zdCB0eXBlT2ZUZXN0ID0gdHlwZSA9PiB0aGluZyA9PiB0eXBlb2YgdGhpbmcgPT09IHR5cGU7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCB7aXNBcnJheX0gPSBBcnJheTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VuZGVmaW5lZCA9IHR5cGVPZlRlc3QoJ3VuZGVmaW5lZCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIGlzRnVuY3Rpb24odmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKSAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0FycmF5QnVmZmVyID0ga2luZE9mVGVzdCgnQXJyYXlCdWZmZXInKTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIGxldCByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKGlzQXJyYXlCdWZmZXIodmFsLmJ1ZmZlcikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJpbmcgPSB0eXBlT2ZUZXN0KCdzdHJpbmcnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Z1bmN0aW9uID0gdHlwZU9mVGVzdCgnZnVuY3Rpb24nKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc051bWJlciA9IHR5cGVPZlRlc3QoJ251bWJlcicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJvb2xlYW5cbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jvb2xlYW4gPSB0aGluZyA9PiB0aGluZyA9PT0gdHJ1ZSB8fCB0aGluZyA9PT0gZmFsc2U7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgaWYgKGtpbmRPZih2YWwpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKHZhbCk7XG4gIHJldHVybiAocHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKSA9PT0gbnVsbCkgJiYgIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsKSAmJiAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNEYXRlID0ga2luZE9mVGVzdCgnRGF0ZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlID0ga2luZE9mVGVzdCgnRmlsZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCbG9iID0ga2luZE9mVGVzdCgnQmxvYicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZUxpc3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZUxpc3QgPSBraW5kT2ZUZXN0KCdGaWxlTGlzdCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyZWFtID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGb3JtRGF0YSA9ICh0aGluZykgPT4ge1xuICBsZXQga2luZDtcbiAgcmV0dXJuIHRoaW5nICYmIChcbiAgICAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaW5nIGluc3RhbmNlb2YgRm9ybURhdGEpIHx8IChcbiAgICAgIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiAoXG4gICAgICAgIChraW5kID0ga2luZE9mKHRoaW5nKSkgPT09ICdmb3JtZGF0YScgfHxcbiAgICAgICAgLy8gZGV0ZWN0IGZvcm0tZGF0YSBpbnN0YW5jZVxuICAgICAgICAoa2luZCA9PT0gJ29iamVjdCcgJiYgaXNGdW5jdGlvbih0aGluZy50b1N0cmluZykgJiYgdGhpbmcudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJylcbiAgICAgIClcbiAgICApXG4gIClcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVVJMU2VhcmNoUGFyYW1zID0ga2luZE9mVGVzdCgnVVJMU2VhcmNoUGFyYW1zJyk7XG5cbmNvbnN0IFtpc1JlYWRhYmxlU3RyZWFtLCBpc1JlcXVlc3QsIGlzUmVzcG9uc2UsIGlzSGVhZGVyc10gPSBbJ1JlYWRhYmxlU3RyZWFtJywgJ1JlcXVlc3QnLCAnUmVzcG9uc2UnLCAnSGVhZGVycyddLm1hcChraW5kT2ZUZXN0KTtcblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuY29uc3QgdHJpbSA9IChzdHIpID0+IHN0ci50cmltID9cbiAgc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5cyA9IGZhbHNlXVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuLCB7YWxsT3duS2V5cyA9IGZhbHNlfSA9IHt9KSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGk7XG4gIGxldCBsO1xuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yIChpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBjb25zdCBrZXlzID0gYWxsT3duS2V5cyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqLCBrZXkpIHtcbiAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICBsZXQgX2tleTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBfa2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ID09PSBfa2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiBfa2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgX2dsb2JhbCA9ICgoKSA9PiB7XG4gIC8qZXNsaW50IG5vLXVuZGVmOjAqL1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBnbG9iYWxUaGlzO1xuICByZXR1cm4gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKVxufSkoKTtcblxuY29uc3QgaXNDb250ZXh0RGVmaW5lZCA9IChjb250ZXh0KSA9PiAhaXNVbmRlZmluZWQoY29udGV4dCkgJiYgY29udGV4dCAhPT0gX2dsb2JhbDtcblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKlxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICBjb25zdCB7Y2FzZWxlc3N9ID0gaXNDb250ZXh0RGVmaW5lZCh0aGlzKSAmJiB0aGlzIHx8IHt9O1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgYXNzaWduVmFsdWUgPSAodmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCB0YXJnZXRLZXkgPSBjYXNlbGVzcyAmJiBmaW5kS2V5KHJlc3VsdCwga2V5KSB8fCBrZXk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W3RhcmdldEtleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZShyZXN1bHRbdGFyZ2V0S2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIGNvbnN0IGl0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKSAmJiAhcmVzdWx0LmRvbmUpIHtcbiAgICBjb25zdCBwYWlyID0gcmVzdWx0LnZhbHVlO1xuICAgIGZuLmNhbGwob2JqLCBwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuLyogQ2hlY2tpbmcgaWYgdGhlIGtpbmRPZlRlc3QgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4gcGFzc2VkIGFuIEhUTUxGb3JtRWxlbWVudC4gKi9cbmNvbnN0IGlzSFRNTEZvcm0gPSBraW5kT2ZUZXN0KCdIVE1MRm9ybUVsZW1lbnQnKTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZyxcbiAgICBmdW5jdGlvbiByZXBsYWNlcihtLCBwMSwgcDIpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpICsgcDI7XG4gICAgfVxuICApO1xufTtcblxuLyogQ3JlYXRpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiAqL1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSAoKHtoYXNPd25Qcm9wZXJ0eX0pID0+IChvYmosIHByb3ApID0+IGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkoT2JqZWN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1JlZ0V4cCA9IGtpbmRPZlRlc3QoJ1JlZ0V4cCcpO1xuXG5jb25zdCByZWR1Y2VEZXNjcmlwdG9ycyA9IChvYmosIHJlZHVjZXIpID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBjb25zdCByZWR1Y2VkRGVzY3JpcHRvcnMgPSB7fTtcblxuICBmb3JFYWNoKGRlc2NyaXB0b3JzLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIGxldCByZXQ7XG4gICAgaWYgKChyZXQgPSByZWR1Y2VyKGRlc2NyaXB0b3IsIG5hbWUsIG9iaikpICE9PSBmYWxzZSkge1xuICAgICAgcmVkdWNlZERlc2NyaXB0b3JzW25hbWVdID0gcmV0IHx8IGRlc2NyaXB0b3I7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHJlZHVjZWREZXNjcmlwdG9ycyk7XG59XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBcnJheShhcnJheU9yU3RyaW5nKSA/IGRlZmluZShhcnJheU9yU3RyaW5nKSA6IGRlZmluZShTdHJpbmcoYXJyYXlPclN0cmluZykuc3BsaXQoZGVsaW1pdGVyKSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlID0gK3ZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufVxuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybSh0aGluZykge1xuICByZXR1cm4gISEodGhpbmcgJiYgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIHRoaW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbi8vIG9yaWdpbmFsIGNvZGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EaWdpdGFsQnJhaW5KUy9BeGlvc1Byb21pc2UvYmxvYi8xNmRlYWIxMzcxMGVjMDk3Nzk5MjIxMzFmM2ZhNTk1NDMyMGY4M2FiL2xpYi91dGlscy5qcyNMMTEtTDM0XG5cbmNvbnN0IF9zZXRJbW1lZGlhdGUgPSAoKHNldEltbWVkaWF0ZVN1cHBvcnRlZCwgcG9zdE1lc3NhZ2VTdXBwb3J0ZWQpID0+IHtcbiAgaWYgKHNldEltbWVkaWF0ZVN1cHBvcnRlZCkge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGU7XG4gIH1cblxuICByZXR1cm4gcG9zdE1lc3NhZ2VTdXBwb3J0ZWQgPyAoKHRva2VuLCBjYWxsYmFja3MpID0+IHtcbiAgICBfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsICh7c291cmNlLCBkYXRhfSkgPT4ge1xuICAgICAgaWYgKHNvdXJjZSA9PT0gX2dsb2JhbCAmJiBkYXRhID09PSB0b2tlbikge1xuICAgICAgICBjYWxsYmFja3MubGVuZ3RoICYmIGNhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIChjYikgPT4ge1xuICAgICAgY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgICAgX2dsb2JhbC5wb3N0TWVzc2FnZSh0b2tlbiwgXCIqXCIpO1xuICAgIH1cbiAgfSkoYGF4aW9zQCR7TWF0aC5yYW5kb20oKX1gLCBbXSkgOiAoY2IpID0+IHNldFRpbWVvdXQoY2IpO1xufSkoXG4gIHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicsXG4gIGlzRnVuY3Rpb24oX2dsb2JhbC5wb3N0TWVzc2FnZSlcbik7XG5cbmNvbnN0IGFzYXAgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgIT09ICd1bmRlZmluZWQnID9cbiAgcXVldWVNaWNyb3Rhc2suYmluZChfZ2xvYmFsKSA6ICggdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MubmV4dFRpY2sgfHwgX3NldEltbWVkaWF0ZSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1JlYWRhYmxlU3RyZWFtLFxuICBpc1JlcXVlc3QsXG4gIGlzUmVzcG9uc2UsXG4gIGlzSGVhZGVycyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGUsXG4gIHNldEltbWVkaWF0ZTogX3NldEltbWVkaWF0ZSxcbiAgYXNhcFxufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIGlmIChyZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cyA/IHJlc3BvbnNlLnN0YXR1cyA6IG51bGw7XG4gIH1cbn1cblxudXRpbHMuaW5oZXJpdHMoQXhpb3NFcnJvciwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdXRpbHMudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXNcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0Vycm9yO1xuIiwKICAgICIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuLy8gdGVtcG9yYXJ5IGhvdGZpeCB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2VzIHVudGlsIEF4aW9zVVJMU2VhcmNoUGFyYW1zIGlzIHJlZmFjdG9yZWRcbmltcG9ydCBQbGF0Zm9ybUZvcm1EYXRhIGZyb20gJy4uL3BsYXRmb3JtL25vZGUvY2xhc3Nlcy9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdGhpbmcgaXMgYSBhcnJheSBvciBqcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRoaW5nIC0gVGhlIG9iamVjdCBvciBhcnJheSB0byBiZSB2aXNpdGVkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Zpc2l0YWJsZSh0aGluZykge1xuICByZXR1cm4gdXRpbHMuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMuaXNBcnJheSh0aGluZyk7XG59XG5cbi8qKlxuICogSXQgcmVtb3ZlcyB0aGUgYnJhY2tldHMgZnJvbSB0aGUgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHBhcmFtZXRlci5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUga2V5IHdpdGhvdXQgdGhlIGJyYWNrZXRzLlxuICovXG5mdW5jdGlvbiByZW1vdmVCcmFja2V0cyhrZXkpIHtcbiAgcmV0dXJuIHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykgPyBrZXkuc2xpY2UoMCwgLTIpIDoga2V5O1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGF0aCwgYSBrZXksIGFuZCBhIGJvb2xlYW4sIGFuZCByZXR1cm5zIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgY3VycmVudCBvYmplY3QgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3RzIC0gSWYgdHJ1ZSwgdGhlIGtleSB3aWxsIGJlIHJlbmRlcmVkIHdpdGggZG90cyBpbnN0ZWFkIG9mIGJyYWNrZXRzLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cykge1xuICBpZiAoIXBhdGgpIHJldHVybiBrZXk7XG4gIHJldHVybiBwYXRoLmNvbmNhdChrZXkpLm1hcChmdW5jdGlvbiBlYWNoKHRva2VuLCBpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdG9rZW4gPSByZW1vdmVCcmFja2V0cyh0b2tlbik7XG4gICAgcmV0dXJuICFkb3RzICYmIGkgPyAnWycgKyB0b2tlbiArICddJyA6IHRva2VuO1xuICB9KS5qb2luKGRvdHMgPyAnLicgOiAnJyk7XG59XG5cbi8qKlxuICogSWYgdGhlIGFycmF5IGlzIGFuIGFycmF5IGFuZCBub25lIG9mIGl0cyBlbGVtZW50cyBhcmUgdmlzaXRhYmxlLCB0aGVuIGl0J3MgYSBmbGF0IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmxhdEFycmF5KGFycikge1xuICByZXR1cm4gdXRpbHMuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscy50b0ZsYXRPYmplY3QodXRpbHMsIHt9LCBudWxsLCBmdW5jdGlvbiBmaWx0ZXIocHJvcCkge1xuICByZXR1cm4gL15pc1tBLVpdLy50ZXN0KHByb3ApO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaXRvcl1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWV0YVRva2VucyA9IHRydWVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvdHMgPSBmYWxzZV1cbiAqIEBwYXJhbSB7P0Jvb2xlYW59IFtvcHRpb25zLmluZGV4ZXMgPSBmYWxzZV1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG4vKipcbiAqIEl0IGNvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gZm9ybSBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIC0gVGhlIEZvcm1EYXRhIG9iamVjdCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0b0Zvcm1EYXRhKG9iaiwgZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgKFBsYXRmb3JtRm9ybURhdGEgfHwgRm9ybURhdGEpKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdGlvbnMgPSB1dGlscy50b0ZsYXRPYmplY3Qob3B0aW9ucywge1xuICAgIG1ldGFUb2tlbnM6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgaW5kZXhlczogZmFsc2VcbiAgfSwgZmFsc2UsIGZ1bmN0aW9uIGRlZmluZWQob3B0aW9uLCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICByZXR1cm4gIXV0aWxzLmlzVW5kZWZpbmVkKHNvdXJjZVtvcHRpb25dKTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0YVRva2VucyA9IG9wdGlvbnMubWV0YVRva2VucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0IHZpc2l0b3IgPSBvcHRpb25zLnZpc2l0b3IgfHwgZGVmYXVsdFZpc2l0b3I7XG4gIGNvbnN0IGRvdHMgPSBvcHRpb25zLmRvdHM7XG4gIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXM7XG4gIGNvbnN0IF9CbG9iID0gb3B0aW9ucy5CbG9iIHx8IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBCbG9iO1xuICBjb25zdCB1c2VCbG9iID0gX0Jsb2IgJiYgdXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShmb3JtRGF0YSk7XG5cbiAgaWYgKCF1dGlscy5pc0Z1bmN0aW9uKHZpc2l0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICghdXNlQmxvYiAmJiB1dGlscy5pc0Jsb2IodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMuaXNUeXBlZEFycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVzZUJsb2IgJiYgdHlwZW9mIEJsb2IgPT09ICdmdW5jdGlvbicgPyBuZXcgQmxvYihbdmFsdWVdKSA6IEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCB2aXNpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5XG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfE51bWJlcj59IHBhdGhcbiAgICogQHRoaXMge0Zvcm1EYXRhfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgdG8gdmlzaXQgdGhlIGVhY2ggcHJvcCBvZiB0aGUgdmFsdWUgcmVjdXJzaXZlbHlcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmF1bHRWaXNpdG9yKHZhbHVlLCBrZXksIHBhdGgpIHtcbiAgICBsZXQgYXJyID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUgJiYgIXBhdGggJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHV0aWxzLmVuZHNXaXRoKGtleSwgJ3t9JykpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IG1ldGFUb2tlbnMgPyBrZXkgOiBrZXkuc2xpY2UoMCwgLTIpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAodXRpbHMuaXNBcnJheSh2YWx1ZSkgJiYgaXNGbGF0QXJyYXkodmFsdWUpKSB8fFxuICAgICAgICAoKHV0aWxzLmlzRmlsZUxpc3QodmFsdWUpIHx8IHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykpICYmIChhcnIgPSB1dGlscy50b0FycmF5KHZhbHVlKSlcbiAgICAgICAgKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gcmVtb3ZlQnJhY2tldHMoa2V5KTtcblxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiBlYWNoKGVsLCBpbmRleCkge1xuICAgICAgICAgICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGluZGV4ZXMgPT09IHRydWUgPyByZW5kZXJLZXkoW2tleV0sIGluZGV4LCBkb3RzKSA6IChpbmRleGVzID09PSBudWxsID8ga2V5IDoga2V5ICsgJ1tdJyksXG4gICAgICAgICAgICBjb252ZXJ0VmFsdWUoZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNWaXNpdGFibGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3JtRGF0YS5hcHBlbmQocmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cyksIGNvbnZlcnRWYWx1ZSh2YWx1ZSkpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc3RhY2sgPSBbXTtcblxuICBjb25zdCBleHBvc2VkSGVscGVycyA9IE9iamVjdC5hc3NpZ24ocHJlZGljYXRlcywge1xuICAgIGRlZmF1bHRWaXNpdG9yLFxuICAgIGNvbnZlcnRWYWx1ZSxcbiAgICBpc1Zpc2l0YWJsZVxuICB9KTtcblxuICBmdW5jdGlvbiBidWlsZCh2YWx1ZSwgcGF0aCkge1xuICAgIGlmICh1dGlscy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcblxuICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgIHRocm93IEVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gJyArIHBhdGguam9pbignLicpKTtcbiAgICB9XG5cbiAgICBzdGFjay5wdXNoKHZhbHVlKTtcblxuICAgIHV0aWxzLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uIGVhY2goZWwsIGtleSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIHZpc2l0b3IuY2FsbChcbiAgICAgICAgZm9ybURhdGEsIGVsLCB1dGlscy5pc1N0cmluZyhrZXkpID8ga2V5LnRyaW0oKSA6IGtleSwgcGF0aCwgZXhwb3NlZEhlbHBlcnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgYnVpbGQoZWwsIHBhdGggPyBwYXRoLmNvbmNhdChrZXkpIDogW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RhY2sucG9wKCk7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRhIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9Gb3JtRGF0YTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIHs/KG9iamVjdHxGdW5jdGlvbil9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgb3B0aW9ucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIFxuICBjb25zdCBfZW5jb2RlID0gb3B0aW9ucyAmJiBvcHRpb25zLmVuY29kZSB8fCBlbmNvZGU7XG5cbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2VyaWFsaXplOiBvcHRpb25zXG4gICAgfTtcbiAgfSBcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykgP1xuICAgICAgcGFyYW1zLnRvU3RyaW5nKCkgOlxuICAgICAgbmV3IEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykudG9TdHJpbmcoX2VuY29kZSk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIGNvbnN0IGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG5cbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgZm9yY2VkSlNPTlBhcnNpbmc6IHRydWUsXG4gIGNsYXJpZnlUaW1lb3V0RXJyb3I6IGZhbHNlXG59O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnID8gVVJMU2VhcmNoUGFyYW1zIDogQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyA/IEJsb2IgOiBudWxsXG4iLAogICAgImltcG9ydCBVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcydcbmltcG9ydCBGb3JtRGF0YSBmcm9tICcuL2NsYXNzZXMvRm9ybURhdGEuanMnXG5pbXBvcnQgQmxvYiBmcm9tICcuL2NsYXNzZXMvQmxvYi5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXMsXG4gICAgRm9ybURhdGEsXG4gICAgQmxvYlxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcbiIsCiAgICAiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gaGFzQnJvd3NlckVudiAmJlxuICAoIV9uYXZpZ2F0b3IgfHwgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCkgPCAwKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuY29uc3Qgb3JpZ2luID0gaGFzQnJvd3NlckVudiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52LFxuICBfbmF2aWdhdG9yIGFzIG5hdmlnYXRvcixcbiAgb3JpZ2luXG59XG4iLAogICAgImltcG9ydCBwbGF0Zm9ybSBmcm9tICcuL25vZGUvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9jb21tb24vdXRpbHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLnV0aWxzLFxuICAuLi5wbGF0Zm9ybVxufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0Zvcm1EYXRhKGRhdGEsIG5ldyBwbGF0Zm9ybS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcygpLCBPYmplY3QuYXNzaWduKHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nIGxpa2UgYGZvb1t4XVt5XVt6XWAgYW5kIHJldHVybnMgYW4gYXJyYXkgbGlrZSBgWydmb28nLCAneCcsICd5JywgJ3onXVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBzdHJpbmdzLlxuICovXG5mdW5jdGlvbiBwYXJzZVByb3BQYXRoKG5hbWUpIHtcbiAgLy8gZm9vW3hdW3ldW3pdXG4gIC8vIGZvby54LnkuelxuICAvLyBmb28teC15LXpcbiAgLy8gZm9vIHggeSB6XG4gIHJldHVybiB1dGlscy5tYXRjaEFsbCgvXFx3K3xcXFsoXFx3KildL2csIG5hbWUpLm1hcChtYXRjaCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoWzBdID09PSAnW10nID8gJycgOiBtYXRjaFsxXSB8fCBtYXRjaFswXTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBhcnJheSB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY29udmVydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhbmQgdmFsdWVzIGFzIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnIpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBsZXQgaTtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gIGxldCBrZXk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgb2JqW2tleV0gPSBhcnJba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgRm9ybURhdGEgb2JqZWN0IGFuZCByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgVGhlIEZvcm1EYXRhIG9iamVjdCB0byBjb252ZXJ0IHRvIEpTT04uXG4gKlxuICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGFueT4gfCBudWxsfSBUaGUgY29udmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZm9ybURhdGFUb0pTT04oZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgbGV0IG5hbWUgPSBwYXRoW2luZGV4KytdO1xuXG4gICAgaWYgKG5hbWUgPT09ICdfX3Byb3RvX18nKSByZXR1cm4gdHJ1ZTtcblxuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IE51bWJlci5pc0Zpbml0ZSgrbmFtZSk7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPj0gcGF0aC5sZW5ndGg7XG4gICAgbmFtZSA9ICFuYW1lICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldC5sZW5ndGggOiBuYW1lO1xuXG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgaWYgKHV0aWxzLmhhc093blByb3AodGFyZ2V0LCBuYW1lKSkge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBbdGFyZ2V0W25hbWVdLCB2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRbbmFtZV0gfHwgIXV0aWxzLmlzT2JqZWN0KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0W25hbWVdLCBpbmRleCk7XG5cbiAgICBpZiAocmVzdWx0ICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gYXJyYXlUb09iamVjdCh0YXJnZXRbbmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZm9ybURhdGEpICYmIHV0aWxzLmlzRnVuY3Rpb24oZm9ybURhdGEuZW50cmllcykpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2hFbnRyeShmb3JtRGF0YSwgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBidWlsZFBhdGgocGFyc2VQcm9wUGF0aChuYW1lKSwgdmFsdWUsIG9iaiwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvcm1EYXRhVG9KU09OO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmICh1dGlscy5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgKG1ldGhvZCkgPT4ge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0cztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8vIFJhd0F4aW9zSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbmNvbnN0IGlnbm9yZUR1cGxpY2F0ZU9mID0gdXRpbHMudG9PYmplY3RTZXQoW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl0pO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKlxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgcmF3SGVhZGVycyA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuICBsZXQga2V5O1xuICBsZXQgdmFsO1xuICBsZXQgaTtcblxuICByYXdIZWFkZXJzICYmIHJhd0hlYWRlcnMuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gbGluZS5zdWJzdHJpbmcoaSArIDEpLnRyaW0oKTtcblxuICAgIGlmICgha2V5IHx8IChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZltrZXldKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgaWYgKHBhcnNlZFtrZXldKSB7XG4gICAgICAgIHBhcnNlZFtrZXldLnB1c2godmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gW3ZhbF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0hlYWRlcnMoaGVhZGVyKSkge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGVhZGVyLmVudHJpZXMoKSkge1xuICAgICAgICBzZXRIZWFkZXIodmFsdWUsIGtleSwgcmV3cml0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgIHJldHVybiAnQXhpb3NIZWFkZXJzJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgdGhpcyA/IHRoaW5nIDogbmV3IHRoaXModGhpbmcpO1xuICB9XG5cbiAgc3RhdGljIGNvbmNhdChmaXJzdCwgLi4udGFyZ2V0cykge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IHRoaXMoZmlyc3QpO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IGNvbXB1dGVkLnNldCh0YXJnZXQpKTtcblxuICAgIHJldHVybiBjb21wdXRlZDtcbiAgfVxuXG4gIHN0YXRpYyBhY2Nlc3NvcihoZWFkZXIpIHtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB0aGlzWyRpbnRlcm5hbHNdID0gKHRoaXNbJGludGVybmFsc10gPSB7XG4gICAgICBhY2Nlc3NvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBpbnRlcm5hbHMuYWNjZXNzb3JzO1xuICAgIGNvbnN0IHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3IoX2hlYWRlcikge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFhY2Nlc3NvcnNbbEhlYWRlcl0pIHtcbiAgICAgICAgYnVpbGRBY2Nlc3NvcnMocHJvdG90eXBlLCBfaGVhZGVyKTtcbiAgICAgICAgYWNjZXNzb3JzW2xIZWFkZXJdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlscy5pc0FycmF5KGhlYWRlcikgPyBoZWFkZXIuZm9yRWFjaChkZWZpbmVBY2Nlc3NvcikgOiBkZWZpbmVBY2Nlc3NvcihoZWFkZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuQXhpb3NIZWFkZXJzLmFjY2Vzc29yKFsnQ29udGVudC1UeXBlJywgJ0NvbnRlbnQtTGVuZ3RoJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnLCAnVXNlci1BZ2VudCcsICdBdXRob3JpemF0aW9uJ10pO1xuXG4vLyByZXNlcnZlZCBuYW1lcyBob3RmaXhcbnV0aWxzLnJlZHVjZURlc2NyaXB0b3JzKEF4aW9zSGVhZGVycy5wcm90b3R5cGUsICh7dmFsdWV9LCBrZXkpID0+IHtcbiAgbGV0IG1hcHBlZCA9IGtleVswXS50b1VwcGVyQ2FzZSgpICsga2V5LnNsaWNlKDEpOyAvLyBtYXAgYHNldGAgPT4gYFNldGBcbiAgcmV0dXJuIHtcbiAgICBnZXQ6ICgpID0+IHZhbHVlLFxuICAgIHNldChoZWFkZXJWYWx1ZSkge1xuICAgICAgdGhpc1ttYXBwZWRdID0gaGVhZGVyVmFsdWU7XG4gICAgfVxuICB9XG59KTtcblxudXRpbHMuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0hlYWRlcnM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxlZEVycm9yYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gcmVxdWVzdCBUaGUgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsZWRFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBBeGlvc0Vycm9yLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gJ2NhbmNlbGVkJyA6IG1lc3NhZ2UsIEF4aW9zRXJyb3IuRVJSX0NBTkNFTEVELCBjb25maWcsIHJlcXVlc3QpO1xuICB0aGlzLm5hbWUgPSAnQ2FuY2VsZWRFcnJvcic7XG59XG5cbnV0aWxzLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbGVkRXJyb3I7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9BeGlvc0Vycm9yLmpzJztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNwZWVkb21ldGVyO1xuIiwKICAgICIvKipcbiAqIFRocm90dGxlIGRlY29yYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBmcmVxXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGZyZXEpIHtcbiAgbGV0IHRpbWVzdGFtcCA9IDA7XG4gIGxldCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgdGltZXI7XG5cbiAgY29uc3QgaW52b2tlID0gKGFyZ3MsIG5vdyA9IERhdGUubm93KCkpID0+IHtcbiAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gIH1cblxuICBjb25zdCB0aHJvdHRsZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcGFzc2VkID0gbm93IC0gdGltZXN0YW1wO1xuICAgIGlmICggcGFzc2VkID49IHRocmVzaG9sZCkge1xuICAgICAgaW52b2tlKGFyZ3MsIG5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RBcmdzID0gYXJncztcbiAgICAgIGlmICghdGltZXIpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgICAgaW52b2tlKGxhc3RBcmdzKVxuICAgICAgICB9LCB0aHJlc2hvbGQgLSBwYXNzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4gbGFzdEFyZ3MgJiYgaW52b2tlKGxhc3RBcmdzKTtcblxuICByZXR1cm4gW3Rocm90dGxlZCwgZmx1c2hdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0aHJvdHRsZTtcbiIsCiAgICAiaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gXCIuL3NwZWVkb21ldGVyLmpzXCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcIi4vdGhyb3R0bGUuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2dyZXNzRXZlbnRSZWR1Y2VyID0gKGxpc3RlbmVyLCBpc0Rvd25sb2FkU3RyZWFtLCBmcmVxID0gMykgPT4ge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiB0aHJvdHRsZShlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgbGVuZ3RoQ29tcHV0YWJsZTogdG90YWwgIT0gbnVsbCxcbiAgICAgIFtpc0Rvd25sb2FkU3RyZWFtID8gJ2Rvd25sb2FkJyA6ICd1cGxvYWQnXTogdHJ1ZVxuICAgIH07XG5cbiAgICBsaXN0ZW5lcihkYXRhKTtcbiAgfSwgZnJlcSk7XG59XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yID0gKHRvdGFsLCB0aHJvdHRsZWQpID0+IHtcbiAgY29uc3QgbGVuZ3RoQ29tcHV0YWJsZSA9IHRvdGFsICE9IG51bGw7XG5cbiAgcmV0dXJuIFsobG9hZGVkKSA9PiB0aHJvdHRsZWRbMF0oe1xuICAgIGxlbmd0aENvbXB1dGFibGUsXG4gICAgdG90YWwsXG4gICAgbG9hZGVkXG4gIH0pLCB0aHJvdHRsZWRbMV1dO1xufVxuXG5leHBvcnQgY29uc3QgYXN5bmNEZWNvcmF0b3IgPSAoZm4pID0+ICguLi5hcmdzKSA9PiB1dGlscy5hc2FwKCgpID0+IGZuKC4uLmFyZ3MpKTtcbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID8gKChvcmlnaW4sIGlzTVNJRSkgPT4gKHVybCkgPT4ge1xuICB1cmwgPSBuZXcgVVJMKHVybCwgcGxhdGZvcm0ub3JpZ2luKTtcblxuICByZXR1cm4gKFxuICAgIG9yaWdpbi5wcm90b2NvbCA9PT0gdXJsLnByb3RvY29sICYmXG4gICAgb3JpZ2luLmhvc3QgPT09IHVybC5ob3N0ICYmXG4gICAgKGlzTVNJRSB8fCBvcmlnaW4ucG9ydCA9PT0gdXJsLnBvcnQpXG4gICk7XG59KShcbiAgbmV3IFVSTChwbGF0Zm9ybS5vcmlnaW4pLFxuICBwbGF0Zm9ybS5uYXZpZ2F0b3IgJiYgLyhtc2llfHRyaWRlbnQpL2kudGVzdChwbGF0Zm9ybS5uYXZpZ2F0b3IudXNlckFnZW50KVxuKSA6ICgpID0+IHRydWU7XG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLz9cXC8kLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMLCBhbGxvd0Fic29sdXRlVXJscykge1xuICBsZXQgaXNSZWxhdGl2ZVVybCA9ICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCk7XG4gIGlmIChiYXNlVVJMICYmIGlzUmVsYXRpdmVVcmwgfHwgYWxsb3dBYnNvbHV0ZVVybHMgPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL0F4aW9zSGVhZGVycy5qc1wiO1xuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzID8geyAuLi50aGluZyB9IDogdGhpbmc7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIGNvbnN0IGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlLCBwcm9wLCBjYXNlbGVzcykge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgdXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2UuY2FsbCh7Y2FzZWxlc3N9LCB0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMoYSwgYiwgcHJvcCAsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIHByb3AgLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEsIHByb3AgLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIgLCBwcm9wKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLHByb3AsIHRydWUpXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCBjb25maWcxLCBjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBtZXJnZU1hcFtwcm9wXSB8fCBtZXJnZURlZXBQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gbWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSwgcHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuIiwKICAgICJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgaXNVUkxTYW1lT3JpZ2luIGZyb20gXCIuL2lzVVJMU2FtZU9yaWdpbi5qc1wiO1xuaW1wb3J0IGNvb2tpZXMgZnJvbSBcIi4vY29va2llcy5qc1wiO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSBcIi4uL2NvcmUvYnVpbGRGdWxsUGF0aC5qc1wiO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gXCIuLi9jb3JlL21lcmdlQ29uZmlnLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gXCIuL2J1aWxkVVJMLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChjb25maWcpID0+IHtcbiAgY29uc3QgbmV3Q29uZmlnID0gbWVyZ2VDb25maWcoe30sIGNvbmZpZyk7XG5cbiAgbGV0IHtkYXRhLCB3aXRoWFNSRlRva2VuLCB4c3JmSGVhZGVyTmFtZSwgeHNyZkNvb2tpZU5hbWUsIGhlYWRlcnMsIGF1dGh9ID0gbmV3Q29uZmlnO1xuXG4gIG5ld0NvbmZpZy5oZWFkZXJzID0gaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGhlYWRlcnMpO1xuXG4gIG5ld0NvbmZpZy51cmwgPSBidWlsZFVSTChidWlsZEZ1bGxQYXRoKG5ld0NvbmZpZy5iYXNlVVJMLCBuZXdDb25maWcudXJsLCBuZXdDb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoYXV0aCkge1xuICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgK1xuICAgICAgYnRvYSgoYXV0aC51c2VybmFtZSB8fCAnJykgKyAnOicgKyAoYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhdXRoLnBhc3N3b3JkKSkgOiAnJykpXG4gICAgKTtcbiAgfVxuXG4gIGxldCBjb250ZW50VHlwZTtcblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSkgIT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4obmV3Q29uZmlnKSk7XG5cbiAgICBpZiAod2l0aFhTUkZUb2tlbiB8fCAod2l0aFhTUkZUb2tlbiAhPT0gZmFsc2UgJiYgaXNVUkxTYW1lT3JpZ2luKG5ld0NvbmZpZy51cmwpKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICBjb25zdCB4c3JmVmFsdWUgPSB4c3JmSGVhZGVyTmFtZSAmJiB4c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoeHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KHhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdDb25maWc7XG59XG5cbiIsCiAgICAiaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHNldHRsZSBmcm9tICcuLy4uL2NvcmUvc2V0dGxlLmpzJztcbmltcG9ydCB0cmFuc2l0aW9uYWxEZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBwYXJzZVByb3RvY29sIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQge3Byb2dyZXNzRXZlbnRSZWR1Y2VyfSBmcm9tICcuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzJztcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcblxuY29uc3QgaXNYSFJBZGFwdGVyU3VwcG9ydGVkID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJztcblxuZXhwb3J0IGRlZmF1bHQgaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBfY29uZmlnID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IF9jb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKF9jb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgbGV0IHtyZXNwb25zZVR5cGUsIG9uVXBsb2FkUHJvZ3Jlc3MsIG9uRG93bmxvYWRQcm9ncmVzc30gPSBfY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGxldCB1cGxvYWRUaHJvdHRsZWQsIGRvd25sb2FkVGhyb3R0bGVkO1xuICAgIGxldCBmbHVzaFVwbG9hZCwgZmx1c2hEb3dubG9hZDtcblxuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBmbHVzaFVwbG9hZCAmJiBmbHVzaFVwbG9hZCgpOyAvLyBmbHVzaCBldmVudHNcbiAgICAgIGZsdXNoRG93bmxvYWQgJiYgZmx1c2hEb3dubG9hZCgpOyAvLyBmbHVzaCBldmVudHNcblxuICAgICAgX2NvbmZpZy5jYW5jZWxUb2tlbiAmJiBfY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuXG4gICAgICBfY29uZmlnLnNpZ25hbCAmJiBfY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oX2NvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgX2NvbmZpZy51cmwsIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBfY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIF9jb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcgOiAndGltZW91dCBleGNlZWRlZCc7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSBfY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyBBeGlvc0Vycm9yLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMudG9KU09OKCksIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKF9jb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIV9jb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IF9jb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAob25Eb3dubG9hZFByb2dyZXNzKSB7XG4gICAgICAoW2Rvd25sb2FkVGhyb3R0bGVkLCBmbHVzaERvd25sb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uRG93bmxvYWRQcm9ncmVzcywgdHJ1ZSkpO1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGRvd25sb2FkVGhyb3R0bGVkKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmIChvblVwbG9hZFByb2dyZXNzICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICAoW3VwbG9hZFRocm90dGxlZCwgZmx1c2hVcGxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25VcGxvYWRQcm9ncmVzcykpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHVwbG9hZFRocm90dGxlZCk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmbHVzaFVwbG9hZCk7XG4gICAgfVxuXG4gICAgaWYgKF9jb25maWcuY2FuY2VsVG9rZW4gfHwgX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBfY29uZmlnLmNhbmNlbFRva2VuICYmIF9jb25maWcuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgaWYgKF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAgIF9jb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBfY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb3RvY29sID0gcGFyc2VQcm90b2NvbChfY29uZmlnLnVybCk7XG5cbiAgICBpZiAocHJvdG9jb2wgJiYgcGxhdGZvcm0ucHJvdG9jb2xzLmluZGV4T2YocHJvdG9jb2wpID09PSAtMSkge1xuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdVbnN1cHBvcnRlZCBwcm90b2NvbCAnICsgcHJvdG9jb2wgKyAnOicsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBjb25maWcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwKICAgICJpbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tIFwiLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgY29uc3Qge2xlbmd0aH0gPSAoc2lnbmFscyA9IHNpZ25hbHMgPyBzaWduYWxzLmZpbHRlcihCb29sZWFuKSA6IFtdKTtcblxuICBpZiAodGltZW91dCB8fCBsZW5ndGgpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGxldCBhYm9ydGVkO1xuXG4gICAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmICghYWJvcnRlZCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24gOiB0aGlzLnJlYXNvbjtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yID8gZXJyIDogbmV3IENhbmNlbGVkRXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aW1lciA9IHRpbWVvdXQgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBvbmFib3J0KG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yLkVUSU1FRE9VVCkpXG4gICAgfSwgdGltZW91dClcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgaWYgKHNpZ25hbHMpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICBzaWduYWxzLmZvckVhY2goc2lnbmFsID0+IHtcbiAgICAgICAgICBzaWduYWwudW5zdWJzY3JpYmUgPyBzaWduYWwudW5zdWJzY3JpYmUob25hYm9ydCkgOiBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsKSA9PiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgICBzaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB1dGlscy5hc2FwKHVuc3Vic2NyaWJlKTtcblxuICAgIHJldHVybiBzaWduYWw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZVNpZ25hbHM7XG4iLAogICAgIlxuZXhwb3J0IGNvbnN0IHN0cmVhbUNodW5rID0gZnVuY3Rpb24qIChjaHVuaywgY2h1bmtTaXplKSB7XG4gIGxldCBsZW4gPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gIGlmICghY2h1bmtTaXplIHx8IGxlbiA8IGNodW5rU2l6ZSkge1xuICAgIHlpZWxkIGNodW5rO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3MgPSAwO1xuICBsZXQgZW5kO1xuXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICBlbmQgPSBwb3MgKyBjaHVua1NpemU7XG4gICAgeWllbGQgY2h1bmsuc2xpY2UocG9zLCBlbmQpO1xuICAgIHBvcyA9IGVuZDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVhZEJ5dGVzID0gYXN5bmMgZnVuY3Rpb24qIChpdGVyYWJsZSwgY2h1bmtTaXplKSB7XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVhZFN0cmVhbShpdGVyYWJsZSkpIHtcbiAgICB5aWVsZCogc3RyZWFtQ2h1bmsoY2h1bmssIGNodW5rU2l6ZSk7XG4gIH1cbn1cblxuY29uc3QgcmVhZFN0cmVhbSA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RyZWFtKSB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgeWllbGQqIHN0cmVhbTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRyYWNrU3RyZWFtID0gKHN0cmVhbSwgY2h1bmtTaXplLCBvblByb2dyZXNzLCBvbkZpbmlzaCkgPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IHJlYWRCeXRlcyhzdHJlYW0sIGNodW5rU2l6ZSk7XG5cbiAgbGV0IGJ5dGVzID0gMDtcbiAgbGV0IGRvbmU7XG4gIGxldCBfb25GaW5pc2ggPSAoZSkgPT4ge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBvbkZpbmlzaCAmJiBvbkZpbmlzaChlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgIF9vbkZpbmlzaCgpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGVuID0gdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICBsZXQgbG9hZGVkQnl0ZXMgPSBieXRlcyArPSBsZW47XG4gICAgICAgICAgb25Qcm9ncmVzcyhsb2FkZWRCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX29uRmluaXNoKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgIF9vbkZpbmlzaChyZWFzb24pO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yLnJldHVybigpO1xuICAgIH1cbiAgfSwge1xuICAgIGhpZ2hXYXRlck1hcms6IDJcbiAgfSlcbn1cbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gXCIuLi9wbGF0Zm9ybS9pbmRleC5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuaW1wb3J0IGNvbXBvc2VTaWduYWxzIGZyb20gXCIuLi9oZWxwZXJzL2NvbXBvc2VTaWduYWxzLmpzXCI7XG5pbXBvcnQge3RyYWNrU3RyZWFtfSBmcm9tIFwiLi4vaGVscGVycy90cmFja1N0cmVhbS5qc1wiO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCB7cHJvZ3Jlc3NFdmVudFJlZHVjZXIsIHByb2dyZXNzRXZlbnREZWNvcmF0b3IsIGFzeW5jRGVjb3JhdG9yfSBmcm9tIFwiLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qc1wiO1xuaW1wb3J0IHJlc29sdmVDb25maWcgZnJvbSBcIi4uL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qc1wiO1xuaW1wb3J0IHNldHRsZSBmcm9tIFwiLi4vY29yZS9zZXR0bGUuanNcIjtcblxuY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09ICdmdW5jdGlvbic7XG5cbi8vIHVzZWQgb25seSBpbnNpZGUgdGhlIGZldGNoIGFkYXB0ZXJcbmNvbnN0IGVuY29kZVRleHQgPSBpc0ZldGNoU3VwcG9ydGVkICYmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICBhc3luYyAoc3RyKSA9PiBuZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2Uoc3RyKS5hcnJheUJ1ZmZlcigpKVxuKTtcblxuY29uc3QgdGVzdCA9IChmbiwgLi4uYXJncykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAhIWZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuY29uc3Qgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgbGV0IGR1cGxleEFjY2Vzc2VkID0gZmFsc2U7XG5cbiAgY29uc3QgaGFzQ29udGVudFR5cGUgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBnZXQgZHVwbGV4KCkge1xuICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuICdoYWxmJztcbiAgICB9LFxuICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgcmV0dXJuIGR1cGxleEFjY2Vzc2VkICYmICFoYXNDb250ZW50VHlwZTtcbn0pO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gIHRlc3QoKCkgPT4gdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShuZXcgUmVzcG9uc2UoJycpLmJvZHkpKTtcblxuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG59O1xuXG5pc0ZldGNoU3VwcG9ydGVkICYmICgoKHJlcykgPT4ge1xuICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IHV0aWxzLmlzRnVuY3Rpb24ocmVzW3R5cGVdKSA/IChyZXMpID0+IHJlc1t0eXBlXSgpIDpcbiAgICAgIChfLCBjb25maWcpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFJlc3BvbnNlIHR5cGUgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLCBBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCwgY29uZmlnKTtcbiAgICAgIH0pXG4gIH0pO1xufSkobmV3IFJlc3BvbnNlKSk7XG5cbmNvbnN0IGdldEJvZHlMZW5ndGggPSBhc3luYyAoYm9keSkgPT4ge1xuICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZih1dGlscy5pc0Jsb2IoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5zaXplO1xuICB9XG5cbiAgaWYodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgIGNvbnN0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHksXG4gICAgfSk7XG4gICAgcmV0dXJuIChhd2FpdCBfcmVxdWVzdC5hcnJheUJ1ZmZlcigpKS5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgaWYodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gIH1cblxuICBpZih1dGlscy5pc1N0cmluZyhib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgZW5jb2RlVGV4dChib2R5KSkuYnl0ZUxlbmd0aDtcbiAgfVxufVxuXG5jb25zdCByZXNvbHZlQm9keUxlbmd0aCA9IGFzeW5jIChoZWFkZXJzLCBib2R5KSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICByZXR1cm4gbGVuZ3RoID09IG51bGwgPyBnZXRCb2R5TGVuZ3RoKGJvZHkpIDogbGVuZ3RoO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0ZldGNoU3VwcG9ydGVkICYmIChhc3luYyAoY29uZmlnKSA9PiB7XG4gIGxldCB7XG4gICAgdXJsLFxuICAgIG1ldGhvZCxcbiAgICBkYXRhLFxuICAgIHNpZ25hbCxcbiAgICBjYW5jZWxUb2tlbixcbiAgICB0aW1lb3V0LFxuICAgIG9uRG93bmxvYWRQcm9ncmVzcyxcbiAgICBvblVwbG9hZFByb2dyZXNzLFxuICAgIHJlc3BvbnNlVHlwZSxcbiAgICBoZWFkZXJzLFxuICAgIHdpdGhDcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbicsXG4gICAgZmV0Y2hPcHRpb25zXG4gIH0gPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG5cbiAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlID8gKHJlc3BvbnNlVHlwZSArICcnKS50b0xvd2VyQ2FzZSgpIDogJ3RleHQnO1xuXG4gIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gIGxldCByZXF1ZXN0O1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gY29tcG9zZWRTaWduYWwgJiYgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUgJiYgKCgpID0+IHtcbiAgICAgIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlKCk7XG4gIH0pO1xuXG4gIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICB0cnkge1xuICAgIGlmIChcbiAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgIChyZXF1ZXN0Q29udGVudExlbmd0aCA9IGF3YWl0IHJlc29sdmVCb2R5TGVuZ3RoKGhlYWRlcnMsIGRhdGEpKSAhPT0gMFxuICAgICkge1xuICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbnRlbnRUeXBlSGVhZGVyO1xuXG4gICAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoY29udGVudFR5cGVIZWFkZXIpXG4gICAgICB9XG5cbiAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICApO1xuXG4gICAgICAgIGRhdGEgPSB0cmFja1N0cmVhbShfcmVxdWVzdC5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsIGZsdXNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKHdpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdvbWl0JztcbiAgICB9XG5cbiAgICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgdGhyb3dzIHdoZW4gY3JlZGVudGlhbHMgYXJlIGRlZmluZWRcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvd29ya2VyZC9pc3N1ZXMvOTAyXG4gICAgY29uc3QgaXNDcmVkZW50aWFsc1N1cHBvcnRlZCA9IFwiY3JlZGVudGlhbHNcIiBpbiBSZXF1ZXN0LnByb3RvdHlwZTtcbiAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBzaWduYWw6IGNvbXBvc2VkU2lnbmFsLFxuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgZHVwbGV4OiBcImhhbGZcIixcbiAgICAgIGNyZWRlbnRpYWxzOiBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID8gd2l0aENyZWRlbnRpYWxzIDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KTtcblxuICAgIGNvbnN0IGlzU3RyZWFtUmVzcG9uc2UgPSBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChyZXNwb25zZVR5cGUgPT09ICdzdHJlYW0nIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3Jlc3BvbnNlJyk7XG5cbiAgICBpZiAoc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAob25Eb3dubG9hZFByb2dyZXNzIHx8IChpc1N0cmVhbVJlc3BvbnNlICYmIHVuc3Vic2NyaWJlKSkpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcblxuICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgb3B0aW9uc1twcm9wXSA9IHJlc3BvbnNlW3Byb3BdO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IG9uRG93bmxvYWRQcm9ncmVzcyAmJiBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICApIHx8IFtdO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgZmx1c2ggJiYgZmx1c2goKTtcbiAgICAgICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscy5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgaGVhZGVyczogQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyksXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIGlmIChlcnIgJiYgZXJyLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIC9mZXRjaC9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICB9XG59KTtcblxuXG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgaHR0cEFkYXB0ZXIgZnJvbSAnLi9odHRwLmpzJztcbmltcG9ydCB4aHJBZGFwdGVyIGZyb20gJy4veGhyLmpzJztcbmltcG9ydCBmZXRjaEFkYXB0ZXIgZnJvbSAnLi9mZXRjaC5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXIsXG4gIGZldGNoOiBmZXRjaEFkYXB0ZXJcbn1cblxudXRpbHMuZm9yRWFjaChrbm93bkFkYXB0ZXJzLCAoZm4sIHZhbHVlKSA9PiB7XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywge3ZhbHVlfSk7XG4gIH1cbn0pO1xuXG5jb25zdCByZW5kZXJSZWFzb24gPSAocmVhc29uKSA9PiBgLSAke3JlYXNvbn1gO1xuXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBVbmtub3duIGFkYXB0ZXIgJyR7aWR9J2ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZWplY3RlZFJlYXNvbnNbaWQgfHwgJyMnICsgaV0gPSBhZGFwdGVyO1xuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuXG4gICAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgICAgKHN0YXRlID09PSBmYWxzZSA/ICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCcgOiAnaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQnKVxuICAgICAgICApO1xuXG4gICAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAgIChyZWFzb25zLmxlbmd0aCA+IDEgPyAnc2luY2UgOlxcbicgKyByZWFzb25zLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oJ1xcbicpIDogJyAnICsgcmVuZGVyUmVhc29uKHJlYXNvbnNbMF0pKSA6XG4gICAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHRyYW5zZm9ybURhdGEgZnJvbSAnLi90cmFuc2Zvcm1EYXRhLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuLi9hZGFwdGVycy9hZGFwdGVycy5qc1wiO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29uZmlnLmhlYWRlcnMpO1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgY29uZmlnLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgaWYgKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXS5pbmRleE9mKGNvbmZpZy5tZXRob2QpICE9PSAtMSkge1xuICAgIGNvbmZpZy5oZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBhZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcihjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyKTtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZWFzb24ucmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufVxuIiwKICAgICJleHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMS44LjNcIjsiLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzW3R5cGVdID0gZnVuY3Rpb24gdmFsaWRhdG9yKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gdHlwZSB8fCAnYScgKyAoaSA8IDEgPyAnbiAnIDogJyAnKSArIHR5cGU7XG4gIH07XG59KTtcblxuY29uc3QgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW4/fSB2YWxpZGF0b3IgLSBzZXQgdG8gZmFsc2UgaWYgdGhlIHRyYW5zaXRpb25hbCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZFxuICogQHBhcmFtIHtzdHJpbmc/fSB2ZXJzaW9uIC0gZGVwcmVjYXRlZCB2ZXJzaW9uIC8gcmVtb3ZlZCBzaW5jZSB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz99IG1lc3NhZ2UgLSBzb21lIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIGluZm9cbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxudmFsaWRhdG9ycy5zcGVsbGluZyA9IGZ1bmN0aW9uIHNwZWxsaW5nKGNvcnJlY3RTcGVsbGluZykge1xuICByZXR1cm4gKHZhbHVlLCBvcHQpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybihgJHtvcHR9IGlzIGxpa2VseSBhIG1pc3NwZWxsaW5nIG9mICR7Y29ycmVjdFNwZWxsaW5nfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yc1xufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSAnLi4vaGVscGVycy9idWlsZFVSTC5qcyc7XG5pbXBvcnQgSW50ZXJjZXB0b3JNYW5hZ2VyIGZyb20gJy4vSW50ZXJjZXB0b3JNYW5hZ2VyLmpzJztcbmltcG9ydCBkaXNwYXRjaFJlcXVlc3QgZnJvbSAnLi9kaXNwYXRjaFJlcXVlc3QuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vaGVscGVycy92YWxpZGF0b3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuL0F4aW9zSGVhZGVycy5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGxldCBkdW1teSA9IHt9O1xuXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZHVtbXkpIDogKGR1bW15ID0gbmV3IEVycm9yKCkpO1xuXG4gICAgICAgIC8vIHNsaWNlIG9mZiB0aGUgRXJyb3I6IC4uLiBsaW5lXG4gICAgICAgIGNvbnN0IHN0YWNrID0gZHVtbXkuc3RhY2sgPyBkdW1teS5zdGFjay5yZXBsYWNlKC9eLitcXG4vLCAnJykgOiAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWVyci5zdGFjaykge1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgICAvLyBtYXRjaCB3aXRob3V0IHRoZSAyIHRvcCBzdGFjayBsaW5lc1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2sgJiYgIVN0cmluZyhlcnIuc3RhY2spLmVuZHNXaXRoKHN0YWNrLnJlcGxhY2UoL14uK1xcbi4rXFxuLywgJycpKSkge1xuICAgICAgICAgICAgZXJyLnN0YWNrICs9ICdcXG4nICsgc3RhY2tcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdGhlIGNhc2Ugd2hlcmUgXCJzdGFja1wiIGlzIGFuIHVuLXdyaXRhYmxlIHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIF9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gICAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgIGNvbmZpZy51cmwgPSBjb25maWdPclVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnID0gY29uZmlnT3JVcmwgfHwge307XG4gICAgfVxuXG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGNvbnN0IHt0cmFuc2l0aW9uYWwsIHBhcmFtc1NlcmlhbGl6ZXIsIGhlYWRlcnN9ID0gY29uZmlnO1xuXG4gICAgaWYgKHRyYW5zaXRpb25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGZvcmNlZEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIgIT0gbnVsbCkge1xuICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ocGFyYW1zU2VyaWFsaXplcikpIHtcbiAgICAgICAgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIgPSB7XG4gICAgICAgICAgc2VyaWFsaXplOiBwYXJhbXNTZXJpYWxpemVyXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHBhcmFtc1NlcmlhbGl6ZXIsIHtcbiAgICAgICAgICBlbmNvZGU6IHZhbGlkYXRvcnMuZnVuY3Rpb24sXG4gICAgICAgICAgc2VyaWFsaXplOiB2YWxpZGF0b3JzLmZ1bmN0aW9uXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHNcbiAgICBpZiAoY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMuYWxsb3dBYnNvbHV0ZVVybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzID0gdGhpcy5kZWZhdWx0cy5hbGxvd0Fic29sdXRlVXJscztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhjb25maWcsIHtcbiAgICAgIGJhc2VVcmw6IHZhbGlkYXRvcnMuc3BlbGxpbmcoJ2Jhc2VVUkwnKSxcbiAgICAgIHdpdGhYc3JmVG9rZW46IHZhbGlkYXRvcnMuc3BlbGxpbmcoJ3dpdGhYU1JGVG9rZW4nKVxuICAgIH0sIHRydWUpO1xuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBsZXQgY29udGV4dEhlYWRlcnMgPSBoZWFkZXJzICYmIHV0aWxzLm1lcmdlKFxuICAgICAgaGVhZGVycy5jb21tb24sXG4gICAgICBoZWFkZXJzW2NvbmZpZy5tZXRob2RdXG4gICAgKTtcblxuICAgIGhlYWRlcnMgJiYgdXRpbHMuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5jb25jYXQoY29udGV4dEhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgbGV0IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuO1xuXG4gICAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICAgIGNvbnN0IGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdC5iaW5kKHRoaXMpLCB1bmRlZmluZWRdO1xuICAgICAgY2hhaW4udW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaC5hcHBseShjaGFpbiwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsLCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4vQ2FuY2VsZWRFcnJvci5qcyc7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge0NhbmNlbFRva2VufVxuICovXG5jbGFzcyBDYW5jZWxUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcblxuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuKGNhbmNlbCA9PiB7XG4gICAgICBpZiAoIXRva2VuLl9saXN0ZW5lcnMpIHJldHVybjtcblxuICAgICAgbGV0IGkgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgdG9rZW4uX2xpc3RlbmVyc1tpXShjYW5jZWwpO1xuICAgICAgfVxuICAgICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuID0gb25mdWxmaWxsZWQgPT4ge1xuICAgICAgbGV0IF9yZXNvbHZlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHJlc29sdmUpO1xuICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgICAgcHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgIHRva2VuLnVuc3Vic2NyaWJlKF9yZXNvbHZlKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gICAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCk7XG4gICAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICAgKi9cbiAgdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIHRocm93IHRoaXMucmVhc29uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICBsaXN0ZW5lcih0aGlzLnJlYXNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycykge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbbGlzdGVuZXJdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHVuc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgdG9BYm9ydFNpZ25hbCgpIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgY29uc3QgYWJvcnQgPSAoZXJyKSA9PiB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KGVycik7XG4gICAgfTtcblxuICAgIHRoaXMuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIGNvbnRyb2xsZXIuc2lnbmFsLnVuc3Vic2NyaWJlID0gKCkgPT4gdGhpcy51bnN1YnNjcmliZShhYm9ydCk7XG5cbiAgICByZXR1cm4gY29udHJvbGxlci5zaWduYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICAgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICAgKi9cbiAgc3RhdGljIHNvdXJjZSgpIHtcbiAgICBsZXQgY2FuY2VsO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICAgIGNhbmNlbCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2FuY2VsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxUb2tlbjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXhpb3NFcnJvcihwYXlsb2FkKSB7XG4gIHJldHVybiB1dGlscy5pc09iamVjdChwYXlsb2FkKSAmJiAocGF5bG9hZC5pc0F4aW9zRXJyb3IgPT09IHRydWUpO1xufVxuIiwKICAgICJjb25zdCBIdHRwU3RhdHVzQ29kZSA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgU3dpdGNoaW5nUHJvdG9jb2xzOiAxMDEsXG4gIFByb2Nlc3Npbmc6IDEwMixcbiAgRWFybHlIaW50czogMTAzLFxuICBPazogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjogMjAzLFxuICBOb0NvbnRlbnQ6IDIwNCxcbiAgUmVzZXRDb250ZW50OiAyMDUsXG4gIFBhcnRpYWxDb250ZW50OiAyMDYsXG4gIE11bHRpU3RhdHVzOiAyMDcsXG4gIEFscmVhZHlSZXBvcnRlZDogMjA4LFxuICBJbVVzZWQ6IDIyNixcbiAgTXVsdGlwbGVDaG9pY2VzOiAzMDAsXG4gIE1vdmVkUGVybWFuZW50bHk6IDMwMSxcbiAgRm91bmQ6IDMwMixcbiAgU2VlT3RoZXI6IDMwMyxcbiAgTm90TW9kaWZpZWQ6IDMwNCxcbiAgVXNlUHJveHk6IDMwNSxcbiAgVW51c2VkOiAzMDYsXG4gIFRlbXBvcmFyeVJlZGlyZWN0OiAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0OiAzMDgsXG4gIEJhZFJlcXVlc3Q6IDQwMCxcbiAgVW5hdXRob3JpemVkOiA0MDEsXG4gIFBheW1lbnRSZXF1aXJlZDogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgTm90Rm91bmQ6IDQwNCxcbiAgTWV0aG9kTm90QWxsb3dlZDogNDA1LFxuICBOb3RBY2NlcHRhYmxlOiA0MDYsXG4gIFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDogNDA3LFxuICBSZXF1ZXN0VGltZW91dDogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIExlbmd0aFJlcXVpcmVkOiA0MTEsXG4gIFByZWNvbmRpdGlvbkZhaWxlZDogNDEyLFxuICBQYXlsb2FkVG9vTGFyZ2U6IDQxMyxcbiAgVXJpVG9vTG9uZzogNDE0LFxuICBVbnN1cHBvcnRlZE1lZGlhVHlwZTogNDE1LFxuICBSYW5nZU5vdFNhdGlzZmlhYmxlOiA0MTYsXG4gIEV4cGVjdGF0aW9uRmFpbGVkOiA0MTcsXG4gIEltQVRlYXBvdDogNDE4LFxuICBNaXNkaXJlY3RlZFJlcXVlc3Q6IDQyMSxcbiAgVW5wcm9jZXNzYWJsZUVudGl0eTogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgRmFpbGVkRGVwZW5kZW5jeTogNDI0LFxuICBUb29FYXJseTogNDI1LFxuICBVcGdyYWRlUmVxdWlyZWQ6IDQyNixcbiAgUHJlY29uZGl0aW9uUmVxdWlyZWQ6IDQyOCxcbiAgVG9vTWFueVJlcXVlc3RzOiA0MjksXG4gIFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTogNDMxLFxuICBVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczogNDUxLFxuICBJbnRlcm5hbFNlcnZlckVycm9yOiA1MDAsXG4gIE5vdEltcGxlbWVudGVkOiA1MDEsXG4gIEJhZEdhdGV3YXk6IDUwMixcbiAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gIEdhdGV3YXlUaW1lb3V0OiA1MDQsXG4gIEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOiA1MDUsXG4gIFZhcmlhbnRBbHNvTmVnb3RpYXRlczogNTA2LFxuICBJbnN1ZmZpY2llbnRTdG9yYWdlOiA1MDcsXG4gIExvb3BEZXRlY3RlZDogNTA4LFxuICBOb3RFeHRlbmRlZDogNTEwLFxuICBOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDogNTExLFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSHR0cFN0YXR1c0NvZGU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJy4vY29yZS9BeGlvcy5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9jb3JlL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsVG9rZW4gZnJvbSAnLi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgc3ByZWFkIGZyb20gJy4vaGVscGVycy9zcHJlYWQuanMnO1xuaW1wb3J0IGlzQXhpb3NFcnJvciBmcm9tICcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBhZGFwdGVycyBmcm9tICcuL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzJztcbmltcG9ydCBIdHRwU3RhdHVzQ29kZSBmcm9tICcuL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbjtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnM7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbi8vIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGhhdmUgYSBkZWZhdWx0IGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgYXhpb3NcbiIsCiAgICAiaW1wb3J0IHtcbiAgICBkZWZhdWx0IGFzIEF4aW9zXG59IGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgdHlwZSBTZXJ2ZXI8XG4gICAgVDEgZXh0ZW5kcyBTZXJ2ZXIuRW5kcG9pbnRzLCBcbiAgICBUMiBleHRlbmRzIFNlcnZlci5SZWNlaXZlckVuZHBvaW50c1xuICAgID4gPSB7XG4gICAgcXVlcnk8VDMgZXh0ZW5kcyBrZXlvZiBUMT4odXJsOiBUMyk6IFByb21pc2U8VDFbVDNdPjtcbiAgICB0b3VjaDxUMyBleHRlbmRzIGtleW9mIFQyPih1cmw6IFQzLCBkYXRhOiBUMltUM11bMF0pOiBQcm9taXNlPFQyW1QzXVsxXT47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU2VydmVyPFxuICAgIFQxIGV4dGVuZHMgU2VydmVyLkVuZHBvaW50cyxcbiAgICBUMiBleHRlbmRzIFNlcnZlci5SZWNlaXZlckVuZHBvaW50c1xuICAgID4oKTogU2VydmVyPFQxLCBUMj4ge1xuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xuICAgICAgICByZXR1cm4ge3F1ZXJ5LCB0b3VjaH07XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5PFQzIGV4dGVuZHMga2V5b2YgVDE+KHVybDogVDMpOiBQcm9taXNlPFQxW1QzXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IEF4aW9zLmdldCgodXJsIGFzIHN0cmluZykpKS5kYXRhO1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBmdW5jdGlvbiB0b3VjaDxUMyBleHRlbmRzIGtleW9mIFQyPih1cmw6IFQzLCBkYXRhOiBUMltUM11bMF0pOiBQcm9taXNlPFQyW1QzXVsxXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IEF4aW9zLnBvc3QoKHVybCBhcyBzdHJpbmcpLCBkYXRhKSkuZGF0YTtcbiAgICB9ICAgXG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2VydmVyIHtcbiAgICAvKipcbiAgICAgKiAqKip3aGVyZSoqKlxuICAgICAqICogICAgIFQxIDogdXJsXG4gICAgICogKiAgICAgVDIgOiByZXNwb25zZVxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIEVuZHBvaW50czxUMSBleHRlbmRzIHN0cmluZz1zdHJpbmcsIFQyPXVua25vd24+ID0gUmVjb3JkPFQxLCBUMj47XG5cbiAgICAvKipcbiAgICAgKiAqKip3aGVyZSoqKlxuICAgICAqICogICAgIFQxIDogdXJsXG4gICAgICogKiAgICAgVDIgOiByZXF1ZXN0XG4gICAgICogKiAgICAgVDMgOiByZXNwb25zZVxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFJlY2VpdmVyRW5kcG9pbnRzPFxuICAgICAgICBUMSBleHRlbmRzIHN0cmluZz1zdHJpbmcsXG4gICAgICAgIFQyPXVua25vd24sXG4gICAgICAgIFQzPXVua25vd25cbiAgICAgICAgPiA9IFJlY29yZDxUMSwgW1QyLCBUM10+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgT3JkZXJEYXRhLFxuICAgIFNlcnZlclxufSBmcm9tIFwiQGNvbW1vblwiO1xuXG5leHBvcnQgY29uc3QgQnJpZGdlID0gU2VydmVyPHt9LCB7XG4gICAgXCIvdXNlcm5hbWVfaXNfYXZhaWxhYmxlXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmdcbiAgICB9LCB7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICB9XSxcbiAgICBcIi9wcm9kdWN0X2lzX2luX3N0b2NrXCI6IFtcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBib29sZWFuXG4gICAgXSxcbiAgICBcIi9oYXNfcHJvZHVjdFwiOiBbXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZywgXG4gICAgICAgIGJvb2xlYW5cbiAgICBdLFxuICAgIFwiL21hdGVyaWFsc1wiOiBbXG4gICAgICAgIG51bGwsIFxuICAgICAgICBBcnJheTxzdHJpbmc+XG4gICAgXSxcbiAgICBcIi9wcm9kdWN0c19ieV9tYXRlcmlhbFwiOiBbXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2U6IEFycmF5PFByb2R1Y3REYXRhPlxuICAgIF0sXG4gICAgXCIvcHJvZHVjdHNfYnlfa2V5XCI6IFtcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICByZXNwb25zZTogQXJyYXk8UHJvZHVjdERhdGE+XG4gICAgXSxcbiAgICBcIi9wcm9kdWN0c1wiOiBbXG4gICAgICAgIG51bGwsIFxuICAgICAgICByZXNwb25zZTogQXJyYXk8UHJvZHVjdERhdGE+XG4gICAgXSxcbiAgICBcIi9zaWduX3VwXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIGVtYWlsOiBzdHJpbmdcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvc2lnbl9pblwiOiBbe1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgICAgICBwYXNzd29yZDogc3RyaW5nXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2xpc3RcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0OiBQcm9kdWN0RGF0YVxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXVxuICAgIFwiL2RlbGlzdFwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZ1xuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXVxuICAgIFwiL3NldF9zdG9ja1wiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2luY3JlYXNlX3N0b2NrXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvZGVjcmVhc2Vfc3RvY2tcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9zZXRfcHJpY2VcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9pbmNyZWFzZV9wcmljZVwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2RlY3JlYXNlX3ByaWNlXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvY2hlY2tvdXRcIjogW3tcbiAgICAgICAgb3JkZXJzOiBBcnJheTxPcmRlckRhdGE+XG4gICAgfSwge1xuICAgICAgICB1cmw6IHN0cmluZyxcbiAgICAgICAgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxcbiAgICB9XVxufT4oKTtcblxuZXhwb3J0IG5hbWVzcGFjZSBCcmlkZ2Uge1xuICAgIGV4cG9ydCB0eXBlIEVyciA9XG4gICAgICAgIHwgXCJCUklER0UuRVJSX0lOVkFMSURfUkVRVUVTVFwiXG4gICAgICAgIHwgXCJCUklER0UuRVJSX1VTRVJOQU1FX05PVF9BVkFJTEFCTEVcIjtcbn0iLAogICAgImV4cG9ydCBmdW5jdGlvbiByZXF1aXJlPFQxIGV4dGVuZHMgc3RyaW5nPihjb25kaXRpb246IGJvb2xlYW4sIGNvZGU6IFQxKTogYXNzZXJ0cyBjb25kaXRpb24gaXMgdHJ1ZSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93IGNvZGU7XG59IiwKICAgICJleHBvcnQgZnVuY3Rpb24gdG9TdHJpbmcodmFsKSB7XG4gICAgdmFyIHZhbHVlID0gU3RyaW5nKHZhbCk7XG4gICAgaWYgKHZhbHVlID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfYSkgeyB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsCiAgICAiaW1wb3J0IHsgdG9TdHJpbmcgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IE9rLCBFcnIgfSBmcm9tICcuL3Jlc3VsdCc7XG4vKipcbiAqIENvbnRhaW5zIHRoZSBOb25lIHZhbHVlXG4gKi9cbnZhciBOb25lSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb25lSW1wbCgpIHtcbiAgICAgICAgdGhpcy5zb21lID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm9uZSA9IHRydWU7XG4gICAgfVxuICAgIE5vbmVJbXBsLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBOb25lSW1wbC5wcm90b3R5cGUudW53cmFwT3IgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcbiAgICBOb25lSW1wbC5wcm90b3R5cGUuZXhwZWN0ID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIiArIG1zZyk7XG4gICAgfTtcbiAgICBOb25lSW1wbC5wcm90b3R5cGUudW53cmFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byB1bndyYXAgTm9uZVwiKTtcbiAgICB9O1xuICAgIE5vbmVJbXBsLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoX21hcHBlcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE5vbmVJbXBsLnByb3RvdHlwZS5hbmRUaGVuID0gZnVuY3Rpb24gKG9wKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgTm9uZUltcGwucHJvdG90eXBlLnRvUmVzdWx0ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBFcnIoZXJyb3IpO1xuICAgIH07XG4gICAgTm9uZUltcGwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ05vbmUnO1xuICAgIH07XG4gICAgcmV0dXJuIE5vbmVJbXBsO1xufSgpKTtcbi8vIEV4cG9ydCBOb25lIGFzIGEgc2luZ2xldG9uLCB0aGVuIGZyZWV6ZSBpdCBzbyBpdCBjYW4ndCBiZSBtb2RpZmllZFxuZXhwb3J0IHZhciBOb25lID0gbmV3IE5vbmVJbXBsKCk7XG5PYmplY3QuZnJlZXplKE5vbmUpO1xuLyoqXG4gKiBDb250YWlucyB0aGUgc3VjY2VzcyB2YWx1ZVxuICovXG52YXIgU29tZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU29tZUltcGwodmFsKSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTb21lSW1wbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU29tZUltcGwodmFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvbWUgPSB0cnVlO1xuICAgICAgICB0aGlzLm5vbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YWwgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBpZiB5b3Uga25vdyB5b3UgaGF2ZSBhbiBTb21lPFQ+IGFuZCBUIGlzIGl0ZXJhYmxlXG4gICAgICovXG4gICAgU29tZUltcGwucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvYmogPSBPYmplY3QodGhpcy52YWwpO1xuICAgICAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yIGluIG9ialxuICAgICAgICAgICAgPyBvYmpbU3ltYm9sLml0ZXJhdG9yXSgpXG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICB9O1xuICAgIFNvbWVJbXBsLnByb3RvdHlwZS51bndyYXBPciA9IGZ1bmN0aW9uIChfdmFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbDtcbiAgICB9O1xuICAgIFNvbWVJbXBsLnByb3RvdHlwZS5leHBlY3QgPSBmdW5jdGlvbiAoX21zZykge1xuICAgICAgICByZXR1cm4gdGhpcy52YWw7XG4gICAgfTtcbiAgICBTb21lSW1wbC5wcm90b3R5cGUudW53cmFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWw7XG4gICAgfTtcbiAgICBTb21lSW1wbC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICByZXR1cm4gU29tZShtYXBwZXIodGhpcy52YWwpKTtcbiAgICB9O1xuICAgIFNvbWVJbXBsLnByb3RvdHlwZS5hbmRUaGVuID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICByZXR1cm4gbWFwcGVyKHRoaXMudmFsKTtcbiAgICB9O1xuICAgIFNvbWVJbXBsLnByb3RvdHlwZS50b1Jlc3VsdCA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gT2sodGhpcy52YWwpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGFpbmVkIGBTb21lYCB2YWx1ZSwgYnV0IG5ldmVyIHRocm93cy5cbiAgICAgKiBVbmxpa2UgYHVud3JhcCgpYCwgdGhpcyBtZXRob2QgZG9lc24ndCB0aHJvdyBhbmQgaXMgb25seSBjYWxsYWJsZSBvbiBhbiBTb21lPFQ+XG4gICAgICpcbiAgICAgKiBUaGVyZWZvcmUsIGl0IGNhbiBiZSB1c2VkIGluc3RlYWQgb2YgYHVud3JhcCgpYCBhcyBhIG1haW50YWluYWJpbGl0eSBzYWZlZ3VhcmRcbiAgICAgKiB0aGF0IHdpbGwgZmFpbCB0byBjb21waWxlIGlmIHRoZSB0eXBlIG9mIHRoZSBPcHRpb24gaXMgbGF0ZXIgY2hhbmdlZCB0byBhIE5vbmUgdGhhdCBjYW4gYWN0dWFsbHkgb2NjdXIuXG4gICAgICpcbiAgICAgKiAodGhpcyBpcyB0aGUgYGludG9fU29tZSgpYCBpbiBydXN0KVxuICAgICAqL1xuICAgIFNvbWVJbXBsLnByb3RvdHlwZS5zYWZlVW53cmFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWw7XG4gICAgfTtcbiAgICBTb21lSW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIlNvbWUoXCIgKyB0b1N0cmluZyh0aGlzLnZhbCkgKyBcIilcIjtcbiAgICB9O1xuICAgIFNvbWVJbXBsLkVNUFRZID0gbmV3IFNvbWVJbXBsKHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIFNvbWVJbXBsO1xufSgpKTtcbi8vIFRoaXMgYWxsb3dzIFNvbWUgdG8gYmUgY2FsbGFibGUgLSBwb3NzaWJsZSBiZWNhdXNlIG9mIHRoZSBlczUgY29tcGlsYXRpb24gdGFyZ2V0XG5leHBvcnQgdmFyIFNvbWUgPSBTb21lSW1wbDtcbmV4cG9ydCB2YXIgT3B0aW9uO1xuKGZ1bmN0aW9uIChPcHRpb24pIHtcbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHNldCBvZiBgT3B0aW9uYHMsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgYFNvbWVgIHZhbHVlcy5cbiAgICAgKiBTaG9ydCBjaXJjdWl0cyB3aXRoIHRoZSBmaXJzdCBgTm9uZWAgZm91bmQsIGlmIGFueVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFsbCgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc29tZU9wdGlvbiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIG9wdGlvbnNfMSA9IG9wdGlvbnM7IF9hIDwgb3B0aW9uc18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNfMVtfYV07XG4gICAgICAgICAgICBpZiAob3B0aW9uLnNvbWUpIHtcbiAgICAgICAgICAgICAgICBzb21lT3B0aW9uLnB1c2gob3B0aW9uLnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTb21lKHNvbWVPcHRpb24pO1xuICAgIH1cbiAgICBPcHRpb24uYWxsID0gYWxsO1xuICAgIC8qKlxuICAgICAqIFBhcnNlIGEgc2V0IG9mIGBPcHRpb25gcywgc2hvcnQtY2lyY3VpdHMgd2hlbiBhbiBpbnB1dCB2YWx1ZSBpcyBgU29tZWAuXG4gICAgICogSWYgbm8gYFNvbWVgIGlzIGZvdW5kLCByZXR1cm5zIGBOb25lYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhbnkoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcHRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2hvcnQtY2lyY3VpdHNcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBvcHRpb25zXzIgPSBvcHRpb25zOyBfYSA8IG9wdGlvbnNfMi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zXzJbX2FdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbi5zb21lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQgbXVzdCBiZSBOb25lXG4gICAgICAgIHJldHVybiBOb25lO1xuICAgIH1cbiAgICBPcHRpb24uYW55ID0gYW55O1xuICAgIGZ1bmN0aW9uIGlzT3B0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFNvbWUgfHwgdmFsdWUgPT09IE5vbmU7XG4gICAgfVxuICAgIE9wdGlvbi5pc09wdGlvbiA9IGlzT3B0aW9uO1xufSkoT3B0aW9uIHx8IChPcHRpb24gPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3B0aW9uLmpzLm1hcCIsCiAgICAiaW1wb3J0IHsgdG9TdHJpbmcgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IE5vbmUsIFNvbWUgfSBmcm9tICcuL29wdGlvbic7XG4vKipcbiAqIENvbnRhaW5zIHRoZSBlcnJvciB2YWx1ZVxuICovXG52YXIgRXJySW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFcnJJbXBsKHZhbCkge1xuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRXJySW1wbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJySW1wbCh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lcnIgPSB0cnVlO1xuICAgICAgICB0aGlzLnZhbCA9IHZhbDtcbiAgICAgICAgdmFyIHN0YWNrTGluZXMgPSBuZXcgRXJyb3IoKS5zdGFjay5zcGxpdCgnXFxuJykuc2xpY2UoMik7XG4gICAgICAgIGlmIChzdGFja0xpbmVzICYmIHN0YWNrTGluZXMubGVuZ3RoID4gMCAmJiBzdGFja0xpbmVzWzBdLmluY2x1ZGVzKCdFcnJJbXBsJykpIHtcbiAgICAgICAgICAgIHN0YWNrTGluZXMuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFjayA9IHN0YWNrTGluZXMuam9pbignXFxuJyk7XG4gICAgfVxuICAgIEVyckltcGwucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHVud3JhcE9yXG4gICAgICogQHNlZSB1bndyYXBPclxuICAgICAqL1xuICAgIEVyckltcGwucHJvdG90eXBlLmVsc2UgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcbiAgICBFcnJJbXBsLnByb3RvdHlwZS51bndyYXBPciA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICB9O1xuICAgIEVyckltcGwucHJvdG90eXBlLmV4cGVjdCA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyArIFwiIC0gRXJyb3I6IFwiICsgdG9TdHJpbmcodGhpcy52YWwpICsgXCJcXG5cIiArIHRoaXMuX3N0YWNrKTtcbiAgICB9O1xuICAgIEVyckltcGwucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHJpZWQgdG8gdW53cmFwIEVycm9yOiBcIiArIHRvU3RyaW5nKHRoaXMudmFsKSArIFwiXFxuXCIgKyB0aGlzLl9zdGFjayk7XG4gICAgfTtcbiAgICBFcnJJbXBsLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiAoX21hcHBlcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEVyckltcGwucHJvdG90eXBlLmFuZFRoZW4gPSBmdW5jdGlvbiAob3ApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBFcnJJbXBsLnByb3RvdHlwZS5tYXBFcnIgPSBmdW5jdGlvbiAobWFwcGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyKG1hcHBlcih0aGlzLnZhbCkpO1xuICAgIH07XG4gICAgRXJySW1wbC5wcm90b3R5cGUudG9PcHRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBOb25lO1xuICAgIH07XG4gICAgRXJySW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIkVycihcIiArIHRvU3RyaW5nKHRoaXMudmFsKSArIFwiKVwiO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVyckltcGwucHJvdG90eXBlLCBcInN0YWNrXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcyArIFwiXFxuXCIgKyB0aGlzLl9zdGFjaztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBBbiBlbXB0eSBFcnIgKi9cbiAgICBFcnJJbXBsLkVNUFRZID0gbmV3IEVyckltcGwodW5kZWZpbmVkKTtcbiAgICByZXR1cm4gRXJySW1wbDtcbn0oKSk7XG5leHBvcnQgeyBFcnJJbXBsIH07XG4vLyBUaGlzIGFsbG93cyBFcnIgdG8gYmUgY2FsbGFibGUgLSBwb3NzaWJsZSBiZWNhdXNlIG9mIHRoZSBlczUgY29tcGlsYXRpb24gdGFyZ2V0XG5leHBvcnQgdmFyIEVyciA9IEVyckltcGw7XG4vKipcbiAqIENvbnRhaW5zIHRoZSBzdWNjZXNzIHZhbHVlXG4gKi9cbnZhciBPa0ltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2tJbXBsKHZhbCkge1xuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgT2tJbXBsKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPa0ltcGwodmFsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9rID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lcnIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy52YWwgPSB2YWw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiBpZiB5b3Uga25vdyB5b3UgaGF2ZSBhbiBPazxUPiBhbmQgVCBpcyBpdGVyYWJsZVxuICAgICAqL1xuICAgIE9rSW1wbC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9iaiA9IE9iamVjdCh0aGlzLnZhbCk7XG4gICAgICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3IgaW4gb2JqXG4gICAgICAgICAgICA/IG9ialtTeW1ib2wuaXRlcmF0b3JdKClcbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHNlZSB1bndyYXBPclxuICAgICAqIEBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHVud3JhcE9yXG4gICAgICovXG4gICAgT2tJbXBsLnByb3RvdHlwZS5lbHNlID0gZnVuY3Rpb24gKF92YWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsO1xuICAgIH07XG4gICAgT2tJbXBsLnByb3RvdHlwZS51bndyYXBPciA9IGZ1bmN0aW9uIChfdmFsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbDtcbiAgICB9O1xuICAgIE9rSW1wbC5wcm90b3R5cGUuZXhwZWN0ID0gZnVuY3Rpb24gKF9tc2cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsO1xuICAgIH07XG4gICAgT2tJbXBsLnByb3RvdHlwZS51bndyYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbDtcbiAgICB9O1xuICAgIE9rSW1wbC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICByZXR1cm4gbmV3IE9rKG1hcHBlcih0aGlzLnZhbCkpO1xuICAgIH07XG4gICAgT2tJbXBsLnByb3RvdHlwZS5hbmRUaGVuID0gZnVuY3Rpb24gKG1hcHBlcikge1xuICAgICAgICByZXR1cm4gbWFwcGVyKHRoaXMudmFsKTtcbiAgICB9O1xuICAgIE9rSW1wbC5wcm90b3R5cGUubWFwRXJyID0gZnVuY3Rpb24gKF9tYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPa0ltcGwucHJvdG90eXBlLnRvT3B0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU29tZSh0aGlzLnZhbCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb250YWluZWQgYE9rYCB2YWx1ZSwgYnV0IG5ldmVyIHRocm93cy5cbiAgICAgKiBVbmxpa2UgYHVud3JhcCgpYCwgdGhpcyBtZXRob2QgZG9lc24ndCB0aHJvdyBhbmQgaXMgb25seSBjYWxsYWJsZSBvbiBhbiBPazxUPlxuICAgICAqXG4gICAgICogVGhlcmVmb3JlLCBpdCBjYW4gYmUgdXNlZCBpbnN0ZWFkIG9mIGB1bndyYXAoKWAgYXMgYSBtYWludGFpbmFiaWxpdHkgc2FmZWd1YXJkXG4gICAgICogdGhhdCB3aWxsIGZhaWwgdG8gY29tcGlsZSBpZiB0aGUgZXJyb3IgdHlwZSBvZiB0aGUgUmVzdWx0IGlzIGxhdGVyIGNoYW5nZWQgdG8gYW4gZXJyb3IgdGhhdCBjYW4gYWN0dWFsbHkgb2NjdXIuXG4gICAgICpcbiAgICAgKiAodGhpcyBpcyB0aGUgYGludG9fb2soKWAgaW4gcnVzdClcbiAgICAgKi9cbiAgICBPa0ltcGwucHJvdG90eXBlLnNhZmVVbndyYXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbDtcbiAgICB9O1xuICAgIE9rSW1wbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIk9rKFwiICsgdG9TdHJpbmcodGhpcy52YWwpICsgXCIpXCI7XG4gICAgfTtcbiAgICBPa0ltcGwuRU1QVFkgPSBuZXcgT2tJbXBsKHVuZGVmaW5lZCk7XG4gICAgcmV0dXJuIE9rSW1wbDtcbn0oKSk7XG5leHBvcnQgeyBPa0ltcGwgfTtcbi8vIFRoaXMgYWxsb3dzIE9rIHRvIGJlIGNhbGxhYmxlIC0gcG9zc2libGUgYmVjYXVzZSBvZiB0aGUgZXM1IGNvbXBpbGF0aW9uIHRhcmdldFxuZXhwb3J0IHZhciBPayA9IE9rSW1wbDtcbmV4cG9ydCB2YXIgUmVzdWx0O1xuKGZ1bmN0aW9uIChSZXN1bHQpIHtcbiAgICAvKipcbiAgICAgKiBQYXJzZSBhIHNldCBvZiBgUmVzdWx0YHMsIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgYE9rYCB2YWx1ZXMuXG4gICAgICogU2hvcnQgY2lyY3VpdHMgd2l0aCB0aGUgZmlyc3QgYEVycmAgZm91bmQsIGlmIGFueVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFsbCgpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHJlc3VsdHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb2tSZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2EgPSAwLCByZXN1bHRzXzEgPSByZXN1bHRzOyBfYSA8IHJlc3VsdHNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRzXzFbX2FdO1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgICAgICAgICAgIG9rUmVzdWx0LnB1c2gocmVzdWx0LnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgT2sob2tSZXN1bHQpO1xuICAgIH1cbiAgICBSZXN1bHQuYWxsID0gYWxsO1xuICAgIC8qKlxuICAgICAqIFBhcnNlIGEgc2V0IG9mIGBSZXN1bHRgcywgc2hvcnQtY2lyY3VpdHMgd2hlbiBhbiBpbnB1dCB2YWx1ZSBpcyBgT2tgLlxuICAgICAqIElmIG5vIGBPa2AgaXMgZm91bmQsIHJldHVybnMgYW4gYEVycmAgY29udGFpbmluZyB0aGUgY29sbGVjdGVkIGVycm9yIHZhbHVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFueSgpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHJlc3VsdHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyUmVzdWx0ID0gW107XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXRzXG4gICAgICAgIGZvciAodmFyIF9hID0gMCwgcmVzdWx0c18yID0gcmVzdWx0czsgX2EgPCByZXN1bHRzXzIubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0c18yW19hXTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQub2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZXJyUmVzdWx0LnB1c2gocmVzdWx0LnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gaXQgbXVzdCBiZSBhIEVyclxuICAgICAgICByZXR1cm4gbmV3IEVycihlcnJSZXN1bHQpO1xuICAgIH1cbiAgICBSZXN1bHQuYW55ID0gYW55O1xuICAgIC8qKlxuICAgICAqIFdyYXAgYW4gb3BlcmF0aW9uIHRoYXQgbWF5IHRocm93IGFuIEVycm9yIChgdHJ5LWNhdGNoYCBzdHlsZSkgaW50byBjaGVja2VkIGV4Y2VwdGlvbiBzdHlsZVxuICAgICAqIEBwYXJhbSBvcCBUaGUgb3BlcmF0aW9uIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcChvcCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPayhvcCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnIoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVzdWx0LndyYXAgPSB3cmFwO1xuICAgIC8qKlxuICAgICAqIFdyYXAgYW4gYXN5bmMgb3BlcmF0aW9uIHRoYXQgbWF5IHRocm93IGFuIEVycm9yIChgdHJ5LWNhdGNoYCBzdHlsZSkgaW50byBjaGVja2VkIGV4Y2VwdGlvbiBzdHlsZVxuICAgICAqIEBwYXJhbSBvcCBUaGUgb3BlcmF0aW9uIGZ1bmN0aW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcEFzeW5jKG9wKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gb3AoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIG5ldyBPayh2YWwpOyB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gbmV3IEVycihlKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEVycihlKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgUmVzdWx0LndyYXBBc3luYyA9IHdyYXBBc3luYztcbiAgICBmdW5jdGlvbiBpc1Jlc3VsdCh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIEVyciB8fCB2YWwgaW5zdGFuY2VvZiBPaztcbiAgICB9XG4gICAgUmVzdWx0LmlzUmVzdWx0ID0gaXNSZXN1bHQ7XG59KShSZXN1bHQgfHwgKFJlc3VsdCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXN1bHQuanMubWFwIiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXG4gICAgU0hBRE9XLFxuICAgIHVzZVNwcmluZ3MsXG4gICAgdXNlU3RhdGUsXG4gICAgdXNlRWZmZWN0LFxuICAgIGFuaW1hdGVkXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIEltYWdlQ2Fyb3VzZWxQcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICB1cmxzOiBBcnJheTxzdHJpbmc+O1xuICAgIG1zSW50ZXJ2YWxTbGVlcD86IG51bWJlcjtcbiAgICBhbmltYXRpb24/OiBTcHJpbmdDb25maWc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSW1hZ2VDYXJvdXNlbCh7XG4gICAgdXJscyxcbiAgICBtc0ludGVydmFsU2xlZXA9MTAwMDAsXG4gICAgYW5pbWF0aW9uPXtcbiAgICAgICAgZHVyYXRpb246IDEwMDAwXG4gICAgfSxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBJbWFnZUNhcm91c2VsUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIGxldCBrZXk6IFN0YXRlPG51bWJlcj4gPSB1c2VTdGF0ZSgwKTtcbiAgICBsZXQgc3ByaW5ncyA9IHVzZVNwcmluZ3ModXJscy5sZW5ndGgsIHVybHMubWFwKChfLCB1cmxLZXkpID0+ICh7XG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHsxMDAgKiAodXJsS2V5IC0ga2V5WzBdKX0lKWAsXG4gICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgfSkpKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCB0aW1lcjogVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiBrZXlbMV0obGFzdCA9PiAobGFzdCArIDEpICUgdXJscy5sZW5ndGgpLCBtc0ludGVydmFsU2xlZXApO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMCxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7c3ByaW5ncy5tYXAoKHNwcmluZywgc3ByaW5nS2V5KSA9PiA8PlxuICAgICAgICAgICAgICAgIDxhbmltYXRlZC5kaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtzcHJpbmdLZXl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zcHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt1cmxzW3NwcmluZ0tleV19KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBcIjJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XHJcbiAgICB0eXBlIFNwcmluZ0NvbXBvbmVudFByb3BzV2l0aFJlZixcclxuICAgIHR5cGUgUmVhY3ROb2RlLFxyXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXHJcbiAgICB1c2VTcHJpbmcsXHJcbiAgICB1c2VFZmZlY3QsXHJcbiAgICBhbmltYXRlZFxyXG59IGZyb20gXCJAd2ViXCI7XHJcblxyXG5leHBvcnQgdHlwZSBSZXZlYWxQcm9wcyA9IFxyXG4gICAgJiBTcHJpbmdDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cclxuICAgICYge1xyXG4gICAgbXNEZWxheT86IG51bWJlcixcclxuICAgIGFuaW1hdGlvbj86IFNwcmluZ0NvbmZpZ1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFJldmVhbCh7XHJcbiAgICBtc0RlbGF5PTAsXHJcbiAgICBhbmltYXRpb249e1xyXG4gICAgICAgIGR1cmF0aW9uOiAxNTAwMFxyXG4gICAgfSxcclxuICAgIHN0eWxlLFxyXG4gICAgY2hpbGRyZW4sXHJcbiAgICAuLi5tb3JlXHJcbn06IFJldmVhbFByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIGxldCBpbml0T3BhY2l0eTogc3RyaW5nID0gXCIwXCI7XHJcbiAgICBsZXQgbmV4dE9wYWNpdHk6IHN0cmluZyA9IFwiMVwiO1xyXG4gICAgbGV0IHNwcmluZyA9IHVzZVNwcmluZygoKSA9PiAoe1xyXG4gICAgICAgIG9wYWNpdHk6IGluaXRPcGFjaXR5LFxyXG4gICAgICAgIGRlbGF5OiBtc0RlbGF5XHJcbiAgICB9KSk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBzcHJpbmdbMV0uc3RhcnQoe1xyXG4gICAgICAgICAgICBvcGFjaXR5OiBuZXh0T3BhY2l0eSxcclxuICAgICAgICAgICAgY29uZmlnOiBhbmltYXRpb25cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9LCBbXSk7XHJcblxyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgey8qKiBAdHMtaWdub3JlICovfVxyXG4gICAgICAgIDxhbmltYXRlZC5kaXZcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgLi4uc3ByaW5nWzBdXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHsuLi5tb3JlfT5cclxuICAgICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvYW5pbWF0ZWQuZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJleHBvcnQgdHlwZSBDb2xvciA9IFtcbiAgICBzdHJpbmcsICAvLyBka1xuICAgIHN0cmluZywgIC8vIGx0XG4gICAgc3RyaW5nICAgLy8gYWNjZW50XG5dO1xuXG5leHBvcnQgY29uc3QgQ29sb3I6IENvbG9yID0gW1xuICAgIFwiIzBDMDUyN1wiLFxuICAgIFwiI0ZBRjZGNlwiLFxuICAgIFwiI0YxRDU1MFwiXG5dOyIsCiAgICAiZXhwb3J0IHR5cGUgRm9udCA9IFtcbiAgICBzdHJpbmcsICAvLyAwXG4gICAgc3RyaW5nLCAgLy8gMVxuICAgIHN0cmluZyAgIC8vIG1vbm9zcGFjZVxuXTtcblxuZXhwb3J0IGNvbnN0IEZvbnQ6IEZvbnQgPSBbXG4gICAgXCJLb25raG1lciBTbGVva2NoaGVyXCIsXG4gICAgXCJDb3JlIFNhbnMgQVwiLFxuICAgIFwiTWFyaWFcIlxuXTsiLAogICAgImV4cG9ydCBjb25zdCBTSEFET1c6IHN0cmluZyA9IFwicmdiYSgwLCAwLCAwLCAwLjA1KSAwcHggMHB4IDBweCAxcHhcIjsiLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgU0hBRE9XLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgRm9ybUJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImJ1dHRvblwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtQnV0dG9uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGFsbDogXCJ1bnNldFwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMV0sXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgcGFkZGluZzogNSxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleEdyb3c6IDEsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWZcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgRm9ybUlucHV0UHJvcHMgPVxuICAgICYgT21pdDxDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJpbnB1dFwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtSW5wdXQoe3N0eWxlLCAuLi5tb3JlfTogRm9ybUlucHV0UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUgICBcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtTWVzc2FnZVByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtTWVzc2FnZSh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogRm9ybU1lc3NhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBTSEFET1csXG4gICAgRm9udCxcbiAgICBDb2xvcixcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgRm9ybVByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gRm9ybSh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogRm9ybVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICBnYXA6IDIwLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwid2hpdGVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcclxuICAgIHR5cGUgUmVhY3ROb2RlLFxyXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXHJcbiAgICB0eXBlIFBhZ2VQcm9wcyxcclxuICAgIFBhZ2VcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMgPVxyXG4gICAgJiBQYWdlUHJvcHNcclxuICAgICYge1xyXG4gICAgc2VjdGlvbnM6IFtcclxuICAgICAgICBSZWFjdE5vZGUsXHJcbiAgICAgICAgUmVhY3ROb2RlXHJcbiAgICBdXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zKHtzZWN0aW9ucywgLi4ubW9yZX06IFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9uc1Byb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxQYWdlXHJcbiAgICAgICAgICAgIHsuLi5tb3JlfT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxleDogXCIxXCJcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1swXX08L19TZWN0aW9uPlxyXG4gICAgICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1sxXX08L19TZWN0aW9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L1BhZ2U+XHJcbiAgICA8Lz47XHJcbn1cclxuXHJcblxyXG50eXBlIF9TZWN0aW9uUHJvcHMgPVxyXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cclxuICAgICYge307XHJcblxyXG5mdW5jdGlvbiBfU2VjdGlvbih7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogX1NlY3Rpb25Qcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgZmxleDogXCIxXCIsXHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICB7Li4ubW9yZX0+XHJcbiAgICAgICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvPjtcclxufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFBhZ2VQcm9wcyxcbiAgICBQYWdlLFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMgPSBcbiAgICAmIFBhZ2VQcm9wc1xuICAgICYge1xuICAgIHNlY3Rpb25zOiBbXG4gICAgICAgIFJlYWN0Tm9kZSxcbiAgICAgICAgUmVhY3ROb2RlLFxuICAgICAgICBSZWFjdE5vZGVcbiAgICBdO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnMoe3NlY3Rpb25zLCAuLi5tb3JlfTogUGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzKSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxQYWdlIFxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1swXX08L19TZWN0aW9uPlxuICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1sxXX08L19TZWN0aW9uPlxuICAgICAgICAgICAgPF9TZWN0aW9uPntzZWN0aW9uc1syXX08L19TZWN0aW9uPlxuICAgICAgICA8L1BhZ2U+XG4gICAgPC8+O1xufVxuXG5cbnR5cGUgX1NlY3Rpb25Qcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgY2hpbGRyZW46IFJlYWN0Tm9kZTtcbn07XG5cbmZ1bmN0aW9uIF9TZWN0aW9uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBfU2VjdGlvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBQYWdlUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG5hdmJhcj86IFJlYWN0Tm9kZTtcbiAgICBmb290ZXI/OiBSZWFjdE5vZGU7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUGFnZSh7XG4gICAgbmF2YmFyLFxuICAgIGZvb3RlcixcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBQYWdlUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMHZ3XCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMHZoXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMTAyNCxcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDE0NDAsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IDY0LFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDY0XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge25hdmJhcn1cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7Zm9vdGVyfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PiAgICAgXG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZCdXR0b25Hcm91cFByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZCdXR0b25Hcm91cCh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogTmF2QnV0dG9uR3JvdXBQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgIGdhcDogMTAsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBDU1NQcm9wZXJ0aWVzLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIEZvbnQsXG4gICAgQ29sb3IsXG4gICAgdXNlU3ByaW5nLFxuICAgIGFuaW1hdGVkXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIGljb24/OiBzdHJpbmcsXG4gICAgaWNvblN0eWxlPzogQ1NTUHJvcGVydGllcyxcbiAgICBjaGlsZFN0eWxlPzogQ1NTUHJvcGVydGllcyxcbiAgICBhbmltYXRpb24/OiBTcHJpbmdDb25maWcsXG4gICAgZm9udFNpemVPbk1vdXNlRW50ZXI/OiBzdHJpbmcsXG4gICAgZm9udFNpemVPbk1vdXNlTGVhdmU/OiBzdHJpbmdcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZCdXR0b24oe1xuICAgIGljb24sXG4gICAgaWNvblN0eWxlLFxuICAgIGNoaWxkU3R5bGUsXG4gICAgYW5pbWF0aW9uLFxuICAgIGZvbnRTaXplT25Nb3VzZUVudGVyPVwiMC42ZW1cIixcbiAgICBmb250U2l6ZU9uTW91c2VMZWF2ZT1cIjAuN2VtXCIsXG4gICAgc3R5bGUsXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ubW9yZVxufTogTmF2QnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIGxldCBzcHJpbmcgPSB1c2VTcHJpbmcoKCkgPT4gKHtcbiAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUxlYXZlXG4gICAgfSkpO1xuICAgIFxuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGFsbDogXCJ1bnNldFwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uTGluZTogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7aWNvbiA/IDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7aWNvbn0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblg6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY29udGFpblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBcIjEgLyAxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5pY29uU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICAgICAge2NoaWxkcmVuID8gPD5cbiAgICAgICAgICAgICAgICB7LyoqIEB0cy1pZ25vcmUgKi99XG4gICAgICAgICAgICAgICAgPGFuaW1hdGVkLmRpdlxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUVudGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzcHJpbmdbMV0uc3RhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBmb250U2l6ZU9uTW91c2VMZWF2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWc6IGFuaW1hdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNwcmluZ1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmNoaWxkU3R5bGVcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L2FuaW1hdGVkLmRpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZUljb25Qcm9wcyxcbiAgICBCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT04sXG4gICAgU3ByaXRlSWNvblxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uUHJvcHMgPVxuICAgICYgT21pdDxTcHJpdGVJY29uUHJvcHMsIFwiY2hpbGRyZW5cIiB8IFwidXJsXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb24oe3N0eWxlLCAuLi5tb3JlfTogTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFNwcml0ZUljb25cbiAgICAgICAgICAgIHVybD17QklHX1NUQVJfQU5EX1NNQUxMRVJfU1RBUl9JQ09OfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIyNXB4XCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvbixcbiAgICBOYXZCdXR0b24sXG4gICAgTGluayxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZDYWxsVG9BY3Rpb25CdXR0b25Qcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICB0bzogc3RyaW5nO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbih7dG8sIHN0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IE5hdkNhbGxUb0FjdGlvbkJ1dHRvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgPE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb25cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogXCIxMDAlXCJcbiAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICAgIHRvPXt0b30+XG4gICAgICAgICAgICAgICAgPE5hdkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBjaGlsZFN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMV1cbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8L05hdkJ1dHRvbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZVByb3BzLFxuICAgIExPR08sXG4gICAgU3ByaXRlLFxuICAgIExpbmtcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2TG9nb1Byb3BzID1cbiAgICAmIE9taXQ8U3ByaXRlUHJvcHMsIFwiY2hpbGRyZW5cIiB8IFwidXJsXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkxvZ28oe3N0eWxlLCAuLi5tb3JlfTogTmF2TG9nb1Byb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPExpbmtcbiAgICAgICAgICAgIHRvPVwiL1wiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiY29udGVudHNcIlxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICA8U3ByaXRlXG4gICAgICAgICAgICAgICAgdXJsPXtMT0dPfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE1MHB4XCIsXG4gICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBcIjIgLyAxXCIsXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgICAgICA8L0xpbms+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIFNIQURPVyxcbiAgICBMaW5rLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2TWF0ZXJpYWxzRHJvcERvd25CdXR0b25Qcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBtYXRlcmlhbHM6IFN0YXRlPEFycmF5PHN0cmluZz4+LFxuICAgIG1hdGVyaWFsRm9jdXM6IFN0YXRlPHN0cmluZz4sXG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvbih7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgdG9nZ2xlZCxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVkWzFdKHRydWUpfVxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RvZ2dsZWRbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB0b2dnbGVkWzFdKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxMjAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPV1xuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge21hdGVyaWFsc1swXS5tYXAobWF0ZXJpYWwgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89XCIvc2hvd19yb29tXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBtYXRlcmlhbEZvY3VzWzFdKG1hdGVyaWFsKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttYXRlcmlhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIE5hdlByb3BzLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICB0eXBlIFVzZXJEYXRhLFxuICAgIE5hdixcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZQYXJ0aWFsQnVpbGRQcm9wcyA9IFxuICAgICYgT21pdDxOYXZQcm9wcyxcbiAgICAgICAgfCBcIm1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzZWFyY2hCYXJUb2dnbGVkXCJcbiAgICAgICAgfCBcInNlYXJjaEJhcklucHV0XCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PixcbiAgICBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4sXG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZQYXJ0aWFsQnVpbGQoe1xuICAgIG1hdGVyaWFscyxcbiAgICBtYXRlcmlhbEZvY3VzLFxuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICB1c2VyLFxuICAgIHVzZXJJc1NpZ25lZEluXG59OiBOYXZQYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IG1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IHNlYXJjaEJhclRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGxldCBzZWFyY2hCYXJJbnB1dDogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlxuICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkPXttYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWR9XG4gICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgIHNlYXJjaEJhclRvZ2dsZWQ9e3NlYXJjaEJhclRvZ2dsZWR9XG4gICAgICAgICAgICBzZWFyY2hCYXJJbnB1dD17c2VhcmNoQmFySW5wdXR9XG4gICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIE5hdlNlYXJjaEJhclByb3BzLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICBOYXZTZWFyY2hCYXIsXG4gICAgdXNlU3RhdGVcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2VhcmNoQmFyUGFydGlhbEJ1aWxkUHJvcHMgPVxuICAgICYgT21pdDxOYXZTZWFyY2hCYXJQcm9wcywgXG4gICAgICAgIHwgXCJwcm9kdWN0c1wiXG4gICAgICAgIHwgXCJwcm9kdWN0Rm9jdXNcIlxuICAgICAgICB8IFwidG9nZ2xlZFwiXG4gICAgICAgIHwgXCJpbnB1dFwiXG4gICAgICAgIHwgXCJzdWdnZXN0aW9uc1wiPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGQoe1xuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICAuLi5tb3JlXG59OiBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICAgIGxldCBpbnB1dDogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gICAgbGV0IHN1Z2dlc3Rpb25zOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+ID0gdXNlU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PihbXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlNlYXJjaEJhclxuICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICB0b2dnbGVkPXt0b2dnbGVkfVxuICAgICAgICAgICAgaW5wdXQ9e2lucHV0fVxuICAgICAgICAgICAgc3VnZ2VzdGlvbnM9e3N1Z2dlc3Rpb25zfVxuICAgICAgICAgICAgey4uLm1vcmV9Lz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICBTSEFET1csXG4gICAgU0VBUkNIX0JBUl9JQ09OLFxuICAgIE5hdlN1Z2dlc3Rpb24sXG4gICAgU3ByaXRlSWNvbixcbiAgICBGb250LFxuICAgIHVzZUVmZmVjdCxcbiAgICBzb3J0XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNlYXJjaEJhclByb3BzID1cbiAgICAmIE9taXQ8XG4gICAgICAgIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXG4gICAgICAgID5cbiAgICAmIHtcbiAgICBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PjtcbiAgICBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD47XG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj47XG4gICAgaW5wdXQ6IFN0YXRlPHN0cmluZz47XG4gICAgc3VnZ2VzdGlvbnM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U2VhcmNoQmFyKHtcbiAgICBwcm9kdWN0cyxcbiAgICBwcm9kdWN0Rm9jdXMsXG4gICAgdG9nZ2xlZCxcbiAgICBpbnB1dCxcbiAgICBzdWdnZXN0aW9ucyxcbiAgICBzdHlsZSxcbiAgICAuLi5tb3JlXG59OiBOYXZTZWFyY2hCYXJQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbGV0IGlucHV0Xzogc3RyaW5nID0gaW5wdXRbMF07XG4gICAgICAgIGlmIChpbnB1dF8udHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3VnZ2VzdGlvbnNfOiBBcnJheTxQcm9kdWN0RGF0YT4gPSBwcm9kdWN0c1swXTtcbiAgICAgICAgc3VnZ2VzdGlvbnNfXG4gICAgICAgICAgICAubWFwKHByb2R1Y3QgPT4gKHsuLi5wcm9kdWN0LCBzY29yZTogc29ydChpbnB1dF8sIHByb2R1Y3QubmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSB8fCBcIlwiKX0pKVxuICAgICAgICAgICAgLnNvcnQoKHgsIHkpID0+IHguc2NvcmUgLSB5LnNjb3JlKVxuICAgICAgICAgICAgLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgc3VnZ2VzdGlvbnNbMV0oc3VnZ2VzdGlvbnNfKTtcbiAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH0sIFtpbnB1dFswXV0pO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogXCIxXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICA8U3ByaXRlSWNvblxuICAgICAgICAgICAgICAgICAgICB1cmw9e1NFQVJDSF9CQVJfSUNPTn1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE1cHhcIlxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtpbnB1dFswXX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gaW5wdXRbMV0oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHt0b2dnbGVkWzBdID8gPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwid2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3Rpb25zWzBdLm1hcChzdWdnZXN0aW9uID0+IDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8TmF2U3VnZ2VzdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPVwiL3Byb2R1Y3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWQ9e3N1Z2dlc3Rpb259Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgQXN5bmNDbG9zdXJlLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgdHlwZSBGb3JtUHJvcHMsXG4gICAgRm9ybSxcbiAgICBGb3JtSW5wdXQsXG4gICAgRm9ybUJ1dHRvbixcbiAgICBGb3JtTWVzc2FnZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduSW5Gcm9tU2lnblVwQWN0aW9uID0gQXN5bmNDbG9zdXJlPFtcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduSW5Gb3JtVmFsaWRhdGVBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZvcm1Qcm9wcyA9IFxuICAgICYgT21pdDxGb3JtUHJvcHMsIFwiY2hpbGRyZW5cIj5cbiAgICAmIHtcbiAgICB1c2VybmFtZTogU3RhdGU8c3RyaW5nPixcbiAgICBwYXNzd29yZDogU3RhdGU8c3RyaW5nPixcbiAgICByZXNwb25zZTogU3RhdGU8c3RyaW5nIHwgbnVsbD4sXG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj4sXG4gICAgb25WYWxpZGF0aW9uOiBOYXZTaWduSW5Gb3JtVmFsaWRhdGVBY3Rpb24sXG4gICAgb25TaWduSW46IE5hdlNpZ25JbkZyb21TaWduVXBBY3Rpb25cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduSW5Gb3JtKHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICByZXNwb25zZSxcbiAgICB1c2VyLFxuICAgIHVzZXJJc1NpZ25lZEluLFxuICAgIG9uVmFsaWRhdGlvbixcbiAgICBvblNpZ25JbixcbiAgICAuLi5tb3JlXG59OiBOYXZTaWduSW5Gb3JtUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8Rm9ybVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPEZvcm1NZXNzYWdlPlxuICAgICAgICAgICAgICAgIHtyZXNwb25zZVswXX1cbiAgICAgICAgICAgIDwvRm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICA8Rm9ybUlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3VzZXJuYW1lWzBdfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVzZXJuYW1lWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZFswXX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBwYXNzd29yZFsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtQnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblZhbGlkYXRpb24odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgW3N1Y2Nlc3MsIG1lc3NhZ2VdID0gKGF3YWl0IG9uU2lnbkluKHVzZXJuYW1lWzBdLCBwYXNzd29yZFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgU2lnbiBJblxuICAgICAgICAgICAgPC9Gb3JtQnV0dG9uPlxuICAgICAgICA8L0Zvcm0+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgQXN5bmNDbG9zdXJlLFxuICAgIHR5cGUgRm9ybVByb3BzLFxuICAgIEZvcm0sXG4gICAgRm9ybUlucHV0LFxuICAgIEZvcm1CdXR0b24sXG4gICAgRm9ybU1lc3NhZ2Vcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnblVwRm9ybVNpZ25VcEFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtVmFsaWRhdGVBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICBlbWFpbDogc3RyaW5nXG5dLCBbXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCBudWxsXG5dPjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnblVwRm9ybVByb3BzID1cbiAgICAmIE9taXQ8Rm9ybVByb3BzLCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgdXNlcm5hbWU6IFN0YXRlPHN0cmluZz4sXG4gICAgcGFzc3dvcmQ6IFN0YXRlPHN0cmluZz4sXG4gICAgZW1haWw6IFN0YXRlPHN0cmluZz4sXG4gICAgcmVzcG9uc2U6IFN0YXRlPHN0cmluZyB8IG51bGw+LFxuICAgIG9uVmFsaWRhdGlvbjogTmF2U2lnblVwRm9ybVZhbGlkYXRlQWN0aW9uLFxuICAgIG9uU2lnblVwOiBOYXZTaWduVXBGb3JtU2lnblVwQWN0aW9uXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U2lnblVwRm9ybSh7XG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gICAgZW1haWwsXG4gICAgcmVzcG9uc2UsXG4gICAgb25WYWxpZGF0aW9uLFxuICAgIG9uU2lnblVwLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25VcEZvcm1Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxGb3JtXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7cmVzcG9uc2VbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxGb3JtTWVzc2FnZT5cbiAgICAgICAgICAgICAgICAgICAge3Jlc3BvbnNlWzBdfVxuICAgICAgICAgICAgICAgIDwvRm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICA8Lz4gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICA8Rm9ybUlucHV0IFxuICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbFswXX0gXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiIFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IGVtYWlsWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dCBcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWVbMF19IFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVXNlcm5hbWVcIiBcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB1c2VybmFtZVsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17cGFzc3dvcmRbMF19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gcGFzc3dvcmRbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN1Y2Nlc3M6IGJvb2xlYW47XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlOiBzdHJpbmcgfCBudWxsO1xuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25WYWxpZGF0aW9uKHVzZXJuYW1lWzBdLCBwYXNzd29yZFswXSwgZW1haWxbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsxXShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25TaWduVXAodXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdLCBlbWFpbFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgU2lnbiBVcFxuICAgICAgICAgICAgPC9Gb3JtQnV0dG9uPlxuICAgICAgICA8L0Zvcm0+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzLFxuICAgIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uLFxuICAgIE5hdlNpZ25VcEZvcm0sXG4gICAgTmF2U2lnbkluRm9ybSxcbiAgICBCcmlkZ2UsXG4gICAgdXNlU3RhdGUsXG4gICAgcmVxdWlyZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZFByb3BzID0gXG4gICAgJiBPbWl0PFxuICAgICAgICBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzLFxuICAgICAgICB8IFwidG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzaWduVXBUb2dnbGVkXCJcbiAgICAgICAgfCBcInNpZ25JblRvZ2dsZWRcIlxuICAgICAgICB8IFwic2lnblVwRm9ybVwiXG4gICAgICAgIHwgXCJzaWduSW5Gb3JtXCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIHVzZXI6IFN0YXRlPFVzZXJEYXRhIHwgbnVsbD4sXG4gICAgdXNlcklzU2lnbmVkSW46IFN0YXRlPGJvb2xlYW4+XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGQoe1xuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgLi4ubW9yZVxufTogTmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGxldCBzaWduVXBUb2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBsZXQgc2lnbkluVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgbGV0IHVzZXJuYW1lOiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGUoXCJcIik7XG4gICAgbGV0IHBhc3N3b3JkOiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGUoXCJcIik7XG4gICAgbGV0IGVtYWlsOiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGUoXCJcIik7XG5cbiAgICAvLyBAdHMtaWdub3JlXG4gICAgbGV0IHJlc3BvbnNlOiBTdGF0ZTxzdHJpbmcgfCBudWxsPiA9IHVzZVN0YXRlKG51bGwpO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxOYXZTaWduZXJEcm9wRG93bkJ1dHRvblxuICAgICAgICAgICAgdG9nZ2xlZD17dG9nZ2xlZH1cbiAgICAgICAgICAgIHNpZ25VcFRvZ2dsZWQ9e3NpZ25VcFRvZ2dsZWR9XG4gICAgICAgICAgICBzaWduSW5Ub2dnbGVkPXtzaWduSW5Ub2dnbGVkfVxuICAgICAgICAgICAgc2lnblVwRm9ybT17PD5cbiAgICAgICAgICAgICAgICA8TmF2U2lnblVwRm9ybVxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgZW1haWw9e2VtYWlsfVxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZT17cmVzcG9uc2V9XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGlvbj17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSh1c2VybmFtZS50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHBhc3N3b3JkLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoZW1haWwudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlOiB1bmtub3duKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgU3RyaW5nKGUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25TaWduVXA9e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGVtYWlsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGF3YWl0IEJyaWRnZS50b3VjaChcIi91c2VybmFtZV9pc19hdmFpbGFibGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGwgPSAoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3NpZ25fdXBcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZmFsc2UsIGVycmNvZGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIHNpZ25JbkZvcm09ezw+XG4gICAgICAgICAgICAgICAgPE5hdlNpZ25JbkZvcm1cbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU9e3VzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZD17cGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlPXtyZXNwb25zZX1cbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufVxuICAgICAgICAgICAgICAgICAgICBvblZhbGlkYXRpb249e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSh1c2VybmFtZS50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHBhc3N3b3JkLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbZmFsc2UsIFN0cmluZyhlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIG9uU2lnbkluPXthc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGwgPSAoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3NpZ25faW5cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZXJyY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICBOYXZCdXR0b25cbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnbmVyRHJvcERvd25CdXR0b25Qcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNpZ25VcFRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNpZ25JblRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNpZ25VcEZvcm06IFJlYWN0Tm9kZSxcbiAgICBzaWduSW5Gb3JtOiBSZWFjdE5vZGVcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvbih7XG4gICAgdG9nZ2xlZCxcbiAgICBzaWduVXBUb2dnbGVkLFxuICAgIHNpZ25JblRvZ2dsZWQsXG4gICAgc2lnblVwRm9ybSxcbiAgICBzaWduSW5Gb3JtLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPE5hdkJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcFRvZ2dsZWRbMV0odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIFVwXG4gICAgICAgICAgICA8L05hdkJ1dHRvbj5cbiAgICAgICAgICAgIDxOYXZCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZWRbMV0odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25JblRvZ2dsZWRbMV0odHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25VcFRvZ2dsZWRbMV0oZmFsc2UpO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCJcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICA8L05hdkJ1dHRvbj5cbiAgICAgICAgICAgIHt0b2dnbGVkWzBdID8gPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduSW5Ub2dnbGVkWzFdKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25VcFRvZ2dsZWRbMV0oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFwiLTEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxNzUlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDAwXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c2lnbkluVG9nZ2xlZFswXSA/IHNpZ25JbkZvcm0gOiBzaWduVXBUb2dnbGVkWzBdID8gc2lnblVwRm9ybSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgTGluayxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlN1Z2dlc3Rpb25Qcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbiAgICBzdWdnZXN0ZWQ6IFByb2R1Y3REYXRhO1xuICAgIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U3VnZ2VzdGlvbih7XG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHN1Z2dlc3RlZCxcbiAgICB0byxcbiAgICBzdHlsZSxcbiAgICAuLi5tb3JlXG59OiBOYXZTdWdnZXN0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8TGlua1xuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImNvbnRlbnRzXCJcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB0bz17dG99PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzMDogQXJyYXk8UHJvZHVjdERhdGE+ID0gcHJvZHVjdHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0OiBQcm9kdWN0RGF0YSB8IG51bGwgPSBwcm9kdWN0czBcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocHJvZHVjdDAgPT4gcHJvZHVjdDAubmFtZSA9PT0gc3VnZ2VzdGVkPy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0KDApIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXNbMV0ocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogOCxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3RlZC5uYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICDCo3tzdWdnZXN0ZWQucHJpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3RlZC5zdG9jay50b0ZpeGVkKDApfSBsZWZ0XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9MaW5rPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgTmF2TG9nbyxcbiAgICBOYXZCdXR0b24sXG4gICAgTmF2QnV0dG9uR3JvdXAsXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uLFxuICAgIE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uLFxuICAgIE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZCxcbiAgICBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZCxcbiAgICBMaW5rXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+LFxuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPixcbiAgICBzZWFyY2hCYXJUb2dnbGVkOiBTdGF0ZTxib29sZWFuPixcbiAgICBzZWFyY2hCYXJJbnB1dDogU3RhdGU8c3RyaW5nPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdih7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkLFxuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICBzZWFyY2hCYXJUb2dnbGVkLFxuICAgIHNlYXJjaEJhcklucHV0LFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAzMCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAzMCxcbiAgICAgICAgICAgICAgICBnYXA6IDQwLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMjAwMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxOYXZMb2dvLz5cbiAgICAgICAgICAgIDxOYXZCdXR0b25Hcm91cD5cbiAgICAgICAgICAgICAgICA8TmF2Q2FsbFRvQWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL2Zvcl95b3VcIj5cbiAgICAgICAgICAgICAgICAgICAgRm9yIFlvdVxuICAgICAgICAgICAgICAgIDwvTmF2Q2FsbFRvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxGb2N1cz17bWF0ZXJpYWxGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZD17bWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkfS8+XG4gICAgICAgICAgICA8L05hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgPE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c30vPlxuICAgICAgICAgICAgPE5hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL2Jhc2tldFwiPlxuICAgICAgICAgICAgICAgICAgICA8TmF2QnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgQmFza2V0XG4gICAgICAgICAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8TmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICA8L05hdkJ1dHRvbkdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9uc1Byb3BzLFxyXG4gICAgdHlwZSBPcmRlckRhdGEsXHJcbiAgICB0eXBlIFN0YXRlLFxyXG4gICAgUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zLFxyXG4gICAgVGFibGUsXHJcbiAgICBUYWJsZUl0ZW0sXHJcbiAgICBUYWJsZVN5bWJvbEJ1dHRvbixcclxuICAgIENoZWNrb3V0QnV0dG9uLFxyXG4gICAgVHlwb2dyYXBoeSxcclxuICAgIHVzZVN0YXRlLFxyXG4gICAgdXNlRWZmZWN0XHJcbn0gZnJvbSBcIkB3ZWJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEJhc2tldFBhZ2VQcm9wcyA9XHJcbiAgICAmIE9taXQ8UGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMsXHJcbiAgICAgICAgfCBcInNlY3Rpb25zXCJcclxuICAgICAgICB8IFwiY2hpbGRyZW5cIlxyXG4gICAgICAgID5cclxuICAgICYge1xyXG4gICAgb3JkZXJzOiBTdGF0ZTxBcnJheTxPcmRlckRhdGE+PlxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEJhc2tldFBhZ2Uoe29yZGVycywgLi4ubW9yZX06IEJhc2tldFBhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICBsZXQgY29zdDogU3RhdGU8bnVtYmVyPiA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XHJcblxyXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBpZiAob3JkZXJzWzBdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzdW06IG51bWJlciA9IDA7XHJcbiAgICAgICAgb3JkZXJzWzBdLmZvckVhY2gob3JkZXIgPT4gc3VtICs9IChvcmRlci5wcm9kdWN0LnByaWNlICogb3JkZXIuYW1vdW50KSk7XHJcbiAgICAgICAgY29zdFsxXShzdW0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0sIFtvcmRlcnNbMF1dKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9uc1xyXG4gICAgICAgICAgICBzZWN0aW9ucz17Wzw+XHJcbiAgICAgICAgICAgICAgICA8VGFibGVcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDgwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIlxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbj1cIkNoZWNrb3V0XCJcclxuICAgICAgICAgICAgICAgICAgICBoZWFkaW5ncz17W1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcmljZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkFtb3VudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVkaXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudHM9e1suLi5vcmRlcnNbMF0ubWFwKG9yZGVyID0+IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXIucHJvZHVjdC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5wcm9kdWN0LnByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5hbW91bnQsIDw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVJdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZVN5bWJvbEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVTeW1ib2xCdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlU3ltYm9sQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVTeW1ib2xCdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSXRlbT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC8+XHJcbiAgICAgICAgICAgICAgICAgICAgXSldfS8+XHJcbiAgICAgICAgICAgIDwvPiwgPD5cclxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgICAgIFRvdGFsOiDCo3tjb3N0WzBdLnRvUHJlY2lzaW9uKDMpfVxyXG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICAgICAgPENoZWNrb3V0QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJzPXtvcmRlcnN9Lz5cclxuICAgICAgICAgICAgPC8+XX1cclxuICAgICAgICAgICAgey4uLm1vcmV9Lz5cclxuICAgIDwvPjtcclxufSIsCiAgICAiaW1wb3J0IHtcclxuICAgIHR5cGUgUmVhY3ROb2RlLFxyXG4gICAgdHlwZSBUeXBvZ3JhcGh5UHJvcHMsXHJcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcclxuICAgIHR5cGUgUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMsXHJcbiAgICBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnMsXHJcbiAgICBJbWFnZUNhcm91c2VsLFxyXG4gICAgVHlwb2dyYXBoeSxcclxuICAgIENvbG9yXHJcbn0gZnJvbSBcIkB3ZWJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEZvcllvdVBhZ2VQcm9wcyA9XHJcbiAgICAmIE9taXQ8UGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMsXHJcbiAgICAgICAgfCBcInNlY3Rpb25zXCJcclxuICAgICAgICB8IFwiY2hpbGRyZW5cIlxyXG4gICAgICAgID5cclxuICAgICYge1xyXG4gICAgaW1hZ2VVcmxzOiBBcnJheTxzdHJpbmc+XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRm9yWW91UGFnZSh7aW1hZ2VVcmxzLCAuLi5tb3JlfTogRm9yWW91UGFnZVByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNcclxuICAgICAgICAgICAgc2VjdGlvbnM9e1s8PlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjEwcHhcIlxyXG4gICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxfSGVhZGluZy8+XHJcbiAgICAgICAgICAgICAgICAgICAgPF9DYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc9XCJDaG9vc2UgYSBTdHlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9XCJTZWxlY3QgeW91ciBwcmVmZXJyZWQgYXJjaGl0ZWN0dXJhbCBvciBkZXNpZ24gc3R5bGUgZm9yIGEgdGFpbG9yZWQgbG9vay5cIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgPF9DYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc9XCJJbnN0YW50IFZpc3VhbHNcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiU2VlIHBob3RvcmVhbGlzdGljIHJlbmRlcmluZyBvZiBob3cgbWF0ZXJpYWxzIGNhbiBiZSB1c2VkIGluIHlvdXIgaG9tZS5cIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgPF9DYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc9XCJDb25maWRlbmNlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD1cIlZpc3VhbGlzZSB5b3VyIHByb2plY3QgYmVmb3JlIHB1cmNoYXNpbmcuLi4gYmxlbmRpbmcgY3JlYXRpdml0eSB3aXRoIHN1c3RhaW5hYmlsaXR5LlwiLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8Lz4sIDw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCJcclxuICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiAyMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlQ2Fyb3VzZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogMSAvIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzPXtpbWFnZVVybHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc0ludGVydmFsU2xlZXA9ezE1MDAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlQ2Fyb3VzZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogMSAvIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzPXtpbWFnZVVybHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc0ludGVydmFsU2xlZXA9ezIwMDAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlQ2Fyb3VzZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogMSAvIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzPXtpbWFnZVVybHN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc0ludGVydmFsU2xlZXA9ezI1MDAwfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19Lz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlQ2Fyb3VzZWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MzAwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPl19XHJcbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XHJcbiAgICA8Lz47XHJcbn1cclxuXHJcbnR5cGUgX0hlYWRpbmdQcm9wcyA9XHJcbiAgICAmIE9taXQ8VHlwb2dyYXBoeVByb3BzLFxyXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXHJcbiAgICAgICAgPlxyXG4gICAgJiB7fTtcclxuXHJcbmZ1bmN0aW9uIF9IZWFkaW5nKHtzdHlsZSwgLi4ubW9yZX06IF9IZWFkaW5nUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiM2VtXCIsXHJcbiAgICAgICAgICAgICAgICBnYXA6IFwiMjBweFwiLFxyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0V3JhcDogXCJub3dyYXBcIlxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICBDb21pbmcgU29vbi4uLlxyXG4gICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXcmFwOiBcIm5vd3JhcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsyXVxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICBGb3IgWW91XHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvPjtcclxufVxyXG5cclxuXHJcbnR5cGUgX0NhcmRQcm9wcyA9XHJcbiAgICAmIE9taXQ8Q29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LFxyXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXHJcbiAgICAgICAgPlxyXG4gICAgJiB7XHJcbiAgICBoZWFkaW5nOiBzdHJpbmcsXHJcbiAgICBjb250ZW50OiBzdHJpbmdcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9DYXJkKHtoZWFkaW5nLCBjb250ZW50LCBzdHlsZSwgLi4ubW9yZX06IF9DYXJkUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHsuLi5tb3JlfT5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIlxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMmVtXCJcclxuICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICB7aGVhZGluZ31cclxuICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCJcclxuICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIHtjb250ZW50fVxyXG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvPjtcclxufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNQcm9wcyxcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcbiAgICBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zLFxuICAgIEltYWdlQ2Fyb3VzZWwsXG4gICAgVHlwb2dyYXBoeSxcbiAgICBDb2xvcixcbiAgICBSZXZlYWxcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgSG9tZVBhZ2VDYXJkID0ge1xuICAgIGhlYWRpbmc6IHN0cmluZyxcbiAgICBjb250ZW50OiBBcnJheTxzdHJpbmc+XG59O1xuXG5leHBvcnQgdHlwZSBIb21lUGFnZVByb3BzID1cbiAgICAmIE9taXQ8UGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzLFxuICAgICAgICB8IFwic2VjdGlvbnNcIj5cbiAgICAmIHtcbiAgICBpbWFnZUNhcm91c2VsVXJsczogQXJyYXk8c3RyaW5nPixcbiAgICBpbWFnZUNhcm91c2VsTXNJbnRlcnZhbFNsZWVwOiBudW1iZXIsXG4gICAgaW1hZ2VDYXJvdXNlbEFuaW1hdGlvbjogU3ByaW5nQ29uZmlnLFxuICAgIGhlYWRpbmc6IHN0cmluZyxcbiAgICBzdWJIZWFkaW5nczogQXJyYXk8c3RyaW5nPixcbiAgICBjYXJkcz86IEFycmF5PEhvbWVQYWdlQ2FyZD5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBIb21lUGFnZSh7XG4gICAgaW1hZ2VDYXJvdXNlbFVybHMsXG4gICAgaW1hZ2VDYXJvdXNlbE1zSW50ZXJ2YWxTbGVlcCxcbiAgICBpbWFnZUNhcm91c2VsQW5pbWF0aW9uLFxuICAgIGhlYWRpbmcsXG4gICAgc3ViSGVhZGluZ3MsXG4gICAgY2FyZHM9W10sXG4gICAgLi4ubW9yZVxufTogSG9tZVBhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zXG4gICAgICAgICAgICBzZWN0aW9ucz17Wzw+XG4gICAgICAgICAgICAgICAgPEltYWdlQ2Fyb3VzZWxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIxMHB4XCJcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgdXJscz17aW1hZ2VDYXJvdXNlbFVybHN9XG4gICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17aW1hZ2VDYXJvdXNlbE1zSW50ZXJ2YWxTbGVlcH1cbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXtpbWFnZUNhcm91c2VsQW5pbWF0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgPFJldmVhbFxuICAgICAgICAgICAgICAgICAgICAgICAgbXNEZWxheT17MTAwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCI5ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2hlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgIDwvUmV2ZWFsPlxuICAgICAgICAgICAgICAgIDwvSW1hZ2VDYXJvdXNlbD5cbiAgICAgICAgICAgIDwvPiwgPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiBcIjEwcHhcIlxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1YkhlYWRpbmdzLm1hcChzdWJIZWFkaW5nID0+IDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjRlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0OiBcIjMwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBcIjMwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJIZWFkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+LCA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IFwiMVwiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7Y2FyZHMubWFwKGNhcmQgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIzMHB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMmVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogXCIyMHB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmhlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXJkLmNvbnRlbnQubWFwKGxpbmUgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBcIjVweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtsaW5lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz5dfVxuICAgICAgICAgICAgey4uLm1vcmV9Lz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIFBhZ2VQcm9wcyxcclxuICAgIHR5cGUgQ2xvc3VyZSxcclxuICAgIHR5cGUgUHJvZHVjdERhdGEsXHJcbiAgICBTSEFET1csXHJcbiAgICBQYWdlLFxyXG4gICAgVGVybWluYWxQYXJ0aWFsQnVpbGQsXHJcbiAgICBCcmlkZ2VcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVGVybWluYWxQYWdlUHJvcHMgPVxyXG4gICAgJiBPbWl0PFBhZ2VQcm9wcyxcclxuICAgICAgICB8IFwiY2hpbGRyZW5cIlxyXG4gICAgICAgID5cclxuICAgICYge307XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVGVybWluYWxQYWdlKHsuLi5tb3JlfTogVGVybWluYWxQYWdlUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFBhZ2VcclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogNTAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8VGVybWluYWxQYXJ0aWFsQnVpbGRcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTBcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRXZhbD17YXN5bmMgY29tbWFuZHMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9rOiBbXCJPa1wiXSA9IFtcIk9rXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3I6IHN0cmluZyA9IGNvbW1hbmRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VsZWN0b3JUb0Nsb3N1cmVSZWNvcmQ6IFJlY29yZDxzdHJpbmcsIENsb3N1cmU8W10sIFByb21pc2U8QXJyYXk8c3RyaW5nPj4+PiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaGVscFwiOiBhc3luYyAoKSA9PiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXRlcmlhbHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzX3dpdGhfbWF0ZXJpYWx8bWF0ZXJpYWxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRfcHJpY2V8YWRtaW5fcGFzc3dvcmR8cHJvZHVjdF9rZXl8YW1vdW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRfc3RvY2t8YWRtaW5fcGFzc3dvcmR8cHJvZHVjdF9rZXl8YW1vdW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hdGVyaWFsc1wiOiBhc3luYyAoKSA9PiAoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL21hdGVyaWFsc1wiLCBudWxsKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInByb2R1Y3RzX3dpdGhfbWF0ZXJpYWxcIjogYXN5bmMgKCkgPT4gKGF3YWl0IEJyaWRnZS50b3VjaChcIi9wcm9kdWN0c19ieV9tYXRlcmlhbFwiLCBjb21tYW5kc1sxXSkpLm1hcChwcm9kdWN0ID0+IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgS2V5OiAke3Byb2R1Y3Qua2V5fWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYE5hbWU6ICR7cHJvZHVjdC5uYW1lfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYERlc2NyaXB0aW9uOiAke3Byb2R1Y3QuZGVzY3JpcHRpb259YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUHJpY2U6ICR7cHJvZHVjdC5wcmljZX1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBTdG9jazogJHtwcm9kdWN0LnN0b2NrfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYE1hdGVyaWFsOiAke3Byb2R1Y3QubWF0ZXJpYWx9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgSW1hZ2UgVXJsOiAke3Byb2R1Y3QuaW1hZ2VVcmx9YFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKFwiXFxuXCIpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogYXN5bmMgKCkgPT4gKGF3YWl0IEJyaWRnZS50b3VjaChcIi9wcm9kdWN0c1wiLCBudWxsKSkubWFwKHByb2R1Y3QgPT4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBLZXk6ICR7cHJvZHVjdC5rZXl9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTmFtZTogJHtwcm9kdWN0Lm5hbWV9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgRGVzY3JpcHRpb246ICR7cHJvZHVjdC5kZXNjcmlwdGlvbn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBQcmljZTogJHtwcm9kdWN0LnByaWNlfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFN0b2NrOiAke3Byb2R1Y3Quc3RvY2t9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTWF0ZXJpYWw6ICR7cHJvZHVjdC5tYXRlcmlhbH1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBJbWFnZSBVcmw6ICR7cHJvZHVjdC5pbWFnZVVybH1gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oXCJcXG5cIikpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRfcHJpY2VcIjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlID0gKGF3YWl0IEJyaWRnZS50b3VjaChcIi9zZXRfcHJpY2VcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pblBhc3N3b3JkOiBjb21tYW5kc1sxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEtleTogY29tbWFuZHNbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RBbW91bnQ6IE51bWJlcihjb21tYW5kc1szXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2V0X3N0b2NrXCI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZSA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2V0X3N0b2NrXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW5QYXNzd29yZDogY29tbWFuZHNbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RLZXk6IGNvbW1hbmRzWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0QW1vdW50OiBOdW1iZXIoQmlnSW50KGNvbW1hbmRzWzNdKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyY29kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9rO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlzdF9wcm9kdWN0XCI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc3dvcmQ6IHN0cmluZyA9IGNvbW1hbmRzWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0S2V5OiBzdHJpbmcgPSBjb21tYW5kc1syXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdE5hbWU6IHN0cmluZyA9IGNvbW1hbmRzWzNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0UHJpY2U6IG51bWJlciA9IE51bWJlcihjb21tYW5kc1s0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RTdG9jazogbnVtYmVyID0gTnVtYmVyKEJpZ0ludChjb21tYW5kc1s1XSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0TWF0ZXJpYWw6IHN0cmluZyA9IGNvbW1hbmRzWzZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0SW1hZ2VVcmw6IHN0cmluZyA9IGNvbW1hbmRzWzZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0RGVzY3JpcHRpb246IHN0cmluZyA9IGNvbW1hbmRzWzddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0OiBQcm9kdWN0RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBwcm9kdWN0S2V5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9kdWN0TmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb2R1Y3REZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IHByb2R1Y3RQcmljZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvY2s6IHByb2R1Y3RTdG9jayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHByb2R1Y3RNYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHByb2R1Y3RJbWFnZVVybFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycmNvZGUgPSAoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL2xpc3RcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pblBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogcHJvZHVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyY29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJjb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaXN0X3Byb2R1Y3Rfd2l0aG91dF9pbWFnZV91cmxcIjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXNzd29yZDogc3RyaW5nID0gY29tbWFuZHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RLZXk6IHN0cmluZyA9IGNvbW1hbmRzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0TmFtZTogc3RyaW5nID0gY29tbWFuZHNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RQcmljZTogbnVtYmVyID0gTnVtYmVyKGNvbW1hbmRzWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdFN0b2NrOiBudW1iZXIgPSBOdW1iZXIoQmlnSW50KGNvbW1hbmRzWzVdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RNYXRlcmlhbDogc3RyaW5nID0gY29tbWFuZHNbNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3REZXNjcmlwdGlvbjogc3RyaW5nID0gY29tbWFuZHNbN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3Q6IFByb2R1Y3REYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHByb2R1Y3RLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdERlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJvZHVjdFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogcHJvZHVjdFN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogcHJvZHVjdE1hdGVyaWFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZSA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvbGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluUGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpc3RfcHJvZHVjdF93aXRob3V0X2ltYWdlX3VybF9hbmRfZGVzY3JpcHRpb25cIjogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXNzd29yZDogc3RyaW5nID0gY29tbWFuZHNbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RLZXk6IHN0cmluZyA9IGNvbW1hbmRzWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0TmFtZTogc3RyaW5nID0gY29tbWFuZHNbM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RQcmljZTogbnVtYmVyID0gTnVtYmVyKGNvbW1hbmRzWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdFN0b2NrOiBudW1iZXIgPSBOdW1iZXIoQmlnSW50KGNvbW1hbmRzWzVdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RNYXRlcmlhbDogc3RyaW5nID0gY29tbWFuZHNbNl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3Q6IFByb2R1Y3REYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHByb2R1Y3RLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJvZHVjdFByaWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogcHJvZHVjdFN0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogcHJvZHVjdE1hdGVyaWFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZSA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvbGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluUGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRlbGlzdF9wcm9kdWN0XCI6IGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXJyY29kZSA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvZGVsaXN0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRtaW5QYXNzd29yZDogY29tbWFuZHNbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RLZXk6IGNvbW1hbmRzWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycmNvZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXdhaXQgc2VsZWN0b3JUb0Nsb3N1cmVSZWNvcmRbc2VsZWN0b3JdKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1N0cmluZyhlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9fS8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvUGFnZT4gICAgICAgIFxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcclxuICAgIHR5cGUgU3RhdGUsXHJcbiAgICB0eXBlIE9yZGVyRGF0YSxcclxuICAgIHR5cGUgU3RyaXBlU29ja2V0LFxyXG4gICAgU3RyaXBlLFxyXG4gICAgQnJpZGdlLFxyXG4gICAgQ29sb3IsXHJcbiAgICByZXF1aXJlXHJcbn0gZnJvbSBcIkB3ZWJcIjtcclxuXHJcbmxldCBfc29ja2V0OiBQcm9taXNlPFN0cmlwZVNvY2tldCB8IG51bGw+ID0gU3RyaXBlKFwicGtfdGVzdF81MVFLUkJVMksycm9IZ3NaREhzOGNndTI5ZklxelJsdnpGMW5tVjVtUGRTSFpoZTkzYmdFUTlIcXdvRFRkZXJ6QTdEV3dEZkZEcGlKVE1manFIdmdqSURReDAwYkYwcXFXVUxcIik7XHJcblxyXG5leHBvcnQgdHlwZSBDaGVja291dEJ1dHRvblByb3BzID1cclxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XHJcbiAgICAmIHtcclxuICAgIG9yZGVyczogU3RhdGU8QXJyYXk8T3JkZXJEYXRhPj5cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDaGVja291dEJ1dHRvbih7b3JkZXJzfTogQ2hlY2tvdXRCdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e2FzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCBzb2NrZXQ6IFN0cmlwZVNvY2tldCB8IG51bGwgPSAoYXdhaXQgX3NvY2tldCk7XHJcbiAgICAgICAgICAgICAgICByZXF1aXJlKHNvY2tldCAhPT0gbnVsbCwgXCJDSEVDS09VVF9CVVRUT04uRVJSX1NUUklQRV9DT1VMRF9OT1RfQkVfUkVBQ0hFRFwiKTtcclxuICAgICAgICAgICAgICAgIGxldCB7ZXJyY29kZSwgdXJsfSA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvY2hlY2tvdXRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZGVyczogb3JkZXJzWzBdXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyY29kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBDb2xvclswXSxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXSxcclxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxyXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxyXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCJcclxuICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgIFBheSBOb3dcclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvPjtcclxufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZVByb3BzLFxuICAgIFNwcml0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBTcHJpdGVJY29uUHJvcHMgPVxuICAgICYgU3ByaXRlUHJvcHNcbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaXRlSWNvbih7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogU3ByaXRlSWNvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFNwcml0ZVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogXCIxIC8gMVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1Nwcml0ZT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFNwcml0ZVByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHVybDogc3RyaW5nXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaXRlKHt1cmwsIHN0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFNwcml0ZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dXJsfSlgLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcImNvbnRhaW5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlQm9keVByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gVGFibGVCb2R5KHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBUYWJsZUJvZHlQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlQ2FwdGlvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZUNhcHRpb24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFRhYmxlQ2FwdGlvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMmVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlSGVhZGluZ1Byb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gVGFibGVIZWFkaW5nKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBUYWJsZUhlYWRpbmdQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS4yNWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAxMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUYWJsZUl0ZW1Qcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIFRhYmxlSXRlbSh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogVGFibGVJdGVtUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUYWJsZVJvd1Byb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gVGFibGVSb3coe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFRhYmxlUm93UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBTSEFET1csXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUYWJsZVN5bWJvbEJ1dHRvblByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBpbnZlcnNlPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZVN5bWJvbEJ1dHRvbih7aW52ZXJzZSwgc3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogVGFibGVTeW1ib2xCdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGludmVyc2UgPyBDb2xvclswXSA6IENvbG9yWzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBpbnZlcnNlID8gQ29sb3JbMV0gOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGVcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgVGFibGVXcmFwcGVyUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZVdyYXBwZXIoe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFRhYmxlV3JhcHBlclByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInNwYWNlLWJldHdlZW5cIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBnYXA6IDIwLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwic2Nyb2xsXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgVGFibGVXcmFwcGVyLFxuICAgIFRhYmxlUm93LFxuICAgIFRhYmxlQ2FwdGlvbixcbiAgICBUYWJsZUl0ZW0sXG4gICAgVGFibGVIZWFkaW5nLFxuICAgIFRhYmxlQm9keVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUYWJsZVByb3BzID0gXG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIGNhcHRpb246IFJlYWN0Tm9kZTtcbiAgICBoZWFkaW5nczogQXJyYXk8UmVhY3ROb2RlPjtcbiAgICBjb250ZW50czogQXJyYXk8QXJyYXk8UmVhY3ROb2RlPj47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gVGFibGUoe2NhcHRpb24sIGhlYWRpbmdzLCBjb250ZW50cywgc3R5bGUsIC4uLm1vcmV9OiBUYWJsZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8VGFibGVXcmFwcGVyPlxuICAgICAgICAgICAgICAgIDxUYWJsZVJvdz5cbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2FwdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjYXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2FwdGlvbj5cbiAgICAgICAgICAgICAgICA8L1RhYmxlUm93PlxuICAgICAgICAgICAgICAgIDxUYWJsZVJvdz5cbiAgICAgICAgICAgICAgICAgICAge2hlYWRpbmdzLm1hcChoZWFkaW5nID0+IDw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtoZWFkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVIZWFkaW5nPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgICAgICAgPC9UYWJsZVJvdz5cbiAgICAgICAgICAgICAgICB7Y29udGVudHMubWFwKGl0ZW0gPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW19XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQm9keT5cbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUl0ZW0+XG4gICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgIDwvVGFibGVXcmFwcGVyPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIEZvbnRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgVHlwb2dyYXBoeVByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBcbn07XG4gXG5leHBvcnQgZnVuY3Rpb24gVHlwb2dyYXBoeSh7XG4gICAgc3R5bGUsXG4gICAgY2hpbGRyZW4sXG4gICAgLi4ubW9yZVxufTogVHlwb2dyYXBoeVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIFJvb3Rcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihhcHA6IFJlYWN0Tm9kZSk6IHZvaWQge1xuICAgIGxldCBlbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJvb3RcIik7XG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgXCJFUlJfTUlTU0lOR19ST09UX0VMRU1FTlRcIjtcbiAgICB9XG4gICAgUm9vdChlbGVtZW50KS5yZW5kZXIoYXBwKTtcbn0iLAogICAgImltcG9ydCB7XHJcbiAgICB0eXBlIFJlYWN0Tm9kZSxcclxuICAgIHR5cGUgVGVybWluYWxQcm9wcyxcclxuICAgIHR5cGUgU3RhdGUsXHJcbiAgICBUZXJtaW5hbCxcclxuICAgIHVzZVN0YXRlXHJcbn0gZnJvbSBcIkB3ZWJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFRlcm1pbmFsUGFydGlhbEJ1aWxkUHJvcHMgPVxyXG4gICAgJiBPbWl0PFRlcm1pbmFsUHJvcHMsXHJcbiAgICAgICAgfCBcImxhc3RcIlxyXG4gICAgICAgIHwgXCJuZXh0XCJcclxuICAgICAgICA+XHJcbiAgICAmIHt9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFRlcm1pbmFsUGFydGlhbEJ1aWxkKHsuLi5tb3JlfTogVGVybWluYWxQYXJ0aWFsQnVpbGRQcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICBsZXQgbGFzdDogU3RhdGU8QXJyYXk8QXJyYXk8c3RyaW5nPj4+ID0gdXNlU3RhdGU8QXJyYXk8QXJyYXk8c3RyaW5nPj4+KFtdKTtcclxuICAgIGxldCBuZXh0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFRlcm1pbmFsXHJcbiAgICAgICAgICAgIGxhc3Q9e2xhc3R9XHJcbiAgICAgICAgICAgIG5leHQ9e25leHR9XHJcbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XHJcbiAgICA8Lz47XHJcbn0iLAogICAgImltcG9ydCB7XHJcbiAgICB0eXBlIFJlYWN0Tm9kZSxcclxuICAgIHR5cGUgU3RhdGUsXHJcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcclxuICAgIHR5cGUgQ2xvc3VyZSxcclxuICAgIEZvbnRcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgVGVybWluYWxFdmFsQWN0aW9uID0gQ2xvc3VyZTxbY29tbWFuZHM6IEFycmF5PHN0cmluZz5dLCBQcm9taXNlPEFycmF5PHN0cmluZz4+PjtcclxuXHJcbmV4cG9ydCB0eXBlIFRlcm1pbmFsUHJvcHMgPVxyXG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPixcclxuICAgICAgICB8IFwiY2hpbGRyZW5cIlxyXG4gICAgICAgID5cclxuICAgICYge1xyXG4gICAgbGFzdDogU3RhdGU8QXJyYXk8QXJyYXk8c3RyaW5nPj4+LFxyXG4gICAgbmV4dDogU3RhdGU8c3RyaW5nPixcclxuICAgIG9uRXZhbDogVGVybWluYWxFdmFsQWN0aW9uXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVGVybWluYWwoe2xhc3QsIG5leHQsIG9uRXZhbCwgc3R5bGUsIC4uLm1vcmV9OiBUZXJtaW5hbFByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxNixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IFwiaGlkZGVuXCIsXHJcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICB7bGFzdFswXS5tYXAoc2VjdGlvbiA9PiA8PlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJzdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi5tYXAobGluZSA9PiA8PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjAuNzVlbVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsyXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bGluZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8Lz4pfVxyXG4gICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMC43NWVtXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzJdXHJcbiAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJDb21tYW5kc1wiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmV4dFswXX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IG5leHRbMV0oZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgb25LZXlEb3duPXthc3luYyBlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgIT09IFwiRW50ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0WzBdLnRyaW0oKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dDogc3RyaW5nID0gbmV4dFswXTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWFuZHM6IEFycmF5PHN0cmluZz4gPSBpbnB1dC5zcGxpdChcInxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFsxXShcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0WzFdKGxhc3QgPT4gWy4uLmxhc3QsIFtpbnB1dF1dKTtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2U6IEFycmF5PHN0cmluZz4gPSAoYXdhaXQgb25FdmFsKGNvbW1hbmRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RbMV0obGFzdCA9PiBbLi4ubGFzdCwgW1wiT2tcIl1dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0WzFdKGxhc3QgPT4gWy4uLmxhc3QsIHJlc3BvbnNlXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFsxXShsYXN0ID0+IFsuLi5sYXN0LCBbU3RyaW5nKGUpXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICB0eXBlIFVzZXJEYXRhLFxuICAgIHR5cGUgT3JkZXJEYXRhLFxuICAgIFBMQUNFSE9MREVSLFxuICAgIEJyb3dzZXJSb3V0ZXIsXG4gICAgUm91dGVzLFxuICAgIFJvdXRlLFxuICAgIE5hdlBhcnRpYWxCdWlsZCxcbiAgICBIb21lUGFnZSxcbiAgICBGb3JZb3VQYWdlLFxuICAgIEJhc2tldFBhZ2UsXG4gICAgVGVybWluYWxQYWdlLFxuICAgIExpbmssXG4gICAgdXNlU3RhdGUsXG4gICAgcmVuZGVyLFxuICAgIFR5cG9ncmFwaHlcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZnVuY3Rpb24gQXBwKCk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IG9yZGVyczogU3RhdGU8QXJyYXk8T3JkZXJEYXRhPj4gPSB1c2VTdGF0ZTxBcnJheTxPcmRlckRhdGE+PihbXSk7XG4gICAgbGV0IG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4gPSB1c2VTdGF0ZTxBcnJheTxzdHJpbmc+PihbXSk7XG4gICAgbGV0IG1hdGVyaWFsRm9jdXM6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICAgIGxldCBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PiA9IHVzZVN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj4oW10pO1xuICAgIGxldCBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4gPSB1c2VTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+KG51bGwpO1xuICAgIGxldCB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+ID0gdXNlU3RhdGU8VXNlckRhdGEgfCBudWxsPihudWxsKTtcbiAgICBsZXQgdXNlcklzU2lnbmVkSW46IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgICAgPFJvdXRlcz5cbiAgICAgICAgICAgICAgICA8Um91dGVcbiAgICAgICAgICAgICAgICAgICAgcGF0aD1cIi9cIlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEhvbWVQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDYXJvdXNlbFVybHM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExBQ0VIT0xERVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDYXJvdXNlbE1zSW50ZXJ2YWxTbGVlcD17MzAwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNhcm91c2VsQW5pbWF0aW9uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIk9GRkNVVFNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkhlYWRpbmdzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmV2aXZlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJldXNlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlYnVpbGQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRzPXtbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiBcIldoeSBPZmZjdXRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU3VzdGFpbmFibGUgU29sdXRpb25zOiBEaXZlcnQgY29uc3RydWN0aW9uIHdhc3RlIGZyb20gbGFuZGZpbGxzIHdoaWxlIHN1cHBvcnRpbmcgZWNvLWZyaWVuZGx5IHByYWN0aWNlcy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQWZmb3JkYWJsZSBNYXRlcmlhbHM6IEFjY2VzcyBoaWdoLXF1YWxpdHkgcmVjbGFpbWVkIG1hdGVyaWFscyBhdCBhIGZyYWN0aW9uIG9mIHRoZSBjb3N0LlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJGYXN0ICYgRWFzeTogTGlzdCwgYnV5LCBvciByZXF1ZXN0IGxlZnR0b3ZlciBtYXRlcmlhbHMgd2l0aCBlYXNlLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc6IFwiRm9yIENvbnRyYWN0b3JzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVHVybiB5b3VyIHN1cnBsdXMgaW50byBwcm9maXQgd2l0aCBxdWljayBwaWNrdXBzIGFuZCBhIHNlYW1sZXNzIGxpc3RpbmcgcHJvY2Vzcy5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiBcIkZvciBCdXllcnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJGaW5kIHVuaXF1ZSwgc3VzdGFpbmFibGUgbWF0ZXJpYWxzIGZvciB5b3VyIG5leHQgcHJvamVjdCAtLSBiaWcgb3Igc21hbGwuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmJhcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE5hdlBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvPVwiL3Rlcm1pbmFsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogMTBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlcm1pbmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz59Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICAgICAgPFJvdXRlXG4gICAgICAgICAgICAgICAgICAgIHBhdGg9XCIvZm9yX3lvdVwiXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9yWW91UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmJhcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE5hdlBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJscz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExBQ0VIT0xERVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICAgICAgPFJvdXRlXG4gICAgICAgICAgICAgICAgICAgIHBhdGg9XCIvYmFza2V0XCJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudD17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCYXNrZXRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2YmFyPXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2UGFydGlhbEJ1aWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJzPXtvcmRlcnN9Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICAgICAgPFJvdXRlXG4gICAgICAgICAgICAgICAgICAgIHBhdGg9XCIvdGVybWluYWxcIlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRlcm1pbmFsUGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmJhcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE5hdlBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICAgICAgICAgIDwvPn0vPlxuICAgICAgICAgICAgPC9Sb3V0ZXM+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICA8Lz47XG59XG5cbnJlbmRlcig8QXBwLz4pOyIKICBdLAogICJtYXBwaW5ncyI6ICJ5ZkFXQSxTQUNZLEVBQUcsQ0FDWCxTQUFTLENBQXdCLENBQUMsRUFBWSxFQUFNLENBQ2xELE9BQU8sZUFBZSxFQUFVLFVBQVcsRUFBWSxDQUNyRCxZQUFjLEVBQUcsQ0FDZixRQUFRLEtBQ04sOERBQ0EsRUFBSyxHQUNMLEVBQUssRUFDUCxFQUVKLENBQUMsRUFFSCxTQUFTLENBQWEsQ0FBQyxFQUFlLENBQ3BDLEdBQWEsSUFBVCxhQUE4QyxJQUFwQixTQUM1QixPQUFPLEtBSVQsT0FIQSxFQUNHLElBQXlCLEVBQWMsS0FDeEMsRUFBYyxxQkFDYSxJQUF0QixXQUFzQyxFQUFnQixLQUUvRCxTQUFTLENBQVEsQ0FBQyxFQUFnQixFQUFZLENBQzVDLEdBQ0ksRUFBaUIsRUFBZSxlQUMvQixFQUFlLGFBQWUsRUFBZSxPQUNoRCxhQUNGLElBQUksRUFBYSxFQUFpQixJQUFNLEVBQ3hDLEdBQXdDLEtBQ3JDLFFBQVEsTUFDUCx3UEFDQSxFQUNBLENBQ0YsRUFDQyxHQUF3QyxHQUFjLElBRTNELFNBQVMsQ0FBUyxDQUFDLEVBQU8sRUFBUyxFQUFTLENBQzFDLEtBQUssTUFBUSxFQUNiLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxHQUNaLEtBQUssUUFBVSxH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
