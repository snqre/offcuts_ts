var Ww=Object.create;var{getPrototypeOf:Nw,defineProperty:nI,getOwnPropertyNames:Zw}=Object;var Jw=Object.prototype.hasOwnProperty;var l=(B,O,z)=>{z=B!=null?Ww(Nw(B)):{};let I=O||!B||!B.__esModule?nI(z,"default",{value:B,enumerable:!0}):z;for(let P of Zw(B))if(!Jw.call(I,P))nI(I,P,{get:()=>B[P],enumerable:!0});return I};var P0=(B,O)=>()=>(O||B((O={exports:{}}).exports,O),O.exports);var Qw=(B,O)=>{for(var z in O)nI(B,z,{get:O[z],enumerable:!0,configurable:!0,set:(I)=>O[z]=()=>I})};var fY=P0((ww,y2)=>{(function(){function B(J,M){Object.defineProperty(I.prototype,J,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",M[0],M[1])}})}function O(J){if(J===null||typeof J!=="object")return null;return J=sY&&J[sY]||J["@@iterator"],typeof J==="function"?J:null}function z(J,M){J=(J=J.constructor)&&(J.displayName||J.name)||"ReactClass";var c=J+"."+M;d$[c]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",M,J),d$[c]=!0)}function I(J,M,c){this.props=J,this.context=M,this.refs=_Y,this.updater=c||Y$}function P(){}function W(J,M,c){this.props=J,this.context=M,this.refs=_Y,this.updater=c||Y$}function Z(J){return""+J}function L(J){try{Z(J);var M=!1}catch(HY){M=!0}if(M){M=console;var c=M.error,s=typeof Symbol==="function"&&Symbol.toStringTag&&J[Symbol.toStringTag]||J.constructor.name||"Object";return c.call(M,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",s),Z(J)}}function Q(J){if(J==null)return null;if(typeof J==="function")return J.$$typeof===rY?null:J.displayName||J.name||null;if(typeof J==="string")return J;switch(J){case Q_:return"Fragment";case i_:return"Portal";case QB:return"Profiler";case uB:return"StrictMode";case mY:return"Suspense";case qB:return"SuspenseList"}if(typeof J==="object")switch(typeof J.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),J.$$typeof){case LB:return(J.displayName||"Context")+".Provider";case n_:return(J._context.displayName||"Context")+".Consumer";case L_:var M=J.render;return J=J.displayName,J||(J=M.displayName||M.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case q_:return M=J.displayName||null,M!==null?M:Q(J.type)||"Memo";case R0:M=J._payload,J=J._init;try{return Q(J(M))}catch(c){}}return null}function q(J){return typeof J==="string"||typeof J==="function"||J===Q_||J===QB||J===uB||J===mY||J===qB||J===u1||typeof J==="object"&&J!==null&&(J.$$typeof===R0||J.$$typeof===q_||J.$$typeof===LB||J.$$typeof===n_||J.$$typeof===L_||J.$$typeof===T_||J.getModuleId!==void 0)?!0:!1}function w(){}function C(){if($K===0){o_=console.log,RB=console.info,R_=console.warn,CB=console.error,hK=console.group,cz=console.groupCollapsed,LO=console.groupEnd;var J={configurable:!0,enumerable:!0,value:w,writable:!0};Object.defineProperties(console,{info:J,log:J,warn:J,error:J,group:J,groupCollapsed:J,groupEnd:J})}$K++}function D(){if($K--,$K===0){var J={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},J,{value:o_}),info:x({},J,{value:RB}),warn:x({},J,{value:R_}),error:x({},J,{value:CB}),group:x({},J,{value:hK}),groupCollapsed:x({},J,{value:cz}),groupEnd:x({},J,{value:LO})})}0>$K&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function T(J){if(p1===void 0)try{throw Error()}catch(c){var M=c.stack.trim().match(/\n( *(at )?)/);p1=M&&M[1]||"",qO=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+p1+J+qO}function U(J,M){if(!J||i1)return"";var c=n1.get(J);if(c!==void 0)return c;i1=!0,c=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var s=null;s=r.H,r.H=null,C();try{var HY={DetermineComponentFrameRoot:function(){try{if(M){var C_=function(){throw Error()};if(Object.defineProperty(C_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(C_,[])}catch(s_){var l$=s_}Reflect.construct(J,[],C_)}else{try{C_.call()}catch(s_){l$=s_}J.call(C_.prototype)}}else{try{throw Error()}catch(s_){l$=s_}(C_=J())&&typeof C_.catch==="function"&&C_.catch(function(){})}}catch(s_){if(s_&&l$&&typeof s_.stack==="string")return[s_.stack,l$.stack]}return[null,null]}};HY.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var PY=Object.getOwnPropertyDescriptor(HY.DetermineComponentFrameRoot,"name");PY&&PY.configurable&&Object.defineProperty(HY.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var OY=HY.DetermineComponentFrameRoot(),hY=OY[0],CY=OY[1];if(hY&&CY){var WK=hY.split(`
`),dK=CY.split(`
`);for(OY=PY=0;PY<WK.length&&!WK[PY].includes("DetermineComponentFrameRoot");)PY++;for(;OY<dK.length&&!dK[OY].includes("DetermineComponentFrameRoot");)OY++;if(PY===WK.length||OY===dK.length)for(PY=WK.length-1,OY=dK.length-1;1<=PY&&0<=OY&&WK[PY]!==dK[OY];)OY--;for(;1<=PY&&0<=OY;PY--,OY--)if(WK[PY]!==dK[OY]){if(PY!==1||OY!==1)do if(PY--,OY--,0>OY||WK[PY]!==dK[OY]){var oB=`
`+WK[PY].replace(" at new "," at ");return J.displayName&&oB.includes("<anonymous>")&&(oB=oB.replace("<anonymous>",J.displayName)),typeof J==="function"&&n1.set(J,oB),oB}while(1<=PY&&0<=OY);break}}}finally{i1=!1,r.H=s,D(),Error.prepareStackTrace=c}return WK=(WK=J?J.displayName||J.name:"")?T(WK):"",typeof J==="function"&&n1.set(J,WK),WK}function m(J){if(J==null)return"";if(typeof J==="function"){var M=J.prototype;return U(J,!(!M||!M.isReactComponent))}if(typeof J==="string")return T(J);switch(J){case mY:return T("Suspense");case qB:return T("SuspenseList")}if(typeof J==="object")switch(J.$$typeof){case L_:return J=U(J.render,!1),J;case q_:return m(J.type);case R0:M=J._payload,J=J._init;try{return m(J(M))}catch(c){}}return""}function S(){var J=r.A;return J===null?null:J.getOwner()}function y(J){if(AK.call(J,"key")){var M=Object.getOwnPropertyDescriptor(J,"key").get;if(M&&M.isReactWarning)return!1}return J.key!==void 0}function b(J,M){function c(){uz||(uz=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",M))}c.isReactWarning=!0,Object.defineProperty(J,"key",{get:c,configurable:!0})}function i(){var J=Q(this.type);return pB[J]||(pB[J]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),J=this.props.ref,J!==void 0?J:null}function u(J,M,c,s,HY,PY){return c=PY.ref,J={$$typeof:pK,type:J,key:M,props:PY,_owner:HY},(c!==void 0?c:null)!==null?Object.defineProperty(J,"ref",{enumerable:!1,get:i}):Object.defineProperty(J,"ref",{enumerable:!1,value:null}),J._store={},Object.defineProperty(J._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(J,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(J.props),Object.freeze(J)),J}function $Y(J,M){return M=u(J.type,M,void 0,void 0,J._owner,J.props),M._store.validated=J._store.validated,M}function jY(J,M){if(typeof J==="object"&&J&&J.$$typeof!==lz){if(GK(J))for(var c=0;c<J.length;c++){var s=J[c];ZY(s)&&yY(s,M)}else if(ZY(J))J._store&&(J._store.validated=1);else if(c=O(J),typeof c==="function"&&c!==J.entries&&(c=c.call(J),c!==J))for(;!(J=c.next()).done;)ZY(J.value)&&yY(J.value,M)}}function ZY(J){return typeof J==="object"&&J!==null&&J.$$typeof===pK}function yY(J,M){if(J._store&&!J._store.validated&&J.key==null&&(J._store.validated=1,M=qY(M),!iB[M])){iB[M]=!0;var c="";J&&J._owner!=null&&J._owner!==S()&&(c=null,typeof J._owner.tag==="number"?c=Q(J._owner.type):typeof J._owner.name==="string"&&(c=J._owner.name),c=" It was passed a child from "+c+".");var s=r.getCurrentStack;r.getCurrentStack=function(){var HY=m(J.type);return s&&(HY+=s()||""),HY},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',M,c),r.getCurrentStack=s}}function qY(J){var M="",c=S();return c&&(c=Q(c.type))&&(M=`

Check the render method of \``+c+"`."),M||(J=Q(J))&&(M=`

Check the top-level render call using <`+J+">."),M}function _K(J){var M={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(c){return M[c]})}function BK(J,M){return typeof J==="object"&&J!==null&&J.key!=null?(L(J.key),_K(""+J.key)):M.toString(36)}function RK(){}function z_(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status==="string"?J.then(RK,RK):(J.status="pending",J.then(function(M){J.status==="pending"&&(J.status="fulfilled",J.value=M)},function(M){J.status==="pending"&&(J.status="rejected",J.reason=M)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function KY(J,M,c,s,HY){var PY=typeof J;if(PY==="undefined"||PY==="boolean")J=null;var OY=!1;if(J===null)OY=!0;else switch(PY){case"bigint":case"string":case"number":OY=!0;break;case"object":switch(J.$$typeof){case pK:case i_:OY=!0;break;case R0:return OY=J._init,KY(OY(J._payload),M,c,s,HY)}}if(OY){OY=J,HY=HY(OY);var hY=s===""?"."+BK(OY,0):s;return GK(HY)?(c="",hY!=null&&(c=hY.replace(C0,"$&/")+"/"),KY(HY,M,c,"",function(WK){return WK})):HY!=null&&(ZY(HY)&&(HY.key!=null&&(OY&&OY.key===HY.key||L(HY.key)),c=$Y(HY,c+(HY.key==null||OY&&OY.key===HY.key?"":(""+HY.key).replace(C0,"$&/")+"/")+hY),s!==""&&OY!=null&&ZY(OY)&&OY.key==null&&OY._store&&!OY._store.validated&&(c._store.validated=2),HY=c),M.push(HY)),1}if(OY=0,hY=s===""?".":s+":",GK(J))for(var CY=0;CY<J.length;CY++)s=J[CY],PY=hY+BK(s,CY),OY+=KY(s,M,c,PY,HY);else if(CY=O(J),typeof CY==="function")for(CY===J.entries&&(K$||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),K$=!0),J=CY.call(J),CY=0;!(s=J.next()).done;)s=s.value,PY=hY+BK(s,CY++),OY+=KY(s,M,c,PY,HY);else if(PY==="object"){if(typeof J.then==="function")return KY(z_(J),M,c,s,HY);throw M=String(J),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return OY}function e(J,M,c){if(J==null)return J;var s=[],HY=0;return KY(J,s,"","",function(PY){return M.call(c,PY,HY++)}),s}function RY(J){if(J._status===-1){var M=J._result;M=M(),M.then(function(c){if(J._status===0||J._status===-1)J._status=1,J._result=c},function(c){if(J._status===0||J._status===-1)J._status=2,J._result=c}),J._status===-1&&(J._status=0,J._result=M)}if(J._status===1)return M=J._result,M===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,M),"default"in M||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,M),M.default;throw J._result}function zY(){var J=r.H;return J===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),J}function cY(){}function aY(J){if(wB===null)try{var M=("require"+Math.random()).slice(0,7);wB=(y2&&y2[M]).call(y2,"timers").setImmediate}catch(c){wB=function(s){nB===!1&&(nB=!0,typeof MessageChannel==="undefined"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var HY=new MessageChannel;HY.port1.onmessage=s,HY.port2.postMessage(void 0)}}return wB(J)}function oY(J){return 1<J.length&&typeof AggregateError==="function"?new AggregateError(J):J[0]}function uY(J,M){M!==AB-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),AB=M}function kY(J,M,c){var s=r.actQueue;if(s!==null)if(s.length!==0)try{PK(s),aY(function(){return kY(J,M,c)});return}catch(HY){r.thrownErrors.push(HY)}else r.actQueue=null;0<r.thrownErrors.length?(s=oY(r.thrownErrors),r.thrownErrors.length=0,c(s)):M(J)}function PK(J){if(!s1){s1=!0;var M=0;try{for(;M<J.length;M++){var c=J[M];do{r.didUsePromise=!1;var s=c(!1);if(s!==null){if(r.didUsePromise){J[M]=c,J.splice(0,M);return}c=s}else break}while(1)}J.length=0}catch(HY){J.splice(0,M+1),r.thrownErrors.push(HY)}finally{s1=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var pK=Symbol.for("react.transitional.element"),i_=Symbol.for("react.portal"),Q_=Symbol.for("react.fragment"),uB=Symbol.for("react.strict_mode"),QB=Symbol.for("react.profiler");Symbol.for("react.provider");var n_=Symbol.for("react.consumer"),LB=Symbol.for("react.context"),L_=Symbol.for("react.forward_ref"),mY=Symbol.for("react.suspense"),qB=Symbol.for("react.suspense_list"),q_=Symbol.for("react.memo"),R0=Symbol.for("react.lazy"),u1=Symbol.for("react.offscreen"),sY=Symbol.iterator,d$={},Y$={isMounted:function(){return!1},enqueueForceUpdate:function(J){z(J,"forceUpdate")},enqueueReplaceState:function(J){z(J,"replaceState")},enqueueSetState:function(J){z(J,"setState")}},x=Object.assign,_Y={};Object.freeze(_Y),I.prototype.isReactComponent={},I.prototype.setState=function(J,M){if(typeof J!=="object"&&typeof J!=="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,M,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};var BY={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},gY;for(gY in BY)BY.hasOwnProperty(gY)&&B(gY,BY[gY]);P.prototype=I.prototype,BY=W.prototype=new P,BY.constructor=W,x(BY,I.prototype),BY.isPureReactComponent=!0;var GK=Array.isArray,rY=Symbol.for("react.client.reference"),r={H:null,A:null,T:null,S:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null},AK=Object.prototype.hasOwnProperty,T_=Symbol.for("react.client.reference"),$K=0,o_,RB,R_,CB,hK,cz,LO;w.__reactDisabledLog=!0;var p1,qO,i1=!1,n1=new(typeof WeakMap==="function"?WeakMap:Map),lz=Symbol.for("react.client.reference"),uz,o1,pB={},iB={},K$=!1,C0=/\/+/g,FK=typeof reportError==="function"?reportError:function(J){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J==="object"&&J!==null&&typeof J.message==="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(M))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",J);return}console.error(J)},nB=!1,wB=null,AB=0,_$=!1,s1=!1,c$=typeof queueMicrotask==="function"?function(J){queueMicrotask(function(){return queueMicrotask(J)})}:aY;ww.Children={map:e,forEach:function(J,M,c){e(J,function(){M.apply(this,arguments)},c)},count:function(J){var M=0;return e(J,function(){M++}),M},toArray:function(J){return e(J,function(M){return M})||[]},only:function(J){if(!ZY(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},ww.Component=I,ww.Fragment=Q_,ww.Profiler=QB,ww.PureComponent=W,ww.StrictMode=uB,ww.Suspense=mY,ww.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ww.act=function(J){var M=r.actQueue,c=AB;AB++;var s=r.actQueue=M!==null?M:[],HY=!1;try{var PY=J()}catch(CY){r.thrownErrors.push(CY)}if(0<r.thrownErrors.length)throw uY(M,c),J=oY(r.thrownErrors),r.thrownErrors.length=0,J;if(PY!==null&&typeof PY==="object"&&typeof PY.then==="function"){var OY=PY;return c$(function(){HY||_$||(_$=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(CY,WK){HY=!0,OY.then(function(dK){if(uY(M,c),c===0){try{PK(s),aY(function(){return kY(dK,CY,WK)})}catch(C_){r.thrownErrors.push(C_)}if(0<r.thrownErrors.length){var oB=oY(r.thrownErrors);r.thrownErrors.length=0,WK(oB)}}else CY(dK)},function(dK){uY(M,c),0<r.thrownErrors.length?(dK=oY(r.thrownErrors),r.thrownErrors.length=0,WK(dK)):WK(dK)})}}}var hY=PY;if(uY(M,c),c===0&&(PK(s),s.length!==0&&c$(function(){HY||_$||(_$=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),r.actQueue=null),0<r.thrownErrors.length)throw J=oY(r.thrownErrors),r.thrownErrors.length=0,J;return{then:function(CY,WK){HY=!0,c===0?(r.actQueue=s,aY(function(){return kY(hY,CY,WK)})):CY(hY)}}},ww.cache=function(J){return function(){return J.apply(null,arguments)}},ww.cloneElement=function(J,M,c){if(J===null||J===void 0)throw Error("The argument must be a React element, but you passed "+J+".");var s=x({},J.props),HY=J.key,PY=J._owner;if(M!=null){var OY;Y:{if(AK.call(M,"ref")&&(OY=Object.getOwnPropertyDescriptor(M,"ref").get)&&OY.isReactWarning){OY=!1;break Y}OY=M.ref!==void 0}OY&&(PY=S()),y(M)&&(L(M.key),HY=""+M.key);for(hY in M)!AK.call(M,hY)||hY==="key"||hY==="__self"||hY==="__source"||hY==="ref"&&M.ref===void 0||(s[hY]=M[hY])}var hY=arguments.length-2;if(hY===1)s.children=c;else if(1<hY){OY=Array(hY);for(var CY=0;CY<hY;CY++)OY[CY]=arguments[CY+2];s.children=OY}s=u(J.type,HY,void 0,void 0,PY,s);for(HY=2;HY<arguments.length;HY++)jY(arguments[HY],s.type);return s},ww.createContext=function(J){return J={$$typeof:LB,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:n_,_context:J},J._currentRenderer=null,J._currentRenderer2=null,J},ww.createElement=function(J,M,c){if(q(J))for(var s=2;s<arguments.length;s++)jY(arguments[s],J);else{if(s="",J===void 0||typeof J==="object"&&J!==null&&Object.keys(J).length===0)s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";if(J===null)var HY="null";else GK(J)?HY="array":J!==void 0&&J.$$typeof===pK?(HY="<"+(Q(J.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):HY=typeof J;console.error("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",HY,s)}var PY;if(s={},HY=null,M!=null)for(PY in o1||!("__self"in M)||"key"in M||(o1=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),y(M)&&(L(M.key),HY=""+M.key),M)AK.call(M,PY)&&PY!=="key"&&PY!=="__self"&&PY!=="__source"&&(s[PY]=M[PY]);var OY=arguments.length-2;if(OY===1)s.children=c;else if(1<OY){for(var hY=Array(OY),CY=0;CY<OY;CY++)hY[CY]=arguments[CY+2];Object.freeze&&Object.freeze(hY),s.children=hY}if(J&&J.defaultProps)for(PY in OY=J.defaultProps,OY)s[PY]===void 0&&(s[PY]=OY[PY]);return HY&&b(s,typeof J==="function"?J.displayName||J.name||"Unknown":J),u(J,HY,void 0,void 0,S(),s)},ww.createRef=function(){var J={current:null};return Object.seal(J),J},ww.forwardRef=function(J){J!=null&&J.$$typeof===q_?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof J!=="function"?console.error("forwardRef requires a render function but was given %s.",J===null?"null":typeof J):J.length!==0&&J.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",J.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),J!=null&&J.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var M={$$typeof:L_,render:J},c;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return c},set:function(s){c=s,J.name||J.displayName||(Object.defineProperty(J,"name",{value:s}),J.displayName=s)}}),M},ww.isValidElement=ZY,ww.lazy=function(J){return{$$typeof:R0,_payload:{_status:-1,_result:J},_init:RY}},ww.memo=function(J,M){q(J)||console.error("memo: The first argument must be a component. Instead received: %s",J===null?"null":typeof J),M={$$typeof:q_,type:J,compare:M===void 0?null:M};var c;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return c},set:function(s){c=s,J.name||J.displayName||(Object.defineProperty(J,"name",{value:s}),J.displayName=s)}}),M},ww.startTransition=function(J){var M=r.T,c={};r.T=c,c._updatedFibers=new Set;try{var s=J(),HY=r.S;HY!==null&&HY(c,s),typeof s==="object"&&s!==null&&typeof s.then==="function"&&s.then(cY,FK)}catch(PY){FK(PY)}finally{M===null&&c._updatedFibers&&(J=c._updatedFibers.size,c._updatedFibers.clear(),10<J&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),r.T=M}},ww.unstable_useCacheRefresh=function(){return zY().useCacheRefresh()},ww.use=function(J){return zY().use(J)},ww.useActionState=function(J,M,c){return zY().useActionState(J,M,c)},ww.useCallback=function(J,M){return zY().useCallback(J,M)},ww.useContext=function(J){var M=zY();return J.$$typeof===n_&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),M.useContext(J)},ww.useDebugValue=function(J,M){return zY().useDebugValue(J,M)},ww.useDeferredValue=function(J,M){return zY().useDeferredValue(J,M)},ww.useEffect=function(J,M){return zY().useEffect(J,M)},ww.useId=function(){return zY().useId()},ww.useImperativeHandle=function(J,M,c){return zY().useImperativeHandle(J,M,c)},ww.useInsertionEffect=function(J,M){return zY().useInsertionEffect(J,M)},ww.useLayoutEffect=function(J,M){return zY().useLayoutEffect(J,M)},ww.useMemo=function(J,M){return zY().useMemo(J,M)},ww.useOptimistic=function(J,M){return zY().useOptimistic(J,M)},ww.useReducer=function(J,M,c){return zY().useReducer(J,M,c)},ww.useRef=function(J){return zY().useRef(J)},ww.useState=function(J){return zY().useState(J)},ww.useSyncExternalStore=function(J,M,c){return zY().useSyncExternalStore(J,M,c)},ww.useTransition=function(){return zY().useTransition()},ww.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var A9=P0((Aw)=>{(function(){function B(){if(yY){var e=Aw.unstable_now();BK=e;var RY=!0;try{Y:{i=!1,u&&(u=!1,jY(qY),qY=-1),b=!0;var zY=y;try{K:{W(e);for(S=z(T);S!==null&&!(S.expirationTime>e&&L());){var cY=S.callback;if(typeof cY==="function"){S.callback=null,y=S.priorityLevel;var aY=cY(S.expirationTime<=e);if(e=Aw.unstable_now(),typeof aY==="function"){S.callback=aY,W(e),RY=!0;break K}S===z(T)&&I(T),W(e)}else I(T);S=z(T)}if(S!==null)RY=!0;else{var oY=z(U);oY!==null&&q(Z,oY.startTime-e),RY=!1}}break Y}finally{S=null,y=zY,b=!1}RY=void 0}}finally{RY?RK():yY=!1}}}function O(e,RY){var zY=e.length;e.push(RY);Y:for(;0<zY;){var cY=zY-1>>>1,aY=e[cY];if(0<P(aY,RY))e[cY]=RY,e[zY]=aY,zY=cY;else break Y}}function z(e){return e.length===0?null:e[0]}function I(e){if(e.length===0)return null;var RY=e[0],zY=e.pop();if(zY!==RY){e[0]=zY;Y:for(var cY=0,aY=e.length,oY=aY>>>1;cY<oY;){var uY=2*(cY+1)-1,kY=e[uY],PK=uY+1,pK=e[PK];if(0>P(kY,zY))PK<aY&&0>P(pK,kY)?(e[cY]=pK,e[PK]=zY,cY=PK):(e[cY]=kY,e[uY]=zY,cY=uY);else if(PK<aY&&0>P(pK,zY))e[cY]=pK,e[PK]=zY,cY=PK;else break Y}}return RY}function P(e,RY){var zY=e.sortIndex-RY.sortIndex;return zY!==0?zY:e.id-RY.id}function W(e){for(var RY=z(U);RY!==null;){if(RY.callback===null)I(U);else if(RY.startTime<=e)I(U),RY.sortIndex=RY.expirationTime,O(T,RY);else break;RY=z(U)}}function Z(e){if(u=!1,W(e),!i)if(z(T)!==null)i=!0,Q();else{var RY=z(U);RY!==null&&q(Z,RY.startTime-e)}}function L(){return Aw.unstable_now()-BK<_K?!1:!0}function Q(){yY||(yY=!0,RK())}function q(e,RY){qY=$Y(function(){e(Aw.unstable_now())},RY)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),Aw.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var w=performance;Aw.unstable_now=function(){return w.now()}}else{var C=Date,D=C.now();Aw.unstable_now=function(){return C.now()-D}}var T=[],U=[],m=1,S=null,y=3,b=!1,i=!1,u=!1,$Y=typeof setTimeout==="function"?setTimeout:null,jY=typeof clearTimeout==="function"?clearTimeout:null,ZY=typeof setImmediate!=="undefined"?setImmediate:null,yY=!1,qY=-1,_K=5,BK=-1;if(typeof ZY==="function")var RK=function(){ZY(B)};else if(typeof MessageChannel!=="undefined"){var z_=new MessageChannel,KY=z_.port2;z_.port1.onmessage=B,RK=function(){KY.postMessage(null)}}else RK=function(){$Y(B,0)};Aw.unstable_IdlePriority=5,Aw.unstable_ImmediatePriority=1,Aw.unstable_LowPriority=4,Aw.unstable_NormalPriority=3,Aw.unstable_Profiling=null,Aw.unstable_UserBlockingPriority=2,Aw.unstable_cancelCallback=function(e){e.callback=null},Aw.unstable_continueExecution=function(){i||b||(i=!0,Q())},Aw.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_K=0<e?Math.floor(1000/e):5},Aw.unstable_getCurrentPriorityLevel=function(){return y},Aw.unstable_getFirstCallbackNode=function(){return z(T)},Aw.unstable_next=function(e){switch(y){case 1:case 2:case 3:var RY=3;break;default:RY=y}var zY=y;y=RY;try{return e()}finally{y=zY}},Aw.unstable_pauseExecution=function(){},Aw.unstable_requestPaint=function(){},Aw.unstable_runWithPriority=function(e,RY){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var zY=y;y=e;try{return RY()}finally{y=zY}},Aw.unstable_scheduleCallback=function(e,RY,zY){var cY=Aw.unstable_now();switch(typeof zY==="object"&&zY!==null?(zY=zY.delay,zY=typeof zY==="number"&&0<zY?cY+zY:cY):zY=cY,e){case 1:var aY=-1;break;case 2:aY=250;break;case 5:aY=1073741823;break;case 4:aY=1e4;break;default:aY=5000}return aY=zY+aY,e={id:m++,callback:RY,priorityLevel:e,startTime:zY,expirationTime:aY,sortIndex:-1},zY>cY?(e.sortIndex=zY,O(U,e),z(T)===null&&e===z(U)&&(u?(jY(qY),qY=-1):u=!0,q(Z,zY-cY))):(e.sortIndex=aY,O(T,e),i||b||(i=!0,Q())),e},Aw.unstable_shouldYield=L,Aw.unstable_wrapCallback=function(e){var RY=y;return function(){var zY=y;y=RY;try{return e.apply(this,arguments)}finally{y=zY}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var E9=P0((Ew)=>{var rI=l(fY(),1);(function(){function B(){}function O(w){return""+w}function z(w,C,D){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{O(T);var U=!1}catch(m){U=!0}return U&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&T[Symbol.toStringTag]||T.constructor.name||"Object"),O(T)),{$$typeof:Q,key:T==null?null:""+T,children:w,containerInfo:C,implementation:D}}function I(w,C){if(w==="font")return"";if(typeof C==="string")return C==="use-credentials"?C:""}function P(w){return w===null?"`null`":w===void 0?"`undefined`":w===""?"an empty string":'something with type "'+typeof w+'"'}function W(w){return w===null?"`null`":w===void 0?"`undefined`":w===""?"an empty string":typeof w==="string"?JSON.stringify(w):typeof w==="number"?"`"+w+"`":'something with type "'+typeof w+'"'}function Z(){var w=q.H;return w===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),w}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var L={d:{f:B,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:B,C:B,L:B,m:B,X:B,S:B,M:B},p:0,findDOMNode:null},Q=Symbol.for("react.portal"),q=rI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Ew.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Ew.createPortal=function(w,C){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error("Target container is not a DOM element.");return z(w,C,null,D)},Ew.flushSync=function(w){var C=q.T,D=L.p;try{if(q.T=null,L.p=2,w)return w()}finally{q.T=C,L.p=D,L.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},Ew.preconnect=function(w,C){typeof w==="string"&&w?C!=null&&typeof C!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",W(C)):C!=null&&typeof C.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",P(C.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",P(w)),typeof w==="string"&&(C?(C=C.crossOrigin,C=typeof C==="string"?C==="use-credentials"?C:"":void 0):C=null,L.d.C(w,C))},Ew.prefetchDNS=function(w){if(typeof w!=="string"||!w)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",P(w));else if(1<arguments.length){var C=arguments[1];typeof C==="object"&&C.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(C)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(C))}typeof w==="string"&&L.d.D(w)},Ew.preinit=function(w,C){if(typeof w==="string"&&w?C==null||typeof C!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",W(C)):C.as!=="style"&&C.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',W(C.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",P(w)),typeof w==="string"&&C&&typeof C.as==="string"){var D=C.as,T=I(D,C.crossOrigin),U=typeof C.integrity==="string"?C.integrity:void 0,m=typeof C.fetchPriority==="string"?C.fetchPriority:void 0;D==="style"?L.d.S(w,typeof C.precedence==="string"?C.precedence:void 0,{crossOrigin:T,integrity:U,fetchPriority:m}):D==="script"&&L.d.X(w,{crossOrigin:T,integrity:U,fetchPriority:m,nonce:typeof C.nonce==="string"?C.nonce:void 0})}},Ew.preinitModule=function(w,C){var D="";if(typeof w==="string"&&w||(D+=" The `href` argument encountered was "+P(w)+"."),C!==void 0&&typeof C!=="object"?D+=" The `options` argument encountered was "+P(C)+".":C&&("as"in C)&&C.as!=="script"&&(D+=" The `as` option encountered was "+W(C.as)+"."),D)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",D);else switch(D=C&&typeof C.as==="string"?C.as:"script",D){case"script":break;default:D=W(D),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',D,w)}if(typeof w==="string")if(typeof C==="object"&&C!==null){if(C.as==null||C.as==="script")D=I(C.as,C.crossOrigin),L.d.M(w,{crossOrigin:D,integrity:typeof C.integrity==="string"?C.integrity:void 0,nonce:typeof C.nonce==="string"?C.nonce:void 0})}else C==null&&L.d.M(w)},Ew.preload=function(w,C){var D="";if(typeof w==="string"&&w||(D+=" The `href` argument encountered was "+P(w)+"."),C==null||typeof C!=="object"?D+=" The `options` argument encountered was "+P(C)+".":typeof C.as==="string"&&C.as||(D+=" The `as` option encountered was "+P(C.as)+"."),D&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',D),typeof w==="string"&&typeof C==="object"&&C!==null&&typeof C.as==="string"){D=C.as;var T=I(D,C.crossOrigin);L.d.L(w,D,{crossOrigin:T,integrity:typeof C.integrity==="string"?C.integrity:void 0,nonce:typeof C.nonce==="string"?C.nonce:void 0,type:typeof C.type==="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority==="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy==="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet==="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes==="string"?C.imageSizes:void 0,media:typeof C.media==="string"?C.media:void 0})}},Ew.preloadModule=function(w,C){var D="";typeof w==="string"&&w||(D+=" The `href` argument encountered was "+P(w)+"."),C!==void 0&&typeof C!=="object"?D+=" The `options` argument encountered was "+P(C)+".":C&&("as"in C)&&typeof C.as!=="string"&&(D+=" The `as` option encountered was "+P(C.as)+"."),D&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',D),typeof w==="string"&&(C?(D=I(C.as,C.crossOrigin),L.d.m(w,{as:typeof C.as==="string"&&C.as!=="script"?C.as:void 0,crossOrigin:D,integrity:typeof C.integrity==="string"?C.integrity:void 0})):L.d.m(w))},Ew.requestFormReset=function(w){L.d.r(w)},Ew.unstable_batchedUpdates=function(w,C){return w(C)},Ew.useFormState=function(w,C,D){return Z().useFormState(w,C,D)},Ew.useFormStatus=function(){return Z().useHostTransitionStatus()},Ew.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var tI=P0((QD,V9)=>{V9.exports=E9()});var x9=P0((Vw)=>{var dY=l(A9(),1),sH=l(fY(),1),eI=l(tI(),1);(function(){function B(Y,K){for(Y=Y.memoizedState;Y!==null&&0<K;)Y=Y.next,K--;return Y}function O(Y,K,_,$){if(_>=K.length)return $;var H=K[_],X=sK(Y)?Y.slice():FY({},Y);return X[H]=O(Y[H],K,_+1,$),X}function z(Y,K,_){if(K.length!==_.length)console.warn("copyWithRename() expects paths of the same length");else{for(var $=0;$<_.length-1;$++)if(K[$]!==_[$]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return I(Y,K,_,0)}}function I(Y,K,_,$){var H=K[$],X=sK(Y)?Y.slice():FY({},Y);return $+1===K.length?(X[_[$]]=X[H],sK(X)?X.splice(H,1):delete X[H]):X[H]=I(Y[H],K,_,$+1),X}function P(Y,K,_){var $=K[_],H=sK(Y)?Y.slice():FY({},Y);if(_+1===K.length)return sK(H)?H.splice($,1):delete H[$],H;return H[$]=P(Y[$],K,_+1),H}function W(){return!1}function Z(){return null}function L(Y,K,_,$){return new jq(Y,K,_,$)}function Q(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function q(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function w(){}function C(){}function D(Y){var K=[];return Y.forEach(function(_){K.push(_)}),K.sort().join(", ")}function T(Y,K){Y.context===L$&&(mN(K,Y,null,null),XH())}function U(Y,K){if(_B!==null){var _=K.staleFamilies;K=K.updatedFamilies,O1(),i7(Y.current,K,_),XH()}}function m(Y){_B=Y}function S(Y){return!(!Y||Y.nodeType!==1&&Y.nodeType!==9&&Y.nodeType!==11)}function y(Y){if(Y===null||typeof Y!=="object")return null;return Y=aN&&Y[aN]||Y["@@iterator"],typeof Y==="function"?Y:null}function b(Y){if(Y==null)return null;if(typeof Y==="function")return Y.$$typeof===kR?null:Y.displayName||Y.name||null;if(typeof Y==="string")return Y;switch(Y){case ZH:return"Fragment";case NH:return"Portal";case S4:return"Profiler";case m8:return"StrictMode";case y4:return"Suspense";case k4:return"SuspenseList"}if(typeof Y==="object")switch(typeof Y.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),Y.$$typeof){case K0:return(Y.displayName||"Context")+".Provider";case T4:return(Y._context.displayName||"Context")+".Consumer";case rO:var K=Y.render;return Y=Y.displayName,Y||(Y=K.displayName||K.name||"",Y=Y!==""?"ForwardRef("+Y+")":"ForwardRef"),Y;case h8:return K=Y.displayName||null,K!==null?K:b(Y.type)||"Memo";case b_:K=Y._payload,Y=Y._init;try{return b(Y(K))}catch(_){}}return null}function i(Y){return typeof Y.tag==="number"?u(Y):typeof Y.name==="string"?Y.name:null}function u(Y){var K=Y.type;switch(Y.tag){case 24:return"Cache";case 9:return(K._context.displayName||"Context")+".Consumer";case 10:return(K.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Y=K.render,Y=Y.displayName||Y.name||"",K.displayName||(Y!==""?"ForwardRef("+Y+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return K;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(K);case 8:return K===m8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof K==="function")return K.displayName||K.name||null;if(typeof K==="string")return K;break;case 29:if(K=Y._debugInfo,K!=null){for(var _=K.length-1;0<=_;_--)if(typeof K[_].name==="string")return K[_].name}if(Y.return!==null)return u(Y.return)}return null}function $Y(){}function jY(){if(tO===0){rN=console.log,tN=console.info,eN=console.warn,Y3=console.error,K3=console.group,_3=console.groupCollapsed,B3=console.groupEnd;var Y={configurable:!0,enumerable:!0,value:$Y,writable:!0};Object.defineProperties(console,{info:Y,log:Y,warn:Y,error:Y,group:Y,groupCollapsed:Y,groupEnd:Y})}tO++}function ZY(){if(tO--,tO===0){var Y={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:FY({},Y,{value:rN}),info:FY({},Y,{value:tN}),warn:FY({},Y,{value:eN}),error:FY({},Y,{value:Y3}),group:FY({},Y,{value:K3}),groupCollapsed:FY({},Y,{value:_3}),groupEnd:FY({},Y,{value:B3})})}0>tO&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function yY(Y){if(g4===void 0)try{throw Error()}catch(_){var K=_.stack.trim().match(/\n( *(at )?)/);g4=K&&K[1]||"",$3=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+g4+Y+$3}function qY(Y,K){if(!Y||j4)return"";var _=b4.get(Y);if(_!==void 0)return _;j4=!0,_=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var $=null;$=f.H,f.H=null,jY();try{var H={DetermineComponentFrameRoot:function(){try{if(K){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(IY){var p=IY}Reflect.construct(Y,[],j)}else{try{j.call()}catch(IY){p=IY}Y.call(j.prototype)}}else{try{throw Error()}catch(IY){p=IY}(j=Y())&&typeof j.catch==="function"&&j.catch(function(){})}}catch(IY){if(IY&&p&&typeof IY.stack==="string")return[IY.stack,p.stack]}return[null,null]}};H.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(H.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(H.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=H.DetermineComponentFrameRoot(),N=G[0],R=G[1];if(N&&R){var A=N.split(`
`),g=R.split(`
`);for(G=X=0;X<A.length&&!A[X].includes("DetermineComponentFrameRoot");)X++;for(;G<g.length&&!g[G].includes("DetermineComponentFrameRoot");)G++;if(X===A.length||G===g.length)for(X=A.length-1,G=g.length-1;1<=X&&0<=G&&A[X]!==g[G];)G--;for(;1<=X&&0<=G;X--,G--)if(A[X]!==g[G]){if(X!==1||G!==1)do if(X--,G--,0>G||A[X]!==g[G]){var d=`
`+A[X].replace(" at new "," at ");return Y.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",Y.displayName)),typeof Y==="function"&&b4.set(Y,d),d}while(1<=X&&0<=G);break}}}finally{j4=!1,f.H=$,ZY(),Error.prepareStackTrace=_}return A=(A=Y?Y.displayName||Y.name:"")?yY(A):"",typeof Y==="function"&&b4.set(Y,A),A}function _K(Y){switch(Y.tag){case 26:case 27:case 5:return yY(Y.type);case 16:return yY("Lazy");case 13:return yY("Suspense");case 19:return yY("SuspenseList");case 0:case 15:return Y=qY(Y.type,!1),Y;case 11:return Y=qY(Y.type.render,!1),Y;case 1:return Y=qY(Y.type,!0),Y;default:return""}}function BK(Y){try{var K="";do{K+=_K(Y);var _=Y._debugInfo;if(_)for(var $=_.length-1;0<=$;$--){var H=_[$];if(typeof H.name==="string"){var X=K,G=H.env,N=yY(H.name+(G?" ["+G+"]":""));K=X+N}}Y=Y.return}while(Y);return K}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function RK(){if(B_===null)return null;var Y=B_._debugOwner;return Y!=null?i(Y):null}function z_(){return B_===null?"":BK(B_)}function KY(Y,K,_,$,H,X,G){var N=B_;f.getCurrentStack=Y===null?null:z_,YB=!1,B_=Y;try{return K(_,$,H,X,G)}finally{B_=N}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function e(Y){var K=Y,_=Y;if(Y.alternate)for(;K.return;)K=K.return;else{Y=K;do K=Y,(K.flags&4098)!==0&&(_=K.return),Y=K.return;while(Y)}return K.tag===3?_:null}function RY(Y){if(Y.tag===13){var K=Y.memoizedState;if(K===null&&(Y=Y.alternate,Y!==null&&(K=Y.memoizedState)),K!==null)return K.dehydrated}return null}function zY(Y){if(e(Y)!==Y)throw Error("Unable to find node on an unmounted component.")}function cY(Y){var K=Y.alternate;if(!K){if(K=e(Y),K===null)throw Error("Unable to find node on an unmounted component.");return K!==Y?null:Y}for(var _=Y,$=K;;){var H=_.return;if(H===null)break;var X=H.alternate;if(X===null){if($=H.return,$!==null){_=$;continue}break}if(H.child===X.child){for(X=H.child;X;){if(X===_)return zY(H),Y;if(X===$)return zY(H),K;X=X.sibling}throw Error("Unable to find node on an unmounted component.")}if(_.return!==$.return)_=H,$=X;else{for(var G=!1,N=H.child;N;){if(N===_){G=!0,_=H,$=X;break}if(N===$){G=!0,$=H,_=X;break}N=N.sibling}if(!G){for(N=X.child;N;){if(N===_){G=!0,_=X,$=H;break}if(N===$){G=!0,$=X,_=H;break}N=N.sibling}if(!G)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(_.alternate!==$)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(_.tag!==3)throw Error("Unable to find node on an unmounted component.");return _.stateNode.current===_?Y:K}function aY(Y){var K=Y.tag;if(K===5||K===26||K===27||K===6)return Y;for(Y=Y.child;Y!==null;){if(K=aY(Y),K!==null)return K;Y=Y.sibling}return null}function oY(Y){return{current:Y}}function uY(Y,K){0>U0?console.error("Unexpected pop."):(K!==f4[U0]&&console.error("Unexpected Fiber popped."),Y.current=v4[U0],v4[U0]=null,f4[U0]=null,U0--)}function kY(Y,K,_){U0++,v4[U0]=Y.current,f4[U0]=_,Y.current=K}function PK(Y){return Y===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),Y}function pK(Y,K){kY(Z$,K,Y),kY(eO,Y,Y),kY(N$,null,Y);var _=K.nodeType;switch(_){case 9:case 11:_=_===9?"#document":"#fragment",K=(K=K.documentElement)?(K=K.namespaceURI)?AN(K):d0:d0;break;default:if(K=_===8?K.parentNode:K,_=K.tagName,K=K.namespaceURI)K=AN(K),K=EN(K,_);else switch(_){case"svg":K=nH;break;case"math":K=x2;break;default:K=d0}}_=_.toLowerCase(),_=jG(null,_),_={context:K,ancestorInfo:_},uY(N$,Y),kY(N$,_,Y)}function i_(Y){uY(N$,Y),uY(eO,Y),uY(Z$,Y)}function Q_(){return PK(N$.current)}function uB(Y){Y.memoizedState!==null&&kY(d8,Y,Y);var K=PK(N$.current),_=Y.type,$=EN(K.context,_);_=jG(K.ancestorInfo,_),$={context:$,ancestorInfo:_},K!==$&&(kY(eO,Y,Y),kY(N$,$,Y))}function QB(Y){eO.current===Y&&(uY(N$,Y),uY(eO,Y)),d8.current===Y&&(uY(d8,Y),bX._currentValue=S1)}function n_(Y){return typeof Symbol==="function"&&Symbol.toStringTag&&Y[Symbol.toStringTag]||Y.constructor.name||"Object"}function LB(Y){try{return L_(Y),!1}catch(K){return!0}}function L_(Y){return""+Y}function mY(Y,K){if(LB(Y))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",K,n_(Y)),L_(Y)}function qB(Y,K){if(LB(Y))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",K,n_(Y)),L_(Y)}function q_(Y){if(LB(Y))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",n_(Y)),L_(Y)}function R0(Y){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined")return!1;var K=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(K.isDisabled)return!0;if(!K.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{QH=K.inject(Y),$_=K}catch(_){console.error("React instrumentation encountered an error: %s.",_)}return K.checkDCE?!0:!1}function u1(Y,K){if($_&&typeof $_.onCommitFiberRoot==="function")try{var _=(Y.current.flags&128)===128;switch(K){case FB:var $=h4;break;case DB:$=d4;break;case $0:$=JH;break;case u8:$=c4;break;default:$=JH}$_.onCommitFiberRoot(QH,Y,$,_)}catch(H){B0||(B0=!0,console.error("React instrumentation encountered an error: %s",H))}}function sY(Y){if(typeof hR==="function"&&dR(Y),$_&&typeof $_.setStrictMode==="function")try{$_.setStrictMode(QH,Y)}catch(K){B0||(B0=!0,console.error("React instrumentation encountered an error: %s",K))}}function d$(Y){YY=Y}function Y$(){YY!==null&&typeof YY.markCommitStopped==="function"&&YY.markCommitStopped()}function x(Y){YY!==null&&typeof YY.markComponentRenderStarted==="function"&&YY.markComponentRenderStarted(Y)}function _Y(){YY!==null&&typeof YY.markComponentRenderStopped==="function"&&YY.markComponentRenderStopped()}function BY(Y){YY!==null&&typeof YY.markRenderStarted==="function"&&YY.markRenderStarted(Y)}function gY(){YY!==null&&typeof YY.markRenderStopped==="function"&&YY.markRenderStopped()}function GK(Y,K){YY!==null&&typeof YY.markStateUpdateScheduled==="function"&&YY.markStateUpdateScheduled(Y,K)}function rY(Y){return Y>>>=0,Y===0?32:31-(cR(Y)/lR|0)|0}function r(Y){if(Y&1)return"SyncHydrationLane";if(Y&2)return"Sync";if(Y&4)return"InputContinuousHydration";if(Y&8)return"InputContinuous";if(Y&16)return"DefaultHydration";if(Y&32)return"Default";if(Y&64)return"TransitionHydration";if(Y&4194176)return"Transition";if(Y&62914560)return"Retry";if(Y&67108864)return"SelectiveHydration";if(Y&134217728)return"IdleHydration";if(Y&268435456)return"Idle";if(Y&536870912)return"Offscreen";if(Y&1073741824)return"Deferred"}function AK(Y){var K=Y&42;if(K!==0)return K;switch(Y&-Y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Y&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return Y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),Y}}function T_(Y,K){var _=Y.pendingLanes;if(_===0)return 0;var $=0,H=Y.suspendedLanes,X=Y.pingedLanes,G=Y.warmLanes;Y=Y.finishedLanes!==0;var N=_&134217727;return N!==0?(_=N&~H,_!==0?$=AK(_):(X&=N,X!==0?$=AK(X):Y||(G=N&~G,G!==0&&($=AK(G))))):(N=_&~H,N!==0?$=AK(N):X!==0?$=AK(X):Y||(G=_&~G,G!==0&&($=AK(G)))),$===0?0:K!==0&&K!==$&&(K&H)===0&&(H=$&-$,G=K&-K,H>=G||H===32&&(G&4194176)!==0)?K:$}function $K(Y,K){return(Y.pendingLanes&~(Y.suspendedLanes&~Y.pingedLanes)&K)===0}function o_(Y,K){switch(Y){case 1:case 2:case 4:case 8:return K+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return K+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function RB(){var Y=c8;return c8<<=1,(c8&4194176)===0&&(c8=128),Y}function R_(){var Y=l8;return l8<<=1,(l8&62914560)===0&&(l8=4194304),Y}function CB(Y){for(var K=[],_=0;31>_;_++)K.push(Y);return K}function hK(Y,K){Y.pendingLanes|=K,K!==268435456&&(Y.suspendedLanes=0,Y.pingedLanes=0,Y.warmLanes=0)}function cz(Y,K,_,$,H,X){var G=Y.pendingLanes;Y.pendingLanes=_,Y.suspendedLanes=0,Y.pingedLanes=0,Y.warmLanes=0,Y.expiredLanes&=_,Y.entangledLanes&=_,Y.errorRecoveryDisabledLanes&=_,Y.shellSuspendCounter=0;var{entanglements:N,expirationTimes:R,hiddenUpdates:A}=Y;for(_=G&~_;0<_;){var g=31-I_(_),d=1<<g;N[g]=0,R[g]=-1;var j=A[g];if(j!==null)for(A[g]=null,g=0;g<j.length;g++){var p=j[g];p!==null&&(p.lane&=-536870913)}_&=~d}$!==0&&LO(Y,$,0),X!==0&&H===0&&Y.tag!==0&&(Y.suspendedLanes|=X&~(G&~K))}function LO(Y,K,_){Y.pendingLanes|=K,Y.suspendedLanes&=~K;var $=31-I_(K);Y.entangledLanes|=K,Y.entanglements[$]=Y.entanglements[$]|1073741824|_&4194218}function p1(Y,K){var _=Y.entangledLanes|=K;for(Y=Y.entanglements;_;){var $=31-I_(_),H=1<<$;H&K|Y[$]&K&&(Y[$]|=K),_&=~H}}function qO(Y,K,_){if(xB)for(Y=Y.pendingUpdatersLaneMap;0<_;){var $=31-I_(_),H=1<<$;Y[$].add(K),_&=~H}}function i1(Y,K){if(xB)for(var{pendingUpdatersLaneMap:_,memoizedUpdaters:$}=Y;0<K;){var H=31-I_(K);Y=1<<H,H=_[H],0<H.size&&(H.forEach(function(X){var G=X.alternate;G!==null&&$.has(G)||$.add(X)}),H.clear()),K&=~Y}}function n1(Y){return Y&=-Y,FB!==0&&FB<Y?DB!==0&&DB<Y?(Y&134217727)!==0?$0:u8:DB:FB}function lz(){var Y=NK.p;if(Y!==0)return Y;return Y=window.event,Y===void 0?$0:lN(Y.type)}function uz(Y,K){var _=NK.p;try{return NK.p=Y,K()}finally{NK.p=_}}function o1(Y){delete Y[H_],delete Y[V_],delete Y[l4],delete Y[uR],delete Y[pR]}function pB(Y){var K=Y[H_];if(K)return K;for(var _=Y.parentNode;_;){if(K=_[X1]||_[H_]){if(_=K.alternate,K.child!==null||_!==null&&_.child!==null)for(Y=MN(Y);Y!==null;){if(_=Y[H_])return _;Y=MN(Y)}return K}Y=_,_=Y.parentNode}return null}function iB(Y){if(Y=Y[H_]||Y[X1]){var K=Y.tag;if(K===5||K===6||K===13||K===26||K===27||K===3)return Y}return null}function K$(Y){var K=Y.tag;if(K===5||K===26||K===27||K===6)return Y.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function C0(Y){var K=Y[H3];return K||(K=Y[H3]={hoistableStyles:new Map,hoistableScripts:new Map}),K}function FK(Y){Y[YX]=!0}function nB(Y,K){wB(Y,K),wB(Y+"Capture",K)}function wB(Y,K){z1[Y]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",Y),z1[Y]=K;var _=Y.toLowerCase();u4[_]=Y,Y==="onDoubleClick"&&(u4.ondblclick=Y);for(Y=0;Y<K.length;Y++)O3.add(K[Y])}function AB(Y,K){iR[K.type]||K.onChange||K.onInput||K.readOnly||K.disabled||K.value==null||(Y==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),K.onChange||K.readOnly||K.disabled||K.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function _$(Y){if(S0.call(z3,Y))return!0;if(S0.call(X3,Y))return!1;if(nR.test(Y))return z3[Y]=!0;return X3[Y]=!0,console.error("Invalid attribute name: `%s`",Y),!1}function s1(Y,K,_){if(_$(K)){if(!Y.hasAttribute(K)){switch(typeof _){case"symbol":case"object":return _;case"function":return _;case"boolean":if(_===!1)return _}return _===void 0?void 0:null}if(Y=Y.getAttribute(K),Y===""&&_===!0)return!0;return mY(_,K),Y===""+_?_:Y}}function c$(Y,K,_){if(_$(K))if(_===null)Y.removeAttribute(K);else{switch(typeof _){case"undefined":case"function":case"symbol":Y.removeAttribute(K);return;case"boolean":var $=K.toLowerCase().slice(0,5);if($!=="data-"&&$!=="aria-"){Y.removeAttribute(K);return}}mY(_,K),Y.setAttribute(K,""+_)}}function J(Y,K,_){if(_===null)Y.removeAttribute(K);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":Y.removeAttribute(K);return}mY(_,K),Y.setAttribute(K,""+_)}}function M(Y,K,_,$){if($===null)Y.removeAttribute(_);else{switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":Y.removeAttribute(_);return}mY($,_),Y.setAttributeNS(K,_,""+$)}}function c(Y){switch(typeof Y){case"bigint":case"boolean":case"number":case"string":case"undefined":return Y;case"object":return q_(Y),Y;default:return""}}function s(Y){var K=Y.type;return(Y=Y.nodeName)&&Y.toLowerCase()==="input"&&(K==="checkbox"||K==="radio")}function HY(Y){var K=s(Y)?"checked":"value",_=Object.getOwnPropertyDescriptor(Y.constructor.prototype,K);q_(Y[K]);var $=""+Y[K];if(!Y.hasOwnProperty(K)&&typeof _!=="undefined"&&typeof _.get==="function"&&typeof _.set==="function"){var{get:H,set:X}=_;return Object.defineProperty(Y,K,{configurable:!0,get:function(){return H.call(this)},set:function(G){q_(G),$=""+G,X.call(this,G)}}),Object.defineProperty(Y,K,{enumerable:_.enumerable}),{getValue:function(){return $},setValue:function(G){q_(G),$=""+G},stopTracking:function(){Y._valueTracker=null,delete Y[K]}}}}function PY(Y){Y._valueTracker||(Y._valueTracker=HY(Y))}function OY(Y){if(!Y)return!1;var K=Y._valueTracker;if(!K)return!0;var _=K.getValue(),$="";return Y&&($=s(Y)?Y.checked?"true":"false":Y.value),Y=$,Y!==_?(K.setValue(Y),!0):!1}function hY(Y){if(Y=Y||(typeof document!=="undefined"?document:void 0),typeof Y==="undefined")return null;try{return Y.activeElement||Y.body}catch(K){return Y.body}}function CY(Y){return Y.replace(oR,function(K){return"\\"+K.charCodeAt(0).toString(16)+" "})}function WK(Y,K){K.checked===void 0||K.defaultChecked===void 0||P3||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",RK()||"A component",K.type),P3=!0),K.value===void 0||K.defaultValue===void 0||I3||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",RK()||"A component",K.type),I3=!0)}function dK(Y,K,_,$,H,X,G,N){if(Y.name="",G!=null&&typeof G!=="function"&&typeof G!=="symbol"&&typeof G!=="boolean"?(mY(G,"type"),Y.type=G):Y.removeAttribute("type"),K!=null)if(G==="number"){if(K===0&&Y.value===""||Y.value!=K)Y.value=""+c(K)}else Y.value!==""+c(K)&&(Y.value=""+c(K));else G!=="submit"&&G!=="reset"||Y.removeAttribute("value");K!=null?C_(Y,G,c(K)):_!=null?C_(Y,G,c(_)):$!=null&&Y.removeAttribute("value"),H==null&&X!=null&&(Y.defaultChecked=!!X),H!=null&&(Y.checked=H&&typeof H!=="function"&&typeof H!=="symbol"),N!=null&&typeof N!=="function"&&typeof N!=="symbol"&&typeof N!=="boolean"?(mY(N,"name"),Y.name=""+c(N)):Y.removeAttribute("name")}function oB(Y,K,_,$,H,X,G,N){if(X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&typeof X!=="boolean"&&(mY(X,"type"),Y.type=X),K!=null||_!=null){if(!(X!=="submit"&&X!=="reset"||K!==void 0&&K!==null))return;_=_!=null?""+c(_):"",K=K!=null?""+c(K):_,N||K===Y.value||(Y.value=K),Y.defaultValue=K}$=$!=null?$:H,$=typeof $!=="function"&&typeof $!=="symbol"&&!!$,Y.checked=N?Y.checked:!!$,Y.defaultChecked=!!$,G!=null&&typeof G!=="function"&&typeof G!=="symbol"&&typeof G!=="boolean"&&(mY(G,"name"),Y.name=G)}function C_(Y,K,_){K==="number"&&hY(Y.ownerDocument)===Y||Y.defaultValue===""+_||(Y.defaultValue=""+_)}function l$(Y,K){K.value==null&&(typeof K.children==="object"&&K.children!==null?sH.Children.forEach(K.children,function(_){_==null||typeof _==="string"||typeof _==="number"||typeof _==="bigint"||W3||(W3=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):K.dangerouslySetInnerHTML==null||N3||(N3=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),K.selected==null||G3||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),G3=!0)}function s_(){var Y=RK();return Y?`

Check the render method of \``+Y+"`.":""}function a1(Y,K,_,$){if(Y=Y.options,K){K={};for(var H=0;H<_.length;H++)K["$"+_[H]]=!0;for(_=0;_<Y.length;_++)H=K.hasOwnProperty("$"+Y[_].value),Y[_].selected!==H&&(Y[_].selected=H),H&&$&&(Y[_].defaultSelected=!0)}else{_=""+c(_),K=null;for(H=0;H<Y.length;H++){if(Y[H].value===_){Y[H].selected=!0,$&&(Y[H].defaultSelected=!0);return}K!==null||Y[H].disabled||(K=Y[H])}K!==null&&(K.selected=!0)}}function DG(Y,K){for(Y=0;Y<J3.length;Y++){var _=J3[Y];if(K[_]!=null){var $=sK(K[_]);K.multiple&&!$?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",_,s_()):!K.multiple&&$&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",_,s_())}}K.value===void 0||K.defaultValue===void 0||Z3||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),Z3=!0)}function MG(Y,K){K.value===void 0||K.defaultValue===void 0||Q3||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",RK()||"A component"),Q3=!0),K.children!=null&&K.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function UG(Y,K,_){if(K!=null&&(K=""+c(K),K!==Y.value&&(Y.value=K),_==null)){Y.defaultValue!==K&&(Y.defaultValue=K);return}Y.defaultValue=_!=null?""+c(_):""}function SG(Y,K,_,$){if(K==null){if($!=null){if(_!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(sK($)){if(1<$.length)throw Error("<textarea> can only have at most one child.");$=$[0]}_=$}_==null&&(_=""),K=_}_=c(K),Y.defaultValue=_,$=Y.textContent,$===_&&$!==""&&$!==null&&(Y.value=$)}function TG(Y,K){return Y.serverProps===void 0&&Y.serverTail.length===0&&Y.children.length===1&&3<Y.distanceFromLeaf&&Y.distanceFromLeaf>15-K?TG(Y.children[0],K):Y}function y_(Y){return"  "+"  ".repeat(Y)}function r1(Y){return"+ "+"  ".repeat(Y)}function u$(Y){return"- "+"  ".repeat(Y)}function yG(Y){switch(Y.tag){case 26:case 27:case 5:return Y.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return Y=Y.type,Y.displayName||Y.name||null;case 11:return Y=Y.type.render,Y.displayName||Y.name||null;case 1:return Y=Y.type,Y.displayName||Y.name||null;default:return null}}function RO(Y,K){return L3.test(Y)?(Y=JSON.stringify(Y),Y.length>K-2?8>K?'{"..."}':"{"+Y.slice(0,K-7)+'..."}':"{"+Y+"}"):Y.length>K?5>K?'{"..."}':Y.slice(0,K-3)+"...":Y}function pz(Y,K,_){var $=120-2*_;if(K===null)return r1(_)+RO(Y,$)+`
`;if(typeof K==="string"){for(var H=0;H<K.length&&H<Y.length&&K.charCodeAt(H)===Y.charCodeAt(H);H++);return H>$-8&&10<H&&(Y="..."+Y.slice(H-8),K="..."+K.slice(H-8)),r1(_)+RO(Y,$)+`
`+u$(_)+RO(K,$)+`
`}return y_(_)+RO(Y,$)+`
`}function b7(Y){return Object.prototype.toString.call(Y).replace(/^\[object (.*)\]$/,function(K,_){return _})}function CO(Y,K){switch(typeof Y){case"string":return Y=JSON.stringify(Y),Y.length>K?5>K?'"..."':Y.slice(0,K-4)+'..."':Y;case"object":if(Y===null)return"null";if(sK(Y))return"[...]";if(Y.$$typeof===W$)return(K=b(Y.type))?"<"+K+">":"<...>";var _=b7(Y);if(_==="Object"){_="",K-=2;for(var $ in Y)if(Y.hasOwnProperty($)){var H=JSON.stringify($);if(H!=='"'+$+'"'&&($=H),K-=$.length-2,H=CO(Y[$],15>K?K:15),K-=H.length,0>K){_+=_===""?"...":", ...";break}_+=(_===""?"":",")+$+":"+H}return"{"+_+"}"}return _;case"function":return(K=Y.displayName||Y.name)?"function "+K:"function";default:return String(Y)}}function t1(Y,K){return typeof Y!=="string"||L3.test(Y)?"{"+CO(Y,K-2)+"}":Y.length>K-2?5>K?'"..."':'"'+Y.slice(0,K-5)+'..."':'"'+Y+'"'}function v7(Y,K,_){var $=120-_.length-Y.length,H=[],X;for(X in K)if(K.hasOwnProperty(X)&&X!=="children"){var G=t1(K[X],120-_.length-X.length-1);$-=X.length+G.length+2,H.push(X+"="+G)}return H.length===0?_+"<"+Y+`>
`:0<$?_+"<"+Y+" "+H.join(" ")+`>
`:_+"<"+Y+`
`+_+"  "+H.join(`
`+_+"  ")+`
`+_+`>
`}function rL(Y,K,_){var $="",H=FY({},K),X;for(X in Y)if(Y.hasOwnProperty(X)){delete H[X];var G=120-2*_-X.length-2,N=CO(Y[X],G);K.hasOwnProperty(X)?(G=CO(K[X],G),$+=r1(_)+X+": "+N+`
`,$+=u$(_)+X+": "+G+`
`):$+=r1(_)+X+": "+N+`
`}for(var R in H)H.hasOwnProperty(R)&&(Y=CO(H[R],120-2*_-R.length-2),$+=u$(_)+R+": "+Y+`
`);return $}function tL(Y,K,_,$){var H="",X=new Map;for(A in _)_.hasOwnProperty(A)&&X.set(A.toLowerCase(),A);if(X.size===1&&X.has("children"))H+=v7(Y,K,y_($));else{for(var G in K)if(K.hasOwnProperty(G)&&G!=="children"){var N=120-2*($+1)-G.length-1,R=X.get(G.toLowerCase());if(R!==void 0){X.delete(G.toLowerCase());var A=K[G];R=_[R];var g=t1(A,N);N=t1(R,N),typeof A==="object"&&A!==null&&typeof R==="object"&&R!==null&&b7(A)==="Object"&&b7(R)==="Object"&&(2<Object.keys(A).length||2<Object.keys(R).length||-1<g.indexOf("...")||-1<N.indexOf("..."))?H+=y_($+1)+G+`={{
`+rL(A,R,$+2)+y_($+1)+`}}
`:(H+=r1($+1)+G+"="+g+`
`,H+=u$($+1)+G+"="+N+`
`)}else H+=y_($+1)+G+"="+t1(K[G],N)+`
`}X.forEach(function(d){if(d!=="children"){var j=120-2*($+1)-d.length-1;H+=u$($+1)+d+"="+t1(_[d],j)+`
`}}),H=H===""?y_($)+"<"+Y+`>
`:y_($)+"<"+Y+`
`+H+y_($)+`>
`}if(Y=_.children,K=K.children,typeof Y==="string"||typeof Y==="number"||typeof Y==="bigint"){if(X="",typeof K==="string"||typeof K==="number"||typeof K==="bigint")X=""+K;H+=pz(X,""+Y,$+1)}else if(typeof K==="string"||typeof K==="number"||typeof K==="bigint")H=Y==null?H+pz(""+K,null,$+1):H+pz(""+K,void 0,$+1);return H}function kG(Y,K){var _=yG(Y);if(_===null){_="";for(Y=Y.child;Y;)_+=kG(Y,K),Y=Y.sibling;return _}return y_(K)+"<"+_+`>
`}function f7(Y,K){var _=TG(Y,K);if(_!==Y&&(Y.children.length!==1||Y.children[0]!==_))return y_(K)+`...
`+f7(_,K+1);_="";var $=Y.fiber._debugInfo;if($)for(var H=0;H<$.length;H++){var X=$[H].name;typeof X==="string"&&(_+=y_(K)+"<"+X+`>
`,K++)}if($="",H=Y.fiber.pendingProps,Y.fiber.tag===6)$=pz(H,Y.serverProps,K),K++;else if(X=yG(Y.fiber),X!==null)if(Y.serverProps===void 0){$=K;var G=120-2*$-X.length-2,N="";for(A in H)if(H.hasOwnProperty(A)&&A!=="children"){var R=t1(H[A],15);if(G-=A.length+R.length+2,0>G){N+=" ...";break}N+=" "+A+"="+R}$=y_($)+"<"+X+N+`>
`,K++}else Y.serverProps===null?($=v7(X,H,r1(K)),K++):typeof Y.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):($=tL(X,H,Y.serverProps,K),K++);var A="";H=Y.fiber.child;for(X=0;H&&X<Y.children.length;)G=Y.children[X],G.fiber===H?(A+=f7(G,K),X++):A+=kG(H,K),H=H.sibling;H&&0<Y.children.length&&(A+=y_(K)+`...
`),H=Y.serverTail,Y.serverProps===null&&K--;for(Y=0;Y<H.length;Y++)X=H[Y],A=typeof X==="string"?A+(u$(K)+RO(X,120-2*K)+`
`):A+v7(X.type,X.props,u$(K));return _+$+A}function m7(Y){try{return`

`+f7(Y,0)}catch(K){return""}}function gG(Y,K,_){for(var $=K,H=null,X=0;$;)$===Y&&(X=0),H={fiber:$,children:H!==null?[H]:[],serverProps:$===K?_:$===Y?null:void 0,serverTail:[],distanceFromLeaf:X},X++,$=$.return;return H!==null?m7(H).replaceAll(/^[+-]/gm,">"):""}function jG(Y,K){Y=FY({},Y||R3);var _={tag:K};if(q3.indexOf(K)!==-1&&(Y.aTagInScope=null,Y.buttonTagInScope=null,Y.nobrTagInScope=null),aR.indexOf(K)!==-1&&(Y.pTagInButtonScope=null),sR.indexOf(K)!==-1&&K!=="address"&&K!=="div"&&K!=="p"&&(Y.listItemTagAutoclosing=null,Y.dlItemTagAutoclosing=null),Y.current=_,K==="form"&&(Y.formTag=_),K==="a"&&(Y.aTagInScope=_),K==="button"&&(Y.buttonTagInScope=_),K==="nobr"&&(Y.nobrTagInScope=_),K==="p"&&(Y.pTagInButtonScope=_),K==="li"&&(Y.listItemTagAutoclosing=_),K==="dd"||K==="dt")Y.dlItemTagAutoclosing=_;return K==="#document"||K==="html"?Y.containerTagInScope=null:Y.containerTagInScope||(Y.containerTagInScope=_),Y}function bG(Y,K){switch(K){case"select":return Y==="hr"||Y==="option"||Y==="optgroup"||Y==="#text";case"optgroup":return Y==="option"||Y==="#text";case"option":return Y==="#text";case"tr":return Y==="th"||Y==="td"||Y==="style"||Y==="script"||Y==="template";case"tbody":case"thead":case"tfoot":return Y==="tr"||Y==="style"||Y==="script"||Y==="template";case"colgroup":return Y==="col"||Y==="template";case"table":return Y==="caption"||Y==="colgroup"||Y==="tbody"||Y==="tfoot"||Y==="thead"||Y==="style"||Y==="script"||Y==="template";case"head":return Y==="base"||Y==="basefont"||Y==="bgsound"||Y==="link"||Y==="meta"||Y==="title"||Y==="noscript"||Y==="noframes"||Y==="style"||Y==="script"||Y==="template";case"html":return Y==="head"||Y==="body"||Y==="frameset";case"frameset":return Y==="frame";case"#document":return Y==="html"}switch(Y){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return K!=="h1"&&K!=="h2"&&K!=="h3"&&K!=="h4"&&K!=="h5"&&K!=="h6";case"rp":case"rt":return rR.indexOf(K)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return K==null}return!0}function eL(Y,K){switch(Y){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return K.pTagInButtonScope;case"form":return K.formTag||K.pTagInButtonScope;case"li":return K.listItemTagAutoclosing;case"dd":case"dt":return K.dlItemTagAutoclosing;case"button":return K.buttonTagInScope;case"a":return K.aTagInScope;case"nobr":return K.nobrTagInScope}return null}function vG(Y,K){for(;Y;){switch(Y.tag){case 5:case 26:case 27:if(Y.type===K)return Y}Y=Y.return}return null}function h7(Y,K){K=K||R3;var _=K.current;if(K=(_=bG(Y,_&&_.tag)?null:_)?null:eL(Y,K),K=_||K,!K)return!0;K=K.tag;var $=String(!!_)+"|"+Y+"|"+K;if(p8[$])return!1;p8[$]=!0;var H=($=B_)?vG($.return,K):null;return $=$!==null&&H!==null?gG(H,$,null):"",H="<"+Y+">",_?(_="",K==="table"&&Y==="tr"&&(_+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,H,K,_,$)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,H,K,$),!1}function iz(Y,K){if(bG("#text",K))return!0;var _="#text|"+K;if(p8[_])return!1;p8[_]=!0;var $=(_=B_)?vG(_,K):null;return _=_!==null&&$!==null?gG($,_,_.tag!==6?{children:null}:null):"",/\S/.test(Y)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,K,_):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,K,_),!1}function wO(Y,K){if(K){var _=Y.firstChild;if(_&&_===Y.lastChild&&_.nodeType===3){_.nodeValue=K;return}}Y.textContent=K}function Yq(Y){return Y.replace(YC,function(K,_){return _.toUpperCase()})}function fG(Y,K,_){var $=K.indexOf("--")===0;$||(-1<K.indexOf("-")?qH.hasOwnProperty(K)&&qH[K]||(qH[K]=!0,console.error("Unsupported style property %s. Did you mean %s?",K,Yq(K.replace(eR,"ms-")))):tR.test(K)?qH.hasOwnProperty(K)&&qH[K]||(qH[K]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",K,K.charAt(0).toUpperCase()+K.slice(1))):!A3.test(_)||i4.hasOwnProperty(_)&&i4[_]||(i4[_]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,K,_.replace(A3,""))),typeof _==="number"&&(isNaN(_)?E3||(E3=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",K)):isFinite(_)||V3||(V3=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",K)))),_==null||typeof _==="boolean"||_===""?$?Y.setProperty(K,""):K==="float"?Y.cssFloat="":Y[K]="":$?Y.setProperty(K,_):typeof _!=="number"||_===0||x3.has(K)?K==="float"?Y.cssFloat=_:(qB(_,K),Y[K]=(""+_).trim()):Y[K]=_+"px"}function mG(Y,K,_){if(K!=null&&typeof K!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(K&&Object.freeze(K),Y=Y.style,_!=null){if(K){var $={};if(_){for(var H in _)if(_.hasOwnProperty(H)&&!K.hasOwnProperty(H))for(var X=p4[H]||[H],G=0;G<X.length;G++)$[X[G]]=H}for(var N in K)if(K.hasOwnProperty(N)&&(!_||_[N]!==K[N]))for(H=p4[N]||[N],X=0;X<H.length;X++)$[H[X]]=N;N={};for(var R in K)for(H=p4[R]||[R],X=0;X<H.length;X++)N[H[X]]=R;R={};for(var A in $)if(H=$[A],(X=N[A])&&H!==X&&(G=H+","+X,!R[G])){R[G]=!0,G=console;var g=K[H];G.error.call(G,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",g==null||typeof g==="boolean"||g===""?"Removing":"Updating",H,X)}}for(var d in _)!_.hasOwnProperty(d)||K!=null&&K.hasOwnProperty(d)||(d.indexOf("--")===0?Y.setProperty(d,""):d==="float"?Y.cssFloat="":Y[d]="");for(var j in K)A=K[j],K.hasOwnProperty(j)&&_[j]!==A&&fG(Y,j,A)}else for($ in K)K.hasOwnProperty($)&&fG(Y,$,K[$])}function AO(Y){if(Y.indexOf("-")===-1)return!1;switch(Y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hG(Y){return KC.get(Y)||Y}function Kq(Y,K){if(S0.call(RH,K)&&RH[K])return!0;if(BC.test(K)){if(Y="aria-"+K.slice(4).toLowerCase(),Y=F3.hasOwnProperty(Y)?Y:null,Y==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",K),RH[K]=!0;if(K!==Y)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",K,Y),RH[K]=!0}if(_C.test(K)){if(Y=K.toLowerCase(),Y=F3.hasOwnProperty(Y)?Y:null,Y==null)return RH[K]=!0,!1;K!==Y&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",K,Y),RH[K]=!0)}return!0}function _q(Y,K){var _=[],$;for($ in K)Kq(Y,$)||_.push($);K=_.map(function(H){return"`"+H+"`"}).join(", "),_.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",K,Y):1<_.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",K,Y)}function Bq(Y,K,_,$){if(S0.call(P_,K)&&P_[K])return!0;var H=K.toLowerCase();if(H==="onfocusin"||H==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),P_[K]=!0;if(typeof _==="function"&&(Y==="form"&&K==="action"||Y==="input"&&K==="formAction"||Y==="button"&&K==="formAction"))return!0;if($!=null){if(Y=$.possibleRegistrationNames,$.registrationNameDependencies.hasOwnProperty(K))return!0;if($=Y.hasOwnProperty(H)?Y[H]:null,$!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",K,$),P_[K]=!0;if(M3.test(K))return console.error("Unknown event handler property `%s`. It will be ignored.",K),P_[K]=!0}else if(M3.test(K))return $C.test(K)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",K),P_[K]=!0;if(HC.test(K)||OC.test(K))return!0;if(H==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),P_[K]=!0;if(H==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),P_[K]=!0;if(H==="is"&&_!==null&&_!==void 0&&typeof _!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof _),P_[K]=!0;if(typeof _==="number"&&isNaN(_))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",K),P_[K]=!0;if(n8.hasOwnProperty(H)){if(H=n8[H],H!==K)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",K,H),P_[K]=!0}else if(K!==H)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",K,H),P_[K]=!0;switch(K){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof _){case"boolean":switch(K){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(H=K.toLowerCase().slice(0,5),H==="data-"||H==="aria-")return!0;return _?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',_,K,K,_,K):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',_,K,K,_,K,K,K),P_[K]=!0}case"function":case"symbol":return P_[K]=!0,!1;case"string":if(_==="false"||_==="true"){switch(K){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",_,K,_==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',K,_),P_[K]=!0}}return!0}function $q(Y,K,_){var $=[],H;for(H in K)Bq(Y,H,K[H],_)||$.push(H);K=$.map(function(X){return"`"+X+"`"}).join(", "),$.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",K,Y):1<$.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",K,Y)}function EO(Y){return XC.test(""+Y)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Y}function d7(Y){return Y=Y.target||Y.srcElement||window,Y.correspondingUseElement&&(Y=Y.correspondingUseElement),Y.nodeType===3?Y.parentNode:Y}function dG(Y){var K=iB(Y);if(K&&(Y=K.stateNode)){var _=Y[V_]||null;Y:switch(Y=K.stateNode,K.type){case"input":if(dK(Y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),K=_.name,_.type==="radio"&&K!=null){for(_=Y;_.parentNode;)_=_.parentNode;mY(K,"name"),_=_.querySelectorAll('input[name="'+CY(""+K)+'"][type="radio"]');for(K=0;K<_.length;K++){var $=_[K];if($!==Y&&$.form===Y.form){var H=$[V_]||null;if(!H)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");dK($,H.value,H.defaultValue,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name)}}for(K=0;K<_.length;K++)$=_[K],$.form===Y.form&&OY($)}break Y;case"textarea":UG(Y,_.value,_.defaultValue);break Y;case"select":K=_.value,K!=null&&a1(Y,!!_.multiple,K,!1)}}}function cG(Y,K,_){if(n4)return Y(K,_);n4=!0;try{var $=Y(K);return $}finally{if(n4=!1,CH!==null||wH!==null){if(XH(),CH&&(K=CH,Y=wH,wH=CH=null,dG(K),Y))for(K=0;K<Y.length;K++)dG(Y[K])}}}function VO(Y,K){var _=Y.stateNode;if(_===null)return null;var $=_[V_]||null;if($===null)return null;_=$[K];Y:switch(K){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(Y=Y.type,$=!(Y==="button"||Y==="input"||Y==="select"||Y==="textarea")),Y=!$;break Y;default:Y=!1}if(Y)return null;if(_&&typeof _!=="function")throw Error("Expected `"+K+"` listener to be a function, instead got a value of `"+typeof _+"` type.");return _}function lG(){if(o8)return o8;var Y,K=s4,_=K.length,$,H="value"in Q$?Q$.value:Q$.textContent,X=H.length;for(Y=0;Y<_&&K[Y]===H[Y];Y++);var G=_-Y;for($=1;$<=G&&K[_-$]===H[X-$];$++);return o8=H.slice(Y,1<$?1-$:void 0)}function nz(Y){var K=Y.keyCode;return"charCode"in Y?(Y=Y.charCode,Y===0&&K===13&&(Y=13)):Y=K,Y===10&&(Y=13),32<=Y||Y===13?Y:0}function oz(){return!0}function uG(){return!1}function w_(Y){function K(_,$,H,X,G){this._reactName=_,this._targetInst=H,this.type=$,this.nativeEvent=X,this.target=G,this.currentTarget=null;for(var N in Y)Y.hasOwnProperty(N)&&(_=Y[N],this[N]=_?_(X):X[N]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?oz:uG,this.isPropagationStopped=uG,this}return FY(K.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!=="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=oz)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!=="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=oz)},persist:function(){},isPersistent:oz}),K}function Hq(Y){var K=this.nativeEvent;return K.getModifierState?K.getModifierState(Y):(Y=CC[Y])?!!K[Y]:!1}function c7(){return Hq}function pG(Y,K){switch(Y){case"keyup":return yC.indexOf(K.keyCode)!==-1;case"keydown":return K.keyCode!==y3;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iG(Y){return Y=Y.detail,typeof Y==="object"&&"data"in Y?Y.data:null}function Oq(Y,K){switch(Y){case"compositionend":return iG(K);case"keypress":if(K.which!==g3)return null;return b3=!0,j3;case"textInput":return Y=K.data,Y===j3&&b3?null:Y;default:return null}}function Xq(Y,K){if(AH)return Y==="compositionend"||!e4&&pG(Y,K)?(Y=lG(),o8=s4=Q$=null,AH=!1,Y):null;switch(Y){case"paste":return null;case"keypress":if(!(K.ctrlKey||K.altKey||K.metaKey)||K.ctrlKey&&K.altKey){if(K.char&&1<K.char.length)return K.char;if(K.which)return String.fromCharCode(K.which)}return null;case"compositionend":return k3&&K.locale!=="ko"?null:K.data;default:return null}}function nG(Y){var K=Y&&Y.nodeName&&Y.nodeName.toLowerCase();return K==="input"?!!gC[Y.type]:K==="textarea"?!0:!1}function zq(Y){if(!H0)return!1;Y="on"+Y;var K=Y in document;return K||(K=document.createElement("div"),K.setAttribute(Y,"return;"),K=typeof K[Y]==="function"),K}function oG(Y,K,_,$){CH?wH?wH.push($):wH=[$]:CH=$,K=M8(K,"onChange"),0<K.length&&(_=new s8("onChange","change",null,_,$),Y.push({event:_,listeners:K}))}function Iq(Y){WN(Y,0)}function sz(Y){var K=K$(Y);if(OY(K))return Y}function sG(Y,K){if(Y==="change")return K}function aG(){OX&&(OX.detachEvent("onpropertychange",rG),XX=OX=null)}function rG(Y){if(Y.propertyName==="value"&&sz(XX)){var K=[];oG(K,XX,Y,d7(Y)),cG(Iq,K)}}function Pq(Y,K,_){Y==="focusin"?(aG(),OX=K,XX=_,OX.attachEvent("onpropertychange",rG)):Y==="focusout"&&aG()}function Gq(Y){if(Y==="selectionchange"||Y==="keyup"||Y==="keydown")return sz(XX)}function Wq(Y,K){if(Y==="click")return sz(K)}function Nq(Y,K){if(Y==="input"||Y==="change")return sz(K)}function Zq(Y,K){return Y===K&&(Y!==0||1/Y===1/K)||Y!==Y&&K!==K}function xO(Y,K){if(G_(Y,K))return!0;if(typeof Y!=="object"||Y===null||typeof K!=="object"||K===null)return!1;var _=Object.keys(Y),$=Object.keys(K);if(_.length!==$.length)return!1;for($=0;$<_.length;$++){var H=_[$];if(!S0.call(K,H)||!G_(Y[H],K[H]))return!1}return!0}function tG(Y){for(;Y&&Y.firstChild;)Y=Y.firstChild;return Y}function eG(Y,K){var _=tG(Y);Y=0;for(var $;_;){if(_.nodeType===3){if($=Y+_.textContent.length,Y<=K&&$>=K)return{node:_,offset:K-Y};Y=$}Y:{for(;_;){if(_.nextSibling){_=_.nextSibling;break Y}_=_.parentNode}_=void 0}_=tG(_)}}function Y5(Y,K){return Y&&K?Y===K?!0:Y&&Y.nodeType===3?!1:K&&K.nodeType===3?Y5(Y,K.parentNode):("contains"in Y)?Y.contains(K):Y.compareDocumentPosition?!!(Y.compareDocumentPosition(K)&16):!1:!1}function K5(Y){Y=Y!=null&&Y.ownerDocument!=null&&Y.ownerDocument.defaultView!=null?Y.ownerDocument.defaultView:window;for(var K=hY(Y.document);K instanceof Y.HTMLIFrameElement;){try{var _=typeof K.contentWindow.location.href==="string"}catch($){_=!1}if(_)Y=K.contentWindow;else break;K=hY(Y.document)}return K}function l7(Y){var K=Y&&Y.nodeName&&Y.nodeName.toLowerCase();return K&&(K==="input"&&(Y.type==="text"||Y.type==="search"||Y.type==="tel"||Y.type==="url"||Y.type==="password")||K==="textarea"||Y.contentEditable==="true")}function Jq(Y,K){var _=K5(K);K=Y.focusedElem;var $=Y.selectionRange;if(_!==K&&K&&K.ownerDocument&&Y5(K.ownerDocument.documentElement,K)){if($!==null&&l7(K)){if(Y=$.start,_=$.end,_===void 0&&(_=Y),"selectionStart"in K)K.selectionStart=Y,K.selectionEnd=Math.min(_,K.value.length);else if(_=(Y=K.ownerDocument||document)&&Y.defaultView||window,_.getSelection){_=_.getSelection();var H=K.textContent.length,X=Math.min($.start,H);$=$.end===void 0?X:Math.min($.end,H),!_.extend&&X>$&&(H=$,$=X,X=H),H=eG(K,X);var G=eG(K,$);H&&G&&(_.rangeCount!==1||_.anchorNode!==H.node||_.anchorOffset!==H.offset||_.focusNode!==G.node||_.focusOffset!==G.offset)&&(Y=Y.createRange(),Y.setStart(H.node,H.offset),_.removeAllRanges(),X>$?(_.addRange(Y),_.extend(G.node,G.offset)):(Y.setEnd(G.node,G.offset),_.addRange(Y)))}}Y=[];for(_=K;_=_.parentNode;)_.nodeType===1&&Y.push({element:_,left:_.scrollLeft,top:_.scrollTop});typeof K.focus==="function"&&K.focus();for(K=0;K<Y.length;K++)_=Y[K],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}function _5(Y,K,_){var $=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;KI||EH==null||EH!==hY($)||($=EH,("selectionStart"in $)&&l7($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),zX&&xO(zX,$)||(zX=$,$=M8(YI,"onSelect"),0<$.length&&(K=new s8("onSelect","select",null,K,_),Y.push({event:K,listeners:$}),K.target=EH)))}function p$(Y,K){var _={};return _[Y.toLowerCase()]=K.toLowerCase(),_["Webkit"+Y]="webkit"+K,_["Moz"+Y]="moz"+K,_}function i$(Y){if(_I[Y])return _I[Y];if(!VH[Y])return Y;var K=VH[Y],_;for(_ in K)if(K.hasOwnProperty(_)&&_ in f3)return _I[Y]=K[_];return Y}function EB(Y,K){l3.set(Y,K),nB(K,[Y])}function az(){for(var Y=xH,K=BI=xH=0;K<Y;){var _=KB[K];KB[K++]=null;var $=KB[K];KB[K++]=null;var H=KB[K];KB[K++]=null;var X=KB[K];if(KB[K++]=null,$!==null&&H!==null){var G=$.pending;G===null?H.next=H:(H.next=G.next,G.next=H),$.pending=H}X!==0&&B5(_,H,X)}}function rz(Y,K,_,$){KB[xH++]=Y,KB[xH++]=K,KB[xH++]=_,KB[xH++]=$,BI|=$,Y.lanes|=$,Y=Y.alternate,Y!==null&&(Y.lanes|=$)}function u7(Y,K,_,$){return rz(Y,K,_,$),tz(Y)}function __(Y,K){return rz(Y,null,null,K),tz(Y)}function B5(Y,K,_){Y.lanes|=_;var $=Y.alternate;$!==null&&($.lanes|=_);for(var H=!1,X=Y.return;X!==null;)X.childLanes|=_,$=X.alternate,$!==null&&($.childLanes|=_),X.tag===22&&(Y=X.stateNode,Y===null||Y._visibility&IX||(H=!0)),Y=X,X=X.return;H&&K!==null&&Y.tag===3&&(X=Y.stateNode,H=31-I_(_),X=X.hiddenUpdates,Y=X[H],Y===null?X[H]=[K]:Y.push(K),K.lane=_|536870912)}function tz(Y){if(TX>rC)throw V1=TX=0,yX=yI=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");V1>tC&&(V1=0,yX=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),Y.alternate===null&&(Y.flags&4098)!==0&&$N(Y);for(var K=Y,_=K.return;_!==null;)K.alternate===null&&(K.flags&4098)!==0&&$N(Y),K=_,_=K.return;return K.tag===3?K.stateNode:null}function n$(Y){if(_B===null)return Y;var K=_B(Y);return K===void 0?Y:K.current}function p7(Y){if(_B===null)return Y;var K=_B(Y);return K===void 0?Y!==null&&Y!==void 0&&typeof Y.render==="function"&&(K=n$(Y.render),Y.render!==K)?(K={$$typeof:rO,render:K},Y.displayName!==void 0&&(K.displayName=Y.displayName),K):Y:K.current}function $5(Y,K){if(_B===null)return!1;var _=Y.elementType;K=K.type;var $=!1,H=typeof K==="object"&&K!==null?K.$$typeof:null;switch(Y.tag){case 1:typeof K==="function"&&($=!0);break;case 0:typeof K==="function"?$=!0:H===b_&&($=!0);break;case 11:H===rO?$=!0:H===b_&&($=!0);break;case 14:case 15:H===h8?$=!0:H===b_&&($=!0);break;default:return!1}return $&&(Y=_B(_),Y!==void 0&&Y===_B(K))?!0:!1}function H5(Y){_B!==null&&typeof WeakSet==="function"&&(FH===null&&(FH=new WeakSet),FH.add(Y))}function i7(Y,K,_){var{alternate:$,child:H,sibling:X,tag:G,type:N}=Y,R=null;switch(G){case 0:case 15:case 1:R=N;break;case 11:R=N.render}if(_B===null)throw Error("Expected resolveFamily to be set during hot reload.");var A=!1;if(N=!1,R!==null&&(R=_B(R),R!==void 0&&(_.has(R)?N=!0:K.has(R)&&(G===1?N=!0:A=!0))),FH!==null&&(FH.has(Y)||$!==null&&FH.has($))&&(N=!0),N&&(Y._debugNeedsRemount=!0),N||A)$=__(Y,2),$!==null&&CK($,Y,2);H===null||N||i7(H,K,_),X!==null&&i7(X,K,_)}function w0(){var Y=G1;return G1=0,Y}function ez(Y){var K=G1;return G1=Y,K}function FO(Y){var K=G1;return G1+=Y,K}function n7(Y){x_=DH(),0>Y.actualStartTime&&(Y.actualStartTime=x_)}function o7(Y){if(0<=x_){var K=DH()-x_;Y.actualDuration+=K,Y.selfBaseDuration=K,x_=-1}}function O5(Y){if(0<=x_){var K=DH()-x_;Y.actualDuration+=K,x_=-1}}function sB(){if(0<=x_){var Y=DH()-x_;x_=-1,G1+=Y}}function aB(){x_=DH()}function Y8(Y){for(var K=Y.child;K;)Y.actualDuration+=K.actualDuration,K=K.sibling}function k_(Y,K){if(typeof Y==="object"&&Y!==null){var _=HI.get(Y);if(_!==void 0)return _;return K={value:Y,source:K,stack:BK(K)},HI.set(Y,K),K}return{value:Y,source:K,stack:BK(K)}}function o$(Y,K){s$(),MH[UH++]=_2,MH[UH++]=K2,K2=Y,_2=K}function X5(Y,K,_){s$(),BB[$B++]=y0,BB[$B++]=k0,BB[$B++]=N1,N1=Y;var $=y0;Y=k0;var H=32-I_($)-1;$&=~(1<<H),_+=1;var X=32-I_(K)+H;if(30<X){var G=H-H%5;X=($&(1<<G)-1).toString(32),$>>=G,H-=G,y0=1<<32-I_(K)+H|_<<H|$,k0=X+Y}else y0=1<<X|_<<H|$,k0=Y}function s7(Y){s$(),Y.return!==null&&(o$(Y,1),X5(Y,1,0))}function a7(Y){for(;Y===K2;)K2=MH[--UH],MH[UH]=null,_2=MH[--UH],MH[UH]=null;for(;Y===N1;)N1=BB[--$B],BB[$B]=null,k0=BB[--$B],BB[$B]=null,y0=BB[--$B],BB[$B]=null}function s$(){vY||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function a$(Y,K){if(Y.return===null){if(HB===null)HB={fiber:Y,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:K};else{if(HB.fiber!==Y)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");HB.distanceFromLeaf>K&&(HB.distanceFromLeaf=K)}return HB}var _=a$(Y.return,K+1).children;if(0<_.length&&_[_.length-1].fiber===Y)return _=_[_.length-1],_.distanceFromLeaf>K&&(_.distanceFromLeaf=K),_;return K={fiber:Y,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:K},_.push(K),K}function r7(Y,K){g0||(Y=a$(Y,0),Y.serverProps=null,K!==null&&(K=xN(K),Y.serverTail.push(K)))}function r$(Y){var K="",_=HB;throw _!==null&&(HB=null,K=m7(_)),UO(k_(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+K),Y)),OI}function z5(Y){var{stateNode:K,type:_,memoizedProps:$}=Y;switch(K[H_]=Y,K[V_]=$,J4(_,$),_){case"dialog":bY("cancel",K),bY("close",K);break;case"iframe":case"object":case"embed":bY("load",K);break;case"video":case"audio":for(_=0;_<kX.length;_++)bY(kX[_],K);break;case"source":bY("error",K);break;case"img":case"image":case"link":bY("error",K),bY("load",K);break;case"details":bY("toggle",K);break;case"input":AB("input",$),bY("invalid",K),WK(K,$),oB(K,$.value,$.defaultValue,$.checked,$.defaultChecked,$.type,$.name,!0),PY(K);break;case"option":l$(K,$);break;case"select":AB("select",$),bY("invalid",K),DG(K,$);break;case"textarea":AB("textarea",$),bY("invalid",K),MG(K,$),SG(K,$.value,$.defaultValue,$.children),PY(K)}_=$.children,typeof _!=="string"&&typeof _!=="number"&&typeof _!=="bigint"||K.textContent===""+_||$.suppressHydrationWarning===!0||QN(K.textContent,_)?($.popover!=null&&(bY("beforetoggle",K),bY("toggle",K)),$.onScroll!=null&&bY("scroll",K),$.onScrollEnd!=null&&bY("scrollend",K),$.onClick!=null&&(K.onclick=U8),K=!0):K=!1,K||r$(Y)}function I5(Y){for(W_=Y.return;W_;)switch(W_.tag){case 3:case 27:O0=!0;return;case 5:case 13:O0=!1;return;default:W_=W_.return}}function DO(Y){if(Y!==W_)return!1;if(!vY)return I5(Y),vY=!0,!1;var K=!1,_;if(_=Y.tag!==3&&Y.tag!==27){if(_=Y.tag===5)_=Y.type,_=!(_!=="form"&&_!=="button")||R4(Y.type,Y.memoizedProps);_=!_}if(_&&(K=!0),K&&rK){for(K=rK;K;){_=a$(Y,0);var $=xN(K);_.serverTail.push($),K=$.type==="Suspense"?DN(K):e_(K.nextSibling)}r$(Y)}if(I5(Y),Y.tag===13){if(Y=Y.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");rK=DN(Y)}else rK=W_?e_(Y.stateNode.nextSibling):null;return!0}function MO(){rK=W_=null,g0=vY=!1}function UO(Y){SB===null?SB=[Y]:SB.push(Y)}function P5(){var Y=HB;Y!==null&&(HB=null,Y=m7(Y),console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",Y))}function G5(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function W5(Y){return Y=Y.status,Y==="fulfilled"||Y==="rejected"}function K8(){}function N5(Y,K,_){f.actQueue!==null&&(f.didUsePromise=!0);var $=Y.thenables;switch(_=$[_],_===void 0?$.push(K):_!==K&&(Y.didWarnAboutUncachedPromise||(Y.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),K.then(K8,K8),K=_),K.status){case"fulfilled":return K.value;case"rejected":throw Y=K.reason,J5(Y),Y;default:if(typeof K.status==="string")K.then(K8,K8);else{if(Y=HK,Y!==null&&100<Y.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");Y=K,Y.status="pending",Y.then(function(H){if(K.status==="pending"){var X=K;X.status="fulfilled",X.value=H}},function(H){if(K.status==="pending"){var X=K;X.status="rejected",X.reason=H}})}switch(K.status){case"fulfilled":return K.value;case"rejected":throw Y=K.reason,J5(Y),Y}throw QX=K,$2=!0,B2}}function Z5(){if(QX===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var Y=QX;return QX=null,$2=!1,Y}function J5(Y){if(Y===B2)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function iK(Y){var K=xY;return Y!=null&&(xY=K===null?Y:K.concat(Y)),K}function _8(Y,K,_){for(var $=Object.keys(Y.props),H=0;H<$.length;H++){var X=$[H];if(X!=="children"&&X!=="key"){K===null&&(K=x8(Y,_.mode,0),K._debugInfo=xY,K.return=_),KY(K,function(G){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",G)},X);break}}}function B8(Y){var K=LX;return LX+=1,SH===null&&(SH=G5()),N5(SH,Y,K)}function SO(Y,K){K=K.props.ref,Y.ref=K!==void 0?K:null}function $8(Y,K){if(K.$$typeof===SR)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw Y=Object.prototype.toString.call(K),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}function H8(Y,K){var _=u(Y)||"Component";zZ[_]||(zZ[_]=!0,K=K.displayName||K.name||"Component",Y.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,K,K,K):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,K,K,_,K,_))}function O8(Y,K){var _=u(Y)||"Component";IZ[_]||(IZ[_]=!0,K=String(K),Y.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,K):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,_,K,_))}function Q5(Y){function K(V,E){if(Y){var F=V.deletions;F===null?(V.deletions=[E],V.flags|=16):F.push(E)}}function _(V,E){if(!Y)return null;for(;E!==null;)K(V,E),E=E.sibling;return null}function $(V){for(var E=new Map;V!==null;)V.key!==null?E.set(V.key,V):E.set(V.index,V),V=V.sibling;return E}function H(V,E){return V=P$(V,E),V.index=0,V.sibling=null,V}function X(V,E,F){if(V.index=F,!Y)return V.flags|=1048576,E;if(F=V.alternate,F!==null)return F=F.index,F<E?(V.flags|=33554434,E):F;return V.flags|=33554434,E}function G(V){return Y&&V.alternate===null&&(V.flags|=33554434),V}function N(V,E,F,h){if(E===null||E.tag!==6)return E=K4(F,V.mode,h),E.return=V,E._debugOwner=V,E._debugInfo=xY,E;return E=H(E,F),E.return=V,E._debugInfo=xY,E}function R(V,E,F,h){var t=F.type;if(t===ZH)return E=g(V,E,F.props.children,h,F.key),_8(F,E,V),E;if(E!==null&&(E.elementType===t||$5(E,F)||typeof t==="object"&&t!==null&&t.$$typeof===b_&&q$(t)===E.type))return E=H(E,F.props),SO(E,F),E.return=V,E._debugOwner=F._owner,E._debugInfo=xY,E;return E=x8(F,V.mode,h),SO(E,F),E.return=V,E._debugInfo=xY,E}function A(V,E,F,h){if(E===null||E.tag!==4||E.stateNode.containerInfo!==F.containerInfo||E.stateNode.implementation!==F.implementation)return E=_4(F,V.mode,h),E.return=V,E._debugInfo=xY,E;return E=H(E,F.children||[]),E.return=V,E._debugInfo=xY,E}function g(V,E,F,h,t){if(E===null||E.tag!==7)return E=H1(F,V.mode,h,t),E.return=V,E._debugOwner=V,E._debugInfo=xY,E;return E=H(E,F),E.return=V,E._debugInfo=xY,E}function d(V,E,F){if(typeof E==="string"&&E!==""||typeof E==="number"||typeof E==="bigint")return E=K4(""+E,V.mode,F),E.return=V,E._debugOwner=V,E._debugInfo=xY,E;if(typeof E==="object"&&E!==null){switch(E.$$typeof){case W$:return F=x8(E,V.mode,F),SO(F,E),F.return=V,V=iK(E._debugInfo),F._debugInfo=xY,xY=V,F;case NH:return E=_4(E,V.mode,F),E.return=V,E._debugInfo=xY,E;case b_:var h=iK(E._debugInfo);return E=q$(E),V=d(V,E,F),xY=h,V}if(sK(E)||y(E))return F=H1(E,V.mode,F,null),F.return=V,F._debugOwner=V,V=iK(E._debugInfo),F._debugInfo=xY,xY=V,F;if(typeof E.then==="function")return h=iK(E._debugInfo),V=d(V,B8(E),F),xY=h,V;if(E.$$typeof===K0)return d(V,w8(V,E),F);$8(V,E)}return typeof E==="function"&&H8(V,E),typeof E==="symbol"&&O8(V,E),null}function j(V,E,F,h){var t=E!==null?E.key:null;if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return t!==null?null:N(V,E,""+F,h);if(typeof F==="object"&&F!==null){switch(F.$$typeof){case W$:return F.key===t?(t=iK(F._debugInfo),V=R(V,E,F,h),xY=t,V):null;case NH:return F.key===t?A(V,E,F,h):null;case b_:return t=iK(F._debugInfo),F=q$(F),V=j(V,E,F,h),xY=t,V}if(sK(F)||y(F)){if(t!==null)return null;return t=iK(F._debugInfo),V=g(V,E,F,h,null),xY=t,V}if(typeof F.then==="function")return t=iK(F._debugInfo),V=j(V,E,B8(F),h),xY=t,V;if(F.$$typeof===K0)return j(V,E,w8(V,F),h);$8(V,F)}return typeof F==="function"&&H8(V,F),typeof F==="symbol"&&O8(V,F),null}function p(V,E,F,h,t){if(typeof h==="string"&&h!==""||typeof h==="number"||typeof h==="bigint")return V=V.get(F)||null,N(E,V,""+h,t);if(typeof h==="object"&&h!==null){switch(h.$$typeof){case W$:return F=V.get(h.key===null?F:h.key)||null,V=iK(h._debugInfo),E=R(E,F,h,t),xY=V,E;case NH:return V=V.get(h.key===null?F:h.key)||null,A(E,V,h,t);case b_:var wY=iK(h._debugInfo);return h=q$(h),E=p(V,E,F,h,t),xY=wY,E}if(sK(h)||y(h))return F=V.get(F)||null,V=iK(h._debugInfo),E=g(E,F,h,t,null),xY=V,E;if(typeof h.then==="function")return wY=iK(h._debugInfo),E=p(V,E,F,B8(h),t),xY=wY,E;if(h.$$typeof===K0)return p(V,E,F,w8(E,h),t);$8(E,h)}return typeof h==="function"&&H8(E,h),typeof h==="symbol"&&O8(E,h),null}function IY(V,E,F,h){if(typeof F!=="object"||F===null)return h;switch(F.$$typeof){case W$:case NH:C(V,E,F);var t=F.key;if(typeof t!=="string")break;if(h===null){h=new Set,h.add(t);break}if(!h.has(t)){h.add(t);break}KY(E,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted  the behavior is unsupported and could change in a future version.",t)});break;case b_:F=q$(F),IY(V,E,F,h)}return h}function EY(V,E,F,h){for(var t=null,wY=null,XY=null,AY=E,VY=E=0,JK=null;AY!==null&&VY<F.length;VY++){AY.index>VY?(JK=AY,AY=null):JK=AY.sibling;var UK=j(V,AY,F[VY],h);if(UK===null){AY===null&&(AY=JK);break}t=IY(V,UK,F[VY],t),Y&&AY&&UK.alternate===null&&K(V,AY),E=X(UK,E,VY),XY===null?wY=UK:XY.sibling=UK,XY=UK,AY=JK}if(VY===F.length)return _(V,AY),vY&&o$(V,VY),wY;if(AY===null){for(;VY<F.length;VY++)AY=d(V,F[VY],h),AY!==null&&(t=IY(V,AY,F[VY],t),E=X(AY,E,VY),XY===null?wY=AY:XY.sibling=AY,XY=AY);return vY&&o$(V,VY),wY}for(AY=$(AY);VY<F.length;VY++)JK=p(AY,V,VY,F[VY],h),JK!==null&&(t=IY(V,JK,F[VY],t),Y&&JK.alternate!==null&&AY.delete(JK.key===null?VY:JK.key),E=X(JK,E,VY),XY===null?wY=JK:XY.sibling=JK,XY=JK);return Y&&AY.forEach(function(l0){return K(V,l0)}),vY&&o$(V,VY),wY}function MK(V,E,F,h){if(F==null)throw Error("An iterable object provided no iterator.");for(var t=null,wY=null,XY=E,AY=E=0,VY=null,JK=null,UK=F.next();XY!==null&&!UK.done;AY++,UK=F.next()){XY.index>AY?(VY=XY,XY=null):VY=XY.sibling;var l0=j(V,XY,UK.value,h);if(l0===null){XY===null&&(XY=VY);break}JK=IY(V,l0,UK.value,JK),Y&&XY&&l0.alternate===null&&K(V,XY),E=X(l0,E,AY),wY===null?t=l0:wY.sibling=l0,wY=l0,XY=VY}if(UK.done)return _(V,XY),vY&&o$(V,AY),t;if(XY===null){for(;!UK.done;AY++,UK=F.next())XY=d(V,UK.value,h),XY!==null&&(JK=IY(V,XY,UK.value,JK),E=X(XY,E,AY),wY===null?t=XY:wY.sibling=XY,wY=XY);return vY&&o$(V,AY),t}for(XY=$(XY);!UK.done;AY++,UK=F.next())VY=p(XY,V,AY,UK.value,h),VY!==null&&(JK=IY(V,VY,UK.value,JK),Y&&VY.alternate!==null&&XY.delete(VY.key===null?AY:VY.key),E=X(VY,E,AY),wY===null?t=VY:wY.sibling=VY,wY=VY);return Y&&XY.forEach(function(Gw){return K(V,Gw)}),vY&&o$(V,AY),t}function pY(V,E,F,h){if(typeof F==="object"&&F!==null&&F.type===ZH&&F.key===null&&(_8(F,null,V),F=F.props.children),typeof F==="object"&&F!==null){switch(F.$$typeof){case W$:var t=iK(F._debugInfo);Y:{for(var wY=F.key;E!==null;){if(E.key===wY){if(wY=F.type,wY===ZH){if(E.tag===7){_(V,E.sibling),h=H(E,F.props.children),h.return=V,h._debugOwner=F._owner,h._debugInfo=xY,_8(F,h,V),V=h;break Y}}else if(E.elementType===wY||$5(E,F)||typeof wY==="object"&&wY!==null&&wY.$$typeof===b_&&q$(wY)===E.type){_(V,E.sibling),h=H(E,F.props),SO(h,F),h.return=V,h._debugOwner=F._owner,h._debugInfo=xY,V=h;break Y}_(V,E);break}else K(V,E);E=E.sibling}F.type===ZH?(h=H1(F.props.children,V.mode,h,F.key),h.return=V,h._debugOwner=V,h._debugInfo=xY,_8(F,h,V),V=h):(h=x8(F,V.mode,h),SO(h,F),h.return=V,h._debugInfo=xY,V=h)}return V=G(V),xY=t,V;case NH:Y:{t=F;for(F=t.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===t.containerInfo&&E.stateNode.implementation===t.implementation){_(V,E.sibling),h=H(E,t.children||[]),h.return=V,V=h;break Y}else{_(V,E);break}else K(V,E);E=E.sibling}h=_4(t,V.mode,h),h.return=V,V=h}return G(V);case b_:return t=iK(F._debugInfo),F=q$(F),V=pY(V,E,F,h),xY=t,V}if(sK(F))return t=iK(F._debugInfo),V=EY(V,E,F,h),xY=t,V;if(y(F)){if(t=iK(F._debugInfo),wY=y(F),typeof wY!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var XY=wY.call(F);if(XY===F){if(V.tag!==0||Object.prototype.toString.call(V.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(XY)!=="[object Generator]")OZ||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),OZ=!0}else F.entries!==wY||PI||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),PI=!0);return V=MK(V,E,XY,h),xY=t,V}if(typeof F.then==="function")return t=iK(F._debugInfo),V=pY(V,E,B8(F),h),xY=t,V;if(F.$$typeof===K0)return pY(V,E,w8(V,F),h);$8(V,F)}if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return t=""+F,E!==null&&E.tag===6?(_(V,E.sibling),h=H(E,t),h.return=V,V=h):(_(V,E),h=K4(t,V.mode,h),h.return=V,h._debugOwner=V,h._debugInfo=xY,V=h),G(V);return typeof F==="function"&&H8(V,F),typeof F==="symbol"&&O8(V,F),_(V,E)}return function(V,E,F,h){var t=xY;xY=null;try{LX=0;var wY=pY(V,E,F,h);return SH=null,wY}catch(JK){if(JK===B2)throw JK;var XY=L(29,JK,null,V.mode);XY.lanes=h,XY.return=V;var AY=XY._debugInfo=xY;if(XY._debugOwner=V._debugOwner,AY!=null){for(var VY=AY.length-1;0<=VY;VY--)if(typeof AY[VY].stack==="string"){XY._debugOwner=AY[VY];break}}return XY}finally{xY=t}}}function L5(Y,K){var _=I0;kY(H2,_,Y),kY(TH,K,Y),I0=_|K.baseLanes}function t7(Y){kY(H2,I0,Y),kY(TH,TH.current,Y)}function e7(Y){I0=H2.current,uY(TH,Y),uY(H2,Y)}function B$(Y){var K=Y.alternate;kY(kK,kK.current&yH,Y),kY(OB,Y,Y),X0===null&&(K===null||TH.current!==null?X0=Y:K.memoizedState!==null&&(X0=Y))}function q5(Y){if(Y.tag===22){if(kY(kK,kK.current,Y),kY(OB,Y,Y),X0===null){var K=Y.alternate;K!==null&&K.memoizedState!==null&&(X0=Y)}}else $$(Y)}function $$(Y){kY(kK,kK.current,Y),kY(OB,OB.current,Y)}function A0(Y){uY(OB,Y),X0===Y&&(X0=null),uY(kK,Y)}function X8(Y){for(var K=Y;K!==null;){if(K.tag===13){var _=K.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data===D1||_.data===M1))return K}else if(K.tag===19&&K.memoizedProps.revealOrder!==void 0){if((K.flags&128)!==0)return K}else if(K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break;for(;K.sibling===null;){if(K.return===null||K.return===Y)return null;K=K.return}K.sibling.return=K.return,K=K.sibling}return null}function Y6(){return{controller:new lC,data:new Map,refCount:0}}function t$(Y){Y.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),Y.refCount++}function TO(Y){Y.refCount--,0>Y.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),Y.refCount===0&&uC(pC,function(){Y.controller.abort()})}function Qq(Y,K){if(RX===null){var _=RX=[];GI=0,J1=G4(),kH={status:"pending",value:void 0,then:function($){_.push($)}}}return GI++,K.then(R5,R5),K}function R5(){if(--GI===0&&RX!==null){kH!==null&&(kH.status="fulfilled");var Y=RX;RX=null,J1=0,kH=null;for(var K=0;K<Y.length;K++)Y[K]()}}function Lq(Y,K){var _=[],$={status:"pending",value:null,reason:null,then:function(H){_.push(H)}};return Y.then(function(){$.status="fulfilled",$.value=K;for(var H=0;H<_.length;H++)_[H](K)},function(H){$.status="rejected",$.reason=H;for(H=0;H<_.length;H++)_[H](void 0)}),$}function K6(){var Y=Q1.current;return Y!==null?Y:HK.pooledCache}function z8(Y,K){K===null?kY(Q1,Q1.current,Y):kY(Q1,K.pool,Y)}function C5(){var Y=K6();return Y===null?null:{parent:jK._currentValue,pool:Y}}function SY(){var Y=v;IB===null?IB=[Y]:IB.push(Y)}function o(){var Y=v;if(IB!==null&&(b0++,IB[b0]!==Y)){var K=u(LY);if(!WZ.has(K)&&(WZ.add(K),IB!==null)){for(var _="",$=0;$<=b0;$++){var H=IB[$],X=$===b0?Y:H;for(H=$+1+". "+H;30>H.length;)H+=" ";H+=X+`
`,_+=H}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,K,_)}}}function e1(Y){Y===void 0||Y===null||sK(Y)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",v,typeof Y)}function I8(){var Y=u(LY);ZZ.has(Y)||(ZZ.add(Y),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",Y))}function DK(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function _6(Y,K){if(wX)return!1;if(K===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",v),!1;Y.length!==K.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,v,"["+K.join(", ")+"]","["+Y.join(", ")+"]");for(var _=0;_<K.length&&_<Y.length;_++)if(!G_(Y[_],K[_]))return!1;return!0}function B6(Y,K,_,$,H,X){if(R$=X,LY=K,IB=Y!==null?Y._debugHookTypes:null,b0=-1,wX=Y!==null&&Y.type!==K.type,Object.prototype.toString.call(_)==="[object AsyncFunction]"||Object.prototype.toString.call(_)==="[object AsyncGeneratorFunction]")X=u(LY),WI.has(X)||(WI.add(X),console.error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."));K.memoizedState=null,K.updateQueue=null,K.lanes=0,f.H=Y!==null&&Y.memoizedState!==null?w$:IB!==null?q1:C$,L1=X=(K.mode&O_)!==IK;var G=zI(_,$,H);if(L1=!1,jH&&(G=$6(K,_,$,H)),X){sY(!0);try{G=$6(K,_,$,H)}finally{sY(!1)}}return w5(Y,K),G}function w5(Y,K){K._debugHookTypes=IB,K.dependencies===null?j0!==null&&(K.dependencies={lanes:0,firstContext:null,_debugThenableState:j0}):K.dependencies._debugThenableState=j0,f.H=z0;var _=KK!==null&&KK.next!==null;if(R$=0,IB=v=SK=KK=LY=null,b0=-1,Y!==null&&(Y.flags&31457280)!==(K.flags&31457280)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),O2=!1,CX=0,j0=null,_)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");Y===null||lK||(Y=Y.dependencies,Y!==null&&C8(Y)&&(lK=!0)),$2?($2=!1,Y=!0):Y=!1,Y&&(K=u(K)||"Unknown",NZ.has(K)||WI.has(K)||(NZ.add(K),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function $6(Y,K,_,$){LY=Y;var H=0;do{if(jH&&(j0=null),CX=0,jH=!1,H>=nC)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(H+=1,wX=!1,SK=KK=null,Y.updateQueue!=null){var X=Y.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}b0=-1,f.H=R1,X=zI(K,_,$)}while(jH);return X}function qq(){var Y=f.H,K=Y.useState()[0];return K=typeof K.then==="function"?yO(K):K,Y=Y.useState()[0],(KK!==null?KK.memoizedState:null)!==Y&&(LY.flags|=1024),K}function H6(){var Y=X2!==0;return X2=0,Y}function O6(Y,K,_){K.updateQueue=Y.updateQueue,K.flags=(K.mode&MB)!==IK?K.flags&-201328645:K.flags&-2053,Y.lanes&=~_}function X6(Y){if(O2){for(Y=Y.memoizedState;Y!==null;){var K=Y.queue;K!==null&&(K.pending=null),Y=Y.next}O2=!1}R$=0,IB=SK=KK=LY=null,b0=-1,v=null,jH=!1,CX=X2=0,j0=null}function A_(){var Y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return SK===null?LY.memoizedState=SK=Y:SK=SK.next=Y,SK}function tY(){if(KK===null){var Y=LY.alternate;Y=Y!==null?Y.memoizedState:null}else Y=KK.next;var K=SK===null?LY.memoizedState:SK.next;if(K!==null)SK=K,KK=Y;else{if(Y===null){if(LY.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}KK=Y,Y={memoizedState:KK.memoizedState,baseState:KK.baseState,baseQueue:KK.baseQueue,queue:KK.queue,next:null},SK===null?LY.memoizedState=SK=Y:SK=SK.next=Y}return SK}function yO(Y){var K=CX;return CX+=1,j0===null&&(j0=G5()),Y=N5(j0,Y,K),K=LY,(SK===null?K.memoizedState:SK.next)===null&&(K=K.alternate,f.H=K!==null&&K.memoizedState!==null?w$:C$),Y}function H$(Y){if(Y!==null&&typeof Y==="object"){if(typeof Y.then==="function")return yO(Y);if(Y.$$typeof===K0)return LK(Y)}throw Error("An unsupported type was passed to use(): "+String(Y))}function e$(Y){var K=null,_=LY.updateQueue;if(_!==null&&(K=_.memoCache),K==null){var $=LY.alternate;$!==null&&($=$.updateQueue,$!==null&&($=$.memoCache,$!=null&&(K={data:$.data.map(function(H){return H.slice()}),index:0})))}if(K==null&&(K={data:[],index:0}),_===null&&(_=NI(),LY.updateQueue=_),_.memoCache=K,_=K.data[K.index],_===void 0||wX)for(_=K.data[K.index]=Array(Y),$=0;$<Y;$++)_[$]=yR;else _.length!==Y&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",_.length,Y);return K.index++,_}function VB(Y,K){return typeof K==="function"?K(Y):K}function z6(Y,K,_){var $=A_();if(_!==void 0){var H=_(K);if(L1){sY(!0);try{_(K)}finally{sY(!1)}}}else H=K;return $.memoizedState=$.baseState=H,Y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y,lastRenderedState:H},$.queue=Y,Y=Y.dispatch=Aq.bind(null,LY,Y),[$.memoizedState,Y]}function YH(Y){var K=tY();return I6(K,KK,Y)}function I6(Y,K,_){var $=Y.queue;if($===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");$.lastRenderedReducer=_;var H=Y.baseQueue,X=$.pending;if(X!==null){if(H!==null){var G=H.next;H.next=X.next,X.next=G}K.baseQueue!==H&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),K.baseQueue=H=X,$.pending=null}if(X=Y.baseState,H===null)Y.memoizedState=X;else{K=H.next;var N=G=null,R=null,A=K,g=!1;do{var d=A.lane&-536870913;if(d!==A.lane?(TY&d)===d:(R$&d)===d){var j=A.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),d===J1&&(g=!0);else if((R$&j)===j){A=A.next,j===J1&&(g=!0);continue}else d={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},R===null?(N=R=d,G=X):R=R.next=d,LY.lanes|=j,V$|=j;d=A.action,L1&&_(X,d),X=A.hasEagerState?A.eagerState:_(X,d)}else j={lane:d,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},R===null?(N=R=j,G=X):R=R.next=j,LY.lanes|=d,V$|=d;A=A.next}while(A!==null&&A!==K);if(R===null?G=X:R.next=N,!G_(X,Y.memoizedState)&&(lK=!0,g&&(_=kH,_!==null)))throw _;Y.memoizedState=X,Y.baseState=G,Y.baseQueue=R,$.lastRenderedState=X}return H===null&&($.lanes=0),[Y.memoizedState,$.dispatch]}function kO(Y){var K=tY(),_=K.queue;if(_===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");_.lastRenderedReducer=Y;var{dispatch:$,pending:H}=_,X=K.memoizedState;if(H!==null){_.pending=null;var G=H=H.next;do X=Y(X,G.action),G=G.next;while(G!==H);G_(X,K.memoizedState)||(lK=!0),K.memoizedState=X,K.baseQueue===null&&(K.baseState=X),_.lastRenderedState=X}return[X,$]}function P6(Y,K,_){var $=LY,H=A_();if(vY){if(_===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var X=_();gH||X===_()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),gH=!0)}else{if(X=K(),gH||(_=K(),G_(X,_)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),gH=!0)),HK===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(TY&60)!==0||A5($,K,X)}return H.memoizedState=X,_={value:X,getSnapshot:K},H.queue=_,N8(V5.bind(null,$,_,Y),[Y]),$.flags|=2048,_H(zB|gK,E5.bind(null,$,_,X,K),{destroy:void 0},null),X}function P8(Y,K,_){var $=LY,H=tY(),X=vY;if(X){if(_===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");_=_()}else if(_=K(),!gH){var G=K();G_(_,G)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),gH=!0)}if(G=!G_((KK||H).memoizedState,_))H.memoizedState=_,lK=!0;H=H.queue;var N=V5.bind(null,$,H,Y);if(E_(2048,gK,N,[Y]),H.getSnapshot!==K||G||SK!==null&&SK.memoizedState.tag&zB){if($.flags|=2048,_H(zB|gK,E5.bind(null,$,H,_,K),{destroy:void 0},null),HK===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");X||(R$&60)!==0||A5($,K,_)}return _}function A5(Y,K,_){Y.flags|=16384,Y={getSnapshot:K,value:_},K=LY.updateQueue,K===null?(K=NI(),LY.updateQueue=K,K.stores=[Y]):(_=K.stores,_===null?K.stores=[Y]:_.push(Y))}function E5(Y,K,_,$){K.value=_,K.getSnapshot=$,x5(K)&&F5(Y)}function V5(Y,K,_){return _(function(){x5(K)&&F5(Y)})}function x5(Y){var K=Y.getSnapshot;Y=Y.value;try{var _=K();return!G_(Y,_)}catch($){return!0}}function F5(Y){var K=__(Y,2);K!==null&&CK(K,Y,2)}function G6(Y){var K=A_();if(typeof Y==="function"){var _=Y;if(Y=_(),L1){sY(!0);try{_()}finally{sY(!1)}}}return K.memoizedState=K.baseState=Y,K.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VB,lastRenderedState:Y},K}function W6(Y){Y=G6(Y);var K=Y.queue,_=p5.bind(null,LY,K);return K.dispatch=_,[Y.memoizedState,_]}function N6(Y){var K=A_();K.memoizedState=K.baseState=Y;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return K.queue=_,K=F6.bind(null,LY,!0,_),_.dispatch=K,[Y,K]}function D5(Y,K){var _=tY();return M5(_,KK,Y,K)}function M5(Y,K,_,$){return Y.baseState=_,I6(Y,KK,typeof $==="function"?$:VB)}function U5(Y,K){var _=tY();if(KK!==null)return M5(_,KK,Y,K);return _.baseState=Y,[Y,_.queue.dispatch]}function Rq(Y,K,_,$,H){if(L8(Y))throw Error("Cannot update form state while rendering.");if(Y=K.action,Y!==null){var X={payload:H,action:Y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){X.listeners.push(G)}};f.T!==null?_(!0):X.isTransition=!1,$(X),_=K.pending,_===null?(X.next=K.pending=X,S5(K,X)):(X.next=_.next,K.pending=_.next=X)}}function S5(Y,K){var{action:_,payload:$}=K,H=Y.state;if(K.isTransition){var X=f.T,G={};f.T=G,f.T._updatedFibers=new Set;try{var N=_(H,$),R=f.S;R!==null&&R(G,N),T5(Y,K,N)}catch(A){Z6(Y,K,A)}finally{f.T=X,X===null&&G._updatedFibers&&(Y=G._updatedFibers.size,G._updatedFibers.clear(),10<Y&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{G=_(H,$),T5(Y,K,G)}catch(A){Z6(Y,K,A)}}function T5(Y,K,_){_!==null&&typeof _==="object"&&typeof _.then==="function"?(_.then(function($){y5(Y,K,$)},function($){return Z6(Y,K,$)}),K.isTransition||console.error("An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`")):y5(Y,K,_)}function y5(Y,K,_){K.status="fulfilled",K.value=_,k5(K),Y.state=_,K=Y.pending,K!==null&&(_=K.next,_===K?Y.pending=null:(_=_.next,K.next=_,S5(Y,_)))}function Z6(Y,K,_){var $=Y.pending;if(Y.pending=null,$!==null){$=$.next;do K.status="rejected",K.reason=_,k5(K),K=K.next;while(K!==$)}Y.action=null}function k5(Y){Y=Y.listeners;for(var K=0;K<Y.length;K++)Y[K]()}function g5(Y,K){return K}function KH(Y,K){if(vY){var _=HK.formState;if(_!==null){Y:{var $=LY;if(vY){if(rK){K:{var H=rK;for(var X=O0;H.nodeType!==8;){if(!X){H=null;break K}if(H=e_(H.nextSibling),H===null){H=null;break K}}X=H.data,H=X===hI||X===Y9?H:null}if(H){rK=e_(H.nextSibling),$=H.data===hI;break Y}}r$($)}$=!1}$&&(K=_[0])}}return _=A_(),_.memoizedState=_.baseState=K,$={pending:null,lanes:0,dispatch:null,lastRenderedReducer:g5,lastRenderedState:K},_.queue=$,_=p5.bind(null,LY,$),$.dispatch=_,$=G6(!1),X=F6.bind(null,LY,!1,$.queue),$=A_(),H={state:K,dispatch:null,action:Y,pending:null},$.queue=H,_=Rq.bind(null,LY,H,X,_),H.dispatch=_,$.memoizedState=Y,[K,_,!1]}function G8(Y){var K=tY();return j5(K,KK,Y)}function j5(Y,K,_){K=I6(Y,K,g5)[0],Y=YH(VB)[0],K=typeof K==="object"&&K!==null&&typeof K.then==="function"?yO(K):K;var $=tY(),H=$.queue,X=H.dispatch;return _!==$.memoizedState&&(LY.flags|=2048,_H(zB|gK,Cq.bind(null,H,_),{destroy:void 0},null)),[K,X,Y]}function Cq(Y,K){Y.action=K}function W8(Y){var K=tY(),_=KK;if(_!==null)return j5(K,_,Y);tY(),K=K.memoizedState,_=tY();var $=_.queue.dispatch;return _.memoizedState=Y,[K,$,!1]}function _H(Y,K,_,$){return Y={tag:Y,create:K,inst:_,deps:$,next:null},K=LY.updateQueue,K===null&&(K=NI(),LY.updateQueue=K),_=K.lastEffect,_===null?K.lastEffect=Y.next=Y:($=_.next,_.next=Y,Y.next=$,K.lastEffect=Y),Y}function J6(Y){var K=A_();return Y={current:Y},K.memoizedState=Y}function Y1(Y,K,_,$){var H=A_();LY.flags|=Y,H.memoizedState=_H(zB|K,_,{destroy:void 0},$===void 0?null:$)}function E_(Y,K,_,$){var H=tY();$=$===void 0?null:$;var X=H.memoizedState.inst;KK!==null&&$!==null&&_6($,KK.memoizedState.deps)?H.memoizedState=_H(K,_,X,$):(LY.flags|=Y,H.memoizedState=_H(zB|K,_,X,$))}function N8(Y,K){(LY.mode&MB)!==IK&&(LY.mode&p3)===IK?Y1(142608384,gK,Y,K):Y1(8390656,gK,Y,K)}function Q6(Y,K){var _=4194308;return(LY.mode&MB)!==IK&&(_|=67108864),Y1(_,tK,Y,K)}function b5(Y,K){if(typeof K==="function"){Y=Y();var _=K(Y);return function(){typeof _==="function"?_():K(null)}}if(K!==null&&K!==void 0)return K.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(K).join(", ")+"}"),Y=Y(),K.current=Y,function(){K.current=null}}function L6(Y,K,_){typeof K!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",K!==null?typeof K:"null"),_=_!==null&&_!==void 0?_.concat([Y]):null;var $=4194308;(LY.mode&MB)!==IK&&($|=67108864),Y1($,tK,b5.bind(null,K,Y),_)}function Z8(Y,K,_){typeof K!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",K!==null?typeof K:"null"),_=_!==null&&_!==void 0?_.concat([Y]):null,E_(4,tK,b5.bind(null,K,Y),_)}function q6(Y,K){return A_().memoizedState=[Y,K===void 0?null:K],Y}function J8(Y,K){var _=tY();K=K===void 0?null:K;var $=_.memoizedState;if(K!==null&&_6(K,$[1]))return $[0];return _.memoizedState=[Y,K],Y}function R6(Y,K){var _=A_();K=K===void 0?null:K;var $=Y();if(L1){sY(!0);try{Y()}finally{sY(!1)}}return _.memoizedState=[$,K],$}function Q8(Y,K){var _=tY();K=K===void 0?null:K;var $=_.memoizedState;if(K!==null&&_6(K,$[1]))return $[0];if($=Y(),L1){sY(!0);try{Y()}finally{sY(!1)}}return _.memoizedState=[$,K],$}function C6(Y,K){var _=A_();return w6(_,Y,K)}function v5(Y,K){var _=tY();return m5(_,KK.memoizedState,Y,K)}function f5(Y,K){var _=tY();return KK===null?w6(_,Y,K):m5(_,KK.memoizedState,Y,K)}function w6(Y,K,_){if(_===void 0||(R$&1073741824)!==0)return Y.memoizedState=K;return Y.memoizedState=_,Y=lW(),LY.lanes|=Y,V$|=Y,_}function m5(Y,K,_,$){if(G_(_,K))return _;if(TH.current!==null)return Y=w6(Y,_,$),G_(Y,K)||(lK=!0),Y;if((R$&42)===0)return lK=!0,Y.memoizedState=_;return Y=lW(),LY.lanes|=Y,V$|=Y,K}function h5(Y,K,_,$,H){var X=NK.p;NK.p=X!==0&&X<DB?X:DB;var G=f.T,N={};f.T=N,F6(Y,!1,K,_),N._updatedFibers=new Set;try{var R=H(),A=f.S;if(A!==null&&A(N,R),R!==null&&typeof R==="object"&&typeof R.then==="function"){var g=Lq(R,$);gO(Y,K,g,j_(Y))}else gO(Y,K,$,j_(Y))}catch(d){gO(Y,K,{then:function(){},status:"rejected",reason:d},j_(Y))}finally{NK.p=X,f.T=G,G===null&&N._updatedFibers&&(Y=N._updatedFibers.size,N._updatedFibers.clear(),10<Y&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function A6(Y,K,_,$){if(Y.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var H=d5(Y).queue;h5(Y,H,K,S1,_===null?w:function(){return c5(Y),_($)})}function d5(Y){var K=Y.memoizedState;if(K!==null)return K;K={memoizedState:S1,baseState:S1,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:VB,lastRenderedState:S1},next:null};var _={};return K.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:VB,lastRenderedState:_},next:null},Y.memoizedState=K,Y=Y.alternate,Y!==null&&(Y.memoizedState=K),K}function c5(Y){f.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var K=d5(Y).next.queue;gO(Y,K,{},j_(Y))}function E6(){var Y=G6(!1);return Y=h5.bind(null,LY,Y.queue,!0,!1),A_().memoizedState=Y,[!1,Y]}function l5(){var Y=YH(VB)[0],K=tY().memoizedState;return[typeof Y==="boolean"?Y:yO(Y),K]}function u5(){var Y=kO(VB)[0],K=tY().memoizedState;return[typeof Y==="boolean"?Y:yO(Y),K]}function K1(){return LK(bX)}function V6(){var Y=A_(),K=HK.identifierPrefix;if(vY){var _=k0,$=y0;_=($&~(1<<32-I_($)-1)).toString(32)+_,K=":"+K+"R"+_,_=X2++,0<_&&(K+="H"+_.toString(32)),K+=":"}else _=iC++,K=":"+K+"r"+_.toString(32)+":";return Y.memoizedState=K}function x6(){return A_().memoizedState=wq.bind(null,LY)}function wq(Y,K){for(var _=Y.return;_!==null;){switch(_.tag){case 24:case 3:var $=j_(_);Y=X$($);var H=z$(_,Y,$);H!==null&&(CK(H,_,$),vO(H,_,$)),_=Y6(),K!==null&&K!==void 0&&H!==null&&console.error("The seed argument is not enabled outside experimental channels."),Y.payload={cache:_};return}_=_.return}}function Aq(Y,K,_,$){typeof $==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),$=j_(Y),_={lane:$,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},L8(Y)?i5(K,_):(_=u7(Y,K,_,$),_!==null&&(CK(_,Y,$),n5(_,K,$))),GK(Y,$)}function p5(Y,K,_,$){typeof $==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),$=j_(Y),gO(Y,K,_,$),GK(Y,$)}function gO(Y,K,_,$){var H={lane:$,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(L8(Y))i5(K,H);else{var X=Y.alternate;if(Y.lanes===0&&(X===null||X.lanes===0)&&(X=K.lastRenderedReducer,X!==null)){var G=f.H;f.H=Z_;try{var N=K.lastRenderedState,R=X(N,_);if(H.hasEagerState=!0,H.eagerState=R,G_(R,N))return rz(Y,K,H,0),HK===null&&az(),!1}catch(A){}finally{f.H=G}}if(_=u7(Y,K,H,$),_!==null)return CK(_,Y,$),n5(_,K,$),!0}return!1}function F6(Y,K,_,$){if(f.T===null&&J1===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),$={lane:2,revertLane:G4(),action:$,hasEagerState:!1,eagerState:null,next:null},L8(Y)){if(K)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else K=u7(Y,_,$,2),K!==null&&CK(K,Y,2);GK(Y,2)}function L8(Y){var K=Y.alternate;return Y===LY||K!==null&&K===LY}function i5(Y,K){jH=O2=!0;var _=Y.pending;_===null?K.next=K:(K.next=_.next,_.next=K),Y.pending=K}function n5(Y,K,_){if((_&4194176)!==0){var $=K.lanes;$&=Y.pendingLanes,_|=$,K.lanes=_,p1(Y,_)}}function D6(Y){if(Y!==null&&typeof Y!=="function"){var K=String(Y);xZ.has(K)||(xZ.add(K),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",Y))}}function M6(Y,K,_,$){var H=Y.memoizedState,X=_($,H);if(Y.mode&O_){sY(!0);try{X=_($,H)}finally{sY(!1)}}X===void 0&&(K=b(K)||"Component",wZ.has(K)||(wZ.add(K),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",K))),H=X===null||X===void 0?H:FY({},H,X),Y.memoizedState=H,Y.lanes===0&&(Y.updateQueue.baseState=H)}function o5(Y,K,_,$,H,X,G){var N=Y.stateNode;if(typeof N.shouldComponentUpdate==="function"){if(_=N.shouldComponentUpdate($,X,G),Y.mode&O_){sY(!0);try{_=N.shouldComponentUpdate($,X,G)}finally{sY(!1)}}return _===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",b(K)||"Component"),_}return K.prototype&&K.prototype.isPureReactComponent?!xO(_,$)||!xO(H,X):!0}function s5(Y,K,_,$){var H=K.state;typeof K.componentWillReceiveProps==="function"&&K.componentWillReceiveProps(_,$),typeof K.UNSAFE_componentWillReceiveProps==="function"&&K.UNSAFE_componentWillReceiveProps(_,$),K.state!==H&&(Y=u(Y)||"Component",QZ.has(Y)||(QZ.add(Y),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Y)),ZI.enqueueReplaceState(K,K.state,null))}function _1(Y,K){var _=K;if("ref"in K){_={};for(var $ in K)$!=="ref"&&(_[$]=K[$])}if(Y=Y.defaultProps){_===K&&(_=FY({},_));for(var H in Y)_[H]===void 0&&(_[H]=Y[H])}return _}function a5(Y,K){z2(Y),Y=bH?"An error occurred in the <"+bH+"> component.":"An error occurred in one of your React components.";var _=f.getCurrentStack,$=K.componentStack!=null?K.componentStack:"";f.getCurrentStack=function(){return $};try{console.warn(`%s

%s
`,Y,`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}finally{f.getCurrentStack=_}}function r5(Y,K){var _=bH?"The above error occurred in the <"+bH+"> component.":"The above error occurred in one of your React components.",$="React will try to recreate this component tree from scratch using the error boundary you provided, "+((JI||"Anonymous")+"."),H=f.getCurrentStack,X=K.componentStack!=null?K.componentStack:"";f.getCurrentStack=function(){return X};try{typeof Y==="object"&&Y!==null&&typeof Y.environmentName==="string"?AR("error",[`%o

%s

%s
`,Y,_,$],Y.environmentName)():console.error(`%o

%s

%s
`,Y,_,$)}finally{f.getCurrentStack=H}}function t5(Y){z2(Y)}function q8(Y,K){try{bH=K.source?u(K.source):null,JI=null;var _=K.value;if(f.actQueue!==null)f.thrownErrors.push(_);else{var $=Y.onUncaughtError;$(_,{componentStack:K.stack})}}catch(H){setTimeout(function(){throw H})}}function e5(Y,K,_){try{bH=_.source?u(_.source):null,JI=u(K);var $=Y.onCaughtError;$(_.value,{componentStack:_.stack,errorBoundary:K.tag===1?K.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function U6(Y,K,_){return _=X$(_),_.tag=CI,_.payload={element:null},_.callback=function(){KY(K.source,q8,Y,K)},_}function S6(Y){return Y=X$(Y),Y.tag=CI,Y}function T6(Y,K,_,$){var H=_.type.getDerivedStateFromError;if(typeof H==="function"){var X=$.value;Y.payload=function(){return H(X)},Y.callback=function(){H5(_),KY($.source,e5,K,_,$)}}var G=_.stateNode;G!==null&&typeof G.componentDidCatch==="function"&&(Y.callback=function(){H5(_),KY($.source,e5,K,_,$),typeof H!=="function"&&(F$===null?F$=new Set([this]):F$.add(this)),hC(this,$),typeof H==="function"||(_.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",u(_)||"Unknown")})}function Eq(Y,K,_,$,H){if(_.flags|=32768,xB&&uO(Y,H),$!==null&&typeof $==="object"&&typeof $.then==="function"){if(K=_.alternate,K!==null&&bO(K,_,H,!0),vY&&(g0=!0),_=OB.current,_!==null){switch(_.tag){case 13:return X0===null?H4():_.alternate===null&&VK===m0&&(VK=VI),_.flags&=-257,_.flags|=65536,_.lanes=H,$===XI?_.flags|=16384:(K=_.updateQueue,K===null?_.updateQueue=new Set([$]):K.add($),z4(Y,$,H)),!1;case 22:return _.flags|=65536,$===XI?_.flags|=16384:(K=_.updateQueue,K===null?(K={transitions:null,markerInstances:null,retryQueue:new Set([$])},_.updateQueue=K):(_=K.retryQueue,_===null?K.retryQueue=new Set([$]):_.add($)),z4(Y,$,H)),!1}throw Error("Unexpected Suspense handler tag ("+_.tag+"). This is a bug in React.")}return z4(Y,$,H),H4(),!1}if(vY)return g0=!0,K=OB.current,K!==null?((K.flags&65536)===0&&(K.flags|=256),K.flags|=65536,K.lanes=H,$!==OI&&UO(k_(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:$}),_))):($!==OI&&UO(k_(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:$}),_)),Y=Y.current.alternate,Y.flags|=65536,H&=-H,Y.lanes|=H,$=k_($,_),H=U6(Y.stateNode,$,H),A8(Y,H),VK!==C1&&(VK=cH)),!1;var X=k_(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:$}),_);if(MX===null?MX=[X]:MX.push(X),VK!==C1&&(VK=cH),K===null)return!0;$=k_($,_),_=K;do{switch(_.tag){case 3:return _.flags|=65536,Y=H&-H,_.lanes|=Y,Y=U6(_.stateNode,$,Y),A8(_,Y),!1;case 1:if(K=_.type,X=_.stateNode,(_.flags&128)===0&&(typeof K.getDerivedStateFromError==="function"||X!==null&&typeof X.componentDidCatch==="function"&&(F$===null||!F$.has(X))))return _.flags|=65536,H&=-H,_.lanes|=H,H=S6(H),T6(H,Y,_,$),A8(_,H),!1}_=_.return}while(_!==null);return!1}function nK(Y,K,_,$){K.child=Y===null?PZ(K,null,_,$):Z1(K,Y.child,_,$)}function YW(Y,K,_,$,H){_=_.render;var X=K.ref;if("ref"in $){var G={};for(var N in $)N!=="ref"&&(G[N]=$[N])}else G=$;if(B1(K),x(K),$=B6(Y,K,_,G,X,H),N=H6(),_Y(),Y!==null&&!lK)return O6(Y,K,H),E0(Y,K,H);return vY&&N&&s7(K),K.flags|=1,nK(Y,K,$,H),K.child}function KW(Y,K,_,$,H){if(Y===null){var X=_.type;if(typeof X==="function"&&!e6(X)&&X.defaultProps===void 0&&_.compare===null)return _=n$(X),K.tag=15,K.type=_,k6(K,X),_W(Y,K,_,$,H);return Y=Y4(_.type,null,$,K,K.mode,H),Y.ref=K.ref,Y.return=K,K.child=Y}if(X=Y.child,!h6(Y,H)){var G=X.memoizedProps;if(_=_.compare,_=_!==null?_:xO,_(G,$)&&Y.ref===K.ref)return E0(Y,K,H)}return K.flags|=1,Y=P$(X,$),Y.ref=K.ref,Y.return=K,K.child=Y}function _W(Y,K,_,$,H){if(Y!==null){var X=Y.memoizedProps;if(xO(X,$)&&Y.ref===K.ref&&K.type===Y.type)if(lK=!1,K.pendingProps=$=X,h6(Y,H))(Y.flags&131072)!==0&&(lK=!0);else return K.lanes=Y.lanes,E0(Y,K,H)}return y6(Y,K,_,$,H)}function BW(Y,K,_){var $=K.pendingProps,H=$.children,X=(K.stateNode._pendingVisibility&P1)!==0,G=Y!==null?Y.memoizedState:null;if(jO(Y,K),$.mode==="hidden"||X){if((K.flags&128)!==0){if($=G!==null?G.baseLanes|_:_,Y!==null){H=K.child=Y.child;for(X=0;H!==null;)X=X|H.lanes|H.childLanes,H=H.sibling;K.childLanes=X&~$}else K.childLanes=0,K.child=null;return $W(Y,K,$,_)}if((_&536870912)!==0)K.memoizedState={baseLanes:0,cachePool:null},Y!==null&&z8(K,G!==null?G.cachePool:null),G!==null?L5(K,G):t7(K),q5(K);else return K.lanes=K.childLanes=536870912,$W(Y,K,G!==null?G.baseLanes|_:_,_)}else G!==null?(z8(K,G.cachePool),L5(K,G),$$(K),K.memoizedState=null):(Y!==null&&z8(K,null),t7(K),$$(K));return nK(Y,K,H,_),K.child}function $W(Y,K,_,$){var H=K6();return H=H===null?null:{parent:jK._currentValue,pool:H},K.memoizedState={baseLanes:_,cachePool:H},Y!==null&&z8(K,null),t7(K),q5(K),Y!==null&&bO(Y,K,$,!0),null}function jO(Y,K){var _=K.ref;if(_===null)Y!==null&&Y.ref!==null&&(K.flags|=2097664);else{if(typeof _!=="function"&&typeof _!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(Y===null||Y.ref!==_)K.flags|=2097664}}function y6(Y,K,_,$,H){if(_.prototype&&typeof _.prototype.render==="function"){var X=b(_)||"Unknown";DZ[X]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",X,X),DZ[X]=!0)}if(K.mode&O_&&UB.recordLegacyContextWarning(K,null),Y===null&&(k6(K,K.type),_.contextTypes&&(X=b(_)||"Unknown",UZ[X]||(UZ[X]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",X)))),B1(K),x(K),_=B6(Y,K,_,$,void 0,H),$=H6(),_Y(),Y!==null&&!lK)return O6(Y,K,H),E0(Y,K,H);return vY&&$&&s7(K),K.flags|=1,nK(Y,K,_,H),K.child}function HW(Y,K,_,$,H,X){if(B1(K),x(K),b0=-1,wX=Y!==null&&Y.type!==K.type,K.updateQueue=null,_=$6(K,$,_,H),w5(Y,K),$=H6(),_Y(),Y!==null&&!lK)return O6(Y,K,X),E0(Y,K,X);return vY&&$&&s7(K),K.flags|=1,nK(Y,K,_,X),K.child}function OW(Y,K,_,$,H){switch(Z(K)){case!1:var X=K.stateNode,G=new K.type(K.memoizedProps,X.context).state;X.updater.enqueueSetState(X,G,null);break;case!0:K.flags|=128,K.flags|=65536,X=Error("Simulated error coming from DevTools");var N=H&-H;if(K.lanes|=N,G=HK,G===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");N=S6(N),T6(N,G,K,k_(X,K)),A8(K,N)}if(B1(K),K.stateNode===null){if(G=L$,X=_.contextType,"contextType"in _&&X!==null&&(X===void 0||X.$$typeof!==K0)&&!VZ.has(_)&&(VZ.add(_),N=X===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof X!=="object"?" However, it is set to a "+typeof X+".":X.$$typeof===T4?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(X).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",b(_)||"Component",N)),typeof X==="object"&&X!==null&&(G=LK(X)),X=new _($,G),K.mode&O_){sY(!0);try{X=new _($,G)}finally{sY(!1)}}if(G=K.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=ZI,K.stateNode=X,X._reactInternals=K,X._reactInternalInstance=JZ,typeof _.getDerivedStateFromProps==="function"&&G===null&&(G=b(_)||"Component",LZ.has(G)||(LZ.add(G),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",G,X.state===null?"null":"undefined",G))),typeof _.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"){var R=N=G=null;if(typeof X.componentWillMount==="function"&&X.componentWillMount.__suppressDeprecationWarning!==!0?G="componentWillMount":typeof X.UNSAFE_componentWillMount==="function"&&(G="UNSAFE_componentWillMount"),typeof X.componentWillReceiveProps==="function"&&X.componentWillReceiveProps.__suppressDeprecationWarning!==!0?N="componentWillReceiveProps":typeof X.UNSAFE_componentWillReceiveProps==="function"&&(N="UNSAFE_componentWillReceiveProps"),typeof X.componentWillUpdate==="function"&&X.componentWillUpdate.__suppressDeprecationWarning!==!0?R="componentWillUpdate":typeof X.UNSAFE_componentWillUpdate==="function"&&(R="UNSAFE_componentWillUpdate"),G!==null||N!==null||R!==null){X=b(_)||"Component";var A=typeof _.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";RZ.has(X)||(RZ.add(X),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,X,A,G!==null?`
  `+G:"",N!==null?`
  `+N:"",R!==null?`
  `+R:""))}}X=K.stateNode,G=b(_)||"Component",X.render||(_.prototype&&typeof _.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",G):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",G)),!X.getInitialState||X.getInitialState.isReactClassApproved||X.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",G),X.getDefaultProps&&!X.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",G),X.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",G),_.childContextTypes&&!EZ.has(_)&&(EZ.add(_),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",G)),_.contextTypes&&!AZ.has(_)&&(AZ.add(_),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",G)),typeof X.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",G),_.prototype&&_.prototype.isPureReactComponent&&typeof X.shouldComponentUpdate!=="undefined"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",b(_)||"A pure component"),typeof X.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",G),typeof X.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",G),typeof X.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",G),typeof X.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",G),N=X.props!==$,X.props!==void 0&&N&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",G),X.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",G,G),typeof X.getSnapshotBeforeUpdate!=="function"||typeof X.componentDidUpdate==="function"||qZ.has(_)||(qZ.add(_),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",b(_))),typeof X.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",G),typeof X.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",G),typeof _.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",G),(N=X.state)&&(typeof N!=="object"||sK(N))&&console.error("%s.state: must be set to an object or null",G),typeof X.getChildContext==="function"&&typeof _.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",G),X=K.stateNode,X.props=$,X.state=K.memoizedState,X.refs={},u6(K),G=_.contextType,X.context=typeof G==="object"&&G!==null?LK(G):L$,X.state===$&&(G=b(_)||"Component",CZ.has(G)||(CZ.add(G),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",G))),K.mode&O_&&UB.recordLegacyContextWarning(K,X),UB.recordUnsafeLifecycleWarnings(K,X),X.state=K.memoizedState,G=_.getDerivedStateFromProps,typeof G==="function"&&(M6(K,_,G,$),X.state=K.memoizedState),typeof _.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(G=X.state,typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount(),G!==X.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",u(K)||"Component"),ZI.enqueueReplaceState(X,X.state,null)),mO(K,$,X,H),fO(),X.state=K.memoizedState),typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&MB)!==IK&&(K.flags|=67108864),X=!0}else if(Y===null){X=K.stateNode;var g=K.memoizedProps;N=_1(_,g),X.props=N;var d=X.context;R=_.contextType,G=L$,typeof R==="object"&&R!==null&&(G=LK(R)),A=_.getDerivedStateFromProps,R=typeof A==="function"||typeof X.getSnapshotBeforeUpdate==="function",g=K.pendingProps!==g,R||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(g||d!==G)&&s5(K,X,$,G),E$=!1;var j=K.memoizedState;X.state=j,mO(K,$,X,H),fO(),d=K.memoizedState,g||j!==d||E$?(typeof A==="function"&&(M6(K,_,A,$),d=K.memoizedState),(N=E$||o5(K,_,N,$,j,d,G))?(R||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&MB)!==IK&&(K.flags|=67108864)):(typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&MB)!==IK&&(K.flags|=67108864),K.memoizedProps=$,K.memoizedState=d),X.props=$,X.state=d,X.context=G,X=N):(typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&MB)!==IK&&(K.flags|=67108864),X=!1)}else{X=K.stateNode,p6(Y,K),G=K.memoizedProps,R=_1(_,G),X.props=R,A=K.pendingProps,j=X.context,d=_.contextType,N=L$,typeof d==="object"&&d!==null&&(N=LK(d)),g=_.getDerivedStateFromProps,(d=typeof g==="function"||typeof X.getSnapshotBeforeUpdate==="function")||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(G!==A||j!==N)&&s5(K,X,$,N),E$=!1,j=K.memoizedState,X.state=j,mO(K,$,X,H),fO();var p=K.memoizedState;G!==A||j!==p||E$||Y!==null&&Y.dependencies!==null&&C8(Y.dependencies)?(typeof g==="function"&&(M6(K,_,g,$),p=K.memoizedState),(R=E$||o5(K,_,R,$,j,p,N)||Y!==null&&Y.dependencies!==null&&C8(Y.dependencies))?(d||typeof X.UNSAFE_componentWillUpdate!=="function"&&typeof X.componentWillUpdate!=="function"||(typeof X.componentWillUpdate==="function"&&X.componentWillUpdate($,p,N),typeof X.UNSAFE_componentWillUpdate==="function"&&X.UNSAFE_componentWillUpdate($,p,N)),typeof X.componentDidUpdate==="function"&&(K.flags|=4),typeof X.getSnapshotBeforeUpdate==="function"&&(K.flags|=1024)):(typeof X.componentDidUpdate!=="function"||G===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||G===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=1024),K.memoizedProps=$,K.memoizedState=p),X.props=$,X.state=p,X.context=N,X=R):(typeof X.componentDidUpdate!=="function"||G===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||G===Y.memoizedProps&&j===Y.memoizedState||(K.flags|=1024),X=!1)}if(N=X,jO(Y,K),G=(K.flags&128)!==0,N||G){if(N=K.stateNode,f.getCurrentStack=K===null?null:z_,YB=!1,B_=K,G&&typeof _.getDerivedStateFromError!=="function")_=null,x_=-1;else{if(x(K),_=a3(N),K.mode&O_){sY(!0);try{a3(N)}finally{sY(!1)}}_Y()}K.flags|=1,Y!==null&&G?(K.child=Z1(K,Y.child,null,H),K.child=Z1(K,null,_,H)):nK(Y,K,_,H),K.memoizedState=N.state,Y=K.child}else Y=E0(Y,K,H);return H=K.stateNode,X&&H.props!==$&&(vH||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",u(K)||"a component"),vH=!0),Y}function XW(Y,K,_,$){return MO(),K.flags|=256,nK(Y,K,_,$),K.child}function k6(Y,K){K&&K.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,K.displayName||K.name||"Component"),typeof K.getDerivedStateFromProps==="function"&&(Y=b(K)||"Unknown",SZ[Y]||(console.error("%s: Function components do not support getDerivedStateFromProps.",Y),SZ[Y]=!0)),typeof K.contextType==="object"&&K.contextType!==null&&(K=b(K)||"Unknown",MZ[K]||(console.error("%s: Function components do not support contextType.",K),MZ[K]=!0))}function g6(Y){return{baseLanes:Y,cachePool:C5()}}function j6(Y,K,_){return Y=Y!==null?Y.childLanes&~_:0,K&&(Y|=h_),Y}function zW(Y,K,_){var $,H=K.pendingProps;W(K)&&(K.flags|=128);var X=!1,G=(K.flags&128)!==0;if(($=G)||($=Y!==null&&Y.memoizedState===null?!1:(kK.current&qX)!==0),$&&(X=!0,K.flags&=-129),$=(K.flags&32)!==0,K.flags&=-33,Y===null){if(vY){if(X?B$(K):$$(K),vY){var N=rK,R;if(!(R=!N)){Y:{var A=N;for(R=O0;A.nodeType!==8;){if(!R){R=null;break Y}if(A=e_(A.nextSibling),A===null){R=null;break Y}}R=A}R!==null?(s$(),K.memoizedState={dehydrated:R,treeContext:N1!==null?{id:y0,overflow:k0}:null,retryLane:536870912},A=L(18,null,null,IK),A.stateNode=R,A.return=K,K.child=A,W_=K,rK=null,R=!0):R=!1,R=!R}R&&(r7(K,N),r$(K))}if(N=K.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data===M1?K.lanes=16:K.lanes=536870912,null;A0(K)}if(N=H.children,H=H.fallback,X)return $$(K),X=K.mode,N=v6({mode:"hidden",children:N},X),H=H1(H,X,_,null),N.return=K,H.return=K,N.sibling=H,K.child=N,X=K.child,X.memoizedState=g6(_),X.childLanes=j6(Y,$,_),K.memoizedState=LI,H;return B$(K),b6(K,N)}var g=Y.memoizedState;if(g!==null&&(N=g.dehydrated,N!==null)){if(G)K.flags&256?(B$(K),K.flags&=-257,K=f6(Y,K,_)):K.memoizedState!==null?($$(K),K.child=Y.child,K.flags|=128,K=null):($$(K),X=H.fallback,N=K.mode,H=v6({mode:"visible",children:H.children},N),X=H1(X,N,_,null),X.flags|=2,H.return=K,X.return=K,H.sibling=X,K.child=H,Z1(K,Y.child,null,_),H=K.child,H.memoizedState=g6(_),H.childLanes=j6(Y,$,_),K.memoizedState=LI,K=X);else if(B$(K),vY&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),N.data===M1){if($=N.nextSibling&&N.nextSibling.dataset,$){R=$.dgst;var d=$.msg;A=$.stck;var j=$.cstck}N=d,$=R,H=A,R=X=j,X=N?Error(N):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),X.stack=H||"",X.digest=$,$=R===void 0?null:R,H={value:X,source:null,stack:$},typeof $==="string"&&HI.set(X,H),UO(H),K=f6(Y,K,_)}else if(lK||bO(Y,K,_,!1),$=(_&Y.childLanes)!==0,lK||$){if($=HK,$!==null){if(H=_&-_,(H&42)!==0)H=1;else switch(H){case 2:H=1;break;case 8:H=4;break;case 32:H=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:H=64;break;case 268435456:H=134217728;break;default:H=0}if(H=(H&($.suspendedLanes|_))!==0?0:H,H!==0&&H!==g.retryLane)throw g.retryLane=H,__(Y,H),CK($,Y,H),FZ}N.data===D1||H4(),K=f6(Y,K,_)}else N.data===D1?(K.flags|=128,K.child=Y.child,K=iq.bind(null,Y),N._reactRetry=K,K=null):(Y=g.treeContext,rK=e_(N.nextSibling),W_=K,vY=!0,SB=null,g0=!1,HB=null,O0=!1,Y!==null&&(s$(),BB[$B++]=y0,BB[$B++]=k0,BB[$B++]=N1,y0=Y.id,k0=Y.overflow,N1=K),K=b6(K,H.children),K.flags|=4096);return K}if(X)return $$(K),X=H.fallback,N=K.mode,R=Y.child,A=R.sibling,H=P$(R,{mode:"hidden",children:H.children}),H.subtreeFlags=R.subtreeFlags&31457280,A!==null?X=P$(A,X):(X=H1(X,N,_,null),X.flags|=2),X.return=K,H.return=K,H.sibling=X,K.child=H,H=X,X=K.child,N=Y.child.memoizedState,N===null?N=g6(_):(R=N.cachePool,R!==null?(A=jK._currentValue,R=R.parent!==A?{parent:A,pool:A}:R):R=C5(),N={baseLanes:N.baseLanes|_,cachePool:R}),X.memoizedState=N,X.childLanes=j6(Y,$,_),K.memoizedState=LI,H;return B$(K),_=Y.child,Y=_.sibling,_=P$(_,{mode:"visible",children:H.children}),_.return=K,_.sibling=null,Y!==null&&($=K.deletions,$===null?(K.deletions=[Y],K.flags|=16):$.push(Y)),K.child=_,K.memoizedState=null,_}function b6(Y,K){return K=v6({mode:"visible",children:K},Y.mode),K.return=Y,Y.child=K}function v6(Y,K){return mW(Y,K,0,null)}function f6(Y,K,_){return Z1(K,Y.child,null,_),Y=b6(K,K.pendingProps.children),Y.flags|=2,K.memoizedState=null,Y}function IW(Y,K,_){Y.lanes|=K;var $=Y.alternate;$!==null&&($.lanes|=K),c6(Y.return,K,_)}function PW(Y,K){var _=sK(Y);return Y=!_&&typeof y(Y)==="function",_||Y?(_=_?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",_,K,_),!1):!0}function m6(Y,K,_,$,H){var X=Y.memoizedState;X===null?Y.memoizedState={isBackwards:K,rendering:null,renderingStartTime:0,last:$,tail:_,tailMode:H}:(X.isBackwards=K,X.rendering=null,X.renderingStartTime=0,X.last=$,X.tail=_,X.tailMode=H)}function GW(Y,K,_){var $=K.pendingProps,H=$.revealOrder,X=$.tail;if($=$.children,H!==void 0&&H!=="forwards"&&H!=="backwards"&&H!=="together"&&!TZ[H])if(TZ[H]=!0,typeof H==="string")switch(H.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',H,H.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',H,H.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',H)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',H);X===void 0||QI[X]||(X!=="collapsed"&&X!=="hidden"?(QI[X]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',X)):H!=="forwards"&&H!=="backwards"&&(QI[X]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',X)));Y:if((H==="forwards"||H==="backwards")&&$!==void 0&&$!==null&&$!==!1)if(sK($)){for(var G=0;G<$.length;G++)if(!PW($[G],G))break Y}else if(G=y($),typeof G==="function"){if(G=G.call($))for(var N=G.next(),R=0;!N.done;N=G.next()){if(!PW(N.value,R))break Y;R++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',H);if(nK(Y,K,$,_),$=kK.current,($&qX)!==0)$=$&yH|qX,K.flags|=128;else{if(Y!==null&&(Y.flags&128)!==0)Y:for(Y=K.child;Y!==null;){if(Y.tag===13)Y.memoizedState!==null&&IW(Y,_,K);else if(Y.tag===19)IW(Y,_,K);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===K)break Y;for(;Y.sibling===null;){if(Y.return===null||Y.return===K)break Y;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}$&=yH}switch(kY(kK,$,K),H){case"forwards":_=K.child;for(H=null;_!==null;)Y=_.alternate,Y!==null&&X8(Y)===null&&(H=_),_=_.sibling;_=H,_===null?(H=K.child,K.child=null):(H=_.sibling,_.sibling=null),m6(K,!1,H,_,X);break;case"backwards":_=null,H=K.child;for(K.child=null;H!==null;){if(Y=H.alternate,Y!==null&&X8(Y)===null){K.child=H;break}Y=H.sibling,H.sibling=_,_=H,H=Y}m6(K,!0,_,null,X);break;case"together":m6(K,!1,null,null,void 0);break;default:K.memoizedState=null}return K.child}function E0(Y,K,_){if(Y!==null&&(K.dependencies=Y.dependencies),x_=-1,V$|=K.lanes,(_&K.childLanes)===0)if(Y!==null){if(bO(Y,K,_,!1),(_&K.childLanes)===0)return null}else return null;if(Y!==null&&K.child!==Y.child)throw Error("Resuming work not yet implemented.");if(K.child!==null){Y=K.child,_=P$(Y,Y.pendingProps),K.child=_;for(_.return=K;Y.sibling!==null;)Y=Y.sibling,_=_.sibling=P$(Y,Y.pendingProps),_.return=K;_.sibling=null}return K.child}function h6(Y,K){if((Y.lanes&K)!==0)return!0;return Y=Y.dependencies,Y!==null&&C8(Y)?!0:!1}function Vq(Y,K,_){switch(K.tag){case 3:pK(K,K.stateNode.containerInfo),O$(K,jK,Y.memoizedState.cache),MO();break;case 27:case 5:uB(K);break;case 4:pK(K,K.stateNode.containerInfo);break;case 10:O$(K,K.type,K.memoizedProps.value);break;case 12:(_&K.childLanes)!==0&&(K.flags|=4),K.flags|=2048;var $=K.stateNode;$.effectDuration=-0,$.passiveEffectDuration=-0;break;case 13:if($=K.memoizedState,$!==null){if($.dehydrated!==null)return B$(K),K.flags|=128,null;if((_&K.child.childLanes)!==0)return zW(Y,K,_);return B$(K),Y=E0(Y,K,_),Y!==null?Y.sibling:null}B$(K);break;case 19:var H=(Y.flags&128)!==0;if($=(_&K.childLanes)!==0,$||(bO(Y,K,_,!1),$=(_&K.childLanes)!==0),H){if($)return GW(Y,K,_);K.flags|=128}if(H=K.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),kY(kK,kK.current,K),$)break;else return null;case 22:case 23:return K.lanes=0,BW(Y,K,_);case 24:O$(K,jK,Y.memoizedState.cache)}return E0(Y,K,_)}function d6(Y,K,_){if(K._debugNeedsRemount&&Y!==null){_=Y4(K.type,K.key,K.pendingProps,K._debugOwner||null,K.mode,K.lanes);var $=K.return;if($===null)throw Error("Cannot swap the root fiber.");if(Y.alternate=null,K.alternate=null,_.index=K.index,_.sibling=K.sibling,_.return=K.return,_.ref=K.ref,_._debugInfo=K._debugInfo,K===$.child)$.child=_;else{var H=$.child;if(H===null)throw Error("Expected parent to have a child.");for(;H.sibling!==K;)if(H=H.sibling,H===null)throw Error("Expected to find the previous sibling.");H.sibling=_}return K=$.deletions,K===null?($.deletions=[Y],$.flags|=16):K.push(Y),_.flags|=2,_}if(Y!==null)if(Y.memoizedProps!==K.pendingProps||K.type!==Y.type)lK=!0;else{if(!h6(Y,_)&&(K.flags&128)===0)return lK=!1,Vq(Y,K,_);lK=(Y.flags&131072)!==0?!0:!1}else{if(lK=!1,$=vY)s$(),$=(K.flags&1048576)!==0;$&&($=K.index,s$(),X5(K,_2,$))}switch(K.lanes=0,K.tag){case 16:Y:if($=K.pendingProps,Y=q$(K.elementType),K.type=Y,typeof Y==="function")e6(Y)?($=_1(Y,$),K.tag=1,K.type=Y=n$(Y),K=OW(null,K,Y,$,_)):(K.tag=0,k6(K,Y),K.type=Y=n$(Y),K=y6(null,K,Y,$,_));else{if(Y!==void 0&&Y!==null){if(H=Y.$$typeof,H===rO){K.tag=11,K.type=Y=p7(Y),K=YW(null,K,Y,$,_);break Y}else if(H===h8){K.tag=14,K=KW(null,K,Y,$,_);break Y}}throw K="",Y!==null&&typeof Y==="object"&&Y.$$typeof===b_&&(K=" Did you wrap a component in React.lazy() more than once?"),Y=b(Y)||Y,Error("Element type is invalid. Received a promise that resolves to: "+Y+". Lazy element type must resolve to a class or function."+K)}return K;case 0:return y6(Y,K,K.type,K.pendingProps,_);case 1:return $=K.type,H=_1($,K.pendingProps),OW(Y,K,$,H,_);case 3:Y:{if(pK(K,K.stateNode.containerInfo),Y===null)throw Error("Should have a current fiber. This is a bug in React.");var X=K.pendingProps;H=K.memoizedState,$=H.element,p6(Y,K),mO(K,X,null,_);var G=K.memoizedState;if(X=G.cache,O$(K,jK,X),X!==H.cache&&l6(K,[jK],_,!0),fO(),X=G.element,H.isDehydrated)if(H={element:X,isDehydrated:!1,cache:G.cache},K.updateQueue.baseState=H,K.memoizedState=H,K.flags&256){K=XW(Y,K,X,_);break Y}else if(X!==$){$=k_(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),K),UO($),K=XW(Y,K,X,_);break Y}else for(rK=e_(K.stateNode.containerInfo.firstChild),W_=K,vY=!0,SB=null,g0=!1,HB=null,O0=!0,Y=PZ(K,null,X,_),K.child=Y;Y;)Y.flags=Y.flags&-3|4096,Y=Y.sibling;else{if(MO(),X===$){K=E0(Y,K,_);break Y}nK(Y,K,X,_)}K=K.child}return K;case 26:return jO(Y,K),Y===null?(Y=TN(K.type,null,K.pendingProps,null))?K.memoizedState=Y:vY||(Y=K.type,_=K.pendingProps,$=PK(Z$.current),$=T8($).createElement(Y),$[H_]=K,$[V_]=_,oK($,Y,_),FK($),K.stateNode=$):K.memoizedState=TN(K.type,Y.memoizedProps,K.pendingProps,Y.memoizedState),null;case 27:return uB(K),Y===null&&vY&&(H=PK(Z$.current),$=Q_(),H=K.stateNode=UN(K.type,K.pendingProps,H,$,!1),g0||($=wN(H,K.type,K.pendingProps,$),$!==null&&(a$(K,0).serverProps=$)),W_=K,O0=!0,rK=e_(H.firstChild)),$=K.pendingProps.children,Y!==null||vY?nK(Y,K,$,_):K.child=Z1(K,null,$,_),jO(Y,K),K.child;case 5:return Y===null&&vY&&(X=Q_(),$=h7(K.type,X.ancestorInfo),H=rK,(G=!H)||(G=GR(H,K.type,K.pendingProps,O0),G!==null?(K.stateNode=G,g0||(X=wN(G,K.type,K.pendingProps,X),X!==null&&(a$(K,0).serverProps=X)),W_=K,rK=e_(G.firstChild),O0=!1,X=!0):X=!1,G=!X),G&&($&&r7(K,H),r$(K))),uB(K),H=K.type,X=K.pendingProps,G=Y!==null?Y.memoizedProps:null,$=X.children,R4(H,X)?$=null:G!==null&&R4(H,G)&&(K.flags|=32),K.memoizedState!==null&&(H=B6(Y,K,qq,null,null,_),bX._currentValue=H),jO(Y,K),nK(Y,K,$,_),K.child;case 6:return Y===null&&vY&&(Y=K.pendingProps,_=Q_().ancestorInfo.current,Y=_!=null?iz(Y,_.tag):!0,_=rK,($=!_)||($=WR(_,K.pendingProps,O0),$!==null?(K.stateNode=$,W_=K,rK=null,$=!0):$=!1,$=!$),$&&(Y&&r7(K,_),r$(K))),null;case 13:return zW(Y,K,_);case 4:return pK(K,K.stateNode.containerInfo),$=K.pendingProps,Y===null?K.child=Z1(K,null,$,_):nK(Y,K,$,_),K.child;case 11:return YW(Y,K,K.type,K.pendingProps,_);case 7:return nK(Y,K,K.pendingProps,_),K.child;case 8:return nK(Y,K,K.pendingProps.children,_),K.child;case 12:return K.flags|=4,K.flags|=2048,$=K.stateNode,$.effectDuration=-0,$.passiveEffectDuration=-0,nK(Y,K,K.pendingProps.children,_),K.child;case 10:return $=K.type,H=K.pendingProps,X=H.value,"value"in H||yZ||(yZ=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),O$(K,$,X),nK(Y,K,H.children,_),K.child;case 9:return H=K.type._context,$=K.pendingProps.children,typeof $!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),B1(K),H=LK(H),x(K),$=zI($,H,void 0),_Y(),K.flags|=1,nK(Y,K,$,_),K.child;case 14:return KW(Y,K,K.type,K.pendingProps,_);case 15:return _W(Y,K,K.type,K.pendingProps,_);case 19:return GW(Y,K,_);case 22:return BW(Y,K,_);case 24:return B1(K),$=LK(jK),Y===null?(H=K6(),H===null&&(H=HK,X=Y6(),H.pooledCache=X,t$(X),X!==null&&(H.pooledCacheLanes|=_),H=X),K.memoizedState={parent:$,cache:H},u6(K),O$(K,jK,H)):((Y.lanes&_)!==0&&(p6(Y,K),mO(K,null,null,_),fO()),H=Y.memoizedState,X=K.memoizedState,H.parent!==$?(H={parent:$,cache:$},K.memoizedState=H,K.lanes===0&&(K.memoizedState=K.updateQueue.baseState=H),O$(K,jK,$)):($=X.cache,O$(K,jK,$),$!==H.cache&&l6(K,[jK],_,!0))),nK(Y,K,K.pendingProps.children,_),K.child;case 29:throw K.pendingProps}throw Error("Unknown unit of work tag ("+K.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function R8(){fH=I2=null,mH=!1}function O$(Y,K,_){kY(qI,K._currentValue,Y),K._currentValue=_,kY(RI,K._currentRenderer,Y),K._currentRenderer!==void 0&&K._currentRenderer!==null&&K._currentRenderer!==kZ&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),K._currentRenderer=kZ}function V0(Y,K){Y._currentValue=qI.current;var _=RI.current;uY(RI,K),Y._currentRenderer=_,uY(qI,K)}function c6(Y,K,_){for(;Y!==null;){var $=Y.alternate;if((Y.childLanes&K)!==K?(Y.childLanes|=K,$!==null&&($.childLanes|=K)):$!==null&&($.childLanes&K)!==K&&($.childLanes|=K),Y===_)break;Y=Y.return}Y!==_&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function l6(Y,K,_,$){var H=Y.child;H!==null&&(H.return=Y);for(;H!==null;){var X=H.dependencies;if(X!==null){var G=H.child;X=X.firstContext;Y:for(;X!==null;){var N=X;X=H;for(var R=0;R<K.length;R++)if(N.context===K[R]){X.lanes|=_,N=X.alternate,N!==null&&(N.lanes|=_),c6(X.return,_,Y),$||(G=null);break Y}X=N.next}}else if(H.tag===18){if(G=H.return,G===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");G.lanes|=_,X=G.alternate,X!==null&&(X.lanes|=_),c6(G,_,Y),G=null}else G=H.child;if(G!==null)G.return=H;else for(G=H;G!==null;){if(G===Y){G=null;break}if(H=G.sibling,H!==null){H.return=G.return,G=H;break}G=G.return}H=G}}function bO(Y,K,_,$){Y=null;for(var H=K,X=!1;H!==null;){if(!X){if((H.flags&524288)!==0)X=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var G=H.alternate;if(G===null)throw Error("Should have a current fiber. This is a bug in React.");if(G=G.memoizedProps,G!==null){var N=H.type;G_(H.pendingProps.value,G.value)||(Y!==null?Y.push(N):Y=[N])}}else if(H===d8.current){if(G=H.alternate,G===null)throw Error("Should have a current fiber. This is a bug in React.");G.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(Y!==null?Y.push(bX):Y=[bX])}H=H.return}Y!==null&&l6(K,Y,_,$),K.flags|=262144}function C8(Y){for(Y=Y.firstContext;Y!==null;){if(!G_(Y.context._currentValue,Y.memoizedValue))return!0;Y=Y.next}return!1}function B1(Y){I2=Y,fH=null,Y=Y.dependencies,Y!==null&&(Y.firstContext=null)}function LK(Y){return mH&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),WW(I2,Y)}function w8(Y,K){return I2===null&&B1(Y),WW(Y,K)}function WW(Y,K){var _=K._currentValue;if(K={context:K,memoizedValue:_,next:null},fH===null){if(Y===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");fH=K,Y.dependencies={lanes:0,firstContext:K,_debugThenableState:null},Y.flags|=524288}else fH=fH.next=K;return _}function u6(Y){Y.updateQueue={baseState:Y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function p6(Y,K){Y=Y.updateQueue,K.updateQueue===Y&&(K.updateQueue={baseState:Y.baseState,firstBaseUpdate:Y.firstBaseUpdate,lastBaseUpdate:Y.lastBaseUpdate,shared:Y.shared,callbacks:null})}function X$(Y){return{lane:Y,tag:gZ,payload:null,callback:null,next:null}}function z$(Y,K,_){var $=Y.updateQueue;if($===null)return null;if($=$.shared,wI===$&&!vZ){var H=u(Y);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,H),vZ=!0}if((ZK&J_)!==f_)return H=$.pending,H===null?K.next=K:(K.next=H.next,H.next=K),$.pending=K,K=tz(Y),B5(Y,null,_),K;return rz(Y,$,K,_),tz(Y)}function vO(Y,K,_){if(K=K.updateQueue,K!==null&&(K=K.shared,(_&4194176)!==0)){var $=K.lanes;$&=Y.pendingLanes,_|=$,K.lanes=_,p1(Y,_)}}function A8(Y,K){var{updateQueue:_,alternate:$}=Y;if($!==null&&($=$.updateQueue,_===$)){var H=null,X=null;if(_=_.firstBaseUpdate,_!==null){do{var G={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};X===null?H=X=G:X=X.next=G,_=_.next}while(_!==null);X===null?H=X=K:X=X.next=K}else H=X=K;_={baseState:$.baseState,firstBaseUpdate:H,lastBaseUpdate:X,shared:$.shared,callbacks:$.callbacks},Y.updateQueue=_;return}Y=_.lastBaseUpdate,Y===null?_.firstBaseUpdate=K:Y.next=K,_.lastBaseUpdate=K}function fO(){if(AI){var Y=kH;if(Y!==null)throw Y}}function mO(Y,K,_,$){AI=!1;var H=Y.updateQueue;E$=!1,wI=H.shared;var{firstBaseUpdate:X,lastBaseUpdate:G}=H,N=H.shared.pending;if(N!==null){H.shared.pending=null;var R=N,A=R.next;R.next=null,G===null?X=A:G.next=A,G=R;var g=Y.alternate;g!==null&&(g=g.updateQueue,N=g.lastBaseUpdate,N!==G&&(N===null?g.firstBaseUpdate=A:N.next=A,g.lastBaseUpdate=R))}if(X!==null){var d=H.baseState;G=0,g=A=R=null,N=X;do{var j=N.lane&-536870913,p=j!==N.lane;if(p?(TY&j)===j:($&j)===j){j!==0&&j===J1&&(AI=!0),g!==null&&(g=g.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});Y:{j=Y;var IY=N,EY=K,MK=_;switch(IY.tag){case jZ:if(IY=IY.payload,typeof IY==="function"){mH=!0;var pY=IY.call(MK,d,EY);if(j.mode&O_){sY(!0);try{IY.call(MK,d,EY)}finally{sY(!1)}}mH=!1,d=pY;break Y}d=IY;break Y;case CI:j.flags=j.flags&-65537|128;case gZ:if(pY=IY.payload,typeof pY==="function"){if(mH=!0,IY=pY.call(MK,d,EY),j.mode&O_){sY(!0);try{pY.call(MK,d,EY)}finally{sY(!1)}}mH=!1}else IY=pY;if(IY===null||IY===void 0)break Y;d=FY({},d,IY);break Y;case bZ:E$=!0}}j=N.callback,j!==null&&(Y.flags|=64,p&&(Y.flags|=8192),p=H.callbacks,p===null?H.callbacks=[j]:p.push(j))}else p={lane:j,tag:N.tag,payload:N.payload,callback:N.callback,next:null},g===null?(A=g=p,R=d):g=g.next=p,G|=j;if(N=N.next,N===null)if(N=H.shared.pending,N===null)break;else p=N,N=p.next,p.next=null,H.lastBaseUpdate=p,H.shared.pending=null}while(1);g===null&&(R=d),H.baseState=R,H.firstBaseUpdate=A,H.lastBaseUpdate=g,X===null&&(H.shared.lanes=0),V$|=G,Y.lanes=G,Y.memoizedState=d}wI=null}function NW(Y,K){if(typeof Y!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+Y);Y.call(K)}function xq(Y,K){var _=Y.shared.hiddenCallbacks;if(_!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<_.length;Y++)NW(_[Y],K)}function ZW(Y,K){var _=Y.callbacks;if(_!==null)for(Y.callbacks=null,Y=0;Y<_.length;Y++)NW(_[Y],K)}function rB(Y){return(Y.mode&aK)!==IK}function JW(Y,K){rB(Y)?(aB(),hO(K,Y),sB()):hO(K,Y)}function i6(Y,K,_){rB(Y)?(aB(),BH(_,Y,K),sB()):BH(_,Y,K)}function hO(Y,K){try{var _=K.updateQueue,$=_!==null?_.lastEffect:null;if($!==null){var H=$.next;_=H;do{if((_.tag&Y)===Y&&((Y&gK)!==XB?YY!==null&&typeof YY.markComponentPassiveEffectMountStarted==="function"&&YY.markComponentPassiveEffectMountStarted(K):(Y&tK)!==XB&&YY!==null&&typeof YY.markComponentLayoutEffectMountStarted==="function"&&YY.markComponentLayoutEffectMountStarted(K),$=void 0,(Y&N_)!==XB&&(pH=!0),$=KY(K,dC,_),(Y&N_)!==XB&&(pH=!1),(Y&gK)!==XB?YY!==null&&typeof YY.markComponentPassiveEffectMountStopped==="function"&&YY.markComponentPassiveEffectMountStopped():(Y&tK)!==XB&&YY!==null&&typeof YY.markComponentLayoutEffectMountStopped==="function"&&YY.markComponentLayoutEffectMountStopped(),$!==void 0&&typeof $!=="function")){var X=void 0;X=(_.tag&tK)!==0?"useLayoutEffect":(_.tag&N_)!==0?"useInsertionEffect":"useEffect";var G=void 0;G=$===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof $.then==="function"?`

It looks like you wrote `+X+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+X+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+$,KY(K,function(N,R){console.error("%s must not return anything besides a function, which is used for clean-up.%s",N,R)},X,G)}_=_.next}while(_!==H)}}catch(N){eY(K,K.return,N)}}function BH(Y,K,_){try{var $=K.updateQueue,H=$!==null?$.lastEffect:null;if(H!==null){var X=H.next;$=X;do{if(($.tag&Y)===Y){var G=$.inst,N=G.destroy;N!==void 0&&(G.destroy=void 0,(Y&gK)!==XB?YY!==null&&typeof YY.markComponentPassiveEffectUnmountStarted==="function"&&YY.markComponentPassiveEffectUnmountStarted(K):(Y&tK)!==XB&&YY!==null&&typeof YY.markComponentLayoutEffectUnmountStarted==="function"&&YY.markComponentLayoutEffectUnmountStarted(K),(Y&N_)!==XB&&(pH=!0),KY(K,cC,K,_,N),(Y&N_)!==XB&&(pH=!1),(Y&gK)!==XB?YY!==null&&typeof YY.markComponentPassiveEffectUnmountStopped==="function"&&YY.markComponentPassiveEffectUnmountStopped():(Y&tK)!==XB&&YY!==null&&typeof YY.markComponentLayoutEffectUnmountStopped==="function"&&YY.markComponentLayoutEffectUnmountStopped())}$=$.next}while($!==X)}}catch(R){eY(K,K.return,R)}}function QW(Y,K){rB(Y)?(aB(),hO(K,Y),sB()):hO(K,Y)}function n6(Y,K,_){rB(Y)?(aB(),BH(_,Y,K),sB()):BH(_,Y,K)}function LW(Y){var K=Y.updateQueue;if(K!==null){var _=Y.stateNode;Y.type.defaultProps||"ref"in Y.memoizedProps||vH||(_.props!==Y.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(Y)||"instance"),_.state!==Y.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(Y)||"instance"));try{KY(Y,ZW,K,_)}catch($){eY(Y,Y.return,$)}}}function Fq(Y,K,_){return Y.getSnapshotBeforeUpdate(K,_)}function Dq(Y,K){var{memoizedProps:_,memoizedState:$}=K;K=Y.stateNode,Y.type.defaultProps||"ref"in Y.memoizedProps||vH||(K.props!==Y.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(Y)||"instance"),K.state!==Y.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(Y)||"instance"));try{var H=_1(Y.type,_,Y.elementType===Y.type),X=KY(Y,Fq,K,H,$);_=fZ,X!==void 0||_.has(Y.type)||(_.add(Y.type),KY(Y,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",u(Y))})),K.__reactInternalSnapshotBeforeUpdate=X}catch(G){eY(Y,Y.return,G)}}function qW(Y,K,_){_.props=_1(Y.type,Y.memoizedProps),_.state=Y.memoizedState,rB(Y)?(aB(),KY(Y,_Z,Y,K,_),sB()):KY(Y,_Z,Y,K,_)}function Mq(Y){var K=Y.ref;if(K!==null){var _=Y.stateNode;if(typeof K==="function")if(rB(Y))try{aB(),Y.refCleanup=K(_)}finally{sB()}else Y.refCleanup=K(_);else typeof K==="string"?console.error("String refs are no longer supported."):K.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",u(Y)),K.current=_}}function $1(Y,K){try{KY(Y,Mq,Y)}catch(_){eY(Y,K,_)}}function g_(Y,K){var{ref:_,refCleanup:$}=Y;if(_!==null)if(typeof $==="function")try{if(rB(Y))try{aB(),KY(Y,$)}finally{sB(Y)}else KY(Y,$)}catch(H){eY(Y,K,H)}finally{Y.refCleanup=null,Y=Y.alternate,Y!=null&&(Y.refCleanup=null)}else if(typeof _==="function")try{if(rB(Y))try{aB(),KY(Y,_,null)}finally{sB(Y)}else KY(Y,_,null)}catch(H){eY(Y,K,H)}else _.current=null}function RW(Y,K,_,$){var H=Y.memoizedProps,X=H.id,G=H.onCommit;H=H.onRender,K=K===null?"mount":"update",t8&&(K="nested-update"),typeof H==="function"&&H(X,K,Y.actualDuration,Y.treeBaseDuration,Y.actualStartTime,_),typeof G==="function"&&G(Y.memoizedProps.id,K,$,_)}function Uq(Y,K,_,$){var H=Y.memoizedProps;Y=H.id,H=H.onPostCommit,K=K===null?"mount":"update",t8&&(K="nested-update"),typeof H==="function"&&H(Y,K,$,_)}function CW(Y){var{type:K,memoizedProps:_,stateNode:$}=Y;try{KY(Y,_R,$,K,_,Y)}catch(H){eY(Y,Y.return,H)}}function wW(Y,K,_){try{KY(Y,BR,Y.stateNode,Y.type,_,K,Y)}catch($){eY(Y,Y.return,$)}}function AW(Y){return Y.tag===5||Y.tag===3||Y.tag===26||Y.tag===27||Y.tag===4}function o6(Y){Y:for(;;){for(;Y.sibling===null;){if(Y.return===null||AW(Y.return))return null;Y=Y.return}Y.sibling.return=Y.return;for(Y=Y.sibling;Y.tag!==5&&Y.tag!==6&&Y.tag!==27&&Y.tag!==18;){if(Y.flags&2)continue Y;if(Y.child===null||Y.tag===4)continue Y;else Y.child.return=Y,Y=Y.child}if(!(Y.flags&2))return Y.stateNode}}function s6(Y,K,_){var $=Y.tag;if($===5||$===6)Y=Y.stateNode,K?_.nodeType===8?_.parentNode.insertBefore(Y,K):_.insertBefore(Y,K):(_.nodeType===8?(K=_.parentNode,K.insertBefore(Y,_)):(K=_,K.appendChild(Y)),_=_._reactRootContainer,_!==null&&_!==void 0||K.onclick!==null||(K.onclick=U8));else if($!==4&&$!==27&&(Y=Y.child,Y!==null))for(s6(Y,K,_),Y=Y.sibling;Y!==null;)s6(Y,K,_),Y=Y.sibling}function E8(Y,K,_){var $=Y.tag;if($===5||$===6)Y=Y.stateNode,K?_.insertBefore(Y,K):_.appendChild(Y);else if($!==4&&$!==27&&(Y=Y.child,Y!==null))for(E8(Y,K,_),Y=Y.sibling;Y!==null;)E8(Y,K,_),Y=Y.sibling}function Sq(Y){if(Y.tag!==27){Y:{for(var K=Y.return;K!==null;){if(AW(K)){var _=K;break Y}K=K.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(_.tag){case 27:K=_.stateNode,_=o6(Y),E8(Y,_,K);break;case 5:K=_.stateNode,_.flags&32&&(VN(K),_.flags&=-33),_=o6(Y),E8(Y,_,K);break;case 3:case 4:K=_.stateNode.containerInfo,_=o6(Y),s6(Y,_,K);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function Tq(Y,K){if(Y=Y.containerInfo,dI=U2,Y=K5(Y),l7(Y)){if("selectionStart"in Y)var _={start:Y.selectionStart,end:Y.selectionEnd};else Y:{_=(_=Y.ownerDocument)&&_.defaultView||window;var $=_.getSelection&&_.getSelection();if($&&$.rangeCount!==0){_=$.anchorNode;var{anchorOffset:H,focusNode:X}=$;$=$.focusOffset;try{_.nodeType,X.nodeType}catch(IY){_=null;break Y}var G=0,N=-1,R=-1,A=0,g=0,d=Y,j=null;K:for(;;){for(var p;;){if(d!==_||H!==0&&d.nodeType!==3||(N=G+H),d!==X||$!==0&&d.nodeType!==3||(R=G+$),d.nodeType===3&&(G+=d.nodeValue.length),(p=d.firstChild)===null)break;j=d,d=p}for(;;){if(d===Y)break K;if(j===_&&++A===H&&(N=G),j===X&&++g===$&&(R=G),(p=d.nextSibling)!==null)break;d=j,j=d.parentNode}d=p}_=N===-1||R===-1?null:{start:N,end:R}}else _=null}_=_||{start:0,end:0}}else _=null;cI={focusedElem:Y,selectionRange:_},U2=!1;for(uK=K;uK!==null;)if(K=uK,Y=K.child,(K.subtreeFlags&1028)!==0&&Y!==null)Y.return=K,uK=Y;else for(;uK!==null;){switch(Y=K=uK,_=Y.alternate,H=Y.flags,Y.tag){case 0:break;case 11:case 15:break;case 1:(H&1024)!==0&&_!==null&&Dq(Y,_);break;case 3:if((H&1024)!==0){if(Y=Y.stateNode.containerInfo,_=Y.nodeType,_===9)w4(Y);else if(_===1)switch(Y.nodeName){case"HEAD":case"HTML":case"BODY":w4(Y);break;default:Y.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((H&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(Y=K.sibling,Y!==null){Y.return=K.return,uK=Y;break}uK=K.return}return K=hZ,hZ=!1,K}function EW(Y,K,_){var $=_.flags;switch(_.tag){case 0:case 11:case 15:tB(Y,_),$&4&&JW(_,tK|zB);break;case 1:if(tB(Y,_),$&4)if(Y=_.stateNode,K===null)_.type.defaultProps||"ref"in _.memoizedProps||vH||(Y.props!==_.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(_)||"instance"),Y.state!==_.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(_)||"instance")),rB(_)?(aB(),KY(_,II,_,Y),sB()):KY(_,II,_,Y);else{var H=_1(_.type,K.memoizedProps);K=K.memoizedState,_.type.defaultProps||"ref"in _.memoizedProps||vH||(Y.props!==_.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",u(_)||"instance"),Y.state!==_.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",u(_)||"instance")),rB(_)?(aB(),KY(_,e3,_,Y,H,K,Y.__reactInternalSnapshotBeforeUpdate),sB()):KY(_,e3,_,Y,H,K,Y.__reactInternalSnapshotBeforeUpdate)}$&64&&LW(_),$&512&&$1(_,_.return);break;case 3:if(K=w0(),tB(Y,_),$&64&&($=_.updateQueue,$!==null)){if(H=null,_.child!==null)switch(_.child.tag){case 27:case 5:H=_.child.stateNode;break;case 1:H=_.child.stateNode}try{KY(_,ZW,$,H)}catch(N){eY(_,_.return,N)}}Y.effectDuration+=ez(K);break;case 26:tB(Y,_),$&512&&$1(_,_.return);break;case 27:case 5:tB(Y,_),K===null&&$&4&&CW(_),$&512&&$1(_,_.return);break;case 12:if($&4){$=w0(),tB(Y,_),Y=_.stateNode,Y.effectDuration+=FO($);try{KY(_,RW,_,K,r8,Y.effectDuration)}catch(N){eY(_,_.return,N)}}else tB(Y,_);break;case 13:tB(Y,_),$&4&&FW(Y,_);break;case 22:if(H=_.memoizedState!==null||v0,!H){K=K!==null&&K.memoizedState!==null||EK;var X=v0,G=EK;v0=H,(EK=K)&&!G?F0(Y,_,(_.subtreeFlags&8772)!==0):tB(Y,_),v0=X,EK=G}$&512&&(_.memoizedProps.mode==="manual"?$1(_,_.return):g_(_,_.return));break;default:tB(Y,_)}}function VW(Y){var K=Y.alternate;K!==null&&(Y.alternate=null,VW(K)),Y.child=null,Y.deletions=null,Y.sibling=null,Y.tag===5&&(K=Y.stateNode,K!==null&&o1(K)),Y.stateNode=null,Y._debugOwner=null,Y.return=null,Y.dependencies=null,Y.memoizedProps=null,Y.memoizedState=null,Y.pendingProps=null,Y.stateNode=null,Y.updateQueue=null}function x0(Y,K,_){for(_=_.child;_!==null;)xW(Y,K,_),_=_.sibling}function xW(Y,K,_){if($_&&typeof $_.onCommitFiberUnmount==="function")try{$_.onCommitFiberUnmount(QH,_)}catch(X){B0||(B0=!0,console.error("React instrumentation encountered an error: %s",X))}switch(_.tag){case 26:EK||g_(_,K),x0(Y,K,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:EK||g_(_,K);var $=TK,H=v_;TK=_.stateNode,x0(Y,K,_),_=_.stateNode;for(Y=_.attributes;Y.length;)_.removeAttributeNode(Y[0]);o1(_),TK=$,v_=H;break;case 5:EK||g_(_,K);case 6:if($=TK,H=v_,TK=null,x0(Y,K,_),TK=$,v_=H,TK!==null)if(v_)try{KY(_,OR,TK,_.stateNode)}catch(X){eY(_,K,X)}else try{KY(_,HR,TK,_.stateNode)}catch(X){eY(_,K,X)}break;case 18:TK!==null&&(v_?(Y=TK,_=_.stateNode,Y.nodeType===8?C4(Y.parentNode,_):Y.nodeType===1&&C4(Y,_),aO(Y)):C4(TK,_.stateNode));break;case 4:$=TK,H=v_,TK=_.stateNode.containerInfo,v_=!0,x0(Y,K,_),TK=$,v_=H;break;case 0:case 11:case 14:case 15:EK||BH(N_,_,K),EK||i6(_,K,tK),x0(Y,K,_);break;case 1:EK||(g_(_,K),$=_.stateNode,typeof $.componentWillUnmount==="function"&&qW(_,K,$)),x0(Y,K,_);break;case 21:x0(Y,K,_);break;case 22:EK||g_(_,K),EK=($=EK)||_.memoizedState!==null,x0(Y,K,_),EK=$;break;default:x0(Y,K,_)}}function FW(Y,K){if(K.memoizedState===null&&(Y=K.alternate,Y!==null&&(Y=Y.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))))try{KY(K,ZR,Y)}catch(_){eY(K,K.return,_)}}function yq(Y){switch(Y.tag){case 13:case 19:var K=Y.stateNode;return K===null&&(K=Y.stateNode=new mZ),K;case 22:return Y=Y.stateNode,K=Y._retryCache,K===null&&(K=Y._retryCache=new mZ),K;default:throw Error("Unexpected Suspense handler tag ("+Y.tag+"). This is a bug in React.")}}function a6(Y,K){var _=yq(Y);K.forEach(function($){var H=nq.bind(null,Y,$);if(!_.has($)){if(_.add($),xB)if(hH!==null&&dH!==null)uO(dH,hH);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");$.then(H,H)}})}function kq(Y,K,_){hH=_,dH=Y,DW(K,Y),dH=hH=null}function a_(Y,K){var _=K.deletions;if(_!==null)for(var $=0;$<_.length;$++){var H=Y,X=K,G=_[$],N=X;Y:for(;N!==null;){switch(N.tag){case 27:case 5:TK=N.stateNode,v_=!1;break Y;case 3:TK=N.stateNode.containerInfo,v_=!0;break Y;case 4:TK=N.stateNode.containerInfo,v_=!0;break Y}N=N.return}if(TK===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");xW(H,X,G),TK=null,v_=!1,H=G,X=H.alternate,X!==null&&(X.return=null),H.return=null}if(K.subtreeFlags&13878)for(K=K.child;K!==null;)DW(K,Y),K=K.sibling}function DW(Y,K){var{alternate:_,flags:$}=Y;switch(Y.tag){case 0:case 11:case 14:case 15:a_(K,Y),r_(Y),$&4&&(BH(N_|zB,Y,Y.return),hO(N_|zB,Y),i6(Y,Y.return,tK|zB));break;case 1:a_(K,Y),r_(Y),$&512&&(EK||_===null||g_(_,_.return)),$&64&&v0&&(Y=Y.updateQueue,Y!==null&&($=Y.callbacks,$!==null&&(_=Y.shared.hiddenCallbacks,Y.shared.hiddenCallbacks=_===null?$:_.concat($))));break;case 26:var H=TB;if(a_(K,Y),r_(Y),$&512&&(EK||_===null||g_(_,_.return)),$&4)if(K=_!==null?_.memoizedState:null,$=Y.memoizedState,_===null)if($===null)if(Y.stateNode===null){Y:{$=Y.type,_=Y.memoizedProps,K=H.ownerDocument||H;K:switch($){case"title":if(H=K.getElementsByTagName("title")[0],!H||H[YX]||H[H_]||H.namespaceURI===LH||H.hasAttribute("itemprop"))H=K.createElement($),K.head.insertBefore(H,K.querySelector("head > title"));oK(H,$,_),H[H_]=Y,FK(H),$=H;break Y;case"link":var X=gN("link","href",K).get($+(_.href||""));if(X){for(var G=0;G<X.length;G++)if(H=X[G],H.getAttribute("href")===(_.href==null?null:_.href)&&H.getAttribute("rel")===(_.rel==null?null:_.rel)&&H.getAttribute("title")===(_.title==null?null:_.title)&&H.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){X.splice(G,1);break K}}H=K.createElement($),oK(H,$,_),K.head.appendChild(H);break;case"meta":if(X=gN("meta","content",K).get($+(_.content||""))){for(G=0;G<X.length;G++)if(H=X[G],mY(_.content,"content"),H.getAttribute("content")===(_.content==null?null:""+_.content)&&H.getAttribute("name")===(_.name==null?null:_.name)&&H.getAttribute("property")===(_.property==null?null:_.property)&&H.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&H.getAttribute("charset")===(_.charSet==null?null:_.charSet)){X.splice(G,1);break K}}H=K.createElement($),oK(H,$,_),K.head.appendChild(H);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+$+'". This is a bug in React.')}H[H_]=Y,FK(H),$=H}Y.stateNode=$}else jN(H,Y.type,Y.stateNode);else Y.stateNode=kN(H,$,Y.memoizedProps);else K!==$?(K===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):K.count--,$===null?jN(H,Y.type,Y.stateNode):kN(H,$,Y.memoizedProps)):$===null&&Y.stateNode!==null&&wW(Y,Y.memoizedProps,_.memoizedProps);break;case 27:if($&4&&Y.alternate===null){H=Y.stateNode,X=Y.memoizedProps;try{for(G=H.firstChild;G;){var{nextSibling:N,nodeName:R}=G;G[YX]||R==="HEAD"||R==="BODY"||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&G.rel.toLowerCase()==="stylesheet"||H.removeChild(G),G=N}KY(Y,JR,Y.type,X,H,Y)}catch(g){eY(Y,Y.return,g)}}case 5:if(a_(K,Y),r_(Y),$&512&&(EK||_===null||g_(_,_.return)),Y.flags&32){K=Y.stateNode;try{KY(Y,VN,K)}catch(g){eY(Y,Y.return,g)}}$&4&&Y.stateNode!=null&&(K=Y.memoizedProps,wW(Y,K,_!==null?_.memoizedProps:K)),$&1024&&(EI=!0,Y.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(a_(K,Y),r_(Y),$&4){if(Y.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");$=Y.memoizedProps,_=_!==null?_.memoizedProps:$,K=Y.stateNode;try{KY(Y,$R,K,_,$)}catch(g){eY(Y,Y.return,g)}}break;case 3:if(H=w0(),F2=null,X=TB,TB=y8(K.containerInfo),a_(K,Y),TB=X,r_(Y),$&4&&_!==null&&_.memoizedState.isDehydrated)try{KY(Y,NR,K.containerInfo)}catch(g){eY(Y,Y.return,g)}EI&&(EI=!1,MW(Y)),K.effectDuration+=ez(H);break;case 4:$=TB,TB=y8(Y.stateNode.containerInfo),a_(K,Y),r_(Y),TB=$;break;case 12:$=w0(),a_(K,Y),r_(Y),Y.stateNode.effectDuration+=FO($);break;case 13:a_(K,Y),r_(Y),Y.child.flags&8192&&Y.memoizedState!==null!==(_!==null&&_.memoizedState!==null)&&(UI=_0()),$&4&&($=Y.updateQueue,$!==null&&(Y.updateQueue=null,a6(Y,$)));break;case 22:$&512&&(EK||_===null||g_(_,_.return)),G=Y.memoizedState!==null,N=_!==null&&_.memoizedState!==null,R=v0;var A=EK;if(v0=R||G,EK=A||N,a_(K,Y),EK=A,v0=R,r_(Y),K=Y.stateNode,K._current=Y,K._visibility&=~P1,K._visibility|=K._pendingVisibility&P1,$&8192&&(K._visibility=G?K._visibility&~IX:K._visibility|IX,G&&(K=v0||EK,_===null||N||K||$H(Y)),Y.memoizedProps===null||Y.memoizedProps.mode!=="manual"))Y:for(_=null,K=Y;;){if(K.tag===5||K.tag===26||K.tag===27){if(_===null){N=_=K;try{H=N.stateNode,G?KY(N,XR,H):KY(N,IR,N.stateNode,N.memoizedProps)}catch(g){eY(N,N.return,g)}}}else if(K.tag===6){if(_===null){N=K;try{X=N.stateNode,G?KY(N,zR,X):KY(N,PR,X,N.memoizedProps)}catch(g){eY(N,N.return,g)}}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===Y)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break Y;for(;K.sibling===null;){if(K.return===null||K.return===Y)break Y;_===K&&(_=null),K=K.return}_===K&&(_=null),K.sibling.return=K.return,K=K.sibling}$&4&&($=Y.updateQueue,$!==null&&(_=$.retryQueue,_!==null&&($.retryQueue=null,a6(Y,_))));break;case 19:a_(K,Y),r_(Y),$&4&&($=Y.updateQueue,$!==null&&(Y.updateQueue=null,a6(Y,$)));break;case 21:break;default:a_(K,Y),r_(Y)}}function r_(Y){var K=Y.flags;if(K&2){try{KY(Y,Sq,Y)}catch(_){eY(Y,Y.return,_)}Y.flags&=-3}K&4096&&(Y.flags&=-4097)}function MW(Y){if(Y.subtreeFlags&1024)for(Y=Y.child;Y!==null;){var K=Y;MW(K),K.tag===5&&K.flags&1024&&K.stateNode.reset(),Y=Y.sibling}}function gq(Y,K,_){hH=_,dH=K,EW(K,Y.alternate,Y),dH=hH=null}function tB(Y,K){if(K.subtreeFlags&8772)for(K=K.child;K!==null;)EW(Y,K.alternate,K),K=K.sibling}function UW(Y){switch(Y.tag){case 0:case 11:case 14:case 15:i6(Y,Y.return,tK),$H(Y);break;case 1:g_(Y,Y.return);var K=Y.stateNode;typeof K.componentWillUnmount==="function"&&qW(Y,Y.return,K),$H(Y);break;case 26:case 27:case 5:g_(Y,Y.return),$H(Y);break;case 22:g_(Y,Y.return),Y.memoizedState===null&&$H(Y);break;default:$H(Y)}}function $H(Y){for(Y=Y.child;Y!==null;)UW(Y),Y=Y.sibling}function SW(Y,K,_,$){var H=_.flags;switch(_.tag){case 0:case 11:case 15:F0(Y,_,$),JW(_,tK);break;case 1:if(F0(Y,_,$),K=_.stateNode,typeof K.componentDidMount==="function"&&KY(_,II,_,K),K=_.updateQueue,K!==null){Y=_.stateNode;try{KY(_,xq,K,Y)}catch(X){eY(_,_.return,X)}}$&&H&64&&LW(_),$1(_,_.return);break;case 26:case 27:case 5:F0(Y,_,$),$&&K===null&&H&4&&CW(_),$1(_,_.return);break;case 12:if($&&H&4){H=w0(),F0(Y,_,$),$=_.stateNode,$.effectDuration+=FO(H);try{KY(_,RW,_,K,r8,$.effectDuration)}catch(X){eY(_,_.return,X)}}else F0(Y,_,$);break;case 13:F0(Y,_,$),$&&H&4&&FW(Y,_);break;case 22:_.memoizedState===null&&F0(Y,_,$),$1(_,_.return);break;default:F0(Y,_,$)}}function F0(Y,K,_){_=_&&(K.subtreeFlags&8772)!==0;for(K=K.child;K!==null;)SW(Y,K.alternate,K,_),K=K.sibling}function r6(Y,K){var _=null;Y!==null&&Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(_=Y.memoizedState.cachePool.pool),Y=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(Y=K.memoizedState.cachePool.pool),Y!==_&&(Y!=null&&t$(Y),_!=null&&TO(_))}function t6(Y,K){Y=null,K.alternate!==null&&(Y=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==Y&&(t$(K),Y!=null&&TO(Y))}function I$(Y,K,_,$){if(K.subtreeFlags&10256)for(K=K.child;K!==null;)TW(Y,K,_,$),K=K.sibling}function TW(Y,K,_,$){var H=K.flags;switch(K.tag){case 0:case 11:case 15:I$(Y,K,_,$),H&2048&&QW(K,gK|zB);break;case 3:var X=w0();I$(Y,K,_,$),H&2048&&(_=null,K.alternate!==null&&(_=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==_&&(t$(K),_!=null&&TO(_))),Y.passiveEffectDuration+=ez(X);break;case 12:if(H&2048){X=w0(),I$(Y,K,_,$),Y=K.stateNode,Y.passiveEffectDuration+=FO(X);try{KY(K,Uq,K,K.alternate,r8,Y.passiveEffectDuration)}catch(G){eY(K,K.return,G)}}else I$(Y,K,_,$);break;case 23:break;case 22:X=K.stateNode,K.memoizedState!==null?X._visibility&T0?I$(Y,K,_,$):dO(Y,K):X._visibility&T0?I$(Y,K,_,$):(X._visibility|=T0,HH(Y,K,_,$,(K.subtreeFlags&10256)!==0)),H&2048&&r6(K.alternate,K);break;case 24:I$(Y,K,_,$),H&2048&&t6(K.alternate,K);break;default:I$(Y,K,_,$)}}function HH(Y,K,_,$,H){H=H&&(K.subtreeFlags&10256)!==0;for(K=K.child;K!==null;)yW(Y,K,_,$,H),K=K.sibling}function yW(Y,K,_,$,H){var X=K.flags;switch(K.tag){case 0:case 11:case 15:HH(Y,K,_,$,H),QW(K,gK);break;case 23:break;case 22:var G=K.stateNode;K.memoizedState!==null?G._visibility&T0?HH(Y,K,_,$,H):dO(Y,K):(G._visibility|=T0,HH(Y,K,_,$,H)),H&&X&2048&&r6(K.alternate,K);break;case 24:HH(Y,K,_,$,H),H&&X&2048&&t6(K.alternate,K);break;default:HH(Y,K,_,$,H)}}function dO(Y,K){if(K.subtreeFlags&10256)for(K=K.child;K!==null;){var _=Y,$=K,H=$.flags;switch($.tag){case 22:dO(_,$),H&2048&&r6($.alternate,$);break;case 24:dO(_,$),H&2048&&t6($.alternate,$);break;default:dO(_,$)}K=K.sibling}}function OH(Y){if(Y.subtreeFlags&AX)for(Y=Y.child;Y!==null;)kW(Y),Y=Y.sibling}function kW(Y){switch(Y.tag){case 26:OH(Y),Y.flags&AX&&Y.memoizedState!==null&&RR(TB,Y.memoizedState,Y.memoizedProps);break;case 5:OH(Y);break;case 3:case 4:var K=TB;TB=y8(Y.stateNode.containerInfo),OH(Y),TB=K;break;case 22:Y.memoizedState===null&&(K=Y.alternate,K!==null&&K.memoizedState!==null?(K=AX,AX=16777216,OH(Y),AX=K):OH(Y));break;default:OH(Y)}}function gW(Y){var K=Y.alternate;if(K!==null&&(Y=K.child,Y!==null)){K.child=null;do K=Y.sibling,Y.sibling=null,Y=K;while(Y!==null)}}function cO(Y){var K=Y.deletions;if((Y.flags&16)!==0){if(K!==null)for(var _=0;_<K.length;_++){var $=K[_];uK=$,vW($,Y)}gW(Y)}if(Y.subtreeFlags&10256)for(Y=Y.child;Y!==null;)jW(Y),Y=Y.sibling}function jW(Y){switch(Y.tag){case 0:case 11:case 15:cO(Y),Y.flags&2048&&n6(Y,Y.return,gK|zB);break;case 3:var K=w0();cO(Y),Y.stateNode.passiveEffectDuration+=ez(K);break;case 12:K=w0(),cO(Y),Y.stateNode.passiveEffectDuration+=FO(K);break;case 22:K=Y.stateNode,Y.memoizedState!==null&&K._visibility&T0&&(Y.return===null||Y.return.tag!==13)?(K._visibility&=~T0,V8(Y)):cO(Y);break;default:cO(Y)}}function V8(Y){var K=Y.deletions;if((Y.flags&16)!==0){if(K!==null)for(var _=0;_<K.length;_++){var $=K[_];uK=$,vW($,Y)}gW(Y)}for(Y=Y.child;Y!==null;)bW(Y),Y=Y.sibling}function bW(Y){switch(Y.tag){case 0:case 11:case 15:n6(Y,Y.return,gK),V8(Y);break;case 22:var K=Y.stateNode;K._visibility&T0&&(K._visibility&=~T0,V8(Y));break;default:V8(Y)}}function vW(Y,K){for(;uK!==null;){var _=uK,$=_;switch($.tag){case 0:case 11:case 15:n6($,K,gK);break;case 23:case 22:$.memoizedState!==null&&$.memoizedState.cachePool!==null&&($=$.memoizedState.cachePool.pool,$!=null&&t$($));break;case 24:TO($.memoizedState.cache)}if($=_.child,$!==null)$.return=_,uK=$;else Y:for(_=Y;uK!==null;){$=uK;var{sibling:H,return:X}=$;if(VW($),$===_){uK=null;break Y}if(H!==null){H.return=X,uK=H;break Y}uK=X}}}function jq(Y,K,_,$){this.tag=Y,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=K,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,dZ||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function e6(Y){return Y=Y.prototype,!(!Y||!Y.isReactComponent)}function P$(Y,K){var _=Y.alternate;switch(_===null?(_=L(Y.tag,K,Y.key,Y.mode),_.elementType=Y.elementType,_.type=Y.type,_.stateNode=Y.stateNode,_._debugOwner=Y._debugOwner,_._debugHookTypes=Y._debugHookTypes,_.alternate=Y,Y.alternate=_):(_.pendingProps=K,_.type=Y.type,_.flags=0,_.subtreeFlags=0,_.deletions=null,_.actualDuration=-0,_.actualStartTime=-1.1),_.flags=Y.flags&31457280,_.childLanes=Y.childLanes,_.lanes=Y.lanes,_.child=Y.child,_.memoizedProps=Y.memoizedProps,_.memoizedState=Y.memoizedState,_.updateQueue=Y.updateQueue,K=Y.dependencies,_.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext,_debugThenableState:K._debugThenableState},_.sibling=Y.sibling,_.index=Y.index,_.ref=Y.ref,_.refCleanup=Y.refCleanup,_.selfBaseDuration=Y.selfBaseDuration,_.treeBaseDuration=Y.treeBaseDuration,_._debugInfo=Y._debugInfo,_._debugNeedsRemount=Y._debugNeedsRemount,_.tag){case 0:case 15:_.type=n$(Y.type);break;case 1:_.type=n$(Y.type);break;case 11:_.type=p7(Y.type)}return _}function fW(Y,K){Y.flags&=31457282;var _=Y.alternate;return _===null?(Y.childLanes=0,Y.lanes=K,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null,Y.selfBaseDuration=0,Y.treeBaseDuration=0):(Y.childLanes=_.childLanes,Y.lanes=_.lanes,Y.child=_.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=_.memoizedProps,Y.memoizedState=_.memoizedState,Y.updateQueue=_.updateQueue,Y.type=_.type,K=_.dependencies,Y.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext,_debugThenableState:K._debugThenableState},Y.selfBaseDuration=_.selfBaseDuration,Y.treeBaseDuration=_.treeBaseDuration),Y}function Y4(Y,K,_,$,H,X){var G=0,N=Y;if(typeof Y==="function")e6(Y)&&(G=1),N=n$(N);else if(typeof Y==="string")G=Q_(),G=LR(Y,_,G)?26:Y==="html"||Y==="head"||Y==="body"?27:5;else Y:switch(Y){case ZH:return H1(_.children,H,X,K);case m8:G=8,H|=O_,H|=MB;break;case S4:return Y=_,$=H,typeof Y.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof Y.id),K=L(12,Y,K,$|aK),K.elementType=S4,K.lanes=X,K.stateNode={effectDuration:0,passiveEffectDuration:0},K;case y4:return K=L(13,_,K,H),K.elementType=y4,K.lanes=X,K;case k4:return K=L(19,_,K,H),K.elementType=k4,K.lanes=X,K;case sN:return mW(_,H,X,K);default:if(typeof Y==="object"&&Y!==null)switch(Y.$$typeof){case TR:case K0:G=10;break Y;case T4:G=9;break Y;case rO:G=11,N=p7(N);break Y;case h8:G=14;break Y;case b_:G=16,N=null;break Y}if(N="",Y===void 0||typeof Y==="object"&&Y!==null&&Object.keys(Y).length===0)N+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";Y===null?_="null":sK(Y)?_="array":Y!==void 0&&Y.$$typeof===W$?(_="<"+(b(Y.type)||"Unknown")+" />",N=" Did you accidentally export a JSX literal instead of a component?"):_=typeof Y,(G=$?i($):null)&&(N+=`

Check the render method of \``+G+"`."),G=29,_=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(_+"."+N)),N=null}return K=L(G,_,K,H),K.elementType=Y,K.type=N,K.lanes=X,K._debugOwner=$,K}function x8(Y,K,_){return K=Y4(Y.type,Y.key,Y.props,Y._owner,K,_),K._debugOwner=Y._owner,K}function H1(Y,K,_,$){return Y=L(7,Y,$,K),Y.lanes=_,Y}function mW(Y,K,_,$){Y=L(22,Y,$,K),Y.elementType=sN,Y.lanes=_;var H={_visibility:IX,_pendingVisibility:IX,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var X=H,G=X._current;if(G===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((X._pendingVisibility&P1)===0){var N=__(G,2);N!==null&&(X._pendingVisibility|=P1,CK(N,G,2))}},attach:function(){var X=H,G=X._current;if(G===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((X._pendingVisibility&P1)!==0){var N=__(G,2);N!==null&&(X._pendingVisibility&=~P1,CK(N,G,2))}}};return Y.stateNode=H,Y}function K4(Y,K,_){return Y=L(6,Y,null,K),Y.lanes=_,Y}function _4(Y,K,_){return K=L(4,Y.children!==null?Y.children:[],Y.key,K),K.lanes=_,K.stateNode={containerInfo:Y.containerInfo,pendingChildren:null,implementation:Y.implementation},K}function D0(Y){Y.flags|=4}function hW(Y,K){if(K.type!=="stylesheet"||(K.state.loading&PB)!==U1)Y.flags&=-16777217;else if(Y.flags|=16777216,!bN(K)){if(K=OB.current,K!==null&&((TY&4194176)===TY?X0!==null:(TY&62914560)!==TY&&(TY&536870912)===0||K!==X0))throw QX=XI,n3;Y.flags|=8192}}function F8(Y,K){K!==null&&(Y.flags|=4),Y.flags&16384&&(K=Y.tag!==22?R_():536870912,Y.lanes|=K,A1|=K)}function lO(Y,K){if(!vY)switch(Y.tailMode){case"hidden":K=Y.tail;for(var _=null;K!==null;)K.alternate!==null&&(_=K),K=K.sibling;_===null?Y.tail=null:_.sibling=null;break;case"collapsed":_=Y.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?K||Y.tail===null?Y.tail=null:Y.tail.sibling=null:$.sibling=null}}function qK(Y){var K=Y.alternate!==null&&Y.alternate.child===Y.child,_=0,$=0;if(K)if((Y.mode&aK)!==IK){for(var{selfBaseDuration:H,child:X}=Y;X!==null;)_|=X.lanes|X.childLanes,$|=X.subtreeFlags&31457280,$|=X.flags&31457280,H+=X.treeBaseDuration,X=X.sibling;Y.treeBaseDuration=H}else for(H=Y.child;H!==null;)_|=H.lanes|H.childLanes,$|=H.subtreeFlags&31457280,$|=H.flags&31457280,H.return=Y,H=H.sibling;else if((Y.mode&aK)!==IK){H=Y.actualDuration,X=Y.selfBaseDuration;for(var G=Y.child;G!==null;)_|=G.lanes|G.childLanes,$|=G.subtreeFlags,$|=G.flags,H+=G.actualDuration,X+=G.treeBaseDuration,G=G.sibling;Y.actualDuration=H,Y.treeBaseDuration=X}else for(H=Y.child;H!==null;)_|=H.lanes|H.childLanes,$|=H.subtreeFlags,$|=H.flags,H.return=Y,H=H.sibling;return Y.subtreeFlags|=$,Y.childLanes=_,K}function bq(Y,K,_){var $=K.pendingProps;switch(a7(K),K.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qK(K),null;case 1:return qK(K),null;case 3:if($=K.stateNode,_=null,Y!==null&&(_=Y.memoizedState.cache),K.memoizedState.cache!==_&&(K.flags|=2048),V0(jK,K),i_(K),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),Y===null||Y.child===null)DO(K)?(P5(),D0(K)):Y===null||Y.memoizedState.isDehydrated&&(K.flags&256)===0||(K.flags|=1024,SB!==null&&(B4(SB),SB=null));return qK(K),null;case 26:return _=K.memoizedState,Y===null?(D0(K),_!==null?(qK(K),hW(K,_)):(qK(K),K.flags&=-16777217)):_?_!==Y.memoizedState?(D0(K),qK(K),hW(K,_)):(qK(K),K.flags&=-16777217):(Y.memoizedProps!==$&&D0(K),qK(K),K.flags&=-16777217),null;case 27:QB(K),_=PK(Z$.current);var H=K.type;if(Y!==null&&K.stateNode!=null)Y.memoizedProps!==$&&D0(K);else{if(!$){if(K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return qK(K),null}Y=Q_(),DO(K)?z5(K,Y):(Y=UN(H,$,_,Y,!0),K.stateNode=Y,D0(K))}return qK(K),null;case 5:if(QB(K),_=K.type,Y!==null&&K.stateNode!=null)Y.memoizedProps!==$&&D0(K);else{if(!$){if(K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return qK(K),null}if(H=Q_(),DO(K))z5(K,H);else{switch(Y=PK(Z$.current),h7(_,H.ancestorInfo),H=H.context,Y=T8(Y),H){case nH:Y=Y.createElementNS(LH,_);break;case x2:Y=Y.createElementNS(i8,_);break;default:switch(_){case"svg":Y=Y.createElementNS(LH,_);break;case"math":Y=Y.createElementNS(i8,_);break;case"script":Y=Y.createElement("div"),Y.innerHTML="<script></script>",Y=Y.removeChild(Y.firstChild);break;case"select":Y=typeof $.is==="string"?Y.createElement("select",{is:$.is}):Y.createElement("select"),$.multiple?Y.multiple=!0:$.size&&(Y.size=$.size);break;default:Y=typeof $.is==="string"?Y.createElement(_,{is:$.is}):Y.createElement(_),_.indexOf("-")===-1&&(_!==_.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",_),Object.prototype.toString.call(Y)!=="[object HTMLUnknownElement]"||S0.call(K9,_)||(K9[_]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",_)))}}Y[H_]=K,Y[V_]=$;Y:for(H=K.child;H!==null;){if(H.tag===5||H.tag===6)Y.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===K)break Y;for(;H.sibling===null;){if(H.return===null||H.return===K)break Y;H=H.return}H.sibling.return=H.return,H=H.sibling}K.stateNode=Y;Y:switch(oK(Y,_,$),_){case"button":case"input":case"select":case"textarea":Y=!!$.autoFocus;break Y;case"img":Y=!0;break Y;default:Y=!1}Y&&D0(K)}}return qK(K),K.flags&=-16777217,null;case 6:if(Y&&K.stateNode!=null)Y.memoizedProps!==$&&D0(K);else{if(typeof $!=="string"&&K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(Y=PK(Z$.current),_=Q_(),DO(K)){Y=K.stateNode,$=K.memoizedProps,H=!g0,_=null;var X=W_;if(X!==null)switch(X.tag){case 3:H&&(H=FN(Y,$,_),H!==null&&(a$(K,0).serverProps=H));break;case 27:case 5:_=X.memoizedProps,H&&(H=FN(Y,$,_),H!==null&&(a$(K,0).serverProps=H))}Y[H_]=K,Y=Y.nodeValue===$||_!==null&&_.suppressHydrationWarning===!0||QN(Y.nodeValue,$)?!0:!1,Y||r$(K)}else _=_.ancestorInfo.current,_!=null&&iz($,_.tag),Y=T8(Y).createTextNode($),Y[H_]=K,K.stateNode=Y}return qK(K),null;case 13:if($=K.memoizedState,Y===null||Y.memoizedState!==null&&Y.memoizedState.dehydrated!==null){if(H=DO(K),$!==null&&$.dehydrated!==null){if(Y===null){if(!H)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(H=K.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");H[H_]=K,qK(K),(K.mode&aK)!==IK&&$!==null&&(H=K.child,H!==null&&(K.treeBaseDuration-=H.treeBaseDuration))}else P5(),MO(),(K.flags&128)===0&&(K.memoizedState=null),K.flags|=4,qK(K),(K.mode&aK)!==IK&&$!==null&&(H=K.child,H!==null&&(K.treeBaseDuration-=H.treeBaseDuration));H=!1}else SB!==null&&(B4(SB),SB=null),H=!0;if(!H){if(K.flags&256)return A0(K),K;return A0(K),null}}if(A0(K),(K.flags&128)!==0)return K.lanes=_,(K.mode&aK)!==IK&&Y8(K),K;return $=$!==null,Y=Y!==null&&Y.memoizedState!==null,$&&(_=K.child,H=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(H=_.alternate.memoizedState.cachePool.pool),X=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(X=_.memoizedState.cachePool.pool),X!==H&&(_.flags|=2048)),$!==Y&&$&&(K.child.flags|=8192),F8(K,K.updateQueue),qK(K),(K.mode&aK)!==IK&&$&&(Y=K.child,Y!==null&&(K.treeBaseDuration-=Y.treeBaseDuration)),null;case 4:return i_(K),Y===null&&N4(K.stateNode.containerInfo),qK(K),null;case 10:return V0(K.type,K),qK(K),null;case 19:if(uY(kK,K),H=K.memoizedState,H===null)return qK(K),null;if($=(K.flags&128)!==0,X=H.rendering,X===null)if($)lO(H,!1);else{if(VK!==m0||Y!==null&&(Y.flags&128)!==0)for(Y=K.child;Y!==null;){if(X=X8(Y),X!==null){K.flags|=128,lO(H,!1),Y=X.updateQueue,K.updateQueue=Y,F8(K,Y),K.subtreeFlags=0,Y=_;for($=K.child;$!==null;)fW($,Y),$=$.sibling;return kY(kK,kK.current&yH|qX,K),K.child}Y=Y.sibling}H.tail!==null&&_0()>W2&&(K.flags|=128,$=!0,lO(H,!1),K.lanes=4194304)}else{if(!$)if(Y=X8(X),Y!==null){if(K.flags|=128,$=!0,Y=Y.updateQueue,K.updateQueue=Y,F8(K,Y),lO(H,!0),H.tail===null&&H.tailMode==="hidden"&&!X.alternate&&!vY)return qK(K),null}else 2*_0()-H.renderingStartTime>W2&&_!==536870912&&(K.flags|=128,$=!0,lO(H,!1),K.lanes=4194304);H.isBackwards?(X.sibling=K.child,K.child=X):(Y=H.last,Y!==null?Y.sibling=X:K.child=X,H.last=X)}if(H.tail!==null)return Y=H.tail,H.rendering=Y,H.tail=Y.sibling,H.renderingStartTime=_0(),Y.sibling=null,_=kK.current,_=$?_&yH|qX:_&yH,kY(kK,_,K),Y;return qK(K),null;case 22:case 23:return A0(K),e7(K),$=K.memoizedState!==null,Y!==null?Y.memoizedState!==null!==$&&(K.flags|=8192):$&&(K.flags|=8192),$?(_&536870912)!==0&&(K.flags&128)===0&&(qK(K),K.subtreeFlags&6&&(K.flags|=8192)):qK(K),$=K.updateQueue,$!==null&&F8(K,$.retryQueue),$=null,Y!==null&&Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&($=Y.memoizedState.cachePool.pool),_=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(_=K.memoizedState.cachePool.pool),_!==$&&(K.flags|=2048),Y!==null&&uY(Q1,K),null;case 24:return $=null,Y!==null&&($=Y.memoizedState.cache),K.memoizedState.cache!==$&&(K.flags|=2048),V0(jK,K),qK(K),null;case 25:return null}throw Error("Unknown unit of work tag ("+K.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function vq(Y,K){switch(a7(K),K.tag){case 1:return Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==IK&&Y8(K),K):null;case 3:return V0(jK,K),i_(K),Y=K.flags,(Y&65536)!==0&&(Y&128)===0?(K.flags=Y&-65537|128,K):null;case 26:case 27:case 5:return QB(K),null;case 13:if(A0(K),Y=K.memoizedState,Y!==null&&Y.dehydrated!==null){if(K.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");MO()}return Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==IK&&Y8(K),K):null;case 19:return uY(kK,K),null;case 4:return i_(K),null;case 10:return V0(K.type,K),null;case 22:case 23:return A0(K),e7(K),Y!==null&&uY(Q1,K),Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==IK&&Y8(K),K):null;case 24:return V0(jK,K),null;case 25:return null;default:return null}}function dW(Y,K){switch(a7(K),K.tag){case 3:V0(jK,K),i_(K);break;case 26:case 27:case 5:QB(K);break;case 4:i_(K);break;case 13:A0(K);break;case 19:uY(kK,K);break;case 10:V0(K.type,K);break;case 22:case 23:A0(K),e7(K),Y!==null&&uY(Q1,K);break;case 24:V0(jK,K)}}function fq(){sC.forEach(function(Y){return Y()})}function cW(){var Y=typeof IS_REACT_ACT_ENVIRONMENT!=="undefined"?IS_REACT_ACT_ENVIRONMENT:void 0;return Y||f.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),Y}function j_(Y){if((ZK&J_)!==f_&&TY!==0)return TY&-TY;var K=f.T;return K!==null?(K._updatedFibers||(K._updatedFibers=new Set),K._updatedFibers.add(Y),Y=J1,Y!==0?Y:G4()):lz()}function lW(){h_===0&&(h_=(TY&536870912)===0||vY?RB():536870912);var Y=OB.current;return Y!==null&&(Y.flags|=32),h_}function CK(Y,K,_){if(pH&&console.error("useInsertionEffect must not schedule updates."),kI&&(Z2=!0),Y===HK&&OK===w1||Y.cancelPendingCommit!==null)zH(Y,0),M0(Y,TY,h_,!1);if(hK(Y,_),(ZK&J_)!==0&&Y===HK){if(YB)switch(K.tag){case 0:case 11:case 15:Y=MY&&u(MY)||"Unknown",sZ.has(Y)||(sZ.add(Y),K=u(K)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",K,Y,Y));break;case 1:oZ||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),oZ=!0)}}else xB&&qO(Y,K,_),sq(K),Y===HK&&((ZK&J_)===f_&&(x$|=_),VK===C1&&M0(Y,TY,h_,!1)),eB(Y)}function uW(Y,K,_){if((ZK&(J_|f0))!==f_)throw Error("Should not already be working.");var $=!_&&(K&60)===0&&(K&Y.expiredLanes)===0||$K(Y,K),H=$?hq(Y,K):O4(Y,K,!0),X=$;do{if(H===m0){uH&&!$&&M0(Y,K,0,!1);break}else if(H===P2)M0(Y,K,0,!h0);else{if(_=Y.current.alternate,X&&!mq(_)){H=O4(Y,K,!1),X=!1;continue}if(H===cH){if(X=K,Y.errorRecoveryDisabledLanes&X)var G=0;else G=Y.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){K=G;Y:{H=Y;var N=G;G=MX;var R=H.current.memoizedState.isDehydrated;if(R&&(zH(H,N).flags|=256),N=O4(H,N,!1),N!==cH){if(DI&&!R){H.errorRecoveryDisabledLanes|=X,x$|=X,H=C1;break Y}H=yB,yB=G,H!==null&&B4(H)}H=N}if(X=!1,H!==cH)continue}}if(H===VX){zH(Y,0),M0(Y,K,0,!0);break}Y:{switch($=Y,H){case m0:case VX:throw Error("Root did not complete. This is a bug in React.");case C1:if((K&4194176)===K){M0($,K,h_,!h0);break Y}break;case cH:yB=null;break;case VI:case lZ:break;default:throw Error("Unknown root exit status.")}if($.finishedWork=_,$.finishedLanes=K,f.actQueue!==null)X4($,yB,UX,G2,h_,x$,A1,nZ,$I,0);else{if((K&62914560)===K&&(H=UI+pZ-_0(),10<H)){if(M0($,K,h_,!h0),T_($,0)!==0)break Y;$.timeoutHandle=_9(pW.bind(null,$,_,yB,UX,G2,K,h_,x$,A1,h0,Yw,$I,0),H);break Y}pW($,_,yB,UX,G2,K,h_,x$,A1,h0,nZ,$I,0)}}}break}while(1);eB(Y)}function B4(Y){yB===null?yB=Y:yB.push.apply(yB,Y)}function pW(Y,K,_,$,H,X,G,N,R,A,g,d,j){var p=K.subtreeFlags;if(p&8192||(p&16785408)===16785408){if(jX={stylesheets:null,count:0,unsuspend:qR},kW(K),K=CR(),K!==null){Y.cancelPendingCommit=K(X4.bind(null,Y,_,$,H,G,N,R,eC,d,j)),M0(Y,X,G,!A);return}}X4(Y,_,$,H,G,N,R,g,d,j)}function mq(Y){for(var K=Y;;){var _=K.tag;if((_===0||_===11||_===15)&&K.flags&16384&&(_=K.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var $=0;$<_.length;$++){var H=_[$],X=H.getSnapshot;H=H.value;try{if(!G_(X(),H))return!1}catch(G){return!1}}if(_=K.child,K.subtreeFlags&16384&&_!==null)_.return=K,K=_;else{if(K===Y)break;for(;K.sibling===null;){if(K.return===null||K.return===Y)return!0;K=K.return}K.sibling.return=K.return,K=K.sibling}}return!0}function M0(Y,K,_,$){K&=~MI,K&=~x$,Y.suspendedLanes|=K,Y.pingedLanes&=~K,$&&(Y.warmLanes|=K),$=Y.expirationTimes;for(var H=K;0<H;){var X=31-I_(H),G=1<<X;$[X]=-1,H&=~G}_!==0&&LO(Y,_,K)}function XH(){return(ZK&(J_|f0))===f_?(pO(0,!1),!1):!0}function $4(){if(MY!==null){if(OK===D_)var Y=MY.return;else Y=MY,R8(),X6(Y),SH=null,LX=0,Y=MY;for(;Y!==null;)dW(Y.alternate,Y),Y=Y.return;MY=null}}function zH(Y,K){Y.finishedWork=null,Y.finishedLanes=0;var _=Y.timeoutHandle;_!==uI&&(Y.timeoutHandle=uI,zw(_)),_=Y.cancelPendingCommit,_!==null&&(Y.cancelPendingCommit=null,_()),$4(),HK=Y,MY=_=P$(Y.current,null),TY=K,OK=D_,m_=null,h0=!1,uH=$K(Y,K),DI=!1,VK=m0,A1=h_=MI=x$=V$=0,yB=MX=null,G2=!1,(K&8)!==0&&(K|=K&32);var $=Y.entangledLanes;if($!==0)for(Y=Y.entanglements,$&=K;0<$;){var H=31-I_($),X=1<<H;K|=Y[H],$&=~X}return I0=K,az(),UB.discardPendingWarnings(),_}function iW(Y,K){LY=null,f.H=z0,f.getCurrentStack=null,YB=!1,B_=null,K===B2?(K=Z5(),OK=FX):K===n3?(K=Z5(),OK=uZ):OK=K===FZ?FI:K!==null&&typeof K==="object"&&typeof K.then==="function"?lH:xX,m_=K;var _=MY;if(_===null)VK=VX,q8(Y,k_(K,Y.current));else switch(_.mode&aK&&o7(_),_Y(),OK){case xX:YY!==null&&typeof YY.markComponentErrored==="function"&&YY.markComponentErrored(_,K,TY);break;case w1:case FX:case lH:case DX:YY!==null&&typeof YY.markComponentSuspended==="function"&&YY.markComponentSuspended(_,K,TY)}}function nW(){var Y=f.H;return f.H=z0,Y===null?z0:Y}function oW(){var Y=f.A;return f.A=oC,Y}function H4(){VK=C1,h0||(TY&4194176)!==TY&&OB.current!==null||(uH=!0),(V$&134217727)===0&&(x$&134217727)===0||HK===null||M0(HK,TY,h_,!1)}function O4(Y,K,_){var $=ZK;ZK|=J_;var H=nW(),X=oW();if(HK!==Y||TY!==K){if(xB){var G=Y.memoizedUpdaters;0<G.size&&(uO(Y,TY),G.clear()),i1(Y,K)}UX=null,zH(Y,K)}BY(K),K=!1,G=VK;Y:do try{if(OK!==D_&&MY!==null){var N=MY,R=m_;switch(OK){case FI:$4(),G=P2;break Y;case FX:case w1:case lH:OB.current===null&&(K=!0);var A=OK;if(OK=D_,m_=null,IH(Y,N,R,A),_&&uH){G=m0;break Y}break;default:A=OK,OK=D_,m_=null,IH(Y,N,R,A)}}sW(),G=VK;break}catch(g){iW(Y,g)}while(1);return K&&Y.shellSuspendCounter++,R8(),ZK=$,f.H=H,f.A=X,gY(),MY===null&&(HK=null,TY=0,az()),G}function sW(){for(;MY!==null;)aW(MY)}function hq(Y,K){var _=ZK;ZK|=J_;var $=nW(),H=oW();if(HK!==Y||TY!==K){if(xB){var X=Y.memoizedUpdaters;0<X.size&&(uO(Y,TY),X.clear()),i1(Y,K)}UX=null,W2=_0()+iZ,zH(Y,K)}else uH=$K(Y,K);BY(K);Y:do try{if(OK!==D_&&MY!==null)K:switch(K=MY,X=m_,OK){case xX:OK=D_,m_=null,IH(Y,K,X,xX);break;case w1:if(W5(X)){OK=D_,m_=null,rW(K);break}K=function(){OK===w1&&HK===Y&&(OK=DX),eB(Y)},X.then(K,K);break Y;case FX:OK=DX;break Y;case uZ:OK=xI;break Y;case DX:W5(X)?(OK=D_,m_=null,rW(K)):(OK=D_,m_=null,IH(Y,K,X,DX));break;case xI:var G=null;switch(MY.tag){case 26:G=MY.memoizedState;case 5:case 27:var N=MY;if(G?bN(G):1){OK=D_,m_=null;var R=N.sibling;if(R!==null)MY=R;else{var A=N.return;A!==null?(MY=A,D8(A)):MY=null}break K}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}OK=D_,m_=null,IH(Y,K,X,xI);break;case lH:OK=D_,m_=null,IH(Y,K,X,lH);break;case FI:$4(),VK=P2;break Y;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}f.actQueue!==null?sW():dq();break}catch(g){iW(Y,g)}while(1);if(R8(),f.H=$,f.A=H,ZK=_,MY!==null)return YY!==null&&typeof YY.markRenderYielded==="function"&&YY.markRenderYielded(),m0;return gY(),HK=null,TY=0,az(),VK}function dq(){for(;MY!==null&&!bR();)aW(MY)}function aW(Y){var K=Y.alternate;(Y.mode&aK)!==IK?(n7(Y),K=KY(Y,d6,K,Y,I0),o7(Y)):K=KY(Y,d6,K,Y,I0),Y.memoizedProps=Y.pendingProps,K===null?D8(Y):MY=K}function rW(Y){var K=KY(Y,cq,Y);Y.memoizedProps=Y.pendingProps,K===null?D8(Y):MY=K}function cq(Y){var K=Y.alternate,_=(Y.mode&aK)!==IK;switch(_&&n7(Y),Y.tag){case 15:case 0:K=HW(K,Y,Y.pendingProps,Y.type,void 0,TY);break;case 11:K=HW(K,Y,Y.pendingProps,Y.type.render,Y.ref,TY);break;case 5:X6(Y);default:dW(K,Y),Y=MY=fW(Y,I0),K=d6(K,Y,I0)}return _&&o7(Y),K}function IH(Y,K,_,$){R8(),X6(K),SH=null,LX=0;var H=K.return;try{if(Eq(Y,H,K,_,TY)){VK=VX,q8(Y,k_(_,Y.current)),MY=null;return}}catch(X){if(H!==null)throw MY=H,X;VK=VX,q8(Y,k_(_,Y.current)),MY=null;return}if(K.flags&32768){if(vY||$===xX)Y=!0;else if(uH||(TY&536870912)!==0)Y=!1;else if(h0=Y=!0,$===w1||$===FX||$===lH)$=OB.current,$!==null&&$.tag===13&&($.flags|=16384);tW(K,Y)}else D8(K)}function D8(Y){var K=Y;do{if((K.flags&32768)!==0){tW(K,h0);return}var _=K.alternate;if(Y=K.return,n7(K),_=KY(K,bq,_,K,I0),(K.mode&aK)!==IK&&O5(K),_!==null){MY=_;return}if(K=K.sibling,K!==null){MY=K;return}MY=K=Y}while(K!==null);VK===m0&&(VK=lZ)}function tW(Y,K){do{var _=vq(Y.alternate,Y);if(_!==null){_.flags&=32767,MY=_;return}if((Y.mode&aK)!==IK){O5(Y),_=Y.actualDuration;for(var $=Y.child;$!==null;)_+=$.actualDuration,$=$.sibling;Y.actualDuration=_}if(_=Y.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!K&&(Y=Y.sibling,Y!==null)){MY=Y;return}MY=Y=_}while(Y!==null);VK=P2,MY=null}function X4(Y,K,_,$,H,X,G,N,R,A){var g=f.T,d=NK.p;try{NK.p=FB,f.T=null,lq(Y,K,_,$,d,H,X,G,N,R,A)}finally{f.T=g,NK.p=d}}function lq(Y,K,_,$,H,X,G,N){do O1();while(E1!==null);if(UB.flushLegacyContextWarning(),UB.flushPendingUnsafeLifecycleWarnings(),(ZK&(J_|f0))!==f_)throw Error("Should not already be working.");var R=Y.finishedWork;if($=Y.finishedLanes,YY!==null&&typeof YY.markCommitStarted==="function"&&YY.markCommitStarted($),R===null)return Y$(),null;if($===0&&console.error("root.finishedLanes should not be empty during a commit. This is a bug in React."),Y.finishedWork=null,Y.finishedLanes=0,R===Y.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");Y.callbackNode=null,Y.callbackPriority=0,Y.cancelPendingCommit=null;var A=R.lanes|R.childLanes;if(A|=BI,cz(Y,$,A,X,G,N),Y===HK&&(MY=HK=null,TY=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||N2||(N2=!0,SI=A,TI=_,oq(JH,function(){return O1(!0),null})),r8=DH(),_=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||_?(_=f.T,f.T=null,X=NK.p,NK.p=FB,G=ZK,ZK|=f0,Tq(Y,R),kq(Y,R,$),Jq(cI,Y.containerInfo),U2=!!dI,cI=dI=null,Y.current=R,YY!==null&&typeof YY.markLayoutEffectsStarted==="function"&&YY.markLayoutEffectsStarted($),gq(R,Y,$),YY!==null&&typeof YY.markLayoutEffectsStopped==="function"&&YY.markLayoutEffectsStopped(),vR(),ZK=G,NK.p=X,f.T=_):Y.current=R,(_=N2)?(N2=!1,E1=Y,SX=$):(eW(Y,A),V1=0,yX=null),A=Y.pendingLanes,A===0&&(F$=null),_||BN(Y),u1(R.stateNode,H),xB&&Y.memoizedUpdaters.clear(),fq(),eB(Y),K!==null)for(H=Y.onRecoverableError,R=0;R<K.length;R++)A=K[R],_=uq(A.stack),KY(A.source,H,A.value,_);return(SX&3)!==0&&O1(),A=Y.pendingLanes,($&4194218)!==0&&(A&42)!==0?(e8=!0,Y===yI?TX++:(TX=0,yI=Y)):TX=0,pO(0,!1),Y$(),null}function uq(Y){return Y={componentStack:Y},Object.defineProperty(Y,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),Y}function eW(Y,K){(Y.pooledCacheLanes&=K)===0&&(K=Y.pooledCache,K!=null&&(Y.pooledCache=null,TO(K)))}function O1(){if(E1!==null){var Y=E1,K=SI;SI=0;var _=n1(SX),$=$0===0||$0>_?$0:_;_=f.T;var H=NK.p;try{if(NK.p=$,f.T=null,E1===null)var X=!1;else{$=TI,TI=null;var G=E1,N=SX;if(E1=null,SX=0,(ZK&(J_|f0))!==f_)throw Error("Cannot flush passive effects while already rendering.");kI=!0,Z2=!1,YY!==null&&typeof YY.markPassiveEffectsStarted==="function"&&YY.markPassiveEffectsStarted(N);var R=ZK;if(ZK|=f0,jW(G.current),TW(G,G.current,N,$),YY!==null&&typeof YY.markPassiveEffectsStopped==="function"&&YY.markPassiveEffectsStopped(),BN(G),ZK=R,pO(0,!1),Z2?G===yX?V1++:(V1=0,yX=G):V1=0,Z2=kI=!1,$_&&typeof $_.onPostCommitFiberRoot==="function")try{$_.onPostCommitFiberRoot(QH,G)}catch(g){B0||(B0=!0,console.error("React instrumentation encountered an error: %s",g))}var A=G.current.stateNode;A.effectDuration=0,A.passiveEffectDuration=0,X=!0}return X}finally{NK.p=H,f.T=_,eW(Y,K)}}return!1}function YN(Y,K,_){K=k_(_,K),K=U6(Y.stateNode,K,2),Y=z$(Y,K,2),Y!==null&&(hK(Y,2),eB(Y))}function eY(Y,K,_){if(pH=!1,Y.tag===3)YN(Y,Y,_);else{for(;K!==null;){if(K.tag===3){YN(K,Y,_);return}if(K.tag===1){var $=K.stateNode;if(typeof K.type.getDerivedStateFromError==="function"||typeof $.componentDidCatch==="function"&&(F$===null||!F$.has($))){Y=k_(_,Y),_=S6(2),$=z$(K,_,2),$!==null&&(T6(_,$,K,Y),hK($,2),eB($));return}}K=K.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,_)}}function z4(Y,K,_){var $=Y.pingCache;if($===null){$=Y.pingCache=new aC;var H=new Set;$.set(K,H)}else H=$.get(K),H===void 0&&(H=new Set,$.set(K,H));H.has(_)||(DI=!0,H.add(_),$=pq.bind(null,Y,K,_),xB&&uO(Y,_),K.then($,$))}function pq(Y,K,_){var $=Y.pingCache;$!==null&&$.delete(K),Y.pingedLanes|=Y.suspendedLanes&_,Y.warmLanes&=~_,cW()&&f.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),HK===Y&&(TY&_)===_&&(VK===C1||VK===VI&&(TY&62914560)===TY&&_0()-UI<pZ?(ZK&J_)===f_&&zH(Y,0):MI|=_,A1===TY&&(A1=0)),eB(Y)}function KN(Y,K){K===0&&(K=R_()),Y=__(Y,K),Y!==null&&(hK(Y,K),eB(Y))}function iq(Y){var K=Y.memoizedState,_=0;K!==null&&(_=K.retryLane),KN(Y,_)}function nq(Y,K){var _=0;switch(Y.tag){case 13:var{stateNode:$,memoizedState:H}=Y;H!==null&&(_=H.retryLane);break;case 19:$=Y.stateNode;break;case 22:$=Y.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}$!==null&&$.delete(K),KN(Y,_)}function I4(Y,K,_){if((K.subtreeFlags&33562624)!==0)for(K=K.child;K!==null;){var $=Y,H=K,X=H.type===m8;X=_||X,H.tag!==22?H.flags&33554432?X&&KY(H,_N,$,H,(H.mode&p3)===IK):I4($,H,X):H.memoizedState===null&&(X&&H.flags&8192?KY(H,_N,$,H):H.subtreeFlags&33554432&&KY(H,I4,$,H,X)),K=K.sibling}}function _N(Y,K){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;sY(!0);try{UW(K),_&&bW(K),SW(Y,K.alternate,K,!1),_&&yW(Y,K,0,null,!1)}finally{sY(!1)}}function BN(Y){var K=!0;Y.current.mode&(O_|MB)||(K=!1),I4(Y,Y.current,K)}function $N(Y){if((ZK&J_)===f_){var K=Y.tag;if(K===3||K===1||K===0||K===11||K===14||K===15){if(K=u(Y)||"ReactComponent",J2!==null){if(J2.has(K))return;J2.add(K)}else J2=new Set([K]);KY(Y,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function uO(Y,K){xB&&Y.memoizedUpdaters.forEach(function(_){qO(Y,_,K)})}function oq(Y,K){var _=f.actQueue;return _!==null?(_.push(K),Kw):m4(Y,K)}function sq(Y){cW()&&f.actQueue===null&&KY(Y,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,u(Y))})}function eB(Y){Y!==iH&&Y.next===null&&(iH===null?Q2=iH=Y:iH=iH.next=Y),L2=!0,f.actQueue!==null?jI||(jI=!0,IN(HN)):gI||(gI=!0,IN(HN))}function pO(Y,K){if(!bI&&L2){bI=!0;do{var _=!1;for(var $=Q2;$!==null;){if(!K)if(Y!==0){var H=$.pendingLanes;if(H===0)var X=0;else{var{suspendedLanes:G,pingedLanes:N}=$;X=(1<<31-I_(42|Y)+1)-1,X&=H&~(G&~N),X=X&201326677?X&201326677|1:X?X|2:0}X!==0&&(_=!0,zN($,X))}else X=TY,X=T_($,$===HK?X:0),(X&3)===0||$K($,X)||(_=!0,zN($,X));$=$.next}}while(_);bI=!1}}function HN(){L2=jI=gI=!1;var Y=0;x1!==0&&(YR()&&(Y=x1),x1=0);for(var K=_0(),_=null,$=Q2;$!==null;){var H=$.next,X=ON($,K);if(X===0)$.next=null,_===null?Q2=H:_.next=H,H===null&&(iH=_);else if(_=$,Y!==0||(X&3)!==0)L2=!0;$=H}pO(Y,!1)}function ON(Y,K){for(var{suspendedLanes:_,pingedLanes:$,expirationTimes:H}=Y,X=Y.pendingLanes&-62914561;0<X;){var G=31-I_(X),N=1<<G,R=H[G];if(R===-1){if((N&_)===0||(N&$)!==0)H[G]=o_(N,K)}else R<=K&&(Y.expiredLanes|=N);X&=~N}if(K=HK,_=TY,_=T_(Y,Y===K?_:0),$=Y.callbackNode,_===0||Y===K&&OK===w1||Y.cancelPendingCommit!==null)return $!==null&&P4($),Y.callbackNode=null,Y.callbackPriority=0;if((_&3)===0||$K(Y,_)){if(K=_&-_,K!==Y.callbackPriority||f.actQueue!==null&&$!==vI)P4($);else return K;switch(n1(_)){case FB:case DB:_=d4;break;case $0:_=JH;break;case u8:_=c4;break;default:_=JH}return $=XN.bind(null,Y),f.actQueue!==null?(f.actQueue.push($),_=vI):_=m4(_,$),Y.callbackPriority=K,Y.callbackNode=_,K}return $!==null&&P4($),Y.callbackPriority=2,Y.callbackNode=null,2}function XN(Y,K){e8=t8=!1;var _=Y.callbackNode;if(O1()&&Y.callbackNode!==_)return null;var $=TY;if($=T_(Y,Y===HK?$:0),$===0)return null;return uW(Y,$,K),ON(Y,_0()),Y.callbackNode!=null&&Y.callbackNode===_?XN.bind(null,Y):null}function zN(Y,K){if(O1())return null;t8=e8,e8=!1,uW(Y,K,!0)}function P4(Y){Y!==vI&&Y!==null&&jR(Y)}function IN(Y){f.actQueue!==null&&f.actQueue.push(function(){return Y(),null}),Iw(function(){(ZK&(J_|f0))!==f_?m4(h4,Y):Y()})}function G4(){return x1===0&&(x1=RB()),x1}function PN(Y){if(Y==null||typeof Y==="symbol"||typeof Y==="boolean")return null;if(typeof Y==="function")return Y;return mY(Y,"action"),EO(""+Y)}function GN(Y,K){var _=K.ownerDocument.createElement("input");return _.name=K.name,_.value=K.value,Y.id&&_.setAttribute("form",Y.id),K.parentNode.insertBefore(_,K),Y=new FormData(Y),_.parentNode.removeChild(_),Y}function aq(Y,K,_,$,H){if(K==="submit"&&_&&_.stateNode===H){var X=PN((H[V_]||null).action),G=$.submitter;G&&(K=(K=G[V_]||null)?PN(K.formAction):G.getAttribute("formAction"),K!==null&&(X=K,G=null));var N=new s8("action","action",null,$,H);Y.push({event:N,listeners:[{instance:null,listener:function(){if($.defaultPrevented){if(x1!==0){var R=G?GN(H,G):new FormData(H),A={pending:!0,data:R,method:H.method,action:X};Object.freeze(A),A6(_,A,null,R)}}else typeof X==="function"&&(N.preventDefault(),R=G?GN(H,G):new FormData(H),A={pending:!0,data:R,method:H.method,action:X},Object.freeze(A),A6(_,A,X,R))},currentTarget:H}]})}}function WN(Y,K){K=(K&4)!==0;for(var _=0;_<Y.length;_++){var $=Y[_];Y:{var H=void 0,X=$.event;if($=$.listeners,K)for(var G=$.length-1;0<=G;G--){var N=$[G],R=N.instance,A=N.currentTarget;if(N=N.listener,R!==H&&X.isPropagationStopped())break Y;H=X,H.currentTarget=A;try{N(H)}catch(g){z2(g)}H.currentTarget=null,H=R}else for(G=0;G<$.length;G++){if(N=$[G],R=N.instance,A=N.currentTarget,N=N.listener,R!==H&&X.isPropagationStopped())break Y;H=X,H.currentTarget=A;try{N(H)}catch(g){z2(g)}H.currentTarget=null,H=R}}}}function bY(Y,K){fI.has(Y)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',Y);var _=K[l4];_===void 0&&(_=K[l4]=new Set);var $=Y+"__bubble";_.has($)||(NN(K,Y,2,!1),_.add($))}function W4(Y,K,_){fI.has(Y)&&!K&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',Y);var $=0;K&&($|=4),NN(_,Y,$,K)}function N4(Y){if(!Y[q2]){Y[q2]=!0,O3.forEach(function(_){_!=="selectionchange"&&(fI.has(_)||W4(_,!1,Y),W4(_,!0,Y))});var K=Y.nodeType===9?Y:Y.ownerDocument;K===null||K[q2]||(K[q2]=!0,W4("selectionchange",!1,K))}}function NN(Y,K,_,$){switch(lN(K)){case FB:var H=FR;break;case DB:H=DR;break;default:H=F4}_=H.bind(null,K,_,Y),H=void 0,!o4||K!=="touchstart"&&K!=="touchmove"&&K!=="wheel"||(H=!0),$?H!==void 0?Y.addEventListener(K,_,{capture:!0,passive:H}):Y.addEventListener(K,_,!0):H!==void 0?Y.addEventListener(K,_,{passive:H}):Y.addEventListener(K,_,!1)}function Z4(Y,K,_,$,H){var X=$;if((K&1)===0&&(K&2)===0&&$!==null)Y:for(;;){if($===null)return;var G=$.tag;if(G===3||G===4){var N=$.stateNode.containerInfo;if(N===H||N.nodeType===8&&N.parentNode===H)break;if(G===4)for(G=$.return;G!==null;){var R=G.tag;if(R===3||R===4){if(R=G.stateNode.containerInfo,R===H||R.nodeType===8&&R.parentNode===H)return}G=G.return}for(;N!==null;){if(G=pB(N),G===null)return;if(R=G.tag,R===5||R===6||R===26||R===27){$=X=G;continue Y}N=N.parentNode}}$=$.return}cG(function(){var A=X,g=d7(_),d=[];Y:{var j=l3.get(Y);if(j!==void 0){var p=s8,IY=Y;switch(Y){case"keypress":if(nz(_)===0)break Y;case"keydown":case"keyup":p=AC;break;case"focusin":IY="focus",p=t4;break;case"focusout":IY="blur",p=t4;break;case"beforeblur":case"afterblur":p=t4;break;case"click":if(_.button===2)break Y;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xC;break;case m3:case h3:case d3:p=NC;break;case c3:p=DC;break;case"scroll":case"scrollend":p=zC;break;case"wheel":p=UC;break;case"copy":case"cut":case"paste":p=JC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=T3;break;case"toggle":case"beforetoggle":p=TC}var EY=(K&4)!==0,MK=!EY&&(Y==="scroll"||Y==="scrollend"),pY=EY?j!==null?j+"Capture":null:j;EY=[];for(var V=A,E;V!==null;){var F=V;if(E=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||E===null||pY===null||(F=VO(V,pY),F!=null&&EY.push(iO(V,F,E))),MK)break;V=V.return}0<EY.length&&(j=new p(j,IY,null,_,g),d.push({event:j,listeners:EY}))}}if((K&7)===0){Y:{if(j=Y==="mouseover"||Y==="pointerover",p=Y==="mouseout"||Y==="pointerout",j&&_!==KX&&(IY=_.relatedTarget||_.fromElement)&&(pB(IY)||IY[X1]))break Y;if(p||j){if(j=g.window===g?g:(j=g.ownerDocument)?j.defaultView||j.parentWindow:window,p){if(IY=_.relatedTarget||_.toElement,p=A,IY=IY?pB(IY):null,IY!==null&&(MK=e(IY),EY=IY.tag,IY!==MK||EY!==5&&EY!==27&&EY!==6))IY=null}else p=null,IY=A;if(p!==IY){if(EY=U3,F="onMouseLeave",pY="onMouseEnter",V="mouse",Y==="pointerout"||Y==="pointerover")EY=T3,F="onPointerLeave",pY="onPointerEnter",V="pointer";if(MK=p==null?j:K$(p),E=IY==null?j:K$(IY),j=new EY(F,V+"leave",p,_,g),j.target=MK,j.relatedTarget=E,F=null,pB(g)===A&&(EY=new EY(pY,V+"enter",IY,_,g),EY.target=E,EY.relatedTarget=MK,F=EY),MK=F,p&&IY)K:{EY=p,pY=IY,V=0;for(E=EY;E;E=PH(E))V++;E=0;for(F=pY;F;F=PH(F))E++;for(;0<V-E;)EY=PH(EY),V--;for(;0<E-V;)pY=PH(pY),E--;for(;V--;){if(EY===pY||pY!==null&&EY===pY.alternate)break K;EY=PH(EY),pY=PH(pY)}EY=null}else EY=null;p!==null&&ZN(d,j,p,EY,!1),IY!==null&&MK!==null&&ZN(d,MK,IY,EY,!0)}}}Y:{if(j=A?K$(A):window,p=j.nodeName&&j.nodeName.toLowerCase(),p==="select"||p==="input"&&j.type==="file")var h=sG;else if(nG(j))if(v3)h=Nq;else{h=Gq;var t=Pq}else p=j.nodeName,!p||p.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?A&&AO(A.elementType)&&(h=sG):h=Wq;if(h&&(h=h(Y,A))){oG(d,h,_,g);break Y}t&&t(Y,j,A),Y==="focusout"&&A&&j.type==="number"&&A.memoizedProps.value!=null&&C_(j,"number",j.value)}switch(t=A?K$(A):window,Y){case"focusin":if(nG(t)||t.contentEditable==="true")EH=t,YI=A,zX=null;break;case"focusout":zX=YI=EH=null;break;case"mousedown":KI=!0;break;case"contextmenu":case"mouseup":case"dragend":KI=!1,_5(d,_,g);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":_5(d,_,g)}var wY;if(e4)Y:{switch(Y){case"compositionstart":var XY="onCompositionStart";break Y;case"compositionend":XY="onCompositionEnd";break Y;case"compositionupdate":XY="onCompositionUpdate";break Y}XY=void 0}else AH?pG(Y,_)&&(XY="onCompositionEnd"):Y==="keydown"&&_.keyCode===y3&&(XY="onCompositionStart");if(XY&&(k3&&_.locale!=="ko"&&(AH||XY!=="onCompositionStart"?XY==="onCompositionEnd"&&AH&&(wY=lG()):(Q$=g,s4=("value"in Q$)?Q$.value:Q$.textContent,AH=!0)),t=M8(A,XY),0<t.length&&(XY=new S3(XY,Y,null,_,g),d.push({event:XY,listeners:t}),wY?XY.data=wY:(wY=iG(_),wY!==null&&(XY.data=wY)))),wY=kC?Oq(Y,_):Xq(Y,_))XY=M8(A,"onBeforeInput"),0<XY.length&&(t=new LC("onBeforeInput","beforeinput",null,_,g),d.push({event:t,listeners:XY}),t.data=wY);aq(d,Y,A,_,g)}WN(d,K)})}function iO(Y,K,_){return{instance:Y,listener:K,currentTarget:_}}function M8(Y,K){for(var _=K+"Capture",$=[];Y!==null;){var H=Y,X=H.stateNode;H=H.tag,H!==5&&H!==26&&H!==27||X===null||(H=VO(Y,_),H!=null&&$.unshift(iO(Y,H,X)),H=VO(Y,K),H!=null&&$.push(iO(Y,H,X))),Y=Y.return}return $}function PH(Y){if(Y===null)return null;do Y=Y.return;while(Y&&Y.tag!==5&&Y.tag!==27);return Y?Y:null}function ZN(Y,K,_,$,H){for(var X=K._reactName,G=[];_!==null&&_!==$;){var N=_,R=N.alternate,A=N.stateNode;if(N=N.tag,R!==null&&R===$)break;N!==5&&N!==26&&N!==27||A===null||(R=A,H?(A=VO(_,X),A!=null&&G.unshift(iO(_,A,R))):H||(A=VO(_,X),A!=null&&G.push(iO(_,A,R)))),_=_.return}G.length!==0&&Y.push({event:K,listeners:G})}function J4(Y,K){_q(Y,K),Y!=="input"&&Y!=="textarea"&&Y!=="select"||K==null||K.value!==null||D3||(D3=!0,Y==="select"&&K.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",Y):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",Y));var _={registrationNameDependencies:z1,possibleRegistrationNames:u4};AO(Y)||typeof K.is==="string"||$q(Y,K,_),K.contentEditable&&!K.suppressContentEditableWarning&&K.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function cK(Y,K,_,$){K!==_&&(_=G$(_),G$(K)!==_&&($[Y]=K))}function rq(Y,K,_){K.forEach(function($){_[LN($)]=$==="style"?L4(Y):Y.getAttribute($)})}function Y0(Y,K){K===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",Y,Y,Y):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",Y,typeof K)}function JN(Y,K){return Y=Y.namespaceURI===i8||Y.namespaceURI===LH?Y.ownerDocument.createElementNS(Y.namespaceURI,Y.tagName):Y.ownerDocument.createElement(Y.tagName),Y.innerHTML=K,Y.innerHTML}function G$(Y){return LB(Y)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",n_(Y)),L_(Y)),(typeof Y==="string"?Y:""+Y).replace(Bw,`
`).replace($w,"")}function QN(Y,K){return K=G$(K),G$(Y)===K?!0:!1}function U8(){}function YK(Y,K,_,$,H,X){switch(_){case"children":if(typeof $==="string")iz($,K),K==="body"||K==="textarea"&&$===""||wO(Y,$);else if(typeof $==="number"||typeof $==="bigint")iz(""+$,K),K!=="body"&&wO(Y,""+$);break;case"className":J(Y,"class",$);break;case"tabIndex":J(Y,"tabindex",$);break;case"dir":case"role":case"viewBox":case"width":case"height":J(Y,_,$);break;case"style":mG(Y,$,X);break;case"data":if(K!=="object"){J(Y,"data",$);break}case"src":case"href":if($===""&&(K!=="a"||_!=="href")){_==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',_,_):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',_,_),Y.removeAttribute(_);break}if($==null||typeof $==="function"||typeof $==="symbol"||typeof $==="boolean"){Y.removeAttribute(_);break}mY($,_),$=EO(""+$),Y.setAttribute(_,$);break;case"action":case"formAction":if($!=null&&(K==="form"?_==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof $==="function"&&(H.encType==null&&H.method==null||w2||(w2=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),H.target==null||C2||(C2=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):K==="input"||K==="button"?_==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):K!=="input"||H.type==="submit"||H.type==="image"||R2?K!=="button"||H.type==null||H.type==="submit"||R2?typeof $==="function"&&(H.name==null||tZ||(tZ=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),H.formEncType==null&&H.formMethod==null||w2||(w2=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),H.formTarget==null||C2||(C2=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(R2=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(R2=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):_==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof $==="function"){Y.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X==="function"&&(_==="formAction"?(K!=="input"&&YK(Y,K,"name",H.name,H,null),YK(Y,K,"formEncType",H.formEncType,H,null),YK(Y,K,"formMethod",H.formMethod,H,null),YK(Y,K,"formTarget",H.formTarget,H,null)):(YK(Y,K,"encType",H.encType,H,null),YK(Y,K,"method",H.method,H,null),YK(Y,K,"target",H.target,H,null)));if($==null||typeof $==="symbol"||typeof $==="boolean"){Y.removeAttribute(_);break}mY($,_),$=EO(""+$),Y.setAttribute(_,$);break;case"onClick":$!=null&&(typeof $!=="function"&&Y0(_,$),Y.onclick=U8);break;case"onScroll":$!=null&&(typeof $!=="function"&&Y0(_,$),bY("scroll",Y));break;case"onScrollEnd":$!=null&&(typeof $!=="function"&&Y0(_,$),bY("scrollend",Y));break;case"dangerouslySetInnerHTML":if($!=null){if(typeof $!=="object"||!("__html"in $))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(_=$.__html,_!=null){if(H.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");Y.innerHTML=_}}break;case"multiple":Y.multiple=$&&typeof $!=="function"&&typeof $!=="symbol";break;case"muted":Y.muted=$&&typeof $!=="function"&&typeof $!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if($==null||typeof $==="function"||typeof $==="boolean"||typeof $==="symbol"){Y.removeAttribute("xlink:href");break}mY($,_),_=EO(""+$),Y.setAttributeNS(F1,"xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":$!=null&&typeof $!=="function"&&typeof $!=="symbol"?(mY($,_),Y.setAttribute(_,""+$)):Y.removeAttribute(_);break;case"inert":$!==""||A2[_]||(A2[_]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",_));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":$&&typeof $!=="function"&&typeof $!=="symbol"?Y.setAttribute(_,""):Y.removeAttribute(_);break;case"capture":case"download":$===!0?Y.setAttribute(_,""):$!==!1&&$!=null&&typeof $!=="function"&&typeof $!=="symbol"?(mY($,_),Y.setAttribute(_,$)):Y.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":$!=null&&typeof $!=="function"&&typeof $!=="symbol"&&!isNaN($)&&1<=$?(mY($,_),Y.setAttribute(_,$)):Y.removeAttribute(_);break;case"rowSpan":case"start":$==null||typeof $==="function"||typeof $==="symbol"||isNaN($)?Y.removeAttribute(_):(mY($,_),Y.setAttribute(_,$));break;case"popover":bY("beforetoggle",Y),bY("toggle",Y),c$(Y,"popover",$);break;case"xlinkActuate":M(Y,F1,"xlink:actuate",$);break;case"xlinkArcrole":M(Y,F1,"xlink:arcrole",$);break;case"xlinkRole":M(Y,F1,"xlink:role",$);break;case"xlinkShow":M(Y,F1,"xlink:show",$);break;case"xlinkTitle":M(Y,F1,"xlink:title",$);break;case"xlinkType":M(Y,F1,"xlink:type",$);break;case"xmlBase":M(Y,mI,"xml:base",$);break;case"xmlLang":M(Y,mI,"xml:lang",$);break;case"xmlSpace":M(Y,mI,"xml:space",$);break;case"is":X!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),c$(Y,"is",$);break;case"innerText":case"textContent":break;case"popoverTarget":eZ||$==null||typeof $!=="object"||(eZ=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",$));default:!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N"?(_=hG(_),c$(Y,_,$)):z1.hasOwnProperty(_)&&$!=null&&typeof $!=="function"&&Y0(_,$)}}function Q4(Y,K,_,$,H,X){switch(_){case"style":mG(Y,$,X);break;case"dangerouslySetInnerHTML":if($!=null){if(typeof $!=="object"||!("__html"in $))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(_=$.__html,_!=null){if(H.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");Y.innerHTML=_}}break;case"children":typeof $==="string"?wO(Y,$):(typeof $==="number"||typeof $==="bigint")&&wO(Y,""+$);break;case"onScroll":$!=null&&(typeof $!=="function"&&Y0(_,$),bY("scroll",Y));break;case"onScrollEnd":$!=null&&(typeof $!=="function"&&Y0(_,$),bY("scrollend",Y));break;case"onClick":$!=null&&(typeof $!=="function"&&Y0(_,$),Y.onclick=U8);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(z1.hasOwnProperty(_))$!=null&&typeof $!=="function"&&Y0(_,$);else Y:{if(_[0]==="o"&&_[1]==="n"&&(H=_.endsWith("Capture"),K=_.slice(2,H?_.length-7:void 0),X=Y[V_]||null,X=X!=null?X[_]:null,typeof X==="function"&&Y.removeEventListener(K,X,H),typeof $==="function")){typeof X!=="function"&&X!==null&&(_ in Y?Y[_]=null:Y.hasAttribute(_)&&Y.removeAttribute(_)),Y.addEventListener(K,$,H);break Y}_ in Y?Y[_]=$:$===!0?Y.setAttribute(_,""):c$(Y,_,$)}}}function oK(Y,K,_){switch(J4(K,_),K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bY("error",Y),bY("load",Y);var $=!1,H=!1,X;for(X in _)if(_.hasOwnProperty(X)){var G=_[X];if(G!=null)switch(X){case"src":$=!0;break;case"srcSet":H=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:YK(Y,K,X,G,_,null)}}H&&YK(Y,K,"srcSet",_.srcSet,_,null),$&&YK(Y,K,"src",_.src,_,null);return;case"input":AB("input",_),bY("invalid",Y);var N=X=G=H=null,R=null,A=null;for($ in _)if(_.hasOwnProperty($)){var g=_[$];if(g!=null)switch($){case"name":H=g;break;case"type":G=g;break;case"checked":R=g;break;case"defaultChecked":A=g;break;case"value":X=g;break;case"defaultValue":N=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:YK(Y,K,$,g,_,null)}}WK(Y,_),oB(Y,X,N,R,A,G,H,!1),PY(Y);return;case"select":AB("select",_),bY("invalid",Y),$=G=X=null;for(H in _)if(_.hasOwnProperty(H)&&(N=_[H],N!=null))switch(H){case"value":X=N;break;case"defaultValue":G=N;break;case"multiple":$=N;default:YK(Y,K,H,N,_,null)}DG(Y,_),K=X,_=G,Y.multiple=!!$,K!=null?a1(Y,!!$,K,!1):_!=null&&a1(Y,!!$,_,!0);return;case"textarea":AB("textarea",_),bY("invalid",Y),X=H=$=null;for(G in _)if(_.hasOwnProperty(G)&&(N=_[G],N!=null))switch(G){case"value":$=N;break;case"defaultValue":H=N;break;case"children":X=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:YK(Y,K,G,N,_,null)}MG(Y,_),SG(Y,$,H,X),PY(Y);return;case"option":l$(Y,_);for(R in _)if(_.hasOwnProperty(R)&&($=_[R],$!=null))switch(R){case"selected":Y.selected=$&&typeof $!=="function"&&typeof $!=="symbol";break;default:YK(Y,K,R,$,_,null)}return;case"dialog":bY("cancel",Y),bY("close",Y);break;case"iframe":case"object":bY("load",Y);break;case"video":case"audio":for($=0;$<kX.length;$++)bY(kX[$],Y);break;case"image":bY("error",Y),bY("load",Y);break;case"details":bY("toggle",Y);break;case"embed":case"source":case"link":bY("error",Y),bY("load",Y);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in _)if(_.hasOwnProperty(A)&&($=_[A],$!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:YK(Y,K,A,$,_,null)}return;default:if(AO(K)){for(g in _)_.hasOwnProperty(g)&&($=_[g],$!==void 0&&Q4(Y,K,g,$,_,void 0));return}}for(N in _)_.hasOwnProperty(N)&&($=_[N],$!=null&&YK(Y,K,N,$,_,null))}function tq(Y,K,_,$){switch(J4(K,$),K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var H=null,X=null,G=null,N=null,R=null,A=null,g=null;for(p in _){var d=_[p];if(_.hasOwnProperty(p)&&d!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":R=d;default:$.hasOwnProperty(p)||YK(Y,K,p,null,$,d)}}for(var j in $){var p=$[j];if(d=_[j],$.hasOwnProperty(j)&&(p!=null||d!=null))switch(j){case"type":X=p;break;case"name":H=p;break;case"checked":A=p;break;case"defaultChecked":g=p;break;case"value":G=p;break;case"defaultValue":N=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:p!==d&&YK(Y,K,j,p,$,d)}}K=_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null,$=$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null,K||!$||rZ||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),rZ=!0),!K||$||aZ||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),aZ=!0),dK(Y,G,N,R,A,g,X,H);return;case"select":p=G=N=j=null;for(X in _)if(R=_[X],_.hasOwnProperty(X)&&R!=null)switch(X){case"value":break;case"multiple":p=R;default:$.hasOwnProperty(X)||YK(Y,K,X,null,$,R)}for(H in $)if(X=$[H],R=_[H],$.hasOwnProperty(H)&&(X!=null||R!=null))switch(H){case"value":j=X;break;case"defaultValue":N=X;break;case"multiple":G=X;default:X!==R&&YK(Y,K,H,X,$,R)}$=N,K=G,_=p,j!=null?a1(Y,!!K,j,!1):!!_!==!!K&&($!=null?a1(Y,!!K,$,!0):a1(Y,!!K,K?[]:"",!1));return;case"textarea":p=j=null;for(N in _)if(H=_[N],_.hasOwnProperty(N)&&H!=null&&!$.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:YK(Y,K,N,null,$,H)}for(G in $)if(H=$[G],X=_[G],$.hasOwnProperty(G)&&(H!=null||X!=null))switch(G){case"value":j=H;break;case"defaultValue":p=H;break;case"children":break;case"dangerouslySetInnerHTML":if(H!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:H!==X&&YK(Y,K,G,H,$,X)}UG(Y,j,p);return;case"option":for(var IY in _)if(j=_[IY],_.hasOwnProperty(IY)&&j!=null&&!$.hasOwnProperty(IY))switch(IY){case"selected":Y.selected=!1;break;default:YK(Y,K,IY,null,$,j)}for(R in $)if(j=$[R],p=_[R],$.hasOwnProperty(R)&&j!==p&&(j!=null||p!=null))switch(R){case"selected":Y.selected=j&&typeof j!=="function"&&typeof j!=="symbol";break;default:YK(Y,K,R,j,$,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var EY in _)j=_[EY],_.hasOwnProperty(EY)&&j!=null&&!$.hasOwnProperty(EY)&&YK(Y,K,EY,null,$,j);for(A in $)if(j=$[A],p=_[A],$.hasOwnProperty(A)&&j!==p&&(j!=null||p!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:YK(Y,K,A,j,$,p)}return;default:if(AO(K)){for(var MK in _)j=_[MK],_.hasOwnProperty(MK)&&j!==void 0&&!$.hasOwnProperty(MK)&&Q4(Y,K,MK,void 0,$,j);for(g in $)j=$[g],p=_[g],!$.hasOwnProperty(g)||j===p||j===void 0&&p===void 0||Q4(Y,K,g,j,$,p);return}}for(var pY in _)j=_[pY],_.hasOwnProperty(pY)&&j!=null&&!$.hasOwnProperty(pY)&&YK(Y,K,pY,null,$,j);for(d in $)j=$[d],p=_[d],!$.hasOwnProperty(d)||j===p||j==null&&p==null||YK(Y,K,d,j,$,p)}function LN(Y){switch(Y){case"class":return"className";case"for":return"htmlFor";default:return Y}}function L4(Y){var K={};Y=Y.style;for(var _=0;_<Y.length;_++){var $=Y[_];K[$]=Y.getPropertyValue($)}return K}function qN(Y,K,_){if(K!=null&&typeof K!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else if(_w){var $,H=$="",X;for(X in K)if(K.hasOwnProperty(X)){var G=K[X];G!=null&&typeof G!=="boolean"&&G!==""&&(X.indexOf("--")===0?(qB(G,X),$+=H+X+":"+(""+G).trim()):typeof G!=="number"||G===0||x3.has(X)?(qB(G,X),$+=H+X.replace(C3,"-$1").toLowerCase().replace(w3,"-ms-")+":"+(""+G).trim()):$+=H+X.replace(C3,"-$1").toLowerCase().replace(w3,"-ms-")+":"+G+"px",H=";")}$=$||null,K=Y.getAttribute("style"),K!==$&&($=G$($),G$(K)!==$&&(_.style=L4(Y)))}}function t_(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(mY($,K),Y===""+$)return}cK(K,Y,$,X)}function RN(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null){switch(typeof $){case"function":case"symbol":return}if(!$)return}else switch(typeof $){case"function":case"symbol":break;default:if($)return}cK(K,Y,$,X)}function q4(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":return}else if($!=null)switch(typeof $){case"function":case"symbol":break;default:if(mY($,_),Y===""+$)return}cK(K,Y,$,X)}function CN(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN($))return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(!isNaN($)&&(mY($,K),Y===""+$))return}cK(K,Y,$,X)}function S8(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(mY($,K),_=EO(""+$),Y===_)return}cK(K,Y,$,X)}function wN(Y,K,_,$){for(var H={},X=new Set,G=Y.attributes,N=0;N<G.length;N++)switch(G[N].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:X.add(G[N].name)}if(AO(K)){for(var R in _)if(_.hasOwnProperty(R)){var A=_[R];if(A!=null){if(z1.hasOwnProperty(R))typeof A!=="function"&&Y0(R,A);else if(_.suppressHydrationWarning!==!0)switch(R){case"children":typeof A!=="string"&&typeof A!=="number"||cK("children",Y.textContent,A,H);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":G=Y.innerHTML,A=A?A.__html:void 0,A!=null&&(A=JN(Y,A),cK(R,G,A,H));continue;case"style":X.delete(R),qN(Y,A,H);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":X.delete(R.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",R);continue;case"className":X.delete("class"),G=s1(Y,"class",A),cK("className",G,A,H);continue;default:$.context===d0&&K!=="svg"&&K!=="math"?X.delete(R.toLowerCase()):X.delete(R),G=s1(Y,R,A),cK(R,G,A,H)}}}}else for(A in _)if(_.hasOwnProperty(A)&&(R=_[A],R!=null)){if(z1.hasOwnProperty(A))typeof R!=="function"&&Y0(A,R);else if(_.suppressHydrationWarning!==!0)switch(A){case"children":typeof R!=="string"&&typeof R!=="number"||cK("children",Y.textContent,R,H);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":G=Y.innerHTML,R=R?R.__html:void 0,R!=null&&(R=JN(Y,R),G!==R&&(H[A]={__html:G}));continue;case"className":t_(Y,A,"class",R,X,H);continue;case"tabIndex":t_(Y,A,"tabindex",R,X,H);continue;case"style":X.delete(A),qN(Y,R,H);continue;case"multiple":X.delete(A),cK(A,Y.multiple,R,H);continue;case"muted":X.delete(A),cK(A,Y.muted,R,H);continue;case"autoFocus":X.delete("autofocus"),cK(A,Y.autofocus,R,H);continue;case"data":if(K!=="object"){X.delete(A),G=Y.getAttribute("data"),cK(A,G,R,H);continue}case"src":case"href":if(!(R!==""||K==="a"&&A==="href"||K==="object"&&A==="data")){A==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',A,A):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',A,A),S8(Y,A,A,null,X,H);continue}S8(Y,A,A,R,X,H);continue;case"action":case"formAction":if(G=Y.getAttribute(A),typeof R==="function"){X.delete(A.toLowerCase()),A==="formAction"?(X.delete("name"),X.delete("formenctype"),X.delete("formmethod"),X.delete("formtarget")):(X.delete("enctype"),X.delete("method"),X.delete("target"));continue}else if(G===Hw){X.delete(A.toLowerCase()),cK(A,"function",R,H);continue}S8(Y,A,A.toLowerCase(),R,X,H);continue;case"xlinkHref":S8(Y,A,"xlink:href",R,X,H);continue;case"contentEditable":q4(Y,A,"contenteditable",R,X,H);continue;case"spellCheck":q4(Y,A,"spellcheck",R,X,H);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":q4(Y,A,A,R,X,H);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":RN(Y,A,A.toLowerCase(),R,X,H);continue;case"capture":case"download":Y:{N=Y;var g=G=A,d=H;if(X.delete(g),N=N.getAttribute(g),N===null)switch(typeof R){case"undefined":case"function":case"symbol":break Y;default:if(R===!1)break Y}else if(R!=null)switch(typeof R){case"function":case"symbol":break;case"boolean":if(R===!0&&N==="")break Y;break;default:if(mY(R,G),N===""+R)break Y}cK(G,N,R,d)}continue;case"cols":case"rows":case"size":case"span":Y:{if(N=Y,g=G=A,d=H,X.delete(g),N=N.getAttribute(g),N===null)switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":break Y;default:if(isNaN(R)||1>R)break Y}else if(R!=null)switch(typeof R){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(R)||1>R)&&(mY(R,G),N===""+R))break Y}cK(G,N,R,d)}continue;case"rowSpan":CN(Y,A,"rowspan",R,X,H);continue;case"start":CN(Y,A,A,R,X,H);continue;case"xHeight":t_(Y,A,"x-height",R,X,H);continue;case"xlinkActuate":t_(Y,A,"xlink:actuate",R,X,H);continue;case"xlinkArcrole":t_(Y,A,"xlink:arcrole",R,X,H);continue;case"xlinkRole":t_(Y,A,"xlink:role",R,X,H);continue;case"xlinkShow":t_(Y,A,"xlink:show",R,X,H);continue;case"xlinkTitle":t_(Y,A,"xlink:title",R,X,H);continue;case"xlinkType":t_(Y,A,"xlink:type",R,X,H);continue;case"xmlBase":t_(Y,A,"xml:base",R,X,H);continue;case"xmlLang":t_(Y,A,"xml:lang",R,X,H);continue;case"xmlSpace":t_(Y,A,"xml:space",R,X,H);continue;case"inert":R!==""||A2[A]||(A2[A]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",A)),RN(Y,A,A,R,X,H);continue;default:if(!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N"){N=hG(A),G=!1,$.context===d0&&K!=="svg"&&K!=="math"?X.delete(N.toLowerCase()):(g=A.toLowerCase(),g=n8.hasOwnProperty(g)?n8[g]||null:null,g!==null&&g!==A&&(G=!0,X.delete(g)),X.delete(N));Y:if(g=Y,d=N,N=R,_$(d))if(g.hasAttribute(d))g=g.getAttribute(d),mY(N,d),N=g===""+N?N:g;else{switch(typeof N){case"function":case"symbol":break Y;case"boolean":if(g=d.toLowerCase().slice(0,5),g!=="data-"&&g!=="aria-")break Y}N=N===void 0?void 0:null}else N=void 0;G||cK(A,N,R,H)}}}return 0<X.size&&_.suppressHydrationWarning!==!0&&rq(Y,X,H),Object.keys(H).length===0?null:H}function eq(Y,K){switch(Y.length){case 0:return"";case 1:return Y[0];case 2:return Y[0]+" "+K+" "+Y[1];default:return Y.slice(0,-1).join(", ")+", "+K+" "+Y[Y.length-1]}}function T8(Y){return Y.nodeType===9?Y:Y.ownerDocument}function AN(Y){switch(Y){case LH:return nH;case i8:return x2;default:return d0}}function EN(Y,K){if(Y===d0)switch(K){case"svg":return nH;case"math":return x2;default:return d0}return Y===nH&&K==="foreignObject"?d0:Y}function R4(Y,K){return Y==="textarea"||Y==="noscript"||typeof K.children==="string"||typeof K.children==="number"||typeof K.children==="bigint"||typeof K.dangerouslySetInnerHTML==="object"&&K.dangerouslySetInnerHTML!==null&&K.dangerouslySetInnerHTML.__html!=null}function YR(){var Y=window.event;if(Y&&Y.type==="popstate"){if(Y===lI)return!1;return lI=Y,!0}return lI=null,!1}function KR(Y){setTimeout(function(){throw Y})}function _R(Y,K,_){switch(K){case"button":case"input":case"select":case"textarea":_.autoFocus&&Y.focus();break;case"img":_.src?Y.src=_.src:_.srcSet&&(Y.srcset=_.srcSet)}}function BR(Y,K,_,$){tq(Y,K,_,$),Y[V_]=$}function VN(Y){wO(Y,"")}function $R(Y,K,_){Y.nodeValue=_}function HR(Y,K){Y.removeChild(K)}function OR(Y,K){Y.nodeType===8?Y.parentNode.removeChild(K):Y.removeChild(K)}function C4(Y,K){var _=K,$=0;do{var H=_.nextSibling;if(Y.removeChild(_),H&&H.nodeType===8)if(_=H.data,_===V2){if($===0){Y.removeChild(H),aO(K);return}$--}else _!==E2&&_!==D1&&_!==M1||$++;_=H}while(_);aO(K)}function XR(Y){Y=Y.style,typeof Y.setProperty==="function"?Y.setProperty("display","none","important"):Y.display="none"}function zR(Y){Y.nodeValue=""}function IR(Y,K){K=K[Xw],K=K!==void 0&&K!==null&&K.hasOwnProperty("display")?K.display:null,Y.style.display=K==null||typeof K==="boolean"?"":(""+K).trim()}function PR(Y,K){Y.nodeValue=K}function w4(Y){var K=Y.firstChild;K&&K.nodeType===10&&(K=K.nextSibling);for(;K;){var _=K;switch(K=K.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":w4(_),o1(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}Y.removeChild(_)}}function GR(Y,K,_,$){for(;Y.nodeType===1;){var H=_;if(Y.nodeName.toLowerCase()!==K.toLowerCase()){if(!$&&(Y.nodeName!=="INPUT"||Y.type!=="hidden"))break}else if(!$)if(K==="input"&&Y.type==="hidden"){mY(H.name,"name");var X=H.name==null?null:""+H.name;if(H.type==="hidden"&&Y.getAttribute("name")===X)return Y}else return Y;else if(!Y[YX])switch(K){case"meta":if(!Y.hasAttribute("itemprop"))break;return Y;case"link":if(X=Y.getAttribute("rel"),X==="stylesheet"&&Y.hasAttribute("data-precedence"))break;else if(X!==H.rel||Y.getAttribute("href")!==(H.href==null?null:H.href)||Y.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin)||Y.getAttribute("title")!==(H.title==null?null:H.title))break;return Y;case"style":if(Y.hasAttribute("data-precedence"))break;return Y;case"script":if(X=Y.getAttribute("src"),(X!==(H.src==null?null:H.src)||Y.getAttribute("type")!==(H.type==null?null:H.type)||Y.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin))&&X&&Y.hasAttribute("async")&&!Y.hasAttribute("itemprop"))break;return Y;default:return Y}if(Y=e_(Y.nextSibling),Y===null)break}return null}function WR(Y,K,_){if(K==="")return null;for(;Y.nodeType!==3;){if((Y.nodeType!==1||Y.nodeName!=="INPUT"||Y.type!=="hidden")&&!_)return null;if(Y=e_(Y.nextSibling),Y===null)return null}return Y}function e_(Y){for(;Y!=null;Y=Y.nextSibling){var K=Y.nodeType;if(K===1||K===3)break;if(K===8){if(K=Y.data,K===E2||K===M1||K===D1||K===hI||K===Y9)break;if(K===V2)return null}}return Y}function xN(Y){if(Y.nodeType===1){for(var K=Y.nodeName.toLowerCase(),_={},$=Y.attributes,H=0;H<$.length;H++){var X=$[H];_[LN(X.name)]=X.name.toLowerCase()==="style"?L4(Y):X.value}return{type:K,props:_}}return Y.nodeType===8?{type:"Suspense",props:{}}:Y.nodeValue}function FN(Y,K,_){return _===null||_[Ow]!==!0?(Y.nodeValue===K?Y=null:(K=G$(K),Y=G$(Y.nodeValue)===K?null:Y.nodeValue),Y):null}function DN(Y){Y=Y.nextSibling;for(var K=0;Y;){if(Y.nodeType===8){var _=Y.data;if(_===V2){if(K===0)return e_(Y.nextSibling);K--}else _!==E2&&_!==M1&&_!==D1||K++}Y=Y.nextSibling}return null}function MN(Y){Y=Y.previousSibling;for(var K=0;Y;){if(Y.nodeType===8){var _=Y.data;if(_===E2||_===M1||_===D1){if(K===0)return Y;K--}else _===V2&&K++}Y=Y.previousSibling}return null}function NR(Y){aO(Y)}function ZR(Y){aO(Y)}function UN(Y,K,_,$,H){switch(H&&h7(Y,$.ancestorInfo),K=T8(_),Y){case"html":if(Y=K.documentElement,!Y)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return Y;case"head":if(Y=K.head,!Y)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return Y;case"body":if(Y=K.body,!Y)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return Y;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function JR(Y,K,_,$){if(iB(_)){var H=_.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",H,H,H)}switch(Y){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(H=_.attributes;H.length;)_.removeAttributeNode(H[0]);oK(_,Y,K),_[H_]=$,_[V_]=K}function y8(Y){return typeof Y.getRootNode==="function"?Y.getRootNode():Y.ownerDocument}function SN(Y,K,_){var $=oH;if($&&typeof K==="string"&&K){var H=CY(K);H='link[rel="'+Y+'"][href="'+H+'"]',typeof _==="string"&&(H+='[crossorigin="'+_+'"]'),O9.has(H)||(O9.add(H),Y={rel:Y,crossOrigin:_,href:K},$.querySelector(H)===null&&(K=$.createElement("link"),oK(K,"link",Y),FK(K),$.head.appendChild(K)))}}function TN(Y,K,_,$){var H=(H=Z$.current)?y8(H):null;if(!H)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(Y){case"meta":case"title":return null;case"style":return typeof _.precedence==="string"&&typeof _.href==="string"?(_=GH(_.href),K=C0(H).hoistableStyles,$=K.get(_),$||($={type:"style",instance:null,count:0,state:null},K.set(_,$)),$):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href==="string"&&typeof _.precedence==="string"){Y=GH(_.href);var X=C0(H).hoistableStyles,G=X.get(Y);if(!G&&(H=H.ownerDocument||H,G={type:"stylesheet",instance:null,count:0,state:{loading:U1,preload:null}},X.set(Y,G),(X=H.querySelector(nO(Y)))&&!X._p&&(G.instance=X,G.state.loading=gX|PB),!GB.has(Y))){var N={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy};GB.set(Y,N),X||QR(H,Y,N,G.state)}if(K&&$===null)throw _=`

  - `+k8(K)+`
  + `+k8(_),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+_);return G}if(K&&$!==null)throw _=`

  - `+k8(K)+`
  + `+k8(_),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+_);return null;case"script":return K=_.async,_=_.src,typeof _==="string"&&K&&typeof K!=="function"&&typeof K!=="symbol"?(_=WH(_),K=C0(H).hoistableScripts,$=K.get(_),$||($={type:"script",instance:null,count:0,state:null},K.set(_,$)),$):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+Y+'". this is a bug in React.')}}function k8(Y){var K=0,_="<link";return typeof Y.rel==="string"?(K++,_+=' rel="'+Y.rel+'"'):S0.call(Y,"rel")&&(K++,_+=' rel="'+(Y.rel===null?"null":"invalid type "+typeof Y.rel)+'"'),typeof Y.href==="string"?(K++,_+=' href="'+Y.href+'"'):S0.call(Y,"href")&&(K++,_+=' href="'+(Y.href===null?"null":"invalid type "+typeof Y.href)+'"'),typeof Y.precedence==="string"?(K++,_+=' precedence="'+Y.precedence+'"'):S0.call(Y,"precedence")&&(K++,_+=" precedence={"+(Y.precedence===null?"null":"invalid type "+typeof Y.precedence)+"}"),Object.getOwnPropertyNames(Y).length>K&&(_+=" ..."),_+" />"}function GH(Y){return'href="'+CY(Y)+'"'}function nO(Y){return'link[rel="stylesheet"]['+Y+"]"}function yN(Y){return FY({},Y,{"data-precedence":Y.precedence,precedence:null})}function QR(Y,K,_,$){Y.querySelector('link[rel="preload"][as="style"]['+K+"]")?$.loading=gX:(K=Y.createElement("link"),$.preload=K,K.addEventListener("load",function(){return $.loading|=gX}),K.addEventListener("error",function(){return $.loading|=$9}),oK(K,"link",_),FK(K),Y.head.appendChild(K))}function WH(Y){return'[src="'+CY(Y)+'"]'}function oO(Y){return"script[async]"+Y}function kN(Y,K,_){if(K.count++,K.instance===null)switch(K.type){case"style":var $=Y.querySelector('style[data-href~="'+CY(_.href)+'"]');if($)return K.instance=$,FK($),$;var H=FY({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return $=(Y.ownerDocument||Y).createElement("style"),FK($),oK($,"style",H),g8($,_.precedence,Y),K.instance=$;case"stylesheet":H=GH(_.href);var X=Y.querySelector(nO(H));if(X)return K.state.loading|=PB,K.instance=X,FK(X),X;$=yN(_),(H=GB.get(H))&&A4($,H),X=(Y.ownerDocument||Y).createElement("link"),FK(X);var G=X;return G._p=new Promise(function(N,R){G.onload=N,G.onerror=R}),oK(X,"link",$),K.state.loading|=PB,g8(X,_.precedence,Y),K.instance=X;case"script":if(X=WH(_.src),H=Y.querySelector(oO(X)))return K.instance=H,FK(H),H;if($=_,H=GB.get(X))$=FY({},_),E4($,H);return Y=Y.ownerDocument||Y,H=Y.createElement("script"),FK(H),oK(H,"link",$),Y.head.appendChild(H),K.instance=H;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+K.type+'". this is a bug in React.')}else K.type==="stylesheet"&&(K.state.loading&PB)===U1&&($=K.instance,K.state.loading|=PB,g8($,_.precedence,Y));return K.instance}function g8(Y,K,_){for(var $=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),H=$.length?$[$.length-1]:null,X=H,G=0;G<$.length;G++){var N=$[G];if(N.dataset.precedence===K)X=N;else if(X!==H)break}X?X.parentNode.insertBefore(Y,X.nextSibling):(K=_.nodeType===9?_.head:_,K.insertBefore(Y,K.firstChild))}function A4(Y,K){Y.crossOrigin==null&&(Y.crossOrigin=K.crossOrigin),Y.referrerPolicy==null&&(Y.referrerPolicy=K.referrerPolicy),Y.title==null&&(Y.title=K.title)}function E4(Y,K){Y.crossOrigin==null&&(Y.crossOrigin=K.crossOrigin),Y.referrerPolicy==null&&(Y.referrerPolicy=K.referrerPolicy),Y.integrity==null&&(Y.integrity=K.integrity)}function gN(Y,K,_){if(F2===null){var $=new Map,H=F2=new Map;H.set(_,$)}else H=F2,$=H.get(_),$||($=new Map,H.set(_,$));if($.has(Y))return $;$.set(Y,null),_=_.getElementsByTagName(Y);for(H=0;H<_.length;H++){var X=_[H];if(!(X[YX]||X[H_]||Y==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!==LH){var G=X.getAttribute(K)||"";G=Y+G;var N=$.get(G);N?N.push(X):$.set(G,[X])}}return $}function jN(Y,K,_){Y=Y.ownerDocument||Y,Y.head.insertBefore(_,K==="title"?Y.querySelector("head > title"):null)}function LR(Y,K,_){var $=!_.ancestorInfo.containerTagInScope;if(_.context===nH||K.itemProp!=null)return!$||K.itemProp==null||Y!=="meta"&&Y!=="title"&&Y!=="style"&&Y!=="link"&&Y!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",Y,Y),!1;switch(Y){case"meta":case"title":return!0;case"style":if(typeof K.precedence!=="string"||typeof K.href!=="string"||K.href===""){$&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflic with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`, or move the <style> to the <style> tag.');break}return!0;case"link":if(typeof K.rel!=="string"||typeof K.href!=="string"||K.href===""||K.onLoad||K.onError){if(K.rel==="stylesheet"&&typeof K.precedence==="string"){Y=K.href;var{onError:H,disabled:X}=K;_=[],K.onLoad&&_.push("`onLoad`"),H&&_.push("`onError`"),X!=null&&_.push("`disabled`"),H=eq(_,"and"),H+=_.length===1?" prop":" props",X=_.length===1?"an "+H:"the "+H,_.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',Y,X,H)}$&&(typeof K.rel!=="string"||typeof K.href!=="string"||K.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(K.onError||K.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(K.rel){case"stylesheet":return Y=K.precedence,K=K.disabled,typeof Y!=="string"&&$&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof Y==="string"&&K==null;default:return!0}case"script":if(Y=K.async&&typeof K.async!=="function"&&typeof K.async!=="symbol",!Y||K.onLoad||K.onError||!K.src||typeof K.src!=="string"){$&&(Y?K.onLoad||K.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":$&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",Y)}return!1}function bN(Y){return Y.type==="stylesheet"&&(Y.state.loading&H9)===U1?!1:!0}function qR(){}function RR(Y,K,_){if(jX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var $=jX;if(K.type==="stylesheet"&&(typeof _.media!=="string"||matchMedia(_.media).matches!==!1)&&(K.state.loading&PB)===U1){if(K.instance===null){var H=GH(_.href),X=Y.querySelector(nO(H));if(X){Y=X._p,Y!==null&&typeof Y==="object"&&typeof Y.then==="function"&&($.count++,$=j8.bind($),Y.then($,$)),K.state.loading|=PB,K.instance=X,FK(X);return}X=Y.ownerDocument||Y,_=yN(_),(H=GB.get(H))&&A4(_,H),X=X.createElement("link"),FK(X);var G=X;G._p=new Promise(function(N,R){G.onload=N,G.onerror=R}),oK(X,"link",_),K.instance=X}$.stylesheets===null&&($.stylesheets=new Map),$.stylesheets.set(K,Y),(Y=K.state.preload)&&(K.state.loading&H9)===U1&&($.count++,K=j8.bind($),Y.addEventListener("load",K),Y.addEventListener("error",K))}}function CR(){if(jX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var Y=jX;return Y.stylesheets&&Y.count===0&&V4(Y,Y.stylesheets),0<Y.count?function(K){var _=setTimeout(function(){if(Y.stylesheets&&V4(Y,Y.stylesheets),Y.unsuspend){var $=Y.unsuspend;Y.unsuspend=null,$()}},60000);return Y.unsuspend=K,function(){Y.unsuspend=null,clearTimeout(_)}}:null}function j8(){if(this.count--,this.count===0){if(this.stylesheets)V4(this,this.stylesheets);else if(this.unsuspend){var Y=this.unsuspend;this.unsuspend=null,Y()}}}function V4(Y,K){Y.stylesheets=null,Y.unsuspend!==null&&(Y.count++,D2=new Map,K.forEach(wR,Y),D2=null,j8.call(Y))}function wR(Y,K){if(!(K.state.loading&PB)){var _=D2.get(Y);if(_)var $=_.get(pI);else{_=new Map,D2.set(Y,_);for(var H=Y.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<H.length;X++){var G=H[X];if(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")_.set(G.dataset.precedence,G),$=G}$&&_.set(pI,$)}H=K.instance,G=H.getAttribute("data-precedence"),X=_.get(G)||$,X===$&&_.set(pI,H),_.set(G,H),this.count++,$=j8.bind(this),H.addEventListener("load",$),H.addEventListener("error",$),X?X.parentNode.insertBefore(H,X.nextSibling):(Y=Y.nodeType===9?Y.head:Y,Y.insertBefore(H,Y.firstChild)),K.state.loading|=PB}}function AR(Y,K,_){var $=0;switch(Y){case"dir":case"dirxml":case"groupEnd":case"table":return P9.apply(console[Y],[console].concat(K));case"assert":$=1}return K=K.slice(0),typeof K[$]==="string"?K.splice($,1,X9+K[$],z9,M2+_+M2,I9):K.splice($,0,X9,z9,M2+_+M2,I9),K.unshift(console),P9.apply(console[Y],K)}function ER(Y,K,_,$,H,X,G,N){this.tag=1,this.containerInfo=Y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=uI,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=CB(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CB(0),this.hiddenUpdates=CB(null),this.identifierPrefix=$,this.onUncaughtError=H,this.onCaughtError=X,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,Y=this.pendingUpdatersLaneMap=[];for(K=0;31>K;K++)Y.push(new Set);this._debugRootType=_?"hydrateRoot()":"createRoot()"}function vN(Y,K,_,$,H,X,G,N,R,A,g,d){return Y=new ER(Y,K,_,G,N,R,A,d),K=mC,X===!0&&(K|=O_|MB),xB&&(K|=aK),X=L(3,null,null,K),Y.current=X,X.stateNode=Y,K=Y6(),t$(K),Y.pooledCache=K,t$(K),X.memoizedState={element:$,isDehydrated:_,cache:K},u6(X),Y}function fN(Y){if(!Y)return L$;return Y=L$,Y}function mN(Y,K,_,$){return K.tag===0&&O1(),hN(K.current,2,Y,K,_,$),2}function hN(Y,K,_,$,H,X){if($_&&typeof $_.onScheduleFiberRoot==="function")try{$_.onScheduleFiberRoot(QH,$,_)}catch(G){B0||(B0=!0,console.error("React instrumentation encountered an error: %s",G))}YY!==null&&typeof YY.markRenderScheduled==="function"&&YY.markRenderScheduled(K),H=fN(H),$.context===null?$.context=H:$.pendingContext=H,YB&&B_!==null&&!G9&&(G9=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,u(B_)||"Unknown")),$=X$(K),$.payload={element:_},X=X===void 0?null:X,X!==null&&(typeof X!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",X),$.callback=X),_=z$(Y,$,K),_!==null&&(CK(_,Y,K),vO(_,Y,K))}function dN(Y,K){if(Y=Y.memoizedState,Y!==null&&Y.dehydrated!==null){var _=Y.retryLane;Y.retryLane=_!==0&&_<K?_:K}}function x4(Y,K){dN(Y,K),(Y=Y.alternate)&&dN(Y,K)}function cN(Y){if(Y.tag===13){var K=__(Y,67108864);K!==null&&CK(K,Y,67108864),x4(Y,67108864)}}function VR(){return B_}function xR(){for(var Y=new Map,K=1,_=0;31>_;_++){var $=r(K);Y.set(K,$),K*=2}return Y}function FR(Y,K,_,$){var H=f.T;f.T=null;var X=NK.p;try{NK.p=FB,F4(Y,K,_,$)}finally{NK.p=X,f.T=H}}function DR(Y,K,_,$){var H=f.T;f.T=null;var X=NK.p;try{NK.p=DB,F4(Y,K,_,$)}finally{NK.p=X,f.T=H}}function F4(Y,K,_,$){if(U2){var H=D4($);if(H===null)Z4(Y,K,$,S2,_),uN(Y,$);else if(MR(H,Y,K,_,$))$.stopPropagation();else if(uN(Y,$),K&4&&-1<Pw.indexOf(Y)){for(;H!==null;){var X=iB(H);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var G=AK(X.pendingLanes);if(G!==0){var N=X;N.pendingLanes|=2;for(N.entangledLanes|=2;G;){var R=1<<31-I_(G);N.entanglements[1]|=R,G&=~R}eB(X),(ZK&(J_|f0))===f_&&(W2=_0()+iZ,pO(0,!1))}}break;case 13:N=__(X,2),N!==null&&CK(N,X,2),XH(),x4(X,2)}if(X=D4($),X===null&&Z4(Y,K,$,S2,_),X===H)break;H=X}H!==null&&$.stopPropagation()}else Z4(Y,K,$,null,_)}}function D4(Y){return Y=d7(Y),M4(Y)}function M4(Y){if(S2=null,Y=pB(Y),Y!==null){var K=e(Y);if(K===null)Y=null;else{var _=K.tag;if(_===13){if(Y=RY(K),Y!==null)return Y;Y=null}else if(_===3){if(K.stateNode.current.memoizedState.isDehydrated)return K.tag===3?K.stateNode.containerInfo:null;Y=null}else K!==Y&&(Y=null)}}return S2=Y,null}function lN(Y){switch(Y){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return FB;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return DB;case"message":switch(fR()){case h4:return FB;case d4:return DB;case JH:case mR:return $0;case c4:return u8;default:return $0}default:return $0}}function uN(Y,K){switch(Y){case"focusin":case"focusout":D$=null;break;case"dragenter":case"dragleave":M$=null;break;case"mouseover":case"mouseout":U$=null;break;case"pointerover":case"pointerout":vX.delete(K.pointerId);break;case"gotpointercapture":case"lostpointercapture":fX.delete(K.pointerId)}}function sO(Y,K,_,$,H,X){if(Y===null||Y.nativeEvent!==X)return Y={blockedOn:K,domEventName:_,eventSystemFlags:$,nativeEvent:X,targetContainers:[H]},K!==null&&(K=iB(K),K!==null&&cN(K)),Y;return Y.eventSystemFlags|=$,K=Y.targetContainers,H!==null&&K.indexOf(H)===-1&&K.push(H),Y}function MR(Y,K,_,$,H){switch(K){case"focusin":return D$=sO(D$,Y,K,_,$,H),!0;case"dragenter":return M$=sO(M$,Y,K,_,$,H),!0;case"mouseover":return U$=sO(U$,Y,K,_,$,H),!0;case"pointerover":var X=H.pointerId;return vX.set(X,sO(vX.get(X)||null,Y,K,_,$,H)),!0;case"gotpointercapture":return X=H.pointerId,fX.set(X,sO(fX.get(X)||null,Y,K,_,$,H)),!0}return!1}function pN(Y){var K=pB(Y.target);if(K!==null){var _=e(K);if(_!==null){if(K=_.tag,K===13){if(K=RY(_),K!==null){Y.blockedOn=K,uz(Y.priority,function(){if(_.tag===13){var $=j_(_),H=__(_,$);H!==null&&CK(H,_,$),x4(_,$)}});return}}else if(K===3&&_.stateNode.current.memoizedState.isDehydrated){Y.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}Y.blockedOn=null}function b8(Y){if(Y.blockedOn!==null)return!1;for(var K=Y.targetContainers;0<K.length;){var _=D4(Y.nativeEvent);if(_===null){_=Y.nativeEvent;var $=new _.constructor(_.type,_),H=$;KX!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),KX=H,_.target.dispatchEvent($),KX===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),KX=null}else return K=iB(_),K!==null&&cN(K),Y.blockedOn=_,!1;K.shift()}return!0}function iN(Y,K,_){b8(Y)&&_.delete(K)}function UR(){iI=!1,D$!==null&&b8(D$)&&(D$=null),M$!==null&&b8(M$)&&(M$=null),U$!==null&&b8(U$)&&(U$=null),vX.forEach(iN),fX.forEach(iN)}function v8(Y,K){Y.blockedOn===K&&(Y.blockedOn=null,iI||(iI=!0,dY.unstable_scheduleCallback(dY.unstable_NormalPriority,UR)))}function nN(Y){T2!==Y&&(T2=Y,dY.unstable_scheduleCallback(dY.unstable_NormalPriority,function(){T2===Y&&(T2=null);for(var K=0;K<Y.length;K+=3){var _=Y[K],$=Y[K+1],H=Y[K+2];if(typeof $!=="function")if(M4($||_)===null)continue;else break;var X=iB(_);X!==null&&(Y.splice(K,3),K-=3,_={pending:!0,data:H,method:_.method,action:$},Object.freeze(_),A6(X,_,$,H))}}))}function aO(Y){function K(R){return v8(R,Y)}D$!==null&&v8(D$,Y),M$!==null&&v8(M$,Y),U$!==null&&v8(U$,Y),vX.forEach(K),fX.forEach(K);for(var _=0;_<S$.length;_++){var $=S$[_];$.blockedOn===Y&&($.blockedOn=null)}for(;0<S$.length&&(_=S$[0],_.blockedOn===null);)pN(_),_.blockedOn===null&&S$.shift();if(_=(Y.ownerDocument||Y).$$reactFormReplay,_!=null)for($=0;$<_.length;$+=3){var H=_[$],X=_[$+1],G=H[V_]||null;if(typeof X==="function")G||nN(_);else if(G){var N=null;if(X&&X.hasAttribute("formAction")){if(H=X,G=X[V_]||null)N=G.formAction;else if(M4(H)!==null)continue}else N=G.action;typeof N==="function"?_[$+1]=N:(_.splice($,3),$-=3),nN(_)}}}function U4(Y){this._internalRoot=Y}function f8(Y){this._internalRoot=Y}function oN(Y){Y[X1]&&(Y._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var SR=Symbol.for("react.element"),W$=Symbol.for("react.transitional.element"),NH=Symbol.for("react.portal"),ZH=Symbol.for("react.fragment"),m8=Symbol.for("react.strict_mode"),S4=Symbol.for("react.profiler"),TR=Symbol.for("react.provider"),T4=Symbol.for("react.consumer"),K0=Symbol.for("react.context"),rO=Symbol.for("react.forward_ref"),y4=Symbol.for("react.suspense"),k4=Symbol.for("react.suspense_list"),h8=Symbol.for("react.memo"),b_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var sN=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var yR=Symbol.for("react.memo_cache_sentinel"),aN=Symbol.iterator,kR=Symbol.for("react.client.reference"),f=sH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,FY=Object.assign,tO=0,rN,tN,eN,Y3,K3,_3,B3;$Y.__reactDisabledLog=!0;var g4,$3,j4=!1,b4=new(typeof WeakMap==="function"?WeakMap:Map),B_=null,YB=!1,sK=Array.isArray,NK=eI.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gR=Object.freeze({pending:!1,data:null,method:null,action:null}),v4=[],f4=[],U0=-1,N$=oY(null),eO=oY(null),Z$=oY(null),d8=oY(null),S0=Object.prototype.hasOwnProperty,m4=dY.unstable_scheduleCallback,jR=dY.unstable_cancelCallback,bR=dY.unstable_shouldYield,vR=dY.unstable_requestPaint,_0=dY.unstable_now,fR=dY.unstable_getCurrentPriorityLevel,h4=dY.unstable_ImmediatePriority,d4=dY.unstable_UserBlockingPriority,JH=dY.unstable_NormalPriority,mR=dY.unstable_LowPriority,c4=dY.unstable_IdlePriority,hR=dY.log,dR=dY.unstable_setDisableYieldValue,QH=null,$_=null,YY=null,B0=!1,xB=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined",I_=Math.clz32?Math.clz32:rY,cR=Math.log,lR=Math.LN2,c8=128,l8=4194304,FB=2,DB=8,$0=32,u8=268435456,J$=Math.random().toString(36).slice(2),H_="__reactFiber$"+J$,V_="__reactProps$"+J$,X1="__reactContainer$"+J$,l4="__reactEvents$"+J$,uR="__reactListeners$"+J$,pR="__reactHandles$"+J$,H3="__reactResources$"+J$,YX="__reactMarker$"+J$,O3=new Set,z1={},u4={},H0=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),iR={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},nR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),X3={},z3={},oR=/[\n"\\]/g,I3=!1,P3=!1,G3=!1,W3=!1,N3=!1,Z3=!1,J3=["value","defaultValue"],Q3=!1,L3=/["'&<>\n\t]|^\s|\s$/,sR="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),q3="applet caption html table td th marquee object template foreignObject desc title".split(" "),aR=q3.concat(["button"]),rR="dd dt li option optgroup p rp rt".split(" "),R3={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null},p8={},i8="http://www.w3.org/1998/Math/MathML",LH="http://www.w3.org/2000/svg",p4={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},C3=/([A-Z])/g,w3=/^ms-/,tR=/^(?:webkit|moz|o)[A-Z]/,eR=/^-ms-/,YC=/-(.)/g,A3=/;\s*$/,qH={},i4={},E3=!1,V3=!1,x3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),KC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n8={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},F3={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},RH={},_C=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),BC=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D3=!1,P_={},M3=/^on./,$C=/^on[^A-Z]/,HC=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),OC=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),XC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,KX=null,CH=null,wH=null,n4=!1,o4=!1;if(H0)try{var _X={};Object.defineProperty(_X,"passive",{get:function(){o4=!0}}),window.addEventListener("test",_X,_X),window.removeEventListener("test",_X,_X)}catch(Y){o4=!1}var Q$=null,s4=null,o8=null,I1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Y){return Y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s8=w_(I1),BX=FY({},I1,{view:0,detail:0}),zC=w_(BX),a4,r4,$X,a8=FY({},BX,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c7,button:0,buttons:0,relatedTarget:function(Y){return Y.relatedTarget===void 0?Y.fromElement===Y.srcElement?Y.toElement:Y.fromElement:Y.relatedTarget},movementX:function(Y){if("movementX"in Y)return Y.movementX;return Y!==$X&&($X&&Y.type==="mousemove"?(a4=Y.screenX-$X.screenX,r4=Y.screenY-$X.screenY):r4=a4=0,$X=Y),a4},movementY:function(Y){return"movementY"in Y?Y.movementY:r4}}),U3=w_(a8),IC=FY({},a8,{dataTransfer:0}),PC=w_(IC),GC=FY({},BX,{relatedTarget:0}),t4=w_(GC),WC=FY({},I1,{animationName:0,elapsedTime:0,pseudoElement:0}),NC=w_(WC),ZC=FY({},I1,{clipboardData:function(Y){return"clipboardData"in Y?Y.clipboardData:window.clipboardData}}),JC=w_(ZC),QC=FY({},I1,{data:0}),S3=w_(QC),LC=S3,qC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},wC=FY({},BX,{key:function(Y){if(Y.key){var K=qC[Y.key]||Y.key;if(K!=="Unidentified")return K}return Y.type==="keypress"?(Y=nz(Y),Y===13?"Enter":String.fromCharCode(Y)):Y.type==="keydown"||Y.type==="keyup"?RC[Y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c7,charCode:function(Y){return Y.type==="keypress"?nz(Y):0},keyCode:function(Y){return Y.type==="keydown"||Y.type==="keyup"?Y.keyCode:0},which:function(Y){return Y.type==="keypress"?nz(Y):Y.type==="keydown"||Y.type==="keyup"?Y.keyCode:0}}),AC=w_(wC),EC=FY({},a8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T3=w_(EC),VC=FY({},BX,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c7}),xC=w_(VC),FC=FY({},I1,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=w_(FC),MC=FY({},a8,{deltaX:function(Y){return"deltaX"in Y?Y.deltaX:("wheelDeltaX"in Y)?-Y.wheelDeltaX:0},deltaY:function(Y){return"deltaY"in Y?Y.deltaY:("wheelDeltaY"in Y)?-Y.wheelDeltaY:("wheelDelta"in Y)?-Y.wheelDelta:0},deltaZ:0,deltaMode:0}),UC=w_(MC),SC=FY({},I1,{newState:0,oldState:0}),TC=w_(SC),yC=[9,13,27,32],y3=229,e4=H0&&"CompositionEvent"in window,HX=null;H0&&"documentMode"in document&&(HX=document.documentMode);var kC=H0&&"TextEvent"in window&&!HX,k3=H0&&(!e4||HX&&8<HX&&11>=HX),g3=32,j3=String.fromCharCode(g3),b3=!1,AH=!1,gC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},OX=null,XX=null,v3=!1;H0&&(v3=zq("input")&&(!document.documentMode||9<document.documentMode));var G_=typeof Object.is==="function"?Object.is:Zq,jC=H0&&"documentMode"in document&&11>=document.documentMode,EH=null,YI=null,zX=null,KI=!1,VH={animationend:p$("Animation","AnimationEnd"),animationiteration:p$("Animation","AnimationIteration"),animationstart:p$("Animation","AnimationStart"),transitionrun:p$("Transition","TransitionRun"),transitionstart:p$("Transition","TransitionStart"),transitioncancel:p$("Transition","TransitionCancel"),transitionend:p$("Transition","TransitionEnd")},_I={},f3={};H0&&(f3=document.createElement("div").style,("AnimationEvent"in window)||(delete VH.animationend.animation,delete VH.animationiteration.animation,delete VH.animationstart.animation),("TransitionEvent"in window)||delete VH.transitionend.transition);var m3=i$("animationend"),h3=i$("animationiteration"),d3=i$("animationstart"),bC=i$("transitionrun"),vC=i$("transitionstart"),fC=i$("transitioncancel"),c3=i$("transitionend"),l3=new Map,u3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" "),IX=1,P1=2,T0=4,KB=[],xH=0,BI=0,L$={};Object.freeze(L$);var _B=null,FH=null,IK=0,mC=1,aK=2,O_=8,MB=16,p3=64,DH=dY.unstable_now,$I=-0,r8=-0,x_=-1.1,G1=-0,t8=!1,e8=!1,UB={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},PX=[],GX=[],WX=[],NX=[],ZX=[],JX=[],W1=new Set;UB.recordUnsafeLifecycleWarnings=function(Y,K){W1.has(Y.type)||(typeof K.componentWillMount==="function"&&K.componentWillMount.__suppressDeprecationWarning!==!0&&PX.push(Y),Y.mode&O_&&typeof K.UNSAFE_componentWillMount==="function"&&GX.push(Y),typeof K.componentWillReceiveProps==="function"&&K.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&WX.push(Y),Y.mode&O_&&typeof K.UNSAFE_componentWillReceiveProps==="function"&&NX.push(Y),typeof K.componentWillUpdate==="function"&&K.componentWillUpdate.__suppressDeprecationWarning!==!0&&ZX.push(Y),Y.mode&O_&&typeof K.UNSAFE_componentWillUpdate==="function"&&JX.push(Y))},UB.flushPendingUnsafeLifecycleWarnings=function(){var Y=new Set;0<PX.length&&(PX.forEach(function(N){Y.add(u(N)||"Component"),W1.add(N.type)}),PX=[]);var K=new Set;0<GX.length&&(GX.forEach(function(N){K.add(u(N)||"Component"),W1.add(N.type)}),GX=[]);var _=new Set;0<WX.length&&(WX.forEach(function(N){_.add(u(N)||"Component"),W1.add(N.type)}),WX=[]);var $=new Set;0<NX.length&&(NX.forEach(function(N){$.add(u(N)||"Component"),W1.add(N.type)}),NX=[]);var H=new Set;0<ZX.length&&(ZX.forEach(function(N){H.add(u(N)||"Component"),W1.add(N.type)}),ZX=[]);var X=new Set;if(0<JX.length&&(JX.forEach(function(N){X.add(u(N)||"Component"),W1.add(N.type)}),JX=[]),0<K.size){var G=D(K);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,G)}0<$.size&&(G=D($),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,G)),0<X.size&&(G=D(X),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,G)),0<Y.size&&(G=D(Y),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,G)),0<_.size&&(G=D(_),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,G)),0<H.size&&(G=D(H),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,G))};var Y2=new Map,i3=new Set;UB.recordLegacyContextWarning=function(Y,K){var _=null;for(var $=Y;$!==null;)$.mode&O_&&(_=$),$=$.return;_===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!i3.has(Y.type)&&($=Y2.get(_),Y.type.contextTypes!=null||Y.type.childContextTypes!=null||K!==null&&typeof K.getChildContext==="function")&&($===void 0&&($=[],Y2.set(_,$)),$.push(Y))},UB.flushLegacyContextWarning=function(){Y2.forEach(function(Y){if(Y.length!==0){var K=Y[0],_=new Set;Y.forEach(function(H){_.add(u(H)||"Component"),i3.add(H.type)});var $=D(_);KY(K,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,$)})}})},UB.discardPendingWarnings=function(){PX=[],GX=[],WX=[],NX=[],ZX=[],JX=[],Y2=new Map};var HI=new WeakMap,MH=[],UH=0,K2=null,_2=0,BB=[],$B=0,N1=null,y0=1,k0="",W_=null,rK=null,vY=!1,g0=!1,HB=null,SB=null,O0=!1,OI=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),B2=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),n3=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),XI={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},QX=null,$2=!1,o3={"react-stack-bottom-frame":function(Y,K,_){var $=YB;YB=!0;try{return Y(K,_)}finally{YB=$}}},zI=o3["react-stack-bottom-frame"].bind(o3),s3={"react-stack-bottom-frame":function(Y){var K=YB;YB=!0;try{return Y.render()}finally{YB=K}}},a3=s3["react-stack-bottom-frame"].bind(s3),r3={"react-stack-bottom-frame":function(Y,K){try{K.componentDidMount()}catch(_){eY(Y,Y.return,_)}}},II=r3["react-stack-bottom-frame"].bind(r3),t3={"react-stack-bottom-frame":function(Y,K,_,$,H){try{K.componentDidUpdate(_,$,H)}catch(X){eY(Y,Y.return,X)}}},e3=t3["react-stack-bottom-frame"].bind(t3),YZ={"react-stack-bottom-frame":function(Y,K){var _=K.stack;Y.componentDidCatch(K.value,{componentStack:_!==null?_:""})}},hC=YZ["react-stack-bottom-frame"].bind(YZ),KZ={"react-stack-bottom-frame":function(Y,K,_){try{_.componentWillUnmount()}catch($){eY(Y,K,$)}}},_Z=KZ["react-stack-bottom-frame"].bind(KZ),BZ={"react-stack-bottom-frame":function(Y){var K=Y.create;return Y=Y.inst,K=K(),Y.destroy=K}},dC=BZ["react-stack-bottom-frame"].bind(BZ),$Z={"react-stack-bottom-frame":function(Y,K,_){try{_()}catch($){eY(Y,K,$)}}},cC=$Z["react-stack-bottom-frame"].bind($Z),HZ={"react-stack-bottom-frame":function(Y){var K=Y._init;return K(Y._payload)}},q$=HZ["react-stack-bottom-frame"].bind(HZ),SH=null,LX=0,xY=null,PI,OZ=PI=!1,XZ={},zZ={},IZ={};C=function(Y,K,_){if(_!==null&&typeof _==="object"&&_._store&&(!_._store.validated&&_.key==null||_._store.validated===2)){if(typeof _._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");_._store.validated=1;var $=u(Y),H=$||"null";if(!XZ[H]){XZ[H]=!0,_=_._owner,Y=Y._debugOwner;var X="";Y&&typeof Y.tag==="number"&&(H=u(Y))&&(X=`

Check the render method of \``+H+"`."),X||$&&(X=`

Check the top-level render call using <`+$+">.");var G="";_!=null&&Y!==_&&($=null,typeof _.tag==="number"?$=u(_):typeof _.name==="string"&&($=_.name),$&&(G=" It was passed a child from "+$+".")),KY(K,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',X,G)})}}};var Z1=Q5(!0),PZ=Q5(!1),TH=oY(null),H2=oY(0),OB=oY(null),X0=null,yH=1,qX=2,kK=oY(0),XB=0,zB=1,N_=2,tK=4,gK=8,lC=typeof AbortController!=="undefined"?AbortController:function(){var Y=[],K=this.signal={aborted:!1,addEventListener:function(_,$){Y.push($)}};this.abort=function(){K.aborted=!0,Y.forEach(function(_){return _()})}},uC=dY.unstable_scheduleCallback,pC=dY.unstable_NormalPriority,jK={$$typeof:K0,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},RX=null,GI=0,J1=0,kH=null,GZ=f.S;f.S=function(Y,K){typeof K==="object"&&K!==null&&typeof K.then==="function"&&Qq(Y,K),GZ!==null&&GZ(Y,K)};var Q1=oY(null),gH,WZ=new Set,NZ=new Set,WI=new Set,ZZ=new Set,R$=0,LY=null,KK=null,SK=null,O2=!1,jH=!1,L1=!1,X2=0,CX=0,j0=null,iC=0,nC=25,v=null,IB=null,b0=-1,wX=!1,NI=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},z0={readContext:LK,use:H$,useCallback:DK,useContext:DK,useEffect:DK,useImperativeHandle:DK,useLayoutEffect:DK,useInsertionEffect:DK,useMemo:DK,useReducer:DK,useRef:DK,useState:DK,useDebugValue:DK,useDeferredValue:DK,useTransition:DK,useSyncExternalStore:DK,useId:DK};z0.useCacheRefresh=DK,z0.useMemoCache=DK,z0.useHostTransitionStatus=DK,z0.useFormState=DK,z0.useActionState=DK,z0.useOptimistic=DK;var C$=null,q1=null,w$=null,R1=null,F_=null,Z_=null,A$=null;C$={readContext:function(Y){return LK(Y)},use:H$,useCallback:function(Y,K){return v="useCallback",SY(),e1(K),q6(Y,K)},useContext:function(Y){return v="useContext",SY(),LK(Y)},useEffect:function(Y,K){return v="useEffect",SY(),e1(K),N8(Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",SY(),e1(_),L6(Y,K,_)},useInsertionEffect:function(Y,K){v="useInsertionEffect",SY(),e1(K),Y1(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",SY(),e1(K),Q6(Y,K)},useMemo:function(Y,K){v="useMemo",SY(),e1(K);var _=f.H;f.H=F_;try{return R6(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",SY();var $=f.H;f.H=F_;try{return z6(Y,K,_)}finally{f.H=$}},useRef:function(Y){return v="useRef",SY(),J6(Y)},useState:function(Y){v="useState",SY();var K=f.H;f.H=F_;try{return W6(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",SY()},useDeferredValue:function(Y,K){return v="useDeferredValue",SY(),C6(Y,K)},useTransition:function(){return v="useTransition",SY(),E6()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",SY(),P6(Y,K,_)},useId:function(){return v="useId",SY(),V6()},useCacheRefresh:function(){return v="useCacheRefresh",SY(),x6()}},C$.useMemoCache=e$,C$.useHostTransitionStatus=K1,C$.useFormState=function(Y,K){return v="useFormState",SY(),I8(),KH(Y,K)},C$.useActionState=function(Y,K){return v="useActionState",SY(),KH(Y,K)},C$.useOptimistic=function(Y){return v="useOptimistic",SY(),N6(Y)},q1={readContext:function(Y){return LK(Y)},use:H$,useCallback:function(Y,K){return v="useCallback",o(),q6(Y,K)},useContext:function(Y){return v="useContext",o(),LK(Y)},useEffect:function(Y,K){return v="useEffect",o(),N8(Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",o(),L6(Y,K,_)},useInsertionEffect:function(Y,K){v="useInsertionEffect",o(),Y1(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),Q6(Y,K)},useMemo:function(Y,K){v="useMemo",o();var _=f.H;f.H=F_;try{return R6(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",o();var $=f.H;f.H=F_;try{return z6(Y,K,_)}finally{f.H=$}},useRef:function(Y){return v="useRef",o(),J6(Y)},useState:function(Y){v="useState",o();var K=f.H;f.H=F_;try{return W6(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),C6(Y,K)},useTransition:function(){return v="useTransition",o(),E6()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",o(),P6(Y,K,_)},useId:function(){return v="useId",o(),V6()},useCacheRefresh:function(){return v="useCacheRefresh",o(),x6()}},q1.useMemoCache=e$,q1.useHostTransitionStatus=K1,q1.useFormState=function(Y,K){return v="useFormState",o(),I8(),KH(Y,K)},q1.useActionState=function(Y,K){return v="useActionState",o(),KH(Y,K)},q1.useOptimistic=function(Y){return v="useOptimistic",o(),N6(Y)},w$={readContext:function(Y){return LK(Y)},use:H$,useCallback:function(Y,K){return v="useCallback",o(),J8(Y,K)},useContext:function(Y){return v="useContext",o(),LK(Y)},useEffect:function(Y,K){v="useEffect",o(),E_(2048,gK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",o(),Z8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",o(),E_(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),E_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",o();var _=f.H;f.H=Z_;try{return Q8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",o();var $=f.H;f.H=Z_;try{return YH(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",o(),tY().memoizedState},useState:function(){v="useState",o();var Y=f.H;f.H=Z_;try{return YH(VB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),v5(Y,K)},useTransition:function(){return v="useTransition",o(),l5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",o(),P8(Y,K,_)},useId:function(){return v="useId",o(),tY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),tY().memoizedState}},w$.useMemoCache=e$,w$.useHostTransitionStatus=K1,w$.useFormState=function(Y){return v="useFormState",o(),I8(),G8(Y)},w$.useActionState=function(Y){return v="useActionState",o(),G8(Y)},w$.useOptimistic=function(Y,K){return v="useOptimistic",o(),D5(Y,K)},R1={readContext:function(Y){return LK(Y)},use:H$,useCallback:function(Y,K){return v="useCallback",o(),J8(Y,K)},useContext:function(Y){return v="useContext",o(),LK(Y)},useEffect:function(Y,K){v="useEffect",o(),E_(2048,gK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",o(),Z8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",o(),E_(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),E_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",o();var _=f.H;f.H=A$;try{return Q8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",o();var $=f.H;f.H=A$;try{return kO(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",o(),tY().memoizedState},useState:function(){v="useState",o();var Y=f.H;f.H=A$;try{return kO(VB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),f5(Y,K)},useTransition:function(){return v="useTransition",o(),u5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",o(),P8(Y,K,_)},useId:function(){return v="useId",o(),tY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),tY().memoizedState}},R1.useMemoCache=e$,R1.useHostTransitionStatus=K1,R1.useFormState=function(Y){return v="useFormState",o(),I8(),W8(Y)},R1.useActionState=function(Y){return v="useActionState",o(),W8(Y)},R1.useOptimistic=function(Y,K){return v="useOptimistic",o(),U5(Y,K)},F_={readContext:function(Y){return q(),LK(Y)},use:function(Y){return Q(),H$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),SY(),q6(Y,K)},useContext:function(Y){return v="useContext",Q(),SY(),LK(Y)},useEffect:function(Y,K){return v="useEffect",Q(),SY(),N8(Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",Q(),SY(),L6(Y,K,_)},useInsertionEffect:function(Y,K){v="useInsertionEffect",Q(),SY(),Y1(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),SY(),Q6(Y,K)},useMemo:function(Y,K){v="useMemo",Q(),SY();var _=f.H;f.H=F_;try{return R6(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",Q(),SY();var $=f.H;f.H=F_;try{return z6(Y,K,_)}finally{f.H=$}},useRef:function(Y){return v="useRef",Q(),SY(),J6(Y)},useState:function(Y){v="useState",Q(),SY();var K=f.H;f.H=F_;try{return W6(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",Q(),SY()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),SY(),C6(Y,K)},useTransition:function(){return v="useTransition",Q(),SY(),E6()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",Q(),SY(),P6(Y,K,_)},useId:function(){return v="useId",Q(),SY(),V6()},useCacheRefresh:function(){return v="useCacheRefresh",SY(),x6()},useMemoCache:function(Y){return Q(),e$(Y)}},F_.useHostTransitionStatus=K1,F_.useFormState=function(Y,K){return v="useFormState",Q(),SY(),KH(Y,K)},F_.useActionState=function(Y,K){return v="useActionState",Q(),SY(),KH(Y,K)},F_.useOptimistic=function(Y){return v="useOptimistic",Q(),SY(),N6(Y)},Z_={readContext:function(Y){return q(),LK(Y)},use:function(Y){return Q(),H$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),o(),J8(Y,K)},useContext:function(Y){return v="useContext",Q(),o(),LK(Y)},useEffect:function(Y,K){v="useEffect",Q(),o(),E_(2048,gK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",Q(),o(),Z8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",Q(),o(),E_(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),o(),E_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",Q(),o();var _=f.H;f.H=Z_;try{return Q8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",Q(),o();var $=f.H;f.H=Z_;try{return YH(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",Q(),o(),tY().memoizedState},useState:function(){v="useState",Q(),o();var Y=f.H;f.H=Z_;try{return YH(VB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",Q(),o()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),o(),v5(Y,K)},useTransition:function(){return v="useTransition",Q(),o(),l5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",Q(),o(),P8(Y,K,_)},useId:function(){return v="useId",Q(),o(),tY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),tY().memoizedState},useMemoCache:function(Y){return Q(),e$(Y)}},Z_.useHostTransitionStatus=K1,Z_.useFormState=function(Y){return v="useFormState",Q(),o(),G8(Y)},Z_.useActionState=function(Y){return v="useActionState",Q(),o(),G8(Y)},Z_.useOptimistic=function(Y,K){return v="useOptimistic",Q(),o(),D5(Y,K)},A$={readContext:function(Y){return q(),LK(Y)},use:function(Y){return Q(),H$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),o(),J8(Y,K)},useContext:function(Y){return v="useContext",Q(),o(),LK(Y)},useEffect:function(Y,K){v="useEffect",Q(),o(),E_(2048,gK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",Q(),o(),Z8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",Q(),o(),E_(4,N_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),o(),E_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",Q(),o();var _=f.H;f.H=Z_;try{return Q8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",Q(),o();var $=f.H;f.H=Z_;try{return kO(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",Q(),o(),tY().memoizedState},useState:function(){v="useState",Q(),o();var Y=f.H;f.H=Z_;try{return kO(VB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",Q(),o()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),o(),f5(Y,K)},useTransition:function(){return v="useTransition",Q(),o(),u5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",Q(),o(),P8(Y,K,_)},useId:function(){return v="useId",Q(),o(),tY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),tY().memoizedState},useMemoCache:function(Y){return Q(),e$(Y)}},A$.useHostTransitionStatus=K1,A$.useFormState=function(Y){return v="useFormState",Q(),o(),W8(Y)},A$.useActionState=function(Y){return v="useActionState",Q(),o(),W8(Y)},A$.useOptimistic=function(Y,K){return v="useOptimistic",Q(),o(),U5(Y,K)};var JZ={},QZ=new Set,LZ=new Set,qZ=new Set,RZ=new Set,CZ=new Set,wZ=new Set,AZ=new Set,EZ=new Set,VZ=new Set,xZ=new Set;Object.freeze(JZ);var ZI={isMounted:function(Y){var K=B_;if(K!==null&&YB&&K.tag===1){var _=K.stateNode;_._warnedAboutRefsInRender||console.error("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",u(K)||"A component"),_._warnedAboutRefsInRender=!0}return(Y=Y._reactInternals)?e(Y)===Y:!1},enqueueSetState:function(Y,K,_){Y=Y._reactInternals;var $=j_(Y),H=X$($);H.payload=K,_!==void 0&&_!==null&&(D6(_),H.callback=_),K=z$(Y,H,$),K!==null&&(CK(K,Y,$),vO(K,Y,$)),GK(Y,$)},enqueueReplaceState:function(Y,K,_){Y=Y._reactInternals;var $=j_(Y),H=X$($);H.tag=jZ,H.payload=K,_!==void 0&&_!==null&&(D6(_),H.callback=_),K=z$(Y,H,$),K!==null&&(CK(K,Y,$),vO(K,Y,$)),GK(Y,$)},enqueueForceUpdate:function(Y,K){Y=Y._reactInternals;var _=j_(Y),$=X$(_);$.tag=bZ,K!==void 0&&K!==null&&(D6(K),$.callback=K),K=z$(Y,$,_),K!==null&&(CK(K,Y,_),vO(K,Y,_)),YY!==null&&typeof YY.markForceUpdateScheduled==="function"&&YY.markForceUpdateScheduled(Y,_)}},z2=typeof reportError==="function"?reportError:function(Y){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y==="object"&&Y!==null&&typeof Y.message==="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(K))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Y);return}console.error(Y)},bH=null,JI=null,FZ=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),lK=!1,DZ={},MZ={},UZ={},SZ={},vH=!1,TZ={},QI={},LI={dehydrated:null,treeContext:null,retryLane:0},yZ=!1,qI=oY(null),RI=oY(null),kZ={},I2=null,fH=null,mH=!1,gZ=0,jZ=1,bZ=2,CI=3,E$=!1,vZ=!1,wI=null,AI=!1,fZ=null;fZ=new Set;var v0=!1,EK=!1,EI=!1,mZ=typeof WeakSet==="function"?WeakSet:Set,uK=null,hH=null,dH=null,hZ=!1,TK=null,v_=!1,TB=null,AX=8192,dZ=!1;try{var cZ=Object.preventExtensions({});}catch(Y){dZ=!0}var oC={getCacheForType:function(Y){var K=LK(jK),_=K.data.get(Y);return _===void 0&&(_=Y(),K.data.set(Y,_)),_},getOwner:function(){return B_}};if(typeof Symbol==="function"&&Symbol.for){var EX=Symbol.for;EX("selector.component"),EX("selector.has_pseudo_class"),EX("selector.role"),EX("selector.test_id"),EX("selector.text")}var sC=[],aC=typeof WeakMap==="function"?WeakMap:Map,f_=0,J_=2,f0=4,m0=0,VX=1,cH=2,VI=3,C1=4,lZ=5,P2=6,ZK=f_,HK=null,MY=null,TY=0,D_=0,xX=1,w1=2,FX=3,uZ=4,xI=5,lH=6,DX=7,FI=8,OK=D_,m_=null,h0=!1,uH=!1,DI=!1,I0=0,VK=m0,V$=0,x$=0,MI=0,h_=0,A1=0,MX=null,yB=null,G2=!1,UI=0,pZ=300,W2=1/0,iZ=500,UX=null,F$=null,N2=!1,E1=null,SX=0,SI=0,TI=null,rC=50,TX=0,yI=null,kI=!1,Z2=!1,tC=50,V1=0,yX=null,pH=!1,nZ=0,eC=1,Yw=2,J2=null,oZ=!1,sZ=new Set,Kw={},Q2=null,iH=null,gI=!1,jI=!1,L2=!1,bI=!1,x1=0,vI={};(function(){for(var Y=0;Y<u3.length;Y++){var K=u3[Y],_=K.toLowerCase();K=K[0].toUpperCase()+K.slice(1),EB(_,"on"+K)}EB(m3,"onAnimationEnd"),EB(h3,"onAnimationIteration"),EB(d3,"onAnimationStart"),EB("dblclick","onDoubleClick"),EB("focusin","onFocus"),EB("focusout","onBlur"),EB(bC,"onTransitionRun"),EB(vC,"onTransitionStart"),EB(fC,"onTransitionCancel"),EB(c3,"onTransitionEnd")})(),wB("onMouseEnter",["mouseout","mouseover"]),wB("onMouseLeave",["mouseout","mouseover"]),wB("onPointerEnter",["pointerout","pointerover"]),wB("onPointerLeave",["pointerout","pointerover"]),nB("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nB("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nB("onBeforeInput",["compositionend","keypress","textInput","paste"]),nB("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nB("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nB("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kX="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kX)),q2="_reactListening"+Math.random().toString(36).slice(2),aZ=!1,rZ=!1,R2=!1,tZ=!1,C2=!1,w2=!1,eZ=!1,A2={},_w=!0,Bw=/\r\n?/g,$w=/\u0000|\uFFFD/g,F1="http://www.w3.org/1999/xlink",mI="http://www.w3.org/XML/1998/namespace",Hw="javascript:throw new Error('React form unexpectedly submitted.')",Ow="suppressHydrationWarning",E2="$",V2="/$",D1="$?",M1="$!",hI="F!",Y9="F",Xw="style",d0=0,nH=1,x2=2,dI=null,cI=null,K9={dialog:!0,webview:!0},lI=null,_9=typeof setTimeout==="function"?setTimeout:void 0,zw=typeof clearTimeout==="function"?clearTimeout:void 0,uI=-1,B9=typeof Promise==="function"?Promise:void 0,Iw=typeof queueMicrotask==="function"?queueMicrotask:typeof B9!=="undefined"?function(Y){return B9.resolve(null).then(Y).catch(KR)}:_9,U1=0,gX=1,$9=2,H9=3,PB=4,GB=new Map,O9=new Set,c0=NK.d;NK.d={f:function(){var Y=c0.f(),K=XH();return Y||K},r:function(Y){var K=iB(Y);K!==null&&K.tag===5&&K.type==="form"?c5(K):c0.r(Y)},D:function(Y){c0.D(Y),SN("dns-prefetch",Y,null)},C:function(Y,K){c0.C(Y,K),SN("preconnect",Y,K)},L:function(Y,K,_){c0.L(Y,K,_);var $=oH;if($&&Y&&K){var H='link[rel="preload"][as="'+CY(K)+'"]';K==="image"?_&&_.imageSrcSet?(H+='[imagesrcset="'+CY(_.imageSrcSet)+'"]',typeof _.imageSizes==="string"&&(H+='[imagesizes="'+CY(_.imageSizes)+'"]')):H+='[href="'+CY(Y)+'"]':H+='[href="'+CY(Y)+'"]';var X=H;switch(K){case"style":X=GH(Y);break;case"script":X=WH(Y)}GB.has(X)||(Y=FY({rel:"preload",href:K==="image"&&_&&_.imageSrcSet?void 0:Y,as:K},_),GB.set(X,Y),$.querySelector(H)!==null||K==="style"&&$.querySelector(nO(X))||K==="script"&&$.querySelector(oO(X))||(K=$.createElement("link"),oK(K,"link",Y),FK(K),$.head.appendChild(K)))}},m:function(Y,K){c0.m(Y,K);var _=oH;if(_&&Y){var $=K&&typeof K.as==="string"?K.as:"script",H='link[rel="modulepreload"][as="'+CY($)+'"][href="'+CY(Y)+'"]',X=H;switch($){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=WH(Y)}if(!GB.has(X)&&(Y=FY({rel:"modulepreload",href:Y},K),GB.set(X,Y),_.querySelector(H)===null)){switch($){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(oO(X)))return}$=_.createElement("link"),oK($,"link",Y),FK($),_.head.appendChild($)}}},X:function(Y,K){c0.X(Y,K);var _=oH;if(_&&Y){var $=C0(_).hoistableScripts,H=WH(Y),X=$.get(H);X||(X=_.querySelector(oO(H)),X||(Y=FY({src:Y,async:!0},K),(K=GB.get(H))&&E4(Y,K),X=_.createElement("script"),FK(X),oK(X,"link",Y),_.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},$.set(H,X))}},S:function(Y,K,_){c0.S(Y,K,_);var $=oH;if($&&Y){var H=C0($).hoistableStyles,X=GH(Y);K=K||"default";var G=H.get(X);if(!G){var N={loading:U1,preload:null};if(G=$.querySelector(nO(X)))N.loading=gX|PB;else{Y=FY({rel:"stylesheet",href:Y,"data-precedence":K},_),(_=GB.get(X))&&A4(Y,_);var R=G=$.createElement("link");FK(R),oK(R,"link",Y),R._p=new Promise(function(A,g){R.onload=A,R.onerror=g}),R.addEventListener("load",function(){N.loading|=gX}),R.addEventListener("error",function(){N.loading|=$9}),N.loading|=PB,g8(G,K,$)}G={type:"stylesheet",instance:G,count:1,state:N},H.set(X,G)}}},M:function(Y,K){c0.M(Y,K);var _=oH;if(_&&Y){var $=C0(_).hoistableScripts,H=WH(Y),X=$.get(H);X||(X=_.querySelector(oO(H)),X||(Y=FY({src:Y,async:!0,type:"module"},K),(K=GB.get(H))&&E4(Y,K),X=_.createElement("script"),FK(X),oK(X,"link",Y),_.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},$.set(H,X))}}};var oH=typeof document==="undefined"?null:document,F2=null,jX=null,pI=null,D2=null,S1=gR,bX={$$typeof:K0,Provider:null,Consumer:null,_currentValue:S1,_currentValue2:S1,_threadCount:0},X9="%c%s%c ",z9="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",I9="",M2=" ",P9=Function.prototype.bind,G9=!1,W9=null,N9=null,Z9=null,J9=null,Q9=null,L9=null,q9=null,R9=null,C9=null;W9=function(Y,K,_,$){K=B(Y,K),K!==null&&(_=O(K.memoizedState,_,0,$),K.memoizedState=_,K.baseState=_,Y.memoizedProps=FY({},Y.memoizedProps),_=__(Y,2),_!==null&&CK(_,Y,2))},N9=function(Y,K,_){K=B(Y,K),K!==null&&(_=P(K.memoizedState,_,0),K.memoizedState=_,K.baseState=_,Y.memoizedProps=FY({},Y.memoizedProps),_=__(Y,2),_!==null&&CK(_,Y,2))},Z9=function(Y,K,_,$){K=B(Y,K),K!==null&&(_=z(K.memoizedState,_,$),K.memoizedState=_,K.baseState=_,Y.memoizedProps=FY({},Y.memoizedProps),_=__(Y,2),_!==null&&CK(_,Y,2))},J9=function(Y,K,_){Y.pendingProps=O(Y.memoizedProps,K,0,_),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=__(Y,2),K!==null&&CK(K,Y,2)},Q9=function(Y,K){Y.pendingProps=P(Y.memoizedProps,K,0),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=__(Y,2),K!==null&&CK(K,Y,2)},L9=function(Y,K,_){Y.pendingProps=z(Y.memoizedProps,K,_),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=__(Y,2),K!==null&&CK(K,Y,2)},q9=function(Y){var K=__(Y,2);K!==null&&CK(K,Y,2)},R9=function(Y){Z=Y},C9=function(Y){W=Y};var U2=!0,S2=null,iI=!1,D$=null,M$=null,U$=null,vX=new Map,fX=new Map,S$=[],Pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),T2=null;if(f8.prototype.render=U4.prototype.render=function(Y,K){var _=this._internalRoot;if(_===null)throw Error("Cannot update an unmounted root.");typeof K==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):S(K)?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof K!=="undefined"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),K=_.current;var $=j_(K);hN(K,$,Y,_,null,null)},f8.prototype.unmount=U4.prototype.unmount=function(Y){if(typeof Y==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),Y=this._internalRoot,Y!==null){this._internalRoot=null;var K=Y.containerInfo;(ZK&(J_|f0))!==f_&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),mN(null,Y,null,null),XH(),K[X1]=null}},f8.prototype.unstable_scheduleHydration=function(Y){if(Y){var K=lz();Y={blockedOn:null,target:Y,priority:K};for(var _=0;_<S$.length&&K!==0&&K<S$[_].priority;_++);S$.splice(_,0,Y),_===0&&pN(Y)}},function(){var Y=sH.version;if(Y!=="19.0.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(Y+`
  - react-dom:  19.0.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),NK.findDOMNode=function(Y){var K=Y._reactInternals;if(K===void 0){if(typeof Y.render==="function")throw Error("Unable to find node on an unmounted component.");throw Y=Object.keys(Y).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+Y)}return Y=cY(K),Y=Y!==null?aY(Y):null,Y=Y===null?null:Y.stateNode,Y},!function(){var Y={bundleType:1,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:f,findFiberByHostInstance:pB,reconcilerVersion:"19.0.0"};return Y.overrideHookState=W9,Y.overrideHookStateDeletePath=N9,Y.overrideHookStateRenamePath=Z9,Y.overrideProps=J9,Y.overridePropsDeletePath=Q9,Y.overridePropsRenamePath=L9,Y.scheduleUpdate=q9,Y.setErrorHandler=R9,Y.setSuspenseHandler=C9,Y.scheduleRefresh=U,Y.scheduleRoot=T,Y.setRefreshHandler=m,Y.getCurrentFiber=VR,Y.getLaneLabelMap=xR,Y.injectProfilingHooks=d$,R0(Y)}()&&H0&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var w9=window.location.protocol;/^(https?|file):$/.test(w9)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(w9==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}Vw.createRoot=function(Y,K){if(!S(Y))throw Error("Target container is not a DOM element.");oN(Y);var _=!1,$="",H=a5,X=r5,G=t5,N=null;return K!==null&&K!==void 0&&(K.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof K==="object"&&K!==null&&K.$$typeof===W$&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),K.unstable_strictMode===!0&&(_=!0),K.identifierPrefix!==void 0&&($=K.identifierPrefix),K.onUncaughtError!==void 0&&(H=K.onUncaughtError),K.onCaughtError!==void 0&&(X=K.onCaughtError),K.onRecoverableError!==void 0&&(G=K.onRecoverableError),K.unstable_transitionCallbacks!==void 0&&(N=K.unstable_transitionCallbacks)),K=vN(Y,1,!1,null,null,_,$,H,X,G,N,null),Y[X1]=K.current,N4(Y.nodeType===8?Y.parentNode:Y),new U4(K)},Vw.hydrateRoot=function(Y,K,_){if(!S(Y))throw Error("Target container is not a DOM element.");oN(Y),K===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var $=!1,H="",X=a5,G=r5,N=t5,R=null,A=null;return _!==null&&_!==void 0&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(H=_.identifierPrefix),_.onUncaughtError!==void 0&&(X=_.onUncaughtError),_.onCaughtError!==void 0&&(G=_.onCaughtError),_.onRecoverableError!==void 0&&(N=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(R=_.unstable_transitionCallbacks),_.formState!==void 0&&(A=_.formState)),K=vN(Y,1,!0,K,_!=null?_:null,$,H,X,G,N,R,A),K.context=fN(null),_=K.current,$=j_(_),H=X$($),H.callback=null,z$(_,H,$),K.current.lanes=$,hK(K,$),eB(K),Y[X1]=K.current,N4(Y),new f8(K)},Vw.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var D9=P0((VD,F9)=>{F9.exports=x9()});var T9=P0((S9)=>{Object.defineProperty(S9,"__esModule",{value:!0});S9.parse=Tw;S9.serialize=yw;var xw=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Fw=/^[\u0021-\u003A\u003C-\u007E]*$/,Dw=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Mw=/^[\u0020-\u003A\u003D-\u007E]*$/,Uw=Object.prototype.toString,Sw=(()=>{let B=function(){};return B.prototype=Object.create(null),B})();function Tw(B,O){let z=new Sw,I=B.length;if(I<2)return z;let P=O?.decode||kw,W=0;do{let Z=B.indexOf("=",W);if(Z===-1)break;let L=B.indexOf(";",W),Q=L===-1?I:L;if(Z>Q){W=B.lastIndexOf(";",Z-1)+1;continue}let q=M9(B,W,Z),w=U9(B,Z,q),C=B.slice(q,w);if(z[C]===void 0){let D=M9(B,Z+1,Q),T=U9(B,Q,D),U=P(B.slice(D,T));z[C]=U}W=Q+1}while(W<I);return z}function M9(B,O,z){do{let I=B.charCodeAt(O);if(I!==32&&I!==9)return O}while(++O<z);return z}function U9(B,O,z){while(O>z){let I=B.charCodeAt(--O);if(I!==32&&I!==9)return O+1}return z}function yw(B,O,z){let I=z?.encode||encodeURIComponent;if(!xw.test(B))throw new TypeError(`argument name is invalid: ${B}`);let P=I(O);if(!Fw.test(P))throw new TypeError(`argument val is invalid: ${O}`);let W=B+"="+P;if(!z)return W;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);W+="; Max-Age="+z.maxAge}if(z.domain){if(!Dw.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);W+="; Domain="+z.domain}if(z.path){if(!Mw.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);W+="; Path="+z.path}if(z.expires){if(!gw(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);W+="; Expires="+z.expires.toUTCString()}if(z.httpOnly)W+="; HttpOnly";if(z.secure)W+="; Secure";if(z.partitioned)W+="; Partitioned";if(z.priority)switch(typeof z.priority==="string"?z.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite==="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return W}function kw(B){if(B.indexOf("%")===-1)return B;try{return decodeURIComponent(B)}catch(O){return B}}function gw(B){return Uw.call(B)==="[object Date]"}});var TQ=P0((ZV)=>{ZV.__esModule=!0;ZV.distance=ZV.closest=void 0;var a0=new Uint32Array(65536),GV=function(B,O){var z=B.length,I=O.length,P=1<<z-1,W=-1,Z=0,L=z,Q=z;while(Q--)a0[B.charCodeAt(Q)]|=1<<Q;for(Q=0;Q<I;Q++){var q=a0[O.charCodeAt(Q)],w=q|Z;if(q|=(q&W)+W^W,Z|=~(q|W),W&=q,Z&P)L++;if(W&P)L--;Z=Z<<1|1,W=W<<1|~(w|Z),Z&=w}Q=z;while(Q--)a0[B.charCodeAt(Q)]=0;return L},WV=function(B,O){var z=O.length,I=B.length,P=[],W=[],Z=Math.ceil(z/32),L=Math.ceil(I/32);for(var Q=0;Q<Z;Q++)W[Q]=-1,P[Q]=0;var q=0;for(;q<L-1;q++){var w=0,C=-1,D=q*32,T=Math.min(32,I)+D;for(var U=D;U<T;U++)a0[B.charCodeAt(U)]|=1<<U;for(var Q=0;Q<z;Q++){var m=a0[O.charCodeAt(Q)],S=W[Q/32|0]>>>Q&1,y=P[Q/32|0]>>>Q&1,b=m|w,i=((m|y)&C)+C^C|m|y,u=w|~(i|C),$Y=C&i;if(u>>>31^S)W[Q/32|0]^=1<<Q;if($Y>>>31^y)P[Q/32|0]^=1<<Q;u=u<<1|S,$Y=$Y<<1|y,C=$Y|~(b|u),w=u&b}for(var U=D;U<T;U++)a0[B.charCodeAt(U)]=0}var jY=0,ZY=-1,yY=q*32,qY=Math.min(32,I-yY)+yY;for(var U=yY;U<qY;U++)a0[B.charCodeAt(U)]|=1<<U;var _K=I;for(var Q=0;Q<z;Q++){var m=a0[O.charCodeAt(Q)],S=W[Q/32|0]>>>Q&1,y=P[Q/32|0]>>>Q&1,b=m|jY,i=((m|y)&ZY)+ZY^ZY|m|y,u=jY|~(i|ZY),$Y=ZY&i;if(_K+=u>>>I-1&1,_K-=$Y>>>I-1&1,u>>>31^S)W[Q/32|0]^=1<<Q;if($Y>>>31^y)P[Q/32|0]^=1<<Q;u=u<<1|S,$Y=$Y<<1|y,ZY=$Y|~(b|u),jY=u&b}for(var U=yY;U<qY;U++)a0[B.charCodeAt(U)]=0;return _K},UQ=function(B,O){if(B.length<O.length){var z=O;O=B,B=z}if(O.length===0)return B.length;if(B.length<=32)return GV(B,O);return WV(B,O)};ZV.distance=UQ;var NV=function(B,O){var z=1/0,I=0;for(var P=0;P<O.length;P++){var W=UQ(B,O[P]);if(W<z)z=W,I=P}return O[I]};ZV.closest=NV});var yQ=P0((oP,Hz)=>{(function(){var B;try{B=typeof Intl!=="undefined"&&typeof Intl.Collator!=="undefined"?Intl.Collator("generic",{sensitivity:"base"}):null}catch(W){console.log("Collator could not be initialized and wouldn't be used")}var O=TQ(),z=[],I=[],P={get:function(W,Z,L){var Q=L&&B&&L.useCollator;if(Q){var q=W.length,w=Z.length;if(q===0)return w;if(w===0)return q;var C,D,T,U,m;for(T=0;T<w;++T)z[T]=T,I[T]=Z.charCodeAt(T);z[w]=w;var S;for(T=0;T<q;++T){D=T+1;for(U=0;U<w;++U){if(C=D,S=B.compare(W.charAt(T),String.fromCharCode(I[U]))===0,D=z[U]+(S?0:1),m=C+1,D>m)D=m;if(m=z[U+1]+1,D>m)D=m;z[U]=C}z[U]=D}return D}return O.distance(W,Z)}};if(typeof define!=="undefined"&&define!==null&&define.amd)define(function(){return P});else if(typeof Hz!=="undefined"&&Hz!==null&&typeof oP!=="undefined"&&Hz.exports===oP)Hz.exports=P;else if(typeof self!=="undefined"&&typeof self.postMessage==="function"&&typeof self.importScripts==="function")self.Levenshtein=P;else if(typeof window!=="undefined"&&window!==null)window.Levenshtein=P})()});var a=P0((dx)=>{var RG=l(fY(),1);(function(){function B(x){if(x==null)return null;if(typeof x==="function")return x.$$typeof===zY?null:x.displayName||x.name||null;if(typeof x==="string")return x;switch(x){case $Y:return"Fragment";case u:return"Portal";case ZY:return"Profiler";case jY:return"StrictMode";case BK:return"Suspense";case RK:return"SuspenseList"}if(typeof x==="object")switch(typeof x.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),x.$$typeof){case qY:return(x.displayName||"Context")+".Provider";case yY:return(x._context.displayName||"Context")+".Consumer";case _K:var _Y=x.render;return x=x.displayName,x||(x=_Y.displayName||_Y.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case z_:return _Y=x.displayName||null,_Y!==null?_Y:B(x.type)||"Memo";case KY:_Y=x._payload,x=x._init;try{return B(x(_Y))}catch(BY){}}return null}function O(x){return""+x}function z(x){try{O(x);var _Y=!1}catch(GK){_Y=!0}if(_Y){_Y=console;var BY=_Y.error,gY=typeof Symbol==="function"&&Symbol.toStringTag&&x[Symbol.toStringTag]||x.constructor.name||"Object";return BY.call(_Y,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",gY),O(x)}}function I(){}function P(){if(PK===0){pK=console.log,i_=console.info,Q_=console.warn,uB=console.error,QB=console.group,n_=console.groupCollapsed,LB=console.groupEnd;var x={configurable:!0,enumerable:!0,value:I,writable:!0};Object.defineProperties(console,{info:x,log:x,warn:x,error:x,group:x,groupCollapsed:x,groupEnd:x})}PK++}function W(){if(PK--,PK===0){var x={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:oY({},x,{value:pK}),info:oY({},x,{value:i_}),warn:oY({},x,{value:Q_}),error:oY({},x,{value:uB}),group:oY({},x,{value:QB}),groupCollapsed:oY({},x,{value:n_}),groupEnd:oY({},x,{value:LB})})}0>PK&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function Z(x){if(L_===void 0)try{throw Error()}catch(BY){var _Y=BY.stack.trim().match(/\n( *(at )?)/);L_=_Y&&_Y[1]||"",mY=-1<BY.stack.indexOf(`
    at`)?" (<anonymous>)":-1<BY.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L_+x+mY}function L(x,_Y){if(!x||qB)return"";var BY=q_.get(x);if(BY!==void 0)return BY;qB=!0,BY=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var gY=null;gY=cY.H,cY.H=null,P();try{var GK={DetermineComponentFrameRoot:function(){try{if(_Y){var R_=function(){throw Error()};if(Object.defineProperty(R_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(R_,[])}catch(hK){var CB=hK}Reflect.construct(x,[],R_)}else{try{R_.call()}catch(hK){CB=hK}x.call(R_.prototype)}}else{try{throw Error()}catch(hK){CB=hK}(R_=x())&&typeof R_.catch==="function"&&R_.catch(function(){})}}catch(hK){if(hK&&CB&&typeof hK.stack==="string")return[hK.stack,CB.stack]}return[null,null]}};GK.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var rY=Object.getOwnPropertyDescriptor(GK.DetermineComponentFrameRoot,"name");rY&&rY.configurable&&Object.defineProperty(GK.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=GK.DetermineComponentFrameRoot(),AK=r[0],T_=r[1];if(AK&&T_){var $K=AK.split(`
`),o_=T_.split(`
`);for(r=rY=0;rY<$K.length&&!$K[rY].includes("DetermineComponentFrameRoot");)rY++;for(;r<o_.length&&!o_[r].includes("DetermineComponentFrameRoot");)r++;if(rY===$K.length||r===o_.length)for(rY=$K.length-1,r=o_.length-1;1<=rY&&0<=r&&$K[rY]!==o_[r];)r--;for(;1<=rY&&0<=r;rY--,r--)if($K[rY]!==o_[r]){if(rY!==1||r!==1)do if(rY--,r--,0>r||$K[rY]!==o_[r]){var RB=`
`+$K[rY].replace(" at new "," at ");return x.displayName&&RB.includes("<anonymous>")&&(RB=RB.replace("<anonymous>",x.displayName)),typeof x==="function"&&q_.set(x,RB),RB}while(1<=rY&&0<=r);break}}}finally{qB=!1,cY.H=gY,W(),Error.prepareStackTrace=BY}return $K=($K=x?x.displayName||x.name:"")?Z($K):"",typeof x==="function"&&q_.set(x,$K),$K}function Q(x){if(x==null)return"";if(typeof x==="function"){var _Y=x.prototype;return L(x,!(!_Y||!_Y.isReactComponent))}if(typeof x==="string")return Z(x);switch(x){case BK:return Z("Suspense");case RK:return Z("SuspenseList")}if(typeof x==="object")switch(x.$$typeof){case _K:return x=L(x.render,!1),x;case z_:return Q(x.type);case KY:_Y=x._payload,x=x._init;try{return Q(x(_Y))}catch(BY){}}return""}function q(){var x=cY.A;return x===null?null:x.getOwner()}function w(x){if(aY.call(x,"key")){var _Y=Object.getOwnPropertyDescriptor(x,"key").get;if(_Y&&_Y.isReactWarning)return!1}return x.key!==void 0}function C(x,_Y){function BY(){u1||(u1=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",_Y))}BY.isReactWarning=!0,Object.defineProperty(x,"key",{get:BY,configurable:!0})}function D(){var x=B(this.type);return sY[x]||(sY[x]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),x=this.props.ref,x!==void 0?x:null}function T(x,_Y,BY,gY,GK,rY){return BY=rY.ref,x={$$typeof:i,type:x,key:_Y,props:rY,_owner:GK},(BY!==void 0?BY:null)!==null?Object.defineProperty(x,"ref",{enumerable:!1,get:D}):Object.defineProperty(x,"ref",{enumerable:!1,value:null}),x._store={},Object.defineProperty(x._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(x,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(x.props),Object.freeze(x)),x}function U(x,_Y,BY,gY,GK,rY){if(typeof x==="string"||typeof x==="function"||x===$Y||x===ZY||x===jY||x===BK||x===RK||x===e||typeof x==="object"&&x!==null&&(x.$$typeof===KY||x.$$typeof===z_||x.$$typeof===qY||x.$$typeof===yY||x.$$typeof===_K||x.$$typeof===uY||x.getModuleId!==void 0)){var r=_Y.children;if(r!==void 0)if(gY)if(kY(r)){for(gY=0;gY<r.length;gY++)m(r[gY],x);Object.freeze&&Object.freeze(r)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(r,x)}else{if(r="",x===void 0||typeof x==="object"&&x!==null&&Object.keys(x).length===0)r+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";x===null?gY="null":kY(x)?gY="array":x!==void 0&&x.$$typeof===i?(gY="<"+(B(x.type)||"Unknown")+" />",r=" Did you accidentally export a JSX literal instead of a component?"):gY=typeof x,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",gY,r)}if(aY.call(_Y,"key")){r=B(x);var AK=Object.keys(_Y).filter(function($K){return $K!=="key"});gY=0<AK.length?"{key: someKey, "+AK.join(": ..., ")+": ...}":"{key: someKey}",d$[r+gY]||(AK=0<AK.length?"{"+AK.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,gY,r,AK,r),d$[r+gY]=!0)}if(r=null,BY!==void 0&&(z(BY),r=""+BY),w(_Y)&&(z(_Y.key),r=""+_Y.key),"key"in _Y){BY={};for(var T_ in _Y)T_!=="key"&&(BY[T_]=_Y[T_])}else BY=_Y;return r&&C(BY,typeof x==="function"?x.displayName||x.name||"Unknown":x),T(x,r,rY,GK,q(),BY)}function m(x,_Y){if(typeof x==="object"&&x&&x.$$typeof!==R0){if(kY(x))for(var BY=0;BY<x.length;BY++){var gY=x[BY];S(gY)&&y(gY,_Y)}else if(S(x))x._store&&(x._store.validated=1);else if(x===null||typeof x!=="object"?BY=null:(BY=RY&&x[RY]||x["@@iterator"],BY=typeof BY==="function"?BY:null),typeof BY==="function"&&BY!==x.entries&&(BY=BY.call(x),BY!==x))for(;!(x=BY.next()).done;)S(x.value)&&y(x.value,_Y)}}function S(x){return typeof x==="object"&&x!==null&&x.$$typeof===i}function y(x,_Y){if(x._store&&!x._store.validated&&x.key==null&&(x._store.validated=1,_Y=b(_Y),!Y$[_Y])){Y$[_Y]=!0;var BY="";x&&x._owner!=null&&x._owner!==q()&&(BY=null,typeof x._owner.tag==="number"?BY=B(x._owner.type):typeof x._owner.name==="string"&&(BY=x._owner.name),BY=" It was passed a child from "+BY+".");var gY=cY.getCurrentStack;cY.getCurrentStack=function(){var GK=Q(x.type);return gY&&(GK+=gY()||""),GK},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',_Y,BY),cY.getCurrentStack=gY}}function b(x){var _Y="",BY=q();return BY&&(BY=B(BY.type))&&(_Y=`

Check the render method of \``+BY+"`."),_Y||(x=B(x))&&(_Y=`

Check the top-level render call using <`+x+">."),_Y}var i=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),$Y=Symbol.for("react.fragment"),jY=Symbol.for("react.strict_mode"),ZY=Symbol.for("react.profiler");Symbol.for("react.provider");var yY=Symbol.for("react.consumer"),qY=Symbol.for("react.context"),_K=Symbol.for("react.forward_ref"),BK=Symbol.for("react.suspense"),RK=Symbol.for("react.suspense_list"),z_=Symbol.for("react.memo"),KY=Symbol.for("react.lazy"),e=Symbol.for("react.offscreen"),RY=Symbol.iterator,zY=Symbol.for("react.client.reference"),cY=RG.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,aY=Object.prototype.hasOwnProperty,oY=Object.assign,uY=Symbol.for("react.client.reference"),kY=Array.isArray,PK=0,pK,i_,Q_,uB,QB,n_,LB;I.__reactDisabledLog=!0;var L_,mY,qB=!1,q_=new(typeof WeakMap==="function"?WeakMap:Map),R0=Symbol.for("react.client.reference"),u1,sY={},d$={},Y$={};dx.Fragment=$Y,dx.jsxDEV=function(x,_Y,BY,gY,GK,rY){return U(x,_Y,BY,gY,GK,rY)}})()});var oI="./logo-tsnr81fk.png";var sI="./big_star_and_smaller_star_icon-3e20r8j1.png";var aI="./search_icon-d2d7x7b5.png";var u0="./placeholder-bg1jeqyh.jpg";var UY=l(fY(),1),FG=l(D9(),1);var xK=l(fY(),1),W0=l(fY(),1),GY=l(fY(),1),WY=l(fY(),1),iY=l(fY(),1),JP=l(fY(),1);var bA=l(fY(),1),vA=l(fY(),1),KJ=l(fY(),1),fA=l(fY(),1),LJ=l(fY(),1),LP=l(fY(),1),qJ=l(fY(),1),RJ=l(T9(),1);var y9="popstate";function v9(B={}){function O(I,P){let{pathname:W,search:Z,hash:L}=I.location;return _P("",{pathname:W,search:Z,hash:L},P.state&&P.state.usr||null,P.state&&P.state.key||"default")}function z(I,P){return typeof P==="string"?P:aH(P)}return fw(O,z,null,B)}function QK(B,O){if(B===!1||B===null||typeof B==="undefined")throw new Error(O)}function kB(B,O){if(!B){if(typeof console!=="undefined")console.warn(O);try{throw new Error(O)}catch(z){}}}function vw(){return Math.random().toString(36).substring(2,10)}function k9(B,O){return{usr:B.state,key:B.key,idx:O}}function _P(B,O,z=null,I){return{pathname:typeof B==="string"?B:B.pathname,search:"",hash:"",...typeof O==="string"?y1(O):O,state:z,key:O&&O.key||I||vw()}}function aH({pathname:B="/",search:O="",hash:z=""}){if(O&&O!=="?")B+=O.charAt(0)==="?"?O:"?"+O;if(z&&z!=="#")B+=z.charAt(0)==="#"?z:"#"+z;return B}function y1(B){let O={};if(B){let z=B.indexOf("#");if(z>=0)O.hash=B.substring(z),B=B.substring(0,z);let I=B.indexOf("?");if(I>=0)O.search=B.substring(I),B=B.substring(0,I);if(B)O.pathname=B}return O}function fw(B,O,z,I={}){let{window:P=document.defaultView,v5Compat:W=!1}=I,Z=P.history,L="POP",Q=null,q=w();if(q==null)q=0,Z.replaceState({...Z.state,idx:q},"");function w(){return(Z.state||{idx:null}).idx}function C(){L="POP";let S=w(),y=S==null?null:S-q;if(q=S,Q)Q({action:L,location:m.location,delta:y})}function D(S,y){L="PUSH";let b=_P(m.location,S,y);if(z)z(b,S);q=w()+1;let i=k9(b,q),u=m.createHref(b);try{Z.pushState(i,"",u)}catch($Y){if($Y instanceof DOMException&&$Y.name==="DataCloneError")throw $Y;P.location.assign(u)}if(W&&Q)Q({action:L,location:m.location,delta:1})}function T(S,y){L="REPLACE";let b=_P(m.location,S,y);if(z)z(b,S);q=w();let i=k9(b,q),u=m.createHref(b);if(Z.replaceState(i,"",u),W&&Q)Q({action:L,location:m.location,delta:0})}function U(S){let y=P.location.origin!=="null"?P.location.origin:P.location.href,b=typeof S==="string"?S:aH(S);return b=b.replace(/ $/,"%20"),QK(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let m={get action(){return L},get location(){return B(P,Z)},listen(S){if(Q)throw new Error("A history only accepts one active listener");return P.addEventListener(y9,C),Q=S,()=>{P.removeEventListener(y9,C),Q=null}},createHref(S){return O(P,S)},createURL:U,encodeLocation(S){let y=U(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:D,replace:T,go(S){return Z.go(S)}};return m}var mw;mw=new WeakMap;function OP(B,O,z="/"){return hw(B,O,z,!1)}function hw(B,O,z,I){let P=typeof O==="string"?y1(O):O,W=G0(P.pathname||"/",z);if(W==null)return null;let Z=f9(B);cw(Z);let L=null;for(let Q=0;L==null&&Q<Z.length;++Q){let q=ew(W);L=rw(Z[Q],q,I)}return L}function dw(B,O){let{route:z,pathname:I,params:P}=B;return{id:z.id,pathname:I,params:P,data:O[z.id],handle:z.handle}}function f9(B,O=[],z=[],I=""){let P=(W,Z,L)=>{let Q={relativePath:L===void 0?W.path||"":L,caseSensitive:W.caseSensitive===!0,childrenIndex:Z,route:W};if(Q.relativePath.startsWith("/"))QK(Q.relativePath.startsWith(I),`Absolute route path "${Q.relativePath}" nested under path "${I}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Q.relativePath=Q.relativePath.slice(I.length);let q=p0([I,Q.relativePath]),w=z.concat(Q);if(W.children&&W.children.length>0)QK(W.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${q}".`),f9(W.children,O,w,q);if(W.path==null&&!W.index)return;O.push({path:q,score:sw(q,W.index),routesMeta:w})};return B.forEach((W,Z)=>{if(W.path===""||!W.path?.includes("?"))P(W,Z);else for(let L of m9(W.path))P(W,Z,L)}),O}function m9(B){let O=B.split("/");if(O.length===0)return[];let[z,...I]=O,P=z.endsWith("?"),W=z.replace(/\?$/,"");if(I.length===0)return P?[W,""]:[W];let Z=m9(I.join("/")),L=[];if(L.push(...Z.map((Q)=>Q===""?W:[W,Q].join("/"))),P)L.push(...Z);return L.map((Q)=>B.startsWith("/")&&Q===""?"/":Q)}function cw(B){B.sort((O,z)=>O.score!==z.score?z.score-O.score:aw(O.routesMeta.map((I)=>I.childrenIndex),z.routesMeta.map((I)=>I.childrenIndex)))}var lw=/^:[\w-]+$/,uw=3,pw=2,iw=1,nw=10,ow=-2,g9=(B)=>B==="*";function sw(B,O){let z=B.split("/"),I=z.length;if(z.some(g9))I+=ow;if(O)I+=pw;return z.filter((P)=>!g9(P)).reduce((P,W)=>P+(lw.test(W)?uw:W===""?iw:nw),I)}function aw(B,O){return B.length===O.length&&B.slice(0,-1).every((I,P)=>I===O[P])?B[B.length-1]-O[O.length-1]:0}function rw(B,O,z=!1){let{routesMeta:I}=B,P={},W="/",Z=[];for(let L=0;L<I.length;++L){let Q=I[L],q=L===I.length-1,w=W==="/"?O:O.slice(W.length)||"/",C=hX({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:q},w),D=Q.route;if(!C&&q&&z&&!I[I.length-1].route.index)C=hX({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:!1},w);if(!C)return null;if(Object.assign(P,C.params),Z.push({params:P,pathname:p0([W,C.pathname]),pathnameBase:_A(p0([W,C.pathnameBase])),route:D}),C.pathnameBase!=="/")W=p0([W,C.pathnameBase])}return Z}function hX(B,O){if(typeof B==="string")B={path:B,caseSensitive:!1,end:!0};let[z,I]=tw(B.path,B.caseSensitive,B.end),P=O.match(z);if(!P)return null;let W=P[0],Z=W.replace(/(.)\/+$/,"$1"),L=P.slice(1);return{params:I.reduce((q,{paramName:w,isOptional:C},D)=>{if(w==="*"){let U=L[D]||"";Z=W.slice(0,W.length-U.length).replace(/(.)\/+$/,"$1")}let T=L[D];if(C&&!T)q[w]=void 0;else q[w]=(T||"").replace(/%2F/g,"/");return q},{}),pathname:W,pathnameBase:Z,pattern:B}}function tw(B,O=!1,z=!0){kB(B==="*"||!B.endsWith("*")||B.endsWith("/*"),`Route path "${B}" will be treated as if it were "${B.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${B.replace(/\*$/,"/*")}".`);let I=[],P="^"+B.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Z,L,Q)=>{return I.push({paramName:L,isOptional:Q!=null}),Q?"/?([^\\/]+)?":"/([^\\/]+)"});if(B.endsWith("*"))I.push({paramName:"*"}),P+=B==="*"||B==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$";else if(z)P+="\\/*$";else if(B!==""&&B!=="/")P+="(?:(?=\\/|$))";return[new RegExp(P,O?void 0:"i"),I]}function ew(B){try{return B.split("/").map((O)=>decodeURIComponent(O).replace(/\//g,"%2F")).join("/")}catch(O){return kB(!1,`The URL path "${B}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${O}).`),B}}function G0(B,O){if(O==="/")return B;if(!B.toLowerCase().startsWith(O.toLowerCase()))return null;let z=O.endsWith("/")?O.length-1:O.length,I=B.charAt(z);if(I&&I!=="/")return null;return B.slice(z)||"/"}function h9(B,O="/"){let{pathname:z,search:I="",hash:P=""}=typeof B==="string"?y1(B):B;return{pathname:z?z.startsWith("/")?z:YA(z,O):O,search:BA(I),hash:$A(P)}}function YA(B,O){let z=O.replace(/\/+$/,"").split("/");return B.split("/").forEach((P)=>{if(P===".."){if(z.length>1)z.pop()}else if(P!==".")z.push(P)}),z.length>1?z.join("/"):"/"}function YP(B,O,z,I){return`Cannot include a '${B}' character in a manually specified \`to.${O}\` field [${JSON.stringify(I)}].  Please separate it out to the \`to.${z}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(B){return B.filter((O,z)=>z===0||O.route.path&&O.route.path.length>0)}function d9(B){let O=KA(B);return O.map((z,I)=>I===O.length-1?z.pathname:z.pathnameBase)}function c9(B,O,z,I=!1){let P;if(typeof B==="string")P=y1(B);else P={...B},QK(!P.pathname||!P.pathname.includes("?"),YP("?","pathname","search",P)),QK(!P.pathname||!P.pathname.includes("#"),YP("#","pathname","hash",P)),QK(!P.search||!P.search.includes("#"),YP("#","search","hash",P));let W=B===""||P.pathname==="",Z=W?"/":P.pathname,L;if(Z==null)L=z;else{let C=O.length-1;if(!I&&Z.startsWith("..")){let D=Z.split("/");while(D[0]==="..")D.shift(),C-=1;P.pathname=D.join("/")}L=C>=0?O[C]:"/"}let Q=h9(P,L),q=Z&&Z!=="/"&&Z.endsWith("/"),w=(W||Z===".")&&z.endsWith("/");if(!Q.pathname.endsWith("/")&&(q||w))Q.pathname+="/";return Q}var p0=(B)=>B.join("/").replace(/\/\/+/g,"/"),_A=(B)=>B.replace(/\/+$/,"").replace(/^\/*/,"/"),BA=(B)=>!B||B==="?"?"":B.startsWith("?")?B:"?"+B,$A=(B)=>!B||B==="#"?"":B.startsWith("#")?B:"#"+B;function l9(B){return B!=null&&typeof B.status==="number"&&typeof B.statusText==="string"&&typeof B.internal==="boolean"&&"data"in B}var u9=["POST","PUT","PATCH","DELETE"],FD=new Set(u9),HA=["GET",...u9],DD=new Set(HA);var MD=Symbol("ResetLoaderData");var k1=W0.createContext(null);k1.displayName="DataRouter";var rH=W0.createContext(null);rH.displayName="DataRouterState";var XP=W0.createContext({isTransitioning:!1});XP.displayName="ViewTransition";var p9=W0.createContext(new Map);p9.displayName="Fetchers";var OA=W0.createContext(null);OA.displayName="Await";var d_=W0.createContext(null);d_.displayName="Navigation";var tH=W0.createContext(null);tH.displayName="Location";var N0=W0.createContext({outlet:null,matches:[],isDataRoute:!1});N0.displayName="Route";var zP=W0.createContext(null);zP.displayName="RouteError";var BP=!0;function i9(B,{relative:O}={}){QK(eH(),"useHref() may be used only in the context of a <Router> component.");let{basename:z,navigator:I}=GY.useContext(d_),{hash:P,pathname:W,search:Z}=YO(B,{relative:O}),L=W;if(z!=="/")L=W==="/"?z:p0([z,W]);return I.createHref({pathname:L,search:Z,hash:P})}function eH(){return GY.useContext(tH)!=null}function Z0(){return QK(eH(),"useLocation() may be used only in the context of a <Router> component."),GY.useContext(tH).location}var n9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o9(B){if(!GY.useContext(d_).static)GY.useLayoutEffect(B)}function s9(){let{isDataRoute:B}=GY.useContext(N0);return B?QA():XA()}function XA(){QK(eH(),"useNavigate() may be used only in the context of a <Router> component.");let B=GY.useContext(k1),{basename:O,navigator:z}=GY.useContext(d_),{matches:I}=GY.useContext(N0),{pathname:P}=Z0(),W=JSON.stringify(d9(I)),Z=GY.useRef(!1);return o9(()=>{Z.current=!0}),GY.useCallback((Q,q={})=>{if(kB(Z.current,n9),!Z.current)return;if(typeof Q==="number"){z.go(Q);return}let w=c9(Q,JSON.parse(W),P,q.relative==="path");if(B==null&&O!=="/")w.pathname=w.pathname==="/"?O:p0([O,w.pathname]);(q.replace?z.replace:z.push)(w,q.state,q)},[O,z,W,P,B])}var UD=GY.createContext(null);function YO(B,{relative:O}={}){let{matches:z}=GY.useContext(N0),{pathname:I}=Z0(),P=JSON.stringify(d9(z));return GY.useMemo(()=>c9(B,JSON.parse(P),I,O==="path"),[B,P,I,O])}function a9(B,O){return r9(B,O)}function r9(B,O,z,I){QK(eH(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:P,static:W}=GY.useContext(d_),{matches:Z}=GY.useContext(N0),L=Z[Z.length-1],Q=L?L.params:{},q=L?L.pathname:"/",w=L?L.pathnameBase:"/",C=L&&L.route;if(BP){let b=C&&C.path||"";YJ(q,!C||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${q}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let D=Z0(),T;if(O){let b=typeof O==="string"?y1(O):O;QK(w==="/"||b.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${b.pathname}" was given in the \`location\` prop.`),T=b}else T=D;let U=T.pathname||"/",m=U;if(w!=="/"){let b=w.replace(/^\//,"").split("/");m="/"+U.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=!W&&z&&z.matches&&z.matches.length>0?z.matches:OP(B,{pathname:m});if(BP)kB(C||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),kB(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=WA(S&&S.map((b)=>Object.assign({},b,{params:Object.assign({},Q,b.params),pathname:p0([w,P.encodeLocation?P.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?w:p0([w,P.encodeLocation?P.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),Z,z,I);if(O&&y)return GY.createElement(tH.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},y);return y}function zA(){let B=e9(),O=l9(B)?`${B.status} ${B.statusText}`:B instanceof Error?B.message:JSON.stringify(B),z=B instanceof Error?B.stack:null,I="rgba(200,200,200, 0.5)",P={padding:"0.5rem",backgroundColor:I},W={padding:"2px 4px",backgroundColor:I},Z=null;if(BP)console.error("Error handled by React Router default ErrorBoundary:",B),Z=GY.createElement(GY.Fragment,null,GY.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),GY.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",GY.createElement("code",{style:W},"ErrorBoundary")," or"," ",GY.createElement("code",{style:W},"errorElement")," prop on your route."));return GY.createElement(GY.Fragment,null,GY.createElement("h2",null,"Unexpected Application Error!"),GY.createElement("h3",{style:{fontStyle:"italic"}},O),z?GY.createElement("pre",{style:P},z):null,Z)}var IA=GY.createElement(zA,null),PA=class extends GY.Component{constructor(B){super(B);this.state={location:B.location,revalidation:B.revalidation,error:B.error}}static getDerivedStateFromError(B){return{error:B}}static getDerivedStateFromProps(B,O){if(O.location!==B.location||O.revalidation!=="idle"&&B.revalidation==="idle")return{error:B.error,location:B.location,revalidation:B.revalidation};return{error:B.error!==void 0?B.error:O.error,location:O.location,revalidation:B.revalidation||O.revalidation}}componentDidCatch(B,O){console.error("React Router caught the following error during render",B,O)}render(){return this.state.error!==void 0?GY.createElement(N0.Provider,{value:this.props.routeContext},GY.createElement(zP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GA({routeContext:B,match:O,children:z}){let I=GY.useContext(k1);if(I&&I.static&&I.staticContext&&(O.route.errorElement||O.route.ErrorBoundary))I.staticContext._deepestRenderedBoundaryId=O.route.id;return GY.createElement(N0.Provider,{value:B},z)}function WA(B,O=[],z=null,I=null){if(B==null){if(!z)return null;if(z.errors)B=z.matches;else if(O.length===0&&!z.initialized&&z.matches.length>0)B=z.matches;else return null}let P=B,W=z?.errors;if(W!=null){let Q=P.findIndex((q)=>q.route.id&&W?.[q.route.id]!==void 0);QK(Q>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(W).join(",")}`),P=P.slice(0,Math.min(P.length,Q+1))}let Z=!1,L=-1;if(z)for(let Q=0;Q<P.length;Q++){let q=P[Q];if(q.route.HydrateFallback||q.route.hydrateFallbackElement)L=Q;if(q.route.id){let{loaderData:w,errors:C}=z,D=q.route.loader&&!w.hasOwnProperty(q.route.id)&&(!C||C[q.route.id]===void 0);if(q.route.lazy||D){if(Z=!0,L>=0)P=P.slice(0,L+1);else P=[P[0]];break}}}return P.reduceRight((Q,q,w)=>{let C,D=!1,T=null,U=null;if(z){if(C=W&&q.route.id?W[q.route.id]:void 0,T=q.route.errorElement||IA,Z){if(L<0&&w===0)YJ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,U=null;else if(L===w)D=!0,U=q.route.hydrateFallbackElement||null}}let m=O.concat(P.slice(0,w+1)),S=()=>{let y;if(C)y=T;else if(D)y=U;else if(q.route.Component)y=GY.createElement(q.route.Component,null);else if(q.route.element)y=q.route.element;else y=Q;return GY.createElement(GA,{match:q,routeContext:{outlet:Q,matches:m,isDataRoute:z!=null},children:y})};return z&&(q.route.ErrorBoundary||q.route.errorElement||w===0)?GY.createElement(PA,{location:z.location,revalidation:z.revalidation,component:T,error:C,children:S(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):S()},null)}function IP(B){return`${B} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NA(B){let O=GY.useContext(k1);return QK(O,IP(B)),O}function PP(B){let O=GY.useContext(rH);return QK(O,IP(B)),O}function ZA(B){let O=GY.useContext(N0);return QK(O,IP(B)),O}function GP(B){let O=ZA(B),z=O.matches[O.matches.length-1];return QK(z.route.id,`${B} can only be used on routes that contain a unique "id"`),z.route.id}function JA(){return GP("useRouteId")}function t9(){return PP("useNavigation").navigation}function WP(){let{matches:B,loaderData:O}=PP("useMatches");return GY.useMemo(()=>B.map((z)=>dw(z,O)),[B,O])}function e9(){let B=GY.useContext(zP),O=PP("useRouteError"),z=GP("useRouteError");if(B!==void 0)return B;return O.errors?.[z]}function QA(){let{router:B}=NA("useNavigate"),O=GP("useNavigate"),z=GY.useRef(!1);return o9(()=>{z.current=!0}),GY.useCallback(async(P,W={})=>{if(kB(z.current,n9),!z.current)return;if(typeof P==="number")B.navigate(P);else await B.navigate(P,{fromRouteId:O,...W})},[B,O])}var j9={};function YJ(B,O,z){if(!O&&!j9[B])j9[B]=!0,kB(!1,z)}var SD=xK.memo(LA);function LA({routes:B,future:O,state:z}){return r9(B,void 0,z,O)}function g1(B){QK(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NP({basename:B="/",children:O=null,location:z,navigationType:I="POP",navigator:P,static:W=!1}){QK(!eH(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Z=B.replace(/^\/*/,"/"),L=xK.useMemo(()=>({basename:Z,navigator:P,static:W,future:{}}),[Z,P,W]);if(typeof z==="string")z=y1(z);let{pathname:Q="/",search:q="",hash:w="",state:C=null,key:D="default"}=z,T=xK.useMemo(()=>{let U=G0(Q,Z);if(U==null)return null;return{location:{pathname:U,search:q,hash:w,state:C,key:D},navigationType:I}},[Z,Q,q,w,C,D,I]);if(kB(T!=null,`<Router basename="${Z}"> is not able to match the URL "${Q}${q}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null)return null;return xK.createElement(d_.Provider,{value:L},xK.createElement(tH.Provider,{children:O,value:T}))}function f2({children:B,location:O}){return a9(v2(B),O)}function v2(B,O=[]){let z=[];return xK.Children.forEach(B,(I,P)=>{if(!xK.isValidElement(I))return;let W=[...O,P];if(I.type===xK.Fragment){z.push.apply(z,v2(I.props.children,W));return}QK(I.type===g1,`[${typeof I.type==="string"?I.type:I.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),QK(!I.props.index||!I.props.children,"An index route cannot have child routes.");let Z={id:I.props.id||W.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,loader:I.props.loader,action:I.props.action,hydrateFallbackElement:I.props.hydrateFallbackElement,HydrateFallback:I.props.HydrateFallback,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.hasErrorBoundary===!0||I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};if(I.props.children)Z.children=v2(I.props.children,W);z.push(Z)}),z}var j2="get",b2="application/x-www-form-urlencoded";function m2(B){return B!=null&&typeof B.tagName==="string"}function qA(B){return m2(B)&&B.tagName.toLowerCase()==="button"}function RA(B){return m2(B)&&B.tagName.toLowerCase()==="form"}function CA(B){return m2(B)&&B.tagName.toLowerCase()==="input"}function wA(B){return!!(B.metaKey||B.altKey||B.ctrlKey||B.shiftKey)}function AA(B,O){return B.button===0&&(!O||O==="_self")&&!wA(B)}var k2=null;function EA(){if(k2===null)try{new FormData(document.createElement("form"),0),k2=!1}catch(B){k2=!0}return k2}var VA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function KP(B){if(B!=null&&!VA.has(B))return kB(!1,`"${B}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${b2}"`),null;return B}function xA(B,O){let z,I,P,W,Z;if(RA(B)){let L=B.getAttribute("action");I=L?G0(L,O):null,z=B.getAttribute("method")||j2,P=KP(B.getAttribute("enctype"))||b2,W=new FormData(B)}else if(qA(B)||CA(B)&&(B.type==="submit"||B.type==="image")){let L=B.form;if(L==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Q=B.getAttribute("formaction")||L.getAttribute("action");if(I=Q?G0(Q,O):null,z=B.getAttribute("formmethod")||L.getAttribute("method")||j2,P=KP(B.getAttribute("formenctype"))||KP(L.getAttribute("enctype"))||b2,W=new FormData(L,B),!EA()){let{name:q,type:w,value:C}=B;if(w==="image"){let D=q?`${q}.`:"";W.append(`${D}x`,"0"),W.append(`${D}y`,"0")}else if(q)W.append(q,C)}}else if(m2(B))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else z=j2,I=null,P=b2,Z=B;if(W&&P==="text/plain")Z=W,W=void 0;return{action:I,method:z.toLowerCase(),encType:P,formData:W,body:Z}}function ZP(B,O){if(B===!1||B===null||typeof B==="undefined")throw new Error(O)}async function FA(B,O){if(B.id in O)return O[B.id];try{let z=await import(B.module);return O[B.id]=z,z}catch(z){if(console.error(`Error loading route module \`${B.module}\`, reloading page...`),console.error(z),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw z;return window.location.reload(),new Promise(()=>{})}}function DA(B){return B!=null&&typeof B.page==="string"}function MA(B){if(B==null)return!1;if(B.href==null)return B.rel==="preload"&&typeof B.imageSrcSet==="string"&&typeof B.imageSizes==="string";return typeof B.rel==="string"&&typeof B.href==="string"}async function UA(B,O,z){let I=await Promise.all(B.map(async(P)=>{let W=O.routes[P.route.id];if(W){let Z=await FA(W,z);return Z.links?Z.links():[]}return[]}));return kA(I.flat(1).filter(MA).filter((P)=>P.rel==="stylesheet"||P.rel==="preload").map((P)=>P.rel==="stylesheet"?{...P,rel:"prefetch",as:"style"}:{...P,rel:"prefetch"}))}function b9(B,O,z,I,P,W){let Z=(Q,q)=>{if(!z[q])return!0;return Q.route.id!==z[q].route.id},L=(Q,q)=>{return z[q].pathname!==Q.pathname||z[q].route.path?.endsWith("*")&&z[q].params["*"]!==Q.params["*"]};if(W==="assets")return O.filter((Q,q)=>Z(Q,q)||L(Q,q));if(W==="data")return O.filter((Q,q)=>{let w=I.routes[Q.route.id];if(!w||!w.hasLoader)return!1;if(Z(Q,q)||L(Q,q))return!0;if(Q.route.shouldRevalidate){let C=Q.route.shouldRevalidate({currentUrl:new URL(P.pathname+P.search+P.hash,window.origin),currentParams:z[0]?.params||{},nextUrl:new URL(B,window.origin),nextParams:Q.params,defaultShouldRevalidate:!0});if(typeof C==="boolean")return C}return!0});return[]}function SA(B,O,{includeHydrateFallback:z}={}){return TA(B.map((I)=>{let P=O.routes[I.route.id];if(!P)return[];let W=[P.module];if(P.clientActionModule)W=W.concat(P.clientActionModule);if(P.clientLoaderModule)W=W.concat(P.clientLoaderModule);if(z&&P.hydrateFallbackModule)W=W.concat(P.hydrateFallbackModule);if(P.imports)W=W.concat(P.imports);return W}).flat(1))}function TA(B){return[...new Set(B)]}function yA(B){let O={},z=Object.keys(B).sort();for(let I of z)O[I]=B[I];return O}function kA(B,O){let z=new Set,I=new Set(O);return B.reduce((P,W)=>{if(O&&!DA(W)&&W.as==="script"&&W.href&&I.has(W.href))return P;let L=JSON.stringify(yA(W));if(!z.has(L))z.add(L),P.push({key:L,link:W});return P},[])}var gA=Symbol("SingleFetchRedirect");function jA(B,O){let z=typeof B==="string"?new URL(B,typeof window==="undefined"?"server://singlefetch/":window.location.origin):B;if(z.pathname==="/")z.pathname="_root.data";else if(O&&G0(z.pathname,O)==="/")z.pathname=`${O.replace(/\/$/,"")}/_root.data`;else z.pathname=`${z.pathname.replace(/\/$/,"")}.data`;return z}function _J(){let B=iY.useContext(k1);return ZP(B,"You must render this element inside a <DataRouterContext.Provider> element"),B}function mA(){let B=iY.useContext(rH);return ZP(B,"You must render this element inside a <DataRouterStateContext.Provider> element"),B}var dX=iY.createContext(void 0);dX.displayName="FrameworkContext";function BJ(){let B=iY.useContext(dX);return ZP(B,"You must render this element inside a <HydratedRouter> element"),B}function hA(B,O){let z=iY.useContext(dX),[I,P]=iY.useState(!1),[W,Z]=iY.useState(!1),{onFocus:L,onBlur:Q,onMouseEnter:q,onMouseLeave:w,onTouchStart:C}=O,D=iY.useRef(null);iY.useEffect(()=>{if(B==="render")Z(!0);if(B==="viewport"){let S=new IntersectionObserver((y)=>{y.forEach((b)=>{Z(b.isIntersecting)})},{threshold:0.5});if(D.current)S.observe(D.current);return()=>{S.disconnect()}}},[B]),iY.useEffect(()=>{if(I){let m=setTimeout(()=>{Z(!0)},100);return()=>{clearTimeout(m)}}},[I]);let T=()=>{P(!0)},U=()=>{P(!1),Z(!1)};if(!z)return[!1,D,{}];if(B!=="intent")return[W,D,{}];return[W,D,{onFocus:mX(L,T),onBlur:mX(Q,U),onMouseEnter:mX(q,T),onMouseLeave:mX(w,U),onTouchStart:mX(C,T)}]}function mX(B,O){return(z)=>{if(B&&B(z),!z.defaultPrevented)O(z)}}function $J({page:B,...O}){let{router:z}=_J(),I=iY.useMemo(()=>OP(z.routes,B,z.basename),[z.routes,B,z.basename]);if(!I)return null;return iY.createElement(cA,{page:B,matches:I,...O})}function dA(B){let{manifest:O,routeModules:z}=BJ(),[I,P]=iY.useState([]);return iY.useEffect(()=>{let W=!1;return UA(B,O,z).then((Z)=>{if(!W)P(Z)}),()=>{W=!0}},[B,O,z]),I}function cA({page:B,matches:O,...z}){let I=Z0(),{manifest:P,routeModules:W}=BJ(),{basename:Z}=_J(),{loaderData:L,matches:Q}=mA(),q=iY.useMemo(()=>b9(B,O,Q,P,I,"data"),[B,O,Q,P,I]),w=iY.useMemo(()=>b9(B,O,Q,P,I,"assets"),[B,O,Q,P,I]),C=iY.useMemo(()=>{if(B===I.pathname+I.search+I.hash)return[];let U=new Set,m=!1;if(O.forEach((y)=>{let b=P.routes[y.route.id];if(!b||!b.hasLoader)return;if(!q.some((i)=>i.route.id===y.route.id)&&y.route.id in L&&W[y.route.id]?.shouldRevalidate)m=!0;else if(b.hasClientLoader)m=!0;else U.add(y.route.id)}),U.size===0)return[];let S=jA(B,Z);if(m&&U.size>0)S.searchParams.set("_routes",O.filter((y)=>U.has(y.route.id)).map((y)=>y.route.id).join(","));return[S.pathname+S.search]},[Z,L,I,P,q,O,B,W]),D=iY.useMemo(()=>SA(w,P),[w,P]),T=dA(w);return iY.createElement(iY.Fragment,null,C.map((U)=>iY.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...z})),D.map((U)=>iY.createElement("link",{key:U,rel:"modulepreload",href:U,...z})),T.map(({key:U,link:m})=>iY.createElement("link",{key:U,...m})))}function lA(...B){return(O)=>{B.forEach((z)=>{if(typeof z==="function")z(O);else if(z!=null)z.current=O})}}var HJ=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined";try{if(HJ)window.__reactRouterVersion="7.3.0"}catch(B){}function h2({basename:B,children:O,window:z}){let I=WY.useRef();if(I.current==null)I.current=v9({window:z,v5Compat:!0});let P=I.current,[W,Z]=WY.useState({action:P.action,location:P.location}),L=WY.useCallback((Q)=>{WY.startTransition(()=>Z(Q))},[Z]);return WY.useLayoutEffect(()=>P.listen(L),[P,L]),WY.createElement(NP,{basename:B,children:O,location:W.location,navigationType:W.action,navigator:P})}function OJ({basename:B,children:O,history:z}){let[I,P]=WY.useState({action:z.action,location:z.location}),W=WY.useCallback((Z)=>{WY.startTransition(()=>P(Z))},[P]);return WY.useLayoutEffect(()=>z.listen(W),[z,W]),WY.createElement(NP,{basename:B,children:O,location:I.location,navigationType:I.action,navigator:z})}OJ.displayName="unstable_HistoryRouter";var XJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M_=WY.forwardRef(function B({onClick:O,discover:z="render",prefetch:I="none",relative:P,reloadDocument:W,replace:Z,state:L,target:Q,to:q,preventScrollReset:w,viewTransition:C,...D},T){let{basename:U}=WY.useContext(d_),m=typeof q==="string"&&XJ.test(q),S,y=!1;if(typeof q==="string"&&m){if(S=q,HJ)try{let qY=new URL(window.location.href),_K=q.startsWith("//")?new URL(qY.protocol+q):new URL(q),BK=G0(_K.pathname,U);if(_K.origin===qY.origin&&BK!=null)q=BK+_K.search+_K.hash;else y=!0}catch(qY){kB(!1,`<Link to="${q}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}}let b=i9(q,{relative:P}),[i,u,$Y]=hA(I,D),jY=WJ(q,{replace:Z,state:L,target:Q,preventScrollReset:w,relative:P,viewTransition:C});function ZY(qY){if(O)O(qY);if(!qY.defaultPrevented)jY(qY)}let yY=WY.createElement("a",{...D,...$Y,href:S||b,onClick:y||W?O:ZY,ref:lA(T,u),target:Q,"data-discover":!m&&z==="render"?"true":void 0});return i&&!m?WY.createElement(WY.Fragment,null,yY,WY.createElement($J,{page:b})):yY});M_.displayName="Link";var zJ=WY.forwardRef(function B({"aria-current":O="page",caseSensitive:z=!1,className:I="",end:P=!1,style:W,to:Z,viewTransition:L,children:Q,...q},w){let C=YO(Z,{relative:q.relative}),D=Z0(),T=WY.useContext(rH),{navigator:U,basename:m}=WY.useContext(d_),S=T!=null&&QJ(C)&&L===!0,y=U.encodeLocation?U.encodeLocation(C).pathname:C.pathname,b=D.pathname,i=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;if(!z)b=b.toLowerCase(),i=i?i.toLowerCase():null,y=y.toLowerCase();if(i&&m)i=G0(i,m)||i;let u=y!=="/"&&y.endsWith("/")?y.length-1:y.length,$Y=b===y||!P&&b.startsWith(y)&&b.charAt(u)==="/",jY=i!=null&&(i===y||!P&&i.startsWith(y)&&i.charAt(y.length)==="/"),ZY={isActive:$Y,isPending:jY,isTransitioning:S},yY=$Y?O:void 0,qY;if(typeof I==="function")qY=I(ZY);else qY=[I,$Y?"active":null,jY?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let _K=typeof W==="function"?W(ZY):W;return WY.createElement(M_,{...q,"aria-current":yY,className:qY,ref:w,style:_K,to:Z,viewTransition:L},typeof Q==="function"?Q(ZY):Q)});zJ.displayName="NavLink";var IJ=WY.forwardRef(({discover:B="render",fetcherKey:O,navigate:z,reloadDocument:I,replace:P,state:W,method:Z=j2,action:L,onSubmit:Q,relative:q,preventScrollReset:w,viewTransition:C,...D},T)=>{let U=NJ(),m=ZJ(L,{relative:q}),S=Z.toLowerCase()==="get"?"get":"post",y=typeof L==="string"&&XJ.test(L);return WY.createElement("form",{ref:T,method:S,action:m,onSubmit:I?Q:(i)=>{if(Q&&Q(i),i.defaultPrevented)return;i.preventDefault();let u=i.nativeEvent.submitter,$Y=u?.getAttribute("formmethod")||Z;U(u||i.currentTarget,{fetcherKey:O,method:$Y,navigate:z,replace:P,state:W,relative:q,preventScrollReset:w,viewTransition:C})},...D,"data-discover":!y&&B==="render"?"true":void 0})});IJ.displayName="Form";function PJ({getKey:B,storageKey:O,...z}){let I=WY.useContext(dX),{basename:P}=WY.useContext(d_),W=Z0(),Z=WP();JJ({getKey:B,storageKey:O});let L=WY.useMemo(()=>{if(!I||!B)return null;let q=HP(W,Z,P,B);return q!==W.key?q:null},[]);if(!I||I.isSpaMode)return null;let Q=((q,w)=>{if(!window.history.state||!window.history.state.key){let C=Math.random().toString(32).slice(2);window.history.replaceState({key:C},"")}try{let D=JSON.parse(sessionStorage.getItem(q)||"{}")[w||window.history.state.key];if(typeof D==="number")window.scrollTo(0,D)}catch(C){console.error(C),sessionStorage.removeItem(q)}}).toString();return WY.createElement("script",{...z,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${Q})(${JSON.stringify(O||$P)}, ${JSON.stringify(L)})`}})}PJ.displayName="ScrollRestoration";function GJ(B){return`${B} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QP(B){let O=WY.useContext(k1);return QK(O,GJ(B)),O}function uA(B){let O=WY.useContext(rH);return QK(O,GJ(B)),O}function WJ(B,{target:O,replace:z,state:I,preventScrollReset:P,relative:W,viewTransition:Z}={}){let L=s9(),Q=Z0(),q=YO(B,{relative:W});return WY.useCallback((w)=>{if(AA(w,O)){w.preventDefault();let C=z!==void 0?z:aH(Q)===aH(q);L(B,{replace:C,state:I,preventScrollReset:P,relative:W,viewTransition:Z})}},[Q,L,q,z,I,O,B,P,W,Z])}var pA=0,iA=()=>`__${String(++pA)}__`;function NJ(){let{router:B}=QP("useSubmit"),{basename:O}=WY.useContext(d_),z=JA();return WY.useCallback(async(I,P={})=>{let{action:W,method:Z,encType:L,formData:Q,body:q}=xA(I,O);if(P.navigate===!1){let w=P.fetcherKey||iA();await B.fetch(w,z,P.action||W,{preventScrollReset:P.preventScrollReset,formData:Q,body:q,formMethod:P.method||Z,formEncType:P.encType||L,flushSync:P.flushSync})}else await B.navigate(P.action||W,{preventScrollReset:P.preventScrollReset,formData:Q,body:q,formMethod:P.method||Z,formEncType:P.encType||L,replace:P.replace,state:P.state,fromRouteId:z,flushSync:P.flushSync,viewTransition:P.viewTransition})},[B,O,z])}function ZJ(B,{relative:O}={}){let{basename:z}=WY.useContext(d_),I=WY.useContext(N0);QK(I,"useFormAction must be used inside a RouteContext");let[P]=I.matches.slice(-1),W={...YO(B?B:".",{relative:O})},Z=Z0();if(B==null){W.search=Z.search;let L=new URLSearchParams(W.search),Q=L.getAll("index");if(Q.some((w)=>w==="")){L.delete("index"),Q.filter((C)=>C).forEach((C)=>L.append("index",C));let w=L.toString();W.search=w?`?${w}`:""}}if((!B||B===".")&&P.route.index)W.search=W.search?W.search.replace(/^\?/,"?index&"):"?index";if(z!=="/")W.pathname=W.pathname==="/"?z:p0([z,W.pathname]);return aH(W)}var $P="react-router-scroll-positions",g2={};function HP(B,O,z,I){let P=null;if(I)if(z!=="/")P=I({...B,pathname:G0(B.pathname,z)||B.pathname},O);else P=I(B,O);if(P==null)P=B.key;return P}function JJ({getKey:B,storageKey:O}={}){let{router:z}=QP("useScrollRestoration"),{restoreScrollPosition:I,preventScrollReset:P}=uA("useScrollRestoration"),{basename:W}=WY.useContext(d_),Z=Z0(),L=WP(),Q=t9();if(WY.useEffect(()=>{return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}},[]),nA(WY.useCallback(()=>{if(Q.state==="idle"){let q=HP(Z,L,W,B);g2[q]=window.scrollY}try{sessionStorage.setItem(O||$P,JSON.stringify(g2))}catch(q){kB(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${q}).`)}window.history.scrollRestoration="auto"},[Q.state,B,W,Z,L,O])),typeof document!=="undefined")WY.useLayoutEffect(()=>{try{let q=sessionStorage.getItem(O||$P);if(q)g2=JSON.parse(q)}catch(q){}},[O]),WY.useLayoutEffect(()=>{let q=z?.enableScrollRestoration(g2,()=>window.scrollY,B?(w,C)=>HP(w,C,W,B):void 0);return()=>q&&q()},[z,W,B]),WY.useLayoutEffect(()=>{if(I===!1)return;if(typeof I==="number"){window.scrollTo(0,I);return}if(Z.hash){let q=document.getElementById(decodeURIComponent(Z.hash.slice(1)));if(q){q.scrollIntoView();return}}if(P===!0)return;window.scrollTo(0,0)},[Z,I,P])}function nA(B,O){let{capture:z}=O||{};WY.useEffect(()=>{let I=z!=null?{capture:z}:void 0;return window.addEventListener("pagehide",B,I),()=>{window.removeEventListener("pagehide",B,I)}},[B,z])}function QJ(B,O={}){let z=WY.useContext(XP);QK(z!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:I}=QP("useViewTransitionState"),P=YO(B,{relative:O.relative});if(!z.isTransitioning)return!1;let W=G0(z.currentLocation.pathname,I)||z.currentLocation.pathname,Z=G0(z.nextLocation.pathname,I)||z.nextLocation.pathname;return hX(P.pathname,Z)!=null||hX(P.pathname,W)!=null}var RP=lX(),NY=(B)=>cX(B,RP),CP=lX();NY.write=(B)=>cX(B,CP);var d2=lX();NY.onStart=(B)=>cX(B,d2);var wP=lX();NY.onFrame=(B)=>cX(B,wP);var AP=lX();NY.onFinish=(B)=>cX(B,AP);var KO=[];NY.setTimeout=(B,O)=>{let z=NY.now()+O,I=()=>{let W=KO.findIndex((Z)=>Z.cancel==I);if(~W)KO.splice(W,1);y$-=~W?1:0},P={time:z,handler:B,cancel:I};return KO.splice(CJ(z),0,P),y$+=1,wJ(),P};var CJ=(B)=>~(~KO.findIndex((O)=>O.time>B)||~KO.length);NY.cancel=(B)=>{d2.delete(B),wP.delete(B),AP.delete(B),RP.delete(B),CP.delete(B)};NY.sync=(B)=>{qP=!0,NY.batchedUpdates(B),qP=!1};NY.throttle=(B)=>{let O;function z(){try{B(...O)}finally{O=null}}function I(...P){O=P,NY.onStart(z)}return I.handler=B,I.cancel=()=>{d2.delete(z),O=null},I};var EP=typeof window!="undefined"?window.requestAnimationFrame:()=>{};NY.use=(B)=>EP=B;NY.now=typeof performance!="undefined"?()=>performance.now():Date.now;NY.batchedUpdates=(B)=>B();NY.catch=console.error;NY.frameLoop="always";NY.advance=()=>{if(NY.frameLoop!=="demand")console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand");else EJ()};var T$=-1,y$=0,qP=!1;function cX(B,O){if(qP)O.delete(B),B(0);else O.add(B),wJ()}function wJ(){if(T$<0){if(T$=0,NY.frameLoop!=="demand")EP(AJ)}}function oA(){T$=-1}function AJ(){if(~T$)EP(AJ),NY.batchedUpdates(EJ)}function EJ(){let B=T$;T$=NY.now();let O=CJ(T$);if(O)VJ(KO.splice(0,O),(z)=>z.handler()),y$-=O;if(!y$){oA();return}d2.flush(),RP.flush(B?Math.min(64,T$-B):16.667),wP.flush(),CP.flush(),AP.flush()}function lX(){let B=new Set,O=B;return{add(z){y$+=O==B&&!B.has(z)?1:0,B.add(z)},delete(z){return y$-=O==B&&B.has(z)?1:0,B.delete(z)},flush(z){if(O.size)B=new Set,y$-=O.size,VJ(O,(I)=>I(z)&&B.add(I)),y$+=B.size,O=B}}}function VJ(B,O){B.forEach((z)=>{try{O(z)}catch(I){NY.catch(I)}})}var wE=l(fY(),1),lJ=l(fY(),1),uJ=l(fY(),1),Y7=l(fY(),1),$O=l(fY(),1),iJ=l(fY(),1),K7=l(fY(),1),xE=l(fY(),1);var sA=Object.defineProperty,aA=(B,O)=>{for(var z in O)sA(B,z,{get:O[z],enumerable:!0})},bK={};aA(bK,{assign:()=>rA,colors:()=>k$,createStringInterpolator:()=>UP,skipAnimation:()=>jJ,to:()=>gJ,willAdvance:()=>SP});function s2(){}var kJ=(B,O,z)=>Object.defineProperty(B,O,{value:z,writable:!0,configurable:!0}),n={arr:Array.isArray,obj:(B)=>!!B&&B.constructor.name==="Object",fun:(B)=>typeof B==="function",str:(B)=>typeof B==="string",num:(B)=>typeof B==="number",und:(B)=>B===void 0};function jB(B,O){if(n.arr(B)){if(!n.arr(O)||B.length!==O.length)return!1;for(let z=0;z<B.length;z++)if(B[z]!==O[z])return!1;return!0}return B===O}var JY=(B,O)=>B.forEach(O);function eK(B,O,z){if(n.arr(B)){for(let I=0;I<B.length;I++)O.call(z,B[I],`${I}`);return}for(let I in B)if(B.hasOwnProperty(I))O.call(z,B[I],I)}var vK=(B)=>n.und(B)?[]:n.arr(B)?B:[B];function j1(B,O){if(B.size){let z=Array.from(B);B.clear(),JY(z,O)}}var b1=(B,...O)=>j1(B,(z)=>z(...O)),MP=()=>typeof window==="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),UP,gJ,k$=null,jJ=!1,SP=s2,rA=(B)=>{if(B.to)gJ=B.to;if(B.now)NY.now=B.now;if(B.colors!==void 0)k$=B.colors;if(B.skipAnimation!=null)jJ=B.skipAnimation;if(B.createStringInterpolator)UP=B.createStringInterpolator;if(B.requestAnimationFrame)NY.use(B.requestAnimationFrame);if(B.batchedUpdates)NY.batchedUpdates=B.batchedUpdates;if(B.willAdvance)SP=B.willAdvance;if(B.frameLoop)NY.frameLoop=B.frameLoop},uX=new Set,WB=[],VP=[],i2=0,i0={get idle(){return!uX.size&&!WB.length},start(B){if(i2>B.priority)uX.add(B),NY.onStart(tA);else bJ(B),NY(DP)},advance:DP,sort(B){if(i2)NY.onFrame(()=>i0.sort(B));else{let O=WB.indexOf(B);if(~O)WB.splice(O,1),vJ(B)}},clear(){WB=[],uX.clear()}};function tA(){uX.forEach(bJ),uX.clear(),NY(DP)}function bJ(B){if(!WB.includes(B))vJ(B)}function vJ(B){WB.splice(eA(WB,(O)=>O.priority>B.priority),0,B)}function DP(B){let O=VP;for(let z=0;z<WB.length;z++){let I=WB[z];if(i2=I.priority,!I.idle){if(SP(I),I.advance(B),!I.idle)O.push(I)}}return i2=0,VP=WB,VP.length=0,WB=O,WB.length>0}function eA(B,O){let z=B.findIndex(O);return z<0?B.length:z}var YE=(B,O,z)=>Math.min(Math.max(z,B),O),fJ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},gB="[-+]?\\d*\\.?\\d+",n2=gB+"%";function a2(...B){return"\\(\\s*("+B.join(")\\s*,\\s*(")+")\\s*\\)"}var KE=new RegExp("rgb"+a2(gB,gB,gB)),_E=new RegExp("rgba"+a2(gB,gB,gB,gB)),BE=new RegExp("hsl"+a2(gB,n2,n2)),$E=new RegExp("hsla"+a2(gB,n2,n2,gB)),HE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,OE=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,XE=/^#([0-9a-fA-F]{6})$/,zE=/^#([0-9a-fA-F]{8})$/;function IE(B){let O;if(typeof B==="number")return B>>>0===B&&B>=0&&B<=4294967295?B:null;if(O=XE.exec(B))return parseInt(O[1]+"ff",16)>>>0;if(k$&&k$[B]!==void 0)return k$[B];if(O=KE.exec(B))return(_O(O[1])<<24|_O(O[2])<<16|_O(O[3])<<8|255)>>>0;if(O=_E.exec(B))return(_O(O[1])<<24|_O(O[2])<<16|_O(O[3])<<8|DJ(O[4]))>>>0;if(O=HE.exec(B))return parseInt(O[1]+O[1]+O[2]+O[2]+O[3]+O[3]+"ff",16)>>>0;if(O=zE.exec(B))return parseInt(O[1],16)>>>0;if(O=OE.exec(B))return parseInt(O[1]+O[1]+O[2]+O[2]+O[3]+O[3]+O[4]+O[4],16)>>>0;if(O=BE.exec(B))return(xJ(FJ(O[1]),c2(O[2]),c2(O[3]))|255)>>>0;if(O=$E.exec(B))return(xJ(FJ(O[1]),c2(O[2]),c2(O[3]))|DJ(O[4]))>>>0;return null}function xP(B,O,z){if(z<0)z+=1;if(z>1)z-=1;if(z<0.16666666666666666)return B+(O-B)*6*z;if(z<0.5)return O;if(z<0.6666666666666666)return B+(O-B)*(0.6666666666666666-z)*6;return B}function xJ(B,O,z){let I=z<0.5?z*(1+O):z+O-z*O,P=2*z-I,W=xP(P,I,B+0.3333333333333333),Z=xP(P,I,B),L=xP(P,I,B-0.3333333333333333);return Math.round(W*255)<<24|Math.round(Z*255)<<16|Math.round(L*255)<<8}function _O(B){let O=parseInt(B,10);if(O<0)return 0;if(O>255)return 255;return O}function FJ(B){return(parseFloat(B)%360+360)%360/360}function DJ(B){let O=parseFloat(B);if(O<0)return 0;if(O>1)return 255;return Math.round(O*255)}function c2(B){let O=parseFloat(B);if(O<0)return 0;if(O>100)return 1;return O/100}function MJ(B){let O=IE(B);if(O===null)return B;O=O||0;let z=(O&4278190080)>>>24,I=(O&16711680)>>>16,P=(O&65280)>>>8,W=(O&255)/255;return`rgba(${z}, ${I}, ${P}, ${W})`}var g$=(B,O,z)=>{if(n.fun(B))return B;if(n.arr(B))return g$({range:B,output:O,extrapolate:z});if(n.str(B.output[0]))return UP(B);let I=B,P=I.output,W=I.range||[0,1],Z=I.extrapolateLeft||I.extrapolate||"extend",L=I.extrapolateRight||I.extrapolate||"extend",Q=I.easing||((q)=>q);return(q)=>{let w=GE(q,W);return PE(q,W[w],W[w+1],P[w],P[w+1],Q,Z,L,I.map)}};function PE(B,O,z,I,P,W,Z,L,Q){let q=Q?Q(B):B;if(q<O){if(Z==="identity")return q;else if(Z==="clamp")q=O}if(q>z){if(L==="identity")return q;else if(L==="clamp")q=z}if(I===P)return I;if(O===z)return B<=O?I:P;if(O===-1/0)q=-q;else if(z===1/0)q=q-O;else q=(q-O)/(z-O);if(q=W(q),I===-1/0)q=-q;else if(P===1/0)q=q+I;else q=q*(P-I)+I;return q}function GE(B,O){for(var z=1;z<O.length-1;++z)if(O[z]>=B)break;return z-1}var WE=(B,O="end")=>(z)=>{z=O==="end"?Math.min(z,0.999):Math.max(z,0.001);let I=z*B,P=O==="end"?Math.floor(I):Math.ceil(I);return YE(0,1,P/B)},o2=1.70158,l2=o2*1.525,UJ=o2+1,SJ=2*Math.PI/3,TJ=2*Math.PI/4.5,u2=(B)=>{if(B<0.36363636363636365)return 7.5625*B*B;else if(B<0.7272727272727273)return 7.5625*(B-=0.5454545454545454)*B+0.75;else if(B<0.9090909090909091)return 7.5625*(B-=0.8181818181818182)*B+0.9375;else return 7.5625*(B-=0.9545454545454546)*B+0.984375},TP={linear:(B)=>B,easeInQuad:(B)=>B*B,easeOutQuad:(B)=>1-(1-B)*(1-B),easeInOutQuad:(B)=>B<0.5?2*B*B:1-Math.pow(-2*B+2,2)/2,easeInCubic:(B)=>B*B*B,easeOutCubic:(B)=>1-Math.pow(1-B,3),easeInOutCubic:(B)=>B<0.5?4*B*B*B:1-Math.pow(-2*B+2,3)/2,easeInQuart:(B)=>B*B*B*B,easeOutQuart:(B)=>1-Math.pow(1-B,4),easeInOutQuart:(B)=>B<0.5?8*B*B*B*B:1-Math.pow(-2*B+2,4)/2,easeInQuint:(B)=>B*B*B*B*B,easeOutQuint:(B)=>1-Math.pow(1-B,5),easeInOutQuint:(B)=>B<0.5?16*B*B*B*B*B:1-Math.pow(-2*B+2,5)/2,easeInSine:(B)=>1-Math.cos(B*Math.PI/2),easeOutSine:(B)=>Math.sin(B*Math.PI/2),easeInOutSine:(B)=>-(Math.cos(Math.PI*B)-1)/2,easeInExpo:(B)=>B===0?0:Math.pow(2,10*B-10),easeOutExpo:(B)=>B===1?1:1-Math.pow(2,-10*B),easeInOutExpo:(B)=>B===0?0:B===1?1:B<0.5?Math.pow(2,20*B-10)/2:(2-Math.pow(2,-20*B+10))/2,easeInCirc:(B)=>1-Math.sqrt(1-Math.pow(B,2)),easeOutCirc:(B)=>Math.sqrt(1-Math.pow(B-1,2)),easeInOutCirc:(B)=>B<0.5?(1-Math.sqrt(1-Math.pow(2*B,2)))/2:(Math.sqrt(1-Math.pow(-2*B+2,2))+1)/2,easeInBack:(B)=>UJ*B*B*B-o2*B*B,easeOutBack:(B)=>1+UJ*Math.pow(B-1,3)+o2*Math.pow(B-1,2),easeInOutBack:(B)=>B<0.5?Math.pow(2*B,2)*((l2+1)*2*B-l2)/2:(Math.pow(2*B-2,2)*((l2+1)*(B*2-2)+l2)+2)/2,easeInElastic:(B)=>B===0?0:B===1?1:-Math.pow(2,10*B-10)*Math.sin((B*10-10.75)*SJ),easeOutElastic:(B)=>B===0?0:B===1?1:Math.pow(2,-10*B)*Math.sin((B*10-0.75)*SJ)+1,easeInOutElastic:(B)=>B===0?0:B===1?1:B<0.5?-(Math.pow(2,20*B-10)*Math.sin((20*B-11.125)*TJ))/2:Math.pow(2,-20*B+10)*Math.sin((20*B-11.125)*TJ)/2+1,easeInBounce:(B)=>1-u2(1-B),easeOutBounce:u2,easeInOutBounce:(B)=>B<0.5?(1-u2(1-2*B))/2:(1+u2(2*B-1))/2,steps:WE},pX=Symbol.for("FluidValue.get"),BO=Symbol.for("FluidValue.observers"),X_=(B)=>Boolean(B&&B[pX]),fK=(B)=>B&&B[pX]?B[pX]():B,yP=(B)=>B[BO]||null;function NE(B,O){if(B.eventObserved)B.eventObserved(O);else B(O)}function n0(B,O){let z=B[BO];if(z)z.forEach((I)=>{NE(I,O)})}var r2=class{constructor(B){if(!B&&!(B=this.get))throw Error("Unknown getter");ZE(this,B)}},ZE=(B,O)=>mJ(B,pX,O);function bB(B,O){if(B[pX]){let z=B[BO];if(!z)mJ(B,BO,z=new Set);if(!z.has(O)){if(z.add(O),B.observerAdded)B.observerAdded(z.size,O)}}return O}function o0(B,O){let z=B[BO];if(z&&z.has(O)){let I=z.size-1;if(I)z.delete(O);else B[BO]=null;if(B.observerRemoved)B.observerRemoved(I,O)}}var mJ=(B,O,z)=>Object.defineProperty(B,O,{value:z,writable:!0,configurable:!0}),p2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,JE=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,yJ=new RegExp(`(${p2.source})(%|[a-z]+)`,"i"),QE=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,t2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,hJ=(B)=>{let[O,z]=LE(B);if(!O||MP())return B;let I=window.getComputedStyle(document.documentElement).getPropertyValue(O);if(I)return I.trim();else if(z&&z.startsWith("--")){let P=window.getComputedStyle(document.documentElement).getPropertyValue(z);if(P)return P;else return B}else if(z&&t2.test(z))return hJ(z);else if(z)return z;return B},LE=(B)=>{let O=t2.exec(B);if(!O)return[,];let[,z,I]=O;return[z,I]},FP,qE=(B,O,z,I,P)=>`rgba(${Math.round(O)}, ${Math.round(z)}, ${Math.round(I)}, ${P})`,e2=(B)=>{if(!FP)FP=k$?new RegExp(`(${Object.keys(k$).join("|")})(?!\\w)`,"g"):/^\b$/;let O=B.output.map((W)=>{return fK(W).replace(t2,hJ).replace(JE,MJ).replace(FP,MJ)}),z=O.map((W)=>W.match(p2).map(Number)),P=z[0].map((W,Z)=>z.map((L)=>{if(!(Z in L))throw Error('The arity of each "output" value must be equal');return L[Z]})).map((W)=>g$({...B,output:W}));return(W)=>{let Z=!yJ.test(O[0])&&O.find((Q)=>yJ.test(Q))?.replace(p2,""),L=0;return O[0].replace(p2,()=>`${P[L++](W)}${Z||""}`).replace(QE,qE)}},kP="react-spring: ",dJ=(B)=>{let O=B,z=!1;if(typeof O!="function")throw new TypeError(`${kP}once requires a function parameter`);return(...I)=>{if(!z)O(...I),z=!0}},RE=dJ(console.warn);function gP(){RE(`${kP}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var CE=dJ(console.warn);function cJ(){CE(`${kP}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function j$(B){return n.str(B)&&(B[0]=="#"||/\d/.test(B)||!MP()&&t2.test(B)||(B in(k$||{})))}var NB=MP()?Y7.useEffect:Y7.useLayoutEffect,AE=()=>{let B=uJ.useRef(!1);return NB(()=>{return B.current=!0,()=>{B.current=!1}},[]),B};function iX(){let B=lJ.useState()[1],O=AE();return()=>{if(O.current)B(Math.random())}}function pJ(B,O){let[z]=$O.useState(()=>({inputs:O,result:B()})),I=$O.useRef(),P=I.current,W=P;if(W){if(!Boolean(O&&W.inputs&&EE(O,W.inputs)))W={inputs:O,result:B()}}else W=z;return $O.useEffect(()=>{if(I.current=W,P==z)z.inputs=z.result=void 0},[W]),W.result}function EE(B,O){if(B.length!==O.length)return!1;for(let z=0;z<B.length;z++)if(B[z]!==O[z])return!1;return!0}var HO=(B)=>iJ.useEffect(B,VE),VE=[];function _7(B){let O=K7.useRef();return K7.useEffect(()=>{O.current=B}),O.current}var J0=l(fY(),1);var tJ=l(fY(),1),s0=l(fY(),1);var nX=Symbol.for("Animated:node"),FE=(B)=>!!B&&B[nX]===B,c_=(B)=>B&&B[nX],oX=(B,O)=>kJ(B,nX,O),OO=(B)=>B&&B[nX]&&B[nX].getPayload(),aJ=class{constructor(){oX(this,this)}getPayload(){return this.payload||[]}},XO=class extends aJ{constructor(B){super();if(this._value=B,this.done=!0,this.durationProgress=0,n.num(this._value))this.lastPosition=this._value}static create(B){return new XO(B)}getPayload(){return[this]}getValue(){return this._value}setValue(B,O){if(n.num(B)){if(this.lastPosition=B,O){if(B=Math.round(B/O)*O,this.done)this.lastPosition=B}}if(this._value===B)return!1;return this._value=B,!0}reset(){let{done:B}=this;if(this.done=!1,n.num(this._value)){if(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,B)this.lastVelocity=null;this.v0=null}}},zO=class extends XO{constructor(B){super(0);this._string=null,this._toString=g$({output:[B,B]})}static create(B){return new zO(B)}getValue(){let B=this._string;return B==null?this._string=this._toString(this._value):B}setValue(B){if(n.str(B)){if(B==this._string)return!1;this._string=B,this._value=1}else if(super.setValue(B))this._string=null;else return!1;return!0}reset(B){if(B)this._toString=g$({output:[this.getValue(),B]});this._value=0,super.reset()}},B7={dependencies:null},sX=class extends aJ{constructor(B){super();this.source=B,this.setValue(B)}getValue(B){let O={};return eK(this.source,(z,I)=>{if(FE(z))O[I]=z.getValue(B);else if(X_(z))O[I]=fK(z);else if(!B)O[I]=z}),O}setValue(B){this.source=B,this.payload=this._makePayload(B)}reset(){if(this.payload)JY(this.payload,(B)=>B.reset())}_makePayload(B){if(B){let O=new Set;return eK(B,this._addToPayload,O),Array.from(O)}}_addToPayload(B){if(B7.dependencies&&X_(B))B7.dependencies.add(B);let O=OO(B);if(O)JY(O,(z)=>this.add(z))}},rJ=class extends sX{constructor(B){super(B)}static create(B){return new rJ(B)}getValue(){return this.source.map((B)=>B.getValue())}setValue(B){let O=this.getPayload();if(B.length==O.length)return O.map((z,I)=>z.setValue(B[I])).some(Boolean);return super.setValue(B.map(DE)),!0}};function DE(B){return(j$(B)?zO:XO).create(B)}function aX(B){let O=c_(B);return O?O.constructor:n.arr(B)?rJ:j$(B)?zO:XO}var nJ=(B,O)=>{let z=!n.fun(B)||B.prototype&&B.prototype.isReactComponent;return s0.forwardRef((I,P)=>{let W=s0.useRef(null),Z=z&&s0.useCallback((U)=>{W.current=SE(P,U)},[P]),[L,Q]=UE(I,O),q=iX(),w=()=>{let U=W.current;if(z&&!U)return;if((U?O.applyAnimatedValues(U,L.getValue(!0)):!1)===!1)q()},C=new ME(w,Q),D=s0.useRef();NB(()=>{return D.current=C,JY(Q,(U)=>bB(U,C)),()=>{if(D.current)JY(D.current.deps,(U)=>o0(U,D.current)),NY.cancel(D.current.update)}}),s0.useEffect(w,[]),HO(()=>()=>{let U=D.current;JY(U.deps,(m)=>o0(m,U))});let T=O.getComponentProps(L.getValue());return tJ.createElement(B,{...T,ref:Z})})},ME=class{constructor(B,O){this.update=B,this.deps=O}eventObserved(B){if(B.type=="change")NY.write(this.update)}};function UE(B,O){let z=new Set;if(B7.dependencies=z,B.style)B={...B,style:O.createAnimatedStyle(B.style)};return B=new sX(B),B7.dependencies=null,[B,z]}function SE(B,O){if(B)if(n.fun(B))B(O);else B.current=O;return O}var oJ=Symbol.for("AnimatedComponent"),eJ=(B,{applyAnimatedValues:O=()=>!1,createAnimatedStyle:z=(P)=>new sX(P),getComponentProps:I=(P)=>P}={})=>{let P={applyAnimatedValues:O,createAnimatedStyle:z,getComponentProps:I},W=(Z)=>{let L=sJ(Z)||"Anonymous";if(n.str(Z))Z=W[Z]||(W[Z]=nJ(Z,P));else Z=Z[oJ]||(Z[oJ]=nJ(Z,P));return Z.displayName=`Animated(${L})`,Z};return eK(B,(Z,L)=>{if(n.arr(B))L=sJ(Z);W[L]=W(Z)}),{animated:W}},sJ=(B)=>n.str(B)?B:B&&n.str(B.displayName)?B.displayName:n.fun(B)&&B.name||null;var H7=l(fY(),1),EQ=l(fY(),1);var rE=l(fY(),1);var VQ=l(fY(),1),iP=l(fY(),1);var xQ=l(fY(),1);function v1(B,...O){return n.fun(B)?B(...O):B}var Yz=(B,O)=>B===!0||!!(O&&B&&(n.fun(B)?B(O):vK(B).includes(O))),PQ=(B,O)=>n.obj(B)?O&&B[O]:B,GQ=(B,O)=>B.default===!0?B[O]:B.default?B.default[O]:void 0,TE=(B)=>B,lP=(B,O=TE)=>{let z=yE;if(B.default&&B.default!==!0)B=B.default,z=Object.keys(B);let I={};for(let P of z){let W=O(B[P],P);if(!n.und(W))I[P]=W}return I},yE=["config","onProps","onStart","onChange","onPause","onResume","onRest"],kE={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function gE(B){let O={},z=0;if(eK(B,(I,P)=>{if(!kE[P])O[P]=I,z++}),z)return O}function WQ(B){let O=gE(B);if(O){let z={to:O};return eK(B,(I,P)=>(P in O)||(z[P]=I)),z}return{...B}}function Kz(B){return B=fK(B),n.arr(B)?B.map(Kz):j$(B)?bK.createStringInterpolator({range:[0,1],output:[B,B]})(1):B}function jE(B){for(let O in B)return!0;return!1}function vP(B){return n.fun(B)||n.arr(B)&&n.obj(B[0])}function bE(B,O){B.ref?.delete(B),O?.delete(B)}function vE(B,O){if(O&&B.ref!==O)B.ref?.delete(B),O.add(B),B.ref=O}var fE={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},fP={...fE.default,mass:1,damping:1,easing:TP.linear,clamp:!1},mE=class{constructor(){this.velocity=0,Object.assign(this,fP)}};function hE(B,O,z){if(z)z={...z},YQ(z,O),O={...z,...O};YQ(B,O),Object.assign(B,O);for(let Z in fP)if(B[Z]==null)B[Z]=fP[Z];let{frequency:I,damping:P}=B,{mass:W}=B;if(!n.und(I)){if(I<0.01)I=0.01;if(P<0)P=0;B.tension=Math.pow(2*Math.PI/I,2)*W,B.friction=4*Math.PI*P*W/I}return B}function YQ(B,O){if(!n.und(O.decay))B.duration=void 0;else{let z=!n.und(O.tension)||!n.und(O.friction);if(z||!n.und(O.frequency)||!n.und(O.damping)||!n.und(O.mass))B.duration=void 0,B.decay=void 0;if(z)B.frequency=void 0}}var KQ=[],dE=class{constructor(){this.changed=!1,this.values=KQ,this.toValues=null,this.fromValues=KQ,this.config=new mE,this.immediate=!1}};function NQ(B,{key:O,props:z,defaultProps:I,state:P,actions:W}){return new Promise((Z,L)=>{let Q,q,w=Yz(z.cancel??I?.cancel,O);if(w)T();else{if(!n.und(z.pause))P.paused=Yz(z.pause,O);let U=I?.pause;if(U!==!0)U=P.paused||Yz(U,O);if(Q=v1(z.delay||0,O),U)P.resumeQueue.add(D),W.pause();else W.resume(),D()}function C(){P.resumeQueue.add(D),P.timeouts.delete(q),q.cancel(),Q=q.time-NY.now()}function D(){if(Q>0&&!bK.skipAnimation)P.delayed=!0,q=NY.setTimeout(T,Q),P.pauseQueue.add(C),P.timeouts.add(q);else T()}function T(){if(P.delayed)P.delayed=!1;if(P.pauseQueue.delete(C),P.timeouts.delete(q),B<=(P.cancelId||0))w=!0;try{W.start({...z,callId:B,cancel:w},Z)}catch(U){L(U)}}})}var uP=(B,O)=>O.length==1?O[0]:O.some((z)=>z.cancelled)?IO(B.get()):O.every((z)=>z.noop)?ZQ(B.get()):vB(B.get(),O.every((z)=>z.finished)),ZQ=(B)=>({value:B,noop:!0,finished:!0,cancelled:!1}),vB=(B,O,z=!1)=>({value:B,finished:O,cancelled:z}),IO=(B)=>({value:B,cancelled:!0,finished:!1});function JQ(B,O,z,I){let{callId:P,parentId:W,onRest:Z}=O,{asyncTo:L,promise:Q}=z;if(!W&&B===L&&!O.reset)return Q;return z.promise=(async()=>{z.asyncId=P,z.asyncTo=B;let q=lP(O,(S,y)=>y==="onRest"?void 0:S),w,C,D=new Promise((S,y)=>(w=S,C=y)),T=(S)=>{let y=P<=(z.cancelId||0)&&IO(I)||P!==z.asyncId&&vB(I,!1);if(y)throw S.result=y,C(S),S},U=(S,y)=>{let b=new _Q,i=new BQ;return(async()=>{if(bK.skipAnimation)throw _z(z),i.result=vB(I,!1),C(i),i;T(b);let u=n.obj(S)?{...S}:{...y,to:S};u.parentId=P,eK(q,(jY,ZY)=>{if(n.und(u[ZY]))u[ZY]=jY});let $Y=await I.start(u);if(T(b),z.paused)await new Promise((jY)=>{z.resumeQueue.add(jY)});return $Y})()},m;if(bK.skipAnimation)return _z(z),vB(I,!1);try{let S;if(n.arr(B))S=(async(y)=>{for(let b of y)await U(b)})(B);else S=Promise.resolve(B(U,I.stop.bind(I)));await Promise.all([S.then(w),D]),m=vB(I.get(),!0,!1)}catch(S){if(S instanceof _Q)m=S.result;else if(S instanceof BQ)m=S.result;else throw S}finally{if(P==z.asyncId)z.asyncId=W,z.asyncTo=W?L:void 0,z.promise=W?Q:void 0}if(n.fun(Z))NY.batchedUpdates(()=>{Z(m,I,I.item)});return m})()}function _z(B,O){if(j1(B.timeouts,(z)=>z.cancel()),B.pauseQueue.clear(),B.resumeQueue.clear(),B.asyncId=B.asyncTo=B.promise=void 0,O)B.cancelId=O}var _Q=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},BQ=class extends Error{constructor(){super("SkipAnimationSignal")}},mP=(B)=>B instanceof pP,cE=1,pP=class extends r2{constructor(){super(...arguments);this.id=cE++,this._priority=0}get priority(){return this._priority}set priority(B){if(this._priority!=B)this._priority=B,this._onPriorityChange(B)}get(){let B=c_(this);return B&&B.getValue()}to(...B){return bK.to(this,B)}interpolate(...B){return gP(),bK.to(this,B)}toJSON(){return this.get()}observerAdded(B){if(B==1)this._attach()}observerRemoved(B){if(B==0)this._detach()}_attach(){}_detach(){}_onChange(B,O=!1){n0(this,{type:"change",parent:this,value:B,idle:O})}_onPriorityChange(B){if(!this.idle)i0.sort(this);n0(this,{type:"priority",parent:this,priority:B})}},f1=Symbol.for("SpringPhase"),QQ=1,hP=2,dP=4,jP=(B)=>(B[f1]&QQ)>0,b$=(B)=>(B[f1]&hP)>0,rX=(B)=>(B[f1]&dP)>0,$Q=(B,O)=>O?B[f1]|=hP|QQ:B[f1]&=~hP,HQ=(B,O)=>O?B[f1]|=dP:B[f1]&=~dP,lE=class extends pP{constructor(B,O){super();if(this.animation=new dE,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!n.und(B)||!n.und(O)){let z=n.obj(B)?{...B}:{...O,from:B};if(n.und(z.default))z.default=!0;this.start(z)}}get idle(){return!(b$(this)||this._state.asyncTo)||rX(this)}get goal(){return fK(this.animation.to)}get velocity(){let B=c_(this);return B instanceof XO?B.lastVelocity||0:B.getPayload().map((O)=>O.lastVelocity||0)}get hasAnimated(){return jP(this)}get isAnimating(){return b$(this)}get isPaused(){return rX(this)}get isDelayed(){return this._state.delayed}advance(B){let O=!0,z=!1,I=this.animation,{toValues:P}=I,{config:W}=I,Z=OO(I.to);if(!Z&&X_(I.to))P=vK(fK(I.to));I.values.forEach((q,w)=>{if(q.done)return;let C=q.constructor==zO?1:Z?Z[w].lastPosition:P[w],D=I.immediate,T=C;if(!D){if(T=q.lastPosition,W.tension<=0){q.done=!0;return}let U=q.elapsedTime+=B,m=I.fromValues[w],S=q.v0!=null?q.v0:q.v0=n.arr(W.velocity)?W.velocity[w]:W.velocity,y,b=W.precision||(m==C?0.005:Math.min(1,Math.abs(C-m)*0.001));if(!n.und(W.duration)){let i=1;if(W.duration>0){if(this._memoizedDuration!==W.duration){if(this._memoizedDuration=W.duration,q.durationProgress>0)q.elapsedTime=W.duration*q.durationProgress,U=q.elapsedTime+=B}i=(W.progress||0)+U/this._memoizedDuration,i=i>1?1:i<0?0:i,q.durationProgress=i}T=m+W.easing(i)*(C-m),y=(T-q.lastPosition)/B,D=i==1}else if(W.decay){let i=W.decay===!0?0.998:W.decay,u=Math.exp(-(1-i)*U);T=m+S/(1-i)*(1-u),D=Math.abs(q.lastPosition-T)<=b,y=S*u}else{y=q.lastVelocity==null?S:q.lastVelocity;let i=W.restVelocity||b/10,u=W.clamp?0:W.bounce,$Y=!n.und(u),jY=m==C?q.v0>0:m<C,ZY,yY=!1,qY=1,_K=Math.ceil(B/qY);for(let BK=0;BK<_K;++BK){if(ZY=Math.abs(y)>i,!ZY){if(D=Math.abs(C-T)<=b,D)break}if($Y){if(yY=T==C||T>C==jY,yY)y=-y*u,T=C}let RK=-W.tension*0.000001*(T-C),z_=-W.friction*0.001*y,KY=(RK+z_)/W.mass;y=y+KY*qY,T=T+y*qY}}if(q.lastVelocity=y,Number.isNaN(T))console.warn("Got NaN while animating:",this),D=!0}if(Z&&!Z[w].done)D=!1;if(D)q.done=!0;else O=!1;if(q.setValue(T,W.round))z=!0});let L=c_(this),Q=L.getValue();if(O){let q=fK(I.to);if((Q!==q||z)&&!W.decay)L.setValue(q),this._onChange(q);else if(z&&W.decay)this._onChange(Q);this._stop()}else if(z)this._onChange(Q)}set(B){return NY.batchedUpdates(()=>{this._stop(),this._focus(B),this._set(B)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(b$(this)){let{to:B,config:O}=this.animation;NY.batchedUpdates(()=>{if(this._onStart(),!O.decay)this._set(B,!1);this._stop()})}return this}update(B){return(this.queue||(this.queue=[])).push(B),this}start(B,O){let z;if(!n.und(B))z=[n.obj(B)?B:{...O,to:B}];else z=this.queue||[],this.queue=[];return Promise.all(z.map((I)=>{return this._update(I)})).then((I)=>uP(this,I))}stop(B){let{to:O}=this.animation;return this._focus(this.get()),_z(this._state,B&&this._lastCallId),NY.batchedUpdates(()=>this._stop(O,B)),this}reset(){this._update({reset:!0})}eventObserved(B){if(B.type=="change")this._start();else if(B.type=="priority")this.priority=B.priority+1}_prepareNode(B){let O=this.key||"",{to:z,from:I}=B;if(z=n.obj(z)?z[O]:z,z==null||vP(z))z=void 0;if(I=n.obj(I)?I[O]:I,I==null)I=void 0;let P={to:z,from:I};if(!jP(this)){if(B.reverse)[z,I]=[I,z];if(I=fK(I),!n.und(I))this._set(I);else if(!c_(this))this._set(z)}return P}_update({...B},O){let{key:z,defaultProps:I}=this;if(B.default)Object.assign(I,lP(B,(Z,L)=>/^on/.test(L)?PQ(Z,z):Z));XQ(this,B,"onProps"),eX(this,"onProps",B,this);let P=this._prepareNode(B);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let W=this._state;return NQ(++this._lastCallId,{key:z,props:B,defaultProps:I,state:W,actions:{pause:()=>{if(!rX(this))HQ(this,!0),b1(W.pauseQueue),eX(this,"onPause",vB(this,tX(this,this.animation.to)),this)},resume:()=>{if(rX(this)){if(HQ(this,!1),b$(this))this._resume();b1(W.resumeQueue),eX(this,"onResume",vB(this,tX(this,this.animation.to)),this)}},start:this._merge.bind(this,P)}}).then((Z)=>{if(B.loop&&Z.finished&&!(O&&Z.noop)){let L=LQ(B);if(L)return this._update(L,!0)}return Z})}_merge(B,O,z){if(O.cancel)return this.stop(!0),z(IO(this));let I=!n.und(B.to),P=!n.und(B.from);if(I||P)if(O.callId>this._lastToId)this._lastToId=O.callId;else return z(IO(this));let{key:W,defaultProps:Z,animation:L}=this,{to:Q,from:q}=L,{to:w=Q,from:C=q}=B;if(P&&!I&&(!O.default||n.und(w)))w=C;if(O.reverse)[w,C]=[C,w];let D=!jB(C,q);if(D)L.from=C;C=fK(C);let T=!jB(w,Q);if(T)this._focus(w);let U=vP(O.to),{config:m}=L,{decay:S,velocity:y}=m;if(I||P)m.velocity=0;if(O.config&&!U)hE(m,v1(O.config,W),O.config!==Z.config?v1(Z.config,W):void 0);let b=c_(this);if(!b||n.und(w))return z(vB(this,!0));let i=n.und(O.reset)?P&&!O.default:!n.und(C)&&Yz(O.reset,W),u=i?C:this.get(),$Y=Kz(w),jY=n.num($Y)||n.arr($Y)||j$($Y),ZY=!U&&(!jY||Yz(Z.immediate||O.immediate,W));if(T){let BK=aX(w);if(BK!==b.constructor)if(ZY)b=this._set($Y);else throw Error(`Cannot animate between ${b.constructor.name} and ${BK.name}, as the "to" prop suggests`)}let yY=b.constructor,qY=X_(w),_K=!1;if(!qY){let BK=i||!jP(this)&&D;if(T||BK)_K=jB(Kz(u),$Y),qY=!_K;if(!jB(L.immediate,ZY)&&!ZY||!jB(m.decay,S)||!jB(m.velocity,y))qY=!0}if(_K&&b$(this)){if(L.changed&&!i)qY=!0;else if(!qY)this._stop(Q)}if(!U){if(qY||X_(Q))L.values=b.getPayload(),L.toValues=X_(w)?null:yY==zO?[1]:vK($Y);if(L.immediate!=ZY){if(L.immediate=ZY,!ZY&&!i)this._set(Q)}if(qY){let{onRest:BK}=L;JY(pE,(z_)=>XQ(this,O,z_));let RK=vB(this,tX(this,Q));if(b1(this._pendingCalls,RK),this._pendingCalls.add(z),L.changed)NY.batchedUpdates(()=>{if(L.changed=!i,BK?.(RK,this),i)v1(Z.onRest,RK);else L.onStart?.(RK,this)})}}if(i)this._set(u);if(U)z(JQ(O.to,O,this._state,this));else if(qY)this._start();else if(b$(this)&&!T)this._pendingCalls.add(z);else z(ZQ(u))}_focus(B){let O=this.animation;if(B!==O.to){if(yP(this))this._detach();if(O.to=B,yP(this))this._attach()}}_attach(){let B=0,{to:O}=this.animation;if(X_(O)){if(bB(O,this),mP(O))B=O.priority+1}this.priority=B}_detach(){let{to:B}=this.animation;if(X_(B))o0(B,this)}_set(B,O=!0){let z=fK(B);if(!n.und(z)){let I=c_(this);if(!I||!jB(z,I.getValue())){let P=aX(z);if(!I||I.constructor!=P)oX(this,P.create(z));else I.setValue(z);if(I)NY.batchedUpdates(()=>{this._onChange(z,O)})}}return c_(this)}_onStart(){let B=this.animation;if(!B.changed)B.changed=!0,eX(this,"onStart",vB(this,tX(this,B.to)),this)}_onChange(B,O){if(!O)this._onStart(),v1(this.animation.onChange,B,this);v1(this.defaultProps.onChange,B,this),super._onChange(B,O)}_start(){let B=this.animation;if(c_(this).reset(fK(B.to)),!B.immediate)B.fromValues=B.values.map((O)=>O.lastPosition);if(!b$(this)){if($Q(this,!0),!rX(this))this._resume()}}_resume(){if(bK.skipAnimation)this.finish();else i0.start(this)}_stop(B,O){if(b$(this)){$Q(this,!1);let z=this.animation;if(JY(z.values,(P)=>{P.done=!0}),z.toValues)z.onChange=z.onPause=z.onResume=void 0;n0(this,{type:"idle",parent:this});let I=O?IO(this.get()):vB(this.get(),tX(this,B??z.to));if(b1(this._pendingCalls,I),z.changed)z.changed=!1,eX(this,"onRest",I,this)}}};function tX(B,O){let z=Kz(O),I=Kz(B.get());return jB(I,z)}function LQ(B,O=B.loop,z=B.to){let I=v1(O);if(I){let P=I!==!0&&WQ(I),W=(P||B).reverse,Z=!P||P.reset;return Bz({...B,loop:O,default:!1,pause:void 0,to:!W||vP(z)?z:void 0,from:Z?B.from:void 0,reset:Z,...P})}}function Bz(B){let{to:O,from:z}=B=WQ(B),I=new Set;if(n.obj(O))OQ(O,I);if(n.obj(z))OQ(z,I);return B.keys=I.size?Array.from(I):null,B}function uE(B){let O=Bz(B);if(n.und(O.default))O.default=lP(O);return O}function OQ(B,O){eK(B,(z,I)=>z!=null&&O.add(I))}var pE=["onStart","onRest","onChange","onPause","onResume"];function XQ(B,O,z){B.animation[z]=O[z]!==GQ(O,z)?PQ(O[z],B.key):void 0}function eX(B,O,...z){B.animation[O]?.(...z),B.defaultProps[O]?.(...z)}var iE=["onStart","onChange","onRest"],nE=1,oE=class{constructor(B,O){if(this.id=nE++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),O)this._flush=O;if(B)this.start({default:!0,...B})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((B)=>{return B.idle&&!B.isDelayed&&!B.isPaused})}get item(){return this._item}set item(B){this._item=B}get(){let B={};return this.each((O,z)=>B[z]=O.get()),B}set(B){for(let O in B){let z=B[O];if(!n.und(z))this.springs[O].set(z)}}update(B){if(B)this.queue.push(Bz(B));return this}start(B){let{queue:O}=this;if(B)O=vK(B).map(Bz);else this.queue=[];if(this._flush)return this._flush(this,O);return AQ(this,O),cP(this,O)}stop(B,O){if(B!==!!B)O=B;if(O){let z=this.springs;JY(vK(O),(I)=>z[I].stop(!!B))}else _z(this._state,this._lastAsyncId),this.each((z)=>z.stop(!!B));return this}pause(B){if(n.und(B))this.start({pause:!0});else{let O=this.springs;JY(vK(B),(z)=>O[z].pause())}return this}resume(B){if(n.und(B))this.start({pause:!1});else{let O=this.springs;JY(vK(B),(z)=>O[z].resume())}return this}each(B){eK(this.springs,B)}_onFrame(){let{onStart:B,onChange:O,onRest:z}=this._events,I=this._active.size>0,P=this._changed.size>0;if(I&&!this._started||P&&!this._started)this._started=!0,j1(B,([L,Q])=>{Q.value=this.get(),L(Q,this,this._item)});let W=!I&&this._started,Z=P||W&&z.size?this.get():null;if(P&&O.size)j1(O,([L,Q])=>{Q.value=Z,L(Q,this,this._item)});if(W)this._started=!1,j1(z,([L,Q])=>{Q.value=Z,L(Q,this,this._item)})}eventObserved(B){if(B.type=="change"){if(this._changed.add(B.parent),!B.idle)this._active.add(B.parent)}else if(B.type=="idle")this._active.delete(B.parent);else return;NY.onFrame(this._onFrame)}};function cP(B,O){return Promise.all(O.map((z)=>qQ(B,z))).then((z)=>uP(B,z))}async function qQ(B,O,z){let{keys:I,to:P,from:W,loop:Z,onRest:L,onResolve:Q}=O,q=n.obj(O.default)&&O.default;if(Z)O.loop=!1;if(P===!1)O.to=null;if(W===!1)O.from=null;let w=n.arr(P)||n.fun(P)?P:void 0;if(w){if(O.to=void 0,O.onRest=void 0,q)q.onRest=void 0}else JY(iE,(m)=>{let S=O[m];if(n.fun(S)){let y=B._events[m];if(O[m]=({finished:b,cancelled:i})=>{let u=y.get(S);if(u){if(!b)u.finished=!1;if(i)u.cancelled=!0}else y.set(S,{value:null,finished:b||!1,cancelled:i||!1})},q)q[m]=O[m]}});let C=B._state;if(O.pause===!C.paused)C.paused=O.pause,b1(O.pause?C.pauseQueue:C.resumeQueue);else if(C.paused)O.pause=!0;let D=(I||Object.keys(B.springs)).map((m)=>B.springs[m].start(O)),T=O.cancel===!0||GQ(O,"cancel")===!0;if(w||T&&C.asyncId)D.push(NQ(++B._lastAsyncId,{props:O,state:C,actions:{pause:s2,resume:s2,start(m,S){if(T)_z(C,B._lastAsyncId),S(IO(B));else m.onRest=L,S(JQ(w,m,C,B))}}}));if(C.paused)await new Promise((m)=>{C.resumeQueue.add(m)});let U=uP(B,await Promise.all(D));if(Z&&U.finished&&!(z&&U.noop)){let m=LQ(O,Z,P);if(m)return AQ(B,[m]),qQ(B,m,!0)}if(Q)NY.batchedUpdates(()=>Q(U,B,B.item));return U}function zQ(B,O){let z={...B.springs};if(O)JY(vK(O),(I)=>{if(n.und(I.keys))I=Bz(I);if(!n.obj(I.to))I={...I,to:void 0};wQ(z,I,(P)=>{return CQ(P)})});return RQ(B,z),z}function RQ(B,O){eK(O,(z,I)=>{if(!B.springs[I])B.springs[I]=z,bB(z,B)})}function CQ(B,O){let z=new lE;if(z.key=B,O)bB(z,O);return z}function wQ(B,O,z){if(O.keys)JY(O.keys,(I)=>{(B[I]||(B[I]=z(I)))._prepareNode(O)})}function AQ(B,O){JY(O,(z)=>{wQ(B.springs,z,(I)=>{return CQ(I,B)})})}var O7=({children:B,...O})=>{let z=EQ.useContext($7),I=O.pause||!!z.pause,P=O.immediate||!!z.immediate;O=pJ(()=>({pause:I,immediate:P}),[I,P]);let{Provider:W}=$7;return H7.createElement(W,{value:O},B)},$7=sE(O7,{});O7.Provider=$7.Provider;O7.Consumer=$7.Consumer;function sE(B,O){return Object.assign(B,H7.createContext(O)),B.Provider._context=B,B.Consumer._context=B,B}var aE=()=>{let B=[],O=function(I){cJ();let P=[];return JY(B,(W,Z)=>{if(n.und(I))P.push(W.start());else{let L=z(I,W,Z);if(L)P.push(W.start(L))}}),P};O.current=B,O.add=function(I){if(!B.includes(I))B.push(I)},O.delete=function(I){let P=B.indexOf(I);if(~P)B.splice(P,1)},O.pause=function(){return JY(B,(I)=>I.pause(...arguments)),this},O.resume=function(){return JY(B,(I)=>I.resume(...arguments)),this},O.set=function(I){JY(B,(P,W)=>{let Z=n.fun(I)?I(W,P):I;if(Z)P.set(Z)})},O.start=function(I){let P=[];return JY(B,(W,Z)=>{if(n.und(I))P.push(W.start());else{let L=this._getProps(I,W,Z);if(L)P.push(W.start(L))}}),P},O.stop=function(){return JY(B,(I)=>I.stop(...arguments)),this},O.update=function(I){return JY(B,(P,W)=>P.update(this._getProps(I,P,W))),this};let z=function(I,P,W){return n.fun(I)?I(W,P):I};return O._getProps=z,O};function X7(B,O,z){let I=n.fun(O)&&O;if(I&&!z)z=[];let P=J0.useMemo(()=>I||arguments.length==3?aE():void 0,[]),W=J0.useRef(0),Z=iX(),L=J0.useMemo(()=>({ctrls:[],queue:[],flush(y,b){let i=zQ(y,b);return W.current>0&&!L.queue.length&&!Object.keys(i).some(($Y)=>!y.springs[$Y])?cP(y,b):new Promise(($Y)=>{RQ(y,i),L.queue.push(()=>{$Y(cP(y,b))}),Z()})}}),[]),Q=J0.useRef([...L.ctrls]),q=[],w=_7(B)||0;J0.useMemo(()=>{JY(Q.current.slice(B,w),(y)=>{bE(y,P),y.stop(!0)}),Q.current.length=B,C(w,B)},[B]),J0.useMemo(()=>{C(0,Math.min(w,B))},z);function C(y,b){for(let i=y;i<b;i++){let u=Q.current[i]||(Q.current[i]=new oE(null,L.flush)),$Y=I?I(i,u):O[i];if($Y)q[i]=uE($Y)}}let D=Q.current.map((y,b)=>zQ(y,q[b])),T=J0.useContext(O7),U=_7(T),m=T!==U&&jE(T);NB(()=>{W.current++,L.ctrls=Q.current;let{queue:y}=L;if(y.length)L.queue=[],JY(y,(b)=>b());JY(Q.current,(b,i)=>{if(P?.add(b),m)b.start({default:T});let u=q[i];if(u)if(vE(b,u.ref),b.ref)b.queue.push(u);else b.start(u)})}),HO(()=>()=>{JY(L.ctrls,(y)=>y.stop(!0))});let S=D.map((y)=>({...y}));return P?[S,P]:S}function PO(B,O){let z=n.fun(B),[[I],P]=X7(1,z?B:[B],z?O||[]:O);return z||arguments.length==2?[I,P]:I}var tE=class extends pP{constructor(B,O){super();this.source=B,this.idle=!0,this._active=new Set,this.calc=g$(...O);let z=this._get(),I=aX(z);oX(this,I.create(z))}advance(B){let O=this._get(),z=this.get();if(!jB(O,z))c_(this).setValue(O),this._onChange(O,this.idle);if(!this.idle&&IQ(this._active))bP(this)}_get(){let B=n.arr(this.source)?this.source.map(fK):vK(fK(this.source));return this.calc(...B)}_start(){if(this.idle&&!IQ(this._active))if(this.idle=!1,JY(OO(this),(B)=>{B.done=!1}),bK.skipAnimation)NY.batchedUpdates(()=>this.advance()),bP(this);else i0.start(this)}_attach(){let B=1;JY(vK(this.source),(O)=>{if(X_(O))bB(O,this);if(mP(O)){if(!O.idle)this._active.add(O);B=Math.max(B,O.priority+1)}}),this.priority=B,this._start()}_detach(){JY(vK(this.source),(B)=>{if(X_(B))o0(B,this)}),this._active.clear(),bP(this)}eventObserved(B){if(B.type=="change")if(B.idle)this.advance();else this._active.add(B.parent),this._start();else if(B.type=="idle")this._active.delete(B.parent);else if(B.type=="priority")this.priority=vK(this.source).reduce((O,z)=>Math.max(O,(mP(z)?z.priority:0)+1),0)}};function eE(B){return B.idle!==!1}function IQ(B){return!B.size||Array.from(B).every(eE)}function bP(B){if(!B.idle)B.idle=!0,JY(OO(B),(O)=>{O.done=!0}),n0(B,{type:"idle",parent:B})}bK.assign({createStringInterpolator:e2,to:(B,O)=>new tE(B,O)});var rU=i0.advance;var DQ=l(tI(),1);var MQ=/^--/;function YV(B,O){if(O==null||typeof O==="boolean"||O==="")return"";if(typeof O==="number"&&O!==0&&!MQ.test(B)&&!($z.hasOwnProperty(B)&&$z[B]))return O+"px";return(""+O).trim()}var FQ={};function KV(B,O){if(!B.nodeType||!B.setAttribute)return!1;let z=B.nodeName==="filter"||B.parentNode&&B.parentNode.nodeName==="filter",{className:I,style:P,children:W,scrollTop:Z,scrollLeft:L,viewBox:Q,...q}=O,w=Object.values(q),C=Object.keys(q).map((D)=>z||B.hasAttribute(D)?D:FQ[D]||(FQ[D]=D.replace(/([A-Z])/g,(T)=>"-"+T.toLowerCase())));if(W!==void 0)B.textContent=W;for(let D in P)if(P.hasOwnProperty(D)){let T=YV(D,P[D]);if(MQ.test(D))B.style.setProperty(D,T);else B.style[D]=T}if(C.forEach((D,T)=>{B.setAttribute(D,w[T])}),I!==void 0)B.className=I;if(Z!==void 0)B.scrollTop=Z;if(L!==void 0)B.scrollLeft=L;if(Q!==void 0)B.setAttribute("viewBox",Q)}var $z={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_V=(B,O)=>B+O.charAt(0).toUpperCase()+O.substring(1),BV=["Webkit","Ms","Moz","O"];$z=Object.keys($z).reduce((B,O)=>{return BV.forEach((z)=>B[_V(z,O)]=B[O]),B},$z);var $V=/^(matrix|translate|scale|rotate|skew)/,HV=/^(translate)/,OV=/^(rotate|skew)/,nP=(B,O)=>n.num(B)&&B!==0?B+O:B,z7=(B,O)=>n.arr(B)?B.every((z)=>z7(z,O)):n.num(B)?B===O:parseFloat(B)===O,XV=class extends sX{constructor({x:B,y:O,z,...I}){let P=[],W=[];if(B||O||z)P.push([B||0,O||0,z||0]),W.push((Z)=>[`translate3d(${Z.map((L)=>nP(L,"px")).join(",")})`,z7(Z,0)]);if(eK(I,(Z,L)=>{if(L==="transform")P.push([Z||""]),W.push((Q)=>[Q,Q===""]);else if($V.test(L)){if(delete I[L],n.und(Z))return;let Q=HV.test(L)?"px":OV.test(L)?"deg":"";P.push(vK(Z)),W.push(L==="rotate3d"?([q,w,C,D])=>[`rotate3d(${q},${w},${C},${nP(D,Q)})`,z7(D,0)]:(q)=>[`${L}(${q.map((w)=>nP(w,Q)).join(",")})`,z7(q,L.startsWith("scale")?1:0)])}}),P.length)I.transform=new zV(P,W);super(I)}},zV=class extends r2{constructor(B,O){super();this.inputs=B,this.transforms=O,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let B="",O=!0;return JY(this.inputs,(z,I)=>{let P=fK(z[0]),[W,Z]=this.transforms[I](n.arr(P)?P:z.map(fK));B+=" "+W,O=O&&Z}),O?"none":B}observerAdded(B){if(B==1)JY(this.inputs,(O)=>JY(O,(z)=>X_(z)&&bB(z,this)))}observerRemoved(B){if(B==0)JY(this.inputs,(O)=>JY(O,(z)=>X_(z)&&o0(z,this)))}eventObserved(B){if(B.type=="change")this._value=null;n0(this,B)}},IV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];bK.assign({batchedUpdates:DQ.unstable_batchedUpdates,createStringInterpolator:e2,colors:fJ});var PV=eJ(IV,{applyAnimatedValues:KV,createAnimatedStyle:(B)=>new XV(B),getComponentProps:({scrollTop:B,scrollLeft:O,...z})=>z}),v$=PV.animated;var AG=l(yQ(),1);var jQ="acacia",LV=function B(O){return O===3?"v3":O},bQ="https://js.stripe.com",qV="".concat(bQ,"/").concat(jQ,"/stripe.js"),RV=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,CV=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,kQ="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",wV=function B(O){return RV.test(O)||CV.test(O)},AV=function B(){var O=document.querySelectorAll('script[src^="'.concat(bQ,'"]'));for(var z=0;z<O.length;z++){var I=O[z];if(!wV(I.src))continue;return I}return null},gQ=function B(O){var z=O&&!O.advancedFraudSignals?"?advancedFraudSignals=false":"",I=document.createElement("script");I.src="".concat(qV).concat(z);var P=document.head||document.body;if(!P)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return P.appendChild(I),I},EV=function B(O,z){if(!O||!O._registerWrapper)return;O._registerWrapper({name:"stripe-js",version:"6.1.0",startTime:z})},Oz=null,I7=null,P7=null,VV=function B(O){return function(z){O(new Error("Failed to load Stripe.js",{cause:z}))}},xV=function B(O,z){return function(){if(window.Stripe)O(window.Stripe);else z(new Error("Stripe.js not available"))}},FV=function B(O){if(Oz!==null)return Oz;return Oz=new Promise(function(z,I){if(typeof window==="undefined"||typeof document==="undefined"){z(null);return}if(window.Stripe&&O)console.warn(kQ);if(window.Stripe){z(window.Stripe);return}try{var P=AV();if(P&&O)console.warn(kQ);else if(!P)P=gQ(O);else if(P&&P7!==null&&I7!==null){var W;P.removeEventListener("load",P7),P.removeEventListener("error",I7),(W=P.parentNode)===null||W===void 0||W.removeChild(P),P=gQ(O)}P7=xV(z,I),I7=VV(I),P.addEventListener("load",P7),P.addEventListener("error",I7)}catch(Z){I(Z);return}}),Oz.catch(function(z){return Oz=null,Promise.reject(z)})},DV=function B(O,z,I){if(O===null)return null;var P=z[0],W=P.match(/^pk_test/),Z=LV(O.version),L=jQ;if(W&&Z!==L)console.warn("Stripe.js@".concat(Z," was loaded on the page, but @stripe/stripe-js@").concat("6.1.0"," expected Stripe.js@").concat(L,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var Q=O.apply(void 0,z);return EV(Q,I),Q},Xz,vQ=!1,fQ=function B(){if(Xz)return Xz;return Xz=FV(null).catch(function(O){return Xz=null,Promise.reject(O)}),Xz};Promise.resolve().then(function(){return fQ()}).catch(function(B){if(!vQ)console.warn(B)});var sP=function B(){for(var O=arguments.length,z=new Array(O),I=0;I<O;I++)z[I]=arguments[I];vQ=!0;var P=Date.now();return fQ().then(function(W){return DV(W,z,P)})};function zz(B,O){return function z(){return B.apply(O,arguments)}}var{toString:MV}=Object.prototype,{getPrototypeOf:rP}=Object,W7=((B)=>(O)=>{let z=MV.call(O);return B[z]||(B[z]=z.slice(8,-1).toLowerCase())})(Object.create(null)),fB=(B)=>{return B=B.toLowerCase(),(O)=>W7(O)===B},N7=(B)=>(O)=>typeof O===B,{isArray:GO}=Array,Iz=N7("undefined");function UV(B){return B!==null&&!Iz(B)&&B.constructor!==null&&!Iz(B.constructor)&&l_(B.constructor.isBuffer)&&B.constructor.isBuffer(B)}var hQ=fB("ArrayBuffer");function SV(B){let O;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)O=ArrayBuffer.isView(B);else O=B&&B.buffer&&hQ(B.buffer);return O}var TV=N7("string"),l_=N7("function"),dQ=N7("number"),Z7=(B)=>B!==null&&typeof B==="object",yV=(B)=>B===!0||B===!1,G7=(B)=>{if(W7(B)!=="object")return!1;let O=rP(B);return(O===null||O===Object.prototype||Object.getPrototypeOf(O)===null)&&!(Symbol.toStringTag in B)&&!(Symbol.iterator in B)},kV=fB("Date"),gV=fB("File"),jV=fB("Blob"),bV=fB("FileList"),vV=(B)=>Z7(B)&&l_(B.pipe),fV=(B)=>{let O;return B&&(typeof FormData==="function"&&B instanceof FormData||l_(B.append)&&((O=W7(B))==="formdata"||O==="object"&&l_(B.toString)&&B.toString()==="[object FormData]"))},mV=fB("URLSearchParams"),[hV,dV,cV,lV]=["ReadableStream","Request","Response","Headers"].map(fB),uV=(B)=>B.trim?B.trim():B.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pz(B,O,{allOwnKeys:z=!1}={}){if(B===null||typeof B==="undefined")return;let I,P;if(typeof B!=="object")B=[B];if(GO(B))for(I=0,P=B.length;I<P;I++)O.call(null,B[I],I,B);else{let W=z?Object.getOwnPropertyNames(B):Object.keys(B),Z=W.length,L;for(I=0;I<Z;I++)L=W[I],O.call(null,B[L],L,B)}}function cQ(B,O){O=O.toLowerCase();let z=Object.keys(B),I=z.length,P;while(I-- >0)if(P=z[I],O===P.toLowerCase())return P;return null}var m1=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:global})(),lQ=(B)=>!Iz(B)&&B!==m1;function aP(){let{caseless:B}=lQ(this)&&this||{},O={},z=(I,P)=>{let W=B&&cQ(O,P)||P;if(G7(O[W])&&G7(I))O[W]=aP(O[W],I);else if(G7(I))O[W]=aP({},I);else if(GO(I))O[W]=I.slice();else O[W]=I};for(let I=0,P=arguments.length;I<P;I++)arguments[I]&&Pz(arguments[I],z);return O}var pV=(B,O,z,{allOwnKeys:I}={})=>{return Pz(O,(P,W)=>{if(z&&l_(P))B[W]=zz(P,z);else B[W]=P},{allOwnKeys:I}),B},iV=(B)=>{if(B.charCodeAt(0)===65279)B=B.slice(1);return B},nV=(B,O,z,I)=>{B.prototype=Object.create(O.prototype,I),B.prototype.constructor=B,Object.defineProperty(B,"super",{value:O.prototype}),z&&Object.assign(B.prototype,z)},oV=(B,O,z,I)=>{let P,W,Z,L={};if(O=O||{},B==null)return O;do{P=Object.getOwnPropertyNames(B),W=P.length;while(W-- >0)if(Z=P[W],(!I||I(Z,B,O))&&!L[Z])O[Z]=B[Z],L[Z]=!0;B=z!==!1&&rP(B)}while(B&&(!z||z(B,O))&&B!==Object.prototype);return O},sV=(B,O,z)=>{if(B=String(B),z===void 0||z>B.length)z=B.length;z-=O.length;let I=B.indexOf(O,z);return I!==-1&&I===z},aV=(B)=>{if(!B)return null;if(GO(B))return B;let O=B.length;if(!dQ(O))return null;let z=new Array(O);while(O-- >0)z[O]=B[O];return z},rV=((B)=>{return(O)=>{return B&&O instanceof B}})(typeof Uint8Array!=="undefined"&&rP(Uint8Array)),tV=(B,O)=>{let I=(B&&B[Symbol.iterator]).call(B),P;while((P=I.next())&&!P.done){let W=P.value;O.call(B,W[0],W[1])}},eV=(B,O)=>{let z,I=[];while((z=B.exec(O))!==null)I.push(z);return I},Yx=fB("HTMLFormElement"),Kx=(B)=>{return B.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function O(z,I,P){return I.toUpperCase()+P})},mQ=(({hasOwnProperty:B})=>(O,z)=>B.call(O,z))(Object.prototype),_x=fB("RegExp"),uQ=(B,O)=>{let z=Object.getOwnPropertyDescriptors(B),I={};Pz(z,(P,W)=>{let Z;if((Z=O(P,W,B))!==!1)I[W]=Z||P}),Object.defineProperties(B,I)},Bx=(B)=>{uQ(B,(O,z)=>{if(l_(B)&&["arguments","caller","callee"].indexOf(z)!==-1)return!1;let I=B[z];if(!l_(I))return;if(O.enumerable=!1,"writable"in O){O.writable=!1;return}if(!O.set)O.set=()=>{throw Error("Can not rewrite read-only method '"+z+"'")}})},$x=(B,O)=>{let z={},I=(P)=>{P.forEach((W)=>{z[W]=!0})};return GO(B)?I(B):I(String(B).split(O)),z},Hx=()=>{},Ox=(B,O)=>{return B!=null&&Number.isFinite(B=+B)?B:O};function Xx(B){return!!(B&&l_(B.append)&&B[Symbol.toStringTag]==="FormData"&&B[Symbol.iterator])}var zx=(B)=>{let O=new Array(10),z=(I,P)=>{if(Z7(I)){if(O.indexOf(I)>=0)return;if(!("toJSON"in I)){O[P]=I;let W=GO(I)?[]:{};return Pz(I,(Z,L)=>{let Q=z(Z,P+1);!Iz(Q)&&(W[L]=Q)}),O[P]=void 0,W}}return I};return z(B,0)},Ix=fB("AsyncFunction"),Px=(B)=>B&&(Z7(B)||l_(B))&&l_(B.then)&&l_(B.catch),pQ=((B,O)=>{if(B)return setImmediate;return O?((z,I)=>{return m1.addEventListener("message",({source:P,data:W})=>{if(P===m1&&W===z)I.length&&I.shift()()},!1),(P)=>{I.push(P),m1.postMessage(z,"*")}})(`axios@${Math.random()}`,[]):(z)=>setTimeout(z)})(typeof setImmediate==="function",l_(m1.postMessage)),Gx=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(m1):typeof process!=="undefined"&&process.nextTick||pQ,k={isArray:GO,isArrayBuffer:hQ,isBuffer:UV,isFormData:fV,isArrayBufferView:SV,isString:TV,isNumber:dQ,isBoolean:yV,isObject:Z7,isPlainObject:G7,isReadableStream:hV,isRequest:dV,isResponse:cV,isHeaders:lV,isUndefined:Iz,isDate:kV,isFile:gV,isBlob:jV,isRegExp:_x,isFunction:l_,isStream:vV,isURLSearchParams:mV,isTypedArray:rV,isFileList:bV,forEach:Pz,merge:aP,extend:pV,trim:uV,stripBOM:iV,inherits:nV,toFlatObject:oV,kindOf:W7,kindOfTest:fB,endsWith:sV,toArray:aV,forEachEntry:tV,matchAll:eV,isHTMLForm:Yx,hasOwnProperty:mQ,hasOwnProp:mQ,reduceDescriptors:uQ,freezeMethods:Bx,toObjectSet:$x,toCamelCase:Kx,noop:Hx,toFiniteNumber:Ox,findKey:cQ,global:m1,isContextDefined:lQ,isSpecCompliantForm:Xx,toJSONObject:zx,isAsyncFn:Ix,isThenable:Px,setImmediate:pQ,asap:Gx};function WO(B,O,z,I,P){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack;if(this.message=B,this.name="AxiosError",O&&(this.code=O),z&&(this.config=z),I&&(this.request=I),P)this.response=P,this.status=P.status?P.status:null}k.inherits(WO,Error,{toJSON:function B(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});var iQ=WO.prototype,nQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((B)=>{nQ[B]={value:B}});Object.defineProperties(WO,nQ);Object.defineProperty(iQ,"isAxiosError",{value:!0});WO.from=(B,O,z,I,P,W)=>{let Z=Object.create(iQ);return k.toFlatObject(B,Z,function L(Q){return Q!==Error.prototype},(L)=>{return L!=="isAxiosError"}),WO.call(Z,B.message,O,z,I,P),Z.cause=B,Z.name=B.name,W&&Object.assign(Z,W),Z};var QY=WO;var J7=null;function tP(B){return k.isPlainObject(B)||k.isArray(B)}function sQ(B){return k.endsWith(B,"[]")?B.slice(0,-2):B}function oQ(B,O,z){if(!B)return O;return B.concat(O).map(function I(P,W){return P=sQ(P),!z&&W?"["+P+"]":P}).join(z?".":"")}function Wx(B){return k.isArray(B)&&!B.some(tP)}var Nx=k.toFlatObject(k,{},null,function B(O){return/^is[A-Z]/.test(O)});function Zx(B,O,z){if(!k.isObject(B))throw new TypeError("target must be an object");O=O||new(J7||FormData),z=k.toFlatObject(z,{metaTokens:!0,dots:!1,indexes:!1},!1,function U(m,S){return!k.isUndefined(S[m])});let I=z.metaTokens,P=z.visitor||w,W=z.dots,Z=z.indexes,Q=(z.Blob||typeof Blob!=="undefined"&&Blob)&&k.isSpecCompliantForm(O);if(!k.isFunction(P))throw new TypeError("visitor must be a function");function q(U){if(U===null)return"";if(k.isDate(U))return U.toISOString();if(!Q&&k.isBlob(U))throw new QY("Blob is not supported. Use a Buffer instead.");if(k.isArrayBuffer(U)||k.isTypedArray(U))return Q&&typeof Blob==="function"?new Blob([U]):Buffer.from(U);return U}function w(U,m,S){let y=U;if(U&&!S&&typeof U==="object"){if(k.endsWith(m,"{}"))m=I?m:m.slice(0,-2),U=JSON.stringify(U);else if(k.isArray(U)&&Wx(U)||(k.isFileList(U)||k.endsWith(m,"[]"))&&(y=k.toArray(U)))return m=sQ(m),y.forEach(function b(i,u){!(k.isUndefined(i)||i===null)&&O.append(Z===!0?oQ([m],u,W):Z===null?m:m+"[]",q(i))}),!1}if(tP(U))return!0;return O.append(oQ(S,m,W),q(U)),!1}let C=[],D=Object.assign(Nx,{defaultVisitor:w,convertValue:q,isVisitable:tP});function T(U,m){if(k.isUndefined(U))return;if(C.indexOf(U)!==-1)throw Error("Circular reference detected in "+m.join("."));C.push(U),k.forEach(U,function S(y,b){if((!(k.isUndefined(y)||y===null)&&P.call(O,y,k.isString(b)?b.trim():b,m,D))===!0)T(y,m?m.concat(b):[b])}),C.pop()}if(!k.isObject(B))throw new TypeError("data must be an object");return T(B),O}var f$=Zx;function aQ(B){let O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(B).replace(/[!'()~]|%20|%00/g,function z(I){return O[I]})}function rQ(B,O){this._pairs=[],B&&f$(B,this,O)}var tQ=rQ.prototype;tQ.append=function B(O,z){this._pairs.push([O,z])};tQ.toString=function B(O){let z=O?function(I){return O.call(this,I,aQ)}:aQ;return this._pairs.map(function I(P){return z(P[0])+"="+z(P[1])},"").join("&")};var Q7=rQ;function Jx(B){return encodeURIComponent(B).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gz(B,O,z){if(!O)return B;let I=z&&z.encode||Jx;if(k.isFunction(z))z={serialize:z};let P=z&&z.serialize,W;if(P)W=P(O,z);else W=k.isURLSearchParams(O)?O.toString():new Q7(O,z).toString(I);if(W){let Z=B.indexOf("#");if(Z!==-1)B=B.slice(0,Z);B+=(B.indexOf("?")===-1?"?":"&")+W}return B}class eQ{constructor(){this.handlers=[]}use(B,O,z){return this.handlers.push({fulfilled:B,rejected:O,synchronous:z?z.synchronous:!1,runWhen:z?z.runWhen:null}),this.handlers.length-1}eject(B){if(this.handlers[B])this.handlers[B]=null}clear(){if(this.handlers)this.handlers=[]}forEach(B){k.forEach(this.handlers,function O(z){if(z!==null)B(z)})}}var eP=eQ;var L7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var YL=typeof URLSearchParams!=="undefined"?URLSearchParams:Q7;var KL=typeof FormData!=="undefined"?FormData:null;var _L=typeof Blob!=="undefined"?Blob:null;var BL={isBrowser:!0,classes:{URLSearchParams:YL,FormData:KL,Blob:_L},protocols:["http","https","file","blob","url","data"]};var _G={};Qw(_G,{origin:()=>qx,navigator:()=>YG,hasStandardBrowserWebWorkerEnv:()=>Lx,hasStandardBrowserEnv:()=>Qx,hasBrowserEnv:()=>KG});var KG=typeof window!=="undefined"&&typeof document!=="undefined",YG=typeof navigator==="object"&&navigator||void 0,Qx=KG&&(!YG||["ReactNative","NativeScript","NS"].indexOf(YG.product)<0),Lx=(()=>{return typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function"})(),qx=KG&&window.location.href||"http://localhost";var wK={..._G,...BL};function BG(B,O){return f$(B,new wK.classes.URLSearchParams,Object.assign({visitor:function(z,I,P,W){if(wK.isNode&&k.isBuffer(z))return this.append(I,z.toString("base64")),!1;return W.defaultVisitor.apply(this,arguments)}},O))}function Rx(B){return k.matchAll(/\w+|\[(\w*)]/g,B).map((O)=>{return O[0]==="[]"?"":O[1]||O[0]})}function Cx(B){let O={},z=Object.keys(B),I,P=z.length,W;for(I=0;I<P;I++)W=z[I],O[W]=B[W];return O}function wx(B){function O(z,I,P,W){let Z=z[W++];if(Z==="__proto__")return!0;let L=Number.isFinite(+Z),Q=W>=z.length;if(Z=!Z&&k.isArray(P)?P.length:Z,Q){if(k.hasOwnProp(P,Z))P[Z]=[P[Z],I];else P[Z]=I;return!L}if(!P[Z]||!k.isObject(P[Z]))P[Z]=[];if(O(z,I,P[Z],W)&&k.isArray(P[Z]))P[Z]=Cx(P[Z]);return!L}if(k.isFormData(B)&&k.isFunction(B.entries)){let z={};return k.forEachEntry(B,(I,P)=>{O(Rx(I),P,z,0)}),z}return null}var q7=wx;function Ax(B,O,z){if(k.isString(B))try{return(O||JSON.parse)(B),k.trim(B)}catch(I){if(I.name!=="SyntaxError")throw I}return(z||JSON.stringify)(B)}var $G={transitional:L7,adapter:["xhr","http","fetch"],transformRequest:[function B(O,z){let I=z.getContentType()||"",P=I.indexOf("application/json")>-1,W=k.isObject(O);if(W&&k.isHTMLForm(O))O=new FormData(O);if(k.isFormData(O))return P?JSON.stringify(q7(O)):O;if(k.isArrayBuffer(O)||k.isBuffer(O)||k.isStream(O)||k.isFile(O)||k.isBlob(O)||k.isReadableStream(O))return O;if(k.isArrayBufferView(O))return O.buffer;if(k.isURLSearchParams(O))return z.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),O.toString();let L;if(W){if(I.indexOf("application/x-www-form-urlencoded")>-1)return BG(O,this.formSerializer).toString();if((L=k.isFileList(O))||I.indexOf("multipart/form-data")>-1){let Q=this.env&&this.env.FormData;return f$(L?{"files[]":O}:O,Q&&new Q,this.formSerializer)}}if(W||P)return z.setContentType("application/json",!1),Ax(O);return O}],transformResponse:[function B(O){let z=this.transitional||$G.transitional,I=z&&z.forcedJSONParsing,P=this.responseType==="json";if(k.isResponse(O)||k.isReadableStream(O))return O;if(O&&k.isString(O)&&(I&&!this.responseType||P)){let Z=!(z&&z.silentJSONParsing)&&P;try{return JSON.parse(O)}catch(L){if(Z){if(L.name==="SyntaxError")throw QY.from(L,QY.ERR_BAD_RESPONSE,this,null,this.response);throw L}}}return O}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wK.classes.FormData,Blob:wK.classes.Blob},validateStatus:function B(O){return O>=200&&O<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],(B)=>{$G.headers[B]={}});var NO=$G;var Ex=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$L=(B)=>{let O={},z,I,P;return B&&B.split(`
`).forEach(function W(Z){if(P=Z.indexOf(":"),z=Z.substring(0,P).trim().toLowerCase(),I=Z.substring(P+1).trim(),!z||O[z]&&Ex[z])return;if(z==="set-cookie")if(O[z])O[z].push(I);else O[z]=[I];else O[z]=O[z]?O[z]+", "+I:I}),O};var HL=Symbol("internals");function Wz(B){return B&&String(B).trim().toLowerCase()}function R7(B){if(B===!1||B==null)return B;return k.isArray(B)?B.map(R7):String(B)}function Vx(B){let O=Object.create(null),z=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,I;while(I=z.exec(B))O[I[1]]=I[2];return O}var xx=(B)=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(B.trim());function HG(B,O,z,I,P){if(k.isFunction(I))return I.call(this,O,z);if(P)O=z;if(!k.isString(O))return;if(k.isString(I))return O.indexOf(I)!==-1;if(k.isRegExp(I))return I.test(O)}function Fx(B){return B.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(O,z,I)=>{return z.toUpperCase()+I})}function Dx(B,O){let z=k.toCamelCase(" "+O);["get","set","has"].forEach((I)=>{Object.defineProperty(B,I+z,{value:function(P,W,Z){return this[I].call(this,O,P,W,Z)},configurable:!0})})}class Nz{constructor(B){B&&this.set(B)}set(B,O,z){let I=this;function P(Z,L,Q){let q=Wz(L);if(!q)throw new Error("header name must be a non-empty string");let w=k.findKey(I,q);if(!w||I[w]===void 0||Q===!0||Q===void 0&&I[w]!==!1)I[w||L]=R7(Z)}let W=(Z,L)=>k.forEach(Z,(Q,q)=>P(Q,q,L));if(k.isPlainObject(B)||B instanceof this.constructor)W(B,O);else if(k.isString(B)&&(B=B.trim())&&!xx(B))W($L(B),O);else if(k.isHeaders(B))for(let[Z,L]of B.entries())P(L,Z,z);else B!=null&&P(O,B,z);return this}get(B,O){if(B=Wz(B),B){let z=k.findKey(this,B);if(z){let I=this[z];if(!O)return I;if(O===!0)return Vx(I);if(k.isFunction(O))return O.call(this,I,z);if(k.isRegExp(O))return O.exec(I);throw new TypeError("parser must be boolean|regexp|function")}}}has(B,O){if(B=Wz(B),B){let z=k.findKey(this,B);return!!(z&&this[z]!==void 0&&(!O||HG(this,this[z],z,O)))}return!1}delete(B,O){let z=this,I=!1;function P(W){if(W=Wz(W),W){let Z=k.findKey(z,W);if(Z&&(!O||HG(z,z[Z],Z,O)))delete z[Z],I=!0}}if(k.isArray(B))B.forEach(P);else P(B);return I}clear(B){let O=Object.keys(this),z=O.length,I=!1;while(z--){let P=O[z];if(!B||HG(this,this[P],P,B,!0))delete this[P],I=!0}return I}normalize(B){let O=this,z={};return k.forEach(this,(I,P)=>{let W=k.findKey(z,P);if(W){O[W]=R7(I),delete O[P];return}let Z=B?Fx(P):String(P).trim();if(Z!==P)delete O[P];O[Z]=R7(I),z[Z]=!0}),this}concat(...B){return this.constructor.concat(this,...B)}toJSON(B){let O=Object.create(null);return k.forEach(this,(z,I)=>{z!=null&&z!==!1&&(O[I]=B&&k.isArray(z)?z.join(", "):z)}),O}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([B,O])=>B+": "+O).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(B){return B instanceof this?B:new this(B)}static concat(B,...O){let z=new this(B);return O.forEach((I)=>z.set(I)),z}static accessor(B){let z=(this[HL]=this[HL]={accessors:{}}).accessors,I=this.prototype;function P(W){let Z=Wz(W);if(!z[Z])Dx(I,W),z[Z]=!0}return k.isArray(B)?B.forEach(P):P(B),this}}Nz.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(Nz.prototype,({value:B},O)=>{let z=O[0].toUpperCase()+O.slice(1);return{get:()=>B,set(I){this[z]=I}}});k.freezeMethods(Nz);var mK=Nz;function Zz(B,O){let z=this||NO,I=O||z,P=mK.from(I.headers),W=I.data;return k.forEach(B,function Z(L){W=L.call(z,W,P.normalize(),O?O.status:void 0)}),P.normalize(),W}function Jz(B){return!!(B&&B.__CANCEL__)}function OL(B,O,z){QY.call(this,B==null?"canceled":B,QY.ERR_CANCELED,O,z),this.name="CanceledError"}k.inherits(OL,QY,{__CANCEL__:!0});var Q0=OL;function Qz(B,O,z){let I=z.config.validateStatus;if(!z.status||!I||I(z.status))B(z);else O(new QY("Request failed with status code "+z.status,[QY.ERR_BAD_REQUEST,QY.ERR_BAD_RESPONSE][Math.floor(z.status/100)-4],z.config,z.request,z))}function OG(B){let O=/^([-+\w]{1,25})(:?\/\/|:)/.exec(B);return O&&O[1]||""}function Mx(B,O){B=B||10;let z=new Array(B),I=new Array(B),P=0,W=0,Z;return O=O!==void 0?O:1000,function L(Q){let q=Date.now(),w=I[W];if(!Z)Z=q;z[P]=Q,I[P]=q;let C=W,D=0;while(C!==P)D+=z[C++],C=C%B;if(P=(P+1)%B,P===W)W=(W+1)%B;if(q-Z<O)return;let T=w&&q-w;return T?Math.round(D*1000/T):void 0}}var XL=Mx;function Ux(B,O){let z=0,I=1000/O,P,W,Z=(q,w=Date.now())=>{if(z=w,P=null,W)clearTimeout(W),W=null;B.apply(null,q)};return[(...q)=>{let w=Date.now(),C=w-z;if(C>=I)Z(q,w);else if(P=q,!W)W=setTimeout(()=>{W=null,Z(P)},I-C)},()=>P&&Z(P)]}var zL=Ux;var ZO=(B,O,z=3)=>{let I=0,P=XL(50,250);return zL((W)=>{let Z=W.loaded,L=W.lengthComputable?W.total:void 0,Q=Z-I,q=P(Q),w=Z<=L;I=Z;let C={loaded:Z,total:L,progress:L?Z/L:void 0,bytes:Q,rate:q?q:void 0,estimated:q&&L&&w?(L-Z)/q:void 0,event:W,lengthComputable:L!=null,[O?"download":"upload"]:!0};B(C)},z)},XG=(B,O)=>{let z=B!=null;return[(I)=>O[0]({lengthComputable:z,total:B,loaded:I}),O[1]]},zG=(B)=>(...O)=>k.asap(()=>B(...O));var IL=wK.hasStandardBrowserEnv?((B,O)=>(z)=>{return z=new URL(z,wK.origin),B.protocol===z.protocol&&B.host===z.host&&(O||B.port===z.port)})(new URL(wK.origin),wK.navigator&&/(msie|trident)/i.test(wK.navigator.userAgent)):()=>!0;var PL=wK.hasStandardBrowserEnv?{write(B,O,z,I,P,W){let Z=[B+"="+encodeURIComponent(O)];k.isNumber(z)&&Z.push("expires="+new Date(z).toGMTString()),k.isString(I)&&Z.push("path="+I),k.isString(P)&&Z.push("domain="+P),W===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read(B){let O=document.cookie.match(new RegExp("(^|;\\s*)("+B+")=([^;]*)"));return O?decodeURIComponent(O[3]):null},remove(B){this.write(B,"",Date.now()-86400000)}}:{write(){},read(){return null},remove(){}};function IG(B){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(B)}function PG(B,O){return O?B.replace(/\/?\/$/,"")+"/"+O.replace(/^\/+/,""):B}function Lz(B,O,z){let I=!IG(O);if(B&&I||z==!1)return PG(B,O);return O}var GL=(B)=>B instanceof mK?{...B}:B;function mB(B,O){O=O||{};let z={};function I(q,w,C,D){if(k.isPlainObject(q)&&k.isPlainObject(w))return k.merge.call({caseless:D},q,w);else if(k.isPlainObject(w))return k.merge({},w);else if(k.isArray(w))return w.slice();return w}function P(q,w,C,D){if(!k.isUndefined(w))return I(q,w,C,D);else if(!k.isUndefined(q))return I(void 0,q,C,D)}function W(q,w){if(!k.isUndefined(w))return I(void 0,w)}function Z(q,w){if(!k.isUndefined(w))return I(void 0,w);else if(!k.isUndefined(q))return I(void 0,q)}function L(q,w,C){if(C in O)return I(q,w);else if(C in B)return I(void 0,q)}let Q={url:W,method:W,data:W,baseURL:Z,transformRequest:Z,transformResponse:Z,paramsSerializer:Z,timeout:Z,timeoutMessage:Z,withCredentials:Z,withXSRFToken:Z,adapter:Z,responseType:Z,xsrfCookieName:Z,xsrfHeaderName:Z,onUploadProgress:Z,onDownloadProgress:Z,decompress:Z,maxContentLength:Z,maxBodyLength:Z,beforeRedirect:Z,transport:Z,httpAgent:Z,httpsAgent:Z,cancelToken:Z,socketPath:Z,responseEncoding:Z,validateStatus:L,headers:(q,w,C)=>P(GL(q),GL(w),C,!0)};return k.forEach(Object.keys(Object.assign({},B,O)),function q(w){let C=Q[w]||P,D=C(B[w],O[w],w);k.isUndefined(D)&&C!==L||(z[w]=D)}),z}var C7=(B)=>{let O=mB({},B),{data:z,withXSRFToken:I,xsrfHeaderName:P,xsrfCookieName:W,headers:Z,auth:L}=O;if(O.headers=Z=mK.from(Z),O.url=Gz(Lz(O.baseURL,O.url,O.allowAbsoluteUrls),B.params,B.paramsSerializer),L)Z.set("Authorization","Basic "+btoa((L.username||"")+":"+(L.password?unescape(encodeURIComponent(L.password)):"")));let Q;if(k.isFormData(z)){if(wK.hasStandardBrowserEnv||wK.hasStandardBrowserWebWorkerEnv)Z.setContentType(void 0);else if((Q=Z.getContentType())!==!1){let[q,...w]=Q?Q.split(";").map((C)=>C.trim()).filter(Boolean):[];Z.setContentType([q||"multipart/form-data",...w].join("; "))}}if(wK.hasStandardBrowserEnv){if(I&&k.isFunction(I)&&(I=I(O)),I||I!==!1&&IL(O.url)){let q=P&&W&&PL.read(W);if(q)Z.set(P,q)}}return O};var Sx=typeof XMLHttpRequest!=="undefined",WL=Sx&&function(B){return new Promise(function O(z,I){let P=C7(B),W=P.data,Z=mK.from(P.headers).normalize(),{responseType:L,onUploadProgress:Q,onDownloadProgress:q}=P,w,C,D,T,U;function m(){T&&T(),U&&U(),P.cancelToken&&P.cancelToken.unsubscribe(w),P.signal&&P.signal.removeEventListener("abort",w)}let S=new XMLHttpRequest;S.open(P.method.toUpperCase(),P.url,!0),S.timeout=P.timeout;function y(){if(!S)return;let i=mK.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),$Y={data:!L||L==="text"||L==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:i,config:B,request:S};Qz(function jY(ZY){z(ZY),m()},function jY(ZY){I(ZY),m()},$Y),S=null}if("onloadend"in S)S.onloadend=y;else S.onreadystatechange=function i(){if(!S||S.readyState!==4)return;if(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))return;setTimeout(y)};if(S.onabort=function i(){if(!S)return;I(new QY("Request aborted",QY.ECONNABORTED,B,S)),S=null},S.onerror=function i(){I(new QY("Network Error",QY.ERR_NETWORK,B,S)),S=null},S.ontimeout=function i(){let u=P.timeout?"timeout of "+P.timeout+"ms exceeded":"timeout exceeded",$Y=P.transitional||L7;if(P.timeoutErrorMessage)u=P.timeoutErrorMessage;I(new QY(u,$Y.clarifyTimeoutError?QY.ETIMEDOUT:QY.ECONNABORTED,B,S)),S=null},W===void 0&&Z.setContentType(null),"setRequestHeader"in S)k.forEach(Z.toJSON(),function i(u,$Y){S.setRequestHeader($Y,u)});if(!k.isUndefined(P.withCredentials))S.withCredentials=!!P.withCredentials;if(L&&L!=="json")S.responseType=P.responseType;if(q)[D,U]=ZO(q,!0),S.addEventListener("progress",D);if(Q&&S.upload)[C,T]=ZO(Q),S.upload.addEventListener("progress",C),S.upload.addEventListener("loadend",T);if(P.cancelToken||P.signal){if(w=(i)=>{if(!S)return;I(!i||i.type?new Q0(null,B,S):i),S.abort(),S=null},P.cancelToken&&P.cancelToken.subscribe(w),P.signal)P.signal.aborted?w():P.signal.addEventListener("abort",w)}let b=OG(P.url);if(b&&wK.protocols.indexOf(b)===-1){I(new QY("Unsupported protocol "+b+":",QY.ERR_BAD_REQUEST,B));return}S.send(W||null)})};var Tx=(B,O)=>{let{length:z}=B=B?B.filter(Boolean):[];if(O||z){let I=new AbortController,P,W=function(q){if(!P){P=!0,L();let w=q instanceof Error?q:this.reason;I.abort(w instanceof QY?w:new Q0(w instanceof Error?w.message:w))}},Z=O&&setTimeout(()=>{Z=null,W(new QY(`timeout ${O} of ms exceeded`,QY.ETIMEDOUT))},O),L=()=>{if(B)Z&&clearTimeout(Z),Z=null,B.forEach((q)=>{q.unsubscribe?q.unsubscribe(W):q.removeEventListener("abort",W)}),B=null};B.forEach((q)=>q.addEventListener("abort",W));let{signal:Q}=I;return Q.unsubscribe=()=>k.asap(L),Q}},NL=Tx;var yx=function*(B,O){let z=B.byteLength;if(!O||z<O){yield B;return}let I=0,P;while(I<z)P=I+O,yield B.slice(I,P),I=P},kx=async function*(B,O){for await(let z of gx(B))yield*yx(z,O)},gx=async function*(B){if(B[Symbol.asyncIterator]){yield*B;return}let O=B.getReader();try{for(;;){let{done:z,value:I}=await O.read();if(z)break;yield I}}finally{await O.cancel()}},GG=(B,O,z,I)=>{let P=kx(B,O),W=0,Z,L=(Q)=>{if(!Z)Z=!0,I&&I(Q)};return new ReadableStream({async pull(Q){try{let{done:q,value:w}=await P.next();if(q){L(),Q.close();return}let C=w.byteLength;if(z){let D=W+=C;z(D)}Q.enqueue(new Uint8Array(w))}catch(q){throw L(q),q}},cancel(Q){return L(Q),P.return()}},{highWaterMark:2})};var A7=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function",JL=A7&&typeof ReadableStream==="function",jx=A7&&(typeof TextEncoder==="function"?((B)=>(O)=>B.encode(O))(new TextEncoder):async(B)=>new Uint8Array(await new Response(B).arrayBuffer())),QL=(B,...O)=>{try{return!!B(...O)}catch(z){return!1}},bx=JL&&QL(()=>{let B=!1,O=new Request(wK.origin,{body:new ReadableStream,method:"POST",get duplex(){return B=!0,"half"}}).headers.has("Content-Type");return B&&!O}),ZL=65536,WG=JL&&QL(()=>k.isReadableStream(new Response("").body)),w7={stream:WG&&((B)=>B.body)};A7&&((B)=>{["text","arrayBuffer","blob","formData","stream"].forEach((O)=>{!w7[O]&&(w7[O]=k.isFunction(B[O])?(z)=>z[O]():(z,I)=>{throw new QY(`Response type '${O}' is not supported`,QY.ERR_NOT_SUPPORT,I)})})})(new Response);var vx=async(B)=>{if(B==null)return 0;if(k.isBlob(B))return B.size;if(k.isSpecCompliantForm(B))return(await new Request(wK.origin,{method:"POST",body:B}).arrayBuffer()).byteLength;if(k.isArrayBufferView(B)||k.isArrayBuffer(B))return B.byteLength;if(k.isURLSearchParams(B))B=B+"";if(k.isString(B))return(await jx(B)).byteLength},fx=async(B,O)=>{let z=k.toFiniteNumber(B.getContentLength());return z==null?vx(O):z},LL=A7&&(async(B)=>{let{url:O,method:z,data:I,signal:P,cancelToken:W,timeout:Z,onDownloadProgress:L,onUploadProgress:Q,responseType:q,headers:w,withCredentials:C="same-origin",fetchOptions:D}=C7(B);q=q?(q+"").toLowerCase():"text";let T=NL([P,W&&W.toAbortSignal()],Z),U,m=T&&T.unsubscribe&&(()=>{T.unsubscribe()}),S;try{if(Q&&bx&&z!=="get"&&z!=="head"&&(S=await fx(w,I))!==0){let $Y=new Request(O,{method:"POST",body:I,duplex:"half"}),jY;if(k.isFormData(I)&&(jY=$Y.headers.get("content-type")))w.setContentType(jY);if($Y.body){let[ZY,yY]=XG(S,ZO(zG(Q)));I=GG($Y.body,ZL,ZY,yY)}}if(!k.isString(C))C=C?"include":"omit";let y="credentials"in Request.prototype;U=new Request(O,{...D,signal:T,method:z.toUpperCase(),headers:w.normalize().toJSON(),body:I,duplex:"half",credentials:y?C:void 0});let b=await fetch(U),i=WG&&(q==="stream"||q==="response");if(WG&&(L||i&&m)){let $Y={};["status","statusText","headers"].forEach((qY)=>{$Y[qY]=b[qY]});let jY=k.toFiniteNumber(b.headers.get("content-length")),[ZY,yY]=L&&XG(jY,ZO(zG(L),!0))||[];b=new Response(GG(b.body,ZL,ZY,()=>{yY&&yY(),m&&m()}),$Y)}q=q||"text";let u=await w7[k.findKey(w7,q)||"text"](b,B);return!i&&m&&m(),await new Promise(($Y,jY)=>{Qz($Y,jY,{data:u,headers:mK.from(b.headers),status:b.status,statusText:b.statusText,config:B,request:U})})}catch(y){if(m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message))throw Object.assign(new QY("Network Error",QY.ERR_NETWORK,B,U),{cause:y.cause||y});throw QY.from(y,y&&y.code,B,U)}});var NG={http:J7,xhr:WL,fetch:LL};k.forEach(NG,(B,O)=>{if(B){try{Object.defineProperty(B,"name",{value:O})}catch(z){}Object.defineProperty(B,"adapterName",{value:O})}});var qL=(B)=>`- ${B}`,mx=(B)=>k.isFunction(B)||B===null||B===!1,E7={getAdapter:(B)=>{B=k.isArray(B)?B:[B];let{length:O}=B,z,I,P={};for(let W=0;W<O;W++){z=B[W];let Z;if(I=z,!mx(z)){if(I=NG[(Z=String(z)).toLowerCase()],I===void 0)throw new QY(`Unknown adapter '${Z}'`)}if(I)break;P[Z||"#"+W]=I}if(!I){let W=Object.entries(P).map(([L,Q])=>`adapter ${L} `+(Q===!1?"is not supported by the environment":"is not available in the build")),Z=O?W.length>1?`since :
`+W.map(qL).join(`
`):" "+qL(W[0]):"as no adapter specified";throw new QY("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return I},adapters:NG};function ZG(B){if(B.cancelToken)B.cancelToken.throwIfRequested();if(B.signal&&B.signal.aborted)throw new Q0(null,B)}function V7(B){if(ZG(B),B.headers=mK.from(B.headers),B.data=Zz.call(B,B.transformRequest),["post","put","patch"].indexOf(B.method)!==-1)B.headers.setContentType("application/x-www-form-urlencoded",!1);return E7.getAdapter(B.adapter||NO.adapter)(B).then(function z(I){return ZG(B),I.data=Zz.call(B,B.transformResponse,I),I.headers=mK.from(I.headers),I},function z(I){if(!Jz(I)){if(ZG(B),I&&I.response)I.response.data=Zz.call(B,B.transformResponse,I.response),I.response.headers=mK.from(I.response.headers)}return Promise.reject(I)})}var x7="1.8.3";var F7={};["object","boolean","number","function","string","symbol"].forEach((B,O)=>{F7[B]=function z(I){return typeof I===B||"a"+(O<1?"n ":" ")+B}});var RL={};F7.transitional=function B(O,z,I){function P(W,Z){return"[Axios v"+x7+"] Transitional option '"+W+"'"+Z+(I?". "+I:"")}return(W,Z,L)=>{if(O===!1)throw new QY(P(Z," has been removed"+(z?" in "+z:"")),QY.ERR_DEPRECATED);if(z&&!RL[Z])RL[Z]=!0,console.warn(P(Z," has been deprecated since v"+z+" and will be removed in the near future"));return O?O(W,Z,L):!0}};F7.spelling=function B(O){return(z,I)=>{return console.warn(`${I} is likely a misspelling of ${O}`),!0}};function hx(B,O,z){if(typeof B!=="object")throw new QY("options must be an object",QY.ERR_BAD_OPTION_VALUE);let I=Object.keys(B),P=I.length;while(P-- >0){let W=I[P],Z=O[W];if(Z){let L=B[W],Q=L===void 0||Z(L,W,B);if(Q!==!0)throw new QY("option "+W+" must be "+Q,QY.ERR_BAD_OPTION_VALUE);continue}if(z!==!0)throw new QY("Unknown option "+W,QY.ERR_BAD_OPTION)}}var qz={assertOptions:hx,validators:F7};var L0=qz.validators;class Rz{constructor(B){this.defaults=B,this.interceptors={request:new eP,response:new eP}}async request(B,O){try{return await this._request(B,O)}catch(z){if(z instanceof Error){let I={};Error.captureStackTrace?Error.captureStackTrace(I):I=new Error;let P=I.stack?I.stack.replace(/^.+\n/,""):"";try{if(!z.stack)z.stack=P;else if(P&&!String(z.stack).endsWith(P.replace(/^.+\n.+\n/,"")))z.stack+=`
`+P}catch(W){}}throw z}}_request(B,O){if(typeof B==="string")O=O||{},O.url=B;else O=B||{};O=mB(this.defaults,O);let{transitional:z,paramsSerializer:I,headers:P}=O;if(z!==void 0)qz.assertOptions(z,{silentJSONParsing:L0.transitional(L0.boolean),forcedJSONParsing:L0.transitional(L0.boolean),clarifyTimeoutError:L0.transitional(L0.boolean)},!1);if(I!=null)if(k.isFunction(I))O.paramsSerializer={serialize:I};else qz.assertOptions(I,{encode:L0.function,serialize:L0.function},!0);if(O.allowAbsoluteUrls!==void 0);else if(this.defaults.allowAbsoluteUrls!==void 0)O.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls;else O.allowAbsoluteUrls=!0;qz.assertOptions(O,{baseUrl:L0.spelling("baseURL"),withXsrfToken:L0.spelling("withXSRFToken")},!0),O.method=(O.method||this.defaults.method||"get").toLowerCase();let W=P&&k.merge(P.common,P[O.method]);P&&k.forEach(["delete","get","head","post","put","patch","common"],(T)=>{delete P[T]}),O.headers=mK.concat(W,P);let Z=[],L=!0;this.interceptors.request.forEach(function T(U){if(typeof U.runWhen==="function"&&U.runWhen(O)===!1)return;L=L&&U.synchronous,Z.unshift(U.fulfilled,U.rejected)});let Q=[];this.interceptors.response.forEach(function T(U){Q.push(U.fulfilled,U.rejected)});let q,w=0,C;if(!L){let T=[V7.bind(this),void 0];T.unshift.apply(T,Z),T.push.apply(T,Q),C=T.length,q=Promise.resolve(O);while(w<C)q=q.then(T[w++],T[w++]);return q}C=Z.length;let D=O;w=0;while(w<C){let T=Z[w++],U=Z[w++];try{D=T(D)}catch(m){U.call(this,m);break}}try{q=V7.call(this,D)}catch(T){return Promise.reject(T)}w=0,C=Q.length;while(w<C)q=q.then(Q[w++],Q[w++]);return q}getUri(B){B=mB(this.defaults,B);let O=Lz(B.baseURL,B.url,B.allowAbsoluteUrls);return Gz(O,B.params,B.paramsSerializer)}}k.forEach(["delete","get","head","options"],function B(O){Rz.prototype[O]=function(z,I){return this.request(mB(I||{},{method:O,url:z,data:(I||{}).data}))}});k.forEach(["post","put","patch"],function B(O){function z(I){return function P(W,Z,L){return this.request(mB(L||{},{method:O,headers:I?{"Content-Type":"multipart/form-data"}:{},url:W,data:Z}))}}Rz.prototype[O]=z(),Rz.prototype[O+"Form"]=z(!0)});var Cz=Rz;class JG{constructor(B){if(typeof B!=="function")throw new TypeError("executor must be a function.");let O;this.promise=new Promise(function I(P){O=P});let z=this;this.promise.then((I)=>{if(!z._listeners)return;let P=z._listeners.length;while(P-- >0)z._listeners[P](I);z._listeners=null}),this.promise.then=(I)=>{let P,W=new Promise((Z)=>{z.subscribe(Z),P=Z}).then(I);return W.cancel=function Z(){z.unsubscribe(P)},W},B(function I(P,W,Z){if(z.reason)return;z.reason=new Q0(P,W,Z),O(z.reason)})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(B){if(this.reason){B(this.reason);return}if(this._listeners)this._listeners.push(B);else this._listeners=[B]}unsubscribe(B){if(!this._listeners)return;let O=this._listeners.indexOf(B);if(O!==-1)this._listeners.splice(O,1)}toAbortSignal(){let B=new AbortController,O=(z)=>{B.abort(z)};return this.subscribe(O),B.signal.unsubscribe=()=>this.unsubscribe(O),B.signal}static source(){let B;return{token:new JG(function z(I){B=I}),cancel:B}}}var CL=JG;function QG(B){return function O(z){return B.apply(null,z)}}function LG(B){return k.isObject(B)&&B.isAxiosError===!0}var qG={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qG).forEach(([B,O])=>{qG[O]=B});var wL=qG;function AL(B){let O=new Cz(B),z=zz(Cz.prototype.request,O);return k.extend(z,Cz.prototype,O,{allOwnKeys:!0}),k.extend(z,O,null,{allOwnKeys:!0}),z.create=function I(P){return AL(mB(B,P))},z}var yK=AL(NO);yK.Axios=Cz;yK.CanceledError=Q0;yK.CancelToken=CL;yK.isCancel=Jz;yK.VERSION=x7;yK.toFormData=f$;yK.AxiosError=QY;yK.Cancel=yK.CanceledError;yK.all=function B(O){return Promise.all(O)};yK.spread=QG;yK.isAxiosError=LG;yK.mergeConfig=mB;yK.AxiosHeaders=mK;yK.formToJSON=(B)=>q7(k.isHTMLForm(B)?new FormData(B):B);yK.getAdapter=E7.getAdapter;yK.HttpStatusCode=wL;yK.default=yK;var D7=yK;function EL(){return{query:B,touch:O};async function B(z){return(await D7.get(z)).data}async function O(z,I){return(await D7.post(z,I)).data}}var JO=EL();function m$(B,O){if(B)return;throw O}var r0=l(a(),1);function h1({urls:B,msIntervalSleep:O=1e4,animation:z={duration:1e4},style:I,children:P,...W}){let Z=UY.useState(0),L=X7(B.length,B.map((Q,q)=>({transform:`translateX(${100*(q-Z[0])}%)`,config:z})));return UY.useEffect(()=>{let Q=setInterval(()=>Z[1]((q)=>(q+1)%B.length),O);return()=>clearInterval(Q)},[]),r0.jsxDEV(r0.Fragment,{children:r0.jsxDEV("div",{style:{borderRadius:10,boxShadow:u_,position:"relative",overflowX:"hidden",overflowY:"hidden",...I},...W,children:[L.map((Q,q)=>r0.jsxDEV(r0.Fragment,{children:r0.jsxDEV(v$.div,{style:{...Q,position:"absolute",width:"100%",height:"100%",flex:1,backgroundImage:`url(${B[q]})`,backgroundSize:"cover",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat"}},q,!1,void 0,this)},void 0,!1,void 0,this)),r0.jsxDEV("div",{style:{position:"relative",zIndex:"2",width:"100%",height:"100%",flex:1},children:P},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var VL=l(a(),1);var wz=l(a(),1);function xL({msDelay:B=0,animation:O={duration:15000},style:z,children:I,...P}){let W="0",Z="1",L=PO(()=>({opacity:W,delay:B}));return UY.useEffect(()=>{L[1].start({opacity:Z,config:O});return},[]),wz.jsxDEV(wz.Fragment,{children:wz.jsxDEV(v$.div,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...z,...L[0]},...P,children:I},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var DY=["#0C0527","#FAF6F6","#F1D550"];var XK=["Konkhmer Sleokchher","Core Sans A","Maria"];var u_="rgba(0, 0, 0, 0.05) 0px 0px 0px 1px";var Az=l(a(),1);function M7({style:B,children:O,...z}){return Az.jsxDEV(Az.Fragment,{children:Az.jsxDEV("button",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"1em",fontWeight:"normal",fontFamily:XK[1],color:DY[1],boxShadow:u_,background:DY[0],padding:5,borderRadius:5,width:"100%",height:"auto",flexGrow:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Ez=l(a(),1);function d1({style:B,...O}){return Ez.jsxDEV(Ez.Fragment,{children:Ez.jsxDEV("input",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...B},...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Vz=l(a(),1);function U7({style:B,children:O,...z}){return Vz.jsxDEV(Vz.Fragment,{children:Vz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var xz=l(a(),1);function S7({style:B,children:O,...z}){return xz.jsxDEV(xz.Fragment,{children:xz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],boxShadow:u_,padding:20,borderRadius:5,gap:20,background:"white",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var hB=l(a(),1);function T7({sections:B,...O}){return hB.jsxDEV(hB.Fragment,{children:hB.jsxDEV(y7,{...O,children:hB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flex:"1"},children:[hB.jsxDEV(FL,{children:B[0]},void 0,!1,void 0,this),hB.jsxDEV(FL,{children:B[1]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function FL({style:B,children:O,...z}){return hB.jsxDEV(hB.Fragment,{children:hB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flex:"1",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var dB=l(a(),1);function DL({sections:B,...O}){return dB.jsxDEV(dB.Fragment,{children:dB.jsxDEV(y7,{...O,children:[dB.jsxDEV(CG,{children:B[0]},void 0,!1,void 0,this),dB.jsxDEV(CG,{children:B[1]},void 0,!1,void 0,this),dB.jsxDEV(CG,{children:B[2]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function CG({style:B,children:O,...z}){return dB.jsxDEV(dB.Fragment,{children:dB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var c1=l(a(),1);function y7({navbar:B,footer:O,style:z,children:I,...P}){return c1.jsxDEV(c1.Fragment,{children:c1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100vw",height:"100vh",background:"white",...z},...P,children:c1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",minWidth:1024,maxWidth:1440,width:"100%",height:"100%",flex:1,paddingLeft:64,paddingRight:64},children:[B,c1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexGrow:1,width:"100%",height:"100%"},children:I},void 0,!1,void 0,this),O]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Fz=l(a(),1);function wG({style:B,children:O,...z}){return Fz.jsxDEV(Fz.Fragment,{children:Fz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,gap:10,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var cB=l(a(),1);function l1({icon:B,iconStyle:O,childStyle:z,animation:I,fontSizeOnMouseEnter:P="0.6em",fontSizeOnMouseLeave:W="0.7em",style:Z,children:L,...Q}){let q=PO(()=>({fontSize:W}));return cB.jsxDEV(cB.Fragment,{children:cB.jsxDEV("div",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"8px",gap:"5px",textDecorationLine:"none",...Z},...Q,children:[B?cB.jsxDEV(cB.Fragment,{children:cB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundImage:`url(${B})`,backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"15px",aspectRatio:"1 / 1",...O}},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,L?cB.jsxDEV(cB.Fragment,{children:cB.jsxDEV(v$.div,{onMouseEnter:()=>{q[1].start({fontSize:P,config:I});return},onMouseLeave:()=>{q[1].start({fontSize:W,config:I});return},style:{fontWeight:"normal",fontFamily:XK[1],color:DY[0],...q[0],...z},children:L},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var Dz=l(a(),1);function ML({style:B,...O}){return Dz.jsxDEV(Dz.Fragment,{children:Dz.jsxDEV(k7,{url:sI,style:{width:"25px",...B},...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var h$=l(a(),1);function UL({to:B,style:O,children:z,...I}){return h$.jsxDEV(h$.Fragment,{children:h$.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,position:"relative",background:DY[0],borderRadius:"10px",...O},children:[h$.jsxDEV(ML,{style:{position:"absolute",right:"100%",bottom:"100%"}},void 0,!1,void 0,this),h$.jsxDEV(M_,{to:B,children:h$.jsxDEV(l1,{childStyle:{color:DY[1]},children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var QO=l(a(),1);function SL({style:B,...O}){return QO.jsxDEV(QO.Fragment,{children:QO.jsxDEV(M_,{to:"/",style:{display:"contents"},children:QO.jsxDEV(g7,{url:oI,style:{cursor:"pointer",width:"150px",aspectRatio:"2 / 1",...B},...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var p_=l(a(),1);function TL({materials:B,materialFocus:O,toggled:z,style:I,children:P,...W}){return p_.jsxDEV(p_.Fragment,{children:p_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...I},...W,children:[p_.jsxDEV("div",{onClick:()=>z[1](!0),style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],cursor:"pointer"},children:P},void 0,!1,void 0,this),z[0]?p_.jsxDEV(p_.Fragment,{children:p_.jsxDEV("div",{onMouseLeave:()=>z[1](!1),style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"120%",gap:20,padding:10,boxShadow:u_},children:B[0].map((Z)=>p_.jsxDEV(p_.Fragment,{children:p_.jsxDEV(M_,{to:"/show_room",onClick:()=>O[1](Z),children:p_.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"0.75em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],cursor:"pointer"},children:Z},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var Mz=l(a(),1);function j7({materials:B,materialFocus:O,products:z,productFocus:I,user:P,userIsSignedIn:W}){let Z=UY.useState(!1),L=UY.useState(!1),Q=UY.useState("");return Mz.jsxDEV(Mz.Fragment,{children:Mz.jsxDEV(yL,{materials:B,materialFocus:O,materialsDropDownButtonToggled:Z,products:z,productFocus:I,searchBarToggled:L,searchBarInput:Q,user:P,userIsSignedIn:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Uz=l(a(),1);function kL({products:B,productFocus:O,...z}){let I=UY.useState(!1),P=UY.useState(""),W=UY.useState([]);return Uz.jsxDEV(Uz.Fragment,{children:Uz.jsxDEV(gL,{products:B,productFocus:O,toggled:I,input:P,suggestions:W,...z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var U_=l(a(),1);function gL({products:B,productFocus:O,toggled:z,input:I,suggestions:P,style:W,...Z}){return UY.useEffect(()=>{let L=I[0];if(L.trim().length===0){z[1](!0);return}let Q=B[0];Q.map((q)=>({...q,score:AG.get(L,q.name?.toLocaleLowerCase()||"")})).sort((q,w)=>q.score-w.score).slice(0,10),P[1](Q),z[1](!0);return},[I[0]]),U_.jsxDEV(U_.Fragment,{children:U_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",width:"100%",height:"auto",flex:"1",...W},...Z,children:[U_.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",boxShadow:u_,padding:10,flex:1,gap:10},children:[U_.jsxDEV(k7,{url:aI,style:{width:"15px"}},void 0,!1,void 0,this),U_.jsxDEV("input",{value:I[0],onChange:(L)=>I[1](L.target.value),style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:XK[1]}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),z[0]?U_.jsxDEV(U_.Fragment,{children:U_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"100%",width:"100%",height:"auto",flex:1,boxShadow:u_,background:"white"},children:P[0].map((L)=>U_.jsxDEV(U_.Fragment,{children:U_.jsxDEV(jL,{to:"/product",products:B,productFocus:O,suggested:L},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var t0=l(a(),1);function bL({username:B,password:O,response:z,user:I,userIsSignedIn:P,onValidation:W,onSignIn:Z,...L}){return t0.jsxDEV(t0.Fragment,{children:t0.jsxDEV(S7,{...L,children:[t0.jsxDEV(U7,{children:z[0]},void 0,!1,void 0,this),t0.jsxDEV(d1,{value:B[0],placeholder:"Username",onChange:(Q)=>B[1](Q.target.value)},void 0,!1,void 0,this),t0.jsxDEV(d1,{value:O[0],placeholder:"Password",onChange:(Q)=>O[1](Q.target.value)},void 0,!1,void 0,this),t0.jsxDEV(M7,{onClick:async()=>{let Q,q;if([Q,q]=await W(B[0],O[0]),Q===!1){z[1](q);return}if([Q,q]=await Z(B[0],O[0]),Q===!1){z[1](q);return}z[1](null);return},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var ZB=l(a(),1);function vL({username:B,password:O,email:z,response:I,onValidation:P,onSignUp:W,...Z}){return ZB.jsxDEV(ZB.Fragment,{children:ZB.jsxDEV(S7,{...Z,children:[I[0]?ZB.jsxDEV(ZB.Fragment,{children:ZB.jsxDEV(U7,{children:I[0]},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,ZB.jsxDEV(d1,{value:z[0],placeholder:"Email",onChange:(L)=>z[1](L.target.value)},void 0,!1,void 0,this),ZB.jsxDEV(d1,{value:B[0],placeholder:"Username",onChange:(L)=>B[1](L.target.value)},void 0,!1,void 0,this),ZB.jsxDEV(d1,{value:O[0],placeholder:"Password",onChange:(L)=>O[1](L.target.value)},void 0,!1,void 0,this),ZB.jsxDEV(M7,{onClick:async()=>{let L,Q;if([L,Q]=await P(B[0],O[0],z[0]),L===!1){I[1](Q);return}if([L,Q]=await W(B[0],O[0],z[0]),L===!1){I[1](Q);return}I[1](null);return},children:"Sign Up"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var lB=l(a(),1);function fL({user:B,userIsSignedIn:O,...z}){let I=UY.useState(!1),P=UY.useState(!1),W=UY.useState(!1),Z=UY.useState(""),L=UY.useState(""),Q=UY.useState(""),q=UY.useState(null);return lB.jsxDEV(lB.Fragment,{children:lB.jsxDEV(mL,{toggled:I,signUpToggled:P,signInToggled:W,signUpForm:lB.jsxDEV(lB.Fragment,{children:lB.jsxDEV(vL,{username:Z,password:L,email:Q,response:q,onValidation:async(w,C,D)=>{try{return m$(w.trim().length!==0,""),m$(C.trim().length!==0,""),m$(D.trim().length!==0,""),[!0,null]}catch(T){return[!1,String(T)]}},onSignUp:async(w,C,D)=>{if((await JO.touch("/username_is_available",{username:w})).success){let T=await JO.touch("/sign_up",{username:w,password:C,email:D});if(T)return[!1,T];return[!0,null]}return[!1,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),signInForm:lB.jsxDEV(lB.Fragment,{children:lB.jsxDEV(bL,{username:Z,password:L,response:q,user:B,userIsSignedIn:O,onValidation:async(w,C)=>{try{return m$(w.trim().length!==0,""),m$(C.trim().length!==0,""),[!0,null]}catch(D){return[!1,String(D)]}},onSignIn:async(w,C)=>{let D=await JO.touch("/sign_in",{username:w,password:C});if(D)return[!1,D];return[!0,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),...z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var q0=l(a(),1);function mL({toggled:B,signUpToggled:O,signInToggled:z,signUpForm:I,signInForm:P,style:W,...Z}){return q0.jsxDEV(q0.Fragment,{children:q0.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...W},...Z,children:[q0.jsxDEV(l1,{onClick:()=>{B[1](!0),z[1](!1),O[1](!0);return},children:"Sign Up"},void 0,!1,void 0,this),q0.jsxDEV(l1,{onClick:()=>{B[1](!0),z[1](!0),O[1](!1)},style:{fontSize:"0.75em"},children:"Sign In"},void 0,!1,void 0,this),B[0]?q0.jsxDEV(q0.Fragment,{children:q0.jsxDEV("div",{onMouseLeave:()=>{B[1](!1),z[1](!1),O[1](!1);return},style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",right:"-100%",top:"175%",minWidth:"100%",width:400},children:z[0]?P:O[0]?I:void 0},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var e0=l(a(),1);function jL({products:B,productFocus:O,suggested:z,to:I,style:P,...W}){return e0.jsxDEV(e0.Fragment,{children:e0.jsxDEV(M_,{style:{display:"contents"},to:I,children:e0.jsxDEV("div",{onClick:()=>{let L=B[0].filter((Q)=>Q.name===z?.name).at(0)||null;if(L)O[1](L);return},style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,padding:8,cursor:"pointer",...P},...W,children:[e0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:DY[0],fontSize:"1em",fontWeight:"normal",fontFamily:XK[1]},children:z.name},void 0,!1,void 0,this),e0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:DY[0],fontSize:"1em",fontWeight:"normal",fontFamily:XK[1]},children:["",z.price.toFixed(2).toString()]},void 0,!0,void 0,this),e0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:DY[0],fontSize:"1em",fontWeight:"normal",fontFamily:XK[1]},children:[z.stock.toFixed(0)," left"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var S_=l(a(),1);function yL({materials:B,materialFocus:O,materialsDropDownButtonToggled:z,products:I,productFocus:P,searchBarToggled:W,searchBarInput:Z,user:L,userIsSignedIn:Q,style:q,...w}){return S_.jsxDEV(S_.Fragment,{children:S_.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:"auto",flex:1,paddingTop:30,paddingBottom:30,gap:40,zIndex:2000,...q},...w,children:[S_.jsxDEV(SL,{},void 0,!1,void 0,this),S_.jsxDEV(wG,{children:[S_.jsxDEV(UL,{to:"/for_you",children:"For You"},void 0,!1,void 0,this),S_.jsxDEV(TL,{materials:B,materialFocus:O,toggled:z},void 0,!1,void 0,this)]},void 0,!0,void 0,this),S_.jsxDEV(kL,{products:I,productFocus:P},void 0,!1,void 0,this),S_.jsxDEV(wG,{children:[S_.jsxDEV(M_,{to:"/basket",children:S_.jsxDEV(l1,{children:"Basket"},void 0,!1,void 0,this)},void 0,!1,void 0,this),S_.jsxDEV(fL,{user:L,userIsSignedIn:Q},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var Y_=l(a(),1);function hL({orders:B,...O}){let z=UY.useState(0);return UY.useEffect(()=>{if(B[0].length===0)return;let I=0;B[0].forEach((P)=>I+=P.product.price*P.amount),z[1](I);return},[B[0]]),Y_.jsxDEV(Y_.Fragment,{children:Y_.jsxDEV(T7,{sections:[Y_.jsxDEV(Y_.Fragment,{children:Y_.jsxDEV(cL,{style:{width:600,height:800,justifyContent:"start"},caption:"Checkout",headings:["Product","Price","Amount","Edit"],contents:[...B[0].map((I)=>[I.product.name,I.product.price,I.amount,Y_.jsxDEV(Y_.Fragment,{children:Y_.jsxDEV(Sz,{style:{gap:10},children:[Y_.jsxDEV(EG,{onClick:()=>{},children:"-"},void 0,!1,void 0,this),Y_.jsxDEV(EG,{onClick:()=>{},children:"+"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)])]},void 0,!1,void 0,this)},void 0,!1,void 0,this),Y_.jsxDEV(Y_.Fragment,{children:[Y_.jsxDEV(JB,{children:["Total: ",z[0].toPrecision(3)]},void 0,!0,void 0,this),Y_.jsxDEV(dL,{orders:B},void 0,!1,void 0,this)]},void 0,!0,void 0,this)],...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var lY=l(a(),1);function lL({imageUrls:B,...O}){return lY.jsxDEV(lY.Fragment,{children:lY.jsxDEV(T7,{sections:[lY.jsxDEV(lY.Fragment,{children:lY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start",width:"100%",gap:"10px"},children:[lY.jsxDEV(cx,{},void 0,!1,void 0,this),lY.jsxDEV(VG,{heading:"Choose a Style",content:"Select your preferred architectural or design style for a tailored look."},void 0,!1,void 0,this),lY.jsxDEV(VG,{heading:"Instant Visuals",content:"See photorealistic rendering of how materials can be used in your home."},void 0,!1,void 0,this),lY.jsxDEV(VG,{heading:"Confidence",content:"Visualise your project before purchasing... blending creativity with sustainability."},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),lY.jsxDEV(lY.Fragment,{children:lY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},children:[lY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",gap:20},children:[lY.jsxDEV(h1,{style:{width:200,aspectRatio:1},urls:B,msIntervalSleep:15000,animation:{duration:3000}},void 0,!1,void 0,this),lY.jsxDEV(h1,{style:{width:200,aspectRatio:1},urls:B,msIntervalSleep:20000,animation:{duration:3000}},void 0,!1,void 0,this),lY.jsxDEV(h1,{style:{width:200,aspectRatio:1},urls:B,msIntervalSleep:25000,animation:{duration:3000}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),lY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:600},children:lY.jsxDEV(h1,{style:{width:400,height:600},urls:B,msIntervalSleep:30000,animation:{duration:3000}},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)],...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function cx({style:B,...O}){return lY.jsxDEV(lY.Fragment,{children:lY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"3em",gap:"20px",...B},...O,children:[lY.jsxDEV(JB,{style:{textWrap:"nowrap"},children:"Coming Soon..."},void 0,!1,void 0,this),lY.jsxDEV(JB,{style:{textWrap:"nowrap",color:DY[2]},children:"For You"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function VG({heading:B,content:O,style:z,...I}){return lY.jsxDEV(lY.Fragment,{children:lY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",...z},...I,children:[lY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:lY.jsxDEV(JB,{style:{color:DY[2],fontSize:"2em"},children:B},void 0,!1,void 0,this)},void 0,!1,void 0,this),lY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:lY.jsxDEV(JB,{style:{fontSize:"1em"},children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var zK=l(a(),1);function uL({imageCarouselUrls:B,imageCarouselMsIntervalSleep:O,imageCarouselAnimation:z,heading:I,subHeadings:P,cards:W=[],...Z}){return zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(DL,{sections:[zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(h1,{style:{width:"100%",height:"auto",flex:"1",margin:"10px"},urls:B,msIntervalSleep:O,animation:z,children:zK.jsxDEV(xL,{msDelay:1000,animation:{duration:1000},style:{width:"100%"},children:zK.jsxDEV(JB,{style:{fontSize:"9em",color:DY[0]},children:I},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",gap:"10px"},children:P.map((L)=>zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(JB,{style:{fontSize:"4em",color:DY[2],paddingLeft:"30px",paddingRight:"30px"},children:L},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto",flex:"1"},children:W.map((L)=>zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:"1",padding:"30px"},children:[zK.jsxDEV(JB,{style:{fontSize:"2em",color:DY[2],width:"100%",justifyContent:"start",paddingBottom:"20px"},children:L.heading},void 0,!1,void 0,this),zK.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},children:L.content.map((Q)=>zK.jsxDEV(zK.Fragment,{children:zK.jsxDEV(JB,{style:{fontSize:"0.75em",paddingTop:"5px",paddingBottom:"5px"},children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this)],...Z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Tz=l(a(),1),lx=sP("pk_test_51QKRBU2K2roHgsZDHs8cgu29fIqzRlvzF1nmV5mPdSHZhe93bgEQ9HqwoDTderzA7DWwDfFDpiJTMfjqHvgjIDQx00bF0qqWUL");function dL({orders:B}){return Tz.jsxDEV(Tz.Fragment,{children:Tz.jsxDEV("div",{onClick:async()=>{let O=await lx;m$(O!==null,"CHECKOUT_BUTTON.ERR_STRIPE_COULD_NOT_BE_REACHED");let{errcode:z,url:I}=await JO.touch("/checkout",{orders:B[0]});if(z!==null){console.error(z);return}window.location.href=I;return},style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:DY[0],color:DY[1],padding:10,borderRadius:5,cursor:"pointer",width:"100%",height:"auto"},children:"Pay Now"},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var yz=l(a(),1);function k7({style:B,children:O,...z}){return yz.jsxDEV(yz.Fragment,{children:yz.jsxDEV(g7,{style:{aspectRatio:"1 / 1",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var kz=l(a(),1);function g7({url:B,style:O,children:z,...I}){return kz.jsxDEV(kz.Fragment,{children:kz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundImage:`url(${B})`,backgroundSize:"contain",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",...O},...I,children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var gz=l(a(),1);function pL({style:B,children:O,...z}){return gz.jsxDEV(gz.Fragment,{children:gz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],width:"100%",height:"auto",flexGrow:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var jz=l(a(),1);function iL({style:B,children:O,...z}){return jz.jsxDEV(jz.Fragment,{children:jz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"2em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var bz=l(a(),1);function nL({style:B,children:O,...z}){return bz.jsxDEV(bz.Fragment,{children:bz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",fontSize:"1.25em",fontWeight:"normal",fontFamily:XK[1],color:DY[0],width:"100%",height:"auto",flexGrow:1,paddingBottom:10,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var vz=l(a(),1);function Sz({style:B,children:O,...z}){return vz.jsxDEV(vz.Fragment,{children:vz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flexGrow:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var fz=l(a(),1);function xG({style:B,children:O,...z}){return fz.jsxDEV(fz.Fragment,{children:fz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flexGrow:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var mz=l(a(),1);function EG({inverse:B,style:O,children:z,...I}){return mz.jsxDEV(mz.Fragment,{children:mz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,background:B?DY[0]:DY[1],color:B?DY[1]:DY[0],borderRadius:5,fontSize:"1em",fontWeight:"normal",fontFamily:XK[1],boxShadow:u_,cursor:"pointer",...O},...I,children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var hz=l(a(),1);function oL({style:B,children:O,...z}){return hz.jsxDEV(hz.Fragment,{children:hz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",width:"100%",gap:20,overflowX:"hidden",overflowY:"scroll",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var K_=l(a(),1);function cL({caption:B,headings:O,contents:z,style:I,...P}){return K_.jsxDEV(K_.Fragment,{children:K_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...I},...P,children:K_.jsxDEV(oL,{children:[K_.jsxDEV(xG,{children:K_.jsxDEV(iL,{children:B},void 0,!1,void 0,this)},void 0,!1,void 0,this),K_.jsxDEV(xG,{children:O.map((W)=>K_.jsxDEV(K_.Fragment,{children:K_.jsxDEV(Sz,{children:K_.jsxDEV(nL,{children:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this),z.map((W)=>K_.jsxDEV(K_.Fragment,{children:K_.jsxDEV(Sz,{children:K_.jsxDEV(pL,{children:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var dz=l(a(),1);function JB({style:B,children:O,...z}){return dz.jsxDEV(dz.Fragment,{children:dz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:XK[1],...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function sL(B){let O=document.getElementById("root");if(O===null)throw"ERR_MISSING_ROOT_ELEMENT";FG.createRoot(O).render(B)}var aL=l(a(),1);var nY=l(a(),1);function ux(){let B=UY.useState([]),O=UY.useState([]),z=UY.useState(""),I=UY.useState([]),P=UY.useState(null),W=UY.useState(null),Z=UY.useState(!1);return nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(h2,{children:nY.jsxDEV(f2,{children:[nY.jsxDEV(g1,{path:"/",element:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(uL,{imageCarouselUrls:[u0,u0,u0],imageCarouselMsIntervalSleep:3000,imageCarouselAnimation:{duration:30000},heading:"OFFCUTS",subHeadings:["Revive.","Reuse.","Rebuild."],cards:[{heading:"Why Offcuts",content:["Sustainable Solutions: Divert construction waste from landfills while supporting eco-friendly practices.","Affordable Materials: Access high-quality reclaimed materials at a fraction of the cost.","Fast & Easy: List, buy, or request lefttover materials with ease."]},{heading:"For Contractors",content:["Turn your surplus into profit with quick pickups and a seamless listing process."]},{heading:"For Buyers",content:["Find unique, sustainable materials for your next project -- big or small."]}],navbar:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(j7,{materials:O,materialFocus:z,products:I,productFocus:P,user:W,userIsSignedIn:Z},void 0,!1,void 0,this)},void 0,!1,void 0,this),footer:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto"},children:"TODO"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),nY.jsxDEV(g1,{path:"/for_you",element:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(lL,{navbar:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(j7,{materials:O,materialFocus:z,products:I,productFocus:P,user:W,userIsSignedIn:Z},void 0,!1,void 0,this)},void 0,!1,void 0,this),imageUrls:[u0,u0,u0,u0]},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),nY.jsxDEV(g1,{path:"/basket",element:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(hL,{navbar:nY.jsxDEV(nY.Fragment,{children:nY.jsxDEV(j7,{materials:O,materialFocus:z,products:I,productFocus:P,user:W,userIsSignedIn:Z},void 0,!1,void 0,this)},void 0,!1,void 0,this),orders:B},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}sL(nY.jsxDEV(ux,{},void 0,!1,void 0,this));

//# debugId=25A38B4612C73A1764756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi5cXC4uXFxub2RlX21vZHVsZXNcXHJlYWN0XFxjanNcXHJlYWN0LmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxzY2hlZHVsZXJcXGNqc1xcc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGNqc1xccmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGNqc1xccmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xccmVhY3QtZG9tXFxjbGllbnQuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXHJlYWN0LXJvdXRlclxcbm9kZV9tb2R1bGVzXFxjb29raWVcXGRpc3RcXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxmYXN0ZXN0LWxldmVuc2h0ZWluXFxtb2QuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGZhc3QtbGV2ZW5zaHRlaW5cXGxldmVuc2h0ZWluLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdFxcY2pzXFxyZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCAibW9kLnRzeCIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xccmVhY3Qtcm91dGVyXFxkaXN0XFxkZXZlbG9wbWVudFxcY2h1bmstSzZDU0VYUE0ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFxyYWZ6XFxkaXN0XFxyZWFjdC1zcHJpbmdfcmFmei5tb2Rlcm4ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFxzaGFyZWRcXGRpc3RcXHJlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHJlYWN0LXNwcmluZ1xcY29yZVxcZGlzdFxccmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHJlYWN0LXNwcmluZ1xcYW5pbWF0ZWRcXGRpc3RcXHJlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFx3ZWJcXGRpc3RcXHJlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHN0cmlwZVxcc3RyaXBlLWpzXFxkaXN0XFxpbmRleC5tanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGJpbmQuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXHV0aWxzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjb3JlXFxBeGlvc0Vycm9yLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxudWxsLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx0b0Zvcm1EYXRhLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxBeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcYnVpbGRVUkwuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXEludGVyY2VwdG9yTWFuYWdlci5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcZGVmYXVsdHNcXHRyYW5zaXRpb25hbC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxccGxhdGZvcm1cXGJyb3dzZXJcXGNsYXNzZXNcXFVSTFNlYXJjaFBhcmFtcy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxccGxhdGZvcm1cXGJyb3dzZXJcXGNsYXNzZXNcXEZvcm1EYXRhLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcY2xhc3Nlc1xcQmxvYi5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxccGxhdGZvcm1cXGJyb3dzZXJcXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcY29tbW9uXFx1dGlscy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxccGxhdGZvcm1cXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx0b1VSTEVuY29kZWRGb3JtLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxmb3JtRGF0YVRvSlNPTi5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcZGVmYXVsdHNcXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxwYXJzZUhlYWRlcnMuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXEF4aW9zSGVhZGVycy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcdHJhbnNmb3JtRGF0YS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY2FuY2VsXFxpc0NhbmNlbC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY2FuY2VsXFxDYW5jZWxlZEVycm9yLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjb3JlXFxzZXR0bGUuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHBhcnNlUHJvdG9jb2wuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHNwZWVkb21ldGVyLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx0aHJvdHRsZS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xccHJvZ3Jlc3NFdmVudFJlZHVjZXIuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGlzVVJMU2FtZU9yaWdpbi5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcY29va2llcy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcaXNBYnNvbHV0ZVVSTC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcY29tYmluZVVSTHMuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXGJ1aWxkRnVsbFBhdGguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXG1lcmdlQ29uZmlnLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxyZXNvbHZlQ29uZmlnLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxhZGFwdGVyc1xceGhyLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxjb21wb3NlU2lnbmFscy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcdHJhY2tTdHJlYW0uanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGFkYXB0ZXJzXFxmZXRjaC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcYWRhcHRlcnNcXGFkYXB0ZXJzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjb3JlXFxkaXNwYXRjaFJlcXVlc3QuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGVudlxcZGF0YS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcdmFsaWRhdG9yLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjb3JlXFxBeGlvcy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY2FuY2VsXFxDYW5jZWxUb2tlbi5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcc3ByZWFkLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxpc0F4aW9zRXJyb3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXEh0dHBTdGF0dXNDb2RlLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxheGlvcy5qcyIsICJjb21tb25cXHNlcnZlci50cyIsICJjb21tb25cXGNvbnN0YW50XFxicmlkZ2UudHMiLCAiY29tbW9uXFx1dGlsXFxyZXF1aXJlLnRzIiwgImNvbXBvbmVudFxcYW5pbWF0aW9uXFxpbWFnZV9jYXJvdXNlbC50c3giLCAiY29tcG9uZW50XFxhbmltYXRpb25cXHJldmVhbC50c3giLCAiY29tcG9uZW50XFxjb25zdGFudFxcY29sb3IudHN4IiwgImNvbXBvbmVudFxcY29uc3RhbnRcXGZvbnQudHN4IiwgImNvbXBvbmVudFxcY29uc3RhbnRcXHNoYWRvdy50c3giLCAiY29tcG9uZW50XFxmb3JtXFxmb3JtX2J1dHRvbi50c3giLCAiY29tcG9uZW50XFxmb3JtXFxmb3JtX2lucHV0LnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm1fbWVzc2FnZS50c3giLCAiY29tcG9uZW50XFxmb3JtXFxmb3JtLnRzeCIsICJjb21wb25lbnRcXGxheW91dFxccGFnZV93aXRoXzJfaG9yaXpvbnRhbF9zZWN0aW9ucy50c3giLCAiY29tcG9uZW50XFxsYXlvdXRcXHBhZ2Vfd2l0aF8zX3ZlcnRpY2FsX3NlY3Rpb25zLnRzeCIsICJjb21wb25lbnRcXGxheW91dFxccGFnZS50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9idXR0b25fZ3JvdXAudHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbl9pY29uLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbi50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9sb2dvLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X21hdGVyaWFsc19kcm9wX2Rvd25fYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3BhcnRpYWxfYnVpbGQudHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc2VhcmNoX2Jhcl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3NlYXJjaF9iYXIudHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc2lnbl9pbl9mb3JtLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3NpZ25fdXBfZm9ybS50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3NpZ25lcl9kcm9wX2Rvd25fYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3N1Z2dlc3Rpb24udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXYudHN4IiwgImNvbXBvbmVudFxccGFnZVxcYmFza2V0X3BhZ2UudHN4IiwgImNvbXBvbmVudFxccGFnZVxcZm9yX3lvdV9wYWdlLnRzeCIsICJjb21wb25lbnRcXHBhZ2VcXGhvbWVfcGFnZS50c3giLCAiY29tcG9uZW50XFxwYXltZW50XFxjaGVja291dF9idXR0b24udHN4IiwgImNvbXBvbmVudFxcc3ByaXRlXFxzcHJpdGVfaWNvbi50c3giLCAiY29tcG9uZW50XFxzcHJpdGVcXHNwcml0ZS50c3giLCAiY29tcG9uZW50XFx0YWJsZVxcdGFibGVfYm9keS50c3giLCAiY29tcG9uZW50XFx0YWJsZVxcdGFibGVfY2FwdGlvbi50c3giLCAiY29tcG9uZW50XFx0YWJsZVxcdGFibGVfaGVhZGluZy50c3giLCAiY29tcG9uZW50XFx0YWJsZVxcdGFibGVfaXRlbS50c3giLCAiY29tcG9uZW50XFx0YWJsZVxcdGFibGVfcm93LnRzeCIsICJjb21wb25lbnRcXHRhYmxlXFx0YWJsZV9zeW1ib2xfYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXHRhYmxlXFx0YWJsZV93cmFwcGVyLnRzeCIsICJjb21wb25lbnRcXHRhYmxlXFx0YWJsZS50c3giLCAiY29tcG9uZW50XFx0eXBvZ3JhcGh5XFx0eXBvZ3JhcGh5LnRzeCIsICJjb21wb25lbnRcXHV0aWxcXHJlbmRlci50c3giLCAiYXBwLnRzeCJdLAogICJzb3VyY2VzQ29udGVudCI6IFsKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcobWV0aG9kTmFtZSwgaW5mbykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbXBvbmVudC5wcm90b3R5cGUsIG1ldGhvZE5hbWUsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCIlcyguLi4pIGlzIGRlcHJlY2F0ZWQgaW4gcGxhaW4gSmF2YVNjcmlwdCBSZWFjdCBjbGFzc2VzLiAlc1wiLFxuICAgICAgICAgICAgaW5mb1swXSxcbiAgICAgICAgICAgIGluZm9bMV1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAgICAgIHB1YmxpY0luc3RhbmNlID1cbiAgICAgICAgKChwdWJsaWNJbnN0YW5jZSA9IHB1YmxpY0luc3RhbmNlLmNvbnN0cnVjdG9yKSAmJlxuICAgICAgICAgIChwdWJsaWNJbnN0YW5jZS5kaXNwbGF5TmFtZSB8fCBwdWJsaWNJbnN0YW5jZS5uYW1lKSkgfHxcbiAgICAgICAgXCJSZWFjdENsYXNzXCI7XG4gICAgICB2YXIgd2FybmluZ0tleSA9IHB1YmxpY0luc3RhbmNlICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gSW5zdGVhZCwgYXNzaWduIHRvIGB0aGlzLnN0YXRlYCBkaXJlY3RseSBvciBkZWZpbmUgYSBgc3RhdGUgPSB7fTtgIGNsYXNzIHByb3BlcnR5IHdpdGggdGhlIGRlc2lyZWQgc3RhdGUgaW4gdGhlICVzIGNvbXBvbmVudC5cIixcbiAgICAgICAgICBjYWxsZXJOYW1lLFxuICAgICAgICAgIHB1YmxpY0luc3RhbmNlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudER1bW15KCkge31cbiAgICBmdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fFxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmdldE1vZHVsZUlkKSlcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG4gICAgZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNhYmxlZERlcHRoKys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAgICAgIGRpc2FibGVkRGVwdGgtLTtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHsgY29uZmlndXJhYmxlOiAhMCwgZW51bWVyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2TG9nIH0pLFxuICAgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZJbmZvIH0pLFxuICAgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZXYXJuIH0pLFxuICAgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2RXJyb3IgfSksXG4gICAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cCB9KSxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkIH0pLFxuICAgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBFbmQgfSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAwID4gZGlzYWJsZWREZXB0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHByZWZpeClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICBwcmVmaXggPSAobWF0Y2ggJiYgbWF0Y2hbMV0pIHx8IFwiXCI7XG4gICAgICAgICAgc3VmZml4ID1cbiAgICAgICAgICAgIC0xIDwgeC5zdGFjay5pbmRleE9mKFwiXFxuICAgIGF0XCIpXG4gICAgICAgICAgICAgID8gXCIgKDxhbm9ueW1vdXM+KVwiXG4gICAgICAgICAgICAgIDogLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJAXCIpXG4gICAgICAgICAgICAgICAgPyBcIkB1bmtub3duOjA6MFwiXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcXG5cIiArIHByZWZpeCArIG5hbWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAgICAgaWYgKCFmbiB8fCByZWVudHJ5KSByZXR1cm4gXCJcIjtcbiAgICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGZyYW1lKSByZXR1cm4gZnJhbWU7XG4gICAgICByZWVudHJ5ID0gITA7XG4gICAgICBmcmFtZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gbnVsbDtcbiAgICAgIGRpc2FibGVMb2dzKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgICAgICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCBcInByb3BzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sID0geCQwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKEZha2UgPSBmbigpKSAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgRmFrZS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgRmFrZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNhbXBsZS5zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NhbXBsZS5zdGFjaywgY29udHJvbC5zdGFja107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LmRpc3BsYXlOYW1lID1cbiAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiO1xuICAgICAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgXCJuYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICAgIFwibmFtZVwiLFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIiB9XG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIF9SdW5JblJvb3RGcmFtZSREZXRlciA9XG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgICBzYW1wbGVTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclswXSxcbiAgICAgICAgICBjb250cm9sU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMV07XG4gICAgICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGVTdGFjay5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2xTdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gbmFtZVByb3BEZXNjcmlwdG9yID0gMDtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIXNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IrKztcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyIDwgY29udHJvbExpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIWNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyKys7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID09PSBzYW1wbGVMaW5lcy5sZW5ndGggfHxcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9PT0gY29udHJvbExpbmVzLmxlbmd0aFxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyICYmXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl07XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS07XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLS0sIF9SdW5JblJvb3RGcmFtZSREZXRlci0tXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgxICE9PSBuYW1lUHJvcERlc2NyaXB0b3IgfHwgMSAhPT0gX1J1bkluUm9vdEZyYW1lJERldGVyKSB7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKG5hbWVQcm9wRGVzY3JpcHRvci0tLFxuICAgICAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLSxcbiAgICAgICAgICAgICAgICAgICAgMCA+IF9SdW5JblJvb3RGcmFtZSREZXRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBuZXcgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZuLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLCBmbi5kaXNwbGF5TmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlICgxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChyZWVudHJ5ID0gITEpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldmlvdXNEaXNwYXRjaGVyKSxcbiAgICAgICAgICByZWVuYWJsZUxvZ3MoKSxcbiAgICAgICAgICAoRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmcmFtZSk7XG4gICAgICB9XG4gICAgICBzYW1wbGVMaW5lcyA9IChzYW1wbGVMaW5lcyA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6IFwiXCIpXG4gICAgICAgID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoc2FtcGxlTGluZXMpXG4gICAgICAgIDogXCJcIjtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzYW1wbGVMaW5lcyk7XG4gICAgICByZXR1cm4gc2FtcGxlTGluZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKSB7XG4gICAgICAgIHZhciBwcm90b3R5cGUgPSB0eXBlLnByb3RvdHlwZTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICAhKCFwcm90b3R5cGUgfHwgIXByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlXCIpO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZSA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIsICExKSksIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUudHlwZSk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBwcm90b3R5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUocHJvdG90eXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgICAgIHNlbGYgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gc2VsZiA/IHNlbGYgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb25lQW5kUmVwbGFjZUtleShvbGRFbGVtZW50LCBuZXdLZXkpIHtcbiAgICAgIG5ld0tleSA9IFJlYWN0RWxlbWVudChcbiAgICAgICAgb2xkRWxlbWVudC50eXBlLFxuICAgICAgICBuZXdLZXksXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICBvbGRFbGVtZW50Ll9vd25lcixcbiAgICAgICAgb2xkRWxlbWVudC5wcm9wc1xuICAgICAgKTtcbiAgICAgIG5ld0tleS5fc3RvcmUudmFsaWRhdGVkID0gb2xkRWxlbWVudC5fc3RvcmUudmFsaWRhdGVkO1xuICAgICAgcmV0dXJuIG5ld0tleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICBub2RlICYmXG4gICAgICAgIG5vZGUuJCR0eXBlb2YgIT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgIClcbiAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5vZGUpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKVxuICAgICAgICAgIG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKChpID0gZ2V0SXRlcmF0b3JGbihub2RlKSksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSAmJlxuICAgICAgICAgICAgaSAhPT0gbm9kZS5lbnRyaWVzICYmXG4gICAgICAgICAgICAoKGkgPSBpLmNhbGwobm9kZSkpLCBpICE9PSBub2RlKSlcbiAgICAgICAgKVxuICAgICAgICAgIGZvciAoOyAhKG5vZGUgPSBpLm5leHQoKSkuZG9uZTsgKVxuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShub2RlLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgICFlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgbnVsbCA9PSBlbGVtZW50LmtleSAmJlxuICAgICAgICAoKGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IDEpLFxuICAgICAgICAocGFyZW50VHlwZSA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkpLFxuICAgICAgICAhb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdKVxuICAgICAgKSB7XG4gICAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSA9ICEwO1xuICAgICAgICB2YXIgY2hpbGRPd25lciA9IFwiXCI7XG4gICAgICAgIGVsZW1lbnQgJiZcbiAgICAgICAgICBudWxsICE9IGVsZW1lbnQuX293bmVyICYmXG4gICAgICAgICAgZWxlbWVudC5fb3duZXIgIT09IGdldE93bmVyKCkgJiZcbiAgICAgICAgICAoKGNoaWxkT3duZXIgPSBudWxsKSxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIudGFnXG4gICAgICAgICAgICA/IChjaGlsZE93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpKVxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIubmFtZSAmJlxuICAgICAgICAgICAgICAoY2hpbGRPd25lciA9IGVsZW1lbnQuX293bmVyLm5hbWUpLFxuICAgICAgICAgIChjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBjaGlsZE93bmVyICsgXCIuXCIpKTtcbiAgICAgICAgdmFyIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2s7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlKTtcbiAgICAgICAgICBwcmV2R2V0Q3VycmVudFN0YWNrICYmIChzdGFjayArPSBwcmV2R2V0Q3VycmVudFN0YWNrKCkgfHwgXCJcIik7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyxcbiAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgIGNoaWxkT3duZXJcbiAgICAgICAgKTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9IFwiXCIsXG4gICAgICAgIG93bmVyID0gZ2V0T3duZXIoKTtcbiAgICAgIG93bmVyICYmXG4gICAgICAgIChvd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShvd25lci50eXBlKSkgJiZcbiAgICAgICAgKGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyICsgXCJgLlwiKTtcbiAgICAgIGluZm8gfHxcbiAgICAgICAgKChwYXJlbnRUeXBlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpKSAmJlxuICAgICAgICAgIChpbmZvID1cbiAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnRUeXBlICsgXCI+LlwiKSk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gZXNjYXBlKGtleSkge1xuICAgICAgdmFyIGVzY2FwZXJMb29rdXAgPSB7IFwiPVwiOiBcIj0wXCIsIFwiOlwiOiBcIj0yXCIgfTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwiJFwiICtcbiAgICAgICAga2V5LnJlcGxhY2UoL1s9Ol0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RWxlbWVudEtleShlbGVtZW50LCBpbmRleCkge1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT09IGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPSBlbGVtZW50LmtleVxuICAgICAgICA/IChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGVsZW1lbnQua2V5KSwgZXNjYXBlKFwiXCIgKyBlbGVtZW50LmtleSkpXG4gICAgICAgIDogaW5kZXgudG9TdHJpbmcoMzYpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDEoKSB7fVxuICAgIGZ1bmN0aW9uIHJlc29sdmVUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgc3dpdGNoICh0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoZW5hYmxlLnN0YXR1c1xuICAgICAgICAgICAgICA/IHRoZW5hYmxlLnRoZW4obm9vcCQxLCBub29wJDEpXG4gICAgICAgICAgICAgIDogKCh0aGVuYWJsZS5zdGF0dXMgPSBcInBlbmRpbmdcIiksXG4gICAgICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUudmFsdWUgPSBmdWxmaWxsZWRWYWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh0aGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS5yZWFzb24gPSBlcnJvcikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgdGhlbmFibGUucmVhc29uO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuYW1lU29GYXIsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdHlwZSA9IHR5cGVvZiBjaGlsZHJlbjtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlKSBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2YXIgaW52b2tlQ2FsbGJhY2sgPSAhMTtcbiAgICAgIGlmIChudWxsID09PSBjaGlsZHJlbikgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgc3dpdGNoIChjaGlsZHJlbi4kJHR5cGVvZikge1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW4uX2luaXQpLFxuICAgICAgICAgICAgICAgICAgbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjayhjaGlsZHJlbi5fcGF5bG9hZCksXG4gICAgICAgICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgICAgIGludm9rZUNhbGxiYWNrID0gY2hpbGRyZW47XG4gICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2soaW52b2tlQ2FsbGJhY2spO1xuICAgICAgICB2YXIgY2hpbGRLZXkgPVxuICAgICAgICAgIFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiICsgZ2V0RWxlbWVudEtleShpbnZva2VDYWxsYmFjaywgMCkgOiBuYW1lU29GYXI7XG4gICAgICAgIGlzQXJyYXlJbXBsKGNhbGxiYWNrKVxuICAgICAgICAgID8gKChlc2NhcGVkUHJlZml4ID0gXCJcIiksXG4gICAgICAgICAgICBudWxsICE9IGNoaWxkS2V5ICYmXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID1cbiAgICAgICAgICAgICAgICBjaGlsZEtleS5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCBcIiQmL1wiKSArIFwiL1wiKSxcbiAgICAgICAgICAgIG1hcEludG9BcnJheShjYWxsYmFjaywgYXJyYXksIGVzY2FwZWRQcmVmaXgsIFwiXCIsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjO1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBudWxsICE9IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoaXNWYWxpZEVsZW1lbnQoY2FsbGJhY2spICYmXG4gICAgICAgICAgICAgIChudWxsICE9IGNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgICgoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpIHx8XG4gICAgICAgICAgICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNhbGxiYWNrLmtleSkpLFxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9IGNsb25lQW5kUmVwbGFjZUtleShcbiAgICAgICAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4ICtcbiAgICAgICAgICAgICAgICAgIChudWxsID09IGNhbGxiYWNrLmtleSB8fFxuICAgICAgICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KVxuICAgICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgOiAoXCJcIiArIGNhbGxiYWNrLmtleSkucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIkJi9cIlxuICAgICAgICAgICAgICAgICAgICAgICkgKyBcIi9cIikgK1xuICAgICAgICAgICAgICAgICAgY2hpbGRLZXlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIFwiXCIgIT09IG5hbWVTb0ZhciAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gaW52b2tlQ2FsbGJhY2sgJiZcbiAgICAgICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChpbnZva2VDYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgICBudWxsID09IGludm9rZUNhbGxiYWNrLmtleSAmJlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrLl9zdG9yZSAmJlxuICAgICAgICAgICAgICAgICFpbnZva2VDYWxsYmFjay5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXguX3N0b3JlLnZhbGlkYXRlZCA9IDIpLFxuICAgICAgICAgICAgICAoY2FsbGJhY2sgPSBlc2NhcGVkUHJlZml4KSksXG4gICAgICAgICAgICBhcnJheS5wdXNoKGNhbGxiYWNrKSk7XG4gICAgICAgIHJldHVybiAxO1xuICAgICAgfVxuICAgICAgaW52b2tlQ2FsbGJhY2sgPSAwO1xuICAgICAgY2hpbGRLZXkgPSBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiA6IG5hbWVTb0ZhciArIFwiOlwiO1xuICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAobmFtZVNvRmFyID0gY2hpbGRyZW5baV0pLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKGNoaWxkcmVuKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGkgPT09IGNoaWxkcmVuLmVudHJpZXMgJiZcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZC4gVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgPSAhMCkpLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBpLmNhbGwoY2hpbGRyZW4pLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgIShuYW1lU29GYXIgPSBjaGlsZHJlbi5uZXh0KCkpLmRvbmU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBuYW1lU29GYXIudmFsdWUpLFxuICAgICAgICAgICAgKHR5cGUgPSBjaGlsZEtleSArIGdldEVsZW1lbnRLZXkobmFtZVNvRmFyLCBpKyspKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT09IHR5cGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNoaWxkcmVuLnRoZW4pXG4gICAgICAgICAgcmV0dXJuIG1hcEludG9BcnJheShcbiAgICAgICAgICAgIHJlc29sdmVUaGVuYWJsZShjaGlsZHJlbiksXG4gICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICk7XG4gICAgICAgIGFycmF5ID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSBhcnJheVxuICAgICAgICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICAgOiBhcnJheSkgK1xuICAgICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgICAgIGlmIChudWxsID09IGNoaWxkcmVuKSByZXR1cm4gY2hpbGRyZW47XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgIGNvdW50ID0gMDtcbiAgICAgIG1hcEludG9BcnJheShjaGlsZHJlbiwgcmVzdWx0LCBcIlwiLCBcIlwiLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBjaGlsZCwgY291bnQrKyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhenlJbml0aWFsaXplcihwYXlsb2FkKSB7XG4gICAgICBpZiAoLTEgPT09IHBheWxvYWQuX3N0YXR1cykge1xuICAgICAgICB2YXIgY3RvciA9IHBheWxvYWQuX3Jlc3VsdDtcbiAgICAgICAgY3RvciA9IGN0b3IoKTtcbiAgICAgICAgY3Rvci50aGVuKFxuICAgICAgICAgIGZ1bmN0aW9uIChtb2R1bGVPYmplY3QpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBwYXlsb2FkLl9zdGF0dXMgfHwgLTEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgICAgICAgKHBheWxvYWQuX3N0YXR1cyA9IDEpLCAocGF5bG9hZC5fcmVzdWx0ID0gbW9kdWxlT2JqZWN0KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMiksIChwYXlsb2FkLl9yZXN1bHQgPSBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzICYmXG4gICAgICAgICAgKChwYXlsb2FkLl9zdGF0dXMgPSAwKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGN0b3IpKTtcbiAgICAgIH1cbiAgICAgIGlmICgxID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGN0b3IgPSBwYXlsb2FkLl9yZXN1bHQpLFxuICAgICAgICAgIHZvaWQgMCA9PT0gY3RvciAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcXG5cXG5EaWQgeW91IGFjY2lkZW50YWxseSBwdXQgY3VybHkgYnJhY2VzIGFyb3VuZCB0aGUgaW1wb3J0P1wiLFxuICAgICAgICAgICAgICBjdG9yXG4gICAgICAgICAgICApLFxuICAgICAgICAgIFwiZGVmYXVsdFwiIGluIGN0b3IgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwibGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gSW5zdGVhZCByZWNlaXZlZDogJXNcXG5cXG5Zb3VyIGNvZGUgc2hvdWxkIGxvb2sgbGlrZTogXFxuICBjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL015Q29tcG9uZW50JykpXCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgY3Rvci5kZWZhdWx0XG4gICAgICAgICk7XG4gICAgICB0aHJvdyBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVRhc2sodGFzaykge1xuICAgICAgaWYgKG51bGwgPT09IGVucXVldWVUYXNrSW1wbClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmVxdWlyZVN0cmluZyA9IChcInJlcXVpcmVcIiArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDAsIDcpO1xuICAgICAgICAgIGVucXVldWVUYXNrSW1wbCA9IChtb2R1bGUgJiYgbW9kdWxlW3JlcXVpcmVTdHJpbmddKS5jYWxsKFxuICAgICAgICAgICAgbW9kdWxlLFxuICAgICAgICAgICAgXCJ0aW1lcnNcIlxuICAgICAgICAgICkuc2V0SW1tZWRpYXRlO1xuICAgICAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAhMSA9PT0gZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICEwKSxcbiAgICAgICAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVGhpcyBicm93c2VyIGRvZXMgbm90IGhhdmUgYSBNZXNzYWdlQ2hhbm5lbCBpbXBsZW1lbnRhdGlvbiwgc28gZW5xdWV1aW5nIHRhc2tzIHZpYSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aWxsIGZhaWwuIFBsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMgaWYgeW91IGVuY291bnRlciB0aGlzIHdhcm5pbmcuXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSh2b2lkIDApO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBlbnF1ZXVlVGFza0ltcGwodGFzayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFnZ3JlZ2F0ZUVycm9ycyhlcnJvcnMpIHtcbiAgICAgIHJldHVybiAxIDwgZXJyb3JzLmxlbmd0aCAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBBZ2dyZWdhdGVFcnJvclxuICAgICAgICA/IG5ldyBBZ2dyZWdhdGVFcnJvcihlcnJvcnMpXG4gICAgICAgIDogZXJyb3JzWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKSB7XG4gICAgICBwcmV2QWN0U2NvcGVEZXB0aCAhPT0gYWN0U2NvcGVEZXB0aCAtIDEgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBzZWVtIHRvIGhhdmUgb3ZlcmxhcHBpbmcgYWN0KCkgY2FsbHMsIHRoaXMgaXMgbm90IHN1cHBvcnRlZC4gQmUgc3VyZSB0byBhd2FpdCBwcmV2aW91cyBhY3QoKSBjYWxscyBiZWZvcmUgbWFraW5nIGEgbmV3IG9uZS4gXCJcbiAgICAgICAgKTtcbiAgICAgIGFjdFNjb3BlRGVwdGggPSBwcmV2QWN0U2NvcGVEZXB0aDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhyZXR1cm5WYWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgcXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSBxdWV1ZSlcbiAgICAgICAgaWYgKDAgIT09IHF1ZXVlLmxlbmd0aClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSk7XG4gICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBudWxsO1xuICAgICAgMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGhcbiAgICAgICAgPyAoKHF1ZXVlID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgcmVqZWN0KHF1ZXVlKSlcbiAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hBY3RRdWV1ZShxdWV1ZSkge1xuICAgICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICAgIGlzRmx1c2hpbmcgPSAhMDtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlID0gITE7XG4gICAgICAgICAgICAgIHZhciBjb250aW51YXRpb24gPSBjYWxsYmFjayghMSk7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSBjb250aW51YXRpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgcXVldWVbaV0gPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjb250aW51YXRpb247XG4gICAgICAgICAgICAgIH0gZWxzZSBicmVhaztcbiAgICAgICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBxdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHF1ZXVlLnNwbGljZSgwLCBpICsgMSksIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpc0ZsdXNoaW5nID0gITE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTtcbiAgICB2YXIgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fSxcbiAgICAgIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInJlcGxhY2VTdGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJzZXRTdGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBlbXB0eU9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlPYmplY3QpO1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHt9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAocGFydGlhbFN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBudWxsICE9IHBhcnRpYWxTdGF0ZVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcInRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzLlwiXG4gICAgICAgICk7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIFwic2V0U3RhdGVcIik7XG4gICAgfTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgIH07XG4gICAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgICAgICBpc01vdW50ZWQ6IFtcbiAgICAgICAgICBcImlzTW91bnRlZFwiLFxuICAgICAgICAgIFwiSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXCJcbiAgICAgICAgXSxcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBbXG4gICAgICAgICAgXCJyZXBsYWNlU3RhdGVcIixcbiAgICAgICAgICBcIlJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMzIzNikuXCJcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGZuTmFtZTtcbiAgICBmb3IgKGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcylcbiAgICAgIGRlcHJlY2F0ZWRBUElzLmhhc093blByb3BlcnR5KGZuTmFtZSkgJiZcbiAgICAgICAgZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKGZuTmFtZSwgZGVwcmVjYXRlZEFQSXNbZm5OYW1lXSk7XG4gICAgQ29tcG9uZW50RHVtbXkucHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICBkZXByZWNhdGVkQVBJcyA9IFB1cmVDb21wb25lbnQucHJvdG90eXBlID0gbmV3IENvbXBvbmVudER1bW15KCk7XG4gICAgZGVwcmVjYXRlZEFQSXMuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50O1xuICAgIGFzc2lnbihkZXByZWNhdGVkQVBJcywgQ29tcG9uZW50LnByb3RvdHlwZSk7XG4gICAgZGVwcmVjYXRlZEFQSXMuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDtcbiAgICB2YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9IHtcbiAgICAgICAgSDogbnVsbCxcbiAgICAgICAgQTogbnVsbCxcbiAgICAgICAgVDogbnVsbCxcbiAgICAgICAgUzogbnVsbCxcbiAgICAgICAgYWN0UXVldWU6IG51bGwsXG4gICAgICAgIGlzQmF0Y2hpbmdMZWdhY3k6ICExLFxuICAgICAgICBkaWRTY2hlZHVsZUxlZ2FjeVVwZGF0ZTogITEsXG4gICAgICAgIGRpZFVzZVByb21pc2U6ICExLFxuICAgICAgICB0aHJvd25FcnJvcnM6IFtdLFxuICAgICAgICBnZXRDdXJyZW50U3RhY2s6IG51bGxcbiAgICAgIH0sXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDEgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIGRpc2FibGVkRGVwdGggPSAwLFxuICAgICAgcHJldkxvZyxcbiAgICAgIHByZXZJbmZvLFxuICAgICAgcHJldldhcm4sXG4gICAgICBwcmV2RXJyb3IsXG4gICAgICBwcmV2R3JvdXAsXG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQsXG4gICAgICBwcmV2R3JvdXBFbmQ7XG4gICAgZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gITA7XG4gICAgdmFyIHByZWZpeCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHJlZW50cnkgPSAhMTtcbiAgICB2YXIgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyAoXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcFxuICAgICkoKTtcbiAgICB2YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24sXG4gICAgICBkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9LFxuICAgICAgZGlkV2FybkFib3V0TWFwcyA9ICExLFxuICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nLFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9ICExLFxuICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gbnVsbCxcbiAgICAgIGFjdFNjb3BlRGVwdGggPSAwLFxuICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmcgPSAhMSxcbiAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVldWVNaWNyb3Rhc2soY2FsbGJhY2spO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGVucXVldWVUYXNrO1xuICAgIGV4cG9ydHMuQ2hpbGRyZW4gPSB7XG4gICAgICBtYXA6IG1hcENoaWxkcmVuLFxuICAgICAgZm9yRWFjaDogZnVuY3Rpb24gKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgICAgICAgbWFwQ2hpbGRyZW4oXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZm9yRWFjaEZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZvckVhY2hDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgY291bnQ6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9LFxuICAgICAgdG9BcnJheTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH0pIHx8IFtdXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgb25seTogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMuQ29tcG9uZW50ID0gQ29tcG9uZW50O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuUHJvZmlsZXIgPSBSRUFDVF9QUk9GSUxFUl9UWVBFO1xuICAgIGV4cG9ydHMuUHVyZUNvbXBvbmVudCA9IFB1cmVDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5TdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICBleHBvcnRzLlN1c3BlbnNlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRTtcbiAgICBleHBvcnRzLl9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSA9XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscztcbiAgICBleHBvcnRzLmFjdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIHByZXZBY3RRdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlLFxuICAgICAgICBwcmV2QWN0U2NvcGVEZXB0aCA9IGFjdFNjb3BlRGVwdGg7XG4gICAgICBhY3RTY29wZURlcHRoKys7XG4gICAgICB2YXIgcXVldWUgPSAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPVxuICAgICAgICAgIG51bGwgIT09IHByZXZBY3RRdWV1ZSA/IHByZXZBY3RRdWV1ZSA6IFtdKSxcbiAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITE7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgIChwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKSxcbiAgICAgICAgICAoY2FsbGJhY2sgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICBjYWxsYmFjaylcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gcmVzdWx0ICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXN1bHQgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVzdWx0LnRoZW5cbiAgICAgICkge1xuICAgICAgICB2YXIgdGhlbmFibGUgPSByZXN1bHQ7XG4gICAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgfHxcbiAgICAgICAgICAgICgoZGlkV2Fybk5vQXdhaXRBY3QgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBjYWxsZWQgYWN0KGFzeW5jICgpID0+IC4uLikgd2l0aG91dCBhd2FpdC4gVGhpcyBjb3VsZCBsZWFkIHRvIHVuZXhwZWN0ZWQgdGVzdGluZyBiZWhhdmlvdXIsIGludGVybGVhdmluZyBtdWx0aXBsZSBhY3QgY2FsbHMgYW5kIG1peGluZyB0aGVpciBzY29wZXMuIFlvdSBzaG91bGQgLSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKTtcIlxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKHJldHVyblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHByZXZBY3RTY29wZURlcHRoKSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yJDIpIHtcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IkMik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aHJvd25FcnJvciA9IGFnZ3JlZ2F0ZUVycm9ycyhcbiAgICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChfdGhyb3duRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAgICAgICAgICAgMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgID8gKChlcnJvciA9IGFnZ3JlZ2F0ZUVycm9ycyhcbiAgICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnNcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcikpXG4gICAgICAgICAgICAgICAgICA6IHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIHJldHVyblZhbHVlJGpzY29tcCQwID0gcmVzdWx0O1xuICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAwID09PSBwcmV2QWN0U2NvcGVEZXB0aCAmJlxuICAgICAgICAoZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgIDAgIT09IHF1ZXVlLmxlbmd0aCAmJlxuICAgICAgICAgIHF1ZXVlU2V2ZXJhbE1pY3JvdGFza3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZGlkQXdhaXRBY3RDYWxsIHx8XG4gICAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAgICgoZGlkV2Fybk5vQXdhaXRBY3QgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBIGNvbXBvbmVudCBzdXNwZW5kZWQgaW5zaWRlIGFuIGBhY3RgIHNjb3BlLCBidXQgdGhlIGBhY3RgIGNhbGwgd2FzIG5vdCBhd2FpdGVkLiBXaGVuIHRlc3RpbmcgUmVhY3QgY29tcG9uZW50cyB0aGF0IGRlcGVuZCBvbiBhc3luY2hyb25vdXMgZGF0YSwgeW91IG11c3QgYXdhaXQgdGhlIHJlc3VsdDpcXG5cXG5hd2FpdCBhY3QoKCkgPT4gLi4uKVwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBudWxsKSk7XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAoKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITA7XG4gICAgICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGhcbiAgICAgICAgICAgID8gKChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IHF1ZXVlKSxcbiAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKFxuICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUkanNjb21wJDApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5jYWNoZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5jbG9uZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgaWYgKG51bGwgPT09IGVsZW1lbnQgfHwgdm9pZCAwID09PSBlbGVtZW50KVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlRoZSBhcmd1bWVudCBtdXN0IGJlIGEgUmVhY3QgZWxlbWVudCwgYnV0IHlvdSBwYXNzZWQgXCIgK1xuICAgICAgICAgICAgZWxlbWVudCArXG4gICAgICAgICAgICBcIi5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHByb3BzID0gYXNzaWduKHt9LCBlbGVtZW50LnByb3BzKSxcbiAgICAgICAga2V5ID0gZWxlbWVudC5rZXksXG4gICAgICAgIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpIHtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgICAgYToge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcInJlZlwiKSAmJlxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgXCJyZWZcIlxuICAgICAgICAgICAgKS5nZXQpICYmXG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuaXNSZWFjdFdhcm5pbmdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gdm9pZCAwICE9PSBjb25maWcucmVmO1xuICAgICAgICB9XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCAmJiAob3duZXIgPSBnZXRPd25lcigpKTtcbiAgICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoa2V5ID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgIWhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgfHxcbiAgICAgICAgICAgIFwia2V5XCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICBcIl9fc2VsZlwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NvdXJjZVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgKFwicmVmXCIgPT09IHByb3BOYW1lICYmIHZvaWQgMCA9PT0gY29uZmlnLnJlZikgfHxcbiAgICAgICAgICAgIChwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wTmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKDEgPT09IHByb3BOYW1lKSBwcm9wcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgZWxzZSBpZiAoMSA8IHByb3BOYW1lKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IEFycmF5KHByb3BOYW1lKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wTmFtZTsgaSsrKVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgfVxuICAgICAgcHJvcHMgPSBSZWFjdEVsZW1lbnQoZWxlbWVudC50eXBlLCBrZXksIHZvaWQgMCwgdm9pZCAwLCBvd25lciwgcHJvcHMpO1xuICAgICAgZm9yIChrZXkgPSAyOyBrZXkgPCBhcmd1bWVudHMubGVuZ3RoOyBrZXkrKylcbiAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2tleV0sIHByb3BzLnR5cGUpO1xuICAgICAgcmV0dXJuIHByb3BzO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gZnVuY3Rpb24gKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgZGVmYXVsdFZhbHVlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgICBfY3VycmVudFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBkZWZhdWx0VmFsdWUsXG4gICAgICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIENvbnN1bWVyOiBudWxsXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLlByb3ZpZGVyID0gZGVmYXVsdFZhbHVlO1xuICAgICAgZGVmYXVsdFZhbHVlLkNvbnN1bWVyID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OU1VNRVJfVFlQRSxcbiAgICAgICAgX2NvbnRleHQ6IGRlZmF1bHRWYWx1ZVxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5fY3VycmVudFJlbmRlcmVyID0gbnVsbDtcbiAgICAgIGRlZmF1bHRWYWx1ZS5fY3VycmVudFJlbmRlcmVyMiA9IG51bGw7XG4gICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkpXG4gICAgICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1tpXSwgdHlwZSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaSA9IFwiXCI7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB2b2lkIDAgPT09IHR5cGUgfHxcbiAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAgIDAgPT09IE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aClcbiAgICAgICAgKVxuICAgICAgICAgIGkgKz1cbiAgICAgICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgICAgaWYgKG51bGwgPT09IHR5cGUpIHZhciB0eXBlU3RyaW5nID0gXCJudWxsXCI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBpc0FycmF5SW1wbCh0eXBlKVxuICAgICAgICAgICAgPyAodHlwZVN0cmluZyA9IFwiYXJyYXlcIilcbiAgICAgICAgICAgIDogdm9pZCAwICE9PSB0eXBlICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgICAgICAgICA/ICgodHlwZVN0cmluZyA9XG4gICAgICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgICAgICAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJVbmtub3duXCIpICtcbiAgICAgICAgICAgICAgICAgIFwiIC8+XCIpLFxuICAgICAgICAgICAgICAgIChpID1cbiAgICAgICAgICAgICAgICAgIFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpKVxuICAgICAgICAgICAgICA6ICh0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGUpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lc1wiLFxuICAgICAgICAgIHR5cGVTdHJpbmcsXG4gICAgICAgICAgaVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BOYW1lO1xuICAgICAgaSA9IHt9O1xuICAgICAgdHlwZVN0cmluZyA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPSBjb25maWcpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgfHxcbiAgICAgICAgICAhKFwiX19zZWxmXCIgaW4gY29uZmlnKSB8fFxuICAgICAgICAgIFwia2V5XCIgaW4gY29uZmlnIHx8XG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lID0gITApLFxuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiWW91ciBhcHAgKG9yIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzKSBpcyB1c2luZyBhbiBvdXRkYXRlZCBKU1ggdHJhbnNmb3JtLiBVcGRhdGUgdG8gdGhlIG1vZGVybiBKU1ggdHJhbnNmb3JtIGZvciBmYXN0ZXIgcGVyZm9ybWFuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbmV3LWpzeC10cmFuc2Zvcm1cIlxuICAgICAgICAgICkpLFxuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksICh0eXBlU3RyaW5nID0gXCJcIiArIGNvbmZpZy5rZXkpKSxcbiAgICAgICAgY29uZmlnKSlcbiAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmXG4gICAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NlbGZcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIChpW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gY2hpbGRyZW5MZW5ndGgpIGkuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBjaGlsZHJlbkxlbmd0aCkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBjaGlsZEFycmF5ID0gQXJyYXkoY2hpbGRyZW5MZW5ndGgpLCBfaSA9IDA7XG4gICAgICAgICAgX2kgPCBjaGlsZHJlbkxlbmd0aDtcbiAgICAgICAgICBfaSsrXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZEFycmF5W19pXSA9IGFyZ3VtZW50c1tfaSArIDJdO1xuICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRBcnJheSk7XG4gICAgICAgIGkuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpXG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gKChjaGlsZHJlbkxlbmd0aCA9IHR5cGUuZGVmYXVsdFByb3BzKSwgY2hpbGRyZW5MZW5ndGgpKVxuICAgICAgICAgIHZvaWQgMCA9PT0gaVtwcm9wTmFtZV0gJiYgKGlbcHJvcE5hbWVdID0gY2hpbGRyZW5MZW5ndGhbcHJvcE5hbWVdKTtcbiAgICAgIHR5cGVTdHJpbmcgJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgaSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwgdHlwZVN0cmluZywgdm9pZCAwLCB2b2lkIDAsIGdldE93bmVyKCksIGkpO1xuICAgIH07XG4gICAgZXhwb3J0cy5jcmVhdGVSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcmVmT2JqZWN0ID0geyBjdXJyZW50OiBudWxsIH07XG4gICAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICAgICAgcmV0dXJuIHJlZk9iamVjdDtcbiAgICB9O1xuICAgIGV4cG9ydHMuZm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChyZW5kZXIpIHtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmIHJlbmRlci4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgcmVjZWl2ZWQgYSBgbWVtb2AgY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlIG1lbW8oZm9yd2FyZFJlZiguLi4pKS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZXF1aXJlcyBhIHJlbmRlciBmdW5jdGlvbiBidXQgd2FzIGdpdmVuICVzLlwiLFxuICAgICAgICAgICAgICBudWxsID09PSByZW5kZXIgPyBcIm51bGxcIiA6IHR5cGVvZiByZW5kZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IDAgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIDIgIT09IHJlbmRlci5sZW5ndGggJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGFjY2VwdCBleGFjdGx5IHR3byBwYXJhbWV0ZXJzOiBwcm9wcyBhbmQgcmVmLiAlc1wiLFxuICAgICAgICAgICAgICAxID09PSByZW5kZXIubGVuZ3RoXG4gICAgICAgICAgICAgICAgPyBcIkRpZCB5b3UgZm9yZ2V0IHRvIHVzZSB0aGUgcmVmIHBhcmFtZXRlcj9cIlxuICAgICAgICAgICAgICAgIDogXCJBbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXIgd2lsbCBiZSB1bmRlZmluZWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICBudWxsICE9IHJlbmRlciAmJlxuICAgICAgICBudWxsICE9IHJlbmRlci5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBkbyBub3Qgc3VwcG9ydCBkZWZhdWx0UHJvcHMuIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgYSBSZWFjdCBjb21wb25lbnQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBlbGVtZW50VHlwZSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogcmVuZGVyIH0sXG4gICAgICAgIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudFR5cGUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICByZW5kZXIubmFtZSB8fFxuICAgICAgICAgICAgcmVuZGVyLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlbmRlciwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAocmVuZGVyLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBlbGVtZW50VHlwZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaXNWYWxpZEVsZW1lbnQgPSBpc1ZhbGlkRWxlbWVudDtcbiAgICBleHBvcnRzLmxhenkgPSBmdW5jdGlvbiAoY3Rvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0xBWllfVFlQRSxcbiAgICAgICAgX3BheWxvYWQ6IHsgX3N0YXR1czogLTEsIF9yZXN1bHQ6IGN0b3IgfSxcbiAgICAgICAgX2luaXQ6IGxhenlJbml0aWFsaXplclxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMubWVtbyA9IGZ1bmN0aW9uICh0eXBlLCBjb21wYXJlKSB7XG4gICAgICBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIm1lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1wiLFxuICAgICAgICAgIG51bGwgPT09IHR5cGUgPyBcIm51bGxcIiA6IHR5cGVvZiB0eXBlXG4gICAgICAgICk7XG4gICAgICBjb21wYXJlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTUVNT19UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBjb21wYXJlOiB2b2lkIDAgPT09IGNvbXBhcmUgPyBudWxsIDogY29tcGFyZVxuICAgICAgfTtcbiAgICAgIHZhciBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBhcmUsIFwiZGlzcGxheU5hbWVcIiwge1xuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICBvd25OYW1lID0gbmFtZTtcbiAgICAgICAgICB0eXBlLm5hbWUgfHxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJuYW1lXCIsIHsgdmFsdWU6IG5hbWUgfSksXG4gICAgICAgICAgICAodHlwZS5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29tcGFyZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuc3RhcnRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBzY29wZSgpLFxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaChjdXJyZW50VHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gJiZcbiAgICAgICAgICByZXR1cm5WYWx1ZS50aGVuKG5vb3AsIHJlcG9ydEdsb2JhbEVycm9yKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAoKHNjb3BlID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAxMCA8IHNjb3BlICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV91c2VDYWNoZVJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWNoZVJlZnJlc2goKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlID0gZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlKHVzYWJsZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUFjdGlvblN0YXRlKFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIGluaXRpYWxTdGF0ZSxcbiAgICAgICAgcGVybWFsaW5rXG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VDb250ZXh0ID0gZnVuY3Rpb24gKENvbnRleHQpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICAgIENvbnRleHQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGNhdXNlIGJ1Z3MuIERpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD9cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXIudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVidWdWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0dGVyRm4pIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlckZuKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRGVmZXJyZWRWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VFZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJZCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJbXBlcmF0aXZlSGFuZGxlID0gZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW5zZXJ0aW9uRWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW5zZXJ0aW9uRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUxheW91dEVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUxheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VNZW1vID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVkdWNlciA9IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWYgPSBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3RhdGUgPSBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uIChcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVRyYW5zaXRpb24oKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMC4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHNjaGVkdWxlci5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUoKSB7XG4gICAgICBpZiAoaXNNZXNzYWdlTG9vcFJ1bm5pbmcpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcbiAgICAgICAgc3RhcnRUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgIHZhciBoYXNNb3JlV29yayA9ICEwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITE7XG4gICAgICAgICAgICBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkICYmXG4gICAgICAgICAgICAgICgoaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICExKSxcbiAgICAgICAgICAgICAgbG9jYWxDbGVhclRpbWVvdXQodGFza1RpbWVvdXRJRCksXG4gICAgICAgICAgICAgICh0YXNrVGltZW91dElEID0gLTEpKTtcbiAgICAgICAgICAgIGlzUGVyZm9ybWluZ1dvcmsgPSAhMDtcbiAgICAgICAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2sgPSBwZWVrKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50VGFzayAmJlxuICAgICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2suZXhwaXJhdGlvblRpbWUgPiBjdXJyZW50VGltZSAmJlxuICAgICAgICAgICAgICAgICAgICBzaG91bGRZaWVsZFRvSG9zdCgpXG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBjdXJyZW50VGFzay5jYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5jYWxsYmFjayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gY3VycmVudFRhc2sucHJpb3JpdHlMZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbkNhbGxiYWNrID0gY2FsbGJhY2soXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2suZXhwaXJhdGlvblRpbWUgPD0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29udGludWF0aW9uQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5jYWxsYmFjayA9IGNvbnRpbnVhdGlvbkNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICAgIGhhc01vcmVXb3JrID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzayA9PT0gcGVlayh0YXNrUXVldWUpICYmIHBvcCh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBwb3AodGFza1F1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrID0gcGVlayh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudFRhc2spIGhhc01vcmVXb3JrID0gITA7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZmlyc3RUaW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBmaXJzdFRpbWVyICYmXG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIb3N0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVUaW1lb3V0LFxuICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VGltZXIuc3RhcnRUaW1lIC0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGhhc01vcmVXb3JrID0gITE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAoY3VycmVudFRhc2sgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWwpLFxuICAgICAgICAgICAgICAgIChpc1BlcmZvcm1pbmdXb3JrID0gITEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFzTW9yZVdvcmsgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGhhc01vcmVXb3JrXG4gICAgICAgICAgICA/IHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKClcbiAgICAgICAgICAgIDogKGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2goaGVhcCwgbm9kZSkge1xuICAgICAgdmFyIGluZGV4ID0gaGVhcC5sZW5ndGg7XG4gICAgICBoZWFwLnB1c2gobm9kZSk7XG4gICAgICBhOiBmb3IgKDsgMCA8IGluZGV4OyApIHtcbiAgICAgICAgdmFyIHBhcmVudEluZGV4ID0gKGluZGV4IC0gMSkgPj4+IDEsXG4gICAgICAgICAgcGFyZW50ID0gaGVhcFtwYXJlbnRJbmRleF07XG4gICAgICAgIGlmICgwIDwgY29tcGFyZShwYXJlbnQsIG5vZGUpKVxuICAgICAgICAgIChoZWFwW3BhcmVudEluZGV4XSA9IG5vZGUpLFxuICAgICAgICAgICAgKGhlYXBbaW5kZXhdID0gcGFyZW50KSxcbiAgICAgICAgICAgIChpbmRleCA9IHBhcmVudEluZGV4KTtcbiAgICAgICAgZWxzZSBicmVhayBhO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwZWVrKGhlYXApIHtcbiAgICAgIHJldHVybiAwID09PSBoZWFwLmxlbmd0aCA/IG51bGwgOiBoZWFwWzBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3AoaGVhcCkge1xuICAgICAgaWYgKDAgPT09IGhlYXAubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBmaXJzdCA9IGhlYXBbMF0sXG4gICAgICAgIGxhc3QgPSBoZWFwLnBvcCgpO1xuICAgICAgaWYgKGxhc3QgIT09IGZpcnN0KSB7XG4gICAgICAgIGhlYXBbMF0gPSBsYXN0O1xuICAgICAgICBhOiBmb3IgKFxuICAgICAgICAgIHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGhlYXAubGVuZ3RoLCBoYWxmTGVuZ3RoID0gbGVuZ3RoID4+PiAxO1xuICAgICAgICAgIGluZGV4IDwgaGFsZkxlbmd0aDtcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgbGVmdEluZGV4ID0gMiAqIChpbmRleCArIDEpIC0gMSxcbiAgICAgICAgICAgIGxlZnQgPSBoZWFwW2xlZnRJbmRleF0sXG4gICAgICAgICAgICByaWdodEluZGV4ID0gbGVmdEluZGV4ICsgMSxcbiAgICAgICAgICAgIHJpZ2h0ID0gaGVhcFtyaWdodEluZGV4XTtcbiAgICAgICAgICBpZiAoMCA+IGNvbXBhcmUobGVmdCwgbGFzdCkpXG4gICAgICAgICAgICByaWdodEluZGV4IDwgbGVuZ3RoICYmIDAgPiBjb21wYXJlKHJpZ2h0LCBsZWZ0KVxuICAgICAgICAgICAgICA/ICgoaGVhcFtpbmRleF0gPSByaWdodCksXG4gICAgICAgICAgICAgICAgKGhlYXBbcmlnaHRJbmRleF0gPSBsYXN0KSxcbiAgICAgICAgICAgICAgICAoaW5kZXggPSByaWdodEluZGV4KSlcbiAgICAgICAgICAgICAgOiAoKGhlYXBbaW5kZXhdID0gbGVmdCksXG4gICAgICAgICAgICAgICAgKGhlYXBbbGVmdEluZGV4XSA9IGxhc3QpLFxuICAgICAgICAgICAgICAgIChpbmRleCA9IGxlZnRJbmRleCkpO1xuICAgICAgICAgIGVsc2UgaWYgKHJpZ2h0SW5kZXggPCBsZW5ndGggJiYgMCA+IGNvbXBhcmUocmlnaHQsIGxhc3QpKVxuICAgICAgICAgICAgKGhlYXBbaW5kZXhdID0gcmlnaHQpLFxuICAgICAgICAgICAgICAoaGVhcFtyaWdodEluZGV4XSA9IGxhc3QpLFxuICAgICAgICAgICAgICAoaW5kZXggPSByaWdodEluZGV4KTtcbiAgICAgICAgICBlbHNlIGJyZWFrIGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmaXJzdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgICB2YXIgZGlmZiA9IGEuc29ydEluZGV4IC0gYi5zb3J0SW5kZXg7XG4gICAgICByZXR1cm4gMCAhPT0gZGlmZiA/IGRpZmYgOiBhLmlkIC0gYi5pZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSkge1xuICAgICAgZm9yICh2YXIgdGltZXIgPSBwZWVrKHRpbWVyUXVldWUpOyBudWxsICE9PSB0aW1lcjsgKSB7XG4gICAgICAgIGlmIChudWxsID09PSB0aW1lci5jYWxsYmFjaykgcG9wKHRpbWVyUXVldWUpO1xuICAgICAgICBlbHNlIGlmICh0aW1lci5zdGFydFRpbWUgPD0gY3VycmVudFRpbWUpXG4gICAgICAgICAgcG9wKHRpbWVyUXVldWUpLFxuICAgICAgICAgICAgKHRpbWVyLnNvcnRJbmRleCA9IHRpbWVyLmV4cGlyYXRpb25UaW1lKSxcbiAgICAgICAgICAgIHB1c2godGFza1F1ZXVlLCB0aW1lcik7XG4gICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICAgIHRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVGltZW91dChjdXJyZW50VGltZSkge1xuICAgICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICExO1xuICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgICBpZiAoIWlzSG9zdENhbGxiYWNrU2NoZWR1bGVkKVxuICAgICAgICBpZiAobnVsbCAhPT0gcGVlayh0YXNrUXVldWUpKVxuICAgICAgICAgIChpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICEwKSwgcmVxdWVzdEhvc3RDYWxsYmFjaygpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgZmlyc3RUaW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG4gICAgICAgICAgbnVsbCAhPT0gZmlyc3RUaW1lciAmJlxuICAgICAgICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KFxuICAgICAgICAgICAgICBoYW5kbGVUaW1lb3V0LFxuICAgICAgICAgICAgICBmaXJzdFRpbWVyLnN0YXJ0VGltZSAtIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFlpZWxkVG9Ib3N0KCkge1xuICAgICAgcmV0dXJuIGV4cG9ydHMudW5zdGFibGVfbm93KCkgLSBzdGFydFRpbWUgPCBmcmFtZUludGVydmFsID8gITEgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdEhvc3RDYWxsYmFjaygpIHtcbiAgICAgIGlzTWVzc2FnZUxvb3BSdW5uaW5nIHx8XG4gICAgICAgICgoaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSAhMCksIHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0SG9zdFRpbWVvdXQoY2FsbGJhY2ssIG1zKSB7XG4gICAgICB0YXNrVGltZW91dElEID0gbG9jYWxTZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soZXhwb3J0cy51bnN0YWJsZV9ub3coKSk7XG4gICAgICB9LCBtcyk7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9ub3cgPSB2b2lkIDA7XG4gICAgaWYgKFxuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHBlcmZvcm1hbmNlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwZXJmb3JtYW5jZS5ub3dcbiAgICApIHtcbiAgICAgIHZhciBsb2NhbFBlcmZvcm1hbmNlID0gcGVyZm9ybWFuY2U7XG4gICAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsUGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbG9jYWxEYXRlID0gRGF0ZSxcbiAgICAgICAgaW5pdGlhbFRpbWUgPSBsb2NhbERhdGUubm93KCk7XG4gICAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsRGF0ZS5ub3coKSAtIGluaXRpYWxUaW1lO1xuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHRhc2tRdWV1ZSA9IFtdLFxuICAgICAgdGltZXJRdWV1ZSA9IFtdLFxuICAgICAgdGFza0lkQ291bnRlciA9IDEsXG4gICAgICBjdXJyZW50VGFzayA9IG51bGwsXG4gICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IDMsXG4gICAgICBpc1BlcmZvcm1pbmdXb3JrID0gITEsXG4gICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICExLFxuICAgICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICExLFxuICAgICAgbG9jYWxTZXRUaW1lb3V0ID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc2V0VGltZW91dCA/IHNldFRpbWVvdXQgOiBudWxsLFxuICAgICAgbG9jYWxDbGVhclRpbWVvdXQgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjbGVhclRpbWVvdXQgPyBjbGVhclRpbWVvdXQgOiBudWxsLFxuICAgICAgbG9jYWxTZXRJbW1lZGlhdGUgPVxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygc2V0SW1tZWRpYXRlID8gc2V0SW1tZWRpYXRlIDogbnVsbCxcbiAgICAgIGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gITEsXG4gICAgICB0YXNrVGltZW91dElEID0gLTEsXG4gICAgICBmcmFtZUludGVydmFsID0gNSxcbiAgICAgIHN0YXJ0VGltZSA9IC0xO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBsb2NhbFNldEltbWVkaWF0ZSlcbiAgICAgIHZhciBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWxTZXRJbW1lZGlhdGUocGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKTtcbiAgICAgIH07XG4gICAgZWxzZSBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpLFxuICAgICAgICBwb3J0ID0gY2hhbm5lbC5wb3J0MjtcbiAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gcGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lO1xuICAgICAgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHBvcnQucG9zdE1lc3NhZ2UobnVsbCk7XG4gICAgICB9O1xuICAgIH0gZWxzZVxuICAgICAgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2FsU2V0VGltZW91dChwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUsIDApO1xuICAgICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX0lkbGVQcmlvcml0eSA9IDU7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSA9IDE7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Mb3dQcmlvcml0eSA9IDQ7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSA9IDM7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Qcm9maWxpbmcgPSBudWxsO1xuICAgIGV4cG9ydHMudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHkgPSAyO1xuICAgIGV4cG9ydHMudW5zdGFibGVfY2FuY2VsQ2FsbGJhY2sgPSBmdW5jdGlvbiAodGFzaykge1xuICAgICAgdGFzay5jYWxsYmFjayA9IG51bGw7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2NvbnRpbnVlRXhlY3V0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgfHxcbiAgICAgICAgaXNQZXJmb3JtaW5nV29yayB8fFxuICAgICAgICAoKGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITApLCByZXF1ZXN0SG9zdENhbGxiYWNrKCkpO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9mb3JjZUZyYW1lUmF0ZSA9IGZ1bmN0aW9uIChmcHMpIHtcbiAgICAgIDAgPiBmcHMgfHwgMTI1IDwgZnBzXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWUgcmF0ZXMgaGlnaGVyIHRoYW4gMTI1IGZwcyBpcyBub3Qgc3VwcG9ydGVkXCJcbiAgICAgICAgICApXG4gICAgICAgIDogKGZyYW1lSW50ZXJ2YWwgPSAwIDwgZnBzID8gTWF0aC5mbG9vcigxZTMgLyBmcHMpIDogNSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9nZXRGaXJzdENhbGxiYWNrTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwZWVrKHRhc2tRdWV1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX25leHQgPSBmdW5jdGlvbiAoZXZlbnRIYW5kbGVyKSB7XG4gICAgICBzd2l0Y2ggKGN1cnJlbnRQcmlvcml0eUxldmVsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdmFyIHByaW9yaXR5TGV2ZWwgPSAzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJpb3JpdHlMZXZlbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBldmVudEhhbmRsZXIoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9wYXVzZUV4ZWN1dGlvbiA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfcmVxdWVzdFBhaW50ID0gZnVuY3Rpb24gKCkge307XG4gICAgZXhwb3J0cy51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkgPSBmdW5jdGlvbiAocHJpb3JpdHlMZXZlbCwgZXZlbnRIYW5kbGVyKSB7XG4gICAgICBzd2l0Y2ggKHByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHJpb3JpdHlMZXZlbCA9IDM7XG4gICAgICB9XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByaW9yaXR5TGV2ZWw7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZXZlbnRIYW5kbGVyKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayA9IGZ1bmN0aW9uIChcbiAgICAgIHByaW9yaXR5TGV2ZWwsXG4gICAgICBjYWxsYmFjayxcbiAgICAgIG9wdGlvbnNcbiAgICApIHtcbiAgICAgIHZhciBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiBudWxsICE9PSBvcHRpb25zXG4gICAgICAgID8gKChvcHRpb25zID0gb3B0aW9ucy5kZWxheSksXG4gICAgICAgICAgKG9wdGlvbnMgPVxuICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgMCA8IG9wdGlvbnNcbiAgICAgICAgICAgICAgPyBjdXJyZW50VGltZSArIG9wdGlvbnNcbiAgICAgICAgICAgICAgOiBjdXJyZW50VGltZSkpXG4gICAgICAgIDogKG9wdGlvbnMgPSBjdXJyZW50VGltZSk7XG4gICAgICBzd2l0Y2ggKHByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHZhciB0aW1lb3V0ID0gLTE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICB0aW1lb3V0ID0gMjUwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgdGltZW91dCA9IDEwNzM3NDE4MjM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB0aW1lb3V0ID0gMWU0O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRpbWVvdXQgPSA1ZTM7XG4gICAgICB9XG4gICAgICB0aW1lb3V0ID0gb3B0aW9ucyArIHRpbWVvdXQ7XG4gICAgICBwcmlvcml0eUxldmVsID0ge1xuICAgICAgICBpZDogdGFza0lkQ291bnRlcisrLFxuICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgIHByaW9yaXR5TGV2ZWw6IHByaW9yaXR5TGV2ZWwsXG4gICAgICAgIHN0YXJ0VGltZTogb3B0aW9ucyxcbiAgICAgICAgZXhwaXJhdGlvblRpbWU6IHRpbWVvdXQsXG4gICAgICAgIHNvcnRJbmRleDogLTFcbiAgICAgIH07XG4gICAgICBvcHRpb25zID4gY3VycmVudFRpbWVcbiAgICAgICAgPyAoKHByaW9yaXR5TGV2ZWwuc29ydEluZGV4ID0gb3B0aW9ucyksXG4gICAgICAgICAgcHVzaCh0aW1lclF1ZXVlLCBwcmlvcml0eUxldmVsKSxcbiAgICAgICAgICBudWxsID09PSBwZWVrKHRhc2tRdWV1ZSkgJiZcbiAgICAgICAgICAgIHByaW9yaXR5TGV2ZWwgPT09IHBlZWsodGltZXJRdWV1ZSkgJiZcbiAgICAgICAgICAgIChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkXG4gICAgICAgICAgICAgID8gKGxvY2FsQ2xlYXJUaW1lb3V0KHRhc2tUaW1lb3V0SUQpLCAodGFza1RpbWVvdXRJRCA9IC0xKSlcbiAgICAgICAgICAgICAgOiAoaXNIb3N0VGltZW91dFNjaGVkdWxlZCA9ICEwKSxcbiAgICAgICAgICAgIHJlcXVlc3RIb3N0VGltZW91dChoYW5kbGVUaW1lb3V0LCBvcHRpb25zIC0gY3VycmVudFRpbWUpKSlcbiAgICAgICAgOiAoKHByaW9yaXR5TGV2ZWwuc29ydEluZGV4ID0gdGltZW91dCksXG4gICAgICAgICAgcHVzaCh0YXNrUXVldWUsIHByaW9yaXR5TGV2ZWwpLFxuICAgICAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkIHx8XG4gICAgICAgICAgICBpc1BlcmZvcm1pbmdXb3JrIHx8XG4gICAgICAgICAgICAoKGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITApLCByZXF1ZXN0SG9zdENhbGxiYWNrKCkpKTtcbiAgICAgIHJldHVybiBwcmlvcml0eUxldmVsO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9zaG91bGRZaWVsZCA9IHNob3VsZFlpZWxkVG9Ib3N0O1xuICAgIGV4cG9ydHMudW5zdGFibGVfd3JhcENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcGFyZW50UHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHBhcmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlUG9ydGFsJDEoY2hpbGRyZW4sIGNvbnRhaW5lckluZm8sIGltcGxlbWVudGF0aW9uKSB7XG4gICAgICB2YXIga2V5ID1cbiAgICAgICAgMyA8IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbM10gPyBhcmd1bWVudHNbM10gOiBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKGtleSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiZcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAga2V5W1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgICBrZXkuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgICAgXCJPYmplY3RcIlxuICAgICAgICApLFxuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24oa2V5KSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfUE9SVEFMX1RZUEUsXG4gICAgICAgIGtleTogbnVsbCA9PSBrZXkgPyBudWxsIDogXCJcIiArIGtleSxcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkcmVuLFxuICAgICAgICBjb250YWluZXJJbmZvOiBjb250YWluZXJJbmZvLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENyb3NzT3JpZ2luU3RyaW5nQXMoYXMsIGlucHV0KSB7XG4gICAgICBpZiAoXCJmb250XCIgPT09IGFzKSByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgaW5wdXQpXG4gICAgICAgIHJldHVybiBcInVzZS1jcmVkZW50aWFsc1wiID09PSBpbnB1dCA/IGlucHV0IDogXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyh0aGluZykge1xuICAgICAgcmV0dXJuIG51bGwgPT09IHRoaW5nXG4gICAgICAgID8gXCJgbnVsbGBcIlxuICAgICAgICA6IHZvaWQgMCA9PT0gdGhpbmdcbiAgICAgICAgICA/IFwiYHVuZGVmaW5lZGBcIlxuICAgICAgICAgIDogXCJcIiA9PT0gdGhpbmdcbiAgICAgICAgICAgID8gXCJhbiBlbXB0eSBzdHJpbmdcIlxuICAgICAgICAgICAgOiAnc29tZXRoaW5nIHdpdGggdHlwZSBcIicgKyB0eXBlb2YgdGhpbmcgKyAnXCInO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyh0aGluZykge1xuICAgICAgcmV0dXJuIG51bGwgPT09IHRoaW5nXG4gICAgICAgID8gXCJgbnVsbGBcIlxuICAgICAgICA6IHZvaWQgMCA9PT0gdGhpbmdcbiAgICAgICAgICA/IFwiYHVuZGVmaW5lZGBcIlxuICAgICAgICAgIDogXCJcIiA9PT0gdGhpbmdcbiAgICAgICAgICAgID8gXCJhbiBlbXB0eSBzdHJpbmdcIlxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgdGhpbmdcbiAgICAgICAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh0aGluZylcbiAgICAgICAgICAgICAgOiBcIm51bWJlclwiID09PSB0eXBlb2YgdGhpbmdcbiAgICAgICAgICAgICAgICA/IFwiYFwiICsgdGhpbmcgKyBcImBcIlxuICAgICAgICAgICAgICAgIDogJ3NvbWV0aGluZyB3aXRoIHR5cGUgXCInICsgdHlwZW9mIHRoaW5nICsgJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKSxcbiAgICAgIEludGVybmFscyA9IHtcbiAgICAgICAgZDoge1xuICAgICAgICAgIGY6IG5vb3AsXG4gICAgICAgICAgcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBmb3JtIGVsZW1lbnQuIHJlcXVlc3RGb3JtUmVzZXQgbXVzdCBiZSBwYXNzZWQgYSBmb3JtIHRoYXQgd2FzIHJlbmRlcmVkIGJ5IFJlYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgRDogbm9vcCxcbiAgICAgICAgICBDOiBub29wLFxuICAgICAgICAgIEw6IG5vb3AsXG4gICAgICAgICAgbTogbm9vcCxcbiAgICAgICAgICBYOiBub29wLFxuICAgICAgICAgIFM6IG5vb3AsXG4gICAgICAgICAgTTogbm9vcFxuICAgICAgICB9LFxuICAgICAgICBwOiAwLFxuICAgICAgICBmaW5kRE9NTm9kZTogbnVsbFxuICAgICAgfSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFO1xuICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAgJiZcbiAgICAgIG51bGwgIT0gTWFwLnByb3RvdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwLnByb3RvdHlwZS5mb3JFYWNoICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQgJiZcbiAgICAgIG51bGwgIT0gU2V0LnByb3RvdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0LnByb3RvdHlwZS5jbGVhciAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0LnByb3RvdHlwZS5mb3JFYWNoKSB8fFxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL3JlYWN0anMub3JnL2xpbmsvcmVhY3QtcG9seWZpbGxzXCJcbiAgICAgICk7XG4gICAgZXhwb3J0cy5fX0RPTV9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUgPVxuICAgICAgSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuY3JlYXRlUG9ydGFsID0gZnVuY3Rpb24gKGNoaWxkcmVuLCBjb250YWluZXIpIHtcbiAgICAgIHZhciBrZXkgPVxuICAgICAgICAyIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1syXSA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG4gICAgICBpZiAoXG4gICAgICAgICFjb250YWluZXIgfHxcbiAgICAgICAgKDEgIT09IGNvbnRhaW5lci5ub2RlVHlwZSAmJlxuICAgICAgICAgIDkgIT09IGNvbnRhaW5lci5ub2RlVHlwZSAmJlxuICAgICAgICAgIDExICE9PSBjb250YWluZXIubm9kZVR5cGUpXG4gICAgICApXG4gICAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgICByZXR1cm4gY3JlYXRlUG9ydGFsJDEoY2hpbGRyZW4sIGNvbnRhaW5lciwgbnVsbCwga2V5KTtcbiAgICB9O1xuICAgIGV4cG9ydHMuZmx1c2hTeW5jID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICB2YXIgcHJldmlvdXNUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgcHJldmlvdXNVcGRhdGVQcmlvcml0eSA9IEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGwpLCAoSW50ZXJuYWxzLnAgPSAyKSwgZm4pKVxuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2aW91c1RyYW5zaXRpb24pLFxuICAgICAgICAgIChJbnRlcm5hbHMucCA9IHByZXZpb3VzVXBkYXRlUHJpb3JpdHkpLFxuICAgICAgICAgIEludGVybmFscy5kLmYoKSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmbHVzaFN5bmMgd2FzIGNhbGxlZCBmcm9tIGluc2lkZSBhIGxpZmVjeWNsZSBtZXRob2QuIFJlYWN0IGNhbm5vdCBmbHVzaCB3aGVuIFJlYWN0IGlzIGFscmVhZHkgcmVuZGVyaW5nLiBDb25zaWRlciBtb3ZpbmcgdGhpcyBjYWxsIHRvIGEgc2NoZWR1bGVyIHRhc2sgb3IgbWljcm8gdGFzay5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMucHJlY29ubmVjdCA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmXG4gICAgICAgID8gbnVsbCAhPSBvcHRpb25zICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWNvbm5lY3QoKTogRXhwZWN0ZWQgdGhlIGBvcHRpb25zYCBhcmd1bWVudCAoc2Vjb25kKSB0byBiZSBhbiBvYmplY3QgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuIFRoZSBvbmx5IHN1cHBvcnRlZCBvcHRpb24gYXQgdGhpcyB0aW1lIGlzIGBjcm9zc09yaWdpbmAgd2hpY2ggYWNjZXB0cyBhIHN0cmluZy5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IG51bGwgIT0gb3B0aW9ucyAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG9wdGlvbnMuY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlY29ubmVjdCgpOiBFeHBlY3RlZCB0aGUgYGNyb3NzT3JpZ2luYCBvcHRpb24gKHNlY29uZCBhcmd1bWVudCkgdG8gYmUgYSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuIFRyeSByZW1vdmluZyB0aGlzIG9wdGlvbiBvciBwYXNzaW5nIGEgc3RyaW5nIHZhbHVlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucy5jcm9zc09yaWdpbilcbiAgICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVjb25uZWN0KCk6IEV4cGVjdGVkIHRoZSBgaHJlZmAgYXJndW1lbnQgKGZpcnN0KSB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpXG4gICAgICAgICAgKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIChvcHRpb25zXG4gICAgICAgICAgPyAoKG9wdGlvbnMgPSBvcHRpb25zLmNyb3NzT3JpZ2luKSxcbiAgICAgICAgICAgIChvcHRpb25zID1cbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgICAgICAgICA/IFwidXNlLWNyZWRlbnRpYWxzXCIgPT09IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgID8gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgOiB2b2lkIDApKVxuICAgICAgICAgIDogKG9wdGlvbnMgPSBudWxsKSxcbiAgICAgICAgSW50ZXJuYWxzLmQuQyhocmVmLCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWZldGNoRE5TID0gZnVuY3Rpb24gKGhyZWYpIHtcbiAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgaHJlZiB8fCAhaHJlZilcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0RE9NLnByZWZldGNoRE5TKCk6IEV4cGVjdGVkIHRoZSBgaHJlZmAgYXJndW1lbnQgKGZpcnN0KSB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKVxuICAgICAgICApO1xuICAgICAgZWxzZSBpZiAoMSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHNbMV07XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmIG9wdGlvbnMuaGFzT3duUHJvcGVydHkoXCJjcm9zc09yaWdpblwiKVxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVmZXRjaEROUygpOiBFeHBlY3RlZCBvbmx5IG9uZSBhcmd1bWVudCwgYGhyZWZgLCBidXQgZW5jb3VudGVyZWQgJXMgYXMgYSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZC4gVGhpcyBhcmd1bWVudCBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIG9wdGlvbnMgYW5kIGlzIGN1cnJlbnRseSBkaXNhbGxvd2VkLiBJdCBsb29rcyBsaWtlIHRoZSB5b3UgYXJlIGF0dGVtcHRpbmcgdG8gc2V0IGEgY3Jvc3NPcmlnaW4gcHJvcGVydHkgZm9yIHRoaXMgRE5TIGxvb2t1cCBoaW50LiBCcm93c2VycyBkbyBub3QgcGVyZm9ybSBETlMgcXVlcmllcyB1c2luZyBDT1JTIGFuZCBzZXR0aW5nIHRoaXMgYXR0cmlidXRlIG9uIHRoZSByZXNvdXJjZSBoaW50IGhhcyBubyBlZmZlY3QuIFRyeSBjYWxsaW5nIFJlYWN0RE9NLnByZWZldGNoRE5TKCkgd2l0aCBqdXN0IGEgc2luZ2xlIHN0cmluZyBhcmd1bWVudCwgYGhyZWZgLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVmZXRjaEROUygpOiBFeHBlY3RlZCBvbmx5IG9uZSBhcmd1bWVudCwgYGhyZWZgLCBidXQgZW5jb3VudGVyZWQgJXMgYXMgYSBzZWNvbmQgYXJndW1lbnQgaW5zdGVhZC4gVGhpcyBhcmd1bWVudCBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIG9wdGlvbnMgYW5kIGlzIGN1cnJlbnRseSBkaXNhbGxvd2VkLiBUcnkgY2FsbGluZyBSZWFjdERPTS5wcmVmZXRjaEROUygpIHdpdGgganVzdCBhIHNpbmdsZSBzdHJpbmcgYXJndW1lbnQsIGBocmVmYC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBJbnRlcm5hbHMuZC5EKGhyZWYpO1xuICAgIH07XG4gICAgZXhwb3J0cy5wcmVpbml0ID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWZcbiAgICAgICAgPyBudWxsID09IG9wdGlvbnMgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlaW5pdCgpOiBFeHBlY3RlZCB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IChzZWNvbmQpIHRvIGJlIGFuIG9iamVjdCB3aXRoIGFuIGBhc2AgcHJvcGVydHkgZGVzY3JpYmluZyB0aGUgdHlwZSBvZiByZXNvdXJjZSB0byBiZSBwcmVpbml0aWFsaXplZCBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwic3R5bGVcIiAhPT0gb3B0aW9ucy5hcyAmJlxuICAgICAgICAgICAgXCJzY3JpcHRcIiAhPT0gb3B0aW9ucy5hcyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJ1JlYWN0RE9NLnByZWluaXQoKTogRXhwZWN0ZWQgdGhlIGBhc2AgcHJvcGVydHkgaW4gdGhlIGBvcHRpb25zYCBhcmd1bWVudCAoc2Vjb25kKSB0byBjb250YWluIGEgdmFsaWQgdmFsdWUgZGVzY3JpYmluZyB0aGUgdHlwZSBvZiByZXNvdXJjZSB0byBiZSBwcmVpbml0aWFsaXplZCBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC4gVmFsaWQgdmFsdWVzIGZvciBgYXNgIGFyZSBcInN0eWxlXCIgYW5kIFwic2NyaXB0XCIuJyxcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucy5hcylcbiAgICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVpbml0KCk6IEV4cGVjdGVkIHRoZSBgaHJlZmAgYXJndW1lbnQgKGZpcnN0KSB0byBiZSBhIG5vbi1lbXB0eSBzdHJpbmcgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpXG4gICAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgb3B0aW9ucyAmJlxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hc1xuICAgICAgKSB7XG4gICAgICAgIHZhciBhcyA9IG9wdGlvbnMuYXMsXG4gICAgICAgICAgY3Jvc3NPcmlnaW4gPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKGFzLCBvcHRpb25zLmNyb3NzT3JpZ2luKSxcbiAgICAgICAgICBpbnRlZ3JpdHkgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5ID8gb3B0aW9ucy5pbnRlZ3JpdHkgOiB2b2lkIDAsXG4gICAgICAgICAgZmV0Y2hQcmlvcml0eSA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgICBcInN0eWxlXCIgPT09IGFzXG4gICAgICAgICAgPyBJbnRlcm5hbHMuZC5TKFxuICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5wcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLnByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6IGludGVncml0eSxcbiAgICAgICAgICAgICAgICBmZXRjaFByaW9yaXR5OiBmZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwic2NyaXB0XCIgPT09IGFzICYmXG4gICAgICAgICAgICBJbnRlcm5hbHMuZC5YKGhyZWYsIHtcbiAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICBpbnRlZ3JpdHk6IGludGVncml0eSxcbiAgICAgICAgICAgICAgZmV0Y2hQcmlvcml0eTogZmV0Y2hQcmlvcml0eSxcbiAgICAgICAgICAgICAgbm9uY2U6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm5vbmNlID8gb3B0aW9ucy5ub25jZSA6IHZvaWQgMFxuICAgICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWluaXRNb2R1bGUgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGVuY291bnRlcmVkID0gXCJcIjtcbiAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB8fFxuICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICBcIiBUaGUgYGhyZWZgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKSArXG4gICAgICAgICAgXCIuXCIpO1xuICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgID8gKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMpICtcbiAgICAgICAgICAgIFwiLlwiKVxuICAgICAgICA6IG9wdGlvbnMgJiZcbiAgICAgICAgICBcImFzXCIgaW4gb3B0aW9ucyAmJlxuICAgICAgICAgIFwic2NyaXB0XCIgIT09IG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgYXNgIG9wdGlvbiBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucy5hcykgK1xuICAgICAgICAgICAgXCIuXCIpO1xuICAgICAgaWYgKGVuY291bnRlcmVkKVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3RET00ucHJlaW5pdE1vZHVsZSgpOiBFeHBlY3RlZCB1cCB0byB0d28gYXJndW1lbnRzLCBhIG5vbi1lbXB0eSBgaHJlZmAgc3RyaW5nIGFuZCwgb3B0aW9uYWxseSwgYW4gYG9wdGlvbnNgIG9iamVjdCB3aXRoIGEgdmFsaWQgYGFzYCBwcm9wZXJ0eS4lc1wiLFxuICAgICAgICAgIGVuY291bnRlcmVkXG4gICAgICAgICk7XG4gICAgICBlbHNlXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKChlbmNvdW50ZXJlZCA9XG4gICAgICAgICAgICBvcHRpb25zICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzID8gb3B0aW9ucy5hcyA6IFwic2NyaXB0XCIpLFxuICAgICAgICAgIGVuY291bnRlcmVkKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgKGVuY291bnRlcmVkID1cbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcoZW5jb3VudGVyZWQpKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnUmVhY3RET00ucHJlaW5pdE1vZHVsZSgpOiBDdXJyZW50bHkgdGhlIG9ubHkgc3VwcG9ydGVkIFwiYXNcIiB0eXBlIGZvciB0aGlzIGZ1bmN0aW9uIGlzIFwic2NyaXB0XCIgYnV0IHJlY2VpdmVkIFwiJXNcIiBpbnN0ZWFkLiBUaGlzIHdhcm5pbmcgd2FzIGdlbmVyYXRlZCBmb3IgYGhyZWZgIFwiJXNcIi4gSW4gdGhlIGZ1dHVyZSBvdGhlciBtb2R1bGUgdHlwZXMgd2lsbCBiZSBzdXBwb3J0ZWQsIGFsaWduaW5nIHdpdGggdGhlIGltcG9ydC1hdHRyaWJ1dGVzIHByb3Bvc2FsLiBMZWFybiBtb3JlIGhlcmU6IChodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1pbXBvcnQtYXR0cmlidXRlcyknLFxuICAgICAgICAgICAgICAgIGVuY291bnRlcmVkLFxuICAgICAgICAgICAgICAgIGhyZWZcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmKVxuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgbnVsbCAhPT0gb3B0aW9ucykge1xuICAgICAgICAgIGlmIChudWxsID09IG9wdGlvbnMuYXMgfHwgXCJzY3JpcHRcIiA9PT0gb3B0aW9ucy5hcylcbiAgICAgICAgICAgIChlbmNvdW50ZXJlZCA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoXG4gICAgICAgICAgICAgIG9wdGlvbnMuYXMsXG4gICAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBJbnRlcm5hbHMuZC5NKGhyZWYsIHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogZW5jb3VudGVyZWQsXG4gICAgICAgICAgICAgICAgaW50ZWdyaXR5OlxuICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgbm9uY2U6XG4gICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB2b2lkIDBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBudWxsID09IG9wdGlvbnMgJiYgSW50ZXJuYWxzLmQuTShocmVmKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucHJlbG9hZCA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZW5jb3VudGVyZWQgPSBcIlwiO1xuICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHx8XG4gICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgIFwiIFRoZSBgaHJlZmAgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpICtcbiAgICAgICAgICBcIi5cIik7XG4gICAgICBudWxsID09IG9wdGlvbnMgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgPyAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgb3B0aW9uc2AgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucykgK1xuICAgICAgICAgICAgXCIuXCIpXG4gICAgICAgIDogKFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzICYmIG9wdGlvbnMuYXMpIHx8XG4gICAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYGFzYCBvcHRpb24gZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucy5hcykgK1xuICAgICAgICAgICAgXCIuXCIpO1xuICAgICAgZW5jb3VudGVyZWQgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnUmVhY3RET00ucHJlbG9hZCgpOiBFeHBlY3RlZCB0d28gYXJndW1lbnRzLCBhIG5vbi1lbXB0eSBgaHJlZmAgc3RyaW5nIGFuZCBhbiBgb3B0aW9uc2Agb2JqZWN0IHdpdGggYW4gYGFzYCBwcm9wZXJ0eSB2YWxpZCBmb3IgYSBgPGxpbmsgcmVsPVwicHJlbG9hZFwiIGFzPVwiLi4uXCIgLz5gIHRhZy4lcycsXG4gICAgICAgICAgZW5jb3VudGVyZWRcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiZcbiAgICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hc1xuICAgICAgKSB7XG4gICAgICAgIGVuY291bnRlcmVkID0gb3B0aW9ucy5hcztcbiAgICAgICAgdmFyIGNyb3NzT3JpZ2luID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhcbiAgICAgICAgICBlbmNvdW50ZXJlZCxcbiAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luXG4gICAgICAgICk7XG4gICAgICAgIEludGVybmFscy5kLkwoaHJlZiwgZW5jb3VudGVyZWQsIHtcbiAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgaW50ZWdyaXR5OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5ID8gb3B0aW9ucy5pbnRlZ3JpdHkgOiB2b2lkIDAsXG4gICAgICAgICAgbm9uY2U6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm5vbmNlID8gb3B0aW9ucy5ub25jZSA6IHZvaWQgMCxcbiAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy50eXBlID8gb3B0aW9ucy50eXBlIDogdm9pZCAwLFxuICAgICAgICAgIGZldGNoUHJpb3JpdHk6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5mZXRjaFByaW9yaXR5XG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIHJlZmVycmVyUG9saWN5OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMucmVmZXJyZXJQb2xpY3lcbiAgICAgICAgICAgICAgPyBvcHRpb25zLnJlZmVycmVyUG9saWN5XG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIGltYWdlU3JjU2V0OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIGltYWdlU2l6ZXM6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbWFnZVNpemVzXG4gICAgICAgICAgICAgID8gb3B0aW9ucy5pbWFnZVNpemVzXG4gICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgIG1lZGlhOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5tZWRpYSA/IG9wdGlvbnMubWVkaWEgOiB2b2lkIDBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWxvYWRNb2R1bGUgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGVuY291bnRlcmVkID0gXCJcIjtcbiAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB8fFxuICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICBcIiBUaGUgYGhyZWZgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKSArXG4gICAgICAgICAgXCIuXCIpO1xuICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgID8gKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMpICtcbiAgICAgICAgICAgIFwiLlwiKVxuICAgICAgICA6IG9wdGlvbnMgJiZcbiAgICAgICAgICBcImFzXCIgaW4gb3B0aW9ucyAmJlxuICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBvcHRpb25zLmFzICYmXG4gICAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYGFzYCBvcHRpb24gZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucy5hcykgK1xuICAgICAgICAgICAgXCIuXCIpO1xuICAgICAgZW5jb3VudGVyZWQgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnUmVhY3RET00ucHJlbG9hZE1vZHVsZSgpOiBFeHBlY3RlZCB0d28gYXJndW1lbnRzLCBhIG5vbi1lbXB0eSBgaHJlZmAgc3RyaW5nIGFuZCwgb3B0aW9uYWxseSwgYW4gYG9wdGlvbnNgIG9iamVjdCB3aXRoIGFuIGBhc2AgcHJvcGVydHkgdmFsaWQgZm9yIGEgYDxsaW5rIHJlbD1cIm1vZHVsZXByZWxvYWRcIiBhcz1cIi4uLlwiIC8+YCB0YWcuJXMnLFxuICAgICAgICAgIGVuY291bnRlcmVkXG4gICAgICAgICk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICAob3B0aW9uc1xuICAgICAgICAgID8gKChlbmNvdW50ZXJlZCA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoXG4gICAgICAgICAgICAgIG9wdGlvbnMuYXMsXG4gICAgICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgSW50ZXJuYWxzLmQubShocmVmLCB7XG4gICAgICAgICAgICAgIGFzOlxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzICYmIFwic2NyaXB0XCIgIT09IG9wdGlvbnMuYXNcbiAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5hc1xuICAgICAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBlbmNvdW50ZXJlZCxcbiAgICAgICAgICAgICAgaW50ZWdyaXR5OlxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgOiB2b2lkIDBcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIDogSW50ZXJuYWxzLmQubShocmVmKSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnJlcXVlc3RGb3JtUmVzZXQgPSBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgSW50ZXJuYWxzLmQucihmb3JtKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXMgPSBmdW5jdGlvbiAoZm4sIGEpIHtcbiAgICAgIHJldHVybiBmbihhKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUZvcm1TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSwgcGVybWFsaW5rKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRm9ybVN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjAuMFwiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20ucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20uZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLypcbiBNb2Rlcm5penIgMy4wLjBwcmUgKEN1c3RvbSBCdWlsZCkgfCBNSVRcbiovXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGZpbmRIb29rKGZpYmVyLCBpZCkge1xuICAgICAgZm9yIChmaWJlciA9IGZpYmVyLm1lbW9pemVkU3RhdGU7IG51bGwgIT09IGZpYmVyICYmIDAgPCBpZDsgKVxuICAgICAgICAoZmliZXIgPSBmaWJlci5uZXh0KSwgaWQtLTtcbiAgICAgIHJldHVybiBmaWJlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhTZXRJbXBsKG9iaiwgcGF0aCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgICBpZiAoaW5kZXggPj0gcGF0aC5sZW5ndGgpIHJldHVybiB2YWx1ZTtcbiAgICAgIHZhciBrZXkgPSBwYXRoW2luZGV4XSxcbiAgICAgICAgdXBkYXRlZCA9IGlzQXJyYXlJbXBsKG9iaikgPyBvYmouc2xpY2UoKSA6IGFzc2lnbih7fSwgb2JqKTtcbiAgICAgIHVwZGF0ZWRba2V5XSA9IGNvcHlXaXRoU2V0SW1wbChvYmpba2V5XSwgcGF0aCwgaW5kZXggKyAxLCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhSZW5hbWUob2JqLCBvbGRQYXRoLCBuZXdQYXRoKSB7XG4gICAgICBpZiAob2xkUGF0aC5sZW5ndGggIT09IG5ld1BhdGgubGVuZ3RoKVxuICAgICAgICBjb25zb2xlLndhcm4oXCJjb3B5V2l0aFJlbmFtZSgpIGV4cGVjdHMgcGF0aHMgb2YgdGhlIHNhbWUgbGVuZ3RoXCIpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3UGF0aC5sZW5ndGggLSAxOyBpKyspXG4gICAgICAgICAgaWYgKG9sZFBhdGhbaV0gIT09IG5ld1BhdGhbaV0pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJjb3B5V2l0aFJlbmFtZSgpIGV4cGVjdHMgcGF0aHMgdG8gYmUgdGhlIHNhbWUgZXhjZXB0IGZvciB0aGUgZGVlcGVzdCBrZXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5V2l0aFJlbmFtZUltcGwob2JqLCBvbGRQYXRoLCBuZXdQYXRoLCAwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhSZW5hbWVJbXBsKG9iaiwgb2xkUGF0aCwgbmV3UGF0aCwgaW5kZXgpIHtcbiAgICAgIHZhciBvbGRLZXkgPSBvbGRQYXRoW2luZGV4XSxcbiAgICAgICAgdXBkYXRlZCA9IGlzQXJyYXlJbXBsKG9iaikgPyBvYmouc2xpY2UoKSA6IGFzc2lnbih7fSwgb2JqKTtcbiAgICAgIGluZGV4ICsgMSA9PT0gb2xkUGF0aC5sZW5ndGhcbiAgICAgICAgPyAoKHVwZGF0ZWRbbmV3UGF0aFtpbmRleF1dID0gdXBkYXRlZFtvbGRLZXldKSxcbiAgICAgICAgICBpc0FycmF5SW1wbCh1cGRhdGVkKVxuICAgICAgICAgICAgPyB1cGRhdGVkLnNwbGljZShvbGRLZXksIDEpXG4gICAgICAgICAgICA6IGRlbGV0ZSB1cGRhdGVkW29sZEtleV0pXG4gICAgICAgIDogKHVwZGF0ZWRbb2xkS2V5XSA9IGNvcHlXaXRoUmVuYW1lSW1wbChcbiAgICAgICAgICAgIG9ialtvbGRLZXldLFxuICAgICAgICAgICAgb2xkUGF0aCxcbiAgICAgICAgICAgIG5ld1BhdGgsXG4gICAgICAgICAgICBpbmRleCArIDFcbiAgICAgICAgICApKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aERlbGV0ZUltcGwob2JqLCBwYXRoLCBpbmRleCkge1xuICAgICAgdmFyIGtleSA9IHBhdGhbaW5kZXhdLFxuICAgICAgICB1cGRhdGVkID0gaXNBcnJheUltcGwob2JqKSA/IG9iai5zbGljZSgpIDogYXNzaWduKHt9LCBvYmopO1xuICAgICAgaWYgKGluZGV4ICsgMSA9PT0gcGF0aC5sZW5ndGgpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaXNBcnJheUltcGwodXBkYXRlZCkgPyB1cGRhdGVkLnNwbGljZShrZXksIDEpIDogZGVsZXRlIHVwZGF0ZWRba2V5XSxcbiAgICAgICAgICB1cGRhdGVkXG4gICAgICAgICk7XG4gICAgICB1cGRhdGVkW2tleV0gPSBjb3B5V2l0aERlbGV0ZUltcGwob2JqW2tleV0sIHBhdGgsIGluZGV4ICsgMSk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkU3VzcGVuZEltcGwoKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZEVycm9ySW1wbCgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlcih0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gICAgICByZXR1cm4gbmV3IEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkludmFsaWRIb29rQWNjZXNzKCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJEbyBub3QgY2FsbCBIb29rcyBpbnNpZGUgdXNlRWZmZWN0KC4uLiksIHVzZU1lbW8oLi4uKSwgb3Igb3RoZXIgYnVpbHQtaW4gSG9va3MuIFlvdSBjYW4gb25seSBjYWxsIEhvb2tzIGF0IHRoZSB0b3AgbGV2ZWwgb2YgeW91ciBSZWFjdCBmdW5jdGlvbi4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3J1bGVzLW9mLWhvb2tzXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gSW4gY2xhc3NlcywgeW91IGNhbiByZWFkIGl0IGluIHRoZSByZW5kZXIgbWV0aG9kIG9yIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gSW4gZnVuY3Rpb24gY29tcG9uZW50cywgeW91IGNhbiByZWFkIGl0IGRpcmVjdGx5IGluIHRoZSBmdW5jdGlvbiBib2R5LCBidXQgbm90IGluc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMigpIHt9XG4gICAgZnVuY3Rpb24gd2FybkZvck1pc3NpbmdLZXkoKSB7fVxuICAgIGZ1bmN0aW9uIHNldFRvU29ydGVkU3RyaW5nKHNldCkge1xuICAgICAgdmFyIGFycmF5ID0gW107XG4gICAgICBzZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhcnJheS5zb3J0KCkuam9pbihcIiwgXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJvb3Qocm9vdCwgZWxlbWVudCkge1xuICAgICAgcm9vdC5jb250ZXh0ID09PSBlbXB0eUNvbnRleHRPYmplY3QgJiZcbiAgICAgICAgKHVwZGF0ZUNvbnRhaW5lclN5bmMoZWxlbWVudCwgcm9vdCwgbnVsbCwgbnVsbCksIGZsdXNoU3luY1dvcmskMSgpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVSZWZyZXNoKHJvb3QsIHVwZGF0ZSkge1xuICAgICAgaWYgKG51bGwgIT09IHJlc29sdmVGYW1pbHkpIHtcbiAgICAgICAgdmFyIHN0YWxlRmFtaWxpZXMgPSB1cGRhdGUuc3RhbGVGYW1pbGllcztcbiAgICAgICAgdXBkYXRlID0gdXBkYXRlLnVwZGF0ZWRGYW1pbGllcztcbiAgICAgICAgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgICBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgICAgIHJvb3QuY3VycmVudCxcbiAgICAgICAgICB1cGRhdGUsXG4gICAgICAgICAgc3RhbGVGYW1pbGllc1xuICAgICAgICApO1xuICAgICAgICBmbHVzaFN5bmNXb3JrJDEoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UmVmcmVzaEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgcmVzb2x2ZUZhbWlseSA9IGhhbmRsZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRDb250YWluZXIobm9kZSkge1xuICAgICAgcmV0dXJuICEoXG4gICAgICAgICFub2RlIHx8XG4gICAgICAgICgxICE9PSBub2RlLm5vZGVUeXBlICYmIDkgIT09IG5vZGUubm9kZVR5cGUgJiYgMTEgIT09IG5vZGUubm9kZVR5cGUpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBtYXliZUl0ZXJhYmxlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIG1heWJlSXRlcmFibGUgPVxuICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgbWF5YmVJdGVyYWJsZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSA/IG1heWJlSXRlcmFibGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21Pd25lcihvd25lcikge1xuICAgICAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvd25lci50YWdcbiAgICAgICAgPyBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKG93bmVyKVxuICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvd25lci5uYW1lXG4gICAgICAgICAgPyBvd25lci5uYW1lXG4gICAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB7XG4gICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiBcIkNhY2hlXCI7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICByZXR1cm4gXCJEZWh5ZHJhdGVkRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpYmVyID0gdHlwZS5yZW5kZXIpLFxuICAgICAgICAgICAgKGZpYmVyID0gZmliZXIuZGlzcGxheU5hbWUgfHwgZmliZXIubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgICAgKFwiXCIgIT09IGZpYmVyID8gXCJGb3J3YXJkUmVmKFwiICsgZmliZXIgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiBcIlJvb3RcIjtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHJldHVybiBcIlRleHRcIjtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPyBcIlN0cmljdE1vZGVcIiA6IFwiTW9kZVwiO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHVybiBcIk9mZnNjcmVlblwiO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgcmV0dXJuIFwiU2NvcGVcIjtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIHJldHVybiBcIlRyYWNpbmdNYXJrZXJcIjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgICAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgIHR5cGUgPSBmaWJlci5fZGVidWdJbmZvO1xuICAgICAgICAgIGlmIChudWxsICE9IHR5cGUpXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdHlwZS5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlW2ldLm5hbWUpIHJldHVybiB0eXBlW2ldLm5hbWU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGZpYmVyLnJldHVybilcbiAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyLnJldHVybik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuICAgIGZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGluZm86IHByb3BzLFxuICAgICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgICAgZXJyb3I6IHByb3BzLFxuICAgICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGlzYWJsZWREZXB0aCsrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWVuYWJsZUxvZ3MoKSB7XG4gICAgICBkaXNhYmxlZERlcHRoLS07XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB7IGNvbmZpZ3VyYWJsZTogITAsIGVudW1lcmFibGU6ICEwLCB3cml0YWJsZTogITAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkxvZyB9KSxcbiAgICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2SW5mbyB9KSxcbiAgICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2V2FybiB9KSxcbiAgICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkVycm9yIH0pLFxuICAgICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXAgfSksXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZCB9KSxcbiAgICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwRW5kIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgMCA+IGRpc2FibGVkRGVwdGggJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImRpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBwcmVmaXgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgICAgcHJlZml4ID0gKG1hdGNoICYmIG1hdGNoWzFdKSB8fCBcIlwiO1xuICAgICAgICAgIHN1ZmZpeCA9XG4gICAgICAgICAgICAtMSA8IHguc3RhY2suaW5kZXhPZihcIlxcbiAgICBhdFwiKVxuICAgICAgICAgICAgICA/IFwiICg8YW5vbnltb3VzPilcIlxuICAgICAgICAgICAgICA6IC0xIDwgeC5zdGFjay5pbmRleE9mKFwiQFwiKVxuICAgICAgICAgICAgICAgID8gXCJAdW5rbm93bjowOjBcIlxuICAgICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXFxuXCIgKyBwcmVmaXggKyBuYW1lICsgc3VmZml4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcbiAgICAgIGlmICghZm4gfHwgcmVlbnRyeSkgcmV0dXJuIFwiXCI7XG4gICAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG4gICAgICBpZiAodm9pZCAwICE9PSBmcmFtZSkgcmV0dXJuIGZyYW1lO1xuICAgICAgcmVlbnRyeSA9ICEwO1xuICAgICAgZnJhbWUgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IG51bGw7XG4gICAgICBkaXNhYmxlTG9ncygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIFJ1bkluUm9vdEZyYW1lID0ge1xuICAgICAgICAgIERldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSB4O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChGYWtlID0gZm4oKSkgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEZha2UuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgIEZha2UuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzYW1wbGUuc3RhY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdC5kaXNwbGF5TmFtZSA9XG4gICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIjtcbiAgICAgICAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgIFwibmFtZVwiXG4gICAgICAgICk7XG4gICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci5jb25maWd1cmFibGUgJiZcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCIgfVxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPVxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290KCksXG4gICAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgICAgY29udHJvbFN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzFdO1xuICAgICAgICBpZiAoc2FtcGxlU3RhY2sgJiYgY29udHJvbFN0YWNrKSB7XG4gICAgICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlU3RhY2suc3BsaXQoXCJcXG5cIiksXG4gICAgICAgICAgICBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IG5hbWVQcm9wRGVzY3JpcHRvciA9IDA7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPCBzYW1wbGVMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yKys7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA8IGNvbnRyb2xMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlcisrO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9PT0gc2FtcGxlTGluZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPT09IGNvbnRyb2xMaW5lcy5sZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlciAmJlxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcjtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci0tLCBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoMSAhPT0gbmFtZVByb3BEZXNjcmlwdG9yIHx8IDEgIT09IF9SdW5JblJvb3RGcmFtZSREZXRlcikge1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIChuYW1lUHJvcERlc2NyaXB0b3ItLSxcbiAgICAgICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS0sXG4gICAgICAgICAgICAgICAgICAgIDAgPiBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mcmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgbmV3IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBmbi5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgKF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKFwiPGFub255bW91cz5cIiwgZm4uZGlzcGxheU5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAocmVlbnRyeSA9ICExKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZpb3VzRGlzcGF0Y2hlciksXG4gICAgICAgICAgcmVlbmFibGVMb2dzKCksXG4gICAgICAgICAgKEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnJhbWUpO1xuICAgICAgfVxuICAgICAgc2FtcGxlTGluZXMgPSAoc2FtcGxlTGluZXMgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiBcIlwiKVxuICAgICAgICA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHNhbXBsZUxpbmVzKVxuICAgICAgICA6IFwiXCI7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJiBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc2FtcGxlTGluZXMpO1xuICAgICAgcmV0dXJuIHNhbXBsZUxpbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZpYmVyKGZpYmVyKSB7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKGZpYmVyLnR5cGUpO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIkxhenlcIik7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VMaXN0XCIpO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZSwgITEpKSwgZmliZXI7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChmaWJlciA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZS5yZW5kZXIsICExKSksIGZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoZmliZXIgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZpYmVyLnR5cGUsICEwKSksIGZpYmVyO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBpbmZvID0gXCJcIjtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGluZm8gKz0gZGVzY3JpYmVGaWJlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgdmFyIGRlYnVnSW5mbyA9IHdvcmtJblByb2dyZXNzLl9kZWJ1Z0luZm87XG4gICAgICAgICAgaWYgKGRlYnVnSW5mbylcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWJ1Z0luZm8ubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gZGVidWdJbmZvW2ldO1xuICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVudHJ5Lm5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gaW5mbyxcbiAgICAgICAgICAgICAgICAgIGVudiA9IGVudHJ5LmVudjtcbiAgICAgICAgICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXG4gICAgICAgICAgICAgICAgICBlbnRyeS5uYW1lICsgKGVudiA/IFwiIFtcIiArIGVudiArIFwiXVwiIDogXCJcIilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGluZm8gPSBKU0NvbXBpbGVyX3RlbXBfY29uc3QgKyBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgfSB3aGlsZSAod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiXFxuRXJyb3IgZ2VuZXJhdGluZyBzdGFjazogXCIgKyB4Lm1lc3NhZ2UgKyBcIlxcblwiICsgeC5zdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgb3duZXIgPSBjdXJyZW50Ll9kZWJ1Z093bmVyO1xuICAgICAgcmV0dXJuIG51bGwgIT0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lRnJvbU93bmVyKG93bmVyKSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXYoKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gY3VycmVudCA/IFwiXCIgOiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2QoY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bldpdGhGaWJlckluREVWKGZpYmVyLCBjYWxsYmFjaywgYXJnMCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCkge1xuICAgICAgdmFyIHByZXZpb3VzRmliZXIgPSBjdXJyZW50O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID1cbiAgICAgICAgbnVsbCA9PT0gZmliZXIgPyBudWxsIDogZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldjtcbiAgICAgIGlzUmVuZGVyaW5nID0gITE7XG4gICAgICBjdXJyZW50ID0gZmliZXI7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soYXJnMCwgYXJnMSwgYXJnMiwgYXJnMywgYXJnNCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50ID0gcHJldmlvdXNGaWJlcjtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcInJ1bldpdGhGaWJlckluREVWIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgaW4gcHJvZHVjdGlvbi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihmaWJlcikge1xuICAgICAgdmFyIG5vZGUgPSBmaWJlcixcbiAgICAgICAgbmVhcmVzdE1vdW50ZWQgPSBmaWJlcjtcbiAgICAgIGlmIChmaWJlci5hbHRlcm5hdGUpIGZvciAoOyBub2RlLnJldHVybjsgKSBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICBlbHNlIHtcbiAgICAgICAgZmliZXIgPSBub2RlO1xuICAgICAgICBkb1xuICAgICAgICAgIChub2RlID0gZmliZXIpLFxuICAgICAgICAgICAgMCAhPT0gKG5vZGUuZmxhZ3MgJiA0MDk4KSAmJiAobmVhcmVzdE1vdW50ZWQgPSBub2RlLnJldHVybiksXG4gICAgICAgICAgICAoZmliZXIgPSBub2RlLnJldHVybik7XG4gICAgICAgIHdoaWxlIChmaWJlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gMyA9PT0gbm9kZS50YWcgPyBuZWFyZXN0TW91bnRlZCA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIoZmliZXIpIHtcbiAgICAgIGlmICgxMyA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIHZhciBzdXNwZW5zZVN0YXRlID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgbnVsbCA9PT0gc3VzcGVuc2VTdGF0ZSAmJlxuICAgICAgICAgICgoZmliZXIgPSBmaWJlci5hbHRlcm5hdGUpLFxuICAgICAgICAgIG51bGwgIT09IGZpYmVyICYmIChzdXNwZW5zZVN0YXRlID0gZmliZXIubWVtb2l6ZWRTdGF0ZSkpO1xuICAgICAgICBpZiAobnVsbCAhPT0gc3VzcGVuc2VTdGF0ZSkgcmV0dXJuIHN1c3BlbnNlU3RhdGUuZGVoeWRyYXRlZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhc3NlcnRJc01vdW50ZWQoZmliZXIpIHtcbiAgICAgIGlmIChnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKSAhPT0gZmliZXIpXG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgoZmliZXIpIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBpZiAoIWFsdGVybmF0ZSkge1xuICAgICAgICBhbHRlcm5hdGUgPSBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGFsdGVybmF0ZSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIHJldHVybiBhbHRlcm5hdGUgIT09IGZpYmVyID8gbnVsbCA6IGZpYmVyO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgYSA9IGZpYmVyLCBiID0gYWx0ZXJuYXRlOyA7ICkge1xuICAgICAgICB2YXIgcGFyZW50QSA9IGEucmV0dXJuO1xuICAgICAgICBpZiAobnVsbCA9PT0gcGFyZW50QSkgYnJlYWs7XG4gICAgICAgIHZhciBwYXJlbnRCID0gcGFyZW50QS5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChudWxsID09PSBwYXJlbnRCKSB7XG4gICAgICAgICAgYiA9IHBhcmVudEEucmV0dXJuO1xuICAgICAgICAgIGlmIChudWxsICE9PSBiKSB7XG4gICAgICAgICAgICBhID0gYjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50QS5jaGlsZCA9PT0gcGFyZW50Qi5jaGlsZCkge1xuICAgICAgICAgIGZvciAocGFyZW50QiA9IHBhcmVudEEuY2hpbGQ7IHBhcmVudEI7ICkge1xuICAgICAgICAgICAgaWYgKHBhcmVudEIgPT09IGEpIHJldHVybiBhc3NlcnRJc01vdW50ZWQocGFyZW50QSksIGZpYmVyO1xuICAgICAgICAgICAgaWYgKHBhcmVudEIgPT09IGIpIHJldHVybiBhc3NlcnRJc01vdW50ZWQocGFyZW50QSksIGFsdGVybmF0ZTtcbiAgICAgICAgICAgIHBhcmVudEIgPSBwYXJlbnRCLnNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5yZXR1cm4gIT09IGIucmV0dXJuKSAoYSA9IHBhcmVudEEpLCAoYiA9IHBhcmVudEIpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBkaWRGaW5kQ2hpbGQgPSAhMSwgX2NoaWxkID0gcGFyZW50QS5jaGlsZDsgX2NoaWxkOyApIHtcbiAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9ICEwO1xuICAgICAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZGlkRmluZENoaWxkKSB7XG4gICAgICAgICAgICBmb3IgKF9jaGlsZCA9IHBhcmVudEIuY2hpbGQ7IF9jaGlsZDsgKSB7XG4gICAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGEpIHtcbiAgICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgICBiID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoX2NoaWxkID09PSBiKSB7XG4gICAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX2NoaWxkID0gX2NoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRpZEZpbmRDaGlsZClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJDaGlsZCB3YXMgbm90IGZvdW5kIGluIGVpdGhlciBwYXJlbnQgc2V0LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdCByZWxhdGVkIHRvIHRoZSByZXR1cm4gcG9pbnRlci4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEuYWx0ZXJuYXRlICE9PSBiKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZXR1cm4gZmliZXJzIHNob3VsZCBhbHdheXMgYmUgZWFjaCBvdGhlcnMnIGFsdGVybmF0ZXMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKDMgIT09IGEudGFnKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICByZXR1cm4gYS5zdGF0ZU5vZGUuY3VycmVudCA9PT0gYSA/IGZpYmVyIDogYWx0ZXJuYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQ3VycmVudEhvc3RGaWJlckltcGwobm9kZSkge1xuICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCAyNiA9PT0gdGFnIHx8IDI3ID09PSB0YWcgfHwgNiA9PT0gdGFnKSByZXR1cm4gbm9kZTtcbiAgICAgIGZvciAobm9kZSA9IG5vZGUuY2hpbGQ7IG51bGwgIT09IG5vZGU7ICkge1xuICAgICAgICB0YWcgPSBmaW5kQ3VycmVudEhvc3RGaWJlckltcGwobm9kZSk7XG4gICAgICAgIGlmIChudWxsICE9PSB0YWcpIHJldHVybiB0YWc7XG4gICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ3Vyc29yKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY3VycmVudDogZGVmYXVsdFZhbHVlIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcChjdXJzb3IsIGZpYmVyKSB7XG4gICAgICAwID4gaW5kZXgkanNjb21wJDBcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBwb3AuXCIpXG4gICAgICAgIDogKGZpYmVyICE9PSBmaWJlclN0YWNrW2luZGV4JGpzY29tcCQwXSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgRmliZXIgcG9wcGVkLlwiKSxcbiAgICAgICAgICAoY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZVN0YWNrW2luZGV4JGpzY29tcCQwXSksXG4gICAgICAgICAgKHZhbHVlU3RhY2tbaW5kZXgkanNjb21wJDBdID0gbnVsbCksXG4gICAgICAgICAgKGZpYmVyU3RhY2tbaW5kZXgkanNjb21wJDBdID0gbnVsbCksXG4gICAgICAgICAgaW5kZXgkanNjb21wJDAtLSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2goY3Vyc29yLCB2YWx1ZSwgZmliZXIpIHtcbiAgICAgIGluZGV4JGpzY29tcCQwKys7XG4gICAgICB2YWx1ZVN0YWNrW2luZGV4JGpzY29tcCQwXSA9IGN1cnNvci5jdXJyZW50O1xuICAgICAgZmliZXJTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBmaWJlcjtcbiAgICAgIGN1cnNvci5jdXJyZW50ID0gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVpcmVkQ29udGV4dChjKSB7XG4gICAgICBudWxsID09PSBjICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCBob3N0IGNvbnRleHQgdG8gZXhpc3QuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoSG9zdENvbnRhaW5lcihmaWJlciwgbmV4dFJvb3RJbnN0YW5jZSkge1xuICAgICAgcHVzaChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgbmV4dFJvb3RJbnN0YW5jZSwgZmliZXIpO1xuICAgICAgcHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKTtcbiAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBudWxsLCBmaWJlcik7XG4gICAgICB2YXIgbmV4dFJvb3RDb250ZXh0ID0gbmV4dFJvb3RJbnN0YW5jZS5ub2RlVHlwZTtcbiAgICAgIHN3aXRjaCAobmV4dFJvb3RDb250ZXh0KSB7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBuZXh0Um9vdENvbnRleHQgPSA5ID09PSBuZXh0Um9vdENvbnRleHQgPyBcIiNkb2N1bWVudFwiIDogXCIjZnJhZ21lbnRcIjtcbiAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlID0gKG5leHRSb290SW5zdGFuY2UgPVxuICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZS5kb2N1bWVudEVsZW1lbnQpXG4gICAgICAgICAgICA/IChuZXh0Um9vdEluc3RhbmNlID0gbmV4dFJvb3RJbnN0YW5jZS5uYW1lc3BhY2VVUkkpXG4gICAgICAgICAgICAgID8gZ2V0T3duSG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSlcbiAgICAgICAgICAgICAgOiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmVcbiAgICAgICAgICAgIDogSG9zdENvbnRleHROYW1lc3BhY2VOb25lO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICgobmV4dFJvb3RJbnN0YW5jZSA9XG4gICAgICAgICAgICAgIDggPT09IG5leHRSb290Q29udGV4dFxuICAgICAgICAgICAgICAgID8gbmV4dFJvb3RJbnN0YW5jZS5wYXJlbnROb2RlXG4gICAgICAgICAgICAgICAgOiBuZXh0Um9vdEluc3RhbmNlKSxcbiAgICAgICAgICAgIChuZXh0Um9vdENvbnRleHQgPSBuZXh0Um9vdEluc3RhbmNlLnRhZ05hbWUpLFxuICAgICAgICAgICAgKG5leHRSb290SW5zdGFuY2UgPSBuZXh0Um9vdEluc3RhbmNlLm5hbWVzcGFjZVVSSSkpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKG5leHRSb290SW5zdGFuY2UgPSBnZXRPd25Ib3N0Q29udGV4dChuZXh0Um9vdEluc3RhbmNlKSksXG4gICAgICAgICAgICAgIChuZXh0Um9vdEluc3RhbmNlID0gZ2V0Q2hpbGRIb3N0Q29udGV4dFByb2QoXG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBuZXh0Um9vdENvbnRleHRcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3dpdGNoIChuZXh0Um9vdENvbnRleHQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIm1hdGhcIjpcbiAgICAgICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlID0gSG9zdENvbnRleHROYW1lc3BhY2VNYXRoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0Um9vdENvbnRleHQgPSBuZXh0Um9vdENvbnRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5leHRSb290Q29udGV4dCA9IHVwZGF0ZWRBbmNlc3RvckluZm9EZXYobnVsbCwgbmV4dFJvb3RDb250ZXh0KTtcbiAgICAgIG5leHRSb290Q29udGV4dCA9IHtcbiAgICAgICAgY29udGV4dDogbmV4dFJvb3RJbnN0YW5jZSxcbiAgICAgICAgYW5jZXN0b3JJbmZvOiBuZXh0Um9vdENvbnRleHRcbiAgICAgIH07XG4gICAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbmV4dFJvb3RDb250ZXh0LCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEhvc3RDb250YWluZXIoZmliZXIpIHtcbiAgICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgcG9wKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvc3RDb250ZXh0KCkge1xuICAgICAgcmV0dXJuIHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hIb3N0Q29udGV4dChmaWJlcikge1xuICAgICAgbnVsbCAhPT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICBwdXNoKGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG4gICAgICB2YXIgY29udGV4dCA9IHJlcXVpcmVkQ29udGV4dChjb250ZXh0U3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGU7XG4gICAgICB2YXIgbmV4dENvbnRleHQgPSBnZXRDaGlsZEhvc3RDb250ZXh0UHJvZChjb250ZXh0LmNvbnRleHQsIHR5cGUpO1xuICAgICAgdHlwZSA9IHVwZGF0ZWRBbmNlc3RvckluZm9EZXYoY29udGV4dC5hbmNlc3RvckluZm8sIHR5cGUpO1xuICAgICAgbmV4dENvbnRleHQgPSB7IGNvbnRleHQ6IG5leHRDb250ZXh0LCBhbmNlc3RvckluZm86IHR5cGUgfTtcbiAgICAgIGNvbnRleHQgIT09IG5leHRDb250ZXh0ICYmXG4gICAgICAgIChwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpLFxuICAgICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbmV4dENvbnRleHQsIGZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gICAgICBjb250ZXh0RmliZXJTdGFja0N1cnNvci5jdXJyZW50ID09PSBmaWJlciAmJlxuICAgICAgICAocG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpLCBwb3AoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyKSk7XG4gICAgICBob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yLmN1cnJlbnQgPT09IGZpYmVyICYmXG4gICAgICAgIChwb3AoaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvciwgZmliZXIpLFxuICAgICAgICAoSG9zdFRyYW5zaXRpb25Db250ZXh0Ll9jdXJyZW50VmFsdWUgPSBOb3RQZW5kaW5nVHJhbnNpdGlvbikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgXCJPYmplY3RcIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2lsbENvZXJjaW9uVGhyb3codmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpLCAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGAlc2AgYXR0cmlidXRlIGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgIHR5cGVOYW1lKHZhbHVlKVxuICAgICAgICAgICksXG4gICAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BOYW1lKSB7XG4gICAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBwcm92aWRlZCBgJXNgIENTUyBwcm9wZXJ0eSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAgIHByb3BOYW1lLFxuICAgICAgICAgICAgdHlwZU5hbWUodmFsdWUpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJGb3JtIGZpZWxkIHZhbHVlcyAodmFsdWUsIGNoZWNrZWQsIGRlZmF1bHRWYWx1ZSwgb3IgZGVmYXVsdENoZWNrZWQgcHJvcHMpIG11c3QgYmUgc3RyaW5ncywgbm90ICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAgIHR5cGVOYW1lKHZhbHVlKVxuICAgICAgICAgICksXG4gICAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKSB7XG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXykgcmV0dXJuICExO1xuICAgICAgdmFyIGhvb2sgPSBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG4gICAgICBpZiAoaG9vay5pc0Rpc2FibGVkKSByZXR1cm4gITA7XG4gICAgICBpZiAoIWhvb2suc3VwcG9ydHNGaWJlcilcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgaW5zdGFsbGVkIHZlcnNpb24gb2YgUmVhY3QgRGV2VG9vbHMgaXMgdG9vIG9sZCBhbmQgd2lsbCBub3Qgd29yayB3aXRoIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUmVhY3QuIFBsZWFzZSB1cGRhdGUgUmVhY3QgRGV2VG9vbHMuIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcmVhY3QtZGV2dG9vbHNcIlxuICAgICAgICAgICksXG4gICAgICAgICAgITBcbiAgICAgICAgKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIChyZW5kZXJlcklEID0gaG9vay5pbmplY3QoaW50ZXJuYWxzKSksIChpbmplY3RlZEhvb2sgPSBob29rKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlcy5cIiwgZXJyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBob29rLmNoZWNrRENFID8gITAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25Db21taXRSb290JDEocm9vdCwgZXZlbnRQcmlvcml0eSkge1xuICAgICAgaWYgKGluamVjdGVkSG9vayAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclJvb3QpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGRpZEVycm9yID0gMTI4ID09PSAocm9vdC5jdXJyZW50LmZsYWdzICYgMTI4KTtcbiAgICAgICAgICBzd2l0Y2ggKGV2ZW50UHJpb3JpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgRGlzY3JldGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICB2YXIgc2NoZWR1bGVyUHJpb3JpdHkgPSBJbW1lZGlhdGVQcmlvcml0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnRpbnVvdXNFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IFVzZXJCbG9ja2luZ1ByaW9yaXR5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRGVmYXVsdEV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIElkbGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IElkbGVQcmlvcml0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IE5vcm1hbFByaW9yaXR5JDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyUm9vdChcbiAgICAgICAgICAgIHJlbmRlcmVySUQsXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHksXG4gICAgICAgICAgICBkaWRFcnJvclxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMobmV3SXNTdHJpY3RNb2RlKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBsb2ckMSAmJlxuICAgICAgICB1bnN0YWJsZV9zZXREaXNhYmxlWWllbGRWYWx1ZShuZXdJc1N0cmljdE1vZGUpO1xuICAgICAgaWYgKGluamVjdGVkSG9vayAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2suc2V0U3RyaWN0TW9kZSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmplY3RlZEhvb2suc2V0U3RyaWN0TW9kZShyZW5kZXJlcklELCBuZXdJc1N0cmljdE1vZGUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluamVjdFByb2ZpbGluZ0hvb2tzKHByb2ZpbGluZ0hvb2tzKSB7XG4gICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzID0gcHJvZmlsaW5nSG9va3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtDb21taXRTdG9wcGVkKCkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21taXRTdG9wcGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0b3BwZWQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQoZmliZXIpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RhcnRlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdGFydGVkKGxhbmVzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JlbmRlclN0b3BwZWQoKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclN0b3BwZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RvcHBlZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIGxhbmUpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIGxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbHozMkZhbGxiYWNrKHgpIHtcbiAgICAgIHggPj4+PSAwO1xuICAgICAgcmV0dXJuIDAgPT09IHggPyAzMiA6ICgzMSAtICgobG9nKHgpIC8gTE4yKSB8IDApKSB8IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExhYmVsRm9yTGFuZShsYW5lKSB7XG4gICAgICBpZiAobGFuZSAmIDEpIHJldHVybiBcIlN5bmNIeWRyYXRpb25MYW5lXCI7XG4gICAgICBpZiAobGFuZSAmIDIpIHJldHVybiBcIlN5bmNcIjtcbiAgICAgIGlmIChsYW5lICYgNCkgcmV0dXJuIFwiSW5wdXRDb250aW51b3VzSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDgpIHJldHVybiBcIklucHV0Q29udGludW91c1wiO1xuICAgICAgaWYgKGxhbmUgJiAxNikgcmV0dXJuIFwiRGVmYXVsdEh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiAzMikgcmV0dXJuIFwiRGVmYXVsdFwiO1xuICAgICAgaWYgKGxhbmUgJiA2NCkgcmV0dXJuIFwiVHJhbnNpdGlvbkh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiA0MTk0MTc2KSByZXR1cm4gXCJUcmFuc2l0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDYyOTE0NTYwKSByZXR1cm4gXCJSZXRyeVwiO1xuICAgICAgaWYgKGxhbmUgJiA2NzEwODg2NCkgcmV0dXJuIFwiU2VsZWN0aXZlSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDEzNDIxNzcyOCkgcmV0dXJuIFwiSWRsZUh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiAyNjg0MzU0NTYpIHJldHVybiBcIklkbGVcIjtcbiAgICAgIGlmIChsYW5lICYgNTM2ODcwOTEyKSByZXR1cm4gXCJPZmZzY3JlZW5cIjtcbiAgICAgIGlmIChsYW5lICYgMTA3Mzc0MTgyNCkgcmV0dXJuIFwiRGVmZXJyZWRcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMobGFuZXMpIHtcbiAgICAgIHZhciBwZW5kaW5nU3luY0xhbmVzID0gbGFuZXMgJiA0MjtcbiAgICAgIGlmICgwICE9PSBwZW5kaW5nU3luY0xhbmVzKSByZXR1cm4gcGVuZGluZ1N5bmNMYW5lcztcbiAgICAgIHN3aXRjaCAobGFuZXMgJiAtbGFuZXMpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gNDtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiA4O1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiAxNjtcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICByZXR1cm4gMzI7XG4gICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgcmV0dXJuIDY0O1xuICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgY2FzZSAyNTY6XG4gICAgICAgIGNhc2UgNTEyOlxuICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgIGNhc2UgMjA0ODpcbiAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgIGNhc2UgMTYzODQ6XG4gICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgIGNhc2UgNjU1MzY6XG4gICAgICAgIGNhc2UgMTMxMDcyOlxuICAgICAgICBjYXNlIDI2MjE0NDpcbiAgICAgICAgY2FzZSA1MjQyODg6XG4gICAgICAgIGNhc2UgMTA0ODU3NjpcbiAgICAgICAgY2FzZSAyMDk3MTUyOlxuICAgICAgICAgIHJldHVybiBsYW5lcyAmIDQxOTQxNzY7XG4gICAgICAgIGNhc2UgNDE5NDMwNDpcbiAgICAgICAgY2FzZSA4Mzg4NjA4OlxuICAgICAgICBjYXNlIDE2Nzc3MjE2OlxuICAgICAgICBjYXNlIDMzNTU0NDMyOlxuICAgICAgICAgIHJldHVybiBsYW5lcyAmIDYyOTE0NTYwO1xuICAgICAgICBjYXNlIDY3MTA4ODY0OlxuICAgICAgICAgIHJldHVybiA2NzEwODg2NDtcbiAgICAgICAgY2FzZSAxMzQyMTc3Mjg6XG4gICAgICAgICAgcmV0dXJuIDEzNDIxNzcyODtcbiAgICAgICAgY2FzZSAyNjg0MzU0NTY6XG4gICAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NjtcbiAgICAgICAgY2FzZSA1MzY4NzA5MTI6XG4gICAgICAgICAgcmV0dXJuIDUzNjg3MDkxMjtcbiAgICAgICAgY2FzZSAxMDczNzQxODI0OlxuICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlNob3VsZCBoYXZlIGZvdW5kIG1hdGNoaW5nIGxhbmVzLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0TGFuZXMocm9vdCwgd2lwTGFuZXMpIHtcbiAgICAgIHZhciBwZW5kaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIGlmICgwID09PSBwZW5kaW5nTGFuZXMpIHJldHVybiAwO1xuICAgICAgdmFyIG5leHRMYW5lcyA9IDAsXG4gICAgICAgIHN1c3BlbmRlZExhbmVzID0gcm9vdC5zdXNwZW5kZWRMYW5lcyxcbiAgICAgICAgcGluZ2VkTGFuZXMgPSByb290LnBpbmdlZExhbmVzLFxuICAgICAgICB3YXJtTGFuZXMgPSByb290Lndhcm1MYW5lcztcbiAgICAgIHJvb3QgPSAwICE9PSByb290LmZpbmlzaGVkTGFuZXM7XG4gICAgICB2YXIgbm9uSWRsZVBlbmRpbmdMYW5lcyA9IHBlbmRpbmdMYW5lcyAmIDEzNDIxNzcyNztcbiAgICAgIDAgIT09IG5vbklkbGVQZW5kaW5nTGFuZXNcbiAgICAgICAgPyAoKHBlbmRpbmdMYW5lcyA9IG5vbklkbGVQZW5kaW5nTGFuZXMgJiB+c3VzcGVuZGVkTGFuZXMpLFxuICAgICAgICAgIDAgIT09IHBlbmRpbmdMYW5lc1xuICAgICAgICAgICAgPyAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMocGVuZGluZ0xhbmVzKSlcbiAgICAgICAgICAgIDogKChwaW5nZWRMYW5lcyAmPSBub25JZGxlUGVuZGluZ0xhbmVzKSxcbiAgICAgICAgICAgICAgMCAhPT0gcGluZ2VkTGFuZXNcbiAgICAgICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhwaW5nZWRMYW5lcykpXG4gICAgICAgICAgICAgICAgOiByb290IHx8XG4gICAgICAgICAgICAgICAgICAoKHdhcm1MYW5lcyA9IG5vbklkbGVQZW5kaW5nTGFuZXMgJiB+d2FybUxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIDAgIT09IHdhcm1MYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMod2FybUxhbmVzKSkpKSlcbiAgICAgICAgOiAoKG5vbklkbGVQZW5kaW5nTGFuZXMgPSBwZW5kaW5nTGFuZXMgJiB+c3VzcGVuZGVkTGFuZXMpLFxuICAgICAgICAgIDAgIT09IG5vbklkbGVQZW5kaW5nTGFuZXNcbiAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKG5vbklkbGVQZW5kaW5nTGFuZXMpKVxuICAgICAgICAgICAgOiAwICE9PSBwaW5nZWRMYW5lc1xuICAgICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhwaW5nZWRMYW5lcykpXG4gICAgICAgICAgICAgIDogcm9vdCB8fFxuICAgICAgICAgICAgICAgICgod2FybUxhbmVzID0gcGVuZGluZ0xhbmVzICYgfndhcm1MYW5lcyksXG4gICAgICAgICAgICAgICAgMCAhPT0gd2FybUxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMod2FybUxhbmVzKSkpKTtcbiAgICAgIHJldHVybiAwID09PSBuZXh0TGFuZXNcbiAgICAgICAgPyAwXG4gICAgICAgIDogMCAhPT0gd2lwTGFuZXMgJiZcbiAgICAgICAgICAgIHdpcExhbmVzICE9PSBuZXh0TGFuZXMgJiZcbiAgICAgICAgICAgIDAgPT09ICh3aXBMYW5lcyAmIHN1c3BlbmRlZExhbmVzKSAmJlxuICAgICAgICAgICAgKChzdXNwZW5kZWRMYW5lcyA9IG5leHRMYW5lcyAmIC1uZXh0TGFuZXMpLFxuICAgICAgICAgICAgKHdhcm1MYW5lcyA9IHdpcExhbmVzICYgLXdpcExhbmVzKSxcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID49IHdhcm1MYW5lcyB8fFxuICAgICAgICAgICAgICAoMzIgPT09IHN1c3BlbmRlZExhbmVzICYmIDAgIT09ICh3YXJtTGFuZXMgJiA0MTk0MTc2KSkpXG4gICAgICAgICAgPyB3aXBMYW5lc1xuICAgICAgICAgIDogbmV4dExhbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIHJlbmRlckxhbmVzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAwID09PVxuICAgICAgICAocm9vdC5wZW5kaW5nTGFuZXMgJlxuICAgICAgICAgIH4ocm9vdC5zdXNwZW5kZWRMYW5lcyAmIH5yb290LnBpbmdlZExhbmVzKSAmXG4gICAgICAgICAgcmVuZGVyTGFuZXMpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wdXRlRXhwaXJhdGlvblRpbWUobGFuZSwgY3VycmVudFRpbWUpIHtcbiAgICAgIHN3aXRjaCAobGFuZSkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lICsgMjUwO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICBjYXNlIDMyOlxuICAgICAgICBjYXNlIDY0OlxuICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgY2FzZSAyNTY6XG4gICAgICAgIGNhc2UgNTEyOlxuICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgIGNhc2UgMjA0ODpcbiAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgIGNhc2UgMTYzODQ6XG4gICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgIGNhc2UgNjU1MzY6XG4gICAgICAgIGNhc2UgMTMxMDcyOlxuICAgICAgICBjYXNlIDI2MjE0NDpcbiAgICAgICAgY2FzZSA1MjQyODg6XG4gICAgICAgIGNhc2UgMTA0ODU3NjpcbiAgICAgICAgY2FzZSAyMDk3MTUyOlxuICAgICAgICAgIHJldHVybiBjdXJyZW50VGltZSArIDVlMztcbiAgICAgICAgY2FzZSA0MTk0MzA0OlxuICAgICAgICBjYXNlIDgzODg2MDg6XG4gICAgICAgIGNhc2UgMTY3NzcyMTY6XG4gICAgICAgIGNhc2UgMzM1NTQ0MzI6XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBjYXNlIDY3MTA4ODY0OlxuICAgICAgICBjYXNlIDEzNDIxNzcyODpcbiAgICAgICAgY2FzZSAyNjg0MzU0NTY6XG4gICAgICAgIGNhc2UgNTM2ODcwOTEyOlxuICAgICAgICBjYXNlIDEwNzM3NDE4MjQ6XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlNob3VsZCBoYXZlIGZvdW5kIG1hdGNoaW5nIGxhbmVzLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLTFcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGFpbU5leHRUcmFuc2l0aW9uTGFuZSgpIHtcbiAgICAgIHZhciBsYW5lID0gbmV4dFRyYW5zaXRpb25MYW5lO1xuICAgICAgbmV4dFRyYW5zaXRpb25MYW5lIDw8PSAxO1xuICAgICAgMCA9PT0gKG5leHRUcmFuc2l0aW9uTGFuZSAmIDQxOTQxNzYpICYmIChuZXh0VHJhbnNpdGlvbkxhbmUgPSAxMjgpO1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsYWltTmV4dFJldHJ5TGFuZSgpIHtcbiAgICAgIHZhciBsYW5lID0gbmV4dFJldHJ5TGFuZTtcbiAgICAgIG5leHRSZXRyeUxhbmUgPDw9IDE7XG4gICAgICAwID09PSAobmV4dFJldHJ5TGFuZSAmIDYyOTE0NTYwKSAmJiAobmV4dFJldHJ5TGFuZSA9IDQxOTQzMDQpO1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxhbmVNYXAoaW5pdGlhbCkge1xuICAgICAgZm9yICh2YXIgbGFuZU1hcCA9IFtdLCBpID0gMDsgMzEgPiBpOyBpKyspIGxhbmVNYXAucHVzaChpbml0aWFsKTtcbiAgICAgIHJldHVybiBsYW5lTWFwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUm9vdFVwZGF0ZWQkMShyb290LCB1cGRhdGVMYW5lKSB7XG4gICAgICByb290LnBlbmRpbmdMYW5lcyB8PSB1cGRhdGVMYW5lO1xuICAgICAgMjY4NDM1NDU2ICE9PSB1cGRhdGVMYW5lICYmXG4gICAgICAgICgocm9vdC5zdXNwZW5kZWRMYW5lcyA9IDApLFxuICAgICAgICAocm9vdC5waW5nZWRMYW5lcyA9IDApLFxuICAgICAgICAocm9vdC53YXJtTGFuZXMgPSAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290RmluaXNoZWQoXG4gICAgICByb290LFxuICAgICAgZmluaXNoZWRMYW5lcyxcbiAgICAgIHJlbWFpbmluZ0xhbmVzLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzXG4gICAgKSB7XG4gICAgICB2YXIgcHJldmlvdXNseVBlbmRpbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3Quc3VzcGVuZGVkTGFuZXMgPSAwO1xuICAgICAgcm9vdC5waW5nZWRMYW5lcyA9IDA7XG4gICAgICByb290Lndhcm1MYW5lcyA9IDA7XG4gICAgICByb290LmV4cGlyZWRMYW5lcyAmPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3QuZW50YW5nbGVkTGFuZXMgJj0gcmVtYWluaW5nTGFuZXM7XG4gICAgICByb290LmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzICY9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5zaGVsbFN1c3BlbmRDb3VudGVyID0gMDtcbiAgICAgIHZhciBlbnRhbmdsZW1lbnRzID0gcm9vdC5lbnRhbmdsZW1lbnRzLFxuICAgICAgICBleHBpcmF0aW9uVGltZXMgPSByb290LmV4cGlyYXRpb25UaW1lcyxcbiAgICAgICAgaGlkZGVuVXBkYXRlcyA9IHJvb3QuaGlkZGVuVXBkYXRlcztcbiAgICAgIGZvciAoXG4gICAgICAgIHJlbWFpbmluZ0xhbmVzID0gcHJldmlvdXNseVBlbmRpbmdMYW5lcyAmIH5yZW1haW5pbmdMYW5lcztcbiAgICAgICAgMCA8IHJlbWFpbmluZ0xhbmVzO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihyZW1haW5pbmdMYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgIGVudGFuZ2xlbWVudHNbaW5kZXhdID0gMDtcbiAgICAgICAgZXhwaXJhdGlvblRpbWVzW2luZGV4XSA9IC0xO1xuICAgICAgICB2YXIgaGlkZGVuVXBkYXRlc0ZvckxhbmUgPSBoaWRkZW5VcGRhdGVzW2luZGV4XTtcbiAgICAgICAgaWYgKG51bGwgIT09IGhpZGRlblVwZGF0ZXNGb3JMYW5lKVxuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBoaWRkZW5VcGRhdGVzW2luZGV4XSA9IG51bGwsIGluZGV4ID0gMDtcbiAgICAgICAgICAgIGluZGV4IDwgaGlkZGVuVXBkYXRlc0ZvckxhbmUubGVuZ3RoO1xuICAgICAgICAgICAgaW5kZXgrK1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHVwZGF0ZSA9IGhpZGRlblVwZGF0ZXNGb3JMYW5lW2luZGV4XTtcbiAgICAgICAgICAgIG51bGwgIT09IHVwZGF0ZSAmJiAodXBkYXRlLmxhbmUgJj0gLTUzNjg3MDkxMyk7XG4gICAgICAgICAgfVxuICAgICAgICByZW1haW5pbmdMYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICAgIDAgIT09IHNwYXduZWRMYW5lICYmIG1hcmtTcGF3bmVkRGVmZXJyZWRMYW5lKHJvb3QsIHNwYXduZWRMYW5lLCAwKTtcbiAgICAgIDAgIT09IHN1c3BlbmRlZFJldHJ5TGFuZXMgJiZcbiAgICAgICAgMCA9PT0gdXBkYXRlZExhbmVzICYmXG4gICAgICAgIDAgIT09IHJvb3QudGFnICYmXG4gICAgICAgIChyb290LnN1c3BlbmRlZExhbmVzIHw9XG4gICAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyAmIH4ocHJldmlvdXNseVBlbmRpbmdMYW5lcyAmIH5maW5pc2hlZExhbmVzKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtTcGF3bmVkRGVmZXJyZWRMYW5lKHJvb3QsIHNwYXduZWRMYW5lLCBlbnRhbmdsZWRMYW5lcykge1xuICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgfD0gc3Bhd25lZExhbmU7XG4gICAgICByb290LnN1c3BlbmRlZExhbmVzICY9IH5zcGF3bmVkTGFuZTtcbiAgICAgIHZhciBzcGF3bmVkTGFuZUluZGV4ID0gMzEgLSBjbHozMihzcGF3bmVkTGFuZSk7XG4gICAgICByb290LmVudGFuZ2xlZExhbmVzIHw9IHNwYXduZWRMYW5lO1xuICAgICAgcm9vdC5lbnRhbmdsZW1lbnRzW3NwYXduZWRMYW5lSW5kZXhdID1cbiAgICAgICAgcm9vdC5lbnRhbmdsZW1lbnRzW3NwYXduZWRMYW5lSW5kZXhdIHxcbiAgICAgICAgMTA3Mzc0MTgyNCB8XG4gICAgICAgIChlbnRhbmdsZWRMYW5lcyAmIDQxOTQyMTgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUm9vdEVudGFuZ2xlZChyb290LCBlbnRhbmdsZWRMYW5lcykge1xuICAgICAgdmFyIHJvb3RFbnRhbmdsZWRMYW5lcyA9IChyb290LmVudGFuZ2xlZExhbmVzIHw9IGVudGFuZ2xlZExhbmVzKTtcbiAgICAgIGZvciAocm9vdCA9IHJvb3QuZW50YW5nbGVtZW50czsgcm9vdEVudGFuZ2xlZExhbmVzOyApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihyb290RW50YW5nbGVkTGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICAobGFuZSAmIGVudGFuZ2xlZExhbmVzKSB8IChyb290W2luZGV4XSAmIGVudGFuZ2xlZExhbmVzKSAmJlxuICAgICAgICAgIChyb290W2luZGV4XSB8PSBlbnRhbmdsZWRMYW5lcyk7XG4gICAgICAgIHJvb3RFbnRhbmdsZWRMYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRmliZXJUb0xhbmVzTWFwKHJvb3QsIGZpYmVyLCBsYW5lcykge1xuICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KVxuICAgICAgICBmb3IgKHJvb3QgPSByb290LnBlbmRpbmdVcGRhdGVyc0xhbmVNYXA7IDAgPCBsYW5lczsgKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyksXG4gICAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgICByb290W2luZGV4XS5hZGQoZmliZXIpO1xuICAgICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdmVQZW5kaW5nRmliZXJzVG9NZW1vaXplZChyb290LCBsYW5lcykge1xuICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBwZW5kaW5nVXBkYXRlcnNMYW5lTWFwID0gcm9vdC5wZW5kaW5nVXBkYXRlcnNMYW5lTWFwLFxuICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IHJvb3QubWVtb2l6ZWRVcGRhdGVycztcbiAgICAgICAgICAwIDwgbGFuZXM7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyk7XG4gICAgICAgICAgcm9vdCA9IDEgPDwgaW5kZXg7XG4gICAgICAgICAgaW5kZXggPSBwZW5kaW5nVXBkYXRlcnNMYW5lTWFwW2luZGV4XTtcbiAgICAgICAgICAwIDwgaW5kZXguc2l6ZSAmJlxuICAgICAgICAgICAgKGluZGV4LmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgIChudWxsICE9PSBhbHRlcm5hdGUgJiYgbWVtb2l6ZWRVcGRhdGVycy5oYXMoYWx0ZXJuYXRlKSkgfHxcbiAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLmFkZChmaWJlcik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGluZGV4LmNsZWFyKCkpO1xuICAgICAgICAgIGxhbmVzICY9IH5yb290O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhbmVzVG9FdmVudFByaW9yaXR5KGxhbmVzKSB7XG4gICAgICBsYW5lcyAmPSAtbGFuZXM7XG4gICAgICByZXR1cm4gMCAhPT0gRGlzY3JldGVFdmVudFByaW9yaXR5ICYmIERpc2NyZXRlRXZlbnRQcmlvcml0eSA8IGxhbmVzXG4gICAgICAgID8gMCAhPT0gQ29udGludW91c0V2ZW50UHJpb3JpdHkgJiYgQ29udGludW91c0V2ZW50UHJpb3JpdHkgPCBsYW5lc1xuICAgICAgICAgID8gMCAhPT0gKGxhbmVzICYgMTM0MjE3NzI3KVxuICAgICAgICAgICAgPyBEZWZhdWx0RXZlbnRQcmlvcml0eVxuICAgICAgICAgICAgOiBJZGxlRXZlbnRQcmlvcml0eVxuICAgICAgICAgIDogQ29udGludW91c0V2ZW50UHJpb3JpdHlcbiAgICAgICAgOiBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVVcGRhdGVQcmlvcml0eSgpIHtcbiAgICAgIHZhciB1cGRhdGVQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICBpZiAoMCAhPT0gdXBkYXRlUHJpb3JpdHkpIHJldHVybiB1cGRhdGVQcmlvcml0eTtcbiAgICAgIHVwZGF0ZVByaW9yaXR5ID0gd2luZG93LmV2ZW50O1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdXBkYXRlUHJpb3JpdHlcbiAgICAgICAgPyBEZWZhdWx0RXZlbnRQcmlvcml0eVxuICAgICAgICA6IGdldEV2ZW50UHJpb3JpdHkodXBkYXRlUHJpb3JpdHkudHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bldpdGhQcmlvcml0eShwcmlvcml0eSwgZm4pIHtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByaW9yaXR5KSwgZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhY2hEZWxldGVkSW5zdGFuY2Uobm9kZSkge1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbFByb3BzS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlckxpc3RlbmVyc0tleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlc1NldEtleV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHRhcmdldE5vZGUpIHtcbiAgICAgIHZhciB0YXJnZXRJbnN0ID0gdGFyZ2V0Tm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgICAgIGlmICh0YXJnZXRJbnN0KSByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICAgIGZvciAodmFyIHBhcmVudE5vZGUgPSB0YXJnZXROb2RlLnBhcmVudE5vZGU7IHBhcmVudE5vZGU7ICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKHRhcmdldEluc3QgPVxuICAgICAgICAgICAgcGFyZW50Tm9kZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSB8fFxuICAgICAgICAgICAgcGFyZW50Tm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgcGFyZW50Tm9kZSA9IHRhcmdldEluc3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgIT09IHRhcmdldEluc3QuY2hpbGQgfHxcbiAgICAgICAgICAgIChudWxsICE9PSBwYXJlbnROb2RlICYmIG51bGwgIT09IHBhcmVudE5vZGUuY2hpbGQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UodGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICAgIG51bGwgIT09IHRhcmdldE5vZGU7XG5cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoKHBhcmVudE5vZGUgPSB0YXJnZXROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UodGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0Tm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICAgIHBhcmVudE5vZGUgPSB0YXJnZXROb2RlLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5zdGFuY2VGcm9tTm9kZShub2RlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChub2RlID0gbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSB8fCBub2RlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldKVxuICAgICAgKSB7XG4gICAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIDUgPT09IHRhZyB8fFxuICAgICAgICAgIDYgPT09IHRhZyB8fFxuICAgICAgICAgIDEzID09PSB0YWcgfHxcbiAgICAgICAgICAyNiA9PT0gdGFnIHx8XG4gICAgICAgICAgMjcgPT09IHRhZyB8fFxuICAgICAgICAgIDMgPT09IHRhZ1xuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Tm9kZUZyb21JbnN0YW5jZShpbnN0KSB7XG4gICAgICB2YXIgdGFnID0gaW5zdC50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDI2ID09PSB0YWcgfHwgMjcgPT09IHRhZyB8fCA2ID09PSB0YWcpXG4gICAgICAgIHJldHVybiBpbnN0LnN0YXRlTm9kZTtcbiAgICAgIHRocm93IEVycm9yKFwiZ2V0Tm9kZUZyb21JbnN0YW5jZTogSW52YWxpZCBhcmd1bWVudC5cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJlc291cmNlc0Zyb21Sb290KHJvb3QpIHtcbiAgICAgIHZhciByZXNvdXJjZXMgPSByb290W2ludGVybmFsUm9vdE5vZGVSZXNvdXJjZXNLZXldO1xuICAgICAgcmVzb3VyY2VzIHx8XG4gICAgICAgIChyZXNvdXJjZXMgPSByb290W2ludGVybmFsUm9vdE5vZGVSZXNvdXJjZXNLZXldID1cbiAgICAgICAgICB7IGhvaXN0YWJsZVN0eWxlczogbmV3IE1hcCgpLCBob2lzdGFibGVTY3JpcHRzOiBuZXcgTWFwKCkgfSk7XG4gICAgICByZXR1cm4gcmVzb3VyY2VzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrTm9kZUFzSG9pc3RhYmxlKG5vZGUpIHtcbiAgICAgIG5vZGVbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdID0gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChyZWdpc3RyYXRpb25OYW1lLCBkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgZGVwZW5kZW5jaWVzKTtcbiAgICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQocmVnaXN0cmF0aW9uTmFtZSArIFwiQ2FwdHVyZVwiLCBkZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckRpcmVjdEV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGRlcGVuZGVuY2llcykge1xuICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXZlbnRSZWdpc3RyeTogTW9yZSB0aGFuIG9uZSBwbHVnaW4gYXR0ZW1wdGVkIHRvIHB1Ymxpc2ggdGhlIHNhbWUgcmVnaXN0cmF0aW9uIG5hbWUsIGAlc2AuXCIsXG4gICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZVxuICAgICAgICApO1xuICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSA9IGRlcGVuZGVuY2llcztcbiAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IHJlZ2lzdHJhdGlvbk5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNbbG93ZXJDYXNlZE5hbWVdID0gcmVnaXN0cmF0aW9uTmFtZTtcbiAgICAgIFwib25Eb3VibGVDbGlja1wiID09PSByZWdpc3RyYXRpb25OYW1lICYmXG4gICAgICAgIChwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzLm9uZGJsY2xpY2sgPSByZWdpc3RyYXRpb25OYW1lKTtcbiAgICAgIGZvciAoXG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUgPSAwO1xuICAgICAgICByZWdpc3RyYXRpb25OYW1lIDwgZGVwZW5kZW5jaWVzLmxlbmd0aDtcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSsrXG4gICAgICApXG4gICAgICAgIGFsbE5hdGl2ZUV2ZW50cy5hZGQoZGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyh0YWdOYW1lLCBwcm9wcykge1xuICAgICAgaGFzUmVhZE9ubHlWYWx1ZVtwcm9wcy50eXBlXSB8fFxuICAgICAgICBwcm9wcy5vbkNoYW5nZSB8fFxuICAgICAgICBwcm9wcy5vbklucHV0IHx8XG4gICAgICAgIHByb3BzLnJlYWRPbmx5IHx8XG4gICAgICAgIHByb3BzLmRpc2FibGVkIHx8XG4gICAgICAgIG51bGwgPT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgKFwic2VsZWN0XCIgPT09IHRhZ05hbWVcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgdGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCBzZXQgYG9uQ2hhbmdlYC5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiB0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsIHNldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLlwiXG4gICAgICAgICAgICApKTtcbiAgICAgIHByb3BzLm9uQ2hhbmdlIHx8XG4gICAgICAgIHByb3BzLnJlYWRPbmx5IHx8XG4gICAgICAgIHByb3BzLmRpc2FibGVkIHx8XG4gICAgICAgIG51bGwgPT0gcHJvcHMuY2hlY2tlZCB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHByb3ZpZGVkIGEgYGNoZWNrZWRgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiB0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0Q2hlY2tlZGAuIE90aGVyd2lzZSwgc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNBdHRyaWJ1dGVOYW1lU2FmZShhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUsIGF0dHJpYnV0ZU5hbWUpKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlLCBhdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgaWYgKFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYLnRlc3QoYXR0cmlidXRlTmFtZSkpXG4gICAgICAgIHJldHVybiAodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gITApO1xuICAgICAgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9ICEwO1xuICAgICAgY29uc29sZS5lcnJvcihcIkludmFsaWQgYXR0cmlidXRlIG5hbWU6IGAlc2BcIiwgYXR0cmlidXRlTmFtZSk7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZhbHVlRm9yQXR0cmlidXRlT25DdXN0b21Db21wb25lbnQobm9kZSwgbmFtZSwgZXhwZWN0ZWQpIHtcbiAgICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKSB7XG4gICAgICAgIGlmICghbm9kZS5oYXNBdHRyaWJ1dGUobmFtZSkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBleHBlY3RlZCkge1xuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgaWYgKCExID09PSBleHBlY3RlZCkgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBleHBlY3RlZCA/IHZvaWQgMCA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBpZiAoXCJcIiA9PT0gbm9kZSAmJiAhMCA9PT0gZXhwZWN0ZWQpIHJldHVybiAhMDtcbiAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihleHBlY3RlZCwgbmFtZSk7XG4gICAgICAgIHJldHVybiBub2RlID09PSBcIlwiICsgZXhwZWN0ZWQgPyBleHBlY3RlZCA6IG5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yQXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAoaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSlcbiAgICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgdmFyIHByZWZpeCA9IG5hbWUudG9Mb3dlckNhc2UoKS5zbGljZSgwLCA1KTtcbiAgICAgICAgICAgICAgaWYgKFwiZGF0YS1cIiAhPT0gcHJlZml4ICYmIFwiYXJpYS1cIiAhPT0gcHJlZml4KSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIG5hbWUpO1xuICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIG5hbWUpO1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBcIlwiICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUobm9kZSwgbmFtZXNwYWNlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIG5hbWUpO1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgbmFtZSwgXCJcIiArIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIHJldHVybiBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpLCB2YWx1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDaGVja2FibGUoZWxlbSkge1xuICAgICAgdmFyIHR5cGUgPSBlbGVtLnR5cGU7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoZWxlbSA9IGVsZW0ubm9kZU5hbWUpICYmXG4gICAgICAgIFwiaW5wdXRcIiA9PT0gZWxlbS50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgIChcImNoZWNrYm94XCIgPT09IHR5cGUgfHwgXCJyYWRpb1wiID09PSB0eXBlKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2tWYWx1ZU9uTm9kZShub2RlKSB7XG4gICAgICB2YXIgdmFsdWVGaWVsZCA9IGlzQ2hlY2thYmxlKG5vZGUpID8gXCJjaGVja2VkXCIgOiBcInZhbHVlXCIsXG4gICAgICAgIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIG5vZGUuY29uc3RydWN0b3IucHJvdG90eXBlLFxuICAgICAgICAgIHZhbHVlRmllbGRcbiAgICAgICAgKTtcbiAgICAgIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbihub2RlW3ZhbHVlRmllbGRdKTtcbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBcIlwiICsgbm9kZVt2YWx1ZUZpZWxkXTtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vZGUuaGFzT3duUHJvcGVydHkodmFsdWVGaWVsZCkgJiZcbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGRlc2NyaXB0b3IgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGVzY3JpcHRvci5nZXQgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZGVzY3JpcHRvci5zZXRcbiAgICAgICkge1xuICAgICAgICB2YXIgZ2V0ID0gZGVzY3JpcHRvci5nZXQsXG4gICAgICAgICAgc2V0ID0gZGVzY3JpcHRvci5zZXQ7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJcIiArIHZhbHVlO1xuICAgICAgICAgICAgc2V0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub2RlLCB2YWx1ZUZpZWxkLCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN0b3BUcmFja2luZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbm9kZS5fdmFsdWVUcmFja2VyID0gbnVsbDtcbiAgICAgICAgICAgIGRlbGV0ZSBub2RlW3ZhbHVlRmllbGRdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhY2sobm9kZSkge1xuICAgICAgbm9kZS5fdmFsdWVUcmFja2VyIHx8IChub2RlLl92YWx1ZVRyYWNrZXIgPSB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVmFsdWVJZkNoYW5nZWQobm9kZSkge1xuICAgICAgaWYgKCFub2RlKSByZXR1cm4gITE7XG4gICAgICB2YXIgdHJhY2tlciA9IG5vZGUuX3ZhbHVlVHJhY2tlcjtcbiAgICAgIGlmICghdHJhY2tlcikgcmV0dXJuICEwO1xuICAgICAgdmFyIGxhc3RWYWx1ZSA9IHRyYWNrZXIuZ2V0VmFsdWUoKTtcbiAgICAgIHZhciB2YWx1ZSA9IFwiXCI7XG4gICAgICBub2RlICYmXG4gICAgICAgICh2YWx1ZSA9IGlzQ2hlY2thYmxlKG5vZGUpXG4gICAgICAgICAgPyBub2RlLmNoZWNrZWRcbiAgICAgICAgICAgID8gXCJ0cnVlXCJcbiAgICAgICAgICAgIDogXCJmYWxzZVwiXG4gICAgICAgICAgOiBub2RlLnZhbHVlKTtcbiAgICAgIG5vZGUgPSB2YWx1ZTtcbiAgICAgIHJldHVybiBub2RlICE9PSBsYXN0VmFsdWUgPyAodHJhY2tlci5zZXRWYWx1ZShub2RlKSwgITApIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnQoZG9jKSB7XG4gICAgICBkb2MgPSBkb2MgfHwgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBkb2N1bWVudCA/IGRvY3VtZW50IDogdm9pZCAwKTtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgZG9jKSByZXR1cm4gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb2MuYWN0aXZlRWxlbWVudCB8fCBkb2MuYm9keTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGRvYy5ib2R5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUucmVwbGFjZShcbiAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlc1JlZ2V4LFxuICAgICAgICBmdW5jdGlvbiAoY2gpIHtcbiAgICAgICAgICByZXR1cm4gXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSArIFwiIFwiO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUlucHV0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMuY2hlY2tlZCB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRDaGVja2VkIHx8XG4gICAgICAgIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCBjaGVja2VkIGFuZCBkZWZhdWx0Q2hlY2tlZCBwcm9wcy4gSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSBjaGVja2VkIHByb3AsIG9yIHRoZSBkZWZhdWx0Q2hlY2tlZCBwcm9wLCBidXQgbm90IGJvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIixcbiAgICAgICAgICBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHx8IFwiQSBjb21wb25lbnRcIixcbiAgICAgICAgICBwcm9wcy50eXBlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gITApKTtcbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgdm9pZCAwID09PSBwcm9wcy5kZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyBjb250YWlucyBhbiBpbnB1dCBvZiB0eXBlICVzIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiBJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCIsXG4gICAgICAgICAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB8fCBcIkEgY29tcG9uZW50XCIsXG4gICAgICAgICAgcHJvcHMudHlwZVxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVJbnB1dChcbiAgICAgIGVsZW1lbnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIGxhc3REZWZhdWx0VmFsdWUsXG4gICAgICBjaGVja2VkLFxuICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICB0eXBlLFxuICAgICAgbmFtZVxuICAgICkge1xuICAgICAgZWxlbWVudC5uYW1lID0gXCJcIjtcbiAgICAgIG51bGwgIT0gdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgdHlwZVxuICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHR5cGUsIFwidHlwZVwiKSwgKGVsZW1lbnQudHlwZSA9IHR5cGUpKVxuICAgICAgICA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKTtcbiAgICAgIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZSkge1xuICAgICAgICAgIGlmICgoMCA9PT0gdmFsdWUgJiYgXCJcIiA9PT0gZWxlbWVudC52YWx1ZSkgfHwgZWxlbWVudC52YWx1ZSAhPSB2YWx1ZSlcbiAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGVsZW1lbnQudmFsdWUgIT09IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSAmJlxuICAgICAgICAgICAgKGVsZW1lbnQudmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkpO1xuICAgICAgZWxzZVxuICAgICAgICAoXCJzdWJtaXRcIiAhPT0gdHlwZSAmJiBcInJlc2V0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbiAgICAgIG51bGwgIT0gdmFsdWVcbiAgICAgICAgPyBzZXREZWZhdWx0VmFsdWUoZWxlbWVudCwgdHlwZSwgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkpXG4gICAgICAgIDogbnVsbCAhPSBkZWZhdWx0VmFsdWVcbiAgICAgICAgICA/IHNldERlZmF1bHRWYWx1ZShlbGVtZW50LCB0eXBlLCBnZXRUb1N0cmluZ1ZhbHVlKGRlZmF1bHRWYWx1ZSkpXG4gICAgICAgICAgOiBudWxsICE9IGxhc3REZWZhdWx0VmFsdWUgJiYgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcbiAgICAgIG51bGwgPT0gY2hlY2tlZCAmJlxuICAgICAgICBudWxsICE9IGRlZmF1bHRDaGVja2VkICYmXG4gICAgICAgIChlbGVtZW50LmRlZmF1bHRDaGVja2VkID0gISFkZWZhdWx0Q2hlY2tlZCk7XG4gICAgICBudWxsICE9IGNoZWNrZWQgJiZcbiAgICAgICAgKGVsZW1lbnQuY2hlY2tlZCA9XG4gICAgICAgICAgY2hlY2tlZCAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNoZWNrZWQgJiZcbiAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgY2hlY2tlZCk7XG4gICAgICBudWxsICE9IG5hbWUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIG5hbWVcbiAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihuYW1lLCBcIm5hbWVcIiksXG4gICAgICAgICAgKGVsZW1lbnQubmFtZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKG5hbWUpKSlcbiAgICAgICAgOiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRJbnB1dChcbiAgICAgIGVsZW1lbnQsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lLFxuICAgICAgaXNIeWRyYXRpbmdcbiAgICApIHtcbiAgICAgIG51bGwgIT0gdHlwZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih0eXBlLCBcInR5cGVcIiksIChlbGVtZW50LnR5cGUgPSB0eXBlKSk7XG4gICAgICBpZiAobnVsbCAhPSB2YWx1ZSB8fCBudWxsICE9IGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIShcbiAgICAgICAgICAgIChcInN1Ym1pdFwiICE9PSB0eXBlICYmIFwicmVzZXRcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgICAgICh2b2lkIDAgIT09IHZhbHVlICYmIG51bGwgIT09IHZhbHVlKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdFZhbHVlID1cbiAgICAgICAgICBudWxsICE9IGRlZmF1bHRWYWx1ZSA/IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKGRlZmF1bHRWYWx1ZSkgOiBcIlwiO1xuICAgICAgICB2YWx1ZSA9IG51bGwgIT0gdmFsdWUgPyBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkgOiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIGlzSHlkcmF0aW5nIHx8IHZhbHVlID09PSBlbGVtZW50LnZhbHVlIHx8IChlbGVtZW50LnZhbHVlID0gdmFsdWUpO1xuICAgICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgY2hlY2tlZCA9IG51bGwgIT0gY2hlY2tlZCA/IGNoZWNrZWQgOiBkZWZhdWx0Q2hlY2tlZDtcbiAgICAgIGNoZWNrZWQgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjaGVja2VkICYmXG4gICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBjaGVja2VkICYmXG4gICAgICAgICEhY2hlY2tlZDtcbiAgICAgIGVsZW1lbnQuY2hlY2tlZCA9IGlzSHlkcmF0aW5nID8gZWxlbWVudC5jaGVja2VkIDogISFjaGVja2VkO1xuICAgICAgZWxlbWVudC5kZWZhdWx0Q2hlY2tlZCA9ICEhY2hlY2tlZDtcbiAgICAgIG51bGwgIT0gbmFtZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihuYW1lLCBcIm5hbWVcIiksIChlbGVtZW50Lm5hbWUgPSBuYW1lKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldERlZmF1bHRWYWx1ZShub2RlLCB0eXBlLCB2YWx1ZSkge1xuICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGUgJiYgZ2V0QWN0aXZlRWxlbWVudChub2RlLm93bmVyRG9jdW1lbnQpID09PSBub2RlKSB8fFxuICAgICAgICBub2RlLmRlZmF1bHRWYWx1ZSA9PT0gXCJcIiArIHZhbHVlIHx8XG4gICAgICAgIChub2RlLmRlZmF1bHRWYWx1ZSA9IFwiXCIgKyB2YWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlT3B0aW9uUHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIG51bGwgPT0gcHJvcHMudmFsdWUgJiZcbiAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiAmJiBudWxsICE9PSBwcm9wcy5jaGlsZHJlblxuICAgICAgICAgID8gUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChwcm9wcy5jaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgIG51bGwgPT0gY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgY2hpbGQgfHxcbiAgICAgICAgICAgICAgICBkaWRXYXJuSW52YWxpZENoaWxkIHx8XG4gICAgICAgICAgICAgICAgKChkaWRXYXJuSW52YWxpZENoaWxkID0gITApLFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbm5vdCBpbmZlciB0aGUgb3B0aW9uIHZhbHVlIG9mIGNvbXBsZXggY2hpbGRyZW4uIFBhc3MgYSBgdmFsdWVgIHByb3Agb3IgdXNlIGEgcGxhaW4gc3RyaW5nIGFzIGNoaWxkcmVuIHRvIDxvcHRpb24+LlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogbnVsbCA9PSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCB8fFxuICAgICAgICAgICAgZGlkV2FybkludmFsaWRJbm5lckhUTUwgfHxcbiAgICAgICAgICAgICgoZGlkV2FybkludmFsaWRJbm5lckhUTUwgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlBhc3MgYSBgdmFsdWVgIHByb3AgaWYgeW91IHNldCBkYW5nZXJvdXNseUlubmVySFRNTCBzbyBSZWFjdCBrbm93cyB3aGljaCB2YWx1ZSBzaG91bGQgYmUgc2VsZWN0ZWQuXCJcbiAgICAgICAgICAgICkpKTtcbiAgICAgIG51bGwgPT0gcHJvcHMuc2VsZWN0ZWQgfHxcbiAgICAgICAgZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgb24gPHNlbGVjdD4gaW5zdGVhZCBvZiBzZXR0aW5nIGBzZWxlY3RlZGAgb24gPG9wdGlvbj4uXCJcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICAgICAgdmFyIG93bmVyTmFtZSA9IGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCk7XG4gICAgICByZXR1cm4gb3duZXJOYW1lXG4gICAgICAgID8gXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBvd25lck5hbWUgKyBcImAuXCJcbiAgICAgICAgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKG5vZGUsIG11bHRpcGxlLCBwcm9wVmFsdWUsIHNldERlZmF1bHRTZWxlY3RlZCkge1xuICAgICAgbm9kZSA9IG5vZGUub3B0aW9ucztcbiAgICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgICBtdWx0aXBsZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICBtdWx0aXBsZVtcIiRcIiArIHByb3BWYWx1ZVtpXV0gPSAhMDtcbiAgICAgICAgZm9yIChwcm9wVmFsdWUgPSAwOyBwcm9wVmFsdWUgPCBub2RlLmxlbmd0aDsgcHJvcFZhbHVlKyspXG4gICAgICAgICAgKGkgPSBtdWx0aXBsZS5oYXNPd25Qcm9wZXJ0eShcIiRcIiArIG5vZGVbcHJvcFZhbHVlXS52YWx1ZSkpLFxuICAgICAgICAgICAgbm9kZVtwcm9wVmFsdWVdLnNlbGVjdGVkICE9PSBpICYmIChub2RlW3Byb3BWYWx1ZV0uc2VsZWN0ZWQgPSBpKSxcbiAgICAgICAgICAgIGkgJiYgc2V0RGVmYXVsdFNlbGVjdGVkICYmIChub2RlW3Byb3BWYWx1ZV0uZGVmYXVsdFNlbGVjdGVkID0gITApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvcFZhbHVlID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUocHJvcFZhbHVlKTtcbiAgICAgICAgbXVsdGlwbGUgPSBudWxsO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChub2RlW2ldLnZhbHVlID09PSBwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgIG5vZGVbaV0uc2VsZWN0ZWQgPSAhMDtcbiAgICAgICAgICAgIHNldERlZmF1bHRTZWxlY3RlZCAmJiAobm9kZVtpXS5kZWZhdWx0U2VsZWN0ZWQgPSAhMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bGwgIT09IG11bHRpcGxlIHx8IG5vZGVbaV0uZGlzYWJsZWQgfHwgKG11bHRpcGxlID0gbm9kZVtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgbnVsbCAhPT0gbXVsdGlwbGUgJiYgKG11bHRpcGxlLnNlbGVjdGVkID0gITApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVNlbGVjdFByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgICBmb3IgKGVsZW1lbnQgPSAwOyBlbGVtZW50IDwgdmFsdWVQcm9wTmFtZXMubGVuZ3RoOyBlbGVtZW50KyspIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0gdmFsdWVQcm9wTmFtZXNbZWxlbWVudF07XG4gICAgICAgIGlmIChudWxsICE9IHByb3BzW3Byb3BOYW1lXSkge1xuICAgICAgICAgIHZhciBwcm9wTmFtZUlzQXJyYXkgPSBpc0FycmF5SW1wbChwcm9wc1twcm9wTmFtZV0pO1xuICAgICAgICAgIHByb3BzLm11bHRpcGxlICYmICFwcm9wTmFtZUlzQXJyYXlcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhbiBhcnJheSBpZiBgbXVsdGlwbGVgIGlzIHRydWUuJXNcIixcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6ICFwcm9wcy5tdWx0aXBsZSAmJlxuICAgICAgICAgICAgICBwcm9wTmFtZUlzQXJyYXkgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBgJXNgIHByb3Agc3VwcGxpZWQgdG8gPHNlbGVjdD4gbXVzdCBiZSBhIHNjYWxhciB2YWx1ZSBpZiBgbXVsdGlwbGVgIGlzIGZhbHNlLiVzXCIsXG4gICAgICAgICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm9pZCAwID09PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRWYWx1ZSB8fFxuICAgICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJTZWxlY3QgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgc2VsZWN0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIlxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVUZXh0YXJlYVByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgICB2b2lkIDAgPT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdFZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiJXMgY29udGFpbnMgYSB0ZXh0YXJlYSB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gVGV4dGFyZWEgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgdGV4dGFyZWEgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIixcbiAgICAgICAgICBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHx8IFwiQSBjb21wb25lbnRcIlxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblZhbERlZmF1bHRWYWwgPSAhMCkpO1xuICAgICAgbnVsbCAhPSBwcm9wcy5jaGlsZHJlbiAmJlxuICAgICAgICBudWxsID09IHByb3BzLnZhbHVlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2UgdGhlIGBkZWZhdWx0VmFsdWVgIG9yIGB2YWx1ZWAgcHJvcHMgaW5zdGVhZCBvZiBzZXR0aW5nIGNoaWxkcmVuIG9uIDx0ZXh0YXJlYT4uXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVGV4dGFyZWEoZWxlbWVudCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICgodmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkpLFxuICAgICAgICB2YWx1ZSAhPT0gZWxlbWVudC52YWx1ZSAmJiAoZWxlbWVudC52YWx1ZSA9IHZhbHVlKSxcbiAgICAgICAgbnVsbCA9PSBkZWZhdWx0VmFsdWUpXG4gICAgICApIHtcbiAgICAgICAgZWxlbWVudC5kZWZhdWx0VmFsdWUgIT09IHZhbHVlICYmIChlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5kZWZhdWx0VmFsdWUgPVxuICAgICAgICBudWxsICE9IGRlZmF1bHRWYWx1ZSA/IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKGRlZmF1bHRWYWx1ZSkgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0VGV4dGFyZWEoZWxlbWVudCwgdmFsdWUsIGRlZmF1bHRWYWx1ZSwgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09IHZhbHVlKSB7XG4gICAgICAgIGlmIChudWxsICE9IGNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSWYgeW91IHN1cHBseSBgZGVmYXVsdFZhbHVlYCBvbiBhIDx0ZXh0YXJlYT4sIGRvIG5vdCBwYXNzIGNoaWxkcmVuLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGlmICgxIDwgY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIjx0ZXh0YXJlYT4gY2FuIG9ubHkgaGF2ZSBhdCBtb3N0IG9uZSBjaGlsZC5cIik7XG4gICAgICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICBudWxsID09IGRlZmF1bHRWYWx1ZSAmJiAoZGVmYXVsdFZhbHVlID0gXCJcIik7XG4gICAgICAgIHZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgICAgZGVmYXVsdFZhbHVlID0gZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSk7XG4gICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIGNoaWxkcmVuID0gZWxlbWVudC50ZXh0Q29udGVudDtcbiAgICAgIGNoaWxkcmVuID09PSBkZWZhdWx0VmFsdWUgJiZcbiAgICAgICAgXCJcIiAhPT0gY2hpbGRyZW4gJiZcbiAgICAgICAgbnVsbCAhPT0gY2hpbGRyZW4gJiZcbiAgICAgICAgKGVsZW1lbnQudmFsdWUgPSBjaGlsZHJlbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmROb3RhYmxlTm9kZShub2RlLCBpbmRlbnQpIHtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IG5vZGUuc2VydmVyUHJvcHMgJiZcbiAgICAgICAgMCA9PT0gbm9kZS5zZXJ2ZXJUYWlsLmxlbmd0aCAmJlxuICAgICAgICAxID09PSBub2RlLmNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgICAzIDwgbm9kZS5kaXN0YW5jZUZyb21MZWFmICYmXG4gICAgICAgIG5vZGUuZGlzdGFuY2VGcm9tTGVhZiA+IDE1IC0gaW5kZW50XG4gICAgICAgID8gZmluZE5vdGFibGVOb2RlKG5vZGUuY2hpbGRyZW5bMF0sIGluZGVudClcbiAgICAgICAgOiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbmRlbnRhdGlvbihpbmRlbnQpIHtcbiAgICAgIHJldHVybiBcIiAgXCIgKyBcIiAgXCIucmVwZWF0KGluZGVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZGVkKGluZGVudCkge1xuICAgICAgcmV0dXJuIFwiKyBcIiArIFwiICBcIi5yZXBlYXQoaW5kZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlZChpbmRlbnQpIHtcbiAgICAgIHJldHVybiBcIi0gXCIgKyBcIiAgXCIucmVwZWF0KGluZGVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRmliZXJUeXBlKGZpYmVyKSB7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIGZpYmVyLnR5cGU7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIFwiTGF6eVwiO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZmliZXIudHlwZSksIGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpYmVyID0gZmliZXIudHlwZS5yZW5kZXIpLCBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGZpYmVyLnR5cGUpLCBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVGV4dE5vZGUoY29udGVudCwgbWF4TGVuZ3RoKSB7XG4gICAgICByZXR1cm4gbmVlZHNFc2NhcGluZy50ZXN0KGNvbnRlbnQpXG4gICAgICAgID8gKChjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoY29udGVudCkpLFxuICAgICAgICAgIGNvbnRlbnQubGVuZ3RoID4gbWF4TGVuZ3RoIC0gMlxuICAgICAgICAgICAgPyA4ID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICAgID8gJ3tcIi4uLlwifSdcbiAgICAgICAgICAgICAgOiBcIntcIiArIGNvbnRlbnQuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gNykgKyAnLi4uXCJ9J1xuICAgICAgICAgICAgOiBcIntcIiArIGNvbnRlbnQgKyBcIn1cIilcbiAgICAgICAgOiBjb250ZW50Lmxlbmd0aCA+IG1heExlbmd0aFxuICAgICAgICAgID8gNSA+IG1heExlbmd0aFxuICAgICAgICAgICAgPyAne1wiLi4uXCJ9J1xuICAgICAgICAgICAgOiBjb250ZW50LnNsaWNlKDAsIG1heExlbmd0aCAtIDMpICsgXCIuLi5cIlxuICAgICAgICAgIDogY29udGVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVUZXh0RGlmZihjbGllbnRUZXh0LCBzZXJ2ZXJQcm9wcywgaW5kZW50KSB7XG4gICAgICB2YXIgbWF4TGVuZ3RoID0gMTIwIC0gMiAqIGluZGVudDtcbiAgICAgIGlmIChudWxsID09PSBzZXJ2ZXJQcm9wcylcbiAgICAgICAgcmV0dXJuIGFkZGVkKGluZGVudCkgKyBkZXNjcmliZVRleHROb2RlKGNsaWVudFRleHQsIG1heExlbmd0aCkgKyBcIlxcblwiO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZXJ2ZXJQcm9wcykge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBmaXJzdERpZmYgPSAwO1xuICAgICAgICAgIGZpcnN0RGlmZiA8IHNlcnZlclByb3BzLmxlbmd0aCAmJlxuICAgICAgICAgIGZpcnN0RGlmZiA8IGNsaWVudFRleHQubGVuZ3RoICYmXG4gICAgICAgICAgc2VydmVyUHJvcHMuY2hhckNvZGVBdChmaXJzdERpZmYpID09PVxuICAgICAgICAgICAgY2xpZW50VGV4dC5jaGFyQ29kZUF0KGZpcnN0RGlmZik7XG4gICAgICAgICAgZmlyc3REaWZmKytcbiAgICAgICAgKTtcbiAgICAgICAgZmlyc3REaWZmID4gbWF4TGVuZ3RoIC0gOCAmJlxuICAgICAgICAgIDEwIDwgZmlyc3REaWZmICYmXG4gICAgICAgICAgKChjbGllbnRUZXh0ID0gXCIuLi5cIiArIGNsaWVudFRleHQuc2xpY2UoZmlyc3REaWZmIC0gOCkpLFxuICAgICAgICAgIChzZXJ2ZXJQcm9wcyA9IFwiLi4uXCIgKyBzZXJ2ZXJQcm9wcy5zbGljZShmaXJzdERpZmYgLSA4KSkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGFkZGVkKGluZGVudCkgK1xuICAgICAgICAgIGRlc2NyaWJlVGV4dE5vZGUoY2xpZW50VGV4dCwgbWF4TGVuZ3RoKSArXG4gICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgcmVtb3ZlZChpbmRlbnQpICtcbiAgICAgICAgICBkZXNjcmliZVRleHROb2RlKHNlcnZlclByb3BzLCBtYXhMZW5ndGgpICtcbiAgICAgICAgICBcIlxcblwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpICsgZGVzY3JpYmVUZXh0Tm9kZShjbGllbnRUZXh0LCBtYXhMZW5ndGgpICsgXCJcXG5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb2JqZWN0TmFtZShvYmplY3QpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG4gICAgICAgIC5jYWxsKG9iamVjdClcbiAgICAgICAgLnJlcGxhY2UoL15cXFtvYmplY3QgKC4qKVxcXSQvLCBmdW5jdGlvbiAobSwgcDApIHtcbiAgICAgICAgICByZXR1cm4gcDA7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVZhbHVlKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpKSxcbiAgICAgICAgICAgIHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aFxuICAgICAgICAgICAgICA/IDUgPiBtYXhMZW5ndGhcbiAgICAgICAgICAgICAgICA/ICdcIi4uLlwiJ1xuICAgICAgICAgICAgICAgIDogdmFsdWUuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gNCkgKyAnLi4uXCInXG4gICAgICAgICAgICAgIDogdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgaWYgKG51bGwgPT09IHZhbHVlKSByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKHZhbHVlKSkgcmV0dXJuIFwiWy4uLl1cIjtcbiAgICAgICAgICBpZiAodmFsdWUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiAobWF4TGVuZ3RoID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHZhbHVlLnR5cGUpKVxuICAgICAgICAgICAgICA/IFwiPFwiICsgbWF4TGVuZ3RoICsgXCI+XCJcbiAgICAgICAgICAgICAgOiBcIjwuLi4+XCI7XG4gICAgICAgICAgdmFyIG5hbWUgPSBvYmplY3ROYW1lKHZhbHVlKTtcbiAgICAgICAgICBpZiAoXCJPYmplY3RcIiA9PT0gbmFtZSkge1xuICAgICAgICAgICAgbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICBtYXhMZW5ndGggLT0gMjtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIHZhbHVlKVxuICAgICAgICAgICAgICBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGpzb25Qcm9wTmFtZSA9IEpTT04uc3RyaW5naWZ5KHByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICBqc29uUHJvcE5hbWUgIT09ICdcIicgKyBwcm9wTmFtZSArICdcIicgJiZcbiAgICAgICAgICAgICAgICAgIChwcm9wTmFtZSA9IGpzb25Qcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoIC09IHByb3BOYW1lLmxlbmd0aCAtIDI7XG4gICAgICAgICAgICAgICAganNvblByb3BOYW1lID0gZGVzY3JpYmVWYWx1ZShcbiAgICAgICAgICAgICAgICAgIHZhbHVlW3Byb3BOYW1lXSxcbiAgICAgICAgICAgICAgICAgIDE1ID4gbWF4TGVuZ3RoID8gbWF4TGVuZ3RoIDogMTVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG1heExlbmd0aCAtPSBqc29uUHJvcE5hbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmICgwID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICBuYW1lICs9IFwiXCIgPT09IG5hbWUgPyBcIi4uLlwiIDogXCIsIC4uLlwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5hbWUgKz1cbiAgICAgICAgICAgICAgICAgIChcIlwiID09PSBuYW1lID8gXCJcIiA6IFwiLFwiKSArIHByb3BOYW1lICsgXCI6XCIgKyBqc29uUHJvcE5hbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIntcIiArIG5hbWUgKyBcIn1cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5hbWU7XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIHJldHVybiAobWF4TGVuZ3RoID0gdmFsdWUuZGlzcGxheU5hbWUgfHwgdmFsdWUubmFtZSlcbiAgICAgICAgICAgID8gXCJmdW5jdGlvbiBcIiArIG1heExlbmd0aFxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlUHJvcFZhbHVlKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWUgfHwgbmVlZHNFc2NhcGluZy50ZXN0KHZhbHVlKVxuICAgICAgICA/IFwie1wiICsgZGVzY3JpYmVWYWx1ZSh2YWx1ZSwgbWF4TGVuZ3RoIC0gMikgKyBcIn1cIlxuICAgICAgICA6IHZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCAtIDJcbiAgICAgICAgICA/IDUgPiBtYXhMZW5ndGhcbiAgICAgICAgICAgID8gJ1wiLi4uXCInXG4gICAgICAgICAgICA6ICdcIicgKyB2YWx1ZS5zbGljZSgwLCBtYXhMZW5ndGggLSA1KSArICcuLi5cIidcbiAgICAgICAgICA6ICdcIicgKyB2YWx1ZSArICdcIic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRXhwYW5kZWRFbGVtZW50KHR5cGUsIHByb3BzLCByb3dQcmVmaXgpIHtcbiAgICAgIHZhciByZW1haW5pbmdSb3dMZW5ndGggPSAxMjAgLSByb3dQcmVmaXgubGVuZ3RoIC0gdHlwZS5sZW5ndGgsXG4gICAgICAgIHByb3BlcnRpZXMgPSBbXSxcbiAgICAgICAgcHJvcE5hbWU7XG4gICAgICBmb3IgKHByb3BOYW1lIGluIHByb3BzKVxuICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmIFwiY2hpbGRyZW5cIiAhPT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICB2YXIgcHJvcFZhbHVlID0gZGVzY3JpYmVQcm9wVmFsdWUoXG4gICAgICAgICAgICBwcm9wc1twcm9wTmFtZV0sXG4gICAgICAgICAgICAxMjAgLSByb3dQcmVmaXgubGVuZ3RoIC0gcHJvcE5hbWUubGVuZ3RoIC0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVtYWluaW5nUm93TGVuZ3RoIC09IHByb3BOYW1lLmxlbmd0aCArIHByb3BWYWx1ZS5sZW5ndGggKyAyO1xuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wTmFtZSArIFwiPVwiICsgcHJvcFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIDAgPT09IHByb3BlcnRpZXMubGVuZ3RoXG4gICAgICAgID8gcm93UHJlZml4ICsgXCI8XCIgKyB0eXBlICsgXCI+XFxuXCJcbiAgICAgICAgOiAwIDwgcmVtYWluaW5nUm93TGVuZ3RoXG4gICAgICAgICAgPyByb3dQcmVmaXggKyBcIjxcIiArIHR5cGUgKyBcIiBcIiArIHByb3BlcnRpZXMuam9pbihcIiBcIikgKyBcIj5cXG5cIlxuICAgICAgICAgIDogcm93UHJlZml4ICtcbiAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICByb3dQcmVmaXggK1xuICAgICAgICAgICAgXCIgIFwiICtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuam9pbihcIlxcblwiICsgcm93UHJlZml4ICsgXCIgIFwiKSArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIHJvd1ByZWZpeCArXG4gICAgICAgICAgICBcIj5cXG5cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVQcm9wZXJ0aWVzRGlmZihjbGllbnRPYmplY3QsIHNlcnZlck9iamVjdCwgaW5kZW50KSB7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IFwiXCIsXG4gICAgICAgIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXMgPSBhc3NpZ24oe30sIHNlcnZlck9iamVjdCksXG4gICAgICAgIHByb3BOYW1lO1xuICAgICAgZm9yIChwcm9wTmFtZSBpbiBjbGllbnRPYmplY3QpXG4gICAgICAgIGlmIChjbGllbnRPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgICAgZGVsZXRlIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXNbcHJvcE5hbWVdO1xuICAgICAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogaW5kZW50IC0gcHJvcE5hbWUubGVuZ3RoIC0gMixcbiAgICAgICAgICAgIGNsaWVudFByb3BWYWx1ZSA9IGRlc2NyaWJlVmFsdWUoY2xpZW50T2JqZWN0W3Byb3BOYW1lXSwgbWF4TGVuZ3RoKTtcbiAgICAgICAgICBzZXJ2ZXJPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpXG4gICAgICAgICAgICA/ICgobWF4TGVuZ3RoID0gZGVzY3JpYmVWYWx1ZShzZXJ2ZXJPYmplY3RbcHJvcE5hbWVdLCBtYXhMZW5ndGgpKSxcbiAgICAgICAgICAgICAgKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgICAgICBhZGRlZChpbmRlbnQpICsgcHJvcE5hbWUgKyBcIjogXCIgKyBjbGllbnRQcm9wVmFsdWUgKyBcIlxcblwiKSxcbiAgICAgICAgICAgICAgKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgICAgICByZW1vdmVkKGluZGVudCkgKyBwcm9wTmFtZSArIFwiOiBcIiArIG1heExlbmd0aCArIFwiXFxuXCIpKVxuICAgICAgICAgICAgOiAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudCkgKyBwcm9wTmFtZSArIFwiOiBcIiArIGNsaWVudFByb3BWYWx1ZSArIFwiXFxuXCIpO1xuICAgICAgICB9XG4gICAgICBmb3IgKHZhciBfcHJvcE5hbWUgaW4gcmVtYWluaW5nU2VydmVyUHJvcGVydGllcylcbiAgICAgICAgcmVtYWluaW5nU2VydmVyUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShfcHJvcE5hbWUpICYmXG4gICAgICAgICAgKChjbGllbnRPYmplY3QgPSBkZXNjcmliZVZhbHVlKFxuICAgICAgICAgICAgcmVtYWluaW5nU2VydmVyUHJvcGVydGllc1tfcHJvcE5hbWVdLFxuICAgICAgICAgICAgMTIwIC0gMiAqIGluZGVudCAtIF9wcm9wTmFtZS5sZW5ndGggLSAyXG4gICAgICAgICAgKSksXG4gICAgICAgICAgKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50KSArIF9wcm9wTmFtZSArIFwiOiBcIiArIGNsaWVudE9iamVjdCArIFwiXFxuXCIpKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUVsZW1lbnREaWZmKHR5cGUsIGNsaWVudFByb3BzLCBzZXJ2ZXJQcm9wcywgaW5kZW50KSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCIsXG4gICAgICAgIHNlcnZlclByb3BOYW1lcyA9IG5ldyBNYXAoKTtcbiAgICAgIGZvciAocHJvcE5hbWUkanNjb21wJDAgaW4gc2VydmVyUHJvcHMpXG4gICAgICAgIHNlcnZlclByb3BzLmhhc093blByb3BlcnR5KHByb3BOYW1lJGpzY29tcCQwKSAmJlxuICAgICAgICAgIHNlcnZlclByb3BOYW1lcy5zZXQoXG4gICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMC50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgcHJvcE5hbWUkanNjb21wJDBcbiAgICAgICAgICApO1xuICAgICAgaWYgKDEgPT09IHNlcnZlclByb3BOYW1lcy5zaXplICYmIHNlcnZlclByb3BOYW1lcy5oYXMoXCJjaGlsZHJlblwiKSlcbiAgICAgICAgY29udGVudCArPSBkZXNjcmliZUV4cGFuZGVkRWxlbWVudChcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGNsaWVudFByb3BzLFxuICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudClcbiAgICAgICAgKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBfcHJvcE5hbWUyIGluIGNsaWVudFByb3BzKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNsaWVudFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wTmFtZTIpICYmXG4gICAgICAgICAgICBcImNoaWxkcmVuXCIgIT09IF9wcm9wTmFtZTJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBtYXhMZW5ndGgkanNjb21wJDAgPVxuICAgICAgICAgICAgICAgIDEyMCAtIDIgKiAoaW5kZW50ICsgMSkgLSBfcHJvcE5hbWUyLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lID0gc2VydmVyUHJvcE5hbWVzLmdldChfcHJvcE5hbWUyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gc2VydmVyUHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWVzLmRlbGV0ZShfcHJvcE5hbWUyLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICB2YXIgcHJvcE5hbWUkanNjb21wJDAgPSBjbGllbnRQcm9wc1tfcHJvcE5hbWUyXTtcbiAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUgPSBzZXJ2ZXJQcm9wc1tzZXJ2ZXJQcm9wTmFtZV07XG4gICAgICAgICAgICAgIHZhciBjbGllbnRQcm9wVmFsdWUgPSBkZXNjcmliZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwID0gZGVzY3JpYmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9wTmFtZSRqc2NvbXAkMCAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBwcm9wTmFtZSRqc2NvbXAkMCAmJlxuICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygc2VydmVyUHJvcE5hbWUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gc2VydmVyUHJvcE5hbWUgJiZcbiAgICAgICAgICAgICAgXCJPYmplY3RcIiA9PT0gb2JqZWN0TmFtZShwcm9wTmFtZSRqc2NvbXAkMCkgJiZcbiAgICAgICAgICAgICAgXCJPYmplY3RcIiA9PT0gb2JqZWN0TmFtZShzZXJ2ZXJQcm9wTmFtZSkgJiZcbiAgICAgICAgICAgICAgKDIgPCBPYmplY3Qua2V5cyhwcm9wTmFtZSRqc2NvbXAkMCkubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgMiA8IE9iamVjdC5rZXlzKHNlcnZlclByb3BOYW1lKS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAtMSA8IGNsaWVudFByb3BWYWx1ZS5pbmRleE9mKFwiLi4uXCIpIHx8XG4gICAgICAgICAgICAgICAgLTEgPCBtYXhMZW5ndGgkanNjb21wJDAuaW5kZXhPZihcIi4uLlwiKSlcbiAgICAgICAgICAgICAgICA/IChjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgICAgIFwiPXt7XFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmliZVByb3BlcnRpZXNEaWZmKFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGluZGVudCArIDJcbiAgICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgXCJ9fVxcblwiKVxuICAgICAgICAgICAgICAgIDogKChjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50UHJvcFZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiksXG4gICAgICAgICAgICAgICAgICAoY29udGVudCArPVxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwICtcbiAgICAgICAgICAgICAgICAgICAgXCJcXG5cIikpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgICAgX3Byb3BOYW1lMiArXG4gICAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlUHJvcFZhbHVlKGNsaWVudFByb3BzW19wcm9wTmFtZTJdLCBtYXhMZW5ndGgkanNjb21wJDApICtcbiAgICAgICAgICAgICAgICBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgc2VydmVyUHJvcE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BOYW1lKSB7XG4gICAgICAgICAgaWYgKFwiY2hpbGRyZW5cIiAhPT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogKGluZGVudCArIDEpIC0gcHJvcE5hbWUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgIHByb3BOYW1lICtcbiAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICBkZXNjcmliZVByb3BWYWx1ZShzZXJ2ZXJQcm9wc1twcm9wTmFtZV0sIG1heExlbmd0aCkgK1xuICAgICAgICAgICAgICBcIlxcblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgIFwiXCIgPT09IGNvbnRlbnRcbiAgICAgICAgICAgID8gaW5kZW50YXRpb24oaW5kZW50KSArIFwiPFwiICsgdHlwZSArIFwiPlxcblwiXG4gICAgICAgICAgICA6IGluZGVudGF0aW9uKGluZGVudCkgK1xuICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgY29udGVudCArXG4gICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgK1xuICAgICAgICAgICAgICBcIj5cXG5cIjtcbiAgICAgIH1cbiAgICAgIHR5cGUgPSBzZXJ2ZXJQcm9wcy5jaGlsZHJlbjtcbiAgICAgIGNsaWVudFByb3BzID0gY2xpZW50UHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICApIHtcbiAgICAgICAgc2VydmVyUHJvcE5hbWVzID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBjbGllbnRQcm9wc1xuICAgICAgICApXG4gICAgICAgICAgc2VydmVyUHJvcE5hbWVzID0gXCJcIiArIGNsaWVudFByb3BzO1xuICAgICAgICBjb250ZW50ICs9IGRlc2NyaWJlVGV4dERpZmYoc2VydmVyUHJvcE5hbWVzLCBcIlwiICsgdHlwZSwgaW5kZW50ICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY2xpZW50UHJvcHMgfHxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBjbGllbnRQcm9wc1xuICAgICAgKVxuICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICBudWxsID09IHR5cGVcbiAgICAgICAgICAgID8gY29udGVudCArIGRlc2NyaWJlVGV4dERpZmYoXCJcIiArIGNsaWVudFByb3BzLCBudWxsLCBpbmRlbnQgKyAxKVxuICAgICAgICAgICAgOiBjb250ZW50ICsgZGVzY3JpYmVUZXh0RGlmZihcIlwiICsgY2xpZW50UHJvcHMsIHZvaWQgMCwgaW5kZW50ICsgMSk7XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVTaWJsaW5nRmliZXIoZmliZXIsIGluZGVudCkge1xuICAgICAgdmFyIHR5cGUgPSBkZXNjcmliZUZpYmVyVHlwZShmaWJlcik7XG4gICAgICBpZiAobnVsbCA9PT0gdHlwZSkge1xuICAgICAgICB0eXBlID0gXCJcIjtcbiAgICAgICAgZm9yIChmaWJlciA9IGZpYmVyLmNoaWxkOyBmaWJlcjsgKVxuICAgICAgICAgICh0eXBlICs9IGRlc2NyaWJlU2libGluZ0ZpYmVyKGZpYmVyLCBpbmRlbnQpKSxcbiAgICAgICAgICAgIChmaWJlciA9IGZpYmVyLnNpYmxpbmcpO1xuICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCI8XCIgKyB0eXBlICsgXCI+XFxuXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTm9kZShub2RlLCBpbmRlbnQpIHtcbiAgICAgIHZhciBza2lwVG9Ob2RlID0gZmluZE5vdGFibGVOb2RlKG5vZGUsIGluZGVudCk7XG4gICAgICBpZiAoXG4gICAgICAgIHNraXBUb05vZGUgIT09IG5vZGUgJiZcbiAgICAgICAgKDEgIT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIHx8IG5vZGUuY2hpbGRyZW5bMF0gIT09IHNraXBUb05vZGUpXG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArIFwiLi4uXFxuXCIgKyBkZXNjcmliZU5vZGUoc2tpcFRvTm9kZSwgaW5kZW50ICsgMSlcbiAgICAgICAgKTtcbiAgICAgIHNraXBUb05vZGUgPSBcIlwiO1xuICAgICAgdmFyIGRlYnVnSW5mbyA9IG5vZGUuZmliZXIuX2RlYnVnSW5mbztcbiAgICAgIGlmIChkZWJ1Z0luZm8pXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVidWdJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNlcnZlckNvbXBvbmVudE5hbWUgPSBkZWJ1Z0luZm9baV0ubmFtZTtcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2VydmVyQ29tcG9uZW50TmFtZSAmJlxuICAgICAgICAgICAgKChza2lwVG9Ob2RlICs9XG4gICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgKyBcIjxcIiArIHNlcnZlckNvbXBvbmVudE5hbWUgKyBcIj5cXG5cIiksXG4gICAgICAgICAgICBpbmRlbnQrKyk7XG4gICAgICAgIH1cbiAgICAgIGRlYnVnSW5mbyA9IFwiXCI7XG4gICAgICBpID0gbm9kZS5maWJlci5wZW5kaW5nUHJvcHM7XG4gICAgICBpZiAoNiA9PT0gbm9kZS5maWJlci50YWcpXG4gICAgICAgIChkZWJ1Z0luZm8gPSBkZXNjcmliZVRleHREaWZmKGksIG5vZGUuc2VydmVyUHJvcHMsIGluZGVudCkpLCBpbmRlbnQrKztcbiAgICAgIGVsc2UgaWYgKFxuICAgICAgICAoKHNlcnZlckNvbXBvbmVudE5hbWUgPSBkZXNjcmliZUZpYmVyVHlwZShub2RlLmZpYmVyKSksXG4gICAgICAgIG51bGwgIT09IHNlcnZlckNvbXBvbmVudE5hbWUpXG4gICAgICApXG4gICAgICAgIGlmICh2b2lkIDAgPT09IG5vZGUuc2VydmVyUHJvcHMpIHtcbiAgICAgICAgICBkZWJ1Z0luZm8gPSBpbmRlbnQ7XG4gICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiBkZWJ1Z0luZm8gLSBzZXJ2ZXJDb21wb25lbnROYW1lLmxlbmd0aCAtIDIsXG4gICAgICAgICAgICBjb250ZW50ID0gXCJcIjtcbiAgICAgICAgICBmb3IgKHByb3BOYW1lIGluIGkpXG4gICAgICAgICAgICBpZiAoaS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgXCJjaGlsZHJlblwiICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgICB2YXIgcHJvcFZhbHVlID0gZGVzY3JpYmVQcm9wVmFsdWUoaVtwcm9wTmFtZV0sIDE1KTtcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoIC09IHByb3BOYW1lLmxlbmd0aCArIHByb3BWYWx1ZS5sZW5ndGggKyAyO1xuICAgICAgICAgICAgICBpZiAoMCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgKz0gXCIgLi4uXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGVudCArPSBcIiBcIiArIHByb3BOYW1lICsgXCI9XCIgKyBwcm9wVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZGVidWdJbmZvID1cbiAgICAgICAgICAgIGluZGVudGF0aW9uKGRlYnVnSW5mbykgK1xuICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSArXG4gICAgICAgICAgICBjb250ZW50ICtcbiAgICAgICAgICAgIFwiPlxcblwiO1xuICAgICAgICAgIGluZGVudCsrO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBudWxsID09PSBub2RlLnNlcnZlclByb3BzXG4gICAgICAgICAgICA/ICgoZGVidWdJbmZvID0gZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQoXG4gICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudClcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGluZGVudCsrKVxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygbm9kZS5zZXJ2ZXJQcm9wc1xuICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlNob3VsZCBub3QgaGF2ZSBtYXRjaGVkIGEgbm9uIEhvc3RUZXh0IGZpYmVyIHRvIGEgVGV4dCBub2RlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6ICgoZGVidWdJbmZvID0gZGVzY3JpYmVFbGVtZW50RGlmZihcbiAgICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgbm9kZS5zZXJ2ZXJQcm9wcyxcbiAgICAgICAgICAgICAgICAgIGluZGVudFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIGluZGVudCsrKTtcbiAgICAgIHZhciBwcm9wTmFtZSA9IFwiXCI7XG4gICAgICBpID0gbm9kZS5maWJlci5jaGlsZDtcbiAgICAgIGZvciAoXG4gICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUgPSAwO1xuICAgICAgICBpICYmIHNlcnZlckNvbXBvbmVudE5hbWUgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDtcblxuICAgICAgKVxuICAgICAgICAobWF4TGVuZ3RoID0gbm9kZS5jaGlsZHJlbltzZXJ2ZXJDb21wb25lbnROYW1lXSksXG4gICAgICAgICAgbWF4TGVuZ3RoLmZpYmVyID09PSBpXG4gICAgICAgICAgICA/ICgocHJvcE5hbWUgKz0gZGVzY3JpYmVOb2RlKG1heExlbmd0aCwgaW5kZW50KSksXG4gICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUrKylcbiAgICAgICAgICAgIDogKHByb3BOYW1lICs9IGRlc2NyaWJlU2libGluZ0ZpYmVyKGksIGluZGVudCkpLFxuICAgICAgICAgIChpID0gaS5zaWJsaW5nKTtcbiAgICAgIGkgJiZcbiAgICAgICAgMCA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIChwcm9wTmFtZSArPSBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCIuLi5cXG5cIik7XG4gICAgICBpID0gbm9kZS5zZXJ2ZXJUYWlsO1xuICAgICAgbnVsbCA9PT0gbm9kZS5zZXJ2ZXJQcm9wcyAmJiBpbmRlbnQtLTtcbiAgICAgIGZvciAobm9kZSA9IDA7IG5vZGUgPCBpLmxlbmd0aDsgbm9kZSsrKVxuICAgICAgICAoc2VydmVyQ29tcG9uZW50TmFtZSA9IGlbbm9kZV0pLFxuICAgICAgICAgIChwcm9wTmFtZSA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2VydmVyQ29tcG9uZW50TmFtZVxuICAgICAgICAgICAgICA/IHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICAocmVtb3ZlZChpbmRlbnQpICtcbiAgICAgICAgICAgICAgICAgIGRlc2NyaWJlVGV4dE5vZGUoc2VydmVyQ29tcG9uZW50TmFtZSwgMTIwIC0gMiAqIGluZGVudCkgK1xuICAgICAgICAgICAgICAgICAgXCJcXG5cIilcbiAgICAgICAgICAgICAgOiBwcm9wTmFtZSArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLnR5cGUsXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLnByb3BzLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQpXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICByZXR1cm4gc2tpcFRvTm9kZSArIGRlYnVnSW5mbyArIHByb3BOYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZURpZmYocm9vdE5vZGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBcIlxcblxcblwiICsgZGVzY3JpYmVOb2RlKHJvb3ROb2RlLCAwKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQW5jZXN0b3JzKGFuY2VzdG9yLCBjaGlsZCwgcHJvcHMpIHtcbiAgICAgIGZvciAodmFyIGZpYmVyID0gY2hpbGQsIG5vZGUgPSBudWxsLCBkaXN0YW5jZUZyb21MZWFmID0gMDsgZmliZXI7IClcbiAgICAgICAgZmliZXIgPT09IGFuY2VzdG9yICYmIChkaXN0YW5jZUZyb21MZWFmID0gMCksXG4gICAgICAgICAgKG5vZGUgPSB7XG4gICAgICAgICAgICBmaWJlcjogZmliZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogbnVsbCAhPT0gbm9kZSA/IFtub2RlXSA6IFtdLFxuICAgICAgICAgICAgc2VydmVyUHJvcHM6XG4gICAgICAgICAgICAgIGZpYmVyID09PSBjaGlsZCA/IHByb3BzIDogZmliZXIgPT09IGFuY2VzdG9yID8gbnVsbCA6IHZvaWQgMCxcbiAgICAgICAgICAgIHNlcnZlclRhaWw6IFtdLFxuICAgICAgICAgICAgZGlzdGFuY2VGcm9tTGVhZjogZGlzdGFuY2VGcm9tTGVhZlxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGRpc3RhbmNlRnJvbUxlYWYrKyxcbiAgICAgICAgICAoZmliZXIgPSBmaWJlci5yZXR1cm4pO1xuICAgICAgcmV0dXJuIG51bGwgIT09IG5vZGUgPyBkZXNjcmliZURpZmYobm9kZSkucmVwbGFjZUFsbCgvXlsrLV0vZ20sIFwiPlwiKSA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZWRBbmNlc3RvckluZm9EZXYob2xkSW5mbywgdGFnKSB7XG4gICAgICBvbGRJbmZvID0gYXNzaWduKHt9LCBvbGRJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvRGV2KTtcbiAgICAgIHZhciBpbmZvID0geyB0YWc6IHRhZyB9O1xuICAgICAgLTEgIT09IGluU2NvcGVUYWdzLmluZGV4T2YodGFnKSAmJlxuICAgICAgICAoKG9sZEluZm8uYVRhZ0luU2NvcGUgPSBudWxsKSxcbiAgICAgICAgKG9sZEluZm8uYnV0dG9uVGFnSW5TY29wZSA9IG51bGwpLFxuICAgICAgICAob2xkSW5mby5ub2JyVGFnSW5TY29wZSA9IG51bGwpKTtcbiAgICAgIC0xICE9PSBidXR0b25TY29wZVRhZ3MuaW5kZXhPZih0YWcpICYmIChvbGRJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gbnVsbCk7XG4gICAgICAtMSAhPT0gc3BlY2lhbFRhZ3MuaW5kZXhPZih0YWcpICYmXG4gICAgICAgIFwiYWRkcmVzc1wiICE9PSB0YWcgJiZcbiAgICAgICAgXCJkaXZcIiAhPT0gdGFnICYmXG4gICAgICAgIFwicFwiICE9PSB0YWcgJiZcbiAgICAgICAgKChvbGRJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsKSxcbiAgICAgICAgKG9sZEluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBudWxsKSk7XG4gICAgICBvbGRJbmZvLmN1cnJlbnQgPSBpbmZvO1xuICAgICAgXCJmb3JtXCIgPT09IHRhZyAmJiAob2xkSW5mby5mb3JtVGFnID0gaW5mbyk7XG4gICAgICBcImFcIiA9PT0gdGFnICYmIChvbGRJbmZvLmFUYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICBcImJ1dHRvblwiID09PSB0YWcgJiYgKG9sZEluZm8uYnV0dG9uVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgXCJub2JyXCIgPT09IHRhZyAmJiAob2xkSW5mby5ub2JyVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgXCJwXCIgPT09IHRhZyAmJiAob2xkSW5mby5wVGFnSW5CdXR0b25TY29wZSA9IGluZm8pO1xuICAgICAgXCJsaVwiID09PSB0YWcgJiYgKG9sZEluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm8pO1xuICAgICAgaWYgKFwiZGRcIiA9PT0gdGFnIHx8IFwiZHRcIiA9PT0gdGFnKSBvbGRJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbztcbiAgICAgIFwiI2RvY3VtZW50XCIgPT09IHRhZyB8fCBcImh0bWxcIiA9PT0gdGFnXG4gICAgICAgID8gKG9sZEluZm8uY29udGFpbmVyVGFnSW5TY29wZSA9IG51bGwpXG4gICAgICAgIDogb2xkSW5mby5jb250YWluZXJUYWdJblNjb3BlIHx8IChvbGRJbmZvLmNvbnRhaW5lclRhZ0luU2NvcGUgPSBpbmZvKTtcbiAgICAgIHJldHVybiBvbGRJbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RhZ1ZhbGlkV2l0aFBhcmVudCh0YWcsIHBhcmVudFRhZykge1xuICAgICAgc3dpdGNoIChwYXJlbnRUYWcpIHtcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImhyXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJvcHRpb25cIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm9wdGdyb3VwXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCIjdGV4dFwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwib3B0Z3JvdXBcIjpcbiAgICAgICAgICByZXR1cm4gXCJvcHRpb25cIiA9PT0gdGFnIHx8IFwiI3RleHRcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIFwiI3RleHRcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwidHJcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJ0aFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJ0Ym9keVwiOlxuICAgICAgICBjYXNlIFwidGhlYWRcIjpcbiAgICAgICAgY2FzZSBcInRmb290XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwidHJcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJjb2xncm91cFwiOlxuICAgICAgICAgIHJldHVybiBcImNvbFwiID09PSB0YWcgfHwgXCJ0ZW1wbGF0ZVwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImNhcHRpb25cIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImNvbGdyb3VwXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0Ym9keVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGZvb3RcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRoZWFkXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImJhc2VcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImJhc2Vmb250XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJiZ3NvdW5kXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJsaW5rXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJtZXRhXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0aXRsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwibm9zY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm5vZnJhbWVzXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIHJldHVybiBcImhlYWRcIiA9PT0gdGFnIHx8IFwiYm9keVwiID09PSB0YWcgfHwgXCJmcmFtZXNldFwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJmcmFtZXNldFwiOlxuICAgICAgICAgIHJldHVybiBcImZyYW1lXCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcIiNkb2N1bWVudFwiOlxuICAgICAgICAgIHJldHVybiBcImh0bWxcIiA9PT0gdGFnO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImgxXCI6XG4gICAgICAgIGNhc2UgXCJoMlwiOlxuICAgICAgICBjYXNlIFwiaDNcIjpcbiAgICAgICAgY2FzZSBcImg0XCI6XG4gICAgICAgIGNhc2UgXCJoNVwiOlxuICAgICAgICBjYXNlIFwiaDZcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJoMVwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDJcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImgzXCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoNFwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDVcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImg2XCIgIT09IHBhcmVudFRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJycFwiOlxuICAgICAgICBjYXNlIFwicnRcIjpcbiAgICAgICAgICByZXR1cm4gLTEgPT09IGltcGxpZWRFbmRUYWdzLmluZGV4T2YocGFyZW50VGFnKTtcbiAgICAgICAgY2FzZSBcImJvZHlcIjpcbiAgICAgICAgY2FzZSBcImNhcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImNvbFwiOlxuICAgICAgICBjYXNlIFwiY29sZ3JvdXBcIjpcbiAgICAgICAgY2FzZSBcImZyYW1lc2V0XCI6XG4gICAgICAgIGNhc2UgXCJmcmFtZVwiOlxuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICBjYXNlIFwidGJvZHlcIjpcbiAgICAgICAgY2FzZSBcInRkXCI6XG4gICAgICAgIGNhc2UgXCJ0Zm9vdFwiOlxuICAgICAgICBjYXNlIFwidGhcIjpcbiAgICAgICAgY2FzZSBcInRoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJ0clwiOlxuICAgICAgICAgIHJldHVybiBudWxsID09IHBhcmVudFRhZztcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEludmFsaWRBbmNlc3RvckZvclRhZyh0YWcsIGFuY2VzdG9ySW5mbykge1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImFkZHJlc3NcIjpcbiAgICAgICAgY2FzZSBcImFydGljbGVcIjpcbiAgICAgICAgY2FzZSBcImFzaWRlXCI6XG4gICAgICAgIGNhc2UgXCJibG9ja3F1b3RlXCI6XG4gICAgICAgIGNhc2UgXCJjZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcImRldGFpbHNcIjpcbiAgICAgICAgY2FzZSBcImRpYWxvZ1wiOlxuICAgICAgICBjYXNlIFwiZGlyXCI6XG4gICAgICAgIGNhc2UgXCJkaXZcIjpcbiAgICAgICAgY2FzZSBcImRsXCI6XG4gICAgICAgIGNhc2UgXCJmaWVsZHNldFwiOlxuICAgICAgICBjYXNlIFwiZmlnY2FwdGlvblwiOlxuICAgICAgICBjYXNlIFwiZmlndXJlXCI6XG4gICAgICAgIGNhc2UgXCJmb290ZXJcIjpcbiAgICAgICAgY2FzZSBcImhlYWRlclwiOlxuICAgICAgICBjYXNlIFwiaGdyb3VwXCI6XG4gICAgICAgIGNhc2UgXCJtYWluXCI6XG4gICAgICAgIGNhc2UgXCJtZW51XCI6XG4gICAgICAgIGNhc2UgXCJuYXZcIjpcbiAgICAgICAgY2FzZSBcIm9sXCI6XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgIGNhc2UgXCJzZWN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJzdW1tYXJ5XCI6XG4gICAgICAgIGNhc2UgXCJ1bFwiOlxuICAgICAgICBjYXNlIFwicHJlXCI6XG4gICAgICAgIGNhc2UgXCJsaXN0aW5nXCI6XG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICBjYXNlIFwiaHJcIjpcbiAgICAgICAgY2FzZSBcInhtcFwiOlxuICAgICAgICBjYXNlIFwiaDFcIjpcbiAgICAgICAgY2FzZSBcImgyXCI6XG4gICAgICAgIGNhc2UgXCJoM1wiOlxuICAgICAgICBjYXNlIFwiaDRcIjpcbiAgICAgICAgY2FzZSBcImg1XCI6XG4gICAgICAgIGNhc2UgXCJoNlwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG4gICAgICAgIGNhc2UgXCJmb3JtXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5mb3JtVGFnIHx8IGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcbiAgICAgICAgY2FzZSBcImxpXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlIFwiZGRcIjpcbiAgICAgICAgY2FzZSBcImR0XCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZztcbiAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYnV0dG9uVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmFUYWdJblNjb3BlO1xuICAgICAgICBjYXNlIFwibm9iclwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubm9iclRhZ0luU2NvcGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEFuY2VzdG9yKHBhcmVudCwgdGFnTmFtZSkge1xuICAgICAgZm9yICg7IHBhcmVudDsgKSB7XG4gICAgICAgIHN3aXRjaCAocGFyZW50LnRhZykge1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICBpZiAocGFyZW50LnR5cGUgPT09IHRhZ05hbWUpIHJldHVybiBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZURPTU5lc3RpbmcoY2hpbGRUYWcsIGFuY2VzdG9ySW5mbykge1xuICAgICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvIHx8IGVtcHR5QW5jZXN0b3JJbmZvRGV2O1xuICAgICAgdmFyIHBhcmVudEluZm8gPSBhbmNlc3RvckluZm8uY3VycmVudDtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IChwYXJlbnRJbmZvID0gaXNUYWdWYWxpZFdpdGhQYXJlbnQoXG4gICAgICAgIGNoaWxkVGFnLFxuICAgICAgICBwYXJlbnRJbmZvICYmIHBhcmVudEluZm8udGFnXG4gICAgICApXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHBhcmVudEluZm8pXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IGZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcoY2hpbGRUYWcsIGFuY2VzdG9ySW5mbyk7XG4gICAgICBhbmNlc3RvckluZm8gPSBwYXJlbnRJbmZvIHx8IGFuY2VzdG9ySW5mbztcbiAgICAgIGlmICghYW5jZXN0b3JJbmZvKSByZXR1cm4gITA7XG4gICAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8udGFnO1xuICAgICAgdmFyIHdhcm5LZXkgPSBTdHJpbmcoISFwYXJlbnRJbmZvKSArIFwifFwiICsgY2hpbGRUYWcgKyBcInxcIiArIGFuY2VzdG9ySW5mbztcbiAgICAgIGlmIChkaWRXYXJuW3dhcm5LZXldKSByZXR1cm4gITE7XG4gICAgICBkaWRXYXJuW3dhcm5LZXldID0gITA7XG4gICAgICB2YXIgYW5jZXN0b3IgPSAod2FybktleSA9IGN1cnJlbnQpXG4gICAgICAgID8gZmluZEFuY2VzdG9yKHdhcm5LZXkucmV0dXJuLCBhbmNlc3RvckluZm8pXG4gICAgICAgIDogbnVsbDtcbiAgICAgIHdhcm5LZXkgPVxuICAgICAgICBudWxsICE9PSB3YXJuS2V5ICYmIG51bGwgIT09IGFuY2VzdG9yXG4gICAgICAgICAgPyBkZXNjcmliZUFuY2VzdG9ycyhhbmNlc3Rvciwgd2FybktleSwgbnVsbClcbiAgICAgICAgICA6IFwiXCI7XG4gICAgICBhbmNlc3RvciA9IFwiPFwiICsgY2hpbGRUYWcgKyBcIj5cIjtcbiAgICAgIHBhcmVudEluZm9cbiAgICAgICAgPyAoKHBhcmVudEluZm8gPSBcIlwiKSxcbiAgICAgICAgICBcInRhYmxlXCIgPT09IGFuY2VzdG9ySW5mbyAmJlxuICAgICAgICAgICAgXCJ0clwiID09PSBjaGlsZFRhZyAmJlxuICAgICAgICAgICAgKHBhcmVudEluZm8gKz1cbiAgICAgICAgICAgICAgXCIgQWRkIGEgPHRib2R5PiwgPHRoZWFkPiBvciA8dGZvb3Q+IHRvIHlvdXIgY29kZSB0byBtYXRjaCB0aGUgRE9NIHRyZWUgZ2VuZXJhdGVkIGJ5IHRoZSBicm93c2VyLlwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCAlcyBjYW5ub3QgYmUgYSBjaGlsZCBvZiA8JXM+LiVzXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBhbmNlc3RvcixcbiAgICAgICAgICAgIGFuY2VzdG9ySW5mbyxcbiAgICAgICAgICAgIHBhcmVudEluZm8sXG4gICAgICAgICAgICB3YXJuS2V5XG4gICAgICAgICAgKSlcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCAlcyBjYW5ub3QgYmUgYSBkZXNjZW5kYW50IG9mIDwlcz4uXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBhbmNlc3RvcixcbiAgICAgICAgICAgIGFuY2VzdG9ySW5mbyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRleHROZXN0aW5nKGNoaWxkVGV4dCwgcGFyZW50VGFnKSB7XG4gICAgICBpZiAoaXNUYWdWYWxpZFdpdGhQYXJlbnQoXCIjdGV4dFwiLCBwYXJlbnRUYWcpKSByZXR1cm4gITA7XG4gICAgICB2YXIgd2FybktleSA9IFwiI3RleHR8XCIgKyBwYXJlbnRUYWc7XG4gICAgICBpZiAoZGlkV2Fyblt3YXJuS2V5XSkgcmV0dXJuICExO1xuICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9ICEwO1xuICAgICAgdmFyIGFuY2VzdG9yID0gKHdhcm5LZXkgPSBjdXJyZW50KVxuICAgICAgICA/IGZpbmRBbmNlc3Rvcih3YXJuS2V5LCBwYXJlbnRUYWcpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIHdhcm5LZXkgPVxuICAgICAgICBudWxsICE9PSB3YXJuS2V5ICYmIG51bGwgIT09IGFuY2VzdG9yXG4gICAgICAgICAgPyBkZXNjcmliZUFuY2VzdG9ycyhcbiAgICAgICAgICAgICAgYW5jZXN0b3IsXG4gICAgICAgICAgICAgIHdhcm5LZXksXG4gICAgICAgICAgICAgIDYgIT09IHdhcm5LZXkudGFnID8geyBjaGlsZHJlbjogbnVsbCB9IDogbnVsbFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIC9cXFMvLnRlc3QoY2hpbGRUZXh0KVxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsIHRleHQgbm9kZXMgY2Fubm90IGJlIGEgY2hpbGQgb2YgPCVzPi5cXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIHBhcmVudFRhZyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW4gSFRNTCwgd2hpdGVzcGFjZSB0ZXh0IG5vZGVzIGNhbm5vdCBiZSBhIGNoaWxkIG9mIDwlcz4uIE1ha2Ugc3VyZSB5b3UgZG9uJ3QgaGF2ZSBhbnkgZXh0cmEgd2hpdGVzcGFjZSBiZXR3ZWVuIHRhZ3Mgb24gZWFjaCBsaW5lIG9mIHlvdXIgc291cmNlIGNvZGUuXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBwYXJlbnRUYWcsXG4gICAgICAgICAgICB3YXJuS2V5XG4gICAgICAgICAgKTtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQobm9kZSwgdGV4dCkge1xuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgdmFyIGZpcnN0Q2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBmaXJzdENoaWxkICYmXG4gICAgICAgICAgZmlyc3RDaGlsZCA9PT0gbm9kZS5sYXN0Q2hpbGQgJiZcbiAgICAgICAgICAzID09PSBmaXJzdENoaWxkLm5vZGVUeXBlXG4gICAgICAgICkge1xuICAgICAgICAgIGZpcnN0Q2hpbGQubm9kZVZhbHVlID0gdGV4dDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShoeXBoZW5QYXR0ZXJuLCBmdW5jdGlvbiAoXywgY2hhcmFjdGVyKSB7XG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXIudG9VcHBlckNhc2UoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvclN0eWxlKHN0eWxlLCBzdHlsZU5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgaXNDdXN0b21Qcm9wZXJ0eSA9IDAgPT09IHN0eWxlTmFtZS5pbmRleE9mKFwiLS1cIik7XG4gICAgICBpc0N1c3RvbVByb3BlcnR5IHx8XG4gICAgICAgICgtMSA8IHN0eWxlTmFtZS5pbmRleE9mKFwiLVwiKVxuICAgICAgICAgID8gKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICB3YXJuZWRTdHlsZU5hbWVzW3N0eWxlTmFtZV0pIHx8XG4gICAgICAgICAgICAoKHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiVW5zdXBwb3J0ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz9cIixcbiAgICAgICAgICAgICAgc3R5bGVOYW1lLFxuICAgICAgICAgICAgICBjYW1lbGl6ZShzdHlsZU5hbWUucmVwbGFjZShtc1BhdHRlcm4sIFwibXMtXCIpKVxuICAgICAgICAgICAgKSlcbiAgICAgICAgICA6IGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybi50ZXN0KHN0eWxlTmFtZSlcbiAgICAgICAgICAgID8gKHdhcm5lZFN0eWxlTmFtZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICAgIHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSkgfHxcbiAgICAgICAgICAgICAgKCh3YXJuZWRTdHlsZU5hbWVzW3N0eWxlTmFtZV0gPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbnN1cHBvcnRlZCB2ZW5kb3ItcHJlZml4ZWQgc3R5bGUgcHJvcGVydHkgJXMuIERpZCB5b3UgbWVhbiAlcz9cIixcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWUsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3R5bGVOYW1lLnNsaWNlKDEpXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6ICFiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4udGVzdCh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgKHdhcm5lZFN0eWxlVmFsdWVzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSkgfHxcbiAgICAgICAgICAgICAgKCh3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0gPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1N0eWxlIHByb3BlcnR5IHZhbHVlcyBzaG91bGRuXFwndCBjb250YWluIGEgc2VtaWNvbG9uLiBUcnkgXCIlczogJXNcIiBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlLnJlcGxhY2UoYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLCBcIlwiKVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgKGlzTmFOKHZhbHVlKVxuICAgICAgICAgICAgPyB3YXJuZWRGb3JOYU5WYWx1ZSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZEZvck5hTlZhbHVlID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiYE5hTmAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LlwiLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiBpc0Zpbml0ZSh2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZEZvckluZmluaXR5VmFsdWUgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgSW5maW5pdHlgIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS5cIixcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgKSkpKTtcbiAgICAgIG51bGwgPT0gdmFsdWUgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcIlwiID09PSB2YWx1ZVxuICAgICAgICA/IGlzQ3VzdG9tUHJvcGVydHlcbiAgICAgICAgICA/IHN0eWxlLnNldFByb3BlcnR5KHN0eWxlTmFtZSwgXCJcIilcbiAgICAgICAgICA6IFwiZmxvYXRcIiA9PT0gc3R5bGVOYW1lXG4gICAgICAgICAgICA/IChzdHlsZS5jc3NGbG9hdCA9IFwiXCIpXG4gICAgICAgICAgICA6IChzdHlsZVtzdHlsZU5hbWVdID0gXCJcIilcbiAgICAgICAgOiBpc0N1c3RvbVByb3BlcnR5XG4gICAgICAgICAgPyBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIHZhbHVlKVxuICAgICAgICAgIDogXCJudW1iZXJcIiAhPT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICAgIDAgPT09IHZhbHVlIHx8XG4gICAgICAgICAgICAgIHVuaXRsZXNzTnVtYmVycy5oYXMoc3R5bGVOYW1lKVxuICAgICAgICAgICAgPyBcImZsb2F0XCIgPT09IHN0eWxlTmFtZVxuICAgICAgICAgICAgICA/IChzdHlsZS5jc3NGbG9hdCA9IHZhbHVlKVxuICAgICAgICAgICAgICA6IChjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHN0eWxlTmFtZSksXG4gICAgICAgICAgICAgICAgKHN0eWxlW3N0eWxlTmFtZV0gPSAoXCJcIiArIHZhbHVlKS50cmltKCkpKVxuICAgICAgICAgICAgOiAoc3R5bGVbc3R5bGVOYW1lXSA9IHZhbHVlICsgXCJweFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JTdHlsZXMobm9kZSwgc3R5bGVzLCBwcmV2U3R5bGVzKSB7XG4gICAgICBpZiAobnVsbCAhPSBzdHlsZXMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHN0eWxlcylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsIG5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyAnZW0nfX0gd2hlbiB1c2luZyBKU1guXCJcbiAgICAgICAgKTtcbiAgICAgIHN0eWxlcyAmJiBPYmplY3QuZnJlZXplKHN0eWxlcyk7XG4gICAgICBub2RlID0gbm9kZS5zdHlsZTtcbiAgICAgIGlmIChudWxsICE9IHByZXZTdHlsZXMpIHtcbiAgICAgICAgaWYgKHN0eWxlcykge1xuICAgICAgICAgIHZhciBleHBhbmRlZFVwZGF0ZXMgPSB7fTtcbiAgICAgICAgICBpZiAocHJldlN0eWxlcylcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwcmV2U3R5bGVzKVxuICAgICAgICAgICAgICBpZiAocHJldlN0eWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFzdHlsZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgdmFyIGxvbmdoYW5kcyA9IHNob3J0aGFuZFRvTG9uZ2hhbmRba2V5XSB8fCBba2V5XSwgaSA9IDA7XG4gICAgICAgICAgICAgICAgICBpIDwgbG9uZ2hhbmRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgIGkrK1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGV4cGFuZGVkVXBkYXRlc1tsb25naGFuZHNbaV1dID0ga2V5O1xuICAgICAgICAgIGZvciAodmFyIF9rZXkgaW4gc3R5bGVzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzdHlsZXMuaGFzT3duUHJvcGVydHkoX2tleSkgJiZcbiAgICAgICAgICAgICAgKCFwcmV2U3R5bGVzIHx8IHByZXZTdHlsZXNbX2tleV0gIT09IHN0eWxlc1tfa2V5XSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBrZXkgPSBzaG9ydGhhbmRUb0xvbmdoYW5kW19rZXldIHx8IFtfa2V5XSwgbG9uZ2hhbmRzID0gMDtcbiAgICAgICAgICAgICAgICBsb25naGFuZHMgPCBrZXkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxvbmdoYW5kcysrXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBleHBhbmRlZFVwZGF0ZXNba2V5W2xvbmdoYW5kc11dID0gX2tleTtcbiAgICAgICAgICBfa2V5ID0ge307XG4gICAgICAgICAgZm9yICh2YXIga2V5JGpzY29tcCQwIGluIHN0eWxlcylcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIGtleSA9IHNob3J0aGFuZFRvTG9uZ2hhbmRba2V5JGpzY29tcCQwXSB8fCBba2V5JGpzY29tcCQwXSxcbiAgICAgICAgICAgICAgICBsb25naGFuZHMgPSAwO1xuICAgICAgICAgICAgICBsb25naGFuZHMgPCBrZXkubGVuZ3RoO1xuICAgICAgICAgICAgICBsb25naGFuZHMrK1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfa2V5W2tleVtsb25naGFuZHNdXSA9IGtleSRqc2NvbXAkMDtcbiAgICAgICAgICBrZXkkanNjb21wJDAgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBfa2V5MiBpbiBleHBhbmRlZFVwZGF0ZXMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoa2V5ID0gZXhwYW5kZWRVcGRhdGVzW19rZXkyXSksXG4gICAgICAgICAgICAgIChsb25naGFuZHMgPSBfa2V5W19rZXkyXSkgJiZcbiAgICAgICAgICAgICAgICBrZXkgIT09IGxvbmdoYW5kcyAmJlxuICAgICAgICAgICAgICAgICgoaSA9IGtleSArIFwiLFwiICsgbG9uZ2hhbmRzKSwgIWtleSRqc2NvbXAkMFtpXSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAga2V5JGpzY29tcCQwW2ldID0gITA7XG4gICAgICAgICAgICAgIGkgPSBjb25zb2xlO1xuICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBzdHlsZXNba2V5XTtcbiAgICAgICAgICAgICAgaS5lcnJvci5jYWxsKFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgXCIlcyBhIHN0eWxlIHByb3BlcnR5IGR1cmluZyByZXJlbmRlciAoJXMpIHdoZW4gYSBjb25mbGljdGluZyBwcm9wZXJ0eSBpcyBzZXQgKCVzKSBjYW4gbGVhZCB0byBzdHlsaW5nIGJ1Z3MuIFRvIGF2b2lkIHRoaXMsIGRvbid0IG1peCBzaG9ydGhhbmQgYW5kIG5vbi1zaG9ydGhhbmQgcHJvcGVydGllcyBmb3IgdGhlIHNhbWUgdmFsdWU7IGluc3RlYWQsIHJlcGxhY2UgdGhlIHNob3J0aGFuZCB3aXRoIHNlcGFyYXRlIHZhbHVlcy5cIixcbiAgICAgICAgICAgICAgICBudWxsID09IHZhbHVlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJcIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgID8gXCJSZW1vdmluZ1wiXG4gICAgICAgICAgICAgICAgICA6IFwiVXBkYXRpbmdcIixcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgbG9uZ2hhbmRzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgc3R5bGVOYW1lIGluIHByZXZTdHlsZXMpXG4gICAgICAgICAgIXByZXZTdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSB8fFxuICAgICAgICAgICAgKG51bGwgIT0gc3R5bGVzICYmIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB8fFxuICAgICAgICAgICAgKDAgPT09IHN0eWxlTmFtZS5pbmRleE9mKFwiLS1cIilcbiAgICAgICAgICAgICAgPyBub2RlLnNldFByb3BlcnR5KHN0eWxlTmFtZSwgXCJcIilcbiAgICAgICAgICAgICAgOiBcImZsb2F0XCIgPT09IHN0eWxlTmFtZVxuICAgICAgICAgICAgICAgID8gKG5vZGUuY3NzRmxvYXQgPSBcIlwiKVxuICAgICAgICAgICAgICAgIDogKG5vZGVbc3R5bGVOYW1lXSA9IFwiXCIpKTtcbiAgICAgICAgZm9yICh2YXIgX3N0eWxlTmFtZSBpbiBzdHlsZXMpXG4gICAgICAgICAgKF9rZXkyID0gc3R5bGVzW19zdHlsZU5hbWVdKSxcbiAgICAgICAgICAgIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShfc3R5bGVOYW1lKSAmJlxuICAgICAgICAgICAgICBwcmV2U3R5bGVzW19zdHlsZU5hbWVdICE9PSBfa2V5MiAmJlxuICAgICAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlKG5vZGUsIF9zdHlsZU5hbWUsIF9rZXkyKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBmb3IgKGV4cGFuZGVkVXBkYXRlcyBpbiBzdHlsZXMpXG4gICAgICAgICAgc3R5bGVzLmhhc093blByb3BlcnR5KGV4cGFuZGVkVXBkYXRlcykgJiZcbiAgICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGUobm9kZSwgZXhwYW5kZWRVcGRhdGVzLCBzdHlsZXNbZXhwYW5kZWRVcGRhdGVzXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudCh0YWdOYW1lKSB7XG4gICAgICBpZiAoLTEgPT09IHRhZ05hbWUuaW5kZXhPZihcIi1cIikpIHJldHVybiAhMTtcbiAgICAgIHN3aXRjaCAodGFnTmFtZSkge1xuICAgICAgICBjYXNlIFwiYW5ub3RhdGlvbi14bWxcIjpcbiAgICAgICAgY2FzZSBcImNvbG9yLXByb2ZpbGVcIjpcbiAgICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLXNyY1wiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLXVyaVwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLWZvcm1hdFwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlLW5hbWVcIjpcbiAgICAgICAgY2FzZSBcIm1pc3NpbmctZ2x5cGhcIjpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVBbGlhcyhuYW1lKSB7XG4gICAgICByZXR1cm4gYWxpYXNlcy5nZXQobmFtZSkgfHwgbmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSQxKHRhZ05hbWUsIG5hbWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzJDEsIG5hbWUpICYmXG4gICAgICAgIHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXVxuICAgICAgKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBpZiAockFSSUFDYW1lbCQxLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGFnTmFtZSA9IFwiYXJpYS1cIiArIG5hbWUuc2xpY2UoNCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGFnTmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHRhZ05hbWUpID8gdGFnTmFtZSA6IG51bGw7XG4gICAgICAgIGlmIChudWxsID09IHRhZ05hbWUpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBBUklBIGF0dHJpYnV0ZSBgJXNgLiBBUklBIGF0dHJpYnV0ZXMgZm9sbG93IHRoZSBwYXR0ZXJuIGFyaWEtKiBhbmQgbXVzdCBiZSBsb3dlcmNhc2UuXCIsXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKG5hbWUgIT09IHRhZ05hbWUpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBBUklBIGF0dHJpYnV0ZSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgdGFnTmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHJBUklBJDEudGVzdChuYW1lKSkge1xuICAgICAgICB0YWdOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0YWdOYW1lID0gYXJpYVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkgPyB0YWdOYW1lIDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgPT0gdGFnTmFtZSkgcmV0dXJuICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMCksICExO1xuICAgICAgICBuYW1lICE9PSB0YWdOYW1lICYmXG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlVua25vd24gQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/XCIsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdGFnTmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzKSB7XG4gICAgICB2YXIgaW52YWxpZFByb3BzID0gW10sXG4gICAgICAgIGtleTtcbiAgICAgIGZvciAoa2V5IGluIHByb3BzKVxuICAgICAgICB2YWxpZGF0ZVByb3BlcnR5JDEodHlwZSwga2V5KSB8fCBpbnZhbGlkUHJvcHMucHVzaChrZXkpO1xuICAgICAgcHJvcHMgPSBpbnZhbGlkUHJvcHNcbiAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIHJldHVybiBcImBcIiArIHByb3AgKyBcImBcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCIsIFwiKTtcbiAgICAgIDEgPT09IGludmFsaWRQcm9wcy5sZW5ndGhcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIGFyaWEgcHJvcCAlcyBvbiA8JXM+IHRhZy4gRm9yIGRldGFpbHMsIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtYXJpYS1wcm9wc1wiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKVxuICAgICAgICA6IDEgPCBpbnZhbGlkUHJvcHMubGVuZ3RoICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW52YWxpZCBhcmlhIHByb3BzICVzIG9uIDwlcz4gdGFnLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1hcmlhLXByb3BzXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5KHRhZ05hbWUsIG5hbWUsIHZhbHVlLCBldmVudFJlZ2lzdHJ5KSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbCh3YXJuZWRQcm9wZXJ0aWVzLCBuYW1lKSAmJiB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoXCJvbmZvY3VzaW5cIiA9PT0gbG93ZXJDYXNlZE5hbWUgfHwgXCJvbmZvY3Vzb3V0XCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IHVzZXMgb25Gb2N1cyBhbmQgb25CbHVyIGluc3RlYWQgb2Ygb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0LiBBbGwgUmVhY3QgZXZlbnRzIGFyZSBub3JtYWxpemVkIHRvIGJ1YmJsZSwgc28gb25Gb2N1c0luIGFuZCBvbkZvY3VzT3V0IGFyZSBub3QgbmVlZGVkL3N1cHBvcnRlZCBieSBSZWFjdC5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgKChcImZvcm1cIiA9PT0gdGFnTmFtZSAmJiBcImFjdGlvblwiID09PSBuYW1lKSB8fFxuICAgICAgICAgIChcImlucHV0XCIgPT09IHRhZ05hbWUgJiYgXCJmb3JtQWN0aW9uXCIgPT09IG5hbWUpIHx8XG4gICAgICAgICAgKFwiYnV0dG9uXCIgPT09IHRhZ05hbWUgJiYgXCJmb3JtQWN0aW9uXCIgPT09IG5hbWUpKVxuICAgICAgKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBpZiAobnVsbCAhPSBldmVudFJlZ2lzdHJ5KSB7XG4gICAgICAgIHRhZ05hbWUgPSBldmVudFJlZ2lzdHJ5LnBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM7XG4gICAgICAgIGlmIChldmVudFJlZ2lzdHJ5LnJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkobmFtZSkpXG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBldmVudFJlZ2lzdHJ5ID0gdGFnTmFtZS5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgICA/IHRhZ05hbWVbbG93ZXJDYXNlZE5hbWVdXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPSBldmVudFJlZ2lzdHJ5KVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRSZWdpc3RyeVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJVbmtub3duIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gSXQgd2lsbCBiZSBpZ25vcmVkLlwiLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChFVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIFJlYWN0IGV2ZW50cyB1c2UgdGhlIGNhbWVsQ2FzZSBuYW1pbmcgY29udmVudGlvbiwgZm9yIGV4YW1wbGUgYG9uQ2xpY2tgLlwiLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAockFSSUEudGVzdChuYW1lKSB8fCByQVJJQUNhbWVsLnRlc3QobmFtZSkpIHJldHVybiAhMDtcbiAgICAgIGlmIChcImlubmVyaHRtbFwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJEaXJlY3RseSBzZXR0aW5nIHByb3BlcnR5IGBpbm5lckhUTUxgIGlzIG5vdCBwZXJtaXR0ZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBsb29rdXAgZG9jdW1lbnRhdGlvbiBvbiBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFwiYXJpYVwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgYGFyaWFgIGF0dHJpYnV0ZSBpcyByZXNlcnZlZCBmb3IgZnV0dXJlIHVzZSBpbiBSZWFjdC4gUGFzcyBpbmRpdmlkdWFsIGBhcmlhLWAgYXR0cmlidXRlcyBpbnN0ZWFkLlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcImlzXCIgPT09IGxvd2VyQ2FzZWROYW1lICYmXG4gICAgICAgIG51bGwgIT09IHZhbHVlICYmXG4gICAgICAgIHZvaWQgMCAhPT0gdmFsdWUgJiZcbiAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVjZWl2ZWQgYSBgJXNgIGZvciBhIHN0cmluZyBhdHRyaWJ1dGUgYGlzYC4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCB0aGUgdmFsdWUgdG8gYSBzdHJpbmcuXCIsXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlICYmIGlzTmFOKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWNlaXZlZCBOYU4gZm9yIHRoZSBgJXNgIGF0dHJpYnV0ZS4gSWYgdGhpcyBpcyBleHBlY3RlZCwgY2FzdCB0aGUgdmFsdWUgdG8gYSBzdHJpbmcuXCIsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKHBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShsb3dlckNhc2VkTmFtZSkpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgobG93ZXJDYXNlZE5hbWUgPSBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbbG93ZXJDYXNlZE5hbWVdKSxcbiAgICAgICAgICBsb3dlckNhc2VkTmFtZSAhPT0gbmFtZSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgRE9NIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBsb3dlckNhc2VkTmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSAhPT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgZG9lcyBub3QgcmVjb2duaXplIHRoZSBgJXNgIHByb3Agb24gYSBET00gZWxlbWVudC4gSWYgeW91IGludGVudGlvbmFsbHkgd2FudCBpdCB0byBhcHBlYXIgaW4gdGhlIERPTSBhcyBhIGN1c3RvbSBhdHRyaWJ1dGUsIHNwZWxsIGl0IGFzIGxvd2VyY2FzZSBgJXNgIGluc3RlYWQuIElmIHlvdSBhY2NpZGVudGFsbHkgcGFzc2VkIGl0IGZyb20gYSBwYXJlbnQgY29tcG9uZW50LCByZW1vdmUgaXQgZnJvbSB0aGUgRE9NIGVsZW1lbnQuXCIsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbG93ZXJDYXNlZE5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcImlubmVyVGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dENvbnRlbnRcIjpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImF1dG9Gb2N1c1wiOlxuICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzcGVsbENoZWNrXCI6XG4gICAgICAgICAgICBjYXNlIFwiZHJhZ2dhYmxlXCI6XG4gICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvUmV2ZXJzZVwiOlxuICAgICAgICAgICAgY2FzZSBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c2FibGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJwcmVzZXJ2ZUFscGhhXCI6XG4gICAgICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICAgICAgY2FzZSBcImRvd25sb2FkXCI6XG4gICAgICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgbG93ZXJDYXNlZE5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNSk7XG4gICAgICAgICAgICAgIGlmIChcImRhdGEtXCIgPT09IGxvd2VyQ2FzZWROYW1lIHx8IFwiYXJpYS1cIiA9PT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1JlY2VpdmVkIGAlc2AgZm9yIGEgbm9uLWJvb2xlYW4gYXR0cmlidXRlIGAlc2AuXFxuXFxuSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAlcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ1JlY2VpdmVkIGAlc2AgZm9yIGEgbm9uLWJvb2xlYW4gYXR0cmlidXRlIGAlc2AuXFxuXFxuSWYgeW91IHdhbnQgdG8gd3JpdGUgaXQgdG8gdGhlIERPTSwgcGFzcyBhIHN0cmluZyBpbnN0ZWFkOiAlcz1cIiVzXCIgb3IgJXM9e3ZhbHVlLnRvU3RyaW5nKCl9LlxcblxcbklmIHlvdSB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgb21pdCBpdCB3aXRoICVzPXtjb25kaXRpb24gJiYgdmFsdWV9LCBwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKTtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgcmV0dXJuICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApLCAhMTtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGlmIChcImZhbHNlXCIgPT09IHZhbHVlIHx8IFwidHJ1ZVwiID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImluZXJ0XCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCB0aGUgc3RyaW5nIGAlc2AgZm9yIHRoZSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiAlcyBEaWQgeW91IG1lYW4gJXM9eyVzfT9cIixcbiAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIFwiZmFsc2VcIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICA/IFwiVGhlIGJyb3dzZXIgd2lsbCBpbnRlcnByZXQgaXQgYXMgYSB0cnV0aHkgdmFsdWUuXCJcbiAgICAgICAgICAgICAgICA6ICdBbHRob3VnaCB0aGlzIHdvcmtzLCBpdCB3aWxsIG5vdCB3b3JrIGFzIGV4cGVjdGVkIGlmIHlvdSBwYXNzIHRoZSBzdHJpbmcgXCJmYWxzZVwiLicsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgd2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBldmVudFJlZ2lzdHJ5KSB7XG4gICAgICB2YXIgdW5rbm93blByb3BzID0gW10sXG4gICAgICAgIGtleTtcbiAgICAgIGZvciAoa2V5IGluIHByb3BzKVxuICAgICAgICB2YWxpZGF0ZVByb3BlcnR5KHR5cGUsIGtleSwgcHJvcHNba2V5XSwgZXZlbnRSZWdpc3RyeSkgfHxcbiAgICAgICAgICB1bmtub3duUHJvcHMucHVzaChrZXkpO1xuICAgICAgcHJvcHMgPSB1bmtub3duUHJvcHNcbiAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgIHJldHVybiBcImBcIiArIHByb3AgKyBcImBcIjtcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oXCIsIFwiKTtcbiAgICAgIDEgPT09IHVua25vd25Qcm9wcy5sZW5ndGhcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIGl0IGZyb20gdGhlIGVsZW1lbnQsIG9yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgaXQgaW4gdGhlIERPTS4gRm9yIGRldGFpbHMsIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2F0dHJpYnV0ZS1iZWhhdmlvciBcIixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgIClcbiAgICAgICAgOiAxIDwgdW5rbm93blByb3BzLmxlbmd0aCAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgdmFsdWVzIGZvciBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSB0aGVtIGZyb20gdGhlIGVsZW1lbnQsIG9yIHBhc3MgYSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlIHRvIGtlZXAgdGhlbSBpbiB0aGUgRE9NLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvYXR0cmlidXRlLWJlaGF2aW9yIFwiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2FuaXRpemVVUkwodXJsKSB7XG4gICAgICByZXR1cm4gaXNKYXZhU2NyaXB0UHJvdG9jb2wudGVzdChcIlwiICsgdXJsKVxuICAgICAgICA/IFwiamF2YXNjcmlwdDp0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0IGhhcyBibG9ja2VkIGEgamF2YXNjcmlwdDogVVJMIGFzIGEgc2VjdXJpdHkgcHJlY2F1dGlvbi4nKVwiXG4gICAgICAgIDogdXJsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCkge1xuICAgICAgbmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC50YXJnZXQgfHwgbmF0aXZlRXZlbnQuc3JjRWxlbWVudCB8fCB3aW5kb3c7XG4gICAgICBuYXRpdmVFdmVudC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCAmJlxuICAgICAgICAobmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCk7XG4gICAgICByZXR1cm4gMyA9PT0gbmF0aXZlRXZlbnQubm9kZVR5cGUgPyBuYXRpdmVFdmVudC5wYXJlbnROb2RlIDogbmF0aXZlRXZlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KHRhcmdldCkge1xuICAgICAgdmFyIGludGVybmFsSW5zdGFuY2UgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKHRhcmdldCk7XG4gICAgICBpZiAoaW50ZXJuYWxJbnN0YW5jZSAmJiAodGFyZ2V0ID0gaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHRhcmdldFtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgICBhOiBzd2l0Y2ggKFxuICAgICAgICAgICgodGFyZ2V0ID0gaW50ZXJuYWxJbnN0YW5jZS5zdGF0ZU5vZGUpLCBpbnRlcm5hbEluc3RhbmNlLnR5cGUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgICAgdXBkYXRlSW5wdXQoXG4gICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgcHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgICAgcHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgcHJvcHMubmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPSBwcm9wcy5uYW1lO1xuICAgICAgICAgICAgaWYgKFwicmFkaW9cIiA9PT0gcHJvcHMudHlwZSAmJiBudWxsICE9IGludGVybmFsSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgZm9yIChwcm9wcyA9IHRhcmdldDsgcHJvcHMucGFyZW50Tm9kZTsgKSBwcm9wcyA9IHByb3BzLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oaW50ZXJuYWxJbnN0YW5jZSwgXCJuYW1lXCIpO1xuICAgICAgICAgICAgICBwcm9wcyA9IHByb3BzLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgJ2lucHV0W25hbWU9XCInICtcbiAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoXG4gICAgICAgICAgICAgICAgICAgIFwiXCIgKyBpbnRlcm5hbEluc3RhbmNlXG4gICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICdcIl1bdHlwZT1cInJhZGlvXCJdJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPCBwcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSsrXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBvdGhlck5vZGUgPSBwcm9wc1tpbnRlcm5hbEluc3RhbmNlXTtcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJOb2RlICE9PSB0YXJnZXQgJiYgb3RoZXJOb2RlLmZvcm0gPT09IHRhcmdldC5mb3JtKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgb3RoZXJQcm9wcyA9IG90aGVyTm9kZVtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgICAgICAgICAgICAgaWYgKCFvdGhlclByb3BzKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlJlYWN0RE9NSW5wdXQ6IE1peGluZyBSZWFjdCBhbmQgbm9uLVJlYWN0IHJhZGlvIGlucHV0cyB3aXRoIHRoZSBzYW1lIGBuYW1lYCBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVJbnB1dChcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJOb2RlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLm5hbWVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA8IHByb3BzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlKytcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIChvdGhlck5vZGUgPSBwcm9wc1tpbnRlcm5hbEluc3RhbmNlXSksXG4gICAgICAgICAgICAgICAgICBvdGhlck5vZGUuZm9ybSA9PT0gdGFyZ2V0LmZvcm0gJiZcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVmFsdWVJZkNoYW5nZWQob3RoZXJOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgICB1cGRhdGVUZXh0YXJlYSh0YXJnZXQsIHByb3BzLnZhbHVlLCBwcm9wcy5kZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAoaW50ZXJuYWxJbnN0YW5jZSA9IHByb3BzLnZhbHVlKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBpbnRlcm5hbEluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgdXBkYXRlT3B0aW9ucyh0YXJnZXQsICEhcHJvcHMubXVsdGlwbGUsIGludGVybmFsSW5zdGFuY2UsICExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBiYXRjaGVkVXBkYXRlcyQxKGZuLCBhLCBiKSB7XG4gICAgICBpZiAoaXNJbnNpZGVFdmVudEhhbmRsZXIpIHJldHVybiBmbihhLCBiKTtcbiAgICAgIGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gITA7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gZm4oYSk7XG4gICAgICAgIHJldHVybiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKChpc0luc2lkZUV2ZW50SGFuZGxlciA9ICExKSxcbiAgICAgICAgICBudWxsICE9PSByZXN0b3JlVGFyZ2V0IHx8IG51bGwgIT09IHJlc3RvcmVRdWV1ZSlcbiAgICAgICAgKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChmbHVzaFN5bmNXb3JrJDEoKSxcbiAgICAgICAgICAgIHJlc3RvcmVUYXJnZXQgJiZcbiAgICAgICAgICAgICAgKChhID0gcmVzdG9yZVRhcmdldCksXG4gICAgICAgICAgICAgIChmbiA9IHJlc3RvcmVRdWV1ZSksXG4gICAgICAgICAgICAgIChyZXN0b3JlUXVldWUgPSByZXN0b3JlVGFyZ2V0ID0gbnVsbCksXG4gICAgICAgICAgICAgIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KGEpLFxuICAgICAgICAgICAgICBmbikpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChhID0gMDsgYSA8IGZuLmxlbmd0aDsgYSsrKSByZXN0b3JlU3RhdGVPZlRhcmdldChmblthXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExpc3RlbmVyKGluc3QsIHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgIHZhciBzdGF0ZU5vZGUgPSBpbnN0LnN0YXRlTm9kZTtcbiAgICAgIGlmIChudWxsID09PSBzdGF0ZU5vZGUpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHByb3BzID0gc3RhdGVOb2RlW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICBpZiAobnVsbCA9PT0gcHJvcHMpIHJldHVybiBudWxsO1xuICAgICAgc3RhdGVOb2RlID0gcHJvcHNbcmVnaXN0cmF0aW9uTmFtZV07XG4gICAgICBhOiBzd2l0Y2ggKHJlZ2lzdHJhdGlvbk5hbWUpIHtcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tcIjpcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbkRvdWJsZUNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZURvd25cIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VEb3duQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZU1vdmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VNb3ZlQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZVVwXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlVXBDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlRW50ZXJcIjpcbiAgICAgICAgICAocHJvcHMgPSAhcHJvcHMuZGlzYWJsZWQpIHx8XG4gICAgICAgICAgICAoKGluc3QgPSBpbnN0LnR5cGUpLFxuICAgICAgICAgICAgKHByb3BzID0gIShcbiAgICAgICAgICAgICAgXCJidXR0b25cIiA9PT0gaW5zdCB8fFxuICAgICAgICAgICAgICBcImlucHV0XCIgPT09IGluc3QgfHxcbiAgICAgICAgICAgICAgXCJzZWxlY3RcIiA9PT0gaW5zdCB8fFxuICAgICAgICAgICAgICBcInRleHRhcmVhXCIgPT09IGluc3RcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgICBpbnN0ID0gIXByb3BzO1xuICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaW5zdCA9ICExO1xuICAgICAgfVxuICAgICAgaWYgKGluc3QpIHJldHVybiBudWxsO1xuICAgICAgaWYgKHN0YXRlTm9kZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBzdGF0ZU5vZGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgYFwiICtcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUgK1xuICAgICAgICAgICAgXCJgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYFwiICtcbiAgICAgICAgICAgIHR5cGVvZiBzdGF0ZU5vZGUgK1xuICAgICAgICAgICAgXCJgIHR5cGUuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBzdGF0ZU5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgICBpZiAoZmFsbGJhY2tUZXh0KSByZXR1cm4gZmFsbGJhY2tUZXh0O1xuICAgICAgdmFyIHN0YXJ0LFxuICAgICAgICBzdGFydFZhbHVlID0gc3RhcnRUZXh0LFxuICAgICAgICBzdGFydExlbmd0aCA9IHN0YXJ0VmFsdWUubGVuZ3RoLFxuICAgICAgICBlbmQsXG4gICAgICAgIGVuZFZhbHVlID0gXCJ2YWx1ZVwiIGluIHJvb3QgPyByb290LnZhbHVlIDogcm9vdC50ZXh0Q29udGVudCxcbiAgICAgICAgZW5kTGVuZ3RoID0gZW5kVmFsdWUubGVuZ3RoO1xuICAgICAgZm9yIChcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICBzdGFydCA8IHN0YXJ0TGVuZ3RoICYmIHN0YXJ0VmFsdWVbc3RhcnRdID09PSBlbmRWYWx1ZVtzdGFydF07XG4gICAgICAgIHN0YXJ0KytcbiAgICAgICk7XG4gICAgICB2YXIgbWluRW5kID0gc3RhcnRMZW5ndGggLSBzdGFydDtcbiAgICAgIGZvciAoXG4gICAgICAgIGVuZCA9IDE7XG4gICAgICAgIGVuZCA8PSBtaW5FbmQgJiZcbiAgICAgICAgc3RhcnRWYWx1ZVtzdGFydExlbmd0aCAtIGVuZF0gPT09IGVuZFZhbHVlW2VuZExlbmd0aCAtIGVuZF07XG4gICAgICAgIGVuZCsrXG4gICAgICApO1xuICAgICAgcmV0dXJuIChmYWxsYmFja1RleHQgPSBlbmRWYWx1ZS5zbGljZShzdGFydCwgMSA8IGVuZCA/IDEgLSBlbmQgOiB2b2lkIDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkge1xuICAgICAgdmFyIGtleUNvZGUgPSBuYXRpdmVFdmVudC5rZXlDb2RlO1xuICAgICAgXCJjaGFyQ29kZVwiIGluIG5hdGl2ZUV2ZW50XG4gICAgICAgID8gKChuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LmNoYXJDb2RlKSxcbiAgICAgICAgICAwID09PSBuYXRpdmVFdmVudCAmJiAxMyA9PT0ga2V5Q29kZSAmJiAobmF0aXZlRXZlbnQgPSAxMykpXG4gICAgICAgIDogKG5hdGl2ZUV2ZW50ID0ga2V5Q29kZSk7XG4gICAgICAxMCA9PT0gbmF0aXZlRXZlbnQgJiYgKG5hdGl2ZUV2ZW50ID0gMTMpO1xuICAgICAgcmV0dXJuIDMyIDw9IG5hdGl2ZUV2ZW50IHx8IDEzID09PSBuYXRpdmVFdmVudCA/IG5hdGl2ZUV2ZW50IDogMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWUoKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZSgpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlU3ludGhldGljRXZlbnQoSW50ZXJmYWNlKSB7XG4gICAgICBmdW5jdGlvbiBTeW50aGV0aWNCYXNlRXZlbnQoXG4gICAgICAgIHJlYWN0TmFtZSxcbiAgICAgICAgcmVhY3RFdmVudFR5cGUsXG4gICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3JlYWN0TmFtZSA9IHJlYWN0TmFtZTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0SW5zdCA9IHRhcmdldEluc3Q7XG4gICAgICAgIHRoaXMudHlwZSA9IHJlYWN0RXZlbnRUeXBlO1xuICAgICAgICB0aGlzLm5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQ7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmF0aXZlRXZlbnRUYXJnZXQ7XG4gICAgICAgIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIEludGVyZmFjZSlcbiAgICAgICAgICBJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmXG4gICAgICAgICAgICAoKHJlYWN0TmFtZSA9IEludGVyZmFjZVtwcm9wTmFtZV0pLFxuICAgICAgICAgICAgKHRoaXNbcHJvcE5hbWVdID0gcmVhY3ROYW1lXG4gICAgICAgICAgICAgID8gcmVhY3ROYW1lKG5hdGl2ZUV2ZW50KVxuICAgICAgICAgICAgICA6IG5hdGl2ZUV2ZW50W3Byb3BOYW1lXSkpO1xuICAgICAgICB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IChcbiAgICAgICAgICBudWxsICE9IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgICAgICAgICAgID8gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgICAgICAgOiAhMSA9PT0gbmF0aXZlRXZlbnQucmV0dXJuVmFsdWVcbiAgICAgICAgKVxuICAgICAgICAgID8gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWVcbiAgICAgICAgICA6IGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZTtcbiAgICAgICAgdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNGYWxzZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBhc3NpZ24oU3ludGhldGljQmFzZUV2ZW50LnByb3RvdHlwZSwge1xuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICEwO1xuICAgICAgICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgICAgICAgZXZlbnQgJiZcbiAgICAgICAgICAgIChldmVudC5wcmV2ZW50RGVmYXVsdFxuICAgICAgICAgICAgICA/IGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgOiBcInVua25vd25cIiAhPT0gdHlwZW9mIGV2ZW50LnJldHVyblZhbHVlICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50LnJldHVyblZhbHVlID0gITEpLFxuICAgICAgICAgICAgKHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgICAgICBldmVudCAmJlxuICAgICAgICAgICAgKGV2ZW50LnN0b3BQcm9wYWdhdGlvblxuICAgICAgICAgICAgICA/IGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICAgIDogXCJ1bmtub3duXCIgIT09IHR5cGVvZiBldmVudC5jYW5jZWxCdWJibGUgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnQuY2FuY2VsQnViYmxlID0gITApLFxuICAgICAgICAgICAgKHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBwZXJzaXN0OiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgaXNQZXJzaXN0ZW50OiBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gU3ludGhldGljQmFzZUV2ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb2RpZmllclN0YXRlR2V0dGVyKGtleUFyZykge1xuICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgIHJldHVybiBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlXG4gICAgICAgID8gbmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZShrZXlBcmcpXG4gICAgICAgIDogKGtleUFyZyA9IG1vZGlmaWVyS2V5VG9Qcm9wW2tleUFyZ10pXG4gICAgICAgICAgPyAhIW5hdGl2ZUV2ZW50W2tleUFyZ11cbiAgICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudE1vZGlmaWVyU3RhdGUoKSB7XG4gICAgICByZXR1cm4gbW9kaWZpZXJTdGF0ZUdldHRlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICAgIHJldHVybiAtMSAhPT0gRU5EX0tFWUNPREVTLmluZGV4T2YobmF0aXZlRXZlbnQua2V5Q29kZSk7XG4gICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmtleUNvZGUgIT09IFNUQVJUX0tFWUNPREU7XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICAgIG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQuZGV0YWlsO1xuICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGVvZiBuYXRpdmVFdmVudCAmJiBcImRhdGFcIiBpbiBuYXRpdmVFdmVudFxuICAgICAgICA/IG5hdGl2ZUV2ZW50LmRhdGFcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxuICAgICAgICAgIHJldHVybiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoICE9PSBTUEFDRUJBUl9DT0RFKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBoYXNTcGFjZUtleXByZXNzID0gITA7XG4gICAgICAgICAgcmV0dXJuIFNQQUNFQkFSX0NIQVI7XG4gICAgICAgIGNhc2UgXCJ0ZXh0SW5wdXRcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGRvbUV2ZW50TmFtZSA9IG5hdGl2ZUV2ZW50LmRhdGEpLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lID09PSBTUEFDRUJBUl9DSEFSICYmIGhhc1NwYWNlS2V5cHJlc3NcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDogZG9tRXZlbnROYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIGlmIChpc0NvbXBvc2luZylcbiAgICAgICAgcmV0dXJuIFwiY29tcG9zaXRpb25lbmRcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgICAgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ICYmXG4gICAgICAgICAgICBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkpXG4gICAgICAgICAgPyAoKGRvbUV2ZW50TmFtZSA9IGdldERhdGEoKSksXG4gICAgICAgICAgICAoZmFsbGJhY2tUZXh0ID0gc3RhcnRUZXh0ID0gcm9vdCA9IG51bGwpLFxuICAgICAgICAgICAgKGlzQ29tcG9zaW5nID0gITEpLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwYXN0ZVwiOlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhKFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudC5jdHJsS2V5IHx8XG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LmFsdEtleSB8fFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudC5tZXRhS2V5XG4gICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAobmF0aXZlRXZlbnQuY3RybEtleSAmJiBuYXRpdmVFdmVudC5hbHRLZXkpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAobmF0aXZlRXZlbnQuY2hhciAmJiAxIDwgbmF0aXZlRXZlbnQuY2hhci5sZW5ndGgpXG4gICAgICAgICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5jaGFyO1xuICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LndoaWNoKVxuICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShuYXRpdmVFdmVudC53aGljaCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgICByZXR1cm4gdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgJiYgXCJrb1wiICE9PSBuYXRpdmVFdmVudC5sb2NhbGVcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBuYXRpdmVFdmVudC5kYXRhO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RleHRJbnB1dEVsZW1lbnQoZWxlbSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiBcImlucHV0XCIgPT09IG5vZGVOYW1lXG4gICAgICAgID8gISFzdXBwb3J0ZWRJbnB1dFR5cGVzW2VsZW0udHlwZV1cbiAgICAgICAgOiBcInRleHRhcmVhXCIgPT09IG5vZGVOYW1lXG4gICAgICAgICAgPyAhMFxuICAgICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzRXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lU3VmZml4KSB7XG4gICAgICBpZiAoIWNhblVzZURPTSkgcmV0dXJuICExO1xuICAgICAgZXZlbnROYW1lU3VmZml4ID0gXCJvblwiICsgZXZlbnROYW1lU3VmZml4O1xuICAgICAgdmFyIGlzU3VwcG9ydGVkID0gZXZlbnROYW1lU3VmZml4IGluIGRvY3VtZW50O1xuICAgICAgaXNTdXBwb3J0ZWQgfHxcbiAgICAgICAgKChpc1N1cHBvcnRlZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLFxuICAgICAgICBpc1N1cHBvcnRlZC5zZXRBdHRyaWJ1dGUoZXZlbnROYW1lU3VmZml4LCBcInJldHVybjtcIiksXG4gICAgICAgIChpc1N1cHBvcnRlZCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGlzU3VwcG9ydGVkW2V2ZW50TmFtZVN1ZmZpeF0pKTtcbiAgICAgIHJldHVybiBpc1N1cHBvcnRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KFxuICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgIGluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIHRhcmdldFxuICAgICkge1xuICAgICAgcmVzdG9yZVRhcmdldFxuICAgICAgICA/IHJlc3RvcmVRdWV1ZVxuICAgICAgICAgID8gcmVzdG9yZVF1ZXVlLnB1c2godGFyZ2V0KVxuICAgICAgICAgIDogKHJlc3RvcmVRdWV1ZSA9IFt0YXJnZXRdKVxuICAgICAgICA6IChyZXN0b3JlVGFyZ2V0ID0gdGFyZ2V0KTtcbiAgICAgIGluc3QgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoaW5zdCwgXCJvbkNoYW5nZVwiKTtcbiAgICAgIDAgPCBpbnN0Lmxlbmd0aCAmJlxuICAgICAgICAoKG5hdGl2ZUV2ZW50ID0gbmV3IFN5bnRoZXRpY0V2ZW50KFxuICAgICAgICAgIFwib25DaGFuZ2VcIixcbiAgICAgICAgICBcImNoYW5nZVwiLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgdGFyZ2V0XG4gICAgICAgICkpLFxuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyBldmVudDogbmF0aXZlRXZlbnQsIGxpc3RlbmVyczogaW5zdCB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bkV2ZW50SW5CYXRjaChkaXNwYXRjaFF1ZXVlKSB7XG4gICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZShkaXNwYXRjaFF1ZXVlLCAwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpIHtcbiAgICAgIHZhciB0YXJnZXROb2RlID0gZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KTtcbiAgICAgIGlmICh1cGRhdGVWYWx1ZUlmQ2hhbmdlZCh0YXJnZXROb2RlKSkgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudChkb21FdmVudE5hbWUsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmIChcImNoYW5nZVwiID09PSBkb21FdmVudE5hbWUpIHJldHVybiB0YXJnZXRJbnN0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnQkMSAmJlxuICAgICAgICAoYWN0aXZlRWxlbWVudCQxLmRldGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSksXG4gICAgICAgIChhY3RpdmVFbGVtZW50SW5zdCQxID0gYWN0aXZlRWxlbWVudCQxID0gbnVsbCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVQcm9wZXJ0eUNoYW5nZShuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKFxuICAgICAgICBcInZhbHVlXCIgPT09IG5hdGl2ZUV2ZW50LnByb3BlcnR5TmFtZSAmJlxuICAgICAgICBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QkMSlcbiAgICAgICkge1xuICAgICAgICB2YXIgZGlzcGF0Y2hRdWV1ZSA9IFtdO1xuICAgICAgICBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoXG4gICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50SW5zdCQxLFxuICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KVxuICAgICAgICApO1xuICAgICAgICBiYXRjaGVkVXBkYXRlcyQxKHJ1bkV2ZW50SW5CYXRjaCwgZGlzcGF0Y2hRdWV1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHRhcmdldEluc3RcbiAgICApIHtcbiAgICAgIFwiZm9jdXNpblwiID09PSBkb21FdmVudE5hbWVcbiAgICAgICAgPyAoc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSxcbiAgICAgICAgICAoYWN0aXZlRWxlbWVudCQxID0gdGFyZ2V0KSxcbiAgICAgICAgICAoYWN0aXZlRWxlbWVudEluc3QkMSA9IHRhcmdldEluc3QpLFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQkMS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIiwgaGFuZGxlUHJvcGVydHlDaGFuZ2UpKVxuICAgICAgICA6IFwiZm9jdXNvdXRcIiA9PT0gZG9tRXZlbnROYW1lICYmIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGwoZG9tRXZlbnROYW1lKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic2VsZWN0aW9uY2hhbmdlXCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICBcImtleXVwXCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICBcImtleWRvd25cIiA9PT0gZG9tRXZlbnROYW1lXG4gICAgICApXG4gICAgICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQoYWN0aXZlRWxlbWVudEluc3QkMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKFwiY2xpY2tcIiA9PT0gZG9tRXZlbnROYW1lKSByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKFwiaW5wdXRcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwiY2hhbmdlXCIgPT09IGRvbUV2ZW50TmFtZSlcbiAgICAgICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXMoeCwgeSkge1xuICAgICAgcmV0dXJuICh4ID09PSB5ICYmICgwICE9PSB4IHx8IDEgLyB4ID09PSAxIC8geSkpIHx8ICh4ICE9PSB4ICYmIHkgIT09IHkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaGFsbG93RXF1YWwob2JqQSwgb2JqQikge1xuICAgICAgaWYgKG9iamVjdElzKG9iakEsIG9iakIpKSByZXR1cm4gITA7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvYmpBIHx8XG4gICAgICAgIG51bGwgPT09IG9iakEgfHxcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9iakIgfHxcbiAgICAgICAgbnVsbCA9PT0gb2JqQlxuICAgICAgKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICB2YXIga2V5c0EgPSBPYmplY3Qua2V5cyhvYmpBKSxcbiAgICAgICAga2V5c0IgPSBPYmplY3Qua2V5cyhvYmpCKTtcbiAgICAgIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkgcmV0dXJuICExO1xuICAgICAgZm9yIChrZXlzQiA9IDA7IGtleXNCIDwga2V5c0EubGVuZ3RoOyBrZXlzQisrKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5c0Fba2V5c0JdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwgY3VycmVudEtleSkgfHxcbiAgICAgICAgICAhb2JqZWN0SXMob2JqQVtjdXJyZW50S2V5XSwgb2JqQltjdXJyZW50S2V5XSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGVhZk5vZGUobm9kZSkge1xuICAgICAgZm9yICg7IG5vZGUgJiYgbm9kZS5maXJzdENoaWxkOyApIG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChyb290LCBvZmZzZXQpIHtcbiAgICAgIHZhciBub2RlID0gZ2V0TGVhZk5vZGUocm9vdCk7XG4gICAgICByb290ID0gMDtcbiAgICAgIGZvciAodmFyIG5vZGVFbmQ7IG5vZGU7ICkge1xuICAgICAgICBpZiAoMyA9PT0gbm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgIG5vZGVFbmQgPSByb290ICsgbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgaWYgKHJvb3QgPD0gb2Zmc2V0ICYmIG5vZGVFbmQgPj0gb2Zmc2V0KVxuICAgICAgICAgICAgcmV0dXJuIHsgbm9kZTogbm9kZSwgb2Zmc2V0OiBvZmZzZXQgLSByb290IH07XG4gICAgICAgICAgcm9vdCA9IG5vZGVFbmQ7XG4gICAgICAgIH1cbiAgICAgICAgYToge1xuICAgICAgICAgIGZvciAoOyBub2RlOyApIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZSA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gZ2V0TGVhZk5vZGUobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZSkge1xuICAgICAgcmV0dXJuIG91dGVyTm9kZSAmJiBpbm5lck5vZGVcbiAgICAgICAgPyBvdXRlck5vZGUgPT09IGlubmVyTm9kZVxuICAgICAgICAgID8gITBcbiAgICAgICAgICA6IG91dGVyTm9kZSAmJiAzID09PSBvdXRlck5vZGUubm9kZVR5cGVcbiAgICAgICAgICAgID8gITFcbiAgICAgICAgICAgIDogaW5uZXJOb2RlICYmIDMgPT09IGlubmVyTm9kZS5ub2RlVHlwZVxuICAgICAgICAgICAgICA/IGNvbnRhaW5zTm9kZShvdXRlck5vZGUsIGlubmVyTm9kZS5wYXJlbnROb2RlKVxuICAgICAgICAgICAgICA6IFwiY29udGFpbnNcIiBpbiBvdXRlck5vZGVcbiAgICAgICAgICAgICAgICA/IG91dGVyTm9kZS5jb250YWlucyhpbm5lck5vZGUpXG4gICAgICAgICAgICAgICAgOiBvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb25cbiAgICAgICAgICAgICAgICAgID8gISEob3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGlubmVyTm9kZSkgJiAxNilcbiAgICAgICAgICAgICAgICAgIDogITFcbiAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudERlZXAoY29udGFpbmVySW5mbykge1xuICAgICAgY29udGFpbmVySW5mbyA9XG4gICAgICAgIG51bGwgIT0gY29udGFpbmVySW5mbyAmJlxuICAgICAgICBudWxsICE9IGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudCAmJlxuICAgICAgICBudWxsICE9IGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld1xuICAgICAgICAgID8gY29udGFpbmVySW5mby5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3XG4gICAgICAgICAgOiB3aW5kb3c7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgZWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQoY29udGFpbmVySW5mby5kb2N1bWVudCk7XG4gICAgICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBjb250YWluZXJJbmZvLkhUTUxJRnJhbWVFbGVtZW50O1xuXG4gICAgICApIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbGVtZW50LmNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkgY29udGFpbmVySW5mbyA9IGVsZW1lbnQuY29udGVudFdpbmRvdztcbiAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgZWxlbWVudCA9IGdldEFjdGl2ZUVsZW1lbnQoY29udGFpbmVySW5mby5kb2N1bWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGVsZW0pIHtcbiAgICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBub2RlTmFtZSAmJlxuICAgICAgICAoKFwiaW5wdXRcIiA9PT0gbm9kZU5hbWUgJiZcbiAgICAgICAgICAoXCJ0ZXh0XCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJzZWFyY2hcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInRlbFwiID09PSBlbGVtLnR5cGUgfHxcbiAgICAgICAgICAgIFwidXJsXCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJwYXNzd29yZFwiID09PSBlbGVtLnR5cGUpKSB8fFxuICAgICAgICAgIFwidGV4dGFyZWFcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICBcInRydWVcIiA9PT0gZWxlbS5jb250ZW50RWRpdGFibGUpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXN0b3JlU2VsZWN0aW9uKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24sIGNvbnRhaW5lckluZm8pIHtcbiAgICAgIHZhciBjdXJGb2N1c2VkRWxlbSA9IGdldEFjdGl2ZUVsZW1lbnREZWVwKGNvbnRhaW5lckluZm8pO1xuICAgICAgY29udGFpbmVySW5mbyA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZm9jdXNlZEVsZW07XG4gICAgICB2YXIgcHJpb3JTZWxlY3Rpb25SYW5nZSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2VsZWN0aW9uUmFuZ2U7XG4gICAgICBpZiAoXG4gICAgICAgIGN1ckZvY3VzZWRFbGVtICE9PSBjb250YWluZXJJbmZvICYmXG4gICAgICAgIGNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgY29udGFpbmVySW5mby5vd25lckRvY3VtZW50ICYmXG4gICAgICAgIGNvbnRhaW5zTm9kZShjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBjb250YWluZXJJbmZvKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSBwcmlvclNlbGVjdGlvblJhbmdlICYmXG4gICAgICAgICAgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGNvbnRhaW5lckluZm8pXG4gICAgICAgIClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPSBwcmlvclNlbGVjdGlvblJhbmdlLnN0YXJ0KSxcbiAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uUmFuZ2UuZW5kKSxcbiAgICAgICAgICAgIHZvaWQgMCA9PT0gY3VyRm9jdXNlZEVsZW0gJiZcbiAgICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiksXG4gICAgICAgICAgICBcInNlbGVjdGlvblN0YXJ0XCIgaW4gY29udGFpbmVySW5mbylcbiAgICAgICAgICApXG4gICAgICAgICAgICAoY29udGFpbmVySW5mby5zZWxlY3Rpb25TdGFydCA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pLFxuICAgICAgICAgICAgICAoY29udGFpbmVySW5mby5zZWxlY3Rpb25FbmQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbSxcbiAgICAgICAgICAgICAgICBjb250YWluZXJJbmZvLnZhbHVlLmxlbmd0aFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICgoY3VyRm9jdXNlZEVsZW0gPVxuICAgICAgICAgICAgICAoKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkgJiZcbiAgICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmRlZmF1bHRWaWV3KSB8fFxuICAgICAgICAgICAgICB3aW5kb3cpLFxuICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZ2V0U2VsZWN0aW9uKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0gPSBjdXJGb2N1c2VkRWxlbS5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBjb250YWluZXJJbmZvLnRleHRDb250ZW50Lmxlbmd0aCxcbiAgICAgICAgICAgICAgc3RhcnQgPSBNYXRoLm1pbihwcmlvclNlbGVjdGlvblJhbmdlLnN0YXJ0LCBsZW5ndGgpO1xuICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25SYW5nZSA9XG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gcHJpb3JTZWxlY3Rpb25SYW5nZS5lbmRcbiAgICAgICAgICAgICAgICA/IHN0YXJ0XG4gICAgICAgICAgICAgICAgOiBNYXRoLm1pbihwcmlvclNlbGVjdGlvblJhbmdlLmVuZCwgbGVuZ3RoKTtcbiAgICAgICAgICAgICFjdXJGb2N1c2VkRWxlbS5leHRlbmQgJiZcbiAgICAgICAgICAgICAgc3RhcnQgPiBwcmlvclNlbGVjdGlvblJhbmdlICYmXG4gICAgICAgICAgICAgICgobGVuZ3RoID0gcHJpb3JTZWxlY3Rpb25SYW5nZSksXG4gICAgICAgICAgICAgIChwcmlvclNlbGVjdGlvblJhbmdlID0gc3RhcnQpLFxuICAgICAgICAgICAgICAoc3RhcnQgPSBsZW5ndGgpKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQoY29udGFpbmVySW5mbywgc3RhcnQpO1xuICAgICAgICAgICAgdmFyIGVuZE1hcmtlciA9IGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQoXG4gICAgICAgICAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uUmFuZ2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZW5ndGggJiZcbiAgICAgICAgICAgICAgZW5kTWFya2VyICYmXG4gICAgICAgICAgICAgICgxICE9PSBjdXJGb2N1c2VkRWxlbS5yYW5nZUNvdW50IHx8XG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uYW5jaG9yTm9kZSAhPT0gbGVuZ3RoLm5vZGUgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5hbmNob3JPZmZzZXQgIT09IGxlbmd0aC5vZmZzZXQgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5mb2N1c05vZGUgIT09IGVuZE1hcmtlci5ub2RlIHx8XG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZm9jdXNPZmZzZXQgIT09IGVuZE1hcmtlci5vZmZzZXQpICYmXG4gICAgICAgICAgICAgICgocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9XG4gICAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5jcmVhdGVSYW5nZSgpKSxcbiAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZXRTdGFydChsZW5ndGgubm9kZSwgbGVuZ3RoLm9mZnNldCksXG4gICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLnJlbW92ZUFsbFJhbmdlcygpLFxuICAgICAgICAgICAgICBzdGFydCA+IHByaW9yU2VsZWN0aW9uUmFuZ2VcbiAgICAgICAgICAgICAgICA/IChjdXJGb2N1c2VkRWxlbS5hZGRSYW5nZShwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSxcbiAgICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmV4dGVuZChlbmRNYXJrZXIubm9kZSwgZW5kTWFya2VyLm9mZnNldCkpXG4gICAgICAgICAgICAgICAgOiAocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZXRFbmQoXG4gICAgICAgICAgICAgICAgICAgIGVuZE1hcmtlci5ub2RlLFxuICAgICAgICAgICAgICAgICAgICBlbmRNYXJrZXIub2Zmc2V0XG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uYWRkUmFuZ2UocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbikpKTtcbiAgICAgICAgICB9XG4gICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPSBbXTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBjdXJGb2N1c2VkRWxlbSA9IGNvbnRhaW5lckluZm87XG4gICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gY3VyRm9jdXNlZEVsZW0ucGFyZW50Tm9kZSk7XG5cbiAgICAgICAgKVxuICAgICAgICAgIDEgPT09IGN1ckZvY3VzZWRFbGVtLm5vZGVUeXBlICYmXG4gICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnB1c2goe1xuICAgICAgICAgICAgICBlbGVtZW50OiBjdXJGb2N1c2VkRWxlbSxcbiAgICAgICAgICAgICAgbGVmdDogY3VyRm9jdXNlZEVsZW0uc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgdG9wOiBjdXJGb2N1c2VkRWxlbS5zY3JvbGxUb3BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb250YWluZXJJbmZvLmZvY3VzICYmIGNvbnRhaW5lckluZm8uZm9jdXMoKTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBjb250YWluZXJJbmZvID0gMDtcbiAgICAgICAgICBjb250YWluZXJJbmZvIDwgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5sZW5ndGg7XG4gICAgICAgICAgY29udGFpbmVySW5mbysrXG4gICAgICAgIClcbiAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uW2NvbnRhaW5lckluZm9dKSxcbiAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbS5lbGVtZW50LnNjcm9sbExlZnQgPSBjdXJGb2N1c2VkRWxlbS5sZWZ0KSxcbiAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbS5lbGVtZW50LnNjcm9sbFRvcCA9IGN1ckZvY3VzZWRFbGVtLnRvcCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbnN0cnVjdFNlbGVjdEV2ZW50KFxuICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICApIHtcbiAgICAgIHZhciBkb2MgPVxuICAgICAgICBuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgPyBuYXRpdmVFdmVudFRhcmdldC5kb2N1bWVudFxuICAgICAgICAgIDogOSA9PT0gbmF0aXZlRXZlbnRUYXJnZXQubm9kZVR5cGVcbiAgICAgICAgICAgID8gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgIDogbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudDtcbiAgICAgIG1vdXNlRG93biB8fFxuICAgICAgICBudWxsID09IGFjdGl2ZUVsZW1lbnQgfHxcbiAgICAgICAgYWN0aXZlRWxlbWVudCAhPT0gZ2V0QWN0aXZlRWxlbWVudChkb2MpIHx8XG4gICAgICAgICgoZG9jID0gYWN0aXZlRWxlbWVudCksXG4gICAgICAgIFwic2VsZWN0aW9uU3RhcnRcIiBpbiBkb2MgJiYgaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKGRvYylcbiAgICAgICAgICA/IChkb2MgPSB7IHN0YXJ0OiBkb2Muc2VsZWN0aW9uU3RhcnQsIGVuZDogZG9jLnNlbGVjdGlvbkVuZCB9KVxuICAgICAgICAgIDogKChkb2MgPSAoXG4gICAgICAgICAgICAgIChkb2Mub3duZXJEb2N1bWVudCAmJiBkb2Mub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykgfHxcbiAgICAgICAgICAgICAgd2luZG93XG4gICAgICAgICAgICApLmdldFNlbGVjdGlvbigpKSxcbiAgICAgICAgICAgIChkb2MgPSB7XG4gICAgICAgICAgICAgIGFuY2hvck5vZGU6IGRvYy5hbmNob3JOb2RlLFxuICAgICAgICAgICAgICBhbmNob3JPZmZzZXQ6IGRvYy5hbmNob3JPZmZzZXQsXG4gICAgICAgICAgICAgIGZvY3VzTm9kZTogZG9jLmZvY3VzTm9kZSxcbiAgICAgICAgICAgICAgZm9jdXNPZmZzZXQ6IGRvYy5mb2N1c09mZnNldFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAobGFzdFNlbGVjdGlvbiAmJiBzaGFsbG93RXF1YWwobGFzdFNlbGVjdGlvbiwgZG9jKSkgfHxcbiAgICAgICAgICAoKGxhc3RTZWxlY3Rpb24gPSBkb2MpLFxuICAgICAgICAgIChkb2MgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoYWN0aXZlRWxlbWVudEluc3QsIFwib25TZWxlY3RcIikpLFxuICAgICAgICAgIDAgPCBkb2MubGVuZ3RoICYmXG4gICAgICAgICAgICAoKG5hdGl2ZUV2ZW50ID0gbmV3IFN5bnRoZXRpY0V2ZW50KFxuICAgICAgICAgICAgICBcIm9uU2VsZWN0XCIsXG4gICAgICAgICAgICAgIFwic2VsZWN0XCIsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyBldmVudDogbmF0aXZlRXZlbnQsIGxpc3RlbmVyczogZG9jIH0pLFxuICAgICAgICAgICAgKG5hdGl2ZUV2ZW50LnRhcmdldCA9IGFjdGl2ZUVsZW1lbnQpKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlUHJlZml4TWFwKHN0eWxlUHJvcCwgZXZlbnROYW1lKSB7XG4gICAgICB2YXIgcHJlZml4ZXMgPSB7fTtcbiAgICAgIHByZWZpeGVzW3N0eWxlUHJvcC50b0xvd2VyQ2FzZSgpXSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcHJlZml4ZXNbXCJXZWJraXRcIiArIHN0eWxlUHJvcF0gPSBcIndlYmtpdFwiICsgZXZlbnROYW1lO1xuICAgICAgcHJlZml4ZXNbXCJNb3pcIiArIHN0eWxlUHJvcF0gPSBcIm1velwiICsgZXZlbnROYW1lO1xuICAgICAgcmV0dXJuIHByZWZpeGVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShldmVudE5hbWUpIHtcbiAgICAgIGlmIChwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSkgcmV0dXJuIHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdO1xuICAgICAgaWYgKCF2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdKSByZXR1cm4gZXZlbnROYW1lO1xuICAgICAgdmFyIHByZWZpeE1hcCA9IHZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0sXG4gICAgICAgIHN0eWxlUHJvcDtcbiAgICAgIGZvciAoc3R5bGVQcm9wIGluIHByZWZpeE1hcClcbiAgICAgICAgaWYgKHByZWZpeE1hcC5oYXNPd25Qcm9wZXJ0eShzdHlsZVByb3ApICYmIHN0eWxlUHJvcCBpbiBzdHlsZSlcbiAgICAgICAgICByZXR1cm4gKHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdID0gcHJlZml4TWFwW3N0eWxlUHJvcF0pO1xuICAgICAgcmV0dXJuIGV2ZW50TmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJTaW1wbGVFdmVudChkb21FdmVudE5hbWUsIHJlYWN0TmFtZSkge1xuICAgICAgdG9wTGV2ZWxFdmVudHNUb1JlYWN0TmFtZXMuc2V0KGRvbUV2ZW50TmFtZSwgcmVhY3ROYW1lKTtcbiAgICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChyZWFjdE5hbWUsIFtkb21FdmVudE5hbWVdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBlbmRJbmRleCA9IGNvbmN1cnJlbnRRdWV1ZXNJbmRleCxcbiAgICAgICAgICBpID0gKGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcyA9IGNvbmN1cnJlbnRRdWV1ZXNJbmRleCA9IDApO1xuICAgICAgICBpIDwgZW5kSW5kZXg7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgZmliZXIgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICB2YXIgcXVldWUgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICB2YXIgdXBkYXRlID0gY29uY3VycmVudFF1ZXVlc1tpXTtcbiAgICAgICAgY29uY3VycmVudFF1ZXVlc1tpKytdID0gbnVsbDtcbiAgICAgICAgdmFyIGxhbmUgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPT0gcXVldWUgJiYgbnVsbCAhPT0gdXBkYXRlKSB7XG4gICAgICAgICAgdmFyIHBlbmRpbmcgPSBxdWV1ZS5wZW5kaW5nO1xuICAgICAgICAgIG51bGwgPT09IHBlbmRpbmdcbiAgICAgICAgICAgID8gKHVwZGF0ZS5uZXh0ID0gdXBkYXRlKVxuICAgICAgICAgICAgOiAoKHVwZGF0ZS5uZXh0ID0gcGVuZGluZy5uZXh0KSwgKHBlbmRpbmcubmV4dCA9IHVwZGF0ZSkpO1xuICAgICAgICAgIHF1ZXVlLnBlbmRpbmcgPSB1cGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgMCAhPT0gbGFuZSAmJiBtYXJrVXBkYXRlTGFuZUZyb21GaWJlclRvUm9vdChmaWJlciwgdXBkYXRlLCBsYW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IGZpYmVyO1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSBxdWV1ZTtcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbY29uY3VycmVudFF1ZXVlc0luZGV4KytdID0gdXBkYXRlO1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSBsYW5lO1xuICAgICAgY29uY3VycmVudGx5VXBkYXRlZExhbmVzIHw9IGxhbmU7XG4gICAgICBmaWJlci5sYW5lcyB8PSBsYW5lO1xuICAgICAgZmliZXIgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBmaWJlciAmJiAoZmliZXIubGFuZXMgfD0gbGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShmaWJlciwgcXVldWUsIHVwZGF0ZSwgbGFuZSkge1xuICAgICAgZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKTtcbiAgICAgIHJldHVybiBnZXRSb290Rm9yVXBkYXRlZEZpYmVyKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCBsYW5lKSB7XG4gICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIG51bGwsIG51bGwsIGxhbmUpO1xuICAgICAgcmV0dXJuIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrVXBkYXRlTGFuZUZyb21GaWJlclRvUm9vdChzb3VyY2VGaWJlciwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICBzb3VyY2VGaWJlci5sYW5lcyB8PSBsYW5lO1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IHNvdXJjZUZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmxhbmVzIHw9IGxhbmUpO1xuICAgICAgZm9yICh2YXIgaXNIaWRkZW4gPSAhMSwgcGFyZW50ID0gc291cmNlRmliZXIucmV0dXJuOyBudWxsICE9PSBwYXJlbnQ7IClcbiAgICAgICAgKHBhcmVudC5jaGlsZExhbmVzIHw9IGxhbmUpLFxuICAgICAgICAgIChhbHRlcm5hdGUgPSBwYXJlbnQuYWx0ZXJuYXRlKSxcbiAgICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5jaGlsZExhbmVzIHw9IGxhbmUpLFxuICAgICAgICAgIDIyID09PSBwYXJlbnQudGFnICYmXG4gICAgICAgICAgICAoKHNvdXJjZUZpYmVyID0gcGFyZW50LnN0YXRlTm9kZSksXG4gICAgICAgICAgICBudWxsID09PSBzb3VyY2VGaWJlciB8fFxuICAgICAgICAgICAgICBzb3VyY2VGaWJlci5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblZpc2libGUgfHxcbiAgICAgICAgICAgICAgKGlzSGlkZGVuID0gITApKSxcbiAgICAgICAgICAoc291cmNlRmliZXIgPSBwYXJlbnQpLFxuICAgICAgICAgIChwYXJlbnQgPSBwYXJlbnQucmV0dXJuKTtcbiAgICAgIGlzSGlkZGVuICYmXG4gICAgICAgIG51bGwgIT09IHVwZGF0ZSAmJlxuICAgICAgICAzID09PSBzb3VyY2VGaWJlci50YWcgJiZcbiAgICAgICAgKChwYXJlbnQgPSBzb3VyY2VGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAoaXNIaWRkZW4gPSAzMSAtIGNsejMyKGxhbmUpKSxcbiAgICAgICAgKHBhcmVudCA9IHBhcmVudC5oaWRkZW5VcGRhdGVzKSxcbiAgICAgICAgKHNvdXJjZUZpYmVyID0gcGFyZW50W2lzSGlkZGVuXSksXG4gICAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyXG4gICAgICAgICAgPyAocGFyZW50W2lzSGlkZGVuXSA9IFt1cGRhdGVdKVxuICAgICAgICAgIDogc291cmNlRmliZXIucHVzaCh1cGRhdGUpLFxuICAgICAgICAodXBkYXRlLmxhbmUgPSBsYW5lIHwgNTM2ODcwOTEyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoc291cmNlRmliZXIpIHtcbiAgICAgIGlmIChuZXN0ZWRVcGRhdGVDb3VudCA+IE5FU1RFRF9VUERBVEVfTElNSVQpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAoKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IG5lc3RlZFVwZGF0ZUNvdW50ID0gMCksXG4gICAgICAgICAgKHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSByb290V2l0aE5lc3RlZFVwZGF0ZXMgPSBudWxsKSxcbiAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgIFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IHJlcGVhdGVkbHkgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIGNvbXBvbmVudFdpbGxVcGRhdGUgb3IgY29tcG9uZW50RGlkVXBkYXRlLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiBuZXN0ZWQgdXBkYXRlcyB0byBwcmV2ZW50IGluZmluaXRlIGxvb3BzLlwiXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA+IE5FU1RFRF9QQVNTSVZFX1VQREFURV9MSU1JVCAmJlxuICAgICAgICAoKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IG51bGwpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiTWF4aW11bSB1cGRhdGUgZGVwdGggZXhjZWVkZWQuIFRoaXMgY2FuIGhhcHBlbiB3aGVuIGEgY29tcG9uZW50IGNhbGxzIHNldFN0YXRlIGluc2lkZSB1c2VFZmZlY3QsIGJ1dCB1c2VFZmZlY3QgZWl0aGVyIGRvZXNuJ3QgaGF2ZSBhIGRlcGVuZGVuY3kgYXJyYXksIG9yIG9uZSBvZiB0aGUgZGVwZW5kZW5jaWVzIGNoYW5nZXMgb24gZXZlcnkgcmVuZGVyLlwiXG4gICAgICAgICkpO1xuICAgICAgbnVsbCA9PT0gc291cmNlRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgIDAgIT09IChzb3VyY2VGaWJlci5mbGFncyAmIDQwOTgpICYmXG4gICAgICAgIHdhcm5BYm91dFVwZGF0ZU9uTm90WWV0TW91bnRlZEZpYmVySW5ERVYoc291cmNlRmliZXIpO1xuICAgICAgZm9yICh2YXIgbm9kZSA9IHNvdXJjZUZpYmVyLCBwYXJlbnQgPSBub2RlLnJldHVybjsgbnVsbCAhPT0gcGFyZW50OyApXG4gICAgICAgIG51bGwgPT09IG5vZGUuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgMCAhPT0gKG5vZGUuZmxhZ3MgJiA0MDk4KSAmJlxuICAgICAgICAgIHdhcm5BYm91dFVwZGF0ZU9uTm90WWV0TW91bnRlZEZpYmVySW5ERVYoc291cmNlRmliZXIpLFxuICAgICAgICAgIChub2RlID0gcGFyZW50KSxcbiAgICAgICAgICAocGFyZW50ID0gbm9kZS5yZXR1cm4pO1xuICAgICAgcmV0dXJuIDMgPT09IG5vZGUudGFnID8gbm9kZS5zdGF0ZU5vZGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpIHJldHVybiB0eXBlO1xuICAgICAgdmFyIGZhbWlseSA9IHJlc29sdmVGYW1pbHkodHlwZSk7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBmYW1pbHkgPyB0eXBlIDogZmFtaWx5LmN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09PSByZXNvbHZlRmFtaWx5KSByZXR1cm4gdHlwZTtcbiAgICAgIHZhciBmYW1pbHkgPSByZXNvbHZlRmFtaWx5KHR5cGUpO1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZmFtaWx5XG4gICAgICAgID8gbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUucmVuZGVyICYmXG4gICAgICAgICAgKChmYW1pbHkgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcodHlwZS5yZW5kZXIpKSxcbiAgICAgICAgICB0eXBlLnJlbmRlciAhPT0gZmFtaWx5KVxuICAgICAgICAgID8gKChmYW1pbHkgPSB7ICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLCByZW5kZXI6IGZhbWlseSB9KSxcbiAgICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZS5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAoZmFtaWx5LmRpc3BsYXlOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSksXG4gICAgICAgICAgICBmYW1pbHkpXG4gICAgICAgICAgOiB0eXBlXG4gICAgICAgIDogZmFtaWx5LmN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhmaWJlciwgZWxlbWVudCkge1xuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpIHJldHVybiAhMTtcbiAgICAgIHZhciBwcmV2VHlwZSA9IGZpYmVyLmVsZW1lbnRUeXBlO1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQudHlwZTtcbiAgICAgIHZhciBuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICExLFxuICAgICAgICAkJHR5cGVvZk5leHRUeXBlID1cbiAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZWxlbWVudCAmJiBudWxsICE9PSBlbGVtZW50XG4gICAgICAgICAgICA/IGVsZW1lbnQuJCR0eXBlb2ZcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlbGVtZW50ICYmIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGVsZW1lbnRcbiAgICAgICAgICAgID8gKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApXG4gICAgICAgICAgICA6ICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRVxuICAgICAgICAgICAgPyAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMClcbiAgICAgICAgICAgIDogJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgICAgID8gKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApXG4gICAgICAgICAgICA6ICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5lZWRzQ29tcGFyZUZhbWlsaWVzICYmXG4gICAgICAgICgoZmliZXIgPSByZXNvbHZlRmFtaWx5KHByZXZUeXBlKSksXG4gICAgICAgIHZvaWQgMCAhPT0gZmliZXIgJiYgZmliZXIgPT09IHJlc29sdmVGYW1pbHkoZWxlbWVudCkpXG4gICAgICAgID8gITBcbiAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpIHtcbiAgICAgIG51bGwgIT09IHJlc29sdmVGYW1pbHkgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha1NldCAmJlxuICAgICAgICAobnVsbCA9PT0gZmFpbGVkQm91bmRhcmllcyAmJiAoZmFpbGVkQm91bmRhcmllcyA9IG5ldyBXZWFrU2V0KCkpLFxuICAgICAgICBmYWlsZWRCb3VuZGFyaWVzLmFkZChmaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgZmliZXIsXG4gICAgICB1cGRhdGVkRmFtaWxpZXMsXG4gICAgICBzdGFsZUZhbWlsaWVzXG4gICAgKSB7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlLFxuICAgICAgICBjaGlsZCA9IGZpYmVyLmNoaWxkLFxuICAgICAgICBzaWJsaW5nID0gZmliZXIuc2libGluZyxcbiAgICAgICAgdGFnID0gZmliZXIudGFnLFxuICAgICAgICB0eXBlID0gZmliZXIudHlwZSxcbiAgICAgICAgY2FuZGlkYXRlVHlwZSA9IG51bGw7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBjYW5kaWRhdGVUeXBlID0gdHlwZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYW5kaWRhdGVUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICB9XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCByZXNvbHZlRmFtaWx5IHRvIGJlIHNldCBkdXJpbmcgaG90IHJlbG9hZC5cIik7XG4gICAgICB2YXIgbmVlZHNSZW5kZXIgPSAhMTtcbiAgICAgIHR5cGUgPSAhMTtcbiAgICAgIG51bGwgIT09IGNhbmRpZGF0ZVR5cGUgJiZcbiAgICAgICAgKChjYW5kaWRhdGVUeXBlID0gcmVzb2x2ZUZhbWlseShjYW5kaWRhdGVUeXBlKSksXG4gICAgICAgIHZvaWQgMCAhPT0gY2FuZGlkYXRlVHlwZSAmJlxuICAgICAgICAgIChzdGFsZUZhbWlsaWVzLmhhcyhjYW5kaWRhdGVUeXBlKVxuICAgICAgICAgICAgPyAodHlwZSA9ICEwKVxuICAgICAgICAgICAgOiB1cGRhdGVkRmFtaWxpZXMuaGFzKGNhbmRpZGF0ZVR5cGUpICYmXG4gICAgICAgICAgICAgICgxID09PSB0YWcgPyAodHlwZSA9ICEwKSA6IChuZWVkc1JlbmRlciA9ICEwKSkpKTtcbiAgICAgIG51bGwgIT09IGZhaWxlZEJvdW5kYXJpZXMgJiZcbiAgICAgICAgKGZhaWxlZEJvdW5kYXJpZXMuaGFzKGZpYmVyKSB8fFxuICAgICAgICAgIChudWxsICE9PSBhbHRlcm5hdGUgJiYgZmFpbGVkQm91bmRhcmllcy5oYXMoYWx0ZXJuYXRlKSkpICYmXG4gICAgICAgICh0eXBlID0gITApO1xuICAgICAgdHlwZSAmJiAoZmliZXIuX2RlYnVnTmVlZHNSZW1vdW50ID0gITApO1xuICAgICAgaWYgKHR5cGUgfHwgbmVlZHNSZW5kZXIpXG4gICAgICAgIChhbHRlcm5hdGUgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGFsdGVybmF0ZSwgZmliZXIsIDIpO1xuICAgICAgbnVsbCA9PT0gY2hpbGQgfHxcbiAgICAgICAgdHlwZSB8fFxuICAgICAgICBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgICAgIGNoaWxkLFxuICAgICAgICAgIHVwZGF0ZWRGYW1pbGllcyxcbiAgICAgICAgICBzdGFsZUZhbWlsaWVzXG4gICAgICAgICk7XG4gICAgICBudWxsICE9PSBzaWJsaW5nICYmXG4gICAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgc2libGluZyxcbiAgICAgICAgICB1cGRhdGVkRmFtaWxpZXMsXG4gICAgICAgICAgc3RhbGVGYW1pbGllc1xuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCkge1xuICAgICAgdmFyIHByZXZFZmZlY3REdXJhdGlvbiA9IHByb2ZpbGVyRWZmZWN0RHVyYXRpb247XG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uID0gMDtcbiAgICAgIHJldHVybiBwcmV2RWZmZWN0RHVyYXRpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pIHtcbiAgICAgIHZhciBlbGFwc2VkVGltZSA9IHByb2ZpbGVyRWZmZWN0RHVyYXRpb247XG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uID0gcHJldkVmZmVjdER1cmF0aW9uO1xuICAgICAgcmV0dXJuIGVsYXBzZWRUaW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKSB7XG4gICAgICB2YXIgZWxhcHNlZFRpbWUgPSBwcm9maWxlckVmZmVjdER1cmF0aW9uO1xuICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiArPSBwcmV2RWZmZWN0RHVyYXRpb247XG4gICAgICByZXR1cm4gZWxhcHNlZFRpbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0UHJvZmlsZXJUaW1lcihmaWJlcikge1xuICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSBub3coKTtcbiAgICAgIDAgPiBmaWJlci5hY3R1YWxTdGFydFRpbWUgJiYgKGZpYmVyLmFjdHVhbFN0YXJ0VGltZSA9IHByb2ZpbGVyU3RhcnRUaW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbihmaWJlcikge1xuICAgICAgaWYgKDAgPD0gcHJvZmlsZXJTdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93KCkgLSBwcm9maWxlclN0YXJ0VGltZTtcbiAgICAgICAgZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG4gICAgICAgIGZpYmVyLnNlbGZCYXNlRHVyYXRpb24gPSBlbGFwc2VkVGltZTtcbiAgICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmRJbmNvbXBsZXRlRHVyYXRpb24oZmliZXIpIHtcbiAgICAgIGlmICgwIDw9IHByb2ZpbGVyU3RhcnRUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG5vdygpIC0gcHJvZmlsZXJTdGFydFRpbWU7XG4gICAgICAgIGZpYmVyLmFjdHVhbER1cmF0aW9uICs9IGVsYXBzZWRUaW1lO1xuICAgICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvcmRFZmZlY3REdXJhdGlvbigpIHtcbiAgICAgIGlmICgwIDw9IHByb2ZpbGVyU3RhcnRUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG5vdygpIC0gcHJvZmlsZXJTdGFydFRpbWU7XG4gICAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0RWZmZWN0VGltZXIoKSB7XG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IG5vdygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKGZpYmVyKSB7XG4gICAgICBmb3IgKHZhciBjaGlsZCA9IGZpYmVyLmNoaWxkOyBjaGlsZDsgKVxuICAgICAgICAoZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gY2hpbGQuYWN0dWFsRHVyYXRpb24pLCAoY2hpbGQgPSBjaGlsZC5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodmFsdWUsIHNvdXJjZSkge1xuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZSAmJiBudWxsICE9PSB2YWx1ZSkge1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSBDYXB0dXJlZFN0YWNrcy5nZXQodmFsdWUpO1xuICAgICAgICBpZiAodm9pZCAwICE9PSBleGlzdGluZykgcmV0dXJuIGV4aXN0aW5nO1xuICAgICAgICBzb3VyY2UgPSB7XG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICAgIHN0YWNrOiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qoc291cmNlKVxuICAgICAgICB9O1xuICAgICAgICBDYXB0dXJlZFN0YWNrcy5zZXQodmFsdWUsIHNvdXJjZSk7XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHNvdXJjZTogc291cmNlLFxuICAgICAgICBzdGFjazogZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKHNvdXJjZSlcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hUcmVlRm9yayh3b3JrSW5Qcm9ncmVzcywgdG90YWxDaGlsZHJlbikge1xuICAgICAgd2FybklmTm90SHlkcmF0aW5nKCk7XG4gICAgICBmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXgrK10gPSB0cmVlRm9ya0NvdW50O1xuICAgICAgZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4KytdID0gdHJlZUZvcmtQcm92aWRlcjtcbiAgICAgIHRyZWVGb3JrUHJvdmlkZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHRyZWVGb3JrQ291bnQgPSB0b3RhbENoaWxkcmVuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoVHJlZUlkKHdvcmtJblByb2dyZXNzLCB0b3RhbENoaWxkcmVuLCBpbmRleCkge1xuICAgICAgd2FybklmTm90SHlkcmF0aW5nKCk7XG4gICAgICBpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0SWQ7XG4gICAgICBpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0T3ZlcmZsb3c7XG4gICAgICBpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0UHJvdmlkZXI7XG4gICAgICB0cmVlQ29udGV4dFByb3ZpZGVyID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICB2YXIgYmFzZUlkV2l0aExlYWRpbmdCaXQgPSB0cmVlQ29udGV4dElkO1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSB0cmVlQ29udGV4dE92ZXJmbG93O1xuICAgICAgdmFyIGJhc2VMZW5ndGggPSAzMiAtIGNsejMyKGJhc2VJZFdpdGhMZWFkaW5nQml0KSAtIDE7XG4gICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdCAmPSB+KDEgPDwgYmFzZUxlbmd0aCk7XG4gICAgICBpbmRleCArPSAxO1xuICAgICAgdmFyIGxlbmd0aCA9IDMyIC0gY2x6MzIodG90YWxDaGlsZHJlbikgKyBiYXNlTGVuZ3RoO1xuICAgICAgaWYgKDMwIDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBudW1iZXJPZk92ZXJmbG93Qml0cyA9IGJhc2VMZW5ndGggLSAoYmFzZUxlbmd0aCAlIDUpO1xuICAgICAgICBsZW5ndGggPSAoXG4gICAgICAgICAgYmFzZUlkV2l0aExlYWRpbmdCaXQgJlxuICAgICAgICAgICgoMSA8PCBudW1iZXJPZk92ZXJmbG93Qml0cykgLSAxKVxuICAgICAgICApLnRvU3RyaW5nKDMyKTtcbiAgICAgICAgYmFzZUlkV2l0aExlYWRpbmdCaXQgPj49IG51bWJlck9mT3ZlcmZsb3dCaXRzO1xuICAgICAgICBiYXNlTGVuZ3RoIC09IG51bWJlck9mT3ZlcmZsb3dCaXRzO1xuICAgICAgICB0cmVlQ29udGV4dElkID1cbiAgICAgICAgICAoMSA8PCAoMzIgLSBjbHozMih0b3RhbENoaWxkcmVuKSArIGJhc2VMZW5ndGgpKSB8XG4gICAgICAgICAgKGluZGV4IDw8IGJhc2VMZW5ndGgpIHxcbiAgICAgICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdDtcbiAgICAgICAgdHJlZUNvbnRleHRPdmVyZmxvdyA9IGxlbmd0aCArIHdvcmtJblByb2dyZXNzO1xuICAgICAgfSBlbHNlXG4gICAgICAgICh0cmVlQ29udGV4dElkID1cbiAgICAgICAgICAoMSA8PCBsZW5ndGgpIHwgKGluZGV4IDw8IGJhc2VMZW5ndGgpIHwgYmFzZUlkV2l0aExlYWRpbmdCaXQpLFxuICAgICAgICAgICh0cmVlQ29udGV4dE92ZXJmbG93ID0gd29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKTtcbiAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLnJldHVybiAmJlxuICAgICAgICAocHVzaFRyZWVGb3JrKHdvcmtJblByb2dyZXNzLCAxKSwgcHVzaFRyZWVJZCh3b3JrSW5Qcm9ncmVzcywgMSwgMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BUcmVlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgZm9yICg7IHdvcmtJblByb2dyZXNzID09PSB0cmVlRm9ya1Byb3ZpZGVyOyApXG4gICAgICAgICh0cmVlRm9ya1Byb3ZpZGVyID0gZm9ya1N0YWNrWy0tZm9ya1N0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4XSA9IG51bGwpLFxuICAgICAgICAgICh0cmVlRm9ya0NvdW50ID0gZm9ya1N0YWNrWy0tZm9ya1N0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4XSA9IG51bGwpO1xuICAgICAgZm9yICg7IHdvcmtJblByb2dyZXNzID09PSB0cmVlQ29udGV4dFByb3ZpZGVyOyApXG4gICAgICAgICh0cmVlQ29udGV4dFByb3ZpZGVyID0gaWRTdGFja1stLWlkU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleF0gPSBudWxsKSxcbiAgICAgICAgICAodHJlZUNvbnRleHRPdmVyZmxvdyA9IGlkU3RhY2tbLS1pZFN0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXhdID0gbnVsbCksXG4gICAgICAgICAgKHRyZWVDb250ZXh0SWQgPSBpZFN0YWNrWy0taWRTdGFja0luZGV4XSksXG4gICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4XSA9IG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZOb3RIeWRyYXRpbmcoKSB7XG4gICAgICBpc0h5ZHJhdGluZyB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gYmUgaHlkcmF0aW5nLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKGZpYmVyLCBkaXN0YW5jZUZyb21MZWFmKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZmliZXIucmV0dXJuKSB7XG4gICAgICAgIGlmIChudWxsID09PSBoeWRyYXRpb25EaWZmUm9vdERFVilcbiAgICAgICAgICBoeWRyYXRpb25EaWZmUm9vdERFViA9IHtcbiAgICAgICAgICAgIGZpYmVyOiBmaWJlcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgIHNlcnZlclByb3BzOiB2b2lkIDAsXG4gICAgICAgICAgICBzZXJ2ZXJUYWlsOiBbXSxcbiAgICAgICAgICAgIGRpc3RhbmNlRnJvbUxlYWY6IGRpc3RhbmNlRnJvbUxlYWZcbiAgICAgICAgICB9O1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoaHlkcmF0aW9uRGlmZlJvb3RERVYuZmliZXIgIT09IGZpYmVyKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiU2F3IG11bHRpcGxlIGh5ZHJhdGlvbiBkaWZmIHJvb3RzIGluIGEgcGFzcy4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBoeWRyYXRpb25EaWZmUm9vdERFVi5kaXN0YW5jZUZyb21MZWFmID4gZGlzdGFuY2VGcm9tTGVhZiAmJlxuICAgICAgICAgICAgKGh5ZHJhdGlvbkRpZmZSb290REVWLmRpc3RhbmNlRnJvbUxlYWYgPSBkaXN0YW5jZUZyb21MZWFmKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaHlkcmF0aW9uRGlmZlJvb3RERVY7XG4gICAgICB9XG4gICAgICB2YXIgc2libGluZ3MgPSBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKFxuICAgICAgICBmaWJlci5yZXR1cm4sXG4gICAgICAgIGRpc3RhbmNlRnJvbUxlYWYgKyAxXG4gICAgICApLmNoaWxkcmVuO1xuICAgICAgaWYgKDAgPCBzaWJsaW5ncy5sZW5ndGggJiYgc2libGluZ3Nbc2libGluZ3MubGVuZ3RoIC0gMV0uZmliZXIgPT09IGZpYmVyKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChzaWJsaW5ncyA9IHNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aCAtIDFdKSxcbiAgICAgICAgICBzaWJsaW5ncy5kaXN0YW5jZUZyb21MZWFmID4gZGlzdGFuY2VGcm9tTGVhZiAmJlxuICAgICAgICAgICAgKHNpYmxpbmdzLmRpc3RhbmNlRnJvbUxlYWYgPSBkaXN0YW5jZUZyb21MZWFmKSxcbiAgICAgICAgICBzaWJsaW5nc1xuICAgICAgICApO1xuICAgICAgZGlzdGFuY2VGcm9tTGVhZiA9IHtcbiAgICAgICAgZmliZXI6IGZpYmVyLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIHNlcnZlclByb3BzOiB2b2lkIDAsXG4gICAgICAgIHNlcnZlclRhaWw6IFtdLFxuICAgICAgICBkaXN0YW5jZUZyb21MZWFmOiBkaXN0YW5jZUZyb21MZWFmXG4gICAgICB9O1xuICAgICAgc2libGluZ3MucHVzaChkaXN0YW5jZUZyb21MZWFmKTtcbiAgICAgIHJldHVybiBkaXN0YW5jZUZyb21MZWFmO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZShmaWJlciwgcmVqZWN0ZWRDYW5kaWRhdGUpIHtcbiAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWIHx8XG4gICAgICAgICgoZmliZXIgPSBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKGZpYmVyLCAwKSksXG4gICAgICAgIChmaWJlci5zZXJ2ZXJQcm9wcyA9IG51bGwpLFxuICAgICAgICBudWxsICE9PSByZWplY3RlZENhbmRpZGF0ZSAmJlxuICAgICAgICAgICgocmVqZWN0ZWRDYW5kaWRhdGUgPVxuICAgICAgICAgICAgZGVzY3JpYmVIeWRyYXRhYmxlSW5zdGFuY2VGb3JEZXZXYXJuaW5ncyhyZWplY3RlZENhbmRpZGF0ZSkpLFxuICAgICAgICAgIGZpYmVyLnNlcnZlclRhaWwucHVzaChyZWplY3RlZENhbmRpZGF0ZSkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKGZpYmVyKSB7XG4gICAgICB2YXIgZGlmZiA9IFwiXCIsXG4gICAgICAgIGRpZmZSb290ID0gaHlkcmF0aW9uRGlmZlJvb3RERVY7XG4gICAgICBudWxsICE9PSBkaWZmUm9vdCAmJlxuICAgICAgICAoKGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCksIChkaWZmID0gZGVzY3JpYmVEaWZmKGRpZmZSb290KSkpO1xuICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihcbiAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICBcIkh5ZHJhdGlvbiBmYWlsZWQgYmVjYXVzZSB0aGUgc2VydmVyIHJlbmRlcmVkIEhUTUwgZGlkbid0IG1hdGNoIHRoZSBjbGllbnQuIEFzIGEgcmVzdWx0IHRoaXMgdHJlZSB3aWxsIGJlIHJlZ2VuZXJhdGVkIG9uIHRoZSBjbGllbnQuIFRoaXMgY2FuIGhhcHBlbiBpZiBhIFNTUi1lZCBDbGllbnQgQ29tcG9uZW50IHVzZWQ6XFxuXFxuLSBBIHNlcnZlci9jbGllbnQgYnJhbmNoIGBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpYC5cXG4tIFZhcmlhYmxlIGlucHV0IHN1Y2ggYXMgYERhdGUubm93KClgIG9yIGBNYXRoLnJhbmRvbSgpYCB3aGljaCBjaGFuZ2VzIGVhY2ggdGltZSBpdCdzIGNhbGxlZC5cXG4tIERhdGUgZm9ybWF0dGluZyBpbiBhIHVzZXIncyBsb2NhbGUgd2hpY2ggZG9lc24ndCBtYXRjaCB0aGUgc2VydmVyLlxcbi0gRXh0ZXJuYWwgY2hhbmdpbmcgZGF0YSB3aXRob3V0IHNlbmRpbmcgYSBzbmFwc2hvdCBvZiBpdCBhbG9uZyB3aXRoIHRoZSBIVE1MLlxcbi0gSW52YWxpZCBIVE1MIHRhZyBuZXN0aW5nLlxcblxcbkl0IGNhbiBhbHNvIGhhcHBlbiBpZiB0aGUgY2xpZW50IGhhcyBhIGJyb3dzZXIgZXh0ZW5zaW9uIGluc3RhbGxlZCB3aGljaCBtZXNzZXMgd2l0aCB0aGUgSFRNTCBiZWZvcmUgUmVhY3QgbG9hZGVkLlxcblxcbmh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaHlkcmF0aW9uLW1pc21hdGNoXCIgK1xuICAgICAgICAgICAgICBkaWZmXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWJlclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgdGhyb3cgSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2UoZmliZXIpIHtcbiAgICAgIHZhciBkaWRIeWRyYXRlID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlLFxuICAgICAgICBwcm9wcyA9IGZpYmVyLm1lbW9pemVkUHJvcHM7XG4gICAgICBkaWRIeWRyYXRlW2ludGVybmFsSW5zdGFuY2VLZXldID0gZmliZXI7XG4gICAgICBkaWRIeWRyYXRlW2ludGVybmFsUHJvcHNLZXldID0gcHJvcHM7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHR5cGUsIHByb3BzKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiZGlhbG9nXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNhbmNlbFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2xvc2VcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpZnJhbWVcIjpcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICBjYXNlIFwiZW1iZWRcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIGZvciAodHlwZSA9IDA7IHR5cGUgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyB0eXBlKyspXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KG1lZGlhRXZlbnRUeXBlc1t0eXBlXSwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGV0YWlsc1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJpbnB1dFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgdmFsaWRhdGVJbnB1dFByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKTtcbiAgICAgICAgICBpbml0SW5wdXQoXG4gICAgICAgICAgICBkaWRIeWRyYXRlLFxuICAgICAgICAgICAgcHJvcHMudmFsdWUsXG4gICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBwcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICBwcm9wcy50eXBlLFxuICAgICAgICAgICAgcHJvcHMubmFtZSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFjayhkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIHZhbGlkYXRlT3B0aW9uUHJvcHMoZGlkSHlkcmF0ZSwgcHJvcHMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcInNlbGVjdFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgdmFsaWRhdGVTZWxlY3RQcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJ0ZXh0YXJlYVwiLCBwcm9wcyksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICAgIHZhbGlkYXRlVGV4dGFyZWFQcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyksXG4gICAgICAgICAgICBpbml0VGV4dGFyZWEoXG4gICAgICAgICAgICAgIGRpZEh5ZHJhdGUsXG4gICAgICAgICAgICAgIHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgdHJhY2soZGlkSHlkcmF0ZSk7XG4gICAgICB9XG4gICAgICB0eXBlID0gcHJvcHMuY2hpbGRyZW47XG4gICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJudW1iZXJcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJiaWdpbnRcIiAhPT0gdHlwZW9mIHR5cGUpIHx8XG4gICAgICBkaWRIeWRyYXRlLnRleHRDb250ZW50ID09PSBcIlwiICsgdHlwZSB8fFxuICAgICAgITAgPT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyB8fFxuICAgICAgY2hlY2tGb3JVbm1hdGNoZWRUZXh0KGRpZEh5ZHJhdGUudGV4dENvbnRlbnQsIHR5cGUpXG4gICAgICAgID8gKG51bGwgIT0gcHJvcHMucG9wb3ZlciAmJlxuICAgICAgICAgICAgKGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJiZWZvcmV0b2dnbGVcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwidG9nZ2xlXCIsIGRpZEh5ZHJhdGUpKSxcbiAgICAgICAgICBudWxsICE9IHByb3BzLm9uU2Nyb2xsICYmXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsXCIsIGRpZEh5ZHJhdGUpLFxuICAgICAgICAgIG51bGwgIT0gcHJvcHMub25TY3JvbGxFbmQgJiZcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxlbmRcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgbnVsbCAhPSBwcm9wcy5vbkNsaWNrICYmIChkaWRIeWRyYXRlLm9uY2xpY2sgPSBub29wJDEpLFxuICAgICAgICAgIChkaWRIeWRyYXRlID0gITApKVxuICAgICAgICA6IChkaWRIeWRyYXRlID0gITEpO1xuICAgICAgZGlkSHlkcmF0ZSB8fCB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKSB7XG4gICAgICBmb3IgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gZmliZXIucmV0dXJuOyBoeWRyYXRpb25QYXJlbnRGaWJlcjsgKVxuICAgICAgICBzd2l0Y2ggKGh5ZHJhdGlvblBhcmVudEZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICEwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyLnJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BIeWRyYXRpb25TdGF0ZShmaWJlcikge1xuICAgICAgaWYgKGZpYmVyICE9PSBoeWRyYXRpb25QYXJlbnRGaWJlcikgcmV0dXJuICExO1xuICAgICAgaWYgKCFpc0h5ZHJhdGluZylcbiAgICAgICAgcmV0dXJuIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpLCAoaXNIeWRyYXRpbmcgPSAhMCksICExO1xuICAgICAgdmFyIHNob3VsZENsZWFyID0gITEsXG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgIGlmICgoSlNDb21waWxlcl90ZW1wID0gMyAhPT0gZmliZXIudGFnICYmIDI3ICE9PSBmaWJlci50YWcpKSB7XG4gICAgICAgIGlmICgoSlNDb21waWxlcl90ZW1wID0gNSA9PT0gZmliZXIudGFnKSlcbiAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gZmliZXIudHlwZSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgIShcImZvcm1cIiAhPT0gSlNDb21waWxlcl90ZW1wICYmIFwiYnV0dG9uXCIgIT09IEpTQ29tcGlsZXJfdGVtcCkgfHxcbiAgICAgICAgICAgICAgc2hvdWxkU2V0VGV4dENvbnRlbnQoZmliZXIudHlwZSwgZmliZXIubWVtb2l6ZWRQcm9wcykpO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSAhSlNDb21waWxlcl90ZW1wO1xuICAgICAgfVxuICAgICAgSlNDb21waWxlcl90ZW1wICYmIChzaG91bGRDbGVhciA9ICEwKTtcbiAgICAgIGlmIChzaG91bGRDbGVhciAmJiBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSB7XG4gICAgICAgIGZvciAoc2hvdWxkQ2xlYXIgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlOyBzaG91bGRDbGVhcjsgKSB7XG4gICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gYnVpbGRIeWRyYXRpb25EaWZmTm9kZShmaWJlciwgMCk7XG4gICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID1cbiAgICAgICAgICAgIGRlc2NyaWJlSHlkcmF0YWJsZUluc3RhbmNlRm9yRGV2V2FybmluZ3Moc2hvdWxkQ2xlYXIpO1xuICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5zZXJ2ZXJUYWlsLnB1c2goZGVzY3JpcHRpb24pO1xuICAgICAgICAgIHNob3VsZENsZWFyID1cbiAgICAgICAgICAgIFwiU3VzcGVuc2VcIiA9PT0gZGVzY3JpcHRpb24udHlwZVxuICAgICAgICAgICAgICA/IGdldE5leHRIeWRyYXRhYmxlSW5zdGFuY2VBZnRlclN1c3BlbnNlSW5zdGFuY2Uoc2hvdWxkQ2xlYXIpXG4gICAgICAgICAgICAgIDogZ2V0TmV4dEh5ZHJhdGFibGUoc2hvdWxkQ2xlYXIubmV4dFNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaChmaWJlcik7XG4gICAgICB9XG4gICAgICBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKTtcbiAgICAgIGlmICgxMyA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIGZpYmVyID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgZmliZXIgPSBudWxsICE9PSBmaWJlciA/IGZpYmVyLmRlaHlkcmF0ZWQgOiBudWxsO1xuICAgICAgICBpZiAoIWZpYmVyKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBoYXZlIGEgaHlkcmF0ZWQgc3VzcGVuc2UgaW5zdGFuY2UuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID1cbiAgICAgICAgICBnZXROZXh0SHlkcmF0YWJsZUluc3RhbmNlQWZ0ZXJTdXNwZW5zZUluc3RhbmNlKGZpYmVyKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uUGFyZW50RmliZXJcbiAgICAgICAgICA/IGdldE5leHRIeWRyYXRhYmxlKGZpYmVyLnN0YXRlTm9kZS5uZXh0U2libGluZylcbiAgICAgICAgICA6IG51bGw7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSB7XG4gICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsO1xuICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgPSBpc0h5ZHJhdGluZyA9ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBxdWV1ZUh5ZHJhdGlvbkVycm9yKGVycm9yKSB7XG4gICAgICBudWxsID09PSBoeWRyYXRpb25FcnJvcnNcbiAgICAgICAgPyAoaHlkcmF0aW9uRXJyb3JzID0gW2Vycm9yXSlcbiAgICAgICAgOiBoeWRyYXRpb25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtaXRQZW5kaW5nSHlkcmF0aW9uV2FybmluZ3MoKSB7XG4gICAgICB2YXIgZGlmZlJvb3QgPSBoeWRyYXRpb25EaWZmUm9vdERFVjtcbiAgICAgIG51bGwgIT09IGRpZmZSb290ICYmXG4gICAgICAgICgoaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsKSxcbiAgICAgICAgKGRpZmZSb290ID0gZGVzY3JpYmVEaWZmKGRpZmZSb290KSksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBIHRyZWUgaHlkcmF0ZWQgYnV0IHNvbWUgYXR0cmlidXRlcyBvZiB0aGUgc2VydmVyIHJlbmRlcmVkIEhUTUwgZGlkbid0IG1hdGNoIHRoZSBjbGllbnQgcHJvcGVydGllcy4gVGhpcyB3b24ndCBiZSBwYXRjaGVkIHVwLiBUaGlzIGNhbiBoYXBwZW4gaWYgYSBTU1ItZWQgQ2xpZW50IENvbXBvbmVudCB1c2VkOlxcblxcbi0gQSBzZXJ2ZXIvY2xpZW50IGJyYW5jaCBgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKWAuXFxuLSBWYXJpYWJsZSBpbnB1dCBzdWNoIGFzIGBEYXRlLm5vdygpYCBvciBgTWF0aC5yYW5kb20oKWAgd2hpY2ggY2hhbmdlcyBlYWNoIHRpbWUgaXQncyBjYWxsZWQuXFxuLSBEYXRlIGZvcm1hdHRpbmcgaW4gYSB1c2VyJ3MgbG9jYWxlIHdoaWNoIGRvZXNuJ3QgbWF0Y2ggdGhlIHNlcnZlci5cXG4tIEV4dGVybmFsIGNoYW5naW5nIGRhdGEgd2l0aG91dCBzZW5kaW5nIGEgc25hcHNob3Qgb2YgaXQgYWxvbmcgd2l0aCB0aGUgSFRNTC5cXG4tIEludmFsaWQgSFRNTCB0YWcgbmVzdGluZy5cXG5cXG5JdCBjYW4gYWxzbyBoYXBwZW4gaWYgdGhlIGNsaWVudCBoYXMgYSBicm93c2VyIGV4dGVuc2lvbiBpbnN0YWxsZWQgd2hpY2ggbWVzc2VzIHdpdGggdGhlIEhUTUwgYmVmb3JlIFJlYWN0IGxvYWRlZC5cXG5cXG4lcyVzXCIsXG4gICAgICAgICAgXCJodHRwczovL3JlYWN0LmRldi9saW5rL2h5ZHJhdGlvbi1taXNtYXRjaFwiLFxuICAgICAgICAgIGRpZmZSb290XG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVUaGVuYWJsZVN0YXRlKCkge1xuICAgICAgcmV0dXJuIHsgZGlkV2FybkFib3V0VW5jYWNoZWRQcm9taXNlOiAhMSwgdGhlbmFibGVzOiBbXSB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1RoZW5hYmxlUmVzb2x2ZWQodGhlbmFibGUpIHtcbiAgICAgIHRoZW5hYmxlID0gdGhlbmFibGUuc3RhdHVzO1xuICAgICAgcmV0dXJuIFwiZnVsZmlsbGVkXCIgPT09IHRoZW5hYmxlIHx8IFwicmVqZWN0ZWRcIiA9PT0gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMygpIHt9XG4gICAgZnVuY3Rpb24gdHJhY2tVc2VkVGhlbmFibGUodGhlbmFibGVTdGF0ZSwgdGhlbmFibGUsIGluZGV4KSB7XG4gICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSA9ICEwKTtcbiAgICAgIHZhciB0cmFja2VkVGhlbmFibGVzID0gdGhlbmFibGVTdGF0ZS50aGVuYWJsZXM7XG4gICAgICBpbmRleCA9IHRyYWNrZWRUaGVuYWJsZXNbaW5kZXhdO1xuICAgICAgdm9pZCAwID09PSBpbmRleFxuICAgICAgICA/IHRyYWNrZWRUaGVuYWJsZXMucHVzaCh0aGVuYWJsZSlcbiAgICAgICAgOiBpbmRleCAhPT0gdGhlbmFibGUgJiZcbiAgICAgICAgICAodGhlbmFibGVTdGF0ZS5kaWRXYXJuQWJvdXRVbmNhY2hlZFByb21pc2UgfHxcbiAgICAgICAgICAgICgodGhlbmFibGVTdGF0ZS5kaWRXYXJuQWJvdXRVbmNhY2hlZFByb21pc2UgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IHdhcyBzdXNwZW5kZWQgYnkgYW4gdW5jYWNoZWQgcHJvbWlzZS4gQ3JlYXRpbmcgcHJvbWlzZXMgaW5zaWRlIGEgQ2xpZW50IENvbXBvbmVudCBvciBob29rIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLCBleGNlcHQgdmlhIGEgU3VzcGVuc2UtY29tcGF0aWJsZSBsaWJyYXJ5IG9yIGZyYW1ld29yay5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgdGhlbmFibGUudGhlbihub29wJDMsIG5vb3AkMyksXG4gICAgICAgICAgKHRoZW5hYmxlID0gaW5kZXgpKTtcbiAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICgodGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlLnJlYXNvbiksXG4gICAgICAgICAgICBjaGVja0lmVXNlV3JhcHBlZEluQXN5bmNDYXRjaCh0aGVuYWJsZVN0YXRlKSxcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUpXG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoZW5hYmxlLnN0YXR1cylcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4obm9vcCQzLCBub29wJDMpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbnVsbCAhPT0gdGhlbmFibGVTdGF0ZSAmJlxuICAgICAgICAgICAgICAxMDAgPCB0aGVuYWJsZVN0YXRlLnNoZWxsU3VzcGVuZENvdW50ZXJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJhc3luYy9hd2FpdCBpcyBub3QgeWV0IHN1cHBvcnRlZCBpbiBDbGllbnQgQ29tcG9uZW50cywgb25seSBTZXJ2ZXIgQ29tcG9uZW50cy4gVGhpcyBlcnJvciBpcyBvZnRlbiBjYXVzZWQgYnkgYWNjaWRlbnRhbGx5IGFkZGluZyBgJ3VzZSBjbGllbnQnYCB0byBhIG1vZHVsZSB0aGF0IHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gZm9yIHRoZSBzZXJ2ZXIuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUuc3RhdHVzID0gXCJwZW5kaW5nXCI7XG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChmdWxmaWxsZWRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgZnVsZmlsbGVkVGhlbmFibGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICAgICAgICAgIGZ1bGZpbGxlZFRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICAgICAgICAgICAgICBmdWxmaWxsZWRUaGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgIHZhciByZWplY3RlZFRoZW5hYmxlID0gdGhlbmFibGU7XG4gICAgICAgICAgICAgICAgICByZWplY3RlZFRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICAgICAgICAgIHJlamVjdGVkVGhlbmFibGUucmVhc29uID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgICgodGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlLnJlYXNvbiksXG4gICAgICAgICAgICAgICAgY2hlY2tJZlVzZVdyYXBwZWRJbkFzeW5jQ2F0Y2godGhlbmFibGVTdGF0ZSksXG4gICAgICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3VzcGVuZGVkVGhlbmFibGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFViA9ICEwO1xuICAgICAgICAgIHRocm93IFN1c3BlbnNlRXhjZXB0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdXNwZW5kZWRUaGVuYWJsZSgpIHtcbiAgICAgIGlmIChudWxsID09PSBzdXNwZW5kZWRUaGVuYWJsZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCBhIHN1c3BlbmRlZCB0aGVuYWJsZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciB0aGVuYWJsZSA9IHN1c3BlbmRlZFRoZW5hYmxlO1xuICAgICAgc3VzcGVuZGVkVGhlbmFibGUgPSBudWxsO1xuICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMTtcbiAgICAgIHJldHVybiB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJZlVzZVdyYXBwZWRJbkFzeW5jQ2F0Y2gocmVqZWN0ZWRSZWFzb24pIHtcbiAgICAgIGlmIChyZWplY3RlZFJlYXNvbiA9PT0gU3VzcGVuc2VFeGNlcHRpb24pXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSG9va3MgYXJlIG5vdCBzdXBwb3J0ZWQgaW5zaWRlIGFuIGFzeW5jIGNvbXBvbmVudC4gVGhpcyBlcnJvciBpcyBvZnRlbiBjYXVzZWQgYnkgYWNjaWRlbnRhbGx5IGFkZGluZyBgJ3VzZSBjbGllbnQnYCB0byBhIG1vZHVsZSB0aGF0IHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gZm9yIHRoZSBzZXJ2ZXIuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaERlYnVnSW5mbyhkZWJ1Z0luZm8pIHtcbiAgICAgIHZhciBwcmV2aW91c0RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICBudWxsICE9IGRlYnVnSW5mbyAmJlxuICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9XG4gICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNEZWJ1Z0luZm9cbiAgICAgICAgICAgID8gZGVidWdJbmZvXG4gICAgICAgICAgICA6IHByZXZpb3VzRGVidWdJbmZvLmNvbmNhdChkZWJ1Z0luZm8pKTtcbiAgICAgIHJldHVybiBwcmV2aW91c0RlYnVnSW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGcmFnbWVudFByb3BzKGVsZW1lbnQsIGZpYmVyLCByZXR1cm5GaWJlcikge1xuICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKGVsZW1lbnQucHJvcHMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIGlmIChcImNoaWxkcmVuXCIgIT09IGtleSAmJiBcImtleVwiICE9PSBrZXkpIHtcbiAgICAgICAgICBudWxsID09PSBmaWJlciAmJlxuICAgICAgICAgICAgKChmaWJlciA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgcmV0dXJuRmliZXIubW9kZSwgMCkpLFxuICAgICAgICAgICAgKGZpYmVyLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIChmaWJlci5yZXR1cm4gPSByZXR1cm5GaWJlcikpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3JlZEtleSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gUmVhY3QuRnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBga2V5YCBhbmQgYGNoaWxkcmVuYCBwcm9wcy5cIixcbiAgICAgICAgICAgICAgICBlcnJvcmVkS2V5XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1bndyYXBUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgdmFyIGluZGV4ID0gdGhlbmFibGVJbmRleENvdW50ZXIkMTtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgKz0gMTtcbiAgICAgIG51bGwgPT09IHRoZW5hYmxlU3RhdGUkMSAmJiAodGhlbmFibGVTdGF0ZSQxID0gY3JlYXRlVGhlbmFibGVTdGF0ZSgpKTtcbiAgICAgIHJldHVybiB0cmFja1VzZWRUaGVuYWJsZSh0aGVuYWJsZVN0YXRlJDEsIHRoZW5hYmxlLCBpbmRleCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvZXJjZVJlZih3b3JrSW5Qcm9ncmVzcywgZWxlbWVudCkge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnQucHJvcHMucmVmO1xuICAgICAgd29ya0luUHJvZ3Jlc3MucmVmID0gdm9pZCAwICE9PSBlbGVtZW50ID8gZWxlbWVudCA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpIHtcbiAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfTEVHQUNZX0VMRU1FTlRfVFlQRSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ0EgUmVhY3QgRWxlbWVudCBmcm9tIGFuIG9sZGVyIHZlcnNpb24gb2YgUmVhY3Qgd2FzIHJlbmRlcmVkLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEl0IGNhbiBoYXBwZW4gaWY6XFxuLSBNdWx0aXBsZSBjb3BpZXMgb2YgdGhlIFwicmVhY3RcIiBwYWNrYWdlIGlzIHVzZWQuXFxuLSBBIGxpYnJhcnkgcHJlLWJ1bmRsZWQgYW4gb2xkIGNvcHkgb2YgXCJyZWFjdFwiIG9yIFwicmVhY3QvanN4LXJ1bnRpbWVcIi5cXG4tIEEgY29tcGlsZXIgdHJpZXMgdG8gXCJpbmxpbmVcIiBKU1ggaW5zdGVhZCBvZiB1c2luZyB0aGUgcnVudGltZS4nXG4gICAgICAgICk7XG4gICAgICByZXR1cm5GaWJlciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZCk7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJPYmplY3RzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZCAoZm91bmQ6IFwiICtcbiAgICAgICAgICAoXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKG5ld0NoaWxkKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgOiByZXR1cm5GaWJlcikgK1xuICAgICAgICAgIFwiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIGludmFsaWRDaGlsZCkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW3BhcmVudE5hbWVdIHx8XG4gICAgICAgICgob3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nW3BhcmVudE5hbWVdID0gITApLFxuICAgICAgICAoaW52YWxpZENoaWxkID1cbiAgICAgICAgICBpbnZhbGlkQ2hpbGQuZGlzcGxheU5hbWUgfHwgaW52YWxpZENoaWxkLm5hbWUgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgIDMgPT09IHJldHVybkZpYmVyLnRhZ1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgeW91IHJldHVybiAlcyBpbnN0ZWFkIG9mIDwlcyAvPiBmcm9tIHJlbmRlci4gT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuXFxuICByb290LnJlbmRlciglcylcIixcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJGdW5jdGlvbnMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLiBUaGlzIG1heSBoYXBwZW4gaWYgeW91IHJldHVybiAlcyBpbnN0ZWFkIG9mIDwlcyAvPiBmcm9tIHJlbmRlci4gT3IgbWF5YmUgeW91IG1lYW50IHRvIGNhbGwgdGhpcyBmdW5jdGlvbiByYXRoZXIgdGhhbiByZXR1cm4gaXQuXFxuICA8JXM+eyVzfTwvJXM+XCIsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWVcbiAgICAgICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBpbnZhbGlkQ2hpbGQpIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihyZXR1cm5GaWJlcikgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgIG93bmVySGFzU3ltYm9sVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gfHxcbiAgICAgICAgKChvd25lckhhc1N5bWJvbFR5cGVXYXJuaW5nW3BhcmVudE5hbWVdID0gITApLFxuICAgICAgICAoaW52YWxpZENoaWxkID0gU3RyaW5nKGludmFsaWRDaGlsZCkpLFxuICAgICAgICAzID09PSByZXR1cm5GaWJlci50YWdcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU3ltYm9scyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuXFxuICByb290LnJlbmRlciglcylcIixcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlN5bWJvbHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLlxcbiAgPCVzPiVzPC8lcz5cIixcbiAgICAgICAgICAgICAgcGFyZW50TmFtZSxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lXG4gICAgICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRSZWNvbmNpbGVyKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZFRvRGVsZXRlKSB7XG4gICAgICAgIGlmIChzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICAgICAgdmFyIGRlbGV0aW9ucyA9IHJldHVybkZpYmVyLmRlbGV0aW9ucztcbiAgICAgICAgICBudWxsID09PSBkZWxldGlvbnNcbiAgICAgICAgICAgID8gKChyZXR1cm5GaWJlci5kZWxldGlvbnMgPSBbY2hpbGRUb0RlbGV0ZV0pLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIuZmxhZ3MgfD0gMTYpKVxuICAgICAgICAgICAgOiBkZWxldGlvbnMucHVzaChjaGlsZFRvRGVsZXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykgcmV0dXJuIG51bGw7XG4gICAgICAgIGZvciAoOyBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDsgKVxuICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCksXG4gICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBtYXBSZW1haW5pbmdDaGlsZHJlbihjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgICAgICBmb3IgKHZhciBleGlzdGluZ0NoaWxkcmVuID0gbmV3IE1hcCgpOyBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDsgKVxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkLmtleVxuICAgICAgICAgICAgPyBleGlzdGluZ0NoaWxkcmVuLnNldChjdXJyZW50Rmlyc3RDaGlsZC5rZXksIGN1cnJlbnRGaXJzdENoaWxkKVxuICAgICAgICAgICAgOiBleGlzdGluZ0NoaWxkcmVuLnNldChjdXJyZW50Rmlyc3RDaGlsZC5pbmRleCwgY3VycmVudEZpcnN0Q2hpbGQpLFxuICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZyk7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0NoaWxkcmVuO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXNlRmliZXIoZmliZXIsIHBlbmRpbmdQcm9wcykge1xuICAgICAgICBmaWJlciA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGZpYmVyLCBwZW5kaW5nUHJvcHMpO1xuICAgICAgICBmaWJlci5pbmRleCA9IDA7XG4gICAgICAgIGZpYmVyLnNpYmxpbmcgPSBudWxsO1xuICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBsYXN0UGxhY2VkSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgICAgIG5ld0ZpYmVyLmluZGV4ID0gbmV3SW5kZXg7XG4gICAgICAgIGlmICghc2hvdWxkVHJhY2tTaWRlRWZmZWN0cylcbiAgICAgICAgICByZXR1cm4gKG5ld0ZpYmVyLmZsYWdzIHw9IDEwNDg1NzYpLCBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICAgIG5ld0luZGV4ID0gbmV3RmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmV3SW5kZXgpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChuZXdJbmRleCA9IG5ld0luZGV4LmluZGV4KSxcbiAgICAgICAgICAgIG5ld0luZGV4IDwgbGFzdFBsYWNlZEluZGV4XG4gICAgICAgICAgICAgID8gKChuZXdGaWJlci5mbGFncyB8PSAzMzU1NDQzNCksIGxhc3RQbGFjZWRJbmRleClcbiAgICAgICAgICAgICAgOiBuZXdJbmRleFxuICAgICAgICAgICk7XG4gICAgICAgIG5ld0ZpYmVyLmZsYWdzIHw9IDMzNTU0NDM0O1xuICAgICAgICByZXR1cm4gbGFzdFBsYWNlZEluZGV4O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcGxhY2VTaW5nbGVDaGlsZChuZXdGaWJlcikge1xuICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgbnVsbCA9PT0gbmV3RmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgKG5ld0ZpYmVyLmZsYWdzIHw9IDMzNTU0NDM0KTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpYmVyO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIGN1cnJlbnQsIHRleHRDb250ZW50LCBsYW5lcykge1xuICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCA2ICE9PSBjdXJyZW50LnRhZylcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICAgICAgICB0ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIHRleHRDb250ZW50KTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBlbGVtZW50LCBsYW5lcykge1xuICAgICAgICB2YXIgZWxlbWVudFR5cGUgPSBlbGVtZW50LnR5cGU7XG4gICAgICAgIGlmIChlbGVtZW50VHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBlbGVtZW50LmtleVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCwgY3VycmVudCwgcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgKGN1cnJlbnQuZWxlbWVudFR5cGUgPT09IGVsZW1lbnRUeXBlIHx8XG4gICAgICAgICAgICBpc0NvbXBhdGlibGVGYW1pbHlGb3JIb3RSZWxvYWRpbmcoY3VycmVudCwgZWxlbWVudCkgfHxcbiAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgZWxlbWVudFR5cGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gZWxlbWVudFR5cGUgJiZcbiAgICAgICAgICAgICAgZWxlbWVudFR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICBjYWxsTGF6eUluaXRJbkRFVihlbGVtZW50VHlwZSkgPT09IGN1cnJlbnQudHlwZSkpXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCBlbGVtZW50LnByb3BzKSksXG4gICAgICAgICAgICBjb2VyY2VSZWYoY3VycmVudCwgZWxlbWVudCksXG4gICAgICAgICAgICAoY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCBsYW5lcyk7XG4gICAgICAgIGNvZXJjZVJlZihjdXJyZW50LCBlbGVtZW50KTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGN1cnJlbnQsIHBvcnRhbCwgbGFuZXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICA0ICE9PSBjdXJyZW50LnRhZyB8fFxuICAgICAgICAgIGN1cnJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gIT09IHBvcnRhbC5jb250YWluZXJJbmZvIHx8XG4gICAgICAgICAgY3VycmVudC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gIT09IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKHBvcnRhbCwgcmV0dXJuRmliZXIubW9kZSwgbGFuZXMpKSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gdXNlRmliZXIoY3VycmVudCwgcG9ydGFsLmNoaWxkcmVuIHx8IFtdKTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVGcmFnbWVudChyZXR1cm5GaWJlciwgY3VycmVudCwgZnJhZ21lbnQsIGxhbmVzLCBrZXkpIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQgfHwgNyAhPT0gY3VycmVudC50YWcpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgIGZyYWdtZW50LFxuICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCBmcmFnbWVudCk7XG4gICAgICAgIGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBsYW5lcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobmV3Q2hpbGQgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICAgICAgICBcIlwiICsgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChuZXdDaGlsZC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAobmV3Q2hpbGQuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAobmV3Q2hpbGQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgbmV3Q2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgY29lcmNlUmVmKGxhbmVzLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgdmFyIF9wcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgICAgbmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCk7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkLCBsYW5lcyk7XG4gICAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbztcbiAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoX3ByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gY3JlYXRlQ2hpbGQoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQ2hpbGQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKHJldHVybkZpYmVyLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBsYW5lcykge1xuICAgICAgICB2YXIga2V5ID0gbnVsbCAhPT0gb2xkRmliZXIgPyBvbGRGaWJlci5rZXkgOiBudWxsO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBudWxsICE9PSBrZXlcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgb2xkRmliZXIsIFwiXCIgKyBuZXdDaGlsZCwgbGFuZXMpO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiBuZXdDaGlsZC5rZXkgPT09IGtleVxuICAgICAgICAgICAgICAgID8gKChrZXkgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0ga2V5KSxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiBuZXdDaGlsZC5rZXkgPT09IGtleVxuICAgICAgICAgICAgICAgID8gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGxhbmVzKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChrZXkgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCkpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0ga2V5KSxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0ga2V5KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBrZXk7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVTbG90KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBrZXkpLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVTbG90KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVGcm9tTWFwKFxuICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgbmV3SWR4LFxuICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbCksXG4gICAgICAgICAgICB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgZXhpc3RpbmdDaGlsZHJlbiwgXCJcIiArIG5ld0NoaWxkLCBsYW5lcylcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKG5ld0lkeCA9XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLmdldChcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3Q2hpbGQua2V5ID8gbmV3SWR4IDogbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICAgICAgICApIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIChleGlzdGluZ0NoaWxkcmVuID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gZXhpc3RpbmdDaGlsZHJlbiksXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPVxuICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5nZXQoXG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT09IG5ld0NoaWxkLmtleSA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleVxuICAgICAgICAgICAgICAgICAgKSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIGV4aXN0aW5nQ2hpbGRyZW4sIG5ld0NoaWxkLCBsYW5lcylcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICB2YXIgX3ByZXZEZWJ1Z0luZm83ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgICAgbmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCk7XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gX3ByZXZEZWJ1Z0luZm83O1xuICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAobmV3SWR4ID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gZXhpc3RpbmdDaGlsZHJlbiksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKF9wcmV2RGVidWdJbmZvNyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbzcpLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKHJldHVybkZpYmVyLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZEtleShyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkLCBrbm93bktleXMpIHtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiBjaGlsZCB8fCBudWxsID09PSBjaGlsZCkgcmV0dXJuIGtub3duS2V5cztcbiAgICAgICAgc3dpdGNoIChjaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICB3YXJuRm9yTWlzc2luZ0tleShyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkKTtcbiAgICAgICAgICAgIHZhciBrZXkgPSBjaGlsZC5rZXk7XG4gICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIGtleSkgYnJlYWs7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0ga25vd25LZXlzKSB7XG4gICAgICAgICAgICAgIGtub3duS2V5cyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgha25vd25LZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVih3b3JrSW5Qcm9ncmVzcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiRW5jb3VudGVyZWQgdHdvIGNoaWxkcmVuIHdpdGggdGhlIHNhbWUga2V5LCBgJXNgLiBLZXlzIHNob3VsZCBiZSB1bmlxdWUgc28gdGhhdCBjb21wb25lbnRzIG1haW50YWluIHRoZWlyIGlkZW50aXR5IGFjcm9zcyB1cGRhdGVzLiBOb24tdW5pcXVlIGtleXMgbWF5IGNhdXNlIGNoaWxkcmVuIHRvIGJlIGR1cGxpY2F0ZWQgYW5kL29yIG9taXR0ZWQgXFx1MjAxNCB0aGUgYmVoYXZpb3IgaXMgdW5zdXBwb3J0ZWQgYW5kIGNvdWxkIGNoYW5nZSBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlwiLFxuICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIChjaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKGNoaWxkKSksXG4gICAgICAgICAgICAgIHdhcm5PbkludmFsaWRLZXkocmV0dXJuRmliZXIsIHdvcmtJblByb2dyZXNzLCBjaGlsZCwga25vd25LZXlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga25vd25LZXlzO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICBuZXdDaGlsZHJlbixcbiAgICAgICAgbGFuZXNcbiAgICAgICkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBrbm93bktleXMgPSBudWxsLFxuICAgICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGwsXG4gICAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbnVsbCxcbiAgICAgICAgICAgIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBuZXdJZHggPSAoY3VycmVudEZpcnN0Q2hpbGQgPSAwKSxcbiAgICAgICAgICAgIG5leHRPbGRGaWJlciA9IG51bGw7XG4gICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiYgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIG5ld0lkeCsrXG4gICAgICAgICkge1xuICAgICAgICAgIG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4XG4gICAgICAgICAgICA/ICgobmV4dE9sZEZpYmVyID0gb2xkRmliZXIpLCAob2xkRmliZXIgPSBudWxsKSlcbiAgICAgICAgICAgIDogKG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gbmV3RmliZXIpIHtcbiAgICAgICAgICAgIG51bGwgPT09IG9sZEZpYmVyICYmIChvbGRGaWJlciA9IG5leHRPbGRGaWJlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3RmliZXIsXG4gICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICBvbGRGaWJlciAmJlxuICAgICAgICAgICAgbnVsbCA9PT0gbmV3RmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChuZXdGaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0lkeCk7XG4gICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyKVxuICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXIpO1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBuZXdGaWJlcjtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SWR4ID09PSBuZXdDaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlciksXG4gICAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCksXG4gICAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKG51bGwgPT09IG9sZEZpYmVyKSB7XG4gICAgICAgICAgZm9yICg7IG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDsgbmV3SWR4KyspXG4gICAgICAgICAgICAob2xkRmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGRyZW5bbmV3SWR4XSwgbGFuZXMpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG9sZEZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gb2xkRmliZXIpLFxuICAgICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gb2xkRmliZXIpKTtcbiAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChcbiAgICAgICAgICBvbGRGaWJlciA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKG9sZEZpYmVyKTtcbiAgICAgICAgICBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgbmV3SWR4KytcbiAgICAgICAgKVxuICAgICAgICAgIChuZXh0T2xkRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICkpLFxuICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyICYmXG4gICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgb2xkRmliZXIuZGVsZXRlKFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV4dE9sZEZpYmVyLmtleSA/IG5ld0lkeCA6IG5leHRPbGRGaWJlci5rZXlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV4dE9sZEZpYmVyKVxuICAgICAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5leHRPbGRGaWJlciksXG4gICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gbmV4dE9sZEZpYmVyKSk7XG4gICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICBvbGRGaWJlci5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkcmVuLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChudWxsID09IG5ld0NoaWxkcmVuKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiQW4gaXRlcmFibGUgb2JqZWN0IHByb3ZpZGVkIG5vIGl0ZXJhdG9yLlwiKTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgcmVzdWx0aW5nRmlyc3RDaGlsZCA9IG51bGwsXG4gICAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbnVsbCxcbiAgICAgICAgICAgIG9sZEZpYmVyID0gY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBuZXdJZHggPSAoY3VycmVudEZpcnN0Q2hpbGQgPSAwKSxcbiAgICAgICAgICAgIG5leHRPbGRGaWJlciA9IG51bGwsXG4gICAgICAgICAgICBrbm93bktleXMgPSBudWxsLFxuICAgICAgICAgICAgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKTtcbiAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJiAhc3RlcC5kb25lO1xuICAgICAgICAgIG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpXG4gICAgICAgICkge1xuICAgICAgICAgIG9sZEZpYmVyLmluZGV4ID4gbmV3SWR4XG4gICAgICAgICAgICA/ICgobmV4dE9sZEZpYmVyID0gb2xkRmliZXIpLCAob2xkRmliZXIgPSBudWxsKSlcbiAgICAgICAgICAgIDogKG5leHRPbGRGaWJlciA9IG9sZEZpYmVyLnNpYmxpbmcpO1xuICAgICAgICAgIHZhciBuZXdGaWJlciA9IHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBzdGVwLnZhbHVlLCBsYW5lcyk7XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5ld0ZpYmVyKSB7XG4gICAgICAgICAgICBudWxsID09PSBvbGRGaWJlciAmJiAob2xkRmliZXIgPSBuZXh0T2xkRmliZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0ZpYmVyLFxuICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgICAgb2xkRmliZXIgJiZcbiAgICAgICAgICAgIG51bGwgPT09IG5ld0ZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQobmV3RmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdJZHgpO1xuICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcilcbiAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyKTtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXAuZG9uZSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKSxcbiAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KSxcbiAgICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gb2xkRmliZXIpIHtcbiAgICAgICAgICBmb3IgKDsgIXN0ZXAuZG9uZTsgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCkpXG4gICAgICAgICAgICAob2xkRmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgc3RlcC52YWx1ZSwgbGFuZXMpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG9sZEZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gb2xkRmliZXIpLFxuICAgICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gb2xkRmliZXIpKTtcbiAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChcbiAgICAgICAgICBvbGRGaWJlciA9IG1hcFJlbWFpbmluZ0NoaWxkcmVuKG9sZEZpYmVyKTtcbiAgICAgICAgICAhc3RlcC5kb25lO1xuICAgICAgICAgIG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpXG4gICAgICAgIClcbiAgICAgICAgICAobmV4dE9sZEZpYmVyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApKSxcbiAgICAgICAgICAgIG51bGwgIT09IG5leHRPbGRGaWJlciAmJlxuICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV4dE9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgIG9sZEZpYmVyLmRlbGV0ZShcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IG5leHRPbGRGaWJlci5rZXkgPyBuZXdJZHggOiBuZXh0T2xkRmliZXIua2V5XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5leHRPbGRGaWJlcilcbiAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXh0T2xkRmliZXIpLFxuICAgICAgICAgICAgICAocHJldmlvdXNOZXdGaWJlciA9IG5leHRPbGRGaWJlcikpO1xuICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgb2xkRmliZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIG51bGwgIT09IG5ld0NoaWxkICYmXG4gICAgICAgICAgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSAmJlxuICAgICAgICAgIG51bGwgPT09IG5ld0NoaWxkLmtleSAmJlxuICAgICAgICAgICh2YWxpZGF0ZUZyYWdtZW50UHJvcHMobmV3Q2hpbGQsIG51bGwsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAobmV3Q2hpbGQgPSBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbikpO1xuICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIG51bGwgIT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgc3dpdGNoIChuZXdDaGlsZC4kJHR5cGVvZikge1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIHZhciBwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSA9IG5ld0NoaWxkLmtleTsgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQ7ICkge1xuICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGaXJzdENoaWxkLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleSA9IG5ld0NoaWxkLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoNyA9PT0gY3VycmVudEZpcnN0Q2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcyA9IHVzZUZpYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLl9kZWJ1Z093bmVyID0gbmV3Q2hpbGQuX293bmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMobmV3Q2hpbGQsIGxhbmVzLCByZXR1cm5GaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuZWxlbWVudFR5cGUgPT09IGtleSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGRcbiAgICAgICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBrZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5LiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxMYXp5SW5pdEluREVWKGtleSkgPT09IGN1cnJlbnRGaXJzdENoaWxkLnR5cGUpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyA9IHVzZUZpYmVyKGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZC5wcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgY29lcmNlUmVmKGxhbmVzLCBuZXdDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnT3duZXIgPSBuZXdDaGlsZC5fb3duZXI7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBsYW5lcztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEVcbiAgICAgICAgICAgICAgICAgID8gKChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhuZXdDaGlsZCwgbGFuZXMsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKVxuICAgICAgICAgICAgICAgICAgOiAoKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICBjb2VyY2VSZWYobGFuZXMsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IHBsYWNlU2luZ2xlQ2hpbGQocmV0dXJuRmliZXIpO1xuICAgICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbztcbiAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8gPSBuZXdDaGlsZDtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQgPSBwcmV2RGVidWdJbmZvLmtleTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkO1xuXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZpcnN0Q2hpbGQua2V5ID09PSBuZXdDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIDQgPT09IGN1cnJlbnRGaXJzdENoaWxkLnRhZyAmJlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnN0YXRlTm9kZS5jb250YWluZXJJbmZvID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mby5jb250YWluZXJJbmZvICYmXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mby5pbXBsZW1lbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZ1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMgPSB1c2VGaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mby5jaGlsZHJlbiB8fCBbXVxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBsYW5lcztcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGVsc2UgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFuZXMgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwoXG4gICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBwbGFjZVNpbmdsZUNoaWxkKHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkID0gY2FsbExhenlJbml0SW5ERVYobmV3Q2hpbGQpKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5ld0NoaWxkKSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbyksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICAgICAgcHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICBrZXkgPSBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBrZXkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiQW4gb2JqZWN0IGlzIG5vdCBhbiBpdGVyYWJsZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuID0ga2V5LmNhbGwobmV3Q2hpbGQpO1xuICAgICAgICAgICAgaWYgKG5ld0NoaWxkcmVuID09PSBuZXdDaGlsZCkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgMCAhPT0gcmV0dXJuRmliZXIudGFnIHx8XG4gICAgICAgICAgICAgICAgXCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiICE9PVxuICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJldHVybkZpYmVyLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgXCJbb2JqZWN0IEdlbmVyYXRvcl1cIiAhPT1cbiAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdDaGlsZHJlbilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dEdlbmVyYXRvcnMgfHxcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiVXNpbmcgSXRlcmF0b3JzIGFzIGNoaWxkcmVuIGlzIHVuc3VwcG9ydGVkIGFuZCB3aWxsIGxpa2VseSB5aWVsZCB1bmV4cGVjdGVkIHJlc3VsdHMgYmVjYXVzZSBlbnVtZXJhdGluZyBhIGdlbmVyYXRvciBtdXRhdGVzIGl0LiBZb3UgbWF5IGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgd2l0aCBgQXJyYXkuZnJvbSgpYCBvciB0aGUgYFsuLi5zcHJlYWRdYCBvcGVyYXRvciBiZWZvcmUgcmVuZGVyaW5nLiBZb3UgY2FuIGFsc28gdXNlIGFuIEl0ZXJhYmxlIHRoYXQgY2FuIGl0ZXJhdGUgbXVsdGlwbGUgdGltZXMgb3ZlciB0aGUgc2FtZSBpdGVtcy5cIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRHZW5lcmF0b3JzID0gITApO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIG5ld0NoaWxkLmVudHJpZXMgIT09IGtleSB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSk7XG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgbmV3Q2hpbGRyZW4sXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm87XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgXCJcIiAhPT0gbmV3Q2hpbGQpIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG5ld0NoaWxkIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIG5ld0NoaWxkXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBcIlwiICsgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQgJiYgNiA9PT0gY3VycmVudEZpcnN0Q2hpbGQudGFnXG4gICAgICAgICAgICAgID8gKGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAobGFuZXMgPSB1c2VGaWJlcihjdXJyZW50Rmlyc3RDaGlsZCwgcHJldkRlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKVxuICAgICAgICAgICAgICA6IChkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpLFxuICAgICAgICAgICAgICAgIChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpLFxuICAgICAgICAgICAgcGxhY2VTaW5nbGVDaGlsZChyZXR1cm5GaWJlcilcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiAocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdDaGlsZCwgbGFuZXMpIHtcbiAgICAgICAgdmFyIHByZXZEZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMDtcbiAgICAgICAgICB2YXIgZmlyc3RDaGlsZEZpYmVyID0gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoZW5hYmxlU3RhdGUkMSA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuIGZpcnN0Q2hpbGRGaWJlcjtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIGlmICh4ID09PSBTdXNwZW5zZUV4Y2VwdGlvbikgdGhyb3cgeDtcbiAgICAgICAgICB2YXIgZmliZXIgPSBjcmVhdGVGaWJlcigyOSwgeCwgbnVsbCwgcmV0dXJuRmliZXIubW9kZSk7XG4gICAgICAgICAgZmliZXIubGFuZXMgPSBsYW5lcztcbiAgICAgICAgICBmaWJlci5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICB2YXIgZGVidWdJbmZvID0gKGZpYmVyLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKTtcbiAgICAgICAgICBmaWJlci5fZGVidWdPd25lciA9IHJldHVybkZpYmVyLl9kZWJ1Z093bmVyO1xuICAgICAgICAgIGlmIChudWxsICE9IGRlYnVnSW5mbylcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWJ1Z0luZm8ubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgZGVidWdJbmZvW2ldLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgZmliZXIuX2RlYnVnT3duZXIgPSBkZWJ1Z0luZm9baV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmliZXI7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm87XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hIaWRkZW5Db250ZXh0KGZpYmVyLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzID0gZW50YW5nbGVkUmVuZGVyTGFuZXM7XG4gICAgICBwdXNoKHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvciwgcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzLCBmaWJlcik7XG4gICAgICBwdXNoKGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IsIGNvbnRleHQsIGZpYmVyKTtcbiAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzID0gcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzIHwgY29udGV4dC5iYXNlTGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2soZmliZXIpIHtcbiAgICAgIHB1c2gocHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLCBlbnRhbmdsZWRSZW5kZXJMYW5lcywgZmliZXIpO1xuICAgICAgcHVzaChcbiAgICAgICAgY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvcixcbiAgICAgICAgY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvci5jdXJyZW50LFxuICAgICAgICBmaWJlclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSGlkZGVuQ29udGV4dChmaWJlcikge1xuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IuY3VycmVudDtcbiAgICAgIHBvcChjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwb3AocHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGhhbmRsZXIuYWx0ZXJuYXRlO1xuICAgICAgcHVzaChcbiAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvcixcbiAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50ICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2ssXG4gICAgICAgIGhhbmRsZXJcbiAgICAgICk7XG4gICAgICBwdXNoKHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLCBoYW5kbGVyLCBoYW5kbGVyKTtcbiAgICAgIG51bGwgPT09IHNoZWxsQm91bmRhcnkgJiZcbiAgICAgICAgKG51bGwgPT09IGN1cnJlbnQgfHwgbnVsbCAhPT0gY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvci5jdXJyZW50XG4gICAgICAgICAgPyAoc2hlbGxCb3VuZGFyeSA9IGhhbmRsZXIpXG4gICAgICAgICAgOiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiYgKHNoZWxsQm91bmRhcnkgPSBoYW5kbGVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hPZmZzY3JlZW5TdXNwZW5zZUhhbmRsZXIoZmliZXIpIHtcbiAgICAgIGlmICgyMiA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAocHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQsIGZpYmVyKSxcbiAgICAgICAgICBwdXNoKHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpLFxuICAgICAgICAgIG51bGwgPT09IHNoZWxsQm91bmRhcnkpXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBjdXJyZW50ID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgKHNoZWxsQm91bmRhcnkgPSBmaWJlcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2soZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2soZmliZXIpIHtcbiAgICAgIHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50LCBmaWJlcik7XG4gICAgICBwdXNoKFxuICAgICAgICBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvcixcbiAgICAgICAgc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCxcbiAgICAgICAgZmliZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFN1c3BlbnNlSGFuZGxlcihmaWJlcikge1xuICAgICAgcG9wKHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBzaGVsbEJvdW5kYXJ5ID09PSBmaWJlciAmJiAoc2hlbGxCb3VuZGFyeSA9IG51bGwpO1xuICAgICAgcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEZpcnN0U3VzcGVuZGVkKHJvdykge1xuICAgICAgZm9yICh2YXIgbm9kZSA9IHJvdzsgbnVsbCAhPT0gbm9kZTsgKSB7XG4gICAgICAgIGlmICgxMyA9PT0gbm9kZS50YWcpIHtcbiAgICAgICAgICB2YXIgc3RhdGUgPSBub2RlLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCAhPT0gc3RhdGUgJiZcbiAgICAgICAgICAgICgoc3RhdGUgPSBzdGF0ZS5kZWh5ZHJhdGVkKSxcbiAgICAgICAgICAgIG51bGwgPT09IHN0YXRlIHx8XG4gICAgICAgICAgICAgIHN0YXRlLmRhdGEgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgICBzdGF0ZS5kYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIDE5ID09PSBub2RlLnRhZyAmJlxuICAgICAgICAgIHZvaWQgMCAhPT0gbm9kZS5tZW1vaXplZFByb3BzLnJldmVhbE9yZGVyXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICgwICE9PSAobm9kZS5mbGFncyAmIDEyOCkpIHJldHVybiBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKG51bGwgIT09IG5vZGUuY2hpbGQpIHtcbiAgICAgICAgICBub2RlLmNoaWxkLnJldHVybiA9IG5vZGU7XG4gICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUgPT09IHJvdykgYnJlYWs7XG4gICAgICAgIGZvciAoOyBudWxsID09PSBub2RlLnNpYmxpbmc7ICkge1xuICAgICAgICAgIGlmIChudWxsID09PSBub2RlLnJldHVybiB8fCBub2RlLnJldHVybiA9PT0gcm93KSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlckxvY2FsKCksXG4gICAgICAgIGRhdGE6IG5ldyBNYXAoKSxcbiAgICAgICAgcmVmQ291bnQ6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldGFpbkNhY2hlKGNhY2hlKSB7XG4gICAgICBjYWNoZS5jb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkEgY2FjaGUgaW5zdGFuY2Ugd2FzIHJldGFpbmVkIGFmdGVyIGl0IHdhcyBhbHJlYWR5IGZyZWVkLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIGNhY2hlLnJlZkNvdW50Kys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbGVhc2VDYWNoZShjYWNoZSkge1xuICAgICAgY2FjaGUucmVmQ291bnQtLTtcbiAgICAgIDAgPiBjYWNoZS5yZWZDb3VudCAmJlxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJBIGNhY2hlIGluc3RhbmNlIHdhcyByZWxlYXNlZCBhZnRlciBpdCB3YXMgYWxyZWFkeSBmcmVlZC4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICk7XG4gICAgICAwID09PSBjYWNoZS5yZWZDb3VudCAmJlxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrJDIoTm9ybWFsUHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYWNoZS5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRhbmdsZUFzeW5jQWN0aW9uKHRyYW5zaXRpb24sIHRoZW5hYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudEVudGFuZ2xlZExpc3RlbmVycykge1xuICAgICAgICB2YXIgZW50YW5nbGVkTGlzdGVuZXJzID0gKGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnMgPSBbXSk7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQgPSAwO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkTGFuZSA9IHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSB7XG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICB2YWx1ZTogdm9pZCAwLFxuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBlbnRhbmdsZWRMaXN0ZW5lcnMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBjdXJyZW50RW50YW5nbGVkUGVuZGluZ0NvdW50Kys7XG4gICAgICB0aGVuYWJsZS50aGVuKHBpbmdFbmd0YW5nbGVkQWN0aW9uU2NvcGUsIHBpbmdFbmd0YW5nbGVkQWN0aW9uU2NvcGUpO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwaW5nRW5ndGFuZ2xlZEFjdGlvblNjb3BlKCkge1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSAtLWN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudEVudGFuZ2xlZExpc3RlbmVyc1xuICAgICAgKSB7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSAmJlxuICAgICAgICAgIChjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIik7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzID0gbnVsbDtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZExhbmUgPSAwO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgKDAsIGxpc3RlbmVyc1tpXSkoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2hhaW5UaGVuYWJsZVZhbHVlKHRoZW5hYmxlLCByZXN1bHQpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXSxcbiAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUgPSB7XG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICByZWFzb246IG51bGwsXG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHJlc29sdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnZhbHVlID0gcmVzdWx0O1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSAoMCwgbGlzdGVuZXJzW2ldKShyZXN1bHQpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUucmVhc29uID0gZXJyb3I7XG4gICAgICAgICAgZm9yIChlcnJvciA9IDA7IGVycm9yIDwgbGlzdGVuZXJzLmxlbmd0aDsgZXJyb3IrKylcbiAgICAgICAgICAgICgwLCBsaXN0ZW5lcnNbZXJyb3JdKSh2b2lkIDApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlV2l0aE92ZXJyaWRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZWVrQ2FjaGVGcm9tUG9vbCgpIHtcbiAgICAgIHZhciBjYWNoZVJlc3VtZWRGcm9tUHJldmlvdXNSZW5kZXIgPSByZXN1bWVkQ2FjaGUuY3VycmVudDtcbiAgICAgIHJldHVybiBudWxsICE9PSBjYWNoZVJlc3VtZWRGcm9tUHJldmlvdXNSZW5kZXJcbiAgICAgICAgPyBjYWNoZVJlc3VtZWRGcm9tUHJldmlvdXNSZW5kZXJcbiAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc1Jvb3QucG9vbGVkQ2FjaGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hUcmFuc2l0aW9uKG9mZnNjcmVlbldvcmtJblByb2dyZXNzLCBwcmV2Q2FjaGVQb29sKSB7XG4gICAgICBudWxsID09PSBwcmV2Q2FjaGVQb29sXG4gICAgICAgID8gcHVzaChyZXN1bWVkQ2FjaGUsIHJlc3VtZWRDYWNoZS5jdXJyZW50LCBvZmZzY3JlZW5Xb3JrSW5Qcm9ncmVzcylcbiAgICAgICAgOiBwdXNoKHJlc3VtZWRDYWNoZSwgcHJldkNhY2hlUG9vbC5wb29sLCBvZmZzY3JlZW5Xb3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1c3BlbmRlZENhY2hlKCkge1xuICAgICAgdmFyIGNhY2hlRnJvbVBvb2wgPSBwZWVrQ2FjaGVGcm9tUG9vbCgpO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGNhY2hlRnJvbVBvb2xcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogeyBwYXJlbnQ6IENhY2hlQ29udGV4dC5fY3VycmVudFZhbHVlLCBwb29sOiBjYWNoZUZyb21Qb29sIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SG9va1R5cGVzRGV2KCkge1xuICAgICAgdmFyIGhvb2tOYW1lID0gY3VycmVudEhvb2tOYW1lSW5EZXY7XG4gICAgICBudWxsID09PSBob29rVHlwZXNEZXZcbiAgICAgICAgPyAoaG9va1R5cGVzRGV2ID0gW2hvb2tOYW1lXSlcbiAgICAgICAgOiBob29rVHlwZXNEZXYucHVzaChob29rTmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUhvb2tUeXBlc0RldigpIHtcbiAgICAgIHZhciBob29rTmFtZSA9IGN1cnJlbnRIb29rTmFtZUluRGV2O1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBob29rVHlwZXNEZXYgJiZcbiAgICAgICAgKGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2KyssXG4gICAgICAgIGhvb2tUeXBlc0Rldltob29rVHlwZXNVcGRhdGVJbmRleERldl0gIT09IGhvb2tOYW1lKVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihcbiAgICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhZGlkV2FybkFib3V0TWlzbWF0Y2hlZEhvb2tzRm9yQ29tcG9uZW50Lmhhcyhjb21wb25lbnROYW1lKSAmJlxuICAgICAgICAgIChkaWRXYXJuQWJvdXRNaXNtYXRjaGVkSG9va3NGb3JDb21wb25lbnQuYWRkKGNvbXBvbmVudE5hbWUpLFxuICAgICAgICAgIG51bGwgIT09IGhvb2tUeXBlc0RldilcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yICh2YXIgdGFibGUgPSBcIlwiLCBpID0gMDsgaSA8PSBob29rVHlwZXNVcGRhdGVJbmRleERldjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgb2xkSG9va05hbWUgPSBob29rVHlwZXNEZXZbaV0sXG4gICAgICAgICAgICAgIG5ld0hvb2tOYW1lID1cbiAgICAgICAgICAgICAgICBpID09PSBob29rVHlwZXNVcGRhdGVJbmRleERldiA/IGhvb2tOYW1lIDogb2xkSG9va05hbWU7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBvbGRIb29rTmFtZSA9IGkgKyAxICsgXCIuIFwiICsgb2xkSG9va05hbWU7XG4gICAgICAgICAgICAgIDMwID4gb2xkSG9va05hbWUubGVuZ3RoO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIG9sZEhvb2tOYW1lICs9IFwiIFwiO1xuICAgICAgICAgICAgb2xkSG9va05hbWUgKz0gbmV3SG9va05hbWUgKyBcIlxcblwiO1xuICAgICAgICAgICAgdGFibGUgKz0gb2xkSG9va05hbWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IGhhcyBkZXRlY3RlZCBhIGNoYW5nZSBpbiB0aGUgb3JkZXIgb2YgSG9va3MgY2FsbGVkIGJ5ICVzLiBUaGlzIHdpbGwgbGVhZCB0byBidWdzIGFuZCBlcnJvcnMgaWYgbm90IGZpeGVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcmVhZCB0aGUgUnVsZXMgb2YgSG9va3M6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcnVsZXMtb2YtaG9va3NcXG5cXG4gICBQcmV2aW91cyByZW5kZXIgICAgICAgICAgICBOZXh0IHJlbmRlclxcbiAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxcbiVzICAgXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXFxuXCIsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgdGFibGVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gZGVwcyB8fFxuICAgICAgICBudWxsID09PSBkZXBzIHx8XG4gICAgICAgIGlzQXJyYXlJbXBsKGRlcHMpIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyByZWNlaXZlZCBhIGZpbmFsIGFyZ3VtZW50IHRoYXQgaXMgbm90IGFuIGFycmF5IChpbnN0ZWFkLCByZWNlaXZlZCBgJXNgKS4gV2hlbiBzcGVjaWZpZWQsIHRoZSBmaW5hbCBhcmd1bWVudCBtdXN0IGJlIGFuIGFycmF5LlwiLFxuICAgICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2LFxuICAgICAgICAgIHR5cGVvZiBkZXBzXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEpO1xuICAgICAgZGlkV2FybkFib3V0VXNlRm9ybVN0YXRlLmhhcyhjb21wb25lbnROYW1lKSB8fFxuICAgICAgICAoZGlkV2FybkFib3V0VXNlRm9ybVN0YXRlLmFkZChjb21wb25lbnROYW1lKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0RE9NLnVzZUZvcm1TdGF0ZSBoYXMgYmVlbiByZW5hbWVkIHRvIFJlYWN0LnVzZUFjdGlvblN0YXRlLiBQbGVhc2UgdXBkYXRlICVzIHRvIHVzZSBSZWFjdC51c2VBY3Rpb25TdGF0ZS5cIixcbiAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0ludmFsaWRIb29rRXJyb3IoKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFyZUhvb2tJbnB1dHNFcXVhbChuZXh0RGVwcywgcHJldkRlcHMpIHtcbiAgICAgIGlmIChpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcykgcmV0dXJuICExO1xuICAgICAgaWYgKG51bGwgPT09IHByZXZEZXBzKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIHJlY2VpdmVkIGEgZmluYWwgYXJndW1lbnQgZHVyaW5nIHRoaXMgcmVuZGVyLCBidXQgbm90IGR1cmluZyB0aGUgcHJldmlvdXMgcmVuZGVyLiBFdmVuIHRob3VnaCB0aGUgZmluYWwgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGl0cyB0eXBlIGNhbm5vdCBjaGFuZ2UgYmV0d2VlbiByZW5kZXJzLlwiLFxuICAgICAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXZcbiAgICAgICAgICApLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgICBuZXh0RGVwcy5sZW5ndGggIT09IHByZXZEZXBzLmxlbmd0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIGZpbmFsIGFyZ3VtZW50IHBhc3NlZCB0byAlcyBjaGFuZ2VkIHNpemUgYmV0d2VlbiByZW5kZXJzLiBUaGUgb3JkZXIgYW5kIHNpemUgb2YgdGhpcyBhcnJheSBtdXN0IHJlbWFpbiBjb25zdGFudC5cXG5cXG5QcmV2aW91czogJXNcXG5JbmNvbWluZzogJXNcIixcbiAgICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldixcbiAgICAgICAgICBcIltcIiArIHByZXZEZXBzLmpvaW4oXCIsIFwiKSArIFwiXVwiLFxuICAgICAgICAgIFwiW1wiICsgbmV4dERlcHMuam9pbihcIiwgXCIpICsgXCJdXCJcbiAgICAgICAgKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldkRlcHMubGVuZ3RoICYmIGkgPCBuZXh0RGVwcy5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCFvYmplY3RJcyhuZXh0RGVwc1tpXSwgcHJldkRlcHNbaV0pKSByZXR1cm4gITE7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlcldpdGhIb29rcyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIHByb3BzLFxuICAgICAgc2Vjb25kQXJnLFxuICAgICAgbmV4dFJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICByZW5kZXJMYW5lcyA9IG5leHRSZW5kZXJMYW5lcztcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIGhvb2tUeXBlc0RldiA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Ll9kZWJ1Z0hvb2tUeXBlcyA6IG51bGw7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIGN1cnJlbnQudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXCIgPT09XG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKENvbXBvbmVudCkgfHxcbiAgICAgICAgXCJbb2JqZWN0IEFzeW5jR2VuZXJhdG9yRnVuY3Rpb25dXCIgPT09XG4gICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKENvbXBvbmVudClcbiAgICAgIClcbiAgICAgICAgKG5leHRSZW5kZXJMYW5lcyA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoXG4gICAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMVxuICAgICAgICApKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRBc3luY0NsaWVudENvbXBvbmVudC5oYXMobmV4dFJlbmRlckxhbmVzKSB8fFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50LmFkZChuZXh0UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJhc3luYy9hd2FpdCBpcyBub3QgeWV0IHN1cHBvcnRlZCBpbiBDbGllbnQgQ29tcG9uZW50cywgb25seSBTZXJ2ZXIgQ29tcG9uZW50cy4gVGhpcyBlcnJvciBpcyBvZnRlbiBjYXVzZWQgYnkgYWNjaWRlbnRhbGx5IGFkZGluZyBgJ3VzZSBjbGllbnQnYCB0byBhIG1vZHVsZSB0aGF0IHdhcyBvcmlnaW5hbGx5IHdyaXR0ZW4gZm9yIHRoZSBzZXJ2ZXIuXCJcbiAgICAgICAgICAgICkpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDA7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICA/IEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVZcbiAgICAgICAgICA6IG51bGwgIT09IGhvb2tUeXBlc0RldlxuICAgICAgICAgICAgPyBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWXG4gICAgICAgICAgICA6IEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgIHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWID0gbmV4dFJlbmRlckxhbmVzID1cbiAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSAhPT0gTm9Nb2RlO1xuICAgICAgdmFyIGNoaWxkcmVuID0gY2FsbENvbXBvbmVudEluREVWKENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZyk7XG4gICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViA9ICExO1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzICYmXG4gICAgICAgIChjaGlsZHJlbiA9IHJlbmRlcldpdGhIb29rc0FnYWluKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBzZWNvbmRBcmdcbiAgICAgICAgKSk7XG4gICAgICBpZiAobmV4dFJlbmRlckxhbmVzKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjaGlsZHJlbiA9IHJlbmRlcldpdGhIb29rc0FnYWluKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHNlY29uZEFyZ1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmaW5pc2hSZW5kZXJpbmdIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmlzaFJlbmRlcmluZ0hvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdIb29rVHlwZXMgPSBob29rVHlwZXNEZXY7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXNcbiAgICAgICAgPyBudWxsICE9PSB0aGVuYWJsZVN0YXRlICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IHtcbiAgICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgICAgZmlyc3RDb250ZXh0OiBudWxsLFxuICAgICAgICAgICAgX2RlYnVnVGhlbmFibGVTdGF0ZTogdGhlbmFibGVTdGF0ZVxuICAgICAgICAgIH0pXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcy5fZGVidWdUaGVuYWJsZVN0YXRlID0gdGhlbmFibGVTdGF0ZSk7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICAgICAgdmFyIGRpZFJlbmRlclRvb0Zld0hvb2tzID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudEhvb2sgJiYgbnVsbCAhPT0gY3VycmVudEhvb2submV4dDtcbiAgICAgIHJlbmRlckxhbmVzID0gMDtcbiAgICAgIGhvb2tUeXBlc0RldiA9XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID1cbiAgICAgICAgY3VycmVudEhvb2sgPVxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID1cbiAgICAgICAgICBudWxsO1xuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKGN1cnJlbnQuZmxhZ3MgJiAzMTQ1NzI4MCkgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDMxNDU3MjgwKSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgZXJyb3I6IEV4cGVjdGVkIHN0YXRpYyBmbGFnIHdhcyBtaXNzaW5nLiBQbGVhc2Ugbm90aWZ5IHRoZSBSZWFjdCB0ZWFtLlwiXG4gICAgICAgICk7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITE7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IDA7XG4gICAgICB0aGVuYWJsZVN0YXRlID0gbnVsbDtcbiAgICAgIGlmIChkaWRSZW5kZXJUb29GZXdIb29rcylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJSZW5kZXJlZCBmZXdlciBob29rcyB0aGFuIGV4cGVjdGVkLiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgYW4gYWNjaWRlbnRhbCBlYXJseSByZXR1cm4gc3RhdGVtZW50LlwiXG4gICAgICAgICk7XG4gICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgfHxcbiAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5kZXBlbmRlbmNpZXMpLFxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnQpICYmXG4gICAgICAgICAgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCkpO1xuICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVZcbiAgICAgICAgPyAoKG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITEpLCAoY3VycmVudCA9ICEwKSlcbiAgICAgICAgOiAoY3VycmVudCA9ICExKTtcbiAgICAgIGN1cnJlbnQgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRVc2VXcmFwcGVkSW5UcnlDYXRjaC5oYXMod29ya0luUHJvZ3Jlc3MpIHx8XG4gICAgICAgICAgZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQuaGFzKHdvcmtJblByb2dyZXNzKSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRVc2VXcmFwcGVkSW5UcnlDYXRjaC5hZGQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImB1c2VgIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSB0cnkvY2F0Y2ggYmxvY2suIFRoaXMgaXMgbm90IGFsbG93ZWQgYW5kIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuIFRvIGhhbmRsZSBlcnJvcnMgdHJpZ2dlcmVkIGJ5IGB1c2VgLCB3cmFwIHlvdXIgY29tcG9uZW50IGluIGEgZXJyb3IgYm91bmRhcnkuXCJcbiAgICAgICAgICApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlcldpdGhIb29rc0FnYWluKHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHByb3BzLCBzZWNvbmRBcmcpIHtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHZhciBudW1iZXJPZlJlUmVuZGVycyA9IDA7XG4gICAgICBkbyB7XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyAmJiAodGhlbmFibGVTdGF0ZSA9IG51bGwpO1xuICAgICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IDA7XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9ICExO1xuICAgICAgICBpZiAobnVtYmVyT2ZSZVJlbmRlcnMgPj0gUkVfUkVOREVSX0xJTUlUKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJUb28gbWFueSByZS1yZW5kZXJzLiBSZWFjdCBsaW1pdHMgdGhlIG51bWJlciBvZiByZW5kZXJzIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIG51bWJlck9mUmVSZW5kZXJzICs9IDE7XG4gICAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID0gITE7XG4gICAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9IGN1cnJlbnRIb29rID0gbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUpIHtcbiAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBjaGlsZHJlbi5sYXN0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICBjaGlsZHJlbi5ldmVudHMgPSBudWxsO1xuICAgICAgICAgIGNoaWxkcmVuLnN0b3JlcyA9IG51bGw7XG4gICAgICAgICAgbnVsbCAhPSBjaGlsZHJlbi5tZW1vQ2FjaGUgJiYgKGNoaWxkcmVuLm1lbW9DYWNoZS5pbmRleCA9IDApO1xuICAgICAgICB9XG4gICAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIGNoaWxkcmVuID0gY2FsbENvbXBvbmVudEluREVWKENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZyk7XG4gICAgICB9IHdoaWxlIChkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MpO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBUcmFuc2l0aW9uQXdhcmVIb3N0Q29tcG9uZW50KCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5ILFxuICAgICAgICBtYXliZVRoZW5hYmxlID0gZGlzcGF0Y2hlci51c2VTdGF0ZSgpWzBdO1xuICAgICAgbWF5YmVUaGVuYWJsZSA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlVGhlbmFibGUudGhlblxuICAgICAgICAgID8gdXNlVGhlbmFibGUobWF5YmVUaGVuYWJsZSlcbiAgICAgICAgICA6IG1heWJlVGhlbmFibGU7XG4gICAgICBkaXNwYXRjaGVyID0gZGlzcGF0Y2hlci51c2VTdGF0ZSgpWzBdO1xuICAgICAgKG51bGwgIT09IGN1cnJlbnRIb29rID8gY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSA6IG51bGwpICE9PVxuICAgICAgICBkaXNwYXRjaGVyICYmIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IDEwMjQpO1xuICAgICAgcmV0dXJuIG1heWJlVGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRGlkUmVuZGVySWRIb29rKCkge1xuICAgICAgdmFyIGRpZFJlbmRlcklkSG9vayA9IDAgIT09IGxvY2FsSWRDb3VudGVyO1xuICAgICAgbG9jYWxJZENvdW50ZXIgPSAwO1xuICAgICAgcmV0dXJuIGRpZFJlbmRlcklkSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gYmFpbG91dEhvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBsYW5lcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgPVxuICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlXG4gICAgICAgICAgPyB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIC0yMDEzMjg2NDVcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzLmZsYWdzICYgLTIwNTM7XG4gICAgICBjdXJyZW50LmxhbmVzICY9IH5sYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRIb29rc09uVW53aW5kKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBpZiAoZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcztcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy5xdWV1ZTtcbiAgICAgICAgICBudWxsICE9PSBxdWV1ZSAmJiAocXVldWUucGVuZGluZyA9IG51bGwpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITE7XG4gICAgICB9XG4gICAgICByZW5kZXJMYW5lcyA9IDA7XG4gICAgICBob29rVHlwZXNEZXYgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICBjdXJyZW50SG9vayA9XG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPVxuICAgICAgICAgIG51bGw7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBudWxsO1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID0gITE7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IGxvY2FsSWRDb3VudGVyID0gMDtcbiAgICAgIHRoZW5hYmxlU3RhdGUgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpIHtcbiAgICAgIHZhciBob29rID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBudWxsLFxuICAgICAgICBiYXNlU3RhdGU6IG51bGwsXG4gICAgICAgIGJhc2VRdWV1ZTogbnVsbCxcbiAgICAgICAgcXVldWU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc0hvb2tcbiAgICAgICAgPyAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tZW1vaXplZFN0YXRlID0gd29ya0luUHJvZ3Jlc3NIb29rID0gaG9vaylcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NIb29rID0gd29ya0luUHJvZ3Jlc3NIb29rLm5leHQgPSBob29rKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc0hvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50SG9vaykge1xuICAgICAgICB2YXIgbmV4dEN1cnJlbnRIb29rID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5hbHRlcm5hdGU7XG4gICAgICAgIG5leHRDdXJyZW50SG9vayA9XG4gICAgICAgICAgbnVsbCAhPT0gbmV4dEN1cnJlbnRIb29rID8gbmV4dEN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUgOiBudWxsO1xuICAgICAgfSBlbHNlIG5leHRDdXJyZW50SG9vayA9IGN1cnJlbnRIb29rLm5leHQ7XG4gICAgICB2YXIgbmV4dFdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICAgID8gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc0hvb2submV4dDtcbiAgICAgIGlmIChudWxsICE9PSBuZXh0V29ya0luUHJvZ3Jlc3NIb29rKVxuICAgICAgICAod29ya0luUHJvZ3Jlc3NIb29rID0gbmV4dFdvcmtJblByb2dyZXNzSG9vayksXG4gICAgICAgICAgKGN1cnJlbnRIb29rID0gbmV4dEN1cnJlbnRIb29rKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAobnVsbCA9PT0gbmV4dEN1cnJlbnRIb29rKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuYWx0ZXJuYXRlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiVXBkYXRlIGhvb2sgY2FsbGVkIG9uIGluaXRpYWwgcmVuZGVyLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJSZW5kZXJlZCBtb3JlIGhvb2tzIHRoYW4gZHVyaW5nIHRoZSBwcmV2aW91cyByZW5kZXIuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRIb29rID0gbmV4dEN1cnJlbnRIb29rO1xuICAgICAgICBuZXh0Q3VycmVudEhvb2sgPSB7XG4gICAgICAgICAgbWVtb2l6ZWRTdGF0ZTogY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICBiYXNlU3RhdGU6IGN1cnJlbnRIb29rLmJhc2VTdGF0ZSxcbiAgICAgICAgICBiYXNlUXVldWU6IGN1cnJlbnRIb29rLmJhc2VRdWV1ZSxcbiAgICAgICAgICBxdWV1ZTogY3VycmVudEhvb2sucXVldWUsXG4gICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc0hvb2tcbiAgICAgICAgICA/IChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1lbW9pemVkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICAgICAgICBuZXh0Q3VycmVudEhvb2spXG4gICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NIb29rID0gd29ya0luUHJvZ3Jlc3NIb29rLm5leHQgPSBuZXh0Q3VycmVudEhvb2spO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlVGhlbmFibGUodGhlbmFibGUpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoZW5hYmxlSW5kZXhDb3VudGVyO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgKz0gMTtcbiAgICAgIG51bGwgPT09IHRoZW5hYmxlU3RhdGUgJiYgKHRoZW5hYmxlU3RhdGUgPSBjcmVhdGVUaGVuYWJsZVN0YXRlKCkpO1xuICAgICAgdGhlbmFibGUgPSB0cmFja1VzZWRUaGVuYWJsZSh0aGVuYWJsZVN0YXRlLCB0aGVuYWJsZSwgaW5kZXgpO1xuICAgICAgaW5kZXggPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxO1xuICAgICAgbnVsbCA9PT1cbiAgICAgICAgKG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICAgID8gaW5kZXgubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3NIb29rLm5leHQpICYmXG4gICAgICAgICgoaW5kZXggPSBpbmRleC5hbHRlcm5hdGUpLFxuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9XG4gICAgICAgICAgbnVsbCAhPT0gaW5kZXggJiYgbnVsbCAhPT0gaW5kZXgubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWXG4gICAgICAgICAgICA6IEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVikpO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2UodXNhYmxlKSB7XG4gICAgICBpZiAobnVsbCAhPT0gdXNhYmxlICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiB1c2FibGUpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHVzYWJsZS50aGVuKSByZXR1cm4gdXNlVGhlbmFibGUodXNhYmxlKTtcbiAgICAgICAgaWYgKHVzYWJsZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKSByZXR1cm4gcmVhZENvbnRleHQodXNhYmxlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFwiQW4gdW5zdXBwb3J0ZWQgdHlwZSB3YXMgcGFzc2VkIHRvIHVzZSgpOiBcIiArIFN0cmluZyh1c2FibGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlTWVtb0NhY2hlKHNpemUpIHtcbiAgICAgIHZhciBtZW1vQ2FjaGUgPSBudWxsLFxuICAgICAgICB1cGRhdGVRdWV1ZSA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWU7XG4gICAgICBudWxsICE9PSB1cGRhdGVRdWV1ZSAmJiAobWVtb0NhY2hlID0gdXBkYXRlUXVldWUubWVtb0NhY2hlKTtcbiAgICAgIGlmIChudWxsID09IG1lbW9DYWNoZSkge1xuICAgICAgICB2YXIgY3VycmVudCA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuYWx0ZXJuYXRlO1xuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5tZW1vQ2FjaGUpLFxuICAgICAgICAgICAgbnVsbCAhPSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIChtZW1vQ2FjaGUgPSB7XG4gICAgICAgICAgICAgICAgZGF0YTogY3VycmVudC5kYXRhLm1hcChmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheS5zbGljZSgpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGluZGV4OiAwXG4gICAgICAgICAgICAgIH0pKSk7XG4gICAgICB9XG4gICAgICBudWxsID09IG1lbW9DYWNoZSAmJiAobWVtb0NhY2hlID0geyBkYXRhOiBbXSwgaW5kZXg6IDAgfSk7XG4gICAgICBudWxsID09PSB1cGRhdGVRdWV1ZSAmJlxuICAgICAgICAoKHVwZGF0ZVF1ZXVlID0gY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSgpKSxcbiAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWUgPSB1cGRhdGVRdWV1ZSkpO1xuICAgICAgdXBkYXRlUXVldWUubWVtb0NhY2hlID0gbWVtb0NhY2hlO1xuICAgICAgdXBkYXRlUXVldWUgPSBtZW1vQ2FjaGUuZGF0YVttZW1vQ2FjaGUuaW5kZXhdO1xuICAgICAgaWYgKHZvaWQgMCA9PT0gdXBkYXRlUXVldWUgfHwgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdXBkYXRlUXVldWUgPSBtZW1vQ2FjaGUuZGF0YVttZW1vQ2FjaGUuaW5kZXhdID0gQXJyYXkoc2l6ZSksXG4gICAgICAgICAgICBjdXJyZW50ID0gMDtcbiAgICAgICAgICBjdXJyZW50IDwgc2l6ZTtcbiAgICAgICAgICBjdXJyZW50KytcbiAgICAgICAgKVxuICAgICAgICAgIHVwZGF0ZVF1ZXVlW2N1cnJlbnRdID0gUkVBQ1RfTUVNT19DQUNIRV9TRU5USU5FTDtcbiAgICAgIGVsc2VcbiAgICAgICAgdXBkYXRlUXVldWUubGVuZ3RoICE9PSBzaXplICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSBjb25zdGFudCBzaXplIGFyZ3VtZW50IGZvciBlYWNoIGludm9jYXRpb24gb2YgdXNlTWVtb0NhY2hlLiBUaGUgcHJldmlvdXMgY2FjaGUgd2FzIGFsbG9jYXRlZCB3aXRoIHNpemUgJXMgYnV0IHNpemUgJXMgd2FzIHJlcXVlc3RlZC5cIixcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLmxlbmd0aCxcbiAgICAgICAgICAgIHNpemVcbiAgICAgICAgICApO1xuICAgICAgbWVtb0NhY2hlLmluZGV4Kys7XG4gICAgICByZXR1cm4gdXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhc2ljU3RhdGVSZWR1Y2VyKHN0YXRlLCBhY3Rpb24pIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb24gPyBhY3Rpb24oc3RhdGUpIDogYWN0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gaW5pdCkge1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlID0gaW5pdChpbml0aWFsQXJnKTtcbiAgICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbml0KGluaXRpYWxBcmcpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaW5pdGlhbFN0YXRlID0gaW5pdGlhbEFyZztcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGhvb2suYmFzZVN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgICAgcmVkdWNlciA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiByZWR1Y2VyLFxuICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFN0YXRlXG4gICAgICB9O1xuICAgICAgaG9vay5xdWV1ZSA9IHJlZHVjZXI7XG4gICAgICByZWR1Y2VyID0gcmVkdWNlci5kaXNwYXRjaCA9IGRpc3BhdGNoUmVkdWNlckFjdGlvbi5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICByZWR1Y2VyXG4gICAgICApO1xuICAgICAgcmV0dXJuIFtob29rLm1lbW9pemVkU3RhdGUsIHJlZHVjZXJdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlUmVkdWNlckltcGwoaG9vaywgY3VycmVudEhvb2ssIHJlZHVjZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVSZWR1Y2VySW1wbChob29rLCBjdXJyZW50LCByZWR1Y2VyKSB7XG4gICAgICB2YXIgcXVldWUgPSBob29rLnF1ZXVlO1xuICAgICAgaWYgKG51bGwgPT09IHF1ZXVlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlNob3VsZCBoYXZlIGEgcXVldWUuIFlvdSBhcmUgbGlrZWx5IGNhbGxpbmcgSG9va3MgY29uZGl0aW9uYWxseSwgd2hpY2ggaXMgbm90IGFsbG93ZWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsKVwiXG4gICAgICAgICk7XG4gICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgICAgIHZhciBiYXNlUXVldWUgPSBob29rLmJhc2VRdWV1ZSxcbiAgICAgICAgcGVuZGluZ1F1ZXVlID0gcXVldWUucGVuZGluZztcbiAgICAgIGlmIChudWxsICE9PSBwZW5kaW5nUXVldWUpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGJhc2VRdWV1ZSkge1xuICAgICAgICAgIHZhciBiYXNlRmlyc3QgPSBiYXNlUXVldWUubmV4dDtcbiAgICAgICAgICBiYXNlUXVldWUubmV4dCA9IHBlbmRpbmdRdWV1ZS5uZXh0O1xuICAgICAgICAgIHBlbmRpbmdRdWV1ZS5uZXh0ID0gYmFzZUZpcnN0O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQuYmFzZVF1ZXVlICE9PSBiYXNlUXVldWUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnRlcm5hbCBlcnJvcjogRXhwZWN0ZWQgd29yay1pbi1wcm9ncmVzcyBxdWV1ZSB0byBiZSBhIGNsb25lLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudC5iYXNlUXVldWUgPSBiYXNlUXVldWUgPSBwZW5kaW5nUXVldWU7XG4gICAgICAgIHF1ZXVlLnBlbmRpbmcgPSBudWxsO1xuICAgICAgfVxuICAgICAgcGVuZGluZ1F1ZXVlID0gaG9vay5iYXNlU3RhdGU7XG4gICAgICBpZiAobnVsbCA9PT0gYmFzZVF1ZXVlKSBob29rLm1lbW9pemVkU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3VycmVudCA9IGJhc2VRdWV1ZS5uZXh0O1xuICAgICAgICB2YXIgbmV3QmFzZVF1ZXVlRmlyc3QgPSAoYmFzZUZpcnN0ID0gbnVsbCksXG4gICAgICAgICAgbmV3QmFzZVF1ZXVlTGFzdCA9IG51bGwsXG4gICAgICAgICAgdXBkYXRlID0gY3VycmVudCxcbiAgICAgICAgICBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITE7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB2YXIgdXBkYXRlTGFuZSA9IHVwZGF0ZS5sYW5lICYgLTUzNjg3MDkxMztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB1cGRhdGVMYW5lICE9PSB1cGRhdGUubGFuZVxuICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIHVwZGF0ZUxhbmUpID09PSB1cGRhdGVMYW5lXG4gICAgICAgICAgICAgIDogKHJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciByZXZlcnRMYW5lID0gdXBkYXRlLnJldmVydExhbmU7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcmV2ZXJ0TGFuZSlcbiAgICAgICAgICAgICAgbnVsbCAhPT0gbmV3QmFzZVF1ZXVlTGFzdCAmJlxuICAgICAgICAgICAgICAgIChuZXdCYXNlUXVldWVMYXN0ID0gbmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID1cbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZTogMCxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJ0TGFuZTogMCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB1cGRhdGUuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBoYXNFYWdlclN0YXRlOiB1cGRhdGUuaGFzRWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZWFnZXJTdGF0ZTogdXBkYXRlLmVhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHVwZGF0ZUxhbmUgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgICAgICAgICAgICAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICEwKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKChyZW5kZXJMYW5lcyAmIHJldmVydExhbmUpID09PSByZXZlcnRMYW5lKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICAgICAgICAgICAgICByZXZlcnRMYW5lID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICAgICAgICAgIChkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITApO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAodXBkYXRlTGFuZSA9IHtcbiAgICAgICAgICAgICAgICBsYW5lOiAwLFxuICAgICAgICAgICAgICAgIHJldmVydExhbmU6IHVwZGF0ZS5yZXZlcnRMYW5lLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogdXBkYXRlLmFjdGlvbixcbiAgICAgICAgICAgICAgICBoYXNFYWdlclN0YXRlOiB1cGRhdGUuaGFzRWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICBlYWdlclN0YXRlOiB1cGRhdGUuZWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG51bGwgPT09IG5ld0Jhc2VRdWV1ZUxhc3RcbiAgICAgICAgICAgICAgICAgID8gKChuZXdCYXNlUXVldWVGaXJzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QgPSB1cGRhdGVMYW5lKSxcbiAgICAgICAgICAgICAgICAgICAgKGJhc2VGaXJzdCA9IHBlbmRpbmdRdWV1ZSkpXG4gICAgICAgICAgICAgICAgICA6IChuZXdCYXNlUXVldWVMYXN0ID0gbmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID0gdXBkYXRlTGFuZSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubGFuZXMgfD0gcmV2ZXJ0TGFuZSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSByZXZlcnRMYW5lKTtcbiAgICAgICAgICAgIHVwZGF0ZUxhbmUgPSB1cGRhdGUuYWN0aW9uO1xuICAgICAgICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgJiZcbiAgICAgICAgICAgICAgcmVkdWNlcihwZW5kaW5nUXVldWUsIHVwZGF0ZUxhbmUpO1xuICAgICAgICAgICAgcGVuZGluZ1F1ZXVlID0gdXBkYXRlLmhhc0VhZ2VyU3RhdGVcbiAgICAgICAgICAgICAgPyB1cGRhdGUuZWFnZXJTdGF0ZVxuICAgICAgICAgICAgICA6IHJlZHVjZXIocGVuZGluZ1F1ZXVlLCB1cGRhdGVMYW5lKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChyZXZlcnRMYW5lID0ge1xuICAgICAgICAgICAgICBsYW5lOiB1cGRhdGVMYW5lLFxuICAgICAgICAgICAgICByZXZlcnRMYW5lOiB1cGRhdGUucmV2ZXJ0TGFuZSxcbiAgICAgICAgICAgICAgYWN0aW9uOiB1cGRhdGUuYWN0aW9uLFxuICAgICAgICAgICAgICBoYXNFYWdlclN0YXRlOiB1cGRhdGUuaGFzRWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgZWFnZXJTdGF0ZTogdXBkYXRlLmVhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBudWxsID09PSBuZXdCYXNlUXVldWVMYXN0XG4gICAgICAgICAgICAgICAgPyAoKG5ld0Jhc2VRdWV1ZUZpcnN0ID0gbmV3QmFzZVF1ZXVlTGFzdCA9IHJldmVydExhbmUpLFxuICAgICAgICAgICAgICAgICAgKGJhc2VGaXJzdCA9IHBlbmRpbmdRdWV1ZSkpXG4gICAgICAgICAgICAgICAgOiAobmV3QmFzZVF1ZXVlTGFzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QubmV4dCA9IHJldmVydExhbmUpLFxuICAgICAgICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSB1cGRhdGVMYW5lKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSB1cGRhdGVMYW5lKTtcbiAgICAgICAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgICAgICAgfSB3aGlsZSAobnVsbCAhPT0gdXBkYXRlICYmIHVwZGF0ZSAhPT0gY3VycmVudCk7XG4gICAgICAgIG51bGwgPT09IG5ld0Jhc2VRdWV1ZUxhc3RcbiAgICAgICAgICA/IChiYXNlRmlyc3QgPSBwZW5kaW5nUXVldWUpXG4gICAgICAgICAgOiAobmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID0gbmV3QmFzZVF1ZXVlRmlyc3QpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIW9iamVjdElzKHBlbmRpbmdRdWV1ZSwgaG9vay5tZW1vaXplZFN0YXRlKSAmJlxuICAgICAgICAgICgoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSxcbiAgICAgICAgICBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uICYmXG4gICAgICAgICAgICAoKHJlZHVjZXIgPSBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUpLCBudWxsICE9PSByZWR1Y2VyKSlcbiAgICAgICAgKVxuICAgICAgICAgIHRocm93IHJlZHVjZXI7XG4gICAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgaG9vay5iYXNlU3RhdGUgPSBiYXNlRmlyc3Q7XG4gICAgICAgIGhvb2suYmFzZVF1ZXVlID0gbmV3QmFzZVF1ZXVlTGFzdDtcbiAgICAgICAgcXVldWUubGFzdFJlbmRlcmVkU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICB9XG4gICAgICBudWxsID09PSBiYXNlUXVldWUgJiYgKHF1ZXVlLmxhbmVzID0gMCk7XG4gICAgICByZXR1cm4gW2hvb2subWVtb2l6ZWRTdGF0ZSwgcXVldWUuZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlclJlZHVjZXIocmVkdWNlcikge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgcXVldWUgPSBob29rLnF1ZXVlO1xuICAgICAgaWYgKG51bGwgPT09IHF1ZXVlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlNob3VsZCBoYXZlIGEgcXVldWUuIFlvdSBhcmUgbGlrZWx5IGNhbGxpbmcgSG9va3MgY29uZGl0aW9uYWxseSwgd2hpY2ggaXMgbm90IGFsbG93ZWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsKVwiXG4gICAgICAgICk7XG4gICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRSZWR1Y2VyID0gcmVkdWNlcjtcbiAgICAgIHZhciBkaXNwYXRjaCA9IHF1ZXVlLmRpc3BhdGNoLFxuICAgICAgICBsYXN0UmVuZGVyUGhhc2VVcGRhdGUgPSBxdWV1ZS5wZW5kaW5nLFxuICAgICAgICBuZXdTdGF0ZSA9IGhvb2subWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBsYXN0UmVuZGVyUGhhc2VVcGRhdGUpIHtcbiAgICAgICAgcXVldWUucGVuZGluZyA9IG51bGw7XG4gICAgICAgIHZhciB1cGRhdGUgPSAobGFzdFJlbmRlclBoYXNlVXBkYXRlID0gbGFzdFJlbmRlclBoYXNlVXBkYXRlLm5leHQpO1xuICAgICAgICBkb1xuICAgICAgICAgIChuZXdTdGF0ZSA9IHJlZHVjZXIobmV3U3RhdGUsIHVwZGF0ZS5hY3Rpb24pKSwgKHVwZGF0ZSA9IHVwZGF0ZS5uZXh0KTtcbiAgICAgICAgd2hpbGUgKHVwZGF0ZSAhPT0gbGFzdFJlbmRlclBoYXNlVXBkYXRlKTtcbiAgICAgICAgb2JqZWN0SXMobmV3U3RhdGUsIGhvb2subWVtb2l6ZWRTdGF0ZSkgfHwgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCk7XG4gICAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBudWxsID09PSBob29rLmJhc2VRdWV1ZSAmJiAoaG9vay5iYXNlU3RhdGUgPSBuZXdTdGF0ZSk7XG4gICAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gW25ld1N0YXRlLCBkaXNwYXRjaF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpIHtcbiAgICAgIHZhciBmaWJlciA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IGdldFNlcnZlclNuYXBzaG90KVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJNaXNzaW5nIGdldFNlcnZlclNuYXBzaG90LCB3aGljaCBpcyByZXF1aXJlZCBmb3Igc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFdpbGwgcmV2ZXJ0IHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICApO1xuICAgICAgICB2YXIgbmV4dFNuYXBzaG90ID0gZ2V0U2VydmVyU25hcHNob3QoKTtcbiAgICAgICAgZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgfHxcbiAgICAgICAgICBuZXh0U25hcHNob3QgPT09IGdldFNlcnZlclNuYXBzaG90KCkgfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHJlc3VsdCBvZiBnZXRTZXJ2ZXJTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcIlxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gITApKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRTbmFwc2hvdCA9IGdldFNuYXBzaG90KCk7XG4gICAgICAgIGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90IHx8XG4gICAgICAgICAgKChnZXRTZXJ2ZXJTbmFwc2hvdCA9IGdldFNuYXBzaG90KCkpLFxuICAgICAgICAgIG9iamVjdElzKG5leHRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpIHx8XG4gICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gITApKSk7XG4gICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGEgd29yay1pbi1wcm9ncmVzcyByb290LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIDAgIT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDYwKSB8fFxuICAgICAgICAgIHB1c2hTdG9yZUNvbnNpc3RlbmN5Q2hlY2soZmliZXIsIGdldFNuYXBzaG90LCBuZXh0U25hcHNob3QpO1xuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gbmV4dFNuYXBzaG90O1xuICAgICAgZ2V0U2VydmVyU25hcHNob3QgPSB7IHZhbHVlOiBuZXh0U25hcHNob3QsIGdldFNuYXBzaG90OiBnZXRTbmFwc2hvdCB9O1xuICAgICAgaG9vay5xdWV1ZSA9IGdldFNlcnZlclNuYXBzaG90O1xuICAgICAgbW91bnRFZmZlY3QoXG4gICAgICAgIHN1YnNjcmliZVRvU3RvcmUuYmluZChudWxsLCBmaWJlciwgZ2V0U2VydmVyU25hcHNob3QsIHN1YnNjcmliZSksXG4gICAgICAgIFtzdWJzY3JpYmVdXG4gICAgICApO1xuICAgICAgZmliZXIuZmxhZ3MgfD0gMjA0ODtcbiAgICAgIHB1c2hFZmZlY3QoXG4gICAgICAgIEhhc0VmZmVjdCB8IFBhc3NpdmUsXG4gICAgICAgIHVwZGF0ZVN0b3JlSW5zdGFuY2UuYmluZChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90LFxuICAgICAgICAgIG5leHRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTbmFwc2hvdFxuICAgICAgICApLFxuICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5leHRTbmFwc2hvdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBnZXRTbmFwc2hvdCxcbiAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgKSB7XG4gICAgICB2YXIgZmliZXIgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGlzSHlkcmF0aW5nJGpzY29tcCQwID0gaXNIeWRyYXRpbmc7XG4gICAgICBpZiAoaXNIeWRyYXRpbmckanNjb21wJDApIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIk1pc3NpbmcgZ2V0U2VydmVyU25hcHNob3QsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gV2lsbCByZXZlcnQgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90ID0gZ2V0U2VydmVyU25hcHNob3QoKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICgoZ2V0U2VydmVyU25hcHNob3QgPSBnZXRTbmFwc2hvdCgpKSwgIWRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90KVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjYWNoZWRTbmFwc2hvdCA9IGdldFNuYXBzaG90KCk7XG4gICAgICAgIG9iamVjdElzKGdldFNlcnZlclNuYXBzaG90LCBjYWNoZWRTbmFwc2hvdCkgfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHJlc3VsdCBvZiBnZXRTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcIlxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90ID0gITApKTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgKGNhY2hlZFNuYXBzaG90ID0gIW9iamVjdElzKFxuICAgICAgICAgIChjdXJyZW50SG9vayB8fCBob29rKS5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICkpXG4gICAgICApXG4gICAgICAgIChob29rLm1lbW9pemVkU3RhdGUgPSBnZXRTZXJ2ZXJTbmFwc2hvdCksIChkaWRSZWNlaXZlVXBkYXRlID0gITApO1xuICAgICAgaG9vayA9IGhvb2sucXVldWU7XG4gICAgICB2YXIgY3JlYXRlID0gc3Vic2NyaWJlVG9TdG9yZS5iaW5kKG51bGwsIGZpYmVyLCBob29rLCBzdWJzY3JpYmUpO1xuICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIFtzdWJzY3JpYmVdKTtcbiAgICAgIGlmIChcbiAgICAgICAgaG9vay5nZXRTbmFwc2hvdCAhPT0gZ2V0U25hcHNob3QgfHxcbiAgICAgICAgY2FjaGVkU25hcHNob3QgfHxcbiAgICAgICAgKG51bGwgIT09IHdvcmtJblByb2dyZXNzSG9vayAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzSG9vay5tZW1vaXplZFN0YXRlLnRhZyAmIEhhc0VmZmVjdClcbiAgICAgICkge1xuICAgICAgICBmaWJlci5mbGFncyB8PSAyMDQ4O1xuICAgICAgICBwdXNoRWZmZWN0KFxuICAgICAgICAgIEhhc0VmZmVjdCB8IFBhc3NpdmUsXG4gICAgICAgICAgdXBkYXRlU3RvcmVJbnN0YW5jZS5iaW5kKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgaG9vayxcbiAgICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90LFxuICAgICAgICAgICAgZ2V0U25hcHNob3RcbiAgICAgICAgICApLFxuICAgICAgICAgIHsgZGVzdHJveTogdm9pZCAwIH0sXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290KVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhIHdvcmstaW4tcHJvZ3Jlc3Mgcm9vdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICBpc0h5ZHJhdGluZyRqc2NvbXAkMCB8fFxuICAgICAgICAgIDAgIT09IChyZW5kZXJMYW5lcyAmIDYwKSB8fFxuICAgICAgICAgIHB1c2hTdG9yZUNvbnNpc3RlbmN5Q2hlY2soZmliZXIsIGdldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hTdG9yZUNvbnNpc3RlbmN5Q2hlY2soZmliZXIsIGdldFNuYXBzaG90LCByZW5kZXJlZFNuYXBzaG90KSB7XG4gICAgICBmaWJlci5mbGFncyB8PSAxNjM4NDtcbiAgICAgIGZpYmVyID0geyBnZXRTbmFwc2hvdDogZ2V0U25hcHNob3QsIHZhbHVlOiByZW5kZXJlZFNuYXBzaG90IH07XG4gICAgICBnZXRTbmFwc2hvdCA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWU7XG4gICAgICBudWxsID09PSBnZXRTbmFwc2hvdFxuICAgICAgICA/ICgoZ2V0U25hcHNob3QgPSBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlKCkpLFxuICAgICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlID0gZ2V0U25hcHNob3QpLFxuICAgICAgICAgIChnZXRTbmFwc2hvdC5zdG9yZXMgPSBbZmliZXJdKSlcbiAgICAgICAgOiAoKHJlbmRlcmVkU25hcHNob3QgPSBnZXRTbmFwc2hvdC5zdG9yZXMpLFxuICAgICAgICAgIG51bGwgPT09IHJlbmRlcmVkU25hcHNob3RcbiAgICAgICAgICAgID8gKGdldFNuYXBzaG90LnN0b3JlcyA9IFtmaWJlcl0pXG4gICAgICAgICAgICA6IHJlbmRlcmVkU25hcHNob3QucHVzaChmaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTdG9yZUluc3RhbmNlKGZpYmVyLCBpbnN0LCBuZXh0U25hcHNob3QsIGdldFNuYXBzaG90KSB7XG4gICAgICBpbnN0LnZhbHVlID0gbmV4dFNuYXBzaG90O1xuICAgICAgaW5zdC5nZXRTbmFwc2hvdCA9IGdldFNuYXBzaG90O1xuICAgICAgY2hlY2tJZlNuYXBzaG90Q2hhbmdlZChpbnN0KSAmJiBmb3JjZVN0b3JlUmVyZW5kZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmVUb1N0b3JlKGZpYmVyLCBpbnN0LCBzdWJzY3JpYmUpIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpICYmIGZvcmNlU3RvcmVSZXJlbmRlcihmaWJlcik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJZlNuYXBzaG90Q2hhbmdlZChpbnN0KSB7XG4gICAgICB2YXIgbGF0ZXN0R2V0U25hcHNob3QgPSBpbnN0LmdldFNuYXBzaG90O1xuICAgICAgaW5zdCA9IGluc3QudmFsdWU7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbmV4dFZhbHVlID0gbGF0ZXN0R2V0U25hcHNob3QoKTtcbiAgICAgICAgcmV0dXJuICFvYmplY3RJcyhpbnN0LCBuZXh0VmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JjZVN0b3JlUmVyZW5kZXIoZmliZXIpIHtcbiAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdGF0ZUltcGwoaW5pdGlhbFN0YXRlKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGVJbml0aWFsaXplciA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gaW5pdGlhbFN0YXRlSW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbml0aWFsU3RhdGVJbml0aWFsaXplcigpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBob29rLmJhc2VTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgIGhvb2sucXVldWUgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYmFzaWNTdGF0ZVJlZHVjZXIsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVcbiAgICAgIH07XG4gICAgICByZXR1cm4gaG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpIHtcbiAgICAgIGluaXRpYWxTdGF0ZSA9IG1vdW50U3RhdGVJbXBsKGluaXRpYWxTdGF0ZSk7XG4gICAgICB2YXIgcXVldWUgPSBpbml0aWFsU3RhdGUucXVldWUsXG4gICAgICAgIGRpc3BhdGNoID0gZGlzcGF0Y2hTZXRTdGF0ZS5iaW5kKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgICBxdWV1ZVxuICAgICAgICApO1xuICAgICAgcXVldWUuZGlzcGF0Y2ggPSBkaXNwYXRjaDtcbiAgICAgIHJldHVybiBbaW5pdGlhbFN0YXRlLm1lbW9pemVkU3RhdGUsIGRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRPcHRpbWlzdGljKHBhc3N0aHJvdWdoKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBob29rLmJhc2VTdGF0ZSA9IHBhc3N0aHJvdWdoO1xuICAgICAgdmFyIHF1ZXVlID0ge1xuICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICBsYW5lczogMCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBudWxsXG4gICAgICB9O1xuICAgICAgaG9vay5xdWV1ZSA9IHF1ZXVlO1xuICAgICAgaG9vayA9IGRpc3BhdGNoT3B0aW1pc3RpY1NldFN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgICEwLFxuICAgICAgICBxdWV1ZVxuICAgICAgKTtcbiAgICAgIHF1ZXVlLmRpc3BhdGNoID0gaG9vaztcbiAgICAgIHJldHVybiBbcGFzc3Rocm91Z2gsIGhvb2tdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWNJbXBsKGhvb2ssIGN1cnJlbnRIb29rLCBwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGltaXN0aWNJbXBsKGhvb2ssIGN1cnJlbnQsIHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICBob29rLmJhc2VTdGF0ZSA9IHBhc3N0aHJvdWdoO1xuICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXJJbXBsKFxuICAgICAgICBob29rLFxuICAgICAgICBjdXJyZW50SG9vayxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVkdWNlciA/IHJlZHVjZXIgOiBiYXNpY1N0YXRlUmVkdWNlclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRIb29rKVxuICAgICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpY0ltcGwoaG9vaywgY3VycmVudEhvb2ssIHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICAgIGhvb2suYmFzZVN0YXRlID0gcGFzc3Rocm91Z2g7XG4gICAgICByZXR1cm4gW3Bhc3N0aHJvdWdoLCBob29rLnF1ZXVlLmRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hBY3Rpb25TdGF0ZShcbiAgICAgIGZpYmVyLFxuICAgICAgYWN0aW9uUXVldWUsXG4gICAgICBzZXRQZW5kaW5nU3RhdGUsXG4gICAgICBzZXRTdGF0ZSxcbiAgICAgIHBheWxvYWRcbiAgICApIHtcbiAgICAgIGlmIChpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGZvcm0gc3RhdGUgd2hpbGUgcmVuZGVyaW5nLlwiKTtcbiAgICAgIGZpYmVyID0gYWN0aW9uUXVldWUuYWN0aW9uO1xuICAgICAgaWYgKG51bGwgIT09IGZpYmVyKSB7XG4gICAgICAgIHZhciBhY3Rpb25Ob2RlID0ge1xuICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQsXG4gICAgICAgICAgYWN0aW9uOiBmaWJlcixcbiAgICAgICAgICBuZXh0OiBudWxsLFxuICAgICAgICAgIGlzVHJhbnNpdGlvbjogITAsXG4gICAgICAgICAgc3RhdHVzOiBcInBlbmRpbmdcIixcbiAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICByZWFzb246IG51bGwsXG4gICAgICAgICAgbGlzdGVuZXJzOiBbXSxcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGFjdGlvbk5vZGUubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVFxuICAgICAgICAgID8gc2V0UGVuZGluZ1N0YXRlKCEwKVxuICAgICAgICAgIDogKGFjdGlvbk5vZGUuaXNUcmFuc2l0aW9uID0gITEpO1xuICAgICAgICBzZXRTdGF0ZShhY3Rpb25Ob2RlKTtcbiAgICAgICAgc2V0UGVuZGluZ1N0YXRlID0gYWN0aW9uUXVldWUucGVuZGluZztcbiAgICAgICAgbnVsbCA9PT0gc2V0UGVuZGluZ1N0YXRlXG4gICAgICAgICAgPyAoKGFjdGlvbk5vZGUubmV4dCA9IGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBhY3Rpb25Ob2RlKSxcbiAgICAgICAgICAgIHJ1bkFjdGlvblN0YXRlQWN0aW9uKGFjdGlvblF1ZXVlLCBhY3Rpb25Ob2RlKSlcbiAgICAgICAgICA6ICgoYWN0aW9uTm9kZS5uZXh0ID0gc2V0UGVuZGluZ1N0YXRlLm5leHQpLFxuICAgICAgICAgICAgKGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBzZXRQZW5kaW5nU3RhdGUubmV4dCA9IGFjdGlvbk5vZGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuQWN0aW9uU3RhdGVBY3Rpb24oYWN0aW9uUXVldWUsIG5vZGUpIHtcbiAgICAgIHZhciBhY3Rpb24gPSBub2RlLmFjdGlvbixcbiAgICAgICAgcGF5bG9hZCA9IG5vZGUucGF5bG9hZCxcbiAgICAgICAgcHJldlN0YXRlID0gYWN0aW9uUXVldWUuc3RhdGU7XG4gICAgICBpZiAobm9kZS5pc1RyYW5zaXRpb24pIHtcbiAgICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQuX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gYWN0aW9uKHByZXZTdGF0ZSwgcGF5bG9hZCksXG4gICAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgaGFuZGxlQWN0aW9uUmV0dXJuVmFsdWUoYWN0aW9uUXVldWUsIG5vZGUsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBub2RlLCBlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbiksXG4gICAgICAgICAgICBudWxsID09PSBwcmV2VHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICAgICAoKGFjdGlvblF1ZXVlID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmNsZWFyKCksXG4gICAgICAgICAgICAgIDEwIDwgYWN0aW9uUXVldWUgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICBcIkRldGVjdGVkIGEgbGFyZ2UgbnVtYmVyIG9mIHVwZGF0ZXMgaW5zaWRlIHN0YXJ0VHJhbnNpdGlvbi4gSWYgdGhpcyBpcyBkdWUgdG8gYSBzdWJzY3JpcHRpb24gcGxlYXNlIHJlLXdyaXRlIGl0IHRvIHVzZSBSZWFjdCBwcm92aWRlZCBob29rcy4gT3RoZXJ3aXNlIGNvbmN1cnJlbnQgbW9kZSBndWFyYW50ZWVzIGFyZSBvZmYgdGhlIHRhYmxlLlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICB0cnkge1xuICAgICAgICAgIChjdXJyZW50VHJhbnNpdGlvbiA9IGFjdGlvbihwcmV2U3RhdGUsIHBheWxvYWQpKSxcbiAgICAgICAgICAgIGhhbmRsZUFjdGlvblJldHVyblZhbHVlKGFjdGlvblF1ZXVlLCBub2RlLCBjdXJyZW50VHJhbnNpdGlvbik7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yJDMpIHtcbiAgICAgICAgICBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBub2RlLCBlcnJvciQzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVBY3Rpb25SZXR1cm5WYWx1ZShhY3Rpb25RdWV1ZSwgbm9kZSwgcmV0dXJuVmFsdWUpIHtcbiAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW5cbiAgICAgICAgPyAocmV0dXJuVmFsdWUudGhlbihcbiAgICAgICAgICAgIGZ1bmN0aW9uIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgb25BY3Rpb25TdWNjZXNzKGFjdGlvblF1ZXVlLCBub2RlLCBuZXh0U3RhdGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gb25BY3Rpb25FcnJvcihhY3Rpb25RdWV1ZSwgbm9kZSwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICksXG4gICAgICAgICAgbm9kZS5pc1RyYW5zaXRpb24gfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQW4gYXN5bmMgZnVuY3Rpb24gd2FzIHBhc3NlZCB0byB1c2VBY3Rpb25TdGF0ZSwgYnV0IGl0IHdhcyBkaXNwYXRjaGVkIG91dHNpZGUgb2YgYW4gYWN0aW9uIGNvbnRleHQuIFRoaXMgaXMgbGlrZWx5IG5vdCB3aGF0IHlvdSBpbnRlbmRlZC4gRWl0aGVyIHBhc3MgdGhlIGRpc3BhdGNoIGZ1bmN0aW9uIHRvIGFuIGBhY3Rpb25gIHByb3AsIG9yIGRpc3BhdGNoIG1hbnVhbGx5IGluc2lkZSBgc3RhcnRUcmFuc2l0aW9uYFwiXG4gICAgICAgICAgICApKVxuICAgICAgICA6IG9uQWN0aW9uU3VjY2VzcyhhY3Rpb25RdWV1ZSwgbm9kZSwgcmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkFjdGlvblN1Y2Nlc3MoYWN0aW9uUXVldWUsIGFjdGlvbk5vZGUsIG5leHRTdGF0ZSkge1xuICAgICAgYWN0aW9uTm9kZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgYWN0aW9uTm9kZS52YWx1ZSA9IG5leHRTdGF0ZTtcbiAgICAgIG5vdGlmeUFjdGlvbkxpc3RlbmVycyhhY3Rpb25Ob2RlKTtcbiAgICAgIGFjdGlvblF1ZXVlLnN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgYWN0aW9uTm9kZSA9IGFjdGlvblF1ZXVlLnBlbmRpbmc7XG4gICAgICBudWxsICE9PSBhY3Rpb25Ob2RlICYmXG4gICAgICAgICgobmV4dFN0YXRlID0gYWN0aW9uTm9kZS5uZXh0KSxcbiAgICAgICAgbmV4dFN0YXRlID09PSBhY3Rpb25Ob2RlXG4gICAgICAgICAgPyAoYWN0aW9uUXVldWUucGVuZGluZyA9IG51bGwpXG4gICAgICAgICAgOiAoKG5leHRTdGF0ZSA9IG5leHRTdGF0ZS5uZXh0KSxcbiAgICAgICAgICAgIChhY3Rpb25Ob2RlLm5leHQgPSBuZXh0U3RhdGUpLFxuICAgICAgICAgICAgcnVuQWN0aW9uU3RhdGVBY3Rpb24oYWN0aW9uUXVldWUsIG5leHRTdGF0ZSkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25BY3Rpb25FcnJvcihhY3Rpb25RdWV1ZSwgYWN0aW9uTm9kZSwgZXJyb3IpIHtcbiAgICAgIHZhciBsYXN0ID0gYWN0aW9uUXVldWUucGVuZGluZztcbiAgICAgIGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBudWxsO1xuICAgICAgaWYgKG51bGwgIT09IGxhc3QpIHtcbiAgICAgICAgbGFzdCA9IGxhc3QubmV4dDtcbiAgICAgICAgZG9cbiAgICAgICAgICAoYWN0aW9uTm9kZS5zdGF0dXMgPSBcInJlamVjdGVkXCIpLFxuICAgICAgICAgICAgKGFjdGlvbk5vZGUucmVhc29uID0gZXJyb3IpLFxuICAgICAgICAgICAgbm90aWZ5QWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5vZGUpLFxuICAgICAgICAgICAgKGFjdGlvbk5vZGUgPSBhY3Rpb25Ob2RlLm5leHQpO1xuICAgICAgICB3aGlsZSAoYWN0aW9uTm9kZSAhPT0gbGFzdCk7XG4gICAgICB9XG4gICAgICBhY3Rpb25RdWV1ZS5hY3Rpb24gPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub3RpZnlBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTm9kZSkge1xuICAgICAgYWN0aW9uTm9kZSA9IGFjdGlvbk5vZGUubGlzdGVuZXJzO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3Rpb25Ob2RlLmxlbmd0aDsgaSsrKSAoMCwgYWN0aW9uTm9kZVtpXSkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWN0aW9uU3RhdGVSZWR1Y2VyKG9sZFN0YXRlLCBuZXdTdGF0ZSkge1xuICAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlUHJvcCkge1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHZhciBzc3JGb3JtU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc1Jvb3QuZm9ybVN0YXRlO1xuICAgICAgICBpZiAobnVsbCAhPT0gc3NyRm9ybVN0YXRlKSB7XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgdmFyIGlzTWF0Y2hpbmcgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxO1xuICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICAgIGlmIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlckluc3RhbmNlID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgIHZhciBpblJvb3RPclNpbmdsZXRvbiA9IHJvb3RPclNpbmdsZXRvbkNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIDggIT09IG1hcmtlckluc3RhbmNlLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpblJvb3RPclNpbmdsZXRvbikge1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UubmV4dFNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IG1hcmtlckluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGluUm9vdE9yU2luZ2xldG9uID0gbWFya2VySW5zdGFuY2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID1cbiAgICAgICAgICAgICAgICAgICAgaW5Sb290T3JTaW5nbGV0b24gPT09IEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkcgfHxcbiAgICAgICAgICAgICAgICAgICAgaW5Sb290T3JTaW5nbGV0b24gPT09IEZPUk1fU1RBVEVfSVNfTk9UX01BVENISU5HXG4gICAgICAgICAgICAgICAgICAgICAgPyBtYXJrZXJJbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hcmtlckluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlLm5leHRTaWJsaW5nXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaXNNYXRjaGluZyA9IG1hcmtlckluc3RhbmNlLmRhdGEgPT09IEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkc7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goaXNNYXRjaGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpc01hdGNoaW5nID0gITE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlzTWF0Y2hpbmcgJiYgKGluaXRpYWxTdGF0ZVByb3AgPSBzc3JGb3JtU3RhdGVbMF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzc3JGb3JtU3RhdGUgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgc3NyRm9ybVN0YXRlLm1lbW9pemVkU3RhdGUgPSBzc3JGb3JtU3RhdGUuYmFzZVN0YXRlID0gaW5pdGlhbFN0YXRlUHJvcDtcbiAgICAgIGlzTWF0Y2hpbmcgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYWN0aW9uU3RhdGVSZWR1Y2VyLFxuICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFN0YXRlUHJvcFxuICAgICAgfTtcbiAgICAgIHNzckZvcm1TdGF0ZS5xdWV1ZSA9IGlzTWF0Y2hpbmc7XG4gICAgICBzc3JGb3JtU3RhdGUgPSBkaXNwYXRjaFNldFN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIGlzTWF0Y2hpbmdcbiAgICAgICk7XG4gICAgICBpc01hdGNoaW5nLmRpc3BhdGNoID0gc3NyRm9ybVN0YXRlO1xuICAgICAgaXNNYXRjaGluZyA9IG1vdW50U3RhdGVJbXBsKCExKTtcbiAgICAgIGluUm9vdE9yU2luZ2xldG9uID0gZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgITEsXG4gICAgICAgIGlzTWF0Y2hpbmcucXVldWVcbiAgICAgICk7XG4gICAgICBpc01hdGNoaW5nID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIG1hcmtlckluc3RhbmNlID0ge1xuICAgICAgICBzdGF0ZTogaW5pdGlhbFN0YXRlUHJvcCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBwZW5kaW5nOiBudWxsXG4gICAgICB9O1xuICAgICAgaXNNYXRjaGluZy5xdWV1ZSA9IG1hcmtlckluc3RhbmNlO1xuICAgICAgc3NyRm9ybVN0YXRlID0gZGlzcGF0Y2hBY3Rpb25TdGF0ZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBtYXJrZXJJbnN0YW5jZSxcbiAgICAgICAgaW5Sb290T3JTaW5nbGV0b24sXG4gICAgICAgIHNzckZvcm1TdGF0ZVxuICAgICAgKTtcbiAgICAgIG1hcmtlckluc3RhbmNlLmRpc3BhdGNoID0gc3NyRm9ybVN0YXRlO1xuICAgICAgaXNNYXRjaGluZy5tZW1vaXplZFN0YXRlID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIFtpbml0aWFsU3RhdGVQcm9wLCBzc3JGb3JtU3RhdGUsICExXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKSB7XG4gICAgICB2YXIgc3RhdGVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGVJbXBsKHN0YXRlSG9vaywgY3VycmVudEhvb2ssIGFjdGlvbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFjdGlvblN0YXRlSW1wbChzdGF0ZUhvb2ssIGN1cnJlbnRTdGF0ZUhvb2ssIGFjdGlvbikge1xuICAgICAgY3VycmVudFN0YXRlSG9vayA9IHVwZGF0ZVJlZHVjZXJJbXBsKFxuICAgICAgICBzdGF0ZUhvb2ssXG4gICAgICAgIGN1cnJlbnRTdGF0ZUhvb2ssXG4gICAgICAgIGFjdGlvblN0YXRlUmVkdWNlclxuICAgICAgKVswXTtcbiAgICAgIHN0YXRlSG9vayA9IHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpWzBdO1xuICAgICAgY3VycmVudFN0YXRlSG9vayA9XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBjdXJyZW50U3RhdGVIb29rICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnRTdGF0ZUhvb2sgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY3VycmVudFN0YXRlSG9vay50aGVuXG4gICAgICAgICAgPyB1c2VUaGVuYWJsZShjdXJyZW50U3RhdGVIb29rKVxuICAgICAgICAgIDogY3VycmVudFN0YXRlSG9vaztcbiAgICAgIHZhciBhY3Rpb25RdWV1ZUhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgYWN0aW9uUXVldWUgPSBhY3Rpb25RdWV1ZUhvb2sucXVldWUsXG4gICAgICAgIGRpc3BhdGNoID0gYWN0aW9uUXVldWUuZGlzcGF0Y2g7XG4gICAgICBhY3Rpb24gIT09IGFjdGlvblF1ZXVlSG9vay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICgoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5mbGFncyB8PSAyMDQ4KSxcbiAgICAgICAgcHVzaEVmZmVjdChcbiAgICAgICAgICBIYXNFZmZlY3QgfCBQYXNzaXZlLFxuICAgICAgICAgIGFjdGlvblN0YXRlQWN0aW9uRWZmZWN0LmJpbmQobnVsbCwgYWN0aW9uUXVldWUsIGFjdGlvbiksXG4gICAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICkpO1xuICAgICAgcmV0dXJuIFtjdXJyZW50U3RhdGVIb29rLCBkaXNwYXRjaCwgc3RhdGVIb29rXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWN0aW9uU3RhdGVBY3Rpb25FZmZlY3QoYWN0aW9uUXVldWUsIGFjdGlvbikge1xuICAgICAgYWN0aW9uUXVldWUuYWN0aW9uID0gYWN0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbikge1xuICAgICAgdmFyIHN0YXRlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBjdXJyZW50U3RhdGVIb29rID0gY3VycmVudEhvb2s7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudFN0YXRlSG9vaylcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlSW1wbChzdGF0ZUhvb2ssIGN1cnJlbnRTdGF0ZUhvb2ssIGFjdGlvbik7XG4gICAgICB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHN0YXRlSG9vayA9IHN0YXRlSG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgY3VycmVudFN0YXRlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgdmFyIGRpc3BhdGNoID0gY3VycmVudFN0YXRlSG9vay5xdWV1ZS5kaXNwYXRjaDtcbiAgICAgIGN1cnJlbnRTdGF0ZUhvb2subWVtb2l6ZWRTdGF0ZSA9IGFjdGlvbjtcbiAgICAgIHJldHVybiBbc3RhdGVIb29rLCBkaXNwYXRjaCwgITFdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoRWZmZWN0KHRhZywgY3JlYXRlLCBpbnN0LCBkZXBzKSB7XG4gICAgICB0YWcgPSB7IHRhZzogdGFnLCBjcmVhdGU6IGNyZWF0ZSwgaW5zdDogaW5zdCwgZGVwczogZGVwcywgbmV4dDogbnVsbCB9O1xuICAgICAgY3JlYXRlID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZTtcbiAgICAgIG51bGwgPT09IGNyZWF0ZSAmJlxuICAgICAgICAoKGNyZWF0ZSA9IGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUoKSksXG4gICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlID0gY3JlYXRlKSk7XG4gICAgICBpbnN0ID0gY3JlYXRlLmxhc3RFZmZlY3Q7XG4gICAgICBudWxsID09PSBpbnN0XG4gICAgICAgID8gKGNyZWF0ZS5sYXN0RWZmZWN0ID0gdGFnLm5leHQgPSB0YWcpXG4gICAgICAgIDogKChkZXBzID0gaW5zdC5uZXh0KSxcbiAgICAgICAgICAoaW5zdC5uZXh0ID0gdGFnKSxcbiAgICAgICAgICAodGFnLm5leHQgPSBkZXBzKSxcbiAgICAgICAgICAoY3JlYXRlLmxhc3RFZmZlY3QgPSB0YWcpKTtcbiAgICAgIHJldHVybiB0YWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50UmVmKGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaW5pdGlhbFZhbHVlID0geyBjdXJyZW50OiBpbml0aWFsVmFsdWUgfTtcbiAgICAgIHJldHVybiAoaG9vay5tZW1vaXplZFN0YXRlID0gaW5pdGlhbFZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRFZmZlY3RJbXBsKGZpYmVyRmxhZ3MsIGhvb2tGbGFncywgY3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IGZpYmVyRmxhZ3M7XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBwdXNoRWZmZWN0KFxuICAgICAgICBIYXNFZmZlY3QgfCBob29rRmxhZ3MsXG4gICAgICAgIGNyZWF0ZSxcbiAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUVmZmVjdEltcGwoZmliZXJGbGFncywgaG9va0ZsYWdzLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgaW5zdCA9IGhvb2subWVtb2l6ZWRTdGF0ZS5pbnN0O1xuICAgICAgbnVsbCAhPT0gY3VycmVudEhvb2sgJiZcbiAgICAgIG51bGwgIT09IGRlcHMgJiZcbiAgICAgIGFyZUhvb2tJbnB1dHNFcXVhbChkZXBzLCBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLmRlcHMpXG4gICAgICAgID8gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoaG9va0ZsYWdzLCBjcmVhdGUsIGluc3QsIGRlcHMpKVxuICAgICAgICA6ICgoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5mbGFncyB8PSBmaWJlckZsYWdzKSxcbiAgICAgICAgICAoaG9vay5tZW1vaXplZFN0YXRlID0gcHVzaEVmZmVjdChcbiAgICAgICAgICAgIEhhc0VmZmVjdCB8IGhvb2tGbGFncyxcbiAgICAgICAgICAgIGNyZWF0ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBkZXBzXG4gICAgICAgICAgKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIE5vU3RyaWN0UGFzc2l2ZUVmZmVjdHNNb2RlKSA9PT0gTm9Nb2RlXG4gICAgICAgID8gbW91bnRFZmZlY3RJbXBsKDE0MjYwODM4NCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKVxuICAgICAgICA6IG1vdW50RWZmZWN0SW1wbCg4MzkwNjU2LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBmaWJlckZsYWdzID0gNDE5NDMwODtcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAoZmliZXJGbGFncyB8PSA2NzEwODg2NCk7XG4gICAgICByZXR1cm4gbW91bnRFZmZlY3RJbXBsKGZpYmVyRmxhZ3MsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW1wZXJhdGl2ZUhhbmRsZUVmZmVjdChjcmVhdGUsIHJlZikge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZikge1xuICAgICAgICBjcmVhdGUgPSBjcmVhdGUoKTtcbiAgICAgICAgdmFyIHJlZkNsZWFudXAgPSByZWYoY3JlYXRlKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWZDbGVhbnVwID8gcmVmQ2xlYW51cCgpIDogcmVmKG51bGwpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgIT09IHJlZiAmJiB2b2lkIDAgIT09IHJlZilcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICByZWYuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50XCIpIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIHVzZUltcGVyYXRpdmVIYW5kbGUoKSBmaXJzdCBhcmd1bWVudCB0byBlaXRoZXIgYmUgYSByZWYgY2FsbGJhY2sgb3IgUmVhY3QuY3JlYXRlUmVmKCkgb2JqZWN0LiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICAgICAgXCJhbiBvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKHJlZikuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKGNyZWF0ZSA9IGNyZWF0ZSgpKSxcbiAgICAgICAgICAocmVmLmN1cnJlbnQgPSBjcmVhdGUpLFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB1c2VJbXBlcmF0aXZlSGFuZGxlKCkgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgaGFuZGxlLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICBudWxsICE9PSBjcmVhdGUgPyB0eXBlb2YgY3JlYXRlIDogXCJudWxsXCJcbiAgICAgICAgKTtcbiAgICAgIGRlcHMgPSBudWxsICE9PSBkZXBzICYmIHZvaWQgMCAhPT0gZGVwcyA/IGRlcHMuY29uY2F0KFtyZWZdKSA6IG51bGw7XG4gICAgICB2YXIgZmliZXJGbGFncyA9IDQxOTQzMDg7XG4gICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgKGZpYmVyRmxhZ3MgfD0gNjcxMDg4NjQpO1xuICAgICAgbW91bnRFZmZlY3RJbXBsKFxuICAgICAgICBmaWJlckZsYWdzLFxuICAgICAgICBMYXlvdXQsXG4gICAgICAgIGltcGVyYXRpdmVIYW5kbGVFZmZlY3QuYmluZChudWxsLCBjcmVhdGUsIHJlZiksXG4gICAgICAgIGRlcHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNyZWF0ZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdXNlSW1wZXJhdGl2ZUhhbmRsZSgpIHNlY29uZCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGhhbmRsZS4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgbnVsbCAhPT0gY3JlYXRlID8gdHlwZW9mIGNyZWF0ZSA6IFwibnVsbFwiXG4gICAgICAgICk7XG4gICAgICBkZXBzID0gbnVsbCAhPT0gZGVwcyAmJiB2b2lkIDAgIT09IGRlcHMgPyBkZXBzLmNvbmNhdChbcmVmXSkgOiBudWxsO1xuICAgICAgdXBkYXRlRWZmZWN0SW1wbChcbiAgICAgICAgNCxcbiAgICAgICAgTGF5b3V0LFxuICAgICAgICBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0LmJpbmQobnVsbCwgY3JlYXRlLCByZWYpLFxuICAgICAgICBkZXBzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGUgPSBbXG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwc1xuICAgICAgXTtcbiAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgcHJldlN0YXRlID0gaG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGRlcHMgJiYgYXJlSG9va0lucHV0c0VxdWFsKGRlcHMsIHByZXZTdGF0ZVsxXSkpXG4gICAgICAgIHJldHVybiBwcmV2U3RhdGVbMF07XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBbY2FsbGJhY2ssIGRlcHNdO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudE1lbW8obmV4dENyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgZGVwcyA9IHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzO1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IG5leHRDcmVhdGUoKTtcbiAgICAgIGlmIChzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFVikge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV4dENyZWF0ZSgpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gW25leHRWYWx1ZSwgZGVwc107XG4gICAgICByZXR1cm4gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVNZW1vKG5leHRDcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgcHJldlN0YXRlID0gaG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGRlcHMgJiYgYXJlSG9va0lucHV0c0VxdWFsKGRlcHMsIHByZXZTdGF0ZVsxXSkpXG4gICAgICAgIHJldHVybiBwcmV2U3RhdGVbMF07XG4gICAgICBwcmV2U3RhdGUgPSBuZXh0Q3JlYXRlKCk7XG4gICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5leHRDcmVhdGUoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IFtwcmV2U3RhdGUsIGRlcHNdO1xuICAgICAgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlRGVmZXJyZWRWYWx1ZUltcGwoXG4gICAgICAgIGhvb2ssXG4gICAgICAgIGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBpbml0aWFsVmFsdWVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGN1cnJlbnRIb29rXG4gICAgICAgID8gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKVxuICAgICAgICA6IHVwZGF0ZURlZmVycmVkVmFsdWVJbXBsKFxuICAgICAgICAgICAgaG9vayxcbiAgICAgICAgICAgIGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGluaXRpYWxWYWx1ZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50RGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgdmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gaW5pdGlhbFZhbHVlIHx8IDAgIT09IChyZW5kZXJMYW5lcyAmIDEwNzM3NDE4MjQpKVxuICAgICAgICByZXR1cm4gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHZhbHVlKTtcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGluaXRpYWxWYWx1ZTtcbiAgICAgIGhvb2sgPSByZXF1ZXN0RGVmZXJyZWRMYW5lKCk7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IGhvb2s7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gaG9vaztcbiAgICAgIHJldHVybiBpbml0aWFsVmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHByZXZWYWx1ZSwgdmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgaWYgKG9iamVjdElzKHZhbHVlLCBwcmV2VmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvci5jdXJyZW50KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChob29rID0gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKSksXG4gICAgICAgICAgb2JqZWN0SXMoaG9vaywgcHJldlZhbHVlKSB8fCAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSxcbiAgICAgICAgICBob29rXG4gICAgICAgICk7XG4gICAgICBpZiAoMCA9PT0gKHJlbmRlckxhbmVzICYgNDIpKVxuICAgICAgICByZXR1cm4gKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCksIChob29rLm1lbW9pemVkU3RhdGUgPSB2YWx1ZSk7XG4gICAgICBob29rID0gcmVxdWVzdERlZmVycmVkTGFuZSgpO1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSBob29rO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IGhvb2s7XG4gICAgICByZXR1cm4gcHJldlZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydFRyYW5zaXRpb24oXG4gICAgICBmaWJlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgZmluaXNoZWRTdGF0ZSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5wID1cbiAgICAgICAgMCAhPT0gcHJldmlvdXNQcmlvcml0eSAmJiBwcmV2aW91c1ByaW9yaXR5IDwgQ29udGludW91c0V2ZW50UHJpb3JpdHlcbiAgICAgICAgICA/IHByZXZpb3VzUHJpb3JpdHlcbiAgICAgICAgICA6IENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSB7fTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBjdXJyZW50VHJhbnNpdGlvbjtcbiAgICAgIGRpc3BhdGNoT3B0aW1pc3RpY1NldFN0YXRlKGZpYmVyLCAhMSwgcXVldWUsIHBlbmRpbmdTdGF0ZSk7XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGNhbGxiYWNrKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIHRoZW5hYmxlRm9yRmluaXNoZWRTdGF0ZSA9IGNoYWluVGhlbmFibGVWYWx1ZShcbiAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgZmluaXNoZWRTdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgIHRoZW5hYmxlRm9yRmluaXNoZWRTdGF0ZSxcbiAgICAgICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICBmaW5pc2hlZFN0YXRlLFxuICAgICAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgICBmaWJlcixcbiAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICB7IHRoZW46IGZ1bmN0aW9uICgpIHt9LCBzdGF0dXM6IFwicmVqZWN0ZWRcIiwgcmVhc29uOiBlcnJvciB9LFxuICAgICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKVxuICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKSxcbiAgICAgICAgICBudWxsID09PSBwcmV2VHJhbnNpdGlvbiAmJlxuICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAgICgoZmliZXIgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmNsZWFyKCksXG4gICAgICAgICAgICAxMCA8IGZpYmVyICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICBcIkRldGVjdGVkIGEgbGFyZ2UgbnVtYmVyIG9mIHVwZGF0ZXMgaW5zaWRlIHN0YXJ0VHJhbnNpdGlvbi4gSWYgdGhpcyBpcyBkdWUgdG8gYSBzdWJzY3JpcHRpb24gcGxlYXNlIHJlLXdyaXRlIGl0IHRvIHVzZSBSZWFjdCBwcm92aWRlZCBob29rcy4gT3RoZXJ3aXNlIGNvbmN1cnJlbnQgbW9kZSBndWFyYW50ZWVzIGFyZSBvZmYgdGhlIHRhYmxlLlwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydEhvc3RUcmFuc2l0aW9uKGZvcm1GaWJlciwgcGVuZGluZ1N0YXRlLCBhY3Rpb24sIGZvcm1EYXRhKSB7XG4gICAgICBpZiAoNSAhPT0gZm9ybUZpYmVyLnRhZylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB0aGUgZm9ybSBpbnN0YW5jZSB0byBiZSBhIEhvc3RDb21wb25lbnQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBxdWV1ZSA9IGVuc3VyZUZvcm1Db21wb25lbnRJc1N0YXRlZnVsKGZvcm1GaWJlcikucXVldWU7XG4gICAgICBzdGFydFRyYW5zaXRpb24oXG4gICAgICAgIGZvcm1GaWJlcixcbiAgICAgICAgcXVldWUsXG4gICAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgICAgTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIG51bGwgPT09IGFjdGlvblxuICAgICAgICAgID8gbm9vcCQyXG4gICAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlcXVlc3RGb3JtUmVzZXQkMShmb3JtRmliZXIpO1xuICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uKGZvcm1EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuc3VyZUZvcm1Db21wb25lbnRJc1N0YXRlZnVsKGZvcm1GaWJlcikge1xuICAgICAgdmFyIGV4aXN0aW5nU3RhdGVIb29rID0gZm9ybUZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZXhpc3RpbmdTdGF0ZUhvb2spIHJldHVybiBleGlzdGluZ1N0YXRlSG9vaztcbiAgICAgIGV4aXN0aW5nU3RhdGVIb29rID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgYmFzZVN0YXRlOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgYmFzZVF1ZXVlOiBudWxsLFxuICAgICAgICBxdWV1ZToge1xuICAgICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYmFzaWNTdGF0ZVJlZHVjZXIsXG4gICAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICB2YXIgaW5pdGlhbFJlc2V0U3RhdGUgPSB7fTtcbiAgICAgIGV4aXN0aW5nU3RhdGVIb29rLm5leHQgPSB7XG4gICAgICAgIG1lbW9pemVkU3RhdGU6IGluaXRpYWxSZXNldFN0YXRlLFxuICAgICAgICBiYXNlU3RhdGU6IGluaXRpYWxSZXNldFN0YXRlLFxuICAgICAgICBiYXNlUXVldWU6IG51bGwsXG4gICAgICAgIHF1ZXVlOiB7XG4gICAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgICBsYW5lczogMCxcbiAgICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFJlc2V0U3RhdGVcbiAgICAgICAgfSxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGZvcm1GaWJlci5tZW1vaXplZFN0YXRlID0gZXhpc3RpbmdTdGF0ZUhvb2s7XG4gICAgICBmb3JtRmliZXIgPSBmb3JtRmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gZm9ybUZpYmVyICYmIChmb3JtRmliZXIubWVtb2l6ZWRTdGF0ZSA9IGV4aXN0aW5nU3RhdGVIb29rKTtcbiAgICAgIHJldHVybiBleGlzdGluZ1N0YXRlSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdEZvcm1SZXNldCQxKGZvcm1GaWJlcikge1xuICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwicmVxdWVzdEZvcm1SZXNldCB3YXMgY2FsbGVkIG91dHNpZGUgYSB0cmFuc2l0aW9uIG9yIGFjdGlvbi4gVG8gZml4LCBtb3ZlIHRvIGFuIGFjdGlvbiwgb3Igd3JhcCB3aXRoIHN0YXJ0VHJhbnNpdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHJlc2V0U3RhdGVRdWV1ZSA9IGVuc3VyZUZvcm1Db21wb25lbnRJc1N0YXRlZnVsKGZvcm1GaWJlcikubmV4dC5xdWV1ZTtcbiAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgZm9ybUZpYmVyLFxuICAgICAgICByZXNldFN0YXRlUXVldWUsXG4gICAgICAgIHt9LFxuICAgICAgICByZXF1ZXN0VXBkYXRlTGFuZShmb3JtRmliZXIpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgc3RhdGVIb29rID0gbW91bnRTdGF0ZUltcGwoITEpO1xuICAgICAgc3RhdGVIb29rID0gc3RhcnRUcmFuc2l0aW9uLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIHN0YXRlSG9vay5xdWV1ZSxcbiAgICAgICAgITAsXG4gICAgICAgICExXG4gICAgICApO1xuICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlID0gc3RhdGVIb29rO1xuICAgICAgcmV0dXJuIFshMSwgc3RhdGVIb29rXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBib29sZWFuT3JUaGVuYWJsZSA9IHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpWzBdLFxuICAgICAgICBzdGFydCA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgPyBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgIDogdXNlVGhlbmFibGUoYm9vbGVhbk9yVGhlbmFibGUpLFxuICAgICAgICBzdGFydFxuICAgICAgXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIGJvb2xlYW5PclRoZW5hYmxlID0gcmVyZW5kZXJSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKVswXSxcbiAgICAgICAgc3RhcnQgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgID8gYm9vbGVhbk9yVGhlbmFibGVcbiAgICAgICAgICA6IHVzZVRoZW5hYmxlKGJvb2xlYW5PclRoZW5hYmxlKSxcbiAgICAgICAgc3RhcnRcbiAgICAgIF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzKCkge1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KEhvc3RUcmFuc2l0aW9uQ29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SWQoKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggPSB3b3JrSW5Qcm9ncmVzc1Jvb3QuaWRlbnRpZmllclByZWZpeDtcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICB2YXIgdHJlZUlkID0gdHJlZUNvbnRleHRPdmVyZmxvdztcbiAgICAgICAgdmFyIGlkV2l0aExlYWRpbmdCaXQgPSB0cmVlQ29udGV4dElkO1xuICAgICAgICB0cmVlSWQgPVxuICAgICAgICAgIChcbiAgICAgICAgICAgIGlkV2l0aExlYWRpbmdCaXQgJiB+KDEgPDwgKDMyIC0gY2x6MzIoaWRXaXRoTGVhZGluZ0JpdCkgLSAxKSlcbiAgICAgICAgICApLnRvU3RyaW5nKDMyKSArIHRyZWVJZDtcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IFwiOlwiICsgaWRlbnRpZmllclByZWZpeCArIFwiUlwiICsgdHJlZUlkO1xuICAgICAgICB0cmVlSWQgPSBsb2NhbElkQ291bnRlcisrO1xuICAgICAgICAwIDwgdHJlZUlkICYmIChpZGVudGlmaWVyUHJlZml4ICs9IFwiSFwiICsgdHJlZUlkLnRvU3RyaW5nKDMyKSk7XG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggKz0gXCI6XCI7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRyZWVJZCA9IGdsb2JhbENsaWVudElkQ291bnRlcisrKSxcbiAgICAgICAgICAoaWRlbnRpZmllclByZWZpeCA9XG4gICAgICAgICAgICBcIjpcIiArIGlkZW50aWZpZXJQcmVmaXggKyBcInJcIiArIHRyZWVJZC50b1N0cmluZygzMikgKyBcIjpcIik7XG4gICAgICByZXR1cm4gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IGlkZW50aWZpZXJQcmVmaXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFJlZnJlc2goKSB7XG4gICAgICByZXR1cm4gKG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZSA9IHJlZnJlc2hDYWNoZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxXG4gICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVmcmVzaENhY2hlKGZpYmVyLCBzZWVkS2V5KSB7XG4gICAgICBmb3IgKHZhciBwcm92aWRlciA9IGZpYmVyLnJldHVybjsgbnVsbCAhPT0gcHJvdmlkZXI7ICkge1xuICAgICAgICBzd2l0Y2ggKHByb3ZpZGVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShwcm92aWRlcik7XG4gICAgICAgICAgICBmaWJlciA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICAgIHZhciByb290ID0gZW5xdWV1ZVVwZGF0ZShwcm92aWRlciwgZmliZXIsIGxhbmUpO1xuICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIHByb3ZpZGVyLCBsYW5lKSxcbiAgICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhyb290LCBwcm92aWRlciwgbGFuZSkpO1xuICAgICAgICAgICAgcHJvdmlkZXIgPSBjcmVhdGVDYWNoZSgpO1xuICAgICAgICAgICAgbnVsbCAhPT0gc2VlZEtleSAmJlxuICAgICAgICAgICAgICB2b2lkIDAgIT09IHNlZWRLZXkgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIHNlZWQgYXJndW1lbnQgaXMgbm90IGVuYWJsZWQgb3V0c2lkZSBleHBlcmltZW50YWwgY2hhbm5lbHMuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZpYmVyLnBheWxvYWQgPSB7IGNhY2hlOiBwcm92aWRlciB9O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXIucmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaFJlZHVjZXJBY3Rpb24oXG4gICAgICBmaWJlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgYWN0aW9uLFxuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDAgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlN0YXRlIHVwZGF0ZXMgZnJvbSB0aGUgdXNlU3RhdGUoKSBhbmQgdXNlUmVkdWNlcigpIEhvb2tzIGRvbid0IHN1cHBvcnQgdGhlIHNlY29uZCBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiB0aGUgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICApO1xuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwID0gcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpO1xuICAgICAgYWN0aW9uID0ge1xuICAgICAgICBsYW5lOiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDAsXG4gICAgICAgIHJldmVydExhbmU6IDAsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBoYXNFYWdlclN0YXRlOiAhMSxcbiAgICAgICAgZWFnZXJTdGF0ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpXG4gICAgICAgID8gZW5xdWV1ZVJlbmRlclBoYXNlVXBkYXRlKHF1ZXVlLCBhY3Rpb24pXG4gICAgICAgIDogKChhY3Rpb24gPSBlbnF1ZXVlQ29uY3VycmVudEhvb2tVcGRhdGUoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgICAgICAgKSksXG4gICAgICAgICAgbnVsbCAhPT0gYWN0aW9uICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKFxuICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25VcGRhdGUoXG4gICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMFxuICAgICAgICAgICAgKSkpO1xuICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaFNldFN0YXRlKFxuICAgICAgZmliZXIsXG4gICAgICBxdWV1ZSxcbiAgICAgIGFjdGlvbixcbiAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMVxuICAgICkge1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJTdGF0ZSB1cGRhdGVzIGZyb20gdGhlIHVzZVN0YXRlKCkgYW5kIHVzZVJlZHVjZXIoKSBIb29rcyBkb24ndCBzdXBwb3J0IHRoZSBzZWNvbmQgY2FsbGJhY2sgYXJndW1lbnQuIFRvIGV4ZWN1dGUgYSBzaWRlIGVmZmVjdCBhZnRlciByZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gdGhlIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgKTtcbiAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMSA9IHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKTtcbiAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgZmliZXIsXG4gICAgICAgIHF1ZXVlLFxuICAgICAgICBhY3Rpb24sXG4gICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMVxuICAgICAgKTtcbiAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKGZpYmVyLCBxdWV1ZSwgYWN0aW9uLCBsYW5lKSB7XG4gICAgICB2YXIgdXBkYXRlID0ge1xuICAgICAgICBsYW5lOiBsYW5lLFxuICAgICAgICByZXZlcnRMYW5lOiAwLFxuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgaGFzRWFnZXJTdGF0ZTogITEsXG4gICAgICAgIGVhZ2VyU3RhdGU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcikpIGVucXVldWVSZW5kZXJQaGFzZVVwZGF0ZShxdWV1ZSwgdXBkYXRlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgMCA9PT0gZmliZXIubGFuZXMgJiZcbiAgICAgICAgICAobnVsbCA9PT0gYWx0ZXJuYXRlIHx8IDAgPT09IGFsdGVybmF0ZS5sYW5lcykgJiZcbiAgICAgICAgICAoKGFsdGVybmF0ZSA9IHF1ZXVlLmxhc3RSZW5kZXJlZFJlZHVjZXIpLCBudWxsICE9PSBhbHRlcm5hdGUpXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gcXVldWUubGFzdFJlbmRlcmVkU3RhdGUsXG4gICAgICAgICAgICAgIGVhZ2VyU3RhdGUgPSBhbHRlcm5hdGUoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgICAgICAgICAgdXBkYXRlLmhhc0VhZ2VyU3RhdGUgPSAhMDtcbiAgICAgICAgICAgIHVwZGF0ZS5lYWdlclN0YXRlID0gZWFnZXJTdGF0ZTtcbiAgICAgICAgICAgIGlmIChvYmplY3RJcyhlYWdlclN0YXRlLCBjdXJyZW50U3RhdGUpKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgcXVldWUsIHVwZGF0ZSwgMCksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICAgICAgICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFjdGlvbiA9IGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShmaWJlciwgcXVldWUsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICAgIGlmIChudWxsICE9PSBhY3Rpb24pXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihhY3Rpb24sIGZpYmVyLCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvblVwZGF0ZShhY3Rpb24sIHF1ZXVlLCBsYW5lKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUoXG4gICAgICBmaWJlcixcbiAgICAgIHRocm93SWZEdXJpbmdSZW5kZXIsXG4gICAgICBxdWV1ZSxcbiAgICAgIGFjdGlvblxuICAgICkge1xuICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCAmJlxuICAgICAgICAwID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQW4gb3B0aW1pc3RpYyBzdGF0ZSB1cGRhdGUgb2NjdXJyZWQgb3V0c2lkZSBhIHRyYW5zaXRpb24gb3IgYWN0aW9uLiBUbyBmaXgsIG1vdmUgdGhlIHVwZGF0ZSB0byBhbiBhY3Rpb24sIG9yIHdyYXAgd2l0aCBzdGFydFRyYW5zaXRpb24uXCJcbiAgICAgICAgKTtcbiAgICAgIGFjdGlvbiA9IHtcbiAgICAgICAgbGFuZTogMixcbiAgICAgICAgcmV2ZXJ0TGFuZTogcmVxdWVzdFRyYW5zaXRpb25MYW5lKCksXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBoYXNFYWdlclN0YXRlOiAhMSxcbiAgICAgICAgZWFnZXJTdGF0ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmIChpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSkge1xuICAgICAgICBpZiAodGhyb3dJZkR1cmluZ1JlbmRlcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgb3B0aW1pc3RpYyBzdGF0ZSB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2Fubm90IGNhbGwgc3RhcnRUcmFuc2l0aW9uIHdoaWxlIHJlbmRlcmluZy5cIik7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRocm93SWZEdXJpbmdSZW5kZXIgPSBlbnF1ZXVlQ29uY3VycmVudEhvb2tVcGRhdGUoXG4gICAgICAgICAgZmliZXIsXG4gICAgICAgICAgcXVldWUsXG4gICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgIDJcbiAgICAgICAgKSksXG4gICAgICAgICAgbnVsbCAhPT0gdGhyb3dJZkR1cmluZ1JlbmRlciAmJlxuICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHRocm93SWZEdXJpbmdSZW5kZXIsIGZpYmVyLCAyKTtcbiAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgMik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBmaWJlciA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSB8fFxuICAgICAgICAobnVsbCAhPT0gYWx0ZXJuYXRlICYmIGFsdGVybmF0ZSA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVSZW5kZXJQaGFzZVVwZGF0ZShxdWV1ZSwgdXBkYXRlKSB7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgPVxuICAgICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITA7XG4gICAgICB2YXIgcGVuZGluZyA9IHF1ZXVlLnBlbmRpbmc7XG4gICAgICBudWxsID09PSBwZW5kaW5nXG4gICAgICAgID8gKHVwZGF0ZS5uZXh0ID0gdXBkYXRlKVxuICAgICAgICA6ICgodXBkYXRlLm5leHQgPSBwZW5kaW5nLm5leHQpLCAocGVuZGluZy5uZXh0ID0gdXBkYXRlKSk7XG4gICAgICBxdWV1ZS5wZW5kaW5nID0gdXBkYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRhbmdsZVRyYW5zaXRpb25VcGRhdGUocm9vdCwgcXVldWUsIGxhbmUpIHtcbiAgICAgIGlmICgwICE9PSAobGFuZSAmIDQxOTQxNzYpKSB7XG4gICAgICAgIHZhciBxdWV1ZUxhbmVzID0gcXVldWUubGFuZXM7XG4gICAgICAgIHF1ZXVlTGFuZXMgJj0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAgIGxhbmUgfD0gcXVldWVMYW5lcztcbiAgICAgICAgcXVldWUubGFuZXMgPSBsYW5lO1xuICAgICAgICBtYXJrUm9vdEVudGFuZ2xlZChyb290LCBsYW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgICBpZiAobnVsbCAhPT0gY2FsbGJhY2sgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGtleSA9IFN0cmluZyhjYWxsYmFjayk7XG4gICAgICAgIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5oYXMoa2V5KSB8fFxuICAgICAgICAgIChkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suYWRkKGtleSksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBjdG9yLFxuICAgICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLFxuICAgICAgbmV4dFByb3BzXG4gICAgKSB7XG4gICAgICB2YXIgcHJldlN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgcGFydGlhbFN0YXRlID0gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcGFydGlhbFN0YXRlID0gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5leHRQcm9wcywgcHJldlN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZvaWQgMCA9PT0gcGFydGlhbFN0YXRlICYmXG4gICAgICAgICgoY3RvciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShjdG9yKSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmhhcyhjdG9yKSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuYWRkKGN0b3IpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpOiBBIHZhbGlkIHN0YXRlIG9iamVjdCAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLlwiLFxuICAgICAgICAgICAgY3RvclxuICAgICAgICAgICkpKTtcbiAgICAgIHByZXZTdGF0ZSA9XG4gICAgICAgIG51bGwgPT09IHBhcnRpYWxTdGF0ZSB8fCB2b2lkIDAgPT09IHBhcnRpYWxTdGF0ZVxuICAgICAgICAgID8gcHJldlN0YXRlXG4gICAgICAgICAgOiBhc3NpZ24oe30sIHByZXZTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBwcmV2U3RhdGU7XG4gICAgICAwID09PSB3b3JrSW5Qcm9ncmVzcy5sYW5lcyAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuYmFzZVN0YXRlID0gcHJldlN0YXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGN0b3IsXG4gICAgICBvbGRQcm9wcyxcbiAgICAgIG5ld1Byb3BzLFxuICAgICAgb2xkU3RhdGUsXG4gICAgICBuZXdTdGF0ZSxcbiAgICAgIG5leHRDb250ZXh0XG4gICAgKSB7XG4gICAgICB2YXIgaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKSB7XG4gICAgICAgIG9sZFByb3BzID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgIG5leHRDb250ZXh0XG4gICAgICAgICk7XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgb2xkUHJvcHMgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgbmV4dENvbnRleHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdm9pZCAwID09PSBvbGRQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLnNob3VsZENvbXBvbmVudFVwZGF0ZSgpOiBSZXR1cm5lZCB1bmRlZmluZWQgaW5zdGVhZCBvZiBhIGJvb2xlYW4gdmFsdWUuIE1ha2Ugc3VyZSB0byByZXR1cm4gdHJ1ZSBvciBmYWxzZS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShjdG9yKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG9sZFByb3BzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGN0b3IucHJvdG90eXBlICYmIGN0b3IucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50XG4gICAgICAgID8gIXNoYWxsb3dFcXVhbChvbGRQcm9wcywgbmV3UHJvcHMpIHx8ICFzaGFsbG93RXF1YWwob2xkU3RhdGUsIG5ld1N0YXRlKVxuICAgICAgICA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBuZXdQcm9wcyxcbiAgICAgIG5leHRDb250ZXh0XG4gICAgKSB7XG4gICAgICB2YXIgb2xkU3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV4dENvbnRleHQpO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICAgIGluc3RhbmNlLnN0YXRlICE9PSBvbGRTdGF0ZSAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50Lmhhcyh3b3JrSW5Qcm9ncmVzcykgfHxcbiAgICAgICAgICAoZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50LmFkZCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gdGhpcy5zdGF0ZSBpcyBkZXByZWNhdGVkIChleGNlcHQgaW5zaWRlIGEgY29tcG9uZW50J3MgY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKSksXG4gICAgICAgIGNsYXNzQ29tcG9uZW50VXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGluc3RhbmNlLnN0YXRlLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKENvbXBvbmVudCwgYmFzZVByb3BzKSB7XG4gICAgICB2YXIgbmV3UHJvcHMgPSBiYXNlUHJvcHM7XG4gICAgICBpZiAoXCJyZWZcIiBpbiBiYXNlUHJvcHMpIHtcbiAgICAgICAgbmV3UHJvcHMgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gYmFzZVByb3BzKVxuICAgICAgICAgIFwicmVmXCIgIT09IHByb3BOYW1lICYmIChuZXdQcm9wc1twcm9wTmFtZV0gPSBiYXNlUHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIGlmICgoQ29tcG9uZW50ID0gQ29tcG9uZW50LmRlZmF1bHRQcm9wcykpIHtcbiAgICAgICAgbmV3UHJvcHMgPT09IGJhc2VQcm9wcyAmJiAobmV3UHJvcHMgPSBhc3NpZ24oe30sIG5ld1Byb3BzKSk7XG4gICAgICAgIGZvciAodmFyIF9wcm9wTmFtZSBpbiBDb21wb25lbnQpXG4gICAgICAgICAgdm9pZCAwID09PSBuZXdQcm9wc1tfcHJvcE5hbWVdICYmXG4gICAgICAgICAgICAobmV3UHJvcHNbX3Byb3BOYW1lXSA9IENvbXBvbmVudFtfcHJvcE5hbWVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdQcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmYXVsdE9uVW5jYXVnaHRFcnJvcihlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgICBlcnJvciA9IGNvbXBvbmVudE5hbWVcbiAgICAgICAgPyBcIkFuIGVycm9yIG9jY3VycmVkIGluIHRoZSA8XCIgKyBjb21wb25lbnROYW1lICsgXCI+IGNvbXBvbmVudC5cIlxuICAgICAgICA6IFwiQW4gZXJyb3Igb2NjdXJyZWQgaW4gb25lIG9mIHlvdXIgUmVhY3QgY29tcG9uZW50cy5cIjtcbiAgICAgIHZhciBwcmV2R2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrLFxuICAgICAgICBjb21wb25lbnRTdGFjayA9XG4gICAgICAgICAgbnVsbCAhPSBlcnJvckluZm8uY29tcG9uZW50U3RhY2sgPyBlcnJvckluZm8uY29tcG9uZW50U3RhY2sgOiBcIlwiO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50U3RhY2s7XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiJXNcXG5cXG4lc1xcblwiLFxuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIFwiQ29uc2lkZXIgYWRkaW5nIGFuIGVycm9yIGJvdW5kYXJ5IHRvIHlvdXIgdHJlZSB0byBjdXN0b21pemUgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IuXFxuVmlzaXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9lcnJvci1ib3VuZGFyaWVzIHRvIGxlYXJuIG1vcmUgYWJvdXQgZXJyb3IgYm91bmRhcmllcy5cIlxuICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmYXVsdE9uQ2F1Z2h0RXJyb3IoZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWVNZXNzYWdlID0gY29tcG9uZW50TmFtZVxuICAgICAgICAgID8gXCJUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDxcIiArIGNvbXBvbmVudE5hbWUgKyBcIj4gY29tcG9uZW50LlwiXG4gICAgICAgICAgOiBcIlRoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzLlwiLFxuICAgICAgICByZWNyZWF0ZU1lc3NhZ2UgPVxuICAgICAgICAgIFwiUmVhY3Qgd2lsbCB0cnkgdG8gcmVjcmVhdGUgdGhpcyBjb21wb25lbnQgdHJlZSBmcm9tIHNjcmF0Y2ggdXNpbmcgdGhlIGVycm9yIGJvdW5kYXJ5IHlvdSBwcm92aWRlZCwgXCIgK1xuICAgICAgICAgICgoZXJyb3JCb3VuZGFyeU5hbWUgfHwgXCJBbm9ueW1vdXNcIikgKyBcIi5cIiksXG4gICAgICAgIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2ssXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID1cbiAgICAgICAgICBudWxsICE9IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA/IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA6IFwiXCI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRTdGFjaztcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLmVudmlyb25tZW50TmFtZVxuICAgICAgICAgID8gYmluZFRvQ29uc29sZShcbiAgICAgICAgICAgICAgXCJlcnJvclwiLFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgXCIlb1xcblxcbiVzXFxuXFxuJXNcXG5cIixcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lTWVzc2FnZSxcbiAgICAgICAgICAgICAgICByZWNyZWF0ZU1lc3NhZ2VcbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgZXJyb3IuZW52aXJvbm1lbnROYW1lXG4gICAgICAgICAgICApKClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJW9cXG5cXG4lc1xcblxcbiVzXFxuXCIsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lTWVzc2FnZSxcbiAgICAgICAgICAgICAgcmVjcmVhdGVNZXNzYWdlXG4gICAgICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmYXVsdE9uUmVjb3ZlcmFibGVFcnJvcihlcnJvcikge1xuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsb2dVbmNhdWdodEVycm9yKHJvb3QsIGVycm9ySW5mbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29tcG9uZW50TmFtZSA9IGVycm9ySW5mby5zb3VyY2VcbiAgICAgICAgICA/IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZXJyb3JJbmZvLnNvdXJjZSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gbnVsbDtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgICAgICBpZiAobnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUpXG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgb25VbmNhdWdodEVycm9yID0gcm9vdC5vblVuY2F1Z2h0RXJyb3I7XG4gICAgICAgICAgb25VbmNhdWdodEVycm9yKGVycm9yLCB7IGNvbXBvbmVudFN0YWNrOiBlcnJvckluZm8uc3RhY2sgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUkNCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aHJvdyBlJDQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsb2dDYXVnaHRFcnJvcihyb290LCBib3VuZGFyeSwgZXJyb3JJbmZvKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb21wb25lbnROYW1lID0gZXJyb3JJbmZvLnNvdXJjZVxuICAgICAgICAgID8gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihlcnJvckluZm8uc291cmNlKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGJvdW5kYXJ5KTtcbiAgICAgICAgdmFyIG9uQ2F1Z2h0RXJyb3IgPSByb290Lm9uQ2F1Z2h0RXJyb3I7XG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IoZXJyb3JJbmZvLnZhbHVlLCB7XG4gICAgICAgICAgY29tcG9uZW50U3RhY2s6IGVycm9ySW5mby5zdGFjayxcbiAgICAgICAgICBlcnJvckJvdW5kYXJ5OiAxID09PSBib3VuZGFyeS50YWcgPyBib3VuZGFyeS5zdGF0ZU5vZGUgOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSQ1KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IGUkNTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShyb290LCBlcnJvckluZm8sIGxhbmUpIHtcbiAgICAgIGxhbmUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICBsYW5lLnRhZyA9IENhcHR1cmVVcGRhdGU7XG4gICAgICBsYW5lLnBheWxvYWQgPSB7IGVsZW1lbnQ6IG51bGwgfTtcbiAgICAgIGxhbmUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKGVycm9ySW5mby5zb3VyY2UsIGxvZ1VuY2F1Z2h0RXJyb3IsIHJvb3QsIGVycm9ySW5mbyk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUobGFuZSkge1xuICAgICAgbGFuZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgIGxhbmUudGFnID0gQ2FwdHVyZVVwZGF0ZTtcbiAgICAgIHJldHVybiBsYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplQ2xhc3NFcnJvclVwZGF0ZSh1cGRhdGUsIHJvb3QsIGZpYmVyLCBlcnJvckluZm8pIHtcbiAgICAgIHZhciBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgPSBmaWJlci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IpIHtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JJbmZvLnZhbHVlO1xuICAgICAgICB1cGRhdGUucGF5bG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG1hcmtGYWlsZWRFcnJvckJvdW5kYXJ5Rm9ySG90UmVsb2FkaW5nKGZpYmVyKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGVycm9ySW5mby5zb3VyY2UsXG4gICAgICAgICAgICBsb2dDYXVnaHRFcnJvcixcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGVycm9ySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgaW5zdCA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIG51bGwgIT09IGluc3QgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdC5jb21wb25lbnREaWRDYXRjaCAmJlxuICAgICAgICAodXBkYXRlLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG1hcmtGYWlsZWRFcnJvckJvdW5kYXJ5Rm9ySG90UmVsb2FkaW5nKGZpYmVyKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGVycm9ySW5mby5zb3VyY2UsXG4gICAgICAgICAgICBsb2dDYXVnaHRFcnJvcixcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGVycm9ySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICYmXG4gICAgICAgICAgICAobnVsbCA9PT0gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWRcbiAgICAgICAgICAgICAgPyAobGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBuZXcgU2V0KFt0aGlzXSkpXG4gICAgICAgICAgICAgIDogbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuYWRkKHRoaXMpKTtcbiAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkQ2F0Y2hJbkRFVih0aGlzLCBlcnJvckluZm8pO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciB8fFxuICAgICAgICAgICAgKDAgPT09IChmaWJlci5sYW5lcyAmIDIpICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCIlczogRXJyb3IgYm91bmRhcmllcyBzaG91bGQgaW1wbGVtZW50IGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcigpLiBJbiB0aGF0IG1ldGhvZCwgcmV0dXJuIGEgc3RhdGUgdXBkYXRlIHRvIGRpc3BsYXkgYW4gZXJyb3IgbWVzc2FnZSBvciBmYWxsYmFjayBVSS5cIixcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKFxuICAgICAgcm9vdCxcbiAgICAgIHJldHVybkZpYmVyLFxuICAgICAgc291cmNlRmliZXIsXG4gICAgICB2YWx1ZSxcbiAgICAgIHJvb3RSZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgc291cmNlRmliZXIuZmxhZ3MgfD0gMzI3Njg7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIHJvb3RSZW5kZXJMYW5lcyk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHZhbHVlICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZS50aGVuXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci5hbHRlcm5hdGU7XG4gICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyICYmXG4gICAgICAgICAgcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgICAgICAgcm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBpc0h5ZHJhdGluZyAmJiAoZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMCk7XG4gICAgICAgIHNvdXJjZUZpYmVyID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgICAgaWYgKG51bGwgIT09IHNvdXJjZUZpYmVyKSB7XG4gICAgICAgICAgc3dpdGNoIChzb3VyY2VGaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gc2hlbGxCb3VuZGFyeVxuICAgICAgICAgICAgICAgICAgPyByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKClcbiAgICAgICAgICAgICAgICAgIDogbnVsbCA9PT0gc291cmNlRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RJblByb2dyZXNzICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzICY9IC0yNTcpLFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmxhbmVzID0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlXG4gICAgICAgICAgICAgICAgICA/IChzb3VyY2VGaWJlci5mbGFncyB8PSAxNjM4NClcbiAgICAgICAgICAgICAgICAgIDogKChyZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICA/IChzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSA9IG5ldyBTZXQoW3ZhbHVlXSkpXG4gICAgICAgICAgICAgICAgICAgICAgOiByZXR1cm5GaWJlci5hZGQodmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgdmFsdWUsIHJvb3RSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgICAgdmFsdWUgPT09IG5vb3BTdXNwZW5zZXlDb21taXRUaGVuYWJsZVxuICAgICAgICAgICAgICAgICAgPyAoc291cmNlRmliZXIuZmxhZ3MgfD0gMTYzODQpXG4gICAgICAgICAgICAgICAgICA6ICgocmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2VzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXRyeVF1ZXVlOiBuZXcgU2V0KFt2YWx1ZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSA9IHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICgoc291cmNlRmliZXIgPSByZXR1cm5GaWJlci5yZXRyeVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gKHJldHVybkZpYmVyLnJldHJ5UXVldWUgPSBuZXcgU2V0KFt2YWx1ZV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHNvdXJjZUZpYmVyLmFkZCh2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgdmFsdWUsIHJvb3RSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJVbmV4cGVjdGVkIFN1c3BlbnNlIGhhbmRsZXIgdGFnIChcIiArXG4gICAgICAgICAgICAgIHNvdXJjZUZpYmVyLnRhZyArXG4gICAgICAgICAgICAgIFwiKS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYXR0YWNoUGluZ0xpc3RlbmVyKHJvb3QsIHZhbHVlLCByb290UmVuZGVyTGFuZXMpO1xuICAgICAgICByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKCk7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0h5ZHJhdGluZylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMCksXG4gICAgICAgICAgKHJldHVybkZpYmVyID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCksXG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgID8gKDAgPT09IChyZXR1cm5GaWJlci5mbGFncyAmIDY1NTM2KSAmJiAocmV0dXJuRmliZXIuZmxhZ3MgfD0gMjU2KSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyLmxhbmVzID0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgdmFsdWUgIT09IEh5ZHJhdGlvbk1pc21hdGNoRXhjZXB0aW9uICYmXG4gICAgICAgICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBoeWRyYXRpbmcgYnV0IFJlYWN0IHdhcyBhYmxlIHRvIHJlY292ZXIgYnkgaW5zdGVhZCBjbGllbnQgcmVuZGVyaW5nIGZyb20gdGhlIG5lYXJlc3QgU3VzcGVuc2UgYm91bmRhcnkuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjYXVzZTogdmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6ICh2YWx1ZSAhPT0gSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIGh5ZHJhdGluZyBidXQgUmVhY3Qgd2FzIGFibGUgdG8gcmVjb3ZlciBieSBpbnN0ZWFkIGNsaWVudCByZW5kZXJpbmcgdGhlIGVudGlyZSByb290LlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2F1c2U6IHZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRmliZXJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAocm9vdCA9IHJvb3QuY3VycmVudC5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgICAocm9vdC5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgJj0gLXJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIChyb290LmxhbmVzIHw9IHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICh2YWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHZhbHVlLCBzb3VyY2VGaWJlcikpLFxuICAgICAgICAgICAgICAocm9vdFJlbmRlckxhbmVzID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgIHJvb3Quc3RhdGVOb2RlLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIHJvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHJvb3QsIHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgJiZcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RFcnJvcmVkKSksXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICBFcnJvcihcbiAgICAgICAgICBcIlRoZXJlIHdhcyBhbiBlcnJvciBkdXJpbmcgY29uY3VycmVudCByZW5kZXJpbmcgYnV0IFJlYWN0IHdhcyBhYmxlIHRvIHJlY292ZXIgYnkgaW5zdGVhZCBzeW5jaHJvbm91c2x5IHJlbmRlcmluZyB0aGUgZW50aXJlIHJvb3QuXCIsXG4gICAgICAgICAgeyBjYXVzZTogdmFsdWUgfVxuICAgICAgICApLFxuICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgKTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnNcbiAgICAgICAgPyAod29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycyA9IFtlcnJvcl0pXG4gICAgICAgIDogd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RXJyb3JlZCk7XG4gICAgICBpZiAobnVsbCA9PT0gcmV0dXJuRmliZXIpIHJldHVybiAhMDtcbiAgICAgIHZhbHVlID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodmFsdWUsIHNvdXJjZUZpYmVyKTtcbiAgICAgIHNvdXJjZUZpYmVyID0gcmV0dXJuRmliZXI7XG4gICAgICBkbyB7XG4gICAgICAgIHN3aXRjaCAoc291cmNlRmliZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgKHJvb3QgPSByb290UmVuZGVyTGFuZXMgJiAtcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmxhbmVzIHw9IHJvb3QpLFxuICAgICAgICAgICAgICAocm9vdCA9IGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShcbiAgICAgICAgICAgICAgICBzb3VyY2VGaWJlci5zdGF0ZU5vZGUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHNvdXJjZUZpYmVyLCByb290KSxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKHJldHVybkZpYmVyID0gc291cmNlRmliZXIudHlwZSksXG4gICAgICAgICAgICAgIChlcnJvciA9IHNvdXJjZUZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgIDAgPT09IChzb3VyY2VGaWJlci5mbGFncyAmIDEyOCkgJiZcbiAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuRmliZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIHx8XG4gICAgICAgICAgICAgICAgICAobnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZXJyb3IuY29tcG9uZW50RGlkQ2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT09IGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgIWxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhlcnJvcikpKSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgICAocm9vdFJlbmRlckxhbmVzICY9IC1yb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5sYW5lcyB8PSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgPSBjcmVhdGVDbGFzc0Vycm9yVXBkYXRlKHJvb3RSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgcm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZShzb3VyY2VGaWJlciwgcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZUZpYmVyID0gc291cmNlRmliZXIucmV0dXJuO1xuICAgICAgfSB3aGlsZSAobnVsbCAhPT0gc291cmNlRmliZXIpO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9XG4gICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICA/IG1vdW50Q2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIG51bGwsIG5leHRDaGlsZHJlbiwgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgOiByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIGN1cnJlbnQuY2hpbGQsXG4gICAgICAgICAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZvcndhcmRSZWYoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50LnJlbmRlcjtcbiAgICAgIHZhciByZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICBpZiAoXCJyZWZcIiBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgdmFyIHByb3BzV2l0aG91dFJlZiA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV4dFByb3BzKVxuICAgICAgICAgIFwicmVmXCIgIT09IGtleSAmJiAocHJvcHNXaXRob3V0UmVmW2tleV0gPSBuZXh0UHJvcHNba2V5XSk7XG4gICAgICB9IGVsc2UgcHJvcHNXaXRob3V0UmVmID0gbmV4dFByb3BzO1xuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbmV4dFByb3BzID0gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBwcm9wc1dpdGhvdXRSZWYsXG4gICAgICAgIHJlZixcbiAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICk7XG4gICAgICBrZXkgPSBjaGVja0RpZFJlbmRlcklkSG9vaygpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmICFkaWRSZWNlaXZlVXBkYXRlKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICApO1xuICAgICAgaXNIeWRyYXRpbmcgJiYga2V5ICYmIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlTWVtb0NvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICB2YXIgdHlwZSA9IENvbXBvbmVudC50eXBlO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICFzaG91bGRDb25zdHJ1Y3QodHlwZSkgJiZcbiAgICAgICAgICB2b2lkIDAgPT09IHR5cGUuZGVmYXVsdFByb3BzICYmXG4gICAgICAgICAgbnVsbCA9PT0gQ29tcG9uZW50LmNvbXBhcmVcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoQ29tcG9uZW50ID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHR5cGUpKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50YWcgPSAxNSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IENvbXBvbmVudCksXG4gICAgICAgICAgICB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIHR5cGUpLFxuICAgICAgICAgICAgdXBkYXRlU2ltcGxlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoXG4gICAgICAgICAgQ29tcG9uZW50LnR5cGUsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSxcbiAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICApO1xuICAgICAgICBjdXJyZW50LnJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgcmV0dXJuICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQpO1xuICAgICAgfVxuICAgICAgdHlwZSA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICBpZiAoIWNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSkge1xuICAgICAgICB2YXIgcHJldlByb3BzID0gdHlwZS5tZW1vaXplZFByb3BzO1xuICAgICAgICBDb21wb25lbnQgPSBDb21wb25lbnQuY29tcGFyZTtcbiAgICAgICAgQ29tcG9uZW50ID0gbnVsbCAhPT0gQ29tcG9uZW50ID8gQ29tcG9uZW50IDogc2hhbGxvd0VxdWFsO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgQ29tcG9uZW50KHByZXZQcm9wcywgbmV4dFByb3BzKSAmJlxuICAgICAgICAgIGN1cnJlbnQucmVmID09PSB3b3JrSW5Qcm9ncmVzcy5yZWZcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIGN1cnJlbnQgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyh0eXBlLCBuZXh0UHJvcHMpO1xuICAgICAgY3VycmVudC5yZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICBjdXJyZW50LnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgcmV0dXJuICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzaGFsbG93RXF1YWwocHJldlByb3BzLCBuZXh0UHJvcHMpICYmXG4gICAgICAgICAgY3VycmVudC5yZWYgPT09IHdvcmtJblByb2dyZXNzLnJlZiAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPT09IGN1cnJlbnQudHlwZVxuICAgICAgICApXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKChkaWRSZWNlaXZlVXBkYXRlID0gITEpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IG5leHRQcm9wcyA9IHByZXZQcm9wcyksXG4gICAgICAgICAgICBjaGVja1NjaGVkdWxlZFVwZGF0ZU9yQ29udGV4dChjdXJyZW50LCByZW5kZXJMYW5lcykpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMzEwNzIpICYmIChkaWRSZWNlaXZlVXBkYXRlID0gITApO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGN1cnJlbnQubGFuZXMpLFxuICAgICAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9mZnNjcmVlbkNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgIG5leHRDaGlsZHJlbiA9IG5leHRQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgbmV4dElzRGV0YWNoZWQgPVxuICAgICAgICAgIDAgIT09XG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZCksXG4gICAgICAgIHByZXZTdGF0ZSA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkU3RhdGUgOiBudWxsO1xuICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBpZiAoXCJoaWRkZW5cIiA9PT0gbmV4dFByb3BzLm1vZGUgfHwgbmV4dElzRGV0YWNoZWQpIHtcbiAgICAgICAgaWYgKDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkpIHtcbiAgICAgICAgICBuZXh0UHJvcHMgPVxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgICAgID8gcHJldlN0YXRlLmJhc2VMYW5lcyB8IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgIDogcmVuZGVyTGFuZXM7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIG5leHRDaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZDtcbiAgICAgICAgICAgIGZvciAobmV4dElzRGV0YWNoZWQgPSAwOyBudWxsICE9PSBuZXh0Q2hpbGRyZW47IClcbiAgICAgICAgICAgICAgKG5leHRJc0RldGFjaGVkID1cbiAgICAgICAgICAgICAgICBuZXh0SXNEZXRhY2hlZCB8IG5leHRDaGlsZHJlbi5sYW5lcyB8IG5leHRDaGlsZHJlbi5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgICAgICAobmV4dENoaWxkcmVuID0gbmV4dENoaWxkcmVuLnNpYmxpbmcpO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IG5leHRJc0RldGFjaGVkICYgfm5leHRQcm9wcztcbiAgICAgICAgICB9IGVsc2UgKHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSAwKSwgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbCk7XG4gICAgICAgICAgcmV0dXJuIGRlZmVySGlkZGVuT2Zmc2NyZWVuQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICgwICE9PSAocmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpKVxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0geyBiYXNlTGFuZXM6IDAsIGNhY2hlUG9vbDogbnVsbCB9KSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgcHVzaFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlID8gcHJldlN0YXRlLmNhY2hlUG9vbCA6IG51bGxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG51bGwgIT09IHByZXZTdGF0ZVxuICAgICAgICAgICAgICA/IHB1c2hIaWRkZW5Db250ZXh0KHdvcmtJblByb2dyZXNzLCBwcmV2U3RhdGUpXG4gICAgICAgICAgICAgIDogcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwdXNoT2Zmc2NyZWVuU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gNTM2ODcwOTEyKSxcbiAgICAgICAgICAgIGRlZmVySGlkZGVuT2Zmc2NyZWVuQ29tcG9uZW50KFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgICAgICAgPyBwcmV2U3RhdGUuYmFzZUxhbmVzIHwgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgPyAocHVzaFRyYW5zaXRpb24od29ya0luUHJvZ3Jlc3MsIHByZXZTdGF0ZS5jYWNoZVBvb2wpLFxuICAgICAgICAgICAgcHVzaEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHByZXZTdGF0ZSksXG4gICAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsKSlcbiAgICAgICAgICA6IChudWxsICE9PSBjdXJyZW50ICYmIHB1c2hUcmFuc2l0aW9uKHdvcmtJblByb2dyZXNzLCBudWxsKSxcbiAgICAgICAgICAgIHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmVySGlkZGVuT2Zmc2NyZWVuQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dEJhc2VMYW5lcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gcGVla0NhY2hlRnJvbVBvb2woKTtcbiAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9XG4gICAgICAgIG51bGwgPT09IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICBwYXJlbnQ6IENhY2hlQ29udGV4dC5fY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgICBwb29sOiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRcbiAgICAgICAgICAgIH07XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0ge1xuICAgICAgICBiYXNlTGFuZXM6IG5leHRCYXNlTGFuZXMsXG4gICAgICAgIGNhY2hlUG9vbDogSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0XG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwdXNoVHJhbnNpdGlvbih3b3JrSW5Qcm9ncmVzcywgbnVsbCk7XG4gICAgICByZXVzZUhpZGRlbkNvbnRleHRPblN0YWNrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHB1c2hPZmZzY3JlZW5TdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMsICEwKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgaWYgKG51bGwgPT09IHJlZilcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQucmVmICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwOTc2NjQpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZWYgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHJlZilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgcmVmIHRvIGJlIGEgZnVuY3Rpb24sIGFuIG9iamVjdCByZXR1cm5lZCBieSBSZWFjdC5jcmVhdGVSZWYoKSwgb3IgdW5kZWZpbmVkL251bGwuXCJcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCBjdXJyZW50LnJlZiAhPT0gcmVmKVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwOTc2NjQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgQ29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlclxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSA8JXMgLz4gY29tcG9uZW50IGFwcGVhcnMgdG8gaGF2ZSBhIHJlbmRlciBtZXRob2QsIGJ1dCBkb2Vzbid0IGV4dGVuZCBSZWFjdC5Db21wb25lbnQuIFRoaXMgaXMgbGlrZWx5IHRvIGNhdXNlIGVycm9ycy4gQ2hhbmdlICVzIHRvIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0QmFkQ2xhc3NbY29tcG9uZW50TmFtZV0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmcoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAodmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgQ29tcG9uZW50LmNvbnRleHRUeXBlcyAmJlxuICAgICAgICAgICgoY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXNbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgICAgICgoZGlkV2FybkFib3V0Q29udGV4dFR5cGVzW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlcyB1c2VzIHRoZSBsZWdhY3kgY29udGV4dFR5cGVzIEFQSSB3aGljaCB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gVXNlIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSB3aXRoIFJlYWN0LnVzZUNvbnRleHQoKSBpbnN0ZWFkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9sZWdhY3ktY29udGV4dClcIixcbiAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgKSkpKTtcbiAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIENvbXBvbmVudCA9IHJlbmRlcldpdGhIb29rcyhcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHJlbmRlckxhbmVzXG4gICAgICApO1xuICAgICAgbmV4dFByb3BzID0gY2hlY2tEaWRSZW5kZXJJZEhvb2soKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAhZGlkUmVjZWl2ZVVwZGF0ZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgKTtcbiAgICAgIGlzSHlkcmF0aW5nICYmIG5leHRQcm9wcyAmJiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgc2Vjb25kQXJnLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgY3VycmVudC50eXBlICE9PSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsO1xuICAgICAgbmV4dFByb3BzID0gcmVuZGVyV2l0aEhvb2tzQWdhaW4oXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgc2Vjb25kQXJnXG4gICAgICApO1xuICAgICAgZmluaXNoUmVuZGVyaW5nSG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgQ29tcG9uZW50ID0gY2hlY2tEaWRSZW5kZXJJZEhvb2soKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAhZGlkUmVjZWl2ZVVwZGF0ZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgKTtcbiAgICAgIGlzSHlkcmF0aW5nICYmIENvbXBvbmVudCAmJiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgY3VycmVudCRqc2NvbXAkMCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoc2hvdWxkRXJyb3JJbXBsKHdvcmtJblByb2dyZXNzKSkge1xuICAgICAgICBjYXNlICExOlxuICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUsXG4gICAgICAgICAgICBzdGF0ZSA9IG5ldyB3b3JrSW5Qcm9ncmVzcy50eXBlKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UuY29udGV4dFxuICAgICAgICAgICAgKS5zdGF0ZTtcbiAgICAgICAgICBfaW5zdGFuY2UudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUoX2luc3RhbmNlLCBzdGF0ZSwgbnVsbCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgITA6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4O1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY1NTM2O1xuICAgICAgICAgIF9pbnN0YW5jZSA9IEVycm9yKFwiU2ltdWxhdGVkIGVycm9yIGNvbWluZyBmcm9tIERldlRvb2xzXCIpO1xuICAgICAgICAgIHZhciBsYW5lID0gcmVuZGVyTGFuZXMgJiAtcmVuZGVyTGFuZXM7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgfD0gbGFuZTtcbiAgICAgICAgICBzdGF0ZSA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gc3RhdGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBhIHdvcmstaW4tcHJvZ3Jlc3Mgcm9vdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbGFuZSA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUobGFuZSk7XG4gICAgICAgICAgaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUoXG4gICAgICAgICAgICBsYW5lLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKF9pbnN0YW5jZSwgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIGxhbmUpO1xuICAgICAgfVxuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSkge1xuICAgICAgICBzdGF0ZSA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgX2luc3RhbmNlID0gQ29tcG9uZW50LmNvbnRleHRUeXBlO1xuICAgICAgICBcImNvbnRleHRUeXBlXCIgaW4gQ29tcG9uZW50ICYmXG4gICAgICAgICAgbnVsbCAhPT0gX2luc3RhbmNlICYmXG4gICAgICAgICAgKHZvaWQgMCA9PT0gX2luc3RhbmNlIHx8IF9pbnN0YW5jZS4kJHR5cGVvZiAhPT0gUkVBQ1RfQ09OVEVYVF9UWVBFKSAmJlxuICAgICAgICAgICFkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUuaGFzKENvbXBvbmVudCkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0SW52YWxpZGF0ZUNvbnRleHRUeXBlLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIChsYW5lID1cbiAgICAgICAgICAgIHZvaWQgMCA9PT0gX2luc3RhbmNlXG4gICAgICAgICAgICAgID8gXCIgSG93ZXZlciwgaXQgaXMgc2V0IHRvIHVuZGVmaW5lZC4gVGhpcyBjYW4gYmUgY2F1c2VkIGJ5IGEgdHlwbyBvciBieSBtaXhpbmcgdXAgbmFtZWQgYW5kIGRlZmF1bHQgaW1wb3J0cy4gVGhpcyBjYW4gYWxzbyBoYXBwZW4gZHVlIHRvIGEgY2lyY3VsYXIgZGVwZW5kZW5jeSwgc28gdHJ5IG1vdmluZyB0aGUgY3JlYXRlQ29udGV4dCgpIGNhbGwgdG8gYSBzZXBhcmF0ZSBmaWxlLlwiXG4gICAgICAgICAgICAgIDogXCJvYmplY3RcIiAhPT0gdHlwZW9mIF9pbnN0YW5jZVxuICAgICAgICAgICAgICAgID8gXCIgSG93ZXZlciwgaXQgaXMgc2V0IHRvIGEgXCIgKyB0eXBlb2YgX2luc3RhbmNlICsgXCIuXCJcbiAgICAgICAgICAgICAgICA6IF9pbnN0YW5jZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRVxuICAgICAgICAgICAgICAgICAgPyBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIHRoZSBDb250ZXh0LkNvbnN1bWVyIGluc3RlYWQ/XCJcbiAgICAgICAgICAgICAgICAgIDogXCIgSG93ZXZlciwgaXQgaXMgc2V0IHRvIGFuIG9iamVjdCB3aXRoIGtleXMge1wiICtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoX2luc3RhbmNlKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgICAgICAgICBcIn0uXCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGRlZmluZXMgYW4gaW52YWxpZCBjb250ZXh0VHlwZS4gY29udGV4dFR5cGUgc2hvdWxkIHBvaW50IHRvIHRoZSBDb250ZXh0IG9iamVjdCByZXR1cm5lZCBieSBSZWFjdC5jcmVhdGVDb250ZXh0KCkuJXNcIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCIsXG4gICAgICAgICAgICBsYW5lXG4gICAgICAgICAgKSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBfaW5zdGFuY2UgJiZcbiAgICAgICAgICBudWxsICE9PSBfaW5zdGFuY2UgJiZcbiAgICAgICAgICAoc3RhdGUgPSByZWFkQ29udGV4dChfaW5zdGFuY2UpKTtcbiAgICAgICAgX2luc3RhbmNlID0gbmV3IENvbXBvbmVudChuZXh0UHJvcHMsIHN0YXRlKTtcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KG5leHRQcm9wcywgc3RhdGUpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgbnVsbCAhPT0gX2luc3RhbmNlLnN0YXRlICYmIHZvaWQgMCAhPT0gX2luc3RhbmNlLnN0YXRlXG4gICAgICAgICAgICA/IF9pbnN0YW5jZS5zdGF0ZVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBfaW5zdGFuY2UudXBkYXRlciA9IGNsYXNzQ29tcG9uZW50VXBkYXRlcjtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gX2luc3RhbmNlO1xuICAgICAgICBfaW5zdGFuY2UuX3JlYWN0SW50ZXJuYWxzID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIF9pbnN0YW5jZS5fcmVhY3RJbnRlcm5hbEluc3RhbmNlID0gZmFrZUludGVybmFsSW5zdGFuY2U7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiZcbiAgICAgICAgICBudWxsID09PSBzdGF0ZSAmJlxuICAgICAgICAgICgoc3RhdGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuaGFzKHN0YXRlKSB8fFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5hZGQoc3RhdGUpLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJgJXNgIHVzZXMgYGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc2AgYnV0IGl0cyBpbml0aWFsIHN0YXRlIGlzICVzLiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZC4gSW5zdGVhZCwgZGVmaW5lIHRoZSBpbml0aWFsIHN0YXRlIGJ5IGFzc2lnbmluZyBhbiBvYmplY3QgdG8gYHRoaXMuc3RhdGVgIGluIHRoZSBjb25zdHJ1Y3RvciBvZiBgJXNgLiBUaGlzIGVuc3VyZXMgdGhhdCBgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzYCBhcmd1bWVudHMgaGF2ZSBhIGNvbnNpc3RlbnQgc2hhcGUuXCIsXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBudWxsID09PSBfaW5zdGFuY2Uuc3RhdGUgPyBcIm51bGxcIiA6IFwidW5kZWZpbmVkXCIsXG4gICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICApKSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBmb3VuZFdpbGxVcGRhdGVOYW1lID0gKGxhbmUgPSBzdGF0ZSA9IG51bGwpO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAhMCAhPT0gX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgICA/IChzdGF0ZSA9IFwiY29tcG9uZW50V2lsbE1vdW50XCIpXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgIChzdGF0ZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFwiKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICEwICE9PVxuICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgICAgPyAobGFuZSA9IFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiKVxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICAgICAobGFuZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIik7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAhMCAhPT0gX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgICAgPyAoZm91bmRXaWxsVXBkYXRlTmFtZSA9IFwiY29tcG9uZW50V2lsbFVwZGF0ZVwiKVxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBcIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlXCIpO1xuICAgICAgICAgIGlmIChudWxsICE9PSBzdGF0ZSB8fCBudWxsICE9PSBsYW5lIHx8IG51bGwgIT09IGZvdW5kV2lsbFVwZGF0ZU5hbWUpIHtcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICAgICAgICB2YXIgbmV3QXBpTmFtZSA9XG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcbiAgICAgICAgICAgICAgICA/IFwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKClcIlxuICAgICAgICAgICAgICAgIDogXCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpXCI7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlLmhhcyhfaW5zdGFuY2UpIHx8XG4gICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlLmFkZChfaW5zdGFuY2UpLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5zYWZlIGxlZ2FjeSBsaWZlY3ljbGVzIHdpbGwgbm90IGJlIGNhbGxlZCBmb3IgY29tcG9uZW50cyB1c2luZyBuZXcgY29tcG9uZW50IEFQSXMuXFxuXFxuJXMgdXNlcyAlcyBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOiVzJXMlc1xcblxcblRoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbmh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzXCIsXG4gICAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICAgIG5ld0FwaU5hbWUsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gc3RhdGUgPyBcIlxcbiAgXCIgKyBzdGF0ZSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbGFuZSA/IFwiXFxuICBcIiArIGxhbmUgOiBcIlwiLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGZvdW5kV2lsbFVwZGF0ZU5hbWUgPyBcIlxcbiAgXCIgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogXCJcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBzdGF0ZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICAgIF9pbnN0YW5jZS5yZW5kZXIgfHxcbiAgICAgICAgICAoQ29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyXG4gICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlICVzIGluc3RhbmNlOiBkaWQgeW91IGFjY2lkZW50YWxseSByZXR1cm4gYW4gb2JqZWN0IGZyb20gdGhlIGNvbnN0cnVjdG9yP1wiLFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIk5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgJXMgaW5zdGFuY2U6IHlvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gZGVmaW5lIGByZW5kZXJgLlwiLFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAhX2luc3RhbmNlLmdldEluaXRpYWxTdGF0ZSB8fFxuICAgICAgICAgIF9pbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUuaXNSZWFjdENsYXNzQXBwcm92ZWQgfHxcbiAgICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgfHxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJnZXRJbml0aWFsU3RhdGUgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiBEaWQgeW91IG1lYW4gdG8gZGVmaW5lIGEgc3RhdGUgcHJvcGVydHkgaW5zdGVhZD9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLmdldERlZmF1bHRQcm9wcyAmJlxuICAgICAgICAgICFfaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZ2V0RGVmYXVsdFByb3BzIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuIFRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBkZWZhdWx0UHJvcHMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLmNvbnRleHRUeXBlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiY29udGV4dFR5cGUgd2FzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgY29udGV4dFR5cGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzICYmXG4gICAgICAgICAgIWRpZFdhcm5BYm91dENoaWxkQ29udGV4dFR5cGVzLmhhcyhDb21wb25lbnQpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dENoaWxkQ29udGV4dFR5cGVzLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIHVzZXMgdGhlIGxlZ2FjeSBjaGlsZENvbnRleHRUeXBlcyBBUEkgd2hpY2ggd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIFVzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgaW5zdGVhZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHQpXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICkpO1xuICAgICAgICBDb21wb25lbnQuY29udGV4dFR5cGVzICYmXG4gICAgICAgICAgIWRpZFdhcm5BYm91dENvbnRleHRUeXBlcyQxLmhhcyhDb21wb25lbnQpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dENvbnRleHRUeXBlcyQxLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIHVzZXMgdGhlIGxlZ2FjeSBjb250ZXh0VHlwZXMgQVBJIHdoaWNoIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiBVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHdpdGggc3RhdGljIGNvbnRleHRUeXBlIGluc3RlYWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0KVwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFNob3VsZFVwZGF0ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50U2hvdWxkVXBkYXRlKCkuIERpZCB5b3UgbWVhbiBzaG91bGRDb21wb25lbnRVcGRhdGUoKT8gVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCAmJlxuICAgICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBzaG91bGRDb21wb25lbnRVcGRhdGUoKS4gc2hvdWxkQ29tcG9uZW50VXBkYXRlIHNob3VsZCBub3QgYmUgdXNlZCB3aGVuIGV4dGVuZGluZyBSZWFjdC5QdXJlQ29tcG9uZW50LiBQbGVhc2UgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpZiBzaG91bGRDb21wb25lbnRVcGRhdGUgaXMgdXNlZC5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQSBwdXJlIGNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVubW91bnQgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudERpZFVubW91bnQoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxVbm1vdW50KCk/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudERpZFJlY2VpdmVQcm9wcygpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiBJZiB5b3UgbWVhbnQgdG8gdXBkYXRlIHRoZSBzdGF0ZSBpbiByZXNwb25zZSB0byBjaGFuZ2luZyBwcm9wcywgdXNlIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKS4gSWYgeW91IG1lYW50IHRvIGZldGNoIGRhdGEgb3IgcnVuIHNpZGUtZWZmZWN0cyBvciBtdXRhdGlvbnMgYWZ0ZXIgUmVhY3QgaGFzIHVwZGF0ZWQgdGhlIFVJLCB1c2UgY29tcG9uZW50RGlkVXBkYXRlKCkuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIGxhbmUgPSBfaW5zdGFuY2UucHJvcHMgIT09IG5leHRQcm9wcztcbiAgICAgICAgdm9pZCAwICE9PSBfaW5zdGFuY2UucHJvcHMgJiZcbiAgICAgICAgICBsYW5lICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiV2hlbiBjYWxsaW5nIHN1cGVyKCkgaW4gYCVzYCwgbWFrZSBzdXJlIHRvIHBhc3MgdXAgdGhlIHNhbWUgcHJvcHMgdGhhdCB5b3VyIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yIHdhcyBwYXNzZWQuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZS5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJTZXR0aW5nIGRlZmF1bHRQcm9wcyBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlZmluZSBkZWZhdWx0UHJvcHMgYXMgYSBzdGF0aWMgcHJvcGVydHkgb24gJXMuXCIsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSB8fFxuICAgICAgICAgIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5oYXMoQ29tcG9uZW50KSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgc2hvdWxkIGJlIHVzZWQgd2l0aCBjb21wb25lbnREaWRVcGRhdGUoKS4gVGhpcyBjb21wb25lbnQgZGVmaW5lcyBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIG9ubHkuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KVxuICAgICAgICAgICkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcigpIGlzIGRlZmluZWQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYSBzdGF0aWMgbWV0aG9kLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBpcyBkZWZpbmVkIGFzIGEgc3RhdGljIG1ldGhvZCBhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGFuIGluc3RhbmNlIG1ldGhvZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgKGxhbmUgPSBfaW5zdGFuY2Uuc3RhdGUpICYmXG4gICAgICAgICAgKFwib2JqZWN0XCIgIT09IHR5cGVvZiBsYW5lIHx8IGlzQXJyYXlJbXBsKGxhbmUpKSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCIlcy5zdGF0ZTogbXVzdCBiZSBzZXQgdG8gYW4gb2JqZWN0IG9yIG51bGxcIiwgc3RhdGUpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0ICYmXG4gICAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLmdldENoaWxkQ29udGV4dCgpOiBjaGlsZENvbnRleHRUeXBlcyBtdXN0IGJlIGRlZmluZWQgaW4gb3JkZXIgdG8gdXNlIGdldENoaWxkQ29udGV4dCgpLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IG5leHRQcm9wcztcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgX2luc3RhbmNlLnJlZnMgPSB7fTtcbiAgICAgICAgaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgc3RhdGUgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIF9pbnN0YW5jZS5jb250ZXh0ID1cbiAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygc3RhdGUgJiYgbnVsbCAhPT0gc3RhdGVcbiAgICAgICAgICAgID8gcmVhZENvbnRleHQoc3RhdGUpXG4gICAgICAgICAgICA6IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID09PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgICAoKHN0YXRlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgICAgZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUuaGFzKHN0YXRlKSB8fFxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dERpcmVjdGx5QXNzaWduaW5nUHJvcHNUb1N0YXRlLmFkZChzdGF0ZSksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzOiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gYXNzaWduIHByb3BzIGRpcmVjdGx5IHRvIHN0YXRlIGJlY2F1c2UgdXBkYXRlcyB0byBwcm9wcyB3b24ndCBiZSByZWZsZWN0ZWQgaW4gc3RhdGUuIEluIG1vc3QgY2FzZXMsIGl0IGlzIGJldHRlciB0byB1c2UgcHJvcHMgZGlyZWN0bHkuXCIsXG4gICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICApKSk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmcoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIF9pbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIF9pbnN0YW5jZVxuICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBzdGF0ZSA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHN0YXRlICYmXG4gICAgICAgICAgKGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICksXG4gICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCkgfHxcbiAgICAgICAgICAoKHN0YXRlID0gX2luc3RhbmNlLnN0YXRlKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCksXG4gICAgICAgICAgc3RhdGUgIT09IF9pbnN0YW5jZS5zdGF0ZSAmJlxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJXMuY29tcG9uZW50V2lsbE1vdW50KCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2xhc3NDb21wb25lbnRVcGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoXG4gICAgICAgICAgICAgIF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgX2luc3RhbmNlLnN0YXRlLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgX2luc3RhbmNlLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpLFxuICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KTtcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NzEwODg2NCk7XG4gICAgICAgIF9pbnN0YW5jZSA9ICEwO1xuICAgICAgfSBlbHNlIGlmIChudWxsID09PSBjdXJyZW50JGpzY29tcCQwKSB7XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgdmFyIHVucmVzb2x2ZWRPbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAgIGxhbmUgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhDb21wb25lbnQsIHVucmVzb2x2ZWRPbGRQcm9wcyk7XG4gICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IGxhbmU7XG4gICAgICAgIHZhciBvbGRDb250ZXh0ID0gX2luc3RhbmNlLmNvbnRleHQ7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIHN0YXRlID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZm91bmRXaWxsVXBkYXRlTmFtZSAmJlxuICAgICAgICAgIG51bGwgIT09IGZvdW5kV2lsbFVwZGF0ZU5hbWUgJiZcbiAgICAgICAgICAoc3RhdGUgPSByZWFkQ29udGV4dChmb3VuZFdpbGxVcGRhdGVOYW1lKSk7XG4gICAgICAgIG5ld0FwaU5hbWUgPSBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID1cbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdBcGlOYW1lIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlO1xuICAgICAgICB1bnJlc29sdmVkT2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgIT09IHVucmVzb2x2ZWRPbGRQcm9wcztcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSB8fFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB8fFxuICAgICAgICAgICgodW5yZXNvbHZlZE9sZFByb3BzIHx8IG9sZENvbnRleHQgIT09IHN0YXRlKSAmJlxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICkpO1xuICAgICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgICAgICB2YXIgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSBvbGRTdGF0ZTtcbiAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIF9pbnN0YW5jZSwgcmVuZGVyTGFuZXMpO1xuICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCk7XG4gICAgICAgIG9sZENvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICB1bnJlc29sdmVkT2xkUHJvcHMgfHwgb2xkU3RhdGUgIT09IG9sZENvbnRleHQgfHwgaGFzRm9yY2VVcGRhdGVcbiAgICAgICAgICA/IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdBcGlOYW1lICYmXG4gICAgICAgICAgICAgIChhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbmV3QXBpTmFtZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKG9sZENvbnRleHQgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSksXG4gICAgICAgICAgICAobGFuZSA9XG4gICAgICAgICAgICAgIGhhc0ZvcmNlVXBkYXRlIHx8XG4gICAgICAgICAgICAgIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBsYW5lLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgICBvbGRDb250ZXh0LFxuICAgICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgID8gKGZvdW5kV2lsbFVwZGF0ZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpLFxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KSlcbiAgICAgICAgICAgICAgOiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBvbGRDb250ZXh0KSksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSBvbGRDb250ZXh0KSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UuY29udGV4dCA9IHN0YXRlKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSBsYW5lKSlcbiAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQxOTQzMDgpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9ICExKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIGNsb25lVXBkYXRlUXVldWUoY3VycmVudCRqc2NvbXAkMCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBzdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhDb21wb25lbnQsIHN0YXRlKTtcbiAgICAgICAgX2luc3RhbmNlLnByb3BzID0gZm91bmRXaWxsVXBkYXRlTmFtZTtcbiAgICAgICAgbmV3QXBpTmFtZSA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgICAgb2xkU3RhdGUgPSBfaW5zdGFuY2UuY29udGV4dDtcbiAgICAgICAgb2xkQ29udGV4dCA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgbGFuZSA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9sZENvbnRleHQgJiZcbiAgICAgICAgICBudWxsICE9PSBvbGRDb250ZXh0ICYmXG4gICAgICAgICAgKGxhbmUgPSByZWFkQ29udGV4dChvbGRDb250ZXh0KSk7XG4gICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gICAgICAgIChvbGRDb250ZXh0ID1cbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1bnJlc29sdmVkT2xkUHJvcHMgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUpIHx8XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHx8XG4gICAgICAgICAgKChzdGF0ZSAhPT0gbmV3QXBpTmFtZSB8fCBvbGRTdGF0ZSAhPT0gbGFuZSkgJiZcbiAgICAgICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICAgICkpO1xuICAgICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgICAgICBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgX2luc3RhbmNlLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKTtcbiAgICAgICAgdmFyIG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgc3RhdGUgIT09IG5ld0FwaU5hbWUgfHxcbiAgICAgICAgb2xkU3RhdGUgIT09IG5ld1N0YXRlIHx8XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlIHx8XG4gICAgICAgIChudWxsICE9PSBjdXJyZW50JGpzY29tcCQwICYmXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMgJiZcbiAgICAgICAgICBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMpKVxuICAgICAgICAgID8gKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHVucmVzb2x2ZWRPbGRQcm9wcyAmJlxuICAgICAgICAgICAgICAoYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKG5ld1N0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSkpLFxuICAgICAgICAgICAgKGZvdW5kV2lsbFVwZGF0ZU5hbWUgPVxuICAgICAgICAgICAgICBoYXNGb3JjZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUsXG4gICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50JGpzY29tcCQwICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMgJiZcbiAgICAgICAgICAgICAgICBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCRqc2NvbXAkMC5kZXBlbmRlbmNpZXMpKSlcbiAgICAgICAgICAgICAgPyAob2xkQ29udGV4dCB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5ld1N0YXRlLCBsYW5lKSxcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpKVxuICAgICAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICAgICAgKHN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBuZXdTdGF0ZSkpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5wcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnN0YXRlID0gbmV3U3RhdGUpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5jb250ZXh0ID0gbGFuZSksXG4gICAgICAgICAgICAoX2luc3RhbmNlID0gZm91bmRXaWxsVXBkYXRlTmFtZSkpXG4gICAgICAgICAgOiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSB8fFxuICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSAhMSkpO1xuICAgICAgfVxuICAgICAgbGFuZSA9IF9pbnN0YW5jZTtcbiAgICAgIG1hcmtSZWYoY3VycmVudCRqc2NvbXAkMCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3RhdGUgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpO1xuICAgICAgaWYgKGxhbmUgfHwgc3RhdGUpIHtcbiAgICAgICAgbGFuZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID1cbiAgICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcyA/IG51bGwgOiBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2O1xuICAgICAgICBpc1JlbmRlcmluZyA9ICExO1xuICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIGlmIChzdGF0ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKVxuICAgICAgICAgIChDb21wb25lbnQgPSBudWxsKSwgKHByb2ZpbGVyU3RhcnRUaW1lID0gLTEpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgQ29tcG9uZW50ID0gY2FsbFJlbmRlckluREVWKGxhbmUpO1xuICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY2FsbFJlbmRlckluREVWKGxhbmUpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAgJiYgc3RhdGVcbiAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIGN1cnJlbnQkanNjb21wJDAuY2hpbGQsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSkpXG4gICAgICAgICAgOiByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBsYW5lLnN0YXRlO1xuICAgICAgICBjdXJyZW50JGpzY29tcCQwID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICB9IGVsc2VcbiAgICAgICAgY3VycmVudCRqc2NvbXAkMCA9IGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgY3VycmVudCRqc2NvbXAkMCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICApO1xuICAgICAgcmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICBfaW5zdGFuY2UgJiZcbiAgICAgICAgcmVuZGVyTGFuZXMucHJvcHMgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAoZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkl0IGxvb2tzIGxpa2UgJXMgaXMgcmVhc3NpZ25pbmcgaXRzIG93biBgdGhpcy5wcm9wc2Agd2hpbGUgcmVuZGVyaW5nLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGNhbiBsZWFkIHRvIGNvbmZ1c2luZyBidWdzLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykgfHwgXCJhIGNvbXBvbmVudFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgPSAhMCkpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQkanNjb21wJDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SG9zdFJvb3RXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDI1NjtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQpIHtcbiAgICAgIENvbXBvbmVudCAmJlxuICAgICAgICBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImNoaWxkQ29udGV4dFR5cGVzIGNhbm5vdCBiZSBkZWZpbmVkIG9uIGEgZnVuY3Rpb24gY29tcG9uZW50LlxcbiAgJXMuY2hpbGRDb250ZXh0VHlwZXMgPSAuLi5cIixcbiAgICAgICAgICBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICApO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uQ29tcG9uZW50W3dvcmtJblByb2dyZXNzXSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogRnVuY3Rpb24gY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuXCIsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25Db21wb25lbnRbd29ya0luUHJvZ3Jlc3NdID1cbiAgICAgICAgICAgICEwKSkpO1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIENvbXBvbmVudC5jb250ZXh0VHlwZSAmJlxuICAgICAgICBudWxsICE9PSBDb21wb25lbnQuY29udGV4dFR5cGUgJiZcbiAgICAgICAgKChDb21wb25lbnQgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIiksXG4gICAgICAgIGRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudFtDb21wb25lbnRdIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBGdW5jdGlvbiBjb21wb25lbnRzIGRvIG5vdCBzdXBwb3J0IGNvbnRleHRUeXBlLlwiLFxuICAgICAgICAgICAgQ29tcG9uZW50XG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50W0NvbXBvbmVudF0gPSAhMCkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSB7XG4gICAgICByZXR1cm4geyBiYXNlTGFuZXM6IHJlbmRlckxhbmVzLCBjYWNoZVBvb2w6IGdldFN1c3BlbmRlZENhY2hlKCkgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICBjdXJyZW50LFxuICAgICAgcHJpbWFyeVRyZWVEaWREZWZlcixcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBjdXJyZW50ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQuY2hpbGRMYW5lcyAmIH5yZW5kZXJMYW5lcyA6IDA7XG4gICAgICBwcmltYXJ5VHJlZURpZERlZmVyICYmIChjdXJyZW50IHw9IHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lKTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTdXNwZW5zZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTc7XG4gICAgICB2YXIgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICBzaG91bGRTdXNwZW5kSW1wbCh3b3JrSW5Qcm9ncmVzcykgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCk7XG4gICAgICB2YXIgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPSAhMTtcbiAgICAgIHZhciBkaWRTdXNwZW5kID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KTtcbiAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSBkaWRTdXNwZW5kKSB8fFxuICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID1cbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgPT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyAhMVxuICAgICAgICAgICAgOiAwICE9PSAoc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50ICYgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSk7XG4gICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgJiZcbiAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9ICEwKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xMjkpKTtcbiAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDMyKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0zMztcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5XG4gICAgICAgICAgICA/IHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgIDogcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTtcbiAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXA7XG4gICAgICAgICAgICBpZiAoIShKU0NvbXBpbGVyX3RlbXAgPSAhSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNikpIHtcbiAgICAgICAgICAgICAgYzoge1xuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTY7XG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IHJvb3RPclNpbmdsZXRvbkNvbnRleHQ7XG4gICAgICAgICAgICAgICAgICA4ICE9PSBpbnN0YW5jZS5ub2RlVHlwZTtcblxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFKU0NvbXBpbGVyX3RlbXApIHtcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoaW5zdGFuY2UubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgICAgICAgICAgID8gKHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlaHlkcmF0ZWQ6IEpTQ29tcGlsZXJfdGVtcCxcbiAgICAgICAgICAgICAgICAgICAgdHJlZUNvbnRleHQ6XG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gdHJlZUNvbnRleHRQcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGlkOiB0cmVlQ29udGV4dElkLCBvdmVyZmxvdzogdHJlZUNvbnRleHRPdmVyZmxvdyB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJldHJ5TGFuZTogNTM2ODcwOTEyXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIChpbnN0YW5jZSA9IGNyZWF0ZUZpYmVyKDE4LCBudWxsLCBudWxsLCBOb01vZGUpKSxcbiAgICAgICAgICAgICAgICAgIChpbnN0YW5jZS5zdGF0ZU5vZGUgPSBKU0NvbXBpbGVyX3RlbXApLFxuICAgICAgICAgICAgICAgICAgKGluc3RhbmNlLnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGluc3RhbmNlKSxcbiAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gITApKVxuICAgICAgICAgICAgICAgIDogKEpTQ29tcGlsZXJfdGVtcCA9ICExKTtcbiAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gIUpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCAmJlxuICAgICAgICAgICAgICAod2Fybk5vbkh5ZHJhdGVkSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiAmJlxuICAgICAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kZWh5ZHJhdGVkKSxcbiAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kYXRhID09PVxuICAgICAgICAgICAgICBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBXG4gICAgICAgICAgICAgICAgPyAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSAxNilcbiAgICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDUzNjg3MDkxMiksXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlbjtcbiAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmZhbGxiYWNrO1xuICAgICAgICBpZiAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIG1vZGU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTlcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuc2libGluZyA9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5Lm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgICBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5jaGlsZExhbmVzID1cbiAgICAgICAgICAgICAgZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVIpLFxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICApO1xuICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZXR1cm4gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbihcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YXIgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBwcmV2U3RhdGUgJiZcbiAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gcHJldlN0YXRlLmRlaHlkcmF0ZWQpLFxuICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KVxuICAgICAgKSB7XG4gICAgICAgIGlmIChkaWRTdXNwZW5kKVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2XG4gICAgICAgICAgICA/IChwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTI1NyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICA6IG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgPyAocmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSBudWxsKSlcbiAgICAgICAgICAgICAgOiAocmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguZmFsbGJhY2spLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gd29ya0luUHJvZ3Jlc3MubW9kZSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID1cbiAgICAgICAgICAgICAgICAgIG1vdW50V29ya0luUHJvZ3Jlc3NPZmZzY3JlZW5GaWJlcihcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwidmlzaWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgICAgY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmZsYWdzIHw9IDIpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LnJldHVybiA9XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnNpYmxpbmcgPVxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAgICAgICByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudC5jaGlsZCxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICAgICAgICAgIG1vdW50U3VzcGVuc2VPZmZzY3JlZW5TdGF0ZShyZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZExhbmVzID1cbiAgICAgICAgICAgICAgICAgIGdldFJlbWFpbmluZ1dvcmtJblByaW1hcnlUcmVlKFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVIpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSkpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAocHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJXZSBzaG91bGQgbm90IGJlIGh5ZHJhdGluZyBoZXJlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhIGJ1Zy5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgICBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBKVxuICAgICAgICApIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5uZXh0U2libGluZyAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5uZXh0U2libGluZy5kYXRhc2V0O1xuICAgICAgICAgIGlmIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcpIHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5kZ3N0O1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcubXNnO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcuc3RjaztcbiAgICAgICAgICAgIHZhciBjb21wb25lbnRTdGFjayA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5jc3RjaztcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IG1lc3NhZ2U7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gaW5zdGFuY2U7XG4gICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgY29tcG9uZW50U3RhY2s7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICA/IEVycm9yKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpXG4gICAgICAgICAgICAgIDogRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlRoZSBzZXJ2ZXIgY291bGQgbm90IGZpbmlzaCB0aGlzIFN1c3BlbnNlIGJvdW5kYXJ5LCBsaWtlbHkgZHVlIHRvIGFuIGVycm9yIGR1cmluZyBzZXJ2ZXIgcmVuZGVyaW5nLiBTd2l0Y2hlZCB0byBjbGllbnQgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5zdGFjayA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCB8fCBcIlwiO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmRpZ2VzdCA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTc7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID1cbiAgICAgICAgICAgIHZvaWQgMCA9PT0gSlNDb21waWxlcl90ZW1wID8gbnVsbCA6IEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHtcbiAgICAgICAgICAgIHZhbHVlOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgIHNvdXJjZTogbnVsbCxcbiAgICAgICAgICAgIHN0YWNrOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTdcbiAgICAgICAgICB9O1xuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgJiZcbiAgICAgICAgICAgIENhcHR1cmVkU3RhY2tzLnNldChcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICAgICApO1xuICAgICAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKGRpZFJlY2VpdmVVcGRhdGUgfHxcbiAgICAgICAgICAgIHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgICAgMCAhPT0gKHJlbmRlckxhbmVzICYgY3VycmVudC5jaGlsZExhbmVzKSksXG4gICAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSB8fCBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcpXG4gICAgICAgICkge1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3KSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHJlbmRlckxhbmVzICYgLXJlbmRlckxhbmVzO1xuICAgICAgICAgICAgaWYgKDAgIT09IChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCAmIDQyKSlcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBzd2l0Y2ggKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSA0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMTY7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEyODpcbiAgICAgICAgICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgICAgICAgICBjYXNlIDUxMjpcbiAgICAgICAgICAgICAgICBjYXNlIDEwMjQ6XG4gICAgICAgICAgICAgICAgY2FzZSAyMDQ4OlxuICAgICAgICAgICAgICAgIGNhc2UgNDA5NjpcbiAgICAgICAgICAgICAgICBjYXNlIDgxOTI6XG4gICAgICAgICAgICAgICAgY2FzZSAxNjM4NDpcbiAgICAgICAgICAgICAgICBjYXNlIDMyNzY4OlxuICAgICAgICAgICAgICAgIGNhc2UgNjU1MzY6XG4gICAgICAgICAgICAgICAgY2FzZSAxMzEwNzI6XG4gICAgICAgICAgICAgICAgY2FzZSAyNjIxNDQ6XG4gICAgICAgICAgICAgICAgY2FzZSA1MjQyODg6XG4gICAgICAgICAgICAgICAgY2FzZSAxMDQ4NTc2OlxuICAgICAgICAgICAgICAgIGNhc2UgMjA5NzE1MjpcbiAgICAgICAgICAgICAgICBjYXNlIDQxOTQzMDQ6XG4gICAgICAgICAgICAgICAgY2FzZSA4Mzg4NjA4OlxuICAgICAgICAgICAgICAgIGNhc2UgMTY3NzcyMTY6XG4gICAgICAgICAgICAgICAgY2FzZSAzMzU1NDQzMjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gNjQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI2ODQzNTQ1NjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMTM0MjE3NzI4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgICAgICAwICE9PVxuICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggJlxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcuc3VzcGVuZGVkTGFuZXMgfFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMpKVxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTg7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIDAgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICYmXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICE9PSBwcmV2U3RhdGUucmV0cnlMYW5lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICAoKHByZXZTdGF0ZS5yZXRyeUxhbmUgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCksXG4gICAgICAgICAgICAgICAgZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIoXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFNlbGVjdGl2ZUh5ZHJhdGlvbkV4Y2VwdGlvbilcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kYXRhID09PVxuICAgICAgICAgICAgU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIHx8IHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBXG4gICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5RGVoeWRyYXRlZFN1c3BlbnNlQm91bmRhcnkuYmluZChcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Ll9yZWFjdFJldHJ5ID1cbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IG51bGwpKVxuICAgICAgICAgICAgOiAoKGN1cnJlbnQgPSBwcmV2U3RhdGUudHJlZUNvbnRleHQpLFxuICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYubmV4dFNpYmxpbmdcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKGlzSHlkcmF0aW5nID0gITApLFxuICAgICAgICAgICAgICAoaHlkcmF0aW9uRXJyb3JzID0gbnVsbCksXG4gICAgICAgICAgICAgIChkaWRTdXNwZW5kT3JFcnJvckRFViA9ICExKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCksXG4gICAgICAgICAgICAgIChyb290T3JTaW5nbGV0b25Db250ZXh0ID0gITEpLFxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgKHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0SWQpLFxuICAgICAgICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0T3ZlcmZsb3cpLFxuICAgICAgICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleCsrXSA9IHRyZWVDb250ZXh0UHJvdmlkZXIpLFxuICAgICAgICAgICAgICAgICh0cmVlQ29udGV4dElkID0gY3VycmVudC5pZCksXG4gICAgICAgICAgICAgICAgKHRyZWVDb250ZXh0T3ZlcmZsb3cgPSBjdXJyZW50Lm92ZXJmbG93KSxcbiAgICAgICAgICAgICAgICAodHJlZUNvbnRleHRQcm92aWRlciA9IHdvcmtJblByb2dyZXNzKSksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MDk2KSk7XG4gICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5mYWxsYmFjayksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB3b3JrSW5Qcm9ncmVzcy5tb2RlKSxcbiAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgKGluc3RhbmNlID0gSlNDb21waWxlcl90ZW1wLnNpYmxpbmcpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKFxuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBtb2RlOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguc3VidHJlZUZsYWdzID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5zdWJ0cmVlRmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgbnVsbCAhPT0gaW5zdGFuY2VcbiAgICAgICAgICAgID8gKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgICBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTlcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgICBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuZmxhZ3MgfD0gMikpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5yZXR1cm4gPVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnNpYmxpbmcgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IGN1cnJlbnQuY2hpbGQubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgbnVsbCA9PT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgPyAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9XG4gICAgICAgICAgICAgICAgbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSlcbiAgICAgICAgICAgIDogKChKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuY2FjaGVQb29sKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl90ZW1wXG4gICAgICAgICAgICAgICAgPyAoKGluc3RhbmNlID0gQ2FjaGVDb250ZXh0Ll9jdXJyZW50VmFsdWUpLFxuICAgICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5wYXJlbnQgIT09IGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgPyB7IHBhcmVudDogaW5zdGFuY2UsIHBvb2w6IGluc3RhbmNlIH1cbiAgICAgICAgICAgICAgICAgICAgICA6IEpTQ29tcGlsZXJfdGVtcCkpXG4gICAgICAgICAgICAgICAgOiAoSlNDb21waWxlcl90ZW1wID0gZ2V0U3VzcGVuZGVkQ2FjaGUoKSksXG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0ge1xuICAgICAgICAgICAgICAgIGJhc2VMYW5lczpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuYmFzZUxhbmVzIHwgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgY2FjaGVQb29sOiBKU0NvbXBpbGVyX3RlbXBcbiAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5jaGlsZExhbmVzID1cbiAgICAgICAgICAgIGdldFJlbWFpbmluZ1dvcmtJblByaW1hcnlUcmVlKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IFNVU1BFTkRFRF9NQVJLRVIpLFxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICk7XG4gICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmVuZGVyTGFuZXMgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgY3VycmVudCA9IHJlbmRlckxhbmVzLnNpYmxpbmc7XG4gICAgICByZW5kZXJMYW5lcyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKHJlbmRlckxhbmVzLCB7XG4gICAgICAgIG1vZGU6IFwidmlzaWJsZVwiLFxuICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgIH0pO1xuICAgICAgcmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICByZW5kZXJMYW5lcy5zaWJsaW5nID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSB3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMpLFxuICAgICAgICBudWxsID09PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTdcbiAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zID0gW2N1cnJlbnRdKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxNikpXG4gICAgICAgICAgOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcucHVzaChjdXJyZW50KSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlbmRlckxhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gcmVuZGVyTGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4od29ya0luUHJvZ3Jlc3MsIHByaW1hcnlDaGlsZHJlbikge1xuICAgICAgcHJpbWFyeUNoaWxkcmVuID0gbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKFxuICAgICAgICB7IG1vZGU6IFwidmlzaWJsZVwiLCBjaGlsZHJlbjogcHJpbWFyeUNoaWxkcmVuIH0sXG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGVcbiAgICAgICk7XG4gICAgICBwcmltYXJ5Q2hpbGRyZW4ucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICByZXR1cm4gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcHJpbWFyeUNoaWxkcmVuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKG9mZnNjcmVlblByb3BzLCBtb2RlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tT2Zmc2NyZWVuKG9mZnNjcmVlblByb3BzLCBtb2RlLCAwLCBudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcmVjb25jaWxlQ2hpbGRGaWJlcnMod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQuY2hpbGQsIG51bGwsIHJlbmRlckxhbmVzKTtcbiAgICAgIGN1cnJlbnQgPSBtb3VudFN1c3BlbnNlUHJpbWFyeUNoaWxkcmVuKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuXG4gICAgICApO1xuICAgICAgY3VycmVudC5mbGFncyB8PSAyO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVTdXNwZW5zZVdvcmtPbkZpYmVyKGZpYmVyLCByZW5kZXJMYW5lcywgcHJvcGFnYXRpb25Sb290KSB7XG4gICAgICBmaWJlci5sYW5lcyB8PSByZW5kZXJMYW5lcztcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5sYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgICBmaWJlci5yZXR1cm4sXG4gICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICBwcm9wYWdhdGlvblJvb3RcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlU3VzcGVuc2VMaXN0TmVzdGVkQ2hpbGQoY2hpbGRTbG90LCBpbmRleCkge1xuICAgICAgdmFyIGlzQW5BcnJheSA9IGlzQXJyYXlJbXBsKGNoaWxkU2xvdCk7XG4gICAgICBjaGlsZFNsb3QgPSAhaXNBbkFycmF5ICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdldEl0ZXJhdG9yRm4oY2hpbGRTbG90KTtcbiAgICAgIHJldHVybiBpc0FuQXJyYXkgfHwgY2hpbGRTbG90XG4gICAgICAgID8gKChpc0FuQXJyYXkgPSBpc0FuQXJyYXkgPyBcImFycmF5XCIgOiBcIml0ZXJhYmxlXCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkEgbmVzdGVkICVzIHdhcyBwYXNzZWQgdG8gcm93ICMlcyBpbiA8U3VzcGVuc2VMaXN0IC8+LiBXcmFwIGl0IGluIGFuIGFkZGl0aW9uYWwgU3VzcGVuc2VMaXN0IHRvIGNvbmZpZ3VyZSBpdHMgcmV2ZWFsT3JkZXI6IDxTdXNwZW5zZUxpc3QgcmV2ZWFsT3JkZXI9Li4uPiAuLi4gPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj0uLi4+eyVzfTwvU3VzcGVuc2VMaXN0PiAuLi4gPC9TdXNwZW5zZUxpc3Q+XCIsXG4gICAgICAgICAgICBpc0FuQXJyYXksXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGlzQW5BcnJheVxuICAgICAgICAgICksXG4gICAgICAgICAgITEpXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZShcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgaXNCYWNrd2FyZHMsXG4gICAgICB0YWlsLFxuICAgICAgbGFzdENvbnRlbnRSb3csXG4gICAgICB0YWlsTW9kZVxuICAgICkge1xuICAgICAgdmFyIHJlbmRlclN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIG51bGwgPT09IHJlbmRlclN0YXRlXG4gICAgICAgID8gKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgICAgICBpc0JhY2t3YXJkczogaXNCYWNrd2FyZHMsXG4gICAgICAgICAgICByZW5kZXJpbmc6IG51bGwsXG4gICAgICAgICAgICByZW5kZXJpbmdTdGFydFRpbWU6IDAsXG4gICAgICAgICAgICBsYXN0OiBsYXN0Q29udGVudFJvdyxcbiAgICAgICAgICAgIHRhaWw6IHRhaWwsXG4gICAgICAgICAgICB0YWlsTW9kZTogdGFpbE1vZGVcbiAgICAgICAgICB9KVxuICAgICAgICA6ICgocmVuZGVyU3RhdGUuaXNCYWNrd2FyZHMgPSBpc0JhY2t3YXJkcyksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnJlbmRlcmluZyA9IG51bGwpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS5yZW5kZXJpbmdTdGFydFRpbWUgPSAwKSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUubGFzdCA9IGxhc3RDb250ZW50Um93KSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUudGFpbCA9IHRhaWwpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS50YWlsTW9kZSA9IHRhaWxNb2RlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgIHJldmVhbE9yZGVyID0gbmV4dFByb3BzLnJldmVhbE9yZGVyLFxuICAgICAgICB0YWlsTW9kZSA9IG5leHRQcm9wcy50YWlsO1xuICAgICAgbmV4dFByb3BzID0gbmV4dFByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKFxuICAgICAgICB2b2lkIDAgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgIFwiZm9yd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgXCJiYWNrd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgXCJ0b2dldGhlclwiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICAhZGlkV2FybkFib3V0UmV2ZWFsT3JkZXJbcmV2ZWFsT3JkZXJdXG4gICAgICApXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGRpZFdhcm5BYm91dFJldmVhbE9yZGVyW3JldmVhbE9yZGVyXSA9ICEwKSxcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcmV2ZWFsT3JkZXIpXG4gICAgICAgIClcbiAgICAgICAgICBzd2l0Y2ggKHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0b2dldGhlclwiOlxuICAgICAgICAgICAgY2FzZSBcImZvcndhcmRzXCI6XG4gICAgICAgICAgICBjYXNlIFwiYmFja3dhcmRzXCI6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gVXNlIGxvd2VyY2FzZSBcIiVzXCIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9yd2FyZFwiOlxuICAgICAgICAgICAgY2FzZSBcImJhY2t3YXJkXCI6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSB2YWxpZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gUmVhY3QgdXNlcyB0aGUgLXMgc3VmZml4IGluIHRoZSBzcGVsbGluZy4gVXNlIFwiJXNzXCIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdcIiVzXCIgaXMgbm90IGEgc3VwcG9ydGVkIHJldmVhbE9yZGVyIG9uIDxTdXNwZW5zZUxpc3QgLz4uIERpZCB5b3UgbWVhbiBcInRvZ2V0aGVyXCIsIFwiZm9yd2FyZHNcIiBvciBcImJhY2t3YXJkc1wiPycsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJyVzIGlzIG5vdCBhIHN1cHBvcnRlZCB2YWx1ZSBmb3IgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gRGlkIHlvdSBtZWFuIFwidG9nZXRoZXJcIiwgXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCI/JyxcbiAgICAgICAgICAgIHJldmVhbE9yZGVyXG4gICAgICAgICAgKTtcbiAgICAgIHZvaWQgMCA9PT0gdGFpbE1vZGUgfHxcbiAgICAgICAgZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdIHx8XG4gICAgICAgIChcImNvbGxhcHNlZFwiICE9PSB0YWlsTW9kZSAmJiBcImhpZGRlblwiICE9PSB0YWlsTW9kZVxuICAgICAgICAgID8gKChkaWRXYXJuQWJvdXRUYWlsT3B0aW9uc1t0YWlsTW9kZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHN1cHBvcnRlZCB2YWx1ZSBmb3IgdGFpbCBvbiA8U3VzcGVuc2VMaXN0IC8+LiBEaWQgeW91IG1lYW4gXCJjb2xsYXBzZWRcIiBvciBcImhpZGRlblwiPycsXG4gICAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgICApKVxuICAgICAgICAgIDogXCJmb3J3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICAgICAgXCJiYWNrd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgICAgICgoZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJzxTdXNwZW5zZUxpc3QgdGFpbD1cIiVzXCIgLz4gaXMgb25seSB2YWxpZCBpZiByZXZlYWxPcmRlciBpcyBcImZvcndhcmRzXCIgb3IgXCJiYWNrd2FyZHNcIi4gRGlkIHlvdSBtZWFuIHRvIHNwZWNpZnkgcmV2ZWFsT3JkZXI9XCJmb3J3YXJkc1wiPycsXG4gICAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgICApKSk7XG4gICAgICBhOiBpZiAoXG4gICAgICAgIChcImZvcndhcmRzXCIgPT09IHJldmVhbE9yZGVyIHx8IFwiYmFja3dhcmRzXCIgPT09IHJldmVhbE9yZGVyKSAmJlxuICAgICAgICB2b2lkIDAgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICBudWxsICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgITEgIT09IG5leHRQcm9wc1xuICAgICAgKVxuICAgICAgICBpZiAoaXNBcnJheUltcGwobmV4dFByb3BzKSlcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5leHRQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKG5leHRQcm9wc1tpXSwgaSkpIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoKGkgPSBnZXRJdGVyYXRvckZuKG5leHRQcm9wcykpLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpKSkge1xuICAgICAgICAgIGlmICgoaSA9IGkuY2FsbChuZXh0UHJvcHMpKSlcbiAgICAgICAgICAgIGZvciAodmFyIHN0ZXAgPSBpLm5leHQoKSwgX2kgPSAwOyAhc3RlcC5kb25lOyBzdGVwID0gaS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKHN0ZXAudmFsdWUsIF9pKSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgX2krKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHNpbmdsZSByb3cgd2FzIHBhc3NlZCB0byBhIDxTdXNwZW5zZUxpc3QgcmV2ZWFsT3JkZXI9XCIlc1wiIC8+LiBUaGlzIGlzIG5vdCB1c2VmdWwgc2luY2UgaXQgbmVlZHMgbXVsdGlwbGUgcm93cy4gRGlkIHlvdSBtZWFuIHRvIHBhc3MgbXVsdGlwbGUgY2hpbGRyZW4gb3IgYW4gYXJyYXk/JyxcbiAgICAgICAgICAgIHJldmVhbE9yZGVyXG4gICAgICAgICAgKTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIHJlbmRlckxhbmVzKTtcbiAgICAgIG5leHRQcm9wcyA9IHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgIGlmICgwICE9PSAobmV4dFByb3BzICYgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSlcbiAgICAgICAgKG5leHRQcm9wcyA9XG4gICAgICAgICAgKG5leHRQcm9wcyAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSB8IEZvcmNlU3VzcGVuc2VGYWxsYmFjayksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMjgpKVxuICAgICAgICAgIGE6IGZvciAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBjdXJyZW50OyApIHtcbiAgICAgICAgICAgIGlmICgxMyA9PT0gY3VycmVudC50YWcpXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHNjaGVkdWxlU3VzcGVuc2VXb3JrT25GaWJlcihcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKDE5ID09PSBjdXJyZW50LnRhZylcbiAgICAgICAgICAgICAgc2NoZWR1bGVTdXNwZW5zZVdvcmtPbkZpYmVyKGN1cnJlbnQsIHJlbmRlckxhbmVzLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBlbHNlIGlmIChudWxsICE9PSBjdXJyZW50LmNoaWxkKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQuY2hpbGQucmV0dXJuID0gY3VycmVudDtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IHdvcmtJblByb2dyZXNzKSBicmVhayBhO1xuICAgICAgICAgICAgZm9yICg7IG51bGwgPT09IGN1cnJlbnQuc2libGluZzsgKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50LnJldHVybiB8fCBjdXJyZW50LnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudC5zaWJsaW5nLnJldHVybiA9IGN1cnJlbnQucmV0dXJuO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgIG5leHRQcm9wcyAmPSBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaztcbiAgICAgIH1cbiAgICAgIHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgbmV4dFByb3BzLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzd2l0Y2ggKHJldmVhbE9yZGVyKSB7XG4gICAgICAgIGNhc2UgXCJmb3J3YXJkc1wiOlxuICAgICAgICAgIHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgICAgZm9yIChyZXZlYWxPcmRlciA9IG51bGw7IG51bGwgIT09IHJlbmRlckxhbmVzOyApXG4gICAgICAgICAgICAoY3VycmVudCA9IHJlbmRlckxhbmVzLmFsdGVybmF0ZSksXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICBudWxsID09PSBmaW5kRmlyc3RTdXNwZW5kZWQoY3VycmVudCkgJiZcbiAgICAgICAgICAgICAgICAocmV2ZWFsT3JkZXIgPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJlbmRlckxhbmVzLnNpYmxpbmcpO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gcmV2ZWFsT3JkZXI7XG4gICAgICAgICAgbnVsbCA9PT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgID8gKChyZXZlYWxPcmRlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbCkpXG4gICAgICAgICAgICA6ICgocmV2ZWFsT3JkZXIgPSByZW5kZXJMYW5lcy5zaWJsaW5nKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzLnNpYmxpbmcgPSBudWxsKSk7XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAhMSxcbiAgICAgICAgICAgIHJldmVhbE9yZGVyLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICB0YWlsTW9kZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJiYWNrd2FyZHNcIjpcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IG51bGw7XG4gICAgICAgICAgcmV2ZWFsT3JkZXIgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICBmb3IgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbDsgbnVsbCAhPT0gcmV2ZWFsT3JkZXI7ICkge1xuICAgICAgICAgICAgY3VycmVudCA9IHJldmVhbE9yZGVyLmFsdGVybmF0ZTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgPT09IGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50KSkge1xuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJldmVhbE9yZGVyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSByZXZlYWxPcmRlci5zaWJsaW5nO1xuICAgICAgICAgICAgcmV2ZWFsT3JkZXIuc2libGluZyA9IHJlbmRlckxhbmVzO1xuICAgICAgICAgICAgcmVuZGVyTGFuZXMgPSByZXZlYWxPcmRlcjtcbiAgICAgICAgICAgIHJldmVhbE9yZGVyID0gY3VycmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAhMCxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvZ2V0aGVyXCI6XG4gICAgICAgICAgaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKHdvcmtJblByb2dyZXNzLCAhMSwgbnVsbCwgbnVsbCwgdm9pZCAwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPSBjdXJyZW50LmRlcGVuZGVuY2llcyk7XG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IHdvcmtJblByb2dyZXNzLmxhbmVzO1xuICAgICAgaWYgKDAgPT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpKVxuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIDAgPT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZCAhPT0gY3VycmVudC5jaGlsZClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJSZXN1bWluZyB3b3JrIG5vdCB5ZXQgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgaWYgKG51bGwgIT09IHdvcmtJblByb2dyZXNzLmNoaWxkKSB7XG4gICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgcmVuZGVyTGFuZXMgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBjdXJyZW50LnBlbmRpbmdQcm9wcyk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVuZGVyTGFuZXM7XG4gICAgICAgIGZvciAocmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7IG51bGwgIT09IGN1cnJlbnQuc2libGluZzsgKVxuICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5zaWJsaW5nKSxcbiAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJlbmRlckxhbmVzLnNpYmxpbmcgPVxuICAgICAgICAgICAgICBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBjdXJyZW50LnBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzLnJldHVybiA9IHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmVuZGVyTGFuZXMuc2libGluZyA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSB7XG4gICAgICBpZiAoMCAhPT0gKGN1cnJlbnQubGFuZXMgJiByZW5kZXJMYW5lcykpIHJldHVybiAhMDtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmRlcGVuZGVuY2llcztcbiAgICAgIHJldHVybiBudWxsICE9PSBjdXJyZW50ICYmIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50KSA/ICEwIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRFYXJseUJhaWxvdXRJZk5vU2NoZWR1bGVkVXBkYXRlKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIHB1c2hQcm92aWRlcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgQ2FjaGVDb250ZXh0LFxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBwdXNoUHJvdmlkZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzLnZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKSAmJlxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDg7XG4gICAgICAgICAgdmFyIHN0YXRlTm9kZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICBzdGF0ZU5vZGUuZWZmZWN0RHVyYXRpb24gPSAtMDtcbiAgICAgICAgICBzdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uID0gLTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgc3RhdGVOb2RlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gc3RhdGVOb2RlKSB7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gc3RhdGVOb2RlLmRlaHlkcmF0ZWQpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoMCAhPT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGQuY2hpbGRMYW5lcykpXG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgY3VycmVudCA9IGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5zaWJsaW5nIDogbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICB2YXIgZGlkU3VzcGVuZEJlZm9yZSA9IDAgIT09IChjdXJyZW50LmZsYWdzICYgMTI4KTtcbiAgICAgICAgICBzdGF0ZU5vZGUgPSAwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKTtcbiAgICAgICAgICBzdGF0ZU5vZGUgfHxcbiAgICAgICAgICAgIChwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChzdGF0ZU5vZGUgPSAwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKSkpO1xuICAgICAgICAgIGlmIChkaWRTdXNwZW5kQmVmb3JlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGVOb2RlKVxuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VMaXN0Q29tcG9uZW50KFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyODtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGlkU3VzcGVuZEJlZm9yZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbnVsbCAhPT0gZGlkU3VzcGVuZEJlZm9yZSAmJlxuICAgICAgICAgICAgKChkaWRTdXNwZW5kQmVmb3JlLnJlbmRlcmluZyA9IG51bGwpLFxuICAgICAgICAgICAgKGRpZFN1c3BlbmRCZWZvcmUudGFpbCA9IG51bGwpLFxuICAgICAgICAgICAgKGRpZFN1c3BlbmRCZWZvcmUubGFzdEVmZmVjdCA9IG51bGwpKTtcbiAgICAgICAgICBwdXNoKFxuICAgICAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvcixcbiAgICAgICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoc3RhdGVOb2RlKSBicmVhaztcbiAgICAgICAgICBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSAwKSxcbiAgICAgICAgICAgIHVwZGF0ZU9mZnNjcmVlbkNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBwdXNoUHJvdmlkZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENhY2hlQ29udGV4dCxcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZWdpbldvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3MuX2RlYnVnTmVlZHNSZW1vdW50ICYmIG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgcmVuZGVyTGFuZXMgPSBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5rZXksXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyIHx8IG51bGwsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lc1xuICAgICAgICApO1xuICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm47XG4gICAgICAgIGlmIChudWxsID09PSByZXR1cm5GaWJlcikgdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc3dhcCB0aGUgcm9vdCBmaWJlci5cIik7XG4gICAgICAgIGN1cnJlbnQuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgICAgcmVuZGVyTGFuZXMuaW5kZXggPSB3b3JrSW5Qcm9ncmVzcy5pbmRleDtcbiAgICAgICAgcmVuZGVyTGFuZXMuc2libGluZyA9IHdvcmtJblByb2dyZXNzLnNpYmxpbmc7XG4gICAgICAgIHJlbmRlckxhbmVzLnJldHVybiA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgcmVuZGVyTGFuZXMucmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgICByZW5kZXJMYW5lcy5fZGVidWdJbmZvID0gd29ya0luUHJvZ3Jlc3MuX2RlYnVnSW5mbztcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzID09PSByZXR1cm5GaWJlci5jaGlsZClcbiAgICAgICAgICByZXR1cm5GaWJlci5jaGlsZCA9IHJlbmRlckxhbmVzO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcHJldlNpYmxpbmcgPSByZXR1cm5GaWJlci5jaGlsZDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gcHJldlNpYmxpbmcpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHBhcmVudCB0byBoYXZlIGEgY2hpbGQuXCIpO1xuICAgICAgICAgIGZvciAoOyBwcmV2U2libGluZy5zaWJsaW5nICE9PSB3b3JrSW5Qcm9ncmVzczsgKVxuICAgICAgICAgICAgaWYgKCgocHJldlNpYmxpbmcgPSBwcmV2U2libGluZy5zaWJsaW5nKSwgbnVsbCA9PT0gcHJldlNpYmxpbmcpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHRvIGZpbmQgdGhlIHByZXZpb3VzIHNpYmxpbmcuXCIpO1xuICAgICAgICAgIHByZXZTaWJsaW5nLnNpYmxpbmcgPSByZW5kZXJMYW5lcztcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyLmRlbGV0aW9ucztcbiAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICA/ICgocmV0dXJuRmliZXIuZGVsZXRpb25zID0gW2N1cnJlbnRdKSwgKHJldHVybkZpYmVyLmZsYWdzIHw9IDE2KSlcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzLnB1c2goY3VycmVudCk7XG4gICAgICAgIHJlbmRlckxhbmVzLmZsYWdzIHw9IDI7XG4gICAgICAgIHJldHVybiByZW5kZXJMYW5lcztcbiAgICAgIH1cbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgfHxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlICE9PSBjdXJyZW50LnR5cGVcbiAgICAgICAgKVxuICAgICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSAhMDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSAmJlxuICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChkaWRSZWNlaXZlVXBkYXRlID0gITEpLFxuICAgICAgICAgICAgICBhdHRlbXB0RWFybHlCYWlsb3V0SWZOb1NjaGVkdWxlZFVwZGF0ZShcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9IDAgIT09IChjdXJyZW50LmZsYWdzICYgMTMxMDcyKSA/ICEwIDogITE7XG4gICAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkaWRSZWNlaXZlVXBkYXRlID0gITE7XG4gICAgICAgIGlmICgocmV0dXJuRmliZXIgPSBpc0h5ZHJhdGluZykpXG4gICAgICAgICAgd2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMDQ4NTc2KSk7XG4gICAgICAgIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgKChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLmluZGV4KSxcbiAgICAgICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKSxcbiAgICAgICAgICBwdXNoVHJlZUlkKHdvcmtJblByb2dyZXNzLCB0cmVlRm9ya0NvdW50LCByZXR1cm5GaWJlcikpO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgPSAwO1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBhOiBpZiAoXG4gICAgICAgICAgICAoKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gY2FsbExhenlJbml0SW5ERVYod29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUpKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCksXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjdXJyZW50KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHNob3VsZENvbnN0cnVjdChjdXJyZW50KVxuICAgICAgICAgICAgICA/ICgocmV0dXJuRmliZXIgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50YWcgPSAxKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSB1cGRhdGVDbGFzc0NvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzcy50YWcgPSAwKSxcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcoY3VycmVudCkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQpXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0gY3VycmVudC4kJHR5cGVvZiksXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IDExO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gdXBkYXRlRm9yd2FyZFJlZihcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByZXZTaWJsaW5nID09PSBSRUFDVF9NRU1PX1RZUEUpIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSAxNDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZU1lbW9Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBcIlwiO1xuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgY3VycmVudCAmJlxuICAgICAgICAgICAgICBjdXJyZW50LiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICAgICAgICBcIiBEaWQgeW91IHdyYXAgYSBjb21wb25lbnQgaW4gUmVhY3QubGF6eSgpIG1vcmUgdGhhbiBvbmNlP1wiKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoY3VycmVudCkgfHwgY3VycmVudDtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkVsZW1lbnQgdHlwZSBpcyBpbnZhbGlkLiBSZWNlaXZlZCBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0bzogXCIgK1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgK1xuICAgICAgICAgICAgICAgIFwiLiBMYXp5IGVsZW1lbnQgdHlwZSBtdXN0IHJlc29sdmUgdG8gYSBjbGFzcyBvciBmdW5jdGlvbi5cIiArXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB1cGRhdGVDbGFzc0NvbXBvbmVudChcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50KVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlNob3VsZCBoYXZlIGEgY3VycmVudCBmaWJlci4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgICAgICAgIHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gcHJldlNpYmxpbmcuZWxlbWVudDtcbiAgICAgICAgICAgIGNsb25lVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIG51bGwsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gbmV4dFN0YXRlLmNhY2hlO1xuICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDYWNoZUNvbnRleHQsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgIT09IHByZXZTaWJsaW5nLmNhY2hlICYmXG4gICAgICAgICAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIFtDYWNoZUNvbnRleHRdLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICEwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCk7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBuZXh0U3RhdGUuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChwcmV2U2libGluZy5pc0RlaHlkcmF0ZWQpXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0ge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudDogbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgaXNEZWh5ZHJhdGVkOiAhMSxcbiAgICAgICAgICAgICAgICAgIGNhY2hlOiBuZXh0U3RhdGUuY2FjaGVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuYmFzZVN0YXRlID0gcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG1vdW50SG9zdFJvb3RXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dFByb3BzICE9PSByZXR1cm5GaWJlcikge1xuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJUaGlzIHJvb3QgcmVjZWl2ZWQgYW4gZWFybHkgdXBkYXRlLCBiZWZvcmUgYW55dGhpbmcgd2FzIGFibGUgaHlkcmF0ZS4gU3dpdGNoZWQgdGhlIGVudGlyZSByb290IHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihyZXR1cm5GaWJlcik7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBtb3VudEhvc3RSb290V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mby5maXJzdENoaWxkXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICBpc0h5ZHJhdGluZyA9ICEwLFxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25FcnJvcnMgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViA9ICExLFxuICAgICAgICAgICAgICAgICAgICBoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG1vdW50Q2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgY3VycmVudDtcblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIChjdXJyZW50LmZsYWdzID0gKGN1cnJlbnQuZmxhZ3MgJiAtMykgfCA0MDk2KSxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmcpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICAgICAgaWYgKG5leHRQcm9wcyA9PT0gcmV0dXJuRmliZXIpIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9IGdldFJlc291cmNlKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudClcbiAgICAgICAgICAgICAgICA6IGlzSHlkcmF0aW5nIHx8XG4gICAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZXF1aXJlZENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgIHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID1cbiAgICAgICAgICAgICAgICAgICAgZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICkuY3JlYXRlRWxlbWVudChjdXJyZW50KSksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXJbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXJbaW50ZXJuYWxQcm9wc0tleV0gPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhyZXR1cm5GaWJlciwgY3VycmVudCwgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShyZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gZ2V0UmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiZcbiAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGdldEhvc3RDb250ZXh0KCkpLFxuICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPVxuICAgICAgICAgICAgICAgIHJlc29sdmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgfHxcbiAgICAgICAgICAgICAgICAoKHJldHVybkZpYmVyID0gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKHdvcmtJblByb2dyZXNzLCAwKS5zZXJ2ZXJQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyKSksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMCksXG4gICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICApKSksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4pLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCB8fCBpc0h5ZHJhdGluZ1xuICAgICAgICAgICAgICA/IHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiZcbiAgICAgICAgICAgICAgKChuZXh0UHJvcHMgPSBnZXRIb3N0Q29udGV4dCgpKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdmFsaWRhdGVET01OZXN0aW5nKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLmFuY2VzdG9ySW5mb1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSksXG4gICAgICAgICAgICAgIChuZXh0U3RhdGUgPSAhcHJldlNpYmxpbmcpIHx8XG4gICAgICAgICAgICAgICAgKChuZXh0U3RhdGUgPSBjYW5IeWRyYXRlSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dFN0YXRlXG4gICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gbmV4dFN0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoKG5leHRQcm9wcyA9IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVpbGRIeWRyYXRpb25EaWZmTm9kZSh3b3JrSW5Qcm9ncmVzcywgMCkuc2VydmVyUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMpKSxcbiAgICAgICAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZS5maXJzdENoaWxkXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAocm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExKSxcbiAgICAgICAgICAgICAgICAgICAgKG5leHRQcm9wcyA9ICEwKSlcbiAgICAgICAgICAgICAgICAgIDogKG5leHRQcm9wcyA9ICExKSxcbiAgICAgICAgICAgICAgICAobmV4dFN0YXRlID0gIW5leHRQcm9wcykpLFxuICAgICAgICAgICAgICBuZXh0U3RhdGUgJiZcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgICAgICAgIHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKHdvcmtJblByb2dyZXNzKSkpLFxuICAgICAgICAgICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgKG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAobmV4dFN0YXRlID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IG51bGwpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbmV4dFByb3BzLmNoaWxkcmVuKSxcbiAgICAgICAgICAgIHNob3VsZFNldFRleHRDb250ZW50KHByZXZTaWJsaW5nLCBuZXh0UHJvcHMpXG4gICAgICAgICAgICAgID8gKHJldHVybkZpYmVyID0gbnVsbClcbiAgICAgICAgICAgICAgOiBudWxsICE9PSBuZXh0U3RhdGUgJiZcbiAgICAgICAgICAgICAgICBzaG91bGRTZXRUZXh0Q29udGVudChwcmV2U2libGluZywgbmV4dFN0YXRlKSAmJlxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAzMiksXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSByZW5kZXJXaXRoSG9va3MoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBUcmFuc2l0aW9uQXdhcmVIb3N0Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKEhvc3RUcmFuc2l0aW9uQ29udGV4dC5fY3VycmVudFZhbHVlID0gcHJldlNpYmxpbmcpKSxcbiAgICAgICAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgICAoKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBnZXRIb3N0Q29udGV4dCgpLmFuY2VzdG9ySW5mby5jdXJyZW50KSxcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgIG51bGwgIT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgID8gdmFsaWRhdGVUZXh0TmVzdGluZyhjdXJyZW50LCByZW5kZXJMYW5lcy50YWcpXG4gICAgICAgICAgICAgICAgICA6ICEwKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9ICFyZW5kZXJMYW5lcykgfHxcbiAgICAgICAgICAgICAgICAoKHJldHVybkZpYmVyID0gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9ICEwKSlcbiAgICAgICAgICAgICAgICAgIDogKHJldHVybkZpYmVyID0gITEpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9ICFyZXR1cm5GaWJlcikpLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICAgIChjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICB3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcykpKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgIDogcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlRm9yd2FyZFJlZihcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlci5lZmZlY3REdXJhdGlvbiA9IC0wKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlci5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSAtMCksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIChuZXh0UHJvcHMgPSBwcmV2U2libGluZy52YWx1ZSksXG4gICAgICAgICAgICBcInZhbHVlXCIgaW4gcHJldlNpYmxpbmcgfHxcbiAgICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05vVmFsdWVQcm9wT25Db250ZXh0UHJvdmlkZXIgfHxcbiAgICAgICAgICAgICAgKChoYXNXYXJuZWRBYm91dFVzaW5nTm9WYWx1ZVByb3BPbkNvbnRleHRQcm92aWRlciA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBgdmFsdWVgIHByb3AgaXMgcmVxdWlyZWQgZm9yIHRoZSBgPENvbnRleHQuUHJvdmlkZXI+YC4gRGlkIHlvdSBtaXNzcGVsbCBpdCBvciBmb3JnZXQgdG8gcGFzcyBpdD9cIlxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgcmV0dXJuRmliZXIsIG5leHRQcm9wcyksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHByZXZTaWJsaW5nLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy50eXBlLl9jb250ZXh0KSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbiksXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb250ZXh0IGNvbnN1bWVyIHdhcyByZW5kZXJlZCB3aXRoIG11bHRpcGxlIGNoaWxkcmVuLCBvciBhIGNoaWxkIHRoYXQgaXNuJ3QgYSBmdW5jdGlvbi4gQSBjb250ZXh0IGNvbnN1bWVyIGV4cGVjdHMgYSBzaW5nbGUgY2hpbGQgdGhhdCBpcyBhIGZ1bmN0aW9uLiBJZiB5b3UgZGlkIHBhc3MgYSBmdW5jdGlvbiwgbWFrZSBzdXJlIHRoZXJlIGlzIG5vIHRyYWlsaW5nIG9yIGxlYWRpbmcgd2hpdGVzcGFjZSBhcm91bmQgaXQuXCJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHJlYWRDb250ZXh0KHByZXZTaWJsaW5nKSksXG4gICAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSBjYWxsQ29tcG9uZW50SW5ERVYoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgdm9pZCAwXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMSksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVNpbXBsZU1lbW9Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUxpc3RDb21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU9mZnNjcmVlbkNvbXBvbmVudChjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWFkQ29udGV4dChDYWNoZUNvbnRleHQpKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAoKHByZXZTaWJsaW5nID0gcGVla0NhY2hlRnJvbVBvb2woKSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldlNpYmxpbmcgJiZcbiAgICAgICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzc1Jvb3QpLFxuICAgICAgICAgICAgICAgICAgKG5leHRQcm9wcyA9IGNyZWF0ZUNhY2hlKCkpLFxuICAgICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nLnBvb2xlZENhY2hlID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAgIHJldGFpbkNhY2hlKG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nLnBvb2xlZENhY2hlTGFuZXMgfD0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gbmV4dFByb3BzKSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICBwYXJlbnQ6IHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgY2FjaGU6IHByZXZTaWJsaW5nXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgcHJldlNpYmxpbmcpKVxuICAgICAgICAgICAgICA6ICgwICE9PSAoY3VycmVudC5sYW5lcyAmIHJlbmRlckxhbmVzKSAmJlxuICAgICAgICAgICAgICAgICAgKGNsb25lVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBudWxsLCBudWxsLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCkpLFxuICAgICAgICAgICAgICAgIChwcmV2U2libGluZyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICAgICAgKG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLnBhcmVudCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgID8gKChwcmV2U2libGluZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgICAgIDAgPT09IHdvcmtJblByb2dyZXNzLmxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUuYmFzZVN0YXRlID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICAgICAgOiAoKHJldHVybkZpYmVyID0gbmV4dFByb3BzLmNhY2hlKSxcbiAgICAgICAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDYWNoZUNvbnRleHQsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgIT09IHByZXZTaWJsaW5nLmNhY2hlICYmXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtDYWNoZUNvbnRleHRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICAgICAgICAgICkpKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICB0aHJvdyB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcgKFwiICtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgK1xuICAgICAgICAgIFwiKS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCkge1xuICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIgPSBudWxsO1xuICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoUHJvdmlkZXIocHJvdmlkZXJGaWJlciwgY29udGV4dCwgbmV4dFZhbHVlKSB7XG4gICAgICBwdXNoKHZhbHVlQ3Vyc29yLCBjb250ZXh0Ll9jdXJyZW50VmFsdWUsIHByb3ZpZGVyRmliZXIpO1xuICAgICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gbmV4dFZhbHVlO1xuICAgICAgcHVzaChyZW5kZXJlckN1cnNvckRFViwgY29udGV4dC5fY3VycmVudFJlbmRlcmVyLCBwcm92aWRlckZpYmVyKTtcbiAgICAgIHZvaWQgMCAhPT0gY29udGV4dC5fY3VycmVudFJlbmRlcmVyICYmXG4gICAgICAgIG51bGwgIT09IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciAmJlxuICAgICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgIT09IHJlbmRlcmVyU2lnaWwgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkRldGVjdGVkIG11bHRpcGxlIHJlbmRlcmVycyBjb25jdXJyZW50bHkgcmVuZGVyaW5nIHRoZSBzYW1lIGNvbnRleHQgcHJvdmlkZXIuIFRoaXMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkLlwiXG4gICAgICAgICk7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSByZW5kZXJlclNpZ2lsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BQcm92aWRlcihjb250ZXh0LCBwcm92aWRlckZpYmVyKSB7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSB2YWx1ZUN1cnNvci5jdXJyZW50O1xuICAgICAgdmFyIGN1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyQ3Vyc29yREVWLmN1cnJlbnQ7XG4gICAgICBwb3AocmVuZGVyZXJDdXJzb3JERVYsIHByb3ZpZGVyRmliZXIpO1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gY3VycmVudFJlbmRlcmVyO1xuICAgICAgcG9wKHZhbHVlQ3Vyc29yLCBwcm92aWRlckZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVDb250ZXh0V29ya09uUGFyZW50UGF0aChcbiAgICAgIHBhcmVudCxcbiAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgcHJvcGFnYXRpb25Sb290XG4gICAgKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gcGFyZW50OyApIHtcbiAgICAgICAgdmFyIGFsdGVybmF0ZSA9IHBhcmVudC5hbHRlcm5hdGU7XG4gICAgICAgIChwYXJlbnQuY2hpbGRMYW5lcyAmIHJlbmRlckxhbmVzKSAhPT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICA/ICgocGFyZW50LmNoaWxkTGFuZXMgfD0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIChhbHRlcm5hdGUuY2hpbGRMYW5lcyB8PSByZW5kZXJMYW5lcykpXG4gICAgICAgICAgOiBudWxsICE9PSBhbHRlcm5hdGUgJiZcbiAgICAgICAgICAgIChhbHRlcm5hdGUuY2hpbGRMYW5lcyAmIHJlbmRlckxhbmVzKSAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgIChhbHRlcm5hdGUuY2hpbGRMYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICAgIGlmIChwYXJlbnQgPT09IHByb3BhZ2F0aW9uUm9vdCkgYnJlYWs7XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJlbnQgIT09IHByb3BhZ2F0aW9uUm9vdCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCB0aGUgcHJvcGFnYXRpb24gcm9vdCB3aGVuIHNjaGVkdWxpbmcgY29udGV4dCB3b3JrLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBjb250ZXh0cyxcbiAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlXG4gICAgKSB7XG4gICAgICB2YXIgZmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgIG51bGwgIT09IGZpYmVyICYmIChmaWJlci5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gZmliZXI7ICkge1xuICAgICAgICB2YXIgbGlzdCA9IGZpYmVyLmRlcGVuZGVuY2llcztcbiAgICAgICAgaWYgKG51bGwgIT09IGxpc3QpIHtcbiAgICAgICAgICB2YXIgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICAgICAgbGlzdCA9IGxpc3QuZmlyc3RDb250ZXh0O1xuICAgICAgICAgIGE6IGZvciAoOyBudWxsICE9PSBsaXN0OyApIHtcbiAgICAgICAgICAgIHZhciBkZXBlbmRlbmN5ID0gbGlzdDtcbiAgICAgICAgICAgIGxpc3QgPSBmaWJlcjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29udGV4dHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgIGlmIChkZXBlbmRlbmN5LmNvbnRleHQgPT09IGNvbnRleHRzW2ldKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5sYW5lcyB8PSByZW5kZXJMYW5lcztcbiAgICAgICAgICAgICAgICBkZXBlbmRlbmN5ID0gbGlzdC5hbHRlcm5hdGU7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gZGVwZW5kZW5jeSAmJiAoZGVwZW5kZW5jeS5sYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVDb250ZXh0V29ya09uUGFyZW50UGF0aChcbiAgICAgICAgICAgICAgICAgIGxpc3QucmV0dXJuLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlIHx8IChuZXh0RmliZXIgPSBudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ID0gZGVwZW5kZW5jeS5uZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICgxOCA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgICAgbmV4dEZpYmVyID0gZmliZXIucmV0dXJuO1xuICAgICAgICAgIGlmIChudWxsID09PSBuZXh0RmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJXZSBqdXN0IGNhbWUgZnJvbSBhIHBhcmVudCBzbyB3ZSBtdXN0IGhhdmUgaGFkIGEgcGFyZW50LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIG5leHRGaWJlci5sYW5lcyB8PSByZW5kZXJMYW5lcztcbiAgICAgICAgICBsaXN0ID0gbmV4dEZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgICBudWxsICE9PSBsaXN0ICYmIChsaXN0LmxhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgICAgICBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgICAgICAgbmV4dEZpYmVyLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICk7XG4gICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmV4dEZpYmVyKSBuZXh0RmliZXIucmV0dXJuID0gZmliZXI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBmb3IgKG5leHRGaWJlciA9IGZpYmVyOyBudWxsICE9PSBuZXh0RmliZXI7ICkge1xuICAgICAgICAgICAgaWYgKG5leHRGaWJlciA9PT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgbmV4dEZpYmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWJlciA9IG5leHRGaWJlci5zaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpYmVyKSB7XG4gICAgICAgICAgICAgIGZpYmVyLnJldHVybiA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRGaWJlciA9IG5leHRGaWJlci5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICBmaWJlciA9IG5leHRGaWJlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lcyxcbiAgICAgIGZvcmNlUHJvcGFnYXRlRW50aXJlVHJlZVxuICAgICkge1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgcGFyZW50ID0gd29ya0luUHJvZ3Jlc3MsIGlzSW5zaWRlUHJvcGFnYXRpb25CYWlsb3V0ID0gITE7XG4gICAgICAgIG51bGwgIT09IHBhcmVudDtcblxuICAgICAgKSB7XG4gICAgICAgIGlmICghaXNJbnNpZGVQcm9wYWdhdGlvbkJhaWxvdXQpXG4gICAgICAgICAgaWYgKDAgIT09IChwYXJlbnQuZmxhZ3MgJiA1MjQyODgpKSBpc0luc2lkZVByb3BhZ2F0aW9uQmFpbG91dCA9ICEwO1xuICAgICAgICAgIGVsc2UgaWYgKDAgIT09IChwYXJlbnQuZmxhZ3MgJiAyNjIxNDQpKSBicmVhaztcbiAgICAgICAgaWYgKDEwID09PSBwYXJlbnQudGFnKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50UGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgaGF2ZSBhIGN1cnJlbnQgZmliZXIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCIpO1xuICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRQYXJlbnQpIHtcbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gcGFyZW50LnR5cGU7XG4gICAgICAgICAgICBvYmplY3RJcyhwYXJlbnQucGVuZGluZ1Byb3BzLnZhbHVlLCBjdXJyZW50UGFyZW50LnZhbHVlKSB8fFxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICAgID8gY3VycmVudC5wdXNoKGNvbnRleHQpXG4gICAgICAgICAgICAgICAgOiAoY3VycmVudCA9IFtjb250ZXh0XSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJlbnQgPT09IGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IuY3VycmVudCkge1xuICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBwYXJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50UGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgaGF2ZSBhIGN1cnJlbnQgZmliZXIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCIpO1xuICAgICAgICAgIGN1cnJlbnRQYXJlbnQubWVtb2l6ZWRTdGF0ZS5tZW1vaXplZFN0YXRlICE9PVxuICAgICAgICAgICAgcGFyZW50Lm1lbW9pemVkU3RhdGUubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyBjdXJyZW50LnB1c2goSG9zdFRyYW5zaXRpb25Db250ZXh0KVxuICAgICAgICAgICAgICA6IChjdXJyZW50ID0gW0hvc3RUcmFuc2l0aW9uQ29udGV4dF0pKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgIGZvcmNlUHJvcGFnYXRlRW50aXJlVHJlZVxuICAgICAgICApO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjYyMTQ0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudERlcGVuZGVuY2llcykge1xuICAgICAgZm9yIChcbiAgICAgICAgY3VycmVudERlcGVuZGVuY2llcyA9IGN1cnJlbnREZXBlbmRlbmNpZXMuZmlyc3RDb250ZXh0O1xuICAgICAgICBudWxsICE9PSBjdXJyZW50RGVwZW5kZW5jaWVzO1xuXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFvYmplY3RJcyhcbiAgICAgICAgICAgIGN1cnJlbnREZXBlbmRlbmNpZXMuY29udGV4dC5fY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgY3VycmVudERlcGVuZGVuY2llcy5tZW1vaXplZFZhbHVlXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzID0gY3VycmVudERlcGVuZGVuY2llcy5uZXh0O1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcztcbiAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzICYmICh3b3JrSW5Qcm9ncmVzcy5maXJzdENvbnRleHQgPSBudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZENvbnRleHQoY29udGV4dCkge1xuICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gSW4gY2xhc3NlcywgeW91IGNhbiByZWFkIGl0IGluIHRoZSByZW5kZXIgbWV0aG9kIG9yIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gSW4gZnVuY3Rpb24gY29tcG9uZW50cywgeW91IGNhbiByZWFkIGl0IGRpcmVjdGx5IGluIHRoZSBmdW5jdGlvbiBib2R5LCBidXQgbm90IGluc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dEZvckNvbnN1bWVyKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihjb25zdW1lciwgY29udGV4dCkge1xuICAgICAgbnVsbCA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIgJiYgcHJlcGFyZVRvUmVhZENvbnRleHQoY29uc3VtZXIpO1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0Rm9yQ29uc3VtZXIoY29uc3VtZXIsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQ29udGV4dEZvckNvbnN1bWVyKGNvbnN1bWVyLCBjb250ZXh0KSB7XG4gICAgICB2YXIgdmFsdWUgPSBjb250ZXh0Ll9jdXJyZW50VmFsdWU7XG4gICAgICBjb250ZXh0ID0geyBjb250ZXh0OiBjb250ZXh0LCBtZW1vaXplZFZhbHVlOiB2YWx1ZSwgbmV4dDogbnVsbCB9O1xuICAgICAgaWYgKG51bGwgPT09IGxhc3RDb250ZXh0RGVwZW5kZW5jeSkge1xuICAgICAgICBpZiAobnVsbCA9PT0gY29uc3VtZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkNvbnRleHQgY2FuIG9ubHkgYmUgcmVhZCB3aGlsZSBSZWFjdCBpcyByZW5kZXJpbmcuIEluIGNsYXNzZXMsIHlvdSBjYW4gcmVhZCBpdCBpbiB0aGUgcmVuZGVyIG1ldGhvZCBvciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIEluIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCBpbnNpZGUgSG9va3MgbGlrZSB1c2VSZWR1Y2VyKCkgb3IgdXNlTWVtbygpLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gY29udGV4dDtcbiAgICAgICAgY29uc3VtZXIuZGVwZW5kZW5jaWVzID0ge1xuICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgIGZpcnN0Q29udGV4dDogY29udGV4dCxcbiAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN1bWVyLmZsYWdzIHw9IDUyNDI4ODtcbiAgICAgIH0gZWxzZSBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBsYXN0Q29udGV4dERlcGVuZGVuY3kubmV4dCA9IGNvbnRleHQ7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVVcGRhdGVRdWV1ZShmaWJlcikge1xuICAgICAgZmliZXIudXBkYXRlUXVldWUgPSB7XG4gICAgICAgIGJhc2VTdGF0ZTogZmliZXIubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgZmlyc3RCYXNlVXBkYXRlOiBudWxsLFxuICAgICAgICBsYXN0QmFzZVVwZGF0ZTogbnVsbCxcbiAgICAgICAgc2hhcmVkOiB7IHBlbmRpbmc6IG51bGwsIGxhbmVzOiAwLCBoaWRkZW5DYWxsYmFja3M6IG51bGwgfSxcbiAgICAgICAgY2FsbGJhY2tzOiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9uZVVwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID09PSBjdXJyZW50ICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgICBiYXNlU3RhdGU6IGN1cnJlbnQuYmFzZVN0YXRlLFxuICAgICAgICAgIGZpcnN0QmFzZVVwZGF0ZTogY3VycmVudC5maXJzdEJhc2VVcGRhdGUsXG4gICAgICAgICAgbGFzdEJhc2VVcGRhdGU6IGN1cnJlbnQubGFzdEJhc2VVcGRhdGUsXG4gICAgICAgICAgc2hhcmVkOiBjdXJyZW50LnNoYXJlZCxcbiAgICAgICAgICBjYWxsYmFja3M6IG51bGxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZShsYW5lKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsYW5lOiBsYW5lLFxuICAgICAgICB0YWc6IFVwZGF0ZVN0YXRlLFxuICAgICAgICBwYXlsb2FkOiBudWxsLFxuICAgICAgICBjYWxsYmFjazogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVVwZGF0ZShmaWJlciwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaWJlci51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChudWxsID09PSB1cGRhdGVRdWV1ZSkgcmV0dXJuIG51bGw7XG4gICAgICB1cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlLnNoYXJlZDtcbiAgICAgIGlmIChcbiAgICAgICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID09PSB1cGRhdGVRdWV1ZSAmJlxuICAgICAgICAhZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBbiB1cGRhdGUgKHNldFN0YXRlLCByZXBsYWNlU3RhdGUsIG9yIGZvcmNlVXBkYXRlKSB3YXMgc2NoZWR1bGVkIGZyb20gaW5zaWRlIGFuIHVwZGF0ZSBmdW5jdGlvbi4gVXBkYXRlIGZ1bmN0aW9ucyBzaG91bGQgYmUgcHVyZSwgd2l0aCB6ZXJvIHNpZGUtZWZmZWN0cy4gQ29uc2lkZXIgdXNpbmcgY29tcG9uZW50RGlkVXBkYXRlIG9yIGEgY2FsbGJhY2suXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudDogJXNcIixcbiAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICk7XG4gICAgICAgIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpICE9PSBOb0NvbnRleHQpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGNvbXBvbmVudE5hbWUgPSB1cGRhdGVRdWV1ZS5wZW5kaW5nKSxcbiAgICAgICAgICBudWxsID09PSBjb21wb25lbnROYW1lXG4gICAgICAgICAgICA/ICh1cGRhdGUubmV4dCA9IHVwZGF0ZSlcbiAgICAgICAgICAgIDogKCh1cGRhdGUubmV4dCA9IGNvbXBvbmVudE5hbWUubmV4dCksXG4gICAgICAgICAgICAgIChjb21wb25lbnROYW1lLm5leHQgPSB1cGRhdGUpKSxcbiAgICAgICAgICAodXBkYXRlUXVldWUucGVuZGluZyA9IHVwZGF0ZSksXG4gICAgICAgICAgKHVwZGF0ZSA9IGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpKSxcbiAgICAgICAgICBtYXJrVXBkYXRlTGFuZUZyb21GaWJlclRvUm9vdChmaWJlciwgbnVsbCwgbGFuZSksXG4gICAgICAgICAgdXBkYXRlXG4gICAgICAgICk7XG4gICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHVwZGF0ZVF1ZXVlLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgcmV0dXJuIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnRhbmdsZVRyYW5zaXRpb25zKHJvb3QsIGZpYmVyLCBsYW5lKSB7XG4gICAgICBmaWJlciA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IGZpYmVyICYmICgoZmliZXIgPSBmaWJlci5zaGFyZWQpLCAwICE9PSAobGFuZSAmIDQxOTQxNzYpKSkge1xuICAgICAgICB2YXIgcXVldWVMYW5lcyA9IGZpYmVyLmxhbmVzO1xuICAgICAgICBxdWV1ZUxhbmVzICY9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgICBsYW5lIHw9IHF1ZXVlTGFuZXM7XG4gICAgICAgIGZpYmVyLmxhbmVzID0gbGFuZTtcbiAgICAgICAgbWFya1Jvb3RFbnRhbmdsZWQocm9vdCwgbGFuZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVDYXB0dXJlZFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgY2FwdHVyZWRVcGRhdGUpIHtcbiAgICAgIHZhciBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLFxuICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLCBxdWV1ZSA9PT0gY3VycmVudClcbiAgICAgICkge1xuICAgICAgICB2YXIgbmV3Rmlyc3QgPSBudWxsLFxuICAgICAgICAgIG5ld0xhc3QgPSBudWxsO1xuICAgICAgICBxdWV1ZSA9IHF1ZXVlLmZpcnN0QmFzZVVwZGF0ZTtcbiAgICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKSB7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGNsb25lID0ge1xuICAgICAgICAgICAgICBsYW5lOiBxdWV1ZS5sYW5lLFxuICAgICAgICAgICAgICB0YWc6IHF1ZXVlLnRhZyxcbiAgICAgICAgICAgICAgcGF5bG9hZDogcXVldWUucGF5bG9hZCxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBudWxsID09PSBuZXdMYXN0XG4gICAgICAgICAgICAgID8gKG5ld0ZpcnN0ID0gbmV3TGFzdCA9IGNsb25lKVxuICAgICAgICAgICAgICA6IChuZXdMYXN0ID0gbmV3TGFzdC5uZXh0ID0gY2xvbmUpO1xuICAgICAgICAgICAgcXVldWUgPSBxdWV1ZS5uZXh0O1xuICAgICAgICAgIH0gd2hpbGUgKG51bGwgIT09IHF1ZXVlKTtcbiAgICAgICAgICBudWxsID09PSBuZXdMYXN0XG4gICAgICAgICAgICA/IChuZXdGaXJzdCA9IG5ld0xhc3QgPSBjYXB0dXJlZFVwZGF0ZSlcbiAgICAgICAgICAgIDogKG5ld0xhc3QgPSBuZXdMYXN0Lm5leHQgPSBjYXB0dXJlZFVwZGF0ZSk7XG4gICAgICAgIH0gZWxzZSBuZXdGaXJzdCA9IG5ld0xhc3QgPSBjYXB0dXJlZFVwZGF0ZTtcbiAgICAgICAgcXVldWUgPSB7XG4gICAgICAgICAgYmFzZVN0YXRlOiBjdXJyZW50LmJhc2VTdGF0ZSxcbiAgICAgICAgICBmaXJzdEJhc2VVcGRhdGU6IG5ld0ZpcnN0LFxuICAgICAgICAgIGxhc3RCYXNlVXBkYXRlOiBuZXdMYXN0LFxuICAgICAgICAgIHNoYXJlZDogY3VycmVudC5zaGFyZWQsXG4gICAgICAgICAgY2FsbGJhY2tzOiBjdXJyZW50LmNhbGxiYWNrc1xuICAgICAgICB9O1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHF1ZXVlLmxhc3RCYXNlVXBkYXRlO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgPyAocXVldWUuZmlyc3RCYXNlVXBkYXRlID0gY2FwdHVyZWRVcGRhdGUpXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzLm5leHQgPSBjYXB0dXJlZFVwZGF0ZSk7XG4gICAgICBxdWV1ZS5sYXN0QmFzZVVwZGF0ZSA9IGNhcHR1cmVkVXBkYXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCkge1xuICAgICAgaWYgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24pIHtcbiAgICAgICAgdmFyIGVudGFuZ2xlZEFjdGlvblRoZW5hYmxlID0gY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlO1xuICAgICAgICBpZiAobnVsbCAhPT0gZW50YW5nbGVkQWN0aW9uVGhlbmFibGUpIHRocm93IGVudGFuZ2xlZEFjdGlvblRoZW5hYmxlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzVXBkYXRlUXVldWUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHByb3BzLFxuICAgICAgaW5zdGFuY2UkanNjb21wJDAsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICExO1xuICAgICAgdmFyIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gcXVldWUuc2hhcmVkO1xuICAgICAgdmFyIGZpcnN0QmFzZVVwZGF0ZSA9IHF1ZXVlLmZpcnN0QmFzZVVwZGF0ZSxcbiAgICAgICAgbGFzdEJhc2VVcGRhdGUgPSBxdWV1ZS5sYXN0QmFzZVVwZGF0ZSxcbiAgICAgICAgcGVuZGluZ1F1ZXVlID0gcXVldWUuc2hhcmVkLnBlbmRpbmc7XG4gICAgICBpZiAobnVsbCAhPT0gcGVuZGluZ1F1ZXVlKSB7XG4gICAgICAgIHF1ZXVlLnNoYXJlZC5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RQZW5kaW5nVXBkYXRlID0gcGVuZGluZ1F1ZXVlLFxuICAgICAgICAgIGZpcnN0UGVuZGluZ1VwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlLm5leHQ7XG4gICAgICAgIGxhc3RQZW5kaW5nVXBkYXRlLm5leHQgPSBudWxsO1xuICAgICAgICBudWxsID09PSBsYXN0QmFzZVVwZGF0ZVxuICAgICAgICAgID8gKGZpcnN0QmFzZVVwZGF0ZSA9IGZpcnN0UGVuZGluZ1VwZGF0ZSlcbiAgICAgICAgICA6IChsYXN0QmFzZVVwZGF0ZS5uZXh0ID0gZmlyc3RQZW5kaW5nVXBkYXRlKTtcbiAgICAgICAgbGFzdEJhc2VVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZTtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAocGVuZGluZ1F1ZXVlID0gY3VycmVudC5sYXN0QmFzZVVwZGF0ZSksXG4gICAgICAgICAgcGVuZGluZ1F1ZXVlICE9PSBsYXN0QmFzZVVwZGF0ZSAmJlxuICAgICAgICAgICAgKG51bGwgPT09IHBlbmRpbmdRdWV1ZVxuICAgICAgICAgICAgICA/IChjdXJyZW50LmZpcnN0QmFzZVVwZGF0ZSA9IGZpcnN0UGVuZGluZ1VwZGF0ZSlcbiAgICAgICAgICAgICAgOiAocGVuZGluZ1F1ZXVlLm5leHQgPSBmaXJzdFBlbmRpbmdVcGRhdGUpLFxuICAgICAgICAgICAgKGN1cnJlbnQubGFzdEJhc2VVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZSkpKTtcbiAgICAgIH1cbiAgICAgIGlmIChudWxsICE9PSBmaXJzdEJhc2VVcGRhdGUpIHtcbiAgICAgICAgdmFyIG5ld1N0YXRlID0gcXVldWUuYmFzZVN0YXRlO1xuICAgICAgICBsYXN0QmFzZVVwZGF0ZSA9IDA7XG4gICAgICAgIGN1cnJlbnQgPSBmaXJzdFBlbmRpbmdVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZSA9IG51bGw7XG4gICAgICAgIHBlbmRpbmdRdWV1ZSA9IGZpcnN0QmFzZVVwZGF0ZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHZhciB1cGRhdGVMYW5lID0gcGVuZGluZ1F1ZXVlLmxhbmUgJiAtNTM2ODcwOTEzLFxuICAgICAgICAgICAgaXNIaWRkZW5VcGRhdGUgPSB1cGRhdGVMYW5lICE9PSBwZW5kaW5nUXVldWUubGFuZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBpc0hpZGRlblVwZGF0ZVxuICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIHVwZGF0ZUxhbmUpID09PSB1cGRhdGVMYW5lXG4gICAgICAgICAgICAgIDogKHJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIDAgIT09IHVwZGF0ZUxhbmUgJiZcbiAgICAgICAgICAgICAgdXBkYXRlTGFuZSA9PT0gY3VycmVudEVudGFuZ2xlZExhbmUgJiZcbiAgICAgICAgICAgICAgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMCk7XG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5uZXh0ID1cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBsYW5lOiAwLFxuICAgICAgICAgICAgICAgICAgdGFnOiBwZW5kaW5nUXVldWUudGFnLFxuICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcGVuZGluZ1F1ZXVlLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgICBjYWxsYmFjazogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgdXBkYXRlTGFuZSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICB2YXIgcGFydGlhbFN0YXRlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgICAgICAgICB2YXIgbmV4dFByb3BzID0gcHJvcHMsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZSRqc2NvbXAkMDtcbiAgICAgICAgICAgICAgc3dpdGNoIChwYXJ0aWFsU3RhdGUudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSZXBsYWNlU3RhdGU6XG4gICAgICAgICAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBwYXJ0aWFsU3RhdGUucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICEwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gcGFydGlhbFN0YXRlLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVMYW5lLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsU3RhdGUuY2FsbChpbnN0YW5jZSwgbmV3U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExO1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gcGFydGlhbFN0YXRlO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIENhcHR1cmVVcGRhdGU6XG4gICAgICAgICAgICAgICAgICB1cGRhdGVMYW5lLmZsYWdzID0gKHVwZGF0ZUxhbmUuZmxhZ3MgJiAtNjU1MzcpIHwgMTI4O1xuICAgICAgICAgICAgICAgIGNhc2UgVXBkYXRlU3RhdGU6XG4gICAgICAgICAgICAgICAgICBuZXh0U3RhdGUgPSBwYXJ0aWFsU3RhdGUucGF5bG9hZDtcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBuZXh0U3RhdGUuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUxhbmUubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZS5jYWxsKGluc3RhbmNlLCBuZXdTdGF0ZSwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITE7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgcGFydGlhbFN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHBhcnRpYWxTdGF0ZSB8fCB2b2lkIDAgPT09IHBhcnRpYWxTdGF0ZSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gYXNzaWduKHt9LCBuZXdTdGF0ZSwgcGFydGlhbFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBGb3JjZVVwZGF0ZTpcbiAgICAgICAgICAgICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZUxhbmUgPSBwZW5kaW5nUXVldWUuY2FsbGJhY2s7XG4gICAgICAgICAgICBudWxsICE9PSB1cGRhdGVMYW5lICYmXG4gICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjQpLFxuICAgICAgICAgICAgICBpc0hpZGRlblVwZGF0ZSAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MiksXG4gICAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZSA9IHF1ZXVlLmNhbGxiYWNrcyksXG4gICAgICAgICAgICAgIG51bGwgPT09IGlzSGlkZGVuVXBkYXRlXG4gICAgICAgICAgICAgICAgPyAocXVldWUuY2FsbGJhY2tzID0gW3VwZGF0ZUxhbmVdKVxuICAgICAgICAgICAgICAgIDogaXNIaWRkZW5VcGRhdGUucHVzaCh1cGRhdGVMYW5lKSk7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUgPSB7XG4gICAgICAgICAgICAgIGxhbmU6IHVwZGF0ZUxhbmUsXG4gICAgICAgICAgICAgIHRhZzogcGVuZGluZ1F1ZXVlLnRhZyxcbiAgICAgICAgICAgICAgcGF5bG9hZDogcGVuZGluZ1F1ZXVlLnBheWxvYWQsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBwZW5kaW5nUXVldWUuY2FsbGJhY2ssXG4gICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgICAgPyAoKGZpcnN0UGVuZGluZ1VwZGF0ZSA9IGN1cnJlbnQgPSBpc0hpZGRlblVwZGF0ZSksXG4gICAgICAgICAgICAgICAgICAobGFzdFBlbmRpbmdVcGRhdGUgPSBuZXdTdGF0ZSkpXG4gICAgICAgICAgICAgICAgOiAoY3VycmVudCA9IGN1cnJlbnQubmV4dCA9IGlzSGlkZGVuVXBkYXRlKSxcbiAgICAgICAgICAgICAgKGxhc3RCYXNlVXBkYXRlIHw9IHVwZGF0ZUxhbmUpO1xuICAgICAgICAgIHBlbmRpbmdRdWV1ZSA9IHBlbmRpbmdRdWV1ZS5uZXh0O1xuICAgICAgICAgIGlmIChudWxsID09PSBwZW5kaW5nUXVldWUpXG4gICAgICAgICAgICBpZiAoKChwZW5kaW5nUXVldWUgPSBxdWV1ZS5zaGFyZWQucGVuZGluZyksIG51bGwgPT09IHBlbmRpbmdRdWV1ZSkpXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUgPSBwZW5kaW5nUXVldWUpLFxuICAgICAgICAgICAgICAgIChwZW5kaW5nUXVldWUgPSBpc0hpZGRlblVwZGF0ZS5uZXh0KSxcbiAgICAgICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUubmV4dCA9IG51bGwpLFxuICAgICAgICAgICAgICAgIChxdWV1ZS5sYXN0QmFzZVVwZGF0ZSA9IGlzSGlkZGVuVXBkYXRlKSxcbiAgICAgICAgICAgICAgICAocXVldWUuc2hhcmVkLnBlbmRpbmcgPSBudWxsKTtcbiAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiYgKGxhc3RQZW5kaW5nVXBkYXRlID0gbmV3U3RhdGUpO1xuICAgICAgICBxdWV1ZS5iYXNlU3RhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZTtcbiAgICAgICAgcXVldWUuZmlyc3RCYXNlVXBkYXRlID0gZmlyc3RQZW5kaW5nVXBkYXRlO1xuICAgICAgICBxdWV1ZS5sYXN0QmFzZVVwZGF0ZSA9IGN1cnJlbnQ7XG4gICAgICAgIG51bGwgPT09IGZpcnN0QmFzZVVwZGF0ZSAmJiAocXVldWUuc2hhcmVkLmxhbmVzID0gMCk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSBsYXN0QmFzZVVwZGF0ZTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgPSBsYXN0QmFzZVVwZGF0ZTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgfVxuICAgICAgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbENhbGxiYWNrKGNhbGxiYWNrLCBjb250ZXh0KSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2FsbGJhY2spXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBhcmd1bWVudCBwYXNzZWQgYXMgY2FsbGJhY2suIEV4cGVjdGVkIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6IFwiICtcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICk7XG4gICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIaWRkZW5DYWxsYmFja3ModXBkYXRlUXVldWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBoaWRkZW5DYWxsYmFja3MgPSB1cGRhdGVRdWV1ZS5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzO1xuICAgICAgaWYgKG51bGwgIT09IGhpZGRlbkNhbGxiYWNrcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzID0gbnVsbCwgdXBkYXRlUXVldWUgPSAwO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlIDwgaGlkZGVuQ2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSsrXG4gICAgICAgIClcbiAgICAgICAgICBjYWxsQ2FsbGJhY2soaGlkZGVuQ2FsbGJhY2tzW3VwZGF0ZVF1ZXVlXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENhbGxiYWNrcyh1cGRhdGVRdWV1ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGNhbGxiYWNrcyA9IHVwZGF0ZVF1ZXVlLmNhbGxiYWNrcztcbiAgICAgIGlmIChudWxsICE9PSBjYWxsYmFja3MpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdXBkYXRlUXVldWUuY2FsbGJhY2tzID0gbnVsbCwgdXBkYXRlUXVldWUgPSAwO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlIDwgY2FsbGJhY2tzLmxlbmd0aDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSsrXG4gICAgICAgIClcbiAgICAgICAgICBjYWxsQ2FsbGJhY2soY2FsbGJhY2tzW3VwZGF0ZVF1ZXVlXSwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFByb2ZpbGUoY3VycmVudCkge1xuICAgICAgcmV0dXJuIChjdXJyZW50Lm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0xheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCBob29rRmxhZ3MpIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChob29rRmxhZ3MsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGhvb2tGbGFnc1xuICAgICkge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGZsYWdzLCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSxcbiAgICAgICAgICBsYXN0RWZmZWN0ID0gbnVsbCAhPT0gdXBkYXRlUXVldWUgPyB1cGRhdGVRdWV1ZS5sYXN0RWZmZWN0IDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT09IGxhc3RFZmZlY3QpIHtcbiAgICAgICAgICB2YXIgZmlyc3RFZmZlY3QgPSBsYXN0RWZmZWN0Lm5leHQ7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPSBmaXJzdEVmZmVjdDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICh1cGRhdGVRdWV1ZS50YWcgJiBmbGFncykgPT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RhcnRlZChcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RNb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RhcnRlZChcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAobGFzdEVmZmVjdCA9IHZvaWQgMCksXG4gICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAoaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITApLFxuICAgICAgICAgICAgICAobGFzdEVmZmVjdCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjYWxsQ3JlYXRlSW5ERVYsXG4gICAgICAgICAgICAgICAgdXBkYXRlUXVldWVcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAoaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITEpLFxuICAgICAgICAgICAgICAoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdE1vdW50U3RvcHBlZCgpXG4gICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RNb3VudFN0b3BwZWQgJiZcbiAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RvcHBlZCgpLFxuICAgICAgICAgICAgICB2b2lkIDAgIT09IGxhc3RFZmZlY3QgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgbGFzdEVmZmVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgaG9va05hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICAgIGhvb2tOYW1lID1cbiAgICAgICAgICAgICAgICAwICE9PSAodXBkYXRlUXVldWUudGFnICYgTGF5b3V0KVxuICAgICAgICAgICAgICAgICAgPyBcInVzZUxheW91dEVmZmVjdFwiXG4gICAgICAgICAgICAgICAgICA6IDAgIT09ICh1cGRhdGVRdWV1ZS50YWcgJiBJbnNlcnRpb24pXG4gICAgICAgICAgICAgICAgICAgID8gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIlxuICAgICAgICAgICAgICAgICAgICA6IFwidXNlRWZmZWN0XCI7XG4gICAgICAgICAgICAgIHZhciBhZGRlbmR1bSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgYWRkZW5kdW0gPVxuICAgICAgICAgICAgICAgIG51bGwgPT09IGxhc3RFZmZlY3RcbiAgICAgICAgICAgICAgICAgID8gXCIgWW91IHJldHVybmVkIG51bGwuIElmIHlvdXIgZWZmZWN0IGRvZXMgbm90IHJlcXVpcmUgY2xlYW4gdXAsIHJldHVybiB1bmRlZmluZWQgKG9yIG5vdGhpbmcpLlwiXG4gICAgICAgICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxhc3RFZmZlY3QudGhlblxuICAgICAgICAgICAgICAgICAgICA/IFwiXFxuXFxuSXQgbG9va3MgbGlrZSB5b3Ugd3JvdGUgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIGhvb2tOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICBcIihhc3luYyAoKSA9PiAuLi4pIG9yIHJldHVybmVkIGEgUHJvbWlzZS4gSW5zdGVhZCwgd3JpdGUgdGhlIGFzeW5jIGZ1bmN0aW9uIGluc2lkZSB5b3VyIGVmZmVjdCBhbmQgY2FsbCBpdCBpbW1lZGlhdGVseTpcXG5cXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgaG9va05hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiKCgpID0+IHtcXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoRGF0YSgpIHtcXG4gICAgLy8gWW91IGNhbiBhd2FpdCBoZXJlXFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgTXlBUEkuZ2V0RGF0YShzb21lSWQpO1xcbiAgICAvLyAuLi5cXG4gIH1cXG4gIGZldGNoRGF0YSgpO1xcbn0sIFtzb21lSWRdKTsgLy8gT3IgW10gaWYgZWZmZWN0IGRvZXNuJ3QgbmVlZCBwcm9wcyBvciBzdGF0ZVxcblxcbkxlYXJuIG1vcmUgYWJvdXQgZGF0YSBmZXRjaGluZyB3aXRoIEhvb2tzOiBodHRwczovL3JlYWN0LmRldi9saW5rL2hvb2tzLWRhdGEtZmV0Y2hpbmdcIlxuICAgICAgICAgICAgICAgICAgICA6IFwiIFlvdSByZXR1cm5lZDogXCIgKyBsYXN0RWZmZWN0O1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKG4sIGEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiJXMgbXVzdCBub3QgcmV0dXJuIGFueXRoaW5nIGJlc2lkZXMgYSBmdW5jdGlvbiwgd2hpY2ggaXMgdXNlZCBmb3IgY2xlYW4tdXAuJXNcIixcbiAgICAgICAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgICAgICAgYVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhvb2tOYW1lLFxuICAgICAgICAgICAgICAgIGFkZGVuZHVtXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlLm5leHQ7XG4gICAgICAgICAgfSB3aGlsZSAodXBkYXRlUXVldWUgIT09IGZpcnN0RWZmZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgIGZsYWdzLFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlLFxuICAgICAgICAgIGxhc3RFZmZlY3QgPSBudWxsICE9PSB1cGRhdGVRdWV1ZSA/IHVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3QgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPT0gbGFzdEVmZmVjdCkge1xuICAgICAgICAgIHZhciBmaXJzdEVmZmVjdCA9IGxhc3RFZmZlY3QubmV4dDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA9IGZpcnN0RWZmZWN0O1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICgodXBkYXRlUXVldWUudGFnICYgZmxhZ3MpID09PSBmbGFncykge1xuICAgICAgICAgICAgICB2YXIgaW5zdCA9IHVwZGF0ZVF1ZXVlLmluc3QsXG4gICAgICAgICAgICAgICAgZGVzdHJveSA9IGluc3QuZGVzdHJveTtcbiAgICAgICAgICAgICAgdm9pZCAwICE9PSBkZXN0cm95ICYmXG4gICAgICAgICAgICAgICAgKChpbnN0LmRlc3Ryb3kgPSB2b2lkIDApLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgICA/IG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdFVubW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdGFydGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMCksXG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjYWxsRGVzdHJveUluREVWLFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIGRlc3Ryb3lcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIEluc2VydGlvbikgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMSksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgUGFzc2l2ZSkgIT09IE5vRmxhZ3NcbiAgICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0b3BwZWQoKVxuICAgICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RVbm1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RVbm1vdW50U3RvcHBlZCgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUubmV4dDtcbiAgICAgICAgICB9IHdoaWxlICh1cGRhdGVRdWV1ZSAhPT0gZmlyc3RFZmZlY3QpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va1Bhc3NpdmVNb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrLCBob29rRmxhZ3MpIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChob29rRmxhZ3MsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va1Bhc3NpdmVVbm1vdW50RWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBob29rRmxhZ3NcbiAgICApIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgaG9va0ZsYWdzLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Q2xhc3NDYWxsYmFja3MoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICBpZiAobnVsbCAhPT0gdXBkYXRlUXVldWUpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUuZGVmYXVsdFByb3BzIHx8XG4gICAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgICAoaW5zdGFuY2UucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBwcm9jZXNzaW5nIHRoZSB1cGRhdGUgcXVldWUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBpbnN0YW5jZS5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIHVwZGF0ZSBxdWV1ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5zdGF0ZWAuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICApKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyxcbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXMoaW5zdGFuY2UsIHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDbGFzc1NuYXBzaG90KGZpbmlzaGVkV29yaywgY3VycmVudCkge1xuICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgcHJldlN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgIChjdXJyZW50LnByb3BzICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICksXG4gICAgICAgIGN1cnJlbnQuc3RhdGUgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgKSk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzb2x2ZWRQcmV2UHJvcHMgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLmVsZW1lbnRUeXBlID09PSBmaW5pc2hlZFdvcmsudHlwZVxuICAgICAgICApO1xuICAgICAgICB2YXIgc25hcHNob3QgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY2FsbEdldFNuYXBzaG90QmVmb3JlVXBkYXRlcyxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHJlc29sdmVkUHJldlByb3BzLFxuICAgICAgICAgIHByZXZTdGF0ZVxuICAgICAgICApO1xuICAgICAgICBwcmV2UHJvcHMgPSBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcbiAgICAgICAgdm9pZCAwICE9PSBzbmFwc2hvdCB8fFxuICAgICAgICAgIHByZXZQcm9wcy5oYXMoZmluaXNoZWRXb3JrLnR5cGUpIHx8XG4gICAgICAgICAgKHByZXZQcm9wcy5hZGQoZmluaXNoZWRXb3JrLnR5cGUpLFxuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpbmlzaGVkV29yaywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlcy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpOiBBIHNuYXBzaG90IHZhbHVlIChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIGN1cnJlbnQuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGUgPSBzbmFwc2hvdDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGluc3RhbmNlXG4gICAgKSB7XG4gICAgICBpbnN0YW5jZS5wcm9wcyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICBjdXJyZW50LnR5cGUsXG4gICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wc1xuICAgICAgKTtcbiAgICAgIGluc3RhbmNlLnN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgc2hvdWxkUHJvZmlsZShjdXJyZW50KVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50SW5ERVYsXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudEluREVWLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEF0dGFjaFJlZihmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciByZWYgPSBmaW5pc2hlZFdvcmsucmVmO1xuICAgICAgaWYgKG51bGwgIT09IHJlZikge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmKVxuICAgICAgICAgIGlmIChzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaykpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBzdGFydEVmZmVjdFRpbWVyKCksIChmaW5pc2hlZFdvcmsucmVmQ2xlYW51cCA9IHJlZihpbnN0YW5jZSkpO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGZpbmlzaGVkV29yay5yZWZDbGVhbnVwID0gcmVmKGluc3RhbmNlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiByZWZcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcIlN0cmluZyByZWZzIGFyZSBubyBsb25nZXIgc3VwcG9ydGVkLlwiKVxuICAgICAgICAgICAgOiByZWYuaGFzT3duUHJvcGVydHkoXCJjdXJyZW50XCIpIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbmV4cGVjdGVkIHJlZiBvYmplY3QgcHJvdmlkZWQgZm9yICVzLiBVc2UgZWl0aGVyIGEgcmVmLXNldHRlciBmdW5jdGlvbiBvciBSZWFjdC5jcmVhdGVSZWYoKS5cIixcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChyZWYuY3VycmVudCA9IGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2FmZWx5QXR0YWNoUmVmKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIGNvbW1pdEF0dGFjaFJlZiwgY3VycmVudCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKSB7XG4gICAgICB2YXIgcmVmID0gY3VycmVudC5yZWYsXG4gICAgICAgIHJlZkNsZWFudXAgPSBjdXJyZW50LnJlZkNsZWFudXA7XG4gICAgICBpZiAobnVsbCAhPT0gcmVmKVxuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmQ2xlYW51cClcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFByb2ZpbGUoY3VycmVudCkpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RhcnRFZmZlY3RUaW1lcigpLCBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWZDbGVhbnVwKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbihjdXJyZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWZDbGVhbnVwKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAoY3VycmVudC5yZWZDbGVhbnVwID0gbnVsbCksXG4gICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgICBudWxsICE9IGN1cnJlbnQgJiYgKGN1cnJlbnQucmVmQ2xlYW51cCA9IG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHJvZmlsZShjdXJyZW50KSlcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGFydEVmZmVjdFRpbWVyKCksIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZiwgbnVsbCk7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oY3VycmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgcmVmLCBudWxsKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvciQ2KSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvciQ2KTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQcm9maWxlcihcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICBlZmZlY3REdXJhdGlvblxuICAgICkge1xuICAgICAgdmFyIF9maW5pc2hlZFdvcmskbWVtb2l6ZSA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLFxuICAgICAgICBpZCA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZS5pZCxcbiAgICAgICAgb25Db21taXQgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUub25Db21taXQ7XG4gICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUub25SZW5kZXI7XG4gICAgICBjdXJyZW50ID0gbnVsbCA9PT0gY3VycmVudCA/IFwibW91bnRcIiA6IFwidXBkYXRlXCI7XG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgJiYgKGN1cnJlbnQgPSBcIm5lc3RlZC11cGRhdGVcIik7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfZmluaXNoZWRXb3JrJG1lbW9pemUgJiZcbiAgICAgICAgX2ZpbmlzaGVkV29yayRtZW1vaXplKFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLmFjdHVhbER1cmF0aW9uLFxuICAgICAgICAgIGZpbmlzaGVkV29yay50cmVlQmFzZUR1cmF0aW9uLFxuICAgICAgICAgIGZpbmlzaGVkV29yay5hY3R1YWxTdGFydFRpbWUsXG4gICAgICAgICAgY29tbWl0U3RhcnRUaW1lXG4gICAgICAgICk7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvbkNvbW1pdCAmJlxuICAgICAgICBvbkNvbW1pdChcbiAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5pZCxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIGVmZmVjdER1cmF0aW9uLFxuICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQcm9maWxlclBvc3RDb21taXRJbXBsKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY3VycmVudCxcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgIHBhc3NpdmVFZmZlY3REdXJhdGlvblxuICAgICkge1xuICAgICAgdmFyIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgIGZpbmlzaGVkV29yayA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZTIuaWQ7XG4gICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUyID0gX2ZpbmlzaGVkV29yayRtZW1vaXplMi5vblBvc3RDb21taXQ7XG4gICAgICBjdXJyZW50ID0gbnVsbCA9PT0gY3VycmVudCA/IFwibW91bnRcIiA6IFwidXBkYXRlXCI7XG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgJiYgKGN1cnJlbnQgPSBcIm5lc3RlZC11cGRhdGVcIik7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfZmluaXNoZWRXb3JrJG1lbW9pemUyICYmXG4gICAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgcGFzc2l2ZUVmZmVjdER1cmF0aW9uLFxuICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb3N0TW91bnQoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgdHlwZSA9IGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICBwcm9wcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLFxuICAgICAgICBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICB0cnkge1xuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY29tbWl0TW91bnQsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb3N0VXBkYXRlKGZpbmlzaGVkV29yaywgbmV3UHJvcHMsIG9sZFByb3BzKSB7XG4gICAgICB0cnkge1xuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY29tbWl0VXBkYXRlLFxuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgb2xkUHJvcHMsXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNIb3N0UGFyZW50KGZpYmVyKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA1ID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgMyA9PT0gZmliZXIudGFnIHx8XG4gICAgICAgIDI2ID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgMjcgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICA0ID09PSBmaWJlci50YWdcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvc3RTaWJsaW5nKGZpYmVyKSB7XG4gICAgICBhOiBmb3IgKDs7KSB7XG4gICAgICAgIGZvciAoOyBudWxsID09PSBmaWJlci5zaWJsaW5nOyApIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIucmV0dXJuIHx8IGlzSG9zdFBhcmVudChmaWJlci5yZXR1cm4pKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICBmaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmaWJlci5zaWJsaW5nLnJldHVybiA9IGZpYmVyLnJldHVybjtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBmaWJlciA9IGZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgNSAhPT0gZmliZXIudGFnICYmXG4gICAgICAgICAgNiAhPT0gZmliZXIudGFnICYmXG4gICAgICAgICAgMjcgIT09IGZpYmVyLnRhZyAmJlxuICAgICAgICAgIDE4ICE9PSBmaWJlci50YWc7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGZpYmVyLmZsYWdzICYgMikgY29udGludWUgYTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIuY2hpbGQgfHwgNCA9PT0gZmliZXIudGFnKSBjb250aW51ZSBhO1xuICAgICAgICAgIGVsc2UgKGZpYmVyLmNoaWxkLnJldHVybiA9IGZpYmVyKSwgKGZpYmVyID0gZmliZXIuY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGZpYmVyLmZsYWdzICYgMikpIHJldHVybiBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZUludG9Db250YWluZXIobm9kZSwgYmVmb3JlLCBwYXJlbnQpIHtcbiAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgIGlmICg1ID09PSB0YWcgfHwgNiA9PT0gdGFnKVxuICAgICAgICAobm9kZSA9IG5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICBiZWZvcmVcbiAgICAgICAgICAgID8gOCA9PT0gcGFyZW50Lm5vZGVUeXBlXG4gICAgICAgICAgICAgID8gcGFyZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIGJlZm9yZSlcbiAgICAgICAgICAgICAgOiBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGJlZm9yZSlcbiAgICAgICAgICAgIDogKDggPT09IHBhcmVudC5ub2RlVHlwZVxuICAgICAgICAgICAgICAgID8gKChiZWZvcmUgPSBwYXJlbnQucGFyZW50Tm9kZSksXG4gICAgICAgICAgICAgICAgICBiZWZvcmUuaW5zZXJ0QmVmb3JlKG5vZGUsIHBhcmVudCkpXG4gICAgICAgICAgICAgICAgOiAoKGJlZm9yZSA9IHBhcmVudCksIGJlZm9yZS5hcHBlbmRDaGlsZChub2RlKSksXG4gICAgICAgICAgICAgIChwYXJlbnQgPSBwYXJlbnQuX3JlYWN0Um9vdENvbnRhaW5lciksXG4gICAgICAgICAgICAgIChudWxsICE9PSBwYXJlbnQgJiYgdm9pZCAwICE9PSBwYXJlbnQpIHx8XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gYmVmb3JlLm9uY2xpY2sgfHxcbiAgICAgICAgICAgICAgICAoYmVmb3JlLm9uY2xpY2sgPSBub29wJDEpKTtcbiAgICAgIGVsc2UgaWYgKDQgIT09IHRhZyAmJiAyNyAhPT0gdGFnICYmICgobm9kZSA9IG5vZGUuY2hpbGQpLCBudWxsICE9PSBub2RlKSlcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKG5vZGUsIGJlZm9yZSwgcGFyZW50KSxcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgICAgbnVsbCAhPT0gbm9kZTtcblxuICAgICAgICApXG4gICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICAobm9kZSA9IG5vZGUuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShub2RlLCBiZWZvcmUsIHBhcmVudCkge1xuICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCA2ID09PSB0YWcpXG4gICAgICAgIChub2RlID0gbm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgIGJlZm9yZSA/IHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlKSA6IHBhcmVudC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgIGVsc2UgaWYgKDQgIT09IHRhZyAmJiAyNyAhPT0gdGFnICYmICgobm9kZSA9IG5vZGUuY2hpbGQpLCBudWxsICE9PSBub2RlKSlcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgICBudWxsICE9PSBub2RlO1xuXG4gICAgICAgIClcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgKG5vZGUgPSBub2RlLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQbGFjZW1lbnQoZmluaXNoZWRXb3JrKSB7XG4gICAgICBpZiAoMjcgIT09IGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgYToge1xuICAgICAgICAgIGZvciAodmFyIHBhcmVudCA9IGZpbmlzaGVkV29yay5yZXR1cm47IG51bGwgIT09IHBhcmVudDsgKSB7XG4gICAgICAgICAgICBpZiAoaXNIb3N0UGFyZW50KHBhcmVudCkpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcmVudEZpYmVyID0gcGFyZW50O1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChwYXJlbnRGaWJlci50YWcpIHtcbiAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgcGFyZW50RmliZXIgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKGZpbmlzaGVkV29yaywgcGFyZW50RmliZXIsIHBhcmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBwYXJlbnRGaWJlci5mbGFncyAmIDMyICYmXG4gICAgICAgICAgICAgIChyZXNldFRleHRDb250ZW50KHBhcmVudCksIChwYXJlbnRGaWJlci5mbGFncyAmPSAtMzMpKTtcbiAgICAgICAgICAgIHBhcmVudEZpYmVyID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShmaW5pc2hlZFdvcmssIHBhcmVudEZpYmVyLCBwYXJlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgcGFyZW50RmliZXIgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgICAgcGFyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgaG9zdCBwYXJlbnQgZmliZXIuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0QmVmb3JlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpcnN0Q2hpbGQpIHtcbiAgICAgIHJvb3QgPSByb290LmNvbnRhaW5lckluZm87XG4gICAgICBldmVudHNFbmFibGVkID0gX2VuYWJsZWQ7XG4gICAgICByb290ID0gZ2V0QWN0aXZlRWxlbWVudERlZXAocm9vdCk7XG4gICAgICBpZiAoaGFzU2VsZWN0aW9uQ2FwYWJpbGl0aWVzKHJvb3QpKSB7XG4gICAgICAgIGlmIChcInNlbGVjdGlvblN0YXJ0XCIgaW4gcm9vdClcbiAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wID0ge1xuICAgICAgICAgICAgc3RhcnQ6IHJvb3Quc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHJvb3Quc2VsZWN0aW9uRW5kXG4gICAgICAgICAgfTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICgoSlNDb21waWxlcl90ZW1wID0gcm9vdC5vd25lckRvY3VtZW50KSAmJlxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5kZWZhdWx0VmlldykgfHxcbiAgICAgICAgICAgICAgd2luZG93O1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5nZXRTZWxlY3Rpb24gJiYgSlNDb21waWxlcl90ZW1wLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiAwICE9PSBzZWxlY3Rpb24ucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBzZWxlY3Rpb24uYW5jaG9yTm9kZTtcbiAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldCA9IHNlbGVjdGlvbi5hbmNob3JPZmZzZXQsXG4gICAgICAgICAgICAgICAgZm9jdXNOb2RlID0gc2VsZWN0aW9uLmZvY3VzTm9kZTtcbiAgICAgICAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZvY3VzT2Zmc2V0O1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcC5ub2RlVHlwZSwgZm9jdXNOb2RlLm5vZGVUeXBlO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlJDIpIHtcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSAtMSxcbiAgICAgICAgICAgICAgICBlbmQgPSAtMSxcbiAgICAgICAgICAgICAgICBpbmRleFdpdGhpbkFuY2hvciA9IDAsXG4gICAgICAgICAgICAgICAgaW5kZXhXaXRoaW5Gb2N1cyA9IDAsXG4gICAgICAgICAgICAgICAgbm9kZSA9IHJvb3QsXG4gICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IG51bGw7XG4gICAgICAgICAgICAgIGI6IGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0OyA7ICkge1xuICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gSlNDb21waWxlcl90ZW1wIHx8XG4gICAgICAgICAgICAgICAgICAgICgwICE9PSBhbmNob3JPZmZzZXQgJiYgMyAhPT0gbm9kZS5ub2RlVHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKHN0YXJ0ID0gbGVuZ3RoICsgYW5jaG9yT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIG5vZGUgIT09IGZvY3VzTm9kZSB8fFxuICAgICAgICAgICAgICAgICAgICAoMCAhPT0gc2VsZWN0aW9uICYmIDMgIT09IG5vZGUubm9kZVR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIChlbmQgPSBsZW5ndGggKyBzZWxlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgMyA9PT0gbm9kZS5ub2RlVHlwZSAmJiAobGVuZ3RoICs9IG5vZGUubm9kZVZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gKG5leHQgPSBub2RlLmZpcnN0Q2hpbGQpKSBicmVhaztcbiAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICAgICAgIGlmIChub2RlID09PSByb290KSBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9PT0gSlNDb21waWxlcl90ZW1wICYmXG4gICAgICAgICAgICAgICAgICAgICsraW5kZXhXaXRoaW5BbmNob3IgPT09IGFuY2hvck9mZnNldCAmJlxuICAgICAgICAgICAgICAgICAgICAoc3RhcnQgPSBsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9PT0gZm9jdXNOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICsraW5kZXhXaXRoaW5Gb2N1cyA9PT0gc2VsZWN0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIChlbmQgPSBsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IChuZXh0ID0gbm9kZS5uZXh0U2libGluZykpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAgIC0xID09PSBzdGFydCB8fCAtMSA9PT0gZW5kID8gbnVsbCA6IHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9O1xuICAgICAgICAgICAgfSBlbHNlIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBKU0NvbXBpbGVyX3RlbXAgfHwgeyBzdGFydDogMCwgZW5kOiAwIH07XG4gICAgICB9IGVsc2UgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgIHNlbGVjdGlvbkluZm9ybWF0aW9uID0ge1xuICAgICAgICBmb2N1c2VkRWxlbTogcm9vdCxcbiAgICAgICAgc2VsZWN0aW9uUmFuZ2U6IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgfTtcbiAgICAgIF9lbmFibGVkID0gITE7XG4gICAgICBmb3IgKG5leHRFZmZlY3QgPSBmaXJzdENoaWxkOyBudWxsICE9PSBuZXh0RWZmZWN0OyApXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGZpcnN0Q2hpbGQgPSBuZXh0RWZmZWN0KSxcbiAgICAgICAgICAocm9vdCA9IGZpcnN0Q2hpbGQuY2hpbGQpLFxuICAgICAgICAgIDAgIT09IChmaXJzdENoaWxkLnN1YnRyZWVGbGFncyAmIDEwMjgpICYmIG51bGwgIT09IHJvb3QpXG4gICAgICAgIClcbiAgICAgICAgICAocm9vdC5yZXR1cm4gPSBmaXJzdENoaWxkKSwgKG5leHRFZmZlY3QgPSByb290KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGZvciAoOyBudWxsICE9PSBuZXh0RWZmZWN0OyApIHtcbiAgICAgICAgICAgIHJvb3QgPSBmaXJzdENoaWxkID0gbmV4dEVmZmVjdDtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IHJvb3QuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgYW5jaG9yT2Zmc2V0ID0gcm9vdC5mbGFncztcbiAgICAgICAgICAgIHN3aXRjaCAocm9vdC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgMCAhPT0gKGFuY2hvck9mZnNldCAmIDEwMjQpICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX3RlbXAgJiZcbiAgICAgICAgICAgICAgICAgIGNvbW1pdENsYXNzU25hcHNob3Qocm9vdCwgSlNDb21waWxlcl90ZW1wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGlmICgwICE9PSAoYW5jaG9yT2Zmc2V0ICYgMTAyNCkpXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICgocm9vdCA9IHJvb3Quc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLFxuICAgICAgICAgICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID0gcm9vdC5ub2RlVHlwZSksXG4gICAgICAgICAgICAgICAgICAgIDkgPT09IEpTQ29tcGlsZXJfdGVtcClcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250YWluZXJTcGFyaW5nbHkocm9vdCk7XG4gICAgICAgICAgICAgICAgICBlbHNlIGlmICgxID09PSBKU0NvbXBpbGVyX3RlbXApXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocm9vdC5ub2RlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIRUFEXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQk9EWVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJDb250YWluZXJTcGFyaW5nbHkocm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gKGFuY2hvck9mZnNldCAmIDEwMjQpKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiVGhpcyB1bml0IG9mIHdvcmsgdGFnIHNob3VsZCBub3QgaGF2ZSBzaWRlLWVmZmVjdHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb290ID0gZmlyc3RDaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IHJvb3QpIHtcbiAgICAgICAgICAgICAgcm9vdC5yZXR1cm4gPSBmaXJzdENoaWxkLnJldHVybjtcbiAgICAgICAgICAgICAgbmV4dEVmZmVjdCA9IHJvb3Q7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEVmZmVjdCA9IGZpcnN0Q2hpbGQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIGZpcnN0Q2hpbGQgPSBzaG91bGRGaXJlQWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXI7XG4gICAgICBzaG91bGRGaXJlQWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXIgPSAhMTtcbiAgICAgIHJldHVybiBmaXJzdENoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRMYXlvdXRFZmZlY3RPbkZpYmVyKGZpbmlzaGVkUm9vdCwgY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgTGF5b3V0IHwgSGFzRWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0KVxuICAgICAgICAgICAgaWYgKCgoZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSksIG51bGwgPT09IGN1cnJlbnQpKVxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIChmaW5pc2hlZFJvb3QucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBjb21wb25lbnREaWRNb3VudC4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIGNvbXBvbmVudERpZE1vdW50LiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYsXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICAgICAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYsXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBwcmV2UHJvcHMgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUuZGVmYXVsdFByb3BzIHx8XG4gICAgICAgICAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgICAgICAgICAoZmluaXNoZWRSb290LnByb3BzICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgY29tcG9uZW50RGlkVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgY29tcG9uZW50RGlkVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlSW5ERVYsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgICAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlSW5ERVYsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBmbGFncyAmIDY0ICYmIGNvbW1pdENsYXNzQ2FsbGJhY2tzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiYgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjdXJyZW50ID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmbGFncyAmIDY0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSwgbnVsbCAhPT0gZmxhZ3MpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmV2UHJvcHMgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpbmlzaGVkV29yay5jaGlsZClcbiAgICAgICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsuY2hpbGQudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICBwcmV2UHJvcHMgPSBmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgcHJldlByb3BzID0gZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdENhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgICAgICBwcmV2UHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaW5pc2hlZFJvb3QuZWZmZWN0RHVyYXRpb24gKz0gcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKGN1cnJlbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJiBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmIGZsYWdzICYgNCAmJiBjb21taXRIb3N0TW91bnQoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJiBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgICBmbGFncyA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QuZWZmZWN0RHVyYXRpb24gKz0gYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKGZsYWdzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRQcm9maWxlcixcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LmVmZmVjdER1cmF0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBwcmV2UHJvcHMgPVxuICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgfHwgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuO1xuICAgICAgICAgIGlmICghcHJldlByb3BzKSB7XG4gICAgICAgICAgICBjdXJyZW50ID1cbiAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgICAgdmFyIHByZXZPZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4sXG4gICAgICAgICAgICAgIHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IHByZXZQcm9wcztcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gY3VycmVudCkgJiZcbiAgICAgICAgICAgICFwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlblxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAwICE9PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDg3NzIpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW47XG4gICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAoXCJtYW51YWxcIiA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMubW9kZVxuICAgICAgICAgICAgICA/IHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pXG4gICAgICAgICAgICAgIDogc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWNoRmliZXJBZnRlckVmZmVjdHMoZmliZXIpIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiZcbiAgICAgICAgKChmaWJlci5hbHRlcm5hdGUgPSBudWxsKSwgZGV0YWNoRmliZXJBZnRlckVmZmVjdHMoYWx0ZXJuYXRlKSk7XG4gICAgICBmaWJlci5jaGlsZCA9IG51bGw7XG4gICAgICBmaWJlci5kZWxldGlvbnMgPSBudWxsO1xuICAgICAgZmliZXIuc2libGluZyA9IG51bGw7XG4gICAgICA1ID09PSBmaWJlci50YWcgJiZcbiAgICAgICAgKChhbHRlcm5hdGUgPSBmaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgZGV0YWNoRGVsZXRlZEluc3RhbmNlKGFsdGVybmF0ZSkpO1xuICAgICAgZmliZXIuc3RhdGVOb2RlID0gbnVsbDtcbiAgICAgIGZpYmVyLl9kZWJ1Z093bmVyID0gbnVsbDtcbiAgICAgIGZpYmVyLnJldHVybiA9IG51bGw7XG4gICAgICBmaWJlci5kZXBlbmRlbmNpZXMgPSBudWxsO1xuICAgICAgZmliZXIubWVtb2l6ZWRQcm9wcyA9IG51bGw7XG4gICAgICBmaWJlci5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IG51bGw7XG4gICAgICBmaWJlci5zdGF0ZU5vZGUgPSBudWxsO1xuICAgICAgZmliZXIudXBkYXRlUXVldWUgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIHBhcmVudFxuICAgICkge1xuICAgICAgZm9yIChwYXJlbnQgPSBwYXJlbnQuY2hpbGQ7IG51bGwgIT09IHBhcmVudDsgKVxuICAgICAgICBjb21taXREZWxldGlvbkVmZmVjdHNPbkZpYmVyKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgIHBhcmVudFxuICAgICAgICApLFxuICAgICAgICAgIChwYXJlbnQgPSBwYXJlbnQuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdERlbGV0aW9uRWZmZWN0c09uRmliZXIoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgZGVsZXRlZEZpYmVyXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGluamVjdGVkSG9vayAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclVubW91bnRcbiAgICAgIClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclVubW91bnQocmVuZGVyZXJJRCwgZGVsZXRlZEZpYmVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgc3dpdGNoIChkZWxldGVkRmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRlbGV0ZWRGaWJlci5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IGRlbGV0ZWRGaWJlci5tZW1vaXplZFN0YXRlLmNvdW50LS1cbiAgICAgICAgICAgIDogZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAoKGRlbGV0ZWRGaWJlciA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICBkZWxldGVkRmliZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkZWxldGVkRmliZXIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgICB2YXIgcHJldkhvc3RQYXJlbnQgPSBob3N0UGFyZW50LFxuICAgICAgICAgICAgcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IGhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBob3N0UGFyZW50ID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlZEZpYmVyID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICBmb3IgKGZpbmlzaGVkUm9vdCA9IGRlbGV0ZWRGaWJlci5hdHRyaWJ1dGVzOyBmaW5pc2hlZFJvb3QubGVuZ3RoOyApXG4gICAgICAgICAgICBkZWxldGVkRmliZXIucmVtb3ZlQXR0cmlidXRlTm9kZShmaW5pc2hlZFJvb3RbMF0pO1xuICAgICAgICAgIGRldGFjaERlbGV0ZWRJbnN0YW5jZShkZWxldGVkRmliZXIpO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudCA9IGhvc3RQYXJlbnQ7XG4gICAgICAgICAgcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IGhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBob3N0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IHByZXZIb3N0UGFyZW50O1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IHByZXZIb3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGhvc3RQYXJlbnQpXG4gICAgICAgICAgICBpZiAoaG9zdFBhcmVudElzQ29udGFpbmVyKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgaG9zdFBhcmVudCxcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2hpbGQsXG4gICAgICAgICAgICAgICAgICBob3N0UGFyZW50LFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgbnVsbCAhPT0gaG9zdFBhcmVudCAmJlxuICAgICAgICAgICAgKGhvc3RQYXJlbnRJc0NvbnRhaW5lclxuICAgICAgICAgICAgICA/ICgoZmluaXNoZWRSb290ID0gaG9zdFBhcmVudCksXG4gICAgICAgICAgICAgICAgKGRlbGV0ZWRGaWJlciA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgIDggPT09IGZpbmlzaGVkUm9vdC5ub2RlVHlwZVxuICAgICAgICAgICAgICAgICAgPyBjbGVhclN1c3BlbnNlQm91bmRhcnkoZmluaXNoZWRSb290LnBhcmVudE5vZGUsIGRlbGV0ZWRGaWJlcilcbiAgICAgICAgICAgICAgICAgIDogMSA9PT0gZmluaXNoZWRSb290Lm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyU3VzcGVuc2VCb3VuZGFyeShmaW5pc2hlZFJvb3QsIGRlbGV0ZWRGaWJlciksXG4gICAgICAgICAgICAgICAgcmV0cnlJZkJsb2NrZWRPbihmaW5pc2hlZFJvb3QpKVxuICAgICAgICAgICAgICA6IGNsZWFyU3VzcGVuc2VCb3VuZGFyeShob3N0UGFyZW50LCBkZWxldGVkRmliZXIuc3RhdGVOb2RlKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudCA9IGhvc3RQYXJlbnQ7XG4gICAgICAgICAgcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IGhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBob3N0UGFyZW50ID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICEwO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgICAgSW5zZXJ0aW9uLFxuICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgIExheW91dFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAoc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciksXG4gICAgICAgICAgICAocHJldkhvc3RQYXJlbnQgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByZXZIb3N0UGFyZW50LmNvbXBvbmVudFdpbGxVbm1vdW50ICYmXG4gICAgICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChcbiAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICBwcmV2SG9zdFBhcmVudFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPVxuICAgICAgICAgICAgKHByZXZIb3N0UGFyZW50ID0gb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbikgfHxcbiAgICAgICAgICAgIG51bGwgIT09IGRlbGV0ZWRGaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRTdXNwZW5zZUh5ZHJhdGlvbkNhbGxiYWNrcyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yaykge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAoKGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUpLFxuICAgICAgICBudWxsICE9PSBmaW5pc2hlZFJvb3QgJiZcbiAgICAgICAgICAoKGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkUm9vdC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFJvb3QgJiZcbiAgICAgICAgICAgICgoZmluaXNoZWRSb290ID0gZmluaXNoZWRSb290LmRlaHlkcmF0ZWQpLCBudWxsICE9PSBmaW5pc2hlZFJvb3QpKSlcbiAgICAgIClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdEh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZSxcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmV0cnlDYWNoZShmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHZhciByZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsID09PSByZXRyeUNhY2hlICYmXG4gICAgICAgICAgICAocmV0cnlDYWNoZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgPSBuZXcgUG9zc2libHlXZWFrU2V0KCkpO1xuICAgICAgICAgIHJldHVybiByZXRyeUNhY2hlO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAocmV0cnlDYWNoZSA9IGZpbmlzaGVkV29yay5fcmV0cnlDYWNoZSksXG4gICAgICAgICAgICBudWxsID09PSByZXRyeUNhY2hlICYmXG4gICAgICAgICAgICAgIChyZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLl9yZXRyeUNhY2hlID0gbmV3IFBvc3NpYmx5V2Vha1NldCgpKSxcbiAgICAgICAgICAgIHJldHJ5Q2FjaGVcbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJVbmV4cGVjdGVkIFN1c3BlbnNlIGhhbmRsZXIgdGFnIChcIiArXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay50YWcgK1xuICAgICAgICAgICAgICBcIikuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgd2FrZWFibGVzKSB7XG4gICAgICB2YXIgcmV0cnlDYWNoZSA9IGdldFJldHJ5Q2FjaGUoZmluaXNoZWRXb3JrKTtcbiAgICAgIHdha2VhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uICh3YWtlYWJsZSkge1xuICAgICAgICB2YXIgcmV0cnkgPSByZXNvbHZlUmV0cnlXYWtlYWJsZS5iaW5kKG51bGwsIGZpbmlzaGVkV29yaywgd2FrZWFibGUpO1xuICAgICAgICBpZiAoIXJldHJ5Q2FjaGUuaGFzKHdha2VhYmxlKSkge1xuICAgICAgICAgIHJldHJ5Q2FjaGUuYWRkKHdha2VhYmxlKTtcbiAgICAgICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpXG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gaW5Qcm9ncmVzc0xhbmVzICYmIG51bGwgIT09IGluUHJvZ3Jlc3NSb290KVxuICAgICAgICAgICAgICByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKGluUHJvZ3Jlc3NSb290LCBpblByb2dyZXNzTGFuZXMpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGZpbmlzaGVkIHJvb3QgYW5kIGxhbmVzIHRvIGJlIHNldC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIHdha2VhYmxlLnRoZW4ocmV0cnksIHJldHJ5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdE11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmssIGNvbW1pdHRlZExhbmVzKSB7XG4gICAgICBpblByb2dyZXNzTGFuZXMgPSBjb21taXR0ZWRMYW5lcztcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gcm9vdDtcbiAgICAgIGNvbW1pdE11dGF0aW9uRWZmZWN0c09uRmliZXIoZmluaXNoZWRXb3JrLCByb290KTtcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gaW5Qcm9ncmVzc0xhbmVzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290JGpzY29tcCQwLCBwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIGRlbGV0aW9ucyA9IHBhcmVudEZpYmVyLmRlbGV0aW9ucztcbiAgICAgIGlmIChudWxsICE9PSBkZWxldGlvbnMpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSByb290JGpzY29tcCQwLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlciA9IGRlbGV0aW9uc1tpXSxcbiAgICAgICAgICAgIHBhcmVudCA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIGE6IGZvciAoOyBudWxsICE9PSBwYXJlbnQ7ICkge1xuICAgICAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG51bGwgPT09IGhvc3RQYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY29tbWl0RGVsZXRpb25FZmZlY3RzT25GaWJlcihyb290LCByZXR1cm5GaWJlciwgZGVsZXRlZEZpYmVyKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMTtcbiAgICAgICAgICByb290ID0gZGVsZXRlZEZpYmVyO1xuICAgICAgICAgIHJldHVybkZpYmVyID0gcm9vdC5hbHRlcm5hdGU7XG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXIgJiYgKHJldHVybkZpYmVyLnJldHVybiA9IG51bGwpO1xuICAgICAgICAgIHJvb3QucmV0dXJuID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEzODc4KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0TXV0YXRpb25FZmZlY3RzT25GaWJlcihwYXJlbnRGaWJlciwgcm9vdCRqc2NvbXAkMCksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TXV0YXRpb25FZmZlY3RzT25GaWJlcihmaW5pc2hlZFdvcmssIHJvb3QpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIChjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICAgIEluc2VydGlvbiB8IEhhc0VmZmVjdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChJbnNlcnRpb24gfCBIYXNFZmZlY3QsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgICBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgICAgTGF5b3V0IHwgSGFzRWZmZWN0XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgY3VycmVudC5yZXR1cm4pKTtcbiAgICAgICAgICBmbGFncyAmIDY0ICYmXG4gICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gJiZcbiAgICAgICAgICAgICgoZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yayAmJlxuICAgICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLmNhbGxiYWNrcyksXG4gICAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICAgKChjdXJyZW50ID0gZmluaXNoZWRXb3JrLnNoYXJlZC5oaWRkZW5DYWxsYmFja3MpLFxuICAgICAgICAgICAgICAgIChmaW5pc2hlZFdvcmsuc2hhcmVkLmhpZGRlbkNhbGxiYWNrcyA9XG4gICAgICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50ID8gZmxhZ3MgOiBjdXJyZW50LmNvbmNhdChmbGFncykpKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHZhciBob2lzdGFibGVSb290ID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGlmIChmbGFncyAmIDQpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgocm9vdCA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkU3RhdGUgOiBudWxsKSxcbiAgICAgICAgICAgICAgKGZsYWdzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gZmxhZ3MpXG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICAgICAgICByb290ID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICAgICAgICAgIGI6IHN3aXRjaCAoZmxhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGl0bGVcIilbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICFob2lzdGFibGVSb290IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxJbnN0YW5jZUtleV0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0UgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5oYXNBdHRyaWJ1dGUoXCJpdGVtcHJvcFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAoaG9pc3RhYmxlUm9vdCA9IHJvb3QuY3JlYXRlRWxlbWVudChmbGFncykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuaGVhZC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5xdWVyeVNlbGVjdG9yKFwiaGVhZCA+IHRpdGxlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhvaXN0YWJsZVJvb3QsIGZsYWdzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBmaW5pc2hlZFdvcms7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBob2lzdGFibGVSb290O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heWJlTm9kZXMgPSBnZXRIeWRyYXRhYmxlSG9pc3RhYmxlQ2FjaGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwibGlua1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImhyZWZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgKS5nZXQoZmxhZ3MgKyAoY3VycmVudC5ocmVmIHx8IFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXliZU5vZGVzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heWJlTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChob2lzdGFibGVSb290ID0gbWF5YmVOb2Rlc1tpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuaHJlZiA/IG51bGwgOiBjdXJyZW50LmhyZWYpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwicmVsXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQucmVsID8gbnVsbCA6IGN1cnJlbnQucmVsKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcInRpdGxlXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQudGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LnRpdGxlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNyb3NzT3JpZ2luKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290ID0gcm9vdC5jcmVhdGVFbGVtZW50KGZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhvaXN0YWJsZVJvb3QsIGZsYWdzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuaGVhZC5hcHBlbmRDaGlsZChob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChtYXliZU5vZGVzID0gZ2V0SHlkcmF0YWJsZUhvaXN0YWJsZUNhY2hlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0YVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udGVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKS5nZXQoZmxhZ3MgKyAoY3VycmVudC5jb250ZW50IHx8IFwiXCIpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG1heWJlTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChob2lzdGFibGVSb290ID0gbWF5YmVOb2Rlc1tpXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29udGVudFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LmNvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCIgKyBjdXJyZW50LmNvbnRlbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50Lm5hbWUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwicHJvcGVydHlcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5wcm9wZXJ0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQucHJvcGVydHkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiaHR0cC1lcXVpdlwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50Lmh0dHBFcXVpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuaHR0cEVxdWl2KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImNoYXJzZXRcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5jaGFyU2V0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5jaGFyU2V0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290ID0gcm9vdC5jcmVhdGVFbGVtZW50KGZsYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhvaXN0YWJsZVJvb3QsIGZsYWdzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuaGVhZC5hcHBlbmRDaGlsZChob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dldE5vZGVzRm9yVHlwZSBlbmNvdW50ZXJlZCBhIHR5cGUgaXQgZGlkIG5vdCBleHBlY3Q6IFwiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdcIi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4nXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBmaW5pc2hlZFdvcms7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzID0gaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgPSBmbGFncztcbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgIG1vdW50SG9pc3RhYmxlKFxuICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgPSBhY3F1aXJlUmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHJvb3QgIT09IGZsYWdzXG4gICAgICAgICAgICAgICAgPyAobnVsbCA9PT0gcm9vdFxuICAgICAgICAgICAgICAgICAgICA/IG51bGwgIT09IGN1cnJlbnQuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjdXJyZW50KSlcbiAgICAgICAgICAgICAgICAgICAgOiByb290LmNvdW50LS0sXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBmbGFnc1xuICAgICAgICAgICAgICAgICAgICA/IG1vdW50SG9pc3RhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiBhY3F1aXJlUmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgOiBudWxsID09PSBmbGFncyAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAgICAgY29tbWl0SG9zdFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIGlmIChmbGFncyAmIDQgJiYgbnVsbCA9PT0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSkge1xuICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBtYXliZU5vZGVzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmb3IgKGkgPSBob2lzdGFibGVSb290LmZpcnN0Q2hpbGQ7IGk7ICkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IGkubmV4dFNpYmxpbmcsXG4gICAgICAgICAgICAgICAgICBub2RlTmFtZSA9IGkubm9kZU5hbWU7XG4gICAgICAgICAgICAgICAgaVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gfHxcbiAgICAgICAgICAgICAgICAgIFwiSEVBRFwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJCT0RZXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcIlNDUklQVFwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJTVFlMRVwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgKFwiTElOS1wiID09PSBub2RlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gaS5yZWwudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QucmVtb3ZlQ2hpbGQoaSk7XG4gICAgICAgICAgICAgICAgaSA9IG5leHROb2RlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBhY3F1aXJlU2luZ2xldG9uSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgICAgICAgbWF5YmVOb2RlcyxcbiAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGlmIChmaW5pc2hlZFdvcmsuZmxhZ3MgJiAzMikge1xuICAgICAgICAgICAgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaW5pc2hlZFdvcmssIHJlc2V0VGV4dENvbnRlbnQsIHJvb3QpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgbnVsbCAhPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAoKHJvb3QgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyksXG4gICAgICAgICAgICBjb21taXRIb3N0VXBkYXRlKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiByb290XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICBmbGFncyAmIDEwMjQgJiZcbiAgICAgICAgICAgICgobmVlZHNGb3JtUmVzZXQgPSAhMCksXG4gICAgICAgICAgICBcImZvcm1cIiAhPT0gZmluaXNoZWRXb3JrLnR5cGUgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgaG9zdCBjb21wb25lbnQgdHlwZS4gRXhwZWN0ZWQgYSBmb3JtLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChmbGFncyAmIDQpIHtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoaXMgc2hvdWxkIGhhdmUgYSB0ZXh0IG5vZGUgaW5pdGlhbGl6ZWQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZsYWdzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICBjdXJyZW50ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IGZsYWdzO1xuICAgICAgICAgICAgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0VGV4dFVwZGF0ZSxcbiAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZmxhZ3NcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgdGFnQ2FjaGVzID0gbnVsbDtcbiAgICAgICAgICBtYXliZU5vZGVzID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBnZXRIb2lzdGFibGVSb290KHJvb3QuY29udGFpbmVySW5mbyk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gbWF5YmVOb2RlcztcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWRcbiAgICAgICAgICApXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0SHlkcmF0ZWRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgcm9vdC5jb250YWluZXJJbmZvXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBuZWVkc0Zvcm1SZXNldCAmJlxuICAgICAgICAgICAgKChuZWVkc0Zvcm1SZXNldCA9ICExKSwgcmVjdXJzaXZlbHlSZXNldEZvcm1zKGZpbmlzaGVkV29yaykpO1xuICAgICAgICAgIHJvb3QuZWZmZWN0RHVyYXRpb24gKz0gcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgZmxhZ3MgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGdldEhvaXN0YWJsZVJvb3QoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGZsYWdzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGZsYWdzID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLmVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMoZmxhZ3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuY2hpbGQuZmxhZ3MgJiA4MTkyICYmXG4gICAgICAgICAgICAobnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUpICE9PVxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpICYmXG4gICAgICAgICAgICAoZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA9IG5vdyQxKCkpO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBmbGFncyAmJlxuICAgICAgICAgICAgICAoKGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgZmxhZ3MpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgaSA9IG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG5leHROb2RlID0gbnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbm9kZU5hbWUgPSBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW47XG4gICAgICAgICAgdmFyIHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBub2RlTmFtZSB8fCBpO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fCBuZXh0Tm9kZTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IG5vZGVOYW1lO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIHJvb3QuX2N1cnJlbnQgPSBmaW5pc2hlZFdvcms7XG4gICAgICAgICAgcm9vdC5fdmlzaWJpbGl0eSAmPSB+T2Zmc2NyZWVuRGV0YWNoZWQ7XG4gICAgICAgICAgcm9vdC5fdmlzaWJpbGl0eSB8PSByb290Ll9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZsYWdzICYgODE5MiAmJlxuICAgICAgICAgICAgKChyb290Ll92aXNpYmlsaXR5ID0gaVxuICAgICAgICAgICAgICA/IHJvb3QuX3Zpc2liaWxpdHkgJiB+T2Zmc2NyZWVuVmlzaWJsZVxuICAgICAgICAgICAgICA6IHJvb3QuX3Zpc2liaWxpdHkgfCBPZmZzY3JlZW5WaXNpYmxlKSxcbiAgICAgICAgICAgIGkgJiZcbiAgICAgICAgICAgICAgKChyb290ID0gb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuIHx8IG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4pLFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgICAgbmV4dE5vZGUgfHxcbiAgICAgICAgICAgICAgICByb290IHx8XG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKSksXG4gICAgICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgICAgICBcIm1hbnVhbFwiICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5tb2RlKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGE6IGZvciAoY3VycmVudCA9IG51bGwsIHJvb3QgPSBmaW5pc2hlZFdvcms7IDsgKSB7XG4gICAgICAgICAgICAgIGlmICg1ID09PSByb290LnRhZyB8fCAyNiA9PT0gcm9vdC50YWcgfHwgMjcgPT09IHJvb3QudGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gY3VycmVudCA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAoaG9pc3RhYmxlUm9vdCA9IG5leHROb2RlLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlkZUluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLnN0YXRlTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihuZXh0Tm9kZSwgbmV4dE5vZGUucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKDYgPT09IHJvb3QudGFnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlID0gcm9vdDtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChtYXliZU5vZGVzID0gbmV4dE5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICBpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVUZXh0SW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaGlkZVRleHRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZU5vZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKG5leHROb2RlLCBuZXh0Tm9kZS5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgKCgyMiAhPT0gcm9vdC50YWcgJiYgMjMgIT09IHJvb3QudGFnKSB8fFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gcm9vdC5tZW1vaXplZFN0YXRlIHx8XG4gICAgICAgICAgICAgICAgICByb290ID09PSBmaW5pc2hlZFdvcmspICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdC5jaGlsZFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByb290LmNoaWxkLnJldHVybiA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgcm9vdCA9IHJvb3QuY2hpbGQ7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHJvb3QgPT09IGZpbmlzaGVkV29yaykgYnJlYWsgYTtcbiAgICAgICAgICAgICAgZm9yICg7IG51bGwgPT09IHJvb3Quc2libGluZzsgKSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHJvb3QucmV0dXJuIHx8IHJvb3QucmV0dXJuID09PSBmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPT09IHJvb3QgJiYgKGN1cnJlbnQgPSBudWxsKTtcbiAgICAgICAgICAgICAgICByb290ID0gcm9vdC5yZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3VycmVudCA9PT0gcm9vdCAmJiAoY3VycmVudCA9IG51bGwpO1xuICAgICAgICAgICAgICByb290LnNpYmxpbmcucmV0dXJuID0gcm9vdC5yZXR1cm47XG4gICAgICAgICAgICAgIHJvb3QgPSByb290LnNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoY3VycmVudCA9IGZsYWdzLnJldHJ5UXVldWUpLFxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgKChmbGFncy5yZXRyeVF1ZXVlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmssIGN1cnJlbnQpKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmssIGZsYWdzKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBpZiAoZmxhZ3MgJiAyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmluaXNoZWRXb3JrLCBjb21taXRQbGFjZW1lbnQsIGZpbmlzaGVkV29yayk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoZWRXb3JrLmZsYWdzICY9IC0zO1xuICAgICAgfVxuICAgICAgZmxhZ3MgJiA0MDk2ICYmIChmaW5pc2hlZFdvcmsuZmxhZ3MgJj0gLTQwOTcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVJlc2V0Rm9ybXMocGFyZW50RmliZXIpIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI0KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApIHtcbiAgICAgICAgICB2YXIgZmliZXIgPSBwYXJlbnRGaWJlcjtcbiAgICAgICAgICByZWN1cnNpdmVseVJlc2V0Rm9ybXMoZmliZXIpO1xuICAgICAgICAgIDUgPT09IGZpYmVyLnRhZyAmJiBmaWJlci5mbGFncyAmIDEwMjQgJiYgZmliZXIuc3RhdGVOb2RlLnJlc2V0KCk7XG4gICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdExheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCByb290LCBjb21taXR0ZWRMYW5lcykge1xuICAgICAgaW5Qcm9ncmVzc0xhbmVzID0gY29tbWl0dGVkTGFuZXM7XG4gICAgICBpblByb2dyZXNzUm9vdCA9IHJvb3Q7XG4gICAgICBjb21taXRMYXlvdXRFZmZlY3RPbkZpYmVyKHJvb3QsIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsIGZpbmlzaGVkV29yayk7XG4gICAgICBpblByb2dyZXNzUm9vdCA9IGluUHJvZ3Jlc3NMYW5lcyA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKHJvb3QsIHBhcmVudEZpYmVyKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgODc3MilcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGNvbW1pdExheW91dEVmZmVjdE9uRmliZXIocm9vdCwgcGFyZW50RmliZXIuYWx0ZXJuYXRlLCBwYXJlbnRGaWJlciksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgIExheW91dFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHNhZmVseURldGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVubW91bnQgJiZcbiAgICAgICAgICAgIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhwYXJlbnRGaWJlcikge1xuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICBkaXNhcHBlYXJMYXlvdXRFZmZlY3RzKHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgY3VycmVudCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgTGF5b3V0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjdXJyZW50LmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFVixcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0SGlkZGVuQ2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiA2NCAmJlxuICAgICAgICAgICAgY29tbWl0Q2xhc3NDYWxsYmFja3MoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdEhvc3RNb3VudChmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmIChpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmIGZsYWdzICYgNCkge1xuICAgICAgICAgICAgZmxhZ3MgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cy5lZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMoZmxhZ3MpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdFByb2ZpbGVyLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzLmVmZmVjdER1cmF0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBudWxsID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgcGFyZW50RmliZXIsXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzID1cbiAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJiAwICE9PSAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgODc3Mik7XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIHJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgcGFyZW50RmliZXIuYWx0ZXJuYXRlLFxuICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciBwcmV2aW91c0NhY2hlID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgKHByZXZpb3VzQ2FjaGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpO1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgKGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCk7XG4gICAgICBjdXJyZW50ICE9PSBwcmV2aW91c0NhY2hlICYmXG4gICAgICAgIChudWxsICE9IGN1cnJlbnQgJiYgcmV0YWluQ2FjaGUoY3VycmVudCksXG4gICAgICAgIG51bGwgIT0gcHJldmlvdXNDYWNoZSAmJiByZWxlYXNlQ2FjaGUocHJldmlvdXNDYWNoZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSAmJlxuICAgICAgICAoY3VycmVudCA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZSk7XG4gICAgICBmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZTtcbiAgICAgIGZpbmlzaGVkV29yayAhPT0gY3VycmVudCAmJlxuICAgICAgICAocmV0YWluQ2FjaGUoZmluaXNoZWRXb3JrKSwgbnVsbCAhPSBjdXJyZW50ICYmIHJlbGVhc2VDYWNoZShjdXJyZW50KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgcm9vdCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICkge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0UGFzc2l2ZU1vdW50T25GaWJlcihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBhc3NpdmVNb3VudE9uRmliZXIoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZU1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmssIFBhc3NpdmUgfCBIYXNFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdmFyIHByZXZFZmZlY3REdXJhdGlvbiA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgKChjb21taXR0ZWRMYW5lcyA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAoY29tbWl0dGVkTGFuZXMgPSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGUpLFxuICAgICAgICAgICAgKGZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlKSxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayAhPT0gY29tbWl0dGVkTGFuZXMgJiZcbiAgICAgICAgICAgICAgKHJldGFpbkNhY2hlKGZpbmlzaGVkV29yayksXG4gICAgICAgICAgICAgIG51bGwgIT0gY29tbWl0dGVkTGFuZXMgJiYgcmVsZWFzZUNhY2hlKGNvbW1pdHRlZExhbmVzKSkpO1xuICAgICAgICAgIGZpbmlzaGVkUm9vdC5wYXNzaXZlRWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgIHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmIChmbGFncyAmIDIwNDgpIHtcbiAgICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbiA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5wYXNzaXZlRWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgICAgYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0UHJvZmlsZXJQb3N0Q29tbWl0SW1wbCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LnBhc3NpdmVFZmZlY3REdXJhdGlvblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkXG4gICAgICAgICAgICAgID8gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogcHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWRcbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogKChwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgfD1cbiAgICAgICAgICAgICAgICAgIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgMCAhPT0gKGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3MgJiAxMDI1NilcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdE9mZnNjcmVlblBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoZmluaXNoZWRXb3JrLmFsdGVybmF0ZSwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzID1cbiAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAwICE9PSAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpO1xuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICByZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgcGFyZW50RmliZXIsXG4gICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICApLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZU1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmssIFBhc3NpdmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHZhciBfaW5zdGFuY2UyID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyBfaW5zdGFuY2UyLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWRcbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6ICgoX2luc3RhbmNlMi5fdmlzaWJpbGl0eSB8PSBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCksXG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoZmluaXNoZWRXb3JrLmFsdGVybmF0ZSwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCRqc2NvbXAkMCxcbiAgICAgIHBhcmVudEZpYmVyXG4gICAgKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7ICkge1xuICAgICAgICAgIHZhciBmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsgPSBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICAgICAgY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgICAgIGNvbW1pdENhY2hlUGFzc2l2ZU1vdW50RWZmZWN0KFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChwYXJlbnRGaWJlcikge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIHN1c3BlbnNleUNvbW1pdEZsYWcpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBhY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0T25GaWJlcihwYXJlbnRGaWJlciksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdE9uRmliZXIoZmliZXIpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgICAgICBmaWJlci5mbGFncyAmIHN1c3BlbnNleUNvbW1pdEZsYWcgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGZpYmVyLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIHN1c3BlbmRSZXNvdXJjZShcbiAgICAgICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgIGZpYmVyLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgICAgIGZpYmVyLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICB2YXIgcHJldmlvdXNIb2lzdGFibGVSb290ID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBnZXRIb2lzdGFibGVSb290KFxuICAgICAgICAgICAgZmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcik7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBwcmV2aW91c0hvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbnVsbCA9PT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgKChwcmV2aW91c0hvaXN0YWJsZVJvb3QgPSBmaWJlci5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldmlvdXNIb2lzdGFibGVSb290ICYmXG4gICAgICAgICAgICBudWxsICE9PSBwcmV2aW91c0hvaXN0YWJsZVJvb3QubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgICA/ICgocHJldmlvdXNIb2lzdGFibGVSb290ID0gc3VzcGVuc2V5Q29tbWl0RmxhZyksXG4gICAgICAgICAgICAgICAgKHN1c3BlbnNleUNvbW1pdEZsYWcgPSAxNjc3NzIxNiksXG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKSxcbiAgICAgICAgICAgICAgICAoc3VzcGVuc2V5Q29tbWl0RmxhZyA9IHByZXZpb3VzSG9pc3RhYmxlUm9vdCkpXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWNoQWx0ZXJuYXRlU2libGluZ3MocGFyZW50RmliZXIpIHtcbiAgICAgIHZhciBwcmV2aW91c0ZpYmVyID0gcGFyZW50RmliZXIuYWx0ZXJuYXRlO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBwcmV2aW91c0ZpYmVyICYmXG4gICAgICAgICgocGFyZW50RmliZXIgPSBwcmV2aW91c0ZpYmVyLmNoaWxkKSwgbnVsbCAhPT0gcGFyZW50RmliZXIpXG4gICAgICApIHtcbiAgICAgICAgcHJldmlvdXNGaWJlci5jaGlsZCA9IG51bGw7XG4gICAgICAgIGRvXG4gICAgICAgICAgKHByZXZpb3VzRmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlci5zaWJsaW5nID0gbnVsbCksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwcmV2aW91c0ZpYmVyKTtcbiAgICAgICAgd2hpbGUgKG51bGwgIT09IHBhcmVudEZpYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIGRlbGV0aW9ucyA9IHBhcmVudEZpYmVyLmRlbGV0aW9ucztcbiAgICAgIGlmICgwICE9PSAocGFyZW50RmliZXIuZmxhZ3MgJiAxNikpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGRlbGV0aW9ucylcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkVG9EZWxldGUgPSBkZWxldGlvbnNbaV07XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50RWZmZWN0c0luc2lkZU9mRGVsZXRlZFRyZWVfYmVnaW4oXG4gICAgICAgICAgICAgIGNoaWxkVG9EZWxldGUsXG4gICAgICAgICAgICAgIHBhcmVudEZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZGV0YWNoQWx0ZXJuYXRlU2libGluZ3MocGFyZW50RmliZXIpO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRPbkZpYmVyKHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQYXNzaXZlVW5tb3VudE9uRmliZXIoZmluaXNoZWRXb3JrKSB7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICAgIFBhc3NpdmUgfCBIYXNFZmZlY3RcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB2YXIgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkICYmXG4gICAgICAgICAgKG51bGwgPT09IGZpbmlzaGVkV29yay5yZXR1cm4gfHwgMTMgIT09IGZpbmlzaGVkV29yay5yZXR1cm4udGFnKVxuICAgICAgICAgICAgPyAoKHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmPVxuICAgICAgICAgICAgICAgIH5PZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCksXG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKSlcbiAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIGRlbGV0aW9ucyA9IHBhcmVudEZpYmVyLmRlbGV0aW9ucztcbiAgICAgIGlmICgwICE9PSAocGFyZW50RmliZXIuZmxhZ3MgJiAxNikpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IGRlbGV0aW9ucylcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkVG9EZWxldGUgPSBkZWxldGlvbnNbaV07XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gY2hpbGRUb0RlbGV0ZTtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50RWZmZWN0c0luc2lkZU9mRGVsZXRlZFRyZWVfYmVnaW4oXG4gICAgICAgICAgICAgIGNoaWxkVG9EZWxldGUsXG4gICAgICAgICAgICAgIHBhcmVudEZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZGV0YWNoQWx0ZXJuYXRlU2libGluZ3MocGFyZW50RmliZXIpO1xuICAgICAgfVxuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICBkaXNjb25uZWN0UGFzc2l2ZUVmZmVjdChwYXJlbnRGaWJlciksXG4gICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0KGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgIFBhc3NpdmVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIGluc3RhbmNlLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQgJiZcbiAgICAgICAgICAgICgoaW5zdGFuY2UuX3Zpc2liaWxpdHkgJj0gfk9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQYXNzaXZlVW5tb3VudEVmZmVjdHNJbnNpZGVPZkRlbGV0ZWRUcmVlX2JlZ2luKFxuICAgICAgZGVsZXRlZFN1YnRyZWVSb290LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICkge1xuICAgICAgZm9yICg7IG51bGwgIT09IG5leHRFZmZlY3Q7ICkge1xuICAgICAgICB2YXIgZmliZXIgPSBuZXh0RWZmZWN0LFxuICAgICAgICAgIGN1cnJlbnQgPSBmaWJlcjtcbiAgICAgICAgc3dpdGNoIChjdXJyZW50LnRhZykge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICBQYXNzaXZlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBjdXJyZW50ICYmIHJldGFpbkNhY2hlKGN1cnJlbnQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICByZWxlYXNlQ2FjaGUoY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gZmliZXIuY2hpbGQ7XG4gICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSAoY3VycmVudC5yZXR1cm4gPSBmaWJlciksIChuZXh0RWZmZWN0ID0gY3VycmVudCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBhOiBmb3IgKGZpYmVyID0gZGVsZXRlZFN1YnRyZWVSb290OyBudWxsICE9PSBuZXh0RWZmZWN0OyApIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0RWZmZWN0O1xuICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBjdXJyZW50LnNpYmxpbmcsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gY3VycmVudC5yZXR1cm47XG4gICAgICAgICAgICBkZXRhY2hGaWJlckFmdGVyRWZmZWN0cyhjdXJyZW50KTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBmaWJlcikge1xuICAgICAgICAgICAgICBuZXh0RWZmZWN0ID0gbnVsbDtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChudWxsICE9PSBzaWJsaW5nKSB7XG4gICAgICAgICAgICAgIHNpYmxpbmcucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgIG5leHRFZmZlY3QgPSBzaWJsaW5nO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEVmZmVjdCA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgICB0aGlzLnNpYmxpbmcgPVxuICAgICAgICB0aGlzLmNoaWxkID1cbiAgICAgICAgdGhpcy5yZXR1cm4gPVxuICAgICAgICB0aGlzLnN0YXRlTm9kZSA9XG4gICAgICAgIHRoaXMudHlwZSA9XG4gICAgICAgIHRoaXMuZWxlbWVudFR5cGUgPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgIHRoaXMucmVmQ2xlYW51cCA9IHRoaXMucmVmID0gbnVsbDtcbiAgICAgIHRoaXMucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzO1xuICAgICAgdGhpcy5kZXBlbmRlbmNpZXMgPVxuICAgICAgICB0aGlzLm1lbW9pemVkU3RhdGUgPVxuICAgICAgICB0aGlzLnVwZGF0ZVF1ZXVlID1cbiAgICAgICAgdGhpcy5tZW1vaXplZFByb3BzID1cbiAgICAgICAgICBudWxsO1xuICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgIHRoaXMuc3VidHJlZUZsYWdzID0gdGhpcy5mbGFncyA9IDA7XG4gICAgICB0aGlzLmRlbGV0aW9ucyA9IG51bGw7XG4gICAgICB0aGlzLmNoaWxkTGFuZXMgPSB0aGlzLmxhbmVzID0gMDtcbiAgICAgIHRoaXMuYWx0ZXJuYXRlID0gbnVsbDtcbiAgICAgIHRoaXMuYWN0dWFsRHVyYXRpb24gPSAtMDtcbiAgICAgIHRoaXMuYWN0dWFsU3RhcnRUaW1lID0gLTEuMTtcbiAgICAgIHRoaXMudHJlZUJhc2VEdXJhdGlvbiA9IHRoaXMuc2VsZkJhc2VEdXJhdGlvbiA9IC0wO1xuICAgICAgdGhpcy5fZGVidWdPd25lciA9IHRoaXMuX2RlYnVnSW5mbyA9IG51bGw7XG4gICAgICB0aGlzLl9kZWJ1Z05lZWRzUmVtb3VudCA9ICExO1xuICAgICAgdGhpcy5fZGVidWdIb29rVHlwZXMgPSBudWxsO1xuICAgICAgaGFzQmFkTWFwUG9seWZpbGwgfHxcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zIHx8XG4gICAgICAgIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh0aGlzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgICAgIHJldHVybiAhKCFDb21wb25lbnQgfHwgIUNvbXBvbmVudC5pc1JlYWN0Q29tcG9uZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgcGVuZGluZ1Byb3BzKSB7XG4gICAgICB2YXIgd29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50LmFsdGVybmF0ZTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcyA9IGNyZWF0ZUZpYmVyKFxuICAgICAgICAgICAgY3VycmVudC50YWcsXG4gICAgICAgICAgICBwZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICBjdXJyZW50LmtleSxcbiAgICAgICAgICAgIGN1cnJlbnQubW9kZVxuICAgICAgICAgICkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSA9IGN1cnJlbnQuZWxlbWVudFR5cGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudC5zdGF0ZU5vZGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5fZGVidWdPd25lciA9IGN1cnJlbnQuX2RlYnVnT3duZXIpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5fZGVidWdIb29rVHlwZXMgPSBjdXJyZW50Ll9kZWJ1Z0hvb2tUeXBlcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSA9IGN1cnJlbnQpLFxuICAgICAgICAgIChjdXJyZW50LmFsdGVybmF0ZSA9IHdvcmtJblByb2dyZXNzKSlcbiAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmFjdHVhbER1cmF0aW9uID0gLTApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5hY3R1YWxTdGFydFRpbWUgPSAtMS4xKSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IGN1cnJlbnQuZmxhZ3MgJiAzMTQ1NzI4MDtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSBjdXJyZW50LmNoaWxkTGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGN1cnJlbnQubGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcbiAgICAgIHBlbmRpbmdQcm9wcyA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID1cbiAgICAgICAgbnVsbCA9PT0gcGVuZGluZ1Byb3BzXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGxhbmVzOiBwZW5kaW5nUHJvcHMubGFuZXMsXG4gICAgICAgICAgICAgIGZpcnN0Q29udGV4dDogcGVuZGluZ1Byb3BzLmZpcnN0Q29udGV4dCxcbiAgICAgICAgICAgICAgX2RlYnVnVGhlbmFibGVTdGF0ZTogcGVuZGluZ1Byb3BzLl9kZWJ1Z1RoZW5hYmxlU3RhdGVcbiAgICAgICAgICAgIH07XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nID0gY3VycmVudC5zaWJsaW5nO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuaW5kZXggPSBjdXJyZW50LmluZGV4O1xuICAgICAgd29ya0luUHJvZ3Jlc3MucmVmID0gY3VycmVudC5yZWY7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5yZWZDbGVhbnVwID0gY3VycmVudC5yZWZDbGVhbnVwO1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IGN1cnJlbnQuc2VsZkJhc2VEdXJhdGlvbjtcbiAgICAgIHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb247XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJbmZvID0gY3VycmVudC5fZGVidWdJbmZvO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnTmVlZHNSZW1vdW50ID0gY3VycmVudC5fZGVidWdOZWVkc1JlbW91bnQ7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZkZvckhvdFJlbG9hZGluZyhjdXJyZW50LnR5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldFdvcmtJblByb2dyZXNzKHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gMzE0NTcyODI7XG4gICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zZWxmQmFzZUR1cmF0aW9uID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSAwKSlcbiAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSBjdXJyZW50LmNoaWxkTGFuZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGN1cnJlbnQubGFuZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZSksXG4gICAgICAgICAgKHJlbmRlckxhbmVzID0gY3VycmVudC5kZXBlbmRlbmNpZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPVxuICAgICAgICAgICAgbnVsbCA9PT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgbGFuZXM6IHJlbmRlckxhbmVzLmxhbmVzLFxuICAgICAgICAgICAgICAgICAgZmlyc3RDb250ZXh0OiByZW5kZXJMYW5lcy5maXJzdENvbnRleHQsXG4gICAgICAgICAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiByZW5kZXJMYW5lcy5fZGVidWdUaGVuYWJsZVN0YXRlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnNlbGZCYXNlRHVyYXRpb24gPSBjdXJyZW50LnNlbGZCYXNlRHVyYXRpb24pLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uID0gY3VycmVudC50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgIHR5cGUsXG4gICAgICBrZXksXG4gICAgICBwZW5kaW5nUHJvcHMsXG4gICAgICBvd25lcixcbiAgICAgIG1vZGUsXG4gICAgICBsYW5lc1xuICAgICkge1xuICAgICAgdmFyIGZpYmVyVGFnID0gMCxcbiAgICAgICAgcmVzb2x2ZWRUeXBlID0gdHlwZTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzaG91bGRDb25zdHJ1Y3QodHlwZSkgJiYgKGZpYmVyVGFnID0gMSksXG4gICAgICAgICAgKHJlc29sdmVkVHlwZSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhyZXNvbHZlZFR5cGUpKTtcbiAgICAgIGVsc2UgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICAoZmliZXJUYWcgPSBnZXRIb3N0Q29udGV4dCgpKSxcbiAgICAgICAgICAoZmliZXJUYWcgPSBpc0hvc3RIb2lzdGFibGVUeXBlKHR5cGUsIHBlbmRpbmdQcm9wcywgZmliZXJUYWcpXG4gICAgICAgICAgICA/IDI2XG4gICAgICAgICAgICA6IFwiaHRtbFwiID09PSB0eXBlIHx8IFwiaGVhZFwiID09PSB0eXBlIHx8IFwiYm9keVwiID09PSB0eXBlXG4gICAgICAgICAgICAgID8gMjdcbiAgICAgICAgICAgICAgOiA1KTtcbiAgICAgIGVsc2VcbiAgICAgICAgYTogc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICBwZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgICAgZmliZXJUYWcgPSA4O1xuICAgICAgICAgICAgbW9kZSB8PSBTdHJpY3RMZWdhY3lNb2RlO1xuICAgICAgICAgICAgbW9kZSB8PSBTdHJpY3RFZmZlY3RzTW9kZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICh0eXBlID0gcGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgICAgKG93bmVyID0gbW9kZSksXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiB0eXBlLmlkICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdQcm9maWxlciBtdXN0IHNwZWNpZnkgYW4gXCJpZFwiIG9mIHR5cGUgYHN0cmluZ2AgYXMgYSBwcm9wLiBSZWNlaXZlZCB0aGUgdHlwZSBgJXNgIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiB0eXBlLmlkXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKGtleSA9IGNyZWF0ZUZpYmVyKDEyLCB0eXBlLCBrZXksIG93bmVyIHwgUHJvZmlsZU1vZGUpKSxcbiAgICAgICAgICAgICAgKGtleS5lbGVtZW50VHlwZSA9IFJFQUNUX1BST0ZJTEVSX1RZUEUpLFxuICAgICAgICAgICAgICAoa2V5LmxhbmVzID0gbGFuZXMpLFxuICAgICAgICAgICAgICAoa2V5LnN0YXRlTm9kZSA9IHsgZWZmZWN0RHVyYXRpb246IDAsIHBhc3NpdmVFZmZlY3REdXJhdGlvbjogMCB9KSxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChrZXkgPSBjcmVhdGVGaWJlcigxMywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpKSxcbiAgICAgICAgICAgICAgKGtleS5lbGVtZW50VHlwZSA9IFJFQUNUX1NVU1BFTlNFX1RZUEUpLFxuICAgICAgICAgICAgICAoa2V5LmxhbmVzID0gbGFuZXMpLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoa2V5ID0gY3JlYXRlRmliZXIoMTksIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSksXG4gICAgICAgICAgICAgIChrZXkuZWxlbWVudFR5cGUgPSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUpLFxuICAgICAgICAgICAgICAoa2V5LmxhbmVzID0gbGFuZXMpLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9PRkZTQ1JFRU5fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21PZmZzY3JlZW4ocGVuZGluZ1Byb3BzLCBtb2RlLCBsYW5lcywga2V5KTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmIG51bGwgIT09IHR5cGUpXG4gICAgICAgICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gMTA7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gOTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxMTtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKHJlc29sdmVkVHlwZSk7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDE2O1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IFwiXCI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZSB8fFxuICAgICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgICAgMCA9PT0gT2JqZWN0LmtleXModHlwZSkubGVuZ3RoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXNvbHZlZFR5cGUgKz1cbiAgICAgICAgICAgICAgICBcIiBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSBpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG4gICAgICAgICAgICBudWxsID09PSB0eXBlXG4gICAgICAgICAgICAgID8gKHBlbmRpbmdQcm9wcyA9IFwibnVsbFwiKVxuICAgICAgICAgICAgICA6IGlzQXJyYXlJbXBsKHR5cGUpXG4gICAgICAgICAgICAgICAgPyAocGVuZGluZ1Byb3BzID0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIDogdm9pZCAwICE9PSB0eXBlICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgICAgICAgICAgICAgPyAoKHBlbmRpbmdQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgICAgICAgICAgIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIlVua25vd25cIikgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiIC8+XCIpLFxuICAgICAgICAgICAgICAgICAgICAocmVzb2x2ZWRUeXBlID1cbiAgICAgICAgICAgICAgICAgICAgICBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSlcbiAgICAgICAgICAgICAgICAgIDogKHBlbmRpbmdQcm9wcyA9IHR5cGVvZiB0eXBlKTtcbiAgICAgICAgICAgIChmaWJlclRhZyA9IG93bmVyID8gZ2V0Q29tcG9uZW50TmFtZUZyb21Pd25lcihvd25lcikgOiBudWxsKSAmJlxuICAgICAgICAgICAgICAocmVzb2x2ZWRUeXBlICs9XG4gICAgICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBmaWJlclRhZyArIFwiYC5cIik7XG4gICAgICAgICAgICBmaWJlclRhZyA9IDI5O1xuICAgICAgICAgICAgcGVuZGluZ1Byb3BzID0gRXJyb3IoXG4gICAgICAgICAgICAgIFwiRWxlbWVudCB0eXBlIGlzIGludmFsaWQ6IGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiBcIiArXG4gICAgICAgICAgICAgICAgKHBlbmRpbmdQcm9wcyArIFwiLlwiICsgcmVzb2x2ZWRUeXBlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIGtleSA9IGNyZWF0ZUZpYmVyKGZpYmVyVGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG4gICAgICBrZXkuZWxlbWVudFR5cGUgPSB0eXBlO1xuICAgICAga2V5LnR5cGUgPSByZXNvbHZlZFR5cGU7XG4gICAgICBrZXkubGFuZXMgPSBsYW5lcztcbiAgICAgIGtleS5fZGVidWdPd25lciA9IG93bmVyO1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCBtb2RlLCBsYW5lcykge1xuICAgICAgbW9kZSA9IGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgICAgZWxlbWVudC50eXBlLFxuICAgICAgICBlbGVtZW50LmtleSxcbiAgICAgICAgZWxlbWVudC5wcm9wcyxcbiAgICAgICAgZWxlbWVudC5fb3duZXIsXG4gICAgICAgIG1vZGUsXG4gICAgICAgIGxhbmVzXG4gICAgICApO1xuICAgICAgbW9kZS5fZGVidWdPd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgcmV0dXJuIG1vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KGVsZW1lbnRzLCBtb2RlLCBsYW5lcywga2V5KSB7XG4gICAgICBlbGVtZW50cyA9IGNyZWF0ZUZpYmVyKDcsIGVsZW1lbnRzLCBrZXksIG1vZGUpO1xuICAgICAgZWxlbWVudHMubGFuZXMgPSBsYW5lcztcbiAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tT2Zmc2NyZWVuKHBlbmRpbmdQcm9wcywgbW9kZSwgbGFuZXMsIGtleSkge1xuICAgICAgcGVuZGluZ1Byb3BzID0gY3JlYXRlRmliZXIoMjIsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgICAgIHBlbmRpbmdQcm9wcy5lbGVtZW50VHlwZSA9IFJFQUNUX09GRlNDUkVFTl9UWVBFO1xuICAgICAgcGVuZGluZ1Byb3BzLmxhbmVzID0gbGFuZXM7XG4gICAgICB2YXIgcHJpbWFyeUNoaWxkSW5zdGFuY2UgPSB7XG4gICAgICAgIF92aXNpYmlsaXR5OiBPZmZzY3JlZW5WaXNpYmxlLFxuICAgICAgICBfcGVuZGluZ1Zpc2liaWxpdHk6IE9mZnNjcmVlblZpc2libGUsXG4gICAgICAgIF9wZW5kaW5nTWFya2VyczogbnVsbCxcbiAgICAgICAgX3JldHJ5Q2FjaGU6IG51bGwsXG4gICAgICAgIF90cmFuc2l0aW9uczogbnVsbCxcbiAgICAgICAgX2N1cnJlbnQ6IG51bGwsXG4gICAgICAgIGRldGFjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHByaW1hcnlDaGlsZEluc3RhbmNlLFxuICAgICAgICAgICAgZmliZXIgPSBpbnN0YW5jZS5fY3VycmVudDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJDYWxsaW5nIE9mZnNjcmVlbi5kZXRhY2ggYmVmb3JlIGluc3RhbmNlIGhhbmRsZSBoYXMgYmVlbiBzZXQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKDAgPT09IChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZCkpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgKChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgfD0gT2Zmc2NyZWVuRGV0YWNoZWQpLFxuICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGF0dGFjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHByaW1hcnlDaGlsZEluc3RhbmNlLFxuICAgICAgICAgICAgZmliZXIgPSBpbnN0YW5jZS5fY3VycmVudDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gZmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJDYWxsaW5nIE9mZnNjcmVlbi5kZXRhY2ggYmVmb3JlIGluc3RhbmNlIGhhbmRsZSBoYXMgYmVlbiBzZXQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKDAgIT09IChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZCkpIHtcbiAgICAgICAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgKChpbnN0YW5jZS5fcGVuZGluZ1Zpc2liaWxpdHkgJj0gfk9mZnNjcmVlbkRldGFjaGVkKSxcbiAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGVuZGluZ1Byb3BzLnN0YXRlTm9kZSA9IHByaW1hcnlDaGlsZEluc3RhbmNlO1xuICAgICAgcmV0dXJuIHBlbmRpbmdQcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tVGV4dChjb250ZW50LCBtb2RlLCBsYW5lcykge1xuICAgICAgY29udGVudCA9IGNyZWF0ZUZpYmVyKDYsIGNvbnRlbnQsIG51bGwsIG1vZGUpO1xuICAgICAgY29udGVudC5sYW5lcyA9IGxhbmVzO1xuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIG1vZGUsIGxhbmVzKSB7XG4gICAgICBtb2RlID0gY3JlYXRlRmliZXIoXG4gICAgICAgIDQsXG4gICAgICAgIG51bGwgIT09IHBvcnRhbC5jaGlsZHJlbiA/IHBvcnRhbC5jaGlsZHJlbiA6IFtdLFxuICAgICAgICBwb3J0YWwua2V5LFxuICAgICAgICBtb2RlXG4gICAgICApO1xuICAgICAgbW9kZS5sYW5lcyA9IGxhbmVzO1xuICAgICAgbW9kZS5zdGF0ZU5vZGUgPSB7XG4gICAgICAgIGNvbnRhaW5lckluZm86IHBvcnRhbC5jb250YWluZXJJbmZvLFxuICAgICAgICBwZW5kaW5nQ2hpbGRyZW46IG51bGwsXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiBwb3J0YWwuaW1wbGVtZW50YXRpb25cbiAgICAgIH07XG4gICAgICByZXR1cm4gbW9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZFJlc291cmNlQW5kU3VzcGVuZElmTmVlZGVkKHdvcmtJblByb2dyZXNzLCByZXNvdXJjZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcInN0eWxlc2hlZXRcIiAhPT0gcmVzb3VyY2UudHlwZSB8fFxuICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSAhPT0gTm90TG9hZGVkXG4gICAgICApXG4gICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNztcbiAgICAgIGVsc2UgaWYgKFxuICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE2Nzc3MjE2KSwgIXByZWxvYWRSZXNvdXJjZShyZXNvdXJjZSkpXG4gICAgICApIHtcbiAgICAgICAgcmVzb3VyY2UgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCAhPT0gcmVzb3VyY2UgJiZcbiAgICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNDE5NDE3NikgPT09XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICAgID8gbnVsbCAhPT0gc2hlbGxCb3VuZGFyeVxuICAgICAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNjI5MTQ1NjApICE9PVxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSkgfHxcbiAgICAgICAgICAgICAgcmVzb3VyY2UgIT09IHNoZWxsQm91bmRhcnkpXG4gICAgICAgIClcbiAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAoKHN1c3BlbmRlZFRoZW5hYmxlID0gbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlKSxcbiAgICAgICAgICAgIFN1c3BlbnNleUNvbW1pdEV4Y2VwdGlvbilcbiAgICAgICAgICApO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCByZXRyeVF1ZXVlKSB7XG4gICAgICBudWxsICE9PSByZXRyeVF1ZXVlICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTYzODQgJiZcbiAgICAgICAgKChyZXRyeVF1ZXVlID1cbiAgICAgICAgICAyMiAhPT0gd29ya0luUHJvZ3Jlc3MudGFnID8gY2xhaW1OZXh0UmV0cnlMYW5lKCkgOiA1MzY4NzA5MTIpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgfD0gcmV0cnlRdWV1ZSksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgfD0gcmV0cnlRdWV1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjdXRPZmZUYWlsSWZOZWVkZWQocmVuZGVyU3RhdGUsIGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjaykge1xuICAgICAgaWYgKCFpc0h5ZHJhdGluZylcbiAgICAgICAgc3dpdGNoIChyZW5kZXJTdGF0ZS50YWlsTW9kZSkge1xuICAgICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgICAgIGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayA9IHJlbmRlclN0YXRlLnRhaWw7XG4gICAgICAgICAgICBmb3IgKHZhciBsYXN0VGFpbE5vZGUgPSBudWxsOyBudWxsICE9PSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2s7IClcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgIChsYXN0VGFpbE5vZGUgPSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2spLFxuICAgICAgICAgICAgICAgIChoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2sgPSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2suc2libGluZyk7XG4gICAgICAgICAgICBudWxsID09PSBsYXN0VGFpbE5vZGVcbiAgICAgICAgICAgICAgPyAocmVuZGVyU3RhdGUudGFpbCA9IG51bGwpXG4gICAgICAgICAgICAgIDogKGxhc3RUYWlsTm9kZS5zaWJsaW5nID0gbnVsbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY29sbGFwc2VkXCI6XG4gICAgICAgICAgICBsYXN0VGFpbE5vZGUgPSByZW5kZXJTdGF0ZS50YWlsO1xuICAgICAgICAgICAgZm9yICh2YXIgX2xhc3RUYWlsTm9kZSA9IG51bGw7IG51bGwgIT09IGxhc3RUYWlsTm9kZTsgKVxuICAgICAgICAgICAgICBudWxsICE9PSBsYXN0VGFpbE5vZGUuYWx0ZXJuYXRlICYmIChfbGFzdFRhaWxOb2RlID0gbGFzdFRhaWxOb2RlKSxcbiAgICAgICAgICAgICAgICAobGFzdFRhaWxOb2RlID0gbGFzdFRhaWxOb2RlLnNpYmxpbmcpO1xuICAgICAgICAgICAgbnVsbCA9PT0gX2xhc3RUYWlsTm9kZVxuICAgICAgICAgICAgICA/IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayB8fCBudWxsID09PSByZW5kZXJTdGF0ZS50YWlsXG4gICAgICAgICAgICAgICAgPyAocmVuZGVyU3RhdGUudGFpbCA9IG51bGwpXG4gICAgICAgICAgICAgICAgOiAocmVuZGVyU3RhdGUudGFpbC5zaWJsaW5nID0gbnVsbClcbiAgICAgICAgICAgICAgOiAoX2xhc3RUYWlsTm9kZS5zaWJsaW5nID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYnViYmxlUHJvcGVydGllcyhjb21wbGV0ZWRXb3JrKSB7XG4gICAgICB2YXIgZGlkQmFpbG91dCA9XG4gICAgICAgICAgbnVsbCAhPT0gY29tcGxldGVkV29yay5hbHRlcm5hdGUgJiZcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZS5jaGlsZCA9PT0gY29tcGxldGVkV29yay5jaGlsZCxcbiAgICAgICAgbmV3Q2hpbGRMYW5lcyA9IDAsXG4gICAgICAgIHN1YnRyZWVGbGFncyA9IDA7XG4gICAgICBpZiAoZGlkQmFpbG91dClcbiAgICAgICAgaWYgKChjb21wbGV0ZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSkge1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICB2YXIgX3RyZWVCYXNlRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLnNlbGZCYXNlRHVyYXRpb24sXG4gICAgICAgICAgICAgIF9jaGlsZDIgPSBjb21wbGV0ZWRXb3JrLmNoaWxkO1xuICAgICAgICAgICAgbnVsbCAhPT0gX2NoaWxkMjtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9IF9jaGlsZDIubGFuZXMgfCBfY2hpbGQyLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF9jaGlsZDIuc3VidHJlZUZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF9jaGlsZDIuZmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiArPSBfY2hpbGQyLnRyZWVCYXNlRHVyYXRpb24pLFxuICAgICAgICAgICAgICAoX2NoaWxkMiA9IF9jaGlsZDIuc2libGluZyk7XG4gICAgICAgICAgY29tcGxldGVkV29yay50cmVlQmFzZUR1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb247XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7XG4gICAgICAgICAgICBudWxsICE9PSBfdHJlZUJhc2VEdXJhdGlvbjtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9XG4gICAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uLmxhbmVzIHwgX3RyZWVCYXNlRHVyYXRpb24uY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX3RyZWVCYXNlRHVyYXRpb24uc3VidHJlZUZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLmZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24ucmV0dXJuID0gY29tcGxldGVkV29yayksXG4gICAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uLnNpYmxpbmcpO1xuICAgICAgZWxzZSBpZiAoKGNvbXBsZXRlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5hY3R1YWxEdXJhdGlvbjtcbiAgICAgICAgX2NoaWxkMiA9IGNvbXBsZXRlZFdvcmsuc2VsZkJhc2VEdXJhdGlvbjtcbiAgICAgICAgZm9yICh2YXIgY2hpbGQgPSBjb21wbGV0ZWRXb3JrLmNoaWxkOyBudWxsICE9PSBjaGlsZDsgKVxuICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9IGNoaWxkLmxhbmVzIHwgY2hpbGQuY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IGNoaWxkLnN1YnRyZWVGbGFncyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IGNoaWxkLmZsYWdzKSxcbiAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiksXG4gICAgICAgICAgICAoX2NoaWxkMiArPSBjaGlsZC50cmVlQmFzZUR1cmF0aW9uKSxcbiAgICAgICAgICAgIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICBjb21wbGV0ZWRXb3JrLmFjdHVhbER1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb247XG4gICAgICAgIGNvbXBsZXRlZFdvcmsudHJlZUJhc2VEdXJhdGlvbiA9IF9jaGlsZDI7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7XG4gICAgICAgICAgbnVsbCAhPT0gX3RyZWVCYXNlRHVyYXRpb247XG5cbiAgICAgICAgKVxuICAgICAgICAgIChuZXdDaGlsZExhbmVzIHw9XG4gICAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbi5sYW5lcyB8IF90cmVlQmFzZUR1cmF0aW9uLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5zdWJ0cmVlRmxhZ3MpLFxuICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5mbGFncyksXG4gICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24ucmV0dXJuID0gY29tcGxldGVkV29yayksXG4gICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbi5zaWJsaW5nKTtcbiAgICAgIGNvbXBsZXRlZFdvcmsuc3VidHJlZUZsYWdzIHw9IHN1YnRyZWVGbGFncztcbiAgICAgIGNvbXBsZXRlZFdvcmsuY2hpbGRMYW5lcyA9IG5ld0NoaWxkTGFuZXM7XG4gICAgICByZXR1cm4gZGlkQmFpbG91dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGxldGVXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgcG9wVHJlZUNvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDc6XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gbnVsbDtcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIChyZW5kZXJMYW5lcyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZSk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZSAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4KTtcbiAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBuZXdQcm9wcy5wZW5kaW5nQ29udGV4dCAmJlxuICAgICAgICAgICAgKChuZXdQcm9wcy5jb250ZXh0ID0gbmV3UHJvcHMucGVuZGluZ0NvbnRleHQpLFxuICAgICAgICAgICAgKG5ld1Byb3BzLnBlbmRpbmdDb250ZXh0ID0gbnVsbCkpO1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IG51bGwgPT09IGN1cnJlbnQuY2hpbGQpXG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgPyAoZW1pdFBlbmRpbmdIeWRyYXRpb25XYXJuaW5ncygpLCBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSlcbiAgICAgICAgICAgICAgOiBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgICAgKGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDI1NikpIHx8XG4gICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBoeWRyYXRpb25FcnJvcnMgJiZcbiAgICAgICAgICAgICAgICAgIChxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGh5ZHJhdGlvbkVycm9ycyksXG4gICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uRXJyb3JzID0gbnVsbCkpKTtcbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICA/IChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlc291cmNlQW5kU3VzcGVuZElmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICA6IChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNykpKVxuICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgPyByZW5kZXJMYW5lcyAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgICAgICA/IChtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRSZXNvdXJjZUFuZFN1c3BlbmRJZk5lZWRlZChcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgOiAoYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTcpKVxuICAgICAgICAgICAgICAgIDogKGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTcpKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgICAgICB2YXIgX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbmV3UHJvcHMpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgID8gcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgY3VycmVudClcbiAgICAgICAgICAgICAgOiAoKGN1cnJlbnQgPSByZXNvbHZlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgICBfdHlwZSxcbiAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudCksXG4gICAgICAgICAgICAgICAgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IG5ld1Byb3BzICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3R5cGUgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKSlcbiAgICAgICAgICAgICAgcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgX3R5cGUpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyhyZW5kZXJMYW5lcywgX3R5cGUuYW5jZXN0b3JJbmZvKTtcbiAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5jb250ZXh0O1xuICAgICAgICAgICAgICBjdXJyZW50ID0gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKGN1cnJlbnQpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKF90eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZzpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhTVkdfTkFNRVNQQUNFLCByZW5kZXJMYW5lcyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aDpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgICAgICAgTUFUSF9OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVuZGVyTGFuZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgICAgICAgICAgIFNWR19OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtYXRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAgICAgICAgICAgTUFUSF9OQU1FU1BBQ0UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuaW5uZXJIVE1MID0gXCI8c2NyaXB0PlxceDNjL3NjcmlwdD5cIjtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5yZW1vdmVDaGlsZChjdXJyZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3UHJvcHMuaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiwgeyBpczogbmV3UHJvcHMuaXMgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMubXVsdGlwbGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKGN1cnJlbnQubXVsdGlwbGUgPSAhMClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3UHJvcHMuc2l6ZSAmJiAoY3VycmVudC5zaXplID0gbmV3UHJvcHMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld1Byb3BzLmlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gY3VycmVudC5jcmVhdGVFbGVtZW50KHJlbmRlckxhbmVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpczogbmV3UHJvcHMuaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY3JlYXRlRWxlbWVudChyZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgPT09IHJlbmRlckxhbmVzLmluZGV4T2YoXCItXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChyZW5kZXJMYW5lcyAhPT0gcmVuZGVyTGFuZXMudG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjwlcyAvPiBpcyB1c2luZyBpbmNvcnJlY3QgY2FzaW5nLiBVc2UgUGFzY2FsQ2FzZSBmb3IgUmVhY3QgY29tcG9uZW50cywgb3IgbG93ZXJjYXNlIGZvciBIVE1MIGVsZW1lbnRzLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcIltvYmplY3QgSFRNTFVua25vd25FbGVtZW50XVwiICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjdXJyZW50KSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXJuZWRVbmtub3duVGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgod2FybmVkVW5rbm93blRhZ3NbcmVuZGVyTGFuZXNdID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSB0YWcgPCVzPiBpcyB1bnJlY29nbml6ZWQgaW4gdGhpcyBicm93c2VyLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgUmVhY3QgY29tcG9uZW50LCBzdGFydCBpdHMgbmFtZSB3aXRoIGFuIHVwcGVyY2FzZSBsZXR0ZXIuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50W2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIGN1cnJlbnRbaW50ZXJuYWxQcm9wc0tleV0gPSBuZXdQcm9wcztcbiAgICAgICAgICAgICAgYTogZm9yIChfdHlwZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBfdHlwZTsgKSB7XG4gICAgICAgICAgICAgICAgaWYgKDUgPT09IF90eXBlLnRhZyB8fCA2ID09PSBfdHlwZS50YWcpXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LmFwcGVuZENoaWxkKF90eXBlLnN0YXRlTm9kZSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICA0ICE9PSBfdHlwZS50YWcgJiZcbiAgICAgICAgICAgICAgICAgIDI3ICE9PSBfdHlwZS50YWcgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlLmNoaWxkXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBfdHlwZS5jaGlsZC5yZXR1cm4gPSBfdHlwZTtcbiAgICAgICAgICAgICAgICAgIF90eXBlID0gX3R5cGUuY2hpbGQ7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90eXBlID09PSB3b3JrSW5Qcm9ncmVzcykgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gX3R5cGUuc2libGluZzsgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gX3R5cGUucmV0dXJuIHx8IF90eXBlLnJldHVybiA9PT0gd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLnJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3R5cGUuc2libGluZy5yZXR1cm4gPSBfdHlwZS5yZXR1cm47XG4gICAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5zaWJsaW5nO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgIGE6IHN3aXRjaCAoXG4gICAgICAgICAgICAgICAgKHNldEluaXRpYWxQcm9wZXJ0aWVzKGN1cnJlbnQsIHJlbmRlckxhbmVzLCBuZXdQcm9wcyksXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJidXR0b25cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gISFuZXdQcm9wcy5hdXRvRm9jdXM7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAhMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAhMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50ICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTc7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAoY3VycmVudCAmJiBudWxsICE9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50ID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmVuZGVyTGFuZXMgPSBnZXRIb3N0Q29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKSkge1xuICAgICAgICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgIF90eXBlID0gIWRpZFN1c3BlbmRPckVycm9yREVWO1xuICAgICAgICAgICAgICByZW5kZXJMYW5lcyA9IG51bGw7XG4gICAgICAgICAgICAgIHZhciByZXR1cm5GaWJlciA9IGh5ZHJhdGlvblBhcmVudEZpYmVyO1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gcmV0dXJuRmliZXIpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXR1cm5GaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKF90eXBlID0gZGlmZkh5ZHJhdGVkVGV4dEZvckRldldhcm5pbmdzKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUod29ya0luUHJvZ3Jlc3MsIDApLnNlcnZlclByb3BzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3R5cGUpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSByZXR1cm5GaWJlci5tZW1vaXplZFByb3BzKSxcbiAgICAgICAgICAgICAgICAgICAgICBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IGRpZmZIeWRyYXRlZFRleHRGb3JEZXZXYXJuaW5ncyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKS5zZXJ2ZXJQcm9wcyA9IF90eXBlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50W2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgIGN1cnJlbnQubm9kZVZhbHVlID09PSBuZXdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIChudWxsICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgITAgPT09IHJlbmRlckxhbmVzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZykgfHxcbiAgICAgICAgICAgICAgICBjaGVja0ZvclVubWF0Y2hlZFRleHQoY3VycmVudC5ub2RlVmFsdWUsIG5ld1Byb3BzKVxuICAgICAgICAgICAgICAgICAgPyAhMFxuICAgICAgICAgICAgICAgICAgOiAhMTtcbiAgICAgICAgICAgICAgY3VycmVudCB8fCB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJlbmRlckxhbmVzLmFuY2VzdG9ySW5mby5jdXJyZW50KSxcbiAgICAgICAgICAgICAgICBudWxsICE9IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgICB2YWxpZGF0ZVRleHROZXN0aW5nKG5ld1Byb3BzLCByZW5kZXJMYW5lcy50YWcpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihjdXJyZW50KS5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHNcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50W2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBfdHlwZSA9IHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBuZXdQcm9wcyAmJiBudWxsICE9PSBuZXdQcm9wcy5kZWh5ZHJhdGVkKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfdHlwZSlcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkEgZGVoeWRyYXRlZCBzdXNwZW5zZSBjb21wb25lbnQgd2FzIGNvbXBsZXRlZCB3aXRob3V0IGEgaHlkcmF0ZWQgbm9kZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBfdHlwZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgICAgX3R5cGUgPSBudWxsICE9PSBfdHlwZSA/IF90eXBlLmRlaHlkcmF0ZWQgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghX3R5cGUpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBoYXZlIGEgaHlkcmF0ZWQgc3VzcGVuc2UgaW5zdGFuY2UuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgX3R5cGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uIC09XG4gICAgICAgICAgICAgICAgICAgICAgX3R5cGUudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICBlbWl0UGVuZGluZ0h5ZHJhdGlvbldhcm5pbmdzKCksXG4gICAgICAgICAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCksXG4gICAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiAtPVxuICAgICAgICAgICAgICAgICAgICAgICAgX3R5cGUudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgICAgICAgICBfdHlwZSA9ICExO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIG51bGwgIT09IGh5ZHJhdGlvbkVycm9ycyAmJlxuICAgICAgICAgICAgICAgIChxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGh5ZHJhdGlvbkVycm9ycyksXG4gICAgICAgICAgICAgICAgKGh5ZHJhdGlvbkVycm9ycyA9IG51bGwpKSxcbiAgICAgICAgICAgICAgICAoX3R5cGUgPSAhMCk7XG4gICAgICAgICAgICBpZiAoIV90eXBlKSB7XG4gICAgICAgICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDI1NilcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSwgd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmICgwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIG5ld1Byb3BzID0gbnVsbCAhPT0gbmV3UHJvcHM7XG4gICAgICAgICAgY3VycmVudCA9IG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAoKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgKF90eXBlID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChfdHlwZSA9IHJlbmRlckxhbmVzLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZW5kZXJMYW5lcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIHJldHVybkZpYmVyICE9PSBfdHlwZSAmJiAocmVuZGVyTGFuZXMuZmxhZ3MgfD0gMjA0OCkpO1xuICAgICAgICAgIG5ld1Byb3BzICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkLmZsYWdzIHw9IDgxOTIpO1xuICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlKTtcbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgKChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiAtPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb24pKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLnR5cGUsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBfdHlwZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKG51bGwgPT09IF90eXBlKSByZXR1cm4gYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgICAgbmV3UHJvcHMgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpO1xuICAgICAgICAgIHJldHVybkZpYmVyID0gX3R5cGUucmVuZGVyaW5nO1xuICAgICAgICAgIGlmIChudWxsID09PSByZXR1cm5GaWJlcilcbiAgICAgICAgICAgIGlmIChuZXdQcm9wcykgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgIT09IFJvb3RJblByb2dyZXNzIHx8XG4gICAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQgJiYgMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMjgpKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZm9yIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IGN1cnJlbnQ7ICkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBmaW5kRmlyc3RTdXNwZW5kZWQoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gcmV0dXJuRmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4O1xuICAgICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHJldHVybkZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDsgbnVsbCAhPT0gbmV3UHJvcHM7IClcbiAgICAgICAgICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzKG5ld1Byb3BzLCBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChuZXdQcm9wcyA9IG5ld1Byb3BzLnNpYmxpbmcpO1xuICAgICAgICAgICAgICAgICAgICBwdXNoKFxuICAgICAgICAgICAgICAgICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IsXG4gICAgICAgICAgICAgICAgICAgICAgKHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCAmXG4gICAgICAgICAgICAgICAgICAgICAgICBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaykgfFxuICAgICAgICAgICAgICAgICAgICAgICAgRm9yY2VTdXNwZW5zZUZhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZS50YWlsICYmXG4gICAgICAgICAgICAgICAgbm93JDEoKSA+IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgJiZcbiAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gITApLFxuICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDQxOTQzMDQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbmV3UHJvcHMpXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBmaW5kRmlyc3RTdXNwZW5kZWQocmV0dXJuRmliZXIpKSwgbnVsbCAhPT0gY3VycmVudClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gITApLFxuICAgICAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgY3VycmVudCksXG4gICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICEwKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IF90eXBlLnRhaWwgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJoaWRkZW5cIiA9PT0gX3R5cGUudGFpbE1vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgIXJldHVybkZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICAhaXNIeWRyYXRpbmcpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAyICogbm93JDEoKSAtIF90eXBlLnJlbmRlcmluZ1N0YXJ0VGltZSA+XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lICYmXG4gICAgICAgICAgICAgICAgICA1MzY4NzA5MTIgIT09IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSAhMCksXG4gICAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDQxOTQzMDQpKTtcbiAgICAgICAgICAgIF90eXBlLmlzQmFja3dhcmRzXG4gICAgICAgICAgICAgID8gKChyZXR1cm5GaWJlci5zaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgOiAoKGN1cnJlbnQgPSBfdHlwZS5sYXN0KSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICA/IChjdXJyZW50LnNpYmxpbmcgPSByZXR1cm5GaWJlcilcbiAgICAgICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChfdHlwZS5sYXN0ID0gcmV0dXJuRmliZXIpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG51bGwgIT09IF90eXBlLnRhaWwpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoY3VycmVudCA9IF90eXBlLnRhaWwpLFxuICAgICAgICAgICAgICAoX3R5cGUucmVuZGVyaW5nID0gY3VycmVudCksXG4gICAgICAgICAgICAgIChfdHlwZS50YWlsID0gY3VycmVudC5zaWJsaW5nKSxcbiAgICAgICAgICAgICAgKF90eXBlLnJlbmRlcmluZ1N0YXJ0VGltZSA9IG5vdyQxKCkpLFxuICAgICAgICAgICAgICAoY3VycmVudC5zaWJsaW5nID0gbnVsbCksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IG5ld1Byb3BzXG4gICAgICAgICAgICAgICAgPyAocmVuZGVyTGFuZXMgJiBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaykgfFxuICAgICAgICAgICAgICAgICAgRm9yY2VTdXNwZW5zZUZhbGxiYWNrXG4gICAgICAgICAgICAgICAgOiByZW5kZXJMYW5lcyAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSxcbiAgICAgICAgICAgICAgcHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCByZW5kZXJMYW5lcywgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcG9wSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAobmV3UHJvcHMgPSBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAobnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MilcbiAgICAgICAgICAgICAgOiBuZXdQcm9wcyAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MiksXG4gICAgICAgICAgICBuZXdQcm9wc1xuICAgICAgICAgICAgICA/IDAgIT09IChyZW5kZXJMYW5lcyAmIDUzNjg3MDkxMikgJiZcbiAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpICYmXG4gICAgICAgICAgICAgICAgKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyAmIDYgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKSlcbiAgICAgICAgICAgICAgOiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIG5ld1Byb3BzLnJldHJ5UXVldWUpLFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChuZXdQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICByZW5kZXJMYW5lcyAhPT0gbmV3UHJvcHMgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwb3AocmVzdW1lZENhY2hlLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIChuZXdQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZSksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJVbmtub3duIHVuaXQgb2Ygd29yayB0YWcgKFwiICtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgK1xuICAgICAgICAgIFwiKS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW53aW5kV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgcG9wVHJlZUNvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzKSxcbiAgICAgICAgICAgIGN1cnJlbnQgJiA2NTUzNlxuICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzKSxcbiAgICAgICAgICAgIDAgIT09IChjdXJyZW50ICYgNjU1MzYpICYmIDAgPT09IChjdXJyZW50ICYgMTI4KVxuICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmV0dXJuIHBvcEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQuZGVoeWRyYXRlZCkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaHJldyBpbiBuZXdseSBtb3VudGVkIGRlaHlkcmF0ZWQgY29tcG9uZW50LiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzO1xuICAgICAgICAgIHJldHVybiBjdXJyZW50ICYgNjU1MzZcbiAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIHBvcChzdXNwZW5zZVN0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuIHBvcFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLnR5cGUsIHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHBvcEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwb3AocmVzdW1lZENhY2hlLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmZsYWdzKSxcbiAgICAgICAgICAgIGN1cnJlbnQgJiA2NTUzNlxuICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdW53aW5kSW50ZXJydXB0ZWRXb3JrKGN1cnJlbnQsIGludGVycnVwdGVkV29yaykge1xuICAgICAgcG9wVHJlZUNvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgIHN3aXRjaCAoaW50ZXJydXB0ZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHBvcEhvc3RDb250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoaW50ZXJydXB0ZWRXb3JrLnR5cGUsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgcG9wSGlkZGVuQ29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgcG9wKHJlc3VtZWRDYWNoZSwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIGludGVycnVwdGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ29tbWl0Um9vdCgpIHtcbiAgICAgIGNvbW1pdEhvb2tzLmZvckVhY2goZnVuY3Rpb24gKGNvbW1pdEhvb2spIHtcbiAgICAgICAgcmV0dXJuIGNvbW1pdEhvb2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0NvbmN1cnJlbnRBY3RFbnZpcm9ubWVudCgpIHtcbiAgICAgIHZhciBpc1JlYWN0QWN0RW52aXJvbm1lbnRHbG9iYWwgPVxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UXG4gICAgICAgICAgPyBJU19SRUFDVF9BQ1RfRU5WSVJPTk1FTlRcbiAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgIGlzUmVhY3RBY3RFbnZpcm9ubWVudEdsb2JhbCB8fFxuICAgICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIGN1cnJlbnQgdGVzdGluZyBlbnZpcm9ubWVudCBpcyBub3QgY29uZmlndXJlZCB0byBzdXBwb3J0IGFjdCguLi4pXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBpc1JlYWN0QWN0RW52aXJvbm1lbnRHbG9iYWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKSB7XG4gICAgICBpZiAoXG4gICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgIT09IE5vQ29udGV4dCAmJlxuICAgICAgICAwICE9PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgKVxuICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiAtd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXM7XG4gICAgICB2YXIgdHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gdHJhbnNpdGlvblxuICAgICAgICA/ICh0cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzIHx8ICh0cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpKSxcbiAgICAgICAgICB0cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmFkZChmaWJlciksXG4gICAgICAgICAgKGZpYmVyID0gY3VycmVudEVudGFuZ2xlZExhbmUpLFxuICAgICAgICAgIDAgIT09IGZpYmVyID8gZmliZXIgOiByZXF1ZXN0VHJhbnNpdGlvbkxhbmUoKSlcbiAgICAgICAgOiByZXNvbHZlVXBkYXRlUHJpb3JpdHkoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdERlZmVycmVkTGFuZSgpIHtcbiAgICAgIDAgPT09IHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSA9XG4gICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSB8fCBpc0h5ZHJhdGluZ1xuICAgICAgICAgICAgPyBjbGFpbU5leHRUcmFuc2l0aW9uTGFuZSgpXG4gICAgICAgICAgICA6IDUzNjg3MDkxMik7XG4gICAgICB2YXIgc3VzcGVuc2VIYW5kbGVyID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgIG51bGwgIT09IHN1c3BlbnNlSGFuZGxlciAmJiAoc3VzcGVuc2VIYW5kbGVyLmZsYWdzIHw9IDMyKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCBsYW5lKSB7XG4gICAgICBpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcInVzZUluc2VydGlvbkVmZmVjdCBtdXN0IG5vdCBzY2hlZHVsZSB1cGRhdGVzLlwiKTtcbiAgICAgIGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyAmJiAoZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9ICEwKTtcbiAgICAgIGlmIChcbiAgICAgICAgKHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEpIHx8XG4gICAgICAgIG51bGwgIT09IHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdFxuICAgICAgKVxuICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCAwKSxcbiAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgITFcbiAgICAgICAgICApO1xuICAgICAgbWFya1Jvb3RVcGRhdGVkJDEocm9vdCwgbGFuZSk7XG4gICAgICBpZiAoXG4gICAgICAgIDAgIT09IChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgJiZcbiAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290XG4gICAgICApIHtcbiAgICAgICAgaWYgKGlzUmVuZGVyaW5nKVxuICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgcm9vdCA9XG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzICYmIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpKSB8fFxuICAgICAgICAgICAgICAgIFwiVW5rbm93blwiO1xuICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlckZvckFub3RoZXJDb21wb25lbnQuaGFzKHJvb3QpIHx8XG4gICAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyRm9yQW5vdGhlckNvbXBvbmVudC5hZGQocm9vdCksXG4gICAgICAgICAgICAgICAgKGZpYmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbm5vdCB1cGRhdGUgYSBjb21wb25lbnQgKGAlc2ApIHdoaWxlIHJlbmRlcmluZyBhIGRpZmZlcmVudCBjb21wb25lbnQgKGAlc2ApLiBUbyBsb2NhdGUgdGhlIGJhZCBzZXRTdGF0ZSgpIGNhbGwgaW5zaWRlIGAlc2AsIGZvbGxvdyB0aGUgc3RhY2sgdHJhY2UgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc2V0c3RhdGUtaW4tcmVuZGVyXCIsXG4gICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciB8fFxuICAgICAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgdXBkYXRlIGR1cmluZyBhbiBleGlzdGluZyBzdGF0ZSB0cmFuc2l0aW9uIChzdWNoIGFzIHdpdGhpbiBgcmVuZGVyYCkuIFJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLlwiXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIgPSAhMCkpO1xuICAgICAgICAgIH1cbiAgICAgIH0gZWxzZVxuICAgICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiBhZGRGaWJlclRvTGFuZXNNYXAocm9vdCwgZmliZXIsIGxhbmUpLFxuICAgICAgICAgIHdhcm5JZlVwZGF0ZXNOb3RXcmFwcGVkV2l0aEFjdERFVihmaWJlciksXG4gICAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICAgICAoKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSA9PT0gTm9Db250ZXh0ICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyB8PSBsYW5lKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgJiZcbiAgICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGxhbmVzLCBmb3JjZVN5bmMpIHtcbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQpXG4gICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIG5vdCBhbHJlYWR5IGJlIHdvcmtpbmcuXCIpO1xuICAgICAgdmFyIHNob3VsZFRpbWVTbGljZSA9XG4gICAgICAgICAgKCFmb3JjZVN5bmMgJiZcbiAgICAgICAgICAgIDAgPT09IChsYW5lcyAmIDYwKSAmJlxuICAgICAgICAgICAgMCA9PT0gKGxhbmVzICYgcm9vdC5leHBpcmVkTGFuZXMpKSB8fFxuICAgICAgICAgIGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgbGFuZXMpLFxuICAgICAgICBleGl0U3RhdHVzID0gc2hvdWxkVGltZVNsaWNlXG4gICAgICAgICAgPyByZW5kZXJSb290Q29uY3VycmVudChyb290LCBsYW5lcylcbiAgICAgICAgICA6IHJlbmRlclJvb3RTeW5jKHJvb3QsIGxhbmVzLCAhMCksXG4gICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgPSBzaG91bGRUaW1lU2xpY2U7XG4gICAgICBkbyB7XG4gICAgICAgIGlmIChleGl0U3RhdHVzID09PSBSb290SW5Qcm9ncmVzcykge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nICYmXG4gICAgICAgICAgICAhc2hvdWxkVGltZVNsaWNlICYmXG4gICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChyb290LCBsYW5lcywgMCwgITEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3REaWROb3RDb21wbGV0ZSlcbiAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAhd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZm9yY2VTeW5jID0gcm9vdC5jdXJyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ICYmXG4gICAgICAgICAgICAhaXNSZW5kZXJDb25zaXN0ZW50V2l0aEV4dGVybmFsU3RvcmVzKGZvcmNlU3luYylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGV4aXRTdGF0dXMgPSByZW5kZXJSb290U3luYyhyb290LCBsYW5lcywgITEpO1xuICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9ICExO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleGl0U3RhdHVzID09PSBSb290RXJyb3JlZCkge1xuICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9IGxhbmVzO1xuICAgICAgICAgICAgaWYgKHJvb3QuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgJiByZW5kZXJXYXNDb25jdXJyZW50KVxuICAgICAgICAgICAgICB2YXIgZXJyb3JSZXRyeUxhbmVzID0gMDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgKGVycm9yUmV0cnlMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzICYgLTUzNjg3MDkxMyksXG4gICAgICAgICAgICAgICAgKGVycm9yUmV0cnlMYW5lcyA9XG4gICAgICAgICAgICAgICAgICAwICE9PSBlcnJvclJldHJ5TGFuZXNcbiAgICAgICAgICAgICAgICAgICAgPyBlcnJvclJldHJ5TGFuZXNcbiAgICAgICAgICAgICAgICAgICAgOiBlcnJvclJldHJ5TGFuZXMgJiA1MzY4NzA5MTJcbiAgICAgICAgICAgICAgICAgICAgICA/IDUzNjg3MDkxMlxuICAgICAgICAgICAgICAgICAgICAgIDogMCk7XG4gICAgICAgICAgICBpZiAoMCAhPT0gZXJyb3JSZXRyeUxhbmVzKSB7XG4gICAgICAgICAgICAgIGxhbmVzID0gZXJyb3JSZXRyeUxhbmVzO1xuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgZXhpdFN0YXR1cyA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMCA9IGVycm9yUmV0cnlMYW5lcztcbiAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzO1xuICAgICAgICAgICAgICAgIHZhciB3YXNSb290RGVoeWRyYXRlZCA9XG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQ7XG4gICAgICAgICAgICAgICAgd2FzUm9vdERlaHlkcmF0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIChwcmVwYXJlRnJlc2hTdGFjayhcbiAgICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICApLmZsYWdzIHw9IDI1Nik7XG4gICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwID0gcmVuZGVyUm9vdFN5bmMoXG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChlcnJvclJldHJ5TGFuZXMkanNjb21wJDAgIT09IFJvb3RFcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEF0dGFjaFBpbmdMaXN0ZW5lciAmJlxuICAgICAgICAgICAgICAgICAgICAhd2FzUm9vdERlaHlkcmF0ZWRcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzIHw9XG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgfD1cbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycztcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gZXJyb3JSZXRyeUxhbmVzO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXhpdFN0YXR1cyAmJiBxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGV4aXRTdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgPSAhMTtcbiAgICAgICAgICAgICAgaWYgKGV4aXRTdGF0dXMgIT09IFJvb3RFcnJvcmVkKSBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3RGYXRhbEVycm9yZWQpIHtcbiAgICAgICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIDApO1xuICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQocm9vdCwgbGFuZXMsIDAsICEwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UgPSByb290O1xuICAgICAgICAgICAgc3dpdGNoIChleGl0U3RhdHVzKSB7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdEluUHJvZ3Jlc3M6XG4gICAgICAgICAgICAgIGNhc2UgUm9vdEZhdGFsRXJyb3JlZDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlJvb3QgZGlkIG5vdCBjb21wbGV0ZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIik7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdFN1c3BlbmRlZFdpdGhEZWxheTpcbiAgICAgICAgICAgICAgICBpZiAoKGxhbmVzICYgNDE5NDE3NikgPT09IGxhbmVzKSB7XG4gICAgICAgICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgICAgICF3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSb290RXJyb3JlZDpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdFN1c3BlbmRlZDpcbiAgICAgICAgICAgICAgY2FzZSBSb290Q29tcGxldGVkOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biByb290IGV4aXQgc3RhdHVzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZS5maW5pc2hlZFdvcmsgPSBmb3JjZVN5bmM7XG4gICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UuZmluaXNoZWRMYW5lcyA9IGxhbmVzO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlKVxuICAgICAgICAgICAgICBjb21taXRSb290KFxuICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICAgIElNTUVESUFURV9DT01NSVQsXG4gICAgICAgICAgICAgICAgcmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGxhbmVzICYgNjI5MTQ1NjApID09PSBsYW5lcyAmJlxuICAgICAgICAgICAgICAgICgoZXhpdFN0YXR1cyA9XG4gICAgICAgICAgICAgICAgICBnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lICtcbiAgICAgICAgICAgICAgICAgIEZBTExCQUNLX1RIUk9UVExFX01TIC1cbiAgICAgICAgICAgICAgICAgIG5vdyQxKCkpLFxuICAgICAgICAgICAgICAgIDEwIDwgZXhpdFN0YXR1cylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICAgIXdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IGdldE5leHRMYW5lcyhzaG91bGRUaW1lU2xpY2UsIDApKSBicmVhayBhO1xuICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZS50aW1lb3V0SGFuZGxlID0gc2NoZWR1bGVUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgY29tbWl0Um9vdFdoZW5SZWFkeS5iaW5kKFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlU3luYyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzLFxuICAgICAgICAgICAgICAgICAgICBUSFJPVFRMRURfQ09NTUlULFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbW1pdFJvb3RXaGVuUmVhZHkoXG4gICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgIGZvcmNlU3luYyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUsXG4gICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyxcbiAgICAgICAgICAgICAgICBJTU1FRElBVEVfQ09NTUlULFxuICAgICAgICAgICAgICAgIHJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoZXJyb3JzKSB7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9yc1xuICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IGVycm9ycylcbiAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycy5wdXNoLmFwcGx5KFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICBlcnJvcnNcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRSb290V2hlblJlYWR5KFxuICAgICAgcm9vdCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICBsYW5lcyxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgIGRpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyxcbiAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICApIHtcbiAgICAgIHZhciBzdWJ0cmVlRmxhZ3MgPSBmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzO1xuICAgICAgaWYgKHN1YnRyZWVGbGFncyAmIDgxOTIgfHwgMTY3ODU0MDggPT09IChzdWJ0cmVlRmxhZ3MgJiAxNjc4NTQwOCkpXG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKHN1c3BlbmRlZFN0YXRlID0geyBzdHlsZXNoZWV0czogbnVsbCwgY291bnQ6IDAsIHVuc3VzcGVuZDogbm9vcCB9KSxcbiAgICAgICAgICBhY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0T25GaWJlcihmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIChmaW5pc2hlZFdvcmsgPSB3YWl0Rm9yQ29tbWl0VG9CZVJlYWR5KCkpLFxuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yaylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0ID0gZmluaXNoZWRXb3JrKFxuICAgICAgICAgICAgY29tbWl0Um9vdC5iaW5kKFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgICAgU1VTUEVOREVEX0NPTU1JVCxcbiAgICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICBjb21wbGV0ZWRSZW5kZXJFbmRUaW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICAgICAgIWRpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBjb21taXRSb290KFxuICAgICAgICByb290LFxuICAgICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVuZGVyQ29uc2lzdGVudFdpdGhFeHRlcm5hbFN0b3JlcyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIGZvciAodmFyIG5vZGUgPSBmaW5pc2hlZFdvcms7IDsgKSB7XG4gICAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgwID09PSB0YWcgfHwgMTEgPT09IHRhZyB8fCAxNSA9PT0gdGFnKSAmJlxuICAgICAgICAgIG5vZGUuZmxhZ3MgJiAxNjM4NCAmJlxuICAgICAgICAgICgodGFnID0gbm9kZS51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgbnVsbCAhPT0gdGFnICYmICgodGFnID0gdGFnLnN0b3JlcyksIG51bGwgIT09IHRhZykpXG4gICAgICAgIClcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoZWNrID0gdGFnW2ldLFxuICAgICAgICAgICAgICBnZXRTbmFwc2hvdCA9IGNoZWNrLmdldFNuYXBzaG90O1xuICAgICAgICAgICAgY2hlY2sgPSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmICghb2JqZWN0SXMoZ2V0U25hcHNob3QoKSwgY2hlY2spKSByZXR1cm4gITE7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB0YWcgPSBub2RlLmNoaWxkO1xuICAgICAgICBpZiAobm9kZS5zdWJ0cmVlRmxhZ3MgJiAxNjM4NCAmJiBudWxsICE9PSB0YWcpXG4gICAgICAgICAgKHRhZy5yZXR1cm4gPSBub2RlKSwgKG5vZGUgPSB0YWcpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAobm9kZSA9PT0gZmluaXNoZWRXb3JrKSBicmVhaztcbiAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gbm9kZS5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgIGlmIChudWxsID09PSBub2RlLnJldHVybiB8fCBub2RlLnJldHVybiA9PT0gZmluaXNoZWRXb3JrKSByZXR1cm4gITA7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgcm9vdCxcbiAgICAgIHN1c3BlbmRlZExhbmVzLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZVxuICAgICkge1xuICAgICAgc3VzcGVuZGVkTGFuZXMgJj0gfndvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzO1xuICAgICAgc3VzcGVuZGVkTGFuZXMgJj0gfndvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzO1xuICAgICAgcm9vdC5zdXNwZW5kZWRMYW5lcyB8PSBzdXNwZW5kZWRMYW5lcztcbiAgICAgIHJvb3QucGluZ2VkTGFuZXMgJj0gfnN1c3BlbmRlZExhbmVzO1xuICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWUgJiYgKHJvb3Qud2FybUxhbmVzIHw9IHN1c3BlbmRlZExhbmVzKTtcbiAgICAgIGRpZEF0dGVtcHRFbnRpcmVUcmVlID0gcm9vdC5leHBpcmF0aW9uVGltZXM7XG4gICAgICBmb3IgKHZhciBsYW5lcyA9IHN1c3BlbmRlZExhbmVzOyAwIDwgbGFuZXM7ICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKSxcbiAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWVbaW5kZXhdID0gLTE7XG4gICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgICAgMCAhPT0gc3Bhd25lZExhbmUgJiZcbiAgICAgICAgbWFya1NwYXduZWREZWZlcnJlZExhbmUocm9vdCwgc3Bhd25lZExhbmUsIHN1c3BlbmRlZExhbmVzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hTeW5jV29yayQxKCkge1xuICAgICAgcmV0dXJuIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgPT09IE5vQ29udGV4dFxuICAgICAgICA/IChmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbCgwLCAhMSksICExKVxuICAgICAgICA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKSB7XG4gICAgICBpZiAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBOb3RTdXNwZW5kZWQpXG4gICAgICAgICAgdmFyIGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIChpbnRlcnJ1cHRlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKSxcbiAgICAgICAgICAgIHJlc2V0SG9va3NPblVud2luZChpbnRlcnJ1cHRlZFdvcmspLFxuICAgICAgICAgICAgKHRoZW5hYmxlU3RhdGUkMSA9IG51bGwpLFxuICAgICAgICAgICAgKHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwKSxcbiAgICAgICAgICAgIChpbnRlcnJ1cHRlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGZvciAoOyBudWxsICE9PSBpbnRlcnJ1cHRlZFdvcms7IClcbiAgICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoaW50ZXJydXB0ZWRXb3JrLmFsdGVybmF0ZSwgaW50ZXJydXB0ZWRXb3JrKSxcbiAgICAgICAgICAgIChpbnRlcnJ1cHRlZFdvcmsgPSBpbnRlcnJ1cHRlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBsYW5lcykge1xuICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgcm9vdC5maW5pc2hlZExhbmVzID0gMDtcbiAgICAgIHZhciB0aW1lb3V0SGFuZGxlID0gcm9vdC50aW1lb3V0SGFuZGxlO1xuICAgICAgdGltZW91dEhhbmRsZSAhPT0gbm9UaW1lb3V0ICYmXG4gICAgICAgICgocm9vdC50aW1lb3V0SGFuZGxlID0gbm9UaW1lb3V0KSwgY2FuY2VsVGltZW91dCh0aW1lb3V0SGFuZGxlKSk7XG4gICAgICB0aW1lb3V0SGFuZGxlID0gcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0O1xuICAgICAgbnVsbCAhPT0gdGltZW91dEhhbmRsZSAmJlxuICAgICAgICAoKHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdCA9IG51bGwpLCB0aW1lb3V0SGFuZGxlKCkpO1xuICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzc1N0YWNrKCk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSByb290O1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSB0aW1lb3V0SGFuZGxlID0gY3JlYXRlV29ya0luUHJvZ3Jlc3Mocm9vdC5jdXJyZW50LCBudWxsKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gbGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzID0gITE7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9IGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgbGFuZXMpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyID0gITE7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEluUHJvZ3Jlc3M7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgPVxuICAgICAgICAgIDA7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnMgPVxuICAgICAgICBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSA9ICExO1xuICAgICAgMCAhPT0gKGxhbmVzICYgOCkgJiYgKGxhbmVzIHw9IGxhbmVzICYgMzIpO1xuICAgICAgdmFyIGFsbEVudGFuZ2xlZExhbmVzID0gcm9vdC5lbnRhbmdsZWRMYW5lcztcbiAgICAgIGlmICgwICE9PSBhbGxFbnRhbmdsZWRMYW5lcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICByb290ID0gcm9vdC5lbnRhbmdsZW1lbnRzLCBhbGxFbnRhbmdsZWRMYW5lcyAmPSBsYW5lcztcbiAgICAgICAgICAwIDwgYWxsRW50YW5nbGVkTGFuZXM7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihhbGxFbnRhbmdsZWRMYW5lcyksXG4gICAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgICBsYW5lcyB8PSByb290W2luZGV4XTtcbiAgICAgICAgICBhbGxFbnRhbmdsZWRMYW5lcyAmPSB+bGFuZTtcbiAgICAgICAgfVxuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSBsYW5lcztcbiAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKTtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MoKTtcbiAgICAgIHJldHVybiB0aW1lb3V0SGFuZGxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVUaHJvdyhyb290LCB0aHJvd25WYWx1ZSkge1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IG51bGw7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gbnVsbDtcbiAgICAgIGlzUmVuZGVyaW5nID0gITE7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIHRocm93blZhbHVlID09PSBTdXNwZW5zZUV4Y2VwdGlvblxuICAgICAgICA/ICgodGhyb3duVmFsdWUgPSBnZXRTdXNwZW5kZWRUaGVuYWJsZSgpKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBTdXNwZW5kZWRPbkltbWVkaWF0ZSkpXG4gICAgICAgIDogdGhyb3duVmFsdWUgPT09IFN1c3BlbnNleUNvbW1pdEV4Y2VwdGlvblxuICAgICAgICAgID8gKCh0aHJvd25WYWx1ZSA9IGdldFN1c3BlbmRlZFRoZW5hYmxlKCkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gU3VzcGVuZGVkT25JbnN0YW5jZSkpXG4gICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPVxuICAgICAgICAgICAgICB0aHJvd25WYWx1ZSA9PT0gU2VsZWN0aXZlSHlkcmF0aW9uRXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgPyBTdXNwZW5kZWRPbkh5ZHJhdGlvblxuICAgICAgICAgICAgICAgIDogbnVsbCAhPT0gdGhyb3duVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHRocm93blZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRocm93blZhbHVlLnRoZW5cbiAgICAgICAgICAgICAgICAgID8gU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlXG4gICAgICAgICAgICAgICAgICA6IFN1c3BlbmRlZE9uRXJyb3IpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IHRocm93blZhbHVlO1xuICAgICAgdmFyIGVycm9yZWRXb3JrID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBpZiAobnVsbCA9PT0gZXJyb3JlZFdvcmspXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEZhdGFsRXJyb3JlZCksXG4gICAgICAgICAgbG9nVW5jYXVnaHRFcnJvcihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih0aHJvd25WYWx1ZSwgcm9vdC5jdXJyZW50KVxuICAgICAgICAgICk7XG4gICAgICBlbHNlXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKGVycm9yZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSAmJlxuICAgICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbihlcnJvcmVkV29yayksXG4gICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkVycm9yOlxuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudEVycm9yZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50RXJyb3JlZChcbiAgICAgICAgICAgICAgICBlcnJvcmVkV29yayxcbiAgICAgICAgICAgICAgICB0aHJvd25WYWx1ZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRhdGE6XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkltbWVkaWF0ZTpcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZTpcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZTpcbiAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRTdXNwZW5kZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50U3VzcGVuZGVkKFxuICAgICAgICAgICAgICAgIGVycm9yZWRXb3JrLFxuICAgICAgICAgICAgICAgIHRocm93blZhbHVlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaERpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IENvbnRleHRPbmx5RGlzcGF0Y2hlcjtcbiAgICAgIHJldHVybiBudWxsID09PSBwcmV2RGlzcGF0Y2hlciA/IENvbnRleHRPbmx5RGlzcGF0Y2hlciA6IHByZXZEaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoQXN5bmNEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIHByZXZBc3luY0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuQSA9IERlZmF1bHRBc3luY0Rpc3BhdGNoZXI7XG4gICAgICByZXR1cm4gcHJldkFzeW5jRGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290U3VzcGVuZGVkV2l0aERlbGF5O1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzIHx8XG4gICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA0MTk0MTc2KSAhPT1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmJlxuICAgICAgICAgIG51bGwgIT09IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQpIHx8XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9ICEwKTtcbiAgICAgICgwID09PSAod29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzICYgMTM0MjE3NzI3KSAmJlxuICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgJiAxMzQyMTc3MjcpKSB8fFxuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgfHxcbiAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlclJvb3RTeW5jKHJvb3QsIGxhbmVzLCBzaG91bGRZaWVsZEZvclByZXJlbmRlcmluZykge1xuICAgICAgdmFyIHByZXZFeGVjdXRpb25Db250ZXh0ID0gZXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgfD0gUmVuZGVyQ29udGV4dDtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IHB1c2hEaXNwYXRjaGVyKCksXG4gICAgICAgIHByZXZBc3luY0Rpc3BhdGNoZXIgPSBwdXNoQXN5bmNEaXNwYXRjaGVyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCAhPT0gcm9vdCB8fFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAhPT0gbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpIHtcbiAgICAgICAgICB2YXIgbWVtb2l6ZWRVcGRhdGVycyA9IHJvb3QubWVtb2l6ZWRVcGRhdGVycztcbiAgICAgICAgICAwIDwgbWVtb2l6ZWRVcGRhdGVycy5zaXplICYmXG4gICAgICAgICAgICAocmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLmNsZWFyKCkpO1xuICAgICAgICAgIG1vdmVQZW5kaW5nRmliZXJzVG9NZW1vaXplZChyb290LCBsYW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyA9IG51bGw7XG4gICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGxhbmVzKTtcbiAgICAgIH1cbiAgICAgIG1hcmtSZW5kZXJTdGFydGVkKGxhbmVzKTtcbiAgICAgIGxhbmVzID0gITE7XG4gICAgICBtZW1vaXplZFVwZGF0ZXJzID0gd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cztcbiAgICAgIGE6IGRvXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gIT09IE5vdFN1c3BlbmRlZCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB1bml0T2ZXb3JrID0gd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHRocm93blZhbHVlID0gd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZTtcbiAgICAgICAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24pIHtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkh5ZHJhdGlvbjpcbiAgICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKTtcbiAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzID0gUm9vdERpZE5vdENvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbW1lZGlhdGU6XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EYXRhOlxuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZTpcbiAgICAgICAgICAgICAgICBudWxsID09PSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50ICYmIChsYW5lcyA9ICEwKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVhc29uID0gd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb247XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChyb290LCB1bml0T2ZXb3JrLCB0aHJvd25WYWx1ZSwgcmVhc29uKTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzaG91bGRZaWVsZEZvclByZXJlbmRlcmluZyAmJlxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmdcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSBSb290SW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIChyZWFzb24gPSB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3Aocm9vdCwgdW5pdE9mV29yaywgdGhyb3duVmFsdWUsIHJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHdvcmtMb29wU3luYygpO1xuICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSQ4KSB7XG4gICAgICAgICAgaGFuZGxlVGhyb3cocm9vdCwgdGhyb3duVmFsdWUkOCk7XG4gICAgICAgIH1cbiAgICAgIHdoaWxlICgxKTtcbiAgICAgIGxhbmVzICYmIHJvb3Quc2hlbGxTdXNwZW5kQ291bnRlcisrO1xuICAgICAgcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCk7XG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5BID0gcHJldkFzeW5jRGlzcGF0Y2hlcjtcbiAgICAgIG1hcmtSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzcyAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGwpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSAwKSxcbiAgICAgICAgZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpKTtcbiAgICAgIHJldHVybiBtZW1vaXplZFVwZGF0ZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3b3JrTG9vcFN5bmMoKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3M7ICkgcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJSb290Q29uY3VycmVudChyb290LCBsYW5lcykge1xuICAgICAgdmFyIHByZXZFeGVjdXRpb25Db250ZXh0ID0gZXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgfD0gUmVuZGVyQ29udGV4dDtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IHB1c2hEaXNwYXRjaGVyKCksXG4gICAgICAgIHByZXZBc3luY0Rpc3BhdGNoZXIgPSBwdXNoQXN5bmNEaXNwYXRjaGVyKCk7XG4gICAgICBpZiAoXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCAhPT0gcm9vdCB8fFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAhPT0gbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpIHtcbiAgICAgICAgICB2YXIgbWVtb2l6ZWRVcGRhdGVycyA9IHJvb3QubWVtb2l6ZWRVcGRhdGVycztcbiAgICAgICAgICAwIDwgbWVtb2l6ZWRVcGRhdGVycy5zaXplICYmXG4gICAgICAgICAgICAocmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLmNsZWFyKCkpO1xuICAgICAgICAgIG1vdmVQZW5kaW5nRmliZXJzVG9NZW1vaXplZChyb290LCBsYW5lcyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyA9IG51bGw7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgPSBub3ckMSgpICsgUkVOREVSX1RJTUVPVVRfTVM7XG4gICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGxhbmVzKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9IGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcoXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICBsYW5lc1xuICAgICAgICApO1xuICAgICAgbWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpO1xuICAgICAgYTogZG9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiAhPT0gTm90U3VzcGVuZGVkICYmXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgIClcbiAgICAgICAgICAgIGI6IHN3aXRjaCAoXG4gICAgICAgICAgICAgICgobGFuZXMgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIChtZW1vaXplZFVwZGF0ZXJzID0gd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25FcnJvcjpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyxcbiAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZE9uRXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGF0YTpcbiAgICAgICAgICAgICAgICBpZiAoaXNUaGVuYWJsZVJlc29sdmVkKG1lbW9pemVkVXBkYXRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgcmVwbGF5U3VzcGVuZGVkVW5pdE9mV29yayhsYW5lcyk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFuZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EYXRhICYmXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9PT0gcm9vdCAmJlxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPVxuICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZSk7XG4gICAgICAgICAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLnRoZW4obGFuZXMsIGxhbmVzKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW1tZWRpYXRlOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbnN0YW5jZTpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9XG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlOlxuICAgICAgICAgICAgICAgIGlzVGhlbmFibGVSZXNvbHZlZChtZW1vaXplZFVwZGF0ZXJzKVxuICAgICAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgcmVwbGF5U3VzcGVuZGVkVW5pdE9mV29yayhsYW5lcykpXG4gICAgICAgICAgICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWVcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbnN0YW5jZUFuZFJlYWR5VG9Db250aW51ZTpcbiAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgICAgICB2YXIgaG9zdEZpYmVyID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNvdXJjZSA/IHByZWxvYWRSZXNvdXJjZShyZXNvdXJjZSkgOiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBob3N0RmliZXIuc2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gc2libGluZykgd29ya0luUHJvZ3Jlc3MgPSBzaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVybkZpYmVyID0gaG9zdEZpYmVyLnJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZVVuaXRPZldvcmsocmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcyA9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgdHlwZSBvZiBmaWJlciB0cmlnZ2VyZWQgYSBzdXNwZW5zZXkgY29tbWl0LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25JbnN0YW5jZUFuZFJlYWR5VG9Db250aW51ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkh5ZHJhdGlvbjpcbiAgICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKTtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdERpZE5vdENvbXBsZXRlO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgU3VzcGVuZGVkUmVhc29uLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZVxuICAgICAgICAgICAgPyB3b3JrTG9vcFN5bmMoKVxuICAgICAgICAgICAgOiB3b3JrTG9vcENvbmN1cnJlbnQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBjYXRjaCAodGhyb3duVmFsdWUkOSkge1xuICAgICAgICAgIGhhbmRsZVRocm93KHJvb3QsIHRocm93blZhbHVlJDkpO1xuICAgICAgICB9XG4gICAgICB3aGlsZSAoMSk7XG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkEgPSBwcmV2QXN5bmNEaXNwYXRjaGVyO1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuICAgICAgaWYgKG51bGwgIT09IHdvcmtJblByb2dyZXNzKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlcllpZWxkZWQgJiZcbiAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlcllpZWxkZWQoKSxcbiAgICAgICAgICBSb290SW5Qcm9ncmVzc1xuICAgICAgICApO1xuICAgICAgbWFya1JlbmRlclN0b3BwZWQoKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDA7XG4gICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cztcbiAgICB9XG4gICAgZnVuY3Rpb24gd29ya0xvb3BDb25jdXJyZW50KCkge1xuICAgICAgZm9yICg7IG51bGwgIT09IHdvcmtJblByb2dyZXNzICYmICFzaG91bGRZaWVsZCgpOyApXG4gICAgICAgIHBlcmZvcm1Vbml0T2ZXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybVVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIGN1cnJlbnQgPSB1bml0T2ZXb3JrLmFsdGVybmF0ZTtcbiAgICAgICh1bml0T2ZXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZVxuICAgICAgICA/IChzdGFydFByb2ZpbGVyVGltZXIodW5pdE9mV29yayksXG4gICAgICAgICAgKGN1cnJlbnQgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICBiZWdpbldvcmssXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzXG4gICAgICAgICAgKSksXG4gICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbih1bml0T2ZXb3JrKSlcbiAgICAgICAgOiAoY3VycmVudCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGJlZ2luV29yayxcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXNcbiAgICAgICAgICApKTtcbiAgICAgIHVuaXRPZldvcmsubWVtb2l6ZWRQcm9wcyA9IHVuaXRPZldvcmsucGVuZGluZ1Byb3BzO1xuICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICA/IGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKVxuICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlTdXNwZW5kZWRVbml0T2ZXb3JrKHVuaXRPZldvcmspIHtcbiAgICAgIHZhciBuZXh0ID0gcnVuV2l0aEZpYmVySW5ERVYodW5pdE9mV29yaywgcmVwbGF5QmVnaW5Xb3JrLCB1bml0T2ZXb3JrKTtcbiAgICAgIHVuaXRPZldvcmsubWVtb2l6ZWRQcm9wcyA9IHVuaXRPZldvcmsucGVuZGluZ1Byb3BzO1xuICAgICAgbnVsbCA9PT0gbmV4dCA/IGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKSA6ICh3b3JrSW5Qcm9ncmVzcyA9IG5leHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlCZWdpbldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIGN1cnJlbnQgPSB1bml0T2ZXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgaXNQcm9maWxpbmdNb2RlID0gKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlO1xuICAgICAgaXNQcm9maWxpbmdNb2RlICYmIHN0YXJ0UHJvZmlsZXJUaW1lcih1bml0T2ZXb3JrKTtcbiAgICAgIHN3aXRjaCAodW5pdE9mV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGN1cnJlbnQgPSByZXBsYXlGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgdW5pdE9mV29yay5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnR5cGUsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY3VycmVudCA9IHJlcGxheUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHVuaXRPZldvcmsudHlwZS5yZW5kZXIsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnJlZixcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlc2V0SG9va3NPblVud2luZCh1bml0T2ZXb3JrKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoY3VycmVudCwgdW5pdE9mV29yayksXG4gICAgICAgICAgICAodW5pdE9mV29yayA9IHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzcyh1bml0T2ZXb3JrLCBlbnRhbmdsZWRSZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBiZWdpbldvcmsoY3VycmVudCwgdW5pdE9mV29yaywgZW50YW5nbGVkUmVuZGVyTGFuZXMpKTtcbiAgICAgIH1cbiAgICAgIGlzUHJvZmlsaW5nTW9kZSAmJlxuICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKHVuaXRPZldvcmspO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICByb290LFxuICAgICAgdW5pdE9mV29yayxcbiAgICAgIHRocm93blZhbHVlLFxuICAgICAgc3VzcGVuZGVkUmVhc29uXG4gICAgKSB7XG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIHJlc2V0SG9va3NPblVud2luZCh1bml0T2ZXb3JrKTtcbiAgICAgIHRoZW5hYmxlU3RhdGUkMSA9IG51bGw7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMDtcbiAgICAgIHZhciByZXR1cm5GaWJlciA9IHVuaXRPZldvcmsucmV0dXJuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRocm93RXhjZXB0aW9uKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIHRocm93blZhbHVlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RmF0YWxFcnJvcmVkO1xuICAgICAgICAgIGxvZ1VuY2F1Z2h0RXJyb3IoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodGhyb3duVmFsdWUsIHJvb3QuY3VycmVudClcbiAgICAgICAgICApO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChudWxsICE9PSByZXR1cm5GaWJlcikgdGhyb3cgKCh3b3JrSW5Qcm9ncmVzcyA9IHJldHVybkZpYmVyKSwgZXJyb3IpO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEZhdGFsRXJyb3JlZDtcbiAgICAgICAgbG9nVW5jYXVnaHRFcnJvcihcbiAgICAgICAgICByb290LFxuICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHRocm93blZhbHVlLCByb290LmN1cnJlbnQpXG4gICAgICAgICk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHVuaXRPZldvcmsuZmxhZ3MgJiAzMjc2OCkge1xuICAgICAgICBpZiAoaXNIeWRyYXRpbmcgfHwgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkVycm9yKSByb290ID0gITA7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nIHx8XG4gICAgICAgICAgMCAhPT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNTM2ODcwOTEyKVxuICAgICAgICApXG4gICAgICAgICAgcm9vdCA9ICExO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyA9IHJvb3QgPSAhMCksXG4gICAgICAgICAgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEgfHxcbiAgICAgICAgICAgIHN1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25JbW1lZGlhdGUgfHxcbiAgICAgICAgICAgIHN1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlKVxuICAgICAgICApXG4gICAgICAgICAgKHN1c3BlbmRlZFJlYXNvbiA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gc3VzcGVuZGVkUmVhc29uICYmXG4gICAgICAgICAgICAgIDEzID09PSBzdXNwZW5kZWRSZWFzb24udGFnICYmXG4gICAgICAgICAgICAgIChzdXNwZW5kZWRSZWFzb24uZmxhZ3MgfD0gMTYzODQpO1xuICAgICAgICB1bndpbmRVbml0T2ZXb3JrKHVuaXRPZldvcmssIHJvb3QpO1xuICAgICAgfSBlbHNlIGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspIHtcbiAgICAgIHZhciBjb21wbGV0ZWRXb3JrID0gdW5pdE9mV29yaztcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKDAgIT09IChjb21wbGV0ZWRXb3JrLmZsYWdzICYgMzI3NjgpKSB7XG4gICAgICAgICAgdW53aW5kVW5pdE9mV29yayhcbiAgICAgICAgICAgIGNvbXBsZXRlZFdvcmssXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY3VycmVudCA9IGNvbXBsZXRlZFdvcmsuYWx0ZXJuYXRlO1xuICAgICAgICB1bml0T2ZXb3JrID0gY29tcGxldGVkV29yay5yZXR1cm47XG4gICAgICAgIHN0YXJ0UHJvZmlsZXJUaW1lcihjb21wbGV0ZWRXb3JrKTtcbiAgICAgICAgY3VycmVudCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGNvbXBsZXRlZFdvcmssXG4gICAgICAgICAgY29tcGxldGVXb3JrLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgY29tcGxldGVkV29yayxcbiAgICAgICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lc1xuICAgICAgICApO1xuICAgICAgICAoY29tcGxldGVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZEluY29tcGxldGVEdXJhdGlvbihjb21wbGV0ZWRXb3JrKTtcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBsZXRlZFdvcmsgPSBjb21wbGV0ZWRXb3JrLnNpYmxpbmc7XG4gICAgICAgIGlmIChudWxsICE9PSBjb21wbGV0ZWRXb3JrKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBjb21wbGV0ZWRXb3JrO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGNvbXBsZXRlZFdvcmsgPSB1bml0T2ZXb3JrO1xuICAgICAgfSB3aGlsZSAobnVsbCAhPT0gY29tcGxldGVkV29yayk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290SW5Qcm9ncmVzcyAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RDb21wbGV0ZWQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bndpbmRVbml0T2ZXb3JrKHVuaXRPZldvcmssIHNraXBTaWJsaW5ncykge1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgbmV4dCA9IHVud2luZFdvcmsodW5pdE9mV29yay5hbHRlcm5hdGUsIHVuaXRPZldvcmspO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmV4dCkge1xuICAgICAgICAgIG5leHQuZmxhZ3MgJj0gMzI3Njc7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBuZXh0O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmRJbmNvbXBsZXRlRHVyYXRpb24odW5pdE9mV29yayk7XG4gICAgICAgICAgbmV4dCA9IHVuaXRPZldvcmsuYWN0dWFsRHVyYXRpb247XG4gICAgICAgICAgZm9yICh2YXIgY2hpbGQgPSB1bml0T2ZXb3JrLmNoaWxkOyBudWxsICE9PSBjaGlsZDsgKVxuICAgICAgICAgICAgKG5leHQgKz0gY2hpbGQuYWN0dWFsRHVyYXRpb24pLCAoY2hpbGQgPSBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgICB1bml0T2ZXb3JrLmFjdHVhbER1cmF0aW9uID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBuZXh0ID0gdW5pdE9mV29yay5yZXR1cm47XG4gICAgICAgIG51bGwgIT09IG5leHQgJiZcbiAgICAgICAgICAoKG5leHQuZmxhZ3MgfD0gMzI3NjgpLFxuICAgICAgICAgIChuZXh0LnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgIChuZXh0LmRlbGV0aW9ucyA9IG51bGwpKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFza2lwU2libGluZ3MgJiZcbiAgICAgICAgICAoKHVuaXRPZldvcmsgPSB1bml0T2ZXb3JrLnNpYmxpbmcpLCBudWxsICE9PSB1bml0T2ZXb3JrKVxuICAgICAgICApIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHVuaXRPZldvcms7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gdW5pdE9mV29yayA9IG5leHQ7XG4gICAgICB9IHdoaWxlIChudWxsICE9PSB1bml0T2ZXb3JrKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RGlkTm90Q29tcGxldGU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvb3QoXG4gICAgICByb290LFxuICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICB0cmFuc2l0aW9ucyxcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICApIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIHByZXZpb3VzVXBkYXRlTGFuZVByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gRGlzY3JldGVFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGwpLFxuICAgICAgICAgIGNvbW1pdFJvb3RJbXBsKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICAgICAgICBwcmV2aW91c1VwZGF0ZUxhbmVQcmlvcml0eSxcbiAgICAgICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICAgICAgICApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbiksXG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1VwZGF0ZUxhbmVQcmlvcml0eSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvb3RJbXBsKFxuICAgICAgcm9vdCxcbiAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICByZW5kZXJQcmlvcml0eUxldmVsLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzXG4gICAgKSB7XG4gICAgICBkbyBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICB3aGlsZSAobnVsbCAhPT0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMpO1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZygpO1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MoKTtcbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQpXG4gICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIG5vdCBhbHJlYWR5IGJlIHdvcmtpbmcuXCIpO1xuICAgICAgdmFyIGZpbmlzaGVkV29yayA9IHJvb3QuZmluaXNoZWRXb3JrO1xuICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlID0gcm9vdC5maW5pc2hlZExhbmVzO1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21taXRTdGFydGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0YXJ0ZWQoZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlKTtcbiAgICAgIGlmIChudWxsID09PSBmaW5pc2hlZFdvcmspIHJldHVybiBtYXJrQ29tbWl0U3RvcHBlZCgpLCBudWxsO1xuICAgICAgMCA9PT0gZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJyb290LmZpbmlzaGVkTGFuZXMgc2hvdWxkIG5vdCBiZSBlbXB0eSBkdXJpbmcgYSBjb21taXQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICAgIHJvb3QuZmluaXNoZWRMYW5lcyA9IDA7XG4gICAgICBpZiAoZmluaXNoZWRXb3JrID09PSByb290LmN1cnJlbnQpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiQ2Fubm90IGNvbW1pdCB0aGUgc2FtZSB0cmVlIGFzIGJlZm9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgcm9vdC5jYWxsYmFja05vZGUgPSBudWxsO1xuICAgICAgcm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gMDtcbiAgICAgIHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdCA9IG51bGw7XG4gICAgICB2YXIgcmVtYWluaW5nTGFuZXMgPSBmaW5pc2hlZFdvcmsubGFuZXMgfCBmaW5pc2hlZFdvcmsuY2hpbGRMYW5lcztcbiAgICAgIHJlbWFpbmluZ0xhbmVzIHw9IGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcztcbiAgICAgIG1hcmtSb290RmluaXNoZWQoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgcmVtYWluaW5nTGFuZXMsXG4gICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXNcbiAgICAgICk7XG4gICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGwpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSAwKSk7XG4gICAgICAoMCA9PT0gKGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3MgJiAxMDI1NikgJiZcbiAgICAgICAgMCA9PT0gKGZpbmlzaGVkV29yay5mbGFncyAmIDEwMjU2KSkgfHxcbiAgICAgICAgcm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgfHxcbiAgICAgICAgKChyb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyA9ICEwKSxcbiAgICAgICAgKHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzID0gcmVtYWluaW5nTGFuZXMpLFxuICAgICAgICAocGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucyA9IHRyYW5zaXRpb25zKSxcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFjayQxKE5vcm1hbFByaW9yaXR5JDEsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmbHVzaFBhc3NpdmVFZmZlY3RzKCEwKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSkpO1xuICAgICAgY29tbWl0U3RhcnRUaW1lID0gbm93KCk7XG4gICAgICB0cmFuc2l0aW9ucyA9IDAgIT09IChmaW5pc2hlZFdvcmsuZmxhZ3MgJiAxNTk5MCk7XG4gICAgICAwICE9PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDE1OTkwKSB8fCB0cmFuc2l0aW9uc1xuICAgICAgICA/ICgodHJhbnNpdGlvbnMgPSBSZWFjdFNoYXJlZEludGVybmFscy5UKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGwpLFxuICAgICAgICAgIChzcGF3bmVkTGFuZSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnApLFxuICAgICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gRGlzY3JldGVFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICAodXBkYXRlZExhbmVzID0gZXhlY3V0aW9uQ29udGV4dCksXG4gICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgfD0gQ29tbWl0Q29udGV4dCksXG4gICAgICAgICAgY29tbWl0QmVmb3JlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgY29tbWl0TXV0YXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZVxuICAgICAgICAgICksXG4gICAgICAgICAgcmVzdG9yZVNlbGVjdGlvbihzZWxlY3Rpb25JbmZvcm1hdGlvbiwgcm9vdC5jb250YWluZXJJbmZvKSxcbiAgICAgICAgICAoX2VuYWJsZWQgPSAhIWV2ZW50c0VuYWJsZWQpLFxuICAgICAgICAgIChzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IGV2ZW50c0VuYWJsZWQgPSBudWxsKSxcbiAgICAgICAgICAocm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RhcnRlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrTGF5b3V0RWZmZWN0c1N0YXJ0ZWQoXG4gICAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjb21taXRMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgcm9vdCwgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlKSxcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RvcHBlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrTGF5b3V0RWZmZWN0c1N0b3BwZWQoKSxcbiAgICAgICAgICByZXF1ZXN0UGFpbnQoKSxcbiAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCA9IHVwZGF0ZWRMYW5lcyksXG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBzcGF3bmVkTGFuZSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSB0cmFuc2l0aW9ucykpXG4gICAgICAgIDogKHJvb3QuY3VycmVudCA9IGZpbmlzaGVkV29yayk7XG4gICAgICAodHJhbnNpdGlvbnMgPSByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cylcbiAgICAgICAgPyAoKHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gITEpLFxuICAgICAgICAgIChyb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyA9IHJvb3QpLFxuICAgICAgICAgIChwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyA9IGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSkpXG4gICAgICAgIDogKHJlbGVhc2VSb290UG9vbGVkQ2FjaGUocm9vdCwgcmVtYWluaW5nTGFuZXMpLFxuICAgICAgICAgIChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IG51bGwpKTtcbiAgICAgIHJlbWFpbmluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAwID09PSByZW1haW5pbmdMYW5lcyAmJiAobGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsKTtcbiAgICAgIHRyYW5zaXRpb25zIHx8IGNvbW1pdERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihyb290KTtcbiAgICAgIG9uQ29tbWl0Um9vdCQxKGZpbmlzaGVkV29yay5zdGF0ZU5vZGUsIHJlbmRlclByaW9yaXR5TGV2ZWwpO1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgcm9vdC5tZW1vaXplZFVwZGF0ZXJzLmNsZWFyKCk7XG4gICAgICBvbkNvbW1pdFJvb3QoKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICAgIGlmIChudWxsICE9PSByZWNvdmVyYWJsZUVycm9ycylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICByZW5kZXJQcmlvcml0eUxldmVsID0gcm9vdC5vblJlY292ZXJhYmxlRXJyb3IsIGZpbmlzaGVkV29yayA9IDA7XG4gICAgICAgICAgZmluaXNoZWRXb3JrIDwgcmVjb3ZlcmFibGVFcnJvcnMubGVuZ3RoO1xuICAgICAgICAgIGZpbmlzaGVkV29yaysrXG4gICAgICAgIClcbiAgICAgICAgICAocmVtYWluaW5nTGFuZXMgPSByZWNvdmVyYWJsZUVycm9yc1tmaW5pc2hlZFdvcmtdKSxcbiAgICAgICAgICAgICh0cmFuc2l0aW9ucyA9IG1ha2VFcnJvckluZm8ocmVtYWluaW5nTGFuZXMuc3RhY2spKSxcbiAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICByZW1haW5pbmdMYW5lcy5zb3VyY2UsXG4gICAgICAgICAgICAgIHJlbmRlclByaW9yaXR5TGV2ZWwsXG4gICAgICAgICAgICAgIHJlbWFpbmluZ0xhbmVzLnZhbHVlLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgIDAgIT09IChwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyAmIDMpICYmIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgIHJlbWFpbmluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAwICE9PSAoZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlICYgNDE5NDIxOCkgJiZcbiAgICAgIDAgIT09IChyZW1haW5pbmdMYW5lcyAmIDQyKVxuICAgICAgICA/ICgobmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gITApLFxuICAgICAgICAgIHJvb3QgPT09IHJvb3RXaXRoTmVzdGVkVXBkYXRlc1xuICAgICAgICAgICAgPyBuZXN0ZWRVcGRhdGVDb3VudCsrXG4gICAgICAgICAgICA6ICgobmVzdGVkVXBkYXRlQ291bnQgPSAwKSwgKHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IHJvb3QpKSlcbiAgICAgICAgOiAobmVzdGVkVXBkYXRlQ291bnQgPSAwKTtcbiAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKTtcbiAgICAgIG1hcmtDb21taXRTdG9wcGVkKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZUVycm9ySW5mbyhjb21wb25lbnRTdGFjaykge1xuICAgICAgY29tcG9uZW50U3RhY2sgPSB7IGNvbXBvbmVudFN0YWNrOiBjb21wb25lbnRTdGFjayB9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbXBvbmVudFN0YWNrLCBcImRpZ2VzdFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnWW91IGFyZSBhY2Nlc3NpbmcgXCJkaWdlc3RcIiBmcm9tIHRoZSBlcnJvckluZm8gb2JqZWN0IHBhc3NlZCB0byBvblJlY292ZXJhYmxlRXJyb3IuIFRoaXMgcHJvcGVydHkgaXMgbm8gbG9uZ2VyIHByb3ZpZGVkIGFzIHBhcnQgb2YgZXJyb3JJbmZvIGJ1dCBjYW4gYmUgYWNjZXNzZWQgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgRXJyb3IgaW5zdGFuY2UgaXRzZWxmLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wb25lbnRTdGFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZVJvb3RQb29sZWRDYWNoZShyb290LCByZW1haW5pbmdMYW5lcykge1xuICAgICAgMCA9PT0gKHJvb3QucG9vbGVkQ2FjaGVMYW5lcyAmPSByZW1haW5pbmdMYW5lcykgJiZcbiAgICAgICAgKChyZW1haW5pbmdMYW5lcyA9IHJvb3QucG9vbGVkQ2FjaGUpLFxuICAgICAgICBudWxsICE9IHJlbWFpbmluZ0xhbmVzICYmXG4gICAgICAgICAgKChyb290LnBvb2xlZENhY2hlID0gbnVsbCksIHJlbGVhc2VDYWNoZShyZW1haW5pbmdMYW5lcykpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hQYXNzaXZlRWZmZWN0cygpIHtcbiAgICAgIGlmIChudWxsICE9PSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cykge1xuICAgICAgICB2YXIgcm9vdCA9IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzLFxuICAgICAgICAgIHJlbWFpbmluZ0xhbmVzID0gcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXM7XG4gICAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzID0gMDtcbiAgICAgICAgdmFyIHJlbmRlclByaW9yaXR5ID0gbGFuZXNUb0V2ZW50UHJpb3JpdHkocGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMpLFxuICAgICAgICAgIHByaW9yaXR5ID1cbiAgICAgICAgICAgIDAgPT09IERlZmF1bHRFdmVudFByaW9yaXR5IHx8IERlZmF1bHRFdmVudFByaW9yaXR5ID4gcmVuZGVyUHJpb3JpdHlcbiAgICAgICAgICAgICAgPyBEZWZhdWx0RXZlbnRQcmlvcml0eVxuICAgICAgICAgICAgICA6IHJlbmRlclByaW9yaXR5O1xuICAgICAgICByZW5kZXJQcmlvcml0eSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJpb3JpdHk7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGw7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzKVxuICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJpb3JpdHkgPSBwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zO1xuICAgICAgICAgICAgcGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB2YXIgcm9vdCRqc2NvbXAkMCA9IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzLFxuICAgICAgICAgICAgICBsYW5lcyA9IHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzO1xuICAgICAgICAgICAgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSBudWxsO1xuICAgICAgICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMgPSAwO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PVxuICAgICAgICAgICAgICBOb0NvbnRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJDYW5ub3QgZmx1c2ggcGFzc2l2ZSBlZmZlY3RzIHdoaWxlIGFscmVhZHkgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpc0ZsdXNoaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMDtcbiAgICAgICAgICAgIGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMTtcbiAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUGFzc2l2ZUVmZmVjdHNTdGFydGVkKGxhbmVzKTtcbiAgICAgICAgICAgIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICAgICAgICBleGVjdXRpb25Db250ZXh0IHw9IENvbW1pdENvbnRleHQ7XG4gICAgICAgICAgICBjb21taXRQYXNzaXZlVW5tb3VudE9uRmliZXIocm9vdCRqc2NvbXAkMC5jdXJyZW50KTtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVNb3VudE9uRmliZXIoXG4gICAgICAgICAgICAgIHJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICAgIHJvb3QkanNjb21wJDAuY3VycmVudCxcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIHByaW9yaXR5XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RvcHBlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0b3BwZWQoKTtcbiAgICAgICAgICAgIGNvbW1pdERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihyb290JGpzY29tcCQwKTtcbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgICAgICAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKTtcbiAgICAgICAgICAgIGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHNcbiAgICAgICAgICAgICAgPyByb290JGpzY29tcCQwID09PSByb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzXG4gICAgICAgICAgICAgICAgPyBuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQrK1xuICAgICAgICAgICAgICAgIDogKChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgICAgICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gcm9vdCRqc2NvbXAkMCkpXG4gICAgICAgICAgICAgIDogKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApO1xuICAgICAgICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9IGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyA9XG4gICAgICAgICAgICAgICExO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbmplY3RlZEhvb2sgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLm9uUG9zdENvbW1pdEZpYmVyUm9vdFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGluamVjdGVkSG9vay5vblBvc3RDb21taXRGaWJlclJvb3QocmVuZGVyZXJJRCwgcm9vdCRqc2NvbXAkMCk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGF0ZU5vZGUgPSByb290JGpzY29tcCQwLmN1cnJlbnQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgc3RhdGVOb2RlLmVmZmVjdER1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIHN0YXRlTm9kZS5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcmVuZGVyUHJpb3JpdHkpLFxuICAgICAgICAgICAgcmVsZWFzZVJvb3RQb29sZWRDYWNoZShyb290LCByZW1haW5pbmdMYW5lcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3JPblJvb3Qocm9vdEZpYmVyLCBzb3VyY2VGaWJlciwgZXJyb3IpIHtcbiAgICAgIHNvdXJjZUZpYmVyID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoZXJyb3IsIHNvdXJjZUZpYmVyKTtcbiAgICAgIHNvdXJjZUZpYmVyID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKHJvb3RGaWJlci5zdGF0ZU5vZGUsIHNvdXJjZUZpYmVyLCAyKTtcbiAgICAgIHJvb3RGaWJlciA9IGVucXVldWVVcGRhdGUocm9vdEZpYmVyLCBzb3VyY2VGaWJlciwgMik7XG4gICAgICBudWxsICE9PSByb290RmliZXIgJiZcbiAgICAgICAgKG1hcmtSb290VXBkYXRlZCQxKHJvb3RGaWJlciwgMiksIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290RmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoXG4gICAgICBzb3VyY2VGaWJlcixcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBlcnJvclxuICAgICkge1xuICAgICAgaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITE7XG4gICAgICBpZiAoMyA9PT0gc291cmNlRmliZXIudGFnKVxuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChzb3VyY2VGaWJlciwgc291cmNlRmliZXIsIGVycm9yKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKDsgbnVsbCAhPT0gbmVhcmVzdE1vdW50ZWRBbmNlc3RvcjsgKSB7XG4gICAgICAgICAgaWYgKDMgPT09IG5lYXJlc3RNb3VudGVkQW5jZXN0b3IudGFnKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgc291cmNlRmliZXIsXG4gICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoMSA9PT0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci50YWcpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG5lYXJlc3RNb3VudGVkQW5jZXN0b3Iuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHxcbiAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoICYmXG4gICAgICAgICAgICAgICAgKG51bGwgPT09IGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkIHx8XG4gICAgICAgICAgICAgICAgICAhbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuaGFzKGluc3RhbmNlKSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgc291cmNlRmliZXIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihlcnJvciwgc291cmNlRmliZXIpO1xuICAgICAgICAgICAgICBlcnJvciA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUoMik7XG4gICAgICAgICAgICAgIGluc3RhbmNlID0gZW5xdWV1ZVVwZGF0ZShuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvciwgMik7XG4gICAgICAgICAgICAgIG51bGwgIT09IGluc3RhbmNlICYmXG4gICAgICAgICAgICAgICAgKGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgbWFya1Jvb3RVcGRhdGVkJDEoaW5zdGFuY2UsIDIpLFxuICAgICAgICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChpbnN0YW5jZSkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IgPSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgZXJyb3I6IEF0dGVtcHRlZCB0byBjYXB0dXJlIGEgY29tbWl0IHBoYXNlIGVycm9yIGluc2lkZSBhIGRldGFjaGVkIHRyZWUuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0LiBQb3RlbnRpYWwgY2F1c2VzIGluY2x1ZGUgZGVsZXRpbmcgdGhlIHNhbWUgZmliZXIgbW9yZSB0aGFuIG9uY2UsIGNvbW1pdHRpbmcgYW4gYWxyZWFkeS1maW5pc2hlZCB0cmVlLCBvciBhbiBpbmNvbnNpc3RlbnQgcmV0dXJuIHBvaW50ZXIuXFxuXFxuRXJyb3IgbWVzc2FnZTpcXG5cXG4lc1wiLFxuICAgICAgICAgIGVycm9yXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB3YWtlYWJsZSwgbGFuZXMpIHtcbiAgICAgIHZhciBwaW5nQ2FjaGUgPSByb290LnBpbmdDYWNoZTtcbiAgICAgIGlmIChudWxsID09PSBwaW5nQ2FjaGUpIHtcbiAgICAgICAgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGUgPSBuZXcgUG9zc2libHlXZWFrTWFwKCk7XG4gICAgICAgIHZhciB0aHJlYWRJRHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHBpbmdDYWNoZS5zZXQod2FrZWFibGUsIHRocmVhZElEcyk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRocmVhZElEcyA9IHBpbmdDYWNoZS5nZXQod2FrZWFibGUpKSxcbiAgICAgICAgICB2b2lkIDAgPT09IHRocmVhZElEcyAmJlxuICAgICAgICAgICAgKCh0aHJlYWRJRHMgPSBuZXcgU2V0KCkpLCBwaW5nQ2FjaGUuc2V0KHdha2VhYmxlLCB0aHJlYWRJRHMpKTtcbiAgICAgIHRocmVhZElEcy5oYXMobGFuZXMpIHx8XG4gICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyID0gITApLFxuICAgICAgICB0aHJlYWRJRHMuYWRkKGxhbmVzKSxcbiAgICAgICAgKHBpbmdDYWNoZSA9IHBpbmdTdXNwZW5kZWRSb290LmJpbmQobnVsbCwgcm9vdCwgd2FrZWFibGUsIGxhbmVzKSksXG4gICAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgbGFuZXMpLFxuICAgICAgICB3YWtlYWJsZS50aGVuKHBpbmdDYWNoZSwgcGluZ0NhY2hlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpbmdTdXNwZW5kZWRSb290KHJvb3QsIHdha2VhYmxlLCBwaW5nZWRMYW5lcykge1xuICAgICAgdmFyIHBpbmdDYWNoZSA9IHJvb3QucGluZ0NhY2hlO1xuICAgICAgbnVsbCAhPT0gcGluZ0NhY2hlICYmIHBpbmdDYWNoZS5kZWxldGUod2FrZWFibGUpO1xuICAgICAgcm9vdC5waW5nZWRMYW5lcyB8PSByb290LnN1c3BlbmRlZExhbmVzICYgcGluZ2VkTGFuZXM7XG4gICAgICByb290Lndhcm1MYW5lcyAmPSB+cGluZ2VkTGFuZXM7XG4gICAgICBpc0NvbmN1cnJlbnRBY3RFbnZpcm9ubWVudCgpICYmXG4gICAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBIHN1c3BlbmRlZCByZXNvdXJjZSBmaW5pc2hlZCBsb2FkaW5nIGluc2lkZSBhIHRlc3QsIGJ1dCB0aGUgZXZlbnQgd2FzIG5vdCB3cmFwcGVkIGluIGFjdCguLi4pLlxcblxcbldoZW4gdGVzdGluZywgY29kZSB0aGF0IHJlc29sdmVzIHN1c3BlbmRlZCBkYXRhIHNob3VsZCBiZSB3cmFwcGVkIGludG8gYWN0KC4uLik6XFxuXFxuYWN0KCgpID0+IHtcXG4gIC8qIGZpbmlzaCBsb2FkaW5nIHN1c3BlbmRlZCBkYXRhICovXFxufSk7XFxuLyogYXNzZXJ0IG9uIHRoZSBvdXRwdXQgKi9cXG5cXG5UaGlzIGVuc3VyZXMgdGhhdCB5b3UncmUgdGVzdGluZyB0aGUgYmVoYXZpb3IgdGhlIHVzZXIgd291bGQgc2VlIGluIHRoZSBicm93c2VyLiBMZWFybiBtb3JlIGF0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd3JhcC10ZXN0cy13aXRoLWFjdFwiXG4gICAgICAgICk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPT09IHJvb3QgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgcGluZ2VkTGFuZXMpID09PSBwaW5nZWRMYW5lcyAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSB8fFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZCAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDYyOTE0NTYwKSA9PT1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgbm93JDEoKSAtIGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgPCBGQUxMQkFDS19USFJPVFRMRV9NUylcbiAgICAgICAgICA/IChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgPT09IE5vQ29udGV4dCAmJlxuICAgICAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgMClcbiAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc1Jvb3RQaW5nZWRMYW5lcyB8PSBwaW5nZWRMYW5lcyksXG4gICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9PT0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID0gMCkpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKSB7XG4gICAgICAwID09PSByZXRyeUxhbmUgJiYgKHJldHJ5TGFuZSA9IGNsYWltTmV4dFJldHJ5TGFuZSgpKTtcbiAgICAgIGJvdW5kYXJ5RmliZXIgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKTtcbiAgICAgIG51bGwgIT09IGJvdW5kYXJ5RmliZXIgJiZcbiAgICAgICAgKG1hcmtSb290VXBkYXRlZCQxKGJvdW5kYXJ5RmliZXIsIHJldHJ5TGFuZSksXG4gICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChib3VuZGFyeUZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5RGVoeWRyYXRlZFN1c3BlbnNlQm91bmRhcnkoYm91bmRhcnlGaWJlcikge1xuICAgICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBib3VuZGFyeUZpYmVyLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIHJldHJ5TGFuZSA9IDA7XG4gICAgICBudWxsICE9PSBzdXNwZW5zZVN0YXRlICYmIChyZXRyeUxhbmUgPSBzdXNwZW5zZVN0YXRlLnJldHJ5TGFuZSk7XG4gICAgICByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVJldHJ5V2FrZWFibGUoYm91bmRhcnlGaWJlciwgd2FrZWFibGUpIHtcbiAgICAgIHZhciByZXRyeUxhbmUgPSAwO1xuICAgICAgc3dpdGNoIChib3VuZGFyeUZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHZhciByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBib3VuZGFyeUZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbnVsbCAhPT0gc3VzcGVuc2VTdGF0ZSAmJiAocmV0cnlMYW5lID0gc3VzcGVuc2VTdGF0ZS5yZXRyeUxhbmUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHJ5Q2FjaGUgPSBib3VuZGFyeUZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGUuX3JldHJ5Q2FjaGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlBpbmdlZCB1bmtub3duIHN1c3BlbnNlIGJvdW5kYXJ5IHR5cGUuIFRoaXMgaXMgcHJvYmFibHkgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gcmV0cnlDYWNoZSAmJiByZXRyeUNhY2hlLmRlbGV0ZSh3YWtlYWJsZSk7XG4gICAgICByZXRyeVRpbWVkT3V0Qm91bmRhcnkoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihcbiAgICAgIHJvb3QkanNjb21wJDAsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGlzSW5TdHJpY3RNb2RlXG4gICAgKSB7XG4gICAgICBpZiAoMCAhPT0gKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDMzNTYyNjI0KSlcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKSB7XG4gICAgICAgICAgdmFyIHJvb3QgPSByb290JGpzY29tcCQwLFxuICAgICAgICAgICAgZmliZXIgPSBwYXJlbnRGaWJlcixcbiAgICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyID0gZmliZXIudHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbiAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlciA9IGlzSW5TdHJpY3RNb2RlIHx8IGlzU3RyaWN0TW9kZUZpYmVyO1xuICAgICAgICAgIDIyICE9PSBmaWJlci50YWdcbiAgICAgICAgICAgID8gZmliZXIuZmxhZ3MgJiAzMzU1NDQzMlxuICAgICAgICAgICAgICA/IGlzU3RyaWN0TW9kZUZpYmVyICYmXG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgIGRvdWJsZUludm9rZUVmZmVjdHNPbkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgKGZpYmVyLm1vZGUgJiBOb1N0cmljdFBhc3NpdmVFZmZlY3RzTW9kZSkgPT09IE5vTW9kZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlQW5kRG91YmxlSW52b2tlRWZmZWN0c0luREVWKFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgaXNTdHJpY3RNb2RlRmliZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IG51bGwgPT09IGZpYmVyLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgKGlzU3RyaWN0TW9kZUZpYmVyICYmIGZpYmVyLmZsYWdzICYgODE5MlxuICAgICAgICAgICAgICAgID8gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBkb3VibGVJbnZva2VFZmZlY3RzT25GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgZmliZXJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGZpYmVyLnN1YnRyZWVGbGFncyAmIDMzNTU0NDMyICYmXG4gICAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYsXG4gICAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlclxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgcGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRvdWJsZUludm9rZUVmZmVjdHNPbkZpYmVyKHJvb3QsIGZpYmVyKSB7XG4gICAgICB2YXIgc2hvdWxkRG91YmxlSW52b2tlUGFzc2l2ZUVmZmVjdHMgPVxuICAgICAgICAyIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1syXSA/IGFyZ3VtZW50c1syXSA6ICEwO1xuICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaWJlciksXG4gICAgICAgICAgc2hvdWxkRG91YmxlSW52b2tlUGFzc2l2ZUVmZmVjdHMgJiYgZGlzY29ubmVjdFBhc3NpdmVFZmZlY3QoZmliZXIpLFxuICAgICAgICAgIHJlYXBwZWFyTGF5b3V0RWZmZWN0cyhyb290LCBmaWJlci5hbHRlcm5hdGUsIGZpYmVyLCAhMSksXG4gICAgICAgICAgc2hvdWxkRG91YmxlSW52b2tlUGFzc2l2ZUVmZmVjdHMgJiZcbiAgICAgICAgICAgIHJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKHJvb3QsIGZpYmVyLCAwLCBudWxsLCAhMSk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihyb290KSB7XG4gICAgICB2YXIgZG91YmxlSW52b2tlRWZmZWN0cyA9ICEwO1xuICAgICAgcm9vdC5jdXJyZW50Lm1vZGUgJiAoU3RyaWN0TGVnYWN5TW9kZSB8IFN0cmljdEVmZmVjdHNNb2RlKSB8fFxuICAgICAgICAoZG91YmxlSW52b2tlRWZmZWN0cyA9ICExKTtcbiAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJvb3QuY3VycmVudCxcbiAgICAgICAgZG91YmxlSW52b2tlRWZmZWN0c1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkFib3V0VXBkYXRlT25Ob3RZZXRNb3VudGVkRmliZXJJbkRFVihmaWJlcikge1xuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgPT09IE5vQ29udGV4dCkge1xuICAgICAgICB2YXIgdGFnID0gZmliZXIudGFnO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgMyA9PT0gdGFnIHx8XG4gICAgICAgICAgMSA9PT0gdGFnIHx8XG4gICAgICAgICAgMCA9PT0gdGFnIHx8XG4gICAgICAgICAgMTEgPT09IHRhZyB8fFxuICAgICAgICAgIDE0ID09PSB0YWcgfHxcbiAgICAgICAgICAxNSA9PT0gdGFnXG4gICAgICAgICkge1xuICAgICAgICAgIHRhZyA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiUmVhY3RDb21wb25lbnRcIjtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudCkge1xuICAgICAgICAgICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQuaGFzKHRhZykpIHJldHVybjtcbiAgICAgICAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQuYWRkKHRhZyk7XG4gICAgICAgICAgfSBlbHNlIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQgPSBuZXcgU2V0KFt0YWddKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJDYW4ndCBwZXJmb3JtIGEgUmVhY3Qgc3RhdGUgdXBkYXRlIG9uIGEgY29tcG9uZW50IHRoYXQgaGFzbid0IG1vdW50ZWQgeWV0LiBUaGlzIGluZGljYXRlcyB0aGF0IHlvdSBoYXZlIGEgc2lkZS1lZmZlY3QgaW4geW91ciByZW5kZXIgZnVuY3Rpb24gdGhhdCBhc3luY2hyb25vdXNseSBsYXRlciBjYWxscyB0cmllcyB0byB1cGRhdGUgdGhlIGNvbXBvbmVudC4gTW92ZSB0aGlzIHdvcmsgdG8gdXNlRWZmZWN0IGluc3RlYWQuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCBsYW5lcykge1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiZcbiAgICAgICAgcm9vdC5tZW1vaXplZFVwZGF0ZXJzLmZvckVhY2goZnVuY3Rpb24gKHNjaGVkdWxpbmdGaWJlcikge1xuICAgICAgICAgIGFkZEZpYmVyVG9MYW5lc01hcChyb290LCBzY2hlZHVsaW5nRmliZXIsIGxhbmVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2skMShwcmlvcml0eUxldmVsLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGFjdFF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWU7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gYWN0UXVldWVcbiAgICAgICAgPyAoYWN0UXVldWUucHVzaChjYWxsYmFjayksIGZha2VBY3RDYWxsYmFja05vZGUkMSlcbiAgICAgICAgOiBzY2hlZHVsZUNhbGxiYWNrJDMocHJpb3JpdHlMZXZlbCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZVcGRhdGVzTm90V3JhcHBlZFdpdGhBY3RERVYoZmliZXIpIHtcbiAgICAgIGlzQ29uY3VycmVudEFjdEVudmlyb25tZW50KCkgJiZcbiAgICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJBbiB1cGRhdGUgdG8gJXMgaW5zaWRlIGEgdGVzdCB3YXMgbm90IHdyYXBwZWQgaW4gYWN0KC4uLikuXFxuXFxuV2hlbiB0ZXN0aW5nLCBjb2RlIHRoYXQgY2F1c2VzIFJlYWN0IHN0YXRlIHVwZGF0ZXMgc2hvdWxkIGJlIHdyYXBwZWQgaW50byBhY3QoLi4uKTpcXG5cXG5hY3QoKCkgPT4ge1xcbiAgLyogZmlyZSBldmVudHMgdGhhdCB1cGRhdGUgc3RhdGUgKi9cXG59KTtcXG4vKiBhc3NlcnQgb24gdGhlIG91dHB1dCAqL1xcblxcblRoaXMgZW5zdXJlcyB0aGF0IHlvdSdyZSB0ZXN0aW5nIHRoZSBiZWhhdmlvciB0aGUgdXNlciB3b3VsZCBzZWUgaW4gdGhlIGJyb3dzZXIuIExlYXJuIG1vcmUgYXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93cmFwLXRlc3RzLXdpdGgtYWN0XCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCkge1xuICAgICAgcm9vdCAhPT0gbGFzdFNjaGVkdWxlZFJvb3QgJiZcbiAgICAgICAgbnVsbCA9PT0gcm9vdC5uZXh0ICYmXG4gICAgICAgIChudWxsID09PSBsYXN0U2NoZWR1bGVkUm9vdFxuICAgICAgICAgID8gKGZpcnN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290ID0gcm9vdClcbiAgICAgICAgICA6IChsYXN0U2NoZWR1bGVkUm9vdCA9IGxhc3RTY2hlZHVsZWRSb290Lm5leHQgPSByb290KSk7XG4gICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPSAhMDtcbiAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlXG4gICAgICAgID8gZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0IHx8XG4gICAgICAgICAgKChkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgPSAhMCksXG4gICAgICAgICAgc2NoZWR1bGVJbW1lZGlhdGVUYXNrKHByb2Nlc3NSb290U2NoZWR1bGVJbk1pY3JvdGFzaykpXG4gICAgICAgIDogZGlkU2NoZWR1bGVNaWNyb3Rhc2sgfHxcbiAgICAgICAgICAoKGRpZFNjaGVkdWxlTWljcm90YXNrID0gITApLFxuICAgICAgICAgIHNjaGVkdWxlSW1tZWRpYXRlVGFzayhwcm9jZXNzUm9vdFNjaGVkdWxlSW5NaWNyb3Rhc2spKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoc3luY1RyYW5zaXRpb25MYW5lcywgb25seUxlZ2FjeSkge1xuICAgICAgaWYgKCFpc0ZsdXNoaW5nV29yayAmJiBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmspIHtcbiAgICAgICAgaXNGbHVzaGluZ1dvcmsgPSAhMDtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHZhciBkaWRQZXJmb3JtU29tZVdvcmsgPSAhMTtcbiAgICAgICAgICBmb3IgKHZhciByb290ID0gZmlyc3RTY2hlZHVsZWRSb290OyBudWxsICE9PSByb290OyApIHtcbiAgICAgICAgICAgIGlmICghb25seUxlZ2FjeSlcbiAgICAgICAgICAgICAgaWYgKDAgIT09IHN5bmNUcmFuc2l0aW9uTGFuZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGVuZGluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHBlbmRpbmdMYW5lcykgdmFyIG5leHRMYW5lcyA9IDA7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuZGVkTGFuZXMgPSByb290LnN1c3BlbmRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgICBwaW5nZWRMYW5lcyA9IHJvb3QucGluZ2VkTGFuZXM7XG4gICAgICAgICAgICAgICAgICBuZXh0TGFuZXMgPVxuICAgICAgICAgICAgICAgICAgICAoMSA8PCAoMzEgLSBjbHozMig0MiB8IHN5bmNUcmFuc2l0aW9uTGFuZXMpICsgMSkpIC0gMTtcbiAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyAmPSBwZW5kaW5nTGFuZXMgJiB+KHN1c3BlbmRlZExhbmVzICYgfnBpbmdlZExhbmVzKTtcbiAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyA9XG4gICAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyAmIDIwMTMyNjY3N1xuICAgICAgICAgICAgICAgICAgICAgID8gKG5leHRMYW5lcyAmIDIwMTMyNjY3NykgfCAxXG4gICAgICAgICAgICAgICAgICAgICAgOiBuZXh0TGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbmV4dExhbmVzIHwgMlxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAwICE9PSBuZXh0TGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICgoZGlkUGVyZm9ybVNvbWVXb3JrID0gITApLFxuICAgICAgICAgICAgICAgICAgcGVyZm9ybVN5bmNXb3JrT25Sb290KHJvb3QsIG5leHRMYW5lcykpO1xuICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgKG5leHRMYW5lcyA9IGdldE5leHRMYW5lcyhcbiAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ID8gbmV4dExhbmVzIDogMFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAwID09PSAobmV4dExhbmVzICYgMykgfHxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBuZXh0TGFuZXMpIHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkUGVyZm9ybVNvbWVXb3JrID0gITApLFxuICAgICAgICAgICAgICAgICAgICBwZXJmb3JtU3luY1dvcmtPblJvb3Qocm9vdCwgbmV4dExhbmVzKSk7XG4gICAgICAgICAgICByb290ID0gcm9vdC5uZXh0O1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoZGlkUGVyZm9ybVNvbWVXb3JrKTtcbiAgICAgICAgaXNGbHVzaGluZ1dvcmsgPSAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2Vzc1Jvb3RTY2hlZHVsZUluTWljcm90YXNrKCkge1xuICAgICAgbWlnaHRIYXZlUGVuZGluZ1N5bmNXb3JrID1cbiAgICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0ID1cbiAgICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2sgPVxuICAgICAgICAgICExO1xuICAgICAgdmFyIHN5bmNUcmFuc2l0aW9uTGFuZXMgPSAwO1xuICAgICAgMCAhPT0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgJiZcbiAgICAgICAgKHNob3VsZEF0dGVtcHRFYWdlclRyYW5zaXRpb24oKSAmJlxuICAgICAgICAgIChzeW5jVHJhbnNpdGlvbkxhbmVzID0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUpLFxuICAgICAgICAoY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgPSAwKSk7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBub3ckMSgpLCBwcmV2ID0gbnVsbCwgcm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDtcbiAgICAgICAgbnVsbCAhPT0gcm9vdDtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBuZXh0ID0gcm9vdC5uZXh0LFxuICAgICAgICAgIG5leHRMYW5lcyA9IHNjaGVkdWxlVGFza0ZvclJvb3REdXJpbmdNaWNyb3Rhc2socm9vdCwgY3VycmVudFRpbWUpO1xuICAgICAgICBpZiAoMCA9PT0gbmV4dExhbmVzKVxuICAgICAgICAgIChyb290Lm5leHQgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgPT09IHByZXYgPyAoZmlyc3RTY2hlZHVsZWRSb290ID0gbmV4dCkgOiAocHJldi5uZXh0ID0gbmV4dCksXG4gICAgICAgICAgICBudWxsID09PSBuZXh0ICYmIChsYXN0U2NoZWR1bGVkUm9vdCA9IHByZXYpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoKHByZXYgPSByb290KSwgMCAhPT0gc3luY1RyYW5zaXRpb25MYW5lcyB8fCAwICE9PSAobmV4dExhbmVzICYgMykpXG4gICAgICAgIClcbiAgICAgICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPSAhMDtcbiAgICAgICAgcm9vdCA9IG5leHQ7XG4gICAgICB9XG4gICAgICBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbChzeW5jVHJhbnNpdGlvbkxhbmVzLCAhMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlVGFza0ZvclJvb3REdXJpbmdNaWNyb3Rhc2socm9vdCwgY3VycmVudFRpbWUpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBzdXNwZW5kZWRMYW5lcyA9IHJvb3Quc3VzcGVuZGVkTGFuZXMsXG4gICAgICAgICAgcGluZ2VkTGFuZXMgPSByb290LnBpbmdlZExhbmVzLFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lcyA9IHJvb3QuZXhwaXJhdGlvblRpbWVzLFxuICAgICAgICAgIGxhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXMgJiAtNjI5MTQ1NjE7XG4gICAgICAgIDAgPCBsYW5lcztcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIobGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4LFxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lID0gZXhwaXJhdGlvblRpbWVzW2luZGV4XTtcbiAgICAgICAgaWYgKC0xID09PSBleHBpcmF0aW9uVGltZSkge1xuICAgICAgICAgIGlmICgwID09PSAobGFuZSAmIHN1c3BlbmRlZExhbmVzKSB8fCAwICE9PSAobGFuZSAmIHBpbmdlZExhbmVzKSlcbiAgICAgICAgICAgIGV4cGlyYXRpb25UaW1lc1tpbmRleF0gPSBjb21wdXRlRXhwaXJhdGlvblRpbWUobGFuZSwgY3VycmVudFRpbWUpO1xuICAgICAgICB9IGVsc2UgZXhwaXJhdGlvblRpbWUgPD0gY3VycmVudFRpbWUgJiYgKHJvb3QuZXhwaXJlZExhbmVzIHw9IGxhbmUpO1xuICAgICAgICBsYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRUaW1lID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgc3VzcGVuZGVkTGFuZXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcztcbiAgICAgIHN1c3BlbmRlZExhbmVzID0gZ2V0TmV4dExhbmVzKFxuICAgICAgICByb290LFxuICAgICAgICByb290ID09PSBjdXJyZW50VGltZSA/IHN1c3BlbmRlZExhbmVzIDogMFxuICAgICAgKTtcbiAgICAgIHBpbmdlZExhbmVzID0gcm9vdC5jYWxsYmFja05vZGU7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IHN1c3BlbmRlZExhbmVzIHx8XG4gICAgICAgIChyb290ID09PSBjdXJyZW50VGltZSAmJlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEpIHx8XG4gICAgICAgIG51bGwgIT09IHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdFxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIG51bGwgIT09IHBpbmdlZExhbmVzICYmIGNhbmNlbENhbGxiYWNrKHBpbmdlZExhbmVzKSxcbiAgICAgICAgICAocm9vdC5jYWxsYmFja05vZGUgPSBudWxsKSxcbiAgICAgICAgICAocm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgMCA9PT0gKHN1c3BlbmRlZExhbmVzICYgMykgfHxcbiAgICAgICAgY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBzdXNwZW5kZWRMYW5lcylcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50VGltZSA9IHN1c3BlbmRlZExhbmVzICYgLXN1c3BlbmRlZExhbmVzO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgY3VycmVudFRpbWUgIT09IHJvb3QuY2FsbGJhY2tQcmlvcml0eSB8fFxuICAgICAgICAgIChudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICAgICAgcGluZ2VkTGFuZXMgIT09IGZha2VBY3RDYWxsYmFja05vZGUpXG4gICAgICAgIClcbiAgICAgICAgICBjYW5jZWxDYWxsYmFjayhwaW5nZWRMYW5lcyk7XG4gICAgICAgIGVsc2UgcmV0dXJuIGN1cnJlbnRUaW1lO1xuICAgICAgICBzd2l0Y2ggKGxhbmVzVG9FdmVudFByaW9yaXR5KHN1c3BlbmRlZExhbmVzKSkge1xuICAgICAgICAgIGNhc2UgRGlzY3JldGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgIGNhc2UgQ29udGludW91c0V2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IFVzZXJCbG9ja2luZ1ByaW9yaXR5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBEZWZhdWx0RXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgSWRsZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IElkbGVQcmlvcml0eTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IE5vcm1hbFByaW9yaXR5JDE7XG4gICAgICAgIH1cbiAgICAgICAgcGluZ2VkTGFuZXMgPSBwZXJmb3JtV29ya09uUm9vdFZpYVNjaGVkdWxlclRhc2suYmluZChudWxsLCByb290KTtcbiAgICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWVcbiAgICAgICAgICA/IChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZS5wdXNoKHBpbmdlZExhbmVzKSxcbiAgICAgICAgICAgIChzdXNwZW5kZWRMYW5lcyA9IGZha2VBY3RDYWxsYmFja05vZGUpKVxuICAgICAgICAgIDogKHN1c3BlbmRlZExhbmVzID0gc2NoZWR1bGVDYWxsYmFjayQzKHN1c3BlbmRlZExhbmVzLCBwaW5nZWRMYW5lcykpO1xuICAgICAgICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSBjdXJyZW50VGltZTtcbiAgICAgICAgcm9vdC5jYWxsYmFja05vZGUgPSBzdXNwZW5kZWRMYW5lcztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gcGluZ2VkTGFuZXMgJiYgY2FuY2VsQ2FsbGJhY2socGluZ2VkTGFuZXMpO1xuICAgICAgcm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gMjtcbiAgICAgIHJvb3QuY2FsbGJhY2tOb2RlID0gbnVsbDtcbiAgICAgIHJldHVybiAyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtV29ya09uUm9vdFZpYVNjaGVkdWxlclRhc2socm9vdCwgZGlkVGltZW91dCkge1xuICAgICAgbmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gY3VycmVudFVwZGF0ZUlzTmVzdGVkID0gITE7XG4gICAgICB2YXIgb3JpZ2luYWxDYWxsYmFja05vZGUgPSByb290LmNhbGxiYWNrTm9kZTtcbiAgICAgIGlmIChmbHVzaFBhc3NpdmVFZmZlY3RzKCkgJiYgcm9vdC5jYWxsYmFja05vZGUgIT09IG9yaWdpbmFsQ2FsbGJhY2tOb2RlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIHZhciB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAgPSBnZXROZXh0TGFuZXMoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCA/IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwIDogMFxuICAgICAgKTtcbiAgICAgIGlmICgwID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCkgcmV0dXJuIG51bGw7XG4gICAgICBwZXJmb3JtV29ya09uUm9vdChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAsXG4gICAgICAgIGRpZFRpbWVvdXRcbiAgICAgICk7XG4gICAgICBzY2hlZHVsZVRhc2tGb3JSb290RHVyaW5nTWljcm90YXNrKHJvb3QsIG5vdyQxKCkpO1xuICAgICAgcmV0dXJuIG51bGwgIT0gcm9vdC5jYWxsYmFja05vZGUgJiZcbiAgICAgICAgcm9vdC5jYWxsYmFja05vZGUgPT09IG9yaWdpbmFsQ2FsbGJhY2tOb2RlXG4gICAgICAgID8gcGVyZm9ybVdvcmtPblJvb3RWaWFTY2hlZHVsZXJUYXNrLmJpbmQobnVsbCwgcm9vdClcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtU3luY1dvcmtPblJvb3Qocm9vdCwgbGFuZXMpIHtcbiAgICAgIGlmIChmbHVzaFBhc3NpdmVFZmZlY3RzKCkpIHJldHVybiBudWxsO1xuICAgICAgY3VycmVudFVwZGF0ZUlzTmVzdGVkID0gbmVzdGVkVXBkYXRlU2NoZWR1bGVkO1xuICAgICAgbmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gITE7XG4gICAgICBwZXJmb3JtV29ya09uUm9vdChyb290LCBsYW5lcywgITApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5jZWxDYWxsYmFjayhjYWxsYmFja05vZGUpIHtcbiAgICAgIGNhbGxiYWNrTm9kZSAhPT0gZmFrZUFjdENhbGxiYWNrTm9kZSAmJlxuICAgICAgICBudWxsICE9PSBjYWxsYmFja05vZGUgJiZcbiAgICAgICAgY2FuY2VsQ2FsbGJhY2skMShjYWxsYmFja05vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUltbWVkaWF0ZVRhc2soY2IpIHtcbiAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlLnB1c2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgc2NoZWR1bGVNaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHRcbiAgICAgICAgICA/IHNjaGVkdWxlQ2FsbGJhY2skMyhJbW1lZGlhdGVQcmlvcml0eSwgY2IpXG4gICAgICAgICAgOiBjYigpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpIHtcbiAgICAgIDAgPT09IGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lICYmXG4gICAgICAgIChjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSA9IGNsYWltTmV4dFRyYW5zaXRpb25MYW5lKCkpO1xuICAgICAgcmV0dXJuIGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2VyY2VGb3JtQWN0aW9uUHJvcChhY3Rpb25Qcm9wKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgPT0gYWN0aW9uUHJvcCB8fFxuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgYWN0aW9uUHJvcCB8fFxuICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIGFjdGlvblByb3BcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWN0aW9uUHJvcCkgcmV0dXJuIGFjdGlvblByb3A7XG4gICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKGFjdGlvblByb3AsIFwiYWN0aW9uXCIpO1xuICAgICAgcmV0dXJuIHNhbml0aXplVVJMKFwiXCIgKyBhY3Rpb25Qcm9wKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRm9ybURhdGFXaXRoU3VibWl0dGVyKGZvcm0sIHN1Ym1pdHRlcikge1xuICAgICAgdmFyIHRlbXAgPSBzdWJtaXR0ZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICB0ZW1wLm5hbWUgPSBzdWJtaXR0ZXIubmFtZTtcbiAgICAgIHRlbXAudmFsdWUgPSBzdWJtaXR0ZXIudmFsdWU7XG4gICAgICBmb3JtLmlkICYmIHRlbXAuc2V0QXR0cmlidXRlKFwiZm9ybVwiLCBmb3JtLmlkKTtcbiAgICAgIHN1Ym1pdHRlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0ZW1wLCBzdWJtaXR0ZXIpO1xuICAgICAgZm9ybSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcbiAgICAgIHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZW1wKTtcbiAgICAgIHJldHVybiBmb3JtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBleHRyYWN0RXZlbnRzJDEoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgbWF5YmVUYXJnZXRJbnN0LFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBcInN1Ym1pdFwiID09PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgbWF5YmVUYXJnZXRJbnN0ICYmXG4gICAgICAgIG1heWJlVGFyZ2V0SW5zdC5zdGF0ZU5vZGUgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IGNvZXJjZUZvcm1BY3Rpb25Qcm9wKFxuICAgICAgICAgICAgKG5hdGl2ZUV2ZW50VGFyZ2V0W2ludGVybmFsUHJvcHNLZXldIHx8IG51bGwpLmFjdGlvblxuICAgICAgICAgICksXG4gICAgICAgICAgc3VibWl0dGVyID0gbmF0aXZlRXZlbnQuc3VibWl0dGVyO1xuICAgICAgICBzdWJtaXR0ZXIgJiZcbiAgICAgICAgICAoKGRvbUV2ZW50TmFtZSA9IChkb21FdmVudE5hbWUgPSBzdWJtaXR0ZXJbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbClcbiAgICAgICAgICAgID8gY29lcmNlRm9ybUFjdGlvblByb3AoZG9tRXZlbnROYW1lLmZvcm1BY3Rpb24pXG4gICAgICAgICAgICA6IHN1Ym1pdHRlci5nZXRBdHRyaWJ1dGUoXCJmb3JtQWN0aW9uXCIpKSxcbiAgICAgICAgICBudWxsICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgICgoYWN0aW9uID0gZG9tRXZlbnROYW1lKSwgKHN1Ym1pdHRlciA9IG51bGwpKSk7XG4gICAgICAgIHZhciBldmVudCA9IG5ldyBTeW50aGV0aWNFdmVudChcbiAgICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICApO1xuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICBsaXN0ZW5lcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgIGxpc3RlbmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgwICE9PSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybURhdGEgPSBzdWJtaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlRm9ybURhdGFXaXRoU3VibWl0dGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBGb3JtRGF0YShuYXRpdmVFdmVudFRhcmdldCksXG4gICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZzogITAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbmF0aXZlRXZlbnRUYXJnZXQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHBlbmRpbmdTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SG9zdFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgbWF5YmVUYXJnZXRJbnN0LFxuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgKGV2ZW50LnByZXZlbnREZWZhdWx0KCksXG4gICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSA9IHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgID8gY3JlYXRlRm9ybURhdGFXaXRoU3VibWl0dGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRm9ybURhdGEobmF0aXZlRXZlbnRUYXJnZXQpKSxcbiAgICAgICAgICAgICAgICAgICAgKHBlbmRpbmdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvblxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShwZW5kaW5nU3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICBzdGFydEhvc3RUcmFuc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgIG1heWJlVGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NEaXNwYXRjaFF1ZXVlKGRpc3BhdGNoUXVldWUsIGV2ZW50U3lzdGVtRmxhZ3MpIHtcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MgPSAwICE9PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDQpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXNwYXRjaFF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBfZGlzcGF0Y2hRdWV1ZSRpID0gZGlzcGF0Y2hRdWV1ZVtpXTtcbiAgICAgICAgYToge1xuICAgICAgICAgIHZhciBwcmV2aW91c0luc3RhbmNlID0gdm9pZCAwLFxuICAgICAgICAgICAgZXZlbnQgPSBfZGlzcGF0Y2hRdWV1ZSRpLmV2ZW50O1xuICAgICAgICAgIF9kaXNwYXRjaFF1ZXVlJGkgPSBfZGlzcGF0Y2hRdWV1ZSRpLmxpc3RlbmVycztcbiAgICAgICAgICBpZiAoZXZlbnRTeXN0ZW1GbGFncylcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIHZhciBpJGpzY29tcCQwID0gX2Rpc3BhdGNoUXVldWUkaS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAwIDw9IGkkanNjb21wJDA7XG4gICAgICAgICAgICAgIGkkanNjb21wJDAtLVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaFF1ZXVlJGlbaSRqc2NvbXAkMF0sXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5pbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5saXN0ZW5lcjtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBwcmV2aW91c0luc3RhbmNlICYmIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpXG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZSA9IGV2ZW50O1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpKHByZXZpb3VzSW5zdGFuY2UpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMCA9IDA7XG4gICAgICAgICAgICAgIGkkanNjb21wJDAgPCBfZGlzcGF0Y2hRdWV1ZSRpLmxlbmd0aDtcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMCsrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hRdWV1ZSRpW2kkanNjb21wJDBdO1xuICAgICAgICAgICAgICBpbnN0YW5jZSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmluc3RhbmNlO1xuICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5saXN0ZW5lcjtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlICE9PSBwcmV2aW91c0luc3RhbmNlICYmIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpXG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZSA9IGV2ZW50O1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpKHByZXZpb3VzSW5zdGFuY2UpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChkb21FdmVudE5hbWUsIHRhcmdldEVsZW1lbnQpIHtcbiAgICAgIG5vbkRlbGVnYXRlZEV2ZW50cy5oYXMoZG9tRXZlbnROYW1lKSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBhIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoKSBjYWxsIGZvciBcIiVzXCIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicsXG4gICAgICAgICAgZG9tRXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICB2YXIgbGlzdGVuZXJTZXQgPSB0YXJnZXRFbGVtZW50W2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV07XG4gICAgICB2b2lkIDAgPT09IGxpc3RlbmVyU2V0ICYmXG4gICAgICAgIChsaXN0ZW5lclNldCA9IHRhcmdldEVsZW1lbnRbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XSA9IG5ldyBTZXQoKSk7XG4gICAgICB2YXIgbGlzdGVuZXJTZXRLZXkgPSBkb21FdmVudE5hbWUgKyBcIl9fYnViYmxlXCI7XG4gICAgICBsaXN0ZW5lclNldC5oYXMobGlzdGVuZXJTZXRLZXkpIHx8XG4gICAgICAgIChhZGRUcmFwcGVkRXZlbnRMaXN0ZW5lcih0YXJnZXRFbGVtZW50LCBkb21FdmVudE5hbWUsIDIsICExKSxcbiAgICAgICAgbGlzdGVuZXJTZXQuYWRkKGxpc3RlbmVyU2V0S2V5KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RlblRvTmF0aXZlRXZlbnQoZG9tRXZlbnROYW1lLCBpc0NhcHR1cmVQaGFzZUxpc3RlbmVyLCB0YXJnZXQpIHtcbiAgICAgIG5vbkRlbGVnYXRlZEV2ZW50cy5oYXMoZG9tRXZlbnROYW1lKSAmJlxuICAgICAgICAhaXNDYXB0dXJlUGhhc2VMaXN0ZW5lciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdEaWQgbm90IGV4cGVjdCBhIGxpc3RlblRvTmF0aXZlRXZlbnQoKSBjYWxsIGZvciBcIiVzXCIgaW4gdGhlIGJ1YmJsZSBwaGFzZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyxcbiAgICAgICAgICBkb21FdmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIHZhciBldmVudFN5c3RlbUZsYWdzID0gMDtcbiAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXIgJiYgKGV2ZW50U3lzdGVtRmxhZ3MgfD0gNCk7XG4gICAgICBhZGRUcmFwcGVkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RlblRvQWxsU3VwcG9ydGVkRXZlbnRzKHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gICAgICBpZiAoIXJvb3RDb250YWluZXJFbGVtZW50W2xpc3RlbmluZ01hcmtlcl0pIHtcbiAgICAgICAgcm9vdENvbnRhaW5lckVsZW1lbnRbbGlzdGVuaW5nTWFya2VyXSA9ICEwO1xuICAgICAgICBhbGxOYXRpdmVFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgXCJzZWxlY3Rpb25jaGFuZ2VcIiAhPT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgICAobm9uRGVsZWdhdGVkRXZlbnRzLmhhcyhkb21FdmVudE5hbWUpIHx8XG4gICAgICAgICAgICAgIGxpc3RlblRvTmF0aXZlRXZlbnQoZG9tRXZlbnROYW1lLCAhMSwgcm9vdENvbnRhaW5lckVsZW1lbnQpLFxuICAgICAgICAgICAgbGlzdGVuVG9OYXRpdmVFdmVudChkb21FdmVudE5hbWUsICEwLCByb290Q29udGFpbmVyRWxlbWVudCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPVxuICAgICAgICAgIDkgPT09IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlXG4gICAgICAgICAgICA/IHJvb3RDb250YWluZXJFbGVtZW50XG4gICAgICAgICAgICA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIG51bGwgPT09IG93bmVyRG9jdW1lbnQgfHxcbiAgICAgICAgICBvd25lckRvY3VtZW50W2xpc3RlbmluZ01hcmtlcl0gfHxcbiAgICAgICAgICAoKG93bmVyRG9jdW1lbnRbbGlzdGVuaW5nTWFya2VyXSA9ICEwKSxcbiAgICAgICAgICBsaXN0ZW5Ub05hdGl2ZUV2ZW50KFwic2VsZWN0aW9uY2hhbmdlXCIsICExLCBvd25lckRvY3VtZW50KSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZFRyYXBwZWRFdmVudExpc3RlbmVyKFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXJcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoZ2V0RXZlbnRQcmlvcml0eShkb21FdmVudE5hbWUpKSB7XG4gICAgICAgIGNhc2UgRGlzY3JldGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgIHZhciBsaXN0ZW5lcldyYXBwZXIgPSBkaXNwYXRjaERpc2NyZXRlRXZlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ29udGludW91c0V2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgbGlzdGVuZXJXcmFwcGVyID0gZGlzcGF0Y2hDb250aW51b3VzRXZlbnQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbGlzdGVuZXJXcmFwcGVyID0gZGlzcGF0Y2hFdmVudDtcbiAgICAgIH1cbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MgPSBsaXN0ZW5lcldyYXBwZXIuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICB0YXJnZXRDb250YWluZXJcbiAgICAgICk7XG4gICAgICBsaXN0ZW5lcldyYXBwZXIgPSB2b2lkIDA7XG4gICAgICAhcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgfHxcbiAgICAgICAgKFwidG91Y2hzdGFydFwiICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICBcInRvdWNobW92ZVwiICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICBcIndoZWVsXCIgIT09IGRvbUV2ZW50TmFtZSkgfHxcbiAgICAgICAgKGxpc3RlbmVyV3JhcHBlciA9ICEwKTtcbiAgICAgIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXJcbiAgICAgICAgPyB2b2lkIDAgIT09IGxpc3RlbmVyV3JhcHBlclxuICAgICAgICAgID8gdGFyZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCB7XG4gICAgICAgICAgICAgIGNhcHR1cmU6ICEwLFxuICAgICAgICAgICAgICBwYXNzaXZlOiBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsICEwKVxuICAgICAgICA6IHZvaWQgMCAhPT0gbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgPyB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIHtcbiAgICAgICAgICAgICAgcGFzc2l2ZTogbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdGFyZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIHRhcmdldEluc3QkanNjb21wJDAsXG4gICAgICB0YXJnZXRDb250YWluZXJcbiAgICApIHtcbiAgICAgIHZhciBhbmNlc3Rvckluc3QgPSB0YXJnZXRJbnN0JGpzY29tcCQwO1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDEpICYmXG4gICAgICAgIDAgPT09IChldmVudFN5c3RlbUZsYWdzICYgMikgJiZcbiAgICAgICAgbnVsbCAhPT0gdGFyZ2V0SW5zdCRqc2NvbXAkMFxuICAgICAgKVxuICAgICAgICBhOiBmb3IgKDs7KSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHRhcmdldEluc3QkanNjb21wJDApIHJldHVybjtcbiAgICAgICAgICB2YXIgbm9kZVRhZyA9IHRhcmdldEluc3QkanNjb21wJDAudGFnO1xuICAgICAgICAgIGlmICgzID09PSBub2RlVGFnIHx8IDQgPT09IG5vZGVUYWcpIHtcbiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb250YWluZXIgPT09IHRhcmdldENvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAoOCA9PT0gY29udGFpbmVyLm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUgPT09IHRhcmdldENvbnRhaW5lcilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAoNCA9PT0gbm9kZVRhZylcbiAgICAgICAgICAgICAgZm9yIChub2RlVGFnID0gdGFyZ2V0SW5zdCRqc2NvbXAkMC5yZXR1cm47IG51bGwgIT09IG5vZGVUYWc7ICkge1xuICAgICAgICAgICAgICAgIHZhciBncmFuZFRhZyA9IG5vZGVUYWcudGFnO1xuICAgICAgICAgICAgICAgIGlmICgzID09PSBncmFuZFRhZyB8fCA0ID09PSBncmFuZFRhZylcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKChncmFuZFRhZyA9IG5vZGVUYWcuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLFxuICAgICAgICAgICAgICAgICAgICBncmFuZFRhZyA9PT0gdGFyZ2V0Q29udGFpbmVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKDggPT09IGdyYW5kVGFnLm5vZGVUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBncmFuZFRhZy5wYXJlbnROb2RlID09PSB0YXJnZXRDb250YWluZXIpKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgbm9kZVRhZyA9IG5vZGVUYWcucmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKDsgbnVsbCAhPT0gY29udGFpbmVyOyApIHtcbiAgICAgICAgICAgICAgbm9kZVRhZyA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBub2RlVGFnKSByZXR1cm47XG4gICAgICAgICAgICAgIGdyYW5kVGFnID0gbm9kZVRhZy50YWc7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICA1ID09PSBncmFuZFRhZyB8fFxuICAgICAgICAgICAgICAgIDYgPT09IGdyYW5kVGFnIHx8XG4gICAgICAgICAgICAgICAgMjYgPT09IGdyYW5kVGFnIHx8XG4gICAgICAgICAgICAgICAgMjcgPT09IGdyYW5kVGFnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRhcmdldEluc3QkanNjb21wJDAgPSBhbmNlc3Rvckluc3QgPSBub2RlVGFnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29udGFpbmVyID0gY29udGFpbmVyLnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhcmdldEluc3QkanNjb21wJDAgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgYmF0Y2hlZFVwZGF0ZXMkMShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB0YXJnZXRJbnN0ID0gYW5jZXN0b3JJbnN0LFxuICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpLFxuICAgICAgICAgIGRpc3BhdGNoUXVldWUgPSBbXTtcbiAgICAgICAgYToge1xuICAgICAgICAgIHZhciByZWFjdE5hbWUgPSB0b3BMZXZlbEV2ZW50c1RvUmVhY3ROYW1lcy5nZXQoZG9tRXZlbnROYW1lKTtcbiAgICAgICAgICBpZiAodm9pZCAwICE9PSByZWFjdE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNFdmVudCxcbiAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0tleWJvYXJkRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBcImZvY3VzXCI7XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBcImJsdXJcIjtcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYmVmb3JlYmx1clwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYWZ0ZXJibHVyXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNsaWNrXCI6XG4gICAgICAgICAgICAgICAgaWYgKDIgPT09IG5hdGl2ZUV2ZW50LmJ1dHRvbikgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBcImF1eGNsaWNrXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkYmxjbGlja1wiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZW1vdmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNldXBcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlb3V0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImNvbnRleHRtZW51XCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2V4aXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdsZWF2ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ292ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0RyYWdFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNoY2FuY2VsXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaGVuZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwidG91Y2htb3ZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaHN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVG91Y2hFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBBTklNQVRJT05fRU5EOlxuICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9JVEVSQVRJT046XG4gICAgICAgICAgICAgIGNhc2UgQU5JTUFUSU9OX1NUQVJUOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFRSQU5TSVRJT05fRU5EOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsZW5kXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVUlFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIndoZWVsXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljV2hlZWxFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImNvcHlcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImN1dFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicGFzdGVcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNDbGlwYm9hcmRFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJsb3N0cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJjYW5jZWxcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJkb3duXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVybW92ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1BvaW50ZXJFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInRvZ2dsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYmVmb3JldG9nZ2xlXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVG9nZ2xlRXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5DYXB0dXJlUGhhc2UgPSAwICE9PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDQpLFxuICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSA9XG4gICAgICAgICAgICAgICAgIWluQ2FwdHVyZVBoYXNlICYmXG4gICAgICAgICAgICAgICAgKFwic2Nyb2xsXCIgPT09IGRvbUV2ZW50TmFtZSB8fCBcInNjcm9sbGVuZFwiID09PSBkb21FdmVudE5hbWUpLFxuICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSA9IGluQ2FwdHVyZVBoYXNlXG4gICAgICAgICAgICAgICAgPyBudWxsICE9PSByZWFjdE5hbWVcbiAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lICsgXCJDYXB0dXJlXCJcbiAgICAgICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICAgICAgIDogcmVhY3ROYW1lO1xuICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBbXTtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRhcmdldEluc3QsIGxhc3RIb3N0Q29tcG9uZW50O1xuICAgICAgICAgICAgICBudWxsICE9PSBpbnN0YW5jZTtcblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBfaW5zdGFuY2UyID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gX2luc3RhbmNlMi5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBfaW5zdGFuY2UyLnRhZztcbiAgICAgICAgICAgICAgKDUgIT09IF9pbnN0YW5jZTIgJiYgMjYgIT09IF9pbnN0YW5jZTIgJiYgMjcgIT09IF9pbnN0YW5jZTIpIHx8XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gbGFzdEhvc3RDb21wb25lbnQgfHxcbiAgICAgICAgICAgICAgICBudWxsID09PSByZWFjdEV2ZW50TmFtZSB8fFxuICAgICAgICAgICAgICAgICgoX2luc3RhbmNlMiA9IGdldExpc3RlbmVyKGluc3RhbmNlLCByZWFjdEV2ZW50TmFtZSkpLFxuICAgICAgICAgICAgICAgIG51bGwgIT0gX2luc3RhbmNlMiAmJlxuICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UucHVzaChcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICBpZiAoYWNjdW11bGF0ZVRhcmdldE9ubHkpIGJyZWFrO1xuICAgICAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDAgPCBpbkNhcHR1cmVQaGFzZS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgKChyZWFjdE5hbWUgPSBuZXcgU3ludGhldGljRXZlbnRDdG9yKFxuICAgICAgICAgICAgICAgIHJlYWN0TmFtZSxcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2ZW50OiByZWFjdE5hbWUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBpbkNhcHR1cmVQaGFzZVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgwID09PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDcpKSB7XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgcmVhY3ROYW1lID1cbiAgICAgICAgICAgICAgXCJtb3VzZW92ZXJcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwicG9pbnRlcm92ZXJcIiA9PT0gZG9tRXZlbnROYW1lO1xuICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID1cbiAgICAgICAgICAgICAgXCJtb3VzZW91dFwiID09PSBkb21FdmVudE5hbWUgfHwgXCJwb2ludGVyb3V0XCIgPT09IGRvbUV2ZW50TmFtZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcmVhY3ROYW1lICYmXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50ICE9PSBjdXJyZW50UmVwbGF5aW5nRXZlbnQgJiZcbiAgICAgICAgICAgICAgKHJlYWN0RXZlbnRUeXBlID1cbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LmZyb21FbGVtZW50KSAmJlxuICAgICAgICAgICAgICAoZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocmVhY3RFdmVudFR5cGUpIHx8XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGVbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yIHx8IHJlYWN0TmFtZSkge1xuICAgICAgICAgICAgICByZWFjdE5hbWUgPVxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICAgID8gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICAgIDogKHJlYWN0TmFtZSA9IG5hdGl2ZUV2ZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQpXG4gICAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lLmRlZmF1bHRWaWV3IHx8IHJlYWN0TmFtZS5wYXJlbnRXaW5kb3dcbiAgICAgICAgICAgICAgICAgICAgOiB3aW5kb3c7XG4gICAgICAgICAgICAgIGlmIChTeW50aGV0aWNFdmVudEN0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAoKHJlYWN0RXZlbnRUeXBlID1cbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldCB8fCBuYXRpdmVFdmVudC50b0VsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgKFN5bnRoZXRpY0V2ZW50Q3RvciA9IHRhcmdldEluc3QpLFxuICAgICAgICAgICAgICAgICAgKHJlYWN0RXZlbnRUeXBlID0gcmVhY3RFdmVudFR5cGVcbiAgICAgICAgICAgICAgICAgICAgPyBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWFjdEV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJlYWN0RXZlbnRUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgICgoYWNjdW11bGF0ZVRhcmdldE9ubHkgPVxuICAgICAgICAgICAgICAgICAgICAgIGdldE5lYXJlc3RNb3VudGVkRmliZXIocmVhY3RFdmVudFR5cGUpKSxcbiAgICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlID0gcmVhY3RFdmVudFR5cGUudGFnKSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgIT09IGFjY3VtdWxhdGVUYXJnZXRPbmx5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgKDUgIT09IGluQ2FwdHVyZVBoYXNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAyNyAhPT0gaW5DYXB0dXJlUGhhc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDYgIT09IGluQ2FwdHVyZVBoYXNlKSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICB9IGVsc2UgKFN5bnRoZXRpY0V2ZW50Q3RvciA9IG51bGwpLCAocmVhY3RFdmVudFR5cGUgPSB0YXJnZXRJbnN0KTtcbiAgICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3RvciAhPT0gcmVhY3RFdmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IFN5bnRoZXRpY01vdXNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IFwib25Nb3VzZUxlYXZlXCI7XG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSBcIm9uTW91c2VFbnRlclwiO1xuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gXCJtb3VzZVwiO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIFwicG9pbnRlcm91dFwiID09PSBkb21FdmVudE5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIFwicG9pbnRlcm92ZXJcIiA9PT0gZG9tRXZlbnROYW1lXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlID0gU3ludGhldGljUG9pbnRlckV2ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgKF9pbnN0YW5jZTIgPSBcIm9uUG9pbnRlckxlYXZlXCIpLFxuICAgICAgICAgICAgICAgICAgICAocmVhY3RFdmVudE5hbWUgPSBcIm9uUG9pbnRlckVudGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICAoaW5zdGFuY2UgPSBcInBvaW50ZXJcIik7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZVRhcmdldE9ubHkgPVxuICAgICAgICAgICAgICAgICAgbnVsbCA9PSBTeW50aGV0aWNFdmVudEN0b3JcbiAgICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiBnZXROb2RlRnJvbUluc3RhbmNlKFN5bnRoZXRpY0V2ZW50Q3Rvcik7XG4gICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPVxuICAgICAgICAgICAgICAgICAgbnVsbCA9PSByZWFjdEV2ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICA/IHJlYWN0TmFtZVxuICAgICAgICAgICAgICAgICAgICA6IGdldE5vZGVGcm9tSW5zdGFuY2UocmVhY3RFdmVudFR5cGUpO1xuICAgICAgICAgICAgICAgIHJlYWN0TmFtZSA9IG5ldyBpbkNhcHR1cmVQaGFzZShcbiAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIsXG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSArIFwibGVhdmVcIixcbiAgICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvcixcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJlYWN0TmFtZS50YXJnZXQgPSBhY2N1bXVsYXRlVGFyZ2V0T25seTtcbiAgICAgICAgICAgICAgICByZWFjdE5hbWUucmVsYXRlZFRhcmdldCA9IGxhc3RIb3N0Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKG5hdGl2ZUV2ZW50VGFyZ2V0KSA9PT0gdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgICAgICAgKChpbkNhcHR1cmVQaGFzZSA9IG5ldyBpbkNhcHR1cmVQaGFzZShcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlICsgXCJlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZS50YXJnZXQgPSBsYXN0SG9zdENvbXBvbmVudCksXG4gICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UucmVsYXRlZFRhcmdldCA9IGFjY3VtdWxhdGVUYXJnZXRPbmx5KSxcbiAgICAgICAgICAgICAgICAgIChfaW5zdGFuY2UyID0gaW5DYXB0dXJlUGhhc2UpKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSA9IF9pbnN0YW5jZTI7XG4gICAgICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3RvciAmJiByZWFjdEV2ZW50VHlwZSlcbiAgICAgICAgICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBTeW50aGV0aWNFdmVudEN0b3I7XG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gcmVhY3RFdmVudFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9IGluQ2FwdHVyZVBoYXNlO1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50O1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gZ2V0UGFyZW50KGxhc3RIb3N0Q29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UrKztcbiAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSByZWFjdEV2ZW50TmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyO1xuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBnZXRQYXJlbnQoX2luc3RhbmNlMilcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50Kys7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyAwIDwgaW5zdGFuY2UgLSBsYXN0SG9zdENvbXBvbmVudDsgKVxuICAgICAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZSA9IGdldFBhcmVudChpbkNhcHR1cmVQaGFzZSkpLCBpbnN0YW5jZS0tO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgMCA8IGxhc3RIb3N0Q29tcG9uZW50IC0gaW5zdGFuY2U7IClcbiAgICAgICAgICAgICAgICAgICAgICAocmVhY3RFdmVudE5hbWUgPSBnZXRQYXJlbnQocmVhY3RFdmVudE5hbWUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50LS07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyBpbnN0YW5jZS0tOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9PT0gcmVhY3RFdmVudE5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChudWxsICE9PSByZWFjdEV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9PT0gcmVhY3RFdmVudE5hbWUuYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBnZXRQYXJlbnQoaW5DYXB0dXJlUGhhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gZ2V0UGFyZW50KHJlYWN0RXZlbnROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpbkNhcHR1cmVQaGFzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gU3ludGhldGljRXZlbnRDdG9yICYmXG4gICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlRW50ZXJMZWF2ZUxpc3RlbmVyc0ZvckV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICByZWFjdE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvcixcbiAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UsXG4gICAgICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIG51bGwgIT09IHJlYWN0RXZlbnRUeXBlICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBhY2N1bXVsYXRlVGFyZ2V0T25seSAmJlxuICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZUVudGVyTGVhdmVMaXN0ZW5lcnNGb3JFdmVudChcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZVRhcmdldE9ubHksXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgcmVhY3ROYW1lID0gdGFyZ2V0SW5zdCA/IGdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCkgOiB3aW5kb3c7XG4gICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPVxuICAgICAgICAgICAgICByZWFjdE5hbWUubm9kZU5hbWUgJiYgcmVhY3ROYW1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwic2VsZWN0XCIgPT09IFN5bnRoZXRpY0V2ZW50Q3RvciB8fFxuICAgICAgICAgICAgICAoXCJpbnB1dFwiID09PSBTeW50aGV0aWNFdmVudEN0b3IgJiYgXCJmaWxlXCIgPT09IHJlYWN0TmFtZS50eXBlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB2YXIgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQ7XG4gICAgICAgICAgICBlbHNlIGlmIChpc1RleHRJbnB1dEVsZW1lbnQocmVhY3ROYW1lKSlcbiAgICAgICAgICAgICAgaWYgKGlzSW5wdXRFdmVudFN1cHBvcnRlZClcbiAgICAgICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dE9yQ2hhbmdlRXZlbnQ7XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbDtcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlRXZlbnRGdW5jID0gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIChTeW50aGV0aWNFdmVudEN0b3IgPSByZWFjdE5hbWUubm9kZU5hbWUpLFxuICAgICAgICAgICAgICAgICFTeW50aGV0aWNFdmVudEN0b3IgfHxcbiAgICAgICAgICAgICAgICBcImlucHV0XCIgIT09IFN5bnRoZXRpY0V2ZW50Q3Rvci50b0xvd2VyQ2FzZSgpIHx8XG4gICAgICAgICAgICAgICAgKFwiY2hlY2tib3hcIiAhPT0gcmVhY3ROYW1lLnR5cGUgJiYgXCJyYWRpb1wiICE9PSByZWFjdE5hbWUudHlwZSlcbiAgICAgICAgICAgICAgICAgID8gdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgICAgICAgICBpc0N1c3RvbUVsZW1lbnQodGFyZ2V0SW5zdC5lbGVtZW50VHlwZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgKGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50KVxuICAgICAgICAgICAgICAgICAgOiAoZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jICYmXG4gICAgICAgICAgICAgIChnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGdW5jKGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyAmJlxuICAgICAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMoZG9tRXZlbnROYW1lLCByZWFjdE5hbWUsIHRhcmdldEluc3QpO1xuICAgICAgICAgICAgXCJmb2N1c291dFwiID09PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgICBcIm51bWJlclwiID09PSByZWFjdE5hbWUudHlwZSAmJlxuICAgICAgICAgICAgICBudWxsICE9IHRhcmdldEluc3QubWVtb2l6ZWRQcm9wcy52YWx1ZSAmJlxuICAgICAgICAgICAgICBzZXREZWZhdWx0VmFsdWUocmVhY3ROYW1lLCBcIm51bWJlclwiLCByZWFjdE5hbWUudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMgPSB0YXJnZXRJbnN0XG4gICAgICAgICAgICA/IGdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdClcbiAgICAgICAgICAgIDogd2luZG93O1xuICAgICAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgaXNUZXh0SW5wdXRFbGVtZW50KGhhbmRsZUV2ZW50RnVuYykgfHxcbiAgICAgICAgICAgICAgICBcInRydWVcIiA9PT0gaGFuZGxlRXZlbnRGdW5jLmNvbnRlbnRFZGl0YWJsZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKGFjdGl2ZUVsZW1lbnQgPSBoYW5kbGVFdmVudEZ1bmMpLFxuICAgICAgICAgICAgICAgICAgKGFjdGl2ZUVsZW1lbnRJbnN0ID0gdGFyZ2V0SW5zdCksXG4gICAgICAgICAgICAgICAgICAobGFzdFNlbGVjdGlvbiA9IG51bGwpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgICAgICBsYXN0U2VsZWN0aW9uID0gYWN0aXZlRWxlbWVudEluc3QgPSBhY3RpdmVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgICAgICAgIG1vdXNlRG93biA9ICEwO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJjb250ZXh0bWVudVwiOlxuICAgICAgICAgICAgY2FzZSBcIm1vdXNldXBcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgICAgICAgIG1vdXNlRG93biA9ICExO1xuICAgICAgICAgICAgICBjb25zdHJ1Y3RTZWxlY3RFdmVudChcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNlbGVjdGlvbmNoYW5nZVwiOlxuICAgICAgICAgICAgICBpZiAoc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50KSBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgICAgICBjYXNlIFwia2V5dXBcIjpcbiAgICAgICAgICAgICAgY29uc3RydWN0U2VsZWN0RXZlbnQoXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZmFsbGJhY2tEYXRhO1xuICAgICAgICAgIGlmIChjYW5Vc2VDb21wb3NpdGlvbkV2ZW50KVxuICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICB2YXIgZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uU3RhcnRcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25FbmRcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XG4gICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25VcGRhdGVcIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZXZlbnRUeXBlID0gdm9pZCAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGlzQ29tcG9zaW5nXG4gICAgICAgICAgICAgID8gaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvbkVuZFwiKVxuICAgICAgICAgICAgICA6IFwia2V5ZG93blwiID09PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudC5rZXlDb2RlID09PSBTVEFSVF9LRVlDT0RFICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvblN0YXJ0XCIpO1xuICAgICAgICAgIGV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgKHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhICYmXG4gICAgICAgICAgICAgIFwia29cIiAhPT0gbmF0aXZlRXZlbnQubG9jYWxlICYmXG4gICAgICAgICAgICAgIChpc0NvbXBvc2luZyB8fCBcIm9uQ29tcG9zaXRpb25TdGFydFwiICE9PSBldmVudFR5cGVcbiAgICAgICAgICAgICAgICA/IFwib25Db21wb3NpdGlvbkVuZFwiID09PSBldmVudFR5cGUgJiZcbiAgICAgICAgICAgICAgICAgIGlzQ29tcG9zaW5nICYmXG4gICAgICAgICAgICAgICAgICAoZmFsbGJhY2tEYXRhID0gZ2V0RGF0YSgpKVxuICAgICAgICAgICAgICAgIDogKChyb290ID0gbmF0aXZlRXZlbnRUYXJnZXQpLFxuICAgICAgICAgICAgICAgICAgKHN0YXJ0VGV4dCA9IFwidmFsdWVcIiBpbiByb290ID8gcm9vdC52YWx1ZSA6IHJvb3QudGV4dENvbnRlbnQpLFxuICAgICAgICAgICAgICAgICAgKGlzQ29tcG9zaW5nID0gITApKSksXG4gICAgICAgICAgICAoaGFuZGxlRXZlbnRGdW5jID0gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKFxuICAgICAgICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICAgICAgICBldmVudFR5cGVcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgMCA8IGhhbmRsZUV2ZW50RnVuYy5sZW5ndGggJiZcbiAgICAgICAgICAgICAgKChldmVudFR5cGUgPSBuZXcgU3ludGhldGljQ29tcG9zaXRpb25FdmVudChcbiAgICAgICAgICAgICAgICBldmVudFR5cGUsXG4gICAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGhhbmRsZUV2ZW50RnVuY1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgZmFsbGJhY2tEYXRhXG4gICAgICAgICAgICAgICAgPyAoZXZlbnRUeXBlLmRhdGEgPSBmYWxsYmFja0RhdGEpXG4gICAgICAgICAgICAgICAgOiAoKGZhbGxiYWNrRGF0YSA9IGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGZhbGxiYWNrRGF0YSAmJiAoZXZlbnRUeXBlLmRhdGEgPSBmYWxsYmFja0RhdGEpKSkpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIChmYWxsYmFja0RhdGEgPSBjYW5Vc2VUZXh0SW5wdXRFdmVudFxuICAgICAgICAgICAgICA/IGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudClcbiAgICAgICAgICAgICAgOiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKGV2ZW50VHlwZSA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhcbiAgICAgICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgXCJvbkJlZm9yZUlucHV0XCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAwIDwgZXZlbnRUeXBlLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICgoaGFuZGxlRXZlbnRGdW5jID0gbmV3IFN5bnRoZXRpY0lucHV0RXZlbnQoXG4gICAgICAgICAgICAgICAgICBcIm9uQmVmb3JlSW5wdXRcIixcbiAgICAgICAgICAgICAgICAgIFwiYmVmb3JlaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50OiBoYW5kbGVFdmVudEZ1bmMsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGV2ZW50VHlwZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIChoYW5kbGVFdmVudEZ1bmMuZGF0YSA9IGZhbGxiYWNrRGF0YSkpO1xuICAgICAgICAgIGV4dHJhY3RFdmVudHMkMShcbiAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc0Rpc3BhdGNoUXVldWUoZGlzcGF0Y2hRdWV1ZSwgZXZlbnRTeXN0ZW1GbGFncyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcihpbnN0YW5jZSwgbGlzdGVuZXIsIGN1cnJlbnRUYXJnZXQpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcbiAgICAgICAgbGlzdGVuZXI6IGxpc3RlbmVyLFxuICAgICAgICBjdXJyZW50VGFyZ2V0OiBjdXJyZW50VGFyZ2V0XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnModGFyZ2V0RmliZXIsIHJlYWN0TmFtZSkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIGNhcHR1cmVOYW1lID0gcmVhY3ROYW1lICsgXCJDYXB0dXJlXCIsIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBudWxsICE9PSB0YXJnZXRGaWJlcjtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBfaW5zdGFuY2UzID0gdGFyZ2V0RmliZXIsXG4gICAgICAgICAgc3RhdGVOb2RlID0gX2luc3RhbmNlMy5zdGF0ZU5vZGU7XG4gICAgICAgIF9pbnN0YW5jZTMgPSBfaW5zdGFuY2UzLnRhZztcbiAgICAgICAgKDUgIT09IF9pbnN0YW5jZTMgJiYgMjYgIT09IF9pbnN0YW5jZTMgJiYgMjcgIT09IF9pbnN0YW5jZTMpIHx8XG4gICAgICAgICAgbnVsbCA9PT0gc3RhdGVOb2RlIHx8XG4gICAgICAgICAgKChfaW5zdGFuY2UzID0gZ2V0TGlzdGVuZXIodGFyZ2V0RmliZXIsIGNhcHR1cmVOYW1lKSksXG4gICAgICAgICAgbnVsbCAhPSBfaW5zdGFuY2UzICYmXG4gICAgICAgICAgICBsaXN0ZW5lcnMudW5zaGlmdChcbiAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcih0YXJnZXRGaWJlciwgX2luc3RhbmNlMywgc3RhdGVOb2RlKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAoX2luc3RhbmNlMyA9IGdldExpc3RlbmVyKHRhcmdldEZpYmVyLCByZWFjdE5hbWUpKSxcbiAgICAgICAgICBudWxsICE9IF9pbnN0YW5jZTMgJiZcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKFxuICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldEZpYmVyLCBfaW5zdGFuY2UzLCBzdGF0ZU5vZGUpXG4gICAgICAgICAgICApKTtcbiAgICAgICAgdGFyZ2V0RmliZXIgPSB0YXJnZXRGaWJlci5yZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gbGlzdGVuZXJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQYXJlbnQoaW5zdCkge1xuICAgICAgaWYgKG51bGwgPT09IGluc3QpIHJldHVybiBudWxsO1xuICAgICAgZG8gaW5zdCA9IGluc3QucmV0dXJuO1xuICAgICAgd2hpbGUgKGluc3QgJiYgNSAhPT0gaW5zdC50YWcgJiYgMjcgIT09IGluc3QudGFnKTtcbiAgICAgIHJldHVybiBpbnN0ID8gaW5zdCA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVFbnRlckxlYXZlTGlzdGVuZXJzRm9yRXZlbnQoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgZXZlbnQsXG4gICAgICB0YXJnZXQsXG4gICAgICBjb21tb24sXG4gICAgICBpbkNhcHR1cmVQaGFzZVxuICAgICkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHJlZ2lzdHJhdGlvbk5hbWUgPSBldmVudC5fcmVhY3ROYW1lLCBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgbnVsbCAhPT0gdGFyZ2V0ICYmIHRhcmdldCAhPT0gY29tbW9uO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTQgPSB0YXJnZXQsXG4gICAgICAgICAgYWx0ZXJuYXRlID0gX2luc3RhbmNlNC5hbHRlcm5hdGUsXG4gICAgICAgICAgc3RhdGVOb2RlID0gX2luc3RhbmNlNC5zdGF0ZU5vZGU7XG4gICAgICAgIF9pbnN0YW5jZTQgPSBfaW5zdGFuY2U0LnRhZztcbiAgICAgICAgaWYgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBhbHRlcm5hdGUgPT09IGNvbW1vbikgYnJlYWs7XG4gICAgICAgICg1ICE9PSBfaW5zdGFuY2U0ICYmIDI2ICE9PSBfaW5zdGFuY2U0ICYmIDI3ICE9PSBfaW5zdGFuY2U0KSB8fFxuICAgICAgICAgIG51bGwgPT09IHN0YXRlTm9kZSB8fFxuICAgICAgICAgICgoYWx0ZXJuYXRlID0gc3RhdGVOb2RlKSxcbiAgICAgICAgICBpbkNhcHR1cmVQaGFzZVxuICAgICAgICAgICAgPyAoKHN0YXRlTm9kZSA9IGdldExpc3RlbmVyKHRhcmdldCwgcmVnaXN0cmF0aW9uTmFtZSkpLFxuICAgICAgICAgICAgICBudWxsICE9IHN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy51bnNoaWZ0KFxuICAgICAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcih0YXJnZXQsIHN0YXRlTm9kZSwgYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6IGluQ2FwdHVyZVBoYXNlIHx8XG4gICAgICAgICAgICAgICgoc3RhdGVOb2RlID0gZ2V0TGlzdGVuZXIodGFyZ2V0LCByZWdpc3RyYXRpb25OYW1lKSksXG4gICAgICAgICAgICAgIG51bGwgIT0gc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldCwgc3RhdGVOb2RlLCBhbHRlcm5hdGUpXG4gICAgICAgICAgICAgICAgKSkpO1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucmV0dXJuO1xuICAgICAgfVxuICAgICAgMCAhPT0gbGlzdGVuZXJzLmxlbmd0aCAmJlxuICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goeyBldmVudDogZXZlbnQsIGxpc3RlbmVyczogbGlzdGVuZXJzIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHR5cGUsIHByb3BzKSB7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXMkMih0eXBlLCBwcm9wcyk7XG4gICAgICAoXCJpbnB1dFwiICE9PSB0eXBlICYmIFwidGV4dGFyZWFcIiAhPT0gdHlwZSAmJiBcInNlbGVjdFwiICE9PSB0eXBlKSB8fFxuICAgICAgICBudWxsID09IHByb3BzIHx8XG4gICAgICAgIG51bGwgIT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWx1ZU51bGwgfHxcbiAgICAgICAgKChkaWRXYXJuVmFsdWVOdWxsID0gITApLFxuICAgICAgICBcInNlbGVjdFwiID09PSB0eXBlICYmIHByb3BzLm11bHRpcGxlXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImB2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gQ29uc2lkZXIgdXNpbmcgYW4gZW1wdHkgYXJyYXkgd2hlbiBgbXVsdGlwbGVgIGlzIHNldCB0byBgdHJ1ZWAgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCBmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuXCIsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiBDb25zaWRlciB1c2luZyBhbiBlbXB0eSBzdHJpbmcgdG8gY2xlYXIgdGhlIGNvbXBvbmVudCBvciBgdW5kZWZpbmVkYCBmb3IgdW5jb250cm9sbGVkIGNvbXBvbmVudHMuXCIsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICkpO1xuICAgICAgdmFyIGV2ZW50UmVnaXN0cnkgPSB7XG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXM6IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMsXG4gICAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXM6IHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXNcbiAgICAgIH07XG4gICAgICBpc0N1c3RvbUVsZW1lbnQodHlwZSkgfHxcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLmlzIHx8XG4gICAgICAgIHdhcm5Vbmtub3duUHJvcGVydGllcyh0eXBlLCBwcm9wcywgZXZlbnRSZWdpc3RyeSk7XG4gICAgICBwcm9wcy5jb250ZW50RWRpdGFibGUgJiZcbiAgICAgICAgIXByb3BzLnN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyAmJlxuICAgICAgICBudWxsICE9IHByb3BzLmNoaWxkcmVuICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBIGNvbXBvbmVudCBpcyBgY29udGVudEVkaXRhYmxlYCBhbmQgY29udGFpbnMgYGNoaWxkcmVuYCBtYW5hZ2VkIGJ5IFJlYWN0LiBJdCBpcyBub3cgeW91ciByZXNwb25zaWJpbGl0eSB0byBndWFyYW50ZWUgdGhhdCBub25lIG9mIHRob3NlIG5vZGVzIGFyZSB1bmV4cGVjdGVkbHkgbW9kaWZpZWQgb3IgZHVwbGljYXRlZC4gVGhpcyBpcyBwcm9iYWJseSBub3QgaW50ZW50aW9uYWwuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgcHJvcE5hbWUsXG4gICAgICBzZXJ2ZXJWYWx1ZSxcbiAgICAgIGNsaWVudFZhbHVlLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIHNlcnZlclZhbHVlICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAoKGNsaWVudFZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFZhbHVlKSksXG4gICAgICAgIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJWYWx1ZSkgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzW3Byb3BOYW1lXSA9IHNlcnZlclZhbHVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgYXR0cmlidXRlTmFtZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgYXR0cmlidXRlTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAoYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1tnZXRQcm9wTmFtZUZyb21BdHRyaWJ1dGVOYW1lKGF0dHJpYnV0ZU5hbWUpXSA9XG4gICAgICAgICAgXCJzdHlsZVwiID09PSBhdHRyaWJ1dGVOYW1lXG4gICAgICAgICAgICA/IGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGRvbUVsZW1lbnQpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihyZWdpc3RyYXRpb25OYW1lLCBsaXN0ZW5lcikge1xuICAgICAgITEgPT09IGxpc3RlbmVyXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBgZmFsc2VgLlxcblxcbklmIHlvdSB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgb21pdCBpdCB3aXRoICVzPXtjb25kaXRpb24gJiYgdmFsdWV9LCBwYXNzICVzPXtjb25kaXRpb24gPyB2YWx1ZSA6IHVuZGVmaW5lZH0gaW5zdGVhZC5cIixcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZVxuICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGEgdmFsdWUgb2YgYCVzYCB0eXBlLlwiLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICAgIHR5cGVvZiBsaXN0ZW5lclxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUhUTUwocGFyZW50LCBodG1sKSB7XG4gICAgICBwYXJlbnQgPVxuICAgICAgICBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBNQVRIX05BTUVTUEFDRSB8fFxuICAgICAgICBwYXJlbnQubmFtZXNwYWNlVVJJID09PSBTVkdfTkFNRVNQQUNFXG4gICAgICAgICAgPyBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgICAgIHBhcmVudC5uYW1lc3BhY2VVUkksXG4gICAgICAgICAgICAgIHBhcmVudC50YWdOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBwYXJlbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHBhcmVudC50YWdOYW1lKTtcbiAgICAgIHBhcmVudC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgcmV0dXJuIHBhcmVudC5pbm5lckhUTUw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShtYXJrdXApIHtcbiAgICAgIHdpbGxDb2VyY2lvblRocm93KG1hcmt1cCkgJiZcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQgSFRNTCBtYXJrdXAgdXNlcyBhIHZhbHVlIG9mIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIHR5cGVOYW1lKG1hcmt1cClcbiAgICAgICAgKSxcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKG1hcmt1cCkpO1xuICAgICAgcmV0dXJuIChcInN0cmluZ1wiID09PSB0eXBlb2YgbWFya3VwID8gbWFya3VwIDogXCJcIiArIG1hcmt1cClcbiAgICAgICAgLnJlcGxhY2UoTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYLCBcIlxcblwiKVxuICAgICAgICAucmVwbGFjZShOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVgsIFwiXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0ZvclVubWF0Y2hlZFRleHQoc2VydmVyVGV4dCwgY2xpZW50VGV4dCkge1xuICAgICAgY2xpZW50VGV4dCA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShjbGllbnRUZXh0KTtcbiAgICAgIHJldHVybiBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoc2VydmVyVGV4dCkgPT09IGNsaWVudFRleHRcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDEoKSB7fVxuICAgIGZ1bmN0aW9uIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBrZXksIHZhbHVlLCBwcm9wcywgcHJldlZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlKVxuICAgICAgICAgICAgdmFsaWRhdGVUZXh0TmVzdGluZyh2YWx1ZSwgdGFnKSxcbiAgICAgICAgICAgICAgXCJib2R5XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgICAgIChcInRleHRhcmVhXCIgPT09IHRhZyAmJiBcIlwiID09PSB2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCB2YWx1ZSk7XG4gICAgICAgICAgZWxzZSBpZiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiYmlnaW50XCIgPT09IHR5cGVvZiB2YWx1ZSlcbiAgICAgICAgICAgIHZhbGlkYXRlVGV4dE5lc3RpbmcoXCJcIiArIHZhbHVlLCB0YWcpLFxuICAgICAgICAgICAgICBcImJvZHlcIiAhPT0gdGFnICYmIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjbGFzc05hbWVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwiY2xhc3NcIiwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFiSW5kZXhcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwidGFiaW5kZXhcIiwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGlyXCI6XG4gICAgICAgIGNhc2UgXCJyb2xlXCI6XG4gICAgICAgIGNhc2UgXCJ2aWV3Qm94XCI6XG4gICAgICAgIGNhc2UgXCJ3aWR0aFwiOlxuICAgICAgICBjYXNlIFwiaGVpZ2h0XCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShkb21FbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHRhZykge1xuICAgICAgICAgICAgc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShkb21FbGVtZW50LCBcImRhdGFcIiwgdmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgaWYgKFwiXCIgPT09IHZhbHVlICYmIChcImFcIiAhPT0gdGFnIHx8IFwiaHJlZlwiICE9PSBrZXkpKSB7XG4gICAgICAgICAgICBcInNyY1wiID09PSBrZXlcbiAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgJ0FuIGVtcHR5IHN0cmluZyAoXCJcIikgd2FzIHBhc3NlZCB0byB0aGUgJXMgYXR0cmlidXRlLiBUaGlzIG1heSBjYXVzZSB0aGUgYnJvd3NlciB0byBkb3dubG9hZCB0aGUgd2hvbGUgcGFnZSBhZ2FpbiBvdmVyIHRoZSBuZXR3b3JrLiBUbyBmaXggdGhpcywgZWl0aGVyIGRvIG5vdCByZW5kZXIgdGhlIGVsZW1lbnQgYXQgYWxsIG9yIHBhc3MgbnVsbCB0byAlcyBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy4nLFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYWN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJmb3JtQWN0aW9uXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZm9ybVwiID09PSB0YWdcbiAgICAgICAgICAgICAgPyBcImZvcm1BY3Rpb25cIiA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIllvdSBjYW4gb25seSBwYXNzIHRoZSBmb3JtQWN0aW9uIHByb3AgdG8gPGlucHV0PiBvciA8YnV0dG9uPi4gVXNlIHRoZSBhY3Rpb24gcHJvcCBvbiA8Zm9ybT4uXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAoKG51bGwgPT0gcHJvcHMuZW5jVHlwZSAmJiBudWxsID09IHByb3BzLm1ldGhvZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgZW5jVHlwZSBvciBtZXRob2QgZm9yIGEgZm9ybSB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIHRoZSBhY3Rpb24uIFJlYWN0IHByb3ZpZGVzIHRob3NlIGF1dG9tYXRpY2FsbHkuIFRoZXkgd2lsbCBnZXQgb3ZlcnJpZGRlbi5cIlxuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT0gcHJvcHMudGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIHRhcmdldCBmb3IgYSBmb3JtIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgdGhlIGFjdGlvbi4gVGhlIGZ1bmN0aW9uIHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkIGluIHRoZSBzYW1lIHdpbmRvdy5cIlxuICAgICAgICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgICAgOiBcImlucHV0XCIgPT09IHRhZyB8fCBcImJ1dHRvblwiID09PSB0YWdcbiAgICAgICAgICAgICAgICA/IFwiYWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGFjdGlvbiBwcm9wIHRvIDxmb3JtPi4gVXNlIHRoZSBmb3JtQWN0aW9uIHByb3Agb24gPGlucHV0PiBvciA8YnV0dG9uPi5cIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IFwiaW5wdXRcIiAhPT0gdGFnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRcIiA9PT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIFwiaW1hZ2VcIiA9PT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVHlwZVxuICAgICAgICAgICAgICAgICAgICA/IFwiYnV0dG9uXCIgIT09IHRhZyB8fFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0XCIgPT09IHByb3BzLnR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvblR5cGVcbiAgICAgICAgICAgICAgICAgICAgICA/IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBwcm9wcy5uYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uTmFtZSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHNwZWNpZnkgYSBcIm5hbWVcIiBwcm9wIGZvciBhIGJ1dHRvbiB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIGEgZm9ybUFjdGlvbi4gUmVhY3QgbmVlZHMgaXQgdG8gZW5jb2RlIHdoaWNoIGFjdGlvbiBzaG91bGQgYmUgaW52b2tlZC4gSXQgd2lsbCBnZXQgb3ZlcnJpZGRlbi4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gcHJvcHMuZm9ybUVuY1R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy5mb3JtTWV0aG9kKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNwZWNpZnkgYSBmb3JtRW5jVHlwZSBvciBmb3JtTWV0aG9kIGZvciBhIGJ1dHRvbiB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIGEgZm9ybUFjdGlvbi4gUmVhY3QgcHJvdmlkZXMgdGhvc2UgYXV0b21hdGljYWxseS4gVGhleSB3aWxsIGdldCBvdmVycmlkZGVuLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy5mb3JtVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIGZvcm1UYXJnZXQgZm9yIGEgYnV0dG9uIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgYSBmb3JtQWN0aW9uLiBUaGUgZnVuY3Rpb24gd2lsbCBhbHdheXMgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgd2luZG93LlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChkaWRXYXJuRm9ybUFjdGlvblR5cGUgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnQSBidXR0b24gY2FuIG9ubHkgc3BlY2lmeSBhIGZvcm1BY3Rpb24gYWxvbmcgd2l0aCB0eXBlPVwic3VibWl0XCIgb3Igbm8gdHlwZS4nXG4gICAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgICA6ICgoZGlkV2FybkZvcm1BY3Rpb25UeXBlID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAnQW4gaW5wdXQgY2FuIG9ubHkgc3BlY2lmeSBhIGZvcm1BY3Rpb24gYWxvbmcgd2l0aCB0eXBlPVwic3VibWl0XCIgb3IgdHlwZT1cImltYWdlXCIuJ1xuICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgOiBcImFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIllvdSBjYW4gb25seSBwYXNzIHRoZSBhY3Rpb24gcHJvcCB0byA8Zm9ybT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGZvcm1BY3Rpb24gcHJvcCB0byA8aW5wdXQ+IG9yIDxidXR0b24+LlwiXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgXCJqYXZhc2NyaXB0OnRocm93IG5ldyBFcnJvcignQSBSZWFjdCBmb3JtIHdhcyB1bmV4cGVjdGVkbHkgc3VibWl0dGVkLiBJZiB5b3UgY2FsbGVkIGZvcm0uc3VibWl0KCkgbWFudWFsbHksIGNvbnNpZGVyIHVzaW5nIGZvcm0ucmVxdWVzdFN1Ym1pdCgpIGluc3RlYWQuIElmIHlvdVxcXFwncmUgdHJ5aW5nIHRvIHVzZSBldmVudC5zdG9wUHJvcGFnYXRpb24oKSBpbiBhIHN1Ym1pdCBldmVudCBoYW5kbGVyLCBjb25zaWRlciBhbHNvIGNhbGxpbmcgZXZlbnQucHJldmVudERlZmF1bHQoKS4nKVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgICAgKFwiZm9ybUFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICA/IChcImlucHV0XCIgIT09IHRhZyAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJuYW1lXCIsIHByb3BzLm5hbWUsIHByb3BzLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtRW5jVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybU1ldGhvZFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5mb3JtTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtVGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZvcm1UYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgIDogKHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJlbmNUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmVuY1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIFwibWV0aG9kXCIsIHByb3BzLm1ldGhvZCwgcHJvcHMsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcInRhcmdldFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSk7XG4gICAgICAgICAgdmFsdWUgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25DbGlja1wiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICAoZG9tRWxlbWVudC5vbmNsaWNrID0gbm9vcCQxKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvblNjcm9sbFwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsXCIsIGRvbUVsZW1lbnQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsRW5kXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxlbmRcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSB8fCAhKFwiX19odG1sXCIgaW4gdmFsdWUpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL3JlYWN0LmRldi9saW5rL2Rhbmdlcm91c2x5LXNldC1pbm5lci1odG1sIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBrZXkgPSB2YWx1ZS5fX2h0bWw7XG4gICAgICAgICAgICBpZiAobnVsbCAhPSBrZXkpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICBkb21FbGVtZW50Lm11bHRpcGxlID1cbiAgICAgICAgICAgIHZhbHVlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgZG9tRWxlbWVudC5tdXRlZCA9XG4gICAgICAgICAgICB2YWx1ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgIGNhc2UgXCJyZWZcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImF1dG9Gb2N1c1wiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtIcmVmXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ4bGluazpocmVmXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSk7XG4gICAgICAgICAga2V5ID0gc2FuaXRpemVVUkwoXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZU5TKHhsaW5rTmFtZXNwYWNlLCBcInhsaW5rOmhyZWZcIiwga2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICBjYXNlIFwic3BlbGxDaGVja1wiOlxuICAgICAgICBjYXNlIFwiZHJhZ2dhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICBjYXNlIFwiYXV0b1JldmVyc2VcIjpcbiAgICAgICAgY2FzZSBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIjpcbiAgICAgICAgY2FzZSBcImZvY3VzYWJsZVwiOlxuICAgICAgICBjYXNlIFwicHJlc2VydmVBbHBoYVwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiICsgdmFsdWUpKVxuICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICBcIlwiICE9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW2tleV0gfHxcbiAgICAgICAgICAgICgoZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW2tleV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIGVtcHR5IHN0cmluZyBmb3IgYSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiBUaGlzIHdpbGwgdHJlYXQgdGhlIGF0dHJpYnV0ZSBhcyBpZiBpdCB3ZXJlIGZhbHNlLiBFaXRoZXIgcGFzcyBgZmFsc2VgIHRvIHNpbGVuY2UgdGhpcyB3YXJuaW5nLCBvciBwYXNzIGB0cnVlYCBpZiB5b3UgdXNlZCBhbiBlbXB0eSBzdHJpbmcgaW4gZWFybGllciB2ZXJzaW9ucyBvZiBSZWFjdCB0byBpbmRpY2F0ZSB0aGlzIGF0dHJpYnV0ZSBpcyB0cnVlLlwiLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICkpO1xuICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgIGNhc2UgXCJhc3luY1wiOlxuICAgICAgICBjYXNlIFwiYXV0b1BsYXlcIjpcbiAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgIGNhc2UgXCJkZWZlclwiOlxuICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgY2FzZSBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpcbiAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgIGNhc2UgXCJub1ZhbGlkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICBjYXNlIFwicmVhZE9ubHlcIjpcbiAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICBjYXNlIFwic2NvcGVkXCI6XG4gICAgICAgIGNhc2UgXCJzZWFtbGVzc1wiOlxuICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgdmFsdWUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiYgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICA/IGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgXCJcIilcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcImRvd25sb2FkXCI6XG4gICAgICAgICAgITAgPT09IHZhbHVlXG4gICAgICAgICAgICA/IGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgXCJcIilcbiAgICAgICAgICAgIDogITEgIT09IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSksXG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkpXG4gICAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbHNcIjpcbiAgICAgICAgY2FzZSBcInJvd3NcIjpcbiAgICAgICAgY2FzZSBcInNpemVcIjpcbiAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAhaXNOYU4odmFsdWUpICYmXG4gICAgICAgICAgMSA8PSB2YWx1ZVxuICAgICAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyb3dTcGFuXCI6XG4gICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgIGlzTmFOKHZhbHVlKVxuICAgICAgICAgICAgPyBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpXG4gICAgICAgICAgICA6IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3BvdmVyXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImJlZm9yZXRvZ2dsZVwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwidG9nZ2xlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHNldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwicG9wb3ZlclwiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua0FjdHVhdGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOmFjdHVhdGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rQXJjcm9sZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6YXJjcm9sZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtSb2xlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazpyb2xlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1Nob3dcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnNob3dcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rVGl0bGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnRpdGxlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1R5cGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnR5cGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhtbEJhc2VcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeG1sTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bWw6YmFzZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG1sTGFuZ1wiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhtbDpsYW5nXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bWxTcGFjZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhtbDpzcGFjZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaXNcIjpcbiAgICAgICAgICBudWxsICE9IHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJ0Nhbm5vdCB1cGRhdGUgdGhlIFwiaXNcIiBwcm9wIGFmdGVyIGl0IGhhcyBiZWVuIGluaXRpYWxpemVkLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJpc1wiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbm5lclRleHRcIjpcbiAgICAgICAgY2FzZSBcInRleHRDb250ZW50XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3BvdmVyVGFyZ2V0XCI6XG4gICAgICAgICAgZGlkV2FyblBvcG92ZXJUYXJnZXRPYmplY3QgfHxcbiAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgKChkaWRXYXJuUG9wb3ZlclRhcmdldE9iamVjdCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiVGhlIGBwb3BvdmVyVGFyZ2V0YCBwcm9wIGV4cGVjdHMgdGhlIElEIG9mIGFuIEVsZW1lbnQgYXMgYSBzdHJpbmcuIFJlY2VpdmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAhKDIgPCBrZXkubGVuZ3RoKSB8fFxuICAgICAgICAgIChcIm9cIiAhPT0ga2V5WzBdICYmIFwiT1wiICE9PSBrZXlbMF0pIHx8XG4gICAgICAgICAgKFwiblwiICE9PSBrZXlbMV0gJiYgXCJOXCIgIT09IGtleVsxXSlcbiAgICAgICAgICAgID8gKChrZXkgPSBnZXRBdHRyaWJ1dGVBbGlhcyhrZXkpKSxcbiAgICAgICAgICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwga2V5LCB2YWx1ZSkpXG4gICAgICAgICAgICA6IHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJlxuICAgICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICB0YWcsXG4gICAgICBrZXksXG4gICAgICB2YWx1ZSxcbiAgICAgIHByb3BzLFxuICAgICAgcHJldlZhbHVlXG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSwgcHJldlZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgaWYgKG51bGwgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0eXBlb2YgdmFsdWUgfHwgIShcIl9faHRtbFwiIGluIHZhbHVlKSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAga2V5ID0gdmFsdWUuX19odG1sO1xuICAgICAgICAgICAgaWYgKG51bGwgIT0ga2V5KSB7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9IHByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICA/IHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHZhbHVlKVxuICAgICAgICAgICAgOiAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiYmlnaW50XCIgPT09IHR5cGVvZiB2YWx1ZSkgJiZcbiAgICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxFbmRcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbGVuZFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbkNsaWNrXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIChkb21FbGVtZW50Lm9uY2xpY2sgPSBub29wJDEpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5uZXJUZXh0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0Q29udGVudFwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9cIiA9PT0ga2V5WzBdICYmXG4gICAgICAgICAgICAgICAgXCJuXCIgPT09IGtleVsxXSAmJlxuICAgICAgICAgICAgICAgICgocHJvcHMgPSBrZXkuZW5kc1dpdGgoXCJDYXB0dXJlXCIpKSxcbiAgICAgICAgICAgICAgICAodGFnID0ga2V5LnNsaWNlKDIsIHByb3BzID8ga2V5Lmxlbmd0aCAtIDcgOiB2b2lkIDApKSxcbiAgICAgICAgICAgICAgICAocHJldlZhbHVlID0gZG9tRWxlbWVudFtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICAocHJldlZhbHVlID0gbnVsbCAhPSBwcmV2VmFsdWUgPyBwcmV2VmFsdWVba2V5XSA6IG51bGwpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRhZywgcHJldlZhbHVlLCBwcm9wcyksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAoa2V5IGluIGRvbUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgPyAoZG9tRWxlbWVudFtrZXldID0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgOiBkb21FbGVtZW50Lmhhc0F0dHJpYnV0ZShrZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KSk7XG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHRhZywgdmFsdWUsIHByb3BzKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGtleSBpbiBkb21FbGVtZW50XG4gICAgICAgICAgICAgICAgPyAoZG9tRWxlbWVudFtrZXldID0gdmFsdWUpXG4gICAgICAgICAgICAgICAgOiAhMCA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgID8gZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKVxuICAgICAgICAgICAgICAgICAgOiBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0SW5pdGlhbFByb3BlcnRpZXMoZG9tRWxlbWVudCwgdGFnLCBwcm9wcykge1xuICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIHByb3BzKTtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgXCJkaXZcIjpcbiAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICBjYXNlIFwiZ1wiOlxuICAgICAgICBjYXNlIFwicFwiOlxuICAgICAgICBjYXNlIFwibGlcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICB2YXIgaGFzU3JjID0gITEsXG4gICAgICAgICAgICBoYXNTcmNTZXQgPSAhMSxcbiAgICAgICAgICAgIHByb3BLZXk7XG4gICAgICAgICAgZm9yIChwcm9wS2V5IGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wS2V5XTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcFZhbHVlKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgICAgICAgICAgICBoYXNTcmMgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3JjU2V0XCI6XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgcHJvcEtleSwgcHJvcFZhbHVlLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGhhc1NyY1NldCAmJlxuICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIFwic3JjU2V0XCIsIHByb3BzLnNyY1NldCwgcHJvcHMsIG51bGwpO1xuICAgICAgICAgIGhhc1NyYyAmJiBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJzcmNcIiwgcHJvcHMuc3JjLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwiaW5wdXRcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSAocHJvcEtleSA9IHByb3BWYWx1ZSA9IGhhc1NyY1NldCA9IG51bGwpLFxuICAgICAgICAgICAgY2hlY2tlZCA9IG51bGwsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IG51bGw7XG4gICAgICAgICAgZm9yIChoYXNTcmMgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkoaGFzU3JjKSkge1xuICAgICAgICAgICAgICB2YXIgX3Byb3BWYWx1ZSA9IHByb3BzW2hhc1NyY107XG4gICAgICAgICAgICAgIGlmIChudWxsICE9IF9wcm9wVmFsdWUpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChoYXNTcmMpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInR5cGVcIjpcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gX3Byb3BWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBoYXNTcmMsIF9wcm9wVmFsdWUsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgdmFsaWRhdGVJbnB1dFByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICBpbml0SW5wdXQoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgIHByb3BWYWx1ZSxcbiAgICAgICAgICAgIGhhc1NyY1NldCxcbiAgICAgICAgICAgICExXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwic2VsZWN0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBoYXNTcmMgPSBwcm9wVmFsdWUgPSBwcm9wS2V5ID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGhhc1NyY1NldCBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoaGFzU3JjU2V0KSAmJlxuICAgICAgICAgICAgICAoKGRlZmF1bHRWYWx1ZSA9IHByb3BzW2hhc1NyY1NldF0pLCBudWxsICE9IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChoYXNTcmNTZXQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wVmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgIGhhc1NyYyA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBoYXNTcmNTZXQsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB2YWxpZGF0ZVNlbGVjdFByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICB0YWcgPSBwcm9wS2V5O1xuICAgICAgICAgIHByb3BzID0gcHJvcFZhbHVlO1xuICAgICAgICAgIGRvbUVsZW1lbnQubXVsdGlwbGUgPSAhIWhhc1NyYztcbiAgICAgICAgICBudWxsICE9IHRhZ1xuICAgICAgICAgICAgPyB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhaGFzU3JjLCB0YWcsICExKVxuICAgICAgICAgICAgOiBudWxsICE9IHByb3BzICYmIHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISFoYXNTcmMsIHByb3BzLCAhMCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwidGV4dGFyZWFcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHByb3BLZXkgPSBoYXNTcmNTZXQgPSBoYXNTcmMgPSBudWxsO1xuICAgICAgICAgIGZvciAocHJvcFZhbHVlIGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wVmFsdWUpICYmXG4gICAgICAgICAgICAgICgoZGVmYXVsdFZhbHVlID0gcHJvcHNbcHJvcFZhbHVlXSksIG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgaGFzU3JjID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlVGV4dGFyZWFQcm9wcyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICAgICAgaW5pdFRleHRhcmVhKGRvbUVsZW1lbnQsIGhhc1NyYywgaGFzU3JjU2V0LCBwcm9wS2V5KTtcbiAgICAgICAgICB0cmFjayhkb21FbGVtZW50KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICB2YWxpZGF0ZU9wdGlvblByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICBmb3IgKGNoZWNrZWQgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGNoZWNrZWQpICYmXG4gICAgICAgICAgICAgICgoaGFzU3JjID0gcHJvcHNbY2hlY2tlZF0pLCBudWxsICE9IGhhc1NyYylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNlbGVjdGVkID1cbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGhhc1NyYyAmJlxuICAgICAgICAgICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgaGFzU3JjO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBjaGVja2VkLCBoYXNTcmMsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcImRpYWxvZ1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJjYW5jZWxcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNsb3NlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaWZyYW1lXCI6XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIGZvciAoaGFzU3JjID0gMDsgaGFzU3JjIDwgbWVkaWFFdmVudFR5cGVzLmxlbmd0aDsgaGFzU3JjKyspXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KG1lZGlhRXZlbnRUeXBlc1toYXNTcmNdLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltYWdlXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGV0YWlsc1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbWJlZFwiOlxuICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRvbUVsZW1lbnQpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgIGNhc2UgXCJhcmVhXCI6XG4gICAgICAgIGNhc2UgXCJiYXNlXCI6XG4gICAgICAgIGNhc2UgXCJiclwiOlxuICAgICAgICBjYXNlIFwiY29sXCI6XG4gICAgICAgIGNhc2UgXCJoclwiOlxuICAgICAgICBjYXNlIFwia2V5Z2VuXCI6XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICBjYXNlIFwidHJhY2tcIjpcbiAgICAgICAgY2FzZSBcIndiclwiOlxuICAgICAgICBjYXNlIFwibWVudWl0ZW1cIjpcbiAgICAgICAgICBmb3IgKGRlZmF1bHRDaGVja2VkIGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0Q2hlY2tlZCkgJiZcbiAgICAgICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tkZWZhdWx0Q2hlY2tlZF0pLCBudWxsICE9IGhhc1NyYylcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChkZWZhdWx0Q2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGRlZmF1bHRDaGVja2VkLCBoYXNTcmMsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoaXNDdXN0b21FbGVtZW50KHRhZykpIHtcbiAgICAgICAgICAgIGZvciAoX3Byb3BWYWx1ZSBpbiBwcm9wcylcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW19wcm9wVmFsdWVdKSxcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGhhc1NyYyAmJlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBoYXNTcmMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAoZGVmYXVsdFZhbHVlIGluIHByb3BzKVxuICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0VmFsdWUpICYmXG4gICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tkZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICBudWxsICE9IGhhc1NyYyAmJlxuICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGRlZmF1bHRWYWx1ZSwgaGFzU3JjLCBwcm9wcywgbnVsbCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHRhZywgbGFzdFByb3BzLCBuZXh0UHJvcHMpIHtcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCBuZXh0UHJvcHMpO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImRpdlwiOlxuICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgIGNhc2UgXCJwYXRoXCI6XG4gICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgIGNhc2UgXCJsaVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICB2YXIgbmFtZSA9IG51bGwsXG4gICAgICAgICAgICB0eXBlID0gbnVsbCxcbiAgICAgICAgICAgIHZhbHVlID0gbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IG51bGwsXG4gICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlID0gbnVsbCxcbiAgICAgICAgICAgIGNoZWNrZWQgPSBudWxsLFxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBudWxsO1xuICAgICAgICAgIGZvciAocHJvcEtleSBpbiBsYXN0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBsYXN0UHJvcCA9IGxhc3RQcm9wc1twcm9wS2V5XTtcbiAgICAgICAgICAgIGlmIChsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgJiYgbnVsbCAhPSBsYXN0UHJvcClcbiAgICAgICAgICAgICAgc3dpdGNoIChwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSA9IGxhc3RQcm9wO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkgfHxcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9wXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXk4IGluIG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIHByb3BLZXkgPSBuZXh0UHJvcHNbX3Byb3BLZXk4XTtcbiAgICAgICAgICAgIGxhc3RQcm9wID0gbGFzdFByb3BzW19wcm9wS2V5OF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTgpICYmXG4gICAgICAgICAgICAgIChudWxsICE9IHByb3BLZXkgfHwgbnVsbCAhPSBsYXN0UHJvcClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChfcHJvcEtleTgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidHlwZVwiOlxuICAgICAgICAgICAgICAgICAgdHlwZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgICAgICAgICAgbmFtZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ICE9PSBsYXN0UHJvcCAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0UHJvcFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZyA9XG4gICAgICAgICAgICBcImNoZWNrYm94XCIgPT09IGxhc3RQcm9wcy50eXBlIHx8IFwicmFkaW9cIiA9PT0gbGFzdFByb3BzLnR5cGVcbiAgICAgICAgICAgICAgPyBudWxsICE9IGxhc3RQcm9wcy5jaGVja2VkXG4gICAgICAgICAgICAgIDogbnVsbCAhPSBsYXN0UHJvcHMudmFsdWU7XG4gICAgICAgICAgbmV4dFByb3BzID1cbiAgICAgICAgICAgIFwiY2hlY2tib3hcIiA9PT0gbmV4dFByb3BzLnR5cGUgfHwgXCJyYWRpb1wiID09PSBuZXh0UHJvcHMudHlwZVxuICAgICAgICAgICAgICA/IG51bGwgIT0gbmV4dFByb3BzLmNoZWNrZWRcbiAgICAgICAgICAgICAgOiBudWxsICE9IG5leHRQcm9wcy52YWx1ZTtcbiAgICAgICAgICB0YWcgfHxcbiAgICAgICAgICAgICFuZXh0UHJvcHMgfHxcbiAgICAgICAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgfHxcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IGlzIGNoYW5naW5nIGFuIHVuY29udHJvbGxlZCBpbnB1dCB0byBiZSBjb250cm9sbGVkLiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgdGhlIHZhbHVlIGNoYW5naW5nIGZyb20gdW5kZWZpbmVkIHRvIGEgZGVmaW5lZCB2YWx1ZSwgd2hpY2ggc2hvdWxkIG5vdCBoYXBwZW4uIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gITApKTtcbiAgICAgICAgICAhdGFnIHx8XG4gICAgICAgICAgICBuZXh0UHJvcHMgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgfHxcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IGlzIGNoYW5naW5nIGEgY29udHJvbGxlZCBpbnB1dCB0byBiZSB1bmNvbnRyb2xsZWQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSB0aGUgdmFsdWUgY2hhbmdpbmcgZnJvbSBhIGRlZmluZWQgdG8gdW5kZWZpbmVkLCB3aGljaCBzaG91bGQgbm90IGhhcHBlbi4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSAhMCkpO1xuICAgICAgICAgIHVwZGF0ZUlucHV0KFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICBwcm9wS2V5ID0gdmFsdWUgPSBkZWZhdWx0VmFsdWUgPSBfcHJvcEtleTggPSBudWxsO1xuICAgICAgICAgIGZvciAodHlwZSBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgobGFzdERlZmF1bHRWYWx1ZSA9IGxhc3RQcm9wc1t0eXBlXSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSAmJiBudWxsICE9IGxhc3REZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gbGFzdERlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KHR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKG5hbWUgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKHR5cGUgPSBuZXh0UHJvcHNbbmFtZV0pLFxuICAgICAgICAgICAgICAobGFzdERlZmF1bHRWYWx1ZSA9IGxhc3RQcm9wc1tuYW1lXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJlxuICAgICAgICAgICAgICAgIChudWxsICE9IHR5cGUgfHwgbnVsbCAhPSBsYXN0RGVmYXVsdFZhbHVlKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBfcHJvcEtleTggPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0eXBlICE9PSBsYXN0RGVmYXVsdFZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBuZXh0UHJvcHMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgdGFnID0gdmFsdWU7XG4gICAgICAgICAgbGFzdFByb3BzID0gcHJvcEtleTtcbiAgICAgICAgICBudWxsICE9IF9wcm9wS2V5OFxuICAgICAgICAgICAgPyB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhdGFnLCBfcHJvcEtleTgsICExKVxuICAgICAgICAgICAgOiAhIWxhc3RQcm9wcyAhPT0gISF0YWcgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgPyB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhdGFnLCBuZXh0UHJvcHMsICEwKVxuICAgICAgICAgICAgICAgIDogdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIXRhZywgdGFnID8gW10gOiBcIlwiLCAhMSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgcHJvcEtleSA9IF9wcm9wS2V5OCA9IG51bGw7XG4gICAgICAgICAgZm9yIChkZWZhdWx0VmFsdWUgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKG5hbWUgPSBsYXN0UHJvcHNbZGVmYXVsdFZhbHVlXSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0VmFsdWUpICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBuYW1lICYmXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0VmFsdWUpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGRlZmF1bHRWYWx1ZSwgbnVsbCwgbmV4dFByb3BzLCBuYW1lKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFsdWUgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKG5hbWUgPSBuZXh0UHJvcHNbdmFsdWVdKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBsYXN0UHJvcHNbdmFsdWVdKSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJiAobnVsbCAhPSBuYW1lIHx8IG51bGwgIT0gdHlwZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBuYW1lKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcImBkYW5nZXJvdXNseVNldElubmVySFRNTGAgZG9lcyBub3QgbWFrZSBzZW5zZSBvbiA8dGV4dGFyZWE+LlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgbmFtZSAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgdmFsdWUsIG5hbWUsIG5leHRQcm9wcywgdHlwZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB1cGRhdGVUZXh0YXJlYShkb21FbGVtZW50LCBfcHJvcEtleTgsIHByb3BLZXkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5MTMgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKF9wcm9wS2V5OCA9IGxhc3RQcm9wc1tfcHJvcEtleTEzXSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTEzKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTEzKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChfcHJvcEtleTEzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNlbGVjdGVkID0gITE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTEzLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAobGFzdERlZmF1bHRWYWx1ZSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2xhc3REZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbbGFzdERlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkobGFzdERlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBfcHJvcEtleTggIT09IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAobnVsbCAhPSBfcHJvcEtleTggfHwgbnVsbCAhPSBwcm9wS2V5KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChsYXN0RGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNlbGVjdGVkID1cbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgX3Byb3BLZXk4O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgY2FzZSBcImFyZWFcIjpcbiAgICAgICAgY2FzZSBcImJhc2VcIjpcbiAgICAgICAgY2FzZSBcImJyXCI6XG4gICAgICAgIGNhc2UgXCJjb2xcIjpcbiAgICAgICAgY2FzZSBcImVtYmVkXCI6XG4gICAgICAgIGNhc2UgXCJoclwiOlxuICAgICAgICBjYXNlIFwia2V5Z2VuXCI6XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJwYXJhbVwiOlxuICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgIGNhc2UgXCJ0cmFja1wiOlxuICAgICAgICBjYXNlIFwid2JyXCI6XG4gICAgICAgIGNhc2UgXCJtZW51aXRlbVwiOlxuICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5MTUgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgKF9wcm9wS2V5OCA9IGxhc3RQcm9wc1tfcHJvcEtleTE1XSksXG4gICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE1KSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE1KSAmJlxuICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXkxNSxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICBfcHJvcEtleThcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIGZvciAoY2hlY2tlZCBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2NoZWNrZWRdKSxcbiAgICAgICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbY2hlY2tlZF0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoY2hlY2tlZCkgJiZcbiAgICAgICAgICAgICAgICBfcHJvcEtleTggIT09IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAobnVsbCAhPSBfcHJvcEtleTggfHwgbnVsbCAhPSBwcm9wS2V5KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBfcHJvcEtleTgpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBjaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTgsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoaXNDdXN0b21FbGVtZW50KHRhZykpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5MTcgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgICAoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTddKSxcbiAgICAgICAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxNykgJiZcbiAgICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTcpICYmXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5MTcsXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleThcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmb3IgKGRlZmF1bHRDaGVja2VkIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgICAgKF9wcm9wS2V5OCA9IG5leHRQcm9wc1tkZWZhdWx0Q2hlY2tlZF0pLFxuICAgICAgICAgICAgICAgIChwcm9wS2V5ID0gbGFzdFByb3BzW2RlZmF1bHRDaGVja2VkXSksXG4gICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShkZWZhdWx0Q2hlY2tlZCkgfHxcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCA9PT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgICAgICAgKHZvaWQgMCA9PT0gX3Byb3BLZXk4ICYmIHZvaWQgMCA9PT0gcHJvcEtleSkgfHxcbiAgICAgICAgICAgICAgICAgIHNldFByb3BPbkN1c3RvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9wcm9wS2V5MTkgaW4gbGFzdFByb3BzKVxuICAgICAgICAoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTldKSxcbiAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxOSkgJiZcbiAgICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTkpICYmXG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgX3Byb3BLZXkxOSwgbnVsbCwgbmV4dFByb3BzLCBfcHJvcEtleTgpO1xuICAgICAgZm9yIChsYXN0UHJvcCBpbiBuZXh0UHJvcHMpXG4gICAgICAgIChfcHJvcEtleTggPSBuZXh0UHJvcHNbbGFzdFByb3BdKSxcbiAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tsYXN0UHJvcF0pLFxuICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkobGFzdFByb3ApIHx8XG4gICAgICAgICAgICBfcHJvcEtleTggPT09IHByb3BLZXkgfHxcbiAgICAgICAgICAgIChudWxsID09IF9wcm9wS2V5OCAmJiBudWxsID09IHByb3BLZXkpIHx8XG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgbGFzdFByb3AsIF9wcm9wS2V5OCwgbmV4dFByb3BzLCBwcm9wS2V5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UHJvcE5hbWVGcm9tQXR0cmlidXRlTmFtZShhdHRyTmFtZSkge1xuICAgICAgc3dpdGNoIChhdHRyTmFtZSkge1xuICAgICAgICBjYXNlIFwiY2xhc3NcIjpcbiAgICAgICAgICByZXR1cm4gXCJjbGFzc05hbWVcIjtcbiAgICAgICAgY2FzZSBcImZvclwiOlxuICAgICAgICAgIHJldHVybiBcImh0bWxGb3JcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gYXR0ck5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGRvbUVsZW1lbnQpIHtcbiAgICAgIHZhciBzZXJ2ZXJWYWx1ZUluT2JqZWN0Rm9ybSA9IHt9O1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuc3R5bGU7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvbUVsZW1lbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHN0eWxlTmFtZSA9IGRvbUVsZW1lbnRbaV07XG4gICAgICAgIHNlcnZlclZhbHVlSW5PYmplY3RGb3JtW3N0eWxlTmFtZV0gPVxuICAgICAgICAgIGRvbUVsZW1lbnQuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZU5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlcnZlclZhbHVlSW5PYmplY3RGb3JtO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmSHlkcmF0ZWRTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUkanNjb21wJDAsIHNlcnZlckRpZmZlcmVuY2VzKSB7XG4gICAgICBpZiAobnVsbCAhPSB2YWx1ZSRqc2NvbXAkMCAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2YgdmFsdWUkanNjb21wJDApXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgYHN0eWxlYCBwcm9wIGV4cGVjdHMgYSBtYXBwaW5nIGZyb20gc3R5bGUgcHJvcGVydGllcyB0byB2YWx1ZXMsIG5vdCBhIHN0cmluZy4gRm9yIGV4YW1wbGUsIHN0eWxlPXt7bWFyZ2luUmlnaHQ6IHNwYWNpbmcgKyAnZW0nfX0gd2hlbiB1c2luZyBKU1guXCJcbiAgICAgICAgKTtcbiAgICAgIGVsc2UgaWYgKGNhbkRpZmZTdHlsZUZvckh5ZHJhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgdmFyIGNsaWVudFZhbHVlO1xuICAgICAgICB2YXIgZGVsaW1pdGVyID0gKGNsaWVudFZhbHVlID0gXCJcIiksXG4gICAgICAgICAgc3R5bGVOYW1lO1xuICAgICAgICBmb3IgKHN0eWxlTmFtZSBpbiB2YWx1ZSRqc2NvbXAkMClcbiAgICAgICAgICBpZiAodmFsdWUkanNjb21wJDAuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWUkanNjb21wJDBbc3R5bGVOYW1lXTtcbiAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICBcIlwiICE9PSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAoMCA9PT0gc3R5bGVOYW1lLmluZGV4T2YoXCItLVwiKVxuICAgICAgICAgICAgICAgID8gKGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgc3R5bGVOYW1lKSxcbiAgICAgICAgICAgICAgICAgIChjbGllbnRWYWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgKyBzdHlsZU5hbWUgKyBcIjpcIiArIChcIlwiICsgdmFsdWUpLnRyaW0oKSkpXG4gICAgICAgICAgICAgICAgOiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgMCA9PT0gdmFsdWUgfHxcbiAgICAgICAgICAgICAgICAgICAgdW5pdGxlc3NOdW1iZXJzLmhhcyhzdHlsZU5hbWUpXG4gICAgICAgICAgICAgICAgICA/IChjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHN0eWxlTmFtZSksXG4gICAgICAgICAgICAgICAgICAgIChjbGllbnRWYWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgIGRlbGltaXRlciArXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSh1cHBlcmNhc2VQYXR0ZXJuLCBcIi0kMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKG1zUGF0dGVybiQxLCBcIi1tcy1cIikgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAoXCJcIiArIHZhbHVlKS50cmltKCkpKVxuICAgICAgICAgICAgICAgICAgOiAoY2xpZW50VmFsdWUgKz1cbiAgICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgK1xuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgXCItJDFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShtc1BhdHRlcm4kMSwgXCItbXMtXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIjpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICAgIFwicHhcIiksXG4gICAgICAgICAgICAgIChkZWxpbWl0ZXIgPSBcIjtcIikpO1xuICAgICAgICAgIH1cbiAgICAgICAgY2xpZW50VmFsdWUgPSBjbGllbnRWYWx1ZSB8fCBudWxsO1xuICAgICAgICB2YWx1ZSRqc2NvbXAkMCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7XG4gICAgICAgIHZhbHVlJGpzY29tcCQwICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAgICgoY2xpZW50VmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VmFsdWUpKSxcbiAgICAgICAgICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUodmFsdWUkanNjb21wJDApICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzLnN0eWxlID0gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoZG9tRWxlbWVudCkpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgcHJvcEtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQgPT09IFwiXCIgKyB2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZUJvb2xlYW5BdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmICh2YWx1ZSkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgYXR0cmlidXRlTmFtZSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQgPT09IFwiXCIgKyB2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZU51bWVyaWNBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhaXNOYU4odmFsdWUpICYmXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gXCJcIiArIHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgKGF0dHJpYnV0ZU5hbWUgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpKSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gYXR0cmlidXRlTmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIHByb3BzLCBob3N0Q29udGV4dCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHNlcnZlckRpZmZlcmVuY2VzID0ge30sXG4gICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzID0gbmV3IFNldCgpLFxuICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmF0dHJpYnV0ZXMsXG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgIGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgaSsrXG4gICAgICApXG4gICAgICAgIHN3aXRjaCAoYXR0cmlidXRlc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuYWRkKGF0dHJpYnV0ZXNbaV0ubmFtZSk7XG4gICAgICAgIH1cbiAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnQodGFnKSlcbiAgICAgICAgZm9yICh2YXIgcHJvcEtleSBpbiBwcm9wcykge1xuICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gcHJvcHNbcHJvcEtleV07XG4gICAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihwcm9wS2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKCEwICE9PSBwcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPyB2YWx1ZS5fX2h0bWwgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHZhbHVlID0gbm9ybWFsaXplSFRNTChkb21FbGVtZW50LCB2YWx1ZSkpLFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkpO1xuICAgICAgICAgICAgICAgICAgICBkaWZmSHlkcmF0ZWRTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0UGFyZW50XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0VG9wXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0TGVmdFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZnNldFdpZHRoXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0SGVpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaXNDb250ZW50RWRpdGFibGVcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvdXRlclRleHRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvdXRlckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQXNzaWdubWVudCB0byByZWFkLW9ubHkgcHJvcGVydHkgd2lsbCByZXN1bHQgaW4gYSBuby1vcDogYCVzYFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NOYW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGdldFZhbHVlRm9yQXR0cmlidXRlT25DdXN0b21Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NOYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGhvc3RDb250ZXh0LmNvbnRleHQgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZSAmJlxuICAgICAgICAgICAgICAgICAgICBcInN2Z1wiICE9PSB0YWcgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJtYXRoXCIgIT09IHRhZ1xuICAgICAgICAgICAgICAgICAgICAgID8gZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShwcm9wS2V5LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgOiBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkpLFxuICAgICAgICAgICAgICAgICAgICAgIChhdHRyaWJ1dGVzID0gZ2V0VmFsdWVGb3JBdHRyaWJ1dGVPbkN1c3RvbUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgZm9yICh2YWx1ZSBpbiBwcm9wcylcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgJiZcbiAgICAgICAgICAgICgocHJvcEtleSA9IHByb3BzW3ZhbHVlXSksIG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIodmFsdWUsIHByb3BLZXkpO1xuICAgICAgICAgICAgZWxzZSBpZiAoITAgIT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZylcbiAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgIT09IHR5cGVvZiBwcm9wS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgXCJjaGlsZHJlblwiLFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5pbm5lckhUTUw7XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gcHJvcEtleSA/IHByb3BLZXkuX19odG1sIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPSBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICgocHJvcEtleSA9IG5vcm1hbGl6ZUhUTUwoZG9tRWxlbWVudCwgcHJvcEtleSkpLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzICE9PSBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzW3ZhbHVlXSA9IHsgX19odG1sOiBhdHRyaWJ1dGVzIH0pKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc05hbWVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwidGFiSW5kZXhcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInRhYmluZGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgZGlmZkh5ZHJhdGVkU3R5bGVzKGRvbUVsZW1lbnQsIHByb3BLZXksIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50Lm11bHRpcGxlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdXRlZFwiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50Lm11dGVkLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvRm9jdXNcIjpcbiAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJhdXRvZm9jdXNcIik7XG4gICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LmF1dG9mb2N1cyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHRhZykge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YVwiKTtcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImhyZWZcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgKFwiYVwiID09PSB0YWcgJiYgXCJocmVmXCIgPT09IHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0YWcgJiYgXCJkYXRhXCIgPT09IHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgXCJzcmNcIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVGhpcyBtYXkgY2F1c2UgdGhlIGJyb3dzZXIgdG8gZG93bmxvYWQgdGhlIHdob2xlIHBhZ2UgYWdhaW4gb3ZlciB0aGUgbmV0d29yay4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFjdGlvblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmb3JtQWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtQWN0aW9uXCIgPT09IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgPyAoZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcIm5hbWVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiZm9ybWVuY3R5cGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiZm9ybW1ldGhvZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJmb3JtdGFyZ2V0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJlbmN0eXBlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcIm1ldGhvZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJ0YXJnZXRcIikpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlcyA9PT0gRVhQRUNURURfRk9STV9BQ1RJT05fVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rSHJlZlwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6aHJlZlwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRlZGl0YWJsZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNwZWxsQ2hlY2tcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuaXNoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJzcGVsbGNoZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2dhYmxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9SZXZlcnNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9jdXNhYmxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInByZXNlcnZlQWxwaGFcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuaXNoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbkF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkb3dubG9hZFwiOlxuICAgICAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgICAgICBpID0gZG9tRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSAoYXR0cmlidXRlcyA9IHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCA9IHNlcnZlckRpZmZlcmVuY2VzO1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpID0gaS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBpKVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCExID09PSBwcm9wS2V5KSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMCA9PT0gcHJvcEtleSAmJiBcIlwiID09PSBpKSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihwcm9wS2V5LCBhdHRyaWJ1dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBcIlwiICsgcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvd3NcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzcGFuXCI6XG4gICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBkb21FbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlcyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCA9IHNlcnZlckRpZmZlcmVuY2VzO1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpID0gaS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBpKVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihwcm9wS2V5KSB8fCAxID4gcHJvcEtleSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoaXNOYU4ocHJvcEtleSkgfHwgMSA+IHByb3BLZXkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24ocHJvcEtleSwgYXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gXCJcIiArIHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwicm93U3BhblwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZU51bWVyaWNBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInJvd3NwYW5cIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZU51bWVyaWNBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4SGVpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4LWhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rQWN0dWF0ZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6YWN0dWF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rQXJjcm9sZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6YXJjcm9sZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rUm9sZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6cm9sZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rU2hvd1wiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6c2hvd1wiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rVGl0bGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOnRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtUeXBlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazp0eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sQmFzZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieG1sOmJhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxMYW5nXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWw6bGFuZ1wiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhtbFNwYWNlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWw6c3BhY2VcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVbdmFsdWVdIHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW3ZhbHVlXSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIGVtcHR5IHN0cmluZyBmb3IgYSBib29sZWFuIGF0dHJpYnV0ZSBgJXNgLiBUaGlzIHdpbGwgdHJlYXQgdGhlIGF0dHJpYnV0ZSBhcyBpZiBpdCB3ZXJlIGZhbHNlLiBFaXRoZXIgcGFzcyBgZmFsc2VgIHRvIHNpbGVuY2UgdGhpcyB3YXJuaW5nLCBvciBwYXNzIGB0cnVlYCBpZiB5b3UgdXNlZCBhbiBlbXB0eSBzdHJpbmcgaW4gZWFybGllciB2ZXJzaW9ucyBvZiBSZWFjdCB0byBpbmRpY2F0ZSB0aGlzIGF0dHJpYnV0ZSBpcyB0cnVlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5BdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICEoMiA8IHZhbHVlLmxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgICAgICAgKFwib1wiICE9PSB2YWx1ZVswXSAmJiBcIk9cIiAhPT0gdmFsdWVbMF0pIHx8XG4gICAgICAgICAgICAgICAgICAgIChcIm5cIiAhPT0gdmFsdWVbMV0gJiYgXCJOXCIgIT09IHZhbHVlWzFdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBnZXRBdHRyaWJ1dGVBbGlhcyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgaG9zdENvbnRleHQuY29udGV4dCA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ZnXCIgIT09IHRhZyAmJlxuICAgICAgICAgICAgICAgICAgICBcIm1hdGhcIiAhPT0gdGFnXG4gICAgICAgICAgICAgICAgICAgICAgPyBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICgoYXR0cmlidXRlTmFtZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZU5hbWUgPSBwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwb3NzaWJsZVN0YW5kYXJkTmFtZXNbYXR0cmlidXRlTmFtZV0gfHwgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gYXR0cmlidXRlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lICE9PSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGF0dHJpYnV0ZXMgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShpKSk7XG4gICAgICAgICAgICAgICAgICAgIGE6IGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAoKGF0dHJpYnV0ZU5hbWUgPSBkb21FbGVtZW50KSxcbiAgICAgICAgICAgICAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDAgPSBpKSxcbiAgICAgICAgICAgICAgICAgICAgICAoaSA9IHByb3BLZXkpLFxuICAgICAgICAgICAgICAgICAgICAgIGlzQXR0cmlidXRlTmFtZVNhZmUoc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDApKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZS5oYXNBdHRyaWJ1dGUoc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDApXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVOYW1lLmdldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGkgPSBhdHRyaWJ1dGVOYW1lID09PSBcIlwiICsgaSA/IGkgOiBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoYXR0cmlidXRlTmFtZSA9IHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGljZSgwLCA1KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtXCIgIT09IGF0dHJpYnV0ZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLVwiICE9PSBhdHRyaWJ1dGVOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gdm9pZCAwID09PSBpID8gdm9pZCAwIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyB8fFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgIDAgPCBleHRyYUF0dHJpYnV0ZXMuc2l6ZSAmJlxuICAgICAgICAhMCAhPT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nICYmXG4gICAgICAgIHdhcm5Gb3JFeHRyYUF0dHJpYnV0ZXMoZG9tRWxlbWVudCwgZXh0cmFBdHRyaWJ1dGVzLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgICByZXR1cm4gMCA9PT0gT2JqZWN0LmtleXMoc2VydmVyRGlmZmVyZW5jZXMpLmxlbmd0aFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBzZXJ2ZXJEaWZmZXJlbmNlcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcE5hbWVzTGlzdEpvaW4obGlzdCwgY29tYmluYXRvcikge1xuICAgICAgc3dpdGNoIChsaXN0Lmxlbmd0aCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gbGlzdFswXTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiBsaXN0WzBdICsgXCIgXCIgKyBjb21iaW5hdG9yICsgXCIgXCIgKyBsaXN0WzFdO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBsaXN0LnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIikgK1xuICAgICAgICAgICAgXCIsIFwiICtcbiAgICAgICAgICAgIGNvbWJpbmF0b3IgK1xuICAgICAgICAgICAgXCIgXCIgK1xuICAgICAgICAgICAgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJFbGVtZW50KSB7XG4gICAgICByZXR1cm4gOSA9PT0gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGVcbiAgICAgICAgPyByb290Q29udGFpbmVyRWxlbWVudFxuICAgICAgICA6IHJvb3RDb250YWluZXJFbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bkhvc3RDb250ZXh0KG5hbWVzcGFjZVVSSSkge1xuICAgICAgc3dpdGNoIChuYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgY2FzZSBTVkdfTkFNRVNQQUNFOlxuICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZztcbiAgICAgICAgY2FzZSBNQVRIX05BTUVTUEFDRTpcbiAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VNYXRoO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENoaWxkSG9zdENvbnRleHRQcm9kKHBhcmVudE5hbWVzcGFjZSwgdHlwZSkge1xuICAgICAgaWYgKHBhcmVudE5hbWVzcGFjZSA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lKVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VTdmc7XG4gICAgICAgICAgY2FzZSBcIm1hdGhcIjpcbiAgICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBwYXJlbnROYW1lc3BhY2UgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnICYmXG4gICAgICAgIFwiZm9yZWlnbk9iamVjdFwiID09PSB0eXBlXG4gICAgICAgID8gSG9zdENvbnRleHROYW1lc3BhY2VOb25lXG4gICAgICAgIDogcGFyZW50TmFtZXNwYWNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRTZXRUZXh0Q29udGVudCh0eXBlLCBwcm9wcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJ0ZXh0YXJlYVwiID09PSB0eXBlIHx8XG4gICAgICAgIFwibm9zY3JpcHRcIiA9PT0gdHlwZSB8fFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gfHxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuIHx8XG4gICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiB8fFxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmXG4gICAgICAgICAgbnVsbCAhPT0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiZcbiAgICAgICAgICBudWxsICE9IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLl9faHRtbClcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZEF0dGVtcHRFYWdlclRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG4gICAgICBpZiAoZXZlbnQgJiYgXCJwb3BzdGF0ZVwiID09PSBldmVudC50eXBlKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50KSByZXR1cm4gITE7XG4gICAgICAgIGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgICBjdXJyZW50UG9wc3RhdGVUcmFuc2l0aW9uRXZlbnQgPSBudWxsO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVFcnJvckluTmV4dFRpY2soZXJyb3IpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRNb3VudChkb21FbGVtZW50LCB0eXBlLCBuZXdQcm9wcykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJidXR0b25cIjpcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgbmV3UHJvcHMuYXV0b0ZvY3VzICYmIGRvbUVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICAgIG5ld1Byb3BzLnNyY1xuICAgICAgICAgICAgPyAoZG9tRWxlbWVudC5zcmMgPSBuZXdQcm9wcy5zcmMpXG4gICAgICAgICAgICA6IG5ld1Byb3BzLnNyY1NldCAmJiAoZG9tRWxlbWVudC5zcmNzZXQgPSBuZXdQcm9wcy5zcmNTZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRVcGRhdGUoZG9tRWxlbWVudCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKSB7XG4gICAgICB1cGRhdGVQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcyk7XG4gICAgICBkb21FbGVtZW50W2ludGVybmFsUHJvcHNLZXldID0gbmV3UHJvcHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCkge1xuICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgXCJcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFRleHRVcGRhdGUodGV4dEluc3RhbmNlLCBvbGRUZXh0LCBuZXdUZXh0KSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gbmV3VGV4dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGQocGFyZW50SW5zdGFuY2UsIGNoaWxkKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcihjb250YWluZXIsIGNoaWxkKSB7XG4gICAgICA4ID09PSBjb250YWluZXIubm9kZVR5cGVcbiAgICAgICAgPyBjb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZClcbiAgICAgICAgOiBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhclN1c3BlbnNlQm91bmRhcnkocGFyZW50SW5zdGFuY2UsIHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICAgIHZhciBub2RlID0gc3VzcGVuc2VJbnN0YW5jZSxcbiAgICAgICAgZGVwdGggPSAwO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgaWYgKG5leHROb2RlICYmIDggPT09IG5leHROb2RlLm5vZGVUeXBlKVxuICAgICAgICAgIGlmICgoKG5vZGUgPSBuZXh0Tm9kZS5kYXRhKSwgbm9kZSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEpKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZGVwdGgpIHtcbiAgICAgICAgICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlQ2hpbGQobmV4dE5vZGUpO1xuICAgICAgICAgICAgICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgKG5vZGUgIT09IFNVU1BFTlNFX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgbm9kZSAhPT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIG5vZGUgIT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEpIHx8XG4gICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICAgIH0gd2hpbGUgKG5vZGUpO1xuICAgICAgcmV0cnlJZkJsb2NrZWRPbihzdXNwZW5zZUluc3RhbmNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGlkZUluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLnN0eWxlO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2Uuc2V0UHJvcGVydHlcbiAgICAgICAgPyBpbnN0YW5jZS5zZXRQcm9wZXJ0eShcImRpc3BsYXlcIiwgXCJub25lXCIsIFwiaW1wb3J0YW50XCIpXG4gICAgICAgIDogKGluc3RhbmNlLmRpc3BsYXkgPSBcIm5vbmVcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZGVUZXh0SW5zdGFuY2UodGV4dEluc3RhbmNlKSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5oaWRlSW5zdGFuY2UoaW5zdGFuY2UsIHByb3BzKSB7XG4gICAgICBwcm9wcyA9IHByb3BzW1NUWUxFXTtcbiAgICAgIHByb3BzID1cbiAgICAgICAgdm9pZCAwICE9PSBwcm9wcyAmJiBudWxsICE9PSBwcm9wcyAmJiBwcm9wcy5oYXNPd25Qcm9wZXJ0eShcImRpc3BsYXlcIilcbiAgICAgICAgICA/IHByb3BzLmRpc3BsYXlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICBpbnN0YW5jZS5zdHlsZS5kaXNwbGF5ID1cbiAgICAgICAgbnVsbCA9PSBwcm9wcyB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHByb3BzID8gXCJcIiA6IChcIlwiICsgcHJvcHMpLnRyaW0oKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5oaWRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSwgdGV4dCkge1xuICAgICAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyQ29udGFpbmVyU3BhcmluZ2x5KGNvbnRhaW5lcikge1xuICAgICAgdmFyIG5leHROb2RlID0gY29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgICBuZXh0Tm9kZSAmJiAxMCA9PT0gbmV4dE5vZGUubm9kZVR5cGUgJiYgKG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgZm9yICg7IG5leHROb2RlOyApIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXh0Tm9kZTtcbiAgICAgICAgbmV4dE5vZGUgPSBuZXh0Tm9kZS5uZXh0U2libGluZztcbiAgICAgICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgICAgY2FzZSBcIkhUTUxcIjpcbiAgICAgICAgICBjYXNlIFwiSEVBRFwiOlxuICAgICAgICAgIGNhc2UgXCJCT0RZXCI6XG4gICAgICAgICAgICBjbGVhckNvbnRhaW5lclNwYXJpbmdseShub2RlKTtcbiAgICAgICAgICAgIGRldGFjaERlbGV0ZWRJbnN0YW5jZShub2RlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJTQ1JJUFRcIjpcbiAgICAgICAgICBjYXNlIFwiU1RZTEVcIjpcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgXCJMSU5LXCI6XG4gICAgICAgICAgICBpZiAoXCJzdHlsZXNoZWV0XCIgPT09IG5vZGUucmVsLnRvTG93ZXJDYXNlKCkpIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSHlkcmF0ZUluc3RhbmNlKGluc3RhbmNlLCB0eXBlLCBwcm9wcywgaW5Sb290T3JTaW5nbGV0b24pIHtcbiAgICAgIGZvciAoOyAxID09PSBpbnN0YW5jZS5ub2RlVHlwZTsgKSB7XG4gICAgICAgIHZhciBhbnlQcm9wcyA9IHByb3BzO1xuICAgICAgICBpZiAoaW5zdGFuY2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gdHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWluUm9vdE9yU2luZ2xldG9uICYmXG4gICAgICAgICAgICAoXCJJTlBVVFwiICE9PSBpbnN0YW5jZS5ub2RlTmFtZSB8fCBcImhpZGRlblwiICE9PSBpbnN0YW5jZS50eXBlKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2UgaWYgKCFpblJvb3RPclNpbmdsZXRvbilcbiAgICAgICAgICBpZiAoXCJpbnB1dFwiID09PSB0eXBlICYmIFwiaGlkZGVuXCIgPT09IGluc3RhbmNlLnR5cGUpIHtcbiAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oYW55UHJvcHMubmFtZSwgXCJuYW1lXCIpO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBudWxsID09IGFueVByb3BzLm5hbWUgPyBudWxsIDogXCJcIiArIGFueVByb3BzLm5hbWU7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwiaGlkZGVuXCIgPT09IGFueVByb3BzLnR5cGUgJiZcbiAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSA9PT0gbmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgfSBlbHNlIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgZWxzZSBpZiAoIWluc3RhbmNlW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSlcbiAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiaXRlbXByb3BcIikpIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgICAgICBuYW1lID0gaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IG5hbWUgJiZcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXByZWNlZGVuY2VcIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBuYW1lICE9PSBhbnlQcm9wcy5yZWwgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpICE9PVxuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMuaHJlZiA/IG51bGwgOiBhbnlQcm9wcy5ocmVmKSB8fFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIpICE9PVxuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogYW55UHJvcHMuY3Jvc3NPcmlnaW4pIHx8XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgIT09XG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy50aXRsZSA/IG51bGwgOiBhbnlQcm9wcy50aXRsZSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlLmhhc0F0dHJpYnV0ZShcImRhdGEtcHJlY2VkZW5jZVwiKSkgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAgbmFtZSA9IGluc3RhbmNlLmdldEF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChuYW1lICE9PSAobnVsbCA9PSBhbnlQcm9wcy5zcmMgPyBudWxsIDogYW55UHJvcHMuc3JjKSB8fFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMudHlwZSA/IG51bGwgOiBhbnlQcm9wcy50eXBlKSB8fFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikgIT09XG4gICAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgOiBhbnlQcm9wcy5jcm9zc09yaWdpbikpICYmXG4gICAgICAgICAgICAgICAgbmFtZSAmJlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmhhc0F0dHJpYnV0ZShcImFzeW5jXCIpICYmXG4gICAgICAgICAgICAgICAgIWluc3RhbmNlLmhhc0F0dHJpYnV0ZShcIml0ZW1wcm9wXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgIGlmIChudWxsID09PSBpbnN0YW5jZSkgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuSHlkcmF0ZVRleHRJbnN0YW5jZShpbnN0YW5jZSwgdGV4dCwgaW5Sb290T3JTaW5nbGV0b24pIHtcbiAgICAgIGlmIChcIlwiID09PSB0ZXh0KSByZXR1cm4gbnVsbDtcbiAgICAgIGZvciAoOyAzICE9PSBpbnN0YW5jZS5ub2RlVHlwZTsgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoMSAhPT0gaW5zdGFuY2Uubm9kZVR5cGUgfHxcbiAgICAgICAgICAgIFwiSU5QVVRcIiAhPT0gaW5zdGFuY2Uubm9kZU5hbWUgfHxcbiAgICAgICAgICAgIFwiaGlkZGVuXCIgIT09IGluc3RhbmNlLnR5cGUpICYmXG4gICAgICAgICAgIWluUm9vdE9yU2luZ2xldG9uXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgIGlmIChudWxsID09PSBpbnN0YW5jZSkgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5leHRIeWRyYXRhYmxlKG5vZGUpIHtcbiAgICAgIGZvciAoOyBudWxsICE9IG5vZGU7IG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIGlmICgxID09PSBub2RlVHlwZSB8fCAzID09PSBub2RlVHlwZSkgYnJlYWs7XG4gICAgICAgIGlmICg4ID09PSBub2RlVHlwZSkge1xuICAgICAgICAgIG5vZGVUeXBlID0gbm9kZS5kYXRhO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBTVVNQRU5TRV9TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkcgfHxcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBGT1JNX1NUQVRFX0lTX05PVF9NQVRDSElOR1xuICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGlmIChub2RlVHlwZSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEpIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVIeWRyYXRhYmxlSW5zdGFuY2VGb3JEZXZXYXJuaW5ncyhpbnN0YW5jZSkge1xuICAgICAgaWYgKDEgPT09IGluc3RhbmNlLm5vZGVUeXBlKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyA9IHt9LFxuICAgICAgICAgICAgYXR0cmlidXRlcyA9IGluc3RhbmNlLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICBpIDwgYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgaSsrXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBhdHRyID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1tnZXRQcm9wTmFtZUZyb21BdHRyaWJ1dGVOYW1lKGF0dHIubmFtZSldID1cbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gYXR0ci5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgPyBnZXRTdHlsZXNPYmplY3RGcm9tRWxlbWVudChpbnN0YW5jZSlcbiAgICAgICAgICAgICAgOiBhdHRyLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHR5cGU6IEpTQ29tcGlsZXJfdGVtcF9jb25zdCwgcHJvcHM6IHNlcnZlckRpZmZlcmVuY2VzIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gOCA9PT0gaW5zdGFuY2Uubm9kZVR5cGVcbiAgICAgICAgPyB7IHR5cGU6IFwiU3VzcGVuc2VcIiwgcHJvcHM6IHt9IH1cbiAgICAgICAgOiBpbnN0YW5jZS5ub2RlVmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZIeWRyYXRlZFRleHRGb3JEZXZXYXJuaW5ncyh0ZXh0SW5zdGFuY2UsIHRleHQsIHBhcmVudFByb3BzKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gcGFyZW50UHJvcHMgfHxcbiAgICAgICAgITAgIT09IHBhcmVudFByb3BzW1NVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HXVxuICAgICAgICA/ICh0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID09PSB0ZXh0XG4gICAgICAgICAgICA/ICh0ZXh0SW5zdGFuY2UgPSBudWxsKVxuICAgICAgICAgICAgOiAoKHRleHQgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUodGV4dCkpLFxuICAgICAgICAgICAgICAodGV4dEluc3RhbmNlID1cbiAgICAgICAgICAgICAgICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUodGV4dEluc3RhbmNlLm5vZGVWYWx1ZSkgPT09XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICA6IHRleHRJbnN0YW5jZS5ub2RlVmFsdWUpKSxcbiAgICAgICAgICB0ZXh0SW5zdGFuY2UpXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGVJbnN0YW5jZUFmdGVyU3VzcGVuc2VJbnN0YW5jZShzdXNwZW5zZUluc3RhbmNlKSB7XG4gICAgICBzdXNwZW5zZUluc3RhbmNlID0gc3VzcGVuc2VJbnN0YW5jZS5uZXh0U2libGluZztcbiAgICAgIGZvciAodmFyIGRlcHRoID0gMDsgc3VzcGVuc2VJbnN0YW5jZTsgKSB7XG4gICAgICAgIGlmICg4ID09PSBzdXNwZW5zZUluc3RhbmNlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSBzdXNwZW5zZUluc3RhbmNlLmRhdGE7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IFNVU1BFTlNFX0VORF9EQVRBKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZGVwdGgpXG4gICAgICAgICAgICAgIHJldHVybiBnZXROZXh0SHlkcmF0YWJsZShzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAoZGF0YSAhPT0gU1VTUEVOU0VfU1RBUlRfREFUQSAmJlxuICAgICAgICAgICAgICBkYXRhICE9PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIGRhdGEgIT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSkgfHxcbiAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgICBzdXNwZW5zZUluc3RhbmNlID0gc3VzcGVuc2VJbnN0YW5jZS5uZXh0U2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQYXJlbnRTdXNwZW5zZUluc3RhbmNlKHRhcmdldEluc3RhbmNlKSB7XG4gICAgICB0YXJnZXRJbnN0YW5jZSA9IHRhcmdldEluc3RhbmNlLnByZXZpb3VzU2libGluZztcbiAgICAgIGZvciAodmFyIGRlcHRoID0gMDsgdGFyZ2V0SW5zdGFuY2U7ICkge1xuICAgICAgICBpZiAoOCA9PT0gdGFyZ2V0SW5zdGFuY2Uubm9kZVR5cGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHRhcmdldEluc3RhbmNlLmRhdGE7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZGF0YSA9PT0gU1VTUEVOU0VfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgZGF0YSA9PT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgZGF0YSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gZGVwdGgpIHJldHVybiB0YXJnZXRJbnN0YW5jZTtcbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgfSBlbHNlIGRhdGEgPT09IFNVU1BFTlNFX0VORF9EQVRBICYmIGRlcHRoKys7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0SW5zdGFuY2UgPSB0YXJnZXRJbnN0YW5jZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SHlkcmF0ZWRDb250YWluZXIoY29udGFpbmVyKSB7XG4gICAgICByZXRyeUlmQmxvY2tlZE9uKGNvbnRhaW5lcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEh5ZHJhdGVkU3VzcGVuc2VJbnN0YW5jZShzdXNwZW5zZUluc3RhbmNlKSB7XG4gICAgICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICByb290Q29udGFpbmVySW5zdGFuY2UsXG4gICAgICBob3N0Q29udGV4dCxcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZ0RldlxuICAgICkge1xuICAgICAgdmFsaWRhdGVET01OZXN0aW5nRGV2ICYmXG4gICAgICAgIHZhbGlkYXRlRE9NTmVzdGluZyh0eXBlLCBob3N0Q29udGV4dC5hbmNlc3RvckluZm8pO1xuICAgICAgcHJvcHMgPSBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckluc3RhbmNlKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICAgIHR5cGUgPSBwcm9wcy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKCF0eXBlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgZXhwZWN0ZWQgYW4gPGh0bWw+IGVsZW1lbnQgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgdG8gZXhpc3QgaW4gdGhlIERvY3VtZW50IGJ1dCBvbmUgd2FzIG5vdCBmb3VuZC4gUmVhY3QgbmV2ZXIgcmVtb3ZlcyB0aGUgZG9jdW1lbnRFbGVtZW50IGZvciBhbnkgRG9jdW1lbnQgaXQgcmVuZGVycyBpbnRvIHNvIHRoZSBjYXVzZSBpcyBsaWtlbHkgaW4gc29tZSBvdGhlciBzY3JpcHQgcnVubmluZyBvbiB0aGlzIHBhZ2UuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgICAgdHlwZSA9IHByb3BzLmhlYWQ7XG4gICAgICAgICAgaWYgKCF0eXBlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgZXhwZWN0ZWQgYSA8aGVhZD4gZWxlbWVudCAoZG9jdW1lbnQuaGVhZCkgdG8gZXhpc3QgaW4gdGhlIERvY3VtZW50IGJ1dCBvbmUgd2FzIG5vdCBmb3VuZC4gUmVhY3QgbmV2ZXIgcmVtb3ZlcyB0aGUgaGVhZCBmb3IgYW55IERvY3VtZW50IGl0IHJlbmRlcnMgaW50byBzbyB0aGUgY2F1c2UgaXMgbGlrZWx5IGluIHNvbWUgb3RoZXIgc2NyaXB0IHJ1bm5pbmcgb24gdGhpcyBwYWdlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgIHR5cGUgPSBwcm9wcy5ib2R5O1xuICAgICAgICAgIGlmICghdHlwZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGV4cGVjdGVkIGEgPGJvZHk+IGVsZW1lbnQgKGRvY3VtZW50LmJvZHkpIHRvIGV4aXN0IGluIHRoZSBEb2N1bWVudCBidXQgb25lIHdhcyBub3QgZm91bmQuIFJlYWN0IG5ldmVyIHJlbW92ZXMgdGhlIGJvZHkgZm9yIGFueSBEb2N1bWVudCBpdCByZW5kZXJzIGludG8gc28gdGhlIGNhdXNlIGlzIGxpa2VseSBpbiBzb21lIG90aGVyIHNjcmlwdCBydW5uaW5nIG9uIHRoaXMgcGFnZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwicmVzb2x2ZVNpbmdsZXRvbkluc3RhbmNlIHdhcyBjYWxsZWQgd2l0aCBhbiBlbGVtZW50IHR5cGUgdGhhdCBpcyBub3Qgc3VwcG9ydGVkLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWNxdWlyZVNpbmdsZXRvbkluc3RhbmNlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICBpbnRlcm5hbEluc3RhbmNlSGFuZGxlXG4gICAgKSB7XG4gICAgICBpZiAoZ2V0SW5zdGFuY2VGcm9tTm9kZShpbnN0YW5jZSkpIHtcbiAgICAgICAgdmFyIHRhZ05hbWUgPSBpbnN0YW5jZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJZb3UgYXJlIG1vdW50aW5nIGEgbmV3ICVzIGNvbXBvbmVudCB3aGVuIGEgcHJldmlvdXMgb25lIGhhcyBub3QgZmlyc3QgdW5tb3VudGVkLiBJdCBpcyBhbiBlcnJvciB0byByZW5kZXIgbW9yZSB0aGFuIG9uZSAlcyBjb21wb25lbnQgYXQgYSB0aW1lIGFuZCBhdHRyaWJ1dGVzIGFuZCBjaGlsZHJlbiBvZiB0aGVzZSBjb21wb25lbnRzIHdpbGwgbGlrZWx5IGZhaWwgaW4gdW5wcmVkaWN0YWJsZSB3YXlzLiBQbGVhc2Ugb25seSByZW5kZXIgYSBzaW5nbGUgaW5zdGFuY2Ugb2YgPCVzPiBhbmQgaWYgeW91IG5lZWQgdG8gbW91bnQgYSBuZXcgb25lLCBlbnN1cmUgYW55IHByZXZpb3VzIG9uZXMgaGF2ZSB1bm1vdW50ZWQgZmlyc3QuXCIsXG4gICAgICAgICAgdGFnTmFtZSxcbiAgICAgICAgICB0YWdOYW1lLFxuICAgICAgICAgIHRhZ05hbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiaHRtbFwiOlxuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImFjcXVpcmVTaW5nbGV0b25JbnN0YW5jZSB3YXMgY2FsbGVkIHdpdGggYW4gZWxlbWVudCB0eXBlIHRoYXQgaXMgbm90IHN1cHBvcnRlZC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBmb3IgKHRhZ05hbWUgPSBpbnN0YW5jZS5hdHRyaWJ1dGVzOyB0YWdOYW1lLmxlbmd0aDsgKVxuICAgICAgICBpbnN0YW5jZS5yZW1vdmVBdHRyaWJ1dGVOb2RlKHRhZ05hbWVbMF0pO1xuICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaW5zdGFuY2UsIHR5cGUsIHByb3BzKTtcbiAgICAgIGluc3RhbmNlW2ludGVybmFsSW5zdGFuY2VLZXldID0gaW50ZXJuYWxJbnN0YW5jZUhhbmRsZTtcbiAgICAgIGluc3RhbmNlW2ludGVybmFsUHJvcHNLZXldID0gcHJvcHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvaXN0YWJsZVJvb3QoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29udGFpbmVyLmdldFJvb3ROb2RlXG4gICAgICAgID8gY29udGFpbmVyLmdldFJvb3ROb2RlKClcbiAgICAgICAgOiBjb250YWluZXIub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlY29ubmVjdEFzKHJlbCwgaHJlZiwgY3Jvc3NPcmlnaW4pIHtcbiAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB7XG4gICAgICAgIHZhciBsaW1pdGVkRXNjYXBlZEhyZWYgPVxuICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZik7XG4gICAgICAgIGxpbWl0ZWRFc2NhcGVkSHJlZiA9XG4gICAgICAgICAgJ2xpbmtbcmVsPVwiJyArIHJlbCArICdcIl1baHJlZj1cIicgKyBsaW1pdGVkRXNjYXBlZEhyZWYgKyAnXCJdJztcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNyb3NzT3JpZ2luICYmXG4gICAgICAgICAgKGxpbWl0ZWRFc2NhcGVkSHJlZiArPSAnW2Nyb3Nzb3JpZ2luPVwiJyArIGNyb3NzT3JpZ2luICsgJ1wiXScpO1xuICAgICAgICBwcmVjb25uZWN0c1NldC5oYXMobGltaXRlZEVzY2FwZWRIcmVmKSB8fFxuICAgICAgICAgIChwcmVjb25uZWN0c1NldC5hZGQobGltaXRlZEVzY2FwZWRIcmVmKSxcbiAgICAgICAgICAocmVsID0geyByZWw6IHJlbCwgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLCBocmVmOiBocmVmIH0pLFxuICAgICAgICAgIG51bGwgPT09IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihsaW1pdGVkRXNjYXBlZEhyZWYpICYmXG4gICAgICAgICAgICAoKGhyZWYgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKSxcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGhyZWYsIFwibGlua1wiLCByZWwpLFxuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShocmVmKSxcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChocmVmKSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZXNvdXJjZSh0eXBlLCBjdXJyZW50UHJvcHMsIHBlbmRpbmdQcm9wcywgY3VycmVudFJlc291cmNlKSB7XG4gICAgICB2YXIgcmVzb3VyY2VSb290ID0gKHJlc291cmNlUm9vdCA9IHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpXG4gICAgICAgID8gZ2V0SG9pc3RhYmxlUm9vdChyZXNvdXJjZVJvb3QpXG4gICAgICAgIDogbnVsbDtcbiAgICAgIGlmICghcmVzb3VyY2VSb290KVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnXCJyZXNvdXJjZVJvb3RcIiB3YXMgZXhwZWN0ZWQgdG8gZXhpc3QuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICApO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5wcmVjZWRlbmNlICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLmhyZWZcbiAgICAgICAgICAgID8gKChwZW5kaW5nUHJvcHMgPSBnZXRTdHlsZUtleShwZW5kaW5nUHJvcHMuaHJlZikpLFxuICAgICAgICAgICAgICAoY3VycmVudFByb3BzID1cbiAgICAgICAgICAgICAgICBnZXRSZXNvdXJjZXNGcm9tUm9vdChyZXNvdXJjZVJvb3QpLmhvaXN0YWJsZVN0eWxlcyksXG4gICAgICAgICAgICAgIChjdXJyZW50UmVzb3VyY2UgPSBjdXJyZW50UHJvcHMuZ2V0KHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgICAoKGN1cnJlbnRSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3R5bGVcIixcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcy5zZXQocGVuZGluZ1Byb3BzLCBjdXJyZW50UmVzb3VyY2UpKSxcbiAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgOiB7IHR5cGU6IFwidm9pZFwiLCBpbnN0YW5jZTogbnVsbCwgY291bnQ6IDAsIHN0YXRlOiBudWxsIH07XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHBlbmRpbmdQcm9wcy5yZWwgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMuaHJlZiAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0eXBlID0gZ2V0U3R5bGVLZXkocGVuZGluZ1Byb3BzLmhyZWYpO1xuICAgICAgICAgICAgdmFyIF9zdHlsZXMgPSBnZXRSZXNvdXJjZXNGcm9tUm9vdChyZXNvdXJjZVJvb3QpLmhvaXN0YWJsZVN0eWxlcyxcbiAgICAgICAgICAgICAgX3Jlc291cmNlID0gX3N0eWxlcy5nZXQodHlwZSk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFfcmVzb3VyY2UgJiZcbiAgICAgICAgICAgICAgKChyZXNvdXJjZVJvb3QgPSByZXNvdXJjZVJvb3Qub3duZXJEb2N1bWVudCB8fCByZXNvdXJjZVJvb3QpLFxuICAgICAgICAgICAgICAoX3Jlc291cmNlID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB7IGxvYWRpbmc6IE5vdExvYWRlZCwgcHJlbG9hZDogbnVsbCB9XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBfc3R5bGVzLnNldCh0eXBlLCBfcmVzb3VyY2UpLFxuICAgICAgICAgICAgICAoX3N0eWxlcyA9IHJlc291cmNlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkodHlwZSlcbiAgICAgICAgICAgICAgKSkgJiZcbiAgICAgICAgICAgICAgICAhX3N0eWxlcy5fcCAmJlxuICAgICAgICAgICAgICAgICgoX3Jlc291cmNlLmluc3RhbmNlID0gX3N0eWxlcyksXG4gICAgICAgICAgICAgICAgKF9yZXNvdXJjZS5zdGF0ZS5sb2FkaW5nID0gTG9hZGVkIHwgSW5zZXJ0ZWQpKSxcbiAgICAgICAgICAgICAgIXByZWxvYWRQcm9wc01hcC5oYXModHlwZSkpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIHByZWxvYWRQcm9wcyA9IHtcbiAgICAgICAgICAgICAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgICAgICAgICAgICAgIGFzOiBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgaHJlZjogcGVuZGluZ1Byb3BzLmhyZWYsXG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IHBlbmRpbmdQcm9wcy5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6IHBlbmRpbmdQcm9wcy5pbnRlZ3JpdHksXG4gICAgICAgICAgICAgICAgbWVkaWE6IHBlbmRpbmdQcm9wcy5tZWRpYSxcbiAgICAgICAgICAgICAgICBocmVmTGFuZzogcGVuZGluZ1Byb3BzLmhyZWZMYW5nLFxuICAgICAgICAgICAgICAgIHJlZmVycmVyUG9saWN5OiBwZW5kaW5nUHJvcHMucmVmZXJyZXJQb2xpY3lcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcHJlbG9hZFByb3BzTWFwLnNldCh0eXBlLCBwcmVsb2FkUHJvcHMpO1xuICAgICAgICAgICAgICBfc3R5bGVzIHx8XG4gICAgICAgICAgICAgICAgcHJlbG9hZFN0eWxlc2hlZXQoXG4gICAgICAgICAgICAgICAgICByZXNvdXJjZVJvb3QsXG4gICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgcHJlbG9hZFByb3BzLFxuICAgICAgICAgICAgICAgICAgX3Jlc291cmNlLnN0YXRlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50UHJvcHMgJiYgbnVsbCA9PT0gY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgKChwZW5kaW5nUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgXCJcXG5cXG4gIC0gXCIgK1xuICAgICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihjdXJyZW50UHJvcHMpICtcbiAgICAgICAgICAgICAgICAgIFwiXFxuICArIFwiICtcbiAgICAgICAgICAgICAgICAgIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIDxsaW5rPiBub3QgdG8gdXBkYXRlIHRvIGJlIHVwZGF0ZWQgdG8gYSBzdHlsZXNoZWV0IHdpdGggcHJlY2VkZW5jZS4gQ2hlY2sgdGhlIGByZWxgLCBgaHJlZmAsIGFuZCBgcHJlY2VkZW5jZWAgcHJvcHMgb2YgdGhpcyBjb21wb25lbnQuIEFsdGVybmF0aXZlbHksIGNoZWNrIHdoZXRoZXIgdHdvIGRpZmZlcmVudCA8bGluaz4gY29tcG9uZW50cyByZW5kZXIgaW4gdGhlIHNhbWUgc2xvdCBvciBzaGFyZSB0aGUgc2FtZSBrZXkuXCIgK1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUHJvcHNcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIF9yZXNvdXJjZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGN1cnJlbnRQcm9wcyAmJiBudWxsICE9PSBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICgocGVuZGluZ1Byb3BzID1cbiAgICAgICAgICAgICAgICBcIlxcblxcbiAgLSBcIiArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihjdXJyZW50UHJvcHMpICtcbiAgICAgICAgICAgICAgICBcIlxcbiAgKyBcIiArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBzdHlsZXNoZWV0IHdpdGggcHJlY2VkZW5jZSB0byBub3QgYmUgdXBkYXRlZCB0byBhIGRpZmZlcmVudCBraW5kIG9mIDxsaW5rPi4gQ2hlY2sgdGhlIGByZWxgLCBgaHJlZmAsIGFuZCBgcHJlY2VkZW5jZWAgcHJvcHMgb2YgdGhpcyBjb21wb25lbnQuIEFsdGVybmF0aXZlbHksIGNoZWNrIHdoZXRoZXIgdHdvIGRpZmZlcmVudCA8bGluaz4gY29tcG9uZW50cyByZW5kZXIgaW4gdGhlIHNhbWUgc2xvdCBvciBzaGFyZSB0aGUgc2FtZSBrZXkuXCIgK1xuICAgICAgICAgICAgICAgICAgcGVuZGluZ1Byb3BzXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50UHJvcHMgPSBwZW5kaW5nUHJvcHMuYXN5bmMpLFxuICAgICAgICAgICAgKHBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcy5zcmMpLFxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcyAmJlxuICAgICAgICAgICAgY3VycmVudFByb3BzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjdXJyZW50UHJvcHMgJiZcbiAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBjdXJyZW50UHJvcHNcbiAgICAgICAgICAgICAgPyAoKHBlbmRpbmdQcm9wcyA9IGdldFNjcmlwdEtleShwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFByb3BzID1cbiAgICAgICAgICAgICAgICAgIGdldFJlc291cmNlc0Zyb21Sb290KHJlc291cmNlUm9vdCkuaG9pc3RhYmxlU2NyaXB0cyksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRSZXNvdXJjZSA9IGN1cnJlbnRQcm9wcy5nZXQocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlIHx8XG4gICAgICAgICAgICAgICAgICAoKGN1cnJlbnRSZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZTogbnVsbFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMuc2V0KHBlbmRpbmdQcm9wcywgY3VycmVudFJlc291cmNlKSksXG4gICAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgICA6IHsgdHlwZTogXCJ2b2lkXCIsIGluc3RhbmNlOiBudWxsLCBjb3VudDogMCwgc3RhdGU6IG51bGwgfVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAnZ2V0UmVzb3VyY2UgZW5jb3VudGVyZWQgYSB0eXBlIGl0IGRpZCBub3QgZXhwZWN0OiBcIicgK1xuICAgICAgICAgICAgICB0eXBlICtcbiAgICAgICAgICAgICAgJ1wiLiB0aGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKHByb3BzKSB7XG4gICAgICB2YXIgZGVzY3JpYmVkUHJvcHMgPSAwLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IFwiPGxpbmtcIjtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5yZWxcbiAgICAgICAgPyAoZGVzY3JpYmVkUHJvcHMrKywgKGRlc2NyaXB0aW9uICs9ICcgcmVsPVwiJyArIHByb3BzLnJlbCArICdcIicpKVxuICAgICAgICA6IGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwicmVsXCIpICYmXG4gICAgICAgICAgKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAnIHJlbD1cIicgK1xuICAgICAgICAgICAgKG51bGwgPT09IHByb3BzLnJlbCA/IFwibnVsbFwiIDogXCJpbnZhbGlkIHR5cGUgXCIgKyB0eXBlb2YgcHJvcHMucmVsKSArXG4gICAgICAgICAgICAnXCInKSk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMuaHJlZlxuICAgICAgICA/IChkZXNjcmliZWRQcm9wcysrLCAoZGVzY3JpcHRpb24gKz0gJyBocmVmPVwiJyArIHByb3BzLmhyZWYgKyAnXCInKSlcbiAgICAgICAgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcImhyZWZcIikgJiZcbiAgICAgICAgICAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICcgaHJlZj1cIicgK1xuICAgICAgICAgICAgKG51bGwgPT09IHByb3BzLmhyZWZcbiAgICAgICAgICAgICAgPyBcIm51bGxcIlxuICAgICAgICAgICAgICA6IFwiaW52YWxpZCB0eXBlIFwiICsgdHlwZW9mIHByb3BzLmhyZWYpICtcbiAgICAgICAgICAgICdcIicpKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgID8gKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9ICcgcHJlY2VkZW5jZT1cIicgKyBwcm9wcy5wcmVjZWRlbmNlICsgJ1wiJykpXG4gICAgICAgIDogaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJwcmVjZWRlbmNlXCIpICYmXG4gICAgICAgICAgKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICBcIiBwcmVjZWRlbmNlPXtcIiArXG4gICAgICAgICAgICAobnVsbCA9PT0gcHJvcHMucHJlY2VkZW5jZVxuICAgICAgICAgICAgICA/IFwibnVsbFwiXG4gICAgICAgICAgICAgIDogXCJpbnZhbGlkIHR5cGUgXCIgKyB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZSkgK1xuICAgICAgICAgICAgXCJ9XCIpKTtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3BzKS5sZW5ndGggPiBkZXNjcmliZWRQcm9wcyAmJlxuICAgICAgICAoZGVzY3JpcHRpb24gKz0gXCIgLi4uXCIpO1xuICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uICsgXCIgLz5cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVLZXkoaHJlZikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJ2hyZWY9XCInICsgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKSArICdcIidcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KSB7XG4gICAgICByZXR1cm4gJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXVsnICsga2V5ICsgXCJdXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0eWxlc2hlZXRQcm9wc0Zyb21SYXdQcm9wcyhyYXdQcm9wcykge1xuICAgICAgcmV0dXJuIGFzc2lnbih7fSwgcmF3UHJvcHMsIHtcbiAgICAgICAgXCJkYXRhLXByZWNlZGVuY2VcIjogcmF3UHJvcHMucHJlY2VkZW5jZSxcbiAgICAgICAgcHJlY2VkZW5jZTogbnVsbFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWxvYWRTdHlsZXNoZWV0KG93bmVyRG9jdW1lbnQsIGtleSwgcHJlbG9hZFByb3BzLCBzdGF0ZSkge1xuICAgICAgb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAnbGlua1tyZWw9XCJwcmVsb2FkXCJdW2FzPVwic3R5bGVcIl1bJyArIGtleSArIFwiXVwiXG4gICAgICApXG4gICAgICAgID8gKHN0YXRlLmxvYWRpbmcgPSBMb2FkZWQpXG4gICAgICAgIDogKChrZXkgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKSxcbiAgICAgICAgICAoc3RhdGUucHJlbG9hZCA9IGtleSksXG4gICAgICAgICAga2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoc3RhdGUubG9hZGluZyB8PSBMb2FkZWQpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGtleS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5sb2FkaW5nIHw9IEVycm9yZWQpO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGtleSwgXCJsaW5rXCIsIHByZWxvYWRQcm9wcyksXG4gICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShrZXkpLFxuICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChrZXkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2NyaXB0S2V5KHNyYykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgJ1tzcmM9XCInICsgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhzcmMpICsgJ1wiXSdcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpIHtcbiAgICAgIHJldHVybiBcInNjcmlwdFthc3luY11cIiArIGtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNxdWlyZVJlc291cmNlKGhvaXN0YWJsZVJvb3QsIHJlc291cmNlLCBwcm9wcykge1xuICAgICAgcmVzb3VyY2UuY291bnQrKztcbiAgICAgIGlmIChudWxsID09PSByZXNvdXJjZS5pbnN0YW5jZSlcbiAgICAgICAgc3dpdGNoIChyZXNvdXJjZS50eXBlKSB7XG4gICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICdzdHlsZVtkYXRhLWhyZWZ+PVwiJyArXG4gICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlcyhwcm9wcy5ocmVmKSArXG4gICAgICAgICAgICAgICAgJ1wiXSdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLmluc3RhbmNlID0gaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgc3R5bGVQcm9wcyA9IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICAgICAgXCJkYXRhLWhyZWZcIjogcHJvcHMuaHJlZixcbiAgICAgICAgICAgICAgXCJkYXRhLXByZWNlZGVuY2VcIjogcHJvcHMucHJlY2VkZW5jZSxcbiAgICAgICAgICAgICAgaHJlZjogbnVsbCxcbiAgICAgICAgICAgICAgcHJlY2VkZW5jZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IChcbiAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3RcbiAgICAgICAgICAgICkuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSk7XG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhpbnN0YW5jZSwgXCJzdHlsZVwiLCBzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIGluc2VydFN0eWxlc2hlZXQoaW5zdGFuY2UsIHByb3BzLnByZWNlZGVuY2UsIGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlKTtcbiAgICAgICAgICBjYXNlIFwic3R5bGVzaGVldFwiOlxuICAgICAgICAgICAgc3R5bGVQcm9wcyA9IGdldFN0eWxlS2V5KHByb3BzLmhyZWYpO1xuICAgICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShzdHlsZVByb3BzKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChfaW5zdGFuY2UpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQpLFxuICAgICAgICAgICAgICAgIChyZXNvdXJjZS5pbnN0YW5jZSA9IF9pbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShfaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBzdHlsZXNoZWV0UHJvcHNGcm9tUmF3UHJvcHMocHJvcHMpO1xuICAgICAgICAgICAgKHN0eWxlUHJvcHMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KHN0eWxlUHJvcHMpKSAmJlxuICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQoaW5zdGFuY2UsIHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgX2luc3RhbmNlID0gKFxuICAgICAgICAgICAgICBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdFxuICAgICAgICAgICAgKS5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoX2luc3RhbmNlKTtcbiAgICAgICAgICAgIHZhciBsaW5rSW5zdGFuY2UgPSBfaW5zdGFuY2U7XG4gICAgICAgICAgICBsaW5rSW5zdGFuY2UuX3AgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICAgICAgICBsaW5rSW5zdGFuY2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoX2luc3RhbmNlLCBcImxpbmtcIiwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgcmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgICAgICAgIGluc2VydFN0eWxlc2hlZXQoX2luc3RhbmNlLCBwcm9wcy5wcmVjZWRlbmNlLCBob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgIHJldHVybiAocmVzb3VyY2UuaW5zdGFuY2UgPSBfaW5zdGFuY2UpO1xuICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IGdldFNjcmlwdEtleShwcm9wcy5zcmMpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoc3R5bGVQcm9wcyA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoX2luc3RhbmNlKVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChyZXNvdXJjZS5pbnN0YW5jZSA9IHN0eWxlUHJvcHMpLFxuICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoc3R5bGVQcm9wcyksXG4gICAgICAgICAgICAgICAgc3R5bGVQcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSBwcm9wcztcbiAgICAgICAgICAgIGlmICgoc3R5bGVQcm9wcyA9IHByZWxvYWRQcm9wc01hcC5nZXQoX2luc3RhbmNlKSkpXG4gICAgICAgICAgICAgIChpbnN0YW5jZSA9IGFzc2lnbih7fSwgcHJvcHMpKSxcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChpbnN0YW5jZSwgc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICBob2lzdGFibGVSb290ID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICBzdHlsZVByb3BzID0gaG9pc3RhYmxlUm9vdC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHN0eWxlUHJvcHMsIFwibGlua1wiLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICBob2lzdGFibGVSb290LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc291cmNlLmluc3RhbmNlID0gc3R5bGVQcm9wcyk7XG4gICAgICAgICAgY2FzZSBcInZvaWRcIjpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgJ2FjcXVpcmVSZXNvdXJjZSBlbmNvdW50ZXJlZCBhIHJlc291cmNlIHR5cGUgaXQgZGlkIG5vdCBleHBlY3Q6IFwiJyArXG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSArXG4gICAgICAgICAgICAgICAgJ1wiLiB0aGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHJlc291cmNlLnR5cGUgJiZcbiAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSA9PT0gTm90TG9hZGVkICYmXG4gICAgICAgICAgKChpbnN0YW5jZSA9IHJlc291cmNlLmluc3RhbmNlKSxcbiAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZCksXG4gICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChpbnN0YW5jZSwgcHJvcHMucHJlY2VkZW5jZSwgaG9pc3RhYmxlUm9vdCkpO1xuICAgICAgcmV0dXJuIHJlc291cmNlLmluc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRTdHlsZXNoZWV0KGluc3RhbmNlLCBwcmVjZWRlbmNlLCByb290KSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgbm9kZXMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAnbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdW2RhdGEtcHJlY2VkZW5jZV0sc3R5bGVbZGF0YS1wcmVjZWRlbmNlXSdcbiAgICAgICAgICApLFxuICAgICAgICAgIGxhc3QgPSBub2Rlcy5sZW5ndGggPyBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXSA6IG51bGwsXG4gICAgICAgICAgcHJpb3IgPSBsYXN0LFxuICAgICAgICAgIGkgPSAwO1xuICAgICAgICBpIDwgbm9kZXMubGVuZ3RoO1xuICAgICAgICBpKytcbiAgICAgICkge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5kYXRhc2V0LnByZWNlZGVuY2UgPT09IHByZWNlZGVuY2UpIHByaW9yID0gbm9kZTtcbiAgICAgICAgZWxzZSBpZiAocHJpb3IgIT09IGxhc3QpIGJyZWFrO1xuICAgICAgfVxuICAgICAgcHJpb3JcbiAgICAgICAgPyBwcmlvci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpbnN0YW5jZSwgcHJpb3IubmV4dFNpYmxpbmcpXG4gICAgICAgIDogKChwcmVjZWRlbmNlID0gOSA9PT0gcm9vdC5ub2RlVHlwZSA/IHJvb3QuaGVhZCA6IHJvb3QpLFxuICAgICAgICAgIHByZWNlZGVuY2UuaW5zZXJ0QmVmb3JlKGluc3RhbmNlLCBwcmVjZWRlbmNlLmZpcnN0Q2hpbGQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRvcHRQcmVsb2FkUHJvcHNGb3JTdHlsZXNoZWV0KHN0eWxlc2hlZXRQcm9wcywgcHJlbG9hZFByb3BzKSB7XG4gICAgICBudWxsID09IHN0eWxlc2hlZXRQcm9wcy5jcm9zc09yaWdpbiAmJlxuICAgICAgICAoc3R5bGVzaGVldFByb3BzLmNyb3NzT3JpZ2luID0gcHJlbG9hZFByb3BzLmNyb3NzT3JpZ2luKTtcbiAgICAgIG51bGwgPT0gc3R5bGVzaGVldFByb3BzLnJlZmVycmVyUG9saWN5ICYmXG4gICAgICAgIChzdHlsZXNoZWV0UHJvcHMucmVmZXJyZXJQb2xpY3kgPSBwcmVsb2FkUHJvcHMucmVmZXJyZXJQb2xpY3kpO1xuICAgICAgbnVsbCA9PSBzdHlsZXNoZWV0UHJvcHMudGl0bGUgJiZcbiAgICAgICAgKHN0eWxlc2hlZXRQcm9wcy50aXRsZSA9IHByZWxvYWRQcm9wcy50aXRsZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkb3B0UHJlbG9hZFByb3BzRm9yU2NyaXB0KHNjcmlwdFByb3BzLCBwcmVsb2FkUHJvcHMpIHtcbiAgICAgIG51bGwgPT0gc2NyaXB0UHJvcHMuY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgKHNjcmlwdFByb3BzLmNyb3NzT3JpZ2luID0gcHJlbG9hZFByb3BzLmNyb3NzT3JpZ2luKTtcbiAgICAgIG51bGwgPT0gc2NyaXB0UHJvcHMucmVmZXJyZXJQb2xpY3kgJiZcbiAgICAgICAgKHNjcmlwdFByb3BzLnJlZmVycmVyUG9saWN5ID0gcHJlbG9hZFByb3BzLnJlZmVycmVyUG9saWN5KTtcbiAgICAgIG51bGwgPT0gc2NyaXB0UHJvcHMuaW50ZWdyaXR5ICYmXG4gICAgICAgIChzY3JpcHRQcm9wcy5pbnRlZ3JpdHkgPSBwcmVsb2FkUHJvcHMuaW50ZWdyaXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SHlkcmF0YWJsZUhvaXN0YWJsZUNhY2hlKHR5cGUsIGtleUF0dHJpYnV0ZSwgb3duZXJEb2N1bWVudCkge1xuICAgICAgaWYgKG51bGwgPT09IHRhZ0NhY2hlcykge1xuICAgICAgICB2YXIgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHZhciBjYWNoZXMgPSAodGFnQ2FjaGVzID0gbmV3IE1hcCgpKTtcbiAgICAgICAgY2FjaGVzLnNldChvd25lckRvY3VtZW50LCBjYWNoZSk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKGNhY2hlcyA9IHRhZ0NhY2hlcyksXG4gICAgICAgICAgKGNhY2hlID0gY2FjaGVzLmdldChvd25lckRvY3VtZW50KSksXG4gICAgICAgICAgY2FjaGUgfHwgKChjYWNoZSA9IG5ldyBNYXAoKSksIGNhY2hlcy5zZXQob3duZXJEb2N1bWVudCwgY2FjaGUpKTtcbiAgICAgIGlmIChjYWNoZS5oYXModHlwZSkpIHJldHVybiBjYWNoZTtcbiAgICAgIGNhY2hlLnNldCh0eXBlLCBudWxsKTtcbiAgICAgIG93bmVyRG9jdW1lbnQgPSBvd25lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHR5cGUpO1xuICAgICAgZm9yIChjYWNoZXMgPSAwOyBjYWNoZXMgPCBvd25lckRvY3VtZW50Lmxlbmd0aDsgY2FjaGVzKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBvd25lckRvY3VtZW50W2NhY2hlc107XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhKFxuICAgICAgICAgICAgbm9kZVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gfHxcbiAgICAgICAgICAgIG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gfHxcbiAgICAgICAgICAgIChcImxpbmtcIiA9PT0gdHlwZSAmJiBcInN0eWxlc2hlZXRcIiA9PT0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJyZWxcIikpXG4gICAgICAgICAgKSAmJlxuICAgICAgICAgIG5vZGUubmFtZXNwYWNlVVJJICE9PSBTVkdfTkFNRVNQQUNFXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBub2RlS2V5ID0gbm9kZS5nZXRBdHRyaWJ1dGUoa2V5QXR0cmlidXRlKSB8fCBcIlwiO1xuICAgICAgICAgIG5vZGVLZXkgPSB0eXBlICsgbm9kZUtleTtcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBjYWNoZS5nZXQobm9kZUtleSk7XG4gICAgICAgICAgZXhpc3RpbmcgPyBleGlzdGluZy5wdXNoKG5vZGUpIDogY2FjaGUuc2V0KG5vZGVLZXksIFtub2RlXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRIb2lzdGFibGUoaG9pc3RhYmxlUm9vdCwgdHlwZSwgaW5zdGFuY2UpIHtcbiAgICAgIGhvaXN0YWJsZVJvb3QgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgIGhvaXN0YWJsZVJvb3QuaGVhZC5pbnNlcnRCZWZvcmUoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBcInRpdGxlXCIgPT09IHR5cGUgPyBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkID4gdGl0bGVcIikgOiBudWxsXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0hvc3RIb2lzdGFibGVUeXBlKHR5cGUsIHByb3BzLCBob3N0Q29udGV4dCkge1xuICAgICAgdmFyIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCA9XG4gICAgICAgICFob3N0Q29udGV4dC5hbmNlc3RvckluZm8uY29udGFpbmVyVGFnSW5TY29wZTtcbiAgICAgIGlmIChcbiAgICAgICAgaG9zdENvbnRleHQuY29udGV4dCA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VTdmcgfHxcbiAgICAgICAgbnVsbCAhPSBwcm9wcy5pdGVtUHJvcFxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICFvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgfHxcbiAgICAgICAgICAgIG51bGwgPT0gcHJvcHMuaXRlbVByb3AgfHxcbiAgICAgICAgICAgIChcIm1ldGFcIiAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICBcInRpdGxlXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJzdHlsZVwiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwibGlua1wiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwic2NyaXB0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8JXM+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgaWYgaXQgaGFzIGFuIGBpdGVtUHJvcGAgcHJvcC4gYGl0ZW1Qcm9wYCBzdWdnZXN0cyB0aGUgdGFnIGJlbG9uZ3MgdG8gYW4gYGl0ZW1TY29wZWAgd2hpY2ggY2FuIGFwcGVhciBhbnl3aGVyZSBpbiB0aGUgRE9NLiBJZiB5b3Ugd2VyZSBpbnRlbmRpbmcgZm9yIFJlYWN0IHRvIGhvaXN0IHRoaXMgPCVzPiByZW1vdmUgdGhlIGBpdGVtUHJvcGAgcHJvcC4gT3RoZXJ3aXNlLCB0cnkgbW92aW5nIHRoaXMgdGFnIGludG8gdGhlIDxoZWFkPiBvciA8Ym9keT4gb2YgdGhlIERvY3VtZW50LlwiLFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICApLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInRpdGxlXCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZSB8fFxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLmhyZWYgfHxcbiAgICAgICAgICAgIFwiXCIgPT09IHByb3BzLmhyZWZcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdDYW5ub3QgcmVuZGVyIGEgPHN0eWxlPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQga25vd2luZyBpdHMgcHJlY2VkZW5jZSBhbmQgYSB1bmlxdWUgaHJlZiBrZXkuIFJlYWN0IGNhbiBob2lzdCBhbmQgZGVkdXBsaWNhdGUgPHN0eWxlPiB0YWdzIGlmIHlvdSBwcm92aWRlIGEgYHByZWNlZGVuY2VgIHByb3AgYWxvbmcgd2l0aCBhbiBgaHJlZmAgcHJvcCB0aGF0IGRvZXMgbm90IGNvbmZsaWMgd2l0aCB0aGUgYGhyZWZgIHZhbHVlcyB1c2VkIGluIGFueSBvdGhlciBob2lzdGVkIDxzdHlsZT4gb3IgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIC4uLj4gdGFncy4gIE5vdGUgdGhhdCBob2lzdGluZyA8c3R5bGU+IHRhZ3MgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZCBmZWF0dXJlIHRoYXQgbW9zdCB3aWxsIG5vdCB1c2UgZGlyZWN0bHkuIENvbnNpZGVyIG1vdmluZyB0aGUgPHN0eWxlPiB0YWcgdG8gdGhlIDxoZWFkPiBvciBjb25zaWRlciBhZGRpbmcgYSBgcHJlY2VkZW5jZT1cImRlZmF1bHRcImAgYW5kIGBocmVmPVwic29tZSB1bmlxdWUgcmVzb3VyY2UgaWRlbnRpZmllclwiYCwgb3IgbW92ZSB0aGUgPHN0eWxlPiB0byB0aGUgPHN0eWxlPiB0YWcuJ1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMucmVsIHx8XG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgXCJcIiA9PT0gcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgcHJvcHMub25Mb2FkIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkVycm9yXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwic3R5bGVzaGVldFwiID09PSBwcm9wcy5yZWwgJiZcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLnByZWNlZGVuY2VcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB0eXBlID0gcHJvcHMuaHJlZjtcbiAgICAgICAgICAgICAgdmFyIG9uRXJyb3IgPSBwcm9wcy5vbkVycm9yLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gcHJvcHMuZGlzYWJsZWQ7XG4gICAgICAgICAgICAgIGhvc3RDb250ZXh0ID0gW107XG4gICAgICAgICAgICAgIHByb3BzLm9uTG9hZCAmJiBob3N0Q29udGV4dC5wdXNoKFwiYG9uTG9hZGBcIik7XG4gICAgICAgICAgICAgIG9uRXJyb3IgJiYgaG9zdENvbnRleHQucHVzaChcImBvbkVycm9yYFwiKTtcbiAgICAgICAgICAgICAgbnVsbCAhPSBkaXNhYmxlZCAmJiBob3N0Q29udGV4dC5wdXNoKFwiYGRpc2FibGVkYFwiKTtcbiAgICAgICAgICAgICAgb25FcnJvciA9IHByb3BOYW1lc0xpc3RKb2luKGhvc3RDb250ZXh0LCBcImFuZFwiKTtcbiAgICAgICAgICAgICAgb25FcnJvciArPSAxID09PSBob3N0Q29udGV4dC5sZW5ndGggPyBcIiBwcm9wXCIgOiBcIiBwcm9wc1wiO1xuICAgICAgICAgICAgICBkaXNhYmxlZCA9XG4gICAgICAgICAgICAgICAgMSA9PT0gaG9zdENvbnRleHQubGVuZ3RoID8gXCJhbiBcIiArIG9uRXJyb3IgOiBcInRoZSBcIiArIG9uRXJyb3I7XG4gICAgICAgICAgICAgIGhvc3RDb250ZXh0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnUmVhY3QgZW5jb3VudGVyZWQgYSA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIiVzXCIgLi4uIC8+IHdpdGggYSBgcHJlY2VkZW5jZWAgcHJvcCB0aGF0IGFsc28gaW5jbHVkZWQgJXMuIFRoZSBwcmVzZW5jZSBvZiBsb2FkaW5nIGFuZCBlcnJvciBoYW5kbGVycyBpbmRpY2F0ZXMgYW4gaW50ZW50IHRvIG1hbmFnZSB0aGUgc3R5bGVzaGVldCBsb2FkaW5nIHN0YXRlIGZyb20geW91ciBmcm9tIHlvdXIgQ29tcG9uZW50IGNvZGUgYW5kIFJlYWN0IHdpbGwgbm90IGhvaXN0IG9yIGRlZHVwbGljYXRlIHRoaXMgc3R5bGVzaGVldC4gSWYgeW91ciBpbnRlbnQgd2FzIHRvIGhhdmUgUmVhY3QgaG9pc3QgYW5kIGRlZHVwbGNpYXRlIHRoaXMgc3R5bGVzaGVldCB1c2luZyB0aGUgYHByZWNlZGVuY2VgIHByb3AgcmVtb3ZlIHRoZSAlcywgb3RoZXJ3aXNlIHJlbW92ZSB0aGUgYHByZWNlZGVuY2VgIHByb3AuJyxcbiAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIG9uRXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMucmVsIHx8XG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICAgIFwiXCIgPT09IHByb3BzLmhyZWZcbiAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDxsaW5rPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQgYSBgcmVsYCBhbmQgYGhyZWZgIHByb3AuIFRyeSBhZGRpbmcgYSBgcmVsYCBhbmQvb3IgYGhyZWZgIHByb3AgdG8gdGhpcyA8bGluaz4gb3IgbW92aW5nIHRoZSBsaW5rIGludG8gdGhlIDxoZWFkPiB0YWdcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogKHByb3BzLm9uRXJyb3IgfHwgcHJvcHMub25Mb2FkKSAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPGxpbms+IHdpdGggb25Mb2FkIG9yIG9uRXJyb3IgbGlzdGVuZXJzIG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQuIFRyeSByZW1vdmluZyBvbkxvYWQ9ey4uLn0gYW5kIG9uRXJyb3I9ey4uLn0gb3IgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZyBvciBzb21ld2hlcmUgaW4gdGhlIDxib2R5Pi5cIlxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoIChwcm9wcy5yZWwpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHlsZXNoZWV0XCI6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHR5cGUgPSBwcm9wcy5wcmVjZWRlbmNlKSxcbiAgICAgICAgICAgICAgICAocHJvcHMgPSBwcm9wcy5kaXNhYmxlZCksXG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW5kZXIgYSA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgLz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGtub3dpbmcgaXRzIHByZWNlZGVuY2UuIENvbnNpZGVyIGFkZGluZyBwcmVjZWRlbmNlPVwiZGVmYXVsdFwiIG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcuJ1xuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSAmJiBudWxsID09IHByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgdHlwZSA9XG4gICAgICAgICAgICBwcm9wcy5hc3luYyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcHJvcHMuYXN5bmMgJiZcbiAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBwcm9wcy5hc3luYztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhdHlwZSB8fFxuICAgICAgICAgICAgcHJvcHMub25Mb2FkIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkVycm9yIHx8XG4gICAgICAgICAgICAhcHJvcHMuc3JjIHx8XG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuc3JjXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgKHR5cGVcbiAgICAgICAgICAgICAgICA/IHByb3BzLm9uTG9hZCB8fCBwcm9wcy5vbkVycm9yXG4gICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPHNjcmlwdD4gd2l0aCBvbkxvYWQgb3Igb25FcnJvciBsaXN0ZW5lcnMgb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudC4gVHJ5IHJlbW92aW5nIG9uTG9hZD17Li4ufSBhbmQgb25FcnJvcj17Li4ufSBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnIG9yIHNvbWV3aGVyZSBpbiB0aGUgPGJvZHk+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8c2NyaXB0PiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQgYGFzeW5jPXt0cnVlfWAgYW5kIGEgbm9uLWVtcHR5IGBzcmNgIHByb3AuIEVuc3VyZSB0aGVyZSBpcyBhIHZhbGlkIGBzcmNgIGFuZCBlaXRoZXIgbWFrZSB0aGUgc2NyaXB0IGFzeW5jIG9yIG1vdmUgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnIG9yIHNvbWV3aGVyZSBpbiB0aGUgPGJvZHk+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdDYW5ub3QgcmVuZGVyIGEgc3luYyBvciBkZWZlciA8c2NyaXB0PiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQga25vd2luZyBpdHMgb3JkZXIuIFRyeSBhZGRpbmcgYXN5bmM9XCJcIiBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnLidcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcIm5vc2NyaXB0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZW1wbGF0ZVwiOlxuICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIDwlcz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudC4gVHJ5IG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcuXCIsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWxvYWRSZXNvdXJjZShyZXNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwic3R5bGVzaGVldFwiID09PSByZXNvdXJjZS50eXBlICYmXG4gICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgU2V0dGxlZCkgPT09IE5vdExvYWRlZFxuICAgICAgICA/ICExXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICAgIGZ1bmN0aW9uIHN1c3BlbmRSZXNvdXJjZShob2lzdGFibGVSb290LCByZXNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIGlmIChudWxsID09PSBzdXNwZW5kZWRTdGF0ZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBFcnJvcjogc3VzcGVuZGVkU3RhdGUgbnVsbCB3aGVuIGl0IHdhcyBleHBlY3RlZCB0byBleGlzdHMuIFBsZWFzZSByZXBvcnQgdGhpcyBhcyBhIFJlYWN0IGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHN0YXRlID0gc3VzcGVuZGVkU3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3R5bGVzaGVldFwiID09PSByZXNvdXJjZS50eXBlICYmXG4gICAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMubWVkaWEgfHxcbiAgICAgICAgICAhMSAhPT0gbWF0Y2hNZWRpYShwcm9wcy5tZWRpYSkubWF0Y2hlcykgJiZcbiAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBJbnNlcnRlZCkgPT09IE5vdExvYWRlZFxuICAgICAgKSB7XG4gICAgICAgIGlmIChudWxsID09PSByZXNvdXJjZS5pbnN0YW5jZSkge1xuICAgICAgICAgIHZhciBrZXkgPSBnZXRTdHlsZUtleShwcm9wcy5ocmVmKSxcbiAgICAgICAgICAgIGluc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICBob2lzdGFibGVSb290ID0gaW5zdGFuY2UuX3A7XG4gICAgICAgICAgICBudWxsICE9PSBob2lzdGFibGVSb290ICYmXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBob2lzdGFibGVSb290ICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGhvaXN0YWJsZVJvb3QudGhlbiAmJlxuICAgICAgICAgICAgICAoc3RhdGUuY291bnQrKyxcbiAgICAgICAgICAgICAgKHN0YXRlID0gb25VbnN1c3BlbmQuYmluZChzdGF0ZSkpLFxuICAgICAgICAgICAgICBob2lzdGFibGVSb290LnRoZW4oc3RhdGUsIHN0YXRlKSk7XG4gICAgICAgICAgICByZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgICAgICAgcmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaW5zdGFuY2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290O1xuICAgICAgICAgIHByb3BzID0gc3R5bGVzaGVldFByb3BzRnJvbVJhd1Byb3BzKHByb3BzKTtcbiAgICAgICAgICAoa2V5ID0gcHJlbG9hZFByb3BzTWFwLmdldChrZXkpKSAmJlxuICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTdHlsZXNoZWV0KHByb3BzLCBrZXkpO1xuICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSk7XG4gICAgICAgICAgdmFyIGxpbmtJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgIGxpbmtJbnN0YW5jZS5fcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICAgICAgbGlua0luc3RhbmNlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaW5zdGFuY2UsIFwibGlua1wiLCBwcm9wcyk7XG4gICAgICAgICAgcmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgfVxuICAgICAgICBudWxsID09PSBzdGF0ZS5zdHlsZXNoZWV0cyAmJiAoc3RhdGUuc3R5bGVzaGVldHMgPSBuZXcgTWFwKCkpO1xuICAgICAgICBzdGF0ZS5zdHlsZXNoZWV0cy5zZXQocmVzb3VyY2UsIGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAoaG9pc3RhYmxlUm9vdCA9IHJlc291cmNlLnN0YXRlLnByZWxvYWQpICYmXG4gICAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBTZXR0bGVkKSA9PT0gTm90TG9hZGVkICYmXG4gICAgICAgICAgKHN0YXRlLmNvdW50KyssXG4gICAgICAgICAgKHJlc291cmNlID0gb25VbnN1c3BlbmQuYmluZChzdGF0ZSkpLFxuICAgICAgICAgIGhvaXN0YWJsZVJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgcmVzb3VyY2UpLFxuICAgICAgICAgIGhvaXN0YWJsZVJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHJlc291cmNlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhaXRGb3JDb21taXRUb0JlUmVhZHkoKSB7XG4gICAgICBpZiAobnVsbCA9PT0gc3VzcGVuZGVkU3RhdGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgRXJyb3I6IHN1c3BlbmRlZFN0YXRlIG51bGwgd2hlbiBpdCB3YXMgZXhwZWN0ZWQgdG8gZXhpc3RzLiBQbGVhc2UgcmVwb3J0IHRoaXMgYXMgYSBSZWFjdCBidWcuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBzdGF0ZSA9IHN1c3BlbmRlZFN0YXRlO1xuICAgICAgc3RhdGUuc3R5bGVzaGVldHMgJiZcbiAgICAgICAgMCA9PT0gc3RhdGUuY291bnQgJiZcbiAgICAgICAgaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHMoc3RhdGUsIHN0YXRlLnN0eWxlc2hlZXRzKTtcbiAgICAgIHJldHVybiAwIDwgc3RhdGUuY291bnRcbiAgICAgICAgPyBmdW5jdGlvbiAoY29tbWl0KSB7XG4gICAgICAgICAgICB2YXIgc3R5bGVzaGVldFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnN0eWxlc2hlZXRzICYmXG4gICAgICAgICAgICAgICAgaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHMoc3RhdGUsIHN0YXRlLnN0eWxlc2hlZXRzKTtcbiAgICAgICAgICAgICAgaWYgKHN0YXRlLnVuc3VzcGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciB1bnN1c3BlbmQgPSBzdGF0ZS51bnN1c3BlbmQ7XG4gICAgICAgICAgICAgICAgc3RhdGUudW5zdXNwZW5kID0gbnVsbDtcbiAgICAgICAgICAgICAgICB1bnN1c3BlbmQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNmU0KTtcbiAgICAgICAgICAgIHN0YXRlLnVuc3VzcGVuZCA9IGNvbW1pdDtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnVuc3VzcGVuZCA9IG51bGw7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChzdHlsZXNoZWV0VGltZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25VbnN1c3BlbmQoKSB7XG4gICAgICB0aGlzLmNvdW50LS07XG4gICAgICBpZiAoMCA9PT0gdGhpcy5jb3VudClcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzaGVldHMpXG4gICAgICAgICAgaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHModGhpcywgdGhpcy5zdHlsZXNoZWV0cyk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMudW5zdXNwZW5kKSB7XG4gICAgICAgICAgdmFyIHVuc3VzcGVuZCA9IHRoaXMudW5zdXNwZW5kO1xuICAgICAgICAgIHRoaXMudW5zdXNwZW5kID0gbnVsbDtcbiAgICAgICAgICB1bnN1c3BlbmQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyhzdGF0ZSwgcmVzb3VyY2VzKSB7XG4gICAgICBzdGF0ZS5zdHlsZXNoZWV0cyA9IG51bGw7XG4gICAgICBudWxsICE9PSBzdGF0ZS51bnN1c3BlbmQgJiZcbiAgICAgICAgKHN0YXRlLmNvdW50KyssXG4gICAgICAgIChwcmVjZWRlbmNlc0J5Um9vdCA9IG5ldyBNYXAoKSksXG4gICAgICAgIHJlc291cmNlcy5mb3JFYWNoKGluc2VydFN0eWxlc2hlZXRJbnRvUm9vdCwgc3RhdGUpLFxuICAgICAgICAocHJlY2VkZW5jZXNCeVJvb3QgPSBudWxsKSxcbiAgICAgICAgb25VbnN1c3BlbmQuY2FsbChzdGF0ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRTdHlsZXNoZWV0SW50b1Jvb3Qocm9vdCwgcmVzb3VyY2UpIHtcbiAgICAgIGlmICghKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBJbnNlcnRlZCkpIHtcbiAgICAgICAgdmFyIHByZWNlZGVuY2VzID0gcHJlY2VkZW5jZXNCeVJvb3QuZ2V0KHJvb3QpO1xuICAgICAgICBpZiAocHJlY2VkZW5jZXMpIHZhciBsYXN0ID0gcHJlY2VkZW5jZXMuZ2V0KExBU1RfUFJFQ0VERU5DRSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHByZWNlZGVuY2VzID0gbmV3IE1hcCgpO1xuICAgICAgICAgIHByZWNlZGVuY2VzQnlSb290LnNldChyb290LCBwcmVjZWRlbmNlcyk7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciBub2RlcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICBcImxpbmtbZGF0YS1wcmVjZWRlbmNlXSxzdHlsZVtkYXRhLXByZWNlZGVuY2VdXCJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICBpIDwgbm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcIkxJTktcIiA9PT0gbm9kZS5ub2RlTmFtZSB8fFxuICAgICAgICAgICAgICBcIm5vdCBhbGxcIiAhPT0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJtZWRpYVwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBwcmVjZWRlbmNlcy5zZXQobm9kZS5kYXRhc2V0LnByZWNlZGVuY2UsIG5vZGUpLCAobGFzdCA9IG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0ICYmIHByZWNlZGVuY2VzLnNldChMQVNUX1BSRUNFREVOQ0UsIGxhc3QpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVzID0gcmVzb3VyY2UuaW5zdGFuY2U7XG4gICAgICAgIG5vZGUgPSBub2Rlcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByZWNlZGVuY2VcIik7XG4gICAgICAgIGkgPSBwcmVjZWRlbmNlcy5nZXQobm9kZSkgfHwgbGFzdDtcbiAgICAgICAgaSA9PT0gbGFzdCAmJiBwcmVjZWRlbmNlcy5zZXQoTEFTVF9QUkVDRURFTkNFLCBub2Rlcyk7XG4gICAgICAgIHByZWNlZGVuY2VzLnNldChub2RlLCBub2Rlcyk7XG4gICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgbGFzdCA9IG9uVW5zdXNwZW5kLmJpbmQodGhpcyk7XG4gICAgICAgIG5vZGVzLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGxhc3QpO1xuICAgICAgICBub2Rlcy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgbGFzdCk7XG4gICAgICAgIGlcbiAgICAgICAgICA/IGkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZXMsIGkubmV4dFNpYmxpbmcpXG4gICAgICAgICAgOiAoKHJvb3QgPSA5ID09PSByb290Lm5vZGVUeXBlID8gcm9vdC5oZWFkIDogcm9vdCksXG4gICAgICAgICAgICByb290Lmluc2VydEJlZm9yZShub2Rlcywgcm9vdC5maXJzdENoaWxkKSk7XG4gICAgICAgIHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJpbmRUb0NvbnNvbGUobWV0aG9kTmFtZSwgYXJncywgYmFkZ2VOYW1lKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgIHN3aXRjaCAobWV0aG9kTmFtZSkge1xuICAgICAgICBjYXNlIFwiZGlyXCI6XG4gICAgICAgIGNhc2UgXCJkaXJ4bWxcIjpcbiAgICAgICAgY2FzZSBcImdyb3VwRW5kXCI6XG4gICAgICAgIGNhc2UgXCJ0YWJsZVwiOlxuICAgICAgICAgIHJldHVybiBiaW5kLmFwcGx5KGNvbnNvbGVbbWV0aG9kTmFtZV0sIFtjb25zb2xlXS5jb25jYXQoYXJncykpO1xuICAgICAgICBjYXNlIFwiYXNzZXJ0XCI6XG4gICAgICAgICAgb2Zmc2V0ID0gMTtcbiAgICAgIH1cbiAgICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDApO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyZ3Nbb2Zmc2V0XVxuICAgICAgICA/IGFyZ3Muc3BsaWNlKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIGJhZGdlRm9ybWF0ICsgYXJnc1tvZmZzZXRdLFxuICAgICAgICAgICAgYmFkZ2VTdHlsZSxcbiAgICAgICAgICAgIHBhZCArIGJhZGdlTmFtZSArIHBhZCxcbiAgICAgICAgICAgIHJlc2V0U3R5bGVcbiAgICAgICAgICApXG4gICAgICAgIDogYXJncy5zcGxpY2UoXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgYmFkZ2VGb3JtYXQsXG4gICAgICAgICAgICBiYWRnZVN0eWxlLFxuICAgICAgICAgICAgcGFkICsgYmFkZ2VOYW1lICsgcGFkLFxuICAgICAgICAgICAgcmVzZXRTdHlsZVxuICAgICAgICAgICk7XG4gICAgICBhcmdzLnVuc2hpZnQoY29uc29sZSk7XG4gICAgICByZXR1cm4gYmluZC5hcHBseShjb25zb2xlW21ldGhvZE5hbWVdLCBhcmdzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gRmliZXJSb290Tm9kZShcbiAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICB0YWcsXG4gICAgICBoeWRyYXRlLFxuICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICBmb3JtU3RhdGVcbiAgICApIHtcbiAgICAgIHRoaXMudGFnID0gMTtcbiAgICAgIHRoaXMuY29udGFpbmVySW5mbyA9IGNvbnRhaW5lckluZm87XG4gICAgICB0aGlzLmZpbmlzaGVkV29yayA9XG4gICAgICAgIHRoaXMucGluZ0NhY2hlID1cbiAgICAgICAgdGhpcy5jdXJyZW50ID1cbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGRyZW4gPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLnRpbWVvdXRIYW5kbGUgPSBub1RpbWVvdXQ7XG4gICAgICB0aGlzLmNhbGxiYWNrTm9kZSA9XG4gICAgICAgIHRoaXMubmV4dCA9XG4gICAgICAgIHRoaXMucGVuZGluZ0NvbnRleHQgPVxuICAgICAgICB0aGlzLmNvbnRleHQgPVxuICAgICAgICB0aGlzLmNhbmNlbFBlbmRpbmdDb21taXQgPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLmNhbGxiYWNrUHJpb3JpdHkgPSAwO1xuICAgICAgdGhpcy5leHBpcmF0aW9uVGltZXMgPSBjcmVhdGVMYW5lTWFwKC0xKTtcbiAgICAgIHRoaXMuZW50YW5nbGVkTGFuZXMgPVxuICAgICAgICB0aGlzLnNoZWxsU3VzcGVuZENvdW50ZXIgPVxuICAgICAgICB0aGlzLmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzID1cbiAgICAgICAgdGhpcy5maW5pc2hlZExhbmVzID1cbiAgICAgICAgdGhpcy5leHBpcmVkTGFuZXMgPVxuICAgICAgICB0aGlzLndhcm1MYW5lcyA9XG4gICAgICAgIHRoaXMucGluZ2VkTGFuZXMgPVxuICAgICAgICB0aGlzLnN1c3BlbmRlZExhbmVzID1cbiAgICAgICAgdGhpcy5wZW5kaW5nTGFuZXMgPVxuICAgICAgICAgIDA7XG4gICAgICB0aGlzLmVudGFuZ2xlbWVudHMgPSBjcmVhdGVMYW5lTWFwKDApO1xuICAgICAgdGhpcy5oaWRkZW5VcGRhdGVzID0gY3JlYXRlTGFuZU1hcChudWxsKTtcbiAgICAgIHRoaXMuaWRlbnRpZmllclByZWZpeCA9IGlkZW50aWZpZXJQcmVmaXg7XG4gICAgICB0aGlzLm9uVW5jYXVnaHRFcnJvciA9IG9uVW5jYXVnaHRFcnJvcjtcbiAgICAgIHRoaXMub25DYXVnaHRFcnJvciA9IG9uQ2F1Z2h0RXJyb3I7XG4gICAgICB0aGlzLm9uUmVjb3ZlcmFibGVFcnJvciA9IG9uUmVjb3ZlcmFibGVFcnJvcjtcbiAgICAgIHRoaXMucG9vbGVkQ2FjaGUgPSBudWxsO1xuICAgICAgdGhpcy5wb29sZWRDYWNoZUxhbmVzID0gMDtcbiAgICAgIHRoaXMuZm9ybVN0YXRlID0gZm9ybVN0YXRlO1xuICAgICAgdGhpcy5pbmNvbXBsZXRlVHJhbnNpdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICB0aGlzLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IHRoaXMuZWZmZWN0RHVyYXRpb24gPSAtMDtcbiAgICAgIHRoaXMubWVtb2l6ZWRVcGRhdGVycyA9IG5ldyBTZXQoKTtcbiAgICAgIGNvbnRhaW5lckluZm8gPSB0aGlzLnBlbmRpbmdVcGRhdGVyc0xhbmVNYXAgPSBbXTtcbiAgICAgIGZvciAodGFnID0gMDsgMzEgPiB0YWc7IHRhZysrKSBjb250YWluZXJJbmZvLnB1c2gobmV3IFNldCgpKTtcbiAgICAgIHRoaXMuX2RlYnVnUm9vdFR5cGUgPSBoeWRyYXRlID8gXCJoeWRyYXRlUm9vdCgpXCIgOiBcImNyZWF0ZVJvb3QoKVwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlclJvb3QoXG4gICAgICBjb250YWluZXJJbmZvLFxuICAgICAgdGFnLFxuICAgICAgaHlkcmF0ZSxcbiAgICAgIGluaXRpYWxDaGlsZHJlbixcbiAgICAgIGh5ZHJhdGlvbkNhbGxiYWNrcyxcbiAgICAgIGlzU3RyaWN0TW9kZSxcbiAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyxcbiAgICAgIGZvcm1TdGF0ZVxuICAgICkge1xuICAgICAgY29udGFpbmVySW5mbyA9IG5ldyBGaWJlclJvb3ROb2RlKFxuICAgICAgICBjb250YWluZXJJbmZvLFxuICAgICAgICB0YWcsXG4gICAgICAgIGh5ZHJhdGUsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICBmb3JtU3RhdGVcbiAgICAgICk7XG4gICAgICB0YWcgPSBDb25jdXJyZW50TW9kZTtcbiAgICAgICEwID09PSBpc1N0cmljdE1vZGUgJiYgKHRhZyB8PSBTdHJpY3RMZWdhY3lNb2RlIHwgU3RyaWN0RWZmZWN0c01vZGUpO1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgKHRhZyB8PSBQcm9maWxlTW9kZSk7XG4gICAgICBpc1N0cmljdE1vZGUgPSBjcmVhdGVGaWJlcigzLCBudWxsLCBudWxsLCB0YWcpO1xuICAgICAgY29udGFpbmVySW5mby5jdXJyZW50ID0gaXNTdHJpY3RNb2RlO1xuICAgICAgaXNTdHJpY3RNb2RlLnN0YXRlTm9kZSA9IGNvbnRhaW5lckluZm87XG4gICAgICB0YWcgPSBjcmVhdGVDYWNoZSgpO1xuICAgICAgcmV0YWluQ2FjaGUodGFnKTtcbiAgICAgIGNvbnRhaW5lckluZm8ucG9vbGVkQ2FjaGUgPSB0YWc7XG4gICAgICByZXRhaW5DYWNoZSh0YWcpO1xuICAgICAgaXNTdHJpY3RNb2RlLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgIGVsZW1lbnQ6IGluaXRpYWxDaGlsZHJlbixcbiAgICAgICAgaXNEZWh5ZHJhdGVkOiBoeWRyYXRlLFxuICAgICAgICBjYWNoZTogdGFnXG4gICAgICB9O1xuICAgICAgaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKGlzU3RyaWN0TW9kZSk7XG4gICAgICByZXR1cm4gY29udGFpbmVySW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBpZiAoIXBhcmVudENvbXBvbmVudCkgcmV0dXJuIGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgIHBhcmVudENvbXBvbmVudCA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgIHJldHVybiBwYXJlbnRDb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lclN5bmMoXG4gICAgICBlbGVtZW50LFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgY2FsbGJhY2tcbiAgICApIHtcbiAgICAgIDAgPT09IGNvbnRhaW5lci50YWcgJiYgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgdXBkYXRlQ29udGFpbmVySW1wbChcbiAgICAgICAgY29udGFpbmVyLmN1cnJlbnQsXG4gICAgICAgIDIsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBjYWxsYmFja1xuICAgICAgKTtcbiAgICAgIHJldHVybiAyO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJJbXBsKFxuICAgICAgcm9vdEZpYmVyLFxuICAgICAgbGFuZSxcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBjYWxsYmFja1xuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBpbmplY3RlZEhvb2sgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLm9uU2NoZWR1bGVGaWJlclJvb3RcbiAgICAgIClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpbmplY3RlZEhvb2sub25TY2hlZHVsZUZpYmVyUm9vdChyZW5kZXJlcklELCBjb250YWluZXIsIGVsZW1lbnQpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclNjaGVkdWxlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTY2hlZHVsZWQobGFuZSk7XG4gICAgICBwYXJlbnRDb21wb25lbnQgPSBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpO1xuICAgICAgbnVsbCA9PT0gY29udGFpbmVyLmNvbnRleHRcbiAgICAgICAgPyAoY29udGFpbmVyLmNvbnRleHQgPSBwYXJlbnRDb21wb25lbnQpXG4gICAgICAgIDogKGNvbnRhaW5lci5wZW5kaW5nQ29udGV4dCA9IHBhcmVudENvbXBvbmVudCk7XG4gICAgICBpc1JlbmRlcmluZyAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICFkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzICYmXG4gICAgICAgICgoZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlbmRlciBtZXRob2RzIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlOyB0cmlnZ2VyaW5nIG5lc3RlZCBjb21wb25lbnQgdXBkYXRlcyBmcm9tIHJlbmRlciBpcyBub3QgYWxsb3dlZC4gSWYgbmVjZXNzYXJ5LCB0cmlnZ2VyIG5lc3RlZCB1cGRhdGVzIGluIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiAlcy5cIixcbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGN1cnJlbnQpIHx8IFwiVW5rbm93blwiXG4gICAgICAgICkpO1xuICAgICAgY29udGFpbmVyID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgY29udGFpbmVyLnBheWxvYWQgPSB7IGVsZW1lbnQ6IGVsZW1lbnQgfTtcbiAgICAgIGNhbGxiYWNrID0gdm9pZCAwID09PSBjYWxsYmFjayA/IG51bGwgOiBjYWxsYmFjaztcbiAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjayAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICksXG4gICAgICAgIChjb250YWluZXIuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgZWxlbWVudCA9IGVucXVldWVVcGRhdGUocm9vdEZpYmVyLCBjb250YWluZXIsIGxhbmUpO1xuICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGVsZW1lbnQsIHJvb3RGaWJlciwgbGFuZSksXG4gICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMoZWxlbWVudCwgcm9vdEZpYmVyLCBsYW5lKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZXRyeUxhbmVJbXBsKGZpYmVyLCByZXRyeUxhbmUpIHtcbiAgICAgIGZpYmVyID0gZmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBmaWJlciAmJiBudWxsICE9PSBmaWJlci5kZWh5ZHJhdGVkKSB7XG4gICAgICAgIHZhciBhID0gZmliZXIucmV0cnlMYW5lO1xuICAgICAgICBmaWJlci5yZXRyeUxhbmUgPSAwICE9PSBhICYmIGEgPCByZXRyeUxhbmUgPyBhIDogcmV0cnlMYW5lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChmaWJlciwgcmV0cnlMYW5lKSB7XG4gICAgICBtYXJrUmV0cnlMYW5lSW1wbChmaWJlciwgcmV0cnlMYW5lKTtcbiAgICAgIChmaWJlciA9IGZpYmVyLmFsdGVybmF0ZSkgJiYgbWFya1JldHJ5TGFuZUltcGwoZmliZXIsIHJldHJ5TGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRDb250aW51b3VzSHlkcmF0aW9uKGZpYmVyKSB7XG4gICAgICBpZiAoMTMgPT09IGZpYmVyLnRhZykge1xuICAgICAgICB2YXIgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgNjcxMDg4NjQpO1xuICAgICAgICBudWxsICE9PSByb290ICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgNjcxMDg4NjQpO1xuICAgICAgICBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChmaWJlciwgNjcxMDg4NjQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50RmliZXJGb3JEZXZUb29scygpIHtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMYW5lTGFiZWxNYXAoKSB7XG4gICAgICBmb3IgKHZhciBtYXAgPSBuZXcgTWFwKCksIGxhbmUgPSAxLCBpbmRleCA9IDA7IDMxID4gaW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIGxhYmVsID0gZ2V0TGFiZWxGb3JMYW5lKGxhbmUpO1xuICAgICAgICBtYXAuc2V0KGxhbmUsIGxhYmVsKTtcbiAgICAgICAgbGFuZSAqPSAyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hEaXNjcmV0ZUV2ZW50KFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5UO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGw7XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IERpc2NyZXRlRXZlbnRQcmlvcml0eSksXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudChkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIGNvbnRhaW5lciwgbmF0aXZlRXZlbnQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hDb250aW51b3VzRXZlbnQoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbDtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gQ29udGludW91c0V2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCBjb250YWluZXIsIG5hdGl2ZUV2ZW50KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNQcmlvcml0eSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIGlmIChfZW5hYmxlZCkge1xuICAgICAgICB2YXIgYmxvY2tlZE9uID0gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChuYXRpdmVFdmVudCk7XG4gICAgICAgIGlmIChudWxsID09PSBibG9ja2VkT24pXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgcmV0dXJuX3RhcmdldEluc3QsXG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXJcbiAgICAgICAgICApLFxuICAgICAgICAgICAgY2xlYXJJZkNvbnRpbnVvdXNFdmVudChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgcXVldWVJZkNvbnRpbnVvdXNFdmVudChcbiAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAgIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoY2xlYXJJZkNvbnRpbnVvdXNFdmVudChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSxcbiAgICAgICAgICBldmVudFN5c3RlbUZsYWdzICYgNCAmJlxuICAgICAgICAgICAgLTEgPCBkaXNjcmV0ZVJlcGxheWFibGVFdmVudHMuaW5kZXhPZihkb21FdmVudE5hbWUpKVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKDsgbnVsbCAhPT0gYmxvY2tlZE9uOyApIHtcbiAgICAgICAgICAgIHZhciBmaWJlciA9IGdldEluc3RhbmNlRnJvbU5vZGUoYmxvY2tlZE9uKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBmaWJlcilcbiAgICAgICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICBmaWJlciA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICAgIGlmIChmaWJlci5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKGZpYmVyLnBlbmRpbmdMYW5lcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgwICE9PSBsYW5lcykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciByb290ID0gZmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgfD0gMjtcbiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHJvb3QuZW50YW5nbGVkTGFuZXMgfD0gMjsgbGFuZXM7ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmUgPSAxIDw8ICgzMSAtIGNsejMyKGxhbmVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmVudGFuZ2xlbWVudHNbMV0gfD0gbGFuZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQoZmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyQxKCkgKyBSRU5ERVJfVElNRU9VVF9NUyksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbCgwLCAhMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgKHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpLFxuICAgICAgICAgICAgICAgICAgICBmbHVzaFN5bmNXb3JrJDEoKSxcbiAgICAgICAgICAgICAgICAgICAgbWFya1JldHJ5TGFuZUlmTm90SHlkcmF0ZWQoZmliZXIsIDIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWJlciA9IGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgICAgICAgbnVsbCA9PT0gZmliZXIgJiZcbiAgICAgICAgICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIHJldHVybl90YXJnZXRJbnN0LFxuICAgICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGZpYmVyID09PSBibG9ja2VkT24pIGJyZWFrO1xuICAgICAgICAgICAgYmxvY2tlZE9uID0gZmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bGwgIT09IGJsb2NrZWRPbiAmJiBuYXRpdmVFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQobmF0aXZlRXZlbnQpIHtcbiAgICAgIG5hdGl2ZUV2ZW50ID0gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpO1xuICAgICAgcmV0dXJuIGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KG5hdGl2ZUV2ZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQodGFyZ2V0Tm9kZSkge1xuICAgICAgcmV0dXJuX3RhcmdldEluc3QgPSBudWxsO1xuICAgICAgdGFyZ2V0Tm9kZSA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHRhcmdldE5vZGUpO1xuICAgICAgaWYgKG51bGwgIT09IHRhcmdldE5vZGUpIHtcbiAgICAgICAgdmFyIG5lYXJlc3RNb3VudGVkID0gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcih0YXJnZXROb2RlKTtcbiAgICAgICAgaWYgKG51bGwgPT09IG5lYXJlc3RNb3VudGVkKSB0YXJnZXROb2RlID0gbnVsbDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHRhZyA9IG5lYXJlc3RNb3VudGVkLnRhZztcbiAgICAgICAgICBpZiAoMTMgPT09IHRhZykge1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IGdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIobmVhcmVzdE1vdW50ZWQpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IHRhcmdldE5vZGUpIHJldHVybiB0YXJnZXROb2RlO1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmICgzID09PSB0YWcpIHtcbiAgICAgICAgICAgIGlmIChuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZClcbiAgICAgICAgICAgICAgcmV0dXJuIDMgPT09IG5lYXJlc3RNb3VudGVkLnRhZ1xuICAgICAgICAgICAgICAgID8gbmVhcmVzdE1vdW50ZWQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2UgbmVhcmVzdE1vdW50ZWQgIT09IHRhcmdldE5vZGUgJiYgKHRhcmdldE5vZGUgPSBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuX3RhcmdldEluc3QgPSB0YXJnZXROb2RlO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50UHJpb3JpdHkoZG9tRXZlbnROYW1lKSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiYmVmb3JldG9nZ2xlXCI6XG4gICAgICAgIGNhc2UgXCJjYW5jZWxcIjpcbiAgICAgICAgY2FzZSBcImNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJjbG9zZVwiOlxuICAgICAgICBjYXNlIFwiY29udGV4dG1lbnVcIjpcbiAgICAgICAgY2FzZSBcImNvcHlcIjpcbiAgICAgICAgY2FzZSBcImN1dFwiOlxuICAgICAgICBjYXNlIFwiYXV4Y2xpY2tcIjpcbiAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcImRyb3BcIjpcbiAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICBjYXNlIFwiaW52YWxpZFwiOlxuICAgICAgICBjYXNlIFwia2V5ZG93blwiOlxuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgY2FzZSBcIm1vdXNldXBcIjpcbiAgICAgICAgY2FzZSBcInBhc3RlXCI6XG4gICAgICAgIGNhc2UgXCJwYXVzZVwiOlxuICAgICAgICBjYXNlIFwicGxheVwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmNhbmNlbFwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmRvd25cIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJ1cFwiOlxuICAgICAgICBjYXNlIFwicmF0ZWNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwicmVzZXRcIjpcbiAgICAgICAgY2FzZSBcInJlc2l6ZVwiOlxuICAgICAgICBjYXNlIFwic2Vla2VkXCI6XG4gICAgICAgIGNhc2UgXCJzdWJtaXRcIjpcbiAgICAgICAgY2FzZSBcInRvZ2dsZVwiOlxuICAgICAgICBjYXNlIFwidG91Y2hjYW5jZWxcIjpcbiAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6XG4gICAgICAgIGNhc2UgXCJ0b3VjaHN0YXJ0XCI6XG4gICAgICAgIGNhc2UgXCJ2b2x1bWVjaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcImNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwic2VsZWN0aW9uY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0SW5wdXRcIjpcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOlxuICAgICAgICBjYXNlIFwiYmVmb3JlYmx1clwiOlxuICAgICAgICBjYXNlIFwiYWZ0ZXJibHVyXCI6XG4gICAgICAgIGNhc2UgXCJiZWZvcmVpbnB1dFwiOlxuICAgICAgICBjYXNlIFwiYmx1clwiOlxuICAgICAgICBjYXNlIFwiZnVsbHNjcmVlbmNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNcIjpcbiAgICAgICAgY2FzZSBcImhhc2hjaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcInBvcHN0YXRlXCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdHN0YXJ0XCI6XG4gICAgICAgICAgcmV0dXJuIERpc2NyZXRlRXZlbnRQcmlvcml0eTtcbiAgICAgICAgY2FzZSBcImRyYWdcIjpcbiAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICBjYXNlIFwiZHJhZ2V4aXRcIjpcbiAgICAgICAgY2FzZSBcImRyYWdsZWF2ZVwiOlxuICAgICAgICBjYXNlIFwiZHJhZ292ZXJcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlbW92ZVwiOlxuICAgICAgICBjYXNlIFwibW91c2VvdXRcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlb3ZlclwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm1vdmVcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJzY3JvbGxcIjpcbiAgICAgICAgY2FzZSBcInRvdWNobW92ZVwiOlxuICAgICAgICBjYXNlIFwid2hlZWxcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlbGVhdmVcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJlbnRlclwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmxlYXZlXCI6XG4gICAgICAgICAgcmV0dXJuIENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgIHN3aXRjaCAoZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwoKSkge1xuICAgICAgICAgICAgY2FzZSBJbW1lZGlhdGVQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIERpc2NyZXRlRXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGNhc2UgVXNlckJsb2NraW5nUHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBDb250aW51b3VzRXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGNhc2UgTm9ybWFsUHJpb3JpdHkkMTpcbiAgICAgICAgICAgIGNhc2UgTG93UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGNhc2UgSWRsZVByaW9yaXR5OlxuICAgICAgICAgICAgICByZXR1cm4gSWRsZUV2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdEV2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBEZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJJZkNvbnRpbnVvdXNFdmVudChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgICBxdWV1ZWRGb2N1cyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcImRyYWdsZWF2ZVwiOlxuICAgICAgICAgIHF1ZXVlZERyYWcgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICAgIHF1ZXVlZE1vdXNlID0gbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3V0XCI6XG4gICAgICAgICAgcXVldWVkUG9pbnRlcnMuZGVsZXRlKG5hdGl2ZUV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwibG9zdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmRlbGV0ZShuYXRpdmVFdmVudC5wb2ludGVySWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudCxcbiAgICAgIGJsb2NrZWRPbixcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsID09PSBleGlzdGluZ1F1ZXVlZEV2ZW50IHx8XG4gICAgICAgIGV4aXN0aW5nUXVldWVkRXZlbnQubmF0aXZlRXZlbnQgIT09IG5hdGl2ZUV2ZW50XG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGV4aXN0aW5nUXVldWVkRXZlbnQgPSB7XG4gICAgICAgICAgICBibG9ja2VkT246IGJsb2NrZWRPbixcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZTogZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFnczogZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcnM6IFt0YXJnZXRDb250YWluZXJdXG4gICAgICAgICAgfSksXG4gICAgICAgICAgbnVsbCAhPT0gYmxvY2tlZE9uICYmXG4gICAgICAgICAgICAoKGJsb2NrZWRPbiA9IGdldEluc3RhbmNlRnJvbU5vZGUoYmxvY2tlZE9uKSksXG4gICAgICAgICAgICBudWxsICE9PSBibG9ja2VkT24gJiYgYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24oYmxvY2tlZE9uKSksXG4gICAgICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudFxuICAgICAgICApO1xuICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudC5ldmVudFN5c3RlbUZsYWdzIHw9IGV2ZW50U3lzdGVtRmxhZ3M7XG4gICAgICBibG9ja2VkT24gPSBleGlzdGluZ1F1ZXVlZEV2ZW50LnRhcmdldENvbnRhaW5lcnM7XG4gICAgICBudWxsICE9PSB0YXJnZXRDb250YWluZXIgJiZcbiAgICAgICAgLTEgPT09IGJsb2NrZWRPbi5pbmRleE9mKHRhcmdldENvbnRhaW5lcikgJiZcbiAgICAgICAgYmxvY2tlZE9uLnB1c2godGFyZ2V0Q29udGFpbmVyKTtcbiAgICAgIHJldHVybiBleGlzdGluZ1F1ZXVlZEV2ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBxdWV1ZUlmQ29udGludW91c0V2ZW50KFxuICAgICAgYmxvY2tlZE9uLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocXVldWVkRm9jdXMgPSBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWRGb2N1cyxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChxdWV1ZWREcmFnID0gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkRHJhZyxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChxdWV1ZWRNb3VzZSA9IGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgIHF1ZXVlZE1vdXNlLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxuICAgICAgICAgIHZhciBwb2ludGVySWQgPSBuYXRpdmVFdmVudC5wb2ludGVySWQ7XG4gICAgICAgICAgcXVldWVkUG9pbnRlcnMuc2V0KFxuICAgICAgICAgICAgcG9pbnRlcklkLFxuICAgICAgICAgICAgYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkUG9pbnRlcnMuZ2V0KHBvaW50ZXJJZCkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChwb2ludGVySWQgPSBuYXRpdmVFdmVudC5wb2ludGVySWQpLFxuICAgICAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLnNldChcbiAgICAgICAgICAgICAgcG9pbnRlcklkLFxuICAgICAgICAgICAgICBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5nZXQocG9pbnRlcklkKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0KHF1ZXVlZFRhcmdldCkge1xuICAgICAgdmFyIHRhcmdldEluc3QgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShxdWV1ZWRUYXJnZXQudGFyZ2V0KTtcbiAgICAgIGlmIChudWxsICE9PSB0YXJnZXRJbnN0KSB7XG4gICAgICAgIHZhciBuZWFyZXN0TW91bnRlZCA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIodGFyZ2V0SW5zdCk7XG4gICAgICAgIGlmIChudWxsICE9PSBuZWFyZXN0TW91bnRlZClcbiAgICAgICAgICBpZiAoKCh0YXJnZXRJbnN0ID0gbmVhcmVzdE1vdW50ZWQudGFnKSwgMTMgPT09IHRhcmdldEluc3QpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgodGFyZ2V0SW5zdCA9IGdldFN1c3BlbnNlSW5zdGFuY2VGcm9tRmliZXIobmVhcmVzdE1vdW50ZWQpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0SW5zdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgICAgICAgcnVuV2l0aFByaW9yaXR5KHF1ZXVlZFRhcmdldC5wcmlvcml0eSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICgxMyA9PT0gbmVhcmVzdE1vdW50ZWQudGFnKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKG5lYXJlc3RNb3VudGVkKSxcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShuZWFyZXN0TW91bnRlZCwgbGFuZSk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBuZWFyZXN0TW91bnRlZCwgbGFuZSk7XG4gICAgICAgICAgICAgICAgICBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChuZWFyZXN0TW91bnRlZCwgbGFuZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAzID09PSB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9XG4gICAgICAgICAgICAgIDMgPT09IG5lYXJlc3RNb3VudGVkLnRhZ1xuICAgICAgICAgICAgICAgID8gbmVhcmVzdE1vdW50ZWQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRXZlbnQpIHtcbiAgICAgIGlmIChudWxsICE9PSBxdWV1ZWRFdmVudC5ibG9ja2VkT24pIHJldHVybiAhMTtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciB0YXJnZXRDb250YWluZXJzID0gcXVldWVkRXZlbnQudGFyZ2V0Q29udGFpbmVycztcbiAgICAgICAgMCA8IHRhcmdldENvbnRhaW5lcnMubGVuZ3RoO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIG5leHRCbG9ja2VkT24gPSBmaW5kSW5zdGFuY2VCbG9ja2luZ0V2ZW50KHF1ZXVlZEV2ZW50Lm5hdGl2ZUV2ZW50KTtcbiAgICAgICAgaWYgKG51bGwgPT09IG5leHRCbG9ja2VkT24pIHtcbiAgICAgICAgICBuZXh0QmxvY2tlZE9uID0gcXVldWVkRXZlbnQubmF0aXZlRXZlbnQ7XG4gICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50Q2xvbmUgPSBuZXcgbmV4dEJsb2NrZWRPbi5jb25zdHJ1Y3RvcihcbiAgICAgICAgICAgICAgbmV4dEJsb2NrZWRPbi50eXBlLFxuICAgICAgICAgICAgICBuZXh0QmxvY2tlZE9uXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZXZlbnQgPSBuYXRpdmVFdmVudENsb25lO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRSZXBsYXlpbmdFdmVudCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBjdXJyZW50bHkgcmVwbGF5aW5nIGV2ZW50IHRvIGJlIG51bGwuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY3VycmVudFJlcGxheWluZ0V2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgbmV4dEJsb2NrZWRPbi50YXJnZXQuZGlzcGF0Y2hFdmVudChuYXRpdmVFdmVudENsb25lKTtcbiAgICAgICAgICBudWxsID09PSBjdXJyZW50UmVwbGF5aW5nRXZlbnQgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgY3VycmVudGx5IHJlcGxheWluZyBldmVudCB0byBub3QgYmUgbnVsbC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50UmVwbGF5aW5nRXZlbnQgPSBudWxsO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHRhcmdldENvbnRhaW5lcnMgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKG5leHRCbG9ja2VkT24pKSxcbiAgICAgICAgICAgIG51bGwgIT09IHRhcmdldENvbnRhaW5lcnMgJiZcbiAgICAgICAgICAgICAgYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24odGFyZ2V0Q29udGFpbmVycyksXG4gICAgICAgICAgICAocXVldWVkRXZlbnQuYmxvY2tlZE9uID0gbmV4dEJsb2NrZWRPbiksXG4gICAgICAgICAgICAhMVxuICAgICAgICAgICk7XG4gICAgICAgIHRhcmdldENvbnRhaW5lcnMuc2hpZnQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKHF1ZXVlZEV2ZW50LCBrZXksIG1hcCkge1xuICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRFdmVudCkgJiYgbWFwLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlVbmJsb2NrZWRFdmVudHMoKSB7XG4gICAgICBoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0ID0gITE7XG4gICAgICBudWxsICE9PSBxdWV1ZWRGb2N1cyAmJlxuICAgICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZEZvY3VzKSAmJlxuICAgICAgICAocXVldWVkRm9jdXMgPSBudWxsKTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZERyYWcgJiZcbiAgICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWREcmFnKSAmJlxuICAgICAgICAocXVldWVkRHJhZyA9IG51bGwpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkTW91c2UgJiZcbiAgICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRNb3VzZSkgJiZcbiAgICAgICAgKHF1ZXVlZE1vdXNlID0gbnVsbCk7XG4gICAgICBxdWV1ZWRQb2ludGVycy5mb3JFYWNoKGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnRJbk1hcCk7XG4gICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZm9yRWFjaChhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50SW5NYXApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRXZlbnQsIHVuYmxvY2tlZCkge1xuICAgICAgcXVldWVkRXZlbnQuYmxvY2tlZE9uID09PSB1bmJsb2NrZWQgJiZcbiAgICAgICAgKChxdWV1ZWRFdmVudC5ibG9ja2VkT24gPSBudWxsKSxcbiAgICAgICAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCB8fFxuICAgICAgICAgICgoaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9ICEwKSxcbiAgICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhcbiAgICAgICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgICAgICAgIHJlcGxheVVuYmxvY2tlZEV2ZW50c1xuICAgICAgICAgICkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVSZXBsYXlRdWV1ZUlmTmVlZGVkKGZvcm1SZXBsYXlpbmdRdWV1ZSkge1xuICAgICAgbGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlICE9PSBmb3JtUmVwbGF5aW5nUXVldWUgJiZcbiAgICAgICAgKChsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPSBmb3JtUmVwbGF5aW5nUXVldWUpLFxuICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhcbiAgICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID09PSBmb3JtUmVwbGF5aW5nUXVldWUgJiZcbiAgICAgICAgICAgICAgKGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSA9IG51bGwpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtUmVwbGF5aW5nUXVldWUubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgICAgdmFyIGZvcm0gPSBmb3JtUmVwbGF5aW5nUXVldWVbaV0sXG4gICAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24gPSBmb3JtUmVwbGF5aW5nUXVldWVbaSArIDFdLFxuICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gZm9ybVJlcGxheWluZ1F1ZXVlW2kgKyAyXTtcbiAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHN1Ym1pdHRlck9yQWN0aW9uKVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KHN1Ym1pdHRlck9yQWN0aW9uIHx8IGZvcm0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgICAgICAgdmFyIGZvcm1JbnN0ID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShmb3JtKTtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gZm9ybUluc3QgJiZcbiAgICAgICAgICAgICAgICAoZm9ybVJlcGxheWluZ1F1ZXVlLnNwbGljZShpLCAzKSxcbiAgICAgICAgICAgICAgICAoaSAtPSAzKSxcbiAgICAgICAgICAgICAgICAoZm9ybSA9IHtcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmc6ICEwLFxuICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICBtZXRob2Q6IGZvcm0ubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uOiBzdWJtaXR0ZXJPckFjdGlvblxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoZm9ybSksXG4gICAgICAgICAgICAgICAgc3RhcnRIb3N0VHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICAgIGZvcm1JbnN0LFxuICAgICAgICAgICAgICAgICAgZm9ybSxcbiAgICAgICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uLFxuICAgICAgICAgICAgICAgICAgZm9ybURhdGFcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeUlmQmxvY2tlZE9uKHVuYmxvY2tlZCkge1xuICAgICAgZnVuY3Rpb24gdW5ibG9jayhxdWV1ZWRFdmVudCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZEV2ZW50LCB1bmJsb2NrZWQpO1xuICAgICAgfVxuICAgICAgbnVsbCAhPT0gcXVldWVkRm9jdXMgJiZcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZEZvY3VzLCB1bmJsb2NrZWQpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkRHJhZyAmJiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRHJhZywgdW5ibG9ja2VkKTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZE1vdXNlICYmXG4gICAgICAgIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRNb3VzZSwgdW5ibG9ja2VkKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJzLmZvckVhY2godW5ibG9jayk7XG4gICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZm9yRWFjaCh1bmJsb2NrKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBxdWV1ZWRUYXJnZXQgPSBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbaV07XG4gICAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPT09IHVuYmxvY2tlZCAmJiAocXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9IG51bGwpO1xuICAgICAgfVxuICAgICAgZm9yIChcbiAgICAgICAgO1xuICAgICAgICAwIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aCAmJlxuICAgICAgICAoKGkgPSBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbMF0pLCBudWxsID09PSBpLmJsb2NrZWRPbik7XG5cbiAgICAgIClcbiAgICAgICAgYXR0ZW1wdEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0KGkpLFxuICAgICAgICAgIG51bGwgPT09IGkuYmxvY2tlZE9uICYmIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5zaGlmdCgpO1xuICAgICAgaSA9ICh1bmJsb2NrZWQub3duZXJEb2N1bWVudCB8fCB1bmJsb2NrZWQpLiQkcmVhY3RGb3JtUmVwbGF5O1xuICAgICAgaWYgKG51bGwgIT0gaSlcbiAgICAgICAgZm9yIChxdWV1ZWRUYXJnZXQgPSAwOyBxdWV1ZWRUYXJnZXQgPCBpLmxlbmd0aDsgcXVldWVkVGFyZ2V0ICs9IDMpIHtcbiAgICAgICAgICB2YXIgZm9ybSA9IGlbcXVldWVkVGFyZ2V0XSxcbiAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uID0gaVtxdWV1ZWRUYXJnZXQgKyAxXSxcbiAgICAgICAgICAgIGZvcm1Qcm9wcyA9IGZvcm1baW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbDtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc3VibWl0dGVyT3JBY3Rpb24pXG4gICAgICAgICAgICBmb3JtUHJvcHMgfHwgc2NoZWR1bGVSZXBsYXlRdWV1ZUlmTmVlZGVkKGkpO1xuICAgICAgICAgIGVsc2UgaWYgKGZvcm1Qcm9wcykge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uICYmXG4gICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uLmhhc0F0dHJpYnV0ZShcImZvcm1BY3Rpb25cIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgoZm9ybSA9IHN1Ym1pdHRlck9yQWN0aW9uKSxcbiAgICAgICAgICAgICAgICAoZm9ybVByb3BzID0gc3VibWl0dGVyT3JBY3Rpb25baW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbCkpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBhY3Rpb24gPSBmb3JtUHJvcHMuZm9ybUFjdGlvbjtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KGZvcm0pKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBhY3Rpb24gPSBmb3JtUHJvcHMuYWN0aW9uO1xuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWN0aW9uXG4gICAgICAgICAgICAgID8gKGlbcXVldWVkVGFyZ2V0ICsgMV0gPSBhY3Rpb24pXG4gICAgICAgICAgICAgIDogKGkuc3BsaWNlKHF1ZXVlZFRhcmdldCwgMyksIChxdWV1ZWRUYXJnZXQgLT0gMykpO1xuICAgICAgICAgICAgc2NoZWR1bGVSZXBsYXlRdWV1ZUlmTmVlZGVkKGkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdERPTVJvb3QoaW50ZXJuYWxSb290KSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbFJvb3QgPSBpbnRlcm5hbFJvb3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RE9NSHlkcmF0aW9uUm9vdChpbnRlcm5hbFJvb3QpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsUm9vdCA9IGludGVybmFsUm9vdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpIHtcbiAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSAmJlxuICAgICAgICAoY29udGFpbmVyLl9yZWFjdFJvb3RDb250YWluZXJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGFyZSBjYWxsaW5nIFJlYWN0RE9NQ2xpZW50LmNyZWF0ZVJvb3QoKSBvbiBhIGNvbnRhaW5lciB0aGF0IHdhcyBwcmV2aW91c2x5IHBhc3NlZCB0byBSZWFjdERPTS5yZW5kZXIoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBhcmUgY2FsbGluZyBSZWFjdERPTUNsaWVudC5jcmVhdGVSb290KCkgb24gYSBjb250YWluZXIgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byBjcmVhdGVSb290KCkgYmVmb3JlLiBJbnN0ZWFkLCBjYWxsIHJvb3QucmVuZGVyKCkgb24gdGhlIGV4aXN0aW5nIHJvb3QgaW5zdGVhZCBpZiB5b3Ugd2FudCB0byB1cGRhdGUgaXQuXCJcbiAgICAgICAgICAgICkpO1xuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBTY2hlZHVsZXIgPSByZXF1aXJlKFwic2NoZWR1bGVyXCIpLFxuICAgICAgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIiksXG4gICAgICBSZWFjdERPTSA9IHJlcXVpcmUoXCJyZWFjdC1kb21cIiksXG4gICAgICBSRUFDVF9MRUdBQ1lfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIiksXG4gICAgICBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpLFxuICAgICAgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5kZWJ1Z190cmFjZV9tb2RlXCIpO1xuICAgIHZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LmxlZ2FjeV9oaWRkZW5cIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnRyYWNpbmdfbWFya2VyXCIpO1xuICAgIHZhciBSRUFDVF9NRU1PX0NBQ0hFX1NFTlRJTkVMID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0Ll9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBkaXNhYmxlZERlcHRoID0gMCxcbiAgICAgIHByZXZMb2csXG4gICAgICBwcmV2SW5mbyxcbiAgICAgIHByZXZXYXJuLFxuICAgICAgcHJldkVycm9yLFxuICAgICAgcHJldkdyb3VwLFxuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkLFxuICAgICAgcHJldkdyb3VwRW5kO1xuICAgIGRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIHZhciBwcmVmaXgsXG4gICAgICBzdWZmaXgsXG4gICAgICByZWVudHJ5ID0gITE7XG4gICAgdmFyIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgKFxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXBcbiAgICApKCk7XG4gICAgdmFyIGN1cnJlbnQgPSBudWxsLFxuICAgICAgaXNSZW5kZXJpbmcgPSAhMSxcbiAgICAgIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3RET00uX19ET01fSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgTm90UGVuZGluZyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBwZW5kaW5nOiAhMSxcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgbWV0aG9kOiBudWxsLFxuICAgICAgICBhY3Rpb246IG51bGxcbiAgICAgIH0pLFxuICAgICAgdmFsdWVTdGFjayA9IFtdO1xuICAgIHZhciBmaWJlclN0YWNrID0gW107XG4gICAgdmFyIGluZGV4JGpzY29tcCQwID0gLTEsXG4gICAgICBjb250ZXh0U3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBjb250ZXh0RmliZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMyA9IFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrLFxuICAgICAgY2FuY2VsQ2FsbGJhY2skMSA9IFNjaGVkdWxlci51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayxcbiAgICAgIHNob3VsZFlpZWxkID0gU2NoZWR1bGVyLnVuc3RhYmxlX3Nob3VsZFlpZWxkLFxuICAgICAgcmVxdWVzdFBhaW50ID0gU2NoZWR1bGVyLnVuc3RhYmxlX3JlcXVlc3RQYWludCxcbiAgICAgIG5vdyQxID0gU2NoZWR1bGVyLnVuc3RhYmxlX25vdyxcbiAgICAgIGdldEN1cnJlbnRQcmlvcml0eUxldmVsID0gU2NoZWR1bGVyLnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsLFxuICAgICAgSW1tZWRpYXRlUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHksXG4gICAgICBVc2VyQmxvY2tpbmdQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eSxcbiAgICAgIE5vcm1hbFByaW9yaXR5JDEgPSBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICBMb3dQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9Mb3dQcmlvcml0eSxcbiAgICAgIElkbGVQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9JZGxlUHJpb3JpdHksXG4gICAgICBsb2ckMSA9IFNjaGVkdWxlci5sb2csXG4gICAgICB1bnN0YWJsZV9zZXREaXNhYmxlWWllbGRWYWx1ZSA9IFNjaGVkdWxlci51bnN0YWJsZV9zZXREaXNhYmxlWWllbGRWYWx1ZSxcbiAgICAgIHJlbmRlcmVySUQgPSBudWxsLFxuICAgICAgaW5qZWN0ZWRIb29rID0gbnVsbCxcbiAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MgPSBudWxsLFxuICAgICAgaGFzTG9nZ2VkRXJyb3IgPSAhMSxcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ID0gXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyxcbiAgICAgIGNsejMyID0gTWF0aC5jbHozMiA/IE1hdGguY2x6MzIgOiBjbHozMkZhbGxiYWNrLFxuICAgICAgbG9nID0gTWF0aC5sb2csXG4gICAgICBMTjIgPSBNYXRoLkxOMixcbiAgICAgIG5leHRUcmFuc2l0aW9uTGFuZSA9IDEyOCxcbiAgICAgIG5leHRSZXRyeUxhbmUgPSA0MTk0MzA0LFxuICAgICAgRGlzY3JldGVFdmVudFByaW9yaXR5ID0gMixcbiAgICAgIENvbnRpbnVvdXNFdmVudFByaW9yaXR5ID0gOCxcbiAgICAgIERlZmF1bHRFdmVudFByaW9yaXR5ID0gMzIsXG4gICAgICBJZGxlRXZlbnRQcmlvcml0eSA9IDI2ODQzNTQ1NixcbiAgICAgIHJhbmRvbUtleSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFxuICAgICAgaW50ZXJuYWxJbnN0YW5jZUtleSA9IFwiX19yZWFjdEZpYmVyJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxQcm9wc0tleSA9IFwiX19yZWFjdFByb3BzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleSA9IFwiX19yZWFjdENvbnRhaW5lciRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsRXZlbnRIYW5kbGVyc0tleSA9IFwiX19yZWFjdEV2ZW50cyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsRXZlbnRIYW5kbGVyTGlzdGVuZXJzS2V5ID0gXCJfX3JlYWN0TGlzdGVuZXJzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxFdmVudEhhbmRsZXNTZXRLZXkgPSBcIl9fcmVhY3RIYW5kbGVzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxSb290Tm9kZVJlc291cmNlc0tleSA9IFwiX19yZWFjdFJlc291cmNlcyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsSG9pc3RhYmxlTWFya2VyID0gXCJfX3JlYWN0TWFya2VyJFwiICsgcmFuZG9tS2V5LFxuICAgICAgYWxsTmF0aXZlRXZlbnRzID0gbmV3IFNldCgpLFxuICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyA9IHt9LFxuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lcyA9IHt9LFxuICAgICAgY2FuVXNlRE9NID0gIShcbiAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHdpbmRvdyB8fFxuICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2Ygd2luZG93LmRvY3VtZW50IHx8XG4gICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudFxuICAgICAgKSxcbiAgICAgIGhhc1JlYWRPbmx5VmFsdWUgPSB7XG4gICAgICAgIGJ1dHRvbjogITAsXG4gICAgICAgIGNoZWNrYm94OiAhMCxcbiAgICAgICAgaW1hZ2U6ICEwLFxuICAgICAgICBoaWRkZW46ICEwLFxuICAgICAgICByYWRpbzogITAsXG4gICAgICAgIHJlc2V0OiAhMCxcbiAgICAgICAgc3VibWl0OiAhMFxuICAgICAgfSxcbiAgICAgIFZBTElEX0FUVFJJQlVURV9OQU1FX1JFR0VYID0gUmVnRXhwKFxuICAgICAgICBcIl5bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRF1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlID0ge30sXG4gICAgICB2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fSxcbiAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXNSZWdleCA9IC9bXFxuXCJcXFxcXS9nLFxuICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlJDEgPSAhMSxcbiAgICAgIGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSAhMSxcbiAgICAgIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uID0gITEsXG4gICAgICBkaWRXYXJuSW52YWxpZENoaWxkID0gITEsXG4gICAgICBkaWRXYXJuSW52YWxpZElubmVySFRNTCA9ICExO1xuICAgIHZhciBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSAhMTtcbiAgICB2YXIgdmFsdWVQcm9wTmFtZXMgPSBbXCJ2YWx1ZVwiLCBcImRlZmF1bHRWYWx1ZVwiXSxcbiAgICAgIGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gITEsXG4gICAgICBuZWVkc0VzY2FwaW5nID0gL1tcIicmPD5cXG5cXHRdfF5cXHN8XFxzJC8sXG4gICAgICBzcGVjaWFsVGFncyA9XG4gICAgICAgIFwiYWRkcmVzcyBhcHBsZXQgYXJlYSBhcnRpY2xlIGFzaWRlIGJhc2UgYmFzZWZvbnQgYmdzb3VuZCBibG9ja3F1b3RlIGJvZHkgYnIgYnV0dG9uIGNhcHRpb24gY2VudGVyIGNvbCBjb2xncm91cCBkZCBkZXRhaWxzIGRpciBkaXYgZGwgZHQgZW1iZWQgZmllbGRzZXQgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGZvcm0gZnJhbWUgZnJhbWVzZXQgaDEgaDIgaDMgaDQgaDUgaDYgaGVhZCBoZWFkZXIgaGdyb3VwIGhyIGh0bWwgaWZyYW1lIGltZyBpbnB1dCBpc2luZGV4IGxpIGxpbmsgbGlzdGluZyBtYWluIG1hcnF1ZWUgbWVudSBtZW51aXRlbSBtZXRhIG5hdiBub2VtYmVkIG5vZnJhbWVzIG5vc2NyaXB0IG9iamVjdCBvbCBwIHBhcmFtIHBsYWludGV4dCBwcmUgc2NyaXB0IHNlY3Rpb24gc2VsZWN0IHNvdXJjZSBzdHlsZSBzdW1tYXJ5IHRhYmxlIHRib2R5IHRkIHRlbXBsYXRlIHRleHRhcmVhIHRmb290IHRoIHRoZWFkIHRpdGxlIHRyIHRyYWNrIHVsIHdiciB4bXBcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgaW5TY29wZVRhZ3MgPVxuICAgICAgICBcImFwcGxldCBjYXB0aW9uIGh0bWwgdGFibGUgdGQgdGggbWFycXVlZSBvYmplY3QgdGVtcGxhdGUgZm9yZWlnbk9iamVjdCBkZXNjIHRpdGxlXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIGJ1dHRvblNjb3BlVGFncyA9IGluU2NvcGVUYWdzLmNvbmNhdChbXCJidXR0b25cIl0pLFxuICAgICAgaW1wbGllZEVuZFRhZ3MgPSBcImRkIGR0IGxpIG9wdGlvbiBvcHRncm91cCBwIHJwIHJ0XCIuc3BsaXQoXCIgXCIpLFxuICAgICAgZW1wdHlBbmNlc3RvckluZm9EZXYgPSB7XG4gICAgICAgIGN1cnJlbnQ6IG51bGwsXG4gICAgICAgIGZvcm1UYWc6IG51bGwsXG4gICAgICAgIGFUYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBidXR0b25UYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBub2JyVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgcFRhZ0luQnV0dG9uU2NvcGU6IG51bGwsXG4gICAgICAgIGxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgICAgIGRsSXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsLFxuICAgICAgICBjb250YWluZXJUYWdJblNjb3BlOiBudWxsXG4gICAgICB9LFxuICAgICAgZGlkV2FybiA9IHt9LFxuICAgICAgTUFUSF9OQU1FU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIixcbiAgICAgIFNWR19OQU1FU1BBQ0UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBzaG9ydGhhbmRUb0xvbmdoYW5kID0ge1xuICAgICAgICBhbmltYXRpb246XG4gICAgICAgICAgXCJhbmltYXRpb25EZWxheSBhbmltYXRpb25EaXJlY3Rpb24gYW5pbWF0aW9uRHVyYXRpb24gYW5pbWF0aW9uRmlsbE1vZGUgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgYW5pbWF0aW9uTmFtZSBhbmltYXRpb25QbGF5U3RhdGUgYW5pbWF0aW9uVGltaW5nRnVuY3Rpb25cIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgYmFja2dyb3VuZDpcbiAgICAgICAgICBcImJhY2tncm91bmRBdHRhY2htZW50IGJhY2tncm91bmRDbGlwIGJhY2tncm91bmRDb2xvciBiYWNrZ3JvdW5kSW1hZ2UgYmFja2dyb3VuZE9yaWdpbiBiYWNrZ3JvdW5kUG9zaXRpb25YIGJhY2tncm91bmRQb3NpdGlvblkgYmFja2dyb3VuZFJlcGVhdCBiYWNrZ3JvdW5kU2l6ZVwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb246IFtcImJhY2tncm91bmRQb3NpdGlvblhcIiwgXCJiYWNrZ3JvdW5kUG9zaXRpb25ZXCJdLFxuICAgICAgICBib3JkZXI6XG4gICAgICAgICAgXCJib3JkZXJCb3R0b21Db2xvciBib3JkZXJCb3R0b21TdHlsZSBib3JkZXJCb3R0b21XaWR0aCBib3JkZXJJbWFnZU91dHNldCBib3JkZXJJbWFnZVJlcGVhdCBib3JkZXJJbWFnZVNsaWNlIGJvcmRlckltYWdlU291cmNlIGJvcmRlckltYWdlV2lkdGggYm9yZGVyTGVmdENvbG9yIGJvcmRlckxlZnRTdHlsZSBib3JkZXJMZWZ0V2lkdGggYm9yZGVyUmlnaHRDb2xvciBib3JkZXJSaWdodFN0eWxlIGJvcmRlclJpZ2h0V2lkdGggYm9yZGVyVG9wQ29sb3IgYm9yZGVyVG9wU3R5bGUgYm9yZGVyVG9wV2lkdGhcIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgYm9yZGVyQmxvY2tFbmQ6IFtcbiAgICAgICAgICBcImJvcmRlckJsb2NrRW5kQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrRW5kU3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrRW5kV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJCbG9ja1N0YXJ0OiBbXG4gICAgICAgICAgXCJib3JkZXJCbG9ja1N0YXJ0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrU3RhcnRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tTdGFydFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyQm90dG9tOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21Db2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyQm90dG9tU3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUNvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJMZWZ0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlclRvcENvbG9yXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVySW1hZ2U6IFtcbiAgICAgICAgICBcImJvcmRlckltYWdlT3V0c2V0XCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVJlcGVhdFwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VTbGljZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VTb3VyY2VcIixcbiAgICAgICAgICBcImJvcmRlckltYWdlV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJJbmxpbmVFbmQ6IFtcbiAgICAgICAgICBcImJvcmRlcklubGluZUVuZENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVFbmRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lRW5kV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJJbmxpbmVTdGFydDogW1xuICAgICAgICAgIFwiYm9yZGVySW5saW5lU3RhcnRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lU3RhcnRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lU3RhcnRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckxlZnQ6IFtcImJvcmRlckxlZnRDb2xvclwiLCBcImJvcmRlckxlZnRTdHlsZVwiLCBcImJvcmRlckxlZnRXaWR0aFwiXSxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21MZWZ0UmFkaXVzXCIsXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21SaWdodFJhZGl1c1wiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wTGVmdFJhZGl1c1wiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wUmlnaHRSYWRpdXNcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJSaWdodDogW1xuICAgICAgICAgIFwiYm9yZGVyUmlnaHRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlclN0eWxlOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21TdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyTGVmdFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BTdHlsZVwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlclRvcDogW1wiYm9yZGVyVG9wQ29sb3JcIiwgXCJib3JkZXJUb3BTdHlsZVwiLCBcImJvcmRlclRvcFdpZHRoXCJdLFxuICAgICAgICBib3JkZXJXaWR0aDogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tV2lkdGhcIixcbiAgICAgICAgICBcImJvcmRlckxlZnRXaWR0aFwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRXaWR0aFwiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBjb2x1bW5SdWxlOiBbXCJjb2x1bW5SdWxlQ29sb3JcIiwgXCJjb2x1bW5SdWxlU3R5bGVcIiwgXCJjb2x1bW5SdWxlV2lkdGhcIl0sXG4gICAgICAgIGNvbHVtbnM6IFtcImNvbHVtbkNvdW50XCIsIFwiY29sdW1uV2lkdGhcIl0sXG4gICAgICAgIGZsZXg6IFtcImZsZXhCYXNpc1wiLCBcImZsZXhHcm93XCIsIFwiZmxleFNocmlua1wiXSxcbiAgICAgICAgZmxleEZsb3c6IFtcImZsZXhEaXJlY3Rpb25cIiwgXCJmbGV4V3JhcFwiXSxcbiAgICAgICAgZm9udDogXCJmb250RmFtaWx5IGZvbnRGZWF0dXJlU2V0dGluZ3MgZm9udEtlcm5pbmcgZm9udExhbmd1YWdlT3ZlcnJpZGUgZm9udFNpemUgZm9udFNpemVBZGp1c3QgZm9udFN0cmV0Y2ggZm9udFN0eWxlIGZvbnRWYXJpYW50IGZvbnRWYXJpYW50QWx0ZXJuYXRlcyBmb250VmFyaWFudENhcHMgZm9udFZhcmlhbnRFYXN0QXNpYW4gZm9udFZhcmlhbnRMaWdhdHVyZXMgZm9udFZhcmlhbnROdW1lcmljIGZvbnRWYXJpYW50UG9zaXRpb24gZm9udFdlaWdodCBsaW5lSGVpZ2h0XCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgICAgZm9udFZhcmlhbnQ6XG4gICAgICAgICAgXCJmb250VmFyaWFudEFsdGVybmF0ZXMgZm9udFZhcmlhbnRDYXBzIGZvbnRWYXJpYW50RWFzdEFzaWFuIGZvbnRWYXJpYW50TGlnYXR1cmVzIGZvbnRWYXJpYW50TnVtZXJpYyBmb250VmFyaWFudFBvc2l0aW9uXCIuc3BsaXQoXG4gICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICksXG4gICAgICAgIGdhcDogW1wiY29sdW1uR2FwXCIsIFwicm93R2FwXCJdLFxuICAgICAgICBncmlkOiBcImdyaWRBdXRvQ29sdW1ucyBncmlkQXV0b0Zsb3cgZ3JpZEF1dG9Sb3dzIGdyaWRUZW1wbGF0ZUFyZWFzIGdyaWRUZW1wbGF0ZUNvbHVtbnMgZ3JpZFRlbXBsYXRlUm93c1wiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICAgIGdyaWRBcmVhOiBbXG4gICAgICAgICAgXCJncmlkQ29sdW1uRW5kXCIsXG4gICAgICAgICAgXCJncmlkQ29sdW1uU3RhcnRcIixcbiAgICAgICAgICBcImdyaWRSb3dFbmRcIixcbiAgICAgICAgICBcImdyaWRSb3dTdGFydFwiXG4gICAgICAgIF0sXG4gICAgICAgIGdyaWRDb2x1bW46IFtcImdyaWRDb2x1bW5FbmRcIiwgXCJncmlkQ29sdW1uU3RhcnRcIl0sXG4gICAgICAgIGdyaWRDb2x1bW5HYXA6IFtcImNvbHVtbkdhcFwiXSxcbiAgICAgICAgZ3JpZEdhcDogW1wiY29sdW1uR2FwXCIsIFwicm93R2FwXCJdLFxuICAgICAgICBncmlkUm93OiBbXCJncmlkUm93RW5kXCIsIFwiZ3JpZFJvd1N0YXJ0XCJdLFxuICAgICAgICBncmlkUm93R2FwOiBbXCJyb3dHYXBcIl0sXG4gICAgICAgIGdyaWRUZW1wbGF0ZTogW1xuICAgICAgICAgIFwiZ3JpZFRlbXBsYXRlQXJlYXNcIixcbiAgICAgICAgICBcImdyaWRUZW1wbGF0ZUNvbHVtbnNcIixcbiAgICAgICAgICBcImdyaWRUZW1wbGF0ZVJvd3NcIlxuICAgICAgICBdLFxuICAgICAgICBsaXN0U3R5bGU6IFtcImxpc3RTdHlsZUltYWdlXCIsIFwibGlzdFN0eWxlUG9zaXRpb25cIiwgXCJsaXN0U3R5bGVUeXBlXCJdLFxuICAgICAgICBtYXJnaW46IFtcIm1hcmdpbkJvdHRvbVwiLCBcIm1hcmdpbkxlZnRcIiwgXCJtYXJnaW5SaWdodFwiLCBcIm1hcmdpblRvcFwiXSxcbiAgICAgICAgbWFya2VyOiBbXCJtYXJrZXJFbmRcIiwgXCJtYXJrZXJNaWRcIiwgXCJtYXJrZXJTdGFydFwiXSxcbiAgICAgICAgbWFzazogXCJtYXNrQ2xpcCBtYXNrQ29tcG9zaXRlIG1hc2tJbWFnZSBtYXNrTW9kZSBtYXNrT3JpZ2luIG1hc2tQb3NpdGlvblggbWFza1Bvc2l0aW9uWSBtYXNrUmVwZWF0IG1hc2tTaXplXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgICAgbWFza1Bvc2l0aW9uOiBbXCJtYXNrUG9zaXRpb25YXCIsIFwibWFza1Bvc2l0aW9uWVwiXSxcbiAgICAgICAgb3V0bGluZTogW1wib3V0bGluZUNvbG9yXCIsIFwib3V0bGluZVN0eWxlXCIsIFwib3V0bGluZVdpZHRoXCJdLFxuICAgICAgICBvdmVyZmxvdzogW1wib3ZlcmZsb3dYXCIsIFwib3ZlcmZsb3dZXCJdLFxuICAgICAgICBwYWRkaW5nOiBbXCJwYWRkaW5nQm90dG9tXCIsIFwicGFkZGluZ0xlZnRcIiwgXCJwYWRkaW5nUmlnaHRcIiwgXCJwYWRkaW5nVG9wXCJdLFxuICAgICAgICBwbGFjZUNvbnRlbnQ6IFtcImFsaWduQ29udGVudFwiLCBcImp1c3RpZnlDb250ZW50XCJdLFxuICAgICAgICBwbGFjZUl0ZW1zOiBbXCJhbGlnbkl0ZW1zXCIsIFwianVzdGlmeUl0ZW1zXCJdLFxuICAgICAgICBwbGFjZVNlbGY6IFtcImFsaWduU2VsZlwiLCBcImp1c3RpZnlTZWxmXCJdLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogW1xuICAgICAgICAgIFwidGV4dERlY29yYXRpb25Db2xvclwiLFxuICAgICAgICAgIFwidGV4dERlY29yYXRpb25MaW5lXCIsXG4gICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvblN0eWxlXCJcbiAgICAgICAgXSxcbiAgICAgICAgdGV4dEVtcGhhc2lzOiBbXCJ0ZXh0RW1waGFzaXNDb2xvclwiLCBcInRleHRFbXBoYXNpc1N0eWxlXCJdLFxuICAgICAgICB0cmFuc2l0aW9uOiBbXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uRGVsYXlcIixcbiAgICAgICAgICBcInRyYW5zaXRpb25EdXJhdGlvblwiLFxuICAgICAgICAgIFwidHJhbnNpdGlvblByb3BlcnR5XCIsXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb25cIlxuICAgICAgICBdLFxuICAgICAgICB3b3JkV3JhcDogW1wib3ZlcmZsb3dXcmFwXCJdXG4gICAgICB9LFxuICAgICAgdXBwZXJjYXNlUGF0dGVybiA9IC8oW0EtWl0pL2csXG4gICAgICBtc1BhdHRlcm4kMSA9IC9ebXMtLyxcbiAgICAgIGJhZFZlbmRvcmVkU3R5bGVOYW1lUGF0dGVybiA9IC9eKD86d2Via2l0fG1venxvKVtBLVpdLyxcbiAgICAgIG1zUGF0dGVybiA9IC9eLW1zLS8sXG4gICAgICBoeXBoZW5QYXR0ZXJuID0gLy0oLikvZyxcbiAgICAgIGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiA9IC87XFxzKiQvLFxuICAgICAgd2FybmVkU3R5bGVOYW1lcyA9IHt9LFxuICAgICAgd2FybmVkU3R5bGVWYWx1ZXMgPSB7fSxcbiAgICAgIHdhcm5lZEZvck5hTlZhbHVlID0gITEsXG4gICAgICB3YXJuZWRGb3JJbmZpbml0eVZhbHVlID0gITEsXG4gICAgICB1bml0bGVzc051bWJlcnMgPSBuZXcgU2V0KFxuICAgICAgICBcImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IGFzcGVjdFJhdGlvIGJvcmRlckltYWdlT3V0c2V0IGJvcmRlckltYWdlU2xpY2UgYm9yZGVySW1hZ2VXaWR0aCBib3hGbGV4IGJveEZsZXhHcm91cCBib3hPcmRpbmFsR3JvdXAgY29sdW1uQ291bnQgY29sdW1ucyBmbGV4IGZsZXhHcm93IGZsZXhQb3NpdGl2ZSBmbGV4U2hyaW5rIGZsZXhOZWdhdGl2ZSBmbGV4T3JkZXIgZ3JpZEFyZWEgZ3JpZFJvdyBncmlkUm93RW5kIGdyaWRSb3dTcGFuIGdyaWRSb3dTdGFydCBncmlkQ29sdW1uIGdyaWRDb2x1bW5FbmQgZ3JpZENvbHVtblNwYW4gZ3JpZENvbHVtblN0YXJ0IGZvbnRXZWlnaHQgbGluZUNsYW1wIGxpbmVIZWlnaHQgb3BhY2l0eSBvcmRlciBvcnBoYW5zIHNjYWxlIHRhYlNpemUgd2lkb3dzIHpJbmRleCB6b29tIGZpbGxPcGFjaXR5IGZsb29kT3BhY2l0eSBzdG9wT3BhY2l0eSBzdHJva2VEYXNoYXJyYXkgc3Ryb2tlRGFzaG9mZnNldCBzdHJva2VNaXRlcmxpbWl0IHN0cm9rZU9wYWNpdHkgc3Ryb2tlV2lkdGggTW96QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgTW96Qm94RmxleCBNb3pCb3hGbGV4R3JvdXAgTW96TGluZUNsYW1wIG1zQW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgbXNGbGV4IG1zWm9vbSBtc0ZsZXhHcm93IG1zRmxleE5lZ2F0aXZlIG1zRmxleE9yZGVyIG1zRmxleFBvc2l0aXZlIG1zRmxleFNocmluayBtc0dyaWRDb2x1bW4gbXNHcmlkQ29sdW1uU3BhbiBtc0dyaWRSb3cgbXNHcmlkUm93U3BhbiBXZWJraXRBbmltYXRpb25JdGVyYXRpb25Db3VudCBXZWJraXRCb3hGbGV4IFdlYktpdEJveEZsZXhHcm91cCBXZWJraXRCb3hPcmRpbmFsR3JvdXAgV2Via2l0Q29sdW1uQ291bnQgV2Via2l0Q29sdW1ucyBXZWJraXRGbGV4IFdlYmtpdEZsZXhHcm93IFdlYmtpdEZsZXhQb3NpdGl2ZSBXZWJraXRGbGV4U2hyaW5rIFdlYmtpdExpbmVDbGFtcFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgIClcbiAgICAgICksXG4gICAgICBhbGlhc2VzID0gbmV3IE1hcChbXG4gICAgICAgIFtcImFjY2VwdENoYXJzZXRcIiwgXCJhY2NlcHQtY2hhcnNldFwiXSxcbiAgICAgICAgW1wiaHRtbEZvclwiLCBcImZvclwiXSxcbiAgICAgICAgW1wiaHR0cEVxdWl2XCIsIFwiaHR0cC1lcXVpdlwiXSxcbiAgICAgICAgW1wiY3Jvc3NPcmlnaW5cIiwgXCJjcm9zc29yaWdpblwiXSxcbiAgICAgICAgW1wiYWNjZW50SGVpZ2h0XCIsIFwiYWNjZW50LWhlaWdodFwiXSxcbiAgICAgICAgW1wiYWxpZ25tZW50QmFzZWxpbmVcIiwgXCJhbGlnbm1lbnQtYmFzZWxpbmVcIl0sXG4gICAgICAgIFtcImFyYWJpY0Zvcm1cIiwgXCJhcmFiaWMtZm9ybVwiXSxcbiAgICAgICAgW1wiYmFzZWxpbmVTaGlmdFwiLCBcImJhc2VsaW5lLXNoaWZ0XCJdLFxuICAgICAgICBbXCJjYXBIZWlnaHRcIiwgXCJjYXAtaGVpZ2h0XCJdLFxuICAgICAgICBbXCJjbGlwUGF0aFwiLCBcImNsaXAtcGF0aFwiXSxcbiAgICAgICAgW1wiY2xpcFJ1bGVcIiwgXCJjbGlwLXJ1bGVcIl0sXG4gICAgICAgIFtcImNvbG9ySW50ZXJwb2xhdGlvblwiLCBcImNvbG9yLWludGVycG9sYXRpb25cIl0sXG4gICAgICAgIFtcImNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnNcIiwgXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIl0sXG4gICAgICAgIFtcImNvbG9yUHJvZmlsZVwiLCBcImNvbG9yLXByb2ZpbGVcIl0sXG4gICAgICAgIFtcImNvbG9yUmVuZGVyaW5nXCIsIFwiY29sb3ItcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJkb21pbmFudEJhc2VsaW5lXCIsIFwiZG9taW5hbnQtYmFzZWxpbmVcIl0sXG4gICAgICAgIFtcImVuYWJsZUJhY2tncm91bmRcIiwgXCJlbmFibGUtYmFja2dyb3VuZFwiXSxcbiAgICAgICAgW1wiZmlsbE9wYWNpdHlcIiwgXCJmaWxsLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcImZpbGxSdWxlXCIsIFwiZmlsbC1ydWxlXCJdLFxuICAgICAgICBbXCJmbG9vZENvbG9yXCIsIFwiZmxvb2QtY29sb3JcIl0sXG4gICAgICAgIFtcImZsb29kT3BhY2l0eVwiLCBcImZsb29kLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcImZvbnRGYW1pbHlcIiwgXCJmb250LWZhbWlseVwiXSxcbiAgICAgICAgW1wiZm9udFNpemVcIiwgXCJmb250LXNpemVcIl0sXG4gICAgICAgIFtcImZvbnRTaXplQWRqdXN0XCIsIFwiZm9udC1zaXplLWFkanVzdFwiXSxcbiAgICAgICAgW1wiZm9udFN0cmV0Y2hcIiwgXCJmb250LXN0cmV0Y2hcIl0sXG4gICAgICAgIFtcImZvbnRTdHlsZVwiLCBcImZvbnQtc3R5bGVcIl0sXG4gICAgICAgIFtcImZvbnRWYXJpYW50XCIsIFwiZm9udC12YXJpYW50XCJdLFxuICAgICAgICBbXCJmb250V2VpZ2h0XCIsIFwiZm9udC13ZWlnaHRcIl0sXG4gICAgICAgIFtcImdseXBoTmFtZVwiLCBcImdseXBoLW5hbWVcIl0sXG4gICAgICAgIFtcImdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsXCIsIFwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbFwiXSxcbiAgICAgICAgW1wiZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsXCIsIFwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWxcIl0sXG4gICAgICAgIFtcImhvcml6QWR2WFwiLCBcImhvcml6LWFkdi14XCJdLFxuICAgICAgICBbXCJob3Jpek9yaWdpblhcIiwgXCJob3Jpei1vcmlnaW4teFwiXSxcbiAgICAgICAgW1wiaW1hZ2VSZW5kZXJpbmdcIiwgXCJpbWFnZS1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcImxldHRlclNwYWNpbmdcIiwgXCJsZXR0ZXItc3BhY2luZ1wiXSxcbiAgICAgICAgW1wibGlnaHRpbmdDb2xvclwiLCBcImxpZ2h0aW5nLWNvbG9yXCJdLFxuICAgICAgICBbXCJtYXJrZXJFbmRcIiwgXCJtYXJrZXItZW5kXCJdLFxuICAgICAgICBbXCJtYXJrZXJNaWRcIiwgXCJtYXJrZXItbWlkXCJdLFxuICAgICAgICBbXCJtYXJrZXJTdGFydFwiLCBcIm1hcmtlci1zdGFydFwiXSxcbiAgICAgICAgW1wib3ZlcmxpbmVQb3NpdGlvblwiLCBcIm92ZXJsaW5lLXBvc2l0aW9uXCJdLFxuICAgICAgICBbXCJvdmVybGluZVRoaWNrbmVzc1wiLCBcIm92ZXJsaW5lLXRoaWNrbmVzc1wiXSxcbiAgICAgICAgW1wicGFpbnRPcmRlclwiLCBcInBhaW50LW9yZGVyXCJdLFxuICAgICAgICBbXCJwYW5vc2UtMVwiLCBcInBhbm9zZS0xXCJdLFxuICAgICAgICBbXCJwb2ludGVyRXZlbnRzXCIsIFwicG9pbnRlci1ldmVudHNcIl0sXG4gICAgICAgIFtcInJlbmRlcmluZ0ludGVudFwiLCBcInJlbmRlcmluZy1pbnRlbnRcIl0sXG4gICAgICAgIFtcInNoYXBlUmVuZGVyaW5nXCIsIFwic2hhcGUtcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJzdG9wQ29sb3JcIiwgXCJzdG9wLWNvbG9yXCJdLFxuICAgICAgICBbXCJzdG9wT3BhY2l0eVwiLCBcInN0b3Atb3BhY2l0eVwiXSxcbiAgICAgICAgW1wic3RyaWtldGhyb3VnaFBvc2l0aW9uXCIsIFwic3RyaWtldGhyb3VnaC1wb3NpdGlvblwiXSxcbiAgICAgICAgW1wic3RyaWtldGhyb3VnaFRoaWNrbmVzc1wiLCBcInN0cmlrZXRocm91Z2gtdGhpY2tuZXNzXCJdLFxuICAgICAgICBbXCJzdHJva2VEYXNoYXJyYXlcIiwgXCJzdHJva2UtZGFzaGFycmF5XCJdLFxuICAgICAgICBbXCJzdHJva2VEYXNob2Zmc2V0XCIsIFwic3Ryb2tlLWRhc2hvZmZzZXRcIl0sXG4gICAgICAgIFtcInN0cm9rZUxpbmVjYXBcIiwgXCJzdHJva2UtbGluZWNhcFwiXSxcbiAgICAgICAgW1wic3Ryb2tlTGluZWpvaW5cIiwgXCJzdHJva2UtbGluZWpvaW5cIl0sXG4gICAgICAgIFtcInN0cm9rZU1pdGVybGltaXRcIiwgXCJzdHJva2UtbWl0ZXJsaW1pdFwiXSxcbiAgICAgICAgW1wic3Ryb2tlT3BhY2l0eVwiLCBcInN0cm9rZS1vcGFjaXR5XCJdLFxuICAgICAgICBbXCJzdHJva2VXaWR0aFwiLCBcInN0cm9rZS13aWR0aFwiXSxcbiAgICAgICAgW1widGV4dEFuY2hvclwiLCBcInRleHQtYW5jaG9yXCJdLFxuICAgICAgICBbXCJ0ZXh0RGVjb3JhdGlvblwiLCBcInRleHQtZGVjb3JhdGlvblwiXSxcbiAgICAgICAgW1widGV4dFJlbmRlcmluZ1wiLCBcInRleHQtcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJ0cmFuc2Zvcm1PcmlnaW5cIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCJdLFxuICAgICAgICBbXCJ1bmRlcmxpbmVQb3NpdGlvblwiLCBcInVuZGVybGluZS1wb3NpdGlvblwiXSxcbiAgICAgICAgW1widW5kZXJsaW5lVGhpY2tuZXNzXCIsIFwidW5kZXJsaW5lLXRoaWNrbmVzc1wiXSxcbiAgICAgICAgW1widW5pY29kZUJpZGlcIiwgXCJ1bmljb2RlLWJpZGlcIl0sXG4gICAgICAgIFtcInVuaWNvZGVSYW5nZVwiLCBcInVuaWNvZGUtcmFuZ2VcIl0sXG4gICAgICAgIFtcInVuaXRzUGVyRW1cIiwgXCJ1bml0cy1wZXItZW1cIl0sXG4gICAgICAgIFtcInZBbHBoYWJldGljXCIsIFwidi1hbHBoYWJldGljXCJdLFxuICAgICAgICBbXCJ2SGFuZ2luZ1wiLCBcInYtaGFuZ2luZ1wiXSxcbiAgICAgICAgW1widklkZW9ncmFwaGljXCIsIFwidi1pZGVvZ3JhcGhpY1wiXSxcbiAgICAgICAgW1widk1hdGhlbWF0aWNhbFwiLCBcInYtbWF0aGVtYXRpY2FsXCJdLFxuICAgICAgICBbXCJ2ZWN0b3JFZmZlY3RcIiwgXCJ2ZWN0b3ItZWZmZWN0XCJdLFxuICAgICAgICBbXCJ2ZXJ0QWR2WVwiLCBcInZlcnQtYWR2LXlcIl0sXG4gICAgICAgIFtcInZlcnRPcmlnaW5YXCIsIFwidmVydC1vcmlnaW4teFwiXSxcbiAgICAgICAgW1widmVydE9yaWdpbllcIiwgXCJ2ZXJ0LW9yaWdpbi15XCJdLFxuICAgICAgICBbXCJ3b3JkU3BhY2luZ1wiLCBcIndvcmQtc3BhY2luZ1wiXSxcbiAgICAgICAgW1wid3JpdGluZ01vZGVcIiwgXCJ3cml0aW5nLW1vZGVcIl0sXG4gICAgICAgIFtcInhtbG5zWGxpbmtcIiwgXCJ4bWxuczp4bGlua1wiXSxcbiAgICAgICAgW1wieEhlaWdodFwiLCBcIngtaGVpZ2h0XCJdXG4gICAgICBdKSxcbiAgICAgIHBvc3NpYmxlU3RhbmRhcmROYW1lcyA9IHtcbiAgICAgICAgYWNjZXB0OiBcImFjY2VwdFwiLFxuICAgICAgICBhY2NlcHRjaGFyc2V0OiBcImFjY2VwdENoYXJzZXRcIixcbiAgICAgICAgXCJhY2NlcHQtY2hhcnNldFwiOiBcImFjY2VwdENoYXJzZXRcIixcbiAgICAgICAgYWNjZXNza2V5OiBcImFjY2Vzc0tleVwiLFxuICAgICAgICBhY3Rpb246IFwiYWN0aW9uXCIsXG4gICAgICAgIGFsbG93ZnVsbHNjcmVlbjogXCJhbGxvd0Z1bGxTY3JlZW5cIixcbiAgICAgICAgYWx0OiBcImFsdFwiLFxuICAgICAgICBhczogXCJhc1wiLFxuICAgICAgICBhc3luYzogXCJhc3luY1wiLFxuICAgICAgICBhdXRvY2FwaXRhbGl6ZTogXCJhdXRvQ2FwaXRhbGl6ZVwiLFxuICAgICAgICBhdXRvY29tcGxldGU6IFwiYXV0b0NvbXBsZXRlXCIsXG4gICAgICAgIGF1dG9jb3JyZWN0OiBcImF1dG9Db3JyZWN0XCIsXG4gICAgICAgIGF1dG9mb2N1czogXCJhdXRvRm9jdXNcIixcbiAgICAgICAgYXV0b3BsYXk6IFwiYXV0b1BsYXlcIixcbiAgICAgICAgYXV0b3NhdmU6IFwiYXV0b1NhdmVcIixcbiAgICAgICAgY2FwdHVyZTogXCJjYXB0dXJlXCIsXG4gICAgICAgIGNlbGxwYWRkaW5nOiBcImNlbGxQYWRkaW5nXCIsXG4gICAgICAgIGNlbGxzcGFjaW5nOiBcImNlbGxTcGFjaW5nXCIsXG4gICAgICAgIGNoYWxsZW5nZTogXCJjaGFsbGVuZ2VcIixcbiAgICAgICAgY2hhcnNldDogXCJjaGFyU2V0XCIsXG4gICAgICAgIGNoZWNrZWQ6IFwiY2hlY2tlZFwiLFxuICAgICAgICBjaGlsZHJlbjogXCJjaGlsZHJlblwiLFxuICAgICAgICBjaXRlOiBcImNpdGVcIixcbiAgICAgICAgY2xhc3M6IFwiY2xhc3NOYW1lXCIsXG4gICAgICAgIGNsYXNzaWQ6IFwiY2xhc3NJRFwiLFxuICAgICAgICBjbGFzc25hbWU6IFwiY2xhc3NOYW1lXCIsXG4gICAgICAgIGNvbHM6IFwiY29sc1wiLFxuICAgICAgICBjb2xzcGFuOiBcImNvbFNwYW5cIixcbiAgICAgICAgY29udGVudDogXCJjb250ZW50XCIsXG4gICAgICAgIGNvbnRlbnRlZGl0YWJsZTogXCJjb250ZW50RWRpdGFibGVcIixcbiAgICAgICAgY29udGV4dG1lbnU6IFwiY29udGV4dE1lbnVcIixcbiAgICAgICAgY29udHJvbHM6IFwiY29udHJvbHNcIixcbiAgICAgICAgY29udHJvbHNsaXN0OiBcImNvbnRyb2xzTGlzdFwiLFxuICAgICAgICBjb29yZHM6IFwiY29vcmRzXCIsXG4gICAgICAgIGNyb3Nzb3JpZ2luOiBcImNyb3NzT3JpZ2luXCIsXG4gICAgICAgIGRhbmdlcm91c2x5c2V0aW5uZXJodG1sOiBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIsXG4gICAgICAgIGRhdGE6IFwiZGF0YVwiLFxuICAgICAgICBkYXRldGltZTogXCJkYXRlVGltZVwiLFxuICAgICAgICBkZWZhdWx0OiBcImRlZmF1bHRcIixcbiAgICAgICAgZGVmYXVsdGNoZWNrZWQ6IFwiZGVmYXVsdENoZWNrZWRcIixcbiAgICAgICAgZGVmYXVsdHZhbHVlOiBcImRlZmF1bHRWYWx1ZVwiLFxuICAgICAgICBkZWZlcjogXCJkZWZlclwiLFxuICAgICAgICBkaXI6IFwiZGlyXCIsXG4gICAgICAgIGRpc2FibGVkOiBcImRpc2FibGVkXCIsXG4gICAgICAgIGRpc2FibGVwaWN0dXJlaW5waWN0dXJlOiBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCIsXG4gICAgICAgIGRpc2FibGVyZW1vdGVwbGF5YmFjazogXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIixcbiAgICAgICAgZG93bmxvYWQ6IFwiZG93bmxvYWRcIixcbiAgICAgICAgZHJhZ2dhYmxlOiBcImRyYWdnYWJsZVwiLFxuICAgICAgICBlbmN0eXBlOiBcImVuY1R5cGVcIixcbiAgICAgICAgZW50ZXJrZXloaW50OiBcImVudGVyS2V5SGludFwiLFxuICAgICAgICBmZXRjaHByaW9yaXR5OiBcImZldGNoUHJpb3JpdHlcIixcbiAgICAgICAgZm9yOiBcImh0bWxGb3JcIixcbiAgICAgICAgZm9ybTogXCJmb3JtXCIsXG4gICAgICAgIGZvcm1tZXRob2Q6IFwiZm9ybU1ldGhvZFwiLFxuICAgICAgICBmb3JtYWN0aW9uOiBcImZvcm1BY3Rpb25cIixcbiAgICAgICAgZm9ybWVuY3R5cGU6IFwiZm9ybUVuY1R5cGVcIixcbiAgICAgICAgZm9ybW5vdmFsaWRhdGU6IFwiZm9ybU5vVmFsaWRhdGVcIixcbiAgICAgICAgZm9ybXRhcmdldDogXCJmb3JtVGFyZ2V0XCIsXG4gICAgICAgIGZyYW1lYm9yZGVyOiBcImZyYW1lQm9yZGVyXCIsXG4gICAgICAgIGhlYWRlcnM6IFwiaGVhZGVyc1wiLFxuICAgICAgICBoZWlnaHQ6IFwiaGVpZ2h0XCIsXG4gICAgICAgIGhpZGRlbjogXCJoaWRkZW5cIixcbiAgICAgICAgaGlnaDogXCJoaWdoXCIsXG4gICAgICAgIGhyZWY6IFwiaHJlZlwiLFxuICAgICAgICBocmVmbGFuZzogXCJocmVmTGFuZ1wiLFxuICAgICAgICBodG1sZm9yOiBcImh0bWxGb3JcIixcbiAgICAgICAgaHR0cGVxdWl2OiBcImh0dHBFcXVpdlwiLFxuICAgICAgICBcImh0dHAtZXF1aXZcIjogXCJodHRwRXF1aXZcIixcbiAgICAgICAgaWNvbjogXCJpY29uXCIsXG4gICAgICAgIGlkOiBcImlkXCIsXG4gICAgICAgIGltYWdlc2l6ZXM6IFwiaW1hZ2VTaXplc1wiLFxuICAgICAgICBpbWFnZXNyY3NldDogXCJpbWFnZVNyY1NldFwiLFxuICAgICAgICBpbmVydDogXCJpbmVydFwiLFxuICAgICAgICBpbm5lcmh0bWw6IFwiaW5uZXJIVE1MXCIsXG4gICAgICAgIGlucHV0bW9kZTogXCJpbnB1dE1vZGVcIixcbiAgICAgICAgaW50ZWdyaXR5OiBcImludGVncml0eVwiLFxuICAgICAgICBpczogXCJpc1wiLFxuICAgICAgICBpdGVtaWQ6IFwiaXRlbUlEXCIsXG4gICAgICAgIGl0ZW1wcm9wOiBcIml0ZW1Qcm9wXCIsXG4gICAgICAgIGl0ZW1yZWY6IFwiaXRlbVJlZlwiLFxuICAgICAgICBpdGVtc2NvcGU6IFwiaXRlbVNjb3BlXCIsXG4gICAgICAgIGl0ZW10eXBlOiBcIml0ZW1UeXBlXCIsXG4gICAgICAgIGtleXBhcmFtczogXCJrZXlQYXJhbXNcIixcbiAgICAgICAga2V5dHlwZTogXCJrZXlUeXBlXCIsXG4gICAgICAgIGtpbmQ6IFwia2luZFwiLFxuICAgICAgICBsYWJlbDogXCJsYWJlbFwiLFxuICAgICAgICBsYW5nOiBcImxhbmdcIixcbiAgICAgICAgbGlzdDogXCJsaXN0XCIsXG4gICAgICAgIGxvb3A6IFwibG9vcFwiLFxuICAgICAgICBsb3c6IFwibG93XCIsXG4gICAgICAgIG1hbmlmZXN0OiBcIm1hbmlmZXN0XCIsXG4gICAgICAgIG1hcmdpbndpZHRoOiBcIm1hcmdpbldpZHRoXCIsXG4gICAgICAgIG1hcmdpbmhlaWdodDogXCJtYXJnaW5IZWlnaHRcIixcbiAgICAgICAgbWF4OiBcIm1heFwiLFxuICAgICAgICBtYXhsZW5ndGg6IFwibWF4TGVuZ3RoXCIsXG4gICAgICAgIG1lZGlhOiBcIm1lZGlhXCIsXG4gICAgICAgIG1lZGlhZ3JvdXA6IFwibWVkaWFHcm91cFwiLFxuICAgICAgICBtZXRob2Q6IFwibWV0aG9kXCIsXG4gICAgICAgIG1pbjogXCJtaW5cIixcbiAgICAgICAgbWlubGVuZ3RoOiBcIm1pbkxlbmd0aFwiLFxuICAgICAgICBtdWx0aXBsZTogXCJtdWx0aXBsZVwiLFxuICAgICAgICBtdXRlZDogXCJtdXRlZFwiLFxuICAgICAgICBuYW1lOiBcIm5hbWVcIixcbiAgICAgICAgbm9tb2R1bGU6IFwibm9Nb2R1bGVcIixcbiAgICAgICAgbm9uY2U6IFwibm9uY2VcIixcbiAgICAgICAgbm92YWxpZGF0ZTogXCJub1ZhbGlkYXRlXCIsXG4gICAgICAgIG9wZW46IFwib3BlblwiLFxuICAgICAgICBvcHRpbXVtOiBcIm9wdGltdW1cIixcbiAgICAgICAgcGF0dGVybjogXCJwYXR0ZXJuXCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcInBsYWNlaG9sZGVyXCIsXG4gICAgICAgIHBsYXlzaW5saW5lOiBcInBsYXlzSW5saW5lXCIsXG4gICAgICAgIHBvc3RlcjogXCJwb3N0ZXJcIixcbiAgICAgICAgcHJlbG9hZDogXCJwcmVsb2FkXCIsXG4gICAgICAgIHByb2ZpbGU6IFwicHJvZmlsZVwiLFxuICAgICAgICByYWRpb2dyb3VwOiBcInJhZGlvR3JvdXBcIixcbiAgICAgICAgcmVhZG9ubHk6IFwicmVhZE9ubHlcIixcbiAgICAgICAgcmVmZXJyZXJwb2xpY3k6IFwicmVmZXJyZXJQb2xpY3lcIixcbiAgICAgICAgcmVsOiBcInJlbFwiLFxuICAgICAgICByZXF1aXJlZDogXCJyZXF1aXJlZFwiLFxuICAgICAgICByZXZlcnNlZDogXCJyZXZlcnNlZFwiLFxuICAgICAgICByb2xlOiBcInJvbGVcIixcbiAgICAgICAgcm93czogXCJyb3dzXCIsXG4gICAgICAgIHJvd3NwYW46IFwicm93U3BhblwiLFxuICAgICAgICBzYW5kYm94OiBcInNhbmRib3hcIixcbiAgICAgICAgc2NvcGU6IFwic2NvcGVcIixcbiAgICAgICAgc2NvcGVkOiBcInNjb3BlZFwiLFxuICAgICAgICBzY3JvbGxpbmc6IFwic2Nyb2xsaW5nXCIsXG4gICAgICAgIHNlYW1sZXNzOiBcInNlYW1sZXNzXCIsXG4gICAgICAgIHNlbGVjdGVkOiBcInNlbGVjdGVkXCIsXG4gICAgICAgIHNoYXBlOiBcInNoYXBlXCIsXG4gICAgICAgIHNpemU6IFwic2l6ZVwiLFxuICAgICAgICBzaXplczogXCJzaXplc1wiLFxuICAgICAgICBzcGFuOiBcInNwYW5cIixcbiAgICAgICAgc3BlbGxjaGVjazogXCJzcGVsbENoZWNrXCIsXG4gICAgICAgIHNyYzogXCJzcmNcIixcbiAgICAgICAgc3JjZG9jOiBcInNyY0RvY1wiLFxuICAgICAgICBzcmNsYW5nOiBcInNyY0xhbmdcIixcbiAgICAgICAgc3Jjc2V0OiBcInNyY1NldFwiLFxuICAgICAgICBzdGFydDogXCJzdGFydFwiLFxuICAgICAgICBzdGVwOiBcInN0ZXBcIixcbiAgICAgICAgc3R5bGU6IFwic3R5bGVcIixcbiAgICAgICAgc3VtbWFyeTogXCJzdW1tYXJ5XCIsXG4gICAgICAgIHRhYmluZGV4OiBcInRhYkluZGV4XCIsXG4gICAgICAgIHRhcmdldDogXCJ0YXJnZXRcIixcbiAgICAgICAgdGl0bGU6IFwidGl0bGVcIixcbiAgICAgICAgdHlwZTogXCJ0eXBlXCIsXG4gICAgICAgIHVzZW1hcDogXCJ1c2VNYXBcIixcbiAgICAgICAgdmFsdWU6IFwidmFsdWVcIixcbiAgICAgICAgd2lkdGg6IFwid2lkdGhcIixcbiAgICAgICAgd21vZGU6IFwid21vZGVcIixcbiAgICAgICAgd3JhcDogXCJ3cmFwXCIsXG4gICAgICAgIGFib3V0OiBcImFib3V0XCIsXG4gICAgICAgIGFjY2VudGhlaWdodDogXCJhY2NlbnRIZWlnaHRcIixcbiAgICAgICAgXCJhY2NlbnQtaGVpZ2h0XCI6IFwiYWNjZW50SGVpZ2h0XCIsXG4gICAgICAgIGFjY3VtdWxhdGU6IFwiYWNjdW11bGF0ZVwiLFxuICAgICAgICBhZGRpdGl2ZTogXCJhZGRpdGl2ZVwiLFxuICAgICAgICBhbGlnbm1lbnRiYXNlbGluZTogXCJhbGlnbm1lbnRCYXNlbGluZVwiLFxuICAgICAgICBcImFsaWdubWVudC1iYXNlbGluZVwiOiBcImFsaWdubWVudEJhc2VsaW5lXCIsXG4gICAgICAgIGFsbG93cmVvcmRlcjogXCJhbGxvd1Jlb3JkZXJcIixcbiAgICAgICAgYWxwaGFiZXRpYzogXCJhbHBoYWJldGljXCIsXG4gICAgICAgIGFtcGxpdHVkZTogXCJhbXBsaXR1ZGVcIixcbiAgICAgICAgYXJhYmljZm9ybTogXCJhcmFiaWNGb3JtXCIsXG4gICAgICAgIFwiYXJhYmljLWZvcm1cIjogXCJhcmFiaWNGb3JtXCIsXG4gICAgICAgIGFzY2VudDogXCJhc2NlbnRcIixcbiAgICAgICAgYXR0cmlidXRlbmFtZTogXCJhdHRyaWJ1dGVOYW1lXCIsXG4gICAgICAgIGF0dHJpYnV0ZXR5cGU6IFwiYXR0cmlidXRlVHlwZVwiLFxuICAgICAgICBhdXRvcmV2ZXJzZTogXCJhdXRvUmV2ZXJzZVwiLFxuICAgICAgICBhemltdXRoOiBcImF6aW11dGhcIixcbiAgICAgICAgYmFzZWZyZXF1ZW5jeTogXCJiYXNlRnJlcXVlbmN5XCIsXG4gICAgICAgIGJhc2VsaW5lc2hpZnQ6IFwiYmFzZWxpbmVTaGlmdFwiLFxuICAgICAgICBcImJhc2VsaW5lLXNoaWZ0XCI6IFwiYmFzZWxpbmVTaGlmdFwiLFxuICAgICAgICBiYXNlcHJvZmlsZTogXCJiYXNlUHJvZmlsZVwiLFxuICAgICAgICBiYm94OiBcImJib3hcIixcbiAgICAgICAgYmVnaW46IFwiYmVnaW5cIixcbiAgICAgICAgYmlhczogXCJiaWFzXCIsXG4gICAgICAgIGJ5OiBcImJ5XCIsXG4gICAgICAgIGNhbGNtb2RlOiBcImNhbGNNb2RlXCIsXG4gICAgICAgIGNhcGhlaWdodDogXCJjYXBIZWlnaHRcIixcbiAgICAgICAgXCJjYXAtaGVpZ2h0XCI6IFwiY2FwSGVpZ2h0XCIsXG4gICAgICAgIGNsaXA6IFwiY2xpcFwiLFxuICAgICAgICBjbGlwcGF0aDogXCJjbGlwUGF0aFwiLFxuICAgICAgICBcImNsaXAtcGF0aFwiOiBcImNsaXBQYXRoXCIsXG4gICAgICAgIGNsaXBwYXRodW5pdHM6IFwiY2xpcFBhdGhVbml0c1wiLFxuICAgICAgICBjbGlwcnVsZTogXCJjbGlwUnVsZVwiLFxuICAgICAgICBcImNsaXAtcnVsZVwiOiBcImNsaXBSdWxlXCIsXG4gICAgICAgIGNvbG9yOiBcImNvbG9yXCIsXG4gICAgICAgIGNvbG9yaW50ZXJwb2xhdGlvbjogXCJjb2xvckludGVycG9sYXRpb25cIixcbiAgICAgICAgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCI6IFwiY29sb3JJbnRlcnBvbGF0aW9uXCIsXG4gICAgICAgIGNvbG9yaW50ZXJwb2xhdGlvbmZpbHRlcnM6IFwiY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc1wiLFxuICAgICAgICBcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiOiBcImNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnNcIixcbiAgICAgICAgY29sb3Jwcm9maWxlOiBcImNvbG9yUHJvZmlsZVwiLFxuICAgICAgICBcImNvbG9yLXByb2ZpbGVcIjogXCJjb2xvclByb2ZpbGVcIixcbiAgICAgICAgY29sb3JyZW5kZXJpbmc6IFwiY29sb3JSZW5kZXJpbmdcIixcbiAgICAgICAgXCJjb2xvci1yZW5kZXJpbmdcIjogXCJjb2xvclJlbmRlcmluZ1wiLFxuICAgICAgICBjb250ZW50c2NyaXB0dHlwZTogXCJjb250ZW50U2NyaXB0VHlwZVwiLFxuICAgICAgICBjb250ZW50c3R5bGV0eXBlOiBcImNvbnRlbnRTdHlsZVR5cGVcIixcbiAgICAgICAgY3Vyc29yOiBcImN1cnNvclwiLFxuICAgICAgICBjeDogXCJjeFwiLFxuICAgICAgICBjeTogXCJjeVwiLFxuICAgICAgICBkOiBcImRcIixcbiAgICAgICAgZGF0YXR5cGU6IFwiZGF0YXR5cGVcIixcbiAgICAgICAgZGVjZWxlcmF0ZTogXCJkZWNlbGVyYXRlXCIsXG4gICAgICAgIGRlc2NlbnQ6IFwiZGVzY2VudFwiLFxuICAgICAgICBkaWZmdXNlY29uc3RhbnQ6IFwiZGlmZnVzZUNvbnN0YW50XCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJkaXJlY3Rpb25cIixcbiAgICAgICAgZGlzcGxheTogXCJkaXNwbGF5XCIsXG4gICAgICAgIGRpdmlzb3I6IFwiZGl2aXNvclwiLFxuICAgICAgICBkb21pbmFudGJhc2VsaW5lOiBcImRvbWluYW50QmFzZWxpbmVcIixcbiAgICAgICAgXCJkb21pbmFudC1iYXNlbGluZVwiOiBcImRvbWluYW50QmFzZWxpbmVcIixcbiAgICAgICAgZHVyOiBcImR1clwiLFxuICAgICAgICBkeDogXCJkeFwiLFxuICAgICAgICBkeTogXCJkeVwiLFxuICAgICAgICBlZGdlbW9kZTogXCJlZGdlTW9kZVwiLFxuICAgICAgICBlbGV2YXRpb246IFwiZWxldmF0aW9uXCIsXG4gICAgICAgIGVuYWJsZWJhY2tncm91bmQ6IFwiZW5hYmxlQmFja2dyb3VuZFwiLFxuICAgICAgICBcImVuYWJsZS1iYWNrZ3JvdW5kXCI6IFwiZW5hYmxlQmFja2dyb3VuZFwiLFxuICAgICAgICBlbmQ6IFwiZW5kXCIsXG4gICAgICAgIGV4cG9uZW50OiBcImV4cG9uZW50XCIsXG4gICAgICAgIGV4dGVybmFscmVzb3VyY2VzcmVxdWlyZWQ6IFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiLFxuICAgICAgICBmaWxsOiBcImZpbGxcIixcbiAgICAgICAgZmlsbG9wYWNpdHk6IFwiZmlsbE9wYWNpdHlcIixcbiAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogXCJmaWxsT3BhY2l0eVwiLFxuICAgICAgICBmaWxscnVsZTogXCJmaWxsUnVsZVwiLFxuICAgICAgICBcImZpbGwtcnVsZVwiOiBcImZpbGxSdWxlXCIsXG4gICAgICAgIGZpbHRlcjogXCJmaWx0ZXJcIixcbiAgICAgICAgZmlsdGVycmVzOiBcImZpbHRlclJlc1wiLFxuICAgICAgICBmaWx0ZXJ1bml0czogXCJmaWx0ZXJVbml0c1wiLFxuICAgICAgICBmbG9vZG9wYWNpdHk6IFwiZmxvb2RPcGFjaXR5XCIsXG4gICAgICAgIFwiZmxvb2Qtb3BhY2l0eVwiOiBcImZsb29kT3BhY2l0eVwiLFxuICAgICAgICBmbG9vZGNvbG9yOiBcImZsb29kQ29sb3JcIixcbiAgICAgICAgXCJmbG9vZC1jb2xvclwiOiBcImZsb29kQ29sb3JcIixcbiAgICAgICAgZm9jdXNhYmxlOiBcImZvY3VzYWJsZVwiLFxuICAgICAgICBmb250ZmFtaWx5OiBcImZvbnRGYW1pbHlcIixcbiAgICAgICAgXCJmb250LWZhbWlseVwiOiBcImZvbnRGYW1pbHlcIixcbiAgICAgICAgZm9udHNpemU6IFwiZm9udFNpemVcIixcbiAgICAgICAgXCJmb250LXNpemVcIjogXCJmb250U2l6ZVwiLFxuICAgICAgICBmb250c2l6ZWFkanVzdDogXCJmb250U2l6ZUFkanVzdFwiLFxuICAgICAgICBcImZvbnQtc2l6ZS1hZGp1c3RcIjogXCJmb250U2l6ZUFkanVzdFwiLFxuICAgICAgICBmb250c3RyZXRjaDogXCJmb250U3RyZXRjaFwiLFxuICAgICAgICBcImZvbnQtc3RyZXRjaFwiOiBcImZvbnRTdHJldGNoXCIsXG4gICAgICAgIGZvbnRzdHlsZTogXCJmb250U3R5bGVcIixcbiAgICAgICAgXCJmb250LXN0eWxlXCI6IFwiZm9udFN0eWxlXCIsXG4gICAgICAgIGZvbnR2YXJpYW50OiBcImZvbnRWYXJpYW50XCIsXG4gICAgICAgIFwiZm9udC12YXJpYW50XCI6IFwiZm9udFZhcmlhbnRcIixcbiAgICAgICAgZm9udHdlaWdodDogXCJmb250V2VpZ2h0XCIsXG4gICAgICAgIFwiZm9udC13ZWlnaHRcIjogXCJmb250V2VpZ2h0XCIsXG4gICAgICAgIGZvcm1hdDogXCJmb3JtYXRcIixcbiAgICAgICAgZnJvbTogXCJmcm9tXCIsXG4gICAgICAgIGZ4OiBcImZ4XCIsXG4gICAgICAgIGZ5OiBcImZ5XCIsXG4gICAgICAgIGcxOiBcImcxXCIsXG4gICAgICAgIGcyOiBcImcyXCIsXG4gICAgICAgIGdseXBobmFtZTogXCJnbHlwaE5hbWVcIixcbiAgICAgICAgXCJnbHlwaC1uYW1lXCI6IFwiZ2x5cGhOYW1lXCIsXG4gICAgICAgIGdseXBob3JpZW50YXRpb25ob3Jpem9udGFsOiBcImdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsXCIsXG4gICAgICAgIFwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbFwiOiBcImdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsXCIsXG4gICAgICAgIGdseXBob3JpZW50YXRpb252ZXJ0aWNhbDogXCJnbHlwaE9yaWVudGF0aW9uVmVydGljYWxcIixcbiAgICAgICAgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiOiBcImdseXBoT3JpZW50YXRpb25WZXJ0aWNhbFwiLFxuICAgICAgICBnbHlwaHJlZjogXCJnbHlwaFJlZlwiLFxuICAgICAgICBncmFkaWVudHRyYW5zZm9ybTogXCJncmFkaWVudFRyYW5zZm9ybVwiLFxuICAgICAgICBncmFkaWVudHVuaXRzOiBcImdyYWRpZW50VW5pdHNcIixcbiAgICAgICAgaGFuZ2luZzogXCJoYW5naW5nXCIsXG4gICAgICAgIGhvcml6YWR2eDogXCJob3JpekFkdlhcIixcbiAgICAgICAgXCJob3Jpei1hZHYteFwiOiBcImhvcml6QWR2WFwiLFxuICAgICAgICBob3Jpem9yaWdpbng6IFwiaG9yaXpPcmlnaW5YXCIsXG4gICAgICAgIFwiaG9yaXotb3JpZ2luLXhcIjogXCJob3Jpek9yaWdpblhcIixcbiAgICAgICAgaWRlb2dyYXBoaWM6IFwiaWRlb2dyYXBoaWNcIixcbiAgICAgICAgaW1hZ2VyZW5kZXJpbmc6IFwiaW1hZ2VSZW5kZXJpbmdcIixcbiAgICAgICAgXCJpbWFnZS1yZW5kZXJpbmdcIjogXCJpbWFnZVJlbmRlcmluZ1wiLFxuICAgICAgICBpbjI6IFwiaW4yXCIsXG4gICAgICAgIGluOiBcImluXCIsXG4gICAgICAgIGlubGlzdDogXCJpbmxpc3RcIixcbiAgICAgICAgaW50ZXJjZXB0OiBcImludGVyY2VwdFwiLFxuICAgICAgICBrMTogXCJrMVwiLFxuICAgICAgICBrMjogXCJrMlwiLFxuICAgICAgICBrMzogXCJrM1wiLFxuICAgICAgICBrNDogXCJrNFwiLFxuICAgICAgICBrOiBcImtcIixcbiAgICAgICAga2VybmVsbWF0cml4OiBcImtlcm5lbE1hdHJpeFwiLFxuICAgICAgICBrZXJuZWx1bml0bGVuZ3RoOiBcImtlcm5lbFVuaXRMZW5ndGhcIixcbiAgICAgICAga2VybmluZzogXCJrZXJuaW5nXCIsXG4gICAgICAgIGtleXBvaW50czogXCJrZXlQb2ludHNcIixcbiAgICAgICAga2V5c3BsaW5lczogXCJrZXlTcGxpbmVzXCIsXG4gICAgICAgIGtleXRpbWVzOiBcImtleVRpbWVzXCIsXG4gICAgICAgIGxlbmd0aGFkanVzdDogXCJsZW5ndGhBZGp1c3RcIixcbiAgICAgICAgbGV0dGVyc3BhY2luZzogXCJsZXR0ZXJTcGFjaW5nXCIsXG4gICAgICAgIFwibGV0dGVyLXNwYWNpbmdcIjogXCJsZXR0ZXJTcGFjaW5nXCIsXG4gICAgICAgIGxpZ2h0aW5nY29sb3I6IFwibGlnaHRpbmdDb2xvclwiLFxuICAgICAgICBcImxpZ2h0aW5nLWNvbG9yXCI6IFwibGlnaHRpbmdDb2xvclwiLFxuICAgICAgICBsaW1pdGluZ2NvbmVhbmdsZTogXCJsaW1pdGluZ0NvbmVBbmdsZVwiLFxuICAgICAgICBsb2NhbDogXCJsb2NhbFwiLFxuICAgICAgICBtYXJrZXJlbmQ6IFwibWFya2VyRW5kXCIsXG4gICAgICAgIFwibWFya2VyLWVuZFwiOiBcIm1hcmtlckVuZFwiLFxuICAgICAgICBtYXJrZXJoZWlnaHQ6IFwibWFya2VySGVpZ2h0XCIsXG4gICAgICAgIG1hcmtlcm1pZDogXCJtYXJrZXJNaWRcIixcbiAgICAgICAgXCJtYXJrZXItbWlkXCI6IFwibWFya2VyTWlkXCIsXG4gICAgICAgIG1hcmtlcnN0YXJ0OiBcIm1hcmtlclN0YXJ0XCIsXG4gICAgICAgIFwibWFya2VyLXN0YXJ0XCI6IFwibWFya2VyU3RhcnRcIixcbiAgICAgICAgbWFya2VydW5pdHM6IFwibWFya2VyVW5pdHNcIixcbiAgICAgICAgbWFya2Vyd2lkdGg6IFwibWFya2VyV2lkdGhcIixcbiAgICAgICAgbWFzazogXCJtYXNrXCIsXG4gICAgICAgIG1hc2tjb250ZW50dW5pdHM6IFwibWFza0NvbnRlbnRVbml0c1wiLFxuICAgICAgICBtYXNrdW5pdHM6IFwibWFza1VuaXRzXCIsXG4gICAgICAgIG1hdGhlbWF0aWNhbDogXCJtYXRoZW1hdGljYWxcIixcbiAgICAgICAgbW9kZTogXCJtb2RlXCIsXG4gICAgICAgIG51bW9jdGF2ZXM6IFwibnVtT2N0YXZlc1wiLFxuICAgICAgICBvZmZzZXQ6IFwib2Zmc2V0XCIsXG4gICAgICAgIG9wYWNpdHk6IFwib3BhY2l0eVwiLFxuICAgICAgICBvcGVyYXRvcjogXCJvcGVyYXRvclwiLFxuICAgICAgICBvcmRlcjogXCJvcmRlclwiLFxuICAgICAgICBvcmllbnQ6IFwib3JpZW50XCIsXG4gICAgICAgIG9yaWVudGF0aW9uOiBcIm9yaWVudGF0aW9uXCIsXG4gICAgICAgIG9yaWdpbjogXCJvcmlnaW5cIixcbiAgICAgICAgb3ZlcmZsb3c6IFwib3ZlcmZsb3dcIixcbiAgICAgICAgb3ZlcmxpbmVwb3NpdGlvbjogXCJvdmVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIFwib3ZlcmxpbmUtcG9zaXRpb25cIjogXCJvdmVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIG92ZXJsaW5ldGhpY2tuZXNzOiBcIm92ZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIFwib3ZlcmxpbmUtdGhpY2tuZXNzXCI6IFwib3ZlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgcGFpbnRvcmRlcjogXCJwYWludE9yZGVyXCIsXG4gICAgICAgIFwicGFpbnQtb3JkZXJcIjogXCJwYWludE9yZGVyXCIsXG4gICAgICAgIHBhbm9zZTE6IFwicGFub3NlMVwiLFxuICAgICAgICBcInBhbm9zZS0xXCI6IFwicGFub3NlMVwiLFxuICAgICAgICBwYXRobGVuZ3RoOiBcInBhdGhMZW5ndGhcIixcbiAgICAgICAgcGF0dGVybmNvbnRlbnR1bml0czogXCJwYXR0ZXJuQ29udGVudFVuaXRzXCIsXG4gICAgICAgIHBhdHRlcm50cmFuc2Zvcm06IFwicGF0dGVyblRyYW5zZm9ybVwiLFxuICAgICAgICBwYXR0ZXJudW5pdHM6IFwicGF0dGVyblVuaXRzXCIsXG4gICAgICAgIHBvaW50ZXJldmVudHM6IFwicG9pbnRlckV2ZW50c1wiLFxuICAgICAgICBcInBvaW50ZXItZXZlbnRzXCI6IFwicG9pbnRlckV2ZW50c1wiLFxuICAgICAgICBwb2ludHM6IFwicG9pbnRzXCIsXG4gICAgICAgIHBvaW50c2F0eDogXCJwb2ludHNBdFhcIixcbiAgICAgICAgcG9pbnRzYXR5OiBcInBvaW50c0F0WVwiLFxuICAgICAgICBwb2ludHNhdHo6IFwicG9pbnRzQXRaXCIsXG4gICAgICAgIHBvcG92ZXI6IFwicG9wb3ZlclwiLFxuICAgICAgICBwb3BvdmVydGFyZ2V0OiBcInBvcG92ZXJUYXJnZXRcIixcbiAgICAgICAgcG9wb3ZlcnRhcmdldGFjdGlvbjogXCJwb3BvdmVyVGFyZ2V0QWN0aW9uXCIsXG4gICAgICAgIHByZWZpeDogXCJwcmVmaXhcIixcbiAgICAgICAgcHJlc2VydmVhbHBoYTogXCJwcmVzZXJ2ZUFscGhhXCIsXG4gICAgICAgIHByZXNlcnZlYXNwZWN0cmF0aW86IFwicHJlc2VydmVBc3BlY3RSYXRpb1wiLFxuICAgICAgICBwcmltaXRpdmV1bml0czogXCJwcmltaXRpdmVVbml0c1wiLFxuICAgICAgICBwcm9wZXJ0eTogXCJwcm9wZXJ0eVwiLFxuICAgICAgICByOiBcInJcIixcbiAgICAgICAgcmFkaXVzOiBcInJhZGl1c1wiLFxuICAgICAgICByZWZ4OiBcInJlZlhcIixcbiAgICAgICAgcmVmeTogXCJyZWZZXCIsXG4gICAgICAgIHJlbmRlcmluZ2ludGVudDogXCJyZW5kZXJpbmdJbnRlbnRcIixcbiAgICAgICAgXCJyZW5kZXJpbmctaW50ZW50XCI6IFwicmVuZGVyaW5nSW50ZW50XCIsXG4gICAgICAgIHJlcGVhdGNvdW50OiBcInJlcGVhdENvdW50XCIsXG4gICAgICAgIHJlcGVhdGR1cjogXCJyZXBlYXREdXJcIixcbiAgICAgICAgcmVxdWlyZWRleHRlbnNpb25zOiBcInJlcXVpcmVkRXh0ZW5zaW9uc1wiLFxuICAgICAgICByZXF1aXJlZGZlYXR1cmVzOiBcInJlcXVpcmVkRmVhdHVyZXNcIixcbiAgICAgICAgcmVzb3VyY2U6IFwicmVzb3VyY2VcIixcbiAgICAgICAgcmVzdGFydDogXCJyZXN0YXJ0XCIsXG4gICAgICAgIHJlc3VsdDogXCJyZXN1bHRcIixcbiAgICAgICAgcmVzdWx0czogXCJyZXN1bHRzXCIsXG4gICAgICAgIHJvdGF0ZTogXCJyb3RhdGVcIixcbiAgICAgICAgcng6IFwicnhcIixcbiAgICAgICAgcnk6IFwicnlcIixcbiAgICAgICAgc2NhbGU6IFwic2NhbGVcIixcbiAgICAgICAgc2VjdXJpdHk6IFwic2VjdXJpdHlcIixcbiAgICAgICAgc2VlZDogXCJzZWVkXCIsXG4gICAgICAgIHNoYXBlcmVuZGVyaW5nOiBcInNoYXBlUmVuZGVyaW5nXCIsXG4gICAgICAgIFwic2hhcGUtcmVuZGVyaW5nXCI6IFwic2hhcGVSZW5kZXJpbmdcIixcbiAgICAgICAgc2xvcGU6IFwic2xvcGVcIixcbiAgICAgICAgc3BhY2luZzogXCJzcGFjaW5nXCIsXG4gICAgICAgIHNwZWN1bGFyY29uc3RhbnQ6IFwic3BlY3VsYXJDb25zdGFudFwiLFxuICAgICAgICBzcGVjdWxhcmV4cG9uZW50OiBcInNwZWN1bGFyRXhwb25lbnRcIixcbiAgICAgICAgc3BlZWQ6IFwic3BlZWRcIixcbiAgICAgICAgc3ByZWFkbWV0aG9kOiBcInNwcmVhZE1ldGhvZFwiLFxuICAgICAgICBzdGFydG9mZnNldDogXCJzdGFydE9mZnNldFwiLFxuICAgICAgICBzdGRkZXZpYXRpb246IFwic3RkRGV2aWF0aW9uXCIsXG4gICAgICAgIHN0ZW1oOiBcInN0ZW1oXCIsXG4gICAgICAgIHN0ZW12OiBcInN0ZW12XCIsXG4gICAgICAgIHN0aXRjaHRpbGVzOiBcInN0aXRjaFRpbGVzXCIsXG4gICAgICAgIHN0b3Bjb2xvcjogXCJzdG9wQ29sb3JcIixcbiAgICAgICAgXCJzdG9wLWNvbG9yXCI6IFwic3RvcENvbG9yXCIsXG4gICAgICAgIHN0b3BvcGFjaXR5OiBcInN0b3BPcGFjaXR5XCIsXG4gICAgICAgIFwic3RvcC1vcGFjaXR5XCI6IFwic3RvcE9wYWNpdHlcIixcbiAgICAgICAgc3RyaWtldGhyb3VnaHBvc2l0aW9uOiBcInN0cmlrZXRocm91Z2hQb3NpdGlvblwiLFxuICAgICAgICBcInN0cmlrZXRocm91Z2gtcG9zaXRpb25cIjogXCJzdHJpa2V0aHJvdWdoUG9zaXRpb25cIixcbiAgICAgICAgc3RyaWtldGhyb3VnaHRoaWNrbmVzczogXCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaC10aGlja25lc3NcIjogXCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzXCIsXG4gICAgICAgIHN0cmluZzogXCJzdHJpbmdcIixcbiAgICAgICAgc3Ryb2tlOiBcInN0cm9rZVwiLFxuICAgICAgICBzdHJva2VkYXNoYXJyYXk6IFwic3Ryb2tlRGFzaGFycmF5XCIsXG4gICAgICAgIFwic3Ryb2tlLWRhc2hhcnJheVwiOiBcInN0cm9rZURhc2hhcnJheVwiLFxuICAgICAgICBzdHJva2VkYXNob2Zmc2V0OiBcInN0cm9rZURhc2hvZmZzZXRcIixcbiAgICAgICAgXCJzdHJva2UtZGFzaG9mZnNldFwiOiBcInN0cm9rZURhc2hvZmZzZXRcIixcbiAgICAgICAgc3Ryb2tlbGluZWNhcDogXCJzdHJva2VMaW5lY2FwXCIsXG4gICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJzdHJva2VMaW5lY2FwXCIsXG4gICAgICAgIHN0cm9rZWxpbmVqb2luOiBcInN0cm9rZUxpbmVqb2luXCIsXG4gICAgICAgIFwic3Ryb2tlLWxpbmVqb2luXCI6IFwic3Ryb2tlTGluZWpvaW5cIixcbiAgICAgICAgc3Ryb2tlbWl0ZXJsaW1pdDogXCJzdHJva2VNaXRlcmxpbWl0XCIsXG4gICAgICAgIFwic3Ryb2tlLW1pdGVybGltaXRcIjogXCJzdHJva2VNaXRlcmxpbWl0XCIsXG4gICAgICAgIHN0cm9rZXdpZHRoOiBcInN0cm9rZVdpZHRoXCIsXG4gICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6IFwic3Ryb2tlV2lkdGhcIixcbiAgICAgICAgc3Ryb2tlb3BhY2l0eTogXCJzdHJva2VPcGFjaXR5XCIsXG4gICAgICAgIFwic3Ryb2tlLW9wYWNpdHlcIjogXCJzdHJva2VPcGFjaXR5XCIsXG4gICAgICAgIHN1cHByZXNzY29udGVudGVkaXRhYmxld2FybmluZzogXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIixcbiAgICAgICAgc3VwcHJlc3NoeWRyYXRpb253YXJuaW5nOiBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiLFxuICAgICAgICBzdXJmYWNlc2NhbGU6IFwic3VyZmFjZVNjYWxlXCIsXG4gICAgICAgIHN5c3RlbWxhbmd1YWdlOiBcInN5c3RlbUxhbmd1YWdlXCIsXG4gICAgICAgIHRhYmxldmFsdWVzOiBcInRhYmxlVmFsdWVzXCIsXG4gICAgICAgIHRhcmdldHg6IFwidGFyZ2V0WFwiLFxuICAgICAgICB0YXJnZXR5OiBcInRhcmdldFlcIixcbiAgICAgICAgdGV4dGFuY2hvcjogXCJ0ZXh0QW5jaG9yXCIsXG4gICAgICAgIFwidGV4dC1hbmNob3JcIjogXCJ0ZXh0QW5jaG9yXCIsXG4gICAgICAgIHRleHRkZWNvcmF0aW9uOiBcInRleHREZWNvcmF0aW9uXCIsXG4gICAgICAgIFwidGV4dC1kZWNvcmF0aW9uXCI6IFwidGV4dERlY29yYXRpb25cIixcbiAgICAgICAgdGV4dGxlbmd0aDogXCJ0ZXh0TGVuZ3RoXCIsXG4gICAgICAgIHRleHRyZW5kZXJpbmc6IFwidGV4dFJlbmRlcmluZ1wiLFxuICAgICAgICBcInRleHQtcmVuZGVyaW5nXCI6IFwidGV4dFJlbmRlcmluZ1wiLFxuICAgICAgICB0bzogXCJ0b1wiLFxuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNmb3JtXCIsXG4gICAgICAgIHRyYW5zZm9ybW9yaWdpbjogXCJ0cmFuc2Zvcm1PcmlnaW5cIixcbiAgICAgICAgXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6IFwidHJhbnNmb3JtT3JpZ2luXCIsXG4gICAgICAgIHR5cGVvZjogXCJ0eXBlb2ZcIixcbiAgICAgICAgdTE6IFwidTFcIixcbiAgICAgICAgdTI6IFwidTJcIixcbiAgICAgICAgdW5kZXJsaW5lcG9zaXRpb246IFwidW5kZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgXCJ1bmRlcmxpbmUtcG9zaXRpb25cIjogXCJ1bmRlcmxpbmVQb3NpdGlvblwiLFxuICAgICAgICB1bmRlcmxpbmV0aGlja25lc3M6IFwidW5kZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIFwidW5kZXJsaW5lLXRoaWNrbmVzc1wiOiBcInVuZGVybGluZVRoaWNrbmVzc1wiLFxuICAgICAgICB1bmljb2RlOiBcInVuaWNvZGVcIixcbiAgICAgICAgdW5pY29kZWJpZGk6IFwidW5pY29kZUJpZGlcIixcbiAgICAgICAgXCJ1bmljb2RlLWJpZGlcIjogXCJ1bmljb2RlQmlkaVwiLFxuICAgICAgICB1bmljb2RlcmFuZ2U6IFwidW5pY29kZVJhbmdlXCIsXG4gICAgICAgIFwidW5pY29kZS1yYW5nZVwiOiBcInVuaWNvZGVSYW5nZVwiLFxuICAgICAgICB1bml0c3BlcmVtOiBcInVuaXRzUGVyRW1cIixcbiAgICAgICAgXCJ1bml0cy1wZXItZW1cIjogXCJ1bml0c1BlckVtXCIsXG4gICAgICAgIHVuc2VsZWN0YWJsZTogXCJ1bnNlbGVjdGFibGVcIixcbiAgICAgICAgdmFscGhhYmV0aWM6IFwidkFscGhhYmV0aWNcIixcbiAgICAgICAgXCJ2LWFscGhhYmV0aWNcIjogXCJ2QWxwaGFiZXRpY1wiLFxuICAgICAgICB2YWx1ZXM6IFwidmFsdWVzXCIsXG4gICAgICAgIHZlY3RvcmVmZmVjdDogXCJ2ZWN0b3JFZmZlY3RcIixcbiAgICAgICAgXCJ2ZWN0b3ItZWZmZWN0XCI6IFwidmVjdG9yRWZmZWN0XCIsXG4gICAgICAgIHZlcnNpb246IFwidmVyc2lvblwiLFxuICAgICAgICB2ZXJ0YWR2eTogXCJ2ZXJ0QWR2WVwiLFxuICAgICAgICBcInZlcnQtYWR2LXlcIjogXCJ2ZXJ0QWR2WVwiLFxuICAgICAgICB2ZXJ0b3JpZ2lueDogXCJ2ZXJ0T3JpZ2luWFwiLFxuICAgICAgICBcInZlcnQtb3JpZ2luLXhcIjogXCJ2ZXJ0T3JpZ2luWFwiLFxuICAgICAgICB2ZXJ0b3JpZ2lueTogXCJ2ZXJ0T3JpZ2luWVwiLFxuICAgICAgICBcInZlcnQtb3JpZ2luLXlcIjogXCJ2ZXJ0T3JpZ2luWVwiLFxuICAgICAgICB2aGFuZ2luZzogXCJ2SGFuZ2luZ1wiLFxuICAgICAgICBcInYtaGFuZ2luZ1wiOiBcInZIYW5naW5nXCIsXG4gICAgICAgIHZpZGVvZ3JhcGhpYzogXCJ2SWRlb2dyYXBoaWNcIixcbiAgICAgICAgXCJ2LWlkZW9ncmFwaGljXCI6IFwidklkZW9ncmFwaGljXCIsXG4gICAgICAgIHZpZXdib3g6IFwidmlld0JveFwiLFxuICAgICAgICB2aWV3dGFyZ2V0OiBcInZpZXdUYXJnZXRcIixcbiAgICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmlsaXR5XCIsXG4gICAgICAgIHZtYXRoZW1hdGljYWw6IFwidk1hdGhlbWF0aWNhbFwiLFxuICAgICAgICBcInYtbWF0aGVtYXRpY2FsXCI6IFwidk1hdGhlbWF0aWNhbFwiLFxuICAgICAgICB2b2NhYjogXCJ2b2NhYlwiLFxuICAgICAgICB3aWR0aHM6IFwid2lkdGhzXCIsXG4gICAgICAgIHdvcmRzcGFjaW5nOiBcIndvcmRTcGFjaW5nXCIsXG4gICAgICAgIFwid29yZC1zcGFjaW5nXCI6IFwid29yZFNwYWNpbmdcIixcbiAgICAgICAgd3JpdGluZ21vZGU6IFwid3JpdGluZ01vZGVcIixcbiAgICAgICAgXCJ3cml0aW5nLW1vZGVcIjogXCJ3cml0aW5nTW9kZVwiLFxuICAgICAgICB4MTogXCJ4MVwiLFxuICAgICAgICB4MjogXCJ4MlwiLFxuICAgICAgICB4OiBcInhcIixcbiAgICAgICAgeGNoYW5uZWxzZWxlY3RvcjogXCJ4Q2hhbm5lbFNlbGVjdG9yXCIsXG4gICAgICAgIHhoZWlnaHQ6IFwieEhlaWdodFwiLFxuICAgICAgICBcIngtaGVpZ2h0XCI6IFwieEhlaWdodFwiLFxuICAgICAgICB4bGlua2FjdHVhdGU6IFwieGxpbmtBY3R1YXRlXCIsXG4gICAgICAgIFwieGxpbms6YWN0dWF0ZVwiOiBcInhsaW5rQWN0dWF0ZVwiLFxuICAgICAgICB4bGlua2FyY3JvbGU6IFwieGxpbmtBcmNyb2xlXCIsXG4gICAgICAgIFwieGxpbms6YXJjcm9sZVwiOiBcInhsaW5rQXJjcm9sZVwiLFxuICAgICAgICB4bGlua2hyZWY6IFwieGxpbmtIcmVmXCIsXG4gICAgICAgIFwieGxpbms6aHJlZlwiOiBcInhsaW5rSHJlZlwiLFxuICAgICAgICB4bGlua3JvbGU6IFwieGxpbmtSb2xlXCIsXG4gICAgICAgIFwieGxpbms6cm9sZVwiOiBcInhsaW5rUm9sZVwiLFxuICAgICAgICB4bGlua3Nob3c6IFwieGxpbmtTaG93XCIsXG4gICAgICAgIFwieGxpbms6c2hvd1wiOiBcInhsaW5rU2hvd1wiLFxuICAgICAgICB4bGlua3RpdGxlOiBcInhsaW5rVGl0bGVcIixcbiAgICAgICAgXCJ4bGluazp0aXRsZVwiOiBcInhsaW5rVGl0bGVcIixcbiAgICAgICAgeGxpbmt0eXBlOiBcInhsaW5rVHlwZVwiLFxuICAgICAgICBcInhsaW5rOnR5cGVcIjogXCJ4bGlua1R5cGVcIixcbiAgICAgICAgeG1sYmFzZTogXCJ4bWxCYXNlXCIsXG4gICAgICAgIFwieG1sOmJhc2VcIjogXCJ4bWxCYXNlXCIsXG4gICAgICAgIHhtbGxhbmc6IFwieG1sTGFuZ1wiLFxuICAgICAgICBcInhtbDpsYW5nXCI6IFwieG1sTGFuZ1wiLFxuICAgICAgICB4bWxuczogXCJ4bWxuc1wiLFxuICAgICAgICBcInhtbDpzcGFjZVwiOiBcInhtbFNwYWNlXCIsXG4gICAgICAgIHhtbG5zeGxpbms6IFwieG1sbnNYbGlua1wiLFxuICAgICAgICBcInhtbG5zOnhsaW5rXCI6IFwieG1sbnNYbGlua1wiLFxuICAgICAgICB4bWxzcGFjZTogXCJ4bWxTcGFjZVwiLFxuICAgICAgICB5MTogXCJ5MVwiLFxuICAgICAgICB5MjogXCJ5MlwiLFxuICAgICAgICB5OiBcInlcIixcbiAgICAgICAgeWNoYW5uZWxzZWxlY3RvcjogXCJ5Q2hhbm5lbFNlbGVjdG9yXCIsXG4gICAgICAgIHo6IFwielwiLFxuICAgICAgICB6b29tYW5kcGFuOiBcInpvb21BbmRQYW5cIlxuICAgICAgfSxcbiAgICAgIGFyaWFQcm9wZXJ0aWVzID0ge1xuICAgICAgICBcImFyaWEtY3VycmVudFwiOiAwLFxuICAgICAgICBcImFyaWEtZGVzY3JpcHRpb25cIjogMCxcbiAgICAgICAgXCJhcmlhLWRldGFpbHNcIjogMCxcbiAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogMCxcbiAgICAgICAgXCJhcmlhLWludmFsaWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWtleXNob3J0Y3V0c1wiOiAwLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvbGVkZXNjcmlwdGlvblwiOiAwLFxuICAgICAgICBcImFyaWEtYXV0b2NvbXBsZXRlXCI6IDAsXG4gICAgICAgIFwiYXJpYS1jaGVja2VkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiAwLFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogMCxcbiAgICAgICAgXCJhcmlhLWxldmVsXCI6IDAsXG4gICAgICAgIFwiYXJpYS1tb2RhbFwiOiAwLFxuICAgICAgICBcImFyaWEtbXVsdGlsaW5lXCI6IDAsXG4gICAgICAgIFwiYXJpYS1tdWx0aXNlbGVjdGFibGVcIjogMCxcbiAgICAgICAgXCJhcmlhLW9yaWVudGF0aW9uXCI6IDAsXG4gICAgICAgIFwiYXJpYS1wbGFjZWhvbGRlclwiOiAwLFxuICAgICAgICBcImFyaWEtcHJlc3NlZFwiOiAwLFxuICAgICAgICBcImFyaWEtcmVhZG9ubHlcIjogMCxcbiAgICAgICAgXCJhcmlhLXJlcXVpcmVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1zZWxlY3RlZFwiOiAwLFxuICAgICAgICBcImFyaWEtc29ydFwiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWVtYXhcIjogMCxcbiAgICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IDAsXG4gICAgICAgIFwiYXJpYS1hdG9taWNcIjogMCxcbiAgICAgICAgXCJhcmlhLWJ1c3lcIjogMCxcbiAgICAgICAgXCJhcmlhLWxpdmVcIjogMCxcbiAgICAgICAgXCJhcmlhLXJlbGV2YW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1kcm9wZWZmZWN0XCI6IDAsXG4gICAgICAgIFwiYXJpYS1ncmFiYmVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1hY3RpdmVkZXNjZW5kYW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1jb2xjb3VudFwiOiAwLFxuICAgICAgICBcImFyaWEtY29saW5kZXhcIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbHNwYW5cIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IDAsXG4gICAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiAwLFxuICAgICAgICBcImFyaWEtZXJyb3JtZXNzYWdlXCI6IDAsXG4gICAgICAgIFwiYXJpYS1mbG93dG9cIjogMCxcbiAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogMCxcbiAgICAgICAgXCJhcmlhLW93bnNcIjogMCxcbiAgICAgICAgXCJhcmlhLXBvc2luc2V0XCI6IDAsXG4gICAgICAgIFwiYXJpYS1yb3djb3VudFwiOiAwLFxuICAgICAgICBcImFyaWEtcm93aW5kZXhcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvd3NwYW5cIjogMCxcbiAgICAgICAgXCJhcmlhLXNldHNpemVcIjogMFxuICAgICAgfSxcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMkMSA9IHt9LFxuICAgICAgckFSSUEkMSA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpLVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIHJBUklBQ2FtZWwkMSA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpW0EtWl1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICBkaWRXYXJuVmFsdWVOdWxsID0gITEsXG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzID0ge30sXG4gICAgICBFVkVOVF9OQU1FX1JFR0VYID0gL15vbi4vLFxuICAgICAgSU5WQUxJRF9FVkVOVF9OQU1FX1JFR0VYID0gL15vblteQS1aXS8sXG4gICAgICByQVJJQSA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpLVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIHJBUklBQ2FtZWwgPSBSZWdFeHAoXG4gICAgICAgIFwiXihhcmlhKVtBLVpdWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgaXNKYXZhU2NyaXB0UHJvdG9jb2wgPVxuICAgICAgICAvXltcXHUwMDAwLVxcdTAwMUYgXSpqW1xcclxcblxcdF0qYVtcXHJcXG5cXHRdKnZbXFxyXFxuXFx0XSphW1xcclxcblxcdF0qc1tcXHJcXG5cXHRdKmNbXFxyXFxuXFx0XSpyW1xcclxcblxcdF0qaVtcXHJcXG5cXHRdKnBbXFxyXFxuXFx0XSp0W1xcclxcblxcdF0qOi9pLFxuICAgICAgY3VycmVudFJlcGxheWluZ0V2ZW50ID0gbnVsbCxcbiAgICAgIHJlc3RvcmVUYXJnZXQgPSBudWxsLFxuICAgICAgcmVzdG9yZVF1ZXVlID0gbnVsbCxcbiAgICAgIGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gITEsXG4gICAgICBwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCA9ICExO1xuICAgIGlmIChjYW5Vc2VET00pXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgb3B0aW9ucyRqc2NvbXAkMCA9IHt9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3B0aW9ucyRqc2NvbXAkMCwgXCJwYXNzaXZlXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG9wdGlvbnMkanNjb21wJDAsIG9wdGlvbnMkanNjb21wJDApO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgb3B0aW9ucyRqc2NvbXAkMCwgb3B0aW9ucyRqc2NvbXAkMCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gITE7XG4gICAgICB9XG4gICAgdmFyIHJvb3QgPSBudWxsLFxuICAgICAgc3RhcnRUZXh0ID0gbnVsbCxcbiAgICAgIGZhbGxiYWNrVGV4dCA9IG51bGwsXG4gICAgICBFdmVudEludGVyZmFjZSA9IHtcbiAgICAgICAgZXZlbnRQaGFzZTogMCxcbiAgICAgICAgYnViYmxlczogMCxcbiAgICAgICAgY2FuY2VsYWJsZTogMCxcbiAgICAgICAgdGltZVN0YW1wOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gZXZlbnQudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IDAsXG4gICAgICAgIGlzVHJ1c3RlZDogMFxuICAgICAgfSxcbiAgICAgIFN5bnRoZXRpY0V2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgVUlFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHsgdmlldzogMCwgZGV0YWlsOiAwIH0pLFxuICAgICAgU3ludGhldGljVUlFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFVJRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgbGFzdE1vdmVtZW50WCxcbiAgICAgIGxhc3RNb3ZlbWVudFksXG4gICAgICBsYXN0TW91c2VFdmVudCxcbiAgICAgIE1vdXNlRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgc2NyZWVuWDogMCxcbiAgICAgICAgc2NyZWVuWTogMCxcbiAgICAgICAgY2xpZW50WDogMCxcbiAgICAgICAgY2xpZW50WTogMCxcbiAgICAgICAgcGFnZVg6IDAsXG4gICAgICAgIHBhZ2VZOiAwLFxuICAgICAgICBjdHJsS2V5OiAwLFxuICAgICAgICBzaGlmdEtleTogMCxcbiAgICAgICAgYWx0S2V5OiAwLFxuICAgICAgICBtZXRhS2V5OiAwLFxuICAgICAgICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gICAgICAgIGJ1dHRvbjogMCxcbiAgICAgICAgYnV0dG9uczogMCxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZXZlbnQucmVsYXRlZFRhcmdldFxuICAgICAgICAgICAgPyBldmVudC5mcm9tRWxlbWVudCA9PT0gZXZlbnQuc3JjRWxlbWVudFxuICAgICAgICAgICAgICA/IGV2ZW50LnRvRWxlbWVudFxuICAgICAgICAgICAgICA6IGV2ZW50LmZyb21FbGVtZW50XG4gICAgICAgICAgICA6IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmVtZW50WDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgaWYgKFwibW92ZW1lbnRYXCIgaW4gZXZlbnQpIHJldHVybiBldmVudC5tb3ZlbWVudFg7XG4gICAgICAgICAgZXZlbnQgIT09IGxhc3RNb3VzZUV2ZW50ICYmXG4gICAgICAgICAgICAobGFzdE1vdXNlRXZlbnQgJiYgXCJtb3VzZW1vdmVcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgICA/ICgobGFzdE1vdmVtZW50WCA9IGV2ZW50LnNjcmVlblggLSBsYXN0TW91c2VFdmVudC5zY3JlZW5YKSxcbiAgICAgICAgICAgICAgICAobGFzdE1vdmVtZW50WSA9IGV2ZW50LnNjcmVlblkgLSBsYXN0TW91c2VFdmVudC5zY3JlZW5ZKSlcbiAgICAgICAgICAgICAgOiAobGFzdE1vdmVtZW50WSA9IGxhc3RNb3ZlbWVudFggPSAwKSxcbiAgICAgICAgICAgIChsYXN0TW91c2VFdmVudCA9IGV2ZW50KSk7XG4gICAgICAgICAgcmV0dXJuIGxhc3RNb3ZlbWVudFg7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdmVtZW50WTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwibW92ZW1lbnRZXCIgaW4gZXZlbnQgPyBldmVudC5tb3ZlbWVudFkgOiBsYXN0TW92ZW1lbnRZO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY01vdXNlRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChNb3VzZUV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIERyYWdFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgTW91c2VFdmVudEludGVyZmFjZSwgeyBkYXRhVHJhbnNmZXI6IDAgfSksXG4gICAgICBTeW50aGV0aWNEcmFnRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChEcmFnRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgRm9jdXNFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwgeyByZWxhdGVkVGFyZ2V0OiAwIH0pLFxuICAgICAgU3ludGhldGljRm9jdXNFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEZvY3VzRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIGFuaW1hdGlvbk5hbWU6IDAsXG4gICAgICAgIGVsYXBzZWRUaW1lOiAwLFxuICAgICAgICBwc2V1ZG9FbGVtZW50OiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY0FuaW1hdGlvbkV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoQW5pbWF0aW9uRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIGNsaXBib2FyZERhdGE6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImNsaXBib2FyZERhdGFcIiBpbiBldmVudFxuICAgICAgICAgICAgPyBldmVudC5jbGlwYm9hcmREYXRhXG4gICAgICAgICAgICA6IHdpbmRvdy5jbGlwYm9hcmREYXRhO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoQ2xpcGJvYXJkRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHsgZGF0YTogMCB9KSxcbiAgICAgIFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChcbiAgICAgICAgQ29tcG9zaXRpb25FdmVudEludGVyZmFjZVxuICAgICAgKSxcbiAgICAgIFN5bnRoZXRpY0lucHV0RXZlbnQgPSBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50LFxuICAgICAgbm9ybWFsaXplS2V5ID0ge1xuICAgICAgICBFc2M6IFwiRXNjYXBlXCIsXG4gICAgICAgIFNwYWNlYmFyOiBcIiBcIixcbiAgICAgICAgTGVmdDogXCJBcnJvd0xlZnRcIixcbiAgICAgICAgVXA6IFwiQXJyb3dVcFwiLFxuICAgICAgICBSaWdodDogXCJBcnJvd1JpZ2h0XCIsXG4gICAgICAgIERvd246IFwiQXJyb3dEb3duXCIsXG4gICAgICAgIERlbDogXCJEZWxldGVcIixcbiAgICAgICAgV2luOiBcIk9TXCIsXG4gICAgICAgIE1lbnU6IFwiQ29udGV4dE1lbnVcIixcbiAgICAgICAgQXBwczogXCJDb250ZXh0TWVudVwiLFxuICAgICAgICBTY3JvbGw6IFwiU2Nyb2xsTG9ja1wiLFxuICAgICAgICBNb3pQcmludGFibGVLZXk6IFwiVW5pZGVudGlmaWVkXCJcbiAgICAgIH0sXG4gICAgICB0cmFuc2xhdGVUb0tleSA9IHtcbiAgICAgICAgODogXCJCYWNrc3BhY2VcIixcbiAgICAgICAgOTogXCJUYWJcIixcbiAgICAgICAgMTI6IFwiQ2xlYXJcIixcbiAgICAgICAgMTM6IFwiRW50ZXJcIixcbiAgICAgICAgMTY6IFwiU2hpZnRcIixcbiAgICAgICAgMTc6IFwiQ29udHJvbFwiLFxuICAgICAgICAxODogXCJBbHRcIixcbiAgICAgICAgMTk6IFwiUGF1c2VcIixcbiAgICAgICAgMjA6IFwiQ2Fwc0xvY2tcIixcbiAgICAgICAgMjc6IFwiRXNjYXBlXCIsXG4gICAgICAgIDMyOiBcIiBcIixcbiAgICAgICAgMzM6IFwiUGFnZVVwXCIsXG4gICAgICAgIDM0OiBcIlBhZ2VEb3duXCIsXG4gICAgICAgIDM1OiBcIkVuZFwiLFxuICAgICAgICAzNjogXCJIb21lXCIsXG4gICAgICAgIDM3OiBcIkFycm93TGVmdFwiLFxuICAgICAgICAzODogXCJBcnJvd1VwXCIsXG4gICAgICAgIDM5OiBcIkFycm93UmlnaHRcIixcbiAgICAgICAgNDA6IFwiQXJyb3dEb3duXCIsXG4gICAgICAgIDQ1OiBcIkluc2VydFwiLFxuICAgICAgICA0NjogXCJEZWxldGVcIixcbiAgICAgICAgMTEyOiBcIkYxXCIsXG4gICAgICAgIDExMzogXCJGMlwiLFxuICAgICAgICAxMTQ6IFwiRjNcIixcbiAgICAgICAgMTE1OiBcIkY0XCIsXG4gICAgICAgIDExNjogXCJGNVwiLFxuICAgICAgICAxMTc6IFwiRjZcIixcbiAgICAgICAgMTE4OiBcIkY3XCIsXG4gICAgICAgIDExOTogXCJGOFwiLFxuICAgICAgICAxMjA6IFwiRjlcIixcbiAgICAgICAgMTIxOiBcIkYxMFwiLFxuICAgICAgICAxMjI6IFwiRjExXCIsXG4gICAgICAgIDEyMzogXCJGMTJcIixcbiAgICAgICAgMTQ0OiBcIk51bUxvY2tcIixcbiAgICAgICAgMTQ1OiBcIlNjcm9sbExvY2tcIixcbiAgICAgICAgMjI0OiBcIk1ldGFcIlxuICAgICAgfSxcbiAgICAgIG1vZGlmaWVyS2V5VG9Qcm9wID0ge1xuICAgICAgICBBbHQ6IFwiYWx0S2V5XCIsXG4gICAgICAgIENvbnRyb2w6IFwiY3RybEtleVwiLFxuICAgICAgICBNZXRhOiBcIm1ldGFLZXlcIixcbiAgICAgICAgU2hpZnQ6IFwic2hpZnRLZXlcIlxuICAgICAgfSxcbiAgICAgIEtleWJvYXJkRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAga2V5OiBmdW5jdGlvbiAobmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICBpZiAobmF0aXZlRXZlbnQua2V5KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gbm9ybWFsaXplS2V5W25hdGl2ZUV2ZW50LmtleV0gfHwgbmF0aXZlRXZlbnQua2V5O1xuICAgICAgICAgICAgaWYgKFwiVW5pZGVudGlmaWVkXCIgIT09IGtleSkgcmV0dXJuIGtleTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwia2V5cHJlc3NcIiA9PT0gbmF0aXZlRXZlbnQudHlwZVxuICAgICAgICAgICAgPyAoKG5hdGl2ZUV2ZW50ID0gZ2V0RXZlbnRDaGFyQ29kZShuYXRpdmVFdmVudCkpLFxuICAgICAgICAgICAgICAxMyA9PT0gbmF0aXZlRXZlbnQgPyBcIkVudGVyXCIgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50KSlcbiAgICAgICAgICAgIDogXCJrZXlkb3duXCIgPT09IG5hdGl2ZUV2ZW50LnR5cGUgfHwgXCJrZXl1cFwiID09PSBuYXRpdmVFdmVudC50eXBlXG4gICAgICAgICAgICAgID8gdHJhbnNsYXRlVG9LZXlbbmF0aXZlRXZlbnQua2V5Q29kZV0gfHwgXCJVbmlkZW50aWZpZWRcIlxuICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICBjdHJsS2V5OiAwLFxuICAgICAgICBzaGlmdEtleTogMCxcbiAgICAgICAgYWx0S2V5OiAwLFxuICAgICAgICBtZXRhS2V5OiAwLFxuICAgICAgICByZXBlYXQ6IDAsXG4gICAgICAgIGxvY2FsZTogMCxcbiAgICAgICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAgICAgICBjaGFyQ29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5cHJlc3NcIiA9PT0gZXZlbnQudHlwZSA/IGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAga2V5Q29kZTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5ZG93blwiID09PSBldmVudC50eXBlIHx8IFwia2V5dXBcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgPyBldmVudC5rZXlDb2RlXG4gICAgICAgICAgICA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIHdoaWNoOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlwcmVzc1wiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICA/IGdldEV2ZW50Q2hhckNvZGUoZXZlbnQpXG4gICAgICAgICAgICA6IFwia2V5ZG93blwiID09PSBldmVudC50eXBlIHx8IFwia2V5dXBcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgICA/IGV2ZW50LmtleUNvZGVcbiAgICAgICAgICAgICAgOiAwO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY0tleWJvYXJkRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChLZXlib2FyZEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFBvaW50ZXJFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgTW91c2VFdmVudEludGVyZmFjZSwge1xuICAgICAgICBwb2ludGVySWQ6IDAsXG4gICAgICAgIHdpZHRoOiAwLFxuICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgIHByZXNzdXJlOiAwLFxuICAgICAgICB0YW5nZW50aWFsUHJlc3N1cmU6IDAsXG4gICAgICAgIHRpbHRYOiAwLFxuICAgICAgICB0aWx0WTogMCxcbiAgICAgICAgdHdpc3Q6IDAsXG4gICAgICAgIHBvaW50ZXJUeXBlOiAwLFxuICAgICAgICBpc1ByaW1hcnk6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljUG9pbnRlckV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoUG9pbnRlckV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFRvdWNoRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgdG91Y2hlczogMCxcbiAgICAgICAgdGFyZ2V0VG91Y2hlczogMCxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXM6IDAsXG4gICAgICAgIGFsdEtleTogMCxcbiAgICAgICAgbWV0YUtleTogMCxcbiAgICAgICAgY3RybEtleTogMCxcbiAgICAgICAgc2hpZnRLZXk6IDAsXG4gICAgICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZVxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNUb3VjaEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVG91Y2hFdmVudEludGVyZmFjZSksXG4gICAgICBUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIHByb3BlcnR5TmFtZTogMCxcbiAgICAgICAgZWxhcHNlZFRpbWU6IDAsXG4gICAgICAgIHBzZXVkb0VsZW1lbnQ6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljVHJhbnNpdGlvbkV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFdoZWVsRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIE1vdXNlRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgZGVsdGFYOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJkZWx0YVhcIiBpbiBldmVudFxuICAgICAgICAgICAgPyBldmVudC5kZWx0YVhcbiAgICAgICAgICAgIDogXCJ3aGVlbERlbHRhWFwiIGluIGV2ZW50XG4gICAgICAgICAgICAgID8gLWV2ZW50LndoZWVsRGVsdGFYXG4gICAgICAgICAgICAgIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsdGFZOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJkZWx0YVlcIiBpbiBldmVudFxuICAgICAgICAgICAgPyBldmVudC5kZWx0YVlcbiAgICAgICAgICAgIDogXCJ3aGVlbERlbHRhWVwiIGluIGV2ZW50XG4gICAgICAgICAgICAgID8gLWV2ZW50LndoZWVsRGVsdGFZXG4gICAgICAgICAgICAgIDogXCJ3aGVlbERlbHRhXCIgaW4gZXZlbnRcbiAgICAgICAgICAgICAgICA/IC1ldmVudC53aGVlbERlbHRhXG4gICAgICAgICAgICAgICAgOiAwO1xuICAgICAgICB9LFxuICAgICAgICBkZWx0YVo6IDAsXG4gICAgICAgIGRlbHRhTW9kZTogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNXaGVlbEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoV2hlZWxFdmVudEludGVyZmFjZSksXG4gICAgICBUb2dnbGVFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgbmV3U3RhdGU6IDAsXG4gICAgICAgIG9sZFN0YXRlOiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1RvZ2dsZUV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVG9nZ2xlRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgRU5EX0tFWUNPREVTID0gWzksIDEzLCAyNywgMzJdLFxuICAgICAgU1RBUlRfS0VZQ09ERSA9IDIyOSxcbiAgICAgIGNhblVzZUNvbXBvc2l0aW9uRXZlbnQgPSBjYW5Vc2VET00gJiYgXCJDb21wb3NpdGlvbkV2ZW50XCIgaW4gd2luZG93LFxuICAgICAgZG9jdW1lbnRNb2RlID0gbnVsbDtcbiAgICBjYW5Vc2VET00gJiZcbiAgICAgIFwiZG9jdW1lbnRNb2RlXCIgaW4gZG9jdW1lbnQgJiZcbiAgICAgIChkb2N1bWVudE1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGUpO1xuICAgIHZhciBjYW5Vc2VUZXh0SW5wdXRFdmVudCA9XG4gICAgICAgIGNhblVzZURPTSAmJiBcIlRleHRFdmVudFwiIGluIHdpbmRvdyAmJiAhZG9jdW1lbnRNb2RlLFxuICAgICAgdXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgPVxuICAgICAgICBjYW5Vc2VET00gJiZcbiAgICAgICAgKCFjYW5Vc2VDb21wb3NpdGlvbkV2ZW50IHx8XG4gICAgICAgICAgKGRvY3VtZW50TW9kZSAmJiA4IDwgZG9jdW1lbnRNb2RlICYmIDExID49IGRvY3VtZW50TW9kZSkpLFxuICAgICAgU1BBQ0VCQVJfQ09ERSA9IDMyLFxuICAgICAgU1BBQ0VCQVJfQ0hBUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoU1BBQ0VCQVJfQ09ERSksXG4gICAgICBoYXNTcGFjZUtleXByZXNzID0gITEsXG4gICAgICBpc0NvbXBvc2luZyA9ICExLFxuICAgICAgc3VwcG9ydGVkSW5wdXRUeXBlcyA9IHtcbiAgICAgICAgY29sb3I6ICEwLFxuICAgICAgICBkYXRlOiAhMCxcbiAgICAgICAgZGF0ZXRpbWU6ICEwLFxuICAgICAgICBcImRhdGV0aW1lLWxvY2FsXCI6ICEwLFxuICAgICAgICBlbWFpbDogITAsXG4gICAgICAgIG1vbnRoOiAhMCxcbiAgICAgICAgbnVtYmVyOiAhMCxcbiAgICAgICAgcGFzc3dvcmQ6ICEwLFxuICAgICAgICByYW5nZTogITAsXG4gICAgICAgIHNlYXJjaDogITAsXG4gICAgICAgIHRlbDogITAsXG4gICAgICAgIHRleHQ6ICEwLFxuICAgICAgICB0aW1lOiAhMCxcbiAgICAgICAgdXJsOiAhMCxcbiAgICAgICAgd2VlazogITBcbiAgICAgIH0sXG4gICAgICBhY3RpdmVFbGVtZW50JDEgPSBudWxsLFxuICAgICAgYWN0aXZlRWxlbWVudEluc3QkMSA9IG51bGwsXG4gICAgICBpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPSAhMTtcbiAgICBjYW5Vc2VET00gJiZcbiAgICAgIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQgPVxuICAgICAgICBpc0V2ZW50U3VwcG9ydGVkKFwiaW5wdXRcIikgJiZcbiAgICAgICAgKCFkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgOSA8IGRvY3VtZW50LmRvY3VtZW50TW9kZSkpO1xuICAgIHZhciBvYmplY3RJcyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5pcyA/IE9iamVjdC5pcyA6IGlzLFxuICAgICAgc2tpcFNlbGVjdGlvbkNoYW5nZUV2ZW50ID1cbiAgICAgICAgY2FuVXNlRE9NICYmIFwiZG9jdW1lbnRNb2RlXCIgaW4gZG9jdW1lbnQgJiYgMTEgPj0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFxuICAgICAgYWN0aXZlRWxlbWVudCA9IG51bGwsXG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCA9IG51bGwsXG4gICAgICBsYXN0U2VsZWN0aW9uID0gbnVsbCxcbiAgICAgIG1vdXNlRG93biA9ICExLFxuICAgICAgdmVuZG9yUHJlZml4ZXMgPSB7XG4gICAgICAgIGFuaW1hdGlvbmVuZDogbWFrZVByZWZpeE1hcChcIkFuaW1hdGlvblwiLCBcIkFuaW1hdGlvbkVuZFwiKSxcbiAgICAgICAgYW5pbWF0aW9uaXRlcmF0aW9uOiBtYWtlUHJlZml4TWFwKFwiQW5pbWF0aW9uXCIsIFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLFxuICAgICAgICBhbmltYXRpb25zdGFydDogbWFrZVByZWZpeE1hcChcIkFuaW1hdGlvblwiLCBcIkFuaW1hdGlvblN0YXJ0XCIpLFxuICAgICAgICB0cmFuc2l0aW9ucnVuOiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25SdW5cIiksXG4gICAgICAgIHRyYW5zaXRpb25zdGFydDogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uU3RhcnRcIiksXG4gICAgICAgIHRyYW5zaXRpb25jYW5jZWw6IG1ha2VQcmVmaXhNYXAoXCJUcmFuc2l0aW9uXCIsIFwiVHJhbnNpdGlvbkNhbmNlbFwiKSxcbiAgICAgICAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uRW5kXCIpXG4gICAgICB9LFxuICAgICAgcHJlZml4ZWRFdmVudE5hbWVzID0ge30sXG4gICAgICBzdHlsZSA9IHt9O1xuICAgIGNhblVzZURPTSAmJlxuICAgICAgKChzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUpLFxuICAgICAgXCJBbmltYXRpb25FdmVudFwiIGluIHdpbmRvdyB8fFxuICAgICAgICAoZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbmVuZC5hbmltYXRpb24sXG4gICAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uLFxuICAgICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcbiAgICAgIFwiVHJhbnNpdGlvbkV2ZW50XCIgaW4gd2luZG93IHx8XG4gICAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb24pO1xuICAgIHZhciBBTklNQVRJT05fRU5EID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJhbmltYXRpb25lbmRcIiksXG4gICAgICBBTklNQVRJT05fSVRFUkFUSU9OID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJhbmltYXRpb25pdGVyYXRpb25cIiksXG4gICAgICBBTklNQVRJT05fU1RBUlQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcImFuaW1hdGlvbnN0YXJ0XCIpLFxuICAgICAgVFJBTlNJVElPTl9SVU4gPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25ydW5cIiksXG4gICAgICBUUkFOU0lUSU9OX1NUQVJUID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9uc3RhcnRcIiksXG4gICAgICBUUkFOU0lUSU9OX0NBTkNFTCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwidHJhbnNpdGlvbmNhbmNlbFwiKSxcbiAgICAgIFRSQU5TSVRJT05fRU5EID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9uZW5kXCIpLFxuICAgICAgdG9wTGV2ZWxFdmVudHNUb1JlYWN0TmFtZXMgPSBuZXcgTWFwKCksXG4gICAgICBzaW1wbGVFdmVudFBsdWdpbkV2ZW50cyA9XG4gICAgICAgIFwiYWJvcnQgYXV4Q2xpY2sgYmVmb3JlVG9nZ2xlIGNhbmNlbCBjYW5QbGF5IGNhblBsYXlUaHJvdWdoIGNsaWNrIGNsb3NlIGNvbnRleHRNZW51IGNvcHkgY3V0IGRyYWcgZHJhZ0VuZCBkcmFnRW50ZXIgZHJhZ0V4aXQgZHJhZ0xlYXZlIGRyYWdPdmVyIGRyYWdTdGFydCBkcm9wIGR1cmF0aW9uQ2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGdvdFBvaW50ZXJDYXB0dXJlIGlucHV0IGludmFsaWQga2V5RG93biBrZXlQcmVzcyBrZXlVcCBsb2FkIGxvYWRlZERhdGEgbG9hZGVkTWV0YWRhdGEgbG9hZFN0YXJ0IGxvc3RQb2ludGVyQ2FwdHVyZSBtb3VzZURvd24gbW91c2VNb3ZlIG1vdXNlT3V0IG1vdXNlT3ZlciBtb3VzZVVwIHBhc3RlIHBhdXNlIHBsYXkgcGxheWluZyBwb2ludGVyQ2FuY2VsIHBvaW50ZXJEb3duIHBvaW50ZXJNb3ZlIHBvaW50ZXJPdXQgcG9pbnRlck92ZXIgcG9pbnRlclVwIHByb2dyZXNzIHJhdGVDaGFuZ2UgcmVzZXQgcmVzaXplIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VibWl0IHN1c3BlbmQgdGltZVVwZGF0ZSB0b3VjaENhbmNlbCB0b3VjaEVuZCB0b3VjaFN0YXJ0IHZvbHVtZUNoYW5nZSBzY3JvbGwgc2Nyb2xsRW5kIHRvZ2dsZSB0b3VjaE1vdmUgd2FpdGluZyB3aGVlbFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBPZmZzY3JlZW5WaXNpYmxlID0gMSxcbiAgICAgIE9mZnNjcmVlbkRldGFjaGVkID0gMixcbiAgICAgIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkID0gNCxcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXMgPSBbXSxcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNJbmRleCA9IDAsXG4gICAgICBjb25jdXJyZW50bHlVcGRhdGVkTGFuZXMgPSAwLFxuICAgICAgZW1wdHlDb250ZXh0T2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmZyZWV6ZShlbXB0eUNvbnRleHRPYmplY3QpO1xuICAgIHZhciByZXNvbHZlRmFtaWx5ID0gbnVsbCxcbiAgICAgIGZhaWxlZEJvdW5kYXJpZXMgPSBudWxsLFxuICAgICAgTm9Nb2RlID0gMCxcbiAgICAgIENvbmN1cnJlbnRNb2RlID0gMSxcbiAgICAgIFByb2ZpbGVNb2RlID0gMixcbiAgICAgIFN0cmljdExlZ2FjeU1vZGUgPSA4LFxuICAgICAgU3RyaWN0RWZmZWN0c01vZGUgPSAxNixcbiAgICAgIE5vU3RyaWN0UGFzc2l2ZUVmZmVjdHNNb2RlID0gNjQsXG4gICAgICBub3cgPSBTY2hlZHVsZXIudW5zdGFibGVfbm93LFxuICAgICAgcmVuZGVyU3RhcnRUaW1lID0gLTAsXG4gICAgICBjb21taXRTdGFydFRpbWUgPSAtMCxcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTEuMSxcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gPSAtMCxcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCA9ICExLFxuICAgICAgbmVzdGVkVXBkYXRlU2NoZWR1bGVkID0gITEsXG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncyA9IHtcbiAgICAgICAgcmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBmbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5nczogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIHJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIGRpc2NhcmRQZW5kaW5nV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9XG4gICAgICB9LFxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSxcbiAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMgPSBuZXcgU2V0KCk7XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoXG4gICAgICBmaWJlcixcbiAgICAgIGluc3RhbmNlXG4gICAgKSB7XG4gICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmhhcyhmaWJlci50eXBlKSB8fFxuICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgITAgIT09IGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudC5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICYmXG4gICAgICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBmaWJlci5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgITAgIT09XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBmaWJlci5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAhMCAhPT0gaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICYmXG4gICAgICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgZmliZXIubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpKTtcbiAgICB9O1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MuZm9yRWFjaChcbiAgICAgICAgICBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10pKTtcbiAgICAgIGlmICgwIDwgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLnNpemUpIHtcbiAgICAgICAgdmFyIHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2luZyBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGNvZGUgd2l0aCBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkTW91bnQsIGFuZCBzZXQgaW5pdGlhbCBzdGF0ZSBpbiB0aGUgY29uc3RydWN0b3IuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIDAgPCBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFxuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXNcbiAgICAgICAgKSksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2luZyBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBpbiBzdHJpY3QgbW9kZSBpcyBub3QgcmVjb21tZW5kZWQgYW5kIG1heSBpbmRpY2F0ZSBidWdzIGluIHlvdXIgY29kZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG4qIElmIHlvdSdyZSB1cGRhdGluZyBzdGF0ZSB3aGVuZXZlciBwcm9wcyBjaGFuZ2UsIHJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2UgbWVtb2l6YXRpb24gdGVjaG5pcXVlcyBvciBtb3ZlIGl0IHRvIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIExlYXJuIG1vcmUgYXQ6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZGVyaXZlZC1zdGF0ZVxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lc1xuICAgICAgICApKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKGNvbXBvbmVudFdpbGxNb3VudFVuaXF1ZU5hbWVzKSksXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcImNvbXBvbmVudFdpbGxNb3VudCBoYXMgYmVlbiByZW5hbWVkLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgY29kZSB3aXRoIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRNb3VudCwgYW5kIHNldCBpbml0aWFsIHN0YXRlIGluIHRoZSBjb25zdHJ1Y3Rvci5cXG4qIFJlbmFtZSBjb21wb25lbnRXaWxsTW91bnQgdG8gVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxOC54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiBUbyByZW5hbWUgYWxsIGRlcHJlY2F0ZWQgbGlmZWN5Y2xlcyB0byB0aGVpciBuZXcgbmFtZXMsIHlvdSBjYW4gcnVuIGBucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXNcbiAgICAgICAgKSksXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgaGFzIGJlZW4gcmVuYW1lZCwgYW5kIGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgdXNlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbiogSWYgeW91J3JlIHVwZGF0aW5nIHN0YXRlIHdoZW5ldmVyIHByb3BzIGNoYW5nZSwgcmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBtZW1vaXphdGlvbiB0ZWNobmlxdWVzIG9yIG1vdmUgaXQgdG8gc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gTGVhcm4gbW9yZSBhdDogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kZXJpdmVkLXN0YXRlXFxuKiBSZW5hbWUgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyB0byBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxOC54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiBUbyByZW5hbWUgYWxsIGRlcHJlY2F0ZWQgbGlmZWN5Y2xlcyB0byB0aGVpciBuZXcgbmFtZXMsIHlvdSBjYW4gcnVuIGBucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgICAgMCA8IGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMpKSxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiY29tcG9uZW50V2lsbFVwZGF0ZSBoYXMgYmVlbiByZW5hbWVkLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuKiBSZW5hbWUgY29tcG9uZW50V2lsbFVwZGF0ZSB0byBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSB0byBzdXBwcmVzcyB0aGlzIHdhcm5pbmcgaW4gbm9uLXN0cmljdCBtb2RlLiBJbiBSZWFjdCAxOC54LCBvbmx5IHRoZSBVTlNBRkVfIG5hbWUgd2lsbCB3b3JrLiBUbyByZW5hbWUgYWxsIGRlcHJlY2F0ZWQgbGlmZWN5Y2xlcyB0byB0aGVpciBuZXcgbmFtZXMsIHlvdSBjYW4gcnVuIGBucHggcmVhY3QtY29kZW1vZCByZW5hbWUtdW5zYWZlLWxpZmVjeWNsZXNgIGluIHlvdXIgcHJvamVjdCBzb3VyY2UgZm9sZGVyLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICkpO1xuICAgIH07XG4gICAgdmFyIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZyA9IG5ldyBNYXAoKSxcbiAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQgPSBuZXcgU2V0KCk7XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBmdW5jdGlvbiAoXG4gICAgICBmaWJlcixcbiAgICAgIGluc3RhbmNlXG4gICAgKSB7XG4gICAgICB2YXIgc3RyaWN0Um9vdCA9IG51bGw7XG4gICAgICBmb3IgKHZhciBub2RlID0gZmliZXI7IG51bGwgIT09IG5vZGU7IClcbiAgICAgICAgbm9kZS5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJiAoc3RyaWN0Um9vdCA9IG5vZGUpLFxuICAgICAgICAgIChub2RlID0gbm9kZS5yZXR1cm4pO1xuICAgICAgbnVsbCA9PT0gc3RyaWN0Um9vdFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBTdHJpY3RNb2RlIGNvbXBvbmVudCBpbiBhIHN0cmljdCBtb2RlIHRyZWUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApXG4gICAgICAgIDogIWRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuaGFzKGZpYmVyLnR5cGUpICYmXG4gICAgICAgICAgKChub2RlID0gcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLmdldChzdHJpY3RSb290KSksXG4gICAgICAgICAgbnVsbCAhPSBmaWJlci50eXBlLmNvbnRleHRUeXBlcyB8fFxuICAgICAgICAgICAgbnVsbCAhPSBmaWJlci50eXBlLmNoaWxkQ29udGV4dFR5cGVzIHx8XG4gICAgICAgICAgICAobnVsbCAhPT0gaW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuZ2V0Q2hpbGRDb250ZXh0KSkgJiZcbiAgICAgICAgICAodm9pZCAwID09PSBub2RlICYmXG4gICAgICAgICAgICAoKG5vZGUgPSBbXSksIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5zZXQoc3RyaWN0Um9vdCwgbm9kZSkpLFxuICAgICAgICAgIG5vZGUucHVzaChmaWJlcikpO1xuICAgIH07XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hMZWdhY3lDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlckFycmF5KSB7XG4gICAgICAgIGlmICgwICE9PSBmaWJlckFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgIHZhciBmaXJzdEZpYmVyID0gZmliZXJBcnJheVswXSxcbiAgICAgICAgICAgIHVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgICAgIGZpYmVyQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgIHVuaXF1ZU5hbWVzLmFkZChnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiKTtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUNvbnRleHQuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKHVuaXF1ZU5hbWVzKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaXJzdEZpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkxlZ2FjeSBjb250ZXh0IEFQSSBoYXMgYmVlbiBkZXRlY3RlZCB3aXRoaW4gYSBzdHJpY3QtbW9kZSB0cmVlLlxcblxcblRoZSBvbGQgQVBJIHdpbGwgYmUgc3VwcG9ydGVkIGluIGFsbCAxNi54IHJlbGVhc2VzLCBidXQgYXBwbGljYXRpb25zIHVzaW5nIGl0IHNob3VsZCBtaWdyYXRlIHRvIHRoZSBuZXcgdmVyc2lvbi5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcXG5cXG5MZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOiBodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0XCIsXG4gICAgICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmRpc2NhcmRQZW5kaW5nV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nID0gbmV3IE1hcCgpO1xuICAgIH07XG4gICAgdmFyIENhcHR1cmVkU3RhY2tzID0gbmV3IFdlYWtNYXAoKSxcbiAgICAgIGZvcmtTdGFjayA9IFtdLFxuICAgICAgZm9ya1N0YWNrSW5kZXggPSAwLFxuICAgICAgdHJlZUZvcmtQcm92aWRlciA9IG51bGwsXG4gICAgICB0cmVlRm9ya0NvdW50ID0gMCxcbiAgICAgIGlkU3RhY2sgPSBbXSxcbiAgICAgIGlkU3RhY2tJbmRleCA9IDAsXG4gICAgICB0cmVlQ29udGV4dFByb3ZpZGVyID0gbnVsbCxcbiAgICAgIHRyZWVDb250ZXh0SWQgPSAxLFxuICAgICAgdHJlZUNvbnRleHRPdmVyZmxvdyA9IFwiXCIsXG4gICAgICBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGwsXG4gICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gbnVsbCxcbiAgICAgIGlzSHlkcmF0aW5nID0gITEsXG4gICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViA9ICExLFxuICAgICAgaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsLFxuICAgICAgaHlkcmF0aW9uRXJyb3JzID0gbnVsbCxcbiAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMSxcbiAgICAgIEh5ZHJhdGlvbk1pc21hdGNoRXhjZXB0aW9uID0gRXJyb3IoXG4gICAgICAgIFwiSHlkcmF0aW9uIE1pc21hdGNoIEV4Y2VwdGlvbjogVGhpcyBpcyBub3QgYSByZWFsIGVycm9yLCBhbmQgc2hvdWxkIG5vdCBsZWFrIGludG8gdXNlcnNwYWNlLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIGl0J3MgbGlrZWx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICApLFxuICAgICAgU3VzcGVuc2VFeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJTdXNwZW5zZSBFeGNlcHRpb246IFRoaXMgaXMgbm90IGEgcmVhbCBlcnJvciEgSXQncyBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgb2YgYHVzZWAgdG8gaW50ZXJydXB0IHRoZSBjdXJyZW50IHJlbmRlci4gWW91IG11c3QgZWl0aGVyIHJldGhyb3cgaXQgaW1tZWRpYXRlbHksIG9yIG1vdmUgdGhlIGB1c2VgIGNhbGwgb3V0c2lkZSBvZiB0aGUgYHRyeS9jYXRjaGAgYmxvY2suIENhcHR1cmluZyB3aXRob3V0IHJldGhyb3dpbmcgd2lsbCBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXFxuXFxuVG8gaGFuZGxlIGFzeW5jIGVycm9ycywgd3JhcCB5b3VyIGNvbXBvbmVudCBpbiBhbiBlcnJvciBib3VuZGFyeSwgb3IgY2FsbCB0aGUgcHJvbWlzZSdzIGAuY2F0Y2hgIG1ldGhvZCBhbmQgcGFzcyB0aGUgcmVzdWx0IHRvIGB1c2VgXCJcbiAgICAgICksXG4gICAgICBTdXNwZW5zZXlDb21taXRFeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJTdXNwZW5zZSBFeGNlcHRpb246IFRoaXMgaXMgbm90IGEgcmVhbCBlcnJvciwgYW5kIHNob3VsZCBub3QgbGVhayBpbnRvIHVzZXJzcGFjZS4gSWYgeW91J3JlIHNlZWluZyB0aGlzLCBpdCdzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgKSxcbiAgICAgIG5vb3BTdXNwZW5zZXlDb21taXRUaGVuYWJsZSA9IHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnSW50ZXJuYWwgUmVhY3QgZXJyb3I6IEEgbGlzdGVuZXIgd2FzIHVuZXhwZWN0ZWRseSBhdHRhY2hlZCB0byBhIFwibm9vcFwiIHRoZW5hYmxlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN1c3BlbmRlZFRoZW5hYmxlID0gbnVsbCxcbiAgICAgIG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITEsXG4gICAgICBjYWxsQ29tcG9uZW50ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKSB7XG4gICAgICAgICAgdmFyIHdhc1JlbmRlcmluZyA9IGlzUmVuZGVyaW5nO1xuICAgICAgICAgIGlzUmVuZGVyaW5nID0gITA7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBDb21wb25lbnQocHJvcHMsIHNlY29uZEFyZyk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzUmVuZGVyaW5nID0gd2FzUmVuZGVyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDb21wb25lbnRJbkRFViA9XG4gICAgICAgIGNhbGxDb21wb25lbnRbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsQ29tcG9uZW50KSxcbiAgICAgIGNhbGxSZW5kZXIgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgIHZhciB3YXNSZW5kZXJpbmcgPSBpc1JlbmRlcmluZztcbiAgICAgICAgICBpc1JlbmRlcmluZyA9ICEwO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UucmVuZGVyKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlzUmVuZGVyaW5nID0gd2FzUmVuZGVyaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxSZW5kZXJJbkRFViA9IGNhbGxSZW5kZXJbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsUmVuZGVyKSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudCA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGZpbmlzaGVkV29yaywgaW5zdGFuY2UpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYgPSBjYWxsQ29tcG9uZW50RGlkTW91bnRbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50RGlkTW91bnQpLFxuICAgICAgY2FsbENvbXBvbmVudERpZFVwZGF0ZSA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBwcmV2UHJvcHMsXG4gICAgICAgICAgcHJldlN0YXRlLFxuICAgICAgICAgIHNuYXBzaG90XG4gICAgICAgICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUsIHNuYXBzaG90KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudERpZFVwZGF0ZUluREVWID0gY2FsbENvbXBvbmVudERpZFVwZGF0ZVtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnREaWRVcGRhdGUpLFxuICAgICAgY2FsbENvbXBvbmVudERpZENhdGNoID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoaW5zdGFuY2UsIGVycm9ySW5mbykge1xuICAgICAgICAgIHZhciBzdGFjayA9IGVycm9ySW5mby5zdGFjaztcbiAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaChlcnJvckluZm8udmFsdWUsIHtcbiAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBudWxsICE9PSBzdGFjayA/IHN0YWNrIDogXCJcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudERpZENhdGNoSW5ERVYgPSBjYWxsQ29tcG9uZW50RGlkQ2F0Y2hbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50RGlkQ2F0Y2gpLFxuICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50SW5ERVYgPSBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50V2lsbFVubW91bnQpLFxuICAgICAgY2FsbENyZWF0ZSA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGVmZmVjdCkge1xuICAgICAgICAgIHZhciBjcmVhdGUgPSBlZmZlY3QuY3JlYXRlO1xuICAgICAgICAgIGVmZmVjdCA9IGVmZmVjdC5pbnN0O1xuICAgICAgICAgIGNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgICAgICAgIHJldHVybiAoZWZmZWN0LmRlc3Ryb3kgPSBjcmVhdGUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENyZWF0ZUluREVWID0gY2FsbENyZWF0ZVtcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxDcmVhdGUpLFxuICAgICAgY2FsbERlc3Ryb3kgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgZGVzdHJveVxuICAgICAgICApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVzdHJveSgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbERlc3Ryb3lJbkRFViA9XG4gICAgICAgIGNhbGxEZXN0cm95W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbERlc3Ryb3kpLFxuICAgICAgY2FsbExhenlJbml0ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAobGF6eSkge1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eS5faW5pdDtcbiAgICAgICAgICByZXR1cm4gaW5pdChsYXp5Ll9wYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxMYXp5SW5pdEluREVWID1cbiAgICAgICAgY2FsbExhenlJbml0W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbExhenlJbml0KSxcbiAgICAgIHRoZW5hYmxlU3RhdGUkMSA9IG51bGwsXG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMCxcbiAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBudWxsLFxuICAgICAgZGlkV2FybkFib3V0TWFwcztcbiAgICB2YXIgZGlkV2FybkFib3V0R2VuZXJhdG9ycyA9IChkaWRXYXJuQWJvdXRNYXBzID0gITEpO1xuICAgIHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgICB2YXIgb3duZXJIYXNGdW5jdGlvblR5cGVXYXJuaW5nID0ge307XG4gICAgdmFyIG93bmVySGFzU3ltYm9sVHlwZVdhcm5pbmcgPSB7fTtcbiAgICB3YXJuRm9yTWlzc2luZ0tleSA9IGZ1bmN0aW9uIChyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IGNoaWxkICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBjaGlsZCAmJlxuICAgICAgICBjaGlsZC5fc3RvcmUgJiZcbiAgICAgICAgKCghY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCAmJiBudWxsID09IGNoaWxkLmtleSkgfHxcbiAgICAgICAgICAyID09PSBjaGlsZC5fc3RvcmUudmFsaWRhdGVkKVxuICAgICAgKSB7XG4gICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0eXBlb2YgY2hpbGQuX3N0b3JlKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdCBDb21wb25lbnQgaW4gd2FybkZvck1pc3NpbmdLZXkgc2hvdWxkIGhhdmUgYSBfc3RvcmUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICBjaGlsZC5fc3RvcmUudmFsaWRhdGVkID0gMTtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSxcbiAgICAgICAgICBjb21wb25lbnRLZXkgPSBjb21wb25lbnROYW1lIHx8IFwibnVsbFwiO1xuICAgICAgICBpZiAoIW93bmVySGFzS2V5VXNlV2FybmluZ1tjb21wb25lbnRLZXldKSB7XG4gICAgICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2NvbXBvbmVudEtleV0gPSAhMDtcbiAgICAgICAgICBjaGlsZCA9IGNoaWxkLl9vd25lcjtcbiAgICAgICAgICByZXR1cm5GaWJlciA9IHJldHVybkZpYmVyLl9kZWJ1Z093bmVyO1xuICAgICAgICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gXCJcIjtcbiAgICAgICAgICByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHJldHVybkZpYmVyLnRhZyAmJlxuICAgICAgICAgICAgKGNvbXBvbmVudEtleSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpKSAmJlxuICAgICAgICAgICAgKGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPVxuICAgICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIGNvbXBvbmVudEtleSArIFwiYC5cIik7XG4gICAgICAgICAgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyB8fFxuICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgKGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPVxuICAgICAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgK1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWUgK1xuICAgICAgICAgICAgICAgIFwiPi5cIikpO1xuICAgICAgICAgIHZhciBjaGlsZE93bmVyQXBwZW5kaXggPSBcIlwiO1xuICAgICAgICAgIG51bGwgIT0gY2hpbGQgJiZcbiAgICAgICAgICAgIHJldHVybkZpYmVyICE9PSBjaGlsZCAmJlxuICAgICAgICAgICAgKChjb21wb25lbnROYW1lID0gbnVsbCksXG4gICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2hpbGQudGFnXG4gICAgICAgICAgICAgID8gKGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGNoaWxkKSlcbiAgICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgY2hpbGQubmFtZSAmJiAoY29tcG9uZW50TmFtZSA9IGNoaWxkLm5hbWUpLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSAmJlxuICAgICAgICAgICAgICAoY2hpbGRPd25lckFwcGVuZGl4ID1cbiAgICAgICAgICAgICAgICBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGNvbXBvbmVudE5hbWUgKyBcIi5cIikpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKHdvcmtJblByb2dyZXNzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLiVzJXMgU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgICAgIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sXG4gICAgICAgICAgICAgIGNoaWxkT3duZXJBcHBlbmRpeFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlY29uY2lsZUNoaWxkRmliZXJzID0gY3JlYXRlQ2hpbGRSZWNvbmNpbGVyKCEwKSxcbiAgICAgIG1vdW50Q2hpbGRGaWJlcnMgPSBjcmVhdGVDaGlsZFJlY29uY2lsZXIoITEpLFxuICAgICAgY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvciA9IGNyZWF0ZUN1cnNvcigwKSxcbiAgICAgIHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgc2hlbGxCb3VuZGFyeSA9IG51bGwsXG4gICAgICBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzayA9IDEsXG4gICAgICBGb3JjZVN1c3BlbnNlRmFsbGJhY2sgPSAyLFxuICAgICAgc3VzcGVuc2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcigwKSxcbiAgICAgIE5vRmxhZ3MgPSAwLFxuICAgICAgSGFzRWZmZWN0ID0gMSxcbiAgICAgIEluc2VydGlvbiA9IDIsXG4gICAgICBMYXlvdXQgPSA0LFxuICAgICAgUGFzc2l2ZSA9IDgsXG4gICAgICBBYm9ydENvbnRyb2xsZXJMb2NhbCA9XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBBYm9ydENvbnRyb2xsZXJcbiAgICAgICAgICA/IEFib3J0Q29udHJvbGxlclxuICAgICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW10sXG4gICAgICAgICAgICAgICAgc2lnbmFsID0gKHRoaXMuc2lnbmFsID0ge1xuICAgICAgICAgICAgICAgICAgYWJvcnRlZDogITEsXG4gICAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aGlzLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNpZ25hbC5hYm9ydGVkID0gITA7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICBzY2hlZHVsZUNhbGxiYWNrJDIgPSBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxcbiAgICAgIE5vcm1hbFByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFxuICAgICAgQ2FjaGVDb250ZXh0ID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgICBDb25zdW1lcjogbnVsbCxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IG51bGwsXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBudWxsLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgICAgIF9jdXJyZW50UmVuZGVyZXI6IG51bGwsXG4gICAgICAgIF9jdXJyZW50UmVuZGVyZXIyOiBudWxsXG4gICAgICB9LFxuICAgICAgY3VycmVudEVudGFuZ2xlZExpc3RlbmVycyA9IG51bGwsXG4gICAgICBjdXJyZW50RW50YW5nbGVkUGVuZGluZ0NvdW50ID0gMCxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRMYW5lID0gMCxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IG51bGwsXG4gICAgICBwcmV2T25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlMgPSBmdW5jdGlvbiAodHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpIHtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuICYmXG4gICAgICAgIGVudGFuZ2xlQXN5bmNBY3Rpb24odHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgbnVsbCAhPT0gcHJldk9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgIHByZXZPblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCh0cmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgfTtcbiAgICB2YXIgcmVzdW1lZENhY2hlID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3Q7XG4gICAgdmFyIGRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0VXNlV3JhcHBlZEluVHJ5Q2F0Y2ggPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVc2VGb3JtU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIHJlbmRlckxhbmVzID0gMCxcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSBudWxsLFxuICAgICAgY3VycmVudEhvb2sgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID0gbnVsbCxcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMSxcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9ICExLFxuICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgPSAhMSxcbiAgICAgIGxvY2FsSWRDb3VudGVyID0gMCxcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gMCxcbiAgICAgIHRoZW5hYmxlU3RhdGUgPSBudWxsLFxuICAgICAgZ2xvYmFsQ2xpZW50SWRDb3VudGVyID0gMCxcbiAgICAgIFJFX1JFTkRFUl9MSU1JVCA9IDI1LFxuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBudWxsLFxuICAgICAgaG9va1R5cGVzRGV2ID0gbnVsbCxcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTEsXG4gICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9ICExO1xuICAgIHZhciBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHsgbGFzdEVmZmVjdDogbnVsbCwgZXZlbnRzOiBudWxsLCBzdG9yZXM6IG51bGwsIG1lbW9DYWNoZTogbnVsbCB9O1xuICAgIH07XG4gICAgdmFyIENvbnRleHRPbmx5RGlzcGF0Y2hlciA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiByZWFkQ29udGV4dCxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUNvbnRleHQ6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZU1lbW86IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVJlZHVjZXI6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVJlZjogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlU3RhdGU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZURlYnVnVmFsdWU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVRyYW5zaXRpb246IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VJZDogdGhyb3dJbnZhbGlkSG9va0Vycm9yXG4gICAgfTtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlQ2FjaGVSZWZyZXNoID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VNZW1vQ2FjaGUgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VGb3JtU3RhdGUgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUFjdGlvblN0YXRlID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VPcHRpbWlzdGljID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIHZhciBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSBudWxsLFxuICAgICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFViA9IG51bGwsXG4gICAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0gbnVsbCxcbiAgICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IG51bGwsXG4gICAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0gbnVsbCxcbiAgICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0gbnVsbCxcbiAgICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYgPSBudWxsO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgbW91bnRFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50TWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50U3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudElkKCk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZU1lbW9DYWNoZSA9IHVzZU1lbW9DYWNoZTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGluaXRpYWxTdGF0ZSkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKHBhc3N0aHJvdWdoKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIG1vdW50RWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50VHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudElkKCk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaFxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiByZXJlbmRlclJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlcmVuZGVyRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlKHVzYWJsZSk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBtb3VudEVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZihpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50U3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJZCgpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZnJlc2goKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vQ2FjaGU6IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaFxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2UodXNhYmxlKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlTWVtb0NhY2hlOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW9DYWNoZShzaXplKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZSh1c2FibGUpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiByZXJlbmRlclJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW9DYWNoZTogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICB2YXIgZmFrZUludGVybmFsSW5zdGFuY2UgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0U3RhdGVBc3NpZ25tZW50Rm9yQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q29udGV4dFR5cGVzJDEgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dENoaWxkQ29udGV4dFR5cGVzID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5PbkludmFsaWRDYWxsYmFjayA9IG5ldyBTZXQoKTtcbiAgICBPYmplY3QuZnJlZXplKGZha2VJbnRlcm5hbEluc3RhbmNlKTtcbiAgICB2YXIgY2xhc3NDb21wb25lbnRVcGRhdGVyID0ge1xuICAgICAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgICB2YXIgb3duZXIgPSBjdXJyZW50O1xuICAgICAgICAgIGlmIChudWxsICE9PSBvd25lciAmJiBpc1JlbmRlcmluZyAmJiAxID09PSBvd25lci50YWcpIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IG93bmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciB8fFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiJXMgaXMgYWNjZXNzaW5nIGlzTW91bnRlZCBpbnNpZGUgaXRzIHJlbmRlcigpIGZ1bmN0aW9uLiByZW5kZXIoKSBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS4gSXQgc2hvdWxkIG5ldmVyIGFjY2VzcyBzb21ldGhpbmcgdGhhdCByZXF1aXJlcyBzdGFsZSBkYXRhIGZyb20gdGhlIHByZXZpb3VzIHJlbmRlciwgc3VjaCBhcyByZWZzLiBNb3ZlIHRoaXMgbG9naWMgdG8gY29tcG9uZW50RGlkTW91bnQgYW5kIGNvbXBvbmVudERpZFVwZGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIob3duZXIpIHx8IFwiQSBjb21wb25lbnRcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyID0gITA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoY29tcG9uZW50ID0gY29tcG9uZW50Ll9yZWFjdEludGVybmFscylcbiAgICAgICAgICAgID8gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihjb21wb25lbnQpID09PSBjb21wb25lbnRcbiAgICAgICAgICAgIDogITE7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKGluc3QsIHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgaW5zdCA9IGluc3QuX3JlYWN0SW50ZXJuYWxzO1xuICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUoaW5zdCksXG4gICAgICAgICAgICB1cGRhdGUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICAgICAgdXBkYXRlLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICAgIHZvaWQgMCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAod2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSwgKHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICAgICAgcGF5bG9hZCA9IGVucXVldWVVcGRhdGUoaW5zdCwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgICBudWxsICE9PSBwYXlsb2FkICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBheWxvYWQsIGluc3QsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhwYXlsb2FkLCBpbnN0LCBsYW5lKSk7XG4gICAgICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGluc3QsIGxhbmUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAoaW5zdCwgcGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpbnN0ID0gaW5zdC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShpbnN0KSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICB1cGRhdGUudGFnID0gUmVwbGFjZVN0YXRlO1xuICAgICAgICAgIHVwZGF0ZS5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgICB2b2lkIDAgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjayksICh1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgICAgIHBheWxvYWQgPSBlbnF1ZXVlVXBkYXRlKGluc3QsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICAgICAgbnVsbCAhPT0gcGF5bG9hZCAmJlxuICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXlsb2FkLCBpbnN0LCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMocGF5bG9hZCwgaW5zdCwgbGFuZSkpO1xuICAgICAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChpbnN0LCBsYW5lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbiAoaW5zdCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpbnN0ID0gaW5zdC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShpbnN0KSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICB1cGRhdGUudGFnID0gRm9yY2VVcGRhdGU7XG4gICAgICAgICAgdm9pZCAwICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgICh3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spLCAodXBkYXRlLmNhbGxiYWNrID0gY2FsbGJhY2spKTtcbiAgICAgICAgICBjYWxsYmFjayA9IGVucXVldWVVcGRhdGUoaW5zdCwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihjYWxsYmFjaywgaW5zdCwgbGFuZSksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKGNhbGxiYWNrLCBpbnN0LCBsYW5lKSk7XG4gICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrRm9yY2VVcGRhdGVTY2hlZHVsZWQgJiZcbiAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0ZvcmNlVXBkYXRlU2NoZWR1bGVkKGluc3QsIGxhbmUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXBvcnRFcnJvclxuICAgICAgICAgID8gcmVwb3J0RXJyb3JcbiAgICAgICAgICA6IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHdpbmRvdyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHdpbmRvdy5FcnJvckV2ZW50XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyB3aW5kb3cuRXJyb3JFdmVudChcImVycm9yXCIsIHtcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZXM6ICEwLFxuICAgICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogITAsXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlOlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZXJyb3IgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICA/IFN0cmluZyhlcnJvci5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghd2luZG93LmRpc3BhdGNoRXZlbnQoZXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb2Nlc3MgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9jZXNzLmVtaXRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbWl0KFwidW5jYXVnaHRFeGNlcHRpb25cIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICBjb21wb25lbnROYW1lID0gbnVsbCxcbiAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gbnVsbCxcbiAgICAgIFNlbGVjdGl2ZUh5ZHJhdGlvbkV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIlRoaXMgaXMgbm90IGEgcmVhbCBlcnJvci4gSXQncyBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwgb2YgUmVhY3QncyBzZWxlY3RpdmUgaHlkcmF0aW9uIGZlYXR1cmUuIElmIHRoaXMgbGVha3MgaW50byB1c2Vyc3BhY2UsIGl0J3MgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApLFxuICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9ICExO1xuICAgIHZhciBkaWRXYXJuQWJvdXRCYWRDbGFzcyA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZU9uRnVuY3Rpb25Db21wb25lbnQgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q29udGV4dFR5cGVzID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25Db21wb25lbnQgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyA9ICExO1xuICAgIHZhciBkaWRXYXJuQWJvdXRSZXZlYWxPcmRlciA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRUYWlsT3B0aW9ucyA9IHt9O1xuICAgIHZhciBTVVNQRU5ERURfTUFSS0VSID0ge1xuICAgICAgICBkZWh5ZHJhdGVkOiBudWxsLFxuICAgICAgICB0cmVlQ29udGV4dDogbnVsbCxcbiAgICAgICAgcmV0cnlMYW5lOiAwXG4gICAgICB9LFxuICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05vVmFsdWVQcm9wT25Db250ZXh0UHJvdmlkZXIgPSAhMSxcbiAgICAgIHZhbHVlQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICAgIHZhciByZW5kZXJlckN1cnNvckRFViA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgICB2YXIgcmVuZGVyZXJTaWdpbCA9IHt9O1xuICAgIHZhciBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IG51bGwsXG4gICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBudWxsLFxuICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExLFxuICAgICAgVXBkYXRlU3RhdGUgPSAwLFxuICAgICAgUmVwbGFjZVN0YXRlID0gMSxcbiAgICAgIEZvcmNlVXBkYXRlID0gMixcbiAgICAgIENhcHR1cmVVcGRhdGUgPSAzLFxuICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMTtcbiAgICB2YXIgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9ICExO1xuICAgIHZhciBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBudWxsO1xuICAgIHZhciBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITEsXG4gICAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG51bGw7XG4gICAgZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9ICExLFxuICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9ICExLFxuICAgICAgbmVlZHNGb3JtUmVzZXQgPSAhMSxcbiAgICAgIFBvc3NpYmx5V2Vha1NldCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtTZXQgPyBXZWFrU2V0IDogU2V0LFxuICAgICAgbmV4dEVmZmVjdCA9IG51bGwsXG4gICAgICBpblByb2dyZXNzTGFuZXMgPSBudWxsLFxuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSBudWxsLFxuICAgICAgc2hvdWxkRmlyZUFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyID0gITEsXG4gICAgICBob3N0UGFyZW50ID0gbnVsbCxcbiAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICExLFxuICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBudWxsLFxuICAgICAgc3VzcGVuc2V5Q29tbWl0RmxhZyA9IDgxOTI7XG4gICAgdmFyIGhhc0JhZE1hcFBvbHlmaWxsID0gITE7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBub25FeHRlbnNpYmxlT2JqZWN0ID0gT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KTtcbiAgICAgIG5ldyBNYXAoW1tub25FeHRlbnNpYmxlT2JqZWN0LCBudWxsXV0pO1xuICAgICAgbmV3IFNldChbbm9uRXh0ZW5zaWJsZU9iamVjdF0pO1xuICAgIH0gY2F0Y2ggKGUkNykge1xuICAgICAgaGFzQmFkTWFwUG9seWZpbGwgPSAhMDtcbiAgICB9XG4gICAgdmFyIERlZmF1bHRBc3luY0Rpc3BhdGNoZXIgPSB7XG4gICAgICBnZXRDYWNoZUZvclR5cGU6IGZ1bmN0aW9uIChyZXNvdXJjZVR5cGUpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gcmVhZENvbnRleHQoQ2FjaGVDb250ZXh0KSxcbiAgICAgICAgICBjYWNoZUZvclR5cGUgPSBjYWNoZS5kYXRhLmdldChyZXNvdXJjZVR5cGUpO1xuICAgICAgICB2b2lkIDAgPT09IGNhY2hlRm9yVHlwZSAmJlxuICAgICAgICAgICgoY2FjaGVGb3JUeXBlID0gcmVzb3VyY2VUeXBlKCkpLFxuICAgICAgICAgIGNhY2hlLmRhdGEuc2V0KHJlc291cmNlVHlwZSwgY2FjaGVGb3JUeXBlKSk7XG4gICAgICAgIHJldHVybiBjYWNoZUZvclR5cGU7XG4gICAgICB9LFxuICAgICAgZ2V0T3duZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5mb3IpIHtcbiAgICAgIHZhciBzeW1ib2xGb3IgPSBTeW1ib2wuZm9yO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IuY29tcG9uZW50XCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IuaGFzX3BzZXVkb19jbGFzc1wiKTtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLnJvbGVcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci50ZXN0X2lkXCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IudGV4dFwiKTtcbiAgICB9XG4gICAgdmFyIGNvbW1pdEhvb2tzID0gW10sXG4gICAgICBQb3NzaWJseVdlYWtNYXAgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcCxcbiAgICAgIE5vQ29udGV4dCA9IDAsXG4gICAgICBSZW5kZXJDb250ZXh0ID0gMixcbiAgICAgIENvbW1pdENvbnRleHQgPSA0LFxuICAgICAgUm9vdEluUHJvZ3Jlc3MgPSAwLFxuICAgICAgUm9vdEZhdGFsRXJyb3JlZCA9IDEsXG4gICAgICBSb290RXJyb3JlZCA9IDIsXG4gICAgICBSb290U3VzcGVuZGVkID0gMyxcbiAgICAgIFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgPSA0LFxuICAgICAgUm9vdENvbXBsZXRlZCA9IDUsXG4gICAgICBSb290RGlkTm90Q29tcGxldGUgPSA2LFxuICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IE5vQ29udGV4dCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDAsXG4gICAgICBOb3RTdXNwZW5kZWQgPSAwLFxuICAgICAgU3VzcGVuZGVkT25FcnJvciA9IDEsXG4gICAgICBTdXNwZW5kZWRPbkRhdGEgPSAyLFxuICAgICAgU3VzcGVuZGVkT25JbW1lZGlhdGUgPSAzLFxuICAgICAgU3VzcGVuZGVkT25JbnN0YW5jZSA9IDQsXG4gICAgICBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlID0gNSxcbiAgICAgIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZSA9IDYsXG4gICAgICBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWUgPSA3LFxuICAgICAgU3VzcGVuZGVkT25IeWRyYXRpb24gPSA4LFxuICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyA9ICExLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgPSAhMSxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEF0dGFjaFBpbmdMaXN0ZW5lciA9ICExLFxuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RJblByb2dyZXNzLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUgPSAhMSxcbiAgICAgIGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgPSAwLFxuICAgICAgRkFMTEJBQ0tfVEhST1RUTEVfTVMgPSAzMDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lID0gSW5maW5pdHksXG4gICAgICBSRU5ERVJfVElNRU9VVF9NUyA9IDUwMCxcbiAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMgPSBudWxsLFxuICAgICAgbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgPSBudWxsLFxuICAgICAgcm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgPSAhMSxcbiAgICAgIHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzID0gbnVsbCxcbiAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzID0gMCxcbiAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzID0gMCxcbiAgICAgIHBlbmRpbmdQYXNzaXZlVHJhbnNpdGlvbnMgPSBudWxsLFxuICAgICAgTkVTVEVEX1VQREFURV9MSU1JVCA9IDUwLFxuICAgICAgbmVzdGVkVXBkYXRlQ291bnQgPSAwLFxuICAgICAgcm9vdFdpdGhOZXN0ZWRVcGRhdGVzID0gbnVsbCxcbiAgICAgIGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyA9ICExLFxuICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9ICExLFxuICAgICAgTkVTVEVEX1BBU1NJVkVfVVBEQVRFX0xJTUlUID0gNTAsXG4gICAgICBuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwLFxuICAgICAgcm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IG51bGwsXG4gICAgICBpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMSxcbiAgICAgIElNTUVESUFURV9DT01NSVQgPSAwLFxuICAgICAgU1VTUEVOREVEX0NPTU1JVCA9IDEsXG4gICAgICBUSFJPVFRMRURfQ09NTUlUID0gMixcbiAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQgPSBudWxsLFxuICAgICAgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIgPSAhMTtcbiAgICB2YXIgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXJGb3JBbm90aGVyQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBmYWtlQWN0Q2FsbGJhY2tOb2RlJDEgPSB7fSxcbiAgICAgIGZpcnN0U2NoZWR1bGVkUm9vdCA9IG51bGwsXG4gICAgICBsYXN0U2NoZWR1bGVkUm9vdCA9IG51bGwsXG4gICAgICBkaWRTY2hlZHVsZU1pY3JvdGFzayA9ICExLFxuICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0ID0gITEsXG4gICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPSAhMSxcbiAgICAgIGlzRmx1c2hpbmdXb3JrID0gITEsXG4gICAgICBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSA9IDAsXG4gICAgICBmYWtlQWN0Q2FsbGJhY2tOb2RlID0ge307XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2ltcGxlRXZlbnRQbHVnaW5FdmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGV2ZW50TmFtZSA9IHNpbXBsZUV2ZW50UGx1Z2luRXZlbnRzW2ldLFxuICAgICAgICAgIGRvbUV2ZW50TmFtZSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBldmVudE5hbWUgPSBldmVudE5hbWVbMF0udG9VcHBlckNhc2UoKSArIGV2ZW50TmFtZS5zbGljZSgxKTtcbiAgICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChkb21FdmVudE5hbWUsIFwib25cIiArIGV2ZW50TmFtZSk7XG4gICAgICB9XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KEFOSU1BVElPTl9FTkQsIFwib25BbmltYXRpb25FbmRcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KEFOSU1BVElPTl9JVEVSQVRJT04sIFwib25BbmltYXRpb25JdGVyYXRpb25cIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KEFOSU1BVElPTl9TVEFSVCwgXCJvbkFuaW1hdGlvblN0YXJ0XCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChcImRibGNsaWNrXCIsIFwib25Eb3VibGVDbGlja1wiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoXCJmb2N1c2luXCIsIFwib25Gb2N1c1wiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoXCJmb2N1c291dFwiLCBcIm9uQmx1clwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoVFJBTlNJVElPTl9SVU4sIFwib25UcmFuc2l0aW9uUnVuXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX1NUQVJULCBcIm9uVHJhbnNpdGlvblN0YXJ0XCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX0NBTkNFTCwgXCJvblRyYW5zaXRpb25DYW5jZWxcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fRU5ELCBcIm9uVHJhbnNpdGlvbkVuZFwiKTtcbiAgICB9KSgpO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvbk1vdXNlRW50ZXJcIiwgW1wibW91c2VvdXRcIiwgXCJtb3VzZW92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvbk1vdXNlTGVhdmVcIiwgW1wibW91c2VvdXRcIiwgXCJtb3VzZW92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvblBvaW50ZXJFbnRlclwiLCBbXCJwb2ludGVyb3V0XCIsIFwicG9pbnRlcm92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyRGlyZWN0RXZlbnQoXCJvblBvaW50ZXJMZWF2ZVwiLCBbXCJwb2ludGVyb3V0XCIsIFwicG9pbnRlcm92ZXJcIl0pO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25DaGFuZ2VcIixcbiAgICAgIFwiY2hhbmdlIGNsaWNrIGZvY3VzaW4gZm9jdXNvdXQgaW5wdXQga2V5ZG93biBrZXl1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcbiAgICAgICAgXCIgXCJcbiAgICAgIClcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25TZWxlY3RcIixcbiAgICAgIFwiZm9jdXNvdXQgY29udGV4dG1lbnUgZHJhZ2VuZCBmb2N1c2luIGtleWRvd24ga2V5dXAgbW91c2Vkb3duIG1vdXNldXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXG4gICAgICAgIFwiIFwiXG4gICAgICApXG4gICAgKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXCJvbkJlZm9yZUlucHV0XCIsIFtcbiAgICAgIFwiY29tcG9zaXRpb25lbmRcIixcbiAgICAgIFwia2V5cHJlc3NcIixcbiAgICAgIFwidGV4dElucHV0XCIsXG4gICAgICBcInBhc3RlXCJcbiAgICBdKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXG4gICAgICBcIm9uQ29tcG9zaXRpb25FbmRcIixcbiAgICAgIFwiY29tcG9zaXRpb25lbmQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIilcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25Db21wb3NpdGlvblN0YXJ0XCIsXG4gICAgICBcImNvbXBvc2l0aW9uc3RhcnQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIilcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25Db21wb3NpdGlvblVwZGF0ZVwiLFxuICAgICAgXCJjb21wb3NpdGlvbnVwZGF0ZSBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKVxuICAgICk7XG4gICAgdmFyIG1lZGlhRXZlbnRUeXBlcyA9XG4gICAgICAgIFwiYWJvcnQgY2FucGxheSBjYW5wbGF5dGhyb3VnaCBkdXJhdGlvbmNoYW5nZSBlbXB0aWVkIGVuY3J5cHRlZCBlbmRlZCBlcnJvciBsb2FkZWRkYXRhIGxvYWRlZG1ldGFkYXRhIGxvYWRzdGFydCBwYXVzZSBwbGF5IHBsYXlpbmcgcHJvZ3Jlc3MgcmF0ZWNoYW5nZSByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdXNwZW5kIHRpbWV1cGRhdGUgdm9sdW1lY2hhbmdlIHdhaXRpbmdcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgbm9uRGVsZWdhdGVkRXZlbnRzID0gbmV3IFNldChcbiAgICAgICAgXCJiZWZvcmV0b2dnbGUgY2FuY2VsIGNsb3NlIGludmFsaWQgbG9hZCBzY3JvbGwgc2Nyb2xsZW5kIHRvZ2dsZVwiXG4gICAgICAgICAgLnNwbGl0KFwiIFwiKVxuICAgICAgICAgIC5jb25jYXQobWVkaWFFdmVudFR5cGVzKVxuICAgICAgKSxcbiAgICAgIGxpc3RlbmluZ01hcmtlciA9IFwiX3JlYWN0TGlzdGVuaW5nXCIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxcbiAgICAgIGRpZFdhcm5Db250cm9sbGVkVG9VbmNvbnRyb2xsZWQgPSAhMSxcbiAgICAgIGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSAhMSxcbiAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVHlwZSA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25OYW1lID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvblRhcmdldCA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgPSAhMSxcbiAgICAgIGRpZFdhcm5Qb3BvdmVyVGFyZ2V0T2JqZWN0ID0gITE7XG4gICAgdmFyIGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZSA9IHt9O1xuICAgIHZhciBjYW5EaWZmU3R5bGVGb3JIeWRyYXRpb25XYXJuaW5nID0gITA7XG4gICAgdmFyIE5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCA9IC9cXHJcXG4/L2csXG4gICAgICBOT1JNQUxJWkVfTlVMTF9BTkRfUkVQTEFDRU1FTlRfUkVHRVggPSAvXFx1MDAwMHxcXHVGRkZEL2csXG4gICAgICB4bGlua05hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgeG1sTmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIixcbiAgICAgIEVYUEVDVEVEX0ZPUk1fQUNUSU9OX1VSTCA9XG4gICAgICAgIFwiamF2YXNjcmlwdDp0aHJvdyBuZXcgRXJyb3IoJ1JlYWN0IGZvcm0gdW5leHBlY3RlZGx5IHN1Ym1pdHRlZC4nKVwiLFxuICAgICAgU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkcgPSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiLFxuICAgICAgU1VTUEVOU0VfU1RBUlRfREFUQSA9IFwiJFwiLFxuICAgICAgU1VTUEVOU0VfRU5EX0RBVEEgPSBcIi8kXCIsXG4gICAgICBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgPSBcIiQ/XCIsXG4gICAgICBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBID0gXCIkIVwiLFxuICAgICAgRk9STV9TVEFURV9JU19NQVRDSElORyA9IFwiRiFcIixcbiAgICAgIEZPUk1fU1RBVEVfSVNfTk9UX01BVENISU5HID0gXCJGXCIsXG4gICAgICBTVFlMRSA9IFwic3R5bGVcIixcbiAgICAgIEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZSA9IDAsXG4gICAgICBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZyA9IDEsXG4gICAgICBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGggPSAyLFxuICAgICAgZXZlbnRzRW5hYmxlZCA9IG51bGwsXG4gICAgICBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IG51bGwsXG4gICAgICB3YXJuZWRVbmtub3duVGFncyA9IHsgZGlhbG9nOiAhMCwgd2VidmlldzogITAgfSxcbiAgICAgIGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCA9IG51bGwsXG4gICAgICBzY2hlZHVsZVRpbWVvdXQgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzZXRUaW1lb3V0ID8gc2V0VGltZW91dCA6IHZvaWQgMCxcbiAgICAgIGNhbmNlbFRpbWVvdXQgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjbGVhclRpbWVvdXQgPyBjbGVhclRpbWVvdXQgOiB2b2lkIDAsXG4gICAgICBub1RpbWVvdXQgPSAtMSxcbiAgICAgIGxvY2FsUHJvbWlzZSA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFByb21pc2UgPyBQcm9taXNlIDogdm9pZCAwLFxuICAgICAgc2NoZWR1bGVNaWNyb3Rhc2sgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgID8gcXVldWVNaWNyb3Rhc2tcbiAgICAgICAgICA6IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsb2NhbFByb21pc2VcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsUHJvbWlzZVxuICAgICAgICAgICAgICAgICAgLnJlc29sdmUobnVsbClcbiAgICAgICAgICAgICAgICAgIC50aGVuKGNhbGxiYWNrKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKGhhbmRsZUVycm9ySW5OZXh0VGljayk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogc2NoZWR1bGVUaW1lb3V0LFxuICAgICAgTm90TG9hZGVkID0gMCxcbiAgICAgIExvYWRlZCA9IDEsXG4gICAgICBFcnJvcmVkID0gMixcbiAgICAgIFNldHRsZWQgPSAzLFxuICAgICAgSW5zZXJ0ZWQgPSA0LFxuICAgICAgcHJlbG9hZFByb3BzTWFwID0gbmV3IE1hcCgpLFxuICAgICAgcHJlY29ubmVjdHNTZXQgPSBuZXcgU2V0KCksXG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5kO1xuICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLmQgPSB7XG4gICAgICBmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1dhc1JlbmRlcmluZyA9IHByZXZpb3VzRGlzcGF0Y2hlci5mKCksXG4gICAgICAgICAgd2FzUmVuZGVyaW5nID0gZmx1c2hTeW5jV29yayQxKCk7XG4gICAgICAgIHJldHVybiBwcmV2aW91c1dhc1JlbmRlcmluZyB8fCB3YXNSZW5kZXJpbmc7XG4gICAgICB9LFxuICAgICAgcjogZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgICAgdmFyIGZvcm1JbnN0ID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShmb3JtKTtcbiAgICAgICAgbnVsbCAhPT0gZm9ybUluc3QgJiYgNSA9PT0gZm9ybUluc3QudGFnICYmIFwiZm9ybVwiID09PSBmb3JtSW5zdC50eXBlXG4gICAgICAgICAgPyByZXF1ZXN0Rm9ybVJlc2V0JDEoZm9ybUluc3QpXG4gICAgICAgICAgOiBwcmV2aW91c0Rpc3BhdGNoZXIucihmb3JtKTtcbiAgICAgIH0sXG4gICAgICBEOiBmdW5jdGlvbiAoaHJlZikge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuRChocmVmKTtcbiAgICAgICAgcHJlY29ubmVjdEFzKFwiZG5zLXByZWZldGNoXCIsIGhyZWYsIG51bGwpO1xuICAgICAgfSxcbiAgICAgIEM6IGZ1bmN0aW9uIChocmVmLCBjcm9zc09yaWdpbikge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuQyhocmVmLCBjcm9zc09yaWdpbik7XG4gICAgICAgIHByZWNvbm5lY3RBcyhcInByZWNvbm5lY3RcIiwgaHJlZiwgY3Jvc3NPcmlnaW4pO1xuICAgICAgfSxcbiAgICAgIEw6IGZ1bmN0aW9uIChocmVmLCBhcywgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuTChocmVmLCBhcywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIGhyZWYgJiYgYXMpIHtcbiAgICAgICAgICB2YXIgcHJlbG9hZFNlbGVjdG9yID1cbiAgICAgICAgICAgICdsaW5rW3JlbD1cInByZWxvYWRcIl1bYXM9XCInICtcbiAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoYXMpICtcbiAgICAgICAgICAgICdcIl0nO1xuICAgICAgICAgIFwiaW1hZ2VcIiA9PT0gYXNcbiAgICAgICAgICAgID8gb3B0aW9ucyAmJiBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgID8gKChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAgICdbaW1hZ2VzcmNzZXQ9XCInICtcbiAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgJ1wiXScpLFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmltYWdlU2l6ZXMgJiZcbiAgICAgICAgICAgICAgICAgIChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAgICAgJ1tpbWFnZXNpemVzPVwiJyArXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoXG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5pbWFnZVNpemVzXG4gICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICAnXCJdJykpXG4gICAgICAgICAgICAgIDogKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICAgJ1tocmVmPVwiJyArXG4gICAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICtcbiAgICAgICAgICAgICAgICAgICdcIl0nKVxuICAgICAgICAgICAgOiAocHJlbG9hZFNlbGVjdG9yICs9XG4gICAgICAgICAgICAgICAgJ1tocmVmPVwiJyArXG4gICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKSArXG4gICAgICAgICAgICAgICAgJ1wiXScpO1xuICAgICAgICAgIHZhciBrZXkgPSBwcmVsb2FkU2VsZWN0b3I7XG4gICAgICAgICAgc3dpdGNoIChhcykge1xuICAgICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICAgIGtleSA9IGdldFN0eWxlS2V5KGhyZWYpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAga2V5ID0gZ2V0U2NyaXB0S2V5KGhyZWYpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuaGFzKGtleSkgfHxcbiAgICAgICAgICAgICgoaHJlZiA9IGFzc2lnbihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbDogXCJwcmVsb2FkXCIsXG4gICAgICAgICAgICAgICAgaHJlZjpcbiAgICAgICAgICAgICAgICAgIFwiaW1hZ2VcIiA9PT0gYXMgJiYgb3B0aW9ucyAmJiBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgICAgICAgID8gdm9pZCAwXG4gICAgICAgICAgICAgICAgICAgIDogaHJlZixcbiAgICAgICAgICAgICAgICBhczogYXNcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuc2V0KGtleSwgaHJlZiksXG4gICAgICAgICAgICBudWxsICE9PSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJlbG9hZFNlbGVjdG9yKSB8fFxuICAgICAgICAgICAgICAoXCJzdHlsZVwiID09PSBhcyAmJlxuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgIChcInNjcmlwdFwiID09PSBhcyAmJlxuICAgICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KSkpIHx8XG4gICAgICAgICAgICAgICgoYXMgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKSxcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoYXMsIFwibGlua1wiLCBocmVmKSxcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShhcyksXG4gICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhcykpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG06IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5tKGhyZWYsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBocmVmKSB7XG4gICAgICAgICAgdmFyIGFzID1cbiAgICAgICAgICAgICAgb3B0aW9ucyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyA/IG9wdGlvbnMuYXMgOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgcHJlbG9hZFNlbGVjdG9yID1cbiAgICAgICAgICAgICAgJ2xpbmtbcmVsPVwibW9kdWxlcHJlbG9hZFwiXVthcz1cIicgK1xuICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGFzKSArXG4gICAgICAgICAgICAgICdcIl1baHJlZj1cIicgK1xuICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICtcbiAgICAgICAgICAgICAgJ1wiXScsXG4gICAgICAgICAgICBrZXkgPSBwcmVsb2FkU2VsZWN0b3I7XG4gICAgICAgICAgc3dpdGNoIChhcykge1xuICAgICAgICAgICAgY2FzZSBcImF1ZGlvd29ya2xldFwiOlxuICAgICAgICAgICAgY2FzZSBcInBhaW50d29ya2xldFwiOlxuICAgICAgICAgICAgY2FzZSBcInNlcnZpY2V3b3JrZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzaGFyZWR3b3JrZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ3b3JrZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAga2V5ID0gZ2V0U2NyaXB0S2V5KGhyZWYpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhcHJlbG9hZFByb3BzTWFwLmhhcyhrZXkpICYmXG4gICAgICAgICAgICAoKGhyZWYgPSBhc3NpZ24oeyByZWw6IFwibW9kdWxlcHJlbG9hZFwiLCBocmVmOiBocmVmIH0sIG9wdGlvbnMpKSxcbiAgICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5zZXQoa2V5LCBocmVmKSxcbiAgICAgICAgICAgIG51bGwgPT09IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihwcmVsb2FkU2VsZWN0b3IpKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgc3dpdGNoIChhcykge1xuICAgICAgICAgICAgICBjYXNlIFwiYXVkaW93b3JrbGV0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwYWludHdvcmtsZXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNlcnZpY2V3b3JrZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNoYXJlZHdvcmtlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwid29ya2VyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgICAgICBpZiAob3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpKSlcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGFzLCBcImxpbmtcIiwgaHJlZik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGFzKTtcbiAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChhcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgWDogZnVuY3Rpb24gKHNyYywgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuWChzcmMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBzcmMpIHtcbiAgICAgICAgICB2YXIgc2NyaXB0cyA9IGdldFJlc291cmNlc0Zyb21Sb290KG93bmVyRG9jdW1lbnQpLmhvaXN0YWJsZVNjcmlwdHMsXG4gICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoc3JjKSxcbiAgICAgICAgICAgIHJlc291cmNlID0gc2NyaXB0cy5nZXQoa2V5KTtcbiAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgKChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgKChzcmMgPSBhc3NpZ24oeyBzcmM6IHNyYywgYXN5bmM6ICEwIH0sIG9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgKG9wdGlvbnMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoc3JjLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSxcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShyZXNvdXJjZSksXG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHJlc291cmNlLCBcImxpbmtcIiwgc3JjKSxcbiAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHJlc291cmNlKSksXG4gICAgICAgICAgICAocmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNjcmlwdHMuc2V0KGtleSwgcmVzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFM6IGZ1bmN0aW9uIChocmVmLCBwcmVjZWRlbmNlLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5TKGhyZWYsIHByZWNlZGVuY2UsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBocmVmKSB7XG4gICAgICAgICAgdmFyIHN0eWxlcyA9IGdldFJlc291cmNlc0Zyb21Sb290KG93bmVyRG9jdW1lbnQpLmhvaXN0YWJsZVN0eWxlcyxcbiAgICAgICAgICAgIGtleSA9IGdldFN0eWxlS2V5KGhyZWYpO1xuICAgICAgICAgIHByZWNlZGVuY2UgPSBwcmVjZWRlbmNlIHx8IFwiZGVmYXVsdFwiO1xuICAgICAgICAgIHZhciByZXNvdXJjZSA9IHN0eWxlcy5nZXQoa2V5KTtcbiAgICAgICAgICBpZiAoIXJlc291cmNlKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB7IGxvYWRpbmc6IE5vdExvYWRlZCwgcHJlbG9hZDogbnVsbCB9O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgPSBMb2FkZWQgfCBJbnNlcnRlZDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBocmVmID0gYXNzaWduKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHJlbDogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgICAgICAgICAgXCJkYXRhLXByZWNlZGVuY2VcIjogcHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAob3B0aW9ucyA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQoaHJlZiwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgIHZhciBsaW5rID0gKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSk7XG4gICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUobGluayk7XG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGxpbmssIFwibGlua1wiLCBocmVmKTtcbiAgICAgICAgICAgICAgbGluay5fcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICBsaW5rLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgbGluay5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8PSBMb2FkZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8PSBFcnJvcmVkO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChyZXNvdXJjZSwgcHJlY2VkZW5jZSwgb3duZXJEb2N1bWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHN0eWxlcy5zZXQoa2V5LCByZXNvdXJjZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgTTogZnVuY3Rpb24gKHNyYywgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuTShzcmMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBzcmMpIHtcbiAgICAgICAgICB2YXIgc2NyaXB0cyA9IGdldFJlc291cmNlc0Zyb21Sb290KG93bmVyRG9jdW1lbnQpLmhvaXN0YWJsZVNjcmlwdHMsXG4gICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoc3JjKSxcbiAgICAgICAgICAgIHJlc291cmNlID0gc2NyaXB0cy5nZXQoa2V5KTtcbiAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgKChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgKChzcmMgPSBhc3NpZ24oeyBzcmM6IHNyYywgYXN5bmM6ICEwLCB0eXBlOiBcIm1vZHVsZVwiIH0sIG9wdGlvbnMpKSxcbiAgICAgICAgICAgICAgKG9wdGlvbnMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoc3JjLCBvcHRpb25zKSxcbiAgICAgICAgICAgICAgKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSxcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShyZXNvdXJjZSksXG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHJlc291cmNlLCBcImxpbmtcIiwgc3JjKSxcbiAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHJlc291cmNlKSksXG4gICAgICAgICAgICAocmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICAgIGluc3RhbmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgY291bnQ6IDEsXG4gICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHNjcmlwdHMuc2V0KGtleSwgcmVzb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGdsb2JhbERvY3VtZW50ID0gXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGRvY3VtZW50ID8gbnVsbCA6IGRvY3VtZW50LFxuICAgICAgdGFnQ2FjaGVzID0gbnVsbCxcbiAgICAgIHN1c3BlbmRlZFN0YXRlID0gbnVsbCxcbiAgICAgIExBU1RfUFJFQ0VERU5DRSA9IG51bGwsXG4gICAgICBwcmVjZWRlbmNlc0J5Um9vdCA9IG51bGwsXG4gICAgICBOb3RQZW5kaW5nVHJhbnNpdGlvbiA9IE5vdFBlbmRpbmcsXG4gICAgICBIb3N0VHJhbnNpdGlvbkNvbnRleHQgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBDb25zdW1lcjogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIF9jdXJyZW50VmFsdWUyOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgX3RocmVhZENvdW50OiAwXG4gICAgICB9LFxuICAgICAgYmFkZ2VGb3JtYXQgPSBcIiVjJXMlYyBcIixcbiAgICAgIGJhZGdlU3R5bGUgPVxuICAgICAgICBcImJhY2tncm91bmQ6ICNlNmU2ZTY7YmFja2dyb3VuZDogbGlnaHQtZGFyayhyZ2JhKDAsMCwwLDAuMSksIHJnYmEoMjU1LDI1NSwyNTUsMC4yNSkpO2NvbG9yOiAjMDAwMDAwO2NvbG9yOiBsaWdodC1kYXJrKCMwMDAwMDAsICNmZmZmZmYpO2JvcmRlci1yYWRpdXM6IDJweFwiLFxuICAgICAgcmVzZXRTdHlsZSA9IFwiXCIsXG4gICAgICBwYWQgPSBcIiBcIixcbiAgICAgIGJpbmQgPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZDtcbiAgICB2YXIgZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyA9ICExO1xuICAgIHZhciBvdmVycmlkZUhvb2tTdGF0ZSA9IG51bGwsXG4gICAgICBvdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGggPSBudWxsLFxuICAgICAgb3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlUHJvcHMgPSBudWxsLFxuICAgICAgb3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGggPSBudWxsLFxuICAgICAgb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGggPSBudWxsLFxuICAgICAgc2NoZWR1bGVVcGRhdGUgPSBudWxsLFxuICAgICAgc2V0RXJyb3JIYW5kbGVyID0gbnVsbCxcbiAgICAgIHNldFN1c3BlbnNlSGFuZGxlciA9IG51bGw7XG4gICAgb3ZlcnJpZGVIb29rU3RhdGUgPSBmdW5jdGlvbiAoZmliZXIsIGlkLCBwYXRoLCB2YWx1ZSkge1xuICAgICAgaWQgPSBmaW5kSG9vayhmaWJlciwgaWQpO1xuICAgICAgbnVsbCAhPT0gaWQgJiZcbiAgICAgICAgKChwYXRoID0gY29weVdpdGhTZXRJbXBsKGlkLm1lbW9pemVkU3RhdGUsIHBhdGgsIDAsIHZhbHVlKSksXG4gICAgICAgIChpZC5tZW1vaXplZFN0YXRlID0gcGF0aCksXG4gICAgICAgIChpZC5iYXNlU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGZpYmVyLm1lbW9pemVkUHJvcHMgPSBhc3NpZ24oe30sIGZpYmVyLm1lbW9pemVkUHJvcHMpKSxcbiAgICAgICAgKHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIHBhdGgpIHtcbiAgICAgIGlkID0gZmluZEhvb2soZmliZXIsIGlkKTtcbiAgICAgIG51bGwgIT09IGlkICYmXG4gICAgICAgICgocGF0aCA9IGNvcHlXaXRoRGVsZXRlSW1wbChpZC5tZW1vaXplZFN0YXRlLCBwYXRoLCAwKSksXG4gICAgICAgIChpZC5tZW1vaXplZFN0YXRlID0gcGF0aCksXG4gICAgICAgIChpZC5iYXNlU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGZpYmVyLm1lbW9pemVkUHJvcHMgPSBhc3NpZ24oe30sIGZpYmVyLm1lbW9pemVkUHJvcHMpKSxcbiAgICAgICAgKHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgIGlkID0gZmluZEhvb2soZmliZXIsIGlkKTtcbiAgICAgIG51bGwgIT09IGlkICYmXG4gICAgICAgICgob2xkUGF0aCA9IGNvcHlXaXRoUmVuYW1lKGlkLm1lbW9pemVkU3RhdGUsIG9sZFBhdGgsIG5ld1BhdGgpKSxcbiAgICAgICAgKGlkLm1lbW9pemVkU3RhdGUgPSBvbGRQYXRoKSxcbiAgICAgICAgKGlkLmJhc2VTdGF0ZSA9IG9sZFBhdGgpLFxuICAgICAgICAoZmliZXIubWVtb2l6ZWRQcm9wcyA9IGFzc2lnbih7fSwgZmliZXIubWVtb2l6ZWRQcm9wcykpLFxuICAgICAgICAob2xkUGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICBudWxsICE9PSBvbGRQYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihvbGRQYXRoLCBmaWJlciwgMikpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVQcm9wcyA9IGZ1bmN0aW9uIChmaWJlciwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IGNvcHlXaXRoU2V0SW1wbChmaWJlci5tZW1vaXplZFByb3BzLCBwYXRoLCAwLCB2YWx1ZSk7XG4gICAgICBmaWJlci5hbHRlcm5hdGUgJiYgKGZpYmVyLmFsdGVybmF0ZS5wZW5kaW5nUHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHMpO1xuICAgICAgcGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBvdmVycmlkZVByb3BzRGVsZXRlUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgcGF0aCkge1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gY29weVdpdGhEZWxldGVJbXBsKGZpYmVyLm1lbW9pemVkUHJvcHMsIHBhdGgsIDApO1xuICAgICAgZmliZXIuYWx0ZXJuYXRlICYmIChmaWJlci5hbHRlcm5hdGUucGVuZGluZ1Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzKTtcbiAgICAgIHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGggPSBmdW5jdGlvbiAoZmliZXIsIG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IGNvcHlXaXRoUmVuYW1lKFxuICAgICAgICBmaWJlci5tZW1vaXplZFByb3BzLFxuICAgICAgICBvbGRQYXRoLFxuICAgICAgICBuZXdQYXRoXG4gICAgICApO1xuICAgICAgZmliZXIuYWx0ZXJuYXRlICYmIChmaWJlci5hbHRlcm5hdGUucGVuZGluZ1Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzKTtcbiAgICAgIG9sZFBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gb2xkUGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIob2xkUGF0aCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgc2NoZWR1bGVVcGRhdGUgPSBmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKTtcbiAgICB9O1xuICAgIHNldEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChuZXdTaG91bGRFcnJvckltcGwpIHtcbiAgICAgIHNob3VsZEVycm9ySW1wbCA9IG5ld1Nob3VsZEVycm9ySW1wbDtcbiAgICB9O1xuICAgIHNldFN1c3BlbnNlSGFuZGxlciA9IGZ1bmN0aW9uIChuZXdTaG91bGRTdXNwZW5kSW1wbCkge1xuICAgICAgc2hvdWxkU3VzcGVuZEltcGwgPSBuZXdTaG91bGRTdXNwZW5kSW1wbDtcbiAgICB9O1xuICAgIHZhciBfZW5hYmxlZCA9ICEwLFxuICAgICAgcmV0dXJuX3RhcmdldEluc3QgPSBudWxsLFxuICAgICAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9ICExLFxuICAgICAgcXVldWVkRm9jdXMgPSBudWxsLFxuICAgICAgcXVldWVkRHJhZyA9IG51bGwsXG4gICAgICBxdWV1ZWRNb3VzZSA9IG51bGwsXG4gICAgICBxdWV1ZWRQb2ludGVycyA9IG5ldyBNYXAoKSxcbiAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcyA9IG5ldyBNYXAoKSxcbiAgICAgIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cyA9IFtdLFxuICAgICAgZGlzY3JldGVSZXBsYXlhYmxlRXZlbnRzID1cbiAgICAgICAgXCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjb3B5IGN1dCBwYXN0ZSBjbGljayBjaGFuZ2UgY29udGV4dG1lbnUgcmVzZXRcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgbGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID0gbnVsbDtcbiAgICBSZWFjdERPTUh5ZHJhdGlvblJvb3QucHJvdG90eXBlLnJlbmRlciA9IFJlYWN0RE9NUm9vdC5wcm90b3R5cGUucmVuZGVyID1cbiAgICAgIGZ1bmN0aW9uIChjaGlsZHJlbiwgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyKSB7XG4gICAgICAgIHZhciByb290ID0gdGhpcy5faW50ZXJuYWxSb290O1xuICAgICAgICBpZiAobnVsbCA9PT0gcm9vdCkgdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIGFuIHVubW91bnRlZCByb290LlwiKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImRvZXMgbm90IHN1cHBvcnQgdGhlIHNlY29uZCBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiBhIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGlzVmFsaWRDb250YWluZXIoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyKVxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiWW91IHBhc3NlZCBhIGNvbnRhaW5lciB0byB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIHJvb3QucmVuZGVyKC4uLikuIFlvdSBkb24ndCBuZWVkIHRvIHBhc3MgaXQgYWdhaW4gc2luY2UgeW91IGFscmVhZHkgcGFzc2VkIGl0IHRvIGNyZWF0ZSB0aGUgcm9vdC5cIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIllvdSBwYXNzZWQgYSBzZWNvbmQgYXJndW1lbnQgdG8gcm9vdC5yZW5kZXIoLi4uKSBidXQgaXQgb25seSBhY2NlcHRzIG9uZSBhcmd1bWVudC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIgPSByb290LmN1cnJlbnQ7XG4gICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyKTtcbiAgICAgICAgdXBkYXRlQ29udGFpbmVySW1wbChcbiAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIsXG4gICAgICAgICAgbGFuZSxcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICByb290LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICBSZWFjdERPTUh5ZHJhdGlvblJvb3QucHJvdG90eXBlLnVubW91bnQgPSBSZWFjdERPTVJvb3QucHJvdG90eXBlLnVubW91bnQgPVxuICAgICAgZnVuY3Rpb24gKEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMykge1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJkb2VzIG5vdCBzdXBwb3J0IGEgY2FsbGJhY2sgYXJndW1lbnQuIFRvIGV4ZWN1dGUgYSBzaWRlIGVmZmVjdCBhZnRlciByZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gYSBjb21wb25lbnQgYm9keSB3aXRoIHVzZUVmZmVjdCgpLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzID0gdGhpcy5faW50ZXJuYWxSb290O1xuICAgICAgICBpZiAobnVsbCAhPT0gSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzKSB7XG4gICAgICAgICAgdGhpcy5faW50ZXJuYWxSb290ID0gbnVsbDtcbiAgICAgICAgICB2YXIgY29udGFpbmVyID0gSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSAhPT0gTm9Db250ZXh0ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkF0dGVtcHRlZCB0byBzeW5jaHJvbm91c2x5IHVubW91bnQgYSByb290IHdoaWxlIFJlYWN0IHdhcyBhbHJlYWR5IHJlbmRlcmluZy4gUmVhY3QgY2Fubm90IGZpbmlzaCB1bm1vdW50aW5nIHRoZSByb290IHVudGlsIHRoZSBjdXJyZW50IHJlbmRlciBoYXMgY29tcGxldGVkLCB3aGljaCBtYXkgbGVhZCB0byBhIHJhY2UgY29uZGl0aW9uLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHVwZGF0ZUNvbnRhaW5lclN5bmMoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsdXNoU3luY1dvcmskMSgpO1xuICAgICAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgUmVhY3RET01IeWRyYXRpb25Sb290LnByb3RvdHlwZS51bnN0YWJsZV9zY2hlZHVsZUh5ZHJhdGlvbiA9IGZ1bmN0aW9uIChcbiAgICAgIHRhcmdldFxuICAgICkge1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB2YXIgdXBkYXRlUHJpb3JpdHkgPSByZXNvbHZlVXBkYXRlUHJpb3JpdHkoKTtcbiAgICAgICAgdGFyZ2V0ID0geyBibG9ja2VkT246IG51bGwsIHRhcmdldDogdGFyZ2V0LCBwcmlvcml0eTogdXBkYXRlUHJpb3JpdHkgfTtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgaSA8IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5sZW5ndGggJiZcbiAgICAgICAgICAwICE9PSB1cGRhdGVQcmlvcml0eSAmJlxuICAgICAgICAgIHVwZGF0ZVByaW9yaXR5IDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzW2ldLnByaW9yaXR5O1xuICAgICAgICAgIGkrK1xuICAgICAgICApO1xuICAgICAgICBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMuc3BsaWNlKGksIDAsIHRhcmdldCk7XG4gICAgICAgIDAgPT09IGkgJiYgYXR0ZW1wdEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0KHRhcmdldCk7XG4gICAgICB9XG4gICAgfTtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGlzb21vcnBoaWNSZWFjdFBhY2thZ2VWZXJzaW9uID0gUmVhY3QudmVyc2lvbjtcbiAgICAgIGlmIChcIjE5LjAuMFwiICE9PSBpc29tb3JwaGljUmVhY3RQYWNrYWdlVmVyc2lvbilcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ0luY29tcGF0aWJsZSBSZWFjdCB2ZXJzaW9uczogVGhlIFwicmVhY3RcIiBhbmQgXCJyZWFjdC1kb21cIiBwYWNrYWdlcyBtdXN0IGhhdmUgdGhlIGV4YWN0IHNhbWUgdmVyc2lvbi4gSW5zdGVhZCBnb3Q6XFxuICAtIHJlYWN0OiAgICAgICcgK1xuICAgICAgICAgICAgKGlzb21vcnBoaWNSZWFjdFBhY2thZ2VWZXJzaW9uICtcbiAgICAgICAgICAgICAgXCJcXG4gIC0gcmVhY3QtZG9tOiAgMTkuMC4wXFxuTGVhcm4gbW9yZTogaHR0cHM6Ly9yZWFjdC5kZXYvd2FybmluZ3MvdmVyc2lvbi1taXNtYXRjaFwiKVxuICAgICAgICApO1xuICAgIH0pKCk7XG4gICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcCAmJlxuICAgICAgbnVsbCAhPSBNYXAucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAucHJvdG90eXBlLmZvckVhY2ggJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldCAmJlxuICAgICAgbnVsbCAhPSBTZXQucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmNsZWFyICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmZvckVhY2gpIHx8XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlJlYWN0IGRlcGVuZHMgb24gTWFwIGFuZCBTZXQgYnVpbHQtaW4gdHlwZXMuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcmVhY3QtcG9seWZpbGxzXCJcbiAgICAgICk7XG4gICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMuZmluZERPTU5vZGUgPSBmdW5jdGlvbiAoY29tcG9uZW50T3JFbGVtZW50KSB7XG4gICAgICB2YXIgZmliZXIgPSBjb21wb25lbnRPckVsZW1lbnQuX3JlYWN0SW50ZXJuYWxzO1xuICAgICAgaWYgKHZvaWQgMCA9PT0gZmliZXIpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbXBvbmVudE9yRWxlbWVudC5yZW5kZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgICAgICBjb21wb25lbnRPckVsZW1lbnQgPSBPYmplY3Qua2V5cyhjb21wb25lbnRPckVsZW1lbnQpLmpvaW4oXCIsXCIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkFyZ3VtZW50IGFwcGVhcnMgdG8gbm90IGJlIGEgUmVhY3RDb21wb25lbnQuIEtleXM6IFwiICtcbiAgICAgICAgICAgIGNvbXBvbmVudE9yRWxlbWVudFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29tcG9uZW50T3JFbGVtZW50ID0gZmluZEN1cnJlbnRGaWJlclVzaW5nU2xvd1BhdGgoZmliZXIpO1xuICAgICAgY29tcG9uZW50T3JFbGVtZW50ID1cbiAgICAgICAgbnVsbCAhPT0gY29tcG9uZW50T3JFbGVtZW50XG4gICAgICAgICAgPyBmaW5kQ3VycmVudEhvc3RGaWJlckltcGwoY29tcG9uZW50T3JFbGVtZW50KVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIGNvbXBvbmVudE9yRWxlbWVudCA9XG4gICAgICAgIG51bGwgPT09IGNvbXBvbmVudE9yRWxlbWVudCA/IG51bGwgOiBjb21wb25lbnRPckVsZW1lbnQuc3RhdGVOb2RlO1xuICAgICAgcmV0dXJuIGNvbXBvbmVudE9yRWxlbWVudDtcbiAgICB9O1xuICAgIGlmIChcbiAgICAgICEoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaW50ZXJuYWxzID0ge1xuICAgICAgICAgIGJ1bmRsZVR5cGU6IDEsXG4gICAgICAgICAgdmVyc2lvbjogXCIxOS4wLjBcIixcbiAgICAgICAgICByZW5kZXJlclBhY2thZ2VOYW1lOiBcInJlYWN0LWRvbVwiLFxuICAgICAgICAgIGN1cnJlbnREaXNwYXRjaGVyUmVmOiBSZWFjdFNoYXJlZEludGVybmFscyxcbiAgICAgICAgICBmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTogZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUsXG4gICAgICAgICAgcmVjb25jaWxlclZlcnNpb246IFwiMTkuMC4wXCJcbiAgICAgICAgfTtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlSG9va1N0YXRlID0gb3ZlcnJpZGVIb29rU3RhdGU7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGggPSBvdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGg7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGggPSBvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGg7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZVByb3BzID0gb3ZlcnJpZGVQcm9wcztcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlUHJvcHNEZWxldGVQYXRoID0gb3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGg7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZVByb3BzUmVuYW1lUGF0aCA9IG92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoO1xuICAgICAgICBpbnRlcm5hbHMuc2NoZWR1bGVVcGRhdGUgPSBzY2hlZHVsZVVwZGF0ZTtcbiAgICAgICAgaW50ZXJuYWxzLnNldEVycm9ySGFuZGxlciA9IHNldEVycm9ySGFuZGxlcjtcbiAgICAgICAgaW50ZXJuYWxzLnNldFN1c3BlbnNlSGFuZGxlciA9IHNldFN1c3BlbnNlSGFuZGxlcjtcbiAgICAgICAgaW50ZXJuYWxzLnNjaGVkdWxlUmVmcmVzaCA9IHNjaGVkdWxlUmVmcmVzaDtcbiAgICAgICAgaW50ZXJuYWxzLnNjaGVkdWxlUm9vdCA9IHNjaGVkdWxlUm9vdDtcbiAgICAgICAgaW50ZXJuYWxzLnNldFJlZnJlc2hIYW5kbGVyID0gc2V0UmVmcmVzaEhhbmRsZXI7XG4gICAgICAgIGludGVybmFscy5nZXRDdXJyZW50RmliZXIgPSBnZXRDdXJyZW50RmliZXJGb3JEZXZUb29scztcbiAgICAgICAgaW50ZXJuYWxzLmdldExhbmVMYWJlbE1hcCA9IGdldExhbmVMYWJlbE1hcDtcbiAgICAgICAgaW50ZXJuYWxzLmluamVjdFByb2ZpbGluZ0hvb2tzID0gaW5qZWN0UHJvZmlsaW5nSG9va3M7XG4gICAgICAgIHJldHVybiBpbmplY3RJbnRlcm5hbHMoaW50ZXJuYWxzKTtcbiAgICAgIH0pKCkgJiZcbiAgICAgIGNhblVzZURPTSAmJlxuICAgICAgd2luZG93LnRvcCA9PT0gd2luZG93LnNlbGYgJiZcbiAgICAgICgoLTEgPCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJDaHJvbWVcIikgJiZcbiAgICAgICAgLTEgPT09IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkVkZ2VcIikpIHx8XG4gICAgICAgIC0xIDwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRmlyZWZveFwiKSlcbiAgICApIHtcbiAgICAgIHZhciBwcm90b2NvbCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgIC9eKGh0dHBzP3xmaWxlKTokLy50ZXN0KHByb3RvY29sKSAmJlxuICAgICAgICBjb25zb2xlLmluZm8oXG4gICAgICAgICAgXCIlY0Rvd25sb2FkIHRoZSBSZWFjdCBEZXZUb29scyBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1kZXZ0b29sc1wiICtcbiAgICAgICAgICAgIChcImZpbGU6XCIgPT09IHByb3RvY29sXG4gICAgICAgICAgICAgID8gXCJcXG5Zb3UgbWlnaHQgbmVlZCB0byB1c2UgYSBsb2NhbCBIVFRQIHNlcnZlciAoaW5zdGVhZCBvZiBmaWxlOi8vKTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1kZXZ0b29scy1mYXFcIlxuICAgICAgICAgICAgICA6IFwiXCIpLFxuICAgICAgICAgIFwiZm9udC13ZWlnaHQ6Ym9sZFwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGV4cG9ydHMuY3JlYXRlUm9vdCA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgIGlmICghaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuXCIpO1xuICAgICAgd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpO1xuICAgICAgdmFyIGlzU3RyaWN0TW9kZSA9ICExLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gXCJcIixcbiAgICAgICAgb25VbmNhdWdodEVycm9yID0gZGVmYXVsdE9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvciA9IGRlZmF1bHRPbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IgPSBkZWZhdWx0T25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzID0gbnVsbDtcbiAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmXG4gICAgICAgIChvcHRpb25zLmh5ZHJhdGVcbiAgICAgICAgICA/IGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJoeWRyYXRlIHRocm91Z2ggY3JlYXRlUm9vdCBpcyBkZXByZWNhdGVkLiBVc2UgUmVhY3RET01DbGllbnQuaHlkcmF0ZVJvb3QoY29udGFpbmVyLCA8QXBwIC8+KSBpbnN0ZWFkLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICAgICAgb3B0aW9ucy4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBwYXNzZWQgYSBKU1ggZWxlbWVudCB0byBjcmVhdGVSb290LiBZb3UgcHJvYmFibHkgbWVhbnQgdG8gY2FsbCByb290LnJlbmRlciBpbnN0ZWFkLiBFeGFtcGxlIHVzYWdlOlxcblxcbiAgbGV0IHJvb3QgPSBjcmVhdGVSb290KGRvbUNvbnRhaW5lcik7XFxuICByb290LnJlbmRlcig8QXBwIC8+KTtcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgITAgPT09IG9wdGlvbnMudW5zdGFibGVfc3RyaWN0TW9kZSAmJiAoaXNTdHJpY3RNb2RlID0gITApLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMuaWRlbnRpZmllclByZWZpeCAmJlxuICAgICAgICAgIChpZGVudGlmaWVyUHJlZml4ID0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4KSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciAmJlxuICAgICAgICAgIChvblVuY2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vbkNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uQ2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yICYmXG4gICAgICAgICAgKG9uUmVjb3ZlcmFibGVFcnJvciA9IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLnVuc3RhYmxlX3RyYW5zaXRpb25DYWxsYmFja3MgJiZcbiAgICAgICAgICAodHJhbnNpdGlvbkNhbGxiYWNrcyA9IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcykpO1xuICAgICAgb3B0aW9ucyA9IGNyZWF0ZUZpYmVyUm9vdChcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAxLFxuICAgICAgICAhMSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgaXNTdHJpY3RNb2RlLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyxcbiAgICAgICAgbnVsbFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSA9IG9wdGlvbnMuY3VycmVudDtcbiAgICAgIGxpc3RlblRvQWxsU3VwcG9ydGVkRXZlbnRzKFxuICAgICAgICA4ID09PSBjb250YWluZXIubm9kZVR5cGUgPyBjb250YWluZXIucGFyZW50Tm9kZSA6IGNvbnRhaW5lclxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgUmVhY3RET01Sb290KG9wdGlvbnMpO1xuICAgIH07XG4gICAgZXhwb3J0cy5oeWRyYXRlUm9vdCA9IGZ1bmN0aW9uIChjb250YWluZXIsIGluaXRpYWxDaGlsZHJlbiwgb3B0aW9ucykge1xuICAgICAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpXG4gICAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgICB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcik7XG4gICAgICB2b2lkIDAgPT09IGluaXRpYWxDaGlsZHJlbiAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiTXVzdCBwcm92aWRlIGluaXRpYWwgY2hpbGRyZW4gYXMgc2Vjb25kIGFyZ3VtZW50IHRvIGh5ZHJhdGVSb290LiBFeGFtcGxlIHVzYWdlOiBoeWRyYXRlUm9vdChkb21Db250YWluZXIsIDxBcHAgLz4pXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBpc1N0cmljdE1vZGUgPSAhMSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IFwiXCIsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvciA9IGRlZmF1bHRPblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IgPSBkZWZhdWx0T25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yID0gZGVmYXVsdE9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyA9IG51bGwsXG4gICAgICAgIGZvcm1TdGF0ZSA9IG51bGw7XG4gICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICAoITAgPT09IG9wdGlvbnMudW5zdGFibGVfc3RyaWN0TW9kZSAmJiAoaXNTdHJpY3RNb2RlID0gITApLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMuaWRlbnRpZmllclByZWZpeCAmJlxuICAgICAgICAgIChpZGVudGlmaWVyUHJlZml4ID0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4KSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciAmJlxuICAgICAgICAgIChvblVuY2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uVW5jYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vbkNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uQ2F1Z2h0RXJyb3IgPSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yICYmXG4gICAgICAgICAgKG9uUmVjb3ZlcmFibGVFcnJvciA9IG9wdGlvbnMub25SZWNvdmVyYWJsZUVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLnVuc3RhYmxlX3RyYW5zaXRpb25DYWxsYmFja3MgJiZcbiAgICAgICAgICAodHJhbnNpdGlvbkNhbGxiYWNrcyA9IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcyksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5mb3JtU3RhdGUgJiYgKGZvcm1TdGF0ZSA9IG9wdGlvbnMuZm9ybVN0YXRlKSk7XG4gICAgICBpbml0aWFsQ2hpbGRyZW4gPSBjcmVhdGVGaWJlclJvb3QoXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgMSxcbiAgICAgICAgITAsXG4gICAgICAgIGluaXRpYWxDaGlsZHJlbixcbiAgICAgICAgbnVsbCAhPSBvcHRpb25zID8gb3B0aW9ucyA6IG51bGwsXG4gICAgICAgIGlzU3RyaWN0TW9kZSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MsXG4gICAgICAgIGZvcm1TdGF0ZVxuICAgICAgKTtcbiAgICAgIGluaXRpYWxDaGlsZHJlbi5jb250ZXh0ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUobnVsbCk7XG4gICAgICBvcHRpb25zID0gaW5pdGlhbENoaWxkcmVuLmN1cnJlbnQ7XG4gICAgICBpc1N0cmljdE1vZGUgPSByZXF1ZXN0VXBkYXRlTGFuZShvcHRpb25zKTtcbiAgICAgIGlkZW50aWZpZXJQcmVmaXggPSBjcmVhdGVVcGRhdGUoaXNTdHJpY3RNb2RlKTtcbiAgICAgIGlkZW50aWZpZXJQcmVmaXguY2FsbGJhY2sgPSBudWxsO1xuICAgICAgZW5xdWV1ZVVwZGF0ZShvcHRpb25zLCBpZGVudGlmaWVyUHJlZml4LCBpc1N0cmljdE1vZGUpO1xuICAgICAgaW5pdGlhbENoaWxkcmVuLmN1cnJlbnQubGFuZXMgPSBpc1N0cmljdE1vZGU7XG4gICAgICBtYXJrUm9vdFVwZGF0ZWQkMShpbml0aWFsQ2hpbGRyZW4sIGlzU3RyaWN0TW9kZSk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQoaW5pdGlhbENoaWxkcmVuKTtcbiAgICAgIGNvbnRhaW5lcltpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSA9IGluaXRpYWxDaGlsZHJlbi5jdXJyZW50O1xuICAgICAgbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMoY29udGFpbmVyKTtcbiAgICAgIHJldHVybiBuZXcgUmVhY3RET01IeWRyYXRpb25Sb290KGluaXRpYWxDaGlsZHJlbik7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjAuMFwiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGNoZWNrRENFKCkge1xuICAvKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG4gIGlmIChcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fID09PSAndW5kZWZpbmVkJyB8fFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UgIT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gVGhpcyBicmFuY2ggaXMgdW5yZWFjaGFibGUgYmVjYXVzZSB0aGlzIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkXG4gICAgLy8gaW4gcHJvZHVjdGlvbiwgYnV0IHRoZSBjb25kaXRpb24gaXMgdHJ1ZSBvbmx5IGluIGRldmVsb3BtZW50LlxuICAgIC8vIFRoZXJlZm9yZSBpZiB0aGUgYnJhbmNoIGlzIHN0aWxsIGhlcmUsIGRlYWQgY29kZSBlbGltaW5hdGlvbiB3YXNuJ3RcbiAgICAvLyBwcm9wZXJseSBhcHBsaWVkLlxuICAgIC8vIERvbid0IGNoYW5nZSB0aGUgbWVzc2FnZS4gUmVhY3QgRGV2VG9vbHMgcmVsaWVzIG9uIGl0LiBBbHNvIG1ha2Ugc3VyZVxuICAgIC8vIHRoaXMgbWVzc2FnZSBkb2Vzbid0IG9jY3VyIGVsc2V3aGVyZSBpbiB0aGlzIGZ1bmN0aW9uLCBvciBpdCB3aWxsIGNhdXNlXG4gICAgLy8gYSBmYWxzZSBwb3NpdGl2ZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ15fXicpO1xuICB9XG4gIHRyeSB7XG4gICAgLy8gVmVyaWZ5IHRoYXQgdGhlIGNvZGUgYWJvdmUgaGFzIGJlZW4gZGVhZCBjb2RlIGVsaW1pbmF0ZWQgKERDRSdkKS5cbiAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UoY2hlY2tEQ0UpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEZXZUb29scyBzaG91bGRuJ3QgY3Jhc2ggUmVhY3QsIG5vIG1hdHRlciB3aGF0LlxuICAgIC8vIFdlIHNob3VsZCBzdGlsbCByZXBvcnQgaW4gY2FzZSB3ZSBicmVhayB0aGlzIGNvZGUuXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9XG59XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIC8vIERDRSBjaGVjayBzaG91bGQgaGFwcGVuIGJlZm9yZSBSZWFjdERPTSBidW5kbGUgZXhlY3V0ZXMgc28gdGhhdFxuICAvLyBEZXZUb29scyBjYW4gcmVwb3J0IGJhZCBtaW5pZmljYXRpb24gZHVyaW5nIGluamVjdGlvbi5cbiAgY2hlY2tEQ0UoKTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20tY2xpZW50LnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwKICAgICJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggY29va2llLW5hbWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKiBUaGlzIHJlZmVycyBvdXQgdG8gdGhlIG9ic29sZXRlZCBkZWZpbml0aW9uIG9mIHRva2VuIGluIFJGQyAyNjE2IHNlYyAyLjJcbiAqIHdoaWNoIGhhcyBiZWVuIHJlcGxhY2VkIGJ5IHRoZSB0b2tlbiBkZWZpbml0aW9uIGluIFJGQyA3MjMwIGFwcGVuZGl4IEIuXG4gKlxuICogY29va2llLW5hbWUgICAgICAgPSB0b2tlblxuICogdG9rZW4gICAgICAgICAgICAgPSAxKnRjaGFyXG4gKiB0Y2hhciAgICAgICAgICAgICA9IFwiIVwiIC8gXCIjXCIgLyBcIiRcIiAvIFwiJVwiIC8gXCImXCIgLyBcIidcIiAvXG4gKiAgICAgICAgICAgICAgICAgICAgIFwiKlwiIC8gXCIrXCIgLyBcIi1cIiAvIFwiLlwiIC8gXCJeXCIgLyBcIl9cIiAvXG4gKiAgICAgICAgICAgICAgICAgICAgIFwiYFwiIC8gXCJ8XCIgLyBcIn5cIiAvIERJR0lUIC8gQUxQSEFcbiAqXG4gKiBOb3RlOiBBbGxvd2luZyBtb3JlIGNoYXJhY3RlcnMgLSBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL2Nvb2tpZS9pc3N1ZXMvMTkxXG4gKiBBbGxvdyBzYW1lIHJhbmdlIGFzIGNvb2tpZSB2YWx1ZSwgZXhjZXB0IGA9YCwgd2hpY2ggZGVsaW1pdHMgZW5kIG9mIG5hbWUuXG4gKi9cbmNvbnN0IGNvb2tpZU5hbWVSZWdFeHAgPSAvXltcXHUwMDIxLVxcdTAwM0FcXHUwMDNDXFx1MDAzRS1cXHUwMDdFXSskLztcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGNvb2tpZS12YWx1ZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqXG4gKiBjb29raWUtdmFsdWUgICAgICA9ICpjb29raWUtb2N0ZXQgLyAoIERRVU9URSAqY29va2llLW9jdGV0IERRVU9URSApXG4gKiBjb29raWUtb2N0ZXQgICAgICA9ICV4MjEgLyAleDIzLTJCIC8gJXgyRC0zQSAvICV4M0MtNUIgLyAleDVELTdFXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgVVMtQVNDSUkgY2hhcmFjdGVycyBleGNsdWRpbmcgQ1RMcyxcbiAqICAgICAgICAgICAgICAgICAgICAgOyB3aGl0ZXNwYWNlIERRVU9URSwgY29tbWEsIHNlbWljb2xvbixcbiAqICAgICAgICAgICAgICAgICAgICAgOyBhbmQgYmFja3NsYXNoXG4gKlxuICogQWxsb3dpbmcgbW9yZSBjaGFyYWN0ZXJzOiBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL2Nvb2tpZS9pc3N1ZXMvMTkxXG4gKiBDb21tYSwgYmFja3NsYXNoLCBhbmQgRFFVT1RFIGFyZSBub3QgcGFydCBvZiB0aGUgcGFyc2luZyBhbGdvcml0aG0uXG4gKi9cbmNvbnN0IGNvb2tpZVZhbHVlUmVnRXhwID0gL15bXFx1MDAyMS1cXHUwMDNBXFx1MDAzQy1cXHUwMDdFXSokLztcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGRvbWFpbi12YWx1ZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqXG4gKiBkb21haW4tdmFsdWUgICAgICA9IDxzdWJkb21haW4+XG4gKiAgICAgICAgICAgICAgICAgICAgIDsgZGVmaW5lZCBpbiBbUkZDMTAzNF0sIFNlY3Rpb24gMy41LCBhc1xuICogICAgICAgICAgICAgICAgICAgICA7IGVuaGFuY2VkIGJ5IFtSRkMxMTIzXSwgU2VjdGlvbiAyLjFcbiAqIDxzdWJkb21haW4+ICAgICAgID0gPGxhYmVsPiB8IDxzdWJkb21haW4+IFwiLlwiIDxsYWJlbD5cbiAqIDxsYWJlbD4gICAgICAgICAgID0gPGxldC1kaWc+IFsgWyA8bGRoLXN0cj4gXSA8bGV0LWRpZz4gXVxuICogICAgICAgICAgICAgICAgICAgICBMYWJlbHMgbXVzdCBiZSA2MyBjaGFyYWN0ZXJzIG9yIGxlc3MuXG4gKiAgICAgICAgICAgICAgICAgICAgICdsZXQtZGlnJyBub3QgJ2xldHRlcicgaW4gdGhlIGZpcnN0IGNoYXIsIHBlciBSRkMxMTIzXG4gKiA8bGRoLXN0cj4gICAgICAgICA9IDxsZXQtZGlnLWh5cD4gfCA8bGV0LWRpZy1oeXA+IDxsZGgtc3RyPlxuICogPGxldC1kaWctaHlwPiAgICAgPSA8bGV0LWRpZz4gfCBcIi1cIlxuICogPGxldC1kaWc+ICAgICAgICAgPSA8bGV0dGVyPiB8IDxkaWdpdD5cbiAqIDxsZXR0ZXI+ICAgICAgICAgID0gYW55IG9uZSBvZiB0aGUgNTIgYWxwaGFiZXRpYyBjaGFyYWN0ZXJzIEEgdGhyb3VnaCBaIGluXG4gKiAgICAgICAgICAgICAgICAgICAgIHVwcGVyIGNhc2UgYW5kIGEgdGhyb3VnaCB6IGluIGxvd2VyIGNhc2VcbiAqIDxkaWdpdD4gICAgICAgICAgID0gYW55IG9uZSBvZiB0aGUgdGVuIGRpZ2l0cyAwIHRocm91Z2ggOVxuICpcbiAqIEtlZXAgc3VwcG9ydCBmb3IgbGVhZGluZyBkb3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9qc2h0dHAvY29va2llL2lzc3Vlcy8xNzNcbiAqXG4gKiA+IChOb3RlIHRoYXQgYSBsZWFkaW5nICV4MkUgKFwiLlwiKSwgaWYgcHJlc2VudCwgaXMgaWdub3JlZCBldmVuIHRob3VnaCB0aGF0XG4gKiBjaGFyYWN0ZXIgaXMgbm90IHBlcm1pdHRlZCwgYnV0IGEgdHJhaWxpbmcgJXgyRSAoXCIuXCIpLCBpZiBwcmVzZW50LCB3aWxsXG4gKiBjYXVzZSB0aGUgdXNlciBhZ2VudCB0byBpZ25vcmUgdGhlIGF0dHJpYnV0ZS4pXG4gKi9cbmNvbnN0IGRvbWFpblZhbHVlUmVnRXhwID0gL14oWy5dP1thLXowLTldKFthLXowLTktXXswLDYxfVthLXowLTldKT8pKFsuXVthLXowLTldKFthLXowLTktXXswLDYxfVthLXowLTldKT8pKiQvaTtcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIHBhdGgtdmFsdWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKlxuICogcGF0aC12YWx1ZSAgICAgICAgPSA8YW55IENIQVIgZXhjZXB0IENUTHMgb3IgXCI7XCI+XG4gKiBDSEFSICAgICAgICAgICAgICA9ICV4MDEtN0ZcbiAqICAgICAgICAgICAgICAgICAgICAgOyBkZWZpbmVkIGluIFJGQyA1MjM0IGFwcGVuZGl4IEIuMVxuICovXG5jb25zdCBwYXRoVmFsdWVSZWdFeHAgPSAvXltcXHUwMDIwLVxcdTAwM0FcXHUwMDNELVxcdTAwN0VdKiQvO1xuY29uc3QgX190b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCBOdWxsT2JqZWN0ID0gLyogQF9fUFVSRV9fICovICgoKSA9PiB7XG4gICAgY29uc3QgQyA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICBDLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgcmV0dXJuIEM7XG59KSgpO1xuLyoqXG4gKiBQYXJzZSBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogUGFyc2UgdGhlIGdpdmVuIGNvb2tpZSBoZWFkZXIgc3RyaW5nIGludG8gYW4gb2JqZWN0XG4gKiBUaGUgb2JqZWN0IGhhcyB0aGUgdmFyaW91cyBjb29raWVzIGFzIGtleXMobmFtZXMpID0+IHZhbHVlc1xuICovXG5mdW5jdGlvbiBwYXJzZShzdHIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBvYmogPSBuZXcgTnVsbE9iamVjdCgpO1xuICAgIGNvbnN0IGxlbiA9IHN0ci5sZW5ndGg7XG4gICAgLy8gUkZDIDYyNjUgc2VjIDQuMS4xLCBSRkMgMjYxNiAyLjIgZGVmaW5lcyBhIGNvb2tpZSBuYW1lIGNvbnNpc3RzIG9mIG9uZSBjaGFyIG1pbmltdW0sIHBsdXMgJz0nLlxuICAgIGlmIChsZW4gPCAyKVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIGNvbnN0IGRlYyA9IG9wdGlvbnM/LmRlY29kZSB8fCBkZWNvZGU7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IGVxSWR4ID0gc3RyLmluZGV4T2YoXCI9XCIsIGluZGV4KTtcbiAgICAgICAgaWYgKGVxSWR4ID09PSAtMSlcbiAgICAgICAgICAgIGJyZWFrOyAvLyBObyBtb3JlIGNvb2tpZSBwYWlycy5cbiAgICAgICAgY29uc3QgY29sb25JZHggPSBzdHIuaW5kZXhPZihcIjtcIiwgaW5kZXgpO1xuICAgICAgICBjb25zdCBlbmRJZHggPSBjb2xvbklkeCA9PT0gLTEgPyBsZW4gOiBjb2xvbklkeDtcbiAgICAgICAgaWYgKGVxSWR4ID4gZW5kSWR4KSB7XG4gICAgICAgICAgICAvLyBiYWNrdHJhY2sgb24gcHJpb3Igc2VtaWNvbG9uXG4gICAgICAgICAgICBpbmRleCA9IHN0ci5sYXN0SW5kZXhPZihcIjtcIiwgZXFJZHggLSAxKSArIDE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlTdGFydElkeCA9IHN0YXJ0SW5kZXgoc3RyLCBpbmRleCwgZXFJZHgpO1xuICAgICAgICBjb25zdCBrZXlFbmRJZHggPSBlbmRJbmRleChzdHIsIGVxSWR4LCBrZXlTdGFydElkeCk7XG4gICAgICAgIGNvbnN0IGtleSA9IHN0ci5zbGljZShrZXlTdGFydElkeCwga2V5RW5kSWR4KTtcbiAgICAgICAgLy8gb25seSBhc3NpZ24gb25jZVxuICAgICAgICBpZiAob2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IHZhbFN0YXJ0SWR4ID0gc3RhcnRJbmRleChzdHIsIGVxSWR4ICsgMSwgZW5kSWR4KTtcbiAgICAgICAgICAgIGxldCB2YWxFbmRJZHggPSBlbmRJbmRleChzdHIsIGVuZElkeCwgdmFsU3RhcnRJZHgpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBkZWMoc3RyLnNsaWNlKHZhbFN0YXJ0SWR4LCB2YWxFbmRJZHgpKTtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBlbmRJZHggKyAxO1xuICAgIH0gd2hpbGUgKGluZGV4IDwgbGVuKTtcbiAgICByZXR1cm4gb2JqO1xufVxuZnVuY3Rpb24gc3RhcnRJbmRleChzdHIsIGluZGV4LCBtYXgpIHtcbiAgICBkbyB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBzdHIuY2hhckNvZGVBdChpbmRleCk7XG4gICAgICAgIGlmIChjb2RlICE9PSAweDIwIC8qICAgKi8gJiYgY29kZSAhPT0gMHgwOSAvKiBcXHQgKi8pXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSB3aGlsZSAoKytpbmRleCA8IG1heCk7XG4gICAgcmV0dXJuIG1heDtcbn1cbmZ1bmN0aW9uIGVuZEluZGV4KHN0ciwgaW5kZXgsIG1pbikge1xuICAgIHdoaWxlIChpbmRleCA+IG1pbikge1xuICAgICAgICBjb25zdCBjb2RlID0gc3RyLmNoYXJDb2RlQXQoLS1pbmRleCk7XG4gICAgICAgIGlmIChjb2RlICE9PSAweDIwIC8qICAgKi8gJiYgY29kZSAhPT0gMHgwOSAvKiBcXHQgKi8pXG4gICAgICAgICAgICByZXR1cm4gaW5kZXggKyAxO1xuICAgIH1cbiAgICByZXR1cm4gbWluO1xufVxuLyoqXG4gKiBTZXJpYWxpemUgZGF0YSBpbnRvIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBTZXJpYWxpemUgYSBuYW1lIHZhbHVlIHBhaXIgaW50byBhIGNvb2tpZSBzdHJpbmcgc3VpdGFibGUgZm9yXG4gKiBodHRwIGhlYWRlcnMuIEFuIG9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHNwZWNpZmllcyBjb29raWUgcGFyYW1ldGVycy5cbiAqXG4gKiBzZXJpYWxpemUoJ2ZvbycsICdiYXInLCB7IGh0dHBPbmx5OiB0cnVlIH0pXG4gKiAgID0+IFwiZm9vPWJhcjsgaHR0cE9ubHlcIlxuICovXG5mdW5jdGlvbiBzZXJpYWxpemUobmFtZSwgdmFsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZW5jID0gb3B0aW9ucz8uZW5jb2RlIHx8IGVuY29kZVVSSUNvbXBvbmVudDtcbiAgICBpZiAoIWNvb2tpZU5hbWVSZWdFeHAudGVzdChuYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBhcmd1bWVudCBuYW1lIGlzIGludmFsaWQ6ICR7bmFtZX1gKTtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSBlbmModmFsKTtcbiAgICBpZiAoIWNvb2tpZVZhbHVlUmVnRXhwLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGFyZ3VtZW50IHZhbCBpcyBpbnZhbGlkOiAke3ZhbH1gKTtcbiAgICB9XG4gICAgbGV0IHN0ciA9IG5hbWUgKyBcIj1cIiArIHZhbHVlO1xuICAgIGlmICghb3B0aW9ucylcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICBpZiAob3B0aW9ucy5tYXhBZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIob3B0aW9ucy5tYXhBZ2UpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gbWF4QWdlIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5tYXhBZ2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBNYXgtQWdlPVwiICsgb3B0aW9ucy5tYXhBZ2U7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmRvbWFpbikge1xuICAgICAgICBpZiAoIWRvbWFpblZhbHVlUmVnRXhwLnRlc3Qob3B0aW9ucy5kb21haW4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gZG9tYWluIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5kb21haW59YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBEb21haW49XCIgKyBvcHRpb25zLmRvbWFpbjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGF0aCkge1xuICAgICAgICBpZiAoIXBhdGhWYWx1ZVJlZ0V4cC50ZXN0KG9wdGlvbnMucGF0aCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBwYXRoIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5wYXRofWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgUGF0aD1cIiArIG9wdGlvbnMucGF0aDtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZXhwaXJlcykge1xuICAgICAgICBpZiAoIWlzRGF0ZShvcHRpb25zLmV4cGlyZXMpIHx8XG4gICAgICAgICAgICAhTnVtYmVyLmlzRmluaXRlKG9wdGlvbnMuZXhwaXJlcy52YWx1ZU9mKCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gZXhwaXJlcyBpcyBpbnZhbGlkOiAke29wdGlvbnMuZXhwaXJlc31gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IEV4cGlyZXM9XCIgKyBvcHRpb25zLmV4cGlyZXMudG9VVENTdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuaHR0cE9ubHkpIHtcbiAgICAgICAgc3RyICs9IFwiOyBIdHRwT25seVwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zZWN1cmUpIHtcbiAgICAgICAgc3RyICs9IFwiOyBTZWN1cmVcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucGFydGl0aW9uZWQpIHtcbiAgICAgICAgc3RyICs9IFwiOyBQYXJ0aXRpb25lZFwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wcmlvcml0eSkge1xuICAgICAgICBjb25zdCBwcmlvcml0eSA9IHR5cGVvZiBvcHRpb25zLnByaW9yaXR5ID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IG9wdGlvbnMucHJpb3JpdHkudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHN3aXRjaCAocHJpb3JpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsb3dcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PUxvd1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGl1bVwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9TWVkaXVtXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaGlnaFwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9SGlnaFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gcHJpb3JpdHkgaXMgaW52YWxpZDogJHtvcHRpb25zLnByaW9yaXR5fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNhbWVTaXRlKSB7XG4gICAgICAgIGNvbnN0IHNhbWVTaXRlID0gdHlwZW9mIG9wdGlvbnMuc2FtZVNpdGUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgID8gb3B0aW9ucy5zYW1lU2l0ZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICA6IG9wdGlvbnMuc2FtZVNpdGU7XG4gICAgICAgIHN3aXRjaCAoc2FtZVNpdGUpIHtcbiAgICAgICAgICAgIGNhc2UgdHJ1ZTpcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpY3RcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPVN0cmljdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImxheFwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9TGF4XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9Tm9uZVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gc2FtZVNpdGUgaXMgaW52YWxpZDogJHtvcHRpb25zLnNhbWVTaXRlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG4vKipcbiAqIFVSTC1kZWNvZGUgc3RyaW5nIHZhbHVlLiBPcHRpbWl6ZWQgdG8gc2tpcCBuYXRpdmUgY2FsbCB3aGVuIG5vICUuXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShzdHIpIHtcbiAgICBpZiAoc3RyLmluZGV4T2YoXCIlXCIpID09PSAtMSlcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdmFsdWUgaXMgYSBEYXRlLlxuICovXG5mdW5jdGlvbiBpc0RhdGUodmFsKSB7XG4gICAgcmV0dXJuIF9fdG9TdHJpbmcuY2FsbCh2YWwpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsCiAgICAiXCJ1c2Ugc3RyaWN0XCI7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kaXN0YW5jZSA9IGV4cG9ydHMuY2xvc2VzdCA9IHZvaWQgMDtcbnZhciBwZXEgPSBuZXcgVWludDMyQXJyYXkoMHgxMDAwMCk7XG52YXIgbXllcnNfMzIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBuID0gYS5sZW5ndGg7XG4gICAgdmFyIG0gPSBiLmxlbmd0aDtcbiAgICB2YXIgbHN0ID0gMSA8PCAobiAtIDEpO1xuICAgIHZhciBwdiA9IC0xO1xuICAgIHZhciBtdiA9IDA7XG4gICAgdmFyIHNjID0gbjtcbiAgICB2YXIgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBwZXFbYS5jaGFyQ29kZUF0KGkpXSB8PSAxIDw8IGk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCBtOyBpKyspIHtcbiAgICAgICAgdmFyIGVxID0gcGVxW2IuY2hhckNvZGVBdChpKV07XG4gICAgICAgIHZhciB4diA9IGVxIHwgbXY7XG4gICAgICAgIGVxIHw9ICgoZXEgJiBwdikgKyBwdikgXiBwdjtcbiAgICAgICAgbXYgfD0gfihlcSB8IHB2KTtcbiAgICAgICAgcHYgJj0gZXE7XG4gICAgICAgIGlmIChtdiAmIGxzdCkge1xuICAgICAgICAgICAgc2MrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocHYgJiBsc3QpIHtcbiAgICAgICAgICAgIHNjLS07XG4gICAgICAgIH1cbiAgICAgICAgbXYgPSAobXYgPDwgMSkgfCAxO1xuICAgICAgICBwdiA9IChwdiA8PCAxKSB8IH4oeHYgfCBtdik7XG4gICAgICAgIG12ICY9IHh2O1xuICAgIH1cbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHBlcVthLmNoYXJDb2RlQXQoaSldID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHNjO1xufTtcbnZhciBteWVyc194ID0gZnVuY3Rpb24gKGIsIGEpIHtcbiAgICB2YXIgbiA9IGEubGVuZ3RoO1xuICAgIHZhciBtID0gYi5sZW5ndGg7XG4gICAgdmFyIG1oYyA9IFtdO1xuICAgIHZhciBwaGMgPSBbXTtcbiAgICB2YXIgaHNpemUgPSBNYXRoLmNlaWwobiAvIDMyKTtcbiAgICB2YXIgdnNpemUgPSBNYXRoLmNlaWwobSAvIDMyKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhzaXplOyBpKyspIHtcbiAgICAgICAgcGhjW2ldID0gLTE7XG4gICAgICAgIG1oY1tpXSA9IDA7XG4gICAgfVxuICAgIHZhciBqID0gMDtcbiAgICBmb3IgKDsgaiA8IHZzaXplIC0gMTsgaisrKSB7XG4gICAgICAgIHZhciBtdl8xID0gMDtcbiAgICAgICAgdmFyIHB2XzEgPSAtMTtcbiAgICAgICAgdmFyIHN0YXJ0XzEgPSBqICogMzI7XG4gICAgICAgIHZhciB2bGVuXzEgPSBNYXRoLm1pbigzMiwgbSkgKyBzdGFydF8xO1xuICAgICAgICBmb3IgKHZhciBrID0gc3RhcnRfMTsgayA8IHZsZW5fMTsgaysrKSB7XG4gICAgICAgICAgICBwZXFbYi5jaGFyQ29kZUF0KGspXSB8PSAxIDw8IGs7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBlcSA9IHBlcVthLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICAgICAgdmFyIHBiID0gKHBoY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgICAgICB2YXIgbWIgPSAobWhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgICAgIHZhciB4diA9IGVxIHwgbXZfMTtcbiAgICAgICAgICAgIHZhciB4aCA9ICgoKChlcSB8IG1iKSAmIHB2XzEpICsgcHZfMSkgXiBwdl8xKSB8IGVxIHwgbWI7XG4gICAgICAgICAgICB2YXIgcGggPSBtdl8xIHwgfih4aCB8IHB2XzEpO1xuICAgICAgICAgICAgdmFyIG1oID0gcHZfMSAmIHhoO1xuICAgICAgICAgICAgaWYgKChwaCA+Pj4gMzEpIF4gcGIpIHtcbiAgICAgICAgICAgICAgICBwaGNbKGkgLyAzMikgfCAwXSBePSAxIDw8IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKG1oID4+PiAzMSkgXiBtYikge1xuICAgICAgICAgICAgICAgIG1oY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBoID0gKHBoIDw8IDEpIHwgcGI7XG4gICAgICAgICAgICBtaCA9IChtaCA8PCAxKSB8IG1iO1xuICAgICAgICAgICAgcHZfMSA9IG1oIHwgfih4diB8IHBoKTtcbiAgICAgICAgICAgIG12XzEgPSBwaCAmIHh2O1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGsgPSBzdGFydF8xOyBrIDwgdmxlbl8xOyBrKyspIHtcbiAgICAgICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgbXYgPSAwO1xuICAgIHZhciBwdiA9IC0xO1xuICAgIHZhciBzdGFydCA9IGogKiAzMjtcbiAgICB2YXIgdmxlbiA9IE1hdGgubWluKDMyLCBtIC0gc3RhcnQpICsgc3RhcnQ7XG4gICAgZm9yICh2YXIgayA9IHN0YXJ0OyBrIDwgdmxlbjsgaysrKSB7XG4gICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldIHw9IDEgPDwgaztcbiAgICB9XG4gICAgdmFyIHNjb3JlID0gbTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICB2YXIgZXEgPSBwZXFbYS5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgdmFyIHBiID0gKHBoY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgIHZhciBtYiA9IChtaGNbKGkgLyAzMikgfCAwXSA+Pj4gaSkgJiAxO1xuICAgICAgICB2YXIgeHYgPSBlcSB8IG12O1xuICAgICAgICB2YXIgeGggPSAoKCgoZXEgfCBtYikgJiBwdikgKyBwdikgXiBwdikgfCBlcSB8IG1iO1xuICAgICAgICB2YXIgcGggPSBtdiB8IH4oeGggfCBwdik7XG4gICAgICAgIHZhciBtaCA9IHB2ICYgeGg7XG4gICAgICAgIHNjb3JlICs9IChwaCA+Pj4gKG0gLSAxKSkgJiAxO1xuICAgICAgICBzY29yZSAtPSAobWggPj4+IChtIC0gMSkpICYgMTtcbiAgICAgICAgaWYgKChwaCA+Pj4gMzEpIF4gcGIpIHtcbiAgICAgICAgICAgIHBoY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKG1oID4+PiAzMSkgXiBtYikge1xuICAgICAgICAgICAgbWhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICB9XG4gICAgICAgIHBoID0gKHBoIDw8IDEpIHwgcGI7XG4gICAgICAgIG1oID0gKG1oIDw8IDEpIHwgbWI7XG4gICAgICAgIHB2ID0gbWggfCB+KHh2IHwgcGgpO1xuICAgICAgICBtdiA9IHBoICYgeHY7XG4gICAgfVxuICAgIGZvciAodmFyIGsgPSBzdGFydDsgayA8IHZsZW47IGsrKykge1xuICAgICAgICBwZXFbYi5jaGFyQ29kZUF0KGspXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzY29yZTtcbn07XG52YXIgZGlzdGFuY2UgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCA8IGIubGVuZ3RoKSB7XG4gICAgICAgIHZhciB0bXAgPSBiO1xuICAgICAgICBiID0gYTtcbiAgICAgICAgYSA9IHRtcDtcbiAgICB9XG4gICAgaWYgKGIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBhLmxlbmd0aDtcbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoIDw9IDMyKSB7XG4gICAgICAgIHJldHVybiBteWVyc18zMihhLCBiKTtcbiAgICB9XG4gICAgcmV0dXJuIG15ZXJzX3goYSwgYik7XG59O1xuZXhwb3J0cy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xudmFyIGNsb3Nlc3QgPSBmdW5jdGlvbiAoc3RyLCBhcnIpIHtcbiAgICB2YXIgbWluX2Rpc3RhbmNlID0gSW5maW5pdHk7XG4gICAgdmFyIG1pbl9pbmRleCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRpc3QgPSBkaXN0YW5jZShzdHIsIGFycltpXSk7XG4gICAgICAgIGlmIChkaXN0IDwgbWluX2Rpc3RhbmNlKSB7XG4gICAgICAgICAgICBtaW5fZGlzdGFuY2UgPSBkaXN0O1xuICAgICAgICAgICAgbWluX2luZGV4ID0gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJyW21pbl9pbmRleF07XG59O1xuZXhwb3J0cy5jbG9zZXN0ID0gY2xvc2VzdDtcbiIsCiAgICAiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG4gIFxuICB2YXIgY29sbGF0b3I7XG4gIHRyeSB7XG4gICAgY29sbGF0b3IgPSAodHlwZW9mIEludGwgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIEludGwuQ29sbGF0b3IgIT09IFwidW5kZWZpbmVkXCIpID8gSW50bC5Db2xsYXRvcihcImdlbmVyaWNcIiwgeyBzZW5zaXRpdml0eTogXCJiYXNlXCIgfSkgOiBudWxsO1xuICB9IGNhdGNoIChlcnIpe1xuICAgIGNvbnNvbGUubG9nKFwiQ29sbGF0b3IgY291bGQgbm90IGJlIGluaXRpYWxpemVkIGFuZCB3b3VsZG4ndCBiZSB1c2VkXCIpO1xuICB9XG5cbiAgdmFyIGxldmVuc2h0ZWluID0gcmVxdWlyZSgnZmFzdGVzdC1sZXZlbnNodGVpbicpO1xuXG4gIC8vIGFycmF5cyB0byByZS11c2VcbiAgdmFyIHByZXZSb3cgPSBbXSxcbiAgICBzdHIyQ2hhciA9IFtdO1xuICBcbiAgLyoqXG4gICAqIEJhc2VkIG9uIHRoZSBhbGdvcml0aG0gYXQgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXZlbnNodGVpbl9kaXN0YW5jZS5cbiAgICovXG4gIHZhciBMZXZlbnNodGVpbiA9IHtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGV2ZW5zaHRlaW4gZGlzdGFuY2Ugb2YgdGhlIHR3byBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHN0cjEgU3RyaW5nIHRoZSBmaXJzdCBzdHJpbmcuXG4gICAgICogQHBhcmFtIHN0cjIgU3RyaW5nIHRoZSBzZWNvbmQgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBbb3B0aW9uc10gQWRkaXRpb25hbCBvcHRpb25zLlxuICAgICAqIEBwYXJhbSBbb3B0aW9ucy51c2VDb2xsYXRvcl0gVXNlIGBJbnRsLkNvbGxhdG9yYCBmb3IgbG9jYWxlLXNlbnNpdGl2ZSBzdHJpbmcgY29tcGFyaXNvbi5cbiAgICAgKiBAcmV0dXJuIEludGVnZXIgdGhlIGxldmVuc2h0ZWluIGRpc3RhbmNlICgwIGFuZCBhYm92ZSkuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihzdHIxLCBzdHIyLCBvcHRpb25zKSB7XG4gICAgICB2YXIgdXNlQ29sbGF0b3IgPSAob3B0aW9ucyAmJiBjb2xsYXRvciAmJiBvcHRpb25zLnVzZUNvbGxhdG9yKTtcbiAgICAgIFxuICAgICAgaWYgKHVzZUNvbGxhdG9yKSB7XG4gICAgICAgIHZhciBzdHIxTGVuID0gc3RyMS5sZW5ndGgsXG4gICAgICAgICAgc3RyMkxlbiA9IHN0cjIubGVuZ3RoO1xuICAgICAgICBcbiAgICAgICAgLy8gYmFzZSBjYXNlc1xuICAgICAgICBpZiAoc3RyMUxlbiA9PT0gMCkgcmV0dXJuIHN0cjJMZW47XG4gICAgICAgIGlmIChzdHIyTGVuID09PSAwKSByZXR1cm4gc3RyMUxlbjtcblxuICAgICAgICAvLyB0d28gcm93c1xuICAgICAgICB2YXIgY3VyQ29sLCBuZXh0Q29sLCBpLCBqLCB0bXA7XG5cbiAgICAgICAgLy8gaW5pdGlhbGlzZSBwcmV2aW91cyByb3dcbiAgICAgICAgZm9yIChpPTA7IGk8c3RyMkxlbjsgKytpKSB7XG4gICAgICAgICAgcHJldlJvd1tpXSA9IGk7XG4gICAgICAgICAgc3RyMkNoYXJbaV0gPSBzdHIyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJldlJvd1tzdHIyTGVuXSA9IHN0cjJMZW47XG5cbiAgICAgICAgdmFyIHN0ckNtcDtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGN1cnJlbnQgcm93IGRpc3RhbmNlIGZyb20gcHJldmlvdXMgcm93IHVzaW5nIGNvbGxhdG9yXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBzdHIxTGVuOyArK2kpIHtcbiAgICAgICAgICBuZXh0Q29sID0gaSArIDE7XG5cbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc3RyMkxlbjsgKytqKSB7XG4gICAgICAgICAgICBjdXJDb2wgPSBuZXh0Q29sO1xuXG4gICAgICAgICAgICAvLyBzdWJzdHV0aW9uXG4gICAgICAgICAgICBzdHJDbXAgPSAwID09PSBjb2xsYXRvci5jb21wYXJlKHN0cjEuY2hhckF0KGkpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKHN0cjJDaGFyW2pdKSk7XG5cbiAgICAgICAgICAgIG5leHRDb2wgPSBwcmV2Um93W2pdICsgKHN0ckNtcCA/IDAgOiAxKTtcblxuICAgICAgICAgICAgLy8gaW5zZXJ0aW9uXG4gICAgICAgICAgICB0bXAgPSBjdXJDb2wgKyAxO1xuICAgICAgICAgICAgaWYgKG5leHRDb2wgPiB0bXApIHtcbiAgICAgICAgICAgICAgbmV4dENvbCA9IHRtcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlbGV0aW9uXG4gICAgICAgICAgICB0bXAgPSBwcmV2Um93W2ogKyAxXSArIDE7XG4gICAgICAgICAgICBpZiAobmV4dENvbCA+IHRtcCkge1xuICAgICAgICAgICAgICBuZXh0Q29sID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjb3B5IGN1cnJlbnQgY29sIHZhbHVlIGludG8gcHJldmlvdXMgKGluIHByZXBhcmF0aW9uIGZvciBuZXh0IGl0ZXJhdGlvbilcbiAgICAgICAgICAgIHByZXZSb3dbal0gPSBjdXJDb2w7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gY29weSBsYXN0IGNvbCB2YWx1ZSBpbnRvIHByZXZpb3VzIChpbiBwcmVwYXJhdGlvbiBmb3IgbmV4dCBpdGVyYXRpb24pXG4gICAgICAgICAgcHJldlJvd1tqXSA9IG5leHRDb2w7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHRDb2w7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGV2ZW5zaHRlaW4uZGlzdGFuY2Uoc3RyMSwgc3RyMik7XG4gICAgfVxuXG4gIH07XG5cbiAgLy8gYW1kXG4gIGlmICh0eXBlb2YgZGVmaW5lICE9PSBcInVuZGVmaW5lZFwiICYmIGRlZmluZSAhPT0gbnVsbCAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIExldmVuc2h0ZWluO1xuICAgIH0pO1xuICB9XG4gIC8vIGNvbW1vbmpzXG4gIGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlICE9PSBudWxsICYmIHR5cGVvZiBleHBvcnRzICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZS5leHBvcnRzID09PSBleHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBMZXZlbnNodGVpbjtcbiAgfVxuICAvLyB3ZWIgd29ya2VyXG4gIGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBzZWxmLnBvc3RNZXNzYWdlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzZWxmLmltcG9ydFNjcmlwdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBzZWxmLkxldmVuc2h0ZWluID0gTGV2ZW5zaHRlaW47XG4gIH1cbiAgLy8gYnJvd3NlciBtYWluIHRocmVhZFxuICBlbHNlIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdyAhPT0gbnVsbCkge1xuICAgIHdpbmRvdy5MZXZlbnNodGVpbiA9IExldmVuc2h0ZWluO1xuICB9XG59KCkpO1xuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDJcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBjb25zb2xlO1xuICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmVycm9yO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwID1cbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgIFwiT2JqZWN0XCI7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdC5jYWxsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCxcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG4gICAgZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNhYmxlZERlcHRoKys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAgICAgIGRpc2FibGVkRGVwdGgtLTtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHsgY29uZmlndXJhYmxlOiAhMCwgZW51bWVyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2TG9nIH0pLFxuICAgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZJbmZvIH0pLFxuICAgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZXYXJuIH0pLFxuICAgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2RXJyb3IgfSksXG4gICAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cCB9KSxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkIH0pLFxuICAgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBFbmQgfSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAwID4gZGlzYWJsZWREZXB0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHByZWZpeClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICBwcmVmaXggPSAobWF0Y2ggJiYgbWF0Y2hbMV0pIHx8IFwiXCI7XG4gICAgICAgICAgc3VmZml4ID1cbiAgICAgICAgICAgIC0xIDwgeC5zdGFjay5pbmRleE9mKFwiXFxuICAgIGF0XCIpXG4gICAgICAgICAgICAgID8gXCIgKDxhbm9ueW1vdXM+KVwiXG4gICAgICAgICAgICAgIDogLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJAXCIpXG4gICAgICAgICAgICAgICAgPyBcIkB1bmtub3duOjA6MFwiXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcXG5cIiArIHByZWZpeCArIG5hbWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAgICAgaWYgKCFmbiB8fCByZWVudHJ5KSByZXR1cm4gXCJcIjtcbiAgICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGZyYW1lKSByZXR1cm4gZnJhbWU7XG4gICAgICByZWVudHJ5ID0gITA7XG4gICAgICBmcmFtZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gbnVsbDtcbiAgICAgIGRpc2FibGVMb2dzKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgICAgICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCBcInByb3BzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sID0geCQwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKEZha2UgPSBmbigpKSAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgRmFrZS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgRmFrZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNhbXBsZS5zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NhbXBsZS5zdGFjaywgY29udHJvbC5zdGFja107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LmRpc3BsYXlOYW1lID1cbiAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiO1xuICAgICAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgXCJuYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICAgIFwibmFtZVwiLFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIiB9XG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIF9SdW5JblJvb3RGcmFtZSREZXRlciA9XG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgICBzYW1wbGVTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclswXSxcbiAgICAgICAgICBjb250cm9sU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMV07XG4gICAgICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGVTdGFjay5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2xTdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gbmFtZVByb3BEZXNjcmlwdG9yID0gMDtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIXNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IrKztcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyIDwgY29udHJvbExpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIWNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyKys7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID09PSBzYW1wbGVMaW5lcy5sZW5ndGggfHxcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9PT0gY29udHJvbExpbmVzLmxlbmd0aFxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyICYmXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl07XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS07XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLS0sIF9SdW5JblJvb3RGcmFtZSREZXRlci0tXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgxICE9PSBuYW1lUHJvcERlc2NyaXB0b3IgfHwgMSAhPT0gX1J1bkluUm9vdEZyYW1lJERldGVyKSB7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKG5hbWVQcm9wRGVzY3JpcHRvci0tLFxuICAgICAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLSxcbiAgICAgICAgICAgICAgICAgICAgMCA+IF9SdW5JblJvb3RGcmFtZSREZXRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBuZXcgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZuLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLCBmbi5kaXNwbGF5TmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlICgxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChyZWVudHJ5ID0gITEpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldmlvdXNEaXNwYXRjaGVyKSxcbiAgICAgICAgICByZWVuYWJsZUxvZ3MoKSxcbiAgICAgICAgICAoRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmcmFtZSk7XG4gICAgICB9XG4gICAgICBzYW1wbGVMaW5lcyA9IChzYW1wbGVMaW5lcyA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6IFwiXCIpXG4gICAgICAgID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoc2FtcGxlTGluZXMpXG4gICAgICAgIDogXCJcIjtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzYW1wbGVMaW5lcyk7XG4gICAgICByZXR1cm4gc2FtcGxlTGluZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gXCJcIjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKSB7XG4gICAgICAgIHZhciBwcm90b3R5cGUgPSB0eXBlLnByb3RvdHlwZTtcbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICAhKCFwcm90b3R5cGUgfHwgIXByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlXCIpO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZSA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIsICExKSksIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUudHlwZSk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBwcm90b3R5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUocHJvdG90eXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gZGlzcGF0Y2hlciA/IG51bGwgOiBkaXNwYXRjaGVyLmdldE93bmVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsIFwia2V5XCIpLmdldDtcbiAgICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbmZpZy5rZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICAgICAgZnVuY3Rpb24gd2FybkFib3V0QWNjZXNzaW5nS2V5KCkge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biB8fFxuICAgICAgICAgICgoc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSAhMCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSB2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50IHByb3AuIChodHRwczovL3JlYWN0LmRldi9saW5rL3NwZWNpYWwtcHJvcHMpXCIsXG4gICAgICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gITA7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsIFwia2V5XCIsIHtcbiAgICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZygpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHRoaXMudHlwZSk7XG4gICAgICBkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICgoZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFjY2Vzc2luZyBlbGVtZW50LnJlZiB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gcmVmIGlzIG5vdyBhIHJlZ3VsYXIgcHJvcC4gSXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEpTWCBFbGVtZW50IHR5cGUgaW4gYSBmdXR1cmUgcmVsZWFzZS5cIlxuICAgICAgICApKTtcbiAgICAgIGNvbXBvbmVudE5hbWUgPSB0aGlzLnByb3BzLnJlZjtcbiAgICAgIHJldHVybiB2b2lkIDAgIT09IGNvbXBvbmVudE5hbWUgPyBjb21wb25lbnROYW1lIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgICAgIHNlbGYgPSBwcm9wcy5yZWY7XG4gICAgICB0eXBlID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG93bmVyXG4gICAgICB9O1xuICAgICAgbnVsbCAhPT0gKHZvaWQgMCAhPT0gc2VsZiA/IHNlbGYgOiBudWxsKVxuICAgICAgICA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgICAgIGdldDogZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICB9KVxuICAgICAgICA6IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcInJlZlwiLCB7IGVudW1lcmFibGU6ICExLCB2YWx1ZTogbnVsbCB9KTtcbiAgICAgIHR5cGUuX3N0b3JlID0ge307XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZS5fc3RvcmUsIFwidmFsaWRhdGVkXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IDBcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwiX2RlYnVnSW5mb1wiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5mcmVlemUgJiYgKE9iamVjdC5mcmVlemUodHlwZS5wcm9wcyksIE9iamVjdC5mcmVlemUodHlwZSkpO1xuICAgICAgcmV0dXJuIHR5cGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGpzeERFVkltcGwoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxIHx8XG4gICAgICAgICAgICB2b2lkIDAgIT09IHR5cGUuZ2V0TW9kdWxlSWQpKVxuICAgICAgKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gY2hpbGRyZW4pXG4gICAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pXG4gICAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9IDA7XG4gICAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA8IGNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuKytcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2lzU3RhdGljQ2hpbGRyZW5dLCB0eXBlKTtcbiAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiBVc2UgdGhlIEJhYmVsIHRyYW5zZm9ybSBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgZWxzZSB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbiwgdHlwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IFwiXCI7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB2b2lkIDAgPT09IHR5cGUgfHxcbiAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAgIDAgPT09IE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aClcbiAgICAgICAgKVxuICAgICAgICAgIGNoaWxkcmVuICs9XG4gICAgICAgICAgICBcIiBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSBpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG4gICAgICAgIG51bGwgPT09IHR5cGVcbiAgICAgICAgICA/IChpc1N0YXRpY0NoaWxkcmVuID0gXCJudWxsXCIpXG4gICAgICAgICAgOiBpc0FycmF5SW1wbCh0eXBlKVxuICAgICAgICAgICAgPyAoaXNTdGF0aWNDaGlsZHJlbiA9IFwiYXJyYXlcIilcbiAgICAgICAgICAgIDogdm9pZCAwICE9PSB0eXBlICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgICAgICAgICA/ICgoaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgICAgICAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJVbmtub3duXCIpICtcbiAgICAgICAgICAgICAgICAgIFwiIC8+XCIpLFxuICAgICAgICAgICAgICAgIChjaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgICBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSlcbiAgICAgICAgICAgICAgOiAoaXNTdGF0aWNDaGlsZHJlbiA9IHR5cGVvZiB0eXBlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSBjb21wb25lbnRzKSBidXQgZ290OiAlcy4lc1wiLFxuICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoY29uZmlnKS5maWx0ZXIoZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlcIiAhPT0gaztcbiAgICAgICAgfSk7XG4gICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPVxuICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aFxuICAgICAgICAgICAgPyBcIntrZXk6IHNvbWVLZXksIFwiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCJcbiAgICAgICAgICAgIDogXCJ7a2V5OiBzb21lS2V5fVwiO1xuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSB8fFxuICAgICAgICAgICgoa2V5cyA9XG4gICAgICAgICAgICAwIDwga2V5cy5sZW5ndGggPyBcIntcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiIDogXCJ7fVwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0EgcHJvcHMgb2JqZWN0IGNvbnRhaW5pbmcgYSBcImtleVwiIHByb3AgaXMgYmVpbmcgc3ByZWFkIGludG8gSlNYOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMgey4uLnByb3BzfSAvPlxcblJlYWN0IGtleXMgbXVzdCBiZSBwYXNzZWQgZGlyZWN0bHkgdG8gSlNYIHdpdGhvdXQgdXNpbmcgc3ByZWFkOlxcbiAgbGV0IHByb3BzID0gJXM7XFxuICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JyxcbiAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgIGtleXMsXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dID0gITApKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZvaWQgMCAhPT0gbWF5YmVLZXkgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgbWF5YmVLZXkpKTtcbiAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICBpZiAoXCJrZXlcIiBpbiBjb25maWcpIHtcbiAgICAgICAgbWF5YmVLZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmIChtYXliZUtleVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIH0gZWxzZSBtYXliZUtleSA9IGNvbmZpZztcbiAgICAgIGNoaWxkcmVuICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIG1heWJlS2V5LFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBjaGlsZHJlbiwgc2VsZiwgc291cmNlLCBnZXRPd25lcigpLCBtYXliZUtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5vZGUgJiZcbiAgICAgICAgbm9kZSAmJlxuICAgICAgICBub2RlLiQkdHlwZW9mICE9PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICApXG4gICAgICAgIGlmIChpc0FycmF5SW1wbChub2RlKSlcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSlcbiAgICAgICAgICBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIChudWxsID09PSBub2RlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBub2RlXG4gICAgICAgICAgICA/IChpID0gbnVsbClcbiAgICAgICAgICAgIDogKChpID1cbiAgICAgICAgICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG5vZGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgICAgICAgICBub2RlW1wiQEBpdGVyYXRvclwiXSksXG4gICAgICAgICAgICAgIChpID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSA/IGkgOiBudWxsKSksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSAmJlxuICAgICAgICAgICAgaSAhPT0gbm9kZS5lbnRyaWVzICYmXG4gICAgICAgICAgICAoKGkgPSBpLmNhbGwobm9kZSkpLCBpICE9PSBub2RlKSlcbiAgICAgICAgKVxuICAgICAgICAgIGZvciAoOyAhKG5vZGUgPSBpLm5leHQoKSkuZG9uZTsgKVxuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQobm9kZS52YWx1ZSkgJiZcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShub2RlLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2JqZWN0ICYmXG4gICAgICAgIG51bGwgIT09IG9iamVjdCAmJlxuICAgICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGVsZW1lbnQuX3N0b3JlICYmXG4gICAgICAgICFlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgbnVsbCA9PSBlbGVtZW50LmtleSAmJlxuICAgICAgICAoKGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IDEpLFxuICAgICAgICAocGFyZW50VHlwZSA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkpLFxuICAgICAgICAhb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdKVxuICAgICAgKSB7XG4gICAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSA9ICEwO1xuICAgICAgICB2YXIgY2hpbGRPd25lciA9IFwiXCI7XG4gICAgICAgIGVsZW1lbnQgJiZcbiAgICAgICAgICBudWxsICE9IGVsZW1lbnQuX293bmVyICYmXG4gICAgICAgICAgZWxlbWVudC5fb3duZXIgIT09IGdldE93bmVyKCkgJiZcbiAgICAgICAgICAoKGNoaWxkT3duZXIgPSBudWxsKSxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIudGFnXG4gICAgICAgICAgICA/IChjaGlsZE93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpKVxuICAgICAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudC5fb3duZXIubmFtZSAmJlxuICAgICAgICAgICAgICAoY2hpbGRPd25lciA9IGVsZW1lbnQuX293bmVyLm5hbWUpLFxuICAgICAgICAgIChjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBjaGlsZE93bmVyICsgXCIuXCIpKTtcbiAgICAgICAgdmFyIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2s7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlKTtcbiAgICAgICAgICBwcmV2R2V0Q3VycmVudFN0YWNrICYmIChzdGFjayArPSBwcmV2R2V0Q3VycmVudFN0YWNrKCkgfHwgXCJcIik7XG4gICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICB9O1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyxcbiAgICAgICAgICBwYXJlbnRUeXBlLFxuICAgICAgICAgIGNoaWxkT3duZXJcbiAgICAgICAgKTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gcHJldkdldEN1cnJlbnRTdGFjaztcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9IFwiXCIsXG4gICAgICAgIG93bmVyID0gZ2V0T3duZXIoKTtcbiAgICAgIG93bmVyICYmXG4gICAgICAgIChvd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShvd25lci50eXBlKSkgJiZcbiAgICAgICAgKGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyICsgXCJgLlwiKTtcbiAgICAgIGluZm8gfHxcbiAgICAgICAgKChwYXJlbnRUeXBlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpKSAmJlxuICAgICAgICAgIChpbmZvID1cbiAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnRUeXBlICsgXCI+LlwiKSk7XG4gICAgICByZXR1cm4gaW5mbztcbiAgICB9XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTtcbiAgICB2YXIgUkVBQ1RfQ09OU1VNRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25zdW1lclwiKSxcbiAgICAgIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpLFxuICAgICAgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSxcbiAgICAgIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpLFxuICAgICAgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIiksXG4gICAgICBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5vZmZzY3JlZW5cIiksXG4gICAgICBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3IsXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgZGlzYWJsZWREZXB0aCA9IDAsXG4gICAgICBwcmV2TG9nLFxuICAgICAgcHJldkluZm8sXG4gICAgICBwcmV2V2FybixcbiAgICAgIHByZXZFcnJvcixcbiAgICAgIHByZXZHcm91cCxcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCxcbiAgICAgIHByZXZHcm91cEVuZDtcbiAgICBkaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSAhMDtcbiAgICB2YXIgcHJlZml4LFxuICAgICAgc3VmZml4LFxuICAgICAgcmVlbnRyeSA9ICExO1xuICAgIHZhciBjb21wb25lbnRGcmFtZUNhY2hlID0gbmV3IChcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwXG4gICAgKSgpO1xuICAgIHZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fSxcbiAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICAgIGV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuICAgIGV4cG9ydHMuanN4REVWID0gZnVuY3Rpb24gKFxuICAgICAgdHlwZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1heWJlS2V5LFxuICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGZcbiAgICApIHtcbiAgICAgIHJldHVybiBqc3hERVZJbXBsKHR5cGUsIGNvbmZpZywgbWF5YmVLZXksIGlzU3RhdGljQ2hpbGRyZW4sIHNvdXJjZSwgc2VsZik7XG4gICAgfTtcbiAgfSkoKTtcbiIsCiAgICAiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IExPR08gZnJvbSBcIi4vaW1nL2xvZ28ucG5nXCI7IGV4cG9ydCB7IExPR08gfTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTiBmcm9tIFwiLi9pbWcvYmlnX3N0YXJfYW5kX3NtYWxsZXJfc3Rhcl9pY29uLnBuZ1wiOyBleHBvcnQgeyBCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT04gfTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IFNFQVJDSF9CQVJfSUNPTiBmcm9tIFwiLi9pbWcvc2VhcmNoX2ljb24ucG5nXCI7IGV4cG9ydCB7IFNFQVJDSF9CQVJfSUNPTiB9O1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgUExBQ0VIT0xERVIgZnJvbSBcIi4vaW1nL3BsYWNlaG9sZGVyLmpwZ1wiOyBleHBvcnQgeyBQTEFDRUhPTERFUiB9O1xuXG5leHBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgRGlzcGF0Y2gsXG4gICAgdHlwZSBTZXRTdGF0ZUFjdGlvbixcbiAgICB0eXBlIENTU1Byb3BlcnRpZXMsXG4gICAgdXNlRWZmZWN0LFxuICAgIHVzZVN0YXRlXG59IGZyb20gXCJyZWFjdFwiO1xuXG5leHBvcnQge1xuICAgIGNyZWF0ZVJvb3QgYXMgUm9vdFxufSBmcm9tIFwicmVhY3QtZG9tL2NsaWVudFwiO1xuXG5leHBvcnQge1xuICAgIEJyb3dzZXJSb3V0ZXIsXG4gICAgUm91dGVzLFxuICAgIFJvdXRlLFxuICAgIExpbmssXG4gICAgdHlwZSBMaW5rUHJvcHNcbn0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuZXhwb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZiBhcyBTcHJpbmdDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXG4gICAgdXNlU3ByaW5nLFxuICAgIHVzZVNwcmluZ3MsXG4gICAgYW5pbWF0ZWRcbn0gZnJvbSBcInJlYWN0LXNwcmluZ1wiO1xuXG5leHBvcnQge1xuICAgIGdldCBhcyBzb3J0IFxufSBmcm9tIFwiZmFzdC1sZXZlbnNodGVpblwiO1xuXG5leHBvcnQge1xuICAgIHR5cGUgU3RyaXBlIGFzIFN0cmlwZVNvY2tldCxcbiAgICBsb2FkU3RyaXBlIGFzIFN0cmlwZVxufSBmcm9tIFwiQHN0cmlwZS9zdHJpcGUtanNcIjtcblxuZXhwb3J0ICogZnJvbSBcIkBjb21tb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vaW1hZ2VfY2Fyb3VzZWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vcmV2ZWFsX3RvZ2dsZWRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vcmV2ZWFsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvY29uc3RhbnQvY29sb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9mb250XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvY29uc3RhbnQvc2hhZG93XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2Zvcm0vZm9ybV9pbnB1dFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2Zvcm0vZm9ybV9tZXNzYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbGF5b3V0L3BhZ2Vfd2l0aF8yX2hvcml6b250YWxfc2VjdGlvbnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZV93aXRoXzNfdmVydGljYWxfc2VjdGlvbnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfYnV0dG9uX2dyb3VwXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbl9pY29uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9jYWxsX3RvX2FjdGlvbl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2xvZ29cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X21hdGVyaWFsc19kcm9wX2Rvd25fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zZWFyY2hfYmFyX3BhcnRpYWxfYnVpbGRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NlYXJjaF9iYXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NpZ25faW5fZm9ybVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2lnbl91cF9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc3VnZ2VzdGlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9wYWdlL2Jhc2tldF9wYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvcGFnZS9mb3JfeW91X3BhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9wYWdlL2hvbWVfcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3BheW1lbnQvY2hlY2tvdXRfYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvc3ByaXRlL3Nwcml0ZV9pY29uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvc3ByaXRlL3Nwcml0ZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2JvZHlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9jYXB0aW9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfaGVhZGluZ1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2l0ZW1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9yb3dcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9zeW1ib2xfYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfd3JhcHBlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdHlwb2dyYXBoeS90eXBvZ3JhcGh5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdXRpbC9yZW5kZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC91dGlsL3Rlcm1pbmFsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdXRpbF90eXBlL3N0YXRlXCI7IiwKICAgICIvKipcbiAqIHJlYWN0LXJvdXRlciB2Ny4zLjBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIFJlbWl4IFNvZnR3YXJlIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UubWQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xudmFyIF9fdHlwZUVycm9yID0gKG1zZykgPT4ge1xuICB0aHJvdyBUeXBlRXJyb3IobXNnKTtcbn07XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiBtZW1iZXIuaGFzKG9iaikgfHwgX190eXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG5cbi8vIGxpYi9yb3V0ZXIvaGlzdG9yeS50c1xudmFyIEFjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyAoKEFjdGlvbjIpID0+IHtcbiAgQWN0aW9uMltcIlBvcFwiXSA9IFwiUE9QXCI7XG4gIEFjdGlvbjJbXCJQdXNoXCJdID0gXCJQVVNIXCI7XG4gIEFjdGlvbjJbXCJSZXBsYWNlXCJdID0gXCJSRVBMQUNFXCI7XG4gIHJldHVybiBBY3Rpb24yO1xufSkoQWN0aW9uIHx8IHt9KTtcbnZhciBQb3BTdGF0ZUV2ZW50VHlwZSA9IFwicG9wc3RhdGVcIjtcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3Rvcnkob3B0aW9ucyA9IHt9KSB7XG4gIGxldCB7IGluaXRpYWxFbnRyaWVzID0gW1wiL1wiXSwgaW5pdGlhbEluZGV4LCB2NUNvbXBhdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBsZXQgZW50cmllcztcbiAgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChcbiAgICAoZW50cnksIGluZGV4MikgPT4gY3JlYXRlTWVtb3J5TG9jYXRpb24oXG4gICAgICBlbnRyeSxcbiAgICAgIHR5cGVvZiBlbnRyeSA9PT0gXCJzdHJpbmdcIiA/IG51bGwgOiBlbnRyeS5zdGF0ZSxcbiAgICAgIGluZGV4MiA9PT0gMCA/IFwiZGVmYXVsdFwiIDogdm9pZCAwXG4gICAgKVxuICApO1xuICBsZXQgaW5kZXggPSBjbGFtcEluZGV4KFxuICAgIGluaXRpYWxJbmRleCA9PSBudWxsID8gZW50cmllcy5sZW5ndGggLSAxIDogaW5pdGlhbEluZGV4XG4gICk7XG4gIGxldCBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IGxpc3RlbmVyID0gbnVsbDtcbiAgZnVuY3Rpb24gY2xhbXBJbmRleChuKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIDApLCBlbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB9XG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcbiAgICByZXR1cm4gZW50cmllc1tpbmRleF07XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlID0gbnVsbCwga2V5KSB7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXG4gICAgICBlbnRyaWVzID8gZ2V0Q3VycmVudExvY2F0aW9uKCkucGF0aG5hbWUgOiBcIi9cIixcbiAgICAgIHRvLFxuICAgICAgc3RhdGUsXG4gICAgICBrZXlcbiAgICApO1xuICAgIHdhcm5pbmcoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgPT09IFwiL1wiLFxuICAgICAgYHJlbGF0aXZlIHBhdGhuYW1lcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBtZW1vcnkgaGlzdG9yeTogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgdG9cbiAgICAgICl9YFxuICAgICk7XG4gICAgcmV0dXJuIGxvY2F0aW9uO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYyKHRvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSB7XG4gICAgZ2V0IGluZGV4KCkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG4gICAgZ2V0IGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfSxcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0Q3VycmVudExvY2F0aW9uKCk7XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmMixcbiAgICBjcmVhdGVVUkwodG8pIHtcbiAgICAgIHJldHVybiBuZXcgVVJMKGNyZWF0ZUhyZWYyKHRvKSwgXCJodHRwOi8vbG9jYWxob3N0XCIpO1xuICAgIH0sXG4gICAgZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgICAgIGxldCBwYXRoID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aG5hbWU6IHBhdGgucGF0aG5hbWUgfHwgXCJcIixcbiAgICAgICAgc2VhcmNoOiBwYXRoLnNlYXJjaCB8fCBcIlwiLFxuICAgICAgICBoYXNoOiBwYXRoLmhhc2ggfHwgXCJcIlxuICAgICAgfTtcbiAgICB9LFxuICAgIHB1c2godG8sIHN0YXRlKSB7XG4gICAgICBhY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSk7XG4gICAgICBpbmRleCArPSAxO1xuICAgICAgZW50cmllcy5zcGxpY2UoaW5kZXgsIGVudHJpZXMubGVuZ3RoLCBuZXh0TG9jYXRpb24pO1xuICAgICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YTogMSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlcGxhY2UodG8sIHN0YXRlKSB7XG4gICAgICBhY3Rpb24gPSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSk7XG4gICAgICBlbnRyaWVzW2luZGV4XSA9IG5leHRMb2NhdGlvbjtcbiAgICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGE6IDAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnbyhkZWx0YSkge1xuICAgICAgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gICAgICBsZXQgbmV4dEluZGV4ID0gY2xhbXBJbmRleChpbmRleCArIGRlbHRhKTtcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBlbnRyaWVzW25leHRJbmRleF07XG4gICAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGEgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsaXN0ZW4oZm4pIHtcbiAgICAgIGxpc3RlbmVyID0gZm47XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShvcHRpb25zID0ge30pIHtcbiAgZnVuY3Rpb24gY3JlYXRlQnJvd3NlckxvY2F0aW9uKHdpbmRvdzIsIGdsb2JhbEhpc3RvcnkpIHtcbiAgICBsZXQgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0gPSB3aW5kb3cyLmxvY2F0aW9uO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihcbiAgICAgIFwiXCIsXG4gICAgICB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICAgIC8vIHN0YXRlIGRlZmF1bHRzIHRvIGBudWxsYCBiZWNhdXNlIGB3aW5kb3cuaGlzdG9yeS5zdGF0ZWAgZG9lc1xuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLnVzciB8fCBudWxsLFxuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLmtleSB8fCBcImRlZmF1bHRcIlxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQnJvd3NlckhyZWYod2luZG93MiwgdG8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgfVxuICByZXR1cm4gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICAgIGNyZWF0ZUJyb3dzZXJMb2NhdGlvbixcbiAgICBjcmVhdGVCcm93c2VySHJlZixcbiAgICBudWxsLFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICBmdW5jdGlvbiBjcmVhdGVIYXNoTG9jYXRpb24od2luZG93MiwgZ2xvYmFsSGlzdG9yeSkge1xuICAgIGxldCB7XG4gICAgICBwYXRobmFtZSA9IFwiL1wiLFxuICAgICAgc2VhcmNoID0gXCJcIixcbiAgICAgIGhhc2ggPSBcIlwiXG4gICAgfSA9IHBhcnNlUGF0aCh3aW5kb3cyLmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTtcbiAgICBpZiAoIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpICYmICFwYXRobmFtZS5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgcGF0aG5hbWUgPSBcIi9cIiArIHBhdGhuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24oXG4gICAgICBcIlwiLFxuICAgICAgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0sXG4gICAgICAvLyBzdGF0ZSBkZWZhdWx0cyB0byBgbnVsbGAgYmVjYXVzZSBgd2luZG93Lmhpc3Rvcnkuc3RhdGVgIGRvZXNcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS51c3IgfHwgbnVsbCxcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS5rZXkgfHwgXCJkZWZhdWx0XCJcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUhhc2hIcmVmKHdpbmRvdzIsIHRvKSB7XG4gICAgbGV0IGJhc2UgPSB3aW5kb3cyLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpO1xuICAgIGxldCBocmVmMiA9IFwiXCI7XG4gICAgaWYgKGJhc2UgJiYgYmFzZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XG4gICAgICBsZXQgdXJsID0gd2luZG93Mi5sb2NhdGlvbi5ocmVmO1xuICAgICAgbGV0IGhhc2hJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcbiAgICAgIGhyZWYyID0gaGFzaEluZGV4ID09PSAtMSA/IHVybCA6IHVybC5zbGljZSgwLCBoYXNoSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gaHJlZjIgKyBcIiNcIiArICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pKTtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZUhhc2hMb2NhdGlvbihsb2NhdGlvbiwgdG8pIHtcbiAgICB3YXJuaW5nKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApID09PSBcIi9cIixcbiAgICAgIGByZWxhdGl2ZSBwYXRobmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gaGFzaCBoaXN0b3J5LnB1c2goJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgdG9cbiAgICAgICl9KWBcbiAgICApO1xuICB9XG4gIHJldHVybiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gICAgY3JlYXRlSGFzaExvY2F0aW9uLFxuICAgIGNyZWF0ZUhhc2hIcmVmLFxuICAgIHZhbGlkYXRlSGFzaExvY2F0aW9uLFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIGludmFyaWFudCh2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuZnVuY3Rpb24gd2FybmluZyhjb25kLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZCkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIHRyeSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKTtcbn1cbmZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpIHtcbiAgcmV0dXJuIHtcbiAgICB1c3I6IGxvY2F0aW9uLnN0YXRlLFxuICAgIGtleTogbG9jYXRpb24ua2V5LFxuICAgIGlkeDogaW5kZXhcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGN1cnJlbnQsIHRvLCBzdGF0ZSA9IG51bGwsIGtleSkge1xuICBsZXQgbG9jYXRpb24gPSB7XG4gICAgcGF0aG5hbWU6IHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiID8gY3VycmVudCA6IGN1cnJlbnQucGF0aG5hbWUsXG4gICAgc2VhcmNoOiBcIlwiLFxuICAgIGhhc2g6IFwiXCIsXG4gICAgLi4udHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvLFxuICAgIHN0YXRlLFxuICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgY2xlYW5lZCB1cC4gIHB1c2gvcmVwbGFjZSBzaG91bGQgcHJvYmFibHkganVzdCB0YWtlXG4gICAgLy8gZnVsbCBMb2NhdGlvbnMgbm93IGFuZCBhdm9pZCB0aGUgbmVlZCB0byBydW4gdGhyb3VnaCB0aGlzIGZsb3cgYXQgYWxsXG4gICAgLy8gQnV0IHRoYXQncyBhIHByZXR0eSBiaWcgcmVmYWN0b3IgdG8gdGhlIGN1cnJlbnQgdGVzdCBzdWl0ZSBzbyBnb2luZyB0b1xuICAgIC8vIGtlZXAgYXMgaXMgZm9yIHRoZSB0aW1lIGJlaW5nIGFuZCBqdXN0IGxldCBhbnkgaW5jb21pbmcga2V5cyB0YWtlIHByZWNlZGVuY2VcbiAgICBrZXk6IHRvICYmIHRvLmtleSB8fCBrZXkgfHwgY3JlYXRlS2V5KClcbiAgfTtcbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0aCh7XG4gIHBhdGhuYW1lID0gXCIvXCIsXG4gIHNlYXJjaCA9IFwiXCIsXG4gIGhhc2ggPSBcIlwiXG59KSB7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSBcIj9cIilcbiAgICBwYXRobmFtZSArPSBzZWFyY2guY2hhckF0KDApID09PSBcIj9cIiA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xuICBpZiAoaGFzaCAmJiBoYXNoICE9PSBcIiNcIilcbiAgICBwYXRobmFtZSArPSBoYXNoLmNoYXJBdCgwKSA9PT0gXCIjXCIgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xuICByZXR1cm4gcGF0aG5hbWU7XG59XG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICBsZXQgcGFyc2VkUGF0aCA9IHt9O1xuICBpZiAocGF0aCkge1xuICAgIGxldCBoYXNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCIjXCIpO1xuICAgIGlmIChoYXNoSW5kZXggPj0gMCkge1xuICAgICAgcGFyc2VkUGF0aC5oYXNoID0gcGF0aC5zdWJzdHJpbmcoaGFzaEluZGV4KTtcbiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBoYXNoSW5kZXgpO1xuICAgIH1cbiAgICBsZXQgc2VhcmNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCI/XCIpO1xuICAgIGlmIChzZWFyY2hJbmRleCA+PSAwKSB7XG4gICAgICBwYXJzZWRQYXRoLnNlYXJjaCA9IHBhdGguc3Vic3RyaW5nKHNlYXJjaEluZGV4KTtcbiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBzZWFyY2hJbmRleCk7XG4gICAgfVxuICAgIGlmIChwYXRoKSB7XG4gICAgICBwYXJzZWRQYXRoLnBhdGhuYW1lID0gcGF0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZFBhdGg7XG59XG5mdW5jdGlvbiBnZXRVcmxCYXNlZEhpc3RvcnkoZ2V0TG9jYXRpb24sIGNyZWF0ZUhyZWYyLCB2YWxpZGF0ZUxvY2F0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IHsgd2luZG93OiB3aW5kb3cyID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcsIHY1Q29tcGF0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGxldCBnbG9iYWxIaXN0b3J5ID0gd2luZG93Mi5oaXN0b3J5O1xuICBsZXQgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBsaXN0ZW5lciA9IG51bGw7XG4gIGxldCBpbmRleCA9IGdldEluZGV4KCk7XG4gIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgaW5kZXggPSAwO1xuICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsgLi4uZ2xvYmFsSGlzdG9yeS5zdGF0ZSwgaWR4OiBpbmRleCB9LCBcIlwiKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRJbmRleCgpIHtcbiAgICBsZXQgc3RhdGUgPSBnbG9iYWxIaXN0b3J5LnN0YXRlIHx8IHsgaWR4OiBudWxsIH07XG4gICAgcmV0dXJuIHN0YXRlLmlkeDtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQb3AoKSB7XG4gICAgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gICAgbGV0IG5leHRJbmRleCA9IGdldEluZGV4KCk7XG4gICAgbGV0IGRlbHRhID0gbmV4dEluZGV4ID09IG51bGwgPyBudWxsIDogbmV4dEluZGV4IC0gaW5kZXg7XG4gICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdXNoKHRvLCBzdGF0ZSkge1xuICAgIGFjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oaGlzdG9yeS5sb2NhdGlvbiwgdG8sIHN0YXRlKTtcbiAgICBpZiAodmFsaWRhdGVMb2NhdGlvbikgdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbiwgdG8pO1xuICAgIGluZGV4ID0gZ2V0SW5kZXgoKSArIDE7XG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpO1xuICAgIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgIHRyeSB7XG4gICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIFwiXCIsIHVybCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiBlcnJvci5uYW1lID09PSBcIkRhdGFDbG9uZUVycm9yXCIpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICB3aW5kb3cyLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgIH1cbiAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGE6IDEgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlcGxhY2UyKHRvLCBzdGF0ZSkge1xuICAgIGFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oaGlzdG9yeS5sb2NhdGlvbiwgdG8sIHN0YXRlKTtcbiAgICBpZiAodmFsaWRhdGVMb2NhdGlvbikgdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbiwgdG8pO1xuICAgIGluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgICBsZXQgaGlzdG9yeVN0YXRlID0gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCk7XG4gICAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeVN0YXRlLCBcIlwiLCB1cmwpO1xuICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YTogMCB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlVVJMKHRvKSB7XG4gICAgbGV0IGJhc2UgPSB3aW5kb3cyLmxvY2F0aW9uLm9yaWdpbiAhPT0gXCJudWxsXCIgPyB3aW5kb3cyLmxvY2F0aW9uLm9yaWdpbiA6IHdpbmRvdzIubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgaHJlZjIgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICAgIGhyZWYyID0gaHJlZjIucmVwbGFjZSgvICQvLCBcIiUyMFwiKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBiYXNlLFxuICAgICAgYE5vIHdpbmRvdy5sb2NhdGlvbi4ob3JpZ2lufGhyZWYpIGF2YWlsYWJsZSB0byBjcmVhdGUgVVJMIGZvciBocmVmOiAke2hyZWYyfWBcbiAgICApO1xuICAgIHJldHVybiBuZXcgVVJMKGhyZWYyLCBiYXNlKTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IHtcbiAgICBnZXQgYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9LFxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRMb2NhdGlvbih3aW5kb3cyLCBnbG9iYWxIaXN0b3J5KTtcbiAgICB9LFxuICAgIGxpc3Rlbihmbikge1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgaGlzdG9yeSBvbmx5IGFjY2VwdHMgb25lIGFjdGl2ZSBsaXN0ZW5lclwiKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdzIuYWRkRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgaGFuZGxlUG9wKTtcbiAgICAgIGxpc3RlbmVyID0gZm47XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3cyLnJlbW92ZUV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIGhhbmRsZVBvcCk7XG4gICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmKHRvKSB7XG4gICAgICByZXR1cm4gY3JlYXRlSHJlZjIod2luZG93MiwgdG8pO1xuICAgIH0sXG4gICAgY3JlYXRlVVJMLFxuICAgIGVuY29kZUxvY2F0aW9uKHRvKSB7XG4gICAgICBsZXQgdXJsID0gY3JlYXRlVVJMKHRvKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaDogdXJsLnNlYXJjaCxcbiAgICAgICAgaGFzaDogdXJsLmhhc2hcbiAgICAgIH07XG4gICAgfSxcbiAgICBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgIGdvKG4pIHtcbiAgICAgIHJldHVybiBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbi8vIGxpYi9yb3V0ZXIvdXRpbHMudHNcbmZ1bmN0aW9uIHVuc3RhYmxlX2NyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG4gIHJldHVybiB7IGRlZmF1bHRWYWx1ZSB9O1xufVxudmFyIF9tYXA7XG52YXIgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihpbml0KSB7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9tYXAsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIGlmIChpbml0KSB7XG4gICAgICBmb3IgKGxldCBbY29udGV4dCwgdmFsdWVdIG9mIGluaXQpIHtcbiAgICAgICAgdGhpcy5zZXQoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQoY29udGV4dCkge1xuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuaGFzKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9tYXApLmdldChjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuZGVmYXVsdFZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsdWUgZm91bmQgZm9yIGNvbnRleHRcIik7XG4gIH1cbiAgc2V0KGNvbnRleHQsIHZhbHVlKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9tYXApLnNldChjb250ZXh0LCB2YWx1ZSk7XG4gIH1cbn07XG5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBpbW11dGFibGVSb3V0ZUtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwibGF6eVwiLFxuICBcImNhc2VTZW5zaXRpdmVcIixcbiAgXCJwYXRoXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcImNoaWxkcmVuXCJcbl0pO1xuZnVuY3Rpb24gaXNJbmRleFJvdXRlKHJvdXRlKSB7XG4gIHJldHVybiByb3V0ZS5pbmRleCA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMocm91dGVzLCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBwYXJlbnRQYXRoID0gW10sIG1hbmlmZXN0ID0ge30pIHtcbiAgcmV0dXJuIHJvdXRlcy5tYXAoKHJvdXRlLCBpbmRleCkgPT4ge1xuICAgIGxldCB0cmVlUGF0aCA9IFsuLi5wYXJlbnRQYXRoLCBTdHJpbmcoaW5kZXgpXTtcbiAgICBsZXQgaWQgPSB0eXBlb2Ygcm91dGUuaWQgPT09IFwic3RyaW5nXCIgPyByb3V0ZS5pZCA6IHRyZWVQYXRoLmpvaW4oXCItXCIpO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlIHx8ICFyb3V0ZS5jaGlsZHJlbixcbiAgICAgIGBDYW5ub3Qgc3BlY2lmeSBjaGlsZHJlbiBvbiBhbiBpbmRleCByb3V0ZWBcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICFtYW5pZmVzdFtpZF0sXG4gICAgICBgRm91bmQgYSByb3V0ZSBpZCBjb2xsaXNpb24gb24gaWQgXCIke2lkfVwiLiAgUm91dGUgaWQncyBtdXN0IGJlIGdsb2JhbGx5IHVuaXF1ZSB3aXRoaW4gRGF0YSBSb3V0ZXIgdXNhZ2VzYFxuICAgICk7XG4gICAgaWYgKGlzSW5kZXhSb3V0ZShyb3V0ZSkpIHtcbiAgICAgIGxldCBpbmRleFJvdXRlID0ge1xuICAgICAgICAuLi5yb3V0ZSxcbiAgICAgICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzMihyb3V0ZSksXG4gICAgICAgIGlkXG4gICAgICB9O1xuICAgICAgbWFuaWZlc3RbaWRdID0gaW5kZXhSb3V0ZTtcbiAgICAgIHJldHVybiBpbmRleFJvdXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGF0aE9yTGF5b3V0Um91dGUgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlKSxcbiAgICAgICAgaWQsXG4gICAgICAgIGNoaWxkcmVuOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBwYXRoT3JMYXlvdXRSb3V0ZTtcbiAgICAgIGlmIChyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgICBwYXRoT3JMYXlvdXRSb3V0ZS5jaGlsZHJlbiA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICAgICAgcm91dGUuY2hpbGRyZW4sXG4gICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgICB0cmVlUGF0aCxcbiAgICAgICAgICBtYW5pZmVzdFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGhPckxheW91dFJvdXRlO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSA9IFwiL1wiKSB7XG4gIHJldHVybiBtYXRjaFJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZywgYmFzZW5hbWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIG1hdGNoUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSwgYWxsb3dQYXJ0aWFsKSB7XG4gIGxldCBsb2NhdGlvbiA9IHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcbiAgbGV0IHBhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSB8fCBcIi9cIiwgYmFzZW5hbWUpO1xuICBpZiAocGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBicmFuY2hlcyA9IGZsYXR0ZW5Sb3V0ZXMocm91dGVzKTtcbiAgcmFua1JvdXRlQnJhbmNoZXMoYnJhbmNoZXMpO1xuICBsZXQgbWF0Y2hlcyA9IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyBtYXRjaGVzID09IG51bGwgJiYgaSA8IGJyYW5jaGVzLmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IGRlY29kZWQgPSBkZWNvZGVQYXRoKHBhdGhuYW1lKTtcbiAgICBtYXRjaGVzID0gbWF0Y2hSb3V0ZUJyYW5jaChcbiAgICAgIGJyYW5jaGVzW2ldLFxuICAgICAgZGVjb2RlZCxcbiAgICAgIGFsbG93UGFydGlhbFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtYXRjaCwgbG9hZGVyRGF0YSkge1xuICBsZXQgeyByb3V0ZSwgcGF0aG5hbWUsIHBhcmFtcyB9ID0gbWF0Y2g7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJvdXRlLmlkLFxuICAgIHBhdGhuYW1lLFxuICAgIHBhcmFtcyxcbiAgICBkYXRhOiBsb2FkZXJEYXRhW3JvdXRlLmlkXSxcbiAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZVxuICB9O1xufVxuZnVuY3Rpb24gZmxhdHRlblJvdXRlcyhyb3V0ZXMsIGJyYW5jaGVzID0gW10sIHBhcmVudHNNZXRhID0gW10sIHBhcmVudFBhdGggPSBcIlwiKSB7XG4gIGxldCBmbGF0dGVuUm91dGUgPSAocm91dGUsIGluZGV4LCByZWxhdGl2ZVBhdGgpID0+IHtcbiAgICBsZXQgbWV0YSA9IHtcbiAgICAgIHJlbGF0aXZlUGF0aDogcmVsYXRpdmVQYXRoID09PSB2b2lkIDAgPyByb3V0ZS5wYXRoIHx8IFwiXCIgOiByZWxhdGl2ZVBhdGgsXG4gICAgICBjYXNlU2Vuc2l0aXZlOiByb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSB0cnVlLFxuICAgICAgY2hpbGRyZW5JbmRleDogaW5kZXgsXG4gICAgICByb3V0ZVxuICAgIH07XG4gICAgaWYgKG1ldGEucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIG1ldGEucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgocGFyZW50UGF0aCksXG4gICAgICAgIGBBYnNvbHV0ZSByb3V0ZSBwYXRoIFwiJHttZXRhLnJlbGF0aXZlUGF0aH1cIiBuZXN0ZWQgdW5kZXIgcGF0aCBcIiR7cGFyZW50UGF0aH1cIiBpcyBub3QgdmFsaWQuIEFuIGFic29sdXRlIGNoaWxkIHJvdXRlIHBhdGggbXVzdCBzdGFydCB3aXRoIHRoZSBjb21iaW5lZCBwYXRoIG9mIGFsbCBpdHMgcGFyZW50IHJvdXRlcy5gXG4gICAgICApO1xuICAgICAgbWV0YS5yZWxhdGl2ZVBhdGggPSBtZXRhLnJlbGF0aXZlUGF0aC5zbGljZShwYXJlbnRQYXRoLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBwYXRoID0gam9pblBhdGhzKFtwYXJlbnRQYXRoLCBtZXRhLnJlbGF0aXZlUGF0aF0pO1xuICAgIGxldCByb3V0ZXNNZXRhID0gcGFyZW50c01ldGEuY29uY2F0KG1ldGEpO1xuICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIC8vIE91ciB0eXBlcyBrbm93IGJldHRlciwgYnV0IHJ1bnRpbWUgSlMgbWF5IG5vdCFcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICByb3V0ZS5pbmRleCAhPT0gdHJ1ZSxcbiAgICAgICAgYEluZGV4IHJvdXRlcyBtdXN0IG5vdCBoYXZlIGNoaWxkIHJvdXRlcy4gUGxlYXNlIHJlbW92ZSBhbGwgY2hpbGQgcm91dGVzIGZyb20gcm91dGUgcGF0aCBcIiR7cGF0aH1cIi5gXG4gICAgICApO1xuICAgICAgZmxhdHRlblJvdXRlcyhyb3V0ZS5jaGlsZHJlbiwgYnJhbmNoZXMsIHJvdXRlc01ldGEsIHBhdGgpO1xuICAgIH1cbiAgICBpZiAocm91dGUucGF0aCA9PSBudWxsICYmICFyb3V0ZS5pbmRleCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBicmFuY2hlcy5wdXNoKHtcbiAgICAgIHBhdGgsXG4gICAgICBzY29yZTogY29tcHV0ZVNjb3JlKHBhdGgsIHJvdXRlLmluZGV4KSxcbiAgICAgIHJvdXRlc01ldGFcbiAgICB9KTtcbiAgfTtcbiAgcm91dGVzLmZvckVhY2goKHJvdXRlLCBpbmRleCkgPT4ge1xuICAgIGlmIChyb3V0ZS5wYXRoID09PSBcIlwiIHx8ICFyb3V0ZS5wYXRoPy5pbmNsdWRlcyhcIj9cIikpIHtcbiAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBleHBsb2RlZCBvZiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhyb3V0ZS5wYXRoKSkge1xuICAgICAgICBmbGF0dGVuUm91dGUocm91dGUsIGluZGV4LCBleHBsb2RlZCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGJyYW5jaGVzO1xufVxuZnVuY3Rpb24gZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocGF0aCkge1xuICBsZXQgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICBsZXQgW2ZpcnN0LCAuLi5yZXN0XSA9IHNlZ21lbnRzO1xuICBsZXQgaXNPcHRpb25hbCA9IGZpcnN0LmVuZHNXaXRoKFwiP1wiKTtcbiAgbGV0IHJlcXVpcmVkID0gZmlyc3QucmVwbGFjZSgvXFw/JC8sIFwiXCIpO1xuICBpZiAocmVzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaXNPcHRpb25hbCA/IFtyZXF1aXJlZCwgXCJcIl0gOiBbcmVxdWlyZWRdO1xuICB9XG4gIGxldCByZXN0RXhwbG9kZWQgPSBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhyZXN0LmpvaW4oXCIvXCIpKTtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuICByZXN1bHQucHVzaChcbiAgICAuLi5yZXN0RXhwbG9kZWQubWFwKFxuICAgICAgKHN1YnBhdGgpID0+IHN1YnBhdGggPT09IFwiXCIgPyByZXF1aXJlZCA6IFtyZXF1aXJlZCwgc3VicGF0aF0uam9pbihcIi9cIilcbiAgICApXG4gICk7XG4gIGlmIChpc09wdGlvbmFsKSB7XG4gICAgcmVzdWx0LnB1c2goLi4ucmVzdEV4cGxvZGVkKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0Lm1hcChcbiAgICAoZXhwbG9kZWQpID0+IHBhdGguc3RhcnRzV2l0aChcIi9cIikgJiYgZXhwbG9kZWQgPT09IFwiXCIgPyBcIi9cIiA6IGV4cGxvZGVkXG4gICk7XG59XG5mdW5jdGlvbiByYW5rUm91dGVCcmFuY2hlcyhicmFuY2hlcykge1xuICBicmFuY2hlcy5zb3J0KFxuICAgIChhLCBiKSA9PiBhLnNjb3JlICE9PSBiLnNjb3JlID8gYi5zY29yZSAtIGEuc2NvcmUgOiBjb21wYXJlSW5kZXhlcyhcbiAgICAgIGEucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleCksXG4gICAgICBiLnJvdXRlc01ldGEubWFwKChtZXRhKSA9PiBtZXRhLmNoaWxkcmVuSW5kZXgpXG4gICAgKVxuICApO1xufVxudmFyIHBhcmFtUmUgPSAvXjpbXFx3LV0rJC87XG52YXIgZHluYW1pY1NlZ21lbnRWYWx1ZSA9IDM7XG52YXIgaW5kZXhSb3V0ZVZhbHVlID0gMjtcbnZhciBlbXB0eVNlZ21lbnRWYWx1ZSA9IDE7XG52YXIgc3RhdGljU2VnbWVudFZhbHVlID0gMTA7XG52YXIgc3BsYXRQZW5hbHR5ID0gLTI7XG52YXIgaXNTcGxhdCA9IChzKSA9PiBzID09PSBcIipcIjtcbmZ1bmN0aW9uIGNvbXB1dGVTY29yZShwYXRoLCBpbmRleCkge1xuICBsZXQgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgbGV0IGluaXRpYWxTY29yZSA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgaWYgKHNlZ21lbnRzLnNvbWUoaXNTcGxhdCkpIHtcbiAgICBpbml0aWFsU2NvcmUgKz0gc3BsYXRQZW5hbHR5O1xuICB9XG4gIGlmIChpbmRleCkge1xuICAgIGluaXRpYWxTY29yZSArPSBpbmRleFJvdXRlVmFsdWU7XG4gIH1cbiAgcmV0dXJuIHNlZ21lbnRzLmZpbHRlcigocykgPT4gIWlzU3BsYXQocykpLnJlZHVjZShcbiAgICAoc2NvcmUsIHNlZ21lbnQpID0+IHNjb3JlICsgKHBhcmFtUmUudGVzdChzZWdtZW50KSA/IGR5bmFtaWNTZWdtZW50VmFsdWUgOiBzZWdtZW50ID09PSBcIlwiID8gZW1wdHlTZWdtZW50VmFsdWUgOiBzdGF0aWNTZWdtZW50VmFsdWUpLFxuICAgIGluaXRpYWxTY29yZVxuICApO1xufVxuZnVuY3Rpb24gY29tcGFyZUluZGV4ZXMoYSwgYikge1xuICBsZXQgc2libGluZ3MgPSBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5zbGljZSgwLCAtMSkuZXZlcnkoKG4sIGkpID0+IG4gPT09IGJbaV0pO1xuICByZXR1cm4gc2libGluZ3MgPyAoXG4gICAgLy8gSWYgdHdvIHJvdXRlcyBhcmUgc2libGluZ3MsIHdlIHNob3VsZCB0cnkgdG8gbWF0Y2ggdGhlIGVhcmxpZXIgc2libGluZ1xuICAgIC8vIGZpcnN0LiBUaGlzIGFsbG93cyBwZW9wbGUgdG8gaGF2ZSBmaW5lLWdyYWluZWQgY29udHJvbCBvdmVyIHRoZSBtYXRjaGluZ1xuICAgIC8vIGJlaGF2aW9yIGJ5IHNpbXBseSBwdXR0aW5nIHJvdXRlcyB3aXRoIGlkZW50aWNhbCBwYXRocyBpbiB0aGUgb3JkZXIgdGhleVxuICAgIC8vIHdhbnQgdGhlbSB0cmllZC5cbiAgICBhW2EubGVuZ3RoIC0gMV0gLSBiW2IubGVuZ3RoIC0gMV1cbiAgKSA6IChcbiAgICAvLyBPdGhlcndpc2UsIGl0IGRvZXNuJ3QgcmVhbGx5IG1ha2Ugc2Vuc2UgdG8gcmFuayBub24tc2libGluZ3MgYnkgaW5kZXgsXG4gICAgLy8gc28gdGhleSBzb3J0IGVxdWFsbHkuXG4gICAgMFxuICApO1xufVxuZnVuY3Rpb24gbWF0Y2hSb3V0ZUJyYW5jaChicmFuY2gsIHBhdGhuYW1lLCBhbGxvd1BhcnRpYWwgPSBmYWxzZSkge1xuICBsZXQgeyByb3V0ZXNNZXRhIH0gPSBicmFuY2g7XG4gIGxldCBtYXRjaGVkUGFyYW1zID0ge307XG4gIGxldCBtYXRjaGVkUGF0aG5hbWUgPSBcIi9cIjtcbiAgbGV0IG1hdGNoZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3V0ZXNNZXRhLmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IG1ldGEgPSByb3V0ZXNNZXRhW2ldO1xuICAgIGxldCBlbmQgPSBpID09PSByb3V0ZXNNZXRhLmxlbmd0aCAtIDE7XG4gICAgbGV0IHJlbWFpbmluZ1BhdGhuYW1lID0gbWF0Y2hlZFBhdGhuYW1lID09PSBcIi9cIiA/IHBhdGhuYW1lIDogcGF0aG5hbWUuc2xpY2UobWF0Y2hlZFBhdGhuYW1lLmxlbmd0aCkgfHwgXCIvXCI7XG4gICAgbGV0IG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgeyBwYXRoOiBtZXRhLnJlbGF0aXZlUGF0aCwgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLCBlbmQgfSxcbiAgICAgIHJlbWFpbmluZ1BhdGhuYW1lXG4gICAgKTtcbiAgICBsZXQgcm91dGUgPSBtZXRhLnJvdXRlO1xuICAgIGlmICghbWF0Y2ggJiYgZW5kICYmIGFsbG93UGFydGlhbCAmJiAhcm91dGVzTWV0YVtyb3V0ZXNNZXRhLmxlbmd0aCAtIDFdLnJvdXRlLmluZGV4KSB7XG4gICAgICBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLFxuICAgICAgICAgIGNhc2VTZW5zaXRpdmU6IG1ldGEuY2FzZVNlbnNpdGl2ZSxcbiAgICAgICAgICBlbmQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihtYXRjaGVkUGFyYW1zLCBtYXRjaC5wYXJhbXMpO1xuICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAvLyBUT0RPOiBDYW4gdGhpcyBhcyBiZSBhdm9pZGVkP1xuICAgICAgcGFyYW1zOiBtYXRjaGVkUGFyYW1zLFxuICAgICAgcGF0aG5hbWU6IGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZV0pLFxuICAgICAgcGF0aG5hbWVCYXNlOiBub3JtYWxpemVQYXRobmFtZShcbiAgICAgICAgam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lQmFzZV0pXG4gICAgICApLFxuICAgICAgcm91dGVcbiAgICB9KTtcbiAgICBpZiAobWF0Y2gucGF0aG5hbWVCYXNlICE9PSBcIi9cIikge1xuICAgICAgbWF0Y2hlZFBhdGhuYW1lID0gam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lQmFzZV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUGF0aChvcmlnaW5hbFBhdGgsIHBhcmFtcyA9IHt9KSB7XG4gIGxldCBwYXRoID0gb3JpZ2luYWxQYXRoO1xuICBpZiAocGF0aC5lbmRzV2l0aChcIipcIikgJiYgcGF0aCAhPT0gXCIqXCIgJiYgIXBhdGguZW5kc1dpdGgoXCIvKlwiKSkge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBSb3V0ZSBwYXRoIFwiJHtwYXRofVwiIHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiIGJlY2F1c2UgdGhlIFxcYCpcXGAgY2hhcmFjdGVyIG11c3QgYWx3YXlzIGZvbGxvdyBhIFxcYC9cXGAgaW4gdGhlIHBhdHRlcm4uIFRvIGdldCByaWQgb2YgdGhpcyB3YXJuaW5nLCBwbGVhc2UgY2hhbmdlIHRoZSByb3V0ZSBwYXRoIHRvIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiLmBcbiAgICApO1xuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBcIi9cIiA6IFwiXCI7XG4gIGNvbnN0IHN0cmluZ2lmeSA9IChwKSA9PiBwID09IG51bGwgPyBcIlwiIDogdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyBwIDogU3RyaW5nKHApO1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoL1xcLysvKS5tYXAoKHNlZ21lbnQsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgIGNvbnN0IGlzTGFzdFNlZ21lbnQgPSBpbmRleCA9PT0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICBpZiAoaXNMYXN0U2VnbWVudCAmJiBzZWdtZW50ID09PSBcIipcIikge1xuICAgICAgY29uc3Qgc3RhciA9IFwiKlwiO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeShwYXJhbXNbc3Rhcl0pO1xuICAgIH1cbiAgICBjb25zdCBrZXlNYXRjaCA9IHNlZ21lbnQubWF0Y2goL146KFtcXHctXSspKFxcPz8pJC8pO1xuICAgIGlmIChrZXlNYXRjaCkge1xuICAgICAgY29uc3QgWywga2V5LCBvcHRpb25hbF0gPSBrZXlNYXRjaDtcbiAgICAgIGxldCBwYXJhbSA9IHBhcmFtc1trZXldO1xuICAgICAgaW52YXJpYW50KG9wdGlvbmFsID09PSBcIj9cIiB8fCBwYXJhbSAhPSBudWxsLCBgTWlzc2luZyBcIjoke2tleX1cIiBwYXJhbWApO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeShwYXJhbSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdtZW50LnJlcGxhY2UoL1xcPyQvZywgXCJcIik7XG4gIH0pLmZpbHRlcigoc2VnbWVudCkgPT4gISFzZWdtZW50KTtcbiAgcmV0dXJuIHByZWZpeCArIHNlZ21lbnRzLmpvaW4oXCIvXCIpO1xufVxuZnVuY3Rpb24gbWF0Y2hQYXRoKHBhdHRlcm4sIHBhdGhuYW1lKSB7XG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJzdHJpbmdcIikge1xuICAgIHBhdHRlcm4gPSB7IHBhdGg6IHBhdHRlcm4sIGNhc2VTZW5zaXRpdmU6IGZhbHNlLCBlbmQ6IHRydWUgfTtcbiAgfVxuICBsZXQgW21hdGNoZXIsIGNvbXBpbGVkUGFyYW1zXSA9IGNvbXBpbGVQYXRoKFxuICAgIHBhdHRlcm4ucGF0aCxcbiAgICBwYXR0ZXJuLmNhc2VTZW5zaXRpdmUsXG4gICAgcGF0dGVybi5lbmRcbiAgKTtcbiAgbGV0IG1hdGNoID0gcGF0aG5hbWUubWF0Y2gobWF0Y2hlcik7XG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuICBsZXQgbWF0Y2hlZFBhdGhuYW1lID0gbWF0Y2hbMF07XG4gIGxldCBwYXRobmFtZUJhc2UgPSBtYXRjaGVkUGF0aG5hbWUucmVwbGFjZSgvKC4pXFwvKyQvLCBcIiQxXCIpO1xuICBsZXQgY2FwdHVyZUdyb3VwcyA9IG1hdGNoLnNsaWNlKDEpO1xuICBsZXQgcGFyYW1zID0gY29tcGlsZWRQYXJhbXMucmVkdWNlKFxuICAgIChtZW1vMiwgeyBwYXJhbU5hbWUsIGlzT3B0aW9uYWwgfSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChwYXJhbU5hbWUgPT09IFwiKlwiKSB7XG4gICAgICAgIGxldCBzcGxhdFZhbHVlID0gY2FwdHVyZUdyb3Vwc1tpbmRleF0gfHwgXCJcIjtcbiAgICAgICAgcGF0aG5hbWVCYXNlID0gbWF0Y2hlZFBhdGhuYW1lLnNsaWNlKDAsIG1hdGNoZWRQYXRobmFtZS5sZW5ndGggLSBzcGxhdFZhbHVlLmxlbmd0aCkucmVwbGFjZSgvKC4pXFwvKyQvLCBcIiQxXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSBjYXB0dXJlR3JvdXBzW2luZGV4XTtcbiAgICAgIGlmIChpc09wdGlvbmFsICYmICF2YWx1ZSkge1xuICAgICAgICBtZW1vMltwYXJhbU5hbWVdID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtbzJbcGFyYW1OYW1lXSA9ICh2YWx1ZSB8fCBcIlwiKS5yZXBsYWNlKC8lMkYvZywgXCIvXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbW8yO1xuICAgIH0sXG4gICAge31cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBwYXJhbXMsXG4gICAgcGF0aG5hbWU6IG1hdGNoZWRQYXRobmFtZSxcbiAgICBwYXRobmFtZUJhc2UsXG4gICAgcGF0dGVyblxuICB9O1xufVxuZnVuY3Rpb24gY29tcGlsZVBhdGgocGF0aCwgY2FzZVNlbnNpdGl2ZSA9IGZhbHNlLCBlbmQgPSB0cnVlKSB7XG4gIHdhcm5pbmcoXG4gICAgcGF0aCA9PT0gXCIqXCIgfHwgIXBhdGguZW5kc1dpdGgoXCIqXCIpIHx8IHBhdGguZW5kc1dpdGgoXCIvKlwiKSxcbiAgICBgUm91dGUgcGF0aCBcIiR7cGF0aH1cIiB3aWxsIGJlIHRyZWF0ZWQgYXMgaWYgaXQgd2VyZSBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIiBiZWNhdXNlIHRoZSBcXGAqXFxgIGNoYXJhY3RlciBtdXN0IGFsd2F5cyBmb2xsb3cgYSBcXGAvXFxgIGluIHRoZSBwYXR0ZXJuLiBUbyBnZXQgcmlkIG9mIHRoaXMgd2FybmluZywgcGxlYXNlIGNoYW5nZSB0aGUgcm91dGUgcGF0aCB0byBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIi5gXG4gICk7XG4gIGxldCBwYXJhbXMgPSBbXTtcbiAgbGV0IHJlZ2V4cFNvdXJjZSA9IFwiXlwiICsgcGF0aC5yZXBsYWNlKC9cXC8qXFwqPyQvLCBcIlwiKS5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKS5yZXBsYWNlKC9bXFxcXC4qK14ke318KClbXFxdXS9nLCBcIlxcXFwkJlwiKS5yZXBsYWNlKFxuICAgIC9cXC86KFtcXHctXSspKFxcPyk/L2csXG4gICAgKF8sIHBhcmFtTmFtZSwgaXNPcHRpb25hbCkgPT4ge1xuICAgICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWUsIGlzT3B0aW9uYWw6IGlzT3B0aW9uYWwgIT0gbnVsbCB9KTtcbiAgICAgIHJldHVybiBpc09wdGlvbmFsID8gXCIvPyhbXlxcXFwvXSspP1wiIDogXCIvKFteXFxcXC9dKylcIjtcbiAgICB9XG4gICk7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSkge1xuICAgIHBhcmFtcy5wdXNoKHsgcGFyYW1OYW1lOiBcIipcIiB9KTtcbiAgICByZWdleHBTb3VyY2UgKz0gcGF0aCA9PT0gXCIqXCIgfHwgcGF0aCA9PT0gXCIvKlwiID8gXCIoLiopJFwiIDogXCIoPzpcXFxcLyguKyl8XFxcXC8qKSRcIjtcbiAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICByZWdleHBTb3VyY2UgKz0gXCJcXFxcLyokXCI7XG4gIH0gZWxzZSBpZiAocGF0aCAhPT0gXCJcIiAmJiBwYXRoICE9PSBcIi9cIikge1xuICAgIHJlZ2V4cFNvdXJjZSArPSBcIig/Oig/PVxcXFwvfCQpKVwiO1xuICB9IGVsc2Uge1xuICB9XG4gIGxldCBtYXRjaGVyID0gbmV3IFJlZ0V4cChyZWdleHBTb3VyY2UsIGNhc2VTZW5zaXRpdmUgPyB2b2lkIDAgOiBcImlcIik7XG4gIHJldHVybiBbbWF0Y2hlciwgcGFyYW1zXTtcbn1cbmZ1bmN0aW9uIGRlY29kZVBhdGgodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdmFsdWUuc3BsaXQoXCIvXCIpLm1hcCgodikgPT4gZGVjb2RlVVJJQ29tcG9uZW50KHYpLnJlcGxhY2UoL1xcLy9nLCBcIiUyRlwiKSkuam9pbihcIi9cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFRoZSBVUkwgcGF0aCBcIiR7dmFsdWV9XCIgY291bGQgbm90IGJlIGRlY29kZWQgYmVjYXVzZSBpdCBpcyBhIG1hbGZvcm1lZCBVUkwgc2VnbWVudC4gVGhpcyBpcyBwcm9iYWJseSBkdWUgdG8gYSBiYWQgcGVyY2VudCBlbmNvZGluZyAoJHtlcnJvcn0pLmBcbiAgICApO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRobmFtZSwgYmFzZW5hbWUpIHtcbiAgaWYgKGJhc2VuYW1lID09PSBcIi9cIikgcmV0dXJuIHBhdGhuYW1lO1xuICBpZiAoIXBhdGhuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChiYXNlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBzdGFydEluZGV4ID0gYmFzZW5hbWUuZW5kc1dpdGgoXCIvXCIpID8gYmFzZW5hbWUubGVuZ3RoIC0gMSA6IGJhc2VuYW1lLmxlbmd0aDtcbiAgbGV0IG5leHRDaGFyID0gcGF0aG5hbWUuY2hhckF0KHN0YXJ0SW5kZXgpO1xuICBpZiAobmV4dENoYXIgJiYgbmV4dENoYXIgIT09IFwiL1wiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHBhdGhuYW1lLnNsaWNlKHN0YXJ0SW5kZXgpIHx8IFwiL1wiO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGgodG8sIGZyb21QYXRobmFtZSA9IFwiL1wiKSB7XG4gIGxldCB7XG4gICAgcGF0aG5hbWU6IHRvUGF0aG5hbWUsXG4gICAgc2VhcmNoID0gXCJcIixcbiAgICBoYXNoID0gXCJcIlxuICB9ID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvO1xuICBsZXQgcGF0aG5hbWUgPSB0b1BhdGhuYW1lID8gdG9QYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSA/IHRvUGF0aG5hbWUgOiByZXNvbHZlUGF0aG5hbWUodG9QYXRobmFtZSwgZnJvbVBhdGhuYW1lKSA6IGZyb21QYXRobmFtZTtcbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZSxcbiAgICBzZWFyY2g6IG5vcm1hbGl6ZVNlYXJjaChzZWFyY2gpLFxuICAgIGhhc2g6IG5vcm1hbGl6ZUhhc2goaGFzaClcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZShyZWxhdGl2ZVBhdGgsIGZyb21QYXRobmFtZSkge1xuICBsZXQgc2VnbWVudHMgPSBmcm9tUGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gIGxldCByZWxhdGl2ZVNlZ21lbnRzID0gcmVsYXRpdmVQYXRoLnNwbGl0KFwiL1wiKTtcbiAgcmVsYXRpdmVTZWdtZW50cy5mb3JFYWNoKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHNlZ21lbnQgPT09IFwiLi5cIikge1xuICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHNlZ21lbnRzLnBvcCgpO1xuICAgIH0gZWxzZSBpZiAoc2VnbWVudCAhPT0gXCIuXCIpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCA+IDEgPyBzZWdtZW50cy5qb2luKFwiL1wiKSA6IFwiL1wiO1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFBhdGhFcnJvcihjaGFyLCBmaWVsZCwgZGVzdCwgcGF0aCkge1xuICByZXR1cm4gYENhbm5vdCBpbmNsdWRlIGEgJyR7Y2hhcn0nIGNoYXJhY3RlciBpbiBhIG1hbnVhbGx5IHNwZWNpZmllZCBcXGB0by4ke2ZpZWxkfVxcYCBmaWVsZCBbJHtKU09OLnN0cmluZ2lmeShcbiAgICBwYXRoXG4gICl9XS4gIFBsZWFzZSBzZXBhcmF0ZSBpdCBvdXQgdG8gdGhlIFxcYHRvLiR7ZGVzdH1cXGAgZmllbGQuIEFsdGVybmF0aXZlbHkgeW91IG1heSBwcm92aWRlIHRoZSBmdWxsIHBhdGggYXMgYSBzdHJpbmcgaW4gPExpbmsgdG89XCIuLi5cIj4gYW5kIHRoZSByb3V0ZXIgd2lsbCBwYXJzZSBpdCBmb3IgeW91LmA7XG59XG5mdW5jdGlvbiBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIHJldHVybiBtYXRjaGVzLmZpbHRlcihcbiAgICAobWF0Y2gsIGluZGV4KSA9PiBpbmRleCA9PT0gMCB8fCBtYXRjaC5yb3V0ZS5wYXRoICYmIG1hdGNoLnJvdXRlLnBhdGgubGVuZ3RoID4gMFxuICApO1xufVxuZnVuY3Rpb24gZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIGxldCBwYXRoTWF0Y2hlcyA9IGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpO1xuICByZXR1cm4gcGF0aE1hdGNoZXMubWFwKFxuICAgIChtYXRjaCwgaWR4KSA9PiBpZHggPT09IHBhdGhNYXRjaGVzLmxlbmd0aCAtIDEgPyBtYXRjaC5wYXRobmFtZSA6IG1hdGNoLnBhdGhuYW1lQmFzZVxuICApO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRvKHRvQXJnLCByb3V0ZVBhdGhuYW1lcywgbG9jYXRpb25QYXRobmFtZSwgaXNQYXRoUmVsYXRpdmUgPSBmYWxzZSkge1xuICBsZXQgdG87XG4gIGlmICh0eXBlb2YgdG9BcmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0byA9IHBhcnNlUGF0aCh0b0FyZyk7XG4gIH0gZWxzZSB7XG4gICAgdG8gPSB7IC4uLnRvQXJnIH07XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnBhdGhuYW1lIHx8ICF0by5wYXRobmFtZS5pbmNsdWRlcyhcIj9cIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiP1wiLCBcInBhdGhuYW1lXCIsIFwic2VhcmNoXCIsIHRvKVxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnBhdGhuYW1lIHx8ICF0by5wYXRobmFtZS5pbmNsdWRlcyhcIiNcIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiI1wiLCBcInBhdGhuYW1lXCIsIFwiaGFzaFwiLCB0bylcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5zZWFyY2ggfHwgIXRvLnNlYXJjaC5pbmNsdWRlcyhcIiNcIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiI1wiLCBcInNlYXJjaFwiLCBcImhhc2hcIiwgdG8pXG4gICAgKTtcbiAgfVxuICBsZXQgaXNFbXB0eVBhdGggPSB0b0FyZyA9PT0gXCJcIiB8fCB0by5wYXRobmFtZSA9PT0gXCJcIjtcbiAgbGV0IHRvUGF0aG5hbWUgPSBpc0VtcHR5UGF0aCA/IFwiL1wiIDogdG8ucGF0aG5hbWU7XG4gIGxldCBmcm9tO1xuICBpZiAodG9QYXRobmFtZSA9PSBudWxsKSB7XG4gICAgZnJvbSA9IGxvY2F0aW9uUGF0aG5hbWU7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHJvdXRlUGF0aG5hbWVJbmRleCA9IHJvdXRlUGF0aG5hbWVzLmxlbmd0aCAtIDE7XG4gICAgaWYgKCFpc1BhdGhSZWxhdGl2ZSAmJiB0b1BhdGhuYW1lLnN0YXJ0c1dpdGgoXCIuLlwiKSkge1xuICAgICAgbGV0IHRvU2VnbWVudHMgPSB0b1BhdGhuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICAgIHdoaWxlICh0b1NlZ21lbnRzWzBdID09PSBcIi4uXCIpIHtcbiAgICAgICAgdG9TZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICByb3V0ZVBhdGhuYW1lSW5kZXggLT0gMTtcbiAgICAgIH1cbiAgICAgIHRvLnBhdGhuYW1lID0gdG9TZWdtZW50cy5qb2luKFwiL1wiKTtcbiAgICB9XG4gICAgZnJvbSA9IHJvdXRlUGF0aG5hbWVJbmRleCA+PSAwID8gcm91dGVQYXRobmFtZXNbcm91dGVQYXRobmFtZUluZGV4XSA6IFwiL1wiO1xuICB9XG4gIGxldCBwYXRoID0gcmVzb2x2ZVBhdGgodG8sIGZyb20pO1xuICBsZXQgaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoID0gdG9QYXRobmFtZSAmJiB0b1BhdGhuYW1lICE9PSBcIi9cIiAmJiB0b1BhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKTtcbiAgbGV0IGhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoID0gKGlzRW1wdHlQYXRoIHx8IHRvUGF0aG5hbWUgPT09IFwiLlwiKSAmJiBsb2NhdGlvblBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKTtcbiAgaWYgKCFwYXRoLnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSAmJiAoaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoIHx8IGhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoKSkge1xuICAgIHBhdGgucGF0aG5hbWUgKz0gXCIvXCI7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59XG52YXIgam9pblBhdGhzID0gKHBhdGhzKSA9PiBwYXRocy5qb2luKFwiL1wiKS5yZXBsYWNlKC9cXC9cXC8rL2csIFwiL1wiKTtcbnZhciBub3JtYWxpemVQYXRobmFtZSA9IChwYXRobmFtZSkgPT4gcGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKS5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcbnZhciBub3JtYWxpemVTZWFyY2ggPSAoc2VhcmNoKSA9PiAhc2VhcmNoIHx8IHNlYXJjaCA9PT0gXCI/XCIgPyBcIlwiIDogc2VhcmNoLnN0YXJ0c1dpdGgoXCI/XCIpID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG52YXIgbm9ybWFsaXplSGFzaCA9IChoYXNoKSA9PiAhaGFzaCB8fCBoYXNoID09PSBcIiNcIiA/IFwiXCIgOiBoYXNoLnN0YXJ0c1dpdGgoXCIjXCIpID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbnZhciBEYXRhV2l0aFJlc3BvbnNlSW5pdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZGF0YTIsIGluaXQpIHtcbiAgICB0aGlzLnR5cGUgPSBcIkRhdGFXaXRoUmVzcG9uc2VJbml0XCI7XG4gICAgdGhpcy5kYXRhID0gZGF0YTI7XG4gICAgdGhpcy5pbml0ID0gaW5pdCB8fCBudWxsO1xuICB9XG59O1xuZnVuY3Rpb24gZGF0YShkYXRhMiwgaW5pdCkge1xuICByZXR1cm4gbmV3IERhdGFXaXRoUmVzcG9uc2VJbml0KFxuICAgIGRhdGEyLFxuICAgIHR5cGVvZiBpbml0ID09PSBcIm51bWJlclwiID8geyBzdGF0dXM6IGluaXQgfSA6IGluaXRcbiAgKTtcbn1cbnZhciByZWRpcmVjdCA9ICh1cmwsIGluaXQgPSAzMDIpID0+IHtcbiAgbGV0IHJlc3BvbnNlSW5pdCA9IGluaXQ7XG4gIGlmICh0eXBlb2YgcmVzcG9uc2VJbml0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVzcG9uc2VJbml0ID0geyBzdGF0dXM6IHJlc3BvbnNlSW5pdCB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZUluaXQuc3RhdHVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmVzcG9uc2VJbml0LnN0YXR1cyA9IDMwMjtcbiAgfVxuICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlc3BvbnNlSW5pdC5oZWFkZXJzKTtcbiAgaGVhZGVycy5zZXQoXCJMb2NhdGlvblwiLCB1cmwpO1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgLi4ucmVzcG9uc2VJbml0LCBoZWFkZXJzIH0pO1xufTtcbnZhciByZWRpcmVjdERvY3VtZW50ID0gKHVybCwgaW5pdCkgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSByZWRpcmVjdCh1cmwsIGluaXQpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbnZhciByZXBsYWNlID0gKHVybCwgaW5pdCkgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSByZWRpcmVjdCh1cmwsIGluaXQpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtUmVtaXgtUmVwbGFjZVwiLCBcInRydWVcIik7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG52YXIgRXJyb3JSZXNwb25zZUltcGwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHN0YXR1cywgc3RhdHVzVGV4dCwgZGF0YTIsIGludGVybmFsID0gZmFsc2UpIHtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0IHx8IFwiXCI7XG4gICAgdGhpcy5pbnRlcm5hbCA9IGludGVybmFsO1xuICAgIGlmIChkYXRhMiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhMi50b1N0cmluZygpO1xuICAgICAgdGhpcy5lcnJvciA9IGRhdGEyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhMjtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikge1xuICByZXR1cm4gZXJyb3IgIT0gbnVsbCAmJiB0eXBlb2YgZXJyb3Iuc3RhdHVzID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBlcnJvci5zdGF0dXNUZXh0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5pbnRlcm5hbCA9PT0gXCJib29sZWFuXCIgJiYgXCJkYXRhXCIgaW4gZXJyb3I7XG59XG5cbi8vIGxpYi9yb3V0ZXIvcm91dGVyLnRzXG52YXIgdmFsaWRNdXRhdGlvbk1ldGhvZHNBcnIgPSBbXG4gIFwiUE9TVFwiLFxuICBcIlBVVFwiLFxuICBcIlBBVENIXCIsXG4gIFwiREVMRVRFXCJcbl07XG52YXIgdmFsaWRNdXRhdGlvbk1ldGhvZHMgPSBuZXcgU2V0KFxuICB2YWxpZE11dGF0aW9uTWV0aG9kc0FyclxuKTtcbnZhciB2YWxpZFJlcXVlc3RNZXRob2RzQXJyID0gW1xuICBcIkdFVFwiLFxuICAuLi52YWxpZE11dGF0aW9uTWV0aG9kc0FyclxuXTtcbnZhciB2YWxpZFJlcXVlc3RNZXRob2RzID0gbmV3IFNldCh2YWxpZFJlcXVlc3RNZXRob2RzQXJyKTtcbnZhciByZWRpcmVjdFN0YXR1c0NvZGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XSk7XG52YXIgcmVkaXJlY3RQcmVzZXJ2ZU1ldGhvZFN0YXR1c0NvZGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzMwNywgMzA4XSk7XG52YXIgSURMRV9OQVZJR0FUSU9OID0ge1xuICBzdGF0ZTogXCJpZGxlXCIsXG4gIGxvY2F0aW9uOiB2b2lkIDAsXG4gIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICBmb3JtRGF0YTogdm9pZCAwLFxuICBqc29uOiB2b2lkIDAsXG4gIHRleHQ6IHZvaWQgMFxufTtcbnZhciBJRExFX0ZFVENIRVIgPSB7XG4gIHN0YXRlOiBcImlkbGVcIixcbiAgZGF0YTogdm9pZCAwLFxuICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgZm9ybURhdGE6IHZvaWQgMCxcbiAganNvbjogdm9pZCAwLFxuICB0ZXh0OiB2b2lkIDBcbn07XG52YXIgSURMRV9CTE9DS0VSID0ge1xuICBzdGF0ZTogXCJ1bmJsb2NrZWRcIixcbiAgcHJvY2VlZDogdm9pZCAwLFxuICByZXNldDogdm9pZCAwLFxuICBsb2NhdGlvbjogdm9pZCAwXG59O1xudmFyIEFCU09MVVRFX1VSTF9SRUdFWCA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbnZhciBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzID0gKHJvdXRlKSA9PiAoe1xuICBoYXNFcnJvckJvdW5kYXJ5OiBCb29sZWFuKHJvdXRlLmhhc0Vycm9yQm91bmRhcnkpXG59KTtcbnZhciBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWSA9IFwicmVtaXgtcm91dGVyLXRyYW5zaXRpb25zXCI7XG52YXIgUmVzZXRMb2FkZXJEYXRhU3ltYm9sID0gU3ltYm9sKFwiUmVzZXRMb2FkZXJEYXRhXCIpO1xuZnVuY3Rpb24gY3JlYXRlUm91dGVyKGluaXQpIHtcbiAgY29uc3Qgcm91dGVyV2luZG93ID0gaW5pdC53aW5kb3cgPyBpbml0LndpbmRvdyA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB2b2lkIDA7XG4gIGNvbnN0IGlzQnJvd3NlcjIgPSB0eXBlb2Ygcm91dGVyV2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiByb3V0ZXJXaW5kb3cuZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHJvdXRlcldpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuICBpbnZhcmlhbnQoXG4gICAgaW5pdC5yb3V0ZXMubGVuZ3RoID4gMCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgcm91dGVzIGFycmF5IHRvIGNyZWF0ZVJvdXRlclwiXG4gICk7XG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXMyID0gaW5pdC5tYXBSb3V0ZVByb3BlcnRpZXMgfHwgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcztcbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICBpbml0LnJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBsZXQgaW5GbGlnaHREYXRhUm91dGVzO1xuICBsZXQgYmFzZW5hbWUgPSBpbml0LmJhc2VuYW1lIHx8IFwiL1wiO1xuICBsZXQgZGF0YVN0cmF0ZWd5SW1wbCA9IGluaXQuZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3lXaXRoTWlkZGxld2FyZTtcbiAgbGV0IGZ1dHVyZSA9IHtcbiAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBmYWxzZSxcbiAgICAuLi5pbml0LmZ1dHVyZVxuICB9O1xuICBsZXQgdW5saXN0ZW5IaXN0b3J5ID0gbnVsbDtcbiAgbGV0IHN1YnNjcmliZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IG51bGw7XG4gIGxldCBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBudWxsO1xuICBsZXQgZ2V0U2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICBsZXQgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGw7XG4gIGxldCBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGluaXQuaGlzdG9yeS5sb2NhdGlvbiwgYmFzZW5hbWUpO1xuICBsZXQgaW5pdGlhbE1hdGNoZXNJc0ZPVyA9IGZhbHNlO1xuICBsZXQgaW5pdGlhbEVycm9ycyA9IG51bGw7XG4gIGlmIChpbml0aWFsTWF0Y2hlcyA9PSBudWxsICYmICFpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKSB7XG4gICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgIHBhdGhuYW1lOiBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICB9KTtcbiAgICBsZXQgeyBtYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgaW5pdGlhbEVycm9ycyA9IHsgW3JvdXRlLmlkXTogZXJyb3IgfTtcbiAgfVxuICBpZiAoaW5pdGlhbE1hdGNoZXMgJiYgIWluaXQuaHlkcmF0aW9uRGF0YSkge1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICBpbml0aWFsTWF0Y2hlcyxcbiAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICApO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUpIHtcbiAgICAgIGluaXRpYWxNYXRjaGVzID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgbGV0IGluaXRpYWxpemVkO1xuICBpZiAoIWluaXRpYWxNYXRjaGVzKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IFtdO1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICBudWxsLFxuICAgICAgZGF0YVJvdXRlcyxcbiAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBpbml0aWFsTWF0Y2hlc0lzRk9XID0gdHJ1ZTtcbiAgICAgIGluaXRpYWxNYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG4gIH0gZWxzZSBpZiAoaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sYXp5KSkge1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAoIWluaXRpYWxNYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUubG9hZGVyKSkge1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbG9hZGVyRGF0YSA9IGluaXQuaHlkcmF0aW9uRGF0YSA/IGluaXQuaHlkcmF0aW9uRGF0YS5sb2FkZXJEYXRhIDogbnVsbDtcbiAgICBsZXQgZXJyb3JzID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycyA6IG51bGw7XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgbGV0IGlkeCA9IGluaXRpYWxNYXRjaGVzLmZpbmRJbmRleChcbiAgICAgICAgKG0pID0+IGVycm9yc1ttLnJvdXRlLmlkXSAhPT0gdm9pZCAwXG4gICAgICApO1xuICAgICAgaW5pdGlhbGl6ZWQgPSBpbml0aWFsTWF0Y2hlcy5zbGljZSgwLCBpZHggKyAxKS5ldmVyeSgobSkgPT4gIXNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKG0ucm91dGUsIGxvYWRlckRhdGEsIGVycm9ycykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAobSkgPT4gIXNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKG0ucm91dGUsIGxvYWRlckRhdGEsIGVycm9ycylcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCByb3V0ZXI7XG4gIGxldCBzdGF0ZSA9IHtcbiAgICBoaXN0b3J5QWN0aW9uOiBpbml0Lmhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBpbml0Lmhpc3RvcnkubG9jYXRpb24sXG4gICAgbWF0Y2hlczogaW5pdGlhbE1hdGNoZXMsXG4gICAgaW5pdGlhbGl6ZWQsXG4gICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgIC8vIERvbid0IHJlc3RvcmUgb24gaW5pdGlhbCB1cGRhdGVTdGF0ZSgpIGlmIHdlIHdlcmUgU1NSJ2RcbiAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGluaXQuaHlkcmF0aW9uRGF0YSAhPSBudWxsID8gZmFsc2UgOiBudWxsLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldDogZmFsc2UsXG4gICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICBsb2FkZXJEYXRhOiBpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmxvYWRlckRhdGEgfHwge30sXG4gICAgYWN0aW9uRGF0YTogaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5hY3Rpb25EYXRhIHx8IG51bGwsXG4gICAgZXJyb3JzOiBpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycyB8fCBpbml0aWFsRXJyb3JzLFxuICAgIGZldGNoZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgIGJsb2NrZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gIH07XG4gIGxldCBwZW5kaW5nQWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG4gIGxldCBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXI7XG4gIGxldCBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gZmFsc2U7XG4gIGxldCBhcHBsaWVkVmlld1RyYW5zaXRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lciA9IG51bGw7XG4gIGxldCBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcbiAgbGV0IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgbGV0IGNhbmNlbGxlZEZldGNoZXJMb2FkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmZXRjaENvbnRyb2xsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGluY3JlbWVudGluZ0xvYWRJZCA9IDA7XG4gIGxldCBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA9IC0xO1xuICBsZXQgZmV0Y2hSZWxvYWRJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgZmV0Y2hSZWRpcmVjdElkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmZXRjaExvYWRNYXRjaGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGFjdGl2ZUZldGNoZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgYmxvY2tlckZ1bmN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSB2b2lkIDA7XG4gIGxldCBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkID0gbnVsbDtcbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICB1bmxpc3Rlbkhpc3RvcnkgPSBpbml0Lmhpc3RvcnkubGlzdGVuKFxuICAgICAgKHsgYWN0aW9uOiBoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbiwgZGVsdGEgfSkgPT4ge1xuICAgICAgICBpZiAodW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlKSB7XG4gICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlKCk7XG4gICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA9PT0gMCB8fCBkZWx0YSAhPSBudWxsLFxuICAgICAgICAgIFwiWW91IGFyZSB0cnlpbmcgdG8gdXNlIGEgYmxvY2tlciBvbiBhIFBPUCBuYXZpZ2F0aW9uIHRvIGEgbG9jYXRpb24gdGhhdCB3YXMgbm90IGNyZWF0ZWQgYnkgQHJlbWl4LXJ1bi9yb3V0ZXIuIFRoaXMgd2lsbCBmYWlsIHNpbGVudGx5IGluIHByb2R1Y3Rpb24uIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSB0aGUgcm91dGVyIHZpYSBgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlYC9gd2luZG93LmxvY2F0aW9uLmhhc2hgIGluc3RlYWQgb2YgdXNpbmcgcm91dGVyIG5hdmlnYXRpb24gQVBJcy4gIFRoaXMgY2FuIGFsc28gaGFwcGVuIGlmIHlvdSBhcmUgdXNpbmcgY3JlYXRlSGFzaFJvdXRlciBhbmQgdGhlIHVzZXIgbWFudWFsbHkgY2hhbmdlcyB0aGUgVVJMLlwiXG4gICAgICAgICk7XG4gICAgICAgIGxldCBibG9ja2VyS2V5ID0gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgaGlzdG9yeUFjdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGJsb2NrZXJLZXkgJiYgZGVsdGEgIT0gbnVsbCkge1xuICAgICAgICAgIGxldCBuZXh0SGlzdG9yeVVwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gcmVzb2x2ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbml0Lmhpc3RvcnkuZ28oZGVsdGEgKiAtMSk7XG4gICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICBzdGF0ZTogXCJibG9ja2VkXCIsXG4gICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgIHByb2NlZWQoKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBcInByb2NlZWRpbmdcIixcbiAgICAgICAgICAgICAgICBwcm9jZWVkOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgcmVzZXQ6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbmV4dEhpc3RvcnlVcGRhdGVQcm9taXNlLnRoZW4oKCkgPT4gaW5pdC5oaXN0b3J5LmdvKGRlbHRhKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgICAgICBibG9ja2Vycy5zZXQoYmxvY2tlcktleSwgSURMRV9CTE9DS0VSKTtcbiAgICAgICAgICAgICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbik7XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAoaXNCcm93c2VyMikge1xuICAgICAgcmVzdG9yZUFwcGxpZWRUcmFuc2l0aW9ucyhyb3V0ZXJXaW5kb3csIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMpO1xuICAgICAgbGV0IF9zYXZlQXBwbGllZFRyYW5zaXRpb25zID0gKCkgPT4gcGVyc2lzdEFwcGxpZWRUcmFuc2l0aW9ucyhyb3V0ZXJXaW5kb3csIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMpO1xuICAgICAgcm91dGVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyk7XG4gICAgICByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIgPSAoKSA9PiByb3V0ZXJXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIF9zYXZlQXBwbGllZFRyYW5zaXRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFzdGF0ZS5pbml0aWFsaXplZCkge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKFwiUE9QXCIgLyogUG9wICovLCBzdGF0ZS5sb2NhdGlvbiwge1xuICAgICAgICBpbml0aWFsSHlkcmF0aW9uOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlcjtcbiAgfVxuICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIGlmICh1bmxpc3Rlbkhpc3RvcnkpIHtcbiAgICAgIHVubGlzdGVuSGlzdG9yeSgpO1xuICAgIH1cbiAgICBpZiAocmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyKSB7XG4gICAgICByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlcnMuY2xlYXIoKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoXywga2V5KSA9PiBkZWxldGVGZXRjaGVyKGtleSkpO1xuICAgIHN0YXRlLmJsb2NrZXJzLmZvckVhY2goKF8sIGtleSkgPT4gZGVsZXRlQmxvY2tlcihrZXkpKTtcbiAgfVxuICBmdW5jdGlvbiBzdWJzY3JpYmUoZm4pIHtcbiAgICBzdWJzY3JpYmVycy5hZGQoZm4pO1xuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpYmVycy5kZWxldGUoZm4pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBvcHRzID0ge30pIHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgLi4ubmV3U3RhdGVcbiAgICB9O1xuICAgIGxldCB1bm1vdW50ZWRGZXRjaGVycyA9IFtdO1xuICAgIGxldCBtb3VudGVkRmV0Y2hlcnMgPSBbXTtcbiAgICBzdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChmZXRjaGVyLCBrZXkpID0+IHtcbiAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgICAgIHVubW91bnRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3VudGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghc3RhdGUuZmV0Y2hlcnMuaGFzKGtleSkgJiYgIWZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgdW5tb3VudGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFsuLi5zdWJzY3JpYmVyc10uZm9yRWFjaChcbiAgICAgIChzdWJzY3JpYmVyKSA9PiBzdWJzY3JpYmVyKHN0YXRlLCB7XG4gICAgICAgIGRlbGV0ZWRGZXRjaGVyczogdW5tb3VudGVkRmV0Y2hlcnMsXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0czogb3B0cy52aWV3VHJhbnNpdGlvbk9wdHMsXG4gICAgICAgIGZsdXNoU3luYzogb3B0cy5mbHVzaFN5bmMgPT09IHRydWVcbiAgICAgIH0pXG4gICAgKTtcbiAgICB1bm1vdW50ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IGRlbGV0ZUZldGNoZXIoa2V5KSk7XG4gICAgbW91bnRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSkpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwgbmV3U3RhdGUsIHsgZmx1c2hTeW5jIH0gPSB7fSkge1xuICAgIGxldCBpc0FjdGlvblJlbG9hZCA9IHN0YXRlLmFjdGlvbkRhdGEgIT0gbnVsbCAmJiBzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiYgc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiYgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlO1xuICAgIGxldCBhY3Rpb25EYXRhO1xuICAgIGlmIChuZXdTdGF0ZS5hY3Rpb25EYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMobmV3U3RhdGUuYWN0aW9uRGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICBhY3Rpb25EYXRhID0gbmV3U3RhdGUuYWN0aW9uRGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbkRhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBY3Rpb25SZWxvYWQpIHtcbiAgICAgIGFjdGlvbkRhdGEgPSBzdGF0ZS5hY3Rpb25EYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25EYXRhID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IGxvYWRlckRhdGEgPSBuZXdTdGF0ZS5sb2FkZXJEYXRhID8gbWVyZ2VMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgIG5ld1N0YXRlLmxvYWRlckRhdGEsXG4gICAgICBuZXdTdGF0ZS5tYXRjaGVzIHx8IFtdLFxuICAgICAgbmV3U3RhdGUuZXJyb3JzXG4gICAgKSA6IHN0YXRlLmxvYWRlckRhdGE7XG4gICAgbGV0IGJsb2NrZXJzID0gc3RhdGUuYmxvY2tlcnM7XG4gICAgaWYgKGJsb2NrZXJzLnNpemUgPiAwKSB7XG4gICAgICBibG9ja2VycyA9IG5ldyBNYXAoYmxvY2tlcnMpO1xuICAgICAgYmxvY2tlcnMuZm9yRWFjaCgoXywgaykgPT4gYmxvY2tlcnMuc2V0KGssIElETEVfQkxPQ0tFUikpO1xuICAgIH1cbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID0gcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSB8fCBzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiYgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlO1xuICAgIGlmIChpbkZsaWdodERhdGFSb3V0ZXMpIHtcbiAgICAgIGRhdGFSb3V0ZXMgPSBpbkZsaWdodERhdGFSb3V0ZXM7XG4gICAgICBpbkZsaWdodERhdGFSb3V0ZXMgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pIHtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUE9QXCIgLyogUG9wICovKSB7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlBVU0hcIiAvKiBQdXNoICovKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucHVzaChsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLykge1xuICAgICAgaW5pdC5oaXN0b3J5LnJlcGxhY2UobG9jYXRpb24sIGxvY2F0aW9uLnN0YXRlKTtcbiAgICB9XG4gICAgbGV0IHZpZXdUcmFuc2l0aW9uT3B0cztcbiAgICBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJQT1BcIiAvKiBQb3AgKi8pIHtcbiAgICAgIGxldCBwcmlvclBhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHByaW9yUGF0aHMgJiYgcHJpb3JQYXRocy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogc3RhdGUubG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQpIHtcbiAgICAgIGxldCB0b1BhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHRvUGF0aHMpIHtcbiAgICAgICAgdG9QYXRocy5hZGQobG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9QYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtsb2NhdGlvbi5wYXRobmFtZV0pO1xuICAgICAgICBhcHBsaWVkVmlld1RyYW5zaXRpb25zLnNldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSwgdG9QYXRocyk7XG4gICAgICB9XG4gICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICAuLi5uZXdTdGF0ZSxcbiAgICAgICAgLy8gbWF0Y2hlcywgZXJyb3JzLCBmZXRjaGVycyBnbyB0aHJvdWdoIGFzLWlzXG4gICAgICAgIGFjdGlvbkRhdGEsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGhpc3RvcnlBY3Rpb246IHBlbmRpbmdBY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgICAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oXG4gICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgbmV3U3RhdGUubWF0Y2hlcyB8fCBzdGF0ZS5tYXRjaGVzXG4gICAgICAgICksXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgYmxvY2tlcnNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBmbHVzaFN5bmMgPT09IHRydWVcbiAgICAgIH1cbiAgICApO1xuICAgIHBlbmRpbmdBY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG4gICAgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkPy5yZXNvbHZlKCk7XG4gICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IG51bGw7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGUodG8sIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICBpbml0Lmhpc3RvcnkuZ28odG8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgdG8sXG4gICAgICBvcHRzPy5mcm9tUm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgeyBwYXRoLCBzdWJtaXNzaW9uLCBlcnJvciB9ID0gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICAgICAgZmFsc2UsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIHBhdGgsIG9wdHMgJiYgb3B0cy5zdGF0ZSk7XG4gICAgbmV4dExvY2F0aW9uID0ge1xuICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgLi4uaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKG5leHRMb2NhdGlvbilcbiAgICB9O1xuICAgIGxldCB1c2VyUmVwbGFjZSA9IG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwgPyBvcHRzLnJlcGxhY2UgOiB2b2lkIDA7XG4gICAgbGV0IGhpc3RvcnlBY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGlmICh1c2VyUmVwbGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgfSBlbHNlIGlmICh1c2VyUmVwbGFjZSA9PT0gZmFsc2UpIHtcbiAgICB9IGVsc2UgaWYgKHN1Ym1pc3Npb24gIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkgJiYgc3VibWlzc2lvbi5mb3JtQWN0aW9uID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgfVxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSBvcHRzICYmIFwicHJldmVudFNjcm9sbFJlc2V0XCIgaW4gb3B0cyA/IG9wdHMucHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlIDogdm9pZCAwO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgaGlzdG9yeUFjdGlvblxuICAgIH0pO1xuICAgIGlmIChibG9ja2VyS2V5KSB7XG4gICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxuICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgcHJvY2VlZDogdm9pZCAwLFxuICAgICAgICAgICAgcmVzZXQ6IHZvaWQgMCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuYXZpZ2F0ZSh0bywgb3B0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5LCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbmV4dExvY2F0aW9uLCB7XG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgLy8gU2VuZCB0aHJvdWdoIHRoZSBmb3JtRGF0YSBzZXJpYWxpemF0aW9uIGVycm9yIGlmIHdlIGhhdmUgb25lIHNvIHdlIGNhblxuICAgICAgLy8gcmVuZGVyIGF0IHRoZSByaWdodCBlcnJvciBib3VuZGFyeSBhZnRlciB3ZSBtYXRjaCByb3V0ZXNcbiAgICAgIHBlbmRpbmdFcnJvcjogZXJyb3IsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZXBsYWNlOiBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBvcHRzICYmIG9wdHMudmlld1RyYW5zaXRpb24sXG4gICAgICBmbHVzaFN5bmNcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZXZhbGlkYXRlKCkge1xuICAgIGlmICghcGVuZGluZ1JldmFsaWRhdGlvbkRmZCkge1xuICAgICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IGNyZWF0ZURlZmVycmVkKCk7XG4gICAgfVxuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgdXBkYXRlU3RhdGUoeyByZXZhbGlkYXRpb246IFwibG9hZGluZ1wiIH0pO1xuICAgIGxldCBwcm9taXNlID0gcGVuZGluZ1JldmFsaWRhdGlvbkRmZC5wcm9taXNlO1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcInN1Ym1pdHRpbmdcIikge1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKHN0YXRlLmhpc3RvcnlBY3Rpb24sIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIHN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgc3RhcnROYXZpZ2F0aW9uKFxuICAgICAgcGVuZGluZ0FjdGlvbiB8fCBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbixcbiAgICAgIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uOiBzdGF0ZS5uYXZpZ2F0aW9uLFxuICAgICAgICAvLyBQcm94eSB0aHJvdWdoIGFueSByZW5kaW5nIHZpZXcgdHJhbnNpdGlvblxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9PT0gdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uLCBvcHRzKSB7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgcGVuZGluZ0FjdGlvbiA9IGhpc3RvcnlBY3Rpb247XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gKG9wdHMgJiYgb3B0cy5zdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pID09PSB0cnVlO1xuICAgIHNhdmVTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gKG9wdHMgJiYgb3B0cy5lbmFibGVWaWV3VHJhbnNpdGlvbikgPT09IHRydWU7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3B0cyAmJiBvcHRzLm92ZXJyaWRlTmF2aWdhdGlvbjtcbiAgICBsZXQgbWF0Y2hlcyA9IG9wdHM/LmluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUubWF0Y2hlcyAmJiBzdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgIWluaXRpYWxNYXRjaGVzSXNGT1cgPyAoXG4gICAgICAvLyBgbWF0Y2hSb3V0ZXMoKWAgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgaWYgd2UncmUgaW4gaGVyZSB2aWEgYHJvdXRlci5pbml0aWFsaXplKClgXG4gICAgICBzdGF0ZS5tYXRjaGVzXG4gICAgKSA6IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgaWYgKG1hdGNoZXMgJiYgc3RhdGUuaW5pdGlhbGl6ZWQgJiYgIWlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgJiYgaXNIYXNoQ2hhbmdlT25seShzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24pICYmICEob3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpKSB7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHsgbWF0Y2hlcyB9LCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IHsgZXJyb3IsIG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb25cbiAgICApO1xuICAgIGxldCBzY29wZWRDb250ZXh0ID0gbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcihcbiAgICAgIGluaXQudW5zdGFibGVfZ2V0Q29udGV4dCA/IGF3YWl0IGluaXQudW5zdGFibGVfZ2V0Q29udGV4dCgpIDogdm9pZCAwXG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLnBlbmRpbmdFcnJvcikge1xuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCA9IFtcbiAgICAgICAgZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzKS5yb3V0ZS5pZCxcbiAgICAgICAgeyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIGVycm9yOiBvcHRzLnBlbmRpbmdFcnJvciB9XG4gICAgICBdO1xuICAgIH0gZWxzZSBpZiAob3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGxldCBhY3Rpb25SZXN1bHQgPSBhd2FpdCBoYW5kbGVBY3Rpb24oXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgeyByZXBsYWNlOiBvcHRzLnJlcGxhY2UsIGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgaWYgKGFjdGlvblJlc3VsdC5zaG9ydENpcmN1aXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICAgICAgbGV0IFtyb3V0ZUlkLCByZXN1bHRdID0gYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkgJiYgaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSAmJiByZXN1bHQuZXJyb3Iuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwge1xuICAgICAgICAgICAgbWF0Y2hlczogYWN0aW9uUmVzdWx0Lm1hdGNoZXMsXG4gICAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICBbcm91dGVJZF06IHJlc3VsdC5lcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWF0Y2hlcyA9IGFjdGlvblJlc3VsdC5tYXRjaGVzIHx8IG1hdGNoZXM7XG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgICBsb2FkaW5nTmF2aWdhdGlvbiA9IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBvcHRzLnN1Ym1pc3Npb24pO1xuICAgICAgZmx1c2hTeW5jID0gZmFsc2U7XG4gICAgICBmb2dPZldhci5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgICByZXF1ZXN0LnVybCxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7XG4gICAgICBzaG9ydENpcmN1aXRlZCxcbiAgICAgIG1hdGNoZXM6IHVwZGF0ZWRNYXRjaGVzLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9yc1xuICAgIH0gPSBhd2FpdCBoYW5kbGVMb2FkZXJzKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLmZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnJlcGxhY2UsXG4gICAgICBvcHRzICYmIG9wdHMuaW5pdGlhbEh5ZHJhdGlvbiA9PT0gdHJ1ZSxcbiAgICAgIGZsdXNoU3luYyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICApO1xuICAgIGlmIChzaG9ydENpcmN1aXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwge1xuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMgfHwgbWF0Y2hlcyxcbiAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWN0aW9uKHJlcXVlc3QsIGxvY2F0aW9uLCBzdWJtaXNzaW9uLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBvcHRzID0ge30pIHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIGxldCBuYXZpZ2F0aW9uID0gZ2V0U3VibWl0dGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pO1xuICAgIHVwZGF0ZVN0YXRlKHsgbmF2aWdhdGlvbiB9LCB7IGZsdXNoU3luYzogb3B0cy5mbHVzaFN5bmMgPT09IHRydWUgfSk7XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcykucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgICAgYm91bmRhcnlJZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICBlcnJvcjogZGlzY292ZXJSZXN1bHQuZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIGxldCB7IG5vdEZvdW5kTWF0Y2hlcywgZXJyb3IsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgICAgcm91dGUuaWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgYWN0aW9uTWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbik7XG4gICAgaWYgKCFhY3Rpb25NYXRjaC5yb3V0ZS5hY3Rpb24gJiYgIWFjdGlvbk1hdGNoLnJvdXRlLmxhenkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgICByb3V0ZUlkOiBhY3Rpb25NYXRjaC5yb3V0ZS5pZFxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1thY3Rpb25NYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IHJlcGxhY2UyO1xuICAgICAgaWYgKG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwpIHtcbiAgICAgICAgcmVwbGFjZTIgPSBvcHRzLnJlcGxhY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbG9jYXRpb24yID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgICAgICByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKSxcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICApO1xuICAgICAgICByZXBsYWNlMiA9IGxvY2F0aW9uMiA9PT0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWUgKyBzdGF0ZS5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICB9XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZXN1bHQsIHRydWUsIHtcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGlmICgob3B0cyAmJiBvcHRzLnJlcGxhY2UpICE9PSB0cnVlKSB7XG4gICAgICAgIHBlbmRpbmdBY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2FjdGlvbk1hdGNoLnJvdXRlLmlkLCByZXN1bHRdXG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2FkZXJzKHJlcXVlc3QsIGxvY2F0aW9uLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBvdmVycmlkZU5hdmlnYXRpb24sIHN1Ym1pc3Npb24sIGZldGNoZXJTdWJtaXNzaW9uLCByZXBsYWNlMiwgaW5pdGlhbEh5ZHJhdGlvbiwgZmx1c2hTeW5jLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3ZlcnJpZGVOYXZpZ2F0aW9uIHx8IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKTtcbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9IHN1Ym1pc3Npb24gfHwgZmV0Y2hlclN1Ym1pc3Npb24gfHwgZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKGxvYWRpbmdOYXZpZ2F0aW9uKTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlID0gIWlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiAmJiAhaW5pdGlhbEh5ZHJhdGlvbjtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICB1cGRhdGVTdGF0ZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgICAgICAgIC4uLmFjdGlvbkRhdGEgIT09IHZvaWQgMCA/IHsgYWN0aW9uRGF0YSB9IDoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZsdXNoU3luY1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcykucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbYm91bmRhcnlJZF06IGRpc2NvdmVyUmVzdWx0LmVycm9yXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IFttYXRjaGVzVG9Mb2FkLCByZXZhbGlkYXRpbmdGZXRjaGVyc10gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgYWN0aXZlU3VibWlzc2lvbixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgaW5pdGlhbEh5ZHJhdGlvbiA9PT0gdHJ1ZSxcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsXG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLFxuICAgICAgZmV0Y2hMb2FkTWF0Y2hlcyxcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMsXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPSArK2luY3JlbWVudGluZ0xvYWRJZDtcbiAgICBpZiAobWF0Y2hlc1RvTG9hZC5sZW5ndGggPT09IDAgJiYgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBsZXQgdXBkYXRlZEZldGNoZXJzMiA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIC8vIENvbW1pdCBwZW5kaW5nIGVycm9yIGlmIHdlJ3JlIHNob3J0IGNpcmN1aXRpbmdcbiAgICAgICAgICBlcnJvcnM6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIH0gOiBudWxsLFxuICAgICAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICAgICAgLi4udXBkYXRlZEZldGNoZXJzMiA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fVxuICAgICAgICB9LFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgbGV0IHVwZGF0ZXMgPSB7fTtcbiAgICAgIGlmICghaXNGb2dPZldhcikge1xuICAgICAgICB1cGRhdGVzLm5hdmlnYXRpb24gPSBsb2FkaW5nTmF2aWdhdGlvbjtcbiAgICAgICAgbGV0IGFjdGlvbkRhdGEgPSBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KTtcbiAgICAgICAgaWYgKGFjdGlvbkRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHVwZGF0ZXMuYWN0aW9uRGF0YSA9IGFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZXMuZmV0Y2hlcnMgPSBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMocmV2YWxpZGF0aW5nRmV0Y2hlcnMpO1xuICAgICAgfVxuICAgICAgdXBkYXRlU3RhdGUodXBkYXRlcywgeyBmbHVzaFN5bmMgfSk7XG4gICAgfVxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBhYm9ydEZldGNoZXIocmYua2V5KTtcbiAgICAgIGlmIChyZi5jb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KHJmLmtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+IHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKGYpID0+IGFib3J0RmV0Y2hlcihmLmtleSkpO1xuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7IGxvYWRlclJlc3VsdHMsIGZldGNoZXJSZXN1bHRzIH0gPSBhd2FpdCBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIHNjb3BlZENvbnRleHRcbiAgICApO1xuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyKSB7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYWJvcnRcIixcbiAgICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUocmYua2V5KSk7XG4gICAgbGV0IHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChsb2FkZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdDIucmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChmZXRjaGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQocmVkaXJlY3QyLmtleSk7XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdDIucmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc0xvYWRlckRhdGEoXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgZmV0Y2hlclJlc3VsdHNcbiAgICApO1xuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLmVycm9ycykge1xuICAgICAgZXJyb3JzID0geyAuLi5zdGF0ZS5lcnJvcnMsIC4uLmVycm9ycyB9O1xuICAgIH1cbiAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpO1xuICAgIGxldCBkaWRBYm9ydEZldGNoTG9hZHMgPSBhYm9ydFN0YWxlRmV0Y2hMb2FkcyhwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCk7XG4gICAgbGV0IHNob3VsZFVwZGF0ZUZldGNoZXJzID0gdXBkYXRlZEZldGNoZXJzIHx8IGRpZEFib3J0RmV0Y2hMb2FkcyB8fCByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwO1xuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9ycyxcbiAgICAgIC4uLnNob3VsZFVwZGF0ZUZldGNoZXJzID8geyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSA6IHt9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgIWlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuYWN0aW9uRGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHN0YXRlLmFjdGlvbkRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMocmV2YWxpZGF0aW5nRmV0Y2hlcnMpIHtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQocmYua2V5KTtcbiAgICAgIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZmV0Y2hlciA/IGZldGNoZXIuZGF0YSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChyZi5rZXksIHJldmFsaWRhdGluZ0ZldGNoZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBmZXRjaDIoa2V5LCByb3V0ZUlkLCBocmVmMiwgb3B0cykge1xuICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplVG8oXG4gICAgICBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHN0YXRlLm1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGhyZWYyLFxuICAgICAgcm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBub3JtYWxpemVkUGF0aCwgYmFzZW5hbWUpO1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkLFxuICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbm9ybWFsaXplZFBhdGggfSksXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB7IHBhdGgsIHN1Ym1pc3Npb24sIGVycm9yIH0gPSBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gICAgICB0cnVlLFxuICAgICAgbm9ybWFsaXplZFBhdGgsXG4gICAgICBvcHRzXG4gICAgKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgcGF0aCk7XG4gICAgbGV0IHNjb3BlZENvbnRleHQgPSBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKFxuICAgICAgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0ID8gYXdhaXQgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0KCkgOiB2b2lkIDBcbiAgICApO1xuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSAob3B0cyAmJiBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCkgPT09IHRydWU7XG4gICAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBhd2FpdCBoYW5kbGVGZXRjaGVyQWN0aW9uKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICAgIGZsdXNoU3luYyxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBzdWJtaXNzaW9uXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmZXRjaExvYWRNYXRjaGVzLnNldChrZXksIHsgcm91dGVJZCwgcGF0aCB9KTtcbiAgICBhd2FpdCBoYW5kbGVGZXRjaGVyTG9hZGVyKFxuICAgICAga2V5LFxuICAgICAgcm91dGVJZCxcbiAgICAgIHBhdGgsXG4gICAgICBtYXRjaCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckFjdGlvbihrZXksIHJvdXRlSWQsIHBhdGgsIG1hdGNoLCByZXF1ZXN0TWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgaXNGb2dPZldhciwgZmx1c2hTeW5jLCBwcmV2ZW50U2Nyb2xsUmVzZXQsIHN1Ym1pc3Npb24pIHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG4gICAgZnVuY3Rpb24gZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobSkge1xuICAgICAgaWYgKCFtLnJvdXRlLmFjdGlvbiAmJiAhbS5yb3V0ZS5sYXp5KSB7XG4gICAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgbWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICAgICAgcGF0aG5hbWU6IHBhdGgsXG4gICAgICAgICAgcm91dGVJZFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFpc0ZvZ09mV2FyICYmIGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG1hdGNoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0U3VibWl0dGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZXhpc3RpbmdGZXRjaGVyKSwge1xuICAgICAgZmx1c2hTeW5jXG4gICAgfSk7XG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIHN1Ym1pc3Npb25cbiAgICApO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgICBtYXRjaCA9IGdldFRhcmdldE1hdGNoKHJlcXVlc3RNYXRjaGVzLCBwYXRoKTtcbiAgICAgICAgaWYgKGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG1hdGNoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmZXRjaENvbnRyb2xsZXJzLnNldChrZXksIGFib3J0Q29udHJvbGxlcik7XG4gICAgbGV0IG9yaWdpbmF0aW5nTG9hZElkID0gaW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGxldCBhY3Rpb25SZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwiYWN0aW9uXCIsXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBbbWF0Y2hdLFxuICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgaWYgKGZldGNoUmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgaWYgKGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSkgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQoYWN0aW9uUmVzdWx0KSB8fCBpc0Vycm9yUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPiBvcmlnaW5hdGluZ0xvYWRJZCkge1xuICAgICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChrZXkpO1xuICAgICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24pKTtcbiAgICAgICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oZmV0Y2hSZXF1ZXN0LCBhY3Rpb25SZXN1bHQsIGZhbHNlLCB7XG4gICAgICAgICAgICBmZXRjaGVyU3VibWlzc2lvbjogc3VibWlzc2lvbixcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGFjdGlvblJlc3VsdC5lcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24gfHwgc3RhdGUubG9jYXRpb247XG4gICAgbGV0IHJldmFsaWRhdGlvblJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICApO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBtYXRjaGVzID0gc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSAhPT0gXCJpZGxlXCIgPyBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwgYmFzZW5hbWUpIDogc3RhdGUubWF0Y2hlcztcbiAgICBpbnZhcmlhbnQobWF0Y2hlcywgXCJEaWRuJ3QgZmluZCBhbnkgbWF0Y2hlcyBhZnRlciBmZXRjaGVyIGFjdGlvblwiKTtcbiAgICBsZXQgbG9hZElkID0gKytpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgZmV0Y2hSZWxvYWRJZHMuc2V0KGtleSwgbG9hZElkKTtcbiAgICBsZXQgbG9hZEZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBhY3Rpb25SZXN1bHQuZGF0YSk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgbG9hZEZldGNoZXIpO1xuICAgIGxldCBbbWF0Y2hlc1RvTG9hZCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdID0gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBmYWxzZSxcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsXG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLFxuICAgICAgZmV0Y2hMb2FkTWF0Y2hlcyxcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMsXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgW21hdGNoLnJvdXRlLmlkLCBhY3Rpb25SZXN1bHRdXG4gICAgKTtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5maWx0ZXIoKHJmKSA9PiByZi5rZXkgIT09IGtleSkuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGxldCBzdGFsZUtleSA9IHJmLmtleTtcbiAgICAgIGxldCBleGlzdGluZ0ZldGNoZXIyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KHN0YWxlS2V5KTtcbiAgICAgIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZXhpc3RpbmdGZXRjaGVyMiA/IGV4aXN0aW5nRmV0Y2hlcjIuZGF0YSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChzdGFsZUtleSwgcmV2YWxpZGF0aW5nRmV0Y2hlcik7XG4gICAgICBhYm9ydEZldGNoZXIoc3RhbGVLZXkpO1xuICAgICAgaWYgKHJmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5zZXQoc3RhbGVLZXksIHJmLmNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVwZGF0ZVN0YXRlKHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0pO1xuICAgIGxldCBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnMgPSAoKSA9PiByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4gYWJvcnRGZXRjaGVyKHJmLmtleSkpO1xuICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYWJvcnRcIixcbiAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICk7XG4gICAgbGV0IHsgbG9hZGVyUmVzdWx0cywgZmV0Y2hlclJlc3VsdHMgfSA9IGF3YWl0IGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgc2NvcGVkQ29udGV4dFxuICAgICk7XG4gICAgaWYgKGFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImFib3J0XCIsXG4gICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICApO1xuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUoci5rZXkpKTtcbiAgICBsZXQgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGxvYWRlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVkaXJlY3QyLnJlc3VsdCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgcHJldmVudFNjcm9sbFJlc2V0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChmZXRjaGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQocmVkaXJlY3QyLmtleSk7XG4gICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICAgIHJlZGlyZWN0Mi5yZXN1bHQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7IHByZXZlbnRTY3JvbGxSZXNldCB9XG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIHZvaWQgMCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgZmV0Y2hlclJlc3VsdHNcbiAgICApO1xuICAgIGlmIChzdGF0ZS5mZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIoYWN0aW9uUmVzdWx0LmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgICBhYm9ydFN0YWxlRmV0Y2hMb2Fkcyhsb2FkSWQpO1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBsb2FkSWQgPiBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCkge1xuICAgICAgaW52YXJpYW50KHBlbmRpbmdBY3Rpb24sIFwiRXhwZWN0ZWQgcGVuZGluZyBhY3Rpb25cIik7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVN0YXRlKHtcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBsb2FkZXJEYXRhOiBtZXJnZUxvYWRlckRhdGEoXG4gICAgICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgZXJyb3JzXG4gICAgICAgICksXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSk7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoZXJMb2FkZXIoa2V5LCByb3V0ZUlkLCBwYXRoLCBtYXRjaCwgbWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgaXNGb2dPZldhciwgZmx1c2hTeW5jLCBwcmV2ZW50U2Nyb2xsUmVzZXQsIHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKFxuICAgICAga2V5LFxuICAgICAgZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAgIGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdm9pZCAwXG4gICAgICApLFxuICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICk7XG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICk7XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBwYXRoLFxuICAgICAgICBmZXRjaFJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBrZXlcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZGlzY292ZXJSZXN1bHQuZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogcGF0aCB9KSxcbiAgICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgICBtYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmZXRjaENvbnRyb2xsZXJzLnNldChrZXksIGFib3J0Q29udHJvbGxlcik7XG4gICAgbGV0IG9yaWdpbmF0aW5nTG9hZElkID0gaW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBbbWF0Y2hdLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KSA9PT0gYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID4gb3JpZ2luYXRpbmdMb2FkSWQpIHtcbiAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKGtleSk7XG4gICAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKGZldGNoUmVxdWVzdCwgcmVzdWx0LCBmYWxzZSwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCByZXN1bHQuZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSkpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0MiwgaXNOYXZpZ2F0aW9uLCB7XG4gICAgc3VibWlzc2lvbixcbiAgICBmZXRjaGVyU3VibWlzc2lvbixcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgfSA9IHt9KSB7XG4gICAgaWYgKHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiKSkge1xuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuICAgIGxldCBsb2NhdGlvbiA9IHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICAgIGludmFyaWFudChsb2NhdGlvbiwgXCJFeHBlY3RlZCBhIExvY2F0aW9uIGhlYWRlciBvbiB0aGUgcmVkaXJlY3QgUmVzcG9uc2VcIik7XG4gICAgbG9jYXRpb24gPSBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICAgICAgbG9jYXRpb24sXG4gICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgIGJhc2VuYW1lXG4gICAgKTtcbiAgICBsZXQgcmVkaXJlY3RMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHN0YXRlLmxvY2F0aW9uLCBsb2NhdGlvbiwge1xuICAgICAgX2lzUmVkaXJlY3Q6IHRydWVcbiAgICB9KTtcbiAgICBpZiAoaXNCcm93c2VyMikge1xuICAgICAgbGV0IGlzRG9jdW1lbnRSZWxvYWQgPSBmYWxzZTtcbiAgICAgIGlmIChyZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiKSkge1xuICAgICAgICBpc0RvY3VtZW50UmVsb2FkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGluaXQuaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuICAgICAgICBpc0RvY3VtZW50UmVsb2FkID0gLy8gSGFyZCByZWxvYWQgaWYgaXQncyBhbiBhYnNvbHV0ZSBVUkwgdG8gYSBuZXcgb3JpZ2luXG4gICAgICAgIHVybC5vcmlnaW4gIT09IHJvdXRlcldpbmRvdy5sb2NhdGlvbi5vcmlnaW4gfHwgLy8gSGFyZCByZWxvYWQgaWYgaXQncyBhbiBhYnNvbHV0ZSBVUkwgdGhhdCBkb2VzIG5vdCBtYXRjaCBvdXIgYmFzZW5hbWVcbiAgICAgICAgc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSA9PSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGlzRG9jdW1lbnRSZWxvYWQpIHtcbiAgICAgICAgaWYgKHJlcGxhY2UyKSB7XG4gICAgICAgICAgcm91dGVyV2luZG93LmxvY2F0aW9uLnJlcGxhY2UobG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdXRlcldpbmRvdy5sb2NhdGlvbi5hc3NpZ24obG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgcmVkaXJlY3ROYXZpZ2F0aW9uVHlwZSA9IHJlcGxhY2UyID09PSB0cnVlIHx8IHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVwbGFjZVwiKSA/IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi8gOiBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGxldCB7IGZvcm1NZXRob2QsIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlIH0gPSBzdGF0ZS5uYXZpZ2F0aW9uO1xuICAgIGlmICghc3VibWlzc2lvbiAmJiAhZmV0Y2hlclN1Ym1pc3Npb24gJiYgZm9ybU1ldGhvZCAmJiBmb3JtQWN0aW9uICYmIGZvcm1FbmNUeXBlKSB7XG4gICAgICBzdWJtaXNzaW9uID0gZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKHN0YXRlLm5hdmlnYXRpb24pO1xuICAgIH1cbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9IHN1Ym1pc3Npb24gfHwgZmV0Y2hlclN1Ym1pc3Npb247XG4gICAgaWYgKHJlZGlyZWN0UHJlc2VydmVNZXRob2RTdGF0dXNDb2Rlcy5oYXMocmVkaXJlY3QyLnJlc3BvbnNlLnN0YXR1cykgJiYgYWN0aXZlU3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKGFjdGl2ZVN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihyZWRpcmVjdE5hdmlnYXRpb25UeXBlLCByZWRpcmVjdExvY2F0aW9uLCB7XG4gICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAuLi5hY3RpdmVTdWJtaXNzaW9uLFxuICAgICAgICAgIGZvcm1BY3Rpb246IGxvY2F0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZXNlIGZsYWdzIGFjcm9zcyByZWRpcmVjdHNcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBwcmV2ZW50U2Nyb2xsUmVzZXQgfHwgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IGlzTmF2aWdhdGlvbiA/IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgb3ZlcnJpZGVOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24oXG4gICAgICAgIHJlZGlyZWN0TG9jYXRpb24sXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24ocmVkaXJlY3ROYXZpZ2F0aW9uVHlwZSwgcmVkaXJlY3RMb2NhdGlvbiwge1xuICAgICAgICBvdmVycmlkZU5hdmlnYXRpb24sXG4gICAgICAgIC8vIFNlbmQgZmV0Y2hlciBzdWJtaXNzaW9ucyB0aHJvdWdoIGZvciBzaG91bGRSZXZhbGlkYXRlXG4gICAgICAgIGZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGVzZSBmbGFncyBhY3Jvc3MgcmVkaXJlY3RzXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogcHJldmVudFNjcm9sbFJlc2V0IHx8IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBpc05hdmlnYXRpb24gPyBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkIDogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneSh0eXBlLCByZXF1ZXN0LCBtYXRjaGVzVG9Mb2FkLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBmZXRjaGVyS2V5KSB7XG4gICAgbGV0IHJlc3VsdHM7XG4gICAgbGV0IGRhdGFSZXN1bHRzID0ge307XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgICAgICAgZGF0YVN0cmF0ZWd5SW1wbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG1hdGNoZXNUb0xvYWQuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBkYXRhUmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgZXJyb3I6IGVcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICAgIH1cbiAgICBmb3IgKGxldCBbcm91dGVJZCwgcmVzdWx0XSBvZiBPYmplY3QuZW50cmllcyhyZXN1bHRzKSkge1xuICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXN1bHQucmVzdWx0O1xuICAgICAgICBkYXRhUmVzdWx0c1tyb3V0ZUlkXSA9IHtcbiAgICAgICAgICB0eXBlOiBcInJlZGlyZWN0XCIgLyogcmVkaXJlY3QgKi8sXG4gICAgICAgICAgcmVzcG9uc2U6IG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICAgKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVJlc3VsdHNbcm91dGVJZF0gPSBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KFxuICAgICAgICAgIHJlc3VsdFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKG1hdGNoZXMsIG1hdGNoZXNUb0xvYWQsIGZldGNoZXJzVG9Mb2FkLCByZXF1ZXN0LCBzY29wZWRDb250ZXh0KSB7XG4gICAgbGV0IGxvYWRlclJlc3VsdHNQcm9taXNlID0gY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgbGV0IGZldGNoZXJSZXN1bHRzUHJvbWlzZSA9IFByb21pc2UuYWxsKFxuICAgICAgZmV0Y2hlcnNUb0xvYWQubWFwKGFzeW5jIChmKSA9PiB7XG4gICAgICAgIGlmIChmLm1hdGNoZXMgJiYgZi5tYXRjaCAmJiBmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgICAgICBcImxvYWRlclwiLFxuICAgICAgICAgICAgY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoaW5pdC5oaXN0b3J5LCBmLnBhdGgsIGYuY29udHJvbGxlci5zaWduYWwpLFxuICAgICAgICAgICAgW2YubWF0Y2hdLFxuICAgICAgICAgICAgZi5tYXRjaGVzLFxuICAgICAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgICAgIGYua2V5XG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tmLm1hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgICByZXR1cm4geyBbZi5rZXldOiByZXN1bHQgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIFtmLmtleV06IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgICAgICAgICAgICBwYXRobmFtZTogZi5wYXRoXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICBsZXQgbG9hZGVyUmVzdWx0cyA9IGF3YWl0IGxvYWRlclJlc3VsdHNQcm9taXNlO1xuICAgIGxldCBmZXRjaGVyUmVzdWx0cyA9IChhd2FpdCBmZXRjaGVyUmVzdWx0c1Byb21pc2UpLnJlZHVjZShcbiAgICAgIChhY2MsIHIpID0+IE9iamVjdC5hc3NpZ24oYWNjLCByKSxcbiAgICAgIHt9XG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIGZldGNoZXJSZXN1bHRzXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpIHtcbiAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gdHJ1ZTtcbiAgICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgaWYgKGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmFkZChrZXkpO1xuICAgICAgfVxuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZmV0Y2hlciwgb3B0cyA9IHt9KSB7XG4gICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZmV0Y2hlcik7XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9LFxuICAgICAgeyBmbHVzaFN5bmM6IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZSB9XG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KHN0YXRlLm1hdGNoZXMsIHJvdXRlSWQpO1xuICAgIGRlbGV0ZUZldGNoZXIoa2V5KTtcbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiBlcnJvclxuICAgICAgICB9LFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycylcbiAgICAgIH0sXG4gICAgICB7IGZsdXNoU3luYzogKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGdldEZldGNoZXIoa2V5KSB7XG4gICAgYWN0aXZlRmV0Y2hlcnMuc2V0KGtleSwgKGFjdGl2ZUZldGNoZXJzLmdldChrZXkpIHx8IDApICsgMSk7XG4gICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KSB8fCBJRExFX0ZFVENIRVI7XG4gIH1cbiAgZnVuY3Rpb24gZGVsZXRlRmV0Y2hlcihrZXkpIHtcbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpICYmICEoZmV0Y2hlciAmJiBmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBmZXRjaFJlbG9hZElkcy5oYXMoa2V5KSkpIHtcbiAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIH1cbiAgICBmZXRjaExvYWRNYXRjaGVzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoUmVkaXJlY3RJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5kZWxldGUoa2V5KTtcbiAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcXVldWVGZXRjaGVyRm9yRGVsZXRpb24oa2V5KSB7XG4gICAgbGV0IGNvdW50ID0gKGFjdGl2ZUZldGNoZXJzLmdldChrZXkpIHx8IDApIC0gMTtcbiAgICBpZiAoY291bnQgPD0gMCkge1xuICAgICAgYWN0aXZlRmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmFkZChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5zZXQoa2V5LCBjb3VudCk7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFib3J0RmV0Y2hlcihrZXkpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcmtGZXRjaGVyc0RvbmUoa2V5cykge1xuICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICBsZXQgZmV0Y2hlciA9IGdldEZldGNoZXIoa2V5KTtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKGZldGNoZXIuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKSB7XG4gICAgbGV0IGRvbmVLZXlzID0gW107XG4gICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGtleSBvZiBmZXRjaFJlZGlyZWN0SWRzKSB7XG4gICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgICAgaW52YXJpYW50KGZldGNoZXIsIGBFeHBlY3RlZCBmZXRjaGVyOiAke2tleX1gKTtcbiAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmRlbGV0ZShrZXkpO1xuICAgICAgICBkb25lS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHVwZGF0ZWRGZXRjaGVycyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtGZXRjaGVyc0RvbmUoZG9uZUtleXMpO1xuICAgIHJldHVybiB1cGRhdGVkRmV0Y2hlcnM7XG4gIH1cbiAgZnVuY3Rpb24gYWJvcnRTdGFsZUZldGNoTG9hZHMobGFuZGVkSWQpIHtcbiAgICBsZXQgeWVldGVkS2V5cyA9IFtdO1xuICAgIGZvciAobGV0IFtrZXksIGlkXSBvZiBmZXRjaFJlbG9hZElkcykge1xuICAgICAgaWYgKGlkIDwgbGFuZGVkSWQpIHtcbiAgICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAgICAgaW52YXJpYW50KGZldGNoZXIsIGBFeHBlY3RlZCBmZXRjaGVyOiAke2tleX1gKTtcbiAgICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgICAgICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgeWVldGVkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbWFya0ZldGNoZXJzRG9uZSh5ZWV0ZWRLZXlzKTtcbiAgICByZXR1cm4geWVldGVkS2V5cy5sZW5ndGggPiAwO1xuICB9XG4gIGZ1bmN0aW9uIGdldEJsb2NrZXIoa2V5LCBmbikge1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGtleSkgfHwgSURMRV9CTE9DS0VSO1xuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLmdldChrZXkpICE9PSBmbikge1xuICAgICAgYmxvY2tlckZ1bmN0aW9ucy5zZXQoa2V5LCBmbik7XG4gICAgfVxuICAgIHJldHVybiBibG9ja2VyO1xuICB9XG4gIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrZXIoa2V5KSB7XG4gICAgc3RhdGUuYmxvY2tlcnMuZGVsZXRlKGtleSk7XG4gICAgYmxvY2tlckZ1bmN0aW9ucy5kZWxldGUoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVCbG9ja2VyKGtleSwgbmV3QmxvY2tlcikge1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGtleSkgfHwgSURMRV9CTE9DS0VSO1xuICAgIGludmFyaWFudChcbiAgICAgIGJsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiLFxuICAgICAgYEludmFsaWQgYmxvY2tlciBzdGF0ZSB0cmFuc2l0aW9uOiAke2Jsb2NrZXIuc3RhdGV9IC0+ICR7bmV3QmxvY2tlci5zdGF0ZX1gXG4gICAgKTtcbiAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICBibG9ja2Vycy5zZXQoa2V5LCBuZXdCbG9ja2VyKTtcbiAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgY3VycmVudExvY2F0aW9uLFxuICAgIG5leHRMb2NhdGlvbixcbiAgICBoaXN0b3J5QWN0aW9uXG4gIH0pIHtcbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLnNpemUgPiAxKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCBcIkEgcm91dGVyIG9ubHkgc3VwcG9ydHMgb25lIGJsb2NrZXIgYXQgYSB0aW1lXCIpO1xuICAgIH1cbiAgICBsZXQgZW50cmllcyA9IEFycmF5LmZyb20oYmxvY2tlckZ1bmN0aW9ucy5lbnRyaWVzKCkpO1xuICAgIGxldCBbYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uXSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChibG9ja2VyS2V5KTtcbiAgICBpZiAoYmxvY2tlciAmJiBibG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9uKHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSkpIHtcbiAgICAgIHJldHVybiBibG9ja2VyS2V5O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQocGF0aG5hbWUpIHtcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZSB9KTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgeyBtYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhyb3V0ZXNUb1VzZSk7XG4gICAgcmV0dXJuIHsgbm90Rm91bmRNYXRjaGVzOiBtYXRjaGVzLCByb3V0ZSwgZXJyb3IgfTtcbiAgfVxuICBmdW5jdGlvbiBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbihwb3NpdGlvbnMsIGdldFBvc2l0aW9uLCBnZXRLZXkpIHtcbiAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczIgPSBwb3NpdGlvbnM7XG4gICAgZ2V0U2Nyb2xsUG9zaXRpb24gPSBnZXRQb3NpdGlvbjtcbiAgICBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBnZXRLZXkgfHwgbnVsbDtcbiAgICBpZiAoIWluaXRpYWxTY3JvbGxSZXN0b3JlZCAmJiBzdGF0ZS5uYXZpZ2F0aW9uID09PSBJRExFX05BVklHQVRJT04pIHtcbiAgICAgIGluaXRpYWxTY3JvbGxSZXN0b3JlZCA9IHRydWU7XG4gICAgICBsZXQgeSA9IGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oc3RhdGUubG9jYXRpb24sIHN0YXRlLm1hdGNoZXMpO1xuICAgICAgaWYgKHkgIT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVTdGF0ZSh7IHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogeSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IG51bGw7XG4gICAgICBnZXRTY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gICAgICBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBudWxsO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKSB7XG4gICAgaWYgKGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5Mikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBzdGF0ZS5sb2FkZXJEYXRhKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4ga2V5IHx8IGxvY2F0aW9uLmtleTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uLmtleTtcbiAgfVxuICBmdW5jdGlvbiBzYXZlU2Nyb2xsUG9zaXRpb24obG9jYXRpb24sIG1hdGNoZXMpIHtcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvbnMyICYmIGdldFNjcm9sbFBvc2l0aW9uKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zMltrZXldID0gZ2V0U2Nyb2xsUG9zaXRpb24oKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihsb2NhdGlvbiwgbWF0Y2hlcykge1xuICAgIGlmIChzYXZlZFNjcm9sbFBvc2l0aW9uczIpIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgICAgbGV0IHkgPSBzYXZlZFNjcm9sbFBvc2l0aW9uczJba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgeSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgcGF0aG5hbWUpIHtcbiAgICBpZiAoaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbikge1xuICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIGxldCBmb2dNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHsgYWN0aXZlOiB0cnVlLCBtYXRjaGVzOiBmb2dNYXRjaGVzIHx8IFtdIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobWF0Y2hlc1swXS5wYXJhbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsZXQgcGFydGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4geyBhY3RpdmU6IHRydWUsIG1hdGNoZXM6IHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYWN0aXZlOiBmYWxzZSwgbWF0Y2hlczogbnVsbCB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyUm91dGVzKG1hdGNoZXMsIHBhdGhuYW1lLCBzaWduYWwsIGZldGNoZXJLZXkpIHtcbiAgICBpZiAoIWluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzIH07XG4gICAgfVxuICAgIGxldCBwYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBpc05vbkhNUiA9IGluRmxpZ2h0RGF0YVJvdXRlcyA9PSBudWxsO1xuICAgICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgICBsZXQgbG9jYWxNYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbih7XG4gICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIHBhdGg6IHBhdGhuYW1lLFxuICAgICAgICAgIG1hdGNoZXM6IHBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgICAgcGF0Y2g6IChyb3V0ZUlkLCBjaGlsZHJlbikgPT4ge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgICAgICBwYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICAgICAgbG9jYWxNYW5pZmVzdCxcbiAgICAgICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIGVycm9yOiBlLCBwYXJ0aWFsTWF0Y2hlcyB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGlzTm9uSE1SICYmICFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIGRhdGFSb3V0ZXMgPSBbLi4uZGF0YVJvdXRlc107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImFib3J0ZWRcIiB9O1xuICAgICAgfVxuICAgICAgbGV0IG5ld01hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgcGF0aG5hbWUsIGJhc2VuYW1lKTtcbiAgICAgIGlmIChuZXdNYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzOiBuZXdNYXRjaGVzIH07XG4gICAgICB9XG4gICAgICBsZXQgbmV3UGFydGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICBpZiAoIW5ld1BhcnRpYWxNYXRjaGVzIHx8IHBhcnRpYWxNYXRjaGVzLmxlbmd0aCA9PT0gbmV3UGFydGlhbE1hdGNoZXMubGVuZ3RoICYmIHBhcnRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAobSwgaSkgPT4gbS5yb3V0ZS5pZCA9PT0gbmV3UGFydGlhbE1hdGNoZXNbaV0ucm91dGUuaWRcbiAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG51bGwgfTtcbiAgICAgIH1cbiAgICAgIHBhcnRpYWxNYXRjaGVzID0gbmV3UGFydGlhbE1hdGNoZXM7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9pbnRlcm5hbFNldFJvdXRlcyhuZXdSb3V0ZXMpIHtcbiAgICBtYW5pZmVzdCA9IHt9O1xuICAgIGluRmxpZ2h0RGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICBuZXdSb3V0ZXMsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgdm9pZCAwLFxuICAgICAgbWFuaWZlc3RcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIHBhdGNoUm91dGVzKHJvdXRlSWQsIGNoaWxkcmVuKSB7XG4gICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgcm91dGVJZCxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczJcbiAgICApO1xuICAgIGlmIChpc05vbkhNUikge1xuICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgIHVwZGF0ZVN0YXRlKHt9KTtcbiAgICB9XG4gIH1cbiAgcm91dGVyID0ge1xuICAgIGdldCBiYXNlbmFtZSgpIHtcbiAgICAgIHJldHVybiBiYXNlbmFtZTtcbiAgICB9LFxuICAgIGdldCBmdXR1cmUoKSB7XG4gICAgICByZXR1cm4gZnV0dXJlO1xuICAgIH0sXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgIHJldHVybiBkYXRhUm91dGVzO1xuICAgIH0sXG4gICAgZ2V0IHdpbmRvdygpIHtcbiAgICAgIHJldHVybiByb3V0ZXJXaW5kb3c7XG4gICAgfSxcbiAgICBpbml0aWFsaXplLFxuICAgIHN1YnNjcmliZSxcbiAgICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbixcbiAgICBuYXZpZ2F0ZSxcbiAgICBmZXRjaDogZmV0Y2gyLFxuICAgIHJldmFsaWRhdGUsXG4gICAgLy8gUGFzc3Rocm91Z2ggdG8gaGlzdG9yeS1hd2FyZSBjcmVhdGVIcmVmIHVzZWQgYnkgdXNlSHJlZiBzbyB3ZSBnZXQgcHJvcGVyXG4gICAgLy8gaGFzaC1hd2FyZSBVUkxzIGluIERPTSBwYXRoc1xuICAgIGNyZWF0ZUhyZWY6ICh0bykgPT4gaW5pdC5oaXN0b3J5LmNyZWF0ZUhyZWYodG8pLFxuICAgIGVuY29kZUxvY2F0aW9uOiAodG8pID0+IGluaXQuaGlzdG9yeS5lbmNvZGVMb2NhdGlvbih0byksXG4gICAgZ2V0RmV0Y2hlcixcbiAgICBkZWxldGVGZXRjaGVyOiBxdWV1ZUZldGNoZXJGb3JEZWxldGlvbixcbiAgICBkaXNwb3NlLFxuICAgIGdldEJsb2NrZXIsXG4gICAgZGVsZXRlQmxvY2tlcixcbiAgICBwYXRjaFJvdXRlcyxcbiAgICBfaW50ZXJuYWxGZXRjaENvbnRyb2xsZXJzOiBmZXRjaENvbnRyb2xsZXJzLFxuICAgIC8vIFRPRE86IFJlbW92ZSBzZXRSb3V0ZXMsIGl0J3MgdGVtcG9yYXJ5IHRvIGF2b2lkIGRlYWxpbmcgd2l0aFxuICAgIC8vIHVwZGF0aW5nIHRoZSB0cmVlIHdoaWxlIHZhbGlkYXRpbmcgdGhlIHVwZGF0ZSBhbGdvcml0aG0uXG4gICAgX2ludGVybmFsU2V0Um91dGVzXG4gIH07XG4gIHJldHVybiByb3V0ZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyKHJvdXRlcywgb3B0cykge1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVzLmxlbmd0aCA+IDAsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IHJvdXRlcyBhcnJheSB0byBjcmVhdGVTdGF0aWNIYW5kbGVyXCJcbiAgKTtcbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBiYXNlbmFtZSA9IChvcHRzID8gb3B0cy5iYXNlbmFtZSA6IG51bGwpIHx8IFwiL1wiO1xuICBsZXQgbWFwUm91dGVQcm9wZXJ0aWVzMiA9IG9wdHM/Lm1hcFJvdXRlUHJvcGVydGllcyB8fCBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzO1xuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgdm9pZCAwLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHJlcXVlc3QsIHtcbiAgICByZXF1ZXN0Q29udGV4dCxcbiAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgIHNraXBSZXZhbGlkYXRpb24sXG4gICAgZGF0YVN0cmF0ZWd5LFxuICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmRcbiAgfSA9IHt9KSB7XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcIlwiLCBjcmVhdGVQYXRoKHVybCksIG51bGwsIFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgcmVxdWVzdENvbnRleHQgPSByZXF1ZXN0Q29udGV4dCAhPSBudWxsID8gcmVxdWVzdENvbnRleHQgOiBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKCk7XG4gICAgaWYgKCFpc1ZhbGlkTWV0aG9kKG1ldGhvZCkgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbWV0aG9kTm90QWxsb3dlZE1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgICAgbGV0IHN0YXRpY0NvbnRleHQgPSB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlczogbWV0aG9kTm90QWxsb3dlZE1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXMsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXNwb25kID8gcmVzcG9uZChzdGF0aWNDb250ZXh0KSA6IHN0YXRpY0NvbnRleHQ7XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgIGxldCBzdGF0aWNDb250ZXh0ID0ge1xuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3BvbmQgPyByZXNwb25kKHN0YXRpY0NvbnRleHQpIDogc3RhdGljQ29udGV4dDtcbiAgICB9XG4gICAgaWYgKHJlc3BvbmQgJiYgbWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUpKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHJlcXVlc3RDb250ZXh0IGluc3RhbmNlb2YgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyLFxuICAgICAgICBcIldoZW4gdXNpbmcgbWlkZGxld2FyZSBpbiBgc3RhdGljSGFuZGxlci5xdWVyeSgpYCwgYW55IHByb3ZpZGVkIGByZXF1ZXN0Q29udGV4dGAgbXVzdCBiZWFuIGluc3RhbmNlIG9mIGB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXJgXCJcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcmVuZGVyZWRTdGF0aWNDb250ZXh0O1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgICAgICAgICAgLy8gSWYgd2UncmUgY2FsbGluZyBtaWRkbGV3YXJlIHRoZW4gaXQgbXVzdCBiZSBlbmFibGVkIHNvIHdlIGNhbiBjYXN0XG4gICAgICAgICAgICAvLyB0aGlzIHRvIHRoZSBwcm9wZXIgdHlwZSBrbm93aW5nIGl0J3Mgbm90IGFuIGBBcHBMb2FkQ29udGV4dGBcbiAgICAgICAgICAgIGNvbnRleHQ6IHJlcXVlc3RDb250ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQyID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA9PT0gdHJ1ZSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCB8fCBudWxsLFxuICAgICAgICAgICAgICBza2lwUmV2YWxpZGF0aW9uID09PSB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0MikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQgPSB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0MiB9O1xuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHJlc3BvbmQocmVuZGVyZWRTdGF0aWNDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2UoZS5lcnJvcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGUuZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVuZGVyZWRTdGF0aWNDb250ZXh0KSB7XG4gICAgICAgICAgICAgIGlmIChlLnJvdXRlSWQgaW4gcmVuZGVyZWRTdGF0aWNDb250ZXh0LmxvYWRlckRhdGEpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQubG9hZGVyRGF0YVtlLnJvdXRlSWRdID0gdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25kKFxuICAgICAgICAgICAgICAgIGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3IoXG4gICAgICAgICAgICAgICAgICBkYXRhUm91dGVzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyZWRTdGF0aWNDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgZS5lcnJvcixcbiAgICAgICAgICAgICAgICAgIGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgZS5yb3V0ZUlkKS5yb3V0ZS5pZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCBsb2FkZXJJZHggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5sb2FkZXIpO1xuICAgICAgICAgICAgICBsZXQgYm91bmRhcnkgPSBsb2FkZXJJZHggPj0gMCA/IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgbWF0Y2hlc1tsb2FkZXJJZHhdLnJvdXRlLmlkKSA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcyk7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25kKHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICAgICAgICBbYm91bmRhcnkucm91dGUuaWRdOiBlLmVycm9yXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlLmVycm9yKSA/IGUuZXJyb3Iuc3RhdHVzIDogNTAwLFxuICAgICAgICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaW52YXJpYW50KGlzUmVzcG9uc2UocmVzcG9uc2UpLCBcIkV4cGVjdGVkIGEgcmVzcG9uc2UgaW4gcXVlcnkoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNSZXNwb25zZShlKSkge1xuICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgbnVsbCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQgfHwgbnVsbCxcbiAgICAgIHNraXBSZXZhbGlkYXRpb24gPT09IHRydWVcbiAgICApO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0IH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnlSb3V0ZShyZXF1ZXN0LCB7XG4gICAgcm91dGVJZCxcbiAgICByZXF1ZXN0Q29udGV4dCxcbiAgICBkYXRhU3RyYXRlZ3ksXG4gICAgdW5zdGFibGVfcmVzcG9uZDogcmVzcG9uZFxuICB9ID0ge30pIHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICByZXF1ZXN0Q29udGV4dCA9IHJlcXVlc3RDb250ZXh0ICE9IG51bGwgPyByZXF1ZXN0Q29udGV4dCA6IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoKTtcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiICYmIG1ldGhvZCAhPT0gXCJPUFRJT05TXCIpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZCB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVzKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgfVxuICAgIGxldCBtYXRjaCA9IHJvdXRlSWQgPyBtYXRjaGVzLmZpbmQoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpIDogZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pO1xuICAgIGlmIChyb3V0ZUlkICYmICFtYXRjaCkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDMsIHtcbiAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaCkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgIH1cbiAgICBpZiAocmVzcG9uZCAmJiBtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSkpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgcmVxdWVzdENvbnRleHQgaW5zdGFuY2VvZiB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gICAgICAgIFwiV2hlbiB1c2luZyBtaWRkbGV3YXJlIGluIGBzdGF0aWNIYW5kbGVyLnF1ZXJ5Um91dGUoKWAsIGFueSBwcm92aWRlZCBgcmVxdWVzdENvbnRleHRgIG11c3QgYmVhbiBpbnN0YW5jZSBvZiBgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyYFwiXG4gICAgICApO1xuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICB7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgICAgICAgLy8gSWYgd2UncmUgY2FsbGluZyBtaWRkbGV3YXJlIHRoZW4gaXQgbXVzdCBiZSBlbmFibGVkIHNvIHdlIGNhbiBjYXN0XG4gICAgICAgICAgLy8gdGhpcyB0byB0aGUgcHJvcGVyIHR5cGUga25vd2luZyBpdCdzIG5vdCBhbiBgQXBwTG9hZENvbnRleHRgXG4gICAgICAgICAgY29udGV4dDogcmVxdWVzdENvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGxldCByZXN1bHQyID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQocmVzdWx0Mik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBlcnJvcjIgPSByZXN1bHQyLmVycm9ycyA/IE9iamVjdC52YWx1ZXMocmVzdWx0Mi5lcnJvcnMpWzBdIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChlcnJvcjIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdmFsdWUgPSByZXN1bHQyLmFjdGlvbkRhdGEgPyBPYmplY3QudmFsdWVzKHJlc3VsdDIuYWN0aW9uRGF0YSlbMF0gOiBPYmplY3QudmFsdWVzKHJlc3VsdDIubG9hZGVyRGF0YSlbMF07XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IG5ldyBSZXNwb25zZSh2YWx1ZSkgOiBSZXNwb25zZS5qc29uKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICBpZiAoaXNSZXNwb25zZShlLmVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQoZS5lcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoU3RyaW5nKGUuZXJyb3IpLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICBmYWxzZSxcbiAgICAgIG1hdGNoLFxuICAgICAgbnVsbCxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBsZXQgZXJyb3IgPSByZXN1bHQuZXJyb3JzID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQuZXJyb3JzKVswXSA6IHZvaWQgMDtcbiAgICBpZiAoZXJyb3IgIT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuYWN0aW9uRGF0YSkge1xuICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0LmFjdGlvbkRhdGEpWzBdO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmxvYWRlckRhdGEpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdC5sb2FkZXJEYXRhKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBxdWVyeUltcGwocmVxdWVzdCwgbG9jYXRpb24sIG1hdGNoZXMsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3ksIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLCByb3V0ZU1hdGNoLCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBza2lwUmV2YWxpZGF0aW9uKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICBcInF1ZXJ5KCkvcXVlcnlSb3V0ZSgpIHJlcXVlc3RzIG11c3QgY29udGFpbiBhbiBBYm9ydENvbnRyb2xsZXIgc2lnbmFsXCJcbiAgICApO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNNdXRhdGlvbk1ldGhvZChyZXF1ZXN0Lm1ldGhvZCkpIHtcbiAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBzdWJtaXQoXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggfHwgZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pLFxuICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgICByb3V0ZU1hdGNoICE9IG51bGwsXG4gICAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgICBza2lwUmV2YWxpZGF0aW9uXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQyO1xuICAgICAgfVxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICByb3V0ZU1hdGNoLFxuICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkXG4gICAgICApO1xuICAgICAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdCA6IHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoaXNEYXRhU3RyYXRlZ3lSZXN1bHQoZSkgJiYgaXNSZXNwb25zZShlLnJlc3VsdCkpIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKSB7XG4gICAgICAgICAgdGhyb3cgZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUucmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVkaXJlY3RSZXNwb25zZShlKSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdChyZXF1ZXN0LCBtYXRjaGVzLCBhY3Rpb25NYXRjaCwgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIGlzUm91dGVSZXF1ZXN0LCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBza2lwUmV2YWxpZGF0aW9uKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoIWFjdGlvbk1hdGNoLnJvdXRlLmFjdGlvbiAmJiAhYWN0aW9uTWF0Y2gucm91dGUubGF6eSkge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgcGF0aG5hbWU6IG5ldyBVUkwocmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkOiBhY3Rpb25NYXRjaC5yb3V0ZS5pZFxuICAgICAgfSk7XG4gICAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3JcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3lcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHRocm93IG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIHN0YXR1czogcmVzdWx0LnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIExvY2F0aW9uOiByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXM6IFthY3Rpb25NYXRjaF0sXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhIH0sXG4gICAgICAgIGVycm9yczogbnVsbCxcbiAgICAgICAgLy8gTm90ZTogc3RhdHVzQ29kZSArIGhlYWRlcnMgYXJlIHVudXNlZCBoZXJlIHNpbmNlIHF1ZXJ5Um91dGUgd2lsbFxuICAgICAgICAvLyByZXR1cm4gdGhlIHJhdyBSZXNwb25zZSBvciB2YWx1ZVxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA/IGFjdGlvbk1hdGNoIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA1MDAsXG4gICAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgICAuLi5yZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlIHx8IDIwMCxcbiAgICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9hZGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHJlcXVlc3QudXJsLCB7XG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICByZWRpcmVjdDogcmVxdWVzdC5yZWRpcmVjdCxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgICB9KTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gYWN0aW9uTWF0Y2ggOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGxldCBoYW5kbGVyQ29udGV4dDIgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5oYW5kbGVyQ29udGV4dDIsXG4gICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgPyByZXN1bHQuZXJyb3Iuc3RhdHVzIDogcmVzdWx0LnN0YXR1c0NvZGUgIT0gbnVsbCA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNTAwLFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgaGFuZGxlckNvbnRleHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgbG9hZGVyUmVxdWVzdCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgbnVsbCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWRcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGFcbiAgICAgIH0sXG4gICAgICAvLyBhY3Rpb24gc3RhdHVzIGNvZGVzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGxvYWRlciBzdGF0dXMgY29kZXNcbiAgICAgIC4uLnJlc3VsdC5zdGF0dXNDb2RlID8geyBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzQ29kZSB9IDoge30sXG4gICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsb2FkUm91dGVEYXRhKHJlcXVlc3QsIG1hdGNoZXMsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3ksIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLCByb3V0ZU1hdGNoLCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgbGV0IGlzUm91dGVSZXF1ZXN0ID0gcm91dGVNYXRjaCAhPSBudWxsO1xuICAgIGlmIChpc1JvdXRlUmVxdWVzdCAmJiAhcm91dGVNYXRjaD8ucm91dGUubG9hZGVyICYmICFyb3V0ZU1hdGNoPy5yb3V0ZS5sYXp5KSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IHJvdXRlTWF0Y2g/LnJvdXRlLmlkXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHJlcXVlc3RNYXRjaGVzID0gcm91dGVNYXRjaCA/IFtyb3V0ZU1hdGNoXSA6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KG1hdGNoZXMsIHBlbmRpbmdBY3Rpb25SZXN1bHRbMF0pIDogbWF0Y2hlcztcbiAgICBsZXQgbWF0Y2hlc1RvTG9hZCA9IHJlcXVlc3RNYXRjaGVzLmZpbHRlcihcbiAgICAgIChtKSA9PiAobS5yb3V0ZS5sb2FkZXIgfHwgbS5yb3V0ZS5sYXp5KSAmJiAoIWZpbHRlck1hdGNoZXNUb0xvYWQgfHwgZmlsdGVyTWF0Y2hlc1RvTG9hZChtKSlcbiAgICApO1xuICAgIGlmIChtYXRjaGVzVG9Mb2FkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgLy8gQWRkIGEgbnVsbCBmb3IgYWxsIG1hdGNoZWQgcm91dGVzIGZvciBwcm9wZXIgcmV2YWxpZGF0aW9uIG9uIHRoZSBjbGllbnRcbiAgICAgICAgbG9hZGVyRGF0YTogbWF0Y2hlcy5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgbSkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW20ucm91dGUuaWRdOiBudWxsIH0pLFxuICAgICAgICAgIHt9XG4gICAgICAgICksXG4gICAgICAgIGVycm9yczogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8ge1xuICAgICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvclxuICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGlzUm91dGVSZXF1ZXN0LFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3lcbiAgICApO1xuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QpO1xuICAgIH1cbiAgICBsZXQgaGFuZGxlckNvbnRleHQgPSBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlc3VsdHMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgICAgdHJ1ZSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nXG4gICAgKTtcbiAgICBsZXQgZXhlY3V0ZWRMb2FkZXJzID0gbmV3IFNldChcbiAgICAgIG1hdGNoZXNUb0xvYWQubWFwKChtYXRjaCkgPT4gbWF0Y2gucm91dGUuaWQpXG4gICAgKTtcbiAgICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgICBpZiAoIWV4ZWN1dGVkTG9hZGVycy5oYXMobWF0Y2gucm91dGUuaWQpKSB7XG4gICAgICAgIGhhbmRsZXJDb250ZXh0LmxvYWRlckRhdGFbbWF0Y2gucm91dGUuaWRdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaGFuZGxlckNvbnRleHQsXG4gICAgICBtYXRjaGVzXG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5KHR5cGUsIHJlcXVlc3QsIG1hdGNoZXNUb0xvYWQsIG1hdGNoZXMsIGlzUm91dGVSZXF1ZXN0LCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5KSB7XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBkZWZhdWx0RGF0YVN0cmF0ZWd5LFxuICAgICAgdHlwZSxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG51bGwsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGZhbHNlXG4gICAgICAvLyBtaWRkbGV3YXJlIG5vdCBkb25lIHZpYSBkYXRhU3RyYXRlZ3kgaW4gdGhlIHN0YXRpYyBoYW5kbGVyXG4gICAgKTtcbiAgICBsZXQgZGF0YVJlc3VsdHMgPSB7fTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIG1hdGNoZXMubWFwKGFzeW5jIChtYXRjaCkgPT4ge1xuICAgICAgICBpZiAoIShtYXRjaC5yb3V0ZS5pZCBpbiByZXN1bHRzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgIGlmIChpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXN1bHQucmVzdWx0O1xuICAgICAgICAgIHRocm93IG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBtYXRjaC5yb3V0ZS5pZCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgJiYgaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YVJlc3VsdHNbbWF0Y2gucm91dGUuaWRdID0gYXdhaXQgY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChyZXN1bHQpO1xuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgfVxuICByZXR1cm4ge1xuICAgIGRhdGFSb3V0ZXMsXG4gICAgcXVlcnksXG4gICAgcXVlcnlSb3V0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihyb3V0ZXMsIGhhbmRsZXJDb250ZXh0LCBlcnJvciwgYm91bmRhcnlJZCkge1xuICBsZXQgZXJyb3JCb3VuZGFyeUlkID0gYm91bmRhcnlJZCB8fCBoYW5kbGVyQ29udGV4dC5fZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCB8fCByb3V0ZXNbMF0uaWQ7XG4gIHJldHVybiB7XG4gICAgLi4uaGFuZGxlckNvbnRleHQsXG4gICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpID8gZXJyb3Iuc3RhdHVzIDogNTAwLFxuICAgIGVycm9yczoge1xuICAgICAgW2Vycm9yQm91bmRhcnlJZF06IGVycm9yXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0KSB7XG4gIGlmIChyZXF1ZXN0LnNpZ25hbC5yZWFzb24gIT09IHZvaWQgMCkge1xuICAgIHRocm93IHJlcXVlc3Quc2lnbmFsLnJlYXNvbjtcbiAgfVxuICBsZXQgbWV0aG9kID0gaXNSb3V0ZVJlcXVlc3QgPyBcInF1ZXJ5Um91dGVcIiA6IFwicXVlcnlcIjtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIGAke21ldGhvZH0oKSBjYWxsIGFib3J0ZWQgd2l0aG91dCBhbiBcXGBBYm9ydFNpZ25hbC5yZWFzb25cXGA6ICR7cmVxdWVzdC5tZXRob2R9ICR7cmVxdWVzdC51cmx9YFxuICApO1xufVxuZnVuY3Rpb24gaXNTdWJtaXNzaW9uTmF2aWdhdGlvbihvcHRzKSB7XG4gIHJldHVybiBvcHRzICE9IG51bGwgJiYgKFwiZm9ybURhdGFcIiBpbiBvcHRzICYmIG9wdHMuZm9ybURhdGEgIT0gbnVsbCB8fCBcImJvZHlcIiBpbiBvcHRzICYmIG9wdHMuYm9keSAhPT0gdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRvKGxvY2F0aW9uLCBtYXRjaGVzLCBiYXNlbmFtZSwgdG8sIGZyb21Sb3V0ZUlkLCByZWxhdGl2ZSkge1xuICBsZXQgY29udGV4dHVhbE1hdGNoZXM7XG4gIGxldCBhY3RpdmVSb3V0ZU1hdGNoO1xuICBpZiAoZnJvbVJvdXRlSWQpIHtcbiAgICBjb250ZXh0dWFsTWF0Y2hlcyA9IFtdO1xuICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgIGNvbnRleHR1YWxNYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgaWYgKG1hdGNoLnJvdXRlLmlkID09PSBmcm9tUm91dGVJZCkge1xuICAgICAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0dWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgYWN0aXZlUm91dGVNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgfVxuICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICB0byA/IHRvIDogXCIuXCIsXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhjb250ZXh0dWFsTWF0Y2hlcyksXG4gICAgc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICApO1xuICBpZiAodG8gPT0gbnVsbCkge1xuICAgIHBhdGguc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHBhdGguaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIH1cbiAgaWYgKCh0byA9PSBudWxsIHx8IHRvID09PSBcIlwiIHx8IHRvID09PSBcIi5cIikgJiYgYWN0aXZlUm91dGVNYXRjaCkge1xuICAgIGxldCBuYWtlZEluZGV4ID0gaGFzTmFrZWRJbmRleFF1ZXJ5KHBhdGguc2VhcmNoKTtcbiAgICBpZiAoYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiAhbmFrZWRJbmRleCkge1xuICAgICAgcGF0aC5zZWFyY2ggPSBwYXRoLnNlYXJjaCA/IHBhdGguc2VhcmNoLnJlcGxhY2UoL15cXD8vLCBcIj9pbmRleCZcIikgOiBcIj9pbmRleFwiO1xuICAgIH0gZWxzZSBpZiAoIWFjdGl2ZVJvdXRlTWF0Y2gucm91dGUuaW5kZXggJiYgbmFrZWRJbmRleCkge1xuICAgICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGF0aC5zZWFyY2gpO1xuICAgICAgbGV0IGluZGV4VmFsdWVzID0gcGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICAgICAgcGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICAgICAgaW5kZXhWYWx1ZXMuZmlsdGVyKCh2KSA9PiB2KS5mb3JFYWNoKCh2KSA9PiBwYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdikpO1xuICAgICAgbGV0IHFzID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICBwYXRoLnNlYXJjaCA9IHFzID8gYD8ke3FzfWAgOiBcIlwiO1xuICAgIH1cbiAgfVxuICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgcGF0aC5wYXRobmFtZSA9IHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVBhdGgocGF0aCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoaXNGZXRjaGVyLCBwYXRoLCBvcHRzKSB7XG4gIGlmICghb3B0cyB8fCAhaXNTdWJtaXNzaW9uTmF2aWdhdGlvbihvcHRzKSkge1xuICAgIHJldHVybiB7IHBhdGggfTtcbiAgfVxuICBpZiAob3B0cy5mb3JtTWV0aG9kICYmICFpc1ZhbGlkTWV0aG9kKG9wdHMuZm9ybU1ldGhvZCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aCxcbiAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2Q6IG9wdHMuZm9ybU1ldGhvZCB9KVxuICAgIH07XG4gIH1cbiAgbGV0IGdldEludmFsaWRCb2R5RXJyb3IgPSAoKSA9PiAoe1xuICAgIHBhdGgsXG4gICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7IHR5cGU6IFwiaW52YWxpZC1ib2R5XCIgfSlcbiAgfSk7XG4gIGxldCByYXdGb3JtTWV0aG9kID0gb3B0cy5mb3JtTWV0aG9kIHx8IFwiZ2V0XCI7XG4gIGxldCBmb3JtTWV0aG9kID0gcmF3Rm9ybU1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICBsZXQgZm9ybUFjdGlvbiA9IHN0cmlwSGFzaEZyb21QYXRoKHBhdGgpO1xuICBpZiAob3B0cy5ib2R5ICE9PSB2b2lkIDApIHtcbiAgICBpZiAob3B0cy5mb3JtRW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICAgIGlmICghaXNNdXRhdGlvbk1ldGhvZChmb3JtTWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgICAgbGV0IHRleHQgPSB0eXBlb2Ygb3B0cy5ib2R5ID09PSBcInN0cmluZ1wiID8gb3B0cy5ib2R5IDogb3B0cy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEgfHwgb3B0cy5ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zID8gKFxuICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3JtLWNvbnRyb2wtaW5mcmFzdHJ1Y3R1cmUuaHRtbCNwbGFpbi10ZXh0LWZvcm0tZGF0YVxuICAgICAgICBBcnJheS5mcm9tKG9wdHMuYm9keS5lbnRyaWVzKCkpLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCBbbmFtZSwgdmFsdWVdKSA9PiBgJHthY2N9JHtuYW1lfT0ke3ZhbHVlfVxuYCxcbiAgICAgICAgICBcIlwiXG4gICAgICAgIClcbiAgICAgICkgOiBTdHJpbmcob3B0cy5ib2R5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICBmb3JtTWV0aG9kLFxuICAgICAgICAgIGZvcm1BY3Rpb24sXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgICAgICBqc29uOiB2b2lkIDAsXG4gICAgICAgICAgdGV4dFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAob3B0cy5mb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgIGlmICghaXNNdXRhdGlvbk1ldGhvZChmb3JtTWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPSB0eXBlb2Ygb3B0cy5ib2R5ID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShvcHRzLmJvZHkpIDogb3B0cy5ib2R5O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgICAgZm9ybU1ldGhvZCxcbiAgICAgICAgICAgIGZvcm1BY3Rpb24sXG4gICAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICAgICAgICBqc29uLFxuICAgICAgICAgICAgdGV4dDogdm9pZCAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQoXG4gICAgdHlwZW9mIEZvcm1EYXRhID09PSBcImZ1bmN0aW9uXCIsXG4gICAgXCJGb3JtRGF0YSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnRcIlxuICApO1xuICBsZXQgc2VhcmNoUGFyYW1zO1xuICBsZXQgZm9ybURhdGE7XG4gIGlmIChvcHRzLmZvcm1EYXRhKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMob3B0cy5mb3JtRGF0YSk7XG4gICAgZm9ybURhdGEgPSBvcHRzLmZvcm1EYXRhO1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMob3B0cy5ib2R5KTtcbiAgICBmb3JtRGF0YSA9IG9wdHMuYm9keTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBvcHRzLmJvZHk7XG4gICAgZm9ybURhdGEgPSBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpO1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSA9PSBudWxsKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0cy5ib2R5KTtcbiAgICAgIGZvcm1EYXRhID0gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgIH1cbiAgfVxuICBsZXQgc3VibWlzc2lvbiA9IHtcbiAgICBmb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IG9wdHMgJiYgb3B0cy5mb3JtRW5jVHlwZSB8fCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgIGZvcm1EYXRhLFxuICAgIGpzb246IHZvaWQgMCxcbiAgICB0ZXh0OiB2b2lkIDBcbiAgfTtcbiAgaWYgKGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgIHJldHVybiB7IHBhdGgsIHN1Ym1pc3Npb24gfTtcbiAgfVxuICBsZXQgcGFyc2VkUGF0aCA9IHBhcnNlUGF0aChwYXRoKTtcbiAgaWYgKGlzRmV0Y2hlciAmJiBwYXJzZWRQYXRoLnNlYXJjaCAmJiBoYXNOYWtlZEluZGV4UXVlcnkocGFyc2VkUGF0aC5zZWFyY2gpKSB7XG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIFwiXCIpO1xuICB9XG4gIHBhcnNlZFBhdGguc2VhcmNoID0gYD8ke3NlYXJjaFBhcmFtc31gO1xuICByZXR1cm4geyBwYXRoOiBjcmVhdGVQYXRoKHBhcnNlZFBhdGgpLCBzdWJtaXNzaW9uIH07XG59XG5mdW5jdGlvbiBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShtYXRjaGVzLCBib3VuZGFyeUlkLCBpbmNsdWRlQm91bmRhcnkgPSBmYWxzZSkge1xuICBsZXQgaW5kZXggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gYm91bmRhcnlJZCk7XG4gIGlmIChpbmRleCA+PSAwKSB7XG4gICAgcmV0dXJuIG1hdGNoZXMuc2xpY2UoMCwgaW5jbHVkZUJvdW5kYXJ5ID8gaW5kZXggKyAxIDogaW5kZXgpO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gZ2V0TWF0Y2hlc1RvTG9hZChoaXN0b3J5LCBzdGF0ZSwgbWF0Y2hlcywgc3VibWlzc2lvbiwgbG9jYXRpb24sIGluaXRpYWxIeWRyYXRpb24sIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsIGNhbmNlbGxlZEZldGNoZXJMb2FkcywgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbiwgZmV0Y2hMb2FkTWF0Y2hlcywgZmV0Y2hSZWRpcmVjdElkcywgcm91dGVzVG9Vc2UsIGJhc2VuYW1lLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gIGxldCBhY3Rpb25SZXN1bHQgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ID8gaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGEgOiB2b2lkIDA7XG4gIGxldCBjdXJyZW50VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwoc3RhdGUubG9jYXRpb24pO1xuICBsZXQgbmV4dFVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKGxvY2F0aW9uKTtcbiAgbGV0IGJvdW5kYXJ5TWF0Y2hlcyA9IG1hdGNoZXM7XG4gIGlmIChpbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLmVycm9ycykge1xuICAgIGJvdW5kYXJ5TWF0Y2hlcyA9IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmVycm9ycylbMF0sXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkpIHtcbiAgICBib3VuZGFyeU1hdGNoZXMgPSBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXG4gICAgKTtcbiAgfVxuICBsZXQgYWN0aW9uU3RhdHVzID0gcGVuZGluZ0FjdGlvblJlc3VsdCA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uc3RhdHVzQ29kZSA6IHZvaWQgMDtcbiAgbGV0IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPSBhY3Rpb25TdGF0dXMgJiYgYWN0aW9uU3RhdHVzID49IDQwMDtcbiAgbGV0IG5hdmlnYXRpb25NYXRjaGVzID0gYm91bmRhcnlNYXRjaGVzLmZpbHRlcigobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgbGV0IHsgcm91dGUgfSA9IG1hdGNoO1xuICAgIGlmIChyb3V0ZS5sYXp5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLmxvYWRlciA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm4gc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24ocm91dGUsIHN0YXRlLmxvYWRlckRhdGEsIHN0YXRlLmVycm9ycyk7XG4gICAgfVxuICAgIGlmIChpc05ld0xvYWRlcihzdGF0ZS5sb2FkZXJEYXRhLCBzdGF0ZS5tYXRjaGVzW2luZGV4XSwgbWF0Y2gpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRSb3V0ZU1hdGNoID0gc3RhdGUubWF0Y2hlc1tpbmRleF07XG4gICAgbGV0IG5leHRSb3V0ZU1hdGNoID0gbWF0Y2g7XG4gICAgcmV0dXJuIHNob3VsZFJldmFsaWRhdGVMb2FkZXIobWF0Y2gsIHtcbiAgICAgIGN1cnJlbnRVcmwsXG4gICAgICBjdXJyZW50UGFyYW1zOiBjdXJyZW50Um91dGVNYXRjaC5wYXJhbXMsXG4gICAgICBuZXh0VXJsLFxuICAgICAgbmV4dFBhcmFtczogbmV4dFJvdXRlTWF0Y2gucGFyYW1zLFxuICAgICAgLi4uc3VibWlzc2lvbixcbiAgICAgIGFjdGlvblJlc3VsdCxcbiAgICAgIGFjdGlvblN0YXR1cyxcbiAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBzaG91bGRTa2lwUmV2YWxpZGF0aW9uID8gZmFsc2UgOiAoXG4gICAgICAgIC8vIEZvcmNlZCByZXZhbGlkYXRpb24gZHVlIHRvIHN1Ym1pc3Npb24sIHVzZVJldmFsaWRhdG9yLCBvciBYLVJlbWl4LVJldmFsaWRhdGVcbiAgICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCB8fCBjdXJyZW50VXJsLnBhdGhuYW1lICsgY3VycmVudFVybC5zZWFyY2ggPT09IG5leHRVcmwucGF0aG5hbWUgKyBuZXh0VXJsLnNlYXJjaCB8fCAvLyBTZWFyY2ggcGFyYW1zIGFmZmVjdCBhbGwgbG9hZGVyc1xuICAgICAgICBjdXJyZW50VXJsLnNlYXJjaCAhPT0gbmV4dFVybC5zZWFyY2ggfHwgaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRSb3V0ZU1hdGNoLCBuZXh0Um91dGVNYXRjaClcbiAgICAgIClcbiAgICB9KTtcbiAgfSk7XG4gIGxldCByZXZhbGlkYXRpbmdGZXRjaGVycyA9IFtdO1xuICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKGYsIGtleSkgPT4ge1xuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uIHx8ICFtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IGYucm91dGVJZCkgfHwgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlck1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgZi5wYXRoLCBiYXNlbmFtZSk7XG4gICAgaWYgKCFmZXRjaGVyTWF0Y2hlcykge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IG51bGwsXG4gICAgICAgIG1hdGNoOiBudWxsLFxuICAgICAgICBjb250cm9sbGVyOiBudWxsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICBsZXQgZmV0Y2hlck1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2goZmV0Y2hlck1hdGNoZXMsIGYucGF0aCk7XG4gICAgbGV0IHNob3VsZFJldmFsaWRhdGUgPSBmYWxzZTtcbiAgICBpZiAoZmV0Y2hSZWRpcmVjdElkcy5oYXMoa2V5KSkge1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmhhcyhrZXkpKSB7XG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGZldGNoZXIgJiYgZmV0Y2hlci5zdGF0ZSAhPT0gXCJpZGxlXCIgJiYgZmV0Y2hlci5kYXRhID09PSB2b2lkIDApIHtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBpc1JldmFsaWRhdGlvblJlcXVpcmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihmZXRjaGVyTWF0Y2gsIHtcbiAgICAgICAgY3VycmVudFVybCxcbiAgICAgICAgY3VycmVudFBhcmFtczogc3RhdGUubWF0Y2hlc1tzdGF0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdLnBhcmFtcyxcbiAgICAgICAgbmV4dFVybCxcbiAgICAgICAgbmV4dFBhcmFtczogbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnBhcmFtcyxcbiAgICAgICAgLi4uc3VibWlzc2lvbixcbiAgICAgICAgYWN0aW9uUmVzdWx0LFxuICAgICAgICBhY3Rpb25TdGF0dXMsXG4gICAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBzaG91bGRTa2lwUmV2YWxpZGF0aW9uID8gZmFsc2UgOiBpc1JldmFsaWRhdGlvblJlcXVpcmVkXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQ6IGYucm91dGVJZCxcbiAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICBtYXRjaGVzOiBmZXRjaGVyTWF0Y2hlcyxcbiAgICAgICAgbWF0Y2g6IGZldGNoZXJNYXRjaCxcbiAgICAgICAgY29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gW25hdmlnYXRpb25NYXRjaGVzLCByZXZhbGlkYXRpbmdGZXRjaGVyc107XG59XG5mdW5jdGlvbiBzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihyb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKSB7XG4gIGlmIChyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFyb3V0ZS5sb2FkZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGhhc0RhdGEgPSBsb2FkZXJEYXRhICE9IG51bGwgJiYgbG9hZGVyRGF0YVtyb3V0ZS5pZF0gIT09IHZvaWQgMDtcbiAgbGV0IGhhc0Vycm9yID0gZXJyb3JzICE9IG51bGwgJiYgZXJyb3JzW3JvdXRlLmlkXSAhPT0gdm9pZCAwO1xuICBpZiAoIWhhc0RhdGEgJiYgaGFzRXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiByb3V0ZS5sb2FkZXIgPT09IFwiZnVuY3Rpb25cIiAmJiByb3V0ZS5sb2FkZXIuaHlkcmF0ZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiAhaGFzRGF0YSAmJiAhaGFzRXJyb3I7XG59XG5mdW5jdGlvbiBpc05ld0xvYWRlcihjdXJyZW50TG9hZGVyRGF0YSwgY3VycmVudE1hdGNoLCBtYXRjaCkge1xuICBsZXQgaXNOZXcgPSAoXG4gICAgLy8gW2FdIC0+IFthLCBiXVxuICAgICFjdXJyZW50TWF0Y2ggfHwgLy8gW2EsIGJdIC0+IFthLCBjXVxuICAgIG1hdGNoLnJvdXRlLmlkICE9PSBjdXJyZW50TWF0Y2gucm91dGUuaWRcbiAgKTtcbiAgbGV0IGlzTWlzc2luZ0RhdGEgPSAhY3VycmVudExvYWRlckRhdGEuaGFzT3duUHJvcGVydHkobWF0Y2gucm91dGUuaWQpO1xuICByZXR1cm4gaXNOZXcgfHwgaXNNaXNzaW5nRGF0YTtcbn1cbmZ1bmN0aW9uIGlzTmV3Um91dGVJbnN0YW5jZShjdXJyZW50TWF0Y2gsIG1hdGNoKSB7XG4gIGxldCBjdXJyZW50UGF0aCA9IGN1cnJlbnRNYXRjaC5yb3V0ZS5wYXRoO1xuICByZXR1cm4gKFxuICAgIC8vIHBhcmFtIGNoYW5nZSBmb3IgdGhpcyBtYXRjaCwgL3VzZXJzLzEyMyAtPiAvdXNlcnMvNDU2XG4gICAgY3VycmVudE1hdGNoLnBhdGhuYW1lICE9PSBtYXRjaC5wYXRobmFtZSB8fCAvLyBzcGxhdCBwYXJhbSBjaGFuZ2VkLCB3aGljaCBpcyBub3QgcHJlc2VudCBpbiBtYXRjaC5wYXRoXG4gICAgLy8gZS5nLiAvZmlsZXMvaW1hZ2VzL2F2YXRhci5qcGcgLT4gZmlsZXMvZmluYW5jZXMueGxzXG4gICAgY3VycmVudFBhdGggIT0gbnVsbCAmJiBjdXJyZW50UGF0aC5lbmRzV2l0aChcIipcIikgJiYgY3VycmVudE1hdGNoLnBhcmFtc1tcIipcIl0gIT09IG1hdGNoLnBhcmFtc1tcIipcIl1cbiAgKTtcbn1cbmZ1bmN0aW9uIHNob3VsZFJldmFsaWRhdGVMb2FkZXIobG9hZGVyTWF0Y2gsIGFyZykge1xuICBpZiAobG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgIGxldCByb3V0ZUNob2ljZSA9IGxvYWRlck1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUoYXJnKTtcbiAgICBpZiAodHlwZW9mIHJvdXRlQ2hvaWNlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmV0dXJuIHJvdXRlQ2hvaWNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJnLmRlZmF1bHRTaG91bGRSZXZhbGlkYXRlO1xufVxuZnVuY3Rpb24gcGF0Y2hSb3V0ZXNJbXBsKHJvdXRlSWQsIGNoaWxkcmVuLCByb3V0ZXNUb1VzZSwgbWFuaWZlc3QsIG1hcFJvdXRlUHJvcGVydGllczIpIHtcbiAgbGV0IGNoaWxkcmVuVG9QYXRjaDtcbiAgaWYgKHJvdXRlSWQpIHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFtyb3V0ZUlkXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByb3V0ZSxcbiAgICAgIGBObyByb3V0ZSBmb3VuZCB0byBwYXRjaCBjaGlsZHJlbiBpbnRvOiByb3V0ZUlkID0gJHtyb3V0ZUlkfWBcbiAgICApO1xuICAgIGlmICghcm91dGUuY2hpbGRyZW4pIHtcbiAgICAgIHJvdXRlLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIGNoaWxkcmVuVG9QYXRjaCA9IHJvdXRlLmNoaWxkcmVuO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuVG9QYXRjaCA9IHJvdXRlc1RvVXNlO1xuICB9XG4gIGxldCB1bmlxdWVDaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihcbiAgICAobmV3Um91dGUpID0+ICFjaGlsZHJlblRvUGF0Y2guc29tZShcbiAgICAgIChleGlzdGluZ1JvdXRlKSA9PiBpc1NhbWVSb3V0ZShuZXdSb3V0ZSwgZXhpc3RpbmdSb3V0ZSlcbiAgICApXG4gICk7XG4gIGxldCBuZXdSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHVuaXF1ZUNoaWxkcmVuLFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgW3JvdXRlSWQgfHwgXCJfXCIsIFwicGF0Y2hcIiwgU3RyaW5nKGNoaWxkcmVuVG9QYXRjaD8ubGVuZ3RoIHx8IFwiMFwiKV0sXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgY2hpbGRyZW5Ub1BhdGNoLnB1c2goLi4ubmV3Um91dGVzKTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlKG5ld1JvdXRlLCBleGlzdGluZ1JvdXRlKSB7XG4gIGlmIChcImlkXCIgaW4gbmV3Um91dGUgJiYgXCJpZFwiIGluIGV4aXN0aW5nUm91dGUgJiYgbmV3Um91dGUuaWQgPT09IGV4aXN0aW5nUm91dGUuaWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIShuZXdSb3V0ZS5pbmRleCA9PT0gZXhpc3RpbmdSb3V0ZS5pbmRleCAmJiBuZXdSb3V0ZS5wYXRoID09PSBleGlzdGluZ1JvdXRlLnBhdGggJiYgbmV3Um91dGUuY2FzZVNlbnNpdGl2ZSA9PT0gZXhpc3RpbmdSb3V0ZS5jYXNlU2Vuc2l0aXZlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoKCFuZXdSb3V0ZS5jaGlsZHJlbiB8fCBuZXdSb3V0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDApICYmICghZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbiB8fCBleGlzdGluZ1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gbmV3Um91dGUuY2hpbGRyZW4uZXZlcnkoXG4gICAgKGFDaGlsZCwgaSkgPT4gZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbj8uc29tZSgoYkNoaWxkKSA9PiBpc1NhbWVSb3V0ZShhQ2hpbGQsIGJDaGlsZCkpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkTGF6eVJvdXRlTW9kdWxlKHJvdXRlLCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBtYW5pZmVzdCkge1xuICBpZiAoIXJvdXRlLmxhenkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGxhenlSb3V0ZSA9IGF3YWl0IHJvdXRlLmxhenkoKTtcbiAgaWYgKCFyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCByb3V0ZVRvVXBkYXRlID0gbWFuaWZlc3Rbcm91dGUuaWRdO1xuICBpbnZhcmlhbnQocm91dGVUb1VwZGF0ZSwgXCJObyByb3V0ZSBmb3VuZCBpbiBtYW5pZmVzdFwiKTtcbiAgbGV0IHJvdXRlVXBkYXRlcyA9IHt9O1xuICBmb3IgKGxldCBsYXp5Um91dGVQcm9wZXJ0eSBpbiBsYXp5Um91dGUpIHtcbiAgICBsZXQgc3RhdGljUm91dGVWYWx1ZSA9IHJvdXRlVG9VcGRhdGVbbGF6eVJvdXRlUHJvcGVydHldO1xuICAgIGxldCBpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQgPSBzdGF0aWNSb3V0ZVZhbHVlICE9PSB2b2lkIDAgJiYgLy8gVGhpcyBwcm9wZXJ0eSBpc24ndCBzdGF0aWMgc2luY2UgaXQgc2hvdWxkIGFsd2F5cyBiZSB1cGRhdGVkIGJhc2VkXG4gICAgLy8gb24gdGhlIHJvdXRlIHVwZGF0ZXNcbiAgICBsYXp5Um91dGVQcm9wZXJ0eSAhPT0gXCJoYXNFcnJvckJvdW5kYXJ5XCI7XG4gICAgd2FybmluZyhcbiAgICAgICFpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQsXG4gICAgICBgUm91dGUgXCIke3JvdXRlVG9VcGRhdGUuaWR9XCIgaGFzIGEgc3RhdGljIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiBkZWZpbmVkIGJ1dCBpdHMgbGF6eSBmdW5jdGlvbiBpcyBhbHNvIHJldHVybmluZyBhIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5LiBUaGUgbGF6eSByb3V0ZSBwcm9wZXJ0eSBcIiR7bGF6eVJvdXRlUHJvcGVydHl9XCIgd2lsbCBiZSBpZ25vcmVkLmBcbiAgICApO1xuICAgIGlmICghaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkICYmICFpbW11dGFibGVSb3V0ZUtleXMuaGFzKGxhenlSb3V0ZVByb3BlcnR5KSkge1xuICAgICAgcm91dGVVcGRhdGVzW2xhenlSb3V0ZVByb3BlcnR5XSA9IGxhenlSb3V0ZVtsYXp5Um91dGVQcm9wZXJ0eV07XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24ocm91dGVUb1VwZGF0ZSwgcm91dGVVcGRhdGVzKTtcbiAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCB7XG4gICAgLy8gVG8ga2VlcCB0aGluZ3MgZnJhbWV3b3JrIGFnbm9zdGljLCB3ZSB1c2UgdGhlIHByb3ZpZGVkIGBtYXBSb3V0ZVByb3BlcnRpZXNgXG4gICAgLy8gZnVuY3Rpb24gdG8gc2V0IHRoZSBmcmFtZXdvcmstYXdhcmUgcHJvcGVydGllcyAoYGVsZW1lbnRgL2BoYXNFcnJvckJvdW5kYXJ5YClcbiAgICAvLyBzaW5jZSB0aGUgbG9naWMgd2lsbCBkaWZmZXIgYmV0d2VlbiBmcmFtZXdvcmtzLlxuICAgIC4uLm1hcFJvdXRlUHJvcGVydGllczIocm91dGVUb1VwZGF0ZSksXG4gICAgbGF6eTogdm9pZCAwXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKSB7XG4gIGxldCBtYXRjaGVzVG9Mb2FkID0gYXJncy5tYXRjaGVzLmZpbHRlcigobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgbGV0IGtleWVkUmVzdWx0cyA9IHt9O1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKG1hdGNoZXNUb0xvYWQubWFwKChtKSA9PiBtLnJlc29sdmUoKSkpO1xuICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaSkgPT4ge1xuICAgIGtleWVkUmVzdWx0c1ttYXRjaGVzVG9Mb2FkW2ldLnJvdXRlLmlkXSA9IHJlc3VsdDtcbiAgfSk7XG4gIHJldHVybiBrZXllZFJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBkZWZhdWx0RGF0YVN0cmF0ZWd5V2l0aE1pZGRsZXdhcmUoYXJncykge1xuICBpZiAoIWFyZ3MubWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUpKSB7XG4gICAgcmV0dXJuIGRlZmF1bHREYXRhU3RyYXRlZ3koYXJncyk7XG4gIH1cbiAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICBhcmdzLFxuICAgIGZhbHNlLFxuICAgICgpID0+IGRlZmF1bHREYXRhU3RyYXRlZ3koYXJncyksXG4gICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShhcmdzLCBwcm9wYWdhdGVSZXN1bHQsIGhhbmRsZXIsIGVycm9ySGFuZGxlcikge1xuICBsZXQgeyBtYXRjaGVzLCByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSA9IGFyZ3M7XG4gIGxldCBtaWRkbGV3YXJlU3RhdGUgPSB7XG4gICAgaGFuZGxlclJlc3VsdDogdm9pZCAwLFxuICAgIHByb3BhZ2F0ZVJlc3VsdFxuICB9O1xuICB0cnkge1xuICAgIGxldCB0dXBsZXMgPSBtYXRjaGVzLmZsYXRNYXAoXG4gICAgICAobSkgPT4gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlID8gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlLm1hcCgoZm4pID0+IFttLnJvdXRlLmlkLCBmbl0pIDogW11cbiAgICApO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBjYWxsUm91dGVNaWRkbGV3YXJlKFxuICAgICAgeyByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSxcbiAgICAgIHR1cGxlcyxcbiAgICAgIG1pZGRsZXdhcmVTdGF0ZSxcbiAgICAgIGhhbmRsZXJcbiAgICApO1xuICAgIHJldHVybiBtaWRkbGV3YXJlU3RhdGUucHJvcGFnYXRlUmVzdWx0ID8gcmVzdWx0IDogbWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgTWlkZGxld2FyZUVycm9yKSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGVycm9ySGFuZGxlcihlKTtcbiAgICBpZiAocHJvcGFnYXRlUmVzdWx0IHx8ICFtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQsIHJlc3VsdCk7XG4gIH1cbn1cbnZhciBNaWRkbGV3YXJlRXJyb3IgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHJvdXRlSWQsIGVycm9yKSB7XG4gICAgdGhpcy5yb3V0ZUlkID0gcm91dGVJZDtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gIH1cbn07XG5hc3luYyBmdW5jdGlvbiBjYWxsUm91dGVNaWRkbGV3YXJlKGFyZ3MsIG1pZGRsZXdhcmVzLCBtaWRkbGV3YXJlU3RhdGUsIGhhbmRsZXIsIGlkeCA9IDApIHtcbiAgbGV0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICBpZiAocmVxdWVzdC5zaWduYWwucmVhc29uKSB7XG4gICAgICB0aHJvdyByZXF1ZXN0LnNpZ25hbC5yZWFzb247XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBSZXF1ZXN0IGFib3J0ZWQgd2l0aG91dCBhbiBcXGBBYm9ydFNpZ25hbC5yZWFzb25cXGA6ICR7cmVxdWVzdC5tZXRob2R9ICR7cmVxdWVzdC51cmx9YFxuICAgICk7XG4gIH1cbiAgbGV0IHR1cGxlID0gbWlkZGxld2FyZXNbaWR4XTtcbiAgaWYgKCF0dXBsZSkge1xuICAgIG1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0ID0gYXdhaXQgaGFuZGxlcigpO1xuICAgIHJldHVybiBtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdDtcbiAgfVxuICBsZXQgW3JvdXRlSWQsIG1pZGRsZXdhcmVdID0gdHVwbGU7XG4gIGxldCBuZXh0Q2FsbGVkID0gZmFsc2U7XG4gIGxldCBuZXh0UmVzdWx0ID0gdm9pZCAwO1xuICBsZXQgbmV4dCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAobmV4dENhbGxlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG1heSBvbmx5IGNhbGwgYG5leHQoKWAgb25jZSBwZXIgbWlkZGxld2FyZVwiKTtcbiAgICB9XG4gICAgbmV4dENhbGxlZCA9IHRydWU7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNhbGxSb3V0ZU1pZGRsZXdhcmUoXG4gICAgICBhcmdzLFxuICAgICAgbWlkZGxld2FyZXMsXG4gICAgICBtaWRkbGV3YXJlU3RhdGUsXG4gICAgICBoYW5kbGVyLFxuICAgICAgaWR4ICsgMVxuICAgICk7XG4gICAgaWYgKG1pZGRsZXdhcmVTdGF0ZS5wcm9wYWdhdGVSZXN1bHQpIHtcbiAgICAgIG5leHRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1pZGRsZXdhcmUoXG4gICAgICB7XG4gICAgICAgIHJlcXVlc3Q6IGFyZ3MucmVxdWVzdCxcbiAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyxcbiAgICAgICAgY29udGV4dDogYXJncy5jb250ZXh0XG4gICAgICB9LFxuICAgICAgbmV4dFxuICAgICk7XG4gICAgaWYgKG5leHRDYWxsZWQpIHtcbiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBNaWRkbGV3YXJlRXJyb3IpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHRocm93IG5ldyBNaWRkbGV3YXJlRXJyb3Iocm91dGVJZCwgZSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3lJbXBsKGRhdGFTdHJhdGVneUltcGwsIHR5cGUsIHJlcXVlc3QsIG1hdGNoZXNUb0xvYWQsIG1hdGNoZXMsIGZldGNoZXJLZXksIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBzY29wZWRDb250ZXh0LCBlbmFibGVNaWRkbGV3YXJlKSB7XG4gIGxldCBsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzID0gbWF0Y2hlcy5tYXAoXG4gICAgKG0pID0+IG0ucm91dGUubGF6eSA/IGxvYWRMYXp5Um91dGVNb2R1bGUobS5yb3V0ZSwgbWFwUm91dGVQcm9wZXJ0aWVzMiwgbWFuaWZlc3QpIDogdm9pZCAwXG4gICk7XG4gIGlmIChlbmFibGVNaWRkbGV3YXJlKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyk7XG4gIH1cbiAgbGV0IGRzTWF0Y2hlcyA9IG1hdGNoZXMubWFwKChtYXRjaCwgaSkgPT4ge1xuICAgIGxldCBsb2FkUm91dGVQcm9taXNlID0gbG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlc1tpXTtcbiAgICBsZXQgc2hvdWxkTG9hZCA9IG1hdGNoZXNUb0xvYWQuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gbWF0Y2gucm91dGUuaWQpO1xuICAgIGxldCByZXNvbHZlID0gYXN5bmMgKGhhbmRsZXJPdmVycmlkZSkgPT4ge1xuICAgICAgaWYgKGhhbmRsZXJPdmVycmlkZSAmJiByZXF1ZXN0Lm1ldGhvZCA9PT0gXCJHRVRcIiAmJiAobWF0Y2gucm91dGUubGF6eSB8fCBtYXRjaC5yb3V0ZS5sb2FkZXIpKSB7XG4gICAgICAgIHNob3VsZExvYWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNob3VsZExvYWQgPyBjYWxsTG9hZGVyT3JBY3Rpb24oXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBsb2FkUm91dGVQcm9taXNlLFxuICAgICAgICBoYW5kbGVyT3ZlcnJpZGUsXG4gICAgICAgIHNjb3BlZENvbnRleHRcbiAgICAgICkgOiBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLCByZXN1bHQ6IHZvaWQgMCB9KTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAuLi5tYXRjaCxcbiAgICAgIHNob3VsZExvYWQsXG4gICAgICByZXNvbHZlXG4gICAgfTtcbiAgfSk7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZGF0YVN0cmF0ZWd5SW1wbCh7XG4gICAgbWF0Y2hlczogZHNNYXRjaGVzLFxuICAgIHJlcXVlc3QsXG4gICAgcGFyYW1zOiBtYXRjaGVzWzBdLnBhcmFtcyxcbiAgICBmZXRjaGVyS2V5LFxuICAgIGNvbnRleHQ6IHNjb3BlZENvbnRleHRcbiAgfSk7XG4gIHRyeSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIGNhbGxMb2FkZXJPckFjdGlvbih0eXBlLCByZXF1ZXN0LCBtYXRjaCwgbG9hZFJvdXRlUHJvbWlzZSwgaGFuZGxlck92ZXJyaWRlLCBzY29wZWRDb250ZXh0KSB7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBvblJlamVjdDtcbiAgbGV0IHJ1bkhhbmRsZXIgPSAoaGFuZGxlcikgPT4ge1xuICAgIGxldCByZWplY3Q7XG4gICAgbGV0IGFib3J0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChfLCByKSA9PiByZWplY3QgPSByKTtcbiAgICBvblJlamVjdCA9ICgpID0+IHJlamVjdCgpO1xuICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG4gICAgbGV0IGFjdHVhbEhhbmRsZXIgPSAoY3R4KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFlvdSBjYW5ub3QgY2FsbCB0aGUgaGFuZGxlciBmb3IgYSByb3V0ZSB3aGljaCBkZWZpbmVzIGEgYm9vbGVhbiBcIiR7dHlwZX1cIiBbcm91dGVJZDogJHttYXRjaC5yb3V0ZS5pZH1dYFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYW5kbGVyKFxuICAgICAgICB7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBwYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICAgICAgICBjb250ZXh0OiBzY29wZWRDb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmN0eCAhPT0gdm9pZCAwID8gW2N0eF0gOiBbXVxuICAgICAgKTtcbiAgICB9O1xuICAgIGxldCBoYW5kbGVyUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgdmFsID0gYXdhaXQgKGhhbmRsZXJPdmVycmlkZSA/IGhhbmRsZXJPdmVycmlkZSgoY3R4KSA9PiBhY3R1YWxIYW5kbGVyKGN0eCkpIDogYWN0dWFsSGFuZGxlcigpKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdDogdmFsIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtoYW5kbGVyUHJvbWlzZSwgYWJvcnRQcm9taXNlXSk7XG4gIH07XG4gIHRyeSB7XG4gICAgbGV0IGhhbmRsZXIgPSBtYXRjaC5yb3V0ZVt0eXBlXTtcbiAgICBpZiAobG9hZFJvdXRlUHJvbWlzZSkge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJFcnJvcjtcbiAgICAgICAgbGV0IFt2YWx1ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgdGhyb3dzLCBkb24ndCBsZXQgaXQgaW1tZWRpYXRlbHkgYnViYmxlIG91dCxcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBuZWVkIHRvIGxldCB0aGUgbGF6eSgpIGV4ZWN1dGlvbiBmaW5pc2ggc28gd2Uga25vdyBpZiB0aGlzXG4gICAgICAgICAgLy8gcm91dGUgaGFzIGEgYm91bmRhcnkgdGhhdCBjYW4gaGFuZGxlIHRoZSBlcnJvclxuICAgICAgICAgIHJ1bkhhbmRsZXIoaGFuZGxlcikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZXJFcnJvciA9IGU7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgbG9hZFJvdXRlUHJvbWlzZVxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKGhhbmRsZXJFcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgaGFuZGxlckVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgbG9hZFJvdXRlUHJvbWlzZTtcbiAgICAgICAgaGFuZGxlciA9IG1hdGNoLnJvdXRlW3R5cGVdO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHJ1bkhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJhY3Rpb25cIikge1xuICAgICAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgICAgICBsZXQgcGF0aG5hbWUgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuICAgICAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgICByb3V0ZUlkOiBtYXRjaC5yb3V0ZS5pZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIHJlc3VsdDogdm9pZCAwIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFoYW5kbGVyKSB7XG4gICAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICBsZXQgcGF0aG5hbWUgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgICAgcGF0aG5hbWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBydW5IYW5kbGVyKGhhbmRsZXIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLywgcmVzdWx0OiBlIH07XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKG9uUmVqZWN0KSB7XG4gICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25SZWplY3QpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuYXN5bmMgZnVuY3Rpb24gY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChkYXRhU3RyYXRlZ3lSZXN1bHQpIHtcbiAgbGV0IHsgcmVzdWx0LCB0eXBlIH0gPSBkYXRhU3RyYXRlZ3lSZXN1bHQ7XG4gIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICBsZXQgZGF0YTI7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBjb250ZW50VHlwZSA9IHJlc3VsdC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgIGlmIChjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgICBpZiAocmVzdWx0LmJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgIGRhdGEyID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhMiA9IGF3YWl0IHJlc3VsdC5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEyID0gYXdhaXQgcmVzdWx0LnRleHQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIGVycm9yOiBlIH07XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChyZXN1bHQuc3RhdHVzLCByZXN1bHQuc3RhdHVzVGV4dCwgZGF0YTIpLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sXG4gICAgICBkYXRhOiBkYXRhMixcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLykge1xuICAgIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChyZXN1bHQuZGF0YSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgIGVycm9yOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICByZXN1bHQuaW5pdD8uc3RhdHVzIHx8IDUwMCxcbiAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgcmVzdWx0LmRhdGFcbiAgICAgICAgKSxcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB2b2lkIDAsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICBlcnJvcjogcmVzdWx0LFxuICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLyxcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIGRhdGE6IHJlc3VsdCB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdCwgcm91dGVJZCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IGxvY2F0aW9uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgaW52YXJpYW50KFxuICAgIGxvY2F0aW9uLFxuICAgIFwiUmVkaXJlY3RzIHJldHVybmVkL3Rocm93biBmcm9tIGxvYWRlcnMvYWN0aW9ucyBtdXN0IGhhdmUgYSBMb2NhdGlvbiBoZWFkZXJcIlxuICApO1xuICBpZiAoIUFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgIGxldCB0cmltbWVkTWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpICsgMVxuICAgICk7XG4gICAgbG9jYXRpb24gPSBub3JtYWxpemVUbyhcbiAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgdHJpbW1lZE1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGxvY2F0aW9uXG4gICAgKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5mdW5jdGlvbiBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKGxvY2F0aW9uLCBjdXJyZW50VXJsLCBiYXNlbmFtZSkge1xuICBpZiAoQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgbGV0IG5vcm1hbGl6ZWRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIGxldCB1cmwgPSBub3JtYWxpemVkTG9jYXRpb24uc3RhcnRzV2l0aChcIi8vXCIpID8gbmV3IFVSTChjdXJyZW50VXJsLnByb3RvY29sICsgbm9ybWFsaXplZExvY2F0aW9uKSA6IG5ldyBVUkwobm9ybWFsaXplZExvY2F0aW9uKTtcbiAgICBsZXQgaXNTYW1lQmFzZW5hbWUgPSBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpICE9IG51bGw7XG4gICAgaWYgKHVybC5vcmlnaW4gPT09IGN1cnJlbnRVcmwub3JpZ2luICYmIGlzU2FtZUJhc2VuYW1lKSB7XG4gICAgICByZXR1cm4gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaCArIHVybC5oYXNoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChoaXN0b3J5LCBsb2NhdGlvbiwgc2lnbmFsLCBzdWJtaXNzaW9uKSB7XG4gIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdHJpcEhhc2hGcm9tUGF0aChsb2NhdGlvbikpLnRvU3RyaW5nKCk7XG4gIGxldCBpbml0ID0geyBzaWduYWwgfTtcbiAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUVuY1R5cGUgfSA9IHN1Ym1pc3Npb247XG4gICAgaW5pdC5tZXRob2QgPSBmb3JtTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKGZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgaW5pdC5oZWFkZXJzID0gbmV3IEhlYWRlcnMoeyBcIkNvbnRlbnQtVHlwZVwiOiBmb3JtRW5jVHlwZSB9KTtcbiAgICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KHN1Ym1pc3Npb24uanNvbik7XG4gICAgfSBlbHNlIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICAgIGluaXQuYm9keSA9IHN1Ym1pc3Npb24udGV4dDtcbiAgICB9IGVsc2UgaWYgKGZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICYmIHN1Ym1pc3Npb24uZm9ybURhdGEpIHtcbiAgICAgIGluaXQuYm9keSA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKHN1Ym1pc3Npb24uZm9ybURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0LmJvZHkgPSBzdWJtaXNzaW9uLmZvcm1EYXRhO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLCBpbml0KTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKGZvcm1EYXRhKSB7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiB2YWx1ZS5uYW1lKTtcbiAgfVxuICByZXR1cm4gc2VhcmNoUGFyYW1zO1xufVxuZnVuY3Rpb24gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKSB7XG4gIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoUGFyYW1zLmVudHJpZXMoKSkge1xuICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZm9ybURhdGE7XG59XG5mdW5jdGlvbiBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKG1hdGNoZXMsIHJlc3VsdHMsIHBlbmRpbmdBY3Rpb25SZXN1bHQsIGlzU3RhdGljSGFuZGxlciA9IGZhbHNlLCBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA9IGZhbHNlKSB7XG4gIGxldCBsb2FkZXJEYXRhID0ge307XG4gIGxldCBlcnJvcnMgPSBudWxsO1xuICBsZXQgc3RhdHVzQ29kZTtcbiAgbGV0IGZvdW5kRXJyb3IgPSBmYWxzZTtcbiAgbGV0IGxvYWRlckhlYWRlcnMgPSB7fTtcbiAgbGV0IHBlbmRpbmdFcnJvciA9IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgOiB2b2lkIDA7XG4gIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICBpZiAoIShtYXRjaC5yb3V0ZS5pZCBpbiByZXN1bHRzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tpZF07XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSxcbiAgICAgIFwiQ2Fubm90IGhhbmRsZSByZWRpcmVjdCByZXN1bHRzIGluIHByb2Nlc3NMb2FkZXJEYXRhXCJcbiAgICApO1xuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBlcnJvciA9IHJlc3VsdC5lcnJvcjtcbiAgICAgIGlmIChwZW5kaW5nRXJyb3IgIT09IHZvaWQgMCkge1xuICAgICAgICBlcnJvciA9IHBlbmRpbmdFcnJvcjtcbiAgICAgICAgcGVuZGluZ0Vycm9yID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IHt9O1xuICAgICAgaWYgKHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nKSB7XG4gICAgICAgIGVycm9yc1tpZF0gPSBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBpZCk7XG4gICAgICAgIGlmIChlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0gPT0gbnVsbCkge1xuICAgICAgICAgIGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSA9IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RhdGljSGFuZGxlcikge1xuICAgICAgICBsb2FkZXJEYXRhW2lkXSA9IFJlc2V0TG9hZGVyRGF0YVN5bWJvbDtcbiAgICAgIH1cbiAgICAgIGlmICghZm91bmRFcnJvcikge1xuICAgICAgICBmb3VuZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgc3RhdHVzQ29kZSA9IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgPyByZXN1bHQuZXJyb3Iuc3RhdHVzIDogNTAwO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYWRlckRhdGFbaWRdID0gcmVzdWx0LmRhdGE7XG4gICAgICBpZiAocmVzdWx0LnN0YXR1c0NvZGUgJiYgcmVzdWx0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiAhZm91bmRFcnJvcikge1xuICAgICAgICBzdGF0dXNDb2RlID0gcmVzdWx0LnN0YXR1c0NvZGU7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAocGVuZGluZ0Vycm9yICE9PSB2b2lkIDAgJiYgcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGVycm9ycyA9IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nRXJyb3IgfTtcbiAgICBsb2FkZXJEYXRhW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dID0gdm9pZCAwO1xuICB9XG4gIHJldHVybiB7XG4gICAgbG9hZGVyRGF0YSxcbiAgICBlcnJvcnMsXG4gICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSB8fCAyMDAsXG4gICAgbG9hZGVySGVhZGVyc1xuICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc0xvYWRlckRhdGEoc3RhdGUsIG1hdGNoZXMsIHJlc3VsdHMsIHBlbmRpbmdBY3Rpb25SZXN1bHQsIHJldmFsaWRhdGluZ0ZldGNoZXJzLCBmZXRjaGVyUmVzdWx0cykge1xuICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgbWF0Y2hlcyxcbiAgICByZXN1bHRzLFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgKTtcbiAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICBsZXQgeyBrZXksIG1hdGNoLCBjb250cm9sbGVyIH0gPSByZjtcbiAgICBsZXQgcmVzdWx0ID0gZmV0Y2hlclJlc3VsdHNba2V5XTtcbiAgICBpbnZhcmlhbnQocmVzdWx0LCBcIkRpZCBub3QgZmluZCBjb3JyZXNwb25kaW5nIGZldGNoZXIgcmVzdWx0XCIpO1xuICAgIGlmIChjb250cm9sbGVyICYmIGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KHN0YXRlLm1hdGNoZXMsIG1hdGNoPy5yb3V0ZS5pZCk7XG4gICAgICBpZiAoIShlcnJvcnMgJiYgZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdKSkge1xuICAgICAgICBlcnJvcnMgPSB7XG4gICAgICAgICAgLi4uZXJyb3JzLFxuICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICB9IGVsc2UgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIlVuaGFuZGxlZCBmZXRjaGVyIHJldmFsaWRhdGlvbiByZWRpcmVjdFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIocmVzdWx0LmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7IGxvYWRlckRhdGEsIGVycm9ycyB9O1xufVxuZnVuY3Rpb24gbWVyZ2VMb2FkZXJEYXRhKGxvYWRlckRhdGEsIG5ld0xvYWRlckRhdGEsIG1hdGNoZXMsIGVycm9ycykge1xuICBsZXQgbWVyZ2VkTG9hZGVyRGF0YSA9IE9iamVjdC5lbnRyaWVzKG5ld0xvYWRlckRhdGEpLmZpbHRlcigoWywgdl0pID0+IHYgIT09IFJlc2V0TG9hZGVyRGF0YVN5bWJvbCkucmVkdWNlKChtZXJnZWQsIFtrLCB2XSkgPT4ge1xuICAgIG1lcmdlZFtrXSA9IHY7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfSwge30pO1xuICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgaWYgKCFuZXdMb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSAmJiBsb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSAmJiBtYXRjaC5yb3V0ZS5sb2FkZXIpIHtcbiAgICAgIG1lcmdlZExvYWRlckRhdGFbaWRdID0gbG9hZGVyRGF0YVtpZF07XG4gICAgfVxuICAgIGlmIChlcnJvcnMgJiYgZXJyb3JzLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXJnZWRMb2FkZXJEYXRhO1xufVxuZnVuY3Rpb24gZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gIGlmICghcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4gaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHtcbiAgICAvLyBDbGVhciBvdXQgcHJpb3IgYWN0aW9uRGF0YSBvbiBlcnJvcnNcbiAgICBhY3Rpb25EYXRhOiB7fVxuICB9IDoge1xuICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCByb3V0ZUlkKSB7XG4gIGxldCBlbGlnaWJsZU1hdGNoZXMgPSByb3V0ZUlkID8gbWF0Y2hlcy5zbGljZSgwLCBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxKSA6IFsuLi5tYXRjaGVzXTtcbiAgcmV0dXJuIGVsaWdpYmxlTWF0Y2hlcy5yZXZlcnNlKCkuZmluZCgobSkgPT4gbS5yb3V0ZS5oYXNFcnJvckJvdW5kYXJ5ID09PSB0cnVlKSB8fCBtYXRjaGVzWzBdO1xufVxuZnVuY3Rpb24gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhyb3V0ZXMpIHtcbiAgbGV0IHJvdXRlID0gcm91dGVzLmxlbmd0aCA9PT0gMSA/IHJvdXRlc1swXSA6IHJvdXRlcy5maW5kKChyKSA9PiByLmluZGV4IHx8ICFyLnBhdGggfHwgci5wYXRoID09PSBcIi9cIikgfHwge1xuICAgIGlkOiBgX19zaGltLWVycm9yLXJvdXRlX19gXG4gIH07XG4gIHJldHVybiB7XG4gICAgbWF0Y2hlczogW1xuICAgICAge1xuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBwYXRobmFtZTogXCJcIixcbiAgICAgICAgcGF0aG5hbWVCYXNlOiBcIlwiLFxuICAgICAgICByb3V0ZVxuICAgICAgfVxuICAgIF0sXG4gICAgcm91dGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEludGVybmFsUm91dGVyRXJyb3Ioc3RhdHVzLCB7XG4gIHBhdGhuYW1lLFxuICByb3V0ZUlkLFxuICBtZXRob2QsXG4gIHR5cGUsXG4gIG1lc3NhZ2Vcbn0gPSB7fSkge1xuICBsZXQgc3RhdHVzVGV4dCA9IFwiVW5rbm93biBTZXJ2ZXIgRXJyb3JcIjtcbiAgbGV0IGVycm9yTWVzc2FnZSA9IFwiVW5rbm93biBAcmVtaXgtcnVuL3JvdXRlciBlcnJvclwiO1xuICBpZiAoc3RhdHVzID09PSA0MDApIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJCYWQgUmVxdWVzdFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYFlvdSBtYWRlIGEgJHttZXRob2R9IHJlcXVlc3QgdG8gXCIke3BhdGhuYW1lfVwiIGJ1dCBkaWQgbm90IHByb3ZpZGUgYSBcXGBsb2FkZXJcXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImludmFsaWQtYm9keVwiKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBlbmNvZGUgc3VibWlzc2lvbiBib2R5XCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiRm9yYmlkZGVuXCI7XG4gICAgZXJyb3JNZXNzYWdlID0gYFJvdXRlIFwiJHtyb3V0ZUlkfVwiIGRvZXMgbm90IG1hdGNoIFVSTCBcIiR7cGF0aG5hbWV9XCJgO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiTm90IEZvdW5kXCI7XG4gICAgZXJyb3JNZXNzYWdlID0gYE5vIHJvdXRlIG1hdGNoZXMgVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDUpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJNZXRob2QgTm90IEFsbG93ZWRcIjtcbiAgICBpZiAobWV0aG9kICYmIHBhdGhuYW1lICYmIHJvdXRlSWQpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBZb3UgbWFkZSBhICR7bWV0aG9kLnRvVXBwZXJDYXNlKCl9IHJlcXVlc3QgdG8gXCIke3BhdGhuYW1lfVwiIGJ1dCBkaWQgbm90IHByb3ZpZGUgYW4gXFxgYWN0aW9uXFxgIGZvciByb3V0ZSBcIiR7cm91dGVJZH1cIiwgc28gdGhlcmUgaXMgbm8gd2F5IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC5gO1xuICAgIH0gZWxzZSBpZiAobWV0aG9kKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgSW52YWxpZCByZXF1ZXN0IG1ldGhvZCBcIiR7bWV0aG9kLnRvVXBwZXJDYXNlKCl9XCJgO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgIHN0YXR1cyB8fCA1MDAsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBmaW5kUmVkaXJlY3QocmVzdWx0cykge1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpO1xuICBmb3IgKGxldCBpID0gZW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBba2V5LCByZXN1bHRdID0gZW50cmllc1tpXTtcbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4geyBrZXksIHJlc3VsdCB9O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc3RyaXBIYXNoRnJvbVBhdGgocGF0aCkge1xuICBsZXQgcGFyc2VkUGF0aCA9IHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHBhdGgpIDogcGF0aDtcbiAgcmV0dXJuIGNyZWF0ZVBhdGgoeyAuLi5wYXJzZWRQYXRoLCBoYXNoOiBcIlwiIH0pO1xufVxuZnVuY3Rpb24gaXNIYXNoQ2hhbmdlT25seShhLCBiKSB7XG4gIGlmIChhLnBhdGhuYW1lICE9PSBiLnBhdGhuYW1lIHx8IGEuc2VhcmNoICE9PSBiLnNlYXJjaCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYS5oYXNoID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIGIuaGFzaCAhPT0gXCJcIjtcbiAgfSBlbHNlIGlmIChhLmhhc2ggPT09IGIuaGFzaCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGIuaGFzaCAhPT0gXCJcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzRGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0ICE9IG51bGwgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiByZXN1bHQgJiYgXCJyZXN1bHRcIiBpbiByZXN1bHQgJiYgKHJlc3VsdC50eXBlID09PSBcImRhdGFcIiAvKiBkYXRhICovIHx8IHJlc3VsdC50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgJiYgcmVkaXJlY3RTdGF0dXNDb2Rlcy5oYXMocmVzdWx0LnJlc3VsdC5zdGF0dXMpO1xufVxuZnVuY3Rpb24gaXNFcnJvclJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIHJlc3VsdC50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi87XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gKHJlc3VsdCAmJiByZXN1bHQudHlwZSkgPT09IFwicmVkaXJlY3RcIiAvKiByZWRpcmVjdCAqLztcbn1cbmZ1bmN0aW9uIGlzRGF0YVdpdGhSZXNwb25zZUluaXQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPSBudWxsICYmIFwidHlwZVwiIGluIHZhbHVlICYmIFwiZGF0YVwiIGluIHZhbHVlICYmIFwiaW5pdFwiIGluIHZhbHVlICYmIHZhbHVlLnR5cGUgPT09IFwiRGF0YVdpdGhSZXNwb25zZUluaXRcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnN0YXR1cyA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgdmFsdWUuc3RhdHVzVGV4dCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWUuaGVhZGVycyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUuYm9keSAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3RTdGF0dXNDb2RlKHN0YXR1c0NvZGUpIHtcbiAgcmV0dXJuIHJlZGlyZWN0U3RhdHVzQ29kZXMuaGFzKHN0YXR1c0NvZGUpO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdCkge1xuICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQpICYmIGlzUmVkaXJlY3RTdGF0dXNDb2RlKHJlc3VsdC5zdGF0dXMpICYmIHJlc3VsdC5oZWFkZXJzLmhhcyhcIkxvY2F0aW9uXCIpO1xufVxuZnVuY3Rpb24gaXNWYWxpZE1ldGhvZChtZXRob2QpIHtcbiAgcmV0dXJuIHZhbGlkUmVxdWVzdE1ldGhvZHMuaGFzKG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGlzTXV0YXRpb25NZXRob2QobWV0aG9kKSB7XG4gIHJldHVybiB2YWxpZE11dGF0aW9uTWV0aG9kcy5oYXMobWV0aG9kLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gaGFzTmFrZWRJbmRleFF1ZXJ5KHNlYXJjaCkge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpLmdldEFsbChcImluZGV4XCIpLnNvbWUoKHYpID0+IHYgPT09IFwiXCIpO1xufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pIHtcbiAgbGV0IHNlYXJjaCA9IHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbikuc2VhcmNoIDogbG9jYXRpb24uc2VhcmNoO1xuICBpZiAobWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmluZGV4ICYmIGhhc05ha2VkSW5kZXhRdWVyeShzZWFyY2ggfHwgXCJcIikpIHtcbiAgICByZXR1cm4gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGxldCBwYXRoTWF0Y2hlcyA9IGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpO1xuICByZXR1cm4gcGF0aE1hdGNoZXNbcGF0aE1hdGNoZXMubGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24obmF2aWdhdGlvbikge1xuICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZSwgdGV4dCwgZm9ybURhdGEsIGpzb24gfSA9IG5hdmlnYXRpb247XG4gIGlmICghZm9ybU1ldGhvZCB8fCAhZm9ybUFjdGlvbiB8fCAhZm9ybUVuY1R5cGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRleHQgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHRcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZvcm1EYXRhICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dDogdm9pZCAwXG4gICAgfTtcbiAgfSBlbHNlIGlmIChqc29uICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uLFxuICAgICAgdGV4dDogdm9pZCAwXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pIHtcbiAgaWYgKHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgbmF2aWdhdGlvbiA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dFxuICAgIH07XG4gICAgcmV0dXJuIG5hdmlnYXRpb247XG4gIH0gZWxzZSB7XG4gICAgbGV0IG5hdmlnYXRpb24gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgICAgIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgICAgIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dDogdm9pZCAwXG4gICAgfTtcbiAgICByZXR1cm4gbmF2aWdhdGlvbjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U3VibWl0dGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pIHtcbiAgbGV0IG5hdmlnYXRpb24gPSB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiLFxuICAgIGxvY2F0aW9uLFxuICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dFxuICB9O1xuICByZXR1cm4gbmF2aWdhdGlvbjtcbn1cbmZ1bmN0aW9uIGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGRhdGEyKSB7XG4gIGlmIChzdWJtaXNzaW9uKSB7XG4gICAgbGV0IGZldGNoZXIgPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgICAgZGF0YTogZGF0YTJcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaGVyO1xuICB9IGVsc2Uge1xuICAgIGxldCBmZXRjaGVyID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICAgICAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICAgICAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICBkYXRhOiBkYXRhMlxuICAgIH07XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFN1Ym1pdHRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGV4aXN0aW5nRmV0Y2hlcikge1xuICBsZXQgZmV0Y2hlciA9IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCIsXG4gICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgIGRhdGE6IGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdm9pZCAwXG4gIH07XG4gIHJldHVybiBmZXRjaGVyO1xufVxuZnVuY3Rpb24gZ2V0RG9uZUZldGNoZXIoZGF0YTIpIHtcbiAgbGV0IGZldGNoZXIgPSB7XG4gICAgc3RhdGU6IFwiaWRsZVwiLFxuICAgIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gICAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgIGpzb246IHZvaWQgMCxcbiAgICB0ZXh0OiB2b2lkIDAsXG4gICAgZGF0YTogZGF0YTJcbiAgfTtcbiAgcmV0dXJuIGZldGNoZXI7XG59XG5mdW5jdGlvbiByZXN0b3JlQXBwbGllZFRyYW5zaXRpb25zKF93aW5kb3csIHRyYW5zaXRpb25zKSB7XG4gIHRyeSB7XG4gICAgbGV0IHNlc3Npb25Qb3NpdGlvbnMgPSBfd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXG4gICAgICBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWVxuICAgICk7XG4gICAgaWYgKHNlc3Npb25Qb3NpdGlvbnMpIHtcbiAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShzZXNzaW9uUG9zaXRpb25zKTtcbiAgICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhqc29uIHx8IHt9KSkge1xuICAgICAgICBpZiAodiAmJiBBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbnMuc2V0KGssIG5ldyBTZXQodiB8fCBbXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gIH1cbn1cbmZ1bmN0aW9uIHBlcnNpc3RBcHBsaWVkVHJhbnNpdGlvbnMoX3dpbmRvdywgdHJhbnNpdGlvbnMpIHtcbiAgaWYgKHRyYW5zaXRpb25zLnNpemUgPiAwKSB7XG4gICAgbGV0IGpzb24gPSB7fTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgdHJhbnNpdGlvbnMpIHtcbiAgICAgIGpzb25ba10gPSBbLi4udl07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBfd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShqc29uKVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBhcHBsaWVkIHZpZXcgdHJhbnNpdGlvbnMgaW4gc2Vzc2lvblN0b3JhZ2UgKCR7ZXJyb3J9KS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRGVmZXJyZWQoKSB7XG4gIGxldCByZXNvbHZlO1xuICBsZXQgcmVqZWN0O1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSBhc3luYyAodmFsKSA9PiB7XG4gICAgICByZXModmFsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgICByZWplY3QgPSBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgIHJlaihlcnJvcik7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb21pc2UsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVzb2x2ZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZWplY3RcbiAgfTtcbn1cblxuLy8gbGliL2NvbXBvbmVudHMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbnZhciBEYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5EYXRhUm91dGVyQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclwiO1xudmFyIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuRGF0YVJvdXRlclN0YXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclN0YXRlXCI7XG52YXIgVmlld1RyYW5zaXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIGlzVHJhbnNpdGlvbmluZzogZmFsc2Vcbn0pO1xuVmlld1RyYW5zaXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJWaWV3VHJhbnNpdGlvblwiO1xudmFyIEZldGNoZXJzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoXG4gIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbik7XG5GZXRjaGVyc0NvbnRleHQuZGlzcGxheU5hbWUgPSBcIkZldGNoZXJzXCI7XG52YXIgQXdhaXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbkF3YWl0Q29udGV4dC5kaXNwbGF5TmFtZSA9IFwiQXdhaXRcIjtcbnZhciBOYXZpZ2F0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoXG4gIG51bGxcbik7XG5OYXZpZ2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTmF2aWdhdGlvblwiO1xudmFyIExvY2F0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoXG4gIG51bGxcbik7XG5Mb2NhdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkxvY2F0aW9uXCI7XG52YXIgUm91dGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIG91dGxldDogbnVsbCxcbiAgbWF0Y2hlczogW10sXG4gIGlzRGF0YVJvdXRlOiBmYWxzZVxufSk7XG5Sb3V0ZUNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlJvdXRlXCI7XG52YXIgUm91dGVFcnJvckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuUm91dGVFcnJvckNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlJvdXRlRXJyb3JcIjtcblxuLy8gbGliL2hvb2tzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xudmFyIEVOQUJMRV9ERVZfV0FSTklOR1MgPSB0cnVlO1xuZnVuY3Rpb24gdXNlSHJlZih0bywgeyByZWxhdGl2ZSB9ID0ge30pIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlSHJlZigpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBiYXNlbmFtZSwgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IGhhc2gsIHBhdGhuYW1lLCBzZWFyY2ggfSA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9KTtcbiAgbGV0IGpvaW5lZFBhdGhuYW1lID0gcGF0aG5hbWU7XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBqb2luZWRQYXRobmFtZSA9IHBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aG5hbWVdKTtcbiAgfVxuICByZXR1cm4gbmF2aWdhdG9yMi5jcmVhdGVIcmVmKHsgcGF0aG5hbWU6IGpvaW5lZFBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSk7XG59XG5mdW5jdGlvbiB1c2VJblJvdXRlckNvbnRleHQoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpICE9IG51bGw7XG59XG5mdW5jdGlvbiB1c2VMb2NhdGlvbigpIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTG9jYXRpb24oKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkubG9jYXRpb247XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uVHlwZSgpIHtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkubmF2aWdhdGlvblR5cGU7XG59XG5mdW5jdGlvbiB1c2VNYXRjaChwYXR0ZXJuKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZU1hdGNoKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IHBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gbWF0Y2hQYXRoKHBhdHRlcm4sIGRlY29kZVBhdGgocGF0aG5hbWUpKSxcbiAgICBbcGF0aG5hbWUsIHBhdHRlcm5dXG4gICk7XG59XG52YXIgbmF2aWdhdGVFZmZlY3RXYXJuaW5nID0gYFlvdSBzaG91bGQgY2FsbCBuYXZpZ2F0ZSgpIGluIGEgUmVhY3QudXNlRWZmZWN0KCksIG5vdCB3aGVuIHlvdXIgY29tcG9uZW50IGlzIGZpcnN0IHJlbmRlcmVkLmA7XG5mdW5jdGlvbiB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGNiKSB7XG4gIGxldCBpc1N0YXRpYyA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KS5zdGF0aWM7XG4gIGlmICghaXNTdGF0aWMpIHtcbiAgICBSZWFjdDIudXNlTGF5b3V0RWZmZWN0KGNiKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGUoKSB7XG4gIGxldCB7IGlzRGF0YVJvdXRlIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICByZXR1cm4gaXNEYXRhUm91dGUgPyB1c2VOYXZpZ2F0ZVN0YWJsZSgpIDogdXNlTmF2aWdhdGVVbnN0YWJsZSgpO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGVVbnN0YWJsZSgpIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTmF2aWdhdGUoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBsZXQgeyBiYXNlbmFtZSwgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSk7XG4gIGxldCBhY3RpdmVSZWYgPSBSZWFjdDIudXNlUmVmKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYWN0aXZlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9KTtcbiAgbGV0IG5hdmlnYXRlID0gUmVhY3QyLnVzZUNhbGxiYWNrKFxuICAgICh0bywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICB3YXJuaW5nKGFjdGl2ZVJlZi5jdXJyZW50LCBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcpO1xuICAgICAgaWYgKCFhY3RpdmVSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBuYXZpZ2F0b3IyLmdvKHRvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgICAgIHRvLFxuICAgICAgICBKU09OLnBhcnNlKHJvdXRlUGF0aG5hbWVzSnNvbiksXG4gICAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICAgIG9wdGlvbnMucmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICAgICApO1xuICAgICAgaWYgKGRhdGFSb3V0ZXJDb250ZXh0ID09IG51bGwgJiYgYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgICAgIHBhdGgucGF0aG5hbWUgPSBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICAgICAgfVxuICAgICAgKCEhb3B0aW9ucy5yZXBsYWNlID8gbmF2aWdhdG9yMi5yZXBsYWNlIDogbmF2aWdhdG9yMi5wdXNoKShcbiAgICAgICAgcGF0aCxcbiAgICAgICAgb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9LFxuICAgIFtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yMixcbiAgICAgIHJvdXRlUGF0aG5hbWVzSnNvbixcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICBkYXRhUm91dGVyQ29udGV4dFxuICAgIF1cbiAgKTtcbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxudmFyIE91dGxldENvbnRleHQgPSBSZWFjdDIuY3JlYXRlQ29udGV4dChudWxsKTtcbmZ1bmN0aW9uIHVzZU91dGxldENvbnRleHQoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChPdXRsZXRDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIHVzZU91dGxldChjb250ZXh0KSB7XG4gIGxldCBvdXRsZXQgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpLm91dGxldDtcbiAgaWYgKG91dGxldCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoT3V0bGV0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBvdXRsZXQpO1xuICB9XG4gIHJldHVybiBvdXRsZXQ7XG59XG5mdW5jdGlvbiB1c2VQYXJhbXMoKSB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG59XG5mdW5jdGlvbiB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiByZXNvbHZlVG8oXG4gICAgICB0byxcbiAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICApLFxuICAgIFt0bywgcm91dGVQYXRobmFtZXNKc29uLCBsb2NhdGlvblBhdGhuYW1lLCByZWxhdGl2ZV1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uQXJnKSB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcpO1xufVxuZnVuY3Rpb24gdXNlUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBkYXRhUm91dGVyU3RhdGUsIGZ1dHVyZSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VSb3V0ZXMoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLCBzdGF0aWM6IGlzU3RhdGljIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXM6IHBhcmVudE1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gcGFyZW50TWF0Y2hlc1twYXJlbnRNYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBsZXQgcGFyZW50UGFyYW1zID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG4gIGxldCBwYXJlbnRQYXRobmFtZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lIDogXCIvXCI7XG4gIGxldCBwYXJlbnRQYXRobmFtZUJhc2UgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXRobmFtZUJhc2UgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFJvdXRlID0gcm91dGVNYXRjaCAmJiByb3V0ZU1hdGNoLnJvdXRlO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIGxldCBwYXJlbnRQYXRoID0gcGFyZW50Um91dGUgJiYgcGFyZW50Um91dGUucGF0aCB8fCBcIlwiO1xuICAgIHdhcm5pbmdPbmNlKFxuICAgICAgcGFyZW50UGF0aG5hbWUsXG4gICAgICAhcGFyZW50Um91dGUgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIipcIikgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIio/XCIpLFxuICAgICAgYFlvdSByZW5kZXJlZCBkZXNjZW5kYW50IDxSb3V0ZXM+IChvciBjYWxsZWQgXFxgdXNlUm91dGVzKClcXGApIGF0IFwiJHtwYXJlbnRQYXRobmFtZX1cIiAodW5kZXIgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+KSBidXQgdGhlIHBhcmVudCByb3V0ZSBwYXRoIGhhcyBubyB0cmFpbGluZyBcIipcIi4gVGhpcyBtZWFucyBpZiB5b3UgbmF2aWdhdGUgZGVlcGVyLCB0aGUgcGFyZW50IHdvbid0IG1hdGNoIGFueW1vcmUgYW5kIHRoZXJlZm9yZSB0aGUgY2hpbGQgcm91dGVzIHdpbGwgbmV2ZXIgcmVuZGVyLlxuXG5QbGVhc2UgY2hhbmdlIHRoZSBwYXJlbnQgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+IHRvIDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRoID09PSBcIi9cIiA/IFwiKlwiIDogYCR7cGFyZW50UGF0aH0vKmB9XCI+LmBcbiAgICApO1xuICB9XG4gIGxldCBsb2NhdGlvbkZyb21Db250ZXh0ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IGxvY2F0aW9uO1xuICBpZiAobG9jYXRpb25BcmcpIHtcbiAgICBsZXQgcGFyc2VkTG9jYXRpb25BcmcgPSB0eXBlb2YgbG9jYXRpb25BcmcgPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb25BcmcpIDogbG9jYXRpb25Bcmc7XG4gICAgaW52YXJpYW50KFxuICAgICAgcGFyZW50UGF0aG5hbWVCYXNlID09PSBcIi9cIiB8fCBwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZT8uc3RhcnRzV2l0aChwYXJlbnRQYXRobmFtZUJhc2UpLFxuICAgICAgYFdoZW4gb3ZlcnJpZGluZyB0aGUgbG9jYXRpb24gdXNpbmcgXFxgPFJvdXRlcyBsb2NhdGlvbj5cXGAgb3IgXFxgdXNlUm91dGVzKHJvdXRlcywgbG9jYXRpb24pXFxgLCB0aGUgbG9jYXRpb24gcGF0aG5hbWUgbXVzdCBiZWdpbiB3aXRoIHRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZCBieSBhbGwgcGFyZW50IHJvdXRlcy4gVGhlIGN1cnJlbnQgcGF0aG5hbWUgYmFzZSBpcyBcIiR7cGFyZW50UGF0aG5hbWVCYXNlfVwiIGJ1dCBwYXRobmFtZSBcIiR7cGFyc2VkTG9jYXRpb25BcmcucGF0aG5hbWV9XCIgd2FzIGdpdmVuIGluIHRoZSBcXGBsb2NhdGlvblxcYCBwcm9wLmBcbiAgICApO1xuICAgIGxvY2F0aW9uID0gcGFyc2VkTG9jYXRpb25Bcmc7XG4gIH0gZWxzZSB7XG4gICAgbG9jYXRpb24gPSBsb2NhdGlvbkZyb21Db250ZXh0O1xuICB9XG4gIGxldCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiO1xuICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKHBhcmVudFBhdGhuYW1lQmFzZSAhPT0gXCIvXCIpIHtcbiAgICBsZXQgcGFyZW50U2VnbWVudHMgPSBwYXJlbnRQYXRobmFtZUJhc2UucmVwbGFjZSgvXlxcLy8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgc2VnbWVudHMgPSBwYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gXCIvXCIgKyBzZWdtZW50cy5zbGljZShwYXJlbnRTZWdtZW50cy5sZW5ndGgpLmpvaW4oXCIvXCIpO1xuICB9XG4gIGxldCBtYXRjaGVzID0gIWlzU3RhdGljICYmIGRhdGFSb3V0ZXJTdGF0ZSAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcyAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwID8gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMgOiBtYXRjaFJvdXRlcyhyb3V0ZXMsIHsgcGF0aG5hbWU6IHJlbWFpbmluZ1BhdGhuYW1lIH0pO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIHdhcm5pbmcoXG4gICAgICBwYXJlbnRSb3V0ZSB8fCBtYXRjaGVzICE9IG51bGwsXG4gICAgICBgTm8gcm91dGVzIG1hdGNoZWQgbG9jYXRpb24gXCIke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1cIiBgXG4gICAgKTtcbiAgICB3YXJuaW5nKFxuICAgICAgbWF0Y2hlcyA9PSBudWxsIHx8IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5lbGVtZW50ICE9PSB2b2lkIDAgfHwgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLkNvbXBvbmVudCAhPT0gdm9pZCAwIHx8IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5sYXp5ICE9PSB2b2lkIDAsXG4gICAgICBgTWF0Y2hlZCBsZWFmIHJvdXRlIGF0IGxvY2F0aW9uIFwiJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9XCIgZG9lcyBub3QgaGF2ZSBhbiBlbGVtZW50IG9yIENvbXBvbmVudC4gVGhpcyBtZWFucyBpdCB3aWxsIHJlbmRlciBhbiA8T3V0bGV0IC8+IHdpdGggYSBudWxsIHZhbHVlIGJ5IGRlZmF1bHQgcmVzdWx0aW5nIGluIGFuIFwiZW1wdHlcIiBwYWdlLmBcbiAgICApO1xuICB9XG4gIGxldCByZW5kZXJlZE1hdGNoZXMgPSBfcmVuZGVyTWF0Y2hlcyhcbiAgICBtYXRjaGVzICYmIG1hdGNoZXMubWFwKFxuICAgICAgKG1hdGNoKSA9PiBPYmplY3QuYXNzaWduKHt9LCBtYXRjaCwge1xuICAgICAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudFBhcmFtcywgbWF0Y2gucGFyYW1zKSxcbiAgICAgICAgcGF0aG5hbWU6IGpvaW5QYXRocyhbXG4gICAgICAgICAgcGFyZW50UGF0aG5hbWVCYXNlLFxuICAgICAgICAgIC8vIFJlLWVuY29kZSBwYXRobmFtZXMgdGhhdCB3ZXJlIGRlY29kZWQgaW5zaWRlIG1hdGNoUm91dGVzXG4gICAgICAgICAgbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24obWF0Y2gucGF0aG5hbWUpLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVcbiAgICAgICAgXSksXG4gICAgICAgIHBhdGhuYW1lQmFzZTogbWF0Y2gucGF0aG5hbWVCYXNlID09PSBcIi9cIiA/IHBhcmVudFBhdGhuYW1lQmFzZSA6IGpvaW5QYXRocyhbXG4gICAgICAgICAgcGFyZW50UGF0aG5hbWVCYXNlLFxuICAgICAgICAgIC8vIFJlLWVuY29kZSBwYXRobmFtZXMgdGhhdCB3ZXJlIGRlY29kZWQgaW5zaWRlIG1hdGNoUm91dGVzXG4gICAgICAgICAgbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24obWF0Y2gucGF0aG5hbWVCYXNlKS5wYXRobmFtZSA6IG1hdGNoLnBhdGhuYW1lQmFzZVxuICAgICAgICBdKVxuICAgICAgfSlcbiAgICApLFxuICAgIHBhcmVudE1hdGNoZXMsXG4gICAgZGF0YVJvdXRlclN0YXRlLFxuICAgIGZ1dHVyZVxuICApO1xuICBpZiAobG9jYXRpb25BcmcgJiYgcmVuZGVyZWRNYXRjaGVzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIExvY2F0aW9uQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAgICAgc2VhcmNoOiBcIlwiLFxuICAgICAgICAgICAgaGFzaDogXCJcIixcbiAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAga2V5OiBcImRlZmF1bHRcIixcbiAgICAgICAgICAgIC4uLmxvY2F0aW9uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogXCJQT1BcIiAvKiBQb3AgKi9cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlbmRlcmVkTWF0Y2hlc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcztcbn1cbmZ1bmN0aW9uIERlZmF1bHRFcnJvckNvbXBvbmVudCgpIHtcbiAgbGV0IGVycm9yID0gdXNlUm91dGVFcnJvcigpO1xuICBsZXQgbWVzc2FnZSA9IGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSA/IGAke2Vycm9yLnN0YXR1c30gJHtlcnJvci5zdGF0dXNUZXh0fWAgOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbiAgbGV0IHN0YWNrID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogbnVsbDtcbiAgbGV0IGxpZ2h0Z3JleSA9IFwicmdiYSgyMDAsMjAwLDIwMCwgMC41KVwiO1xuICBsZXQgcHJlU3R5bGVzID0geyBwYWRkaW5nOiBcIjAuNXJlbVwiLCBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Z3JleSB9O1xuICBsZXQgY29kZVN0eWxlcyA9IHsgcGFkZGluZzogXCIycHggNHB4XCIsIGJhY2tncm91bmRDb2xvcjogbGlnaHRncmV5IH07XG4gIGxldCBkZXZJbmZvID0gbnVsbDtcbiAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJFcnJvciBoYW5kbGVkIGJ5IFJlYWN0IFJvdXRlciBkZWZhdWx0IEVycm9yQm91bmRhcnk6XCIsXG4gICAgICBlcnJvclxuICAgICk7XG4gICAgZGV2SW5mbyA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSZWFjdDIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJcXHV7MUY0QkZ9IEhleSBkZXZlbG9wZXIgXFx1ezFGNDRCfVwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIllvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIHdoZW4geW91ciBhcHAgdGhyb3dzIGVycm9ycyBieSBwcm92aWRpbmcgeW91ciBvd24gXCIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImNvZGVcIiwgeyBzdHlsZTogY29kZVN0eWxlcyB9LCBcIkVycm9yQm91bmRhcnlcIiksIFwiIG9yXCIsIFwiIFwiLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHsgc3R5bGU6IGNvZGVTdHlsZXMgfSwgXCJlcnJvckVsZW1lbnRcIiksIFwiIHByb3Agb24geW91ciByb3V0ZS5cIikpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUmVhY3QyLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJoMlwiLCBudWxsLCBcIlVuZXhwZWN0ZWQgQXBwbGljYXRpb24gRXJyb3IhXCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7IHN0eWxlOiB7IGZvbnRTdHlsZTogXCJpdGFsaWNcIiB9IH0sIG1lc3NhZ2UpLCBzdGFjayA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInByZVwiLCB7IHN0eWxlOiBwcmVTdHlsZXMgfSwgc3RhY2spIDogbnVsbCwgZGV2SW5mbyk7XG59XG52YXIgZGVmYXVsdEVycm9yRWxlbWVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChEZWZhdWx0RXJyb3JDb21wb25lbnQsIG51bGwpO1xudmFyIFJlbmRlckVycm9yQm91bmRhcnkgPSBjbGFzcyBleHRlbmRzIFJlYWN0Mi5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uLFxuICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24sXG4gICAgICBlcnJvcjogcHJvcHMuZXJyb3JcbiAgICB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmxvY2F0aW9uICE9PSBwcm9wcy5sb2NhdGlvbiB8fCBzdGF0ZS5yZXZhbGlkYXRpb24gIT09IFwiaWRsZVwiICYmIHByb3BzLnJldmFsaWRhdGlvbiA9PT0gXCJpZGxlXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiBwcm9wcy5lcnJvcixcbiAgICAgICAgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uLFxuICAgICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBwcm9wcy5lcnJvciAhPT0gdm9pZCAwID8gcHJvcHMuZXJyb3IgOiBzdGF0ZS5lcnJvcixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uIHx8IHN0YXRlLnJldmFsaWRhdGlvblxuICAgIH07XG4gIH1cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlJlYWN0IFJvdXRlciBjYXVnaHQgdGhlIGZvbGxvd2luZyBlcnJvciBkdXJpbmcgcmVuZGVyXCIsXG4gICAgICBlcnJvcixcbiAgICAgIGVycm9ySW5mb1xuICAgICk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmVycm9yICE9PSB2b2lkIDAgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUm91dGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB0aGlzLnByb3BzLnJvdXRlQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBSb3V0ZUVycm9yQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNvbXBvbmVudFxuICAgICAgfVxuICAgICkpIDogdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufTtcbmZ1bmN0aW9uIFJlbmRlcmVkUm91dGUoeyByb3V0ZUNvbnRleHQsIG1hdGNoLCBjaGlsZHJlbiB9KSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0Mi51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaWYgKGRhdGFSb3V0ZXJDb250ZXh0ICYmIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpYyAmJiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNDb250ZXh0ICYmIChtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgbWF0Y2gucm91dGUuRXJyb3JCb3VuZGFyeSkpIHtcbiAgICBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNDb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSb3V0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHJvdXRlQ29udGV4dCB9LCBjaGlsZHJlbik7XG59XG5mdW5jdGlvbiBfcmVuZGVyTWF0Y2hlcyhtYXRjaGVzLCBwYXJlbnRNYXRjaGVzID0gW10sIGRhdGFSb3V0ZXJTdGF0ZSA9IG51bGwsIGZ1dHVyZSA9IG51bGwpIHtcbiAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xuICAgIGlmICghZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZS5lcnJvcnMpIHtcbiAgICAgIG1hdGNoZXMgPSBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcztcbiAgICB9IGVsc2UgaWYgKHBhcmVudE1hdGNoZXMubGVuZ3RoID09PSAwICYmICFkYXRhUm91dGVyU3RhdGUuaW5pdGlhbGl6ZWQgJiYgZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgbGV0IHJlbmRlcmVkTWF0Y2hlcyA9IG1hdGNoZXM7XG4gIGxldCBlcnJvcnMgPSBkYXRhUm91dGVyU3RhdGU/LmVycm9ycztcbiAgaWYgKGVycm9ycyAhPSBudWxsKSB7XG4gICAgbGV0IGVycm9ySW5kZXggPSByZW5kZXJlZE1hdGNoZXMuZmluZEluZGV4KFxuICAgICAgKG0pID0+IG0ucm91dGUuaWQgJiYgZXJyb3JzPy5bbS5yb3V0ZS5pZF0gIT09IHZvaWQgMFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgZXJyb3JJbmRleCA+PSAwLFxuICAgICAgYENvdWxkIG5vdCBmaW5kIGEgbWF0Y2hpbmcgcm91dGUgZm9yIGVycm9ycyBvbiByb3V0ZSBJRHM6ICR7T2JqZWN0LmtleXMoXG4gICAgICAgIGVycm9yc1xuICAgICAgKS5qb2luKFwiLFwiKX1gXG4gICAgKTtcbiAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4ocmVuZGVyZWRNYXRjaGVzLmxlbmd0aCwgZXJyb3JJbmRleCArIDEpXG4gICAgKTtcbiAgfVxuICBsZXQgcmVuZGVyRmFsbGJhY2sgPSBmYWxzZTtcbiAgbGV0IGZhbGxiYWNrSW5kZXggPSAtMTtcbiAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyZWRNYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWF0Y2ggPSByZW5kZXJlZE1hdGNoZXNbaV07XG4gICAgICBpZiAobWF0Y2gucm91dGUuSHlkcmF0ZUZhbGxiYWNrIHx8IG1hdGNoLnJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQpIHtcbiAgICAgICAgZmFsbGJhY2tJbmRleCA9IGk7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQpIHtcbiAgICAgICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzOiBlcnJvcnMyIH0gPSBkYXRhUm91dGVyU3RhdGU7XG4gICAgICAgIGxldCBuZWVkc1RvUnVuTG9hZGVyID0gbWF0Y2gucm91dGUubG9hZGVyICYmICFsb2FkZXJEYXRhLmhhc093blByb3BlcnR5KG1hdGNoLnJvdXRlLmlkKSAmJiAoIWVycm9yczIgfHwgZXJyb3JzMlttYXRjaC5yb3V0ZS5pZF0gPT09IHZvaWQgMCk7XG4gICAgICAgIGlmIChtYXRjaC5yb3V0ZS5sYXp5IHx8IG5lZWRzVG9SdW5Mb2FkZXIpIHtcbiAgICAgICAgICByZW5kZXJGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaWYgKGZhbGxiYWNrSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgcmVuZGVyZWRNYXRjaGVzID0gcmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGZhbGxiYWNrSW5kZXggKyAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZWRNYXRjaGVzID0gW3JlbmRlcmVkTWF0Y2hlc1swXV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZW5kZXJlZE1hdGNoZXMucmVkdWNlUmlnaHQoKG91dGxldCwgbWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgbGV0IGVycm9yO1xuICAgIGxldCBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JFbGVtZW50ID0gbnVsbDtcbiAgICBsZXQgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgICAgZXJyb3IgPSBlcnJvcnMgJiYgbWF0Y2gucm91dGUuaWQgPyBlcnJvcnNbbWF0Y2gucm91dGUuaWRdIDogdm9pZCAwO1xuICAgICAgZXJyb3JFbGVtZW50ID0gbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGRlZmF1bHRFcnJvckVsZW1lbnQ7XG4gICAgICBpZiAocmVuZGVyRmFsbGJhY2spIHtcbiAgICAgICAgaWYgKGZhbGxiYWNrSW5kZXggPCAwICYmIGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgd2FybmluZ09uY2UoXG4gICAgICAgICAgICBcInJvdXRlLWZhbGxiYWNrXCIsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiTm8gYEh5ZHJhdGVGYWxsYmFja2AgZWxlbWVudCBwcm92aWRlZCB0byByZW5kZXIgZHVyaW5nIGluaXRpYWwgaHlkcmF0aW9uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBtYXRjaC5yb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50IHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1hdGNoZXMyID0gcGFyZW50TWF0Y2hlcy5jb25jYXQocmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGluZGV4ICsgMSkpO1xuICAgIGxldCBnZXRDaGlsZHJlbiA9ICgpID0+IHtcbiAgICAgIGxldCBjaGlsZHJlbjtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjaGlsZHJlbiA9IGVycm9yRWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAoc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgICAgIGNoaWxkcmVuID0gaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2gucm91dGUuQ29tcG9uZW50KSB7XG4gICAgICAgIGNoaWxkcmVuID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KG1hdGNoLnJvdXRlLkNvbXBvbmVudCwgbnVsbCk7XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoLnJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBtYXRjaC5yb3V0ZS5lbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4gPSBvdXRsZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgICBSZW5kZXJlZFJvdXRlLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgcm91dGVDb250ZXh0OiB7XG4gICAgICAgICAgICBvdXRsZXQsXG4gICAgICAgICAgICBtYXRjaGVzOiBtYXRjaGVzMixcbiAgICAgICAgICAgIGlzRGF0YVJvdXRlOiBkYXRhUm91dGVyU3RhdGUgIT0gbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuICAgIHJldHVybiBkYXRhUm91dGVyU3RhdGUgJiYgKG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkgfHwgbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGluZGV4ID09PSAwKSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIFJlbmRlckVycm9yQm91bmRhcnksXG4gICAgICB7XG4gICAgICAgIGxvY2F0aW9uOiBkYXRhUm91dGVyU3RhdGUubG9jYXRpb24sXG4gICAgICAgIHJldmFsaWRhdGlvbjogZGF0YVJvdXRlclN0YXRlLnJldmFsaWRhdGlvbixcbiAgICAgICAgY29tcG9uZW50OiBlcnJvckVsZW1lbnQsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBjaGlsZHJlbjogZ2V0Q2hpbGRyZW4oKSxcbiAgICAgICAgcm91dGVDb250ZXh0OiB7IG91dGxldDogbnVsbCwgbWF0Y2hlczogbWF0Y2hlczIsIGlzRGF0YVJvdXRlOiB0cnVlIH1cbiAgICAgIH1cbiAgICApIDogZ2V0Q2hpbGRyZW4oKTtcbiAgfSwgbnVsbCk7XG59XG5mdW5jdGlvbiBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSB7XG4gIHJldHVybiBgJHtob29rTmFtZX0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGRhdGEgcm91dGVyLiAgU2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL2VuL21haW4vcm91dGVycy9waWNraW5nLWEtcm91dGVyLmA7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dChob29rTmFtZSkge1xuICBsZXQgY3R4ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQoY3R4LCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBjdHg7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGUoaG9va05hbWUpIHtcbiAgbGV0IHN0YXRlID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudChzdGF0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUNvbnRleHQoaG9va05hbWUpIHtcbiAgbGV0IHJvdXRlID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHJvdXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiByb3V0ZTtcbn1cbmZ1bmN0aW9uIHVzZUN1cnJlbnRSb3V0ZUlkKGhvb2tOYW1lKSB7XG4gIGxldCByb3V0ZSA9IHVzZVJvdXRlQ29udGV4dChob29rTmFtZSk7XG4gIGxldCB0aGlzUm91dGUgPSByb3V0ZS5tYXRjaGVzW3JvdXRlLm1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGludmFyaWFudChcbiAgICB0aGlzUm91dGUucm91dGUuaWQsXG4gICAgYCR7aG9va05hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gcm91dGVzIHRoYXQgY29udGFpbiBhIHVuaXF1ZSBcImlkXCJgXG4gICk7XG4gIHJldHVybiB0aGlzUm91dGUucm91dGUuaWQ7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUlkKCkge1xuICByZXR1cm4gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VSb3V0ZUlkXCIgLyogVXNlUm91dGVJZCAqLyk7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VOYXZpZ2F0aW9uXCIgLyogVXNlTmF2aWdhdGlvbiAqLyk7XG4gIHJldHVybiBzdGF0ZS5uYXZpZ2F0aW9uO1xufVxuZnVuY3Rpb24gdXNlUmV2YWxpZGF0b3IoKSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KFwidXNlUmV2YWxpZGF0b3JcIiAvKiBVc2VSZXZhbGlkYXRvciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJldmFsaWRhdG9yXCIgLyogVXNlUmV2YWxpZGF0b3IgKi8pO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGFzeW5jIHJldmFsaWRhdGUoKSB7XG4gICAgICAgIGF3YWl0IGRhdGFSb3V0ZXJDb250ZXh0LnJvdXRlci5yZXZhbGlkYXRlKCk7XG4gICAgICB9LFxuICAgICAgc3RhdGU6IHN0YXRlLnJldmFsaWRhdGlvblxuICAgIH0pLFxuICAgIFtkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXIsIHN0YXRlLnJldmFsaWRhdGlvbl1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZU1hdGNoZXMoKSB7XG4gIGxldCB7IG1hdGNoZXMsIGxvYWRlckRhdGEgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcbiAgICBcInVzZU1hdGNoZXNcIiAvKiBVc2VNYXRjaGVzICovXG4gICk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaGVzLm1hcCgobSkgPT4gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobSwgbG9hZGVyRGF0YSkpLFxuICAgIFttYXRjaGVzLCBsb2FkZXJEYXRhXVxuICApO1xufVxuZnVuY3Rpb24gdXNlTG9hZGVyRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlTG9hZGVyRGF0YVwiIC8qIFVzZUxvYWRlckRhdGEgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlTG9hZGVyRGF0YVwiIC8qIFVzZUxvYWRlckRhdGEgKi8pO1xuICByZXR1cm4gc3RhdGUubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlTG9hZGVyRGF0YShyb3V0ZUlkKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJvdXRlTG9hZGVyRGF0YVwiIC8qIFVzZVJvdXRlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlQWN0aW9uRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlQWN0aW9uRGF0YVwiIC8qIFVzZUFjdGlvbkRhdGEgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlTG9hZGVyRGF0YVwiIC8qIFVzZUxvYWRlckRhdGEgKi8pO1xuICByZXR1cm4gc3RhdGUuYWN0aW9uRGF0YSA/IHN0YXRlLmFjdGlvbkRhdGFbcm91dGVJZF0gOiB2b2lkIDA7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUVycm9yKCkge1xuICBsZXQgZXJyb3IgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUVycm9yQ29udGV4dCk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJvdXRlRXJyb3JcIiAvKiBVc2VSb3V0ZUVycm9yICovKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZVJvdXRlRXJyb3JcIiAvKiBVc2VSb3V0ZUVycm9yICovKTtcbiAgaWYgKGVycm9yICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmVycm9ycz8uW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlQXN5bmNWYWx1ZSgpIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QyLnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZGF0YTtcbn1cbmZ1bmN0aW9uIHVzZUFzeW5jRXJyb3IoKSB7XG4gIGxldCB2YWx1ZSA9IFJlYWN0Mi51c2VDb250ZXh0KEF3YWl0Q29udGV4dCk7XG4gIHJldHVybiB2YWx1ZT8uX2Vycm9yO1xufVxudmFyIGJsb2NrZXJJZCA9IDA7XG5mdW5jdGlvbiB1c2VCbG9ja2VyKHNob3VsZEJsb2NrKSB7XG4gIGxldCB7IHJvdXRlciwgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KFwidXNlQmxvY2tlclwiIC8qIFVzZUJsb2NrZXIgKi8pO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VCbG9ja2VyXCIgLyogVXNlQmxvY2tlciAqLyk7XG4gIGxldCBbYmxvY2tlcktleSwgc2V0QmxvY2tlcktleV0gPSBSZWFjdDIudXNlU3RhdGUoXCJcIik7XG4gIGxldCBibG9ja2VyRnVuY3Rpb24gPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgKGFyZykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzaG91bGRCbG9jayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiAhIXNob3VsZEJsb2NrO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VuYW1lID09PSBcIi9cIikge1xuICAgICAgICByZXR1cm4gc2hvdWxkQmxvY2soYXJnKTtcbiAgICAgIH1cbiAgICAgIGxldCB7IGN1cnJlbnRMb2NhdGlvbiwgbmV4dExvY2F0aW9uLCBoaXN0b3J5QWN0aW9uIH0gPSBhcmc7XG4gICAgICByZXR1cm4gc2hvdWxkQmxvY2soe1xuICAgICAgICBjdXJyZW50TG9jYXRpb246IHtcbiAgICAgICAgICAuLi5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6IHN0cmlwQmFzZW5hbWUoY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIG5leHRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLm5leHRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShuZXh0TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBuZXh0TG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgaGlzdG9yeUFjdGlvblxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmFzZW5hbWUsIHNob3VsZEJsb2NrXVxuICApO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQga2V5ID0gU3RyaW5nKCsrYmxvY2tlcklkKTtcbiAgICBzZXRCbG9ja2VyS2V5KGtleSk7XG4gICAgcmV0dXJuICgpID0+IHJvdXRlci5kZWxldGVCbG9ja2VyKGtleSk7XG4gIH0sIFtyb3V0ZXJdKTtcbiAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXJLZXkgIT09IFwiXCIpIHtcbiAgICAgIHJvdXRlci5nZXRCbG9ja2VyKGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbik7XG4gICAgfVxuICB9LCBbcm91dGVyLCBibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb25dKTtcbiAgcmV0dXJuIGJsb2NrZXJLZXkgJiYgc3RhdGUuYmxvY2tlcnMuaGFzKGJsb2NrZXJLZXkpID8gc3RhdGUuYmxvY2tlcnMuZ2V0KGJsb2NrZXJLZXkpIDogSURMRV9CTE9DS0VSO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGVTdGFibGUoKSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VOYXZpZ2F0ZVwiIC8qIFVzZU5hdmlnYXRlU3RhYmxlICovKTtcbiAgbGV0IGlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VOYXZpZ2F0ZVwiIC8qIFVzZU5hdmlnYXRlU3RhYmxlICovKTtcbiAgbGV0IGFjdGl2ZVJlZiA9IFJlYWN0Mi51c2VSZWYoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhY3RpdmVSZWYuY3VycmVudCA9IHRydWU7XG4gIH0pO1xuICBsZXQgbmF2aWdhdGUgPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRvLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIHdhcm5pbmcoYWN0aXZlUmVmLmN1cnJlbnQsIG5hdmlnYXRlRWZmZWN0V2FybmluZyk7XG4gICAgICBpZiAoIWFjdGl2ZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZSh0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCByb3V0ZXIubmF2aWdhdGUodG8sIHsgZnJvbVJvdXRlSWQ6IGlkLCAuLi5vcHRpb25zIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JvdXRlciwgaWRdXG4gICk7XG4gIHJldHVybiBuYXZpZ2F0ZTtcbn1cbnZhciBhbHJlYWR5V2FybmVkID0ge307XG5mdW5jdGlvbiB3YXJuaW5nT25jZShrZXksIGNvbmQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kICYmICFhbHJlYWR5V2FybmVkW2tleV0pIHtcbiAgICBhbHJlYWR5V2FybmVkW2tleV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsIG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS93YXJuaW5ncy50c1xudmFyIGFscmVhZHlXYXJuZWQyID0ge307XG5mdW5jdGlvbiB3YXJuT25jZShjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kaXRpb24gJiYgIWFscmVhZHlXYXJuZWQyW21lc3NhZ2VdKSB7XG4gICAgYWxyZWFkeVdhcm5lZDJbbWVzc2FnZV0gPSB0cnVlO1xuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvY29tcG9uZW50cy50c3hcbnZhciBFTkFCTEVfREVWX1dBUk5JTkdTMiA9IHRydWU7XG5mdW5jdGlvbiBtYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpIHtcbiAgbGV0IHVwZGF0ZXMgPSB7XG4gICAgLy8gTm90ZTogdGhpcyBjaGVjayBhbHNvIG9jY3VycyBpbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4gc28gdXBkYXRlXG4gICAgLy8gdGhlcmUgaWYgeW91IGNoYW5nZSB0aGlzIC0tIHBsZWFzZSBhbmQgdGhhbmsgeW91IVxuICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLmhhc0Vycm9yQm91bmRhcnkgfHwgcm91dGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8IHJvdXRlLmVycm9yRWxlbWVudCAhPSBudWxsXG4gIH07XG4gIGlmIChyb3V0ZS5Db21wb25lbnQpIHtcbiAgICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUzIpIHtcbiAgICAgIGlmIChyb3V0ZS5lbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYENvbXBvbmVudGAgYW5kIGBlbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gYENvbXBvbmVudGAgd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgZWxlbWVudDogUmVhY3QzLmNyZWF0ZUVsZW1lbnQocm91dGUuQ29tcG9uZW50KSxcbiAgICAgIENvbXBvbmVudDogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgaWYgKHJvdXRlLkh5ZHJhdGVGYWxsYmFjaykge1xuICAgIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTMikge1xuICAgICAgaWYgKHJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgSHlkcmF0ZUZhbGxiYWNrYCBhbmQgYGh5ZHJhdGVGYWxsYmFja0VsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBgSHlkcmF0ZUZhbGxiYWNrYCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBSZWFjdDMuY3JlYXRlRWxlbWVudChyb3V0ZS5IeWRyYXRlRmFsbGJhY2spLFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICBpZiAocm91dGUuRXJyb3JCb3VuZGFyeSkge1xuICAgIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTMikge1xuICAgICAgaWYgKHJvdXRlLmVycm9yRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBFcnJvckJvdW5kYXJ5YCBhbmQgYGVycm9yRWxlbWVudGAgb24geW91ciByb3V0ZSAtIGBFcnJvckJvdW5kYXJ5YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlcnJvckVsZW1lbnQ6IFJlYWN0My5jcmVhdGVFbGVtZW50KHJvdXRlLkVycm9yQm91bmRhcnkpLFxuICAgICAgRXJyb3JCb3VuZGFyeTogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlSb3V0ZXIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVSb3V0ZXIoe1xuICAgIGJhc2VuYW1lOiBvcHRzPy5iYXNlbmFtZSxcbiAgICB1bnN0YWJsZV9nZXRDb250ZXh0OiBvcHRzPy51bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgIGZ1dHVyZTogb3B0cz8uZnV0dXJlLFxuICAgIGhpc3Rvcnk6IGNyZWF0ZU1lbW9yeUhpc3Rvcnkoe1xuICAgICAgaW5pdGlhbEVudHJpZXM6IG9wdHM/LmluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEluZGV4OiBvcHRzPy5pbml0aWFsSW5kZXhcbiAgICB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uXG4gIH0pLmluaXRpYWxpemUoKTtcbn1cbnZhciBEZWZlcnJlZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBcInBlbmRpbmdcIjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnJlc29sdmUgPSAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJyZXNvbHZlZFwiO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5yZWplY3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgICB0aGlzLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIFJvdXRlclByb3ZpZGVyKHtcbiAgcm91dGVyLFxuICBmbHVzaFN5bmM6IHJlYWN0RG9tRmx1c2hTeW5jSW1wbFxufSkge1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QzLnVzZVN0YXRlKHJvdXRlci5zdGF0ZSk7XG4gIGxldCBbcGVuZGluZ1N0YXRlLCBzZXRQZW5kaW5nU3RhdGVdID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbdnRDb250ZXh0LCBzZXRWdENvbnRleHRdID0gUmVhY3QzLnVzZVN0YXRlKHtcbiAgICBpc1RyYW5zaXRpb25pbmc6IGZhbHNlXG4gIH0pO1xuICBsZXQgW3JlbmRlckRmZCwgc2V0UmVuZGVyRGZkXSA9IFJlYWN0My51c2VTdGF0ZSgpO1xuICBsZXQgW3RyYW5zaXRpb24sIHNldFRyYW5zaXRpb25dID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbaW50ZXJydXB0aW9uLCBzZXRJbnRlcnJ1cHRpb25dID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBmZXRjaGVyRGF0YSA9IFJlYWN0My51c2VSZWYoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0My51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUsIHsgZGVsZXRlZEZldGNoZXJzLCBmbHVzaFN5bmMsIHZpZXdUcmFuc2l0aW9uT3B0cyB9KSA9PiB7XG4gICAgICBuZXdTdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChmZXRjaGVyLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGZldGNoZXIuZGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgZmV0Y2hlckRhdGEuY3VycmVudC5zZXQoa2V5LCBmZXRjaGVyLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IGZldGNoZXJEYXRhLmN1cnJlbnQuZGVsZXRlKGtleSkpO1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgIGZsdXNoU3luYyA9PT0gZmFsc2UgfHwgcmVhY3REb21GbHVzaFN5bmNJbXBsICE9IG51bGwsXG4gICAgICAgICdZb3UgcHJvdmlkZWQgdGhlIGBmbHVzaFN5bmNgIG9wdGlvbiB0byBhIHJvdXRlciB1cGRhdGUsIGJ1dCB5b3UgYXJlIG5vdCB1c2luZyB0aGUgYDxSb3V0ZXJQcm92aWRlcj5gIGZyb20gYHJlYWN0LXJvdXRlci9kb21gIHNvIGBSZWFjdERPTS5mbHVzaFN5bmMoKWAgaXMgdW5hdmFpbGFibGUuICBQbGVhc2UgdXBkYXRlIHlvdXIgYXBwIHRvIGBpbXBvcnQgeyBSb3V0ZXJQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yb3V0ZXIvZG9tXCJgIGFuZCBlbnN1cmUgeW91IGhhdmUgYHJlYWN0LWRvbWAgaW5zdGFsbGVkIGFzIGEgZGVwZW5kZW5jeSB0byB1c2UgdGhlIGBmbHVzaFN5bmNgIG9wdGlvbi4nXG4gICAgICApO1xuICAgICAgbGV0IGlzVmlld1RyYW5zaXRpb25BdmFpbGFibGUgPSByb3V0ZXIud2luZG93ICE9IG51bGwgJiYgcm91dGVyLndpbmRvdy5kb2N1bWVudCAhPSBudWxsICYmIHR5cGVvZiByb3V0ZXIud2luZG93LmRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIHdhcm5PbmNlKFxuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPT0gbnVsbCB8fCBpc1ZpZXdUcmFuc2l0aW9uQXZhaWxhYmxlLFxuICAgICAgICBcIllvdSBwcm92aWRlZCB0aGUgYHZpZXdUcmFuc2l0aW9uYCBvcHRpb24gdG8gYSByb3V0ZXIgdXBkYXRlLCBidXQgeW91IGRvIG5vdCBhcHBlYXIgdG8gYmUgcnVubmluZyBpbiBhIERPTSBlbnZpcm9ubWVudCBhcyBgd2luZG93LnN0YXJ0Vmlld1RyYW5zaXRpb25gIGlzIG5vdCBhdmFpbGFibGUuXCJcbiAgICAgICk7XG4gICAgICBpZiAoIXZpZXdUcmFuc2l0aW9uT3B0cyB8fCAhaXNWaWV3VHJhbnNpdGlvbkF2YWlsYWJsZSkge1xuICAgICAgICBpZiAocmVhY3REb21GbHVzaFN5bmNJbXBsICYmIGZsdXNoU3luYykge1xuICAgICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChyZWFjdERvbUZsdXNoU3luY0ltcGwgJiYgZmx1c2hTeW5jKSB7XG4gICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHJlbmRlckRmZCAmJiByZW5kZXJEZmQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5za2lwVHJhbnNpdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICAgICAgaXNUcmFuc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICAgICAgZmx1c2hTeW5jOiB0cnVlLFxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMuY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgICAgbmV4dExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMubmV4dExvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdCA9IHJvdXRlci53aW5kb3cuZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbigoKSA9PiB7XG4gICAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdC5maW5pc2hlZC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4ge1xuICAgICAgICAgICAgc2V0UmVuZGVyRGZkKHZvaWQgMCk7XG4gICAgICAgICAgICBzZXRUcmFuc2l0aW9uKHZvaWQgMCk7XG4gICAgICAgICAgICBzZXRQZW5kaW5nU3RhdGUodm9pZCAwKTtcbiAgICAgICAgICAgIHNldFZ0Q29udGV4dCh7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gc2V0VHJhbnNpdGlvbih0KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHJlbmRlckRmZCAmJiByZW5kZXJEZmQucmVzb2x2ZSgpO1xuICAgICAgICB0cmFuc2l0aW9uLnNraXBUcmFuc2l0aW9uKCk7XG4gICAgICAgIHNldEludGVycnVwdGlvbih7XG4gICAgICAgICAgc3RhdGU6IG5ld1N0YXRlLFxuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRQZW5kaW5nU3RhdGUobmV3U3RhdGUpO1xuICAgICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICAgIGlzVHJhbnNpdGlvbmluZzogdHJ1ZSxcbiAgICAgICAgICBmbHVzaFN5bmM6IGZhbHNlLFxuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLndpbmRvdywgcmVhY3REb21GbHVzaFN5bmNJbXBsLCB0cmFuc2l0aW9uLCByZW5kZXJEZmRdXG4gICk7XG4gIFJlYWN0My51c2VMYXlvdXRFZmZlY3QoKCkgPT4gcm91dGVyLnN1YnNjcmliZShzZXRTdGF0ZSksIFtyb3V0ZXIsIHNldFN0YXRlXSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nICYmICF2dENvbnRleHQuZmx1c2hTeW5jKSB7XG4gICAgICBzZXRSZW5kZXJEZmQobmV3IERlZmVycmVkKCkpO1xuICAgIH1cbiAgfSwgW3Z0Q29udGV4dF0pO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVuZGVyRGZkICYmIHBlbmRpbmdTdGF0ZSAmJiByb3V0ZXIud2luZG93KSB7XG4gICAgICBsZXQgbmV3U3RhdGUgPSBwZW5kaW5nU3RhdGU7XG4gICAgICBsZXQgcmVuZGVyUHJvbWlzZSA9IHJlbmRlckRmZC5wcm9taXNlO1xuICAgICAgbGV0IHRyYW5zaXRpb24yID0gcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKGFzeW5jICgpID0+IHtcbiAgICAgICAgUmVhY3QzLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgICAgYXdhaXQgcmVuZGVyUHJvbWlzZTtcbiAgICAgIH0pO1xuICAgICAgdHJhbnNpdGlvbjIuZmluaXNoZWQuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHNldFJlbmRlckRmZCh2b2lkIDApO1xuICAgICAgICBzZXRUcmFuc2l0aW9uKHZvaWQgMCk7XG4gICAgICAgIHNldFBlbmRpbmdTdGF0ZSh2b2lkIDApO1xuICAgICAgICBzZXRWdENvbnRleHQoeyBpc1RyYW5zaXRpb25pbmc6IGZhbHNlIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRUcmFuc2l0aW9uKHRyYW5zaXRpb24yKTtcbiAgICB9XG4gIH0sIFtwZW5kaW5nU3RhdGUsIHJlbmRlckRmZCwgcm91dGVyLndpbmRvd10pO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVuZGVyRGZkICYmIHBlbmRpbmdTdGF0ZSAmJiBzdGF0ZS5sb2NhdGlvbi5rZXkgPT09IHBlbmRpbmdTdGF0ZS5sb2NhdGlvbi5rZXkpIHtcbiAgICAgIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgfVxuICB9LCBbcmVuZGVyRGZkLCB0cmFuc2l0aW9uLCBzdGF0ZS5sb2NhdGlvbiwgcGVuZGluZ1N0YXRlXSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdnRDb250ZXh0LmlzVHJhbnNpdGlvbmluZyAmJiBpbnRlcnJ1cHRpb24pIHtcbiAgICAgIHNldFBlbmRpbmdTdGF0ZShpbnRlcnJ1cHRpb24uc3RhdGUpO1xuICAgICAgc2V0VnRDb250ZXh0KHtcbiAgICAgICAgaXNUcmFuc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICBmbHVzaFN5bmM6IGZhbHNlLFxuICAgICAgICBjdXJyZW50TG9jYXRpb246IGludGVycnVwdGlvbi5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgIG5leHRMb2NhdGlvbjogaW50ZXJydXB0aW9uLm5leHRMb2NhdGlvblxuICAgICAgfSk7XG4gICAgICBzZXRJbnRlcnJ1cHRpb24odm9pZCAwKTtcbiAgICB9XG4gIH0sIFt2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nLCBpbnRlcnJ1cHRpb25dKTtcbiAgbGV0IG5hdmlnYXRvcjIgPSBSZWFjdDMudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZUhyZWY6IHJvdXRlci5jcmVhdGVIcmVmLFxuICAgICAgZW5jb2RlTG9jYXRpb246IHJvdXRlci5lbmNvZGVMb2NhdGlvbixcbiAgICAgIGdvOiAobikgPT4gcm91dGVyLm5hdmlnYXRlKG4pLFxuICAgICAgcHVzaDogKHRvLCBzdGF0ZTIsIG9wdHMpID0+IHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgfSksXG4gICAgICByZXBsYWNlOiAodG8sIHN0YXRlMiwgb3B0cykgPT4gcm91dGVyLm5hdmlnYXRlKHRvLCB7XG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHN0YXRlOiBzdGF0ZTIsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0cz8ucHJldmVudFNjcm9sbFJlc2V0XG4gICAgICB9KVxuICAgIH07XG4gIH0sIFtyb3V0ZXJdKTtcbiAgbGV0IGJhc2VuYW1lID0gcm91dGVyLmJhc2VuYW1lIHx8IFwiL1wiO1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDMudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgcm91dGVyLFxuICAgICAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLFxuICAgICAgc3RhdGljOiBmYWxzZSxcbiAgICAgIGJhc2VuYW1lXG4gICAgfSksXG4gICAgW3JvdXRlciwgbmF2aWdhdG9yMiwgYmFzZW5hbWVdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUmVhY3QzLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGRhdGFSb3V0ZXJDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzdGF0ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRmV0Y2hlcnNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBmZXRjaGVyRGF0YS5jdXJyZW50IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChWaWV3VHJhbnNpdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHZ0Q29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjJcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcbiAgICAgIE1lbW9pemVkRGF0YVJvdXRlcyxcbiAgICAgIHtcbiAgICAgICAgcm91dGVzOiByb3V0ZXIucm91dGVzLFxuICAgICAgICBmdXR1cmU6IHJvdXRlci5mdXR1cmUsXG4gICAgICAgIHN0YXRlXG4gICAgICB9XG4gICAgKVxuICApKSkpKSwgbnVsbCk7XG59XG52YXIgTWVtb2l6ZWREYXRhUm91dGVzID0gUmVhY3QzLm1lbW8oRGF0YVJvdXRlcyk7XG5mdW5jdGlvbiBEYXRhUm91dGVzKHtcbiAgcm91dGVzLFxuICBmdXR1cmUsXG4gIHN0YXRlXG59KSB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgdm9pZCAwLCBzdGF0ZSwgZnV0dXJlKTtcbn1cbmZ1bmN0aW9uIE1lbW9yeVJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgaW5pdGlhbEVudHJpZXMsXG4gIGluaXRpYWxJbmRleFxufSkge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0My51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxJbmRleCxcbiAgICAgIHY1Q29tcGF0OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSBoaXN0b3J5UmVmLmN1cnJlbnQ7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDMudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0My51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0My5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDMudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gTmF2aWdhdGUoe1xuICB0byxcbiAgcmVwbGFjZTogcmVwbGFjZTIsXG4gIHN0YXRlLFxuICByZWxhdGl2ZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2ZcbiAgICAvLyB0aGUgcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGA8TmF2aWdhdGU+IG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBzdGF0aWM6IGlzU3RhdGljIH0gPSBSZWFjdDMudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIHdhcm5pbmcoXG4gICAgIWlzU3RhdGljLFxuICAgIGA8TmF2aWdhdGU+IG11c3Qgbm90IGJlIHVzZWQgb24gdGhlIGluaXRpYWwgcmVuZGVyIGluIGEgPFN0YXRpY1JvdXRlcj4uIFRoaXMgaXMgYSBuby1vcCwgYnV0IHlvdSBzaG91bGQgbW9kaWZ5IHlvdXIgY29kZSBzbyB0aGUgPE5hdmlnYXRlPiBpcyBvbmx5IGV2ZXIgcmVuZGVyZWQgaW4gcmVzcG9uc2UgdG8gc29tZSB1c2VyIGludGVyYWN0aW9uIG9yIHN0YXRlIGNoYW5nZS5gXG4gICk7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0My51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICB0byxcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpLFxuICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG4gIGxldCBqc29uUGF0aCA9IEpTT04uc3RyaW5naWZ5KHBhdGgpO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBuYXZpZ2F0ZShKU09OLnBhcnNlKGpzb25QYXRoKSwgeyByZXBsYWNlOiByZXBsYWNlMiwgc3RhdGUsIHJlbGF0aXZlIH0pO1xuICB9LCBbbmF2aWdhdGUsIGpzb25QYXRoLCByZWxhdGl2ZSwgcmVwbGFjZTIsIHN0YXRlXSk7XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gT3V0bGV0KHByb3BzKSB7XG4gIHJldHVybiB1c2VPdXRsZXQocHJvcHMuY29udGV4dCk7XG59XG5mdW5jdGlvbiBSb3V0ZShfcHJvcHMpIHtcbiAgaW52YXJpYW50KFxuICAgIGZhbHNlLFxuICAgIGBBIDxSb3V0ZT4gaXMgb25seSBldmVyIHRvIGJlIHVzZWQgYXMgdGhlIGNoaWxkIG9mIDxSb3V0ZXM+IGVsZW1lbnQsIG5ldmVyIHJlbmRlcmVkIGRpcmVjdGx5LiBQbGVhc2Ugd3JhcCB5b3VyIDxSb3V0ZT4gaW4gYSA8Um91dGVzPi5gXG4gICk7XG59XG5mdW5jdGlvbiBSb3V0ZXIoe1xuICBiYXNlbmFtZTogYmFzZW5hbWVQcm9wID0gXCIvXCIsXG4gIGNoaWxkcmVuID0gbnVsbCxcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCxcbiAgbmF2aWdhdGlvblR5cGUgPSBcIlBPUFwiIC8qIFBvcCAqLyxcbiAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLFxuICBzdGF0aWM6IHN0YXRpY1Byb3AgPSBmYWxzZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgIXVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIGBZb3UgY2Fubm90IHJlbmRlciBhIDxSb3V0ZXI+IGluc2lkZSBhbm90aGVyIDxSb3V0ZXI+LiBZb3Ugc2hvdWxkIG5ldmVyIGhhdmUgbW9yZSB0aGFuIG9uZSBpbiB5b3VyIGFwcC5gXG4gICk7XG4gIGxldCBiYXNlbmFtZSA9IGJhc2VuYW1lUHJvcC5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcbiAgbGV0IG5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLFxuICAgICAgc3RhdGljOiBzdGF0aWNQcm9wLFxuICAgICAgZnV0dXJlOiB7fVxuICAgIH0pLFxuICAgIFtiYXNlbmFtZSwgbmF2aWdhdG9yMiwgc3RhdGljUHJvcF1cbiAgKTtcbiAgaWYgKHR5cGVvZiBsb2NhdGlvblByb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsb2NhdGlvblByb3AgPSBwYXJzZVBhdGgobG9jYXRpb25Qcm9wKTtcbiAgfVxuICBsZXQge1xuICAgIHBhdGhuYW1lID0gXCIvXCIsXG4gICAgc2VhcmNoID0gXCJcIixcbiAgICBoYXNoID0gXCJcIixcbiAgICBzdGF0ZSA9IG51bGwsXG4gICAga2V5ID0gXCJkZWZhdWx0XCJcbiAgfSA9IGxvY2F0aW9uUHJvcDtcbiAgbGV0IGxvY2F0aW9uQ29udGV4dCA9IFJlYWN0My51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgdHJhaWxpbmdQYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUocGF0aG5hbWUsIGJhc2VuYW1lKTtcbiAgICBpZiAodHJhaWxpbmdQYXRobmFtZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIHBhdGhuYW1lOiB0cmFpbGluZ1BhdGhuYW1lLFxuICAgICAgICBzZWFyY2gsXG4gICAgICAgIGhhc2gsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBrZXlcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uVHlwZVxuICAgIH07XG4gIH0sIFtiYXNlbmFtZSwgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCwgc3RhdGUsIGtleSwgbmF2aWdhdGlvblR5cGVdKTtcbiAgd2FybmluZyhcbiAgICBsb2NhdGlvbkNvbnRleHQgIT0gbnVsbCxcbiAgICBgPFJvdXRlciBiYXNlbmFtZT1cIiR7YmFzZW5hbWV9XCI+IGlzIG5vdCBhYmxlIHRvIG1hdGNoIHRoZSBVUkwgXCIke3BhdGhuYW1lfSR7c2VhcmNofSR7aGFzaH1cIiBiZWNhdXNlIGl0IGRvZXMgbm90IHN0YXJ0IHdpdGggdGhlIGJhc2VuYW1lLCBzbyB0aGUgPFJvdXRlcj4gd29uJ3QgcmVuZGVyIGFueXRoaW5nLmBcbiAgKTtcbiAgaWYgKGxvY2F0aW9uQ29udGV4dCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChOYXZpZ2F0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogbmF2aWdhdGlvbkNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KExvY2F0aW9uQ29udGV4dC5Qcm92aWRlciwgeyBjaGlsZHJlbiwgdmFsdWU6IGxvY2F0aW9uQ29udGV4dCB9KSk7XG59XG5mdW5jdGlvbiBSb3V0ZXMoe1xuICBjaGlsZHJlbixcbiAgbG9jYXRpb25cbn0pIHtcbiAgcmV0dXJuIHVzZVJvdXRlcyhjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4pLCBsb2NhdGlvbik7XG59XG5mdW5jdGlvbiBBd2FpdCh7XG4gIGNoaWxkcmVuLFxuICBlcnJvckVsZW1lbnQsXG4gIHJlc29sdmVcbn0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChBd2FpdEVycm9yQm91bmRhcnksIHsgcmVzb2x2ZSwgZXJyb3JFbGVtZW50IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChSZXNvbHZlQXdhaXQsIG51bGwsIGNoaWxkcmVuKSk7XG59XG52YXIgQXdhaXRFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDMuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3I6IG51bGwgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiPEF3YWl0PiBjYXVnaHQgdGhlIGZvbGxvd2luZyBlcnJvciBkdXJpbmcgcmVuZGVyXCIsXG4gICAgICBlcnJvcixcbiAgICAgIGVycm9ySW5mb1xuICAgICk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IGNoaWxkcmVuLCBlcnJvckVsZW1lbnQsIHJlc29sdmUgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHByb21pc2UgPSBudWxsO1xuICAgIGxldCBzdGF0dXMgPSAwIC8qIHBlbmRpbmcgKi87XG4gICAgaWYgKCEocmVzb2x2ZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICBzdGF0dXMgPSAxIC8qIHN1Y2Nlc3MgKi87XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9kYXRhXCIsIHsgZ2V0OiAoKSA9PiByZXNvbHZlIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgc3RhdHVzID0gMiAvKiBlcnJvciAqLztcbiAgICAgIGxldCByZW5kZXJFcnJvciA9IHRoaXMuc3RhdGUuZXJyb3I7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QoKS5jYXRjaCgoKSA9PiB7XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiByZW5kZXJFcnJvciB9KTtcbiAgICB9IGVsc2UgaWYgKHJlc29sdmUuX3RyYWNrZWQpIHtcbiAgICAgIHByb21pc2UgPSByZXNvbHZlO1xuICAgICAgc3RhdHVzID0gXCJfZXJyb3JcIiBpbiBwcm9taXNlID8gMiAvKiBlcnJvciAqLyA6IFwiX2RhdGFcIiBpbiBwcm9taXNlID8gMSAvKiBzdWNjZXNzICovIDogMCAvKiBwZW5kaW5nICovO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0dXMgPSAwIC8qIHBlbmRpbmcgKi87XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIHByb21pc2UgPSByZXNvbHZlLnRoZW4oXG4gICAgICAgIChkYXRhMikgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IGRhdGEyIH0pLFxuICAgICAgICAoZXJyb3IpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gZXJyb3IgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDIgLyogZXJyb3IgKi8gJiYgIWVycm9yRWxlbWVudCkge1xuICAgICAgdGhyb3cgcHJvbWlzZS5fZXJyb3I7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDIgLyogZXJyb3IgKi8pIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoQXdhaXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9taXNlLCBjaGlsZHJlbjogZXJyb3JFbGVtZW50IH0pO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAxIC8qIHN1Y2Nlc3MgKi8pIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoQXdhaXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9taXNlLCBjaGlsZHJlbiB9KTtcbiAgICB9XG4gICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxufTtcbmZ1bmN0aW9uIFJlc29sdmVBd2FpdCh7XG4gIGNoaWxkcmVuXG59KSB7XG4gIGxldCBkYXRhMiA9IHVzZUFzeW5jVmFsdWUoKTtcbiAgbGV0IHRvUmVuZGVyID0gdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbihkYXRhMikgOiBjaGlsZHJlbjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChSZWFjdDMuRnJhZ21lbnQsIG51bGwsIHRvUmVuZGVyKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50UGF0aCA9IFtdKSB7XG4gIGxldCByb3V0ZXMgPSBbXTtcbiAgUmVhY3QzLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgIGlmICghUmVhY3QzLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0cmVlUGF0aCA9IFsuLi5wYXJlbnRQYXRoLCBpbmRleF07XG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gUmVhY3QzLkZyYWdtZW50KSB7XG4gICAgICByb3V0ZXMucHVzaC5hcHBseShcbiAgICAgICAgcm91dGVzLFxuICAgICAgICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oZWxlbWVudC5wcm9wcy5jaGlsZHJlbiwgdHJlZVBhdGgpXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBlbGVtZW50LnR5cGUgPT09IFJvdXRlLFxuICAgICAgYFske3R5cGVvZiBlbGVtZW50LnR5cGUgPT09IFwic3RyaW5nXCIgPyBlbGVtZW50LnR5cGUgOiBlbGVtZW50LnR5cGUubmFtZX1dIGlzIG5vdCBhIDxSb3V0ZT4gY29tcG9uZW50LiBBbGwgY29tcG9uZW50IGNoaWxkcmVuIG9mIDxSb3V0ZXM+IG11c3QgYmUgYSA8Um91dGU+IG9yIDxSZWFjdC5GcmFnbWVudD5gXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhZWxlbWVudC5wcm9wcy5pbmRleCB8fCAhZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgIFwiQW4gaW5kZXggcm91dGUgY2Fubm90IGhhdmUgY2hpbGQgcm91dGVzLlwiXG4gICAgKTtcbiAgICBsZXQgcm91dGUgPSB7XG4gICAgICBpZDogZWxlbWVudC5wcm9wcy5pZCB8fCB0cmVlUGF0aC5qb2luKFwiLVwiKSxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IGVsZW1lbnQucHJvcHMuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQucHJvcHMuZWxlbWVudCxcbiAgICAgIENvbXBvbmVudDogZWxlbWVudC5wcm9wcy5Db21wb25lbnQsXG4gICAgICBpbmRleDogZWxlbWVudC5wcm9wcy5pbmRleCxcbiAgICAgIHBhdGg6IGVsZW1lbnQucHJvcHMucGF0aCxcbiAgICAgIGxvYWRlcjogZWxlbWVudC5wcm9wcy5sb2FkZXIsXG4gICAgICBhY3Rpb246IGVsZW1lbnQucHJvcHMuYWN0aW9uLFxuICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogZWxlbWVudC5wcm9wcy5oeWRyYXRlRmFsbGJhY2tFbGVtZW50LFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiBlbGVtZW50LnByb3BzLkh5ZHJhdGVGYWxsYmFjayxcbiAgICAgIGVycm9yRWxlbWVudDogZWxlbWVudC5wcm9wcy5lcnJvckVsZW1lbnQsXG4gICAgICBFcnJvckJvdW5kYXJ5OiBlbGVtZW50LnByb3BzLkVycm9yQm91bmRhcnksXG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiBlbGVtZW50LnByb3BzLmhhc0Vycm9yQm91bmRhcnkgPT09IHRydWUgfHwgZWxlbWVudC5wcm9wcy5FcnJvckJvdW5kYXJ5ICE9IG51bGwgfHwgZWxlbWVudC5wcm9wcy5lcnJvckVsZW1lbnQgIT0gbnVsbCxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IGVsZW1lbnQucHJvcHMuc2hvdWxkUmV2YWxpZGF0ZSxcbiAgICAgIGhhbmRsZTogZWxlbWVudC5wcm9wcy5oYW5kbGUsXG4gICAgICBsYXp5OiBlbGVtZW50LnByb3BzLmxhenlcbiAgICB9O1xuICAgIGlmIChlbGVtZW50LnByb3BzLmNoaWxkcmVuKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihcbiAgICAgICAgZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgdHJlZVBhdGhcbiAgICAgICk7XG4gICAgfVxuICAgIHJvdXRlcy5wdXNoKHJvdXRlKTtcbiAgfSk7XG4gIHJldHVybiByb3V0ZXM7XG59XG52YXIgY3JlYXRlUm91dGVzRnJvbUVsZW1lbnRzID0gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuO1xuZnVuY3Rpb24gcmVuZGVyTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIHJldHVybiBfcmVuZGVyTWF0Y2hlcyhtYXRjaGVzKTtcbn1cblxuLy8gbGliL2RvbS9saWIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEwIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvZG9tL2RvbS50c1xudmFyIGRlZmF1bHRNZXRob2QgPSBcImdldFwiO1xudmFyIGRlZmF1bHRFbmNUeXBlID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbmZ1bmN0aW9uIGlzSHRtbEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LnRhZ05hbWUgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0J1dHRvbkVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIjtcbn1cbmZ1bmN0aW9uIGlzRm9ybUVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmb3JtXCI7XG59XG5mdW5jdGlvbiBpc0lucHV0RWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCI7XG59XG5mdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpO1xufVxuZnVuY3Rpb24gc2hvdWxkUHJvY2Vzc0xpbmtDbGljayhldmVudCwgdGFyZ2V0KSB7XG4gIHJldHVybiBldmVudC5idXR0b24gPT09IDAgJiYgLy8gSWdub3JlIGV2ZXJ5dGhpbmcgYnV0IGxlZnQgY2xpY2tzXG4gICghdGFyZ2V0IHx8IHRhcmdldCA9PT0gXCJfc2VsZlwiKSAmJiAvLyBMZXQgYnJvd3NlciBoYW5kbGUgXCJ0YXJnZXQ9X2JsYW5rXCIgZXRjLlxuICAhaXNNb2RpZmllZEV2ZW50KGV2ZW50KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFBhcmFtcyhpbml0ID0gXCJcIikge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICB0eXBlb2YgaW5pdCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGluaXQpIHx8IGluaXQgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgPyBpbml0IDogT2JqZWN0LmtleXMoaW5pdCkucmVkdWNlKChtZW1vMiwga2V5KSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBpbml0W2tleV07XG4gICAgICByZXR1cm4gbWVtbzIuY29uY2F0KFxuICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcCgodikgPT4gW2tleSwgdl0pIDogW1trZXksIHZhbHVlXV1cbiAgICAgICk7XG4gICAgfSwgW10pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRTZWFyY2hQYXJhbXNGb3JMb2NhdGlvbihsb2NhdGlvblNlYXJjaCwgZGVmYXVsdFNlYXJjaFBhcmFtcykge1xuICBsZXQgc2VhcmNoUGFyYW1zID0gY3JlYXRlU2VhcmNoUGFyYW1zKGxvY2F0aW9uU2VhcmNoKTtcbiAgaWYgKGRlZmF1bHRTZWFyY2hQYXJhbXMpIHtcbiAgICBkZWZhdWx0U2VhcmNoUGFyYW1zLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgaWYgKCFzZWFyY2hQYXJhbXMuaGFzKGtleSkpIHtcbiAgICAgICAgZGVmYXVsdFNlYXJjaFBhcmFtcy5nZXRBbGwoa2V5KS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG52YXIgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSBudWxsO1xuZnVuY3Rpb24gaXNGb3JtRGF0YVN1Ym1pdHRlclN1cHBvcnRlZCgpIHtcbiAgaWYgKF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID09PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBGb3JtRGF0YShcbiAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgRm9ybURhdGEgc3VwcG9ydHMgdGhlIHN1Ym1pdHRlciBwYXJhbWV0ZXIsIHRoaXMgd2lsbCB0aHJvd1xuICAgICAgICAwXG4gICAgICApO1xuICAgICAgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlcjtcbn1cbnZhciBzdXBwb3J0ZWRGb3JtRW5jVHlwZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLFxuICBcInRleHQvcGxhaW5cIlxuXSk7XG5mdW5jdGlvbiBnZXRGb3JtRW5jVHlwZShlbmNUeXBlKSB7XG4gIGlmIChlbmNUeXBlICE9IG51bGwgJiYgIXN1cHBvcnRlZEZvcm1FbmNUeXBlcy5oYXMoZW5jVHlwZSkpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgXCIke2VuY1R5cGV9XCIgaXMgbm90IGEgdmFsaWQgXFxgZW5jVHlwZVxcYCBmb3IgXFxgPEZvcm0+XFxgL1xcYDxmZXRjaGVyLkZvcm0+XFxgIGFuZCB3aWxsIGRlZmF1bHQgdG8gXCIke2RlZmF1bHRFbmNUeXBlfVwiYFxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGVuY1R5cGU7XG59XG5mdW5jdGlvbiBnZXRGb3JtU3VibWlzc2lvbkluZm8odGFyZ2V0LCBiYXNlbmFtZSkge1xuICBsZXQgbWV0aG9kO1xuICBsZXQgYWN0aW9uO1xuICBsZXQgZW5jVHlwZTtcbiAgbGV0IGZvcm1EYXRhO1xuICBsZXQgYm9keTtcbiAgaWYgKGlzRm9ybUVsZW1lbnQodGFyZ2V0KSkge1xuICAgIGxldCBhdHRyID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICBhY3Rpb24gPSBhdHRyID8gc3RyaXBCYXNlbmFtZShhdHRyLCBiYXNlbmFtZSkgOiBudWxsO1xuICAgIG1ldGhvZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIikgfHwgZGVmYXVsdE1ldGhvZDtcbiAgICBlbmNUeXBlID0gZ2V0Rm9ybUVuY1R5cGUodGFyZ2V0LmdldEF0dHJpYnV0ZShcImVuY3R5cGVcIikpIHx8IGRlZmF1bHRFbmNUeXBlO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRhcmdldCk7XG4gIH0gZWxzZSBpZiAoaXNCdXR0b25FbGVtZW50KHRhcmdldCkgfHwgaXNJbnB1dEVsZW1lbnQodGFyZ2V0KSAmJiAodGFyZ2V0LnR5cGUgPT09IFwic3VibWl0XCIgfHwgdGFyZ2V0LnR5cGUgPT09IFwiaW1hZ2VcIikpIHtcbiAgICBsZXQgZm9ybSA9IHRhcmdldC5mb3JtO1xuICAgIGlmIChmb3JtID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBzdWJtaXQgYSA8YnV0dG9uPiBvciA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiPiB3aXRob3V0IGEgPGZvcm0+YFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGF0dHIgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZm9ybWFjdGlvblwiKSB8fCBmb3JtLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICBhY3Rpb24gPSBhdHRyID8gc3RyaXBCYXNlbmFtZShhdHRyLCBiYXNlbmFtZSkgOiBudWxsO1xuICAgIG1ldGhvZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpIHx8IGRlZmF1bHRNZXRob2Q7XG4gICAgZW5jVHlwZSA9IGdldEZvcm1FbmNUeXBlKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtZW5jdHlwZVwiKSkgfHwgZ2V0Rm9ybUVuY1R5cGUoZm9ybS5nZXRBdHRyaWJ1dGUoXCJlbmN0eXBlXCIpKSB8fCBkZWZhdWx0RW5jVHlwZTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtLCB0YXJnZXQpO1xuICAgIGlmICghaXNGb3JtRGF0YVN1Ym1pdHRlclN1cHBvcnRlZCgpKSB7XG4gICAgICBsZXQgeyBuYW1lLCB0eXBlLCB2YWx1ZSB9ID0gdGFyZ2V0O1xuICAgICAgaWYgKHR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICBsZXQgcHJlZml4ID0gbmFtZSA/IGAke25hbWV9LmAgOiBcIlwiO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoYCR7cHJlZml4fXhgLCBcIjBcIik7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChgJHtwcmVmaXh9eWAsIFwiMFwiKTtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc0h0bWxFbGVtZW50KHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2Fubm90IHN1Ym1pdCBlbGVtZW50IHRoYXQgaXMgbm90IDxmb3JtPiwgPGJ1dHRvbj4sIG9yIDxpbnB1dCB0eXBlPVwic3VibWl0fGltYWdlXCI+YFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgbWV0aG9kID0gZGVmYXVsdE1ldGhvZDtcbiAgICBhY3Rpb24gPSBudWxsO1xuICAgIGVuY1R5cGUgPSBkZWZhdWx0RW5jVHlwZTtcbiAgICBib2R5ID0gdGFyZ2V0O1xuICB9XG4gIGlmIChmb3JtRGF0YSAmJiBlbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgIGJvZHkgPSBmb3JtRGF0YTtcbiAgICBmb3JtRGF0YSA9IHZvaWQgMDtcbiAgfVxuICByZXR1cm4geyBhY3Rpb24sIG1ldGhvZDogbWV0aG9kLnRvTG93ZXJDYXNlKCksIGVuY1R5cGUsIGZvcm1EYXRhLCBib2R5IH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2NvbXBvbmVudHMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDkgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL2ludmFyaWFudC50c1xuZnVuY3Rpb24gaW52YXJpYW50Mih2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvZG9tL3Nzci9yb3V0ZU1vZHVsZXMudHNcbmFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZU1vZHVsZShyb3V0ZSwgcm91dGVNb2R1bGVzQ2FjaGUpIHtcbiAgaWYgKHJvdXRlLmlkIGluIHJvdXRlTW9kdWxlc0NhY2hlKSB7XG4gICAgcmV0dXJuIHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXTtcbiAgfVxuICB0cnkge1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IGF3YWl0IGltcG9ydChcbiAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgcm91dGUubW9kdWxlXG4gICAgKTtcbiAgICByb3V0ZU1vZHVsZXNDYWNoZVtyb3V0ZS5pZF0gPSByb3V0ZU1vZHVsZTtcbiAgICByZXR1cm4gcm91dGVNb2R1bGU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBFcnJvciBsb2FkaW5nIHJvdXRlIG1vZHVsZSBcXGAke3JvdXRlLm1vZHVsZX1cXGAsIHJlbG9hZGluZyBwYWdlLi4uYFxuICAgICk7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgaWYgKHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dCAmJiB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuaXNTcGFNb2RlICYmIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBpbXBvcnQubWV0YS5ob3QpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHtcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBsaWIvZG9tL3Nzci9saW5rcy50c1xuZnVuY3Rpb24gZ2V0S2V5ZWRMaW5rc0Zvck1hdGNoZXMobWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdCkge1xuICBsZXQgZGVzY3JpcHRvcnMgPSBtYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICBsZXQgbW9kdWxlID0gcm91dGVNb2R1bGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgIHJldHVybiBbXG4gICAgICByb3V0ZSAmJiByb3V0ZS5jc3MgPyByb3V0ZS5jc3MubWFwKChocmVmMikgPT4gKHsgcmVsOiBcInN0eWxlc2hlZXRcIiwgaHJlZjogaHJlZjIgfSkpIDogW10sXG4gICAgICBtb2R1bGU/LmxpbmtzPy4oKSB8fCBbXVxuICAgIF07XG4gIH0pLmZsYXQoMik7XG4gIGxldCBwcmVsb2FkcyA9IGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCk7XG4gIHJldHVybiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoZGVzY3JpcHRvcnMsIHByZWxvYWRzKTtcbn1cbmZ1bmN0aW9uIGdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MpIHJldHVybiBbXTtcbiAgcmV0dXJuIHJvdXRlLmNzcy5tYXAoKGhyZWYyKSA9PiAoeyByZWw6IFwic3R5bGVzaGVldFwiLCBocmVmOiBocmVmMiB9KSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFJvdXRlQ3NzKHJvdXRlKSB7XG4gIGlmICghcm91dGUuY3NzKSByZXR1cm47XG4gIGxldCBkZXNjcmlwdG9ycyA9IGdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpO1xuICBhd2FpdCBQcm9taXNlLmFsbChkZXNjcmlwdG9ycy5tYXAocHJlZmV0Y2hTdHlsZUxpbmspKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVMaW5rcyhyb3V0ZSwgcm91dGVNb2R1bGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MgJiYgIXJvdXRlTW9kdWxlLmxpbmtzIHx8ICFpc1ByZWxvYWRTdXBwb3J0ZWQoKSkgcmV0dXJuO1xuICBsZXQgZGVzY3JpcHRvcnMgPSBbXTtcbiAgaWYgKHJvdXRlLmNzcykge1xuICAgIGRlc2NyaXB0b3JzLnB1c2goLi4uZ2V0Um91dGVDc3NEZXNjcmlwdG9ycyhyb3V0ZSkpO1xuICB9XG4gIGlmIChyb3V0ZU1vZHVsZS5saW5rcykge1xuICAgIGRlc2NyaXB0b3JzLnB1c2goLi4ucm91dGVNb2R1bGUubGlua3MoKSk7XG4gIH1cbiAgaWYgKGRlc2NyaXB0b3JzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBsZXQgc3R5bGVMaW5rcyA9IFtdO1xuICBmb3IgKGxldCBkZXNjcmlwdG9yIG9mIGRlc2NyaXB0b3JzKSB7XG4gICAgaWYgKCFpc1BhZ2VMaW5rRGVzY3JpcHRvcihkZXNjcmlwdG9yKSAmJiBkZXNjcmlwdG9yLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIpIHtcbiAgICAgIHN0eWxlTGlua3MucHVzaCh7XG4gICAgICAgIC4uLmRlc2NyaXB0b3IsXG4gICAgICAgIHJlbDogXCJwcmVsb2FkXCIsXG4gICAgICAgIGFzOiBcInN0eWxlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBhd2FpdCBQcm9taXNlLmFsbChzdHlsZUxpbmtzLm1hcChwcmVmZXRjaFN0eWxlTGluaykpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTdHlsZUxpbmsoZGVzY3JpcHRvcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoZGVzY3JpcHRvci5tZWRpYSAmJiAhd2luZG93Lm1hdGNoTWVkaWEoZGVzY3JpcHRvci5tZWRpYSkubWF0Y2hlcyB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXVtocmVmPVwiJHtkZXNjcmlwdG9yLmhyZWZ9XCJdYFxuICAgICkpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgfVxuICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgT2JqZWN0LmFzc2lnbihsaW5rLCBkZXNjcmlwdG9yKTtcbiAgICBmdW5jdGlvbiByZW1vdmVMaW5rKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmhlYWQuY29udGFpbnMobGluaykpIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGluay5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZW1vdmVMaW5rKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBsaW5rLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICByZW1vdmVMaW5rKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlzUGFnZUxpbmtEZXNjcmlwdG9yKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgdHlwZW9mIG9iamVjdC5wYWdlID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNIdG1sTGlua0Rlc2NyaXB0b3Iob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAob2JqZWN0LmhyZWYgPT0gbnVsbCkge1xuICAgIHJldHVybiBvYmplY3QucmVsID09PSBcInByZWxvYWRcIiAmJiB0eXBlb2Ygb2JqZWN0LmltYWdlU3JjU2V0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuaW1hZ2VTaXplcyA9PT0gXCJzdHJpbmdcIjtcbiAgfVxuICByZXR1cm4gdHlwZW9mIG9iamVjdC5yZWwgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5ocmVmID09PSBcInN0cmluZ1wiO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0S2V5ZWRQcmVmZXRjaExpbmtzKG1hdGNoZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMpIHtcbiAgbGV0IGxpbmtzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgbWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoKSA9PiB7XG4gICAgICBsZXQgcm91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgIGxldCBtb2QgPSBhd2FpdCBsb2FkUm91dGVNb2R1bGUocm91dGUsIHJvdXRlTW9kdWxlcyk7XG4gICAgICAgIHJldHVybiBtb2QubGlua3MgPyBtb2QubGlua3MoKSA6IFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0pXG4gICk7XG4gIHJldHVybiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoXG4gICAgbGlua3MuZmxhdCgxKS5maWx0ZXIoaXNIdG1sTGlua0Rlc2NyaXB0b3IpLmZpbHRlcigobGluaykgPT4gbGluay5yZWwgPT09IFwic3R5bGVzaGVldFwiIHx8IGxpbmsucmVsID09PSBcInByZWxvYWRcIikubWFwKFxuICAgICAgKGxpbmspID0+IGxpbmsucmVsID09PSBcInN0eWxlc2hlZXRcIiA/IHsgLi4ubGluaywgcmVsOiBcInByZWZldGNoXCIsIGFzOiBcInN0eWxlXCIgfSA6IHsgLi4ubGluaywgcmVsOiBcInByZWZldGNoXCIgfVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldE5ld01hdGNoZXNGb3JMaW5rcyhwYWdlLCBuZXh0TWF0Y2hlcywgY3VycmVudE1hdGNoZXMsIG1hbmlmZXN0LCBsb2NhdGlvbiwgbW9kZSkge1xuICBsZXQgaXNOZXcgPSAobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFjdXJyZW50TWF0Y2hlc1tpbmRleF0pIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBtYXRjaC5yb3V0ZS5pZCAhPT0gY3VycmVudE1hdGNoZXNbaW5kZXhdLnJvdXRlLmlkO1xuICB9O1xuICBsZXQgbWF0Y2hQYXRoQ2hhbmdlZCA9IChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgLy8gcGFyYW0gY2hhbmdlLCAvdXNlcnMvMTIzIC0+IC91c2Vycy80NTZcbiAgICAgIGN1cnJlbnRNYXRjaGVzW2luZGV4XS5wYXRobmFtZSAhPT0gbWF0Y2gucGF0aG5hbWUgfHwgLy8gc3BsYXQgcGFyYW0gY2hhbmdlZCwgd2hpY2ggaXMgbm90IHByZXNlbnQgaW4gbWF0Y2gucGF0aFxuICAgICAgLy8gZS5nLiAvZmlsZXMvaW1hZ2VzL2F2YXRhci5qcGcgLT4gZmlsZXMvZmluYW5jZXMueGxzXG4gICAgICBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucm91dGUucGF0aD8uZW5kc1dpdGgoXCIqXCIpICYmIGN1cnJlbnRNYXRjaGVzW2luZGV4XS5wYXJhbXNbXCIqXCJdICE9PSBtYXRjaC5wYXJhbXNbXCIqXCJdXG4gICAgKTtcbiAgfTtcbiAgaWYgKG1vZGUgPT09IFwiYXNzZXRzXCIpIHtcbiAgICByZXR1cm4gbmV4dE1hdGNoZXMuZmlsdGVyKFxuICAgICAgKG1hdGNoLCBpbmRleCkgPT4gaXNOZXcobWF0Y2gsIGluZGV4KSB8fCBtYXRjaFBhdGhDaGFuZ2VkKG1hdGNoLCBpbmRleClcbiAgICApO1xuICB9XG4gIGlmIChtb2RlID09PSBcImRhdGFcIikge1xuICAgIHJldHVybiBuZXh0TWF0Y2hlcy5maWx0ZXIoKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IG1hbmlmZXN0Um91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKCFtYW5pZmVzdFJvdXRlIHx8ICFtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNOZXcobWF0Y2gsIGluZGV4KSB8fCBtYXRjaFBhdGhDaGFuZ2VkKG1hdGNoLCBpbmRleCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgICBsZXQgcm91dGVDaG9pY2UgPSBtYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKHtcbiAgICAgICAgICBjdXJyZW50VXJsOiBuZXcgVVJMKFxuICAgICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggKyBsb2NhdGlvbi5oYXNoLFxuICAgICAgICAgICAgd2luZG93Lm9yaWdpblxuICAgICAgICAgICksXG4gICAgICAgICAgY3VycmVudFBhcmFtczogY3VycmVudE1hdGNoZXNbMF0/LnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICBuZXh0VXJsOiBuZXcgVVJMKHBhZ2UsIHdpbmRvdy5vcmlnaW4pLFxuICAgICAgICAgIG5leHRQYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICAgICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiByb3V0ZUNob2ljZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICByZXR1cm4gcm91dGVDaG9pY2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbXTtcbn1cbmZ1bmN0aW9uIGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCwgeyBpbmNsdWRlSHlkcmF0ZUZhbGxiYWNrIH0gPSB7fSkge1xuICByZXR1cm4gZGVkdXBlSHJlZnMoXG4gICAgbWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiB7XG4gICAgICBsZXQgcm91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKCFyb3V0ZSkgcmV0dXJuIFtdO1xuICAgICAgbGV0IGhyZWZzID0gW3JvdXRlLm1vZHVsZV07XG4gICAgICBpZiAocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAoaW5jbHVkZUh5ZHJhdGVGYWxsYmFjayAmJiByb3V0ZS5oeWRyYXRlRmFsbGJhY2tNb2R1bGUpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuaHlkcmF0ZUZhbGxiYWNrTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3V0ZS5pbXBvcnRzKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmltcG9ydHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhyZWZzO1xuICAgIH0pLmZsYXQoMSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGRlZHVwZUhyZWZzKGhyZWZzKSB7XG4gIHJldHVybiBbLi4ubmV3IFNldChocmVmcyldO1xufVxuZnVuY3Rpb24gc29ydEtleXMob2JqKSB7XG4gIGxldCBzb3J0ZWQgPSB7fTtcbiAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbiAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICBzb3J0ZWRba2V5XSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiBzb3J0ZWQ7XG59XG5mdW5jdGlvbiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoZGVzY3JpcHRvcnMsIHByZWxvYWRzKSB7XG4gIGxldCBzZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgcHJlbG9hZHNTZXQgPSBuZXcgU2V0KHByZWxvYWRzKTtcbiAgcmV0dXJuIGRlc2NyaXB0b3JzLnJlZHVjZSgoZGVkdXBlZCwgZGVzY3JpcHRvcikgPT4ge1xuICAgIGxldCBhbHJlYWR5TW9kdWxlUHJlbG9hZCA9IHByZWxvYWRzICYmICFpc1BhZ2VMaW5rRGVzY3JpcHRvcihkZXNjcmlwdG9yKSAmJiBkZXNjcmlwdG9yLmFzID09PSBcInNjcmlwdFwiICYmIGRlc2NyaXB0b3IuaHJlZiAmJiBwcmVsb2Fkc1NldC5oYXMoZGVzY3JpcHRvci5ocmVmKTtcbiAgICBpZiAoYWxyZWFkeU1vZHVsZVByZWxvYWQpIHtcbiAgICAgIHJldHVybiBkZWR1cGVkO1xuICAgIH1cbiAgICBsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoc29ydEtleXMoZGVzY3JpcHRvcikpO1xuICAgIGlmICghc2V0LmhhcyhrZXkpKSB7XG4gICAgICBzZXQuYWRkKGtleSk7XG4gICAgICBkZWR1cGVkLnB1c2goeyBrZXksIGxpbms6IGRlc2NyaXB0b3IgfSk7XG4gICAgfVxuICAgIHJldHVybiBkZWR1cGVkO1xuICB9LCBbXSk7XG59XG52YXIgX2lzUHJlbG9hZFN1cHBvcnRlZDtcbmZ1bmN0aW9uIGlzUHJlbG9hZFN1cHBvcnRlZCgpIHtcbiAgaWYgKF9pc1ByZWxvYWRTdXBwb3J0ZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBfaXNQcmVsb2FkU3VwcG9ydGVkO1xuICB9XG4gIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBfaXNQcmVsb2FkU3VwcG9ydGVkID0gZWwucmVsTGlzdC5zdXBwb3J0cyhcInByZWxvYWRcIik7XG4gIGVsID0gbnVsbDtcbiAgcmV0dXJuIF9pc1ByZWxvYWRTdXBwb3J0ZWQ7XG59XG5cbi8vIGxpYi9kb20vc3NyL21hcmt1cC50c1xudmFyIEVTQ0FQRV9MT09LVVAgPSB7XG4gIFwiJlwiOiBcIlxcXFx1MDAyNlwiLFxuICBcIj5cIjogXCJcXFxcdTAwM2VcIixcbiAgXCI8XCI6IFwiXFxcXHUwMDNjXCIsXG4gIFwiXFx1MjAyOFwiOiBcIlxcXFx1MjAyOFwiLFxuICBcIlxcdTIwMjlcIjogXCJcXFxcdTIwMjlcIlxufTtcbnZhciBFU0NBUEVfUkVHRVggPSAvWyY+PFxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbChodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoRVNDQVBFX1JFR0VYLCAobWF0Y2gpID0+IEVTQ0FQRV9MT09LVVBbbWF0Y2hdKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUh0bWwoaHRtbCkge1xuICByZXR1cm4geyBfX2h0bWw6IGh0bWwgfTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivc2luZ2xlLWZldGNoLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZGVjb2RlIH0gZnJvbSBcInR1cmJvLXN0cmVhbVwiO1xuXG4vLyBsaWIvZG9tL3Nzci9kYXRhLnRzXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KSB7XG4gIGxldCBpbml0ID0geyBzaWduYWw6IHJlcXVlc3Quc2lnbmFsIH07XG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgIGluaXQubWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IHsgXCJDb250ZW50LVR5cGVcIjogY29udGVudFR5cGUgfTtcbiAgICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KGF3YWl0IHJlcXVlc3QuanNvbigpKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJ0ZXh0XFwvcGxhaW5cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSB7IFwiQ29udGVudC1UeXBlXCI6IGNvbnRlbnRUeXBlIH07XG4gICAgICBpbml0LmJvZHkgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXdhaXQgcmVxdWVzdC50ZXh0KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0LmJvZHkgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbml0O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9zaW5nbGUtZmV0Y2gudHN4XG52YXIgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCA9IFN5bWJvbChcIlNpbmdsZUZldGNoUmVkaXJlY3RcIik7XG5mdW5jdGlvbiBTdHJlYW1UcmFuc2Zlcih7XG4gIGNvbnRleHQsXG4gIGlkZW50aWZpZXIsXG4gIHJlYWRlcixcbiAgdGV4dERlY29kZXIsXG4gIG5vbmNlXG59KSB7XG4gIGlmICghY29udGV4dC5yZW5kZXJNZXRhIHx8ICFjb250ZXh0LnJlbmRlck1ldGEuZGlkUmVuZGVyU2NyaXB0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghY29udGV4dC5yZW5kZXJNZXRhLnN0cmVhbUNhY2hlKSB7XG4gICAgY29udGV4dC5yZW5kZXJNZXRhLnN0cmVhbUNhY2hlID0ge307XG4gIH1cbiAgbGV0IHsgc3RyZWFtQ2FjaGUgfSA9IGNvbnRleHQucmVuZGVyTWV0YTtcbiAgbGV0IHByb21pc2UgPSBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXTtcbiAgaWYgKCFwcm9taXNlKSB7XG4gICAgcHJvbWlzZSA9IHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdID0gcmVhZGVyLnJlYWQoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdLnJlc3VsdCA9IHtcbiAgICAgICAgZG9uZTogcmVzdWx0LmRvbmUsXG4gICAgICAgIHZhbHVlOiB0ZXh0RGVjb2Rlci5kZWNvZGUocmVzdWx0LnZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KVxuICAgICAgfTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0uZXJyb3IgPSBlO1xuICAgIH0pO1xuICB9XG4gIGlmIChwcm9taXNlLmVycm9yKSB7XG4gICAgdGhyb3cgcHJvbWlzZS5lcnJvcjtcbiAgfVxuICBpZiAocHJvbWlzZS5yZXN1bHQgPT09IHZvaWQgMCkge1xuICAgIHRocm93IHByb21pc2U7XG4gIH1cbiAgbGV0IHsgZG9uZSwgdmFsdWUgfSA9IHByb21pc2UucmVzdWx0O1xuICBsZXQgc2NyaXB0VGFnID0gdmFsdWUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBub25jZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW1Db250cm9sbGVyLmVucXVldWUoJHtlc2NhcGVIdG1sKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgICAgICApfSk7YFxuICAgICAgfVxuICAgIH1cbiAgKSA6IG51bGw7XG4gIGlmIChkb25lKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChSZWFjdDQuRnJhZ21lbnQsIG51bGwsIHNjcmlwdFRhZywgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIHtcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgX19odG1sOiBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIuY2xvc2UoKTtgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFJlYWN0NC5GcmFnbWVudCwgbnVsbCwgc2NyaXB0VGFnLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0LlN1c3BlbnNlLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHJlYW1UcmFuc2ZlcixcbiAgICAgIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllciArIDEsXG4gICAgICAgIHJlYWRlcixcbiAgICAgICAgdGV4dERlY29kZXIsXG4gICAgICAgIG5vbmNlXG4gICAgICB9XG4gICAgKSkpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTaW5nbGVGZXRjaERhdGFTdHJhdGVneShtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGJhc2VuYW1lLCBnZXRSb3V0ZXIpIHtcbiAgcmV0dXJuIGFzeW5jIChhcmdzKSA9PiB7XG4gICAgbGV0IHsgcmVxdWVzdCwgbWF0Y2hlcywgZmV0Y2hlcktleSB9ID0gYXJncztcbiAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIpIHtcbiAgICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAoKSA9PiBzaW5nbGVGZXRjaEFjdGlvblN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSxcbiAgICAgICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghc3NyKSB7XG4gICAgICBsZXQgZm91bmRSZXZhbGlkYXRpbmdTZXJ2ZXJMb2FkZXIgPSBtYXRjaGVzLnNvbWUoXG4gICAgICAgIChtKSA9PiBtLnNob3VsZExvYWQgJiYgbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdPy5oYXNMb2FkZXIgJiYgIW1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXT8uaGFzQ2xpZW50TG9hZGVyXG4gICAgICApO1xuICAgICAgaWYgKCFmb3VuZFJldmFsaWRhdGluZ1NlcnZlckxvYWRlcikge1xuICAgICAgICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgKCkgPT4gbm9uU3NyU3RyYXRlZ3kobWFuaWZlc3QsIHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSxcbiAgICAgICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmV0Y2hlcktleSkge1xuICAgICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgYXJncyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgICgpID0+IHNpbmdsZUZldGNoTG9hZGVyRmV0Y2hlclN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSxcbiAgICAgICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICBhcmdzLFxuICAgICAgZmFsc2UsXG4gICAgICAoKSA9PiBzaW5nbGVGZXRjaExvYWRlck5hdmlnYXRpb25TdHJhdGVneShcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgc3NyLFxuICAgICAgICBnZXRSb3V0ZXIoKSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgYmFzZW5hbWVcbiAgICAgICksXG4gICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICk7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaEFjdGlvblN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBhY3Rpb25NYXRjaCA9IG1hdGNoZXMuZmluZCgobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgaW52YXJpYW50MihhY3Rpb25NYXRjaCwgXCJObyBhY3Rpb24gbWF0Y2ggZm91bmRcIik7XG4gIGxldCBhY3Rpb25TdGF0dXMgPSB2b2lkIDA7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBhY3Rpb25NYXRjaC5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB1cmwgPSBzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpO1xuICAgICAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgICAgIGxldCB7IGRhdGE6IGRhdGEyLCBzdGF0dXMgfSA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKHVybCwgaW5pdCk7XG4gICAgICBhY3Rpb25TdGF0dXMgPSBzdGF0dXM7XG4gICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQoXG4gICAgICAgIGRhdGEyLFxuICAgICAgICBhY3Rpb25NYXRjaC5yb3V0ZS5pZFxuICAgICAgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0MjtcbiAgfSk7XG4gIGlmIChpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpIHx8IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5yZXN1bHQpKSB7XG4gICAgcmV0dXJuIHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0IH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiB7XG4gICAgICB0eXBlOiByZXN1bHQudHlwZSxcbiAgICAgIHJlc3VsdDogZGF0YShyZXN1bHQucmVzdWx0LCBhY3Rpb25TdGF0dXMpXG4gICAgfVxuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbm9uU3NyU3RyYXRlZ3kobWFuaWZlc3QsIHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBtYXRjaGVzVG9Mb2FkID0gbWF0Y2hlcy5maWx0ZXIoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGxldCB1cmwgPSBzdHJpcEluZGV4UGFyYW0oc2luZ2xlRmV0Y2hVcmwocmVxdWVzdC51cmwsIGJhc2VuYW1lKSk7XG4gIGxldCBpbml0ID0gYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCk7XG4gIGxldCByZXN1bHRzID0ge307XG4gIGF3YWl0IFByb21pc2UuYWxsKFxuICAgIG1hdGNoZXNUb0xvYWQubWFwKFxuICAgICAgKG0pID0+IG0ucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF0/Lmhhc0NsaWVudExvYWRlciA/IGF3YWl0IGZldGNoU2luZ2xlTG9hZGVyKGhhbmRsZXIsIHVybCwgaW5pdCwgbS5yb3V0ZS5pZCkgOiBhd2FpdCBoYW5kbGVyKCk7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdCB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICk7XG4gIHJldHVybiByZXN1bHRzO1xufVxuZnVuY3Rpb24gaXNPcHRlZE91dChtYW5pZmVzdFJvdXRlLCByb3V0ZU1vZHVsZSwgbWF0Y2gsIHJvdXRlcikge1xuICByZXR1cm4gbWF0Y2gucm91dGUuaWQgaW4gcm91dGVyLnN0YXRlLmxvYWRlckRhdGEgJiYgbWFuaWZlc3RSb3V0ZSAmJiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlciAmJiByb3V0ZU1vZHVsZSAmJiByb3V0ZU1vZHVsZS5zaG91bGRSZXZhbGlkYXRlO1xufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hMb2FkZXJOYXZpZ2F0aW9uU3RyYXRlZ3kobWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCByb3V0ZXIsIHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCByb3V0ZXNQYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZm91bmRPcHRPdXRSb3V0ZSA9IGZhbHNlO1xuICBsZXQgcm91dGVEZmRzID0gbWF0Y2hlcy5tYXAoKCkgPT4gY3JlYXRlRGVmZXJyZWQyKCkpO1xuICBsZXQgcm91dGVzTG9hZGVkUHJvbWlzZSA9IFByb21pc2UuYWxsKHJvdXRlRGZkcy5tYXAoKGQpID0+IGQucHJvbWlzZSkpO1xuICBsZXQgc2luZ2xlRmV0Y2hEZmQgPSBjcmVhdGVEZWZlcnJlZDIoKTtcbiAgbGV0IHVybCA9IHN0cmlwSW5kZXhQYXJhbShzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpKTtcbiAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgbGV0IHJlc3VsdHMgPSB7fTtcbiAgbGV0IHJlc29sdmVQcm9taXNlID0gUHJvbWlzZS5hbGwoXG4gICAgbWF0Y2hlcy5tYXAoXG4gICAgICBhc3luYyAobSwgaSkgPT4gbS5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHJvdXRlRGZkc1tpXS5yZXNvbHZlKCk7XG4gICAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdO1xuICAgICAgICBpZiAoIW0uc2hvdWxkTG9hZCkge1xuICAgICAgICAgIGlmICghcm91dGVyLnN0YXRlLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc09wdGVkT3V0KG1hbmlmZXN0Um91dGUsIHJvdXRlTW9kdWxlc1ttLnJvdXRlLmlkXSwgbSwgcm91dGVyKSkge1xuICAgICAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYW5pZmVzdFJvdXRlICYmIG1hbmlmZXN0Um91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgaWYgKG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaFNpbmdsZUxvYWRlcihcbiAgICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICBpbml0LFxuICAgICAgICAgICAgICBtLnJvdXRlLmlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdCB9O1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFuaWZlc3RSb3V0ZSAmJiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICAgIHJvdXRlc1BhcmFtcy5hZGQobS5yb3V0ZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YTIgPSBhd2FpdCBzaW5nbGVGZXRjaERmZC5wcm9taXNlO1xuICAgICAgICAgICAgcmV0dXJuIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0cyhkYXRhMiwgbS5yb3V0ZS5pZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7XG4gICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICByZXN1bHQ6IGVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgKTtcbiAgYXdhaXQgcm91dGVzTG9hZGVkUHJvbWlzZTtcbiAgaWYgKCghcm91dGVyLnN0YXRlLmluaXRpYWxpemVkIHx8IHJvdXRlc1BhcmFtcy5zaXplID09PSAwKSAmJiAhd2luZG93Ll9fcmVhY3RSb3V0ZXJIZHJBY3RpdmUpIHtcbiAgICBzaW5nbGVGZXRjaERmZC5yZXNvbHZlKHt9KTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHNzciAmJiBmb3VuZE9wdE91dFJvdXRlICYmIHJvdXRlc1BhcmFtcy5zaXplID4gMCkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcbiAgICAgICAgICBcIl9yb3V0ZXNcIixcbiAgICAgICAgICBtYXRjaGVzLmZpbHRlcigobSkgPT4gcm91dGVzUGFyYW1zLmhhcyhtLnJvdXRlLmlkKSkubWFwKChtKSA9PiBtLnJvdXRlLmlkKS5qb2luKFwiLFwiKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbGV0IGRhdGEyID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUodXJsLCBpbml0KTtcbiAgICAgIHNpbmdsZUZldGNoRGZkLnJlc29sdmUoZGF0YTIuZGF0YSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2luZ2xlRmV0Y2hEZmQucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxuICBhd2FpdCByZXNvbHZlUHJvbWlzZTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaExvYWRlckZldGNoZXJTdHJhdGVneShyZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgZmV0Y2hlck1hdGNoID0gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBpbnZhcmlhbnQyKGZldGNoZXJNYXRjaCwgXCJObyBmZXRjaGVyIG1hdGNoIGZvdW5kXCIpO1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2hlck1hdGNoLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICBsZXQgdXJsID0gc3RyaXBJbmRleFBhcmFtKHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSkpO1xuICAgIGxldCBpbml0ID0gYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCk7XG4gICAgcmV0dXJuIGZldGNoU2luZ2xlTG9hZGVyKGhhbmRsZXIsIHVybCwgaW5pdCwgZmV0Y2hlck1hdGNoLnJvdXRlLmlkKTtcbiAgfSk7XG4gIHJldHVybiB7IFtmZXRjaGVyTWF0Y2gucm91dGUuaWRdOiByZXN1bHQgfTtcbn1cbmZ1bmN0aW9uIGZldGNoU2luZ2xlTG9hZGVyKGhhbmRsZXIsIHVybCwgaW5pdCwgcm91dGVJZCkge1xuICByZXR1cm4gaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgbGV0IHNpbmdsZUxvYWRlclVybCA9IG5ldyBVUkwodXJsKTtcbiAgICBzaW5nbGVMb2FkZXJVcmwuc2VhcmNoUGFyYW1zLnNldChcIl9yb3V0ZXNcIiwgcm91dGVJZCk7XG4gICAgbGV0IHsgZGF0YTogZGF0YTIgfSA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKHNpbmdsZUxvYWRlclVybCwgaW5pdCk7XG4gICAgcmV0dXJuIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0cyhkYXRhMiwgcm91dGVJZCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc3RyaXBJbmRleFBhcmFtKHVybCkge1xuICBsZXQgaW5kZXhWYWx1ZXMgPSB1cmwuc2VhcmNoUGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICBsZXQgaW5kZXhWYWx1ZXNUb0tlZXAgPSBbXTtcbiAgZm9yIChsZXQgaW5kZXhWYWx1ZSBvZiBpbmRleFZhbHVlcykge1xuICAgIGlmIChpbmRleFZhbHVlKSB7XG4gICAgICBpbmRleFZhbHVlc1RvS2VlcC5wdXNoKGluZGV4VmFsdWUpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCB0b0tlZXAgb2YgaW5kZXhWYWx1ZXNUb0tlZXApIHtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHRvS2VlcCk7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIHNpbmdsZUZldGNoVXJsKHJlcVVybCwgYmFzZW5hbWUpIHtcbiAgbGV0IHVybCA9IHR5cGVvZiByZXFVcmwgPT09IFwic3RyaW5nXCIgPyBuZXcgVVJMKFxuICAgIHJlcVVybCxcbiAgICAvLyBUaGlzIGNhbiBiZSBjYWxsZWQgZHVyaW5nIHRoZSBTU1IgZmxvdyB2aWEgUHJlZmV0Y2hQYWdlTGlua3NJbXBsIHNvXG4gICAgLy8gZG9uJ3QgYXNzdW1lIHdpbmRvdyBpcyBhdmFpbGFibGVcbiAgICB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJzZXJ2ZXI6Ly9zaW5nbGVmZXRjaC9cIiA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgKSA6IHJlcVVybDtcbiAgaWYgKHVybC5wYXRobmFtZSA9PT0gXCIvXCIpIHtcbiAgICB1cmwucGF0aG5hbWUgPSBcIl9yb290LmRhdGFcIjtcbiAgfSBlbHNlIGlmIChiYXNlbmFtZSAmJiBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpID09PSBcIi9cIikge1xuICAgIHVybC5wYXRobmFtZSA9IGAke2Jhc2VuYW1lLnJlcGxhY2UoL1xcLyQvLCBcIlwiKX0vX3Jvb3QuZGF0YWA7XG4gIH0gZWxzZSB7XG4gICAgdXJsLnBhdGhuYW1lID0gYCR7dXJsLnBhdGhuYW1lLnJlcGxhY2UoL1xcLyQvLCBcIlwiKX0uZGF0YWA7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kRGVjb2RlKHVybCwgaW5pdCkge1xuICBsZXQgcmVzID0gYXdhaXQgZmV0Y2godXJsLCBpbml0KTtcbiAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCAmJiAhcmVzLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXNwb25zZVwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDQsIFwiTm90IEZvdW5kXCIsIHRydWUpO1xuICB9XG4gIGNvbnN0IE5PX0JPRFlfU1RBVFVTX0NPREVTMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsxMDAsIDEwMSwgMjA0LCAyMDVdKTtcbiAgaWYgKE5PX0JPRFlfU1RBVFVTX0NPREVTMi5oYXMocmVzLnN0YXR1cykpIHtcbiAgICBpZiAoIWluaXQubWV0aG9kIHx8IGluaXQubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHJlcy5zdGF0dXMsIGRhdGE6IHt9IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IHN0YXR1czogcmVzLnN0YXR1cywgZGF0YTogeyBkYXRhOiB2b2lkIDAgfSB9O1xuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQyKHJlcy5ib2R5LCBcIk5vIHJlc3BvbnNlIGJvZHkgdG8gZGVjb2RlXCIpO1xuICB0cnkge1xuICAgIGxldCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlVmlhVHVyYm9TdHJlYW0ocmVzLmJvZHksIHdpbmRvdyk7XG4gICAgcmV0dXJuIHsgc3RhdHVzOiByZXMuc3RhdHVzLCBkYXRhOiBkZWNvZGVkLnZhbHVlIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVjb2RlIHR1cmJvLXN0cmVhbSByZXNwb25zZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVjb2RlVmlhVHVyYm9TdHJlYW0oYm9keSwgZ2xvYmFsMikge1xuICByZXR1cm4gZGVjb2RlKGJvZHksIHtcbiAgICBwbHVnaW5zOiBbXG4gICAgICAodHlwZSwgLi4ucmVzdCkgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJTYW5pdGl6ZWRFcnJvclwiKSB7XG4gICAgICAgICAgbGV0IFtuYW1lLCBtZXNzYWdlLCBzdGFja10gPSByZXN0O1xuICAgICAgICAgIGxldCBDb25zdHJ1Y3RvciA9IEVycm9yO1xuICAgICAgICAgIGlmIChuYW1lICYmIG5hbWUgaW4gZ2xvYmFsMiAmJiB0eXBlb2YgZ2xvYmFsMltuYW1lXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3RvciA9IGdsb2JhbDJbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgICAgICAgICBlcnJvci5zdGFjayA9IHN0YWNrO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIkVycm9yUmVzcG9uc2VcIikge1xuICAgICAgICAgIGxldCBbZGF0YTIsIHN0YXR1cywgc3RhdHVzVGV4dF0gPSByZXN0O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IEVycm9yUmVzcG9uc2VJbXBsKHN0YXR1cywgc3RhdHVzVGV4dCwgZGF0YTIpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaFJlZGlyZWN0XCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogeyBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IHJlc3RbMF0gfSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoQ2xhc3NJbnN0YW5jZVwiKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHJlc3RbMF0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaEZhbGxiYWNrXCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufVxuZnVuY3Rpb24gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHRzKHJlc3VsdHMsIHJvdXRlSWQpIHtcbiAgbGV0IHJlZGlyZWN0MiA9IHJlc3VsdHNbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF07XG4gIGlmIChyZWRpcmVjdDIpIHtcbiAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVkaXJlY3QyLCByb3V0ZUlkKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0c1tyb3V0ZUlkXSAhPT0gdm9pZCAwID8gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVzdWx0c1tyb3V0ZUlkXSwgcm91dGVJZCkgOiBudWxsO1xufVxuZnVuY3Rpb24gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVzdWx0LCByb3V0ZUlkKSB7XG4gIGlmIChcImVycm9yXCIgaW4gcmVzdWx0KSB7XG4gICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICB9IGVsc2UgaWYgKFwicmVkaXJlY3RcIiBpbiByZXN1bHQpIHtcbiAgICBsZXQgaGVhZGVycyA9IHt9O1xuICAgIGlmIChyZXN1bHQucmV2YWxpZGF0ZSkge1xuICAgICAgaGVhZGVyc1tcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiXSA9IFwieWVzXCI7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucmVsb2FkKSB7XG4gICAgICBoZWFkZXJzW1wiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIl0gPSBcInllc1wiO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnJlcGxhY2UpIHtcbiAgICAgIGhlYWRlcnNbXCJYLVJlbWl4LVJlcGxhY2VcIl0gPSBcInllc1wiO1xuICAgIH1cbiAgICB0aHJvdyByZWRpcmVjdChyZXN1bHQucmVkaXJlY3QsIHsgc3RhdHVzOiByZXN1bHQuc3RhdHVzLCBoZWFkZXJzIH0pO1xuICB9IGVsc2UgaWYgKFwiZGF0YVwiIGluIHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHJlc3BvbnNlIGZvdW5kIGZvciByb3V0ZUlkIFwiJHtyb3V0ZUlkfVwiYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkMigpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IGFzeW5jICh2YWwpID0+IHtcbiAgICAgIHJlcyh2YWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlamVjdCA9IGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgcmVqKGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZXNvbHZlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlamVjdFxuICB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mb2ctb2Ytd2FyLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDggZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy50c3hcbmltcG9ydCAqIGFzIFJlYWN0NyBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3IvZXJyb3JCb3VuZGFyaWVzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1IGZyb20gXCJyZWFjdFwiO1xudmFyIFJlbWl4RXJyb3JCb3VuZGFyeSA9IGNsYXNzIGV4dGVuZHMgUmVhY3Q1LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGVycm9yOiBwcm9wcy5lcnJvciB8fCBudWxsLCBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24gfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5sb2NhdGlvbiAhPT0gcHJvcHMubG9jYXRpb24pIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiBwcm9wcy5lcnJvciB8fCBudWxsLCBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24gfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZXJyb3I6IHByb3BzLmVycm9yIHx8IHN0YXRlLmVycm9yLCBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24gfTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlbWl4Um9vdERlZmF1bHRFcnJvckJvdW5kYXJ5LFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICAgICAgaXNPdXRzaWRlUmVtaXhBcHA6IHRydWVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gUmVtaXhSb290RGVmYXVsdEVycm9yQm91bmRhcnkoe1xuICBlcnJvcixcbiAgaXNPdXRzaWRlUmVtaXhBcHBcbn0pIHtcbiAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIGxldCBoZXlEZXZlbG9wZXIgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgXCJcXHV7MUY0QkZ9IEhleSBkZXZlbG9wZXIgXFx1ezFGNDRCfS4gWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgd2hlbiB5b3VyIGFwcCB0aHJvd3MgZXJyb3JzLiBDaGVjayBvdXQgaHR0cHM6Ly9yZW1peC5ydW4vZ3VpZGVzL2Vycm9ycyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgYFxuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoQm91bmRhcnlTaGVsbCwgeyB0aXRsZTogXCJVbmhhbmRsZWQgVGhyb3duIFJlc3BvbnNlIVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMjRweFwiIH0gfSwgZXJyb3Iuc3RhdHVzLCBcIiBcIiwgZXJyb3Iuc3RhdHVzVGV4dCksIGhleURldmVsb3Blcik7XG4gIH1cbiAgbGV0IGVycm9ySW5zdGFuY2U7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgZXJyb3JJbnN0YW5jZSA9IGVycm9yO1xuICB9IGVsc2Uge1xuICAgIGxldCBlcnJvclN0cmluZyA9IGVycm9yID09IG51bGwgPyBcIlVua25vd24gRXJyb3JcIiA6IHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJiBcInRvU3RyaW5nXCIgaW4gZXJyb3IgPyBlcnJvci50b1N0cmluZygpIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgIGVycm9ySW5zdGFuY2UgPSBuZXcgRXJyb3IoZXJyb3JTdHJpbmcpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgQm91bmRhcnlTaGVsbCxcbiAgICB7XG4gICAgICB0aXRsZTogXCJBcHBsaWNhdGlvbiBFcnJvciFcIixcbiAgICAgIGlzT3V0c2lkZVJlbWl4QXBwXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJoMVwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjI0cHhcIiB9IH0sIFwiQXBwbGljYXRpb24gRXJyb3JcIiksXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJwcmVcIixcbiAgICAgIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcImhzbGEoMTAsIDUwJSwgNTAlLCAwLjEpXCIsXG4gICAgICAgICAgY29sb3I6IFwicmVkXCIsXG4gICAgICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvckluc3RhbmNlLnN0YWNrXG4gICAgKSxcbiAgICBoZXlEZXZlbG9wZXJcbiAgKTtcbn1cbmZ1bmN0aW9uIEJvdW5kYXJ5U2hlbGwoe1xuICB0aXRsZSxcbiAgcmVuZGVyU2NyaXB0cyxcbiAgaXNPdXRzaWRlUmVtaXhBcHAsXG4gIGNoaWxkcmVuXG59KSB7XG4gIGxldCB7IHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBpZiAocm91dGVNb2R1bGVzLnJvb3Q/LkxheW91dCAmJiAhaXNPdXRzaWRlUmVtaXhBcHApIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImh0bWxcIiwgeyBsYW5nOiBcImVuXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaGVhZFwiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIsIHsgY2hhclNldDogXCJ1dGYtOFwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJtZXRhXCIsXG4gICAge1xuICAgICAgbmFtZTogXCJ2aWV3cG9ydFwiLFxuICAgICAgY29udGVudDogXCJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlclwiXG4gICAgfVxuICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCB0aXRsZSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcIm1haW5cIiwgeyBzdHlsZTogeyBmb250RmFtaWx5OiBcInN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLCBwYWRkaW5nOiBcIjJyZW1cIiB9IH0sIGNoaWxkcmVuLCByZW5kZXJTY3JpcHRzID8gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFNjcmlwdHMsIG51bGwpIDogbnVsbCkpKTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZmFsbGJhY2sudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDYgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBSZW1peFJvb3REZWZhdWx0SHlkcmF0ZUZhbGxiYWNrKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KEJvdW5kYXJ5U2hlbGwsIHsgdGl0bGU6IFwiTG9hZGluZy4uLlwiLCByZW5kZXJTY3JpcHRzOiB0cnVlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIlxcdXsxRjRCRn0gSGV5IGRldmVsb3BlciBcXHV7MUY0NEJ9LiBZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyBcIiArXG4gICAgICAgICAgICAgICAgXCJ3aGVuIHlvdXIgYXBwIGlzIGxvYWRpbmcgSlMgbW9kdWxlcyBhbmQvb3IgcnVubmluZyBcXGBjbGllbnRMb2FkZXJcXGAgXCIgK1xuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25zLiBDaGVjayBvdXQgaHR0cHM6Ly9yZW1peC5ydW4vcm91dGUvaHlkcmF0ZS1mYWxsYmFjayBcIiArXG4gICAgICAgICAgICAgICAgXCJmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYFxuICAgICAgfVxuICAgIH1cbiAgKSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy50c3hcbmZ1bmN0aW9uIGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCkge1xuICBsZXQgcm91dGVzID0ge307XG4gIE9iamVjdC52YWx1ZXMobWFuaWZlc3QpLmZvckVhY2goKHJvdXRlKSA9PiB7XG4gICAgaWYgKHJvdXRlKSB7XG4gICAgICBsZXQgcGFyZW50SWQgPSByb3V0ZS5wYXJlbnRJZCB8fCBcIlwiO1xuICAgICAgaWYgKCFyb3V0ZXNbcGFyZW50SWRdKSB7XG4gICAgICAgIHJvdXRlc1twYXJlbnRJZF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJvdXRlc1twYXJlbnRJZF0ucHVzaChyb3V0ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJvdXRlcztcbn1cbmZ1bmN0aW9uIGdldFJvdXRlQ29tcG9uZW50cyhyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSkge1xuICBsZXQgQ29tcG9uZW50NCA9IGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKTtcbiAgbGV0IEh5ZHJhdGVGYWxsYmFjayA9IHJvdXRlTW9kdWxlLkh5ZHJhdGVGYWxsYmFjayAmJiAoIWlzU3BhTW9kZSB8fCByb3V0ZS5pZCA9PT0gXCJyb290XCIpID8gcm91dGVNb2R1bGUuSHlkcmF0ZUZhbGxiYWNrIDogcm91dGUuaWQgPT09IFwicm9vdFwiID8gUmVtaXhSb290RGVmYXVsdEh5ZHJhdGVGYWxsYmFjayA6IHZvaWQgMDtcbiAgbGV0IEVycm9yQm91bmRhcnkgPSByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5ID8gcm91dGVNb2R1bGUuRXJyb3JCb3VuZGFyeSA6IHJvdXRlLmlkID09PSBcInJvb3RcIiA/ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSwgeyBlcnJvcjogdXNlUm91dGVFcnJvcigpIH0pIDogdm9pZCAwO1xuICBpZiAocm91dGUuaWQgPT09IFwicm9vdFwiICYmIHJvdXRlTW9kdWxlLkxheW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5Db21wb25lbnQ0ID8ge1xuICAgICAgICBlbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50NCwgbnVsbCkpXG4gICAgICB9IDogeyBDb21wb25lbnQ6IENvbXBvbmVudDQgfSxcbiAgICAgIC4uLkVycm9yQm91bmRhcnkgPyB7XG4gICAgICAgIGVycm9yRWxlbWVudDogLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KHJvdXRlTW9kdWxlLkxheW91dCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnksIG51bGwpKVxuICAgICAgfSA6IHsgRXJyb3JCb3VuZGFyeSB9LFxuICAgICAgLi4uSHlkcmF0ZUZhbGxiYWNrID8ge1xuICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoSHlkcmF0ZUZhbGxiYWNrLCBudWxsKSlcbiAgICAgIH0gOiB7IEh5ZHJhdGVGYWxsYmFjayB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4geyBDb21wb25lbnQ6IENvbXBvbmVudDQsIEVycm9yQm91bmRhcnksIEh5ZHJhdGVGYWxsYmFjayB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VydmVyUm91dGVzKG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIGZ1dHVyZSwgaXNTcGFNb2RlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLCBzcGFNb2RlTGF6eVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoeyBDb21wb25lbnQ6ICgpID0+IG51bGwgfSkpIHtcbiAgcmV0dXJuIChyb3V0ZXNCeVBhcmVudElkW3BhcmVudElkXSB8fCBbXSkubWFwKChyb3V0ZSkgPT4ge1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZS5pZF07XG4gICAgaW52YXJpYW50MihcbiAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgXCJObyBgcm91dGVNb2R1bGVgIGF2YWlsYWJsZSB0byBjcmVhdGUgc2VydmVyIHJvdXRlc1wiXG4gICAgKTtcbiAgICBsZXQgZGF0YVJvdXRlID0ge1xuICAgICAgLi4uZ2V0Um91dGVDb21wb25lbnRzKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUsXG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaGFuZGxlOiByb3V0ZU1vZHVsZS5oYW5kbGUsXG4gICAgICAvLyBGb3IgU1BBIE1vZGUsIGFsbCByb3V0ZXMgYXJlIGxhenkgZXhjZXB0IHJvb3QuICBIb3dldmVyIHdlIHRlbGwgdGhlXG4gICAgICAvLyByb3V0ZXIgcm9vdCBpcyBhbHNvIGxhenkgaGVyZSB0b28gc2luY2Ugd2UgZG9uJ3QgbmVlZCBhIGZ1bGxcbiAgICAgIC8vIGltcGxlbWVudGF0aW9uIC0gd2UganVzdCBuZWVkIGEgYGxhenlgIHByb3AgdG8gdGVsbCB0aGUgUlIgcmVuZGVyaW5nXG4gICAgICAvLyB3aGVyZSB0byBzdG9wIHdoaWNoIGlzIGFsd2F5cyBhdCB0aGUgcm9vdCByb3V0ZSBpbiBTUEEgbW9kZVxuICAgICAgbGF6eTogaXNTcGFNb2RlID8gKCkgPT4gc3BhTW9kZUxhenlQcm9taXNlIDogdm9pZCAwLFxuICAgICAgLy8gRm9yIHBhcnRpYWwgaHlkcmF0aW9uIHJlbmRlcmluZywgd2UgbmVlZCB0byBpbmRpY2F0ZSB3aGVuIHRoZSByb3V0ZVxuICAgICAgLy8gaGFzIGEgbG9hZGVyL2NsaWVudExvYWRlciwgYnV0IGl0IHdvbid0IGV2ZXIgYmUgY2FsbGVkIGR1cmluZyB0aGUgc3RhdGljXG4gICAgICAvLyByZW5kZXIsIHNvIGp1c3QgZ2l2ZSBpdCBhIG5vLW9wIGZ1bmN0aW9uIHNvIHdlIGNhbiByZW5kZXIgZG93biB0byB0aGVcbiAgICAgIC8vIHByb3BlciBmYWxsYmFja1xuICAgICAgbG9hZGVyOiByb3V0ZS5oYXNMb2FkZXIgfHwgcm91dGUuaGFzQ2xpZW50TG9hZGVyID8gKCkgPT4gbnVsbCA6IHZvaWQgMFxuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCBtaWRkbGV3YXJlL2FjdGlvbi9zaG91bGRSZXZhbGlkYXRlIG9uIHRoZXNlIHJvdXRlcyBzaW5jZVxuICAgICAgLy8gdGhleSdyZSBmb3IgYSBzdGF0aWMgcmVuZGVyXG4gICAgfTtcbiAgICBsZXQgY2hpbGRyZW4gPSBjcmVhdGVTZXJ2ZXJSb3V0ZXMoXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgIGZ1dHVyZSxcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIHJvdXRlLmlkLFxuICAgICAgcm91dGVzQnlQYXJlbnRJZCxcbiAgICAgIHNwYU1vZGVMYXp5UHJvbWlzZVxuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIGRhdGFSb3V0ZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHJldHVybiBkYXRhUm91dGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dChuZWVkc1JldmFsaWRhdGlvbiwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlc0NhY2hlLCBpbml0aWFsU3RhdGUsIHNzciwgaXNTcGFNb2RlKSB7XG4gIHJldHVybiBjcmVhdGVDbGllbnRSb3V0ZXMoXG4gICAgbWFuaWZlc3QsXG4gICAgcm91dGVNb2R1bGVzQ2FjaGUsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIHNzcixcbiAgICBpc1NwYU1vZGUsXG4gICAgXCJcIixcbiAgICBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLFxuICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICk7XG59XG5mdW5jdGlvbiBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKHR5cGUsIHJvdXRlKSB7XG4gIGlmICh0eXBlID09PSBcImxvYWRlclwiICYmICFyb3V0ZS5oYXNMb2FkZXIgfHwgdHlwZSA9PT0gXCJhY3Rpb25cIiAmJiAhcm91dGUuaGFzQWN0aW9uKSB7XG4gICAgbGV0IGZuID0gdHlwZSA9PT0gXCJhY3Rpb25cIiA/IFwic2VydmVyQWN0aW9uKClcIiA6IFwic2VydmVyTG9hZGVyKClcIjtcbiAgICBsZXQgbXNnID0gYFlvdSBhcmUgdHJ5aW5nIHRvIGNhbGwgJHtmbn0gb24gYSByb3V0ZSB0aGF0IGRvZXMgbm90IGhhdmUgYSBzZXJ2ZXIgJHt0eXBlfSAocm91dGVJZDogXCIke3JvdXRlLmlkfVwiKWA7XG4gICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDAsIFwiQmFkIFJlcXVlc3RcIiwgbmV3IEVycm9yKG1zZyksIHRydWUpO1xuICB9XG59XG5mdW5jdGlvbiBub0FjdGlvbkRlZmluZWRFcnJvcih0eXBlLCByb3V0ZUlkKSB7XG4gIGxldCBhcnRpY2xlID0gdHlwZSA9PT0gXCJjbGllbnRBY3Rpb25cIiA/IFwiYVwiIDogXCJhblwiO1xuICBsZXQgbXNnID0gYFJvdXRlIFwiJHtyb3V0ZUlkfVwiIGRvZXMgbm90IGhhdmUgJHthcnRpY2xlfSAke3R5cGV9LCBidXQgeW91IGFyZSB0cnlpbmcgdG8gc3VibWl0IHRvIGl0LiBUbyBmaXggdGhpcywgcGxlYXNlIGFkZCAke2FydGljbGV9IFxcYCR7dHlwZX1cXGAgZnVuY3Rpb24gdG8gdGhlIHJvdXRlYDtcbiAgY29uc29sZS5lcnJvcihtc2cpO1xuICB0aHJvdyBuZXcgRXJyb3JSZXNwb25zZUltcGwoNDA1LCBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiLCBuZXcgRXJyb3IobXNnKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRSb3V0ZXMobWFuaWZlc3QsIHJvdXRlTW9kdWxlc0NhY2hlLCBpbml0aWFsU3RhdGUsIHNzciwgaXNTcGFNb2RlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCkge1xuICAgICAgaW52YXJpYW50MihcbiAgICAgICAgdHlwZW9mIHNpbmdsZUZldGNoID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICAgIFwiTm8gc2luZ2xlIGZldGNoIGZ1bmN0aW9uIGF2YWlsYWJsZSBmb3Igcm91dGUgaGFuZGxlclwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIHNpbmdsZUZldGNoKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0xvYWRlcikgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgIHJldHVybiBmZXRjaFNlcnZlckhhbmRsZXIoc2luZ2xlRmV0Y2gpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCkge1xuICAgICAgaWYgKCFyb3V0ZS5oYXNBY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbm9BY3Rpb25EZWZpbmVkRXJyb3IoXCJhY3Rpb25cIiwgcm91dGUuaWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWZldGNoTW9kdWxlKG1vZHVsZVBhdGgpIHtcbiAgICAgIGltcG9ydChcbiAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgbW9kdWxlUGF0aFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZTIpIHtcbiAgICAgIGlmIChyb3V0ZTIuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIHByZWZldGNoTW9kdWxlKHJvdXRlMi5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlMi5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgcHJlZmV0Y2hNb2R1bGUocm91dGUyLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgbGV0IGNhY2hlZE1vZHVsZSA9IHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXTtcbiAgICAgIGxldCBsaW5rUHJlZmV0Y2hQcm9taXNlID0gY2FjaGVkTW9kdWxlID8gcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCBjYWNoZWRNb2R1bGUpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYXdhaXQgbGlua1ByZWZldGNoUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRhdGFSb3V0ZSA9IHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGhcbiAgICB9O1xuICAgIGlmIChyb3V0ZU1vZHVsZSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihkYXRhUm91dGUsIHtcbiAgICAgICAgLi4uZGF0YVJvdXRlLFxuICAgICAgICAuLi5nZXRSb3V0ZUNvbXBvbmVudHMocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpLFxuICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiByb3V0ZU1vZHVsZS51bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlLFxuICAgICAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZ2V0U2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uKFxuICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgIHNzcixcbiAgICAgICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICAgICApXG4gICAgICB9KTtcbiAgICAgIGxldCBoYXNJbml0aWFsRGF0YSA9IGluaXRpYWxTdGF0ZSAmJiBpbml0aWFsU3RhdGUubG9hZGVyRGF0YSAmJiByb3V0ZS5pZCBpbiBpbml0aWFsU3RhdGUubG9hZGVyRGF0YTtcbiAgICAgIGxldCBpbml0aWFsRGF0YSA9IGhhc0luaXRpYWxEYXRhID8gaW5pdGlhbFN0YXRlPy5sb2FkZXJEYXRhPy5bcm91dGUuaWRdIDogdm9pZCAwO1xuICAgICAgbGV0IGhhc0luaXRpYWxFcnJvciA9IGluaXRpYWxTdGF0ZSAmJiBpbml0aWFsU3RhdGUuZXJyb3JzICYmIHJvdXRlLmlkIGluIGluaXRpYWxTdGF0ZS5lcnJvcnM7XG4gICAgICBsZXQgaW5pdGlhbEVycm9yID0gaGFzSW5pdGlhbEVycm9yID8gaW5pdGlhbFN0YXRlPy5lcnJvcnM/Lltyb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBsZXQgaXNIeWRyYXRpb25SZXF1ZXN0ID0gbmVlZHNSZXZhbGlkYXRpb24gPT0gbnVsbCAmJiAocm91dGVNb2R1bGUuY2xpZW50TG9hZGVyPy5oeWRyYXRlID09PSB0cnVlIHx8ICFyb3V0ZS5oYXNMb2FkZXIpO1xuICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IGFzeW5jICh7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9LCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGludmFyaWFudDIoXG4gICAgICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgICAgICBcIk5vIGByb3V0ZU1vZHVsZWAgYXZhaWxhYmxlIGZvciBjcml0aWNhbC1yb3V0ZSBsb2FkZXJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImxvYWRlclwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW9uUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0luaXRpYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsRGF0YTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChoYXNJbml0aWFsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaW5pdGlhbEVycm9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzSHlkcmF0aW9uUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGF0YVJvdXRlLmxvYWRlci5oeWRyYXRlID0gc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKFxuICAgICAgICByb3V0ZSxcbiAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgIGlzU3BhTW9kZVxuICAgICAgKTtcbiAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSAoeyByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSwgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGludmFyaWFudDIoXG4gICAgICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgICAgIFwiTm8gYHJvdXRlTW9kdWxlYCBhdmFpbGFibGUgZm9yIGNyaXRpY2FsLXJvdXRlIGFjdGlvblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbikge1xuICAgICAgICAgICAgaWYgKGlzU3BhTW9kZSkge1xuICAgICAgICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImNsaWVudEFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyQWN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwiYWN0aW9uXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgICAgICBkYXRhUm91dGUubG9hZGVyID0gKF8sIHNpbmdsZUZldGNoKSA9PiBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5sb2FkZXIgPSBhc3luYyAoYXJncywgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgICBpbnZhcmlhbnQyKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICAgICAgbGV0IHsgY2xpZW50TG9hZGVyIH0gPSBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgICAgIHJvdXRlLmNsaWVudExvYWRlck1vZHVsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudExvYWRlcih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyTG9hZGVyKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwibG9hZGVyXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICghcm91dGUuaGFzQ2xpZW50QWN0aW9uKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSAoXywgc2luZ2xlRmV0Y2gpID0+IHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoKCkgPT4ge1xuICAgICAgICAgIGlmIChpc1NwYU1vZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5vQWN0aW9uRGVmaW5lZEVycm9yKFwiY2xpZW50QWN0aW9uXCIsIHJvdXRlLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICBkYXRhUm91dGUuYWN0aW9uID0gYXN5bmMgKGFyZ3MsIHNpbmdsZUZldGNoKSA9PiB7XG4gICAgICAgICAgaW52YXJpYW50Mihyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgICAgIHByZWZldGNoUm91dGVNb2R1bGVDaHVua3Mocm91dGUpO1xuICAgICAgICAgIGxldCB7IGNsaWVudEFjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxuICAgICAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICAgICAgICByb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBjbGllbnRBY3Rpb24oe1xuICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckFjdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImFjdGlvblwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkYXRhUm91dGUubGF6eSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSB8fCByb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vZFByb21pc2UgPSBsb2FkUm91dGVNb2R1bGVXaXRoQmxvY2tpbmdMaW5rcyhcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICByb3V0ZU1vZHVsZXNDYWNoZVxuICAgICAgICApO1xuICAgICAgICBwcmVmZXRjaFJvdXRlTW9kdWxlQ2h1bmtzKHJvdXRlKTtcbiAgICAgICAgbGV0IG1vZCA9IGF3YWl0IG1vZFByb21pc2U7XG4gICAgICAgIGxldCBsYXp5Um91dGUgPSB7IC4uLm1vZCB9O1xuICAgICAgICBpZiAobW9kLmNsaWVudExvYWRlcikge1xuICAgICAgICAgIGxldCBjbGllbnRMb2FkZXIgPSBtb2QuY2xpZW50TG9hZGVyO1xuICAgICAgICAgIGxhenlSb3V0ZS5sb2FkZXIgPSAoYXJncywgc2luZ2xlRmV0Y2gpID0+IGNsaWVudExvYWRlcih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyTG9hZGVyKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwibG9hZGVyXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kLmNsaWVudEFjdGlvbikge1xuICAgICAgICAgIGxldCBjbGllbnRBY3Rpb24gPSBtb2QuY2xpZW50QWN0aW9uO1xuICAgICAgICAgIGxhenlSb3V0ZS5hY3Rpb24gPSAoYXJncywgc2luZ2xlRmV0Y2gpID0+IGNsaWVudEFjdGlvbih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyQWN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwiYWN0aW9uXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmxhenlSb3V0ZS5sb2FkZXIgPyB7IGxvYWRlcjogbGF6eVJvdXRlLmxvYWRlciB9IDoge30sXG4gICAgICAgICAgLi4ubGF6eVJvdXRlLmFjdGlvbiA/IHsgYWN0aW9uOiBsYXp5Um91dGUuYWN0aW9uIH0gOiB7fSxcbiAgICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBtb2QudW5zdGFibGVfY2xpZW50TWlkZGxld2FyZSxcbiAgICAgICAgICBoYXNFcnJvckJvdW5kYXJ5OiBsYXp5Um91dGUuaGFzRXJyb3JCb3VuZGFyeSxcbiAgICAgICAgICBzaG91bGRSZXZhbGlkYXRlOiBnZXRTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24oXG4gICAgICAgICAgICBsYXp5Um91dGUsXG4gICAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICAgIHNzcixcbiAgICAgICAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgICAgICAgKSxcbiAgICAgICAgICBoYW5kbGU6IGxhenlSb3V0ZS5oYW5kbGUsXG4gICAgICAgICAgLy8gTm8gbmVlZCB0byB3cmFwIHRoZXNlIGluIGxheW91dCBzaW5jZSB0aGUgcm9vdCByb3V0ZSBpcyBuZXZlclxuICAgICAgICAgIC8vIGxvYWRlZCB2aWEgcm91dGUubGF6eSgpXG4gICAgICAgICAgQ29tcG9uZW50OiBsYXp5Um91dGUuQ29tcG9uZW50LFxuICAgICAgICAgIEVycm9yQm91bmRhcnk6IGxhenlSb3V0ZS5FcnJvckJvdW5kYXJ5XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgY2hpbGRyZW4gPSBjcmVhdGVDbGllbnRSb3V0ZXMoXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlc0NhY2hlLFxuICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgc3NyLFxuICAgICAgaXNTcGFNb2RlLFxuICAgICAgcm91dGUuaWQsXG4gICAgICByb3V0ZXNCeVBhcmVudElkLFxuICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSBkYXRhUm91dGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICByZXR1cm4gZGF0YVJvdXRlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbihyb3V0ZSwgbWFuaWZlc3RSb3V0ZSwgc3NyLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICBpZiAobmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgICByZXR1cm4gd3JhcFNob3VsZFJldmFsaWRhdGVGb3JIZHIoXG4gICAgICBtYW5pZmVzdFJvdXRlLmlkLFxuICAgICAgcm91dGUuc2hvdWxkUmV2YWxpZGF0ZSxcbiAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgKTtcbiAgfVxuICBpZiAoIXNzciAmJiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlciAmJiAhbWFuaWZlc3RSb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICBpZiAocm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgbGV0IGZuID0gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbiAgICAgIHJldHVybiAob3B0cykgPT4gZm4oeyAuLi5vcHRzLCBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKHNzciAmJiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgbGV0IGZuID0gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbiAgICByZXR1cm4gKG9wdHMpID0+IGZuKHsgLi4ub3B0cywgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHJvdXRlLnNob3VsZFJldmFsaWRhdGU7XG59XG5mdW5jdGlvbiB3cmFwU2hvdWxkUmV2YWxpZGF0ZUZvckhkcihyb3V0ZUlkLCByb3V0ZVNob3VsZFJldmFsaWRhdGUsIG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gIGxldCBoYW5kbGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gIHJldHVybiAoYXJnKSA9PiB7XG4gICAgaWYgKCFoYW5kbGVkUmV2YWxpZGF0aW9uKSB7XG4gICAgICBoYW5kbGVkUmV2YWxpZGF0aW9uID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZWVkc1JldmFsaWRhdGlvbi5oYXMocm91dGVJZCk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZVNob3VsZFJldmFsaWRhdGUgPyByb3V0ZVNob3VsZFJldmFsaWRhdGUoYXJnKSA6IGFyZy5kZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTtcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZU1vZHVsZVdpdGhCbG9ja2luZ0xpbmtzKHJvdXRlLCByb3V0ZU1vZHVsZXMpIHtcbiAgbGV0IHJvdXRlTW9kdWxlUHJvbWlzZSA9IGxvYWRSb3V0ZU1vZHVsZShyb3V0ZSwgcm91dGVNb2R1bGVzKTtcbiAgbGV0IHByZWZldGNoUm91dGVDc3NQcm9taXNlID0gcHJlZmV0Y2hSb3V0ZUNzcyhyb3V0ZSk7XG4gIGxldCByb3V0ZU1vZHVsZSA9IGF3YWl0IHJvdXRlTW9kdWxlUHJvbWlzZTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIHByZWZldGNoUm91dGVDc3NQcm9taXNlLFxuICAgIHByZWZldGNoU3R5bGVMaW5rcyhyb3V0ZSwgcm91dGVNb2R1bGUpXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIENvbXBvbmVudDogZ2V0Um91dGVNb2R1bGVDb21wb25lbnQocm91dGVNb2R1bGUpLFxuICAgIEVycm9yQm91bmRhcnk6IHJvdXRlTW9kdWxlLkVycm9yQm91bmRhcnksXG4gICAgdW5zdGFibGVfY2xpZW50TWlkZGxld2FyZTogcm91dGVNb2R1bGUudW5zdGFibGVfY2xpZW50TWlkZGxld2FyZSxcbiAgICBjbGllbnRBY3Rpb246IHJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbixcbiAgICBjbGllbnRMb2FkZXI6IHJvdXRlTW9kdWxlLmNsaWVudExvYWRlcixcbiAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICBsaW5rczogcm91dGVNb2R1bGUubGlua3MsXG4gICAgbWV0YTogcm91dGVNb2R1bGUubWV0YSxcbiAgICBzaG91bGRSZXZhbGlkYXRlOiByb3V0ZU1vZHVsZS5zaG91bGRSZXZhbGlkYXRlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSb3V0ZU1vZHVsZUNvbXBvbmVudChyb3V0ZU1vZHVsZSkge1xuICBpZiAocm91dGVNb2R1bGUuZGVmYXVsdCA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICBsZXQgaXNFbXB0eU9iamVjdCA9IHR5cGVvZiByb3V0ZU1vZHVsZS5kZWZhdWx0ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHJvdXRlTW9kdWxlLmRlZmF1bHQpLmxlbmd0aCA9PT0gMDtcbiAgaWYgKCFpc0VtcHR5T2JqZWN0KSB7XG4gICAgcmV0dXJuIHJvdXRlTW9kdWxlLmRlZmF1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcihyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSkge1xuICByZXR1cm4gaXNTcGFNb2RlICYmIHJvdXRlLmlkICE9PSBcInJvb3RcIiB8fCByb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIgIT0gbnVsbCAmJiAocm91dGVNb2R1bGUuY2xpZW50TG9hZGVyLmh5ZHJhdGUgPT09IHRydWUgfHwgcm91dGUuaGFzTG9hZGVyICE9PSB0cnVlKTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZm9nLW9mLXdhci50c1xudmFyIG5leHRQYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgZGlzY292ZXJlZFBhdGhzTWF4U2l6ZSA9IDFlMztcbnZhciBkaXNjb3ZlcmVkUGF0aHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIFVSTF9MSU1JVCA9IDc2ODA7XG5mdW5jdGlvbiBpc0ZvZ09mV2FyRW5hYmxlZChzc3IpIHtcbiAgcmV0dXJuIHNzciA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldFBhcnRpYWxNYW5pZmVzdChtYW5pZmVzdCwgcm91dGVyKSB7XG4gIGxldCByb3V0ZUlkcyA9IG5ldyBTZXQocm91dGVyLnN0YXRlLm1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLmlkKSk7XG4gIGxldCBzZWdtZW50cyA9IHJvdXRlci5zdGF0ZS5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pO1xuICBsZXQgcGF0aHMgPSBbXCIvXCJdO1xuICBzZWdtZW50cy5wb3AoKTtcbiAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICBwYXRocy5wdXNoKGAvJHtzZWdtZW50cy5qb2luKFwiL1wiKX1gKTtcbiAgICBzZWdtZW50cy5wb3AoKTtcbiAgfVxuICBwYXRocy5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXIucm91dGVzLCBwYXRoLCByb3V0ZXIuYmFzZW5hbWUpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzLmZvckVhY2goKG0pID0+IHJvdXRlSWRzLmFkZChtLnJvdXRlLmlkKSk7XG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxSb3V0ZXMgPSBbLi4ucm91dGVJZHNdLnJlZHVjZShcbiAgICAoYWNjLCBpZCkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW2lkXTogbWFuaWZlc3Qucm91dGVzW2lkXSB9KSxcbiAgICB7fVxuICApO1xuICByZXR1cm4ge1xuICAgIC4uLm1hbmlmZXN0LFxuICAgIHJvdXRlczogaW5pdGlhbFJvdXRlc1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbihtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGlzU3BhTW9kZSwgYmFzZW5hbWUpIHtcbiAgaWYgKCFpc0ZvZ09mV2FyRW5hYmxlZChzc3IpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gYXN5bmMgKHsgcGF0aCwgcGF0Y2gsIHNpZ25hbCwgZmV0Y2hlcktleSB9KSA9PiB7XG4gICAgaWYgKGRpc2NvdmVyZWRQYXRocy5oYXMocGF0aCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhcbiAgICAgIFtwYXRoXSxcbiAgICAgIGZldGNoZXJLZXkgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHBhdGgsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgIHNzcixcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgcGF0Y2gsXG4gICAgICBzaWduYWxcbiAgICApO1xuICB9O1xufVxuZnVuY3Rpb24gdXNlRm9nT0ZXYXJEaXNjb3Zlcnkocm91dGVyLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGlzU3BhTW9kZSkge1xuICBSZWFjdDgudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzRm9nT2ZXYXJFbmFibGVkKHNzcikgfHwgbmF2aWdhdG9yLmNvbm5lY3Rpb24/LnNhdmVEYXRhID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRWxlbWVudChlbCkge1xuICAgICAgbGV0IHBhdGggPSBlbC50YWdOYW1lID09PSBcIkZPUk1cIiA/IGVsLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKSA6IGVsLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBhdGhuYW1lID0gZWwudGFnTmFtZSA9PT0gXCJBXCIgPyBlbC5wYXRobmFtZSA6IG5ldyBVUkwocGF0aCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbikucGF0aG5hbWU7XG4gICAgICBpZiAoIWRpc2NvdmVyZWRQYXRocy5oYXMocGF0aG5hbWUpKSB7XG4gICAgICAgIG5leHRQYXRocy5hZGQocGF0aG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaFBhdGNoZXMoKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYVtkYXRhLWRpc2NvdmVyXSwgZm9ybVtkYXRhLWRpc2NvdmVyXVwiKS5mb3JFYWNoKHJlZ2lzdGVyRWxlbWVudCk7XG4gICAgICBsZXQgbGF6eVBhdGhzID0gQXJyYXkuZnJvbShuZXh0UGF0aHMua2V5cygpKS5maWx0ZXIoKHBhdGgpID0+IHtcbiAgICAgICAgaWYgKGRpc2NvdmVyZWRQYXRocy5oYXMocGF0aCkpIHtcbiAgICAgICAgICBuZXh0UGF0aHMuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhenlQYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhcbiAgICAgICAgICBsYXp5UGF0aHMsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICAgICAgc3NyLFxuICAgICAgICAgIGlzU3BhTW9kZSxcbiAgICAgICAgICByb3V0ZXIuYmFzZW5hbWUsXG4gICAgICAgICAgcm91dGVyLnBhdGNoUm91dGVzXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbWFuaWZlc3QgcGF0Y2hlc1wiLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRlYm91bmNlZEZldGNoUGF0Y2hlcyA9IGRlYm91bmNlKGZldGNoUGF0Y2hlcywgMTAwKTtcbiAgICBmZXRjaFBhdGNoZXMoKTtcbiAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiBkZWJvdW5jZWRGZXRjaFBhdGNoZXMoKSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbXCJkYXRhLWRpc2NvdmVyXCIsIFwiaHJlZlwiLCBcImFjdGlvblwiXVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtzc3IsIGlzU3BhTW9kZSwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgcm91dGVyXSk7XG59XG52YXIgTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSA9IFwicmVhY3Qtcm91dGVyLW1hbmlmZXN0LXZlcnNpb25cIjtcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kQXBwbHlNYW5pZmVzdFBhdGNoZXMocGF0aHMsIGVycm9yUmVsb2FkUGF0aCwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCBpc1NwYU1vZGUsIGJhc2VuYW1lLCBwYXRjaFJvdXRlcywgc2lnbmFsKSB7XG4gIGxldCBtYW5pZmVzdFBhdGggPSBgJHtiYXNlbmFtZSAhPSBudWxsID8gYmFzZW5hbWUgOiBcIi9cIn0vX19tYW5pZmVzdGAucmVwbGFjZShcbiAgICAvXFwvKy9nLFxuICAgIFwiL1wiXG4gICk7XG4gIGxldCB1cmwgPSBuZXcgVVJMKG1hbmlmZXN0UGF0aCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gIHBhdGhzLnNvcnQoKS5mb3JFYWNoKChwYXRoKSA9PiB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInBcIiwgcGF0aCkpO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInZlcnNpb25cIiwgbWFuaWZlc3QudmVyc2lvbik7XG4gIGlmICh1cmwudG9TdHJpbmcoKS5sZW5ndGggPiBVUkxfTElNSVQpIHtcbiAgICBuZXh0UGF0aHMuY2xlYXIoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlcnZlclBhdGNoZXM7XG4gIHRyeSB7XG4gICAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBzaWduYWwgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xuICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PT0gMjA0ICYmIHJlcy5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpKSB7XG4gICAgICBpZiAoIWVycm9yUmVsb2FkUGF0aCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJEZXRlY3RlZCBhIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2ggZHVyaW5nIGVhZ2VyIHJvdXRlIGRpc2NvdmVyeS4gVGhlIG5leHQgbmF2aWdhdGlvbi9mZXRjaCB0byBhbiB1bmRpc2NvdmVyZWQgcm91dGUgd2lsbCByZXN1bHQgaW4gYSBuZXcgZG9jdW1lbnQgbmF2aWdhdGlvbiB0byBzeW5jIHVwIHdpdGggdGhlIGxhdGVzdCBtYW5pZmVzdC5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZKSA9PT0gbWFuaWZlc3QudmVyc2lvbikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVW5hYmxlIHRvIGRpc2NvdmVyIHJvdXRlcyBkdWUgdG8gbWFuaWZlc3QgdmVyc2lvbiBtaXNtYXRjaC5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVksIG1hbmlmZXN0LnZlcnNpb24pO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBlcnJvclJlbG9hZFBhdGg7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZXRlY3RlZCBtYW5pZmVzdCB2ZXJzaW9uIG1pc21hdGNoLCByZWxvYWRpbmcuLi5cIik7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID49IDQwMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVkpO1xuICAgIHNlcnZlclBhdGNoZXMgPSBhd2FpdCByZXMuanNvbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHNpZ25hbD8uYWJvcnRlZCkgcmV0dXJuO1xuICAgIHRocm93IGU7XG4gIH1cbiAgbGV0IGtub3duUm91dGVzID0gbmV3IFNldChPYmplY3Qua2V5cyhtYW5pZmVzdC5yb3V0ZXMpKTtcbiAgbGV0IHBhdGNoZXMgPSBPYmplY3QudmFsdWVzKHNlcnZlclBhdGNoZXMpLnJlZHVjZSgoYWNjLCByb3V0ZSkgPT4ge1xuICAgIGlmIChyb3V0ZSAmJiAha25vd25Sb3V0ZXMuaGFzKHJvdXRlLmlkKSkge1xuICAgICAgYWNjW3JvdXRlLmlkXSA9IHJvdXRlO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIE9iamVjdC5hc3NpZ24obWFuaWZlc3Qucm91dGVzLCBwYXRjaGVzKTtcbiAgcGF0aHMuZm9yRWFjaCgocCkgPT4gYWRkVG9GaWZvUXVldWUocCwgZGlzY292ZXJlZFBhdGhzKSk7XG4gIGxldCBwYXJlbnRJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBPYmplY3QudmFsdWVzKHBhdGNoZXMpLmZvckVhY2goKHBhdGNoKSA9PiB7XG4gICAgaWYgKHBhdGNoICYmICghcGF0Y2gucGFyZW50SWQgfHwgIXBhdGNoZXNbcGF0Y2gucGFyZW50SWRdKSkge1xuICAgICAgcGFyZW50SWRzLmFkZChwYXRjaC5wYXJlbnRJZCk7XG4gICAgfVxuICB9KTtcbiAgcGFyZW50SWRzLmZvckVhY2goXG4gICAgKHBhcmVudElkKSA9PiBwYXRjaFJvdXRlcyhcbiAgICAgIHBhcmVudElkIHx8IG51bGwsXG4gICAgICBjcmVhdGVDbGllbnRSb3V0ZXMocGF0Y2hlcywgcm91dGVNb2R1bGVzLCBudWxsLCBzc3IsIGlzU3BhTW9kZSwgcGFyZW50SWQpXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gYWRkVG9GaWZvUXVldWUocGF0aCwgcXVldWUpIHtcbiAgaWYgKHF1ZXVlLnNpemUgPj0gZGlzY292ZXJlZFBhdGhzTWF4U2l6ZSkge1xuICAgIGxldCBmaXJzdCA9IHF1ZXVlLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICBxdWV1ZS5kZWxldGUoZmlyc3QpO1xuICB9XG4gIHF1ZXVlLmFkZChwYXRoKTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0KSB7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayguLi5hcmdzKSwgd2FpdCk7XG4gIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2NvbXBvbmVudHMudHN4XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dDIoKSB7XG4gIGxldCBjb250ZXh0ID0gUmVhY3Q5LnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8RGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxudmFyIEZyYW1ld29ya0NvbnRleHQgPSBSZWFjdDkuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuRnJhbWV3b3JrQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRnJhbWV3b3JrQ29udGV4dFwiO1xuZnVuY3Rpb24gdXNlRnJhbWV3b3JrQ29udGV4dCgpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8SHlkcmF0ZWRSb3V0ZXI+IGVsZW1lbnRcIlxuICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHVzZVByZWZldGNoQmVoYXZpb3IocHJlZmV0Y2gsIHRoZWlyRWxlbWVudFByb3BzKSB7XG4gIGxldCBmcmFtZXdvcmtDb250ZXh0ID0gUmVhY3Q5LnVzZUNvbnRleHQoRnJhbWV3b3JrQ29udGV4dCk7XG4gIGxldCBbbWF5YmVQcmVmZXRjaCwgc2V0TWF5YmVQcmVmZXRjaF0gPSBSZWFjdDkudXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgW3Nob3VsZFByZWZldGNoLCBzZXRTaG91bGRQcmVmZXRjaF0gPSBSZWFjdDkudXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgeyBvbkZvY3VzLCBvbkJsdXIsIG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCBvblRvdWNoU3RhcnQgfSA9IHRoZWlyRWxlbWVudFByb3BzO1xuICBsZXQgcmVmID0gUmVhY3Q5LnVzZVJlZihudWxsKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByZWZldGNoID09PSBcInJlbmRlclwiKSB7XG4gICAgICBzZXRTaG91bGRQcmVmZXRjaCh0cnVlKTtcbiAgICB9XG4gICAgaWYgKHByZWZldGNoID09PSBcInZpZXdwb3J0XCIpIHtcbiAgICAgIGxldCBjYWxsYmFjayA9IChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBzZXRTaG91bGRQcmVmZXRjaChlbnRyeS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgeyB0aHJlc2hvbGQ6IDAuNSB9KTtcbiAgICAgIGlmIChyZWYuY3VycmVudCkgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3ByZWZldGNoXSk7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYXliZVByZWZldGNoKSB7XG4gICAgICBsZXQgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0U2hvdWxkUHJlZmV0Y2godHJ1ZSk7XG4gICAgICB9LCAxMDApO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbbWF5YmVQcmVmZXRjaF0pO1xuICBsZXQgc2V0SW50ZW50ID0gKCkgPT4ge1xuICAgIHNldE1heWJlUHJlZmV0Y2godHJ1ZSk7XG4gIH07XG4gIGxldCBjYW5jZWxJbnRlbnQgPSAoKSA9PiB7XG4gICAgc2V0TWF5YmVQcmVmZXRjaChmYWxzZSk7XG4gICAgc2V0U2hvdWxkUHJlZmV0Y2goZmFsc2UpO1xuICB9O1xuICBpZiAoIWZyYW1ld29ya0NvbnRleHQpIHtcbiAgICByZXR1cm4gW2ZhbHNlLCByZWYsIHt9XTtcbiAgfVxuICBpZiAocHJlZmV0Y2ggIT09IFwiaW50ZW50XCIpIHtcbiAgICByZXR1cm4gW3Nob3VsZFByZWZldGNoLCByZWYsIHt9XTtcbiAgfVxuICByZXR1cm4gW1xuICAgIHNob3VsZFByZWZldGNoLFxuICAgIHJlZixcbiAgICB7XG4gICAgICBvbkZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkZvY3VzLCBzZXRJbnRlbnQpLFxuICAgICAgb25CbHVyOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkJsdXIsIGNhbmNlbEludGVudCksXG4gICAgICBvbk1vdXNlRW50ZXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uTW91c2VFbnRlciwgc2V0SW50ZW50KSxcbiAgICAgIG9uTW91c2VMZWF2ZTogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Nb3VzZUxlYXZlLCBjYW5jZWxJbnRlbnQpLFxuICAgICAgb25Ub3VjaFN0YXJ0OiBjb21wb3NlRXZlbnRIYW5kbGVycyhvblRvdWNoU3RhcnQsIHNldEludGVudClcbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiBjb21wb3NlRXZlbnRIYW5kbGVycyh0aGVpckhhbmRsZXIsIG91ckhhbmRsZXIpIHtcbiAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgIHRoZWlySGFuZGxlciAmJiB0aGVpckhhbmRsZXIoZXZlbnQpO1xuICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgb3VySGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0QWN0aXZlTWF0Y2hlcyhtYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSkge1xuICBpZiAoaXNTcGFNb2RlICYmICFpc0h5ZHJhdGVkKSB7XG4gICAgcmV0dXJuIFttYXRjaGVzWzBdXTtcbiAgfVxuICBpZiAoZXJyb3JzKSB7XG4gICAgbGV0IGVycm9ySWR4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IGVycm9yc1ttLnJvdXRlLmlkXSAhPT0gdm9pZCAwKTtcbiAgICByZXR1cm4gbWF0Y2hlcy5zbGljZSgwLCBlcnJvcklkeCArIDEpO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gTGlua3MoKSB7XG4gIGxldCB7IGlzU3BhTW9kZSwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgY3JpdGljYWxDc3MgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgZXJyb3JzLCBtYXRjaGVzOiByb3V0ZXJNYXRjaGVzIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBtYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSk7XG4gIGxldCBrZXllZExpbmtzID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0S2V5ZWRMaW5rc0Zvck1hdGNoZXMobWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdCksXG4gICAgW21hdGNoZXMsIHJvdXRlTW9kdWxlcywgbWFuaWZlc3RdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCB0eXBlb2YgY3JpdGljYWxDc3MgPT09IFwic3RyaW5nXCIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogY3JpdGljYWxDc3MgfSB9KSA6IG51bGwsIHR5cGVvZiBjcml0aWNhbENzcyA9PT0gXCJvYmplY3RcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyByZWw6IFwic3R5bGVzaGVldFwiLCBocmVmOiBjcml0aWNhbENzcy5ocmVmIH0pIDogbnVsbCwga2V5ZWRMaW5rcy5tYXAoXG4gICAgKHsga2V5LCBsaW5rIH0pID0+IGlzUGFnZUxpbmtEZXNjcmlwdG9yKGxpbmspID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFByZWZldGNoUGFnZUxpbmtzLCB7IGtleSwgLi4ubGluayB9KSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXksIC4uLmxpbmsgfSlcbiAgKSk7XG59XG5mdW5jdGlvbiBQcmVmZXRjaFBhZ2VMaW5rcyh7XG4gIHBhZ2UsXG4gIC4uLmRhdGFMaW5rUHJvcHNcbn0pIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IG1hdGNoZXMgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaFJvdXRlcyhyb3V0ZXIucm91dGVzLCBwYWdlLCByb3V0ZXIuYmFzZW5hbWUpLFxuICAgIFtyb3V0ZXIucm91dGVzLCBwYWdlLCByb3V0ZXIuYmFzZW5hbWVdXG4gICk7XG4gIGlmICghbWF0Y2hlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3NJbXBsLCB7IHBhZ2UsIG1hdGNoZXMsIC4uLmRhdGFMaW5rUHJvcHMgfSk7XG59XG5mdW5jdGlvbiB1c2VLZXllZFByZWZldGNoTGlua3MobWF0Y2hlcykge1xuICBsZXQgeyBtYW5pZmVzdCwgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCBba2V5ZWRQcmVmZXRjaExpbmtzLCBzZXRLZXllZFByZWZldGNoTGlua3NdID0gUmVhY3Q5LnVzZVN0YXRlKFtdKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVycnVwdGVkID0gZmFsc2U7XG4gICAgdm9pZCBnZXRLZXllZFByZWZldGNoTGlua3MobWF0Y2hlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcykudGhlbihcbiAgICAgIChsaW5rcykgPT4ge1xuICAgICAgICBpZiAoIWludGVycnVwdGVkKSB7XG4gICAgICAgICAgc2V0S2V5ZWRQcmVmZXRjaExpbmtzKGxpbmtzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGludGVycnVwdGVkID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbbWF0Y2hlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlc10pO1xuICByZXR1cm4ga2V5ZWRQcmVmZXRjaExpbmtzO1xufVxuZnVuY3Rpb24gUHJlZmV0Y2hQYWdlTGlua3NJbXBsKHtcbiAgcGFnZSxcbiAgbWF0Y2hlczogbmV4dE1hdGNoZXMsXG4gIC4uLmxpbmtQcm9wc1xufSkge1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgeyBtYW5pZmVzdCwgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IHsgbG9hZGVyRGF0YSwgbWF0Y2hlcyB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgbmV3TWF0Y2hlc0ZvckRhdGEgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXROZXdNYXRjaGVzRm9yTGlua3MoXG4gICAgICBwYWdlLFxuICAgICAgbmV4dE1hdGNoZXMsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIFwiZGF0YVwiXG4gICAgKSxcbiAgICBbcGFnZSwgbmV4dE1hdGNoZXMsIG1hdGNoZXMsIG1hbmlmZXN0LCBsb2NhdGlvbl1cbiAgKTtcbiAgbGV0IG5ld01hdGNoZXNGb3JBc3NldHMgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXROZXdNYXRjaGVzRm9yTGlua3MoXG4gICAgICBwYWdlLFxuICAgICAgbmV4dE1hdGNoZXMsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIFwiYXNzZXRzXCJcbiAgICApLFxuICAgIFtwYWdlLCBuZXh0TWF0Y2hlcywgbWF0Y2hlcywgbWFuaWZlc3QsIGxvY2F0aW9uXVxuICApO1xuICBsZXQgZGF0YUhyZWZzID0gUmVhY3Q5LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChwYWdlID09PSBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IHJvdXRlc1BhcmFtcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgbGV0IGZvdW5kT3B0T3V0Um91dGUgPSBmYWxzZTtcbiAgICBuZXh0TWF0Y2hlcy5mb3JFYWNoKChtKSA9PiB7XG4gICAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXTtcbiAgICAgIGlmICghbWFuaWZlc3RSb3V0ZSB8fCAhbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFuZXdNYXRjaGVzRm9yRGF0YS5zb21lKChtMikgPT4gbTIucm91dGUuaWQgPT09IG0ucm91dGUuaWQpICYmIG0ucm91dGUuaWQgaW4gbG9hZGVyRGF0YSAmJiByb3V0ZU1vZHVsZXNbbS5yb3V0ZS5pZF0/LnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG1hbmlmZXN0Um91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVzUGFyYW1zLmFkZChtLnJvdXRlLmlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocm91dGVzUGFyYW1zLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IHVybCA9IHNpbmdsZUZldGNoVXJsKHBhZ2UsIGJhc2VuYW1lKTtcbiAgICBpZiAoZm91bmRPcHRPdXRSb3V0ZSAmJiByb3V0ZXNQYXJhbXMuc2l6ZSA+IDApIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFxuICAgICAgICBcIl9yb3V0ZXNcIixcbiAgICAgICAgbmV4dE1hdGNoZXMuZmlsdGVyKChtKSA9PiByb3V0ZXNQYXJhbXMuaGFzKG0ucm91dGUuaWQpKS5tYXAoKG0pID0+IG0ucm91dGUuaWQpLmpvaW4oXCIsXCIpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gW3VybC5wYXRobmFtZSArIHVybC5zZWFyY2hdO1xuICB9LCBbXG4gICAgYmFzZW5hbWUsXG4gICAgbG9hZGVyRGF0YSxcbiAgICBsb2NhdGlvbixcbiAgICBtYW5pZmVzdCxcbiAgICBuZXdNYXRjaGVzRm9yRGF0YSxcbiAgICBuZXh0TWF0Y2hlcyxcbiAgICBwYWdlLFxuICAgIHJvdXRlTW9kdWxlc1xuICBdKTtcbiAgbGV0IG1vZHVsZUhyZWZzID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0TW9kdWxlTGlua0hyZWZzKG5ld01hdGNoZXNGb3JBc3NldHMsIG1hbmlmZXN0KSxcbiAgICBbbmV3TWF0Y2hlc0ZvckFzc2V0cywgbWFuaWZlc3RdXG4gICk7XG4gIGxldCBrZXllZFByZWZldGNoTGlua3MgPSB1c2VLZXllZFByZWZldGNoTGlua3MobmV3TWF0Y2hlc0ZvckFzc2V0cyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCBkYXRhSHJlZnMubWFwKChocmVmMikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleTogaHJlZjIsIHJlbDogXCJwcmVmZXRjaFwiLCBhczogXCJmZXRjaFwiLCBocmVmOiBocmVmMiwgLi4ubGlua1Byb3BzIH0pKSwgbW9kdWxlSHJlZnMubWFwKChocmVmMikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleTogaHJlZjIsIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsIGhyZWY6IGhyZWYyLCAuLi5saW5rUHJvcHMgfSkpLCBrZXllZFByZWZldGNoTGlua3MubWFwKCh7IGtleSwgbGluayB9KSA9PiAoXG4gICAgLy8gdGhlc2UgZG9uJ3Qgc3ByZWFkIGBsaW5rUHJvcHNgIGJlY2F1c2UgdGhleSBhcmUgZnVsbCBsaW5rIGRlc2NyaXB0b3JzXG4gICAgLy8gYWxyZWFkeSB3aXRoIHRoZWlyIG93biBwcm9wc1xuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXksIC4uLmxpbmsgfSlcbiAgKSkpO1xufVxuZnVuY3Rpb24gTWV0YSgpIHtcbiAgbGV0IHsgaXNTcGFNb2RlLCByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHtcbiAgICBlcnJvcnMsXG4gICAgbWF0Y2hlczogcm91dGVyTWF0Y2hlcyxcbiAgICBsb2FkZXJEYXRhXG4gIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBfbWF0Y2hlcyA9IGdldEFjdGl2ZU1hdGNoZXMocm91dGVyTWF0Y2hlcywgZXJyb3JzLCBpc1NwYU1vZGUpO1xuICBsZXQgZXJyb3IgPSBudWxsO1xuICBpZiAoZXJyb3JzKSB7XG4gICAgZXJyb3IgPSBlcnJvcnNbX21hdGNoZXNbX21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuaWRdO1xuICB9XG4gIGxldCBtZXRhID0gW107XG4gIGxldCBsZWFmTWV0YSA9IG51bGw7XG4gIGxldCBtYXRjaGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgX21hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgX21hdGNoID0gX21hdGNoZXNbaV07XG4gICAgbGV0IHJvdXRlSWQgPSBfbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IGRhdGEyID0gbG9hZGVyRGF0YVtyb3V0ZUlkXTtcbiAgICBsZXQgcGFyYW1zID0gX21hdGNoLnBhcmFtcztcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZU1vZHVsZXNbcm91dGVJZF07XG4gICAgbGV0IHJvdXRlTWV0YSA9IFtdO1xuICAgIGxldCBtYXRjaCA9IHtcbiAgICAgIGlkOiByb3V0ZUlkLFxuICAgICAgZGF0YTogZGF0YTIsXG4gICAgICBtZXRhOiBbXSxcbiAgICAgIHBhcmFtczogX21hdGNoLnBhcmFtcyxcbiAgICAgIHBhdGhuYW1lOiBfbWF0Y2gucGF0aG5hbWUsXG4gICAgICBoYW5kbGU6IF9tYXRjaC5yb3V0ZS5oYW5kbGUsXG4gICAgICBlcnJvclxuICAgIH07XG4gICAgbWF0Y2hlc1tpXSA9IG1hdGNoO1xuICAgIGlmIChyb3V0ZU1vZHVsZT8ubWV0YSkge1xuICAgICAgcm91dGVNZXRhID0gdHlwZW9mIHJvdXRlTW9kdWxlLm1ldGEgPT09IFwiZnVuY3Rpb25cIiA/IHJvdXRlTW9kdWxlLm1ldGEoe1xuICAgICAgICBkYXRhOiBkYXRhMixcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZXJyb3JcbiAgICAgIH0pIDogQXJyYXkuaXNBcnJheShyb3V0ZU1vZHVsZS5tZXRhKSA/IFsuLi5yb3V0ZU1vZHVsZS5tZXRhXSA6IHJvdXRlTW9kdWxlLm1ldGE7XG4gICAgfSBlbHNlIGlmIChsZWFmTWV0YSkge1xuICAgICAgcm91dGVNZXRhID0gWy4uLmxlYWZNZXRhXTtcbiAgICB9XG4gICAgcm91dGVNZXRhID0gcm91dGVNZXRhIHx8IFtdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyb3V0ZU1ldGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHJvdXRlIGF0IFwiICsgX21hdGNoLnJvdXRlLnBhdGggKyBcIiByZXR1cm5zIGFuIGludmFsaWQgdmFsdWUuIEFsbCByb3V0ZSBtZXRhIGZ1bmN0aW9ucyBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBtZXRhIG9iamVjdHMuXFxuXFxuVG8gcmVmZXJlbmNlIHRoZSBtZXRhIGZ1bmN0aW9uIEFQSSwgc2VlIGh0dHBzOi8vcmVtaXgucnVuL3JvdXRlL21ldGFcIlxuICAgICAgKTtcbiAgICB9XG4gICAgbWF0Y2gubWV0YSA9IHJvdXRlTWV0YTtcbiAgICBtYXRjaGVzW2ldID0gbWF0Y2g7XG4gICAgbWV0YSA9IFsuLi5yb3V0ZU1ldGFdO1xuICAgIGxlYWZNZXRhID0gbWV0YTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFJlYWN0OS5GcmFnbWVudCwgbnVsbCwgbWV0YS5mbGF0KCkubWFwKChtZXRhUHJvcHMpID0+IHtcbiAgICBpZiAoIW1ldGFQcm9wcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChcInRhZ05hbWVcIiBpbiBtZXRhUHJvcHMpIHtcbiAgICAgIGxldCB7IHRhZ05hbWUsIC4uLnJlc3QgfSA9IG1ldGFQcm9wcztcbiAgICAgIGlmICghaXNWYWxpZE1ldGFUYWcodGFnTmFtZSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBBIG1ldGEgb2JqZWN0IHVzZXMgYW4gaW52YWxpZCB0YWdOYW1lOiAke3RhZ05hbWV9LiBFeHBlY3RlZCBlaXRoZXIgJ2xpbmsnIG9yICdtZXRhJ2BcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBsZXQgQ29tcCA9IHRhZ05hbWU7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KENvbXAsIHsga2V5OiBKU09OLnN0cmluZ2lmeShyZXN0KSwgLi4ucmVzdCB9KTtcbiAgICB9XG4gICAgaWYgKFwidGl0bGVcIiBpbiBtZXRhUHJvcHMpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCB7IGtleTogXCJ0aXRsZVwiIH0sIFN0cmluZyhtZXRhUHJvcHMudGl0bGUpKTtcbiAgICB9XG4gICAgaWYgKFwiY2hhcnNldFwiIGluIG1ldGFQcm9wcykge1xuICAgICAgbWV0YVByb3BzLmNoYXJTZXQgPz8gKG1ldGFQcm9wcy5jaGFyU2V0ID0gbWV0YVByb3BzLmNoYXJzZXQpO1xuICAgICAgZGVsZXRlIG1ldGFQcm9wcy5jaGFyc2V0O1xuICAgIH1cbiAgICBpZiAoXCJjaGFyU2V0XCIgaW4gbWV0YVByb3BzICYmIG1ldGFQcm9wcy5jaGFyU2V0ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgbWV0YVByb3BzLmNoYXJTZXQgPT09IFwic3RyaW5nXCIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIsIHsga2V5OiBcImNoYXJTZXRcIiwgY2hhclNldDogbWV0YVByb3BzLmNoYXJTZXQgfSkgOiBudWxsO1xuICAgIH1cbiAgICBpZiAoXCJzY3JpcHQ6bGQranNvblwiIGluIG1ldGFQcm9wcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeShtZXRhUHJvcHNbXCJzY3JpcHQ6bGQranNvblwiXSk7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgXCJzY3JpcHRcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IGBzY3JpcHQ6bGQranNvbjoke2pzb259YCxcbiAgICAgICAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vbGQranNvblwiLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBqc29uIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIsIHsga2V5OiBKU09OLnN0cmluZ2lmeShtZXRhUHJvcHMpLCAuLi5tZXRhUHJvcHMgfSk7XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRNZXRhVGFnKHRhZ05hbWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0YWdOYW1lID09PSBcInN0cmluZ1wiICYmIC9eKG1ldGF8bGluaykkLy50ZXN0KHRhZ05hbWUpO1xufVxudmFyIGlzSHlkcmF0ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIFNjcmlwdHMocHJvcHMpIHtcbiAgbGV0IHsgbWFuaWZlc3QsIHNlcnZlckhhbmRvZmZTdHJpbmcsIGlzU3BhTW9kZSwgc3NyLCByZW5kZXJNZXRhIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCB7IHJvdXRlciwgc3RhdGljOiBpc1N0YXRpYywgc3RhdGljQ29udGV4dCB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQyKCk7XG4gIGxldCB7IG1hdGNoZXM6IHJvdXRlck1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IGVuYWJsZUZvZ09mV2FyID0gaXNGb2dPZldhckVuYWJsZWQoc3NyKTtcbiAgaWYgKHJlbmRlck1ldGEpIHtcbiAgICByZW5kZXJNZXRhLmRpZFJlbmRlclNjcmlwdHMgPSB0cnVlO1xuICB9XG4gIGxldCBtYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBudWxsLCBpc1NwYU1vZGUpO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0h5ZHJhdGVkID0gdHJ1ZTtcbiAgfSwgW10pO1xuICBsZXQgaW5pdGlhbFNjcmlwdHMgPSBSZWFjdDkudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHN0cmVhbVNjcmlwdCA9IFwid2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7c3RhcnQoY29udHJvbGxlcil7d2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO319KS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSk7XCI7XG4gICAgbGV0IGNvbnRleHRTY3JpcHQgPSBzdGF0aWNDb250ZXh0ID8gYHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dCA9ICR7c2VydmVySGFuZG9mZlN0cmluZ307JHtzdHJlYW1TY3JpcHR9YCA6IFwiIFwiO1xuICAgIGxldCByb3V0ZU1vZHVsZXNTY3JpcHQgPSAhaXNTdGF0aWMgPyBcIiBcIiA6IGAke21hbmlmZXN0Lmhtcj8ucnVudGltZSA/IGBpbXBvcnQgJHtKU09OLnN0cmluZ2lmeShtYW5pZmVzdC5obXIucnVudGltZSl9O2AgOiBcIlwifSR7IWVuYWJsZUZvZ09mV2FyID8gYGltcG9ydCAke0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LnVybCl9YCA6IFwiXCJ9O1xuJHttYXRjaGVzLm1hcCgobWF0Y2gsIHJvdXRlSW5kZXgpID0+IHtcbiAgICAgIGxldCByb3V0ZVZhck5hbWUgPSBgcm91dGUke3JvdXRlSW5kZXh9YDtcbiAgICAgIGxldCBtYW5pZmVzdEVudHJ5ID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGludmFyaWFudDIobWFuaWZlc3RFbnRyeSwgYFJvdXRlICR7bWF0Y2gucm91dGUuaWR9IG5vdCBmb3VuZCBpbiBtYW5pZmVzdGApO1xuICAgICAgbGV0IHtcbiAgICAgICAgY2xpZW50QWN0aW9uTW9kdWxlLFxuICAgICAgICBjbGllbnRMb2FkZXJNb2R1bGUsXG4gICAgICAgIGh5ZHJhdGVGYWxsYmFja01vZHVsZSxcbiAgICAgICAgbW9kdWxlXG4gICAgICB9ID0gbWFuaWZlc3RFbnRyeTtcbiAgICAgIGxldCBjaHVua3MgPSBbXG4gICAgICAgIC4uLmNsaWVudEFjdGlvbk1vZHVsZSA/IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtb2R1bGU6IGNsaWVudEFjdGlvbk1vZHVsZSxcbiAgICAgICAgICAgIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fY2xpZW50QWN0aW9uYFxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdLFxuICAgICAgICAuLi5jbGllbnRMb2FkZXJNb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBjbGllbnRMb2FkZXJNb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X2NsaWVudExvYWRlcmBcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgLi4uaHlkcmF0ZUZhbGxiYWNrTW9kdWxlID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZHVsZTogaHlkcmF0ZUZhbGxiYWNrTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9IeWRyYXRlRmFsbGJhY2tgXG4gICAgICAgICAgfVxuICAgICAgICBdIDogW10sXG4gICAgICAgIHsgbW9kdWxlLCB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X21haW5gIH1cbiAgICAgIF07XG4gICAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gYGltcG9ydCAqIGFzICR7cm91dGVWYXJOYW1lfSBmcm9tICR7SlNPTi5zdHJpbmdpZnkobW9kdWxlKX07YDtcbiAgICAgIH1cbiAgICAgIGxldCBjaHVua0ltcG9ydHNTbmlwcGV0ID0gY2h1bmtzLm1hcCgoY2h1bmspID0+IGBpbXBvcnQgKiBhcyAke2NodW5rLnZhck5hbWV9IGZyb20gXCIke2NodW5rLm1vZHVsZX1cIjtgKS5qb2luKFwiXFxuXCIpO1xuICAgICAgbGV0IG1lcmdlZENodW5rc1NuaXBwZXQgPSBgY29uc3QgJHtyb3V0ZVZhck5hbWV9ID0geyR7Y2h1bmtzLm1hcCgoY2h1bmspID0+IGAuLi4ke2NodW5rLnZhck5hbWV9YCkuam9pbihcIixcIil9fTtgO1xuICAgICAgcmV0dXJuIFtjaHVua0ltcG9ydHNTbmlwcGV0LCBtZXJnZWRDaHVua3NTbmlwcGV0XS5qb2luKFwiXFxuXCIpO1xuICAgIH0pLmpvaW4oXCJcXG5cIil9XG4gICR7ZW5hYmxlRm9nT2ZXYXIgPyAoXG4gICAgICAvLyBJbmxpbmUgYSBtaW5pbWFsIG1hbmlmZXN0IHdpdGggdGhlIFNTUiBtYXRjaGVzXG4gICAgICBgd2luZG93Ll9fcmVhY3RSb3V0ZXJNYW5pZmVzdCA9ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIGdldFBhcnRpYWxNYW5pZmVzdChtYW5pZmVzdCwgcm91dGVyKSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKX07YFxuICAgICkgOiBcIlwifVxuICB3aW5kb3cuX19yZWFjdFJvdXRlclJvdXRlTW9kdWxlcyA9IHske21hdGNoZXMubWFwKChtYXRjaCwgaW5kZXgpID0+IGAke0pTT04uc3RyaW5naWZ5KG1hdGNoLnJvdXRlLmlkKX06cm91dGUke2luZGV4fWApLmpvaW4oXCIsXCIpfX07XG5cbmltcG9ydCgke0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LmVudHJ5Lm1vZHVsZSl9KTtgO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogY3JlYXRlSHRtbChjb250ZXh0U2NyaXB0KSxcbiAgICAgICAgdHlwZTogdm9pZCAwXG4gICAgICB9XG4gICAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIHtcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGNyZWF0ZUh0bWwocm91dGVNb2R1bGVzU2NyaXB0KSxcbiAgICAgICAgdHlwZTogXCJtb2R1bGVcIixcbiAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgIH1cbiAgICApKTtcbiAgfSwgW10pO1xuICBsZXQgcHJlbG9hZHMgPSBpc0h5ZHJhdGVkID8gW10gOiBtYW5pZmVzdC5lbnRyeS5pbXBvcnRzLmNvbmNhdChcbiAgICBnZXRNb2R1bGVMaW5rSHJlZnMobWF0Y2hlcywgbWFuaWZlc3QsIHtcbiAgICAgIGluY2x1ZGVIeWRyYXRlRmFsbGJhY2s6IHRydWVcbiAgICB9KVxuICApO1xuICByZXR1cm4gaXNIeWRyYXRlZCA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCAhZW5hYmxlRm9nT2ZXYXIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJsaW5rXCIsXG4gICAge1xuICAgICAgcmVsOiBcIm1vZHVsZXByZWxvYWRcIixcbiAgICAgIGhyZWY6IG1hbmlmZXN0LnVybCxcbiAgICAgIGNyb3NzT3JpZ2luOiBwcm9wcy5jcm9zc09yaWdpblxuICAgIH1cbiAgKSA6IG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBcImxpbmtcIixcbiAgICB7XG4gICAgICByZWw6IFwibW9kdWxlcHJlbG9hZFwiLFxuICAgICAgaHJlZjogbWFuaWZlc3QuZW50cnkubW9kdWxlLFxuICAgICAgY3Jvc3NPcmlnaW46IHByb3BzLmNyb3NzT3JpZ2luXG4gICAgfVxuICApLCBkZWR1cGUocHJlbG9hZHMpLm1hcCgocGF0aCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIGtleTogcGF0aCxcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBwYXRoLFxuICAgICAgY3Jvc3NPcmlnaW46IHByb3BzLmNyb3NzT3JpZ2luXG4gICAgfVxuICApKSwgaW5pdGlhbFNjcmlwdHMpO1xufVxuZnVuY3Rpb24gZGVkdXBlKGFycmF5KSB7XG4gIHJldHVybiBbLi4ubmV3IFNldChhcnJheSldO1xufVxuZnVuY3Rpb24gbWVyZ2VSZWZzKC4uLnJlZnMpIHtcbiAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgIHJlZnMuZm9yRWFjaCgocmVmKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIGxpYi9kb20vbGliLnRzeFxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG50cnkge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgd2luZG93Ll9fcmVhY3RSb3V0ZXJWZXJzaW9uID0gXCI3LjMuMFwiO1xuICB9XG59IGNhdGNoIChlKSB7XG59XG5mdW5jdGlvbiBjcmVhdGVCcm93c2VyUm91dGVyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgdW5zdGFibGVfZ2V0Q29udGV4dDogb3B0cz8udW5zdGFibGVfZ2V0Q29udGV4dCxcbiAgICBmdXR1cmU6IG9wdHM/LmZ1dHVyZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVCcm93c2VySGlzdG9yeSh7IHdpbmRvdzogb3B0cz8ud2luZG93IH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEgfHwgcGFyc2VIeWRyYXRpb25EYXRhKCksXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24sXG4gICAgd2luZG93OiBvcHRzPy53aW5kb3dcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxuZnVuY3Rpb24gY3JlYXRlSGFzaFJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIHVuc3RhYmxlX2dldENvbnRleHQ6IG9wdHM/LnVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlSGFzaEhpc3RvcnkoeyB3aW5kb3c6IG9wdHM/LndpbmRvdyB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhIHx8IHBhcnNlSHlkcmF0aW9uRGF0YSgpLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uLFxuICAgIHdpbmRvdzogb3B0cz8ud2luZG93XG4gIH0pLmluaXRpYWxpemUoKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSHlkcmF0aW9uRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gd2luZG93Py5fX3N0YXRpY1JvdXRlckh5ZHJhdGlvbkRhdGE7XG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZXJyb3JzOiBkZXNlcmlhbGl6ZUVycm9ycyhzdGF0ZS5lcnJvcnMpXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9ycyhlcnJvcnMpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJSb3V0ZUVycm9yUmVzcG9uc2VcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICB2YWwuc3RhdHVzLFxuICAgICAgICB2YWwuc3RhdHVzVGV4dCxcbiAgICAgICAgdmFsLmRhdGEsXG4gICAgICAgIHZhbC5pbnRlcm5hbCA9PT0gdHJ1ZVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIkVycm9yXCIpIHtcbiAgICAgIGlmICh2YWwuX19zdWJUeXBlKSB7XG4gICAgICAgIGxldCBFcnJvckNvbnN0cnVjdG9yID0gd2luZG93W3ZhbC5fX3N1YlR5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIEVycm9yQ29uc3RydWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3JDb25zdHJ1Y3Rvcih2YWwubWVzc2FnZSk7XG4gICAgICAgICAgICBlcnJvci5zdGFjayA9IFwiXCI7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2VyaWFsaXplZFtrZXldID09IG51bGwpIHtcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSBcIlwiO1xuICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cbmZ1bmN0aW9uIEJyb3dzZXJSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIHdpbmRvdzogd2luZG93MlxufSkge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0MTAudXNlUmVmKCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KHsgd2luZG93OiB3aW5kb3cyLCB2NUNvbXBhdDogdHJ1ZSB9KTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0MTAudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDEwLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEhhc2hSb3V0ZXIoeyBiYXNlbmFtZSwgY2hpbGRyZW4sIHdpbmRvdzogd2luZG93MiB9KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QxMC51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlSGFzaEhpc3RvcnkoeyB3aW5kb3c6IHdpbmRvdzIsIHY1Q29tcGF0OiB0cnVlIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gSGlzdG9yeVJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgaGlzdG9yeVxufSkge1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuSGlzdG9yeVJvdXRlci5kaXNwbGF5TmFtZSA9IFwidW5zdGFibGVfSGlzdG9yeVJvdXRlclwiO1xudmFyIEFCU09MVVRFX1VSTF9SRUdFWDIgPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgTGluayA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24gTGlua1dpdGhSZWYoe1xuICAgIG9uQ2xpY2ssXG4gICAgZGlzY292ZXIgPSBcInJlbmRlclwiLFxuICAgIHByZWZldGNoID0gXCJub25lXCIsXG4gICAgcmVsYXRpdmUsXG4gICAgcmVsb2FkRG9jdW1lbnQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgc3RhdGUsXG4gICAgdGFyZ2V0LFxuICAgIHRvLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICB2aWV3VHJhbnNpdGlvbixcbiAgICAuLi5yZXN0XG4gIH0sIGZvcndhcmRlZFJlZikge1xuICAgIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICAgIGxldCBpc0Fic29sdXRlID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiICYmIEFCU09MVVRFX1VSTF9SRUdFWDIudGVzdCh0byk7XG4gICAgbGV0IGFic29sdXRlSHJlZjtcbiAgICBsZXQgaXNFeHRlcm5hbCA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgYWJzb2x1dGVIcmVmID0gdG87XG4gICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGN1cnJlbnRVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICBsZXQgdGFyZ2V0VXJsID0gdG8uc3RhcnRzV2l0aChcIi8vXCIpID8gbmV3IFVSTChjdXJyZW50VXJsLnByb3RvY29sICsgdG8pIDogbmV3IFVSTCh0byk7XG4gICAgICAgICAgbGV0IHBhdGggPSBzdHJpcEJhc2VuYW1lKHRhcmdldFVybC5wYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgICAgIGlmICh0YXJnZXRVcmwub3JpZ2luID09PSBjdXJyZW50VXJsLm9yaWdpbiAmJiBwYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRvID0gcGF0aCArIHRhcmdldFVybC5zZWFyY2ggKyB0YXJnZXRVcmwuaGFzaDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNFeHRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgYDxMaW5rIHRvPVwiJHt0b31cIj4gY29udGFpbnMgYW4gaW52YWxpZCBVUkwgd2hpY2ggd2lsbCBwcm9iYWJseSBicmVhayB3aGVuIGNsaWNrZWQgLSBwbGVhc2UgdXBkYXRlIHRvIGEgdmFsaWQgVVJMIHBhdGguYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGhyZWYyID0gdXNlSHJlZih0bywgeyByZWxhdGl2ZSB9KTtcbiAgICBsZXQgW3Nob3VsZFByZWZldGNoLCBwcmVmZXRjaFJlZiwgcHJlZmV0Y2hIYW5kbGVyc10gPSB1c2VQcmVmZXRjaEJlaGF2aW9yKFxuICAgICAgcHJlZmV0Y2gsXG4gICAgICByZXN0XG4gICAgKTtcbiAgICBsZXQgaW50ZXJuYWxPbkNsaWNrID0gdXNlTGlua0NsaWNrSGFuZGxlcih0bywge1xuICAgICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgICBzdGF0ZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlbGF0aXZlLFxuICAgICAgdmlld1RyYW5zaXRpb25cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgaWYgKG9uQ2xpY2spIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIGludGVybmFsT25DbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBsaW5rID0gKFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FuY2hvci1oYXMtY29udGVudFxuICAgICAgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICAgICAgXCJhXCIsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIC4uLnByZWZldGNoSGFuZGxlcnMsXG4gICAgICAgICAgaHJlZjogYWJzb2x1dGVIcmVmIHx8IGhyZWYyLFxuICAgICAgICAgIG9uQ2xpY2s6IGlzRXh0ZXJuYWwgfHwgcmVsb2FkRG9jdW1lbnQgPyBvbkNsaWNrIDogaGFuZGxlQ2xpY2ssXG4gICAgICAgICAgcmVmOiBtZXJnZVJlZnMoZm9yd2FyZGVkUmVmLCBwcmVmZXRjaFJlZiksXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIFwiZGF0YS1kaXNjb3ZlclwiOiAhaXNBYnNvbHV0ZSAmJiBkaXNjb3ZlciA9PT0gXCJyZW5kZXJcIiA/IFwidHJ1ZVwiIDogdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiBzaG91bGRQcmVmZXRjaCAmJiAhaXNBYnNvbHV0ZSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMC5GcmFnbWVudCwgbnVsbCwgbGluaywgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChQcmVmZXRjaFBhZ2VMaW5rcywgeyBwYWdlOiBocmVmMiB9KSkgOiBsaW5rO1xuICB9XG4pO1xuTGluay5kaXNwbGF5TmFtZSA9IFwiTGlua1wiO1xudmFyIE5hdkxpbmsgPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uIE5hdkxpbmtXaXRoUmVmKHtcbiAgICBcImFyaWEtY3VycmVudFwiOiBhcmlhQ3VycmVudFByb3AgPSBcInBhZ2VcIixcbiAgICBjYXNlU2Vuc2l0aXZlID0gZmFsc2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVQcm9wID0gXCJcIixcbiAgICBlbmQgPSBmYWxzZSxcbiAgICBzdHlsZTogc3R5bGVQcm9wLFxuICAgIHRvLFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLnJlc3RcbiAgfSwgcmVmKSB7XG4gICAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmU6IHJlc3QucmVsYXRpdmUgfSk7XG4gICAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgICBsZXQgcm91dGVyU3RhdGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gICAgbGV0IHsgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLCBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgICBsZXQgaXNUcmFuc2l0aW9uaW5nID0gcm91dGVyU3RhdGUgIT0gbnVsbCAmJiAvLyBDb25kaXRpb25hbCB1c2FnZSBpcyBPSyBoZXJlIGJlY2F1c2UgdGhlIHVzYWdlIG9mIGEgZGF0YSByb3V0ZXIgaXMgc3RhdGljXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgdXNlVmlld1RyYW5zaXRpb25TdGF0ZShwYXRoKSAmJiB2aWV3VHJhbnNpdGlvbiA9PT0gdHJ1ZTtcbiAgICBsZXQgdG9QYXRobmFtZSA9IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24gPyBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uKHBhdGgpLnBhdGhuYW1lIDogcGF0aC5wYXRobmFtZTtcbiAgICBsZXQgbG9jYXRpb25QYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGxldCBuZXh0TG9jYXRpb25QYXRobmFtZSA9IHJvdXRlclN0YXRlICYmIHJvdXRlclN0YXRlLm5hdmlnYXRpb24gJiYgcm91dGVyU3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiA/IHJvdXRlclN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24ucGF0aG5hbWUgOiBudWxsO1xuICAgIGlmICghY2FzZVNlbnNpdGl2ZSkge1xuICAgICAgbG9jYXRpb25QYXRobmFtZSA9IGxvY2F0aW9uUGF0aG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5leHRMb2NhdGlvblBhdGhuYW1lID0gbmV4dExvY2F0aW9uUGF0aG5hbWUgPyBuZXh0TG9jYXRpb25QYXRobmFtZS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcbiAgICAgIHRvUGF0aG5hbWUgPSB0b1BhdGhuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChuZXh0TG9jYXRpb25QYXRobmFtZSAmJiBiYXNlbmFtZSkge1xuICAgICAgbmV4dExvY2F0aW9uUGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKG5leHRMb2NhdGlvblBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbmV4dExvY2F0aW9uUGF0aG5hbWU7XG4gICAgfVxuICAgIGNvbnN0IGVuZFNsYXNoUG9zaXRpb24gPSB0b1BhdGhuYW1lICE9PSBcIi9cIiAmJiB0b1BhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSA/IHRvUGF0aG5hbWUubGVuZ3RoIC0gMSA6IHRvUGF0aG5hbWUubGVuZ3RoO1xuICAgIGxldCBpc0FjdGl2ZSA9IGxvY2F0aW9uUGF0aG5hbWUgPT09IHRvUGF0aG5hbWUgfHwgIWVuZCAmJiBsb2NhdGlvblBhdGhuYW1lLnN0YXJ0c1dpdGgodG9QYXRobmFtZSkgJiYgbG9jYXRpb25QYXRobmFtZS5jaGFyQXQoZW5kU2xhc2hQb3NpdGlvbikgPT09IFwiL1wiO1xuICAgIGxldCBpc1BlbmRpbmcgPSBuZXh0TG9jYXRpb25QYXRobmFtZSAhPSBudWxsICYmIChuZXh0TG9jYXRpb25QYXRobmFtZSA9PT0gdG9QYXRobmFtZSB8fCAhZW5kICYmIG5leHRMb2NhdGlvblBhdGhuYW1lLnN0YXJ0c1dpdGgodG9QYXRobmFtZSkgJiYgbmV4dExvY2F0aW9uUGF0aG5hbWUuY2hhckF0KHRvUGF0aG5hbWUubGVuZ3RoKSA9PT0gXCIvXCIpO1xuICAgIGxldCByZW5kZXJQcm9wcyA9IHtcbiAgICAgIGlzQWN0aXZlLFxuICAgICAgaXNQZW5kaW5nLFxuICAgICAgaXNUcmFuc2l0aW9uaW5nXG4gICAgfTtcbiAgICBsZXQgYXJpYUN1cnJlbnQgPSBpc0FjdGl2ZSA/IGFyaWFDdXJyZW50UHJvcCA6IHZvaWQgMDtcbiAgICBsZXQgY2xhc3NOYW1lO1xuICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lUHJvcCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVQcm9wKHJlbmRlclByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lID0gW1xuICAgICAgICBjbGFzc05hbWVQcm9wLFxuICAgICAgICBpc0FjdGl2ZSA/IFwiYWN0aXZlXCIgOiBudWxsLFxuICAgICAgICBpc1BlbmRpbmcgPyBcInBlbmRpbmdcIiA6IG51bGwsXG4gICAgICAgIGlzVHJhbnNpdGlvbmluZyA/IFwidHJhbnNpdGlvbmluZ1wiIDogbnVsbFxuICAgICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gICAgfVxuICAgIGxldCBzdHlsZSA9IHR5cGVvZiBzdHlsZVByb3AgPT09IFwiZnVuY3Rpb25cIiA/IHN0eWxlUHJvcChyZW5kZXJQcm9wcykgOiBzdHlsZVByb3A7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBMaW5rLFxuICAgICAge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBcImFyaWEtY3VycmVudFwiOiBhcmlhQ3VycmVudCxcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICByZWYsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0byxcbiAgICAgICAgdmlld1RyYW5zaXRpb25cbiAgICAgIH0sXG4gICAgICB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IGNoaWxkcmVuKHJlbmRlclByb3BzKSA6IGNoaWxkcmVuXG4gICAgKTtcbiAgfVxuKTtcbk5hdkxpbmsuZGlzcGxheU5hbWUgPSBcIk5hdkxpbmtcIjtcbnZhciBGb3JtID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICAoe1xuICAgIGRpc2NvdmVyID0gXCJyZW5kZXJcIixcbiAgICBmZXRjaGVyS2V5LFxuICAgIG5hdmlnYXRlLFxuICAgIHJlbG9hZERvY3VtZW50LFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgIHN0YXRlLFxuICAgIG1ldGhvZCA9IGRlZmF1bHRNZXRob2QsXG4gICAgYWN0aW9uLFxuICAgIG9uU3VibWl0LFxuICAgIHJlbGF0aXZlLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICB2aWV3VHJhbnNpdGlvbixcbiAgICAuLi5wcm9wc1xuICB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBsZXQgc3VibWl0ID0gdXNlU3VibWl0KCk7XG4gICAgbGV0IGZvcm1BY3Rpb24gPSB1c2VGb3JtQWN0aW9uKGFjdGlvbiwgeyByZWxhdGl2ZSB9KTtcbiAgICBsZXQgZm9ybU1ldGhvZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcImdldFwiID8gXCJnZXRcIiA6IFwicG9zdFwiO1xuICAgIGxldCBpc0Fic29sdXRlID0gdHlwZW9mIGFjdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiBBQlNPTFVURV9VUkxfUkVHRVgyLnRlc3QoYWN0aW9uKTtcbiAgICBsZXQgc3VibWl0SGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgb25TdWJtaXQgJiYgb25TdWJtaXQoZXZlbnQpO1xuICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgc3VibWl0dGVyID0gZXZlbnQubmF0aXZlRXZlbnQuc3VibWl0dGVyO1xuICAgICAgbGV0IHN1Ym1pdE1ldGhvZCA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZm9ybW1ldGhvZFwiKSB8fCBtZXRob2Q7XG4gICAgICBzdWJtaXQoc3VibWl0dGVyIHx8IGV2ZW50LmN1cnJlbnRUYXJnZXQsIHtcbiAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgbWV0aG9kOiBzdWJtaXRNZXRob2QsXG4gICAgICAgIG5hdmlnYXRlLFxuICAgICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlbGF0aXZlLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJmb3JtXCIsXG4gICAgICB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBtZXRob2Q6IGZvcm1NZXRob2QsXG4gICAgICAgIGFjdGlvbjogZm9ybUFjdGlvbixcbiAgICAgICAgb25TdWJtaXQ6IHJlbG9hZERvY3VtZW50ID8gb25TdWJtaXQgOiBzdWJtaXRIYW5kbGVyLFxuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgXCJkYXRhLWRpc2NvdmVyXCI6ICFpc0Fic29sdXRlICYmIGRpc2NvdmVyID09PSBcInJlbmRlclwiID8gXCJ0cnVlXCIgOiB2b2lkIDBcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuRm9ybS5kaXNwbGF5TmFtZSA9IFwiRm9ybVwiO1xuZnVuY3Rpb24gU2Nyb2xsUmVzdG9yYXRpb24oe1xuICBnZXRLZXksXG4gIHN0b3JhZ2VLZXksXG4gIC4uLnByb3BzXG59KSB7XG4gIGxldCByZW1peENvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoRnJhbWV3b3JrQ29udGV4dCk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbWF0Y2hlcyA9IHVzZU1hdGNoZXMoKTtcbiAgdXNlU2Nyb2xsUmVzdG9yYXRpb24oeyBnZXRLZXksIHN0b3JhZ2VLZXkgfSk7XG4gIGxldCBzc3JLZXkgPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKCFyZW1peENvbnRleHQgfHwgIWdldEtleSkgcmV0dXJuIG51bGw7XG4gICAgICBsZXQgdXNlcktleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGdldEtleVxuICAgICAgKTtcbiAgICAgIHJldHVybiB1c2VyS2V5ICE9PSBsb2NhdGlvbi5rZXkgPyB1c2VyS2V5IDogbnVsbDtcbiAgICB9LFxuICAgIC8vIE5haCwgd2Ugb25seSBuZWVkIHRoaXMgdGhlIGZpcnN0IHRpbWUgZm9yIHRoZSBTU1IgcmVuZGVyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtdXG4gICk7XG4gIGlmICghcmVtaXhDb250ZXh0IHx8IHJlbWl4Q29udGV4dC5pc1NwYU1vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgcmVzdG9yZVNjcm9sbCA9ICgoc3RvcmFnZUtleTIsIHJlc3RvcmVLZXkpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8ICF3aW5kb3cuaGlzdG9yeS5zdGF0ZS5rZXkpIHtcbiAgICAgIGxldCBrZXkgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDMyKS5zbGljZSgyKTtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleSB9LCBcIlwiKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGxldCBwb3NpdGlvbnMgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleTIpIHx8IFwie31cIik7XG4gICAgICBsZXQgc3RvcmVkWSA9IHBvc2l0aW9uc1tyZXN0b3JlS2V5IHx8IHdpbmRvdy5oaXN0b3J5LnN0YXRlLmtleV07XG4gICAgICBpZiAodHlwZW9mIHN0b3JlZFkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHN0b3JlZFkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZUtleTIpO1xuICAgIH1cbiAgfSkudG9TdHJpbmcoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYCgke3Jlc3RvcmVTY3JvbGx9KSgke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHN0b3JhZ2VLZXkgfHwgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZXG4gICAgICAgICl9LCAke0pTT04uc3RyaW5naWZ5KHNzcktleSl9KWBcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5TY3JvbGxSZXN0b3JhdGlvbi5kaXNwbGF5TmFtZSA9IFwiU2Nyb2xsUmVzdG9yYXRpb25cIjtcbmZ1bmN0aW9uIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IyKGhvb2tOYW1lKSB7XG4gIHJldHVybiBgJHtob29rTmFtZX0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGRhdGEgcm91dGVyLiAgU2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL2VuL21haW4vcm91dGVycy9waWNraW5nLWEtcm91dGVyLmA7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dDMoaG9va05hbWUpIHtcbiAgbGV0IGN0eCA9IFJlYWN0MTAudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudChjdHgsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IyKGhvb2tOYW1lKSk7XG4gIHJldHVybiBjdHg7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGUyKGhvb2tOYW1lKSB7XG4gIGxldCBzdGF0ZSA9IFJlYWN0MTAudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHN0YXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yMihob29rTmFtZSkpO1xuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1c2VMaW5rQ2xpY2tIYW5kbGVyKHRvLCB7XG4gIHRhcmdldCxcbiAgcmVwbGFjZTogcmVwbGFjZVByb3AsXG4gIHN0YXRlLFxuICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gIHJlbGF0aXZlLFxuICB2aWV3VHJhbnNpdGlvblxufSA9IHt9KSB7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBwYXRoID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuICByZXR1cm4gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChzaG91bGRQcm9jZXNzTGlua0NsaWNrKGV2ZW50LCB0YXJnZXQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCByZXBsYWNlMiA9IHJlcGxhY2VQcm9wICE9PSB2b2lkIDAgPyByZXBsYWNlUHJvcCA6IGNyZWF0ZVBhdGgobG9jYXRpb24pID09PSBjcmVhdGVQYXRoKHBhdGgpO1xuICAgICAgICBuYXZpZ2F0ZSh0bywge1xuICAgICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICByZWxhdGl2ZSxcbiAgICAgICAgICB2aWV3VHJhbnNpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGUsXG4gICAgICBwYXRoLFxuICAgICAgcmVwbGFjZVByb3AsXG4gICAgICBzdGF0ZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHRvLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVsYXRpdmUsXG4gICAgICB2aWV3VHJhbnNpdGlvblxuICAgIF1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZVNlYXJjaFBhcmFtcyhkZWZhdWx0SW5pdCkge1xuICB3YXJuaW5nKFxuICAgIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgYFlvdSBjYW5ub3QgdXNlIHRoZSBcXGB1c2VTZWFyY2hQYXJhbXNcXGAgaG9vayBpbiBhIGJyb3dzZXIgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkxTZWFyY2hQYXJhbXMgQVBJLiBJZiB5b3UgbmVlZCB0byBzdXBwb3J0IEludGVybmV0IEV4cGxvcmVyIDExLCB3ZSByZWNvbW1lbmQgeW91IGxvYWQgYSBwb2x5ZmlsbCBzdWNoIGFzIGh0dHBzOi8vZ2l0aHViLmNvbS91bmdhcC91cmwtc2VhcmNoLXBhcmFtcy5gXG4gICk7XG4gIGxldCBkZWZhdWx0U2VhcmNoUGFyYW1zUmVmID0gUmVhY3QxMC51c2VSZWYoY3JlYXRlU2VhcmNoUGFyYW1zKGRlZmF1bHRJbml0KSk7XG4gIGxldCBoYXNTZXRTZWFyY2hQYXJhbXNSZWYgPSBSZWFjdDEwLnVzZVJlZihmYWxzZSk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4gKFxuICAgICAgLy8gT25seSBtZXJnZSBpbiB0aGUgZGVmYXVsdHMgaWYgd2UgaGF2ZW4ndCB5ZXQgY2FsbGVkIHNldFNlYXJjaFBhcmFtcy5cbiAgICAgIC8vIE9uY2Ugd2UgY2FsbCB0aGF0IHdlIHdhbnQgdGhvc2UgdG8gdGFrZSBwcmVjZWRlbmNlLCBvdGhlcndpc2UgeW91IGNhbid0XG4gICAgICAvLyByZW1vdmUgYSBwYXJhbSB3aXRoIHNldFNlYXJjaFBhcmFtcyh7fSkgaWYgaXQgaGFzIGFuIGluaXRpYWwgdmFsdWVcbiAgICAgIGdldFNlYXJjaFBhcmFtc0ZvckxvY2F0aW9uKFxuICAgICAgICBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc1NldFNlYXJjaFBhcmFtc1JlZi5jdXJyZW50ID8gbnVsbCA6IGRlZmF1bHRTZWFyY2hQYXJhbXNSZWYuY3VycmVudFxuICAgICAgKVxuICAgICksXG4gICAgW2xvY2F0aW9uLnNlYXJjaF1cbiAgKTtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgbGV0IHNldFNlYXJjaFBhcmFtcyA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5leHRJbml0LCBuYXZpZ2F0ZU9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IG5ld1NlYXJjaFBhcmFtcyA9IGNyZWF0ZVNlYXJjaFBhcmFtcyhcbiAgICAgICAgdHlwZW9mIG5leHRJbml0ID09PSBcImZ1bmN0aW9uXCIgPyBuZXh0SW5pdChzZWFyY2hQYXJhbXMpIDogbmV4dEluaXRcbiAgICAgICk7XG4gICAgICBoYXNTZXRTZWFyY2hQYXJhbXNSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBuYXZpZ2F0ZShcIj9cIiArIG5ld1NlYXJjaFBhcmFtcywgbmF2aWdhdGVPcHRpb25zKTtcbiAgICB9LFxuICAgIFtuYXZpZ2F0ZSwgc2VhcmNoUGFyYW1zXVxuICApO1xuICByZXR1cm4gW3NlYXJjaFBhcmFtcywgc2V0U2VhcmNoUGFyYW1zXTtcbn1cbnZhciBmZXRjaGVySWQgPSAwO1xudmFyIGdldFVuaXF1ZUZldGNoZXJJZCA9ICgpID0+IGBfXyR7U3RyaW5nKCsrZmV0Y2hlcklkKX1fX2A7XG5mdW5jdGlvbiB1c2VTdWJtaXQoKSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFwidXNlU3VibWl0XCIgLyogVXNlU3VibWl0ICovKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCBjdXJyZW50Um91dGVJZCA9IHVzZVJvdXRlSWQoKTtcbiAgcmV0dXJuIFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRhcmdldCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBsZXQgeyBhY3Rpb24sIG1ldGhvZCwgZW5jVHlwZSwgZm9ybURhdGEsIGJvZHkgfSA9IGdldEZvcm1TdWJtaXNzaW9uSW5mbyhcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBiYXNlbmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChvcHRpb25zLm5hdmlnYXRlID09PSBmYWxzZSkge1xuICAgICAgICBsZXQga2V5ID0gb3B0aW9ucy5mZXRjaGVyS2V5IHx8IGdldFVuaXF1ZUZldGNoZXJJZCgpO1xuICAgICAgICBhd2FpdCByb3V0ZXIuZmV0Y2goa2V5LCBjdXJyZW50Um91dGVJZCwgb3B0aW9ucy5hY3Rpb24gfHwgYWN0aW9uLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRpb25zLnByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIGZvcm1NZXRob2Q6IG9wdGlvbnMubWV0aG9kIHx8IG1ldGhvZCxcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0aW9ucy5lbmNUeXBlIHx8IGVuY1R5cGUsXG4gICAgICAgICAgZmx1c2hTeW5jOiBvcHRpb25zLmZsdXNoU3luY1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJvdXRlci5uYXZpZ2F0ZShvcHRpb25zLmFjdGlvbiB8fCBhY3Rpb24sIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdGlvbnMucHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIGZvcm1EYXRhLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgZm9ybU1ldGhvZDogb3B0aW9ucy5tZXRob2QgfHwgbWV0aG9kLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRpb25zLmVuY1R5cGUgfHwgZW5jVHlwZSxcbiAgICAgICAgICByZXBsYWNlOiBvcHRpb25zLnJlcGxhY2UsXG4gICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgZnJvbVJvdXRlSWQ6IGN1cnJlbnRSb3V0ZUlkLFxuICAgICAgICAgIGZsdXNoU3luYzogb3B0aW9ucy5mbHVzaFN5bmMsXG4gICAgICAgICAgdmlld1RyYW5zaXRpb246IG9wdGlvbnMudmlld1RyYW5zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLCBiYXNlbmFtZSwgY3VycmVudFJvdXRlSWRdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VGb3JtQWN0aW9uKGFjdGlvbiwgeyByZWxhdGl2ZSB9ID0ge30pIHtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCByb3V0ZUNvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHJvdXRlQ29udGV4dCwgXCJ1c2VGb3JtQWN0aW9uIG11c3QgYmUgdXNlZCBpbnNpZGUgYSBSb3V0ZUNvbnRleHRcIik7XG4gIGxldCBbbWF0Y2hdID0gcm91dGVDb250ZXh0Lm1hdGNoZXMuc2xpY2UoLTEpO1xuICBsZXQgcGF0aCA9IHsgLi4udXNlUmVzb2x2ZWRQYXRoKGFjdGlvbiA/IGFjdGlvbiA6IFwiLlwiLCB7IHJlbGF0aXZlIH0pIH07XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGlmIChhY3Rpb24gPT0gbnVsbCkge1xuICAgIHBhdGguc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIGxldCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhdGguc2VhcmNoKTtcbiAgICBsZXQgaW5kZXhWYWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gICAgbGV0IGhhc05ha2VkSW5kZXhQYXJhbSA9IGluZGV4VmFsdWVzLnNvbWUoKHYpID0+IHYgPT09IFwiXCIpO1xuICAgIGlmIChoYXNOYWtlZEluZGV4UGFyYW0pIHtcbiAgICAgIHBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgICAgIGluZGV4VmFsdWVzLmZpbHRlcigodikgPT4gdikuZm9yRWFjaCgodikgPT4gcGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHYpKTtcbiAgICAgIGxldCBxcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgICAgcGF0aC5zZWFyY2ggPSBxcyA/IGA/JHtxc31gIDogXCJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCghYWN0aW9uIHx8IGFjdGlvbiA9PT0gXCIuXCIpICYmIG1hdGNoLnJvdXRlLmluZGV4KSB7XG4gICAgcGF0aC5zZWFyY2ggPSBwYXRoLnNlYXJjaCA/IHBhdGguc2VhcmNoLnJlcGxhY2UoL15cXD8vLCBcIj9pbmRleCZcIikgOiBcIj9pbmRleFwiO1xuICB9XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoLnBhdGhuYW1lID0gcGF0aC5wYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUGF0aChwYXRoKTtcbn1cbmZ1bmN0aW9uIHVzZUZldGNoZXIoe1xuICBrZXlcbn0gPSB7fSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcInVzZUZldGNoZXJcIiAvKiBVc2VGZXRjaGVyICovKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlMihcInVzZUZldGNoZXJcIiAvKiBVc2VGZXRjaGVyICovKTtcbiAgbGV0IGZldGNoZXJEYXRhID0gUmVhY3QxMC51c2VDb250ZXh0KEZldGNoZXJzQ29udGV4dCk7XG4gIGxldCByb3V0ZSA9IFJlYWN0MTAudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgcm91dGVJZCA9IHJvdXRlLm1hdGNoZXNbcm91dGUubWF0Y2hlcy5sZW5ndGggLSAxXT8ucm91dGUuaWQ7XG4gIGludmFyaWFudChmZXRjaGVyRGF0YSwgYHVzZUZldGNoZXIgbXVzdCBiZSB1c2VkIGluc2lkZSBhIEZldGNoZXJzQ29udGV4dGApO1xuICBpbnZhcmlhbnQocm91dGUsIGB1c2VGZXRjaGVyIG11c3QgYmUgdXNlZCBpbnNpZGUgYSBSb3V0ZUNvbnRleHRgKTtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlSWQgIT0gbnVsbCxcbiAgICBgdXNlRmV0Y2hlciBjYW4gb25seSBiZSB1c2VkIG9uIHJvdXRlcyB0aGF0IGNvbnRhaW4gYSB1bmlxdWUgXCJpZFwiYFxuICApO1xuICBsZXQgZGVmYXVsdEtleSA9IFJlYWN0MTAudXNlSWQoKTtcbiAgbGV0IFtmZXRjaGVyS2V5LCBzZXRGZXRjaGVyS2V5XSA9IFJlYWN0MTAudXNlU3RhdGUoa2V5IHx8IGRlZmF1bHRLZXkpO1xuICBpZiAoa2V5ICYmIGtleSAhPT0gZmV0Y2hlcktleSkge1xuICAgIHNldEZldGNoZXJLZXkoa2V5KTtcbiAgfVxuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcm91dGVyLmdldEZldGNoZXIoZmV0Y2hlcktleSk7XG4gICAgcmV0dXJuICgpID0+IHJvdXRlci5kZWxldGVGZXRjaGVyKGZldGNoZXJLZXkpO1xuICB9LCBbcm91dGVyLCBmZXRjaGVyS2V5XSk7XG4gIGxldCBsb2FkID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAoaHJlZjIsIG9wdHMpID0+IHtcbiAgICAgIGludmFyaWFudChyb3V0ZUlkLCBcIk5vIHJvdXRlSWQgYXZhaWxhYmxlIGZvciBmZXRjaGVyLmxvYWQoKVwiKTtcbiAgICAgIGF3YWl0IHJvdXRlci5mZXRjaChmZXRjaGVyS2V5LCByb3V0ZUlkLCBocmVmMiwgb3B0cyk7XG4gICAgfSxcbiAgICBbZmV0Y2hlcktleSwgcm91dGVJZCwgcm91dGVyXVxuICApO1xuICBsZXQgc3VibWl0SW1wbCA9IHVzZVN1Ym1pdCgpO1xuICBsZXQgc3VibWl0ID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodGFyZ2V0LCBvcHRzKSA9PiB7XG4gICAgICBhd2FpdCBzdWJtaXRJbXBsKHRhcmdldCwge1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBuYXZpZ2F0ZTogZmFsc2UsXG4gICAgICAgIGZldGNoZXJLZXlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2ZldGNoZXJLZXksIHN1Ym1pdEltcGxdXG4gICk7XG4gIGxldCBGZXRjaGVyRm9ybSA9IFJlYWN0MTAudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IEZldGNoZXJGb3JtMiA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgICAgIChwcm9wcywgcmVmKSA9PiB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KEZvcm0sIHsgLi4ucHJvcHMsIG5hdmlnYXRlOiBmYWxzZSwgZmV0Y2hlcktleSwgcmVmIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgRmV0Y2hlckZvcm0yLmRpc3BsYXlOYW1lID0gXCJmZXRjaGVyLkZvcm1cIjtcbiAgICByZXR1cm4gRmV0Y2hlckZvcm0yO1xuICB9LCBbZmV0Y2hlcktleV0pO1xuICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChmZXRjaGVyS2V5KSB8fCBJRExFX0ZFVENIRVI7XG4gIGxldCBkYXRhMiA9IGZldGNoZXJEYXRhLmdldChmZXRjaGVyS2V5KTtcbiAgbGV0IGZldGNoZXJXaXRoQ29tcG9uZW50cyA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgRm9ybTogRmV0Y2hlckZvcm0sXG4gICAgICBzdWJtaXQsXG4gICAgICBsb2FkLFxuICAgICAgLi4uZmV0Y2hlcixcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfSksXG4gICAgW0ZldGNoZXJGb3JtLCBzdWJtaXQsIGxvYWQsIGZldGNoZXIsIGRhdGEyXVxuICApO1xuICByZXR1cm4gZmV0Y2hlcldpdGhDb21wb25lbnRzO1xufVxuZnVuY3Rpb24gdXNlRmV0Y2hlcnMoKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZTIoXCJ1c2VGZXRjaGVyc1wiIC8qIFVzZUZldGNoZXJzICovKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oc3RhdGUuZmV0Y2hlcnMuZW50cmllcygpKS5tYXAoKFtrZXksIGZldGNoZXJdKSA9PiAoe1xuICAgIC4uLmZldGNoZXIsXG4gICAga2V5XG4gIH0pKTtcbn1cbnZhciBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVkgPSBcInJlYWN0LXJvdXRlci1zY3JvbGwtcG9zaXRpb25zXCI7XG52YXIgc2F2ZWRTY3JvbGxQb3NpdGlvbnMgPSB7fTtcbmZ1bmN0aW9uIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KGxvY2F0aW9uLCBtYXRjaGVzLCBiYXNlbmFtZSwgZ2V0S2V5KSB7XG4gIGxldCBrZXkgPSBudWxsO1xuICBpZiAoZ2V0S2V5KSB7XG4gICAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgICAga2V5ID0gZ2V0S2V5KFxuICAgICAgICB7XG4gICAgICAgICAgLi4ubG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6IHN0cmlwQmFzZW5hbWUobG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LFxuICAgICAgICBtYXRjaGVzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBnZXRLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgIH1cbiAgfVxuICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICBrZXkgPSBsb2NhdGlvbi5rZXk7XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cbmZ1bmN0aW9uIHVzZVNjcm9sbFJlc3RvcmF0aW9uKHtcbiAgZ2V0S2V5LFxuICBzdG9yYWdlS2V5XG59ID0ge30pIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXCJ1c2VTY3JvbGxSZXN0b3JhdGlvblwiIC8qIFVzZVNjcm9sbFJlc3RvcmF0aW9uICovKTtcbiAgbGV0IHsgcmVzdG9yZVNjcm9sbFBvc2l0aW9uLCBwcmV2ZW50U2Nyb2xsUmVzZXQgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZTIoXG4gICAgXCJ1c2VTY3JvbGxSZXN0b3JhdGlvblwiIC8qIFVzZVNjcm9sbFJlc3RvcmF0aW9uICovXG4gICk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbWF0Y2hlcyA9IHVzZU1hdGNoZXMoKTtcbiAgbGV0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uKCk7XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwibWFudWFsXCI7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJhdXRvXCI7XG4gICAgfTtcbiAgfSwgW10pO1xuICB1c2VQYWdlSGlkZShcbiAgICBSZWFjdDEwLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkobG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCBnZXRLZXkpO1xuICAgICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uc1trZXldID0gd2luZG93LnNjcm9sbFk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgIHN0b3JhZ2VLZXkgfHwgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNhdmVkU2Nyb2xsUG9zaXRpb25zKVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBgRmFpbGVkIHRvIHNhdmUgc2Nyb2xsIHBvc2l0aW9ucyBpbiBzZXNzaW9uU3RvcmFnZSwgPFNjcm9sbFJlc3RvcmF0aW9uIC8+IHdpbGwgbm90IHdvcmsgcHJvcGVybHkgKCR7ZXJyb3J9KS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB3aW5kb3cuaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwiYXV0b1wiO1xuICAgIH0sIFtuYXZpZ2F0aW9uLnN0YXRlLCBnZXRLZXksIGJhc2VuYW1lLCBsb2NhdGlvbiwgbWF0Y2hlcywgc3RvcmFnZUtleV0pXG4gICk7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2Vzc2lvblBvc2l0aW9ucyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXG4gICAgICAgICAgc3RvcmFnZUtleSB8fCBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlc3Npb25Qb3NpdGlvbnMpIHtcbiAgICAgICAgICBzYXZlZFNjcm9sbFBvc2l0aW9ucyA9IEpTT04ucGFyc2Uoc2Vzc2lvblBvc2l0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9LCBbc3RvcmFnZUtleV0pO1xuICAgIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGxldCBkaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24gPSByb3V0ZXI/LmVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKFxuICAgICAgICBzYXZlZFNjcm9sbFBvc2l0aW9ucyxcbiAgICAgICAgKCkgPT4gd2luZG93LnNjcm9sbFksXG4gICAgICAgIGdldEtleSA/IChsb2NhdGlvbjIsIG1hdGNoZXMyKSA9PiBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShsb2NhdGlvbjIsIG1hdGNoZXMyLCBiYXNlbmFtZSwgZ2V0S2V5KSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoKSA9PiBkaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24gJiYgZGlzYWJsZVNjcm9sbFJlc3RvcmF0aW9uKCk7XG4gICAgfSwgW3JvdXRlciwgYmFzZW5hbWUsIGdldEtleV0pO1xuICAgIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChyZXN0b3JlU2Nyb2xsUG9zaXRpb24gPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcmVzdG9yZVNjcm9sbFBvc2l0aW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCByZXN0b3JlU2Nyb2xsUG9zaXRpb24pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaGFzaC5zbGljZSgxKSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgZWwuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgIH0sIFtsb2NhdGlvbiwgcmVzdG9yZVNjcm9sbFBvc2l0aW9uLCBwcmV2ZW50U2Nyb2xsUmVzZXRdKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlQmVmb3JlVW5sb2FkKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIGxldCB7IGNhcHR1cmUgfSA9IG9wdGlvbnMgfHwge307XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgb3B0cyA9IGNhcHR1cmUgIT0gbnVsbCA/IHsgY2FwdHVyZSB9IDogdm9pZCAwO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH07XG4gIH0sIFtjYWxsYmFjaywgY2FwdHVyZV0pO1xufVxuZnVuY3Rpb24gdXNlUGFnZUhpZGUoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgbGV0IHsgY2FwdHVyZSB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBvcHRzID0gY2FwdHVyZSAhPSBudWxsID8geyBjYXB0dXJlIH0gOiB2b2lkIDA7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH07XG4gIH0sIFtjYWxsYmFjaywgY2FwdHVyZV0pO1xufVxuZnVuY3Rpb24gdXNlUHJvbXB0KHtcbiAgd2hlbixcbiAgbWVzc2FnZVxufSkge1xuICBsZXQgYmxvY2tlciA9IHVzZUJsb2NrZXIod2hlbik7XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIpIHtcbiAgICAgIGxldCBwcm9jZWVkID0gd2luZG93LmNvbmZpcm0obWVzc2FnZSk7XG4gICAgICBpZiAocHJvY2VlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGJsb2NrZXIucHJvY2VlZCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9ja2VyLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYmxvY2tlciwgbWVzc2FnZV0pO1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmICF3aGVuKSB7XG4gICAgICBibG9ja2VyLnJlc2V0KCk7XG4gICAgfVxuICB9LCBbYmxvY2tlciwgd2hlbl0pO1xufVxuZnVuY3Rpb24gdXNlVmlld1RyYW5zaXRpb25TdGF0ZSh0bywgb3B0cyA9IHt9KSB7XG4gIGxldCB2dENvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoVmlld1RyYW5zaXRpb25Db250ZXh0KTtcbiAgaW52YXJpYW50KFxuICAgIHZ0Q29udGV4dCAhPSBudWxsLFxuICAgIFwiYHVzZVZpZXdUcmFuc2l0aW9uU3RhdGVgIG11c3QgYmUgdXNlZCB3aXRoaW4gYHJlYWN0LXJvdXRlci1kb21gJ3MgYFJvdXRlclByb3ZpZGVyYC4gIERpZCB5b3UgYWNjaWRlbnRhbGx5IGltcG9ydCBgUm91dGVyUHJvdmlkZXJgIGZyb20gYHJlYWN0LXJvdXRlcmA/XCJcbiAgKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcbiAgICBcInVzZVZpZXdUcmFuc2l0aW9uU3RhdGVcIiAvKiB1c2VWaWV3VHJhbnNpdGlvblN0YXRlICovXG4gICk7XG4gIGxldCBwYXRoID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlOiBvcHRzLnJlbGF0aXZlIH0pO1xuICBpZiAoIXZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGN1cnJlbnRQYXRoID0gc3RyaXBCYXNlbmFtZSh2dENvbnRleHQuY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgdnRDb250ZXh0LmN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgbGV0IG5leHRQYXRoID0gc3RyaXBCYXNlbmFtZSh2dENvbnRleHQubmV4dExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgdnRDb250ZXh0Lm5leHRMb2NhdGlvbi5wYXRobmFtZTtcbiAgcmV0dXJuIG1hdGNoUGF0aChwYXRoLnBhdGhuYW1lLCBuZXh0UGF0aCkgIT0gbnVsbCB8fCBtYXRjaFBhdGgocGF0aC5wYXRobmFtZSwgY3VycmVudFBhdGgpICE9IG51bGw7XG59XG5cbi8vIGxpYi9kb20vc2VydmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN0YXRpY1JvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCA9IFwiL1wiXG59KSB7XG4gIGlmICh0eXBlb2YgbG9jYXRpb25Qcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgbG9jYXRpb25Qcm9wID0gcGFyc2VQYXRoKGxvY2F0aW9uUHJvcCk7XG4gIH1cbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbG9jYXRpb24gPSB7XG4gICAgcGF0aG5hbWU6IGxvY2F0aW9uUHJvcC5wYXRobmFtZSB8fCBcIi9cIixcbiAgICBzZWFyY2g6IGxvY2F0aW9uUHJvcC5zZWFyY2ggfHwgXCJcIixcbiAgICBoYXNoOiBsb2NhdGlvblByb3AuaGFzaCB8fCBcIlwiLFxuICAgIHN0YXRlOiBsb2NhdGlvblByb3Auc3RhdGUgIT0gbnVsbCA/IGxvY2F0aW9uUHJvcC5zdGF0ZSA6IG51bGwsXG4gICAga2V5OiBsb2NhdGlvblByb3Aua2V5IHx8IFwiZGVmYXVsdFwiXG4gIH07XG4gIGxldCBzdGF0aWNOYXZpZ2F0b3IgPSBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBhY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IHN0YXRpY05hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogdHJ1ZVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFN0YXRpY1JvdXRlclByb3ZpZGVyKHtcbiAgY29udGV4dCxcbiAgcm91dGVyLFxuICBoeWRyYXRlID0gdHJ1ZSxcbiAgbm9uY2Vcbn0pIHtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlciAmJiBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBgcm91dGVyYCBhbmQgYGNvbnRleHRgIHRvIDxTdGF0aWNSb3V0ZXJQcm92aWRlcj5cIlxuICApO1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSB7XG4gICAgcm91dGVyLFxuICAgIG5hdmlnYXRvcjogZ2V0U3RhdGVsZXNzTmF2aWdhdG9yKCksXG4gICAgc3RhdGljOiB0cnVlLFxuICAgIHN0YXRpY0NvbnRleHQ6IGNvbnRleHQsXG4gICAgYmFzZW5hbWU6IGNvbnRleHQuYmFzZW5hbWUgfHwgXCIvXCJcbiAgfTtcbiAgbGV0IGZldGNoZXJzQ29udGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBoeWRyYXRlU2NyaXB0ID0gXCJcIjtcbiAgaWYgKGh5ZHJhdGUgIT09IGZhbHNlKSB7XG4gICAgbGV0IGRhdGEyID0ge1xuICAgICAgbG9hZGVyRGF0YTogY29udGV4dC5sb2FkZXJEYXRhLFxuICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgZXJyb3JzOiBzZXJpYWxpemVFcnJvcnMoY29udGV4dC5lcnJvcnMpXG4gICAgfTtcbiAgICBsZXQganNvbiA9IGh0bWxFc2NhcGUoSlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkoZGF0YTIpKSk7XG4gICAgaHlkcmF0ZVNjcmlwdCA9IGB3aW5kb3cuX19zdGF0aWNSb3V0ZXJIeWRyYXRpb25EYXRhID0gSlNPTi5wYXJzZSgke2pzb259KTtgO1xuICB9XG4gIGxldCB7IHN0YXRlIH0gPSBkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFJlYWN0MTEuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGRhdGFSb3V0ZXJDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RhdGUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChGZXRjaGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGZldGNoZXJzQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFZpZXdUcmFuc2l0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBpc1RyYW5zaXRpb25pbmc6IGZhbHNlIH0gfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWU6IGRhdGFSb3V0ZXJDb250ZXh0LmJhc2VuYW1lLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGRhdGFSb3V0ZXJDb250ZXh0Lm5hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogZGF0YVJvdXRlckNvbnRleHQuc3RhdGljXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgICAgRGF0YVJvdXRlczIsXG4gICAgICB7XG4gICAgICAgIHJvdXRlczogcm91dGVyLnJvdXRlcyxcbiAgICAgICAgZnV0dXJlOiByb3V0ZXIuZnV0dXJlLFxuICAgICAgICBzdGF0ZVxuICAgICAgfVxuICAgIClcbiAgKSkpKSksIGh5ZHJhdGVTY3JpcHQgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgbm9uY2UsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGh5ZHJhdGVTY3JpcHQgfVxuICAgIH1cbiAgKSA6IG51bGwpO1xufVxuZnVuY3Rpb24gRGF0YVJvdXRlczIoe1xuICByb3V0ZXMsXG4gIGZ1dHVyZSxcbiAgc3RhdGVcbn0pIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCB2b2lkIDAsIHN0YXRlLCBmdXR1cmUpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3JzKGVycm9ycykge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKHZhbCkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHsgLi4udmFsLCBfX3R5cGU6IFwiUm91dGVFcnJvclJlc3BvbnNlXCIgfTtcbiAgICB9IGVsc2UgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7XG4gICAgICAgIG1lc3NhZ2U6IHZhbC5tZXNzYWdlLFxuICAgICAgICBfX3R5cGU6IFwiRXJyb3JcIixcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHN1YmNsYXNzIChpLmUuLCBSZWZlcmVuY2VFcnJvciksIHNlbmQgdXAgdGhlIHR5cGUgc28gd2VcbiAgICAgICAgLy8gY2FuIHJlLWNyZWF0ZSB0aGUgc2FtZSB0eXBlIGR1cmluZyBoeWRyYXRpb24uXG4gICAgICAgIC4uLnZhbC5uYW1lICE9PSBcIkVycm9yXCIgPyB7XG4gICAgICAgICAgX19zdWJUeXBlOiB2YWwubmFtZVxuICAgICAgICB9IDoge31cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5mdW5jdGlvbiBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKSB7XG4gIHJldHVybiB7XG4gICAgY3JlYXRlSHJlZixcbiAgICBlbmNvZGVMb2NhdGlvbixcbiAgICBwdXNoKHRvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IucHVzaCgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC4gVGhpcyBlcnJvciB3YXMgcHJvYmFibHkgdHJpZ2dlcmVkIHdoZW4geW91IGRpZCBhIFxcYG5hdmlnYXRlKCR7SlNPTi5zdHJpbmdpZnkodG8pfSlcXGAgc29tZXdoZXJlIGluIHlvdXIgYXBwLmBcbiAgICAgICk7XG4gICAgfSxcbiAgICByZXBsYWNlKHRvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IucmVwbGFjZSgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC4gVGhpcyBlcnJvciB3YXMgcHJvYmFibHkgdHJpZ2dlcmVkIHdoZW4geW91IGRpZCBhIFxcYG5hdmlnYXRlKCR7SlNPTi5zdHJpbmdpZnkodG8pfSwgeyByZXBsYWNlOiB0cnVlIH0pXFxgIHNvbWV3aGVyZSBpbiB5b3VyIGFwcC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgZ28oZGVsdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5nbygpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC4gVGhpcyBlcnJvciB3YXMgcHJvYmFibHkgdHJpZ2dlcmVkIHdoZW4geW91IGRpZCBhIFxcYG5hdmlnYXRlKCR7ZGVsdGF9KVxcYCBzb21ld2hlcmUgaW4geW91ciBhcHAuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIGJhY2soKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IuYmFjaygpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgZm9yd2FyZCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5mb3J3YXJkKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljSGFuZGxlcjIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVTdGF0aWNIYW5kbGVyKHJvdXRlcywge1xuICAgIC4uLm9wdHMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljUm91dGVyKHJvdXRlcywgY29udGV4dCwgb3B0cyA9IHt9KSB7XG4gIGxldCBtYW5pZmVzdCA9IHt9O1xuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICB2b2lkIDAsXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgbGV0IG1hdGNoZXMgPSBjb250ZXh0Lm1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W21hdGNoLnJvdXRlLmlkXSB8fCBtYXRjaC5yb3V0ZTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ubWF0Y2gsXG4gICAgICByb3V0ZVxuICAgIH07XG4gIH0pO1xuICBsZXQgbXNnID0gKG1ldGhvZCkgPT4gYFlvdSBjYW5ub3QgdXNlIHJvdXRlci4ke21ldGhvZH0oKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnRgO1xuICByZXR1cm4ge1xuICAgIGdldCBiYXNlbmFtZSgpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmJhc2VuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGZ1dHVyZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IGZhbHNlLFxuICAgICAgICAuLi5vcHRzPy5mdXR1cmVcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoaXN0b3J5QWN0aW9uOiBcIlBPUFwiIC8qIFBvcCAqLyxcbiAgICAgICAgbG9jYXRpb246IGNvbnRleHQubG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgICBlcnJvcnM6IGNvbnRleHQuZXJyb3JzLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IG51bGwsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogZmFsc2UsXG4gICAgICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgICAgIGZldGNoZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgICBibG9ja2VyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldCByb3V0ZXMoKSB7XG4gICAgICByZXR1cm4gZGF0YVJvdXRlcztcbiAgICB9LFxuICAgIGdldCB3aW5kb3coKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgIHRocm93IG1zZyhcImluaXRpYWxpemVcIik7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJzdWJzY3JpYmVcIik7XG4gICAgfSxcbiAgICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbigpIHtcbiAgICAgIHRocm93IG1zZyhcImVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uXCIpO1xuICAgIH0sXG4gICAgbmF2aWdhdGUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJuYXZpZ2F0ZVwiKTtcbiAgICB9LFxuICAgIGZldGNoKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZmV0Y2hcIik7XG4gICAgfSxcbiAgICByZXZhbGlkYXRlKCkge1xuICAgICAgdGhyb3cgbXNnKFwicmV2YWxpZGF0ZVwiKTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWYsXG4gICAgZW5jb2RlTG9jYXRpb24sXG4gICAgZ2V0RmV0Y2hlcigpIHtcbiAgICAgIHJldHVybiBJRExFX0ZFVENIRVI7XG4gICAgfSxcbiAgICBkZWxldGVGZXRjaGVyKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZGVsZXRlRmV0Y2hlclwiKTtcbiAgICB9LFxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICB0aHJvdyBtc2coXCJkaXNwb3NlXCIpO1xuICAgIH0sXG4gICAgZ2V0QmxvY2tlcigpIHtcbiAgICAgIHJldHVybiBJRExFX0JMT0NLRVI7XG4gICAgfSxcbiAgICBkZWxldGVCbG9ja2VyKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZGVsZXRlQmxvY2tlclwiKTtcbiAgICB9LFxuICAgIHBhdGNoUm91dGVzKCkge1xuICAgICAgdGhyb3cgbXNnKFwicGF0Y2hSb3V0ZXNcIik7XG4gICAgfSxcbiAgICBfaW50ZXJuYWxGZXRjaENvbnRyb2xsZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgIF9pbnRlcm5hbFNldFJvdXRlcygpIHtcbiAgICAgIHRocm93IG1zZyhcIl9pbnRlcm5hbFNldFJvdXRlc1wiKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVIcmVmKHRvKSB7XG4gIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xufVxuZnVuY3Rpb24gZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgbGV0IGhyZWYyID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgaHJlZjIgPSBocmVmMi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICBsZXQgZW5jb2RlZCA9IEFCU09MVVRFX1VSTF9SRUdFWDMudGVzdChocmVmMikgPyBuZXcgVVJMKGhyZWYyKSA6IG5ldyBVUkwoaHJlZjIsIFwiaHR0cDovL2xvY2FsaG9zdFwiKTtcbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogZW5jb2RlZC5wYXRobmFtZSxcbiAgICBzZWFyY2g6IGVuY29kZWQuc2VhcmNoLFxuICAgIGhhc2g6IGVuY29kZWQuaGFzaFxuICB9O1xufVxudmFyIEFCU09MVVRFX1VSTF9SRUdFWDMgPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgRVNDQVBFX0xPT0tVUDIgPSB7XG4gIFwiJlwiOiBcIlxcXFx1MDAyNlwiLFxuICBcIj5cIjogXCJcXFxcdTAwM2VcIixcbiAgXCI8XCI6IFwiXFxcXHUwMDNjXCIsXG4gIFwiXFx1MjAyOFwiOiBcIlxcXFx1MjAyOFwiLFxuICBcIlxcdTIwMjlcIjogXCJcXFxcdTIwMjlcIlxufTtcbnZhciBFU0NBUEVfUkVHRVgyID0gL1smPjxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIGh0bWxFc2NhcGUoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShFU0NBUEVfUkVHRVgyLCAobWF0Y2gpID0+IEVTQ0FQRV9MT09LVVAyW21hdGNoXSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL3NlcnZlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTZXJ2ZXJSb3V0ZXIoe1xuICBjb250ZXh0LFxuICB1cmwsXG4gIG5vbmNlXG59KSB7XG4gIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgdXJsID0gbmV3IFVSTCh1cmwpO1xuICB9XG4gIGxldCB7IG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIGNyaXRpY2FsQ3NzLCBzZXJ2ZXJIYW5kb2ZmU3RyaW5nIH0gPSBjb250ZXh0O1xuICBsZXQgcm91dGVzID0gY3JlYXRlU2VydmVyUm91dGVzKFxuICAgIG1hbmlmZXN0LnJvdXRlcyxcbiAgICByb3V0ZU1vZHVsZXMsXG4gICAgY29udGV4dC5mdXR1cmUsXG4gICAgY29udGV4dC5pc1NwYU1vZGVcbiAgKTtcbiAgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhID0ge1xuICAgIC4uLmNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubG9hZGVyRGF0YVxuICB9O1xuICBmb3IgKGxldCBtYXRjaCBvZiBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0Lm1hdGNoZXMpIHtcbiAgICBsZXQgcm91dGVJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGxldCByb3V0ZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZUlkXTtcbiAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IGNvbnRleHQubWFuaWZlc3Qucm91dGVzW3JvdXRlSWRdO1xuICAgIGlmIChyb3V0ZSAmJiBtYW5pZmVzdFJvdXRlICYmIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcihtYW5pZmVzdFJvdXRlLCByb3V0ZSwgY29udGV4dC5pc1NwYU1vZGUpICYmIChyb3V0ZS5IeWRyYXRlRmFsbGJhY2sgfHwgIW1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSkge1xuICAgICAgZGVsZXRlIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbiAgICB9XG4gIH1cbiAgbGV0IHJvdXRlciA9IGNyZWF0ZVN0YXRpY1JvdXRlcihyb3V0ZXMsIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChSZWFjdDEyLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFxuICAgIEZyYW1ld29ya0NvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgY3JpdGljYWxDc3MsXG4gICAgICAgIHNlcnZlckhhbmRvZmZTdHJpbmcsXG4gICAgICAgIGZ1dHVyZTogY29udGV4dC5mdXR1cmUsXG4gICAgICAgIHNzcjogY29udGV4dC5zc3IsXG4gICAgICAgIGlzU3BhTW9kZTogY29udGV4dC5pc1NwYU1vZGUsXG4gICAgICAgIHNlcmlhbGl6ZUVycm9yOiBjb250ZXh0LnNlcmlhbGl6ZUVycm9yLFxuICAgICAgICByZW5kZXJNZXRhOiBjb250ZXh0LnJlbmRlck1ldGFcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoUmVtaXhFcnJvckJvdW5kYXJ5LCB7IGxvY2F0aW9uOiByb3V0ZXIuc3RhdGUubG9jYXRpb24gfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcbiAgICAgIFN0YXRpY1JvdXRlclByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICByb3V0ZXIsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQsXG4gICAgICAgIGh5ZHJhdGU6IGZhbHNlXG4gICAgICB9XG4gICAgKSlcbiAgKSwgY29udGV4dC5zZXJ2ZXJIYW5kb2ZmU3RyZWFtID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChSZWFjdDEyLlN1c3BlbnNlLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFxuICAgIFN0cmVhbVRyYW5zZmVyLFxuICAgIHtcbiAgICAgIGNvbnRleHQsXG4gICAgICBpZGVudGlmaWVyOiAwLFxuICAgICAgcmVhZGVyOiBjb250ZXh0LnNlcnZlckhhbmRvZmZTdHJlYW0uZ2V0UmVhZGVyKCksXG4gICAgICB0ZXh0RGVjb2RlcjogbmV3IFRleHREZWNvZGVyKCksXG4gICAgICBub25jZVxuICAgIH1cbiAgKSkgOiBudWxsKTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivcm91dGVzLXRlc3Qtc3R1Yi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXNTdHViKHJvdXRlcywgdW5zdGFibGVfZ2V0Q29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gUm91dGVzVGVzdFN0dWIoe1xuICAgIGluaXRpYWxFbnRyaWVzLFxuICAgIGluaXRpYWxJbmRleCxcbiAgICBoeWRyYXRpb25EYXRhLFxuICAgIGZ1dHVyZVxuICB9KSB7XG4gICAgbGV0IHJvdXRlclJlZiA9IFJlYWN0MTMudXNlUmVmKCk7XG4gICAgbGV0IHJlbWl4Q29udGV4dFJlZiA9IFJlYWN0MTMudXNlUmVmKCk7XG4gICAgaWYgKHJvdXRlclJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJlbWl4Q29udGV4dFJlZi5jdXJyZW50ID0ge1xuICAgICAgICBmdXR1cmU6IHtcbiAgICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBmdXR1cmU/LnVuc3RhYmxlX21pZGRsZXdhcmUgPT09IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWFuaWZlc3Q6IHtcbiAgICAgICAgICByb3V0ZXM6IHt9LFxuICAgICAgICAgIGVudHJ5OiB7IGltcG9ydHM6IFtdLCBtb2R1bGU6IFwiXCIgfSxcbiAgICAgICAgICB1cmw6IFwiXCIsXG4gICAgICAgICAgdmVyc2lvbjogXCJcIlxuICAgICAgICB9LFxuICAgICAgICByb3V0ZU1vZHVsZXM6IHt9LFxuICAgICAgICBzc3I6IGZhbHNlLFxuICAgICAgICBpc1NwYU1vZGU6IGZhbHNlXG4gICAgICB9O1xuICAgICAgbGV0IHBhdGNoZWQgPSBwcm9jZXNzUm91dGVzKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGBTdHViUm91dGVPYmplY3RgIGlzIHN0cmljdGVyIGFib3V0IGBsb2FkZXJgL2BhY3Rpb25gXG4gICAgICAgIC8vIHR5cGVzIGNvbXBhcmVkIHRvIGBBZ25vc3RpY1JvdXRlT2JqZWN0YFxuICAgICAgICBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKHJvdXRlcywgKHIpID0+IHIpLFxuICAgICAgICByZW1peENvbnRleHRSZWYuY3VycmVudC5tYW5pZmVzdCxcbiAgICAgICAgcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQucm91dGVNb2R1bGVzXG4gICAgICApO1xuICAgICAgcm91dGVyUmVmLmN1cnJlbnQgPSBjcmVhdGVNZW1vcnlSb3V0ZXIocGF0Y2hlZCwge1xuICAgICAgICB1bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgICAgICBpbml0aWFsRW50cmllcyxcbiAgICAgICAgaW5pdGlhbEluZGV4LFxuICAgICAgICBoeWRyYXRpb25EYXRhXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoRnJhbWV3b3JrQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChSb3V0ZXJQcm92aWRlciwgeyByb3V0ZXI6IHJvdXRlclJlZi5jdXJyZW50IH0pKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NSb3V0ZXMocm91dGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBwYXJlbnRJZCkge1xuICByZXR1cm4gcm91dGVzLm1hcCgocm91dGUpID0+IHtcbiAgICBpZiAoIXJvdXRlLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhwZWN0ZWQgYSByb3V0ZS5pZCBpbiBAcmVtaXgtcnVuL3Rlc3RpbmcgcHJvY2Vzc1JvdXRlcygpIGZ1bmN0aW9uXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBuZXdSb3V0ZSA9IHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBDb21wb25lbnQ6IHJvdXRlLkNvbXBvbmVudCxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogcm91dGUuSHlkcmF0ZUZhbGxiYWNrLFxuICAgICAgRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSxcbiAgICAgIGFjdGlvbjogcm91dGUuYWN0aW9uLFxuICAgICAgbG9hZGVyOiByb3V0ZS5sb2FkZXIsXG4gICAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZSxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IHJvdXRlLnNob3VsZFJldmFsaWRhdGVcbiAgICB9O1xuICAgIGxldCBlbnRyeVJvdXRlID0ge1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhcmVudElkLFxuICAgICAgaGFzQWN0aW9uOiByb3V0ZS5hY3Rpb24gIT0gbnVsbCxcbiAgICAgIGhhc0xvYWRlcjogcm91dGUubG9hZGVyICE9IG51bGwsXG4gICAgICAvLyBXaGVuIHRlc3Rpbmcgcm91dGVzLCB5b3Ugc2hvdWxkIGp1c3QgYmUgc3R1YmJpbmcgbG9hZGVyL2FjdGlvbiwgbm90XG4gICAgICAvLyB0cnlpbmcgdG8gcmUtaW1wbGVtZW50IHRoZSBmdWxsIGxvYWRlci9jbGllbnRMb2FkZXIvU1NSL2h5ZHJhdGlvbiBmbG93LlxuICAgICAgLy8gVGhhdCBpcyBiZXR0ZXIgdGVzdGVkIHZpYSBFMkUgdGVzdHMuXG4gICAgICBoYXNDbGllbnRBY3Rpb246IGZhbHNlLFxuICAgICAgaGFzQ2xpZW50TG9hZGVyOiBmYWxzZSxcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLkVycm9yQm91bmRhcnkgIT0gbnVsbCxcbiAgICAgIC8vIGFueSBuZWVkIGZvciB0aGVzZT9cbiAgICAgIG1vZHVsZTogXCJidWlsZC9zdHViLXBhdGgtdG8tbW9kdWxlLmpzXCIsXG4gICAgICBjbGllbnRBY3Rpb25Nb2R1bGU6IHZvaWQgMCxcbiAgICAgIGNsaWVudExvYWRlck1vZHVsZTogdm9pZCAwLFxuICAgICAgaHlkcmF0ZUZhbGxiYWNrTW9kdWxlOiB2b2lkIDBcbiAgICB9O1xuICAgIG1hbmlmZXN0LnJvdXRlc1tuZXdSb3V0ZS5pZF0gPSBlbnRyeVJvdXRlO1xuICAgIHJvdXRlTW9kdWxlc1tyb3V0ZS5pZF0gPSB7XG4gICAgICBkZWZhdWx0OiByb3V0ZS5Db21wb25lbnQgfHwgT3V0bGV0LFxuICAgICAgRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSB8fCB2b2lkIDAsXG4gICAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZSxcbiAgICAgIGxpbmtzOiByb3V0ZS5saW5rcyxcbiAgICAgIG1ldGE6IHJvdXRlLm1ldGEsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlOiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlXG4gICAgfTtcbiAgICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICAgIG5ld1JvdXRlLmNoaWxkcmVuID0gcHJvY2Vzc1JvdXRlcyhcbiAgICAgICAgcm91dGUuY2hpbGRyZW4sXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICAgIG5ld1JvdXRlLmlkXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Um91dGU7XG4gIH0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvY29va2llcy50c1xuaW1wb3J0IHsgcGFyc2UsIHNlcmlhbGl6ZSB9IGZyb20gXCJjb29raWVcIjtcblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2NyeXB0by50c1xudmFyIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbnZhciBzaWduID0gYXN5bmMgKHZhbHVlLCBzZWNyZXQpID0+IHtcbiAgbGV0IGRhdGEyID0gZW5jb2Rlci5lbmNvZGUodmFsdWUpO1xuICBsZXQga2V5ID0gYXdhaXQgY3JlYXRlS2V5MihzZWNyZXQsIFtcInNpZ25cIl0pO1xuICBsZXQgc2lnbmF0dXJlID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKFwiSE1BQ1wiLCBrZXksIGRhdGEyKTtcbiAgbGV0IGhhc2ggPSBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKSkpLnJlcGxhY2UoXG4gICAgLz0rJC8sXG4gICAgXCJcIlxuICApO1xuICByZXR1cm4gdmFsdWUgKyBcIi5cIiArIGhhc2g7XG59O1xudmFyIHVuc2lnbiA9IGFzeW5jIChjb29raWUsIHNlY3JldCkgPT4ge1xuICBsZXQgaW5kZXggPSBjb29raWUubGFzdEluZGV4T2YoXCIuXCIpO1xuICBsZXQgdmFsdWUgPSBjb29raWUuc2xpY2UoMCwgaW5kZXgpO1xuICBsZXQgaGFzaCA9IGNvb2tpZS5zbGljZShpbmRleCArIDEpO1xuICBsZXQgZGF0YTIgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gIGxldCBrZXkgPSBhd2FpdCBjcmVhdGVLZXkyKHNlY3JldCwgW1widmVyaWZ5XCJdKTtcbiAgbGV0IHNpZ25hdHVyZSA9IGJ5dGVTdHJpbmdUb1VpbnQ4QXJyYXkoYXRvYihoYXNoKSk7XG4gIGxldCB2YWxpZCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUudmVyaWZ5KFwiSE1BQ1wiLCBrZXksIHNpZ25hdHVyZSwgZGF0YTIpO1xuICByZXR1cm4gdmFsaWQgPyB2YWx1ZSA6IGZhbHNlO1xufTtcbnZhciBjcmVhdGVLZXkyID0gYXN5bmMgKHNlY3JldCwgdXNhZ2VzKSA9PiBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgXCJyYXdcIixcbiAgZW5jb2Rlci5lbmNvZGUoc2VjcmV0KSxcbiAgeyBuYW1lOiBcIkhNQUNcIiwgaGFzaDogXCJTSEEtMjU2XCIgfSxcbiAgZmFsc2UsXG4gIHVzYWdlc1xuKTtcbmZ1bmN0aW9uIGJ5dGVTdHJpbmdUb1VpbnQ4QXJyYXkoYnl0ZVN0cmluZykge1xuICBsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlU3RyaW5nLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2Nvb2tpZXMudHNcbnZhciBjcmVhdGVDb29raWUgPSAobmFtZSwgY29va2llT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGxldCB7IHNlY3JldHMgPSBbXSwgLi4ub3B0aW9ucyB9ID0ge1xuICAgIHBhdGg6IFwiL1wiLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgIC4uLmNvb2tpZU9wdGlvbnNcbiAgfTtcbiAgd2Fybk9uY2VBYm91dEV4cGlyZXNDb29raWUobmFtZSwgb3B0aW9ucy5leHBpcmVzKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGlzU2lnbmVkKCkge1xuICAgICAgcmV0dXJuIHNlY3JldHMubGVuZ3RoID4gMDtcbiAgICB9LFxuICAgIGdldCBleHBpcmVzKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zLm1heEFnZSAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBEYXRlKERhdGUubm93KCkgKyBvcHRpb25zLm1heEFnZSAqIDFlMykgOiBvcHRpb25zLmV4cGlyZXM7XG4gICAgfSxcbiAgICBhc3luYyBwYXJzZShjb29raWVIZWFkZXIsIHBhcnNlT3B0aW9ucykge1xuICAgICAgaWYgKCFjb29raWVIZWFkZXIpIHJldHVybiBudWxsO1xuICAgICAgbGV0IGNvb2tpZXMgPSBwYXJzZShjb29raWVIZWFkZXIsIHsgLi4ub3B0aW9ucywgLi4ucGFyc2VPcHRpb25zIH0pO1xuICAgICAgaWYgKG5hbWUgaW4gY29va2llcykge1xuICAgICAgICBsZXQgdmFsdWUgPSBjb29raWVzW25hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgbGV0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVDb29raWVWYWx1ZSh2YWx1ZSwgc2VjcmV0cyk7XG4gICAgICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2VyaWFsaXplKHZhbHVlLCBzZXJpYWxpemVPcHRpb25zKSB7XG4gICAgICByZXR1cm4gc2VyaWFsaXplKFxuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBhd2FpdCBlbmNvZGVDb29raWVWYWx1ZSh2YWx1ZSwgc2VjcmV0cyksXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLnNlcmlhbGl6ZU9wdGlvbnNcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59O1xudmFyIGlzQ29va2llID0gKG9iamVjdCkgPT4ge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgdHlwZW9mIG9iamVjdC5uYW1lID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuaXNTaWduZWQgPT09IFwiYm9vbGVhblwiICYmIHR5cGVvZiBvYmplY3QucGFyc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LnNlcmlhbGl6ZSA9PT0gXCJmdW5jdGlvblwiO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGVuY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKSB7XG4gIGxldCBlbmNvZGVkID0gZW5jb2RlRGF0YSh2YWx1ZSk7XG4gIGlmIChzZWNyZXRzLmxlbmd0aCA+IDApIHtcbiAgICBlbmNvZGVkID0gYXdhaXQgc2lnbihlbmNvZGVkLCBzZWNyZXRzWzBdKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlZDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKSB7XG4gIGlmIChzZWNyZXRzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBzZWNyZXQgb2Ygc2VjcmV0cykge1xuICAgICAgbGV0IHVuc2lnbmVkVmFsdWUgPSBhd2FpdCB1bnNpZ24odmFsdWUsIHNlY3JldCk7XG4gICAgICBpZiAodW5zaWduZWRWYWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZURhdGEodW5zaWduZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBkZWNvZGVEYXRhKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGVuY29kZURhdGEodmFsdWUpIHtcbiAgcmV0dXJuIGJ0b2EobXlVbmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSkpO1xufVxuZnVuY3Rpb24gZGVjb2RlRGF0YSh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChteUVzY2FwZShhdG9iKHZhbHVlKSkpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cbmZ1bmN0aW9uIG15RXNjYXBlKHZhbHVlKSB7XG4gIGxldCBzdHIgPSB2YWx1ZS50b1N0cmluZygpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgbGV0IGluZGV4ID0gMDtcbiAgbGV0IGNociwgY29kZTtcbiAgd2hpbGUgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIGNociA9IHN0ci5jaGFyQXQoaW5kZXgrKyk7XG4gICAgaWYgKC9bXFx3KitcXC0uL0BdLy5leGVjKGNocikpIHtcbiAgICAgIHJlc3VsdCArPSBjaHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvZGUgPSBjaHIuY2hhckNvZGVBdCgwKTtcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiVcIiArIGhleChjb2RlLCAyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiV1XCIgKyBoZXgoY29kZSwgNCkudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGhleChjb2RlLCBsZW5ndGgpIHtcbiAgbGV0IHJlc3VsdCA9IGNvZGUudG9TdHJpbmcoMTYpO1xuICB3aGlsZSAocmVzdWx0Lmxlbmd0aCA8IGxlbmd0aCkgcmVzdWx0ID0gXCIwXCIgKyByZXN1bHQ7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBteVVuZXNjYXBlKHZhbHVlKSB7XG4gIGxldCBzdHIgPSB2YWx1ZS50b1N0cmluZygpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgbGV0IGluZGV4ID0gMDtcbiAgbGV0IGNociwgcGFydDtcbiAgd2hpbGUgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIGNociA9IHN0ci5jaGFyQXQoaW5kZXgrKyk7XG4gICAgaWYgKGNociA9PT0gXCIlXCIpIHtcbiAgICAgIGlmIChzdHIuY2hhckF0KGluZGV4KSA9PT0gXCJ1XCIpIHtcbiAgICAgICAgcGFydCA9IHN0ci5zbGljZShpbmRleCArIDEsIGluZGV4ICsgNSk7XG4gICAgICAgIGlmICgvXltcXGRhLWZdezR9JC9pLmV4ZWMocGFydCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChwYXJ0LCAxNikpO1xuICAgICAgICAgIGluZGV4ICs9IDU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnQgPSBzdHIuc2xpY2UoaW5kZXgsIGluZGV4ICsgMik7XG4gICAgICAgIGlmICgvXltcXGRhLWZdezJ9JC9pLmV4ZWMocGFydCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChwYXJ0LCAxNikpO1xuICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0ICs9IGNocjtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gd2Fybk9uY2VBYm91dEV4cGlyZXNDb29raWUobmFtZSwgZXhwaXJlcykge1xuICB3YXJuT25jZShcbiAgICAhZXhwaXJlcyxcbiAgICBgVGhlIFwiJHtuYW1lfVwiIGNvb2tpZSBoYXMgYW4gXCJleHBpcmVzXCIgcHJvcGVydHkgc2V0LiBUaGlzIHdpbGwgY2F1c2UgdGhlIGV4cGlyZXMgdmFsdWUgdG8gbm90IGJlIHVwZGF0ZWQgd2hlbiB0aGUgc2Vzc2lvbiBpcyBjb21taXR0ZWQuIEluc3RlYWQsIHlvdSBzaG91bGQgc2V0IHRoZSBleHBpcmVzIHZhbHVlIHdoZW4gc2VyaWFsaXppbmcgdGhlIGNvb2tpZS4gWW91IGNhbiB1c2UgXFxgY29tbWl0U2Vzc2lvbihzZXNzaW9uLCB7IGV4cGlyZXMgfSlcXGAgaWYgdXNpbmcgYSBzZXNzaW9uIHN0b3JhZ2Ugb2JqZWN0LCBvciBcXGBjb29raWUuc2VyaWFsaXplKFwidmFsdWVcIiwgeyBleHBpcmVzIH0pXFxgIGlmIHlvdSdyZSB1c2luZyB0aGUgY29va2llIGRpcmVjdGx5LmBcbiAgKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2VudHJ5LnRzXG5mdW5jdGlvbiBjcmVhdGVFbnRyeVJvdXRlTW9kdWxlcyhtYW5pZmVzdCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMobWFuaWZlc3QpLnJlZHVjZSgobWVtbzIsIHJvdXRlSWQpID0+IHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFtyb3V0ZUlkXTtcbiAgICBpZiAocm91dGUpIHtcbiAgICAgIG1lbW8yW3JvdXRlSWRdID0gcm91dGUubW9kdWxlO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbzI7XG4gIH0sIHt9KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL21vZGUudHNcbnZhciBTZXJ2ZXJNb2RlID0gLyogQF9fUFVSRV9fICovICgoU2VydmVyTW9kZTIpID0+IHtcbiAgU2VydmVyTW9kZTJbXCJEZXZlbG9wbWVudFwiXSA9IFwiZGV2ZWxvcG1lbnRcIjtcbiAgU2VydmVyTW9kZTJbXCJQcm9kdWN0aW9uXCJdID0gXCJwcm9kdWN0aW9uXCI7XG4gIFNlcnZlck1vZGUyW1wiVGVzdFwiXSA9IFwidGVzdFwiO1xuICByZXR1cm4gU2VydmVyTW9kZTI7XG59KShTZXJ2ZXJNb2RlIHx8IHt9KTtcbmZ1bmN0aW9uIGlzU2VydmVyTW9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLyB8fCB2YWx1ZSA9PT0gXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLyB8fCB2YWx1ZSA9PT0gXCJ0ZXN0XCIgLyogVGVzdCAqLztcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2Vycm9ycy50c1xuZnVuY3Rpb24gc2FuaXRpemVFcnJvcihlcnJvciwgc2VydmVyTW9kZSkge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBzZXJ2ZXJNb2RlICE9PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8pIHtcbiAgICBsZXQgc2FuaXRpemVkID0gbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIik7XG4gICAgc2FuaXRpemVkLnN0YWNrID0gdm9pZCAwO1xuICAgIHJldHVybiBzYW5pdGl6ZWQ7XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gc2FuaXRpemVFcnJvcnMoZXJyb3JzLCBzZXJ2ZXJNb2RlKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhlcnJvcnMpLnJlZHVjZSgoYWNjLCBbcm91dGVJZCwgZXJyb3JdKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYWNjLCB7IFtyb3V0ZUlkXTogc2FuaXRpemVFcnJvcihlcnJvciwgc2VydmVyTW9kZSkgfSk7XG4gIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKSB7XG4gIGxldCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBzYW5pdGl6ZWQubWVzc2FnZSxcbiAgICBzdGFjazogc2FuaXRpemVkLnN0YWNrXG4gIH07XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFcnJvcnMyKGVycm9ycywgc2VydmVyTW9kZSkge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKHZhbCkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHsgLi4udmFsLCBfX3R5cGU6IFwiUm91dGVFcnJvclJlc3BvbnNlXCIgfTtcbiAgICB9IGVsc2UgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBsZXQgc2FuaXRpemVkID0gc2FuaXRpemVFcnJvcih2YWwsIHNlcnZlck1vZGUpO1xuICAgICAgc2VyaWFsaXplZFtrZXldID0ge1xuICAgICAgICBtZXNzYWdlOiBzYW5pdGl6ZWQubWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IHNhbml0aXplZC5zdGFjayxcbiAgICAgICAgX190eXBlOiBcIkVycm9yXCIsXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzdWJjbGFzcyAoaS5lLiwgUmVmZXJlbmNlRXJyb3IpLCBzZW5kIHVwIHRoZSB0eXBlIHNvIHdlXG4gICAgICAgIC8vIGNhbiByZS1jcmVhdGUgdGhlIHNhbWUgdHlwZSBkdXJpbmcgaHlkcmF0aW9uLiAgVGhpcyB3aWxsIG9ubHkgYXBwbHlcbiAgICAgICAgLy8gaW4gZGV2IG1vZGUgc2luY2UgYWxsIHByb2R1Y3Rpb24gZXJyb3JzIGFyZSBzYW5pdGl6ZWQgdG8gbm9ybWFsXG4gICAgICAgIC8vIEVycm9yIGluc3RhbmNlc1xuICAgICAgICAuLi5zYW5pdGl6ZWQubmFtZSAhPT0gXCJFcnJvclwiID8ge1xuICAgICAgICAgIF9fc3ViVHlwZTogc2FuaXRpemVkLm5hbWVcbiAgICAgICAgfSA6IHt9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvcm91dGVNYXRjaGluZy50c1xuZnVuY3Rpb24gbWF0Y2hTZXJ2ZXJSb3V0ZXMocm91dGVzLCBwYXRobmFtZSwgYmFzZW5hbWUpIHtcbiAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgcGF0aG5hbWUsXG4gICAgYmFzZW5hbWVcbiAgKTtcbiAgaWYgKCFtYXRjaGVzKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIG1hdGNoZXMubWFwKChtYXRjaCkgPT4gKHtcbiAgICBwYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICBwYXRobmFtZTogbWF0Y2gucGF0aG5hbWUsXG4gICAgcm91dGU6IG1hdGNoLnJvdXRlXG4gIH0pKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2RhdGEudHNcbmFzeW5jIGZ1bmN0aW9uIGNhbGxSb3V0ZUhhbmRsZXIoaGFuZGxlciwgYXJncykge1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcih7XG4gICAgcmVxdWVzdDogc3RyaXBSb3V0ZXNQYXJhbShzdHJpcEluZGV4UGFyYW0yKGFyZ3MucmVxdWVzdCkpLFxuICAgIHBhcmFtczogYXJncy5wYXJhbXMsXG4gICAgY29udGV4dDogYXJncy5jb250ZXh0XG4gIH0pO1xuICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpICYmIHJlc3VsdC5pbml0ICYmIHJlc3VsdC5pbml0LnN0YXR1cyAmJiBpc1JlZGlyZWN0U3RhdHVzQ29kZShyZXN1bHQuaW5pdC5zdGF0dXMpKSB7XG4gICAgdGhyb3cgbmV3IFJlc3BvbnNlKG51bGwsIHJlc3VsdC5pbml0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc3RyaXBJbmRleFBhcmFtMihyZXF1ZXN0KSB7XG4gIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgbGV0IGluZGV4VmFsdWVzID0gdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgbGV0IGluZGV4VmFsdWVzVG9LZWVwID0gW107XG4gIGZvciAobGV0IGluZGV4VmFsdWUgb2YgaW5kZXhWYWx1ZXMpIHtcbiAgICBpZiAoaW5kZXhWYWx1ZSkge1xuICAgICAgaW5kZXhWYWx1ZXNUb0tlZXAucHVzaChpbmRleFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgdG9LZWVwIG9mIGluZGV4VmFsdWVzVG9LZWVwKSB7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB0b0tlZXApO1xuICB9XG4gIGxldCBpbml0ID0ge1xuICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgYm9keTogcmVxdWVzdC5ib2R5LFxuICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsXG4gIH07XG4gIGlmIChpbml0LmJvZHkpIHtcbiAgICBpbml0LmR1cGxleCA9IFwiaGFsZlwiO1xuICB9XG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwuaHJlZiwgaW5pdCk7XG59XG5mdW5jdGlvbiBzdHJpcFJvdXRlc1BhcmFtKHJlcXVlc3QpIHtcbiAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcIl9yb3V0ZXNcIik7XG4gIGxldCBpbml0ID0ge1xuICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgYm9keTogcmVxdWVzdC5ib2R5LFxuICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsXG4gIH07XG4gIGlmIChpbml0LmJvZHkpIHtcbiAgICBpbml0LmR1cGxleCA9IFwiaGFsZlwiO1xuICB9XG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwuaHJlZiwgaW5pdCk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9pbnZhcmlhbnQudHNcbmZ1bmN0aW9uIGludmFyaWFudDModmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJUaGUgZm9sbG93aW5nIGVycm9yIGlzIGEgYnVnIGluIFJlYWN0IFJvdXRlcjsgcGxlYXNlIG9wZW4gYW4gaXNzdWUhIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVhY3Qtcm91dGVyL2lzc3Vlcy9uZXcvY2hvb3NlXCJcbiAgICApO1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvcm91dGVzLnRzXG5mdW5jdGlvbiBncm91cFJvdXRlc0J5UGFyZW50SWQyKG1hbmlmZXN0KSB7XG4gIGxldCByb3V0ZXMgPSB7fTtcbiAgT2JqZWN0LnZhbHVlcyhtYW5pZmVzdCkuZm9yRWFjaCgocm91dGUpID0+IHtcbiAgICBpZiAocm91dGUpIHtcbiAgICAgIGxldCBwYXJlbnRJZCA9IHJvdXRlLnBhcmVudElkIHx8IFwiXCI7XG4gICAgICBpZiAoIXJvdXRlc1twYXJlbnRJZF0pIHtcbiAgICAgICAgcm91dGVzW3BhcmVudElkXSA9IFtdO1xuICAgICAgfVxuICAgICAgcm91dGVzW3BhcmVudElkXS5wdXNoKHJvdXRlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcm91dGVzO1xufVxuZnVuY3Rpb24gY3JlYXRlUm91dGVzKG1hbmlmZXN0LCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQyKG1hbmlmZXN0KSkge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiAoe1xuICAgIC4uLnJvdXRlLFxuICAgIGNoaWxkcmVuOiBjcmVhdGVSb3V0ZXMobWFuaWZlc3QsIHJvdXRlLmlkLCByb3V0ZXNCeVBhcmVudElkKVxuICB9KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyRGF0YVJvdXRlcyhtYW5pZmVzdCwgZnV0dXJlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQyKG1hbmlmZXN0KSkge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IGNvbW1vblJvdXRlID0ge1xuICAgICAgLy8gQWx3YXlzIGluY2x1ZGUgcm9vdCBkdWUgdG8gZGVmYXVsdCBib3VuZGFyaWVzXG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiByb3V0ZS5pZCA9PT0gXCJyb290XCIgfHwgcm91dGUubW9kdWxlLkVycm9yQm91bmRhcnkgIT0gbnVsbCxcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiByb3V0ZS5tb2R1bGUudW5zdGFibGVfbWlkZGxld2FyZSxcbiAgICAgIC8vIE5lZWQgdG8gdXNlIFJSJ3MgdmVyc2lvbiBpbiB0aGUgcGFyYW0gdHlwZWQgaGVyZSB0byBwZXJtaXQgdGhlIG9wdGlvbmFsXG4gICAgICAvLyBjb250ZXh0IGV2ZW4gdGhvdWdoIHdlIGtub3cgaXQnbGwgYWx3YXlzIGJlIHByb3ZpZGVkIGluIHJlbWl4XG4gICAgICBsb2FkZXI6IHJvdXRlLm1vZHVsZS5sb2FkZXIgPyBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5yZXF1ZXN0LmhlYWRlcnMuaGFzKFwiWC1SZWFjdC1Sb3V0ZXItUHJlcmVuZGVyLURhdGFcIikpIHtcbiAgICAgICAgICBjb25zdCBwcmVSZW5kZXJlZERhdGEgPSBhcmdzLnJlcXVlc3QuaGVhZGVycy5nZXQoXG4gICAgICAgICAgICBcIlgtUmVhY3QtUm91dGVyLVByZXJlbmRlci1EYXRhXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCBlbmNvZGVkID0gcHJlUmVuZGVyZWREYXRhID8gZGVjb2RlVVJJKHByZVJlbmRlcmVkRGF0YSkgOiBwcmVSZW5kZXJlZERhdGE7XG4gICAgICAgICAgaW52YXJpYW50MyhlbmNvZGVkLCBcIk1pc3NpbmcgcHJlcmVuZGVyZWQgZGF0YSBmb3Igcm91dGVcIik7XG4gICAgICAgICAgbGV0IHVpbnQ4YXJyYXkgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZW5jb2RlZCk7XG4gICAgICAgICAgbGV0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh1aW50OGFycmF5KTtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlVmlhVHVyYm9TdHJlYW0oc3RyZWFtLCBnbG9iYWwpO1xuICAgICAgICAgIGxldCBkYXRhMiA9IGRlY29kZWQudmFsdWU7XG4gICAgICAgICAgaW52YXJpYW50MyhcbiAgICAgICAgICAgIGRhdGEyICYmIHJvdXRlLmlkIGluIGRhdGEyLFxuICAgICAgICAgICAgXCJVbmFibGUgdG8gZGVjb2RlIHByZXJlbmRlcmVkIGRhdGFcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGRhdGEyW3JvdXRlLmlkXTtcbiAgICAgICAgICBpbnZhcmlhbnQzKFwiZGF0YVwiIGluIHJlc3VsdCwgXCJVbmFibGUgdG8gcHJvY2VzcyBwcmVyZW5kZXJlZCBkYXRhXCIpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsID0gYXdhaXQgY2FsbFJvdXRlSGFuZGxlcihyb3V0ZS5tb2R1bGUubG9hZGVyLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH0gOiB2b2lkIDAsXG4gICAgICBhY3Rpb246IHJvdXRlLm1vZHVsZS5hY3Rpb24gPyAoYXJncykgPT4gY2FsbFJvdXRlSGFuZGxlcihyb3V0ZS5tb2R1bGUuYWN0aW9uLCBhcmdzKSA6IHZvaWQgMCxcbiAgICAgIGhhbmRsZTogcm91dGUubW9kdWxlLmhhbmRsZVxuICAgIH07XG4gICAgcmV0dXJuIHJvdXRlLmluZGV4ID8ge1xuICAgICAgaW5kZXg6IHRydWUsXG4gICAgICAuLi5jb21tb25Sb3V0ZVxuICAgIH0gOiB7XG4gICAgICBjYXNlU2Vuc2l0aXZlOiByb3V0ZS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgY2hpbGRyZW46IGNyZWF0ZVN0YXRpY0hhbmRsZXJEYXRhUm91dGVzKFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgZnV0dXJlLFxuICAgICAgICByb3V0ZS5pZCxcbiAgICAgICAgcm91dGVzQnlQYXJlbnRJZFxuICAgICAgKSxcbiAgICAgIC4uLmNvbW1vblJvdXRlXG4gICAgfTtcbiAgfSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9tYXJrdXAudHNcbnZhciBFU0NBUEVfTE9PS1VQMyA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xudmFyIEVTQ0FQRV9SRUdFWDMgPSAvWyY+PFxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbDIoaHRtbCkge1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKEVTQ0FQRV9SRUdFWDMsIChtYXRjaCkgPT4gRVNDQVBFX0xPT0tVUDNbbWF0Y2hdKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NlcnZlckhhbmRvZmYudHNcbmZ1bmN0aW9uIGNyZWF0ZVNlcnZlckhhbmRvZmZTdHJpbmcoc2VydmVySGFuZG9mZikge1xuICByZXR1cm4gZXNjYXBlSHRtbDIoSlNPTi5zdHJpbmdpZnkoc2VydmVySGFuZG9mZikpO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZGV2LnRzXG52YXIgZ2xvYmFsRGV2U2VydmVySG9va3NLZXkgPSBcIl9fcmVhY3RSb3V0ZXJEZXZTZXJ2ZXJIb29rc1wiO1xuZnVuY3Rpb24gc2V0RGV2U2VydmVySG9va3MoZGV2U2VydmVySG9va3MpIHtcbiAgZ2xvYmFsVGhpc1tnbG9iYWxEZXZTZXJ2ZXJIb29rc0tleV0gPSBkZXZTZXJ2ZXJIb29rcztcbn1cbmZ1bmN0aW9uIGdldERldlNlcnZlckhvb2tzKCkge1xuICByZXR1cm4gZ2xvYmFsVGhpc1tnbG9iYWxEZXZTZXJ2ZXJIb29rc0tleV07XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zaW5nbGUtZmV0Y2gudHNcbmltcG9ydCB7IGVuY29kZSB9IGZyb20gXCJ0dXJiby1zdHJlYW1cIjtcblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2hlYWRlcnMudHNcbmltcG9ydCB7IHNwbGl0Q29va2llc1N0cmluZyB9IGZyb20gXCJzZXQtY29va2llLXBhcnNlclwiO1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KSB7XG4gIGxldCBib3VuZGFyeUlkeCA9IGNvbnRleHQuZXJyb3JzID8gY29udGV4dC5tYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gY29udGV4dC5lcnJvcnNbbS5yb3V0ZS5pZF0pIDogLTE7XG4gIGxldCBtYXRjaGVzID0gYm91bmRhcnlJZHggPj0gMCA/IGNvbnRleHQubWF0Y2hlcy5zbGljZSgwLCBib3VuZGFyeUlkeCArIDEpIDogY29udGV4dC5tYXRjaGVzO1xuICBsZXQgZXJyb3JIZWFkZXJzO1xuICBpZiAoYm91bmRhcnlJZHggPj0gMCkge1xuICAgIGxldCB7IGFjdGlvbkhlYWRlcnMsIGFjdGlvbkRhdGEsIGxvYWRlckhlYWRlcnMsIGxvYWRlckRhdGEgfSA9IGNvbnRleHQ7XG4gICAgY29udGV4dC5tYXRjaGVzLnNsaWNlKGJvdW5kYXJ5SWR4KS5zb21lKChtYXRjaCkgPT4ge1xuICAgICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgICBpZiAoYWN0aW9uSGVhZGVyc1tpZF0gJiYgKCFhY3Rpb25EYXRhIHx8ICFhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGlkKSkpIHtcbiAgICAgICAgZXJyb3JIZWFkZXJzID0gYWN0aW9uSGVhZGVyc1tpZF07XG4gICAgICB9IGVsc2UgaWYgKGxvYWRlckhlYWRlcnNbaWRdICYmICFsb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICBlcnJvckhlYWRlcnMgPSBsb2FkZXJIZWFkZXJzW2lkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlcnJvckhlYWRlcnMgIT0gbnVsbDtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcy5yZWR1Y2UoKHBhcmVudEhlYWRlcnMsIG1hdGNoLCBpZHgpID0+IHtcbiAgICBsZXQgeyBpZCB9ID0gbWF0Y2gucm91dGU7XG4gICAgbGV0IHJvdXRlID0gYnVpbGQucm91dGVzW2lkXTtcbiAgICBpbnZhcmlhbnQzKHJvdXRlLCBgUm91dGUgd2l0aCBpZCBcIiR7aWR9XCIgbm90IGZvdW5kIGluIGJ1aWxkYCk7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGUubW9kdWxlO1xuICAgIGxldCBsb2FkZXJIZWFkZXJzID0gY29udGV4dC5sb2FkZXJIZWFkZXJzW2lkXSB8fCBuZXcgSGVhZGVycygpO1xuICAgIGxldCBhY3Rpb25IZWFkZXJzID0gY29udGV4dC5hY3Rpb25IZWFkZXJzW2lkXSB8fCBuZXcgSGVhZGVycygpO1xuICAgIGxldCBpbmNsdWRlRXJyb3JIZWFkZXJzID0gZXJyb3JIZWFkZXJzICE9IG51bGwgJiYgaWR4ID09PSBtYXRjaGVzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGluY2x1ZGVFcnJvckNvb2tpZXMgPSBpbmNsdWRlRXJyb3JIZWFkZXJzICYmIGVycm9ySGVhZGVycyAhPT0gbG9hZGVySGVhZGVycyAmJiBlcnJvckhlYWRlcnMgIT09IGFjdGlvbkhlYWRlcnM7XG4gICAgaWYgKHJvdXRlTW9kdWxlLmhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgbGV0IGhlYWRlcnMyID0gbmV3IEhlYWRlcnMocGFyZW50SGVhZGVycyk7XG4gICAgICBpZiAoaW5jbHVkZUVycm9yQ29va2llcykge1xuICAgICAgICBwcmVwZW5kQ29va2llcyhlcnJvckhlYWRlcnMsIGhlYWRlcnMyKTtcbiAgICAgIH1cbiAgICAgIHByZXBlbmRDb29raWVzKGFjdGlvbkhlYWRlcnMsIGhlYWRlcnMyKTtcbiAgICAgIHByZXBlbmRDb29raWVzKGxvYWRlckhlYWRlcnMsIGhlYWRlcnMyKTtcbiAgICAgIHJldHVybiBoZWFkZXJzMjtcbiAgICB9XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgIHJvdXRlTW9kdWxlLmhlYWRlcnMgPyB0eXBlb2Ygcm91dGVNb2R1bGUuaGVhZGVycyA9PT0gXCJmdW5jdGlvblwiID8gcm91dGVNb2R1bGUuaGVhZGVycyh7XG4gICAgICAgIGxvYWRlckhlYWRlcnMsXG4gICAgICAgIHBhcmVudEhlYWRlcnMsXG4gICAgICAgIGFjdGlvbkhlYWRlcnMsXG4gICAgICAgIGVycm9ySGVhZGVyczogaW5jbHVkZUVycm9ySGVhZGVycyA/IGVycm9ySGVhZGVycyA6IHZvaWQgMFxuICAgICAgfSkgOiByb3V0ZU1vZHVsZS5oZWFkZXJzIDogdm9pZCAwXG4gICAgKTtcbiAgICBpZiAoaW5jbHVkZUVycm9yQ29va2llcykge1xuICAgICAgcHJlcGVuZENvb2tpZXMoZXJyb3JIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgcHJlcGVuZENvb2tpZXMoYWN0aW9uSGVhZGVycywgaGVhZGVycyk7XG4gICAgcHJlcGVuZENvb2tpZXMobG9hZGVySGVhZGVycywgaGVhZGVycyk7XG4gICAgcHJlcGVuZENvb2tpZXMocGFyZW50SGVhZGVycywgaGVhZGVycyk7XG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH0sIG5ldyBIZWFkZXJzKCkpO1xufVxuZnVuY3Rpb24gcHJlcGVuZENvb2tpZXMocGFyZW50SGVhZGVycywgY2hpbGRIZWFkZXJzKSB7XG4gIGxldCBwYXJlbnRTZXRDb29raWVTdHJpbmcgPSBwYXJlbnRIZWFkZXJzLmdldChcIlNldC1Db29raWVcIik7XG4gIGlmIChwYXJlbnRTZXRDb29raWVTdHJpbmcpIHtcbiAgICBsZXQgY29va2llcyA9IHNwbGl0Q29va2llc1N0cmluZyhwYXJlbnRTZXRDb29raWVTdHJpbmcpO1xuICAgIGxldCBjaGlsZENvb2tpZXMgPSBuZXcgU2V0KGNoaWxkSGVhZGVycy5nZXRTZXRDb29raWUoKSk7XG4gICAgY29va2llcy5mb3JFYWNoKChjb29raWUpID0+IHtcbiAgICAgIGlmICghY2hpbGRDb29raWVzLmhhcyhjb29raWUpKSB7XG4gICAgICAgIGNoaWxkSGVhZGVycy5hcHBlbmQoXCJTZXQtQ29va2llXCIsIGNvb2tpZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NpbmdsZS1mZXRjaC50c1xudmFyIE5PX0JPRFlfU1RBVFVTX0NPREVTID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzEwMCwgMTAxLCAyMDQsIDIwNSwgMzA0XSk7XG52YXIgU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVUyA9IDIwMjtcbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoQWN0aW9uKGJ1aWxkLCBzZXJ2ZXJNb2RlLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBoYW5kbGVyVXJsLCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uZDIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICBsZXQgaGVhZGVycyA9IGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCk7XG4gICAgICBpZiAoaXNSZWRpcmVjdFN0YXR1c0NvZGUoY29udGV4dC5zdGF0dXNDb2RlKSAmJiBoZWFkZXJzLmhhcyhcIkxvY2F0aW9uXCIpKSB7XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgICByZXN1bHQ6IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpLmZvckVhY2goKGVycikgPT4ge1xuICAgICAgICAgIGlmICghaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyKSB8fCBlcnIuZXJyb3IpIHtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgICBsZXQgc2luZ2xlRmV0Y2hSZXN1bHQ7XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgc2luZ2xlRmV0Y2hSZXN1bHQgPSB7IGVycm9yOiBPYmplY3QudmFsdWVzKGNvbnRleHQuZXJyb3JzKVswXSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2luZ2xlRmV0Y2hSZXN1bHQgPSB7XG4gICAgICAgICAgZGF0YTogT2JqZWN0LnZhbHVlcyhjb250ZXh0LmFjdGlvbkRhdGEgfHwge30pWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgIHJlc3VsdDogc2luZ2xlRmV0Y2hSZXN1bHQsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogY29udGV4dC5zdGF0dXNDb2RlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciByZXNwb25kID0gcmVzcG9uZDI7XG4gICAgbGV0IGhhbmRsZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaGFuZGxlclVybCwge1xuICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIGJvZHk6IHJlcXVlc3QuYm9keSxcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWwsXG4gICAgICAuLi5yZXF1ZXN0LmJvZHkgPyB7IGR1cGxleDogXCJoYWxmXCIgfSA6IHZvaWQgMFxuICAgIH0pO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5KGhhbmRsZXJSZXF1ZXN0LCB7XG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogdHJ1ZSxcbiAgICAgIHNraXBSZXZhbGlkYXRpb246IHRydWUsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kMlxuICAgIH0pO1xuICAgIGlmICghaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPSByZXNwb25kMihyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgIHJlc3VsdC5zdGF0dXMsXG4gICAgICAgICAgcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVU1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgIHJlc3VsdDogeyBlcnJvciB9LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoKSxcbiAgICAgIHN0YXR1czogNTAwXG4gICAgfSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoTG9hZGVycyhidWlsZCwgc2VydmVyTW9kZSwgc3RhdGljSGFuZGxlciwgcmVxdWVzdCwgaGFuZGxlclVybCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbmQyID0gZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgbGV0IGhlYWRlcnMgPSBnZXREb2N1bWVudEhlYWRlcnMoYnVpbGQsIGNvbnRleHQpO1xuICAgICAgaWYgKGlzUmVkaXJlY3RTdGF0dXNDb2RlKGNvbnRleHQuc3RhdHVzQ29kZSkgJiYgaGVhZGVycy5oYXMoXCJMb2NhdGlvblwiKSkge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgICBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpLmZvckVhY2goKGVycikgPT4ge1xuICAgICAgICAgIGlmICghaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyKSB8fCBlcnIuZXJyb3IpIHtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0cyA9IHt9O1xuICAgICAgbGV0IGxvYWRlZE1hdGNoZXMgPSBuZXcgU2V0KFxuICAgICAgICBjb250ZXh0Lm1hdGNoZXMuZmlsdGVyKFxuICAgICAgICAgIChtKSA9PiBsb2FkUm91dGVJZHMgPyBsb2FkUm91dGVJZHMuaGFzKG0ucm91dGUuaWQpIDogbS5yb3V0ZS5sb2FkZXIgIT0gbnVsbFxuICAgICAgICApLm1hcCgobSkgPT4gbS5yb3V0ZS5pZClcbiAgICAgICk7XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgZm9yIChsZXQgW2lkLCBlcnJvcl0gb2YgT2JqZWN0LmVudHJpZXMoY29udGV4dC5lcnJvcnMpKSB7XG4gICAgICAgICAgcmVzdWx0c1tpZF0gPSB7IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IFtpZCwgZGF0YTJdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRleHQubG9hZGVyRGF0YSkpIHtcbiAgICAgICAgaWYgKCEoaWQgaW4gcmVzdWx0cykgJiYgbG9hZGVkTWF0Y2hlcy5oYXMoaWQpKSB7XG4gICAgICAgICAgcmVzdWx0c1tpZF0gPSB7IGRhdGE6IGRhdGEyIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiByZXN1bHRzLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IGNvbnRleHQuc3RhdHVzQ29kZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgcmVzcG9uZCA9IHJlc3BvbmQyO1xuICAgIGxldCBoYW5kbGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGhhbmRsZXJVcmwsIHtcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgICB9KTtcbiAgICBsZXQgcm91dGVzUGFyYW0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKS5zZWFyY2hQYXJhbXMuZ2V0KFwiX3JvdXRlc1wiKTtcbiAgICBsZXQgbG9hZFJvdXRlSWRzID0gcm91dGVzUGFyYW0gPyBuZXcgU2V0KHJvdXRlc1BhcmFtLnNwbGl0KFwiLFwiKSkgOiBudWxsO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5KGhhbmRsZXJSZXF1ZXN0LCB7XG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkOiAobSkgPT4gIWxvYWRSb3V0ZUlkcyB8fCBsb2FkUm91dGVJZHMuaGFzKG0ucm91dGUuaWQpLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IHRydWUsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kMlxuICAgIH0pO1xuICAgIGlmICghaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPSByZXNwb25kMihyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdOiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICByZXN1bHQ6IHsgcm9vdDogeyBlcnJvciB9IH0sXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycygpLFxuICAgICAgc3RhdHVzOiA1MDBcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gIHJlc3VsdCxcbiAgaGVhZGVycyxcbiAgc3RhdHVzXG59KSB7XG4gIGxldCByZXN1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoaGVhZGVycyk7XG4gIHJlc3VsdEhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZXNwb25zZVwiLCBcInllc1wiKTtcbiAgaWYgKE5PX0JPRFlfU1RBVFVTX0NPREVTLmhhcyhzdGF0dXMpKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IHN0YXR1cywgaGVhZGVyczogcmVzdWx0SGVhZGVycyB9KTtcbiAgfVxuICByZXN1bHRIZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcInRleHQveC1zY3JpcHRcIik7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICByZXN1bHQsXG4gICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIGJ1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgc2VydmVyTW9kZVxuICAgICksXG4gICAge1xuICAgICAgc3RhdHVzOiBzdGF0dXMgfHwgMjAwLFxuICAgICAgaGVhZGVyczogcmVzdWx0SGVhZGVyc1xuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFNpbmdsZUZldGNoUmVkaXJlY3Qoc3RhdHVzLCBoZWFkZXJzLCBiYXNlbmFtZSkge1xuICBsZXQgcmVkaXJlY3QyID0gaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgaWYgKGJhc2VuYW1lKSB7XG4gICAgcmVkaXJlY3QyID0gc3RyaXBCYXNlbmFtZShyZWRpcmVjdDIsIGJhc2VuYW1lKSB8fCByZWRpcmVjdDI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZWRpcmVjdDogcmVkaXJlY3QyLFxuICAgIHN0YXR1cyxcbiAgICByZXZhbGlkYXRlOiAoXG4gICAgICAvLyBUZWNobmljYWxseSBYLVJlbWl4LVJldmFsaWRhdGUgaXNuJ3QgbmVlZGVkIGhlcmUgLSB0aGF0IHdhcyBhbiBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gZGV0YWlsIG9mID9fZGF0YSByZXF1ZXN0cyBhcyBvdXIgd2F5IHRvIHRlbGwgdGhlIGZyb250IGVuZCB0byByZXZhbGlkYXRlIHdoZW5cbiAgICAgIC8vIHdlIGRpZG4ndCBoYXZlIGEgcmVzcG9uc2UgYm9keSB0byBpbmNsdWRlIHRoYXQgaW5mb3JtYXRpb24gaW4uXG4gICAgICAvLyBXaXRoIHNpbmdsZSBmZXRjaCwgd2UgdGVsbCB0aGUgZnJvbnQgZW5kIHZpYSB0aGlzIHJldmFsaWRhdGUgYm9vbGVhbiBmaWVsZC5cbiAgICAgIC8vIEhvd2V2ZXIsIHdlJ3JlIHJlc3BlY3RpbmcgaXQgZm9yIG5vdyBiZWNhdXNlIGl0IG1heSBiZSBzb21ldGhpbmcgZm9sa3MgaGF2ZVxuICAgICAgLy8gdXNlZCBpbiB0aGVpciBvd24gcmVzcG9uc2VzXG4gICAgICAvLyBUT0RPKHYzKTogQ29uc2lkZXIgcmVtb3Zpbmcgb3IgbWFraW5nIHRoaXMgb2ZmaWNpYWwgcHVibGljIEFQSVxuICAgICAgaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJldmFsaWRhdGVcIikgfHwgaGVhZGVycy5oYXMoXCJTZXQtQ29va2llXCIpXG4gICAgKSxcbiAgICByZWxvYWQ6IGhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIiksXG4gICAgcmVwbGFjZTogaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlcGxhY2VcIilcbiAgfTtcbn1cbmZ1bmN0aW9uIGVuY29kZVZpYVR1cmJvU3RyZWFtKGRhdGEyLCByZXF1ZXN0U2lnbmFsLCBzdHJlYW1UaW1lb3V0LCBzZXJ2ZXJNb2RlKSB7XG4gIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBsZXQgdGltZW91dElkID0gc2V0VGltZW91dChcbiAgICAoKSA9PiBjb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcihcIlNlcnZlciBUaW1lb3V0XCIpKSxcbiAgICB0eXBlb2Ygc3RyZWFtVGltZW91dCA9PT0gXCJudW1iZXJcIiA/IHN0cmVhbVRpbWVvdXQgOiA0OTUwXG4gICk7XG4gIHJlcXVlc3RTaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpKTtcbiAgcmV0dXJuIGVuY29kZShkYXRhMiwge1xuICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgcGx1Z2luczogW1xuICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgbGV0IHsgbmFtZSwgbWVzc2FnZSwgc3RhY2sgfSA9IHNlcnZlck1vZGUgPT09IFwicHJvZHVjdGlvblwiIC8qIFByb2R1Y3Rpb24gKi8gPyBzYW5pdGl6ZUVycm9yKHZhbHVlLCBzZXJ2ZXJNb2RlKSA6IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBbXCJTYW5pdGl6ZWRFcnJvclwiLCBuYW1lLCBtZXNzYWdlLCBzdGFja107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3JSZXNwb25zZUltcGwpIHtcbiAgICAgICAgICBsZXQgeyBkYXRhOiBkYXRhMywgc3RhdHVzLCBzdGF0dXNUZXh0IH0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gW1wiRXJyb3JSZXNwb25zZVwiLCBkYXRhMywgc3RhdHVzLCBzdGF0dXNUZXh0XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFNpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2wgaW4gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gW1wiU2luZ2xlRmV0Y2hSZWRpcmVjdFwiLCB2YWx1ZVtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIHBvc3RQbHVnaW5zOiBbXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJTaW5nbGVGZXRjaENsYXNzSW5zdGFuY2VcIixcbiAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModmFsdWUpKVxuICAgICAgICBdO1xuICAgICAgfSxcbiAgICAgICgpID0+IFtcIlNpbmdsZUZldGNoRmFsbGJhY2tcIl1cbiAgICBdXG4gIH0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2VydmVyLnRzXG5mdW5jdGlvbiBkZXJpdmUoYnVpbGQsIG1vZGUpIHtcbiAgbGV0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlcyhidWlsZC5yb3V0ZXMpO1xuICBsZXQgZGF0YVJvdXRlcyA9IGNyZWF0ZVN0YXRpY0hhbmRsZXJEYXRhUm91dGVzKGJ1aWxkLnJvdXRlcywgYnVpbGQuZnV0dXJlKTtcbiAgbGV0IHNlcnZlck1vZGUgPSBpc1NlcnZlck1vZGUobW9kZSkgPyBtb2RlIDogXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLztcbiAgbGV0IHN0YXRpY0hhbmRsZXIgPSBjcmVhdGVTdGF0aWNIYW5kbGVyKGRhdGFSb3V0ZXMsIHtcbiAgICBiYXNlbmFtZTogYnVpbGQuYmFzZW5hbWVcbiAgfSk7XG4gIGxldCBlcnJvckhhbmRsZXIgPSBidWlsZC5lbnRyeS5tb2R1bGUuaGFuZGxlRXJyb3IgfHwgKChlcnJvciwgeyByZXF1ZXN0IH0pID0+IHtcbiAgICBpZiAoc2VydmVyTW9kZSAhPT0gXCJ0ZXN0XCIgLyogVGVzdCAqLyAmJiAhcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIGlzIFwicHJpdmF0ZVwiIGZyb20gdXNlcnMgYnV0IGludGVuZGVkIGZvciBpbnRlcm5hbCB1c2VcbiAgICAgICAgaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLmVycm9yID8gZXJyb3IuZXJyb3IgOiBlcnJvclxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJvdXRlcyxcbiAgICBkYXRhUm91dGVzLFxuICAgIHNlcnZlck1vZGUsXG4gICAgc3RhdGljSGFuZGxlcixcbiAgICBlcnJvckhhbmRsZXJcbiAgfTtcbn1cbnZhciBjcmVhdGVSZXF1ZXN0SGFuZGxlciA9IChidWlsZCwgbW9kZSkgPT4ge1xuICBsZXQgX2J1aWxkO1xuICBsZXQgcm91dGVzO1xuICBsZXQgc2VydmVyTW9kZTtcbiAgbGV0IHN0YXRpY0hhbmRsZXI7XG4gIGxldCBlcnJvckhhbmRsZXI7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0LCBpbml0aWFsQ29udGV4dCkge1xuICAgIF9idWlsZCA9IHR5cGVvZiBidWlsZCA9PT0gXCJmdW5jdGlvblwiID8gYXdhaXQgYnVpbGQoKSA6IGJ1aWxkO1xuICAgIGxldCBsb2FkQ29udGV4dCA9IF9idWlsZC5mdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZSA/IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoXG4gICAgICBpbml0aWFsQ29udGV4dFxuICAgICkgOiBpbml0aWFsQ29udGV4dCB8fCB7fTtcbiAgICBpZiAodHlwZW9mIGJ1aWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGxldCBkZXJpdmVkID0gZGVyaXZlKF9idWlsZCwgbW9kZSk7XG4gICAgICByb3V0ZXMgPSBkZXJpdmVkLnJvdXRlcztcbiAgICAgIHNlcnZlck1vZGUgPSBkZXJpdmVkLnNlcnZlck1vZGU7XG4gICAgICBzdGF0aWNIYW5kbGVyID0gZGVyaXZlZC5zdGF0aWNIYW5kbGVyO1xuICAgICAgZXJyb3JIYW5kbGVyID0gZGVyaXZlZC5lcnJvckhhbmRsZXI7XG4gICAgfSBlbHNlIGlmICghcm91dGVzIHx8ICFzZXJ2ZXJNb2RlIHx8ICFzdGF0aWNIYW5kbGVyIHx8ICFlcnJvckhhbmRsZXIpIHtcbiAgICAgIGxldCBkZXJpdmVkID0gZGVyaXZlKF9idWlsZCwgbW9kZSk7XG4gICAgICByb3V0ZXMgPSBkZXJpdmVkLnJvdXRlcztcbiAgICAgIHNlcnZlck1vZGUgPSBkZXJpdmVkLnNlcnZlck1vZGU7XG4gICAgICBzdGF0aWNIYW5kbGVyID0gZGVyaXZlZC5zdGF0aWNIYW5kbGVyO1xuICAgICAgZXJyb3JIYW5kbGVyID0gZGVyaXZlZC5lcnJvckhhbmRsZXI7XG4gICAgfVxuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbm9ybWFsaXplZEJhc2VuYW1lID0gX2J1aWxkLmJhc2VuYW1lIHx8IFwiL1wiO1xuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IHVybC5wYXRobmFtZTtcbiAgICBpZiAoc3RyaXBCYXNlbmFtZShub3JtYWxpemVkUGF0aCwgbm9ybWFsaXplZEJhc2VuYW1lKSA9PT0gXCIvX3Jvb3QuZGF0YVwiKSB7XG4gICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRCYXNlbmFtZTtcbiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRQYXRoLmVuZHNXaXRoKFwiLmRhdGFcIikpIHtcbiAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZFBhdGgucmVwbGFjZSgvXFwuZGF0YSQvLCBcIlwiKTtcbiAgICB9XG4gICAgaWYgKHN0cmlwQmFzZW5hbWUobm9ybWFsaXplZFBhdGgsIG5vcm1hbGl6ZWRCYXNlbmFtZSkgIT09IFwiL1wiICYmIG5vcm1hbGl6ZWRQYXRoLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIGxldCBwYXJhbXMgPSB7fTtcbiAgICBsZXQgaGFuZGxlRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgIGlmIChtb2RlID09PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8pIHtcbiAgICAgICAgZ2V0RGV2U2VydmVySG9va3MoKT8ucHJvY2Vzc1JlcXVlc3RFcnJvcj8uKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGVycm9ySGFuZGxlcihlcnJvciwge1xuICAgICAgICBjb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGlmICghX2J1aWxkLnNzcikge1xuICAgICAgaWYgKF9idWlsZC5wcmVyZW5kZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiLCBcInllc1wiKTtcbiAgICAgIH0gZWxzZSBpZiAoIV9idWlsZC5wcmVyZW5kZXIuaW5jbHVkZXMobm9ybWFsaXplZFBhdGgpICYmICFfYnVpbGQucHJlcmVuZGVyLmluY2x1ZGVzKG5vcm1hbGl6ZWRQYXRoICsgXCIvXCIpKSB7XG4gICAgICAgIGlmICh1cmwucGF0aG5hbWUuZW5kc1dpdGgoXCIuZGF0YVwiKSkge1xuICAgICAgICAgIGVycm9ySGFuZGxlcihcbiAgICAgICAgICAgIG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICAgICAgNDA0LFxuICAgICAgICAgICAgICBcIk5vdCBGb3VuZFwiLFxuICAgICAgICAgICAgICBgUmVmdXNpbmcgdG8gU1NSIHRoZSBwYXRoIFxcYCR7bm9ybWFsaXplZFBhdGh9XFxgIGJlY2F1c2UgXFxgc3NyOmZhbHNlXFxgIGlzIHNldCBhbmQgdGhlIHBhdGggaXMgbm90IGluY2x1ZGVkIGluIHRoZSBcXGBwcmVyZW5kZXJcXGAgY29uZmlnLCBzbyBpbiBwcm9kdWN0aW9uIHRoZSBwYXRoIHdpbGwgYmUgYSA0MDQuYFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgcmVxdWVzdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIk5vdCBGb3VuZFwiLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IFwiTm90IEZvdW5kXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KFwiWC1SZWFjdC1Sb3V0ZXItU1BBLU1vZGVcIiwgXCJ5ZXNcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1hbmlmZXN0VXJsID0gYCR7bm9ybWFsaXplZEJhc2VuYW1lfS9fX21hbmlmZXN0YC5yZXBsYWNlKC9cXC8rL2csIFwiL1wiKTtcbiAgICBpZiAodXJsLnBhdGhuYW1lID09PSBtYW5pZmVzdFVybCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGhhbmRsZU1hbmlmZXN0UmVxdWVzdChfYnVpbGQsIHJvdXRlcywgdXJsKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJVbmtub3duIFNlcnZlciBFcnJvclwiLCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoU2VydmVyUm91dGVzKHJvdXRlcywgdXJsLnBhdGhuYW1lLCBfYnVpbGQuYmFzZW5hbWUpO1xuICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgT2JqZWN0LmFzc2lnbihwYXJhbXMsIG1hdGNoZXNbMF0ucGFyYW1zKTtcbiAgICB9XG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIGlmICh1cmwucGF0aG5hbWUuZW5kc1dpdGgoXCIuZGF0YVwiKSkge1xuICAgICAgbGV0IGhhbmRsZXJVcmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgIGhhbmRsZXJVcmwucGF0aG5hbWUgPSBub3JtYWxpemVkUGF0aDtcbiAgICAgIGxldCBzaW5nbGVGZXRjaE1hdGNoZXMgPSBtYXRjaFNlcnZlclJvdXRlcyhcbiAgICAgICAgcm91dGVzLFxuICAgICAgICBoYW5kbGVyVXJsLnBhdGhuYW1lLFxuICAgICAgICBfYnVpbGQuYmFzZW5hbWVcbiAgICAgICk7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVNpbmdsZUZldGNoUmVxdWVzdChcbiAgICAgICAgc2VydmVyTW9kZSxcbiAgICAgICAgX2J1aWxkLFxuICAgICAgICBzdGF0aWNIYW5kbGVyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBoYW5kbGVyVXJsLFxuICAgICAgICBsb2FkQ29udGV4dCxcbiAgICAgICAgaGFuZGxlRXJyb3JcbiAgICAgICk7XG4gICAgICBpZiAoX2J1aWxkLmVudHJ5Lm1vZHVsZS5oYW5kbGVEYXRhUmVxdWVzdCkge1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IF9idWlsZC5lbnRyeS5tb2R1bGUuaGFuZGxlRGF0YVJlcXVlc3QocmVzcG9uc2UsIHtcbiAgICAgICAgICBjb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgICAgICBwYXJhbXM6IHNpbmdsZUZldGNoTWF0Y2hlcyA/IHNpbmdsZUZldGNoTWF0Y2hlc1swXS5wYXJhbXMgOiB7fSxcbiAgICAgICAgICByZXF1ZXN0XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIF9idWlsZC5iYXNlbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgIFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogcmVzdWx0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgIGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwidGV4dC94LXNjcmlwdFwiKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgICAgZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICAgICAgICAgIF9idWlsZC5lbnRyeS5tb2R1bGUuc3RyZWFtVGltZW91dCxcbiAgICAgICAgICAgICAgc2VydmVyTW9kZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTLFxuICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXJlcXVlc3QuaGVhZGVycy5oYXMoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiKSAmJiBtYXRjaGVzICYmIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5tb2R1bGUuZGVmYXVsdCA9PSBudWxsICYmIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5tb2R1bGUuRXJyb3JCb3VuZGFyeSA9PSBudWxsKSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVJlc291cmNlUmVxdWVzdChcbiAgICAgICAgc2VydmVyTW9kZSxcbiAgICAgICAgX2J1aWxkLFxuICAgICAgICBzdGF0aWNIYW5kbGVyLFxuICAgICAgICBtYXRjaGVzLnNsaWNlKC0xKVswXS5yb3V0ZS5pZCxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9hZENvbnRleHQsXG4gICAgICAgIGhhbmRsZUVycm9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgeyBwYXRobmFtZSB9ID0gdXJsO1xuICAgICAgbGV0IGNyaXRpY2FsQ3NzID0gdm9pZCAwO1xuICAgICAgaWYgKF9idWlsZC5nZXRDcml0aWNhbENzcykge1xuICAgICAgICBjcml0aWNhbENzcyA9IGF3YWl0IF9idWlsZC5nZXRDcml0aWNhbENzcyh7IHBhdGhuYW1lIH0pO1xuICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8gJiYgZ2V0RGV2U2VydmVySG9va3MoKT8uZ2V0Q3JpdGljYWxDc3MpIHtcbiAgICAgICAgY3JpdGljYWxDc3MgPSBhd2FpdCBnZXREZXZTZXJ2ZXJIb29rcygpPy5nZXRDcml0aWNhbENzcz8uKHBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0KFxuICAgICAgICBzZXJ2ZXJNb2RlLFxuICAgICAgICBfYnVpbGQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGxvYWRDb250ZXh0LFxuICAgICAgICBoYW5kbGVFcnJvcixcbiAgICAgICAgY3JpdGljYWxDc3NcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVNYW5pZmVzdFJlcXVlc3QoYnVpbGQsIHJvdXRlcywgdXJsKSB7XG4gIGlmIChidWlsZC5hc3NldHMudmVyc2lvbiAhPT0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJ2ZXJzaW9uXCIpKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICBzdGF0dXM6IDIwNCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiOiBcInRydWVcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxldCBwYXRjaGVzID0ge307XG4gIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcyhcInBcIikpIHtcbiAgICBmb3IgKGxldCBwYXRoIG9mIHVybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKFwicFwiKSkge1xuICAgICAgbGV0IG1hdGNoZXMgPSBtYXRjaFNlcnZlclJvdXRlcyhyb3V0ZXMsIHBhdGgsIGJ1aWxkLmJhc2VuYW1lKTtcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBsZXQgcm91dGVJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgICAgICAgIGxldCByb3V0ZSA9IGJ1aWxkLmFzc2V0cy5yb3V0ZXNbcm91dGVJZF07XG4gICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICBwYXRjaGVzW3JvdXRlSWRdID0gcm91dGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHBhdGNoZXMsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwicHVibGljLCBtYXgtYWdlPTMxNTM2MDAwLCBpbW11dGFibGVcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXcgUmVzcG9uc2UoXCJJbnZhbGlkIFJlcXVlc3RcIiwgeyBzdGF0dXM6IDQwMCB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNpbmdsZUZldGNoUmVxdWVzdChzZXJ2ZXJNb2RlLCBidWlsZCwgc3RhdGljSGFuZGxlciwgcmVxdWVzdCwgaGFuZGxlclVybCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIGxldCByZXNwb25zZSA9IHJlcXVlc3QubWV0aG9kICE9PSBcIkdFVFwiID8gYXdhaXQgc2luZ2xlRmV0Y2hBY3Rpb24oXG4gICAgYnVpbGQsXG4gICAgc2VydmVyTW9kZSxcbiAgICBzdGF0aWNIYW5kbGVyLFxuICAgIHJlcXVlc3QsXG4gICAgaGFuZGxlclVybCxcbiAgICBsb2FkQ29udGV4dCxcbiAgICBoYW5kbGVFcnJvclxuICApIDogYXdhaXQgc2luZ2xlRmV0Y2hMb2FkZXJzKFxuICAgIGJ1aWxkLFxuICAgIHNlcnZlck1vZGUsXG4gICAgc3RhdGljSGFuZGxlcixcbiAgICByZXF1ZXN0LFxuICAgIGhhbmRsZXJVcmwsXG4gICAgbG9hZENvbnRleHQsXG4gICAgaGFuZGxlRXJyb3JcbiAgKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlRG9jdW1lbnRSZXF1ZXN0KHNlcnZlck1vZGUsIGJ1aWxkLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IsIGNyaXRpY2FsQ3NzKSB7XG4gIGxldCBpc1NwYU1vZGUgPSByZXF1ZXN0LmhlYWRlcnMuaGFzKFwiWC1SZWFjdC1Sb3V0ZXItU1BBLU1vZGVcIik7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc3RhdGljSGFuZGxlci5xdWVyeShyZXF1ZXN0LCB7XG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiBidWlsZC5mdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZSA/IChjdHgpID0+IHJlbmRlckh0bWwoY3R4LCBpc1NwYU1vZGUpIDogdm9pZCAwXG4gICAgfSk7XG4gICAgcmV0dXJuIGlzUmVzcG9uc2UocmVzcG9uc2UpID8gcmVzcG9uc2UgOiByZW5kZXJIdG1sKHJlc3BvbnNlLCBpc1NwYU1vZGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcmVuZGVySHRtbChjb250ZXh0LCBpc1NwYU1vZGUyKSB7XG4gICAgaWYgKGlzUmVzcG9uc2UoY29udGV4dCkpIHtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgICBsZXQgaGVhZGVycyA9IGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCk7XG4gICAgaWYgKE5PX0JPRFlfU1RBVFVTX0NPREVTLmhhcyhjb250ZXh0LnN0YXR1c0NvZGUpKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiBjb250ZXh0LnN0YXR1c0NvZGUsIGhlYWRlcnMgfSk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycykuZm9yRWFjaCgoZXJyKSA9PiB7XG4gICAgICAgIGlmICghaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyKSB8fCBlcnIuZXJyb3IpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnRleHQuZXJyb3JzID0gc2FuaXRpemVFcnJvcnMoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpO1xuICAgIH1cbiAgICBsZXQgc3RhdGUgPSB7XG4gICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9yczIoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpXG4gICAgfTtcbiAgICBsZXQgZW50cnlDb250ZXh0ID0ge1xuICAgICAgbWFuaWZlc3Q6IGJ1aWxkLmFzc2V0cyxcbiAgICAgIHJvdXRlTW9kdWxlczogY3JlYXRlRW50cnlSb3V0ZU1vZHVsZXMoYnVpbGQucm91dGVzKSxcbiAgICAgIHN0YXRpY0hhbmRsZXJDb250ZXh0OiBjb250ZXh0LFxuICAgICAgY3JpdGljYWxDc3MsXG4gICAgICBzZXJ2ZXJIYW5kb2ZmU3RyaW5nOiBjcmVhdGVTZXJ2ZXJIYW5kb2ZmU3RyaW5nKHtcbiAgICAgICAgYmFzZW5hbWU6IGJ1aWxkLmJhc2VuYW1lLFxuICAgICAgICBjcml0aWNhbENzcyxcbiAgICAgICAgZnV0dXJlOiBidWlsZC5mdXR1cmUsXG4gICAgICAgIHNzcjogYnVpbGQuc3NyLFxuICAgICAgICBpc1NwYU1vZGU6IGlzU3BhTW9kZTJcbiAgICAgIH0pLFxuICAgICAgc2VydmVySGFuZG9mZlN0cmVhbTogZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICAgIHNlcnZlck1vZGVcbiAgICAgICksXG4gICAgICByZW5kZXJNZXRhOiB7fSxcbiAgICAgIGZ1dHVyZTogYnVpbGQuZnV0dXJlLFxuICAgICAgc3NyOiBidWlsZC5zc3IsXG4gICAgICBpc1NwYU1vZGU6IGlzU3BhTW9kZTIsXG4gICAgICBzZXJpYWxpemVFcnJvcjogKGVycikgPT4gc2VyaWFsaXplRXJyb3IoZXJyLCBzZXJ2ZXJNb2RlKVxuICAgIH07XG4gICAgbGV0IGhhbmRsZURvY3VtZW50UmVxdWVzdEZ1bmN0aW9uID0gYnVpbGQuZW50cnkubW9kdWxlLmRlZmF1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVEb2N1bWVudFJlcXVlc3RGdW5jdGlvbihcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgY29udGV4dC5zdGF0dXNDb2RlLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBlbnRyeUNvbnRleHQsXG4gICAgICAgIGxvYWRDb250ZXh0XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICBsZXQgZXJyb3JGb3JTZWNvbmRSZW5kZXIgPSBlcnJvcjtcbiAgICAgIGlmIChpc1Jlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBkYXRhMiA9IGF3YWl0IHVud3JhcFJlc3BvbnNlKGVycm9yKTtcbiAgICAgICAgICBlcnJvckZvclNlY29uZFJlbmRlciA9IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICAgIGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgIGVycm9yLnN0YXR1c1RleHQsXG4gICAgICAgICAgICBkYXRhMlxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGV4dCA9IGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3IoXG4gICAgICAgIHN0YXRpY0hhbmRsZXIuZGF0YVJvdXRlcyxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZXJyb3JGb3JTZWNvbmRSZW5kZXJcbiAgICAgICk7XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgICBsZXQgc3RhdGUyID0ge1xuICAgICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgICAgZXJyb3JzOiBzZXJpYWxpemVFcnJvcnMyKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKVxuICAgICAgfTtcbiAgICAgIGVudHJ5Q29udGV4dCA9IHtcbiAgICAgICAgLi4uZW50cnlDb250ZXh0LFxuICAgICAgICBzdGF0aWNIYW5kbGVyQ29udGV4dDogY29udGV4dCxcbiAgICAgICAgc2VydmVySGFuZG9mZlN0cmluZzogY3JlYXRlU2VydmVySGFuZG9mZlN0cmluZyh7XG4gICAgICAgICAgYmFzZW5hbWU6IGJ1aWxkLmJhc2VuYW1lLFxuICAgICAgICAgIGZ1dHVyZTogYnVpbGQuZnV0dXJlLFxuICAgICAgICAgIHNzcjogYnVpbGQuc3NyLFxuICAgICAgICAgIGlzU3BhTW9kZTogaXNTcGFNb2RlMlxuICAgICAgICB9KSxcbiAgICAgICAgc2VydmVySGFuZG9mZlN0cmVhbTogZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICAgICAgc3RhdGUyLFxuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICAgIGJ1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgICAgIHNlcnZlck1vZGVcbiAgICAgICAgKSxcbiAgICAgICAgcmVuZGVyTWV0YToge31cbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0RnVuY3Rpb24oXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBlbnRyeUNvbnRleHQsXG4gICAgICAgICAgbG9hZENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvcjIpO1xuICAgICAgICByZXR1cm4gcmV0dXJuTGFzdFJlc29ydEVycm9yUmVzcG9uc2UoZXJyb3IyLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlc291cmNlUmVxdWVzdChzZXJ2ZXJNb2RlLCBidWlsZCwgc3RhdGljSGFuZGxlciwgcm91dGVJZCwgcmVxdWVzdCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc3RhdGljSGFuZGxlci5xdWVyeVJvdXRlKHJlcXVlc3QsIHtcbiAgICAgIHJvdXRlSWQsXG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiBidWlsZC5mdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZSA/IChjdHgpID0+IGN0eCA6IHZvaWQgMFxuICAgIH0pO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc1Jlc3BvbnNlKGVycm9yKSkge1xuICAgICAgZXJyb3IuaGVhZGVycy5zZXQoXCJYLVJlbWl4LUNhdGNoXCIsIFwieWVzXCIpO1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2VUb0pzb24oZXJyb3IsIHNlcnZlck1vZGUpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSBcIkV4cGVjdGVkIGEgcmVzcG9uc2UgZnJvbSBxdWVyeVJvdXRlXCIpIHtcbiAgICAgIGxldCBuZXdFcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeHBlY3RlZCBhIFJlc3BvbnNlIHRvIGJlIHJldHVybmVkIGZyb20gcmVzb3VyY2Ugcm91dGUgaGFuZGxlclwiXG4gICAgICApO1xuICAgICAgaGFuZGxlRXJyb3IobmV3RXJyb3IpO1xuICAgICAgcmV0dXJuIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKG5ld0Vycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShlcnJvciwgc2VydmVyTW9kZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVycm9yUmVzcG9uc2VUb0pzb24oZXJyb3JSZXNwb25zZSwgc2VydmVyTW9kZSkge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbihcbiAgICBzZXJpYWxpemVFcnJvcihcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVGhpcyBpcyBcInByaXZhdGVcIiBmcm9tIHVzZXJzIGJ1dCBpbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlXG4gICAgICBlcnJvclJlc3BvbnNlLmVycm9yIHx8IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgU2VydmVyIEVycm9yXCIpLFxuICAgICAgc2VydmVyTW9kZVxuICAgICksXG4gICAge1xuICAgICAgc3RhdHVzOiBlcnJvclJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJYLVJlbWl4LUVycm9yXCI6IFwieWVzXCJcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShlcnJvciwgc2VydmVyTW9kZSkge1xuICBsZXQgbWVzc2FnZSA9IFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIjtcbiAgaWYgKHNlcnZlck1vZGUgIT09IFwicHJvZHVjdGlvblwiIC8qIFByb2R1Y3Rpb24gKi8pIHtcbiAgICBtZXNzYWdlICs9IGBcblxuJHtTdHJpbmcoZXJyb3IpfWA7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShtZXNzYWdlLCB7XG4gICAgc3RhdHVzOiA1MDAsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluXCJcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gdW53cmFwUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgbGV0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIik7XG4gIHJldHVybiBjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSA/IHJlc3BvbnNlLmJvZHkgPT0gbnVsbCA/IG51bGwgOiByZXNwb25zZS5qc29uKCkgOiByZXNwb25zZS50ZXh0KCk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXNzaW9ucy50c1xuZnVuY3Rpb24gZmxhc2gobmFtZSkge1xuICByZXR1cm4gYF9fZmxhc2hfJHtuYW1lfV9fYDtcbn1cbnZhciBjcmVhdGVTZXNzaW9uID0gKGluaXRpYWxEYXRhID0ge30sIGlkID0gXCJcIikgPT4ge1xuICBsZXQgbWFwID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhpbml0aWFsRGF0YSkpO1xuICByZXR1cm4ge1xuICAgIGdldCBpZCgpIHtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9LFxuICAgIGdldCBkYXRhKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhtYXApO1xuICAgIH0sXG4gICAgaGFzKG5hbWUpIHtcbiAgICAgIHJldHVybiBtYXAuaGFzKG5hbWUpIHx8IG1hcC5oYXMoZmxhc2gobmFtZSkpO1xuICAgIH0sXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgIGlmIChtYXAuaGFzKG5hbWUpKSByZXR1cm4gbWFwLmdldChuYW1lKTtcbiAgICAgIGxldCBmbGFzaE5hbWUgPSBmbGFzaChuYW1lKTtcbiAgICAgIGlmIChtYXAuaGFzKGZsYXNoTmFtZSkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbWFwLmdldChmbGFzaE5hbWUpO1xuICAgICAgICBtYXAuZGVsZXRlKGZsYXNoTmFtZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSxcbiAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgIG1hcC5zZXQobmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZmxhc2gobmFtZSwgdmFsdWUpIHtcbiAgICAgIG1hcC5zZXQoZmxhc2gobmFtZSksIHZhbHVlKTtcbiAgICB9LFxuICAgIHVuc2V0KG5hbWUpIHtcbiAgICAgIG1hcC5kZWxldGUobmFtZSk7XG4gICAgfVxuICB9O1xufTtcbnZhciBpc1Nlc3Npb24gPSAob2JqZWN0KSA9PiB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LmlkID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuZGF0YSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygb2JqZWN0LmhhcyA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3QuZ2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC5zZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LmZsYXNoID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC51bnNldCA9PT0gXCJmdW5jdGlvblwiO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVNlc3Npb25TdG9yYWdlKHtcbiAgY29va2llOiBjb29raWVBcmcsXG4gIGNyZWF0ZURhdGEsXG4gIHJlYWREYXRhLFxuICB1cGRhdGVEYXRhLFxuICBkZWxldGVEYXRhXG59KSB7XG4gIGxldCBjb29raWUgPSBpc0Nvb2tpZShjb29raWVBcmcpID8gY29va2llQXJnIDogY3JlYXRlQ29va2llKGNvb2tpZUFyZz8ubmFtZSB8fCBcIl9fc2Vzc2lvblwiLCBjb29raWVBcmcpO1xuICB3YXJuT25jZUFib3V0U2lnbmluZ1Nlc3Npb25Db29raWUoY29va2llKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBnZXRTZXNzaW9uKGNvb2tpZUhlYWRlciwgb3B0aW9ucykge1xuICAgICAgbGV0IGlkID0gY29va2llSGVhZGVyICYmIGF3YWl0IGNvb2tpZS5wYXJzZShjb29raWVIZWFkZXIsIG9wdGlvbnMpO1xuICAgICAgbGV0IGRhdGEyID0gaWQgJiYgYXdhaXQgcmVhZERhdGEoaWQpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVNlc3Npb24oZGF0YTIgfHwge30sIGlkIHx8IFwiXCIpO1xuICAgIH0sXG4gICAgYXN5bmMgY29tbWl0U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICBsZXQgeyBpZCwgZGF0YTogZGF0YTIgfSA9IHNlc3Npb247XG4gICAgICBsZXQgZXhwaXJlcyA9IG9wdGlvbnM/Lm1heEFnZSAhPSBudWxsID8gbmV3IERhdGUoRGF0ZS5ub3coKSArIG9wdGlvbnMubWF4QWdlICogMWUzKSA6IG9wdGlvbnM/LmV4cGlyZXMgIT0gbnVsbCA/IG9wdGlvbnMuZXhwaXJlcyA6IGNvb2tpZS5leHBpcmVzO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZURhdGEoaWQsIGRhdGEyLCBleHBpcmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gYXdhaXQgY3JlYXRlRGF0YShkYXRhMiwgZXhwaXJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29va2llLnNlcmlhbGl6ZShpZCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBhc3luYyBkZXN0cm95U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICBhd2FpdCBkZWxldGVEYXRhKHNlc3Npb24uaWQpO1xuICAgICAgcmV0dXJuIGNvb2tpZS5zZXJpYWxpemUoXCJcIiwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtYXhBZ2U6IHZvaWQgMCxcbiAgICAgICAgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB3YXJuT25jZUFib3V0U2lnbmluZ1Nlc3Npb25Db29raWUoY29va2llKSB7XG4gIHdhcm5PbmNlKFxuICAgIGNvb2tpZS5pc1NpZ25lZCxcbiAgICBgVGhlIFwiJHtjb29raWUubmFtZX1cIiBjb29raWUgaXMgbm90IHNpZ25lZCwgYnV0IHNlc3Npb24gY29va2llcyBzaG91bGQgYmUgc2lnbmVkIHRvIHByZXZlbnQgdGFtcGVyaW5nIG9uIHRoZSBjbGllbnQgYmVmb3JlIHRoZXkgYXJlIHNlbnQgYmFjayB0byB0aGUgc2VydmVyLiBTZWUgaHR0cHM6Ly9yZW1peC5ydW4vdXRpbHMvY29va2llcyNzaWduaW5nLWNvb2tpZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICApO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2Vzc2lvbnMvY29va2llU3RvcmFnZS50c1xuZnVuY3Rpb24gY3JlYXRlQ29va2llU2Vzc2lvblN0b3JhZ2UoeyBjb29raWU6IGNvb2tpZUFyZyB9ID0ge30pIHtcbiAgbGV0IGNvb2tpZSA9IGlzQ29va2llKGNvb2tpZUFyZykgPyBjb29raWVBcmcgOiBjcmVhdGVDb29raWUoY29va2llQXJnPy5uYW1lIHx8IFwiX19zZXNzaW9uXCIsIGNvb2tpZUFyZyk7XG4gIHdhcm5PbmNlQWJvdXRTaWduaW5nU2Vzc2lvbkNvb2tpZShjb29raWUpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIGdldFNlc3Npb24oY29va2llSGVhZGVyLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU2Vzc2lvbihcbiAgICAgICAgY29va2llSGVhZGVyICYmIGF3YWl0IGNvb2tpZS5wYXJzZShjb29raWVIZWFkZXIsIG9wdGlvbnMpIHx8IHt9XG4gICAgICApO1xuICAgIH0sXG4gICAgYXN5bmMgY29tbWl0U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICBsZXQgc2VyaWFsaXplZENvb2tpZSA9IGF3YWl0IGNvb2tpZS5zZXJpYWxpemUoc2Vzc2lvbi5kYXRhLCBvcHRpb25zKTtcbiAgICAgIGlmIChzZXJpYWxpemVkQ29va2llLmxlbmd0aCA+IDQwOTYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQ29va2llIGxlbmd0aCB3aWxsIGV4Y2VlZCBicm93c2VyIG1heGltdW0uIExlbmd0aDogXCIgKyBzZXJpYWxpemVkQ29va2llLmxlbmd0aFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRDb29raWU7XG4gICAgfSxcbiAgICBhc3luYyBkZXN0cm95U2Vzc2lvbihfc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGNvb2tpZS5zZXJpYWxpemUoXCJcIiwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtYXhBZ2U6IHZvaWQgMCxcbiAgICAgICAgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXNzaW9ucy9tZW1vcnlTdG9yYWdlLnRzXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlTZXNzaW9uU3RvcmFnZSh7IGNvb2tpZSB9ID0ge30pIHtcbiAgbGV0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHJldHVybiBjcmVhdGVTZXNzaW9uU3RvcmFnZSh7XG4gICAgY29va2llLFxuICAgIGFzeW5jIGNyZWF0ZURhdGEoZGF0YTIsIGV4cGlyZXMpIHtcbiAgICAgIGxldCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMCk7XG4gICAgICBtYXAuc2V0KGlkLCB7IGRhdGE6IGRhdGEyLCBleHBpcmVzIH0pO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgYXN5bmMgcmVhZERhdGEoaWQpIHtcbiAgICAgIGlmIChtYXAuaGFzKGlkKSkge1xuICAgICAgICBsZXQgeyBkYXRhOiBkYXRhMiwgZXhwaXJlcyB9ID0gbWFwLmdldChpZCk7XG4gICAgICAgIGlmICghZXhwaXJlcyB8fCBleHBpcmVzID4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cGlyZXMpIG1hcC5kZWxldGUoaWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBhc3luYyB1cGRhdGVEYXRhKGlkLCBkYXRhMiwgZXhwaXJlcykge1xuICAgICAgbWFwLnNldChpZCwgeyBkYXRhOiBkYXRhMiwgZXhwaXJlcyB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGRlbGV0ZURhdGEoaWQpIHtcbiAgICAgIG1hcC5kZWxldGUoaWQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGxpYi9ocmVmLnRzXG5mdW5jdGlvbiBocmVmKHBhdGgsIC4uLmFyZ3MpIHtcbiAgbGV0IHBhcmFtcyA9IGFyZ3NbMF07XG4gIHJldHVybiBwYXRoLnNwbGl0KFwiL1wiKS5tYXAoKHNlZ21lbnQpID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IHNlZ21lbnQubWF0Y2goL146KFtcXHctXSspKFxcPyk/Lyk7XG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuIHNlZ21lbnQ7XG4gICAgY29uc3QgcGFyYW0gPSBtYXRjaFsxXTtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcmFtcyA/IHBhcmFtc1twYXJhbV0gOiB2b2lkIDA7XG4gICAgY29uc3QgaXNSZXF1aXJlZCA9IG1hdGNoWzJdID09PSB2b2lkIDA7XG4gICAgaWYgKGlzUmVxdWlyZWQgJiYgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBQYXRoICcke3BhdGh9JyByZXF1aXJlcyBwYXJhbSAnJHtwYXJhbX0nIGJ1dCBpdCB3YXMgbm90IHByb3ZpZGVkYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KS5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQgIT09IHZvaWQgMCkuam9pbihcIi9cIik7XG59XG5cbi8vIGxpYi9kb20vc3NyL2Vycm9ycy50c1xuZnVuY3Rpb24gZGVzZXJpYWxpemVFcnJvcnMyKGVycm9ycykge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIlJvdXRlRXJyb3JSZXNwb25zZVwiKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgIHZhbC5zdGF0dXMsXG4gICAgICAgIHZhbC5zdGF0dXNUZXh0LFxuICAgICAgICB2YWwuZGF0YSxcbiAgICAgICAgdmFsLmludGVybmFsID09PSB0cnVlXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiRXJyb3JcIikge1xuICAgICAgaWYgKHZhbC5fX3N1YlR5cGUpIHtcbiAgICAgICAgbGV0IEVycm9yQ29uc3RydWN0b3IgPSB3aW5kb3dbdmFsLl9fc3ViVHlwZV07XG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3JDb25zdHJ1Y3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvckNvbnN0cnVjdG9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVycm9yLnN0YWNrID0gdmFsLnN0YWNrO1xuICAgICAgICAgICAgc2VyaWFsaXplZFtrZXldID0gZXJyb3I7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlcmlhbGl6ZWRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcih2YWwubWVzc2FnZSk7XG4gICAgICAgIGVycm9yLnN0YWNrID0gdmFsLnN0YWNrO1xuICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cblxuZXhwb3J0IHtcbiAgQWN0aW9uLFxuICBjcmVhdGVCcm93c2VySGlzdG9yeSxcbiAgaW52YXJpYW50LFxuICBjcmVhdGVQYXRoLFxuICBwYXJzZVBhdGgsXG4gIHVuc3RhYmxlX2NyZWF0ZUNvbnRleHQsXG4gIHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcixcbiAgbWF0Y2hSb3V0ZXMsXG4gIGdlbmVyYXRlUGF0aCxcbiAgbWF0Y2hQYXRoLFxuICByZXNvbHZlUGF0aCxcbiAgZGF0YSxcbiAgcmVkaXJlY3QsXG4gIHJlZGlyZWN0RG9jdW1lbnQsXG4gIHJlcGxhY2UsXG4gIEVycm9yUmVzcG9uc2VJbXBsLFxuICBpc1JvdXRlRXJyb3JSZXNwb25zZSxcbiAgSURMRV9OQVZJR0FUSU9OLFxuICBJRExFX0ZFVENIRVIsXG4gIElETEVfQkxPQ0tFUixcbiAgY3JlYXRlUm91dGVyLFxuICBEYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgVmlld1RyYW5zaXRpb25Db250ZXh0LFxuICBGZXRjaGVyc0NvbnRleHQsXG4gIE5hdmlnYXRpb25Db250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCxcbiAgdXNlSHJlZixcbiAgdXNlSW5Sb3V0ZXJDb250ZXh0LFxuICB1c2VMb2NhdGlvbixcbiAgdXNlTmF2aWdhdGlvblR5cGUsXG4gIHVzZU1hdGNoLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlT3V0bGV0Q29udGV4dCxcbiAgdXNlT3V0bGV0LFxuICB1c2VQYXJhbXMsXG4gIHVzZVJlc29sdmVkUGF0aCxcbiAgdXNlUm91dGVzLFxuICB1c2VOYXZpZ2F0aW9uLFxuICB1c2VSZXZhbGlkYXRvcixcbiAgdXNlTWF0Y2hlcyxcbiAgdXNlTG9hZGVyRGF0YSxcbiAgdXNlUm91dGVMb2FkZXJEYXRhLFxuICB1c2VBY3Rpb25EYXRhLFxuICB1c2VSb3V0ZUVycm9yLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VBc3luY0Vycm9yLFxuICB1c2VCbG9ja2VyLFxuICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gIGNyZWF0ZU1lbW9yeVJvdXRlcixcbiAgUm91dGVyUHJvdmlkZXIsXG4gIE1lbW9yeVJvdXRlcixcbiAgTmF2aWdhdGUsXG4gIE91dGxldCxcbiAgUm91dGUsXG4gIFJvdXRlcixcbiAgUm91dGVzLFxuICBBd2FpdCxcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMsXG4gIHJlbmRlck1hdGNoZXMsXG4gIGNyZWF0ZVNlYXJjaFBhcmFtcyxcbiAgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCxcbiAgZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3ksXG4gIGRlY29kZVZpYVR1cmJvU3RyZWFtLFxuICBSZW1peEVycm9yQm91bmRhcnksXG4gIGNyZWF0ZUNsaWVudFJvdXRlc1dpdGhITVJSZXZhbGlkYXRpb25PcHRPdXQsXG4gIGNyZWF0ZUNsaWVudFJvdXRlcyxcbiAgc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyLFxuICBnZXRQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uLFxuICB1c2VGb2dPRldhckRpc2NvdmVyeSxcbiAgRnJhbWV3b3JrQ29udGV4dCxcbiAgTGlua3MsXG4gIFByZWZldGNoUGFnZUxpbmtzLFxuICBNZXRhLFxuICBTY3JpcHRzLFxuICBjcmVhdGVCcm93c2VyUm91dGVyLFxuICBjcmVhdGVIYXNoUm91dGVyLFxuICBCcm93c2VyUm91dGVyLFxuICBIYXNoUm91dGVyLFxuICBIaXN0b3J5Um91dGVyLFxuICBMaW5rLFxuICBOYXZMaW5rLFxuICBGb3JtLFxuICBTY3JvbGxSZXN0b3JhdGlvbixcbiAgdXNlTGlua0NsaWNrSGFuZGxlcixcbiAgdXNlU2VhcmNoUGFyYW1zLFxuICB1c2VTdWJtaXQsXG4gIHVzZUZvcm1BY3Rpb24sXG4gIHVzZUZldGNoZXIsXG4gIHVzZUZldGNoZXJzLFxuICB1c2VTY3JvbGxSZXN0b3JhdGlvbixcbiAgdXNlQmVmb3JlVW5sb2FkLFxuICB1c2VQcm9tcHQsXG4gIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUsXG4gIFN0YXRpY1JvdXRlcixcbiAgU3RhdGljUm91dGVyUHJvdmlkZXIsXG4gIGNyZWF0ZVN0YXRpY0hhbmRsZXIyIGFzIGNyZWF0ZVN0YXRpY0hhbmRsZXIsXG4gIGNyZWF0ZVN0YXRpY1JvdXRlcixcbiAgU2VydmVyUm91dGVyLFxuICBjcmVhdGVSb3V0ZXNTdHViLFxuICBjcmVhdGVDb29raWUsXG4gIGlzQ29va2llLFxuICBTZXJ2ZXJNb2RlLFxuICBzZXREZXZTZXJ2ZXJIb29rcyxcbiAgY3JlYXRlUmVxdWVzdEhhbmRsZXIsXG4gIGNyZWF0ZVNlc3Npb24sXG4gIGlzU2Vzc2lvbixcbiAgY3JlYXRlU2Vzc2lvblN0b3JhZ2UsXG4gIGNyZWF0ZUNvb2tpZVNlc3Npb25TdG9yYWdlLFxuICBjcmVhdGVNZW1vcnlTZXNzaW9uU3RvcmFnZSxcbiAgaHJlZixcbiAgZGVzZXJpYWxpemVFcnJvcnMyIGFzIGRlc2VyaWFsaXplRXJyb3JzXG59O1xuIiwKICAgICIvLyBzcmMvaW5kZXgudHNcbnZhciB1cGRhdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xudmFyIHJhZiA9IChmbikgPT4gc2NoZWR1bGUoZm4sIHVwZGF0ZVF1ZXVlKTtcbnZhciB3cml0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5yYWYud3JpdGUgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCB3cml0ZVF1ZXVlKTtcbnZhciBvblN0YXJ0UXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi5vblN0YXJ0ID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgb25TdGFydFF1ZXVlKTtcbnZhciBvbkZyYW1lUXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi5vbkZyYW1lID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgb25GcmFtZVF1ZXVlKTtcbnZhciBvbkZpbmlzaFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5yYWYub25GaW5pc2ggPSAoZm4pID0+IHNjaGVkdWxlKGZuLCBvbkZpbmlzaFF1ZXVlKTtcbnZhciB0aW1lb3V0cyA9IFtdO1xucmFmLnNldFRpbWVvdXQgPSAoaGFuZGxlciwgbXMpID0+IHtcbiAgY29uc3QgdGltZSA9IHJhZi5ub3coKSArIG1zO1xuICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgaSA9IHRpbWVvdXRzLmZpbmRJbmRleCgodCkgPT4gdC5jYW5jZWwgPT0gY2FuY2VsKTtcbiAgICBpZiAofmkpXG4gICAgICB0aW1lb3V0cy5zcGxpY2UoaSwgMSk7XG4gICAgcGVuZGluZ0NvdW50IC09IH5pID8gMSA6IDA7XG4gIH07XG4gIGNvbnN0IHRpbWVvdXQgPSB7IHRpbWUsIGhhbmRsZXIsIGNhbmNlbCB9O1xuICB0aW1lb3V0cy5zcGxpY2UoZmluZFRpbWVvdXQodGltZSksIDAsIHRpbWVvdXQpO1xuICBwZW5kaW5nQ291bnQgKz0gMTtcbiAgc3RhcnQoKTtcbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xudmFyIGZpbmRUaW1lb3V0ID0gKHRpbWUpID0+IH4ofnRpbWVvdXRzLmZpbmRJbmRleCgodCkgPT4gdC50aW1lID4gdGltZSkgfHwgfnRpbWVvdXRzLmxlbmd0aCk7XG5yYWYuY2FuY2VsID0gKGZuKSA9PiB7XG4gIG9uU3RhcnRRdWV1ZS5kZWxldGUoZm4pO1xuICBvbkZyYW1lUXVldWUuZGVsZXRlKGZuKTtcbiAgb25GaW5pc2hRdWV1ZS5kZWxldGUoZm4pO1xuICB1cGRhdGVRdWV1ZS5kZWxldGUoZm4pO1xuICB3cml0ZVF1ZXVlLmRlbGV0ZShmbik7XG59O1xucmFmLnN5bmMgPSAoZm4pID0+IHtcbiAgc3luYyA9IHRydWU7XG4gIHJhZi5iYXRjaGVkVXBkYXRlcyhmbik7XG4gIHN5bmMgPSBmYWxzZTtcbn07XG5yYWYudGhyb3R0bGUgPSAoZm4pID0+IHtcbiAgbGV0IGxhc3RBcmdzO1xuICBmdW5jdGlvbiBxdWV1ZWRGbigpIHtcbiAgICB0cnkge1xuICAgICAgZm4oLi4ubGFzdEFyZ3MpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsYXN0QXJncyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRocm90dGxlZCguLi5hcmdzKSB7XG4gICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgIHJhZi5vblN0YXJ0KHF1ZXVlZEZuKTtcbiAgfVxuICB0aHJvdHRsZWQuaGFuZGxlciA9IGZuO1xuICB0aHJvdHRsZWQuY2FuY2VsID0gKCkgPT4ge1xuICAgIG9uU3RhcnRRdWV1ZS5kZWxldGUocXVldWVkRm4pO1xuICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIHRocm90dGxlZDtcbn07XG52YXIgbmF0aXZlUmFmID0gdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA6IChcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAoKSA9PiB7XG4gIH1cbik7XG5yYWYudXNlID0gKGltcGwpID0+IG5hdGl2ZVJhZiA9IGltcGw7XG5yYWYubm93ID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9IFwidW5kZWZpbmVkXCIgPyAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKSA6IERhdGUubm93O1xucmFmLmJhdGNoZWRVcGRhdGVzID0gKGZuKSA9PiBmbigpO1xucmFmLmNhdGNoID0gY29uc29sZS5lcnJvcjtcbnJhZi5mcmFtZUxvb3AgPSBcImFsd2F5c1wiO1xucmFmLmFkdmFuY2UgPSAoKSA9PiB7XG4gIGlmIChyYWYuZnJhbWVMb29wICE9PSBcImRlbWFuZFwiKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJDYW5ub3QgY2FsbCB0aGUgbWFudWFsIGFkdmFuY2VtZW50IG9mIHJhZnogd2hpbHN0IGZyYW1lTG9vcCBpcyBub3Qgc2V0IGFzIGRlbWFuZFwiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGUoKTtcbiAgfVxufTtcbnZhciB0cyA9IC0xO1xudmFyIHBlbmRpbmdDb3VudCA9IDA7XG52YXIgc3luYyA9IGZhbHNlO1xuZnVuY3Rpb24gc2NoZWR1bGUoZm4sIHF1ZXVlKSB7XG4gIGlmIChzeW5jKSB7XG4gICAgcXVldWUuZGVsZXRlKGZuKTtcbiAgICBmbigwKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZS5hZGQoZm4pO1xuICAgIHN0YXJ0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICBpZiAodHMgPCAwKSB7XG4gICAgdHMgPSAwO1xuICAgIGlmIChyYWYuZnJhbWVMb29wICE9PSBcImRlbWFuZFwiKSB7XG4gICAgICBuYXRpdmVSYWYobG9vcCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdG9wKCkge1xuICB0cyA9IC0xO1xufVxuZnVuY3Rpb24gbG9vcCgpIHtcbiAgaWYgKH50cykge1xuICAgIG5hdGl2ZVJhZihsb29wKTtcbiAgICByYWYuYmF0Y2hlZFVwZGF0ZXModXBkYXRlKTtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlKCkge1xuICBjb25zdCBwcmV2VHMgPSB0cztcbiAgdHMgPSByYWYubm93KCk7XG4gIGNvbnN0IGNvdW50ID0gZmluZFRpbWVvdXQodHMpO1xuICBpZiAoY291bnQpIHtcbiAgICBlYWNoU2FmZWx5KHRpbWVvdXRzLnNwbGljZSgwLCBjb3VudCksICh0KSA9PiB0LmhhbmRsZXIoKSk7XG4gICAgcGVuZGluZ0NvdW50IC09IGNvdW50O1xuICB9XG4gIGlmICghcGVuZGluZ0NvdW50KSB7XG4gICAgc3RvcCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBvblN0YXJ0UXVldWUuZmx1c2goKTtcbiAgdXBkYXRlUXVldWUuZmx1c2gocHJldlRzID8gTWF0aC5taW4oNjQsIHRzIC0gcHJldlRzKSA6IDE2LjY2Nyk7XG4gIG9uRnJhbWVRdWV1ZS5mbHVzaCgpO1xuICB3cml0ZVF1ZXVlLmZsdXNoKCk7XG4gIG9uRmluaXNoUXVldWUuZmx1c2goKTtcbn1cbmZ1bmN0aW9uIG1ha2VRdWV1ZSgpIHtcbiAgbGV0IG5leHQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgY3VycmVudCA9IG5leHQ7XG4gIHJldHVybiB7XG4gICAgYWRkKGZuKSB7XG4gICAgICBwZW5kaW5nQ291bnQgKz0gY3VycmVudCA9PSBuZXh0ICYmICFuZXh0LmhhcyhmbikgPyAxIDogMDtcbiAgICAgIG5leHQuYWRkKGZuKTtcbiAgICB9LFxuICAgIGRlbGV0ZShmbikge1xuICAgICAgcGVuZGluZ0NvdW50IC09IGN1cnJlbnQgPT0gbmV4dCAmJiBuZXh0LmhhcyhmbikgPyAxIDogMDtcbiAgICAgIHJldHVybiBuZXh0LmRlbGV0ZShmbik7XG4gICAgfSxcbiAgICBmbHVzaChhcmcpIHtcbiAgICAgIGlmIChjdXJyZW50LnNpemUpIHtcbiAgICAgICAgbmV4dCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICAgIHBlbmRpbmdDb3VudCAtPSBjdXJyZW50LnNpemU7XG4gICAgICAgIGVhY2hTYWZlbHkoY3VycmVudCwgKGZuKSA9PiBmbihhcmcpICYmIG5leHQuYWRkKGZuKSk7XG4gICAgICAgIHBlbmRpbmdDb3VudCArPSBuZXh0LnNpemU7XG4gICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGVhY2hTYWZlbHkodmFsdWVzLCBlYWNoKSB7XG4gIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBlYWNoKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByYWYuY2F0Y2goZSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBfX3JhZiA9IHtcbiAgLyoqIFRoZSBudW1iZXIgb2YgcGVuZGluZyB0YXNrcyAqL1xuICBjb3VudCgpIHtcbiAgICByZXR1cm4gcGVuZGluZ0NvdW50O1xuICB9LFxuICAvKiogV2hldGhlciB0aGVyZSdzIGEgcmFmIHVwZGF0ZSBsb29wIHJ1bm5pbmcgKi9cbiAgaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiB0cyA+PSAwO1xuICB9LFxuICAvKiogQ2xlYXIgaW50ZXJuYWwgc3RhdGUuIE5ldmVyIGNhbGwgZnJvbSB1cGRhdGUgbG9vcCEgKi9cbiAgY2xlYXIoKSB7XG4gICAgdHMgPSAtMTtcbiAgICB0aW1lb3V0cyA9IFtdO1xuICAgIG9uU3RhcnRRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIHVwZGF0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgb25GcmFtZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgd3JpdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIG9uRmluaXNoUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBwZW5kaW5nQ291bnQgPSAwO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgX19yYWYsXG4gIHJhZlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19yYWZ6Lm1vZGVybi5tanMubWFwIiwKICAgICJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xuXG4vLyBzcmMvZ2xvYmFscy50c1xudmFyIGdsb2JhbHNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZ2xvYmFsc19leHBvcnRzLCB7XG4gIGFzc2lnbjogKCkgPT4gYXNzaWduLFxuICBjb2xvcnM6ICgpID0+IGNvbG9ycyxcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yOiAoKSA9PiBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIHNraXBBbmltYXRpb246ICgpID0+IHNraXBBbmltYXRpb24sXG4gIHRvOiAoKSA9PiB0byxcbiAgd2lsbEFkdmFuY2U6ICgpID0+IHdpbGxBZHZhbmNlXG59KTtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcblxuLy8gc3JjL2hlbHBlcnMudHNcbmZ1bmN0aW9uIG5vb3AoKSB7XG59XG52YXIgZGVmaW5lSGlkZGVuID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIGlzID0ge1xuICBhcnI6IEFycmF5LmlzQXJyYXksXG4gIG9iajogKGEpID0+ICEhYSAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIsXG4gIGZ1bjogKGEpID0+IHR5cGVvZiBhID09PSBcImZ1bmN0aW9uXCIsXG4gIHN0cjogKGEpID0+IHR5cGVvZiBhID09PSBcInN0cmluZ1wiLFxuICBudW06IChhKSA9PiB0eXBlb2YgYSA9PT0gXCJudW1iZXJcIixcbiAgdW5kOiAoYSkgPT4gYSA9PT0gdm9pZCAwXG59O1xuZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIGlmIChpcy5hcnIoYSkpIHtcbiAgICBpZiAoIWlzLmFycihiKSB8fCBhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn1cbnZhciBlYWNoID0gKG9iaiwgZm4pID0+IG9iai5mb3JFYWNoKGZuKTtcbmZ1bmN0aW9uIGVhY2hQcm9wKG9iaiwgZm4sIGN0eCkge1xuICBpZiAoaXMuYXJyKG9iaikpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgZm4uY2FsbChjdHgsIG9ialtpXSwgYCR7aX1gKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZm4uY2FsbChjdHgsIG9ialtrZXldLCBrZXkpO1xuICAgIH1cbiAgfVxufVxudmFyIHRvQXJyYXkgPSAoYSkgPT4gaXMudW5kKGEpID8gW10gOiBpcy5hcnIoYSkgPyBhIDogW2FdO1xuZnVuY3Rpb24gZmx1c2gocXVldWUsIGl0ZXJhdG9yKSB7XG4gIGlmIChxdWV1ZS5zaXplKSB7XG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHF1ZXVlKTtcbiAgICBxdWV1ZS5jbGVhcigpO1xuICAgIGVhY2goaXRlbXMsIGl0ZXJhdG9yKTtcbiAgfVxufVxudmFyIGZsdXNoQ2FsbHMgPSAocXVldWUsIC4uLmFyZ3MpID0+IGZsdXNoKHF1ZXVlLCAoZm4pID0+IGZuKC4uLmFyZ3MpKTtcbnZhciBpc1NTUiA9ICgpID0+IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgIXdpbmRvdy5uYXZpZ2F0b3IgfHwgL1NlcnZlclNpZGVSZW5kZXJpbmd8XkRlbm9cXC8vLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vLyBzcmMvZ2xvYmFscy50c1xudmFyIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjtcbnZhciB0bztcbnZhciBjb2xvcnMgPSBudWxsO1xudmFyIHNraXBBbmltYXRpb24gPSBmYWxzZTtcbnZhciB3aWxsQWR2YW5jZSA9IG5vb3A7XG52YXIgYXNzaWduID0gKGdsb2JhbHMpID0+IHtcbiAgaWYgKGdsb2JhbHMudG8pXG4gICAgdG8gPSBnbG9iYWxzLnRvO1xuICBpZiAoZ2xvYmFscy5ub3cpXG4gICAgcmFmLm5vdyA9IGdsb2JhbHMubm93O1xuICBpZiAoZ2xvYmFscy5jb2xvcnMgIT09IHZvaWQgMClcbiAgICBjb2xvcnMgPSBnbG9iYWxzLmNvbG9ycztcbiAgaWYgKGdsb2JhbHMuc2tpcEFuaW1hdGlvbiAhPSBudWxsKVxuICAgIHNraXBBbmltYXRpb24gPSBnbG9iYWxzLnNraXBBbmltYXRpb247XG4gIGlmIChnbG9iYWxzLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcilcbiAgICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IgPSBnbG9iYWxzLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjtcbiAgaWYgKGdsb2JhbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgIHJhZi51c2UoZ2xvYmFscy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuICBpZiAoZ2xvYmFscy5iYXRjaGVkVXBkYXRlcylcbiAgICByYWYuYmF0Y2hlZFVwZGF0ZXMgPSBnbG9iYWxzLmJhdGNoZWRVcGRhdGVzO1xuICBpZiAoZ2xvYmFscy53aWxsQWR2YW5jZSlcbiAgICB3aWxsQWR2YW5jZSA9IGdsb2JhbHMud2lsbEFkdmFuY2U7XG4gIGlmIChnbG9iYWxzLmZyYW1lTG9vcClcbiAgICByYWYuZnJhbWVMb29wID0gZ2xvYmFscy5mcmFtZUxvb3A7XG59O1xuXG4vLyBzcmMvRnJhbWVMb29wLnRzXG5pbXBvcnQgeyByYWYgYXMgcmFmMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcbnZhciBzdGFydFF1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBjdXJyZW50RnJhbWUgPSBbXTtcbnZhciBwcmV2RnJhbWUgPSBbXTtcbnZhciBwcmlvcml0eSA9IDA7XG52YXIgZnJhbWVMb29wID0ge1xuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIXN0YXJ0UXVldWUuc2l6ZSAmJiAhY3VycmVudEZyYW1lLmxlbmd0aDtcbiAgfSxcbiAgLyoqIEFkdmFuY2UgdGhlIGdpdmVuIGFuaW1hdGlvbiBvbiBldmVyeSBmcmFtZSB1bnRpbCBpZGxlLiAqL1xuICBzdGFydChhbmltYXRpb24pIHtcbiAgICBpZiAocHJpb3JpdHkgPiBhbmltYXRpb24ucHJpb3JpdHkpIHtcbiAgICAgIHN0YXJ0UXVldWUuYWRkKGFuaW1hdGlvbik7XG4gICAgICByYWYyLm9uU3RhcnQoZmx1c2hTdGFydFF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRTYWZlbHkoYW5pbWF0aW9uKTtcbiAgICAgIHJhZjIoYWR2YW5jZSk7XG4gICAgfVxuICB9LFxuICAvKiogQWR2YW5jZSBhbGwgYW5pbWF0aW9ucyBieSB0aGUgZ2l2ZW4gdGltZS4gKi9cbiAgYWR2YW5jZSxcbiAgLyoqIENhbGwgdGhpcyB3aGVuIGFuIGFuaW1hdGlvbidzIHByaW9yaXR5IGNoYW5nZXMuICovXG4gIHNvcnQoYW5pbWF0aW9uKSB7XG4gICAgaWYgKHByaW9yaXR5KSB7XG4gICAgICByYWYyLm9uRnJhbWUoKCkgPT4gZnJhbWVMb29wLnNvcnQoYW5pbWF0aW9uKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IGN1cnJlbnRGcmFtZS5pbmRleE9mKGFuaW1hdGlvbik7XG4gICAgICBpZiAofnByZXZJbmRleCkge1xuICAgICAgICBjdXJyZW50RnJhbWUuc3BsaWNlKHByZXZJbmRleCwgMSk7XG4gICAgICAgIHN0YXJ0VW5zYWZlbHkoYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgYW5pbWF0aW9ucy4gRm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gICAqXG4gICAqIOKYoO+4jyBOZXZlciBjYWxsIHRoaXMgZnJvbSB3aXRoaW4gdGhlIGZyYW1lbG9vcC5cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIGN1cnJlbnRGcmFtZSA9IFtdO1xuICAgIHN0YXJ0UXVldWUuY2xlYXIoKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGZsdXNoU3RhcnRRdWV1ZSgpIHtcbiAgc3RhcnRRdWV1ZS5mb3JFYWNoKHN0YXJ0U2FmZWx5KTtcbiAgc3RhcnRRdWV1ZS5jbGVhcigpO1xuICByYWYyKGFkdmFuY2UpO1xufVxuZnVuY3Rpb24gc3RhcnRTYWZlbHkoYW5pbWF0aW9uKSB7XG4gIGlmICghY3VycmVudEZyYW1lLmluY2x1ZGVzKGFuaW1hdGlvbikpXG4gICAgc3RhcnRVbnNhZmVseShhbmltYXRpb24pO1xufVxuZnVuY3Rpb24gc3RhcnRVbnNhZmVseShhbmltYXRpb24pIHtcbiAgY3VycmVudEZyYW1lLnNwbGljZShcbiAgICBmaW5kSW5kZXgoY3VycmVudEZyYW1lLCAob3RoZXIpID0+IG90aGVyLnByaW9yaXR5ID4gYW5pbWF0aW9uLnByaW9yaXR5KSxcbiAgICAwLFxuICAgIGFuaW1hdGlvblxuICApO1xufVxuZnVuY3Rpb24gYWR2YW5jZShkdCkge1xuICBjb25zdCBuZXh0RnJhbWUgPSBwcmV2RnJhbWU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudEZyYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gY3VycmVudEZyYW1lW2ldO1xuICAgIHByaW9yaXR5ID0gYW5pbWF0aW9uLnByaW9yaXR5O1xuICAgIGlmICghYW5pbWF0aW9uLmlkbGUpIHtcbiAgICAgIHdpbGxBZHZhbmNlKGFuaW1hdGlvbik7XG4gICAgICBhbmltYXRpb24uYWR2YW5jZShkdCk7XG4gICAgICBpZiAoIWFuaW1hdGlvbi5pZGxlKSB7XG4gICAgICAgIG5leHRGcmFtZS5wdXNoKGFuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaW9yaXR5ID0gMDtcbiAgcHJldkZyYW1lID0gY3VycmVudEZyYW1lO1xuICBwcmV2RnJhbWUubGVuZ3RoID0gMDtcbiAgY3VycmVudEZyYW1lID0gbmV4dEZyYW1lO1xuICByZXR1cm4gY3VycmVudEZyYW1lLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCB0ZXN0KSB7XG4gIGNvbnN0IGluZGV4ID0gYXJyLmZpbmRJbmRleCh0ZXN0KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IGFyci5sZW5ndGggOiBpbmRleDtcbn1cblxuLy8gc3JjL2NsYW1wLnRzXG52YXIgY2xhbXAgPSAobWluLCBtYXgsIHYpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG5cbi8vIHNyYy9jb2xvcnMudHNcbnZhciBjb2xvcnMyID0ge1xuICB0cmFuc3BhcmVudDogMCxcbiAgYWxpY2VibHVlOiA0MDQyODUwMzAzLFxuICBhbnRpcXVld2hpdGU6IDQyMDk3NjAyNTUsXG4gIGFxdWE6IDE2Nzc3MjE1LFxuICBhcXVhbWFyaW5lOiAyMTQ3NDcyNjM5LFxuICBhenVyZTogNDA0MzMwOTA1NSxcbiAgYmVpZ2U6IDQxMjY1MzA4MTUsXG4gIGJpc3F1ZTogNDI5MzE4MjcxOSxcbiAgYmxhY2s6IDI1NSxcbiAgYmxhbmNoZWRhbG1vbmQ6IDQyOTM2NDM3NzUsXG4gIGJsdWU6IDY1NTM1LFxuICBibHVldmlvbGV0OiAyMzE4MTMxOTY3LFxuICBicm93bjogMjc3MTAwNDE1OSxcbiAgYnVybHl3b29kOiAzNzM2NjM1MzkxLFxuICBidXJudHNpZW5uYTogMzkzNDE1MDE0MyxcbiAgY2FkZXRibHVlOiAxNjA0MjMxNDIzLFxuICBjaGFydHJldXNlOiAyMTQ3NDE4MzY3LFxuICBjaG9jb2xhdGU6IDM1MzAxMDQ1NzUsXG4gIGNvcmFsOiA0Mjg2NTMzODg3LFxuICBjb3JuZmxvd2VyYmx1ZTogMTY4NzU0NzM5MSxcbiAgY29ybnNpbGs6IDQyOTQ0OTk1ODMsXG4gIGNyaW1zb246IDM2OTIzMTM4NTUsXG4gIGN5YW46IDE2Nzc3MjE1LFxuICBkYXJrYmx1ZTogMzU4MzksXG4gIGRhcmtjeWFuOiA5MTQ1MzQzLFxuICBkYXJrZ29sZGVucm9kOiAzMDk1NzkyNjM5LFxuICBkYXJrZ3JheTogMjg0NjQ2ODYwNyxcbiAgZGFya2dyZWVuOiA2NTUzODU1LFxuICBkYXJrZ3JleTogMjg0NjQ2ODYwNyxcbiAgZGFya2toYWtpOiAzMTgyOTE0NTU5LFxuICBkYXJrbWFnZW50YTogMjMzMjA2ODg2MyxcbiAgZGFya29saXZlZ3JlZW46IDE0MzMwODc5OTksXG4gIGRhcmtvcmFuZ2U6IDQyODczNjUzNzUsXG4gIGRhcmtvcmNoaWQ6IDI1NzAyNDMzMjcsXG4gIGRhcmtyZWQ6IDIzMzIwMzMyNzksXG4gIGRhcmtzYWxtb246IDM5MTg5NTMyMTUsXG4gIGRhcmtzZWFncmVlbjogMjQxMTQ5OTUxOSxcbiAgZGFya3NsYXRlYmx1ZTogMTIxMTk5MzA4NyxcbiAgZGFya3NsYXRlZ3JheTogNzkzNzI2OTc1LFxuICBkYXJrc2xhdGVncmV5OiA3OTM3MjY5NzUsXG4gIGRhcmt0dXJxdW9pc2U6IDEzNTU0MTc1LFxuICBkYXJrdmlvbGV0OiAyNDgzMDgyMjM5LFxuICBkZWVwcGluazogNDI3OTUzODY4NyxcbiAgZGVlcHNreWJsdWU6IDEyNTgyOTExLFxuICBkaW1ncmF5OiAxNzY4NTE2MDk1LFxuICBkaW1ncmV5OiAxNzY4NTE2MDk1LFxuICBkb2RnZXJibHVlOiA1MTI4MTkxOTksXG4gIGZpcmVicmljazogMjk4ODU4MTYzMSxcbiAgZmxvcmFsd2hpdGU6IDQyOTQ2MzU3NzUsXG4gIGZvcmVzdGdyZWVuOiA1Nzk1NDM4MDcsXG4gIGZ1Y2hzaWE6IDQyNzgyNTU2MTUsXG4gIGdhaW5zYm9ybzogMzcwNTQ2MjAxNSxcbiAgZ2hvc3R3aGl0ZTogNDE3NzA2ODAzMSxcbiAgZ29sZDogNDI5MjI4MDU3NSxcbiAgZ29sZGVucm9kOiAzNjY4MjU0OTc1LFxuICBncmF5OiAyMTU1OTA1Mjc5LFxuICBncmVlbjogODM4ODg2MyxcbiAgZ3JlZW55ZWxsb3c6IDI5MTkxODIzMzUsXG4gIGdyZXk6IDIxNTU5MDUyNzksXG4gIGhvbmV5ZGV3OiA0MDQzMzA1MjE1LFxuICBob3RwaW5rOiA0Mjg1MTE3Njk1LFxuICBpbmRpYW5yZWQ6IDM0NDUzODIzOTksXG4gIGluZGlnbzogMTI1ODMyNDczNSxcbiAgaXZvcnk6IDQyOTQ5NjM0NTUsXG4gIGtoYWtpOiA0MDQxNjQxMjE1LFxuICBsYXZlbmRlcjogMzg3Mzg5NzIxNSxcbiAgbGF2ZW5kZXJibHVzaDogNDI5Mzk4MTY5NSxcbiAgbGF3bmdyZWVuOiAyMDk2ODkwMTExLFxuICBsZW1vbmNoaWZmb246IDQyOTQ2MjY4MTUsXG4gIGxpZ2h0Ymx1ZTogMjkxNjY3MzI3OSxcbiAgbGlnaHRjb3JhbDogNDAzNDk1MzQ3MSxcbiAgbGlnaHRjeWFuOiAzNzc0ODczNTk5LFxuICBsaWdodGdvbGRlbnJvZHllbGxvdzogNDIxMDc0MjAxNSxcbiAgbGlnaHRncmF5OiAzNTUzODc0OTQzLFxuICBsaWdodGdyZWVuOiAyNDMxNTUzNzkxLFxuICBsaWdodGdyZXk6IDM1NTM4NzQ5NDMsXG4gIGxpZ2h0cGluazogNDI5MDE2NzI5NSxcbiAgbGlnaHRzYWxtb246IDQyODg3MDczMjcsXG4gIGxpZ2h0c2VhZ3JlZW46IDU0ODU4MDA5NSxcbiAgbGlnaHRza3libHVlOiAyMjc4NDg4ODMxLFxuICBsaWdodHNsYXRlZ3JheTogMjAwNTQ0MTAyMyxcbiAgbGlnaHRzbGF0ZWdyZXk6IDIwMDU0NDEwMjMsXG4gIGxpZ2h0c3RlZWxibHVlOiAyOTY1NjkyMTU5LFxuICBsaWdodHllbGxvdzogNDI5NDk1OTM1OSxcbiAgbGltZTogMTY3MTE5MzUsXG4gIGxpbWVncmVlbjogODUyMzA4NzM1LFxuICBsaW5lbjogNDIxMDA5MTc3NSxcbiAgbWFnZW50YTogNDI3ODI1NTYxNSxcbiAgbWFyb29uOiAyMTQ3NDgzOTAzLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAxNzI0NzU0Njg3LFxuICBtZWRpdW1ibHVlOiA1MjczNSxcbiAgbWVkaXVtb3JjaGlkOiAzMTI2MTg3MDA3LFxuICBtZWRpdW1wdXJwbGU6IDI0NzM2NDcxMDMsXG4gIG1lZGl1bXNlYWdyZWVuOiAxMDE4MzkzMDg3LFxuICBtZWRpdW1zbGF0ZWJsdWU6IDIwNzA0NzQ0OTUsXG4gIG1lZGl1bXNwcmluZ2dyZWVuOiAxNjQyMzY3OSxcbiAgbWVkaXVtdHVycXVvaXNlOiAxMjIxNzA5MDU1LFxuICBtZWRpdW12aW9sZXRyZWQ6IDMzNDAwNzY1NDMsXG4gIG1pZG5pZ2h0Ymx1ZTogNDIxMDk3NzI3LFxuICBtaW50Y3JlYW06IDQxMjcxOTM4NTUsXG4gIG1pc3R5cm9zZTogNDI5MzE5MDE0MyxcbiAgbW9jY2FzaW46IDQyOTMxNzg4NzksXG4gIG5hdmFqb3doaXRlOiA0MjkyNzgzNjE1LFxuICBuYXZ5OiAzMzAyMyxcbiAgb2xkbGFjZTogNDI2MDc1MTEwMyxcbiAgb2xpdmU6IDIxNTU4NzI1MTEsXG4gIG9saXZlZHJhYjogMTgwNDQ3NzQzOSxcbiAgb3JhbmdlOiA0Mjg5MDAzNzc1LFxuICBvcmFuZ2VyZWQ6IDQyODI3MTIzMTksXG4gIG9yY2hpZDogMzY2NDgyODE1OSxcbiAgcGFsZWdvbGRlbnJvZDogNDAwODIyNTUzNSxcbiAgcGFsZWdyZWVuOiAyNTY2NjI1NTM1LFxuICBwYWxldHVycXVvaXNlOiAyOTUxNjcxNTUxLFxuICBwYWxldmlvbGV0cmVkOiAzNjgxNTg4MjIzLFxuICBwYXBheWF3aGlwOiA0MjkzOTA3OTY3LFxuICBwZWFjaHB1ZmY6IDQyOTI1MjQ1NDMsXG4gIHBlcnU6IDM0NDgwNjE5NTEsXG4gIHBpbms6IDQyOTA4MjUyMTUsXG4gIHBsdW06IDM3MTgzMDczMjcsXG4gIHBvd2RlcmJsdWU6IDI5Njc1MjkyMTUsXG4gIHB1cnBsZTogMjE0NzUxNjY3MSxcbiAgcmViZWNjYXB1cnBsZTogMTcxNDY1Nzc5MSxcbiAgcmVkOiA0Mjc4MTkwMzM1LFxuICByb3N5YnJvd246IDMxNjM1MjUxMTksXG4gIHJveWFsYmx1ZTogMTA5NzQ1ODE3NSxcbiAgc2FkZGxlYnJvd246IDIzMzY1NjAxMjcsXG4gIHNhbG1vbjogNDIwMjcyMjA0NyxcbiAgc2FuZHlicm93bjogNDEwNDQxMzQzOSxcbiAgc2VhZ3JlZW46IDc4MDg4Mzk2NyxcbiAgc2Vhc2hlbGw6IDQyOTQzMDc1ODMsXG4gIHNpZW5uYTogMjY4OTc0MDI4NyxcbiAgc2lsdmVyOiAzMjMzODU3NzkxLFxuICBza3libHVlOiAyMjc4NDg0OTkxLFxuICBzbGF0ZWJsdWU6IDE3ODQzMzU4NzEsXG4gIHNsYXRlZ3JheTogMTg4NzQ3MzkxOSxcbiAgc2xhdGVncmV5OiAxODg3NDczOTE5LFxuICBzbm93OiA0Mjk0NjM4MzM1LFxuICBzcHJpbmdncmVlbjogMTY3NDQ0NDcsXG4gIHN0ZWVsYmx1ZTogMTE4Mjk3MTEzNSxcbiAgdGFuOiAzNTM1MDQ3OTM1LFxuICB0ZWFsOiA4NDIxNjMxLFxuICB0aGlzdGxlOiAzNjM2NDUxNTgzLFxuICB0b21hdG86IDQyODQ2OTY1NzUsXG4gIHR1cnF1b2lzZTogMTA4ODQ3NTM5MSxcbiAgdmlvbGV0OiA0MDAxNTU4MjcxLFxuICB3aGVhdDogNDEyNTAxMjk5MSxcbiAgd2hpdGU6IDQyOTQ5NjcyOTUsXG4gIHdoaXRlc21va2U6IDQxMjY1MzcyMTUsXG4gIHllbGxvdzogNDI5NDkwMjAxNSxcbiAgeWVsbG93Z3JlZW46IDI1OTcxMzkxOTlcbn07XG5cbi8vIHNyYy9jb2xvck1hdGNoZXJzLnRzXG52YXIgTlVNQkVSID0gXCJbLStdP1xcXFxkKlxcXFwuP1xcXFxkK1wiO1xudmFyIFBFUkNFTlRBR0UgPSBOVU1CRVIgKyBcIiVcIjtcbmZ1bmN0aW9uIGNhbGwoLi4ucGFydHMpIHtcbiAgcmV0dXJuIFwiXFxcXChcXFxccyooXCIgKyBwYXJ0cy5qb2luKFwiKVxcXFxzKixcXFxccyooXCIpICsgXCIpXFxcXHMqXFxcXClcIjtcbn1cbnZhciByZ2IgPSBuZXcgUmVnRXhwKFwicmdiXCIgKyBjYWxsKE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIpKTtcbnZhciByZ2JhID0gbmV3IFJlZ0V4cChcInJnYmFcIiArIGNhbGwoTlVNQkVSLCBOVU1CRVIsIE5VTUJFUiwgTlVNQkVSKSk7XG52YXIgaHNsID0gbmV3IFJlZ0V4cChcImhzbFwiICsgY2FsbChOVU1CRVIsIFBFUkNFTlRBR0UsIFBFUkNFTlRBR0UpKTtcbnZhciBoc2xhID0gbmV3IFJlZ0V4cChcbiAgXCJoc2xhXCIgKyBjYWxsKE5VTUJFUiwgUEVSQ0VOVEFHRSwgUEVSQ0VOVEFHRSwgTlVNQkVSKVxuKTtcbnZhciBoZXgzID0gL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC87XG52YXIgaGV4NCA9IC9eIyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLztcbnZhciBoZXg2ID0gL14jKFswLTlhLWZBLUZdezZ9KSQvO1xudmFyIGhleDggPSAvXiMoWzAtOWEtZkEtRl17OH0pJC87XG5cbi8vIHNyYy9ub3JtYWxpemVDb2xvci50c1xuZnVuY3Rpb24gbm9ybWFsaXplQ29sb3IoY29sb3IpIHtcbiAgbGV0IG1hdGNoO1xuICBpZiAodHlwZW9mIGNvbG9yID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIGNvbG9yID4+PiAwID09PSBjb2xvciAmJiBjb2xvciA+PSAwICYmIGNvbG9yIDw9IDQyOTQ5NjcyOTUgPyBjb2xvciA6IG51bGw7XG4gIH1cbiAgaWYgKG1hdGNoID0gaGV4Ni5leGVjKGNvbG9yKSlcbiAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0gKyBcImZmXCIsIDE2KSA+Pj4gMDtcbiAgaWYgKGNvbG9ycyAmJiBjb2xvcnNbY29sb3JdICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yXTtcbiAgfVxuICBpZiAobWF0Y2ggPSByZ2IuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKHBhcnNlMjU1KG1hdGNoWzFdKSA8PCAyNCB8IC8vIHJcbiAgICBwYXJzZTI1NShtYXRjaFsyXSkgPDwgMTYgfCAvLyBnXG4gICAgcGFyc2UyNTUobWF0Y2hbM10pIDw8IDggfCAvLyBiXG4gICAgMjU1KSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gcmdiYS5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAocGFyc2UyNTUobWF0Y2hbMV0pIDw8IDI0IHwgLy8gclxuICAgIHBhcnNlMjU1KG1hdGNoWzJdKSA8PCAxNiB8IC8vIGdcbiAgICBwYXJzZTI1NShtYXRjaFszXSkgPDwgOCB8IC8vIGJcbiAgICBwYXJzZTEobWF0Y2hbNF0pKSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gaGV4My5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiBwYXJzZUludChcbiAgICAgIG1hdGNoWzFdICsgbWF0Y2hbMV0gKyAvLyByXG4gICAgICBtYXRjaFsyXSArIG1hdGNoWzJdICsgLy8gZ1xuICAgICAgbWF0Y2hbM10gKyBtYXRjaFszXSArIC8vIGJcbiAgICAgIFwiZmZcIixcbiAgICAgIC8vIGFcbiAgICAgIDE2XG4gICAgKSA+Pj4gMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoZXg4LmV4ZWMoY29sb3IpKVxuICAgIHJldHVybiBwYXJzZUludChtYXRjaFsxXSwgMTYpID4+PiAwO1xuICBpZiAobWF0Y2ggPSBoZXg0LmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgbWF0Y2hbMV0gKyBtYXRjaFsxXSArIC8vIHJcbiAgICAgIG1hdGNoWzJdICsgbWF0Y2hbMl0gKyAvLyBnXG4gICAgICBtYXRjaFszXSArIG1hdGNoWzNdICsgLy8gYlxuICAgICAgbWF0Y2hbNF0gKyBtYXRjaFs0XSxcbiAgICAgIC8vIGFcbiAgICAgIDE2XG4gICAgKSA+Pj4gMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoc2wuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKGhzbFRvUmdiKFxuICAgICAgcGFyc2UzNjAobWF0Y2hbMV0pLFxuICAgICAgLy8gaFxuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzJdKSxcbiAgICAgIC8vIHNcbiAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFszXSlcbiAgICAgIC8vIGxcbiAgICApIHwgMjU1KSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gaHNsYS5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAoaHNsVG9SZ2IoXG4gICAgICBwYXJzZTM2MChtYXRjaFsxXSksXG4gICAgICAvLyBoXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbMl0pLFxuICAgICAgLy8gc1xuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzNdKVxuICAgICAgLy8gbFxuICAgICkgfCBwYXJzZTEobWF0Y2hbNF0pKSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgaWYgKHQgPCAwKVxuICAgIHQgKz0gMTtcbiAgaWYgKHQgPiAxKVxuICAgIHQgLT0gMTtcbiAgaWYgKHQgPCAxIC8gNilcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgaWYgKHQgPCAxIC8gMilcbiAgICByZXR1cm4gcTtcbiAgaWYgKHQgPCAyIC8gMylcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gIHJldHVybiBwO1xufVxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xuICBjb25zdCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgY29uc3QgcCA9IDIgKiBsIC0gcTtcbiAgY29uc3QgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgY29uc3QgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gIGNvbnN0IGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHIgKiAyNTUpIDw8IDI0IHwgTWF0aC5yb3VuZChnICogMjU1KSA8PCAxNiB8IE1hdGgucm91bmQoYiAqIDI1NSkgPDwgODtcbn1cbmZ1bmN0aW9uIHBhcnNlMjU1KHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUludChzdHIsIDEwKTtcbiAgaWYgKGludCA8IDApXG4gICAgcmV0dXJuIDA7XG4gIGlmIChpbnQgPiAyNTUpXG4gICAgcmV0dXJuIDI1NTtcbiAgcmV0dXJuIGludDtcbn1cbmZ1bmN0aW9uIHBhcnNlMzYwKHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIHJldHVybiAoaW50ICUgMzYwICsgMzYwKSAlIDM2MCAvIDM2MDtcbn1cbmZ1bmN0aW9uIHBhcnNlMShzdHIpIHtcbiAgY29uc3QgbnVtID0gcGFyc2VGbG9hdChzdHIpO1xuICBpZiAobnVtIDwgMClcbiAgICByZXR1cm4gMDtcbiAgaWYgKG51bSA+IDEpXG4gICAgcmV0dXJuIDI1NTtcbiAgcmV0dXJuIE1hdGgucm91bmQobnVtICogMjU1KTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGVyY2VudGFnZShzdHIpIHtcbiAgY29uc3QgaW50ID0gcGFyc2VGbG9hdChzdHIpO1xuICBpZiAoaW50IDwgMClcbiAgICByZXR1cm4gMDtcbiAgaWYgKGludCA+IDEwMClcbiAgICByZXR1cm4gMTtcbiAgcmV0dXJuIGludCAvIDEwMDtcbn1cblxuLy8gc3JjL2NvbG9yVG9SZ2JhLnRzXG5mdW5jdGlvbiBjb2xvclRvUmdiYShpbnB1dCkge1xuICBsZXQgaW50MzJDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKGlucHV0KTtcbiAgaWYgKGludDMyQ29sb3IgPT09IG51bGwpXG4gICAgcmV0dXJuIGlucHV0O1xuICBpbnQzMkNvbG9yID0gaW50MzJDb2xvciB8fCAwO1xuICBjb25zdCByID0gKGludDMyQ29sb3IgJiA0Mjc4MTkwMDgwKSA+Pj4gMjQ7XG4gIGNvbnN0IGcgPSAoaW50MzJDb2xvciAmIDE2NzExNjgwKSA+Pj4gMTY7XG4gIGNvbnN0IGIgPSAoaW50MzJDb2xvciAmIDY1MjgwKSA+Pj4gODtcbiAgY29uc3QgYSA9IChpbnQzMkNvbG9yICYgMjU1KSAvIDI1NTtcbiAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYDtcbn1cblxuLy8gc3JjL2NyZWF0ZUludGVycG9sYXRvci50c1xudmFyIGNyZWF0ZUludGVycG9sYXRvciA9IChyYW5nZSwgb3V0cHV0LCBleHRyYXBvbGF0ZSkgPT4ge1xuICBpZiAoaXMuZnVuKHJhbmdlKSkge1xuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICBpZiAoaXMuYXJyKHJhbmdlKSkge1xuICAgIHJldHVybiBjcmVhdGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgcmFuZ2UsXG4gICAgICBvdXRwdXQsXG4gICAgICBleHRyYXBvbGF0ZVxuICAgIH0pO1xuICB9XG4gIGlmIChpcy5zdHIocmFuZ2Uub3V0cHV0WzBdKSkge1xuICAgIHJldHVybiBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IocmFuZ2UpO1xuICB9XG4gIGNvbnN0IGNvbmZpZyA9IHJhbmdlO1xuICBjb25zdCBvdXRwdXRSYW5nZSA9IGNvbmZpZy5vdXRwdXQ7XG4gIGNvbnN0IGlucHV0UmFuZ2UgPSBjb25maWcucmFuZ2UgfHwgWzAsIDFdO1xuICBjb25zdCBleHRyYXBvbGF0ZUxlZnQgPSBjb25maWcuZXh0cmFwb2xhdGVMZWZ0IHx8IGNvbmZpZy5leHRyYXBvbGF0ZSB8fCBcImV4dGVuZFwiO1xuICBjb25zdCBleHRyYXBvbGF0ZVJpZ2h0ID0gY29uZmlnLmV4dHJhcG9sYXRlUmlnaHQgfHwgY29uZmlnLmV4dHJhcG9sYXRlIHx8IFwiZXh0ZW5kXCI7XG4gIGNvbnN0IGVhc2luZyA9IGNvbmZpZy5lYXNpbmcgfHwgKCh0KSA9PiB0KTtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHJhbmdlMiA9IGZpbmRSYW5nZShpbnB1dCwgaW5wdXRSYW5nZSk7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgaW5wdXQsXG4gICAgICBpbnB1dFJhbmdlW3JhbmdlMl0sXG4gICAgICBpbnB1dFJhbmdlW3JhbmdlMiArIDFdLFxuICAgICAgb3V0cHV0UmFuZ2VbcmFuZ2UyXSxcbiAgICAgIG91dHB1dFJhbmdlW3JhbmdlMiArIDFdLFxuICAgICAgZWFzaW5nLFxuICAgICAgZXh0cmFwb2xhdGVMZWZ0LFxuICAgICAgZXh0cmFwb2xhdGVSaWdodCxcbiAgICAgIGNvbmZpZy5tYXBcbiAgICApO1xuICB9O1xufTtcbmZ1bmN0aW9uIGludGVycG9sYXRlKGlucHV0LCBpbnB1dE1pbiwgaW5wdXRNYXgsIG91dHB1dE1pbiwgb3V0cHV0TWF4LCBlYXNpbmcsIGV4dHJhcG9sYXRlTGVmdCwgZXh0cmFwb2xhdGVSaWdodCwgbWFwKSB7XG4gIGxldCByZXN1bHQgPSBtYXAgPyBtYXAoaW5wdXQpIDogaW5wdXQ7XG4gIGlmIChyZXN1bHQgPCBpbnB1dE1pbikge1xuICAgIGlmIChleHRyYXBvbGF0ZUxlZnQgPT09IFwiaWRlbnRpdHlcIilcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgZWxzZSBpZiAoZXh0cmFwb2xhdGVMZWZ0ID09PSBcImNsYW1wXCIpXG4gICAgICByZXN1bHQgPSBpbnB1dE1pbjtcbiAgfVxuICBpZiAocmVzdWx0ID4gaW5wdXRNYXgpIHtcbiAgICBpZiAoZXh0cmFwb2xhdGVSaWdodCA9PT0gXCJpZGVudGl0eVwiKVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBlbHNlIGlmIChleHRyYXBvbGF0ZVJpZ2h0ID09PSBcImNsYW1wXCIpXG4gICAgICByZXN1bHQgPSBpbnB1dE1heDtcbiAgfVxuICBpZiAob3V0cHV0TWluID09PSBvdXRwdXRNYXgpXG4gICAgcmV0dXJuIG91dHB1dE1pbjtcbiAgaWYgKGlucHV0TWluID09PSBpbnB1dE1heClcbiAgICByZXR1cm4gaW5wdXQgPD0gaW5wdXRNaW4gPyBvdXRwdXRNaW4gOiBvdXRwdXRNYXg7XG4gIGlmIChpbnB1dE1pbiA9PT0gLUluZmluaXR5KVxuICAgIHJlc3VsdCA9IC1yZXN1bHQ7XG4gIGVsc2UgaWYgKGlucHV0TWF4ID09PSBJbmZpbml0eSlcbiAgICByZXN1bHQgPSByZXN1bHQgLSBpbnB1dE1pbjtcbiAgZWxzZVxuICAgIHJlc3VsdCA9IChyZXN1bHQgLSBpbnB1dE1pbikgLyAoaW5wdXRNYXggLSBpbnB1dE1pbik7XG4gIHJlc3VsdCA9IGVhc2luZyhyZXN1bHQpO1xuICBpZiAob3V0cHV0TWluID09PSAtSW5maW5pdHkpXG4gICAgcmVzdWx0ID0gLXJlc3VsdDtcbiAgZWxzZSBpZiAob3V0cHV0TWF4ID09PSBJbmZpbml0eSlcbiAgICByZXN1bHQgPSByZXN1bHQgKyBvdXRwdXRNaW47XG4gIGVsc2VcbiAgICByZXN1bHQgPSByZXN1bHQgKiAob3V0cHV0TWF4IC0gb3V0cHV0TWluKSArIG91dHB1dE1pbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZpbmRSYW5nZShpbnB1dCwgaW5wdXRSYW5nZSkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGlucHV0UmFuZ2UubGVuZ3RoIC0gMTsgKytpKVxuICAgIGlmIChpbnB1dFJhbmdlW2ldID49IGlucHV0KVxuICAgICAgYnJlYWs7XG4gIHJldHVybiBpIC0gMTtcbn1cblxuLy8gc3JjL2Vhc2luZ3MudHNcbnZhciBzdGVwcyA9IChzdGVwczIsIGRpcmVjdGlvbiA9IFwiZW5kXCIpID0+IChwcm9ncmVzczIpID0+IHtcbiAgcHJvZ3Jlc3MyID0gZGlyZWN0aW9uID09PSBcImVuZFwiID8gTWF0aC5taW4ocHJvZ3Jlc3MyLCAwLjk5OSkgOiBNYXRoLm1heChwcm9ncmVzczIsIDFlLTMpO1xuICBjb25zdCBleHBhbmRlZCA9IHByb2dyZXNzMiAqIHN0ZXBzMjtcbiAgY29uc3Qgcm91bmRlZCA9IGRpcmVjdGlvbiA9PT0gXCJlbmRcIiA/IE1hdGguZmxvb3IoZXhwYW5kZWQpIDogTWF0aC5jZWlsKGV4cGFuZGVkKTtcbiAgcmV0dXJuIGNsYW1wKDAsIDEsIHJvdW5kZWQgLyBzdGVwczIpO1xufTtcbnZhciBjMSA9IDEuNzAxNTg7XG52YXIgYzIgPSBjMSAqIDEuNTI1O1xudmFyIGMzID0gYzEgKyAxO1xudmFyIGM0ID0gMiAqIE1hdGguUEkgLyAzO1xudmFyIGM1ID0gMiAqIE1hdGguUEkgLyA0LjU7XG52YXIgYm91bmNlT3V0ID0gKHgpID0+IHtcbiAgY29uc3QgbjEgPSA3LjU2MjU7XG4gIGNvbnN0IGQxID0gMi43NTtcbiAgaWYgKHggPCAxIC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiB4ICogeDtcbiAgfSBlbHNlIGlmICh4IDwgMiAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMS41IC8gZDEpICogeCArIDAuNzU7XG4gIH0gZWxzZSBpZiAoeCA8IDIuNSAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMi4yNSAvIGQxKSAqIHggKyAwLjkzNzU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMi42MjUgLyBkMSkgKiB4ICsgMC45ODQzNzU7XG4gIH1cbn07XG52YXIgZWFzaW5ncyA9IHtcbiAgbGluZWFyOiAoeCkgPT4geCxcbiAgZWFzZUluUXVhZDogKHgpID0+IHggKiB4LFxuICBlYXNlT3V0UXVhZDogKHgpID0+IDEgLSAoMSAtIHgpICogKDEgLSB4KSxcbiAgZWFzZUluT3V0UXVhZDogKHgpID0+IHggPCAwLjUgPyAyICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgMikgLyAyLFxuICBlYXNlSW5DdWJpYzogKHgpID0+IHggKiB4ICogeCxcbiAgZWFzZU91dEN1YmljOiAoeCkgPT4gMSAtIE1hdGgucG93KDEgLSB4LCAzKSxcbiAgZWFzZUluT3V0Q3ViaWM6ICh4KSA9PiB4IDwgMC41ID8gNCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAzKSAvIDIsXG4gIGVhc2VJblF1YXJ0OiAoeCkgPT4geCAqIHggKiB4ICogeCxcbiAgZWFzZU91dFF1YXJ0OiAoeCkgPT4gMSAtIE1hdGgucG93KDEgLSB4LCA0KSxcbiAgZWFzZUluT3V0UXVhcnQ6ICh4KSA9PiB4IDwgMC41ID8gOCAqIHggKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgNCkgLyAyLFxuICBlYXNlSW5RdWludDogKHgpID0+IHggKiB4ICogeCAqIHggKiB4LFxuICBlYXNlT3V0UXVpbnQ6ICh4KSA9PiAxIC0gTWF0aC5wb3coMSAtIHgsIDUpLFxuICBlYXNlSW5PdXRRdWludDogKHgpID0+IHggPCAwLjUgPyAxNiAqIHggKiB4ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDUpIC8gMixcbiAgZWFzZUluU2luZTogKHgpID0+IDEgLSBNYXRoLmNvcyh4ICogTWF0aC5QSSAvIDIpLFxuICBlYXNlT3V0U2luZTogKHgpID0+IE1hdGguc2luKHggKiBNYXRoLlBJIC8gMiksXG4gIGVhc2VJbk91dFNpbmU6ICh4KSA9PiAtKE1hdGguY29zKE1hdGguUEkgKiB4KSAtIDEpIC8gMixcbiAgZWFzZUluRXhwbzogKHgpID0+IHggPT09IDAgPyAwIDogTWF0aC5wb3coMiwgMTAgKiB4IC0gMTApLFxuICBlYXNlT3V0RXhwbzogKHgpID0+IHggPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIHgpLFxuICBlYXNlSW5PdXRFeHBvOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IHggPCAwLjUgPyBNYXRoLnBvdygyLCAyMCAqIHggLSAxMCkgLyAyIDogKDIgLSBNYXRoLnBvdygyLCAtMjAgKiB4ICsgMTApKSAvIDIsXG4gIGVhc2VJbkNpcmM6ICh4KSA9PiAxIC0gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdyh4LCAyKSksXG4gIGVhc2VPdXRDaXJjOiAoeCkgPT4gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdyh4IC0gMSwgMikpLFxuICBlYXNlSW5PdXRDaXJjOiAoeCkgPT4geCA8IDAuNSA/ICgxIC0gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdygyICogeCwgMikpKSAvIDIgOiAoTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAyKSkgKyAxKSAvIDIsXG4gIGVhc2VJbkJhY2s6ICh4KSA9PiBjMyAqIHggKiB4ICogeCAtIGMxICogeCAqIHgsXG4gIGVhc2VPdXRCYWNrOiAoeCkgPT4gMSArIGMzICogTWF0aC5wb3coeCAtIDEsIDMpICsgYzEgKiBNYXRoLnBvdyh4IC0gMSwgMiksXG4gIGVhc2VJbk91dEJhY2s6ICh4KSA9PiB4IDwgMC41ID8gTWF0aC5wb3coMiAqIHgsIDIpICogKChjMiArIDEpICogMiAqIHggLSBjMikgLyAyIDogKE1hdGgucG93KDIgKiB4IC0gMiwgMikgKiAoKGMyICsgMSkgKiAoeCAqIDIgLSAyKSArIGMyKSArIDIpIC8gMixcbiAgZWFzZUluRWxhc3RpYzogKHgpID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiAtTWF0aC5wb3coMiwgMTAgKiB4IC0gMTApICogTWF0aC5zaW4oKHggKiAxMCAtIDEwLjc1KSAqIGM0KSxcbiAgZWFzZU91dEVsYXN0aWM6ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogTWF0aC5wb3coMiwgLTEwICogeCkgKiBNYXRoLnNpbigoeCAqIDEwIC0gMC43NSkgKiBjNCkgKyAxLFxuICBlYXNlSW5PdXRFbGFzdGljOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IHggPCAwLjUgPyAtKE1hdGgucG93KDIsIDIwICogeCAtIDEwKSAqIE1hdGguc2luKCgyMCAqIHggLSAxMS4xMjUpICogYzUpKSAvIDIgOiBNYXRoLnBvdygyLCAtMjAgKiB4ICsgMTApICogTWF0aC5zaW4oKDIwICogeCAtIDExLjEyNSkgKiBjNSkgLyAyICsgMSxcbiAgZWFzZUluQm91bmNlOiAoeCkgPT4gMSAtIGJvdW5jZU91dCgxIC0geCksXG4gIGVhc2VPdXRCb3VuY2U6IGJvdW5jZU91dCxcbiAgZWFzZUluT3V0Qm91bmNlOiAoeCkgPT4geCA8IDAuNSA/ICgxIC0gYm91bmNlT3V0KDEgLSAyICogeCkpIC8gMiA6ICgxICsgYm91bmNlT3V0KDIgKiB4IC0gMSkpIC8gMixcbiAgc3RlcHNcbn07XG5cbi8vIHNyYy9mbHVpZHMudHNcbnZhciAkZ2V0ID0gU3ltYm9sLmZvcihcIkZsdWlkVmFsdWUuZ2V0XCIpO1xudmFyICRvYnNlcnZlcnMgPSBTeW1ib2wuZm9yKFwiRmx1aWRWYWx1ZS5vYnNlcnZlcnNcIik7XG52YXIgaGFzRmx1aWRWYWx1ZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnICYmIGFyZ1skZ2V0XSk7XG52YXIgZ2V0Rmx1aWRWYWx1ZSA9IChhcmcpID0+IGFyZyAmJiBhcmdbJGdldF0gPyBhcmdbJGdldF0oKSA6IGFyZztcbnZhciBnZXRGbHVpZE9ic2VydmVycyA9ICh0YXJnZXQpID0+IHRhcmdldFskb2JzZXJ2ZXJzXSB8fCBudWxsO1xuZnVuY3Rpb24gY2FsbEZsdWlkT2JzZXJ2ZXIob2JzZXJ2ZXIyLCBldmVudCkge1xuICBpZiAob2JzZXJ2ZXIyLmV2ZW50T2JzZXJ2ZWQpIHtcbiAgICBvYnNlcnZlcjIuZXZlbnRPYnNlcnZlZChldmVudCk7XG4gIH0gZWxzZSB7XG4gICAgb2JzZXJ2ZXIyKGV2ZW50KTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbEZsdWlkT2JzZXJ2ZXJzKHRhcmdldCwgZXZlbnQpIHtcbiAgY29uc3Qgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuICBpZiAob2JzZXJ2ZXJzKSB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyMikgPT4ge1xuICAgICAgY2FsbEZsdWlkT2JzZXJ2ZXIob2JzZXJ2ZXIyLCBldmVudCk7XG4gICAgfSk7XG4gIH1cbn1cbnZhciBGbHVpZFZhbHVlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihnZXQpIHtcbiAgICBpZiAoIWdldCAmJiAhKGdldCA9IHRoaXMuZ2V0KSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGdldHRlclwiKTtcbiAgICB9XG4gICAgc2V0Rmx1aWRHZXR0ZXIodGhpcywgZ2V0KTtcbiAgfVxufTtcbiRnZXQsICRvYnNlcnZlcnM7XG52YXIgc2V0Rmx1aWRHZXR0ZXIgPSAodGFyZ2V0LCBnZXQpID0+IHNldEhpZGRlbih0YXJnZXQsICRnZXQsIGdldCk7XG5mdW5jdGlvbiBhZGRGbHVpZE9ic2VydmVyKHRhcmdldCwgb2JzZXJ2ZXIyKSB7XG4gIGlmICh0YXJnZXRbJGdldF0pIHtcbiAgICBsZXQgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuICAgIGlmICghb2JzZXJ2ZXJzKSB7XG4gICAgICBzZXRIaWRkZW4odGFyZ2V0LCAkb2JzZXJ2ZXJzLCBvYnNlcnZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICB9XG4gICAgaWYgKCFvYnNlcnZlcnMuaGFzKG9ic2VydmVyMikpIHtcbiAgICAgIG9ic2VydmVycy5hZGQob2JzZXJ2ZXIyKTtcbiAgICAgIGlmICh0YXJnZXQub2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgICB0YXJnZXQub2JzZXJ2ZXJBZGRlZChvYnNlcnZlcnMuc2l6ZSwgb2JzZXJ2ZXIyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9ic2VydmVyMjtcbn1cbmZ1bmN0aW9uIHJlbW92ZUZsdWlkT2JzZXJ2ZXIodGFyZ2V0LCBvYnNlcnZlcjIpIHtcbiAgY29uc3Qgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuICBpZiAob2JzZXJ2ZXJzICYmIG9ic2VydmVycy5oYXMob2JzZXJ2ZXIyKSkge1xuICAgIGNvbnN0IGNvdW50ID0gb2JzZXJ2ZXJzLnNpemUgLSAxO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgb2JzZXJ2ZXJzLmRlbGV0ZShvYnNlcnZlcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRbJG9ic2VydmVyc10gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Lm9ic2VydmVyUmVtb3ZlZCkge1xuICAgICAgdGFyZ2V0Lm9ic2VydmVyUmVtb3ZlZChjb3VudCwgb2JzZXJ2ZXIyKTtcbiAgICB9XG4gIH1cbn1cbnZhciBzZXRIaWRkZW4gPSAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgdmFsdWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG4vLyBzcmMvcmVnZXhzLnRzXG52YXIgbnVtYmVyUmVnZXggPSAvWytcXC1dPyg/OjB8WzEtOV1cXGQqKSg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2c7XG52YXIgY29sb3JSZWdleCA9IC8oIyg/OlswLTlhLWZdezJ9KXsyLDR9fCgjWzAtOWEtZl17M30pfChyZ2J8aHNsKWE/XFwoKC0/XFxkKyU/WyxcXHNdKyl7MiwzfVxccypbXFxkXFwuXSslP1xcKSkvZ2k7XG52YXIgdW5pdFJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7bnVtYmVyUmVnZXguc291cmNlfSkoJXxbYS16XSspYCwgXCJpXCIpO1xudmFyIHJnYmFSZWdleCA9IC9yZ2JhXFwoKFswLTlcXC4tXSspLCAoWzAtOVxcLi1dKyksIChbMC05XFwuLV0rKSwgKFswLTlcXC4tXSspXFwpL2dpO1xudmFyIGNzc1ZhcmlhYmxlUmVnZXggPSAvdmFyXFwoKC0tW2EtekEtWjAtOS1fXSspLD8gPyhbYS16QS1aMC05ICgpJSMuLC1dKyk/XFwpLztcblxuLy8gc3JjL3ZhcmlhYmxlVG9SZ2JhLnRzXG52YXIgdmFyaWFibGVUb1JnYmEgPSAoaW5wdXQpID0+IHtcbiAgY29uc3QgW3Rva2VuLCBmYWxsYmFja10gPSBwYXJzZUNTU1ZhcmlhYmxlKGlucHV0KTtcbiAgaWYgKCF0b2tlbiB8fCBpc1NTUigpKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIGNvbnN0IHZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHRva2VuKTtcbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfSBlbHNlIGlmIChmYWxsYmFjayAmJiBmYWxsYmFjay5zdGFydHNXaXRoKFwiLS1cIikpIHtcbiAgICBjb25zdCB2YWx1ZTIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoZmFsbGJhY2spO1xuICAgIGlmICh2YWx1ZTIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2sgJiYgY3NzVmFyaWFibGVSZWdleC50ZXN0KGZhbGxiYWNrKSkge1xuICAgIHJldHVybiB2YXJpYWJsZVRvUmdiYShmYWxsYmFjayk7XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2spIHtcbiAgICByZXR1cm4gZmFsbGJhY2s7XG4gIH1cbiAgcmV0dXJuIGlucHV0O1xufTtcbnZhciBwYXJzZUNTU1ZhcmlhYmxlID0gKGN1cnJlbnQpID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBjc3NWYXJpYWJsZVJlZ2V4LmV4ZWMoY3VycmVudCk7XG4gIGlmICghbWF0Y2gpXG4gICAgcmV0dXJuIFssXTtcbiAgY29uc3QgWywgdG9rZW4sIGZhbGxiYWNrXSA9IG1hdGNoO1xuICByZXR1cm4gW3Rva2VuLCBmYWxsYmFja107XG59O1xuXG4vLyBzcmMvc3RyaW5nSW50ZXJwb2xhdGlvbi50c1xudmFyIG5hbWVkQ29sb3JSZWdleDtcbnZhciByZ2JhUm91bmQgPSAoXywgcDEsIHAyLCBwMywgcDQpID0+IGByZ2JhKCR7TWF0aC5yb3VuZChwMSl9LCAke01hdGgucm91bmQocDIpfSwgJHtNYXRoLnJvdW5kKHAzKX0sICR7cDR9KWA7XG52YXIgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yMiA9IChjb25maWcpID0+IHtcbiAgaWYgKCFuYW1lZENvbG9yUmVnZXgpXG4gICAgbmFtZWRDb2xvclJlZ2V4ID0gY29sb3JzID8gKFxuICAgICAgLy8gbWF0Y2ggY29sb3IgbmFtZXMsIGlnbm9yZSBwYXJ0aWFsIG1hdGNoZXNcbiAgICAgIG5ldyBSZWdFeHAoYCgke09iamVjdC5rZXlzKGNvbG9ycykuam9pbihcInxcIil9KSg/IVxcXFx3KWAsIFwiZ1wiKVxuICAgICkgOiAoXG4gICAgICAvLyBuZXZlciBtYXRjaFxuICAgICAgL15cXGIkL1xuICAgICk7XG4gIGNvbnN0IG91dHB1dCA9IGNvbmZpZy5vdXRwdXQubWFwKCh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBnZXRGbHVpZFZhbHVlKHZhbHVlKS5yZXBsYWNlKGNzc1ZhcmlhYmxlUmVnZXgsIHZhcmlhYmxlVG9SZ2JhKS5yZXBsYWNlKGNvbG9yUmVnZXgsIGNvbG9yVG9SZ2JhKS5yZXBsYWNlKG5hbWVkQ29sb3JSZWdleCwgY29sb3JUb1JnYmEpO1xuICB9KTtcbiAgY29uc3Qga2V5ZnJhbWVzID0gb3V0cHV0Lm1hcCgodmFsdWUpID0+IHZhbHVlLm1hdGNoKG51bWJlclJlZ2V4KS5tYXAoTnVtYmVyKSk7XG4gIGNvbnN0IG91dHB1dFJhbmdlcyA9IGtleWZyYW1lc1swXS5tYXAoXG4gICAgKF8sIGkpID0+IGtleWZyYW1lcy5tYXAoKHZhbHVlcykgPT4ge1xuICAgICAgaWYgKCEoaSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdUaGUgYXJpdHkgb2YgZWFjaCBcIm91dHB1dFwiIHZhbHVlIG11c3QgYmUgZXF1YWwnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXNbaV07XG4gICAgfSlcbiAgKTtcbiAgY29uc3QgaW50ZXJwb2xhdG9ycyA9IG91dHB1dFJhbmdlcy5tYXAoXG4gICAgKG91dHB1dDIpID0+IGNyZWF0ZUludGVycG9sYXRvcih7IC4uLmNvbmZpZywgb3V0cHV0OiBvdXRwdXQyIH0pXG4gICk7XG4gIHJldHVybiAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBtaXNzaW5nVW5pdCA9ICF1bml0UmVnZXgudGVzdChvdXRwdXRbMF0pICYmIG91dHB1dC5maW5kKCh2YWx1ZSkgPT4gdW5pdFJlZ2V4LnRlc3QodmFsdWUpKT8ucmVwbGFjZShudW1iZXJSZWdleCwgXCJcIik7XG4gICAgbGV0IGkgPSAwO1xuICAgIHJldHVybiBvdXRwdXRbMF0ucmVwbGFjZShcbiAgICAgIG51bWJlclJlZ2V4LFxuICAgICAgKCkgPT4gYCR7aW50ZXJwb2xhdG9yc1tpKytdKGlucHV0KX0ke21pc3NpbmdVbml0IHx8IFwiXCJ9YFxuICAgICkucmVwbGFjZShyZ2JhUmVnZXgsIHJnYmFSb3VuZCk7XG4gIH07XG59O1xuXG4vLyBzcmMvZGVwcmVjYXRpb25zLnRzXG52YXIgcHJlZml4ID0gXCJyZWFjdC1zcHJpbmc6IFwiO1xudmFyIG9uY2UgPSAoZm4pID0+IHtcbiAgY29uc3QgZnVuYyA9IGZuO1xuICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3ByZWZpeH1vbmNlIHJlcXVpcmVzIGEgZnVuY3Rpb24gcGFyYW1ldGVyYCk7XG4gIH1cbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcbn07XG52YXIgd2FybkludGVycG9sYXRlID0gb25jZShjb25zb2xlLndhcm4pO1xuZnVuY3Rpb24gZGVwcmVjYXRlSW50ZXJwb2xhdGUoKSB7XG4gIHdhcm5JbnRlcnBvbGF0ZShcbiAgICBgJHtwcmVmaXh9VGhlIFwiaW50ZXJwb2xhdGVcIiBmdW5jdGlvbiBpcyBkZXByZWNhdGVkIGluIHY5ICh1c2UgXCJ0b1wiIGluc3RlYWQpYFxuICApO1xufVxudmFyIHdhcm5EaXJlY3RDYWxsID0gb25jZShjb25zb2xlLndhcm4pO1xuZnVuY3Rpb24gZGVwcmVjYXRlRGlyZWN0Q2FsbCgpIHtcbiAgd2FybkRpcmVjdENhbGwoXG4gICAgYCR7cHJlZml4fURpcmVjdGx5IGNhbGxpbmcgc3RhcnQgaW5zdGVhZCBvZiB1c2luZyB0aGUgYXBpIG9iamVjdCBpcyBkZXByZWNhdGVkIGluIHY5ICh1c2UgXCIuc3RhcnRcIiBpbnN0ZWFkKSwgdGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gbGF0ZXIgMC5YLjAgdmVyc2lvbnNgXG4gICk7XG59XG5cbi8vIHNyYy9pc0FuaW1hdGVkU3RyaW5nLnRzXG5mdW5jdGlvbiBpc0FuaW1hdGVkU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBpcy5zdHIodmFsdWUpICYmICh2YWx1ZVswXSA9PSBcIiNcIiB8fCAvXFxkLy50ZXN0KHZhbHVlKSB8fCAvLyBEbyBub3QgaWRlbnRpZnkgYSBDU1MgdmFyaWFibGUgYXMgYW4gQW5pbWF0ZWRTdHJpbmcgaWYgaXRzIFNTUlxuICAhaXNTU1IoKSAmJiBjc3NWYXJpYWJsZVJlZ2V4LnRlc3QodmFsdWUpIHx8IHZhbHVlIGluIChjb2xvcnMgfHwge30pKTtcbn1cblxuLy8gc3JjL2RvbS1ldmVudHMvc2Nyb2xsL2luZGV4LnRzXG5pbXBvcnQgeyByYWYgYXMgcmFmMyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcblxuLy8gc3JjL2RvbS1ldmVudHMvcmVzaXplL3Jlc2l6ZUVsZW1lbnQudHNcbnZhciBvYnNlcnZlcjtcbnZhciByZXNpemVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIGhhbmRsZU9ic2VydmF0aW9uID0gKGVudHJpZXMpID0+IGVudHJpZXMuZm9yRWFjaCgoeyB0YXJnZXQsIGNvbnRlbnRSZWN0IH0pID0+IHtcbiAgcmV0dXJuIHJlc2l6ZUhhbmRsZXJzLmdldCh0YXJnZXQpPy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyKGNvbnRlbnRSZWN0KSk7XG59KTtcbmZ1bmN0aW9uIHJlc2l6ZUVsZW1lbnQoaGFuZGxlciwgdGFyZ2V0KSB7XG4gIGlmICghb2JzZXJ2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihoYW5kbGVPYnNlcnZhdGlvbik7XG4gICAgfVxuICB9XG4gIGxldCBlbGVtZW50SGFuZGxlcnMgPSByZXNpemVIYW5kbGVycy5nZXQodGFyZ2V0KTtcbiAgaWYgKCFlbGVtZW50SGFuZGxlcnMpIHtcbiAgICBlbGVtZW50SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHJlc2l6ZUhhbmRsZXJzLnNldCh0YXJnZXQsIGVsZW1lbnRIYW5kbGVycyk7XG4gIH1cbiAgZWxlbWVudEhhbmRsZXJzLmFkZChoYW5kbGVyKTtcbiAgaWYgKG9ic2VydmVyKSB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQpO1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudEhhbmRsZXJzMiA9IHJlc2l6ZUhhbmRsZXJzLmdldCh0YXJnZXQpO1xuICAgIGlmICghZWxlbWVudEhhbmRsZXJzMilcbiAgICAgIHJldHVybjtcbiAgICBlbGVtZW50SGFuZGxlcnMyLmRlbGV0ZShoYW5kbGVyKTtcbiAgICBpZiAoIWVsZW1lbnRIYW5kbGVyczIuc2l6ZSAmJiBvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRhcmdldCk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvZG9tLWV2ZW50cy9yZXNpemUvcmVzaXplV2luZG93LnRzXG52YXIgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcjtcbnZhciBjcmVhdGVSZXNpemVIYW5kbGVyID0gKCkgPT4ge1xuICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgbGlzdGVuZXJzLmZvckVhY2goXG4gICAgICAoY2FsbGJhY2spID0+IGNhbGxiYWNrKHtcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gIH07XG59O1xudmFyIHJlc2l6ZVdpbmRvdyA9IChjYWxsYmFjaykgPT4ge1xuICBsaXN0ZW5lcnMuYWRkKGNhbGxiYWNrKTtcbiAgaWYgKCFjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcikge1xuICAgIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyID0gY3JlYXRlUmVzaXplSGFuZGxlcigpO1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgaWYgKCFsaXN0ZW5lcnMuc2l6ZSAmJiBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcikge1xuICAgICAgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIoKTtcbiAgICAgIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Jlc2l6ZS9pbmRleC50c1xudmFyIG9uUmVzaXplID0gKGNhbGxiYWNrLCB7IGNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB9ID0ge30pID0+IHtcbiAgaWYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIHJlc2l6ZVdpbmRvdyhjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc2l6ZUVsZW1lbnQoY2FsbGJhY2ssIGNvbnRhaW5lcik7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm9ncmVzcy50c1xudmFyIHByb2dyZXNzID0gKG1pbiwgbWF4LCB2YWx1ZSkgPT4gbWF4IC0gbWluID09PSAwID8gMSA6ICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTtcblxuLy8gc3JjL2RvbS1ldmVudHMvc2Nyb2xsL1Njcm9sbEhhbmRsZXIudHNcbnZhciBTQ1JPTExfS0VZUyA9IHtcbiAgeDoge1xuICAgIGxlbmd0aDogXCJXaWR0aFwiLFxuICAgIHBvc2l0aW9uOiBcIkxlZnRcIlxuICB9LFxuICB5OiB7XG4gICAgbGVuZ3RoOiBcIkhlaWdodFwiLFxuICAgIHBvc2l0aW9uOiBcIlRvcFwiXG4gIH1cbn07XG52YXIgU2Nyb2xsSGFuZGxlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY2FsbGJhY2ssIGNvbnRhaW5lcikge1xuICAgIHRoaXMuY3JlYXRlQXhpcyA9ICgpID0+ICh7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBzY3JvbGxMZW5ndGg6IDBcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUF4aXMgPSAoYXhpc05hbWUpID0+IHtcbiAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmluZm9bYXhpc05hbWVdO1xuICAgICAgY29uc3QgeyBsZW5ndGgsIHBvc2l0aW9uIH0gPSBTQ1JPTExfS0VZU1theGlzTmFtZV07XG4gICAgICBheGlzLmN1cnJlbnQgPSB0aGlzLmNvbnRhaW5lcltgc2Nyb2xsJHtwb3NpdGlvbn1gXTtcbiAgICAgIGF4aXMuc2Nyb2xsTGVuZ3RoID0gdGhpcy5jb250YWluZXJbYHNjcm9sbCR7bGVuZ3RofWBdIC0gdGhpcy5jb250YWluZXJbYGNsaWVudCR7bGVuZ3RofWBdO1xuICAgICAgYXhpcy5wcm9ncmVzcyA9IHByb2dyZXNzKDAsIGF4aXMuc2Nyb2xsTGVuZ3RoLCBheGlzLmN1cnJlbnQpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUF4aXMoXCJ4XCIpO1xuICAgICAgdGhpcy51cGRhdGVBeGlzKFwieVwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2VuZEV2ZW50ID0gKCkgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmluZm8pO1xuICAgIH07XG4gICAgdGhpcy5hZHZhbmNlID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMuc2VuZEV2ZW50KCk7XG4gICAgfTtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5pbmZvID0ge1xuICAgICAgdGltZTogMCxcbiAgICAgIHg6IHRoaXMuY3JlYXRlQXhpcygpLFxuICAgICAgeTogdGhpcy5jcmVhdGVBeGlzKClcbiAgICB9O1xuICB9XG59O1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9zY3JvbGwvaW5kZXgudHNcbnZhciBzY3JvbGxMaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciByZXNpemVMaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBvblNjcm9sbEhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgZ2V0VGFyZ2V0ID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyB3aW5kb3cgOiBjb250YWluZXI7XG52YXIgb25TY3JvbGwgPSAoY2FsbGJhY2ssIHsgY29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IH0gPSB7fSkgPT4ge1xuICBsZXQgY29udGFpbmVySGFuZGxlcnMgPSBvblNjcm9sbEhhbmRsZXJzLmdldChjb250YWluZXIpO1xuICBpZiAoIWNvbnRhaW5lckhhbmRsZXJzKSB7XG4gICAgY29udGFpbmVySGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIG9uU2Nyb2xsSGFuZGxlcnMuc2V0KGNvbnRhaW5lciwgY29udGFpbmVySGFuZGxlcnMpO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lckhhbmRsZXIgPSBuZXcgU2Nyb2xsSGFuZGxlcihjYWxsYmFjaywgY29udGFpbmVyKTtcbiAgY29udGFpbmVySGFuZGxlcnMuYWRkKGNvbnRhaW5lckhhbmRsZXIpO1xuICBpZiAoIXNjcm9sbExpc3RlbmVycy5oYXMoY29udGFpbmVyKSkge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgY29udGFpbmVySGFuZGxlcnM/LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIuYWR2YW5jZSgpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgc2Nyb2xsTGlzdGVuZXJzLnNldChjb250YWluZXIsIGxpc3RlbmVyKTtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRUYXJnZXQoY29udGFpbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIGlmIChjb250YWluZXIgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgcmVzaXplTGlzdGVuZXJzLnNldChjb250YWluZXIsIG9uUmVzaXplKGxpc3RlbmVyLCB7IGNvbnRhaW5lciB9KSk7XG4gICAgfVxuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgY29uc3QgYW5pbWF0ZVNjcm9sbCA9IHNjcm9sbExpc3RlbmVycy5nZXQoY29udGFpbmVyKTtcbiAgcmFmMyhhbmltYXRlU2Nyb2xsKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICByYWYzLmNhbmNlbChhbmltYXRlU2Nyb2xsKTtcbiAgICBjb25zdCBjb250YWluZXJIYW5kbGVyczIgPSBvblNjcm9sbEhhbmRsZXJzLmdldChjb250YWluZXIpO1xuICAgIGlmICghY29udGFpbmVySGFuZGxlcnMyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnRhaW5lckhhbmRsZXJzMi5kZWxldGUoY29udGFpbmVySGFuZGxlcik7XG4gICAgaWYgKGNvbnRhaW5lckhhbmRsZXJzMi5zaXplKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gc2Nyb2xsTGlzdGVuZXJzLmdldChjb250YWluZXIpO1xuICAgIHNjcm9sbExpc3RlbmVycy5kZWxldGUoY29udGFpbmVyKTtcbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGdldFRhcmdldChjb250YWluZXIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbGlzdGVuZXIpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbGlzdGVuZXIpO1xuICAgICAgcmVzaXplTGlzdGVuZXJzLmdldChjb250YWluZXIpPy4oKTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlQ29uc3RhbnQudHNcbmltcG9ydCB7IHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQ29uc3RhbnQoaW5pdCkge1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGlmIChyZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgIHJlZi5jdXJyZW50ID0gaW5pdCgpO1xuICB9XG4gIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUZvcmNlVXBkYXRlLnRzXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlSXNNb3VudGVkLnRzXG5pbXBvcnQgeyB1c2VSZWYgYXMgdXNlUmVmMiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC50c1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gaXNTU1IoKSA/IHVzZUVmZmVjdCA6IHVzZUxheW91dEVmZmVjdDtcblxuLy8gc3JjL2hvb2tzL3VzZUlzTW91bnRlZC50c1xudmFyIHVzZUlzTW91bnRlZCA9ICgpID0+IHtcbiAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmMihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBpc01vdW50ZWQ7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlRm9yY2VVcGRhdGUudHNcbmZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xuICBjb25zdCB1cGRhdGUgPSB1c2VTdGF0ZSgpWzFdO1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHVwZGF0ZShNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZW1vT25lLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MiwgdXNlUmVmIGFzIHVzZVJlZjMsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlTWVtb09uZShnZXRSZXN1bHQsIGlucHV0cykge1xuICBjb25zdCBbaW5pdGlhbF0gPSB1c2VTdGF0ZTIoXG4gICAgKCkgPT4gKHtcbiAgICAgIGlucHV0cyxcbiAgICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgICB9KVxuICApO1xuICBjb25zdCBjb21taXR0ZWQgPSB1c2VSZWYzKCk7XG4gIGNvbnN0IHByZXZDYWNoZSA9IGNvbW1pdHRlZC5jdXJyZW50O1xuICBsZXQgY2FjaGUgPSBwcmV2Q2FjaGU7XG4gIGlmIChjYWNoZSkge1xuICAgIGNvbnN0IHVzZUNhY2hlID0gQm9vbGVhbihcbiAgICAgIGlucHV0cyAmJiBjYWNoZS5pbnB1dHMgJiYgYXJlSW5wdXRzRXF1YWwoaW5wdXRzLCBjYWNoZS5pbnB1dHMpXG4gICAgKTtcbiAgICBpZiAoIXVzZUNhY2hlKSB7XG4gICAgICBjYWNoZSA9IHtcbiAgICAgICAgaW5wdXRzLFxuICAgICAgICByZXN1bHQ6IGdldFJlc3VsdCgpXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjYWNoZSA9IGluaXRpYWw7XG4gIH1cbiAgdXNlRWZmZWN0MigoKSA9PiB7XG4gICAgY29tbWl0dGVkLmN1cnJlbnQgPSBjYWNoZTtcbiAgICBpZiAocHJldkNhY2hlID09IGluaXRpYWwpIHtcbiAgICAgIGluaXRpYWwuaW5wdXRzID0gaW5pdGlhbC5yZXN1bHQgPSB2b2lkIDA7XG4gICAgfVxuICB9LCBbY2FjaGVdKTtcbiAgcmV0dXJuIGNhY2hlLnJlc3VsdDtcbn1cbmZ1bmN0aW9uIGFyZUlucHV0c0VxdWFsKG5leHQsIHByZXYpIHtcbiAgaWYgKG5leHQubGVuZ3RoICE9PSBwcmV2Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobmV4dFtpXSAhPT0gcHJldltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZU9uY2UudHNcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QzIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlT25jZSA9IChlZmZlY3QpID0+IHVzZUVmZmVjdDMoZWZmZWN0LCBlbXB0eURlcHMpO1xudmFyIGVtcHR5RGVwcyA9IFtdO1xuXG4vLyBzcmMvaG9va3MvdXNlUHJldi50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDQsIHVzZVJlZiBhcyB1c2VSZWY0IH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VQcmV2KHZhbHVlKSB7XG4gIGNvbnN0IHByZXZSZWYgPSB1c2VSZWY0KCk7XG4gIHVzZUVmZmVjdDQoKCkgPT4ge1xuICAgIHByZXZSZWYuY3VycmVudCA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHByZXZSZWYuY3VycmVudDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVJlZHVjZWRNb3Rpb24udHNcbmltcG9ydCB7IHVzZVN0YXRlIGFzIHVzZVN0YXRlMyB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZVJlZHVjZWRNb3Rpb24gPSAoKSA9PiB7XG4gIGNvbnN0IFtyZWR1Y2VkTW90aW9uLCBzZXRSZWR1Y2VkTW90aW9uXSA9IHVzZVN0YXRlMyhudWxsKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbXFsID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbilcIik7XG4gICAgY29uc3QgaGFuZGxlTWVkaWFDaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgc2V0UmVkdWNlZE1vdGlvbihlLm1hdGNoZXMpO1xuICAgICAgYXNzaWduKHtcbiAgICAgICAgc2tpcEFuaW1hdGlvbjogZS5tYXRjaGVzXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGhhbmRsZU1lZGlhQ2hhbmdlKG1xbCk7XG4gICAgaWYgKG1xbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICBtcWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1xbC5hZGRMaXN0ZW5lcihoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAobXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlTWVkaWFDaGFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXFsLnJlbW92ZUxpc3RlbmVyKGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiByZWR1Y2VkTW90aW9uO1xufTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyByYWYgYXMgcmFmNCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcbmV4cG9ydCB7XG4gIEZsdWlkVmFsdWUsXG4gIGdsb2JhbHNfZXhwb3J0cyBhcyBHbG9iYWxzLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICBjYWxsRmx1aWRPYnNlcnZlcixcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzLFxuICBjbGFtcCxcbiAgY29sb3JUb1JnYmEsXG4gIGNvbG9yczIgYXMgY29sb3JzLFxuICBjcmVhdGVJbnRlcnBvbGF0b3IsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjIgYXMgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLFxuICBkZWZpbmVIaWRkZW4sXG4gIGRlcHJlY2F0ZURpcmVjdENhbGwsXG4gIGRlcHJlY2F0ZUludGVycG9sYXRlLFxuICBlYWNoLFxuICBlYWNoUHJvcCxcbiAgZWFzaW5ncyxcbiAgZmx1c2gsXG4gIGZsdXNoQ2FsbHMsXG4gIGZyYW1lTG9vcCxcbiAgZ2V0Rmx1aWRPYnNlcnZlcnMsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGhhc0ZsdWlkVmFsdWUsXG4gIGhleDMsXG4gIGhleDQsXG4gIGhleDYsXG4gIGhleDgsXG4gIGhzbCxcbiAgaHNsYSxcbiAgaXMsXG4gIGlzQW5pbWF0ZWRTdHJpbmcsXG4gIGlzRXF1YWwsXG4gIGlzU1NSLFxuICBub29wLFxuICBvblJlc2l6ZSxcbiAgb25TY3JvbGwsXG4gIG9uY2UsXG4gIHByZWZpeCxcbiAgcmFmNCBhcyByYWYsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIsXG4gIHJnYixcbiAgcmdiYSxcbiAgc2V0Rmx1aWRHZXR0ZXIsXG4gIHRvQXJyYXksXG4gIHVzZUNvbnN0YW50LFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCxcbiAgdXNlTWVtb09uZSxcbiAgdXNlT25jZSxcbiAgdXNlUHJldixcbiAgdXNlUmVkdWNlZE1vdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcy5tYXAiLAogICAgIi8vIHNyYy9ob29rcy91c2VDaGFpbi50c1xuaW1wb3J0IHsgZWFjaCwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvaGVscGVycy50c1xuaW1wb3J0IHtcbiAgaXMsXG4gIHRvQXJyYXksXG4gIGVhY2hQcm9wLFxuICBnZXRGbHVpZFZhbHVlLFxuICBpc0FuaW1hdGVkU3RyaW5nLFxuICBHbG9iYWxzIGFzIEdcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBjYWxsUHJvcCh2YWx1ZSwgLi4uYXJncykge1xuICByZXR1cm4gaXMuZnVuKHZhbHVlKSA/IHZhbHVlKC4uLmFyZ3MpIDogdmFsdWU7XG59XG52YXIgbWF0Y2hQcm9wID0gKHZhbHVlLCBrZXkpID0+IHZhbHVlID09PSB0cnVlIHx8ICEhKGtleSAmJiB2YWx1ZSAmJiAoaXMuZnVuKHZhbHVlKSA/IHZhbHVlKGtleSkgOiB0b0FycmF5KHZhbHVlKS5pbmNsdWRlcyhrZXkpKSk7XG52YXIgcmVzb2x2ZVByb3AgPSAocHJvcCwga2V5KSA9PiBpcy5vYmoocHJvcCkgPyBrZXkgJiYgcHJvcFtrZXldIDogcHJvcDtcbnZhciBnZXREZWZhdWx0UHJvcCA9IChwcm9wcywga2V5KSA9PiBwcm9wcy5kZWZhdWx0ID09PSB0cnVlID8gcHJvcHNba2V5XSA6IHByb3BzLmRlZmF1bHQgPyBwcm9wcy5kZWZhdWx0W2tleV0gOiB2b2lkIDA7XG52YXIgbm9vcFRyYW5zZm9ybSA9ICh2YWx1ZSkgPT4gdmFsdWU7XG52YXIgZ2V0RGVmYXVsdFByb3BzID0gKHByb3BzLCB0cmFuc2Zvcm0gPSBub29wVHJhbnNmb3JtKSA9PiB7XG4gIGxldCBrZXlzID0gREVGQVVMVF9QUk9QUztcbiAgaWYgKHByb3BzLmRlZmF1bHQgJiYgcHJvcHMuZGVmYXVsdCAhPT0gdHJ1ZSkge1xuICAgIHByb3BzID0gcHJvcHMuZGVmYXVsdDtcbiAgICBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICB9XG4gIGNvbnN0IGRlZmF1bHRzMiA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm0ocHJvcHNba2V5XSwga2V5KTtcbiAgICBpZiAoIWlzLnVuZCh2YWx1ZSkpIHtcbiAgICAgIGRlZmF1bHRzMltrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0czI7XG59O1xudmFyIERFRkFVTFRfUFJPUFMgPSBbXG4gIFwiY29uZmlnXCIsXG4gIFwib25Qcm9wc1wiLFxuICBcIm9uU3RhcnRcIixcbiAgXCJvbkNoYW5nZVwiLFxuICBcIm9uUGF1c2VcIixcbiAgXCJvblJlc3VtZVwiLFxuICBcIm9uUmVzdFwiXG5dO1xudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBjb25maWc6IDEsXG4gIGZyb206IDEsXG4gIHRvOiAxLFxuICByZWY6IDEsXG4gIGxvb3A6IDEsXG4gIHJlc2V0OiAxLFxuICBwYXVzZTogMSxcbiAgY2FuY2VsOiAxLFxuICByZXZlcnNlOiAxLFxuICBpbW1lZGlhdGU6IDEsXG4gIGRlZmF1bHQ6IDEsXG4gIGRlbGF5OiAxLFxuICBvblByb3BzOiAxLFxuICBvblN0YXJ0OiAxLFxuICBvbkNoYW5nZTogMSxcbiAgb25QYXVzZTogMSxcbiAgb25SZXN1bWU6IDEsXG4gIG9uUmVzdDogMSxcbiAgb25SZXNvbHZlOiAxLFxuICAvLyBUcmFuc2l0aW9uIHByb3BzXG4gIGl0ZW1zOiAxLFxuICB0cmFpbDogMSxcbiAgc29ydDogMSxcbiAgZXhwaXJlczogMSxcbiAgaW5pdGlhbDogMSxcbiAgZW50ZXI6IDEsXG4gIHVwZGF0ZTogMSxcbiAgbGVhdmU6IDEsXG4gIGNoaWxkcmVuOiAxLFxuICBvbkRlc3Ryb3llZDogMSxcbiAgLy8gSW50ZXJuYWwgcHJvcHNcbiAga2V5czogMSxcbiAgY2FsbElkOiAxLFxuICBwYXJlbnRJZDogMVxufTtcbmZ1bmN0aW9uIGdldEZvcndhcmRQcm9wcyhwcm9wcykge1xuICBjb25zdCBmb3J3YXJkID0ge307XG4gIGxldCBjb3VudCA9IDA7XG4gIGVhY2hQcm9wKHByb3BzLCAodmFsdWUsIHByb3ApID0+IHtcbiAgICBpZiAoIVJFU0VSVkVEX1BST1BTW3Byb3BdKSB7XG4gICAgICBmb3J3YXJkW3Byb3BdID0gdmFsdWU7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgfSk7XG4gIGlmIChjb3VudCkge1xuICAgIHJldHVybiBmb3J3YXJkO1xuICB9XG59XG5mdW5jdGlvbiBpbmZlclRvKHByb3BzKSB7XG4gIGNvbnN0IHRvMiA9IGdldEZvcndhcmRQcm9wcyhwcm9wcyk7XG4gIGlmICh0bzIpIHtcbiAgICBjb25zdCBvdXQgPSB7IHRvOiB0bzIgfTtcbiAgICBlYWNoUHJvcChwcm9wcywgKHZhbCwga2V5KSA9PiBrZXkgaW4gdG8yIHx8IChvdXRba2V5XSA9IHZhbCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgcmV0dXJuIHsgLi4ucHJvcHMgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVHb2FsKHZhbHVlKSB7XG4gIHZhbHVlID0gZ2V0Rmx1aWRWYWx1ZSh2YWx1ZSk7XG4gIHJldHVybiBpcy5hcnIodmFsdWUpID8gdmFsdWUubWFwKGNvbXB1dGVHb2FsKSA6IGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpID8gRy5jcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3Ioe1xuICAgIHJhbmdlOiBbMCwgMV0sXG4gICAgb3V0cHV0OiBbdmFsdWUsIHZhbHVlXVxuICB9KSgxKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHMocHJvcHMpIHtcbiAgZm9yIChjb25zdCBfIGluIHByb3BzKVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc0FzeW5jVG8odG8yKSB7XG4gIHJldHVybiBpcy5mdW4odG8yKSB8fCBpcy5hcnIodG8yKSAmJiBpcy5vYmoodG8yWzBdKTtcbn1cbmZ1bmN0aW9uIGRldGFjaFJlZnMoY3RybCwgcmVmKSB7XG4gIGN0cmwucmVmPy5kZWxldGUoY3RybCk7XG4gIHJlZj8uZGVsZXRlKGN0cmwpO1xufVxuZnVuY3Rpb24gcmVwbGFjZVJlZihjdHJsLCByZWYpIHtcbiAgaWYgKHJlZiAmJiBjdHJsLnJlZiAhPT0gcmVmKSB7XG4gICAgY3RybC5yZWY/LmRlbGV0ZShjdHJsKTtcbiAgICByZWYuYWRkKGN0cmwpO1xuICAgIGN0cmwucmVmID0gcmVmO1xuICB9XG59XG5cbi8vIHNyYy9ob29rcy91c2VDaGFpbi50c1xuZnVuY3Rpb24gdXNlQ2hhaW4ocmVmcywgdGltZVN0ZXBzLCB0aW1lRnJhbWUgPSAxZTMpIHtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRpbWVTdGVwcykge1xuICAgICAgbGV0IHByZXZEZWxheSA9IDA7XG4gICAgICBlYWNoKHJlZnMsIChyZWYsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlcnMgPSByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGxldCBkZWxheSA9IHRpbWVGcmFtZSAqIHRpbWVTdGVwc1tpXTtcbiAgICAgICAgICBpZiAoaXNOYU4oZGVsYXkpKVxuICAgICAgICAgICAgZGVsYXkgPSBwcmV2RGVsYXk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJldkRlbGF5ID0gZGVsYXk7XG4gICAgICAgICAgZWFjaChjb250cm9sbGVycywgKGN0cmwpID0+IHtcbiAgICAgICAgICAgIGVhY2goY3RybC5xdWV1ZSwgKHByb3BzKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lbW9pemVkRGVsYXlQcm9wID0gcHJvcHMuZGVsYXk7XG4gICAgICAgICAgICAgIHByb3BzLmRlbGF5ID0gKGtleSkgPT4gZGVsYXkgKyBjYWxsUHJvcChtZW1vaXplZERlbGF5UHJvcCB8fCAwLCBrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVmLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgZWFjaChyZWZzLCAocmVmKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXJzID0gcmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChjb250cm9sbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBxdWV1ZXMgPSBjb250cm9sbGVycy5tYXAoKGN0cmwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSBjdHJsLnF1ZXVlO1xuICAgICAgICAgICAgY3RybC5xdWV1ZSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcCA9IHAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBlYWNoKFxuICAgICAgICAgICAgICBjb250cm9sbGVycyxcbiAgICAgICAgICAgICAgKGN0cmwsIGkpID0+IGVhY2gocXVldWVzW2ldIHx8IFtdLCAodXBkYXRlMikgPT4gY3RybC5xdWV1ZS5wdXNoKHVwZGF0ZTIpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZWYuc3RhcnQoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmcudHNcbmltcG9ydCB7IGlzIGFzIGlzOSB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5ncy50c1xuaW1wb3J0IHsgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MiwgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBpcyBhcyBpczgsXG4gIGVhY2ggYXMgZWFjaDUsXG4gIHVzZVByZXYsXG4gIHVzZU9uY2UsXG4gIHVzZUZvcmNlVXBkYXRlLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvU3ByaW5nVmFsdWUudHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzNSxcbiAgcmFmIGFzIHJhZjMsXG4gIGVhY2ggYXMgZWFjaDIsXG4gIGlzRXF1YWwsXG4gIHRvQXJyYXkgYXMgdG9BcnJheTIsXG4gIGVhY2hQcm9wIGFzIGVhY2hQcm9wMyxcbiAgZnJhbWVMb29wIGFzIGZyYW1lTG9vcDIsXG4gIGZsdXNoQ2FsbHMsXG4gIGdldEZsdWlkVmFsdWUgYXMgZ2V0Rmx1aWRWYWx1ZTIsXG4gIGlzQW5pbWF0ZWRTdHJpbmcgYXMgaXNBbmltYXRlZFN0cmluZzIsXG4gIEdsb2JhbHMgYXMgRzUsXG4gIGNhbGxGbHVpZE9ic2VydmVycyBhcyBjYWxsRmx1aWRPYnNlcnZlcnMyLFxuICBoYXNGbHVpZFZhbHVlLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICByZW1vdmVGbHVpZE9ic2VydmVyLFxuICBnZXRGbHVpZE9ic2VydmVyc1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIEFuaW1hdGVkVmFsdWUsXG4gIEFuaW1hdGVkU3RyaW5nLFxuICBnZXRQYXlsb2FkLFxuICBnZXRBbmltYXRlZCBhcyBnZXRBbmltYXRlZDIsXG4gIHNldEFuaW1hdGVkLFxuICBnZXRBbmltYXRlZFR5cGVcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcblxuLy8gc3JjL0FuaW1hdGlvbkNvbmZpZy50c1xuaW1wb3J0IHsgaXMgYXMgaXMyLCBlYXNpbmdzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9jb25zdGFudHMudHNcbnZhciBjb25maWcgPSB7XG4gIGRlZmF1bHQ6IHsgdGVuc2lvbjogMTcwLCBmcmljdGlvbjogMjYgfSxcbiAgZ2VudGxlOiB7IHRlbnNpb246IDEyMCwgZnJpY3Rpb246IDE0IH0sXG4gIHdvYmJseTogeyB0ZW5zaW9uOiAxODAsIGZyaWN0aW9uOiAxMiB9LFxuICBzdGlmZjogeyB0ZW5zaW9uOiAyMTAsIGZyaWN0aW9uOiAyMCB9LFxuICBzbG93OiB7IHRlbnNpb246IDI4MCwgZnJpY3Rpb246IDYwIH0sXG4gIG1vbGFzc2VzOiB7IHRlbnNpb246IDI4MCwgZnJpY3Rpb246IDEyMCB9XG59O1xuXG4vLyBzcmMvQW5pbWF0aW9uQ29uZmlnLnRzXG52YXIgZGVmYXVsdHMgPSB7XG4gIC4uLmNvbmZpZy5kZWZhdWx0LFxuICBtYXNzOiAxLFxuICBkYW1waW5nOiAxLFxuICBlYXNpbmc6IGVhc2luZ3MubGluZWFyLFxuICBjbGFtcDogZmFsc2Vcbn07XG52YXIgQW5pbWF0aW9uQ29uZmlnID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5pdGlhbCB2ZWxvY2l0eSBvZiBvbmUgb3IgbW9yZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkZWZhdWx0cyk7XG4gIH1cbn07XG5mdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcyLCBuZXdDb25maWcsIGRlZmF1bHRDb25maWcpIHtcbiAgaWYgKGRlZmF1bHRDb25maWcpIHtcbiAgICBkZWZhdWx0Q29uZmlnID0geyAuLi5kZWZhdWx0Q29uZmlnIH07XG4gICAgc2FuaXRpemVDb25maWcoZGVmYXVsdENvbmZpZywgbmV3Q29uZmlnKTtcbiAgICBuZXdDb25maWcgPSB7IC4uLmRlZmF1bHRDb25maWcsIC4uLm5ld0NvbmZpZyB9O1xuICB9XG4gIHNhbml0aXplQ29uZmlnKGNvbmZpZzIsIG5ld0NvbmZpZyk7XG4gIE9iamVjdC5hc3NpZ24oY29uZmlnMiwgbmV3Q29uZmlnKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAoY29uZmlnMltrZXldID09IG51bGwpIHtcbiAgICAgIGNvbmZpZzJba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICB9XG4gIGxldCB7IGZyZXF1ZW5jeSwgZGFtcGluZyB9ID0gY29uZmlnMjtcbiAgY29uc3QgeyBtYXNzIH0gPSBjb25maWcyO1xuICBpZiAoIWlzMi51bmQoZnJlcXVlbmN5KSkge1xuICAgIGlmIChmcmVxdWVuY3kgPCAwLjAxKVxuICAgICAgZnJlcXVlbmN5ID0gMC4wMTtcbiAgICBpZiAoZGFtcGluZyA8IDApXG4gICAgICBkYW1waW5nID0gMDtcbiAgICBjb25maWcyLnRlbnNpb24gPSBNYXRoLnBvdygyICogTWF0aC5QSSAvIGZyZXF1ZW5jeSwgMikgKiBtYXNzO1xuICAgIGNvbmZpZzIuZnJpY3Rpb24gPSA0ICogTWF0aC5QSSAqIGRhbXBpbmcgKiBtYXNzIC8gZnJlcXVlbmN5O1xuICB9XG4gIHJldHVybiBjb25maWcyO1xufVxuZnVuY3Rpb24gc2FuaXRpemVDb25maWcoY29uZmlnMiwgcHJvcHMpIHtcbiAgaWYgKCFpczIudW5kKHByb3BzLmRlY2F5KSkge1xuICAgIGNvbmZpZzIuZHVyYXRpb24gPSB2b2lkIDA7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaXNUZW5zaW9uQ29uZmlnID0gIWlzMi51bmQocHJvcHMudGVuc2lvbikgfHwgIWlzMi51bmQocHJvcHMuZnJpY3Rpb24pO1xuICAgIGlmIChpc1RlbnNpb25Db25maWcgfHwgIWlzMi51bmQocHJvcHMuZnJlcXVlbmN5KSB8fCAhaXMyLnVuZChwcm9wcy5kYW1waW5nKSB8fCAhaXMyLnVuZChwcm9wcy5tYXNzKSkge1xuICAgICAgY29uZmlnMi5kdXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgIGNvbmZpZzIuZGVjYXkgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChpc1RlbnNpb25Db25maWcpIHtcbiAgICAgIGNvbmZpZzIuZnJlcXVlbmN5ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvQW5pbWF0aW9uLnRzXG52YXIgZW1wdHlBcnJheSA9IFtdO1xudmFyIEFuaW1hdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy52YWx1ZXMgPSBlbXB0eUFycmF5O1xuICAgIHRoaXMudG9WYWx1ZXMgPSBudWxsO1xuICAgIHRoaXMuZnJvbVZhbHVlcyA9IGVtcHR5QXJyYXk7XG4gICAgdGhpcy5jb25maWcgPSBuZXcgQW5pbWF0aW9uQ29uZmlnKCk7XG4gICAgdGhpcy5pbW1lZGlhdGUgPSBmYWxzZTtcbiAgfVxufTtcblxuLy8gc3JjL3NjaGVkdWxlUHJvcHMudHNcbmltcG9ydCB7IGlzIGFzIGlzMywgcmFmLCBHbG9iYWxzIGFzIEcyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBzY2hlZHVsZVByb3BzKGNhbGxJZCwgeyBrZXksIHByb3BzLCBkZWZhdWx0UHJvcHMsIHN0YXRlLCBhY3Rpb25zIH0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgZGVsYXk7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgbGV0IGNhbmNlbCA9IG1hdGNoUHJvcChwcm9wcy5jYW5jZWwgPz8gZGVmYXVsdFByb3BzPy5jYW5jZWwsIGtleSk7XG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgb25TdGFydCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlzMy51bmQocHJvcHMucGF1c2UpKSB7XG4gICAgICAgIHN0YXRlLnBhdXNlZCA9IG1hdGNoUHJvcChwcm9wcy5wYXVzZSwga2V5KTtcbiAgICAgIH1cbiAgICAgIGxldCBwYXVzZSA9IGRlZmF1bHRQcm9wcz8ucGF1c2U7XG4gICAgICBpZiAocGF1c2UgIT09IHRydWUpIHtcbiAgICAgICAgcGF1c2UgPSBzdGF0ZS5wYXVzZWQgfHwgbWF0Y2hQcm9wKHBhdXNlLCBrZXkpO1xuICAgICAgfVxuICAgICAgZGVsYXkgPSBjYWxsUHJvcChwcm9wcy5kZWxheSB8fCAwLCBrZXkpO1xuICAgICAgaWYgKHBhdXNlKSB7XG4gICAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChvblJlc3VtZSk7XG4gICAgICAgIGFjdGlvbnMucGF1c2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbnMucmVzdW1lKCk7XG4gICAgICAgIG9uUmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUGF1c2UoKSB7XG4gICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQob25SZXN1bWUpO1xuICAgICAgc3RhdGUudGltZW91dHMuZGVsZXRlKHRpbWVvdXQpO1xuICAgICAgdGltZW91dC5jYW5jZWwoKTtcbiAgICAgIGRlbGF5ID0gdGltZW91dC50aW1lIC0gcmFmLm5vdygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblJlc3VtZSgpIHtcbiAgICAgIGlmIChkZWxheSA+IDAgJiYgIUcyLnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgc3RhdGUuZGVsYXllZCA9IHRydWU7XG4gICAgICAgIHRpbWVvdXQgPSByYWYuc2V0VGltZW91dChvblN0YXJ0LCBkZWxheSk7XG4gICAgICAgIHN0YXRlLnBhdXNlUXVldWUuYWRkKG9uUGF1c2UpO1xuICAgICAgICBzdGF0ZS50aW1lb3V0cy5hZGQodGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uU3RhcnQoKSB7XG4gICAgICBpZiAoc3RhdGUuZGVsYXllZCkge1xuICAgICAgICBzdGF0ZS5kZWxheWVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGF0ZS5wYXVzZVF1ZXVlLmRlbGV0ZShvblBhdXNlKTtcbiAgICAgIHN0YXRlLnRpbWVvdXRzLmRlbGV0ZSh0aW1lb3V0KTtcbiAgICAgIGlmIChjYWxsSWQgPD0gKHN0YXRlLmNhbmNlbElkIHx8IDApKSB7XG4gICAgICAgIGNhbmNlbCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhY3Rpb25zLnN0YXJ0KHsgLi4ucHJvcHMsIGNhbGxJZCwgY2FuY2VsIH0sIHJlc29sdmUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9ydW5Bc3luYy50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM0LFxuICByYWYgYXMgcmFmMixcbiAgZmx1c2gsXG4gIGVhY2hQcm9wIGFzIGVhY2hQcm9wMixcbiAgR2xvYmFscyBhcyBHM1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL0FuaW1hdGlvblJlc3VsdC50c1xudmFyIGdldENvbWJpbmVkUmVzdWx0ID0gKHRhcmdldCwgcmVzdWx0cykgPT4gcmVzdWx0cy5sZW5ndGggPT0gMSA/IHJlc3VsdHNbMF0gOiByZXN1bHRzLnNvbWUoKHJlc3VsdCkgPT4gcmVzdWx0LmNhbmNlbGxlZCkgPyBnZXRDYW5jZWxsZWRSZXN1bHQodGFyZ2V0LmdldCgpKSA6IHJlc3VsdHMuZXZlcnkoKHJlc3VsdCkgPT4gcmVzdWx0Lm5vb3ApID8gZ2V0Tm9vcFJlc3VsdCh0YXJnZXQuZ2V0KCkpIDogZ2V0RmluaXNoZWRSZXN1bHQoXG4gIHRhcmdldC5nZXQoKSxcbiAgcmVzdWx0cy5ldmVyeSgocmVzdWx0KSA9PiByZXN1bHQuZmluaXNoZWQpXG4pO1xudmFyIGdldE5vb3BSZXN1bHQgPSAodmFsdWUpID0+ICh7XG4gIHZhbHVlLFxuICBub29wOiB0cnVlLFxuICBmaW5pc2hlZDogdHJ1ZSxcbiAgY2FuY2VsbGVkOiBmYWxzZVxufSk7XG52YXIgZ2V0RmluaXNoZWRSZXN1bHQgPSAodmFsdWUsIGZpbmlzaGVkLCBjYW5jZWxsZWQgPSBmYWxzZSkgPT4gKHtcbiAgdmFsdWUsXG4gIGZpbmlzaGVkLFxuICBjYW5jZWxsZWRcbn0pO1xudmFyIGdldENhbmNlbGxlZFJlc3VsdCA9ICh2YWx1ZSkgPT4gKHtcbiAgdmFsdWUsXG4gIGNhbmNlbGxlZDogdHJ1ZSxcbiAgZmluaXNoZWQ6IGZhbHNlXG59KTtcblxuLy8gc3JjL3J1bkFzeW5jLnRzXG5mdW5jdGlvbiBydW5Bc3luYyh0bzIsIHByb3BzLCBzdGF0ZSwgdGFyZ2V0KSB7XG4gIGNvbnN0IHsgY2FsbElkLCBwYXJlbnRJZCwgb25SZXN0IH0gPSBwcm9wcztcbiAgY29uc3QgeyBhc3luY1RvOiBwcmV2VG8sIHByb21pc2U6IHByZXZQcm9taXNlIH0gPSBzdGF0ZTtcbiAgaWYgKCFwYXJlbnRJZCAmJiB0bzIgPT09IHByZXZUbyAmJiAhcHJvcHMucmVzZXQpIHtcbiAgICByZXR1cm4gcHJldlByb21pc2U7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLnByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgIHN0YXRlLmFzeW5jSWQgPSBjYWxsSWQ7XG4gICAgc3RhdGUuYXN5bmNUbyA9IHRvMjtcbiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMoXG4gICAgICBwcm9wcyxcbiAgICAgICh2YWx1ZSwga2V5KSA9PiAoXG4gICAgICAgIC8vIFRoZSBgb25SZXN0YCBwcm9wIGlzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIGBydW5Bc3luY2AgcHJvbWlzZSBpcyByZXNvbHZlZC5cbiAgICAgICAga2V5ID09PSBcIm9uUmVzdFwiID8gdm9pZCAwIDogdmFsdWVcbiAgICAgIClcbiAgICApO1xuICAgIGxldCBwcmV2ZW50QmFpbDtcbiAgICBsZXQgYmFpbDtcbiAgICBjb25zdCBiYWlsUHJvbWlzZSA9IG5ldyBQcm9taXNlKFxuICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4gKHByZXZlbnRCYWlsID0gcmVzb2x2ZSwgYmFpbCA9IHJlamVjdClcbiAgICApO1xuICAgIGNvbnN0IGJhaWxJZkVuZGVkID0gKGJhaWxTaWduYWwpID0+IHtcbiAgICAgIGNvbnN0IGJhaWxSZXN1bHQgPSAoXG4gICAgICAgIC8vIFRoZSBgY2FuY2VsYCBwcm9wIG9yIGBzdG9wYCBtZXRob2Qgd2FzIHVzZWQuXG4gICAgICAgIGNhbGxJZCA8PSAoc3RhdGUuY2FuY2VsSWQgfHwgMCkgJiYgZ2V0Q2FuY2VsbGVkUmVzdWx0KHRhcmdldCkgfHwgLy8gVGhlIGFzeW5jIGB0b2AgcHJvcCB3YXMgcmVwbGFjZWQuXG4gICAgICAgIGNhbGxJZCAhPT0gc3RhdGUuYXN5bmNJZCAmJiBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQsIGZhbHNlKVxuICAgICAgKTtcbiAgICAgIGlmIChiYWlsUmVzdWx0KSB7XG4gICAgICAgIGJhaWxTaWduYWwucmVzdWx0ID0gYmFpbFJlc3VsdDtcbiAgICAgICAgYmFpbChiYWlsU2lnbmFsKTtcbiAgICAgICAgdGhyb3cgYmFpbFNpZ25hbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFuaW1hdGUgPSAoYXJnMSwgYXJnMikgPT4ge1xuICAgICAgY29uc3QgYmFpbFNpZ25hbCA9IG5ldyBCYWlsU2lnbmFsKCk7XG4gICAgICBjb25zdCBza2lwQW5pbWF0aW9uU2lnbmFsID0gbmV3IFNraXBBbmltYXRpb25TaWduYWwoKTtcbiAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoRzMuc2tpcEFuaW1hdGlvbikge1xuICAgICAgICAgIHN0b3BBc3luYyhzdGF0ZSk7XG4gICAgICAgICAgc2tpcEFuaW1hdGlvblNpZ25hbC5yZXN1bHQgPSBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQsIGZhbHNlKTtcbiAgICAgICAgICBiYWlsKHNraXBBbmltYXRpb25TaWduYWwpO1xuICAgICAgICAgIHRocm93IHNraXBBbmltYXRpb25TaWduYWw7XG4gICAgICAgIH1cbiAgICAgICAgYmFpbElmRW5kZWQoYmFpbFNpZ25hbCk7XG4gICAgICAgIGNvbnN0IHByb3BzMiA9IGlzNC5vYmooYXJnMSkgPyB7IC4uLmFyZzEgfSA6IHsgLi4uYXJnMiwgdG86IGFyZzEgfTtcbiAgICAgICAgcHJvcHMyLnBhcmVudElkID0gY2FsbElkO1xuICAgICAgICBlYWNoUHJvcDIoZGVmYXVsdFByb3BzLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGlmIChpczQudW5kKHByb3BzMltrZXldKSkge1xuICAgICAgICAgICAgcHJvcHMyW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgdGFyZ2V0LnN0YXJ0KHByb3BzMik7XG4gICAgICAgIGJhaWxJZkVuZGVkKGJhaWxTaWduYWwpO1xuICAgICAgICBpZiAoc3RhdGUucGF1c2VkKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc3VtZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKHJlc3VtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICB9KSgpO1xuICAgIH07XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoRzMuc2tpcEFuaW1hdGlvbikge1xuICAgICAgc3RvcEFzeW5jKHN0YXRlKTtcbiAgICAgIHJldHVybiBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQsIGZhbHNlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGxldCBhbmltYXRpbmc7XG4gICAgICBpZiAoaXM0LmFycih0bzIpKSB7XG4gICAgICAgIGFuaW1hdGluZyA9IChhc3luYyAocXVldWUpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb3BzMiBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgYXdhaXQgYW5pbWF0ZShwcm9wczIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkodG8yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGluZyA9IFByb21pc2UucmVzb2x2ZSh0bzIoYW5pbWF0ZSwgdGFyZ2V0LnN0b3AuYmluZCh0YXJnZXQpKSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbYW5pbWF0aW5nLnRoZW4ocHJldmVudEJhaWwpLCBiYWlsUHJvbWlzZV0pO1xuICAgICAgcmVzdWx0ID0gZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LmdldCgpLCB0cnVlLCBmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgQmFpbFNpZ25hbCkge1xuICAgICAgICByZXN1bHQgPSBlcnIucmVzdWx0O1xuICAgICAgfSBlbHNlIGlmIChlcnIgaW5zdGFuY2VvZiBTa2lwQW5pbWF0aW9uU2lnbmFsKSB7XG4gICAgICAgIHJlc3VsdCA9IGVyci5yZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChjYWxsSWQgPT0gc3RhdGUuYXN5bmNJZCkge1xuICAgICAgICBzdGF0ZS5hc3luY0lkID0gcGFyZW50SWQ7XG4gICAgICAgIHN0YXRlLmFzeW5jVG8gPSBwYXJlbnRJZCA/IHByZXZUbyA6IHZvaWQgMDtcbiAgICAgICAgc3RhdGUucHJvbWlzZSA9IHBhcmVudElkID8gcHJldlByb21pc2UgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpczQuZnVuKG9uUmVzdCkpIHtcbiAgICAgIHJhZjIuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICBvblJlc3QocmVzdWx0LCB0YXJnZXQsIHRhcmdldC5pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KSgpO1xufVxuZnVuY3Rpb24gc3RvcEFzeW5jKHN0YXRlLCBjYW5jZWxJZCkge1xuICBmbHVzaChzdGF0ZS50aW1lb3V0cywgKHQpID0+IHQuY2FuY2VsKCkpO1xuICBzdGF0ZS5wYXVzZVF1ZXVlLmNsZWFyKCk7XG4gIHN0YXRlLnJlc3VtZVF1ZXVlLmNsZWFyKCk7XG4gIHN0YXRlLmFzeW5jSWQgPSBzdGF0ZS5hc3luY1RvID0gc3RhdGUucHJvbWlzZSA9IHZvaWQgMDtcbiAgaWYgKGNhbmNlbElkKVxuICAgIHN0YXRlLmNhbmNlbElkID0gY2FuY2VsSWQ7XG59XG52YXIgQmFpbFNpZ25hbCA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcbiAgICAgIFwiQW4gYXN5bmMgYW5pbWF0aW9uIGhhcyBiZWVuIGludGVycnVwdGVkLiBZb3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgZm9yZ290IHRvIHVzZSBgYXdhaXRgIG9yIGAuY2F0Y2goLi4uKWAgb24gaXRzIHJldHVybmVkIHByb21pc2UuXCJcbiAgICApO1xuICB9XG59O1xudmFyIFNraXBBbmltYXRpb25TaWduYWwgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoXCJTa2lwQW5pbWF0aW9uU2lnbmFsXCIpO1xuICB9XG59O1xuXG4vLyBzcmMvRnJhbWVWYWx1ZS50c1xuaW1wb3J0IHtcbiAgZGVwcmVjYXRlSW50ZXJwb2xhdGUsXG4gIGZyYW1lTG9vcCxcbiAgRmx1aWRWYWx1ZSBhcyBGbHVpZFZhbHVlMixcbiAgR2xvYmFscyBhcyBHNCxcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHsgZ2V0QW5pbWF0ZWQgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xudmFyIGlzRnJhbWVWYWx1ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBGcmFtZVZhbHVlO1xudmFyIG5leHRJZCA9IDE7XG52YXIgRnJhbWVWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgRmx1aWRWYWx1ZTIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaWQgPSBuZXh0SWQrKztcbiAgICB0aGlzLl9wcmlvcml0eSA9IDA7XG4gIH1cbiAgZ2V0IHByaW9yaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9wcmlvcml0eTtcbiAgfVxuICBzZXQgcHJpb3JpdHkocHJpb3JpdHkpIHtcbiAgICBpZiAodGhpcy5fcHJpb3JpdHkgIT0gcHJpb3JpdHkpIHtcbiAgICAgIHRoaXMuX3ByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICB0aGlzLl9vblByaW9yaXR5Q2hhbmdlKHByaW9yaXR5KTtcbiAgICB9XG4gIH1cbiAgLyoqIEdldCB0aGUgY3VycmVudCB2YWx1ZSAqL1xuICBnZXQoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkKHRoaXMpO1xuICAgIHJldHVybiBub2RlICYmIG5vZGUuZ2V0VmFsdWUoKTtcbiAgfVxuICAvKiogQ3JlYXRlIGEgc3ByaW5nIHRoYXQgbWFwcyBvdXIgdmFsdWUgdG8gYW5vdGhlciB2YWx1ZSAqL1xuICB0byguLi5hcmdzKSB7XG4gICAgcmV0dXJuIEc0LnRvKHRoaXMsIGFyZ3MpO1xuICB9XG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGB0b2AgbWV0aG9kIGluc3RlYWQuICovXG4gIGludGVycG9sYXRlKC4uLmFyZ3MpIHtcbiAgICBkZXByZWNhdGVJbnRlcnBvbGF0ZSgpO1xuICAgIHJldHVybiBHNC50byh0aGlzLCBhcmdzKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KCk7XG4gIH1cbiAgb2JzZXJ2ZXJBZGRlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAxKVxuICAgICAgdGhpcy5fYXR0YWNoKCk7XG4gIH1cbiAgb2JzZXJ2ZXJSZW1vdmVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDApXG4gICAgICB0aGlzLl9kZXRhY2goKTtcbiAgfVxuICAvKiogQ2FsbGVkIHdoZW4gdGhlIGZpcnN0IGNoaWxkIGlzIGFkZGVkLiAqL1xuICBfYXR0YWNoKCkge1xuICB9XG4gIC8qKiBDYWxsZWQgd2hlbiB0aGUgbGFzdCBjaGlsZCBpcyByZW1vdmVkLiAqL1xuICBfZGV0YWNoKCkge1xuICB9XG4gIC8qKiBUZWxsIG91ciBjaGlsZHJlbiBhYm91dCBvdXIgbmV3IHZhbHVlICovXG4gIF9vbkNoYW5nZSh2YWx1ZSwgaWRsZSA9IGZhbHNlKSB7XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIHtcbiAgICAgIHR5cGU6IFwiY2hhbmdlXCIsXG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICB2YWx1ZSxcbiAgICAgIGlkbGVcbiAgICB9KTtcbiAgfVxuICAvKiogVGVsbCBvdXIgY2hpbGRyZW4gYWJvdXQgb3VyIG5ldyBwcmlvcml0eSAqL1xuICBfb25Qcmlvcml0eUNoYW5nZShwcmlvcml0eSkge1xuICAgIGlmICghdGhpcy5pZGxlKSB7XG4gICAgICBmcmFtZUxvb3Auc29ydCh0aGlzKTtcbiAgICB9XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIHtcbiAgICAgIHR5cGU6IFwicHJpb3JpdHlcIixcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIHByaW9yaXR5XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9TcHJpbmdQaGFzZS50c1xudmFyICRQID0gU3ltYm9sLmZvcihcIlNwcmluZ1BoYXNlXCIpO1xudmFyIEhBU19BTklNQVRFRCA9IDE7XG52YXIgSVNfQU5JTUFUSU5HID0gMjtcbnZhciBJU19QQVVTRUQgPSA0O1xudmFyIGhhc0FuaW1hdGVkID0gKHRhcmdldCkgPT4gKHRhcmdldFskUF0gJiBIQVNfQU5JTUFURUQpID4gMDtcbnZhciBpc0FuaW1hdGluZyA9ICh0YXJnZXQpID0+ICh0YXJnZXRbJFBdICYgSVNfQU5JTUFUSU5HKSA+IDA7XG52YXIgaXNQYXVzZWQgPSAodGFyZ2V0KSA9PiAodGFyZ2V0WyRQXSAmIElTX1BBVVNFRCkgPiAwO1xudmFyIHNldEFjdGl2ZUJpdCA9ICh0YXJnZXQsIGFjdGl2ZSkgPT4gYWN0aXZlID8gdGFyZ2V0WyRQXSB8PSBJU19BTklNQVRJTkcgfCBIQVNfQU5JTUFURUQgOiB0YXJnZXRbJFBdICY9IH5JU19BTklNQVRJTkc7XG52YXIgc2V0UGF1c2VkQml0ID0gKHRhcmdldCwgcGF1c2VkKSA9PiBwYXVzZWQgPyB0YXJnZXRbJFBdIHw9IElTX1BBVVNFRCA6IHRhcmdldFskUF0gJj0gfklTX1BBVVNFRDtcblxuLy8gc3JjL1NwcmluZ1ZhbHVlLnRzXG52YXIgU3ByaW5nVmFsdWUgPSBjbGFzcyBleHRlbmRzIEZyYW1lVmFsdWUge1xuICBjb25zdHJ1Y3RvcihhcmcxLCBhcmcyKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKiogVGhlIGFuaW1hdGlvbiBzdGF0ZSAqL1xuICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbigpO1xuICAgIC8qKiBTb21lIHByb3BzIGhhdmUgY3VzdG9taXphYmxlIGRlZmF1bHQgdmFsdWVzICovXG4gICAgdGhpcy5kZWZhdWx0UHJvcHMgPSB7fTtcbiAgICAvKiogVGhlIHN0YXRlIGZvciBgcnVuQXN5bmNgIGNhbGxzICovXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgZGVsYXllZDogZmFsc2UsXG4gICAgICBwYXVzZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgcmVzdW1lUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICB0aW1lb3V0czogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICAgIH07XG4gICAgLyoqIFRoZSBwcm9taXNlIHJlc29sdmVycyBvZiBwZW5kaW5nIGBzdGFydGAgY2FsbHMgKi9cbiAgICB0aGlzLl9wZW5kaW5nQ2FsbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIC8qKiBUaGUgY291bnRlciBmb3IgdHJhY2tpbmcgYHNjaGVkdWxlUHJvcHNgIGNhbGxzICovXG4gICAgdGhpcy5fbGFzdENhbGxJZCA9IDA7XG4gICAgLyoqIFRoZSBsYXN0IGBzY2hlZHVsZVByb3BzYCBjYWxsIHRoYXQgY2hhbmdlZCB0aGUgYHRvYCBwcm9wICovXG4gICAgdGhpcy5fbGFzdFRvSWQgPSAwO1xuICAgIHRoaXMuX21lbW9pemVkRHVyYXRpb24gPSAwO1xuICAgIGlmICghaXM1LnVuZChhcmcxKSB8fCAhaXM1LnVuZChhcmcyKSkge1xuICAgICAgY29uc3QgcHJvcHMgPSBpczUub2JqKGFyZzEpID8geyAuLi5hcmcxIH0gOiB7IC4uLmFyZzIsIGZyb206IGFyZzEgfTtcbiAgICAgIGlmIChpczUudW5kKHByb3BzLmRlZmF1bHQpKSB7XG4gICAgICAgIHByb3BzLmRlZmF1bHQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGFydChwcm9wcyk7XG4gICAgfVxuICB9XG4gIC8qKiBFcXVhbHMgdHJ1ZSB3aGVuIG5vdCBhZHZhbmNpbmcgb24gZWFjaCBmcmFtZS4gKi9cbiAgZ2V0IGlkbGUoKSB7XG4gICAgcmV0dXJuICEoaXNBbmltYXRpbmcodGhpcykgfHwgdGhpcy5fc3RhdGUuYXN5bmNUbykgfHwgaXNQYXVzZWQodGhpcyk7XG4gIH1cbiAgZ2V0IGdvYWwoKSB7XG4gICAgcmV0dXJuIGdldEZsdWlkVmFsdWUyKHRoaXMuYW5pbWF0aW9uLnRvKTtcbiAgfVxuICBnZXQgdmVsb2NpdHkoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkMih0aGlzKTtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUgPyBub2RlLmxhc3RWZWxvY2l0eSB8fCAwIDogbm9kZS5nZXRQYXlsb2FkKCkubWFwKChub2RlMikgPT4gbm9kZTIubGFzdFZlbG9jaXR5IHx8IDApO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoaXMgdmFsdWUgaGFzIGJlZW4gYW5pbWF0ZWQgYXQgbGVhc3Qgb25jZS5cbiAgICovXG4gIGdldCBoYXNBbmltYXRlZCgpIHtcbiAgICByZXR1cm4gaGFzQW5pbWF0ZWQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhpcyB2YWx1ZSBoYXMgYW4gdW5maW5pc2hlZCBhbmltYXRpb24sXG4gICAqIHdoaWNoIGlzIGVpdGhlciBhY3RpdmUgb3IgcGF1c2VkLlxuICAgKi9cbiAgZ2V0IGlzQW5pbWF0aW5nKCkge1xuICAgIHJldHVybiBpc0FuaW1hdGluZyh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0cnVlLCBhbGwgY3VycmVudCBhbmQgZnV0dXJlIGFuaW1hdGlvbnMgYXJlIHBhdXNlZC5cbiAgICovXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gaXNQYXVzZWQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqXG4gICAqL1xuICBnZXQgaXNEZWxheWVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5kZWxheWVkO1xuICB9XG4gIC8qKiBBZHZhbmNlIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBieSBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgKi9cbiAgYWR2YW5jZShkdCkge1xuICAgIGxldCBpZGxlID0gdHJ1ZTtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBsZXQgeyB0b1ZhbHVlcyB9ID0gYW5pbTtcbiAgICBjb25zdCB7IGNvbmZpZzogY29uZmlnMiB9ID0gYW5pbTtcbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0UGF5bG9hZChhbmltLnRvKTtcbiAgICBpZiAoIXBheWxvYWQgJiYgaGFzRmx1aWRWYWx1ZShhbmltLnRvKSkge1xuICAgICAgdG9WYWx1ZXMgPSB0b0FycmF5MihnZXRGbHVpZFZhbHVlMihhbmltLnRvKSk7XG4gICAgfVxuICAgIGFuaW0udmFsdWVzLmZvckVhY2goKG5vZGUyLCBpKSA9PiB7XG4gICAgICBpZiAobm9kZTIuZG9uZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgdG8yID0gKFxuICAgICAgICAvLyBBbmltYXRlZCBzdHJpbmdzIGFsd2F5cyBnbyBmcm9tIDAgdG8gMS5cbiAgICAgICAgbm9kZTIuY29uc3RydWN0b3IgPT0gQW5pbWF0ZWRTdHJpbmcgPyAxIDogcGF5bG9hZCA/IHBheWxvYWRbaV0ubGFzdFBvc2l0aW9uIDogdG9WYWx1ZXNbaV1cbiAgICAgICk7XG4gICAgICBsZXQgZmluaXNoZWQgPSBhbmltLmltbWVkaWF0ZTtcbiAgICAgIGxldCBwb3NpdGlvbiA9IHRvMjtcbiAgICAgIGlmICghZmluaXNoZWQpIHtcbiAgICAgICAgcG9zaXRpb24gPSBub2RlMi5sYXN0UG9zaXRpb247XG4gICAgICAgIGlmIChjb25maWcyLnRlbnNpb24gPD0gMCkge1xuICAgICAgICAgIG5vZGUyLmRvbmUgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZWxhcHNlZCA9IG5vZGUyLmVsYXBzZWRUaW1lICs9IGR0O1xuICAgICAgICBjb25zdCBmcm9tID0gYW5pbS5mcm9tVmFsdWVzW2ldO1xuICAgICAgICBjb25zdCB2MCA9IG5vZGUyLnYwICE9IG51bGwgPyBub2RlMi52MCA6IG5vZGUyLnYwID0gaXM1LmFycihjb25maWcyLnZlbG9jaXR5KSA/IGNvbmZpZzIudmVsb2NpdHlbaV0gOiBjb25maWcyLnZlbG9jaXR5O1xuICAgICAgICBsZXQgdmVsb2NpdHk7XG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IGNvbmZpZzIucHJlY2lzaW9uIHx8IChmcm9tID09IHRvMiA/IDVlLTMgOiBNYXRoLm1pbigxLCBNYXRoLmFicyh0bzIgLSBmcm9tKSAqIDFlLTMpKTtcbiAgICAgICAgaWYgKCFpczUudW5kKGNvbmZpZzIuZHVyYXRpb24pKSB7XG4gICAgICAgICAgbGV0IHAgPSAxO1xuICAgICAgICAgIGlmIChjb25maWcyLmR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lbW9pemVkRHVyYXRpb24gIT09IGNvbmZpZzIuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgdGhpcy5fbWVtb2l6ZWREdXJhdGlvbiA9IGNvbmZpZzIuZHVyYXRpb247XG4gICAgICAgICAgICAgIGlmIChub2RlMi5kdXJhdGlvblByb2dyZXNzID4gMCkge1xuICAgICAgICAgICAgICAgIG5vZGUyLmVsYXBzZWRUaW1lID0gY29uZmlnMi5kdXJhdGlvbiAqIG5vZGUyLmR1cmF0aW9uUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgZWxhcHNlZCA9IG5vZGUyLmVsYXBzZWRUaW1lICs9IGR0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwID0gKGNvbmZpZzIucHJvZ3Jlc3MgfHwgMCkgKyBlbGFwc2VkIC8gdGhpcy5fbWVtb2l6ZWREdXJhdGlvbjtcbiAgICAgICAgICAgIHAgPSBwID4gMSA/IDEgOiBwIDwgMCA/IDAgOiBwO1xuICAgICAgICAgICAgbm9kZTIuZHVyYXRpb25Qcm9ncmVzcyA9IHA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc2l0aW9uID0gZnJvbSArIGNvbmZpZzIuZWFzaW5nKHApICogKHRvMiAtIGZyb20pO1xuICAgICAgICAgIHZlbG9jaXR5ID0gKHBvc2l0aW9uIC0gbm9kZTIubGFzdFBvc2l0aW9uKSAvIGR0O1xuICAgICAgICAgIGZpbmlzaGVkID0gcCA9PSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZzIuZGVjYXkpIHtcbiAgICAgICAgICBjb25zdCBkZWNheSA9IGNvbmZpZzIuZGVjYXkgPT09IHRydWUgPyAwLjk5OCA6IGNvbmZpZzIuZGVjYXk7XG4gICAgICAgICAgY29uc3QgZSA9IE1hdGguZXhwKC0oMSAtIGRlY2F5KSAqIGVsYXBzZWQpO1xuICAgICAgICAgIHBvc2l0aW9uID0gZnJvbSArIHYwIC8gKDEgLSBkZWNheSkgKiAoMSAtIGUpO1xuICAgICAgICAgIGZpbmlzaGVkID0gTWF0aC5hYnMobm9kZTIubGFzdFBvc2l0aW9uIC0gcG9zaXRpb24pIDw9IHByZWNpc2lvbjtcbiAgICAgICAgICB2ZWxvY2l0eSA9IHYwICogZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2ZWxvY2l0eSA9IG5vZGUyLmxhc3RWZWxvY2l0eSA9PSBudWxsID8gdjAgOiBub2RlMi5sYXN0VmVsb2NpdHk7XG4gICAgICAgICAgY29uc3QgcmVzdFZlbG9jaXR5ID0gY29uZmlnMi5yZXN0VmVsb2NpdHkgfHwgcHJlY2lzaW9uIC8gMTA7XG4gICAgICAgICAgY29uc3QgYm91bmNlRmFjdG9yID0gY29uZmlnMi5jbGFtcCA/IDAgOiBjb25maWcyLmJvdW5jZTtcbiAgICAgICAgICBjb25zdCBjYW5Cb3VuY2UgPSAhaXM1LnVuZChib3VuY2VGYWN0b3IpO1xuICAgICAgICAgIGNvbnN0IGlzR3Jvd2luZyA9IGZyb20gPT0gdG8yID8gbm9kZTIudjAgPiAwIDogZnJvbSA8IHRvMjtcbiAgICAgICAgICBsZXQgaXNNb3Zpbmc7XG4gICAgICAgICAgbGV0IGlzQm91bmNpbmcgPSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBzdGVwID0gMTtcbiAgICAgICAgICBjb25zdCBudW1TdGVwcyA9IE1hdGguY2VpbChkdCAvIHN0ZXApO1xuICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbnVtU3RlcHM7ICsrbikge1xuICAgICAgICAgICAgaXNNb3ZpbmcgPSBNYXRoLmFicyh2ZWxvY2l0eSkgPiByZXN0VmVsb2NpdHk7XG4gICAgICAgICAgICBpZiAoIWlzTW92aW5nKSB7XG4gICAgICAgICAgICAgIGZpbmlzaGVkID0gTWF0aC5hYnModG8yIC0gcG9zaXRpb24pIDw9IHByZWNpc2lvbjtcbiAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5Cb3VuY2UpIHtcbiAgICAgICAgICAgICAgaXNCb3VuY2luZyA9IHBvc2l0aW9uID09IHRvMiB8fCBwb3NpdGlvbiA+IHRvMiA9PSBpc0dyb3dpbmc7XG4gICAgICAgICAgICAgIGlmIChpc0JvdW5jaW5nKSB7XG4gICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAtdmVsb2NpdHkgKiBib3VuY2VGYWN0b3I7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0bzI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNwcmluZ0ZvcmNlID0gLWNvbmZpZzIudGVuc2lvbiAqIDFlLTYgKiAocG9zaXRpb24gLSB0bzIpO1xuICAgICAgICAgICAgY29uc3QgZGFtcGluZ0ZvcmNlID0gLWNvbmZpZzIuZnJpY3Rpb24gKiAxZS0zICogdmVsb2NpdHk7XG4gICAgICAgICAgICBjb25zdCBhY2NlbGVyYXRpb24gPSAoc3ByaW5nRm9yY2UgKyBkYW1waW5nRm9yY2UpIC8gY29uZmlnMi5tYXNzO1xuICAgICAgICAgICAgdmVsb2NpdHkgPSB2ZWxvY2l0eSArIGFjY2VsZXJhdGlvbiAqIHN0ZXA7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICsgdmVsb2NpdHkgKiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlMi5sYXN0VmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihwb3NpdGlvbikpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEdvdCBOYU4gd2hpbGUgYW5pbWF0aW5nOmAsIHRoaXMpO1xuICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBheWxvYWQgJiYgIXBheWxvYWRbaV0uZG9uZSkge1xuICAgICAgICBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgIG5vZGUyLmRvbmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWRsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUyLnNldFZhbHVlKHBvc2l0aW9uLCBjb25maWcyLnJvdW5kKSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgIGNvbnN0IGN1cnJWYWwgPSBub2RlLmdldFZhbHVlKCk7XG4gICAgaWYgKGlkbGUpIHtcbiAgICAgIGNvbnN0IGZpbmFsVmFsID0gZ2V0Rmx1aWRWYWx1ZTIoYW5pbS50byk7XG4gICAgICBpZiAoKGN1cnJWYWwgIT09IGZpbmFsVmFsIHx8IGNoYW5nZWQpICYmICFjb25maWcyLmRlY2F5KSB7XG4gICAgICAgIG5vZGUuc2V0VmFsdWUoZmluYWxWYWwpO1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShmaW5hbFZhbCk7XG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWQgJiYgY29uZmlnMi5kZWNheSkge1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShjdXJyVmFsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZWQpIHtcbiAgICAgIHRoaXMuX29uQ2hhbmdlKGN1cnJWYWwpO1xuICAgIH1cbiAgfVxuICAvKiogU2V0IHRoZSBjdXJyZW50IHZhbHVlLCB3aGlsZSBzdG9wcGluZyB0aGUgY3VycmVudCBhbmltYXRpb24gKi9cbiAgc2V0KHZhbHVlKSB7XG4gICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICB0aGlzLl9zdG9wKCk7XG4gICAgICB0aGlzLl9mb2N1cyh2YWx1ZSk7XG4gICAgICB0aGlzLl9zZXQodmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBGcmVlemUgdGhlIGFjdGl2ZSBhbmltYXRpb24gaW4gdGltZSwgYXMgd2VsbCBhcyBhbnkgdXBkYXRlcyBtZXJnZWRcbiAgICogYmVmb3JlIGByZXN1bWVgIGlzIGNhbGxlZC5cbiAgICovXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuX3VwZGF0ZSh7IHBhdXNlOiB0cnVlIH0pO1xuICB9XG4gIC8qKiBSZXN1bWUgdGhlIGFuaW1hdGlvbiBpZiBwYXVzZWQuICovXG4gIHJlc3VtZSgpIHtcbiAgICB0aGlzLl91cGRhdGUoeyBwYXVzZTogZmFsc2UgfSk7XG4gIH1cbiAgLyoqIFNraXAgdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCBhbmltYXRpb24uICovXG4gIGZpbmlzaCgpIHtcbiAgICBpZiAoaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIGNvbnN0IHsgdG86IHRvMiwgY29uZmlnOiBjb25maWcyIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgIGlmICghY29uZmlnMi5kZWNheSkge1xuICAgICAgICAgIHRoaXMuX3NldCh0bzIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9wKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFB1c2ggcHJvcHMgaW50byB0aGUgcGVuZGluZyBxdWV1ZS4gKi9cbiAgdXBkYXRlKHByb3BzKSB7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLnF1ZXVlIHx8ICh0aGlzLnF1ZXVlID0gW10pO1xuICAgIHF1ZXVlLnB1c2gocHJvcHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN0YXJ0KHRvMiwgYXJnMikge1xuICAgIGxldCBxdWV1ZTtcbiAgICBpZiAoIWlzNS51bmQodG8yKSkge1xuICAgICAgcXVldWUgPSBbaXM1Lm9iaih0bzIpID8gdG8yIDogeyAuLi5hcmcyLCB0bzogdG8yIH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZSA9IHRoaXMucXVldWUgfHwgW107XG4gICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHF1ZXVlLm1hcCgocHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgdXAgPSB0aGlzLl91cGRhdGUocHJvcHMpO1xuICAgICAgICByZXR1cm4gdXA7XG4gICAgICB9KVxuICAgICkudGhlbigocmVzdWx0cykgPT4gZ2V0Q29tYmluZWRSZXN1bHQodGhpcywgcmVzdWx0cykpO1xuICB9XG4gIC8qKlxuICAgKiBTdG9wIHRoZSBjdXJyZW50IGFuaW1hdGlvbiwgYW5kIGNhbmNlbCBhbnkgZGVsYXllZCB1cGRhdGVzLlxuICAgKlxuICAgKiBQYXNzIGB0cnVlYCB0byBjYWxsIGBvblJlc3RgIHdpdGggYGNhbmNlbGxlZDogdHJ1ZWAuXG4gICAqL1xuICBzdG9wKGNhbmNlbCkge1xuICAgIGNvbnN0IHsgdG86IHRvMiB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgdGhpcy5fZm9jdXModGhpcy5nZXQoKSk7XG4gICAgc3RvcEFzeW5jKHRoaXMuX3N0YXRlLCBjYW5jZWwgJiYgdGhpcy5fbGFzdENhbGxJZCk7XG4gICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB0aGlzLl9zdG9wKHRvMiwgY2FuY2VsKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFJlc3RhcnQgdGhlIGFuaW1hdGlvbi4gKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHsgcmVzZXQ6IHRydWUgfSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJwcmlvcml0eVwiKSB7XG4gICAgICB0aGlzLnByaW9yaXR5ID0gZXZlbnQucHJpb3JpdHkgKyAxO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUGFyc2UgdGhlIGB0b2AgYW5kIGBmcm9tYCByYW5nZSBmcm9tIHRoZSBnaXZlbiBgcHJvcHNgIG9iamVjdC5cbiAgICpcbiAgICogVGhpcyBhbHNvIGVuc3VyZXMgdGhlIGluaXRpYWwgdmFsdWUgaXMgYXZhaWxhYmxlIHRvIGFuaW1hdGVkIGNvbXBvbmVudHNcbiAgICogZHVyaW5nIHRoZSByZW5kZXIgcGhhc2UuXG4gICAqL1xuICBfcHJlcGFyZU5vZGUocHJvcHMpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLmtleSB8fCBcIlwiO1xuICAgIGxldCB7IHRvOiB0bzIsIGZyb20gfSA9IHByb3BzO1xuICAgIHRvMiA9IGlzNS5vYmoodG8yKSA/IHRvMltrZXldIDogdG8yO1xuICAgIGlmICh0bzIgPT0gbnVsbCB8fCBpc0FzeW5jVG8odG8yKSkge1xuICAgICAgdG8yID0gdm9pZCAwO1xuICAgIH1cbiAgICBmcm9tID0gaXM1Lm9iaihmcm9tKSA/IGZyb21ba2V5XSA6IGZyb207XG4gICAgaWYgKGZyb20gPT0gbnVsbCkge1xuICAgICAgZnJvbSA9IHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSB7IHRvOiB0bzIsIGZyb20gfTtcbiAgICBpZiAoIWhhc0FuaW1hdGVkKHRoaXMpKSB7XG4gICAgICBpZiAocHJvcHMucmV2ZXJzZSlcbiAgICAgICAgW3RvMiwgZnJvbV0gPSBbZnJvbSwgdG8yXTtcbiAgICAgIGZyb20gPSBnZXRGbHVpZFZhbHVlMihmcm9tKTtcbiAgICAgIGlmICghaXM1LnVuZChmcm9tKSkge1xuICAgICAgICB0aGlzLl9zZXQoZnJvbSk7XG4gICAgICB9IGVsc2UgaWYgKCFnZXRBbmltYXRlZDIodGhpcykpIHtcbiAgICAgICAgdGhpcy5fc2V0KHRvMik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICAvKiogRXZlcnkgdXBkYXRlIGlzIHByb2Nlc3NlZCBieSB0aGlzIG1ldGhvZCBiZWZvcmUgbWVyZ2luZy4gKi9cbiAgX3VwZGF0ZSh7IC4uLnByb3BzIH0sIGlzTG9vcCkge1xuICAgIGNvbnN0IHsga2V5LCBkZWZhdWx0UHJvcHMgfSA9IHRoaXM7XG4gICAgaWYgKHByb3BzLmRlZmF1bHQpXG4gICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICBkZWZhdWx0UHJvcHMsXG4gICAgICAgIGdldERlZmF1bHRQcm9wcyhcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAodmFsdWUsIHByb3ApID0+IC9eb24vLnRlc3QocHJvcCkgPyByZXNvbHZlUHJvcCh2YWx1ZSwga2V5KSA6IHZhbHVlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgbWVyZ2VBY3RpdmVGbih0aGlzLCBwcm9wcywgXCJvblByb3BzXCIpO1xuICAgIHNlbmRFdmVudCh0aGlzLCBcIm9uUHJvcHNcIiwgcHJvcHMsIHRoaXMpO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fcHJlcGFyZU5vZGUocHJvcHMpO1xuICAgIGlmIChPYmplY3QuaXNGcm96ZW4odGhpcykpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIkNhbm5vdCBhbmltYXRlIGEgYFNwcmluZ1ZhbHVlYCBvYmplY3QgdGhhdCBpcyBmcm96ZW4uIERpZCB5b3UgZm9yZ2V0IHRvIHBhc3MgeW91ciBjb21wb25lbnQgdG8gYGFuaW1hdGVkKC4uLilgIGJlZm9yZSBhbmltYXRpbmcgaXRzIHByb3BzP1wiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgIHJldHVybiBzY2hlZHVsZVByb3BzKCsrdGhpcy5fbGFzdENhbGxJZCwge1xuICAgICAga2V5LFxuICAgICAgcHJvcHMsXG4gICAgICBkZWZhdWx0UHJvcHMsXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgcGF1c2U6ICgpID0+IHtcbiAgICAgICAgICBpZiAoIWlzUGF1c2VkKHRoaXMpKSB7XG4gICAgICAgICAgICBzZXRQYXVzZWRCaXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICBmbHVzaENhbGxzKHN0YXRlLnBhdXNlUXVldWUpO1xuICAgICAgICAgICAgc2VuZEV2ZW50KFxuICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICBcIm9uUGF1c2VcIixcbiAgICAgICAgICAgICAgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCB0aGlzLmFuaW1hdGlvbi50bykpLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzUGF1c2VkKHRoaXMpKSB7XG4gICAgICAgICAgICBzZXRQYXVzZWRCaXQodGhpcywgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Jlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmx1c2hDYWxscyhzdGF0ZS5yZXN1bWVRdWV1ZSk7XG4gICAgICAgICAgICBzZW5kRXZlbnQoXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIFwib25SZXN1bWVcIixcbiAgICAgICAgICAgICAgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCB0aGlzLmFuaW1hdGlvbi50bykpLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQ6IHRoaXMuX21lcmdlLmJpbmQodGhpcywgcmFuZ2UpXG4gICAgICB9XG4gICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocHJvcHMubG9vcCAmJiByZXN1bHQuZmluaXNoZWQgJiYgIShpc0xvb3AgJiYgcmVzdWx0Lm5vb3ApKSB7XG4gICAgICAgIGNvbnN0IG5leHRQcm9wcyA9IGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMpO1xuICAgICAgICBpZiAobmV4dFByb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShuZXh0UHJvcHMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG4gIC8qKiBNZXJnZSBwcm9wcyBpbnRvIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xuICBfbWVyZ2UocmFuZ2UsIHByb3BzLCByZXNvbHZlKSB7XG4gICAgaWYgKHByb3BzLmNhbmNlbCkge1xuICAgICAgdGhpcy5zdG9wKHRydWUpO1xuICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMpKTtcbiAgICB9XG4gICAgY29uc3QgaGFzVG9Qcm9wID0gIWlzNS51bmQocmFuZ2UudG8pO1xuICAgIGNvbnN0IGhhc0Zyb21Qcm9wID0gIWlzNS51bmQocmFuZ2UuZnJvbSk7XG4gICAgaWYgKGhhc1RvUHJvcCB8fCBoYXNGcm9tUHJvcCkge1xuICAgICAgaWYgKHByb3BzLmNhbGxJZCA+IHRoaXMuX2xhc3RUb0lkKSB7XG4gICAgICAgIHRoaXMuX2xhc3RUb0lkID0gcHJvcHMuY2FsbElkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBrZXksIGRlZmF1bHRQcm9wcywgYW5pbWF0aW9uOiBhbmltIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgdG86IHByZXZUbywgZnJvbTogcHJldkZyb20gfSA9IGFuaW07XG4gICAgbGV0IHsgdG86IHRvMiA9IHByZXZUbywgZnJvbSA9IHByZXZGcm9tIH0gPSByYW5nZTtcbiAgICBpZiAoaGFzRnJvbVByb3AgJiYgIWhhc1RvUHJvcCAmJiAoIXByb3BzLmRlZmF1bHQgfHwgaXM1LnVuZCh0bzIpKSkge1xuICAgICAgdG8yID0gZnJvbTtcbiAgICB9XG4gICAgaWYgKHByb3BzLnJldmVyc2UpXG4gICAgICBbdG8yLCBmcm9tXSA9IFtmcm9tLCB0bzJdO1xuICAgIGNvbnN0IGhhc0Zyb21DaGFuZ2VkID0gIWlzRXF1YWwoZnJvbSwgcHJldkZyb20pO1xuICAgIGlmIChoYXNGcm9tQ2hhbmdlZCkge1xuICAgICAgYW5pbS5mcm9tID0gZnJvbTtcbiAgICB9XG4gICAgZnJvbSA9IGdldEZsdWlkVmFsdWUyKGZyb20pO1xuICAgIGNvbnN0IGhhc1RvQ2hhbmdlZCA9ICFpc0VxdWFsKHRvMiwgcHJldlRvKTtcbiAgICBpZiAoaGFzVG9DaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9mb2N1cyh0bzIpO1xuICAgIH1cbiAgICBjb25zdCBoYXNBc3luY1RvID0gaXNBc3luY1RvKHByb3BzLnRvKTtcbiAgICBjb25zdCB7IGNvbmZpZzogY29uZmlnMiB9ID0gYW5pbTtcbiAgICBjb25zdCB7IGRlY2F5LCB2ZWxvY2l0eSB9ID0gY29uZmlnMjtcbiAgICBpZiAoaGFzVG9Qcm9wIHx8IGhhc0Zyb21Qcm9wKSB7XG4gICAgICBjb25maWcyLnZlbG9jaXR5ID0gMDtcbiAgICB9XG4gICAgaWYgKHByb3BzLmNvbmZpZyAmJiAhaGFzQXN5bmNUbykge1xuICAgICAgbWVyZ2VDb25maWcoXG4gICAgICAgIGNvbmZpZzIsXG4gICAgICAgIGNhbGxQcm9wKHByb3BzLmNvbmZpZywga2V5KSxcbiAgICAgICAgLy8gQXZvaWQgY2FsbGluZyB0aGUgc2FtZSBcImNvbmZpZ1wiIHByb3AgdHdpY2UuXG4gICAgICAgIHByb3BzLmNvbmZpZyAhPT0gZGVmYXVsdFByb3BzLmNvbmZpZyA/IGNhbGxQcm9wKGRlZmF1bHRQcm9wcy5jb25maWcsIGtleSkgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBub2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgIGlmICghbm9kZSB8fCBpczUudW5kKHRvMikpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIHRydWUpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzZXQgPSAoXG4gICAgICAvLyBXaGVuIGByZXNldGAgaXMgdW5kZWZpbmVkLCB0aGUgYGZyb21gIHByb3AgaW1wbGllcyBgcmVzZXQ6IHRydWVgLFxuICAgICAgLy8gZXhjZXB0IGZvciBkZWNsYXJhdGl2ZSB1cGRhdGVzLiBXaGVuIGByZXNldGAgaXMgZGVmaW5lZCwgdGhlcmVcbiAgICAgIC8vIG11c3QgZXhpc3QgYSB2YWx1ZSB0byBhbmltYXRlIGZyb20uXG4gICAgICBpczUudW5kKHByb3BzLnJlc2V0KSA/IGhhc0Zyb21Qcm9wICYmICFwcm9wcy5kZWZhdWx0IDogIWlzNS51bmQoZnJvbSkgJiYgbWF0Y2hQcm9wKHByb3BzLnJlc2V0LCBrZXkpXG4gICAgKTtcbiAgICBjb25zdCB2YWx1ZSA9IHJlc2V0ID8gZnJvbSA6IHRoaXMuZ2V0KCk7XG4gICAgY29uc3QgZ29hbCA9IGNvbXB1dGVHb2FsKHRvMik7XG4gICAgY29uc3QgaXNBbmltYXRhYmxlID0gaXM1Lm51bShnb2FsKSB8fCBpczUuYXJyKGdvYWwpIHx8IGlzQW5pbWF0ZWRTdHJpbmcyKGdvYWwpO1xuICAgIGNvbnN0IGltbWVkaWF0ZSA9ICFoYXNBc3luY1RvICYmICghaXNBbmltYXRhYmxlIHx8IG1hdGNoUHJvcChkZWZhdWx0UHJvcHMuaW1tZWRpYXRlIHx8IHByb3BzLmltbWVkaWF0ZSwga2V5KSk7XG4gICAgaWYgKGhhc1RvQ2hhbmdlZCkge1xuICAgICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUodG8yKTtcbiAgICAgIGlmIChub2RlVHlwZSAhPT0gbm9kZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgbm9kZSA9IHRoaXMuX3NldChnb2FsKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBgQ2Fubm90IGFuaW1hdGUgYmV0d2VlbiAke25vZGUuY29uc3RydWN0b3IubmFtZX0gYW5kICR7bm9kZVR5cGUubmFtZX0sIGFzIHRoZSBcInRvXCIgcHJvcCBzdWdnZXN0c2BcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBnb2FsVHlwZSA9IG5vZGUuY29uc3RydWN0b3I7XG4gICAgbGV0IHN0YXJ0ZWQgPSBoYXNGbHVpZFZhbHVlKHRvMik7XG4gICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICBjb25zdCBoYXNWYWx1ZUNoYW5nZWQgPSByZXNldCB8fCAhaGFzQW5pbWF0ZWQodGhpcykgJiYgaGFzRnJvbUNoYW5nZWQ7XG4gICAgICBpZiAoaGFzVG9DaGFuZ2VkIHx8IGhhc1ZhbHVlQ2hhbmdlZCkge1xuICAgICAgICBmaW5pc2hlZCA9IGlzRXF1YWwoY29tcHV0ZUdvYWwodmFsdWUpLCBnb2FsKTtcbiAgICAgICAgc3RhcnRlZCA9ICFmaW5pc2hlZDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNFcXVhbChhbmltLmltbWVkaWF0ZSwgaW1tZWRpYXRlKSAmJiAhaW1tZWRpYXRlIHx8ICFpc0VxdWFsKGNvbmZpZzIuZGVjYXksIGRlY2F5KSB8fCAhaXNFcXVhbChjb25maWcyLnZlbG9jaXR5LCB2ZWxvY2l0eSkpIHtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaW5pc2hlZCAmJiBpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgaWYgKGFuaW0uY2hhbmdlZCAmJiAhcmVzZXQpIHtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCFzdGFydGVkKSB7XG4gICAgICAgIHRoaXMuX3N0b3AocHJldlRvKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFoYXNBc3luY1RvKSB7XG4gICAgICBpZiAoc3RhcnRlZCB8fCBoYXNGbHVpZFZhbHVlKHByZXZUbykpIHtcbiAgICAgICAgYW5pbS52YWx1ZXMgPSBub2RlLmdldFBheWxvYWQoKTtcbiAgICAgICAgYW5pbS50b1ZhbHVlcyA9IGhhc0ZsdWlkVmFsdWUodG8yKSA/IG51bGwgOiBnb2FsVHlwZSA9PSBBbmltYXRlZFN0cmluZyA/IFsxXSA6IHRvQXJyYXkyKGdvYWwpO1xuICAgICAgfVxuICAgICAgaWYgKGFuaW0uaW1tZWRpYXRlICE9IGltbWVkaWF0ZSkge1xuICAgICAgICBhbmltLmltbWVkaWF0ZSA9IGltbWVkaWF0ZTtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUgJiYgIXJlc2V0KSB7XG4gICAgICAgICAgdGhpcy5fc2V0KHByZXZUbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgIGNvbnN0IHsgb25SZXN0IH0gPSBhbmltO1xuICAgICAgICBlYWNoMihBQ1RJVkVfRVZFTlRTLCAodHlwZSkgPT4gbWVyZ2VBY3RpdmVGbih0aGlzLCBwcm9wcywgdHlwZSkpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIHByZXZUbykpO1xuICAgICAgICBmbHVzaENhbGxzKHRoaXMuX3BlbmRpbmdDYWxscywgcmVzdWx0KTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NhbGxzLmFkZChyZXNvbHZlKTtcbiAgICAgICAgaWYgKGFuaW0uY2hhbmdlZClcbiAgICAgICAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgICAgIGFuaW0uY2hhbmdlZCA9ICFyZXNldDtcbiAgICAgICAgICAgIG9uUmVzdD8uKHJlc3VsdCwgdGhpcyk7XG4gICAgICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgICAgY2FsbFByb3AoZGVmYXVsdFByb3BzLm9uUmVzdCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuaW0ub25TdGFydD8uKHJlc3VsdCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZXNldCkge1xuICAgICAgdGhpcy5fc2V0KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGhhc0FzeW5jVG8pIHtcbiAgICAgIHJlc29sdmUocnVuQXN5bmMocHJvcHMudG8sIHByb3BzLCB0aGlzLl9zdGF0ZSwgdGhpcykpO1xuICAgIH0gZWxzZSBpZiAoc3RhcnRlZCkge1xuICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICB9IGVsc2UgaWYgKGlzQW5pbWF0aW5nKHRoaXMpICYmICFoYXNUb0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdDYWxscy5hZGQocmVzb2x2ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUoZ2V0Tm9vcFJlc3VsdCh2YWx1ZSkpO1xuICAgIH1cbiAgfVxuICAvKiogVXBkYXRlIHRoZSBgYW5pbWF0aW9uLnRvYCB2YWx1ZSwgd2hpY2ggbWlnaHQgYmUgYSBgRmx1aWRWYWx1ZWAgKi9cbiAgX2ZvY3VzKHZhbHVlKSB7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmICh2YWx1ZSAhPT0gYW5pbS50bykge1xuICAgICAgaWYgKGdldEZsdWlkT2JzZXJ2ZXJzKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX2RldGFjaCgpO1xuICAgICAgfVxuICAgICAgYW5pbS50byA9IHZhbHVlO1xuICAgICAgaWYgKGdldEZsdWlkT2JzZXJ2ZXJzKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfYXR0YWNoKCkge1xuICAgIGxldCBwcmlvcml0eSA9IDA7XG4gICAgY29uc3QgeyB0bzogdG8yIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBpZiAoaGFzRmx1aWRWYWx1ZSh0bzIpKSB7XG4gICAgICBhZGRGbHVpZE9ic2VydmVyKHRvMiwgdGhpcyk7XG4gICAgICBpZiAoaXNGcmFtZVZhbHVlKHRvMikpIHtcbiAgICAgICAgcHJpb3JpdHkgPSB0bzIucHJpb3JpdHkgKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIH1cbiAgX2RldGFjaCgpIHtcbiAgICBjb25zdCB7IHRvOiB0bzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmIChoYXNGbHVpZFZhbHVlKHRvMikpIHtcbiAgICAgIHJlbW92ZUZsdWlkT2JzZXJ2ZXIodG8yLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIG91dHNpZGUgdGhlIGZyYW1lbG9vcCxcbiAgICogYW5kIHJldHVybiB0aGUgYEFuaW1hdGVkYCBub2RlLlxuICAgKi9cbiAgX3NldChhcmcsIGlkbGUgPSB0cnVlKSB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRGbHVpZFZhbHVlMihhcmcpO1xuICAgIGlmICghaXM1LnVuZCh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IG9sZE5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgICBpZiAoIW9sZE5vZGUgfHwgIWlzRXF1YWwodmFsdWUsIG9sZE5vZGUuZ2V0VmFsdWUoKSkpIHtcbiAgICAgICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUodmFsdWUpO1xuICAgICAgICBpZiAoIW9sZE5vZGUgfHwgb2xkTm9kZS5jb25zdHJ1Y3RvciAhPSBub2RlVHlwZSkge1xuICAgICAgICAgIHNldEFuaW1hdGVkKHRoaXMsIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZE5vZGUuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGROb2RlKSB7XG4gICAgICAgICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkNoYW5nZSh2YWx1ZSwgaWRsZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdldEFuaW1hdGVkMih0aGlzKTtcbiAgfVxuICBfb25TdGFydCgpIHtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKCFhbmltLmNoYW5nZWQpIHtcbiAgICAgIGFuaW0uY2hhbmdlZCA9IHRydWU7XG4gICAgICBzZW5kRXZlbnQoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwib25TdGFydFwiLFxuICAgICAgICBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIGFuaW0udG8pKSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgX29uQ2hhbmdlKHZhbHVlLCBpZGxlKSB7XG4gICAgaWYgKCFpZGxlKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICBjYWxsUHJvcCh0aGlzLmFuaW1hdGlvbi5vbkNoYW5nZSwgdmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICBjYWxsUHJvcCh0aGlzLmRlZmF1bHRQcm9wcy5vbkNoYW5nZSwgdmFsdWUsIHRoaXMpO1xuICAgIHN1cGVyLl9vbkNoYW5nZSh2YWx1ZSwgaWRsZSk7XG4gIH1cbiAgLy8gVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBhbmltYXRpb24gc3RhdGUgKGV2ZW4gaWYgYWxyZWFkeSBhbmltYXRpbmcpIHRvXG4gIC8vIGVuc3VyZSB0aGUgbGF0ZXN0IGZyb20vdG8gcmFuZ2UgaXMgdXNlZCwgYW5kIGl0IGFsc28gZW5zdXJlcyB0aGlzIHNwcmluZ1xuICAvLyBpcyBhZGRlZCB0byB0aGUgZnJhbWVsb29wLlxuICBfc3RhcnQoKSB7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGdldEFuaW1hdGVkMih0aGlzKS5yZXNldChnZXRGbHVpZFZhbHVlMihhbmltLnRvKSk7XG4gICAgaWYgKCFhbmltLmltbWVkaWF0ZSkge1xuICAgICAgYW5pbS5mcm9tVmFsdWVzID0gYW5pbS52YWx1ZXMubWFwKChub2RlKSA9PiBub2RlLmxhc3RQb3NpdGlvbik7XG4gICAgfVxuICAgIGlmICghaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIHNldEFjdGl2ZUJpdCh0aGlzLCB0cnVlKTtcbiAgICAgIGlmICghaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgdGhpcy5fcmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9yZXN1bWUoKSB7XG4gICAgaWYgKEc1LnNraXBBbmltYXRpb24pIHtcbiAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lTG9vcDIuc3RhcnQodGhpcyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGl0IHRoZSBmcmFtZWxvb3AgYW5kIG5vdGlmeSBgb25SZXN0YCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEFsd2F5cyB3cmFwIGBfc3RvcGAgY2FsbHMgd2l0aCBgYmF0Y2hlZFVwZGF0ZXNgLlxuICAgKi9cbiAgX3N0b3AoZ29hbCwgY2FuY2VsKSB7XG4gICAgaWYgKGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBzZXRBY3RpdmVCaXQodGhpcywgZmFsc2UpO1xuICAgICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgICAgZWFjaDIoYW5pbS52YWx1ZXMsIChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIGlmIChhbmltLnRvVmFsdWVzKSB7XG4gICAgICAgIGFuaW0ub25DaGFuZ2UgPSBhbmltLm9uUGF1c2UgPSBhbmltLm9uUmVzdW1lID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgY2FsbEZsdWlkT2JzZXJ2ZXJzMih0aGlzLCB7XG4gICAgICAgIHR5cGU6IFwiaWRsZVwiLFxuICAgICAgICBwYXJlbnQ6IHRoaXNcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FuY2VsID8gZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMuZ2V0KCkpIDogZ2V0RmluaXNoZWRSZXN1bHQodGhpcy5nZXQoKSwgY2hlY2tGaW5pc2hlZCh0aGlzLCBnb2FsID8/IGFuaW0udG8pKTtcbiAgICAgIGZsdXNoQ2FsbHModGhpcy5fcGVuZGluZ0NhbGxzLCByZXN1bHQpO1xuICAgICAgaWYgKGFuaW0uY2hhbmdlZCkge1xuICAgICAgICBhbmltLmNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc2VuZEV2ZW50KHRoaXMsIFwib25SZXN0XCIsIHJlc3VsdCwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gY2hlY2tGaW5pc2hlZCh0YXJnZXQsIHRvMikge1xuICBjb25zdCBnb2FsID0gY29tcHV0ZUdvYWwodG8yKTtcbiAgY29uc3QgdmFsdWUgPSBjb21wdXRlR29hbCh0YXJnZXQuZ2V0KCkpO1xuICByZXR1cm4gaXNFcXVhbCh2YWx1ZSwgZ29hbCk7XG59XG5mdW5jdGlvbiBjcmVhdGVMb29wVXBkYXRlKHByb3BzLCBsb29wID0gcHJvcHMubG9vcCwgdG8yID0gcHJvcHMudG8pIHtcbiAgY29uc3QgbG9vcFJldCA9IGNhbGxQcm9wKGxvb3ApO1xuICBpZiAobG9vcFJldCkge1xuICAgIGNvbnN0IG92ZXJyaWRlcyA9IGxvb3BSZXQgIT09IHRydWUgJiYgaW5mZXJUbyhsb29wUmV0KTtcbiAgICBjb25zdCByZXZlcnNlID0gKG92ZXJyaWRlcyB8fCBwcm9wcykucmV2ZXJzZTtcbiAgICBjb25zdCByZXNldCA9ICFvdmVycmlkZXMgfHwgb3ZlcnJpZGVzLnJlc2V0O1xuICAgIHJldHVybiBjcmVhdGVVcGRhdGUoe1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBsb29wLFxuICAgICAgLy8gQXZvaWQgdXBkYXRpbmcgZGVmYXVsdCBwcm9wcyB3aGVuIGxvb3BpbmcuXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgIC8vIE5ldmVyIGxvb3AgdGhlIGBwYXVzZWAgcHJvcC5cbiAgICAgIHBhdXNlOiB2b2lkIDAsXG4gICAgICAvLyBGb3IgdGhlIFwicmV2ZXJzZVwiIHByb3AgdG8gbG9vcCBhcyBleHBlY3RlZCwgdGhlIFwidG9cIiBwcm9wXG4gICAgICAvLyBtdXN0IGJlIHVuZGVmaW5lZC4gVGhlIFwicmV2ZXJzZVwiIHByb3AgaXMgaWdub3JlZCB3aGVuIHRoZVxuICAgICAgLy8gXCJ0b1wiIHByb3AgaXMgYW4gYXJyYXkgb3IgZnVuY3Rpb24uXG4gICAgICB0bzogIXJldmVyc2UgfHwgaXNBc3luY1RvKHRvMikgPyB0bzIgOiB2b2lkIDAsXG4gICAgICAvLyBJZ25vcmUgdGhlIFwiZnJvbVwiIHByb3AgZXhjZXB0IG9uIHJlc2V0LlxuICAgICAgZnJvbTogcmVzZXQgPyBwcm9wcy5mcm9tIDogdm9pZCAwLFxuICAgICAgcmVzZXQsXG4gICAgICAvLyBUaGUgXCJsb29wXCIgcHJvcCBjYW4gcmV0dXJuIGEgXCJ1c2VTcHJpbmdcIiBwcm9wcyBvYmplY3QgdG9cbiAgICAgIC8vIG92ZXJyaWRlIGFueSBvZiB0aGUgb3JpZ2luYWwgcHJvcHMuXG4gICAgICAuLi5vdmVycmlkZXNcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlKHByb3BzKSB7XG4gIGNvbnN0IHsgdG86IHRvMiwgZnJvbSB9ID0gcHJvcHMgPSBpbmZlclRvKHByb3BzKTtcbiAgY29uc3Qga2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGlmIChpczUub2JqKHRvMikpXG4gICAgZmluZERlZmluZWQodG8yLCBrZXlzKTtcbiAgaWYgKGlzNS5vYmooZnJvbSkpXG4gICAgZmluZERlZmluZWQoZnJvbSwga2V5cyk7XG4gIHByb3BzLmtleXMgPSBrZXlzLnNpemUgPyBBcnJheS5mcm9tKGtleXMpIDogbnVsbDtcbiAgcmV0dXJuIHByb3BzO1xufVxuZnVuY3Rpb24gZGVjbGFyZVVwZGF0ZShwcm9wcykge1xuICBjb25zdCB1cGRhdGUyID0gY3JlYXRlVXBkYXRlKHByb3BzKTtcbiAgaWYgKGlzNS51bmQodXBkYXRlMi5kZWZhdWx0KSkge1xuICAgIHVwZGF0ZTIuZGVmYXVsdCA9IGdldERlZmF1bHRQcm9wcyh1cGRhdGUyKTtcbiAgfVxuICByZXR1cm4gdXBkYXRlMjtcbn1cbmZ1bmN0aW9uIGZpbmREZWZpbmVkKHZhbHVlcywga2V5cykge1xuICBlYWNoUHJvcDModmFsdWVzLCAodmFsdWUsIGtleSkgPT4gdmFsdWUgIT0gbnVsbCAmJiBrZXlzLmFkZChrZXkpKTtcbn1cbnZhciBBQ1RJVkVfRVZFTlRTID0gW1xuICBcIm9uU3RhcnRcIixcbiAgXCJvblJlc3RcIixcbiAgXCJvbkNoYW5nZVwiLFxuICBcIm9uUGF1c2VcIixcbiAgXCJvblJlc3VtZVwiXG5dO1xuZnVuY3Rpb24gbWVyZ2VBY3RpdmVGbih0YXJnZXQsIHByb3BzLCB0eXBlKSB7XG4gIHRhcmdldC5hbmltYXRpb25bdHlwZV0gPSBwcm9wc1t0eXBlXSAhPT0gZ2V0RGVmYXVsdFByb3AocHJvcHMsIHR5cGUpID8gcmVzb2x2ZVByb3AocHJvcHNbdHlwZV0sIHRhcmdldC5rZXkpIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gc2VuZEV2ZW50KHRhcmdldCwgdHlwZSwgLi4uYXJncykge1xuICB0YXJnZXQuYW5pbWF0aW9uW3R5cGVdPy4oLi4uYXJncyk7XG4gIHRhcmdldC5kZWZhdWx0UHJvcHNbdHlwZV0/LiguLi5hcmdzKTtcbn1cblxuLy8gc3JjL0NvbnRyb2xsZXIudHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzNixcbiAgcmFmIGFzIHJhZjQsXG4gIGVhY2ggYXMgZWFjaDMsXG4gIG5vb3AsXG4gIGZsdXNoIGFzIGZsdXNoMixcbiAgdG9BcnJheSBhcyB0b0FycmF5MyxcbiAgZWFjaFByb3AgYXMgZWFjaFByb3A0LFxuICBmbHVzaENhbGxzIGFzIGZsdXNoQ2FsbHMyLFxuICBhZGRGbHVpZE9ic2VydmVyIGFzIGFkZEZsdWlkT2JzZXJ2ZXIyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIEJBVENIRURfRVZFTlRTID0gW1wib25TdGFydFwiLCBcIm9uQ2hhbmdlXCIsIFwib25SZXN0XCJdO1xudmFyIG5leHRJZDIgPSAxO1xudmFyIENvbnRyb2xsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHByb3BzLCBmbHVzaDMpIHtcbiAgICB0aGlzLmlkID0gbmV4dElkMisrO1xuICAgIC8qKiBUaGUgYW5pbWF0ZWQgdmFsdWVzICovXG4gICAgdGhpcy5zcHJpbmdzID0ge307XG4gICAgLyoqIFRoZSBxdWV1ZSBvZiBwcm9wcyBwYXNzZWQgdG8gdGhlIGB1cGRhdGVgIG1ldGhvZC4gKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgLyoqIFRoZSBjb3VudGVyIGZvciB0cmFja2luZyBgc2NoZWR1bGVQcm9wc2AgY2FsbHMgKi9cbiAgICB0aGlzLl9sYXN0QXN5bmNJZCA9IDA7XG4gICAgLyoqIFRoZSB2YWx1ZXMgY3VycmVudGx5IGJlaW5nIGFuaW1hdGVkICovXG4gICAgdGhpcy5fYWN0aXZlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAvKiogVGhlIHZhbHVlcyB0aGF0IGNoYW5nZWQgcmVjZW50bHkgKi9cbiAgICB0aGlzLl9jaGFuZ2VkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAvKiogRXF1YWxzIGZhbHNlIHdoZW4gYG9uU3RhcnRgIGxpc3RlbmVycyBjYW4gYmUgY2FsbGVkICovXG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgIC8qKiBTdGF0ZSB1c2VkIGJ5IHRoZSBgcnVuQXN5bmNgIGZ1bmN0aW9uICovXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VRdWV1ZTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgICAgIHJlc3VtZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgdGltZW91dHM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KClcbiAgICB9O1xuICAgIC8qKiBUaGUgZXZlbnQgcXVldWVzIHRoYXQgYXJlIGZsdXNoZWQgb25jZSBwZXIgZnJhbWUgbWF4aW11bSAqL1xuICAgIHRoaXMuX2V2ZW50cyA9IHtcbiAgICAgIG9uU3RhcnQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICBvbkNoYW5nZTogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgIG9uUmVzdDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICAgIH07XG4gICAgdGhpcy5fb25GcmFtZSA9IHRoaXMuX29uRnJhbWUuYmluZCh0aGlzKTtcbiAgICBpZiAoZmx1c2gzKSB7XG4gICAgICB0aGlzLl9mbHVzaCA9IGZsdXNoMztcbiAgICB9XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICB0aGlzLnN0YXJ0KHsgZGVmYXVsdDogdHJ1ZSwgLi4ucHJvcHMgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFcXVhbHMgYHRydWVgIHdoZW4gbm8gc3ByaW5nIHZhbHVlcyBhcmUgaW4gdGhlIGZyYW1lbG9vcCwgYW5kXG4gICAqIG5vIGFzeW5jIGFuaW1hdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgZ2V0IGlkbGUoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9zdGF0ZS5hc3luY1RvICYmIE9iamVjdC52YWx1ZXModGhpcy5zcHJpbmdzKS5ldmVyeSgoc3ByaW5nKSA9PiB7XG4gICAgICByZXR1cm4gc3ByaW5nLmlkbGUgJiYgIXNwcmluZy5pc0RlbGF5ZWQgJiYgIXNwcmluZy5pc1BhdXNlZDtcbiAgICB9KTtcbiAgfVxuICBnZXQgaXRlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcbiAgfVxuICBzZXQgaXRlbShpdGVtKSB7XG4gICAgdGhpcy5faXRlbSA9IGl0ZW07XG4gIH1cbiAgLyoqIEdldCB0aGUgY3VycmVudCB2YWx1ZXMgb2Ygb3VyIHNwcmluZ3MgKi9cbiAgZ2V0KCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIHRoaXMuZWFjaCgoc3ByaW5nLCBrZXkpID0+IHZhbHVlc1trZXldID0gc3ByaW5nLmdldCgpKTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG4gIC8qKiBTZXQgdGhlIGN1cnJlbnQgdmFsdWVzIHdpdGhvdXQgYW5pbWF0aW5nLiAqL1xuICBzZXQodmFsdWVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1trZXldO1xuICAgICAgaWYgKCFpczYudW5kKHZhbHVlKSkge1xuICAgICAgICB0aGlzLnNwcmluZ3Nba2V5XS5zZXQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKiogUHVzaCBhbiB1cGRhdGUgb250byB0aGUgcXVldWUgb2YgZWFjaCB2YWx1ZS4gKi9cbiAgdXBkYXRlKHByb3BzKSB7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICB0aGlzLnF1ZXVlLnB1c2goY3JlYXRlVXBkYXRlKHByb3BzKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydCB0aGUgcXVldWVkIGFuaW1hdGlvbnMgZm9yIGV2ZXJ5IHNwcmluZywgYW5kIHJlc29sdmUgdGhlIHJldHVybmVkXG4gICAqIHByb21pc2Ugb25jZSBhbGwgcXVldWVkIGFuaW1hdGlvbnMgaGF2ZSBmaW5pc2hlZCBvciBiZWVuIGNhbmNlbGxlZC5cbiAgICpcbiAgICogV2hlbiB5b3UgcGFzcyBhIHF1ZXVlIChpbnN0ZWFkIG9mIG5vdGhpbmcpLCB0aGF0IHF1ZXVlIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgKiB0aGUgcXVldWVkIGFuaW1hdGlvbnMgYWRkZWQgd2l0aCB0aGUgYHVwZGF0ZWAgbWV0aG9kLCB3aGljaCBhcmUgbGVmdCBhbG9uZS5cbiAgICovXG4gIHN0YXJ0KHByb3BzKSB7XG4gICAgbGV0IHsgcXVldWUgfSA9IHRoaXM7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBxdWV1ZSA9IHRvQXJyYXkzKHByb3BzKS5tYXAoY3JlYXRlVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZmx1c2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mbHVzaCh0aGlzLCBxdWV1ZSk7XG4gICAgfVxuICAgIHByZXBhcmVLZXlzKHRoaXMsIHF1ZXVlKTtcbiAgICByZXR1cm4gZmx1c2hVcGRhdGVRdWV1ZSh0aGlzLCBxdWV1ZSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdG9wKGFyZywga2V5cykge1xuICAgIGlmIChhcmcgIT09ICEhYXJnKSB7XG4gICAgICBrZXlzID0gYXJnO1xuICAgIH1cbiAgICBpZiAoa2V5cykge1xuICAgICAgY29uc3Qgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICAgIGVhY2gzKHRvQXJyYXkzKGtleXMpLCAoa2V5KSA9PiBzcHJpbmdzW2tleV0uc3RvcCghIWFyZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wQXN5bmModGhpcy5fc3RhdGUsIHRoaXMuX2xhc3RBc3luY0lkKTtcbiAgICAgIHRoaXMuZWFjaCgoc3ByaW5nKSA9PiBzcHJpbmcuc3RvcCghIWFyZykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogRnJlZXplIHRoZSBhY3RpdmUgYW5pbWF0aW9uIGluIHRpbWUgKi9cbiAgcGF1c2Uoa2V5cykge1xuICAgIGlmIChpczYudW5kKGtleXMpKSB7XG4gICAgICB0aGlzLnN0YXJ0KHsgcGF1c2U6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSB0aGlzLnNwcmluZ3M7XG4gICAgICBlYWNoMyh0b0FycmF5MyhrZXlzKSwgKGtleSkgPT4gc3ByaW5nc1trZXldLnBhdXNlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogUmVzdW1lIHRoZSBhbmltYXRpb24gaWYgcGF1c2VkLiAqL1xuICByZXN1bWUoa2V5cykge1xuICAgIGlmIChpczYudW5kKGtleXMpKSB7XG4gICAgICB0aGlzLnN0YXJ0KHsgcGF1c2U6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzcHJpbmdzID0gdGhpcy5zcHJpbmdzO1xuICAgICAgZWFjaDModG9BcnJheTMoa2V5cyksIChrZXkpID0+IHNwcmluZ3Nba2V5XS5yZXN1bWUoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBDYWxsIGEgZnVuY3Rpb24gb25jZSBwZXIgc3ByaW5nIHZhbHVlICovXG4gIGVhY2goaXRlcmF0b3IpIHtcbiAgICBlYWNoUHJvcDQodGhpcy5zcHJpbmdzLCBpdGVyYXRvcik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCBDYWxsZWQgYXQgdGhlIGVuZCBvZiBldmVyeSBhbmltYXRpb24gZnJhbWUgKi9cbiAgX29uRnJhbWUoKSB7XG4gICAgY29uc3QgeyBvblN0YXJ0LCBvbkNoYW5nZSwgb25SZXN0IH0gPSB0aGlzLl9ldmVudHM7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlLnNpemUgPiAwO1xuICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLl9jaGFuZ2VkLnNpemUgPiAwO1xuICAgIGlmIChhY3RpdmUgJiYgIXRoaXMuX3N0YXJ0ZWQgfHwgY2hhbmdlZCAmJiAhdGhpcy5fc3RhcnRlZCkge1xuICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XG4gICAgICBmbHVzaDIob25TdGFydCwgKFtvblN0YXJ0MiwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB0aGlzLmdldCgpO1xuICAgICAgICBvblN0YXJ0MihyZXN1bHQsIHRoaXMsIHRoaXMuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGlkbGUgPSAhYWN0aXZlICYmIHRoaXMuX3N0YXJ0ZWQ7XG4gICAgY29uc3QgdmFsdWVzID0gY2hhbmdlZCB8fCBpZGxlICYmIG9uUmVzdC5zaXplID8gdGhpcy5nZXQoKSA6IG51bGw7XG4gICAgaWYgKGNoYW5nZWQgJiYgb25DaGFuZ2Uuc2l6ZSkge1xuICAgICAgZmx1c2gyKG9uQ2hhbmdlLCAoW29uQ2hhbmdlMiwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB2YWx1ZXM7XG4gICAgICAgIG9uQ2hhbmdlMihyZXN1bHQsIHRoaXMsIHRoaXMuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpZGxlKSB7XG4gICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgICBmbHVzaDIob25SZXN0LCAoW29uUmVzdDIsIHJlc3VsdF0pID0+IHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdmFsdWVzO1xuICAgICAgICBvblJlc3QyKHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgdGhpcy5fY2hhbmdlZC5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgIGlmICghZXZlbnQuaWRsZSkge1xuICAgICAgICB0aGlzLl9hY3RpdmUuYWRkKGV2ZW50LnBhcmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09IFwiaWRsZVwiKSB7XG4gICAgICB0aGlzLl9hY3RpdmUuZGVsZXRlKGV2ZW50LnBhcmVudCk7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm47XG4gICAgcmFmNC5vbkZyYW1lKHRoaXMuX29uRnJhbWUpO1xuICB9XG59O1xuZnVuY3Rpb24gZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCBxdWV1ZSkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocXVldWUubWFwKChwcm9wcykgPT4gZmx1c2hVcGRhdGUoY3RybCwgcHJvcHMpKSkudGhlbihcbiAgICAocmVzdWx0cykgPT4gZ2V0Q29tYmluZWRSZXN1bHQoY3RybCwgcmVzdWx0cylcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZsdXNoVXBkYXRlKGN0cmwsIHByb3BzLCBpc0xvb3ApIHtcbiAgY29uc3QgeyBrZXlzLCB0bzogdG8yLCBmcm9tLCBsb29wLCBvblJlc3QsIG9uUmVzb2x2ZSB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlZmF1bHRzMiA9IGlzNi5vYmoocHJvcHMuZGVmYXVsdCkgJiYgcHJvcHMuZGVmYXVsdDtcbiAgaWYgKGxvb3ApIHtcbiAgICBwcm9wcy5sb29wID0gZmFsc2U7XG4gIH1cbiAgaWYgKHRvMiA9PT0gZmFsc2UpXG4gICAgcHJvcHMudG8gPSBudWxsO1xuICBpZiAoZnJvbSA9PT0gZmFsc2UpXG4gICAgcHJvcHMuZnJvbSA9IG51bGw7XG4gIGNvbnN0IGFzeW5jVG8gPSBpczYuYXJyKHRvMikgfHwgaXM2LmZ1bih0bzIpID8gdG8yIDogdm9pZCAwO1xuICBpZiAoYXN5bmNUbykge1xuICAgIHByb3BzLnRvID0gdm9pZCAwO1xuICAgIHByb3BzLm9uUmVzdCA9IHZvaWQgMDtcbiAgICBpZiAoZGVmYXVsdHMyKSB7XG4gICAgICBkZWZhdWx0czIub25SZXN0ID0gdm9pZCAwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBlYWNoMyhCQVRDSEVEX0VWRU5UUywgKGtleSkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlciA9IHByb3BzW2tleV07XG4gICAgICBpZiAoaXM2LmZ1bihoYW5kbGVyKSkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IGN0cmxbXCJfZXZlbnRzXCJdW2tleV07XG4gICAgICAgIHByb3BzW2tleV0gPSAoeyBmaW5pc2hlZCwgY2FuY2VsbGVkIH0pID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQyID0gcXVldWUuZ2V0KGhhbmRsZXIpO1xuICAgICAgICAgIGlmIChyZXN1bHQyKSB7XG4gICAgICAgICAgICBpZiAoIWZpbmlzaGVkKVxuICAgICAgICAgICAgICByZXN1bHQyLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY2FuY2VsbGVkKVxuICAgICAgICAgICAgICByZXN1bHQyLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXVlLnNldChoYW5kbGVyLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICBmaW5pc2hlZDogZmluaXNoZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgIGNhbmNlbGxlZDogY2FuY2VsbGVkIHx8IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWZhdWx0czIpIHtcbiAgICAgICAgICBkZWZhdWx0czJba2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjb25zdCBzdGF0ZSA9IGN0cmxbXCJfc3RhdGVcIl07XG4gIGlmIChwcm9wcy5wYXVzZSA9PT0gIXN0YXRlLnBhdXNlZCkge1xuICAgIHN0YXRlLnBhdXNlZCA9IHByb3BzLnBhdXNlO1xuICAgIGZsdXNoQ2FsbHMyKHByb3BzLnBhdXNlID8gc3RhdGUucGF1c2VRdWV1ZSA6IHN0YXRlLnJlc3VtZVF1ZXVlKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5wYXVzZWQpIHtcbiAgICBwcm9wcy5wYXVzZSA9IHRydWU7XG4gIH1cbiAgY29uc3QgcHJvbWlzZXMgPSAoa2V5cyB8fCBPYmplY3Qua2V5cyhjdHJsLnNwcmluZ3MpKS5tYXAoXG4gICAgKGtleSkgPT4gY3RybC5zcHJpbmdzW2tleV0uc3RhcnQocHJvcHMpXG4gICk7XG4gIGNvbnN0IGNhbmNlbCA9IHByb3BzLmNhbmNlbCA9PT0gdHJ1ZSB8fCBnZXREZWZhdWx0UHJvcChwcm9wcywgXCJjYW5jZWxcIikgPT09IHRydWU7XG4gIGlmIChhc3luY1RvIHx8IGNhbmNlbCAmJiBzdGF0ZS5hc3luY0lkKSB7XG4gICAgcHJvbWlzZXMucHVzaChcbiAgICAgIHNjaGVkdWxlUHJvcHMoKytjdHJsW1wiX2xhc3RBc3luY0lkXCJdLCB7XG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgIHBhdXNlOiBub29wLFxuICAgICAgICAgIHJlc3VtZTogbm9vcCxcbiAgICAgICAgICBzdGFydChwcm9wczIsIHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgICAgc3RvcEFzeW5jKHN0YXRlLCBjdHJsW1wiX2xhc3RBc3luY0lkXCJdKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQoY3RybCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvcHMyLm9uUmVzdCA9IG9uUmVzdDtcbiAgICAgICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgICAgICBydW5Bc3luYyhcbiAgICAgICAgICAgICAgICAgIGFzeW5jVG8sXG4gICAgICAgICAgICAgICAgICBwcm9wczIsXG4gICAgICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgIGN0cmxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXN1bWUpID0+IHtcbiAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChyZXN1bWUpO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IGdldENvbWJpbmVkUmVzdWx0KGN0cmwsIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKSk7XG4gIGlmIChsb29wICYmIHJlc3VsdC5maW5pc2hlZCAmJiAhKGlzTG9vcCAmJiByZXN1bHQubm9vcCkpIHtcbiAgICBjb25zdCBuZXh0UHJvcHMgPSBjcmVhdGVMb29wVXBkYXRlKHByb3BzLCBsb29wLCB0bzIpO1xuICAgIGlmIChuZXh0UHJvcHMpIHtcbiAgICAgIHByZXBhcmVLZXlzKGN0cmwsIFtuZXh0UHJvcHNdKTtcbiAgICAgIHJldHVybiBmbHVzaFVwZGF0ZShjdHJsLCBuZXh0UHJvcHMsIHRydWUpO1xuICAgIH1cbiAgfVxuICBpZiAob25SZXNvbHZlKSB7XG4gICAgcmFmNC5iYXRjaGVkVXBkYXRlcygoKSA9PiBvblJlc29sdmUocmVzdWx0LCBjdHJsLCBjdHJsLml0ZW0pKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0U3ByaW5ncyhjdHJsLCBwcm9wcykge1xuICBjb25zdCBzcHJpbmdzID0geyAuLi5jdHJsLnNwcmluZ3MgfTtcbiAgaWYgKHByb3BzKSB7XG4gICAgZWFjaDModG9BcnJheTMocHJvcHMpLCAocHJvcHMyKSA9PiB7XG4gICAgICBpZiAoaXM2LnVuZChwcm9wczIua2V5cykpIHtcbiAgICAgICAgcHJvcHMyID0gY3JlYXRlVXBkYXRlKHByb3BzMik7XG4gICAgICB9XG4gICAgICBpZiAoIWlzNi5vYmoocHJvcHMyLnRvKSkge1xuICAgICAgICBwcm9wczIgPSB7IC4uLnByb3BzMiwgdG86IHZvaWQgMCB9O1xuICAgICAgfVxuICAgICAgcHJlcGFyZVNwcmluZ3Moc3ByaW5ncywgcHJvcHMyLCAoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBjcmVhdGVTcHJpbmcoa2V5KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHNldFNwcmluZ3MoY3RybCwgc3ByaW5ncyk7XG4gIHJldHVybiBzcHJpbmdzO1xufVxuZnVuY3Rpb24gc2V0U3ByaW5ncyhjdHJsLCBzcHJpbmdzKSB7XG4gIGVhY2hQcm9wNChzcHJpbmdzLCAoc3ByaW5nLCBrZXkpID0+IHtcbiAgICBpZiAoIWN0cmwuc3ByaW5nc1trZXldKSB7XG4gICAgICBjdHJsLnNwcmluZ3Nba2V5XSA9IHNwcmluZztcbiAgICAgIGFkZEZsdWlkT2JzZXJ2ZXIyKHNwcmluZywgY3RybCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNwcmluZyhrZXksIG9ic2VydmVyKSB7XG4gIGNvbnN0IHNwcmluZyA9IG5ldyBTcHJpbmdWYWx1ZSgpO1xuICBzcHJpbmcua2V5ID0ga2V5O1xuICBpZiAob2JzZXJ2ZXIpIHtcbiAgICBhZGRGbHVpZE9ic2VydmVyMihzcHJpbmcsIG9ic2VydmVyKTtcbiAgfVxuICByZXR1cm4gc3ByaW5nO1xufVxuZnVuY3Rpb24gcHJlcGFyZVNwcmluZ3Moc3ByaW5ncywgcHJvcHMsIGNyZWF0ZSkge1xuICBpZiAocHJvcHMua2V5cykge1xuICAgIGVhY2gzKHByb3BzLmtleXMsIChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHNwcmluZyA9IHNwcmluZ3Nba2V5XSB8fCAoc3ByaW5nc1trZXldID0gY3JlYXRlKGtleSkpO1xuICAgICAgc3ByaW5nW1wiX3ByZXBhcmVOb2RlXCJdKHByb3BzKTtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gcHJlcGFyZUtleXMoY3RybCwgcXVldWUpIHtcbiAgZWFjaDMocXVldWUsIChwcm9wcykgPT4ge1xuICAgIHByZXBhcmVTcHJpbmdzKGN0cmwuc3ByaW5ncywgcHJvcHMsIChrZXkpID0+IHtcbiAgICAgIHJldHVybiBjcmVhdGVTcHJpbmcoa2V5LCBjdHJsKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIHNyYy9TcHJpbmdDb250ZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNZW1vT25lIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgU3ByaW5nQ29udGV4dCA9ICh7XG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBpbmhlcml0ZWQgPSB1c2VDb250ZXh0KGN0eCk7XG4gIGNvbnN0IHBhdXNlID0gcHJvcHMucGF1c2UgfHwgISFpbmhlcml0ZWQucGF1c2UsIGltbWVkaWF0ZSA9IHByb3BzLmltbWVkaWF0ZSB8fCAhIWluaGVyaXRlZC5pbW1lZGlhdGU7XG4gIHByb3BzID0gdXNlTWVtb09uZSgoKSA9PiAoeyBwYXVzZSwgaW1tZWRpYXRlIH0pLCBbcGF1c2UsIGltbWVkaWF0ZV0pO1xuICBjb25zdCB7IFByb3ZpZGVyIH0gPSBjdHg7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciwgeyB2YWx1ZTogcHJvcHMgfSwgY2hpbGRyZW4pO1xufTtcbnZhciBjdHggPSBtYWtlQ29udGV4dChTcHJpbmdDb250ZXh0LCB7fSk7XG5TcHJpbmdDb250ZXh0LlByb3ZpZGVyID0gY3R4LlByb3ZpZGVyO1xuU3ByaW5nQ29udGV4dC5Db25zdW1lciA9IGN0eC5Db25zdW1lcjtcbmZ1bmN0aW9uIG1ha2VDb250ZXh0KHRhcmdldCwgaW5pdCkge1xuICBPYmplY3QuYXNzaWduKHRhcmdldCwgUmVhY3QuY3JlYXRlQ29udGV4dChpbml0KSk7XG4gIHRhcmdldC5Qcm92aWRlci5fY29udGV4dCA9IHRhcmdldDtcbiAgdGFyZ2V0LkNvbnN1bWVyLl9jb250ZXh0ID0gdGFyZ2V0O1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vLyBzcmMvU3ByaW5nUmVmLnRzXG5pbXBvcnQgeyBlYWNoIGFzIGVhY2g0LCBpcyBhcyBpczcsIGRlcHJlY2F0ZURpcmVjdENhbGwgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBTcHJpbmdSZWYgPSAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnQgPSBbXTtcbiAgY29uc3QgU3ByaW5nUmVmMiA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gICAgZGVwcmVjYXRlRGlyZWN0Q2FsbCgpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgaWYgKGlzNy51bmQocHJvcHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlMiA9IF9nZXRQcm9wcyhwcm9wcywgY3RybCwgaSk7XG4gICAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQodXBkYXRlMikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG4gIFNwcmluZ1JlZjIuY3VycmVudCA9IGN1cnJlbnQ7XG4gIFNwcmluZ1JlZjIuYWRkID0gZnVuY3Rpb24oY3RybCkge1xuICAgIGlmICghY3VycmVudC5pbmNsdWRlcyhjdHJsKSkge1xuICAgICAgY3VycmVudC5wdXNoKGN0cmwpO1xuICAgIH1cbiAgfTtcbiAgU3ByaW5nUmVmMi5kZWxldGUgPSBmdW5jdGlvbihjdHJsKSB7XG4gICAgY29uc3QgaSA9IGN1cnJlbnQuaW5kZXhPZihjdHJsKTtcbiAgICBpZiAofmkpXG4gICAgICBjdXJyZW50LnNwbGljZShpLCAxKTtcbiAgfTtcbiAgU3ByaW5nUmVmMi5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsKSA9PiBjdHJsLnBhdXNlKC4uLmFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBTcHJpbmdSZWYyLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsKSA9PiBjdHJsLnJlc3VtZSguLi5hcmd1bWVudHMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgU3ByaW5nUmVmMi5zZXQgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlMiA9IGlzNy5mdW4odmFsdWVzKSA/IHZhbHVlcyhpLCBjdHJsKSA6IHZhbHVlcztcbiAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgIGN0cmwuc2V0KHVwZGF0ZTIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBTcHJpbmdSZWYyLnN0YXJ0ID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGlmIChpczcudW5kKHByb3BzKSkge1xuICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZTIgPSB0aGlzLl9nZXRQcm9wcyhwcm9wcywgY3RybCwgaSk7XG4gICAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQodXBkYXRlMikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG4gIFNwcmluZ1JlZjIuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsKSA9PiBjdHJsLnN0b3AoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFNwcmluZ1JlZjIudXBkYXRlID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4gY3RybC51cGRhdGUodGhpcy5fZ2V0UHJvcHMocHJvcHMsIGN0cmwsIGkpKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGNvbnN0IF9nZXRQcm9wcyA9IGZ1bmN0aW9uKGFyZywgY3RybCwgaW5kZXgpIHtcbiAgICByZXR1cm4gaXM3LmZ1bihhcmcpID8gYXJnKGluZGV4LCBjdHJsKSA6IGFyZztcbiAgfTtcbiAgU3ByaW5nUmVmMi5fZ2V0UHJvcHMgPSBfZ2V0UHJvcHM7XG4gIHJldHVybiBTcHJpbmdSZWYyO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ3MudHNcbmZ1bmN0aW9uIHVzZVNwcmluZ3MobGVuZ3RoLCBwcm9wcywgZGVwcykge1xuICBjb25zdCBwcm9wc0ZuID0gaXM4LmZ1bihwcm9wcykgJiYgcHJvcHM7XG4gIGlmIChwcm9wc0ZuICYmICFkZXBzKVxuICAgIGRlcHMgPSBbXTtcbiAgY29uc3QgcmVmID0gdXNlTWVtbyhcbiAgICAoKSA9PiBwcm9wc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMyA/IFNwcmluZ1JlZigpIDogdm9pZCAwLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGxheW91dElkID0gdXNlUmVmKDApO1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gIGNvbnN0IHN0YXRlID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgY3RybHM6IFtdLFxuICAgICAgcXVldWU6IFtdLFxuICAgICAgZmx1c2goY3RybCwgdXBkYXRlczIpIHtcbiAgICAgICAgY29uc3Qgc3ByaW5nczIgPSBnZXRTcHJpbmdzKGN0cmwsIHVwZGF0ZXMyKTtcbiAgICAgICAgY29uc3QgY2FuRmx1c2hTeW5jID0gbGF5b3V0SWQuY3VycmVudCA+IDAgJiYgIXN0YXRlLnF1ZXVlLmxlbmd0aCAmJiAhT2JqZWN0LmtleXMoc3ByaW5nczIpLnNvbWUoKGtleSkgPT4gIWN0cmwuc3ByaW5nc1trZXldKTtcbiAgICAgICAgcmV0dXJuIGNhbkZsdXNoU3luYyA/IGZsdXNoVXBkYXRlUXVldWUoY3RybCwgdXBkYXRlczIpIDogbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICBzZXRTcHJpbmdzKGN0cmwsIHNwcmluZ3MyKTtcbiAgICAgICAgICBzdGF0ZS5xdWV1ZS5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCB1cGRhdGVzMikpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGN0cmxzID0gdXNlUmVmKFsuLi5zdGF0ZS5jdHJsc10pO1xuICBjb25zdCB1cGRhdGVzID0gW107XG4gIGNvbnN0IHByZXZMZW5ndGggPSB1c2VQcmV2KGxlbmd0aCkgfHwgMDtcbiAgdXNlTWVtbygoKSA9PiB7XG4gICAgZWFjaDUoY3RybHMuY3VycmVudC5zbGljZShsZW5ndGgsIHByZXZMZW5ndGgpLCAoY3RybCkgPT4ge1xuICAgICAgZGV0YWNoUmVmcyhjdHJsLCByZWYpO1xuICAgICAgY3RybC5zdG9wKHRydWUpO1xuICAgIH0pO1xuICAgIGN0cmxzLmN1cnJlbnQubGVuZ3RoID0gbGVuZ3RoO1xuICAgIGRlY2xhcmVVcGRhdGVzKHByZXZMZW5ndGgsIGxlbmd0aCk7XG4gIH0sIFtsZW5ndGhdKTtcbiAgdXNlTWVtbygoKSA9PiB7XG4gICAgZGVjbGFyZVVwZGF0ZXMoMCwgTWF0aC5taW4ocHJldkxlbmd0aCwgbGVuZ3RoKSk7XG4gIH0sIGRlcHMpO1xuICBmdW5jdGlvbiBkZWNsYXJlVXBkYXRlcyhzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY3RybCA9IGN0cmxzLmN1cnJlbnRbaV0gfHwgKGN0cmxzLmN1cnJlbnRbaV0gPSBuZXcgQ29udHJvbGxlcihudWxsLCBzdGF0ZS5mbHVzaCkpO1xuICAgICAgY29uc3QgdXBkYXRlMiA9IHByb3BzRm4gPyBwcm9wc0ZuKGksIGN0cmwpIDogcHJvcHNbaV07XG4gICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICB1cGRhdGVzW2ldID0gZGVjbGFyZVVwZGF0ZSh1cGRhdGUyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qgc3ByaW5ncyA9IGN0cmxzLmN1cnJlbnQubWFwKChjdHJsLCBpKSA9PiBnZXRTcHJpbmdzKGN0cmwsIHVwZGF0ZXNbaV0pKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQyKFNwcmluZ0NvbnRleHQpO1xuICBjb25zdCBwcmV2Q29udGV4dCA9IHVzZVByZXYoY29udGV4dCk7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSBjb250ZXh0ICE9PSBwcmV2Q29udGV4dCAmJiBoYXNQcm9wcyhjb250ZXh0KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDIoKCkgPT4ge1xuICAgIGxheW91dElkLmN1cnJlbnQrKztcbiAgICBzdGF0ZS5jdHJscyA9IGN0cmxzLmN1cnJlbnQ7XG4gICAgY29uc3QgeyBxdWV1ZSB9ID0gc3RhdGU7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgc3RhdGUucXVldWUgPSBbXTtcbiAgICAgIGVhY2g1KHF1ZXVlLCAoY2IpID0+IGNiKCkpO1xuICAgIH1cbiAgICBlYWNoNShjdHJscy5jdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgcmVmPy5hZGQoY3RybCk7XG4gICAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgICBjdHJsLnN0YXJ0KHsgZGVmYXVsdDogY29udGV4dCB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZTIgPSB1cGRhdGVzW2ldO1xuICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgcmVwbGFjZVJlZihjdHJsLCB1cGRhdGUyLnJlZik7XG4gICAgICAgIGlmIChjdHJsLnJlZikge1xuICAgICAgICAgIGN0cmwucXVldWUucHVzaCh1cGRhdGUyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHJsLnN0YXJ0KHVwZGF0ZTIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICB1c2VPbmNlKCgpID0+ICgpID0+IHtcbiAgICBlYWNoNShzdGF0ZS5jdHJscywgKGN0cmwpID0+IGN0cmwuc3RvcCh0cnVlKSk7XG4gIH0pO1xuICBjb25zdCB2YWx1ZXMgPSBzcHJpbmdzLm1hcCgoeCkgPT4gKHsgLi4ueCB9KSk7XG4gIHJldHVybiByZWYgPyBbdmFsdWVzLCByZWZdIDogdmFsdWVzO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5nLnRzXG5mdW5jdGlvbiB1c2VTcHJpbmcocHJvcHMsIGRlcHMpIHtcbiAgY29uc3QgaXNGbiA9IGlzOS5mdW4ocHJvcHMpO1xuICBjb25zdCBbW3ZhbHVlc10sIHJlZl0gPSB1c2VTcHJpbmdzKFxuICAgIDEsXG4gICAgaXNGbiA/IHByb3BzIDogW3Byb3BzXSxcbiAgICBpc0ZuID8gZGVwcyB8fCBbXSA6IGRlcHNcbiAgKTtcbiAgcmV0dXJuIGlzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAyID8gW3ZhbHVlcywgcmVmXSA6IHZhbHVlcztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ1JlZi50c1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBpbml0U3ByaW5nUmVmID0gKCkgPT4gU3ByaW5nUmVmKCk7XG52YXIgdXNlU3ByaW5nUmVmID0gKCkgPT4gdXNlU3RhdGUoaW5pdFNwcmluZ1JlZilbMF07XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmdWYWx1ZS50c1xuaW1wb3J0IHsgdXNlQ29uc3RhbnQsIHVzZU9uY2UgYXMgdXNlT25jZTIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB1c2VTcHJpbmdWYWx1ZSA9IChpbml0aWFsLCBwcm9wcykgPT4ge1xuICBjb25zdCBzcHJpbmdWYWx1ZSA9IHVzZUNvbnN0YW50KCgpID0+IG5ldyBTcHJpbmdWYWx1ZShpbml0aWFsLCBwcm9wcykpO1xuICB1c2VPbmNlMigoKSA9PiAoKSA9PiB7XG4gICAgc3ByaW5nVmFsdWUuc3RvcCgpO1xuICB9KTtcbiAgcmV0dXJuIHNwcmluZ1ZhbHVlO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZVRyYWlsLnRzXG5pbXBvcnQgeyBlYWNoIGFzIGVhY2g2LCBpcyBhcyBpczEwLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiB1c2VUcmFpbChsZW5ndGgsIHByb3BzQXJnLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpczEwLmZ1bihwcm9wc0FyZykgJiYgcHJvcHNBcmc7XG4gIGlmIChwcm9wc0ZuICYmICFkZXBzKVxuICAgIGRlcHMgPSBbXTtcbiAgbGV0IHJldmVyc2UgPSB0cnVlO1xuICBsZXQgcGFzc2VkUmVmID0gdm9pZCAwO1xuICBjb25zdCByZXN1bHQgPSB1c2VTcHJpbmdzKFxuICAgIGxlbmd0aCxcbiAgICAoaSwgY3RybCkgPT4ge1xuICAgICAgY29uc3QgcHJvcHMgPSBwcm9wc0ZuID8gcHJvcHNGbihpLCBjdHJsKSA6IHByb3BzQXJnO1xuICAgICAgcGFzc2VkUmVmID0gcHJvcHMucmVmO1xuICAgICAgcmV2ZXJzZSA9IHJldmVyc2UgJiYgcHJvcHMucmV2ZXJzZTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9LFxuICAgIC8vIEVuc3VyZSB0aGUgcHJvcHMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gbm8gZGVwcyBleGlzdC5cbiAgICAvLyBUaGlzIHdvcmtzIGFyb3VuZCB0aGUgMyBhcmd1bWVudCBydWxlLlxuICAgIGRlcHMgfHwgW3t9XVxuICApO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0MygoKSA9PiB7XG4gICAgZWFjaDYocmVzdWx0WzFdLmN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSByZXN1bHRbMV0uY3VycmVudFtpICsgKHJldmVyc2UgPyAxIDogLTEpXTtcbiAgICAgIHJlcGxhY2VSZWYoY3RybCwgcGFzc2VkUmVmKTtcbiAgICAgIGlmIChjdHJsLnJlZikge1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgY3RybC51cGRhdGUoeyB0bzogcGFyZW50LnNwcmluZ3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBjdHJsLnN0YXJ0KHsgdG86IHBhcmVudC5zcHJpbmdzIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3RybC5zdGFydCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBkZXBzKTtcbiAgaWYgKHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzKSB7XG4gICAgY29uc3QgcmVmID0gcGFzc2VkUmVmID8/IHJlc3VsdFsxXTtcbiAgICByZWZbXCJfZ2V0UHJvcHNcIl0gPSAocHJvcHNBcmcyLCBjdHJsLCBpKSA9PiB7XG4gICAgICBjb25zdCBwcm9wcyA9IGlzMTAuZnVuKHByb3BzQXJnMikgPyBwcm9wc0FyZzIoaSwgY3RybCkgOiBwcm9wc0FyZzI7XG4gICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcmVmLmN1cnJlbnRbaSArIChwcm9wcy5yZXZlcnNlID8gMSA6IC0xKV07XG4gICAgICAgIGlmIChwYXJlbnQpXG4gICAgICAgICAgcHJvcHMudG8gPSBwYXJlbnQuc3ByaW5ncztcbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gcmVzdWx0WzBdO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlVHJhbnNpdGlvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDMsIHVzZVJlZiBhcyB1c2VSZWYyLCB1c2VNZW1vIGFzIHVzZU1lbW8yIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBpcyBhcyBpczExLFxuICB0b0FycmF5IGFzIHRvQXJyYXk0LFxuICB1c2VGb3JjZVVwZGF0ZSBhcyB1c2VGb3JjZVVwZGF0ZTIsXG4gIHVzZU9uY2UgYXMgdXNlT25jZTMsXG4gIHVzZVByZXYgYXMgdXNlUHJldjIsXG4gIGVhY2ggYXMgZWFjaDcsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDRcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uKGRhdGEsIHByb3BzLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpczExLmZ1bihwcm9wcykgJiYgcHJvcHM7XG4gIGNvbnN0IHtcbiAgICByZXNldCxcbiAgICBzb3J0LFxuICAgIHRyYWlsID0gMCxcbiAgICBleHBpcmVzID0gdHJ1ZSxcbiAgICBleGl0QmVmb3JlRW50ZXIgPSBmYWxzZSxcbiAgICBvbkRlc3Ryb3llZCxcbiAgICByZWY6IHByb3BzUmVmLFxuICAgIGNvbmZpZzogcHJvcHNDb25maWdcbiAgfSA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgY29uc3QgcmVmID0gdXNlTWVtbzIoXG4gICAgKCkgPT4gcHJvcHNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDMgPyBTcHJpbmdSZWYoKSA6IHZvaWQgMCxcbiAgICBbXVxuICApO1xuICBjb25zdCBpdGVtcyA9IHRvQXJyYXk0KGRhdGEpO1xuICBjb25zdCB0cmFuc2l0aW9ucyA9IFtdO1xuICBjb25zdCB1c2VkVHJhbnNpdGlvbnMgPSB1c2VSZWYyKG51bGwpO1xuICBjb25zdCBwcmV2VHJhbnNpdGlvbnMgPSByZXNldCA/IG51bGwgOiB1c2VkVHJhbnNpdGlvbnMuY3VycmVudDtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoKCkgPT4ge1xuICAgIHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50ID0gdHJhbnNpdGlvbnM7XG4gIH0pO1xuICB1c2VPbmNlMygoKSA9PiB7XG4gICAgZWFjaDcodHJhbnNpdGlvbnMsICh0KSA9PiB7XG4gICAgICByZWY/LmFkZCh0LmN0cmwpO1xuICAgICAgdC5jdHJsLnJlZiA9IHJlZjtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWFjaDcodXNlZFRyYW5zaXRpb25zLmN1cnJlbnQsICh0KSA9PiB7XG4gICAgICAgIGlmICh0LmV4cGlyZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodC5leHBpcmF0aW9uSWQpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaFJlZnModC5jdHJsLCByZWYpO1xuICAgICAgICB0LmN0cmwuc3RvcCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuICBjb25zdCBrZXlzID0gZ2V0S2V5cyhpdGVtcywgcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzLCBwcmV2VHJhbnNpdGlvbnMpO1xuICBjb25zdCBleHBpcmVkID0gcmVzZXQgJiYgdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQgfHwgW107XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0KFxuICAgICgpID0+IGVhY2g3KGV4cGlyZWQsICh7IGN0cmwsIGl0ZW0sIGtleSB9KSA9PiB7XG4gICAgICBkZXRhY2hSZWZzKGN0cmwsIHJlZik7XG4gICAgICBjYWxsUHJvcChvbkRlc3Ryb3llZCwgaXRlbSwga2V5KTtcbiAgICB9KVxuICApO1xuICBjb25zdCByZXVzZWQgPSBbXTtcbiAgaWYgKHByZXZUcmFuc2l0aW9ucylcbiAgICBlYWNoNyhwcmV2VHJhbnNpdGlvbnMsICh0LCBpKSA9PiB7XG4gICAgICBpZiAodC5leHBpcmVkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0LmV4cGlyYXRpb25JZCk7XG4gICAgICAgIGV4cGlyZWQucHVzaCh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkgPSByZXVzZWRbaV0gPSBrZXlzLmluZGV4T2YodC5rZXkpO1xuICAgICAgICBpZiAofmkpXG4gICAgICAgICAgdHJhbnNpdGlvbnNbaV0gPSB0O1xuICAgICAgfVxuICAgIH0pO1xuICBlYWNoNyhpdGVtcywgKGl0ZW0sIGkpID0+IHtcbiAgICBpZiAoIXRyYW5zaXRpb25zW2ldKSB7XG4gICAgICB0cmFuc2l0aW9uc1tpXSA9IHtcbiAgICAgICAga2V5OiBrZXlzW2ldLFxuICAgICAgICBpdGVtLFxuICAgICAgICBwaGFzZTogXCJtb3VudFwiIC8qIE1PVU5UICovLFxuICAgICAgICBjdHJsOiBuZXcgQ29udHJvbGxlcigpXG4gICAgICB9O1xuICAgICAgdHJhbnNpdGlvbnNbaV0uY3RybC5pdGVtID0gaXRlbTtcbiAgICB9XG4gIH0pO1xuICBpZiAocmV1c2VkLmxlbmd0aCkge1xuICAgIGxldCBpID0gLTE7XG4gICAgY29uc3QgeyBsZWF2ZSB9ID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICAgIGVhY2g3KHJldXNlZCwgKGtleUluZGV4LCBwcmV2SW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSBwcmV2VHJhbnNpdGlvbnNbcHJldkluZGV4XTtcbiAgICAgIGlmICh+a2V5SW5kZXgpIHtcbiAgICAgICAgaSA9IHRyYW5zaXRpb25zLmluZGV4T2YodCk7XG4gICAgICAgIHRyYW5zaXRpb25zW2ldID0geyAuLi50LCBpdGVtOiBpdGVtc1trZXlJbmRleF0gfTtcbiAgICAgIH0gZWxzZSBpZiAobGVhdmUpIHtcbiAgICAgICAgdHJhbnNpdGlvbnMuc3BsaWNlKCsraSwgMCwgdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzMTEuZnVuKHNvcnQpKSB7XG4gICAgdHJhbnNpdGlvbnMuc29ydCgoYSwgYikgPT4gc29ydChhLml0ZW0sIGIuaXRlbSkpO1xuICB9XG4gIGxldCBkZWxheSA9IC10cmFpbDtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZTIoKTtcbiAgY29uc3QgZGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzKHByb3BzKTtcbiAgY29uc3QgY2hhbmdlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGV4aXRpbmdUcmFuc2l0aW9ucyA9IHVzZVJlZjIoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGNvbnN0IGZvcmNlQ2hhbmdlID0gdXNlUmVmMihmYWxzZSk7XG4gIGVhY2g3KHRyYW5zaXRpb25zLCAodCwgaSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IHQua2V5O1xuICAgIGNvbnN0IHByZXZQaGFzZSA9IHQucGhhc2U7XG4gICAgY29uc3QgcCA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgICBsZXQgdG8yO1xuICAgIGxldCBwaGFzZTtcbiAgICBjb25zdCBwcm9wc0RlbGF5ID0gY2FsbFByb3AocC5kZWxheSB8fCAwLCBrZXkpO1xuICAgIGlmIChwcmV2UGhhc2UgPT0gXCJtb3VudFwiIC8qIE1PVU5UICovKSB7XG4gICAgICB0bzIgPSBwLmVudGVyO1xuICAgICAgcGhhc2UgPSBcImVudGVyXCIgLyogRU5URVIgKi87XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlzTGVhdmUgPSBrZXlzLmluZGV4T2Yoa2V5KSA8IDA7XG4gICAgICBpZiAocHJldlBoYXNlICE9IFwibGVhdmVcIiAvKiBMRUFWRSAqLykge1xuICAgICAgICBpZiAoaXNMZWF2ZSkge1xuICAgICAgICAgIHRvMiA9IHAubGVhdmU7XG4gICAgICAgICAgcGhhc2UgPSBcImxlYXZlXCIgLyogTEVBVkUgKi87XG4gICAgICAgIH0gZWxzZSBpZiAodG8yID0gcC51cGRhdGUpIHtcbiAgICAgICAgICBwaGFzZSA9IFwidXBkYXRlXCIgLyogVVBEQVRFICovO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFpc0xlYXZlKSB7XG4gICAgICAgIHRvMiA9IHAuZW50ZXI7XG4gICAgICAgIHBoYXNlID0gXCJlbnRlclwiIC8qIEVOVEVSICovO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG8yID0gY2FsbFByb3AodG8yLCB0Lml0ZW0sIGkpO1xuICAgIHRvMiA9IGlzMTEub2JqKHRvMikgPyBpbmZlclRvKHRvMikgOiB7IHRvOiB0bzIgfTtcbiAgICBpZiAoIXRvMi5jb25maWcpIHtcbiAgICAgIGNvbnN0IGNvbmZpZzIgPSBwcm9wc0NvbmZpZyB8fCBkZWZhdWx0UHJvcHMuY29uZmlnO1xuICAgICAgdG8yLmNvbmZpZyA9IGNhbGxQcm9wKGNvbmZpZzIsIHQuaXRlbSwgaSwgcGhhc2UpO1xuICAgIH1cbiAgICBkZWxheSArPSB0cmFpbDtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgLy8gd2UgbmVlZCB0byBhZGQgb3VyIHByb3BzLmRlbGF5IHZhbHVlIHlvdSBoZXJlLlxuICAgICAgZGVsYXk6IHByb3BzRGVsYXkgKyBkZWxheSxcbiAgICAgIHJlZjogcHJvcHNSZWYsXG4gICAgICBpbW1lZGlhdGU6IHAuaW1tZWRpYXRlLFxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBpbXBsaWVkIHJlc2V0cy5cbiAgICAgIHJlc2V0OiBmYWxzZSxcbiAgICAgIC8vIE1lcmdlIGFueSBwaGFzZS1zcGVjaWZpYyBwcm9wcy5cbiAgICAgIC4uLnRvMlxuICAgIH07XG4gICAgaWYgKHBoYXNlID09IFwiZW50ZXJcIiAvKiBFTlRFUiAqLyAmJiBpczExLnVuZChwYXlsb2FkLmZyb20pKSB7XG4gICAgICBjb25zdCBwMiA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgICAgIGNvbnN0IGZyb20gPSBpczExLnVuZChwMi5pbml0aWFsKSB8fCBwcmV2VHJhbnNpdGlvbnMgPyBwMi5mcm9tIDogcDIuaW5pdGlhbDtcbiAgICAgIHBheWxvYWQuZnJvbSA9IGNhbGxQcm9wKGZyb20sIHQuaXRlbSwgaSk7XG4gICAgfVxuICAgIGNvbnN0IHsgb25SZXNvbHZlIH0gPSBwYXlsb2FkO1xuICAgIHBheWxvYWQub25SZXNvbHZlID0gKHJlc3VsdCkgPT4ge1xuICAgICAgY2FsbFByb3Aob25SZXNvbHZlLCByZXN1bHQpO1xuICAgICAgY29uc3QgdHJhbnNpdGlvbnMyID0gdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQ7XG4gICAgICBjb25zdCB0MiA9IHRyYW5zaXRpb25zMi5maW5kKCh0MykgPT4gdDMua2V5ID09PSBrZXkpO1xuICAgICAgaWYgKCF0MilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKHJlc3VsdC5jYW5jZWxsZWQgJiYgdDIucGhhc2UgIT0gXCJ1cGRhdGVcIiAvKiBVUERBVEUgKi8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHQyLmN0cmwuaWRsZSkge1xuICAgICAgICBjb25zdCBpZGxlID0gdHJhbnNpdGlvbnMyLmV2ZXJ5KCh0MykgPT4gdDMuY3RybC5pZGxlKTtcbiAgICAgICAgaWYgKHQyLnBoYXNlID09IFwibGVhdmVcIiAvKiBMRUFWRSAqLykge1xuICAgICAgICAgIGNvbnN0IGV4cGlyeSA9IGNhbGxQcm9wKGV4cGlyZXMsIHQyLml0ZW0pO1xuICAgICAgICAgIGlmIChleHBpcnkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBleHBpcnlNcyA9IGV4cGlyeSA9PT0gdHJ1ZSA/IDAgOiBleHBpcnk7XG4gICAgICAgICAgICB0Mi5leHBpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaWRsZSAmJiBleHBpcnlNcyA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKGV4cGlyeU1zIDw9IDIxNDc0ODM2NDcpXG4gICAgICAgICAgICAgICAgdDIuZXhwaXJhdGlvbklkID0gc2V0VGltZW91dChmb3JjZVVwZGF0ZSwgZXhwaXJ5TXMpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpZGxlICYmIHRyYW5zaXRpb25zMi5zb21lKCh0MykgPT4gdDMuZXhwaXJlZCkpIHtcbiAgICAgICAgICBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5kZWxldGUodDIpO1xuICAgICAgICAgIGlmIChleGl0QmVmb3JlRW50ZXIpIHtcbiAgICAgICAgICAgIGZvcmNlQ2hhbmdlLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzcHJpbmdzID0gZ2V0U3ByaW5ncyh0LmN0cmwsIHBheWxvYWQpO1xuICAgIGlmIChwaGFzZSA9PT0gXCJsZWF2ZVwiIC8qIExFQVZFICovICYmIGV4aXRCZWZvcmVFbnRlcikge1xuICAgICAgZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2V0KHQsIHsgcGhhc2UsIHNwcmluZ3MsIHBheWxvYWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYW5nZXMuc2V0KHQsIHsgcGhhc2UsIHNwcmluZ3MsIHBheWxvYWQgfSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQzKFNwcmluZ0NvbnRleHQpO1xuICBjb25zdCBwcmV2Q29udGV4dCA9IHVzZVByZXYyKGNvbnRleHQpO1xuICBjb25zdCBoYXNDb250ZXh0ID0gY29udGV4dCAhPT0gcHJldkNvbnRleHQgJiYgaGFzUHJvcHMoY29udGV4dCk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0KCgpID0+IHtcbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgZWFjaDcodHJhbnNpdGlvbnMsICh0KSA9PiB7XG4gICAgICAgIHQuY3RybC5zdGFydCh7IGRlZmF1bHQ6IGNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtjb250ZXh0XSk7XG4gIGVhY2g3KGNoYW5nZXMsIChfLCB0KSA9PiB7XG4gICAgaWYgKGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LnNpemUpIHtcbiAgICAgIGNvbnN0IGluZCA9IHRyYW5zaXRpb25zLmZpbmRJbmRleCgoc3RhdGUpID0+IHN0YXRlLmtleSA9PT0gdC5rZXkpO1xuICAgICAgdHJhbnNpdGlvbnMuc3BsaWNlKGluZCwgMSk7XG4gICAgfVxuICB9KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoXG4gICAgKCkgPT4ge1xuICAgICAgZWFjaDcoXG4gICAgICAgIGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LnNpemUgPyBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudCA6IGNoYW5nZXMsXG4gICAgICAgICh7IHBoYXNlLCBwYXlsb2FkIH0sIHQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGN0cmwgfSA9IHQ7XG4gICAgICAgICAgdC5waGFzZSA9IHBoYXNlO1xuICAgICAgICAgIHJlZj8uYWRkKGN0cmwpO1xuICAgICAgICAgIGlmIChoYXNDb250ZXh0ICYmIHBoYXNlID09IFwiZW50ZXJcIiAvKiBFTlRFUiAqLykge1xuICAgICAgICAgICAgY3RybC5zdGFydCh7IGRlZmF1bHQ6IGNvbnRleHQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICAgICAgICByZXBsYWNlUmVmKGN0cmwsIHBheWxvYWQucmVmKTtcbiAgICAgICAgICAgIGlmICgoY3RybC5yZWYgfHwgcmVmKSAmJiAhZm9yY2VDaGFuZ2UuY3VycmVudCkge1xuICAgICAgICAgICAgICBjdHJsLnVwZGF0ZShwYXlsb2FkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGN0cmwuc3RhcnQocGF5bG9hZCk7XG4gICAgICAgICAgICAgIGlmIChmb3JjZUNoYW5nZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgZm9yY2VDaGFuZ2UuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0sXG4gICAgcmVzZXQgPyB2b2lkIDAgOiBkZXBzXG4gICk7XG4gIGNvbnN0IHJlbmRlclRyYW5zaXRpb25zID0gKHJlbmRlcikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgdHJhbnNpdGlvbnMubWFwKCh0LCBpKSA9PiB7XG4gICAgY29uc3QgeyBzcHJpbmdzIH0gPSBjaGFuZ2VzLmdldCh0KSB8fCB0LmN0cmw7XG4gICAgY29uc3QgZWxlbSA9IHJlbmRlcih7IC4uLnNwcmluZ3MgfSwgdC5pdGVtLCB0LCBpKTtcbiAgICByZXR1cm4gZWxlbSAmJiBlbGVtLnR5cGUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBlbGVtLnR5cGUsXG4gICAgICB7XG4gICAgICAgIC4uLmVsZW0ucHJvcHMsXG4gICAgICAgIGtleTogaXMxMS5zdHIodC5rZXkpIHx8IGlzMTEubnVtKHQua2V5KSA/IHQua2V5IDogdC5jdHJsLmlkLFxuICAgICAgICByZWY6IGVsZW0ucmVmXG4gICAgICB9XG4gICAgKSA6IGVsZW07XG4gIH0pKTtcbiAgcmV0dXJuIHJlZiA/IFtyZW5kZXJUcmFuc2l0aW9ucywgcmVmXSA6IHJlbmRlclRyYW5zaXRpb25zO1xufVxudmFyIG5leHRLZXkgPSAxO1xuZnVuY3Rpb24gZ2V0S2V5cyhpdGVtcywgeyBrZXksIGtleXMgPSBrZXkgfSwgcHJldlRyYW5zaXRpb25zKSB7XG4gIGlmIChrZXlzID09PSBudWxsKSB7XG4gICAgY29uc3QgcmV1c2VkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICByZXR1cm4gaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0ID0gcHJldlRyYW5zaXRpb25zICYmIHByZXZUcmFuc2l0aW9ucy5maW5kKFxuICAgICAgICAodDIpID0+IHQyLml0ZW0gPT09IGl0ZW0gJiYgdDIucGhhc2UgIT09IFwibGVhdmVcIiAvKiBMRUFWRSAqLyAmJiAhcmV1c2VkLmhhcyh0MilcbiAgICAgICk7XG4gICAgICBpZiAodCkge1xuICAgICAgICByZXVzZWQuYWRkKHQpO1xuICAgICAgICByZXR1cm4gdC5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dEtleSsrO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBpczExLnVuZChrZXlzKSA/IGl0ZW1zIDogaXMxMS5mdW4oa2V5cykgPyBpdGVtcy5tYXAoa2V5cykgOiB0b0FycmF5NChrZXlzKTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNjcm9sbC50c1xuaW1wb3J0IHsgZWFjaCBhcyBlYWNoOCwgb25TY3JvbGwsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDUgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB1c2VTY3JvbGwgPSAoe1xuICBjb250YWluZXIsXG4gIC4uLnNwcmluZ09wdGlvbnNcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBbc2Nyb2xsVmFsdWVzLCBhcGldID0gdXNlU3ByaW5nKFxuICAgICgpID0+ICh7XG4gICAgICBzY3JvbGxYOiAwLFxuICAgICAgc2Nyb2xsWTogMCxcbiAgICAgIHNjcm9sbFhQcm9ncmVzczogMCxcbiAgICAgIHNjcm9sbFlQcm9ncmVzczogMCxcbiAgICAgIC4uLnNwcmluZ09wdGlvbnNcbiAgICB9KSxcbiAgICBbXVxuICApO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NSgoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cFNjcm9sbCA9IG9uU2Nyb2xsKFxuICAgICAgKHsgeCwgeSB9KSA9PiB7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgc2Nyb2xsWDogeC5jdXJyZW50LFxuICAgICAgICAgIHNjcm9sbFhQcm9ncmVzczogeC5wcm9ncmVzcyxcbiAgICAgICAgICBzY3JvbGxZOiB5LmN1cnJlbnQsXG4gICAgICAgICAgc2Nyb2xsWVByb2dyZXNzOiB5LnByb2dyZXNzXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHsgY29udGFpbmVyOiBjb250YWluZXI/LmN1cnJlbnQgfHwgdm9pZCAwIH1cbiAgICApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlYWNoOChPYmplY3QudmFsdWVzKHNjcm9sbFZhbHVlcyksICh2YWx1ZSkgPT4gdmFsdWUuc3RvcCgpKTtcbiAgICAgIGNsZWFudXBTY3JvbGwoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBzY3JvbGxWYWx1ZXM7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlUmVzaXplLnRzXG5pbXBvcnQgeyBvblJlc2l6ZSwgZWFjaCBhcyBlYWNoOSwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHVzZVJlc2l6ZSA9ICh7XG4gIGNvbnRhaW5lcixcbiAgLi4uc3ByaW5nT3B0aW9uc1xufSkgPT4ge1xuICBjb25zdCBbc2l6ZVZhbHVlcywgYXBpXSA9IHVzZVNwcmluZyhcbiAgICAoKSA9PiAoe1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICAuLi5zcHJpbmdPcHRpb25zXG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDYoKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXBTY3JvbGwgPSBvblJlc2l6ZShcbiAgICAgICh7IHdpZHRoLCBoZWlnaHQgfSkgPT4ge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICBpbW1lZGlhdGU6IHNpemVWYWx1ZXMud2lkdGguZ2V0KCkgPT09IDAgfHwgc2l6ZVZhbHVlcy5oZWlnaHQuZ2V0KCkgPT09IDBcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgeyBjb250YWluZXI6IGNvbnRhaW5lcj8uY3VycmVudCB8fCB2b2lkIDAgfVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVhY2g5KE9iamVjdC52YWx1ZXMoc2l6ZVZhbHVlcyksICh2YWx1ZSkgPT4gdmFsdWUuc3RvcCgpKTtcbiAgICAgIGNsZWFudXBTY3JvbGwoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBzaXplVmFsdWVzO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZUluVmlldy50c1xuaW1wb3J0IHsgdXNlUmVmIGFzIHVzZVJlZjMsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgaXMgYXMgaXMxMiwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIGRlZmF1bHRUaHJlc2hvbGRPcHRpb25zID0ge1xuICBhbnk6IDAsXG4gIGFsbDogMVxufTtcbmZ1bmN0aW9uIHVzZUluVmlldyhwcm9wcywgYXJncykge1xuICBjb25zdCBbaXNJblZpZXcsIHNldElzSW5WaWV3XSA9IHVzZVN0YXRlMihmYWxzZSk7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjMoKTtcbiAgY29uc3QgcHJvcHNGbiA9IGlzMTIuZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgY29uc3Qgc3ByaW5nc1Byb3BzID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHt9O1xuICBjb25zdCB7IHRvOiB0bzIgPSB7fSwgZnJvbSA9IHt9LCAuLi5yZXN0U3ByaW5nUHJvcHMgfSA9IHNwcmluZ3NQcm9wcztcbiAgY29uc3QgaW50ZXJzZWN0aW9uQXJndW1lbnRzID0gcHJvcHNGbiA/IGFyZ3MgOiBwcm9wcztcbiAgY29uc3QgW3NwcmluZ3MsIGFwaV0gPSB1c2VTcHJpbmcoKCkgPT4gKHsgZnJvbSwgLi4ucmVzdFNwcmluZ1Byb3BzIH0pLCBbXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q3KCgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgY29uc3Qge1xuICAgICAgcm9vdCxcbiAgICAgIG9uY2UsXG4gICAgICBhbW91bnQgPSBcImFueVwiLFxuICAgICAgLi4ucmVzdEFyZ3NcbiAgICB9ID0gaW50ZXJzZWN0aW9uQXJndW1lbnRzID8/IHt9O1xuICAgIGlmICghZWxlbWVudCB8fCBvbmNlICYmIGlzSW5WaWV3IHx8IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBhY3RpdmVJbnRlcnNlY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3Qgb25FbnRlciA9ICgpID0+IHtcbiAgICAgIGlmICh0bzIpIHtcbiAgICAgICAgYXBpLnN0YXJ0KHRvMik7XG4gICAgICB9XG4gICAgICBzZXRJc0luVmlldyh0cnVlKTtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgYXBpLnN0YXJ0KGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHNldElzSW5WaWV3KGZhbHNlKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gb25jZSA/IHZvaWQgMCA6IGNsZWFudXA7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSAoZW50cmllcykgPT4ge1xuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBvbkxlYXZlID0gYWN0aXZlSW50ZXJzZWN0aW9ucy5nZXQoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nID09PSBCb29sZWFuKG9uTGVhdmUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIGNvbnN0IG5ld09uTGVhdmUgPSBvbkVudGVyKCk7XG4gICAgICAgICAgaWYgKGlzMTIuZnVuKG5ld09uTGVhdmUpKSB7XG4gICAgICAgICAgICBhY3RpdmVJbnRlcnNlY3Rpb25zLnNldChlbnRyeS50YXJnZXQsIG5ld09uTGVhdmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob25MZWF2ZSkge1xuICAgICAgICAgIG9uTGVhdmUoKTtcbiAgICAgICAgICBhY3RpdmVJbnRlcnNlY3Rpb25zLmRlbGV0ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZUludGVyc2VjdGlvbiwge1xuICAgICAgcm9vdDogcm9vdCAmJiByb290LmN1cnJlbnQgfHwgdm9pZCAwLFxuICAgICAgdGhyZXNob2xkOiB0eXBlb2YgYW1vdW50ID09PSBcIm51bWJlclwiIHx8IEFycmF5LmlzQXJyYXkoYW1vdW50KSA/IGFtb3VudCA6IGRlZmF1bHRUaHJlc2hvbGRPcHRpb25zW2Ftb3VudF0sXG4gICAgICAuLi5yZXN0QXJnc1xuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgcmV0dXJuICgpID0+IG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgfSwgW2ludGVyc2VjdGlvbkFyZ3VtZW50c10pO1xuICBpZiAocHJvcHNGbikge1xuICAgIHJldHVybiBbcmVmLCBzcHJpbmdzXTtcbiAgfVxuICByZXR1cm4gW3JlZiwgaXNJblZpZXddO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9TcHJpbmcudHN4XG5mdW5jdGlvbiBTcHJpbmcoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkge1xuICByZXR1cm4gY2hpbGRyZW4odXNlU3ByaW5nKHByb3BzKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1RyYWlsLnRzeFxuaW1wb3J0IHsgaXMgYXMgaXMxMyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gVHJhaWwoe1xuICBpdGVtcyxcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IHRyYWlscyA9IHVzZVRyYWlsKGl0ZW1zLmxlbmd0aCwgcHJvcHMpO1xuICByZXR1cm4gaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNoaWxkcmVuKGl0ZW0sIGluZGV4KTtcbiAgICByZXR1cm4gaXMxMy5mdW4ocmVzdWx0KSA/IHJlc3VsdCh0cmFpbHNbaW5kZXhdKSA6IHJlc3VsdDtcbiAgfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1RyYW5zaXRpb24udHN4XG5mdW5jdGlvbiBUcmFuc2l0aW9uKHtcbiAgaXRlbXMsXG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gdXNlVHJhbnNpdGlvbihpdGVtcywgcHJvcHMpKGNoaWxkcmVuKTtcbn1cblxuLy8gc3JjL2ludGVycG9sYXRlLnRzXG5pbXBvcnQgeyBkZXByZWNhdGVJbnRlcnBvbGF0ZSBhcyBkZXByZWNhdGVJbnRlcnBvbGF0ZTIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL0ludGVycG9sYXRpb24udHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzMTQsXG4gIHJhZiBhcyByYWY1LFxuICBlYWNoIGFzIGVhY2gxMCxcbiAgaXNFcXVhbCBhcyBpc0VxdWFsMixcbiAgdG9BcnJheSBhcyB0b0FycmF5NSxcbiAgZnJhbWVMb29wIGFzIGZyYW1lTG9vcDMsXG4gIGdldEZsdWlkVmFsdWUgYXMgZ2V0Rmx1aWRWYWx1ZTMsXG4gIGNyZWF0ZUludGVycG9sYXRvcixcbiAgR2xvYmFscyBhcyBHNixcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzIGFzIGNhbGxGbHVpZE9ic2VydmVyczMsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIgYXMgYWRkRmx1aWRPYnNlcnZlcjMsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIgYXMgcmVtb3ZlRmx1aWRPYnNlcnZlcjIsXG4gIGhhc0ZsdWlkVmFsdWUgYXMgaGFzRmx1aWRWYWx1ZTJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5pbXBvcnQge1xuICBnZXRBbmltYXRlZCBhcyBnZXRBbmltYXRlZDMsXG4gIHNldEFuaW1hdGVkIGFzIHNldEFuaW1hdGVkMixcbiAgZ2V0QW5pbWF0ZWRUeXBlIGFzIGdldEFuaW1hdGVkVHlwZTIsXG4gIGdldFBheWxvYWQgYXMgZ2V0UGF5bG9hZDJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcbnZhciBJbnRlcnBvbGF0aW9uID0gY2xhc3MgZXh0ZW5kcyBGcmFtZVZhbHVlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBhcmdzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAvKiogRXF1YWxzIGZhbHNlIHdoZW4gaW4gdGhlIGZyYW1lbG9vcCAqL1xuICAgIHRoaXMuaWRsZSA9IHRydWU7XG4gICAgLyoqIFRoZSBpbnB1dHMgd2hpY2ggYXJlIGN1cnJlbnRseSBhbmltYXRpbmcgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMuY2FsYyA9IGNyZWF0ZUludGVycG9sYXRvciguLi5hcmdzKTtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldCgpO1xuICAgIGNvbnN0IG5vZGVUeXBlID0gZ2V0QW5pbWF0ZWRUeXBlMih2YWx1ZSk7XG4gICAgc2V0QW5pbWF0ZWQyKHRoaXMsIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSkpO1xuICB9XG4gIGFkdmFuY2UoX2R0KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9nZXQoKTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgaWYgKCFpc0VxdWFsMih2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICBnZXRBbmltYXRlZDModGhpcykuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgdGhpcy5fb25DaGFuZ2UodmFsdWUsIHRoaXMuaWRsZSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pZGxlICYmIGNoZWNrSWRsZSh0aGlzLl9hY3RpdmUpKSB7XG4gICAgICBiZWNvbWVJZGxlKHRoaXMpO1xuICAgIH1cbiAgfVxuICBfZ2V0KCkge1xuICAgIGNvbnN0IGlucHV0cyA9IGlzMTQuYXJyKHRoaXMuc291cmNlKSA/IHRoaXMuc291cmNlLm1hcChnZXRGbHVpZFZhbHVlMykgOiB0b0FycmF5NShnZXRGbHVpZFZhbHVlMyh0aGlzLnNvdXJjZSkpO1xuICAgIHJldHVybiB0aGlzLmNhbGMoLi4uaW5wdXRzKTtcbiAgfVxuICBfc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuaWRsZSAmJiAhY2hlY2tJZGxlKHRoaXMuX2FjdGl2ZSkpIHtcbiAgICAgIHRoaXMuaWRsZSA9IGZhbHNlO1xuICAgICAgZWFjaDEwKGdldFBheWxvYWQyKHRoaXMpLCAobm9kZSkgPT4ge1xuICAgICAgICBub2RlLmRvbmUgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKEc2LnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgcmFmNS5iYXRjaGVkVXBkYXRlcygoKSA9PiB0aGlzLmFkdmFuY2UoKSk7XG4gICAgICAgIGJlY29tZUlkbGUodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFtZUxvb3AzLnN0YXJ0KHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBPYnNlcnZlIG91ciBzb3VyY2VzIG9ubHkgd2hlbiB3ZSdyZSBvYnNlcnZlZC5cbiAgX2F0dGFjaCgpIHtcbiAgICBsZXQgcHJpb3JpdHkgPSAxO1xuICAgIGVhY2gxMCh0b0FycmF5NSh0aGlzLnNvdXJjZSksIChzb3VyY2UpID0+IHtcbiAgICAgIGlmIChoYXNGbHVpZFZhbHVlMihzb3VyY2UpKSB7XG4gICAgICAgIGFkZEZsdWlkT2JzZXJ2ZXIzKHNvdXJjZSwgdGhpcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXNGcmFtZVZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UuaWRsZSkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBwcmlvcml0eSA9IE1hdGgubWF4KHByaW9yaXR5LCBzb3VyY2UucHJpb3JpdHkgKyAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5fc3RhcnQoKTtcbiAgfVxuICAvLyBTdG9wIG9ic2VydmluZyBvdXIgc291cmNlcyBvbmNlIHdlIGhhdmUgbm8gb2JzZXJ2ZXJzLlxuICBfZGV0YWNoKCkge1xuICAgIGVhY2gxMCh0b0FycmF5NSh0aGlzLnNvdXJjZSksIChzb3VyY2UpID0+IHtcbiAgICAgIGlmIChoYXNGbHVpZFZhbHVlMihzb3VyY2UpKSB7XG4gICAgICAgIHJlbW92ZUZsdWlkT2JzZXJ2ZXIyKHNvdXJjZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fYWN0aXZlLmNsZWFyKCk7XG4gICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICBpZiAoZXZlbnQuaWRsZSkge1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJpZGxlXCIpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZS5kZWxldGUoZXZlbnQucGFyZW50KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJwcmlvcml0eVwiKSB7XG4gICAgICB0aGlzLnByaW9yaXR5ID0gdG9BcnJheTUodGhpcy5zb3VyY2UpLnJlZHVjZShcbiAgICAgICAgKGhpZ2hlc3QsIHBhcmVudCkgPT4gTWF0aC5tYXgoaGlnaGVzdCwgKGlzRnJhbWVWYWx1ZShwYXJlbnQpID8gcGFyZW50LnByaW9yaXR5IDogMCkgKyAxKSxcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBpc0lkbGUoc291cmNlKSB7XG4gIHJldHVybiBzb3VyY2UuaWRsZSAhPT0gZmFsc2U7XG59XG5mdW5jdGlvbiBjaGVja0lkbGUoYWN0aXZlKSB7XG4gIHJldHVybiAhYWN0aXZlLnNpemUgfHwgQXJyYXkuZnJvbShhY3RpdmUpLmV2ZXJ5KGlzSWRsZSk7XG59XG5mdW5jdGlvbiBiZWNvbWVJZGxlKHNlbGYpIHtcbiAgaWYgKCFzZWxmLmlkbGUpIHtcbiAgICBzZWxmLmlkbGUgPSB0cnVlO1xuICAgIGVhY2gxMChnZXRQYXlsb2FkMihzZWxmKSwgKG5vZGUpID0+IHtcbiAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzMyhzZWxmLCB7XG4gICAgICB0eXBlOiBcImlkbGVcIixcbiAgICAgIHBhcmVudDogc2VsZlxuICAgIH0pO1xuICB9XG59XG5cbi8vIHNyYy9pbnRlcnBvbGF0ZS50c1xudmFyIHRvID0gKHNvdXJjZSwgLi4uYXJncykgPT4gbmV3IEludGVycG9sYXRpb24oc291cmNlLCBhcmdzKTtcbnZhciBpbnRlcnBvbGF0ZSA9IChzb3VyY2UsIC4uLmFyZ3MpID0+IChkZXByZWNhdGVJbnRlcnBvbGF0ZTIoKSwgbmV3IEludGVycG9sYXRpb24oc291cmNlLCBhcmdzKSk7XG5cbi8vIHNyYy9nbG9iYWxzLnRzXG5pbXBvcnQge1xuICBHbG9iYWxzLFxuICBmcmFtZUxvb3AgYXMgZnJhbWVMb29wNCxcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuR2xvYmFscy5hc3NpZ24oe1xuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIHRvOiAoc291cmNlLCBhcmdzKSA9PiBuZXcgSW50ZXJwb2xhdGlvbihzb3VyY2UsIGFyZ3MpXG59KTtcbnZhciB1cGRhdGUgPSBmcmFtZUxvb3A0LmFkdmFuY2U7XG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHtcbiAgY3JlYXRlSW50ZXJwb2xhdG9yIGFzIGNyZWF0ZUludGVycG9sYXRvcjIsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDgsXG4gIHVzZVJlZHVjZWRNb3Rpb24sXG4gIGVhc2luZ3MgYXMgZWFzaW5nczJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5leHBvcnQgKiBmcm9tIFwiQHJlYWN0LXNwcmluZy90eXBlc1wiO1xuZXhwb3J0IHtcbiAgQmFpbFNpZ25hbCxcbiAgQ29udHJvbGxlcixcbiAgRnJhbWVWYWx1ZSxcbiAgR2xvYmFscyxcbiAgSW50ZXJwb2xhdGlvbixcbiAgU3ByaW5nLFxuICBTcHJpbmdDb250ZXh0LFxuICBTcHJpbmdSZWYsXG4gIFNwcmluZ1ZhbHVlLFxuICBUcmFpbCxcbiAgVHJhbnNpdGlvbixcbiAgY29uZmlnLFxuICBjcmVhdGVJbnRlcnBvbGF0b3IyIGFzIGNyZWF0ZUludGVycG9sYXRvcixcbiAgZWFzaW5nczIgYXMgZWFzaW5ncyxcbiAgaW5mZXJUbyxcbiAgaW50ZXJwb2xhdGUsXG4gIHRvLFxuICB1cGRhdGUsXG4gIHVzZUNoYWluLFxuICB1c2VJblZpZXcsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q4IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QsXG4gIHVzZVJlZHVjZWRNb3Rpb24sXG4gIHVzZVJlc2l6ZSxcbiAgdXNlU2Nyb2xsLFxuICB1c2VTcHJpbmcsXG4gIHVzZVNwcmluZ1JlZixcbiAgdXNlU3ByaW5nVmFsdWUsXG4gIHVzZVNwcmluZ3MsXG4gIHVzZVRyYWlsLFxuICB1c2VUcmFuc2l0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcy5tYXAiLAogICAgIi8vIHNyYy9BbmltYXRlZC50c1xuaW1wb3J0IHsgZGVmaW5lSGlkZGVuIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgJG5vZGUgPSBTeW1ib2wuZm9yKFwiQW5pbWF0ZWQ6bm9kZVwiKTtcbnZhciBpc0FuaW1hdGVkID0gKHZhbHVlKSA9PiAhIXZhbHVlICYmIHZhbHVlWyRub2RlXSA9PT0gdmFsdWU7XG52YXIgZ2V0QW5pbWF0ZWQgPSAob3duZXIpID0+IG93bmVyICYmIG93bmVyWyRub2RlXTtcbnZhciBzZXRBbmltYXRlZCA9IChvd25lciwgbm9kZSkgPT4gZGVmaW5lSGlkZGVuKG93bmVyLCAkbm9kZSwgbm9kZSk7XG52YXIgZ2V0UGF5bG9hZCA9IChvd25lcikgPT4gb3duZXIgJiYgb3duZXJbJG5vZGVdICYmIG93bmVyWyRub2RlXS5nZXRQYXlsb2FkKCk7XG52YXIgQW5pbWF0ZWQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHNldEFuaW1hdGVkKHRoaXMsIHRoaXMpO1xuICB9XG4gIC8qKiBHZXQgZXZlcnkgYEFuaW1hdGVkVmFsdWVgIHVzZWQgYnkgdGhpcyBub2RlLiAqL1xuICBnZXRQYXlsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLnBheWxvYWQgfHwgW107XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZFZhbHVlLnRzXG5pbXBvcnQgeyBpcyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIEFuaW1hdGVkVmFsdWUgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkIHtcbiAgY29uc3RydWN0b3IoX3ZhbHVlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgIHRoaXMuZHVyYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgaWYgKGlzLm51bSh0aGlzLl92YWx1ZSkpIHtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdGhpcy5fdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIGNyZWF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRWYWx1ZSh2YWx1ZSk7XG4gIH1cbiAgZ2V0UGF5bG9hZCgpIHtcbiAgICByZXR1cm4gW3RoaXNdO1xuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSwgc3RlcCkge1xuICAgIGlmIChpcy5udW0odmFsdWUpKSB7XG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5fdmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgeyBkb25lIH0gPSB0aGlzO1xuICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgIGlmIChpcy5udW0odGhpcy5fdmFsdWUpKSB7XG4gICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDtcbiAgICAgIHRoaXMuZHVyYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHRoaXMuX3ZhbHVlO1xuICAgICAgaWYgKGRvbmUpXG4gICAgICAgIHRoaXMubGFzdFZlbG9jaXR5ID0gbnVsbDtcbiAgICAgIHRoaXMudjAgPSBudWxsO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkU3RyaW5nLnRzXG5pbXBvcnQgeyBpcyBhcyBpczIsIGNyZWF0ZUludGVycG9sYXRvciB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIEFuaW1hdGVkU3RyaW5nID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZFZhbHVlIHtcbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICBzdXBlcigwKTtcbiAgICB0aGlzLl9zdHJpbmcgPSBudWxsO1xuICAgIHRoaXMuX3RvU3RyaW5nID0gY3JlYXRlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG91dHB1dDogW3ZhbHVlLCB2YWx1ZV1cbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBjcmVhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3RyaW5nKHZhbHVlKTtcbiAgfVxuICBnZXRWYWx1ZSgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3N0cmluZztcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXMuX3N0cmluZyA9IHRoaXMuX3RvU3RyaW5nKHRoaXMuX3ZhbHVlKSA6IHZhbHVlO1xuICB9XG4gIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKGlzMi5zdHIodmFsdWUpKSB7XG4gICAgICBpZiAodmFsdWUgPT0gdGhpcy5fc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0cmluZyA9IHZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWUgPSAxO1xuICAgIH0gZWxzZSBpZiAoc3VwZXIuc2V0VmFsdWUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9zdHJpbmcgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJlc2V0KGdvYWwpIHtcbiAgICBpZiAoZ29hbCkge1xuICAgICAgdGhpcy5fdG9TdHJpbmcgPSBjcmVhdGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgICBvdXRwdXQ6IFt0aGlzLmdldFZhbHVlKCksIGdvYWxdXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZEFycmF5LnRzXG5pbXBvcnQgeyBpc0FuaW1hdGVkU3RyaW5nIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9BbmltYXRlZE9iamVjdC50c1xuaW1wb3J0IHtcbiAgZWFjaCxcbiAgZWFjaFByb3AsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGhhc0ZsdWlkVmFsdWVcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9jb250ZXh0LnRzXG52YXIgVHJlZUNvbnRleHQgPSB7IGRlcGVuZGVuY2llczogbnVsbCB9O1xuXG4vLyBzcmMvQW5pbWF0ZWRPYmplY3QudHNcbnZhciBBbmltYXRlZE9iamVjdCA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWQge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMuc2V0VmFsdWUoc291cmNlKTtcbiAgfVxuICBnZXRWYWx1ZShhbmltYXRlZCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIGVhY2hQcm9wKHRoaXMuc291cmNlLCAoc291cmNlLCBrZXkpID0+IHtcbiAgICAgIGlmIChpc0FuaW1hdGVkKHNvdXJjZSkpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBzb3VyY2UuZ2V0VmFsdWUoYW5pbWF0ZWQpO1xuICAgICAgfSBlbHNlIGlmIChoYXNGbHVpZFZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBnZXRGbHVpZFZhbHVlKHNvdXJjZSk7XG4gICAgICB9IGVsc2UgaWYgKCFhbmltYXRlZCkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG4gIC8qKiBSZXBsYWNlIHRoZSByYXcgb2JqZWN0IGRhdGEgKi9cbiAgc2V0VmFsdWUoc291cmNlKSB7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5wYXlsb2FkID0gdGhpcy5fbWFrZVBheWxvYWQoc291cmNlKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBpZiAodGhpcy5wYXlsb2FkKSB7XG4gICAgICBlYWNoKHRoaXMucGF5bG9hZCwgKG5vZGUpID0+IG5vZGUucmVzZXQoKSk7XG4gICAgfVxuICB9XG4gIC8qKiBDcmVhdGUgYSBwYXlsb2FkIHNldC4gKi9cbiAgX21ha2VQYXlsb2FkKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgZWFjaFByb3Aoc291cmNlLCB0aGlzLl9hZGRUb1BheWxvYWQsIHBheWxvYWQpO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20ocGF5bG9hZCk7XG4gICAgfVxuICB9XG4gIC8qKiBBZGQgdG8gYSBwYXlsb2FkIHNldC4gKi9cbiAgX2FkZFRvUGF5bG9hZChzb3VyY2UpIHtcbiAgICBpZiAoVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzICYmIGhhc0ZsdWlkVmFsdWUoc291cmNlKSkge1xuICAgICAgVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzLmFkZChzb3VyY2UpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0UGF5bG9hZChzb3VyY2UpO1xuICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICBlYWNoKHBheWxvYWQsIChub2RlKSA9PiB0aGlzLmFkZChub2RlKSk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvQW5pbWF0ZWRBcnJheS50c1xudmFyIEFuaW1hdGVkQXJyYXkgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkT2JqZWN0IHtcbiAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgc3VwZXIoc291cmNlKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBjcmVhdGUoc291cmNlKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZEFycmF5KHNvdXJjZSk7XG4gIH1cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLm1hcCgobm9kZSkgPT4gbm9kZS5nZXRWYWx1ZSgpKTtcbiAgfVxuICBzZXRWYWx1ZShzb3VyY2UpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5nZXRQYXlsb2FkKCk7XG4gICAgaWYgKHNvdXJjZS5sZW5ndGggPT0gcGF5bG9hZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkLm1hcCgobm9kZSwgaSkgPT4gbm9kZS5zZXRWYWx1ZShzb3VyY2VbaV0pKS5zb21lKEJvb2xlYW4pO1xuICAgIH1cbiAgICBzdXBlci5zZXRWYWx1ZShzb3VyY2UubWFwKG1ha2VBbmltYXRlZCkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuZnVuY3Rpb24gbWFrZUFuaW1hdGVkKHZhbHVlKSB7XG4gIGNvbnN0IG5vZGVUeXBlID0gaXNBbmltYXRlZFN0cmluZyh2YWx1ZSkgPyBBbmltYXRlZFN0cmluZyA6IEFuaW1hdGVkVmFsdWU7XG4gIHJldHVybiBub2RlVHlwZS5jcmVhdGUodmFsdWUpO1xufVxuXG4vLyBzcmMvZ2V0QW5pbWF0ZWRUeXBlLnRzXG5pbXBvcnQgeyBpcyBhcyBpczMsIGlzQW5pbWF0ZWRTdHJpbmcgYXMgaXNBbmltYXRlZFN0cmluZzIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIGdldEFuaW1hdGVkVHlwZSh2YWx1ZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0QW5pbWF0ZWQodmFsdWUpO1xuICByZXR1cm4gcGFyZW50Tm9kZSA/IHBhcmVudE5vZGUuY29uc3RydWN0b3IgOiBpczMuYXJyKHZhbHVlKSA/IEFuaW1hdGVkQXJyYXkgOiBpc0FuaW1hdGVkU3RyaW5nMih2YWx1ZSkgPyBBbmltYXRlZFN0cmluZyA6IEFuaW1hdGVkVmFsdWU7XG59XG5cbi8vIHNyYy9jcmVhdGVIb3N0LnRzXG5pbXBvcnQgeyBpcyBhcyBpczUsIGVhY2hQcm9wIGFzIGVhY2hQcm9wMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvd2l0aEFuaW1hdGVkLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGlzIGFzIGlzNCxcbiAgZWFjaCBhcyBlYWNoMixcbiAgcmFmLFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlT25jZSxcbiAgYWRkRmx1aWRPYnNlcnZlcixcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlcixcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB3aXRoQW5pbWF0ZWQgPSAoQ29tcG9uZW50LCBob3N0KSA9PiB7XG4gIGNvbnN0IGhhc0luc3RhbmNlID0gKFxuICAgIC8vIEZ1bmN0aW9uIGNvbXBvbmVudHMgbXVzdCB1c2UgXCJmb3J3YXJkUmVmXCIgdG8gYXZvaWQgYmVpbmdcbiAgICAvLyByZS1yZW5kZXJlZCBvbiBldmVyeSBhbmltYXRpb24gZnJhbWUuXG4gICAgIWlzNC5mdW4oQ29tcG9uZW50KSB8fCBDb21wb25lbnQucHJvdG90eXBlICYmIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudFxuICApO1xuICByZXR1cm4gZm9yd2FyZFJlZigoZ2l2ZW5Qcm9wcywgZ2l2ZW5SZWYpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCByZWYgPSBoYXNJbnN0YW5jZSAmJiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICB1c2VDYWxsYmFjayhcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpbnN0YW5jZVJlZi5jdXJyZW50ID0gdXBkYXRlUmVmKGdpdmVuUmVmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgW2dpdmVuUmVmXVxuICAgICk7XG4gICAgY29uc3QgW3Byb3BzLCBkZXBzXSA9IGdldEFuaW1hdGVkU3RhdGUoZ2l2ZW5Qcm9wcywgaG9zdCk7XG4gICAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZVJlZi5jdXJyZW50O1xuICAgICAgaWYgKGhhc0luc3RhbmNlICYmICFpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaWRVcGRhdGUgPSBpbnN0YW5jZSA/IGhvc3QuYXBwbHlBbmltYXRlZFZhbHVlcyhpbnN0YW5jZSwgcHJvcHMuZ2V0VmFsdWUodHJ1ZSkpIDogZmFsc2U7XG4gICAgICBpZiAoZGlkVXBkYXRlID09PSBmYWxzZSkge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUHJvcHNPYnNlcnZlcihjYWxsYmFjaywgZGVwcyk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWYoKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBvYnNlcnZlcjtcbiAgICAgIGVhY2gyKGRlcHMsIChkZXApID0+IGFkZEZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlcikpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKG9ic2VydmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBlYWNoMihcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQuZGVwcyxcbiAgICAgICAgICAgIChkZXApID0+IHJlbW92ZUZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlclJlZi5jdXJyZW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmFmLmNhbmNlbChvYnNlcnZlclJlZi5jdXJyZW50LnVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KGNhbGxiYWNrLCBbXSk7XG4gICAgdXNlT25jZSgoKSA9PiAoKSA9PiB7XG4gICAgICBjb25zdCBvYnNlcnZlcjIgPSBvYnNlcnZlclJlZi5jdXJyZW50O1xuICAgICAgZWFjaDIob2JzZXJ2ZXIyLmRlcHMsIChkZXApID0+IHJlbW92ZUZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlcjIpKTtcbiAgICB9KTtcbiAgICBjb25zdCB1c2VkUHJvcHMgPSBob3N0LmdldENvbXBvbmVudFByb3BzKHByb3BzLmdldFZhbHVlKCkpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHsgLi4udXNlZFByb3BzLCByZWYgfSk7XG4gIH0pO1xufTtcbnZhciBQcm9wc09ic2VydmVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih1cGRhdGUsIGRlcHMpIHtcbiAgICB0aGlzLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICB0aGlzLmRlcHMgPSBkZXBzO1xuICB9XG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICByYWYud3JpdGUodGhpcy51cGRhdGUpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGdldEFuaW1hdGVkU3RhdGUocHJvcHMsIGhvc3QpIHtcbiAgY29uc3QgZGVwZW5kZW5jaWVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICBpZiAocHJvcHMuc3R5bGUpXG4gICAgcHJvcHMgPSB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHN0eWxlOiBob3N0LmNyZWF0ZUFuaW1hdGVkU3R5bGUocHJvcHMuc3R5bGUpXG4gICAgfTtcbiAgcHJvcHMgPSBuZXcgQW5pbWF0ZWRPYmplY3QocHJvcHMpO1xuICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgPSBudWxsO1xuICByZXR1cm4gW3Byb3BzLCBkZXBlbmRlbmNpZXNdO1xufVxuZnVuY3Rpb24gdXBkYXRlUmVmKHJlZiwgdmFsdWUpIHtcbiAgaWYgKHJlZikge1xuICAgIGlmIChpczQuZnVuKHJlZikpXG4gICAgICByZWYodmFsdWUpO1xuICAgIGVsc2VcbiAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBzcmMvY3JlYXRlSG9zdC50c1xudmFyIGNhY2hlS2V5ID0gU3ltYm9sLmZvcihcIkFuaW1hdGVkQ29tcG9uZW50XCIpO1xudmFyIGNyZWF0ZUhvc3QgPSAoY29tcG9uZW50cywge1xuICBhcHBseUFuaW1hdGVkVmFsdWVzID0gKCkgPT4gZmFsc2UsXG4gIGNyZWF0ZUFuaW1hdGVkU3R5bGUgPSAoc3R5bGUpID0+IG5ldyBBbmltYXRlZE9iamVjdChzdHlsZSksXG4gIGdldENvbXBvbmVudFByb3BzID0gKHByb3BzKSA9PiBwcm9wc1xufSA9IHt9KSA9PiB7XG4gIGNvbnN0IGhvc3RDb25maWcgPSB7XG4gICAgYXBwbHlBbmltYXRlZFZhbHVlcyxcbiAgICBjcmVhdGVBbmltYXRlZFN0eWxlLFxuICAgIGdldENvbXBvbmVudFByb3BzXG4gIH07XG4gIGNvbnN0IGFuaW1hdGVkID0gKENvbXBvbmVudCkgPT4ge1xuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSB8fCBcIkFub255bW91c1wiO1xuICAgIGlmIChpczUuc3RyKENvbXBvbmVudCkpIHtcbiAgICAgIENvbXBvbmVudCA9IGFuaW1hdGVkW0NvbXBvbmVudF0gfHwgKGFuaW1hdGVkW0NvbXBvbmVudF0gPSB3aXRoQW5pbWF0ZWQoQ29tcG9uZW50LCBob3N0Q29uZmlnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIENvbXBvbmVudCA9IENvbXBvbmVudFtjYWNoZUtleV0gfHwgKENvbXBvbmVudFtjYWNoZUtleV0gPSB3aXRoQW5pbWF0ZWQoQ29tcG9uZW50LCBob3N0Q29uZmlnKSk7XG4gICAgfVxuICAgIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGBBbmltYXRlZCgke2Rpc3BsYXlOYW1lfSlgO1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH07XG4gIGVhY2hQcm9wMihjb21wb25lbnRzLCAoQ29tcG9uZW50LCBrZXkpID0+IHtcbiAgICBpZiAoaXM1LmFycihjb21wb25lbnRzKSkge1xuICAgICAga2V5ID0gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KTtcbiAgICB9XG4gICAgYW5pbWF0ZWRba2V5XSA9IGFuaW1hdGVkKENvbXBvbmVudCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGFuaW1hdGVkXG4gIH07XG59O1xudmFyIGdldERpc3BsYXlOYW1lID0gKGFyZykgPT4gaXM1LnN0cihhcmcpID8gYXJnIDogYXJnICYmIGlzNS5zdHIoYXJnLmRpc3BsYXlOYW1lKSA/IGFyZy5kaXNwbGF5TmFtZSA6IGlzNS5mdW4oYXJnKSAmJiBhcmcubmFtZSB8fCBudWxsO1xuZXhwb3J0IHtcbiAgQW5pbWF0ZWQsXG4gIEFuaW1hdGVkQXJyYXksXG4gIEFuaW1hdGVkT2JqZWN0LFxuICBBbmltYXRlZFN0cmluZyxcbiAgQW5pbWF0ZWRWYWx1ZSxcbiAgY3JlYXRlSG9zdCxcbiAgZ2V0QW5pbWF0ZWQsXG4gIGdldEFuaW1hdGVkVHlwZSxcbiAgZ2V0UGF5bG9hZCxcbiAgaXNBbmltYXRlZCxcbiAgc2V0QW5pbWF0ZWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfYW5pbWF0ZWQubW9kZXJuLm1qcy5tYXAiLAogICAgIi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2NvcmVcIjtcbmltcG9ydCB7IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLCBjb2xvcnMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7IGNyZWF0ZUhvc3QgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xuXG4vLyBzcmMvYXBwbHlBbmltYXRlZFZhbHVlcy50c1xudmFyIGlzQ3VzdG9tUHJvcFJFID0gL14tLS87XG5mdW5jdGlvbiBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgfHwgdmFsdWUgPT09IFwiXCIpXG4gICAgcmV0dXJuIFwiXCI7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdmFsdWUgIT09IDAgJiYgIWlzQ3VzdG9tUHJvcFJFLnRlc3QobmFtZSkgJiYgIShpc1VuaXRsZXNzTnVtYmVyLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzVW5pdGxlc3NOdW1iZXJbbmFtZV0pKVxuICAgIHJldHVybiB2YWx1ZSArIFwicHhcIjtcbiAgcmV0dXJuIChcIlwiICsgdmFsdWUpLnRyaW0oKTtcbn1cbnZhciBhdHRyaWJ1dGVDYWNoZSA9IHt9O1xuZnVuY3Rpb24gYXBwbHlBbmltYXRlZFZhbHVlcyhpbnN0YW5jZSwgcHJvcHMpIHtcbiAgaWYgKCFpbnN0YW5jZS5ub2RlVHlwZSB8fCAhaW5zdGFuY2Uuc2V0QXR0cmlidXRlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGlzRmlsdGVyRWxlbWVudCA9IGluc3RhbmNlLm5vZGVOYW1lID09PSBcImZpbHRlclwiIHx8IGluc3RhbmNlLnBhcmVudE5vZGUgJiYgaW5zdGFuY2UucGFyZW50Tm9kZS5ub2RlTmFtZSA9PT0gXCJmaWx0ZXJcIjtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICBzY3JvbGxUb3AsXG4gICAgc2Nyb2xsTGVmdCxcbiAgICB2aWV3Qm94LFxuICAgIC4uLmF0dHJpYnV0ZXNcbiAgfSA9IHByb3BzO1xuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKGF0dHJpYnV0ZXMpO1xuICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLm1hcChcbiAgICAobmFtZSkgPT4gaXNGaWx0ZXJFbGVtZW50IHx8IGluc3RhbmNlLmhhc0F0dHJpYnV0ZShuYW1lKSA/IG5hbWUgOiBhdHRyaWJ1dGVDYWNoZVtuYW1lXSB8fCAoYXR0cmlidXRlQ2FjaGVbbmFtZV0gPSBuYW1lLnJlcGxhY2UoXG4gICAgICAvKFtBLVpdKS9nLFxuICAgICAgLy8gQXR0cmlidXRlcyBhcmUgd3JpdHRlbiBpbiBkYXNoIGNhc2VcbiAgICAgIChuKSA9PiBcIi1cIiArIG4udG9Mb3dlckNhc2UoKVxuICAgICkpXG4gICk7XG4gIGlmIChjaGlsZHJlbiAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2UudGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcbiAgfVxuICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGUpIHtcbiAgICBpZiAoc3R5bGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCBzdHlsZVtuYW1lXSk7XG4gICAgICBpZiAoaXNDdXN0b21Qcm9wUkUudGVzdChuYW1lKSkge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBuYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgaW5zdGFuY2Uuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlc1tpXSk7XG4gIH0pO1xuICBpZiAoY2xhc3NOYW1lICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gIH1cbiAgaWYgKHNjcm9sbFRvcCAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Uuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICB9XG4gIGlmIChzY3JvbGxMZWZ0ICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgfVxuICBpZiAodmlld0JveCAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Uuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCB2aWV3Qm94KTtcbiAgfVxufVxudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VXaWR0aDogdHJ1ZSxcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBjb2x1bW5zOiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZsZXhPcmRlcjogdHJ1ZSxcbiAgZ3JpZFJvdzogdHJ1ZSxcbiAgZ3JpZFJvd0VuZDogdHJ1ZSxcbiAgZ3JpZFJvd1NwYW46IHRydWUsXG4gIGdyaWRSb3dTdGFydDogdHJ1ZSxcbiAgZ3JpZENvbHVtbjogdHJ1ZSxcbiAgZ3JpZENvbHVtbkVuZDogdHJ1ZSxcbiAgZ3JpZENvbHVtblNwYW46IHRydWUsXG4gIGdyaWRDb2x1bW5TdGFydDogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG52YXIgcHJlZml4S2V5ID0gKHByZWZpeCwga2V5KSA9PiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xudmFyIHByZWZpeGVzID0gW1wiV2Via2l0XCIsIFwiTXNcIiwgXCJNb3pcIiwgXCJPXCJdO1xuaXNVbml0bGVzc051bWJlciA9IE9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gIHByZWZpeGVzLmZvckVhY2goKHByZWZpeCkgPT4gYWNjW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGFjY1twcm9wXSk7XG4gIHJldHVybiBhY2M7XG59LCBpc1VuaXRsZXNzTnVtYmVyKTtcblxuLy8gc3JjL0FuaW1hdGVkU3R5bGUudHNcbmltcG9ydCB7IEFuaW1hdGVkT2JqZWN0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcbmltcG9ydCB7XG4gIGlzLFxuICBlYWNoLFxuICB0b0FycmF5LFxuICBlYWNoUHJvcCxcbiAgRmx1aWRWYWx1ZSxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzLFxuICBoYXNGbHVpZFZhbHVlLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICByZW1vdmVGbHVpZE9ic2VydmVyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIGRvbVRyYW5zZm9ybXMgPSAvXihtYXRyaXh8dHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3KS87XG52YXIgcHhUcmFuc2Zvcm1zID0gL14odHJhbnNsYXRlKS87XG52YXIgZGVnVHJhbnNmb3JtcyA9IC9eKHJvdGF0ZXxza2V3KS87XG52YXIgYWRkVW5pdCA9ICh2YWx1ZSwgdW5pdCkgPT4gaXMubnVtKHZhbHVlKSAmJiB2YWx1ZSAhPT0gMCA/IHZhbHVlICsgdW5pdCA6IHZhbHVlO1xudmFyIGlzVmFsdWVJZGVudGl0eSA9ICh2YWx1ZSwgaWQpID0+IGlzLmFycih2YWx1ZSkgPyB2YWx1ZS5ldmVyeSgodikgPT4gaXNWYWx1ZUlkZW50aXR5KHYsIGlkKSkgOiBpcy5udW0odmFsdWUpID8gdmFsdWUgPT09IGlkIDogcGFyc2VGbG9hdCh2YWx1ZSkgPT09IGlkO1xudmFyIEFuaW1hdGVkU3R5bGUgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkT2JqZWN0IHtcbiAgY29uc3RydWN0b3IoeyB4LCB5LCB6LCAuLi5zdHlsZSB9KSB7XG4gICAgY29uc3QgaW5wdXRzID0gW107XG4gICAgY29uc3QgdHJhbnNmb3JtcyA9IFtdO1xuICAgIGlmICh4IHx8IHkgfHwgeikge1xuICAgICAgaW5wdXRzLnB1c2goW3ggfHwgMCwgeSB8fCAwLCB6IHx8IDBdKTtcbiAgICAgIHRyYW5zZm9ybXMucHVzaCgoeHl6KSA9PiBbXG4gICAgICAgIGB0cmFuc2xhdGUzZCgke3h5ei5tYXAoKHYpID0+IGFkZFVuaXQodiwgXCJweFwiKSkuam9pbihcIixcIil9KWAsXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBpc1ZhbHVlSWRlbnRpdHkoeHl6LCAwKVxuICAgICAgXSk7XG4gICAgfVxuICAgIGVhY2hQcm9wKHN0eWxlLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICBpbnB1dHMucHVzaChbdmFsdWUgfHwgXCJcIl0pO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goKHRyYW5zZm9ybSkgPT4gW3RyYW5zZm9ybSwgdHJhbnNmb3JtID09PSBcIlwiXSk7XG4gICAgICB9IGVsc2UgaWYgKGRvbVRyYW5zZm9ybXMudGVzdChrZXkpKSB7XG4gICAgICAgIGRlbGV0ZSBzdHlsZVtrZXldO1xuICAgICAgICBpZiAoaXMudW5kKHZhbHVlKSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHVuaXQgPSBweFRyYW5zZm9ybXMudGVzdChrZXkpID8gXCJweFwiIDogZGVnVHJhbnNmb3Jtcy50ZXN0KGtleSkgPyBcImRlZ1wiIDogXCJcIjtcbiAgICAgICAgaW5wdXRzLnB1c2godG9BcnJheSh2YWx1ZSkpO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goXG4gICAgICAgICAga2V5ID09PSBcInJvdGF0ZTNkXCIgPyAoW3gyLCB5MiwgejIsIGRlZ10pID0+IFtcbiAgICAgICAgICAgIGByb3RhdGUzZCgke3gyfSwke3kyfSwke3oyfSwke2FkZFVuaXQoZGVnLCB1bml0KX0pYCxcbiAgICAgICAgICAgIGlzVmFsdWVJZGVudGl0eShkZWcsIDApXG4gICAgICAgICAgXSA6IChpbnB1dCkgPT4gW1xuICAgICAgICAgICAgYCR7a2V5fSgke2lucHV0Lm1hcCgodikgPT4gYWRkVW5pdCh2LCB1bml0KSkuam9pbihcIixcIil9KWAsXG4gICAgICAgICAgICBpc1ZhbHVlSWRlbnRpdHkoaW5wdXQsIGtleS5zdGFydHNXaXRoKFwic2NhbGVcIikgPyAxIDogMClcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucHV0cy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IG5ldyBGbHVpZFRyYW5zZm9ybShpbnB1dHMsIHRyYW5zZm9ybXMpO1xuICAgIH1cbiAgICBzdXBlcihzdHlsZSk7XG4gIH1cbn07XG52YXIgRmx1aWRUcmFuc2Zvcm0gPSBjbGFzcyBleHRlbmRzIEZsdWlkVmFsdWUge1xuICBjb25zdHJ1Y3RvcihpbnB1dHMsIHRyYW5zZm9ybXMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5wdXRzID0gaW5wdXRzO1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IHRyYW5zZm9ybXM7XG4gICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICB9XG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgfHwgKHRoaXMuX3ZhbHVlID0gdGhpcy5fZ2V0KCkpO1xuICB9XG4gIF9nZXQoKSB7XG4gICAgbGV0IHRyYW5zZm9ybSA9IFwiXCI7XG4gICAgbGV0IGlkZW50aXR5ID0gdHJ1ZTtcbiAgICBlYWNoKHRoaXMuaW5wdXRzLCAoaW5wdXQsIGkpID0+IHtcbiAgICAgIGNvbnN0IGFyZzEgPSBnZXRGbHVpZFZhbHVlKGlucHV0WzBdKTtcbiAgICAgIGNvbnN0IFt0LCBpZF0gPSB0aGlzLnRyYW5zZm9ybXNbaV0oXG4gICAgICAgIGlzLmFycihhcmcxKSA/IGFyZzEgOiBpbnB1dC5tYXAoZ2V0Rmx1aWRWYWx1ZSlcbiAgICAgICk7XG4gICAgICB0cmFuc2Zvcm0gKz0gXCIgXCIgKyB0O1xuICAgICAgaWRlbnRpdHkgPSBpZGVudGl0eSAmJiBpZDtcbiAgICB9KTtcbiAgICByZXR1cm4gaWRlbnRpdHkgPyBcIm5vbmVcIiA6IHRyYW5zZm9ybTtcbiAgfVxuICAvLyBTdGFydCBvYnNlcnZpbmcgb3VyIGlucHV0cyBvbmNlIHdlIGhhdmUgYW4gb2JzZXJ2ZXIuXG4gIG9ic2VydmVyQWRkZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMSlcbiAgICAgIGVhY2goXG4gICAgICAgIHRoaXMuaW5wdXRzLFxuICAgICAgICAoaW5wdXQpID0+IGVhY2goXG4gICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgKHZhbHVlKSA9PiBoYXNGbHVpZFZhbHVlKHZhbHVlKSAmJiBhZGRGbHVpZE9ic2VydmVyKHZhbHVlLCB0aGlzKVxuICAgICAgICApXG4gICAgICApO1xuICB9XG4gIC8vIFN0b3Agb2JzZXJ2aW5nIG91ciBpbnB1dHMgb25jZSB3ZSBoYXZlIG5vIG9ic2VydmVycy5cbiAgb2JzZXJ2ZXJSZW1vdmVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDApXG4gICAgICBlYWNoKFxuICAgICAgICB0aGlzLmlucHV0cyxcbiAgICAgICAgKGlucHV0KSA9PiBlYWNoKFxuICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICh2YWx1ZSkgPT4gaGFzRmx1aWRWYWx1ZSh2YWx1ZSkgJiYgcmVtb3ZlRmx1aWRPYnNlcnZlcih2YWx1ZSwgdGhpcylcbiAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywgZXZlbnQpO1xuICB9XG59O1xuXG4vLyBzcmMvcHJpbWl0aXZlcy50c1xudmFyIHByaW1pdGl2ZXMgPSBbXG4gIFwiYVwiLFxuICBcImFiYnJcIixcbiAgXCJhZGRyZXNzXCIsXG4gIFwiYXJlYVwiLFxuICBcImFydGljbGVcIixcbiAgXCJhc2lkZVwiLFxuICBcImF1ZGlvXCIsXG4gIFwiYlwiLFxuICBcImJhc2VcIixcbiAgXCJiZGlcIixcbiAgXCJiZG9cIixcbiAgXCJiaWdcIixcbiAgXCJibG9ja3F1b3RlXCIsXG4gIFwiYm9keVwiLFxuICBcImJyXCIsXG4gIFwiYnV0dG9uXCIsXG4gIFwiY2FudmFzXCIsXG4gIFwiY2FwdGlvblwiLFxuICBcImNpdGVcIixcbiAgXCJjb2RlXCIsXG4gIFwiY29sXCIsXG4gIFwiY29sZ3JvdXBcIixcbiAgXCJkYXRhXCIsXG4gIFwiZGF0YWxpc3RcIixcbiAgXCJkZFwiLFxuICBcImRlbFwiLFxuICBcImRldGFpbHNcIixcbiAgXCJkZm5cIixcbiAgXCJkaWFsb2dcIixcbiAgXCJkaXZcIixcbiAgXCJkbFwiLFxuICBcImR0XCIsXG4gIFwiZW1cIixcbiAgXCJlbWJlZFwiLFxuICBcImZpZWxkc2V0XCIsXG4gIFwiZmlnY2FwdGlvblwiLFxuICBcImZpZ3VyZVwiLFxuICBcImZvb3RlclwiLFxuICBcImZvcm1cIixcbiAgXCJoMVwiLFxuICBcImgyXCIsXG4gIFwiaDNcIixcbiAgXCJoNFwiLFxuICBcImg1XCIsXG4gIFwiaDZcIixcbiAgXCJoZWFkXCIsXG4gIFwiaGVhZGVyXCIsXG4gIFwiaGdyb3VwXCIsXG4gIFwiaHJcIixcbiAgXCJodG1sXCIsXG4gIFwiaVwiLFxuICBcImlmcmFtZVwiLFxuICBcImltZ1wiLFxuICBcImlucHV0XCIsXG4gIFwiaW5zXCIsXG4gIFwia2JkXCIsXG4gIFwia2V5Z2VuXCIsXG4gIFwibGFiZWxcIixcbiAgXCJsZWdlbmRcIixcbiAgXCJsaVwiLFxuICBcImxpbmtcIixcbiAgXCJtYWluXCIsXG4gIFwibWFwXCIsXG4gIFwibWFya1wiLFxuICBcIm1lbnVcIixcbiAgXCJtZW51aXRlbVwiLFxuICBcIm1ldGFcIixcbiAgXCJtZXRlclwiLFxuICBcIm5hdlwiLFxuICBcIm5vc2NyaXB0XCIsXG4gIFwib2JqZWN0XCIsXG4gIFwib2xcIixcbiAgXCJvcHRncm91cFwiLFxuICBcIm9wdGlvblwiLFxuICBcIm91dHB1dFwiLFxuICBcInBcIixcbiAgXCJwYXJhbVwiLFxuICBcInBpY3R1cmVcIixcbiAgXCJwcmVcIixcbiAgXCJwcm9ncmVzc1wiLFxuICBcInFcIixcbiAgXCJycFwiLFxuICBcInJ0XCIsXG4gIFwicnVieVwiLFxuICBcInNcIixcbiAgXCJzYW1wXCIsXG4gIFwic2NyaXB0XCIsXG4gIFwic2VjdGlvblwiLFxuICBcInNlbGVjdFwiLFxuICBcInNtYWxsXCIsXG4gIFwic291cmNlXCIsXG4gIFwic3BhblwiLFxuICBcInN0cm9uZ1wiLFxuICBcInN0eWxlXCIsXG4gIFwic3ViXCIsXG4gIFwic3VtbWFyeVwiLFxuICBcInN1cFwiLFxuICBcInRhYmxlXCIsXG4gIFwidGJvZHlcIixcbiAgXCJ0ZFwiLFxuICBcInRleHRhcmVhXCIsXG4gIFwidGZvb3RcIixcbiAgXCJ0aFwiLFxuICBcInRoZWFkXCIsXG4gIFwidGltZVwiLFxuICBcInRpdGxlXCIsXG4gIFwidHJcIixcbiAgXCJ0cmFja1wiLFxuICBcInVcIixcbiAgXCJ1bFwiLFxuICBcInZhclwiLFxuICBcInZpZGVvXCIsXG4gIFwid2JyXCIsXG4gIC8vIFNWR1xuICBcImNpcmNsZVwiLFxuICBcImNsaXBQYXRoXCIsXG4gIFwiZGVmc1wiLFxuICBcImVsbGlwc2VcIixcbiAgXCJmb3JlaWduT2JqZWN0XCIsXG4gIFwiZ1wiLFxuICBcImltYWdlXCIsXG4gIFwibGluZVwiLFxuICBcImxpbmVhckdyYWRpZW50XCIsXG4gIFwibWFza1wiLFxuICBcInBhdGhcIixcbiAgXCJwYXR0ZXJuXCIsXG4gIFwicG9seWdvblwiLFxuICBcInBvbHlsaW5lXCIsXG4gIFwicmFkaWFsR3JhZGllbnRcIixcbiAgXCJyZWN0XCIsXG4gIFwic3RvcFwiLFxuICBcInN2Z1wiLFxuICBcInRleHRcIixcbiAgXCJ0c3BhblwiXG5dO1xuXG4vLyBzcmMvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJAcmVhY3Qtc3ByaW5nL2NvcmVcIjtcbkdsb2JhbHMuYXNzaWduKHtcbiAgYmF0Y2hlZFVwZGF0ZXM6IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzLFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIGNvbG9yc1xufSk7XG52YXIgaG9zdCA9IGNyZWF0ZUhvc3QocHJpbWl0aXZlcywge1xuICBhcHBseUFuaW1hdGVkVmFsdWVzLFxuICBjcmVhdGVBbmltYXRlZFN0eWxlOiAoc3R5bGUpID0+IG5ldyBBbmltYXRlZFN0eWxlKHN0eWxlKSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBnZXRDb21wb25lbnRQcm9wczogKHsgc2Nyb2xsVG9wLCBzY3JvbGxMZWZ0LCAuLi5wcm9wcyB9KSA9PiBwcm9wc1xufSk7XG52YXIgYW5pbWF0ZWQgPSBob3N0LmFuaW1hdGVkO1xuZXhwb3J0IHtcbiAgYW5pbWF0ZWQgYXMgYSxcbiAgYW5pbWF0ZWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfd2ViLm1vZGVybi5tanMubWFwIiwKICAgICJ2YXIgUkVMRUFTRV9UUkFJTiA9ICdhY2FjaWEnO1xuXG52YXIgcnVudGltZVZlcnNpb25Ub1VybFZlcnNpb24gPSBmdW5jdGlvbiBydW50aW1lVmVyc2lvblRvVXJsVmVyc2lvbih2ZXJzaW9uKSB7XG4gIHJldHVybiB2ZXJzaW9uID09PSAzID8gJ3YzJyA6IHZlcnNpb247XG59O1xuXG52YXIgT1JJR0lOID0gJ2h0dHBzOi8vanMuc3RyaXBlLmNvbSc7XG52YXIgU1RSSVBFX0pTX1VSTCA9IFwiXCIuY29uY2F0KE9SSUdJTiwgXCIvXCIpLmNvbmNhdChSRUxFQVNFX1RSQUlOLCBcIi9zdHJpcGUuanNcIik7XG52YXIgVjNfVVJMX1JFR0VYID0gL15odHRwczpcXC9cXC9qc1xcLnN0cmlwZVxcLmNvbVxcL3YzXFwvPyhcXD8uKik/JC87XG52YXIgU1RSSVBFX0pTX1VSTF9SRUdFWCA9IC9eaHR0cHM6XFwvXFwvanNcXC5zdHJpcGVcXC5jb21cXC8odjN8W2Etel0rKVxcL3N0cmlwZVxcLmpzKFxcPy4qKT8kLztcbnZhciBFWElTVElOR19TQ1JJUFRfTUVTU0FHRSA9ICdsb2FkU3RyaXBlLnNldExvYWRQYXJhbWV0ZXJzIHdhcyBjYWxsZWQgYnV0IGFuIGV4aXN0aW5nIFN0cmlwZS5qcyBzY3JpcHQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGRvY3VtZW50OyBleGlzdGluZyBzY3JpcHQgcGFyYW1ldGVycyB3aWxsIGJlIHVzZWQnO1xuXG52YXIgaXNTdHJpcGVKU1VSTCA9IGZ1bmN0aW9uIGlzU3RyaXBlSlNVUkwodXJsKSB7XG4gIHJldHVybiBWM19VUkxfUkVHRVgudGVzdCh1cmwpIHx8IFNUUklQRV9KU19VUkxfUkVHRVgudGVzdCh1cmwpO1xufTtcblxudmFyIGZpbmRTY3JpcHQgPSBmdW5jdGlvbiBmaW5kU2NyaXB0KCkge1xuICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRbc3JjXj1cXFwiXCIuY29uY2F0KE9SSUdJTiwgXCJcXFwiXVwiKSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNjcmlwdCA9IHNjcmlwdHNbaV07XG5cbiAgICBpZiAoIWlzU3RyaXBlSlNVUkwoc2NyaXB0LnNyYykpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHJldHVybiBzY3JpcHQ7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBpbmplY3RTY3JpcHQgPSBmdW5jdGlvbiBpbmplY3RTY3JpcHQocGFyYW1zKSB7XG4gIHZhciBxdWVyeVN0cmluZyA9IHBhcmFtcyAmJiAhcGFyYW1zLmFkdmFuY2VkRnJhdWRTaWduYWxzID8gJz9hZHZhbmNlZEZyYXVkU2lnbmFscz1mYWxzZScgOiAnJztcbiAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBzY3JpcHQuc3JjID0gXCJcIi5jb25jYXQoU1RSSVBFX0pTX1VSTCkuY29uY2F0KHF1ZXJ5U3RyaW5nKTtcbiAgdmFyIGhlYWRPckJvZHkgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHk7XG5cbiAgaWYgKCFoZWFkT3JCb2R5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBkb2N1bWVudC5ib2R5IG5vdCB0byBiZSBudWxsLiBTdHJpcGUuanMgcmVxdWlyZXMgYSA8Ym9keT4gZWxlbWVudC4nKTtcbiAgfVxuXG4gIGhlYWRPckJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgcmV0dXJuIHNjcmlwdDtcbn07XG5cbnZhciByZWdpc3RlcldyYXBwZXIgPSBmdW5jdGlvbiByZWdpc3RlcldyYXBwZXIoc3RyaXBlLCBzdGFydFRpbWUpIHtcbiAgaWYgKCFzdHJpcGUgfHwgIXN0cmlwZS5fcmVnaXN0ZXJXcmFwcGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3RyaXBlLl9yZWdpc3RlcldyYXBwZXIoe1xuICAgIG5hbWU6ICdzdHJpcGUtanMnLFxuICAgIHZlcnNpb246IFwiNi4xLjBcIixcbiAgICBzdGFydFRpbWU6IHN0YXJ0VGltZVxuICB9KTtcbn07XG5cbnZhciBzdHJpcGVQcm9taXNlJDEgPSBudWxsO1xudmFyIG9uRXJyb3JMaXN0ZW5lciA9IG51bGw7XG52YXIgb25Mb2FkTGlzdGVuZXIgPSBudWxsO1xuXG52YXIgb25FcnJvciA9IGZ1bmN0aW9uIG9uRXJyb3IocmVqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoY2F1c2UpIHtcbiAgICByZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBTdHJpcGUuanMnLCB7XG4gICAgICBjYXVzZTogY2F1c2VcbiAgICB9KSk7XG4gIH07XG59O1xuXG52YXIgb25Mb2FkID0gZnVuY3Rpb24gb25Mb2FkKHJlc29sdmUsIHJlamVjdCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmICh3aW5kb3cuU3RyaXBlKSB7XG4gICAgICByZXNvbHZlKHdpbmRvdy5TdHJpcGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdTdHJpcGUuanMgbm90IGF2YWlsYWJsZScpKTtcbiAgICB9XG4gIH07XG59O1xuXG52YXIgbG9hZFNjcmlwdCA9IGZ1bmN0aW9uIGxvYWRTY3JpcHQocGFyYW1zKSB7XG4gIC8vIEVuc3VyZSB0aGF0IHdlIG9ubHkgYXR0ZW1wdCB0byBsb2FkIFN0cmlwZS5qcyBhdCBtb3N0IG9uY2VcbiAgaWYgKHN0cmlwZVByb21pc2UkMSAhPT0gbnVsbCkge1xuICAgIHJldHVybiBzdHJpcGVQcm9taXNlJDE7XG4gIH1cblxuICBzdHJpcGVQcm9taXNlJDEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFJlc29sdmUgdG8gbnVsbCB3aGVuIGltcG9ydGVkIHNlcnZlciBzaWRlLiBUaGlzIG1ha2VzIHRoZSBtb2R1bGVcbiAgICAgIC8vIHNhZmUgdG8gaW1wb3J0IGluIGFuIGlzb21vcnBoaWMgY29kZSBiYXNlLlxuICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlN0cmlwZSAmJiBwYXJhbXMpIHtcbiAgICAgIGNvbnNvbGUud2FybihFWElTVElOR19TQ1JJUFRfTUVTU0FHRSk7XG4gICAgfVxuXG4gICAgaWYgKHdpbmRvdy5TdHJpcGUpIHtcbiAgICAgIHJlc29sdmUod2luZG93LlN0cmlwZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBzY3JpcHQgPSBmaW5kU2NyaXB0KCk7XG5cbiAgICAgIGlmIChzY3JpcHQgJiYgcGFyYW1zKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihFWElTVElOR19TQ1JJUFRfTUVTU0FHRSk7XG4gICAgICB9IGVsc2UgaWYgKCFzY3JpcHQpIHtcbiAgICAgICAgc2NyaXB0ID0gaW5qZWN0U2NyaXB0KHBhcmFtcyk7XG4gICAgICB9IGVsc2UgaWYgKHNjcmlwdCAmJiBvbkxvYWRMaXN0ZW5lciAhPT0gbnVsbCAmJiBvbkVycm9yTGlzdGVuZXIgIT09IG51bGwpIHtcbiAgICAgICAgdmFyIF9zY3JpcHQkcGFyZW50Tm9kZTtcblxuICAgICAgICAvLyByZW1vdmUgZXZlbnQgbGlzdGVuZXJzXG4gICAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgb25Mb2FkTGlzdGVuZXIpO1xuICAgICAgICBzY3JpcHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yTGlzdGVuZXIpOyAvLyBpZiBzY3JpcHQgZXhpc3RzLCBidXQgd2UgYXJlIHJlbG9hZGluZyBkdWUgdG8gYW4gZXJyb3IsXG4gICAgICAgIC8vIHJlbG9hZCBzY3JpcHQgdG8gdHJpZ2dlciAnbG9hZCcgZXZlbnRcblxuICAgICAgICAoX3NjcmlwdCRwYXJlbnROb2RlID0gc2NyaXB0LnBhcmVudE5vZGUpID09PSBudWxsIHx8IF9zY3JpcHQkcGFyZW50Tm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3NjcmlwdCRwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG4gICAgICAgIHNjcmlwdCA9IGluamVjdFNjcmlwdChwYXJhbXMpO1xuICAgICAgfVxuXG4gICAgICBvbkxvYWRMaXN0ZW5lciA9IG9uTG9hZChyZXNvbHZlLCByZWplY3QpO1xuICAgICAgb25FcnJvckxpc3RlbmVyID0gb25FcnJvcihyZWplY3QpO1xuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBvbkxvYWRMaXN0ZW5lcik7XG4gICAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBvbkVycm9yTGlzdGVuZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSk7IC8vIFJlc2V0cyBzdHJpcGVQcm9taXNlIG9uIGVycm9yXG5cbiAgcmV0dXJuIHN0cmlwZVByb21pc2UkMVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIHN0cmlwZVByb21pc2UkMSA9IG51bGw7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfSk7XG59O1xudmFyIGluaXRTdHJpcGUgPSBmdW5jdGlvbiBpbml0U3RyaXBlKG1heWJlU3RyaXBlLCBhcmdzLCBzdGFydFRpbWUpIHtcbiAgaWYgKG1heWJlU3RyaXBlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgcGsgPSBhcmdzWzBdO1xuICB2YXIgaXNUZXN0S2V5ID0gcGsubWF0Y2goL15wa190ZXN0Lyk7IC8vIEB0cy1leHBlY3QtZXJyb3IgdGhpcyBpcyBub3QgcHVibGljbHkgdHlwZWRcblxuICB2YXIgdmVyc2lvbiA9IHJ1bnRpbWVWZXJzaW9uVG9VcmxWZXJzaW9uKG1heWJlU3RyaXBlLnZlcnNpb24pO1xuICB2YXIgZXhwZWN0ZWRWZXJzaW9uID0gUkVMRUFTRV9UUkFJTjtcblxuICBpZiAoaXNUZXN0S2V5ICYmIHZlcnNpb24gIT09IGV4cGVjdGVkVmVyc2lvbikge1xuICAgIGNvbnNvbGUud2FybihcIlN0cmlwZS5qc0BcIi5jb25jYXQodmVyc2lvbiwgXCIgd2FzIGxvYWRlZCBvbiB0aGUgcGFnZSwgYnV0IEBzdHJpcGUvc3RyaXBlLWpzQFwiKS5jb25jYXQoXCI2LjEuMFwiLCBcIiBleHBlY3RlZCBTdHJpcGUuanNAXCIpLmNvbmNhdChleHBlY3RlZFZlcnNpb24sIFwiLiBUaGlzIG1heSByZXN1bHQgaW4gdW5leHBlY3RlZCBiZWhhdmlvci4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBodHRwczovL2RvY3Muc3RyaXBlLmNvbS9zZGtzL3N0cmlwZWpzLXZlcnNpb25pbmdcIikpO1xuICB9XG5cbiAgdmFyIHN0cmlwZSA9IG1heWJlU3RyaXBlLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIHJlZ2lzdGVyV3JhcHBlcihzdHJpcGUsIHN0YXJ0VGltZSk7XG4gIHJldHVybiBzdHJpcGU7XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuXG52YXIgc3RyaXBlUHJvbWlzZTtcbnZhciBsb2FkQ2FsbGVkID0gZmFsc2U7XG5cbnZhciBnZXRTdHJpcGVQcm9taXNlID0gZnVuY3Rpb24gZ2V0U3RyaXBlUHJvbWlzZSgpIHtcbiAgaWYgKHN0cmlwZVByb21pc2UpIHtcbiAgICByZXR1cm4gc3RyaXBlUHJvbWlzZTtcbiAgfVxuXG4gIHN0cmlwZVByb21pc2UgPSBsb2FkU2NyaXB0KG51bGwpW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgLy8gY2xlYXIgY2FjaGUgb24gZXJyb3JcbiAgICBzdHJpcGVQcm9taXNlID0gbnVsbDtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9KTtcbiAgcmV0dXJuIHN0cmlwZVByb21pc2U7XG59OyAvLyBFeGVjdXRlIG91ciBvd24gc2NyaXB0IGluamVjdGlvbiBhZnRlciBhIHRpY2sgdG8gZ2l2ZSB1c2VycyB0aW1lIHRvIGRvIHRoZWlyXG4vLyBvd24gc2NyaXB0IGluamVjdGlvbi5cblxuXG5Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGdldFN0cmlwZVByb21pc2UoKTtcbn0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycm9yKSB7XG4gIGlmICghbG9hZENhbGxlZCkge1xuICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gIH1cbn0pO1xudmFyIGxvYWRTdHJpcGUgPSBmdW5jdGlvbiBsb2FkU3RyaXBlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgbG9hZENhbGxlZCA9IHRydWU7XG4gIHZhciBzdGFydFRpbWUgPSBEYXRlLm5vdygpOyAvLyBpZiBwcmV2aW91cyBhdHRlbXB0cyBhcmUgdW5zdWNjZXNzZnVsLCB3aWxsIHJlLWxvYWQgc2NyaXB0XG5cbiAgcmV0dXJuIGdldFN0cmlwZVByb21pc2UoKS50aGVuKGZ1bmN0aW9uIChtYXliZVN0cmlwZSkge1xuICAgIHJldHVybiBpbml0U3RyaXBlKG1heWJlU3RyaXBlLCBhcmdzLCBzdGFydFRpbWUpO1xuICB9KTtcbn07XG5cbmV4cG9ydCB7IGxvYWRTdHJpcGUgfTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxuY29uc3Qge3RvU3RyaW5nfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCB7Z2V0UHJvdG90eXBlT2Z9ID0gT2JqZWN0O1xuXG5jb25zdCBraW5kT2YgPSAoY2FjaGUgPT4gdGhpbmcgPT4ge1xuICAgIGNvbnN0IHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpbmcpO1xuICAgIHJldHVybiBjYWNoZVtzdHJdIHx8IChjYWNoZVtzdHJdID0gc3RyLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpKTtcbn0pKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG5jb25zdCBraW5kT2ZUZXN0ID0gKHR5cGUpID0+IHtcbiAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuICh0aGluZykgPT4ga2luZE9mKHRoaW5nKSA9PT0gdHlwZVxufVxuXG5jb25zdCB0eXBlT2ZUZXN0ID0gdHlwZSA9PiB0aGluZyA9PiB0eXBlb2YgdGhpbmcgPT09IHR5cGU7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCB7aXNBcnJheX0gPSBBcnJheTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VuZGVmaW5lZCA9IHR5cGVPZlRlc3QoJ3VuZGVmaW5lZCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIGlzRnVuY3Rpb24odmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKSAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0FycmF5QnVmZmVyID0ga2luZE9mVGVzdCgnQXJyYXlCdWZmZXInKTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIGxldCByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKGlzQXJyYXlCdWZmZXIodmFsLmJ1ZmZlcikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJpbmcgPSB0eXBlT2ZUZXN0KCdzdHJpbmcnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Z1bmN0aW9uID0gdHlwZU9mVGVzdCgnZnVuY3Rpb24nKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc051bWJlciA9IHR5cGVPZlRlc3QoJ251bWJlcicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJvb2xlYW5cbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jvb2xlYW4gPSB0aGluZyA9PiB0aGluZyA9PT0gdHJ1ZSB8fCB0aGluZyA9PT0gZmFsc2U7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgaWYgKGtpbmRPZih2YWwpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKHZhbCk7XG4gIHJldHVybiAocHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKSA9PT0gbnVsbCkgJiYgIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsKSAmJiAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNEYXRlID0ga2luZE9mVGVzdCgnRGF0ZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlID0ga2luZE9mVGVzdCgnRmlsZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCbG9iID0ga2luZE9mVGVzdCgnQmxvYicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZUxpc3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZUxpc3QgPSBraW5kT2ZUZXN0KCdGaWxlTGlzdCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyZWFtID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGb3JtRGF0YSA9ICh0aGluZykgPT4ge1xuICBsZXQga2luZDtcbiAgcmV0dXJuIHRoaW5nICYmIChcbiAgICAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaW5nIGluc3RhbmNlb2YgRm9ybURhdGEpIHx8IChcbiAgICAgIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiAoXG4gICAgICAgIChraW5kID0ga2luZE9mKHRoaW5nKSkgPT09ICdmb3JtZGF0YScgfHxcbiAgICAgICAgLy8gZGV0ZWN0IGZvcm0tZGF0YSBpbnN0YW5jZVxuICAgICAgICAoa2luZCA9PT0gJ29iamVjdCcgJiYgaXNGdW5jdGlvbih0aGluZy50b1N0cmluZykgJiYgdGhpbmcudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJylcbiAgICAgIClcbiAgICApXG4gIClcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVVJMU2VhcmNoUGFyYW1zID0ga2luZE9mVGVzdCgnVVJMU2VhcmNoUGFyYW1zJyk7XG5cbmNvbnN0IFtpc1JlYWRhYmxlU3RyZWFtLCBpc1JlcXVlc3QsIGlzUmVzcG9uc2UsIGlzSGVhZGVyc10gPSBbJ1JlYWRhYmxlU3RyZWFtJywgJ1JlcXVlc3QnLCAnUmVzcG9uc2UnLCAnSGVhZGVycyddLm1hcChraW5kT2ZUZXN0KTtcblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuY29uc3QgdHJpbSA9IChzdHIpID0+IHN0ci50cmltID9cbiAgc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5cyA9IGZhbHNlXVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuLCB7YWxsT3duS2V5cyA9IGZhbHNlfSA9IHt9KSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGk7XG4gIGxldCBsO1xuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yIChpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBjb25zdCBrZXlzID0gYWxsT3duS2V5cyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqLCBrZXkpIHtcbiAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICBsZXQgX2tleTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBfa2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ID09PSBfa2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiBfa2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgX2dsb2JhbCA9ICgoKSA9PiB7XG4gIC8qZXNsaW50IG5vLXVuZGVmOjAqL1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBnbG9iYWxUaGlzO1xuICByZXR1cm4gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKVxufSkoKTtcblxuY29uc3QgaXNDb250ZXh0RGVmaW5lZCA9IChjb250ZXh0KSA9PiAhaXNVbmRlZmluZWQoY29udGV4dCkgJiYgY29udGV4dCAhPT0gX2dsb2JhbDtcblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKlxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICBjb25zdCB7Y2FzZWxlc3N9ID0gaXNDb250ZXh0RGVmaW5lZCh0aGlzKSAmJiB0aGlzIHx8IHt9O1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgYXNzaWduVmFsdWUgPSAodmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCB0YXJnZXRLZXkgPSBjYXNlbGVzcyAmJiBmaW5kS2V5KHJlc3VsdCwga2V5KSB8fCBrZXk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W3RhcmdldEtleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZShyZXN1bHRbdGFyZ2V0S2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIGNvbnN0IGl0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKSAmJiAhcmVzdWx0LmRvbmUpIHtcbiAgICBjb25zdCBwYWlyID0gcmVzdWx0LnZhbHVlO1xuICAgIGZuLmNhbGwob2JqLCBwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuLyogQ2hlY2tpbmcgaWYgdGhlIGtpbmRPZlRlc3QgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4gcGFzc2VkIGFuIEhUTUxGb3JtRWxlbWVudC4gKi9cbmNvbnN0IGlzSFRNTEZvcm0gPSBraW5kT2ZUZXN0KCdIVE1MRm9ybUVsZW1lbnQnKTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZyxcbiAgICBmdW5jdGlvbiByZXBsYWNlcihtLCBwMSwgcDIpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpICsgcDI7XG4gICAgfVxuICApO1xufTtcblxuLyogQ3JlYXRpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiAqL1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSAoKHtoYXNPd25Qcm9wZXJ0eX0pID0+IChvYmosIHByb3ApID0+IGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkoT2JqZWN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1JlZ0V4cCA9IGtpbmRPZlRlc3QoJ1JlZ0V4cCcpO1xuXG5jb25zdCByZWR1Y2VEZXNjcmlwdG9ycyA9IChvYmosIHJlZHVjZXIpID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBjb25zdCByZWR1Y2VkRGVzY3JpcHRvcnMgPSB7fTtcblxuICBmb3JFYWNoKGRlc2NyaXB0b3JzLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIGxldCByZXQ7XG4gICAgaWYgKChyZXQgPSByZWR1Y2VyKGRlc2NyaXB0b3IsIG5hbWUsIG9iaikpICE9PSBmYWxzZSkge1xuICAgICAgcmVkdWNlZERlc2NyaXB0b3JzW25hbWVdID0gcmV0IHx8IGRlc2NyaXB0b3I7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHJlZHVjZWREZXNjcmlwdG9ycyk7XG59XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBcnJheShhcnJheU9yU3RyaW5nKSA/IGRlZmluZShhcnJheU9yU3RyaW5nKSA6IGRlZmluZShTdHJpbmcoYXJyYXlPclN0cmluZykuc3BsaXQoZGVsaW1pdGVyKSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlID0gK3ZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufVxuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybSh0aGluZykge1xuICByZXR1cm4gISEodGhpbmcgJiYgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIHRoaW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbi8vIG9yaWdpbmFsIGNvZGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EaWdpdGFsQnJhaW5KUy9BeGlvc1Byb21pc2UvYmxvYi8xNmRlYWIxMzcxMGVjMDk3Nzk5MjIxMzFmM2ZhNTk1NDMyMGY4M2FiL2xpYi91dGlscy5qcyNMMTEtTDM0XG5cbmNvbnN0IF9zZXRJbW1lZGlhdGUgPSAoKHNldEltbWVkaWF0ZVN1cHBvcnRlZCwgcG9zdE1lc3NhZ2VTdXBwb3J0ZWQpID0+IHtcbiAgaWYgKHNldEltbWVkaWF0ZVN1cHBvcnRlZCkge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGU7XG4gIH1cblxuICByZXR1cm4gcG9zdE1lc3NhZ2VTdXBwb3J0ZWQgPyAoKHRva2VuLCBjYWxsYmFja3MpID0+IHtcbiAgICBfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsICh7c291cmNlLCBkYXRhfSkgPT4ge1xuICAgICAgaWYgKHNvdXJjZSA9PT0gX2dsb2JhbCAmJiBkYXRhID09PSB0b2tlbikge1xuICAgICAgICBjYWxsYmFja3MubGVuZ3RoICYmIGNhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIChjYikgPT4ge1xuICAgICAgY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgICAgX2dsb2JhbC5wb3N0TWVzc2FnZSh0b2tlbiwgXCIqXCIpO1xuICAgIH1cbiAgfSkoYGF4aW9zQCR7TWF0aC5yYW5kb20oKX1gLCBbXSkgOiAoY2IpID0+IHNldFRpbWVvdXQoY2IpO1xufSkoXG4gIHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicsXG4gIGlzRnVuY3Rpb24oX2dsb2JhbC5wb3N0TWVzc2FnZSlcbik7XG5cbmNvbnN0IGFzYXAgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgIT09ICd1bmRlZmluZWQnID9cbiAgcXVldWVNaWNyb3Rhc2suYmluZChfZ2xvYmFsKSA6ICggdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MubmV4dFRpY2sgfHwgX3NldEltbWVkaWF0ZSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1JlYWRhYmxlU3RyZWFtLFxuICBpc1JlcXVlc3QsXG4gIGlzUmVzcG9uc2UsXG4gIGlzSGVhZGVycyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGUsXG4gIHNldEltbWVkaWF0ZTogX3NldEltbWVkaWF0ZSxcbiAgYXNhcFxufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIGlmIChyZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cyA/IHJlc3BvbnNlLnN0YXR1cyA6IG51bGw7XG4gIH1cbn1cblxudXRpbHMuaW5oZXJpdHMoQXhpb3NFcnJvciwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdXRpbHMudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXNcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0Vycm9yO1xuIiwKICAgICIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuLy8gdGVtcG9yYXJ5IGhvdGZpeCB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2VzIHVudGlsIEF4aW9zVVJMU2VhcmNoUGFyYW1zIGlzIHJlZmFjdG9yZWRcbmltcG9ydCBQbGF0Zm9ybUZvcm1EYXRhIGZyb20gJy4uL3BsYXRmb3JtL25vZGUvY2xhc3Nlcy9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdGhpbmcgaXMgYSBhcnJheSBvciBqcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRoaW5nIC0gVGhlIG9iamVjdCBvciBhcnJheSB0byBiZSB2aXNpdGVkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Zpc2l0YWJsZSh0aGluZykge1xuICByZXR1cm4gdXRpbHMuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMuaXNBcnJheSh0aGluZyk7XG59XG5cbi8qKlxuICogSXQgcmVtb3ZlcyB0aGUgYnJhY2tldHMgZnJvbSB0aGUgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHBhcmFtZXRlci5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUga2V5IHdpdGhvdXQgdGhlIGJyYWNrZXRzLlxuICovXG5mdW5jdGlvbiByZW1vdmVCcmFja2V0cyhrZXkpIHtcbiAgcmV0dXJuIHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykgPyBrZXkuc2xpY2UoMCwgLTIpIDoga2V5O1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGF0aCwgYSBrZXksIGFuZCBhIGJvb2xlYW4sIGFuZCByZXR1cm5zIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgY3VycmVudCBvYmplY3QgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3RzIC0gSWYgdHJ1ZSwgdGhlIGtleSB3aWxsIGJlIHJlbmRlcmVkIHdpdGggZG90cyBpbnN0ZWFkIG9mIGJyYWNrZXRzLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cykge1xuICBpZiAoIXBhdGgpIHJldHVybiBrZXk7XG4gIHJldHVybiBwYXRoLmNvbmNhdChrZXkpLm1hcChmdW5jdGlvbiBlYWNoKHRva2VuLCBpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdG9rZW4gPSByZW1vdmVCcmFja2V0cyh0b2tlbik7XG4gICAgcmV0dXJuICFkb3RzICYmIGkgPyAnWycgKyB0b2tlbiArICddJyA6IHRva2VuO1xuICB9KS5qb2luKGRvdHMgPyAnLicgOiAnJyk7XG59XG5cbi8qKlxuICogSWYgdGhlIGFycmF5IGlzIGFuIGFycmF5IGFuZCBub25lIG9mIGl0cyBlbGVtZW50cyBhcmUgdmlzaXRhYmxlLCB0aGVuIGl0J3MgYSBmbGF0IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmxhdEFycmF5KGFycikge1xuICByZXR1cm4gdXRpbHMuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscy50b0ZsYXRPYmplY3QodXRpbHMsIHt9LCBudWxsLCBmdW5jdGlvbiBmaWx0ZXIocHJvcCkge1xuICByZXR1cm4gL15pc1tBLVpdLy50ZXN0KHByb3ApO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaXRvcl1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWV0YVRva2VucyA9IHRydWVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvdHMgPSBmYWxzZV1cbiAqIEBwYXJhbSB7P0Jvb2xlYW59IFtvcHRpb25zLmluZGV4ZXMgPSBmYWxzZV1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG4vKipcbiAqIEl0IGNvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gZm9ybSBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIC0gVGhlIEZvcm1EYXRhIG9iamVjdCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0b0Zvcm1EYXRhKG9iaiwgZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgKFBsYXRmb3JtRm9ybURhdGEgfHwgRm9ybURhdGEpKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdGlvbnMgPSB1dGlscy50b0ZsYXRPYmplY3Qob3B0aW9ucywge1xuICAgIG1ldGFUb2tlbnM6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgaW5kZXhlczogZmFsc2VcbiAgfSwgZmFsc2UsIGZ1bmN0aW9uIGRlZmluZWQob3B0aW9uLCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICByZXR1cm4gIXV0aWxzLmlzVW5kZWZpbmVkKHNvdXJjZVtvcHRpb25dKTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0YVRva2VucyA9IG9wdGlvbnMubWV0YVRva2VucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0IHZpc2l0b3IgPSBvcHRpb25zLnZpc2l0b3IgfHwgZGVmYXVsdFZpc2l0b3I7XG4gIGNvbnN0IGRvdHMgPSBvcHRpb25zLmRvdHM7XG4gIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXM7XG4gIGNvbnN0IF9CbG9iID0gb3B0aW9ucy5CbG9iIHx8IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBCbG9iO1xuICBjb25zdCB1c2VCbG9iID0gX0Jsb2IgJiYgdXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShmb3JtRGF0YSk7XG5cbiAgaWYgKCF1dGlscy5pc0Z1bmN0aW9uKHZpc2l0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICghdXNlQmxvYiAmJiB1dGlscy5pc0Jsb2IodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMuaXNUeXBlZEFycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVzZUJsb2IgJiYgdHlwZW9mIEJsb2IgPT09ICdmdW5jdGlvbicgPyBuZXcgQmxvYihbdmFsdWVdKSA6IEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCB2aXNpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5XG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfE51bWJlcj59IHBhdGhcbiAgICogQHRoaXMge0Zvcm1EYXRhfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgdG8gdmlzaXQgdGhlIGVhY2ggcHJvcCBvZiB0aGUgdmFsdWUgcmVjdXJzaXZlbHlcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmF1bHRWaXNpdG9yKHZhbHVlLCBrZXksIHBhdGgpIHtcbiAgICBsZXQgYXJyID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUgJiYgIXBhdGggJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHV0aWxzLmVuZHNXaXRoKGtleSwgJ3t9JykpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IG1ldGFUb2tlbnMgPyBrZXkgOiBrZXkuc2xpY2UoMCwgLTIpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAodXRpbHMuaXNBcnJheSh2YWx1ZSkgJiYgaXNGbGF0QXJyYXkodmFsdWUpKSB8fFxuICAgICAgICAoKHV0aWxzLmlzRmlsZUxpc3QodmFsdWUpIHx8IHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykpICYmIChhcnIgPSB1dGlscy50b0FycmF5KHZhbHVlKSlcbiAgICAgICAgKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gcmVtb3ZlQnJhY2tldHMoa2V5KTtcblxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiBlYWNoKGVsLCBpbmRleCkge1xuICAgICAgICAgICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGluZGV4ZXMgPT09IHRydWUgPyByZW5kZXJLZXkoW2tleV0sIGluZGV4LCBkb3RzKSA6IChpbmRleGVzID09PSBudWxsID8ga2V5IDoga2V5ICsgJ1tdJyksXG4gICAgICAgICAgICBjb252ZXJ0VmFsdWUoZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNWaXNpdGFibGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3JtRGF0YS5hcHBlbmQocmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cyksIGNvbnZlcnRWYWx1ZSh2YWx1ZSkpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc3RhY2sgPSBbXTtcblxuICBjb25zdCBleHBvc2VkSGVscGVycyA9IE9iamVjdC5hc3NpZ24ocHJlZGljYXRlcywge1xuICAgIGRlZmF1bHRWaXNpdG9yLFxuICAgIGNvbnZlcnRWYWx1ZSxcbiAgICBpc1Zpc2l0YWJsZVxuICB9KTtcblxuICBmdW5jdGlvbiBidWlsZCh2YWx1ZSwgcGF0aCkge1xuICAgIGlmICh1dGlscy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcblxuICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgIHRocm93IEVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gJyArIHBhdGguam9pbignLicpKTtcbiAgICB9XG5cbiAgICBzdGFjay5wdXNoKHZhbHVlKTtcblxuICAgIHV0aWxzLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uIGVhY2goZWwsIGtleSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIHZpc2l0b3IuY2FsbChcbiAgICAgICAgZm9ybURhdGEsIGVsLCB1dGlscy5pc1N0cmluZyhrZXkpID8ga2V5LnRyaW0oKSA6IGtleSwgcGF0aCwgZXhwb3NlZEhlbHBlcnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgYnVpbGQoZWwsIHBhdGggPyBwYXRoLmNvbmNhdChrZXkpIDogW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RhY2sucG9wKCk7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRhIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9Gb3JtRGF0YTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIHs/KG9iamVjdHxGdW5jdGlvbil9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgb3B0aW9ucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIFxuICBjb25zdCBfZW5jb2RlID0gb3B0aW9ucyAmJiBvcHRpb25zLmVuY29kZSB8fCBlbmNvZGU7XG5cbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2VyaWFsaXplOiBvcHRpb25zXG4gICAgfTtcbiAgfSBcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykgP1xuICAgICAgcGFyYW1zLnRvU3RyaW5nKCkgOlxuICAgICAgbmV3IEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykudG9TdHJpbmcoX2VuY29kZSk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIGNvbnN0IGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG5cbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgZm9yY2VkSlNPTlBhcnNpbmc6IHRydWUsXG4gIGNsYXJpZnlUaW1lb3V0RXJyb3I6IGZhbHNlXG59O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnID8gVVJMU2VhcmNoUGFyYW1zIDogQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyA/IEJsb2IgOiBudWxsXG4iLAogICAgImltcG9ydCBVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcydcbmltcG9ydCBGb3JtRGF0YSBmcm9tICcuL2NsYXNzZXMvRm9ybURhdGEuanMnXG5pbXBvcnQgQmxvYiBmcm9tICcuL2NsYXNzZXMvQmxvYi5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXMsXG4gICAgRm9ybURhdGEsXG4gICAgQmxvYlxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcbiIsCiAgICAiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gaGFzQnJvd3NlckVudiAmJlxuICAoIV9uYXZpZ2F0b3IgfHwgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCkgPCAwKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuY29uc3Qgb3JpZ2luID0gaGFzQnJvd3NlckVudiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52LFxuICBfbmF2aWdhdG9yIGFzIG5hdmlnYXRvcixcbiAgb3JpZ2luXG59XG4iLAogICAgImltcG9ydCBwbGF0Zm9ybSBmcm9tICcuL25vZGUvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9jb21tb24vdXRpbHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLnV0aWxzLFxuICAuLi5wbGF0Zm9ybVxufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0Zvcm1EYXRhKGRhdGEsIG5ldyBwbGF0Zm9ybS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcygpLCBPYmplY3QuYXNzaWduKHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nIGxpa2UgYGZvb1t4XVt5XVt6XWAgYW5kIHJldHVybnMgYW4gYXJyYXkgbGlrZSBgWydmb28nLCAneCcsICd5JywgJ3onXVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBzdHJpbmdzLlxuICovXG5mdW5jdGlvbiBwYXJzZVByb3BQYXRoKG5hbWUpIHtcbiAgLy8gZm9vW3hdW3ldW3pdXG4gIC8vIGZvby54LnkuelxuICAvLyBmb28teC15LXpcbiAgLy8gZm9vIHggeSB6XG4gIHJldHVybiB1dGlscy5tYXRjaEFsbCgvXFx3K3xcXFsoXFx3KildL2csIG5hbWUpLm1hcChtYXRjaCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoWzBdID09PSAnW10nID8gJycgOiBtYXRjaFsxXSB8fCBtYXRjaFswXTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBhcnJheSB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY29udmVydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhbmQgdmFsdWVzIGFzIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnIpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBsZXQgaTtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gIGxldCBrZXk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgb2JqW2tleV0gPSBhcnJba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgRm9ybURhdGEgb2JqZWN0IGFuZCByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgVGhlIEZvcm1EYXRhIG9iamVjdCB0byBjb252ZXJ0IHRvIEpTT04uXG4gKlxuICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGFueT4gfCBudWxsfSBUaGUgY29udmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZm9ybURhdGFUb0pTT04oZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgbGV0IG5hbWUgPSBwYXRoW2luZGV4KytdO1xuXG4gICAgaWYgKG5hbWUgPT09ICdfX3Byb3RvX18nKSByZXR1cm4gdHJ1ZTtcblxuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IE51bWJlci5pc0Zpbml0ZSgrbmFtZSk7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPj0gcGF0aC5sZW5ndGg7XG4gICAgbmFtZSA9ICFuYW1lICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldC5sZW5ndGggOiBuYW1lO1xuXG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgaWYgKHV0aWxzLmhhc093blByb3AodGFyZ2V0LCBuYW1lKSkge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBbdGFyZ2V0W25hbWVdLCB2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRbbmFtZV0gfHwgIXV0aWxzLmlzT2JqZWN0KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0W25hbWVdLCBpbmRleCk7XG5cbiAgICBpZiAocmVzdWx0ICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gYXJyYXlUb09iamVjdCh0YXJnZXRbbmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZm9ybURhdGEpICYmIHV0aWxzLmlzRnVuY3Rpb24oZm9ybURhdGEuZW50cmllcykpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2hFbnRyeShmb3JtRGF0YSwgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBidWlsZFBhdGgocGFyc2VQcm9wUGF0aChuYW1lKSwgdmFsdWUsIG9iaiwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvcm1EYXRhVG9KU09OO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmICh1dGlscy5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgKG1ldGhvZCkgPT4ge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0cztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8vIFJhd0F4aW9zSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbmNvbnN0IGlnbm9yZUR1cGxpY2F0ZU9mID0gdXRpbHMudG9PYmplY3RTZXQoW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl0pO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKlxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgcmF3SGVhZGVycyA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuICBsZXQga2V5O1xuICBsZXQgdmFsO1xuICBsZXQgaTtcblxuICByYXdIZWFkZXJzICYmIHJhd0hlYWRlcnMuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gbGluZS5zdWJzdHJpbmcoaSArIDEpLnRyaW0oKTtcblxuICAgIGlmICgha2V5IHx8IChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZltrZXldKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgaWYgKHBhcnNlZFtrZXldKSB7XG4gICAgICAgIHBhcnNlZFtrZXldLnB1c2godmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gW3ZhbF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0hlYWRlcnMoaGVhZGVyKSkge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGVhZGVyLmVudHJpZXMoKSkge1xuICAgICAgICBzZXRIZWFkZXIodmFsdWUsIGtleSwgcmV3cml0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgIHJldHVybiAnQXhpb3NIZWFkZXJzJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgdGhpcyA/IHRoaW5nIDogbmV3IHRoaXModGhpbmcpO1xuICB9XG5cbiAgc3RhdGljIGNvbmNhdChmaXJzdCwgLi4udGFyZ2V0cykge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IHRoaXMoZmlyc3QpO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IGNvbXB1dGVkLnNldCh0YXJnZXQpKTtcblxuICAgIHJldHVybiBjb21wdXRlZDtcbiAgfVxuXG4gIHN0YXRpYyBhY2Nlc3NvcihoZWFkZXIpIHtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB0aGlzWyRpbnRlcm5hbHNdID0gKHRoaXNbJGludGVybmFsc10gPSB7XG4gICAgICBhY2Nlc3NvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBpbnRlcm5hbHMuYWNjZXNzb3JzO1xuICAgIGNvbnN0IHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3IoX2hlYWRlcikge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFhY2Nlc3NvcnNbbEhlYWRlcl0pIHtcbiAgICAgICAgYnVpbGRBY2Nlc3NvcnMocHJvdG90eXBlLCBfaGVhZGVyKTtcbiAgICAgICAgYWNjZXNzb3JzW2xIZWFkZXJdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlscy5pc0FycmF5KGhlYWRlcikgPyBoZWFkZXIuZm9yRWFjaChkZWZpbmVBY2Nlc3NvcikgOiBkZWZpbmVBY2Nlc3NvcihoZWFkZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuQXhpb3NIZWFkZXJzLmFjY2Vzc29yKFsnQ29udGVudC1UeXBlJywgJ0NvbnRlbnQtTGVuZ3RoJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnLCAnVXNlci1BZ2VudCcsICdBdXRob3JpemF0aW9uJ10pO1xuXG4vLyByZXNlcnZlZCBuYW1lcyBob3RmaXhcbnV0aWxzLnJlZHVjZURlc2NyaXB0b3JzKEF4aW9zSGVhZGVycy5wcm90b3R5cGUsICh7dmFsdWV9LCBrZXkpID0+IHtcbiAgbGV0IG1hcHBlZCA9IGtleVswXS50b1VwcGVyQ2FzZSgpICsga2V5LnNsaWNlKDEpOyAvLyBtYXAgYHNldGAgPT4gYFNldGBcbiAgcmV0dXJuIHtcbiAgICBnZXQ6ICgpID0+IHZhbHVlLFxuICAgIHNldChoZWFkZXJWYWx1ZSkge1xuICAgICAgdGhpc1ttYXBwZWRdID0gaGVhZGVyVmFsdWU7XG4gICAgfVxuICB9XG59KTtcblxudXRpbHMuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0hlYWRlcnM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxlZEVycm9yYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gcmVxdWVzdCBUaGUgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsZWRFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBBeGlvc0Vycm9yLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gJ2NhbmNlbGVkJyA6IG1lc3NhZ2UsIEF4aW9zRXJyb3IuRVJSX0NBTkNFTEVELCBjb25maWcsIHJlcXVlc3QpO1xuICB0aGlzLm5hbWUgPSAnQ2FuY2VsZWRFcnJvcic7XG59XG5cbnV0aWxzLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbGVkRXJyb3I7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9BeGlvc0Vycm9yLmpzJztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNwZWVkb21ldGVyO1xuIiwKICAgICIvKipcbiAqIFRocm90dGxlIGRlY29yYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBmcmVxXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGZyZXEpIHtcbiAgbGV0IHRpbWVzdGFtcCA9IDA7XG4gIGxldCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgdGltZXI7XG5cbiAgY29uc3QgaW52b2tlID0gKGFyZ3MsIG5vdyA9IERhdGUubm93KCkpID0+IHtcbiAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gIH1cblxuICBjb25zdCB0aHJvdHRsZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcGFzc2VkID0gbm93IC0gdGltZXN0YW1wO1xuICAgIGlmICggcGFzc2VkID49IHRocmVzaG9sZCkge1xuICAgICAgaW52b2tlKGFyZ3MsIG5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RBcmdzID0gYXJncztcbiAgICAgIGlmICghdGltZXIpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgICAgaW52b2tlKGxhc3RBcmdzKVxuICAgICAgICB9LCB0aHJlc2hvbGQgLSBwYXNzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4gbGFzdEFyZ3MgJiYgaW52b2tlKGxhc3RBcmdzKTtcblxuICByZXR1cm4gW3Rocm90dGxlZCwgZmx1c2hdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0aHJvdHRsZTtcbiIsCiAgICAiaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gXCIuL3NwZWVkb21ldGVyLmpzXCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcIi4vdGhyb3R0bGUuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2dyZXNzRXZlbnRSZWR1Y2VyID0gKGxpc3RlbmVyLCBpc0Rvd25sb2FkU3RyZWFtLCBmcmVxID0gMykgPT4ge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiB0aHJvdHRsZShlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgbGVuZ3RoQ29tcHV0YWJsZTogdG90YWwgIT0gbnVsbCxcbiAgICAgIFtpc0Rvd25sb2FkU3RyZWFtID8gJ2Rvd25sb2FkJyA6ICd1cGxvYWQnXTogdHJ1ZVxuICAgIH07XG5cbiAgICBsaXN0ZW5lcihkYXRhKTtcbiAgfSwgZnJlcSk7XG59XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yID0gKHRvdGFsLCB0aHJvdHRsZWQpID0+IHtcbiAgY29uc3QgbGVuZ3RoQ29tcHV0YWJsZSA9IHRvdGFsICE9IG51bGw7XG5cbiAgcmV0dXJuIFsobG9hZGVkKSA9PiB0aHJvdHRsZWRbMF0oe1xuICAgIGxlbmd0aENvbXB1dGFibGUsXG4gICAgdG90YWwsXG4gICAgbG9hZGVkXG4gIH0pLCB0aHJvdHRsZWRbMV1dO1xufVxuXG5leHBvcnQgY29uc3QgYXN5bmNEZWNvcmF0b3IgPSAoZm4pID0+ICguLi5hcmdzKSA9PiB1dGlscy5hc2FwKCgpID0+IGZuKC4uLmFyZ3MpKTtcbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID8gKChvcmlnaW4sIGlzTVNJRSkgPT4gKHVybCkgPT4ge1xuICB1cmwgPSBuZXcgVVJMKHVybCwgcGxhdGZvcm0ub3JpZ2luKTtcblxuICByZXR1cm4gKFxuICAgIG9yaWdpbi5wcm90b2NvbCA9PT0gdXJsLnByb3RvY29sICYmXG4gICAgb3JpZ2luLmhvc3QgPT09IHVybC5ob3N0ICYmXG4gICAgKGlzTVNJRSB8fCBvcmlnaW4ucG9ydCA9PT0gdXJsLnBvcnQpXG4gICk7XG59KShcbiAgbmV3IFVSTChwbGF0Zm9ybS5vcmlnaW4pLFxuICBwbGF0Zm9ybS5uYXZpZ2F0b3IgJiYgLyhtc2llfHRyaWRlbnQpL2kudGVzdChwbGF0Zm9ybS5uYXZpZ2F0b3IudXNlckFnZW50KVxuKSA6ICgpID0+IHRydWU7XG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLz9cXC8kLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMLCBhbGxvd0Fic29sdXRlVXJscykge1xuICBsZXQgaXNSZWxhdGl2ZVVybCA9ICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCk7XG4gIGlmIChiYXNlVVJMICYmIGlzUmVsYXRpdmVVcmwgfHwgYWxsb3dBYnNvbHV0ZVVybHMgPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL0F4aW9zSGVhZGVycy5qc1wiO1xuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzID8geyAuLi50aGluZyB9IDogdGhpbmc7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIGNvbnN0IGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlLCBwcm9wLCBjYXNlbGVzcykge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgdXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2UuY2FsbCh7Y2FzZWxlc3N9LCB0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMoYSwgYiwgcHJvcCAsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIHByb3AgLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEsIHByb3AgLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIgLCBwcm9wKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLHByb3AsIHRydWUpXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCBjb25maWcxLCBjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBtZXJnZU1hcFtwcm9wXSB8fCBtZXJnZURlZXBQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gbWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSwgcHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuIiwKICAgICJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgaXNVUkxTYW1lT3JpZ2luIGZyb20gXCIuL2lzVVJMU2FtZU9yaWdpbi5qc1wiO1xuaW1wb3J0IGNvb2tpZXMgZnJvbSBcIi4vY29va2llcy5qc1wiO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSBcIi4uL2NvcmUvYnVpbGRGdWxsUGF0aC5qc1wiO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gXCIuLi9jb3JlL21lcmdlQ29uZmlnLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gXCIuL2J1aWxkVVJMLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChjb25maWcpID0+IHtcbiAgY29uc3QgbmV3Q29uZmlnID0gbWVyZ2VDb25maWcoe30sIGNvbmZpZyk7XG5cbiAgbGV0IHtkYXRhLCB3aXRoWFNSRlRva2VuLCB4c3JmSGVhZGVyTmFtZSwgeHNyZkNvb2tpZU5hbWUsIGhlYWRlcnMsIGF1dGh9ID0gbmV3Q29uZmlnO1xuXG4gIG5ld0NvbmZpZy5oZWFkZXJzID0gaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGhlYWRlcnMpO1xuXG4gIG5ld0NvbmZpZy51cmwgPSBidWlsZFVSTChidWlsZEZ1bGxQYXRoKG5ld0NvbmZpZy5iYXNlVVJMLCBuZXdDb25maWcudXJsLCBuZXdDb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoYXV0aCkge1xuICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgK1xuICAgICAgYnRvYSgoYXV0aC51c2VybmFtZSB8fCAnJykgKyAnOicgKyAoYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhdXRoLnBhc3N3b3JkKSkgOiAnJykpXG4gICAgKTtcbiAgfVxuXG4gIGxldCBjb250ZW50VHlwZTtcblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSkgIT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4obmV3Q29uZmlnKSk7XG5cbiAgICBpZiAod2l0aFhTUkZUb2tlbiB8fCAod2l0aFhTUkZUb2tlbiAhPT0gZmFsc2UgJiYgaXNVUkxTYW1lT3JpZ2luKG5ld0NvbmZpZy51cmwpKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICBjb25zdCB4c3JmVmFsdWUgPSB4c3JmSGVhZGVyTmFtZSAmJiB4c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoeHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KHhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdDb25maWc7XG59XG5cbiIsCiAgICAiaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHNldHRsZSBmcm9tICcuLy4uL2NvcmUvc2V0dGxlLmpzJztcbmltcG9ydCB0cmFuc2l0aW9uYWxEZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBwYXJzZVByb3RvY29sIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQge3Byb2dyZXNzRXZlbnRSZWR1Y2VyfSBmcm9tICcuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzJztcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcblxuY29uc3QgaXNYSFJBZGFwdGVyU3VwcG9ydGVkID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJztcblxuZXhwb3J0IGRlZmF1bHQgaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBfY29uZmlnID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IF9jb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKF9jb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgbGV0IHtyZXNwb25zZVR5cGUsIG9uVXBsb2FkUHJvZ3Jlc3MsIG9uRG93bmxvYWRQcm9ncmVzc30gPSBfY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGxldCB1cGxvYWRUaHJvdHRsZWQsIGRvd25sb2FkVGhyb3R0bGVkO1xuICAgIGxldCBmbHVzaFVwbG9hZCwgZmx1c2hEb3dubG9hZDtcblxuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBmbHVzaFVwbG9hZCAmJiBmbHVzaFVwbG9hZCgpOyAvLyBmbHVzaCBldmVudHNcbiAgICAgIGZsdXNoRG93bmxvYWQgJiYgZmx1c2hEb3dubG9hZCgpOyAvLyBmbHVzaCBldmVudHNcblxuICAgICAgX2NvbmZpZy5jYW5jZWxUb2tlbiAmJiBfY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuXG4gICAgICBfY29uZmlnLnNpZ25hbCAmJiBfY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oX2NvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgX2NvbmZpZy51cmwsIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBfY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIF9jb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcgOiAndGltZW91dCBleGNlZWRlZCc7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSBfY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyBBeGlvc0Vycm9yLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMudG9KU09OKCksIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKF9jb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIV9jb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IF9jb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAob25Eb3dubG9hZFByb2dyZXNzKSB7XG4gICAgICAoW2Rvd25sb2FkVGhyb3R0bGVkLCBmbHVzaERvd25sb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uRG93bmxvYWRQcm9ncmVzcywgdHJ1ZSkpO1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGRvd25sb2FkVGhyb3R0bGVkKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmIChvblVwbG9hZFByb2dyZXNzICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICAoW3VwbG9hZFRocm90dGxlZCwgZmx1c2hVcGxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25VcGxvYWRQcm9ncmVzcykpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHVwbG9hZFRocm90dGxlZCk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmbHVzaFVwbG9hZCk7XG4gICAgfVxuXG4gICAgaWYgKF9jb25maWcuY2FuY2VsVG9rZW4gfHwgX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBfY29uZmlnLmNhbmNlbFRva2VuICYmIF9jb25maWcuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgaWYgKF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAgIF9jb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBfY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb3RvY29sID0gcGFyc2VQcm90b2NvbChfY29uZmlnLnVybCk7XG5cbiAgICBpZiAocHJvdG9jb2wgJiYgcGxhdGZvcm0ucHJvdG9jb2xzLmluZGV4T2YocHJvdG9jb2wpID09PSAtMSkge1xuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdVbnN1cHBvcnRlZCBwcm90b2NvbCAnICsgcHJvdG9jb2wgKyAnOicsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBjb25maWcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwKICAgICJpbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tIFwiLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgY29uc3Qge2xlbmd0aH0gPSAoc2lnbmFscyA9IHNpZ25hbHMgPyBzaWduYWxzLmZpbHRlcihCb29sZWFuKSA6IFtdKTtcblxuICBpZiAodGltZW91dCB8fCBsZW5ndGgpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGxldCBhYm9ydGVkO1xuXG4gICAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmICghYWJvcnRlZCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24gOiB0aGlzLnJlYXNvbjtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yID8gZXJyIDogbmV3IENhbmNlbGVkRXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aW1lciA9IHRpbWVvdXQgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBvbmFib3J0KG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yLkVUSU1FRE9VVCkpXG4gICAgfSwgdGltZW91dClcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgaWYgKHNpZ25hbHMpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICBzaWduYWxzLmZvckVhY2goc2lnbmFsID0+IHtcbiAgICAgICAgICBzaWduYWwudW5zdWJzY3JpYmUgPyBzaWduYWwudW5zdWJzY3JpYmUob25hYm9ydCkgOiBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsKSA9PiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgICBzaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB1dGlscy5hc2FwKHVuc3Vic2NyaWJlKTtcblxuICAgIHJldHVybiBzaWduYWw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZVNpZ25hbHM7XG4iLAogICAgIlxuZXhwb3J0IGNvbnN0IHN0cmVhbUNodW5rID0gZnVuY3Rpb24qIChjaHVuaywgY2h1bmtTaXplKSB7XG4gIGxldCBsZW4gPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gIGlmICghY2h1bmtTaXplIHx8IGxlbiA8IGNodW5rU2l6ZSkge1xuICAgIHlpZWxkIGNodW5rO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3MgPSAwO1xuICBsZXQgZW5kO1xuXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICBlbmQgPSBwb3MgKyBjaHVua1NpemU7XG4gICAgeWllbGQgY2h1bmsuc2xpY2UocG9zLCBlbmQpO1xuICAgIHBvcyA9IGVuZDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVhZEJ5dGVzID0gYXN5bmMgZnVuY3Rpb24qIChpdGVyYWJsZSwgY2h1bmtTaXplKSB7XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVhZFN0cmVhbShpdGVyYWJsZSkpIHtcbiAgICB5aWVsZCogc3RyZWFtQ2h1bmsoY2h1bmssIGNodW5rU2l6ZSk7XG4gIH1cbn1cblxuY29uc3QgcmVhZFN0cmVhbSA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RyZWFtKSB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgeWllbGQqIHN0cmVhbTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRyYWNrU3RyZWFtID0gKHN0cmVhbSwgY2h1bmtTaXplLCBvblByb2dyZXNzLCBvbkZpbmlzaCkgPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IHJlYWRCeXRlcyhzdHJlYW0sIGNodW5rU2l6ZSk7XG5cbiAgbGV0IGJ5dGVzID0gMDtcbiAgbGV0IGRvbmU7XG4gIGxldCBfb25GaW5pc2ggPSAoZSkgPT4ge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBvbkZpbmlzaCAmJiBvbkZpbmlzaChlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgIF9vbkZpbmlzaCgpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGVuID0gdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICBsZXQgbG9hZGVkQnl0ZXMgPSBieXRlcyArPSBsZW47XG4gICAgICAgICAgb25Qcm9ncmVzcyhsb2FkZWRCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX29uRmluaXNoKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgIF9vbkZpbmlzaChyZWFzb24pO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yLnJldHVybigpO1xuICAgIH1cbiAgfSwge1xuICAgIGhpZ2hXYXRlck1hcms6IDJcbiAgfSlcbn1cbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gXCIuLi9wbGF0Zm9ybS9pbmRleC5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuaW1wb3J0IGNvbXBvc2VTaWduYWxzIGZyb20gXCIuLi9oZWxwZXJzL2NvbXBvc2VTaWduYWxzLmpzXCI7XG5pbXBvcnQge3RyYWNrU3RyZWFtfSBmcm9tIFwiLi4vaGVscGVycy90cmFja1N0cmVhbS5qc1wiO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCB7cHJvZ3Jlc3NFdmVudFJlZHVjZXIsIHByb2dyZXNzRXZlbnREZWNvcmF0b3IsIGFzeW5jRGVjb3JhdG9yfSBmcm9tIFwiLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qc1wiO1xuaW1wb3J0IHJlc29sdmVDb25maWcgZnJvbSBcIi4uL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qc1wiO1xuaW1wb3J0IHNldHRsZSBmcm9tIFwiLi4vY29yZS9zZXR0bGUuanNcIjtcblxuY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09ICdmdW5jdGlvbic7XG5cbi8vIHVzZWQgb25seSBpbnNpZGUgdGhlIGZldGNoIGFkYXB0ZXJcbmNvbnN0IGVuY29kZVRleHQgPSBpc0ZldGNoU3VwcG9ydGVkICYmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICBhc3luYyAoc3RyKSA9PiBuZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2Uoc3RyKS5hcnJheUJ1ZmZlcigpKVxuKTtcblxuY29uc3QgdGVzdCA9IChmbiwgLi4uYXJncykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAhIWZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuY29uc3Qgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgbGV0IGR1cGxleEFjY2Vzc2VkID0gZmFsc2U7XG5cbiAgY29uc3QgaGFzQ29udGVudFR5cGUgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBnZXQgZHVwbGV4KCkge1xuICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuICdoYWxmJztcbiAgICB9LFxuICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgcmV0dXJuIGR1cGxleEFjY2Vzc2VkICYmICFoYXNDb250ZW50VHlwZTtcbn0pO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gIHRlc3QoKCkgPT4gdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShuZXcgUmVzcG9uc2UoJycpLmJvZHkpKTtcblxuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG59O1xuXG5pc0ZldGNoU3VwcG9ydGVkICYmICgoKHJlcykgPT4ge1xuICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IHV0aWxzLmlzRnVuY3Rpb24ocmVzW3R5cGVdKSA/IChyZXMpID0+IHJlc1t0eXBlXSgpIDpcbiAgICAgIChfLCBjb25maWcpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFJlc3BvbnNlIHR5cGUgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLCBBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCwgY29uZmlnKTtcbiAgICAgIH0pXG4gIH0pO1xufSkobmV3IFJlc3BvbnNlKSk7XG5cbmNvbnN0IGdldEJvZHlMZW5ndGggPSBhc3luYyAoYm9keSkgPT4ge1xuICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZih1dGlscy5pc0Jsb2IoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5zaXplO1xuICB9XG5cbiAgaWYodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgIGNvbnN0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHksXG4gICAgfSk7XG4gICAgcmV0dXJuIChhd2FpdCBfcmVxdWVzdC5hcnJheUJ1ZmZlcigpKS5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgaWYodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gIH1cblxuICBpZih1dGlscy5pc1N0cmluZyhib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgZW5jb2RlVGV4dChib2R5KSkuYnl0ZUxlbmd0aDtcbiAgfVxufVxuXG5jb25zdCByZXNvbHZlQm9keUxlbmd0aCA9IGFzeW5jIChoZWFkZXJzLCBib2R5KSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICByZXR1cm4gbGVuZ3RoID09IG51bGwgPyBnZXRCb2R5TGVuZ3RoKGJvZHkpIDogbGVuZ3RoO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0ZldGNoU3VwcG9ydGVkICYmIChhc3luYyAoY29uZmlnKSA9PiB7XG4gIGxldCB7XG4gICAgdXJsLFxuICAgIG1ldGhvZCxcbiAgICBkYXRhLFxuICAgIHNpZ25hbCxcbiAgICBjYW5jZWxUb2tlbixcbiAgICB0aW1lb3V0LFxuICAgIG9uRG93bmxvYWRQcm9ncmVzcyxcbiAgICBvblVwbG9hZFByb2dyZXNzLFxuICAgIHJlc3BvbnNlVHlwZSxcbiAgICBoZWFkZXJzLFxuICAgIHdpdGhDcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbicsXG4gICAgZmV0Y2hPcHRpb25zXG4gIH0gPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG5cbiAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlID8gKHJlc3BvbnNlVHlwZSArICcnKS50b0xvd2VyQ2FzZSgpIDogJ3RleHQnO1xuXG4gIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gIGxldCByZXF1ZXN0O1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gY29tcG9zZWRTaWduYWwgJiYgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUgJiYgKCgpID0+IHtcbiAgICAgIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlKCk7XG4gIH0pO1xuXG4gIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICB0cnkge1xuICAgIGlmIChcbiAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgIChyZXF1ZXN0Q29udGVudExlbmd0aCA9IGF3YWl0IHJlc29sdmVCb2R5TGVuZ3RoKGhlYWRlcnMsIGRhdGEpKSAhPT0gMFxuICAgICkge1xuICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbnRlbnRUeXBlSGVhZGVyO1xuXG4gICAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoY29udGVudFR5cGVIZWFkZXIpXG4gICAgICB9XG5cbiAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICApO1xuXG4gICAgICAgIGRhdGEgPSB0cmFja1N0cmVhbShfcmVxdWVzdC5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsIGZsdXNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKHdpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdvbWl0JztcbiAgICB9XG5cbiAgICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgdGhyb3dzIHdoZW4gY3JlZGVudGlhbHMgYXJlIGRlZmluZWRcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvd29ya2VyZC9pc3N1ZXMvOTAyXG4gICAgY29uc3QgaXNDcmVkZW50aWFsc1N1cHBvcnRlZCA9IFwiY3JlZGVudGlhbHNcIiBpbiBSZXF1ZXN0LnByb3RvdHlwZTtcbiAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBzaWduYWw6IGNvbXBvc2VkU2lnbmFsLFxuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgZHVwbGV4OiBcImhhbGZcIixcbiAgICAgIGNyZWRlbnRpYWxzOiBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID8gd2l0aENyZWRlbnRpYWxzIDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KTtcblxuICAgIGNvbnN0IGlzU3RyZWFtUmVzcG9uc2UgPSBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChyZXNwb25zZVR5cGUgPT09ICdzdHJlYW0nIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3Jlc3BvbnNlJyk7XG5cbiAgICBpZiAoc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAob25Eb3dubG9hZFByb2dyZXNzIHx8IChpc1N0cmVhbVJlc3BvbnNlICYmIHVuc3Vic2NyaWJlKSkpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcblxuICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgb3B0aW9uc1twcm9wXSA9IHJlc3BvbnNlW3Byb3BdO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IG9uRG93bmxvYWRQcm9ncmVzcyAmJiBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICApIHx8IFtdO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgZmx1c2ggJiYgZmx1c2goKTtcbiAgICAgICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscy5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgaGVhZGVyczogQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyksXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIGlmIChlcnIgJiYgZXJyLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIC9mZXRjaC9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICB9XG59KTtcblxuXG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgaHR0cEFkYXB0ZXIgZnJvbSAnLi9odHRwLmpzJztcbmltcG9ydCB4aHJBZGFwdGVyIGZyb20gJy4veGhyLmpzJztcbmltcG9ydCBmZXRjaEFkYXB0ZXIgZnJvbSAnLi9mZXRjaC5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXIsXG4gIGZldGNoOiBmZXRjaEFkYXB0ZXJcbn1cblxudXRpbHMuZm9yRWFjaChrbm93bkFkYXB0ZXJzLCAoZm4sIHZhbHVlKSA9PiB7XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywge3ZhbHVlfSk7XG4gIH1cbn0pO1xuXG5jb25zdCByZW5kZXJSZWFzb24gPSAocmVhc29uKSA9PiBgLSAke3JlYXNvbn1gO1xuXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBVbmtub3duIGFkYXB0ZXIgJyR7aWR9J2ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZWplY3RlZFJlYXNvbnNbaWQgfHwgJyMnICsgaV0gPSBhZGFwdGVyO1xuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuXG4gICAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgICAgKHN0YXRlID09PSBmYWxzZSA/ICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCcgOiAnaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQnKVxuICAgICAgICApO1xuXG4gICAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAgIChyZWFzb25zLmxlbmd0aCA+IDEgPyAnc2luY2UgOlxcbicgKyByZWFzb25zLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oJ1xcbicpIDogJyAnICsgcmVuZGVyUmVhc29uKHJlYXNvbnNbMF0pKSA6XG4gICAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHRyYW5zZm9ybURhdGEgZnJvbSAnLi90cmFuc2Zvcm1EYXRhLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuLi9hZGFwdGVycy9hZGFwdGVycy5qc1wiO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29uZmlnLmhlYWRlcnMpO1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgY29uZmlnLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgaWYgKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXS5pbmRleE9mKGNvbmZpZy5tZXRob2QpICE9PSAtMSkge1xuICAgIGNvbmZpZy5oZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBhZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcihjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyKTtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZWFzb24ucmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufVxuIiwKICAgICJleHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMS44LjNcIjsiLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzW3R5cGVdID0gZnVuY3Rpb24gdmFsaWRhdG9yKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gdHlwZSB8fCAnYScgKyAoaSA8IDEgPyAnbiAnIDogJyAnKSArIHR5cGU7XG4gIH07XG59KTtcblxuY29uc3QgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW4/fSB2YWxpZGF0b3IgLSBzZXQgdG8gZmFsc2UgaWYgdGhlIHRyYW5zaXRpb25hbCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZFxuICogQHBhcmFtIHtzdHJpbmc/fSB2ZXJzaW9uIC0gZGVwcmVjYXRlZCB2ZXJzaW9uIC8gcmVtb3ZlZCBzaW5jZSB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz99IG1lc3NhZ2UgLSBzb21lIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIGluZm9cbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxudmFsaWRhdG9ycy5zcGVsbGluZyA9IGZ1bmN0aW9uIHNwZWxsaW5nKGNvcnJlY3RTcGVsbGluZykge1xuICByZXR1cm4gKHZhbHVlLCBvcHQpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybihgJHtvcHR9IGlzIGxpa2VseSBhIG1pc3NwZWxsaW5nIG9mICR7Y29ycmVjdFNwZWxsaW5nfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yc1xufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSAnLi4vaGVscGVycy9idWlsZFVSTC5qcyc7XG5pbXBvcnQgSW50ZXJjZXB0b3JNYW5hZ2VyIGZyb20gJy4vSW50ZXJjZXB0b3JNYW5hZ2VyLmpzJztcbmltcG9ydCBkaXNwYXRjaFJlcXVlc3QgZnJvbSAnLi9kaXNwYXRjaFJlcXVlc3QuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vaGVscGVycy92YWxpZGF0b3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuL0F4aW9zSGVhZGVycy5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGxldCBkdW1teSA9IHt9O1xuXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZHVtbXkpIDogKGR1bW15ID0gbmV3IEVycm9yKCkpO1xuXG4gICAgICAgIC8vIHNsaWNlIG9mZiB0aGUgRXJyb3I6IC4uLiBsaW5lXG4gICAgICAgIGNvbnN0IHN0YWNrID0gZHVtbXkuc3RhY2sgPyBkdW1teS5zdGFjay5yZXBsYWNlKC9eLitcXG4vLCAnJykgOiAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWVyci5zdGFjaykge1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgICAvLyBtYXRjaCB3aXRob3V0IHRoZSAyIHRvcCBzdGFjayBsaW5lc1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2sgJiYgIVN0cmluZyhlcnIuc3RhY2spLmVuZHNXaXRoKHN0YWNrLnJlcGxhY2UoL14uK1xcbi4rXFxuLywgJycpKSkge1xuICAgICAgICAgICAgZXJyLnN0YWNrICs9ICdcXG4nICsgc3RhY2tcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdGhlIGNhc2Ugd2hlcmUgXCJzdGFja1wiIGlzIGFuIHVuLXdyaXRhYmxlIHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIF9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gICAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgIGNvbmZpZy51cmwgPSBjb25maWdPclVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnID0gY29uZmlnT3JVcmwgfHwge307XG4gICAgfVxuXG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGNvbnN0IHt0cmFuc2l0aW9uYWwsIHBhcmFtc1NlcmlhbGl6ZXIsIGhlYWRlcnN9ID0gY29uZmlnO1xuXG4gICAgaWYgKHRyYW5zaXRpb25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGZvcmNlZEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIgIT0gbnVsbCkge1xuICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ocGFyYW1zU2VyaWFsaXplcikpIHtcbiAgICAgICAgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIgPSB7XG4gICAgICAgICAgc2VyaWFsaXplOiBwYXJhbXNTZXJpYWxpemVyXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHBhcmFtc1NlcmlhbGl6ZXIsIHtcbiAgICAgICAgICBlbmNvZGU6IHZhbGlkYXRvcnMuZnVuY3Rpb24sXG4gICAgICAgICAgc2VyaWFsaXplOiB2YWxpZGF0b3JzLmZ1bmN0aW9uXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHNcbiAgICBpZiAoY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMuYWxsb3dBYnNvbHV0ZVVybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzID0gdGhpcy5kZWZhdWx0cy5hbGxvd0Fic29sdXRlVXJscztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhjb25maWcsIHtcbiAgICAgIGJhc2VVcmw6IHZhbGlkYXRvcnMuc3BlbGxpbmcoJ2Jhc2VVUkwnKSxcbiAgICAgIHdpdGhYc3JmVG9rZW46IHZhbGlkYXRvcnMuc3BlbGxpbmcoJ3dpdGhYU1JGVG9rZW4nKVxuICAgIH0sIHRydWUpO1xuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBsZXQgY29udGV4dEhlYWRlcnMgPSBoZWFkZXJzICYmIHV0aWxzLm1lcmdlKFxuICAgICAgaGVhZGVycy5jb21tb24sXG4gICAgICBoZWFkZXJzW2NvbmZpZy5tZXRob2RdXG4gICAgKTtcblxuICAgIGhlYWRlcnMgJiYgdXRpbHMuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5jb25jYXQoY29udGV4dEhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgbGV0IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuO1xuXG4gICAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICAgIGNvbnN0IGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdC5iaW5kKHRoaXMpLCB1bmRlZmluZWRdO1xuICAgICAgY2hhaW4udW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaC5hcHBseShjaGFpbiwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsLCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4vQ2FuY2VsZWRFcnJvci5qcyc7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge0NhbmNlbFRva2VufVxuICovXG5jbGFzcyBDYW5jZWxUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcblxuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuKGNhbmNlbCA9PiB7XG4gICAgICBpZiAoIXRva2VuLl9saXN0ZW5lcnMpIHJldHVybjtcblxuICAgICAgbGV0IGkgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgdG9rZW4uX2xpc3RlbmVyc1tpXShjYW5jZWwpO1xuICAgICAgfVxuICAgICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuID0gb25mdWxmaWxsZWQgPT4ge1xuICAgICAgbGV0IF9yZXNvbHZlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHJlc29sdmUpO1xuICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgICAgcHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgIHRva2VuLnVuc3Vic2NyaWJlKF9yZXNvbHZlKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gICAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCk7XG4gICAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICAgKi9cbiAgdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIHRocm93IHRoaXMucmVhc29uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICBsaXN0ZW5lcih0aGlzLnJlYXNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycykge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbbGlzdGVuZXJdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHVuc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgdG9BYm9ydFNpZ25hbCgpIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgY29uc3QgYWJvcnQgPSAoZXJyKSA9PiB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KGVycik7XG4gICAgfTtcblxuICAgIHRoaXMuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIGNvbnRyb2xsZXIuc2lnbmFsLnVuc3Vic2NyaWJlID0gKCkgPT4gdGhpcy51bnN1YnNjcmliZShhYm9ydCk7XG5cbiAgICByZXR1cm4gY29udHJvbGxlci5zaWduYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICAgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICAgKi9cbiAgc3RhdGljIHNvdXJjZSgpIHtcbiAgICBsZXQgY2FuY2VsO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICAgIGNhbmNlbCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2FuY2VsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxUb2tlbjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXhpb3NFcnJvcihwYXlsb2FkKSB7XG4gIHJldHVybiB1dGlscy5pc09iamVjdChwYXlsb2FkKSAmJiAocGF5bG9hZC5pc0F4aW9zRXJyb3IgPT09IHRydWUpO1xufVxuIiwKICAgICJjb25zdCBIdHRwU3RhdHVzQ29kZSA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgU3dpdGNoaW5nUHJvdG9jb2xzOiAxMDEsXG4gIFByb2Nlc3Npbmc6IDEwMixcbiAgRWFybHlIaW50czogMTAzLFxuICBPazogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjogMjAzLFxuICBOb0NvbnRlbnQ6IDIwNCxcbiAgUmVzZXRDb250ZW50OiAyMDUsXG4gIFBhcnRpYWxDb250ZW50OiAyMDYsXG4gIE11bHRpU3RhdHVzOiAyMDcsXG4gIEFscmVhZHlSZXBvcnRlZDogMjA4LFxuICBJbVVzZWQ6IDIyNixcbiAgTXVsdGlwbGVDaG9pY2VzOiAzMDAsXG4gIE1vdmVkUGVybWFuZW50bHk6IDMwMSxcbiAgRm91bmQ6IDMwMixcbiAgU2VlT3RoZXI6IDMwMyxcbiAgTm90TW9kaWZpZWQ6IDMwNCxcbiAgVXNlUHJveHk6IDMwNSxcbiAgVW51c2VkOiAzMDYsXG4gIFRlbXBvcmFyeVJlZGlyZWN0OiAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0OiAzMDgsXG4gIEJhZFJlcXVlc3Q6IDQwMCxcbiAgVW5hdXRob3JpemVkOiA0MDEsXG4gIFBheW1lbnRSZXF1aXJlZDogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgTm90Rm91bmQ6IDQwNCxcbiAgTWV0aG9kTm90QWxsb3dlZDogNDA1LFxuICBOb3RBY2NlcHRhYmxlOiA0MDYsXG4gIFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDogNDA3LFxuICBSZXF1ZXN0VGltZW91dDogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIExlbmd0aFJlcXVpcmVkOiA0MTEsXG4gIFByZWNvbmRpdGlvbkZhaWxlZDogNDEyLFxuICBQYXlsb2FkVG9vTGFyZ2U6IDQxMyxcbiAgVXJpVG9vTG9uZzogNDE0LFxuICBVbnN1cHBvcnRlZE1lZGlhVHlwZTogNDE1LFxuICBSYW5nZU5vdFNhdGlzZmlhYmxlOiA0MTYsXG4gIEV4cGVjdGF0aW9uRmFpbGVkOiA0MTcsXG4gIEltQVRlYXBvdDogNDE4LFxuICBNaXNkaXJlY3RlZFJlcXVlc3Q6IDQyMSxcbiAgVW5wcm9jZXNzYWJsZUVudGl0eTogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgRmFpbGVkRGVwZW5kZW5jeTogNDI0LFxuICBUb29FYXJseTogNDI1LFxuICBVcGdyYWRlUmVxdWlyZWQ6IDQyNixcbiAgUHJlY29uZGl0aW9uUmVxdWlyZWQ6IDQyOCxcbiAgVG9vTWFueVJlcXVlc3RzOiA0MjksXG4gIFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTogNDMxLFxuICBVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczogNDUxLFxuICBJbnRlcm5hbFNlcnZlckVycm9yOiA1MDAsXG4gIE5vdEltcGxlbWVudGVkOiA1MDEsXG4gIEJhZEdhdGV3YXk6IDUwMixcbiAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gIEdhdGV3YXlUaW1lb3V0OiA1MDQsXG4gIEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOiA1MDUsXG4gIFZhcmlhbnRBbHNvTmVnb3RpYXRlczogNTA2LFxuICBJbnN1ZmZpY2llbnRTdG9yYWdlOiA1MDcsXG4gIExvb3BEZXRlY3RlZDogNTA4LFxuICBOb3RFeHRlbmRlZDogNTEwLFxuICBOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDogNTExLFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSHR0cFN0YXR1c0NvZGU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJy4vY29yZS9BeGlvcy5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9jb3JlL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsVG9rZW4gZnJvbSAnLi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgc3ByZWFkIGZyb20gJy4vaGVscGVycy9zcHJlYWQuanMnO1xuaW1wb3J0IGlzQXhpb3NFcnJvciBmcm9tICcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBhZGFwdGVycyBmcm9tICcuL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzJztcbmltcG9ydCBIdHRwU3RhdHVzQ29kZSBmcm9tICcuL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbjtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnM7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbi8vIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGhhdmUgYSBkZWZhdWx0IGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgYXhpb3NcbiIsCiAgICAiaW1wb3J0IHtcbiAgICBkZWZhdWx0IGFzIEF4aW9zXG59IGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgdHlwZSBTZXJ2ZXI8XG4gICAgVDEgZXh0ZW5kcyBTZXJ2ZXIuRW5kcG9pbnRzLCBcbiAgICBUMiBleHRlbmRzIFNlcnZlci5SZWNlaXZlckVuZHBvaW50c1xuICAgID4gPSB7XG4gICAgcXVlcnk8VDMgZXh0ZW5kcyBrZXlvZiBUMT4odXJsOiBUMyk6IFByb21pc2U8VDFbVDNdPjtcbiAgICB0b3VjaDxUMyBleHRlbmRzIGtleW9mIFQyPih1cmw6IFQzLCBkYXRhOiBUMltUM11bMF0pOiBQcm9taXNlPFQyW1QzXVsxXT47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU2VydmVyPFxuICAgIFQxIGV4dGVuZHMgU2VydmVyLkVuZHBvaW50cyxcbiAgICBUMiBleHRlbmRzIFNlcnZlci5SZWNlaXZlckVuZHBvaW50c1xuICAgID4oKTogU2VydmVyPFQxLCBUMj4ge1xuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xuICAgICAgICByZXR1cm4ge3F1ZXJ5LCB0b3VjaH07XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5PFQzIGV4dGVuZHMga2V5b2YgVDE+KHVybDogVDMpOiBQcm9taXNlPFQxW1QzXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IEF4aW9zLmdldCgodXJsIGFzIHN0cmluZykpKS5kYXRhO1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBmdW5jdGlvbiB0b3VjaDxUMyBleHRlbmRzIGtleW9mIFQyPih1cmw6IFQzLCBkYXRhOiBUMltUM11bMF0pOiBQcm9taXNlPFQyW1QzXVsxXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IEF4aW9zLnBvc3QoKHVybCBhcyBzdHJpbmcpLCBkYXRhKSkuZGF0YTtcbiAgICB9ICAgXG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2VydmVyIHtcbiAgICAvKipcbiAgICAgKiAqKip3aGVyZSoqKlxuICAgICAqICogICAgIFQxIDogdXJsXG4gICAgICogKiAgICAgVDIgOiByZXNwb25zZVxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIEVuZHBvaW50czxUMSBleHRlbmRzIHN0cmluZz1zdHJpbmcsIFQyPXVua25vd24+ID0gUmVjb3JkPFQxLCBUMj47XG5cbiAgICAvKipcbiAgICAgKiAqKip3aGVyZSoqKlxuICAgICAqICogICAgIFQxIDogdXJsXG4gICAgICogKiAgICAgVDIgOiByZXF1ZXN0XG4gICAgICogKiAgICAgVDMgOiByZXNwb25zZVxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFJlY2VpdmVyRW5kcG9pbnRzPFxuICAgICAgICBUMSBleHRlbmRzIHN0cmluZz1zdHJpbmcsXG4gICAgICAgIFQyPXVua25vd24sXG4gICAgICAgIFQzPXVua25vd25cbiAgICAgICAgPiA9IFJlY29yZDxUMSwgW1QyLCBUM10+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgT3JkZXJEYXRhLFxuICAgIFNlcnZlclxufSBmcm9tIFwiQGNvbW1vblwiO1xuXG5leHBvcnQgY29uc3QgQnJpZGdlID0gU2VydmVyPHt9LCB7XG4gICAgXCIvdXNlcm5hbWVfaXNfYXZhaWxhYmxlXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmdcbiAgICB9LCB7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICB9XSxcbiAgICBcIi9wcm9kdWN0X2lzX2luX3N0b2NrXCI6IFtcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBib29sZWFuXG4gICAgXSxcbiAgICBcIi9oYXNfcHJvZHVjdFwiOiBbXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZywgXG4gICAgICAgIGJvb2xlYW5cbiAgICBdLFxuICAgIFwiL21hdGVyaWFsc1wiOiBbXG4gICAgICAgIG51bGwsIFxuICAgICAgICBBcnJheTxzdHJpbmc+XG4gICAgXSxcbiAgICBcIi9wcm9kdWN0c19ieV9rZXlcIjogW1xuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHJlc3BvbnNlOiBBcnJheTxQcm9kdWN0RGF0YT5cbiAgICBdLFxuICAgIFwiL3Byb2R1Y3RzXCI6IFtcbiAgICAgICAgbnVsbCwgXG4gICAgICAgIHJlc3BvbnNlOiBBcnJheTxQcm9kdWN0RGF0YT5cbiAgICBdLFxuICAgIFwiL3NpZ25fdXBcIjogW3tcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgZW1haWw6IHN0cmluZ1xuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9zaWduX2luXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgICAgIHBhc3N3b3JkOiBzdHJpbmdcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvbGlzdFwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3Q6IFByb2R1Y3REYXRhXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdXG4gICAgXCIvZGVsaXN0XCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdXG4gICAgXCIvc2V0X3N0b2NrXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvaW5jcmVhc2Vfc3RvY2tcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9kZWNyZWFzZV9zdG9ja1wiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL3NldF9wcmljZVwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2luY3JlYXNlX3ByaWNlXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvZGVjcmVhc2VfcHJpY2VcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9jaGVja291dFwiOiBbe1xuICAgICAgICBvcmRlcnM6IEFycmF5PE9yZGVyRGF0YT5cbiAgICB9LCB7XG4gICAgICAgIHVybDogc3RyaW5nLFxuICAgICAgICBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbFxuICAgIH1dXG59PigpO1xuXG5leHBvcnQgbmFtZXNwYWNlIEJyaWRnZSB7XG4gICAgZXhwb3J0IHR5cGUgRXJyID1cbiAgICAgICAgfCBcIkJSSURHRS5FUlJfSU5WQUxJRF9SRVFVRVNUXCJcbiAgICAgICAgfCBcIkJSSURHRS5FUlJfVVNFUk5BTUVfTk9UX0FWQUlMQUJMRVwiO1xufSIsCiAgICAiZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmU8VDEgZXh0ZW5kcyBzdHJpbmc+KGNvbmRpdGlvbjogYm9vbGVhbiwgY29kZTogVDEpOiBhc3NlcnRzIGNvbmRpdGlvbiBpcyB0cnVlIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3cgY29kZTtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcbiAgICBTSEFET1csXG4gICAgdXNlU3ByaW5ncyxcbiAgICB1c2VTdGF0ZSxcbiAgICB1c2VFZmZlY3QsXG4gICAgYW5pbWF0ZWRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgSW1hZ2VDYXJvdXNlbFByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHVybHM6IEFycmF5PHN0cmluZz47XG4gICAgbXNJbnRlcnZhbFNsZWVwPzogbnVtYmVyO1xuICAgIGFuaW1hdGlvbj86IFNwcmluZ0NvbmZpZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJbWFnZUNhcm91c2VsKHtcbiAgICB1cmxzLFxuICAgIG1zSW50ZXJ2YWxTbGVlcD0xMDAwMCxcbiAgICBhbmltYXRpb249e1xuICAgICAgICBkdXJhdGlvbjogMTAwMDBcbiAgICB9LFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IEltYWdlQ2Fyb3VzZWxQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IGtleTogU3RhdGU8bnVtYmVyPiA9IHVzZVN0YXRlKDApO1xuICAgIGxldCBzcHJpbmdzID0gdXNlU3ByaW5ncyh1cmxzLmxlbmd0aCwgdXJscy5tYXAoKF8sIHVybEtleSkgPT4gKHtcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgkezEwMCAqICh1cmxLZXkgLSBrZXlbMF0pfSUpYCxcbiAgICAgICAgY29uZmlnOiBhbmltYXRpb25cbiAgICB9KSkpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbGV0IHRpbWVyOiBUaW1lciA9IHNldEludGVydmFsKCgpID0+IGtleVsxXShsYXN0ID0+IChsYXN0ICsgMSkgJSB1cmxzLmxlbmd0aCksIG1zSW50ZXJ2YWxTbGVlcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDEwLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtzcHJpbmdzLm1hcCgoc3ByaW5nLCBzcHJpbmdLZXkpID0+IDw+XG4gICAgICAgICAgICAgICAgPGFuaW1hdGVkLmRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e3NwcmluZ0tleX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNwcmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3VybHNbc3ByaW5nS2V5XX0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcImNvdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWTogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZXBlYXQ6IFwibm8tcmVwZWF0XCJcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IFwiMlwiLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDFcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcclxuICAgIHR5cGUgU3ByaW5nQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcclxuICAgIHVzZVNwcmluZyxcclxuICAgIHVzZUVmZmVjdCxcclxuICAgIGFuaW1hdGVkXHJcbn0gZnJvbSBcIkB3ZWJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFJldmVhbFByb3BzID0gXHJcbiAgICAmIFNwcmluZ0NvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxyXG4gICAgJiB7XHJcbiAgICBtc0RlbGF5PzogbnVtYmVyLFxyXG4gICAgYW5pbWF0aW9uPzogU3ByaW5nQ29uZmlnXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmV2ZWFsKHtcclxuICAgIG1zRGVsYXk9MCxcclxuICAgIGFuaW1hdGlvbj17XHJcbiAgICAgICAgZHVyYXRpb246IDE1MDAwXHJcbiAgICB9LFxyXG4gICAgc3R5bGUsXHJcbiAgICBjaGlsZHJlbixcclxuICAgIC4uLm1vcmVcclxufTogUmV2ZWFsUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgbGV0IGluaXRPcGFjaXR5OiBzdHJpbmcgPSBcIjBcIjtcclxuICAgIGxldCBuZXh0T3BhY2l0eTogc3RyaW5nID0gXCIxXCI7XHJcbiAgICBsZXQgc3ByaW5nID0gdXNlU3ByaW5nKCgpID0+ICh7XHJcbiAgICAgICAgb3BhY2l0eTogaW5pdE9wYWNpdHksXHJcbiAgICAgICAgZGVsYXk6IG1zRGVsYXlcclxuICAgIH0pKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IG5leHRPcGFjaXR5LFxyXG4gICAgICAgICAgICBjb25maWc6IGFuaW1hdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICB7LyoqIEB0cy1pZ25vcmUgKi99XHJcbiAgICAgICAgPGFuaW1hdGVkLmRpdlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICAuLi5zcHJpbmdbMF1cclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICB7Y2hpbGRyZW59XHJcbiAgICAgICAgPC9hbmltYXRlZC5kaXY+XHJcbiAgICA8Lz47XHJcbn0iLAogICAgImV4cG9ydCB0eXBlIENvbG9yID0gW1xuICAgIHN0cmluZywgIC8vIGRrXG4gICAgc3RyaW5nLCAgLy8gbHRcbiAgICBzdHJpbmcgICAvLyBhY2NlbnRcbl07XG5cbmV4cG9ydCBjb25zdCBDb2xvcjogQ29sb3IgPSBbXG4gICAgXCIjMEMwNTI3XCIsXG4gICAgXCIjRkFGNkY2XCIsXG4gICAgXCIjRjFENTUwXCJcbl07IiwKICAgICJleHBvcnQgdHlwZSBGb250ID0gW1xuICAgIHN0cmluZywgIC8vIDBcbiAgICBzdHJpbmcsICAvLyAxXG4gICAgc3RyaW5nICAgLy8gbW9ub3NwYWNlXG5dO1xuXG5leHBvcnQgY29uc3QgRm9udDogRm9udCA9IFtcbiAgICBcIktvbmtobWVyIFNsZW9rY2hoZXJcIixcbiAgICBcIkNvcmUgU2FucyBBXCIsXG4gICAgXCJNYXJpYVwiXG5dOyIsCiAgICAiZXhwb3J0IGNvbnN0IFNIQURPVzogc3RyaW5nID0gXCJyZ2JhKDAsIDAsIDAsIDAuMDUpIDBweCAwcHggMHB4IDFweFwiOyIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBTSEFET1csXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtQnV0dG9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiYnV0dG9uXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1CdXR0b24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IEZvcm1CdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXSxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiA1LFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtSW5wdXRQcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImlucHV0XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1JbnB1dCh7c3R5bGUsIC4uLm1vcmV9OiBGb3JtSW5wdXRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBhbGw6IFwidW5zZXRcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSAgIFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIEZvcm1NZXNzYWdlUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1NZXNzYWdlKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtTWVzc2FnZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIFNIQURPVyxcbiAgICBGb250LFxuICAgIENvbG9yLFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjAsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcclxuICAgIHR5cGUgUGFnZVByb3BzLFxyXG4gICAgUGFnZVxyXG59IGZyb20gXCJAd2ViXCI7XHJcblxyXG5leHBvcnQgdHlwZSBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyA9XHJcbiAgICAmIFBhZ2VQcm9wc1xyXG4gICAgJiB7XHJcbiAgICBzZWN0aW9uczogW1xyXG4gICAgICAgIFJlYWN0Tm9kZSxcclxuICAgICAgICBSZWFjdE5vZGVcclxuICAgIF1cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnMoe3NlY3Rpb25zLCAuLi5tb3JlfTogUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFBhZ2VcclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIlxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzBdfTwvX1NlY3Rpb24+XHJcbiAgICAgICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzFdfTwvX1NlY3Rpb24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvUGFnZT5cclxuICAgIDwvPjtcclxufVxyXG5cclxuXHJcbnR5cGUgX1NlY3Rpb25Qcm9wcyA9XHJcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxyXG4gICAgJiB7fTtcclxuXHJcbmZ1bmN0aW9uIF9TZWN0aW9uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBfU2VjdGlvblByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHsuLi5tb3JlfT5cclxuICAgICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUGFnZVByb3BzLFxuICAgIFBhZ2UsXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNQcm9wcyA9IFxuICAgICYgUGFnZVByb3BzXG4gICAgJiB7XG4gICAgc2VjdGlvbnM6IFtcbiAgICAgICAgUmVhY3ROb2RlLFxuICAgICAgICBSZWFjdE5vZGUsXG4gICAgICAgIFJlYWN0Tm9kZVxuICAgIF07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUGFnZVdpdGgzVmVydGljYWxTZWN0aW9ucyh7c2VjdGlvbnMsIC4uLm1vcmV9OiBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMpIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFBhZ2UgXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzBdfTwvX1NlY3Rpb24+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzFdfTwvX1NlY3Rpb24+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzJdfTwvX1NlY3Rpb24+XG4gICAgICAgIDwvUGFnZT5cbiAgICA8Lz47XG59XG5cblxudHlwZSBfU2VjdGlvblByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBjaGlsZHJlbjogUmVhY3ROb2RlO1xufTtcblxuZnVuY3Rpb24gX1NlY3Rpb24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IF9TZWN0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2VQcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgbmF2YmFyPzogUmVhY3ROb2RlO1xuICAgIGZvb3Rlcj86IFJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlKHtcbiAgICBuYXZiYXIsXG4gICAgZm9vdGVyLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IFBhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwdndcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMDI0LFxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogMTQ0MCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogNjQsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNjRcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICB7bmF2YmFyfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtmb290ZXJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+ICAgICBcbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkJ1dHRvbkdyb3VwUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkJ1dHRvbkdyb3VwKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBOYXZCdXR0b25Hcm91cFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIENTU1Byb3BlcnRpZXMsXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXG4gICAgRm9udCxcbiAgICBDb2xvcixcbiAgICB1c2VTcHJpbmcsXG4gICAgYW5pbWF0ZWRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2QnV0dG9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgaWNvbj86IHN0cmluZyxcbiAgICBpY29uU3R5bGU/OiBDU1NQcm9wZXJ0aWVzLFxuICAgIGNoaWxkU3R5bGU/OiBDU1NQcm9wZXJ0aWVzLFxuICAgIGFuaW1hdGlvbj86IFNwcmluZ0NvbmZpZyxcbiAgICBmb250U2l6ZU9uTW91c2VFbnRlcj86IHN0cmluZyxcbiAgICBmb250U2l6ZU9uTW91c2VMZWF2ZT86IHN0cmluZ1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkJ1dHRvbih7XG4gICAgaWNvbixcbiAgICBpY29uU3R5bGUsXG4gICAgY2hpbGRTdHlsZSxcbiAgICBhbmltYXRpb24sXG4gICAgZm9udFNpemVPbk1vdXNlRW50ZXI9XCIwLjZlbVwiLFxuICAgIGZvbnRTaXplT25Nb3VzZUxlYXZlPVwiMC43ZW1cIixcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBOYXZCdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHNwcmluZyA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgICAgICBmb250U2l6ZTogZm9udFNpemVPbk1vdXNlTGVhdmVcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCI4cHhcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb25MaW5lOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtpY29uID8gPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtpY29ufSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb250YWluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMSAvIDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmljb25TdHlsZVxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8Lz4gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICB7Y2hpbGRyZW4gPyA8PlxuICAgICAgICAgICAgICAgIHsvKiogQHRzLWlnbm9yZSAqL31cbiAgICAgICAgICAgICAgICA8YW5pbWF0ZWQuZGl2XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaW5nWzFdLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogZm9udFNpemVPbk1vdXNlRW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUxlYXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3ByaW5nWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2hpbGRTdHlsZVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvYW5pbWF0ZWQuZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlSWNvblByb3BzLFxuICAgIEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTixcbiAgICBTcHJpdGVJY29uXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb25Qcm9wcyA9XG4gICAgJiBPbWl0PFNwcml0ZUljb25Qcm9wcywgXCJjaGlsZHJlblwiIHwgXCJ1cmxcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvbih7c3R5bGUsIC4uLm1vcmV9OiBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8U3ByaXRlSWNvblxuICAgICAgICAgICAgdXJsPXtCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT059XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjI1cHhcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uLFxuICAgIE5hdkJ1dHRvbixcbiAgICBMaW5rLFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkNhbGxUb0FjdGlvbkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2Q2FsbFRvQWN0aW9uQnV0dG9uKHt0bywgc3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogTmF2Q2FsbFRvQWN0aW9uQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICA8TmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvblxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgdG89e3RvfT5cbiAgICAgICAgICAgICAgICA8TmF2QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkU3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlUHJvcHMsXG4gICAgTE9HTyxcbiAgICBTcHJpdGUsXG4gICAgTGlua1xufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZMb2dvUHJvcHMgPVxuICAgICYgT21pdDxTcHJpdGVQcm9wcywgXCJjaGlsZHJlblwiIHwgXCJ1cmxcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2TG9nbyh7c3R5bGUsIC4uLm1vcmV9OiBOYXZMb2dvUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8TGlua1xuICAgICAgICAgICAgdG89XCIvXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJjb250ZW50c1wiXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxTcHJpdGVcbiAgICAgICAgICAgICAgICB1cmw9e0xPR099XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTUwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMiAvIDFcIixcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgICAgIDwvTGluaz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgU0hBRE9XLFxuICAgIExpbmssXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICB0b2dnbGVkOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uKHtcbiAgICBtYXRlcmlhbHMsXG4gICAgbWF0ZXJpYWxGb2N1cyxcbiAgICB0b2dnbGVkLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZWRbMV0odHJ1ZSl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dG9nZ2xlZFswXSA/IDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHRvZ2dsZWRbMV0oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjEyMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7bWF0ZXJpYWxzWzBdLm1hcChtYXRlcmlhbCA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz1cIi9zaG93X3Jvb21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1hdGVyaWFsRm9jdXNbMV0obWF0ZXJpYWwpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21hdGVyaWFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgTmF2UHJvcHMsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgTmF2LFxuICAgIHVzZVN0YXRlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlBhcnRpYWxCdWlsZFByb3BzID0gXG4gICAgJiBPbWl0PE5hdlByb3BzLFxuICAgICAgICB8IFwibWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkXCJcbiAgICAgICAgfCBcInNlYXJjaEJhclRvZ2dsZWRcIlxuICAgICAgICB8IFwic2VhcmNoQmFySW5wdXRcIlxuICAgICAgICA+XG4gICAgJiB7XG4gICAgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PixcbiAgICBtYXRlcmlhbEZvY3VzOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+LFxuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlBhcnRpYWxCdWlsZCh7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW5cbn06IE5hdlBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgICBsZXQgc2VhcmNoQmFyVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IHNlYXJjaEJhcklucHV0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8TmF2XG4gICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQ9e21hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZH1cbiAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgc2VhcmNoQmFyVG9nZ2xlZD17c2VhcmNoQmFyVG9nZ2xlZH1cbiAgICAgICAgICAgIHNlYXJjaEJhcklucHV0PXtzZWFyY2hCYXJJbnB1dH1cbiAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgTmF2U2VhcmNoQmFyUHJvcHMsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIE5hdlNlYXJjaEJhcixcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGRQcm9wcyA9XG4gICAgJiBPbWl0PE5hdlNlYXJjaEJhclByb3BzLCBcbiAgICAgICAgfCBcInByb2R1Y3RzXCJcbiAgICAgICAgfCBcInByb2R1Y3RGb2N1c1wiXG4gICAgICAgIHwgXCJ0b2dnbGVkXCJcbiAgICAgICAgfCBcImlucHV0XCJcbiAgICAgICAgfCBcInN1Z2dlc3Rpb25zXCI+XG4gICAgJiB7XG4gICAgcHJvZHVjdHM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj47XG4gICAgcHJvZHVjdEZvY3VzOiBTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZCh7XG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIC4uLm1vcmVcbn06IE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IGlucHV0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgICBsZXQgc3VnZ2VzdGlvbnM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj4gPSB1c2VTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+KFtdKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8TmF2U2VhcmNoQmFyXG4gICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgIHRvZ2dsZWQ9e3RvZ2dsZWR9XG4gICAgICAgICAgICBpbnB1dD17aW5wdXR9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucz17c3VnZ2VzdGlvbnN9XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIFNIQURPVyxcbiAgICBTRUFSQ0hfQkFSX0lDT04sXG4gICAgTmF2U3VnZ2VzdGlvbixcbiAgICBTcHJpdGVJY29uLFxuICAgIEZvbnQsXG4gICAgdXNlRWZmZWN0LFxuICAgIHNvcnRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2VhcmNoQmFyUHJvcHMgPVxuICAgICYgT21pdDxcbiAgICAgICAgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbiAgICB0b2dnbGVkOiBTdGF0ZTxib29sZWFuPjtcbiAgICBpbnB1dDogU3RhdGU8c3RyaW5nPjtcbiAgICBzdWdnZXN0aW9uczogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+Pjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTZWFyY2hCYXIoe1xuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICB0b2dnbGVkLFxuICAgIGlucHV0LFxuICAgIHN1Z2dlc3Rpb25zLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlNlYXJjaEJhclByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgaW5wdXRfOiBzdHJpbmcgPSBpbnB1dFswXTtcbiAgICAgICAgaWYgKGlucHV0Xy50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdWdnZXN0aW9uc186IEFycmF5PFByb2R1Y3REYXRhPiA9IHByb2R1Y3RzWzBdO1xuICAgICAgICBzdWdnZXN0aW9uc19cbiAgICAgICAgICAgIC5tYXAocHJvZHVjdCA9PiAoey4uLnByb2R1Y3QsIHNjb3JlOiBzb3J0KGlucHV0XywgcHJvZHVjdC5uYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpIHx8IFwiXCIpfSkpXG4gICAgICAgICAgICAuc29ydCgoeCwgeSkgPT4geC5zY29yZSAtIHkuc2NvcmUpXG4gICAgICAgICAgICAuc2xpY2UoMCwgMTApO1xuICAgICAgICBzdWdnZXN0aW9uc1sxXShzdWdnZXN0aW9uc18pO1xuICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfSwgW2lucHV0WzBdXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxTcHJpdGVJY29uXG4gICAgICAgICAgICAgICAgICAgIHVybD17U0VBUkNIX0JBUl9JQ09OfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTVweFwiXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0WzBdfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBpbnB1dFsxXShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGw6IFwidW5zZXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RvZ2dsZWRbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3VnZ2VzdGlvbnNbMF0ubWFwKHN1Z2dlc3Rpb24gPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZTdWdnZXN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89XCIvcHJvZHVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZD17c3VnZ2VzdGlvbn0vPlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBBc3luY0Nsb3N1cmUsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIEZvcm1Qcm9wcyxcbiAgICBGb3JtLFxuICAgIEZvcm1JbnB1dCxcbiAgICBGb3JtQnV0dG9uLFxuICAgIEZvcm1NZXNzYWdlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZyb21TaWduVXBBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZvcm1WYWxpZGF0ZUFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG5dLCBbXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCBudWxsXG5dPjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnbkluRm9ybVByb3BzID0gXG4gICAgJiBPbWl0PEZvcm1Qcm9wcywgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHVzZXJuYW1lOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHBhc3N3b3JkOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHJlc3BvbnNlOiBTdGF0ZTxzdHJpbmcgfCBudWxsPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPixcbiAgICBvblZhbGlkYXRpb246IE5hdlNpZ25JbkZvcm1WYWxpZGF0ZUFjdGlvbixcbiAgICBvblNpZ25JbjogTmF2U2lnbkluRnJvbVNpZ25VcEFjdGlvblxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNpZ25JbkZvcm0oe1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIHJlc3BvbnNlLFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgb25WYWxpZGF0aW9uLFxuICAgIG9uU2lnbkluLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25JbkZvcm1Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxGb3JtXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8Rm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlWzBdfVxuICAgICAgICAgICAgPC9Gb3JtTWVzc2FnZT5cbiAgICAgICAgICAgIDxGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWVbMF19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXNlcm5hbWVbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkWzBdfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHBhc3N3b3JkWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1CdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzOiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgW3N1Y2Nlc3MsIG1lc3NhZ2VdID0gKGF3YWl0IG9uVmFsaWRhdGlvbih1c2VybmFtZVswXSwgcGFzc3dvcmRbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsxXShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25TaWduSW4odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICA8L0Zvcm1CdXR0b24+XG4gICAgICAgIDwvRm9ybT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBBc3luY0Nsb3N1cmUsXG4gICAgdHlwZSBGb3JtUHJvcHMsXG4gICAgRm9ybSxcbiAgICBGb3JtSW5wdXQsXG4gICAgRm9ybUJ1dHRvbixcbiAgICBGb3JtTWVzc2FnZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtU2lnblVwQWN0aW9uID0gQXN5bmNDbG9zdXJlPFtcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgZW1haWw6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25VcEZvcm1WYWxpZGF0ZUFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtUHJvcHMgPVxuICAgICYgT21pdDxGb3JtUHJvcHMsIFwiY2hpbGRyZW5cIj5cbiAgICAmIHtcbiAgICB1c2VybmFtZTogU3RhdGU8c3RyaW5nPixcbiAgICBwYXNzd29yZDogU3RhdGU8c3RyaW5nPixcbiAgICBlbWFpbDogU3RhdGU8c3RyaW5nPixcbiAgICByZXNwb25zZTogU3RhdGU8c3RyaW5nIHwgbnVsbD4sXG4gICAgb25WYWxpZGF0aW9uOiBOYXZTaWduVXBGb3JtVmFsaWRhdGVBY3Rpb24sXG4gICAgb25TaWduVXA6IE5hdlNpZ25VcEZvcm1TaWduVXBBY3Rpb25cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduVXBGb3JtKHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICBlbWFpbCxcbiAgICByZXNwb25zZSxcbiAgICBvblZhbGlkYXRpb24sXG4gICAgb25TaWduVXAsXG4gICAgLi4ubW9yZVxufTogTmF2U2lnblVwRm9ybVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtyZXNwb25zZVswXSA/IDw+XG4gICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlPlxuICAgICAgICAgICAgICAgICAgICB7cmVzcG9uc2VbMF19XG4gICAgICAgICAgICAgICAgPC9Gb3JtTWVzc2FnZT5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIDxGb3JtSW5wdXQgXG4gICAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsWzBdfSBcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gZW1haWxbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUlucHV0IFxuICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZVswXX0gXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiIFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVzZXJuYW1lWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZFswXX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBwYXNzd29yZFsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtQnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblZhbGlkYXRpb24odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdLCBlbWFpbFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblNpZ25VcCh1c2VybmFtZVswXSwgcGFzc3dvcmRbMF0sIGVtYWlsWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIFVwXG4gICAgICAgICAgICA8L0Zvcm1CdXR0b24+XG4gICAgICAgIDwvRm9ybT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMsXG4gICAgTmF2U2lnbmVyRHJvcERvd25CdXR0b24sXG4gICAgTmF2U2lnblVwRm9ybSxcbiAgICBOYXZTaWduSW5Gb3JtLFxuICAgIEJyaWRnZSxcbiAgICB1c2VTdGF0ZSxcbiAgICByZXF1aXJlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUGFydGlhbEJ1aWxkUHJvcHMgPSBcbiAgICAmIE9taXQ8XG4gICAgICAgIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMsXG4gICAgICAgIHwgXCJ0b2dnbGVkXCJcbiAgICAgICAgfCBcInNpZ25VcFRvZ2dsZWRcIlxuICAgICAgICB8IFwic2lnbkluVG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzaWduVXBGb3JtXCJcbiAgICAgICAgfCBcInNpZ25JbkZvcm1cIlxuICAgICAgICA+XG4gICAgJiB7XG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZCh7XG4gICAgdXNlcixcbiAgICB1c2VySXNTaWduZWRJbixcbiAgICAuLi5tb3JlXG59OiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgbGV0IHNpZ25VcFRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGxldCBzaWduSW5Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBsZXQgdXNlcm5hbWU6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBsZXQgcGFzc3dvcmQ6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBsZXQgZW1haWw6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgcmVzcG9uc2U6IFN0YXRlPHN0cmluZyB8IG51bGw+ID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlNpZ25lckRyb3BEb3duQnV0dG9uXG4gICAgICAgICAgICB0b2dnbGVkPXt0b2dnbGVkfVxuICAgICAgICAgICAgc2lnblVwVG9nZ2xlZD17c2lnblVwVG9nZ2xlZH1cbiAgICAgICAgICAgIHNpZ25JblRvZ2dsZWQ9e3NpZ25JblRvZ2dsZWR9XG4gICAgICAgICAgICBzaWduVXBGb3JtPXs8PlxuICAgICAgICAgICAgICAgIDxOYXZTaWduVXBGb3JtXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlPXtyZXNwb25zZX1cbiAgICAgICAgICAgICAgICAgICAgb25WYWxpZGF0aW9uPXthc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBlbWFpbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUocGFzc3dvcmQudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShlbWFpbC50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGU6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBTdHJpbmcoZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvblNpZ25VcD17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3VzZXJuYW1lX2lzX2F2YWlsYWJsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbCA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2lnbl91cFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZXJyY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgc2lnbkluRm9ybT17PD5cbiAgICAgICAgICAgICAgICA8TmF2U2lnbkluRm9ybVxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U9e3Jlc3BvbnNlfVxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGlvbj17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUocGFzc3dvcmQudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgU3RyaW5nKGUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25TaWduSW49e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbCA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2lnbl9pblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBlcnJjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIE5hdkJ1dHRvblxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzID1cbiAgICAmIE9taXQ8Q29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnblVwVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnbkluVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnblVwRm9ybTogUmVhY3ROb2RlLFxuICAgIHNpZ25JbkZvcm06IFJlYWN0Tm9kZVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uKHtcbiAgICB0b2dnbGVkLFxuICAgIHNpZ25VcFRvZ2dsZWQsXG4gICAgc2lnbkluVG9nZ2xlZCxcbiAgICBzaWduVXBGb3JtLFxuICAgIHNpZ25JbkZvcm0sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2U2lnbmVyRHJvcERvd25CdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8TmF2QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzaWduSW5Ub2dnbGVkWzFdKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwVG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIFNpZ24gVXBcbiAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgPE5hdkJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwVG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIlxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIFNpZ24gSW5cbiAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAge3RvZ2dsZWRbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVkWzFdKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpZ25JblRvZ2dsZWRbMV0oZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnblVwVG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogXCItMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjE3NSVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MDBcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtzaWduSW5Ub2dnbGVkWzBdID8gc2lnbkluRm9ybSA6IHNpZ25VcFRvZ2dsZWRbMF0gPyBzaWduVXBGb3JtIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICBMaW5rLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U3VnZ2VzdGlvblByb3BzID1cbiAgICAmIE9taXQ8Q29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgcHJvZHVjdHM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj47XG4gICAgcHJvZHVjdEZvY3VzOiBTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+O1xuICAgIHN1Z2dlc3RlZDogUHJvZHVjdERhdGE7XG4gICAgdG86IHN0cmluZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTdWdnZXN0aW9uKHtcbiAgICBwcm9kdWN0cyxcbiAgICBwcm9kdWN0Rm9jdXMsXG4gICAgc3VnZ2VzdGVkLFxuICAgIHRvLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlN1Z2dlc3Rpb25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxMaW5rXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiY29udGVudHNcIlxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHRvPXt0b30+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZHVjdHMwOiBBcnJheTxQcm9kdWN0RGF0YT4gPSBwcm9kdWN0c1swXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3Q6IFByb2R1Y3REYXRhIHwgbnVsbCA9IHByb2R1Y3RzMFxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihwcm9kdWN0MCA9PiBwcm9kdWN0MC5uYW1lID09PSBzdWdnZXN0ZWQ/Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXQoMCkgfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1c1sxXShwcm9kdWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4LFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3VnZ2VzdGVkLm5hbWV9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV1cbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIMKje3N1Z2dlc3RlZC5wcmljZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvRml4ZWQoMilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3VnZ2VzdGVkLnN0b2NrLnRvRml4ZWQoMCl9IGxlZnRcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0xpbms+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICBOYXZMb2dvLFxuICAgIE5hdkJ1dHRvbixcbiAgICBOYXZCdXR0b25Hcm91cCxcbiAgICBOYXZDYWxsVG9BY3Rpb25CdXR0b24sXG4gICAgTmF2TWF0ZXJpYWxzRHJvcERvd25CdXR0b24sXG4gICAgTmF2U2VhcmNoQmFyUGFydGlhbEJ1aWxkLFxuICAgIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUGFydGlhbEJ1aWxkLFxuICAgIExpbmtcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2UHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PixcbiAgICBtYXRlcmlhbEZvY3VzOiBTdGF0ZTxzdHJpbmc+LFxuICAgIG1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgcHJvZHVjdHM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj4sXG4gICAgcHJvZHVjdEZvY3VzOiBTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+LFxuICAgIHNlYXJjaEJhclRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHNlYXJjaEJhcklucHV0OiBTdGF0ZTxzdHJpbmc+LFxuICAgIHVzZXI6IFN0YXRlPFVzZXJEYXRhIHwgbnVsbD4sXG4gICAgdXNlcklzU2lnbmVkSW46IFN0YXRlPGJvb2xlYW4+XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2KHtcbiAgICBtYXRlcmlhbHMsXG4gICAgbWF0ZXJpYWxGb2N1cyxcbiAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQsXG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHNlYXJjaEJhclRvZ2dsZWQsXG4gICAgc2VhcmNoQmFySW5wdXQsXG4gICAgdXNlcixcbiAgICB1c2VySXNTaWduZWRJbixcbiAgICBzdHlsZSxcbiAgICAuLi5tb3JlXG59OiBOYXZQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IDMwLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDMwLFxuICAgICAgICAgICAgICAgIGdhcDogNDAsXG4gICAgICAgICAgICAgICAgekluZGV4OiAyMDAwLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPE5hdkxvZ28vPlxuICAgICAgICAgICAgPE5hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgICAgIDxOYXZDYWxsVG9BY3Rpb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgdG89XCIvZm9yX3lvdVwiPlxuICAgICAgICAgICAgICAgICAgICBGb3IgWW91XG4gICAgICAgICAgICAgICAgPC9OYXZDYWxsVG9BY3Rpb25CdXR0b24+XG4gICAgICAgICAgICAgICAgPE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG1hdGVyaWFscz17bWF0ZXJpYWxzfVxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICB0b2dnbGVkPXttYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWR9Lz5cbiAgICAgICAgICAgIDwvTmF2QnV0dG9uR3JvdXA+XG4gICAgICAgICAgICA8TmF2U2VhcmNoQmFyUGFydGlhbEJ1aWxkXG4gICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfS8+XG4gICAgICAgICAgICA8TmF2QnV0dG9uR3JvdXA+XG4gICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgdG89XCIvYmFza2V0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxOYXZCdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICBCYXNrZXRcbiAgICAgICAgICAgICAgICAgICAgPC9OYXZCdXR0b24+XG4gICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgIDxOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICAgICAgICAgIDwvTmF2QnV0dG9uR3JvdXA+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XHJcbiAgICB0eXBlIFJlYWN0Tm9kZSxcclxuICAgIHR5cGUgUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMsXHJcbiAgICB0eXBlIE9yZGVyRGF0YSxcclxuICAgIHR5cGUgU3RhdGUsXHJcbiAgICBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnMsXHJcbiAgICBUYWJsZSxcclxuICAgIFRhYmxlSXRlbSxcclxuICAgIFRhYmxlU3ltYm9sQnV0dG9uLFxyXG4gICAgQ2hlY2tvdXRCdXR0b24sXHJcbiAgICBUeXBvZ3JhcGh5LFxyXG4gICAgdXNlU3RhdGUsXHJcbiAgICB1c2VFZmZlY3RcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgQmFza2V0UGFnZVByb3BzID1cclxuICAgICYgT21pdDxQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyxcclxuICAgICAgICB8IFwic2VjdGlvbnNcIlxyXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXHJcbiAgICAgICAgPlxyXG4gICAgJiB7XHJcbiAgICBvcmRlcnM6IFN0YXRlPEFycmF5PE9yZGVyRGF0YT4+XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQmFza2V0UGFnZSh7b3JkZXJzLCAuLi5tb3JlfTogQmFza2V0UGFnZVByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIGxldCBjb3N0OiBTdGF0ZTxudW1iZXI+ID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmIChvcmRlcnNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHN1bTogbnVtYmVyID0gMDtcclxuICAgICAgICBvcmRlcnNbMF0uZm9yRWFjaChvcmRlciA9PiBzdW0gKz0gKG9yZGVyLnByb2R1Y3QucHJpY2UgKiBvcmRlci5hbW91bnQpKTtcclxuICAgICAgICBjb3N0WzFdKHN1bSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSwgW29yZGVyc1swXV0pO1xyXG4gICAgXHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8UGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zXHJcbiAgICAgICAgICAgIHNlY3Rpb25zPXtbPD5cclxuICAgICAgICAgICAgICAgIDxUYWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA2MDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogODAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uPVwiQ2hlY2tvdXRcIlxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmdzPXtbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiUHJvZHVjdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlByaWNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQW1vdW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRWRpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgXX1cclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50cz17Wy4uLm9yZGVyc1swXS5tYXAob3JkZXIgPT4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmRlci5wcm9kdWN0Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyLnByb2R1Y3QucHJpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyLmFtb3VudCwgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlU3ltYm9sQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVN5bWJvbEJ1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVTeW1ib2xCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVN5bWJvbEJ1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVJdGVtPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICBdKV19Lz5cclxuICAgICAgICAgICAgPC8+LCA8PlxyXG4gICAgICAgICAgICAgICAgPFR5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICAgICAgVG90YWw6IMKje2Nvc3RbMF0udG9QcmVjaXNpb24oMyl9XHJcbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgICAgICA8Q2hlY2tvdXRCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICBvcmRlcnM9e29yZGVyc30vPlxyXG4gICAgICAgICAgICA8Lz5dfVxyXG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIFR5cG9ncmFwaHlQcm9wcyxcclxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxyXG4gICAgdHlwZSBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyxcclxuICAgIFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9ucyxcclxuICAgIEltYWdlQ2Fyb3VzZWwsXHJcbiAgICBUeXBvZ3JhcGh5LFxyXG4gICAgQ29sb3JcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRm9yWW91UGFnZVByb3BzID1cclxuICAgICYgT21pdDxQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyxcclxuICAgICAgICB8IFwic2VjdGlvbnNcIlxyXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXHJcbiAgICAgICAgPlxyXG4gICAgJiB7XHJcbiAgICBpbWFnZVVybHM6IEFycmF5PHN0cmluZz5cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBGb3JZb3VQYWdlKHtpbWFnZVVybHMsIC4uLm1vcmV9OiBGb3JZb3VQYWdlUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9uc1xyXG4gICAgICAgICAgICBzZWN0aW9ucz17Wzw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMTBweFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPF9IZWFkaW5nLz5cclxuICAgICAgICAgICAgICAgICAgICA8X0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIkNob29zZSBhIFN0eWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD1cIlNlbGVjdCB5b3VyIHByZWZlcnJlZCBhcmNoaXRlY3R1cmFsIG9yIGRlc2lnbiBzdHlsZSBmb3IgYSB0YWlsb3JlZCBsb29rLlwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8X0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIkluc3RhbnQgVmlzdWFsc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9XCJTZWUgcGhvdG9yZWFsaXN0aWMgcmVuZGVyaW5nIG9mIGhvdyBtYXRlcmlhbHMgY2FuIGJlIHVzZWQgaW4geW91ciBob21lLlwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8X0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIkNvbmZpZGVuY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiVmlzdWFsaXNlIHlvdXIgcHJvamVjdCBiZWZvcmUgcHVyY2hhc2luZy4uLiBibGVuZGluZyBjcmVhdGl2aXR5IHdpdGggc3VzdGFpbmFiaWxpdHkuXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPiwgPD5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDIwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MTUwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MjAwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MjUwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNjAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNjAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJscz17aW1hZ2VVcmxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNJbnRlcnZhbFNsZWVwPXszMDAwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fS8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC8+XX1cclxuICAgICAgICAgICAgey4uLm1vcmV9Lz5cclxuICAgIDwvPjtcclxufVxyXG5cclxudHlwZSBfSGVhZGluZ1Byb3BzID1cclxuICAgICYgT21pdDxUeXBvZ3JhcGh5UHJvcHMsXHJcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcclxuICAgICAgICA+XHJcbiAgICAmIHt9O1xyXG5cclxuZnVuY3Rpb24gX0hlYWRpbmcoe3N0eWxlLCAuLi5tb3JlfTogX0hlYWRpbmdQcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIzZW1cIixcclxuICAgICAgICAgICAgICAgIGdhcDogXCIyMHB4XCIsXHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICB7Li4ubW9yZX0+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXcmFwOiBcIm5vd3JhcFwiXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIENvbWluZyBTb29uLi4uXHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFdyYXA6IFwibm93cmFwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzJdXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIEZvciBZb3VcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59XHJcblxyXG5cclxudHlwZSBfQ2FyZFByb3BzID1cclxuICAgICYgT21pdDxDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj4sXHJcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcclxuICAgICAgICA+XHJcbiAgICAmIHtcclxuICAgIGhlYWRpbmc6IHN0cmluZyxcclxuICAgIGNvbnRlbnQ6IHN0cmluZ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX0NhcmQoe2hlYWRpbmcsIGNvbnRlbnQsIHN0eWxlLCAuLi5tb3JlfTogX0NhcmRQcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJzdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIHtoZWFkaW5nfVxyXG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIlxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgUGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnMsXG4gICAgSW1hZ2VDYXJvdXNlbCxcbiAgICBUeXBvZ3JhcGh5LFxuICAgIENvbG9yLFxuICAgIFJldmVhbFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBIb21lUGFnZUNhcmQgPSB7XG4gICAgaGVhZGluZzogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IEFycmF5PHN0cmluZz5cbn07XG5cbmV4cG9ydCB0eXBlIEhvbWVQYWdlUHJvcHMgPVxuICAgICYgT21pdDxQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMsXG4gICAgICAgIHwgXCJzZWN0aW9uc1wiPlxuICAgICYge1xuICAgIGltYWdlQ2Fyb3VzZWxVcmxzOiBBcnJheTxzdHJpbmc+LFxuICAgIGltYWdlQ2Fyb3VzZWxNc0ludGVydmFsU2xlZXA6IG51bWJlcixcbiAgICBpbWFnZUNhcm91c2VsQW5pbWF0aW9uOiBTcHJpbmdDb25maWcsXG4gICAgaGVhZGluZzogc3RyaW5nLFxuICAgIHN1YkhlYWRpbmdzOiBBcnJheTxzdHJpbmc+LFxuICAgIGNhcmRzPzogQXJyYXk8SG9tZVBhZ2VDYXJkPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIEhvbWVQYWdlKHtcbiAgICBpbWFnZUNhcm91c2VsVXJscyxcbiAgICBpbWFnZUNhcm91c2VsTXNJbnRlcnZhbFNsZWVwLFxuICAgIGltYWdlQ2Fyb3VzZWxBbmltYXRpb24sXG4gICAgaGVhZGluZyxcbiAgICBzdWJIZWFkaW5ncyxcbiAgICBjYXJkcz1bXSxcbiAgICAuLi5tb3JlXG59OiBIb21lUGFnZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNcbiAgICAgICAgICAgIHNlY3Rpb25zPXtbPD5cbiAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjEwcHhcIlxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICB1cmxzPXtpbWFnZUNhcm91c2VsVXJsc31cbiAgICAgICAgICAgICAgICAgICAgbXNJbnRlcnZhbFNsZWVwPXtpbWFnZUNhcm91c2VsTXNJbnRlcnZhbFNsZWVwfVxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e2ltYWdlQ2Fyb3VzZWxBbmltYXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8UmV2ZWFsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc0RlbGF5PXsxMDAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjllbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aGVhZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgPC9SZXZlYWw+XG4gICAgICAgICAgICAgICAgPC9JbWFnZUNhcm91c2VsPlxuICAgICAgICAgICAgPC8+LCA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMTBweFwiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3ViSGVhZGluZ3MubWFwKHN1YkhlYWRpbmcgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiNGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMzBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMzBweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YkhlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz4sIDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjYXJkcy5tYXAoY2FyZCA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjMwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBcIjIwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuaGVhZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuY29udGVudC5tYXAobGluZSA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IFwiNXB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xpbmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPl19XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XHJcbiAgICB0eXBlIFJlYWN0Tm9kZSxcclxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxyXG4gICAgdHlwZSBTdGF0ZSxcclxuICAgIHR5cGUgT3JkZXJEYXRhLFxyXG4gICAgdHlwZSBTdHJpcGVTb2NrZXQsXHJcbiAgICBTdHJpcGUsXHJcbiAgICBCcmlkZ2UsXHJcbiAgICBDb2xvcixcclxuICAgIHJlcXVpcmVcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxubGV0IF9zb2NrZXQ6IFByb21pc2U8U3RyaXBlU29ja2V0IHwgbnVsbD4gPSBTdHJpcGUoXCJwa190ZXN0XzUxUUtSQlUySzJyb0hnc1pESHM4Y2d1MjlmSXF6Umx2ekYxbm1WNW1QZFNIWmhlOTNiZ0VROUhxd29EVGRlcnpBN0RXd0RmRkRwaUpUTWZqcUh2Z2pJRFF4MDBiRjBxcVdVTFwiKTtcclxuXHJcbmV4cG9ydCB0eXBlIENoZWNrb3V0QnV0dG9uUHJvcHMgPVxyXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cclxuICAgICYge1xyXG4gICAgb3JkZXJzOiBTdGF0ZTxBcnJheTxPcmRlckRhdGE+PlxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENoZWNrb3V0QnV0dG9uKHtvcmRlcnN9OiBDaGVja291dEJ1dHRvblByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNvY2tldDogU3RyaXBlU29ja2V0IHwgbnVsbCA9IChhd2FpdCBfc29ja2V0KTtcclxuICAgICAgICAgICAgICAgIHJlcXVpcmUoc29ja2V0ICE9PSBudWxsLCBcIkNIRUNLT1VUX0JVVFRPTi5FUlJfU1RSSVBFX0NPVUxEX05PVF9CRV9SRUFDSEVEXCIpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHtlcnJjb2RlLCB1cmx9ID0gKGF3YWl0IEJyaWRnZS50b3VjaChcIi9jaGVja291dFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJzOiBvcmRlcnNbMF1cclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJjb2RlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJjb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IENvbG9yWzBdLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzFdLFxyXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDUsXHJcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIlxyXG4gICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgUGF5IE5vd1xyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlUHJvcHMsXG4gICAgU3ByaXRlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFNwcml0ZUljb25Qcm9wcyA9XG4gICAgJiBTcHJpdGVQcm9wc1xuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBTcHJpdGVJY29uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBTcHJpdGVJY29uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8U3ByaXRlXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiBcIjEgLyAxXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvU3ByaXRlPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGVcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgU3ByaXRlUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgdXJsOiBzdHJpbmdcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBTcHJpdGUoe3VybCwgc3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogU3ByaXRlUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt1cmx9KWAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6IFwiY29udGFpblwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblg6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWTogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgVGFibGVCb2R5UHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZUJvZHkoe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFRhYmxlQm9keVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgVGFibGVDYXB0aW9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIFRhYmxlQ2FwdGlvbih7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogVGFibGVDYXB0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIEZvbnQsXG4gICAgQ29sb3Jcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgVGFibGVIZWFkaW5nUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZUhlYWRpbmcoe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFRhYmxlSGVhZGluZ1Byb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxLjI1ZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IDEwLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlSXRlbVByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gVGFibGVJdGVtKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBUYWJsZUl0ZW1Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlUm93UHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZVJvdyh7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogVGFibGVSb3dQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIFNIQURPVyxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlU3ltYm9sQnV0dG9uUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIGludmVyc2U/OiBib29sZWFuO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFRhYmxlU3ltYm9sQnV0dG9uKHtpbnZlcnNlLCBzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBUYWJsZVN5bWJvbEJ1dHRvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogaW52ZXJzZSA/IENvbG9yWzBdIDogQ29sb3JbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IGludmVyc2UgPyBDb2xvclsxXSA6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUYWJsZVdyYXBwZXJQcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIFRhYmxlV3JhcHBlcih7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogVGFibGVXcmFwcGVyUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJzY3JvbGxcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBUYWJsZVdyYXBwZXIsXG4gICAgVGFibGVSb3csXG4gICAgVGFibGVDYXB0aW9uLFxuICAgIFRhYmxlSXRlbSxcbiAgICBUYWJsZUhlYWRpbmcsXG4gICAgVGFibGVCb2R5XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFRhYmxlUHJvcHMgPSBcbiAgICAmIE9taXQ8Q29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgY2FwdGlvbjogUmVhY3ROb2RlO1xuICAgIGhlYWRpbmdzOiBBcnJheTxSZWFjdE5vZGU+O1xuICAgIGNvbnRlbnRzOiBBcnJheTxBcnJheTxSZWFjdE5vZGU+Pjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBUYWJsZSh7Y2FwdGlvbiwgaGVhZGluZ3MsIGNvbnRlbnRzLCBzdHlsZSwgLi4ubW9yZX06IFRhYmxlUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxUYWJsZVdyYXBwZXI+XG4gICAgICAgICAgICAgICAgPFRhYmxlUm93PlxuICAgICAgICAgICAgICAgICAgICA8VGFibGVDYXB0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAge2NhcHRpb259XG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGVDYXB0aW9uPlxuICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XG4gICAgICAgICAgICAgICAgPFRhYmxlUm93PlxuICAgICAgICAgICAgICAgICAgICB7aGVhZGluZ3MubWFwKGhlYWRpbmcgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlSGVhZGluZz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2hlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUhlYWRpbmc+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L1RhYmxlUm93PlxuICAgICAgICAgICAgICAgIHtjb250ZW50cy5tYXAoaXRlbSA9PiA8PlxuICAgICAgICAgICAgICAgICAgICA8VGFibGVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQm9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVCb2R5PlxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlSXRlbT5cbiAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgPC9UYWJsZVdyYXBwZXI+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgRm9udFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUeXBvZ3JhcGh5UHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIFxufTtcbiBcbmV4cG9ydCBmdW5jdGlvbiBUeXBvZ3JhcGh5KHtcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBUeXBvZ3JhcGh5UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgUm9vdFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKGFwcDogUmVhY3ROb2RlKTogdm9pZCB7XG4gICAgbGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKTtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBcIkVSUl9NSVNTSU5HX1JPT1RfRUxFTUVOVFwiO1xuICAgIH1cbiAgICBSb290KGVsZW1lbnQpLnJlbmRlcihhcHApO1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIE9yZGVyRGF0YSxcbiAgICBQTEFDRUhPTERFUixcbiAgICBCcm93c2VyUm91dGVyLFxuICAgIFJvdXRlcyxcbiAgICBSb3V0ZSxcbiAgICBOYXZQYXJ0aWFsQnVpbGQsXG4gICAgSG9tZVBhZ2UsXG4gICAgRm9yWW91UGFnZSxcbiAgICBCYXNrZXRQYWdlLFxuICAgIHVzZVN0YXRlLFxuICAgIHJlbmRlclxufSBmcm9tIFwiQHdlYlwiO1xuXG5mdW5jdGlvbiBBcHAoKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgb3JkZXJzOiBTdGF0ZTxBcnJheTxPcmRlckRhdGE+PiA9IHVzZVN0YXRlPEFycmF5PE9yZGVyRGF0YT4+KFtdKTtcbiAgICBsZXQgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PiA9IHVzZVN0YXRlPEFycmF5PHN0cmluZz4+KFtdKTtcbiAgICBsZXQgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gICAgbGV0IHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+ID0gdXNlU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PihbXSk7XG4gICAgbGV0IHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPiA9IHVzZVN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4obnVsbCk7XG4gICAgbGV0IHVzZXI6IFN0YXRlPFVzZXJEYXRhIHwgbnVsbD4gPSB1c2VTdGF0ZTxVc2VyRGF0YSB8IG51bGw+KG51bGwpO1xuICAgIGxldCB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICA8Um91dGVzPlxuICAgICAgICAgICAgICAgIDxSb3V0ZVxuICAgICAgICAgICAgICAgICAgICBwYXRoPVwiL1wiXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SG9tZVBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNhcm91c2VsVXJscz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExBQ0VIT0xERVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNhcm91c2VsTXNJbnRlcnZhbFNsZWVwPXszMDAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlQ2Fyb3VzZWxBbmltYXRpb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nPVwiT0ZGQ1VUU1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViSGVhZGluZ3M9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXZpdmUuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmV1c2UuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmVidWlsZC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZHM9e1t7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc6IFwiV2h5IE9mZmN1dHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTdXN0YWluYWJsZSBTb2x1dGlvbnM6IERpdmVydCBjb25zdHJ1Y3Rpb24gd2FzdGUgZnJvbSBsYW5kZmlsbHMgd2hpbGUgc3VwcG9ydGluZyBlY28tZnJpZW5kbHkgcHJhY3RpY2VzLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBZmZvcmRhYmxlIE1hdGVyaWFsczogQWNjZXNzIGhpZ2gtcXVhbGl0eSByZWNsYWltZWQgbWF0ZXJpYWxzIGF0IGEgZnJhY3Rpb24gb2YgdGhlIGNvc3QuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkZhc3QgJiBFYXN5OiBMaXN0LCBidXksIG9yIHJlcXVlc3QgbGVmdHRvdmVyIG1hdGVyaWFscyB3aXRoIGVhc2UuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZzogXCJGb3IgQ29udHJhY3RvcnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUdXJuIHlvdXIgc3VycGx1cyBpbnRvIHByb2ZpdCB3aXRoIHF1aWNrIHBpY2t1cHMgYW5kIGEgc2VhbWxlc3MgbGlzdGluZyBwcm9jZXNzLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc6IFwiRm9yIEJ1eWVyc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkZpbmQgdW5pcXVlLCBzdXN0YWluYWJsZSBtYXRlcmlhbHMgZm9yIHlvdXIgbmV4dCBwcm9qZWN0IC0tIGJpZyBvciBzbWFsbC5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2YmFyPXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2UGFydGlhbEJ1aWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9vdGVyPXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUT0RPXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPn0vPlxuICAgICAgICAgICAgICAgICAgICA8Lz59Lz5cbiAgICAgICAgICAgICAgICA8Um91dGVcbiAgICAgICAgICAgICAgICAgICAgcGF0aD1cIi9mb3JfeW91XCJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudD17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxGb3JZb3VQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2YmFyPXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TmF2UGFydGlhbEJ1aWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcmxzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExBQ0VIT0xERVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXX0vPlxuICAgICAgICAgICAgICAgICAgICA8Lz59Lz5cbiAgICAgICAgICAgICAgICA8Um91dGVcbiAgICAgICAgICAgICAgICAgICAgcGF0aD1cIi9iYXNrZXRcIlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJhc2tldFBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZiYXI9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZQYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFscz17bWF0ZXJpYWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxGb2N1cz17bWF0ZXJpYWxGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJc1NpZ25lZEluPXt1c2VySXNTaWduZWRJbn0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmRlcnM9e29yZGVyc30vPlxuICAgICAgICAgICAgICAgICAgICA8Lz59Lz5cbiAgICAgICAgICAgIDwvUm91dGVzPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgPC8+O1xufVxuXG5yZW5kZXIoPEFwcC8+KTsiCiAgXSwKICAibWFwcGluZ3MiOiAieWZBV0EsU0FDWSxFQUFHLENBQ1gsU0FBUyxDQUF3QixDQUFDLEVBQVksRUFBTSxDQUNsRCxPQUFPLGVBQWUsRUFBVSxVQUFXLEVBQVksQ0FDckQsWUFBYyxFQUFHLENBQ2YsUUFBUSxLQUNOLDhEQUNBLEVBQUssR0FDTCxFQUFLLEVBQ1AsRUFFSixDQUFDLEVBRUgsU0FBUyxDQUFhLENBQUMsRUFBZSxDQUNwQyxHQUFhLElBQVQsYUFBOEMsSUFBcEIsU0FDNUIsT0FBTyxLQUlULE9BSEEsRUFDRyxJQUF5QixFQUFjLEtBQ3hDLEVB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
